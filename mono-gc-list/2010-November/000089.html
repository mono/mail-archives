<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-gc-list] Question regarding adding a new generation to mono's GC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-gc-list%40lists.ximian.com?Subject=%5BMono-gc-list%5D%20Question%20regarding%20adding%20a%20new%20generation%20to%0A%20mono%27s%20GC&In-Reply-To=AANLkTik8SK43jHBntGvM_rfde4-DN2eEnEZdpX8kb6ED%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000088.html">
   <LINK REL="Next"  HREF="000090.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-gc-list] Question regarding adding a new generation to mono's GC</H1>
    <B>J&#233;r&#244;me De Cuyper</B> 
    <A HREF="mailto:mono-gc-list%40lists.ximian.com?Subject=%5BMono-gc-list%5D%20Question%20regarding%20adding%20a%20new%20generation%20to%0A%20mono%27s%20GC&In-Reply-To=AANLkTik8SK43jHBntGvM_rfde4-DN2eEnEZdpX8kb6ED%40mail.gmail.com"
       TITLE="[Mono-gc-list] Question regarding adding a new generation to mono's GC">jerome.decuyper at gmail.com
       </A><BR>
    <I>Sun Nov  7 22:38:44 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000088.html">[Mono-gc-list] Question regarding adding a new generation to mono's GC
</A></li>
        <LI>Next message: <A HREF="000090.html">[Mono-gc-list] Question regarding adding a new generation to mono's GC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89">[ date ]</a>
              <a href="thread.html#89">[ thread ]</a>
              <a href="subject.html#89">[ subject ]</a>
              <a href="author.html#89">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you Ciprian! The design is clear and understood!

I will definitively have a look in the literature but do you have any idea
what would be the main reasons to have an additional generation and what
kind of benefits it would bring?

My guess is:
- delaying a too quick promotion to the older generation may help cleaning
up medium lived objects that otherwise would not be collected until a full
scan is fired
- Gen1 will certainly be smaller than Gen2 and therefore also quicker to
scan.
- having an additional generation may contribute in minimizing the time
occupied by the &quot;stop the world&quot; mechanism
- increase the number of collected unreachable objects before firing a full
scan

Am I in the right track?

On Sat, Nov 6, 2010 at 2:25 AM, Ciprian Mustiata &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">ciprian.mustiata at gmail.com</A>
&gt;<i> wrote:
</I>
&gt;<i> You are right
</I>&gt;<i>
</I>&gt;<i> As of today as SGen works is like this:
</I>&gt;<i> Gen0 (or nursery) and Old Generation split in two: the free list for large
</I>&gt;<i> objects and the old generation.
</I>&gt;<i>
</I>&gt;<i> Your task will consist in following: create Gen1 and you will have the
</I>&gt;<i> following design:
</I>&gt;<i> Gen0: short lived objects
</I>&gt;<i> Gen1: medium lived objects (using bump-pointer)
</I>&gt;<i> Gen2: long lived objects (using bump-pointer)
</I>&gt;<i> GenFreeList: large objects (regardless of generation)
</I>&gt;<i>
</I>&gt;<i> I really hope that your project will evolve nicely and I would love to see
</I>&gt;<i> this addition to Mono runtime
</I>&gt;<i>
</I>&gt;<i> On Sat, Nov 6, 2010 at 1:56 AM, J&#233;r&#244;me De Cuyper &lt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">jerome.decuyper at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> This is my first message on the mono-gc mailing list and I hope I will not
</I>&gt;&gt;<i> break any implicit rule it may have. Otherwise please let me know!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I decided to use my CS thesis as an opportunity to contribute some code to
</I>&gt;&gt;<i> the mono project. Lupus kindly offered the following task:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;we currently have 2 generations: introduce a third one that sits between
</I>&gt;&gt;<i> the nursery and the old generation. It should be a bump-pointer
</I>&gt;&gt;<i> style generation for fast gen0 collections.&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Before starting to dig into the code, I need to justify the change that is
</I>&gt;&gt;<i> proposed. I suppose the purpose of a new generation is to create a  group of
</I>&gt;&gt;<i> objects from
</I>&gt;&gt;<i> a different age in order to recollect as much of them as possible
</I>&gt;&gt;<i> before sending them to the two oldest generations. Is that correct?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please correct me but I'm guessing the new flow of collection would be as
</I>&gt;&gt;<i> follow:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> gen0 - newest objects - bump-pointer based
</I>&gt;&gt;<i> *gen1 - middle aged objects  - bump-pointer based (the new generation)*
</I>&gt;&gt;<i> gen2 - oldest generation - size-segregated freelists
</I>&gt;&gt;<i> gen3 - oldest generation - bump-pointer based
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thank you!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> J&#233;r&#244;me De Cuyper
</I>&gt;&gt;<i> <A HREF="http://www.jdecuyper.com">http://www.jdecuyper.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-gc-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">Mono-gc-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">http://lists.ximian.com/mailman/listinfo/mono-gc-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-gc-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">Mono-gc-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">http://lists.ximian.com/mailman/listinfo/mono-gc-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-gc-list/attachments/20101107/e2d03ac8/attachment.html">http://lists.ximian.com/pipermail/mono-gc-list/attachments/20101107/e2d03ac8/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000088.html">[Mono-gc-list] Question regarding adding a new generation to mono's GC
</A></li>
	<LI>Next message: <A HREF="000090.html">[Mono-gc-list] Question regarding adding a new generation to mono's GC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89">[ date ]</a>
              <a href="thread.html#89">[ thread ]</a>
              <a href="subject.html#89">[ subject ]</a>
              <a href="author.html#89">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-gc-list">More information about the Mono-gc-list
mailing list</a><br>
</body></html>
