<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-gc-list] Tracing GC operations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-gc-list%40lists.ximian.com?Subject=%5BMono-gc-list%5D%20Tracing%20GC%20operations&In-Reply-To=904636f60706081454i3fcb6afah6ae553e573b5d220%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000054.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-gc-list] Tracing GC operations</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-gc-list%40lists.ximian.com?Subject=%5BMono-gc-list%5D%20Tracing%20GC%20operations&In-Reply-To=904636f60706081454i3fcb6afah6ae553e573b5d220%40mail.gmail.com"
       TITLE="[Mono-gc-list] Tracing GC operations">lupus at ximian.com
       </A><BR>
    <I>Mon Jun 11 11:19:37 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000054.html">[Mono-gc-list] Tracing GC operations
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55">[ date ]</a>
              <a href="thread.html#55">[ thread ]</a>
              <a href="subject.html#55">[ subject ]</a>
              <a href="author.html#55">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/08/07 Matt Jones wrote:
&gt;<i> I'm trying to hunt down a threading bug in wine that shows up when some of
</I>&gt;<i> the unit tests from mono are run under wine (so using a windows version of
</I>&gt;<i> mono). The bug shows up during the GC collect cycle (the function is gc_push
</I>&gt;<i> or something like that). It's not a bug in mono per se, but being able to
</I>&gt;<i> trace the operation of the gc would make figuring out what's going on much
</I>&gt;<i> easier. Is there any good tracing facility for this? I've tried &quot;mono
</I>&gt;<i> --trace=System.GC&quot;, but I don't get anything out.
</I>
That will trace only the calls to the managed methods in the GC class.
Setting the env vars GC_DUMP_REGULARLY and GC_PRINT_STATS will generate
GC logging information, though I'm not sure it would be useful in your
case. Likely getting the crash to happen while under gdb and poking
around can be more useful.

&gt;<i> Also, is there any way to control the operation of the GC (such as forcing a
</I>&gt;<i> full pass at a pre-determined time etc.). Part of the problem with the bug
</I>&gt;<i> I'm trying to hunt down is that it occurs very rarely (unsurprising as its
</I>&gt;<i> likely to do with wine's handling of threading), so coming up with a better
</I>&gt;<i> way than running the tests until the bug occurs would be awesome.
</I>
That's not possible without adding specific code to the GC and
recompiling.
You may also want to repost to mono-devel where people that use windows
are more likely to read your email and maybe help more.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">lupus at ximian.com</A>                             Monkeys do it better
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000054.html">[Mono-gc-list] Tracing GC operations
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55">[ date ]</a>
              <a href="thread.html#55">[ thread ]</a>
              <a href="subject.html#55">[ subject ]</a>
              <a href="author.html#55">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-gc-list">More information about the Mono-gc-list
mailing list</a><br>
</body></html>
