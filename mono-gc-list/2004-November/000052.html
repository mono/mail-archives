<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-gc-list] Re: My arguments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cppljevans%40cox-internet.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000051.html">
   <LINK REL="Next"  HREF="000048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-gc-list] Re: My arguments
   </H1>
    <B>Larry Evans
    </B> 
    <A HREF="mailto:cppljevans%40cox-internet.com"
       TITLE="[Mono-gc-list] Re: My arguments">cppljevans@cox-internet.com
       </A><BR>
    <I>Wed, 24 Nov 2004 13:30:57 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="000051.html">[Mono-gc-list] Re: My arguments
</A></li>
        <LI> Next message: <A HREF="000048.html">[Mono-gc-list] Volunteer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52">[ date ]</a>
              <a href="thread.html#52">[ thread ]</a>
              <a href="subject.html#52">[ subject ]</a>
              <a href="author.html#52">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/22/2004 09:08 AM, Paolo Molaro wrote:
[snip]
&gt;<i> I was talking about tracking the pointers in the stack or registers
</I>&gt;<i> of a thread. Doing it precisely for the heap is easy. Doing it for the stack
</I>&gt;<i> is much harder, since it needs the jit to properly report them
</I>
Assume that a gc__ managed c++ class, Base, has a virtual function which
tracks the contained heap pointers.  When Base::CTOR is called, the
vtbl has an entry for the Base heap pointer.  However, if Base is
actually part of Derived, then when Derived::CTOR is called this
virtual function tracks the heap pointers for both Base and Derived.
This seems analagous to stack frames.  If, at the top of all stack
frames, there's a function pointer to track the heap pointers in
the stack, then as each new stack frame is entered, the pointer
is updated to reflect the newly stacked frame as well as all
previous frames.  Couldn't the virtual function implementation
in c++ also be used by the compiler to track heap pointers on
the stack?   IOW, if it's easy to track pointers in a class,
then, based on the above analogy, it would seem pretty easy to
adapt the compiler to do it for the stack.  Am I missing something?

Thanks,
Larry.


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000051.html">[Mono-gc-list] Re: My arguments
</A></li>
	<LI> Next message: <A HREF="000048.html">[Mono-gc-list] Volunteer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52">[ date ]</a>
              <a href="thread.html#52">[ thread ]</a>
              <a href="subject.html#52">[ subject ]</a>
              <a href="author.html#52">[ author ]</a>
         </LI>
       </UL>
</body></html>
