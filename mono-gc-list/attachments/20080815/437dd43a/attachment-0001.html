<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;You&nbsp;can&nbsp;use&nbsp;the&nbsp;suppresion&nbsp;file&nbsp;for&nbsp;running&nbsp;mono&nbsp;under&nbsp;valgrind,&nbsp;it&amp;#39;s&nbsp;mono/data/mono.supp.&nbsp;It&nbsp;helps&lt;br&gt;a&nbsp;lot&nbsp;by&nbsp;reducing&nbsp;the&nbsp;noise.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Aug&nbsp;15,&nbsp;2008&nbsp;at&nbsp;11:26&nbsp;AM,&nbsp;Charlie.M&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:charlie.mas@gmail.com&quot;&gt;charlie.mas@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;br&gt;<br>
Hi&nbsp;all,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;currently&nbsp;trying&nbsp;to&nbsp;debug&nbsp;some&nbsp;code&nbsp;C#&nbsp;I&nbsp;have&nbsp;written.&nbsp;Its&nbsp;a&nbsp;wrapper&lt;br&gt;<br>
around&nbsp;a&nbsp;native&nbsp;library&nbsp;(LibVorbis),&nbsp;I&nbsp;have&nbsp;it&nbsp;working&nbsp;on&nbsp;Windows&nbsp;with&nbsp;.net&lt;br&gt;<br>
fine&nbsp;but&nbsp;when&nbsp;I&nbsp;run&nbsp;it&nbsp;on&nbsp;Mono&nbsp;it&nbsp;Seg&nbsp;Faults.&nbsp;At&nbsp;the&nbsp;moment&nbsp;I&nbsp;think&nbsp;its&lt;br&gt;<br>
likely&nbsp;to&nbsp;be&nbsp;a&nbsp;bug&nbsp;in&nbsp;my&nbsp;code&nbsp;which&nbsp;windows&nbsp;tolerates&nbsp;and&nbsp;Linux&nbsp;doesn&amp;#39;t.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;tried&nbsp;to&nbsp;find&nbsp;the&nbsp;problem&nbsp;by&nbsp;running&nbsp;my&nbsp;app&nbsp;in&nbsp;Valgrind.&nbsp;Unfortunately&nbsp;it&lt;br&gt;<br>
produces&nbsp;a&nbsp;large&nbsp;number&nbsp;of&nbsp;false&nbsp;positives&nbsp;during&nbsp;normal&nbsp;operation&nbsp;with&lt;br&gt;<br>
Mono,&nbsp;I&nbsp;assume&nbsp;Mono&amp;#39;s&nbsp;GC&nbsp;confuses&nbsp;Valgrind.&nbsp;It&nbsp;also&nbsp;doesn&amp;#39;t&nbsp;appear&nbsp;to&nbsp;show&lt;br&gt;<br>
an&nbsp;obvious&nbsp;source&nbsp;of&nbsp;my&nbsp;problems.&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;happens&nbsp;in&nbsp;the&nbsp;latest&nbsp;release&nbsp;of&nbsp;Mono.&nbsp;However&nbsp;recently&nbsp;I&nbsp;have&nbsp;switched&lt;br&gt;<br>
to&nbsp;using&nbsp;a&nbsp;build&nbsp;I&nbsp;made&nbsp;from&nbsp;SVN&nbsp;and&nbsp;I&nbsp;have&nbsp;also&nbsp;built&nbsp;and&nbsp;installed&nbsp;the&lt;br&gt;<br>
mono&nbsp;debugger.&nbsp;I&nbsp;have&nbsp;been&nbsp;using&nbsp;a&nbsp;recent&nbsp;SVN&nbsp;build&nbsp;of&nbsp;Mono&nbsp;Develop&nbsp;which&lt;br&gt;<br>
includes&nbsp;its&nbsp;new&nbsp;debugger,&nbsp;both&nbsp;for&nbsp;Mono&nbsp;and&nbsp;Native&nbsp;code.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;Managed&nbsp;stack&nbsp;trace&nbsp;from&nbsp;where&nbsp;my&nbsp;code&nbsp;crashes&nbsp;seems&nbsp;to&nbsp;be&nbsp;completely&lt;br&gt;<br>
random,&nbsp;so&nbsp;I&nbsp;assume&nbsp;its&nbsp;getting&nbsp;screwed&nbsp;up&nbsp;somewhere&nbsp;before&nbsp;it&nbsp;actually&lt;br&gt;<br>
segfaults.&nbsp;However&nbsp;it&nbsp;always&nbsp;segfaults&nbsp;when&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;is&nbsp;running&lt;br&gt;<br>
the&nbsp;GC_mark_from&nbsp;function&nbsp;at&nbsp;line&nbsp;724&nbsp;of&nbsp;mark.c&nbsp;according&nbsp;to&nbsp;the&nbsp;Mono&lt;br&gt;<br>
Develop&nbsp;debugger.&lt;br&gt;<br>
&lt;br&gt;<br>
Can&nbsp;someone&nbsp;who&amp;#39;s&nbsp;familiar&nbsp;with&nbsp;the&nbsp;Mono&amp;#39;s&nbsp;GC&nbsp;tell&nbsp;me&nbsp;what&nbsp;its&nbsp;doing&nbsp;at&nbsp;this&lt;br&gt;<br>
point.&nbsp;Also&nbsp;is&nbsp;it&nbsp;possible&nbsp;to&nbsp;figure&nbsp;out&nbsp;which&nbsp;structure&nbsp;/&nbsp;object&nbsp;is&nbsp;causing&lt;br&gt;<br>
the&nbsp;GC&nbsp;problems.&nbsp;Any&nbsp;other&nbsp;suggestions&nbsp;would&nbsp;be&nbsp;greatly&nbsp;appreciated.&lt;br&gt;<br>
&lt;br&gt;<br>
Charlie&nbsp;M&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/Help-with-Debuging-Interop-Code-with-Mono-tp18999561p18999561.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.nabble.com/Help-with-Debuging-Interop-Code-with-Mono-tp18999561p18999561.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;Garbage&nbsp;Collection&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-gc-list&nbsp;maillist&nbsp;&amp;nbsp;-&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-gc-list@lists.ximian.com&quot;&gt;Mono-gc-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-gc-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-gc-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
