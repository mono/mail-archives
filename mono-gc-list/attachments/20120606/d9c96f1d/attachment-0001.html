<tt>
&lt;div&gt;Hi&nbsp;again,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Actually,&nbsp;I&nbsp;was&nbsp;searching&nbsp;more&nbsp;about&nbsp;it&nbsp;and&nbsp;I&nbsp;really&nbsp;cannot&nbsp;find&nbsp;by&nbsp;googling&nbsp;or&nbsp;elsewhere&nbsp;(i.e.&nbsp;scrounging&nbsp;MSDN&nbsp;documentations)&nbsp;and&nbsp;I&nbsp;couldn&#39;t&nbsp;find&nbsp;an&nbsp;example&nbsp;of&nbsp;what&nbsp;would&nbsp;be&nbsp;a&nbsp;&quot;proper&quot;&nbsp;use&nbsp;of&nbsp;memory&nbsp;pressure&nbsp;apart&nbsp;from&nbsp;the&nbsp;one&nbsp;I&nbsp;described.&nbsp;The&nbsp;MSDN&nbsp;docs&nbsp;even&nbsp;mention&nbsp;&quot;<br>
&lt;span&nbsp;style=&quot;font-family:&#39;Segoe&nbsp;UI&#39;,Verdana,Arial;font-size:13px;text-align:left&quot;&gt;In&nbsp;the&nbsp;simplest&nbsp;usage&nbsp;pattern,&nbsp;a&nbsp;managed&nbsp;object&nbsp;allocates&nbsp;unmanaged&nbsp;memory&nbsp;in&nbsp;the&nbsp;constructor&nbsp;and&nbsp;releases&nbsp;it&nbsp;in&nbsp;the &lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&#39;Segoe&nbsp;UI&#39;,Verdana,Arial;font-size:13px;text-align:left&quot;&gt;&lt;span&nbsp;class=&quot;input&quot;&nbsp;style=&quot;font-weight:700&quot;&gt;Dispose&lt;/span&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&#39;Segoe&nbsp;UI&#39;,Verdana,Arial;font-size:13px;text-align:left&quot;&gt; or &lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&#39;Segoe&nbsp;UI&#39;,Verdana,Arial;font-size:13px;text-align:left&quot;&gt;&lt;span&nbsp;class=&quot;input&quot;&nbsp;style=&quot;font-weight:700&quot;&gt;Finalize&lt;/span&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&#39;Segoe&nbsp;UI&#39;,Verdana,Arial;font-size:13px;text-align:left&quot;&gt; method.&quot;&lt;/span&gt;&lt;div&gt;<br>
&lt;div&nbsp;style=&quot;text-align:left&quot;&gt;&lt;font&nbsp;face=&quot;Segoe&nbsp;UI,&nbsp;Verdana,&nbsp;Arial&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;Could&nbsp;you&nbsp;maybe&nbsp;give&nbsp;me&nbsp;a&nbsp;practical&nbsp;example&nbsp;of&nbsp;what&nbsp;you&nbsp;would&nbsp;find&nbsp;a&nbsp;good&nbsp;and&nbsp;valid&nbsp;use&nbsp;of&nbsp;memory&nbsp;pressure&nbsp;so&nbsp;I&nbsp;can&nbsp;have&nbsp;a&nbsp;better&nbsp;idea&nbsp;of&nbsp;what&nbsp;you&nbsp;have&nbsp;in&nbsp;mind?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;again,&lt;/div&gt;&lt;div&gt;G&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;P.S.:&nbsp;I&nbsp;just&nbsp;realized&nbsp;that&nbsp;by&nbsp;accident&nbsp;I&nbsp;was&nbsp;replying&nbsp;directly&nbsp;to&nbsp;a&nbsp;personal&nbsp;e-mail&nbsp;account&nbsp;rather&nbsp;than&nbsp;to&nbsp;the&nbsp;mailing&nbsp;list,&nbsp;so&nbsp;please&nbsp;consider&nbsp;the&nbsp;attached&nbsp;mailing&nbsp;history&nbsp;as&nbsp;well.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;5&nbsp;June&nbsp;2012&nbsp;18:06,&nbsp;Gonçalo&nbsp;Lopes&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:goncaloclopes@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;goncaloclopes@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Sorry,&nbsp;just&nbsp;noticed&nbsp;an&nbsp;important&nbsp;typo....&nbsp;where&nbsp;it&nbsp;reads&nbsp;&quot;<br>
&lt;span&gt;Conceptually,&nbsp;they&nbsp;are&nbsp;every&nbsp;bit&nbsp;as&nbsp;valid&nbsp;for&nbsp;a&nbsp;GC&nbsp;as&nbsp;a&nbsp;native&nbsp;object...&quot;&nbsp;should&nbsp;be&nbsp;read&nbsp;&quot;&lt;/span&gt;&lt;span&gt;Conceptually,&nbsp;they&nbsp;are&nbsp;every&nbsp;bit&nbsp;as&nbsp;valid&nbsp;for&nbsp;a&nbsp;GC&nbsp;as&nbsp;a&nbsp;&lt;b&gt;managed&lt;/b&gt;&nbsp;object...&quot;.&lt;/span&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;<br>
<br>
&lt;font&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;font&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;G&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;5&nbsp;June&nbsp;2012&nbsp;18:03,&nbsp;Gonçalo&nbsp;Lopes&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:goncaloclopes@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;goncaloclopes@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;First&nbsp;for&nbsp;all,&nbsp;thanks&nbsp;for&nbsp;your&nbsp;input,&nbsp;I&nbsp;always&nbsp;love&nbsp;to&nbsp;discuss&nbsp;these&nbsp;things.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;agree&nbsp;with&nbsp;most&nbsp;of&nbsp;your&nbsp;points&nbsp;but&nbsp;there&nbsp;are&nbsp;added&nbsp;difficulties&nbsp;which&nbsp;make&nbsp;the&nbsp;problem&nbsp;harder.&nbsp;First&nbsp;of&nbsp;all,&nbsp;just&nbsp;to&nbsp;make&nbsp;it&nbsp;clear&nbsp;that&nbsp;my&nbsp;specific&nbsp;problem&nbsp;concerns&nbsp;the&nbsp;design&nbsp;of&nbsp;a&nbsp;general-purpose&nbsp;and&nbsp;modular&nbsp;asynchronous&nbsp;data&nbsp;processing&nbsp;framework,&nbsp;so&nbsp;I&nbsp;can&#39;t&nbsp;benefit&nbsp;from&nbsp;application-specific&nbsp;or&nbsp;even&nbsp;composition-specific&nbsp;solutions&nbsp;that&nbsp;would&nbsp;address&nbsp;this&nbsp;problem.&nbsp;Second&nbsp;of&nbsp;all,&nbsp;the&nbsp;asynchronous&nbsp;nature&nbsp;of&nbsp;the&nbsp;framework&nbsp;makes&nbsp;it&nbsp;much&nbsp;harder&nbsp;to&nbsp;design&nbsp;a&nbsp;contract&nbsp;that&nbsp;would&nbsp;work&nbsp;seamlessly&nbsp;across&nbsp;all&nbsp;data&nbsp;types&nbsp;of&nbsp;the&nbsp;framework&nbsp;without&nbsp;making&nbsp;everything&nbsp;too&nbsp;cumbersome&nbsp;for&nbsp;the&nbsp;user. Simplicity&nbsp;and&nbsp;rapid&nbsp;prototyping&nbsp;are&nbsp;one&nbsp;of&nbsp;its&nbsp;main&nbsp;goals&nbsp;and&nbsp;tenets,&nbsp;and&nbsp;that&#39;s&nbsp;every&nbsp;bit&nbsp;as&nbsp;important&nbsp;for&nbsp;my&nbsp;scenario&nbsp;as&nbsp;performance.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sorry&nbsp;for&nbsp;not&nbsp;being&nbsp;clear&nbsp;about&nbsp;immutability,&nbsp;and&nbsp;I&nbsp;grant&nbsp;you&nbsp;your&nbsp;point&nbsp;about&nbsp;that&nbsp;property&nbsp;having&nbsp;nothing&nbsp;to&nbsp;do&nbsp;with&nbsp;a&nbsp;GC.&nbsp;However,&nbsp;there&nbsp;is&nbsp;indeed&nbsp;a&nbsp;reason&nbsp;why&nbsp;functional&nbsp;languages&nbsp;do&nbsp;require&nbsp;a&nbsp;GC&nbsp;for&nbsp;being&nbsp;of&nbsp;any&nbsp;use.&nbsp;I&nbsp;just&nbsp;have&nbsp;not&nbsp;seen&nbsp;any&nbsp;single&nbsp;example&nbsp;of&nbsp;a&nbsp;functional&nbsp;programming&nbsp;language&nbsp;that&nbsp;does&nbsp;not&nbsp;heavily&nbsp;use&nbsp;collection,&nbsp;even&nbsp;when&nbsp;operating&nbsp;very&nbsp;close&nbsp;to&nbsp;C++&nbsp;like&nbsp;D.&nbsp;The&nbsp;reason&nbsp;is&nbsp;that&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;allow&nbsp;for&nbsp;composition&nbsp;in&nbsp;the&nbsp;functionally&nbsp;elegant&nbsp;style&nbsp;you&nbsp;simply&nbsp;must&nbsp;let&nbsp;go&nbsp;of&nbsp;handling&nbsp;the&nbsp;transients.&nbsp;I&nbsp;would&nbsp;say&nbsp;that&#39;s&nbsp;one&nbsp;of&nbsp;the&nbsp;main&nbsp;points&nbsp;for&nbsp;these&nbsp;languages&nbsp;actually.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&nbsp;said,&nbsp;I&nbsp;am&nbsp;in&nbsp;fact&nbsp;concerned&nbsp;with&nbsp;performance,&nbsp;but&nbsp;my&nbsp;statements&nbsp;before&nbsp;were&nbsp;in&nbsp;the&nbsp;direction&nbsp;of&nbsp;claiming&nbsp;that&nbsp;the&nbsp;pressured&nbsp;GC&nbsp;can&nbsp;indeed&nbsp;be&nbsp;performant&nbsp;under&nbsp;most&nbsp;of&nbsp;the&nbsp;scenarios&nbsp;in&nbsp;which&nbsp;the&nbsp;framework&nbsp;is&nbsp;and&nbsp;has&nbsp;been&nbsp;used.&nbsp;Again,&nbsp;we&#39;re&nbsp;talking&nbsp;about&nbsp;transient&nbsp;intermediate&nbsp;objects,&nbsp;meaning&nbsp;objects&nbsp;that&nbsp;will&nbsp;most&nbsp;likely&nbsp;not&nbsp;survive&nbsp;a&nbsp;gen&nbsp;0&nbsp;collection.&nbsp;This&nbsp;effectively&nbsp;means&nbsp;the&nbsp;pressured&nbsp;GC&#39;s&nbsp;decision&nbsp;to&nbsp;collect&nbsp;is&nbsp;more&nbsp;likely&nbsp;than&nbsp;not&nbsp;always&nbsp;correct&nbsp;and&nbsp;will&nbsp;target&nbsp;the&nbsp;right&nbsp;objects,&nbsp;by&nbsp;virtue&nbsp;of&nbsp;they&nbsp;being&nbsp;short-lived.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Also,&nbsp;the&nbsp;argument&nbsp;for&nbsp;whether&nbsp;native&nbsp;resource&nbsp;management&nbsp;should&nbsp;be&nbsp;transparent&nbsp;or&nbsp;not,&nbsp;in&nbsp;my&nbsp;scenario&nbsp;the&nbsp;arguments&nbsp;for&nbsp;this&nbsp;are&nbsp;exactly&nbsp;the&nbsp;same&nbsp;as&nbsp;for&nbsp;why&nbsp;it&#39;s&nbsp;useful&nbsp;to&nbsp;have&nbsp;a&nbsp;GC&nbsp;in&nbsp;the&nbsp;first&nbsp;place.&nbsp;It&nbsp;is&nbsp;possible&nbsp;to&nbsp;compose&nbsp;applications&nbsp;in&nbsp;C/C++&nbsp;and&nbsp;other&nbsp;languages&nbsp;where&nbsp;you&nbsp;have&nbsp;to&nbsp;explicitly&nbsp;handle&nbsp;all&nbsp;the&nbsp;memory,&nbsp;but&nbsp;again,&nbsp;there&nbsp;is&nbsp;a&nbsp;reason&nbsp;why&nbsp;people&nbsp;tried&nbsp;to&nbsp;move&nbsp;beyond&nbsp;this,&nbsp;even&nbsp;under&nbsp;exactly&nbsp;performance-related&nbsp;criticism.&nbsp; My&nbsp;resources&nbsp;are&nbsp;not&nbsp;TCP&nbsp;connections,&nbsp;file&nbsp;handles&nbsp;or&nbsp;structures&nbsp;with&nbsp;other&nbsp;complex&nbsp;side-effects.&nbsp;Conceptually,&nbsp;they&nbsp;are&nbsp;every&nbsp;bit&nbsp;as&nbsp;valid&nbsp;for&nbsp;a&nbsp;GC&nbsp;as&nbsp;a&nbsp;native&nbsp;object,&nbsp;with&nbsp;the&nbsp;exception&nbsp;they&nbsp;do&nbsp;not&nbsp;live&nbsp;in&nbsp;the&nbsp;managed&nbsp;heap.&nbsp;Granted,&nbsp;this&nbsp;fact&nbsp;alone&nbsp;bears&nbsp;a&nbsp;whole&nbsp;host&nbsp;of&nbsp;potential&nbsp;implications,&nbsp;but&nbsp;following&nbsp;the&nbsp;tenet&nbsp;of&nbsp;&quot;premature&nbsp;optimization&nbsp;is&nbsp;the&nbsp;root&nbsp;of&nbsp;all&nbsp;evil&quot;&nbsp;I&nbsp;have&nbsp;yet&nbsp;to&nbsp;see&nbsp;any&nbsp;performance&nbsp;related&nbsp;issues&nbsp;related&nbsp;specifically&nbsp;to&nbsp;this&nbsp;point&nbsp;after&nbsp;5-years&nbsp;of&nbsp;heavily&nbsp;using&nbsp;this&nbsp;approach&nbsp;in&nbsp;.NET&nbsp;windows&nbsp;machines&nbsp;for&nbsp;everything&nbsp;from&nbsp;multi-sensory&nbsp;acquisition,&nbsp;computer&nbsp;graphics&nbsp;and&nbsp;computation-intensive&nbsp;processing.&nbsp;Agree&nbsp;that&nbsp;that&nbsp;doesn&#39;t&nbsp;mean&nbsp;the&nbsp;problem&nbsp;is&nbsp;not&nbsp;there,&nbsp;just&nbsp;that&nbsp;it&nbsp;never&nbsp;showed&nbsp;up&nbsp;in&nbsp;the&nbsp;many&nbsp;difficult&nbsp;use&nbsp;cases&nbsp;we&nbsp;put&nbsp;it&nbsp;through.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Finally,&nbsp;I&nbsp;have&nbsp;in&nbsp;fact&nbsp;considered&nbsp;many&nbsp;times&nbsp;in&nbsp;the&nbsp;past&nbsp;moving&nbsp;away&nbsp;from&nbsp;the&nbsp;current&nbsp;functional-oriented&nbsp;paradigm&nbsp;to&nbsp;a&nbsp;more&nbsp;explicit&nbsp;memory&nbsp;model&nbsp;where&nbsp;the&nbsp;user&nbsp;has&nbsp;to&nbsp;provide&nbsp;specific&nbsp;nodes&nbsp;for&nbsp;processing&nbsp;the&nbsp;images.&nbsp;However,&nbsp;this&nbsp;would&nbsp;make&nbsp;image&nbsp;processing&nbsp;such&nbsp;a&nbsp;deviant&nbsp;special&nbsp;case&nbsp;in&nbsp;the&nbsp;framework,&nbsp;and&nbsp;would&nbsp;make&nbsp;everything&nbsp;so&nbsp;much&nbsp;harder&nbsp;for&nbsp;the&nbsp;user,&nbsp;that&nbsp;I&nbsp;just&nbsp;couldn&#39;t&nbsp;bring&nbsp;myself&nbsp;to&nbsp;do&nbsp;it&nbsp;until&nbsp;I&nbsp;really&nbsp;see&nbsp;a&nbsp;need&nbsp;for&nbsp;it.&nbsp;But&nbsp;I&#39;m&nbsp;still&nbsp;very&nbsp;much&nbsp;thinking&nbsp;of&nbsp;how&nbsp;it&nbsp;could&nbsp;be&nbsp;done&nbsp;and&nbsp;I&#39;m&nbsp;sure&nbsp;it&nbsp;definitely&nbsp;can&nbsp;be&nbsp;done,&nbsp;just&nbsp;not&nbsp;in&nbsp;a&nbsp;form&nbsp;that&nbsp;I&#39;m&nbsp;currently&nbsp;happy&nbsp;with.&nbsp;The&nbsp;one&nbsp;thing&nbsp;I&#39;m&nbsp;fairly&nbsp;confident&nbsp;is&nbsp;that&nbsp;whatever&nbsp;the&nbsp;solution&nbsp;is&nbsp;it&nbsp;should&nbsp;not&nbsp;transpire&nbsp;back&nbsp;to&nbsp;the&nbsp;composer&nbsp;layer.&nbsp;At&nbsp;most,&nbsp;it&nbsp;will&nbsp;imply&nbsp;a&nbsp;custom&nbsp;memory&nbsp;pool&nbsp;for&nbsp;image&nbsp;allocation&nbsp;and&nbsp;deallocation&nbsp;which&nbsp;will&nbsp;have&nbsp;its&nbsp;own&nbsp;GC-like&nbsp;strategy...&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;All&nbsp;the&nbsp;best&nbsp;and&nbsp;thanks&nbsp;again&nbsp;for&nbsp;all&nbsp;the&nbsp;feedback,&nbsp;really&nbsp;appreciate&nbsp;it&nbsp;:-)&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;G&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;5&nbsp;June&nbsp;2012&nbsp;16:19,&nbsp;Rodrigo&nbsp;Kumpera&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:kumpera@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;kumpera@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;On&nbsp;Tue,&nbsp;Jun&nbsp;5,&nbsp;2012&nbsp;at&nbsp;11:56&nbsp;AM,&nbsp;glopes&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:goncaloclopes@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;goncaloclopes@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&nbsp;understand&nbsp;completely&nbsp;why&nbsp;people&nbsp;would&nbsp;think&nbsp;that,&nbsp;I&nbsp;honestly&nbsp;do,&nbsp;but&nbsp;I&nbsp;confess&nbsp;I&#39;m&nbsp;at&nbsp;a&nbsp;loss&nbsp;why&nbsp;it&nbsp;should&nbsp;be&nbsp;a&nbsp;problem&nbsp;at&nbsp;a&nbsp;conceptual&nbsp;level,&nbsp;or&nbsp;why&nbsp;it&nbsp;MemoryPressure&nbsp;shouldn&#39;t&nbsp;be&nbsp;used&nbsp;this&nbsp;way.&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt;<br>
We&#39;re&nbsp;talking&nbsp;about&nbsp;highly&nbsp;transient&nbsp;native&nbsp;resources&nbsp;(e.g.&nbsp;images),&nbsp;which&nbsp;are&nbsp;completely&nbsp;tied&nbsp;to&nbsp;a&nbsp;managed&nbsp;representation&nbsp;which&nbsp;I&#39;m&nbsp;using&nbsp;to&nbsp;compose&nbsp;modular&nbsp;high-throughput&nbsp;data&nbsp;processing&nbsp;pipelines.&nbsp;In&nbsp;the&nbsp;end&nbsp;it&#39;s&nbsp;not&nbsp;as&nbsp;different&nbsp;from&nbsp;just&nbsp;allocating&nbsp;an&nbsp;array&nbsp;of&nbsp;bytes.&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;precisely&nbsp;the&nbsp;problem.&nbsp;The&nbsp;GC&nbsp;deals&nbsp;with&nbsp;managed&nbsp;resources&nbsp;only&nbsp;and&nbsp;the&nbsp;MemoryPressure&nbsp;API&nbsp;completely&nbsp;unties&nbsp;one&nbsp;from&nbsp;the&nbsp;other.&lt;/div&gt;&lt;div&gt;So,&nbsp;when&nbsp;should&nbsp;a&nbsp;collection&nbsp;based&nbsp;on&nbsp;the&nbsp;current&nbsp;managed&nbsp;and&nbsp;unmanaged&nbsp;pressure?&nbsp;Will&nbsp;a&nbsp;minor&nbsp;collection&nbsp;be&nbsp;enough&nbsp;to alleviate the&nbsp;current&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt;native&nbsp;one?&nbsp;Or&nbsp;should&nbsp;it&nbsp;perform&nbsp;a&nbsp;major&nbsp;GC?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;only&nbsp;answer&nbsp;you&nbsp;can&nbsp;drawn&nbsp;from&nbsp;those&nbsp;design&nbsp;questions&nbsp;is&nbsp;that&nbsp;AddMemoryPressure&nbsp;can&nbsp;increase&nbsp;collection&nbsp;frequency&nbsp;significantly,&nbsp;which&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
does&nbsp;reduce&nbsp;throughput.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Explicitly&nbsp;disposing&nbsp;is&nbsp;doable&nbsp;in&nbsp;almost&nbsp;all&nbsp;scenarios&nbsp;given&nbsp;one&nbsp;thinks&nbsp;enough&nbsp;on&nbsp;the&nbsp;problem.&nbsp;I&#39;ve&nbsp;seen&nbsp;this&nbsp;same&nbsp;story&nbsp;many&nbsp;times&nbsp;in&nbsp;all&nbsp;sorts&lt;/div&gt;&lt;div&gt;of&nbsp;managed&nbsp;langages&nbsp;and&nbsp;having&nbsp;user&nbsp;code&nbsp;do&nbsp;its&nbsp;job&nbsp;always&nbsp;results&nbsp;in&nbsp;a&nbsp;better&nbsp;solution.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;Also,&nbsp;from&nbsp;a&nbsp;functional&nbsp;perspective&nbsp;of&nbsp;composability,&nbsp;it&#39;s&nbsp;not&nbsp;just&nbsp;a&nbsp;mild&nbsp;convenience,&nbsp;as&nbsp;garbage&nbsp;collection&nbsp;is&nbsp;what&nbsp;allows&nbsp;the&nbsp;immutability&nbsp;of&nbsp;objects&nbsp;to&nbsp;be&nbsp;preserved&nbsp;across&nbsp;calls.&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;lost&nbsp;here.&nbsp;A&nbsp;garbage&nbsp;collector&nbsp;has&nbsp;nothing&nbsp;do&nbsp;to&nbsp;with&nbsp;object immutability.&nbsp;User&nbsp;code&nbsp;that&nbsp;doesn&#39;t&nbsp;change&nbsp;such&nbsp;objects&nbsp;is.&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
<br>
&lt;div&gt;In&nbsp;a&nbsp;modular&nbsp;pipeline,&nbsp;there&#39;s&nbsp;no&nbsp;one&nbsp;who&nbsp;knows&nbsp;when&nbsp;it&#39;s&nbsp;safe&nbsp;to&nbsp;dispose&nbsp;an&nbsp;image,&nbsp;as&nbsp;it&nbsp;depends&nbsp;for&nbsp;how&nbsp;long&nbsp;this&nbsp;image&nbsp;will&nbsp;be&nbsp;thrown&nbsp;around,&nbsp;which&nbsp;in&nbsp;turn&nbsp;depends&nbsp;on&nbsp;the&nbsp;specific&nbsp;pipeline&nbsp;you&#39;re&nbsp;running&nbsp;it&nbsp;through.&nbsp;It&#39;s&nbsp;the&nbsp;same&nbsp;with&nbsp;LINQ&nbsp;queries,&nbsp;when&nbsp;you&nbsp;handle&nbsp;transient&nbsp;intermediate&nbsp;projections&nbsp;during&nbsp;complex&nbsp;queries,&nbsp;you&nbsp;don&#39;t&nbsp;really&nbsp;want&nbsp;to&nbsp;handle&nbsp;responsibility&nbsp;to&nbsp;anyone&nbsp;in&nbsp;particular&nbsp;as&nbsp;to&nbsp;how&nbsp;that&nbsp;projection&nbsp;will&nbsp;end&nbsp;up&nbsp;being&nbsp;used,&nbsp;as&nbsp;this&nbsp;will&nbsp;screw&nbsp;modularity&nbsp;and&nbsp;composability.&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;grows&nbsp;from&nbsp;the&nbsp;wrong&nbsp;assumption&nbsp;that&nbsp;native&nbsp;resource&nbsp;management&nbsp;is&nbsp;or&nbsp;should&nbsp;be&nbsp;transparent.&nbsp;If&nbsp;you&nbsp;extend&nbsp;resource&nbsp;management&nbsp;to&nbsp;be&lt;/div&gt;&lt;div&gt;part&nbsp;of&nbsp;the&nbsp;contract&nbsp;you&nbsp;expose,&nbsp;it&nbsp;will&nbsp;compose&nbsp;as&nbsp;well&nbsp;as&nbsp;everything&nbsp;else.&nbsp;This&nbsp;works&nbsp;just&nbsp;fine&nbsp;with&nbsp;iterators,&nbsp;for&nbsp;example.&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt; &lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
