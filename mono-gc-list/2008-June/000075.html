<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-gc-list] GC and multiple inheritance as in C++
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-gc-list%40lists.ximian.com?Subject=%5BMono-gc-list%5D%20GC%20and%20multiple%20inheritance%20as%20in%20C%2B%2B&In-Reply-To=3ca2f2b20806121836p29a4b5dfv27b186dd54a9a52d%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000077.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-gc-list] GC and multiple inheritance as in C++</H1>
    <B>Jason Whittington</B> 
    <A HREF="mailto:mono-gc-list%40lists.ximian.com?Subject=%5BMono-gc-list%5D%20GC%20and%20multiple%20inheritance%20as%20in%20C%2B%2B&In-Reply-To=3ca2f2b20806121836p29a4b5dfv27b186dd54a9a52d%40mail.gmail.com"
       TITLE="[Mono-gc-list] GC and multiple inheritance as in C++">jasonw at develop.com
       </A><BR>
    <I>Fri Jun 13 14:46:43 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000077.html">[Mono-gc-list] GC and multiple inheritance as in C++
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75">[ date ]</a>
              <a href="thread.html#75">[ thread ]</a>
              <a href="subject.html#75">[ subject ]</a>
              <a href="author.html#75">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I believe the answer here is: &quot;no&quot;.   MI languages have to find a way to
fake it.

 

Microsoft's C++/CLI fakes it by not allowing MI for managed types.   MI
classes are represented as value types in the CLI and thus don't behave with
&quot;true&quot; polymorphism.  They do in the sense that C++ code compiled together
works correctly, but to other languages the inheritance is opaque - calling
GetType().BaseType will just yield System.ValueType.

 

The CLR port of Eiffel fakes it by using a [somewhat complex and arcane]
scheme where inheritance in Eiffel is modeled with interfaces in .NET.

 

Jason

 

 

From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">mono-gc-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">mono-gc-list-bounces at lists.ximian.com</A>] On Behalf Of Juro Jon
Sent: Thursday, June 12, 2008 8:36 PM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">mono-gc-list at lists.ximian.com</A>
Subject: Re: [Mono-gc-list] GC and multiple inheritance as in C++

 

I don't know much of CLI specification so I may be missing something
trivial. Java GC assumes that all pointers point to some &quot;header&quot; to
identity the memory object. Since Java is single inheritance a pointer
always points to the head of a full object, but for C++ multiple inheritance
it may be pointing to an embedded part and need to be adjusted to find the
full object. Are you saying that the CLI GC or typesystem has some way to do
this adjustment?

Thanks

On Fri, Jun 13, 2008 at 3:50 AM, David Jeske &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-gc-list">jeske at willowmail.com</A>&gt; wrote:

AFAIK, you don't need C++ MI to have a pointer to something inside an object
body. This can happen if you take a ref of any instance data in C#.

<A HREF="http://www.java2s.com/Code/CSharp/Language-Basics/CRefandOutParameters.htm">http://www.java2s.com/Code/CSharp/Language-Basics/CRefandOutParameters.htm</A>


-- Juro Jon wrote:
&gt;<i> Hello, I have a question concerning implementation of multiple inheritance
</I>in
&gt;<i> CIL. For a C++ MI object, a pointer can points to inside the object body
</I>&gt;<i> instead of the its head. eg.
</I>&gt;<i> struct A : B, C { };  C* c = new A;
</I>&gt;<i> While Boehm GC detects this kind of reference, is it a supported feature
</I>of
&gt;<i> Mono? If not, what is the suggested way to implement it (eg. what is the
</I>&gt;<i> C++/CLI way) ?
</I>
 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-gc-list/attachments/20080613/2e2e09ae/attachment.html">http://lists.ximian.com/pipermail/mono-gc-list/attachments/20080613/2e2e09ae/attachment.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000077.html">[Mono-gc-list] GC and multiple inheritance as in C++
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75">[ date ]</a>
              <a href="thread.html#75">[ thread ]</a>
              <a href="subject.html#75">[ subject ]</a>
              <a href="author.html#75">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-gc-list">More information about the Mono-gc-list
mailing list</a><br>
</body></html>
