<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-gc-list]  Help with Debuging Interop Code with Mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-gc-list%40lists.ximian.com?Subject=%5BMono-gc-list%5D%20%20Help%20with%20Debuging%20Interop%20Code%20with%20Mono&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000079.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-gc-list]  Help with Debuging Interop Code with Mono</H1>
    <B>Charlie.M</B> 
    <A HREF="mailto:mono-gc-list%40lists.ximian.com?Subject=%5BMono-gc-list%5D%20%20Help%20with%20Debuging%20Interop%20Code%20with%20Mono&In-Reply-To="
       TITLE="[Mono-gc-list]  Help with Debuging Interop Code with Mono">charlie.mas at gmail.com
       </A><BR>
    <I>Fri Aug 15 10:26:05 EDT 2008</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000079.html">[Mono-gc-list] Help with Debuging Interop Code with Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78">[ date ]</a>
              <a href="thread.html#78">[ thread ]</a>
              <a href="subject.html#78">[ subject ]</a>
              <a href="author.html#78">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi all,

I am currently trying to debug some code C# I have written. Its a wrapper
around a native library (LibVorbis), I have it working on Windows with .net
fine but when I run it on Mono it Seg Faults. At the moment I think its
likely to be a bug in my code which windows tolerates and Linux doesn't.

I tried to find the problem by running my app in Valgrind. Unfortunately it
produces a large number of false positives during normal operation with
Mono, I assume Mono's GC confuses Valgrind. It also doesn't appear to show
an obvious source of my problems.

This happens in the latest release of Mono. However recently I have switched
to using a build I made from SVN and I have also built and installed the
mono debugger. I have been using a recent SVN build of Mono Develop which
includes its new debugger, both for Mono and Native code. 

The Managed stack trace from where my code crashes seems to be completely
random, so I assume its getting screwed up somewhere before it actually
segfaults. However it always segfaults when the garbage collector is running
the GC_mark_from function at line 724 of mark.c according to the Mono
Develop debugger.

Can someone who's familiar with the Mono's GC tell me what its doing at this
point. Also is it possible to figure out which structure / object is causing
the GC problems. Any other suggestions would be greatly appreciated.

Charlie M
-- 
View this message in context: <A HREF="http://www.nabble.com/Help-with-Debuging-Interop-Code-with-Mono-tp18999561p18999561.html">http://www.nabble.com/Help-with-Debuging-Interop-Code-with-Mono-tp18999561p18999561.html</A>
Sent from the Mono - Garbage Collection mailing list archive at Nabble.com.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000079.html">[Mono-gc-list] Help with Debuging Interop Code with Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78">[ date ]</a>
              <a href="thread.html#78">[ thread ]</a>
              <a href="subject.html#78">[ subject ]</a>
              <a href="author.html#78">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-gc-list">More information about the Mono-gc-list
mailing list</a><br>
</body></html>
