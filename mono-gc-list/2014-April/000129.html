<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-gc-list] precision
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-gc-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-gc-list%5D%20precision&In-Reply-To=%3CCA%2BxOEeznerpMByT7qep8zGPW5r32Kqu_Qeh0G_h9gUd-o16EUA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-gc-list] precision</H1>
    <B>Zolt&#225;n T&#243;th</B> 
    <A HREF="mailto:mono-gc-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-gc-list%5D%20precision&In-Reply-To=%3CCA%2BxOEeznerpMByT7qep8zGPW5r32Kqu_Qeh0G_h9gUd-o16EUA%40mail.gmail.com%3E"
       TITLE="[Mono-gc-list] precision">zo1980 at gmail.com
       </A><BR>
    <I>Wed Apr 23 11:01:50 UTC 2014</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#129">[ date ]</a>
              <a href="thread.html#129">[ thread ]</a>
              <a href="subject.html#129">[ subject ]</a>
              <a href="author.html#129">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have been coding C++ for many years. Recently i learned functional
programming, and i would like to use it more as it feels like a new world
of free mind after C++.

But FP needs GC. As still a C++ guy, i carefully researched the resource
consumption GC involves. It surprised me that most GC implementations are
not precise.

As i understood: there are too limitations in stack marking:
1) last managed frame,
2) native frames.

1 seems to be solvable by the shadow stack technique, which is simple and
seems easy to implement. The speed penalty seems acceptable or at least
acceptable in many use cases. Runtimes accept the overhead of array bounds
checks, null reference checks, GC, ... to be more reliable and less buggy
than C++, many runtimes also lack generics monomorphisation  - so why not
accept yet another source of speed decrease?

2 seems to be avoidable by giving the user the responsibility to not pass
managed pointers to native functions.

So it seems to be possible to achieve full precision at least as a
non-default option of the GC.

I looked at many GC implementations, most of them do not even mention this
problem. Mono GC is nice exception, as there is detailed documentation
about it.

I send this mail for 2 goals.
1) I may miss something in this topic. I ask for a theoretical education
about why the problem of precision is so neglected by everyone?
2) I ask to implement full GC precision as an option.

Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-gc-list/attachments/20140423/5d25a9a2/attachment.html">http://lists.ximian.com/pipermail/mono-gc-list/attachments/20140423/5d25a9a2/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#129">[ date ]</a>
              <a href="thread.html#129">[ thread ]</a>
              <a href="subject.html#129">[ subject ]</a>
              <a href="author.html#129">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-gc-list">More information about the Mono-gc-list
mailing list</a><br>
</body></html>
