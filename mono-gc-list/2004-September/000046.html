<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-gc-list] GC-(in)capability
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000045.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-gc-list] GC-(in)capability
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-gc-list] GC-(in)capability">lupus@ximian.com
       </A><BR>
    <I>Wed, 8 Sep 2004 12:54:37 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="000045.html">[Mono-gc-list] GC-(in)capability
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46">[ date ]</a>
              <a href="thread.html#46">[ thread ]</a>
              <a href="subject.html#46">[ subject ]</a>
              <a href="author.html#46">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/06/04 Marek Paska wrote:
&gt;<i> I am deeply disappointed by poor performance (or better capability) of Mono's
</I>&gt;<i> GC. I've written a program for indexing FTP servers and searching its files by
</I>&gt;<i> name. It uses inverted files as indexes and it is designed for millions of
</I>&gt;<i> filenames and &quot;nearly real time&quot; answers of users' queries.
</I>&gt;<i> 
</I>&gt;<i> Under MS .Net Framework 1.1 it works perfectly. I would like to run it on Linux.
</I>&gt;<i> But under Mono I am not able to create index from crawled data. The problem is
</I>&gt;<i> caused by memory fragmentation. While work-space of my application (during my
</I>&gt;<i> index build) stays constant (150 MB), the space allocated in virtual memory
</I>&gt;<i> grows all the time until it eats all the swap space (1 GB) and is killed by
</I>&gt;<i> kernel. (Or I receive message &quot;GC warning -&gt; returning null&quot; (On Linux) or &quot;Too
</I>&gt;<i> many heap sections&quot; (under Win).)
</I>
What version of mono are you using? Mono from CVS has significantly
better behaviour than mono 1.0.x for that kind of loads.

&gt;<i> I guess the fact that Mono uses GC algorithm that doesn't perform heap
</I>&gt;<i> compaction (and therefore allows fragmentation) is a big mistake. And absence of
</I>&gt;<i> stop-the-world-pauses is not sufficient argument for me. For my application (and
</I>&gt;<i> many other common) the GC-pauses are not very harmless. Otherwise applications
</I>
We use the Boehm GC, which causes pauses as well. As said, mono from cvs
HEAD has better behaviour and we're incrementally improving it. We're
also working on a compacting generational GC, but that will be available
only in a year or so.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000045.html">[Mono-gc-list] GC-(in)capability
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46">[ date ]</a>
              <a href="thread.html#46">[ thread ]</a>
              <a href="subject.html#46">[ subject ]</a>
              <a href="author.html#46">[ author ]</a>
         </LI>
       </UL>
</body></html>
