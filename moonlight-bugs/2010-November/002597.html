<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-bugs] [Bug 656289] New: Application background is black when hosted from ASP.NET web-form.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20656289%5D%20New%3A%20Application%20background%20is%20black%0A%20when%20hosted%20from%20ASP.NET%20web-form.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002603.html">
   <LINK REL="Next"  HREF="002609.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-bugs] [Bug 656289] New: Application background is black when hosted from ASP.NET web-form.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20656289%5D%20New%3A%20Application%20background%20is%20black%0A%20when%20hosted%20from%20ASP.NET%20web-form.&In-Reply-To="
       TITLE="[Moonlight-bugs] [Bug 656289] New: Application background is black when hosted from ASP.NET web-form.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Nov 29 10:15:45 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002603.html">[Moonlight-bugs] [Bug 656241] moonlight chrashes firefox and	debugging doesnt help
</A></li>
        <LI>Next message: <A HREF="002609.html">[Moonlight-bugs] [Bug 501259] Several Silverlight features are not	working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2597">[ date ]</a>
              <a href="thread.html#2597">[ thread ]</a>
              <a href="subject.html#2597">[ subject ]</a>
              <a href="author.html#2597">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=656289">https://bugzilla.novell.com/show_bug.cgi?id=656289</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=656289#c0">https://bugzilla.novell.com/show_bug.cgi?id=656289#c0</A>


           Summary: Application background is black when hosted from
                    ASP.NET web-form.
    Classification: Mono
           Product: Moonlight
           Version: SVN
          Platform: x86-64
        OS/Version: openSUSE 11.3
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: engine
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">rui at ruicraveiro.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=402469)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=402469">http://bugzilla.novell.com/attachment.cgi?id=402469</A>)
Working Demo

User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US) AppleWebKit/534.7
(KHTML, like Gecko) Chrome/7.0.517.41 Safari/534.7

I am having the following problem since commit
19753e8d7219a2c6e112bcc5ec3101b9a5772181. My app is running with a black
background, even before App.RootVisual has been given to it. It always remains
black, unless the RootVisual specifies otherwise (A transparency will default
to black instead of white). This might go unnoticed in your tests, because this
only happens with apps that are hosted in ASP.Net pages (the ones generated by
Visual Studio).

I am attaching a working demo of this bug. You can either host it with Asp.Net
or run it standalone, as I've reproduced the asp.net page as standalone,
including the needed javascripts.

The demo has two projects, SLProto20.csproj and SLProto20.Web.csproj. The way
I've prepared the demo, you don't really need to look into the latter as the
former is able to reproduce the bug all by itself without the need of asp.net.
The only reasons I included SLProto20.web.csproj just in case were so you could
want to check out the original scenario where I was able to isolate this bug
and if you needed to perform any test after having a fix.

Inside the SLProto20/Bin/Debug folder you will find a TestPage.html. If you run
this page, the application will work properly. You will also find an
AspNetGenerated.html page. This emulates the aspnet (.aspx) hosted page that
hosts the application under such circumstances this bug will show. All the
scripts this page needs to run can be found under the Scripts subfolder.

Reproducible: Always

Steps to Reproduce:
1. Extract the working demo.
2. Run the SLProto20/Bin/Debug/AspNetGenerated.html page with firefox.
3. See that you have a black screen with a green foreground. The
greenforeground is intentional and is decided by the application. The black
background is the manifestation of the bug.
Actual Results:  
black background

Expected Results:  
white background

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002603.html">[Moonlight-bugs] [Bug 656241] moonlight chrashes firefox and	debugging doesnt help
</A></li>
	<LI>Next message: <A HREF="002609.html">[Moonlight-bugs] [Bug 501259] Several Silverlight features are not	working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2597">[ date ]</a>
              <a href="thread.html#2597">[ thread ]</a>
              <a href="subject.html#2597">[ subject ]</a>
              <a href="author.html#2597">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">More information about the Moonlight-bugs
mailing list</a><br>
</body></html>
