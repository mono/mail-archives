<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-bugs] [Bug 652331] New: Exception when deserializing an object whose class inherits from a base class with a different namespace
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20652331%5D%20New%3A%20Exception%20when%20deserializing%20an%0A%20object%20whose%20class%20inherits%20from%20a%20base%20class%20with%20a%20different%20namespace&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002537.html">
   <LINK REL="Next"  HREF="002539.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-bugs] [Bug 652331] New: Exception when deserializing an object whose class inherits from a base class with a different namespace</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20652331%5D%20New%3A%20Exception%20when%20deserializing%20an%0A%20object%20whose%20class%20inherits%20from%20a%20base%20class%20with%20a%20different%20namespace&In-Reply-To="
       TITLE="[Moonlight-bugs] [Bug 652331] New: Exception when deserializing an object whose class inherits from a base class with a different namespace">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Nov  9 08:09:25 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002537.html">[Moonlight-bugs] [Bug 652177] New: Apparent memory leak when using Telerik RadGridView
</A></li>
        <LI>Next message: <A HREF="002539.html">[Moonlight-bugs] [Bug 652419] New: ColumnDefinition.MinWidth not	working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2538">[ date ]</a>
              <a href="thread.html#2538">[ thread ]</a>
              <a href="subject.html#2538">[ subject ]</a>
              <a href="author.html#2538">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=652331">https://bugzilla.novell.com/show_bug.cgi?id=652331</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=652331#c0">https://bugzilla.novell.com/show_bug.cgi?id=652331#c0</A>


           Summary: Exception when deserializing an object whose class
                    inherits from a base class with a different namespace
    Classification: Mono
           Product: Moonlight
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: engine
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">rui at ruicraveiro.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=399172)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=399172">http://bugzilla.novell.com/attachment.cgi?id=399172</A>)
Working Demo

User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US) AppleWebKit/534.7
(KHTML, like Gecko) Chrome/7.0.517.41 Safari/534.7

When I using the DataContractSerializer to deserialize a class that has a base
class with a different namespace. It throws an exception with the description
&quot;Expecting state 'EndElement'&quot;.

I am attaching a demo of this bug. It has a class called CashAmount. This class
is from a different namespace of its super class, Amount. When running the
demo, you will see a button labeled &quot;Deserialize (different namespace)&quot;. This
button tries to create an instance of CashAmount by deserializing the text
contained in the resource SourceRes.xml. If you press this button in ML, it
will throw. If you press this button in SL, it will deserialize properly.

As a control of the experiment, I also added a class also called CashAmount
(CashAmountSNS.cs), but with the same namespace of its super class, also
Amount.  Running the application, there is a button labeled &quot;Deserialize (same
namespace)&quot;. This button attempts to deserialize the text contained in the
resource SourceResSNS.xml. Pressing it, it will work both in ML and SL.

Reproducible: Always

Steps to Reproduce:
1. Uncompress the attachment I am sending.
2. Run TestPage.html
3. Press the &quot;Deserialize (different namespace)&quot; and see it throw.
4. Press the &quot;Deserialize (same namespace)&quot; and see it work, displaying a
messagebox saying &quot;EUR&quot;.
5. Try the same thing in SL... Both buttons will work.
Actual Results:  
&quot;Deserialize (different namespace)&quot; throws.
&quot;Deserialize (same namespace)&quot; works.

Expected Results:  
Both buttons to work.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002537.html">[Moonlight-bugs] [Bug 652177] New: Apparent memory leak when using Telerik RadGridView
</A></li>
	<LI>Next message: <A HREF="002539.html">[Moonlight-bugs] [Bug 652419] New: ColumnDefinition.MinWidth not	working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2538">[ date ]</a>
              <a href="thread.html#2538">[ thread ]</a>
              <a href="subject.html#2538">[ subject ]</a>
              <a href="author.html#2538">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">More information about the Moonlight-bugs
mailing list</a><br>
</body></html>
