<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-bugs] [Bug 656145] New: Failure to load usercontrol after dynamically loading XAP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20656145%5D%20New%3A%20Failure%20to%20load%20usercontrol%0A%20after%20dynamically%20loading%20XAP&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002589.html">
   <LINK REL="Next"  HREF="002595.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-bugs] [Bug 656145] New: Failure to load usercontrol after dynamically loading XAP</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20656145%5D%20New%3A%20Failure%20to%20load%20usercontrol%0A%20after%20dynamically%20loading%20XAP&In-Reply-To="
       TITLE="[Moonlight-bugs] [Bug 656145] New: Failure to load usercontrol after dynamically loading XAP">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Nov 26 15:28:58 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002589.html">[Moonlight-bugs] [Bug 655785] Silverlight application source code	offer
</A></li>
        <LI>Next message: <A HREF="002595.html">[Moonlight-bugs] [Bug 656145] Failure to load usercontrol after dynamically loading XAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2590">[ date ]</a>
              <a href="thread.html#2590">[ thread ]</a>
              <a href="subject.html#2590">[ subject ]</a>
              <a href="author.html#2590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=656145">https://bugzilla.novell.com/show_bug.cgi?id=656145</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=656145#c0">https://bugzilla.novell.com/show_bug.cgi?id=656145#c0</A>


           Summary: Failure to load usercontrol after dynamically loading
                    XAP
    Classification: Mono
           Product: Moonlight
           Version: SVN
          Platform: x86-64
        OS/Version: openSUSE 11.3
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: engine
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">rui at ruicraveiro.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=402337)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=402337">http://bugzilla.novell.com/attachment.cgi?id=402337</A>)
Working Demo

User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1;
Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729;
Media Center PC 6.0; InfoPath.2; .NET4.0C; .NET4.0E)

My application is based on the Prism architecture. Since commit
458033d1e42095188077329291f4a1fadb2beac2, it stopped working. In Prism, modules
(XAPs) are loaded dynamically and usercontrol's contents are injected into the
content of other controls existing in a main page called shell.

So you don't need to fiddle with prism, I am attaching a working demo that
reproduces the problem without using prism at all, but doing what it does.

The demo is a VS solution with 3 projects:
- SLProto18.Web is the web-app you will need to run using a web-server. Sorry
folks, this time I was unable to reproduce the problem with a standalone xap.
- SLProto18 is the &quot;main&quot; app. It contains an App class, and it is the code
found in this class that the bug is happening. What it does is set Page.xaml as
its visual root and then it loads SecondChap, creates an instance of a
usercontrol and adds that to the content of a control in the shell (the visual
root).
- SecondChap. Actually doesn't do much, but has the control being injected into
the visual root. This xap is loaded dynamically.

After running this demo, you should see a wheat page with a big white box
containing a text saying &quot;Hello World&quot;. If you access it from ML, you will see
only the wheat page.

Reproducible: Always

Steps to Reproduce:
1. Run the app using a web-server.
2.
3.
Actual Results:  
You will not see the control of the dynamically loaded xap being displayed
properly. You will see only the page with a wheat background.

Expected Results:  
You should see the control of the dynamically loaded xap being displayed
properly. You should see above the wheat background a big white box with a text
saying &quot;Hello World&quot;

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002589.html">[Moonlight-bugs] [Bug 655785] Silverlight application source code	offer
</A></li>
	<LI>Next message: <A HREF="002595.html">[Moonlight-bugs] [Bug 656145] Failure to load usercontrol after dynamically loading XAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2590">[ date ]</a>
              <a href="thread.html#2590">[ thread ]</a>
              <a href="subject.html#2590">[ subject ]</a>
              <a href="author.html#2590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">More information about the Moonlight-bugs
mailing list</a><br>
</body></html>
