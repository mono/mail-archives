<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-bugs] [Bug 607301] New: Passwordbox caret being reset to the beginning of the field when updating binding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20607301%5D%20New%3A%20Passwordbox%20caret%20being%20reset%20to%0A%20the%20beginning%20of%20the%20field%20when%20updating%20binding&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002263.html">
   <LINK REL="Next"  HREF="002265.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-bugs] [Bug 607301] New: Passwordbox caret being reset to the beginning of the field when updating binding</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20607301%5D%20New%3A%20Passwordbox%20caret%20being%20reset%20to%0A%20the%20beginning%20of%20the%20field%20when%20updating%20binding&In-Reply-To="
       TITLE="[Moonlight-bugs] [Bug 607301] New: Passwordbox caret being reset to the beginning of the field when updating binding">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed May 19 15:30:06 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002263.html">[Moonlight-bugs] [Bug 599667] System.ServiceModel.ChannelFactory: unable to create factory for IDuplexSessionChannel
</A></li>
        <LI>Next message: <A HREF="002265.html">[Moonlight-bugs] [Bug 607301] Passwordbox caret being reset to the beginning of the field when updating binding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2264">[ date ]</a>
              <a href="thread.html#2264">[ thread ]</a>
              <a href="subject.html#2264">[ subject ]</a>
              <a href="author.html#2264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=607301">http://bugzilla.novell.com/show_bug.cgi?id=607301</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=607301#c0">http://bugzilla.novell.com/show_bug.cgi?id=607301#c0</A>


           Summary: Passwordbox caret being reset to the beginning of the
                    field when updating binding
    Classification: Mono
           Product: Moonlight
           Version: 2.99.0.4
          Platform: x86-64
        OS/Version: Ubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: engine
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">simon.zinkevicius at hp.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=363312)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=363312">http://bugzilla.novell.com/attachment.cgi?id=363312</A>)
Passwordbox Example Visual Studio solution

User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64;
Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729;
Media Center PC 6.0; InfoPath.2; .NET4.0C; .NET4.0E; OfficeLiveConnector.1.4;
OfficeLivePatch.1.3)

By default bindings are only updated on passwordboxes when focus has left the
field. Our application requires binding to happen on every key press so we have
added an event handler on the key up event of the passwordbox. In this event
handler we manual update the binding source via the code below:

private void passwordBox1_KeyUp(object sender, KeyEventArgs e)
        {
            PasswordBox passwordBox = sender as PasswordBox;
            var binding =
passwordBox.GetBindingExpression(PasswordBox.PasswordProperty);
            binding.UpdateSource();
        }

This works fine when running silverlight on a windows machine but on moonlight
the caret is always being reset back to to the beginning of the passwordbox
field after every character press.

Reproducible: Always

Steps to Reproduce:
1. Add a passwordbox into a silverlight application
2. Bind the password property of the password box to some string field.
3. Add a key up event handler to the password box with the code that updates
the binding as described in the details section of this defect.
4. Launch the silverlight application and type in the password box.
Actual Results:  
The caret is being placed back to the beginning of the password box field after
every key press.

Expected Results:  
The caret should be placed after(to the right of) the character that was just
entered.

Attached is an example solution with a textbox and passwordbox that both work
correctly in windows but the passwordbox does not work correctly with moonlight
on linux.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002263.html">[Moonlight-bugs] [Bug 599667] System.ServiceModel.ChannelFactory: unable to create factory for IDuplexSessionChannel
</A></li>
	<LI>Next message: <A HREF="002265.html">[Moonlight-bugs] [Bug 607301] Passwordbox caret being reset to the beginning of the field when updating binding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2264">[ date ]</a>
              <a href="thread.html#2264">[ thread ]</a>
              <a href="subject.html#2264">[ subject ]</a>
              <a href="author.html#2264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">More information about the Moonlight-bugs
mailing list</a><br>
</body></html>
