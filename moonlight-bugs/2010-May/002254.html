<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-bugs] [Bug 603948] New: Navigation (Frame, Page) doesn't support address bar, history integration and URI mapping
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20603948%5D%20New%3A%20Navigation%20%28Frame%2C%0A%20Page%29%20doesn%27t%20support%20address%20bar%2C%20history%20integration%20and%20URI%20mapping&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002253.html">
   <LINK REL="Next"  HREF="002255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-bugs] [Bug 603948] New: Navigation (Frame, Page) doesn't support address bar, history integration and URI mapping</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20603948%5D%20New%3A%20Navigation%20%28Frame%2C%0A%20Page%29%20doesn%27t%20support%20address%20bar%2C%20history%20integration%20and%20URI%20mapping&In-Reply-To="
       TITLE="[Moonlight-bugs] [Bug 603948] New: Navigation (Frame, Page) doesn't support address bar, history integration and URI mapping">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri May  7 18:05:02 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002253.html">[Moonlight-bugs] [Bug 548979] can't log into sipsorcery.com account
</A></li>
        <LI>Next message: <A HREF="002255.html">[Moonlight-bugs] Your Bugzilla bug list needs attention.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2254">[ date ]</a>
              <a href="thread.html#2254">[ thread ]</a>
              <a href="subject.html#2254">[ subject ]</a>
              <a href="author.html#2254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=603948">http://bugzilla.novell.com/show_bug.cgi?id=603948</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=603948#c0">http://bugzilla.novell.com/show_bug.cgi?id=603948#c0</A>


           Summary: Navigation (Frame, Page) doesn't support address bar,
                    history integration and URI mapping
    Classification: Mono
           Product: Moonlight
           Version: 2.99.0.4
          Platform: x86-64
        OS/Version: Ubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: plugin
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">david.straw at hp.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=360598)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=360598">http://bugzilla.novell.com/attachment.cgi?id=360598</A>)
Small project to reproduce the issue

User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US)
AppleWebKit/532.5 (KHTML, like Gecko) Chrome/4.1.249.1064 Safari/532.5

Moonlight does not appear to support integration with the browser's current
location and history when using System.Windows.Controls.Frame and
System.Windows.Controls.Page (in System.Windows.Controls.Navigation.dll).

Also the UriMapper property does not appear to have any effect when running in
Moonlight, i.e. the URIs are not mapped to the proper MappedUri value.

Note: Moonlight version tested was 2.99.0.6, which was unavailable in the
drop-down for the Product Version.

Reproducible: Always

Steps to Reproduce:
1. Create a UserControl with a Frame
2. Call Navigate() on the frame, specifying the URI of another Page
3. Call Navigate() on the frame, specifying a URI that is mapped to a valid
Page URI using a UriMapper
Actual Results:  
The first page is correctly shown in the frame, but the location (address bar)
in the browser does not change, nor is an entry added to the browser history.

The second page (mapped URI) fails to load and a runtime error is thrown.

Expected Results:  
The first page navigation should change the location of the browser to the URI
of the Page, ex. &quot;<A HREF="http://&lt;host">http://&lt;host</A>&gt;/#/Page1.xaml&quot; and add the new location to the
browser's history.

The second page navigation should change the location of the browser to the
mapped URI, ex. &quot;<A HREF="http://&lt;host">http://&lt;host</A>&gt;/#Page2&quot; and add the new location to the
browser's history.  The second Page should load without error and be shown in
the Frame.

The runtime error differs a bit by browser.

In Firefox an error is shown saying &quot;Navigation is only supported to relative
URIs that are fragments, or begin with '/', or which contain ';component/'.
Parameter name: uri&quot;.

In Chrome, the error is &quot;Uncaught TypeError: Cannot read property 'firstChild'
of undefined&quot;, followed by &quot;Uncaught SyntaxError: Unexpected token ILLEGAL&quot;

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002253.html">[Moonlight-bugs] [Bug 548979] can't log into sipsorcery.com account
</A></li>
	<LI>Next message: <A HREF="002255.html">[Moonlight-bugs] Your Bugzilla bug list needs attention.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2254">[ date ]</a>
              <a href="thread.html#2254">[ thread ]</a>
              <a href="subject.html#2254">[ subject ]</a>
              <a href="author.html#2254">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">More information about the Moonlight-bugs
mailing list</a><br>
</body></html>
