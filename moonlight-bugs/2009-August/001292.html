<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-bugs] [Bug 528611] SmoothStreaming crashes Firefox when	you navigate away
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20528611%5D%20SmoothStreaming%20crashes%20Firefox%20when%0A%09you%20navigate%20away&In-Reply-To=bug-528611-37086%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001172.html">
   <LINK REL="Next"  HREF="001173.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-bugs] [Bug 528611] SmoothStreaming crashes Firefox when	you navigate away</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20528611%5D%20SmoothStreaming%20crashes%20Firefox%20when%0A%09you%20navigate%20away&In-Reply-To=bug-528611-37086%40http.bugzilla.novell.com/"
       TITLE="[Moonlight-bugs] [Bug 528611] SmoothStreaming crashes Firefox when	you navigate away">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Aug 26 13:36:30 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001172.html">[Moonlight-bugs] [Bug 528611] New: SmoothStreaming crashes Firefox when you navigate away
</A></li>
        <LI>Next message: <A HREF="001173.html">[Moonlight-bugs] [Bug 503647] TicTacToe - text is too high
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1292">[ date ]</a>
              <a href="thread.html#1292">[ thread ]</a>
              <a href="subject.html#1292">[ subject ]</a>
              <a href="author.html#1292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=528611">http://bugzilla.novell.com/show_bug.cgi?id=528611</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">spouliot at novell.com</A> added comment
<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=528611#c1">http://bugzilla.novell.com/show_bug.cgi?id=528611#c1</A>


Sebastien Pouliot &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">spouliot at novell.com</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                 CC|                            |<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">spouliot at novell.com</A>
         AssignedTo|<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian</A> |<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">avidigal at novell.com</A>
                   |.com                        |
           Severity|Normal                      |Major




--- Comment #1 from Sebastien Pouliot &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">spouliot at novell.com</A>&gt;  2009-08-26 11:36:29 MDT ---
It does not always crash, but I was able to crash it after a few times on x86.
Running valgrind reports errors that looks related to refcounting -&gt; shana :)

==24426== Thread 1:
==24426== Invalid read of size 4
==24426==    at 0xEEFC82A: EventObject::IsDisposed() (dependencyobject.cpp:326)
==24426==    by 0xEEFF8E8: DependencyObject::GetValue(int)
(dependencyobject.cpp:1550)
==24426==    by 0xEF1CD41: NameScope::GetNameScope(DependencyObject*)
(dependencyproperty.g.cpp:3616)
==24426==    by 0xEEFCFCB: DependencyObject::FindNameScope(bool)
(dependencyobject.cpp:2210)
==24426==    by 0xEEFD01E: DependencyObject::FindNameScope(bool)
(dependencyobject.cpp:2217)
==24426==    by 0xEEFD01E: DependencyObject::FindNameScope(bool)
(dependencyobject.cpp:2217)
==24426==    by 0xEEFDB1F: DependencyObject::FindNameScope()
(dependencyobject.cpp:2204)
==24426==    by 0xEF01A4D: DependencyObject::SetParent(DependencyObject*,
MoonError*) (dependencyobject.cpp:2412)
==24426==    by 0xEF02828: _ZL24unregister_depobj_valuesPvS_S_
(dependencyobject.cpp:1158)
==24426==    by 0x5C6B3B5: g_hash_table_foreach (in
/usr/lib/libglib-2.0.so.0.1800.2)
==24426==    by 0xEEFD420: DependencyObject::RemoveAllListeners()
(dependencyobject.cpp:1170)
==24426==    by 0xEF02D5D: DependencyObject::Dispose()
(dependencyobject.cpp:2049)
==24426==  Address 0xc03f2e4 is 20 bytes inside a block of size 412 free'd
==24426==    at 0x402679A: operator delete(void*) (in
/usr/lib/valgrind/x86-linux/vgpreload_memcheck.so)
==24426==    by 0xEEF8047: Control::~Control() (control.cpp:37)
==24426==    by 0xEF016EA: EventObject::unref() (dependencyobject.cpp:419)
==24426==    by 0xF00C6D9: Value::FreeValue() (value.cpp:594)
==24426==    by 0xF00C71F: Value::~Value() (value.cpp:762)
==24426==    by 0xEEF27B1: Collection::Dispose() (collection.cpp:66)
==24426==    by 0xEF01698: EventObject::unref() (dependencyobject.cpp:405)
==24426==    by 0xEF2F68C: Deployment::DrainUnrefs() (deployment.cpp:521)
==24426==    by 0xEF30878: Deployment::DrainUnrefs(void*) (deployment.cpp:498)
==24426==    by 0x5C77AF0: (within /usr/lib/libglib-2.0.so.0.1800.2)
==24426==    by 0x5C79A27: g_main_context_dispatch (in
/usr/lib/libglib-2.0.so.0.1800.2)
==24426==    by 0x5C7D0E2: (within /usr/lib/libglib-2.0.so.0.1800.2)
==24426== 
==24426== Invalid read of size 4
==24426==    at 0xEEFD002: DependencyObject::FindNameScope(bool)
(dependencyobject.cpp:2216)
==24426==    by 0xEEFD01E: DependencyObject::FindNameScope(bool)
(dependencyobject.cpp:2217)
==24426==    by 0xEEFD01E: DependencyObject::FindNameScope(bool)
(dependencyobject.cpp:2217)
==24426==    by 0xEEFDB1F: DependencyObject::FindNameScope()
(dependencyobject.cpp:2204)
==24426==    by 0xEF01A4D: DependencyObject::SetParent(DependencyObject*,
MoonError*) (dependencyobject.cpp:2412)
==24426==    by 0xEF02828: _ZL24unregister_depobj_valuesPvS_S_
(dependencyobject.cpp:1158)
==24426==    by 0x5C6B3B5: g_hash_table_foreach (in
/usr/lib/libglib-2.0.so.0.1800.2)
==24426==    by 0xEEFD420: DependencyObject::RemoveAllListeners()
(dependencyobject.cpp:1170)
==24426==    by 0xEF02D5D: DependencyObject::Dispose()
(dependencyobject.cpp:2049)
==24426==    by 0xEF01698: EventObject::unref() (dependencyobject.cpp:405)
==24426==    by 0xEF2F68C: Deployment::DrainUnrefs() (deployment.cpp:521)
==24426==    by 0xEF30878: Deployment::DrainUnrefs(void*) (deployment.cpp:498)
==24426==  Address 0xc03f300 is 48 bytes inside a block of size 412 free'd
==24426==    at 0x402679A: operator delete(void*) (in
/usr/lib/valgrind/x86-linux/vgpreload_memcheck.so)
==24426==    by 0xEEF8047: Control::~Control() (control.cpp:37)
==24426==    by 0xEF016EA: EventObject::unref() (dependencyobject.cpp:419)
==24426==    by 0xF00C6D9: Value::FreeValue() (value.cpp:594)
==24426==    by 0xF00C71F: Value::~Value() (value.cpp:762)
==24426==    by 0xEEF27B1: Collection::Dispose() (collection.cpp:66)
==24426==    by 0xEF01698: EventObject::unref() (dependencyobject.cpp:405)
==24426==    by 0xEF2F68C: Deployment::DrainUnrefs() (deployment.cpp:521)
==24426==    by 0xEF30878: Deployment::DrainUnrefs(void*) (deployment.cpp:498)
==24426==    by 0x5C77AF0: (within /usr/lib/libglib-2.0.so.0.1800.2)
==24426==    by 0x5C79A27: g_main_context_dispatch (in
/usr/lib/libglib-2.0.so.0.1800.2)
==24426==    by 0x5C7D0E2: (within /usr/lib/libglib-2.0.so.0.1800.2)
--24426-- Reading syms from /home/poupou/.mozilla/plugins/libmoonloader.so
(0xBE9B000)

note: I did not crash on x86_64 but valgrind found the same problem as above.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the assignee for the bug.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001172.html">[Moonlight-bugs] [Bug 528611] New: SmoothStreaming crashes Firefox when you navigate away
</A></li>
	<LI>Next message: <A HREF="001173.html">[Moonlight-bugs] [Bug 503647] TicTacToe - text is too high
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1292">[ date ]</a>
              <a href="thread.html#1292">[ thread ]</a>
              <a href="subject.html#1292">[ subject ]</a>
              <a href="author.html#1292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">More information about the Moonlight-bugs
mailing list</a><br>
</body></html>
