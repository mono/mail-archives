<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-bugs] [Bug 503925] New: The Windows.Media.PathGeometry.Figures property is not automatically constructed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20503925%5D%20New%3A%20The%0A%20Windows.Media.PathGeometry.Figures%20property%20is%20not%20automatically%0A%20constructed&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001060.html">
   <LINK REL="Next"  HREF="001062.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-bugs] [Bug 503925] New: The Windows.Media.PathGeometry.Figures property is not automatically constructed</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20503925%5D%20New%3A%20The%0A%20Windows.Media.PathGeometry.Figures%20property%20is%20not%20automatically%0A%20constructed&In-Reply-To="
       TITLE="[Moonlight-bugs] [Bug 503925] New: The Windows.Media.PathGeometry.Figures property is not automatically constructed">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu May 14 11:46:15 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001060.html">[Moonlight-bugs] [Bug 503689] New: Hard Rock - Sub items are placed on top of eachother
</A></li>
        <LI>Next message: <A HREF="001062.html">[Moonlight-bugs] [Bug 503925] The Windows.Media.PathGeometry.Figures property is not automatically constructed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1061">[ date ]</a>
              <a href="thread.html#1061">[ thread ]</a>
              <a href="subject.html#1061">[ subject ]</a>
              <a href="author.html#1061">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=503925">http://bugzilla.novell.com/show_bug.cgi?id=503925</A>


           Summary: The Windows.Media.PathGeometry.Figures property is not
                    automatically constructed
    Classification: Mono
           Product: Moonlight
           Version: 1.9.1
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: media
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">christophe.guillon at st.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=292228)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=292228">http://bugzilla.novell.com/attachment.cgi?id=292228</A>)
The Page.xaml.cs file using a PathGeometry, not working with moon 1.9.1

User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.7)
Gecko/2009021906 Firefox/3.0.7

When constructing a new PathGeometry (from C# for instance), the Figures member
of type PathFigureCollection is not initialized.

Thus before being able to add a new PathFigure, one must explicitly initialize
the Figures property with a 'new PathFigureCollection()'.

This differ from what is expected and thus an application developed with MS
Silverlight and using PathGeometry do not run on moonlight.

It seems that the Figures property of a PathGeometry should have the
AutoCreateValue flag.

Here is an example of C# code that do not run under moonlight, see the
commented line in the middle of the code to see the problem:
..
                public Page()
                {
                        InitializeComponent();

                        Point A, B, C;
                        A = new Point(10, 10);
                        B = new Point(100, 10);
                        C = new Point(50, 50);
                        PolyLineSegment polyLine = new PolyLineSegment();
                        polyLine.Points.Add(B);
                        polyLine.Points.Add(C);
                        polyLine.Points.Add(A);
                        PathFigure pathFig = new PathFigure();
                        pathFig.StartPoint = A;
                        pathFig.Segments.Add(polyLine);
                        PathGeometry pathGeo = new PathGeometry();
                        /* Uncomment this line for Moonlight. */
                        // pathGeo.Figures = new PathFigureCollection();
                        pathGeo.Figures.Add(pathFig);
                        Path path = new Path();
                        path.Stroke = new SolidColorBrush(Colors.Black);
                        path.StrokeThickness = 3;
                        path.Fill = new SolidColorBrush(Colors.Yellow);
                        path.Data = pathGeo;
                        LayoutRoot.Children.Clear();
                        LayoutRoot.Children.Add(path);
                }


Reproducible: Always

Steps to Reproduce:
1. Open a new solution in MonoDevelop or Visual Studio for C#
Moonlight/Silverlight application
2. Cut and paste the code in the &quot;Details&quot; section above for the page rendering
(or use the Page.xaml.cs in attachment)
3. Compile
4. Run under firefox with moonlight plugin

Actual Results:  
Under firefox with moonlight, the page is rendered as a blank page,

Expected Results:  
Expected result is to render a yellow triangle. It works with IE Silverlight.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001060.html">[Moonlight-bugs] [Bug 503689] New: Hard Rock - Sub items are placed on top of eachother
</A></li>
	<LI>Next message: <A HREF="001062.html">[Moonlight-bugs] [Bug 503925] The Windows.Media.PathGeometry.Figures property is not automatically constructed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1061">[ date ]</a>
              <a href="thread.html#1061">[ thread ]</a>
              <a href="subject.html#1061">[ subject ]</a>
              <a href="author.html#1061">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">More information about the Moonlight-bugs
mailing list</a><br>
</body></html>
