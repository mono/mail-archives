<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-bugs] [Bug 426145] New: Problem with ZIndex of Children	of detached Canvas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20426145%5D%20New%3A%20Problem%20with%20ZIndex%20of%20Children%0A%09of%20detached%20Canvas&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000266.html">
   <LINK REL="Next"  HREF="000278.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-bugs] [Bug 426145] New: Problem with ZIndex of Children	of detached Canvas</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20426145%5D%20New%3A%20Problem%20with%20ZIndex%20of%20Children%0A%09of%20detached%20Canvas&In-Reply-To="
       TITLE="[Moonlight-bugs] [Bug 426145] New: Problem with ZIndex of Children	of detached Canvas">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Sep 13 23:53:57 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000266.html">[Moonlight-bugs] [Bug 412204] Massive framedrops on RotateTransform
</A></li>
        <LI>Next message: <A HREF="000278.html">[Moonlight-bugs] [Bug 426145] Problem with ZIndex of Children of	detached Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#267">[ date ]</a>
              <a href="thread.html#267">[ thread ]</a>
              <a href="subject.html#267">[ subject ]</a>
              <a href="author.html#267">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=426145">https://bugzilla.novell.com/show_bug.cgi?id=426145</A>


           Summary: Problem with ZIndex of Children of detached Canvas
           Product: Moonlight
           Version: 0.8
          Platform: i686
        OS/Version: Ubuntu
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: plugin
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">rmasters at nwlink.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">moonlight-bugs at lists.ximian.com</A>
          Found By: Customer


I've created this &quot;minimal&quot; example that clearly renders differently for
moonlight .8 on ubuntu 8.0.4 + ff 3.0.1 versus windows or mac:
<A HREF="http://207.202.159.29/zindexbug.html">http://207.202.159.29/zindexbug.html</A>

In the upper right quadrant, only moonlight puts the line behind the ellipse.

If you view the source of the file hopefully it will be clear how the content
was created. (The file can also be saved and viewed off line since it does not
require network access to access any other files.) 

The left hand side comes from inline static xaml, passed to the control
instances upon initialization. The right hand side are the equivalent scenes
created from javascript using createFromXaml. See the javascript at the bottom
of the file. There are comments in the javascript explaining where the problem
comes up.


In the upper right, the green canvas is created and the ellipse and line are
added before the green canvas is added to the blue canvas. In the lower right,
the green canvas is created and then it is added to the blue canvas and then
the ellipse and line are added to the green canvas afterwards. Since the
zindexes are all set properly, the sequence of creating the object tree should
not matter and it certainly should not put the children added first in the
foreground. 

I reversed my object creation order to workaround this :( but while playing
around with this example I found that if I set the Canvas.ZIndex in the Xaml I
pass to createFromXaml instead of changing the javascript object attribute
after creation, then the Zindex is honored, and the order of adding the
children does not matter. I guess setting zindex via javascript on objects not
attached to the object tree is somewhat unusual but I imagine others could run
into this as well and be blocked by not understanding why it does not work as
expected on moonlight.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000266.html">[Moonlight-bugs] [Bug 412204] Massive framedrops on RotateTransform
</A></li>
	<LI>Next message: <A HREF="000278.html">[Moonlight-bugs] [Bug 426145] Problem with ZIndex of Children of	detached Canvas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#267">[ date ]</a>
              <a href="thread.html#267">[ thread ]</a>
              <a href="subject.html#267">[ subject ]</a>
              <a href="author.html#267">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">More information about the Moonlight-bugs
mailing list</a><br>
</body></html>
