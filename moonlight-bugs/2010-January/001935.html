<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-bugs] [Bug 571907] justinangel.net does not load / no access to System.ServiceModel.ClientRuntimeChannel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20571907%5D%20justinangel.net%20does%20not%20load%20/%20no%0A%20access%20to%20System.ServiceModel.ClientRuntimeChannel&In-Reply-To=bug-571907-37086%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001929.html">
   <LINK REL="Next"  HREF="001943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-bugs] [Bug 571907] justinangel.net does not load / no access to System.ServiceModel.ClientRuntimeChannel</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:moonlight-bugs%40lists.ximian.com?Subject=%5BMoonlight-bugs%5D%20%5BBug%20571907%5D%20justinangel.net%20does%20not%20load%20/%20no%0A%20access%20to%20System.ServiceModel.ClientRuntimeChannel&In-Reply-To=bug-571907-37086%40http.bugzilla.novell.com/"
       TITLE="[Moonlight-bugs] [Bug 571907] justinangel.net does not load / no access to System.ServiceModel.ClientRuntimeChannel">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Jan 19 13:56:18 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001929.html">[Moonlight-bugs] [Bug 571907] New: justinangel.net does not load / no access to System.ServiceModel.ClientRuntimeChannel
</A></li>
        <LI>Next message: <A HREF="001943.html">[Moonlight-bugs] [Bug 571907] justinangel.net does not load / no access to System.ServiceModel.ClientRuntimeChannel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1935">[ date ]</a>
              <a href="thread.html#1935">[ thread ]</a>
              <a href="subject.html#1935">[ subject ]</a>
              <a href="author.html#1935">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=571907">http://bugzilla.novell.com/show_bug.cgi?id=571907</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=571907#c1">http://bugzilla.novell.com/show_bug.cgi?id=571907#c1</A>


--- Comment #1 from Sebastien Pouliot &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">spouliot at novell.com</A>&gt; 2010-01-19 18:56:14 UTC ---
Full stack trace.

#0  mono_security_core_clr_can_access_internals (accessing=0xee8000,
accessed=0xab4e5400) at security-core-clr.c:421
#1  0xaad50058 in can_access_internals (accessing=0x1256dd0,
accessed=0xac8ccac0) at class.c:8224
#2  0xaad503f9 in can_access_type (access_klass=0xa5361844,
member_klass=0xac5cf844) at class.c:8323
#3  0xaad5098e in mono_method_can_access_method_full (method=0xa53619a4,
called=0xabfedfcc, context_klass=0xa5361844) at class.c:8471
#4  0xaae2064e in do_invoke_method (ctx=0xbfff8964, method_token=167772161,
virtual=1) at verify.c:3489
#5  0xaae2b2eb in mono_method_verify (method=0xa53619a4, level=48) at
verify.c:5422
#6  0xaae2ea6c in mono_method_verify_with_current_settings (method=0xa53619a4,
skip_visibility=0) at verify.c:6094
#7  0xaac1c416 in mini_method_verify (cfg=0xa5430400, method=0xa53619a4) at
mini.c:1251
#8  0xaac1c5e0 in mono_compile_is_broken (cfg=0xa5430400) at mini.c:1296
#9  0xaac20f56 in mini_method_compile (method=0xa53619a4, opts=64055807,
domain=0x34bd0, run_cctors=1, compile_aot=0, parts=0) at mini.c:3417
#10 0xaac22fca in mono_jit_compile_method_inner (method=0xa53619a4,
target_domain=0x34bd0, opt=64055807, jit_ex=0xbfff8f78) at mini.c:4173
#11 0xaac23a16 in mono_jit_compile_method_with_opt (method=0xa53619a4,
opt=64055807, ex=0xbfff8f78) at mini.c:4365
#12 0xaac24353 in mono_jit_runtime_invoke (method=0xa53619a4, obj=0x9b1260,
params=0xbfff9000, exc=0x0) at mini.c:4563
#13 0xaadd4a1c in mono_runtime_invoke (method=0xa53619a4, obj=0x9b1260,
params=0xbfff9000, exc=0x0) at object.c:2604
#14 0xaadd6927 in mono_runtime_invoke_array (method=0xa53619a4, obj=0x9b1260,
params=0x86b640, exc=0x0) at object.c:3735
#15 0xaad75237 in ves_icall_InternalInvoke (method=0xef7b88, this=0x0,
params=0x86b640, exc=0xbfff9148) at icall.c:2830
#16 0xad053e3d in (wrapper managed-to-native)
System.Reflection.MonoCMethod:InternalInvoke (this=@0xef7b88, param0=0x0,
param1=0x86b640, param2=-1073770168) at xdb.il:44517
#17 0xad053a85 in System.Reflection.MonoCMethod:Invoke (this=@0xef7b88,
obj=0x0, invokeAttr=20, binder=@0x5e718, parameters=0x86b640, culture=@0x0)
    at
/home/poupou/svn/branches/2-6/mcs/class/corlib/System.Reflection/MonoMethod.cs:500
#18 0xad053910 in System.Reflection.MonoCMethod:Invoke (this=@0xef7b88,
invokeAttr=20, binder=@0x5e718, parameters=0x86b640, culture=@0x0)
#19 0xa8d341a2 in System.Activator:CreateInstance (type=@0xf00dc0,
bindingAttr=20, binder=@0x5e718, args=0x86b640, culture=@0x0,
activationAttributes=&lt;value optimized out&gt;)
    at /home/poupou/svn/branches/2-6/mcs/class/corlib/System/Activator.cs:303
#20 0xa8d33ec2 in System.Activator:CreateInstance (type=@0xf00dc0,
args=0x86b640, activationAttributes=0xa0f7d0)
#21 0xa8d33e89 in System.Activator:CreateInstance (type=@0xf00dc0,
args=0x86b640)
#22 0xa52e588c in System.ServiceModel.ChannelFactory`1&lt;object&gt;:CreateChannel
(this=@0x2abf00, address=@0x119cc40, via=@0x0)
    at
/home/poupou/svn/branches/2-6/mcs/class/System.ServiceModel/System.ServiceModel/ChannelFactory_1.cs:143
#23 0xa52e573d in System.ServiceModel.ChannelFactory`1&lt;object&gt;:CreateChannel
(this=@0x2abf00, address=@0x119cc40)
#24 0xa52e56ef in System.ServiceModel.ChannelFactory`1&lt;object&gt;:CreateChannel
(this=@0x2abf00)
#25 0xa52e0bcb in
System.Windows.Ria.Services.WebDomainClient`1&lt;object&gt;:BeginQueryCore
(this=@0x656a0, queryName=0x1160050, parameters=@0xa0dd90, query=@0x0, 
    hasSideEffects=&lt;value optimized out&gt;, callback=@0x777f18,
userState=0x890930) at xdb.il:86821
#26 0xa52e090f in System.Windows.Ria.Services.DomainClient:BeginQuery
(this=@0x656a0, queryName=0x1160050, parameters=@0xa0dd90, query=@0x0,
hasSideEffects=false, 
    callback=@0x777f50, userState=0x11cc320) at xdb.il:86736
#27 0xa52e0255 in System.Windows.Ria.DomainContext:Load (this=@0x6b9bb8,
query=@0x119cc60, loadBehavior=KeepCurrent, callback=@0x7671f8, userState=0x0)
at xdb.il:86521
#28 0xa650fdce in System.Windows.Ria.DomainContext:Load&lt;object&gt;
(this=@0x6b9bb8, query=@0x119cc60, loadBehavior=KeepCurrent,
callback=@0x7671f8, userState=0x0) at xdb.il:86410
#29 0xa650fd90 in System.Windows.Ria.DomainContext:Load&lt;object&gt;
(this=@0x6b9bb8, query=@0x119cc60, callback=@0x7671f8, userState=0x0) at
xdb.il:86402
#30 0xa650fd3b in
Silverlight.Weblog.UI.Web.RiaServices.BlogDomainContext:Silverlight.Weblog.UI.Web.RiaServices.IBlogDomainContext.Load&lt;object&gt;
(this=@0x6b9bb8, 
    param0=@0x119cc60, param1=@0x7671f8, param2=0x0) at xdb.il:86391
#31 0xa650d308 in
Silverlight.Weblog.Client.DAL.RiaServices.InitialPaylodService:Load
(this=@0x8f8150) at xdb.il:85514
#32 0xa650d239 in Silverlight.Weblog.UI.UILogic.Initializer:LoadInitialData ()
at xdb.il:85428
#33 0xa780c813 in Silverlight.Weblog.UI.UILogic.Initializer:Init () at
xdb.il:48383
#34 0xa780c783 in Silverlight.Weblog.UI.App:Application_Startup
(this=@0x9b4be0, sender=&lt;value optimized out&gt;, e=&lt;value optimized out&gt;) at
xdb.il:48369
#35 0xad03694d in System.Windows.Application:OnStartup (this=@0x9b4be0,
e=@0x765aa0) at
/home/poupou/svn/moon/class/System.Windows/System.Windows/Application.cs:611
#36 0xad033f8c in System.Windows.Deployment:CreateApplication (this=@0x6d12f8)
at /home/poupou/svn/moon/class/System.Windows/System.Windows/Deployment.cs:540
#37 0xad05dbc1 in System.Windows.Deployment:AssemblyRegister (this=@0x6d12f8,
assembly=@0x6b87e0) at
/home/poupou/svn/moon/class/System.Windows/System.Windows/Deployment.cs:461
#38 0xad0317cc in System.Windows.Deployment:LoadAssemblies (this=@0x6d12f8) at
/home/poupou/svn/moon/class/System.Windows/System.Windows/Deployment.cs:352
#39 0xad027f1b in System.Windows.Deployment:InitializeDeployment
(this=@0x6d12f8, plugin=-1461077888, xapPath=0x16c480, culture=0x0,
uiCulture=0x0)
    at
/home/poupou/svn/moon/class/System.Windows/System.Windows/Deployment.cs:302
#40 0xad027cd2 in Mono.ApplicationLauncher:InitializeDeployment
(plugin=-1461077888, xapFile=0x16c480, culture=0x0, uiCulture=0x0)
#41 0xad027d44 in (wrapper runtime-invoke)
&lt;Module&gt;:runtime_invoke_bool_intptr_object_object_object (param0=&lt;value
optimized out&gt;, param1=-1073768208, param2=-1073768216, 
    param3=-1392345936) at xdb.il:46517
#42 0xaac24590 in mono_jit_runtime_invoke (method=0xab7ef854, obj=0x0,
params=0xbfff98f0, exc=0xbfff98e8) at mini.c:4718
#43 0xaadd4a1c in mono_runtime_invoke (method=0xab7ef854, obj=0x0,
params=0xbfff98f0, exc=0xbfff98e8) at object.c:2604
#44 0xab0a9f29 in Deployment::InitializeManagedDeployment (this=0xae998f10,
plugin_instance=0xa8e9b880, 
    file=0xa9a4d338
&quot;/home/poupou/.mozilla/firefox/6a6oqwgp.MoonTest/Cache/B69189DBd01&quot;,
culture=0x0, uiCulture=0x0) at deployment.cpp:566
#45 0xad08d2c2 in PluginInstance::LoadXAP (this=0xa8e9b880, url=0xac496340
&quot;<A HREF="http://justinangel.net/ClientBin/Silverlight.Weblog.UI.xap&quot;,">http://justinangel.net/ClientBin/Silverlight.Weblog.UI.xap&quot;,</A> 
    fname=0xa9a4d338
&quot;/home/poupou/.mozilla/firefox/6a6oqwgp.MoonTest/Cache/B69189DBd01&quot;) at
plugin.cpp:1096
#46 0xad08d757 in PluginInstance::StreamAsFile (this=0xa8e9b880,
stream=0xa697f920, fname=0xa9a4d338
&quot;/home/poupou/.mozilla/firefox/6a6oqwgp.MoonTest/Cache/B69189DBd01&quot;)
    at plugin.cpp:1302
#47 0xad0933d5 in NPP_StreamAsFile (instance=0xb0edbd58, stream=0xa697f920,
fname=0xa9a4d338
&quot;/home/poupou/.mozilla/firefox/6a6oqwgp.MoonTest/Cache/B69189DBd01&quot;)
    at plugin-glue.cpp:101
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#48 0xb6cd5b3b in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#49 0xb6cd952b in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#50 0xb6ce055c in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#51 0xb6703e8f in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#52 0xb6e6b5ef in NS_InvokeByIndex_P () from
/usr/lib/xulrunner-1.9.1.6/libxul.so
#53 0xb6653fba in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#54 0xb665b867 in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#55 0xb76bc7ce in js_Invoke () from /usr/lib/xulrunner-1.9.1.6/libmozjs.so
#56 0xb76ac93c in ?? () from /usr/lib/xulrunner-1.9.1.6/libmozjs.so
#57 0xb76bc7e1 in js_Invoke () from /usr/lib/xulrunner-1.9.1.6/libmozjs.so
#58 0xb6650ebe in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#59 0xb664c69d in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#60 0xb6e6c0f8 in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#61 0xb670197e in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#62 0xb66959c5 in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#63 0xb6695ce9 in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#64 0xb6e4aca7 in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#65 0xb6e5e9cc in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#66 0xb6e2f1b4 in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#67 0xb6daf9a4 in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#68 0xb6c775b0 in ?? () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#69 0xb6625e75 in XRE_main () from /usr/lib/xulrunner-1.9.1.6/libxul.so
#70 0x08049f1f in ?? ()
#71 0xb7c4b705 in __libc_start_main () from /lib/libc.so.6
#72 0x080498e1 in ?? ()

Note that by disabling the verifier (but not coreclr) the
&quot;can_access_internals&quot; won't be done and the site will load (not completely
since it depends on SL3 features currently missing in ML). 

But this explains why this is working with Mono itself - where the verifier is
disabled by default, while it does not work for Moonlight.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001929.html">[Moonlight-bugs] [Bug 571907] New: justinangel.net does not load / no access to System.ServiceModel.ClientRuntimeChannel
</A></li>
	<LI>Next message: <A HREF="001943.html">[Moonlight-bugs] [Bug 571907] justinangel.net does not load / no access to System.ServiceModel.ClientRuntimeChannel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1935">[ date ]</a>
              <a href="thread.html#1935">[ thread ]</a>
              <a href="subject.html#1935">[ subject ]</a>
              <a href="author.html#1935">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-bugs">More information about the Moonlight-bugs
mailing list</a><br>
</body></html>
