<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [csharplang] C# proposal: classes declaring interfaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:csharplang%40lists.dot.net?Subject=Re%3A%20%5Bcsharplang%5D%20C%23%20proposal%3A%20classes%20declaring%20interfaces&In-Reply-To=%3CCAMoNj50Db%3D_erNviJsCpvnBgUYbv-DiNS46igD%2BB%3DnMxdWgjFg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000055.html">
   <LINK REL="Next"  HREF="000059.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[csharplang] C# proposal: classes declaring interfaces</H1>
    <B>Anton Purin</B> 
    <A HREF="mailto:csharplang%40lists.dot.net?Subject=Re%3A%20%5Bcsharplang%5D%20C%23%20proposal%3A%20classes%20declaring%20interfaces&In-Reply-To=%3CCAMoNj50Db%3D_erNviJsCpvnBgUYbv-DiNS46igD%2BB%3DnMxdWgjFg%40mail.gmail.com%3E"
       TITLE="[csharplang] C# proposal: classes declaring interfaces">purin.anton at gmail.com
       </A><BR>
    <I>Fri Feb  3 07:30:10 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000055.html">[csharplang] Commonly (rejected) proposals
</A></li>
        <LI>Next message (by thread): <A HREF="000059.html">[csharplang] C# proposal: classes declaring interfaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56">[ date ]</a>
              <a href="thread.html#56">[ thread ]</a>
              <a href="subject.html#56">[ subject ]</a>
              <a href="author.html#56">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,


*What?*

Syntax sugar which allows classes to declare interfaces with all their
public methods.

Simplest example:

class Configuration: declares IConfiguration
{
    public int MaxInstances { get; }
}

will declare an interface IConfiguration, which otherwise would look like
this:

interface IConfiguration
{
    int MaxInstances { get; }
}


It also works really straight forward with the more complex cases:

class My : IDisposable
    declares IMy
{

    public event Action Something;


    public void Foo() { }

    public void Dispose() { }

    protected void Bar() { }
}


will declare interface like this:

interface IMy : IDisposable
{
    event Action Something;

    void Foo();
}


As you can see it includes all public members and inherits all interfaces
too, so My and IMy sharing the whole


*Why it is needed?*

It will simplify all cases when you have one class implementing one
interface in the same assembly.
You don't have to:

   - keep a separate interface
   - maintaining an extra file
   - updating interface's members each time the class was changed

Most obvious example is mocking, when you just need to extract all public
methods to interface, so you can substitute that class:

var fakeConfiguration = Substitute.For&lt;IConfiguration&gt;();
fakeConfiguration.MaxInstances.Returns(callInfo =&gt; testInstanceCount++);


Best regards,
Anton
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/csharplang/attachments/20170203/38a9c8f6/attachment.html">http://lists.dot.net/pipermail/csharplang/attachments/20170203/38a9c8f6/attachment.html</A>&gt;
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000055.html">[csharplang] Commonly (rejected) proposals
</A></li>
	<LI>Next message (by thread): <A HREF="000059.html">[csharplang] C# proposal: classes declaring interfaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56">[ date ]</a>
              <a href="thread.html#56">[ thread ]</a>
              <a href="subject.html#56">[ subject ]</a>
              <a href="author.html#56">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/csharplang">More information about the csharplang
mailing list</a><br>
</body></html>
