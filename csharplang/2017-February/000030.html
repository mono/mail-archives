<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [csharplang] Proposal: &quot;while&quot; as a LINQ query expression clause
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:csharplang%40lists.dot.net?Subject=Re%3A%20%5Bcsharplang%5D%20Proposal%3A%20%22while%22%20as%20a%20LINQ%20query%20expression%20clause&In-Reply-To=%3CBLUPR0301MB15245D8679916BE8B3D0E434E64F0%40BLUPR0301MB1524.namprd03.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000028.html">
   <LINK REL="Next"  HREF="000024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[csharplang] Proposal: &quot;while&quot; as a LINQ query expression clause</H1>
    <B>Dustin Campbell</B> 
    <A HREF="mailto:csharplang%40lists.dot.net?Subject=Re%3A%20%5Bcsharplang%5D%20Proposal%3A%20%22while%22%20as%20a%20LINQ%20query%20expression%20clause&In-Reply-To=%3CBLUPR0301MB15245D8679916BE8B3D0E434E64F0%40BLUPR0301MB1524.namprd03.prod.outlook.com%3E"
       TITLE="[csharplang] Proposal: &quot;while&quot; as a LINQ query expression clause">Dustin.Campbell at microsoft.com
       </A><BR>
    <I>Fri Feb  3 02:31:56 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000028.html">[csharplang] Proposal: &quot;while&quot; as a LINQ query expression clause
</A></li>
        <LI>Next message (by thread): <A HREF="000024.html">[csharplang] [Proposal]: Explicitly Mutable Anonymous Type Members
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30">[ date ]</a>
              <a href="thread.html#30">[ thread ]</a>
              <a href="subject.html#30">[ subject ]</a>
              <a href="author.html#30">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Agree. I was reaching a bit on &quot;take until&quot; and &quot;skip until&quot; [ðŸ˜Š]

________________________________
From: Cyrus Najmabadi
Sent: Thursday, February 2, 2017 6:18:33 PM
To: Dustin Campbell; Justin Spindler
Cc: <A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>
Subject: RE: [csharplang] Proposal: &quot;while&quot; as a LINQ query expression clause

I agree with Dustin on this.  At least about having:

take while i &lt; 10
skip while i &lt; 10

In general, Iâ€™d like us to have more parity between the query syntax and the actual linq API pattern.

             -- Cyrus

From: csharplang [mailto:<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang-bounces at lists.dot.net</A>] On Behalf Of Dustin Campbell via csharplang
Sent: Thursday, February 2, 2017 4:53 PM
To: Justin Spindler &lt;<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">justin.spindler at gmail.com</A>&gt;; <A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>
Subject: Re: [csharplang] Proposal: &quot;while&quot; as a LINQ query expression clause

I'd kind of like a way to do SkipWhile as well. Honestly, I think I'd like the following:

take while i &lt; 10
take until i == 10
skip while i &lt; 10
take until i == 10
________________________________
From: csharplang &lt;<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang-bounces at lists.dot.net</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang-bounces at lists.dot.net</A>&gt;&gt; on behalf of Justin Spindler &lt;<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">justin.spindler at gmail.com</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">justin.spindler at gmail.com</A>&gt;&gt;
Sent: Thursday, February 2, 2017 4:49:31 PM
To: <A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>&gt;
Subject: [csharplang] Proposal: &quot;while&quot; as a LINQ query expression clause

<A HREF="https://github.com/dotnet/roslyn/issues/15638&lt;https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fdotnet%2Froslyn%2Fissues%2F15638&amp;data=02%7C01%7Cdustin.campbell%40microsoft.com%7C9fcdc633d33e4673ff3508d44bce85e4%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636216797784391149&amp;sdata=j8A5hlzGaurDIE8XM%2BC5eax1oQYiQ1E3pV3B%2FfYYpk0%3D&amp;reserved=0">https://github.com/dotnet/roslyn/issues/15638&lt;https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fdotnet%2Froslyn%2Fissues%2F15638&amp;data=02%7C01%7Cdustin.campbell%40microsoft.com%7C9fcdc633d33e4673ff3508d44bce85e4%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636216797784391149&amp;sdata=j8A5hlzGaurDIE8XM%2BC5eax1oQYiQ1E3pV3B%2FfYYpk0%3D&amp;reserved=0</A>&gt;


Low effort/reward proposal:

I propose that the existing C# keyword while be added as a LINQ query expression clause. Unlike where which filters out elements that do not meet the condition while would include all elements as long as the condition is met. Since while is already a keyword this would not break any existing syntax.

var q = from i in numbers

where i % 2 == 0

while i &lt; 10

select i * 2;



// translated into

var q = numbers

    .Where(i =&gt; i % 2 == 0)

    .TakeWhile(i =&gt; i &lt; 10)

    .Select(i =&gt; i * 2);
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/csharplang/attachments/20170203/c245d53e/attachment-0001.html">http://lists.dot.net/pipermail/csharplang/attachments/20170203/c245d53e/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OutlookEmoji-ðŸ˜Š.png
Type: image/png
Size: 488 bytes
Desc: OutlookEmoji-ðŸ˜Š.png
URL: &lt;<A HREF="http://lists.dot.net/pipermail/csharplang/attachments/20170203/c245d53e/attachment-0001.png">http://lists.dot.net/pipermail/csharplang/attachments/20170203/c245d53e/attachment-0001.png</A>&gt;
</PRE>

























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000028.html">[csharplang] Proposal: &quot;while&quot; as a LINQ query expression clause
</A></li>
	<LI>Next message (by thread): <A HREF="000024.html">[csharplang] [Proposal]: Explicitly Mutable Anonymous Type Members
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30">[ date ]</a>
              <a href="thread.html#30">[ thread ]</a>
              <a href="subject.html#30">[ subject ]</a>
              <a href="author.html#30">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/csharplang">More information about the csharplang
mailing list</a><br>
</body></html>
