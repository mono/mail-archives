<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [csharplang] Proposal: Field-targeting attributes	on	auto-properties
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:csharplang%40lists.dot.net?Subject=Re%3A%20%5Bcsharplang%5D%20Proposal%3A%20Field-targeting%20attributes%0A%09on%09auto-properties&In-Reply-To=%3CBN6PR03MB2785B08B1EF393A336ABAE07A94F0%40BN6PR03MB2785.namprd03.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000062.html">
   <LINK REL="Next"  HREF="000066.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[csharplang] Proposal: Field-targeting attributes	on	auto-properties</H1>
    <B>Matt Warren</B> 
    <A HREF="mailto:csharplang%40lists.dot.net?Subject=Re%3A%20%5Bcsharplang%5D%20Proposal%3A%20Field-targeting%20attributes%0A%09on%09auto-properties&In-Reply-To=%3CBN6PR03MB2785B08B1EF393A336ABAE07A94F0%40BN6PR03MB2785.namprd03.prod.outlook.com%3E"
       TITLE="[csharplang] Proposal: Field-targeting attributes	on	auto-properties">mattwar at microsoft.com
       </A><BR>
    <I>Fri Feb  3 19:24:59 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000062.html">[csharplang] Proposal: Field-targeting attributes on	auto-properties
</A></li>
        <LI>Next message (by thread): <A HREF="000066.html">[csharplang] Proposal: Field-targeting attributes	on	auto-properties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63">[ date ]</a>
              <a href="thread.html#63">[ thread ]</a>
              <a href="subject.html#63">[ subject ]</a>
              <a href="author.html#63">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think that it would be unclear to the user how many different pieces are created by the compiler to make iterators work and which of those pieces these attributes would be applying to.

From: csharplang [mailto:<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang-bounces at lists.dot.net</A>] On Behalf Of Leo Shine
Sent: Friday, February 3, 2017 11:08 AM
To: Mads Torgersen &lt;<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">Mads.Torgersen at microsoft.com</A>&gt;; Justin Spindler &lt;<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">justin.spindler at gmail.com</A>&gt;; <A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>
Subject: Re: [csharplang] Proposal: Field-targeting attributes on auto-properties

Would there be any benefit extending this to two other features where the compiler generates code behind the scenes, namely iterators and async functions?

Specifically the Attributes could be targeted at the IEnumerator type that is generated and to the async State machine.

I don't have any specific use cases for this.

Leo

On Fri, 3 Feb 2017 at 18:15 Mads Torgersen via csharplang &lt;<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>&gt;&gt; wrote:
I love it. This fixes a hole in the current experience, and doesn’t add any conceptual burden to the language – almost on the contrary, as it is a surprise to many that this doesn’t work.

We have wanted to do this before, but have had a hard time prioritizing the implementation work over other efforts on the Microsoft compiler team. I suspect this remains the case. This feels like another good candidate for an “up-for-grabs” feature.

Justin, as a member of the language design team I would like to champion this feature. I would like to invite you to submit it as a pull request on the “proposals” folder in the new repo. Would you be up for that? As the champion I take responsibility for moving it through the language design process.

Thanks!

Mads


From: csharplang [mailto:<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang-bounces at lists.dot.net</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang-bounces at lists.dot.net</A>&gt;] On Behalf Of Justin Spindler
Sent: Thursday, February 2, 2017 4:48 PM
To: <A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>&gt;
Subject: [csharplang] Proposal: Field-targeting attributes on auto-properties

<A HREF="https://github.com/dotnet/roslyn/issues/7004&lt;https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fdotnet%2Froslyn%2Fissues%2F7004&amp;data=02%7C01%7Cmads.torgersen%40microsoft.com%7Cb00ab5aafe1a4ef52ebd08d44bce4685%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636216796708196074&amp;sdata=e9h56qizPJkPnIcv0lIJ5cTDiHKKinJjN4P60hNziDA%3D&amp;reserved=0">https://github.com/dotnet/roslyn/issues/7004&lt;https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fdotnet%2Froslyn%2Fissues%2F7004&amp;data=02%7C01%7Cmads.torgersen%40microsoft.com%7Cb00ab5aafe1a4ef52ebd08d44bce4685%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636216796708196074&amp;sdata=e9h56qizPJkPnIcv0lIJ5cTDiHKKinJjN4P60hNziDA%3D&amp;reserved=0</A>&gt;


I'm proposing allowing field-targeted attributes on auto-properties. The compiler would automatically attach that attribute to the generated backing field.

[field: NonSerialized]

public string Name { get; set; }

equivalent to:

[NonSerialized]

private string name;



public string Name {

    get { return this.name; }

    set { this.name = value; }

}

This would bring auto-properties into parity with events which have supported this syntax since C# 1.0:

[field: NonSerialized]

public event EventHandler Foo;
_______________________________________________
csharplang mailing list
<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>&gt;
<A HREF="http://lists.dot.net/mailman/listinfo/csharplang&lt;https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Flists.dot.net%2Fmailman%2Flistinfo%2Fcsharplang&amp;data=02%7C01%7Cmattwar%40microsoft.com%7C14602e0e1f8848bdd9e908d44c68011d%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636217456982370611&amp;sdata=b1pTUi4ihuHK30U8N2CqxcuUINtLL8r7E6ximDVTTAU%3D&amp;reserved=0">http://lists.dot.net/mailman/listinfo/csharplang&lt;https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Flists.dot.net%2Fmailman%2Flistinfo%2Fcsharplang&amp;data=02%7C01%7Cmattwar%40microsoft.com%7C14602e0e1f8848bdd9e908d44c68011d%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636217456982370611&amp;sdata=b1pTUi4ihuHK30U8N2CqxcuUINtLL8r7E6ximDVTTAU%3D&amp;reserved=0</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/csharplang/attachments/20170203/775e948f/attachment-0001.html">http://lists.dot.net/pipermail/csharplang/attachments/20170203/775e948f/attachment-0001.html</A>&gt;
</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000062.html">[csharplang] Proposal: Field-targeting attributes on	auto-properties
</A></li>
	<LI>Next message (by thread): <A HREF="000066.html">[csharplang] Proposal: Field-targeting attributes	on	auto-properties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63">[ date ]</a>
              <a href="thread.html#63">[ thread ]</a>
              <a href="subject.html#63">[ subject ]</a>
              <a href="author.html#63">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/csharplang">More information about the csharplang
mailing list</a><br>
</body></html>
