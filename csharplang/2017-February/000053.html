<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [csharplang] Operators should be exposed for `System.IntPtr`	and `System.UIntPtr`
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:csharplang%40lists.dot.net?Subject=Re%3A%20%5Bcsharplang%5D%20Operators%20should%20be%20exposed%20for%20%60System.IntPtr%60%0A%09and%20%60System.UIntPtr%60&In-Reply-To=%3CCABoMf7nw7iCxGD6avGL7m8xyXQv-TsSZ0O3uJ3Rcsn7qoL%3D8sw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000064.html">
   <LINK REL="Next"  HREF="000065.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[csharplang] Operators should be exposed for `System.IntPtr`	and `System.UIntPtr`</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:csharplang%40lists.dot.net?Subject=Re%3A%20%5Bcsharplang%5D%20Operators%20should%20be%20exposed%20for%20%60System.IntPtr%60%0A%09and%20%60System.UIntPtr%60&In-Reply-To=%3CCABoMf7nw7iCxGD6avGL7m8xyXQv-TsSZ0O3uJ3Rcsn7qoL%3D8sw%40mail.gmail.com%3E"
       TITLE="[csharplang] Operators should be exposed for `System.IntPtr`	and `System.UIntPtr`">miguel.de.icaza at gmail.com
       </A><BR>
    <I>Fri Feb  3 18:32:03 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000064.html">[csharplang] Operators should be exposed for `System.IntPtr`	and `System.UIntPtr`
</A></li>
        <LI>Next message (by thread): <A HREF="000065.html">[csharplang] Operators should be exposed for `System.IntPtr` and `System.UIntPtr`
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53">[ date ]</a>
              <a href="thread.html#53">[ thread ]</a>
              <a href="subject.html#53">[ subject ]</a>
              <a href="author.html#53">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Sure.  I’d much rather ship a new library versus rev the language just to
&gt;<i> make working with IntPtrs nicer.  We’re talking about a feature for an
</I>&gt;<i> absolutely tiny subset of our users.  I think we should be thinking about
</I>&gt;<i> features that bring about large value to much larger groups.
</I>&gt;<i>
</I>
It is only tiny, because we have made it so cumbersome to use.

Xamarin had to introduce hacks like &quot;System.nint&quot; and &quot;System.nuint&quot; to
solve the problem in the world of Apple interop.

On Apple platforms, APIs are defined in terms of the natural integer size,
not the 32-bit version, or the 64-bit version.

Had UIntPtr or IntPtr had these APIs, we would not have had to resort to
these hacks.

Being able to do basic arithmetic with the natural integer is something
that many C libraries expect, and the tools are just not there in C#.

That being said, we are having a discussion in parallel with the runtime
people about introducing the same capability for floating point values
(again, interop), and we might end up introducing not only the overloaded
operations on System.*IntPtr, but also introducing the type aliases &quot;nint&quot;,
&quot;nuint&quot;, and &quot;nfloat&quot;.

In other words: I don’t doubt the value of the feature to you (and a small
&gt;<i> number of others).  What I question is why we’d work on this instead of a
</I>&gt;<i> larger feature that can benefit more situations.  For example, when we
</I>&gt;<i> built Linq we didn’t just create the ‘Linq’ feature.  We did an aggregate
</I>&gt;<i> of many different features, including:
</I>&gt;<i>
</I>
The discussion on priorities is independent.

Miguel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/csharplang/attachments/20170203/f2986937/attachment-0001.html">http://lists.dot.net/pipermail/csharplang/attachments/20170203/f2986937/attachment-0001.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000064.html">[csharplang] Operators should be exposed for `System.IntPtr`	and `System.UIntPtr`
</A></li>
	<LI>Next message (by thread): <A HREF="000065.html">[csharplang] Operators should be exposed for `System.IntPtr` and `System.UIntPtr`
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53">[ date ]</a>
              <a href="thread.html#53">[ thread ]</a>
              <a href="subject.html#53">[ subject ]</a>
              <a href="author.html#53">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/csharplang">More information about the csharplang
mailing list</a><br>
</body></html>
