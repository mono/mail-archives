<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [csharplang] C# proposal: classes declaring interfaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:csharplang%40lists.dot.net?Subject=Re%3A%20%5Bcsharplang%5D%20C%23%20proposal%3A%20classes%20declaring%20interfaces&In-Reply-To=%3C58987b10.09b31c0a.1c672.1f31%40mx.google.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000083.html">
   <LINK REL="Next"  HREF="000086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[csharplang] C# proposal: classes declaring interfaces</H1>
    <B>christos.matskas at gmail.com</B> 
    <A HREF="mailto:csharplang%40lists.dot.net?Subject=Re%3A%20%5Bcsharplang%5D%20C%23%20proposal%3A%20classes%20declaring%20interfaces&In-Reply-To=%3C58987b10.09b31c0a.1c672.1f31%40mx.google.com%3E"
       TITLE="[csharplang] C# proposal: classes declaring interfaces">christos.matskas at gmail.com
       </A><BR>
    <I>Mon Feb  6 13:33:00 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000083.html">[csharplang] C# proposal: classes declaring interfaces
</A></li>
        <LI>Next message (by thread): <A HREF="000086.html">[csharplang] C# proposal: classes declaring interfaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84">[ date ]</a>
              <a href="thread.html#84">[ thread ]</a>
              <a href="subject.html#84">[ subject ]</a>
              <a href="author.html#84">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-1 from me too. Sounds like a very bad idea IMHO

Sent from Mail for Windows 10

From: Paulo Morgado
Sent: 06 February 2017 13:24
To: Joseph Musser
Cc: Anton Purin; <A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>
Subject: Re: [csharplang] C# proposal: classes declaring interfaces

-1


--
Paulo Morgado

On Fri, Feb 3, 2017 at 6:54 PM, Joseph Musser &lt;<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">me at jnm2.com</A>&gt; wrote:
This is where I'd normally push the -1 button on GitHub and let a more eloquent and experienced community member explain why it's not a good idea to make interfaces cater to the implementing class instead of catering to the client that uses them.

On Fri, Feb 3, 2017 at 2:30 AM, Anton Purin &lt;<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">purin.anton at gmail.com</A>&gt; wrote:
Hello, 


What?

Syntax sugar which allows classes to declare interfaces with all their public methods.

Simplest example:

class Configuration: declares IConfiguration
{
    public int MaxInstances { get; }
}

will declare an interface IConfiguration, which otherwise would look like this:

interface IConfiguration
{
    int MaxInstances { get; }
}

It also works really straight forward with the more complex cases:

class My : IDisposable 
    declares IMy
{
    public event Action Something;

    public void Foo() { }

    public void Dispose() { }

    protected void Bar() { }    
}

will declare interface like this:

interface IMy : IDisposable
{
    event Action Something;

    void Foo();
}

As you can see it includes all public members and inherits all interfaces too, so My and IMy sharing the whole


Why it is needed?

It will simplify all cases when you have one class implementing one interface in the same assembly.
You don't have to:
• keep a separate interface 
• maintaining an extra file 
• updating interface's members each time the class was changed
Most obvious example is mocking, when you just need to extract all public methods to interface, so you can substitute that class:

var fakeConfiguration = Substitute.For&lt;IConfiguration&gt;();
fakeConfiguration.MaxInstances.Returns(callInfo =&gt; testInstanceCount++); 

Best regards,
Anton

_______________________________________________
csharplang mailing list
<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>
<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">http://lists.dot.net/mailman/listinfo/csharplang</A>


_______________________________________________
csharplang mailing list
<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">csharplang at lists.dot.net</A>
<A HREF="http://lists.dot.net/mailman/listinfo/csharplang">http://lists.dot.net/mailman/listinfo/csharplang</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/csharplang/attachments/20170206/b9ee3fbe/attachment-0001.html">http://lists.dot.net/pipermail/csharplang/attachments/20170206/b9ee3fbe/attachment-0001.html</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000083.html">[csharplang] C# proposal: classes declaring interfaces
</A></li>
	<LI>Next message (by thread): <A HREF="000086.html">[csharplang] C# proposal: classes declaring interfaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84">[ date ]</a>
              <a href="thread.html#84">[ thread ]</a>
              <a href="subject.html#84">[ subject ]</a>
              <a href="author.html#84">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/csharplang">More information about the csharplang
mailing list</a><br>
</body></html>
