<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;a&nbsp;href=&quot;https://github.com/dotnet/roslyn/issues/158&quot;&gt;https://github.com/dotnet/roslyn/issues/158&lt;/a&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;h3&nbsp;style=&quot;box-sizing:border-box;margin-bottom:16px;font-size:1.25em;line-height:1.25;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;margin-top:0px&quot;&gt;Problem&lt;/h3&gt;&lt;p&nbsp;style=&quot;box-sizing:border-box;margin-top:0px;margin-bottom:16px;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;font-size:14px&quot;&gt;In&nbsp;C#&nbsp;it&nbsp;is&nbsp;currently&nbsp;not&nbsp;legal&nbsp;to&nbsp;specify&nbsp;that&nbsp;a&nbsp;generic&nbsp;type&nbsp;parameter&nbsp;be&nbsp;constrained&nbsp;to &lt;code&nbsp;style=&quot;box-sizing:border-box;font-family:consolas,&quot;liberation&nbsp;mono&quot;,menlo,courier,monospace;font-size:11.9px;padding:0.2em&nbsp;0px;margin:0px;background-color:rgba(0,0,0,0.0392157);border-radius:3px&quot;&gt;System.Delegate&lt;/code&gt;.&lt;/p&gt;&lt;div&nbsp;class=&quot;gmail-highlight&nbsp;gmail-highlight-source-cs&quot;&nbsp;style=&quot;box-sizing:border-box;margin-bottom:16px;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;font-size:14px;overflow:visible&quot;&gt;&lt;pre&nbsp;style=&quot;box-sizing:border-box;font-family:consolas,&quot;liberation&nbsp;mono&quot;,menlo,courier,monospace;font-size:11.9px;margin-top:0px;margin-bottom:0px;font-stretch:normal;line-height:1.45;word-wrap:normal;padding:16px;overflow:auto;background-color:rgb(247,247,247);border-radius:3px;word-break:normal&quot;&gt;&lt;span&nbsp;class=&quot;gmail-pl-c&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(150,152,150)&quot;&gt;//&nbsp;CS0702:&nbsp;Constraint&nbsp;cannot&nbsp;be&nbsp;special&nbsp;class&nbsp;&#39;System.Delegate&#39;&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;public&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;Combine&lt;/span&gt;(&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-smi&quot;&nbsp;style=&quot;box-sizing:border-box&quot;&gt;first&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;params&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;[]&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-smi&quot;&nbsp;style=&quot;box-sizing:border-box&quot;&gt;others&lt;/span&gt;)&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;where&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;:&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;System.Delegate&lt;/span&gt;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;...<br>
}&lt;/pre&gt;&lt;/div&gt;&lt;p&nbsp;style=&quot;box-sizing:border-box;margin-top:0px;margin-bottom:16px;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;font-size:14px&quot;&gt;This&nbsp;is&nbsp;a&nbsp;limitation&nbsp;imposed&nbsp;only&nbsp;by&nbsp;the&nbsp;C#&nbsp;compiler.&nbsp;The&nbsp;.NET&nbsp;runtime&nbsp;fully&nbsp;supports&nbsp;generic&nbsp;type&nbsp;constraints&nbsp;of&nbsp;System.Delegate&nbsp;and&nbsp;the&nbsp;C#&nbsp;compiler&nbsp;does&nbsp;support&nbsp;consuming&nbsp;said&nbsp;constraints&nbsp;from&nbsp;assemblies&nbsp;that&nbsp;have&nbsp;been&nbsp;compiled&nbsp;from&nbsp;languages&nbsp;without&nbsp;that&nbsp;limitation:&lt;/p&gt;&lt;pre&nbsp;style=&quot;box-sizing:border-box;font-family:consolas,&quot;liberation&nbsp;mono&quot;,menlo,courier,monospace;font-size:11.9px;margin-top:0px;margin-bottom:16px;font-stretch:normal;line-height:1.45;word-wrap:normal;padding:16px;overflow:auto;background-color:rgb(247,247,247);border-radius:3px;color:rgb(51,51,51)&quot;&gt;&lt;code&nbsp;class=&quot;gmail-language-Oxygene&quot;&nbsp;style=&quot;box-sizing:border-box;font-family:consolas,&quot;liberation&nbsp;mono&quot;,menlo,courier,monospace;font-size:11.9px;padding:0px;margin:0px;background-image:initial;background-position:initial;background-size:initial;background-repeat:initial;background-origin:initial;background-clip:initial;background-color:transparent;border-radius:3px;word-break:normal;border:0px;display:inline;overflow:visible;line-height:inherit;word-wrap:normal&quot;&gt;extension&nbsp;method&nbsp;TDelegate.Combine&lt;TDelegate&gt;(params&nbsp;others:&nbsp;array&nbsp;of&nbsp;TDelegate):&nbsp;TDelegate;&nbsp;where&nbsp;TDelegate&nbsp;is&nbsp;System.Delegate<br>
&lt;/code&gt;&lt;/pre&gt;&lt;div&nbsp;class=&quot;gmail-highlight&nbsp;gmail-highlight-source-cs&quot;&nbsp;style=&quot;box-sizing:border-box;margin-bottom:16px;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;font-size:14px;overflow:visible&quot;&gt;&lt;pre&nbsp;style=&quot;box-sizing:border-box;font-family:consolas,&quot;liberation&nbsp;mono&quot;,menlo,courier,monospace;font-size:11.9px;margin-top:0px;margin-bottom:0px;font-stretch:normal;line-height:1.45;word-wrap:normal;padding:16px;overflow:auto;background-color:rgb(247,247,247);border-radius:3px;word-break:normal&quot;&gt;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;EventHandler&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;handler1&lt;/span&gt;&nbsp;=&nbsp;(&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;s&lt;/span&gt;,&nbsp;e)&nbsp;=&gt;&nbsp;Console.WriteLine(&lt;span&nbsp;class=&quot;gmail-pl-s&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(24,54,145)&quot;&gt;&lt;span&nbsp;class=&quot;gmail-pl-pds&quot;&nbsp;style=&quot;box-sizing:border-box&quot;&gt;&quot;&lt;/span&gt;this&lt;span&nbsp;class=&quot;gmail-pl-pds&quot;&nbsp;style=&quot;box-sizing:border-box&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;);<br>
&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;EventHandler&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;handler2&lt;/span&gt;&nbsp;=&nbsp;(&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;s&lt;/span&gt;,&nbsp;e)&nbsp;=&gt;&nbsp;Console.WriteLine(&lt;span&nbsp;class=&quot;gmail-pl-s&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(24,54,145)&quot;&gt;&lt;span&nbsp;class=&quot;gmail-pl-pds&quot;&nbsp;style=&quot;box-sizing:border-box&quot;&gt;&quot;&lt;/span&gt;that&lt;span&nbsp;class=&quot;gmail-pl-pds&quot;&nbsp;style=&quot;box-sizing:border-box&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;);<br>
&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;EventHandler&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;combined&lt;/span&gt;&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;handler1.Combine&lt;/span&gt;(handler2);&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-c&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(150,152,150)&quot;&gt;//&nbsp;calling&nbsp;Oxygene&nbsp;extension&nbsp;method&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&nbsp;style=&quot;box-sizing:border-box;margin-top:24px;margin-bottom:16px;font-size:1.25em;line-height:1.25;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;&quot;&gt;Proposal:&lt;/h3&gt;&lt;p&nbsp;style=&quot;box-sizing:border-box;margin-top:0px;margin-bottom:16px;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;font-size:14px&quot;&gt;Remove&nbsp;the&nbsp;artificial&nbsp;limitation&nbsp;and&nbsp;allow&nbsp;a&nbsp;generic&nbsp;type&nbsp;constraint&nbsp;to&nbsp;be&nbsp;of&nbsp;type &lt;code&nbsp;style=&quot;box-sizing:border-box;font-family:consolas,&quot;liberation&nbsp;mono&quot;,menlo,courier,monospace;font-size:11.9px;padding:0.2em&nbsp;0px;margin:0px;background-color:rgba(0,0,0,0.0392157);border-radius:3px&quot;&gt;System.Delegate&lt;/code&gt;.&nbsp;Since&nbsp;this&nbsp;syntax&nbsp;is&nbsp;currently&nbsp;illegal&nbsp;in&nbsp;C#&nbsp;doing&nbsp;so&nbsp;would&nbsp;not&nbsp;impact&nbsp;any&nbsp;existing&nbsp;code.&lt;/p&gt;&lt;p&nbsp;style=&quot;box-sizing:border-box;margin-top:0px;margin-bottom:16px;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;font-size:14px&quot;&gt;Note&nbsp;that&nbsp;I&nbsp;am&nbsp;not&nbsp;suggesting&nbsp;to&nbsp;support&nbsp;the&nbsp;keyword &lt;code&nbsp;style=&quot;box-sizing:border-box;font-family:consolas,&quot;liberation&nbsp;mono&quot;,menlo,courier,monospace;font-size:11.9px;padding:0.2em&nbsp;0px;margin:0px;background-color:rgba(0,0,0,0.0392157);border-radius:3px&quot;&gt;delegate&lt;/code&gt;.&nbsp;My&nbsp;opinion&nbsp;is&nbsp;that&nbsp;the&nbsp;keyword&nbsp;be&nbsp;left&nbsp;unsupported&nbsp;for&nbsp;potential&nbsp;future&nbsp;constraint&nbsp;work&nbsp;that&nbsp;would&nbsp;allow&nbsp;specifying&nbsp;a&nbsp;required&nbsp;signature&nbsp;for&nbsp;the&nbsp;delegate&nbsp;which&nbsp;would&nbsp;expose&nbsp;the&nbsp;ability&nbsp;to&nbsp;invoke&nbsp;the&nbsp;delegate.&nbsp;The&nbsp;runtime&nbsp;does&nbsp;not&nbsp;currently&nbsp;support&nbsp;such&nbsp;a&nbsp;notion&nbsp;and&nbsp;it&nbsp;would&nbsp;be&nbsp;unenforceable.&lt;/p&gt;&lt;h3&nbsp;style=&quot;box-sizing:border-box;margin-top:24px;margin-bottom:16px;font-size:1.25em;line-height:1.25;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;&quot;&gt;Use&nbsp;Cases&lt;/h3&gt;&lt;p&nbsp;style=&quot;box-sizing:border-box;margin-top:0px;margin-bottom:16px;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;font-size:14px&quot;&gt;Type-safe&nbsp;helper&nbsp;methods&nbsp;to&nbsp;combine&nbsp;delegates:&lt;/p&gt;&lt;div&nbsp;class=&quot;gmail-highlight&nbsp;gmail-highlight-source-cs&quot;&nbsp;style=&quot;box-sizing:border-box;margin-bottom:16px;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;font-size:14px;overflow:visible&quot;&gt;&lt;pre&nbsp;style=&quot;box-sizing:border-box;font-family:consolas,&quot;liberation&nbsp;mono&quot;,menlo,courier,monospace;font-size:11.9px;margin-top:0px;margin-bottom:0px;font-stretch:normal;line-height:1.45;word-wrap:normal;padding:16px;overflow:auto;background-color:rgb(247,247,247);border-radius:3px;word-break:normal&quot;&gt;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;public&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;static&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;Combine&lt;/span&gt;&lt;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&gt;(&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;this&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-smi&quot;&nbsp;style=&quot;box-sizing:border-box&quot;&gt;TDelegate&lt;/span&gt;&nbsp;source,&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-smi&quot;&nbsp;style=&quot;box-sizing:border-box&quot;&gt;target&lt;/span&gt;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;where&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;:&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;System.Delegate&lt;/span&gt;&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;return&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;)Delegate.Combine(source,&nbsp;target);<br>
}&lt;/pre&gt;&lt;/div&gt;&lt;p&nbsp;style=&quot;box-sizing:border-box;margin-top:0px;margin-bottom:16px;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;font-size:14px&quot;&gt;Helper&nbsp;methods&nbsp;to&nbsp;subscribe/unsubscribe&nbsp;event&nbsp;fields:&lt;/p&gt;&lt;div&nbsp;class=&quot;gmail-highlight&nbsp;gmail-highlight-source-cs&quot;&nbsp;style=&quot;box-sizing:border-box;margin-bottom:16px;color:rgb(51,51,51);font-family:-apple-system,blinkmacsystemfont,&quot;segoe&nbsp;ui&quot;,helvetica,arial,sans-serif,&quot;apple&nbsp;color&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;emoji&quot;,&quot;segoe&nbsp;ui&nbsp;symbol&quot;;font-size:14px;overflow:visible&quot;&gt;&lt;pre&nbsp;style=&quot;box-sizing:border-box;font-family:consolas,&quot;liberation&nbsp;mono&quot;,menlo,courier,monospace;font-size:11.9px;margin-top:0px;margin-bottom:0px;font-stretch:normal;line-height:1.45;word-wrap:normal;padding:16px;overflow:auto;background-color:rgb(247,247,247);border-radius:3px;word-break:normal&quot;&gt;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;public&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;static&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;void&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;Subscribe&lt;/span&gt;&lt;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&gt;(&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;ref&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-smi&quot;&nbsp;style=&quot;box-sizing:border-box&quot;&gt;field&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-smi&quot;&nbsp;style=&quot;box-sizing:border-box&quot;&gt;target&lt;/span&gt;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;where&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;:&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;System.Delegate&lt;/span&gt;&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-c&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(150,152,150)&quot;&gt;//&nbsp;this&nbsp;is&nbsp;the&nbsp;logic&nbsp;emitted&nbsp;by&nbsp;the&nbsp;C#&nbsp;compiler&nbsp;when&nbsp;you&nbsp;define&nbsp;an&nbsp;event&nbsp;with&nbsp;the&nbsp;default&nbsp;adder/remover&nbsp;methods&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;previous&lt;/span&gt;&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-c1&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(0,134,179)&quot;&gt;null&lt;/span&gt;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;current&lt;/span&gt;&nbsp;=&nbsp;field;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;do&lt;/span&gt;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;previous&nbsp;=&nbsp;current;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;proposed&lt;/span&gt;&nbsp;=&nbsp;(&lt;span&nbsp;class=&quot;gmail-pl-en&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(121,93,163)&quot;&gt;TDelegate&lt;/span&gt;)Delegate.Combine(previous,&nbsp;target);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;current&nbsp;=&nbsp;Interlocked.Exchange&lt;TDelegate&gt;(ref&nbsp;field,&nbsp;proposed,&nbsp;previous);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;while&lt;/span&gt;&nbsp;(previous&nbsp;!=&nbsp;current);<br>
}<br>
<br>
...<br>
<br>
public&nbsp;EventHandler&nbsp;MyEvent&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;add&lt;/span&gt;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-c&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(150,152,150)&quot;&gt;//&nbsp;custom&nbsp;logic&nbsp;here&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-c&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(150,152,150)&quot;&gt;//&nbsp;explicitly&nbsp;implementing&nbsp;an&nbsp;event&nbsp;leaves&nbsp;the&nbsp;developer&nbsp;on&nbsp;their&nbsp;own&nbsp;for&nbsp;handling&nbsp;the&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-c&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(150,152,150)&quot;&gt;//&nbsp;subscription&nbsp;and&nbsp;using&nbsp;+=&nbsp;directly&nbsp;against&nbsp;the&nbsp;event&nbsp;field&nbsp;is&nbsp;inherently&nbsp;not&nbsp;thread-safe&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EventHelper.Subscribe&lt;EventHandler&gt;(ref&nbsp;MyEvent,&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;value&lt;/span&gt;);&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-c&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(150,152,150)&quot;&gt;//&nbsp;thread-safe&nbsp;subscription&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;remove&lt;/span&gt;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EventHelper.Unsubscribe&lt;EventHandler&gt;(ref&nbsp;MyEvent,&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-k&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(167,29,93)&quot;&gt;value&lt;/span&gt;);&nbsp;&lt;span&nbsp;class=&quot;gmail-pl-c&quot;&nbsp;style=&quot;box-sizing:border-box;color:rgb(150,152,150)&quot;&gt;//&nbsp;thread-safe&nbsp;unsubscription&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
