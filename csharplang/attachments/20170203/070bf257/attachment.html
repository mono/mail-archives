<tt>
&lt;html&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;15&nbsp;(filtered&nbsp;medium)&quot;&gt;<br>
&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Cambria&nbsp;Math&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;4&nbsp;5&nbsp;3&nbsp;5&nbsp;4&nbsp;6&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{margin:0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:.0001pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:11.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,sans-serif;}<br>
.MsoChpDefault<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;}<br>
@page&nbsp;WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{size:8.5in&nbsp;11.0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:1.0in&nbsp;1.0in&nbsp;1.0in&nbsp;1.0in;}<br>
div.WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{page:WordSection1;}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;lang=&quot;EN-US&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&nbsp;style=&quot;display:none;&quot;&gt;&lt;!--&nbsp;P&nbsp;{margin-top:0;margin-bottom:0;}&nbsp;--&gt;&lt;/style&gt;<br>
&lt;div&nbsp;id=&quot;divtagdefaultwrapper&quot;&nbsp;style=&quot;font-size:12pt;color:#000000;font-family:Calibri,Arial,Helvetica,sans-serif;&quot;&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;p&gt;Woo-hoo!&nbsp;Peter's&nbsp;here!&lt;/p&gt;<br>
&lt;p&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;hr&nbsp;style=&quot;display:inline-block;width:98%&quot;&nbsp;tabindex=&quot;-1&quot;&gt;<br>
&lt;div&nbsp;id=&quot;divRplyFwdMsg&quot;&nbsp;dir=&quot;ltr&quot;&gt;&lt;font&nbsp;face=&quot;Calibri,&nbsp;sans-serif&quot;&nbsp;style=&quot;font-size:11pt&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;b&gt;From:&lt;/b&gt;&nbsp;csharplang&nbsp;&lt;csharplang-bounces@lists.dot.net&gt;&nbsp;on&nbsp;behalf&nbsp;of&nbsp;Peter&nbsp;Golde&nbsp;&lt;peter@golde.org&gt;&lt;br&gt;<br>
&lt;b&gt;Sent:&lt;/b&gt;&nbsp;Friday,&nbsp;February&nbsp;3,&nbsp;2017&nbsp;3:07:31&nbsp;PM&lt;br&gt;<br>
&lt;b&gt;To:&lt;/b&gt;&nbsp;csharplang@lists.dot.net&lt;br&gt;<br>
&lt;b&gt;Subject:&lt;/b&gt;&nbsp;[csharplang]&nbsp;Operators&nbsp;should&nbsp;be&nbsp;exposed&nbsp;for&nbsp;`System.IntPtr`&nbsp;and&nbsp;`System.UIntPtr`&lt;/font&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;As&nbsp;a&nbsp;historical&nbsp;perspective,&nbsp;I&nbsp;can&nbsp;say&nbsp;that&nbsp;this&nbsp;choice&nbsp;was&nbsp;made&nbsp;extremely&nbsp;deliberately&nbsp;and&nbsp;after&nbsp;MUCH&nbsp;debate&nbsp;while&nbsp;creating&nbsp;the&nbsp;initial&nbsp;version&nbsp;of&nbsp;C#.&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;One&nbsp;of&nbsp;the&nbsp;design&nbsp;principles&nbsp;that&nbsp;we&nbsp;felt&nbsp;strongly&nbsp;about&nbsp;was&nbsp;the&nbsp;core&nbsp;data&nbsp;types&nbsp;(short,&nbsp;int,&nbsp;long,&nbsp;etc.)&nbsp;should&nbsp;be&nbsp;of&nbsp;standardized&nbsp;size&nbsp;and&nbsp;operation&nbsp;across&nbsp;all&nbsp;platforms.&nbsp;This&nbsp;is&nbsp;one&nbsp;of&nbsp;the&nbsp;things&nbsp;that&nbsp;we&nbsp;felt&nbsp;that&nbsp;Java&nbsp;had&nbsp;right,&nbsp;and<br>
&nbsp;C&nbsp;had&nbsp;wrong.&nbsp;We&nbsp;felt&nbsp;that&nbsp;it&nbsp;was&nbsp;doing&nbsp;programmers&nbsp;a&nbsp;grave&nbsp;disservice&nbsp;to&nbsp;allow&nbsp;them&nbsp;to&nbsp;write&nbsp;code&nbsp;where&nbsp;integers&nbsp;had&nbsp;different&nbsp;size&nbsp;limits&nbsp;or&nbsp;overflow&nbsp;behavior&nbsp;on&nbsp;different&nbsp;platforms,&nbsp;and&nbsp;this&nbsp;just&nbsp;led&nbsp;to&nbsp;code&nbsp;that&nbsp;was&nbsp;very&nbsp;hard&nbsp;to&nbsp;port&nbsp;between&nbsp;platforms&nbsp;with<br>
&nbsp;virtually&nbsp;no&nbsp;benefit.&nbsp;If&nbsp;you&nbsp;need&nbsp;to&nbsp;store&nbsp;integers&nbsp;larger&nbsp;than&nbsp;2G,&nbsp;use&nbsp;a&nbsp;long,&nbsp;otherwise&nbsp;use&nbsp;an&nbsp;int.&nbsp;This&nbsp;is&nbsp;an&nbsp;algorithmic&nbsp;decision&nbsp;and&nbsp;the&nbsp;behavior&nbsp;shouldn&#8217;t&nbsp;change&nbsp;just&nbsp;because&nbsp;you&nbsp;are&nbsp;running&nbsp;on&nbsp;a&nbsp;32&nbsp;or&nbsp;64&nbsp;bit&nbsp;platform.&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;IntPtr&nbsp;and&nbsp;UIntPtr&nbsp;were&nbsp;introduced&nbsp;in&nbsp;the&nbsp;base&nbsp;class&nbsp;libraries&nbsp;for&nbsp;various&nbsp;reasons,&nbsp;and&nbsp;C#&nbsp;had&nbsp;to&nbsp;decide&nbsp;how&nbsp;to&nbsp;handle&nbsp;them.&nbsp;We&nbsp;realized&nbsp;that&nbsp;they&nbsp;did&nbsp;have&nbsp;a&nbsp;usefulness&nbsp;in&nbsp;P/Invoke&nbsp;and&nbsp;native&nbsp;interop&nbsp;scenarios,&nbsp;so&nbsp;we&nbsp;added&nbsp;the&nbsp;ability&nbsp;to<br>
&nbsp;explicitly&nbsp;cast&nbsp;from&nbsp;the&nbsp;regular&nbsp;integers&nbsp;to&nbsp;them&nbsp;and&nbsp;back.&nbsp;Further&nbsp;than&nbsp;that&nbsp;we&nbsp;were&nbsp;unwilling&nbsp;to&nbsp;go,&nbsp;very&nbsp;deliberately.&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;We&nbsp;really&nbsp;didn&#8217;t&nbsp;want&nbsp;programmers&nbsp;to&nbsp;write&nbsp;libraries&nbsp;that&nbsp;used&nbsp;size-specific&nbsp;integers&nbsp;in&nbsp;their&nbsp;public&nbsp;interface.&nbsp;By&nbsp;NOT&nbsp;putting&nbsp;operators&nbsp;on&nbsp;them,&nbsp;and&nbsp;by&nbsp;making&nbsp;casts&nbsp;to&nbsp;other&nbsp;integers&nbsp;have&nbsp;to&nbsp;be&nbsp;explicit,&nbsp;we&nbsp;made&nbsp;them&nbsp;painful&nbsp;enough&nbsp;that<br>
&nbsp;people&nbsp;did&nbsp;not&nbsp;use&nbsp;them&nbsp;as&nbsp;general&nbsp;&#8220;platform-specific&nbsp;integers&#8221;,&nbsp;like&nbsp;&#8220;int&#8221;&nbsp;is&nbsp;in&nbsp;C.&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&#8230;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Now&nbsp;Xamarin&nbsp;had&nbsp;a&nbsp;big&nbsp;problem,&nbsp;and&nbsp;a&nbsp;big&nbsp;installed&nbsp;base,&nbsp;when&nbsp;Apple&nbsp;rolled&nbsp;out&nbsp;64-bit&nbsp;iOS.&nbsp;I&nbsp;understand&nbsp;why&nbsp;they&nbsp;added&nbsp;nint&nbsp;instead&nbsp;of&nbsp;just&nbsp;moving&nbsp;to&nbsp;long,&nbsp;given&nbsp;how&nbsp;Apple&nbsp;changed&nbsp;their&nbsp;API,&nbsp;how&nbsp;disruptive&nbsp;it&nbsp;would&nbsp;have&nbsp;been&nbsp;to&nbsp;their&nbsp;installed<br>
&nbsp;base,&nbsp;and&nbsp;how&nbsp;much&nbsp;code&nbsp;would&nbsp;have&nbsp;broken.&nbsp;I&nbsp;was&nbsp;actually&nbsp;quite&nbsp;impressed&nbsp;that&nbsp;moving&nbsp;to&nbsp;iOS&nbsp;64-bit&nbsp;was&nbsp;relatively&nbsp;painless&nbsp;in&nbsp;Xamarin&nbsp;(though&nbsp;by&nbsp;no&nbsp;means&nbsp;just&nbsp;a&nbsp;recompile).&nbsp;So&nbsp;it&nbsp;was&nbsp;almost&nbsp;certainly&nbsp;the&nbsp;right&nbsp;decision&nbsp;for&nbsp;Xamarin&nbsp;for&nbsp;interfacing&nbsp;to&nbsp;iOS.<br>
&nbsp;Trying&nbsp;to&nbsp;reconcile&nbsp;that&nbsp;already-made&nbsp;decision&nbsp;with&nbsp;the&nbsp;core&nbsp;C#&nbsp;compilers&nbsp;is&nbsp;definitely&nbsp;an&nbsp;interesting&nbsp;problem.&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&#8230;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;As&nbsp;a&nbsp;final&nbsp;thought,&nbsp;it&nbsp;feels&nbsp;weird&nbsp;to&nbsp;(re)debate&nbsp;this&nbsp;just&nbsp;as&nbsp;32-bit&nbsp;architectures&nbsp;are&nbsp;becoming&nbsp;essentially&nbsp;obsolete.<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Peter&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
