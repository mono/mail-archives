<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r1142 - in trunk/MonoDevelop: data/resources/glade src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1142%20-%20in%20trunk/MonoDevelop%3A%20data/resources/glade%20src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000747.html">
   <LINK REL="Next"  HREF="000749.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r1142 - in trunk/MonoDevelop: data/resources/glade src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1142%20-%20in%20trunk/MonoDevelop%3A%20data/resources/glade%20src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r1142 - in trunk/MonoDevelop: data/resources/glade src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Thu Mar 11 13:44:37 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000747.html">[Monodevelop-patches-list] r1141 - in trunk/MonoDevelop: . src/AddIns/BackendBindings/CSharpBinding/Gui src/Main/Base/Commands src/Main/Base/Commands/ProjectBrowserCommands src/Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions src/Main/Base/Gui/Dialogs/ReferenceDialog src/Main/Base/Internal/Project/Combine src/Main/Base/Internal/Project/Project
</A></li>
        <LI>Next message: <A HREF="000749.html">[Monodevelop-patches-list] r1143 - in trunk/MonoDevelop: build/AddIns data/resources/glade src/Main/Base src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#748">[ date ]</a>
              <a href="thread.html#748">[ thread ]</a>
              <a href="subject.html#748">[ subject ]</a>
              <a href="author.html#748">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dkor
Date: 2004-03-11 13:44:37 -0500 (Thu, 11 Mar 2004)
New Revision: 1142

Modified:
   trunk/MonoDevelop/data/resources/glade/Base.glade
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/LoadSavePanel.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/ProjectAndCombinePanel.cs
Log:
Partially fixed 53845: moved options from Load/Save to ProjectAndCombinePanel and beatified crappy, ugly, dirty LoadSavePanel code

Modified: trunk/MonoDevelop/data/resources/glade/Base.glade
===================================================================
--- trunk/MonoDevelop/data/resources/glade/Base.glade	2004-03-11 04:21:09 UTC (rev 1141)
+++ trunk/MonoDevelop/data/resources/glade/Base.glade	2004-03-11 18:44:37 UTC (rev 1142)
@@ -1431,13 +1431,75 @@
       &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
       &lt;child&gt;
+	&lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox26&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;locationLabel&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Default _combine location-&lt;/property&gt;
+	      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;yalign&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GnomeFileEntry&quot; id=&quot;projectLocationTextBox&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;max_saved&quot;&gt;10&lt;/property&gt;
+	      &lt;property name=&quot;directory_entry&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
+
+	      &lt;child internal-child=&quot;entry&quot;&gt;
+		&lt;widget class=&quot;GtkEntry&quot; id=&quot;combo-entry1&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;invisible_char&quot; translatable=&quot;yes&quot;&gt;*&lt;/property&gt;
+		  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
+		&lt;/widget&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+	&lt;/widget&gt;
+	&lt;packing&gt;
+	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+	&lt;/packing&gt;
+      &lt;/child&gt;
+
+      &lt;child&gt;
 	&lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox18&quot;&gt;
 	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 	  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
 	  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
 	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;load&quot;&gt;
+	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;loadLabel&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&amp;lt;b&amp;gt;Load&amp;lt;/b&amp;gt;-&lt;/property&gt;
 	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
@@ -1491,15 +1553,46 @@
 		  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
 		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;loadUserDataCheckBox&quot;&gt;
+		    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox65&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Load user-specific settings with the document-&lt;/property&gt;
-		      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-		      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkCheckButton&quot; id=&quot;loadUserDataCheckButton&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Load user-specific settings with the document-&lt;/property&gt;
+			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+			  &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+			&lt;/widget&gt;
+			&lt;packing&gt;
+			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+			&lt;/packing&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkCheckButton&quot; id=&quot;loadPrevProjectCheckButton&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;_Load previous combine on startup-&lt;/property&gt;
+			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+			  &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+			&lt;/widget&gt;
+			&lt;packing&gt;
+			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+			&lt;/packing&gt;
+		      &lt;/child&gt;
 		    &lt;/widget&gt;
 		    &lt;packing&gt;
 		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -1536,7 +1629,7 @@
 	  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
 	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;save&quot;&gt;
+	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;saveLabel&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&amp;lt;b&amp;gt;Save&amp;lt;/b&amp;gt;-&lt;/property&gt;
 	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
@@ -1590,7 +1683,7 @@
 		  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
 		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;createBackupCopyCheckBox&quot;&gt;
+		    &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;createBackupCopyCheckButton&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
 		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Allways create backup copy-&lt;/property&gt;
@@ -1608,7 +1701,7 @@
 		  &lt;/child&gt;
 
 		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;terminator&quot;&gt;
+		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;terminatorLabel&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Line Terminator Style-&lt;/property&gt;
 		      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
@@ -1760,7 +1853,7 @@
 	&lt;/widget&gt;
 	&lt;packing&gt;
 	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-	  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
 	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
 	&lt;/packing&gt;
       &lt;/child&gt;
@@ -2022,48 +2115,27 @@
       &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
       &lt;child&gt;
-	&lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox24&quot;&gt;
+	&lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox27&quot;&gt;
 	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 	  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
 	  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
 	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;settingsLabel&quot;&gt;
+	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox28&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&amp;lt;b&amp;gt;Settings-&amp;lt;/b&amp;gt;&lt;/property&gt;
-	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox15&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
 	      &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkLabel&quot; id=&quot;label26&quot;&gt;
+		&lt;widget class=&quot;GtkLabel&quot; id=&quot;onBuildRequest&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;    &lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&amp;lt;b&amp;gt;On build request&amp;lt;/b&amp;gt;&lt;/property&gt;
 		  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
 		  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
 		  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
 		  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+		  &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
 		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
 		  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
 		  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
@@ -2076,22 +2148,22 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox26&quot;&gt;
+		&lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox43&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
 		  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
 		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;locationLabel&quot;&gt;
+		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label69&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Default _combine location-&lt;/property&gt;
-		      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;    &lt;/property&gt;
+		      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
 		      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
 		      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
 		      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
 		      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;yalign&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
 		      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
 		      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
 		    &lt;/widget&gt;
@@ -2103,135 +2175,8 @@
 		  &lt;/child&gt;
 
 		  &lt;child&gt;
-		    &lt;widget class=&quot;GnomeFileEntry&quot; id=&quot;projectLocationTextBox&quot;&gt;
+		    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox66&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;max_saved&quot;&gt;10&lt;/property&gt;
-		      &lt;property name=&quot;directory_entry&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
-
-		      &lt;child internal-child=&quot;entry&quot;&gt;
-			&lt;widget class=&quot;GtkEntry&quot; id=&quot;combo-entry1&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-			  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;invisible_char&quot; translatable=&quot;yes&quot;&gt;*&lt;/property&gt;
-			  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
-			&lt;/widget&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;loadPrevProjectCheckBox&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;_Load previous combine on startup-&lt;/property&gt;
-		      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-		      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-	&lt;/widget&gt;
-	&lt;packing&gt;
-	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-	  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-	&lt;/packing&gt;
-      &lt;/child&gt;
-
-      &lt;child&gt;
-	&lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox25&quot;&gt;
-	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-	  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;buildAndRunOptionsLabel&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&amp;lt;b&amp;gt;Build And Run Options-&amp;lt;/b&amp;gt;&lt;/property&gt;
-	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox16&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkLabel&quot; id=&quot;label28&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;    &lt;/property&gt;
-		  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-		  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox27&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox28&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
 		      &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
@@ -2333,57 +2278,57 @@
 			&lt;/widget&gt;
 			&lt;packing&gt;
 			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+			&lt;/packing&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkCheckButton&quot; id=&quot;showOutputCheckBox&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Show _task list pad if build finished with errors-&lt;/property&gt;
+			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+			  &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+			&lt;/widget&gt;
+			&lt;packing&gt;
+			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
 			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
 			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
 			&lt;/packing&gt;
 		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkCheckButton&quot; id=&quot;showTaskListCheckBox&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Show _output pad when build starts-&lt;/property&gt;
+			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+			  &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+			&lt;/widget&gt;
+			&lt;packing&gt;
+			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+			&lt;/packing&gt;
+		      &lt;/child&gt;
 		    &lt;/widget&gt;
 		    &lt;packing&gt;
 		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
 		      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
 		    &lt;/packing&gt;
 		  &lt;/child&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;showOutputCheckBox&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Show _task list pad if build finished with errors-&lt;/property&gt;
-		      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-		      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;showTaskListCheckBox&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Show _output pad when build starts-&lt;/property&gt;
-		      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-		      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
 		  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
 		&lt;/packing&gt;
 	      &lt;/child&gt;

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/LoadSavePanel.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/LoadSavePanel.cs	2004-03-11 04:21:09 UTC (rev 1141)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/LoadSavePanel.cs	2004-03-11 18:44:37 UTC (rev 1142)
@@ -18,132 +18,150 @@
 
 namespace MonoDevelop.Gui.Dialogs.OptionPanels
 {
-
-	public enum LineTerminatorStyle {
-		Windows,
-		Macintosh,
-		Unix
-	}
-	
 	/// &lt;summary&gt;
 	/// Summary description for Form1.
 	/// &lt;/summary&gt;
+	
 	public class LoadSavePanel : AbstractOptionPanel
 	{
 		//FIXME: Add mneumonics for Window, Macintosh and Unix Radio Buttons. 
 		//       Remove mneumonic from terminator label.
 
+		LoadSavePanelWidget widget;
+		
+		public override void LoadPanelContents()
+		{
+			Add (widget = new LoadSavePanelWidget ());
+		}
+		
+		public override bool StorePanelContents()
+		{			
+			bool succes = widget.Store();
+			return succes;
+		}
+		
 		class LoadSavePanelWidget : GladeWidgetExtract 
 		{
-			
 			//
 			// Gtk controls
 			//
+			[Glade.Widget] public Gnome.FileEntry projectLocationTextBox;
+			[Glade.Widget] public Gtk.CheckButton loadUserDataCheckButton;
+			[Glade.Widget] public Gtk.CheckButton createBackupCopyCheckButton;
+			[Glade.Widget] public Gtk.CheckButton loadPrevProjectCheckButton;
+			[Glade.Widget] public Gtk.RadioButton windowsRadioButton; 
+			[Glade.Widget] public Gtk.RadioButton macintoshRadioButton;
+			[Glade.Widget] public Gtk.RadioButton unixRadioButton;
+			[Glade.Widget] public Gtk.Label loadLabel;		
+			[Glade.Widget] public Gtk.Label saveLabel;
+			[Glade.Widget] public Gtk.Label terminatorLabel;	
+			[Glade.Widget] public Gtk.Label locationLabel;
 			
-			[Glade.Widget] public Gtk.CheckButton loadUserDataCheckBox;
-			[Glade.Widget] public Gtk.CheckButton createBackupCopyCheckBox;
-			[Glade.Widget] public Gtk.RadioButton windowsRadioButton, macintoshRadioButton, unixRadioButton;
-			[Glade.Widget] public Gtk.Label load, save, terminator;			
+			// services needed
+			StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (
+				typeof (StringParserService));
+			PropertyService PropertyService = (PropertyService)ServiceManager.Services.GetService (
+				typeof (PropertyService));
+			FileUtilityService FileUtilityService = (FileUtilityService)ServiceManager.Services.GetService (
+				typeof (FileUtilityService));
+			MessageService MessageService = (MessageService)ServiceManager.Services.GetService (
+				typeof (MessageService));
+
+			public enum LineTerminatorStyle {
+				Windows,
+				Macintosh,
+				Unix
+			}
 			
 			public LoadSavePanelWidget () : base (&quot;Base.glade&quot;, &quot;LoadSavePanel&quot;)
 			{
+				//
+				// load the internationalized strings.
+				//
+				loadLabel.Markup = &quot;&lt;b&gt; &quot; + StringParserService.Parse(
+					&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.LoadLabel}&quot;) + &quot; &lt;/b&gt;&quot;;
+				saveLabel.Markup = &quot;&lt;b&gt; &quot; + StringParserService.Parse(
+					&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.SaveLabel}&quot;)+ &quot;&lt;/b&gt;&quot;;
 				
+				loadUserDataCheckButton.Label = StringParserService.Parse(
+					&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.LoadUserDataCheckBox}&quot;);
+				loadPrevProjectCheckButton.Label = StringParserService.Parse(
+					&quot;${res:Dialog.Options.IDEOptions.ProjectAndCombineOptions.LoadPrevProjectCheckBox}&quot;);
+				createBackupCopyCheckButton.Label =StringParserService.Parse(
+					&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.CreateBackupCopyCheckBox}&quot;);
+				
+ 				terminatorLabel.TextWithMnemonic  = StringParserService.Parse(
+ 					&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.LineTerminatorStyleGroupBox}&quot;);
+ 				windowsRadioButton.Label = StringParserService.Parse(
+ 					&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.WindowsRadioButton}&quot;);
+ 				macintoshRadioButton.Label = StringParserService.Parse(
+ 					&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.MacintoshRadioButton}&quot;);
+ 				unixRadioButton.Label = StringParserService.Parse(
+ 					&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.UnixRadioButton}&quot;);
+				
+				projectLocationTextBox.GtkEntry.Text = PropertyService.GetProperty(
+					&quot;MonoDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, 
+					System.IO.Path.Combine(System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal),
+							&quot;MonoDevelopProjects&quot;)).ToString();
+				projectLocationTextBox.DirectoryEntry = true;
+				locationLabel.TextWithMnemonic = StringParserService.Parse(
+					&quot;${res:Dialog.Options.IDEOptions.ProjectAndCombineOptions.ProjectLocationLabel}&quot;);
+				//
+				// setup the properties
+				//
+				loadUserDataCheckButton.Active = PropertyService.GetProperty (
+					&quot;SharpDevelop.LoadDocumentProperties&quot;, true);
+				createBackupCopyCheckButton.Active = PropertyService.GetProperty (
+					&quot;SharpDevelop.CreateBackupCopy&quot;, false);
+				loadPrevProjectCheckButton.Active = (bool) PropertyService.GetProperty(
+					&quot;SharpDevelop.LoadPrevProjectOnStartup&quot;, false);
+				
+				if (LineTerminatorStyle.Windows.Equals (
+					    PropertyService.GetProperty (
+						    &quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Unix)))  {
+					windowsRadioButton.Active = true;}
+				else if  (LineTerminatorStyle.Macintosh.Equals (
+						  PropertyService.GetProperty 
+						  (&quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Unix)))  {
+					macintoshRadioButton.Active = true;}
+				else if (LineTerminatorStyle.Unix.Equals (
+						 PropertyService.GetProperty (
+							 &quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Unix))) {
+					unixRadioButton.Active = true;}
+				
+				// FIXME: renable all terminator style radio buttons when they're implemented.
+				unixRadioButton.Sensitive = false;
+				macintoshRadioButton.Sensitive = false;
+				windowsRadioButton.Sensitive = false;
+				terminatorLabel.Sensitive = false;
 			}
+			
+			public bool Store () 
+			{
+				PropertyService.SetProperty(&quot;SharpDevelop.LoadPrevProjectOnStartup&quot;, loadPrevProjectCheckButton.Active);
+				PropertyService.SetProperty (&quot;SharpDevelop.LoadDocumentProperties&quot;,  loadUserDataCheckButton.Active);
+				PropertyService.SetProperty (&quot;SharpDevelop.CreateBackupCopy&quot;,        createBackupCopyCheckButton.Active);
+				
+				if (windowsRadioButton.Active) {
+					PropertyService.SetProperty (&quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Windows);} 
+				else if (macintoshRadioButton.Active) {
+					PropertyService.SetProperty (&quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Macintosh);} 
+				else if (unixRadioButton.Active){
+					PropertyService.SetProperty (&quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Unix);}
+				
+				// check for correct settings
+				string projectPath = projectLocationTextBox.GtkEntry.Text;
+				if (projectPath.Length &gt; 0) {
+					if (!FileUtilityService.IsValidFileName(projectPath)) {
+						MessageService.ShowError(&quot;Invalid project path specified&quot;);
+						return false;
+					}
+				}
+				PropertyService.SetProperty(&quot;MonoDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, projectPath);
+				
+				return true;
+			}
 		}		
-		
-		public LoadSavePanel () : base ()
-		{
-		}
-
-		public override Gtk.Image Icon {
-			get {
-				return new Gtk.Image (Gtk.Stock.SaveAs, Gtk.IconSize.Button);
-			}
-		}
-		
-		// services needed
-		StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (typeof (StringParserService));
-		PropertyService PropertyService = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
-		
-		LoadSavePanelWidget widget;
-		
-		public override void LoadPanelContents()
-		{
-			Add (widget = new LoadSavePanelWidget ());
-			
- 			SetupPanelInstance();
-			
- 			//
- 			// load the data
-		        //
-			widget.loadUserDataCheckBox.Active = PropertyService.GetProperty (&quot;SharpDevelop.LoadDocumentProperties&quot;, true);
-			widget.createBackupCopyCheckBox.Active = PropertyService.GetProperty (&quot;SharpDevelop.CreateBackupCopy&quot;, false);
-
-			if (LineTerminatorStyle.Windows.Equals (
-				    PropertyService.GetProperty (&quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Unix)))  {
-				widget.windowsRadioButton.Active = true;}
-			else if  (LineTerminatorStyle.Macintosh.Equals (
-					  PropertyService.GetProperty (&quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Unix)))  {
-				widget.macintoshRadioButton.Active = true;}
-			else if (LineTerminatorStyle.Unix.Equals (
-					 PropertyService.GetProperty (&quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Unix))) {
-				widget.unixRadioButton.Active = true;}
-			// Finish here
-			
-			// FIXME: renable all terminatore style radio buttons when they're implemented
-			widget.unixRadioButton.Sensitive = false;
-			widget.macintoshRadioButton.Sensitive = false;
-			widget.windowsRadioButton.Sensitive = false;
-			widget.terminator.Sensitive = false;
-
-		}
-		
-		public override bool StorePanelContents()
-		{
- 			PropertyService.SetProperty (&quot;SharpDevelop.LoadDocumentProperties&quot;, widget.loadUserDataCheckBox.Active);
- 			PropertyService.SetProperty (&quot;SharpDevelop.CreateBackupCopy&quot;,       widget.createBackupCopyCheckBox.Active);
-			if (widget.windowsRadioButton.Active) {
-				PropertyService.SetProperty (&quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Windows);} 
-			else if (widget.macintoshRadioButton.Active) {
-				PropertyService.SetProperty (&quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Macintosh);} 
-			else if (widget.unixRadioButton.Active){
-				PropertyService.SetProperty (&quot;SharpDevelop.LineTerminatorStyle&quot;, LineTerminatorStyle.Unix);}
-			
-			return true;
-		}
-		
-		#region jba added methods
-		
-		private void SetupPanelInstance()
-		{
- 			//
- 			// set up the load options
- 			//
-			widget.load.Markup = &quot;&lt;b&gt; &quot; + StringParserService.Parse(
-				&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.LoadLabel}&quot;) + &quot; &lt;/b&gt;&quot;;
- 			widget.loadUserDataCheckBox.Label = StringParserService.Parse(
-				&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.LoadUserDataCheckBox}&quot;);
- 			//
- 			// setup the save options
- 			//			
- 			widget.save.Markup = &quot;&lt;b&gt; &quot; + StringParserService.Parse(
-				&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.SaveLabel}&quot;)+ &quot;&lt;/b&gt;&quot;;
- 			// the backup checkbox
- 			widget.createBackupCopyCheckBox.Label =StringParserService.Parse(
-				&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.CreateBackupCopyCheckBox}&quot;);
- 			// the terminator label 
- 			widget.terminator.TextWithMnemonic  = StringParserService.Parse(
-				&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.LineTerminatorStyleGroupBox}&quot;);
- 			// the terminator radiobutton
-			widget.windowsRadioButton.Label = StringParserService.Parse(
-				&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.WindowsRadioButton}&quot;);
-			widget.macintoshRadioButton.Label = StringParserService.Parse(
-				&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.MacintoshRadioButton}&quot;);
-			widget.unixRadioButton.Label = StringParserService.Parse(
-				&quot;${res:Dialog.Options.IDEOptions.LoadSaveOptions.UnixRadioButton}&quot;);
-		}
-		
-		#endregion
 	}
 }
 

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/ProjectAndCombinePanel.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/ProjectAndCombinePanel.cs	2004-03-11 04:21:09 UTC (rev 1141)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/ProjectAndCombinePanel.cs	2004-03-11 18:44:37 UTC (rev 1142)
@@ -29,8 +29,6 @@
 
 		// service instances needed
 		PropertyService PropertyService = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
-		FileUtilityService FileUtilityService = (FileUtilityService)ServiceManager.Services.GetService (typeof (FileUtilityService));
-		MessageService MessageService = (MessageService)ServiceManager.Services.GetService (typeof (MessageService));
 		
 		ProjectAndCombinePanelWidget widget;
 		const string projectAndCombineProperty = &quot;SharpDevelop.UI.ProjectAndCombineOptions&quot;;
@@ -42,55 +40,35 @@
 		
 		public override bool StorePanelContents()
 		{
-
-			// check for correct settings
-			string projectPath = widget.projectLocationTextBox.GtkEntry.Text;
-			if (projectPath.Length &gt; 0) {
-				if (!FileUtilityService.IsValidFileName(projectPath)) {
-					MessageService.ShowError(&quot;Invalid project path specified&quot;);
-					return false;
-				}
-			}
-			PropertyService.SetProperty(&quot;MonoDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, projectPath);
-
 			widget.Store ();
 			return true;
 		}
 		
-		
 		public class ProjectAndCombinePanelWidget :  GladeWidgetExtract 
 		{
-			// service instances needed
-			StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (typeof (StringParserService));
-			PropertyService PropertyService = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
-
 			//
 			// Gtk controls
 			//
-			[Glade.Widget] public Gnome.FileEntry projectLocationTextBox;
-			[Glade.Widget] public Gtk.RadioButton saveChangesRadioButton, promptChangesRadioButton, noSaveRadioButton;
-			[Glade.Widget] public Gtk.CheckButton loadPrevProjectCheckBox, showTaskListCheckBox, showOutputCheckBox;
-			[Glade.Widget] public Gtk.Label locationLabel, settingsLabel, buildAndRunOptionsLabel;   
 
+			[Glade.Widget] public Gtk.RadioButton saveChangesRadioButton;
+			[Glade.Widget] public Gtk.RadioButton promptChangesRadioButton; 
+			[Glade.Widget] public Gtk.RadioButton noSaveRadioButton;
+			[Glade.Widget] public Gtk.CheckButton showTaskListCheckBox;
+			[Glade.Widget] public Gtk.CheckButton showOutputCheckBox;
+			[Glade.Widget] public Gtk.Label settingsLabel;
+			[Glade.Widget] public Gtk.Label buildAndRunOptionsLabel;   
+
+			// service instances needed
+			StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (
+				typeof (StringParserService));
+			PropertyService PropertyService = (PropertyService)ServiceManager.Services.GetService (
+				typeof (PropertyService));
+
 			public  ProjectAndCombinePanelWidget () : base (&quot;Base.glade&quot;, &quot;ProjectAndCombinePanel&quot;)
 			{
-				
-				settingsLabel.Markup = &quot;&lt;b&gt; &quot; + StringParserService.Parse(
-					&quot;${res:Dialog.Options.IDEOptions.ProjectAndCombineOptions.SettingsGroupBox}&quot;) + &quot;&lt;/b&gt;&quot;;
-				//
-				// set up the Project Settings options
-				//
-				locationLabel.TextWithMnemonic = StringParserService.Parse(
-					&quot;${res:Dialog.Options.IDEOptions.ProjectAndCombineOptions.ProjectLocationLabel}&quot;);
-				//projectLocationTextBox = new Gnome.FileEntry (&quot;&quot;, &quot;Choose Location&quot;);
-				projectLocationTextBox.DirectoryEntry = true;
-				loadPrevProjectCheckBox.Label = StringParserService.Parse(
-				&quot;${res:Dialog.Options.IDEOptions.ProjectAndCombineOptions.LoadPrevProjectCheckBox}&quot;);
 			        //
-			        // setup the save options
+			        // getting internationalized strings
 			        //
-				buildAndRunOptionsLabel.Markup = &quot;&lt;b&gt; &quot; + StringParserService.Parse(
-					&quot;${res:Dialog.Options.IDEOptions.ProjectAndCombineOptions.BuildAndRunGroupBox}&quot;) + &quot;&lt;/b&gt;&quot;;
 				saveChangesRadioButton.Label = StringParserService.Parse(
 					&quot;${res:Dialog.Options.IDEOptions.ProjectAndCombineOptions.SaveChangesRadioButton}&quot;);
 				promptChangesRadioButton.Label = StringParserService.Parse(
@@ -101,19 +79,15 @@
 					&quot;${res:Dialog.Options.IDEOptions.ProjectAndCombineOptions.ShowOutputPadCheckBox}&quot;);
 				showTaskListCheckBox.Label = StringParserService.Parse(
 					&quot;${res:Dialog.Options.IDEOptions.ProjectAndCombineOptions.ShowTaskListPadCheckBox}&quot;);
-				// read properties
-				projectLocationTextBox.GtkEntry.Text = PropertyService.GetProperty(
-					&quot;MonoDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, 
-					System.IO.Path.Combine(System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal),
-							&quot;MonoDevelopProjects&quot;)).ToString();
+				//
+				// reading properties
+				//
 				BeforeCompileAction action = (BeforeCompileAction) PropertyService.GetProperty(
 					&quot;SharpDevelop.Services.DefaultParserService.BeforeCompileAction&quot;, 
 					BeforeCompileAction.SaveAllFiles);
 				saveChangesRadioButton.Active = action.Equals(BeforeCompileAction.SaveAllFiles);
 				promptChangesRadioButton.Active = action.Equals(BeforeCompileAction.PromptForSave);
 				noSaveRadioButton.Active = action.Equals(BeforeCompileAction.Nothing);
-				loadPrevProjectCheckBox.Active = (bool)PropertyService.GetProperty(
-					&quot;SharpDevelop.LoadPrevProjectOnStartup&quot;, false);
 				showTaskListCheckBox.Active = (bool)PropertyService.GetProperty(
 					&quot;SharpDevelop.ShowTaskListAfterBuild&quot;, true);
 				showOutputCheckBox.Active = (bool)PropertyService.GetProperty(
@@ -134,7 +108,6 @@
 							BeforeCompileAction.Nothing);
 				}
 				
-				PropertyService.SetProperty(&quot;SharpDevelop.LoadPrevProjectOnStartup&quot;, loadPrevProjectCheckBox.Active);
 				PropertyService.SetProperty(&quot;SharpDevelop.ShowTaskListAfterBuild&quot;, showTaskListCheckBox.Active);
 				PropertyService.SetProperty(&quot;SharpDevelop.ShowOutputWindowAtBuild&quot;, showOutputCheckBox.Active);
 			}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000747.html">[Monodevelop-patches-list] r1141 - in trunk/MonoDevelop: . src/AddIns/BackendBindings/CSharpBinding/Gui src/Main/Base/Commands src/Main/Base/Commands/ProjectBrowserCommands src/Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions src/Main/Base/Gui/Dialogs/ReferenceDialog src/Main/Base/Internal/Project/Combine src/Main/Base/Internal/Project/Project
</A></li>
	<LI>Next message: <A HREF="000749.html">[Monodevelop-patches-list] r1143 - in trunk/MonoDevelop: build/AddIns data/resources/glade src/Main/Base src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#748">[ date ]</a>
              <a href="thread.html#748">[ thread ]</a>
              <a href="subject.html#748">[ subject ]</a>
              <a href="author.html#748">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
