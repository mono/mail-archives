<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r1239 - in trunk/MonoDevelop: . src/AddIns/Misc/StartPage src/Main/Base src/Main/Base/Gui/BrowserDisplayBinding src/Main/Base/Gui/HtmlControl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1239%20-%20in%20trunk/MonoDevelop%3A%20.%20src/AddIns/Misc/StartPage%20src/Main/Base%20src/Main/Base/Gui/BrowserDisplayBinding%20src/Main/Base/Gui/HtmlControl&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000845.html">
   <LINK REL="Next"  HREF="000847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r1239 - in trunk/MonoDevelop: . src/AddIns/Misc/StartPage src/Main/Base src/Main/Base/Gui/BrowserDisplayBinding src/Main/Base/Gui/HtmlControl</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1239%20-%20in%20trunk/MonoDevelop%3A%20.%20src/AddIns/Misc/StartPage%20src/Main/Base%20src/Main/Base/Gui/BrowserDisplayBinding%20src/Main/Base/Gui/HtmlControl&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r1239 - in trunk/MonoDevelop: . src/AddIns/Misc/StartPage src/Main/Base src/Main/Base/Gui/BrowserDisplayBinding src/Main/Base/Gui/HtmlControl">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Thu Mar 25 02:35:45 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000845.html">[Monodevelop-patches-list] r1238 - in trunk/MonoDevelop/src: AddIns/DebuggerAddIn AddIns/DisplayBindings/SourceEditor AddIns/Misc/StartPage Libraries/MonoDevelop.Core Libraries/MonoDevelop.Gui.Utils Libraries/MonoDevelop.Gui.Widgets Main/Base Main/StartUp
</A></li>
        <LI>Next message: <A HREF="000847.html">[Monodevelop-patches-list] r1240 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: . CodeCompletion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#846">[ date ]</a>
              <a href="thread.html#846">[ thread ]</a>
              <a href="subject.html#846">[ subject ]</a>
              <a href="author.html#846">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tberman
Date: 2004-03-25 02:35:45 -0500 (Thu, 25 Mar 2004)
New Revision: 1239

Added:
   trunk/MonoDevelop/src/AddIns/Misc/StartPage/ChangeLog
Removed:
   trunk/MonoDevelop/gtkmozembed-sharp/
Modified:
   trunk/MonoDevelop/ChangeLog
   trunk/MonoDevelop/Makefile.am
   trunk/MonoDevelop/configure.in
   trunk/MonoDevelop/src/AddIns/Misc/StartPage/Makefile.am
   trunk/MonoDevelop/src/AddIns/Misc/StartPage/StartPage.cs
   trunk/MonoDevelop/src/Main/Base/ChangeLog
   trunk/MonoDevelop/src/Main/Base/Gui/BrowserDisplayBinding/HtmlViewPane.cs
   trunk/MonoDevelop/src/Main/Base/Gui/HtmlControl/MozillaControl.cs
   trunk/MonoDevelop/src/Main/Base/Makefile.am
Log:
dep on gecko-sharp


Modified: trunk/MonoDevelop/ChangeLog
===================================================================
--- trunk/MonoDevelop/ChangeLog	2004-03-25 05:42:27 UTC (rev 1238)
+++ trunk/MonoDevelop/ChangeLog	2004-03-25 07:35:45 UTC (rev 1239)
@@ -1,3 +1,10 @@
+2004-03-25  Todd Berman &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at sevenl.net</A>&gt;
+
+	* configure.in: updated for switchover to gecko-sharp
+	* gtkmozembed/: removed, as we now depend on the mono-cvs gecko-sharp --
+	gtkmozembed-sharp module
+	* Makefile.am: updated for gecko-sharp
+	
 2004-03-22  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jluke at cfl.rr.coc</A>&gt;
 
 	* configure.in: make ENABLE_XDGMIME work right

Modified: trunk/MonoDevelop/Makefile.am
===================================================================
--- trunk/MonoDevelop/Makefile.am	2004-03-25 05:42:27 UTC (rev 1238)
+++ trunk/MonoDevelop/Makefile.am	2004-03-25 07:35:45 UTC (rev 1239)
@@ -1,6 +1,6 @@
 # leave gdldock first
 # (mkdir ../../build/bin/ hack)
-SUBDIRS = gdldock gtkmozembed-sharp src build data
+SUBDIRS = gdldock src build data
 
 bin_SCRIPTS = monodevelop
 
@@ -43,7 +43,7 @@
 run: runmd
 
 runmd: $(PROGRAM)
-	cd build/bin &amp;&amp; MONO_PATH=&quot;`pkg-config --variable=libdir monodoc`/monodoc&quot; mono --debug MonoDevelop.exe
+	cd build/bin &amp;&amp; LD_LIBRARY_PATH=&quot;$(MOZILLA_HOME)&quot; mono --debug MonoDevelop.exe
 
 pad: $(MONOPAD)
 

Modified: trunk/MonoDevelop/configure.in
===================================================================
--- trunk/MonoDevelop/configure.in	2004-03-25 05:42:27 UTC (rev 1238)
+++ trunk/MonoDevelop/configure.in	2004-03-25 07:35:45 UTC (rev 1239)
@@ -45,6 +45,14 @@
 GTKSOURCEVIEW_SHARP=&quot;`pkg-config --libs gtksourceview-sharp`&quot;
 AC_SUBST(GTKSOURCEVIEW_SHARP)
 
+GECKOSHARP_REQUIRED_VERSION=0.1
+PKG_CHECK_MODULES(BASE_DEPENDENCIES, gecko-sharp &gt;= $GECKOSHARP_REQUIRED_VERSION, enable_geckosharp=yes, enable_geckosharp=no)
+if test &quot;x$enable_geckosharp&quot; = &quot;xno&quot;; then
+        AC_MSG_ERROR([You need to install gecko-sharp])
+fi
+GECKO_SHARP=&quot;`pkg-config --libs gecko-sharp`&quot;
+AC_SUBST(GECKO_SHARP)
+
 dnl find gnome-vfs
 GNOMEVFS_REQUIRED_VERSION=2.0
 PKG_CHECK_MODULES(BASE_DEPENDENCIES, gnome-vfs-2.0 &gt;= $GNOMEVFS_REQUIRED_VERSION, enable_gnomevfs=yes, enable_gnomevfs=no)
@@ -109,7 +117,6 @@
 gdldock/gdl/Makefile
 gdldock/sources/Makefile
 gdldock/sources/gdl/Makefile
-gtkmozembed-sharp/Makefile
 src/Makefile
 src/AddIns/Makefile
 src/AddIns/BackendBindings/Makefile

Added: trunk/MonoDevelop/src/AddIns/Misc/StartPage/ChangeLog
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/StartPage/ChangeLog	2004-03-25 05:42:27 UTC (rev 1238)
+++ trunk/MonoDevelop/src/AddIns/Misc/StartPage/ChangeLog	2004-03-25 07:35:45 UTC (rev 1239)
@@ -0,0 +1,4 @@
+2004-03-25  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at sevenl.net</A>&gt;
+
+	* Makefile.am:
+	* StartPage.cs: updated for gecko-sharp

Modified: trunk/MonoDevelop/src/AddIns/Misc/StartPage/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/StartPage/Makefile.am	2004-03-25 05:42:27 UTC (rev 1238)
+++ trunk/MonoDevelop/src/AddIns/Misc/StartPage/Makefile.am	2004-03-25 07:35:45 UTC (rev 1239)
@@ -14,7 +14,7 @@
 	@ mcs /debug /out:$(DLL) /target:library /r:System.Drawing \
 		/r:../../../../build/bin/MonoDevelop.Core.dll \
 		/r:../../../../build/bin/MonoDevelop.Base.dll \
-		/r:../../../../build/bin/gtkmozembed-sharp.dll \
+		$(GECKO_SHARP) \
 		/r:gtk-sharp \
 		$(build_sources) \
 	&amp;&amp; cp $(DLL) ../../../../build/AddIns/AddIns/Misc/StartPage/.

Modified: trunk/MonoDevelop/src/AddIns/Misc/StartPage/StartPage.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/StartPage/StartPage.cs	2004-03-25 05:42:27 UTC (rev 1238)
+++ trunk/MonoDevelop/src/AddIns/Misc/StartPage/StartPage.cs	2004-03-25 07:35:45 UTC (rev 1239)
@@ -13,7 +13,7 @@
 using MonoDevelop.Gui.HtmlControl;
 using MonoDevelop.Core.Services;
 
-using GtkMozEmbed;
+using Gecko;
 
 namespace MonoDevelop.StartPage 
 {

Modified: trunk/MonoDevelop/src/Main/Base/ChangeLog
===================================================================
--- trunk/MonoDevelop/src/Main/Base/ChangeLog	2004-03-25 05:42:27 UTC (rev 1238)
+++ trunk/MonoDevelop/src/Main/Base/ChangeLog	2004-03-25 07:35:45 UTC (rev 1239)
@@ -1,5 +1,11 @@
 2004-03-25  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at sevenl.net</A>&gt;
 
+	* Makefile.am:
+	* Gui/HtmlControl/MozillaControl.cs:
+	* Gui/BrowserDisplayBinding/HtmlViewPane.cs: updated for gecko-sharp
+
+2004-03-25  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at sevenl.net</A>&gt;
+
 	* Services/File/DefaultFileService.cs: adding a new method of external
 	app launching based on gnome vfs stuff, works around broken gnome
 	installs.

Modified: trunk/MonoDevelop/src/Main/Base/Gui/BrowserDisplayBinding/HtmlViewPane.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/BrowserDisplayBinding/HtmlViewPane.cs	2004-03-25 05:42:27 UTC (rev 1238)
+++ trunk/MonoDevelop/src/Main/Base/Gui/BrowserDisplayBinding/HtmlViewPane.cs	2004-03-25 07:35:45 UTC (rev 1239)
@@ -8,7 +8,7 @@
 using System;
 using Gtk;
 using GtkSharp;
-using GtkMozEmbed;
+using Gecko;
 
 using MonoDevelop.Internal.Undo;
 using System.Drawing.Printing;
@@ -105,7 +105,7 @@
 		public BrowserPane(bool showNavigation) //: base (type)
 		{
 			htmlViewPane = new HtmlViewPane(showNavigation);
-			htmlViewPane.MozillaControl.Title += new EventHandler (OnTitleChanged);
+			htmlViewPane.MozillaControl.TitleChange += new EventHandler (OnTitleChanged);
 		}
 		
 		public BrowserPane() : this(true)
@@ -129,7 +129,7 @@
 		
 		private void OnTitleChanged (object o, EventArgs args)
 		{
-			ContentName = htmlViewPane.MozillaControl.GeckoTitle; 
+			ContentName = htmlViewPane.MozillaControl.Title; 
 		}
 	}
 	

Modified: trunk/MonoDevelop/src/Main/Base/Gui/HtmlControl/MozillaControl.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/HtmlControl/MozillaControl.cs	2004-03-25 05:42:27 UTC (rev 1238)
+++ trunk/MonoDevelop/src/Main/Base/Gui/HtmlControl/MozillaControl.cs	2004-03-25 07:35:45 UTC (rev 1239)
@@ -7,12 +7,11 @@
 //
 
 using System;
-using GtkMozEmbed;
-using GtkMozEmbedSharp;
+using Gecko;
 
 namespace MonoDevelop.Gui.HtmlControl
 {
-	public class MozillaControl : EmbedWidget, IWebBrowser
+	public class MozillaControl : WebControl, IWebBrowser
 	{
 		private static GLib.GType gtype;
 		private string html;
@@ -31,7 +30,7 @@
 		//FIXME: pick a better path, one of the Environment dirs
 		public MozillaControl () : base (GType)
 		{
-			EmbedWidget.SetProfilePath (&quot;/tmp&quot;, &quot;MonoDevelop&quot;);
+			WebControl.SetProfilePath (&quot;/tmp&quot;, &quot;MonoDevelop&quot;);
 		}
 		
 		public void GoHome ()

Modified: trunk/MonoDevelop/src/Main/Base/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Makefile.am	2004-03-25 05:42:27 UTC (rev 1238)
+++ trunk/MonoDevelop/src/Main/Base/Makefile.am	2004-03-25 07:35:45 UTC (rev 1239)
@@ -9,9 +9,9 @@
 	/r:../../../build/bin/MonoDevelop.Gui.Widgets.dll \
 	/r:System.Data /r:System.Web.Services \
 	/r:gtk-sharp /r:gdk-sharp /r:glib-sharp /r:pango-sharp \
-	/r:../../../build/bin/gtkmozembed-sharp.dll \
 	/r:../../../build/bin/gdl-sharp.dll \
-	/r:glade-sharp /r:gnome-sharp /r:gtkhtml-sharp
+	/r:glade-sharp /r:gnome-sharp /r:gtkhtml-sharp \
+	$(GECKO_SHARP)
 
 FILES= \
 ./Gui/Pads/ProjectBrowser/ProjectBrowserView.cs \


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000845.html">[Monodevelop-patches-list] r1238 - in trunk/MonoDevelop/src: AddIns/DebuggerAddIn AddIns/DisplayBindings/SourceEditor AddIns/Misc/StartPage Libraries/MonoDevelop.Core Libraries/MonoDevelop.Gui.Utils Libraries/MonoDevelop.Gui.Widgets Main/Base Main/StartUp
</A></li>
	<LI>Next message: <A HREF="000847.html">[Monodevelop-patches-list] r1240 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: . CodeCompletion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#846">[ date ]</a>
              <a href="thread.html#846">[ thread ]</a>
              <a href="subject.html#846">[ subject ]</a>
              <a href="author.html#846">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
