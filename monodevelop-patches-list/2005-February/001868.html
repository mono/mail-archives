<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r2266 - in trunk/MonoDevelop: . Core/src/AddIns/BackendBindings/CSharpBinding Core/src/AddIns/BackendBindings/ILAsmBinding Core/src/AddIns/BackendBindings/JavaBinding Core/src/AddIns/BackendBindings/NemerleBinding Core/src/AddIns/BackendBindings/VBNetBinding Core/src/AddIns/DebuggerAddIn Core/src/AddIns/DisplayBindings/SourceEditor Core/src/AddIns/prj2make-sharp-lib Core/src/ICSharpCode.SharpAssembly Core/src/ICSharpCode.SharpRefactory Core/src/MonoDevelop.Base Core/src/MonoDevelop.Core Core/src/MonoDevelop.Gui.Utils Core/src/MonoDevelop.Gui.Widgets Core/src/MonoDevelop.Startup Core/src/Tools/dbgen Extras/MonoDeveloperExtensions Extras/MonoQuery po
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2266%20-%20in%20trunk/MonoDevelop%3A%20.%20Core/src/AddIns/BackendBindings/CSharpBinding%20Core/src/AddIns/BackendBindings/ILAsmBinding%20Core/src/AddIns/BackendBindings/JavaBinding%20Core/src/AddIns/BackendBindings/NemerleBinding%20Core/src/AddIns/BackendBindings/VBNetBinding%20Core/src/AddIns/DebuggerAddIn%20Core/src/AddIns/DisplayBindings/SourceEditor%20Core/src/AddIns/prj2make-sharp-lib%20Core/src/ICSharpCode.SharpAssembly%20Core/src/ICSharpCode.SharpRefactory%20Core/src/MonoDevelop.Base%20Core/src/MonoDevelop.Core%20Core/src/MonoDevelop.Gui.Utils%20Core/src/MonoDevelop.Gui.Widgets%20Core/src/MonoDevelop.Startup%20Core/src/Tools/dbgen%20Extras/MonoDeveloperExtensions%20Extras/MonoQuery%20po&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001867.html">
   <LINK REL="Next"  HREF="001869.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r2266 - in trunk/MonoDevelop: . Core/src/AddIns/BackendBindings/CSharpBinding Core/src/AddIns/BackendBindings/ILAsmBinding Core/src/AddIns/BackendBindings/JavaBinding Core/src/AddIns/BackendBindings/NemerleBinding Core/src/AddIns/BackendBindings/VBNetBinding Core/src/AddIns/DebuggerAddIn Core/src/AddIns/DisplayBindings/SourceEditor Core/src/AddIns/prj2make-sharp-lib Core/src/ICSharpCode.SharpAssembly Core/src/ICSharpCode.SharpRefactory Core/src/MonoDevelop.Base Core/src/MonoDevelop.Core Core/src/MonoDevelop.Gui.Utils Core/src/MonoDevelop.Gui.Widgets Core/src/MonoDevelop.Startup Core/src/Tools/dbgen Extras/MonoDeveloperExtensions Extras/MonoQuery po</H1>
    <B>John Luke &lt;jluke@cfl.rr.com&gt;</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2266%20-%20in%20trunk/MonoDevelop%3A%20.%20Core/src/AddIns/BackendBindings/CSharpBinding%20Core/src/AddIns/BackendBindings/ILAsmBinding%20Core/src/AddIns/BackendBindings/JavaBinding%20Core/src/AddIns/BackendBindings/NemerleBinding%20Core/src/AddIns/BackendBindings/VBNetBinding%20Core/src/AddIns/DebuggerAddIn%20Core/src/AddIns/DisplayBindings/SourceEditor%20Core/src/AddIns/prj2make-sharp-lib%20Core/src/ICSharpCode.SharpAssembly%20Core/src/ICSharpCode.SharpRefactory%20Core/src/MonoDevelop.Base%20Core/src/MonoDevelop.Core%20Core/src/MonoDevelop.Gui.Utils%20Core/src/MonoDevelop.Gui.Widgets%20Core/src/MonoDevelop.Startup%20Core/src/Tools/dbgen%20Extras/MonoDeveloperExtensions%20Extras/MonoQuery%20po&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r2266 - in trunk/MonoDevelop: . Core/src/AddIns/BackendBindings/CSharpBinding Core/src/AddIns/BackendBindings/ILAsmBinding Core/src/AddIns/BackendBindings/JavaBinding Core/src/AddIns/BackendBindings/NemerleBinding Core/src/AddIns/BackendBindings/VBNetBinding Core/src/AddIns/DebuggerAddIn Core/src/AddIns/DisplayBindings/SourceEditor Core/src/AddIns/prj2make-sharp-lib Core/src/ICSharpCode.SharpAssembly Core/src/ICSharpCode.SharpRefactory Core/src/MonoDevelop.Base Core/src/MonoDevelop.Core Core/src/MonoDevelop.Gui.Utils Core/src/MonoDevelop.Gui.Widgets Core/src/MonoDevelop.Startup Core/src/Tools/dbgen Extras/MonoDeveloperExtensions Extras/MonoQuery po">jluke at mono-cvs.ximian.com
       </A><BR>
    <I>Wed Feb 23 18:24:23 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001867.html">[Monodevelop-patches-list] r2265 - in trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor: . Gui
</A></li>
        <LI>Next message: <A HREF="001869.html">[Monodevelop-patches-list] r2267 - trunk/MonoDevelop/Core/src/MonoDevelop.Base
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1868">[ date ]</a>
              <a href="thread.html#1868">[ thread ]</a>
              <a href="subject.html#1868">[ subject ]</a>
              <a href="author.html#1868">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2005-02-23 18:24:23 -0500 (Wed, 23 Feb 2005)
New Revision: 2266

Modified:
   trunk/MonoDevelop/ChangeLog
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/ILAsmBinding/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/JavaBinding/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/NemerleBinding/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/DebuggerAddIn/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/prj2make-sharp-lib/Makefile.am
   trunk/MonoDevelop/Core/src/ICSharpCode.SharpAssembly/Makefile.am
   trunk/MonoDevelop/Core/src/ICSharpCode.SharpRefactory/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Core/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Startup/Makefile.am
   trunk/MonoDevelop/Core/src/Tools/dbgen/Makefile.am
   trunk/MonoDevelop/Extras/MonoDeveloperExtensions/Makefile.am
   trunk/MonoDevelop/Extras/MonoQuery/Makefile.am
   trunk/MonoDevelop/configure.in
   trunk/MonoDevelop/po/POTFILES.in
Log:
improve the makefiles


Modified: trunk/MonoDevelop/ChangeLog
===================================================================
--- trunk/MonoDevelop/ChangeLog	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/ChangeLog	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,3 +1,11 @@
+2005-02-09  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
+
+	* */Makefile.am: build to build/bin/ so the make CSC='mcs -g'
+	and then running with --debug will work
+	almost fix distcheck
+	* po/POTFILES.in: update
+	* configure.in: dep on gtk-sharp-2 &gt; 1.9.2
+
 2005-02-10  Christian Hergert &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">christian.hergert at gmail.com</A>&gt;
 
 	* configure.in: Gecko# updated their pkg-config settings. We now check

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,4 +1,6 @@
-ASSEMBLY = CSharpBinding.dll
+ADDIN_BUILD = $(top_builddir)/build/AddIns/BackendBindings
+ASSEMBLY = $(ADDIN_BUILD)/CSharpBinding.dll
+
 PARSE = parse.exe
 
 DLLS = /r:System.Drawing.dll \
@@ -62,7 +64,6 @@
 
 ADDIN = CSharpBinding.addin.xml
 
-ADDIN_BUILD = $(top_builddir)/build/AddIns/BackendBindings
 
 TEMPLATES_DIR = $(ADDIN_BUILD)/templates
 
@@ -84,17 +85,16 @@
 
 $(ASSEMBLY): $(build_sources) $(srcdir)/CSharp.glade
 	mkdir -p $(ADDIN_BUILD)
-	$(CSC) /out:$(ASSEMBLY) /target:library $(DLLS) \
-		/resource:$(srcdir)/CSharp.glade,CSharp.glade \
-		$(build_sources) \
-	&amp;&amp; cp $(ASSEMBLY) $(ADDIN_BUILD)/.
+	$(CSC) -out:$@ -target:library $(DLLS) \
+		-resource:$(srcdir)/CSharp.glade,CSharp.glade \
+		$(build_sources)
 
 parse: $(PARSE)
 
 $(PARSE): parse.cs $(ASSEMBLY)
 	$(CSC) -out:$@ parse.cs $(DLLS) -r:../../../../../build/AddIns/BackendBindings/$(ASSEMBLY)
 
-run-parse-test:
+run-parse-test: $(PARSE)
 	MONO_PATH=../../../../../build/AddIns/BackendBindings/:../../../../../build/bin/ mono $(PARSE) .
 
 csharpbindinglibdir = $(libdir)/monodevelop/AddIns/BackendBindings

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/ILAsmBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/ILAsmBinding/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/ILAsmBinding/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,5 +1,6 @@
 
-ASSEMBLY = ILAsmBinding.dll
+ADDIN_BUILD = $(top_builddir)/build/AddIns/BackendBindings
+ASSEMBLY = $(ADDIN_BUILD)/ILAsmBinding.dll
 
 DLLS = /r:$(top_builddir)/build/bin/MonoDevelop.Core.dll \
 	/r:$(top_builddir)/build/bin/MonoDevelop.Base.dll \
@@ -21,7 +22,6 @@
 
 ADDIN = ILAsmBinding.addin.xml
 
-ADDIN_BUILD = $(top_builddir)/build/AddIns/BackendBindings
 
 TEMPLATES_DIR = $(ADDIN_BUILD)/templates
 
@@ -45,8 +45,7 @@
 
 $(ASSEMBLY): $(build_sources)
 	mkdir -p $(ADDIN_BUILD)
-	$(CSC) $(build_sources) $(DLLS) /out:$(ASSEMBLY) /target:library \
-	&amp;&amp; cp $(ASSEMBLY) $(ADDIN_BUILD)/.
+	$(CSC) $(build_sources) $(DLLS) -out:$@ -target:library
 
 CLEANFILES = $(ASSEMBLY) $(ASSEMBLY).mdb
 EXTRA_DIST = $(FILES) $(ADDIN) $(TEMPLATES)

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/JavaBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/JavaBinding/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/JavaBinding/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,5 +1,6 @@
 
-ASSEMBLY = JavaBinding.dll
+ADDIN_BUILD = $(top_builddir)/build/AddIns/BackendBindings
+ASSEMBLY = $(ADDIN_BUILD)/JavaBinding.dll
 
 DLLS = /r:System.Drawing.dll \
 	/r:$(top_builddir)/build/bin/MonoDevelop.Core.dll \
@@ -35,7 +36,6 @@
 
 ADDIN = JavaBinding.addin.xml
 
-ADDIN_BUILD = $(top_builddir)/build/AddIns/BackendBindings
 
 TEMPLATES_DIR = $(ADDIN_BUILD)/templates
 
@@ -67,8 +67,7 @@
 
 $(ASSEMBLY): $(FILES)
 	mkdir -p $(ADDIN_BUILD)
-	$(CSC) $(DLLS) $(build_sources) /out:$(ASSEMBLY) /target:library \
-	&amp;&amp; cp $(ASSEMBLY) $(ADDIN_BUILD)/.
+	$(CSC) $(DLLS) $(build_sources) -out:$@ -target:library
 
 assemblydir = $(libdir)/monodevelop/AddIns/BackendBindings
 assembly_DATA = $(ASSEMBLY) $(ADDIN)

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/NemerleBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/NemerleBinding/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/NemerleBinding/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,5 +1,6 @@
 
-ASSEMBLY = NemerleBinding.dll
+ADDIN_BUILD = $(top_builddir)/build/AddIns/BackendBindings
+ASSEMBLY = $(ADDIN_BUILD)/NemerleBinding.dll
 
 DLLS = /r:System.Drawing.dll \
 	/r:$(top_builddir)/build/bin/MonoDevelop.Core.dll \
@@ -29,8 +30,6 @@
 
 ADDIN = NemerleBinding.addin.xml
 
-ADDIN_BUILD = $(top_builddir)/build/AddIns/BackendBindings
-
 TEMPLATES_DIR = $(ADDIN_BUILD)/templates
 
 all: $(ASSEMBLY) $(ADDIN_BUILD)/$(ADDIN) $(build_TEMPLATES)
@@ -49,9 +48,8 @@
 
 $(ASSEMBLY): $(FILES) $(srcdir)/Nemerle.glade
 	mkdir -p $(ADDIN_BUILD)
-	$(CSC) $(DLLS) $(build_sources) /out:$(ASSEMBLY) /target:library \
-	/resource:$(srcdir)/Nemerle.glade,Nemerle.glade \
-	&amp;&amp; cp $(ASSEMBLY) $(ADDIN_BUILD)/.
+	$(CSC) $(DLLS) $(build_sources) -out:$@ -target:library \
+	-resource:$(srcdir)/Nemerle.glade,Nemerle.glade
 
 assemblydir = $(libdir)/monodevelop/AddIns/BackendBindings/
 assembly_DATA = $(ASSEMBLY) $(ADDIN)

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,5 +1,7 @@
-ASSEMBLY = VBNetBinding.dll
 
+ADDIN_BUILD = $(top_builddir)/build/AddIns/BackendBindings
+ASSEMBLY = $(ADDIN_BUILD)/VBNetBinding.dll
+
 SUBDIRS = SharpRefactoryVB
 
 DLLS = /r:System.Drawing.dll \
@@ -48,8 +50,6 @@
 
 ADDIN = VBNetBinding.addin.xml
 
-ADDIN_BUILD = $(top_builddir)/build/AddIns/BackendBindings
-
 TEMPLATES_DIR = $(ADDIN_BUILD)/templates
 
 build_TEMPLATES = $(addprefix $(TEMPLATES_DIR)/, $(notdir $(TEMPLATES)))
@@ -71,10 +71,9 @@
 $(ASSEMBLY): $(build_sources) $(srcdir)/VB.glade
 	mkdir -p $(ADDIN_BUILD)
 	cd SharpRefactoryVB &amp;&amp; make
-	$(CSC) /out:$(ASSEMBLY) /target:library $(DLLS) \
-		/resource:$(srcdir)/VB.glade,VB.glade \
-		$(build_sources) \
-	&amp;&amp; cp $(ASSEMBLY) $(ADDIN_BUILD)/.
+	$(CSC) -out:$@ -target:library $(DLLS) \
+		-resource:$(srcdir)/VB.glade,VB.glade \
+		$(build_sources)
 
 vbnetbindinglibdir = $(libdir)/monodevelop/AddIns/BackendBindings
 vbnetbindinglib_DATA = $(ASSEMBLY) $(ADDIN)

Modified: trunk/MonoDevelop/Core/src/AddIns/DebuggerAddIn/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DebuggerAddIn/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/AddIns/DebuggerAddIn/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,7 +1,7 @@
 
-ASSEMBLY = MonoDevelop.Debugger.dll
 ADDIN = MonoDevelopDebugger.addin.xml
 ADDIN_BUILD = $(top_builddir)/build/AddIns/DebuggerAddIn
+ASSEMBLY = $(ADDIN_BUILD)/MonoDevelop.Debugger.dll
 
 DLLS = $(GTK_SHARP_LIBS) \
 	$(MONO_DEBUGGER_LIBS) \
@@ -31,9 +31,8 @@
 
 $(ASSEMBLY): $(build_sources)
 	mkdir -p $(ADDIN_BUILD)
-	$(CSC) /out:$(ASSEMBLY) /target:library \
-	$(build_sources) $(DLLS)\
-	&amp;&amp; cp $(ASSEMBLY) $(ADDIN_BUILD)/$(ADDIN)
+	$(CSC) -out:$@ -target:library \
+	$(build_sources) $(DLLS)
 
 assemblydir = $(libdir)/monodevelop/AddIns/DebuggerAddIn
 assembly_DATA = $(ASSEMBLY) $(ADDIN)

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,4 +1,6 @@
-DLL = MonoDevelop.SourceEditor.dll
+DLLNAME = MonoDevelop.SourceEditor.dll
+CONFIG = $(DLLNAME).config
+DLL = $(top_builddir)/build/bin/$(DLLNAME)
 
 FILES = \
 AssemblyInfo.cs \
@@ -99,18 +101,18 @@
 
 $(DLL) : $(build_sources) $(srcdir)/EditorBindings.glade $(srcdir)/texteditoraddin.glade
 	mkdir -p $(top_builddir)/build/bin
-	$(CSC) $(build_sources) /debug /out:$(DLL) /t:library $(REFS) \
-	/resource:$(srcdir)/EditorBindings.glade,EditorBindings.glade \
-	/resource:$(srcdir)/texteditoraddin.glade,texteditoraddin.glade \
-	&amp;&amp; cp $(DLL) $(top_builddir)/build/bin/. &amp;&amp; cp $(DLL).config $(top_builddir)/build/bin/.
+	$(CSC) $(build_sources) -out:$@ -t:library $(REFS) \
+	-resource:$(srcdir)/EditorBindings.glade,EditorBindings.glade \
+	-resource:$(srcdir)/texteditoraddin.glade,texteditoraddin.glade \
+	&amp;&amp; cp $(CONFIG) $(top_builddir)/build/bin/.
 
 assemblydir = $(libdir)/monodevelop/bin
-assembly_DATA = $(DLL) $(DLL).config
+assembly_DATA = $(DLL) $(CONFIG)
 
 addindir = $(libdir)/monodevelop/AddIns
 addin_DATA = $(ADDIN)
 
 CLEANFILES = $(DLL) $(DLL).mdb
-DISTCLEANFILES = $(DLL).config
+DISTCLEANFILES = $(CONFIG)
 
-EXTRA_DIST = $(FILES) $(DLL).config.in EditorBindings.glade texteditoraddin.glade $(ADDIN)
+EXTRA_DIST = $(FILES) $(CONFIG).in EditorBindings.glade texteditoraddin.glade $(ADDIN)

Modified: trunk/MonoDevelop/Core/src/AddIns/prj2make-sharp-lib/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/prj2make-sharp-lib/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/AddIns/prj2make-sharp-lib/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,7 +1,7 @@
 
-ASSEMBLY = prj2make-sharp-lib.dll
 ADDIN = prj2make-sharp-lib.addin.xml
 ADDIN_BUILD = $(top_builddir)/build/AddIns/prj2makesharp
+ASSEMBLY = $(ADDIN_BUILD)/prj2make-sharp-lib.dll
 
 DLLS = $(GTK_SHARP_LIBS) \
 	/r:$(top_builddir)/build/bin/MonoDevelop.Base.dll \
@@ -34,9 +34,7 @@
 
 $(ASSEMBLY): $(build_sources)
 	mkdir -p $(ADDIN_BUILD)
-	$(CSC) /out:$(ASSEMBLY) /target:library \
-	$(build_sources) $(DLLS)\
-	&amp;&amp; cp $(ASSEMBLY) $(ADDIN_BUILD)/.
+	$(CSC) -out:$@ -target:library $(build_sources) $(DLLS)
 
 assemblydir = $(libdir)/monodevelop/AddIns
 assembly_DATA = $(ASSEMBLY) $(ADDIN)

Modified: trunk/MonoDevelop/Core/src/ICSharpCode.SharpAssembly/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/ICSharpCode.SharpAssembly/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/ICSharpCode.SharpAssembly/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -68,13 +68,12 @@
 
 build_sources = $(addprefix $(srcdir)/, $(FILES))
 
-DLL = ICSharpCode.SharpAssembly.dll
+DLL = $(top_builddir)/build/bin/ICSharpCode.SharpAssembly.dll
 
 all: $(DLL)
 
 $(DLL): $(build_sources)
-	$(CSC) /out:$(DLL) /target:library $(build_sources) \
-	&amp;&amp; cp $(DLL) $(top_builddir)/build/bin/.
+	$(CSC) -out:$@ -target:library $(build_sources)
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)

Modified: trunk/MonoDevelop/Core/src/ICSharpCode.SharpRefactory/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/ICSharpCode.SharpRefactory/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/ICSharpCode.SharpRefactory/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,4 +1,4 @@
-DLL = ICSharpCode.SharpRefactory.dll
+DLL = $(top_builddir)/build/bin/ICSharpCode.SharpRefactory.dll
 TEST = test-parser.exe
 
 REFS = -r:System.Drawing.dll
@@ -116,16 +116,15 @@
 
 build_sources = $(addprefix $(srcdir)/, $(FILES))
 
-all: $(DLL)
+all: $(DLL) $(TEST)
 
 $(DLL): $(FILES)
-	$(CSC) /out:$(DLL) /target:library $(REFS) $(build_sources) \
-	&amp;&amp; cp $(DLL) $(top_builddir)/build/bin/.
+	$(CSC) -out:$@ /target:library $(REFS) $(build_sources)
 
 test: $(TEST)
 
-$(TEST): $(DLL) src/Main.cs
-	$(CSC) -out:$@ -r:$(DLL) src/Main.cs
+$(TEST): $(DLL) $(srcdir)/src/Main.cs
+	$(CSC) -out:$@ -r:$(DLL) $(srcdir)/src/Main.cs
 
 run-test: test
 	mono $(TEST) a.cs
@@ -135,5 +134,5 @@
 
 CLEANFILES = $(DLL) $(DLL).mdb $(TEST)
 
-EXTRA_DIST = $(FILES)
+EXTRA_DIST = $(FILES) src/Main.cs
 

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -432,7 +432,9 @@
 
 build_sources = $(addprefix $(srcdir)/, $(FILES))
 
-ASSEMBLY = MonoDevelop.Base.dll
+DLLNAME = MonoDevelop.Base.dll
+CONFIG = $(DLLNAME).config
+ASSEMBLY = $(top_builddir)/build/bin/$(DLLNAME)
 
 ADDIN = MonoDevelopCore.addin.xml
 
@@ -449,18 +451,16 @@
 	cp $(srcdir)/$(ADDIN) $(ADDIN_BUILD)/.
 
 $(ASSEMBLY): $(build_sources) $(srcdir)/Base.glade
-	$(CSC) $(MONO_POSIX_OEE) -g -codepage:utf8 /out:$(ASSEMBLY) /target:library $(DLLS) \
-		/resource:$(srcdir)/Base.glade,Base.glade \
-		$(monodoc_libflags) \
-		$(build_sources) \
-	&amp;&amp; cp $(ASSEMBLY) $(top_builddir)/build/bin/. \
-	&amp;&amp; cp $(ASSEMBLY).config $(top_builddir)/build/bin/.
+	$(CSC) $(MONO_POSIX_OEE) -codepage:utf8 -out:$@ -target:library $(DLLS) \
+		-resource:$(srcdir)/Base.glade,Base.glade \
+		$(monodoc_libflags) $(build_sources) \
+	&amp;&amp; cp $(CONFIG) $(top_builddir)/build/bin/.
 
 Services/StockIcons.cs : ./Services/process-icons.pl ../../../build/data/resources/icons
 	perl  -x$(srcdir)/../../../build/data/resources/icons -w $(srcdir)/./Services/process-icons.pl &gt; $(srcdir)/Services/StockIcons.cs
 
 assemblydir = $(libdir)/monodevelop/bin
-assembly_DATA = $(ASSEMBLY) $(ASSEMBLY).config
+assembly_DATA = $(ASSEMBLY) $(CONFIG)
 
 addindir = $(libdir)/monodevelop/AddIns
 addin_DATA = $(ADDIN)
@@ -469,7 +469,7 @@
 options_DATA = $(OPTIONS)
 
 CLEANFILES = $(ASSEMBLY) $(ASSEMBLY).mdb
-DISTCLEANFILES = $(ASSEMBLY).config
+DISTCLEANFILES = $(CONFIG)
 
-EXTRA_DIST = $(FILES) ./Services/process-icons.pl $(ASSEMBLY).config.in Base.glade $(ADDIN) $(OPTIONS)
+EXTRA_DIST = $(FILES) ./Services/process-icons.pl $(CONFIG).in Base.glade $(ADDIN) $(OPTIONS)
 

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Core/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Core/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Core/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -57,7 +57,7 @@
 
 build_sources = $(addprefix $(srcdir)/, $(FILES)) Services/GettextCatalog.cs
 
-DLL = MonoDevelop.Core.dll
+DLL = $(top_builddir)/build/bin/MonoDevelop.Core.dll
 
 REFS = -r:Mono.Posix.dll
 
@@ -69,8 +69,7 @@
 	mv $@.tmp $@
 
 $(DLL): $(build_sources) $(build_resources)
-	$(CSC) /out:$(DLL) /target:library $(REFS) \
-	$(build_sources) &amp;&amp; cp $(DLL) $(top_builddir)/build/bin/.
+	$(CSC) -out:$@ -target:library $(REFS) $(build_sources)
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,4 +1,6 @@
-DLL = MonoDevelop.Gui.Utils.dll
+DLLNAME = MonoDevelop.Gui.Utils.dll
+CONFIG = $(DLLNAME).config
+DLL = $(top_builddir)/build/bin/$(DLLNAME)
 
 REFERENCES = /r:System.Drawing \
 	/r:ICSharpCode.SharpZipLib \
@@ -21,14 +23,14 @@
 all: $(DLL)
 
 $(DLL): $(build_sources)
-	$(CSC) /out:$(DLL) /target:library $(REFERENCES) $(build_sources) \
-	&amp;&amp; cp $(DLL) $(top_builddir)/build/bin/. &amp;&amp; cp $(DLL).config $(top_builddir)/build/bin
+	$(CSC) -out:$@ /target:library $(REFERENCES) $(build_sources) \
+	&amp;&amp; cp $(CONFIG) $(top_builddir)/build/bin/.
 
 assemblydir = $(libdir)/monodevelop/bin
-assembly_DATA = $(DLL) $(DLL).config
+assembly_DATA = $(DLL) $(CONFIG)
 
 CLEANFILES = $(DLL) $(DLL).mdb
-DISTCLEANFILES = $(DLL).config
+DISTCLEANFILES = $(CONFIG)
 
-EXTRA_DIST = $(FILES) $(DLL).config.in
+EXTRA_DIST = $(FILES) $(CONFIG).in
 

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,5 +1,5 @@
 
-DLL = MonoDevelop.Gui.Widgets.dll
+DLL = $(top_builddir)/build/bin/MonoDevelop.Gui.Widgets.dll
 
 REFERENCES = /r:System.Drawing \
 	/r:$(top_builddir)/build/bin/MonoDevelop.Core.dll \
@@ -35,8 +35,7 @@
 all: $(DLL)
 
 $(DLL): $(build_sources)
-	$(CSC) /debug /out:$(DLL) /target:library $(REFERENCES) $(build_sources) \
-	&amp;&amp; cp $(DLL) $(top_builddir)/build/bin/.
+	$(CSC) -out:$@ -target:library $(REFERENCES) $(build_sources)
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Startup/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Startup/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Startup/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -6,7 +6,7 @@
 
 build_sources = $(addprefix $(srcdir)/, $(FILES))
 
-DLL = MonoDevelop.exe
+DLL = $(top_builddir)/build/bin/MonoDevelop.exe
 
 all: $(DLL)
 
@@ -19,11 +19,8 @@
 	$(GNOME_SHARP_LIBS)
 
 $(DLL): $(build_sources)
-	$(CSC) /out:$(DLL) \
-		/define:GTK $(REFS) \
-		$(build_sources) \
-		/resource:$(srcdir)/SplashScreen.png,SplashScreen.png \
-	&amp;&amp; cp $(DLL) $(top_builddir)/build/bin/.
+	$(CSC) -out:$@ -define:GTK $(REFS) $(build_sources) \
+		-resource:$(srcdir)/SplashScreen.png,SplashScreen.png
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)           

Modified: trunk/MonoDevelop/Core/src/Tools/dbgen/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/Tools/dbgen/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Core/src/Tools/dbgen/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -1,5 +1,5 @@
 
-ASSEMBLY = dbgen.exe
+ASSEMBLY = $(top_builddir)/build/bin/dbgen.exe
 
 FILES = src/AssemblyInfo.cs \
 src/dbgen.cs
@@ -11,8 +11,7 @@
 REFS = /r:$(top_builddir)/build/bin/MonoDevelop.Base.dll /r:$(top_builddir)/build/bin/MonoDevelop.Core.dll
 	
 $(ASSEMBLY): $(build_sources)
-	$(CSC) $(build_sources) $(REFS) /out:$(ASSEMBLY) \
-	&amp;&amp; cp $(ASSEMBLY) $(top_builddir)/build/bin/.
+	$(CSC) $(build_sources) $(REFS) -out:$@
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(ASSEMBLY)           

Modified: trunk/MonoDevelop/Extras/MonoDeveloperExtensions/Makefile.am
===================================================================
--- trunk/MonoDevelop/Extras/MonoDeveloperExtensions/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Extras/MonoDeveloperExtensions/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -20,26 +20,22 @@
 
 ADDIN_BUILD = $(top_builddir)/build/AddIns/MonoDeveloperExtensions
 
-DLL = MonoDeveloperExtensions.dll
+DLL = $(ADDIN_BUILD)/MonoDeveloperExtensions.dll
 
-DLL_BUILD = $(top_builddir)/build/AddIns/MonoDeveloperExtensions
+all: $(ADDIN_BUILD)/$(ADDIN) $(DLL)
 
-all: $(DLL_BUILD)/$(DLL) $(ADDIN_BUILD)/$(ADDIN)
-
 $(ADDIN_BUILD)/$(ADDIN): $(srcdir)/$(ADDIN)
 	mkdir -p $(ADDIN_BUILD)
 	cp $(srcdir)/$(ADDIN) $(ADDIN_BUILD)/$(ADDIN)
 
 $(DLL): $(build_sources) $(srcdir)/$(GLADEFILE)
-	mcs -target:library -out:$(DLL) $(build_sources) $(REFS)
+	mkdir -p $(ADDIN_BUILD)
+	$(CSC) -target:library -out:$@ $(build_sources) $(REFS)
 
-$(DLL_BUILD)/$(DLL): $(srcdir)/$(DLL)
-	mkdir -p $(DLL_BUILD)
-	cp $(srcdir)/$(DLL) $(DLL_BUILD)/$(DLL)
+CLEANFILES = $(DLL) $(DLL).mdb $(ADDIN_BUILD)/$(ADDIN)
 
-CLEANFILES=$(DLL) $(DLL_BUILD)/$(DLL) $(ADDIN_BUILD)/$(ADDIN)
+EXTRA_DIST = $(FILES) $(ADDIN)
 
-EXTRADIST=$(FILES)
-
 MonoDeveloperExtensionsdir = $(libdir)/monodevelop/AddIns/MonoDeveloperExtensions
-MonoDeveloperExtensions_DATA = $(DLL_BUILD)/$(DLL) $(ADDIN_BUILD)/$(ADDIN)
+MonoDeveloperExtensions_DATA = $(DLL) $(ADDIN_BUILD)/$(ADDIN)
+

Modified: trunk/MonoDevelop/Extras/MonoQuery/Makefile.am
===================================================================
--- trunk/MonoDevelop/Extras/MonoQuery/Makefile.am	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/Extras/MonoQuery/Makefile.am	2005-02-23 23:24:23 UTC (rev 2266)
@@ -59,26 +59,22 @@
 
 ADDIN_BUILD = $(top_builddir)/build/AddIns/MonoQuery
 
-DLL = MonoQuery.dll
+DLL = $(ADDIN_BUILD)/MonoQuery.dll
 
-DLL_BUILD = $(top_builddir)/build/AddIns/MonoQuery
+all: $(ADDIN_BUILD)/$(ADDIN) $(DLL)
 
-all: $(DLL_BUILD)/$(DLL) $(ADDIN_BUILD)/$(ADDIN)
-
 $(ADDIN_BUILD)/$(ADDIN): $(srcdir)/$(ADDIN)
 	mkdir -p $(ADDIN_BUILD)
 	cp $(srcdir)/$(ADDIN) $(ADDIN_BUILD)/$(ADDIN)
 
 $(DLL): $(build_sources) $(srcdir)/$(GLADEFILE)
-	mcs -target:library -out:$(DLL) $(build_sources) $(REFS)
+	mkdir -p $(ADDIN_BUILD)
+	$(CSC) -target:library -out:$@ $(build_sources) $(REFS)
 
-$(DLL_BUILD)/$(DLL): $(srcdir)/$(DLL)
-	mkdir -p $(DLL_BUILD)
-	cp $(srcdir)/$(DLL) $(DLL_BUILD)/$(DLL)
+CLEANFILES = $(DLL) $(DLL).mdb $(ADDIN_BUILD)/$(ADDIN)
 
-CLEANFILES=$(DLL) $(DLL_BUILD)/$(DLL) $(ADDIN_BUILD)/$(ADDIN)
+EXTRA_DIST = $(FILES) $(SQLITE_FILES) $(ADDIN)
 
-EXTRADIST=$(FILES)
-
 monoquerydir = $(libdir)/monodevelop/AddIns/MonoQuery
-monoquery_DATA = $(DLL_BUILD)/$(DLL) $(ADDIN_BUILD)/$(ADDIN)
+monoquery_DATA = $(DLL) $(ADDIN_BUILD)/$(ADDIN)
+

Modified: trunk/MonoDevelop/configure.in
===================================================================
--- trunk/MonoDevelop/configure.in	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/configure.in	2005-02-23 23:24:23 UTC (rev 2266)
@@ -72,7 +72,7 @@
 
 
 dnl hard dependencies
-GTKSHARP_REQUIRED_VERSION=1.0
+GTKSHARP_REQUIRED_VERSION=1.9.2
 GTKSOURCEVIEWSHARP_REQUIRED_VERSION=0.6.99
 GECKOSHARP_REQUIRED_VERSION=0.7
 MONODOC_REQUIRED_VERSION=1.0

Modified: trunk/MonoDevelop/po/POTFILES.in
===================================================================
--- trunk/MonoDevelop/po/POTFILES.in	2005-02-23 04:05:15 UTC (rev 2265)
+++ trunk/MonoDevelop/po/POTFILES.in	2005-02-23 23:24:23 UTC (rev 2266)
@@ -67,7 +67,7 @@
 Core/src/MonoDevelop.Base/Services/File/DefaultFileService.cs
 Core/src/MonoDevelop.Base/Services/MessageService.cs
 Core/src/MonoDevelop.Base/Services/ParserService/DefaultParserService.cs
-Core/src/MonoDevelop.Base/Services/Project/DefaultProjectService.cs
+Core/src/MonoDevelop.Base/Services/Project/ProjectService.cs
 Core/src/MonoDevelop.Base/Services/StatusBar/DefaultStatusBarService.cs
 Core/src/MonoDevelop.Base/Services/ResourceNotFoundException.cs
 Core/src/MonoDevelop.Gui.Widgets/FileBrowser/FileBrowser.cs
@@ -137,12 +137,10 @@
 Core/src/MonoDevelop.Base/Gui/Dialogs/DirtyFilesDialog.cs
 Core/src/MonoDevelop.Base/Gui/Dialogs/Wizard/StatusPanel.cs
 Core/src/MonoDevelop.Base/Gui/Dialogs/Wizard/WizardDialog.cs
-Core/src/MonoDevelop.Base/Gui/Pads/SideBarView.cs
 Core/src/MonoDevelop.Base/Gui/Pads/TerminalPad.cs
 Core/src/MonoDevelop.Base/Internal/ExternalTool/ExternalTool.cs
 Core/src/MonoDevelop.Base/Internal/Templates/ProjectTemplates/ProjectTemplate.cs
 Core/src/MonoDevelop.Core/Services/FileUtilityService.cs
-Core/src/MonoDevelop.Core/Services/SaveErrorChooseDialog.cs
 Core/src/MonoDevelop.Gui.Widgets/FileSelector/FileSelector.cs
 Extras/PythonBinding/Gui/CompilerParametersPanel.cs
 Extras/PythonBinding/templates/PythonConsoleProject.xpt.xml


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001867.html">[Monodevelop-patches-list] r2265 - in trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor: . Gui
</A></li>
	<LI>Next message: <A HREF="001869.html">[Monodevelop-patches-list] r2267 - trunk/MonoDevelop/Core/src/MonoDevelop.Base
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1868">[ date ]</a>
              <a href="thread.html#1868">[ thread ]</a>
              <a href="subject.html#1868">[ subject ]</a>
              <a href="author.html#1868">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
