<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r2275 - in trunk/MonoDevelop/Core/src: AddIns/DisplayBindings/SourceEditor AddIns/DisplayBindings/SourceEditor/Commands AddIns/DisplayBindings/SourceEditor/Gui/Dialogs AddIns/DisplayBindings/SourceEditor/Search MonoDevelop.Base MonoDevelop.Base/Services
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2275%20-%20in%20trunk/MonoDevelop/Core/src%3A%20AddIns/DisplayBindings/SourceEditor%20AddIns/DisplayBindings/SourceEditor/Commands%20AddIns/DisplayBindings/SourceEditor/Gui/Dialogs%20AddIns/DisplayBindings/SourceEditor/Search%20MonoDevelop.Base%20MonoDevelop.Base/Services&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001876.html">
   <LINK REL="Next"  HREF="001878.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r2275 - in trunk/MonoDevelop/Core/src: AddIns/DisplayBindings/SourceEditor AddIns/DisplayBindings/SourceEditor/Commands AddIns/DisplayBindings/SourceEditor/Gui/Dialogs AddIns/DisplayBindings/SourceEditor/Search MonoDevelop.Base MonoDevelop.Base/Services</H1>
    <B>Todd Berman &lt;tberman@sevenl.net&gt;</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2275%20-%20in%20trunk/MonoDevelop/Core/src%3A%20AddIns/DisplayBindings/SourceEditor%20AddIns/DisplayBindings/SourceEditor/Commands%20AddIns/DisplayBindings/SourceEditor/Gui/Dialogs%20AddIns/DisplayBindings/SourceEditor/Search%20MonoDevelop.Base%20MonoDevelop.Base/Services&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r2275 - in trunk/MonoDevelop/Core/src: AddIns/DisplayBindings/SourceEditor AddIns/DisplayBindings/SourceEditor/Commands AddIns/DisplayBindings/SourceEditor/Gui/Dialogs AddIns/DisplayBindings/SourceEditor/Search MonoDevelop.Base MonoDevelop.Base/Services">tberman at mono-cvs.ximian.com
       </A><BR>
    <I>Sat Feb 26 15:59:11 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001876.html">[Monodevelop-patches-list] r2274 - in trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor: . Gui Gui/OptionPanels Properties
</A></li>
        <LI>Next message: <A HREF="001878.html">[Monodevelop-patches-list] r2276 - trunk/MonoDevelop/po
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1877">[ date ]</a>
              <a href="thread.html#1877">[ thread ]</a>
              <a href="subject.html#1877">[ subject ]</a>
              <a href="author.html#1877">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tberman
Date: 2005-02-26 15:59:11 -0500 (Sat, 26 Feb 2005)
New Revision: 2275

Modified:
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Commands/SearchCommands.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceDialog.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceInFilesDialog.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/SearchReplaceInFilesManager.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/SearchReplaceManager.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/texteditoraddin.glade
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Services/MessageService.cs
Log:
In Core/src/MonoDevelop.Base:
2005-02-26  Poul Andersen  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">pba at mailme.dk</A>&gt;
	* Services/MessageService.cs: Added ShowMessage(string message, Gtk.Window parent )
	to ensure modal messagebox as window on top.

In Core/src/AddIns/DisplayBindings/SourceEditor:
2005-02-26  Poul Andersen  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">pba at mailme.dk</A>&gt;
	* Gui/Dialogs/ReplaceDialog.cs: Added property DialogPointer.
	* Gui/Dialogs/ReplaceInFilesDialog.cs: Added property DialogPointer.
	Added StopButton for search in files.
	* Commands/SearchCommands.cs: Added call to SetSearchPattern to ensure
	selected text in the editor is used for searching.
	* Search/SearchReplaceManager.cs: Changed MessageBoxes to call 
	Runtime.Service... using new &quot;window on top&quot; modal dialog box.
	* Search/SearchReplaceInFilesManager.cs: Added property DialogPointer
	* texteditoraddin.glade: Added Stop Button for Find in Files.



Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog	2005-02-26 20:45:19 UTC (rev 2274)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog	2005-02-26 20:59:11 UTC (rev 2275)
@@ -1,3 +1,14 @@
+2005-02-26  Poul Andersen  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">pba at mailme.dk</A>&gt;
+	* Gui/Dialogs/ReplaceDialog.cs: Added property DialogPointer.
+	* Gui/Dialogs/ReplaceInFilesDialog.cs: Added property DialogPointer.
+	Added StopButton for search in files.
+	* Commands/SearchCommands.cs: Added call to SetSearchPattern to ensure
+	selected text in the editor is used for searching.
+	* Search/SearchReplaceManager.cs: Changed MessageBoxes to call 
+	Runtime.Service... using new &quot;window on top&quot; modal dialog box.
+	* Search/SearchReplaceInFilesManager.cs: Added property DialogPointer
+	* texteditoraddin.glade: Added Stop Button for Find in Files.
+
 2005-02-26  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
 
 	* Gui/SourceEditorWidget.cs: dont always set Highlight=true

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Commands/SearchCommands.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Commands/SearchCommands.cs	2005-02-26 20:45:19 UTC (rev 2274)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Commands/SearchCommands.cs	2005-02-26 20:59:11 UTC (rev 2275)
@@ -126,13 +126,16 @@
 					SearchReplaceInFilesManager.SearchOptions.SearchPattern = selectedText.Split ('\n')[0];
 			}
 		}
+
 		
+				
+								
 		public override void Run ()
 		{
 			SetSearchPattern ();
 			if (SearchReplaceInFilesManager.ReplaceDialog != null) {
 				if (SearchReplaceInFilesManager.ReplaceDialog.replaceMode == false) {
-					//SearchReplaceInFilesManager.ReplaceDialog.SetSearchPattern(SearchReplaceInFilesManager.SearchOptions.SearchPattern);
+					SearchReplaceInFilesManager.ReplaceDialog.SetSearchPattern(SearchReplaceInFilesManager.SearchOptions.SearchPattern);
 					SearchReplaceInFilesManager.ReplaceDialog.Present ();
 				} else {
 					SearchReplaceInFilesManager.ReplaceDialog.Destroy ();
@@ -154,7 +157,7 @@
 			
 			if (SearchReplaceInFilesManager.ReplaceDialog != null) {
 				if (SearchReplaceInFilesManager.ReplaceDialog.replaceMode == true) {
-					//SearchReplaceInFilesManager.ReplaceDialog.SetSearchPattern(SearchReplaceInFilesManager.SearchOptions.SearchPattern);
+					SearchReplaceInFilesManager.ReplaceDialog.SetSearchPattern(SearchReplaceInFilesManager.SearchOptions.SearchPattern);
 					SearchReplaceInFilesManager.ReplaceDialog.Present ();
 				} else {
 					SearchReplaceInFilesManager.ReplaceDialog.Destroy ();

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceDialog.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceDialog.cs	2005-02-26 20:45:19 UTC (rev 2274)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceDialog.cs	2005-02-26 20:59:11 UTC (rev 2275)
@@ -411,5 +411,12 @@
 			searchPatternEntry.SelectRegion (0, searchPatternEntry.Text.Length);
 		}
 		#endregion
+		
+		public Gtk.Dialog DialogPointer
+		{
+			get {
+				return ReplaceDialogPointer;
+			}
+		}
 	}
 }

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceInFilesDialog.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceInFilesDialog.cs	2005-02-26 20:45:19 UTC (rev 2274)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceInFilesDialog.cs	2005-02-26 20:59:11 UTC (rev 2275)
@@ -54,6 +54,8 @@
 		[Glade.Widget] Gtk.Button browseButton;
 		[Glade.Widget] Gtk.Label label6;
 		[Glade.Widget] Gtk.Label label7;
+		[Glade.Widget] Gtk.Button stopButton;
+
 		
 		Gtk.Dialog ReplaceDialogPointer;
 		
@@ -205,6 +207,8 @@
 			
 			browseButton.Clicked += new EventHandler(BrowseDirectoryEvent);
 			findButton.Clicked += new EventHandler(FindEvent);
+
+			stopButton.Clicked += new EventHandler(StopEvent);
 			
 			searchPatternEntry.Text = SearchReplaceInFilesManager.SearchOptions.SearchPattern;
 			
@@ -226,7 +230,14 @@
 			if (SetupSearchReplaceInFilesManager ())
 				SearchReplaceInFilesManager.FindAll ();
 		}
+
+		void StopEvent (object sender, EventArgs e)
+		{
+			if (SetupSearchReplaceInFilesManager ())
+				SearchReplaceInFilesManager.CancelSearch();
+		}
 		
+						
 		void ReplaceEvent(object sender, EventArgs e)
 		{
 			if (SetupSearchReplaceInFilesManager ())
@@ -248,7 +259,7 @@
 							System.Environment.GetEnvironmentVariable (&quot;HOME&quot;),
 							&quot;Projects&quot;)).ToString ();
 			}
-
+			fd.SetFilename( defaultFolder );
 			if (fd.Run() == (int)Gtk.ResponseType.Ok)
 			{
 				directoryTextBox.Text = fd.Filename;
@@ -270,6 +281,11 @@
 			specialSearchStrategyComboBox.Sensitive = useSpecialSearchStrategyCheckBox.Active;
 		}
 		
+		public void SetSearchPattern(string pattern)
+		{
+			searchPatternEntry.Text  = pattern;
+		}
+
 		bool SetupSearchReplaceInFilesManager()
 		{
 			FileUtilityService fileUtilityService = (FileUtilityService)ServiceManager.GetService(typeof(FileUtilityService));
@@ -338,5 +354,11 @@
 			}
 			return true;
 		}
+		
+		public Gtk.Dialog DialogPointer {
+			get {
+				return ReplaceDialogPointer;
+			}
+		}
 	}
 }

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/SearchReplaceInFilesManager.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/SearchReplaceInFilesManager.cs	2005-02-26 20:45:19 UTC (rev 2274)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/SearchReplaceInFilesManager.cs	2005-02-26 20:59:11 UTC (rev 2275)
@@ -220,7 +220,7 @@
 			FinishSearchInFiles ();
 		}
 		
-		static void CancelSearch ()
+		public static void CancelSearch ()
 		{
 			if (!searching) return;
 			cancelled = true;
@@ -233,6 +233,17 @@
 			}
 				
 			cancelled = false;
-		}
+		}
+
+		public static Gtk.Dialog DialogPointer
+		{
+			get {
+				if ( ReplaceDialog != null ){ 
+					return ReplaceDialog.DialogPointer;
+				}
+				return null;
+			}
+		}
+		
 	}
 }

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/SearchReplaceManager.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/SearchReplaceManager.cs	2005-02-26 20:45:19 UTC (rev 2274)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/SearchReplaceManager.cs	2005-02-26 20:59:11 UTC (rev 2275)
@@ -101,8 +101,7 @@
 				ISearchResult result = SearchReplaceManager.find.FindNext(searchOptions);
 				
 				if (result == null) {
-					//MessageBox.Show((Form)WorkbenchSingleton.Workbench, &quot;Mark all done&quot;, &quot;Finished&quot;);
-					MessageService.ShowMessage (GettextCatalog.GetString (&quot;Mark all completed&quot;));
+					Runtime.MessageService.ShowMessage(GettextCatalog.GetString (&quot;Mark all completed&quot;), DialogPointer ); 
 					find.Reset();
 					return;
 				} else {
@@ -134,8 +133,7 @@
 				ISearchResult result = SearchReplaceManager.find.FindNext(SearchReplaceManager.searchOptions);
 				
 				if (result == null) {
-					//MessageBox.Show((Form)WorkbenchSingleton.Workbench, &quot;Replace all done&quot;, &quot;Finished&quot;);
-					MessageService.ShowMessage (string.Format (GettextCatalog.GetString (&quot;Replace all finished. {0} matches found.&quot;), find.MatchCount));
+					Runtime.MessageService.ShowMessage( string.Format (GettextCatalog.GetString (&quot;Replace all finished. {0} matches found.&quot;), find.MatchCount), DialogPointer );
 					find.Reset();
 					return;
 				} else {
@@ -173,8 +171,8 @@
 			find.SearchStrategy.CompilePattern(searchOptions);
 			ISearchResult result = find.FindNext(searchOptions);
 			
-			if (result == null) {
-				MessageService.ShowMessage (GettextCatalog.GetString (&quot;Not Found&quot;));
+			if (result == null) {
+				Runtime.MessageService.ShowMessage(GettextCatalog.GetString (&quot;Search string not Found:&quot;) + &quot;\n&quot; + SearchOptions.SearchPattern, DialogPointer ); 
 				find.Reset();
 			} else {
 				SourceEditor_ textArea = OpenTextArea(result.FileName);
@@ -201,6 +199,17 @@
 				Gtk.Application.RunIteration ();
 			
 			return ((SourceEditorDisplayBindingWrapper)WorkbenchSingleton.Workbench.ActiveWorkbenchWindow.ViewContent).Editor;
-		}
+		}
+		
+		public static Gtk.Dialog DialogPointer 
+		{
+			get {
+				if ( ReplaceDialog != null ) { 
+					return ReplaceDialog.DialogPointer;
+				}
+				return null;
+			}
+		}
+		
 	}	
 }

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/texteditoraddin.glade
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/texteditoraddin.glade	2005-02-26 20:45:19 UTC (rev 2274)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/texteditoraddin.glade	2005-02-26 20:59:11 UTC (rev 2275)
@@ -694,6 +694,77 @@
 	  &lt;property name=&quot;layout_style&quot;&gt;GTK_BUTTONBOX_END&lt;/property&gt;
 
 	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkButton&quot; id=&quot;stopButton&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_default&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+	      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment5&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+		  &lt;property name=&quot;xscale&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;yscale&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;top_padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;bottom_padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;left_padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;right_padding&quot;&gt;0&lt;/property&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox20&quot;&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;spacing&quot;&gt;2&lt;/property&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImage&quot; id=&quot;image5&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock&quot;&gt;gtk-stop&lt;/property&gt;
+			  &lt;property name=&quot;icon_size&quot;&gt;4&lt;/property&gt;
+			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+			&lt;/widget&gt;
+			&lt;packing&gt;
+			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+			&lt;/packing&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkLabel&quot; id=&quot;label8&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;_Stop&lt;/property&gt;
+			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+			&lt;/widget&gt;
+			&lt;packing&gt;
+			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+			&lt;/packing&gt;
+		      &lt;/child&gt;
+		    &lt;/widget&gt;
+		  &lt;/child&gt;
+		&lt;/widget&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
 	    &lt;widget class=&quot;GtkButton&quot; id=&quot;closeButton&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 	      &lt;property name=&quot;can_default&quot;&gt;True&lt;/property&gt;

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog	2005-02-26 20:45:19 UTC (rev 2274)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog	2005-02-26 20:59:11 UTC (rev 2275)
@@ -1,3 +1,7 @@
+2005-02-26  Poul Andersen  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">pba at mailme.dk</A>&gt;
+	* Services/MessageService.cs: Added ShowMessage(string message, Gtk.Window parent )
+	to ensure modal messagebox as window on top.
+
 2005-02-20  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
 
 	* Gui/Components/SharpMessageBox.cs

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Services/MessageService.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Services/MessageService.cs	2005-02-26 20:45:19 UTC (rev 2274)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Services/MessageService.cs	2005-02-26 20:59:11 UTC (rev 2275)
@@ -12,6 +12,7 @@
 using MonoDevelop.Core.AddIns;
 using MonoDevelop.Core.Properties;
 using MonoDevelop.Services;
+using Gtk;
 
 namespace MonoDevelop.Core.Services
 {
@@ -147,6 +148,17 @@
 			md.ShowAll ();
 		}
 
+		public void ShowMessage(string message, Gtk.Window parent )
+		{
+			Gtk.MessageDialog md = new Gtk.MessageDialog ((Gtk.Window) WorkbenchSingleton.Workbench, Gtk.DialogFlags.Modal | Gtk.DialogFlags.DestroyWithParent, Gtk.MessageType.Info, Gtk.ButtonsType.Ok, message );
+			if ( parent != null )
+			{
+				md.TransientFor = parent;
+			}
+			md.Response += new Gtk.ResponseHandler(OnMessageResponse);
+			md.ShowAll ();
+		}
+
 		void OnMessageResponse (object o, Gtk.ResponseArgs e)
 		{
 			((Gtk.MessageDialog)o).Hide ();


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001876.html">[Monodevelop-patches-list] r2274 - in trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor: . Gui Gui/OptionPanels Properties
</A></li>
	<LI>Next message: <A HREF="001878.html">[Monodevelop-patches-list] r2276 - trunk/MonoDevelop/po
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1877">[ date ]</a>
              <a href="thread.html#1877">[ thread ]</a>
              <a href="subject.html#1877">[ subject ]</a>
              <a href="author.html#1877">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
