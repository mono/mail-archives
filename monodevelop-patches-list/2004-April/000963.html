<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r1356 - in trunk/MonoDevelop: po src/Main/Base src/Main/Base/Services src/Main/Base/Services/DisplayBinding src/Main/Base/Services/File src/Main/Base/Services/ParserService src/Main/Base/Services/Project src/Main/Base/Services/StatusBar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1356%20-%20in%20trunk/MonoDevelop%3A%20po%20src/Main/Base%20src/Main/Base/Services%20src/Main/Base/Services/DisplayBinding%20src/Main/Base/Services/File%20src/Main/Base/Services/ParserService%20src/Main/Base/Services/Project%20src/Main/Base/Services/StatusBar&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000962.html">
   <LINK REL="Next"  HREF="000964.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r1356 - in trunk/MonoDevelop: po src/Main/Base src/Main/Base/Services src/Main/Base/Services/DisplayBinding src/Main/Base/Services/File src/Main/Base/Services/ParserService src/Main/Base/Services/Project src/Main/Base/Services/StatusBar</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1356%20-%20in%20trunk/MonoDevelop%3A%20po%20src/Main/Base%20src/Main/Base/Services%20src/Main/Base/Services/DisplayBinding%20src/Main/Base/Services/File%20src/Main/Base/Services/ParserService%20src/Main/Base/Services/Project%20src/Main/Base/Services/StatusBar&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r1356 - in trunk/MonoDevelop: po src/Main/Base src/Main/Base/Services src/Main/Base/Services/DisplayBinding src/Main/Base/Services/File src/Main/Base/Services/ParserService src/Main/Base/Services/Project src/Main/Base/Services/StatusBar">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Fri Apr  2 22:57:34 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000962.html">[Monodevelop-patches-list] r1355 - in trunk/MonoDevelop: . gdldock/sources/gdl po
</A></li>
        <LI>Next message: <A HREF="000964.html">[Monodevelop-patches-list] r1357 - trunk/MonoDevelop/src/Main/StartUp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#963">[ date ]</a>
              <a href="thread.html#963">[ thread ]</a>
              <a href="subject.html#963">[ subject ]</a>
              <a href="author.html#963">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tberman
Date: 2004-04-02 22:57:34 -0500 (Fri, 02 Apr 2004)
New Revision: 1356

Modified:
   trunk/MonoDevelop/po/POTFILES.in
   trunk/MonoDevelop/src/Main/Base/ChangeLog
   trunk/MonoDevelop/src/Main/Base/Services/DisplayBinding/DisplayBindingService.cs
   trunk/MonoDevelop/src/Main/Base/Services/File/DefaultFileService.cs
   trunk/MonoDevelop/src/Main/Base/Services/MessageService.cs
   trunk/MonoDevelop/src/Main/Base/Services/ParserService/DefaultParserService.cs
   trunk/MonoDevelop/src/Main/Base/Services/Project/DefaultProjectService.cs
   trunk/MonoDevelop/src/Main/Base/Services/ResourceNotFoundException.cs
   trunk/MonoDevelop/src/Main/Base/Services/StatusBar/DefaultStatusBarService.cs
Log:
finish gettextifyin the base dll


Modified: trunk/MonoDevelop/po/POTFILES.in
===================================================================
--- trunk/MonoDevelop/po/POTFILES.in	2004-04-03 02:55:22 UTC (rev 1355)
+++ trunk/MonoDevelop/po/POTFILES.in	2004-04-03 03:57:34 UTC (rev 1356)
@@ -1,5 +1,20 @@
 [encoding: UTF-8]
 data/resources/glade/Base.glade
+data/resources/glade/CSharp.glade
+data/resources/glade/EditorBindings.glade
+data/resources/glade/texteditoraddin.glade
+gdldock/sources/gdl/gdl-dock-bar.c
+gdldock/sources/gdl/gdl-dock-item-grip.c
+gdldock/sources/gdl/gdl-dock-item.c
+gdldock/sources/gdl/gdl-dock-layout.c
+gdldock/sources/gdl/gdl-dock-master.c
+gdldock/sources/gdl/gdl-dock-notebook.c
+gdldock/sources/gdl/gdl-dock-object.c
+gdldock/sources/gdl/gdl-dock-paned.c
+gdldock/sources/gdl/gdl-dock-placeholder.c
+gdldock/sources/gdl/gdl-dock-tablabel.c
+gdldock/sources/gdl/gdl-dock.c
+gdldock/sources/gdl/layout.glade
 src/Main/Base/Gui/Dialogs/CommonAboutDialog.cs
 src/Main/Base/Gui/Dialogs/NewProjectDialog.cs
 src/Main/Base/Gui/Dialogs/NewFileDialog.cs
@@ -59,3 +74,10 @@
 src/Main/Base/Internal/Templates/FileTemplate.cs
 src/Main/Base/Internal/Templates/ProjectTemplates/CombineDescriptor.cs
 src/Main/Base/Internal/Templates/ProjectTemplates/ProjectDescriptor.cs
+src/Main/Base/Services/DisplayBinding/DisplayBindingService.cs
+src/Main/Base/Services/File/DefaultFileService.cs
+src/Main/Base/Services/MessageService.cs
+src/Main/Base/Services/ParserService/DefaultParserService.cs
+src/Main/Base/Services/Project/DefaultProjectService.cs
+src/Main/Base/Services/StatusBar/DefaultStatusBarService.cs
+src/Main/Base/Services/ResourceNotFoundException.cs

Modified: trunk/MonoDevelop/src/Main/Base/ChangeLog
===================================================================
--- trunk/MonoDevelop/src/Main/Base/ChangeLog	2004-04-03 02:55:22 UTC (rev 1355)
+++ trunk/MonoDevelop/src/Main/Base/ChangeLog	2004-04-03 03:57:34 UTC (rev 1356)
@@ -1,5 +1,16 @@
 2004-04-02  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at sevenl.net</A>&gt;
 
+	* Services/File/DefaultFileService.cs:
+	* Services/ResourceNotFoundException.cs:
+	* Services/DisplayBinding/DisplayBindingService.cs:
+	* Services/Project/DefaultProjectService.cs:
+	* Services/StatusBar/DefaultStatusBarService.cs:
+	* Services/MessageService.cs:
+	* Services/ParserService/DefaultParserService.cs:
+	Finished gettextifyin the base dll.
+
+2004-04-02  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at sevenl.net</A>&gt;
+
 	* Gui/Pads/ProjectBrowser/BrowserNode/NamedFolderNode.cs:
 	* Gui/Pads/ProjectBrowser/NodeBuilder/DefaultDotNetNodeBuilder.cs:
 	phantom commit, no one saw this

Modified: trunk/MonoDevelop/src/Main/Base/Services/DisplayBinding/DisplayBindingService.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Services/DisplayBinding/DisplayBindingService.cs	2004-04-03 02:55:22 UTC (rev 1355)
+++ trunk/MonoDevelop/src/Main/Base/Services/DisplayBinding/DisplayBindingService.cs	2004-04-03 03:57:34 UTC (rev 1356)
@@ -58,7 +58,7 @@
 					}
 				}
 			}
-			Console.WriteLine (&quot;Didnt match on mimetype: &quot; + mimetype + &quot;, trying filename&quot;);
+			Console.WriteLine (String.Format (GettextCatalog.GetString (&quot;Didnt match on mimetype: {0}, trying filename&quot;), mimetype));
 			foreach (DisplayBindingCodon binding in bindings) {
 				if (binding.DisplayBinding != null &amp;&amp; binding.DisplayBinding.CanCreateContentForFile(filename)) {
 					return binding;

Modified: trunk/MonoDevelop/src/Main/Base/Services/File/DefaultFileService.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Services/File/DefaultFileService.cs	2004-04-03 02:55:22 UTC (rev 1355)
+++ trunk/MonoDevelop/src/Main/Base/Services/File/DefaultFileService.cs	2004-04-03 03:57:34 UTC (rev 1356)
@@ -243,7 +243,7 @@
 					Directory.Delete(fileName);
 				} catch (Exception e) {
 					IMessageService messageService = (IMessageService)ServiceManager.Services.GetService(typeof(IMessageService));
-					messageService.ShowError(e, &quot;Can't remove directory &quot; + fileName);
+					messageService.ShowError(e, String.Format (GettextCatalog.GetString (&quot;Can't remove directory {0}&quot;), fileName));
 					return;
 				}
 				OnFileRemoved(new FileEventArgs(fileName, true));
@@ -252,7 +252,7 @@
 					File.Delete(fileName);
 				} catch (Exception e) {
 					IMessageService messageService = (IMessageService)ServiceManager.Services.GetService(typeof(IMessageService));
-					messageService.ShowError(e, &quot;Can't remove file &quot; + fileName);
+					messageService.ShowError(e, String.Format (GettextCatalog.GetString (&quot;Can't remove file {0}&quot;), fileName));
 					return;
 				}
 				OnFileRemoved(new FileEventArgs(fileName, false));
@@ -267,7 +267,7 @@
 						Directory.Move(oldName, newName);
 					} catch (Exception e) {
 						IMessageService messageService = (IMessageService)ServiceManager.Services.GetService(typeof(IMessageService));
-						messageService.ShowError(e, &quot;Can't rename directory &quot; + oldName);
+						messageService.ShowError(e, String.Format (GettextCatalog.GetString (&quot;Can't rename directory {0}&quot;), oldName));
 						return;
 					}
 					OnFileRenamed(new FileEventArgs(oldName, newName, true));
@@ -276,7 +276,7 @@
 						File.Move(oldName, newName);
 					} catch (Exception e) {
 						IMessageService messageService = (IMessageService)ServiceManager.Services.GetService(typeof(IMessageService));
-						messageService.ShowError(e, &quot;Can't rename file &quot; + oldName);
+						messageService.ShowError(e, String.Format (GettextCatalog.GetString (&quot;Can't rename file {0}&quot;), oldName));
 						return;
 					}
 					OnFileRenamed(new FileEventArgs(oldName, newName, false));

Modified: trunk/MonoDevelop/src/Main/Base/Services/MessageService.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Services/MessageService.cs	2004-04-03 02:55:22 UTC (rev 1355)
+++ trunk/MonoDevelop/src/Main/Base/Services/MessageService.cs	2004-04-03 03:57:34 UTC (rev 1356)
@@ -11,6 +11,7 @@
 using MonoDevelop.Gui;
 using MonoDevelop.Core.AddIns;
 using MonoDevelop.Core.Properties;
+using MonoDevelop.Services;
 
 namespace MonoDevelop.Core.Services
 {
@@ -52,7 +53,7 @@
 				msg += &quot;Exception occurred: &quot; + ex.ToString();
 			}
 
-			using (Gtk.MessageDialog md = new Gtk.MessageDialog ((Gtk.Window) WorkbenchSingleton.Workbench, Gtk.DialogFlags.Modal | Gtk.DialogFlags.DestroyWithParent, Gtk.MessageType.Error, Gtk.ButtonsType.Ok, stringParserService.Parse(msg))) {
+			using (Gtk.MessageDialog md = new Gtk.MessageDialog ((Gtk.Window) WorkbenchSingleton.Workbench, Gtk.DialogFlags.Modal | Gtk.DialogFlags.DestroyWithParent, Gtk.MessageType.Error, Gtk.ButtonsType.Ok, message)) {
 				md.Run ();
 				md.Hide ();
 			}
@@ -60,7 +61,7 @@
 		
 		public void ShowWarning(string message)
 		{
-			using (Gtk.MessageDialog md = new Gtk.MessageDialog ((Gtk.Window) WorkbenchSingleton.Workbench, Gtk.DialogFlags.Modal | Gtk.DialogFlags.DestroyWithParent, Gtk.MessageType.Warning, Gtk.ButtonsType.Ok, stringParserService.Parse(message))) {
+			using (Gtk.MessageDialog md = new Gtk.MessageDialog ((Gtk.Window) WorkbenchSingleton.Workbench, Gtk.DialogFlags.Modal | Gtk.DialogFlags.DestroyWithParent, Gtk.MessageType.Warning, Gtk.ButtonsType.Ok, message)) {
 				md.Run ();
 				md.Hide ();
 			}
@@ -73,7 +74,7 @@
 		
 		public bool AskQuestion(string question, string caption)
 		{
-			using (Gtk.MessageDialog md = new Gtk.MessageDialog ((Gtk.Window) WorkbenchSingleton.Workbench, Gtk.DialogFlags.Modal | Gtk.DialogFlags.DestroyWithParent, Gtk.MessageType.Question, Gtk.ButtonsType.YesNo, stringParserService.Parse(question))) {
+			using (Gtk.MessageDialog md = new Gtk.MessageDialog ((Gtk.Window) WorkbenchSingleton.Workbench, Gtk.DialogFlags.Modal | Gtk.DialogFlags.DestroyWithParent, Gtk.MessageType.Question, Gtk.ButtonsType.YesNo, question)) {
 				int response = md.Run ();
 				md.Hide ();
 				
@@ -96,7 +97,7 @@
 		
 		public bool AskQuestion(string question)
 		{
-			return AskQuestion(stringParserService.Parse(question), stringParserService.Parse(&quot;${res:Global.QuestionText}&quot;));
+			return AskQuestion(stringParserService.Parse(question), GettextCatalog.GetString (&quot;Question&quot;));
 		}
 		
 		public int ShowCustomDialog(string caption, string dialogText, params string[] buttontexts)
@@ -122,7 +123,7 @@
 		
 		public void ShowMessage(string message, string caption)
 		{
-			using (Gtk.MessageDialog md = new Gtk.MessageDialog ((Gtk.Window) WorkbenchSingleton.Workbench, Gtk.DialogFlags.Modal | Gtk.DialogFlags.DestroyWithParent, Gtk.MessageType.Info, Gtk.ButtonsType.Ok, stringParserService.Parse(message))) {
+			using (Gtk.MessageDialog md = new Gtk.MessageDialog ((Gtk.Window) WorkbenchSingleton.Workbench, Gtk.DialogFlags.Modal | Gtk.DialogFlags.DestroyWithParent, Gtk.MessageType.Info, Gtk.ButtonsType.Ok, message)) {
 				md.Run ();
 				md.Hide ();
 			}

Modified: trunk/MonoDevelop/src/Main/Base/Services/ParserService/DefaultParserService.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Services/ParserService/DefaultParserService.cs	2004-04-03 02:55:22 UTC (rev 1355)
+++ trunk/MonoDevelop/src/Main/Base/Services/ParserService/DefaultParserService.cs	2004-04-03 03:57:34 UTC (rev 1356)
@@ -161,7 +161,7 @@
 			BinaryWriter classWriter = new BinaryWriter(new BufferedStream(new FileStream(codeCompletionMainFile, FileMode.Create, FileAccess.Write, FileShare.None)));
 			BinaryWriter proxyWriter = new BinaryWriter(new BufferedStream(new FileStream(codeCompletionProxyFile, FileMode.Create, FileAccess.Write, FileShare.None)));
 			if (progressMonitor != null) {
-				progressMonitor.BeginTask(&quot;generate code completion database&quot;, assemblyList.Length);
+				progressMonitor.BeginTask(GettextCatalog.GetString (&quot;Generate code completion database&quot;), assemblyList.Length);
 			}
 			
 			// convert all assemblies
@@ -185,7 +185,7 @@
 					}
 					
 					if (progressMonitor != null) {
-						progressMonitor.Worked(i, &quot;Writing class&quot;);
+						progressMonitor.Worked(i, GettextCatalog.GetString (&quot;Writing class&quot;));
 					}
 					if (!ContinueWithProcess(progressMonitor))
 						return;

Modified: trunk/MonoDevelop/src/Main/Base/Services/Project/DefaultProjectService.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Services/Project/DefaultProjectService.cs	2004-04-03 02:55:22 UTC (rev 1355)
+++ trunk/MonoDevelop/src/Main/Base/Services/Project/DefaultProjectService.cs	2004-04-03 03:57:34 UTC (rev 1356)
@@ -133,7 +133,7 @@
 				return;
 			}
 			IStatusBarService statusBarService = (IStatusBarService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IStatusBarService));
-			statusBarService.SetMessage(&quot;${res:MainWindow.StatusBar.OpeningCombineMessage}&quot;);
+			statusBarService.SetMessage(GettextCatalog.GetString (&quot;Opening Combine...&quot;));
 				
 			if (Path.GetExtension(filename).ToUpper() == &quot;.PRJX&quot;) {
 				string validcombine = Path.ChangeExtension(filename, &quot;.cmbx&quot;);
@@ -152,7 +152,7 @@
 			} else {
 				LoadCombine(filename);
 			}
-			statusBarService.SetMessage(&quot;${res:MainWindow.StatusBar.ReadyMessage}&quot;);
+			statusBarService.SetMessage(GettextCatalog.GetString (&quot;Ready&quot;));
 		}
 		
 		void LoadCombine(string filename)
@@ -274,7 +274,7 @@
 			// cut&amp;pasted from CombineEntry.cs
 			stringParserService.Properties[&quot;Project&quot;] = project.Name;
 			IStatusBarService statusBarService = (IStatusBarService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IStatusBarService));
-			statusBarService.SetMessage(&quot;${res:MainWindow.StatusBar.CompilingMessage}&quot;);
+			statusBarService.SetMessage(String.Format (GettextCatalog.GetString (&quot;Compiling {0}&quot;), project.Name));
 			
 			string outputDir = ((AbstractProjectConfiguration)project.ActiveConfiguration).OutputDirectory;
 			try {
@@ -332,7 +332,7 @@
 						if (content.ContentName != null &amp;&amp; content.IsDirty) {
 							if (!save) {
 								IMessageService messageService =(IMessageService)ServiceManager.Services.GetService(typeof(IMessageService));
-								if (messageService.AskQuestion(&quot;Save changed files?&quot;)) {
+								if (messageService.AskQuestion(GettextCatalog.GetString (&quot;Save changed files?&quot;))) {
 									save = true;
 								} else {
 									break;

Modified: trunk/MonoDevelop/src/Main/Base/Services/ResourceNotFoundException.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Services/ResourceNotFoundException.cs	2004-04-03 02:55:22 UTC (rev 1355)
+++ trunk/MonoDevelop/src/Main/Base/Services/ResourceNotFoundException.cs	2004-04-03 03:57:34 UTC (rev 1356)
@@ -7,6 +7,8 @@
 
 using System;
 
+using MonoDevelop.Services;
+
 namespace MonoDevelop.Core.Services
 {
 	/// &lt;summary&gt;
@@ -15,7 +17,7 @@
 	/// &lt;/summary&gt;
 	public class ResourceNotFoundException : Exception
 	{
-		public ResourceNotFoundException(string resource) : base(&quot;Resource not found : &quot; + resource)
+		public ResourceNotFoundException(string resource) : base(String.Format (GettextCatalog.GetString(&quot;Resource not found: {0}&quot;), resource))
 		{
 		}
 	}

Modified: trunk/MonoDevelop/src/Main/Base/Services/StatusBar/DefaultStatusBarService.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Services/StatusBar/DefaultStatusBarService.cs	2004-04-03 02:55:22 UTC (rev 1355)
+++ trunk/MonoDevelop/src/Main/Base/Services/StatusBar/DefaultStatusBarService.cs	2004-04-03 03:57:34 UTC (rev 1356)
@@ -11,6 +11,7 @@
 using MonoDevelop.Core.Services;
 using MonoDevelop.Gui.Components;
 using MonoDevelop.Gui;
+using MonoDevelop.Services;
 
 namespace MonoDevelop.Services
 {
@@ -64,7 +65,7 @@
 		public void SetInsertMode (bool insertMode)
 		{
 			StringParserService stringParserService = (StringParserService)ServiceManager.Services.GetService(typeof(StringParserService));
-			statusBar.ModeStatusBarPanel.Push (1, insertMode ? stringParserService.Parse(&quot;${res:StatusBarService.CaretModes.Insert}&quot;) : stringParserService.Parse(&quot;${res:StatusBarService.CaretModes.Overwrite}&quot;));
+			statusBar.ModeStatusBarPanel.Push (1, insertMode ? GettextCatalog.GetString (&quot;INS&quot;) : GettextCatalog.GetString (&quot;OVR&quot;));
 		}
 		
 		public void ShowErrorMessage (string message)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000962.html">[Monodevelop-patches-list] r1355 - in trunk/MonoDevelop: . gdldock/sources/gdl po
</A></li>
	<LI>Next message: <A HREF="000964.html">[Monodevelop-patches-list] r1357 - trunk/MonoDevelop/src/Main/StartUp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#963">[ date ]</a>
              <a href="thread.html#963">[ thread ]</a>
              <a href="subject.html#963">[ subject ]</a>
              <a href="author.html#963">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
