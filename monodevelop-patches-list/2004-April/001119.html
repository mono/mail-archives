<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r1512 - trunk/MonoDevelop/src/AddIns/BackendBindings/ILAsmBinding/Gui
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1512%20-%20trunk/MonoDevelop/src/AddIns/BackendBindings/ILAsmBinding/Gui&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001118.html">
   <LINK REL="Next"  HREF="001120.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r1512 - trunk/MonoDevelop/src/AddIns/BackendBindings/ILAsmBinding/Gui</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1512%20-%20trunk/MonoDevelop/src/AddIns/BackendBindings/ILAsmBinding/Gui&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r1512 - trunk/MonoDevelop/src/AddIns/BackendBindings/ILAsmBinding/Gui">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Mon Apr 26 01:18:31 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001118.html">[Monodevelop-patches-list] r1511 - trunk/md-website/release_notes
</A></li>
        <LI>Next message: <A HREF="001120.html">[Monodevelop-patches-list] r1513 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: . Gui
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1119">[ date ]</a>
              <a href="thread.html#1119">[ thread ]</a>
              <a href="subject.html#1119">[ subject ]</a>
              <a href="author.html#1119">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2004-04-26 01:18:31 -0400 (Mon, 26 Apr 2004)
New Revision: 1512

Modified:
   trunk/MonoDevelop/src/AddIns/BackendBindings/ILAsmBinding/Gui/CompilerParametersPanel.cs
Log:
some ugly but functional ilasm project options


Modified: trunk/MonoDevelop/src/AddIns/BackendBindings/ILAsmBinding/Gui/CompilerParametersPanel.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/BackendBindings/ILAsmBinding/Gui/CompilerParametersPanel.cs	2004-04-26 04:43:51 UTC (rev 1511)
+++ trunk/MonoDevelop/src/AddIns/BackendBindings/ILAsmBinding/Gui/CompilerParametersPanel.cs	2004-04-26 05:18:31 UTC (rev 1512)
@@ -15,26 +15,71 @@
 using MonoDevelop.Core.Services;
 using MonoDevelop.Core.Properties;
 using MonoDevelop.Core.AddIns.Codons;
+using MonoDevelop.Services;
 
 namespace ILAsmBinding
 {
 	public class CompilerParametersPanel : AbstractOptionPanel
 	{
 		ILAsmCompilerParameters compilerParameters = null;
+		Entry outputPath = new Entry ();
+		Entry assemblyName = new Entry ();
+		RadioButton exeTarget = new RadioButton (&quot;exe&quot;);
+		RadioButton dllTarget;
+		CheckButton debug = new CheckButton (GettextCatalog.GetString (&quot;Include debug information&quot;));
 		
 		public override void LoadPanelContents()
 		{
 			this.compilerParameters = (ILAsmCompilerParameters)((IProperties)CustomizationObject).GetProperty(&quot;Config&quot;);
 			
-			//System.Windows.Forms.PropertyGrid grid = new System.Windows.Forms.PropertyGrid();
-			//grid.Dock = DockStyle.Fill;
-			//grid.SelectedObjects = new object[] { compilerParameters};
-			//Controls.Add(grid);
+			dllTarget = new RadioButton (exeTarget, &quot;dll&quot;);
+			SetupUI ();
+			RestoreValues ();
+			this.ShowAll ();
 		}
 		
 		public override bool StorePanelContents()
 		{
+			compilerParameters.AssemblyName = assemblyName.Text;
+			compilerParameters.OutputPath = outputPath.Text;
+			compilerParameters.IncludeDebugInformation = debug.Active;
+			if (exeTarget.Active)
+				compilerParameters.CompilationTarget = CompilationTarget.Exe;
+			else
+				compilerParameters.CompilationTarget = CompilationTarget.Dll;
+				
 			return true;
 		}
+
+		void SetupUI ()
+		{
+			VBox vbox = new VBox (false, 6);
+			Label outputLabel = new Label ();
+			outputLabel.Markup = String.Format (&quot;&lt;b&gt;{0}&lt;/b&gt;&quot;, GettextCatalog.GetString (&quot;Output path&quot;));
+			vbox.PackStart (outputLabel, false, true, 0);
+			vbox.PackStart (outputPath, false, true, 0);
+			Label assemblyLabel = new Label ();
+			assemblyLabel.Markup = String.Format (&quot;&lt;b&gt;{0}&lt;/b&gt;&quot;, GettextCatalog.GetString (&quot;Assembly name&quot;));
+			vbox.PackStart (assemblyLabel, false, true, 0);
+			vbox.PackStart (assemblyName, false, true, 0);
+			Label targetLabel = new Label ();
+			targetLabel.Markup = String.Format (&quot;&lt;b&gt;{0}&lt;/b&gt;&quot;, GettextCatalog.GetString (&quot;Target options&quot;));
+			vbox.PackStart (targetLabel, false, true, 0);
+			vbox.PackStart (exeTarget, false, true, 0);
+			vbox.PackStart (dllTarget, false, true, 0);
+			vbox.PackStart (debug, false, true, 0);
+			this.Add (vbox);
+		}
+
+		void RestoreValues ()
+		{
+			assemblyName.Text = compilerParameters.AssemblyName;
+			outputPath.Text = compilerParameters.OutputPath;
+			if (compilerParameters.CompilationTarget == CompilationTarget.Exe)
+				exeTarget.Active = true;
+			else
+				dllTarget.Active = true;
+			debug.Active = compilerParameters.IncludeDebugInformation;
+		}
 	}
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001118.html">[Monodevelop-patches-list] r1511 - trunk/md-website/release_notes
</A></li>
	<LI>Next message: <A HREF="001120.html">[Monodevelop-patches-list] r1513 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: . Gui
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1119">[ date ]</a>
              <a href="thread.html#1119">[ thread ]</a>
              <a href="subject.html#1119">[ subject ]</a>
              <a href="author.html#1119">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
