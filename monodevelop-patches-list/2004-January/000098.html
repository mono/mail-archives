<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r494 - in trunk/MonoDevelop: data/resources data/resources/glade src/Main/Base src/Main/Base/Commands src/Main/Base/Gui/Dialogs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r494%20-%20in%20trunk/MonoDevelop%3A%20data/resources%20data/resources/glade%20src/Main/Base%20src/Main/Base/Commands%20src/Main/Base/Gui/Dialogs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000097.html">
   <LINK REL="Next"  HREF="000099.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r494 - in trunk/MonoDevelop: data/resources data/resources/glade src/Main/Base src/Main/Base/Commands src/Main/Base/Gui/Dialogs</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r494%20-%20in%20trunk/MonoDevelop%3A%20data/resources%20data/resources/glade%20src/Main/Base%20src/Main/Base/Commands%20src/Main/Base/Gui/Dialogs&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r494 - in trunk/MonoDevelop: data/resources data/resources/glade src/Main/Base src/Main/Base/Commands src/Main/Base/Gui/Dialogs">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Fri Jan 16 00:17:44 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000097.html">[Monodevelop-patches-list] r493 - trunk/MonoDevelop/src/Libraries/ICSharpCode.TextEditor/src/Gui
</A></li>
        <LI>Next message: <A HREF="000099.html">[Monodevelop-patches-list] r495 - trunk/MonoDevelop/src/Libraries/ICSharpCode.TextEditor/src/Gui/CompletionWindow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98">[ date ]</a>
              <a href="thread.html#98">[ thread ]</a>
              <a href="subject.html#98">[ subject ]</a>
              <a href="author.html#98">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tberman
Date: 2004-01-16 00:17:44 -0500 (Fri, 16 Jan 2004)
New Revision: 494

Added:
   trunk/MonoDevelop/data/resources/glade/
   trunk/MonoDevelop/data/resources/glade/Base.glade
   trunk/MonoDevelop/data/resources/glade/Base.gladep
Modified:
   trunk/MonoDevelop/src/Main/Base/Commands/ToolsCommands.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/TreeViewOptions.cs
   trunk/MonoDevelop/src/Main/Base/Makefile
Log:
glade'd the TreeViewOptions dialog



Property changes on: trunk/MonoDevelop/data/resources/glade
___________________________________________________________________
Name: svn:ignore
   + *.bak


Added: trunk/MonoDevelop/data/resources/glade/Base.glade
===================================================================
--- trunk/MonoDevelop/data/resources/glade/Base.glade	2004-01-15 23:36:58 UTC (rev 493)
+++ trunk/MonoDevelop/data/resources/glade/Base.glade	2004-01-16 05:17:44 UTC (rev 494)
@@ -0,0 +1,199 @@
+&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt; &lt;!--*- mode: xml -*--&gt;
+&lt;!DOCTYPE glade-interface SYSTEM &quot;<A HREF="http://glade.gnome.org/glade-2.0.dtd&quot;">http://glade.gnome.org/glade-2.0.dtd&quot;</A>&gt;
+
+&lt;glade-interface&gt;
+&lt;requires lib=&quot;gnome&quot;/&gt;
+
+&lt;widget class=&quot;GtkDialog&quot; id=&quot;TreeViewOptionDialog&quot;&gt;
+  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+  &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;dialog1&lt;/property&gt;
+  &lt;property name=&quot;type&quot;&gt;GTK_WINDOW_TOPLEVEL&lt;/property&gt;
+  &lt;property name=&quot;window_position&quot;&gt;GTK_WIN_POS_NONE&lt;/property&gt;
+  &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;resizable&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;destroy_with_parent&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;has_separator&quot;&gt;True&lt;/property&gt;
+
+  &lt;child internal-child=&quot;vbox&quot;&gt;
+    &lt;widget class=&quot;GtkVBox&quot; id=&quot;MainBox&quot;&gt;
+      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
+
+      &lt;child internal-child=&quot;action_area&quot;&gt;
+	&lt;widget class=&quot;GtkHButtonBox&quot; id=&quot;ActionArea&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;layout_style&quot;&gt;GTK_BUTTONBOX_END&lt;/property&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkButton&quot; id=&quot;cancelbutton&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_default&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot;&gt;gtk-cancel&lt;/property&gt;
+	      &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+	      &lt;property name=&quot;response_id&quot;&gt;-6&lt;/property&gt;
+	      &lt;signal name=&quot;clicked&quot; handler=&quot;CancelEvent&quot; last_modification_time=&quot;Thu, 15 Jan 2004 07:06:35 GMT&quot;/&gt;
+	    &lt;/widget&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkButton&quot; id=&quot;okbutton&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_default&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot;&gt;gtk-ok&lt;/property&gt;
+	      &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+	      &lt;property name=&quot;response_id&quot;&gt;-5&lt;/property&gt;
+	      &lt;signal name=&quot;clicked&quot; handler=&quot;AcceptEvent&quot; last_modification_time=&quot;Thu, 15 Jan 2004 07:06:24 GMT&quot;/&gt;
+	    &lt;/widget&gt;
+	  &lt;/child&gt;
+	&lt;/widget&gt;
+	&lt;packing&gt;
+	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;pack_type&quot;&gt;GTK_PACK_END&lt;/property&gt;
+	&lt;/packing&gt;
+      &lt;/child&gt;
+
+      &lt;child&gt;
+	&lt;widget class=&quot;GtkHBox&quot; id=&quot;DisplayBox&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	  &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkTreeView&quot; id=&quot;TreeView&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;headers_visible&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;rules_hint&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;reorderable&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;enable_search&quot;&gt;True&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;optionPanel&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkLabel&quot; id=&quot;optionTitle&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;label3&lt;/property&gt;
+		  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+		  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+		  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkNotebook&quot; id=&quot;mainBook&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;show_tabs&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;show_border&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;tab_pos&quot;&gt;GTK_POS_TOP&lt;/property&gt;
+		  &lt;property name=&quot;scrollable&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;enable_popup&quot;&gt;False&lt;/property&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkFrame&quot; id=&quot;frame1&quot;&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;label_xalign&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;label_yalign&quot;&gt;0.5&lt;/property&gt;
+		      &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_NONE&lt;/property&gt;
+
+		      &lt;child&gt;
+			&lt;placeholder/&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkLabel&quot; id=&quot;label5&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;label5&lt;/property&gt;
+			  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+			&lt;/widget&gt;
+			&lt;packing&gt;
+			  &lt;property name=&quot;type&quot;&gt;label_item&lt;/property&gt;
+			&lt;/packing&gt;
+		      &lt;/child&gt;
+		    &lt;/widget&gt;
+		    &lt;packing&gt;
+		      &lt;property name=&quot;tab_expand&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;tab_fill&quot;&gt;True&lt;/property&gt;
+		    &lt;/packing&gt;
+		  &lt;/child&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label4&quot;&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;label4&lt;/property&gt;
+		      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+		      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+		      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+		    &lt;/widget&gt;
+		    &lt;packing&gt;
+		      &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
+		    &lt;/packing&gt;
+		  &lt;/child&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+	&lt;/widget&gt;
+	&lt;packing&gt;
+	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+	&lt;/packing&gt;
+      &lt;/child&gt;
+    &lt;/widget&gt;
+  &lt;/child&gt;
+&lt;/widget&gt;
+
+&lt;/glade-interface&gt;

Added: trunk/MonoDevelop/data/resources/glade/Base.gladep
===================================================================
--- trunk/MonoDevelop/data/resources/glade/Base.gladep	2004-01-15 23:36:58 UTC (rev 493)
+++ trunk/MonoDevelop/data/resources/glade/Base.gladep	2004-01-16 05:17:44 UTC (rev 494)
@@ -0,0 +1,7 @@
+&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt; &lt;!--*- mode: xml -*--&gt;
+&lt;!DOCTYPE glade-project SYSTEM &quot;<A HREF="http://glade.gnome.org/glade-project-2.0.dtd&quot;">http://glade.gnome.org/glade-project-2.0.dtd&quot;</A>&gt;
+
+&lt;glade-project&gt;
+  &lt;name&gt;Glade&lt;/name&gt;
+  &lt;program_name&gt;glade&lt;/program_name&gt;
+&lt;/glade-project&gt;

Modified: trunk/MonoDevelop/src/Main/Base/Commands/ToolsCommands.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Commands/ToolsCommands.cs	2004-01-15 23:36:58 UTC (rev 493)
+++ trunk/MonoDevelop/src/Main/Base/Commands/ToolsCommands.cs	2004-01-16 05:17:44 UTC (rev 494)
@@ -27,7 +27,7 @@
 			PropertyService propertyService = (PropertyService)ServiceManager.Services.GetService(typeof(PropertyService));
 			TreeViewOptions optionsDialog = new TreeViewOptions((IProperties)propertyService.GetProperty(&quot;ICSharpCode.TextEditor.Document.Document.DefaultDocumentAggregatorProperties&quot;, new DefaultProperties()),
 			                                                           AddInTreeSingleton.AddInTree.GetTreeNode(&quot;/SharpDevelop/Dialogs/OptionsDialog&quot;));
-										   			optionsDialog.ShowAll ();
+			//optionsDialog.ShowAll ();
 			//	optionsDialog.FormBorderStyle = FormBorderStyle.FixedDialog;
 				
 			//	optionsDialog.Owner = (Form)WorkbenchSingleton.Workbench;

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/TreeViewOptions.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/TreeViewOptions.cs	2004-01-15 23:36:58 UTC (rev 493)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/TreeViewOptions.cs	2004-01-16 05:17:44 UTC (rev 494)
@@ -1,347 +1,221 @@
-// &lt;file&gt;
-//     &lt;copyright see=&quot;<A HREF="prj:///doc/copyright.txt&quot;/">prj:///doc/copyright.txt&quot;/</A>&gt;
-//     &lt;license see=&quot;<A HREF="prj:///doc/license.txt&quot;/">prj:///doc/license.txt&quot;/</A>&gt;
-//     &lt;owner name=&quot;Mike Kr&#195;&#188;ger&quot; email=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">mike at icsharpcode.net</A>&quot;/&gt;
-//     &lt;version value=&quot;$version&quot;/&gt;
-// &lt;/file&gt;
-
-using System;
-using System.IO;
-using System.Drawing;
-using System.Drawing.Drawing2D;
-using System.Collections;
-using System.ComponentModel;
-using System.Windows.Forms;
-using System.Xml;
-
-using ICSharpCode.Core.AddIns;
-using ICSharpCode.Core.Services;
-using ICSharpCode.Core.Properties;
-using ICSharpCode.Core.AddIns.Codons;
-using ICSharpCode.SharpDevelop.Gui.XmlForms;
-
-namespace ICSharpCode.SharpDevelop.Gui.Dialogs
-{
-	/*
-	public class GradientHeaderPanel : Label
-	{
-		public GradientHeaderPanel(int fontSize) : this()
-		{
-			Font = new Font(&quot;Tahoma&quot;, fontSize);
-		}
-		
-		public GradientHeaderPanel() : base()
-		{
-			ResourceService resourceService = (ResourceService)ServiceManager.Services.GetService(typeof(IResourceService));
-			
-			ResizeRedraw = true;
-			Text = String.Empty;
-		}
-
-		protected override void OnPaintBackground(PaintEventArgs pe)
-		{
-			base.OnPaintBackground(pe);
-			Graphics g = pe.Graphics;
-			
-			g.FillRectangle(new LinearGradientBrush(new Point(0, 0), new Point(Width, Height), 
-			                                        SystemColors.Window, SystemColors.Control),
-							new Rectangle(0, 0, Width, Height));
-		}
-	}*/
-	
-	/// &lt;summary&gt;
-	/// TreeView options are used, when more options will be edited (for something like
-	/// IDE Options + Plugin Options)
-	/// &lt;/summary&gt;
-	public class TreeViewOptions : Gtk.Window
-	{
-		//protected GradientHeaderPanel optionsPanelLabel;
-		
-		protected ArrayList OptionPanels          = new ArrayList();
-		
-		protected IProperties properties = null;
-		
-		protected Font plainFont = null;
-		protected Font boldFont  = null;
-
-		Gtk.TreeStore treeStore;
-		Gtk.TreeView  treeView;
-		Gtk.Label     topLabel;
-		Gtk.Button    okButton;
-		Gtk.Button    cancelButton;
-		Gtk.Frame     optionPanel;
-
-		PixbufList    imglist;
-	
-		ResourceService IconService = (ResourceService)ServiceManager.Services.GetService (typeof (IResourceService));
-		StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (typeof (StringParserService));
-	
-		public IProperties Properties {
-			get {
-				return properties;
-			}
-		}
-		
-		protected void AcceptEvent(object sender, EventArgs e)
-		{
-			foreach (AbstractOptionPanel pane in OptionPanels) {
-				if (!pane.ReceiveDialogMessage(DialogMessage.OK)) {
-					return;
-				}
-			}
-			Hide ();
-			//DialogResult = DialogResult.OK;
-		}
-		
-		/*protected void ResetImageIndex(TreeNodeCollection nodes)
-		{
-			foreach (TreeNode node in nodes) {
-				if (node.Nodes.Count &gt; 0) {
-					ResetImageIndex(node.Nodes);
-				} else {
-					node.ImageIndex         = 2;
-					node.SelectedImageIndex = 3;
-				}
-			}
-		}*/
-		
-		protected bool b = true;
-		
-		/*protected void BeforeExpandNode(object sender, TreeViewCancelEventArgs e)
-		{
-			if (!b) {
-				return;
-			}
-			b = false;
-			((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).BeginUpdate();
-			// search first leaf node (leaf nodes have no children)
-			TreeNode node = e.Node.FirstNode;
-			while (node.Nodes.Count &gt; 0) {
-				node = node.FirstNode;
-			}
-			((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).CollapseAll();
-			node.EnsureVisible();
-			node.ImageIndex = 3;
-			((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).EndUpdate();
-			SetOptionPanelTo(node);
-			b = true;
-		}*/
-		
-		/*protected void BeforeSelectNode(object sender, TreeViewCancelEventArgs e)
-		{
-			ResetImageIndex(((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).Nodes);
-			if (b) {
-				CollapseOrExpandNode(e.Node);
-			}
-		}*/
-		
-		/*protected void HandleClick(object sender, EventArgs e)
-		{
-			if (((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).GetNodeAt(((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).PointToClient(Control.MousePosition)) == ((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).SelectedNode &amp;&amp; b) {
-				CollapseOrExpandNode(((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).SelectedNode);
-			}
-		}*/
-		
-		/*void CollapseOrExpandNode(TreeNode node)
-		{
-			if (node.Nodes.Count &gt; 0) {  // only folders
-				if (node.IsExpanded) {
-					node.Collapse();
-				}  else {
-					node.Expand();			
-				}
-			}
-		}*/
-		
-		protected void SetOptionPanelTo(IDialogPanelDescriptor descriptor)
-		{
-			if (descriptor != null &amp;&amp; descriptor.DialogPanel != null) {
-				descriptor.DialogPanel.ReceiveDialogMessage(DialogMessage.Activated);
-				foreach (Gtk.Widget widg in optionPanel.Children) {
-					optionPanel.Remove (widg);
-				}
-				optionPanel.Add (descriptor.DialogPanel.Control);
-				topLabel.Text = descriptor.Label;
-				ShowAll ();
-			}
-		}
-		
-		/*void TreeMouseDown(object sender, MouseEventArgs e)
-		{
-			TreeNode node = ((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).GetNodeAt(((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).PointToClient(Control.MousePosition));
-			if (node != null) {
-				if (node.Nodes.Count == 0) ((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).SelectedNode = node;
-			}
-		}*/
-		
-		protected void AddNodes(object customizer, Gtk.TreeIter iter, ArrayList dialogPanelDescriptors)
-		{
-			foreach (IDialogPanelDescriptor descriptor in dialogPanelDescriptors) {
-				if (descriptor.DialogPanel != null) { // may be null, if it is only a &quot;path&quot;
-					descriptor.DialogPanel.CustomizationObject = customizer;
-					OptionPanels.Add(descriptor.DialogPanel);
-				}
-			
-				Gtk.TreeIter i;
-				if (iter.Equals (Gtk.TreeIter.Zero)) {
-					i = treeStore.AppendValues  (descriptor.Label, descriptor, imglist[2]);
-				} else {
-					i = treeStore.AppendValues(iter, descriptor.Label, descriptor, imglist[2]);
-				}
-				if (descriptor.DialogPanelDescriptors != null) {
-					AddNodes(customizer, i, descriptor.DialogPanelDescriptors);
-				}
-			}
-		}
-		
-		protected void SelectNode(object sender, EventArgs e)
-		{
-			Gtk.TreeModel mdl;
-			Gtk.TreeIter  iter;
-			if (treeView.Selection.GetSelected (out mdl, out iter)) {
-				if (treeStore.IterHasChild (iter)) {
-					Gtk.TreeIter new_iter;
-					treeStore.IterChildren (out new_iter, iter);
-					Gtk.TreePath new_path = treeStore.GetPath (new_iter);
-					treeView.CollapseAll ();
-					treeView.ExpandToPath (new_path);
-					treeView.Selection.SelectPath (new_path);
-				} else {
-					treeStore.Foreach (new Gtk.TreeModelForeachFunc (killArrows));
-					treeStore.SetValue (iter, 2, imglist[3]);
-					SetOptionPanelTo ((IDialogPanelDescriptor)treeStore.GetValue (iter, 1));
-				}
-			}
-			
-			//SetOptionPanelTo(((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).SelectedNode);
-		}
-
-		bool killArrows (Gtk.TreeModel mdl, Gtk.TreePath path, Gtk.TreeIter iter)
-		{
-			treeStore.SetValue (iter, 2, imglist[2]);
-			return false;
-		}
-		
-		protected void InitImageList()
-		{
-			imglist = new PixbufList();
-			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.ClosedFolderBitmap&quot;));
-			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.OpenFolderBitmap&quot;));
-			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.Empty&quot;) );
-			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.SelectionArrow&quot;));
-			
-			//((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).ImageList = imglist;
-		}
-		
-		/*protected void ShowOpenFolderIcon(object sender, TreeViewCancelEventArgs e)
-		{
-			if (e.Node.Nodes.Count &gt; 0) {
-				e.Node.ImageIndex = e.Node.SelectedImageIndex = 1;
-			}
-		}*/
-		
-		/*protected void ShowClosedFolderIcon(object sender, TreeViewCancelEventArgs e)
-		{
-			if (e.Node.Nodes.Count &gt; 0) {
-				e.Node.ImageIndex = e.Node.SelectedImageIndex = 0;
-			}
-		}*/
-		
-		public TreeViewOptions(IProperties properties, IAddInTreeNode node) : base (&quot;Options...&quot;)
-		{
-			this.properties = properties;
-			
-			this.Title = StringParserService.Parse(&quot;${res:Dialog.Options.TreeViewOptions.DialogName}&quot;);
-
-			InitImageList ();
-
-			this.InitializeComponent();
-			
-			//plainFont = new Font(((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).Font, FontStyle.Regular);
-			//boldFont  = new Font(((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).Font, FontStyle.Bold);
-			
-			if (node != null) {
-				AddNodes(properties, Gtk.TreeIter.Zero, node.BuildChildItems(this));
-			}
-		}
-		
-		protected void InitializeComponent() 
-		{
-			
-			treeStore = new Gtk.TreeStore (typeof(string), typeof(IDialogPanelDescriptor), typeof (Gdk.Pixbuf));
-			treeView = new Gtk.TreeView (treeStore);
-
-			Gtk.TreeViewColumn column = new Gtk.TreeViewColumn ();
-			column.Title = &quot;items&quot;;
-			
-			Gtk.CellRendererPixbuf pix_render = new Gtk.CellRendererPixbuf ();
-			pix_render.PixbufExpanderOpen = imglist[1];
-			pix_render.PixbufExpanderClosed = imglist[0];
-
-			column.PackStart (pix_render, false);
-			column.AddAttribute (pix_render, &quot;pixbuf&quot;, 2);
-			Gtk.CellRendererText text_render = new Gtk.CellRendererText ();
-			column.PackStart (text_render, true);
-			column.AddAttribute (text_render, &quot;text&quot;, 0);
-			
+// &lt;file&gt;
+//     &lt;copyright see=&quot;<A HREF="prj:///doc/copyright.txt&quot;/">prj:///doc/copyright.txt&quot;/</A>&gt;
+//     &lt;license see=&quot;<A HREF="prj:///doc/license.txt&quot;/">prj:///doc/license.txt&quot;/</A>&gt;
+//     &lt;owner name=&quot;Mike Kr&#195;&#188;ger&quot; email=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">mike at icsharpcode.net</A>&quot;/&gt;
+//     &lt;version value=&quot;$version&quot;/&gt;
+// &lt;/file&gt;
+
+using System;
+using System.IO;
+using System.Drawing;
+using System.Drawing.Drawing2D;
+using System.Collections;
+using System.ComponentModel;
+using System.Xml;
+
+using ICSharpCode.Core.AddIns;
+using ICSharpCode.Core.Services;
+using ICSharpCode.Core.Properties;
+using ICSharpCode.Core.AddIns.Codons;
+using ICSharpCode.SharpDevelop.Gui.XmlForms;
+
+namespace ICSharpCode.SharpDevelop.Gui.Dialogs
+{
+	/*
+	public class GradientHeaderPanel : Label
+	{
+		public GradientHeaderPanel(int fontSize) : this()
+		{
+			Font = new Font(&quot;Tahoma&quot;, fontSize);
+		}
+		
+		public GradientHeaderPanel() : base()
+		{
+			ResourceService resourceService = (ResourceService)ServiceManager.Services.GetService(typeof(IResourceService));
 			
+			ResizeRedraw = true;
+			Text = String.Empty;
+		}
+
+		protected override void OnPaintBackground(PaintEventArgs pe)
+		{
+			base.OnPaintBackground(pe);
+			Graphics g = pe.Graphics;
+			
+			g.FillRectangle(new LinearGradientBrush(new Point(0, 0), new Point(Width, Height), 
+			                                        SystemColors.Window, SystemColors.Control),
+							new Rectangle(0, 0, Width, Height));
+		}
+	}*/
+	
+	/// &lt;summary&gt;
+	/// TreeView options are used, when more options will be edited (for something like
+	/// IDE Options + Plugin Options)
+	/// &lt;/summary&gt;
+	public class TreeViewOptions
+	{
+		//protected GradientHeaderPanel optionsPanelLabel;
+		
+		protected ArrayList OptionPanels          = new ArrayList();
+		
+		protected IProperties properties = null;
+		
+		protected Font plainFont = null;
+		protected Font boldFont  = null;
+
+		Gtk.TreeStore treeStore;
+		
+		[Glade.Widget] Gtk.TreeView  TreeView;
+		[Glade.Widget] Gtk.Label     optionTitle;
+		[Glade.Widget] Gtk.Button    okbutton;
+		[Glade.Widget] Gtk.Button    cancelbutton;
+		[Glade.Widget] Gtk.Notebook  mainBook;
+		[Glade.Widget] Gtk.Dialog    TreeViewOptionDialog;
+		
+		PixbufList    imglist;
+		
+		ResourceService IconService = (ResourceService)ServiceManager.Services.GetService (typeof (IResourceService));
+		StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (typeof (StringParserService));
+		
+		public IProperties Properties {
+			get {
+				return properties;
+			}
+		}
+		
+		protected void AcceptEvent(object sender, EventArgs e)
+		{
+			foreach (AbstractOptionPanel pane in OptionPanels) {
+				if (!pane.ReceiveDialogMessage(DialogMessage.OK)) {
+					return;
+				}
+			}
+			TreeViewOptionDialog.Hide ();
+			//DialogResult = DialogResult.OK;
+		}
+		
+		protected bool b = true;
+		
+		protected void SetOptionPanelTo(IDialogPanelDescriptor descriptor)
+		{
+			if (descriptor != null &amp;&amp; descriptor.DialogPanel != null) {
+				descriptor.DialogPanel.ReceiveDialogMessage(DialogMessage.Activated);
+				mainBook.CurrentPage = mainBook.PageNum (descriptor.DialogPanel.Control);
+				optionTitle.Text = descriptor.Label;
+				TreeViewOptionDialog.ShowAll ();
+			}
+		}		
+		
+		protected void AddNodes(object customizer, Gtk.TreeIter iter, ArrayList dialogPanelDescriptors)
+		{
+			foreach (IDialogPanelDescriptor descriptor in dialogPanelDescriptors) {
+				if (descriptor.DialogPanel != null) { // may be null, if it is only a &quot;path&quot;
+					descriptor.DialogPanel.CustomizationObject = customizer;
+					OptionPanels.Add(descriptor.DialogPanel);
+					mainBook.AppendPage (descriptor.DialogPanel.Control, new Gtk.Label (&quot;a&quot;));
+				}
+			
+				Gtk.TreeIter i;
+				if (iter.Equals (Gtk.TreeIter.Zero)) {
+					i = treeStore.AppendValues  (descriptor.Label, descriptor, imglist[2]);
+				} else {
+					i = treeStore.AppendValues(iter, descriptor.Label, descriptor, imglist[2]);
+				
+				}
+				if (descriptor.DialogPanelDescriptors != null) {
+					AddNodes(customizer, i, descriptor.DialogPanelDescriptors);
+				}
+			}
+		}
+		
+		protected void SelectNode(object sender, EventArgs e)
+		{
+			Gtk.TreeModel mdl;
+			Gtk.TreeIter  iter;
+			if (TreeView.Selection.GetSelected (out mdl, out iter)) {
+				if (treeStore.IterHasChild (iter)) {
+					Gtk.TreeIter new_iter;
+					treeStore.IterChildren (out new_iter, iter);
+					Gtk.TreePath new_path = treeStore.GetPath (new_iter);
+					TreeView.CollapseAll ();
+					TreeView.ExpandToPath (new_path);
+					TreeView.Selection.SelectPath (new_path);
+				} else {
+					treeStore.Foreach (new Gtk.TreeModelForeachFunc (killArrows));
+					treeStore.SetValue (iter, 2, imglist[3]);
+					SetOptionPanelTo ((IDialogPanelDescriptor)treeStore.GetValue (iter, 1));
+				}
+			}
+		}
+
+		bool killArrows (Gtk.TreeModel mdl, Gtk.TreePath path, Gtk.TreeIter iter)
+		{
+			treeStore.SetValue (iter, 2, imglist[2]);
+			return false;
+		}
+		
+		protected void InitImageList()
+		{
+			imglist = new PixbufList();
+			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.ClosedFolderBitmap&quot;));
+			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.OpenFolderBitmap&quot;));
+			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.Empty&quot;) );
+			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.SelectionArrow&quot;));
+		}
+		
+		public TreeViewOptions(IProperties properties, IAddInTreeNode node)
+		{
+			this.properties = properties;
+			
+			Glade.XML treeViewXml = new Glade.XML (null, &quot;Base.glade&quot;, &quot;TreeViewOptionDialog&quot;, null);
+			treeViewXml.Autoconnect (this);
+		
+			TreeViewOptionDialog.Title = StringParserService.Parse(&quot;${res:Dialog.Options.TreeViewOptions.DialogName}&quot;);
+
+			InitImageList ();
+
+			this.InitializeComponent();
+			
+			if (node != null) {
+				AddNodes(properties, Gtk.TreeIter.Zero, node.BuildChildItems(this));
+			}
+			TreeView.GrabFocus ();
+			SelectNode (null, null);
+		}
+		
+		protected void InitializeComponent() 
+		{
+			treeStore = new Gtk.TreeStore (typeof(string), typeof(IDialogPanelDescriptor), typeof (Gdk.Pixbuf));
+			TreeView.Model = treeStore;
+
+			Gtk.TreeViewColumn column = new Gtk.TreeViewColumn ();
+			column.Title = &quot;items&quot;;
+			
+			Gtk.CellRendererPixbuf pix_render = new Gtk.CellRendererPixbuf ();
+			pix_render.PixbufExpanderOpen = imglist[1];
+			pix_render.PixbufExpanderClosed = imglist[0];
+
+			column.PackStart (pix_render, false);
+			column.AddAttribute (pix_render, &quot;pixbuf&quot;, 2);
+			Gtk.CellRendererText text_render = new Gtk.CellRendererText ();
+			column.PackStart (text_render, true);
+			column.AddAttribute (text_render, &quot;text&quot;, 0);
+			
+			
 			Gtk.TreeViewColumn empty = new Gtk.TreeViewColumn (&quot;a&quot;, new Gtk.CellRendererText (), &quot;string&quot;, 0);
-			treeView.AppendColumn (empty);
+			TreeView.AppendColumn (empty);
 			empty.Visible = false;
-			treeView.ExpanderColumn = empty;
+			TreeView.ExpanderColumn = empty;
 						
-			treeView.AppendColumn (column);
-			treeView.HeadersVisible = false;
-
-			Gtk.VBox mainbox = new Gtk.VBox (false, 2);
-			
-			Gtk.HBox dispbox = new Gtk.HBox (false, 2);
-
-			dispbox.PackStart (treeView);
-
-			Gtk.VBox vbox = new Gtk.VBox (false, 2);
-			
-			topLabel = new Gtk.Label (&quot;&quot;);
-			vbox.PackStart (topLabel, false, false, 2);
-
-			optionPanel = new Gtk.Frame ();
-			optionPanel.Shadow = Gtk.ShadowType.None;
-			
-			vbox.PackStart (optionPanel);
-			
-			dispbox.PackStart (vbox);
-
-			mainbox.PackStart (dispbox);
-			
-			Gtk.HButtonBox buttonBox = new Gtk.HButtonBox ();
-			buttonBox.Layout = Gtk.ButtonBoxStyle.End;
-
-			okButton = new Gtk.Button (Gtk.Stock.Ok);
-			cancelButton = new Gtk.Button (Gtk.Stock.Cancel);
-
-			buttonBox.PackStart (okButton);
-			buttonBox.PackStart (cancelButton);
-
-			mainbox.PackStart (buttonBox, false, false, 2);
-
-			this.Add (mainbox);
-
-			okButton.Clicked += new EventHandler (AcceptEvent);
-			cancelButton.Clicked += new EventHandler (CancelEvent);
-			
-			//((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).Click          += new EventHandler(HandleClick);
-			//((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).AfterSelect    += new TreeViewEventHandler(SelectNode);
-			//((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).BeforeSelect   += new TreeViewCancelEventHandler(BeforeSelectNode);
-			treeView.Selection.Changed += new EventHandler (SelectNode);
-			//((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).BeforeExpand   += new TreeViewCancelEventHandler(BeforeExpandNode);
-			//((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).BeforeExpand   += new TreeViewCancelEventHandler(ShowOpenFolderIcon);
-			//((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).BeforeCollapse += new TreeViewCancelEventHandler(ShowClosedFolderIcon);
-			//((TreeView)ControlDictionary[&quot;optionsTreeView&quot;]).MouseDown      += new MouseEventHandler(TreeMouseDown);
+			TreeView.AppendColumn (column);
+			TreeView.HeadersVisible = false;
+
+			TreeView.Selection.Changed += new EventHandler (SelectNode);
 		}
 		
 		private void CancelEvent (object o, EventArgs args)
 		{
-			this.Hide ();
-		}
-	}
-}
+			TreeViewOptionDialog.Hide ();
+		}
+	}
+}

Modified: trunk/MonoDevelop/src/Main/Base/Makefile
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Makefile	2004-01-15 23:36:58 UTC (rev 493)
+++ trunk/MonoDevelop/src/Main/Base/Makefile	2004-01-16 05:17:44 UTC (rev 494)
@@ -358,8 +358,10 @@
 		/r:../../../build/bin/ICSharpCode.SharpRefactory.dll /r:../../../build/bin/ICSharpCode.Core.dll \
 		/r:../../../build/bin/ICSharpCode.SharpAssembly.dll /r:System.Windows.Forms.dll \
 		/r:../../../build/bin/MonoDevelop.Gui.dll \
+		/resource:../../../data/resources/glade/Base.glade,Base.glade \
 		/r:System.Data.dll /r:System.Web.Services.dll /define:LINUX \
 		/define:GTK /r:gtk-sharp.dll /r:gdk-sharp.dll /r:glib-sharp.dll \
 		/r:pango-sharp.dll \
 		/r:gtkmozembed-sharp.dll \
+		/r:glade-sharp.dll \
 		$(SOURCES)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000097.html">[Monodevelop-patches-list] r493 - trunk/MonoDevelop/src/Libraries/ICSharpCode.TextEditor/src/Gui
</A></li>
	<LI>Next message: <A HREF="000099.html">[Monodevelop-patches-list] r495 - trunk/MonoDevelop/src/Libraries/ICSharpCode.TextEditor/src/Gui/CompletionWindow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98">[ date ]</a>
              <a href="thread.html#98">[ thread ]</a>
              <a href="subject.html#98">[ subject ]</a>
              <a href="author.html#98">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
