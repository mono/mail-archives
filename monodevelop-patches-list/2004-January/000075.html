<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r471 - trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/OptionPanels
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r471%20-%20trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/OptionPanels&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000074.html">
   <LINK REL="Next"  HREF="000076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r471 - trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/OptionPanels</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r471%20-%20trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/OptionPanels&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r471 - trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/OptionPanels">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Mon Jan 12 09:49:56 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000074.html">[Monodevelop-patches-list] r470 - trunk/MonoDevelop/src/AddIns/Misc/StartPage
</A></li>
        <LI>Next message: <A HREF="000076.html">[Monodevelop-patches-list] r472 - trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/Editor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75">[ date ]</a>
              <a href="thread.html#75">[ thread ]</a>
              <a href="subject.html#75">[ subject ]</a>
              <a href="author.html#75">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: pedroas
Date: 2004-01-12 09:49:56 -0500 (Mon, 12 Jan 2004)
New Revision: 471

Modified:
   trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/OptionPanels/MarkersTextEditorPanel.cs
Log:
Contributed by jba


Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/OptionPanels/MarkersTextEditorPanel.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/OptionPanels/MarkersTextEditorPanel.cs	2004-01-12 06:27:07 UTC (rev 470)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/OptionPanels/MarkersTextEditorPanel.cs	2004-01-12 14:49:56 UTC (rev 471)
@@ -17,58 +17,129 @@
 using ICSharpCode.Core.AddIns.Codons;
 using ICSharpCode.SharpDevelop.Gui.Dialogs;
 
+using Gtk;
+
 namespace ICSharpCode.SharpDevelop.DefaultEditor.Gui.OptionPanels
 {
 	/// &lt;summary&gt;
 	/// Summary description for Form9.
 	/// &lt;/summary&gt;
 	public class MarkersTextEditorPanel : AbstractOptionPanel
-	{/*
-		static FileUtilityService fileUtilityService = (FileUtilityService)ServiceManager.Services.GetService(typeof(FileUtilityService));
+	{
+		// Gtk Controls
+		CheckButton showLineNumberCheckBox;
+		CheckButton showInvalidLinesCheckBox;
+		CheckButton showBracketHighlighterCheckBox;
+		CheckButton showErrorsCheckBox;
+		CheckButton showHRulerCheckBox;
+		CheckButton showEOLMarkersCheckBox;
+		CheckButton showVRulerCheckBox;
+		CheckButton showTabCharsCheckBox;
+		CheckButton showSpaceCharsCheckBox;
+		Entry vRulerRowTextBox;
+		OptionMenu lineMarkerStyleComboBox;
+		Menu lineMarkerStyleComboBoxMenu;
 		
+		// Services
+		FileUtilityService FileUtilityService = (FileUtilityService)ServiceManager.Services.GetService(typeof(FileUtilityService));
+		StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (typeof (StringParserService));
+		ResourceService ResourceService = (ResourceService)ServiceManager.Services.GetService(typeof(IResourceService));
+		
 		public override void LoadPanelContents()
 		{
-			SetupFromXml(Path.Combine(PropertyService.DataDirectory, 
-			                          @&quot;resources\panels\MarkersTextEditorPanel.xfrm&quot;));
+			// set up the form controls instance
+			SetupPanelInstance();
 			
-			((CheckBox)ControlDictionary[&quot;showLineNumberCheckBox&quot;]).Checked         = ((IProperties)CustomizationObject).GetProperty(&quot;ShowLineNumbers&quot;, true);
-			((CheckBox)ControlDictionary[&quot;showInvalidLinesCheckBox&quot;]).Checked       = ((IProperties)CustomizationObject).GetProperty(&quot;ShowInvalidLines&quot;, true);
-			((CheckBox)ControlDictionary[&quot;showBracketHighlighterCheckBox&quot;]).Checked = ((IProperties)CustomizationObject).GetProperty(&quot;ShowBracketHighlight&quot;, true);
-			((CheckBox)ControlDictionary[&quot;showErrorsCheckBox&quot;]).Checked             = ((IProperties)CustomizationObject).GetProperty(&quot;ShowErrors&quot;, true);
-			((CheckBox)ControlDictionary[&quot;showHRulerCheckBox&quot;]).Checked             = ((IProperties)CustomizationObject).GetProperty(&quot;ShowHRuler&quot;, false);
-			((CheckBox)ControlDictionary[&quot;showEOLMarkersCheckBox&quot;]).Checked         = ((IProperties)CustomizationObject).GetProperty(&quot;ShowEOLMarkers&quot;, false);
-			((CheckBox)ControlDictionary[&quot;showVRulerCheckBox&quot;]).Checked             = ((IProperties)CustomizationObject).GetProperty(&quot;ShowVRuler&quot;, false);
-			((CheckBox)ControlDictionary[&quot;showTabCharsCheckBox&quot;]).Checked           = ((IProperties)CustomizationObject).GetProperty(&quot;ShowTabs&quot;, false);
-			((CheckBox)ControlDictionary[&quot;showSpaceCharsCheckBox&quot;]).Checked         = ((IProperties)CustomizationObject).GetProperty(&quot;ShowSpaces&quot;, false);
+			showLineNumberCheckBox.Active         = ((IProperties)CustomizationObject).GetProperty(&quot;ShowLineNumbers&quot;, true);
+			showInvalidLinesCheckBox.Active       = ((IProperties)CustomizationObject).GetProperty(&quot;ShowInvalidLines&quot;, true);
+			showBracketHighlighterCheckBox.Active = ((IProperties)CustomizationObject).GetProperty(&quot;ShowBracketHighlight&quot;, true);
+			showErrorsCheckBox.Active             = ((IProperties)CustomizationObject).GetProperty(&quot;ShowErrors&quot;, true);
+			showHRulerCheckBox.Active             = ((IProperties)CustomizationObject).GetProperty(&quot;ShowHRuler&quot;, false);
+			showEOLMarkersCheckBox.Active         = ((IProperties)CustomizationObject).GetProperty(&quot;ShowEOLMarkers&quot;, false);
+			showVRulerCheckBox.Active             = ((IProperties)CustomizationObject).GetProperty(&quot;ShowVRuler&quot;, false);
+			showTabCharsCheckBox.Active           = ((IProperties)CustomizationObject).GetProperty(&quot;ShowTabs&quot;, false);
+			showSpaceCharsCheckBox.Active         = ((IProperties)CustomizationObject).GetProperty(&quot;ShowSpaces&quot;, false);
 			
-			ControlDictionary[&quot;vRulerRowTextBox&quot;].Text = ((IProperties)CustomizationObject).GetProperty(&quot;VRulerRow&quot;, 80).ToString();
+			vRulerRowTextBox.Text = ((IProperties)CustomizationObject).GetProperty(&quot;VRulerRow&quot;, 80).ToString();
 			
-			ResourceService resourceService = (ResourceService)ServiceManager.Services.GetService(typeof(IResourceService));
-			((ComboBox)ControlDictionary[&quot;lineMarkerStyleComboBox&quot;]).Items.Add(resourceService.GetString(&quot;Dialog.Options.IDEOptions.TextEditor.Markers.LineViewerStyle.None&quot;));
-			((ComboBox)ControlDictionary[&quot;lineMarkerStyleComboBox&quot;]).Items.Add(resourceService.GetString(&quot;Dialog.Options.IDEOptions.TextEditor.Markers.LineViewerStyle.FullRow&quot;));
-			((ComboBox)ControlDictionary[&quot;lineMarkerStyleComboBox&quot;]).SelectedIndex = (int)(LineViewerStyle)((IProperties)CustomizationObject).GetProperty(&quot;LineViewerStyle&quot;, LineViewerStyle.None);
+			lineMarkerStyleComboBoxMenu.Append(MenuItem.NewWithLabel(ResourceService.GetString(&quot;Dialog.Options.IDEOptions.TextEditor.Markers.LineViewerStyle.None&quot;)));
+			lineMarkerStyleComboBoxMenu.Append(MenuItem.NewWithLabel(ResourceService.GetString(&quot;Dialog.Options.IDEOptions.TextEditor.Markers.LineViewerStyle.FullRow&quot;)));
+			lineMarkerStyleComboBox.SetHistory((uint)(LineViewerStyle)((IProperties)CustomizationObject).GetProperty(&quot;LineViewerStyle&quot;, LineViewerStyle.None));
 		}
 		
 		public override bool StorePanelContents()
 		{
-			((IProperties)CustomizationObject).SetProperty(&quot;ShowInvalidLines&quot;,     ((CheckBox)ControlDictionary[&quot;showInvalidLinesCheckBox&quot;]).Checked);
-			((IProperties)CustomizationObject).SetProperty(&quot;ShowLineNumbers&quot;,      ((CheckBox)ControlDictionary[&quot;showLineNumberCheckBox&quot;]).Checked);
-			((IProperties)CustomizationObject).SetProperty(&quot;ShowBracketHighlight&quot;, ((CheckBox)ControlDictionary[&quot;showBracketHighlighterCheckBox&quot;]).Checked);
-			((IProperties)CustomizationObject).SetProperty(&quot;ShowErrors&quot;,           ((CheckBox)ControlDictionary[&quot;showErrorsCheckBox&quot;]).Checked);
-			((IProperties)CustomizationObject).SetProperty(&quot;ShowHRuler&quot;,           ((CheckBox)ControlDictionary[&quot;showHRulerCheckBox&quot;]).Checked);
-			((IProperties)CustomizationObject).SetProperty(&quot;ShowEOLMarkers&quot;,       ((CheckBox)ControlDictionary[&quot;showEOLMarkersCheckBox&quot;]).Checked);
-			((IProperties)CustomizationObject).SetProperty(&quot;ShowVRuler&quot;,           ((CheckBox)ControlDictionary[&quot;showVRulerCheckBox&quot;]).Checked);
-			((IProperties)CustomizationObject).SetProperty(&quot;ShowTabs&quot;,             ((CheckBox)ControlDictionary[&quot;showTabCharsCheckBox&quot;]).Checked);
-			((IProperties)CustomizationObject).SetProperty(&quot;ShowSpaces&quot;,           ((CheckBox)ControlDictionary[&quot;showSpaceCharsCheckBox&quot;]).Checked);
+			((IProperties)CustomizationObject).SetProperty(&quot;ShowInvalidLines&quot;,     showInvalidLinesCheckBox.Active);
+			((IProperties)CustomizationObject).SetProperty(&quot;ShowLineNumbers&quot;,      showLineNumberCheckBox.Active);
+			((IProperties)CustomizationObject).SetProperty(&quot;ShowBracketHighlight&quot;, showBracketHighlighterCheckBox.Active);
+			((IProperties)CustomizationObject).SetProperty(&quot;ShowErrors&quot;,           showErrorsCheckBox.Active);
+			((IProperties)CustomizationObject).SetProperty(&quot;ShowHRuler&quot;,           showHRulerCheckBox.Active);
+			((IProperties)CustomizationObject).SetProperty(&quot;ShowEOLMarkers&quot;,       showEOLMarkersCheckBox.Active);
+			((IProperties)CustomizationObject).SetProperty(&quot;ShowVRuler&quot;,           showVRulerCheckBox.Active);
+			((IProperties)CustomizationObject).SetProperty(&quot;ShowTabs&quot;,             showTabCharsCheckBox.Active);
+			((IProperties)CustomizationObject).SetProperty(&quot;ShowSpaces&quot;,           showSpaceCharsCheckBox.Active);
 			
 			try {
-				((IProperties)CustomizationObject).SetProperty(&quot;VRulerRow&quot;, Int32.Parse(ControlDictionary[&quot;vRulerRowTextBox&quot;].Text));
+				((IProperties)CustomizationObject).SetProperty(&quot;VRulerRow&quot;, Int32.Parse(vRulerRowTextBox.Text));
 			} catch (Exception) {
 			}
 			
-			((IProperties)CustomizationObject).SetProperty(&quot;LineViewerStyle&quot;, (LineViewerStyle)((ComboBox)ControlDictionary[&quot;lineMarkerStyleComboBox&quot;]).SelectedIndex);
+			((IProperties)CustomizationObject).SetProperty(&quot;LineViewerStyle&quot;, (LineViewerStyle)lineMarkerStyleComboBox.History);
 			
 			return true;
-		}*/
+		}
+		
+		#region jba added methods
+		
+		private void SetupPanelInstance()
+		{
+			Gtk.Frame frame1 = new Gtk.Frame(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.MarkersGroupBox}&quot;));
+			//
+			// set up the Tab
+			//
+			// instantiate all the controls
+			Gtk.VBox vBox1 = new Gtk.VBox(false,2);
+			Gtk.Label label1 = new Gtk.Label(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.AtRowLabel}&quot;));
+			Gtk.Label label2 = new Gtk.Label(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.LineMarkerLabel}&quot;));
+			showLineNumberCheckBox = CheckButton.NewWithLabel(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.LineNumberCheckBox}&quot;));
+			showInvalidLinesCheckBox = CheckButton.NewWithLabel(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.InvalidLinesCheckBox}&quot;));
+			showBracketHighlighterCheckBox = CheckButton.NewWithLabel(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.HiglightBracketCheckBox}&quot;));
+			showErrorsCheckBox = CheckButton.NewWithLabel(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.UnderLineErrorsCheckBox}&quot;));
+			showHRulerCheckBox = CheckButton.NewWithLabel(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.HorizontalRulerCheckBox}&quot;));
+			showEOLMarkersCheckBox = CheckButton.NewWithLabel(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.EOLMarkersCheckBox}&quot;));
+			showVRulerCheckBox = CheckButton.NewWithLabel(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.VerticalRulerCheckBox}&quot;));
+			showTabCharsCheckBox = CheckButton.NewWithLabel(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.TabsCheckBox}&quot;));
+			showSpaceCharsCheckBox = CheckButton.NewWithLabel(StringParserService.Parse(&quot;${res:Dialog.Options.IDEOptions.TextEditor.Markers.SpacesCheckBox}&quot;));
+			vRulerRowTextBox = new Entry();
+			lineMarkerStyleComboBox = new OptionMenu();
+			lineMarkerStyleComboBoxMenu = new Menu();
+			lineMarkerStyleComboBox.Menu = lineMarkerStyleComboBoxMenu;	
+			
+				// table to pack the tab settings options 
+				Table table1 = new Table(3, 2, false);
+				//pack the table
+				table1.Attach(showHRulerCheckBox, 0, 1, 0, 1);
+				table1.Attach(showVRulerCheckBox, 0, 1, 1, 2);
+				table1.Attach(label1, 1, 2, 1, 2);
+				table1.Attach(vRulerRowTextBox, 2, 3, 1, 2);
+				
+			// pack them all
+			vBox1.PackStart(label1, false, false, 2);
+			vBox1.PackStart(table1, false, false, 2);
+			vBox1.PackStart(label2, false, false, 2);
+			vBox1.PackStart(lineMarkerStyleComboBox, false, false, 2);
+			vBox1.PackStart(showLineNumberCheckBox, false, false, 2);
+			vBox1.PackStart(showErrorsCheckBox, false, false, 2);
+			vBox1.PackStart(showBracketHighlighterCheckBox, false, false, 2);
+			vBox1.PackStart(showInvalidLinesCheckBox, false, false, 2);
+			vBox1.PackStart(showEOLMarkersCheckBox, false, false, 2);
+			vBox1.PackStart(showSpaceCharsCheckBox, false, false, 2);
+			vBox1.PackStart(showTabCharsCheckBox, false, false, 2);
+			frame1.Add(vBox1);
+			
+			this.Add(frame1);
+		}
+		
+		#endregion
 	}
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000074.html">[Monodevelop-patches-list] r470 - trunk/MonoDevelop/src/AddIns/Misc/StartPage
</A></li>
	<LI>Next message: <A HREF="000076.html">[Monodevelop-patches-list] r472 - trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/Editor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75">[ date ]</a>
              <a href="thread.html#75">[ thread ]</a>
              <a href="subject.html#75">[ subject ]</a>
              <a href="author.html#75">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
