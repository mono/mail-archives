<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r512 - in trunk/MonoDevelop: . src/AddIns/DisplayBindings/TextEditor/Codons src/AddIns/DisplayBindings/TextEditor/Gui/Editor src/Main/Base/Commands src/Main/Base/Gui/Components src/Main/Base/Gui/Workbench
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r512%20-%20in%20trunk/MonoDevelop%3A%20.%20src/AddIns/DisplayBindings/TextEditor/Codons%20src/AddIns/DisplayBindings/TextEditor/Gui/Editor%20src/Main/Base/Commands%20src/Main/Base/Gui/Components%20src/Main/Base/Gui/Workbench&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000120.html">
   <LINK REL="Next"  HREF="000123.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r512 - in trunk/MonoDevelop: . src/AddIns/DisplayBindings/TextEditor/Codons src/AddIns/DisplayBindings/TextEditor/Gui/Editor src/Main/Base/Commands src/Main/Base/Gui/Components src/Main/Base/Gui/Workbench</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r512%20-%20in%20trunk/MonoDevelop%3A%20.%20src/AddIns/DisplayBindings/TextEditor/Codons%20src/AddIns/DisplayBindings/TextEditor/Gui/Editor%20src/Main/Base/Commands%20src/Main/Base/Gui/Components%20src/Main/Base/Gui/Workbench&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r512 - in trunk/MonoDevelop: . src/AddIns/DisplayBindings/TextEditor/Codons src/AddIns/DisplayBindings/TextEditor/Gui/Editor src/Main/Base/Commands src/Main/Base/Gui/Components src/Main/Base/Gui/Workbench">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Sat Jan 17 00:28:17 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000120.html">[Monodevelop-patches-list] r511 - trunk/MonoDevelop
</A></li>
        <LI>Next message: <A HREF="000123.html">[Monodevelop-patches-list] r513 - trunk/MonoDevelop/data/resources/glade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#122">[ date ]</a>
              <a href="thread.html#122">[ thread ]</a>
              <a href="subject.html#122">[ subject ]</a>
              <a href="author.html#122">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tberman
Date: 2004-01-17 00:28:17 -0500 (Sat, 17 Jan 2004)
New Revision: 512

Modified:
   trunk/MonoDevelop/MonoDevelopBrokenMenuItems.txt
   trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Codons/EditActionCodon.cs
   trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/Editor/SharpDevelopTextAreaControl.cs
   trunk/MonoDevelop/src/Main/Base/Commands/EditCommands.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Components/SdMenuCommand.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Workbench/DefaultWorkbench.cs
Log:
lots of little fixes, plus the Schrodinger's Bugfix
cut/paste/etc should now work properly, intuitively and without horseshit


Modified: trunk/MonoDevelop/MonoDevelopBrokenMenuItems.txt
===================================================================
--- trunk/MonoDevelop/MonoDevelopBrokenMenuItems.txt	2004-01-17 04:22:01 UTC (rev 511)
+++ trunk/MonoDevelop/MonoDevelopBrokenMenuItems.txt	2004-01-17 05:28:17 UTC (rev 512)
@@ -2,12 +2,6 @@
 	Print				
 	PrintPreview
 Edit
-	Format
-		Remove Leading Ws	
-		Remove Traling Ws	
-		SortLines		
-		Leading Tab to Spaces   
-		Leading Spaces to Tabs	
 	Folding
 		Toggle folds		
 		Toggle all folds	

Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Codons/EditActionCodon.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Codons/EditActionCodon.cs	2004-01-17 04:22:01 UTC (rev 511)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Codons/EditActionCodon.cs	2004-01-17 05:28:17 UTC (rev 512)
@@ -39,27 +39,30 @@
 		/// Condition status for this item.
 		/// &lt;/summary&gt;
 		public override object BuildItem(object owner, ArrayList subItems, ConditionCollection conditions)
-		{/*
+		{
+			//FIXME: This code is *not* fully ported yet
 			if (subItems.Count &gt; 0) {
 				throw new ApplicationException(&quot;more than one level of edit actions don't make sense!&quot;);
 			}
 			
 			IEditAction editAction = (IEditAction)AddIn.CreateObject(Class);
 							
-			Keys[] actionKeys = new Keys[keys.Length];
+			Gdk.Key[] actionKeys = new Gdk.Key[keys.Length];
 			for (int j = 0; j &lt; keys.Length; ++j) {
 				string[] keydescr = keys[j].Split(new char[] { '|' });
-				Keys key = (Keys)((System.Windows.Forms.Keys.Space.GetType()).InvokeMember(keydescr[0], BindingFlags.GetField, null, System.Windows.Forms.Keys.Space, new object[0]));
+				//Keys key = (Keys)((System.Windows.Forms.Keys.Space.GetType()).InvokeMember(keydescr[0], BindingFlags.GetField, null, System.Windows.Forms.Keys.Space, new object[0]));
+				//Console.Write (keydescr[0] + &quot; -- &quot;);
 				for (int k = 1; k &lt; keydescr.Length; ++k) {
-					key |= (Keys)((System.Windows.Forms.Keys.Space.GetType()).InvokeMember(keydescr[k], BindingFlags.GetField, null, System.Windows.Forms.Keys.Space, new object[0]));
+					//key |= (Keys)((System.Windows.Forms.Keys.Space.GetType()).InvokeMember(keydescr[k], BindingFlags.GetField, null, System.Windows.Forms.Keys.Space, new object[0]));
+					//Console.Write (keydescr[k] + &quot; -- &quot;);
 				}
-				actionKeys[j] = key;
+				//actionKeys[j] = key;
+				//Console.WriteLine (&quot;&quot;);
 			}
 			editAction.Keys = actionKeys;
 			
 			return editAction;
-			*/
-			return null;
+		
 		}
 		
 	}

Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/Editor/SharpDevelopTextAreaControl.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/Editor/SharpDevelopTextAreaControl.cs	2004-01-17 04:22:01 UTC (rev 511)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/TextEditor/Gui/Editor/SharpDevelopTextAreaControl.cs	2004-01-17 05:28:17 UTC (rev 512)
@@ -62,7 +62,7 @@
 		
 		void SelectionChanged(object sender, EventArgs e)
 		{
-			//((DefaultWorkbench)WorkbenchSingleton.Workbench).UpdateToolbars();
+			((DefaultWorkbench)WorkbenchSingleton.Workbench).UpdateMenu(null, null);
 		}
 		
 		void GenerateEditActions()

Modified: trunk/MonoDevelop/src/Main/Base/Commands/EditCommands.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Commands/EditCommands.cs	2004-01-17 04:22:01 UTC (rev 511)
+++ trunk/MonoDevelop/src/Main/Base/Commands/EditCommands.cs	2004-01-17 05:28:17 UTC (rev 512)
@@ -63,11 +63,11 @@
 		}
 		
 		public override void Run()
-		{
+		{
 			if (IsEnabled) {
 				IWorkbenchWindow window   = WorkbenchSingleton.Workbench.ActiveWorkbenchWindow;
 				IEditable        editable = window != null ? window.ActiveViewContent as IEditable : null;
-				if (editable != null) {
+				if (editable != null) {
 					editable.ClipboardHandler.Cut(null, null);
 				}
 			}

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Components/SdMenuCommand.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Components/SdMenuCommand.cs	2004-01-17 04:22:01 UTC (rev 511)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Components/SdMenuCommand.cs	2004-01-17 05:28:17 UTC (rev 512)
@@ -65,13 +65,6 @@
 			ResourceService resourceService = (ResourceService)ServiceManager.Services.GetService (typeof(IResourceService));
 			StringParserService parserService = (StringParserService)ServiceManager.Services.GetService (typeof(StringParserService));
 
-			//if (text.StartsWith (&quot;${&quot;)) {
-			//	localizedText = resourceService.GetString (text);
-			//} else {
-			//	localizedText = text;
-			//}
-
-			//localizedText = localizedText.Replace ('&amp;', '_');
 			localizedText = parserService.Parse (text);
 
 			Gtk.AccelLabel label = new Gtk.AccelLabel (localizedText);
@@ -154,6 +147,7 @@
 			}
 			if (menuCommand != null &amp;&amp; menuCommand is IMenuCommand) {
 				Sensitive = ((IMenuCommand)menuCommand).IsEnabled;
+				ShowAll ();
 			}
 #if GTK
 			// FIXME: GTKize

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Workbench/DefaultWorkbench.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Workbench/DefaultWorkbench.cs	2004-01-17 04:22:01 UTC (rev 511)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Workbench/DefaultWorkbench.cs	2004-01-17 05:28:17 UTC (rev 512)
@@ -261,8 +261,8 @@
 			layout.ShowView(content);
 			
 			content.WorkbenchWindow.SelectWindow();
+			ShowAll ();
 			RedrawAllComponents ();
-			ShowAll ();
 		}
 		
 		public virtual void ShowPad(IPadContent content)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000120.html">[Monodevelop-patches-list] r511 - trunk/MonoDevelop
</A></li>
	<LI>Next message: <A HREF="000123.html">[Monodevelop-patches-list] r513 - trunk/MonoDevelop/data/resources/glade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#122">[ date ]</a>
              <a href="thread.html#122">[ thread ]</a>
              <a href="subject.html#122">[ subject ]</a>
              <a href="author.html#122">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
