<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r418 - in trunk/MonoDevelop: . build/AddIns/AddIns build/AddIns/AddIns/Misc build/AddIns/AddIns/Misc/StartPage src/AddIns src/AddIns/Misc src/AddIns/Misc/StartPage src/Libraries/MonoDevelop.Gui/Tree src/Main/Base/Gui/Workbench/Layouts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r418%20-%20in%20trunk/MonoDevelop%3A%20.%20build/AddIns/AddIns%20build/AddIns/AddIns/Misc%20build/AddIns/AddIns/Misc/StartPage%20src/AddIns%20src/AddIns/Misc%20src/AddIns/Misc/StartPage%20src/Libraries/MonoDevelop.Gui/Tree%20src/Main/Base/Gui/Workbench/Layouts&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000021.html">
   <LINK REL="Next"  HREF="000023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r418 - in trunk/MonoDevelop: . build/AddIns/AddIns build/AddIns/AddIns/Misc build/AddIns/AddIns/Misc/StartPage src/AddIns src/AddIns/Misc src/AddIns/Misc/StartPage src/Libraries/MonoDevelop.Gui/Tree src/Main/Base/Gui/Workbench/Layouts</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r418%20-%20in%20trunk/MonoDevelop%3A%20.%20build/AddIns/AddIns%20build/AddIns/AddIns/Misc%20build/AddIns/AddIns/Misc/StartPage%20src/AddIns%20src/AddIns/Misc%20src/AddIns/Misc/StartPage%20src/Libraries/MonoDevelop.Gui/Tree%20src/Main/Base/Gui/Workbench/Layouts&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r418 - in trunk/MonoDevelop: . build/AddIns/AddIns build/AddIns/AddIns/Misc build/AddIns/AddIns/Misc/StartPage src/AddIns src/AddIns/Misc src/AddIns/Misc/StartPage src/Libraries/MonoDevelop.Gui/Tree src/Main/Base/Gui/Workbench/Layouts">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Sat Jan 10 01:07:59 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000021.html">[Monodevelop-patches-list] r417 - in trunk/MonoDevelop: samples/HtmlControl src/AddIns/DisplayBindings/TextEditor src/AddIns/DisplayBindings/TextEditor/Commands src/Libraries/MonoDevelop.Gui src/Libraries/MonoDevelop.Gui/HtmlControl src/Main/Base src/Main/Base/Commands src/Main/Base/Gui src/Main/Base/Gui/BrowserDisplayBinding src/Main/Base/Gui/Dialogs
</A></li>
        <LI>Next message: <A HREF="000023.html">[Monodevelop-patches-list] r419 - in trunk/MonoDevelop: build/AddIns/AddIns/Misc/StartPage src/AddIns/Misc/StartPage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22">[ date ]</a>
              <a href="thread.html#22">[ thread ]</a>
              <a href="subject.html#22">[ subject ]</a>
              <a href="author.html#22">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tberman
Date: 2004-01-10 01:07:58 -0500 (Sat, 10 Jan 2004)
New Revision: 418

Added:
   trunk/MonoDevelop/build/AddIns/AddIns/Misc/
   trunk/MonoDevelop/build/AddIns/AddIns/Misc/StartPage/
   trunk/MonoDevelop/build/AddIns/AddIns/Misc/StartPage/StartPage.addin
   trunk/MonoDevelop/src/AddIns/Misc/
   trunk/MonoDevelop/src/AddIns/Misc/StartPage/
Modified:
   trunk/MonoDevelop/Makefile
   trunk/MonoDevelop/src/AddIns/Misc/StartPage/ICSharpCodePage.cs
   trunk/MonoDevelop/src/AddIns/Misc/StartPage/Main.cs
   trunk/MonoDevelop/src/AddIns/Misc/StartPage/StartPage.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui/Tree/TreeNode.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs
Log:
start page is a good thing


Modified: trunk/MonoDevelop/Makefile
===================================================================
--- trunk/MonoDevelop/Makefile	2004-01-10 00:26:41 UTC (rev 417)
+++ trunk/MonoDevelop/Makefile	2004-01-10 06:07:58 UTC (rev 418)
@@ -1,12 +1,15 @@
 PROGRAM=build/bin/SharpDevelop.exe
 MONOPAD=build/bin/MonoPad.exe
 
-$(PROGRAM): SharpDevelop.Base SharpDevelop.DefaultTexteditor CSharpBinding
+$(PROGRAM): SharpDevelop.Base SharpDevelop.DefaultTexteditor CSharpBinding StartPage
 	cd src/Main/StartUp &amp;&amp; make
 
 $(MONOPAD): ICSharpCode.TextEditor
 	cd samples/MonoPad &amp;&amp; make
 
+StartPage:
+	cd src/AddIns/Misc/StartPage &amp;&amp; make
+
 MonoDevelop.Gui:
 	cd src/Libraries/MonoDevelop.Gui &amp;&amp; make
 

Copied: trunk/MonoDevelop/build/AddIns/AddIns/Misc/StartPage/StartPage.addin (from rev 414, trunk/SharpDevelop/AddIns/AddIns/Misc/StartPage/StartPage.addin)

Copied: trunk/MonoDevelop/src/AddIns/Misc/StartPage (from rev 414, trunk/SharpDevelop/src/AddIns/Misc/StartPage)

Modified: trunk/MonoDevelop/src/AddIns/Misc/StartPage/ICSharpCodePage.cs
===================================================================
--- trunk/SharpDevelop/src/AddIns/Misc/StartPage/ICSharpCodePage.cs	2004-01-09 19:13:02 UTC (rev 414)
+++ trunk/MonoDevelop/src/AddIns/Misc/StartPage/ICSharpCodePage.cs	2004-01-10 06:07:58 UTC (rev 418)
@@ -2,7 +2,6 @@
 using System.IO;
 using System.Collections;
 using System.Text;
-using System.Windows.Forms;
 using System.Xml;
 
 
@@ -559,7 +558,7 @@
 				FileUtilityService fileUtilityService = (FileUtilityService)ServiceManager.Services.GetService(typeof(FileUtilityService));
 				PropertyService propertyService = (PropertyService)ServiceManager.Services.GetService(typeof(PropertyService));
 				
-				string html = ConvertXml.ConvertToString(Application.StartupPath +
+				string html = ConvertXml.ConvertToString(propertyService.DataDirectory +
 				                   Path.DirectorySeparatorChar + &quot;..&quot; +
 				                   Path.DirectorySeparatorChar + &quot;doc&quot; +
 				                   Path.DirectorySeparatorChar + &quot;AUTHORS.xml&quot;,
@@ -569,47 +568,52 @@
 				                   Path.DirectorySeparatorChar + &quot;ShowAuthors.xsl&quot;);
 				builder.Append(html);
 			} catch (Exception e) {
-				MessageBox.Show(e.ToString());
+				//MessageBox.Show(e.ToString());
+				throw e;
 			}
 		}
 
 		public void RenderSectionChangeLogBody(StringBuilder builder)
 		{
 			try {
+				PropertyService ps = (PropertyService) ServiceManager.Services.GetService (typeof(PropertyService));
 				FileUtilityService fileUtilityService = (FileUtilityService)ServiceManager.Services.GetService(typeof(FileUtilityService));
-				string html = ConvertXml.ConvertToString(Application.StartupPath +
+				string html = ConvertXml.ConvertToString(ps.DataDirectory +
 				                   Path.DirectorySeparatorChar + &quot;..&quot; +
 				                   Path.DirectorySeparatorChar + &quot;doc&quot; +
 				                   Path.DirectorySeparatorChar + &quot;ChangeLog.xml&quot;,
 				                   
-				                   Application.StartupPath + 
+				                   ps.DataDirectory + 
 				                   Path.DirectorySeparatorChar + &quot;..&quot; + 
 				                   Path.DirectorySeparatorChar + &quot;data&quot; + 
 				                   Path.DirectorySeparatorChar + &quot;ConversionStyleSheets&quot; + 
 				                   Path.DirectorySeparatorChar + &quot;ShowChangeLog.xsl&quot;);
 				builder.Append(html);
 			} catch (Exception e) {
-				MessageBox.Show(e.ToString());
+				//MessageBox.Show(e.ToString());
+				throw e;
 			}
 		}
 		
 		public void RenderSectionHelpWantedBody(StringBuilder builder)
 		{
 			try {
+				PropertyService ps = (PropertyService)ServiceManager.Services.GetService (typeof(PropertyService));
 				FileUtilityService fileUtilityService = (FileUtilityService)ServiceManager.Services.GetService(typeof(FileUtilityService));
-				string html = ConvertXml.ConvertToString(Application.StartupPath +
+				string html = ConvertXml.ConvertToString(ps.DataDirectory +
 				                   Path.DirectorySeparatorChar + &quot;..&quot; +
 				                   Path.DirectorySeparatorChar + &quot;doc&quot; +
 				                   Path.DirectorySeparatorChar + &quot;HowYouCanHelp.xml&quot;,
 				                   
-				                   Application.StartupPath + 
+				                   ps.DataDirectory + 
 				                   Path.DirectorySeparatorChar + &quot;..&quot; + 
 				                   Path.DirectorySeparatorChar + &quot;data&quot; + 
 				                   Path.DirectorySeparatorChar + &quot;ConversionStyleSheets&quot; + 
 				                   Path.DirectorySeparatorChar + &quot;ShowHowYouCanHelp.xsl&quot;);
 				builder.Append(html);
 			} catch (Exception e) {
-				MessageBox.Show(e.ToString());
+				//MessageBox.Show(e.ToString());
+				throw e;
 			}
 		}
 		
@@ -628,7 +632,8 @@
 		
 		public string Render(string section) 
 		{
-			startPageLocation = Application.StartupPath + Path.DirectorySeparatorChar + 
+			PropertyService ps = (PropertyService) ServiceManager.Services.GetService (typeof(PropertyService));
+			startPageLocation = ps.DataDirectory + Path.DirectorySeparatorChar + 
 			                    &quot;..&quot; + Path.DirectorySeparatorChar +
 			                    &quot;data&quot; + Path.DirectorySeparatorChar +
 			                    &quot;resources&quot; + Path.DirectorySeparatorChar +

Modified: trunk/MonoDevelop/src/AddIns/Misc/StartPage/Main.cs
===================================================================
--- trunk/SharpDevelop/src/AddIns/Misc/StartPage/Main.cs	2004-01-09 19:13:02 UTC (rev 414)
+++ trunk/MonoDevelop/src/AddIns/Misc/StartPage/Main.cs	2004-01-10 06:07:58 UTC (rev 418)
@@ -1,7 +1,6 @@
 // project created on 16.07.2002 at 18:07
 using System;
 using System.Drawing;
-using System.Windows.Forms;
 
 using ICSharpCode.Core.AddIns;
 using ICSharpCode.Core.AddIns.Codons;

Modified: trunk/MonoDevelop/src/AddIns/Misc/StartPage/StartPage.cs
===================================================================
--- trunk/SharpDevelop/src/AddIns/Misc/StartPage/StartPage.cs	2004-01-09 19:13:02 UTC (rev 414)
+++ trunk/MonoDevelop/src/AddIns/Misc/StartPage/StartPage.cs	2004-01-10 06:07:58 UTC (rev 418)
@@ -3,7 +3,6 @@
 using System.Text;
 using System.Text.RegularExpressions;
 using System.Drawing;
-using System.Windows.Forms;
 using System.Xml;
 using ICSharpCode;
 using ICSharpCode.SharpDevelop.Gui;
@@ -25,7 +24,7 @@
 		HtmlControl htmlControl;
 		
 		// return the panel that contains all of our controls
-		public override Control Control {
+		public override Gtk.Widget Control {
 			get {
 				return htmlControl;
 			}
@@ -72,7 +71,6 @@
 		public StartPageView()
 		{
 			htmlControl = new HtmlControl();
-			htmlControl.Dock = DockStyle.Fill;
 			PropertyService propertyService = (PropertyService)ServiceManager.Services.GetService(typeof(PropertyService));
 			htmlControl.CascadingStyleSheet = propertyService.DataDirectory + Path.DirectorySeparatorChar +
 			                                  &quot;resources&quot; + Path.DirectorySeparatorChar +
@@ -120,7 +118,7 @@
 						}
 					}
 				} catch (Exception ex) {
-					MessageBox.Show(&quot;Could not access project service or load project:\n\n&quot; + ex.Message, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
+					//MessageBox.Show(&quot;Could not access project service or load project:\n\n&quot; + ex.Message, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
 				}
 			} else if (e.Url.EndsWith(&quot;/opencombine&quot;)) {
 				OpenBtnClicked(this, EventArgs.Empty);
@@ -146,7 +144,7 @@
 				ICSharpCode.SharpDevelop.Commands.OpenCombine cmd = new ICSharpCode.SharpDevelop.Commands.OpenCombine();
 				cmd.Run();
 			} catch (Exception ex) {
-				MessageBox.Show(&quot;Could not access command:\n\n&quot; + ex.Message, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
+				//MessageBox.Show(&quot;Could not access command:\n\n&quot; + ex.Message, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
 			}
 		}
 
@@ -156,7 +154,7 @@
 				ICSharpCode.SharpDevelop.Commands.CreateNewProject cmd = new ICSharpCode.SharpDevelop.Commands.CreateNewProject();
 				cmd.Run();
 			} catch (Exception ex) {
-				MessageBox.Show(&quot;Could not access command:\n\n&quot; + ex.Message, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
+				//MessageBox.Show(&quot;Could not access command:\n\n&quot; + ex.Message, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
 			}
 		}
 	}

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui/Tree/TreeNode.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui/Tree/TreeNode.cs	2004-01-10 00:26:41 UTC (rev 417)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui/Tree/TreeNode.cs	2004-01-10 06:07:58 UTC (rev 418)
@@ -54,7 +54,7 @@
 		public bool IsExpanded {
 			get {
 				if (TreeView != null) {
-					return TreeView.RowExpand(new Gtk.TreePath(TreePath));
+					return TreeView.GetRowExpanded(new Gtk.TreePath(TreePath));
 				} else {
 					return false;
 				}

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs	2004-01-10 00:26:41 UTC (rev 417)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs	2004-01-10 06:07:58 UTC (rev 418)
@@ -113,7 +113,7 @@
 		
 		public void SelectWindow()	
 		{
-			int toSelect = NotebookPage.Num (tabControl, tabPage);
+			int toSelect = tabControl.PageNum (tabPage);
 			tabControl.CurrentPage = toSelect;
 		}
 		


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000021.html">[Monodevelop-patches-list] r417 - in trunk/MonoDevelop: samples/HtmlControl src/AddIns/DisplayBindings/TextEditor src/AddIns/DisplayBindings/TextEditor/Commands src/Libraries/MonoDevelop.Gui src/Libraries/MonoDevelop.Gui/HtmlControl src/Main/Base src/Main/Base/Commands src/Main/Base/Gui src/Main/Base/Gui/BrowserDisplayBinding src/Main/Base/Gui/Dialogs
</A></li>
	<LI>Next message: <A HREF="000023.html">[Monodevelop-patches-list] r419 - in trunk/MonoDevelop: build/AddIns/AddIns/Misc/StartPage src/AddIns/Misc/StartPage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22">[ date ]</a>
              <a href="thread.html#22">[ thread ]</a>
              <a href="subject.html#22">[ subject ]</a>
              <a href="author.html#22">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
