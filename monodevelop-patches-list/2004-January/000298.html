<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r693 - in trunk/MonoDevelop/src/Libraries: . MonoDevelop.Gui.Utils MonoDevelop.Gui.Widgets MonoDevelop.Gui.Widgets/Dock MonoDevelop.Gui.Widgets/FolderDialog MonoDevelop.Gui.Widgets/GladeWidgetExtract MonoDevelop.Gui.Widgets/IconView MonoDevelop.Gui.Widgets/Tree
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r693%20-%20in%20trunk/MonoDevelop/src/Libraries%3A%20.%20MonoDevelop.Gui.Utils%20MonoDevelop.Gui.Widgets%20MonoDevelop.Gui.Widgets/Dock%20MonoDevelop.Gui.Widgets/FolderDialog%20MonoDevelop.Gui.Widgets/GladeWidgetExtract%20MonoDevelop.Gui.Widgets/IconView%20MonoDevelop.Gui.Widgets/Tree&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000297.html">
   <LINK REL="Next"  HREF="000299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r693 - in trunk/MonoDevelop/src/Libraries: . MonoDevelop.Gui.Utils MonoDevelop.Gui.Widgets MonoDevelop.Gui.Widgets/Dock MonoDevelop.Gui.Widgets/FolderDialog MonoDevelop.Gui.Widgets/GladeWidgetExtract MonoDevelop.Gui.Widgets/IconView MonoDevelop.Gui.Widgets/Tree</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r693%20-%20in%20trunk/MonoDevelop/src/Libraries%3A%20.%20MonoDevelop.Gui.Utils%20MonoDevelop.Gui.Widgets%20MonoDevelop.Gui.Widgets/Dock%20MonoDevelop.Gui.Widgets/FolderDialog%20MonoDevelop.Gui.Widgets/GladeWidgetExtract%20MonoDevelop.Gui.Widgets/IconView%20MonoDevelop.Gui.Widgets/Tree&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r693 - in trunk/MonoDevelop/src/Libraries: . MonoDevelop.Gui.Utils MonoDevelop.Gui.Widgets MonoDevelop.Gui.Widgets/Dock MonoDevelop.Gui.Widgets/FolderDialog MonoDevelop.Gui.Widgets/GladeWidgetExtract MonoDevelop.Gui.Widgets/IconView MonoDevelop.Gui.Widgets/Tree">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Tue Jan 27 20:42:05 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000297.html">[Monodevelop-patches-list] r692 - trunk/MonoDevelop/build/AddIns
</A></li>
        <LI>Next message: <A HREF="000299.html">[Monodevelop-patches-list] r694 - trunk/MonoDevelop/build/AddIns
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#298">[ date ]</a>
              <a href="thread.html#298">[ thread ]</a>
              <a href="subject.html#298">[ subject ]</a>
              <a href="author.html#298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tberman
Date: 2004-01-27 20:42:01 -0500 (Tue, 27 Jan 2004)
New Revision: 693

Added:
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Makefile
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/VFS/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/AssemblyInfo.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/Docker.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/DockingManager.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/BaseFileEntry.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FileEntry.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderDialog.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderEntry.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/GladeWidgetExtract/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/GladeWidgetExtract/GladeWidgetExtract.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/IconView/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/IconView/IconView.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeNode.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeNodeCollection.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeView.cs
Removed:
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Dock/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/FolderDialog/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/GladeWidgetExtract/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/IconView/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Makefile
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Tree/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/VFS/
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/Docker.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/DockingManager.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/BaseFileEntry.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FileEntry.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderDialog.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderEntry.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/GladeWidgetExtract/GladeWidgetExtract.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/IconView/IconView.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeNode.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeNodeCollection.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeView.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/
Log:
breaking the repo, deal with it


Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils (from rev 690, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Makefile
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Makefile	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Makefile	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,11 +0,0 @@
-DLL=../../../build/bin/MonoDevelop.Gui.dll
-REFERENCES=/r:System.Drawing.dll /r:gtk-sharp.dll /r:gdk-sharp.dll /r:pango-sharp.dll /r:gnome-sharp.dll /r:glib-sharp.dll /r:glade-sharp.dll
-
-all: $(DLL)
-
-super-docker: */*.cs
-	@ mcs /debug /out:$(DLL) /target:library $(REFERENCES) /define:EXPERIMENTAL_DOCKER /recurse:*.cs
-
-$(DLL): */*.cs *.cs
-	@ mcs /debug /out:$(DLL) /target:library $(REFERENCES) /recurse:*.cs
-

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Makefile (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Makefile)
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Makefile	2004-01-28 01:37:25 UTC (rev 692)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Makefile	2004-01-28 01:42:01 UTC (rev 693)
@@ -0,0 +1,8 @@
+DLL=../../../build/bin/MonoDevelop.GuiUtils.dll
+REFERENCES=/r:System.Drawing.dll /r:gtk-sharp.dll /r:gdk-sharp.dll /r:pango-sharp.dll /r:gnome-sharp.dll /r:glib-sharp.dll /r:glade-sharp.dll
+
+all: $(DLL)
+
+$(DLL): */*.cs *.cs
+	@ mcs /debug /out:$(DLL) /target:library $(REFERENCES) /recurse:*.cs
+

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/VFS (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/VFS)

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/AssemblyInfo.cs (from rev 690, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/AssemblyInfo.cs)

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock (from rev 690, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Dock)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/Docker.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Dock/Docker.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/Docker.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,20 +0,0 @@
-using System;
-using Gtk;
-
-namespace MonoDevelop.Gui
-{
-
-	public class Docker : DrawingArea {
-
-		public Docker () : base ()
-		{
-			this.ExposeEvent += new GtkSharp.ExposeEventHandler (OnExpose);
-		}
-
-		void OnExpose (object o, GtkSharp.ExposeEventArgs e)
-		{
-
-		}
-	}
-
-}

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/Docker.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Dock/Docker.cs)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/DockingManager.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Dock/DockingManager.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/DockingManager.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,212 +0,0 @@
-// &lt;file&gt;
-//     &lt;copyright see=&quot;<A HREF="prj:///doc/copyright.txt&quot;/">prj:///doc/copyright.txt&quot;/</A>&gt;
-//     &lt;license see=&quot;<A HREF="prj:///doc/license.txt&quot;/">prj:///doc/license.txt&quot;/</A>&gt;
-//     &lt;owner name=&quot;Mike Kr&#252;ger&quot; email=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">mike at icsharpcode.net</A>&quot;/&gt;
-//     &lt;version value=&quot;$version&quot;/&gt;
-// &lt;/file&gt;
- 
-using System;
-using System.Collections;
-using Gtk;
-
-namespace MonoDevelop.Gui
-{	
-	/// &lt;summary&gt;
-	/// DockingManager replacement
-	/// &lt;/summary&gt;
-	public class DockingManager
-	{
-		private ContentList contents = new ContentList();
-
-#if EXPERIMENTAL_DOCKER
-		private Docker leftNotebook;
-		private Docker rightNotebook;
-		private Docker bottomNotebook;
-		private Docker topNotebook;
-#else
-		private Gtk.Notebook leftNotebook;
-		private Gtk.Notebook rightNotebook;
-		private Gtk.Notebook bottomNotebook;
-		private Gtk.Notebook topNotebook;
-#endif
-		
-		private WindowContent leftWC = new WindowContent();
-		private WindowContent rightWC = new WindowContent();
-		private WindowContent bottomWC = new WindowContent();
-		private WindowContent topWC = new WindowContent();
-		
-		public DockingManager(Gtk.VBox container, Gtk.Widget tabControl) {
-#if EXPERIMENTAL_DOCKER
-			leftNotebook = new Docker();
-			rightNotebook = new Docker();
-			bottomNotebook = new Docker();
-#else
-			leftNotebook = new Gtk.Notebook ();
-			rightNotebook = new Gtk.Notebook ();
-			bottomNotebook = new Gtk.Notebook ();
-#endif
-
-			leftNotebook.TabPos = rightNotebook.TabPos 
-				= bottomNotebook.TabPos = Gtk.PositionType.Bottom;
-			
-			Gtk.VPaned vpaned = new Gtk.VPaned();
-			//vpaned.Pack1(rightNotebook, true, true);
-			vpaned.Pack1(tabControl, true, true);
-			vpaned.Pack2(bottomNotebook, true, true);
-			Gtk.HPaned hpaned = new Gtk.HPaned();
-			
-			hpaned.Pack1(leftNotebook, true, true);
-			hpaned.Pack2(vpaned, true, true);
-			hpaned.ShowAll();
-			hpaned.Position = 150;
-			vpaned.Position = 300;
-			container.PackStart(hpaned, true, true, 0);
-			container.ShowAll();
-		}
-		
-		public ContentList Contents {
-			get {
-				return contents;
-			}
-		}
-		
-		public void ShowContent(Content c) {
-			// TODO
-		}
-		
-		public void HideContent(Content c) {
-			// TODO
-		}
-		
-		public WindowContent AddContentWithState(Content c, DockState state) {
-			switch (state) {
-				case DockState.Left:
-					AppendContentToNotebook(c, leftNotebook);
-					return leftWC;
-					
-				case DockState.Right:
-					AppendContentToNotebook(c, rightNotebook);
-					return rightWC;
-				
-				case DockState.Bottom:
-					AppendContentToNotebook(c, bottomNotebook);
-					return bottomWC;
-					
-				case DockState.Top:
-					AppendContentToNotebook (c, topNotebook);
-					return topWC;
-					
-				default:
-					throw new Exception(&quot;Not supported DockState: &quot; + state);
-			}
-		}
-		
-		public WindowContent AddContentToWindowContent(Content c, WindowContent w) {
-			if (w == leftWC) {
-				AppendContentToNotebook(c, leftNotebook);
-				return leftWC;
-			} else if (w == rightWC) {
-				AppendContentToNotebook(c, rightNotebook);
-				return rightWC;
-			} else if (w == bottomWC) {
-				AppendContentToNotebook(c, bottomNotebook);
-				return bottomWC;
-			} else {
-				throw new Exception(&quot;Foreign WindowContent&quot;);
-			}
-		}
-		
-		private void AppendContentToNotebook(Content c, Gtk.Notebook n) {
-			Gtk.HBox hb = new Gtk.HBox(false, 0);
-			hb.PackStart(new Gtk.Image(c.Image));
-			hb.PackStart(new Gtk.Label(c.Title));
-			hb.ShowAll();
-			n.AppendPage(c.Widget, hb);
-			n.ShowAll();
-		}
-	}
-	
-	public class ContentList {
-		private ArrayList contents = new ArrayList();
-		
-		public Content Add(Gtk.Widget widget, string title) {
-			return Add(widget, title, null);
-		}
-		
-		public Content Add(Gtk.Widget widget, string title, Gdk.Pixbuf image) {
-			Content ret = new Content(widget, title, image);
-			contents.Add(ret);
-			return ret;
-		}
-		
-	}
-	
-	public class WindowContent {
-	
-	}
-	
-	public class Content: WindowContent {
-		private Gtk.Widget widget;
-		private string title;
-		private Gdk.Pixbuf image;
-		private string fulltitle;
-		
-		public Content(Gtk.Widget widget, string title): this(widget, title, null) {
-			// Nothing
-		}
-		
-		public Content(Gtk.Widget widget, string title, Gdk.Pixbuf image) {
-			this.widget = widget;
-			this.title = title;
-			this.image = image;
-		}
-		
-		public string Title {
-			get {
-				return title;
-			}
-			set {
-				title = value;
-			}
-		}
-		
-		public string FullTitle {
-			get {
-				return fulltitle;
-			}
-			
-			set {
-				fulltitle = value;
-			}
-		}
-		
-		public Gtk.Widget Widget {
-			get {
-				return widget;
-			}
-		}
-		
-		public Gdk.Pixbuf Image {
-			get {
-				return image;
-			}
-		}
-		
-		public bool Visible {
-			get {
-				return true; // TODO
-			}
-		}
-		
-		public void BringToFront() {
-			// TODO
-		}
-	}
-
-	public enum DockState {
-		Left,
-		Right,
-		Bottom,
-		Top,
-	}
-}

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Dock/DockingManager.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Dock/DockingManager.cs)

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog (from rev 690, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/FolderDialog)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/BaseFileEntry.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/FolderDialog/BaseFileEntry.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/BaseFileEntry.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,66 +0,0 @@
-using System;
-using System.IO;
-using Gtk;
-using Gdk;
-using GtkSharp;
-using GdkSharp;
-
-namespace MonoDevelop.Gui {
-	public abstract class BaseFileEntry : Gtk.HBox {
-		
-		string name;
-		
-		Entry text;
-		Button browse;
-		
-		public event EventHandler PathChanged;
-		
-		protected BaseFileEntry (string name) : base (false, 6)
-		{
-			this.name = name;
-			text = new Entry ();
-			browse = Button.NewWithMnemonic (&quot;_Browse...&quot;);
-			
-			text.Changed += new EventHandler (OnTextChanged);
-			browse.Clicked += new EventHandler (OnButtonClicked);
-			
-			PackStart (text, true, true, 0);
-			PackEnd (browse, false, false, 0);
-		}
-		
-		protected abstract string ShowBrowseDialog (string name, string start_in);
-		
-		
-		string default_path;
-		public string DefaultPath {
-			get { return default_path; }
-			set { default_path = value; }
-		}
-		
-		public string Path {
-			get { return System.IO.Path.Combine (default_path, text.Text); }
-		}
-		
-		void OnButtonClicked (object o, EventArgs args)
-		{
-			string start_in;
-			
-			if (Directory.Exists (Path))
-				start_in = Path;
-			else
-				start_in = default_path;
-			
-			string path = ShowBrowseDialog (name, start_in + System.IO.Path.DirectorySeparatorChar);
-			if (path != null) {
-				text.Text = path;
-				OnTextChanged (null, null);
-			}
-		}
-		
-		void OnTextChanged (object o, EventArgs args)
-		{
-			if (PathChanged != null)
-				PathChanged (this, EventArgs.Empty);
-		}
-	}
-}
\ No newline at end of file

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/BaseFileEntry.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/FolderDialog/BaseFileEntry.cs)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FileEntry.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/FolderDialog/FileEntry.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FileEntry.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,30 +0,0 @@
-using System;
-using System.IO;
-using Gtk;
-using Gdk;
-using GtkSharp;
-using GdkSharp;
-
-namespace MonoDevelop.Gui {
-	public class FileEntry : BaseFileEntry{
-
-		public FileEntry (string name) : base (name)
-		{
-		}
-		
-		protected override string ShowBrowseDialog (string name, string start_in)
-		{
-			FileSelection fd = new FileSelection (name);
-			if (start_in != null)
-				fd.Filename = start_in;
-			
-			int response = fd.Run ();
-			fd.Hide ();
-			
-			if (response == (int) ResponseType.Ok)
-				return fd.Filename;
-			
-			return null;
-		}
-	}
-}
\ No newline at end of file

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FileEntry.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/FolderDialog/FileEntry.cs)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderDialog.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/FolderDialog/FolderDialog.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderDialog.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,24 +0,0 @@
-using System;
-using Gtk;
-using GtkSharp;
-
-namespace MonoDevelop.Gui
-{
-	public class FolderDialog : FileSelection
-	{
-		static GLib.GType type;
-
-		static FolderDialog ()
-		{
-			type = RegisterGType (typeof (FolderDialog));
-		}
-
-		public FolderDialog (string title) : base (type)
-		{
-			this.Title = title;
-			this.SelectMultiple = false;
-			this.ShowFileops = false;
-			this.FileList.Sensitive = false;
-		}
-	}
-}

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderDialog.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/FolderDialog/FolderDialog.cs)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderEntry.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/FolderDialog/FolderEntry.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderEntry.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,30 +0,0 @@
-using System;
-using System.IO;
-using Gtk;
-using Gdk;
-using GtkSharp;
-using GdkSharp;
-
-namespace MonoDevelop.Gui {
-	public class FolderEntry : BaseFileEntry {
-
-		public FolderEntry (string name) : base (name)
-		{
-		}
-		
-		protected override string ShowBrowseDialog (string name, string start_in)
-		{
-			FolderDialog fd = new FolderDialog (name);
-			if (start_in != null)
-				fd.Filename = start_in;
-			
-			int response = fd.Run ();
-			fd.Hide ();
-			
-			if (response == (int) ResponseType.Ok)
-				return fd.Filename;
-			
-			return null;
-		}
-	}
-}
\ No newline at end of file

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderEntry.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/FolderDialog/FolderEntry.cs)

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/GladeWidgetExtract (from rev 690, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/GladeWidgetExtract)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/GladeWidgetExtract/GladeWidgetExtract.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/GladeWidgetExtract/GladeWidgetExtract.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/GladeWidgetExtract/GladeWidgetExtract.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,60 +0,0 @@
-//
-// Makes a widget from a glade file. Does reparenting.
-// This is nice because you can use it for things like
-// option dialogs.
-//
-
-
-using System;
-using Gtk;
-using GtkSharp;
-using Glade;
-using GladeSharp;
-
-using Assembly = System.Reflection.Assembly;
-
-namespace MonoDevelop.Gui {
-	public abstract class GladeWidgetExtract : HBox {
-		
-		Glade.XML glade;
-		string dialog_name;
-		
-		private GladeWidgetExtract (string dialog_name) : base (false, 0)
-		{
-			this.dialog_name = dialog_name;
-		}
-		
-		protected GladeWidgetExtract (string resource_name, string dialog_name) : this (dialog_name)
-		{
-			// we must do it from *here* otherwise, we get this assembly, not the caller
-			glade = new XML (Assembly.GetCallingAssembly (), resource_name, dialog_name, null);
-			Init ();
-		}
-		
-		
-		protected GladeWidgetExtract (Assembly assembly, string resource_name, string dialog_name) : this (dialog_name)
-		{
-			// we must do it from *here* otherwise, we get this assembly, not the caller
-			glade = new XML (assembly, resource_name, dialog_name, null);
-			Init ();
-		}
-		
-		protected GladeWidgetExtract (string resource_name, string dialog_name, string domain) : this (dialog_name)
-		{
-			// we must do it from *here* otherwise, we get this assembly, not the caller
-			glade = new XML (resource_name, dialog_name, domain);
-			Init ();
-		}
-		
-		void Init ()
-		{
-			glade.Autoconnect (this);
-			
-			Window win = (Window) glade [dialog_name];
-			Widget child = win.Child;
-			
-			child.Reparent (this);
-			win.Destroy ();
-		}
-	}
-}
\ No newline at end of file

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/GladeWidgetExtract/GladeWidgetExtract.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/GladeWidgetExtract/GladeWidgetExtract.cs)

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/IconView (from rev 690, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/IconView)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/IconView/IconView.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/IconView/IconView.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/IconView/IconView.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,63 +0,0 @@
-using System;
-using System.Collections;
-
-using Gtk;
-using GtkSharp;
-using Gnome;
-using GnomeSharp;
-
-namespace MonoDevelop.Gui {
-	public class IconView : ScrolledWindow {
-		IconList iconList;
-		
-		Hashtable userData = new Hashtable ();
-	
-		public object CurrentlySelected;
-		public event EventHandler IconSelected;
-		public event EventHandler IconDoubleClicked;
-				
-		public IconView ()
-		{
-			iconList = new IconList (100, null, 0);
-			iconList.IconSelected += new IconSelectedHandler (HandleIconSelected);
-			iconList.KeyPressEvent += new KeyPressEventHandler (HandleKeyPressed);
-			
-			this.Add (iconList);
-			this.WidthRequest = 350;
-			this.HeightRequest = 200;
-		}
-
-		public void AddIcon (Image icon, string name, object obj)
-		{
-			int itm = iconList.AppendPixbuf (icon.Pixbuf, &quot;/dev/null&quot;, name);
-			userData.Add (itm, obj);
-		}
-		
-		void HandleKeyPressed (object o, KeyPressEventArgs args)
-		{
-			if (CurrentlySelected == null)
-				return;
-			
-			if (args.Event.Key == Gdk.Key.Return &amp;&amp; IconDoubleClicked != null)
-				IconDoubleClicked (this, EventArgs.Empty);
-		}
-		
-		void HandleIconSelected (object o, IconSelectedArgs args)
-		{
-			CurrentlySelected = userData [args.Num];
-			
-			if (IconSelected != null)
-				IconSelected (this, EventArgs.Empty);
-
-			if (args.Event != null &amp;&amp; args.Event.Type == Gdk.EventType.TwoButtonPress)
-				if (IconDoubleClicked != null)
-					IconDoubleClicked (this, EventArgs.Empty);
-		}
-
-		public void Clear ()
-		{
-			iconList.Clear ();
-			userData.Clear ();
-		}
-	}
-}

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/IconView/IconView.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/IconView/IconView.cs)

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile (from rev 691, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Makefile)
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Makefile	2004-01-28 01:20:09 UTC (rev 691)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile	2004-01-28 01:42:01 UTC (rev 693)
@@ -0,0 +1,11 @@
+DLL=../../../build/bin/MonoDevelop.Gui.Widgets.dll
+REFERENCES=/r:System.Drawing.dll /r:gtk-sharp.dll /r:gdk-sharp.dll /r:pango-sharp.dll /r:gnome-sharp.dll /r:glib-sharp.dll /r:glade-sharp.dll
+
+all: $(DLL)
+
+super-docker: */*.cs
+	@ mcs /debug /out:$(DLL) /target:library $(REFERENCES) /define:EXPERIMENTAL_DOCKER /recurse:*.cs
+
+$(DLL): */*.cs *.cs
+	@ mcs /debug /out:$(DLL) /target:library $(REFERENCES) /recurse:*.cs
+

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree (from rev 690, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Tree)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeNode.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Tree/TreeNode.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeNode.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,205 +0,0 @@
-using System;
-using System.Collections;
-
-namespace MonoDevelop.Gui {
-	public class TreeNode {
-		internal TreeView treeView = null;
-		internal TreeNode parent = null;
-		private TreeNodeCollection nodes;
-		private string text;
-		private Gdk.Pixbuf image, opened_image, closed_image;
-		private object tag;
-		
-		internal Gtk.TreeRowReference row;
-		
-		public TreeNode() {
-			nodes = new TreeNodeCollection();
-			nodes.TreeNodeCollectionChanged += new TreeNodeCollectionChangedHandler(OnNodesChanged);
-			nodes.NodeInserted += new NodeInsertedHandler(OnNodeInserted);
-			nodes.NodeRemoved += new NodeRemovedHandler(OnNodeRemoved);		
-		}
-				
-		public TreeNode(string text, Gdk.Pixbuf image): this() {
-			this.text = text;
-			this.image = image;
-		}
-		
-		public TreeNode(string text): this(text, null) {}
-		
-		public string Text {
-			get {
-				return text;
-			}
-			set {
-				text = value;
-				UpdateBacking ();
-			}
-		}
-		
-		public Gdk.Pixbuf Image {
-			get {
-				if (image == null)
-					return closed_image;
-				return image;
-			}
-			set {
-				image = value;
-				UpdateBacking ();
-			}
-		}
-		
-		public Gdk.Pixbuf OpenedImage {
-			get {
-				return opened_image != null ? opened_image : image;
-			}
-			set {
-				opened_image = value;
-				UpdateBacking ();
-			}
-		}
-		
-		public Gdk.Pixbuf ClosedImage {
-			get {
-				return closed_image != null ? closed_image : image;
-			}
-			set {
-				closed_image = value;
-				UpdateBacking ();
-			}
-		}
-
-		public object Tag {
-			get {
-				return tag;
-			}
-			set {
-				tag = value;
-			}
-		}
-		
-		public bool IsExpanded {
-			get {
-				return TreeView != null &amp;&amp; TreeView.GetRowExpanded (TreePath);
-			}
-			set {
-				if (TreeView != null)
-					TreeView.ExpandRow (TreePath, value);
-			}
-		}
-		
-		public void UpdateBacking ()
-		{
-			if (TreeView == null)
-				return;
-			
-			TreeView.Model.SetValue (TreeIter, 0, text);
-			if (image != null)        TreeView.Model.SetValue (TreeIter, 1, image);
-			if (opened_image != null) TreeView.Model.SetValue (TreeIter, 3, opened_image);
-			if (closed_image != null) TreeView.Model.SetValue (TreeIter, 4, closed_image);
-		}
-		
-		public TreeNodeCollection Nodes {
-			get {
-				return nodes;
-			}
-		}
-
-		public TreeNode Parent {
-			get {
-				return parent;
-			}
-		}
-		
-		public TreeView TreeView {
-			get {
-				if (treeView != null)
-					return treeView;
-				
-				if (parent == null)
-					return null;
-				
-				return parent.TreeView;
-			}
-		}
-
-		public bool IsEditing {
-			get {
-				return false; // FIXME
-			}
-		}
-		
-		public void Expand() {
-			if (TreeView != null)
-				TreeView.ExpandToPath (TreePath);
-		}
-		
-		public void EnsureVisible() {
-			Expand(); // TODO
-		}
-		
-		public void Remove() {
-			if (parent != null)
-				parent.Nodes.Remove(this);
-		}
-
-		internal void SetTreeView(TreeView t) {
-			this.treeView = t;
-		}
-		
-		private void OnNodeInserted(TreeNode node) {
-			node.parent = this;
-			if (TreeView != null)
-				TreeView.AddNode(this, node);
-		}
-
-		private void OnNodeRemoved(TreeNode node) {
-			if (TreeView != null) 
-				TreeView.RemoveNode(node);
-			
-			node.parent = null;
-		}
-		
-		private void OnNodesChanged() {
-			if (TreeView != null)
-				TreeView.OnTreeChanged();
-		}
-		
-		internal Gtk.TreeIter TreeIter {
-			get {
-				Gtk.TreeIter iter;
-				if (! TreeView.Model.GetIter (out iter, TreePath))
-					throw new Exception(&quot;Error calculating iter for &quot; + this.Text);
-				
-				return iter;
-			}
-		}
-		
-		internal Gtk.TreePath TreePath {
-			get {
-				if (TreeView == null)
-					return null;
-				
-				if (row == null || ! row.Valid ())
-					throw new Exception (&quot;RowReference not valid &quot; + this.Text);
-
-				return row.Path;
-			}
-		}
-		
-		public virtual void BeginEdit ()
-		{
-			TreeView.text_render.Editable = TreeView.canEdit;
-			TreeView.SetCursor (TreePath, TreeView.complete_column, true);
-			TreeView.GrabFocus ();
-		}
-		
-		public void Sort ()
-		{
-			Nodes.Sort ();
-		}
-		public void Sort (IComparer c)
-		{
-			Nodes.Sort (c);
-		}
-	}
-}

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeNode.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Tree/TreeNode.cs)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeNodeCollection.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Tree/TreeNodeCollection.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeNodeCollection.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,216 +0,0 @@
-using System;
-using System.Collections;
-
-namespace MonoDevelop.Gui {
-    public class TreeNodeCollection: IList {
-		private ArrayList list;
-                                                                                                                             
-        public TreeNodeCollection() {
-			list = new ArrayList();
-        }
-
-		public int Count {
-			get { return list.Count; }
-		}
-
-		public bool IsReadOnly {
-			get { return list.IsReadOnly; }
-		}
-		
-		public virtual TreeNode this[int index] {
-			get {
-				return (TreeNode) list[index];
-			}
-			set {
-				list[index] = value; //TODO
-				Changed();
-			}
-		}
-		
-		public void Sort ()
-		{
-			list.Sort ();
-			Changed ();
-		}
-		
-		public void Sort (IComparer c)
-		{
-			list.Sort (c);
-			Changed ();
-		}
-		
-		public virtual TreeNode Add(string text) 
-		{
-			TreeNode node =  new TreeNode (text, null);
-			Add (node);
-			return node;
-		}
-
-		public virtual int Add(TreeNode node) 
-		{
-			if (node == null)
-				throw new ArgumentNullException(&quot;value&quot;);
-
-			Inserted(node);
-			int index = list.Add(node);
-			return 	index;		
-		}
-
-		public virtual void AddRange(TreeNode[] nodes) 
-		{
-			if (nodes == null)
-				throw new ArgumentNullException(&quot;nodes&quot;);
-
-			foreach (TreeNode node in nodes) {
-				Add (node);
-			}
-		}
-
-		public virtual void Clear() 
-		{
-			ArrayList tmp = (ArrayList)list.Clone();
-			foreach (TreeNode node in tmp) {
-				Remove(node);
-			}
-		}
-		
-		public bool Contains(TreeNode node) 
-		{
-			return list.Contains(node);
-		}
-
-		public void CopyTo(Array dest, int index) 
-		{
-			throw new NotImplementedException();
-		}
-
-		public IEnumerator GetEnumerator() 
-		{
-			return list.GetEnumerator();
-		}
-
-		public int IndexOf(TreeNode node) 
-		{
-			return list.IndexOf(node);
-		}
-
-		public virtual void Insert(int index, TreeNode node) 
-		{
-			if ( node == null )
-				throw new ArgumentNullException ( &quot;node&quot; );
-
-			if (index &lt; 0 || index &gt; Count )
-				throw new ArgumentOutOfRangeException( &quot;index&quot; );
-
-			list.Insert(index, node);
-			Inserted(node);
-		}
-
-		public void Remove(TreeNode node) 
-		{
-			if ( node == null )
-				throw new ArgumentNullException( &quot;node&quot; );
-			Removed(node);
-			list.Remove(node);
-		}
-
-		public virtual void RemoveAt(int index) 
-		{
-			if (index &lt; 0 || index &gt; Count )
-				throw new ArgumentOutOfRangeException( &quot;index&quot; );
-
-			TreeNode node = (TreeNode) list[ index ];
-			Removed(node);
-			list.RemoveAt(index);
-		}
-
-		bool IList.IsReadOnly{
-			get{
-				return false;
-			}
-		}
-		bool IList.IsFixedSize{
-			get{
-				return false;
-			}
-		}
-
-		object IList.this[int index]{
-			get{
-				return list[index];
-			}
-			set{
-				throw new NotImplementedException();
-			}
-		}
-
-		void IList.Clear(){
-			Clear();
-		}
-		
-		int IList.Add(object value){
-			return Add((TreeNode) value);
-		}
-
-		bool IList.Contains(object value){
-			return list.Contains(value);
-		}
-
-		int IList.IndexOf(object value){
-			return list.IndexOf(value);
-		}
-
-		void IList.Insert(int index, object value){
-			Insert(index, (TreeNode) value);
-		}
-
-		void IList.Remove(object value){
-			if (value is TreeNode == false) {
-				throw new Exception (&quot;Attempt to remove a non node from the tree&quot;);
-			}
-			Remove((TreeNode)value);
-		}
-
-		void IList.RemoveAt(int index){
-			RemoveAt(index);
-		}
-
-		object ICollection.SyncRoot{
-			get{
-				throw new NotImplementedException ();
-			}
-		}
-		
-		bool ICollection.IsSynchronized{
-			get {
-				throw new NotImplementedException();
-			}
-		}
-
-		private void Inserted(TreeNode node) {
-			if (NodeInserted != null) {
-				NodeInserted(node);
-			}
-		}
-		
-		private void Removed(TreeNode node) {
-			if (NodeRemoved != null) {
-				NodeRemoved(node);
-			}
-		}
-		
-		private void Changed() {
-			if (TreeNodeCollectionChanged != null) {
-				TreeNodeCollectionChanged();
-			}
-        }
-                                                                                                                             
-		internal event TreeNodeCollectionChangedHandler TreeNodeCollectionChanged;
-		internal event NodeInsertedHandler NodeInserted;
-		internal event NodeRemovedHandler NodeRemoved;
-    }
-
-	internal delegate void TreeNodeCollectionChangedHandler();
-	internal delegate void NodeInsertedHandler(TreeNode node);
-	internal delegate void NodeRemovedHandler(TreeNode node);
-}

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeNodeCollection.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Tree/TreeNodeCollection.cs)

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeView.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Tree/TreeView.cs	2004-01-28 01:03:31 UTC (rev 690)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeView.cs	2004-01-28 01:42:01 UTC (rev 693)
@@ -1,288 +0,0 @@
-using System;
-using System.Collections;
-
-namespace MonoDevelop.Gui {
-	public class TreeView: Gtk.TreeView {
-		Gtk.TreeView view;
-		Gtk.TreeStore store;
-		TreeNodeCollection nodes;
-		bool updating = false;
-		
-		internal bool canEdit = false;
-		internal Gtk.TreeViewColumn complete_column;
-		internal Gtk.CellRendererText text_render;
-		
-		public TreeView () : this (false)
-		{
-		}
-		
-		public TreeView (bool canEdit)
-		{
-			/*
-			0 -- Text
-			1 -- Icon
-			2 -- Node
-			3 -- Expanded Icon
-			4 -- Unexpanded Icon
-			*/
-			store = new Gtk.TreeStore (typeof (string), typeof (Gdk.Pixbuf), typeof (TreeNode), typeof (Gdk.Pixbuf), typeof (Gdk.Pixbuf));
-			this.Model = store;
-			this.canEdit = canEdit;
-
-			HeadersVisible = false;
-			SearchColumn = 0;
-			EnableSearch = true;
-			complete_column = new Gtk.TreeViewColumn ();
-			complete_column.Title = &quot;column&quot;;
-
-			Gtk.CellRendererPixbuf pix_render = new Gtk.CellRendererPixbuf ();
-			complete_column.PackStart (pix_render, false);
-			complete_column.AddAttribute (pix_render, &quot;pixbuf&quot;, 1);
-			complete_column.AddAttribute (pix_render, &quot;pixbuf-expander-open&quot;, 3);
-			complete_column.AddAttribute (pix_render, &quot;pixbuf-expander-closed&quot;, 4);
-			
-			text_render = new Gtk.CellRendererText ();
-			if (canEdit)
-				text_render.Edited += new GtkSharp.EditedHandler (HandleOnEdit);
-			
-			complete_column.PackStart (text_render, true);
-			complete_column.AddAttribute (text_render, &quot;text&quot;, 0);
-	
-			AppendColumn (complete_column);
-
-			nodes = new TreeNodeCollection ();
-			nodes.TreeNodeCollectionChanged += new TreeNodeCollectionChangedHandler (OnTreeChanged);
-			nodes.NodeInserted += new NodeInsertedHandler (OnNodeInserted);
-			nodes.NodeRemoved += new NodeRemovedHandler (OnNodeRemoved);
-			
-			TestExpandRow += new GtkSharp.TestExpandRowHandler (OnTestExpandRow);
-		}
-		
-		public TreeView (bool edit, Gtk.TreeIterCompareFunc cb_compare) : this (edit)
-		{
-			store.SetDefaultSortFunc (cb_compare, IntPtr.Zero, null);
-			store.SetSortColumnId (/* GTK_TREE_SORTABLE_DEFAULT_SORT_COLUMN_ID */ -1, Gtk.SortType.Ascending);
-		}
-
-		void HandleOnEdit (object o, GtkSharp.EditedArgs e)
-		{
-			text_render.Editable = false;
-			Gtk.TreeIter iter;
-			if (! Model.GetIterFromString (out iter, e.Path))
-				throw new Exception(&quot;Error calculating iter for path &quot; + e.Path);
-			
-			OnEdit ((TreeNode) store.GetValue (iter, 2), e.NewText);
-		}
-		
-		protected virtual void OnEdit (TreeNode node, string new_text)
-		{
-		}
-		
-
-		public TreeNodeCollection Nodes {
-			get {
-				return nodes;
-			}
-		}
-
-		public Gtk.TreeView View {
-			get {
-				return this;
-			}
-		}
-
-		public TreeNode SelectedNode {
-			get {
-				Gtk.TreeModel foo;
-				Gtk.TreeIter iter;
-				if (! Selection.GetSelected (out foo, out iter))
-					return null;
-				
-				return (TreeNode) store.GetValue (iter, 2);
-			}
-			set {			
-				Selection.SelectIter (value.TreeIter);
-			}
-		}
-		
-		public bool LabelEdit {
-			get {
-				return canEdit;
-			}
-			set {
-				canEdit = value;
-			}
-		}
-		
-		public void BeginUpdate() 
-		{
-			//updating = true;
-		}
-		
-		public void EndUpdate ()
-		{
-			//if (updating == true) {
-			//	UpdateStore(store);
-			//}
-			//updating = false;
-
-		}
-		
-		internal void OnTreeChanged ()
-		{
-			if (updating == false)
-				UpdateStore (store);
-		}
-		
-		internal void UpdateStore (Gtk.TreeStore store)
-		{
-			store.Clear ();
-			foreach (TreeNode node in nodes) {
-				Gtk.TreeIter i = Append (node);
-				AddNodesRecursively (store, i, node);
-			}
-		}
-		
-		Gtk.TreeIter Append (Gtk.TreeIter parent, TreeNode new_child)
-		{
-			if (new_child.row != null) {
-				new_child.row.Free ();
-				new_child.row = null;
-			}
-			
-			Gtk.TreeIter it = store.Append (parent);
-			
-			// It is *critical* that we set this first. We will
-			// sort after this call, so we must give as much info
-			// to the sort function as possible.
-			store.SetValue (it, 2, new_child);
-			
-			if (new_child.Text != null)        store.SetValue (it, 0, new_child.Text);
-			if (new_child.Image != null)       store.SetValue (it, 1, new_child.Image);
-			if (new_child.OpenedImage != null) store.SetValue (it, 3, new_child.OpenedImage);
-			if (new_child.ClosedImage != null) store.SetValue (it, 4, new_child.ClosedImage);
-			
-			new_child.row = new Gtk.TreeRowReference (store, store.GetPath (it));
-			
-			return it;
-		}
-		
-		Gtk.TreeIter Append (TreeNode new_child)
-		{
-			if (new_child.row != null) {
-				new_child.row.Free ();
-				new_child.row = null;
-			}
-			
-			Gtk.TreeIter it;
-			store.Append (out it);
-			
-			// It is *critical* that we set this first. We will
-			// sort after this call, so we must give as much info
-			// to the sort function as possible.
-			store.SetValue (it, 2, new_child);
-			
-			if (new_child.Text != null)        store.SetValue (it, 0, new_child.Text);
-			if (new_child.Image != null)       store.SetValue (it, 1, new_child.Image);
-			if (new_child.OpenedImage != null) store.SetValue (it, 3, new_child.OpenedImage);
-			if (new_child.ClosedImage != null) store.SetValue (it, 4, new_child.ClosedImage);
-			
-			new_child.row = new Gtk.TreeRowReference (store, store.GetPath (it));
-			
-			return it;
-		}
-		
-		private void AddNodesRecursively (Gtk.TreeStore store, Gtk.TreeIter it, TreeNode node)
-		{
-			foreach (TreeNode nod in node.Nodes) {
-				Gtk.TreeIter i = Append (it, nod);
-				AddNodesRecursively (store, i, nod);
-			}
-		}
-
-		internal void AddNode (TreeNode parent, TreeNode child)
-		{
-			if (parent.TreeView != this)
-				throw new Exception (&quot;Wrong tree&quot;);
-			
-			Gtk.TreeIter i = Append (parent.TreeIter, child);
-			
-			AddNodesRecursively (store, i, child);
-		}
-		
-		internal void RemoveNode (TreeNode node)
-		{
-			if (node.TreeView != this)
-				throw new Exception (&quot;Wrong tree&quot;);
-			
-			Gtk.TreeIter iter = node.TreeIter;
-			store.Remove (ref iter);
-		}
-		
-		private void OnNodeInserted (TreeNode node)
-		{
-			node.treeView = this;
-			node.parent = null;
-
-			
-			Gtk.TreeIter i = Append (node);
-			AddNodesRecursively(store, i, node);
-		}
-
-		private void OnNodeRemoved (TreeNode node)
-		{
-			RemoveNode (node);
-			node.parent = null;
-			node.treeView = null;
-			if (node.row != null) {
-				node.row.Free ();
-				node.row = null;
-			}
-		}
-		
-		private TreeNode GetNodeByIter (Gtk.TreeIter iter)
-		{
-			TreeNode ret = (TreeNode)store.GetValue(iter, 2);
-			return ret;
-		}
-		
-		private void OnTestExpandRow (object sender, GtkSharp.TestExpandRowArgs args)
-		{
-			TreeNode node = GetNodeByIter (args.Iter);
-			TreeViewCancelEventArgs e = new TreeViewCancelEventArgs (node);
-			OnBeforeExpand (e);
-			
-			args.RetVal = (e.Cancel == true || node.Nodes.Count == 0);
-		}
-		
-		protected virtual void OnBeforeExpand (TreeViewCancelEventArgs e)
-		{
-			// Nothing
-		}
-	}
-	
-	public class TreeViewCancelEventArgs {
-		private TreeNode node;
-		private bool cancel = false;
-		
-		public TreeViewCancelEventArgs (TreeNode node)
-		{
-			this.node = node;
-		}
-		
-		public TreeNode Node {
-			get {
-				return node;
-			}
-		}
-		
-		public bool Cancel {
-			get {
-				return cancel;
-			}
-			set {
-				cancel = value;
-			}
-		}
-	}
-}

Copied: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Tree/TreeView.cs (from rev 692, trunk/MonoDevelop/src/Libraries/MonoDevelop.GuiUtils/Tree/TreeView.cs)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000297.html">[Monodevelop-patches-list] r692 - trunk/MonoDevelop/build/AddIns
</A></li>
	<LI>Next message: <A HREF="000299.html">[Monodevelop-patches-list] r694 - trunk/MonoDevelop/build/AddIns
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#298">[ date ]</a>
              <a href="thread.html#298">[ thread ]</a>
              <a href="subject.html#298">[ subject ]</a>
              <a href="author.html#298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
