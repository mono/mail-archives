<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r2618 - in trunk/MonoDevelop/Core/src:	AddIns/DisplayBindings/SourceEditor	AddIns/DisplayBindings/SourceEditor/Gui	AddIns/DisplayBindings/SourceEditor/Gui/Dialogs	MonoDevelop.Base MonoDevelop.Base/Gui/Pads	MonoDevelop.Base/Gui/Pads/ClassPad	MonoDevelop.Base/Gui/Search/SearchResult	MonoDevelop.Base/Services/Tasks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2618%20-%20in%20trunk/MonoDevelop/Core/src%3A%0A%09AddIns/DisplayBindings/SourceEditor%0A%09AddIns/DisplayBindings/SourceEditor/Gui%0A%09AddIns/DisplayBindings/SourceEditor/Gui/Dialogs%0A%09MonoDevelop.Base%20MonoDevelop.Base/Gui/Pads%0A%09MonoDevelop.Base/Gui/Pads/ClassPad%0A%09MonoDevelop.Base/Gui/Search/SearchResult%0A%09MonoDevelop.Base/Services/Tasks&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002217.html">
   <LINK REL="Next"  HREF="002219.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r2618 - in trunk/MonoDevelop/Core/src:	AddIns/DisplayBindings/SourceEditor	AddIns/DisplayBindings/SourceEditor/Gui	AddIns/DisplayBindings/SourceEditor/Gui/Dialogs	MonoDevelop.Base MonoDevelop.Base/Gui/Pads	MonoDevelop.Base/Gui/Pads/ClassPad	MonoDevelop.Base/Gui/Search/SearchResult	MonoDevelop.Base/Services/Tasks</H1>
    <B>Jacob Ils&#248; Christensen &lt;jacobilsoe@gmail.com&gt;</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2618%20-%20in%20trunk/MonoDevelop/Core/src%3A%0A%09AddIns/DisplayBindings/SourceEditor%0A%09AddIns/DisplayBindings/SourceEditor/Gui%0A%09AddIns/DisplayBindings/SourceEditor/Gui/Dialogs%0A%09MonoDevelop.Base%20MonoDevelop.Base/Gui/Pads%0A%09MonoDevelop.Base/Gui/Pads/ClassPad%0A%09MonoDevelop.Base/Gui/Search/SearchResult%0A%09MonoDevelop.Base/Services/Tasks&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r2618 - in trunk/MonoDevelop/Core/src:	AddIns/DisplayBindings/SourceEditor	AddIns/DisplayBindings/SourceEditor/Gui	AddIns/DisplayBindings/SourceEditor/Gui/Dialogs	MonoDevelop.Base MonoDevelop.Base/Gui/Pads	MonoDevelop.Base/Gui/Pads/ClassPad	MonoDevelop.Base/Gui/Search/SearchResult	MonoDevelop.Base/Services/Tasks">jacobilsoe at mono-cvs.ximian.com
       </A><BR>
    <I>Fri Jul  1 09:54:30 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002217.html">[Monodevelop-patches-list] r2617 - in	trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor:	. CodeCompletion
</A></li>
        <LI>Next message: <A HREF="002219.html">[Monodevelop-patches-list] r2619 - in	trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding:	. SharpRefactoryVB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2218">[ date ]</a>
              <a href="thread.html#2218">[ thread ]</a>
              <a href="subject.html#2218">[ subject ]</a>
              <a href="author.html#2218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jacobilsoe
Date: 2005-07-01 09:54:30 -0400 (Fri, 01 Jul 2005)
New Revision: 2618

Modified:
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/GotoLineNumberDialog.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/ClassPad/ClassNodeBuilder.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/ClassPad/MemberNodeCommandHandler.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/OpenTaskView.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Search/SearchResult/DefaultSearchResult.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Services/Tasks/Task.cs
Log:
Make lines and columns 1-based

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog	2005-07-01 13:48:29 UTC (rev 2617)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog	2005-07-01 13:54:30 UTC (rev 2618)
@@ -1,5 +1,11 @@
 2005-07-01  Jacob Ils&#248; Christensen  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jacobilsoe at gmail.com</A>&gt;
 
+	* Gui/Dialogs/GotoLineNumberDialog.cs:
+	* Gui/SourceEditorDisplayBinding.cs:
+	Make lines and columns 1-based.
+	
+2005-07-01  Jacob Ils&#248; Christensen  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jacobilsoe at gmail.com</A>&gt;
+
 	* CodeCompletion/ListWindow.cs: Make sure the list
 	window is no larger than necessary.
 

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/GotoLineNumberDialog.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/GotoLineNumberDialog.cs	2005-07-01 13:48:29 UTC (rev 2617)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/GotoLineNumberDialog.cs	2005-07-01 13:54:30 UTC (rev 2618)
@@ -56,9 +56,9 @@
 				
 				
 				if (window != null &amp;&amp; window.ViewContent is IPositionable) {			
-					int l = Math.Max (0, Int32.Parse(line_number_entry.Text) - 1);
+					int l = Math.Max (1, Int32.Parse(line_number_entry.Text));
 					
-					((IPositionable) window.ViewContent).JumpTo (l, 0);
+					((IPositionable) window.ViewContent).JumpTo (l, 1);
 				}
 			} catch (Exception) {
 				

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs	2005-07-01 13:48:29 UTC (rev 2617)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs	2005-07-01 13:54:30 UTC (rev 2618)
@@ -204,12 +204,12 @@
 
 		public void JumpTo (int line, int column)
 		{
-			// NOTE: 0 based!			
-			TextIter itr = se.Buffer.GetIterAtLine (line);
-			itr.LineOffset = column;
+			// NOTE: 1 based!			
+			TextIter itr = se.Buffer.GetIterAtLine (line - 1);
+			itr.LineOffset = column - 1;
 
 			se.Buffer.PlaceCursor (itr);		
-			se.Buffer.HighlightLine (line);	
+			se.Buffer.HighlightLine (line - 1);	
 			se.View.ScrollToMark (se.Buffer.InsertMark, 0.3, false, 0, 0);
 			GLib.Timeout.Add (20, new GLib.TimeoutHandler (changeFocus));
 		}

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog	2005-07-01 13:48:29 UTC (rev 2617)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog	2005-07-01 13:54:30 UTC (rev 2618)
@@ -1,3 +1,12 @@
+2005-07-01  Jacob Ils&#248; Christensen  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jacobilsoe at gmail.com</A>&gt;
+
+	* Services/Tasks/Task.cs:
+	* Gui/Pads/OpenTaskView.cs:
+	* Gui/Pads/ClassPad/ClassNodeBuilder.cs:
+	* Gui/Pads/ClassPad/MemberNodeCommandHandler.cs:
+	* Gui/Search/SearchResult/DefaultSearchResult.cs:
+	Make lines and columns 1-based.
+
 2005-06-30  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
 
 	* Services/ParserService/AssembyInformation.cs: fix possible nullref

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/ClassPad/ClassNodeBuilder.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/ClassPad/ClassNodeBuilder.cs	2005-07-01 13:48:29 UTC (rev 2617)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/ClassPad/ClassNodeBuilder.cs	2005-07-01 13:54:30 UTC (rev 2618)
@@ -118,7 +118,7 @@
 			
 			IViewContent content = window.ViewContent;
 			if (content is IPositionable) {
-				((IPositionable)content).JumpTo (Math.Max (0, line), 0);
+				((IPositionable)content).JumpTo (Math.Max (1, line), 1);
 			}
 		}
 		

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/ClassPad/MemberNodeCommandHandler.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/ClassPad/MemberNodeCommandHandler.cs	2005-07-01 13:48:29 UTC (rev 2617)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/ClassPad/MemberNodeCommandHandler.cs	2005-07-01 13:54:30 UTC (rev 2618)
@@ -58,7 +58,7 @@
 			
 			IViewContent content = window.ViewContent;
 			if (content is IPositionable) {
-				((IPositionable)content).JumpTo (Math.Max (0, line), 0);
+				((IPositionable)content).JumpTo (Math.Max (1, line), 1);
 			}
 		}
 		

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/OpenTaskView.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/OpenTaskView.cs	2005-07-01 13:48:29 UTC (rev 2617)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/OpenTaskView.cs	2005-07-01 13:54:30 UTC (rev 2618)
@@ -258,7 +258,7 @@
 			
 			store.AppendValues (
 				stock,
-				t.Line + 1,
+				t.Line,
 				t.Description,
 				fileName,
 				path,

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Search/SearchResult/DefaultSearchResult.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Search/SearchResult/DefaultSearchResult.cs	2005-07-01 13:48:29 UTC (rev 2617)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Search/SearchResult/DefaultSearchResult.cs	2005-07-01 13:54:30 UTC (rev 2618)
@@ -20,8 +20,8 @@
 		public DefaultSearchResult (ITextIterator iter, int length)
 		{
 			offset = iter.Position;
-			line = iter.Line;
-			column = iter.Column;
+			line = iter.Line + 1;
+			column = iter.Column + 1;
 			this.length = length;
 			documentInformation = iter.DocumentInformation;
 		}

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Services/Tasks/Task.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Services/Tasks/Task.cs	2005-07-01 13:48:29 UTC (rev 2617)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Services/Tasks/Task.cs	2005-07-01 13:54:30 UTC (rev 2618)
@@ -95,8 +95,8 @@
 		{
 			this.project = project;
 			type        = error.IsWarning ? error.ErrorNumber == &quot;COMMENT&quot; ? TaskType.Comment : TaskType.Warning : TaskType.Error;
-			column      = error.Column - 1;
-			line        = error.Line - 1;
+			column      = error.Column;
+			line        = error.Line;
 			description = error.ErrorText;
 			if (error.ErrorNumber != String.Empty)
 				description += &quot;(&quot; + error.ErrorNumber + &quot;)&quot;;
@@ -137,7 +137,7 @@
 			}
 			IViewContent content = window.ViewContent;
 			if (content is IPositionable) {
-				((IPositionable)content).JumpTo(Math.Max(0, line), Math.Max(0, column));
+				((IPositionable)content).JumpTo(Math.Max(1, line), Math.Max(1, column));
 			}
 		}
 	}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002217.html">[Monodevelop-patches-list] r2617 - in	trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor:	. CodeCompletion
</A></li>
	<LI>Next message: <A HREF="002219.html">[Monodevelop-patches-list] r2619 - in	trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding:	. SharpRefactoryVB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2218">[ date ]</a>
              <a href="thread.html#2218">[ thread ]</a>
              <a href="subject.html#2218">[ subject ]</a>
              <a href="author.html#2218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
