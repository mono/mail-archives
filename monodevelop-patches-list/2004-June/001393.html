<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r1786 - in trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser: ICSharpCode.AssemblyAnalyzer ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1786%20-%20in%20trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser%3A%20ICSharpCode.AssemblyAnalyzer%20ICSharpCode.AssemblyAnalyzer.AddIn%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001392.html">
   <LINK REL="Next"  HREF="001394.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r1786 - in trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser: ICSharpCode.AssemblyAnalyzer ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1786%20-%20in%20trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser%3A%20ICSharpCode.AssemblyAnalyzer%20ICSharpCode.AssemblyAnalyzer.AddIn%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r1786 - in trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser: ICSharpCode.AssemblyAnalyzer ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Sat Jun 19 21:51:45 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001392.html">[Monodevelop-patches-list] r1785 - trunk/MonoDevelop/src/Libraries/Gdl
</A></li>
        <LI>Next message: <A HREF="001394.html">[Monodevelop-patches-list] r1787 - in trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser: ICSharpCode.AssemblyAnalyzer ICSharpCode.AssemblyAnalyzer.AddIn
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1393">[ date ]</a>
              <a href="thread.html#1393">[ thread ]</a>
              <a href="subject.html#1393">[ subject ]</a>
              <a href="author.html#1393">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2004-06-19 21:51:45 -0400 (Sat, 19 Jun 2004)
New Revision: 1786

Modified:
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyRuleViewControl.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Makefile
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Makefile
Log:
allow it to compile



Property changes on: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer
___________________________________________________________________
Name: svn:ignore
   + *.dll


Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Makefile
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Makefile	2004-06-19 16:09:18 UTC (rev 1785)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Makefile	2004-06-20 01:51:45 UTC (rev 1786)
@@ -74,4 +74,5 @@
 all: $(ASSEMBLY)
 
 $(ASSEMBLY): $(FILES)
-	$(CSC) /out:$(ASSEMBLY) /target:library $(FILES) 
+	$(CSC) /out:$(ASSEMBLY) /target:library $(FILES) \
+	&amp;&amp; cp $(ASSEMBLY) ../../../../../build/bin/.


Property changes on: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn
___________________________________________________________________
Name: svn:ignore
   + *.dll


Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs	2004-06-19 16:09:18 UTC (rev 1785)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs	2004-06-20 01:51:45 UTC (rev 1786)
@@ -9,34 +9,29 @@
 using System.IO;
 using System.Collections;
 using System.Reflection;
-using System.Windows.Forms;
+using Gtk;
 
 namespace MonoDevelop.AssemblyAnalyser
 {
 	/// &lt;summary&gt;
 	/// Description of AssemblyAnalyserControl.	
 	/// &lt;/summary&gt;
-	public class AssemblyAnalyserControl : System.Windows.Forms.UserControl
+	public class AssemblyAnalyserControl : Frame
 	{
-		private System.Windows.Forms.Splitter splitter2;
-		private System.Windows.Forms.TabControl tabControl;
-		private MonoDevelop.AssemblyAnalyser.ResultListControl resultListControl;
-		private System.Windows.Forms.Splitter splitter;
-		private MonoDevelop.AssemblyAnalyser.AssemblyTreeControl assemblyTreeControl;
-		private System.Windows.Forms.Panel panel;
-		private System.Windows.Forms.TabPage assembliesTabPage;
-		private MonoDevelop.AssemblyAnalyser.ResultDetailsView resultDetailsView;
+		//VPanel splitter2;
+		Notebook tabControl;
+		MonoDevelop.AssemblyAnalyser.ResultListControl resultListControl;
+		//VPane splitter;
+		MonoDevelop.AssemblyAnalyser.AssemblyTreeControl assemblyTreeControl;
+		Frame panel;
+		//NotebookPage assembliesTabPage;
+		MonoDevelop.AssemblyAnalyser.ResultDetailsView resultDetailsView;
 		
 		public AssemblyAnalyserControl()
 		{
-			//
-			// The InitializeComponent() call is required for Windows Forms designer support.
-			//
-			
 			InitializeComponent();
 			resultListControl.ResultDetailsView = resultDetailsView;
 			assemblyTreeControl.ResultListControl = resultListControl;
-			
 		}
 		
 		public void ClearContents()
@@ -66,20 +61,14 @@
 		/// &lt;/summary&gt;
 		private void InitializeComponent() {
 			this.resultDetailsView = new MonoDevelop.AssemblyAnalyser.ResultDetailsView();
-			this.assembliesTabPage = new System.Windows.Forms.TabPage();
-			this.panel = new System.Windows.Forms.Panel();
+			//this.assembliesTabPage = new NotebookPage();
+			this.panel = new Frame ();
 			this.assemblyTreeControl = new MonoDevelop.AssemblyAnalyser.AssemblyTreeControl();
-			this.splitter = new System.Windows.Forms.Splitter();
+			//this.splitter = new VPane ();
 			this.resultListControl = new MonoDevelop.AssemblyAnalyser.ResultListControl();
-			this.tabControl = new System.Windows.Forms.TabControl();
-			this.splitter2 = new System.Windows.Forms.Splitter();
-			this.assembliesTabPage.SuspendLayout();
-			this.panel.SuspendLayout();
-			this.tabControl.SuspendLayout();
-			this.SuspendLayout();
-			// 
-			// resultDetailsView
-			// 
+			this.tabControl = new Notebook();
+			//this.splitter2 = new VPane();
+/*
 			this.resultDetailsView.Dock = System.Windows.Forms.DockStyle.Bottom;
 			this.resultDetailsView.Location = new System.Drawing.Point(0, 304);
 			this.resultDetailsView.Name = &quot;resultDetailsView&quot;;
@@ -157,10 +146,7 @@
 			this.Controls.Add(this.tabControl);
 			this.Name = &quot;AssemblyAnalyserControl&quot;;
 			this.Size = new System.Drawing.Size(748, 504);
-			this.assembliesTabPage.ResumeLayout(false);
-			this.panel.ResumeLayout(false);
-			this.tabControl.ResumeLayout(false);
-			this.ResumeLayout(false);
+*/
 		}
 		#endregion
 		

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs	2004-06-19 16:09:18 UTC (rev 1785)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs	2004-06-20 01:51:45 UTC (rev 1786)
@@ -10,7 +10,7 @@
 using System.Reflection;
 using System.Security.Policy;
 using System.Threading;
-using System.Windows.Forms;
+using Gtk;
 
 using MonoDevelop.Gui;
 using MonoDevelop.Core;
@@ -32,7 +32,7 @@
 		
 		AppDomain        analyserDomain  = null;
 		AssemblyAnalyser currentAnalyser = null;
-		public override Control Control {
+		public override Widget Control {
 			get {
 				return assemblyAnalyserControl;
 			}
@@ -49,7 +49,7 @@
 			}
 		}
 		
-		public AssemblyAnalyserView() : base(&quot;Assembly Analyser&quot;)
+		public AssemblyAnalyserView() //: base(&quot;Assembly Analyser&quot;)
 		{
 			AssemblyAnalyserViewInstance = this;
 			assemblyAnalyserControl = new AssemblyAnalyserControl();
@@ -107,7 +107,7 @@
 		
 		void ProjectServiceEndBuild(object sender, EventArgs e)
 		{
-			assemblyAnalyserControl.Invoke(new ThreadStart(RefreshProjectAssemblies));
+			//assemblyAnalyserControl.Invoke(new ThreadStart(RefreshProjectAssemblies));
 		}
 		
 		AssemblyAnalyser CreateRemoteAnalyser()
@@ -115,7 +115,7 @@
 			AppDomainSetup setup = new AppDomainSetup();
 			Evidence evidence = new Evidence(AppDomain.CurrentDomain.Evidence);
 			setup.ApplicationName = &quot;Analyser&quot;;
-			setup.ApplicationBase = Application.StartupPath;
+			//setup.ApplicationBase = Application.StartupPath;
 
 			analyserDomain = AppDomain.CreateDomain(&quot;AnalyserDomain&quot;, evidence, setup);
 			return (AssemblyAnalyser)analyserDomain.CreateInstanceAndUnwrap(

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyRuleViewControl.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyRuleViewControl.cs	2004-06-19 16:09:18 UTC (rev 1785)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyRuleViewControl.cs	2004-06-20 01:51:45 UTC (rev 1786)
@@ -6,18 +6,16 @@
 // &lt;/file&gt;
 
 using System;
-using System.Drawing;
-using System.Windows.Forms;
+using Gtk;
 
 namespace MonoDevelop.AssemblyAnalyser
 {
 	/// &lt;summary&gt;
 	/// Description of AssemblyRuleViewControl.	
 	/// &lt;/summary&gt;
-	[ToolboxBitmap(typeof(System.Windows.Forms.TreeView))]
-	public class AssemblyRuleViewControl : System.Windows.Forms.UserControl
+	public class AssemblyRuleViewControl : TreeView
 	{
-		private System.Windows.Forms.TreeView ruleTreeView;
+		TreeView ruleTreeView;
 		public AssemblyRuleViewControl()
 		{
 			//
@@ -34,12 +32,8 @@
 		/// not be able to load this method if it was changed manually.
 		/// &lt;/summary&gt;
 		private void InitializeComponent() {
-			this.ruleTreeView = new System.Windows.Forms.TreeView();
-			this.SuspendLayout();
-			// 
-			// ruleTreeView
-			// 
-			this.ruleTreeView.Dock = System.Windows.Forms.DockStyle.Fill;
+			this.ruleTreeView = new TreeView ();
+/*
 			this.ruleTreeView.ImageIndex = -1;
 			this.ruleTreeView.Location = new System.Drawing.Point(0, 0);
 			this.ruleTreeView.Name = &quot;ruleTreeView&quot;;
@@ -52,7 +46,7 @@
 			this.Controls.Add(this.ruleTreeView);
 			this.Name = &quot;AssemblyRuleViewControl&quot;;
 			this.Size = new System.Drawing.Size(292, 266);
-			this.ResumeLayout(false);
+*/
 		}
 		#endregion
 	}

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs	2004-06-19 16:09:18 UTC (rev 1785)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs	2004-06-20 01:51:45 UTC (rev 1786)
@@ -8,9 +8,9 @@
 using System;
 using System.Collections;
 using System.IO;
-using System.Drawing;
 using System.Reflection;
-using System.Windows.Forms;
+using Gtk;
+
 using MonoDevelop.Core.Services;
 using MonoDevelop.Services;
 namespace MonoDevelop.AssemblyAnalyser
@@ -18,10 +18,9 @@
 	/// &lt;summary&gt;
 	/// Description of AssemblyTreeControl.	
 	/// &lt;/summary&gt;
-	[ToolboxBitmap(typeof(System.Windows.Forms.TreeView))]
-	public class AssemblyTreeControl : System.Windows.Forms.UserControl
+	public class AssemblyTreeControl : TreeView
 	{
-		private System.Windows.Forms.TreeView assemblyTreeView;
+		TreeView assemblyTreeView;
 		TreeNode assembliesNode;
 		ResultListControl resultListControl;
 		
@@ -36,29 +35,27 @@
 		
 		public AssemblyTreeControl()
 		{
-			//
-			// The InitializeComponent() call is required for Windows Forms designer support.
-			//
 			InitializeComponent();
 			StringParserService stringParserService = (StringParserService)ServiceManager.Services.GetService(typeof(StringParserService));
 			ClassBrowserIconsService classBrowserIconService = (ClassBrowserIconsService)ServiceManager.Services.GetService(typeof(ClassBrowserIconsService));
-			assemblyTreeView.ImageList = classBrowserIconService.ImageList;
+			//assemblyTreeView.ImageList = classBrowserIconService.ImageList;
 			
-			assembliesNode = new TreeNode(stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.AssemblyTreeControl.AssembliesNode}&quot;));
-			assembliesNode.ImageIndex = assembliesNode.SelectedImageIndex = 0;
-			assemblyTreeView.Nodes.Add(assembliesNode);
-			assemblyTreeView.AfterCollapse += new TreeViewEventHandler(AssemblyTreeViewAfterCollapse);
-			assemblyTreeView.AfterExpand += new TreeViewEventHandler(AssemblyTreeViewAfterExpand);
-			assemblyTreeView.AfterSelect += new TreeViewEventHandler(AssemblyTreeViewAfterSelect);
+			//assembliesNode = new TreeNode(stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.AssemblyTreeControl.AssembliesNode}&quot;));
+			//assembliesNode.ImageIndex = assembliesNode.SelectedImageIndex = 0;
+			//assemblyTreeView.Nodes.Add(assembliesNode);
+			//assemblyTreeView.AfterCollapse += new TreeViewEventHandler(AssemblyTreeViewAfterCollapse);
+			//assemblyTreeView.AfterExpand += new TreeViewEventHandler(AssemblyTreeViewAfterExpand);
+			//assemblyTreeView.AfterSelect += new TreeViewEventHandler(AssemblyTreeViewAfterSelect);
 		}
 		
+/*		
 		void AssemblyTreeViewAfterCollapse(object sender, TreeViewEventArgs e)
 		{
 			if (e.Node == assembliesNode) {
 				assembliesNode.ImageIndex = assembliesNode.SelectedImageIndex = 0;
 			}
 		}
-		
+
 		void AssemblyTreeViewAfterExpand(object sender, TreeViewEventArgs e)
 		{
 			if (e.Node == assembliesNode) {
@@ -74,29 +71,30 @@
 				this.resultListControl.PrintReport((ArrayList)e.Node.Tag);
 			}
 		}
+*/
 		
 		public void PrintAllResolutions()
 		{
 			ArrayList allResolutions = new ArrayList();
-			foreach (TreeNode node in assembliesNode.Nodes) {
-				allResolutions.AddRange((ArrayList)node.Tag);
-			}
+			//foreach (TreeNode node in assembliesNode.Nodes) {
+			//	allResolutions.AddRange((ArrayList)node.Tag);
+			//}
 			this.resultListControl.PrintReport(allResolutions);
 		}
 		
 		public void ClearContents()
 		{
 			Console.WriteLine(&quot;CLEAR CONTENTS&quot;);
-			assembliesNode.Nodes.Clear();
+			//assembliesNode.Nodes.Clear();
 		}
 		
 		public void AddAssembly(string assemblyFileName, ArrayList resolutions)
 		{
-			TreeNode newNode = new TreeNode(Path.GetFileName(assemblyFileName));
-			newNode.Tag = resolutions;
-			newNode.ImageIndex = newNode.SelectedImageIndex = 2;
-			assembliesNode.Nodes.Add(newNode);
-			assembliesNode.Expand();
+			//TreeNode newNode = new TreeNode(Path.GetFileName(assemblyFileName));
+			//newNode.Tag = resolutions;
+			//newNode.ImageIndex = newNode.SelectedImageIndex = 2;
+			//assembliesNode.Nodes.Add(newNode);
+			//assembliesNode.Expand();
 		}
 		
 		#region Windows Forms Designer generated code
@@ -106,12 +104,8 @@
 		/// not be able to load this method if it was changed manually.
 		/// &lt;/summary&gt;
 		private void InitializeComponent() {
-			this.assemblyTreeView = new System.Windows.Forms.TreeView();
-			this.SuspendLayout();
-			// 
-			// assemblyTreeView
-			// 
-			this.assemblyTreeView.Dock = System.Windows.Forms.DockStyle.Fill;
+			this.assemblyTreeView = new TreeView ();
+/*
 			this.assemblyTreeView.HideSelection = false;
 			this.assemblyTreeView.ImageIndex = -1;
 			this.assemblyTreeView.Location = new System.Drawing.Point(0, 0);
@@ -125,7 +119,7 @@
 			this.Controls.Add(this.assemblyTreeView);
 			this.Name = &quot;AssemblyTreeControl&quot;;
 			this.Size = new System.Drawing.Size(292, 266);
-			this.ResumeLayout(false);
+*/
 		}
 		#endregion
 	}

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs	2004-06-19 16:09:18 UTC (rev 1785)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs	2004-06-20 01:51:45 UTC (rev 1786)
@@ -8,7 +8,8 @@
 using System;
 using System.IO;
 using System.Drawing;
-using System.Windows.Forms;
+using Gtk;
+using Gecko;
 
 using MonoDevelop.Gui;
 using MonoDevelop.Core;
@@ -24,10 +25,9 @@
 	/// &lt;summary&gt;
 	/// Description of ResultDetailsView.	
 	/// &lt;/summary&gt;
-	[ToolboxBitmap(typeof(System.Windows.Forms.RichTextBox))]
-	public class ResultDetailsView : System.Windows.Forms.UserControl
+	public class ResultDetailsView : MozillaControl
 	{
-		HtmlControl htmlControl;
+		MozillaControl htmlControl;
 		Resolution  currentResolution;
 		public ResultDetailsView()
 		{
@@ -36,28 +36,28 @@
 			//
 			InitializeComponent();
 			
-			htmlControl = new HtmlControl();
-			htmlControl.Dock = DockStyle.Fill;
+			htmlControl = new MozillaControl ();
+			//htmlControl.Dock = DockStyle.Fill;
 			PropertyService propertyService = (PropertyService)ServiceManager.Services.GetService(typeof(PropertyService));
-			htmlControl.CascadingStyleSheet = propertyService.DataDirectory + Path.DirectorySeparatorChar +
-			                                  &quot;resources&quot; + Path.DirectorySeparatorChar +
-			                                  &quot;css&quot; + Path.DirectorySeparatorChar +
-			                                  &quot;MsdnHelp.css&quot;;
+			//htmlControl.CascadingStyleSheet = propertyService.DataDirectory + Path.DirectorySeparatorChar +
+			//                                  &quot;resources&quot; + Path.DirectorySeparatorChar +
+			//                                  &quot;css&quot; + Path.DirectorySeparatorChar +
+			//                                  &quot;MsdnHelp.css&quot;;
 			
 			ClearContents();
-			htmlControl.BeforeNavigate += new BrowserNavigateEventHandler(HtmlControlBeforeNavigate);
-			this.Controls.Add(htmlControl);
+			htmlControl.OpenUri += new OpenUriHandler (HtmlControlBeforeNavigate);
+			this.Add (htmlControl);
 		}
 		
-		void HtmlControlBeforeNavigate(object sender, BrowserNavigateEventArgs e)
+		void HtmlControlBeforeNavigate(object sender, OpenUriArgs e)
 		{
-			e.Cancel = true;
-			Console.WriteLine(&quot; &gt;{0}&lt; &quot;, e.Url);
-			if (e.Url.StartsWith(&quot;<A HREF="help://types/&quot;">help://types/&quot;</A>)) {
-				string typeName = e.Url.Substring(&quot;<A HREF="help://types/&quot;.Length">help://types/&quot;.Length</A>);
-				HelpBrowser helpBrowser = (HelpBrowser)WorkbenchSingleton.Workbench.GetPad(typeof(HelpBrowser));
-				helpBrowser.ShowHelpFromType(typeName);
-			} else if (e.Url.StartsWith(&quot;<A HREF="help://gotocause&quot;">help://gotocause&quot;</A>)) {
+			e.RetVal = true;
+			Console.WriteLine(&quot; &gt;{0}&lt; &quot;, e.AURI);
+			if (e.AURI.StartsWith(&quot;<A HREF="help://types/&quot;">help://types/&quot;</A>)) {
+				string typeName = e.AURI.Substring(&quot;<A HREF="help://types/&quot;.Length">help://types/&quot;.Length</A>);
+				//HelpBrowser helpBrowser = (HelpBrowser)WorkbenchSingleton.Workbench.GetPad(typeof(HelpBrowser));
+				//helpBrowser.ShowHelpFromType(typeName);
+			} else if (e.AURI.StartsWith(&quot;<A HREF="help://gotocause&quot;">help://gotocause&quot;</A>)) {
 				GotoCurrentCause();
 			}
 		}
@@ -70,19 +70,20 @@
 		void GotoCurrentCause()
 		{
 			IParserService parserService = (IParserService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IParserService));
-			Position position = parserService.GetPosition(currentResolution.Item.Replace('+', '.'));
+			//Position position = parserService.GetPosition(currentResolution.Item.Replace('+', '.'));
 			
-			if (position != null &amp;&amp; position.Cu != null) {
-				IFileService fileService = (IFileService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IFileService));
-				fileService.JumpToFilePosition(position.Cu.FileName, Math.Max(0, position.Line - 1), Math.Max(0, position.Column - 1));
-			}
+			//if (position != null &amp;&amp; position.Cu != null) {
+			//	IFileService fileService = (IFileService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IFileService));
+			//	fileService.JumpToFilePosition(position.Cu.FileName, Math.Max(0, position.Line - 1), Math.Max(0, position.Column - 1));
+			//}
 		}
 		
 		bool CanGoto(Resolution res)
 		{
 			IParserService parserService = (IParserService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IParserService));
-			Position position = parserService.GetPosition(res.Item.Replace('+', '.'));
-			return position != null &amp;&amp; position.Cu != null;
+			//Position position = parserService.GetPosition(res.Item.Replace('+', '.'));
+			//return position != null &amp;&amp; position.Cu != null;
+			return false; //FIXME
 		}
 		
 		public void ViewResolution(Resolution resolution)
@@ -112,7 +113,7 @@
 			// ResultDetailsView
 			// 
 			this.Name = &quot;ResultDetailsView&quot;;
-			this.Size = new System.Drawing.Size(292, 266);
+			//this.SetDefaultSize (292, 266);
 		}
 		#endregion
 	}

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs	2004-06-19 16:09:18 UTC (rev 1785)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs	2004-06-20 01:51:45 UTC (rev 1786)
@@ -8,7 +8,7 @@
 using System;
 using System.Collections;
 using System.Drawing;
-using System.Windows.Forms;
+using Gtk;
 
 using MonoDevelop.Core.Services;
 using MonoDevelop.AssemblyAnalyser.Rules;
@@ -19,15 +19,14 @@
 	/// &lt;summary&gt;
 	/// Description of ResultListControl.	
 	/// &lt;/summary&gt;
-	[ToolboxBitmap(typeof(System.Windows.Forms.ListView))]
-	public class ResultListControl : System.Windows.Forms.UserControl
+	public class ResultListControl : TreeView
 	{
-		private System.Windows.Forms.ListView listView;
-		private System.Windows.Forms.ColumnHeader criticalHeader;
-		private System.Windows.Forms.ColumnHeader itemHeader;
-		private System.Windows.Forms.ColumnHeader ruleHeader;
-		private System.Windows.Forms.ColumnHeader certaintyHeader;
-		private System.Windows.Forms.ColumnHeader levelHeader;
+		TreeView listView;
+		//private System.Windows.Forms.ColumnHeader criticalHeader;
+		//private System.Windows.Forms.ColumnHeader itemHeader;
+		//private System.Windows.Forms.ColumnHeader ruleHeader;
+		//private System.Windows.Forms.ColumnHeader certaintyHeader;
+		//private System.Windows.Forms.ColumnHeader levelHeader;
 		
 		ResultDetailsView resultDetailsView = null;
 		
@@ -48,24 +47,23 @@
 			InitializeComponent();
 			
 			StringParserService stringParserService = (StringParserService)ServiceManager.Services.GetService(typeof(StringParserService));
-			levelHeader.Text     = stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.ResultListControl.LevelHeader}&quot;);
-			certaintyHeader.Text = stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.ResultListControl.CertaintyHeader}&quot;);
-			ruleHeader.Text      = stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.ResultListControl.RuleHeader}&quot;);
-			itemHeader.Text      = stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.ResultListControl.ItemHeader}&quot;);
+			//levelHeader.Text     = stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.ResultListControl.LevelHeader}&quot;);
+			//certaintyHeader.Text = stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.ResultListControl.CertaintyHeader}&quot;);
+			//ruleHeader.Text      = stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.ResultListControl.RuleHeader}&quot;);
+			//itemHeader.Text      = stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.ResultListControl.ItemHeader}&quot;);
 		}
 		
 		public void ClearContents()
 		{
-			this.listView.SelectedIndexChanged -= new System.EventHandler(this.ListViewSelectedIndexChanged);
-			listView.Items.Clear();
-			this.listView.SelectedIndexChanged += new System.EventHandler(this.ListViewSelectedIndexChanged);
+			//this.listView.SelectedIndexChanged -= new System.EventHandler(this.ListViewSelectedIndexChanged);
+			//listView.Items.Clear();
+			//this.listView.SelectedIndexChanged += new System.EventHandler(this.ListViewSelectedIndexChanged);
 		}
 		
 		public void PrintReport(ArrayList resolutions)
 		{
 			try {
-				listView.BeginUpdate();
-				listView.Items.Clear();
+				//listView.Items.Clear();
 				StringParserService stringParserService = (StringParserService)ServiceManager.Services.GetService(typeof(StringParserService));
 				int cerr = 0, err = 0, cwar = 0, war = 0, inf = 0;
 				foreach (Resolution resolution in resolutions) {
@@ -104,11 +102,11 @@
 					string certainity = resolution.FailedRule.Certainty.ToString() + &quot;%&quot;;
 					string text = stringParserService.Parse(resolution.FailedRule.Description);
 					string item = stringParserService.Parse(resolution.Item);
-					ListViewItem listViewItem = new ListViewItem(new string[] {critical, type, certainity, text, item});
-					listViewItem.Font      = new Font(&quot;Arial&quot;, 9, FontStyle.Bold);
-					listViewItem.ForeColor = foreColor;
-					listViewItem.Tag = resolution;
-					listView.Items.Add(listViewItem);
+					//ListViewItem listViewItem = new ListViewItem(new string[] {critical, type, certainity, text, item});
+					//listViewItem.Font      = new Font(&quot;Arial&quot;, 9, FontStyle.Bold);
+					//listViewItem.ForeColor = foreColor;
+					//listViewItem.Tag = resolution;
+					//listView.Items.Add(listViewItem);
 					
 				}
 				IStatusBarService statusBarService = (IStatusBarService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IStatusBarService));
@@ -127,8 +125,6 @@
 				}
 			} catch (Exception e) {
 				Console.WriteLine(&quot;Got exception : &quot; + e.ToString());
-			} finally {
-				listView.EndUpdate();
 			}
 		}
 		
@@ -139,42 +135,19 @@
 		/// not be able to load this method if it was changed manually.
 		/// &lt;/summary&gt;
 		private void InitializeComponent() {
-			this.levelHeader = new System.Windows.Forms.ColumnHeader();
-			this.certaintyHeader = new System.Windows.Forms.ColumnHeader();
-			this.ruleHeader = new System.Windows.Forms.ColumnHeader();
-			this.itemHeader = new System.Windows.Forms.ColumnHeader();
-			this.criticalHeader = new System.Windows.Forms.ColumnHeader();
-			this.listView = new System.Windows.Forms.ListView();
-			this.SuspendLayout();
-			// 
-			// levelHeader
-			// 
+			//this.levelHeader = new System.Windows.Forms.ColumnHeader();
+			//this.certaintyHeader = new System.Windows.Forms.ColumnHeader();
+			//this.ruleHeader = new System.Windows.Forms.ColumnHeader();
+			//this.itemHeader = new System.Windows.Forms.ColumnHeader();
+			//this.criticalHeader = new System.Windows.Forms.ColumnHeader();
+
+			this.listView = new TreeView ();
+/*
 			this.levelHeader.Text = &quot;Level&quot;;
-			this.levelHeader.TextAlign = System.Windows.Forms.HorizontalAlignment.Center;
-			// 
-			// certaintyHeader
-			// 
 			this.certaintyHeader.Text = &quot;Certainty&quot;;
-			this.certaintyHeader.TextAlign = System.Windows.Forms.HorizontalAlignment.Right;
-			// 
-			// ruleHeader
-			// 
 			this.ruleHeader.Text = &quot;Rule&quot;;
-			this.ruleHeader.Width = 350;
-			// 
-			// itemHeader
-			// 
 			this.itemHeader.Text = &quot;Item&quot;;
-			this.itemHeader.Width = 200;
-			// 
-			// criticalHeader
-			// 
 			this.criticalHeader.Text = &quot;!&quot;;
-			this.criticalHeader.TextAlign = System.Windows.Forms.HorizontalAlignment.Center;
-			this.criticalHeader.Width = 20;
-			// 
-			// listView
-			// 
 			this.listView.Columns.AddRange(new System.Windows.Forms.ColumnHeader[] {
 						this.criticalHeader,
 						this.levelHeader,
@@ -198,30 +171,31 @@
 			this.Controls.Add(this.listView);
 			this.Name = &quot;ResultListControl&quot;;
 			this.Size = new System.Drawing.Size(572, 396);
-			this.ResumeLayout(false);
+*/
 		}
 		#endregion
 		void ListViewSelectedIndexChanged(object sender, System.EventArgs e)
 		{
-			if (resultDetailsView != null &amp;&amp; listView.SelectedItems.Count &gt; 0) {
+		/*	if (resultDetailsView != null &amp;&amp; listView.SelectedItems.Count &gt; 0) {
 				resultDetailsView.ViewResolution((Resolution)listView.SelectedItems[0].Tag);
 			}
 			listView.Focus();
+		*/
 		}
 		void ListViewItemActivate(object sender, System.EventArgs e)
 		{
-			ListViewItem item  = listView.SelectedItems[0];
-			if (item != null &amp;&amp; item.Tag != null) {
-				Resolution res = (Resolution)item.Tag;
-				IParserService parserService = (IParserService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IParserService));
-				Position position = parserService.GetPosition(res.Item.Replace('+', '.'));
+		//	ListViewItem item  = listView.SelectedItems[0];
+		//	if (item != null &amp;&amp; item.Tag != null) {
+		//		Resolution res = (Resolution)item.Tag;
+		//		IParserService parserService = (IParserService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IParserService));
+		//		Position position = parserService.GetPosition(res.Item.Replace('+', '.'));
 				
-				if (position != null &amp;&amp; position.Cu != null) {
-					IFileService fileService = (IFileService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IFileService));
-					Console.WriteLine(&quot;File name : &quot; + position.Cu.FileName);
-					fileService.JumpToFilePosition(position.Cu.FileName, Math.Max(0, position.Line - 1), Math.Max(0, position.Column - 1));
-				}
-			}
+		//		if (position != null &amp;&amp; position.Cu != null) {
+		//			IFileService fileService = (IFileService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IFileService));
+		//			Console.WriteLine(&quot;File name : &quot; + position.Cu.FileName);
+		//			fileService.JumpToFilePosition(position.Cu.FileName, Math.Max(0, position.Line - 1), Math.Max(0, position.Column - 1));
+		//		}
+		//	}
 		}
 		
 	}

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Makefile
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Makefile	2004-06-19 16:09:18 UTC (rev 1785)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Makefile	2004-06-20 01:51:45 UTC (rev 1786)
@@ -3,6 +3,10 @@
 CSC = mcs /debug
 
 REFS = \
+	-pkg:gtk-sharp \
+	-pkg:gecko-sharp \
+	/r:System.Drawing.dll \
+	/r:../../../../../build/bin/ICSharpCode.AssemblyAnalyzer.dll \
 	/r:../../../../../build/bin/MonoDevelop.Core.dll \
 	/r:../../../../../build/bin/MonoDevelop.Base.dll
 
@@ -19,4 +23,5 @@
 all: $(ASSEMBLY)
 
 $(ASSEMBLY): $(FILES)
-	$(CSC) /out:$(ASSEMBLY) /target:library $(FILES) $(REFS)
+	$(CSC) /out:$(ASSEMBLY) /target:library $(FILES) $(REFS) \
+	&amp;&amp; cp $(ASSEMBLY) ../../../../../build/bin/.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001392.html">[Monodevelop-patches-list] r1785 - trunk/MonoDevelop/src/Libraries/Gdl
</A></li>
	<LI>Next message: <A HREF="001394.html">[Monodevelop-patches-list] r1787 - in trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser: ICSharpCode.AssemblyAnalyzer ICSharpCode.AssemblyAnalyzer.AddIn
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1393">[ date ]</a>
              <a href="thread.html#1393">[ thread ]</a>
              <a href="subject.html#1393">[ subject ]</a>
              <a href="author.html#1393">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
