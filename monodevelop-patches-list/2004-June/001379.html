<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r1772 - in trunk/MonoDevelop/src: AddIns/BackendBindings/CSharpBinding AddIns/BackendBindings/CSharpBinding/Gui AddIns/BackendBindings/NemerleBinding AddIns/BackendBindings/NemerleBinding/Gui AddIns/Nunit/Commands AddIns/prj2make-sharp-lib Libraries/Gdl Libraries/MonoDevelop.Gui.Widgets Libraries/MonoDevelop.Gui.Widgets/FileSelector Libraries/MonoDevelop.Gui.Widgets/FolderDialog Main/Base Main/Base/Commands Main/Base/Commands/ProjectBrowserCommands Main/Base/Gui/Dialogs/OptionPanels Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions Main/Base/Gui/Dialogs/ReferenceDialog Main/Base/Internal/Project/Combine Main/Base/Internal/Project/Project
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1772%20-%20in%20trunk/MonoDevelop/src%3A%20AddIns/BackendBindings/CSharpBinding%20AddIns/BackendBindings/CSharpBinding/Gui%20AddIns/BackendBindings/NemerleBinding%20AddIns/BackendBindings/NemerleBinding/Gui%20AddIns/Nunit/Commands%20AddIns/prj2make-sharp-lib%20Libraries/Gdl%20Libraries/MonoDevelop.Gui.Widgets%20Libraries/MonoDevelop.Gui.Widgets/FileSelector%20Libraries/MonoDevelop.Gui.Widgets/FolderDialog%20Main/Base%20Main/Base/Commands%20Main/Base/Commands/ProjectBrowserCommands%20Main/Base/Gui/Dialogs/OptionPanels%20Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions%20Main/Base/Gui/Dialogs/ReferenceDialog%20Main/Base/Internal/Project/Combine%20Main/Base/Internal/Project/Project&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001378.html">
   <LINK REL="Next"  HREF="001380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r1772 - in trunk/MonoDevelop/src: AddIns/BackendBindings/CSharpBinding AddIns/BackendBindings/CSharpBinding/Gui AddIns/BackendBindings/NemerleBinding AddIns/BackendBindings/NemerleBinding/Gui AddIns/Nunit/Commands AddIns/prj2make-sharp-lib Libraries/Gdl Libraries/MonoDevelop.Gui.Widgets Libraries/MonoDevelop.Gui.Widgets/FileSelector Libraries/MonoDevelop.Gui.Widgets/FolderDialog Main/Base Main/Base/Commands Main/Base/Commands/ProjectBrowserCommands Main/Base/Gui/Dialogs/OptionPanels Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions Main/Base/Gui/Dialogs/ReferenceDialog Main/Base/Internal/Project/Combine Main/Base/Internal/Project/Project</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1772%20-%20in%20trunk/MonoDevelop/src%3A%20AddIns/BackendBindings/CSharpBinding%20AddIns/BackendBindings/CSharpBinding/Gui%20AddIns/BackendBindings/NemerleBinding%20AddIns/BackendBindings/NemerleBinding/Gui%20AddIns/Nunit/Commands%20AddIns/prj2make-sharp-lib%20Libraries/Gdl%20Libraries/MonoDevelop.Gui.Widgets%20Libraries/MonoDevelop.Gui.Widgets/FileSelector%20Libraries/MonoDevelop.Gui.Widgets/FolderDialog%20Main/Base%20Main/Base/Commands%20Main/Base/Commands/ProjectBrowserCommands%20Main/Base/Gui/Dialogs/OptionPanels%20Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions%20Main/Base/Gui/Dialogs/ReferenceDialog%20Main/Base/Internal/Project/Combine%20Main/Base/Internal/Project/Project&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r1772 - in trunk/MonoDevelop/src: AddIns/BackendBindings/CSharpBinding AddIns/BackendBindings/CSharpBinding/Gui AddIns/BackendBindings/NemerleBinding AddIns/BackendBindings/NemerleBinding/Gui AddIns/Nunit/Commands AddIns/prj2make-sharp-lib Libraries/Gdl Libraries/MonoDevelop.Gui.Widgets Libraries/MonoDevelop.Gui.Widgets/FileSelector Libraries/MonoDevelop.Gui.Widgets/FolderDialog Main/Base Main/Base/Commands Main/Base/Commands/ProjectBrowserCommands Main/Base/Gui/Dialogs/OptionPanels Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions Main/Base/Gui/Dialogs/ReferenceDialog Main/Base/Internal/Project/Combine Main/Base/Internal/Project/Project">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Thu Jun 17 19:01:03 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001378.html">[Monodevelop-patches-list] r1771 - trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor
</A></li>
        <LI>Next message: <A HREF="001380.html">[Monodevelop-patches-list] r1773 - trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FileSelector
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1379">[ date ]</a>
              <a href="thread.html#1379">[ thread ]</a>
              <a href="subject.html#1379">[ subject ]</a>
              <a href="author.html#1379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2004-06-17 19:01:03 -0400 (Thu, 17 Jun 2004)
New Revision: 1772

Removed:
   trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/Makefile.Prj2MakeSharp
   trunk/MonoDevelop/src/Libraries/Gdl/Makefile.Gdl
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile.MonoDevelop.Gui.Widgets
Modified:
   trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/ChangeLog
   trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Gui/OutputOptionsPanel.cs
   trunk/MonoDevelop/src/AddIns/BackendBindings/NemerleBinding/ChangeLog
   trunk/MonoDevelop/src/AddIns/BackendBindings/NemerleBinding/Gui/OutputPanel.cs
   trunk/MonoDevelop/src/AddIns/Nunit/Commands/NunitCommands.cs
   trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/ChangeLog
   trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/Makefile.am
   trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/prj2make-sharp-lib-Commands.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/ChangeLog
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FileSelector/FileSelector.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/BaseFileEntry.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FileEntry.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderDialog.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderEntry.cs
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/MonoDevelop.Gui.Widgets.prjx
   trunk/MonoDevelop/src/Main/Base/ChangeLog
   trunk/MonoDevelop/src/Main/Base/Commands/FileCommands.cs
   trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/CombineNodeCommands.cs
   trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/FolderNodeCommands.cs
   trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/ResourceFolderNodeCommands.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ExternalToolPanel.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions/DeployFileOptions.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/ReferenceDialog/AssemblyReferencePanel.cs
   trunk/MonoDevelop/src/Main/Base/Internal/Project/Combine/Combine.cs
   trunk/MonoDevelop/src/Main/Base/Internal/Project/Project/AbstractProject.cs
Log:
remove some generated makefiles
use MonoDevelop.Gui.Widgets.FileSelector everywhere
instead of Gtk.FileSelection


Modified: trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/ChangeLog
===================================================================
--- trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/ChangeLog	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/ChangeLog	2004-06-17 23:01:03 UTC (rev 1772)
@@ -1,3 +1,8 @@
+2004-06-17  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jluke at cfl.rr.com</A>&gt;
+
+	* Gui/OutputOptionsPanel.cs: Use MonoDevelop.Gui.Widgets.FileSelector
+	instead of Gtk.FileSelection
+
 2004-05-30  Lluis Sanchez Gual  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">lluis at ximian.com</A>&gt;
 
 	* Parser/Resolver.cs: Resolve base classes using a deep search in all

Modified: trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Gui/OutputOptionsPanel.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Gui/OutputOptionsPanel.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Gui/OutputOptionsPanel.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -12,6 +12,7 @@
 using MonoDevelop.Internal.Project;
 using MonoDevelop.Internal.ExternalTool;
 using MonoDevelop.Gui.Dialogs;
+using MonoDevelop.Gui.Widgets;
 using MonoDevelop.Core.Services;
 using MonoDevelop.Core.Properties;
 using MonoDevelop.Core.AddIns.Codons;
@@ -97,7 +98,7 @@
 			void SelectFolder(object sender, EventArgs e)
 			{
 				ResourceService res = (ResourceService)ServiceManager.Services.GetService (typeof (ResourceService));
-				using (FileSelection fdiag = new FileSelection (GettextCatalog.GetString (&quot;Select the directory in which the assembly will be created&quot;))) {
+				using (FileSelector fdiag = new FileSelector (GettextCatalog.GetString (&quot;Select the directory in which the assembly will be created&quot;))) {
 					if (fdiag.Run () == (int) ResponseType.Ok) {
 						outputDirectoryEntry.Text = fdiag.Filename;
 					}
@@ -108,7 +109,7 @@
 		
 			void SelectFile2(object sender, EventArgs e)
 			{
-				using (FileSelection fdiag = new FileSelection (&quot;&quot;)) {
+				using (FileSelector fdiag = new FileSelector (&quot;&quot;)) {
 					//fdiag.Filter = StringParserService.Parse(&quot;${res:SharpDevelop.FileFilter.AllFiles}|*.*&quot;);
 					fdiag.SelectMultiple = false;
 				
@@ -122,7 +123,7 @@
 			
 			void SelectFile3(object sender, EventArgs e)
 			{
-				using (FileSelection fdiag = new FileSelection (&quot;&quot;)) {
+				using (FileSelector fdiag = new FileSelector (&quot;&quot;)) {
 					//fdiag.Filter = StringParserService.Parse(&quot;${res:SharpDevelop.FileFilter.AllFiles}|*.*&quot;);
 					fdiag.SelectMultiple = false;
 				
@@ -136,7 +137,7 @@
 		
 			void SelectFile4(object sender, EventArgs e)
 			{
-				using (FileSelection fdiag = new FileSelection (&quot;&quot;)) {
+				using (FileSelector fdiag = new FileSelector (&quot;&quot;)) {
 					//fdiag.Filter = StringParserService.Parse(&quot;${res:SharpDevelop.FileFilter.AllFiles}|*.*&quot;);
 					fdiag.SelectMultiple = false;
 				

Modified: trunk/MonoDevelop/src/AddIns/BackendBindings/NemerleBinding/ChangeLog
===================================================================
--- trunk/MonoDevelop/src/AddIns/BackendBindings/NemerleBinding/ChangeLog	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/AddIns/BackendBindings/NemerleBinding/ChangeLog	2004-06-17 23:01:03 UTC (rev 1772)
@@ -1,3 +1,8 @@
+2004-06-17  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jluke at cfl.rr.com</A>&gt;
+
+	* Gui/OutputPanel.cs: use MonoDevelop.Gui.Widgets.FileSelector
+	instead of Gtk.FileSelection
+
 2004-05-25  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at sevenl.net</A>&gt;
 
 	* NemerleLanguageBinding.cs: signature change for Generate Makefile.

Modified: trunk/MonoDevelop/src/AddIns/BackendBindings/NemerleBinding/Gui/OutputPanel.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/BackendBindings/NemerleBinding/Gui/OutputPanel.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/AddIns/BackendBindings/NemerleBinding/Gui/OutputPanel.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -47,7 +47,7 @@
 			}
 			void SelectFolder(object sender, EventArgs e)			
 			{
-				using (FileSelection fdiag = new FileSelection (&quot;Output Path&quot;)) 
+				using (FileSelector fdiag = new FileSelector (&quot;Output Path&quot;)) 
 				{
 					if (fdiag.Run () == (int) ResponseType.Ok) 
 						outputPath.Text = fdiag.Filename;

Modified: trunk/MonoDevelop/src/AddIns/Nunit/Commands/NunitCommands.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Nunit/Commands/NunitCommands.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/AddIns/Nunit/Commands/NunitCommands.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -5,6 +5,7 @@
 using MonoDevelop.Core.AddIns.Codons;
 using MonoDevelop.Services;
 using MonoDevelop.Core.Services;
+using MonoDevelop.Gui.Widgets;
 
 namespace MonoDevelop.Commands
 {
@@ -14,7 +15,7 @@
 		{
 			NunitService nunitService = (NunitService) MonoDevelop.Core.Services.ServiceManager.Services.GetService (typeof (NunitService));
 
-			using (FileSelection fs = new FileSelection (&quot;Load test assembly&quot;)) {
+			using (FileSelector fs = new FileSelector (&quot;Load test assembly&quot;)) {
 				string defaultPath = Path.Combine (Environment.GetEnvironmentVariable (&quot;HOME&quot;), &quot;MonoDevelopProjects&quot;);
 				fs.Complete (defaultPath);
 

Modified: trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/ChangeLog
===================================================================
--- trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/ChangeLog	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/ChangeLog	2004-06-17 23:01:03 UTC (rev 1772)
@@ -1,3 +1,10 @@
+2004-06-17  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jluke at cfl.rr.com</A>&gt;
+
+	* Makefile.am: add reference to MonoDevelop.Gui.Widgets
+	* *.Makefile: remove generated makefile from svn
+	* prj2make-sharp-Commands.cs : use MonoDevelop.Gui.Widgets.FileSelector
+	instead of Gtk.FileSelection
+
 2004-06-14  Francisco &quot;Paco&quot; Martinez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">paco at mfcon.com</A>&gt;
 	
 	Changes to correctly specify GAC type references on imported projects from VS .NET csproj files

Deleted: trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/Makefile.Prj2MakeSharp
===================================================================
--- trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/Makefile.Prj2MakeSharp	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/Makefile.Prj2MakeSharp	2004-06-17 23:01:03 UTC (rev 1772)
@@ -1,51 +0,0 @@
-# This makefile is autogenerated by MonoDevelop
-# Do not modify this file
-
-SOURCES = \
-./AssemblyInfo.cs \
-./CsprojInfo.cs \
-./MdPrjHelper.cs \
-./MsPrjHelper.cs \
-./PrjHelper.cs \
-./PrjxInfo.cs \
-./csproj_ver2003.cs \
-./prj2make-sharp-lib-Commands.cs \
-./sharp_d_cmbx.cs \
-./sharp_d_prjx.cs
-
-SYSTEM_REFERENCES = \
-System.Xml.dll
-
-SYSTEM_REFERENCES_BUILD = $(addprefix -r:, $(SYSTEM_REFERENCES))
-
-SYSTEM_REFERENCES_CHECK = $(addsuffix .check, $(SYSTEM_REFERENCES))
-
-PROJECT_REFERENCES = \
-&quot;../../Libraries/MonoDevelop.Core/MonoDevelop.Core.dll&quot; \
-&quot;../../Main/Base/MonoDevelop.Base.dll&quot;
-
-PROJECT_REFERENCES_BUILD = $(addprefix -r:, $(PROJECT_REFERENCES))
-
-MCS_OPTIONS = 
-
-all: prj2make-sharp-lib.dll
-
-prj2make-sharp-lib.dll: $(SOURCES)
-	mcs $(MCS_OPTIONS) -target:library -out:&quot;prj2make-sharp-lib.dll&quot; $(PROJECT_REFERENCES_BUILD) $(SYSTEM_REFERENCES_BUILD) $(SOURCES) \
-	&amp;&amp; cp &quot;prj2make-sharp-lib.dll&quot; ../../build/bin
-
-clean:
-	rm -f prj2make-sharp-lib.dll
-
-depcheck: SYSTEM_depcheck
-
-SYSTEM_depcheck: $(SYSTEM_REFERENCES_CHECK)
-
-%.check:
-	@echo -n Checking for $(subst .check,,$@)...
-	@if [ ! -e `pkg-config --variable=libdir mono`/mono/1.0/$(subst .check,,$@) ]; then \
-		echo no; \
-		exit 1; \
-	else \
-		echo yes; \
-	fi

Modified: trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/Makefile.am	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/Makefile.am	2004-06-17 23:01:03 UTC (rev 1772)
@@ -6,7 +6,8 @@
 
 DLLS = $(BASE_DEPENDENCIES_LIBS) \
 	/r:../../../build/bin/MonoDevelop.Base.dll \
-	/r:../../../build/bin/MonoDevelop.Core.dll
+	/r:../../../build/bin/MonoDevelop.Core.dll \
+	/r:../../../build/bin/MonoDevelop.Gui.Widgets.dll
 
 
 FILES = \

Modified: trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/prj2make-sharp-lib-Commands.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/prj2make-sharp-lib-Commands.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/AddIns/prj2make-sharp-lib/prj2make-sharp-lib-Commands.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -4,6 +4,7 @@
 using MonoDevelop.Core.AddIns.Codons;
 using MonoDevelop.Services;
 using MonoDevelop.Core.Services;
+using MonoDevelop.Gui.Widgets;
 using MonoDevelop.Prj2Make;
 using MonoDevelop.Prj2Make.Schema.Prjx;
 using MonoDevelop.Prj2Make.Schema.Csproj;
@@ -16,14 +17,9 @@
 		
 		public override void Run()
 		{
-			using (Gtk.FileSelection fs = new Gtk.FileSelection (GettextCatalog.GetString (&quot;File to Open&quot;))) {
+			using (FileSelector fs = new FileSelector (GettextCatalog.GetString (&quot;File to Open&quot;))) {
 				bool conversionSuccessfull = false;
 				SlnMaker slnMkObj = null;
-				string defaultFolder = PropertyService.GetProperty(
-						&quot;MonoDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, 
-					System.IO.Path.Combine(System.Environment.GetEnvironmentVariable (&quot;HOME&quot;),
-						&quot;MonoDevelopProjects&quot;)).ToString();
-				fs.Complete (defaultFolder);
 				int response = fs.Run ();
 				string name = fs.Filename;
 				fs.Hide ();

Deleted: trunk/MonoDevelop/src/Libraries/Gdl/Makefile.Gdl
===================================================================
--- trunk/MonoDevelop/src/Libraries/Gdl/Makefile.Gdl	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Libraries/Gdl/Makefile.Gdl	2004-06-17 23:01:03 UTC (rev 1772)
@@ -1,53 +0,0 @@
-# This makefile is autogenerated by MonoDevelop
-# Do not modify this file
-
-SOURCES = \
-./DockObject.cs \
-./AssemblyInfo.cs \
-./DockItemBehavior.cs \
-./DockObjectFlags.cs \
-./DockParamFlags.cs \
-./Stock.cs \
-./DockPlacement.cs \
-./DockRequest.cs \
-./DockMaster.cs \
-./Dock.cs \
-./DockItem.cs \
-./DockItemGrip.cs \
-./DockPlaceholder.cs \
-./DockPaned.cs \
-./DockNotebook.cs \
-./DockedHandler.cs \
-./DetachedHandler.cs
-
-PKG_REFERENCES = \
-gtk-sharp
-
-PKG_REFERENCES_BUILD = $(addprefix -pkg:, $(PKG_REFERENCES))
-
-PKG_REFERENCES_CHECK = $(addsuffix .pkgcheck, $(PKG_REFERENCES))
-
-MCS_OPTIONS = 
-
-all: Gdl.dll
-
-Gdl.dll: $(SOURCES)
-	mcs $(MCS_OPTIONS) -target:library -out:&quot;Gdl.dll&quot; $(PKG_REFERENCES_BUILD) $(SOURCES) \
-	&amp;&amp; cp &quot;Gdl.dll&quot; ../../build/bin
-
-clean:
-	rm -f Gdl.dll
-
-depcheck: PKG_depcheck 
-
-PKG_depcheck: $(PKG_REFERENCES_CHECK)
-
-%.pkgcheck:
-	@echo -n Checking for package $(subst .pkgcheck,,$@)...
-	@if pkg-config --libs $(subst .pkgcheck,,$@) &amp;&gt; /dev/null; then \
-		echo yes; \
-	else \
-		echo no; \
-		exit 1; \
-	fi
-

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/ChangeLog
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/ChangeLog	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/ChangeLog	2004-06-17 23:01:03 UTC (rev 1772)
@@ -2,6 +2,8 @@
 
 	* FileSelector/FileSelector.cs: a thin wrapper for selecting files
 	* Makefile.am: add FileSelector
+	* FolderDialog/FileEntry.cs:
+	* FolderDialog/FolderDialog.cs: use FileSelector, remove *Sharp usings
 
 2004-06-07  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jluke at cfl.rr.com</A>&gt;
 

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FileSelector/FileSelector.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FileSelector/FileSelector.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FileSelector/FileSelector.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -41,12 +41,14 @@
 			}
 
 			// FIXME: surely there is a better way to set the dir
+			// this way is horrible
 			this.Complete (lastPath);
 
 			// Basically need to track if the directory has
 			// been changed in the simplest way possible
 			this.DirList.RowActivated += OnDirectoryChanged;
 			this.HistoryPulldown.Changed += OnOptionChanged;
+			// FIXME: tab-completion dir changes? and others?
 		}
 
 		void OnDirectoryChanged (object o, RowActivatedArgs args)
@@ -62,6 +64,7 @@
 		void UpdateLastDir ()
 		{
 			lastPath = this.SelectionText.Text;
+			// FIXME: find a way to only set this once per-dialog
 			propertyService.SetProperty (LastPathProperty, lastPath);
 		}
 	}

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/BaseFileEntry.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/BaseFileEntry.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/BaseFileEntry.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -2,8 +2,6 @@
 using System.IO;
 using Gtk;
 using Gdk;
-using GtkSharp;
-using GdkSharp;
 
 using MonoDevelop.Services;
 

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FileEntry.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FileEntry.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FileEntry.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -2,11 +2,9 @@
 using System.IO;
 using Gtk;
 using Gdk;
-using GtkSharp;
-using GdkSharp;
 
 namespace MonoDevelop.Gui.Widgets {
-	public class FileEntry : BaseFileEntry{
+	public class FileEntry : BaseFileEntry {
 
 		public FileEntry (string name) : base (name)
 		{
@@ -14,7 +12,7 @@
 		
 		protected override string ShowBrowseDialog (string name, string start_in)
 		{
-			FileSelection fd = new FileSelection (name);
+			FileSelector fd = new FileSelector (name);
 			if (start_in != null)
 				fd.Filename = start_in;
 			

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderDialog.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderDialog.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderDialog.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -8,23 +8,10 @@
 
 namespace MonoDevelop.Gui.Widgets
 {
-	public class FolderDialog : FileSelection
+	public class FolderDialog : FileSelector
 	{
-		static GLib.GType gtype;
-
-		public static new GLib.GType GType
+		public FolderDialog (string title) : base (title)
 		{
-			get
-			{
-				if (gtype == GLib.GType.Invalid)
-					gtype = RegisterGType (typeof (FolderDialog));
-				return gtype;
-			}
-		}
-
-		public FolderDialog (string title) : base (GType)
-		{
-			this.Title = title;
 			this.SelectMultiple = false;
 			this.ShowFileops = false;
 			this.FileList.Sensitive = false;

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderEntry.cs
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderEntry.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FolderDialog/FolderEntry.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -2,8 +2,6 @@
 using System.IO;
 using Gtk;
 using Gdk;
-using GtkSharp;
-using GdkSharp;
 
 namespace MonoDevelop.Gui.Widgets {
 	public class FolderEntry : BaseFileEntry {

Deleted: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile.MonoDevelop.Gui.Widgets
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile.MonoDevelop.Gui.Widgets	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile.MonoDevelop.Gui.Widgets	2004-06-17 23:01:03 UTC (rev 1772)
@@ -1,77 +0,0 @@
-# This makefile is autogenerated by MonoDevelop
-# Do not modify this file
-
-SOURCES = \
-./AssemblyInfo.cs \
-./Dock/Docker.cs \
-./Dock/DockingManager.cs \
-./DragNotebook/DragNotebook.cs \
-./FileBrowser/FileBrowser.cs \
-./FolderDialog/BaseFileEntry.cs \
-./FolderDialog/FileEntry.cs \
-./FolderDialog/FolderDialog.cs \
-./FolderDialog/FolderEntry.cs \
-./GladeWidgetExtract/GladeWidgetExtract.cs \
-./IconView/IconView.cs \
-./Navbar/Navbar.cs \
-./TabLabel/TabLabel.cs \
-./Tree/TreeNode.cs \
-./Tree/TreeNodeCollection.cs \
-./Tree/TreeView.cs
-
-PKG_REFERENCES = \
-glade-sharp \
-gtk-sharp \
-gnome-sharp
-
-PKG_REFERENCES_BUILD = $(addprefix -pkg:, $(PKG_REFERENCES))
-
-PKG_REFERENCES_CHECK = $(addsuffix .pkgcheck, $(PKG_REFERENCES))
-
-SYSTEM_REFERENCES = \
-System.Drawing.dll
-
-SYSTEM_REFERENCES_BUILD = $(addprefix -r:, $(SYSTEM_REFERENCES))
-
-SYSTEM_REFERENCES_CHECK = $(addsuffix .check, $(SYSTEM_REFERENCES))
-
-PROJECT_REFERENCES = \
-&quot;../MonoDevelop.Gui.Utils/MonoDevelop.Gui.Utils.dll&quot; \
-&quot;../MonoDevelop.Core/MonoDevelop.Core.dll&quot;
-
-PROJECT_REFERENCES_BUILD = $(addprefix -r:, $(PROJECT_REFERENCES))
-
-MCS_OPTIONS = 
-
-all: MonoDevelop.Gui.Widgets.dll
-
-MonoDevelop.Gui.Widgets.dll: $(SOURCES)
-	mcs $(MCS_OPTIONS) -target:library -out:&quot;MonoDevelop.Gui.Widgets.dll&quot; $(PKG_REFERENCES_BUILD) $(PROJECT_REFERENCES_BUILD) $(SYSTEM_REFERENCES_BUILD) $(SOURCES) \
-	&amp;&amp; cp &quot;MonoDevelop.Gui.Widgets.dll&quot; ../../build/bin
-
-clean:
-	rm -f MonoDevelop.Gui.Widgets.dll
-
-depcheck: PKG_depcheck SYSTEM_depcheck
-
-PKG_depcheck: $(PKG_REFERENCES_CHECK)
-
-%.pkgcheck:
-	@echo -n Checking for package $(subst .pkgcheck,,$@)...
-	@if pkg-config --libs $(subst .pkgcheck,,$@) &amp;&gt; /dev/null; then \
-		echo yes; \
-	else \
-		echo no; \
-		exit 1; \
-	fi
-
-SYSTEM_depcheck: $(SYSTEM_REFERENCES_CHECK)
-
-%.check:
-	@echo -n Checking for $(subst .check,,$@)...
-	@if [ ! -e `pkg-config --variable=libdir mono`/mono/1.0/$(subst .check,,$@) ]; then \
-		echo no; \
-		exit 1; \
-	else \
-		echo yes; \
-	fi

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/MonoDevelop.Gui.Widgets.prjx
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/MonoDevelop.Gui.Widgets.prjx	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/MonoDevelop.Gui.Widgets.prjx	2004-06-17 23:01:03 UTC (rev 1772)
@@ -19,6 +19,7 @@
     &lt;File name=&quot;./Tree/TreeNode.cs&quot; subtype=&quot;Code&quot; buildaction=&quot;Compile&quot; dependson=&quot;&quot; data=&quot;&quot; /&gt;
     &lt;File name=&quot;./Tree/TreeNodeCollection.cs&quot; subtype=&quot;Code&quot; buildaction=&quot;Compile&quot; dependson=&quot;&quot; data=&quot;&quot; /&gt;
     &lt;File name=&quot;./Tree/TreeView.cs&quot; subtype=&quot;Code&quot; buildaction=&quot;Compile&quot; dependson=&quot;&quot; data=&quot;&quot; /&gt;
+    &lt;File name=&quot;./FileSelector/FileSelector.cs&quot; subtype=&quot;Code&quot; buildaction=&quot;Compile&quot; dependson=&quot;&quot; data=&quot;&quot; /&gt;
   &lt;/Contents&gt;
   &lt;References&gt;
     &lt;Reference type=&quot;Gac&quot; refto=&quot;glade-sharp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f&quot; localcopy=&quot;True&quot; /&gt;

Modified: trunk/MonoDevelop/src/Main/Base/ChangeLog
===================================================================
--- trunk/MonoDevelop/src/Main/Base/ChangeLog	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Main/Base/ChangeLog	2004-06-17 23:01:03 UTC (rev 1772)
@@ -1,3 +1,16 @@
+2004-06-17  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jluke at cfl.rr.com</A>&gt;
+
+	* Commands/ProjectBrowserCommands/ResourceFolderNodeCommands.cs:
+	* Commands/ProjectBrowserCommands/FolderNodeCommands.cs:
+	* Commands/ProjectBrowserCommands/CombineNodeCommands.cs:
+	* Commands/FileCommands.cs:
+	* Gui/Dialogs/OptionPanels/ExternalToolPanel.cs:
+	* Gui/Dialogs/ReferenceDialog/AssemblyReferencePanel.cs:
+	* Internal/Project/Project/AbstractProject.cs:
+	* Internal/Project/Combine/Combine.cs:
+	* Gui/Dialogs/OptionPanels/ProjectOptions/DeployFileOptions.cs:
+	use MonoDevelop.Gui.Widgets.FileSelector instead of Gtk.FileSelection
+
 2004-06-16  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jluke at cfl.rr.com</A>&gt;
 
 	* Gui/Dialogs/NewProjectDialog.cs: guard against unauthorized

Modified: trunk/MonoDevelop/src/Main/Base/Commands/FileCommands.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Commands/FileCommands.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Main/Base/Commands/FileCommands.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -16,6 +16,7 @@
 using MonoDevelop.Services;
 using MonoDevelop.Internal.Project;
 using MonoDevelop.Gui;
+using MonoDevelop.Gui.Widgets;
 using MonoDevelop.Gui.Dialogs;
 using MonoDevelop.Gui.ErrorHandlers;
 
@@ -146,7 +147,7 @@
 						}
 					}*/
 					
-					using (Gtk.FileSelection fdiag = new Gtk.FileSelection (GettextCatalog.GetString (&quot;Save as...&quot;))) {
+					using (FileSelector fdiag = new FileSelector (GettextCatalog.GetString (&quot;Save as...&quot;))) {
 						fdiag.Filename = window.ViewContent.ContentName;
 						int response = fdiag.Run ();
 						string filename = fdiag.Filename;
@@ -190,7 +191,7 @@
 				
 				if (content.ContentName == null)
 				{
-					using (Gtk.FileSelection fdiag = new Gtk.FileSelection (GettextCatalog.GetString (&quot;Save File As...&quot;)))
+					using (FileSelector fdiag = new FileSelector (GettextCatalog.GetString (&quot;Save File As...&quot;)))
 					{
 						fdiag.Filename = System.Environment.GetEnvironmentVariable (&quot;HOME&quot;);
 						if (fdiag.Run () == (int) Gtk.ResponseType.Ok)
@@ -227,12 +228,7 @@
 		
 		public override void Run()
 		{
-			using (Gtk.FileSelection fs = new Gtk.FileSelection (GettextCatalog.GetString (&quot;File to Open&quot;))) {
-				string defaultFolder = PropertyService.GetProperty(
-						&quot;MonoDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, 
-					System.IO.Path.Combine(System.Environment.GetEnvironmentVariable (&quot;HOME&quot;),
-						&quot;MonoDevelopProjects&quot;)).ToString();
-				fs.Complete (defaultFolder);
+			using (FileSelector fs = new FileSelector (GettextCatalog.GetString (&quot;File to Open&quot;))) {
 				int response = fs.Run ();
 				string name = fs.Filename;
 				fs.Hide ();
@@ -299,12 +295,7 @@
 					}
 				}
 
-				using (Gtk.FileSelection fs = new Gtk.FileSelection (GettextCatalog.GetString (&quot;File to Open&quot;))) {
-					string defaultFolder = PropertyService.GetProperty(
-						&quot;MonoDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, 
-						System.IO.Path.Combine(System.Environment.GetEnvironmentVariable (&quot;HOME&quot;),
-							&quot;MonoDevelopProjects&quot;)).ToString();
-					fs.Complete (defaultFolder);
+				using (FileSelector fs = new FileSelector (GettextCatalog.GetString (&quot;File to Open&quot;))) {
 					int response = fs.Run ();
 					fs.Hide ();
 					string name = fs.Filename;

Modified: trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/CombineNodeCommands.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/CombineNodeCommands.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/CombineNodeCommands.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -21,6 +21,7 @@
 using MonoDevelop.Services;
 using MonoDevelop.Gui;
 using MonoDevelop.Gui.Components;
+using MonoDevelop.Gui.Widgets;
 using MonoDevelop.Internal.Project;
 using MonoDevelop.Gui.Dialogs;
 using MonoDevelop.Gui.Pads.ProjectBrowser;
@@ -96,14 +97,8 @@
 			PropertyService propertyService = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
 			
 			if (node != null) {
-				using (Gtk.FileSelection fdiag = new Gtk.FileSelection (GettextCatalog.GetString (&quot;Add a Project&quot;))) {
+				using (FileSelector fdiag = new FileSelector (GettextCatalog.GetString (&quot;Add a Project&quot;))) {
 					StringParserService stringParserService = (StringParserService)ServiceManager.Services.GetService(typeof(StringParserService));
-					string defaultFolder = propertyService.GetProperty(
-						&quot;MonoDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, 
-					System.IO.Path.Combine(System.Environment.GetEnvironmentVariable (&quot;HOME&quot;),
-						&quot;MonoDevelopProjects&quot;)).ToString();
-					
-					fdiag.Complete (defaultFolder);
 					fdiag.SelectMultiple = false;
 					if (fdiag.Run () == (int) Gtk.ResponseType.Ok) {
 						try {
@@ -143,15 +138,9 @@
 			PropertyService propertyService = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
 			
 			if (node != null) {
-				using (Gtk.FileSelection fdiag = new Gtk.FileSelection (GettextCatalog.GetString (&quot;Add a Combine&quot;))) {
+				using (FileSelector fdiag = new FileSelector (GettextCatalog.GetString (&quot;Add a Combine&quot;))) {
 					StringParserService stringParserService = (StringParserService)ServiceManager.Services.GetService(typeof(StringParserService));
 				
-					string defaultFolder = propertyService.GetProperty(
-						&quot;MonoDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, 
-					System.IO.Path.Combine(System.Environment.GetEnvironmentVariable (&quot;HOME&quot;),
-						&quot;MonoDevelopProjects&quot;)).ToString();
-					
-					fdiag.Complete (defaultFolder);
 					fdiag.SelectMultiple = false;
 					if (fdiag.Run () == (int) Gtk.ResponseType.Ok) {
 						try {

Modified: trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/FolderNodeCommands.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/FolderNodeCommands.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/FolderNodeCommands.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -19,6 +19,7 @@
 using MonoDevelop.Core.Services;
 using MonoDevelop.Services;
 using MonoDevelop.Gui;
+using MonoDevelop.Gui.Widgets;
 using MonoDevelop.Gui.Components;
 using MonoDevelop.Internal.Project;
 using MonoDevelop.Gui.Dialogs;
@@ -41,7 +42,7 @@
 			
 			AbstractBrowserNode node = (AbstractBrowserNode)browser.SelectedNode;
 			
-			using (FileSelection fdiag  = new FileSelection (GettextCatalog.GetString (&quot;Add a file&quot;))) {
+			using (FileSelector fdiag  = new FileSelector (GettextCatalog.GetString (&quot;Add a file&quot;))) {
 				fdiag.SelectMultiple = true;
 				
 				string defaultPath = node.Project.BaseDirectory;

Modified: trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/ResourceFolderNodeCommands.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/ResourceFolderNodeCommands.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Main/Base/Commands/ProjectBrowserCommands/ResourceFolderNodeCommands.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -26,6 +26,7 @@
 using MonoDevelop.Internal.Project;
 using MonoDevelop.Gui.Dialogs;
 using MonoDevelop.Gui.Pads.ProjectBrowser;
+using MonoDevelop.Gui.Widgets;
 
 using Gtk;
 using Stock = MonoDevelop.Gui.Stock;
@@ -44,7 +45,7 @@
 				
 				show_dialog:
 									
-				using (Gtk.FileSelection fs = new Gtk.FileSelection (GettextCatalog.GetString (&quot;File to Open&quot;))) {
+				using (FileSelector fs = new FileSelector (GettextCatalog.GetString (&quot;File to Open&quot;))) {
 					fs.SelectMultiple = true;
 					fs.Filename = project.BaseDirectory;
 					int response = fs.Run ();

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ExternalToolPanel.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ExternalToolPanel.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ExternalToolPanel.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -159,7 +159,7 @@
 	         
 			void browseEvent (object sender, EventArgs e)
 			{
-				using (Gtk.FileSelection fs = new Gtk.FileSelection (GettextCatalog.GetString (&quot;File to Open&quot;))) {
+				using (FileSelector fs = new FileSelector (GettextCatalog.GetString (&quot;File to Open&quot;))) {
 					int response = fs.Run ();
 					string name = fs.Filename;
 					fs.Hide ();

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions/DeployFileOptions.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions/DeployFileOptions.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ProjectOptions/DeployFileOptions.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -96,7 +96,7 @@
 			//FIXME : Finish details in this dialog.
 			void SelectScriptFileEvent(object sender, EventArgs e)
 			{
-				using (FileSelection fs = new FileSelection (GettextCatalog.GetString (&quot;Select your File&quot;))) { // Put correct title 
+				using (FileSelector fs = new FileSelector (GettextCatalog.GetString (&quot;Select your File&quot;))) { // Put correct title 
 					fs.Complete(&quot;*.txt&quot;);
 					if ( fs.Run () == (int) ResponseType.Ok) {
  						deployScriptEntry.Text = fs.SelectionEntry.Text;
@@ -107,7 +107,7 @@
 			
 			void SelectTargetFolderEvent(object sender, EventArgs e)
 			{
-				using (FileSelection fs = new FileSelection (GettextCatalog.GetString (&quot;Select the target directory&quot;))) {
+				using (FileSelector fs = new FileSelector (GettextCatalog.GetString (&quot;Select the target directory&quot;))) {
 					if ( fs.Run () == (int) ResponseType.Ok) {
 						deployTargetEntry.Text = fs.SelectionEntry.Text;
 					}

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/ReferenceDialog/AssemblyReferencePanel.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/ReferenceDialog/AssemblyReferencePanel.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/ReferenceDialog/AssemblyReferencePanel.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -11,6 +11,7 @@
 using MonoDevelop.Internal.Project;
 using MonoDevelop.Core.Services;
 using MonoDevelop.Services;
+using MonoDevelop.Gui.Widgets;
 
 using Gtk;
 
@@ -34,7 +35,7 @@
 		{
 			// FIXME: il8n the dialog name
 			StringParserService stringParserService = (StringParserService)ServiceManager.Services.GetService(typeof(StringParserService));
-			using (FileSelection fdiag = new FileSelection(GettextCatalog.GetString (&quot;Find .Net Assembly&quot;))) {
+			using (FileSelector fdiag = new FileSelector (GettextCatalog.GetString (&quot;Find .Net Assembly&quot;))) {
 			// FIXME: this should only allow dll's and exe's
 			// fdiag.Complete(&quot;*&quot;);
 				fdiag.SelectMultiple = true;

Modified: trunk/MonoDevelop/src/Main/Base/Internal/Project/Combine/Combine.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Internal/Project/Combine/Combine.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Main/Base/Internal/Project/Combine/Combine.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -25,6 +25,7 @@
 using MonoDevelop.Core.Properties;
 using MonoDevelop.Gui;
 using MonoDevelop.Gui.Components;
+using MonoDevelop.Gui.Widgets;
 
 namespace MonoDevelop.Internal.Project
 {
@@ -367,8 +368,8 @@
 		
 		public void SaveCombineAs()
 		{
-			using (Gtk.FileSelection fdiag = new Gtk.FileSelection (GettextCatalog.GetString (&quot;Save Combine As...&quot;))) {
-				fdiag.Filename = System.Environment.GetEnvironmentVariable (&quot;HOME&quot;);
+			using (FileSelector fdiag = new FileSelector (GettextCatalog.GetString (&quot;Save Combine As...&quot;))) {
+				//fdiag.Filename = System.Environment.GetEnvironmentVariable (&quot;HOME&quot;);
 				if (fdiag.Run() == (int)Gtk.ResponseType.Ok) {
 					string filename = fdiag.Filename;
 					SaveCombine(filename);

Modified: trunk/MonoDevelop/src/Main/Base/Internal/Project/Project/AbstractProject.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Internal/Project/Project/AbstractProject.cs	2004-06-17 05:11:36 UTC (rev 1771)
+++ trunk/MonoDevelop/src/Main/Base/Internal/Project/Project/AbstractProject.cs	2004-06-17 23:01:03 UTC (rev 1772)
@@ -22,6 +22,7 @@
 using MonoDevelop.Core.Services;
 using MonoDevelop.Services;
 using MonoDevelop.Gui.Components;
+using MonoDevelop.Gui.Widgets;
 
 namespace MonoDevelop.Internal.Project
 {
@@ -523,8 +524,8 @@
 		
 		public void SaveProjectAs()
 		{
-			using (Gtk.FileSelection fdiag = new Gtk.FileSelection (GettextCatalog.GetString (&quot;Save Project As...&quot;))) {
-				fdiag.Filename = System.Environment.GetEnvironmentVariable (&quot;HOME&quot;);
+			using (FileSelector fdiag = new FileSelector (GettextCatalog.GetString (&quot;Save Project As...&quot;))) {
+				//fdiag.Filename = System.Environment.GetEnvironmentVariable (&quot;HOME&quot;);
 
 				if (fdiag.Run() == (int)Gtk.ResponseType.Ok) {
 					string filename = fdiag.Filename;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001378.html">[Monodevelop-patches-list] r1771 - trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor
</A></li>
	<LI>Next message: <A HREF="001380.html">[Monodevelop-patches-list] r1773 - trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/FileSelector
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1379">[ date ]</a>
              <a href="thread.html#1379">[ thread ]</a>
              <a href="subject.html#1379">[ subject ]</a>
              <a href="author.html#1379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
