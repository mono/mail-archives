<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r1734 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: . Gui Search/DocumentIterator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1734%20-%20in%20trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor%3A%20.%20Gui%20Search/DocumentIterator&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001340.html">
   <LINK REL="Next"  HREF="001342.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r1734 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: . Gui Search/DocumentIterator</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1734%20-%20in%20trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor%3A%20.%20Gui%20Search/DocumentIterator&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r1734 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: . Gui Search/DocumentIterator">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Thu Jun 10 18:23:42 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001340.html">[Monodevelop-patches-list] r1733 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: . Gui/Dialogs
</A></li>
        <LI>Next message: <A HREF="001342.html">[Monodevelop-patches-list] r1735 - in trunk/MonoDevelop/src/AddIns/Misc: . AssemblyAnalyser AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Engine AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Rules AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Rules/DesignRules AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Rules/NamingRules AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1341">[ date ]</a>
              <a href="thread.html#1341">[ thread ]</a>
              <a href="subject.html#1341">[ subject ]</a>
              <a href="author.html#1341">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tberman
Date: 2004-06-10 18:23:41 -0400 (Thu, 10 Jun 2004)
New Revision: 1734

Added:
   trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/MonoDevelop.SourceEditor.dll.config
Modified:
   trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/ChangeLog
   trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorBuffer.cs
   trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Makefile.am
   trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Search/DocumentIterator/WholeProjectDocumentIterator.cs
Log:
cleanup dllimport


Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/ChangeLog
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/ChangeLog	2004-06-10 11:42:55 UTC (rev 1733)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/ChangeLog	2004-06-10 22:23:41 UTC (rev 1734)
@@ -1,3 +1,12 @@
+2004-06-10  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at sevenl.net</A>&gt;
+
+	* Gui/SourceEditorBuffer.cs: use the win32 dll name that gtk-sharp
+	uses for coherence.
+	* Makefile.am: properly install .dll.config
+	* MonoDevelop.SourceEditor.dll.config: new mapping file
+	* Search/DocumentIterator/WholeProjectDocumentIterator.cs: remove
+	warning
+
 2004-06-10  John BouAntoun  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jba-mono at optusnet.com.au</A>&gt;
 	* Gui/Dialogs/GotoLineNumberDialog.cs: made dialog close on pressing
 	escape key.

Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorBuffer.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorBuffer.cs	2004-06-10 11:42:55 UTC (rev 1733)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorBuffer.cs	2004-06-10 22:23:41 UTC (rev 1734)
@@ -208,7 +208,7 @@
 		}
 
 		// needed to make sure the text is valid
-		[DllImport(&quot;glib-2.0&quot;)]
+		[DllImport(&quot;libglib-2.0-0.dll&quot;)]
 		static extern bool g_utf8_validate(string text, int textLength, IntPtr end);
 		
 		public void LoadText (string text, string mime)

Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Makefile.am	2004-06-10 11:42:55 UTC (rev 1733)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Makefile.am	2004-06-10 22:23:41 UTC (rev 1734)
@@ -85,11 +85,11 @@
 	mcs $(build_sources) /debug /out:$(DLL) /t:library $(REFS) \
 	/resource:$(srcdir)/../../../../data/resources/glade/EditorBindings.glade,EditorBindings.glade \
 	/resource:$(srcdir)/../../../../data/resources/glade/texteditoraddin.glade,texteditoraddin.glade \
-	&amp;&amp; cp $(DLL) ../../../../build/bin/.
+	&amp;&amp; cp $(DLL) ../../../../build/bin/. &amp;&amp; cp $(DLL).config ../../../../build/bin/.
 
 assemblydir = $(libdir)/monodevelop/bin
-assembly_DATA = $(DLL)
+assembly_DATA = $(DLL) $(DLL).config
 
 CLEANFILES = $(DLL)
 
-EXTRA_DIST = $(FILES)
+EXTRA_DIST = $(FILES) $(DLL).config

Added: trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/MonoDevelop.SourceEditor.dll.config
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/MonoDevelop.SourceEditor.dll.config	2004-06-10 11:42:55 UTC (rev 1733)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/MonoDevelop.SourceEditor.dll.config	2004-06-10 22:23:41 UTC (rev 1734)
@@ -0,0 +1,3 @@
+&lt;configuration&gt;
+  &lt;dllmap dll=&quot;libglib-2.0-0.dll&quot; target=&quot;libglib-2.0.so.0&quot;/&gt;
+&lt;/configuration&gt;

Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Search/DocumentIterator/WholeProjectDocumentIterator.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Search/DocumentIterator/WholeProjectDocumentIterator.cs	2004-06-10 11:42:55 UTC (rev 1733)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Search/DocumentIterator/WholeProjectDocumentIterator.cs	2004-06-10 22:23:41 UTC (rev 1734)
@@ -35,7 +35,7 @@
 					return null;
 				}
 				
-				return files[curIndex].ToString();;
+				return files[curIndex].ToString();
 			}
 		}
 				


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001340.html">[Monodevelop-patches-list] r1733 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: . Gui/Dialogs
</A></li>
	<LI>Next message: <A HREF="001342.html">[Monodevelop-patches-list] r1735 - in trunk/MonoDevelop/src/AddIns/Misc: . AssemblyAnalyser AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Engine AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Rules AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Rules/DesignRules AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Rules/NamingRules AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1341">[ date ]</a>
              <a href="thread.html#1341">[ thread ]</a>
              <a href="subject.html#1341">[ subject ]</a>
              <a href="author.html#1341">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
