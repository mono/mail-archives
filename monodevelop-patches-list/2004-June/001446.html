<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r1839 - in trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser: ICSharpCode.AssemblyAnalyzer ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1839%20-%20in%20trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser%3A%20ICSharpCode.AssemblyAnalyzer%20ICSharpCode.AssemblyAnalyzer.AddIn%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001445.html">
   <LINK REL="Next"  HREF="001447.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r1839 - in trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser: ICSharpCode.AssemblyAnalyzer ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1839%20-%20in%20trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser%3A%20ICSharpCode.AssemblyAnalyzer%20ICSharpCode.AssemblyAnalyzer.AddIn%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r1839 - in trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser: ICSharpCode.AssemblyAnalyzer ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Sat Jun 26 20:39:20 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001445.html">[Monodevelop-patches-list] r1838 - in trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser: . ICSharpCode.AssemblyAnalyzer ICSharpCode.AssemblyAnalyzer/Rules/DesignRules ICSharpCode.AssemblyAnalyzer/Rules/NamingRules ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels
</A></li>
        <LI>Next message: <A HREF="001447.html">[Monodevelop-patches-list] r1840 - in trunk/MonoDevelop/src/Main/Base: . Gui/Dialogs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1446">[ date ]</a>
              <a href="thread.html#1446">[ thread ]</a>
              <a href="subject.html#1446">[ subject ]</a>
              <a href="author.html#1446">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2004-06-26 20:39:20 -0400 (Sat, 26 Jun 2004)
New Revision: 1839

Modified:
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyRuleViewControl.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/ICSharpCode.AssemblyAnalyser.Addin.prjx
   trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/ICSharpCode.AssemblyAnalyser.prjx
Log:
fix some things


Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/ICSharpCode.AssemblyAnalyser.prjx
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/ICSharpCode.AssemblyAnalyser.prjx	2004-06-26 23:14:27 UTC (rev 1838)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/ICSharpCode.AssemblyAnalyser.prjx	2004-06-27 00:39:20 UTC (rev 1839)
@@ -73,7 +73,7 @@
     &lt;File name=&quot;./Rules/DesignRules/AssemblyClsCompliantRule.cs&quot; subtype=&quot;Code&quot; buildaction=&quot;Compile&quot; dependson=&quot;&quot; data=&quot;&quot; /&gt;
   &lt;/Contents&gt;
   &lt;References&gt;
-    &lt;Reference type=&quot;Gac&quot; refto=&quot;nunit.framework, Version=2.1.4.0, Culture=neutral, PublicKeyToken=96d09a1eb7f44a77&quot; localcopy=&quot;False&quot; /&gt;
+    &lt;Reference type=&quot;Assembly&quot; refto=&quot;../../../../Main/Base/MonoDevelop.Base.dll&quot; localcopy=&quot;True&quot; /&gt;
   &lt;/References&gt;
   &lt;DeploymentInformation target=&quot;&quot; script=&quot;&quot; strategy=&quot;File&quot; /&gt;
   &lt;Configuration runwithwarnings=&quot;True&quot; name=&quot;Debug&quot;&gt;

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs	2004-06-26 23:14:27 UTC (rev 1838)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs	2004-06-27 00:39:20 UTC (rev 1839)
@@ -15,66 +15,49 @@
 {
 	public class AssemblyAnalyserControl : Frame
 	{
-		Notebook tabControl;
-		NotebookPage assembliesTabPage;
+		HPaned horiz = new HPaned ();
+		VPaned vert = new VPaned ();
 
-		VSeparator splitter;
-		VSeparator splitter2;
-
-		MonoDevelop.AssemblyAnalyser.ResultListControl resultListControl;
-		MonoDevelop.AssemblyAnalyser.AssemblyTreeControl assemblyTreeControl;
-		MonoDevelop.AssemblyAnalyser.ResultDetailsView resultDetailsView;
+		ResultListControl resultListControl;
+		AssemblyTreeControl assemblyTreeControl;
+		ResultDetailsView resultDetailsView;
 		
-		public AssemblyAnalyserControl()
+		public AssemblyAnalyserControl ()
 		{
-			InitializeComponent();
+			this.Label = &quot;Assembly Analyser Control&quot;;
+
+			this.resultDetailsView = new ResultDetailsView ();
+			this.assemblyTreeControl = new AssemblyTreeControl ();
+			this.resultListControl = new ResultListControl ();
+			
+			horiz.Add1 (assemblyTreeControl);
+			horiz.Add2 (vert);
+			
+			vert.Add1 (resultListControl);
+			vert.Add2 (resultDetailsView);
+
 			resultListControl.ResultDetailsView = resultDetailsView;
 			assemblyTreeControl.ResultListControl = resultListControl;
+			this.ShowAll ();
 		}
 		
-		public void ClearContents()
+		public void ClearContents ()
 		{
-			resultListControl.ClearContents();
-			assemblyTreeControl.ClearContents();
+			resultListControl.ClearContents ();
+			assemblyTreeControl.ClearContents ();
 		}
 		
-		public void AnalyzeAssembly(AssemblyAnalyser analyser, string fileName)
+		public void AnalyzeAssembly (AssemblyAnalyser analyser, string fileName)
 		{
-			if (File.Exists(fileName)) {
-				analyser.Analyse(fileName);
-				assemblyTreeControl.AddAssembly(fileName, analyser.Resolutions);
+			if (File.Exists (fileName)) {
+				analyser.Analyse (fileName);
+				assemblyTreeControl.AddAssembly (fileName, analyser.Resolutions);
 			}
 		}
 		
-		public void PrintAllResolutions()
+		public void PrintAllResolutions ()
 		{
-			assemblyTreeControl.PrintAllResolutions();
+			assemblyTreeControl.PrintAllResolutions ();
 		}
-		
-		private void InitializeComponent() {
-			this.Label = &quot;Assembly Analyser Control&quot;;
-			VBox vbox = new VBox ();
-
-			this.resultDetailsView = new MonoDevelop.AssemblyAnalyser.ResultDetailsView();
-			this.assemblyTreeControl = new MonoDevelop.AssemblyAnalyser.AssemblyTreeControl();
-			this.resultListControl = new MonoDevelop.AssemblyAnalyser.ResultListControl();
-			vbox.PackStart (this.resultDetailsView);
-			vbox.PackStart (this.assemblyTreeControl);
-			vbox.PackStart (this.resultListControl);
-
-			//this.assembliesTabPage = new NotebookPage();
-			this.splitter = new VSeparator ();
-			this.tabControl = new Notebook();
-			this.splitter2 = new VSeparator ();
-/*
-			this.resultListControl.Load += new System.EventHandler(this.ResultListControlLoad);
-*/
-		}
-		
-		void ResultListControlLoad(object sender, System.EventArgs e)
-		{
-			
-		}
-		
 	}
 }

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs	2004-06-26 23:14:27 UTC (rev 1838)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs	2004-06-27 00:39:20 UTC (rev 1839)
@@ -69,11 +69,11 @@
 		public void RefreshProjectAssemblies()
 		{
 			if (currentAnalyser == null) {
-				currentAnalyser = CreateRemoteAnalyser();
+				currentAnalyser = CreateRemoteAnalyser ();
 			}
 
 			IProjectService projectService = (IProjectService) ServiceManager.GetService (typeof (IProjectService));
-			ArrayList projectCombineEntries = Combine.GetAllProjects(projectService.CurrentOpenCombine);
+			ArrayList projectCombineEntries = Combine.GetAllProjects (projectService.CurrentOpenCombine);
 			assemblyAnalyserControl.ClearContents ();
 
 			foreach (ProjectCombineEntry projectEntry in projectCombineEntries) {
@@ -81,16 +81,16 @@
 				assemblyAnalyserControl.AnalyzeAssembly (currentAnalyser, outputAssembly);
 			}
 
-			assemblyAnalyserControl.PrintAllResolutions();
+			assemblyAnalyserControl.PrintAllResolutions ();
 		}
 		
-		public override void Load(string fileName)
+		public override void Load (string file)
 		{
 		}
 		
-		public override void Dispose()
+		public override void Dispose ()
 		{
-			DisposeAnalyser();
+			DisposeAnalyser ();
 			
 			IProjectService projectService = (IProjectService) ServiceManager.GetService (typeof (IProjectService));
 			projectService.StartBuild -= new EventHandler (ProjectServiceStartBuild);
@@ -98,39 +98,39 @@
 			
 			IStatusBarService statusBarService = (IStatusBarService) ServiceManager.GetService (typeof (IStatusBarService));
 			
-			statusBarService.SetMessage(GettextCatalog.GetString (&quot;Ready&quot;));
+			statusBarService.SetMessage (GettextCatalog.GetString (&quot;Ready&quot;));
 			AssemblyAnalyserViewInstance = null;
 		}
 		
 		void DisposeAnalyser()
 		{
 			currentAnalyser = null;
-			AppDomain.Unload(analyserDomain);
+			AppDomain.Unload (analyserDomain);
 			analyserDomain = null;
 		}
 		
-		void ProjectServiceStartBuild(object sender, EventArgs e)
+		void ProjectServiceStartBuild (object sender, EventArgs e)
 		{
-			assemblyAnalyserControl.ClearContents();
-			DisposeAnalyser();
+			assemblyAnalyserControl.ClearContents ();
+			DisposeAnalyser ();
 		}
 		
-		void ProjectServiceEndBuild(object sender, EventArgs e)
+		void ProjectServiceEndBuild (object sender, EventArgs e)
 		{
-			//assemblyAnalyserControl.Invoke(new ThreadStart(RefreshProjectAssemblies));
+			this.RefreshProjectAssemblies ();
 		}
 		
-		AssemblyAnalyser CreateRemoteAnalyser()
+		AssemblyAnalyser CreateRemoteAnalyser ()
 		{
-			AppDomainSetup setup = new AppDomainSetup();
-			Evidence evidence = new Evidence(AppDomain.CurrentDomain.Evidence);
+			AppDomainSetup setup = new AppDomainSetup ();
+			Evidence evidence = new Evidence (AppDomain.CurrentDomain.Evidence);
 			setup.ApplicationName = &quot;Analyser&quot;;
 			//setup.ApplicationBase = Application.StartupPath;
 
-			analyserDomain = AppDomain.CreateDomain(&quot;AnalyserDomain&quot;, evidence, setup);
-			return (AssemblyAnalyser)analyserDomain.CreateInstanceAndUnwrap(
-				typeof(AssemblyAnalyser).Assembly.FullName, 
-				typeof(AssemblyAnalyser).FullName,
+			analyserDomain = AppDomain.CreateDomain (&quot;AnalyserDomain&quot;, evidence, setup);
+			return (AssemblyAnalyser) analyserDomain.CreateInstanceAndUnwrap (
+				typeof (AssemblyAnalyser).Assembly.FullName, 
+				typeof (AssemblyAnalyser).FullName,
 				false, BindingFlags.Default,null,null,null,null,null);
 		}
 	}

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyRuleViewControl.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyRuleViewControl.cs	2004-06-26 23:14:27 UTC (rev 1838)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyRuleViewControl.cs	2004-06-27 00:39:20 UTC (rev 1839)
@@ -4,7 +4,7 @@
 //     &lt;owner name=&quot;Mike Krueger&quot; email=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">mike at icsharpcode.net</A>&quot;/&gt;
 //     &lt;version value=&quot;$version&quot;/&gt;
 // &lt;/file&gt;
-
+/*
 using System;
 using Gtk;
 
@@ -19,3 +19,4 @@
 		}
 	}
 }
+*/
\ No newline at end of file

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs	2004-06-26 23:14:27 UTC (rev 1838)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs	2004-06-27 00:39:20 UTC (rev 1839)
@@ -9,6 +9,7 @@
 using System.Collections;
 using System.IO;
 using System.Reflection;
+
 using Gtk;
 
 using MonoDevelop.Core.Services;
@@ -20,7 +21,7 @@
 	{
 		TreeStore assembliesStore;
 		TreeNode assembliesNode;
-		ResultListControl resultListControl;
+		ResultListControl resultListControl = new ResultListControl ();
 		
 		public ResultListControl ResultListControl {
 			get {
@@ -31,38 +32,17 @@
 			}
 		}
 		
-		public AssemblyTreeControl()
+		public AssemblyTreeControl ()
 		{
-			StringParserService stringParserService = (StringParserService) ServiceManager.GetService (typeof (StringParserService));
-			ClassBrowserIconsService classBrowserIconService = (ClassBrowserIconsService) ServiceManager.GetService (typeof (ClassBrowserIconsService));
-			assembliesStore = new TreeStore (typeof (string));
+			Console.WriteLine (&quot;new assembly tree control&quot;);
+			//ClassBrowserIconsService classBrowserIconService = (ClassBrowserIconsService) ServiceManager.GetService (typeof (ClassBrowserIconsService));
+			assembliesStore = new TreeStore (typeof (string), typeof (ArrayList));
 			//assemblyTreeView.ImageList = classBrowserIconService.ImageList;
 			
-			//assembliesNode = new TreeNode(stringParserService.Parse(&quot;${res:MonoDevelop.AssemblyAnalyser.AssemblyTreeControl.AssembliesNode}&quot;));
-			//assembliesNode.ImageIndex = assembliesNode.SelectedImageIndex = 0;
-			//assemblyTreeView.Nodes.Add(assembliesNode);
-			//assemblyTreeView.AfterCollapse += new TreeViewEventHandler(AssemblyTreeViewAfterCollapse);
-			//assemblyTreeView.AfterExpand += new TreeViewEventHandler(AssemblyTreeViewAfterExpand);
-			//assemblyTreeView.AfterSelect += new TreeViewEventHandler(AssemblyTreeViewAfterSelect);
+			assembliesStore.AppendValues (&quot;AssembliesNode&quot;);
 			this.Selection.Changed += AssemblyTreeViewSelectionChanged;
 		}
 		
-/*		
-		void AssemblyTreeViewAfterCollapse(object sender, TreeViewEventArgs e)
-		{
-			if (e.Node == assembliesNode) {
-				assembliesNode.ImageIndex = assembliesNode.SelectedImageIndex = 0;
-			}
-		}
-
-		void AssemblyTreeViewAfterExpand(object sender, TreeViewEventArgs e)
-		{
-			if (e.Node == assembliesNode) {
-				assembliesNode.ImageIndex = assembliesNode.SelectedImageIndex = 1;
-			}
-		}
-*/
-		
 		void AssemblyTreeViewSelectionChanged (object sender, EventArgs e)
 		{
 			TreeIter iter;
@@ -81,15 +61,25 @@
 		public void PrintAllResolutions ()
 		{
 			ArrayList allResolutions = new ArrayList ();
-			//foreach (TreeNode node in assembliesNode.Nodes) {
-			//	allResolutions.AddRange((ArrayList)node.Tag);
-			//}
+			TreeIter current;
+			
+			if (assembliesStore.GetIterFirst (out current))
+			{
+				// first one is always just the label I think
+				// allResolutions.AddRange ((ArrayList) assembliesStore.GetValue (current, 1));
+				
+				while (assembliesStore.IterNext (ref current))
+				{
+					assembliesStore.IterNext (ref current);
+			 		allResolutions.AddRange ((ArrayList) assembliesStore.GetValue (current, 1));
+				}
+			}
+			
 			this.resultListControl.PrintReport (allResolutions);
 		}
 		
 		public void ClearContents()
 		{
-			//Console.WriteLine(&quot;CLEAR CONTENTS&quot;);
 			assembliesStore.Clear ();
 		}
 		

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs	2004-06-26 23:14:27 UTC (rev 1838)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs	2004-06-27 00:39:20 UTC (rev 1839)
@@ -8,6 +8,7 @@
 using System;
 using System.IO;
 using System.Drawing;
+
 using Gtk;
 using Gecko;
 
@@ -43,45 +44,51 @@
 		void HtmlControlBeforeNavigate(object sender, OpenUriArgs e)
 		{
 			e.RetVal = true;
-			Console.WriteLine(&quot; &gt;{0}&lt; &quot;, e.AURI);
-			if (e.AURI.StartsWith(&quot;<A HREF="help://types/&quot;">help://types/&quot;</A>)) {
+			//Console.WriteLine (&quot; &gt;{0}&lt; &quot;, e.AURI);
+			if (e.AURI.StartsWith (&quot;<A HREF="help://types/&quot;">help://types/&quot;</A>)) {
 				string typeName = e.AURI.Substring(&quot;<A HREF="help://types/&quot;.Length">help://types/&quot;.Length</A>);
-				//HelpBrowser helpBrowser = (HelpBrowser)WorkbenchSingleton.Workbench.GetPad(typeof(HelpBrowser));
-				//helpBrowser.ShowHelpFromType(typeName);
-			} else if (e.AURI.StartsWith(&quot;<A HREF="help://gotocause&quot;">help://gotocause&quot;</A>)) {
-				GotoCurrentCause();
+				//HelpBrowser helpBrowser = (HelpBrowser) WorkbenchSingleton.Workbench.GetPad (typeof (HelpBrowser));
+				//helpBrowser.ShowHelpFromType (typeName);
+			} else if (e.AURI.StartsWith (&quot;<A HREF="help://gotocause&quot;">help://gotocause&quot;</A>)) {
+				GotoCurrentCause ();
 			}
 		}
 		
-		public void ClearContents()
+		public void ClearContents ()
 		{
 			this.Html = &quot;&lt;HTML&gt;&lt;BODY&gt;&lt;/BODY&gt;&lt;/HTML&gt;&quot;;
 		}
 		
-		void GotoCurrentCause()
+		void GotoCurrentCause ()
 		{
+			Console.WriteLine (&quot;GotoCurrentCause&quot;);
+			/*
 			IParserService parserService = (IParserService) ServiceManager.GetService (typeof (IParserService));
-			//Position position = parserService.GetPosition(currentResolution.Item.Replace('+', '.'));
+			Position position = parserService.GetPosition (currentResolution.Item.Replace ('+', '.'));
 			
-			//if (position != null &amp;&amp; position.Cu != null) {
-			//	IFileService fileService = (IFileService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IFileService));
-			//	fileService.JumpToFilePosition(position.Cu.FileName, Math.Max(0, position.Line - 1), Math.Max(0, position.Column - 1));
-			//}
+			if (position != null &amp;&amp; position.Cu != null) {
+				IFileService fileService = (IFileService)MonoDevelop.Core.Services.ServiceManager.GetService (typeof (IFileService));
+				fileService.JumpToFilePosition (position.Cu.FileName, Math.Max (0, position.Line - 1), Math.Max (0, position.Column - 1));
+			}
+			*/
 		}
 		
-		bool CanGoto(Resolution res)
+		bool CanGoto (Resolution res)
 		{
+			Console.WriteLine (&quot;CanGoto&quot;);
+			return false;
+		/*
 			IParserService parserService = (IParserService) ServiceManager.GetService (typeof (IParserService));
-			//Position position = parserService.GetPosition(res.Item.Replace('+', '.'));
-			//return position != null &amp;&amp; position.Cu != null;
-			return false; //FIXME
+			Position position = parserService.GetPosition (res.Item.Replace ('+', '.'));
+			return position != null &amp;&amp; position.Cu != null;
+		*/
 		}
 		
 		public void ViewResolution (Resolution resolution)
 		{
 			this.currentResolution = resolution;
-			StringParserService stringParserService = (StringParserService) ServiceManager.GetService (typeof (StringParserService));
 			
+			this.Html = &quot;&lt;html&gt;&lt;body&gt;asdf test&lt;/body&gt;&lt;/html&gt;&quot;;
 			/*this.Html = @&quot;&lt;HTML&gt;&lt;BODY ID='bodyID' CLASS='dtBODY'&gt;
 			&lt;DIV ID='nstext'&gt;
 			&lt;DL&gt;&quot; + stringParserService.Parse(resolution.FailedRule.Description)  + @&quot;&lt;/DL&gt;

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs	2004-06-26 23:14:27 UTC (rev 1838)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs	2004-06-27 00:39:20 UTC (rev 1839)
@@ -8,6 +8,7 @@
 using System;
 using System.Collections;
 using System.Drawing;
+
 using Gtk;
 
 using MonoDevelop.Core.Services;
@@ -30,9 +31,9 @@
 			}
 		}
 		
-		public ResultListControl()
+		public ResultListControl ()
 		{
-			StringParserService stringParserService = (StringParserService) ServiceManager.GetService(typeof(StringParserService));
+			Console.WriteLine (&quot;new result list control&quot;);
 			store = new ListStore (typeof (string), typeof (string), typeof (string), typeof (string), typeof (string), typeof (Resolution));
 			this.AppendColumn (&quot;Level&quot;, new CellRendererText (), &quot;text&quot;, 0);
 			this.AppendColumn (&quot;Certainty&quot;, new CellRendererText (), &quot;text&quot;, 1);
@@ -42,16 +43,15 @@
 			this.HeadersVisible = true;
 		}
 		
-		public void ClearContents()
+		public void ClearContents ()
 		{
 			store.Clear ();
 		}
 		
-		public void PrintReport(ArrayList resolutions)
+		public void PrintReport (ArrayList resolutions)
 		{
 			try {
-				store.Clear();
-				StringParserService stringParserService = (StringParserService) ServiceManager.GetService (typeof (StringParserService));
+				store.Clear ();
 				int cerr = 0, err = 0, cwar = 0, war = 0, inf = 0;
 				foreach (Resolution resolution in resolutions) {
 					string critical = String.Empty;
@@ -87,11 +87,10 @@
 							break;
 					}
 
-					string certainity = resolution.FailedRule.Certainty.ToString() + &quot;%&quot;;
-					string text = stringParserService.Parse(resolution.FailedRule.Description);
-					string item = stringParserService.Parse(resolution.Item);
+					string certainity = resolution.FailedRule.Certainty.ToString () + &quot;%&quot;;
+					string text = resolution.FailedRule.Description;
+					string item = resolution.Item;
 					store.AppendValues (critical, type, certainity, text, item, resolution);
-					
 				}
 
 				IStatusBarService statusBarService = (IStatusBarService) ServiceManager.GetService (typeof (IStatusBarService));
@@ -101,7 +100,7 @@
 					statusBarService.SetMessage (String.Format (GettextCatalog.GetString (&quot;Total:{0} Critical:{1} Errors:{2} Warnings:{3} Info:{4}&quot;), resolutions.Count.ToString (), cerr.ToString (), err.ToString (), cwar.ToString (), war.ToString (), inf.ToString ()));
 				}
 			} catch (Exception e) {
-				Console.WriteLine(&quot;Got exception : &quot; + e.ToString());
+				Console.WriteLine(&quot;Got exception : &quot; + e.ToString ());
 			}
 		}
 		
@@ -115,23 +114,27 @@
 				resultDetailsView.ViewResolution ((Resolution) model.GetValue (iter, 5));
 			}
 
-			//this.GrabFocus ();
+			this.GrabFocus ();
 		}
 
 		void ListViewItemActivated (object sender, RowActivatedArgs e)
 		{
-		//	ListViewItem item  = listView.SelectedItems[0];
-		//	if (item != null &amp;&amp; item.Tag != null) {
-		//		Resolution res = (Resolution)item.Tag;
-		//		IParserService parserService = (IParserService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IParserService));
-		//		Position position = parserService.GetPosition(res.Item.Replace('+', '.'));
+			Console.WriteLine (&quot;item activated&quot;);
+		/*
+			TreeIter iter;
+			if ()
+			{
+				Resolution res = (Resolution) model.GetValue (iter, 5);
+				IParserService parserService = (IParserService) ServiceManager.GetService (typeof (IParserService));
+				Position position = parserService.GetPosition (res.Item.Replace ('+', '.'));
 				
-		//		if (position != null &amp;&amp; position.Cu != null) {
-		//			IFileService fileService = (IFileService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IFileService));
-		//			Console.WriteLine(&quot;File name : &quot; + position.Cu.FileName);
-		//			fileService.JumpToFilePosition(position.Cu.FileName, Math.Max(0, position.Line - 1), Math.Max(0, position.Column - 1));
-		//		}
-		//	}
+				if (position != null &amp;&amp; position.Cu != null) {
+					IFileService fileService = (IFileService)MonoDevelop.Core.Services.ServiceManager.Services.GetService(typeof(IFileService));
+					Console.WriteLine(&quot;File name : &quot; + position.Cu.FileName);
+					fileService.JumpToFilePosition(position.Cu.FileName, Math.Max(0, position.Line - 1), Math.Max(0, position.Column - 1));
+				}
+			}
+		*/
 		}
 	}
 }

Modified: trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/ICSharpCode.AssemblyAnalyser.Addin.prjx
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/ICSharpCode.AssemblyAnalyser.Addin.prjx	2004-06-26 23:14:27 UTC (rev 1838)
+++ trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/ICSharpCode.AssemblyAnalyser.Addin.prjx	2004-06-27 00:39:20 UTC (rev 1839)
@@ -10,7 +10,6 @@
     &lt;File name=&quot;./Gui/Panels/ResultListControl.cs&quot; subtype=&quot;Code&quot; buildaction=&quot;Compile&quot; dependson=&quot;&quot; data=&quot;&quot; /&gt;
     &lt;File name=&quot;./Gui/Panels/ResultDetailsView.cs&quot; subtype=&quot;Code&quot; buildaction=&quot;Compile&quot; dependson=&quot;&quot; data=&quot;&quot; /&gt;
     &lt;File name=&quot;./AssemblyAnalyser.addin.xml&quot; subtype=&quot;Code&quot; buildaction=&quot;Nothing&quot; dependson=&quot;&quot; data=&quot;&quot; /&gt;
-    &lt;File name=&quot;./Gui/Panels/AssemblyRuleViewControl.cs&quot; subtype=&quot;Code&quot; buildaction=&quot;Compile&quot; dependson=&quot;&quot; data=&quot;&quot; /&gt;
   &lt;/Contents&gt;
   &lt;References&gt;
     &lt;Reference type=&quot;Assembly&quot; refto=&quot;../../../../Libraries/MonoDevelop.Core/MonoDevelop.Core.dll&quot; localcopy=&quot;True&quot; /&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001445.html">[Monodevelop-patches-list] r1838 - in trunk/MonoDevelop/src/AddIns/Misc/AssemblyAnalyser: . ICSharpCode.AssemblyAnalyzer ICSharpCode.AssemblyAnalyzer/Rules/DesignRules ICSharpCode.AssemblyAnalyzer/Rules/NamingRules ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels
</A></li>
	<LI>Next message: <A HREF="001447.html">[Monodevelop-patches-list] r1840 - in trunk/MonoDevelop/src/Main/Base: . Gui/Dialogs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1446">[ date ]</a>
              <a href="thread.html#1446">[ thread ]</a>
              <a href="subject.html#1446">[ subject ]</a>
              <a href="author.html#1446">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
