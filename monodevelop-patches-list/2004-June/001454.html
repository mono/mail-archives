<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r1847 - in trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser: . ICSharpCode.AssemblyAnalyzer/Engine ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1847%20-%20in%20trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser%3A%20.%20ICSharpCode.AssemblyAnalyzer/Engine%20ICSharpCode.AssemblyAnalyzer.AddIn%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001453.html">
   <LINK REL="Next"  HREF="001455.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r1847 - in trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser: . ICSharpCode.AssemblyAnalyzer/Engine ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1847%20-%20in%20trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser%3A%20.%20ICSharpCode.AssemblyAnalyzer/Engine%20ICSharpCode.AssemblyAnalyzer.AddIn%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui%20ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r1847 - in trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser: . ICSharpCode.AssemblyAnalyzer/Engine ICSharpCode.AssemblyAnalyzer.AddIn ICSharpCode.AssemblyAnalyzer.AddIn/Gui ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Sun Jun 27 12:59:54 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001453.html">[Monodevelop-patches-list] r1846 - trunk/MonoDevelop
</A></li>
        <LI>Next message: <A HREF="001455.html">[Monodevelop-patches-list] r1848 - in trunk/MonoDevelop/Core: . build/AddIns/AddIns/BackendBindings src/AddIns/Misc/Sonata
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1454">[ date ]</a>
              <a href="thread.html#1454">[ thread ]</a>
              <a href="subject.html#1454">[ subject ]</a>
              <a href="author.html#1454">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2004-06-27 12:59:54 -0400 (Sun, 27 Jun 2004)
New Revision: 1847

Added:
   trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ChangeLog
   trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/README
Modified:
   trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Commands.cs
   trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs
   trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs
   trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs
   trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs
   trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs
   trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Engine/AssemblyAnalyser.cs
   trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Engine/Resolution.cs
Log:
flush these changes


Added: trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ChangeLog
===================================================================

Modified: trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Engine/AssemblyAnalyser.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Engine/AssemblyAnalyser.cs	2004-06-27 04:10:17 UTC (rev 1846)
+++ trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Engine/AssemblyAnalyser.cs	2004-06-27 16:59:54 UTC (rev 1847)
@@ -12,27 +12,24 @@
 
 namespace MonoDevelop.AssemblyAnalyser
 {
-	/// &lt;summary&gt;
-	/// Description of AssemblyAnalyser.	
-	/// &lt;/summary&gt;
 	public class AssemblyAnalyser : System.MarshalByRefObject
 	{
-		ArrayList assemblyRules    = new ArrayList();
-		ArrayList moduleRules      = new ArrayList();
-		ArrayList typeRules        = new ArrayList();
-		ArrayList namespaceRules   = new ArrayList();
-		ArrayList memberRules      = new ArrayList();
-		ArrayList methodBaseRules  = new ArrayList();
-		ArrayList constructorRules = new ArrayList();
-		ArrayList eventRules       = new ArrayList();
-		ArrayList fieldRules       = new ArrayList();
-		ArrayList methodRules      = new ArrayList();
-		ArrayList parameterRules   = new ArrayList();
-		ArrayList propertyRules    = new ArrayList();
+		ArrayList assemblyRules    = new ArrayList ();
+		ArrayList moduleRules      = new ArrayList ();
+		ArrayList typeRules        = new ArrayList ();
+		ArrayList namespaceRules   = new ArrayList ();
+		ArrayList memberRules      = new ArrayList ();
+		ArrayList methodBaseRules  = new ArrayList ();
+		ArrayList constructorRules = new ArrayList ();
+		ArrayList eventRules       = new ArrayList ();
+		ArrayList fieldRules       = new ArrayList ();
+		ArrayList methodRules      = new ArrayList ();
+		ArrayList parameterRules   = new ArrayList ();
+		ArrayList propertyRules    = new ArrayList ();
 		
-		ArrayList resolutions      = new ArrayList();
+		ArrayList resolutions      = new ArrayList ();
 		
-		Hashtable namespaces       = new Hashtable();
+		Hashtable namespaces       = new Hashtable ();
 		
 		public ArrayList Resolutions {
 			get {
@@ -42,80 +39,85 @@
 		
 		public AssemblyAnalyser()
 		{
-			
-			Type[] types = typeof(AssemblyAnalyser).Assembly.GetTypes();
+			Type[] types = typeof (AssemblyAnalyser).Assembly.GetTypes ();
 			foreach (Type type in types) {
 				if (!type.IsAbstract &amp;&amp; type.IsClass) {
 					if (type.GetInterface(typeof(IAssemblyRule).FullName) != null) {
  						assemblyRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(IConstructorRule).FullName) != null) {
+					} else if (type.GetInterface (typeof (IConstructorRule).FullName) != null) {
 						constructorRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(IEventRule).FullName) != null) {
+					} else if (type.GetInterface (typeof (IEventRule).FullName) != null) {
 						eventRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(IFieldRule).FullName) != null) {
+					} else if (type.GetInterface (typeof (IFieldRule).FullName) != null) {
 						fieldRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(IMemberRule).FullName) != null) {
+					} else if (type.GetInterface (typeof (IMemberRule).FullName) != null) {
 						memberRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(IMethodBaseRule).FullName) != null) {
+					} else if (type.GetInterface (typeof (IMethodBaseRule).FullName) != null) {
 						methodBaseRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(IMethodRule).FullName) != null) {
+					} else if (type.GetInterface (typeof (IMethodRule).FullName) != null) {
 						methodRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(IModuleRule).FullName) != null) {
+					} else if (type.GetInterface (typeof (IModuleRule).FullName) != null) {
 						moduleRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(INamespaceRule).FullName) != null) {
+					} else if (type.GetInterface (typeof (INamespaceRule).FullName) != null) {
 						namespaceRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(IParameterRule).FullName) != null) {
+					} else if (type.GetInterface (typeof (IParameterRule).FullName) != null) {
 						parameterRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(IPropertyRule).FullName) != null) {
+					} else if (type.GetInterface (typeof (IPropertyRule).FullName) != null) {
 						propertyRules.Add(type.Assembly.CreateInstance(type.FullName));
-					} else if (type.GetInterface(typeof(ITypeRule).FullName) != null) {
-						typeRules.Add(type.Assembly.CreateInstance(type.FullName));
+					} else if (type.GetInterface (typeof (ITypeRule).FullName) != null) {
+						typeRules.Add(type.Assembly.CreateInstance (type.FullName));
 					}
 				}
 			}
 		}
 		
-		void AddResolutions(Resolution resolution)
+		void AddResolutions (Resolution resolution)
 		{
 			if (resolution != null) {
-				resolutions.Add(resolution);
+				resolutions.Add (resolution);
 			}
 		}
 		
-		public void Analyse(string fileName)
+		public void Analyse (string fileName)
 		{
 			Assembly assembly = null;
+			
 			try {
-				assembly = Assembly.LoadFrom(fileName);
+				assembly = Assembly.LoadFrom (fileName);
 			} catch (Exception e) {
-				resolutions.Add(new Resolution(new CustomRule(&quot;${res:MonoDevelop.AssemblyAnalyser.AssemblyCantBeLoaded.Description}&quot;,
-				                                              &quot;${res:MonoDevelop.AssemblyAnalyser.AssemblyCantBeLoaded.Details}&quot;, PriorityLevel.CriticalError, 100), 
-				                               &quot;${res:MonoDevelop.AssemblyAnalyser.AssemblyCantBeLoaded.Resolution}&quot;,
+				resolutions.Add (new Resolution (new CustomRule (&quot;Assembly cannot be loaded.&quot;,
+				                                              &quot;Assembly cannot be loaded details. &quot;, PriorityLevel.CriticalError, 100), 
+				                               &quot;Assembly cannot be loaded resolution.&quot;,
 				                               fileName,
 				                               new string[,] { { &quot;FileName&quot;, fileName }, {&quot;ExceptionMessage&quot;, e.Message}}));
 				return;
 			}
-			Analyse(assembly);
+			
+			Analyse (assembly);
 		}
 		
-		public void Analyse(Module module, Type type)
+		public void Analyse (Module module, Type type)
 		{
-			if (type.IsSpecialName || !(Char.IsLetter(type.Name[0]) || type.Name[0] == '_')) {
+			if (type.IsSpecialName || !(Char.IsLetter (type.Name[0]) || type.Name[0] == '_')) {
 				return;
 			}
+			
 			string ns = type.Namespace == null ? &quot;&quot; : type.Namespace;
+			
 			if (namespaces[ns] == null) {
 				namespaces[ns] = new ArrayList();
 			}
-			((ArrayList)namespaces[ns]).Add(type);
 			
+			((ArrayList) namespaces[ns]).Add (type);
+			
 			foreach (ITypeRule typeRule in typeRules) {
-				AddResolutions(typeRule.Check(type));
+				AddResolutions (typeRule.Check (type));
 			}
 			
-			foreach (Type nestedType in type.GetNestedTypes()) {
-				Analyse(module, nestedType);
+			foreach (Type nestedType in type.GetNestedTypes ()) {
+				Analyse (module, nestedType);
 			}
+			
 			BindingFlags bf = BindingFlags.DeclaredOnly |
 			                  BindingFlags.Public |
 			                  BindingFlags.NonPublic |
@@ -125,37 +127,37 @@
 			
 			foreach (MemberInfo memberInfo in type.GetMembers(bf)) {
 				foreach (IMemberRule memberRule in memberRules) {
-					AddResolutions(memberRule.Check(module, memberInfo));
+					AddResolutions (memberRule.Check (module, memberInfo));
 				}
 			}
 			
 			foreach (ConstructorInfo constructorInfo in type.GetConstructors(bf)) {
 				if (!constructorInfo.IsSpecialName) {
 					// search parameters
-					foreach (ParameterInfo parameter in constructorInfo.GetParameters()) {
+					foreach (ParameterInfo parameter in constructorInfo.GetParameters ()) {
 						foreach (IParameterRule parameterRule in parameterRules) {
-							AddResolutions(parameterRule.Check(module, parameter));
+							AddResolutions (parameterRule.Check (module, parameter));
 						}
 					}
 					
 					foreach (IConstructorRule constructorRule in constructorRules) {
-						AddResolutions(constructorRule.Check(constructorInfo));
+						AddResolutions (constructorRule.Check (constructorInfo));
 					}
 				}
 			}
 			
-			foreach (EventInfo eventInfo in type.GetEvents(bf)) {
+			foreach (EventInfo eventInfo in type.GetEvents (bf)) {
 				if (!eventInfo.IsSpecialName) {
 					foreach (IEventRule eventRule in eventRules) {
-						AddResolutions(eventRule.Check(eventInfo));
+						AddResolutions (eventRule.Check (eventInfo));
 					}
 				}
 			}
 			
-			foreach (FieldInfo fieldInfo in type.GetFields(bf)) {
+			foreach (FieldInfo fieldInfo in type.GetFields (bf)) {
 				if (!fieldInfo.IsSpecialName) {
 					foreach (IFieldRule fieldRule in fieldRules) {
-						AddResolutions(fieldRule.Check(module, fieldInfo));
+						AddResolutions (fieldRule.Check (module, fieldInfo));
 					}
 				}
 			}
@@ -163,17 +165,17 @@
 			// TODO: IMethodBaseRule
 			foreach (MethodInfo methodInfo in type.GetMethods(bf)) {
 				if (!methodInfo.IsSpecialName) {
-					Console.WriteLine(methodInfo.Attributes);
+					//Console.WriteLine (methodInfo.Attributes);
 				
 					// search parameters
 					foreach (ParameterInfo parameter in methodInfo.GetParameters()) {
 						foreach (IParameterRule parameterRule in parameterRules) {
-							AddResolutions(parameterRule.Check(module, parameter));
+							AddResolutions (parameterRule.Check (module, parameter));
 						}
 					}
 					
 					foreach (IMethodRule methodRule in methodRules) {
-						AddResolutions(methodRule.Check(module, methodInfo));
+						AddResolutions (methodRule.Check (module, methodInfo));
 					}
 				}
 			}
@@ -181,31 +183,33 @@
 			foreach (PropertyInfo propertyInfo in type.GetProperties(bf)) {
 				if (!propertyInfo.IsSpecialName) {
 					foreach (IPropertyRule propertyRule in propertyRules) {
-						AddResolutions(propertyRule.Check(propertyInfo));
+						AddResolutions (propertyRule.Check (propertyInfo));
 					}
 				}
 			}
 		}
-		public void Analyse(Assembly assembly)
+		
+		public void Analyse (Assembly assembly)
 		{
-			namespaces = new Hashtable();
-			resolutions = new ArrayList();
+			namespaces = new Hashtable ();
+			resolutions = new ArrayList ();
+			
 			foreach (IAssemblyRule assemblyRule in assemblyRules) {
-				AddResolutions(assemblyRule.Check(assembly));
+				AddResolutions (assemblyRule.Check (assembly));
 			}
 			
-			foreach (Module module in assembly.GetModules()) {
+			foreach (Module module in assembly.GetModules ()) {
 				foreach (IModuleRule moduleRule in moduleRules) {
-					AddResolutions(moduleRule.Check(module));
+					AddResolutions (moduleRule.Check (module));
 				}
-				foreach (Type type in module.GetTypes()) {
-					Analyse(module, type);
+				foreach (Type type in module.GetTypes ()) {
+					Analyse (module, type);
 				}
 			}
 			
 			foreach (DictionaryEntry namespaceEntry in namespaces) {
 				foreach (INamespaceRule namespaceRule in namespaceRules) {
-					AddResolutions(namespaceRule.Check(namespaceEntry.Key.ToString(), (ArrayList)namespaceEntry.Value));
+					AddResolutions (namespaceRule.Check (namespaceEntry.Key.ToString (), (ArrayList) namespaceEntry.Value));
 				}
 			}
 		}

Modified: trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Engine/Resolution.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Engine/Resolution.cs	2004-06-27 04:10:17 UTC (rev 1846)
+++ trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer/Engine/Resolution.cs	2004-06-27 16:59:54 UTC (rev 1847)
@@ -9,10 +9,7 @@
 using MonoDevelop.AssemblyAnalyser.Rules;
 
 namespace MonoDevelop.AssemblyAnalyser
-{
-	/// &lt;/summary&gt;
-	/// &lt;summary&gt;
-	/// Description of Resolution.	
+{	
 	public class Resolution : System.MarshalByRefObject
 	{
 		IRule  failedRule;
@@ -41,14 +38,14 @@
 			}
 		}
 		
-		public Resolution(IRule failedRule, string text, string item)
+		public Resolution (IRule failedRule, string text, string item)
 		{
 			this.failedRule = failedRule;
 			this.text = text;
 			this.item = item;
 		}
 		
-		public Resolution(IRule failedRule, string text, string item, string[,] variables)
+		public Resolution (IRule failedRule, string text, string item, string[,] variables)
 		{
 			this.failedRule = failedRule;
 			this.text = text;

Modified: trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Commands.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Commands.cs	2004-06-27 04:10:17 UTC (rev 1846)
+++ trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Commands.cs	2004-06-27 16:59:54 UTC (rev 1847)
@@ -15,12 +15,12 @@
 {
 	public class ShowAssemblyAnalyser : AbstractMenuCommand
 	{
-		public override void Run()
+		public override void Run ()
 		{
 			if (AssemblyAnalyserView.AssemblyAnalyserViewInstance == null) {
-				WorkbenchSingleton.Workbench.ShowView(new AssemblyAnalyserView());
+				WorkbenchSingleton.Workbench.ShowView (new AssemblyAnalyserView ());
 			} else {
-				AssemblyAnalyserView.AssemblyAnalyserViewInstance.WorkbenchWindow.SelectWindow();
+				AssemblyAnalyserView.AssemblyAnalyserViewInstance.WorkbenchWindow.SelectWindow ();
 			}
 		}
 	}

Modified: trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs	2004-06-27 04:10:17 UTC (rev 1846)
+++ trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserControl.cs	2004-06-27 16:59:54 UTC (rev 1847)
@@ -24,8 +24,6 @@
 		
 		public AssemblyAnalyserControl ()
 		{
-			this.Label = &quot;Assembly Analyser Control&quot;;
-
 			this.resultDetailsView = new ResultDetailsView ();
 			this.assemblyTreeControl = new AssemblyTreeControl ();
 			this.resultListControl = new ResultListControl ();

Modified: trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs	2004-06-27 04:10:17 UTC (rev 1846)
+++ trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/AssemblyAnalyserView.cs	2004-06-27 16:59:54 UTC (rev 1847)
@@ -117,7 +117,8 @@
 		
 		void ProjectServiceEndBuild (object sender, EventArgs e)
 		{
-			this.RefreshProjectAssemblies ();
+			Console.WriteLine (&quot;refresh assemblies&quot;);
+			//this.RefreshProjectAssemblies ();
 		}
 		
 		AssemblyAnalyser CreateRemoteAnalyser ()

Modified: trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs	2004-06-27 04:10:17 UTC (rev 1846)
+++ trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/AssemblyTreeControl.cs	2004-06-27 16:59:54 UTC (rev 1847)
@@ -20,8 +20,7 @@
 	public class AssemblyTreeControl : TreeView
 	{
 		TreeStore assembliesStore;
-		TreeNode assembliesNode;
-		ResultListControl resultListControl = new ResultListControl ();
+		ResultListControl resultListControl;
 		
 		public ResultListControl ResultListControl {
 			get {
@@ -34,12 +33,12 @@
 		
 		public AssemblyTreeControl ()
 		{
-			Console.WriteLine (&quot;new assembly tree control&quot;);
 			//ClassBrowserIconsService classBrowserIconService = (ClassBrowserIconsService) ServiceManager.GetService (typeof (ClassBrowserIconsService));
 			assembliesStore = new TreeStore (typeof (string), typeof (ArrayList));
 			//assemblyTreeView.ImageList = classBrowserIconService.ImageList;
 			
 			assembliesStore.AppendValues (&quot;AssembliesNode&quot;);
+			this.Model = assembliesStore;
 			this.Selection.Changed += AssemblyTreeViewSelectionChanged;
 			this.Show ();
 		}
@@ -86,6 +85,7 @@
 		
 		public void AnalyzeAssembly (AssemblyAnalyser current, string output)
 		{
+			Console.WriteLine (&quot;analyze assembly called&quot;);
 		}
 		
 		public void AddAssembly (string assemblyFileName, ArrayList resolutions)

Modified: trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs	2004-06-27 04:10:17 UTC (rev 1846)
+++ trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultDetailsView.cs	2004-06-27 16:59:54 UTC (rev 1847)
@@ -10,39 +10,36 @@
 using System.Drawing;
 
 using Gtk;
-using Gecko;
 
 using MonoDevelop.Gui;
 using MonoDevelop.Core;
 using MonoDevelop.Services;
-using MonoDevelop.BrowserDisplayBinding;
-using MonoDevelop.Gui.HtmlControl;
 using MonoDevelop.Core.Services;
 using MonoDevelop.AssemblyAnalyser.Rules;
 using MonoDevelop.Gui.Pads;
 
 namespace MonoDevelop.AssemblyAnalyser
 {
-	// it might be better to display with some simple
-	// labels, or even a DrawingArea
-	public class ResultDetailsView : MozillaControl
+	public class ResultDetailsView : Frame
 	{
 		Resolution  currentResolution;
+		Label title = new Label ();
+		Label desc = new Label ();
+		Label details = new Label ();
 
 		public ResultDetailsView()
 		{
-			Console.WriteLine (&quot;new result details view&quot;);
-			PropertyService propertyService = (PropertyService) ServiceManager.GetService (typeof (PropertyService));
-			//htmlControl.CascadingStyleSheet = propertyService.DataDirectory + Path.DirectorySeparatorChar +
-			//                                  &quot;resources&quot; + Path.DirectorySeparatorChar +
-			//                                  &quot;css&quot; + Path.DirectorySeparatorChar +
-			//                                  &quot;MsdnHelp.css&quot;;
+			VBox vbox = new VBox ();
 			
-			ClearContents();
-			this.OpenUri += new OpenUriHandler (HtmlControlBeforeNavigate);
-			this.Show ();
+			vbox.PackStart (title);
+			vbox.PackStart (desc);
+			vbox.PackStart (details);
+			
+			this.Add (vbox);
+			this.ShowAll ();
 		}
 		
+		/*
 		void HtmlControlBeforeNavigate(object sender, OpenUriArgs e)
 		{
 			e.RetVal = true;
@@ -55,10 +52,13 @@
 				GotoCurrentCause ();
 			}
 		}
+		*/
 		
 		public void ClearContents ()
 		{
-			this.Html = &quot;&lt;HTML&gt;&lt;BODY&gt;&lt;/BODY&gt;&lt;/HTML&gt;&quot;;
+			title.Text = &quot;&quot;;
+			desc.Text = &quot;&quot;;
+			details.Text = &quot;&quot;;
 		}
 		
 		void GotoCurrentCause ()
@@ -90,7 +90,7 @@
 		{
 			this.currentResolution = resolution;
 			
-			this.Html = &quot;&lt;html&gt;&lt;body&gt;asdf test&lt;/body&gt;&lt;/html&gt;&quot;;
+			this.title.Text = resolution.FailedRule.Description;
 			/*this.Html = @&quot;&lt;HTML&gt;&lt;BODY ID='bodyID' CLASS='dtBODY'&gt;
 			&lt;DIV ID='nstext'&gt;
 			&lt;DL&gt;&quot; + stringParserService.Parse(resolution.FailedRule.Description)  + @&quot;&lt;/DL&gt;

Modified: trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs	2004-06-27 04:10:17 UTC (rev 1846)
+++ trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/ICSharpCode.AssemblyAnalyzer.AddIn/Gui/Panels/ResultListControl.cs	2004-06-27 16:59:54 UTC (rev 1847)
@@ -33,12 +33,12 @@
 		
 		public ResultListControl ()
 		{
-			Console.WriteLine (&quot;new result list control&quot;);
 			store = new ListStore (typeof (string), typeof (string), typeof (string), typeof (string), typeof (string), typeof (Resolution));
-			this.AppendColumn (&quot;Level&quot;, new CellRendererText (), &quot;text&quot;, 0);
-			this.AppendColumn (&quot;Certainty&quot;, new CellRendererText (), &quot;text&quot;, 1);
-			this.AppendColumn (&quot;Rule&quot;, new CellRendererText (), &quot;text&quot;, 2);
-			this.AppendColumn (&quot;Item&quot;, new CellRendererText (), &quot;text&quot;, 3);
+			this.AppendColumn (&quot;!&quot;, new CellRendererText (), &quot;text&quot;, 0);
+			this.AppendColumn (&quot;Level&quot;, new CellRendererText (), &quot;text&quot;, 1);
+			this.AppendColumn (&quot;Certainty&quot;, new CellRendererText (), &quot;text&quot;, 2);
+			this.AppendColumn (&quot;Rule&quot;, new CellRendererText (), &quot;text&quot;, 3);
+			this.AppendColumn (&quot;Item&quot;, new CellRendererText (), &quot;text&quot;, 4);
 			this.Model = store;
 			this.HeadersVisible = true;
 			this.Show ();
@@ -91,9 +91,12 @@
 					string certainity = resolution.FailedRule.Certainty.ToString () + &quot;%&quot;;
 					string text = resolution.FailedRule.Description;
 					string item = resolution.Item;
+					Console.WriteLine (&quot;appending resolution&quot;);
 					store.AppendValues (critical, type, certainity, text, item, resolution);
 				}
 
+				this.Model = store;
+
 				IStatusBarService statusBarService = (IStatusBarService) ServiceManager.GetService (typeof (IStatusBarService));
 				if (resolutions.Count == 0) {
 					statusBarService.SetMessage (GettextCatalog.GetString (&quot;No defects found.&quot;));

Added: trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/README
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/README	2004-06-27 04:10:17 UTC (rev 1846)
+++ trunk/MonoDevelop/Core/src/AddIns/Misc/AssemblyAnalyser/README	2004-06-27 16:59:54 UTC (rev 1847)
@@ -0,0 +1,4 @@
+
+This is a port of SharpDevelop's AssemblyAnalyzer to MonoDevelop.  It offers
+similar functionality to FxCop on Windows.
+


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001453.html">[Monodevelop-patches-list] r1846 - trunk/MonoDevelop
</A></li>
	<LI>Next message: <A HREF="001455.html">[Monodevelop-patches-list] r1848 - in trunk/MonoDevelop/Core: . build/AddIns/AddIns/BackendBindings src/AddIns/Misc/Sonata
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1454">[ date ]</a>
              <a href="thread.html#1454">[ thread ]</a>
              <a href="subject.html#1454">[ subject ]</a>
              <a href="author.html#1454">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
