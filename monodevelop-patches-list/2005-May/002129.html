<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r2529 - in trunk/MonoDevelop: .	Core/src/AddIns/BackendBindings/CSharpBinding	Core/src/AddIns/BackendBindings/ILAsmBinding	Core/src/AddIns/BackendBindings/NemerleBinding	Core/src/AddIns/BackendBindings/VBNetBinding	Core/src/AddIns/BackendBindings/VBNetBinding/SharpRefactoryVB	Core/src/AddIns/DebuggerAddIn	Core/src/AddIns/DisplayBindings/SourceEditor	Core/src/AddIns/prj2make-sharp-lib	Core/src/ICSharpCode.SharpAssembly	Core/src/ICSharpCode.SharpRefactory Core/src/MonoDevelop.Base	Core/src/MonoDevelop.Core Core/src/MonoDevelop.Dock	Core/src/MonoDevelop.Gui.Utils	Core/src/MonoDevelop.Gui.Widgets Core/src/MonoDevelop.Startup	Core/src/Tools/dbgen Core/src/Tools/mdhost Extras/BooBinding	Extras/JavaBinding Extras/MonoDeveloperExtensions	Extras/MonoQuery Unused/AddInManager build/data/resources/css	build/data/resources/icons contrib
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2529%20-%20in%20trunk/MonoDevelop%3A%20.%0A%09Core/src/AddIns/BackendBindings/CSharpBinding%0A%09Core/src/AddIns/BackendBindings/ILAsmBinding%0A%09Core/src/AddIns/BackendBindings/NemerleBinding%0A%09Core/src/AddIns/BackendBindings/VBNetBinding%0A%09Core/src/AddIns/BackendBindings/VBNetBinding/SharpRefactoryVB%0A%09Core/src/AddIns/DebuggerAddIn%0A%09Core/src/AddIns/DisplayBindings/SourceEditor%0A%09Core/src/AddIns/prj2make-sharp-lib%0A%09Core/src/ICSharpCode.SharpAssembly%0A%09Core/src/ICSharpCode.SharpRefactory%20Core/src/MonoDevelop.Base%0A%09Core/src/MonoDevelop.Core%20Core/src/MonoDevelop.Dock%0A%09Core/src/MonoDevelop.Gui.Utils%0A%09Core/src/MonoDevelop.Gui.Widgets%20Core/src/MonoDevelop.Startup%0A%09Core/src/Tools/dbgen%20Core/src/Tools/mdhost%20Extras/BooBinding%0A%09Extras/JavaBinding%20Extras/MonoDeveloperExtensions%0A%09Extras/MonoQuery%20Unused/AddInManager%20build/data/resources/css%0A%09build/data/resources/icons%20contrib&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002128.html">
   <LINK REL="Next"  HREF="002130.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r2529 - in trunk/MonoDevelop: .	Core/src/AddIns/BackendBindings/CSharpBinding	Core/src/AddIns/BackendBindings/ILAsmBinding	Core/src/AddIns/BackendBindings/NemerleBinding	Core/src/AddIns/BackendBindings/VBNetBinding	Core/src/AddIns/BackendBindings/VBNetBinding/SharpRefactoryVB	Core/src/AddIns/DebuggerAddIn	Core/src/AddIns/DisplayBindings/SourceEditor	Core/src/AddIns/prj2make-sharp-lib	Core/src/ICSharpCode.SharpAssembly	Core/src/ICSharpCode.SharpRefactory Core/src/MonoDevelop.Base	Core/src/MonoDevelop.Core Core/src/MonoDevelop.Dock	Core/src/MonoDevelop.Gui.Utils	Core/src/MonoDevelop.Gui.Widgets Core/src/MonoDevelop.Startup	Core/src/Tools/dbgen Core/src/Tools/mdhost Extras/BooBinding	Extras/JavaBinding Extras/MonoDeveloperExtensions	Extras/MonoQuery Unused/AddInManager build/data/resources/css	build/data/resources/icons contrib</H1>
    <B>Ben Maurer &lt;benm@mono-cvs.ximian.com&gt;</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2529%20-%20in%20trunk/MonoDevelop%3A%20.%0A%09Core/src/AddIns/BackendBindings/CSharpBinding%0A%09Core/src/AddIns/BackendBindings/ILAsmBinding%0A%09Core/src/AddIns/BackendBindings/NemerleBinding%0A%09Core/src/AddIns/BackendBindings/VBNetBinding%0A%09Core/src/AddIns/BackendBindings/VBNetBinding/SharpRefactoryVB%0A%09Core/src/AddIns/DebuggerAddIn%0A%09Core/src/AddIns/DisplayBindings/SourceEditor%0A%09Core/src/AddIns/prj2make-sharp-lib%0A%09Core/src/ICSharpCode.SharpAssembly%0A%09Core/src/ICSharpCode.SharpRefactory%20Core/src/MonoDevelop.Base%0A%09Core/src/MonoDevelop.Core%20Core/src/MonoDevelop.Dock%0A%09Core/src/MonoDevelop.Gui.Utils%0A%09Core/src/MonoDevelop.Gui.Widgets%20Core/src/MonoDevelop.Startup%0A%09Core/src/Tools/dbgen%20Core/src/Tools/mdhost%20Extras/BooBinding%0A%09Extras/JavaBinding%20Extras/MonoDeveloperExtensions%0A%09Extras/MonoQuery%20Unused/AddInManager%20build/data/resources/css%0A%09build/data/resources/icons%20contrib&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r2529 - in trunk/MonoDevelop: .	Core/src/AddIns/BackendBindings/CSharpBinding	Core/src/AddIns/BackendBindings/ILAsmBinding	Core/src/AddIns/BackendBindings/NemerleBinding	Core/src/AddIns/BackendBindings/VBNetBinding	Core/src/AddIns/BackendBindings/VBNetBinding/SharpRefactoryVB	Core/src/AddIns/DebuggerAddIn	Core/src/AddIns/DisplayBindings/SourceEditor	Core/src/AddIns/prj2make-sharp-lib	Core/src/ICSharpCode.SharpAssembly	Core/src/ICSharpCode.SharpRefactory Core/src/MonoDevelop.Base	Core/src/MonoDevelop.Core Core/src/MonoDevelop.Dock	Core/src/MonoDevelop.Gui.Utils	Core/src/MonoDevelop.Gui.Widgets Core/src/MonoDevelop.Startup	Core/src/Tools/dbgen Core/src/Tools/mdhost Extras/BooBinding	Extras/JavaBinding Extras/MonoDeveloperExtensions	Extras/MonoQuery Unused/AddInManager build/data/resources/css	build/data/resources/icons contrib">benm at mono-cvs.ximian.com
       </A><BR>
    <I>Sun May 15 14:54:27 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002128.html">[Monodevelop-patches-list] r2528 - in	trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding:	. Gui Parser Parser/SharpDevelopTree SharpRefactoryVB	SharpRefactoryVB/src SharpRefactoryVB/src/CSharpConverter	SharpRefactoryVB/src/Lexer SharpRefactoryVB/src/Lexer/Reader	SharpRefactoryVB/src/Lexer/Specials SharpRefactoryVB/src/Parser/AST	SharpRefactoryVB/src/Parser/AST/Expressions	SharpRefactoryVB/src/Parser/AST/GlobalScope	SharpRefactoryVB/src/Parser/AST/Statements	SharpRefactoryVB/src/Parser/AST/TypeLevel	SharpRefactoryVB/src/Parser/generated	SharpRefactoryVB/src/Parser/generated/keywordlist templates
</A></li>
        <LI>Next message: <A HREF="002130.html">[Monodevelop-patches-list] r2530 - trunk/MonoDevelop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2129">[ date ]</a>
              <a href="thread.html#2129">[ thread ]</a>
              <a href="subject.html#2129">[ subject ]</a>
              <a href="author.html#2129">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: benm
Date: 2005-05-15 14:54:27 -0400 (Sun, 15 May 2005)
New Revision: 2529

Modified:
   trunk/MonoDevelop/ChangeLog
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/ILAsmBinding/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/NemerleBinding/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/SharpRefactoryVB/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/DebuggerAddIn/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/prj2make-sharp-lib/Makefile.am
   trunk/MonoDevelop/Core/src/ICSharpCode.SharpAssembly/Makefile.am
   trunk/MonoDevelop/Core/src/ICSharpCode.SharpRefactory/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Core/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Startup/Makefile.am
   trunk/MonoDevelop/Core/src/Tools/dbgen/Makefile.am
   trunk/MonoDevelop/Core/src/Tools/mdhost/Makefile.am
   trunk/MonoDevelop/Extras/BooBinding/Makefile.am
   trunk/MonoDevelop/Extras/JavaBinding/Makefile.am
   trunk/MonoDevelop/Extras/MonoDeveloperExtensions/Makefile.am
   trunk/MonoDevelop/Extras/MonoQuery/Makefile.am
   trunk/MonoDevelop/Makefile.am
   trunk/MonoDevelop/Unused/AddInManager/Makefile.am
   trunk/MonoDevelop/build/data/resources/css/Makefile.am
   trunk/MonoDevelop/build/data/resources/icons/Makefile.am
   trunk/MonoDevelop/configure.in
   trunk/MonoDevelop/contrib/Makefile.am
   trunk/MonoDevelop/monodevelop.in
Log:
2005-05-15  Ben Maurer  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">bmaurer at ximian.com</A>&gt;

	* configure.in, */Makefile.am:
	    - Use prefix/lib ratehr than libdir to clean up amd64
	    packaging
	    - Don't use gnome_prefix for installing stuff, just put it in
	    the normal install prefix. If you install MD to a prefix, you
	    will have to add your prefix to XDG_DATA_DIRS, just like you
	    need to modify your PATH.
	    - Allow people to disable update-mime-database (for packagers)
	    - Misc. Makefile cleanups



Modified: trunk/MonoDevelop/ChangeLog
===================================================================
--- trunk/MonoDevelop/ChangeLog	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/ChangeLog	2005-05-15 18:54:27 UTC (rev 2529)
@@ -1,3 +1,15 @@
+2005-05-15  Ben Maurer  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">bmaurer at ximian.com</A>&gt;
+
+	* configure.in, */Makefile.am:
+	    - Use prefix/lib ratehr than libdir to clean up amd64
+	    packaging
+	    - Don't use gnome_prefix for installing stuff, just put it in
+	    the normal install prefix. If you install MD to a prefix, you
+	    will have to add your prefix to XDG_DATA_DIRS, just like you
+	    need to modify your PATH.
+	    - Allow people to disable update-mime-database (for packagers)
+	    - Misc. Makefile cleanups
+
 2005-05-06  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
 
 	* AUTHORS: mv here from Core/AUTHORS

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -94,7 +94,7 @@
 run-parse-test: $(PARSE)
 	MONO_PATH=../../../../../build/AddIns/BackendBindings/:../../../../../build/bin/ mono $(PARSE) .
 
-csharpbindinglibdir = $(libdir)/monodevelop/AddIns/BackendBindings
+csharpbindinglibdir = $(MD_ADDIN_DIR)/BackendBindings
 csharpbindinglib_DATA = $(ASSEMBLY) $(ADDIN)
 
 templatesdir = $(csharpbindinglibdir)/templates

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/ILAsmBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/ILAsmBinding/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/ILAsmBinding/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -25,7 +25,7 @@
 
 build_TEMPLATES = $(addprefix $(TEMPLATES_DIR)/,$(TEMPLATES))
 
-assemblydir = $(libdir)/monodevelop/AddIns/BackendBindings
+assemblydir = $(MD_ADDIN_DIR)/BackendBindings
 assembly_DATA = $(ASSEMBLY) $(ADDIN)
 
 templatesdir = $(assemblydir)/templates

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/NemerleBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/NemerleBinding/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/NemerleBinding/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -49,7 +49,7 @@
 	$(CSC) $(DLLS) $(build_sources) -out:$@ -target:library \
 	-resource:$(srcdir)/Nemerle.glade,Nemerle.glade
 
-assemblydir = $(libdir)/monodevelop/AddIns/BackendBindings/
+assemblydir = $(MD_ADDIN_DIR)/BackendBindings/
 assembly_DATA = $(ASSEMBLY) $(ADDIN)
 
 templatedir = $(assemblydir)/templates

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -73,7 +73,7 @@
 		-resource:$(srcdir)/VB.glade,VB.glade \
 		$(build_sources)
 
-vbnetbindinglibdir = $(libdir)/monodevelop/AddIns/BackendBindings
+vbnetbindinglibdir = $(MD_ADDIN_DIR)/BackendBindings
 vbnetbindinglib_DATA = $(ASSEMBLY) $(ADDIN)
 
 templatesdir = $(vbnetbindinglibdir)/templates/

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/SharpRefactoryVB/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/SharpRefactoryVB/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding/SharpRefactoryVB/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -121,7 +121,7 @@
 run : test-parser.exe
 	@ MONO_PATH=`dirname $(DLL)` $(RUNTIME) test-parser.exe $(TEST_SOURCE)
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(DLL)
 
 CLEANFILES = $(DLL) $(DLL).mdb

Modified: trunk/MonoDevelop/Core/src/AddIns/DebuggerAddIn/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DebuggerAddIn/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/AddIns/DebuggerAddIn/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -43,7 +43,7 @@
 	$(CSC) -debug -out:$@ -target:library \
 	$(build_sources) $(DLLS)
 
-assemblydir = $(libdir)/monodevelop/AddIns/DebuggerAddIn
+assemblydir = $(MD_ADDIN_DIR)/DebuggerAddIn
 assembly_DATA = $(ASSEMBLY) $(ASSEMBLY).mdb $(ADDIN)
 
 CLEANFILES = $(ASSEMBLY) $(ASSEMBLY).mdb

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -99,10 +99,10 @@
 	-resource:$(srcdir)/texteditoraddin.glade,texteditoraddin.glade \
 	&amp;&amp; cp $(CONFIG) $(top_builddir)/build/bin/.
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(DLL) $(CONFIG)
 
-addindir = $(libdir)/monodevelop/AddIns
+addindir = $(MD_ADDIN_DIR)
 addin_DATA = $(ADDIN)
 
 CLEANFILES = $(DLL) $(DLL).mdb

Modified: trunk/MonoDevelop/Core/src/AddIns/prj2make-sharp-lib/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/prj2make-sharp-lib/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/AddIns/prj2make-sharp-lib/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -34,7 +34,7 @@
 	mkdir -p $(ADDIN_BUILD)
 	$(CSC) -out:$@ -target:library $(build_sources) $(DLLS)
 
-assemblydir = $(libdir)/monodevelop/AddIns
+assemblydir = $(MD_ADDIN_DIR)
 assembly_DATA = $(ASSEMBLY) $(ADDIN)
 
 CLEANFILES = $(ASSEMBLY) $(ASSEMBLY).mdb

Modified: trunk/MonoDevelop/Core/src/ICSharpCode.SharpAssembly/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/ICSharpCode.SharpAssembly/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/ICSharpCode.SharpAssembly/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -73,7 +73,7 @@
 $(DLL): $(build_sources)
 	$(CSC) -out:$@ -target:library $(build_sources)
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(DLL)
   
 CLEANFILES = $(DLL) $(DLL).mdb

Modified: trunk/MonoDevelop/Core/src/ICSharpCode.SharpRefactory/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/ICSharpCode.SharpRefactory/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/ICSharpCode.SharpRefactory/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -137,7 +137,7 @@
 run-mcs-tests: $(TEST)
 	MONO_PATH=../../../build/bin mono $(TEST) ../../../../mcs/tests
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(DLL)
 
 CLEANFILES = $(DLL) $(DLL).mdb $(TEST)

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -497,13 +497,13 @@
 Services/StockIcons.cs : ./Services/process-icons.pl ../../../build/data/resources/icons
 	perl  -x$(srcdir)/../../../build/data/resources/icons -w $(srcdir)/./Services/process-icons.pl &gt; $(srcdir)/Services/StockIcons.cs
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(ASSEMBLY) $(CONFIG)
 
-addindir = $(libdir)/monodevelop/AddIns
+addindir = $(MD_ADDIN_DIR)
 addin_DATA = $(ADDIN)
 
-optionsdir = $(libdir)/monodevelop/data/options
+optionsdir = $(MD_DIR)/data/options
 options_DATA = $(OPTIONS)
 
 CLEANFILES = $(ASSEMBLY) $(ASSEMBLY).mdb $(build_OPTIONS)

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Core/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Core/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Core/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -70,7 +70,7 @@
 $(DLL): $(build_sources) $(build_resources)
 	$(CSC) -out:$@ -target:library $(REFS) $(build_sources)
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(DLL)
 
 CLEANFILES = $(DLL) $(DLL).mdb

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -12,7 +12,7 @@
 	-resource:$(srcdir)/stock-menu-left-12.png,stock-menu-left-12.png \
 	-resource:$(srcdir)/stock-menu-right-12.png,stock-menu-right-12.png
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(DOCK)
 
 REFS = $(GTK_SHARP_LIBS) $(GLADE_SHARP_LIBS)

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -21,7 +21,7 @@
 $(DLL): $(build_sources)
 	$(CSC) -out:$@ /target:library $(REFERENCES) $(build_sources)
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(DLL)
 
 CLEANFILES = $(DLL) $(DLL).mdb

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -58,7 +58,7 @@
 $(DLL): $(build_sources)
 	$(CSC) -out:$@ -target:library $(REFERENCES) $(build_sources)
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(DLL)
   
 CLEANFILES = $(DLL) $(DLL).mdb

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Startup/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Startup/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Startup/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -25,7 +25,7 @@
 $(ASSEMBLY).config: $(ASSEMBLY) $(srcdir)/app.config
 	cp $(srcdir)/app.config $(ASSEMBLY).config
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(ASSEMBLY) $(ASSEMBLY).config
 
 CLEANFILES = $(ASSEMBLY) $(ASSEMBLY).mdb

Modified: trunk/MonoDevelop/Core/src/Tools/dbgen/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/Tools/dbgen/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/Tools/dbgen/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -11,7 +11,7 @@
 $(ASSEMBLY): $(build_sources)
 	$(CSC) $(build_sources) $(REFS) -out:$@
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(ASSEMBLY)           
 
 CLEANFILES = $(ASSEMBLY) $(ASSEMBLY).mdb

Modified: trunk/MonoDevelop/Core/src/Tools/mdhost/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/Tools/mdhost/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Core/src/Tools/mdhost/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -14,7 +14,7 @@
 	$(CSC) $(build_sources) $(REFS) /out:$(ASSEMBLY) \
 	&amp;&amp; cp $(ASSEMBLY) $(top_builddir)/build/bin/.
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(ASSEMBLY)           
 
 CLEANFILES = $(ASSEMBLY) $(ASSEMBLY).mdb

Modified: trunk/MonoDevelop/Extras/BooBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Extras/BooBinding/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Extras/BooBinding/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -93,7 +93,7 @@
 	$(BOOC) $(BOOSHELL_DLLS) $(booshell_build_sources) -o:$@ -t:library
 
 if ENABLE_BOO
-assemblydir = $(libdir)/monodevelop/AddIns/BackendBindings
+assemblydir = $(MD_ADDIN_DIR)/BackendBindings
 assembly_DATA = $(ASSEMBLY) $(ADDIN) $(BOOSHELL_LIB)
 
 templatedir = $(assemblydir)/templates

Modified: trunk/MonoDevelop/Extras/JavaBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/Extras/JavaBinding/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Extras/JavaBinding/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -71,7 +71,7 @@
 	$(CSC) $(DLLS) $(build_sources) -out:$@ -target:library
 
 if ENABLE_JAVA
-assemblydir = $(libdir)/monodevelop/AddIns/BackendBindings
+assemblydir = $(MD_ADDIN_DIR)/BackendBindings
 assembly_DATA = $(ASSEMBLY) $(ADDIN)
 
 templatedir = $(assemblydir)/templates

Modified: trunk/MonoDevelop/Extras/MonoDeveloperExtensions/Makefile.am
===================================================================
--- trunk/MonoDevelop/Extras/MonoDeveloperExtensions/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Extras/MonoDeveloperExtensions/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -37,6 +37,6 @@
 
 include $(top_srcdir)/Makefile.include
 
-MonoDeveloperExtensionsdir = $(libdir)/monodevelop/AddIns/MonoDeveloperExtensions
+MonoDeveloperExtensionsdir = $(MD_ADDIN_DIR)/MonoDeveloperExtensions
 MonoDeveloperExtensions_DATA = $(DLL) $(ADDIN_BUILD)/$(ADDIN)
 

Modified: trunk/MonoDevelop/Extras/MonoQuery/Makefile.am
===================================================================
--- trunk/MonoDevelop/Extras/MonoQuery/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Extras/MonoQuery/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -75,6 +75,6 @@
 
 EXTRA_DIST = $(FILES) $(ADDIN) $(SQLITE_FILES)
 
-monoquerydir = $(libdir)/monodevelop/AddIns/MonoQuery
+monoquerydir = $(MD_ADDIN_DIR)/MonoQuery
 monoquery_DATA = $(DLL) $(ADDIN_BUILD)/$(ADDIN)
 

Modified: trunk/MonoDevelop/Makefile.am
===================================================================
--- trunk/MonoDevelop/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -4,28 +4,30 @@
 
 all:
 
-gnome_data = @gnome_prefix@/share
-
-desktopdir = $(gnome_data)/applications
+desktopdir = $(datadir)/applications
 desktop_DATA = monodevelop.desktop
 
-pixmapdir = $(gnome_data)/pixmaps
+pixmapdir = $(datadir)/pixmaps
 pixmap_DATA = monodevelop.png
 
-# need to respect $XDG_DATA_DIR probably
-xdgmimedir = $(gnome_data)/mime/packages
+xdgmimedir = $(datadir)/mime/packages
 xdgmime_DATA = monodevelop.xml
 
 pkgconfig_in_files = monodevelop.pc.in
-pkgconfigdir= $(libdir)/pkgconfig
+
+pkgconfigdir= $(prefix)/lib/pkgconfig
 pkgconfig_DATA = $(pkgconfig_in_files:.pc.in=.pc)
 
+if ENABLE_UPDATE_MIMEDB
+
 install-data-hook:
-	$(UPDATE_MIME_DB) $(gnome_data)/mime
+	$(UPDATE_MIME_DB) $(DESTDIR)$(datadir)/mime
 
 uninstall-hook:
-	$(UPDATE_MIME_DB) $(gnome_data)/mime
+	$(UPDATE_MIME_DB) $(DESTDIR)$(datadir)/mime
 
+endif # ENABLE_UPDATE_MIMEDB
+
 run: runmd
 
 runmd: $(PROGRAM)

Modified: trunk/MonoDevelop/Unused/AddInManager/Makefile.am
===================================================================
--- trunk/MonoDevelop/Unused/AddInManager/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/Unused/AddInManager/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -12,7 +12,7 @@
 Commands/ShowDialog.cs \
 Gui/AddInManagerDialog.cs
 
-addindir = $(libdir)/monodevelop/AddIns
+addindir = $(MD_ADDIN_DIR)
 addin_DATA = $(ADDIN) $(ASSEMBLY)
 
 all: $(ASSEMBLY)

Modified: trunk/MonoDevelop/build/data/resources/css/Makefile.am
===================================================================
--- trunk/MonoDevelop/build/data/resources/css/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/build/data/resources/css/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -1,6 +1,5 @@
 
-monodevelopdir = $(libdir)/monodevelop
-cssdir = $(monodevelopdir)/data/resources/css
+cssdir = $(MD_DIR)/data/resources/css
 
 css_DATA = MsdnHelp.css SharpDevelopStandard.css
 

Modified: trunk/MonoDevelop/build/data/resources/icons/Makefile.am
===================================================================
--- trunk/MonoDevelop/build/data/resources/icons/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/build/data/resources/icons/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -1,6 +1,5 @@
 
-monodevelopdir = $(libdir)/monodevelop
-iconsdir = $(monodevelopdir)/data/resources/icons
+iconsdir = $(MD_DIR)/data/resources/icons
 
 icons_DATA = BooBinding.Base \
 Boo.File.EmptyFile \

Modified: trunk/MonoDevelop/configure.in
===================================================================
--- trunk/MonoDevelop/configure.in	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/configure.in	2005-05-15 18:54:27 UTC (rev 2529)
@@ -130,22 +130,6 @@
 MOZILLA_HOME=&quot;`$PKG_CONFIG --variable=libdir mozilla-gtkmozembed`&quot;
 AC_SUBST(MOZILLA_HOME)
 
-gnome_prefix=&quot;`$PKG_CONFIG --variable=prefix libgnome-2.0`&quot;
-
-if test &quot;x$gnome_prefix&quot; = &quot;x&quot;; then
-	AC_MSG_ERROR([Unable to determine gnome prefix. Please install that package that contains libgnome-2.0.pc and make sure it is in your accessible via pkg-config])
-fi
-
-AC_SUBST(gnome_prefix)
-
-if test &quot;x$XDGMIME&quot; = &quot;xno&quot; ; then
-enable_xdgmime=&quot;no&quot;
-else
-enable_xdgmime=&quot;yes&quot;
-fi
-
-AM_CONDITIONAL(ENABLE_XDGMIME, test &quot;x$enable_xdgmime&quot; = &quot;xyes&quot;)
-
 AC_ARG_ENABLE(update-mimedb,
    AC_HELP_STRING([--disable-update-mimedb],
                    [disable the update-mime-database after install [default=no]]),,
@@ -181,6 +165,14 @@
 AC_SUBST(MONO_POSIX_OEE)
 AC_SUBST(SQLITE_XML)
 
+
+MD_DIR='$(prefix)/lib/monodevelop'
+MD_ASSEMBLY_DIR=&quot;$MD_DIR/bin&quot;
+MD_ADDIN_DIR=&quot;$MD_DIR/AddIns&quot;
+
+AC_SUBST(MD_ASSEMBLY_DIR)
+AC_SUBST(MD_ADDIN_DIR)
+
 AC_OUTPUT([
 Makefile
 Core/Makefile
@@ -239,7 +231,6 @@
 echo &quot;Configuration summary&quot;
 echo &quot;&quot;
 echo &quot;   * Installation prefix = $prefix&quot;
-echo &quot;   * GNOME prefix = $gnome_prefix&quot;
 echo &quot;   * C# compiler = $CSC&quot;
 echo &quot;   * mono-debugger: $enable_debugger&quot;
 echo &quot;   * MonoQuery Providers:&quot;

Modified: trunk/MonoDevelop/contrib/Makefile.am
===================================================================
--- trunk/MonoDevelop/contrib/Makefile.am	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/contrib/Makefile.am	2005-05-15 18:54:27 UTC (rev 2529)
@@ -9,7 +9,7 @@
 	mkdir -p $(BINDIR)
 	cp $(srcdir)/$(LOG4NET_DLL) $(LOG4NET)
 
-assemblydir = $(libdir)/monodevelop/bin
+assemblydir = $(MD_ASSEMBLY_DIR)
 assembly_DATA = $(LOG4NET)
 
 CLEANFILES = $(LOG4NET)

Modified: trunk/MonoDevelop/monodevelop.in
===================================================================
--- trunk/MonoDevelop/monodevelop.in	2005-05-13 23:13:05 UTC (rev 2528)
+++ trunk/MonoDevelop/monodevelop.in	2005-05-15 18:54:27 UTC (rev 2529)
@@ -30,9 +30,9 @@
 MD_BIN_PATH=@prefix@/lib/monodevelop/bin
 
 if [ -n $LD_LIBRARY_PATH ]; then
-	export LD_LIBRARY_PATH=$MOZILLA_HOME:$MD_BIN_PATH:$LD_LIBRARY_PATH
+	export LD_LIBRARY_PATH=$MOZILLA_HOME:$LD_LIBRARY_PATH
 else
-	export LD_LIBRARY_PATH=$MOZILLA_HOME:$MD_BIN_PATH
+	export LD_LIBRARY_PATH=$MOZILLA_HOME
 fi
 
 if [ -n $PKG_CONFIG_PATH ]; then


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002128.html">[Monodevelop-patches-list] r2528 - in	trunk/MonoDevelop/Core/src/AddIns/BackendBindings/VBNetBinding:	. Gui Parser Parser/SharpDevelopTree SharpRefactoryVB	SharpRefactoryVB/src SharpRefactoryVB/src/CSharpConverter	SharpRefactoryVB/src/Lexer SharpRefactoryVB/src/Lexer/Reader	SharpRefactoryVB/src/Lexer/Specials SharpRefactoryVB/src/Parser/AST	SharpRefactoryVB/src/Parser/AST/Expressions	SharpRefactoryVB/src/Parser/AST/GlobalScope	SharpRefactoryVB/src/Parser/AST/Statements	SharpRefactoryVB/src/Parser/AST/TypeLevel	SharpRefactoryVB/src/Parser/generated	SharpRefactoryVB/src/Parser/generated/keywordlist templates
</A></li>
	<LI>Next message: <A HREF="002130.html">[Monodevelop-patches-list] r2530 - trunk/MonoDevelop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2129">[ date ]</a>
              <a href="thread.html#2129">[ thread ]</a>
              <a href="subject.html#2129">[ subject ]</a>
              <a href="author.html#2129">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
