<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r1056 - in trunk/MonoDevelop: build gdldock/gdl gdldock/sources/gdl gtkmozembed-sharp src/AddIns/BackendBindings/CSharpBinding src/AddIns/DisplayBindings/SourceEditor src/AddIns/Misc/StartPage src/Libraries/MonoDevelop.Core src/Libraries/MonoDevelop.Gui.Utils src/Libraries/MonoDevelop.Gui.Widgets src/Libraries/SharpAssembly src/Libraries/SharpRefactory src/Main/Base src/Main/StartUp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1056%20-%20in%20trunk/MonoDevelop%3A%20build%20gdldock/gdl%20gdldock/sources/gdl%20gtkmozembed-sharp%20src/AddIns/BackendBindings/CSharpBinding%20src/AddIns/DisplayBindings/SourceEditor%20src/AddIns/Misc/StartPage%20src/Libraries/MonoDevelop.Core%20src/Libraries/MonoDevelop.Gui.Utils%20src/Libraries/MonoDevelop.Gui.Widgets%20src/Libraries/SharpAssembly%20src/Libraries/SharpRefactory%20src/Main/Base%20src/Main/StartUp&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000660.html">
   <LINK REL="Next"  HREF="000662.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r1056 - in trunk/MonoDevelop: build gdldock/gdl gdldock/sources/gdl gtkmozembed-sharp src/AddIns/BackendBindings/CSharpBinding src/AddIns/DisplayBindings/SourceEditor src/AddIns/Misc/StartPage src/Libraries/MonoDevelop.Core src/Libraries/MonoDevelop.Gui.Utils src/Libraries/MonoDevelop.Gui.Widgets src/Libraries/SharpAssembly src/Libraries/SharpRefactory src/Main/Base src/Main/StartUp</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r1056%20-%20in%20trunk/MonoDevelop%3A%20build%20gdldock/gdl%20gdldock/sources/gdl%20gtkmozembed-sharp%20src/AddIns/BackendBindings/CSharpBinding%20src/AddIns/DisplayBindings/SourceEditor%20src/AddIns/Misc/StartPage%20src/Libraries/MonoDevelop.Core%20src/Libraries/MonoDevelop.Gui.Utils%20src/Libraries/MonoDevelop.Gui.Widgets%20src/Libraries/SharpAssembly%20src/Libraries/SharpRefactory%20src/Main/Base%20src/Main/StartUp&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r1056 - in trunk/MonoDevelop: build gdldock/gdl gdldock/sources/gdl gtkmozembed-sharp src/AddIns/BackendBindings/CSharpBinding src/AddIns/DisplayBindings/SourceEditor src/AddIns/Misc/StartPage src/Libraries/MonoDevelop.Core src/Libraries/MonoDevelop.Gui.Utils src/Libraries/MonoDevelop.Gui.Widgets src/Libraries/SharpAssembly src/Libraries/SharpRefactory src/Main/Base src/Main/StartUp">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Sat Feb 28 13:49:02 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000660.html">[Monodevelop-patches-list] r1055 - in branches/MonoDevelop-playground: . gdldock/gdl gdldock/sources/gdl gtkmozembed-sharp libmonodevelop src/Plugins src/Plugins/Workbench src/StartUp
</A></li>
        <LI>Next message: <A HREF="000662.html">[Monodevelop-patches-list] r1057 - in trunk/MonoDevelop/gdldock: gdl sources/gdl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#661">[ date ]</a>
              <a href="thread.html#661">[ thread ]</a>
              <a href="subject.html#661">[ subject ]</a>
              <a href="author.html#661">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2004-02-28 13:49:02 -0500 (Sat, 28 Feb 2004)
New Revision: 1056

Modified:
   trunk/MonoDevelop/build/Makefile.am
   trunk/MonoDevelop/gdldock/gdl/Makefile.am
   trunk/MonoDevelop/gdldock/sources/gdl/Makefile.am
   trunk/MonoDevelop/gtkmozembed-sharp/Makefile.am
   trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Makefile.am
   trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Makefile.am
   trunk/MonoDevelop/src/AddIns/Misc/StartPage/Makefile.am
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Core/Makefile.am
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Makefile.am
   trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile.am
   trunk/MonoDevelop/src/Libraries/SharpAssembly/Makefile.am
   trunk/MonoDevelop/src/Libraries/SharpRefactory/Makefile.am
   trunk/MonoDevelop/src/Main/Base/Makefile.am
   trunk/MonoDevelop/src/Main/StartUp/Makefile.am
Log:
work around the make install problem people have been reporting
this should allow the same local build/install stuff to work
but takes up a little more diskspace


Modified: trunk/MonoDevelop/build/Makefile.am
===================================================================
--- trunk/MonoDevelop/build/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/build/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -1,3 +1,6 @@
 SUBDIRS = data AddIns doc
 
 all:
+
+clean:
+	rm -rf bin

Modified: trunk/MonoDevelop/gdldock/gdl/Makefile.am
===================================================================
--- trunk/MonoDevelop/gdldock/gdl/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/gdldock/gdl/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -1,6 +1,6 @@
 MCS = mcs
 RUNTIME = mono
-ASSEMBLY = ../../build/bin/gdl-sharp.dll
+ASSEMBLY = gdl-sharp.dll
 
 INCLUDE_APIS = \
 	@gtksharp_prefix@/share/gapi/gdk-api.xml \
@@ -16,7 +16,8 @@
 $(ASSEMBLY): generated-stamp ../../build/bin
 	$(MCS) --unsafe --target library \
 	-r glib-sharp.dll -r gtk-sharp.dll -r gdk-sharp.dll \
-	--recurse '*.cs' -o $(ASSEMBLY)
+	--recurse '*.cs' -o $(ASSEMBLY) \
+	&amp;&amp; cp $(ASSEMBLY) ../../build/bin/.
 
 ../../build/bin:
 	mkdir ../../build/bin

Modified: trunk/MonoDevelop/gdldock/sources/gdl/Makefile.am
===================================================================
--- trunk/MonoDevelop/gdldock/sources/gdl/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/gdldock/sources/gdl/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -120,7 +120,7 @@
 clean:
 	rm -f libgdldock.so $(libgdldock_OBJECTS) $(GENERATED_SOURCE)
 
-CLEANFILES= ../../../build/bin/libgdldock.so ../../../build/bin/*.png
+CLEANFILES = libgdldock.so
 
 .PHONY: clean
 

Modified: trunk/MonoDevelop/gtkmozembed-sharp/Makefile.am
===================================================================
--- trunk/MonoDevelop/gtkmozembed-sharp/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/gtkmozembed-sharp/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -1,5 +1,5 @@
 MCS=mcs
-ASSEMBLY = ../build/bin/gtkmozembed-sharp.dll
+ASSEMBLY = gtkmozembed-sharp.dll
 
 INCLUDE_APIS = \
 	@gtksharp_prefix@/share/gapi/gdk-api.xml \
@@ -15,7 +15,8 @@
 $(ASSEMBLY): generated-stamp
 	$(MCS) --unsafe --target library \
 	-r glib-sharp.dll -r gtk-sharp.dll -r gdk-sharp.dll \
-	--recurse '*.cs' -o $(ASSEMBLY)
+	--recurse '*.cs' -o $(ASSEMBLY) \
+	&amp;&amp; cp $(ASSEMBLY) ../build/bin/.
 
 assemblydir = $(prefix)/lib/monodevelop/bin
 assembly_DATA = $(ASSEMBLY)

Modified: trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -25,7 +25,7 @@
 ./FormattingStrategy/CSharpFormattingStrategy.cs \
 ./CSharpBindingCompilerManager.cs
 
-DLL=../../../../build/AddIns/AddIns/BackendBindings/CSharpBinding.dll
+DLL = CSharpBinding.dll
 
 all: $(DLL)
 
@@ -36,12 +36,13 @@
 		/r:../../../../build/bin/MonoDevelop.Base.dll \
 		/r:../../../../build/bin/ICSharpCode.SharpRefactory.dll \
 		/r:gtk-sharp.dll \
-		$(FILES)
+		$(FILES) \
+	&amp;&amp; cp $(DLL) ../../../../build/AddIns/AddIns/BackendBindings/.
 
 csharpbindinglibdir = $(libdir)/monodevelop/AddIns/AddIns/BackendBindings
 csharpbindinglib_DATA = $(DLL)
 
-CLEANFILES=$(DLL)
+CLEANFILES = $(DLL)
 
 EXTRA_DIST = $(FILES)
 

Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -1,4 +1,4 @@
-DLL=../../../../build/bin/MonoDevelop.SourceEditor.dll
+DLL = MonoDevelop.SourceEditor.dll
 
 FILES = ./CodeCompletion/CodeCompletionData.cs \
 ./CodeCompletion/ICompletionData.cs \
@@ -81,11 +81,12 @@
 		/r:../../../../build/bin/MonoDevelop.Gui.Widgets.dll \
 		/r:pango-sharp.dll /r:gnome-sharp.dll /r:glade-sharp.dll \
 		/r:gconf-sharp.dll \
-		/r:System.Drawing.dll
+		/r:System.Drawing.dll \
+	&amp;&amp; cp $(DLL) ../../../../build/bin/.
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)
 
-CLEANFILES=$(DLL)
+CLEANFILES = $(DLL)
 
 EXTRA_DIST = $(FILES)

Modified: trunk/MonoDevelop/src/AddIns/Misc/StartPage/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/AddIns/Misc/StartPage/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/src/AddIns/Misc/StartPage/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -4,7 +4,7 @@
 Main.cs \
 StartPage.cs
 
-DLL=../../../../build/AddIns/AddIns/Misc/StartPage/MonoDevelop.StartPage.dll
+DLL = MonoDevelop.StartPage.dll
 
 all: $(DLL)
 
@@ -14,7 +14,8 @@
 		/r:../../../../build/bin/MonoDevelop.Base.dll \
 		/r:../../../../build/bin/gtkmozembed-sharp.dll \
 		/r:gtk-sharp.dll \
-		$(FILES)
+		$(FILES) \
+	&amp;&amp; cp $(DLL) ../../../../build/AddIns/AddIns/Misc/StartPage/.
 
 startpagelibdir = $(libdir)/monodevelop/AddIns/AddIns/Misc/StartPage
 startpagelib_DATA = $(DLL)

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Core/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Core/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Core/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -58,18 +58,18 @@
 ./AddIns/AddInCollection.cs \
 ./AddIns/AddInSignatureException.cs
 
-DLL=../../../build/bin/MonoDevelop.Core.dll
+DLL = MonoDevelop.Core.dll
 
 all: $(DLL)
 
 $(DLL): $(FILES)
 	@ mcs /debug /out:$(DLL) /target:library /r:System.Drawing.dll /define:LINUX /resource:../../../data/resources/AddIn.xsd,AddIn.xsd \
-	$(FILES)
+	$(FILES) &amp;&amp; cp $(DLL) ../../../build/bin/.
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)
 
-CLEANFILES=$(DLL)
+CLEANFILES = $(DLL)
 
 EXTRA_DIST = $(FILES)
 

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Utils/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -1,4 +1,4 @@
-DLL=../../../build/bin/MonoDevelop.Gui.Utils.dll
+DLL = MonoDevelop.Gui.Utils.dll
 REFERENCES=/r:System.Drawing.dll /r:gtk-sharp.dll /r:gdk-sharp.dll /r:pango-sharp.dll /r:gnome-sharp.dll /r:glib-sharp.dll /r:glade-sharp.dll
 
 FILES = ./FileIcons/FileIconLoader.cs \
@@ -9,7 +9,8 @@
 all: $(DLL)
 
 $(DLL): $(FILES)
-	@ mcs /debug /out:$(DLL) /target:library $(REFERENCES) $(FILES)
+	@ mcs /debug /out:$(DLL) /target:library $(REFERENCES) $(FILES) \
+	&amp;&amp; cp $(DLL) ../../../build/bin/.
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)

Modified: trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/src/Libraries/MonoDevelop.Gui.Widgets/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -1,7 +1,7 @@
 
 MCS = mcs -debug
 
-DLL = ../../../build/bin/MonoDevelop.Gui.Widgets.dll
+DLL = MonoDevelop.Gui.Widgets.dll
 
 REFERENCES = /r:System.Drawing.dll /r:gtk-sharp.dll /r:gdk-sharp.dll /r:pango-sharp.dll /r:gnome-sharp.dll /r:glib-sharp.dll /r:glade-sharp.dll /r:../../../build/bin/MonoDevelop.Core.dll /r:../../../build/bin/MonoDevelop.Gui.Utils.dll
 
@@ -28,7 +28,8 @@
 all: $(DLL)
 
 $(DLL): $(FILES)
-	@ $(MCS) /debug /out:$(DLL) /target:library $(REFERENCES) $(FILES)
+	@ $(MCS) /debug /out:$(DLL) /target:library $(REFERENCES) $(FILES) \
+	&amp;&amp; cp $(DLL) ../../../build/bin/.
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)

Modified: trunk/MonoDevelop/src/Libraries/SharpAssembly/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/Libraries/SharpAssembly/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/src/Libraries/SharpAssembly/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -66,17 +66,18 @@
 ./src/SharpAssembly/AssemblyInfo.cs \
 ./src/SharpAssembly/AssemblyNameNotFoundException.cs 
 
-DLL=../../../build/bin/ICSharpCode.SharpAssembly.dll
+DLL = ICSharpCode.SharpAssembly.dll
 
 all: $(DLL)
 
 $(DLL): $(FILES)
-	@ mcs /debug /out:$(DLL) /target:library $(FILES)
+	@ mcs /debug /out:$(DLL) /target:library $(FILES) \
+	&amp;&amp; cp $(DLL) ../../../build/bin/.
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)
   
-CLEANFILES=$(DLL)
+CLEANFILES = $(DLL)
 
 EXTRA_DIST = $(FILES)
 

Modified: trunk/MonoDevelop/src/Libraries/SharpRefactory/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/Libraries/SharpRefactory/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/src/Libraries/SharpRefactory/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -106,12 +106,13 @@
 ./src/VBConverter/VBNetVisitor.cs \
 ./src/AssemblyInfo.cs
 
-DLL=../../../build/bin/ICSharpCode.SharpRefactory.dll
+DLL = ICSharpCode.SharpRefactory.dll
 
 all: $(DLL)
 
 $(DLL): $(FILES)
-	@ mcs /debug /out:$(DLL) /target:library /r:System.Drawing.dll $(FILES)
+	@ mcs /debug /out:$(DLL) /target:library /r:System.Drawing.dll $(FILES) \
+	&amp;&amp; cp $(DLL) ../../../build/bin/.
 
 test-parser.exe : $(DLL) src/Main.cs
 	@ mcs /debug /out:$@ /r:$(DLL) src/Main.cs
@@ -122,7 +123,7 @@
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)
 
-CLEANFILES=$(DLL)
+CLEANFILES = $(DLL)
 
 EXTRA_DIST = $(FILES)
 

Modified: trunk/MonoDevelop/src/Main/Base/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/src/Main/Base/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -353,7 +353,7 @@
 ./Internal/ExternalTool/ExternalTool.cs \
 ./AssemblyInfo.cs
 
-DLL=../../../build/bin/MonoDevelop.Base.dll
+DLL = MonoDevelop.Base.dll
 
 all: $(DLL)
 
@@ -371,7 +371,8 @@
 		/r:../../../build/bin/gtkmozembed-sharp.dll \
 		/r:glade-sharp.dll \
 		/r:gnome-sharp.dll \
-		$(FILES)
+		$(FILES) \
+	&amp;&amp; cp $(DLL) ../../../build/bin/.
 
 Services/StockIcons.cs : ./Services/process-icons.pl
 	perl  -x../../../build/data/resources/icons -w ./Services/process-icons.pl &gt; $@

Modified: trunk/MonoDevelop/src/Main/StartUp/Makefile.am
===================================================================
--- trunk/MonoDevelop/src/Main/StartUp/Makefile.am	2004-02-28 18:41:11 UTC (rev 1055)
+++ trunk/MonoDevelop/src/Main/StartUp/Makefile.am	2004-02-28 18:49:02 UTC (rev 1056)
@@ -30,7 +30,7 @@
 /resource:$(BASEDIR)/data/resources/StringResources.br.resources \
 /resource:$(BASEDIR)/data/resources/SplashScreen.png,SplashScreen.png
 
-DLL=../../../build/bin/MonoDevelop.exe
+DLL = MonoDevelop.exe
 
 all: $(DLL)
 
@@ -41,7 +41,8 @@
 		/r:glib-sharp.dll \
 		/define:GTK /r:gtk-sharp.dll /r:gdk-sharp.dll \
 		/r:gnome-sharp.dll \
-		$(RESOURCES) $(FILES)
+		$(RESOURCES) $(FILES) \
+	&amp;&amp; cp $(DLL) ../../../build/bin/.
 
 assemblydir = $(libdir)/monodevelop/bin
 assembly_DATA = $(DLL)           


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000660.html">[Monodevelop-patches-list] r1055 - in branches/MonoDevelop-playground: . gdldock/gdl gdldock/sources/gdl gtkmozembed-sharp libmonodevelop src/Plugins src/Plugins/Workbench src/StartUp
</A></li>
	<LI>Next message: <A HREF="000662.html">[Monodevelop-patches-list] r1057 - in trunk/MonoDevelop/gdldock: gdl sources/gdl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#661">[ date ]</a>
              <a href="thread.html#661">[ thread ]</a>
              <a href="subject.html#661">[ subject ]</a>
              <a href="author.html#661">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
