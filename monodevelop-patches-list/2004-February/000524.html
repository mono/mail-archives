<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r919 - in trunk/MonoDevelop: data/resources/glade src/Main/Base/Gui/Dialogs/OptionPanels
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r919%20-%20in%20trunk/MonoDevelop%3A%20data/resources/glade%20src/Main/Base/Gui/Dialogs/OptionPanels&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000523.html">
   <LINK REL="Next"  HREF="000525.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r919 - in trunk/MonoDevelop: data/resources/glade src/Main/Base/Gui/Dialogs/OptionPanels</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r919%20-%20in%20trunk/MonoDevelop%3A%20data/resources/glade%20src/Main/Base/Gui/Dialogs/OptionPanels&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r919 - in trunk/MonoDevelop: data/resources/glade src/Main/Base/Gui/Dialogs/OptionPanels">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Sun Feb 15 13:47:16 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000523.html">[Monodevelop-patches-list] r918 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: CodeCompletion InsightWindow
</A></li>
        <LI>Next message: <A HREF="000525.html">[Monodevelop-patches-list] r920 - trunk/MonoDevelop/build/AddIns
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#524">[ date ]</a>
              <a href="thread.html#524">[ thread ]</a>
              <a href="subject.html#524">[ subject ]</a>
              <a href="author.html#524">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dkor
Date: 2004-02-15 13:47:16 -0500 (Sun, 15 Feb 2004)
New Revision: 919

Modified:
   trunk/MonoDevelop/data/resources/glade/Base.glade
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ExternalToolPanel.cs
Log:
Glading of the ExternalToolPanel

Modified: trunk/MonoDevelop/data/resources/glade/Base.glade
===================================================================
--- trunk/MonoDevelop/data/resources/glade/Base.glade	2004-02-15 03:09:56 UTC (rev 918)
+++ trunk/MonoDevelop/data/resources/glade/Base.glade	2004-02-15 18:47:16 UTC (rev 919)
@@ -2413,4 +2413,536 @@
   &lt;/child&gt;
 &lt;/widget&gt;
 
+&lt;widget class=&quot;GtkWindow&quot; id=&quot;ExternalToolPanel&quot;&gt;
+  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+  &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;ExternalToolPanel&lt;/property&gt;
+  &lt;property name=&quot;type&quot;&gt;GTK_WINDOW_TOPLEVEL&lt;/property&gt;
+  &lt;property name=&quot;window_position&quot;&gt;GTK_WIN_POS_NONE&lt;/property&gt;
+  &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;resizable&quot;&gt;True&lt;/property&gt;
+  &lt;property name=&quot;destroy_with_parent&quot;&gt;False&lt;/property&gt;
+
+  &lt;child&gt;
+    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox32&quot;&gt;
+      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+      &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
+
+      &lt;child&gt;
+	&lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox21&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkScrolledWindow&quot; id=&quot;scrolledwindow4&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_AUTOMATIC&lt;/property&gt;
+	      &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_AUTOMATIC&lt;/property&gt;
+	      &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_ETCHED_OUT&lt;/property&gt;
+	      &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkTreeView&quot; id=&quot;toolListBox&quot;&gt;
+		  &lt;property name=&quot;width_request&quot;&gt;200&lt;/property&gt;
+		  &lt;property name=&quot;height_request&quot;&gt;150&lt;/property&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;headers_visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;rules_hint&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;reorderable&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;enable_search&quot;&gt;True&lt;/property&gt;
+		&lt;/widget&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;moveUpButton&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkButton&quot; id=&quot;addButton&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot;&gt;gtk-add&lt;/property&gt;
+		  &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkButton&quot; id=&quot;removeButton&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot;&gt;gtk-remove&lt;/property&gt;
+		  &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkLabel&quot; id=&quot;label34&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;    &lt;/property&gt;
+		  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+		  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+		  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkButton&quot; id=&quot;moveUpButton&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot;&gt;gtk-go-up&lt;/property&gt;
+		  &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkButton&quot; id=&quot;moveDownButton&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot;&gt;gtk-go-down&lt;/property&gt;
+		  &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label40&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;    &lt;/property&gt;
+	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+	&lt;/widget&gt;
+	&lt;packing&gt;
+	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+	&lt;/packing&gt;
+      &lt;/child&gt;
+
+      &lt;child&gt;
+	&lt;widget class=&quot;GtkTable&quot; id=&quot;table2&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;n_rows&quot;&gt;4&lt;/property&gt;
+	  &lt;property name=&quot;n_columns&quot;&gt;2&lt;/property&gt;
+	  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	  &lt;property name=&quot;row_spacing&quot;&gt;6&lt;/property&gt;
+	  &lt;property name=&quot;column_spacing&quot;&gt;6&lt;/property&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkEntry&quot; id=&quot;titleTextBox&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+	      &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;invisible_char&quot; translatable=&quot;yes&quot;&gt;*&lt;/property&gt;
+	      &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;commandLabel&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;_Command&lt;/property&gt;
+	      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+	      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;titleLabel&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;_Title&lt;/property&gt;
+	      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;mnemonic_widget&quot;&gt;titleTextBox&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+	      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;argumentLabel&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;_Arguments&lt;/property&gt;
+	      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;top_attach&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;bottom_attach&quot;&gt;3&lt;/property&gt;
+	      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+	      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;workingDirLabel&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;_Working Dir.&lt;/property&gt;
+	      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;top_attach&quot;&gt;3&lt;/property&gt;
+	      &lt;property name=&quot;bottom_attach&quot;&gt;4&lt;/property&gt;
+	      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+	      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkTable&quot; id=&quot;table3&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;n_rows&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;n_columns&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;row_spacing&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;column_spacing&quot;&gt;0&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkEntry&quot; id=&quot;argumentTextBox&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;invisible_char&quot; translatable=&quot;yes&quot;&gt;*&lt;/property&gt;
+		  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkButton&quot; id=&quot;argumentQuickInsertButton&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt; &amp;gt; &lt;/property&gt;
+		  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+		  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;top_attach&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;bottom_attach&quot;&gt;3&lt;/property&gt;
+	      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+	      &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkTable&quot; id=&quot;table4&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;n_rows&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;n_columns&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;row_spacing&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;column_spacing&quot;&gt;0&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkEntry&quot; id=&quot;workingDirTextBox&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;invisible_char&quot; translatable=&quot;yes&quot;&gt;*&lt;/property&gt;
+		  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkButton&quot; id=&quot;workingDirQuickInsertButton&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt; &amp;gt; &lt;/property&gt;
+		  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+		  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;top_attach&quot;&gt;3&lt;/property&gt;
+	      &lt;property name=&quot;bottom_attach&quot;&gt;4&lt;/property&gt;
+	      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+	      &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkTable&quot; id=&quot;table5&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;n_rows&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;n_columns&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;row_spacing&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;column_spacing&quot;&gt;0&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkEntry&quot; id=&quot;commandTextBox&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;invisible_char&quot; translatable=&quot;yes&quot;&gt;*&lt;/property&gt;
+		  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkButton&quot; id=&quot;browseButton&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Browse&lt;/property&gt;
+		  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+		  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
+	      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+	      &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+	&lt;/widget&gt;
+	&lt;packing&gt;
+	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+	&lt;/packing&gt;
+      &lt;/child&gt;
+
+      &lt;child&gt;
+	&lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox36&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;promptArgsCheckBox&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;_Prompt for Arguments&lt;/property&gt;
+	      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+	      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;useOutputPadCheckBox&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Use _Output Window&lt;/property&gt;
+	      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+	      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+	&lt;/widget&gt;
+	&lt;packing&gt;
+	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+	&lt;/packing&gt;
+      &lt;/child&gt;
+    &lt;/widget&gt;
+  &lt;/child&gt;
+&lt;/widget&gt;
+
 &lt;/glade-interface&gt;

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ExternalToolPanel.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ExternalToolPanel.cs	2004-02-15 03:09:56 UTC (rev 918)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/ExternalToolPanel.cs	2004-02-15 18:47:16 UTC (rev 919)
@@ -1,27 +1,50 @@
-// &lt;file&gt;
-//     &lt;copyright see=&quot;<A HREF="prj:///doc/copyright.txt&quot;/">prj:///doc/copyright.txt&quot;/</A>&gt;
-//     &lt;license see=&quot;<A HREF="prj:///doc/license.txt&quot;/">prj:///doc/license.txt&quot;/</A>&gt;
-//     &lt;owner name=&quot;Mike Kr&#252;ger&quot; email=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">mike at icsharpcode.net</A>&quot;/&gt;
-//     &lt;version value=&quot;$version&quot;/&gt;
-// &lt;/file&gt;
+ // &lt;file&gt;
+ //     &lt;copyright see=&quot;<A HREF="prj:///doc/copyright.txt&quot;/">prj:///doc/copyright.txt&quot;/</A>&gt;
+ //     &lt;license see=&quot;<A HREF="prj:///doc/license.txt&quot;/">prj:///doc/license.txt&quot;/</A>&gt;
+ //     &lt;owner name=&quot;Mike Kr&#252;ger&quot; email=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">mike at icsharpcode.net</A>&quot;/&gt;
+ //     &lt;version value=&quot;$version&quot;/&gt;
+ // &lt;/file&gt;
 
-using System;
-using System.IO;
-using System.Collections;
-using Gtk;
+ using System;
+ using System.IO;
+ using System.Collections;
+ using Gtk;
+ using Gnome;
+ using MonoDevelop.Gui.Widgets;
 
-using ICSharpCode.SharpDevelop.Internal.ExternalTool;
-using ICSharpCode.Core.Properties;
-using ICSharpCode.Core.Services;
-using ICSharpCode.SharpDevelop.Services;
-using ICSharpCode.Core.AddIns.Codons;
+ using ICSharpCode.SharpDevelop.Internal.ExternalTool;
+ using ICSharpCode.Core.Properties;
+ using ICSharpCode.Core.Services;
+ using ICSharpCode.SharpDevelop.Services;
+ using ICSharpCode.Core.AddIns.Codons;
 
-namespace ICSharpCode.SharpDevelop.Gui.Dialogs.OptionPanels
-{
-	public class ExternalToolPane : AbstractOptionPanel
-	{
+ namespace ICSharpCode.SharpDevelop.Gui.Dialogs.OptionPanels
+ {
+	 public class ExternalToolPane: AbstractOptionPanel
+	 {
+		 ExternalToolPanelWidget widget;
 
-		static string[,] argumentQuickInsertMenu = new string[,] {
+		 public override void LoadPanelContents()
+		 {
+			 Console.WriteLine(&quot;Test0a&quot;);
+			 widget = new ExternalToolPanelWidget ();
+			 Console.WriteLine(&quot;Test0b&quot;);
+			 Add (widget);
+		 }
+
+		 public override bool StorePanelContents()
+		 {
+			 Console.WriteLine(&quot;Entering StorePanelContents&quot;);
+			 bool result = true;
+			 Console.WriteLine(&quot;Entering StorePanelContents 2&quot;);
+			 result = widget.Store();
+			 Console.WriteLine(&quot;StorePanelContents {0}&quot;, result);
+			 return result;
+		 }
+
+		 public class ExternalToolPanelWidget :  GladeWidgetExtract 
+		 {
+		 static string[,] argumentQuickInsertMenu = new string[,] {
 			{&quot;${res:Dialog.Options.ExternalTool.QuickInsertMenu.FullItemPath}&quot;,      &quot;${ItemPath}&quot;},
 			{&quot;${res:Dialog.Options.ExternalTool.QuickInsertMenu.FullItemDirectory}&quot;, &quot;${ItemDir}&quot;},
 			{&quot;${res:Dialog.Options.ExternalTool.QuickInsertMenu.ItemFileName}&quot;,      &quot;${ItemFileName}&quot;},
@@ -44,7 +67,7 @@
 			{&quot;-&quot;, &quot;&quot;},
 			{&quot;${res:Dialog.Options.ExternalTool.QuickInsertMenu.SharpDevelopStartupPath}&quot;,  &quot;${StartupPath}&quot;},
 		};
-		
+
 		static string[,] workingDirInsertMenu = new string[,] {
 			{&quot;${res:Dialog.Options.ExternalTool.QuickInsertMenu.FullItemDirectory}&quot;, &quot;${ItemDir}&quot;},
 			{&quot;-&quot;, &quot;&quot;},
@@ -56,371 +79,367 @@
 			{&quot;${res:Dialog.Options.ExternalTool.QuickInsertMenu.CombineDirectory}&quot;, &quot;${CombineDir}&quot;},
 			{&quot;-&quot;, &quot;&quot;},
 			{&quot;${res:Dialog.Options.ExternalTool.QuickInsertMenu.SharpDevelopStartupPath}&quot;,  &quot;${StartupPath}&quot;},
-		};
-		
-		// gtk controls
-		ListStore toolListBoxStore;
-		TreeView toolListBox;
-		Entry titleTextBox; 
-		Entry commandTextBox; 
-		Entry argumentTextBox; 
-		Entry workingDirTextBox; 
-		CheckButton promptArgsCheckBox; 
-		CheckButton useOutputPadCheckBox; 
-		Label titleLabel; 
-		Label argumentLabel; 
-		Label commandLabel; 
-		Label workingDirLabel; 
-		Button browseButton; 
-		Button argumentQuickInsertButton; 
-		Button workingDirQuickInsertButton; 
-		Button moveUpButton; 
-		Button moveDownButton;
-		Button addButton; 
-		Button removeButton;
-			
-		// these are the control names which are enabled/disabled depending if tool is selected
-		Widget[] dependendControls;
-		
-		// needed for treeview listbox
-		int toolListBoxItemCount = 0;
-		
-		// Services
-		FileUtilityService FileUtilityService = (FileUtilityService)ServiceManager.Services.GetService(typeof(FileUtilityService));
-		StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (typeof (StringParserService));
-		PropertyService PropertyService = (PropertyService)ServiceManager.Services.GetService(typeof(PropertyService));
-		MessageService MessageService = (MessageService)ServiceManager.Services.GetService(typeof(MessageService));
-		MenuService MenuService = (MenuService)ServiceManager.Services.GetService(typeof(MenuService));
-		
-		public override void LoadPanelContents()
-		{
-			// set up the form controls instance
-			SetupPanelInstance();
-			
-			// add each tool to the treeStore
-			foreach (object o in ToolLoader.Tool) {
+		};			 
+			 // Services
+			 FileUtilityService FileUtilityService = (FileUtilityService)ServiceManager.Services.GetService(
+				 typeof(FileUtilityService));
+			 StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (
+				 typeof (StringParserService));
+			 PropertyService PropertyService = (PropertyService)ServiceManager.Services.GetService(
+				 typeof(PropertyService));
+			 MessageService MessageService = (MessageService)ServiceManager.Services.GetService(
+				 typeof(MessageService));
+			 MenuService MenuService = (MenuService)ServiceManager.Services.GetService(
+				 typeof(MenuService));
+
+			 // gtk controls
+			 [Glade.Widget] ListStore toolListBoxStore;
+			 [Glade.Widget] Gtk.TreeView toolListBox;
+			 [Glade.Widget] Gtk.Entry titleTextBox; 
+			 [Glade.Widget] Gtk.Entry commandTextBox; 
+			 [Glade.Widget] Gtk.Entry argumentTextBox; 
+			 [Glade.Widget] Gtk.Entry workingDirTextBox; 
+			 [Glade.Widget] CheckButton promptArgsCheckBox; 
+			 [Glade.Widget] CheckButton useOutputPadCheckBox; 
+			 [Glade.Widget]	Label titleLabel; 
+			 [Glade.Widget] Label argumentLabel; 
+			 [Glade.Widget] Label commandLabel; 
+			 [Glade.Widget] Label workingDirLabel; 
+ 			 [Glade.Widget] Button browseButton; 
+ 			 [Glade.Widget] Button argumentQuickInsertButton; 
+			 [Glade.Widget] Button workingDirQuickInsertButton; 
+ 			 [Glade.Widget] Button moveUpButton; 
+ 			 [Glade.Widget] Button moveDownButton;
+ 			 [Glade.Widget] Button addButton; 
+			 [Glade.Widget] Button removeButton;
+			 
+			 // these are the control names which are enabled/disabled depending if tool is selected
+			 Widget[] dependendControls;
+			 
+			 // needed for treeview listbox
+			 int toolListBoxItemCount = 0;
+
+			 public ExternalToolPanelWidget () : base (&quot;Base.glade&quot;, &quot;ExternalToolPanel&quot;) 
+			 {
+				 Console.WriteLine(&quot;Test1&quot;);
+							 // instantiate controls			
+				 toolListBoxStore = new ListStore(typeof(string), typeof(ExternalTool));
+				 promptArgsCheckBox.Label = StringParserService.Parse(
+					 &quot;${res:Dialog.Options.ExternalTool.PromptForArgsCheckBox}&quot;); 
+				 useOutputPadCheckBox.Label = StringParserService.Parse(
+					 &quot;${res:Dialog.Options.ExternalTool.UseOutputWindow}&quot;); 
+				 titleLabel.TextWithMnemonic = StringParserService.Parse(
+					 &quot;${res:Dialog.Options.ExternalTool.TitleLabel}&quot;); 
+				 argumentLabel.TextWithMnemonic = StringParserService.Parse(
+					 &quot;${res:Dialog.Options.ExternalTool.ArgumentLabel}&quot;); 
+				 commandLabel.TextWithMnemonic = StringParserService.Parse(
+					 &quot;${res:Dialog.Options.ExternalTool.CommandLabel}&quot;); 
+				 workingDirLabel.TextWithMnemonic = StringParserService.Parse(
+					 &quot;${res:Dialog.Options.ExternalTool.WorkingDirLabel}&quot;);
+// 				 moveUpButton.Label = StringParserService.Parse(
+// 					 &quot;${res:Dialog.Options.ExternalTool.MoveUpButton}&quot;); 
+// 				 moveUpButton.UseUnderline = true;
+// 				 moveDownButton.Label = StringParserService.Parse(
+// 					 &quot;${res:Dialog.Options.ExternalTool.MoveDownButton}&quot;);
+// 				 moveDownButton.UseUnderline = true;
+// 				 removeButton.Label = StringParserService.Parse(
+// 					 &quot;${res:Global.RemoveButtonText}&quot;);
+// 				 removeButton.UseUnderline = true;
+// 				 addButton.Label = StringParserService.Parse(
+// 					 &quot;${res:Global.AddButtonText}&quot;);
+// 				 addButton.UseUnderline = true;
+
+				 dependendControls = new Widget[] {
+					 titleTextBox, commandTextBox, argumentTextBox, 
+					 workingDirTextBox, promptArgsCheckBox, useOutputPadCheckBox, 
+					 titleLabel, argumentLabel, commandLabel, 
+					 workingDirLabel, browseButton, argumentQuickInsertButton, 
+					 workingDirQuickInsertButton, moveUpButton, moveDownButton};
+				 
+				 
+				foreach (object o in ToolLoader.Tool) {
 					toolListBoxStore.AppendValues(((ExternalTool)o).MenuCommand, (ExternalTool) o);
 					toolListBoxItemCount ++;
-			}
-			
-			toolListBox.Reorderable = false;
-			toolListBox.HeadersVisible = true;
-			toolListBox.Selection.Mode = SelectionMode.Multiple;
-			toolListBox.Model = toolListBoxStore;
-			
-			toolListBox.AppendColumn (
-				StringParserService.Parse(&quot;${res:Dialog.Options.ExternalTool.ToolsLabel}&quot;), 
-				new CellRendererText (), 
-				&quot;text&quot;, 
-				0);
-			
-			
-			MenuService.CreateQuickInsertMenu(argumentTextBox,
-			                                  argumentQuickInsertButton,
-			                                  argumentQuickInsertMenu);
-			
-			MenuService.CreateQuickInsertMenu(workingDirTextBox,
-			                                  workingDirQuickInsertButton,
-			                                  workingDirInsertMenu);
-			
-			toolListBox.Selection.Changed += new EventHandler(selectEvent);
-			
-			removeButton.Clicked   += new EventHandler(removeEvent);
-			addButton.Clicked      += new EventHandler(addEvent);
-			moveUpButton.Clicked   += new EventHandler(moveUpEvent);
-			moveDownButton.Clicked += new EventHandler(moveDownEvent);
-			
-			browseButton.Clicked   += new EventHandler(browseEvent);
-			
-			selectEvent(this, EventArgs.Empty);
-		}
-		
-		public override bool StorePanelContents()
-		{
-			ArrayList newlist = new ArrayList();
-			TreeIter first;
-			
-			if(toolListBox.Model.GetIterFirst(out first))
-			{
-				TreeIter current = first;
-				
-				do {
-				// loop through items in the tree
-				
-					ExternalTool tool = toolListBox.Model.GetValue(current, 1) as ExternalTool;
-					if (!FileUtilityService.IsValidFileName(tool.Command)) {
-						MessageService.ShowError(String.Format(&quot;The command of tool \&quot;{0}\&quot; is invalid.&quot;, tool.MenuCommand));
-						return false;
-					}
-					if ((tool.InitialDirectory != &quot;&quot;) &amp;&amp; (!FileUtilityService.IsValidFileName(tool.InitialDirectory))) {
-						MessageService.ShowError(String.Format(&quot;The working directory of tool \&quot;{0}\&quot; is invalid.&quot;, tool.MenuCommand));
-						return false;
-					}
-					newlist.Add(tool);				 
-				} while(toolListBox.Model.IterNext(out current));
-			}
-			ToolLoader.Tool = newlist;
-			ToolLoader.SaveTools();
-			return true;
-		}
-		
-		void SetupPanelInstance()
-		{
-			// instantiate controls			
-			toolListBoxStore = new ListStore(typeof(string), typeof(ExternalTool));
-			toolListBox = new TreeView();
-			toolListBox.SetSizeRequest(200, 150);
-			titleTextBox = new Entry(); 
-			commandTextBox = new Entry(); 
-			argumentTextBox = new Entry(); 
-			workingDirTextBox = new Entry(); 
-			promptArgsCheckBox = new CheckButton(StringParserService.Parse(&quot;${res:Dialog.Options.ExternalTool.PromptForArgsCheckBox}&quot;)); 
-			useOutputPadCheckBox = new CheckButton(StringParserService.Parse(&quot;${res:Dialog.Options.ExternalTool.UseOutputWindow}&quot;)); 
-			titleLabel = new Label(StringParserService.Parse(&quot;${res:Dialog.Options.ExternalTool.TitleLabel}&quot;)); 
-			argumentLabel = new Label(StringParserService.Parse(&quot;${res:Dialog.Options.ExternalTool.ArgumentLabel}&quot;)); 
-			commandLabel = new Label(StringParserService.Parse(&quot;${res:Dialog.Options.ExternalTool.CommandLabel}&quot;)); 
-			workingDirLabel = new Label(StringParserService.Parse(&quot;${res:Dialog.Options.ExternalTool.WorkingDirLabel}&quot;));			
-			browseButton = new Button(&quot;...&quot;); 
-			argumentQuickInsertButton = new Button(&quot;&gt;&quot;); 
-			workingDirQuickInsertButton = new Button(&quot;&gt;&quot;); 
-			moveUpButton = new Button(StringParserService.Parse(&quot;${res:Dialog.Options.ExternalTool.MoveUpButton}&quot;)); 
-			moveDownButton = new Button(StringParserService.Parse(&quot;${res:Dialog.Options.ExternalTool.MoveDownButton}&quot;));
-			removeButton = new Button(StringParserService.Parse(&quot;${res:Global.RemoveButtonText}&quot;));
-			addButton = new Button(StringParserService.Parse(&quot;${res:Global.AddButtonText}&quot;));
-			
-			dependendControls = new Widget[] {
-				titleTextBox, commandTextBox, argumentTextBox, 
-				workingDirTextBox, promptArgsCheckBox, useOutputPadCheckBox, 
-				titleLabel, argumentLabel, commandLabel, 
-				workingDirLabel, browseButton, argumentQuickInsertButton, 
-				workingDirQuickInsertButton, moveUpButton, moveDownButton
-			};
-			
-			// pack all the controls
-			VBox vBox1 = new VBox(false, 2);
-			vBox1.PackStart(addButton, false, false, 2);
-			vBox1.PackStart(removeButton, false, false, 2);
-			vBox1.PackEnd(moveDownButton, false, false, 2);
-			vBox1.PackEnd(moveUpButton, false, false, 2);			
-			
-			HBox hBox1 = new HBox(false, 2);
-			hBox1.PackStart(toolListBox, false, true, 4);
-			hBox1.PackStart(vBox1, false, false, 2);
-			
-			Table table1 = new Table(4, 3, false);
-			table1.Attach(titleLabel, 0, 1, 0, 1);
-			table1.Attach(titleTextBox, 1, 3, 0, 1);
-			table1.Attach(commandLabel, 0, 1, 1, 2);
-			table1.Attach(commandTextBox, 1, 2, 1, 2);
-			table1.Attach(browseButton, 2, 3, 1, 2);
-			table1.Attach(argumentLabel, 0, 1, 2, 3);
-			table1.Attach(argumentTextBox, 1, 2, 2, 3);
-			table1.Attach(argumentQuickInsertButton, 2, 3, 2, 3);
-			table1.Attach(workingDirLabel, 0, 1, 3, 4);
-			table1.Attach(workingDirTextBox, 1, 2, 3, 4);
-			table1.Attach(workingDirQuickInsertButton, 2, 3, 3, 4);
-			
-			VBox mainBox = new VBox(false, 2);
-			mainBox.PackStart(hBox1, false, false, 2);
-			mainBox.PackStart(table1, false, false, 2);
-			mainBox.PackStart(promptArgsCheckBox, false, false, 2);
-			mainBox.PackStart(useOutputPadCheckBox, false, false, 2);
-			this.Add(mainBox);
-		}
-		
-		void browseEvent(object sender, EventArgs e)
-		{
-			Gtk.FileSelection fs = new Gtk.FileSelection (&quot;File to Open&quot;);
-			int response = fs.Run ();
-			string name = fs.Filename;
-			fs.Destroy ();
-			if (response == (int)Gtk.ResponseType.Ok) {
-				commandTextBox.Text = name;
-			}
-		}
-		
-		
-		void moveUpEvent(object sender, EventArgs e)
-		{
-			if(toolListBox.Selection.CountSelectedRows() == 1)
-			{
-				TreeIter selectedItem;
-				TreeModel ls;				
-				((ListStore)toolListBox.Model).GetIter(out selectedItem, (TreePath) toolListBox.Selection.GetSelectedRows(out ls)[0]);
-				// we know we have a selected item so get it's index
-				// use that to get the path of the item before it, and swap the two
-				int index = GetSelectedIndex(toolListBox);
-				// only swap if at the top
-				if(index &gt; 0)
-				{
-					TreeIter prev; 
-					if(toolListBox.Model.GetIterFromString(out prev, (index - 1).ToString()))
-					{
-						((ListStore)ls).Swap(selectedItem, prev);
-					}
 				}
-			}
-		}
-		void moveDownEvent(object sender, EventArgs e)
-		{
-			if(toolListBox.Selection.CountSelectedRows() == 1)
-			{
-				TreeIter selectedItem;
-				TreeModel ls;				
-				((ListStore)toolListBox.Model).GetIter(out selectedItem, (TreePath) toolListBox.Selection.GetSelectedRows(out ls)[0]);
-				
-				// swap it with the next one
-				TreeIter toSwap = selectedItem;
-				if(ls.IterNext(out toSwap))
-				{
-					((ListStore)ls).Swap(selectedItem, toSwap);
-				}
-			}
-		}
-		
-		void setToolValues(object sender, EventArgs e)
-		{
-							
-			ExternalTool selectedItem = null;
-			if(toolListBox.Selection.CountSelectedRows() == 1)
-			{
-				TreeIter selectedIter;
-				TreeModel lv;				
-				((ListStore)toolListBox.Model).GetIter(out selectedIter, (TreePath) toolListBox.Selection.GetSelectedRows(out lv)[0]);
-				
-				// get the value as an external tool object
-				selectedItem = lv.GetValue(selectedIter, 1) as ExternalTool;
-				
-				
-				lv.SetValue(selectedIter, 0, titleTextBox.Text);
-				selectedItem.MenuCommand        = titleTextBox.Text;
-				selectedItem.Command            = commandTextBox.Text;
-				selectedItem.Arguments          = argumentTextBox.Text;
-				selectedItem.InitialDirectory   = workingDirTextBox.Text;
-				selectedItem.PromptForArguments = promptArgsCheckBox.Active;
-				selectedItem.UseOutputPad       = useOutputPadCheckBox.Active;
-			}
-		}
-		
-		void selectEvent(object sender, EventArgs e)
-		{
-			SetEnabledStatus(toolListBox.Selection.CountSelectedRows() &gt; 0, removeButton);
-			
-			titleTextBox.Changed      -= new EventHandler(setToolValues);
-			commandTextBox.Changed    -= new EventHandler(setToolValues);
-			argumentTextBox.Changed   -= new EventHandler(setToolValues);
-			workingDirTextBox.Changed   -= new EventHandler(setToolValues);
-			promptArgsCheckBox.Toggled   -= new EventHandler(setToolValues);
-			useOutputPadCheckBox.Toggled -= new EventHandler(setToolValues);
-			
-			if (toolListBox.Selection.CountSelectedRows() == 1) {				
-				TreeIter selectedIter;
-				TreeModel ls;
-				((ListStore)toolListBox.Model).GetIter(out selectedIter, (TreePath) toolListBox.Selection.GetSelectedRows(out ls)[0]);				
-				
-				// get the value as an external tool object				
-				ExternalTool selectedItem = (ExternalTool) toolListBox.Model.GetValue(selectedIter, 1);
-				
-				SetEnabledStatus(true, dependendControls);
-				titleTextBox.Text      = selectedItem.MenuCommand;
-				commandTextBox.Text    = selectedItem.Command;
-				argumentTextBox.Text   = selectedItem.Arguments;
-				workingDirTextBox.Text = selectedItem.InitialDirectory;
-				promptArgsCheckBox.Active   = selectedItem.PromptForArguments;
-				useOutputPadCheckBox.Active = selectedItem.UseOutputPad;
-			} else {
-				SetEnabledStatus(false, dependendControls);
-				
-				titleTextBox.Text      = String.Empty;
-				commandTextBox.Text    = String.Empty;
-				argumentTextBox.Text   = String.Empty;
-				workingDirTextBox.Text = String.Empty;
-				promptArgsCheckBox.Active   = false;
-				useOutputPadCheckBox.Active = false;
-			}
-			
-			titleTextBox.Changed      += new EventHandler(setToolValues);
-			commandTextBox.Changed    += new EventHandler(setToolValues);
-			argumentTextBox.Changed   += new EventHandler(setToolValues);
-			workingDirTextBox.Changed += new EventHandler(setToolValues);
-			promptArgsCheckBox.Toggled   += new EventHandler(setToolValues);
-			useOutputPadCheckBox.Toggled += new EventHandler(setToolValues);
-		}
-		
-		void removeEvent(object sender, EventArgs e)
-		{
-			int selectedItemCount = toolListBox.Selection.CountSelectedRows();
-			if(selectedItemCount &gt; 0) {
-				int maxIndex = 0;
-				// first copy the selected item paths into a temp array
-				TreeIter[] selectedIters = new TreeIter[selectedItemCount];
-				TreeModel lv;
-				TreePath[] pathList = toolListBox.Selection.GetSelectedRows(out lv);								
-				for(int i = 0; i &lt; selectedItemCount; i++) {
-					((ListStore)lv).GetIter(out selectedIters[i], pathList[i]);
-					maxIndex = pathList[i].Indices[0];
-				}
-				
-				// now delete each item in that list
-				foreach(TreeIter toDelete in selectedIters) {
-					TreeIter itr = toDelete;
-					toolListBoxItemCount --;
-					((ListStore)lv).Remove(out itr);
-				}
-				
-				if (toolListBoxItemCount == 0) {
-					selectEvent(this, EventArgs.Empty);
-				} else {
-					SetSelectedIndex(toolListBox, Math.Min(maxIndex,toolListBoxItemCount - 1));
-				}
-			}
-		}
-		
-		void addEvent(object sender, EventArgs e)
-		{
-			TreeIter itr = toolListBoxStore.AppendValues(&quot;New Tool&quot;, new ExternalTool());
-			toolListBoxItemCount ++;
-			toolListBox.Selection.UnselectAll();
-			toolListBox.Selection.SelectIter(itr);
-		}
-		
-		// added this event to get the last select row index from gtk TreeView
-		int GetSelectedIndex(TreeView tv)
-		{
-			if(toolListBox.Selection.CountSelectedRows() == 1)
-			{
-				TreeIter selectedIter;
-				TreeModel lv;				
-				((ListStore)toolListBox.Model).GetIter(out selectedIter, (TreePath) toolListBox.Selection.GetSelectedRows(out lv)[0]);
-			
-				// return index of first level node (since only 1 level list model)
-				return lv.GetPath(selectedIter).Indices[0];
-			}
-			else
-			{
-				return -1;
-			}
-		}
-		
-		// added this event to set a specific row as selected from index
-		void SetSelectedIndex(TreeView tv, int index)
-		{
-			//convert index to a path
-			TreePath path = new TreePath(index.ToString());
-			tv.Selection.UnselectAll();
-			tv.Selection.SelectPath(path);
-		}
-		
-		// disables or enables (sets sensitivty) a specified array of widgets
-		public void SetEnabledStatus(bool enabled, params Widget[] controls)
-		{
-			foreach (Widget control in controls) {				
-				if (control == null) {
-					MessageService.ShowError(&quot;Control not found!&quot;);
-				} else {
-					control.Sensitive = enabled;
-				}
-			}
-		}
-	}
-}
+					 
+				 toolListBox.Reorderable = false;
+			       	 toolListBox.HeadersVisible = true;
+		       		 toolListBox.Selection.Mode = SelectionMode.Multiple;
+	       			 toolListBox.Model = toolListBoxStore;
+					 
+				 toolListBox.AppendColumn (
+		       			 StringParserService.Parse(&quot;${res:Dialog.Options.ExternalTool.ToolsLabel}&quot;),
+					 new CellRendererText (), 
+					 &quot;text&quot;, 
+					 0);
+				 Console.WriteLine(&quot;Create Quick Menu&quot;);					 					 
+				 MenuService.CreateQuickInsertMenu(argumentTextBox,
+						 argumentQuickInsertButton,
+						 argumentQuickInsertMenu);
+				 Console.WriteLine(&quot;Create Quick Menu&quot;);					 
+				 MenuService.CreateQuickInsertMenu(workingDirTextBox,
+						 workingDirQuickInsertButton,
+						 workingDirInsertMenu);
+					 
+				 toolListBox.Selection.Changed += new EventHandler(selectEvent);
+				 Console.WriteLine(&quot;Connecting&quot;);					 
+				 removeButton.Clicked   += new EventHandler(removeEvent);
+				 addButton.Clicked      += new EventHandler(addEvent);
+			         moveUpButton.Clicked   += new EventHandler(moveUpEvent);
+				 moveDownButton.Clicked += new EventHandler(moveDownEvent);
+				 browseButton.Clicked   += new EventHandler(browseEvent);
+
+				 selectEvent(this, EventArgs.Empty);
+
+				 Console.WriteLine(&quot;Test3&quot;);	 
+
+			 }
+	                 void browseEvent(object sender, EventArgs e)
+			 {
+				 Console.WriteLine(&quot;browseEvent&quot;);
+				 Gtk.FileSelection fs = new Gtk.FileSelection (&quot;File to Open&quot;);
+				 int response = fs.Run ();
+				 string name = fs.Filename;
+				 fs.Destroy ();
+				 if (response == (int)Gtk.ResponseType.Ok) {
+					 commandTextBox.Text = name;
+				 }
+			 }
+				 
+				 
+	   	   	void moveUpEvent(object sender, EventArgs e)
+			 {
+				 Console.WriteLine(&quot;moveUpEvent&quot;);
+				 if(toolListBox.Selection.CountSelectedRows() == 1)
+				 {
+					 TreeIter selectedItem;
+					 TreeModel ls;				
+					 ((ListStore)toolListBox.Model).GetIter(
+						 out selectedItem, (TreePath) toolListBox.Selection.GetSelectedRows(out ls)[0]);
+					 // we know we have a selected item so get it's index
+					 // use that to get the path of the item before it, and swap the two
+					 int index = GetSelectedIndex(toolListBox);
+					 // only swap if at the top
+					 if(index &gt; 0)
+					 {
+						 TreeIter prev; 
+						 if(toolListBox.Model.GetIterFromString(out prev, (index - 1).ToString()))
+						 {
+							 ((ListStore)ls).Swap(selectedItem, prev);
+						 }
+					 }
+				 }
+			 }
+				 
+	   	   	void moveDownEvent(object sender, EventArgs e)
+			 {
+				 Console.WriteLine(&quot;moveDownEvent&quot;);
+				 if(toolListBox.Selection.CountSelectedRows() == 1)
+				 {
+					 TreeIter selectedItem;
+					 TreeModel ls;				
+					 ((ListStore)toolListBox.Model).GetIter(
+						 out selectedItem, (TreePath) toolListBox.Selection.GetSelectedRows(out ls)[0]);
+					 // swap it with the next one
+					 TreeIter toSwap = selectedItem;
+					 if(ls.IterNext(out toSwap))
+					 {
+						 ((ListStore)ls).Swap(selectedItem, toSwap);
+					 }
+				 }
+			 }
+				 
+	   	   	void setToolValues(object sender, EventArgs e)
+			 {
+				 Console.WriteLine(&quot;setToolValues&quot;);
+				 ExternalTool selectedItem = null;
+				 if(toolListBox.Selection.CountSelectedRows() == 1)
+				 {
+					 TreeIter selectedIter;
+					 TreeModel lv;				
+					 ((ListStore)toolListBox.Model).GetIter(
+						 out selectedIter, (TreePath) toolListBox.Selection.GetSelectedRows(out lv)[0]);
+						 
+					 // get the value as an external tool object
+					 selectedItem = lv.GetValue(selectedIter, 1) as ExternalTool;
+						 
+						 
+					 lv.SetValue(selectedIter, 0, titleTextBox.Text);
+					 selectedItem.MenuCommand        = titleTextBox.Text;
+					 selectedItem.Command            = commandTextBox.Text;
+					 selectedItem.Arguments          = argumentTextBox.Text;
+					 selectedItem.InitialDirectory   = workingDirTextBox.Text;
+					 selectedItem.PromptForArguments = promptArgsCheckBox.Active;
+					 selectedItem.UseOutputPad       = useOutputPadCheckBox.Active;
+				 }
+			 }
+				 
+	   	   	void selectEvent(object sender, EventArgs e)
+			 {
+				 Console.WriteLine(&quot;selectEvent&quot;);
+				 SetEnabledStatus(toolListBox.Selection.CountSelectedRows() &gt; 0, removeButton);
+					 
+				 titleTextBox.Changed         -= new EventHandler(setToolValues);
+				 commandTextBox.Changed       -= new EventHandler(setToolValues);
+				 argumentTextBox.Changed      -= new EventHandler(setToolValues);
+				 workingDirTextBox.Changed    -= new EventHandler(setToolValues);
+				 promptArgsCheckBox.Toggled   -= new EventHandler(setToolValues);
+				 useOutputPadCheckBox.Toggled -= new EventHandler(setToolValues);
+				 
+				 if (toolListBox.Selection.CountSelectedRows() == 1) {				
+					 TreeIter selectedIter;
+					 TreeModel ls;
+					 ((ListStore)toolListBox.Model).GetIter(
+						 out selectedIter, (TreePath) toolListBox.Selection.GetSelectedRows(out ls)[0]);
+
+					 // get the value as an external tool object				
+					 ExternalTool selectedItem = (ExternalTool) toolListBox.Model.GetValue(selectedIter, 1);
+					 
+					 SetEnabledStatus(true, dependendControls);
+					 titleTextBox.Text      = selectedItem.MenuCommand;
+					 commandTextBox.Text    = selectedItem.Command;
+					 argumentTextBox.Text   = selectedItem.Arguments;
+					 workingDirTextBox.Text = selectedItem.InitialDirectory;
+					 promptArgsCheckBox.Active   = selectedItem.PromptForArguments;
+					 useOutputPadCheckBox.Active = selectedItem.UseOutputPad;
+				 } else {
+					 SetEnabledStatus(false, dependendControls);
+					 
+					 titleTextBox.Text      = String.Empty;
+					 commandTextBox.Text    = String.Empty;
+					 argumentTextBox.Text   = String.Empty;
+					 workingDirTextBox.Text = String.Empty;
+					 promptArgsCheckBox.Active   = false;
+					 useOutputPadCheckBox.Active = false;
+				 }
+				 
+				 titleTextBox.Changed      += new EventHandler(setToolValues);
+				 commandTextBox.Changed    += new EventHandler(setToolValues);
+				 argumentTextBox.Changed   += new EventHandler(setToolValues);
+				 workingDirTextBox.Changed += new EventHandler(setToolValues);
+				 promptArgsCheckBox.Toggled   += new EventHandler(setToolValues);
+				 useOutputPadCheckBox.Toggled += new EventHandler(setToolValues);
+			 }
+			 
+	   	   	void removeEvent(object sender, EventArgs e)
+			 {
+				 Console.WriteLine(&quot;removeEvent&quot;);
+				 int selectedItemCount = toolListBox.Selection.CountSelectedRows();
+				 if(selectedItemCount &gt; 0) {
+					 int maxIndex = 0;
+					 // first copy the selected item paths into a temp array
+					 TreeIter[] selectedIters = new TreeIter[selectedItemCount];
+					 TreeModel lv;
+					 TreePath[] pathList = toolListBox.Selection.GetSelectedRows(out lv);								
+					 for(int i = 0; i &lt; selectedItemCount; i++) {
+						 TreePath path = (TreePath) pathList[i];
+						 ((ListStore)lv).GetIter(out selectedIters[i], path);
+						 maxIndex = path.Indices[0];
+					 }
+					 
+					 // now delete each item in that list
+					 foreach(TreeIter toDelete in selectedIters) {
+						 TreeIter itr = toDelete;
+						 toolListBoxItemCount --;
+						 ((ListStore)lv).Remove(out itr);
+					 }
+					 
+					 if (toolListBoxItemCount == 0) {
+						 selectEvent(this, EventArgs.Empty);
+					 } else {
+						 SetSelectedIndex(toolListBox, Math.Min(maxIndex,toolListBoxItemCount - 1));
+					 }
+				 }
+			 }
+			 
+	   	   	void addEvent(object sender, EventArgs e)
+			 {
+				 Console.WriteLine(&quot;addEvent&quot;);
+				 TreeIter itr = toolListBoxStore.AppendValues(&quot;New Tool&quot;, new ExternalTool());
+				 toolListBoxItemCount ++;
+				 toolListBox.Selection.UnselectAll();
+				 toolListBox.Selection.SelectIter(itr);
+			 }
+			 
+			 // added this event to get the last select row index from gtk TreeView
+	   	   	int GetSelectedIndex(Gtk.TreeView tv)
+			 {
+				 Console.WriteLine(&quot;GetSelectedIndex&quot;);
+				 if(toolListBox.Selection.CountSelectedRows() == 1)
+				 {
+					 TreeIter selectedIter;
+					 TreeModel lv;				
+					 ((ListStore)toolListBox.Model).GetIter(
+						 out selectedIter, (TreePath) toolListBox.Selection.GetSelectedRows(out lv)[0]);
+					 
+					 // return index of first level node (since only 1 level list model)
+					 return lv.GetPath(selectedIter).Indices[0];
+				 }
+				 else
+				 {
+					 return -1;
+				 }
+			 }
+			 
+			 // added this event to set a specific row as selected from index
+	   	   	void SetSelectedIndex(Gtk.TreeView tv, int index)
+			 {
+				 Console.WriteLine(&quot;SetSelectedIndex&quot;);
+				 //convert index to a path
+				 TreePath path = new TreePath(index.ToString());
+				 tv.Selection.UnselectAll();
+				 tv.Selection.SelectPath(path);
+			 }
+		 
+			 // disables or enables (sets sensitivty) a specified array of widgets
+			 public void SetEnabledStatus(bool enabled, params Widget[] controls)
+			 {
+				 Console.WriteLine(&quot;SetEnabledStatus&quot;);
+				 foreach (Widget control in controls) {				
+					 if (control == null) {
+						 MessageService.ShowError(&quot;Control not found!&quot;);
+					 } else {
+						 control.Sensitive = enabled;
+					 }
+				 }
+			 }
+
+			 public bool Store ()
+			 {
+				 Console.WriteLine(&quot;Entering Store&quot;);
+				 ArrayList newlist = new ArrayList();
+				 TreeIter first;
+				 Console.WriteLine(&quot;Entering Store 1&quot;);				 
+				 if(toolListBox.Model.GetIterFirst(out first))
+				 {
+				 Console.WriteLine(&quot;In loop&quot;);				 
+					 TreeIter current = first;
+					 
+					 do {
+						 // loop through items in the tree
+						 
+					 ExternalTool tool = toolListBox.Model.GetValue(current, 1) as ExternalTool;
+					 if (!FileUtilityService.IsValidFileName(tool.Command)) {
+						 MessageService.ShowError(String.Format(
+										  &quot;The command of tool \&quot;{0}\&quot; is invalid.&quot;, 
+										  tool.MenuCommand));
+						 return false;
+					 }
+					 if ((tool.InitialDirectory != &quot;&quot;) &amp;&amp; (!FileUtilityService.IsValidFileName(tool.InitialDirectory))) {
+						 MessageService.ShowError(String.Format(&quot;The working directory of tool \&quot;{0}\&quot; is invalid.&quot;,
+											  tool.MenuCommand));
+						 return false;
+					 }
+					 newlist.Add(tool);				 
+					 } while(toolListBox.Model.IterNext(out current));
+				 }
+				 Console.WriteLine(&quot;Entering Store 2&quot;);				 
+				 ToolLoader.Tool = newlist;
+				 ToolLoader.SaveTools();
+				 Console.WriteLine(&quot;Exiting&quot;);				 
+				 return true;
+			 }
+		 }
+	 }
+ }
+


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000523.html">[Monodevelop-patches-list] r918 - in trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor: CodeCompletion InsightWindow
</A></li>
	<LI>Next message: <A HREF="000525.html">[Monodevelop-patches-list] r920 - trunk/MonoDevelop/build/AddIns
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#524">[ date ]</a>
              <a href="thread.html#524">[ thread ]</a>
              <a href="subject.html#524">[ subject ]</a>
              <a href="author.html#524">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
