<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r990 - in trunk/MonoDevelop/src: AddIns/BackendBindings/CSharpBinding/Gui AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels Main/Base/Gui/Dialogs/OptionPanels/IDEOptions Main/Base/Gui/Workbench
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r990%20-%20in%20trunk/MonoDevelop/src%3A%20AddIns/BackendBindings/CSharpBinding/Gui%20AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels%20Main/Base/Gui/Dialogs/OptionPanels/IDEOptions%20Main/Base/Gui/Workbench&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000594.html">
   <LINK REL="Next"  HREF="000596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r990 - in trunk/MonoDevelop/src: AddIns/BackendBindings/CSharpBinding/Gui AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels Main/Base/Gui/Dialogs/OptionPanels/IDEOptions Main/Base/Gui/Workbench</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r990%20-%20in%20trunk/MonoDevelop/src%3A%20AddIns/BackendBindings/CSharpBinding/Gui%20AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels%20Main/Base/Gui/Dialogs/OptionPanels/IDEOptions%20Main/Base/Gui/Workbench&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r990 - in trunk/MonoDevelop/src: AddIns/BackendBindings/CSharpBinding/Gui AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels Main/Base/Gui/Dialogs/OptionPanels/IDEOptions Main/Base/Gui/Workbench">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Sun Feb 22 20:21:58 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000594.html">[Monodevelop-patches-list] r989 - trunk/MonoDevelop/build/AddIns
</A></li>
        <LI>Next message: <A HREF="000596.html">[Monodevelop-patches-list] r991 - in trunk/MonoDevelop/src/Main: Base/Commands Base/Gui/Dialogs StartUp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#595">[ date ]</a>
              <a href="thread.html#595">[ thread ]</a>
              <a href="subject.html#595">[ subject ]</a>
              <a href="author.html#595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tberman
Date: 2004-02-22 20:21:58 -0500 (Sun, 22 Feb 2004)
New Revision: 990

Modified:
   trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Gui/CodeGenerationPanel.cs
   trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/BehaviorTextEditorPanel.cs
   trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/GeneralTextEditorPanel.cs
   trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/MarkersTextEditorPanel.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/CodeGenerationPanel.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/ProjectAndCombinePanel.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/SelectStylePanel.cs
   trunk/MonoDevelop/src/Main/Base/Gui/Workbench/DefaultWorkbench.cs
Log:
ugh, lots of property fixes. closes bug #54723.

also fix another s/SharpDevelop/MonoDevelop/


Modified: trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Gui/CodeGenerationPanel.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Gui/CodeGenerationPanel.cs	2004-02-22 23:45:49 UTC (rev 989)
+++ trunk/MonoDevelop/src/AddIns/BackendBindings/CSharpBinding/Gui/CodeGenerationPanel.cs	2004-02-23 01:21:58 UTC (rev 990)
@@ -33,7 +33,7 @@
 		
 		// Services
 		StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (typeof (StringParserService));
-		PropertyService PropertyService = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
+		PropertyService p = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
 		static readonly string codeGenerationProperty = &quot;SharpDevelop.UI.CodeGenerationOptions&quot;;
 		
 		public override void LoadPanelContents()
@@ -41,7 +41,6 @@
 			// set up the form controls instance
 			SetupPanelInstance();
 			
-			IProperties p = (IProperties)PropertyService.GetProperty(codeGenerationProperty, new DefaultProperties());
 			
 			generateAdditonalCommentsCheckBox.Active = p.GetProperty(&quot;GenerateAdditionalComments&quot;, true);
 			generateDocCommentsCheckBox.Active       = p.GetProperty(&quot;GenerateDocumentComments&quot;, true);
@@ -54,14 +53,12 @@
 		
 		public override bool StorePanelContents()
 		{
-			IProperties p = (IProperties)PropertyService.GetProperty(codeGenerationProperty, new DefaultProperties());
 			p.SetProperty(&quot;GenerateAdditionalComments&quot;, generateAdditonalCommentsCheckBox.Active);
 			p.SetProperty(&quot;GenerateDocumentComments&quot;,   generateDocCommentsCheckBox.Active);
 			p.SetProperty(&quot;UseFullyQualifiedNames&quot;,     useFullTypeNamesCheckBox.Active);
 			p.SetProperty(&quot;BlankLinesBetweenMembers&quot;,   blankLinesBetweenMemberCheckBox.Active);
 			p.SetProperty(&quot;ElseOnClosing&quot;,              elseOnClosingCheckBox.Active);
 			p.SetProperty(&quot;StartBlockOnSameLine&quot;,       startBlockOnTheSameLineCheckBox.Active);
-			PropertyService.SetProperty(codeGenerationProperty, p);
 			return true;
 		}
 		

Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/BehaviorTextEditorPanel.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/BehaviorTextEditorPanel.cs	2004-02-22 23:45:49 UTC (rev 989)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/BehaviorTextEditorPanel.cs	2004-02-23 01:21:58 UTC (rev 990)
@@ -35,12 +35,12 @@
 		
 		public override void LoadPanelContents()
 		{
-			Add (widget = new BehaviorTextEditorPanelWidget ((IProperties) CustomizationObject));
+			Add (widget = new BehaviorTextEditorPanelWidget ());
 		}
 		
 		public override bool StorePanelContents()
 		{
-			widget.Store ((IProperties) CustomizationObject);
+			widget.Store ();
 			return true;
 		}
 		
@@ -65,8 +65,10 @@
 			[Glade.Widget] RadioButton              automaticIndentStyle;
 			[Glade.Widget] RadioButton              smartIndentStyle;
 			[Glade.Widget] SpinButton               indentAndTabSizeSpinButton;
+
+			PropertyService CustomizationObject = (PropertyService) ServiceManager.Services.GetService (typeof (PropertyService));
 			
-			public BehaviorTextEditorPanelWidget (IProperties CustomizationObject) :  
+			public BehaviorTextEditorPanelWidget () :  
 				base (&quot;EditorBindings.glade&quot;, &quot;BehaviorTextEditorPanel&quot;)
 			{
 				// Set up Text
@@ -133,7 +135,7 @@
 				}
 			}
 
-			public void Store (IProperties CustomizationObject)
+			public void Store ()
 			{
 				((IProperties)CustomizationObject).SetProperty(
 					&quot;TabsToSpaces&quot;,           convertTabsToSpacesCheckBox.Active);

Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/GeneralTextEditorPanel.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/GeneralTextEditorPanel.cs	2004-02-22 23:45:49 UTC (rev 989)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/GeneralTextEditorPanel.cs	2004-02-23 01:21:58 UTC (rev 990)
@@ -33,12 +33,12 @@
 		
 		public override void LoadPanelContents()
 		{
-			Add (widget = new GeneralTextEditorPanelWidget ((IProperties) CustomizationObject));
+			Add (widget = new GeneralTextEditorPanelWidget ());
 		}
 		
 		public override bool StorePanelContents()
 		{
-			widget.Store ((IProperties) CustomizationObject);
+			widget.Store ();
 			return true;
 		}
 	
@@ -58,7 +58,9 @@
 			[Glade.Widget] VBox encodingBox;
 			[Glade.Widget] RadioButton use_monospace, use_sans, use_cust;
 			
-			public GeneralTextEditorPanelWidget (IProperties CustomizationObject) :  base (&quot;EditorBindings.glade&quot;, &quot;GeneralTextEditorPanel&quot;)
+			PropertyService CustomizationObject = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
+			
+			public GeneralTextEditorPanelWidget () :  base (&quot;EditorBindings.glade&quot;, &quot;GeneralTextEditorPanel&quot;)
 			{
 				encodingBox.Destroy(); // this is a really dirty way of hiding encodingBox, but Hide() doesn't work
 				genOptions.Markup = &quot;&lt;b&gt; &quot; + StringParserService.Parse(
@@ -129,7 +131,7 @@
 // 				textEncodingComboBox.Changed += new EventHandler (OnOptionChanged);
 			}
 
-			public void Store (IProperties CustomizationObject)
+			public void Store ()
 			{
 				((IProperties) CustomizationObject).SetProperty (
 					&quot;DoubleBuffer&quot;, enableDoublebufferingCheckBox.Active);

Modified: trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/MarkersTextEditorPanel.cs
===================================================================
--- trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/MarkersTextEditorPanel.cs	2004-02-22 23:45:49 UTC (rev 989)
+++ trunk/MonoDevelop/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/MarkersTextEditorPanel.cs	2004-02-23 01:21:58 UTC (rev 990)
@@ -32,12 +32,12 @@
 		public override void LoadPanelContents()
 		{
 			// set up the form controls instance
-			Add (widget = new MarkersTextEditorPanelWidget ((IProperties) CustomizationObject));	
+			Add (widget = new MarkersTextEditorPanelWidget ());	
 		}
 		
 		public override bool StorePanelContents()
 		{
-			widget.Store ((IProperties) CustomizationObject);
+			widget.Store ();
 			return true;
 		}
 
@@ -67,7 +67,9 @@
 			[Glade.Widget] CheckButton showSpaceCharsCheckBox;
 			[Glade.Widget] SpinButton  vRulerRowTextBox;
 
-			public MarkersTextEditorPanelWidget (IProperties CustomizationObject) :  
+			PropertyService CustomizationObject = (PropertyService) ServiceManager.Services.GetService (typeof (PropertyService));
+			
+			public MarkersTextEditorPanelWidget () :  
 				base (&quot;EditorBindings.glade&quot;, &quot;MarkersTextEditorPanel&quot;)
 			{
 				// Load Text
@@ -123,7 +125,7 @@
 
 			}
 
-			public void Store (IProperties CustomizationObject)
+			public void Store ()
 			{
 				((IProperties)CustomizationObject).SetProperty(&quot;ShowInvalidLines&quot;,     showInvalidLinesCheckBox.Active);
 				((IProperties)CustomizationObject).SetProperty(&quot;ShowLineNumbers&quot;,      showLineNumberCheckBox.Active);

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/CodeGenerationPanel.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/CodeGenerationPanel.cs	2004-02-22 23:45:49 UTC (rev 989)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/CodeGenerationPanel.cs	2004-02-23 01:21:58 UTC (rev 990)
@@ -24,6 +24,7 @@
 	public class CodeGenerationPanel : AbstractOptionPanel {
 		
 		class CodeGenerationPanelWidget : GladeWidgetExtract {
+			PropertyService p = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
 			StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (typeof (StringParserService));
 			
 			[Glade.Widget] Label hdr_code_generation_options;
@@ -40,7 +41,7 @@
 				chk_doc_comments,
 				chk_other_comments;
 			
-			public CodeGenerationPanelWidget (IProperties p) : base (&quot;Base.glade&quot;, &quot;CodeGenerationOptionsPanel&quot;)
+			public CodeGenerationPanelWidget () : base (&quot;Base.glade&quot;, &quot;CodeGenerationOptionsPanel&quot;)
 			{
 				i18nizeHeader (hdr_code_generation_options, &quot;${res:Dialog.Options.IDEOptions.CodeGenerationOptionsPanel.CodeGenerationOptionsGroupBox}&quot;);
 				i18nizeHeader (hdr_comment_generation_options, &quot;${res:Dialog.Options.IDEOptions.CodeGenerationOptionsPanel.CommentGenerationOptionsGroupBox}&quot;);
@@ -62,7 +63,7 @@
 				chk_other_comments.Active     = p.GetProperty(&quot;GenerateAdditionalComments&quot;, true);
 			}
 			
-			public void Store (IProperties p)
+			public void Store ()
 			{
 				p.SetProperty (&quot;StartBlockOnSameLine&quot;,       chk_blk_on_same_line.Active);
 				p.SetProperty (&quot;ElseOnClosing&quot;,              chk_else_on_same_line.Active);
@@ -94,17 +95,12 @@
 		
 		public override void LoadPanelContents ()
 		{
-			IProperties p = (IProperties) PropertyService.GetProperty (codeGenerationProperty, new DefaultProperties ());
-			Add (widget = new CodeGenerationPanelWidget (p));
+			Add (widget = new CodeGenerationPanelWidget ());
 		}
 		
 		public override bool StorePanelContents ()
 		{
-			IProperties p = (IProperties) PropertyService.GetProperty (codeGenerationProperty, new DefaultProperties ());
-			
-			widget.Store (p);
-			
-			PropertyService.SetProperty(codeGenerationProperty, p);
+			widget.Store ();
 			return true;
 		}
 	}

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/ProjectAndCombinePanel.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/ProjectAndCombinePanel.cs	2004-02-22 23:45:49 UTC (rev 989)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/ProjectAndCombinePanel.cs	2004-02-23 01:21:58 UTC (rev 990)
@@ -37,13 +37,11 @@
 
 		public override void LoadPanelContents()
 		{
-			IProperties p = (IProperties) PropertyService.GetProperty (projectAndCombineProperty, new DefaultProperties ());
-			Add (widget = new  ProjectAndCombinePanelWidget (p));
+			Add (widget = new  ProjectAndCombinePanelWidget ());
 		}
 		
 		public override bool StorePanelContents()
 		{
-			IProperties p = (IProperties) PropertyService.GetProperty (projectAndCombineProperty, new DefaultProperties ());
 
 			// check for correct settings
 			string projectPath = widget.projectLocationTextBox.GtkEntry.Text;
@@ -53,10 +51,9 @@
 					return false;
 				}
 			}
-			p.SetProperty(&quot;ICSharpCode.SharpDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, projectPath);
+			PropertyService.SetProperty(&quot;ICSharpCode.SharpDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, projectPath);
 
-			widget.Store (p);
-			PropertyService.SetProperty(projectAndCombineProperty, p);
+			widget.Store ();
 			return true;
 		}
 		
@@ -65,6 +62,7 @@
 		{
 			// service instances needed
 			StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (typeof (StringParserService));
+			PropertyService PropertyService = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
 
 			//
 			// Gtk controls
@@ -74,7 +72,7 @@
 			[Glade.Widget] public Gtk.CheckButton loadPrevProjectCheckBox, showTaskListCheckBox, showOutputCheckBox;
 			[Glade.Widget] public Gtk.Label locationLabel, settingsLabel, buildAndRunOptionsLabel;   
 
-			public  ProjectAndCombinePanelWidget (IProperties p) : base (&quot;Base.glade&quot;, &quot;ProjectAndCombinePanel&quot;)
+			public  ProjectAndCombinePanelWidget () : base (&quot;Base.glade&quot;, &quot;ProjectAndCombinePanel&quot;)
 			{
 				
 				settingsLabel.Markup = &quot;&lt;b&gt; &quot; + StringParserService.Parse(
@@ -104,41 +102,41 @@
 				showTaskListCheckBox.Label = StringParserService.Parse(
 					&quot;${res:Dialog.Options.IDEOptions.ProjectAndCombineOptions.ShowTaskListPadCheckBox}&quot;);
 				// read properties
-				projectLocationTextBox.GtkEntry.Text = p.GetProperty(
+				projectLocationTextBox.GtkEntry.Text = PropertyService.GetProperty(
 					&quot;ICSharpCode.SharpDevelop.Gui.Dialogs.NewProjectDialog.DefaultPath&quot;, 
 					System.IO.Path.Combine(System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal),
 							&quot;MonoDevelopProjects&quot;)).ToString();
-				BeforeCompileAction action = (BeforeCompileAction) p.GetProperty(
+				BeforeCompileAction action = (BeforeCompileAction) PropertyService.GetProperty(
 					&quot;SharpDevelop.Services.DefaultParserService.BeforeCompileAction&quot;, 
 					BeforeCompileAction.SaveAllFiles);
 				saveChangesRadioButton.Active = action.Equals(BeforeCompileAction.SaveAllFiles);
 				promptChangesRadioButton.Active = action.Equals(BeforeCompileAction.PromptForSave);
 				noSaveRadioButton.Active = action.Equals(BeforeCompileAction.Nothing);
-				loadPrevProjectCheckBox.Active = (bool)p.GetProperty(
+				loadPrevProjectCheckBox.Active = (bool)PropertyService.GetProperty(
 					&quot;SharpDevelop.LoadPrevProjectOnStartup&quot;, false);
-				showTaskListCheckBox.Active = (bool)p.GetProperty(
+				showTaskListCheckBox.Active = (bool)PropertyService.GetProperty(
 					&quot;SharpDevelop.ShowTaskListAfterBuild&quot;, true);
-				showOutputCheckBox.Active = (bool)p.GetProperty(
+				showOutputCheckBox.Active = (bool)PropertyService.GetProperty(
 					&quot;SharpDevelop.ShowOutputWindowAtBuild&quot;, true);
 			}
 			
-			public void Store (IProperties p)
+			public void Store ()
 			{
 				// set properties
 				if (saveChangesRadioButton.Active) {
-					p.SetProperty(&quot;SharpDevelop.Services.DefaultParserService.BeforeCompileAction&quot;, 
+					PropertyService.SetProperty(&quot;SharpDevelop.Services.DefaultParserService.BeforeCompileAction&quot;, 
 							BeforeCompileAction.SaveAllFiles);
 				} else if (promptChangesRadioButton.Active) {
-					p.SetProperty(&quot;SharpDevelop.Services.DefaultParserService.BeforeCompileAction&quot;, 
+					PropertyService.SetProperty(&quot;SharpDevelop.Services.DefaultParserService.BeforeCompileAction&quot;, 
 							BeforeCompileAction.PromptForSave);
 				} else if (noSaveRadioButton.Active) {
-					p.SetProperty(&quot;SharpDevelop.Services.DefaultParserService.BeforeCompileAction&quot;, 
+					PropertyService.SetProperty(&quot;SharpDevelop.Services.DefaultParserService.BeforeCompileAction&quot;, 
 							BeforeCompileAction.Nothing);
 				}
 				
-				p.SetProperty(&quot;SharpDevelop.LoadPrevProjectOnStartup&quot;, loadPrevProjectCheckBox.Active);
-				p.SetProperty(&quot;SharpDevelop.ShowTaskListAfterBuild&quot;, showTaskListCheckBox.Active);
-				p.SetProperty(&quot;SharpDevelop.ShowOutputWindowAtBuild&quot;, showOutputCheckBox.Active);
+				PropertyService.SetProperty(&quot;SharpDevelop.LoadPrevProjectOnStartup&quot;, loadPrevProjectCheckBox.Active);
+				PropertyService.SetProperty(&quot;SharpDevelop.ShowTaskListAfterBuild&quot;, showTaskListCheckBox.Active);
+				PropertyService.SetProperty(&quot;SharpDevelop.ShowOutputWindowAtBuild&quot;, showOutputCheckBox.Active);
 			}
 		}
 	}

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/SelectStylePanel.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/SelectStylePanel.cs	2004-02-22 23:45:49 UTC (rev 989)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/SelectStylePanel.cs	2004-02-23 01:21:58 UTC (rev 990)
@@ -28,21 +28,19 @@
 
 		public override void LoadPanelContents()
 		{
-			IProperties p = (IProperties) PropertyService.GetProperty (selectStyleProperty, new DefaultProperties ());
-			Add (widget = new SelectStylePanelWidget (p));
+			Add (widget = new SelectStylePanelWidget ());
 		}
 		
 		public override bool StorePanelContents()
 		{
-			IProperties p = (IProperties) PropertyService.GetProperty (selectStyleProperty, new DefaultProperties ());
-			widget.Store (p);
-			PropertyService.SetProperty(selectStyleProperty, p);
+			widget.Store ();
 			return true;
 		}
 
 		class SelectStylePanelWidget : GladeWidgetExtract 
 		{
 
+			PropertyService p = (PropertyService)ServiceManager.Services.GetService (typeof (PropertyService));
 			//FIXME: Hashtables are wrong here.
 			//FIXME: Yes, this is a dirty hack.
 			//FIXME: Lets use something else.
@@ -53,7 +51,7 @@
 			[Glade.Widget] public Gtk.CheckButton hiddenButton;
 			[Glade.Widget] public Gtk.OptionMenu option;
 					
-			public SelectStylePanelWidget (IProperties p) : base (&quot;Base.glade&quot;, &quot;SelectStylePanel&quot;)
+			public SelectStylePanelWidget () : base (&quot;Base.glade&quot;, &quot;SelectStylePanel&quot;)
 			{
 				ambienceMenu = new Gtk.Menu ();
 				option.Menu = ambienceMenu;
@@ -67,17 +65,17 @@
 				foreach (IAddInTreeNode childNode in treeNode.ChildNodes.Values) 
 				{
 					Gtk.MenuItem i = Gtk.MenuItem.NewWithLabel (childNode.Codon.ID);
-				ambienceMenu.Append(i);
-				MenuToValue[i] = childNode.Codon.ID;
-				if (childNode.Codon.ID == active) {
-					option.SetHistory (im);
+					ambienceMenu.Append(i);
+					MenuToValue[i] = childNode.Codon.ID;
+					if (childNode.Codon.ID == active) {
+						option.SetHistory (im);
+					}
+					im++;
 				}
-				im++;
-				}
 				
 			}
 			
-			public void Store(IProperties p)
+			public void Store()
 			{
 				p.SetProperty(&quot;ICSharpCode.SharpDevelop.Gui.ProjectBrowser.ShowExtensions&quot;, extensionButton.Active);
 				p.SetProperty(&quot;ICSharpCode.SharpDevelop.Gui.FileScout.ShowHidden&quot;, hiddenButton.Active);

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Workbench/DefaultWorkbench.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Workbench/DefaultWorkbench.cs	2004-02-22 23:45:49 UTC (rev 989)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Workbench/DefaultWorkbench.cs	2004-02-23 01:21:58 UTC (rev 990)
@@ -515,9 +515,9 @@
 			UpdateMenu(null, null);
 			ResourceService resourceService = (ResourceService)ServiceManager.Services.GetService(typeof(IResourceService));
 			if (e.Project != null) {
-				Title = String.Concat(e.Project.Name, &quot; - &quot;, resourceService.GetString(&quot;MainWindow.DialogName&quot;));
+				Title = String.Concat(e.Project.Name, &quot; - &quot;, &quot;MonoDevelop&quot;);
 			} else {
-				Title = resourceService.GetString(&quot;MainWindow.DialogName&quot;);
+				Title = &quot;MonoDevelop&quot;;
 			}
 		}
 		


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000594.html">[Monodevelop-patches-list] r989 - trunk/MonoDevelop/build/AddIns
</A></li>
	<LI>Next message: <A HREF="000596.html">[Monodevelop-patches-list] r991 - in trunk/MonoDevelop/src/Main: Base/Commands Base/Gui/Dialogs StartUp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#595">[ date ]</a>
              <a href="thread.html#595">[ thread ]</a>
              <a href="subject.html#595">[ subject ]</a>
              <a href="author.html#595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
