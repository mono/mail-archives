<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r769 - in trunk/MonoDevelop: data/resources/glade src/Main/Base/Gui/Dialogs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r769%20-%20in%20trunk/MonoDevelop%3A%20data/resources/glade%20src/Main/Base/Gui/Dialogs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000373.html">
   <LINK REL="Next"  HREF="000375.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r769 - in trunk/MonoDevelop: data/resources/glade src/Main/Base/Gui/Dialogs</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r769%20-%20in%20trunk/MonoDevelop%3A%20data/resources/glade%20src/Main/Base/Gui/Dialogs&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r769 - in trunk/MonoDevelop: data/resources/glade src/Main/Base/Gui/Dialogs">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Tue Feb  3 19:14:39 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000373.html">[Monodevelop-patches-list] r768 - in trunk/MonoDevelop: samples/VFS src/Libraries/MonoDevelop.Gui.Widgets/FileBrowser
</A></li>
        <LI>Next message: <A HREF="000375.html">[Monodevelop-patches-list] r770 - trunk/MonoDevelop/data/resources/glade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#374">[ date ]</a>
              <a href="thread.html#374">[ thread ]</a>
              <a href="subject.html#374">[ subject ]</a>
              <a href="author.html#374">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: benm
Date: 2004-02-03 19:14:38 -0500 (Tue, 03 Feb 2004)
New Revision: 769

Modified:
   trunk/MonoDevelop/data/resources/glade/Base.glade
   trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/TreeViewOptions.cs
Log:
make this look good...once and for all

Modified: trunk/MonoDevelop/data/resources/glade/Base.glade
===================================================================
--- trunk/MonoDevelop/data/resources/glade/Base.glade	2004-02-03 23:38:03 UTC (rev 768)
+++ trunk/MonoDevelop/data/resources/glade/Base.glade	2004-02-04 00:14:38 UTC (rev 769)
@@ -5,6 +5,8 @@
 &lt;requires lib=&quot;gnome&quot;/&gt;
 
 &lt;widget class=&quot;GtkDialog&quot; id=&quot;TreeViewOptionDialog&quot;&gt;
+  &lt;property name=&quot;width_request&quot;&gt;700&lt;/property&gt;
+  &lt;property name=&quot;height_request&quot;&gt;550&lt;/property&gt;
   &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
   &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;dialog1&lt;/property&gt;
   &lt;property name=&quot;type&quot;&gt;GTK_WINDOW_TOPLEVEL&lt;/property&gt;
@@ -63,20 +65,67 @@
 	&lt;widget class=&quot;GtkHBox&quot; id=&quot;DisplayBox&quot;&gt;
 	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 	  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-	  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
+	  &lt;property name=&quot;spacing&quot;&gt;7&lt;/property&gt;
 
 	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkTreeView&quot; id=&quot;TreeView&quot;&gt;
+	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox31&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;headers_visible&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;rules_hint&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;reorderable&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;enable_search&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkLabel&quot; id=&quot;label33&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Cat_egories:&lt;/property&gt;
+		  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+		  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+		  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;mnemonic_widget&quot;&gt;TreeView&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkScrolledWindow&quot; id=&quot;scrolledwindow3&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_AUTOMATIC&lt;/property&gt;
+		  &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_AUTOMATIC&lt;/property&gt;
+		  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_IN&lt;/property&gt;
+		  &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkTreeView&quot; id=&quot;TreeView&quot;&gt;
+		      &lt;property name=&quot;width_request&quot;&gt;187&lt;/property&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;headers_visible&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;rules_hint&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;reorderable&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;enable_search&quot;&gt;True&lt;/property&gt;
+		    &lt;/widget&gt;
+		  &lt;/child&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
 	    &lt;/widget&gt;
 	    &lt;packing&gt;
-	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;padding&quot;&gt;6&lt;/property&gt;
+	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
 	      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
 	    &lt;/packing&gt;
 	  &lt;/child&gt;
@@ -85,71 +134,84 @@
 	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;optionPanel&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
+	      &lt;property name=&quot;spacing&quot;&gt;12&lt;/property&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox20&quot;&gt;
+		&lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox30&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
 		  &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
 
 		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkImage&quot; id=&quot;panelImage&quot;&gt;
+		    &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox20&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;stock&quot;&gt;gtk-properties&lt;/property&gt;
-		      &lt;property name=&quot;icon_size&quot;&gt;4&lt;/property&gt;
-		      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;spacing&quot;&gt;6&lt;/property&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImage&quot; id=&quot;panelImage&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock&quot;&gt;gtk-preferences&lt;/property&gt;
+			  &lt;property name=&quot;icon_size&quot;&gt;3&lt;/property&gt;
+			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+			&lt;/widget&gt;
+			&lt;packing&gt;
+			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+			&lt;/packing&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkLabel&quot; id=&quot;optionTitle&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&amp;lt;span weight=&amp;quot;bold&amp;quot; size=&amp;quot;x-large&amp;quot;&amp;gt;Title&amp;lt;/span&amp;gt;&lt;/property&gt;
+			  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+			&lt;/widget&gt;
+			&lt;packing&gt;
+			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+			&lt;/packing&gt;
+		      &lt;/child&gt;
 		    &lt;/widget&gt;
 		    &lt;packing&gt;
 		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
 		    &lt;/packing&gt;
 		  &lt;/child&gt;
 
 		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;optionTitle&quot;&gt;
+		    &lt;widget class=&quot;GtkHSeparator&quot; id=&quot;hseparator1&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;label38&lt;/property&gt;
-		      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-		      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
 		    &lt;/widget&gt;
 		    &lt;packing&gt;
 		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
 		    &lt;/packing&gt;
 		  &lt;/child&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;padding&quot;&gt;6&lt;/property&gt;
 		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
 		&lt;/packing&gt;
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkHSeparator&quot; id=&quot;hseparator1&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-
-	      &lt;child&gt;
 		&lt;widget class=&quot;GtkNotebook&quot; id=&quot;mainBook&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		  &lt;property name=&quot;show_tabs&quot;&gt;False&lt;/property&gt;
@@ -228,7 +290,7 @@
 	  &lt;/child&gt;
 	&lt;/widget&gt;
 	&lt;packing&gt;
-	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;padding&quot;&gt;6&lt;/property&gt;
 	  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
 	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
 	&lt;/packing&gt;

Modified: trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/TreeViewOptions.cs
===================================================================
--- trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/TreeViewOptions.cs	2004-02-03 23:38:03 UTC (rev 768)
+++ trunk/MonoDevelop/src/Main/Base/Gui/Dialogs/TreeViewOptions.cs	2004-02-04 00:14:38 UTC (rev 769)
@@ -19,65 +19,27 @@
 using ICSharpCode.Core.AddIns.Codons;
 using ICSharpCode.SharpDevelop.Gui.XmlForms;
 
-namespace ICSharpCode.SharpDevelop.Gui.Dialogs
-{
-	/*
-	public class GradientHeaderPanel : Label
-	{
-		public GradientHeaderPanel(int fontSize) : this()
-		{
-			Font = new Font(&quot;Tahoma&quot;, fontSize);
-		}
-		
-		public GradientHeaderPanel() : base()
-		{
-			ResourceService resourceService = (ResourceService)ServiceManager.Services.GetService(typeof(IResourceService));
-			
-			ResizeRedraw = true;
-			Text = String.Empty;
-		}
-
-		protected override void OnPaintBackground(PaintEventArgs pe)
-		{
-			base.OnPaintBackground(pe);
-			Graphics g = pe.Graphics;
-			
-			g.FillRectangle(new LinearGradientBrush(new Point(0, 0), new Point(Width, Height), 
-			                                        SystemColors.Window, SystemColors.Control),
-							new Rectangle(0, 0, Width, Height));
-		}
-	}*/
+namespace ICSharpCode.SharpDevelop.Gui.Dialogs {
 	
 	/// &lt;summary&gt;
 	/// TreeView options are used, when more options will be edited (for something like
 	/// IDE Options + Plugin Options)
 	/// &lt;/summary&gt;
-	public class TreeViewOptions
-	{
-		//protected GradientHeaderPanel optionsPanelLabel;
+	public class TreeViewOptions {
 		
-		protected ArrayList OptionPanels          = new ArrayList();
-		
+		protected ArrayList OptionPanels = new ArrayList ();
 		protected IProperties properties = null;
-		
-		protected Font plainFont = null;
-		protected Font boldFont  = null;
 
 		Gtk.TreeStore treeStore;
 		
 		[Glade.Widget] Gtk.TreeView  TreeView;
 		[Glade.Widget] Gtk.Label     optionTitle;
-		[Glade.Widget] Gtk.Button    okbutton;
-		[Glade.Widget] Gtk.Button    cancelbutton;
 		[Glade.Widget] Gtk.Notebook  mainBook;
 		[Glade.Widget] Gtk.Image     panelImage;
 		[Glade.Widget] Gtk.Dialog    TreeViewOptionDialog;
 		
-		PixbufList    imglist;
+		StringParserService StringParserService = (StringParserService) ServiceManager.Services.GetService (typeof (StringParserService));
 		
-		ResourceService IconService = (ResourceService)ServiceManager.Services.GetService (typeof (IResourceService));
-		StringParserService StringParserService = (StringParserService)ServiceManager.Services.GetService (typeof (StringParserService));
-		
 		public IProperties Properties {
 			get {
 				return properties;
@@ -90,15 +52,13 @@
 			}
 		}
 		
-		protected void AcceptEvent(object sender, EventArgs e)
+		protected void AcceptEvent (object sender, EventArgs e)
 		{
 			foreach (AbstractOptionPanel pane in OptionPanels) {
-				if (!pane.ReceiveDialogMessage(DialogMessage.OK)) {
+				if (!pane.ReceiveDialogMessage (DialogMessage.OK))
 					return;
-				}
 			}
 			TreeViewOptionDialog.Hide ();
-			//DialogResult = DialogResult.OK;
 		}
 	
 		public int Run ()
@@ -114,7 +74,7 @@
 				descriptor.DialogPanel.ReceiveDialogMessage(DialogMessage.Activated);
 				mainBook.CurrentPage = mainBook.PageNum (descriptor.DialogPanel.Control);
 				if (descriptor.DialogPanel.Icon == null) {
-					panelImage.Stock = Gtk.Stock.Properties;
+					panelImage.Stock = Gtk.Stock.Preferences;
 				} else {
 					//FIXME: this needs to actually switch over the ImageType and use that instead of this *hack*
 					if (descriptor.DialogPanel.Icon.Stock != null)
@@ -122,7 +82,7 @@
 					else
 						panelImage.Pixbuf = descriptor.DialogPanel.Icon.Pixbuf;
 				}
-				optionTitle.Markup = &quot;&lt;b&gt;&quot; + descriptor.Label + &quot;&lt;/b&gt;&quot;;
+				optionTitle.Markup = &quot;&lt;span weight=\&quot;bold\&quot; size=\&quot;x-large\&quot;&gt;&quot; + descriptor.Label + &quot;&lt;/span&gt;&quot;;
 				TreeViewOptionDialog.ShowAll ();
 			}
 		}		
@@ -139,13 +99,13 @@
 			
 				Gtk.TreeIter i;
 				if (iter.Equals (Gtk.TreeIter.Zero)) {
-					i = treeStore.AppendValues  (descriptor.Label, descriptor, imglist[2]);
+					i = treeStore.AppendValues (descriptor.Label, descriptor);
 				} else {
-					i = treeStore.AppendValues(iter, descriptor.Label, descriptor, imglist[2]);
-				
+					i = treeStore.AppendValues (iter, descriptor.Label, descriptor);
 				}
+				
 				if (descriptor.DialogPanelDescriptors != null) {
-					AddNodes(customizer, i, descriptor.DialogPanelDescriptors);
+					AddNodes (customizer, i, descriptor.DialogPanelDescriptors);
 				}
 			}
 		}
@@ -163,30 +123,12 @@
 					TreeView.ExpandToPath (new_path);
 					TreeView.Selection.SelectPath (new_path);
 				} else {
-					treeStore.Foreach (new Gtk.TreeModelForeachFunc (killArrows));
-					treeStore.SetValue (iter, 2, imglist[3]);
 					SetOptionPanelTo ((IDialogPanelDescriptor)treeStore.GetValue (iter, 1));
 				}
 			}
 		}
-
-		bool killArrows (Gtk.TreeModel mdl, Gtk.TreePath path, Gtk.TreeIter iter)
+		public TreeViewOptions (IProperties properties, IAddInTreeNode node)
 		{
-			treeStore.SetValue (iter, 2, imglist[2]);
-			return false;
-		}
-		
-		protected void InitImageList()
-		{
-			imglist = new PixbufList();
-			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.ClosedFolderBitmap&quot;));
-			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.OpenFolderBitmap&quot;));
-			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.Empty&quot;) );
-			imglist.Add(IconService.GetBitmap(&quot;Icons.16x16.SelectionArrow&quot;));
-		}
-		
-		public TreeViewOptions(IProperties properties, IAddInTreeNode node)
-		{
 			this.properties = properties;
 			
 			Glade.XML treeViewXml = new Glade.XML (null, &quot;Base.glade&quot;, &quot;TreeViewOptionDialog&quot;, null);
@@ -194,13 +136,11 @@
 		
 			TreeViewOptionDialog.Title = StringParserService.Parse(&quot;${res:Dialog.Options.TreeViewOptions.DialogName}&quot;);
 
-			InitImageList ();
-
 			this.InitializeComponent();
 			
-			if (node != null) {
-				AddNodes(properties, Gtk.TreeIter.Zero, node.BuildChildItems(this));
-			}
+			if (node != null)
+				AddNodes (properties, Gtk.TreeIter.Zero, node.BuildChildItems(this));
+			
 			SelectFirstNode ();
 		}
 
@@ -210,33 +150,12 @@
 			SelectNode (null, null);
 		}
 		
-		protected void InitializeComponent() 
+		protected void InitializeComponent () 
 		{
-			treeStore = new Gtk.TreeStore (typeof(string), typeof(IDialogPanelDescriptor), typeof (Gdk.Pixbuf));
-			TreeView.Model = treeStore;
-
-			Gtk.TreeViewColumn column = new Gtk.TreeViewColumn ();
-			column.Title = &quot;items&quot;;
+			treeStore = new Gtk.TreeStore (typeof (string), typeof (IDialogPanelDescriptor));
 			
-			Gtk.CellRendererPixbuf pix_render = new Gtk.CellRendererPixbuf ();
-			pix_render.PixbufExpanderOpen = imglist[1];
-			pix_render.PixbufExpanderClosed = imglist[0];
-
-			column.PackStart (pix_render, false);
-			column.AddAttribute (pix_render, &quot;pixbuf&quot;, 2);
-			Gtk.CellRendererText text_render = new Gtk.CellRendererText ();
-			column.PackStart (text_render, true);
-			column.AddAttribute (text_render, &quot;text&quot;, 0);
-			
-			
-			Gtk.TreeViewColumn empty = new Gtk.TreeViewColumn (&quot;a&quot;, new Gtk.CellRendererText (), &quot;string&quot;, 0);
-			TreeView.AppendColumn (empty);
-			empty.Visible = false;
-			TreeView.ExpanderColumn = empty;
-						
-			TreeView.AppendColumn (column);
-			TreeView.HeadersVisible = false;
-
+			TreeView.Model = treeStore;
+			TreeView.AppendColumn (&quot;&quot;, new Gtk.CellRendererText (), &quot;text&quot;, 0);
 			TreeView.Selection.Changed += new EventHandler (SelectNode);
 		}
 		


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000373.html">[Monodevelop-patches-list] r768 - in trunk/MonoDevelop: samples/VFS src/Libraries/MonoDevelop.Gui.Widgets/FileBrowser
</A></li>
	<LI>Next message: <A HREF="000375.html">[Monodevelop-patches-list] r770 - trunk/MonoDevelop/data/resources/glade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#374">[ date ]</a>
              <a href="thread.html#374">[ thread ]</a>
              <a href="subject.html#374">[ subject ]</a>
              <a href="author.html#374">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
