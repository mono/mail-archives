<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r2573 - in trunk/MonoDevelop/Core/src:	MonoDevelop.Base MonoDevelop.Base/Gui/Pads/FileScout	MonoDevelop.Base/Gui/Workbench/Layouts MonoDevelop.Gui.Utils	MonoDevelop.Gui.Utils/FileIcons MonoDevelop.Gui.Widgets	MonoDevelop.Gui.Widgets/FileBrowser
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2573%20-%20in%20trunk/MonoDevelop/Core/src%3A%0A%09MonoDevelop.Base%20MonoDevelop.Base/Gui/Pads/FileScout%0A%09MonoDevelop.Base/Gui/Workbench/Layouts%20MonoDevelop.Gui.Utils%0A%09MonoDevelop.Gui.Utils/FileIcons%20MonoDevelop.Gui.Widgets%0A%09MonoDevelop.Gui.Widgets/FileBrowser&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002172.html">
   <LINK REL="Next"  HREF="002174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r2573 - in trunk/MonoDevelop/Core/src:	MonoDevelop.Base MonoDevelop.Base/Gui/Pads/FileScout	MonoDevelop.Base/Gui/Workbench/Layouts MonoDevelop.Gui.Utils	MonoDevelop.Gui.Utils/FileIcons MonoDevelop.Gui.Widgets	MonoDevelop.Gui.Widgets/FileBrowser</H1>
    <B>John Luke &lt;jluke@cfl.rr.com&gt;</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2573%20-%20in%20trunk/MonoDevelop/Core/src%3A%0A%09MonoDevelop.Base%20MonoDevelop.Base/Gui/Pads/FileScout%0A%09MonoDevelop.Base/Gui/Workbench/Layouts%20MonoDevelop.Gui.Utils%0A%09MonoDevelop.Gui.Utils/FileIcons%20MonoDevelop.Gui.Widgets%0A%09MonoDevelop.Gui.Widgets/FileBrowser&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r2573 - in trunk/MonoDevelop/Core/src:	MonoDevelop.Base MonoDevelop.Base/Gui/Pads/FileScout	MonoDevelop.Base/Gui/Workbench/Layouts MonoDevelop.Gui.Utils	MonoDevelop.Gui.Utils/FileIcons MonoDevelop.Gui.Widgets	MonoDevelop.Gui.Widgets/FileBrowser">jluke at mono-cvs.ximian.com
       </A><BR>
    <I>Wed Jun  1 11:21:47 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002172.html">[Monodevelop-patches-list] r2572 - in trunk/MonoDevelop/Core/src:	MonoDevelop.Base MonoDevelop.Base/Gui/Workbench/Layouts	MonoDevelop.Base/Services MonoDevelop.Core MonoDevelop.Core/Services
</A></li>
        <LI>Next message: <A HREF="002174.html">[Monodevelop-patches-list] r2574 - in trunk/MonoDevelop/Core/src:	MonoDevelop.Base MonoDevelop.Base/Gui/Workbench/Layouts	MonoDevelop.Gui.Utils MonoDevelop.Gui.Utils/FileIcons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2173">[ date ]</a>
              <a href="thread.html#2173">[ thread ]</a>
              <a href="subject.html#2173">[ subject ]</a>
              <a href="author.html#2173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2005-06-01 11:21:47 -0400 (Wed, 01 Jun 2005)
New Revision: 2573

Modified:
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/FileScout/FileListItem.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceLayout.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/ChangeLog
   trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/FileIcons/FileIconLoader.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/ChangeLog
   trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/FileBrowser/FileBrowser.cs
Log:
change FileIconLoader to just use size instead
of height, width


Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog	2005-06-01 13:41:24 UTC (rev 2572)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog	2005-06-01 15:21:47 UTC (rev 2573)
@@ -1,3 +1,10 @@
+2005-06-01  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
+
+	* Gui/Workbench/Layouts/SdiWorkspaceLayout.cs:
+	* Gui/Workbench/Layouts/SdiWorkspaceWindow.cs:
+	* Gui/Pads/FileScout/FileListItem.cs: adjust to
+	FileIconLoader.GetPixbufForFile change
+	
 2005-06-01  Jacob Ils&#248; Christensen  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">jacobilsoe at gmail.com</A>&gt;
 
 	* Services/MessageService.cs: Added methods to ask a question

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/FileScout/FileListItem.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/FileScout/FileListItem.cs	2005-06-01 13:41:24 UTC (rev 2572)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Pads/FileScout/FileListItem.cs	2005-06-01 15:21:47 UTC (rev 2573)
@@ -65,7 +65,7 @@
 			this.lastModified = lastModified;
 			//FIXME: This is because //home/blah is not the same as /home/blah according to Icon.LookupSync, if we get weird behaviours, lets look at this again, see if we still need it.
 			FullName = fullname.Substring (1);
-			icon = FileIconLoader.GetPixbufForFile (FullName, 24, 24);
+			icon = FileIconLoader.GetPixbufForFile (FullName, 24);
 		}
 
 		public FileListItem (string name)
@@ -74,7 +74,7 @@
 			this.size = Math.Round ((double) fi.Length / 1024).ToString () + &quot; KB&quot;;
 			this.lastModified = fi.LastWriteTime.ToString ();
 			FullName = System.IO.Path.GetFullPath (name); 
-			icon = FileIconLoader.GetPixbufForFile (FullName, 24, 24);
+			icon = FileIconLoader.GetPixbufForFile (FullName, 24);
 		}
 	}
 }

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceLayout.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceLayout.cs	2005-06-01 13:41:24 UTC (rev 2572)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceLayout.cs	2005-06-01 15:21:47 UTC (rev 2573)
@@ -464,7 +464,7 @@
 			if (content.IsUntitled) {
 				mimeimage = new Gtk.Image (FileIconLoader.GetPixbufForType (&quot;gnome-fs-regular&quot;).ScaleSimple (16, 16, Gdk.InterpType.Bilinear));
 			} else {
-				mimeimage = new Gtk.Image (FileIconLoader.GetPixbufForFile (content.ContentName, 16, 16));
+				mimeimage = new Gtk.Image (FileIconLoader.GetPixbufForFile (content.ContentName, 16));
 			}
 			
 			TabLabel tabLabel = new TabLabel (new Label (), mimeimage != null ? mimeimage : new Gtk.Image (&quot;&quot;));

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs	2005-06-01 13:41:24 UTC (rev 2572)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs	2005-06-01 15:21:47 UTC (rev 2573)
@@ -313,7 +313,7 @@
 			
 			try {
 				if (content.ContentName.IndexOfAny (new char[] { '*', '+'}) == -1) {
-					tabLabel.Icon.Pixbuf = FileIconLoader.GetPixbufForFile (content.ContentName, 16, 16);
+					tabLabel.Icon.Pixbuf = FileIconLoader.GetPixbufForFile (content.ContentName, 16);
 				}
 			} catch {
 				tabLabel.Icon.Pixbuf = FileIconLoader.GetPixbufForType (&quot;gnome-fs-regular&quot;).ScaleSimple (16, 16, Gdk.InterpType.Bilinear);

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/ChangeLog	2005-06-01 13:41:24 UTC (rev 2572)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/ChangeLog	2005-06-01 15:21:47 UTC (rev 2573)
@@ -1,3 +1,8 @@
+2005-06-01  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
+
+	* FileIcons/FileIconLoader.cs (GetPixbufForFile):
+	just use size instead of height, width
+	
 2005-04-17  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
 
 	* Makefile.am: fix distcheck

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/FileIcons/FileIconLoader.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/FileIcons/FileIconLoader.cs	2005-06-01 13:41:24 UTC (rev 2572)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Utils/FileIcons/FileIconLoader.cs	2005-06-01 15:21:47 UTC (rev 2573)
@@ -24,7 +24,7 @@
 		{
 		}
 
-		public static Gdk.Pixbuf GetPixbufForFile (string filename, int width, int height)
+		public static Gdk.Pixbuf GetPixbufForFile (string filename, int size)
 		{
 			Gnome.IconLookupResultFlags result;
 			string icon;
@@ -37,7 +37,7 @@
 				icon = &quot;gnome-fs-regular&quot;;
 			}
 			Gdk.Pixbuf pix = GetPixbufForType (icon);
-			return pix.ScaleSimple (height, width, Gdk.InterpType.Bilinear);
+			return pix.ScaleSimple (size, size, Gdk.InterpType.Bilinear);
 		}
 
 		public static Gdk.Pixbuf GetPixbufForType (string type)

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/ChangeLog	2005-06-01 13:41:24 UTC (rev 2572)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/ChangeLog	2005-06-01 15:21:47 UTC (rev 2573)
@@ -1,3 +1,8 @@
+2005-06-01  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
+
+	* FileBrowser/FileBrowser.cs: adjust to FileIconLoader
+	change
+
 2005-05-30  Lluis Sanchez Gual  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">lluis at novell.com</A>&gt;
 
 	* Commands/CommandToolButton.cs: Only update button properties if

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/FileBrowser/FileBrowser.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/FileBrowser/FileBrowser.cs	2005-06-01 13:41:24 UTC (rev 2572)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Gui.Widgets/FileBrowser/FileBrowser.cs	2005-06-01 15:21:47 UTC (rev 2573)
@@ -176,11 +176,11 @@
 				if (ignoreHidden)
 				{
 					if (!d.Name.StartsWith (&quot;.&quot;) &amp;&amp; NotHidden (d.Name))
-						store.AppendValues (FileIconLoader.GetPixbufForFile (System.IO.Path.Combine (CurrentDir, d.Name), 24, 24), d.Name);
+						store.AppendValues (FileIconLoader.GetPixbufForFile (System.IO.Path.Combine (CurrentDir, d.Name), 24), d.Name);
 				}
 				else
 				{
-					store.AppendValues (FileIconLoader.GetPixbufForFile (System.IO.Path.Combine (CurrentDir, d.Name), 24, 24), d.Name);
+					store.AppendValues (FileIconLoader.GetPixbufForFile (System.IO.Path.Combine (CurrentDir, d.Name), 24), d.Name);
 				}
 			}
 
@@ -415,7 +415,7 @@
 			text_render.Editable = true;
 
 			tv.Reorderable = false;
-			iter = store.AppendValues (FileIconLoader.GetPixbufForFile (CurrentDir, 24, 24), &quot;folder name&quot;);
+			iter = store.AppendValues (FileIconLoader.GetPixbufForFile (CurrentDir, 24), &quot;folder name&quot;);
 			treepath = tv.Model.GetPath(iter);
 
 			column = tv.GetColumn (0);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002172.html">[Monodevelop-patches-list] r2572 - in trunk/MonoDevelop/Core/src:	MonoDevelop.Base MonoDevelop.Base/Gui/Workbench/Layouts	MonoDevelop.Base/Services MonoDevelop.Core MonoDevelop.Core/Services
</A></li>
	<LI>Next message: <A HREF="002174.html">[Monodevelop-patches-list] r2574 - in trunk/MonoDevelop/Core/src:	MonoDevelop.Base MonoDevelop.Base/Gui/Workbench/Layouts	MonoDevelop.Gui.Utils MonoDevelop.Gui.Utils/FileIcons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2173">[ date ]</a>
              <a href="thread.html#2173">[ thread ]</a>
              <a href="subject.html#2173">[ subject ]</a>
              <a href="author.html#2173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
