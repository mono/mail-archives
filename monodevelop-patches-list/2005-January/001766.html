<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r2162 - in trunk/MonoDevelop/Core/src: AddIns/DisplayBindings/SourceEditor AddIns/DisplayBindings/SourceEditor/Gui MonoDevelop.Base MonoDevelop.Base/Gui MonoDevelop.Base/Gui/Components MonoDevelop.Base/Gui/Workbench/Layouts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2162%20-%20in%20trunk/MonoDevelop/Core/src%3A%20AddIns/DisplayBindings/SourceEditor%20AddIns/DisplayBindings/SourceEditor/Gui%20MonoDevelop.Base%20MonoDevelop.Base/Gui%20MonoDevelop.Base/Gui/Components%20MonoDevelop.Base/Gui/Workbench/Layouts&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001765.html">
   <LINK REL="Next"  HREF="001767.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r2162 - in trunk/MonoDevelop/Core/src: AddIns/DisplayBindings/SourceEditor AddIns/DisplayBindings/SourceEditor/Gui MonoDevelop.Base MonoDevelop.Base/Gui MonoDevelop.Base/Gui/Components MonoDevelop.Base/Gui/Workbench/Layouts</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2162%20-%20in%20trunk/MonoDevelop/Core/src%3A%20AddIns/DisplayBindings/SourceEditor%20AddIns/DisplayBindings/SourceEditor/Gui%20MonoDevelop.Base%20MonoDevelop.Base/Gui%20MonoDevelop.Base/Gui/Components%20MonoDevelop.Base/Gui/Workbench/Layouts&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r2162 - in trunk/MonoDevelop/Core/src: AddIns/DisplayBindings/SourceEditor AddIns/DisplayBindings/SourceEditor/Gui MonoDevelop.Base MonoDevelop.Base/Gui MonoDevelop.Base/Gui/Components MonoDevelop.Base/Gui/Workbench/Layouts">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Tue Jan 25 16:15:02 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001765.html">[Monodevelop-patches-list] r2161 - in trunk/MonoDevelop/Core/src/MonoDevelop.Base: . Internal/Project/Project
</A></li>
        <LI>Next message: <A HREF="001767.html">[Monodevelop-patches-list] r2163 - in trunk/MonoDevelop/Core/src/MonoDevelop.Base: . Commands
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1766">[ date ]</a>
              <a href="thread.html#1766">[ thread ]</a>
              <a href="subject.html#1766">[ subject ]</a>
              <a href="author.html#1766">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tberman
Date: 2005-01-25 16:15:02 -0500 (Tue, 25 Jan 2005)
New Revision: 2162

Modified:
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Components/SdMenuCheckBox.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/IWorkbenchWindow.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs
Log:
In Core/src/MonoDevelop.Base:
2005-01-25  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at off.net</A>&gt;

	* Gui/Workbench/Layouts/SdiWorkspaceWindow.cs: Add ShowNotification
	and use it to make the tablabel blue.
	* Gui/Components/SdMenuCheckBox.cs: Use markup instead of text, this
	will allow the view menu item builder to show things properly.
	* Gui/IWorkbenchWindow.cs: Add ShowNotification get; set;

In Core/src/AddIns/DisplayBindings/SourceEditor:
2005-01-25  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at off.net</A>&gt;

	* Gui/SourceEditorDisplayBinding.cs: Use new
	IWorkbenchWindow.ShowNotification for when a file has been modified
	outside MD.



Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog	2005-01-25 20:10:11 UTC (rev 2161)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog	2005-01-25 21:15:02 UTC (rev 2162)
@@ -1,3 +1,9 @@
+2005-01-25  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at off.net</A>&gt;
+
+	* Gui/SourceEditorDisplayBinding.cs: Use new
+	IWorkbenchWindow.ShowNotification for when a file has been modified
+	outside MD.
+
 2005-01-25  Lluis Sanchez Gual  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">lluis at novell.com</A>&gt;
 
 	* Gui/Pads/CompilerMessageView.cs: 

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs	2005-01-25 20:10:11 UTC (rev 2161)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs	2005-01-25 21:15:02 UTC (rev 2162)
@@ -306,17 +306,20 @@
 			warnOverwrite = true;
 			editorBar.PackStart (reloadBar);
 			reloadBar.ShowAll ();
+			WorkbenchWindow.ShowNotification = true;
 		}
 		
 		void ClickedReload (object sender, EventArgs args)
 		{
 			editorBar.Remove (reloadBar);
 			Load (ContentName);
+			WorkbenchWindow.ShowNotification = false;
 		}
 		
 		void ClickedIgnore (object sender, EventArgs args)
 		{
 			editorBar.Remove (reloadBar);
+			WorkbenchWindow.ShowNotification = false;
 		}
 		
 		public void InitializeFormatter()

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog	2005-01-25 20:10:11 UTC (rev 2161)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog	2005-01-25 21:15:02 UTC (rev 2162)
@@ -1,3 +1,11 @@
+2005-01-25  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at off.net</A>&gt;
+
+	* Gui/Workbench/Layouts/SdiWorkspaceWindow.cs: Add ShowNotification
+	and use it to make the tablabel blue.
+	* Gui/Components/SdMenuCheckBox.cs: Use markup instead of text, this
+	will allow the view menu item builder to show things properly.
+	* Gui/IWorkbenchWindow.cs: Add ShowNotification get; set;
+
 2005-01-25  Lluis Sanchez Gual  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">lluis at novell.com</A>&gt;
 
 	* Internal/Project/Project/Project.cs: Honor ExternalConsole option

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Components/SdMenuCheckBox.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Components/SdMenuCheckBox.cs	2005-01-25 20:10:11 UTC (rev 2161)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Components/SdMenuCheckBox.cs	2005-01-25 21:15:02 UTC (rev 2162)
@@ -49,6 +49,8 @@
 			Gtk.AccelLabel child = new Gtk.AccelLabel (label);
 			child.Xalign = 0;
 			child.UseUnderline = true;
+			child.Markup = label;
+			child.UseMarkup = true;
 			((Gtk.Container)this).Child = child;
 			child.AccelWidget = this;
 		}

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/IWorkbenchWindow.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/IWorkbenchWindow.cs	2005-01-25 20:10:11 UTC (rev 2161)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/IWorkbenchWindow.cs	2005-01-25 21:15:02 UTC (rev 2162)
@@ -23,6 +23,11 @@
 			get;
 			set;
 		}
+
+		bool ShowNotification {
+			get;
+			set;
+		}
 		
 		/// &lt;summary&gt;
 		/// The current view content which is shown inside this window.

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs	2005-01-25 20:10:11 UTC (rev 2161)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceWindow.cs	2005-01-25 21:15:02 UTC (rev 2162)
@@ -35,6 +35,8 @@
 		
 		string myUntitledTitle     = null;
 		string _titleHolder = &quot;&quot;;
+
+		bool show_notification = false;
 		
 		public Widget TabPage {
 			get {
@@ -44,6 +46,18 @@
 				tabPage = value;
 			}
 		}
+
+		public bool ShowNotification {
+			get {
+				return show_notification;
+			}
+			set {
+				if (show_notification != value) {
+					show_notification = value;
+					OnTitleChanged (null);
+				}
+			}
+		}
 		
 		public string Title {
 			get {
@@ -58,10 +72,6 @@
 					fileName = content.UntitledName;
 				}
 				
-//				if (fileName != null) {
-//					IconService iconService = (IconService)ServiceManager.Services.GetService(typeof(IconService));
-//					tabPage.ImageIndex = iconService.GetImageIndexForFile(fileName);
-//				}
 				OnTitleChanged(null);
 			}
 		}
@@ -284,7 +294,14 @@
 		
 		protected virtual void OnTitleChanged(EventArgs e)
 		{
-			tabLabel.Label.Text = Title;
+			if (show_notification) {
+				tabLabel.Label.Markup = &quot;&lt;span foreground=\&quot;blue\&quot;&gt;&quot; + Title + &quot;&lt;/span&gt;&quot;;
+				tabLabel.Label.UseMarkup = true;
+			} else {
+				tabLabel.Label.Text = Title;
+				tabLabel.Label.UseMarkup = false;
+			}
+			
 			try {
 				if (content.ContentName.IndexOfAny (new char[] { '*', '+'}) == -1) {
 					tabLabel.Icon.Pixbuf = FileIconLoader.GetPixbufForFile (content.ContentName, 16, 16);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001765.html">[Monodevelop-patches-list] r2161 - in trunk/MonoDevelop/Core/src/MonoDevelop.Base: . Internal/Project/Project
</A></li>
	<LI>Next message: <A HREF="001767.html">[Monodevelop-patches-list] r2163 - in trunk/MonoDevelop/Core/src/MonoDevelop.Base: . Commands
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1766">[ date ]</a>
              <a href="thread.html#1766">[ thread ]</a>
              <a href="subject.html#1766">[ subject ]</a>
              <a href="author.html#1766">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
