<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r2176 - in trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding: . Gui
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2176%20-%20in%20trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding%3A%20.%20Gui&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001779.html">
   <LINK REL="Next"  HREF="001781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r2176 - in trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding: . Gui</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2176%20-%20in%20trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding%3A%20.%20Gui&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r2176 - in trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding: . Gui">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Wed Jan 26 23:38:02 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001779.html">[Monodevelop-patches-list] r2175 - in trunk/MonoDevelop/Core: gdldock/sources/gdl src/AddIns/BackendBindings/CSharpBinding src/AddIns/BackendBindings/VBNetBinding src/AddIns/DisplayBindings/SourceEditor src/MonoDevelop.Base
</A></li>
        <LI>Next message: <A HREF="001781.html">[Monodevelop-patches-list] r2177 - in trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor: . CodeCompletion Commands Gui Gui/Dialogs Gui/OptionPanels InsightWindow Search/DocumentIterator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1780">[ date ]</a>
              <a href="thread.html#1780">[ thread ]</a>
              <a href="subject.html#1780">[ subject ]</a>
              <a href="author.html#1780">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2005-01-26 23:38:02 -0500 (Wed, 26 Jan 2005)
New Revision: 2176

Modified:
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/CSharp.glade
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/ChangeLog
   trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Gui/CodeGenerationPanel.cs
Log:
use ComboBox instead of OptionMenu


Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/CSharp.glade
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/CSharp.glade	2005-01-27 04:02:50 UTC (rev 2175)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/CSharp.glade	2005-01-27 04:38:02 UTC (rev 2176)
@@ -100,7 +100,6 @@
 		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
 		      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
 		      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;mnemonic_widget&quot;&gt;CompileTargetOptionMenu&lt;/property&gt;
 		    &lt;/widget&gt;
 		    &lt;packing&gt;
 		      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
@@ -205,10 +204,8 @@
 		  &lt;/child&gt;
 
 		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;CompileTargetOptionMenu&quot;&gt;
+		    &lt;widget class=&quot;GtkComboBox&quot; id=&quot;compileTargetCombo&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 		    &lt;/widget&gt;
 		    &lt;packing&gt;
 		      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
@@ -216,7 +213,7 @@
 		      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
 		      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
 		      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-		      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+		      &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
 		    &lt;/packing&gt;
 		  &lt;/child&gt;
 		&lt;/widget&gt;

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/ChangeLog	2005-01-27 04:02:50 UTC (rev 2175)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/ChangeLog	2005-01-27 04:38:02 UTC (rev 2176)
@@ -1,6 +1,8 @@
 2005-01-27  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
 
 	* CSharp.glade: update to new glade format
+	* Gui/CodeGenerationPanel.cs:
+	* CSharp.glade: use ComboBox instead of OptionMenu
 
 2005-01-26  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
 

Modified: trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Gui/CodeGenerationPanel.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Gui/CodeGenerationPanel.cs	2005-01-27 04:02:50 UTC (rev 2175)
+++ trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding/Gui/CodeGenerationPanel.cs	2005-01-27 04:38:02 UTC (rev 2176)
@@ -22,9 +22,7 @@
 
 namespace CSharpBinding
 {
-
 	//FIXME: i8n 
-
 	public class CodeGenerationPanel : AbstractOptionPanel
 	{
 
@@ -35,7 +33,7 @@
 			//
  			[Glade.Widget] Entry symbolsEntry;
  			[Glade.Widget] Entry mainClassEntry;
-			[Glade.Widget] OptionMenu CompileTargetOptionMenu;
+			[Glade.Widget] ComboBox compileTargetCombo;
  			[Glade.Widget] CheckButton generateOverflowChecksCheckButton;
 			[Glade.Widget] CheckButton allowUnsafeCodeCheckButton;
  			[Glade.Widget] CheckButton enableOptimizationCheckButton;
@@ -56,25 +54,20 @@
  			public  CodeGenerationPanelWidget(IProperties CustomizationObject) : base (&quot;CSharp.glade&quot;, &quot;CodeGenerationPanel&quot;)
  			{	
 				configuration = (DotNetProjectConfiguration)((IProperties)CustomizationObject).GetProperty(&quot;Config&quot;);
-				
 				compilerParameters = (CSharpCompilerParameters) configuration.CompilationParameters;
 				
 				// FIXME: Enable when mcs has this feature
 				generateXmlOutputCheckButton.Sensitive = false;
 
-				Menu CompileTargetMenu = new Menu ();
-				CompileTargetMenu.Append(new MenuItem(GettextCatalog.GetString (&quot;Executable&quot;)));
+				ListStore store = new ListStore (typeof (string));
+				store.AppendValues (GettextCatalog.GetString (&quot;Executable&quot;));
+				store.AppendValues (GettextCatalog.GetString (&quot;Library&quot;));
+				compileTargetCombo.Model = store;
+				CellRendererText cr = new CellRendererText ();
+				compileTargetCombo.PackStart (cr, true);
+				compileTargetCombo.AddAttribute (cr, &quot;text&quot;, 0);
+				compileTargetCombo.Active = (int) configuration.CompileTarget;
 
-				CompileTargetMenu.Append(new MenuItem(GettextCatalog.GetString (&quot;Library&quot;)));
-				// FIXME commented until the Module capability is ported
-// 				CompileTargetMenu.Append(new MenuItem(
-// 								 StringParserService.Parse(
-// 									 &quot;${res:Dialog.Options.PrjOptions.Configuration.CompileTarget.Module}&quot;)));
-
-				CompileTargetOptionMenu.Menu = CompileTargetMenu;
-				CompileTargetOptionMenu.SetHistory ( (uint) configuration.CompileTarget);
-
-
 				symbolsEntry.Text = compilerParameters.DefineSymbols;
 				mainClassEntry.Text = compilerParameters.MainClass;
 
@@ -92,7 +85,7 @@
 				if (compilerParameters == null) {
 					return true;
 				}
-				configuration.CompileTarget =  (CompileTarget)  CompileTargetOptionMenu.History;
+				configuration.CompileTarget =  (CompileTarget) compileTargetCombo.Active;
 				compilerParameters.DefineSymbols =  symbolsEntry.Text;
 				compilerParameters.MainClass     =  mainClassEntry.Text;
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001779.html">[Monodevelop-patches-list] r2175 - in trunk/MonoDevelop/Core: gdldock/sources/gdl src/AddIns/BackendBindings/CSharpBinding src/AddIns/BackendBindings/VBNetBinding src/AddIns/DisplayBindings/SourceEditor src/MonoDevelop.Base
</A></li>
	<LI>Next message: <A HREF="001781.html">[Monodevelop-patches-list] r2177 - in trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor: . CodeCompletion Commands Gui Gui/Dialogs Gui/OptionPanels InsightWindow Search/DocumentIterator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1780">[ date ]</a>
              <a href="thread.html#1780">[ thread ]</a>
              <a href="subject.html#1780">[ subject ]</a>
              <a href="author.html#1780">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
