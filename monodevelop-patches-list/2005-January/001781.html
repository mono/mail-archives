<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r2177 - in trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor: . CodeCompletion Commands Gui Gui/Dialogs Gui/OptionPanels InsightWindow Search/DocumentIterator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2177%20-%20in%20trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor%3A%20.%20CodeCompletion%20Commands%20Gui%20Gui/Dialogs%20Gui/OptionPanels%20InsightWindow%20Search/DocumentIterator&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001780.html">
   <LINK REL="Next"  HREF="001782.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r2177 - in trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor: . CodeCompletion Commands Gui Gui/Dialogs Gui/OptionPanels InsightWindow Search/DocumentIterator</H1>
    <B>commit-watcher at mono-cvs.ximian.com</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2177%20-%20in%20trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor%3A%20.%20CodeCompletion%20Commands%20Gui%20Gui/Dialogs%20Gui/OptionPanels%20InsightWindow%20Search/DocumentIterator&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r2177 - in trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor: . CodeCompletion Commands Gui Gui/Dialogs Gui/OptionPanels InsightWindow Search/DocumentIterator">commit-watcher at mono-cvs.ximian.com
       </A><BR>
    <I>Thu Jan 27 02:45:42 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001780.html">[Monodevelop-patches-list] r2176 - in trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding: . Gui
</A></li>
        <LI>Next message: <A HREF="001782.html">[Monodevelop-patches-list] r2178 - in trunk/MonoDevelop/Core/src/AddIns/BackendBindings: CSharpBinding CSharpBinding/FormattingStrategy CSharpBinding/Parser ILAsmBinding NemerleBinding NemerleBinding/Gui VBNetBinding VBNetBinding/Gui VBNetBinding/Parser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1781">[ date ]</a>
              <a href="thread.html#1781">[ thread ]</a>
              <a href="subject.html#1781">[ subject ]</a>
              <a href="author.html#1781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2005-01-27 02:45:41 -0500 (Thu, 27 Jan 2005)
New Revision: 2177

Removed:
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ExportProjectToHtmlDialog.cs
Modified:
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/CodeCompletion/ListWindow.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Commands/ProjectCommands.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/EditorBindings.glade
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceDialog.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceInFilesDialog.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/CodeTemplatePanel.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/GeneralTextEditorPanel.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorBuffer.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorView.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorWidget.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/InsightWindow/InsightWindow.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/DocumentIterator/DirectoryDocumentIterator.cs
   trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/texteditoraddin.glade
Log:
        * EditorBindings.glade:
        * texteditoraddin.glade:
        * CodeCompletion/ListWindow.cs:
        * Gui/SourceEditorBuffer.cs:
        * Gui/SourceEditorDisplayBinding.cs
        * Gui/SourceEditorWidget.cs:
        * Gui/SourceEditorView.cs:
        * Gui/Dialogs/ReplaceDialog.cs:
        * Gui/Dialogs/ReplaceInFilesDialog.cs:
        * Gui/OptionPanels/CodeTemplatePanel.cs:
        * Gui/OptionPanels/GeneralTextEditorPanel.cs:
        * InsightWindow/InsightWindow.cs:
        * Search/DocumentIterator/DirectoryDocumentIterator.cs:
        use ComboBox instead of OptionMenus
        use Gtk.Entry w/completion instead of Gnome.Entry
        remove obselete warnings, etc.

        * Makefile.am: remove Html from build
        * Commands/ProjectCommands.cs: comment out that
        * Gui/Dialogs/ExportProjectToHtmlDialog.cs: kill this



Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/ChangeLog	2005-01-27 07:45:41 UTC (rev 2177)
@@ -3,10 +3,30 @@
 	* EditorBindings.glade:
 	* texteditoraddin.glade: update to new glade format
 
+	* EditorBindings.glade:
+	* texteditoraddin.glade:
+	* CodeCompletion/ListWindow.cs:
+	* Gui/SourceEditorBuffer.cs:
+	* Gui/SourceEditorDisplayBinding.cs
+	* Gui/SourceEditorWidget.cs:
+	* Gui/SourceEditorView.cs:
+	* Gui/Dialogs/ReplaceDialog.cs:
+	* Gui/Dialogs/ReplaceInFilesDialog.cs:
+	* Gui/OptionPanels/CodeTemplatePanel.cs:
+	* Gui/OptionPanels/GeneralTextEditorPanel.cs:
+	* InsightWindow/InsightWindow.cs:
+	* Search/DocumentIterator/DirectoryDocumentIterator.cs:
+	use ComboBox instead of OptionMenus
+	use Gtk.Entry w/completion instead of Gnome.Entry
+	remove obselete warnings, etc.
+
+	* Makefile.am: remove Html from build
+	* Commands/ProjectCommands.cs: comment out that
+	* Gui/Dialogs/ExportProjectToHtmlDialog.cs: kill this
+
 2005-01-26  Christian Hergert &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">chris at mosaix.net</A>&gt;
-                                                                                                                                                             
-        * Gui/SourceEditorView.cs: Fix for new ShowView method in
-        DefaultWorkbench.
+	* Gui/SourceEditorView.cs: Fix for new ShowView method in
+	DefaultWorkbench.
 
 2005-01-26  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
 

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/CodeCompletion/ListWindow.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/CodeCompletion/ListWindow.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/CodeCompletion/ListWindow.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -356,8 +356,6 @@
 			
 			int ypos = margin;
 			int lineWidth = winWidth - margin*2;
-			int count = win.DataProvider.ItemCount;
-			
 			int xpos = margin + padding;
 				
 			int n = 0;

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Commands/ProjectCommands.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Commands/ProjectCommands.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Commands/ProjectCommands.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -15,6 +15,7 @@
 
 namespace MonoDevelop.DefaultEditor.Commands
 {
+/*
 	public class ExportProjectToHtml : AbstractMenuCommand
 	{
 		public override void Run()
@@ -30,4 +31,5 @@
 			}
 		}
 	}
+*/
 }

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/EditorBindings.glade
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/EditorBindings.glade	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/EditorBindings.glade	2005-01-27 07:45:41 UTC (rev 2177)
@@ -47,7 +47,6 @@
 	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
 	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
 	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;mnemonic_widget&quot;&gt;groupOptionMenu&lt;/property&gt;
 	    &lt;/widget&gt;
 	    &lt;packing&gt;
 	      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
@@ -123,10 +122,8 @@
 	  &lt;/child&gt;
 
 	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;groupOptionMenu&quot;&gt;
+	    &lt;widget class=&quot;GtkComboBox&quot; id=&quot;groupCombo&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 	    &lt;/widget&gt;
 	    &lt;packing&gt;
 	      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
@@ -134,7 +131,7 @@
 	      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
 	      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
 	      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-	      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+	      &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
 	    &lt;/packing&gt;
 	  &lt;/child&gt;
 	&lt;/widget&gt;
@@ -157,7 +154,7 @@
 	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
 	      &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_AUTOMATIC&lt;/property&gt;
 	      &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_AUTOMATIC&lt;/property&gt;
-	      &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_NONE&lt;/property&gt;
+	      &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_IN&lt;/property&gt;
 	      &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;
 
 	      &lt;child&gt;
@@ -255,7 +252,7 @@
 	  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
 	  &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_AUTOMATIC&lt;/property&gt;
 	  &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_AUTOMATIC&lt;/property&gt;
-	  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_NONE&lt;/property&gt;
+	  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_IN&lt;/property&gt;
 	  &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;
 
 	  &lt;child&gt;
@@ -734,10 +731,8 @@
 		  &lt;/child&gt;
 
 		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;textEncodingComboBox&quot;&gt;
+		    &lt;widget class=&quot;GtkComboBox&quot; id=&quot;textEncodingComboBox&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 		    &lt;/widget&gt;
 		    &lt;packing&gt;
 		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;

Deleted: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ExportProjectToHtmlDialog.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ExportProjectToHtmlDialog.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ExportProjectToHtmlDialog.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -1,452 +0,0 @@
-// &lt;file&gt;
-//     &lt;copyright see=&quot;<A HREF="prj:///doc/copyright.txt&quot;/">prj:///doc/copyright.txt&quot;/</A>&gt;
-//     &lt;license see=&quot;<A HREF="prj:///doc/license.txt&quot;/">prj:///doc/license.txt&quot;/</A>&gt;
-//     &lt;owner name=&quot;Mike Kr&#252;ger&quot; email=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">mike at icsharpcode.net</A>&quot;/&gt;
-//     &lt;version value=&quot;$version&quot;/&gt;
-// &lt;/file&gt;
-
-using System;
-using System.Drawing;
-using System.IO;
-using System.Collections;
-using System.Collections.Specialized;
-
-using MonoDevelop.Core.Properties;
-using MonoDevelop.Core.Services;
-using MonoDevelop.Internal.Project;
-using MonoDevelop.TextEditor.Document;
-//using MonoDevelop.TextEditor.Util;
-using MonoDevelop.Gui.Widgets;
-using MonoDevelop.Services;
-
-using Gtk;
-
-// FIXME: use IdleHandler instead of threads here
-// also, what is the point of exporting to HTML?
-
-namespace MonoDevelop.Gui.Dialogs
-{
-	public class ExportProjectToHtmlDialog : Dialog
-	{
-		Entry pathTextBox = new Entry ();
-		Label pathLabel = new Label ();
-		Button okButton = new Button ();
-		Button cancelButton = new Button ();
-		Button browseButton = new Button ();
-		ProgressBar progressBar = new ProgressBar ();
-		
-		FileUtilityService fileUtilityService = (FileUtilityService) ServiceManager.GetService(typeof(FileUtilityService));
-		IconService iconService = (IconService) ServiceManager.GetService(typeof(IconService));
-		
-		Project project;
-		int filesExported = 0;
-		
-		int FilesExported
-		{
-			get {
-				return filesExported;
-			}
-			set {
-				progressBar.Fraction = filesExported = value / 100;
-			}
-		}
-		
-		void StartExporting ()
-		{
-			cancelButton = new Button (Gtk.Stock.Cancel);
-			cancelButton.Clicked += new EventHandler (StopThread);
-		}
-
-		public ExportProjectToHtmlDialog (Project project)
-		{
-			PropertyService propertyService = (PropertyService) ServiceManager.GetService (typeof (PropertyService));	
-			this.project = project;
-			
-			pathLabel.Text = GettextCatalog.GetString (&quot;Folder&quot;);
-			
-			//browseButton.Text = &quot;...&quot;;
-			//browseButton.Click += new EventHandler(BrowseDirectories);
-			
-			//okButton.Text     = resourceService.GetString(&quot;Global.OKButtonText&quot;);
-			//okButton.Click   += new EventHandler(ExportProject);
-			
-			//cancelButton.DialogResult = DialogResult.Cancel;
-			
-			SetSizeRequest (350, 88 + 6);
-			WindowPosition = WindowPosition.CenterOnParent;
-			
-			Title = GettextCatalog.GetString (&quot;Export Project to HTML&quot;);
-		}
-		
-		void BrowseDirectories (object sender, EventArgs e)
-		{
-			using (FolderDialog fd = new FolderDialog (GettextCatalog.GetString (&quot;Select Target Directory&quot;))) {
-				if (fd.Run () == (int) ResponseType.Ok) {
-					//pathTextBox.Text = fd.Path;
-				}
-				
-				fd.Hide ();
-			}
-		}
-		
-		Hashtable projectTable = new Hashtable ();
-		Hashtable bitmapTable = new Hashtable ();
-		int bitmapIconIndex = 0;
-		int indexFileIndex = 0;
-		
-		public Hashtable GetPath (string filename, Hashtable table, bool create)
-		{
-			string directory = System.IO.Path.GetDirectoryName (filename);
-			string[] treepath = directory.Split (new char[] { System.IO.Path.DirectorySeparatorChar });
-			Hashtable curTable = table;
-			
-			foreach (string path in treepath) {
-				if (path.Length == 0 || path[0] == '.')
-					continue;
-				
-				object node = curTable[path];
-				
-				if (node == null) {
-					if (create) {
-						Hashtable newTable = new Hashtable();
-						curTable[path] = newTable;
-						curTable = newTable;
-						continue;
-					} else {
-						return null;
-					}
-				}
-				
-				curTable = (Hashtable)node;
-			}
-			
-			return curTable;
-		}
-		
-		int GetImageIndex (string filename)
-		{
-			if (filename != null) {
-				return 0; //iconService.GetImageIndexForFile (filename);
-			}
-			
-			return -1;
-		}
-		
-		class Descriptor
-		{
-			public string title;
-			public string url;
-			
-			public Descriptor (string title, string url)
-			{
-				this.title = title;
-				this.url = url;
-			}
-		}
-		
-		StreamWriter curFileStream  = null;
-		Stack curIndexStreamStack = new Stack ();
-		int curSpanNumber = 0;
-		Hashtable Spans = new Hashtable();
-		
-		string ExportFile (string fileName, string targetPath)
-		{
-			string targetFile = fileUtilityService.AbsoluteToRelativePath (project.BaseDirectory, fileName).Substring (2).Replace (System.IO.Path.DirectorySeparatorChar.ToString (), &quot;&quot;) + &quot;.html&quot;;
-			
-			//IDocument document = new DocumentFactory ().CreateDocument ();
-			//document.HighlightingStrategy = HighlightingStrategyFactory.CreateHighlightingStrategyForFile (fileName);
-			StreamReader stream = System.IO.File.OpenText (fileName);
-			//document.TextContent = stream.ReadToEnd ();
-			stream.Close ();
-			
-			curFileStream = System.IO.File.CreateText (System.IO.Path.Combine (targetPath, targetFile));
-			curFileStream.Write (&quot;&lt;html&gt;\r\n&quot;);
-			curFileStream.Write (&quot;&lt;head&gt;\r\n&quot;);
-			curFileStream.Write (&quot;&lt;link rel=\&quot;stylesheet\&quot; type=\&quot;text/css\&quot; href=\&quot;sdcss.css\&quot;&gt;\r\n&quot;);
-			curFileStream.Write (&quot;&lt;title&gt;&quot; + System.IO.Path.GetFileName (fileName) + &quot;&lt;/title&gt;\r\n&quot;);
-			curFileStream.Write (&quot;&lt;/head&gt;\r\n&quot;);
-			curFileStream.Write (&quot;&lt;body&gt;\r\n&quot;);
-			
-			curFileStream.Write (&quot;&lt;div class=\&quot;code\&quot;&gt;&lt;TABLE SUMMARY=\&quot;SourceCode\&quot; BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH=\&quot;100%\&quot;&gt;\r\n&quot;);
-			curFileStream.Write (&quot;  &lt;TR BGCOLOR=\&quot;#FFFFFF\&quot;&gt;\r\n&quot;);
-			curFileStream.Write (&quot;    &lt;TH WIDTH=\&quot;50\&quot; NOWRAP ALIGN=LEFT&gt;&lt;/TH&gt;\r\n&quot;);
-			curFileStream.Write (&quot;    &lt;TH WIDTH=\&quot;1%\&quot; NOWRAP ALIGN=LEFT&gt;&lt;/TH&gt;\r\n&quot;);
-			curFileStream.Write (&quot;    &lt;TH VALIGN=TOP ALIGN=LEFT&gt;&amp;nbsp; \r\n&quot;);
-			curFileStream.Write (&quot;    &lt;/TH&gt;\r\n&quot;);
-			
-			curFileStream.Write (&quot;  &lt;/TR&gt;\r\n&quot;);
-			int i = 0;
-			
-			/*foreach (LineSegment line in document.LineSegmentCollection) {
-				curFileStream.Write (&quot;  &lt;TR BGCOLOR=\&quot;#FFFFFF\&quot; VALIGN=TOP&gt;\r\n&quot;);
-				curFileStream.Write (&quot;    &lt;TD NOWRAP VALIGN=TOP ALIGN=RIGHT&gt;&quot; + ++i + &quot;:&lt;/TD&gt;\r\n&quot;);
-				curFileStream.Write (&quot;    &lt;TD NOWRAP VALIGN=TOP ALIGN=LEFT&gt;&amp;nbsp;\r\n&quot;);
-				bool spanOpen = false;
-				Color curColor = Color.Black;
-				bool oldItalic = false;
-				bool oldBold = false;
-				bool firstSpan = true;
-				
-				foreach (TextWord word in line.Words) {
-					switch (word.Type) {
-						case TextWordType.Space:
-							curFileStream.Write (&quot;&amp;nbsp;&quot;);
-						break;
-						
-						case TextWordType.Tab:
-							for (int k = 0; k &lt; document.TextEditorProperties.TabIndent; ++k) {
-								curFileStream.Write (&quot;&amp;nbsp;&quot;);
-							}
-						break;
-						
-						case TextWordType.Word:
-							Color c = word.Color;
-							string colorstr = c.R + &quot;, &quot; + c.G + &quot;, &quot; + c.B;
-							
-							if (word.Font.Italic) {
-								colorstr = &quot;i&quot; + colorstr;
-							}
-							
-							if (word.Font.Bold) {
-								colorstr = &quot;b&quot; + colorstr;
-							}
-							
-							if (Spans[colorstr] == null) {
-								Spans[colorstr] = &quot;span&quot; + ++curSpanNumber;
-							}
-							bool newColor = c != curColor || oldItalic != word.Font.Italic || oldBold != word.Font.Bold;
-							
-							if (newColor) {
-								if (!firstSpan) {
-									curFileStream.Write (&quot;&lt;/span&gt;&quot; );
-								}
-								
-								curFileStream.Write (&quot;&lt;span class=\&quot;&quot; + Spans[colorstr].ToString () + &quot;\&quot;&gt;&quot; );
-								spanOpen  = true;
-								firstSpan = false;
-							}
-							
-							curFileStream.Write (HtmlLize (word.Word));
-							
-							if (newColor) {
-								curColor = c;
-								oldItalic = word.Font.Italic;
-								oldBold = word.Font.Bold;
-							}
-						break;
-					}
-				}
-				
-				if (spanOpen) {
-					curFileStream.Write (&quot;&lt;/span&gt;&quot; );
-				}
-				
-				curFileStream.Write (&quot;&lt;/TD&gt;\r\n&quot;);
-				curFileStream.Write (&quot;&lt;/TR&gt;\r\n&quot;);
-			}
-			*/
-			curFileStream.Write (&quot;&lt;/TABLE&gt;&lt;/div&gt;\r\n&quot;);
-			
-			curFileStream.Write (&quot;&lt;P&gt;\r\n&quot;);
-			curFileStream.Write (&quot;This page was automatically generated by \r\n&quot;);
-			curFileStream.Write (&quot;&lt;A TARGET=\&quot;_blank\&quot; HREF=\&quot;<A HREF="http://www.icsharpcode.net/OpenSource/SD\&quot;">http://www.icsharpcode.net/OpenSource/SD\&quot;</A>&gt;SharpDevelop&lt;/A&gt;.\r\n&quot;);
-			curFileStream.Write (&quot;&lt;/p&gt;\r\n&quot;);
-			curFileStream.Write (&quot;&lt;/body&gt;\r\n&quot;);
-			curFileStream.Write (&quot;&lt;/html&gt;\r\n&quot;);
-			curFileStream.Close ();
-			return targetFile;
-		}
-		
-		string HtmlLize (string str)
-		{
-			return str.Replace (&quot;&amp;&quot;, &quot;&amp;amp;&quot;).Replace (&quot;&lt;&quot;, &quot;&amp;lt;&quot;).Replace (&quot;&gt;&quot;, &quot;&amp;gt;&quot;);
-		}
-		
-		void WriteIndexTable (string fileName, string name, ArrayList nameList, Hashtable table)
-		{
-			curIndexStreamStack.Push (System.IO.File.CreateText(fileName));
-			StreamWriter curIndexStream = (StreamWriter) curIndexStreamStack.Peek();
-			
-			curIndexStream.Write (&quot;&lt;!DOCTYPE HTML PUBLIC \&quot;-//W3C//DTD HTML 4.0 Transitional//EN\&quot;&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;&lt;html&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;&lt;head&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;&lt;title&gt;&quot; + project.Name + &quot;&lt;/title&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;&lt;/head&gt;\r\n&quot;);
-			
-			curIndexStream.Write (&quot;&lt;body&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;&lt;p&gt;Location : &quot;);
-			foreach (Descriptor d in nameList) {
-				curIndexStream.Write (&quot;&lt;a href=\&quot;&quot;+ d.url + &quot;\&quot;&gt;&quot; + d.title + &quot;&lt;/a&gt;/&quot;);
-			}
-			curIndexStream.Write (name);
-			curIndexStream.Write (&quot;&lt;/p&gt;\r\n&quot;);
-			
-			nameList.Add (new Descriptor (name, System.IO.Path.GetFileName (fileName)));
-					
-			curIndexStream.Write (&quot;&lt;TABLE SUMMARY=\&quot;Directory\&quot; BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH=\&quot;100%\&quot;&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;  &lt;TR BGCOLOR=\&quot;#F38C00\&quot;&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;    &lt;TH WIDTH=\&quot;1%\&quot;&gt;&amp;nbsp;&lt;/TH&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;    &lt;TH WIDTH=\&quot;1%\&quot; NOWRAP ALIGN=LEFT&gt;Name&lt;/TH&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;    &lt;TH WIDTH=\&quot;1%\&quot; NOWRAP ALIGN=RIGHT&gt;Size&lt;/TH&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;    &lt;TH WIDTH=\&quot;1%\&quot; NOWRAP ALIGN=LEFT&gt;Date&lt;/TH&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;    &lt;TH VALIGN=TOP ALIGN=LEFT&gt;&amp;nbsp; \r\n&quot;);
-			curIndexStream.Write (&quot;    &lt;/TH&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;  &lt;/TR&gt;\r\n&quot;);
-			
-			bool coloring = false;
-			foreach (DictionaryEntry entry in table) {
-				if (entry.Value is Hashtable) {
-					string filename = &quot;index&quot; + ++indexFileIndex + &quot;.html&quot;;
-					WriteIndexTable (System.IO.Path.GetDirectoryName (fileName) + System.IO.Path.DirectorySeparatorChar + filename, entry.Key.ToString(), nameList, (Hashtable)entry.Value);
-					nameList.RemoveAt (nameList.Count - 1);
-					curIndexStream.Write (&quot;  &lt;TR BGCOLOR=\&quot;&quot; + (coloring ? &quot;#FFFFFF&quot; : &quot;#EEEEEE&quot;) + &quot;\&quot; VALIGN=TOP&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;TD NOWRAP VALIGN=TOP ALIGN=RIGHT&gt;&lt;a href=\&quot;&quot; + filename + &quot;\&quot;&gt;&lt;IMG ALIGN=ABSBOTTOM BORDER=0 WIDTH=16 HEIGHT=16 SRC=\&quot;folderbitmap.png\&quot;&gt;&lt;/a&gt;&lt;/TD&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;TD NOWRAP VALIGN=TOP ALIGN=LEFT&gt;&lt;a href=\&quot;&quot;+ filename + &quot;\&quot;&gt;&quot; + entry.Key.ToString() + &quot;&lt;/a&gt; &lt;/TD&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;TD NOWRAP VALIGN=TOP ALIGN=RIGHT&gt;-&lt;/TD&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;TD NOWRAP VALIGN=TOP ALIGN=RIGHT&gt;-&lt;/TD&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;TD VALIGN=TOP ALIGN=LEFT&gt;&amp;nbsp; \r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;/TD&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;  &lt;/TR&gt;\r\n&quot;);
-				} else if (entry.Value is ProjectFile) {
-					ProjectFile fInfo = (ProjectFile) entry.Value;
-					DateTime time = Directory.GetLastAccessTime (fInfo.Name);
-					FileStream reader = System.IO.File.OpenRead (fInfo.Name);
-					long size = reader.Length;
-					reader.Close ();
-					
-					int idx  = GetImageIndex (fInfo.Name);
-					if (bitmapTable[idx] == null) {
-						string filename = &quot;fileicon&quot; + ++bitmapIconIndex + &quot;.png&quot;;
-						
-						//Bitmap bmp = (Bitmap)iconService.ImageList.Images[idx];
-						//bmp.Save(Path.GetDirectoryName(fileName) + Path.DirectorySeparatorChar + filename);
-						//bitmapTable[idx] = filename;
-					}
-					string outFile = ExportFile(fInfo.Name, System.IO.Path.GetDirectoryName(fileName));
-					++FilesExported;
-					curIndexStream.Write (&quot;  &lt;TR BGCOLOR=\&quot;&quot; + (coloring ? &quot;#FFFFFF&quot; : &quot;#EEEEEE&quot;) + &quot;\&quot; VALIGN=TOP&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;TD NOWRAP VALIGN=TOP ALIGN=RIGHT&gt;&lt;a href=\&quot;&quot; + outFile + &quot;\&quot;&gt;&lt;IMG ALIGN=ABSBOTTOM BORDER=0 WIDTH=16 HEIGHT=16 SRC=\&quot;&quot; + bitmapTable[idx].ToString() +&quot;\&quot;&gt;&lt;/a&gt;&lt;/TD&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;TD NOWRAP VALIGN=TOP ALIGN=LEFT&gt;&lt;a href=\&quot;&quot; + outFile + &quot;\&quot;&gt;&quot; + System.IO.Path.GetFileName(fInfo.Name) + &quot;&lt;/a&gt; &lt;/TD&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;TD NOWRAP VALIGN=TOP ALIGN=RIGHT&gt;&quot; + size + &quot;&lt;/TD&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;TD NOWRAP VALIGN=TOP ALIGN=RIGHT&gt;&quot; + time.ToString(&quot;d&quot;) + &quot;&lt;/TD&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;TD VALIGN=TOP ALIGN=LEFT&gt;&amp;nbsp; \r\n&quot;);
-					curIndexStream.Write (&quot;    &lt;/TD&gt;\r\n&quot;);
-					curIndexStream.Write (&quot;  &lt;/TR&gt;\r\n&quot;);
-				}
-				
-				coloring = !coloring;
-			}
-			
-			curIndexStream.Write (&quot;&lt;/TABLE&gt;\r\n&quot;);
-			
-			curIndexStream.Write (&quot;&lt;p&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;This page was automatically generated by \r\n&quot;);
-			curIndexStream.Write (&quot;&lt;A TARGET=\&quot;_blank\&quot; HREF=\&quot;<A HREF="http://www.icsharpcode.net/OpenSource/SD\&quot;">http://www.icsharpcode.net/OpenSource/SD\&quot;</A>&gt;SharpDevelop&lt;/A&gt;.\r\n&quot;);
-			curIndexStream.Write (&quot;&lt;/p&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;&lt;/body&gt;\r\n&quot;);
-			curIndexStream.Write (&quot;&lt;/html&gt;\r\n&quot;);
-			
-			lock (this) {
-				curIndexStream.Close ();
-				curIndexStreamStack.Pop ();
-			}
-		}
-		
-		delegate void MyD ();
-		
-		void QuitDialog ()
-		{
-			//DialogResult = DialogResult.OK;
-		}
-		
-//		Thread exportFilesThread; 
-		void ExportFilesThread ()
-		{
-			//resourceService.GetBitmap (&quot;Icons.16x16.ClosedFolderBitmap&quot;).Save (fileUtilityService.GetDirectoryNameWithSeparator (pathTextBox.Text) + &quot;folderbitmap.png&quot;);
-			WriteIndexTable (fileUtilityService.GetDirectoryNameWithSeparator (pathTextBox.Text) + &quot;index.html&quot;, &quot;[ROOT]&quot;, new ArrayList (), projectTable);
-			CreateCSS (pathTextBox.Text);
-			//Invoke (new MyD (QuitDialog));
-		}
-		
-		void StopThread(object sender, EventArgs e)
-		{
-			//lock (this) {
-				//exportFilesThread.Abort ();
-				curFileStream.Close ();
-				while (curIndexStreamStack.Count &gt; 0) {
-					((StreamWriter) curIndexStreamStack.Pop ()).Close ();
-				}
-				QuitDialog ();
-			//}
-		}
-		
-		void CreateCSS (string targetPath)
-		{
-			//lock (this) {
-				StreamWriter sw = System.IO.File.CreateText (System.IO.Path.Combine (targetPath, &quot;sdcss.css&quot;));
-				sw.Write (&quot;div.code\r\n&quot;);
-				sw.Write (&quot;{\r\n&quot;);
-				sw.Write (&quot;	background-color: rgb(255,255,255);\r\n&quot;);
-				sw.Write (&quot;	font-family: \&quot;Lucida Console\&quot;, \&quot;courier new\&quot;, courier;\r\n&quot;);
-				sw.Write (&quot;	color: rgb(0,0,0);\r\n&quot;);
-				sw.Write (&quot;	font-size: x-small;\r\n&quot;);
-				sw.Write (&quot;	padding: 1em;\r\n&quot;);
-				sw.Write (&quot;	margin: 1em;\r\n&quot;);
-				sw.Write (&quot;}\r\n&quot;);
-				
-				foreach (DictionaryEntry entry in Spans) {
-					string color = entry.Key.ToString ();
-					string name  = entry.Value.ToString ();
-					bool bold   = color.StartsWith (&quot;b&quot;);
-					if (bold) {
-						color = color.Substring(1);
-					}
-					bool italic = color.StartsWith (&quot;i&quot;);
-					if (italic) {
-						color = color.Substring (1);
-					}
-					
-					sw.Write (&quot;div.code span.&quot; + name +&quot;\r\n&quot;);
-					sw.Write (&quot;{\r\n&quot;);
-					sw.Write (&quot;	color: rgb(&quot;+ color + &quot;);\r\n&quot;);
-					if (bold) {
-						sw.Write (&quot;	font-weight: bold;\r\n&quot;);
-					} else
-					if (italic) {
-						sw.Write (&quot;	font-weight: italic;\r\n&quot;);
-					} else {
-						sw.Write (&quot;	font-weight: normal;\r\n&quot;);
-					}
-					
-					sw.Write(&quot;}\r\n&quot;);
-				}
-				sw.Close ();
-			//}
-		
-		}
-		
-		void ExportProject (object sender, EventArgs e)
-		{
-			if (!Directory.Exists (pathTextBox.Text)) {
-				//MessageBox.Show (&quot;Directory doesn't exists&quot;, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
-				return;
-			}
-			
-			foreach (ProjectFile fInfo in project.ProjectFiles) {
-				if (fInfo.Subtype != Subtype.Directory) {
-					if (fInfo.BuildAction == BuildAction.Compile ||
-					    fInfo.BuildAction == BuildAction.Nothing) {
-						string relativefile = fileUtilityService.AbsoluteToRelativePath(project.BaseDirectory, fInfo.Name);
-						Hashtable table = GetPath (relativefile, projectTable, true);
-						table [System.IO.Path.GetFileName(fInfo.Name)] = fInfo;
-				    }
-				}
-			}
-			
-			StartExporting ();
-			/*exportFilesThread = new Thread (new ThreadStart(ExportFilesThread));
-			exportFilesThread.IsBackground  = true;
-			exportFilesThread.Start ();*/
-		}
-	}
-}

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceDialog.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceDialog.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceDialog.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -14,11 +14,9 @@
 using MonoDevelop.Gui;
 using MonoDevelop.TextEditor.Document;
 using MonoDevelop.Core.Properties;
-
 using MonoDevelop.Core.Services;
 using MonoDevelop.Services;
 using MonoDevelop.TextEditor;
-//using MonoDevelop.EditorBindings.Search;
 
 using Gtk;
 using Glade;
@@ -27,8 +25,8 @@
 {
 	public class ReplaceDialog
 	{
-		private const int HISTORY_LIMIT = 20;
-		private const char HISTORY_SEPARATOR_CHAR = (char) 10;
+		private const int historyLimit = 20;
+		private const char historySeparator = (char) 10;
 		// regular members
 		public bool replaceMode;
 		StringCollection findHistory = new StringCollection();
@@ -40,8 +38,8 @@
 		StringParserService stringParserService = (StringParserService)ServiceManager.GetService (typeof (StringParserService));
 		
 		// gtk widgets
-		[Glade.Widget] Gnome.Entry searchPatternEntry;
-		[Glade.Widget] Gnome.Entry replacePatternEntry;
+		[Glade.Widget] Gtk.Entry searchPatternEntry;
+		[Glade.Widget] Gtk.Entry replacePatternEntry;
 		[Glade.Widget] Gtk.Button findHelpButton;
 		[Glade.Widget] Gtk.Button findButton;
 		[Glade.Widget] Gtk.Button markAllButton;
@@ -52,8 +50,8 @@
 		[Glade.Widget] Gtk.CheckButton ignoreCaseCheckBox;
 		[Glade.Widget] Gtk.CheckButton searchWholeWordOnlyCheckBox;
 		[Glade.Widget] Gtk.CheckButton useSpecialSearchStrategyCheckBox;
-		[Glade.Widget] Gtk.OptionMenu specialSearchStrategyComboBox;
-		[Glade.Widget] Gtk.OptionMenu searchLocationComboBox;
+		[Glade.Widget] Gtk.ComboBox specialSearchStrategyComboBox;
+		[Glade.Widget] Gtk.ComboBox searchLocationComboBox;
 		[Glade.Widget] Gtk.Label label1;
 		[Glade.Widget] Gtk.Label label2;		
 		[Glade.Widget] Gtk.Label searchLocationLabel;
@@ -81,13 +79,21 @@
 			checkButtons.AddWidget(searchLocationLabel);
 			options.AddWidget(specialSearchStrategyComboBox);
 			options.AddWidget(searchLocationComboBox);
+
+			searchPatternEntry.Completion = new EntryCompletion ();
+			searchPatternEntry.Completion.Model = new ListStore (typeof (string));
+			searchPatternEntry.Completion.TextColumn = 0;
 			
 			// set button sensitivity
 			findHelpButton.Sensitive = false;
 			
 			// set replace dialog properties 
-			if(replaceMode)
+			if (replaceMode)
 			{
+				replacePatternEntry.Completion = new EntryCompletion ();
+				replacePatternEntry.Completion.Model = new ListStore (typeof (string));
+				replacePatternEntry.Completion.TextColumn = 0;
+
 				ReplaceDialogPointer = this.ReplaceDialogWidget;
 				// set the label properties
 				replaceButton.UseUnderline = true;
@@ -118,18 +124,7 @@
 			Glade.XML glade = new XML (null, &quot;texteditoraddin.glade&quot;, dialogName, null);
 			glade.Autoconnect (this);
 			InitDialog ();
-			/*if (replaceMode) {
-				//this.SetupFromXml(Path.Combine(propertyService.DataDirectory, @&quot;resources\dialogs\ReplaceDialog.xfrm&quot;));
-				//ControlDictionary[&quot;replaceHelpButton&quot;].Enabled = false;
-				InitDialogForReplace ();
-			} else {
-				InitDialogForFind ();
-				//this.SetupFromXml(Path.Combine(propertyService.DataDirectory, @&quot;resources\dialogs\FindDialog.xfrm&quot;));
-			}*/
 			
-			//AcceptButton = (Button)ControlDictionary[&quot;findButton&quot;];
-			//CancelButton = (Button)ControlDictionary[&quot;closeButton&quot;];
-			
 			LoadHistoryValues();
 			
 			ignoreCaseCheckBox.Active = !SearchReplaceManager.SearchOptions.IgnoreCase;
@@ -138,14 +133,16 @@
 			useSpecialSearchStrategyCheckBox.Active  = SearchReplaceManager.SearchOptions.SearchStrategyType != SearchStrategyType.Normal;
 			useSpecialSearchStrategyCheckBox.Toggled += new EventHandler(SpecialSearchStrategyCheckBoxChangedEvent);
 			
-			Gtk.MenuItem tmpItem = new Gtk.MenuItem (GettextCatalog.GetString (&quot;Wildcards&quot;));
-			Gtk.Menu stratMenu = new Gtk.Menu ();
-			stratMenu.Append (tmpItem);
-			tmpItem = new Gtk.MenuItem (GettextCatalog.GetString(&quot;Regular Expressions&quot;));
-			stratMenu.Append (tmpItem);
-			specialSearchStrategyComboBox.Menu = stratMenu;
+			ListStore store = new ListStore (typeof (string));
+			store.AppendValues (GettextCatalog.GetString (&quot;Wildcards&quot;));
+			store.AppendValues (GettextCatalog.GetString (&quot;Regular Expressions&quot;));
+			specialSearchStrategyComboBox.Model = store;
+
+			CellRendererText cr = new CellRendererText ();
+			specialSearchStrategyComboBox.PackStart (cr, true);
+			specialSearchStrategyComboBox.AddAttribute (cr, &quot;text&quot;, 0);
 		
-			uint index = 0;
+			int index = 0;
 			switch (SearchReplaceManager.SearchOptions.SearchStrategyType) {
 				case SearchStrategyType.Normal:
 				case SearchStrategyType.Wildcard:
@@ -154,17 +151,16 @@
 					index = 1;
 					break;
 			}
-			specialSearchStrategyComboBox.SetHistory (index);
+			specialSearchStrategyComboBox.Active = index;
 			
-			Gtk.Menu locMenu = new Gtk.Menu ();
-			tmpItem = new Gtk.MenuItem (GettextCatalog.GetString (&quot;Current File&quot;));
-			locMenu.Append (tmpItem);
-			tmpItem = new Gtk.MenuItem (GettextCatalog.GetString (&quot;All Open Files&quot;));
-			locMenu.Append (tmpItem);
-			tmpItem = new Gtk.MenuItem (GettextCatalog.GetString (&quot;Entire Project&quot;));
-			locMenu.Append (tmpItem);
+			store = new ListStore (typeof (string));
+			store.AppendValues (GettextCatalog.GetString (&quot;Current File&quot;));
+			store.AppendValues (GettextCatalog.GetString (&quot;All Open Files&quot;));
+			store.AppendValues (GettextCatalog.GetString (&quot;Entire Project&quot;));
 			
-			searchLocationComboBox.Menu = locMenu;	
+			searchLocationComboBox.Model = store;
+			searchLocationComboBox.PackStart (cr, true);
+			searchLocationComboBox.AddAttribute (cr, &quot;text&quot;, 0);
 			
 			index = 0;
 			switch (SearchReplaceManager.SearchOptions.DocumentIteratorType) {
@@ -175,9 +171,9 @@
 					SearchReplaceManager.SearchOptions.DocumentIteratorType = DocumentIteratorType.CurrentDocument;
 					break;
 			}
-			searchLocationComboBox.SetHistory (index);
+			searchLocationComboBox.Active = index;
 			
-			searchPatternEntry.GtkEntry.Text  = SearchReplaceManager.SearchOptions.SearchPattern;
+			searchPatternEntry.Text = SearchReplaceManager.SearchOptions.SearchPattern;
 			
 			// insert event handlers
 			findButton.Clicked  += new EventHandler(FindNextEvent);
@@ -189,20 +185,13 @@
 				ReplaceDialogPointer.Title = GettextCatalog.GetString (&quot;Replace&quot;);
 				replaceButton.Clicked    += new EventHandler(ReplaceEvent);
 				replaceAllButton.Clicked += new EventHandler(ReplaceAllEvent);
-				replacePatternEntry.GtkEntry.Text = SearchReplaceManager.SearchOptions.ReplacePattern;
+				replacePatternEntry.Text = SearchReplaceManager.SearchOptions.ReplacePattern;
 			} else {
 				ReplaceDialogPointer.Title = GettextCatalog.GetString (&quot;Find&quot;);
 				markAllButton.Clicked    += new EventHandler(MarkAllEvent);
 			}
-			searchPatternEntry.GtkEntry.SelectRegion(0, searchPatternEntry.GtkEntry.Text.Length);
+			searchPatternEntry.SelectRegion(0, searchPatternEntry.Text.Length);
 			
-				//ControlDictionary[&quot;replacePatternEntry&quot;].Visible = false;
-				//ControlDictionary[&quot;replaceAllButton&quot;].Visible       = false;
-				//ControlDictionary[&quot;replacePatternLabel&quot;].Visible    = false;
-				//ControlDictionary[&quot;replacePatternButton&quot;].Visible   = false;
-				//ControlDictionary[&quot;replaceButton&quot;].Text             = resourceService.GetString(&quot;Dialog.NewProject.SearchReplace.ToggleReplaceModeButton&quot;);
-				//ClientSize = new Size(ClientSize.Width, ClientSize.Height - 32);
-			
 			SpecialSearchStrategyCheckBoxChangedEvent(null, null);
 			SearchReplaceManager.ReplaceDialog     = this;
 		}
@@ -222,21 +211,21 @@
 
 		public void SetSearchPattern(string pattern)
 		{
-			searchPatternEntry.GtkEntry.Text  = pattern;
+			searchPatternEntry.Text  = pattern;
 		}
 		
 		void SetupSearchReplaceManager()
 		{
-			SearchReplaceManager.SearchOptions.SearchPattern  = searchPatternEntry.GtkEntry.Text;
+			SearchReplaceManager.SearchOptions.SearchPattern  = searchPatternEntry.Text;
 			if (replaceMode) {
-				SearchReplaceManager.SearchOptions.ReplacePattern = replacePatternEntry.GtkEntry.Text;
+				SearchReplaceManager.SearchOptions.ReplacePattern = replacePatternEntry.Text;
 			}
 			
 			SearchReplaceManager.SearchOptions.IgnoreCase          = !ignoreCaseCheckBox.Active;
 			SearchReplaceManager.SearchOptions.SearchWholeWordOnly = searchWholeWordOnlyCheckBox.Active;
 			
 			if (useSpecialSearchStrategyCheckBox.Active) {
-				switch (specialSearchStrategyComboBox.History) {
+				switch (specialSearchStrategyComboBox.Active) {
 					case 0:
 						SearchReplaceManager.SearchOptions.SearchStrategyType = SearchStrategyType.Wildcard;
 						break;
@@ -248,7 +237,7 @@
 				SearchReplaceManager.SearchOptions.SearchStrategyType = SearchStrategyType.Normal;
 			}
 			
-			switch (searchLocationComboBox.History) {
+			switch (searchLocationComboBox.Active) {
 				case 0:
 					SearchReplaceManager.SearchOptions.DocumentIteratorType = DocumentIteratorType.CurrentDocument;
 					break;
@@ -263,76 +252,46 @@
 		
 		void FindNextEvent(object sender, EventArgs e)
 		{
-			if (searchPatternEntry.GtkEntry.Text.Length == 0) {
+			if (searchPatternEntry.Text.Length == 0)
 				return;
-			}
 			
-			try {
-				//Cursor = Cursors.WaitCursor;
-				SetupSearchReplaceManager();
-				SearchReplaceManager.FindNext();
-				//this.Focus();
-			}
-			finally {
-				//Cursor = Cursors.Default;
-			}
+			SetupSearchReplaceManager();
+			SearchReplaceManager.FindNext();
 			
-			AddSearchHistoryItem(findHistory, searchPatternEntry.GtkEntry.Text);
+			AddSearchHistoryItem(findHistory, searchPatternEntry.Text);
 		}
 		
 		void ReplaceEvent(object sender, EventArgs e)
 		{
-			if (searchPatternEntry.GtkEntry.Text.Length == 0) {
+			if (searchPatternEntry.Text.Length == 0)
 				return;
-			}
 			
-			try {
-				//Cursor = Cursors.WaitCursor;
-				
-				SetupSearchReplaceManager();
-				SearchReplaceManager.Replace();
-			}
-			finally {
-				//Cursor = Cursors.Default;
-			}
+			SetupSearchReplaceManager();
+			SearchReplaceManager.Replace();
 			
-			AddSearchHistoryItem(replaceHistory, replacePatternEntry.GtkEntry.Text);
+			AddSearchHistoryItem(replaceHistory, replacePatternEntry.Text);
 		}
 		
 		void ReplaceAllEvent(object sender, EventArgs e)
 		{
-			if (searchPatternEntry.GtkEntry.Text.Length == 0) {
+			if (searchPatternEntry.Text.Length == 0)
 				return;
-			}
 			
-			try {
-				//Cursor = Cursors.WaitCursor;
-				
-				SetupSearchReplaceManager();
-				SearchReplaceManager.ReplaceAll();
-			} finally {
-				//Cursor = Cursors.Default;
-			}
+			SetupSearchReplaceManager();
+			SearchReplaceManager.ReplaceAll();
 			
-			AddSearchHistoryItem(replaceHistory, replacePatternEntry.GtkEntry.Text);
+			AddSearchHistoryItem(replaceHistory, replacePatternEntry.Text);
 		}
 		
 		void MarkAllEvent(object sender, EventArgs e)
 		{
-			if (searchPatternEntry.GtkEntry.Text.Length == 0) {
+			if (searchPatternEntry.Text.Length == 0)
 				return;
-			}
 			
-			try {
-				//Cursor = Cursors.WaitCursor;
-				
-				SetupSearchReplaceManager();
-				SearchReplaceManager.MarkAll();			
-			} finally {
-				//Cursor = Cursors.Default;
-			}
+			SetupSearchReplaceManager();
+			SearchReplaceManager.MarkAll();			
 			
-			AddSearchHistoryItem(findHistory, searchPatternEntry.GtkEntry.Text);
+			AddSearchHistoryItem(findHistory, searchPatternEntry.Text);
 		}
 		
 		void CloseDialogEvent(object sender, EventArgs e)
@@ -349,7 +308,7 @@
 		}
 		
 		// generic method to add a string to a history item
-		private void AddSearchHistoryItem(StringCollection history, string toAdd)
+		private void AddSearchHistoryItem (StringCollection history, string toAdd)
 		{
 			// add the item to the find history
 			if (history.Contains(toAdd)) {
@@ -357,59 +316,70 @@
 				history.Remove(toAdd);
 			}
 			// make sure there is only 20
-			if (history.Count == HISTORY_LIMIT) {
-				history.RemoveAt(HISTORY_LIMIT - 1);
+			if (history.Count == historyLimit) {
+				history.RemoveAt(historyLimit - 1);
 			}
 			history.Insert(0, toAdd);
 			
 			// update the drop down for the combobox
-			string[] stringArray = new string[history.Count];
-			history.CopyTo(stringArray, 0);
-			if (history == findHistory) {
-				searchPatternEntry.PopdownStrings = stringArray;
-			} else if( history == replaceHistory) {
-				replacePatternEntry.PopdownStrings = stringArray;
-			}
+			ListStore store = new ListStore (typeof (string));
+			for (int i = 0; i &lt; history.Count; i ++)
+				store.AppendValues (history[i]);
+
+			if (history == findHistory)
+				searchPatternEntry.Completion.Model = store;
+			else if( history == replaceHistory)
+				replacePatternEntry.Completion.Model = store;
 		}
 		
 		// loads the history arrays from the property service
-		// NOTE: this dialog uses a newline character to separate search history strings in the properties file 
+		// NOTE: a newline character separates the search history strings
 		private void LoadHistoryValues()
 		{
 			object stringArray;
 			// set the history in properties
 			stringArray = propertyService.GetProperty(&quot;MonoDevelop.FindReplaceDialogs.FindHistory&quot;);
 		
-			if(stringArray != null) {
-				findHistory.AddRange(stringArray.ToString().Split(HISTORY_SEPARATOR_CHAR));
-				searchPatternEntry.PopdownStrings = stringArray.ToString().Split(HISTORY_SEPARATOR_CHAR);
+			if (stringArray != null) {
+				string[] items = stringArray.ToString ().Split (historySeparator);
+				findHistory.AddRange (items);
+
+				ListStore store = new ListStore (typeof (string));
+				foreach (string i in items)
+					store.AppendValues (i);
+				searchPatternEntry.Completion.Model = store;
 			}
 			
 			// now do the replace history
-			if(replaceMode)	{					
-				stringArray = propertyService.GetProperty(&quot;MonoDevelop.FindReplaceDialogs.ReplaceHistory&quot;);
-				if(stringArray != null) {
-					replaceHistory.AddRange(stringArray.ToString().Split(HISTORY_SEPARATOR_CHAR));
-					replacePatternEntry.PopdownStrings = stringArray.ToString().Split(HISTORY_SEPARATOR_CHAR);
+			if (replaceMode) {
+				string[] items = stringArray.ToString ().Split (historySeparator);
+				stringArray = propertyService.GetProperty (&quot;MonoDevelop.FindReplaceDialogs.ReplaceHistory&quot;);
+
+				if (stringArray != null) {
+					replaceHistory.AddRange (items);
+					ListStore store = new ListStore (typeof (string));
+					foreach (string i in items)
+						store.AppendValues (i);
+					replacePatternEntry.Completion.Model = store;
 				}
 			}
 		}
 		
 		// saves the history arrays to the property service
-		// NOTE: this dialog uses a newline character to separate search history strings in the properties file
+		// NOTE: a newline character separates the search history strings
 		private void SaveHistoryValues()
 		{
 			string[] stringArray;
 			// set the history in properties
 			stringArray = new string[findHistory.Count];
-			findHistory.CopyTo(stringArray, 0);			
-			propertyService.SetProperty(&quot;MonoDevelop.FindReplaceDialogs.FindHistory&quot;, string.Join(HISTORY_SEPARATOR_CHAR.ToString(), stringArray));
+			findHistory.CopyTo (stringArray, 0);			
+			propertyService.SetProperty (&quot;MonoDevelop.FindReplaceDialogs.FindHistory&quot;, string.Join(historySeparator.ToString(), stringArray));
 			
 			// now do the replace history
-			if(replaceMode)	{
+			if (replaceMode)	{
 				stringArray = new string[replaceHistory.Count];
-				replaceHistory.CopyTo(stringArray, 0);				
-				propertyService.SetProperty(&quot;MonoDevelop.FindReplaceDialogs.ReplaceHistory&quot;, string.Join(HISTORY_SEPARATOR_CHAR.ToString(), stringArray));
+				replaceHistory.CopyTo (stringArray, 0);				
+				propertyService.SetProperty (&quot;MonoDevelop.FindReplaceDialogs.ReplaceHistory&quot;, string.Join(historySeparator.ToString(), stringArray));
 			}
 		}
 		
@@ -429,7 +399,7 @@
 		public void ShowAll()
 		{
 			ReplaceDialogPointer.ShowAll();
-			searchPatternEntry.GtkEntry.SelectRegion (0, searchPatternEntry.GtkEntry.Text.Length);
+			searchPatternEntry.SelectRegion (0, searchPatternEntry.Text.Length);
 		}
 		#endregion
 	}

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceInFilesDialog.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceInFilesDialog.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/Dialogs/ReplaceInFilesDialog.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -13,11 +13,9 @@
 using MonoDevelop.Gui;
 using MonoDevelop.TextEditor.Document;
 using MonoDevelop.Core.Properties;
-
 using MonoDevelop.Core.Services;
 using MonoDevelop.Services;
 using MonoDevelop.TextEditor;
-
 using MonoDevelop.Gui.Widgets;
 
 using Glade;
@@ -28,12 +26,10 @@
 	public class ReplaceInFilesDialog
 	{
 		IMessageService messageService  = (IMessageService)ServiceManager.GetService(typeof(IMessageService));
-		StringParserService stringParserService = (StringParserService)ServiceManager.GetService (typeof (StringParserService));
-		static PropertyService propertyService = (PropertyService)ServiceManager.GetService(typeof(PropertyService));
 		public bool replaceMode;
 
-		[Glade.Widget] Gnome.Entry searchPatternEntry;
-		[Glade.Widget] Gnome.Entry replacePatternEntry;
+		[Glade.Widget] Gtk.Entry searchPatternEntry;
+		[Glade.Widget] Gtk.Entry replacePatternEntry;
 		[Glade.Widget] Gtk.Button findHelpButton;
 		[Glade.Widget] Gtk.Button findButton;
 		[Glade.Widget] Gtk.Button markAllButton;
@@ -44,8 +40,8 @@
 		[Glade.Widget] Gtk.CheckButton ignoreCaseCheckBox;
 		[Glade.Widget] Gtk.CheckButton searchWholeWordOnlyCheckBox;
 		[Glade.Widget] Gtk.CheckButton useSpecialSearchStrategyCheckBox;
-		[Glade.Widget] Gtk.OptionMenu specialSearchStrategyComboBox;
-		[Glade.Widget] Gtk.OptionMenu searchLocationComboBox;
+		[Glade.Widget] Gtk.ComboBox specialSearchStrategyComboBox;
+		[Glade.Widget] Gtk.ComboBox searchLocationComboBox;
 		[Glade.Widget] Gtk.Label label1;
 		[Glade.Widget] Gtk.Label label2;
 		[Glade.Widget] Gtk.Label searchLocationLabel;
@@ -87,19 +83,24 @@
 			checkButtons.AddWidget(searchLocationLabel);
 			options.AddWidget(specialSearchStrategyComboBox);
 			options.AddWidget(searchLocationComboBox);
+
+			searchPatternEntry.Completion = new EntryCompletion ();
+			searchPatternEntry.Completion.Model = new ListStore (typeof (string));
+			searchPatternEntry.Completion.TextColumn = 0;
 			
 			// set button sensitivity
 			findHelpButton.Sensitive = false;
 			
 			// set replace dialog properties 
-			if(replaceMode)
+			if (replaceMode)
 			{
-				// set the label properties
+				replacePatternEntry.Completion = new EntryCompletion ();
+				replacePatternEntry.Completion.Model = new ListStore (typeof (string));
+				replacePatternEntry.Completion.TextColumn = 0;
+
 				label2.Text = GettextCatalog.GetString (&quot;Replace in Files&quot;);
-				//replaceButton.Label = stringParserService.Parse (&quot;${res:Dialog.NewProject.SearchReplace.ReplaceButton}&quot;);
-				//replaceButton.UseUnderline = true;
 				
-				// set te size groups to include the replace dialog
+				// set the size groups to include the replace dialog
 				labels.AddWidget(label2);
 				combos.AddWidget(replacePatternEntry);
 				helpButtons.AddWidget(replaceHelpButton);
@@ -146,40 +147,26 @@
 		{
 			ReplaceDialogPointer.ShowAll ();
 			SearchReplaceInFilesManager.ReplaceDialog = this;
-			searchPatternEntry.GtkEntry.SelectRegion (0, searchPatternEntry.GtkEntry.Text.Length);
+			searchPatternEntry.SelectRegion (0, searchPatternEntry.Text.Length);
 		}
 
-		public ReplaceInFilesDialog(bool replaceMode)
+		public ReplaceInFilesDialog (bool replaceMode)
 		{
 			this.replaceMode = replaceMode;
-			FileUtilityService fileUtilityService = (FileUtilityService)ServiceManager.GetService(typeof(FileUtilityService));
 			string dialogName = (replaceMode) ? &quot;ReplaceInFilesDialogWidget&quot; : &quot;FindInFilesDialogWidget&quot;;
 			Glade.XML glade = new XML (null, &quot;texteditoraddin.glade&quot;, dialogName, null);
 			glade.Autoconnect (this);
 			InitDialog ();
-			/*
-			if (replaceMode) {
-				this.SetupFromXml(propertyService.DataDirectory + @&quot;\resources\dialogs\ReplaceInFilesDialog.xfrm&quot;);
-				ControlDictionary[&quot;replacePatternEntry&quot;].Text = SearchReplaceInFilesManager.SearchOptions.ReplacePattern;
-				ControlDictionary[&quot;replaceHelpButton&quot;].Enabled = false;
-			} else {
-				this.SetupFromXml(propertyService.DataDirectory + @&quot;\resources\dialogs\FindInFilesDialog.xfrm&quot;);
-			}*/
+
+			CellRendererText cr = new CellRendererText ();
+			Gtk.ListStore store = new ListStore (typeof (string));
+			store.AppendValues (GettextCatalog.GetString (&quot;Wildcards&quot;));
+			store.AppendValues (GettextCatalog.GetString (&quot;Regular Expressions&quot;));
+			specialSearchStrategyComboBox.Model = store;
+			specialSearchStrategyComboBox.PackStart (cr, true);
+			specialSearchStrategyComboBox.AddAttribute (cr, &quot;text&quot;, 0);
 			
-			//ControlDictionary[&quot;findHelpButton&quot;].Enabled = false;
-			//ControlDictionary[&quot;searchPatternEntry&quot;].Text = SearchReplaceInFilesManager.SearchOptions.SearchPattern;
-			
-			//AcceptButton = (Button)ControlDictionary[&quot;findButton&quot;];
-			//CancelButton = (Button)ControlDictionary[&quot;closeButton&quot;];
-			Gtk.MenuItem tmpItem;
-			Gtk.Menu stratMenu = new Gtk.Menu ();
-			tmpItem = new Gtk.MenuItem (GettextCatalog.GetString (&quot;Wildcards&quot;));
-			stratMenu.Append (tmpItem);
-			tmpItem = new Gtk.MenuItem (GettextCatalog.GetString (&quot;Regular Expressions&quot;));
-			stratMenu.Append (tmpItem);
-			specialSearchStrategyComboBox.Menu = stratMenu;
-			
-			uint index = 0;
+			int index = 0;
 			switch (SearchReplaceManager.SearchOptions.SearchStrategyType) {
 				case SearchStrategyType.Normal:
 				case SearchStrategyType.Wildcard:
@@ -188,16 +175,15 @@
 					index = 1;
 					break;
 			}
- 			specialSearchStrategyComboBox.SetHistory (index);
+	 		specialSearchStrategyComboBox.Active = index;
 			
-			Gtk.Menu locMenu = new Gtk.Menu ();
-			tmpItem = new Gtk.MenuItem (GettextCatalog.GetString (&quot;Directories&quot;));
-			locMenu.Append (tmpItem);
-			tmpItem = new Gtk.MenuItem (GettextCatalog.GetString (&quot;All open files&quot;));
-			locMenu.Append (tmpItem);
-			tmpItem = new Gtk.MenuItem (GettextCatalog.GetString (&quot;Whole project&quot;));
-			locMenu.Append (tmpItem);
-			searchLocationComboBox.Menu = locMenu;
+			store = new ListStore (typeof (string));
+			store.AppendValues (GettextCatalog.GetString (&quot;Directories&quot;));
+			store.AppendValues (GettextCatalog.GetString (&quot;All open files&quot;));
+			store.AppendValues (GettextCatalog.GetString (&quot;Whole project&quot;));
+			searchLocationComboBox.Model = store;
+			searchLocationComboBox.PackStart (cr, true);
+			searchLocationComboBox.AddAttribute (cr, &quot;text&quot;, 0);
 						
 			index = 0;
 			switch (SearchReplaceInFilesManager.SearchOptions.DocumentIteratorType) {
@@ -209,10 +195,8 @@
 					break;
 			}
 			
-			searchLocationComboBox.SetHistory (index);
-			
+			searchLocationComboBox.Active = index;
 			searchLocationComboBox.Changed += new EventHandler(SearchLocationCheckBoxChangedEvent);
-			
 			useSpecialSearchStrategyCheckBox.Toggled += new EventHandler(SpecialSearchStrategyCheckBoxChangedEvent);
 			
 			directoryTextBox.Text = SearchReplaceInFilesManager.SearchOptions.SearchDirectory;
@@ -222,39 +206,37 @@
 			browseButton.Clicked += new EventHandler(BrowseDirectoryEvent);
 			findButton.Clicked += new EventHandler(FindEvent);
 			
-			searchPatternEntry.GtkEntry.Text = SearchReplaceInFilesManager.SearchOptions.SearchPattern;
+			searchPatternEntry.Text = SearchReplaceInFilesManager.SearchOptions.SearchPattern;
 			
 			if (replaceMode) {
 				replaceAllButton.Clicked += new EventHandler(ReplaceEvent);
-				replacePatternEntry.GtkEntry.Text = SearchReplaceInFilesManager.SearchOptions.ReplacePattern;
+				replacePatternEntry.Text = SearchReplaceInFilesManager.SearchOptions.ReplacePattern;
 			}
 			
 			ReplaceDialogPointer.Close += new EventHandler (CloseDialogEvent);
 			closeButton.Clicked += new EventHandler (CloseDialogEvent);
 			ReplaceDialogPointer.DeleteEvent += new DeleteEventHandler (OnDeleted);
 			
-			SearchLocationCheckBoxChangedEvent(null, null);
-			SpecialSearchStrategyCheckBoxChangedEvent(null, null);
+			SearchLocationCheckBoxChangedEvent (null, null);
+			SpecialSearchStrategyCheckBoxChangedEvent (null, null);
 		}
 		
-		void FindEvent(object sender, EventArgs e)
+		void FindEvent (object sender, EventArgs e)
 		{
-			if (SetupSearchReplaceInFilesManager()) {
-				SearchReplaceInFilesManager.FindAll();
-			}
+			if (SetupSearchReplaceInFilesManager ())
+				SearchReplaceInFilesManager.FindAll ();
 		}
 		
 		void ReplaceEvent(object sender, EventArgs e)
 		{
-			if (SetupSearchReplaceInFilesManager()) {
-				SearchReplaceInFilesManager.ReplaceAll();
-			}
+			if (SetupSearchReplaceInFilesManager ())
+				SearchReplaceInFilesManager.ReplaceAll ();
 		}
 		
-		void BrowseDirectoryEvent(object sender, EventArgs e)
+		void BrowseDirectoryEvent (object sender, EventArgs e)
 		{
 			PropertyService PropertyService = (PropertyService)ServiceManager.GetService (typeof (PropertyService));			
-			FolderDialog fd = new FolderDialog(GettextCatalog.GetString (&quot;Select directory&quot;));
+			FolderDialog fd = new FolderDialog (GettextCatalog.GetString (&quot;Select directory&quot;));
 
 			// set up the dialog to point to currently selected folder, or the default projects folder
 			string defaultFolder = this.directoryTextBox.Text;	
@@ -276,19 +258,16 @@
 		
 		void SearchLocationCheckBoxChangedEvent(object sender, EventArgs e)
 		{
-			bool enableDirectorySearch = searchLocationComboBox.History == 0;
+			bool enableDirectorySearch = searchLocationComboBox.Active == 0;
 			fileMaskTextBox.Sensitive = enableDirectorySearch;
 			directoryTextBox.Sensitive = enableDirectorySearch;
 			browseButton.Sensitive = enableDirectorySearch;
 			includeSubdirectoriesCheckBox.Sensitive = enableDirectorySearch;
 		}
 		
-		void SpecialSearchStrategyCheckBoxChangedEvent(object sender, EventArgs e)
+		void SpecialSearchStrategyCheckBoxChangedEvent (object sender, EventArgs e)
 		{
-			//CheckBox cb = (CheckBox)ControlDictionary[&quot;useSpecialSearchStrategyCheckBox&quot;];
-			//if (cb != null) {
-				specialSearchStrategyComboBox.Sensitive = useSpecialSearchStrategyCheckBox.Active;
-			//}
+			specialSearchStrategyComboBox.Sensitive = useSpecialSearchStrategyCheckBox.Active;
 		}
 		
 		bool SetupSearchReplaceInFilesManager()
@@ -326,16 +305,15 @@
 			SearchReplaceInFilesManager.SearchOptions.SearchDirectory = directoryName;
 			SearchReplaceInFilesManager.SearchOptions.SearchSubdirectories = includeSubdirectoriesCheckBox.Active;
 			
-			SearchReplaceInFilesManager.SearchOptions.SearchPattern  = searchPatternEntry.GtkEntry.Text;
-			if (replaceMode) {
-				SearchReplaceInFilesManager.SearchOptions.ReplacePattern = replacePatternEntry.GtkEntry.Text;
-			}
+			SearchReplaceInFilesManager.SearchOptions.SearchPattern  = searchPatternEntry.Text;
+			if (replaceMode)
+				SearchReplaceInFilesManager.SearchOptions.ReplacePattern = replacePatternEntry.Text;
 			
 			SearchReplaceInFilesManager.SearchOptions.IgnoreCase          = !ignoreCaseCheckBox.Active;
 			SearchReplaceInFilesManager.SearchOptions.SearchWholeWordOnly = searchWholeWordOnlyCheckBox.Active;
 			
 			if (useSpecialSearchStrategyCheckBox.Active) {
-				switch (specialSearchStrategyComboBox.History) {
+				switch (specialSearchStrategyComboBox.Active) {
 					case 0:
 						SearchReplaceInFilesManager.SearchOptions.SearchStrategyType = SearchStrategyType.Wildcard;
 						break;
@@ -347,7 +325,7 @@
 				SearchReplaceInFilesManager.SearchOptions.SearchStrategyType = SearchStrategyType.Normal;
 			}
 			
-			switch (searchLocationComboBox.History) {
+			switch (searchLocationComboBox.Active) {
 				case 0:
 					SearchReplaceInFilesManager.SearchOptions.DocumentIteratorType = DocumentIteratorType.Directory;
 					break;

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/CodeTemplatePanel.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/CodeTemplatePanel.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/CodeTemplatePanel.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -8,19 +8,17 @@
 using System;
 using System.IO;
 using System.Collections;
+using Gtk;
 
-using MonoDevelop.Internal.ExternalTool;
-using MonoDevelop.Internal.Templates;
 using MonoDevelop.Core.Properties;
 using MonoDevelop.Core.AddIns.Codons;
-
 using MonoDevelop.Core.Services;
-using MonoDevelop.Services;
+using MonoDevelop.EditorBindings.Gui.Dialogs;
 using MonoDevelop.Gui.Dialogs;
-
-using Gtk;
 using MonoDevelop.Gui.Widgets;
-using MonoDevelop.EditorBindings.Gui.Dialogs;
+using MonoDevelop.Internal.ExternalTool;
+using MonoDevelop.Internal.Templates;
+using MonoDevelop.Services;
 
 namespace MonoDevelop.EditorBindings.Gui.OptionPanels 
 {
@@ -32,10 +30,7 @@
 			int       currentSelectedGroup = -1;
 			
 			// Services
-			StringParserService StringParserService = (StringParserService)ServiceManager.GetService (typeof (StringParserService));
-			PropertyService PropertyService = (PropertyService)ServiceManager.GetService(typeof(PropertyService));
 			MessageService MessageService = (MessageService)ServiceManager.GetService(typeof(MessageService));					
-			
 			// Gtk widgets
 			[Glade.Widget] Label extensionLabel;
 			[Glade.Widget] Gtk.TreeView templateListView;
@@ -48,8 +43,7 @@
 			[Glade.Widget] Button removeGroupButton;
 			TextBuffer templateTextBuffer = new TextBuffer(null);
 			[Glade.Widget] Gtk.TextView templateTextView;
-			[Glade.Widget] OptionMenu groupOptionMenu;
-			Menu groupMenu;
+			[Glade.Widget] ComboBox groupCombo;
 			
 			public CodeTemplateGroup CurrentTemplateGroup {
 				get {
@@ -122,8 +116,6 @@
 			// function to render the cell
 			void TemplateListViewCellDataFunc(TreeViewColumn column, CellRenderer renderer, TreeModel model, TreeIter iter)
 			{
-				string toWrite = string.Empty;
-				
 				CodeTemplate codeTemplate = ((ListStore)model).GetValue(iter, 0) as CodeTemplate;
 				
 				if(column.Title == GettextCatalog.GetString (&quot;Template&quot;))
@@ -144,7 +136,7 @@
 				bool groupsEmpty   = templateGroups.Count != 0;
 				
 				SetEnabledStatus(groupSelected, addButton, editButton, removeButton, templateListView, templateTextView);
-				SetEnabledStatus(groupsEmpty, groupOptionMenu, extensionLabel);
+				SetEnabledStatus(groupsEmpty, groupCombo, extensionLabel);
 				if (groupSelected) {
 					bool oneItemSelected = templateListView.Selection.CountSelectedRows() == 1;
 					bool isItemSelected  = templateListView.Selection.CountSelectedRows() &gt; 0;
@@ -168,7 +160,7 @@
 	#region GroupComboBox event handler
 			void SetGroupSelection(object sender, EventArgs e)
 			{
-				currentSelectedGroup = groupOptionMenu.History;
+				currentSelectedGroup = groupCombo.Active;
 				BuildListView();
 			}		
 			
@@ -181,7 +173,7 @@
 				if(ShowEditTemplateGroupDialog(ref templateGroup, GettextCatalog.GetString (&quot;New &quot;))) {
 					templateGroups.Add(templateGroup);
 					FillGroupOptionMenu();
-					groupOptionMenu.SetHistory((uint) templateGroups.Count - 1);
+					groupCombo.Active = (int) templateGroups.Count - 1;
 					SetEnabledStatus();
 				}
 			}
@@ -189,12 +181,12 @@
 			void EditGroupEvent(object sender, EventArgs e)
 			{
 				
-				int index = groupOptionMenu.History;
+				int index = groupCombo.Active;
 				CodeTemplateGroup templateGroup = (CodeTemplateGroup) templateGroups[index];
 				if(ShowEditTemplateGroupDialog(ref templateGroup, GettextCatalog.GetString (&quot;Edit &quot;))) {
 					templateGroups[index] = templateGroup;
 					FillGroupOptionMenu();
-					groupOptionMenu.SetHistory((uint)index);
+					groupCombo.Active = index;
 					SetEnabledStatus();
 				}
 			}
@@ -206,7 +198,7 @@
 					if (templateGroups.Count == 0) {
 						currentSelectedGroup = -1;
 					} else {
-						groupOptionMenu.SetHistory((uint) Math.Min(currentSelectedGroup, templateGroups.Count - 1));
+						groupCombo.Active = (int) Math.Min(currentSelectedGroup, templateGroups.Count - 1);
 					}
 					FillGroupOptionMenu();
 					BuildListView();
@@ -309,24 +301,22 @@
 			
 			void FillGroupOptionMenu()
 			{
-				groupOptionMenu.Changed -= new EventHandler(SetGroupSelection);
+				groupCombo.Changed -= new EventHandler(SetGroupSelection);
 				
-				// remove the menu items
-				groupOptionMenu.RemoveMenu();
-				groupMenu = new Menu();
+				ListStore store = new ListStore (typeof (string));
 				
+				foreach (CodeTemplateGroup templateGroup in templateGroups)
+					store.AppendValues (String.Join (&quot;;&quot;, templateGroup.ExtensionStrings));
 				
-				foreach (CodeTemplateGroup templateGroup in templateGroups) {					
-					groupMenu.Append(new Gtk.MenuItem (String.Join(&quot;;&quot;, templateGroup.ExtensionStrings)));					
-				}
+				groupCombo.Model = store;
+				CellRendererText cr = new CellRendererText ();
+				groupCombo.PackStart (cr, true);
+				groupCombo.AddAttribute (cr, &quot;text&quot;, 0);
+
+				if (currentSelectedGroup &gt;= 0)
+					groupCombo.Active = (int) currentSelectedGroup;
 				
-				groupMenu.ShowAll();
-				groupOptionMenu.Menu = groupMenu;
-				if (currentSelectedGroup &gt;= 0) {
-					groupOptionMenu.SetHistory((uint)currentSelectedGroup);
-				}
-				
-				groupOptionMenu.Changed += new EventHandler(SetGroupSelection);
+				groupCombo.Changed += new EventHandler(SetGroupSelection);
 			}
 			
 			void IndexChange(object sender, System.EventArgs e)

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/GeneralTextEditorPanel.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/GeneralTextEditorPanel.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/OptionPanels/GeneralTextEditorPanel.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -11,15 +11,14 @@
 using System.Text;
 using Gtk;
 using Gnome;
-using MonoDevelop.Gui.Widgets;
 using Pango;
 
-using MonoDevelop.Internal.ExternalTool;
 using MonoDevelop.Core.Properties;
 using MonoDevelop.Core.Services;
-
 using MonoDevelop.Core.AddIns.Codons;
+using MonoDevelop.Internal.ExternalTool;
 using MonoDevelop.Gui.Dialogs;
+using MonoDevelop.Gui.Widgets;
 
 namespace MonoDevelop.EditorBindings.Gui.OptionPanels
 {
@@ -28,7 +27,6 @@
 	/// &lt;/summary&gt;
 	public class GeneralTextEditorPanel : AbstractOptionPanel
 	{
-
 		GeneralTextEditorPanelWidget widget;
 		
 		public override void LoadPanelContents()
@@ -53,7 +51,7 @@
 // 					encOptions, encVBox; // if you uncoment change to &quot;,&quot; above 
 			[Glade.Widget] CheckButton enableCodeCompletionCheckBox, 
 					enableFoldingCheckBox, enableDoublebufferingCheckBox;
-// 			[Glade.Widget] OptionMenu textEncodingComboBox;
+// 			[Glade.Widget] ComboBox textEncodingComboBox;
 			[Glade.Widget] FontPicker fontNameDisplayTextBox;
 			[Glade.Widget] VBox encodingBox;
 			[Glade.Widget] RadioButton use_monospace, use_sans, use_cust;

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorBuffer.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorBuffer.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorBuffer.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -249,7 +249,7 @@
 			PlaceCursor (StartIter);
 			if (View != null) {
 				View.ScrollMarkOnscreen (InsertMark);
-				Gtk.Timeout.Add (20, new Gtk.Function (changeFocus));
+				GLib.Timeout.Add (20, changeFocus);
 			}
 		}
 
@@ -511,7 +511,7 @@
 			int ln = loc.Line;
 			
 			IntPtr prevMarker = gtk_source_buffer_get_prev_marker (Handle, ref loc);
-			IntPtr firstMarker = prevMarker;
+			//IntPtr firstMarker = prevMarker;
 			bool first = true;
 			while (true) {
 				// Thats a wrap!
@@ -554,7 +554,7 @@
 			int ln = loc.Line;
 			
 			IntPtr nextMarker = gtk_source_buffer_get_next_marker (Handle, ref loc);
-			IntPtr firstMarker = nextMarker;
+			//IntPtr firstMarker = nextMarker;
 			bool first = true;
 			while (true) {
 				// Thats a wrap!

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorDisplayBinding.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -207,7 +207,7 @@
 			
 			se.Buffer.PlaceCursor (itr);		
 			se.View.ScrollMarkOnscreen (se.Buffer.InsertMark);
-			Gtk.Timeout.Add (20, new Gtk.Function (changeFocus));
+			GLib.Timeout.Add (20, changeFocus);
 		}
 
 		//This code exists to workaround a gtk+ 2.4 regression/bug

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorView.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorView.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorView.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -25,7 +25,6 @@
 {
 	public class SourceEditorView : SourceView, IFormattableDocument
 	{	
-		private static GLib.GType gtype;
 		public readonly SourceEditor ParentEditor;
 		internal IFormattingStrategy fmtr;
 		public SourceEditorBuffer buf;
@@ -33,22 +32,12 @@
 		bool codeCompleteEnabled;
 		bool autoHideCompletionWindow = true;
 
-		public static new GLib.GType GType
-		{
-			get
-			{
-				if (gtype == GLib.GType.Invalid)
-					gtype = RegisterGType (typeof (SourceEditorView));
-				return gtype;
-			}
-		}
-
 		public bool EnableCodeCompletion {
 			get { return codeCompleteEnabled; }
 			set { codeCompleteEnabled = value; }
 		}
 		
-		public SourceEditorView (SourceEditorBuffer buf, SourceEditor parent) : base (GType)
+		public SourceEditorView (SourceEditorBuffer buf, SourceEditor parent)
 		{
 			this.ParentEditor = parent;
 			this.TabsWidth = 4;
@@ -260,7 +249,7 @@
 			Gdk.Key key = evnt.Key;
 			uint state = (uint)evnt.State;
 			state &amp;= 1101u;
-			const uint Normal = 0, Shift = 1, Control = 4, ShiftControl = 5, Alt = 8;
+			const uint Normal = 0, Shift = 1, Control = 4; /*ShiftControl = 5, Alt = 8*/
 			
 			switch (state) {
 			case Normal:

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorWidget.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorWidget.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Gui/SourceEditorWidget.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -10,20 +10,9 @@
 		public readonly SourceEditorBuffer Buffer;
 		public readonly SourceEditorView View;
 		public readonly SourceEditorDisplayBindingWrapper DisplayBinding;
-		private static GLib.GType gtype;
 		
-		public static new GLib.GType GType
+		public SourceEditor (SourceEditorDisplayBindingWrapper bind)
 		{
-			get
-			{
-				if (gtype == GLib.GType.Invalid)
-					gtype = RegisterGType (typeof (SourceEditor));
-				return gtype;
-			}
-		}
-		
-		public SourceEditor (SourceEditorDisplayBindingWrapper bind) : base (GType)
-		{
 			ShadowType = Gtk.ShadowType.In;
 			DisplayBinding = bind;
 			Buffer = new SourceEditorBuffer ();	

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/InsightWindow/InsightWindow.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/InsightWindow/InsightWindow.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/InsightWindow/InsightWindow.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -21,7 +21,6 @@
 {
 	public class InsightWindow : Window
 	{
-		static GLib.GType type;
 		SourceEditorView  control;
 		Stack             insightDataProviderStack = new Stack();
 
@@ -109,13 +108,8 @@
 			}
 		}
 		
-		static InsightWindow ()
+		public InsightWindow (SourceEditorView control, Project project, string fileName) : base (WindowType.Popup)
 		{
-			type = RegisterGType (typeof (InsightWindow));
-		}
-		
-		public InsightWindow(SourceEditorView control, Project project, string fileName) : base (type)
-		{
 			this.control             = control;
 			this.fileName = fileName;
 			this.project = project;
@@ -237,7 +231,7 @@
 
 		protected void BeforeShow ()
 		{
-			string methodCountMessage = null;
+			//string methodCountMessage = null;
 			if (DataProvider == null || DataProvider.InsightDataCount &lt; 1) {
 				description = &quot;Unknown Method&quot;;
 			} else {
@@ -245,7 +239,7 @@
 					StringParserService stringParserService = (StringParserService)ServiceManager.GetService(typeof(StringParserService));
 					stringParserService.Properties[&quot;CurrentMethodNumber&quot;]  = (CurrentData + 1).ToString();
 					stringParserService.Properties[&quot;NumberOfTotalMethods&quot;] = DataProvider.InsightDataCount.ToString();
-					methodCountMessage = stringParserService.Parse(&quot;${res:MonoDevelop.DefaultEditor.Gui.Editor.InsightWindow.NumberOfText}&quot;);
+					//methodCountMessage = stringParserService.Parse(&quot;${res:MonoDevelop.DefaultEditor.Gui.Editor.InsightWindow.NumberOfText}&quot;);
 				}
 				
 				//I know this call looks stupid, but really it isnt.

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Makefile.am	2005-01-27 07:45:41 UTC (rev 2177)
@@ -22,7 +22,6 @@
 Gui/OptionPanels/CodeTemplatePanel.cs \
 Gui/OptionPanels/GeneralTextEditorPanel.cs \
 Gui/Dialogs/EditTemplateGroupDialog.cs \
-Gui/Dialogs/ExportProjectToHtmlDialog.cs \
 Gui/Dialogs/GotoLineNumberDialog.cs \
 Gui/Dialogs/ReplaceDialog.cs \
 Gui/Dialogs/ReplaceInFilesDialog.cs \

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/DocumentIterator/DirectoryDocumentIterator.cs
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/DocumentIterator/DirectoryDocumentIterator.cs	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/Search/DocumentIterator/DirectoryDocumentIterator.cs	2005-01-27 07:45:41 UTC (rev 2177)
@@ -58,7 +58,6 @@
 					++curIndex;
 					return Current;
 				}
-				SourceEditor_ document;
 				string fileName = files[curIndex].ToString();
 				return new FileDocumentInformation(fileName, 0);
 			}

Modified: trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/texteditoraddin.glade
===================================================================
--- trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/texteditoraddin.glade	2005-01-27 04:38:02 UTC (rev 2176)
+++ trunk/MonoDevelop/Core/src/AddIns/DisplayBindings/SourceEditor/texteditoraddin.glade	2005-01-27 07:45:41 UTC (rev 2177)
@@ -421,24 +421,16 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GnomeEntry&quot; id=&quot;searchPatternEntry&quot;&gt;
+		&lt;widget class=&quot;GtkEntry&quot; id=&quot;searchPatternEntry&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;max_saved&quot;&gt;20&lt;/property&gt;
-
-		  &lt;child internal-child=&quot;entry&quot;&gt;
-		    &lt;widget class=&quot;GtkEntry&quot; id=&quot;entry7&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;has_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-		      &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
-		      &lt;property name=&quot;activates_default&quot;&gt;True&lt;/property&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
+		  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -498,23 +490,16 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GnomeEntry&quot; id=&quot;replacePatternEntry&quot;&gt;
+		&lt;widget class=&quot;GtkEntry&quot; id=&quot;replacePatternEntry&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;max_saved&quot;&gt;20&lt;/property&gt;
-
-		  &lt;child internal-child=&quot;entry&quot;&gt;
-		    &lt;widget class=&quot;GtkEntry&quot; id=&quot;entry9&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-		      &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
-		      &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
+		  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -610,10 +595,8 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;specialSearchStrategyComboBox&quot;&gt;
+		&lt;widget class=&quot;GtkComboBox&quot; id=&quot;specialSearchStrategyComboBox&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -657,10 +640,8 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;searchLocationComboBox&quot;&gt;
+		&lt;widget class=&quot;GtkComboBox&quot; id=&quot;searchLocationComboBox&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -782,24 +763,16 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GnomeEntry&quot; id=&quot;searchPatternEntry&quot;&gt;
+		&lt;widget class=&quot;GtkEntry&quot; id=&quot;searchPatternEntry&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;max_saved&quot;&gt;20&lt;/property&gt;
-
-		  &lt;child internal-child=&quot;entry&quot;&gt;
-		    &lt;widget class=&quot;GtkEntry&quot; id=&quot;entry11&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;has_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-		      &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
-		      &lt;property name=&quot;activates_default&quot;&gt;True&lt;/property&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
+		  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -1036,10 +1009,8 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;specialSearchStrategyComboBox&quot;&gt;
+		&lt;widget class=&quot;GtkComboBox&quot; id=&quot;specialSearchStrategyComboBox&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -1083,10 +1054,8 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;searchLocationComboBox&quot;&gt;
+		&lt;widget class=&quot;GtkComboBox&quot; id=&quot;searchLocationComboBox&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -1279,24 +1248,16 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GnomeEntry&quot; id=&quot;searchPatternEntry&quot;&gt;
+		&lt;widget class=&quot;GtkEntry&quot; id=&quot;searchPatternEntry&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;max_saved&quot;&gt;20&lt;/property&gt;
-
-		  &lt;child internal-child=&quot;entry&quot;&gt;
-		    &lt;widget class=&quot;GtkEntry&quot; id=&quot;entry3&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;has_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-		      &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
-		      &lt;property name=&quot;activates_default&quot;&gt;True&lt;/property&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
+		  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -1356,23 +1317,16 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GnomeEntry&quot; id=&quot;replacePatternEntry&quot;&gt;
+		&lt;widget class=&quot;GtkEntry&quot; id=&quot;replacePatternEntry&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;max_saved&quot;&gt;20&lt;/property&gt;
-
-		  &lt;child internal-child=&quot;entry&quot;&gt;
-		    &lt;widget class=&quot;GtkEntry&quot; id=&quot;entry5&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-		      &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
-		      &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
+		  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -1609,10 +1563,8 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;specialSearchStrategyComboBox&quot;&gt;
+		&lt;widget class=&quot;GtkComboBox&quot; id=&quot;specialSearchStrategyComboBox&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -1656,10 +1608,8 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;searchLocationComboBox&quot;&gt;
+		&lt;widget class=&quot;GtkComboBox&quot; id=&quot;searchLocationComboBox&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -1852,27 +1802,16 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GnomeEntry&quot; id=&quot;searchPatternEntry&quot;&gt;
+		&lt;widget class=&quot;GtkEntry&quot; id=&quot;searchPatternEntry&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;max_saved&quot;&gt;20&lt;/property&gt;
-		  &lt;accessibility&gt;
-		    &lt;atkproperty name=&quot;AtkObject::accessible_name&quot; translatable=&quot;yes&quot;&gt;searchPatternEntry&lt;/atkproperty&gt;
-		  &lt;/accessibility&gt;
-
-		  &lt;child internal-child=&quot;entry&quot;&gt;
-		    &lt;widget class=&quot;GtkEntry&quot; id=&quot;combo-entry3&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;has_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-		      &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
-		      &lt;property name=&quot;activates_default&quot;&gt;True&lt;/property&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		  &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
+		  &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -1968,10 +1907,8 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;specialSearchStrategyComboBox&quot;&gt;
+		&lt;widget class=&quot;GtkComboBox&quot; id=&quot;specialSearchStrategyComboBox&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
@@ -2015,10 +1952,8 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkOptionMenu&quot; id=&quot;searchLocationComboBox&quot;&gt;
+		&lt;widget class=&quot;GtkComboBox&quot; id=&quot;searchLocationComboBox&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;history&quot;&gt;-1&lt;/property&gt;
 		&lt;/widget&gt;
 		&lt;packing&gt;
 		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001780.html">[Monodevelop-patches-list] r2176 - in trunk/MonoDevelop/Core/src/AddIns/BackendBindings/CSharpBinding: . Gui
</A></li>
	<LI>Next message: <A HREF="001782.html">[Monodevelop-patches-list] r2178 - in trunk/MonoDevelop/Core/src/AddIns/BackendBindings: CSharpBinding CSharpBinding/FormattingStrategy CSharpBinding/Parser ILAsmBinding NemerleBinding NemerleBinding/Gui VBNetBinding VBNetBinding/Gui VBNetBinding/Parser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1781">[ date ]</a>
              <a href="thread.html#1781">[ thread ]</a>
              <a href="subject.html#1781">[ subject ]</a>
              <a href="author.html#1781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
