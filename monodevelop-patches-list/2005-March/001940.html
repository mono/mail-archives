<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-patches-list] r2338 - in trunk/MonoDevelop: . Core Core/src Core/src/MonoDevelop.Base Core/src/MonoDevelop.Base/Gui/Workbench/Layouts Core/src/MonoDevelop.Dock
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2338%20-%20in%20trunk/MonoDevelop%3A%20.%20Core%20Core/src%20Core/src/MonoDevelop.Base%20Core/src/MonoDevelop.Base/Gui/Workbench/Layouts%20Core/src/MonoDevelop.Dock&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001939.html">
   <LINK REL="Next"  HREF="001941.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-patches-list] r2338 - in trunk/MonoDevelop: . Core Core/src Core/src/MonoDevelop.Base Core/src/MonoDevelop.Base/Gui/Workbench/Layouts Core/src/MonoDevelop.Dock</H1>
    <B>John Luke &lt;jluke@cfl.rr.com&gt;</B> 
    <A HREF="mailto:monodevelop-patches-list%40lists.ximian.com?Subject=%5BMonodevelop-patches-list%5D%20r2338%20-%20in%20trunk/MonoDevelop%3A%20.%20Core%20Core/src%20Core/src/MonoDevelop.Base%20Core/src/MonoDevelop.Base/Gui/Workbench/Layouts%20Core/src/MonoDevelop.Dock&In-Reply-To="
       TITLE="[Monodevelop-patches-list] r2338 - in trunk/MonoDevelop: . Core Core/src Core/src/MonoDevelop.Base Core/src/MonoDevelop.Base/Gui/Workbench/Layouts Core/src/MonoDevelop.Dock">jluke at mono-cvs.ximian.com
       </A><BR>
    <I>Sun Mar 13 14:10:17 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001939.html">[Monodevelop-patches-list] r2337 - in trunk/MonoDevelop: Core/src Unused
</A></li>
        <LI>Next message: <A HREF="001941.html">[Monodevelop-patches-list] r2339 - trunk/MonoDevelop/Core/src/MonoDevelop.Dock
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1940">[ date ]</a>
              <a href="thread.html#1940">[ thread ]</a>
              <a href="subject.html#1940">[ subject ]</a>
              <a href="author.html#1940">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jluke
Date: 2005-03-13 14:10:17 -0500 (Sun, 13 Mar 2005)
New Revision: 2338

Added:
   trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile.am
Removed:
   trunk/MonoDevelop/Core/gdldock/
   trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile
Modified:
   trunk/MonoDevelop/ChangeLog
   trunk/MonoDevelop/Core/Makefile.am
   trunk/MonoDevelop/Core/src/Makefile.am
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceLayout.cs
   trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am
   trunk/MonoDevelop/Makefile.am
   trunk/MonoDevelop/configure.in
Log:
remove gdldock and use MonoDevelop.Dock instead


Modified: trunk/MonoDevelop/ChangeLog
===================================================================
--- trunk/MonoDevelop/ChangeLog	2005-03-13 18:29:50 UTC (rev 2337)
+++ trunk/MonoDevelop/ChangeLog	2005-03-13 19:10:17 UTC (rev 2338)
@@ -1,3 +1,11 @@
+2005-03-13  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
+
+	* configure.in: remove gdkdock &amp; c-related stuff
+	add Core/src/MonoDevelop.Dock/Makefile output
+	* Core/gdldock: kill
+	* Core/src/Makefile.am: add MonoDevelop.Dock
+	* Core/Makefile.am: remove gdldock
+
 2005-03-12  Todd Berman  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">tberman at off.net</A>&gt;
 
 	* configure.in: push/branch 0.6

Modified: trunk/MonoDevelop/Core/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/Makefile.am	2005-03-13 18:29:50 UTC (rev 2337)
+++ trunk/MonoDevelop/Core/Makefile.am	2005-03-13 19:10:17 UTC (rev 2338)
@@ -1 +1 @@
-SUBDIRS= gdldock src
+SUBDIRS = src

Modified: trunk/MonoDevelop/Core/src/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/Makefile.am	2005-03-13 18:29:50 UTC (rev 2337)
+++ trunk/MonoDevelop/Core/src/Makefile.am	2005-03-13 19:10:17 UTC (rev 2338)
@@ -1 +1 @@
-SUBDIRS = ICSharpCode.SharpAssembly ICSharpCode.SharpRefactory MonoDevelop.Core MonoDevelop.Gui.Utils MonoDevelop.Gui.Widgets MonoDevelop.Base MonoDevelop.Startup Tools AddIns
+SUBDIRS = MonoDevelop.Dock ICSharpCode.SharpAssembly ICSharpCode.SharpRefactory MonoDevelop.Core MonoDevelop.Gui.Utils MonoDevelop.Gui.Widgets MonoDevelop.Base MonoDevelop.Startup Tools AddIns

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog	2005-03-13 18:29:50 UTC (rev 2337)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/ChangeLog	2005-03-13 19:10:17 UTC (rev 2338)
@@ -1,3 +1,9 @@
+2005-03-12  John Luke  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">john.luke at gmail.com</A>&gt;
+
+	* Makefile.am: use MonoDevelop.Dock.dll
+	* Gui/Workbench/Layouts/SdiWorkspaceLayout.cs:
+	minor API changes for C# version of dock
+
 2005-03-11  Lluis Sanchez Gual &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">lluis at novell.com</A>&gt;
 
 	* Internal/Project/Combine/Combine.cs: Fixed wrong event subscriptions.

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceLayout.cs
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceLayout.cs	2005-03-13 18:29:50 UTC (rev 2337)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Gui/Workbench/Layouts/SdiWorkspaceLayout.cs	2005-03-13 19:10:17 UTC (rev 2338)
@@ -338,7 +338,7 @@
 								 content.Icon,
 								 DockItemBehavior.Normal);
 								 
-			Gtk.Label label = item.Tablabel as Gtk.Label;
+			Gtk.Label label = item.TabLabel as Gtk.Label;
 			label.UseMarkup = true;
 
 			item.Add (content.Control);
@@ -349,11 +349,11 @@
 			if (extraPad) {
 				DockItem ot = dock.GetItemByName (&quot;MonoDevelop.Gui.Pads.OpenTaskView&quot;); 
 				if (ot != null &amp;&amp; ot.IsAttached) {
-					item.DockTo (ot, DockPlacement.Center, 0);
+					item.DockTo (ot, DockPlacement.Center);
 				}
 				else {
 					ot = dock.GetItemByName (&quot;Documents&quot;); 
-					item.DockTo (ot, DockPlacement.Bottom, 0);
+					item.DockTo (ot, DockPlacement.Bottom);
 				}
 			}
 			else
@@ -368,7 +368,7 @@
 			IPadContent content = (IPadContent) source;
 			DockItem item = GetDockItem (content);
 			if (item != null) {
-				Gtk.Label label = item.Tablabel as Gtk.Label;
+				Gtk.Label label = item.TabLabel as Gtk.Label;
 				label.Markup = content.Title;
 				item.LongName = content.Title;
 				item.StockId = content.Icon;

Modified: trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am	2005-03-13 18:29:50 UTC (rev 2337)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Base/Makefile.am	2005-03-13 19:10:17 UTC (rev 2338)
@@ -6,7 +6,7 @@
 	/r:$(top_builddir)/build/bin/MonoDevelop.Gui.Utils.dll \
 	/r:$(top_builddir)/build/bin/MonoDevelop.Gui.Widgets.dll \
 	/r:System.Data.dll /r:System.Web.Services.dll \
-	/r:$(top_builddir)/build/bin/gdl-sharp.dll \
+	/r:$(top_builddir)/build/bin/MonoDevelop.Dock.dll \
 	/r:Mono.Posix.dll \
 	$(GTK_SHARP_LIBS) \
 	$(GNOME_SHARP_LIBS) \

Deleted: trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile	2005-03-13 18:29:50 UTC (rev 2337)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile	2005-03-13 19:10:17 UTC (rev 2338)
@@ -1,51 +0,0 @@
-CSC = mcs
-RUNTIME = mono
-GDL = MonoDevelop.Dock.dll
-TEST = dock-test.exe
-
-GLADE = layout.glade
-
-IMAGES = stock-close-12.png stock-menu-left-12.png stock-menu-right-12.png
-
-RESOURCES = -resource:$(GLADE) -resource:stock-close-12.png -resource:stock-menu-left-12.png -resource:stock-menu-right-12.png
-
-REFS = -pkg:gtk-sharp-2.0 -pkg:glade-sharp-2.0
-
-FILES = AssemblyInfo.cs \
-	DockedHandler.cs \
-	DockMaster.cs \
-	Stock.cs \
-	DockObjectFlags.cs \
-	DockNotebook.cs \
-	DockRequest.cs \
-	DockBar.cs \
-	DockBarButton.cs \
-	DockLayout.cs \
-	DockPlacement.cs \
-	DetachedHandler.cs \
-	DockItemGrip.cs \
-	DockItem.cs \
-	DockPlaceholder.cs \
-	DockObject.cs \
-	Dock.cs \
-	DockPaned.cs \
-	DockItemBehavior.cs \
-	ExportAttribute.cs \
-	AfterAttribute.cs
-
-all: $(GDL) $(TEST)
-
-clean:
-	rm -f $(GDL) $(GDL).mdb
-	rm -f $(TEST) $(TEST).mdb
-
-$(GDL): $(FILES) $(GLADE) $(IMAGES)
-	$(CSC) -out:$@ -target:library $(FILES) $(RESOURCES) $(REFS) \
-	&amp;&amp; cp $(GDL) ../../build/bin/.
-
-$(TEST) : GdlDockTest.cs $(GDL)
-	$(CSC) -out:$@ -r:$(GDL) -pkg:gtk-sharp-2.0 GdlDockTest.cs -codepage:utf8
-
-run-test: $(TEST)
-	$(RUNTIME) $(TEST)
-

Added: trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile.am
===================================================================
--- trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile.am	2005-03-13 18:29:50 UTC (rev 2337)
+++ trunk/MonoDevelop/Core/src/MonoDevelop.Dock/Makefile.am	2005-03-13 19:10:17 UTC (rev 2338)
@@ -0,0 +1,54 @@
+RUNTIME = mono
+DOCK = ../../../build/bin/MonoDevelop.Dock.dll
+TEST = dock-test.exe
+
+GLADE = layout.glade
+
+IMAGES = stock-close-12.png stock-menu-left-12.png stock-menu-right-12.png
+
+RESOURCES = -resource:$(GLADE) -resource:stock-close-12.png -resource:stock-menu-left-12.png -resource:stock-menu-right-12.png
+
+assemblydir = $(libdir)/monodevelop/bin
+assembly_DATA = $(DOCK)
+
+REFS = $(GTK_SHARP_LIBS) $(GLADE_SHARP_LIBS)
+
+FILES = AssemblyInfo.cs \
+	DockedHandler.cs \
+	DockMaster.cs \
+	Stock.cs \
+	DockObjectFlags.cs \
+	DockNotebook.cs \
+	DockRequest.cs \
+	DockBar.cs \
+	DockBarButton.cs \
+	DockLayout.cs \
+	DockPlacement.cs \
+	DetachedHandler.cs \
+	DockItemGrip.cs \
+	DockItem.cs \
+	DockPlaceholder.cs \
+	DockObject.cs \
+	Dock.cs \
+	DockPaned.cs \
+	DockItemBehavior.cs \
+	ExportAttribute.cs \
+	AfterAttribute.cs
+
+TEST_FILES = GdlDockTest.cs
+
+all: $(DOCK) $(TEST)
+
+CLEANFILES = $(DOCK) $(DOCK).mdb $(TEST) $(TEST).mdb
+EXTRA_DIST = $(FILES) $(GLADE) $(IMAGES) $(TEST_FILES)
+
+$(DOCK): $(FILES) $(GLADE) $(IMAGES)
+	mkdir -p ../../../build/bin/
+	$(CSC) -out:$@ -target:library $(FILES) $(RESOURCES) $(REFS)
+
+$(TEST) : $(TEST_FILES) $(DOCK)
+	$(CSC) -out:$@ -r:$(DOCK) -pkg:gtk-sharp-2.0 $(TEST_FILES) -codepage:utf8
+
+run-test: $(TEST)
+	$(RUNTIME) $(TEST)
+

Modified: trunk/MonoDevelop/Makefile.am
===================================================================
--- trunk/MonoDevelop/Makefile.am	2005-03-13 18:29:50 UTC (rev 2337)
+++ trunk/MonoDevelop/Makefile.am	2005-03-13 19:10:17 UTC (rev 2338)
@@ -1,5 +1,3 @@
-# leave gdldock first
-# (mkdir ../../build/bin/ hack)
 SUBDIRS = Core build po Extras
 
 bin_SCRIPTS = monodevelop

Modified: trunk/MonoDevelop/configure.in
===================================================================
--- trunk/MonoDevelop/configure.in	2005-03-13 18:29:50 UTC (rev 2337)
+++ trunk/MonoDevelop/configure.in	2005-03-13 19:10:17 UTC (rev 2338)
@@ -1,15 +1,10 @@
 AC_INIT([monodevelop], 0.6, [<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">monodevelop-list at lists.ximian.com</A>])
 AC_PREREQ(2.53)
-AC_CANONICAL_SYSTEM
 AM_INIT_AUTOMAKE([1.9 tar-ustar])
 AM_MAINTAINER_MODE
 
-AM_DISABLE_STATIC
-AM_PROG_LIBTOOL
 AC_PROG_INTLTOOL([0.25])
 
-AM_PATH_GLIB_2_0
-
 ASSEMBLY_VERSION=0.6.0.0
 
 AC_PATH_PROG(MONO, mono)
@@ -41,12 +36,6 @@
         AC_MSG_ERROR([You need to install pkg-config])
 fi
 
-dnl unmanaged hard dependencies
-GNOMEVFS_REQUIRED_VERSION=2.0
-PKG_CHECK_MODULES(UNMANAGED_DEPENDENCIES,
-gnome-vfs-2.0 &gt;= $GNOMEVFS_REQUIRED_VERSION
-)
-
 MONO_REQUIRED_VERSION=1.0
 PKG_CHECK_MODULES(UNMANAGED_DEPENDENCIES_MONO,mono &gt;= $MONO_REQUIRED_VERSION, has_mono=true, has_mono=false)
 PKG_CHECK_MODULES(UNMANAGED_DEPENDENCIES_MINT,mint &gt;= $MONO_REQUIRED_VERSION, has_mint=true, has_mint=false)
@@ -102,23 +91,6 @@
 gtksharp_prefix=&quot;`$PKG_CONFIG --variable=prefix gtk-sharp-2.0`&quot;
 AC_SUBST(gtksharp_prefix)
 
-dnl GdlDock requirements and configuration
-GTK_REQUIRED=2.2.0
-LIBXML_REQUIRED=2.2.8
-LIBGLADE_REQUIRED=2.0.0
-PKG_CHECK_MODULES(GDLDOCK, 
-	gtk+-2.0 &gt;= $GTK_REQUIRED 
-	libglade-2.0 &gt;= $LIBGLADE_REQUIRED
-	libxml-2.0 &gt;= $LIBXML_REQUIRED)
-AC_SUBST(GDLDOCK_CFLAGS)
-AC_SUBST(GDLDOCK_LIBS)
-
-dnl marshal and enum generators
-GLIB_GENMARSHAL=&quot;`$PKG_CONFIG --variable=glib_genmarshal glib-2.0`&quot;
-AC_SUBST(GLIB_GENMARSHAL)
-GLIB_MKENUMS=&quot;`$PKG_CONFIG --variable=glib_mkenums glib-2.0`&quot;
-AC_SUBST(GLIB_MKENUMS)
-
 dnl deal with the mono debugger
 MONO_DEBUGGER_REQUIRED_VERSION=0.9
 AC_ARG_ENABLE(debugger,
@@ -198,11 +170,6 @@
 AC_OUTPUT([
 Makefile
 Core/Makefile
-Core/gdldock/Makefile
-Core/gdldock/gdl/Makefile
-Core/gdldock/sources/Makefile
-Core/gdldock/sources/gdl/Makefile
-Core/gdldock/gdl/gdl-sharp.dll.config
 Core/src/Makefile
 Core/src/AddIns/Makefile
 Core/src/AddIns/BackendBindings/Makefile
@@ -219,6 +186,7 @@
 Core/src/MonoDevelop.Base/MonoDevelop.Base.dll.config
 Core/src/MonoDevelop.Startup/Makefile
 Core/src/MonoDevelop.Core/Makefile
+Core/src/MonoDevelop.Dock/Makefile
 Core/src/MonoDevelop.Gui.Utils/Makefile
 Core/src/MonoDevelop.Gui.Utils/MonoDevelop.Gui.Utils.dll.config
 Core/src/MonoDevelop.Gui.Widgets/Makefile


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001939.html">[Monodevelop-patches-list] r2337 - in trunk/MonoDevelop: Core/src Unused
</A></li>
	<LI>Next message: <A HREF="001941.html">[Monodevelop-patches-list] r2339 - trunk/MonoDevelop/Core/src/MonoDevelop.Dock
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1940">[ date ]</a>
              <a href="thread.html#1940">[ thread ]</a>
              <a href="subject.html#1940">[ subject ]</a>
              <a href="author.html#1940">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-patches-list">More information about the Monodevelop-patches-list
mailing list</a><br>
</body></html>
