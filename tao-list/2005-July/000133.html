<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] Tao.Ode debugging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Tao.Ode%20debugging&In-Reply-To=20050707221210.GA4810%40thewordnerd.info">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000134.html">
   <LINK REL="Next"  HREF="000135.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] Tao.Ode debugging</H1>
    <B>Terry L. Triplett</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Tao.Ode%20debugging&In-Reply-To=20050707221210.GA4810%40thewordnerd.info"
       TITLE="[Tao-list] Tao.Ode debugging">terry at triplett.org
       </A><BR>
    <I>Thu Jul  7 21:14:45 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000134.html">[Tao-list] ODE Improvements, RealmForge Usage
</A></li>
        <LI>Next message: <A HREF="000135.html">[Tao-list] OPAL.NET Using Tao.ODE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#133">[ date ]</a>
              <a href="thread.html#133">[ thread ]</a>
              <a href="subject.html#133">[ subject ]</a>
              <a href="author.html#133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nolan Darilek wrote:

&gt;<i>On Thu, Jul 07, 2005 at 03:50:11PM -0400, Terry L. Triplett wrote:
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>I rebuilt ODE using the single precision setting, and the ODE bindings 
</I>&gt;&gt;<i>now work for me with no segfaults.  Try rebuilding ODE using single 
</I>&gt;&gt;<i>precision and see if your segfaults go away.  I'm betting they will.  
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Yup, this works for me, too. Thanks!
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>That's great!  The issue is pretty trivial in retrospect, but I'm glad 
it was - I'd rather focus on the bindings and not some esoteric problem 
with ODE shared libs on *nix.  This still leaves the problem of how to 
handle the fact that multiple forms of the ODE libs can exist, but that 
is a much simpler problem, I think.

&gt;&gt;<i>You could also try changing Tao.Ode to use System.Double - that might 
</I>&gt;&gt;<i>work too, but I haven't tried it.
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Changing:
</I>&gt;<i>
</I>&gt;<i>using real = System.Single;
</I>&gt;<i>
</I>&gt;<i>to System.Double results in the following:
</I>&gt;<i>
</I>&gt;<i>** (OdeExamples.Basic.exe:3706): WARNING **: Missing method dWorldSetGravity in assembly /home/nolan/src/mono/tao/dist/bin/OdeExamples.Basic.exe, type Ode
</I>&gt;<i>
</I>&gt;<i>Unhandled Exception: System.NullReferenceException: Object reference not set to an instance of an object
</I>&gt;<i>
</I>&gt;<i>I didn't debug this at all, so I may have missed something obvious.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>One thing you could try is to explicitly change all the arguments from 
float to double.  (eg. Ode.dWorldSetGravity(world, 0, -9.81f, 0) -&gt; 
Ode.dWorldSetGravity(world, 0, -9.81d, 0).  Normally you should expect 
an implicit conversion from float to double, but such conversions 
probably don't work when calling unmanaged code.   I'm betting you have 
to have the types exactly right. 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000134.html">[Tao-list] ODE Improvements, RealmForge Usage
</A></li>
	<LI>Next message: <A HREF="000135.html">[Tao-list] OPAL.NET Using Tao.ODE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#133">[ date ]</a>
              <a href="thread.html#133">[ thread ]</a>
              <a href="subject.html#133">[ subject ]</a>
              <a href="author.html#133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
