<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] Tao.Ode debugging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Tao.Ode%20debugging&In-Reply-To=E1Dkw1G-00028N-00%40thewordnerd.thewordnerd.info">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000130.html">
   <LINK REL="Next"  HREF="000132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] Tao.Ode debugging</H1>
    <B>Terry L. Triplett</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Tao.Ode%20debugging&In-Reply-To=E1Dkw1G-00028N-00%40thewordnerd.thewordnerd.info"
       TITLE="[Tao-list] Tao.Ode debugging">terry at triplett.org
       </A><BR>
    <I>Thu Jul  7 15:50:11 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000130.html">[Tao-list] Hello, goodbye.
</A></li>
        <LI>Next message: <A HREF="000132.html">[Tao-list] ODE Improvements, RealmForge Usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#131">[ date ]</a>
              <a href="thread.html#131">[ thread ]</a>
              <a href="subject.html#131">[ subject ]</a>
              <a href="author.html#131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry for the long delay in replying, but I didn't have a possible 
answer to this until just now.

As you may or may not know, ODE can be built to use either single or 
double precision.  The level of precision to use is controlled in 
&quot;config/user-settings&quot;, where it turns out the default is double 
precision.  The current Tao.Ode code in SVN defaults to single precision 
(look in Ode.cs around line 33).  So there is a mismatch between Tao.Ode 
and the ODE shared library - this seems to be the cause of the 
segfaults, at least on Linux with Mono. 

I rebuilt ODE using the single precision setting, and the ODE bindings 
now work for me with no segfaults.  Try rebuilding ODE using single 
precision and see if your segfaults go away.  I'm betting they will.  
You could also try changing Tao.Ode to use System.Double - that might 
work too, but I haven't tried it.

I'm not certain whether the same holds true on Windows - as it turns 
out, I have the single precision version of ODE installed on my windows 
machine, so Tao works fine.  I'll have to grab the double precision 
version of ODE and see what happens ...

Nolan J. Darilek wrote:

&gt;<i>Debian's ODE packages now build shared libraries, which removes one
</I>&gt;<i>major hurdle. As was mentioned here recently, however, Tao.Ode
</I>&gt;<i>segfaults on this build. So I set off to bracket the OdeBasic example
</I>&gt;<i>with Console.WriteLines until I found the problem:
</I>&gt;<i>
</I>&gt;<i>            // Create some mass, we're creating a sphere with a radius of 0.05 centimeters
</I>&gt;<i>            // and a constant density of 2500 (about that of glass)
</I>&gt;<i>Console.WriteLine(&quot;Creating mass.&quot;);
</I>&gt;<i>            Ode.dMass mass = new Ode.dMass();
</I>&gt;<i>Console.WriteLine(&quot;Making it a sphere.&quot;);
</I>&gt;<i>            Ode.dMassSetSphere(ref mass, 2500, 0.05f);
</I>&gt;<i>
</I>&gt;<i>There's where it crashes.
</I>&gt;<i>
</I>&gt;<i>*snip troubleshooting discussion *
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>I'll join the ODE list and ask about this soon, but does anyone have
</I>&gt;<i>any thoughts on what might be happening?
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000130.html">[Tao-list] Hello, goodbye.
</A></li>
	<LI>Next message: <A HREF="000132.html">[Tao-list] ODE Improvements, RealmForge Usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#131">[ date ]</a>
              <a href="thread.html#131">[ thread ]</a>
              <a href="subject.html#131">[ subject ]</a>
              <a href="author.html#131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
