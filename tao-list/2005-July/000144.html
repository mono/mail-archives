<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] Important Tao Performance Optimization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Important%20Tao%20Performance%20Optimization&In-Reply-To=aaa16dfc050719172464b8a895%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000143.html">
   <LINK REL="Next"  HREF="000145.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] Important Tao Performance Optimization</H1>
    <B>Dan Moorehead</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Important%20Tao%20Performance%20Optimization&In-Reply-To=aaa16dfc050719172464b8a895%40mail.gmail.com"
       TITLE="[Tao-list] Important Tao Performance Optimization">dan05a at gmail.com
       </A><BR>
    <I>Thu Jul 21 09:50:25 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000143.html">[Tao-list] The Gl class in C++
</A></li>
        <LI>Next message: <A HREF="000145.html">[Tao-list] Re: Important Tao Performance Optimization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#144">[ date ]</a>
              <a href="thread.html#144">[ thread ]</a>
              <a href="subject.html#144">[ subject ]</a>
              <a href="author.html#144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I suggest that all of the Tao classes have
SuppressUnmanagedCodeSecurityAttribute applied to them for performance
reasons as discussed <A HREF="http://www.dotnetperformance.com/.">http://www.dotnetperformance.com/.</A>

Quote from MSDN class summary for the attribute:
This attribute can be applied to methods that want to call into native
code without incurring the performance loss of a run-time security
check when doing so. The stack walk performed when calling unmanaged
code is omitted at run time, resulting in substantial performance
savings.

The docs also suggest its usage for wrapper classes and this is even
more so true for the Tao wrappers used for real-time application.
JIT-time enforcement of permissions still remains, however it is
likely that games and rendering engines will provide a large number of
operations that end up calling into Tao, so it is unlikely that the
developers will need to prevent any call that ends up calling into
Tao.

Petar Petrov had done some tests with this and shown that there was a
10-30% gain is speed for PInvoking with its usage.  However, it has to
be applied to the class which provides the extern methods, as opposed
to per-method since there seems to be issues with the latter.
-- 

-Dan Moorehead

RealmForge GDK (<A HREF="http://realmforge.com">http://realmforge.com</A>)
Axiom  (<A HREF="http://axiom3d.org">http://axiom3d.org</A>)
RealmForge and Axiom Wiki (<A HREF="http://wiki.realmforge.com">http://wiki.realmforge.com</A>)
.NET Prebuild (<A HREF="http://dnpb.sourceforge.com">http://dnpb.sourceforge.com</A>)
Might and Magic Tribute (<A HREF="http://mmtribute.castlegobs.nl/">http://mmtribute.castlegobs.nl/</A>)
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000143.html">[Tao-list] The Gl class in C++
</A></li>
	<LI>Next message: <A HREF="000145.html">[Tao-list] Re: Important Tao Performance Optimization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#144">[ date ]</a>
              <a href="thread.html#144">[ thread ]</a>
              <a href="subject.html#144">[ subject ]</a>
              <a href="author.html#144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
