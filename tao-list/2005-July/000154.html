<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] Tao.Ode update
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Tao.Ode%20update&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000153.html">
   <LINK REL="Next"  HREF="000155.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] Tao.Ode update</H1>
    <B>Terry L. Triplett</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Tao.Ode%20update&In-Reply-To="
       TITLE="[Tao-list] Tao.Ode update">terry at triplett.org
       </A><BR>
    <I>Sun Jul 24 11:43:21 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000153.html">[Tao-list] glGenBuffersARB fails?
</A></li>
        <LI>Next message: <A HREF="000155.html">[Tao-list] Tao.Ode update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#154">[ date ]</a>
              <a href="thread.html#154">[ thread ]</a>
              <a href="subject.html#154">[ subject ]</a>
              <a href="author.html#154">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

It's time to resist the &quot;just one more thing&quot; voice and just let go. :-)
I'm almost ready to post the 'new' Tao.Ode code - waiting for word on 
SVN write access from Miguel de Icaza.  

One question - how to do the update?  The code is a more or less a 
drop-in replacement for the current Ode.cs (just with more stuff).  I 
tested a 'drop-in' on a pristine Tao SVN tree and OdeExamples.Basic only 
required 2 tiny edits to work, so the potential for disruption seems 
minimal.  As such, I'm inclined to just update Ode.cs on the main 
trunk.  The alternative is to create a branch to let folks test things 
first, then move to the trunk when ok.  Let me know.

Comments/Issues
---------------
This code is a cleaned-up version of ODE bindings previously submitted 
to Randy Ridge by 'cody', so wasn't written from scratch.  As such, I 
resisted making any gratuitous changes to the code - I tried to leave 
the original style intact.  So if anything bothers you or looks funny, 
keep this in mind.  The naming convention used is that of ODE - if you 
are reading through the ODE docs or an example on a 
mailinglist/forum/wiki, everything will look very familiar, though not 
very C#ish.  I spent a lot of time checking everything against the ODE 
API making sure everything seemed right and organizing everything to 
follow the general flow of the ODE documentation.  Cleanups were made 
where necessary and missing things added.  I also added XML docs to just 
about everything (mostly pulled from the online ODE docs and the code) - 
this took the most time.  I'm not using Visual Studio, so my not have 
the formatting exactly right.  Overall, I tried to end up with code that 
was well organized and so easy to work with moving forward. 

Don't expect everything to work. Simple tests run fine, but there is a 
lot of code that isn't tested.  I'm not a P/Invoke expert, so while the 
simple stuff is probably right, there are probably places where the 
bindings are broken or can be improved or tweaked, so be on the lookout 
for those.

Coverage of the public ODE API should be complete or near-complete in 
the updated bindings.  I didn't actually count or anything like that, 
but it certainly seemed as if I looked at just about everything in the 
docs and Ode header files.

Major issue:  Currently the bindings are for the single-precision 
version of the Ode library only - running against the double precision 
version results in segfaults, at least on Linux.  There is an alias 
corresponding to the dReal ODE datatype that's set to System.Single - in 
theory a double precision version of the bindings can be produced by 
changing the alias to System.Double and recompiling.  Not tested. 
Figuring out how best to deal with the fact that the ODE lib can be 
present in multiple precisions will be a big issue moving forward.

Testing
-------
No extensive tests were done, but simple tests work, both on windows and 
linux. 

- OdeExamples.Basic produces identical results with both old and new 
versions of the bindings.

- I banged out some custom test code based on test_ode.cpp (from ODE 
source) to test mass functions.  The tests I implemented pass or fail 
similarly to the native version.
(dMassSetCappedCylinder fails in both cases - don't know whether this is 
deliberate or a problem with the original code, but it's at least 
consistent.)

Cheers,

Terry
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000153.html">[Tao-list] glGenBuffersARB fails?
</A></li>
	<LI>Next message: <A HREF="000155.html">[Tao-list] Tao.Ode update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#154">[ date ]</a>
              <a href="thread.html#154">[ thread ]</a>
              <a href="subject.html#154">[ subject ]</a>
              <a href="author.html#154">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
