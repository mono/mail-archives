<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] Loading textures
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Loading%20textures&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] Loading textures</H1>
    <B>Marcin Krol</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Loading%20textures&In-Reply-To="
       TITLE="[Tao-list] Loading textures">mrkafk at gmail.com
       </A><BR>
    <I>Mon Jun 28 16:24:38 EDT 2010</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#672">[ date ]</a>
              <a href="thread.html#672">[ thread ]</a>
              <a href="subject.html#672">[ subject ]</a>
              <a href="author.html#672">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello everyone,


I'm loading (large) bitmap and displaying it on a rectangle. The bitmap 
does have size of power of two. On my devel WinXP it works, on a test 
system with Windows 2003 SE SP2 it doesn't -- i.e. it displays big white 
rectangle instead of a bitmap.

Code:

private void simpleOpenGlControl1_Load(object sender, EventArgs e)
{
     simpleOpenGlControl1.InitializeContexts();
     simpleOpenGlControl1.MakeCurrent();
     Gl.glViewport(0, 0, simpleOpenGlControl1.Width, 
simpleOpenGlControl1.Height);
     Gl.glClearColor(0.0f, 0.0f, 0.0f, 0.0f);
     Gl.glMatrixMode(Gl.GL_PROJECTION);
     Gl.glLoadIdentity();
     Gl.glOrtho(vx1, simpleOpenGlControl1.Width + vx1, vy1, 
simpleOpenGlControl1.Height + vy1, -1.0, 1.0);
     Gl.glEnable(Gl.GL_TEXTURE_2D);
     Gl.glClearColor(0.0f, 0.0f, 0.0f, 0.0f);
     Gl.glMatrixMode(Gl.GL_PROJECTION);
     Gl.glLoadIdentity();
     Gl.glOrtho(vx1, simpleOpenGlControl1.Width+vx1, vy1, 
simpleOpenGlControl1.Height+vy1, -1.0, 1.0);
     Gl.glViewport(0, 0, simpleOpenGlControl1.Width, 
simpleOpenGlControl1.Height);
     srf = new Surface(&quot;bg.bmp&quot;);
     Gl.glGenTextures(1, out txtr);
     Gl.glBindTexture(Gl.GL_TEXTURE_2D, txtr);
     Gl.glTexParameteri(Gl.GL_TEXTURE_2D, Gl.GL_TEXTURE_MIN_FILTER, 
Gl.GL_LINEAR);
     Gl.glTexParameteri(Gl.GL_TEXTURE_2D, Gl.GL_TEXTURE_MAG_FILTER, 
Gl.GL_LINEAR);
     Gl.glTexImage2D(Gl.GL_TEXTURE_2D, 0, 3, srf.Width, srf.Height, 0, 
Gl.GL_BGR, Gl.GL_UNSIGNED_BYTE, srf.Pixels);
     Gl.glBindTexture(Gl.GL_TEXTURE_2D, txtr);
}

Anybody knows what might be wrong? I'm banging my head against the wall 
here.



-- 

Regards,
mk

--
Premature optimization is the root of all fun.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#672">[ date ]</a>
              <a href="thread.html#672">[ thread ]</a>
              <a href="subject.html#672">[ subject ]</a>
              <a href="author.html#672">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
