<tt>
Thanks,&nbsp;I&nbsp;will&nbsp;try&nbsp;this&nbsp;out.&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;I'm&nbsp;thinking,&nbsp;how&nbsp;does&nbsp;SdlImage&nbsp;handle&nbsp;the&nbsp;multi-frame-format&nbsp;.gif?<br>
There&nbsp;are&nbsp;no&nbsp;APIs&nbsp;for&nbsp;getting&nbsp;the&nbsp;individual&nbsp;surfaces&nbsp;of&nbsp;a&nbsp;.gif&nbsp;in<br>
SdlImage,&nbsp;or&nbsp;have&nbsp;I&nbsp;missed&nbsp;something?&nbsp;Of&nbsp;course,&nbsp;I&nbsp;could&nbsp;do&nbsp;something<br>
like&nbsp;putting&nbsp;all&nbsp;the&nbsp;frames&nbsp;of&nbsp;the&nbsp;.gif&nbsp;into&nbsp;a&nbsp;grid&nbsp;on&nbsp;a&nbsp;single&nbsp;frame.&lt;br&gt;<br>
&lt;br&gt;<br>
/Olof&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;12/8/05,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;&lt;a&nbsp;href=&quot;mailto:David_Hudson@capgroup.com&quot;&gt;David_Hudson@capgroup.com&lt;/a&gt;&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:David_Hudson@capgroup.com&quot;&gt;David_Hudson@capgroup.com<br>
&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;for&nbsp;step&nbsp;6&nbsp;use&nbsp;this&lt;br&gt;IntPtr&nbsp;surface&nbsp;=&nbsp;SdlImage.IMG_Load_RW(Sdl.SDL_RWFromMem<br>
(pixelarray,&lt;br&gt;pixelarray.Length),&nbsp;1);&lt;br&gt;&lt;br&gt;Dave&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:tao-list-bounces@lists.ximian.com&quot;&gt;tao-list-bounces@lists.ximian.com&lt;/a&gt;&nbsp;wrote&nbsp;on&nbsp;12/08/2005&nbsp;11:36:10&nbsp;AM:&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;Hi&nbsp;there!&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;I'm&nbsp;fairly&nbsp;new&nbsp;to&nbsp;Tao,&nbsp;and&nbsp;am&nbsp;using&nbsp;it&nbsp;primarily&nbsp;for&nbsp;the&nbsp;Sdl<br>
&lt;br&gt;&amp;gt;&nbsp;wrapper.&nbsp;I'm&nbsp;in&nbsp;C#.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Now&nbsp;I&nbsp;want&nbsp;to&nbsp;load&nbsp;images&nbsp;into&nbsp;Sdl's&nbsp;surfaces.&nbsp;I'm&nbsp;using&nbsp;.gif&nbsp;for&nbsp;my&lt;br&gt;&amp;gt;&nbsp;pixel-animation&nbsp;based&nbsp;game,&nbsp;so&nbsp;that&nbsp;format&nbsp;is&nbsp;preferable&nbsp;from&nbsp;my&lt;br&gt;&amp;gt;&nbsp;side,&nbsp;and&nbsp;also&nbsp;I'd&nbsp;like&nbsp;to&nbsp;read&nbsp;them&nbsp;from&nbsp;memory&nbsp;(I'm&nbsp;using&nbsp;binary<br>
&lt;br&gt;&amp;gt;&nbsp;archive&nbsp;files&nbsp;instead&nbsp;of&nbsp;the&nbsp;file&nbsp;system.).&nbsp;All&nbsp;8-bits.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;The&nbsp;method&nbsp;I've&nbsp;come&nbsp;up&nbsp;with&nbsp;so&nbsp;far&nbsp;is&nbsp;quite&nbsp;complicated,&nbsp;and&nbsp;as&nbsp;you&lt;br&gt;&amp;gt;&nbsp;might&nbsp;image&nbsp;after&nbsp;reading&nbsp;this,&nbsp;quite&nbsp;slow.&nbsp;The&nbsp;reason&nbsp;for&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;complication&nbsp;is&nbsp;because&nbsp;I&nbsp;want&nbsp;to&nbsp;avoid&nbsp;unsafe&nbsp;code&nbsp;sections.&nbsp;Also,&lt;br&gt;&amp;gt;&nbsp;I&nbsp;don't&nbsp;exactly&nbsp;know&nbsp;how&nbsp;the&nbsp;garbage&nbsp;collection&nbsp;of&nbsp;C#&nbsp;work,&nbsp;and&nbsp;how&lt;br&gt;&amp;gt;&nbsp;I&nbsp;make&nbsp;sure&nbsp;sdl&nbsp;doesn't&nbsp;garble&nbsp;up&nbsp;when&nbsp;I&nbsp;throw&nbsp;in&nbsp;an&nbsp;IntPtr&nbsp;(or&nbsp;that<br>
&lt;br&gt;&amp;gt;&nbsp;pointer's&nbsp;heap&nbsp;space&nbsp;being&nbsp;reclaimed&nbsp;by&nbsp;the&nbsp;GC).&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;So&nbsp;bear&nbsp;with&nbsp;me&nbsp;---&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;1.&nbsp;To&nbsp;begin&nbsp;with,&nbsp;I&nbsp;have&nbsp;the&nbsp;.gif&nbsp;file&nbsp;loaded&nbsp;into&nbsp;a&nbsp;byte[]&nbsp;called&lt;br&gt;&amp;gt;&nbsp;'bytes'.&nbsp;Nothing&nbsp;strange&nbsp;here,&nbsp;and&nbsp;it's&nbsp;fast.<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;2.&nbsp;I&nbsp;use&nbsp;Tao.DevIL&nbsp;to&nbsp;decode&nbsp;'bytes'&nbsp;to&nbsp;image&nbsp;number&nbsp;1.&nbsp;This&nbsp;is&nbsp;fast&nbsp;too.&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Il.ilBindImage(1);&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Il.ilLoadL(Il.IL_GIF,&nbsp;bytes,&nbsp;bytes.Length);&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;3.&nbsp;Find&nbsp;out&nbsp;the&nbsp;bitmap&nbsp;dimensions&nbsp;via&nbsp;DevIL:<br>
&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;int&nbsp;w&nbsp;=&nbsp;Il.ilGetInteger(Il.IL_IMAGE_WIDTH);&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;int&nbsp;h&nbsp;=&nbsp;Il.ilGetInteger(Il.IL_IMAGE_HEIGHT);&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;4.&nbsp;Gain&nbsp;access&nbsp;to&nbsp;the&nbsp;pixels&nbsp;of&nbsp;the&nbsp;read-in&nbsp;bitmap&nbsp;via&nbsp;DevIL's&nbsp;(an&lt;br&gt;IntPtr)&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;IntPtr&nbsp;pixels&nbsp;=&nbsp;<br>
Il.ilGetData();&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;5.&nbsp;In&nbsp;order&nbsp;to&nbsp;gain&nbsp;access&nbsp;to&nbsp;the&nbsp;actual&nbsp;8-bit&nbsp;bytes&nbsp;of&nbsp;the&nbsp;bitmap,&nbsp;I&lt;br&gt;copy&nbsp;the&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&nbsp;actual&nbsp;bytes&nbsp;in&nbsp;'pixels'&nbsp;to&nbsp;another&nbsp;byte[]&nbsp;called&nbsp;'pixelarray'&nbsp;via&lt;br&gt;&amp;gt;&nbsp;C#'s&nbsp;Marshalling&nbsp;copy&nbsp;function.<br>
&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&nbsp;This&nbsp;should&nbsp;be&nbsp;reasonably&nbsp;fast&nbsp;too,&nbsp;given&nbsp;the&nbsp;built-in&nbsp;marshalling&lt;br&gt;&amp;gt;&nbsp;functions&nbsp;are&nbsp;fast,&nbsp;which&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&nbsp;they&nbsp;really&nbsp;should&nbsp;be.&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;byte[]&nbsp;pixelarray&nbsp;=&nbsp;new&nbsp;byte[w*h];&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Marshal.Copy(pixels,&nbsp;pixelarray,&nbsp;0,&nbsp;w*h);<br>
&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;6.&nbsp;Now&nbsp;I'm&nbsp;ready&nbsp;to&nbsp;create&nbsp;the&nbsp;Sdl&nbsp;surface.&nbsp;Since&nbsp;I&nbsp;don't&nbsp;wanna&nbsp;hack&lt;br&gt;&amp;gt;&nbsp;around&nbsp;with&nbsp;byte*&nbsp;I&nbsp;simply&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;use&nbsp;Sdl's&nbsp;FillRect&nbsp;to&nbsp;blit&nbsp;the&nbsp;bytes&nbsp;of&nbsp;the&nbsp;loaded&nbsp;bitmap&nbsp;to&nbsp;the&lt;br&gt;&amp;gt;&nbsp;sdl&nbsp;surface:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;IntPtr&nbsp;surface&nbsp;=&nbsp;Sdl.SDL_CreateRGBSurface(Sdl.SDL_SWSURFACE,&lt;br&gt;&amp;gt;&nbsp;w,&nbsp;h,&nbsp;8,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;0);&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Sdl.SDL_Rect&nbsp;r&nbsp;=&nbsp;new&nbsp;Sdl.SDL_Rect(0,&nbsp;0,&nbsp;1,&nbsp;1);&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for&nbsp;(short&nbsp;y&nbsp;=&nbsp;0;&nbsp;y&nbsp;&amp;lt;&nbsp;h;&nbsp;y++)<br>
&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for&nbsp;(short&nbsp;x&nbsp;=&nbsp;0;&nbsp;x&nbsp;&amp;lt;&nbsp;w;&nbsp;x++)&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;r.x&nbsp;=&nbsp;x;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;r.y&nbsp;=&nbsp;y;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
Sdl.SDL_FillRect(surface,&nbsp;ref&nbsp;r,&nbsp;pixelarray[w&nbsp;*&nbsp;y&nbsp;+&nbsp;x]);&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;This&nbsp;step&nbsp;is&nbsp;HORRIBLY&nbsp;slow&nbsp;-&nbsp;something&nbsp;like&nbsp;5&nbsp;seconds&nbsp;on&nbsp;my&nbsp;1.5GHz&lt;br&gt;Pentium&nbsp;4.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;So,&nbsp;is&nbsp;there&nbsp;a&nbsp;faster&nbsp;way&nbsp;to&nbsp;load&nbsp;binar-embedded&nbsp;.gifs&nbsp;without&nbsp;using<br>
&lt;br&gt;&amp;gt;&nbsp;'unsafe'?&nbsp;May&nbsp;I&nbsp;safely&nbsp;assume&nbsp;using&nbsp;SDL_CreateRGBSurfaceFrom()&nbsp;will&lt;br&gt;&amp;gt;&nbsp;work&nbsp;with&nbsp;the&nbsp;IntPtr&nbsp;returned&nbsp;from&nbsp;DevIL,&nbsp;as&nbsp;long&nbsp;as&nbsp;I&nbsp;don't&nbsp;delete&lt;br&gt;&amp;gt;&nbsp;the&nbsp;DevIL&nbsp;bitmap?&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;/Olof&lt;br&gt;&amp;gt;&nbsp;_______________________________________________<br>
&lt;br&gt;&amp;gt;&nbsp;Tao-list&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Tao-list@lists.ximian.com&quot;&gt;Tao-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://galactus.ximian.com/mailman/listinfo/tao-list&quot;&gt;http://galactus.ximian.com/mailman/listinfo/tao-list<br>
&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
