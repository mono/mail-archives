<tt>
&lt;div&gt;Here's&nbsp;a&nbsp;solution&nbsp;for&nbsp;glSelectBuffer&nbsp;returning&nbsp;an&nbsp;empty&nbsp;buffer.&amp;nbsp;&nbsp;It&nbsp;relies&nbsp;on&nbsp;the&nbsp;assumption&nbsp;that&nbsp;you&nbsp;almost&nbsp;certainly&nbsp;want&nbsp;the&nbsp;nearest&nbsp;item,&nbsp;so&nbsp;we&nbsp;just&nbsp;return&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;nearest&nbsp;item.&amp;nbsp;&nbsp;The&nbsp;solution&nbsp;is&nbsp;a&nbsp;small&nbsp;C&nbsp;wrapper&nbsp;that&nbsp;holds&nbsp;the&nbsp;select&nbsp;buffer.&amp;nbsp;&nbsp;We&nbsp;query&nbsp;it&nbsp;after&nbsp;switching&nbsp;to&nbsp;rendermode&nbsp;to&nbsp;get&nbsp;the&nbsp;nearest&nbsp;item.&amp;nbsp;&nbsp;This&nbsp;makes&nbsp;marshalling&nbsp;quick&nbsp;and&nbsp;easy&nbsp;since&nbsp;there's&nbsp;almost&nbsp;nothing&nbsp;to&nbsp;martial:&nbsp;just&nbsp;a&nbsp;single&nbsp;int.<br>
&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;Here&nbsp;is&nbsp;the&nbsp;.cpp&nbsp;file:&lt;/div&gt;<br>
&lt;p&gt;#include&nbsp;&amp;lt;iostream&amp;gt;&lt;br&gt;#include&nbsp;&amp;quot;windows.h&amp;quot;&lt;br&gt;#include&nbsp;&amp;quot;gl\GL.h&amp;quot;&lt;br&gt;using&nbsp;namespace&nbsp;std;&lt;/p&gt;<br>
&lt;p&gt;GLuint&nbsp;selectbuffer[4096];&lt;/p&gt;<br>
&lt;p&gt;extern&nbsp;&amp;quot;C&amp;quot;&nbsp;void&nbsp;glCreateSelectBuffer()&lt;br&gt;{&lt;br&gt;cout&nbsp;&amp;lt;&amp;lt;&nbsp;&amp;quot;makeselectbuffer&amp;quot;&nbsp;&amp;lt;&amp;lt;&nbsp;endl;&amp;nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;glSelectBuffer(&nbsp;4096,&nbsp;selectbuffer&nbsp;);&lt;br&gt;}&lt;/p&gt;<br>
&lt;p&gt;extern&nbsp;&amp;quot;C&amp;quot;&nbsp;int&nbsp;glGetNearestBufferName(&nbsp;int&nbsp;inumhits&nbsp;)&lt;br&gt;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;unsigned&nbsp;int&nbsp;bestdepth&nbsp;=&nbsp;0;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;int&nbsp;bestpick&nbsp;=&nbsp;-1;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;for(&nbsp;int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&amp;lt;&nbsp;inumhits;&nbsp;i++&nbsp;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;unsigned&nbsp;int&nbsp;thisitem&nbsp;=&nbsp;selectbuffer[&nbsp;i&nbsp;*&nbsp;4&nbsp;+&nbsp;3&nbsp;];<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;unsigned&nbsp;int&nbsp;thisdepth&nbsp;=&nbsp;selectbuffer[&nbsp;i&nbsp;*&nbsp;4&nbsp;+&nbsp;1&nbsp;];&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if(&nbsp;thisdepth&nbsp;&amp;lt;&nbsp;bestdepth&nbsp;||&nbsp;bestpick&nbsp;==&nbsp;-1&nbsp;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cout&nbsp;&amp;lt;&amp;lt;&nbsp;&amp;quot;new&nbsp;best&nbsp;depth:&nbsp;&amp;quot;&nbsp;&amp;lt;&amp;lt;&nbsp;bestdepth&nbsp;&amp;lt;&amp;lt;&nbsp;&amp;quot;&nbsp;pick:&nbsp;&amp;quot;&nbsp;&amp;lt;&amp;lt;&nbsp;thisitem&nbsp;&amp;lt;&amp;lt;&nbsp;endl;<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;bestdepth&nbsp;=&nbsp;thisdepth;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;bestpick&nbsp;=&nbsp;(int)thisitem;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;cout&amp;lt;&amp;lt;&nbsp;&amp;quot;best&nbsp;hit:&nbsp;&amp;quot;&nbsp;&amp;lt;&amp;lt;&nbsp;bestpick&nbsp;&amp;lt;&amp;lt;&nbsp;endl;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;bestpick;&lt;br&gt;}&lt;br&gt;&lt;/p&gt;<br>
&lt;div&gt;Here&nbsp;is&nbsp;the&nbsp;.def:&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;EXPORTS&lt;br&gt;glCreateSelectBuffer&lt;br&gt;glGetNearestBufferName&lt;br&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;Here&nbsp;are&nbsp;the&nbsp;build&nbsp;commands:&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;cl&nbsp;/c&nbsp;glselectwrap.cpp&lt;br&gt;link&nbsp;/dll&nbsp;/def:glselectwrap.def&nbsp;glselectwrap.obj&lt;br&gt;&lt;br&gt;Example&nbsp;usage:&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&gt;//&nbsp;Copyright&nbsp;Hugh&nbsp;Perkins&nbsp;2006&lt;br&gt;//&nbsp;&lt;a&nbsp;href=&quot;mailto:hughperkins@gmail.com&quot;&gt;hughperkins@gmail.com&lt;/a&gt;&nbsp;&lt;a&nbsp;href=&quot;http://manageddreams.com/&quot;&gt;http://manageddreams.com&lt;/a&gt;&lt;br&gt;//&lt;br&gt;//&nbsp;This&nbsp;program&nbsp;is&nbsp;free&nbsp;software;&nbsp;you&nbsp;can&nbsp;redistribute&nbsp;it&nbsp;and/or&nbsp;modify&nbsp;it<br>
&lt;br&gt;//&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;License&nbsp;version&nbsp;2&nbsp;as&nbsp;published&nbsp;by&nbsp;the&lt;br&gt;//&nbsp;Free&nbsp;Software&nbsp;Foundation;&lt;br&gt;//&lt;br&gt;//&nbsp;This&nbsp;program&nbsp;is&nbsp;distributed&nbsp;in&nbsp;the&nbsp;hope&nbsp;that&nbsp;it&nbsp;will&nbsp;be&nbsp;useful,&nbsp;but&lt;br&gt;//&nbsp;WITHOUT&nbsp;ANY&nbsp;WARRANTY;&nbsp;without&nbsp;even&nbsp;the&nbsp;implied&nbsp;warranty&nbsp;of&nbsp;MERCHANTABILITY<br>
&lt;br&gt;//&nbsp;or&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE.&nbsp;See&nbsp;the&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;License&nbsp;for&lt;br&gt;//&amp;nbsp;&nbsp;more&nbsp;details.&lt;br&gt;//&lt;br&gt;//&nbsp;You&nbsp;should&nbsp;have&nbsp;received&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;License&nbsp;along&lt;br&gt;//&nbsp;with&nbsp;this&nbsp;program&nbsp;in&nbsp;the&nbsp;file&nbsp;<br>
licence.txt;&nbsp;if&nbsp;not,&nbsp;write&nbsp;to&nbsp;the&lt;br&gt;//&nbsp;Free&nbsp;Software&nbsp;Foundation,&nbsp;Inc.,&nbsp;59&nbsp;Temple&nbsp;Place,&nbsp;Suite&nbsp;330,&nbsp;Boston,&nbsp;MA&nbsp;02111-&lt;br&gt;//&nbsp;1307&nbsp;USA&lt;br&gt;//&nbsp;You&nbsp;can&nbsp;find&nbsp;the&nbsp;licence&nbsp;also&nbsp;on&nbsp;the&nbsp;web&nbsp;at:&lt;br&gt;//&nbsp;&lt;a&nbsp;href=&quot;http://www.opensource.org/licenses/gpl-license.php&quot;&gt;<br>
http://www.opensource.org/licenses/gpl-license.php&lt;/a&gt;&lt;br&gt;//&lt;/p&gt;<br>
&lt;p&gt;using&nbsp;System;&lt;br&gt;using&nbsp;System.Collections;&lt;br&gt;using&nbsp;Tao.OpenGl;&lt;br&gt;using&nbsp;System.Runtime.InteropServices;&lt;/p&gt;<br>
&lt;p&gt;namespace&nbsp;OSMP&lt;br&gt;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;class&nbsp;AdditionalGlWrap&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;[DllImport&nbsp;(&amp;quot;glselectwrap.dll&amp;quot;,&nbsp;CharSet=CharSet.Auto&nbsp;)]&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;public&nbsp;static&nbsp;extern&nbsp;void&nbsp;glCreateSelectBuffer();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;[DllImport&nbsp;(&amp;quot;<br>
glselectwrap.dll&amp;quot;,&nbsp;CharSet=CharSet.Auto&nbsp;)]&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;public&nbsp;static&nbsp;extern&nbsp;int&nbsp;glGetNearestBufferName(&nbsp;int&nbsp;numhits&nbsp;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&amp;nbsp;&nbsp;[DllImport&nbsp;(&amp;quot;oglwraptest.dll&amp;quot;,&nbsp;CharSet=CharSet.Auto&nbsp;)]&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;public&nbsp;static&nbsp;extern&nbsp;void&nbsp;glGetSelectBuffer(ref&nbsp;uint[]&nbsp;array,&nbsp;int&nbsp;numhits&nbsp;);<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;responsible&nbsp;for&nbsp;picking,&nbsp;which&nbsp;in&nbsp;OpenGl&nbsp;means&nbsp;essentially&nbsp;using&nbsp;a&nbsp;glSelect&nbsp;buffer&nbsp;to&nbsp;decide&nbsp;what&nbsp;you&nbsp;clicked&nbsp;on.&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;This&nbsp;is&nbsp;the&nbsp;OpenGl&nbsp;specific&nbsp;class;&nbsp;you&nbsp;can&nbsp;derive&nbsp;others&nbsp;from&nbsp;IPicker3dModel<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;You&nbsp;can&nbsp;get&nbsp;an&nbsp;instance&nbsp;of&nbsp;this&nbsp;class&nbsp;at&nbsp;runtime&nbsp;by&nbsp;doing&nbsp;RendererFactory().GetInstance().GetPicker3dModel();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;class&nbsp;Picker3dModelGl&nbsp;:&nbsp;IPicker3dModel&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ArrayList&nbsp;hittargets&nbsp;=&nbsp;new&nbsp;ArrayList();&amp;nbsp;&nbsp;//&nbsp;ArrayList&nbsp;is&nbsp;not&nbsp;really&nbsp;fast;&nbsp;might&nbsp;consider&nbsp;using&nbsp;a&nbsp;normal&nbsp;array<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;bool&nbsp;bAddingNames;&nbsp;//&nbsp;we&nbsp;set&nbsp;this&nbsp;to&nbsp;true&nbsp;if&nbsp;we&nbsp;are&nbsp;adding&nbsp;names&nbsp;to&nbsp;hittargets,&nbsp;otherwise&nbsp;to&nbsp;false&nbsp;to&nbsp;gain&nbsp;speed&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;public&nbsp;void&nbsp;AddHitTarget(&nbsp;HitTarget&nbsp;hittarget&nbsp;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if(&nbsp;bAddingNames&nbsp;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//if(&nbsp;hittarget&nbsp;is&nbsp;Picker3dController.HitTargetEntity&nbsp;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&amp;nbsp;&amp;nbsp;&nbsp;Console.WriteLine(&nbsp;&amp;quot;add&nbsp;name:&nbsp;&amp;quot;&nbsp;+&nbsp;((Picker3dController.HitTargetEntity<br>
)hittarget).entity.ToString()&nbsp;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//}&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;hittargets.Add(&nbsp;hittarget&nbsp;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glLoadName(&nbsp;hittargets.Count&nbsp;);&amp;nbsp;&nbsp;//&nbsp;note:&nbsp;this&nbsp;isnt&nbsp;quite&nbsp;the&nbsp;index;&nbsp;it&nbsp;is&nbsp;index&nbsp;+&nbsp;1&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if(&nbsp;!(hittarget&nbsp;is&nbsp;<br>
RendererSdlCtrl.HitTargetLandCoord&nbsp;)&nbsp;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Test.Debug(&amp;quot;loadname&nbsp;&amp;quot;&nbsp;+&nbsp;hittarget.ToString()&nbsp;+&nbsp;&amp;quot;&nbsp;&amp;quot;&nbsp;+&nbsp;hittargets.Count.ToString()&nbsp;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;/p&gt;<br>
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;dependencies:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;-&nbsp;RendererFactory().GetInstance&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;-&nbsp;Tao.OpenGl&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;public&nbsp;HitTarget&nbsp;GetClickedHitTarget(&nbsp;int&nbsp;MouseX,&nbsp;int&nbsp;MouseY&nbsp;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;IRenderer&nbsp;renderer&nbsp;=&nbsp;<br>
RendererFactory.GetInstance();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ArrayList&nbsp;results&nbsp;=&nbsp;new&nbsp;ArrayList();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;int[]&nbsp;viewport&nbsp;=&nbsp;new&nbsp;int[&nbsp;4&nbsp;];&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glGetIntegerv(&nbsp;Gl.GL_VIEWPORT,&nbsp;viewport&nbsp;);<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;AdditionalGlWrap.glCreateSelectBuffer();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;This&nbsp;Creates&nbsp;A&nbsp;Matrix&nbsp;That&nbsp;Will&nbsp;Zoom&nbsp;Up&nbsp;To&nbsp;A&nbsp;Small&nbsp;Portion&nbsp;Of&nbsp;The&nbsp;Screen,&nbsp;Where&nbsp;The&nbsp;Mouse&nbsp;Is.&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glMatrixMode(&nbsp;Gl.GL_PROJECTION<br>
&nbsp;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glPushMatrix();&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;save&nbsp;old&nbsp;matrix,&nbsp;we&nbsp;restore&nbsp;it&nbsp;at&nbsp;end&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glLoadIdentity();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Glu.gluPickMatrix(&nbsp;(float)MouseX,&nbsp;(float)&nbsp;(renderer.WindowHeight<br>
&nbsp;-&nbsp;MouseY&nbsp;),&nbsp;1.0f,&nbsp;1.0f,&nbsp;viewport);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Glu.gluPerspective(45.0f,&nbsp;(float)renderer.WindowWidth&nbsp;/&nbsp;(float)renderer.WindowHeight,&nbsp;0.5f,&nbsp;100.0f);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glMatrixMode(Gl.GL_MODELVIEW<br>
);&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glRenderMode(&nbsp;Gl.GL_SELECT&nbsp;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glInitNames();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glPushName(0);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;Push&nbsp;one&nbsp;entry&nbsp;onto&nbsp;the&nbsp;stack;&nbsp;we&nbsp;will&nbsp;use&nbsp;LoadName&nbsp;to&nbsp;change&nbsp;this&nbsp;value&nbsp;throughout&nbsp;the&nbsp;rendering<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;bAddingNames&nbsp;=&nbsp;true;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;hittargets&nbsp;=&nbsp;new&nbsp;ArrayList();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;renderer.DrawWorld();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;bAddingNames&nbsp;=&nbsp;false;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;return&nbsp;projection&nbsp;matrix&nbsp;to&nbsp;normal<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glMatrixMode(Gl.GL_PROJECTION);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glPopMatrix();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gl.glMatrixMode(Gl.GL_MODELVIEW);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;int&nbsp;iNumHits&nbsp;=&nbsp;Gl.glRenderMode<br>
(&nbsp;Gl.GL_RENDER&nbsp;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if(&nbsp;iNumHits&nbsp;==&nbsp;0&nbsp;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;null;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;int&nbsp;hitname&nbsp;=&nbsp;AdditionalGlWrap.glGetNearestBufferName(&nbsp;iNumHits&nbsp;);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Console.WriteLine(&nbsp;&amp;quot;hitname:&nbsp;&amp;quot;&nbsp;+&nbsp;hitname.ToString()&nbsp;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if(&nbsp;hitname&nbsp;==&nbsp;-1&nbsp;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;null;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;(HitTarget)hittargets[&nbsp;hitname&nbsp;-&nbsp;1&nbsp;];<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;}&lt;br&gt;&lt;/p&gt;&lt;br&gt;Easy&nbsp;and&nbsp;efficient.&amp;nbsp;&nbsp;Is&nbsp;there&nbsp;somewhere&nbsp;I&nbsp;can&nbsp;post&nbsp;this&nbsp;solution&nbsp;to&nbsp;so&nbsp;that&nbsp;others&nbsp;can&nbsp;find&nbsp;it&nbsp;easily?&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;Hugh&nbsp;Perkins&lt;/div&gt;<br>
&lt;div&gt;&lt;a&nbsp;href=&quot;http://metaverse.sf.net&quot;&gt;http://metaverse.sf.net&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;
</tt>
