<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] Tao.Ode newstuff status
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Tao.Ode%20newstuff%20status&In-Reply-To=42C01419.1090906%40triplett.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000088.html">
   <LINK REL="Next"  HREF="000096.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] Tao.Ode newstuff status</H1>
    <B>Randy Ridge</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Tao.Ode%20newstuff%20status&In-Reply-To=42C01419.1090906%40triplett.org"
       TITLE="[Tao-list] Tao.Ode newstuff status">taolist at randyridge.com
       </A><BR>
    <I>Mon Jun 27 12:13:43 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000088.html">[Tao-list] Tao.Ode newstuff status
</A></li>
        <LI>Next message: <A HREF="000096.html">[Tao-list] Tao.Ode newstuff status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89">[ date ]</a>
              <a href="thread.html#89">[ thread ]</a>
              <a href="subject.html#89">[ subject ]</a>
              <a href="author.html#89">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Terry L. Triplett wrote:

&gt;<i>Background info:  I agreed to work up some Ode stuff that Randy Ridge
</I>&gt;<i>hasn't had time to deal with; the code arrived in the form of a single
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Yeah, cody sent me this stuff some time ago, I kept meaning to give it 
the Randy Ridge OCD treatment for formatting and consistency as well as 
review it against the ODE headers to make sure everything seemed 
kosher...  As far as noting the contribution, I've been putting them in 
the readme, whilst leaving the standard 'Tao Framework Team' or whatever 
boiler plate in the license.  cody == Sebastian Kotulla, I have his 
email addy, if needed.

Here's the notes he sent me:

problems/todo:

TriMeshData:
the trimesh functions take a pointer to mesh data and store the pointer 
internaly, they dont copy the memory. this was one of the crash problems 
i guess. right know my workaround is to pin the memory(at least this is 
what i intended, look at the OdeTriMeshData class).

Callbacks:
they get called but then raise a exception somewhere, i still dont know 
the reason.(OdeSpace, OdeGeom)

OdeGeom.Collide:
crashes sometimes when trimeshes are used, dont know why...
even when it works there is a chance that trimeshes intersect with each 
other.

Matrix stuff:
not tested, probably wrong element order.

helper functions are missing, i didnt need them though...

objects rotate in the wrong direction, can be solved by inverting the 
quaternions, probably a problem of my graphics code, not the binding.

that works:

collision detection with boxes,planes,spheres without the use of callbacks.

&gt;<i>The code: There is one large class corres
</I>&gt;<i>
</I>&gt;<i>ponding to the Ode class in
</I>&gt;<i>(the current) Ode.cs - this implements the bindings to the 'procedural'
</I>&gt;<i>part of the ODE api.  There are also several classes that wrap the
</I>&gt;<i>bindings to provide an OO interface to ODE.  The first thing I did is
</I>&gt;<i>pull out all the OO wrapper stuff into separate files and set them aside
</I>&gt;<i>for later.  The remaining code corresponds almost exactly to the current
</I>&gt;<i>Ode.cs file in SVN in an architectural sense - aside from stylistic
</I>&gt;<i>differences it's basically a superset of that file.  The 'code metrics'
</I>&gt;<i>utility in my IDE shows 41 methods in the old Ode.cs vs 335 methods in
</I>&gt;<i>the new file (each method representing a call to the underlying Ode
</I>&gt;<i>api).  Taking into account the overlap between the two files, this gives
</I>&gt;<i>us about 294 new methods, so post merge we'll have bindings to a much
</I>&gt;<i>larger chunk of the Ode api, if not all of it.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Right, I'd seperatate out the OOP stuff as well, perhaps put it in 
seperate namespace in the assembly.

&gt;<i>Current work task:  Merge the current ODE binding code with the new
</I>&gt;<i>stuff.  This involves mostly tedious grunt work since the code is
</I>&gt;<i>already written (cutting/pasting, refactoring, adding comments, etc.). 
</I>&gt;<i>Since this is a learning experience as well, some time is going into
</I>&gt;<i>reading up on .NET interop and looking at the 'native' Ode code.  I'll
</I>&gt;<i>post the merged Ode.cs file when I'm done so everyone can play with
</I>&gt;<i>it/test it.  I'd like to have this done by the end of the week if I can
</I>&gt;<i>manage it.  This isn't the most fascinating work, however, so I'm taking
</I>&gt;<i>it in small doses.  Note that I'm just shooting for syntactic
</I>&gt;<i>correctness here (ie, it compiles cleanly) so the code will be
</I>&gt;<i>essentially untested.
</I>&gt;<i>  
</I>&gt;<i>
</I>Welcome to my world.

&gt;<i>Future tasks: 
</I>&gt;<i>
</I>&gt;<i>- Testing/verification of new code.  Hopefully a group effort.
</I>&gt;<i>- Work up the OO wrapper code that was set aside.  Since Chris Bacon is
</I>&gt;<i>interested in an easier-to-use OO wrapper to Ode, I will probably punt
</I>&gt;<i>that code over to him if he is willing. 
</I>&gt;<i>
</I>&gt;<i>Cheers,
</I>&gt;<i>
</I>&gt;<i>T.
</I>&gt;<i>
</I>&gt;<i>[Side note:  I'd like to give proper acknowledgement, so if Randy or
</I>&gt;<i>someone else has more information on the identity of 'cody', I would
</I>&gt;<i>thankful.  Is there a preferred way to give acknowledgement for
</I>&gt;<i>contributions to Tao?  Should it go in a comments block after the
</I>&gt;<i>license section in each .cs file?  In the Class Documentation region of
</I>&gt;<i>the same?  AssemblyInfo.cs?  Text files (eg. readme files, an AUTHORS
</I>&gt;<i>file)?  Somewhere else?]
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Tao-list mailing list
</I>&gt;<i><A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">Tao-list at lists.ximian.com</A>
</I>&gt;<i><A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">http://galactus.ximian.com/mailman/listinfo/tao-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000088.html">[Tao-list] Tao.Ode newstuff status
</A></li>
	<LI>Next message: <A HREF="000096.html">[Tao-list] Tao.Ode newstuff status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89">[ date ]</a>
              <a href="thread.html#89">[ thread ]</a>
              <a href="subject.html#89">[ subject ]</a>
              <a href="author.html#89">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
