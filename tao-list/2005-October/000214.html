<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] Naming Conventions and CLS Compliance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Naming%20Conventions%20and%20CLS%20Compliance&In-Reply-To=1129801692.22688.15.camel%40taylor">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000213.html">
   <LINK REL="Next"  HREF="000215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] Naming Conventions and CLS Compliance</H1>
    <B>Mark Ribau</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Naming%20Conventions%20and%20CLS%20Compliance&In-Reply-To=1129801692.22688.15.camel%40taylor"
       TITLE="[Tao-list] Naming Conventions and CLS Compliance">mark at redbugtech.com
       </A><BR>
    <I>Thu Oct 20 09:44:20 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000213.html">[Tao-list] Naming Conventions and CLS Compliance
</A></li>
        <LI>Next message: <A HREF="000215.html">[Tao-list] Naming Conventions and CLS Compliance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#214">[ date ]</a>
              <a href="thread.html#214">[ thread ]</a>
              <a href="subject.html#214">[ subject ]</a>
              <a href="author.html#214">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I started doing something similar, but abandoned it due to time 
constraints at work.  I think it would be a great idea.  I was calling 
it DotGL instead of Gl, because it was more '.Net-ified'.  I had a 
little program around somewhere that just converted all the const 
listings into their appropriate enum.....

Matze Braun wrote:

&gt;<i>I would support such an effort too, though it seems like tao tries to
</I>&gt;<i>stay as close to the C lib as possible in C# so this should probably an
</I>&gt;<i>extra project.
</I>&gt;<i>
</I>&gt;<i>It should be possible to modify the OpenGl binding generator in Tao for
</I>&gt;<i>most of this stuff I think. Luckily enums are already listed in
</I>&gt;<i>enum.spec and converting BLA_BLUP to BlaBlup programatically should be
</I>&gt;<i>easy as well.
</I>&gt;<i>
</I>&gt;<i>So this should result in something like
</I>&gt;<i>
</I>&gt;<i>namespace OpenGl {
</I>&gt;<i>	public enum BeginMode {
</I>&gt;<i>		Points = 0x000,
</I>&gt;<i>		Lines = 0x0001,
</I>&gt;<i>		LineLoop = 0x0002,
</I>&gt;<i>		/*, ... */
</I>&gt;<i>	}
</I>&gt;<i>	public enum GetPName {
</I>&gt;<i>		CurrentColor = 0x0B00,
</I>&gt;<i>		CurrentIndex = 0x0B01,
</I>&gt;<i>		/*...*/
</I>&gt;<i>	}
</I>&gt;<i>
</I>&gt;<i>	public class Gl {
</I>&gt;<i>		[DllImport(&quot;opengl32.dll&quot;, EntryPoint=&quot;glBegin&quot;)]
</I>&gt;<i>		public static extern void Begin(BeginMode Mode);
</I>&gt;<i>
</I>&gt;<i>		[DllImport(&quot;opengl32.dll&quot;, EntryPoint=&quot;glGetFloatv&quot;)]
</I>&gt;<i>		public static extern void Get(GetPName PName, [Out] float[] params);
</I>&gt;<i>		[DllImport(&quot;opengl32.dll&quot;, EntryPoint=&quot;glGetFloatv&quot;)]
</I>&gt;<i>		public static extern void Get(GetPName PName, out float params);
</I>&gt;<i>		[DllImport(&quot;opengl32.dll&quot;, EntryPoint=&quot;glGetBooleanv&quot;)]
</I>&gt;<i>		public static extern void Get(GetPName PName, [Out] bool[] params);
</I>&gt;<i>		/* ... */
</I>&gt;<i>	}
</I>&gt;<i>}
</I>&gt;<i>
</I>&gt;<i>Maybe we can start a little project for this?
</I>&gt;<i>
</I>&gt;<i>Greetings,
</I>&gt;<i>	Matze
</I>&gt;<i>
</I>&gt;<i>Am Mittwoch, den 19.10.2005, 12:55 -0700 schrieb Jesse Towner:
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>Hello,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I'm a graphics and game programmer, and my work has led me to take a 
</I>&gt;&gt;<i>look at Tao.OpenGL. For the most part, I'm quite pleased with it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I'm just concerned that Tao is rooted too deeply in the naming 
</I>&gt;&gt;<i>conventions of the OpenGL standard, and I was wondering if their would 
</I>&gt;&gt;<i>be interest in an initiative to give Tao a more natural CLI/.NET look 
</I>&gt;&gt;<i>and feel? I don't mean something as extreme as say Managed DirectX, but 
</I>&gt;&gt;<i>instead just updating the naming conventions used by Tao to make it CLS 
</I>&gt;&gt;<i>compliant. As it stands, MSVC# 2005 RC1 with code analysis enabled gives 
</I>&gt;&gt;<i>a ton of warnings because Tao's names are not CLS compliant, despite Tao 
</I>&gt;&gt;<i>classes being flagged with the CLSCompliantAttribute attribute.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>As an example of what I mean, I include the following code fragment (I 
</I>&gt;&gt;<i>apologize in advance if the list spooler wrecks the formatting):
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>*namespace* Tao.OpenGl {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>*// Perhaps change the class identifier name Gl to OpenGL?
</I>&gt;&gt;<i>*[CLSCompliant(*true*)]
</I>&gt;&gt;<i>*public* *sealed* *class* Gl {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>*    // Here, constants have the GL_ prefix removed and are converted to pascal casing
</I>&gt;&gt;<i>    public* *const* *int* DepthFunc = 0x00000b74;
</I>&gt;&gt;<i>    *public* *const* *int* Nicest = 0x00001102;
</I>&gt;&gt;<i>    *public* *const* *int* TextureGenS = 0x00000c60;
</I>&gt;&gt;<i>    *public* *const* *int* TextureGenQ = 0x00000c63;
</I>&gt;&gt;<i>    // ... more constants
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    *// For functions, remove the gl prefix and type-qualifier suffix because we now have method overloading to take care of it
</I>&gt;&gt;<i>*    [DllImport(/&quot;opengl32.dll&quot;/, EntryPoint=/&quot;glTexGenfv&quot;/), SuppressUnmanagedCodeSecurity, CLSCompliant(*true*)]
</I>&gt;&gt;<i>    *public* *static* *extern* *void* TexGen(*int* coord, *int* pname, *float*[] argParams);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    [DllImport(/&quot;opengl32.dll&quot;/, EntryPoint=/&quot;glTexGeni&quot;/), SuppressUnmanagedCodeSecurity, CLSCompliant(*true*)]
</I>&gt;&gt;<i>    *public* *static* *extern* *void* TexGen(*int* coord, *int* pname, *int* param);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    [DllImport(/&quot;opengl32.dll&quot;/, EntryPoint=/&quot;glTexGeniv&quot;/), SuppressUnmanagedCodeSecurity, CLSCompliant(*true*)]
</I>&gt;&gt;<i>    *public* *static* *extern* *void* TexGen(*int* coord, *int* pname, *ref* *int* argParams);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    // ... more functions
</I>&gt;&gt;<i>}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>The next step after that might involve grouping common constants into 
</I>&gt;&gt;<i>enumerations where it makes sense and updating the method signatures to 
</I>&gt;&gt;<i>use the enumerations. As an added bonus, with modern IDEs, this would 
</I>&gt;&gt;<i>greatly simplify working with Tao due to things like code completion.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>There are two downsides I can see from changing the naming conventions, 
</I>&gt;&gt;<i>and that is a) it no longer becomes as close of an OpenGL implementation 
</I>&gt;&gt;<i>as it used to be, and b) people will have to spend a bit of time getting 
</I>&gt;&gt;<i>used to the new identifier names. Concerning a), I think it is important 
</I>&gt;&gt;<i>to remember that OpenGL was first designed back in the day when the only 
</I>&gt;&gt;<i>real programming languages considered worthy of OpenGL implementation 
</I>&gt;&gt;<i>were C and Fortran. Things have changed since then, with new programming 
</I>&gt;&gt;<i>languages and new development environments, and so there's no reason to 
</I>&gt;&gt;<i>let Tao be subject to the &quot;old methods&quot;. And concerning b), I think that 
</I>&gt;&gt;<i>programmers would quickly adapt to the new naming style, and it would 
</I>&gt;&gt;<i>pay off in the long run.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Anyway, what are your thoughts on doing this?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Thanks.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>- Jesse Towner
</I>&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;<i>Tao-list mailing list
</I>&gt;&gt;<i><A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">Tao-list at lists.ximian.com</A>
</I>&gt;&gt;<i><A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">http://galactus.ximian.com/mailman/listinfo/tao-list</A>
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Tao-list mailing list
</I>&gt;<i><A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">Tao-list at lists.ximian.com</A>
</I>&gt;<i><A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">http://galactus.ximian.com/mailman/listinfo/tao-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>

-- 
Mark Ribau
Lead Windows Developer
Redbug Technologies, Inc.
www.redbugtech.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/tao-list/attachments/20051020/ef6626d7/attachment.html">http://lists.ximian.com/pipermail/tao-list/attachments/20051020/ef6626d7/attachment.html</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000213.html">[Tao-list] Naming Conventions and CLS Compliance
</A></li>
	<LI>Next message: <A HREF="000215.html">[Tao-list] Naming Conventions and CLS Compliance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#214">[ date ]</a>
              <a href="thread.html#214">[ thread ]</a>
              <a href="subject.html#214">[ subject ]</a>
              <a href="author.html#214">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
