<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] About animation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20About%20animation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000402.html">
   <LINK REL="Next"  HREF="000404.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] About animation</H1>
    <B>Jessy Kang</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20About%20animation&In-Reply-To="
       TITLE="[Tao-list] About animation">jessy.kang at gmail.com
       </A><BR>
    <I>Thu Mar 23 20:23:33 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000402.html">[Tao-list] Refresh(), Invalidate(),
	and Draw() in SimpleOpenGLControl
</A></li>
        <LI>Next message: <A HREF="000404.html">[Tao-list] About animation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#403">[ date ]</a>
              <a href="thread.html#403">[ thread ]</a>
              <a href="subject.html#403">[ subject ]</a>
              <a href="author.html#403">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi
I would like to confirm whether I am using the right method to do animations.
I am developing an animation by using C# and Tao. Instead of using
Glut idle call back, I use Windows timer, and force the
SimpleOpenGLControl to refresh in each time elapse. I set the timer
interval as 50. The result looks fine when animating simple objects. I
am wondering whether this method is a good method to do animations.

Any suggestion?

Here is the codes. It show a rotating triangle.

using System;
using System.Drawing;
using System.Collections;
using System.ComponentModel;
using System.Windows.Forms;
using System.Data;
using Tao.OpenGl;

namespace Animation
{
	/// &lt;summary&gt;
	/// Summary description for Form1.
	/// &lt;/summary&gt;
	public class Form1 : System.Windows.Forms.Form
	{
		private Tao.Platform.Windows.SimpleOpenGlControl simpleOpenGlControl1;
		private System.Timers.Timer timer1;
		private float rotateAngle=0f;

		/// &lt;summary&gt;
		/// Required designer variable.
		/// &lt;/summary&gt;
		private System.ComponentModel.Container components = null;

		public Form1()
		{
			//
			// Required for Windows Form Designer support
			//
			InitializeComponent();

			//
			// TODO: Add any constructor code after InitializeComponent call
			//
		}

		/// &lt;summary&gt;
		/// Clean up any resources being used.
		/// &lt;/summary&gt;
		protected override void Dispose( bool disposing )
		{
			if( disposing )
			{
				if (components != null)
				{
					components.Dispose();
				}
			}
			base.Dispose( disposing );
		}

		#region Windows Form Designer generated code
		/// &lt;summary&gt;
		/// Required method for Designer support - do not modify
		/// the contents of this method with the code editor.
		/// &lt;/summary&gt;
		private void InitializeComponent()
		{
			this.simpleOpenGlControl1 = new Tao.Platform.Windows.SimpleOpenGlControl();
			this.timer1 = new System.Timers.Timer();
			((System.ComponentModel.ISupportInitialize)(this.timer1)).BeginInit();
			this.SuspendLayout();
			//
			// simpleOpenGlControl1
			//
			this.simpleOpenGlControl1.AccumBits = ((System.Byte)(0));
			this.simpleOpenGlControl1.AutoCheckErrors = false;
			this.simpleOpenGlControl1.AutoFinish = false;
			this.simpleOpenGlControl1.AutoMakeCurrent = true;
			this.simpleOpenGlControl1.AutoSwapBuffers = true;
			this.simpleOpenGlControl1.BackColor = System.Drawing.Color.Black;
			this.simpleOpenGlControl1.ColorBits = ((System.Byte)(32));
			this.simpleOpenGlControl1.DepthBits = ((System.Byte)(16));
			this.simpleOpenGlControl1.Dock = System.Windows.Forms.DockStyle.Fill;
			this.simpleOpenGlControl1.Location = new System.Drawing.Point(0, 0);
			this.simpleOpenGlControl1.Name = &quot;simpleOpenGlControl1&quot;;
			this.simpleOpenGlControl1.Size = new System.Drawing.Size(512, 461);
			this.simpleOpenGlControl1.StencilBits = ((System.Byte)(0));
			this.simpleOpenGlControl1.TabIndex = 0;
			this.simpleOpenGlControl1.Load += new
System.EventHandler(this.simpleOpenGlControl1_Load);
			this.simpleOpenGlControl1.Paint += new
System.Windows.Forms.PaintEventHandler(this.simpleOpenGlControl1_Paint);
			//
			// timer1
			//
			this.timer1.Enabled = true;
			this.timer1.Interval = 50;
			this.timer1.SynchronizingObject = this;
			this.timer1.Elapsed += new
System.Timers.ElapsedEventHandler(this.timer1_Elapsed);
			//
			// Form1
			//
			this.AutoScaleBaseSize = new System.Drawing.Size(5, 15);
			this.ClientSize = new System.Drawing.Size(512, 461);
			this.Controls.Add(this.simpleOpenGlControl1);
			this.Name = &quot;Form1&quot;;
			this.Text = &quot;Animation&quot;;
			((System.ComponentModel.ISupportInitialize)(this.timer1)).EndInit();
			this.ResumeLayout(false);

		}
		#endregion

		/// &lt;summary&gt;
		/// The main entry point for the application.
		/// &lt;/summary&gt;
		[STAThread]
		static void Main()
		{
			Application.Run(new Form1());
		}

		private void simpleOpenGlControl1_Load(object sender,
										System.EventArgs e)
		{
			this.simpleOpenGlControl1.InitializeContexts();
		}

		private void simpleOpenGlControl1_Paint(object sender,
								System.Windows.Forms.PaintEventArgs e)
		{
			Gl.glClear(Gl.GL_COLOR_BUFFER_BIT| Gl.GL_DEPTH_BUFFER_BIT);
			Gl.glLoadIdentity();
			Gl.glRotatef(rotateAngle, 0f, 0f, 1f);
			Gl.glBegin(Gl.GL_TRIANGLES);
			Gl.glVertex2f(-0.5f, -0.5f);
			Gl.glVertex2f(0.5f, -0.5f);
			Gl.glVertex2f(0.0f, 0.5f);
			Gl.glEnd();
		}
		private void timer1_Elapsed(object sender,
			System.Timers.ElapsedEventArgs e)
		{
			rotateAngle++;
			this.simpleOpenGlControl1.Invalidate();
		}
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000402.html">[Tao-list] Refresh(), Invalidate(),
	and Draw() in SimpleOpenGLControl
</A></li>
	<LI>Next message: <A HREF="000404.html">[Tao-list] About animation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#403">[ date ]</a>
              <a href="thread.html#403">[ thread ]</a>
              <a href="subject.html#403">[ subject ]</a>
              <a href="author.html#403">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
