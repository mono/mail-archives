<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] 2.0rc2 / SVN HEAD Build system
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%202.0rc2%20/%20SVN%20HEAD%20Build%20system&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000598.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] 2.0rc2 / SVN HEAD Build system</H1>
    <B>Christopher Halse Rogers</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%202.0rc2%20/%20SVN%20HEAD%20Build%20system&In-Reply-To="
       TITLE="[Tao-list] 2.0rc2 / SVN HEAD Build system">chalserogers at gmail.com
       </A><BR>
    <I>Wed Apr 25 02:25:12 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000598.html">[Tao-list] Hello List! Need assist finishing up mac	osx	panther	config
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#599">[ date ]</a>
              <a href="thread.html#599">[ thread ]</a>
              <a href="subject.html#599">[ subject ]</a>
              <a href="author.html#599">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey list.

I'm trying to build some Tao 2.0rc2 packages for Debian.  The build
system in the release tarball seems to be broken in a couple of ways.
First, and easiest, none of the files have executable privileges, so
you need to &quot;chmod +x source/*.sh source/other/Prebuild/prebuild&quot;

Once I did that, I ran into some more serious problems.  The make.sh
script fails, with output as attached, presumably due to the strange
directories the autotools stuff goes in to
(src/Tao.Sdl/autotools/Tao.Sdl/, for example).  Fixing make.sh to look
in the right dirs doesn't fix it, it errors out with
&quot;&quot;&quot;
<A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">chris at Burninator</A>:~/Packaging/Debian/tao-2.0.0RC2/source$ ./make.sh
--prefix=/usrPrebuild v2.0.1
Copyright (c) Matthew Holmes, Dan Moorehead and David Hudson
See 'prebuild /usage' for help

~/Packaging/Debian/tao-2.0.0RC2/source/src/Tao.DevIl/autotools/Tao.DevIl
~/Packaging/Debian/tao-2.0.0RC2/source/src
configure:1961: error: possibly undefined macro: AC_PACKAGE_TARNAME
      If this token and others are legitimate, please use m4_pattern_allow.
      See the Autoconf documentation.
configure:1962: error: possibly undefined macro: AC_PACKAGE_VERSION
autoreconf: /usr/bin/autoconf failed with exit status: 1
&quot;&quot;&quot;
Instead.

Finally, it doesn't seem possible to build with nant either, since
there is no tao.build file in the source/ directory, and the
nantfiles.sh does not build one either.

Additionally, SVN HEAD appears to have a buggy version of Prebuild
bundled with it - the autotools target gives the following error:
Prebuild v2.0.2
Copyright (c) Matthew Holmes, Dan Moorehead and David Hudson
See 'prebuild /usage' for help

Unhandled error:        Object reference not set to an instance of an object
  at System.Xml.XmlInputStream.Initialize (System.IO.Stream stream) [0x00000]
  at System.Xml.XmlInputStream..ctor (System.IO.Stream stream) [0x00000]
  at (wrapper remoting-invoke-with-check)
System.Xml.XmlInputStream:.ctor (System.IO.Stream)
  at System.Xml.XmlStreamReader..ctor (System.IO.Stream input) [0x00000]
  at (wrapper remoting-invoke-with-check)
System.Xml.XmlStreamReader:.ctor (System.IO.Stream)
  at System.Xml.XmlTextReader..ctor (System.IO.Stream input,
System.Xml.XmlNameTable nt) [0x00000]
  at System.Xml.XmlDocument.Load (System.IO.Stream inStream) [0x00000]
  at Prebuild.Core.Targets.AutotoolsTarget.Write (Prebuild.Core.Kernel
kern) [0x00000]
  at Prebuild.Core.Kernel.Process () [0x00000]
  at Prebuild.Prebuild.Main (System.String[] args) [0x00000]

This same behaviour is seen with Prebuild from sourceforge.net SVN HEAD.

Are these issues known, and would Tao be interested in a straight
autotools build system, if I made one?

Thanks
Chris
-------------- next part --------------
A non-text attachment was scrubbed...
Name: makeoutput.log
Type: text/x-log
Size: 2172 bytes
Desc: not available
Url : <A HREF="http://galactus.ximian.com/pipermail/tao-list/attachments/20070425/dd63200d/attachment.bin">http://galactus.ximian.com/pipermail/tao-list/attachments/20070425/dd63200d/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000598.html">[Tao-list] Hello List! Need assist finishing up mac	osx	panther	config
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#599">[ date ]</a>
              <a href="thread.html#599">[ thread ]</a>
              <a href="subject.html#599">[ subject ]</a>
              <a href="author.html#599">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
