<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] RE: compiling fragment shaders in
	Tao:	glShaderSourceARB
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20RE%3A%20compiling%20fragment%20shaders%20in%0A%09Tao%3A%09glShaderSourceARB&In-Reply-To=1b420d380604111601i5817f189w89faf8836701537%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000431.html">
   <LINK REL="Next"  HREF="000434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] RE: compiling fragment shaders in
	Tao:	glShaderSourceARB</H1>
    <B>Eric Zeitler</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20RE%3A%20compiling%20fragment%20shaders%20in%0A%09Tao%3A%09glShaderSourceARB&In-Reply-To=1b420d380604111601i5817f189w89faf8836701537%40mail.gmail.com"
       TITLE="[Tao-list] RE: compiling fragment shaders in
	Tao:	glShaderSourceARB">ezeitler at psl.nmsu.edu
       </A><BR>
    <I>Wed Apr 12 09:55:21 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000431.html">[Tao-list] RE: compiling fragment shaders in Tao:
	glShaderSourceARB
</A></li>
        <LI>Next message: <A HREF="000434.html">[Tao-list] RE: compiling fragment shaders in Tao:
	glShaderSourceARB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#432">[ date ]</a>
              <a href="thread.html#432">[ thread ]</a>
              <a href="subject.html#432">[ subject ]</a>
              <a href="author.html#432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The reason is the GL assumes there is space to write that string data 
to.  Here is what I've created to extract the info log using the OpenGL 
2.0 shader objects, there is a similar routine for the program objects 
(basically s/Shader/Program/g).

            int success, maxLength, length;
            Gl.glGetShaderiv(handle, (int)status, out success);
            OpenGLException.ThrowErrors();

            Gl.glGetShaderiv(handle, Gl.GL_INFO_LOG_LENGTH, out maxLength);
            OpenGLException.ThrowErrors();

            string infoLog = null;
            IntPtr infoLogPtr = Marshal.AllocHGlobal(maxLength * 
Marshal.SizeOf(typeof(byte)) + 1);           
            Gl.glGetShaderInfoLog((int)handle, maxLength, out length, 
infoLogPtr);
            infoLog = Marshal.PtrToStringAnsi(infoLogPtr);

none none wrote:
&gt;<i> sorry for asking more silly little questions but I'm new to c# and
</I>&gt;<i> easily confused. How does glGetInfoLogARB work in Tao? currently i do
</I>&gt;<i> this:
</I>&gt;<i>
</I>&gt;<i> int datasize = 0;
</I>&gt;<i> Gl.glGetObjectParameterivARB(handle, Gl.GL_OBJECT_INFO_LOG_LENGTH_ARB,
</I>&gt;<i> out datasize);
</I>&gt;<i> System.IntPtr data = default(IntPtr);
</I>&gt;<i> Gl.glGetInfoLogARB(handle, datasize, null, data);
</I>&gt;<i>
</I>&gt;<i> but it crashes.
</I>&gt;<i>
</I>&gt;<i> Thanks for putting up with my questions so far :)
</I>&gt;<i>
</I>&gt;<i> Alex
</I>&gt;<i>
</I>&gt;<i> On 11/04/06, Foole &lt;<A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">fooleau at gmail.com</A>&gt; wrote:
</I>&gt;<i>   
</I>&gt;&gt;&gt;<i> I'm slightly confused as to how glShaderSourceARB works in Tao. can
</I>&gt;&gt;&gt;<i> someone explain it, or point me to the place where some documentation
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> or examples exists? I tried &quot;make docs&quot; in my copy of the tao
</I>&gt;&gt;&gt;<i> repository but that failed, and i cant find any example code that uses
</I>&gt;&gt;&gt;<i> it.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Since the third argument is just a reference to a string and not an
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> array of strings is the fourth argument unused or what?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> A short example:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         // Type should be Gl.GL_VERTEX_SHADER_ARB or
</I>&gt;&gt;<i> Gl.GL_FRAGMENT_SHADER_ARB
</I>&gt;&gt;<i>         int CreateShader(int Type, string Program)
</I>&gt;&gt;<i>         {
</I>&gt;&gt;<i>             int handle = Gl.glCreateShaderObjectARB(Type);
</I>&gt;&gt;<i>             Gl.glShaderSourceARB(handle, 1, ref Program, null);
</I>&gt;&gt;<i>             Gl.glCompileShaderARB(handle);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>             return handle;
</I>&gt;&gt;<i>         }
</I>&gt;&gt;<i>  Hope that helps.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Foole
</I>&gt;&gt;<i> <A HREF="http://irrlichtsharp.sourceforge.net/">http://irrlichtsharp.sourceforge.net/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Tao-list mailing list
</I>&gt;&gt;<i> <A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">Tao-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">http://galactus.ximian.com/mailman/listinfo/tao-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     
</I>&gt;&gt;<i> ------------------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Tao-list mailing list
</I>&gt;&gt;<i> <A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">Tao-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">http://galactus.ximian.com/mailman/listinfo/tao-list</A>
</I>&gt;&gt;<i>     
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000431.html">[Tao-list] RE: compiling fragment shaders in Tao:
	glShaderSourceARB
</A></li>
	<LI>Next message: <A HREF="000434.html">[Tao-list] RE: compiling fragment shaders in Tao:
	glShaderSourceARB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#432">[ date ]</a>
              <a href="thread.html#432">[ thread ]</a>
              <a href="subject.html#432">[ subject ]</a>
              <a href="author.html#432">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
