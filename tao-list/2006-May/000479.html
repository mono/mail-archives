<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] Ilasm'd Wgl methods not preserving LastError status
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Ilasm%27d%20Wgl%20methods%20not%20preserving%20LastError%20status&In-Reply-To=1148882739.7654.8.camel%40localhost">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000478.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] Ilasm'd Wgl methods not preserving LastError status</H1>
    <B>Eric Zeitler</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Ilasm%27d%20Wgl%20methods%20not%20preserving%20LastError%20status&In-Reply-To=1148882739.7654.8.camel%40localhost"
       TITLE="[Tao-list] Ilasm'd Wgl methods not preserving LastError status">ezeitler at psl.nmsu.edu
       </A><BR>
    <I>Tue May 30 18:18:50 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000478.html">[Tao-list] No hardware acceleration under Linux / Mono
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#479">[ date ]</a>
              <a href="thread.html#479">[ thread ]</a>
              <a href="subject.html#479">[ subject ]</a>
              <a href="author.html#479">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> Hello, I've been playing around with some of the Wgl trying to get 
PBuffers working and noticed that the LastError status is not preserved 
when calling the ILasm generated Wgl extension methods (am seeing error 
messages of &quot;access denied&quot; when the PBuffer method only has &quot;invalid 
handle&quot;).

 When a method is PInvoked and DllImport(SetLastError=true) attribute is 
set, the CLR will preserve values for GetLastError before it internally 
calls other methods that may set this, so I tried to set it using 
Ildasm. I tried to see if there is some common code I can push into the 
IlasmAttribute of the Wgl extension methods, but the generated assembly 
of the two look completely different and the Gl extensions don't ever 
enable SetLastError so no help there.

 If anyone who knows MSIL can dig into this it'd be appreciated.

 On a sidenote, I've had to add a few extensions that aren't in the 
repository and really miss the automatic codegen that Gl gets, maybe Wgl 
is a candidate for the same treatment as well.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000478.html">[Tao-list] No hardware acceleration under Linux / Mono
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#479">[ date ]</a>
              <a href="thread.html#479">[ thread ]</a>
              <a href="subject.html#479">[ subject ]</a>
              <a href="author.html#479">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
