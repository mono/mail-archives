<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Tao-list] Printing a screenshot
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Printing%20a%20screenshot&In-Reply-To=39b0cfd60605121607j23eb4750p6c871524dbafb8c9%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000470.html">
   <LINK REL="Next"  HREF="000472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tao-list] Printing a screenshot</H1>
    <B>Jordan Sparks</B> 
    <A HREF="mailto:tao-list%40lists.ximian.com?Subject=%5BTao-list%5D%20Printing%20a%20screenshot&In-Reply-To=39b0cfd60605121607j23eb4750p6c871524dbafb8c9%40mail.gmail.com"
       TITLE="[Tao-list] Printing a screenshot">jsparks at free-dental.com
       </A><BR>
    <I>Fri May 12 19:31:56 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000470.html">[Tao-list] Printing a screenshot
</A></li>
        <LI>Next message: <A HREF="000472.html">[Tao-list] CgGL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#471">[ date ]</a>
              <a href="thread.html#471">[ thread ]</a>
              <a href="subject.html#471">[ subject ]</a>
              <a href="author.html#471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> Thanks. That's very useful.  I also just discovered
Graphics.CopyFromScreen(), which must be new in .NET 2.0, because I've never
seen it before.  Very handy and fast.


Jordan Sparks

-----Original Message-----
From: <A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">tao-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">tao-list-bounces at lists.ximian.com</A>] On Behalf Of Alexander
Kolliopoulos
Sent: Friday, May 12, 2006 4:07 PM
To: <A HREF="http://galactus.ximian.com/mailman/listinfo/tao-list">tao-list at lists.ximian.com</A>
Subject: Re: [Tao-list] Printing a screenshot

Hi Jordan, I have been using the following method to make screenshots.
The Scan0 member of a Bitmap is really a pointer to its pixel data, so
you can use it as an argument to glReadPixels without unsafe code. The
Width and Height properties are defined in my class, you might want to
pass them in as parameters instead. I hope this helps.

-Alex


public Bitmap CopyColorBuffer()
{
    Bitmap bitmap = new Bitmap(Width, Height);
    BitmapData bitmapData = bitmap.LockBits(new Rectangle(0, 0,
bitmap.Width, bitmap.Height),
        System.Drawing.Imaging.ImageLockMode.WriteOnly,
        System.Drawing.Imaging.PixelFormat.Format24bppRgb);

    Gl.glReadPixels(0, 0, bitmap.Width, bitmap.Height, Gl.GL_BGR_EXT,
Gl.GL_UNSIGNED_BYTE, bitmapData.Scan0);

    bitmap.UnlockBits(bitmapData);
    bitmap.RotateFlip(RotateFlipType.RotateNoneFlipY);

    return bitmap;
}

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000470.html">[Tao-list] Printing a screenshot
</A></li>
	<LI>Next message: <A HREF="000472.html">[Tao-list] CgGL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#471">[ date ]</a>
              <a href="thread.html#471">[ thread ]</a>
              <a href="subject.html#471">[ subject ]</a>
              <a href="author.html#471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://galactus.ximian.com/mailman/listinfo/tao-list">More information about the Tao-list
mailing list</a><br>
</body></html>
