<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] g_signal_connect and passing data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:olafandjasper%40hushmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001619.html">
   <LINK REL="Next"  HREF="001621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] g_signal_connect and passing data
   </H1>
    <B>olafandjasper@hushmail.com
    </B> 
    <A HREF="mailto:olafandjasper%40hushmail.com"
       TITLE="[Glade-users] g_signal_connect and passing data">olafandjasper@hushmail.com
       </A><BR>
    <I>Thu, 30 Oct 2003 11:19:34 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="001619.html">[Glade-users] how to add a library
</A></li>
        <LI> Next message: <A HREF="001621.html">[Glade-users] g_signal_connect and passing data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1620">[ date ]</a>
              <a href="thread.html#1620">[ thread ]</a>
              <a href="subject.html#1620">[ subject ]</a>
              <a href="author.html#1620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello:
BTW: I am using C.
I am having a problem printing out the data I pass to a callback function.
 I am using the g_signal_connect. The function is getting
called and if I hard code the data it prints just FINE, but I can't.

Here is my stuff:

1. This is the struct holding the data:
  typedef struct my_paths {
     char bin[1000];
     char doc[1000];
  } MY_PATHS;

2. This is a chunk of the code that sets up the callback:

  MY_PATHS       mydata;

  strcpy(mydata.bin,&quot;TESTING&quot;);
  printf(&quot;Data is &lt;%s&gt; before callback activated\n&quot;,mydata.bin);
  printf(&quot;Data is at %p before callback activated\n&quot;,mydata);

  g_signal_connect(G_OBJECT (tableCells[r][6]),
                   &quot;button_press_event&quot;,
                   G_CALLBACK (selectActionBin),
                   (gpointer) &amp;mydata);

3. This is the callback function
void selectActionBin(MY_PATHS    *data)
{
    printf(&quot;In CB, data = &lt;%s&gt;\n&quot;,data-&gt;bin);
    printf(&quot;In CB, data is at %p\n&quot;, data);
    printf(&quot;In CB, data is at %p\n&quot;, &amp;data);
                                                                    
           
    gtk_widget_show (selectDialog_window); &lt;--- This shows up as expected.
                                                                    
           
}

4. Finally, this is the output.
  ./testIt
  ---- The following prints out from #2 above
  Data is &lt;TESTING&gt; before callback activated
  Data is at 0x504f4f50 before callback activated

  ---- The following prints out from #3 above
  In CB, data = &lt;&gt;          &lt;---- I want to see my data here :{
  In CB, data is at 0x80b2a30
  In CB, data is at 0xbfffeb40



BTW, the following data prints out in the CB function, given the type
of data is changed to char *data.
          g_signal_connect(G_OBJECT (tableCells[r][6]),
                          &quot;button_press_event&quot;,
                          G_CALLBACK (selectActionBin),
                          &quot;POOP&quot;);
Any help would be apprecited.
O



Concerned about your privacy? Follow this link to get
FREE encrypted email: <A HREF="https://www.hushmail.com/?l=2">https://www.hushmail.com/?l=2</A>

Free, ultra-private instant messaging with Hush Messenger
<A HREF="https://www.hushmail.com/services.php?subloc=messenger&l=434">https://www.hushmail.com/services.php?subloc=messenger&amp;l=434</A>

Promote security and make money with the Hushmail Affiliate Program: 
<A HREF="https://www.hushmail.com/about.php?subloc=affiliate&l=427">https://www.hushmail.com/about.php?subloc=affiliate&amp;l=427</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001619.html">[Glade-users] how to add a library
</A></li>
	<LI> Next message: <A HREF="001621.html">[Glade-users] g_signal_connect and passing data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1620">[ date ]</a>
              <a href="thread.html#1620">[ thread ]</a>
              <a href="subject.html#1620">[ subject ]</a>
              <a href="author.html#1620">[ author ]</a>
         </LI>
       </UL>
</body></html>
