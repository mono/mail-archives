<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Gtk Curve problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:odiliscia%40unq.edu.ar">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001149.html">
   <LINK REL="Next"  HREF="001153.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Gtk Curve problem
   </H1>
    <B>Oscar Pablo Di Liscia
    </B> 
    <A HREF="mailto:odiliscia%40unq.edu.ar"
       TITLE="[Glade-users] Gtk Curve problem">odiliscia@unq.edu.ar
       </A><BR>
    <I>Tue, 18 Feb 2003 12:34:57 -0300</I>
    <P><UL>
        <LI> Previous message: <A HREF="001149.html">[Glade-users] Modal Screens
</A></li>
        <LI> Next message: <A HREF="001153.html">[Glade-users] Gtk Curve problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1150">[ date ]</a>
              <a href="thread.html#1150">[ thread ]</a>
              <a href="subject.html#1150">[ subject ]</a>
              <a href="author.html#1150">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--0218-1234-57-PART-BREAK
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;
Content-Transfer-Encoding: 8bit

Thanks for your help.
I have been looking at the GTK code (gtkcurve.c and 
gtkcurve.h) and I think I could find out where the problem
is and fixed it. I have just made a copy of the object 
called &quot;gtk_my_curve&quot; and correct it. I send you attached 
at this message the code just in case some of you wants to 
know what´s up and/or use it. Fortunately, the solution was 
very simple (it is commented on the gtk_my_curve.c file).
I have used this code and seems to be OK.
Am I to send it to the GTK developer team...???
Most cordially.

Prof. Oscar Pablo Di Liscia
Director
Carrera de Composición con Medios Electroacústicos
Universidad Nacional de Quilmes
<A HREF="http://www.unq.edu.ar/cme/personales/odiliscia">http://www.unq.edu.ar/cme/personales/odiliscia</A>
Te. 4365-7119 / 7122
FAX 4365-7120
Roque Saenz Peña 180
1876 - Bernal (Provincia de Buenos Aires)
Argentina


-----Original Message-----
From: Damon Chaplin &lt;<A HREF="mailto:damon@karuna.uklinux.net">damon@karuna.uklinux.net</A>&gt;
To: Oscar Pablo Di Liscia &lt;<A HREF="mailto:odiliscia@unq.edu.ar">odiliscia@unq.edu.ar</A>&gt;
Cc: &quot;<A HREF="mailto:glade-users@ximian.com">glade-users@ximian.com</A>&quot; &lt;<A HREF="mailto:glade-users@ximian.com">glade-users@ximian.com</A>&gt;
Date: 30 Jan 2003 18:36:33 +0000
Subject: Re: [Glade-users] Gtk Curve problem

&gt;<i> On Tue, 2003-01-28 at 17:50, Oscar Pablo Di Liscia wrote:
</I>&gt;<i> &gt; Hi all:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I am using the gtk_gamma_curve Widget and each time I
</I>&gt;<i> run 
</I>&gt;<i> &gt; my program I get the following error:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Glib-Error: Could not allocate -20 bytes
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I get also the same error that I get using the
</I>&gt;<i> gtk_curve 
</I>&gt;<i> &gt; (instead of the gamma) and attempting to change the
</I>&gt;<i> curve 
</I>&gt;<i> &gt; type (using the gtk_curve_change_type) to
</I>&gt;<i> GTK_CURVE_LINEAR.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I know that gtk_curve and gtk_gamma_curve are not
</I>&gt;<i> Widgets 
</I>&gt;<i> &gt; widely used, but anyway may be most handy for my
</I>&gt;<i> purpouses. 
</I>&gt;<i> &gt; Any help on this will be most appreciated.
</I>&gt;<i> &gt; Most cordially
</I>&gt;<i> 
</I>&gt;<i> Yes, this is a known problem with GtkCurve. In fact I
</I>&gt;<i> removed the Type
</I>&gt;<i> property in recent versions of Glade to avoid it.
</I>&gt;<i> 
</I>&gt;<i> There may be a way to work around the problem, e.g. by
</I>&gt;<i> making sure you
</I>&gt;<i> set a certain vector of points before changing the curve
</I>&gt;<i> type. But I'm
</I>&gt;<i> not sure.
</I>&gt;<i> 
</I>&gt;<i> Damon
</I>&gt;<i> 
</I>--0218-1234-57-PART-BREAK
Content-Type: application/octet-stream
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename=&quot;my_curve.c&quot;

LyoNCm15X2N1cnZlLmMNCk9zY2FyIFBhYmxvIERpIExpc2NpYSAob2RpbGlzY2lhQHVucS5lZHUu
YXIpDQpOLkIuOiBUaGUgR3RrX015X0N1cnZlIFdpZGdldCBpcyBvbmx5IGFuICJhbGlhcyIgb2Yg
dGhlIG9yaWdpbmFsIEd0a19DdXJ2ZSBvbmUgYnkgdGhlIEdJTVAgVGVhbS4NCkkgYW0ganVzdCB0
cnlpbmcgdG8gZml4IHNvbWUgYnVncyBvZiBpdC4uLg0KU2VlIHRoZSBndGtfbXlfY3VydmVfY2hh
bmdlX3R5cGUgZnVuY3Rpb24uDQoqLw0KDQovKlVOQ09NTUVOVCBUSElTIFRPIE1BS0UgVU5ERVIg
V0lORE9XUyovDQojaW5jbHVkZSAibWF0aC5oIg0KLypDT01NRU5UIFRIRVNFIFRPIE1BS0UgVU5E
RVIgV0lORE9XUyovDQovLyNpbmNsdWRlIDxzdHJpbmcuaD4JDQovLyNpbmNsdWRlIDxlcnJuby5o
Pg0KLy8jaW5jbHVkZSA8c3RkbGliLmg+DQovLyNpbmNsdWRlIDxtYXRoLmg+DQovL1RIRVNFIEZP
VVIgQVJFIENPTU1PTg0KI2luY2x1ZGUgPHN0ZGlvLmg+DQojaW5jbHVkZSA8c3lzL3N0YXQuaD4N
CiNpbmNsdWRlIDxzeXMvdHlwZXMuaD4NCiNpbmNsdWRlIDx1bmlzdGQuaD4NCiNpbmNsdWRlIDxn
dGsvZ3RrLmg+DQoNCiNpbmNsdWRlICJteV9jdXJ2ZS5oIg0KDQojZGVmaW5lIFJBRElVUwkJMwkv
KiByYWRpdXMgb2YgdGhlIGNvbnRyb2wgcG9pbnRzICovDQojZGVmaW5lIE1JTl9ESVNUQU5DRQk4
CS8qIG1pbiBkaXN0YW5jZSBiZXR3ZWVuIGNvbnRyb2wgcG9pbnRzICovDQoNCiNkZWZpbmUgR1JB
UEhfTUFTSwkoR0RLX0VYUE9TVVJFX01BU0sgfAkJXA0KCQkJIEdES19QT0lOVEVSX01PVElPTl9N
QVNLIHwJXA0KCQkJIEdES19QT0lOVEVSX01PVElPTl9ISU5UX01BU0sgfAlcDQoJCQkgR0RLX0VO
VEVSX05PVElGWV9NQVNLIHwJXA0KCQkJIEdES19CVVRUT05fUFJFU1NfTUFTSyB8CVwNCgkJCSBH
REtfQlVUVE9OX1JFTEVBU0VfTUFTSyB8CVwNCgkJCSBHREtfQlVUVE9OMV9NT1RJT05fTUFTSykN
Cg0KZW51bSB7DQogIEFSR18wLA0KICBBUkdfQ1VSVkVfVFlQRSwNCiAgQVJHX01JTl9YLA0KICBB
UkdfTUFYX1gsDQogIEFSR19NSU5fWSwNCiAgQVJHX01BWF9ZDQp9Ow0KDQpzdGF0aWMgR3RrRHJh
d2luZ0FyZWFDbGFzcyAqcGFyZW50X2NsYXNzID0gTlVMTDsNCnN0YXRpYyBndWludCBjdXJ2ZV90
eXBlX2NoYW5nZWRfc2lnbmFsID0gMDsNCg0KDQovKiBmb3J3YXJkIGRlY2xhcmF0aW9uczogKi8N
CnN0YXRpYyB2b2lkIGd0a19teV9jdXJ2ZV9jbGFzc19pbml0ICAgKEd0a015Q3VydmVDbGFzcyAq
Y2xhc3MpOw0Kc3RhdGljIHZvaWQgZ3RrX215X2N1cnZlX2luaXQgICAgICAgICAoR3RrTXlDdXJ2
ZSAgICAgICpjdXJ2ZSk7DQpzdGF0aWMgdm9pZCBndGtfbXlfY3VydmVfc2V0X2FyZyAgICAgKEd0
a09iamVjdCAgICAgICpvYmplY3QsDQoJCQkJICAgR3RrQXJnICAgICAgICAgKmFyZywNCgkJCQkg
ICBndWludCAgICAgICAgICAgYXJnX2lkKTsNCnN0YXRpYyB2b2lkIGd0a19teV9jdXJ2ZV9nZXRf
YXJnICAgICAoR3RrT2JqZWN0ICAgICAgKm9iamVjdCwNCgkJCQkgICBHdGtBcmcgICAgICAgICAq
YXJnLA0KCQkJCSAgIGd1aW50ICAgICAgICAgICBhcmdfaWQpOw0Kc3RhdGljIHZvaWQgZ3RrX215
X2N1cnZlX2ZpbmFsaXplICAgICAoR3RrT2JqZWN0ICAgICAqb2JqZWN0KTsNCnN0YXRpYyBnaW50
IGd0a19teV9jdXJ2ZV9ncmFwaF9ldmVudHMgKEd0a1dpZGdldCAgICAgKndpZGdldCwgDQoJCQkJ
ICAgIEdka0V2ZW50ICAgICAgKmV2ZW50LCANCgkJCQkgICAgR3RrTXlDdXJ2ZSAgICAgICpjKTsN
CnN0YXRpYyB2b2lkIGd0a19teV9jdXJ2ZV9zaXplX2dyYXBoICAgKEd0a015Q3VydmUgICAgICAq
Y3VydmUpOw0KDQpHdGtUeXBlDQpndGtfbXlfY3VydmVfZ2V0X3R5cGUgKHZvaWQpDQp7DQogIHN0
YXRpYyBHdGtUeXBlIGN1cnZlX3R5cGUgPSAwOw0KDQogIGlmICghY3VydmVfdHlwZSkNCiAgICB7
DQogICAgICBzdGF0aWMgY29uc3QgR3RrVHlwZUluZm8gbXlfY3VydmVfaW5mbyA9DQogICAgICB7
DQoJIkd0a015Q3VydmUiLA0KCXNpemVvZiAoR3RrTXlDdXJ2ZSksDQoJc2l6ZW9mIChHdGtNeUN1
cnZlQ2xhc3MpLA0KCShHdGtDbGFzc0luaXRGdW5jKSBndGtfbXlfY3VydmVfY2xhc3NfaW5pdCwN
CgkoR3RrT2JqZWN0SW5pdEZ1bmMpIGd0a19teV9jdXJ2ZV9pbml0LA0KCS8qIHJlc2VydmVkXzEg
Ki8gTlVMTCwNCiAgICAgICAgLyogcmVzZXJ2ZWRfMiAqLyBOVUxMLA0KICAgICAgICAoR3RrQ2xh
c3NJbml0RnVuYykgTlVMTCwNCiAgICAgIH07DQoNCiAgICAgIGN1cnZlX3R5cGUgPSBndGtfdHlw
ZV91bmlxdWUgKEdUS19UWVBFX0RSQVdJTkdfQVJFQSwgJm15X2N1cnZlX2luZm8pOw0KICAgIH0N
CiAgcmV0dXJuIGN1cnZlX3R5cGU7DQp9DQoNCnN0YXRpYyB2b2lkDQpndGtfbXlfY3VydmVfY2xh
c3NfaW5pdCAoR3RrTXlDdXJ2ZUNsYXNzICpjbGFzcykNCnsNCiAgR3RrT2JqZWN0Q2xhc3MgKm9i
amVjdF9jbGFzczsNCiAgDQogIHBhcmVudF9jbGFzcyA9IGd0a190eXBlX2NsYXNzIChHVEtfVFlQ
RV9EUkFXSU5HX0FSRUEpOw0KICANCiAgb2JqZWN0X2NsYXNzID0gKEd0a09iamVjdENsYXNzICop
IGNsYXNzOw0KICANCiAgb2JqZWN0X2NsYXNzLT5zZXRfYXJnID0gZ3RrX215X2N1cnZlX3NldF9h
cmc7DQogIG9iamVjdF9jbGFzcy0+Z2V0X2FyZyA9IGd0a19teV9jdXJ2ZV9nZXRfYXJnOw0KICBv
YmplY3RfY2xhc3MtPmZpbmFsaXplID0gZ3RrX215X2N1cnZlX2ZpbmFsaXplOw0KICANCiAgY3Vy
dmVfdHlwZV9jaGFuZ2VkX3NpZ25hbCA9DQogICAgZ3RrX3NpZ25hbF9uZXcgKCJjdXJ2ZV90eXBl
X2NoYW5nZWQiLCBHVEtfUlVOX0ZJUlNULCBvYmplY3RfY2xhc3MtPnR5cGUsDQoJCSAgICBHVEtf
U0lHTkFMX09GRlNFVCAoR3RrTXlDdXJ2ZUNsYXNzLCBjdXJ2ZV90eXBlX2NoYW5nZWQpLA0KCQkg
ICAgZ3RrX21hcnNoYWxfTk9ORV9fTk9ORSwgR1RLX1RZUEVfTk9ORSwgMCk7DQogIGd0a19vYmpl
Y3RfY2xhc3NfYWRkX3NpZ25hbHMgKG9iamVjdF9jbGFzcywgJmN1cnZlX3R5cGVfY2hhbmdlZF9z
aWduYWwsIDEpOw0KICANCiAgZ3RrX29iamVjdF9hZGRfYXJnX3R5cGUgKCJHdGtNeUN1cnZlOjpj
dXJ2ZV90eXBlIiwgR1RLX1RZUEVfTVlfQ1VSVkUsDQoJCQkgICBHVEtfQVJHX1JFQURXUklURSwg
QVJHX0NVUlZFX1RZUEUpOw0KICBndGtfb2JqZWN0X2FkZF9hcmdfdHlwZSAoIkd0a015Q3VydmU6
Om1pbl94IiwgR1RLX1RZUEVfRkxPQVQsDQoJCQkgICBHVEtfQVJHX1JFQURXUklURSwgQVJHX01J
Tl9YKTsNCiAgZ3RrX29iamVjdF9hZGRfYXJnX3R5cGUgKCJHdGtNeUN1cnZlOjptYXhfeCIsIEdU
S19UWVBFX0ZMT0FULA0KCQkJICAgR1RLX0FSR19SRUFEV1JJVEUsIEFSR19NQVhfWCk7DQogIGd0
a19vYmplY3RfYWRkX2FyZ190eXBlICgiR3RrTXlDdXJ2ZTo6bWluX3kiLCBHVEtfVFlQRV9GTE9B
VCwNCgkJCSAgIEdUS19BUkdfUkVBRFdSSVRFLCBBUkdfTUlOX1kpOw0KICBndGtfb2JqZWN0X2Fk
ZF9hcmdfdHlwZSAoIkd0a015Q3VydmU6Om1heF95IiwgR1RLX1RZUEVfRkxPQVQsDQoJCQkgICBH
VEtfQVJHX1JFQURXUklURSwgQVJHX01BWF9ZKTsNCn0NCg0Kc3RhdGljIHZvaWQNCmd0a19teV9j
dXJ2ZV9pbml0IChHdGtDdXJ2ZSAqbXlfY3VydmUpDQp7DQogIGdpbnQgb2xkX21hc2s7DQoNCiAg
bXlfY3VydmUtPmN1cnNvcl90eXBlID0gR0RLX1RPUF9MRUZUX0FSUk9XOw0KICBteV9jdXJ2ZS0+
cGl4bWFwID0gTlVMTDsNCiAgbXlfY3VydmUtPmN1cnZlX3R5cGUgPSBHVEtfQ1VSVkVfVFlQRV9T
UExJTkU7DQogIG15X2N1cnZlLT5oZWlnaHQgPSAwOw0KICBteV9jdXJ2ZS0+Z3JhYl9wb2ludCA9
IC0xOw0KDQogIG15X2N1cnZlLT5udW1fcG9pbnRzID0gMDsNCiAgbXlfY3VydmUtPnBvaW50ID0g
MDsgDQoNCiAgbXlfY3VydmUtPm51bV9jdGxwb2ludHMgPSAwOw0KICBteV9jdXJ2ZS0+Y3RscG9p
bnQgPSBOVUxMOw0KDQogIG15X2N1cnZlLT5taW5feCA9IDAuMDsNCiAgbXlfY3VydmUtPm1heF94
ID0gMS4wOw0KICBteV9jdXJ2ZS0+bWluX3kgPSAwLjA7DQogIG15X2N1cnZlLT5tYXhfeSA9IDEu
MDsNCg0KICBvbGRfbWFzayA9IGd0a193aWRnZXRfZ2V0X2V2ZW50cyAoR1RLX1dJREdFVCAobXlf
Y3VydmUpKTsNCiAgZ3RrX3dpZGdldF9zZXRfZXZlbnRzIChHVEtfV0lER0VUIChteV9jdXJ2ZSks
IG9sZF9tYXNrIHwgR1JBUEhfTUFTSyk7DQogIGd0a19zaWduYWxfY29ubmVjdCAoR1RLX09CSkVD
VCAobXlfY3VydmUpLCAiZXZlbnQiLA0KCQkgICAgICAoR3RrU2lnbmFsRnVuYykgZ3RrX215X2N1
cnZlX2dyYXBoX2V2ZW50cywgbXlfY3VydmUpOw0KICBndGtfbXlfY3VydmVfc2l6ZV9ncmFwaCAo
bXlfY3VydmUpOw0KfQ0KDQpzdGF0aWMgdm9pZA0KZ3RrX215X2N1cnZlX3NldF9hcmcgKEd0a09i
amVjdCAqb2JqZWN0LA0KCQkgICBHdGtBcmcgICAgKmFyZywNCgkJICAgZ3VpbnQgICAgICBhcmdf
aWQpDQp7DQogIEd0a015Q3VydmUgKm15X2N1cnZlID0gR1RLX01ZX0NVUlZFIChvYmplY3QpOw0K
ICANCiAgc3dpdGNoIChhcmdfaWQpDQogICAgew0KICAgIGNhc2UgQVJHX0NVUlZFX1RZUEU6DQog
ICAgICBndGtfbXlfY3VydmVfc2V0X2N1cnZlX3R5cGUgKG15X2N1cnZlLCBHVEtfVkFMVUVfRU5V
TSAoKmFyZykpOw0KICAgICAgYnJlYWs7DQogICAgY2FzZSBBUkdfTUlOX1g6DQogICAgICBndGtf
bXlfY3VydmVfc2V0X3JhbmdlIChteV9jdXJ2ZSwgR1RLX1ZBTFVFX0ZMT0FUICgqYXJnKSwgbXlf
Y3VydmUtPm1heF94LA0KCQkJICAgbXlfY3VydmUtPm1pbl95LCBteV9jdXJ2ZS0+bWF4X3kpOw0K
ICAgICAgYnJlYWs7DQogICAgY2FzZSBBUkdfTUFYX1g6DQogICAgICBndGtfbXlfY3VydmVfc2V0
X3JhbmdlIChteV9jdXJ2ZSwgbXlfY3VydmUtPm1pbl94LCBHVEtfVkFMVUVfRkxPQVQgKCphcmcp
LA0KCQkJICAgbXlfY3VydmUtPm1pbl95LCBteV9jdXJ2ZS0+bWF4X3kpOw0KICAgICAgYnJlYWs7
CQ0KICAgIGNhc2UgQVJHX01JTl9ZOg0KICAgICAgZ3RrX215X2N1cnZlX3NldF9yYW5nZSAobXlf
Y3VydmUsIG15X2N1cnZlLT5taW5feCwgbXlfY3VydmUtPm1heF94LA0KCQkJICAgR1RLX1ZBTFVF
X0ZMT0FUICgqYXJnKSwgbXlfY3VydmUtPm1heF95KTsNCiAgICAgIGJyZWFrOw0KICAgIGNhc2Ug
QVJHX01BWF9ZOg0KICAgICAgZ3RrX215X2N1cnZlX3NldF9yYW5nZSAobXlfY3VydmUsIG15X2N1
cnZlLT5taW5feCwgbXlfY3VydmUtPm1heF94LA0KCQkJICAgbXlfY3VydmUtPm1pbl95LCBHVEtf
VkFMVUVfRkxPQVQgKCphcmcpKTsNCiAgICAgIGJyZWFrOw0KICAgIH0NCn0NCg0Kc3RhdGljIHZv
aWQNCmd0a19teV9jdXJ2ZV9nZXRfYXJnIChHdGtPYmplY3QgKm9iamVjdCwNCgkJICAgR3RrQXJn
ICAgICphcmcsDQoJCSAgIGd1aW50ICAgICAgYXJnX2lkKQ0Kew0KICBHdGtNeUN1cnZlICpteV9j
dXJ2ZSA9IEdUS19NWV9DVVJWRSAob2JqZWN0KTsNCg0KICBzd2l0Y2ggKGFyZ19pZCkNCiAgICB7
DQogICAgY2FzZSBBUkdfQ1VSVkVfVFlQRToNCiAgICAgIEdUS19WQUxVRV9FTlVNICgqYXJnKSA9
IG15X2N1cnZlLT5jdXJ2ZV90eXBlOw0KICAgICAgYnJlYWs7DQogICAgY2FzZSBBUkdfTUlOX1g6
DQogICAgICBHVEtfVkFMVUVfRkxPQVQgKCphcmcpID0gbXlfY3VydmUtPm1pbl94Ow0KICAgICAg
YnJlYWs7DQogICAgY2FzZSBBUkdfTUFYX1g6DQogICAgICBHVEtfVkFMVUVfRkxPQVQgKCphcmcp
ID0gbXlfY3VydmUtPm1heF94Ow0KICAgICAgYnJlYWs7DQogICAgY2FzZSBBUkdfTUlOX1k6DQog
ICAgICBHVEtfVkFMVUVfRkxPQVQgKCphcmcpID0gbXlfY3VydmUtPm1pbl95Ow0KICAgICAgYnJl
YWs7DQogICAgY2FzZSBBUkdfTUFYX1k6DQogICAgICBHVEtfVkFMVUVfRkxPQVQgKCphcmcpID0g
bXlfY3VydmUtPm1heF95Ow0KICAgICAgYnJlYWs7DQogICAgZGVmYXVsdDoNCiAgICAgIGFyZy0+
dHlwZSA9IEdUS19UWVBFX0lOVkFMSUQ7DQogICAgICBicmVhazsNCiAgICB9DQp9DQoNCnN0YXRp
YyBpbnQNCnByb2plY3QgKGdmbG9hdCB2YWx1ZSwgZ2Zsb2F0IG1pbiwgZ2Zsb2F0IG1heCwgaW50
IG5vcm0pDQp7DQogIHJldHVybiAobm9ybSAtIDEpICogKCh2YWx1ZSAtIG1pbikgLyAobWF4IC0g
bWluKSkgKyAwLjU7DQp9DQoNCnN0YXRpYyBnZmxvYXQNCnVucHJvamVjdCAoZ2ludCB2YWx1ZSwg
Z2Zsb2F0IG1pbiwgZ2Zsb2F0IG1heCwgaW50IG5vcm0pDQp7DQogIHJldHVybiB2YWx1ZSAvIChn
ZmxvYXQpIChub3JtIC0gMSkgKiAobWF4IC0gbWluKSArIG1pbjsNCn0NCg0KLyogU29sdmUgdGhl
IHRyaWRpYWdvbmFsIGVxdWF0aW9uIHN5c3RlbSB0aGF0IGRldGVybWluZXMgdGhlIHNlY29uZA0K
ICAgZGVyaXZhdGl2ZXMgZm9yIHRoZSBpbnRlcnBvbGF0aW9uIHBvaW50cy4gIChCYXNlZCBvbiBO
dW1lcmljYWwNCiAgIFJlY2lwaWVzIDJuZCBFZGl0aW9uLikgKi8NCnN0YXRpYyB2b2lkDQpzcGxp
bmVfc29sdmUgKGludCBuLCBnZmxvYXQgeFtdLCBnZmxvYXQgeVtdLCBnZmxvYXQgeTJbXSkNCnsN
CiAgZ2Zsb2F0IHAsIHNpZywgKnU7DQogIGdpbnQgaSwgazsNCg0KICB1ID0gZ19tYWxsb2MgKChu
IC0gMSkgKiBzaXplb2YgKHVbMF0pKTsNCg0KICB5MlswXSA9IHVbMF0gPSAwLjA7CS8qIHNldCBs
b3dlciBib3VuZGFyeSBjb25kaXRpb24gdG8gIm5hdHVyYWwiICovDQoNCiAgZm9yIChpID0gMTsg
aSA8IG4gLSAxOyArK2kpDQogICAgew0KICAgICAgc2lnID0gKHhbaV0gLSB4W2kgLSAxXSkgLyAo
eFtpICsgMV0gLSB4W2kgLSAxXSk7DQogICAgICBwID0gc2lnICogeTJbaSAtIDFdICsgMi4wOw0K
ICAgICAgeTJbaV0gPSAoc2lnIC0gMS4wKSAvIHA7DQogICAgICB1W2ldID0gKCh5W2kgKyAxXSAt
IHlbaV0pDQoJICAgICAgLyAoeFtpICsgMV0gLSB4W2ldKSAtICh5W2ldIC0geVtpIC0gMV0pIC8g
KHhbaV0gLSB4W2kgLSAxXSkpOw0KICAgICAgdVtpXSA9ICg2LjAgKiB1W2ldIC8gKHhbaSArIDFd
IC0geFtpIC0gMV0pIC0gc2lnICogdVtpIC0gMV0pIC8gcDsNCiAgICB9DQoNCiAgeTJbbiAtIDFd
ID0gMC4wOw0KICBmb3IgKGsgPSBuIC0gMjsgayA+PSAwOyAtLWspDQogICAgeTJba10gPSB5Mltr
XSAqIHkyW2sgKyAxXSArIHVba107DQoNCiAgZ19mcmVlICh1KTsNCn0NCg0Kc3RhdGljIGdmbG9h
dA0Kc3BsaW5lX2V2YWwgKGludCBuLCBnZmxvYXQgeFtdLCBnZmxvYXQgeVtdLCBnZmxvYXQgeTJb
XSwgZ2Zsb2F0IHZhbCkNCnsNCiAgZ2ludCBrX2xvLCBrX2hpLCBrOw0KICBnZmxvYXQgaCwgYiwg
YTsNCg0KICAvKiBkbyBhIGJpbmFyeSBzZWFyY2ggZm9yIHRoZSByaWdodCBpbnRlcnZhbDogKi8N
CiAga19sbyA9IDA7IGtfaGkgPSBuIC0gMTsNCiAgd2hpbGUgKGtfaGkgLSBrX2xvID4gMSkNCiAg
ICB7DQogICAgICBrID0gKGtfaGkgKyBrX2xvKSAvIDI7DQogICAgICBpZiAoeFtrXSA+IHZhbCkN
CglrX2hpID0gazsNCiAgICAgIGVsc2UNCglrX2xvID0gazsNCiAgICB9DQoNCiAgaCA9IHhba19o
aV0gLSB4W2tfbG9dOw0KICBnX2Fzc2VydCAoaCA+IDAuMCk7DQoNCiAgYSA9ICh4W2tfaGldIC0g
dmFsKSAvIGg7DQogIGIgPSAodmFsIC0geFtrX2xvXSkgLyBoOw0KICByZXR1cm4gYSp5W2tfbG9d
ICsgYip5W2tfaGldICsNCiAgICAoKGEqYSphIC0gYSkqeTJba19sb10gKyAoYipiKmIgLSBiKSp5
MltrX2hpXSkgKiAoaCpoKS82LjA7DQp9DQoNCnN0YXRpYyB2b2lkDQpndGtfbXlfY3VydmVfaW50
ZXJwb2xhdGUgKEd0a015Q3VydmUgKmMsIGdpbnQgd2lkdGgsIGdpbnQgaGVpZ2h0KQ0Kew0KICBn
ZmxvYXQgKnZlY3RvcjsNCiAgaW50IGk7DQoNCiAgdmVjdG9yID1nX21hbGxvYyAod2lkdGggKiBz
aXplb2YodmVjdG9yWzBdKSk7Ly8gZ19tYWxsb2MgKHdpZHRoICogc2l6ZW9mICh2ZWN0b3JbMF0p
KTsNCg0KICBndGtfbXlfY3VydmVfZ2V0X3ZlY3RvciAoYywgd2lkdGgsIHZlY3Rvcik7DQoNCiAg
Yy0+aGVpZ2h0ID0gaGVpZ2h0Ow0KICBpZiAoYy0+bnVtX3BvaW50cyAhPSB3aWR0aCkNCiAgICB7
DQogICAgICBjLT5udW1fcG9pbnRzID0gd2lkdGg7DQogICAgICBpZiAoYy0+cG9pbnQpDQoJZ19m
cmVlIChjLT5wb2ludCk7DQogICAgICBjLT5wb2ludCA9IGdfbWFsbG9jIChjLT5udW1fcG9pbnRz
ICogc2l6ZW9mIChjLT5wb2ludFswXSkpOw0KICAgIH0NCg0KICBmb3IgKGkgPSAwOyBpIDwgd2lk
dGg7ICsraSkNCiAgICB7DQogICAgICBjLT5wb2ludFtpXS54ID0gUkFESVVTICsgaTsNCiAgICAg
IGMtPnBvaW50W2ldLnkgPSBSQURJVVMgKyBoZWlnaHQNCgktIHByb2plY3QgKHZlY3RvcltpXSwg
Yy0+bWluX3ksIGMtPm1heF95LCBoZWlnaHQpOw0KICAgIH0NCg0KICBnX2ZyZWUgKHZlY3Rvcik7
DQp9DQoNCnN0YXRpYyB2b2lkDQpndGtfbXlfY3VydmVfZHJhdyAoR3RrTXlDdXJ2ZSAqYywgZ2lu
dCB3aWR0aCwgZ2ludCBoZWlnaHQpDQp7DQogIEd0a1N0YXRlVHlwZSBzdGF0ZTsNCiAgR3RrU3R5
bGUgKnN0eWxlOw0KICBnaW50IGk7DQoNCiAgaWYgKCFjLT5waXhtYXApDQogICAgcmV0dXJuOw0K
DQogIGlmIChjLT5oZWlnaHQgIT0gaGVpZ2h0IHx8IGMtPm51bV9wb2ludHMgIT0gd2lkdGgpDQog
ICAgZ3RrX215X2N1cnZlX2ludGVycG9sYXRlIChjLCB3aWR0aCwgaGVpZ2h0KTsNCg0KICBzdGF0
ZSA9IEdUS19TVEFURV9OT1JNQUw7DQogIGlmICghR1RLX1dJREdFVF9JU19TRU5TSVRJVkUgKEdU
S19XSURHRVQgKGMpKSkNCiAgICBzdGF0ZSA9IEdUS19TVEFURV9JTlNFTlNJVElWRTsNCg0KICBz
dHlsZSA9IEdUS19XSURHRVQgKGMpLT5zdHlsZTsNCg0KICAvKiBjbGVhciB0aGUgcGl4bWFwOiAq
Lw0KICBndGtfcGFpbnRfZmxhdF9ib3ggKHN0eWxlLCBjLT5waXhtYXAsIEdUS19TVEFURV9OT1JN
QUwsIEdUS19TSEFET1dfTk9ORSwNCgkJICAgICAgTlVMTCwgR1RLX1dJREdFVChjKSwgImN1cnZl
X2JnIiwNCgkJICAgICAgMCwgMCwgd2lkdGggKyBSQURJVVMgKiAyLCBoZWlnaHQgKyBSQURJVVMg
KiAyKTsNCiAgLyogZHJhdyB0aGUgZ3JpZCBsaW5lczogKFhYWCBtYWtlIG1vcmUgbWVhbmluZ2Z1
bCkgKi8NCiAgZm9yIChpID0gMDsgaSA8IDU7IGkrKykNCiAgICB7DQogICAgICBnZGtfZHJhd19s
aW5lIChjLT5waXhtYXAsIHN0eWxlLT5kYXJrX2djW3N0YXRlXSwNCgkJICAgICBSQURJVVMsIGkg
KiAoaGVpZ2h0IC8gNC4wKSArIFJBRElVUywNCgkJICAgICB3aWR0aCArIFJBRElVUywgaSAqICho
ZWlnaHQgLyA0LjApICsgUkFESVVTKTsNCiAgICAgIGdka19kcmF3X2xpbmUgKGMtPnBpeG1hcCwg
c3R5bGUtPmRhcmtfZ2Nbc3RhdGVdLA0KCQkgICAgIGkgKiAod2lkdGggLyA0LjApICsgUkFESVVT
LCBSQURJVVMsDQoJCSAgICAgaSAqICh3aWR0aCAvIDQuMCkgKyBSQURJVVMsIGhlaWdodCArIFJB
RElVUyk7DQogICAgfQ0KDQogIGdka19kcmF3X3BvaW50cyAoYy0+cGl4bWFwLCBzdHlsZS0+Zmdf
Z2Nbc3RhdGVdLCBjLT5wb2ludCwgYy0+bnVtX3BvaW50cyk7DQogIGlmIChjLT5jdXJ2ZV90eXBl
ICE9IEdUS19DVVJWRV9UWVBFX0ZSRUUpDQogICAgZm9yIChpID0gMDsgaSA8IGMtPm51bV9jdGxw
b2ludHM7ICsraSkNCiAgICAgIHsNCglnaW50IHgsIHk7DQoNCglpZiAoYy0+Y3RscG9pbnRbaV1b
MF0gPCBjLT5taW5feCkNCgkgIGNvbnRpbnVlOw0KDQoJeCA9IHByb2plY3QgKGMtPmN0bHBvaW50
W2ldWzBdLCBjLT5taW5feCwgYy0+bWF4X3gsDQoJCSAgICAgd2lkdGgpOw0KCXkgPSBoZWlnaHQg
LQ0KCSAgcHJvamVjdCAoYy0+Y3RscG9pbnRbaV1bMV0sIGMtPm1pbl95LCBjLT5tYXhfeSwNCgkJ
ICAgaGVpZ2h0KTsNCg0KCS8qIGRyYXcgYSBidWxsZXQ6ICovDQoJZ2RrX2RyYXdfYXJjIChjLT5w
aXhtYXAsIHN0eWxlLT5mZ19nY1tzdGF0ZV0sIFRSVUUsIHgsIHksDQoJCSAgICAgIFJBRElVUyAq
IDIsIFJBRElVUyoyLCAwLCAzNjAqNjQpOw0KICAgICAgfQ0KICBnZGtfZHJhd19waXhtYXAgKEdU
S19XSURHRVQgKGMpLT53aW5kb3csIHN0eWxlLT5mZ19nY1tzdGF0ZV0sIGMtPnBpeG1hcCwNCgkJ
ICAgMCwgMCwgMCwgMCwgd2lkdGggKyBSQURJVVMgKiAyLCBoZWlnaHQgKyBSQURJVVMgKiAyKTsN
Cn0NCg0Kc3RhdGljIGdpbnQNCmd0a19teV9jdXJ2ZV9ncmFwaF9ldmVudHMgKEd0a1dpZGdldCAq
d2lkZ2V0LCBHZGtFdmVudCAqZXZlbnQsIEd0a015Q3VydmUgKmMpDQp7DQogIEdka0N1cnNvclR5
cGUgbmV3X3R5cGUgPSBjLT5jdXJzb3JfdHlwZTsNCiAgZ2ludCBpLCBzcmMsIGRzdCwgbGVmdGJv
dW5kLCByaWdodGJvdW5kOw0KICBHZGtFdmVudEJ1dHRvbiAqYmV2ZW50Ow0KICBHZGtFdmVudE1v
dGlvbiAqbWV2ZW50Ow0KICBHdGtXaWRnZXQgKnc7DQogIGdpbnQgdHgsIHR5Ow0KICBnaW50IGN4
LCB4LCB5LCB3aWR0aCwgaGVpZ2h0Ow0KICBnaW50IGNsb3Nlc3RfcG9pbnQgPSAwOw0KICBnZmxv
YXQgcngsIHJ5LCBtaW5feDsNCiAgZ3VpbnQgZGlzdGFuY2U7DQogIGdpbnQgeDEsIHgyLCB5MSwg
eTI7DQoNCiAgdyA9IEdUS19XSURHRVQgKGMpOw0KICB3aWR0aCA9IHctPmFsbG9jYXRpb24ud2lk
dGggLSBSQURJVVMgKiAyOw0KICBoZWlnaHQgPSB3LT5hbGxvY2F0aW9uLmhlaWdodCAtIFJBRElV
UyAqIDI7DQoNCiAgaWYgKCh3aWR0aCA8IDApIHx8IChoZWlnaHQgPCAwKSkNCiAgICByZXR1cm4g
RkFMU0U7DQoNCiAgLyogIGdldCB0aGUgcG9pbnRlciBwb3NpdGlvbiAgKi8NCiAgZ2RrX3dpbmRv
d19nZXRfcG9pbnRlciAody0+d2luZG93LCAmdHgsICZ0eSwgTlVMTCk7DQogIHggPSBDTEFNUCAo
KHR4IC0gUkFESVVTKSwgMCwgd2lkdGgtMSk7DQogIHkgPSBDTEFNUCAoKHR5IC0gUkFESVVTKSwg
MCwgaGVpZ2h0LTEpOw0KDQogIG1pbl94ID0gYy0+bWluX3g7DQoNCiAgZGlzdGFuY2UgPSB+MFU7
DQogIGZvciAoaSA9IDA7IGkgPCBjLT5udW1fY3RscG9pbnRzOyArK2kpDQogICAgew0KICAgICAg
Y3ggPSBwcm9qZWN0IChjLT5jdGxwb2ludFtpXVswXSwgbWluX3gsIGMtPm1heF94LCB3aWR0aCk7
DQogICAgICBpZiAoKGd1aW50KSBhYnMgKHggLSBjeCkgPCBkaXN0YW5jZSkNCgl7DQoJICBkaXN0
YW5jZSA9IGFicyAoeCAtIGN4KTsNCgkgIGNsb3Nlc3RfcG9pbnQgPSBpOw0KCX0NCiAgICB9DQoN
CiAgc3dpdGNoIChldmVudC0+dHlwZSkNCiAgICB7DQogICAgY2FzZSBHREtfQ09ORklHVVJFOg0K
ICAgICAgaWYgKGMtPnBpeG1hcCkNCglnZGtfcGl4bWFwX3VucmVmIChjLT5waXhtYXApOw0KICAg
ICAgYy0+cGl4bWFwID0gMDsNCiAgICAgIC8qIGZhbGwgdGhyb3VnaCAqLw0KICAgIGNhc2UgR0RL
X0VYUE9TRToNCiAgICAgIGlmICghYy0+cGl4bWFwKQ0KCWMtPnBpeG1hcCA9IGdka19waXhtYXBf
bmV3ICh3LT53aW5kb3csDQoJCQkJICAgIHctPmFsbG9jYXRpb24ud2lkdGgsDQoJCQkJICAgIHct
PmFsbG9jYXRpb24uaGVpZ2h0LCAtMSk7DQogICAgICBndGtfbXlfY3VydmVfZHJhdyAoYywgd2lk
dGgsIGhlaWdodCk7DQogICAgICBicmVhazsNCg0KICAgIGNhc2UgR0RLX0JVVFRPTl9QUkVTUzoN
CiAgICAgIGd0a19ncmFiX2FkZCAod2lkZ2V0KTsNCg0KICAgICAgYmV2ZW50ID0gKEdka0V2ZW50
QnV0dG9uICopIGV2ZW50Ow0KICAgICAgbmV3X3R5cGUgPSBHREtfVENST1NTOw0KDQogICAgICBz
d2l0Y2ggKGMtPmN1cnZlX3R5cGUpDQoJew0KCWNhc2UgR1RLX0NVUlZFX1RZUEVfTElORUFSOg0K
CWNhc2UgR1RLX0NVUlZFX1RZUEVfU1BMSU5FOg0KCSAgaWYgKGRpc3RhbmNlID4gTUlOX0RJU1RB
TkNFKQ0KCSAgICB7DQoJICAgICAgLyogaW5zZXJ0IGEgbmV3IGNvbnRyb2wgcG9pbnQgKi8NCgkg
ICAgICBpZiAoYy0+bnVtX2N0bHBvaW50cyA+IDApDQoJCXsNCgkJICBjeCA9IHByb2plY3QgKGMt
PmN0bHBvaW50W2Nsb3Nlc3RfcG9pbnRdWzBdLCBtaW5feCwNCgkJCQljLT5tYXhfeCwgd2lkdGgp
Ow0KCQkgIGlmICh4ID4gY3gpDQoJCSAgICArK2Nsb3Nlc3RfcG9pbnQ7DQoJCX0NCgkgICAgICAr
K2MtPm51bV9jdGxwb2ludHM7DQoJICAgICAgYy0+Y3RscG9pbnQgPQ0KCQlnX3JlYWxsb2MgKGMt
PmN0bHBvaW50LA0KCQkJICAgYy0+bnVtX2N0bHBvaW50cyAqIHNpemVvZiAoKmMtPmN0bHBvaW50
KSk7DQoJICAgICAgZm9yIChpID0gYy0+bnVtX2N0bHBvaW50cyAtIDE7IGkgPiBjbG9zZXN0X3Bv
aW50OyAtLWkpDQoJCW1lbWNweSAoYy0+Y3RscG9pbnQgKyBpLCBjLT5jdGxwb2ludCArIGkgLSAx
LA0KCQkJc2l6ZW9mICgqYy0+Y3RscG9pbnQpKTsNCgkgICAgfQ0KCSAgYy0+Z3JhYl9wb2ludCA9
IGNsb3Nlc3RfcG9pbnQ7DQoJICBjLT5jdGxwb2ludFtjLT5ncmFiX3BvaW50XVswXSA9DQoJICAg
IHVucHJvamVjdCAoeCwgbWluX3gsIGMtPm1heF94LCB3aWR0aCk7DQoJICBjLT5jdGxwb2ludFtj
LT5ncmFiX3BvaW50XVsxXSA9DQoJICAgIHVucHJvamVjdCAoaGVpZ2h0IC0geSwgYy0+bWluX3ks
IGMtPm1heF95LCBoZWlnaHQpOw0KDQoJICBndGtfbXlfY3VydmVfaW50ZXJwb2xhdGUgKGMsIHdp
ZHRoLCBoZWlnaHQpOw0KCSAgYnJlYWs7DQoNCgljYXNlIEdUS19DVVJWRV9UWVBFX0ZSRUU6DQoJ
ICBjLT5wb2ludFt4XS54ID0gUkFESVVTICsgeDsNCgkgIGMtPnBvaW50W3hdLnkgPSBSQURJVVMg
KyB5Ow0KCSAgYy0+Z3JhYl9wb2ludCA9IHg7DQoJICBjLT5sYXN0ID0geTsNCgkgIGJyZWFrOw0K
CX0NCiAgICAgIGd0a19teV9jdXJ2ZV9kcmF3IChjLCB3aWR0aCwgaGVpZ2h0KTsNCiAgICAgIGJy
ZWFrOw0KDQogICAgY2FzZSBHREtfQlVUVE9OX1JFTEVBU0U6DQogICAgICBndGtfZ3JhYl9yZW1v
dmUgKHdpZGdldCk7DQoNCiAgICAgIC8qIGRlbGV0ZSBpbmFjdGl2ZSBwb2ludHM6ICovDQogICAg
ICBpZiAoYy0+Y3VydmVfdHlwZSAhPSBHVEtfQ1VSVkVfVFlQRV9GUkVFKQ0KCXsNCgkgIGZvciAo
c3JjID0gZHN0ID0gMDsgc3JjIDwgYy0+bnVtX2N0bHBvaW50czsgKytzcmMpDQoJICAgIHsNCgkg
ICAgICBpZiAoYy0+Y3RscG9pbnRbc3JjXVswXSA+PSBtaW5feCkNCgkJew0KCQkgIG1lbWNweSAo
Yy0+Y3RscG9pbnQgKyBkc3QsIGMtPmN0bHBvaW50ICsgc3JjLA0KCQkJICBzaXplb2YgKCpjLT5j
dGxwb2ludCkpOw0KCQkgICsrZHN0Ow0KCQl9DQoJICAgIH0NCgkgIGlmIChkc3QgPCBzcmMpDQoJ
ICAgIHsNCgkgICAgICBjLT5udW1fY3RscG9pbnRzIC09IChzcmMgLSBkc3QpOw0KCSAgICAgIGlm
IChjLT5udW1fY3RscG9pbnRzIDw9IDApDQoJCXsNCgkJICBjLT5udW1fY3RscG9pbnRzID0gMTsN
CgkJICBjLT5jdGxwb2ludFswXVswXSA9IG1pbl94Ow0KCQkgIGMtPmN0bHBvaW50WzBdWzFdID0g
Yy0+bWluX3k7DQoJCSAgZ3RrX215X2N1cnZlX2ludGVycG9sYXRlIChjLCB3aWR0aCwgaGVpZ2h0
KTsNCgkJICBndGtfbXlfY3VydmVfZHJhdyAoYywgd2lkdGgsIGhlaWdodCk7DQoJCX0NCgkgICAg
ICBjLT5jdGxwb2ludCA9DQoJCWdfcmVhbGxvYyAoYy0+Y3RscG9pbnQsDQoJCQkgICBjLT5udW1f
Y3RscG9pbnRzICogc2l6ZW9mICgqYy0+Y3RscG9pbnQpKTsNCgkgICAgfQ0KCX0NCiAgICAgIG5l
d190eXBlID0gR0RLX0ZMRVVSOw0KICAgICAgYy0+Z3JhYl9wb2ludCA9IC0xOw0KICAgICAgYnJl
YWs7DQoNCiAgICBjYXNlIEdES19NT1RJT05fTk9USUZZOg0KICAgICAgbWV2ZW50ID0gKEdka0V2
ZW50TW90aW9uICopIGV2ZW50Ow0KDQogICAgICBzd2l0Y2ggKGMtPmN1cnZlX3R5cGUpDQoJew0K
CWNhc2UgR1RLX0NVUlZFX1RZUEVfTElORUFSOg0KCWNhc2UgR1RLX0NVUlZFX1RZUEVfU1BMSU5F
Og0KCSAgaWYgKGMtPmdyYWJfcG9pbnQgPT0gLTEpDQoJICAgIHsNCgkgICAgICAvKiBpZiBubyBw
b2ludCBpcyBncmFiYmVkLi4uICAqLw0KCSAgICAgIGlmIChkaXN0YW5jZSA8PSBNSU5fRElTVEFO
Q0UpDQoJCW5ld190eXBlID0gR0RLX0ZMRVVSOw0KCSAgICAgIGVsc2UNCgkJbmV3X3R5cGUgPSBH
REtfVENST1NTOw0KCSAgICB9DQoJICBlbHNlDQoJICAgIHsNCgkgICAgICAvKiBkcmFnIHRoZSBn
cmFiYmVkIHBvaW50ICAqLw0KCSAgICAgIG5ld190eXBlID0gR0RLX1RDUk9TUzsNCg0KCSAgICAg
IGxlZnRib3VuZCA9IC1NSU5fRElTVEFOQ0U7DQoJICAgICAgaWYgKGMtPmdyYWJfcG9pbnQgPiAw
KQ0KCQlsZWZ0Ym91bmQgPSBwcm9qZWN0IChjLT5jdGxwb2ludFtjLT5ncmFiX3BvaW50IC0gMV1b
MF0sDQoJCQkJICAgICBtaW5feCwgYy0+bWF4X3gsIHdpZHRoKTsNCg0KCSAgICAgIHJpZ2h0Ym91
bmQgPSB3aWR0aCArIFJBRElVUyAqIDIgKyBNSU5fRElTVEFOQ0U7DQoJICAgICAgaWYgKGMtPmdy
YWJfcG9pbnQgKyAxIDwgYy0+bnVtX2N0bHBvaW50cykNCgkJcmlnaHRib3VuZCA9IHByb2plY3Qg
KGMtPmN0bHBvaW50W2MtPmdyYWJfcG9pbnQgKyAxXVswXSwNCgkJCQkgICAgICBtaW5feCwgYy0+
bWF4X3gsIHdpZHRoKTsNCg0KCSAgICAgIGlmICh0eCA8PSBsZWZ0Ym91bmQgfHwgdHggPj0gcmln
aHRib3VuZA0KCQkgIHx8IHR5ID4gaGVpZ2h0ICsgUkFESVVTICogMiArIE1JTl9ESVNUQU5DRQ0K
CQkgIHx8IHR5IDwgLU1JTl9ESVNUQU5DRSkNCgkJYy0+Y3RscG9pbnRbYy0+Z3JhYl9wb2ludF1b
MF0gPSBtaW5feCAtIDEuMDsNCgkgICAgICBlbHNlDQoJCXsNCgkJICByeCA9IHVucHJvamVjdCAo
eCwgbWluX3gsIGMtPm1heF94LCB3aWR0aCk7DQoJCSAgcnkgPSB1bnByb2plY3QgKGhlaWdodCAt
IHksIGMtPm1pbl95LCBjLT5tYXhfeSwgaGVpZ2h0KTsNCgkJICBjLT5jdGxwb2ludFtjLT5ncmFi
X3BvaW50XVswXSA9IHJ4Ow0KCQkgIGMtPmN0bHBvaW50W2MtPmdyYWJfcG9pbnRdWzFdID0gcnk7
DQoJCX0NCgkgICAgICBndGtfbXlfY3VydmVfaW50ZXJwb2xhdGUgKGMsIHdpZHRoLCBoZWlnaHQp
Ow0KCSAgICAgIGd0a19teV9jdXJ2ZV9kcmF3IChjLCB3aWR0aCwgaGVpZ2h0KTsNCgkgICAgfQ0K
CSAgYnJlYWs7DQoNCgljYXNlIEdUS19DVVJWRV9UWVBFX0ZSRUU6DQoJICBpZiAoYy0+Z3JhYl9w
b2ludCAhPSAtMSkNCgkgICAgew0KCSAgICAgIGlmIChjLT5ncmFiX3BvaW50ID4geCkNCgkJew0K
CQkgIHgxID0geDsNCgkJICB4MiA9IGMtPmdyYWJfcG9pbnQ7DQoJCSAgeTEgPSB5Ow0KCQkgIHky
ID0gYy0+bGFzdDsNCgkJfQ0KCSAgICAgIGVsc2UNCgkJew0KCQkgIHgxID0gYy0+Z3JhYl9wb2lu
dDsNCgkJICB4MiA9IHg7DQoJCSAgeTEgPSBjLT5sYXN0Ow0KCQkgIHkyID0geTsNCgkJfQ0KDQoJ
ICAgICAgaWYgKHgyICE9IHgxKQ0KCQlmb3IgKGkgPSB4MTsgaSA8PSB4MjsgaSsrKQ0KCQkgIHsN
CgkJICAgIGMtPnBvaW50W2ldLnggPSBSQURJVVMgKyBpOw0KCQkgICAgYy0+cG9pbnRbaV0ueSA9
IFJBRElVUyArDQoJCSAgICAgICh5MSArICgoeTIgLSB5MSkgKiAoaSAtIHgxKSkgLyAoeDIgLSB4
MSkpOw0KCQkgIH0NCgkgICAgICBlbHNlDQoJCXsNCgkJICBjLT5wb2ludFt4XS54ID0gUkFESVVT
ICsgeDsNCgkJICBjLT5wb2ludFt4XS55ID0gUkFESVVTICsgeTsNCgkJfQ0KCSAgICAgIGMtPmdy
YWJfcG9pbnQgPSB4Ow0KCSAgICAgIGMtPmxhc3QgPSB5Ow0KCSAgICAgIGd0a19teV9jdXJ2ZV9k
cmF3IChjLCB3aWR0aCwgaGVpZ2h0KTsNCgkgICAgfQ0KCSAgaWYgKG1ldmVudC0+c3RhdGUgJiBH
REtfQlVUVE9OMV9NQVNLKQ0KCSAgICBuZXdfdHlwZSA9IEdES19UQ1JPU1M7DQoJICBlbHNlDQoJ
ICAgIG5ld190eXBlID0gR0RLX1BFTkNJTDsNCgkgIGJyZWFrOw0KCX0NCiAgICAgIGlmIChuZXdf
dHlwZSAhPSAoR2RrQ3Vyc29yVHlwZSkgYy0+Y3Vyc29yX3R5cGUpDQoJew0KCSAgR2RrQ3Vyc29y
ICpjdXJzb3I7DQoNCgkgIGMtPmN1cnNvcl90eXBlID0gbmV3X3R5cGU7DQoNCgkgIGN1cnNvciA9
IGdka19jdXJzb3JfbmV3IChjLT5jdXJzb3JfdHlwZSk7DQoJICBnZGtfd2luZG93X3NldF9jdXJz
b3IgKHctPndpbmRvdywgY3Vyc29yKTsNCgkgIGdka19jdXJzb3JfZGVzdHJveSAoY3Vyc29yKTsN
Cgl9DQogICAgICBicmVhazsNCg0KICAgIGRlZmF1bHQ6DQogICAgICBicmVhazsNCiAgICB9DQog
IHJldHVybiBGQUxTRTsNCn0NCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8N
Ci8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi8qKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKi8NCnZvaWQNCmd0a19teV9jdXJ2ZV9zZXRfY3VydmVfdHlwZSAo
R3RrTXlDdXJ2ZSAqYywgR3RrQ3VydmVUeXBlIG5ld190eXBlKQ0Kew0KICBnZmxvYXQgcngsIGR4
Ow0KICBnaW50IHgsIGk7DQoNCiAgaWYgKG5ld190eXBlICE9IGMtPmN1cnZlX3R5cGUpDQogICAg
ew0KICAgICAgZ2ludCB3aWR0aCwgaGVpZ2h0Ow0KICAgICAgLy9IRVJFIElTIFRIRSBQUk9CTEVN
Li4uLndoZW4gY2hhbmdpbmcgdG8gQ1VSVkVfVFlQRV9MSU5FQVIgd2lkdGg9LTUNCiAgICAgIC8v
YW5kIHRoaXMgcHJvZHVjZWQgYSBzZWcgZmF1bHQgd2hlbiBtZW1vcnkgYWxsb2NhdGlvbiBpcyBh
dHRlbXB0ZWQNCiAgICAgIC8vdG8gZG8gaW4gdGhlICBndGtfbXlfY3VydmVfaW50ZXJwb2xhdGUg
KGMsIHdpZHRoLCBoZWlnaHQpDQogICAgICAvLyB3aXRoIG5lZ2F0aXZlIGxlbmdodC4uLighKQ0K
ICAgICAgLy9JJ3ZlIGZpeGVkIGl0IGp1c3QgdGFraW5nIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0
aGUgZXF1YXRpb24NCiAgICAgIC8vaXQgc2VlbXMgdG8gd29yay4uLmJ1dCBJIGFtIG5vdCBzdXJl
IGl0IHdpbGwgcHJvZHVjZSBhbm90aGVyIHByb2JsZW0gbGF0dGVyLi4uDQogICAgICB3aWR0aCAg
PSBhYnMoR1RLX1dJREdFVChjKS0+YWxsb2NhdGlvbi53aWR0aCAtIFJBRElVUyAqIDIpOw0KICAg
ICAgLy9nX3ByaW50KCIgXG4gd2lkdGg9ICVkIFJBRElVUz0gJWQgIGFsbG9jLndpZHRoPSAlZCIs
IHdpZHRoLCBSQURJVVMsR1RLX1dJREdFVChjKS0+YWxsb2NhdGlvbi53aWR0aCk7DQogICAgICBo
ZWlnaHQgPSBHVEtfV0lER0VUKGMpLT5hbGxvY2F0aW9uLmhlaWdodCAtIFJBRElVUyAqIDI7DQoN
CiAgICAgIA0KDQogICAgICBpZiAobmV3X3R5cGUgPT0gR1RLX0NVUlZFX1RZUEVfRlJFRSkNCgl7
DQoJICBndGtfbXlfY3VydmVfaW50ZXJwb2xhdGUgKGMsIHdpZHRoLCBoZWlnaHQpOw0KCSAgYy0+
Y3VydmVfdHlwZSA9IG5ld190eXBlOw0KCX0NCiAgICAgIGVsc2UgaWYgKGMtPmN1cnZlX3R5cGUg
PT0gR1RLX0NVUlZFX1RZUEVfRlJFRSkgLy9HVEtfQ1VSVkVfVFlQRV9GUkVFDQoJew0KCSAgaWYg
KGMtPmN0bHBvaW50KQ0KCSAgICBnX2ZyZWUgKGMtPmN0bHBvaW50KTsNCgkgIGMtPm51bV9jdGxw
b2ludHMgPSA5Ow0KDQogICAgICAgIA0KCSAgYy0+Y3RscG9pbnQgPSBnX21hbGxvYyAoYy0+bnVt
X2N0bHBvaW50cyAqIHNpemVvZiAoKmMtPmN0bHBvaW50KSk7DQoNCgkgIHJ4ID0gMC4wOw0KCSAg
ZHggPSAod2lkdGggLSAxKSAvIChnZmxvYXQpIChjLT5udW1fY3RscG9pbnRzIC0gMSk7DQoNCgkg
IGZvciAoaSA9IDA7IGkgPCBjLT5udW1fY3RscG9pbnRzOyArK2ksIHJ4ICs9IGR4KQ0KCSAgICB7
DQoJICAgICAgeCA9IChpbnQpIChyeCArIDAuNSk7DQoJICAgICAgYy0+Y3RscG9pbnRbaV1bMF0g
PQ0KCQl1bnByb2plY3QgKHgsIGMtPm1pbl94LCBjLT5tYXhfeCwgd2lkdGgpOw0KCSAgICAgIGMt
PmN0bHBvaW50W2ldWzFdID0NCgkJdW5wcm9qZWN0IChSQURJVVMgKyBoZWlnaHQgLSBjLT5wb2lu
dFt4XS55LA0KCQkJICAgYy0+bWluX3ksIGMtPm1heF95LCBoZWlnaHQpOw0KCSAgICB9DQoJICBj
LT5jdXJ2ZV90eXBlID0gbmV3X3R5cGU7DQoJICBndGtfbXlfY3VydmVfaW50ZXJwb2xhdGUgKGMs
IHdpZHRoLCBoZWlnaHQpOw0KCX0NCiAgICAgIGVsc2UNCgl7DQoJICBjLT5jdXJ2ZV90eXBlID0g
bmV3X3R5cGU7DQoJICBndGtfbXlfY3VydmVfaW50ZXJwb2xhdGUgKGMsIHdpZHRoLCBoZWlnaHQp
Ow0KCX0NCiAgICAgIGd0a19zaWduYWxfZW1pdCAoR1RLX09CSkVDVCAoYyksIGN1cnZlX3R5cGVf
Y2hhbmdlZF9zaWduYWwpOw0KICAgICAgZ3RrX215X2N1cnZlX2RyYXcgKGMsIHdpZHRoLCBoZWln
aHQpOw0KICAgIH0NCn0NCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi8q
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi8qKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKi8NCg0Kc3RhdGljIHZvaWQNCmd0a19teV9jdXJ2ZV9zaXplX2dyYXBo
IChHdGtNeUN1cnZlICpteV9jdXJ2ZSkNCnsNCiAgZ2ludCB3aWR0aCwgaGVpZ2h0Ow0KICBnZmxv
YXQgYXNwZWN0Ow0KDQogIHdpZHRoICA9IChteV9jdXJ2ZS0+bWF4X3ggLSBteV9jdXJ2ZS0+bWlu
X3gpICsgMTsNCiAgaGVpZ2h0ID0gKG15X2N1cnZlLT5tYXhfeSAtIG15X2N1cnZlLT5taW5feSkg
KyAxOw0KICBhc3BlY3QgPSB3aWR0aCAvIChnZmxvYXQpIGhlaWdodDsNCiAgaWYgKHdpZHRoID4g
Z2RrX3NjcmVlbl93aWR0aCAoKSAvIDQpDQogICAgd2lkdGggID0gZ2RrX3NjcmVlbl93aWR0aCAo
KSAvIDQ7DQogIGlmIChoZWlnaHQgPiBnZGtfc2NyZWVuX2hlaWdodCAoKSAvIDQpDQogICAgaGVp
Z2h0ID0gZ2RrX3NjcmVlbl9oZWlnaHQgKCkgLyA0Ow0KDQogIGlmIChhc3BlY3QgPCAxLjApDQog
ICAgd2lkdGggID0gaGVpZ2h0ICogYXNwZWN0Ow0KICBlbHNlDQogICAgaGVpZ2h0ID0gd2lkdGgg
LyBhc3BlY3Q7DQoNCiAgZ3RrX2RyYXdpbmdfYXJlYV9zaXplIChHVEtfRFJBV0lOR19BUkVBICht
eV9jdXJ2ZSksDQoJCQkgd2lkdGggKyBSQURJVVMgKiAyLCBoZWlnaHQgKyBSQURJVVMgKiAyKTsN
Cn0NCg0Kc3RhdGljIHZvaWQNCmd0a19teV9jdXJ2ZV9yZXNldF92ZWN0b3IgKEd0a015Q3VydmUg
Km15X2N1cnZlKQ0Kew0KICBpZiAobXlfY3VydmUtPmN0bHBvaW50KQ0KICAgIGdfZnJlZSAobXlf
Y3VydmUtPmN0bHBvaW50KTsNCg0KICBteV9jdXJ2ZS0+bnVtX2N0bHBvaW50cyA9IDI7DQogIG15
X2N1cnZlLT5jdGxwb2ludCA9IGdfbWFsbG9jICgyICogc2l6ZW9mIChteV9jdXJ2ZS0+Y3RscG9p
bnRbMF0pKTsNCiAgbXlfY3VydmUtPmN0bHBvaW50WzBdWzBdID0gbXlfY3VydmUtPm1pbl94Ow0K
ICBteV9jdXJ2ZS0+Y3RscG9pbnRbMF1bMV0gPSBteV9jdXJ2ZS0+bWluX3k7DQogIG15X2N1cnZl
LT5jdGxwb2ludFsxXVswXSA9IG15X2N1cnZlLT5tYXhfeDsNCiAgbXlfY3VydmUtPmN0bHBvaW50
WzFdWzFdID0gbXlfY3VydmUtPm1heF95Ow0KDQogIGlmIChteV9jdXJ2ZS0+cGl4bWFwKQ0KICAg
IHsNCiAgICAgIGdpbnQgd2lkdGgsIGhlaWdodDsNCg0KICAgICAgd2lkdGggPSBHVEtfV0lER0VU
IChteV9jdXJ2ZSktPmFsbG9jYXRpb24ud2lkdGggLSBSQURJVVMgKiAyOw0KICAgICAgaGVpZ2h0
ID0gR1RLX1dJREdFVCAobXlfY3VydmUpLT5hbGxvY2F0aW9uLmhlaWdodCAtIFJBRElVUyAqIDI7
DQoNCiAgICAgIGlmIChteV9jdXJ2ZS0+Y3VydmVfdHlwZSA9PSBHVEtfQ1VSVkVfVFlQRV9GUkVF
KQ0KCXsNCgkgIG15X2N1cnZlLT5jdXJ2ZV90eXBlID0gR1RLX0NVUlZFX1RZUEVfTElORUFSOw0K
CSAgZ3RrX215X2N1cnZlX2ludGVycG9sYXRlIChteV9jdXJ2ZSwgd2lkdGgsIGhlaWdodCk7DQoJ
ICBteV9jdXJ2ZS0+Y3VydmVfdHlwZSA9IEdUS19DVVJWRV9UWVBFX0ZSRUU7DQoJfQ0KICAgICAg
ZWxzZQ0KCWd0a19teV9jdXJ2ZV9pbnRlcnBvbGF0ZSAobXlfY3VydmUsIHdpZHRoLCBoZWlnaHQp
Ow0KICAgICAgZ3RrX215X2N1cnZlX2RyYXcgKG15X2N1cnZlLCB3aWR0aCwgaGVpZ2h0KTsNCiAg
ICB9DQp9DQoNCnZvaWQNCmd0a19teV9jdXJ2ZV9yZXNldCAoR3RrTXlDdXJ2ZSAqYykNCnsNCiAg
R3RrQ3VydmVUeXBlIG9sZF90eXBlOw0KDQogIG9sZF90eXBlID0gYy0+Y3VydmVfdHlwZTsNCiAg
Yy0+Y3VydmVfdHlwZSA9IEdUS19DVVJWRV9UWVBFX1NQTElORTsNCiAgZ3RrX215X2N1cnZlX3Jl
c2V0X3ZlY3RvciAoYyk7DQoNCiAgaWYgKG9sZF90eXBlICE9IEdUS19DVVJWRV9UWVBFX1NQTElO
RSkNCiAgICBndGtfc2lnbmFsX2VtaXQgKEdUS19PQkpFQ1QgKGMpLCBjdXJ2ZV90eXBlX2NoYW5n
ZWRfc2lnbmFsKTsNCn0NCg0Kdm9pZA0KZ3RrX215X2N1cnZlX3NldF9nYW1tYSAoR3RrTXlDdXJ2
ZSAqYywgZ2Zsb2F0IGdhbW1hKQ0Kew0KICBnZmxvYXQgeCwgb25lX292ZXJfZ2FtbWEsIGhlaWdo
dCwgb25lX292ZXJfd2lkdGg7DQogIEd0a0N1cnZlVHlwZSBvbGRfdHlwZTsNCiAgZ2ludCBpOw0K
DQogIGlmIChjLT5udW1fcG9pbnRzIDwgMikNCiAgICByZXR1cm47DQoNCiAgb2xkX3R5cGUgPSBj
LT5jdXJ2ZV90eXBlOw0KICBjLT5jdXJ2ZV90eXBlID0gR1RLX0NVUlZFX1RZUEVfRlJFRTsNCg0K
ICBpZiAoZ2FtbWEgPD0gMCkNCiAgICBvbmVfb3Zlcl9nYW1tYSA9IDEuMDsNCiAgZWxzZQ0KICAg
IG9uZV9vdmVyX2dhbW1hID0gMS4wIC8gZ2FtbWE7DQogIG9uZV9vdmVyX3dpZHRoID0gMS4wIC8g
KGMtPm51bV9wb2ludHMgLSAxKTsNCiAgaGVpZ2h0ID0gYy0+aGVpZ2h0Ow0KICBmb3IgKGkgPSAw
OyBpIDwgYy0+bnVtX3BvaW50czsgKytpKQ0KICAgIHsNCiAgICAgIHggPSAoZ2Zsb2F0KSBpIC8g
KGMtPm51bV9wb2ludHMgLSAxKTsNCiAgICAgIGMtPnBvaW50W2ldLnggPSBSQURJVVMgKyBpOw0K
ICAgICAgYy0+cG9pbnRbaV0ueSA9DQoJUkFESVVTICsgKGhlaWdodCAqICgxLjAgLSBwb3cgKHgs
IG9uZV9vdmVyX2dhbW1hKSkgKyAwLjUpOw0KICAgIH0NCg0KICBpZiAob2xkX3R5cGUgIT0gR1RL
X0NVUlZFX1RZUEVfRlJFRSkNCiAgICBndGtfc2lnbmFsX2VtaXQgKEdUS19PQkpFQ1QgKGMpLCBj
dXJ2ZV90eXBlX2NoYW5nZWRfc2lnbmFsKTsNCg0KICBndGtfbXlfY3VydmVfZHJhdyAoYywgYy0+
bnVtX3BvaW50cywgYy0+aGVpZ2h0KTsNCn0NCg0Kdm9pZA0KZ3RrX215X2N1cnZlX3NldF9yYW5n
ZSAoR3RrTXlDdXJ2ZSAqbXlfY3VydmUsDQoJCSAgICAgZ2Zsb2F0IG1pbl94LCBnZmxvYXQgbWF4
X3gsIGdmbG9hdCBtaW5feSwgZ2Zsb2F0IG1heF95KQ0Kew0KICBteV9jdXJ2ZS0+bWluX3ggPSBt
aW5feDsNCiAgbXlfY3VydmUtPm1heF94ID0gbWF4X3g7DQogIG15X2N1cnZlLT5taW5feSA9IG1p
bl95Ow0KICBteV9jdXJ2ZS0+bWF4X3kgPSBtYXhfeTsNCg0KICBndGtfbXlfY3VydmVfc2l6ZV9n
cmFwaCAobXlfY3VydmUpOw0KICBndGtfbXlfY3VydmVfcmVzZXRfdmVjdG9yIChteV9jdXJ2ZSk7
DQp9DQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0Kdm9pZA0KZ3RrX215
X2N1cnZlX3NldF92ZWN0b3IgKEd0a015Q3VydmUgKmMsIGludCB2ZWNsZW4sIGdmbG9hdCB2ZWN0
b3JbXSkNCnsNCiAgR3RrQ3VydmVUeXBlIG9sZF90eXBlOw0KICBnZmxvYXQgcngsIGR4LCByeTsN
CiAgZ2ludCBpLCBoZWlnaHQ7DQoNCiAgb2xkX3R5cGUgPSBjLT5jdXJ2ZV90eXBlOw0KICAvL2Mt
PmN1cnZlX3R5cGUgPSBHVEtfQ1VSVkVfVFlQRV9GUkVFOw0KDQogIGlmIChjLT5wb2ludCkNCiAg
ICBoZWlnaHQgPSBHVEtfV0lER0VUIChjKS0+YWxsb2NhdGlvbi5oZWlnaHQgLSBSQURJVVMgKiAy
Ow0KICBlbHNlDQogICAgew0KICAgICAgaGVpZ2h0ID0gKGMtPm1heF95IC0gYy0+bWluX3kpOw0K
ICAgICAgaWYgKGhlaWdodCA+IGdka19zY3JlZW5faGVpZ2h0ICgpIC8gNCkNCgloZWlnaHQgPSBn
ZGtfc2NyZWVuX2hlaWdodCAoKSAvIDQ7DQoNCiAgICAgIGMtPmhlaWdodCA9IGhlaWdodDsNCiAg
ICAgIGMtPm51bV9wb2ludHMgPSB2ZWNsZW47DQogIAljLT5wb2ludCA9IGdfbWFsbG9jIChjLT5u
dW1fcG9pbnRzICogc2l6ZW9mIChjLT5wb2ludFswXSkpOw0KICAgIH0NCiAgcnggPSAwLjsNCiAg
ZHggPSAoKGdmbG9hdCl2ZWNsZW4gLSAxLjApIC8gKChnZmxvYXQpYy0+bnVtX3BvaW50cyAtIDEu
MCk7DQoNCiAgZm9yIChpID0gMDsgaSA8IGMtPm51bV9wb2ludHM7ICsraSwgcnggKz0gZHgpDQog
ICAgew0KICAgICAgcnkgPSB2ZWN0b3JbKGludCkgKHJ4ICsgMC41KV07DQogICAgICBpZiAocnkg
PiBjLT5tYXhfeSkgcnkgPSBjLT5tYXhfeTsNCiAgICAgIGlmIChyeSA8IGMtPm1pbl95KSByeSA9
IGMtPm1pbl95Ow0KICAgICAgYy0+cG9pbnRbaV0ueCA9IFJBRElVUyArIGk7DQogICAgICBjLT5w
b2ludFtpXS55ID0NCglSQURJVVMgKyBoZWlnaHQgLSBwcm9qZWN0IChyeSwgYy0+bWluX3ksIGMt
Pm1heF95LCBoZWlnaHQpOw0KICAgIH0NCiAgLy9pZiAob2xkX3R5cGUgIT0gR1RLX0NVUlZFX1RZ
UEVfRlJFRSkNCiAgLy9ndGtfc2lnbmFsX2VtaXQgKEdUS19PQkpFQ1QgKGMpLCBjdXJ2ZV90eXBl
X2NoYW5nZWRfc2lnbmFsKTsNCg0KICBndGtfbXlfY3VydmVfZHJhdyAoYywgYy0+bnVtX3BvaW50
cywgaGVpZ2h0KTsNCn0NCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQp2
b2lkDQpndGtfbXlfY3VydmVfZ2V0X3ZlY3RvciAoR3RrTXlDdXJ2ZSAqYywgaW50IHZlY2xlbiwg
Z2Zsb2F0IHZlY3RvcltdKQ0Kew0KICBnZmxvYXQgcngsIHJ5LCBkeCwgZHksIG1pbl94LCBkZWx0
YV94LCAqbWVtLCAqeHYsICp5diwgKnkydiwgcHJldjsNCiAgZ2ludCBkc3QsIGksIHgsIG5leHQs
IG51bV9hY3RpdmVfY3RscG9pbnRzID0gMCwgZmlyc3RfYWN0aXZlID0gLTE7DQoNCiAgbWluX3gg
PSBjLT5taW5feDsNCg0KICBpZiAoYy0+Y3VydmVfdHlwZSAhPSBHVEtfQ1VSVkVfVFlQRV9GUkVF
KQ0KICAgIHsNCiAgICAgIC8qIGNvdW50IGFjdGl2ZSBwb2ludHM6ICovDQogICAgICBwcmV2ID0g
bWluX3ggLSAxLjA7DQogICAgICBmb3IgKGkgPSBudW1fYWN0aXZlX2N0bHBvaW50cyA9IDA7IGkg
PCBjLT5udW1fY3RscG9pbnRzOyArK2kpDQoJaWYgKGMtPmN0bHBvaW50W2ldWzBdID4gcHJldikN
CgkgIHsNCgkgICAgaWYgKGZpcnN0X2FjdGl2ZSA8IDApDQoJICAgICAgZmlyc3RfYWN0aXZlID0g
aTsNCgkgICAgcHJldiA9IGMtPmN0bHBvaW50W2ldWzBdOw0KCSAgICArK251bV9hY3RpdmVfY3Rs
cG9pbnRzOw0KCSAgfQ0KDQogICAgICAvKiBoYW5kbGUgZGVnZW5lcmF0ZSBjYXNlOiAqLw0KICAg
ICAgaWYgKG51bV9hY3RpdmVfY3RscG9pbnRzIDwgMikNCgl7DQoJICBpZiAobnVtX2FjdGl2ZV9j
dGxwb2ludHMgPiAwKQ0KCSAgICByeSA9IGMtPmN0bHBvaW50W2ZpcnN0X2FjdGl2ZV1bMV07DQoJ
ICBlbHNlDQoJICAgIHJ5ID0gYy0+bWluX3k7DQoJICBpZiAocnkgPCBjLT5taW5feSkgcnkgPSBj
LT5taW5feTsNCgkgIGlmIChyeSA+IGMtPm1heF95KSByeSA9IGMtPm1heF95Ow0KCSAgZm9yICh4
ID0gMDsgeCA8IHZlY2xlbjsgKyt4KQ0KCSAgICB2ZWN0b3JbeF0gPSByeTsNCgkgIHJldHVybjsN
Cgl9DQogICAgfQ0KDQogIHN3aXRjaCAoYy0+Y3VydmVfdHlwZSkNCiAgICB7DQogICAgY2FzZSBH
VEtfQ1VSVkVfVFlQRV9TUExJTkU6DQogICAgICBtZW0gPSBnX21hbGxvYyAoMyAqIG51bV9hY3Rp
dmVfY3RscG9pbnRzICogc2l6ZW9mIChnZmxvYXQpKTsNCiAgICAgIHh2ICA9IG1lbTsNCiAgICAg
IHl2ICA9IG1lbSArIG51bV9hY3RpdmVfY3RscG9pbnRzOw0KICAgICAgeTJ2ID0gbWVtICsgMipu
dW1fYWN0aXZlX2N0bHBvaW50czsNCg0KICAgICAgcHJldiA9IG1pbl94IC0gMS4wOw0KICAgICAg
Zm9yIChpID0gZHN0ID0gMDsgaSA8IGMtPm51bV9jdGxwb2ludHM7ICsraSkNCglpZiAoYy0+Y3Rs
cG9pbnRbaV1bMF0gPiBwcmV2KQ0KCSAgew0KCSAgICBwcmV2ICAgID0gYy0+Y3RscG9pbnRbaV1b
MF07DQoJICAgIHh2W2RzdF0gPSBjLT5jdGxwb2ludFtpXVswXTsNCgkgICAgeXZbZHN0XSA9IGMt
PmN0bHBvaW50W2ldWzFdOw0KCSAgICArK2RzdDsNCgkgIH0NCg0KICAgICAgc3BsaW5lX3NvbHZl
IChudW1fYWN0aXZlX2N0bHBvaW50cywgeHYsIHl2LCB5MnYpOw0KDQogICAgICByeCA9IG1pbl94
Ow0KICAgICAgZHggPSAoYy0+bWF4X3ggLSBtaW5feCkgLyAodmVjbGVuIC0gMSk7DQogICAgICBm
b3IgKHggPSAwOyB4IDwgdmVjbGVuOyArK3gsIHJ4ICs9IGR4KQ0KCXsNCgkgIHJ5ID0gc3BsaW5l
X2V2YWwgKG51bV9hY3RpdmVfY3RscG9pbnRzLCB4diwgeXYsIHkydiwgcngpOw0KCSAgaWYgKHJ5
IDwgYy0+bWluX3kpIHJ5ID0gYy0+bWluX3k7DQoJICBpZiAocnkgPiBjLT5tYXhfeSkgcnkgPSBj
LT5tYXhfeTsNCgkgIHZlY3Rvclt4XSA9IHJ5Ow0KCX0NCg0KICAgICAgZ19mcmVlIChtZW0pOw0K
ICAgICAgYnJlYWs7DQoNCiAgICBjYXNlIEdUS19DVVJWRV9UWVBFX0xJTkVBUjoNCiAgICAgIGR4
ID0gKGMtPm1heF94IC0gbWluX3gpIC8gKHZlY2xlbiAtIDEpOw0KICAgICAgcnggPSBtaW5feDsN
CiAgICAgIHJ5ID0gYy0+bWluX3k7DQogICAgICBkeSA9IDAuMDsNCiAgICAgIGkgID0gZmlyc3Rf
YWN0aXZlOw0KICAgICAgZm9yICh4ID0gMDsgeCA8IHZlY2xlbjsgKyt4LCByeCArPSBkeCkNCgl7
DQoJICBpZiAocnggPj0gYy0+Y3RscG9pbnRbaV1bMF0pDQoJICAgIHsNCgkgICAgICBpZiAocngg
PiBjLT5jdGxwb2ludFtpXVswXSkNCgkJcnkgPSBjLT5taW5feTsNCgkgICAgICBkeSA9IDAuMDsN
CgkgICAgICBuZXh0ID0gaSArIDE7DQoJICAgICAgd2hpbGUgKG5leHQgPCBjLT5udW1fY3RscG9p
bnRzDQoJCSAgICAgJiYgYy0+Y3RscG9pbnRbbmV4dF1bMF0gPD0gYy0+Y3RscG9pbnRbaV1bMF0p
DQoJCSsrbmV4dDsNCgkgICAgICBpZiAobmV4dCA8IGMtPm51bV9jdGxwb2ludHMpDQoJCXsNCgkJ
ICBkZWx0YV94ID0gYy0+Y3RscG9pbnRbbmV4dF1bMF0gLSBjLT5jdGxwb2ludFtpXVswXTsNCgkJ
ICBkeSA9ICgoYy0+Y3RscG9pbnRbbmV4dF1bMV0gLSBjLT5jdGxwb2ludFtpXVsxXSkNCgkJCS8g
ZGVsdGFfeCk7DQoJCSAgZHkgKj0gZHg7DQoJCSAgcnkgPSBjLT5jdGxwb2ludFtpXVsxXTsNCgkJ
ICBpID0gbmV4dDsNCgkJfQ0KCSAgICB9DQoJICB2ZWN0b3JbeF0gPSByeTsNCgkgIHJ5ICs9IGR5
Ow0KCX0NCiAgICAgIGJyZWFrOw0KDQogICAgY2FzZSBHVEtfQ1VSVkVfVFlQRV9GUkVFOg0KICAg
ICAgaWYgKGMtPnBvaW50KQ0KCXsNCgkgIHJ4ID0gMC4wOw0KCSAgZHggPSBjLT5udW1fcG9pbnRz
IC8gKGRvdWJsZSkgdmVjbGVuOw0KCSAgZm9yICh4ID0gMDsgeCA8IHZlY2xlbjsgKyt4LCByeCAr
PSBkeCkNCgkgICAgdmVjdG9yW3hdID0gdW5wcm9qZWN0IChSQURJVVMgKyBjLT5oZWlnaHQgLSBj
LT5wb2ludFsoaW50KSByeF0ueSwNCgkJCQkgICBjLT5taW5feSwgYy0+bWF4X3ksDQoJCQkJICAg
Yy0+aGVpZ2h0KTsNCgl9DQogICAgICBlbHNlDQoJbWVtc2V0ICh2ZWN0b3IsIDAsIHZlY2xlbiAq
IHNpemVvZiAodmVjdG9yWzBdKSk7DQogICAgICBicmVhazsNCiAgICB9DQp9DQoNCkd0a1dpZGdl
dCoNCmd0a19teV9jdXJ2ZV9uZXcgKHZvaWQpDQp7DQogIHJldHVybiBndGtfdHlwZV9uZXcgKGd0
a19teV9jdXJ2ZV9nZXRfdHlwZSAoKSk7DQp9DQoNCnN0YXRpYyB2b2lkDQpndGtfbXlfY3VydmVf
ZmluYWxpemUgKEd0a09iamVjdCAqb2JqZWN0KQ0Kew0KICBHdGtDdXJ2ZSAqbXlfY3VydmU7DQoN
CiAgZ19yZXR1cm5faWZfZmFpbCAob2JqZWN0ICE9IE5VTEwpOw0KICBnX3JldHVybl9pZl9mYWls
IChHVEtfSVNfTVlfQ1VSVkUgKG9iamVjdCkpOw0KDQogIG15X2N1cnZlID0gR1RLX01ZX0NVUlZF
IChvYmplY3QpOw0KICBpZiAobXlfY3VydmUtPnBpeG1hcCkNCiAgICBnZGtfcGl4bWFwX3VucmVm
IChteV9jdXJ2ZS0+cGl4bWFwKTsNCiAgaWYgKG15X2N1cnZlLT5wb2ludCkNCiAgICBnX2ZyZWUg
KG15X2N1cnZlLT5wb2ludCk7DQogIGlmIChteV9jdXJ2ZS0+Y3RscG9pbnQpDQogICAgZ19mcmVl
IChteV9jdXJ2ZS0+Y3RscG9pbnQpOw0KDQogICgqR1RLX09CSkVDVF9DTEFTUyAocGFyZW50X2Ns
YXNzKS0+ZmluYWxpemUpIChvYmplY3QpOw0KfQ0K

--0218-1234-57-PART-BREAK
Content-Type: application/octet-stream
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename=&quot;my_curve.h&quot;

LyoNCm15X2N1cnZlLmgNCg0KVGhlIEd0a19NeV9DdXJ2ZSBXaWRnZXQgaXMgb25seSBhbiAiYWxp
YXMiIG9mIHRoZSBvcmlnaW5hbCBHdGtfQ3VydmUgb25lIGJ5IHRoZSBHSU1QIFRlYW0uDQpJIGFt
IGp1c3QgdHJ5aW5nIHRvIGZpeCBzb21lIGJ1Z3Mgb2YgaXQuLi4NCiovDQoNCiNpZm5kZWYgX19H
VEtfTVlfQ1VSVkVfSF9fDQojZGVmaW5lIF9fR1RLX01ZX0NVUlZFX0hfXw0KDQojaW5jbHVkZSA8
Z2RrL2dkay5oPg0KDQojaWZkZWYgX19jcGx1c3BsdXMNCmV4dGVybiAiQyIgew0KI2VuZGlmIC8q
IF9fY3BsdXNwbHVzICovDQoNCg0KI2RlZmluZSBHVEtfVFlQRV9NWV9DVVJWRSAgICAgICAgICAg
ICAgICAgIChndGtfbXlfY3VydmVfZ2V0X3R5cGUgKCkpDQojZGVmaW5lIEdUS19NWV9DVVJWRShv
YmopICAgICAgICAgICAgICAgICAgKEdUS19DSEVDS19DQVNUICgob2JqKSwgR1RLX1RZUEVfTVlf
Q1VSVkUsIEd0a015Q3VydmUpKQ0KI2RlZmluZSBHVEtfTVlfQ1VSVkVfQ0xBU1Moa2xhc3MpICAg
ICAgICAgIChHVEtfQ0hFQ0tfQ0xBU1NfQ0FTVCAoKGtsYXNzKSwgR1RLX1RZUEVfTVlfQ1VSVkUs
IEd0a015Q3VydmVDbGFzcykpDQojZGVmaW5lIEdUS19JU19NWV9DVVJWRShvYmopICAgICAgICAg
ICAgICAgKEdUS19DSEVDS19UWVBFICgob2JqKSwgR1RLX1RZUEVfTVlfQ1VSVkUpKQ0KI2RlZmlu
ZSBHVEtfSVNfTVlfQ1VSVkVfQ0xBU1Moa2xhc3MpICAgICAgIChHVEtfQ0hFQ0tfQ0xBU1NfVFlQ
RSAoKGtsYXNzKSwgR1RLX1RZUEVfTVlfQ1VSVkUpKQ0KDQoNCnR5cGVkZWYgc3RydWN0IF9HdGtD
dXJ2ZQlHdGtNeUN1cnZlOw0KdHlwZWRlZiBzdHJ1Y3QgX0d0a0N1cnZlQ2xhc3MJR3RrTXlDdXJ2
ZUNsYXNzOw0KDQoNCnN0cnVjdCBfR3RrTXlDdXJ2ZQ0Kew0KICBHdGtEcmF3aW5nQXJlYSBncmFw
aDsNCg0KICBnaW50IGN1cnNvcl90eXBlOw0KICBnZmxvYXQgbWluX3g7DQogIGdmbG9hdCBtYXhf
eDsNCiAgZ2Zsb2F0IG1pbl95Ow0KICBnZmxvYXQgbWF4X3k7DQogIEdka1BpeG1hcCAqcGl4bWFw
Ow0KICBHdGtDdXJ2ZVR5cGUgY3VydmVfdHlwZTsNCiAgZ2ludCBoZWlnaHQ7ICAgICAgICAgICAg
ICAgICAgLyogKGNhY2hlZCkgZ3JhcGggaGVpZ2h0IGluIHBpeGVscyAqLw0KICBnaW50IGdyYWJf
cG9pbnQ7ICAgICAgICAgICAgICAvKiBwb2ludCBjdXJyZW50bHkgZ3JhYmJlZCAqLw0KICBnaW50
IGxhc3Q7DQoNCiAgLyogKGNhY2hlZCkgY3VydmUgcG9pbnRzOiAqLw0KICBnaW50IG51bV9wb2lu
dHM7DQogIEdka1BvaW50ICpwb2ludDsNCg0KICAvKiBjb250cm9sIHBvaW50czogKi8NCiAgZ2lu
dCBudW1fY3RscG9pbnRzOyAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvbnRyb2wgcG9pbnRzICov
DQogIGdmbG9hdCAoKmN0bHBvaW50KVsyXTsgICAgICAgIC8qIGFycmF5IG9mIGNvbnRyb2wgcG9p
bnRzICovDQp9Ow0KDQpzdHJ1Y3QgX0d0a015Q3VydmVDbGFzcw0Kew0KICBHdGtEcmF3aW5nQXJl
YUNsYXNzIHBhcmVudF9jbGFzczsNCg0KICB2b2lkICgqIGN1cnZlX3R5cGVfY2hhbmdlZCkgKEd0
a015Q3VydmUgKm15X2N1cnZlKTsNCn07DQoNCg0KR3RrVHlwZQlndGtfbXlfY3VydmVfZ2V0X3R5
cGUJKHZvaWQpOw0KR3RrV2lkZ2V0KglndGtfbXlfY3VydmVfbmV3CQkodm9pZCk7DQp2b2lkCQln
dGtfbXlfY3VydmVfcmVzZXQJKEd0a015Q3VydmUgKm15X2N1cnZlKTsNCnZvaWQJCWd0a19teV9j
dXJ2ZV9zZXRfZ2FtbWEJKEd0a015Q3VydmUgKm15X2N1cnZlLCBnZmxvYXQgZ2FtbWEpOw0Kdm9p
ZAkJZ3RrX215X2N1cnZlX3NldF9yYW5nZQkoR3RrTXlDdXJ2ZSAqbXlfY3VydmUsDQoJCQkJCSBn
ZmxvYXQgbWluX3gsIGdmbG9hdCBtYXhfeCwNCgkJCQkJIGdmbG9hdCBtaW5feSwgZ2Zsb2F0IG1h
eF95KTsNCnZvaWQJCWd0a19teV9jdXJ2ZV9nZXRfdmVjdG9yCShHdGtNeUN1cnZlICpteV9jdXJ2
ZSwNCgkJCQkJIGludCB2ZWNsZW4sIGdmbG9hdCB2ZWN0b3JbXSk7DQp2b2lkCQlndGtfbXlfY3Vy
dmVfc2V0X3ZlY3RvcgkoR3RrTXlDdXJ2ZSAqbXlfY3VydmUsDQoJCQkJCSBpbnQgdmVjbGVuLCBn
ZmxvYXQgdmVjdG9yW10pOw0KDQp2b2lkCQlndGtfbXlfY3VydmVfc2V0X2N1cnZlX3R5cGUgKEd0
a015Q3VydmUgKm15X2N1cnZlLCBHdGtDdXJ2ZVR5cGUgdHlwZSk7DQoNCg0KI2lmZGVmIF9fY3Bs
dXNwbHVzDQp9DQojZW5kaWYgLyogX19jcGx1c3BsdXMgKi8NCg0KDQojZW5kaWYgLyogX19HVEtf
TVlfQ1VSVkVfSF9fICovDQo=

--0218-1234-57-PART-BREAK--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001149.html">[Glade-users] Modal Screens
</A></li>
	<LI> Next message: <A HREF="001153.html">[Glade-users] Gtk Curve problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1150">[ date ]</a>
              <a href="thread.html#1150">[ thread ]</a>
              <a href="subject.html#1150">[ subject ]</a>
              <a href="author.html#1150">[ author ]</a>
         </LI>
       </UL>
</body></html>
