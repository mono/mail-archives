<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] newbie: making system calls from GUI
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:michele.floris%40cern.ch">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001104.html">
   <LINK REL="Next"  HREF="001105.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] newbie: making system calls from GUI
   </H1>
    <B>Michele Floris
    </B> 
    <A HREF="mailto:michele.floris%40cern.ch"
       TITLE="[Glade-users] newbie: making system calls from GUI">michele.floris@cern.ch
       </A><BR>
    <I>Thu, 06 Feb 2003 12:18:47 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="001104.html">[Glade-users] newbie: making system calls from GUI
</A></li>
        <LI> Next message: <A HREF="001105.html">[Glade-users] window always on top
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1103">[ date ]</a>
              <a href="thread.html#1103">[ thread ]</a>
              <a href="subject.html#1103">[ subject ]</a>
              <a href="author.html#1103">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I use something like this:

///////////////////////////////////////////////////////////////////////

int execute_command(char command[], char * str, int number_of_char){

// This function executes &quot;command&quot; and put its output in the vector 
pointed by str,
// up to a number of characters equal to number_of_char, one line every 
number_of_char characters
.
// Returns the number of line read

   FILE * stream ;

   int i = 0;

   if ( (stream = popen(command,&quot;r&quot;)) == NULL){
     perror(&quot;Error, while executing&quot;);
     exit(1);
   }

   while ( fgets(str + (i*number_of_char) , number_of_char, stream ) != 
NULL) i++;


   pclose(stream);

   return i;
}

////////////////////////////////////////////////////////////////////

This funztions opens a pipe to the command given as an argument (for 
example &quot;mozilla&quot;) and gets the standard output.
If you also want to get the standart error using this functions you 
should redirect it to the standard output (that is command should be 
something like &quot;mozilla 2&gt;&amp;1&quot;). You'll probably also need to include an 
&quot;&amp;&quot; to your command, otherwise your GUI will get stuck till the end of 
the program.
Maybe you can find a different (more complicated) way of doing it using 
fork(2) or some other function, but I never tried it.

Cheers,
m.
Manu C S wrote:
 &gt; Hi,
 &gt;
 &gt; I'm making a GUI for system commands.
 &gt; For example, when a user clicks on a button, I want some system
 &gt; command to be executed in the background and I want to trap the
 &gt; output of the command and display it in my GUI.
 &gt;
 &gt; For example, if I want to launch a browser from my gui
 &gt; when a user clicks on a certain button, should I have this in
 &gt; the callback function of that button:
 &gt;     system(&quot;mozilla&quot;);
 &gt; Is that correct?
 &gt; How do I handle commands that write to stdout?
 &gt;
 &gt; I looked up the archives, but found nothing relevant.
 &gt; Can anyone please help? It's rather urgent.
 &gt;
 &gt;
 &gt; Thanks,
 &gt; Manu
 &gt;
 &gt; _______________________________________________
 &gt; Glade-users maillist  -  <A HREF="mailto:Glade-users@lists.ximian.com">Glade-users@lists.ximian.com</A>
 &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001104.html">[Glade-users] newbie: making system calls from GUI
</A></li>
	<LI> Next message: <A HREF="001105.html">[Glade-users] window always on top
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1103">[ date ]</a>
              <a href="thread.html#1103">[ thread ]</a>
              <a href="subject.html#1103">[ subject ]</a>
              <a href="author.html#1103">[ author ]</a>
         </LI>
       </UL>
</body></html>
