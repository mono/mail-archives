<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] gtktreeappend
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20gtktreeappend&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002654.html">
   <LINK REL="Next"  HREF="002656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] gtktreeappend</H1>
    <B>srinivas</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20gtktreeappend&In-Reply-To="
       TITLE="[Glade-users] gtktreeappend">srinivas at comodo.com
       </A><BR>
    <I>Thu Jul  7 11:06:09 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002654.html">[Glade-users] tree append
</A></li>
        <LI>Next message: <A HREF="002656.html">[Glade-users] locals no in fileshooserdialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2655">[ date ]</a>
              <a href="thread.html#2655">[ thread ]</a>
              <a href="subject.html#2655">[ subject ]</a>
              <a href="author.html#2655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi;

       i creeated with glade like, window with button_simp_list_get_ent,
and treeview_ent_widget, when i press button_simp_list_get_ent, another
window with entry_simp_list_entry, and button_simp_entry, will pop up.
now when i enter data and press button_simp_entry, the entered text has
to append to the treeview_ent_widget(created with glade). window
displaying but i can't able to append data. i am not getting any error.

here is the developed one:

enum
{
  COL_TEXT = 0,
  NUM_COLS
};

void
on_button_simp_list_get_ent_pressed    (GtkButton       *button,
                                        gpointer         user_data)
{
   gtk_widget_show (create_window_simp_entry());/*--&gt;displays window
with entry, button*/

}


void
on_entry_simp_list_entry_activate      (GtkEntry        *entry,
                                        gpointer         user_data)
{

GtkWidget *win_simp_entry, *win_simp_list, *win_simp_list1, *button;

win_simp_list1 = create_window_simp_list ();
win_simp_list = lookup_widget (win_simp_list1, &quot;window_simp_list&quot;);
win_simp_entry = lookup_widget(GTK_WIDGET (button),
&quot;window_simp_entry&quot;);

button = lookup_widget (win_simp_entry, &quot;button_simp_entry&quot;);

g_signal_connect(entry, &quot;activate&quot;,
G_CALLBACK(on_button_simp_entry_pressed), NULL);

g_signal_connect_swapped(button, &quot;clicked&quot;,
G_CALLBACK(on_button_simp_entry_pressed), entry);

}

GtkWidget *
create_list_view (void)
{
GtkWidget *win_simp_entry, *win_simp_list, *win_simp_list1, *entry;
const gchar *txt;
GtkCellRenderer    *cell, *renderer;
GtkTreeViewColumn  *file_column, *col;
GtkTreeSelection   *sel;
GtkListStore       *tree_store;
GtkWidget          *treeview, *view;

win_simp_list1 = create_window_simp_list ();
win_simp_list = lookup_widget(win_simp_list1, &quot;window_simp_list&quot;);
treeview = lookup_widget(win_simp_list,
&quot;treeview_ent_widget&quot;);/*--&gt;created with glade*/


tree_store = gtk_list_store_new(1, G_TYPE_STRING);

    //gtk_tree_view_set_model(GTK_TREE_VIEW(treeview), GTK_TREE_MODEL
(tree_store));

treeview = gtk_tree_view_new_with_model (GTK_TREE_MODEL (tree_store));
    
cell = gtk_cell_renderer_text_new();

file_column = gtk_tree_view_column_new_with_attributes(_(&quot;File&quot;), cell,
&quot;text&quot;, 0, COL_TEXT); 

gtk_tree_view_append_column(GTK_TREE_VIEW(treeview),
GTK_TREE_VIEW_COLUMN(file_column)); 

gtk_widget_show_all (win_simp_list); 
    return treeview;
}


void
on_button_simp_entry_pressed           (GtkButton       *button,
                                        gpointer         user_data)
    
{
GtkWidget *win_simp_entry, *win_simp_list, *win_simp_list1, *entry;
const gchar *txt;

GtkCellRenderer    *renderer, *cell;
GtkTreeViewColumn  *col, *file_column;
GtkTreeSelection   *sel;
//GtkListStore       *liststore, *tree_store;
GtkWidget          *view;

win_simp_list1 = create_window_simp_list ();
win_simp_list = lookup_widget(win_simp_list1, &quot;window_simp_list&quot;);
win_simp_entry = lookup_widget (GTK_WIDGET(button),&quot;window_simp_entry&quot;);
entry = lookup_widget (win_simp_entry, &quot;entry_simp_list_entry&quot;);

g_assert (GTK_IS_ENTRY (entry));
txt = gtk_entry_get_text (GTK_ENTRY(entry));

view = create_list_view ();

if (txt &amp;&amp; *txt)
{ 
GtkTreeModel *model;
GtkTreeIter newrow;
    
model = gtk_tree_view_get_model (GTK_TREE_VIEW (view));

gtk_list_store_append (GTK_LIST_STORE (model), &amp;newrow);

gtk_list_store_set (GTK_LIST_STORE (model), &amp;newrow, COL_TEXT, txt, -1);

gtk_entry_set_text (GTK_ENTRY (entry), &quot; &quot;);
}

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002654.html">[Glade-users] tree append
</A></li>
	<LI>Next message: <A HREF="002656.html">[Glade-users] locals no in fileshooserdialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2655">[ date ]</a>
              <a href="thread.html#2655">[ thread ]</a>
              <a href="subject.html#2655">[ subject ]</a>
              <a href="author.html#2655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
