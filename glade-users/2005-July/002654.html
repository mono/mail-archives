<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] tree append
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20tree%20append&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002653.html">
   <LINK REL="Next"  HREF="002655.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] tree append</H1>
    <B>srinivas</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20tree%20append&In-Reply-To="
       TITLE="[Glade-users] tree append">srinivas at comodo.com
       </A><BR>
    <I>Thu Jul  7 09:07:29 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002653.html">[Glade-users] Error on autogen.sh
</A></li>
        <LI>Next message: <A HREF="002655.html">[Glade-users] gtktreeappend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2654">[ date ]</a>
              <a href="thread.html#2654">[ thread ]</a>
              <a href="subject.html#2654">[ subject ]</a>
              <a href="author.html#2654">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi, 

i am developing tree view with glade, i am getting error like;


(gtk_tree_view_get_model): assertion `GTK_IS_TREE_VIEW (tree_view)'
failed
 
 file gtkliststore.c: line 1320 (gtk_list_store_append): assertion
`GTK_IS_LIST_STORE (list_store)' failed
 
 file gtkliststore.c: line 923 (gtk_list_store_set): assertion
`GTK_IS_LIST_STORE (list_store)' failed

here i gave the code.


`on_button_pressed    (GtkButton       *button,
                      gpointer         user_data)
{
   gtk_widget_show (create_window_simple_entry());-&gt;displays the window
with entry, and button
        
}


void
on_entry_activate      (GtkEntry        *entry,
                        gpointer         user_data)
{
        
        GtkWidget *win_simp_entry, *win_simp_list, *win_simp_list1,
*button;
        
        win_simp_list1 = create_window_simp_list ();
        win_simp_list = lookup_widget (win_simp_list1,
&quot;window_simp_list&quot;);-&gt;
to refer main window_simp_entry
                                                        
                                                                                                        |-&gt; treeview developed with glade.
        treeview = lookup_widget (win_simp_list, &quot;treeview_simp_list&quot;);
        
        
        win_simp_entry = lookup_widget(GTK_WIDGET (button),
&quot;window_simp_entry&quot;);
        
        button = lookup_widget (win_simp_entry, &quot;button_simp_entry&quot;);
        
        g_signal_connect(entry, &quot;activate&quot;,
G_CALLBACK(on_button_entry_pressed), NULL);
        
        g_signal_connect_swapped(button, &quot;clicked&quot;,
G_CALLBACK(on_button_entry_pressed), entry);

}


void
on_button_entry_pressed           (GtkButton       *button,
                                   gpointer         user_data)
{
        GtkWidget *win_simp_entry, *win_simp_list, *win_simp_list1,
*entry;
        const gchar *txt;
        
        GtkCellRenderer     *cell;
        GtkTreeViewColumn   *file_column;
        GtkTreeSelection   *sel;
        //GtkListStore       *liststore, *tree_store;
        GtkWidget          *view;

        win_simp_list1 = create_window_simp_list ();
        win_simp_list = lookup_widget(win_simp_list1,
&quot;window_simp_list&quot;);
        //treeview = lookup_widget(win_simp_list, &quot;treeview_simp_list&quot;);
        win_simp_entry = lookup_widget
(GTK_WIDGET(button),&quot;window_simp_entry&quot;);
        entry = lookup_widget (win_simp_entry, &quot;entry_simp_list_entry&quot;);
    //button = lookup_widget(win_simp_entry, &quot;button_simp_entry&quot;);
        
        g_assert (GTK_IS_ENTRY (entry));
        txt = gtk_entry_get_text (GTK_ENTRY(entry));
                
        if (txt &amp;&amp; *txt)
        {
                GtkTreeModel *model;
                GtkTreeIter newrow;
                
                model = gtk_tree_view_get_model (GTK_TREE_VIEW
(treeview));
                
                gtk_list_store_append (GTK_LIST_STORE (model), &amp;newrow);
                
                gtk_list_store_set (GTK_LIST_STORE (model), &amp;newrow,
COL_TEXT, txt,
-1);
                
                gtk_entry_set_text (GTK_ENTRY (entry), &quot; &quot;);
        }
                
        //gtk_widget_show_all (win_simp_list);          
}

static GtkWidget *
create_list_view (void)
{
        GtkWidget *win_simp_entry, *win_simp_list, *win_simp_list1,
*entry;
        const gchar *txt;
        GtkCellRenderer    *cell;
        GtkTreeViewColumn  *file_column;
        GtkTreeSelection   *sel;
        GtkListStore       *tree_store;
        GtkWidget          *view;
        
        win_simp_list1 = create_window_simp_list ();
        win_simp_list = lookup_widget(win_simp_list1,
&quot;window_simp_list&quot;);
        treeview = lookup_widget(win_simp_list, &quot;treeview_simp_list&quot;);

        tree_store = gtk_list_store_new(1, G_TYPE_STRING);
        
    gtk_tree_view_set_model(GTK_TREE_VIEW(treeview), GTK_TREE_MODEL
(tree_store));
 
        cell = gtk_cell_renderer_text_new();
        
        file_column = gtk_tree_view_column_new_with_attributes
(_(&quot;File&quot;),
cell, &quot;text&quot;, 0, COL_TEXT);
        
        gtk_tree_view_append_column(GTK_TREE_VIEW(treeview),
GTK_TREE_VIEW_COLUMN(file_column));
        
        return treeview;
        
}


what am i doing wrong;  


Thanks&amp;Regards;

Srinivas


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002653.html">[Glade-users] Error on autogen.sh
</A></li>
	<LI>Next message: <A HREF="002655.html">[Glade-users] gtktreeappend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2654">[ date ]</a>
              <a href="thread.html#2654">[ thread ]</a>
              <a href="subject.html#2654">[ subject ]</a>
              <a href="author.html#2654">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
