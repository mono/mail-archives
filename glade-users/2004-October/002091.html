<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Strange differences with gtk and libglade
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:damon%40karuna.uklinux.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002090.html">
   <LINK REL="Next"  HREF="002096.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Strange differences with gtk and libglade
   </H1>
    <B>Damon Chaplin
    </B> 
    <A HREF="mailto:damon%40karuna.uklinux.net"
       TITLE="[Glade-users] Strange differences with gtk and libglade">damon@karuna.uklinux.net
       </A><BR>
    <I>Wed, 06 Oct 2004 17:39:57 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="002090.html">[Glade-users] Strange differences with gtk and libglade
</A></li>
        <LI> Next message: <A HREF="002096.html">[Glade-users] glade-3 status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2091">[ date ]</a>
              <a href="thread.html#2091">[ thread ]</a>
              <a href="subject.html#2091">[ subject ]</a>
              <a href="author.html#2091">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2004-10-06 at 19:25, antongiulio wrote:
&gt;<i> Hi,
</I>&gt;<i> (sorry for my bad english)
</I>&gt;<i> (for my mistake this mail sent gtk-list too:( sorry)
</I>&gt;<i> 
</I>&gt;<i> I'm learning to use gtk and libglade libraries.
</I>&gt;<i> 
</I>&gt;<i> I have made a simple GtkWindow manually and with glade-2.6.0 program (just .glade file to use with libglade).
</I>&gt;<i> In manual-window I have added a 'close-button' with this signal:
</I>&gt;<i> 
</I>&gt;<i> g_signal_connect (G_OBJECT (button_close), &quot;clicked&quot;,
</I>&gt;<i>                       G_CALLBACK (do_things_and_exit), (gpointer) window);
</I>&gt;<i> 
</I>&gt;<i> and relative callback handler:
</I>&gt;<i> 
</I>&gt;<i> void
</I>&gt;<i> do_things_and_exit (GtkButton * button, gpointer user_data)
</I>&gt;<i> {
</I>&gt;<i> 	/* various things */
</I>&gt;<i> 	.................
</I>&gt;<i> 
</I>&gt;<i> 	gtk_widget_destroy (GTK_WIDGET (user_data));
</I>&gt;<i> 
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> This code works properly (press close button: do various things and close window).
</I>&gt;<i> 
</I>&gt;<i> With glade program I have edited a window.glade file and added to 'close-button' property this signal:
</I>&gt;<i> 
</I>&gt;<i> signal: clicked
</I>&gt;<i> handler: do_things_and_exit
</I>&gt;<i> object: window
</I>&gt;<i> 
</I>&gt;<i> launch signals with:
</I>&gt;<i> 
</I>&gt;<i> glade_xml_signal_autoconnect(window_xml_glade);
</I>&gt;<i> 
</I>&gt;<i> but when I press close-button, just close-button is deleted and window is on again... WHY???
</I>
If you set the 'object:' field, that object becomes the first argument
to the callback.

So if you did this it would work:

	gtk_widget_destroy (GTK_WIDGET (button));

Lots of people are confused by the 'object:' field, so it is best to
just not use it.



&gt;<i> Last question:
</I>&gt;<i> 
</I>&gt;<i> How is it possibile pass a constant value with libglade?
</I>&gt;<i> 
</I>&gt;<i> In manual-gtk I have:
</I>&gt;<i> 
</I>&gt;<i> g_signal_connect (G_OBJECT (my_button_widget), &quot;clicked&quot;,
</I>&gt;<i> 		    G_CALLBACK (my_handler), GINT_TO_POINTER (1000));
</I>&gt;<i> 
</I>&gt;<i> and with libglade???
</I>
You can use glade_xml_signal_connect_data(). See:

<A HREF="http://developer.gnome.org/doc/API/2.0/libglade/GladeXML.html#glade-xml-signal-connect-data">http://developer.gnome.org/doc/API/2.0/libglade/GladeXML.html#glade-xml-signal-connect-data</A>

Damon



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002090.html">[Glade-users] Strange differences with gtk and libglade
</A></li>
	<LI> Next message: <A HREF="002096.html">[Glade-users] glade-3 status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2091">[ date ]</a>
              <a href="thread.html#2091">[ thread ]</a>
              <a href="subject.html#2091">[ subject ]</a>
              <a href="author.html#2091">[ author ]</a>
         </LI>
       </UL>
</body></html>
