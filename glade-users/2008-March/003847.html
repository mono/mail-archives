<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] problems with treeview (Atmadarshini devi dasi)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20problems%20with%20treeview%20%28Atmadarshini%20devi%20dasi%29&In-Reply-To=mailman.11526.1205841848.1961.glade-users%40lists.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003843.html">
   <LINK REL="Next"  HREF="003848.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] problems with treeview (Atmadarshini devi dasi)</H1>
    <B>=?GBK?B?1qPOsA==?=</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20problems%20with%20treeview%20%28Atmadarshini%20devi%20dasi%29&In-Reply-To=mailman.11526.1205841848.1961.glade-users%40lists.ximian.com"
       TITLE="[Glade-users] problems with treeview (Atmadarshini devi dasi)">neubuffalo at 163.com
       </A><BR>
    <I>Tue Mar 18 21:24:24 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003843.html">[Glade-users] How to create a popup menu using glade
</A></li>
        <LI>Next message: <A HREF="003848.html">[Glade-users] Glade equivalent to JPanel?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3847">[ date ]</a>
              <a href="thread.html#3847">[ thread ]</a>
              <a href="subject.html#3847">[ subject ]</a>
              <a href="author.html#3847">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>the tree view is not a toplevel widget ,so you have to pack it into a container to show it.In the callback of the button ,you create a new window ,and tree view,while you do not pack the tree view into the windows.
if you want the callback function of button to manipulate the treeview in the main window which the button is pack into,you can use the lookup_widget()function or g_object_set()and g_object_get() function,to obtain the pointer of the tree view in the main windows.
 Generally there are 4 steps to use the treeview widget.
 1.add data to Gtkliststore or Gtktreestore.
 2.pack the GtktreeviewColumn into  GTKtreeview
 3.pack the Gtkcellrenderer into a GtktreeviewColumn
 3.bind the data in Gtklist(tree)store with Gtkcellrenderer.
 
 

&#212;&#218;2008-03-18&#163;&#172;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users-request at lists.ximian.com</A> &#208;&#180;&#181;&#192;&#163;&#186;

Send Glade-users mailing list submissions to
	<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users at lists.ximian.com</A>

To subscribe or unsubscribe via the World Wide Web, visit
	<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
or, via email, send a message with subject or body 'help' to
	<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users-request at lists.ximian.com</A>

You can reach the person managing the list at
	<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users-owner at lists.ximian.com</A>

When replying, please edit your Subject line so it is more specific
than &quot;Re: Contents of Glade-users digest...&quot;


Today's Topics:

   1. Re: problems with treeview (Tristan Van Berkom)
   2. Re: problems with treeview (Alexey Kurochkin)
   3. How to create a popup menu using glade (praveenya kumar)
   4. Re: problems with treeview (Atmadarshini devi dasi)


----------------------------------------------------------------------

Message: 1
Date: Mon, 17 Mar 2008 14:21:33 -0300
From: &quot;Tristan Van Berkom&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">tvb at gnome.org</A>&gt;
Subject: Re: [Glade-users] problems with treeview
To: &quot;Atmadarshini devi dasi&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">atmadarshini_dd at yahoo.com</A>&gt;
Cc: glade users &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users at lists.ximian.com</A>&gt;
Message-ID:
	&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">560259cb0803171021r1c47cfcj309572f3fe881d8e at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1

Hi, what version of glade are you using ? can you send
us the glade file ?

-Tristan

On Mon, Mar 17, 2008 at 1:39 PM, Atmadarshini devi dasi
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">atmadarshini_dd at yahoo.com</A>&gt; wrote:
&gt;<i> hi there
</I>&gt;<i>
</I>&gt;<i> I am trying to use treeview in order to view an addressbook that i am trying
</I>&gt;<i> to create. now i was trying out a working example that is suppose to work to
</I>&gt;<i> see how things work before implementing my own function.
</I>&gt;<i> but for some reason all that it does is shows me an empty treeview screen
</I>&gt;<i> with no data or headings in it. on the glade side of things, all i have done
</I>&gt;<i> is put in the treeview into the window. I have not attched any signals or
</I>&gt;<i> changed anything. Is that correct?
</I>&gt;<i>
</I>&gt;<i> I have posted the code below that I have used.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> enum
</I>&gt;<i> {
</I>&gt;<i>   COL_FIRST_NAME = 0,
</I>&gt;<i>   COL_LAST_NAME,
</I>&gt;<i>   COL_YEAR_BORN,
</I>&gt;<i>   NUM_COLS
</I>&gt;<i> } ;
</I>&gt;<i>
</I>&gt;<i> static GtkTreeModel *
</I>&gt;<i> create_and_fill_model (void)
</I>&gt;<i> {
</I>&gt;<i>   GtkTreeStore  *treestore;
</I>&gt;<i>   GtkTreeIter    toplevel, child;
</I>&gt;<i>
</I>&gt;<i>   treestore = gtk_tree_store_new(NUM_COLS, G_TYPE_STRING, G_TYPE_STRING,
</I>&gt;<i> G_TYPE_UINT); /* NUM_COLS = 3 */
</I>&gt;<i>
</I>&gt;<i>   /* Append a top level row and leave it empty */
</I>&gt;<i>   gtk_tree_store_append(treestore, &amp;toplevel, NULL);
</I>&gt;<i>   gtk_tree_store_set(treestore, &amp;toplevel,
</I>&gt;<i>                      COL_FIRST_NAME, &quot;Maria&quot;,
</I>&gt;<i>                      COL_LAST_NAME, &quot;Incognito&quot;,
</I>&gt;<i>                      -1);
</I>&gt;<i>
</I>&gt;<i>   /* Append a second top level row, and fill it with some data */
</I>&gt;<i>   gtk_tree_store_append(treestore, &amp;toplevel, NULL);
</I>&gt;<i>   gtk_tree_store_set(treestore, &amp;toplevel,
</I>&gt;<i>                      COL_FIRST_NAME, &quot;Jane&quot;,
</I>&gt;<i>                      COL_LAST_NAME, &quot;Average&quot;,
</I>&gt;<i>                      COL_YEAR_BORN, (guint) 1962,
</I>&gt;<i>                      -1);
</I>&gt;<i>
</I>&gt;<i>   /* Append a child to the second top level row, and fill in some data */
</I>&gt;<i>   gtk_tree_store_append(treestore, &amp;child, &amp;toplevel);
</I>&gt;<i>   gtk_tree_store_set(treestore, &amp;child,
</I>&gt;<i>                      COL_FIRST_NAME, &quot;Janinita&quot;,
</I>&gt;<i>                      COL_LAST_NAME, &quot;Average&quot;,
</I>&gt;<i>                      COL_YEAR_BORN, (guint) 1985,
</I>&gt;<i>                      -1);
</I>&gt;<i>
</I>&gt;<i>   return GTK_TREE_MODEL(treestore);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> void
</I>&gt;<i> age_cell_data_func (GtkTreeViewColumn *col,
</I>&gt;<i>                     GtkCellRenderer   *renderer,
</I>&gt;<i>                     GtkTreeModel      *model,
</I>&gt;<i>                     GtkTreeIter       *iter,
</I>&gt;<i>                     gpointer           user_data)
</I>&gt;<i> {
</I>&gt;<i>   guint  year_born;
</I>&gt;<i>   guint  year_now = 2003; /* to save code not relevant for the example */
</I>&gt;<i>   gchar  buf[64];
</I>&gt;<i>
</I>&gt;<i>   gtk_tree_model_get(model, iter, COL_YEAR_BORN, &amp;year_born, -1);
</I>&gt;<i>
</I>&gt;<i>   if (year_born &lt;= year_now &amp;&amp; year_born &gt; 0)
</I>&gt;<i>   {
</I>&gt;<i>     guint age = year_now - year_born;
</I>&gt;<i>
</I>&gt;<i>     g_snprintf(buf, sizeof(buf), &quot;%u years old&quot;, age);
</I>&gt;<i>
</I>&gt;<i>     g_object_set(renderer, &quot;foreground-set&quot;, FALSE, NULL); /* print this
</I>&gt;<i> normal */
</I>&gt;<i>   }
</I>&gt;<i>   else
</I>&gt;<i>   {
</I>&gt;<i>     g_snprintf(buf, sizeof(buf), &quot;age unknown&quot;);
</I>&gt;<i>     g_object_set(renderer, &quot;foreground&quot;, &quot;Red&quot;, &quot;foreground-set&quot;, TRUE,
</I>&gt;<i> NULL); /* make red */
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   g_object_set(renderer, &quot;text&quot;, buf, NULL);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> static GtkWidget *
</I>&gt;<i> create_view_and_model (void)
</I>&gt;<i> {
</I>&gt;<i>   GtkTreeViewColumn   *col;
</I>&gt;<i>   GtkCellRenderer     *renderer;
</I>&gt;<i>   GtkWidget           *view;
</I>&gt;<i>   GtkTreeModel        *model;
</I>&gt;<i>
</I>&gt;<i>   view = gtk_tree_view_new();
</I>&gt;<i>
</I>&gt;<i>   /* --- Column #1 --- */
</I>&gt;<i>
</I>&gt;<i>   col = gtk_tree_view_column_new();
</I>&gt;<i>
</I>&gt;<i>   gtk_tree_view_column_set_title(col, &quot;First Name&quot;);
</I>&gt;<i>
</I>&gt;<i>   /* pack tree view column into tree view */
</I>&gt;<i>   gtk_tree_view_append_column(GTK_TREE_VIEW(view), col);
</I>&gt;<i>
</I>&gt;<i>   renderer = gtk_cell_renderer_text_new();
</I>&gt;<i>
</I>&gt;<i>   /* pack cell renderer into tree view column */
</I>&gt;<i>   gtk_tree_view_column_pack_start(col, renderer, TRUE);
</I>&gt;<i>
</I>&gt;<i>   /* connect 'text' property of the cell renderer to model column that
</I>&gt;<i> contains the first name */
</I>&gt;<i>   gtk_tree_view_column_add_attribute(col, renderer, &quot;text&quot;, COL_FIRST_NAME);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   /* --- Column #2 --- */
</I>&gt;<i>
</I>&gt;<i>   col = gtk_tree_view_column_new();
</I>&gt;<i>
</I>&gt;<i>   gtk_tree_view_column_set_title(col, &quot;Last Name&quot;);
</I>&gt;<i>
</I>&gt;<i>   /* pack tree view column into tree view */
</I>&gt;<i>   gtk_tree_view_append_column(GTK_TREE_VIEW(view), col);
</I>&gt;<i>
</I>&gt;<i>   renderer = gtk_cell_renderer_text_new();
</I>&gt;<i>
</I>&gt;<i>   /* pack cell renderer into tree view column */
</I>&gt;<i>   gtk_tree_view_column_pack_start(col, renderer, TRUE);
</I>&gt;<i>
</I>&gt;<i>   /* connect 'text' property of the cell renderer to model column that
</I>&gt;<i> contains the last name */
</I>&gt;<i>   gtk_tree_view_column_add_attribute(col, renderer, &quot;text&quot;, COL_LAST_NAME);
</I>&gt;<i>
</I>&gt;<i>   /* set 'weight' property of the cell renderer to bold print (we want all
</I>&gt;<i> last names in bold) */
</I>&gt;<i>   g_object_set(renderer, &quot;weight&quot;, PANGO_WEIGHT_BOLD, &quot;weight-set&quot;, TRUE,
</I>&gt;<i> NULL);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   /* --- Column #3 --- */
</I>&gt;<i>
</I>&gt;<i>   col = gtk_tree_view_column_new();
</I>&gt;<i>
</I>&gt;<i>   gtk_tree_view_column_set_title(col, &quot;Age&quot;);
</I>&gt;<i>
</I>&gt;<i>   /* pack tree view column into tree view */
</I>&gt;<i>   gtk_tree_view_append_column(GTK_TREE_VIEW(view), col);
</I>&gt;<i>
</I>&gt;<i>   renderer = gtk_cell_renderer_text_new();
</I>&gt;<i>
</I>&gt;<i>   /* pack cell renderer into tree view column */
</I>&gt;<i>   gtk_tree_view_column_pack_start(col, renderer, TRUE);
</I>&gt;<i>
</I>&gt;<i>   /* connect a cell data function */
</I>&gt;<i>   gtk_tree_view_column_set_cell_data_func(col, renderer, age_cell_data_func,
</I>&gt;<i> NULL, NULL);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   model = create_and_fill_model();
</I>&gt;<i>
</I>&gt;<i>   gtk_tree_view_set_model(GTK_TREE_VIEW(view), model);
</I>&gt;<i>
</I>&gt;<i>   g_object_unref(model); /* destroy model automatically with view */
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> gtk_tree_selection_set_mode(gtk_tree_view_get_selection(GTK_TREE_VIEW(view)),
</I>&gt;<i> GTK_SELECTION_NONE);
</I>&gt;<i>
</I>&gt;<i>   return view;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> void
</I>&gt;<i> on_view_button_clicked  (GtkButton       *button,
</I>&gt;<i>                                         gpointer         user_data)
</I>&gt;<i> {
</I>&gt;<i> GtkWidget *treeview;
</I>&gt;<i>
</I>&gt;<i> view_address_window = create_view_address_window();
</I>&gt;<i> treeview = create_view_and_model();
</I>&gt;<i> gtk_widget_show (view_address_window);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> the view button is a button that i use in order to see the window with the
</I>&gt;<i> treeview . i get no errors but dont see anything in my treeview.
</I>&gt;<i>
</I>&gt;<i> Please help.
</I>&gt;<i>
</I>&gt;<i> thanks
</I>&gt;<i>
</I>&gt;<i> Aakanksha
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  ________________________________
</I>&gt;<i> Looking for last minute shopping deals? Find them fast with Yahoo! Search.
</I>&gt;<i> _______________________________________________
</I>&gt;<i>  Glade-users maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;<i>  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

------------------------------

Message: 2
Date: Mon, 17 Mar 2008 15:16:48 -0500
From: Alexey Kurochkin &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">alexey.kurochkin at pathfinderlwd.com</A>&gt;
Subject: Re: [Glade-users] problems with treeview
To: <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users at lists.ximian.com</A>
Message-ID: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">1205785008.2858.10.camel at localhost.localdomain</A>&gt;
Content-Type: text/plain


On Mon, 2008-03-17 at 09:39 -0700, Atmadarshini devi dasi wrote:

&gt;<i> void
</I>&gt;<i> on_view_button_clicked  (GtkButton       *button,
</I>&gt;<i>                                         gpointer         user_data)
</I>&gt;<i> {
</I>&gt;<i> GtkWidget *treeview;
</I>&gt;<i> 
</I>&gt;<i> view_address_window = create_view_address_window();
</I>&gt;<i> treeview = create_view_and_model();
</I>&gt;<i> gtk_widget_show (view_address_window);
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> }
</I>
Based on what I see above, you create brand new treeview, and then never
pack it to any window, and never even show it. I guess what you actually
see on screen is an empty tree from a glade file. You have two
treeviews, one empty and one hidden! So you either have to go all the
way and create window which would hold the treeview in your code, or do
not call gtk_treeview_new at all and get the widget from the glade file
instead.

&gt;<i> 
</I>&gt;<i> the view button is a button that i use in order to see the window with
</I>&gt;<i> the treeview . i get no errors but dont see anything in my treeview.
</I>&gt;<i> 
</I>&gt;<i> Please help.
</I>&gt;<i> 
</I>&gt;<i> thanks
</I>&gt;<i> 
</I>&gt;<i> Aakanksha
</I>&gt;<i> 
</I>


------------------------------

Message: 3
Date: Tue, 18 Mar 2008 17:19:01 +0530
From: &quot;praveenya kumar&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">praveenya.g at gmail.com</A>&gt;
Subject: [Glade-users] How to create a popup menu using glade
To: <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users at lists.ximian.com</A>
Message-ID:
	&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">c442fe290803180449k299d6a9fgf3455ac3fd6b20ba at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;

Hai!

I am bit new to glade. I am facing problem in creating a popup menu.
I want a simple gtk application that displays a popup or context menu with 3
entries when started.
There is a widget popup menu in gtk+ applications i added this widget but I
could not see any gui related to that. How to add and make it visibe.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/glade-users/attachments/20080318/ef1266b8/attachment-0001.html">http://lists.ximian.com/pipermail/glade-users/attachments/20080318/ef1266b8/attachment-0001.html</A> 

------------------------------

Message: 4
Date: Tue, 18 Mar 2008 05:04:02 -0700 (PDT)
From: Atmadarshini devi dasi &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">atmadarshini_dd at yahoo.com</A>&gt;
Subject: Re: [Glade-users] problems with treeview
To: Tristan Van Berkom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">tvb at gnome.org</A>&gt;
Cc: glade users &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users at lists.ximian.com</A>&gt;
Message-ID: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">618093.16204.qm at web56409.mail.re3.yahoo.com</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;

Hi I am using glade version 2. When u say that I should send u the glade file, which file exactly do u mean and where do i find it?

thanks

Tristan Van Berkom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">tvb at gnome.org</A>&gt; wrote: Hi, what version of glade are you using ? can you send
us the glade file ?

-Tristan

On Mon, Mar 17, 2008 at 1:39 PM, Atmadarshini devi dasi
 wrote:
&gt;<i> hi there
</I>&gt;<i>
</I>&gt;<i> I am trying to use treeview in order to view an addressbook that i am trying
</I>&gt;<i> to create. now i was trying out a working example that is suppose to work to
</I>&gt;<i> see how things work before implementing my own function.
</I>&gt;<i> but for some reason all that it does is shows me an empty treeview screen
</I>&gt;<i> with no data or headings in it. on the glade side of things, all i have done
</I>&gt;<i> is put in the treeview into the window. I have not attched any signals or
</I>&gt;<i> changed anything. Is that correct?
</I>&gt;<i>
</I>&gt;<i> I have posted the code below that I have used.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> enum
</I>&gt;<i> {
</I>&gt;<i>   COL_FIRST_NAME = 0,
</I>&gt;<i>   COL_LAST_NAME,
</I>&gt;<i>   COL_YEAR_BORN,
</I>&gt;<i>   NUM_COLS
</I>&gt;<i> } ;
</I>&gt;<i>
</I>&gt;<i> static GtkTreeModel *
</I>&gt;<i> create_and_fill_model (void)
</I>&gt;<i> {
</I>&gt;<i>   GtkTreeStore  *treestore;
</I>&gt;<i>   GtkTreeIter    toplevel, child;
</I>&gt;<i>
</I>&gt;<i>   treestore = gtk_tree_store_new(NUM_COLS, G_TYPE_STRING, G_TYPE_STRING,
</I>&gt;<i> G_TYPE_UINT); /* NUM_COLS = 3 */
</I>&gt;<i>
</I>&gt;<i>   /* Append a top level row and leave it empty */
</I>&gt;<i>   gtk_tree_store_append(treestore, &amp;toplevel, NULL);
</I>&gt;<i>   gtk_tree_store_set(treestore, &amp;toplevel,
</I>&gt;<i>                      COL_FIRST_NAME, &quot;Maria&quot;,
</I>&gt;<i>                      COL_LAST_NAME, &quot;Incognito&quot;,
</I>&gt;<i>                      -1);
</I>&gt;<i>
</I>&gt;<i>   /* Append a second top level row, and fill it with some data */
</I>&gt;<i>   gtk_tree_store_append(treestore, &amp;toplevel, NULL);
</I>&gt;<i>   gtk_tree_store_set(treestore, &amp;toplevel,
</I>&gt;<i>                      COL_FIRST_NAME, &quot;Jane&quot;,
</I>&gt;<i>                      COL_LAST_NAME, &quot;Average&quot;,
</I>&gt;<i>                      COL_YEAR_BORN, (guint) 1962,
</I>&gt;<i>                      -1);
</I>&gt;<i>
</I>&gt;<i>   /* Append a child to the second top level row, and fill in some data */
</I>&gt;<i>   gtk_tree_store_append(treestore, &amp;child, &amp;toplevel);
</I>&gt;<i>   gtk_tree_store_set(treestore, &amp;child,
</I>&gt;<i>                      COL_FIRST_NAME, &quot;Janinita&quot;,
</I>&gt;<i>                      COL_LAST_NAME, &quot;Average&quot;,
</I>&gt;<i>                      COL_YEAR_BORN, (guint) 1985,
</I>&gt;<i>                      -1);
</I>&gt;<i>
</I>&gt;<i>   return GTK_TREE_MODEL(treestore);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> void
</I>&gt;<i> age_cell_data_func (GtkTreeViewColumn *col,
</I>&gt;<i>                     GtkCellRenderer   *renderer,
</I>&gt;<i>                     GtkTreeModel      *model,
</I>&gt;<i>                     GtkTreeIter       *iter,
</I>&gt;<i>                     gpointer           user_data)
</I>&gt;<i> {
</I>&gt;<i>   guint  year_born;
</I>&gt;<i>   guint  year_now = 2003; /* to save code not relevant for the example */
</I>&gt;<i>   gchar  buf[64];
</I>&gt;<i>
</I>&gt;<i>   gtk_tree_model_get(model, iter, COL_YEAR_BORN, &amp;year_born, -1);
</I>&gt;<i>
</I>&gt;<i>   if (year_born &lt;= year_now &amp;&amp; year_born &gt; 0)
</I>&gt;<i>   {
</I>&gt;<i>     guint age = year_now - year_born;
</I>&gt;<i>
</I>&gt;<i>     g_snprintf(buf, sizeof(buf), &quot;%u years old&quot;, age);
</I>&gt;<i>
</I>&gt;<i>     g_object_set(renderer, &quot;foreground-set&quot;, FALSE, NULL); /* print this
</I>&gt;<i> normal */
</I>&gt;<i>   }
</I>&gt;<i>   else
</I>&gt;<i>   {
</I>&gt;<i>     g_snprintf(buf, sizeof(buf), &quot;age unknown&quot;);
</I>&gt;<i>     g_object_set(renderer, &quot;foreground&quot;, &quot;Red&quot;, &quot;foreground-set&quot;, TRUE,
</I>&gt;<i> NULL); /* make red */
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   g_object_set(renderer, &quot;text&quot;, buf, NULL);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> static GtkWidget *
</I>&gt;<i> create_view_and_model (void)
</I>&gt;<i> {
</I>&gt;<i>   GtkTreeViewColumn   *col;
</I>&gt;<i>   GtkCellRenderer     *renderer;
</I>&gt;<i>   GtkWidget           *view;
</I>&gt;<i>   GtkTreeModel        *model;
</I>&gt;<i>
</I>&gt;<i>   view = gtk_tree_view_new();
</I>&gt;<i>
</I>&gt;<i>   /* --- Column #1 --- */
</I>&gt;<i>
</I>&gt;<i>   col = gtk_tree_view_column_new();
</I>&gt;<i>
</I>&gt;<i>   gtk_tree_view_column_set_title(col, &quot;First Name&quot;);
</I>&gt;<i>
</I>&gt;<i>   /* pack tree view column into tree view */
</I>&gt;<i>   gtk_tree_view_append_column(GTK_TREE_VIEW(view), col);
</I>&gt;<i>
</I>&gt;<i>   renderer = gtk_cell_renderer_text_new();
</I>&gt;<i>
</I>&gt;<i>   /* pack cell renderer into tree view column */
</I>&gt;<i>   gtk_tree_view_column_pack_start(col, renderer, TRUE);
</I>&gt;<i>
</I>&gt;<i>   /* connect 'text' property of the cell renderer to model column that
</I>&gt;<i> contains the first name */
</I>&gt;<i>   gtk_tree_view_column_add_attribute(col, renderer, &quot;text&quot;, COL_FIRST_NAME);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   /* --- Column #2 --- */
</I>&gt;<i>
</I>&gt;<i>   col = gtk_tree_view_column_new();
</I>&gt;<i>
</I>&gt;<i>   gtk_tree_view_column_set_title(col, &quot;Last Name&quot;);
</I>&gt;<i>
</I>&gt;<i>   /* pack tree view column into tree view */
</I>&gt;<i>   gtk_tree_view_append_column(GTK_TREE_VIEW(view), col);
</I>&gt;<i>
</I>&gt;<i>   renderer = gtk_cell_renderer_text_new();
</I>&gt;<i>
</I>&gt;<i>   /* pack cell renderer into tree view column */
</I>&gt;<i>   gtk_tree_view_column_pack_start(col, renderer, TRUE);
</I>&gt;<i>
</I>&gt;<i>   /* connect 'text' property of the cell renderer to model column that
</I>&gt;<i> contains the last name */
</I>&gt;<i>   gtk_tree_view_column_add_attribute(col, renderer, &quot;text&quot;, COL_LAST_NAME);
</I>&gt;<i>
</I>&gt;<i>   /* set 'weight' property of the cell renderer to bold print (we want all
</I>&gt;<i> last names in bold) */
</I>&gt;<i>   g_object_set(renderer, &quot;weight&quot;, PANGO_WEIGHT_BOLD, &quot;weight-set&quot;, TRUE,
</I>&gt;<i> NULL);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   /* --- Column #3 --- */
</I>&gt;<i>
</I>&gt;<i>   col = gtk_tree_view_column_new();
</I>&gt;<i>
</I>&gt;<i>   gtk_tree_view_column_set_title(col, &quot;Age&quot;);
</I>&gt;<i>
</I>&gt;<i>   /* pack tree view column into tree view */
</I>&gt;<i>   gtk_tree_view_append_column(GTK_TREE_VIEW(view), col);
</I>&gt;<i>
</I>&gt;<i>   renderer = gtk_cell_renderer_text_new();
</I>&gt;<i>
</I>&gt;<i>   /* pack cell renderer into tree view column */
</I>&gt;<i>   gtk_tree_view_column_pack_start(col, renderer, TRUE);
</I>&gt;<i>
</I>&gt;<i>   /* connect a cell data function */
</I>&gt;<i>   gtk_tree_view_column_set_cell_data_func(col, renderer, age_cell_data_func,
</I>&gt;<i> NULL, NULL);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   model = create_and_fill_model();
</I>&gt;<i>
</I>&gt;<i>   gtk_tree_view_set_model(GTK_TREE_VIEW(view), model);
</I>&gt;<i>
</I>&gt;<i>   g_object_unref(model); /* destroy model automatically with view */
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> gtk_tree_selection_set_mode(gtk_tree_view_get_selection(GTK_TREE_VIEW(view)),
</I>&gt;<i> GTK_SELECTION_NONE);
</I>&gt;<i>
</I>&gt;<i>   return view;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> void
</I>&gt;<i> on_view_button_clicked  (GtkButton       *button,
</I>&gt;<i>                                         gpointer         user_data)
</I>&gt;<i> {
</I>&gt;<i> GtkWidget *treeview;
</I>&gt;<i>
</I>&gt;<i> view_address_window = create_view_address_window();
</I>&gt;<i> treeview = create_view_and_model();
</I>&gt;<i> gtk_widget_show (view_address_window);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> the view button is a button that i use in order to see the window with the
</I>&gt;<i> treeview . i get no errors but dont see anything in my treeview.
</I>&gt;<i>
</I>&gt;<i> Please help.
</I>&gt;<i>
</I>&gt;<i> thanks
</I>&gt;<i>
</I>&gt;<i> Aakanksha
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  ________________________________
</I>&gt;<i> Looking for last minute shopping deals? Find them fast with Yahoo! Search.
</I>&gt;<i> _______________________________________________
</I>&gt;<i>  Glade-users maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;<i>  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

       
---------------------------------
Never miss a thing.   Make Yahoo your homepage.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/glade-users/attachments/20080318/eda90b6d/attachment.html">http://lists.ximian.com/pipermail/glade-users/attachments/20080318/eda90b6d/attachment.html</A> 

------------------------------

_______________________________________________
Glade-users mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>


End of Glade-users Digest, Vol 35, Issue 5
******************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/glade-users/attachments/20080319/91eb0506/attachment-0001.html">http://lists.ximian.com/pipermail/glade-users/attachments/20080319/91eb0506/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003843.html">[Glade-users] How to create a popup menu using glade
</A></li>
	<LI>Next message: <A HREF="003848.html">[Glade-users] Glade equivalent to JPanel?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3847">[ date ]</a>
              <a href="thread.html#3847">[ thread ]</a>
              <a href="subject.html#3847">[ subject ]</a>
              <a href="author.html#3847">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
