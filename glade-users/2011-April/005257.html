<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] How-to define my own class inheriting from gtk.Window and using glade file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20How-to%20define%20my%20own%20class%20inheriting%20from%0A%20gtk.Window%20and%20using%20glade%20file&In-Reply-To=1302104215.1866.124.camel%40ragamuffin">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005256.html">
   <LINK REL="Next"  HREF="005258.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] How-to define my own class inheriting from gtk.Window and using glade file</H1>
    <B>Dominique Beauchamp</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20How-to%20define%20my%20own%20class%20inheriting%20from%0A%20gtk.Window%20and%20using%20glade%20file&In-Reply-To=1302104215.1866.124.camel%40ragamuffin"
       TITLE="[Glade-users] How-to define my own class inheriting from gtk.Window and using glade file">lgd.beauchamp at gmail.com
       </A><BR>
    <I>Thu Apr  7 22:28:06 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005256.html">[Glade-users] How-to define my own class inheriting from gtk.Window and using glade file
</A></li>
        <LI>Next message: <A HREF="005258.html">[Glade-users] Running glade 3.10.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5257">[ date ]</a>
              <a href="thread.html#5257">[ thread ]</a>
              <a href="subject.html#5257">[ subject ]</a>
              <a href="author.html#5257">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks. I had some difficulties to find how to set new env. variables on
Ubuntu but it is not the point...

What was not clear in the doc was that I beleived I had to have one catalog
(xml) per class (widget). I is clear (maybe I'm wrong) that the best way is
to have a master .py file that imports all the other widget python files and
one catalog file with multiple class entries. Maybe this should be made
clearer in the doc.

Anyway, it works fine! Thank you!


2011/4/6 Tristan Van Berkom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">tristanvb at openismus.com</A>&gt;

&gt;<i> On Wed, 2011-04-06 at 21:01 -0400, Dominique Beauchamp wrote:
</I>&gt;<i> &gt; Thanks for the fast answer.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Here is what I did:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 1) I copied pythonplugin.py and pythonplugin.xml as shown in the
</I>&gt;<i> &gt; example in a directory XYZ
</I>&gt;<i> &gt; 2) I defined an environment variable named GLADE_ENV_CATALOG_PATH =
</I>&gt;<i> &gt; XYZ (where my .py and my .xml are)
</I>&gt;<i>
</I>&gt;<i> Sorry, the docs in that version have a typo, it should be
</I>&gt;<i>  &quot;GLADE_CATALOG_PATH&quot;  (with no _ENV).
</I>&gt;<i>
</I>&gt;<i> &gt; 3) I started Glade (3.7.3) Where is my widget?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In the xml, I find this:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;glade-widget-group name=&quot;python&quot; title=&quot;Python&quot;&gt;
</I>&gt;<i> &gt;    &lt;glade-widget-class-ref name=&quot;MyBox&quot;/&gt;
</I>&gt;<i> &gt;  &lt;/glade-widget-group&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I guess I should have a group (or a tab) named &quot;Python&quot; with a widget
</I>&gt;<i> &gt; named &quot;MyBox&quot; but I don't. What did I do incorrectly?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Dominique
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2011/4/5 Tristan Van Berkom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">tvb at gnome.org</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         On Wed, Apr 6, 2011 at 12:46 PM, Dominique Beauchamp
</I>&gt;<i> &gt;         &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">lgd.beauchamp at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;         &gt; Hello all!
</I>&gt;<i> &gt;         &gt; I'm using Glade with PyGTK (Python 2.6) and I'm quite happy
</I>&gt;<i> &gt;         about the
</I>&gt;<i> &gt;         &gt; results. I succeed to define an application class like this:
</I>&gt;<i> &gt;         &gt; class MyApp:
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; def __init__( self ):
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; Builder = gtk.Builder()
</I>&gt;<i> &gt;         &gt; Builder.add_from_file( 'filename' )
</I>&gt;<i> &gt;         &gt; Builder.connect_signals( self )
</I>&gt;<i> &gt;         &gt; self.__MainWnd = Builder.get_object( 'MainWnd' )
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; etc...
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; But here is what I want to do: creating a class that derives
</I>&gt;<i> &gt;         from gtk.window
</I>&gt;<i> &gt;         &gt; and being the main window defined within Glade.
</I>&gt;<i> &gt;         &gt; class MyWnd( gtk.Window ):
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; def __init__( self, ??? ):
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; ...
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; Here I want that the object returned by
</I>&gt;<i> &gt;         Builder.get_object( 'MainWnd' ) be
</I>&gt;<i> &gt;         &gt; the object created by the actual class MyWnd because this
</I>&gt;<i> &gt;         class is in fact a
</I>&gt;<i> &gt;         &gt; gtk.Window.
</I>&gt;<i> &gt;         &gt; Is my explaination clear?
</I>&gt;<i> &gt;         &gt; Maybe it is not possible this way and I have to create
</I>&gt;<i> &gt;         manually my own
</I>&gt;<i> &gt;         &gt; gtk.Window then grab the VBox/HBox/Table with
</I>&gt;<i> &gt;         Builder.get_object() and add
</I>&gt;<i> &gt;         &gt; it to my window. But it is not that cute.
</I>&gt;<i> &gt;         &gt; Any idea will be welcome and thanks in advance!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         Yes, you can define classes in python and use them in Glade
</I>&gt;<i> &gt;         and GtkBuilder.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         For PyGTK &amp; GTK+2 you must use Glade 3.6 or 3.8, if you
</I>&gt;<i> &gt;         migrate to
</I>&gt;<i> &gt;         PyObject &amp; GTK+3
</I>&gt;<i> &gt;         then you must use Glade 3.10.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         There is an example of how to setup Glade so that your custom
</I>&gt;<i> &gt;         python widgets
</I>&gt;<i> &gt;         show up in Glade's palette, in Glade's API reference here:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;          <A HREF="http://library.gnome.org/devel/gladeui/3.6/pythonsupport.html">http://library.gnome.org/devel/gladeui/3.6/pythonsupport.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         Basically you just have to define a short xml catalog and have
</I>&gt;<i> &gt;         it in
</I>&gt;<i> &gt;         GLADE_CATALOG_PATH
</I>&gt;<i> &gt;         when firing up Glade, and have a copy of the python source in
</I>&gt;<i> &gt;         the same
</I>&gt;<i> &gt;         directory.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         Enjoy,
</I>&gt;<i> &gt;             -Tristan
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Dominique Beauchamp
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">lgd.beauchamp at gmail.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Glade-users maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
*Dominique Beauchamp*
<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">lgd.beauchamp at gmail.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/glade-users/attachments/20110407/589f167c/attachment.html">http://lists.ximian.com/pipermail/glade-users/attachments/20110407/589f167c/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005256.html">[Glade-users] How-to define my own class inheriting from gtk.Window and using glade file
</A></li>
	<LI>Next message: <A HREF="005258.html">[Glade-users] Running glade 3.10.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5257">[ date ]</a>
              <a href="thread.html#5257">[ thread ]</a>
              <a href="subject.html#5257">[ subject ]</a>
              <a href="author.html#5257">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
