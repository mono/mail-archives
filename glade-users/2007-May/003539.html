<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] How to add stuff to treeviews??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20How%20to%20add%20stuff%20to%20treeviews%3F%3F&In-Reply-To=1180094798.16825.2.camel%40debye.scl.ameslab.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003531.html">
   <LINK REL="Next"  HREF="003534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] How to add stuff to treeviews??</H1>
    <B>Jason Brisbane</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20How%20to%20add%20stuff%20to%20treeviews%3F%3F&In-Reply-To=1180094798.16825.2.camel%40debye.scl.ameslab.gov"
       TITLE="[Glade-users] How to add stuff to treeviews??">darkeen at westnet.com.au
       </A><BR>
    <I>Mon May 28 10:09:36 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003531.html">[Glade-users] How to add stuff to treeviews??
</A></li>
        <LI>Next message: <A HREF="003534.html">[Glade-users] How to add stuff to treeviews??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3539">[ date ]</a>
              <a href="thread.html#3539">[ thread ]</a>
              <a href="subject.html#3539">[ subject ]</a>
              <a href="author.html#3539">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Michael Ekstrand wrote:
&gt;<i> On Fri, 2007-05-25 at 11:47 +0300, Felipe Balbi wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> After getting my treeview using glade_xml_get_widget() and inserting a
</I>&gt;&gt;<i> column with gtk_tree_view_insert_column()... how can I add data to the
</I>&gt;&gt;<i> treeview???
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> You don't add data to a tree view itself, you add it to the TreeModel
</I>&gt;<i> which is backing the treeview.  So you need to create a GtkTreeModel of
</I>&gt;<i> some kind (usually either GtkListStore or GtkTreeStore), populate it,
</I>&gt;<i> and assign it to the tree view (with gtk_tree_view_set_model()).
</I>&gt;<i>
</I>&gt;<i> See the following links for more details:
</I>&gt;<i>       * <A HREF="http://scentric.net/tutorial/">http://scentric.net/tutorial/</A>
</I>&gt;<i>       * <A HREF="http://developer.gnome.org/doc/API/2.0/gtk/TreeWidget.html">http://developer.gnome.org/doc/API/2.0/gtk/TreeWidget.html</A>
</I>&gt;<i>
</I>&gt;<i> - Michael
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Glade-users maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>Hello,

I too am trying to use a Treeview model view, etc.
I have created a list store before and that works fine.
Now I am creating a new program and want to create a Treeview with a 
parent iter and 6 set child iter (ie you create a &quot;new row&quot; and the row 
auto creates the 6 children underneath)
But I am having trouble doing ANYTHING with the treeview.

Cut/paste the example from the gtk 2.0 API simply fails to do anything. 
I am left with a blank screen. inserting g_print shows that the code is 
being called, but nothing is being displayed.

Since the gtk_tree_view is created in glade, I am simply doing a 
lookup_widget on the treeview and adding columns to it (ie none exist) 
and then populating the data.

My code, very stripped down (to remove possible errors) is:

void
on_harpmanager_show                    (GtkWidget       *widget,
                                        gpointer         user_data)
{
 GtkTreeStore *tree_store;
 GtkTreeIter parent_iter, child_iter;
 GtkWidget *view;
 GtkCellRenderer *renderer; 
 GtkTreeSelection  *selection;
 GtkTreeViewColumn *col;

 // CREATE THE TREE_VIEW and hook the row selection event into it!
   view = lookup_widget(widget, &quot;treeview_base&quot;);
   selection = gtk_tree_view_get_selection(GTK_TREE_VIEW(view));
   gtk_tree_selection_set_select_function(selection, func_base_select, 
NULL, NULL);
   // CREATE COLUMN HEADERS
  if (gtk_tree_view_get_column(GTK_TREE_VIEW(view), 0) == NULL) 
  {
      // -- Column 1 --
      col = gtk_tree_view_column_new();
      gtk_tree_view_column_set_title(col, &quot;CHARACTER NAME&quot;);
      gtk_tree_view_append_column(GTK_TREE_VIEW(view), col);
      renderer = gtk_cell_renderer_text_new();
      gtk_tree_view_column_pack_start(col, renderer, TRUE);
      gtk_tree_view_column_add_attribute(col, renderer, &quot;text&quot;, 0);
   }
}

With this I should get a simple treeview with column headings, but I get 
nothing.

Adding the following also produces a blank screen.

  tree_store = gtk_tree_store_new (1, G_TYPE_STRING);
  gtk_tree_store_append (tree_store, &amp;parent_iter, NULL);
  gtk_tree_store_set (tree_store, &amp;parent_iter, 0, &quot;Darkeen&quot;, -1);
  gtk_tree_store_append (tree_store, &amp;parent_iter, &amp;child_iter);
  gtk_tree_store_set (tree_store, &amp;child_iter, 0, &quot;Profession&quot;, -1);
  gtk_tree_store_append (tree_store, &amp;parent_iter, &amp;child_iter);
  gtk_tree_store_set (tree_store, &amp;child_iter, 0, &quot;Race&quot;, -1);
  gtk_tree_store_append (tree_store, &amp;parent_iter, &amp;child_iter);
  gtk_tree_store_set (tree_store, &amp;child_iter, 0, &quot;Talents&quot;, -1);
  gtk_tree_store_append (tree_store, &amp;parent_iter, &amp;child_iter);
  gtk_tree_store_set (tree_store, &amp;child_iter, 0, &quot;Skills&quot;, -1);
  gtk_tree_store_append (tree_store, &amp;parent_iter, &amp;child_iter);
  gtk_tree_store_set (tree_store, &amp;child_iter, 0, &quot;Equipment&quot;, -1);
  gtk_tree_view_set_model (GTK_TREE_VIEW(view), GTK_TREE_MODEL(tree_store));
  g_object_unref (tree_store);
  gtk_widget_show_all(widget);

HELP!



-- 
---
Regards,

Jason Brisbane 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003531.html">[Glade-users] How to add stuff to treeviews??
</A></li>
	<LI>Next message: <A HREF="003534.html">[Glade-users] How to add stuff to treeviews??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3539">[ date ]</a>
              <a href="thread.html#3539">[ thread ]</a>
              <a href="subject.html#3539">[ subject ]</a>
              <a href="author.html#3539">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
