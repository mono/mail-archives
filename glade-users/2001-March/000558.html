<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Getting value from an option menu
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:dean.schumacher%40usa.alcatel.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000563.html">
   <LINK REL="Next"  HREF="000561.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Getting value from an option menu
   </H1>
    <B>Dean Schumacher
    </B> 
    <A HREF="mailto:dean.schumacher%40usa.alcatel.com"
       TITLE="[Glade-users] Getting value from an option menu">dean.schumacher@usa.alcatel.com
       </A><BR>
    <I>Wed, 07 Mar 2001 10:54:42 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="000563.html">[Glade-users] Size of containers
</A></li>
        <LI> Next message: <A HREF="000561.html">[Glade-users] Getting value from an option menu
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#558">[ date ]</a>
              <a href="thread.html#558">[ thread ]</a>
              <a href="subject.html#558">[ subject ]</a>
              <a href="author.html#558">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you use Glade to define your GUI and Libglade to display 
it, how can you get the value of an option menu item in your 
C/C++ code?

This is easy to do with a GtkComboBox because you can just
call gtk_entry_get_text on the entry field part of the combo
box, but I haven't been able to figure out how to get the
value from a GtkOptionMenu.

Someone on the gtk-app-devel-list said that you just connect 
callbacks to the &quot;activate&quot; signals on the individual menu 
items, like you do for any other menu. However, Glade does 
not allow you to define signal handlers for the individual
items on an option menu like it does for other menus. It just 
lets you list the items. And since Libglade is generating the
interface from Glade's XML file, I don't have access to the 
menu items it creates to be able to connect signal handlers 
myself.

I thought I could just get to the label on the menu item
by referring to the child of the active menu item (as
shown below), but that just returns a NULL pointer.

	GtkWidget *option_menu;
	GtkWidget *menu;
	GtkWidget *menu_item_active;
	GtkWidget *label;
	gchar *label_value;

	option_menu = glade_xml_get_widget(xml, &quot;optionmenu1&quot;);
	menu = gtk_option_menu_get_menu(GTK_OPTION_MENU(option_menu));
	menu_item_active = gtk_menu_get_active(GTK_MENU(menu));
	assert(GTK_IS_MENU_ITEM(menu_item_active));
	assert(menu_item_active != NULL);
	
	label = GTK_BIN(menu_item_active)-&gt;child;
	assert(label != NULL);  	/* ASSERTION FAILS */
	gtk_label_get(GTK_LABEL(label), &amp;label_value);


Any ideas?

Thanks,
--
Dean Schumacher			Email: <A HREF="mailto:dean.schumacher@usa.alcatel.com">dean.schumacher@usa.alcatel.com</A>
Software Engineering Tools	Phone: 972.519.3252
Alcatel USA


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000563.html">[Glade-users] Size of containers
</A></li>
	<LI> Next message: <A HREF="000561.html">[Glade-users] Getting value from an option menu
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#558">[ date ]</a>
              <a href="thread.html#558">[ thread ]</a>
              <a href="subject.html#558">[ subject ]</a>
              <a href="author.html#558">[ author ]</a>
         </LI>
       </UL>
</body></html>
