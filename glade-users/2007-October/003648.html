<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Making my own Classes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Making%20my%20own%20Classes&In-Reply-To=1192377325.6092.42.camel%40zdra-laptop">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003647.html">
   <LINK REL="Next"  HREF="003649.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Making my own Classes</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Making%20my%20own%20Classes&In-Reply-To=1192377325.6092.42.camel%40zdra-laptop"
       TITLE="[Glade-users] Making my own Classes">tvb at gnome.org
       </A><BR>
    <I>Sun Oct 14 16:20:15 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003647.html">[Glade-users] Making my own Classes
</A></li>
        <LI>Next message: <A HREF="003649.html">[Glade-users] Making my own Classes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3648">[ date ]</a>
              <a href="thread.html#3648">[ thread ]</a>
              <a href="subject.html#3648">[ subject ]</a>
              <a href="author.html#3648">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2007-10-14 at 17:55 +0200, Xavier Claessens wrote:
[...]
&gt;<i> But how will glade-3 react if I want to edit my glade file? It will see
</I>&gt;<i> a unknown widget type... Is there a way to tell glade that EmpathyFoo is
</I>&gt;<i> just like GtkHBox but when a client wants to instantiate it should use
</I>&gt;<i> g_object_new(Empathy_foo_get_type(), NULL);
</I>&gt;<i> 
</I>&gt;<i> And if I write a catalog xml file to describe properties of my
</I>&gt;<i> EmpathyFoo widget, then other programs will be able to embed a
</I>&gt;<i> EmpathyFoo widget in their UI, but will they be able to modify widgets
</I>&gt;<i> packed in it?
</I>
Yes.

&gt;<i> So I have a foo.glade describing my EmpathyFoo widget, if I edit that
</I>&gt;<i> file I want to be able to modify widgets packed in my EmpathyFoo widget.
</I>&gt;<i> If a create a new bar.glade and pack (using catalog) an EmpathyFoo
</I>&gt;<i> widget into a GtkWindow I don't want to be able to edit widgets
</I>&gt;<i> contained in EmpathyFoo widget.
</I>&gt;<i> 
</I>&gt;<i> Is that possible? Thanks for explanations!
</I>
Ok you'll have to look at glade3/plugins/gtk+/glade-gtk.c,gtk+.xml.in .

That will give you a good idea of how the class adapter works
(i.e. we use an object class implemented by your plugin to interact
with your runtime widgets).

A plugin is not always nescisary, but you might need to override
some of the behaviour from the GtkHBox adaptor if your widget
behaves differently than a normal hbox (especially if you have
implicit internal child widgets, you might need to special case
them a bit). this blog post[1] you might have found explains the
simplest way to make a pluginless catalog, it should get you 
started at least.

Note that from the libglade pov, you'll have to write a plugin
that calls glade_register_widget() for your types and does any
special casing on the libglade side of things (it will be loaded
as the &quot;name&quot; specified in your glade catalog), there are easier
ways to get your widgets working without writing libglade plugins
but if you want it available for everyone then you need libglade
plugins (those plugins will not be needed in a GtkBuilder situation).

Cheers,
                -Tristan

[1] <A HREF="http://blogs.gnome.org/tvb/2007/07/25/some-popular-features/">http://blogs.gnome.org/tvb/2007/07/25/some-popular-features/</A>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003647.html">[Glade-users] Making my own Classes
</A></li>
	<LI>Next message: <A HREF="003649.html">[Glade-users] Making my own Classes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3648">[ date ]</a>
              <a href="thread.html#3648">[ thread ]</a>
              <a href="subject.html#3648">[ subject ]</a>
              <a href="author.html#3648">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
