<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Problem with GtkTextView and GtkTextBuffer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=Re%3A%20%5BGlade-users%5D%20Problem%20with%20GtkTextView%20and%20GtkTextBuffer&In-Reply-To=%3C4F1E9437.1030706%40reer.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005471.html">
   <LINK REL="Next"  HREF="005474.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Problem with GtkTextView and GtkTextBuffer</H1>
    <B>Manuel Ferrero</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=Re%3A%20%5BGlade-users%5D%20Problem%20with%20GtkTextView%20and%20GtkTextBuffer&In-Reply-To=%3C4F1E9437.1030706%40reer.it%3E"
       TITLE="[Glade-users] Problem with GtkTextView and GtkTextBuffer">mferrero at reer.it
       </A><BR>
    <I>Tue Jan 24 11:21:27 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="005471.html">[Glade-users] crash when editing a treeview
</A></li>
        <LI>Next message: <A HREF="005474.html">[Glade-users] Problem with GtkTextView and GtkTextBuffer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5473">[ date ]</a>
              <a href="thread.html#5473">[ thread ]</a>
              <a href="subject.html#5473">[ subject ]</a>
              <a href="author.html#5473">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a problem managing the GtkTextView widget in an application I 
built with Glade3.

// I define a structure with all the data I'll need in my callback 
functions:

typedef struct _ChData ChData;
struct _ChData
{
     GtkWidget *window;
     GtkWidget *connect_button;
     GtkWidget *serial_data;
};


// In my main I allocate the struct data and I get the objects from the 
glade file:
[...]
ChData *data;
GtkBuilder *builder_handler;

data = g_slice_new(ChData);

builder_handler = gtk_builder_new();
gtk_builder_add_from_file(builder_handler, GUI_XML_FILENAME, NULL);

data-&gt;window = GTK_WIDGET(gtk_builder_get_object(builder_handler, 
&quot;window&quot;));
data-&gt;connect_button = 
GTK_WIDGET(gtk_builder_get_object(builder_handler, &quot;connect_button&quot;));
data-&gt;serial_data = GTK_WIDGET(gtk_builder_get_object(builder_handler, 
&quot;serial_data&quot;));


// Then I connect the signals, show the UI and go in the main loop

gtk_builder_connect_signals(builder_handler, data);

gtk_widget_show(data-&gt;window);

gtk_main();



// Now, in one callback function I'd like to write some text in the text 
area

// I get the buffer from the GtkTextView widget
GtkTextBuffer *serial_buffer_ptr;

serial_buffer_ptr = 
gtk_text_view_get_buffer(GTK_TEXT_VIEW(data.serial_data));


// but this line triggers the following error:
GLib-GObject-WARNING **: invalid uninstantiatable type `&lt;unknown&gt;' in 
cast to `GtkTextView'

Where am I doing wrong?
-- 
Regards,
Manuel Ferrero
R&amp;D department

Reer SpA	
Tel.  +39 011 2482215
Fax. +39 011 859867

L'utilizzo non autorizzato del presente messaggio e' vietato e potrebbe costituire reato.
Se il presente messaggio non e' a Lei indirizzato, il suo contenuto non deve essere considerato
come trasmesso o autorizzato dalla Reer SpA; in tale caso Le saremmo grati se, via e-mail,
ce ne comunicasse l'errata ricezione.

The unauthorized use of this e-mail is prohibited and could constitute an offence.
If you are not the intended recipient of this message its contents shall be understood as neither
given nor endorsed by Reer SpA. Please notify Reer SpA by e-mail immediately in that case.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005471.html">[Glade-users] crash when editing a treeview
</A></li>
	<LI>Next message: <A HREF="005474.html">[Glade-users] Problem with GtkTextView and GtkTextBuffer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5473">[ date ]</a>
              <a href="thread.html#5473">[ thread ]</a>
              <a href="subject.html#5473">[ subject ]</a>
              <a href="author.html#5473">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
