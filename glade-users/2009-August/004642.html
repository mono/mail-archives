<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] objects properties in a custom catalog
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20objects%20properties%20in%20a%20custom%20catalog&In-Reply-To=1249578918.29025.135.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004641.html">
   <LINK REL="Next"  HREF="004643.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] objects properties in a custom catalog</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20objects%20properties%20in%20a%20custom%20catalog&In-Reply-To=1249578918.29025.135.camel%40localhost.localdomain"
       TITLE="[Glade-users] objects properties in a custom catalog">tristan.van.berkom at gmail.com
       </A><BR>
    <I>Thu Aug  6 14:16:21 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004641.html">[Glade-users] objects properties in a custom catalog
</A></li>
        <LI>Next message: <A HREF="004643.html">[Glade-users] objects properties in a custom catalog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4642">[ date ]</a>
              <a href="thread.html#4642">[ thread ]</a>
              <a href="subject.html#4642">[ subject ]</a>
              <a href="author.html#4642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Aug 6, 2009 at 1:15 PM, Alexey
Kurochkin&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">alexey.kurochkin at pathfinderlwd.com</A>&gt; wrote:
&gt;<i> I'm trying to create a catalog with my custom widgets and have couple of
</I>&gt;<i> questions:
</I>&gt;<i>
</I>&gt;<i> 1. I have some objects which have a property called &quot;name&quot;. Glade does
</I>&gt;<i> not show that property, although it saves it. Is there a way to force
</I>&gt;<i> the &quot;name&quot; property to be shown somewhere?
</I>
Interesting, Glade handles &quot;name&quot; as a special case for GtkWidgets and
ties that into the widget id (and the parser equally treats this as a special
case).

Im not sure why the &quot;name&quot; property is not showing up for you in the
property editor, but you should still have a &quot;name&quot; entry in the the property
editor to set the actual object name (this is not a property) (I would consider
it a bug, and would have to look deeper to figure out exactly why...).

I think it would probably be best if you handled the &quot;notify::name&quot; signal
on the GladeWidget wrapper created for your custom widget (connect
to that signal from post_create()), and then always call
glade_widget_property_set()
on your own hidden &quot;name&quot; property to always match the object id.

This would ofcourse only be satisfactory if its ok that your objects
all receive a unique &quot;name&quot; value; otherwise feel free to file a bug
about why we are not picking up the &quot;name&quot; property...

&gt;<i> 2. Some properties are dependent on other properties, so changing one
</I>&gt;<i> changes the other. I have appropriate calls to g_object_notify() in the
</I>&gt;<i> code, but Glade seems to ignore them. Is there a way to tell Glade that
</I>&gt;<i> the property value has to be updated?
</I>
Yes you can do that; there are 2 levels at which that can be done:

  a.) what you probably want is to handle the adaptor-&gt;set_property()
       for your custom object, from there you can call
glade_widget_property_set()
       on other properties; it will modify the project data and update
the UI accordingly.

       In this scenario the object just &quot;reacts&quot; to property settings,
and will react again
       in the case of an &quot;undo&quot; or such, you will obviously want to be
careful to avoid
       the possibility of infinite recursion.

  b.) sometimes setting the property in the UI makes other properties already
       set not make sense anymore, for instance we reset some properties on
       GtkActivatable widgets when the :use-action-appearance property changes.

       In this scenario you would have to implement
-&gt;create_editable() to return
       a customized editor for the class, from the editor code you can listen to
       the &quot;commit&quot; signal on the editor property and morph the commands into
       grouped commands (i.e. from the editor you always call
glade_command_set_property()
       which is an undoable statement, and commands can be grouped allowing for
       more complex undoable commands).

The former is most probably what you're after.

Cheers,
            -Tristan
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004641.html">[Glade-users] objects properties in a custom catalog
</A></li>
	<LI>Next message: <A HREF="004643.html">[Glade-users] objects properties in a custom catalog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4642">[ date ]</a>
              <a href="thread.html#4642">[ thread ]</a>
              <a href="subject.html#4642">[ subject ]</a>
              <a href="author.html#4642">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
