<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Glade-3 and derived widgets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Glade-3%20and%20derived%20widgets&In-Reply-To=43C01927.9030905%40gnome.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002821.html">
   <LINK REL="Next"  HREF="002825.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Glade-3 and derived widgets</H1>
    <B>Magnus Danielson</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Glade-3%20and%20derived%20widgets&In-Reply-To=43C01927.9030905%40gnome.org"
       TITLE="[Glade-users] Glade-3 and derived widgets">cfmd at bredband.net
       </A><BR>
    <I>Sun Jan  8 00:07:42 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002821.html">[Glade-users] Glade-3 and derived widgets
</A></li>
        <LI>Next message: <A HREF="002825.html">[Glade-users] Glade-3 and derived widgets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2822">[ date ]</a>
              <a href="thread.html#2822">[ thread ]</a>
              <a href="subject.html#2822">[ subject ]</a>
              <a href="author.html#2822">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>From: Tristan Van Berkom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">tristan.van.berkom at gmail.com</A>&gt;
Subject: Re: [Glade-users] Glade-3 and derived widgets
Date: Sat, 07 Jan 2006 14:40:23 -0500
Message-ID: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">43C01927.9030905 at gnome.org</A>&gt;

Hi Tristan,

&gt;<i> Magnus Danielson wrote:
</I>&gt;<i> [...]
</I>&gt;<i> &gt; I make a few assumptions, which may be far off, so please point that out if
</I>&gt;<i> &gt; needed!
</I>&gt;<i> 
</I>&gt;<i> &gt; I assume that I can provide my XML file with the glade-catalog of my objects.
</I>&gt;<i> 
</I>&gt;<i> Yes.
</I>
Good.

&gt;<i> &gt; I assume that I the XML file is sufficient to bind the widgets and its events.
</I>&gt;<i> 
</I>&gt;<i> Not exactly; the actual object/widget needs to be visible to glade-3; usually
</I>&gt;<i> you'd achieve this by providing a support module that implicitly links
</I>&gt;<i> to the library containing the object.
</I>&gt;<i> 
</I>&gt;<i> example:
</I>&gt;<i> 
</I>&gt;<i> glade-3 --&gt; dlopen'd glade-gnome.so via the catalog reference
</I>&gt;<i> glade-gnome.so --&gt; Implicitly compuled with &quot;-lgnome&quot;
</I>&gt;<i> 
</I>&gt;<i> Once glade-3 has a way to instanciate your object; all the properties
</I>&gt;<i> should be automagicly editable in the glade-3 tool.
</I>
Well, fair enougth. So, if I only provide a glade-mywidgets.so which my
catalog reference (I assume this is the library part of
&lt;glade-catalog name=&quot;gtk+&quot; library=&quot;gladegtk&quot;&gt;) with my widgets then I am home
free on this part. Fine.

&gt;<i> &gt; I assume that I can inherit and object from another XML file.
</I>&gt;<i> 
</I>&gt;<i> Yes, there is a dependancy chain though; in the xml file you can
</I>&gt;<i> declare depends=&quot;gtk+&quot; and this will ensure that the gtk+ catalog
</I>&gt;<i> will be loaded before yours (and then inheritance will work properly).
</I>
OK. Good. Sound like a very reasnoble process.

&gt;<i> (I seriously need to update glade3/widgets/adding-widgets.txt which
</I>&gt;<i> &quot;should&quot; cover all of this)
</I>
Please do. It seems that glade-3 is mature enought for me to bother about it
compared to glade-2, so I will be reading things and ask questions to make
things tick. I know that I need to add things which is not standard Gtk widgets
and I want to be able to use Glade as an interface builder for those objects.

I was however forced to checkout the CVS stuff to see it. The latest snap-shot
is as much latest as it maybe should be. 3 months of fine developments later...

&gt;<i> &gt; I assume that I somehow need to build a library hold the functionality of my
</I>&gt;<i> &gt; new widgets.
</I>&gt;<i> 
</I>&gt;<i> This library typicly will only provide support for non-standard object
</I>&gt;<i> behaviour, like if you have objects that parent other object which
</I>&gt;<i> are not GtkWidget or GtkContainer; or if you have parameters to implement
</I>&gt;<i> that are not implemented via GParamSpec/g_object_install_property.
</I>
But any derived widgets needs to be put away in a library anyway, so that
glade-3 can display them, right?

I know I will add new events for instance.

&gt;<i> &gt; I assume that I can then use this environment to acheive the same kind of
</I>&gt;<i> &gt; Glade-3 widget compositing as I can do with previously known objects, create a
</I>&gt;<i> &gt; glade XML file which then libglade is able to execute correctly including my
</I>&gt;<i> &gt; privately added widgets.
</I>&gt;<i> 
</I>&gt;<i> Yes. Released versions of libglade will allow you to:
</I>&gt;<i>      - glade_xml_register_widget(), which should also be a one-liner assuming
</I>&gt;<i>        your code operates purly with GtkContainer-&gt;GtkWidget parenting and
</I>&gt;<i>        with introspectable properties.
</I>&gt;<i>      - Add &quot;build_widget&quot; and &quot;build_children&quot; and &quot;set_custom_property&quot; support
</I>&gt;<i>        to any objects that need any special-casing.
</I>
OK. Fine.

&gt;<i> &gt; If this is within the vision but not quite there, what is missing (i.e. is
</I>&gt;<i> &gt; there something where I may help out)?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; It seems like not all objects are there with all their events. Right?
</I>&gt;<i> 
</I>&gt;<i> Most of the Gtk+ objects are implemented, there is still some minor
</I>&gt;<i> enhancements to make on that front:
</I>&gt;<i>      - Add non-widget objects like GtkAdjustment &amp; GtkSizeGroup
</I>&gt;<i>        (underlying framework for this is layed out and thoroughly tested,
</I>&gt;<i>         just need to add the special-casing code).
</I>&gt;<i>      - Make a toolbar editor (which should be a sinch since we can
</I>&gt;<i>        now copy Juan's excelent work on the menubar editor).
</I>&gt;<i>      - Possibly make a treeview, icon-view etc. editor(s) supporting
</I>&gt;<i>        child TreeViewColumns and thier child renderers... which could
</I>&gt;<i>        easily work but would just take some time to write the editors.
</I>
OK. Sounds like things is fairly set then.

&gt;<i> No other catalogs are implemented ATM (like gnomeui or gnome-db).
</I>
OK. I do not intend to use those right now.

Maybe you should look at the possibility to do something similar to &quot;tolua&quot;
which helps create those catalogs. For the Lua environment, it seems like it is
a real little power-horse in providing portings. Just a flimsy idea...

Anyway, my resulting conclusion is that libglade and glade-3 is certainly
giving me the oppertunity to do what I wished to do and it is all there plus
minus some teething. There is still some questions regarding the real hows on
the nitty gritty (documentation should solve this), but it should be capable of
doing it.

Many thanks for answering my questions, now I know it is worth the risc! I'll
go this path.

Cheers,
Magnus
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002821.html">[Glade-users] Glade-3 and derived widgets
</A></li>
	<LI>Next message: <A HREF="002825.html">[Glade-users] Glade-3 and derived widgets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2822">[ date ]</a>
              <a href="thread.html#2822">[ thread ]</a>
              <a href="subject.html#2822">[ subject ]</a>
              <a href="author.html#2822">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
