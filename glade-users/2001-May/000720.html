<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] How to get to the label field of a button
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:edward.e.winchester%40lmco.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000715.html">
   <LINK REL="Next"  HREF="000713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] How to get to the label field of a button
   </H1>
    <B>Ed Winchester
    </B> 
    <A HREF="mailto:edward.e.winchester%40lmco.com"
       TITLE="[Glade-users] How to get to the label field of a button">edward.e.winchester@lmco.com
       </A><BR>
    <I>Wed, 16 May 2001 10:01:51 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="000715.html">[Glade-users] How to get to the label field of a button
</A></li>
        <LI> Next message: <A HREF="000713.html">[Glade-users] How to get to the label field of a button
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#720">[ date ]</a>
              <a href="thread.html#720">[ thread ]</a>
              <a href="subject.html#720">[ subject ]</a>
              <a href="author.html#720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--Boundary_(ID_oAqjk8SjIlGAtVPuRxOeQw)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

Hey, talk about an answer.  Ask what time it is, and get a thirty-minute
discourse on Egyptian water clocks.  No, really.  Andrae, you are a
prince!  You didn't say, &quot;You dumb s--t, don't you know anything?&quot;
Instead,  you helped me.  I really appreciate the tutorial nature of
your reply.  It solved my immediate problem, but even more importantly,
gave me a brief course on how to use the publicly available data to
solve my own similar problems in the future.  This is what I love about
this list.  I heartily agree with James' post that this should be in the
FAQ.

Thanks again,
Ed

Andrae Muys wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jered Bolton wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Ed Winchester wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; Hi again, all,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I've been trying to get my glade-generated app to compile.  I
</I>&gt;<i> know, from
</I>&gt;<i> &gt; &gt; something I read, but can't remember where, that Glade itself will
</I>&gt;<i> not
</I>&gt;<i> &gt; &gt; generate code to change the label for a button.  I remember seeing
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; somewhere an example, but can't for the life of me remember where
</I>&gt;<i> I read
</I>&gt;<i> &gt; &gt; that.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; What I tried last was:
</I>&gt;<i> &gt; &gt;     gtk_label_set_text (GTK_LABEL(button-&gt;label),&quot;New button
</I>&gt;<i> label&quot;);
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I got the error:
</I>&gt;<i> &gt; &gt;     structure has no member named `label'
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Please help.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; No idea how this works (well I kind of have but....), but try the
</I>&gt;<i> &gt; following:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    GtkWidget        *label;
</I>&gt;<i> &gt;     GList            *glist;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   widget = lookup_widget(window_widget_is_on, &quot;slider_button&quot;); /*
</I>&gt;<i> may not
</I>&gt;<i> &gt; need this as long as you have a pointer to the widget you'll be
</I>&gt;<i> okay*/
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     glist = gtk_container_children( GTK_CONTAINER(widget) );
</I>&gt;<i> &gt;    label = GTK_WIDGET( glist-&gt;data );
</I>&gt;<i> &gt;     gtk_label_set( GTK_LABEL(label), &quot;FRED&quot;);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I found this after trawling through stacks of stuff on the web, all
</I>&gt;<i> seemed
</I>&gt;<i> &gt; a bit mysterious to me, as I too had similar problems in
</I>&gt;<i> setting/changing
</I>&gt;<i> &gt; the label for the button.
</I>&gt;<i> &gt; I found the answer in a posting from 1998 from someone complaining
</I>&gt;<i> about
</I>&gt;<i> &gt; the lack of useful documentation....
</I>&gt;<i> &gt; yet I still find myself wandering how the hell did they know to A)
</I>&gt;<i> use a
</I>&gt;<i> &gt; GList, and B) that is has a member called data.  Half the time the
</I>&gt;<i> &gt; documentation states that the structure should only be accessed
</I>&gt;<i> using the
</I>&gt;<i> &gt; functions given...  which in turn can only be used with this &quot;extra&quot;
</I>&gt;<i>
</I>&gt;<i> &gt; knowledge.
</I>&gt;<i> &gt; I realise this is more of a GTK problem than glade specific, but I'm
</I>&gt;<i> sure
</I>&gt;<i> &gt; there are many other relative &quot;newbies&quot; like myself who feel
</I>&gt;<i> slightly lost
</I>&gt;<i> &gt; at times.
</I>&gt;<i>
</I>&gt;<i> Actually Gtk+ is reasonably well documented (GNOME is sometimes a
</I>&gt;<i> different matter).  In this specific case the documentation is clear.
</I>&gt;<i> (All quotes are direct cut/paste from
</I>&gt;<i> <A HREF="http://developer.gnome.org/doc/API/">http://developer.gnome.org/doc/API/</A> )
</I>&gt;<i>
</I>&gt;<i> Reading from the Gtk+ reference for GtkButton :
</I>&gt;<i>
</I>&gt;<i> Object Hierarchy
</I>&gt;<i>    GtkObject
</I>&gt;<i>     +----GtkWidget
</I>&gt;<i>           +----GtkContainer
</I>&gt;<i>                 +----GtkBin
</I>&gt;<i>                       +----GtkButton
</I>&gt;<i>
</I>&gt;<i> Args
</I>&gt;<i>    &quot;label&quot;                gchar*               : Read / Write
</I>&gt;<i>    &quot;relief&quot;               GtkReliefStyle       : Read / Write
</I>&gt;<i>
</I>&gt;<i> Note that a GtkButton is a GtkBin, so it is a GtkContainer that
</I>&gt;<i> supports
</I>&gt;<i> a single child widget (in this specific/normal case a GtkLabel).
</I>&gt;<i>
</I>&gt;<i> Also note that the &quot;label&quot; Arg is available, which provides an
</I>&gt;<i> immediate
</I>&gt;<i> answer to your question, specifically :
</I>&gt;<i>
</I>&gt;<i>                 gtk_object_set(GTK_OBJECT(button), &quot;label&quot;, &quot;goodbye&quot;,
</I>&gt;<i> NULL);
</I>&gt;<i>
</I>&gt;<i> You can know this is a gtk_object_* function because you can look in
</I>&gt;<i> GGAD, written by Havoc Pennington, and published under an Open licence
</I>&gt;<i>
</I>&gt;<i> (ie, you can dl/read it off the web).  Dead tree version available
</I>&gt;<i> from
</I>&gt;<i> New Riders IIRC.
</I>&gt;<i>
</I>&gt;<i> If, like me, you have merely forgotten the precise syntax, you just
</I>&gt;<i> need
</I>&gt;<i> to look at the reference docs for GtkObject, specifically:
</I>&gt;<i>
</I>&gt;<i> ++++++++
</I>&gt;<i> gtk_object_set ()
</I>&gt;<i>
</I>&gt;<i>  void        gtk_object_set                  (GtkObject *object,
</I>&gt;<i>                                               const gchar
</I>&gt;<i> *first_arg_name,
</I>&gt;<i>                                               ...);
</I>&gt;<i>
</I>&gt;<i> This function sets multiple arguments of an object.
</I>&gt;<i>
</I>&gt;<i> It takes an object, then a list of name/value pairs in a list,
</I>&gt;<i> followed
</I>&gt;<i> by NULL.
</I>&gt;<i>
</I>&gt;<i>  void set_box_properties(GtkBox* box)
</I>&gt;<i>  {
</I>&gt;<i>    gtk_object_set(GTK_OBJECT(box), &quot;homogeneous&quot;, TRUE,
</I>&gt;<i>                                    &quot;spacing&quot;, 8,
</I>&gt;<i>                                    NULL);
</I>&gt;<i>  }
</I>&gt;<i>              object :
</I>&gt;<i>                      the object whose arguments should be set.
</I>&gt;<i>      first_arg_name :
</I>&gt;<i>                      the name of the first argument to set.
</I>&gt;<i>                 ... :
</I>&gt;<i>                      the value of the first argument, followed
</I>&gt;<i> optionally by more name/value pairs, followed by
</I>&gt;<i>                      NULL.
</I>&gt;<i> ++++++++
</I>&gt;<i>
</I>&gt;<i> However there are at least two other ways of achiving the same end.
</I>&gt;<i> As
</I>&gt;<i> the GtkButton appears to it's child as a GtkBin (see inheritance
</I>&gt;<i> list),
</I>&gt;<i> it would make sense that facilities for manipulating it's child would
</I>&gt;<i> be
</I>&gt;<i> associated with GtkBin, not GtkButton.  So if we take a look at GtkBin
</I>&gt;<i>
</I>&gt;<i> we see:
</I>&gt;<i>
</I>&gt;<i> GtkBin -- a container with just one child.
</I>&gt;<i> ....
</I>&gt;<i> Details
</I>&gt;<i>
</I>&gt;<i> struct GtkBin
</I>&gt;<i>
</I>&gt;<i>  struct GtkBin;
</I>&gt;<i>
</I>&gt;<i> The GtkBin struct contains the following fields. (These fields should
</I>&gt;<i> be
</I>&gt;<i> considered read-only. They should
</I>&gt;<i> never be set by an application.)
</I>&gt;<i>
</I>&gt;<i>  GtkWidget *child;            the child widget.
</I>&gt;<i>
</I>&gt;<i> Which immediately suggests the following code :
</I>&gt;<i>
</I>&gt;<i>         gtk_label_set_text(GTK_LABEL(GTK_BIN(button)-&gt;child),
</I>&gt;<i> &quot;hello&quot;);
</I>&gt;<i>
</I>&gt;<i> (In actual fact this was my immediate response to the question, it's
</I>&gt;<i> just the GtkArg approach is most immediately obvious from the
</I>&gt;<i> GtkButton
</I>&gt;<i> docs)
</I>&gt;<i>
</I>&gt;<i> Of course there is also the child manipulation functions provided by
</I>&gt;<i> GtkBin's parent class GtkContainer:
</I>&gt;<i>
</I>&gt;<i> GList*      gtk_container_children          (GtkContainer *container);
</I>&gt;<i>
</I>&gt;<i> I am a little surprised to find this function undocumented, although
</I>&gt;<i> it
</I>&gt;<i> is listed with it's full signature in the GtkContainer reference, and
</I>&gt;<i> is
</I>&gt;<i> sufficiently obvious to hardly require documenting.  I guessed
</I>&gt;<i> (correctly) from the signature that it returns a linked list of
</I>&gt;<i> children
</I>&gt;<i> widgets given a container widget.
</I>&gt;<i>
</I>&gt;<i> Taking a look at the GList reference (which is complete except for
</I>&gt;<i> complexity info, that is rare in any documentation, but would be
</I>&gt;<i> useful
</I>&gt;<i> in the glib docs sometimes) :
</I>&gt;<i>
</I>&gt;<i> +++++
</I>&gt;<i> Description
</I>&gt;<i>
</I>&gt;<i> The GList structure and its associated functions provide a standard
</I>&gt;<i> doubly-linked list data structure.
</I>&gt;<i>
</I>&gt;<i> Each element in the list contains a piece of data, together with
</I>&gt;<i> pointers which link to the previous and next
</I>&gt;<i> elements in the list. &lt;SNIP: lots of useful info on GList's&gt;
</I>&gt;<i> Details
</I>&gt;<i>
</I>&gt;<i> struct GList
</I>&gt;<i>
</I>&gt;<i>  struct GList
</I>&gt;<i>  {
</I>&gt;<i>    gpointer data;
</I>&gt;<i>    GList *next;
</I>&gt;<i>    GList *prev;
</I>&gt;<i>  };
</I>&gt;<i>
</I>&gt;<i> The GList struct is used for each element in a doubly-linked list. The
</I>&gt;<i>
</I>&gt;<i> data field holds the element's data, which
</I>&gt;<i> can be a pointer to any kind of data, or any integer value using the
</I>&gt;<i> Type Conversion Macros. The next and prev
</I>&gt;<i> pointers are the links to the next and previous elements in the list.
</I>&gt;<i>
</I>&gt;<i> +++++
</I>&gt;<i>
</I>&gt;<i> Which makes the following code snippet easy enough to generate:
</I>&gt;<i>
</I>&gt;<i>      GList *child = gtk_container_children(GTK_CONTAINER(button));
</I>&gt;<i>      gtk_label_set_text(GTK_LABEL(child-&gt;data), &quot;clicked&quot;);
</I>&gt;<i>
</I>&gt;<i> I've attached a small libglade based demo that shows the above in
</I>&gt;<i> action. (Total project 115 lines in 3 files in 2.6k)
</I>&gt;<i>
</I>&gt;<i> Andrae Muys
</I>&gt;<i>
</I>&gt;<i>
</I>
--Boundary_(ID_oAqjk8SjIlGAtVPuRxOeQw)
Content-type: text/html; charset=us-ascii
Content-transfer-encoding: 7BIT

&lt;!doctype html public &quot;-//w3c//dtd html 4.0 transitional//en&quot;&gt;
&lt;html&gt;
Hey, talk about an answer.&amp;nbsp; Ask what time it is, and get a thirty-minute
discourse on Egyptian water clocks.&amp;nbsp; No, really.&amp;nbsp; Andrae, you
are a prince!&amp;nbsp; You didn't say, &quot;You dumb s--t, don't you know anything?&quot;&amp;nbsp;
Instead,&amp;nbsp; you helped me.&amp;nbsp; I really appreciate the tutorial nature
of your reply.&amp;nbsp; It solved my immediate problem, but even more importantly,
gave me a brief course on how to use the publicly available data to solve
my own similar problems in the future.&amp;nbsp; This is what I love about
this list.&amp;nbsp; I heartily agree with James' post that this should be
in the FAQ.
&lt;p&gt;Thanks again,
&lt;br&gt;Ed
&lt;p&gt;Andrae Muys wrote:
&lt;blockquote TYPE=CITE&gt;&amp;nbsp;
&lt;p&gt;&lt;font size=-1&gt;Jered Bolton wrote:&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; Ed Winchester wrote:&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt; Hi again, all,&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt; I've been trying to get my glade-generated app to
compile.&amp;nbsp; I know, from&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt; something I read, but can't remember where, that
Glade itself will not&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt; generate code to change the label for a button.&amp;nbsp;
I remember seeing&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt; somewhere an example, but can't for the life of me
remember where I read&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt; that.&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt; What I tried last was:&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; gtk_label_set_text (GTK_LABEL(button-&gt;label),&quot;New
button label&quot;);&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt; I got the error:&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; structure has no member named
`label'&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; &gt; Please help.&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; No idea how this works (well I kind of have but....),
but try the&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; following:&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; GtkWidget&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
*label;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; GList&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
*glist;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&amp;nbsp;&amp;nbsp; widget = lookup_widget(window_widget_is_on,
&quot;slider_button&quot;); /* may not&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; need this as long as you have a pointer to the widget
you'll be okay*/&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; glist = gtk_container_children(
GTK_CONTAINER(widget) );&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; label = GTK_WIDGET( glist-&gt;data );&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; gtk_label_set( GTK_LABEL(label),
&quot;FRED&quot;);&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; I found this after trawling through stacks of stuff
on the web, all seemed&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; a bit mysterious to me, as I too had similar problems
in setting/changing&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; the label for the button.&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; I found the answer in a posting from 1998 from someone
complaining about&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; the lack of useful documentation....&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; yet I still find myself wandering how the hell did
they know to A) use a&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; GList, and B) that is has a member called data.&amp;nbsp;
Half the time the&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; documentation states that the structure should only
be accessed using the&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; functions given...&amp;nbsp; which in turn can only be
used with this &quot;extra&quot;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; knowledge.&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; I realise this is more of a GTK problem than glade
specific, but I'm sure&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; there are many other relative &quot;newbies&quot; like myself
who feel slightly lost&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&gt; at times.&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Actually Gtk+ is reasonably well documented (GNOME is
sometimes a&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;different matter).&amp;nbsp; In this specific case the documentation
is clear.&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;(All quotes are direct cut/paste from&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&lt;a href=&quot;<A HREF="http://developer.gnome.org/doc/API/"">http://developer.gnome.org/doc/API/&quot;</A> TARGET=&quot;_blank&quot;&gt;<A HREF="http://developer.gnome.org/doc/API/</a">http://developer.gnome.org/doc/API/&lt;/a</A>&gt;
)&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Reading from the Gtk+ reference for GtkButton :&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Object Hierarchy&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp; GtkObject&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; +----GtkWidget&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
+----GtkContainer&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
+----GtkBin&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
+----GtkButton&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Args&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp; &quot;label&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
gchar*&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
:<i> Read / Write&lt;/font&gt;
</I>&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp; &quot;relief&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
GtkReliefStyle&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; : Read / Write&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Note that a GtkButton is a GtkBin, so it is a GtkContainer
that supports&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;a single child widget (in this specific/normal case a
GtkLabel).&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Also note that the &quot;label&quot; Arg is available, which provides
an immediate&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;answer to your question, specifically :&lt;/font&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&lt;font size=-1&gt;gtk_object_set(GTK_OBJECT(button), &quot;label&quot;, &quot;goodbye&quot;, NULL);&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;You can know this is a gtk_object_* function because you
can look in&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;GGAD, written by Havoc Pennington, and published under
an Open licence&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;(ie, you can dl/read it off the web).&amp;nbsp; Dead tree
version available from&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;New Riders IIRC.&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;If, like me, you have merely forgotten the precise syntax,
you just need&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;to look at the reference docs for GtkObject, specifically:&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;++++++++&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;gtk_object_set ()&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;&amp;nbsp;void&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; gtk_object_set&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
(GtkObject *object,&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
const gchar&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;*first_arg_name,&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
...);&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;This function sets multiple arguments of an object.&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;It takes an object, then a list of name/value pairs in
a list, followed&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;by NULL.&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;&amp;nbsp;void set_box_properties(GtkBox* box)&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;{&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp; gtk_object_set(GTK_OBJECT(box), &quot;homogeneous&quot;,
TRUE,&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&quot;spacing&quot;, 8,&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
NULL);&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;}&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
object :&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
the object whose arguments should be set.&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; first_arg_name :&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
the name of the first argument to set.&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
... :&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
the value of the first argument, followed&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;optionally by more name/value pairs, followed by&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
NULL.&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;++++++++&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;However there are at least two other ways of achiving
the same end.&amp;nbsp; As&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;the GtkButton appears to it's child as a GtkBin (see
inheritance list),&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;it would make sense that facilities for manipulating
it's child would be&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;associated with GtkBin, not GtkButton.&amp;nbsp; So if we
take a look at GtkBin&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;we see:&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;GtkBin -- a container with just one child.&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;....&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;Details&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;struct GtkBin&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;&amp;nbsp;struct GtkBin;&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;The GtkBin struct contains the following fields. (These
fields should be&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;considered read-only. They should&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;never be set by an application.)&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;&amp;nbsp;GtkWidget *child;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
the child widget.&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Which immediately suggests the following code :&lt;/font&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;font size=-1&gt;gtk_label_set_text(GTK_LABEL(GTK_BIN(button)-&gt;child),
&quot;hello&quot;);&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;(In actual fact this was my immediate response to the
question, it's&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;just the GtkArg approach is most immediately obvious
from the GtkButton&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;docs)&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Of course there is also the child manipulation functions
provided by&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;GtkBin's parent class GtkContainer:&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;GList*&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; gtk_container_children&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
(GtkContainer *container);&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;I am a little surprised to find this function undocumented,
although it&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;is listed with it's full signature in the GtkContainer
reference, and is&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;sufficiently obvious to hardly require documenting.&amp;nbsp;
I guessed&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;(correctly) from the signature that it returns a linked
list of children&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;widgets given a container widget.&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Taking a look at the GList reference (which is complete
except for&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;complexity info, that is rare in any documentation, but
would be useful&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;in the glib docs sometimes) :&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;+++++&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;Description&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;The GList structure and its associated functions provide
a standard&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;doubly-linked list data structure.&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Each element in the list contains a piece of data, together
with&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;pointers which link to the previous and next&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;elements in the list. &amp;lt;SNIP: lots of useful info on
GList's&gt;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;Details&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;struct GList&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;&amp;nbsp;struct GList&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;{&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp; gpointer data;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp; GList *next;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp; GList *prev;&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;};&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;The GList struct is used for each element in a doubly-linked
list. The&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;data field holds the element's data, which&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;can be a pointer to any kind of data, or any integer
value using the&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;Type Conversion Macros. The next and prev&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;pointers are the links to the next and previous elements
in the list.&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;+++++&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Which makes the following code snippet easy enough to
generate:&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; GList *child = gtk_container_children(GTK_CONTAINER(button));&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; gtk_label_set_text(GTK_LABEL(child-&gt;data),
&quot;clicked&quot;);&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;I've attached a small libglade based demo that shows the
above in&lt;/font&gt;
&lt;br&gt;&lt;font size=-1&gt;action. (Total project 115 lines in 3 files in 2.6k)&lt;/font&gt;
&lt;p&gt;&lt;font size=-1&gt;Andrae Muys&lt;/font&gt;
&lt;br&gt;&amp;nbsp;
&lt;br&gt;&amp;nbsp;&lt;/blockquote&gt;
&lt;/html&gt;

--Boundary_(ID_oAqjk8SjIlGAtVPuRxOeQw)--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000715.html">[Glade-users] How to get to the label field of a button
</A></li>
	<LI> Next message: <A HREF="000713.html">[Glade-users] How to get to the label field of a button
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#720">[ date ]</a>
              <a href="thread.html#720">[ thread ]</a>
              <a href="subject.html#720">[ subject ]</a>
              <a href="author.html#720">[ author ]</a>
         </LI>
       </UL>
</body></html>
