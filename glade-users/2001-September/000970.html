<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] File Selection Widget
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jbrite%40webdsi.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000966.html">
   <LINK REL="Next"  HREF="000971.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] File Selection Widget
   </H1>
    <B>jbrite
    </B> 
    <A HREF="mailto:jbrite%40webdsi.com"
       TITLE="[Glade-users] File Selection Widget">jbrite@webdsi.com
       </A><BR>
    <I>Mon, 03 Sep 2001 05:10:44 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000966.html">[Glade-users] File Selection Widget
</A></li>
        <LI> Next message: <A HREF="000971.html">[Glade-users] File Selection Widget
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#970">[ date ]</a>
              <a href="thread.html#970">[ thread ]</a>
              <a href="subject.html#970">[ subject ]</a>
              <a href="author.html#970">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--------------040008050504080704090009
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

I'm a newbie too, but...

here is some code I use for my program.  I tried to cut the parts that 
you didn't need.

----

static void
FileDlgOpenBiOK     ( GtkButton * button, gpointer data )
{
    FILE *fp;
    SelectedFile = gtk_file_selection_get_filename ( GTK_FILE_SELECTION 
( data ) );

     if ( (fp = fopen(SelectedFile, &quot;r+b&quot;)) == NULL)
     {
         fprintf(stderr, &quot;Error opening file %s.&quot;, SelectedFile);
         exit(1);
     }
    fread(C.gInfo.characterName, sizeof(C.gInfo.characterName), 1, fp);

    fclose(fp);

    gtk_widget_destroy ( GTK_WIDGET ( data ) );
}

void
on_open_character_click                (GtkMenuItem     *menuitem,
                                        gpointer         user_data)
{
   GtkWidget * filedlg;

   /* Load up the file dialog */

   filedlg = gtk_file_selection_new(&quot;Open character&quot;);

   gtk_signal_connect ( GTK_OBJECT ( GTK_FILE_SELECTION ( filedlg ) -&gt; 
ok_button ),
      &quot;clicked&quot;,
      GTK_SIGNAL_FUNC ( FileDlgOpenBiOK ),
      filedlg );

   /* Connect the file dialog's CANCEL button up to a handler */
   gtk_signal_connect ( GTK_OBJECT ( GTK_FILE_SELECTION ( filedlg ) -&gt; 
cancel_button ),
      &quot;clicked&quot;,
      GTK_SIGNAL_FUNC ( FileDlgCancel ),
      filedlg );

   /* Set the dialog up to only show source files */
   gtk_file_selection_complete ( GTK_FILE_SELECTION ( filedlg ), &quot;*&quot; );

   /* Show the dialog */
   gtk_window_set_modal ( GTK_WINDOW ( filedlg ), TRUE );
   gtk_widget_show ( filedlg );

}


If this doesn't help and you are writing this in C and you could send me 
a .tar of the project and I'll look at it.

-Jeff


yannis1976 wrote:

&gt;<i> Hello,
</I>&gt;<i> I'm new in glade and gtk programming, I'm writing a small
</I>&gt;<i> program with glade and I need some help..
</I>&gt;<i> I have managed to add the file selection widget in the program
</I>&gt;<i> and it pops up when I press the open button (using callbacks).
</I>&gt;<i> Then I choose a file by double clicking (or pressing OK) and
</I>&gt;<i> -of course- nothing happens... Can someone tell me how do I
</I>&gt;<i> &quot;catch&quot; the event that a file was selected and which file was it?
</I>&gt;<i> I believe this must be something simple, waiting for your
</I>&gt;<i> valuable help.
</I>&gt;<i> --Yannis
</I>&gt;<i>
</I>&gt;<i> p.s.: is there any tutorial so newbies like me would not bother
</I>&gt;<i> the list with such silly questions?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ____________________________________________________________________
</I>&gt;<i> &lt;cid:<A HREF="mailto:part1.00040500.09000008@netscape.com">part1.00040500.09000008@netscape.com</A>&gt; 
</I>



--------------040008050504080704090009--




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000966.html">[Glade-users] File Selection Widget
</A></li>
	<LI> Next message: <A HREF="000971.html">[Glade-users] File Selection Widget
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#970">[ date ]</a>
              <a href="thread.html#970">[ thread ]</a>
              <a href="subject.html#970">[ subject ]</a>
              <a href="author.html#970">[ author ]</a>
         </LI>
       </UL>
</body></html>
