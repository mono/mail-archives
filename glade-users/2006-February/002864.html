<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Adding entries to a gtkcomboboxentry
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Adding%20entries%20to%20a%20gtkcomboboxentry&In-Reply-To=c2db442f0602050524h62b00aa1m%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002863.html">
   <LINK REL="Next"  HREF="002867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Adding entries to a gtkcomboboxentry</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Adding%20entries%20to%20a%20gtkcomboboxentry&In-Reply-To=c2db442f0602050524h62b00aa1m%40mail.gmail.com"
       TITLE="[Glade-users] Adding entries to a gtkcomboboxentry">tristan.van.berkom at gmail.com
       </A><BR>
    <I>Sun Feb  5 14:48:05 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002863.html">[Glade-users] Adding entries to agtkcomboboxentry
</A></li>
        <LI>Next message: <A HREF="002867.html">[Glade-users] gtk compile error gtk2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2864">[ date ]</a>
              <a href="thread.html#2864">[ thread ]</a>
              <a href="subject.html#2864">[ subject ]</a>
              <a href="author.html#2864">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Leo - wrote:

&gt;<i>I hope I do this right, first time mailing list user :)
</I>&gt;<i>
</I>&gt;<i>I'm designing an app with glade and is going to use a gtkcomboboxentry as a
</I>&gt;<i>command input+command history part = The user edits the command in the
</I>&gt;<i>&quot;entry&quot; part and when he/she presses enter the command gets executed and
</I>&gt;<i>gets prepended in the history (popup menu part of the comboboxentry)
</I>&gt;<i>
</I>&gt;<i>How would I go on about prepending the neew command as a new row in the
</I>&gt;<i>menu?
</I>&gt;<i>I searched the gtk reference manual and found the function
</I>&gt;<i>&quot;gtk_combo_box_append_text&quot;
</I>&gt;<i>But when running the program with that command I get the errors
</I>&gt;<i>
</I>&gt;<i>(&lt;unknown&gt;:21581): Gtk-CRITICAL **: gtk_combo_box_append_text: assertion
</I>&gt;<i>`GTK_IS_LIST_STORE (combo_box-&gt;priv-&gt;model)' failed
</I>&gt;<i>
</I>&gt;<i>There is a note attached to the gtk reference saying
</I>&gt;<i>
</I>&gt;<i>&quot;Note that you can only use this function with combo boxes constructed with
</I>&gt;<i>gtk_combo_box_new_text().&quot;
</I>&gt;<i>
</I>&gt;<i>Could that be the problem?, that glade doesn't create the widget with that
</I>&gt;<i>function?
</I>&gt;<i>If I choose export and look in the c source there is the following part in
</I>&gt;<i>the interface.c file:
</I>&gt;<i>
</I>&gt;<i>  combo_result = gtk_combo_box_new_text ();
</I>&gt;<i>
</I>&gt;<i>So that shouldn't be the case should it?
</I>&gt;<i>
</I>&gt;<i>However, I am using glade through the glade-xml library and using the xml
</I>&gt;<i>file and not the c source, could it be
</I>&gt;<i>that the library generates/inits widgets differently?
</I>&gt;<i>
</I>&gt;<i>My crack at it:
</I>&gt;<i>The widget data seems to be stored in a gtktreemodel, a widget I know
</I>&gt;<i>nothing
</I>&gt;<i>about, but which seems to have some append/prepend functions, only that
</I>&gt;<i>they Invoke a third widget adding to the confusion.
</I>&gt;<i>
</I>&gt;<i>I would need help on understanding how to accomplish the above.
</I>&gt;<i>
</I>&gt;<i>Another person had a similar question:
</I>&gt;<i><A HREF="http://lists.ximian.com/pipermail/glade-users/2004-October/002215.html">http://lists.ximian.com/pipermail/glade-users/2004-October/002215.html</A>
</I>&gt;<i>and got this answer:
</I>&gt;<i>
</I>&gt;<i>Look at the code for gtk_combo_box_new_text(). You just have to set upthe
</I>&gt;<i>combo in a similar way and append_text() will work fine.
</I>&gt;<i>That would be in the gtk source wouldn't it? If so how would I obtain it,
</I>&gt;<i>find the special part, etc?
</I>&gt;<i>  
</I>&gt;<i>
</I>Heh,
   you've definitly stumbled upon one or glade/libglade's wierder
glitches ;-)

glade-2 will allow you to set an &quot;items&quot; property (that I assume you
dont need to set since your items are completely dynamic).

libglade will create the GtkListStore and add the GtkCellRendererText
*if* there were any items in the glade file.

So the confusing bottom line is that, libglade will setup you combo-box
for regular gtk_combo_box_new_text() type interaction *if* there were any
items set in the glade file, otherwise you just get a naked combo-box and
you'll have to set it up yourself.

Cheers,
                                          -Tristan

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002863.html">[Glade-users] Adding entries to agtkcomboboxentry
</A></li>
	<LI>Next message: <A HREF="002867.html">[Glade-users] gtk compile error gtk2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2864">[ date ]</a>
              <a href="thread.html#2864">[ thread ]</a>
              <a href="subject.html#2864">[ subject ]</a>
              <a href="author.html#2864">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
