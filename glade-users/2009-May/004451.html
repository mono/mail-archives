<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] reparenting a GtkDrawingArea with OpenGl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20reparenting%20a%20GtkDrawingArea%20with%20OpenGl&In-Reply-To=9f264a4c0905151301y3fdb1719rb3cd00f92ae5913a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004450.html">
   <LINK REL="Next"  HREF="004453.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] reparenting a GtkDrawingArea with OpenGl</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20reparenting%20a%20GtkDrawingArea%20with%20OpenGl&In-Reply-To=9f264a4c0905151301y3fdb1719rb3cd00f92ae5913a%40mail.gmail.com"
       TITLE="[Glade-users] reparenting a GtkDrawingArea with OpenGl">tristan.van.berkom at gmail.com
       </A><BR>
    <I>Fri May 15 16:42:18 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004450.html">[Glade-users] reparenting a GtkDrawingArea with OpenGl
</A></li>
        <LI>Next message: <A HREF="004453.html">[Glade-users] reparenting a GtkDrawingArea with OpenGl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4451">[ date ]</a>
              <a href="thread.html#4451">[ thread ]</a>
              <a href="subject.html#4451">[ subject ]</a>
              <a href="author.html#4451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Out of curiosity, does it work if you use a notebook parent with hidden tabs ?
the notebook is slightly different as it remaps the child widgets and realizes
them once, only careful you may get bitten by the fact that the
invisible notebook
pages are never realized/mapped until shown.

Cheers,
         -Tristan

On Fri, May 15, 2009 at 4:01 PM, Jeff Eberl &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">jeffeb3 at gmail.com</A>&gt; wrote:
&gt;<i> I have&#160; a window with two GtkDrawingArea's.&#160; One is a map and one is a
</I>&gt;<i> picture, I'm trying to swap the two windows with the click of a button.
</I>&gt;<i> Surrounding each drawing is a bunch of buttons and things.
</I>&gt;<i>
</I>&gt;<i> This is how I reparent them:
</I>&gt;<i>
</I>&gt;<i> gtk_widget_ref(map_widget);
</I>&gt;<i> gtk_widget_ref(pic_widget);
</I>&gt;<i>
</I>&gt;<i> gtk_container_remove(left_container, map_widget);
</I>&gt;<i> gtk_container_remove(right_container, pic_widget);
</I>&gt;<i>
</I>&gt;<i> gtk_container_add(left_container, pic_widget);
</I>&gt;<i> gtk_container_add(right_container, map_widget);
</I>&gt;<i>
</I>&gt;<i> gtk_widget_unref(map_widget);
</I>&gt;<i> gtk_widget_unref(pic_widget);
</I>&gt;<i>
</I>&gt;<i> The buttons, the boxes, and everything in the widgets swaps out, but the
</I>&gt;<i> next time I try to draw in either of them, the gdk_gl_drawable_gl_begin
</I>&gt;<i> fails:
</I>&gt;<i>
</I>&gt;<i> GdkGKExt-CRITICAL **: gdk_gl_window_impl_x11_make_context_current: assertion
</I>&gt;<i> 'GDK_IS_GL_CONTEXT_IMPL_X11 (glcontext)' failed
</I>&gt;<i>
</I>&gt;<i> So, that's a bummer.&#160; I didn't write the code I'm using to instantiate the
</I>&gt;<i> widgets, or draw the pic/map.&#160; I'm wondering if maybe the problem is that
</I>&gt;<i> the &quot;realize&quot; event gets called twice, but all the gdk setup stuff is
</I>&gt;<i> actually in a different method, one that doesn't get called twice.&#160; The
</I>&gt;<i> realize callback doesn't really have anything in it.
</I>&gt;<i>
</I>&gt;<i> Any help would be appreciated.&#160; I'm running in circles.
</I>&gt;<i>
</I>&gt;<i> Jeff
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Glade-users maillist &#160;- &#160;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004450.html">[Glade-users] reparenting a GtkDrawingArea with OpenGl
</A></li>
	<LI>Next message: <A HREF="004453.html">[Glade-users] reparenting a GtkDrawingArea with OpenGl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4451">[ date ]</a>
              <a href="thread.html#4451">[ thread ]</a>
              <a href="subject.html#4451">[ subject ]</a>
              <a href="author.html#4451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
