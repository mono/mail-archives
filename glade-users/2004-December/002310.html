<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] practical question: apps locating glade file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Neil%20Zanella%20%3Cnzanella%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002309.html">
   <LINK REL="Next"  HREF="002311.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] practical question: apps locating glade file
   </H1>
    <B>Neil Zanella
    </B> 
    <A HREF="mailto:Neil%20Zanella%20%3Cnzanella%40gmail.com%3E"
       TITLE="[Glade-users] practical question: apps locating glade file">Neil Zanella &lt;nzanella@gmail.com&gt;
       </A><BR>
    <I>Fri, 10 Dec 2004 13:04:13 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="002309.html">[Glade-users] practical question: apps locating glade file
</A></li>
        <LI> Next message: <A HREF="002311.html">[Glade-users] practical question: apps locating glade file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2310">[ date ]</a>
              <a href="thread.html#2310">[ thread ]</a>
              <a href="subject.html#2310">[ subject ]</a>
              <a href="author.html#2310">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yeah, I guess you could use command line flags to avoid having to recompile.
This means people need to be aware of the --gladedir option. I almost wonder
whether it would make sense for a system directory called 
/usr/share/glade/appname to exist for every app that uses
glade on the system with glade files being placed there.
Well, I guess there isn't any advantage to this either.

Regards,

Neil

On Sat, 11 Dec 2004 01:51:41 +0800, Ivan Wong &lt;<A HREF="mailto:email@ivanwong.info">email@ivanwong.info</A>&gt; wrote:
&gt;<i> &gt; Sort of OK, but it seems this method needs a recompile in order
</I>&gt;<i> &gt; to do a make install. On the other hand I can't think of a better
</I>&gt;<i> &gt; solution, and it seems to me that having glade_xml_new itself
</I>&gt;<i> &gt; do the directory searching for the given file inappropriate.
</I>&gt;<i> um... how about this (a `make check` should work in both $srcdir and
</I>&gt;<i> $srcdir/src):
</I>&gt;<i> 
</I>&gt;<i> /* main.c */
</I>&gt;<i> gchar *gladedir = GLADEDIR;
</I>&gt;<i> 
</I>&gt;<i> #ifdef HAVE_LIBPOPT
</I>&gt;<i> static struct poptOption options[] = {
</I>&gt;<i>     ......
</I>&gt;<i>     ......
</I>&gt;<i>        { &quot;gladedir&quot;, '\0', POPT_ARG_STRING, &amp;gladedir, 0,
</I>&gt;<i>          N_(&quot;the directory where glade xml files are placed.&quot;), NULL },
</I>&gt;<i>     ......
</I>&gt;<i>     ......
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> int main (int argc, char *argv[])
</I>&gt;<i> {
</I>&gt;<i>     gchar *filename;
</I>&gt;<i> 
</I>&gt;<i>     filename = g_build_filename (gladedir, &quot;galeon.glade&quot;, NULL);
</I>&gt;<i>     gladexml = glade_xml_new (filename, ...);
</I>&gt;<i>     g_free (filename);
</I>&gt;<i>     if (!gladexml)
</I>&gt;<i>         gladexml = glade_xml_new (GLADEDIR &quot;/galeon.glade&quot;, ...);
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> /* src/Makefile.am */
</I>&gt;<i> 
</I>&gt;<i> TESTS = test-galeon
</I>&gt;<i> 
</I>&gt;<i> /* src/test-galeon */
</I>&gt;<i> 
</I>&gt;<i> #!/bin/sh
</I>&gt;<i> 
</I>&gt;<i> test --gladedir=&quot;$srcdir/../ui&quot;
</I>&gt;<i> 
</I>&gt;<i> Rgrds,
</I>&gt;<i> Ivan.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Glade-users maillist  -  <A HREF="mailto:Glade-users@lists.ximian.com">Glade-users@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002309.html">[Glade-users] practical question: apps locating glade file
</A></li>
	<LI> Next message: <A HREF="002311.html">[Glade-users] practical question: apps locating glade file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2310">[ date ]</a>
              <a href="thread.html#2310">[ thread ]</a>
              <a href="subject.html#2310">[ subject ]</a>
              <a href="author.html#2310">[ author ]</a>
         </LI>
       </UL>
</body></html>
