<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users]  images in gnome canvas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20%20images%20in%20gnome%20canvas&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="003763.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users]  images in gnome canvas</H1>
    <B>chris!</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20%20images%20in%20gnome%20canvas&In-Reply-To="
       TITLE="[Glade-users]  images in gnome canvas">chrisjturner at gmail.com
       </A><BR>
    <I>Wed Jan  2 17:57:01 EST 2008</I>
    <P><UL>
        
        <LI>Next message: <A HREF="003763.html">[Glade-users] Menu Separator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3762">[ date ]</a>
              <a href="thread.html#3762">[ thread ]</a>
              <a href="subject.html#3762">[ subject ]</a>
              <a href="author.html#3762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I am trying to load an image and then manipulate it with the use of the
gnome canvas but unfortunately i've found it is making my entire program
quite unresponsive and slow. 

I load the pixbuf form a file and then draw it on the canvas in the main
loop;

map = gdk_pixbuf_new_from_file_at_size (&quot;../pixmaps/map_brisbane.png&quot;, 900,
900, NULL);
canvMap = gnome_canvas_item_new(gnome_canvas_root(gnomecanvas),
                             GNOME_TYPE_CANVAS_PIXBUF,
				&quot;anchor&quot;,GTK_ANCHOR_CENTER,
				&quot;height-in-pixels&quot;,0,
				&quot;width-in-pixels&quot;,0,
				&quot;x-in-pixels&quot;,0,
				&quot;y-in-pixels&quot;,0,
				&quot;pixbuf&quot;,map,
				&quot;x&quot;, (double)300, 
				&quot;y&quot;, (double)300,
				&quot;height&quot;,(double)600, 
				&quot;width&quot;, (double)600,  
				NULL);

I use an idle_callback function to move the image around and i simply change
the pixels per unit to zoom the entire canvas;

	double xvel; //x velocity
	double yvel; //y velocity
	double vel= gtk_range_get_value(lookup_widget(GTK_WIDGET(app1),
&quot;hscale1&quot;));

	xvel = vel*sin(home_head*C_DEG2RAD);
	yvel = vel*cos(home_head*C_DEG2RAD);
	gnome_canvas_item_move(canvMap,xvel/20,yvel/20);

The problem I am having is when the image is enlarged, when I decrease the
size it seems to function normaly again. Also, without the image the program
functions normally so i'm gussing it has something to do with rendering the
pixbuf to the canvas but i'm not too sure what explicitly would be causing
this problem weather it'd be the image itself or an inherent problem with
the gnome canvas or simply me doing something completely wrong. any help
would be greatly appreciated.

Thanks,

Chris
-- 
View this message in context: <A HREF="http://www.nabble.com/images-in-gnome-canvas-tp14572023p14572023.html">http://www.nabble.com/images-in-gnome-canvas-tp14572023p14572023.html</A>
Sent from the Gnome - Glade - User mailing list archive at Nabble.com.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="003763.html">[Glade-users] Menu Separator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3762">[ date ]</a>
              <a href="thread.html#3762">[ thread ]</a>
              <a href="subject.html#3762">[ subject ]</a>
              <a href="author.html#3762">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
