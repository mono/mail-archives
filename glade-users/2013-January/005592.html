<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] How to use FileChooserButton to get a filename (C	language)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=Re%3A%20%5BGlade-users%5D%20How%20to%20use%20FileChooserButton%20to%20get%20a%20filename%20%28C%0A%09language%29&In-Reply-To=%3CCAKiW8RtFUa%2BOP9DqPq_H-C1gmmif2_yA%2BGhQx6qEJ7mdyZE6Wg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="005593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] How to use FileChooserButton to get a filename (C	language)</H1>
    <B>Cristiano Oliveira Gon&#231;alves</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=Re%3A%20%5BGlade-users%5D%20How%20to%20use%20FileChooserButton%20to%20get%20a%20filename%20%28C%0A%09language%29&In-Reply-To=%3CCAKiW8RtFUa%2BOP9DqPq_H-C1gmmif2_yA%2BGhQx6qEJ7mdyZE6Wg%40mail.gmail.com%3E"
       TITLE="[Glade-users] How to use FileChooserButton to get a filename (C	language)">oliveiratiano at gmail.com
       </A><BR>
    <I>Thu Jan  3 15:09:07 UTC 2013</I>
    <P><UL>
        
        <LI>Next message: <A HREF="005593.html">[Glade-users] How to use FileChooserButton to get a filename (C language)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5592">[ date ]</a>
              <a href="thread.html#5592">[ thread ]</a>
              <a href="subject.html#5592">[ subject ]</a>
              <a href="author.html#5592">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!
Im new to this glade thing (and also to this mailing list), and would like
to know if any of you guys could help me out:

I have to get the filename the user selects from the chooserbutton and send
it as a string to a function. Unfortunatelly, i've been receiving this
annoying error: Gtk-CRITICAL **: IA__gtk_file_chooser_get_uri: assertion
`GTK_IS_FILE_CHOOSER (chooser)' failed

I thought it was due to the wrong use of the widget. Could somebody help me
to figure this out? The source code is below, and as you can see, it's from
a Glade-GTK tutorial found at <A HREF="https://live.gnome.org/Glade/Tutorials.">https://live.gnome.org/Glade/Tutorials.</A>

The program is a simple 2 button window: first button is the
filechooserbutton, and the second is the standard button that calls the
&quot;clica&quot; function when clicked.

Thanks a lot, and sorry for my bad english!

Test source (just to figure out how to use the widget):

#include &lt;gtk/gtk.h&gt;

int
main( int    argc,
      char **argv )
{
    GtkBuilder *builder;
    GtkWidget  *window;
    GError     *error = NULL;

    /* Init GTK+ */
    gtk_init( &amp;argc, &amp;argv );

    /* Create new GtkBuilder object */
    builder = gtk_builder_new();
    /* Load UI from file. If error occurs, report it and quit application.
     * Replace &quot;tut.glade&quot; with your saved project. */
    if( ! gtk_builder_add_from_file( builder, &quot;tut.glade&quot;, &amp;error ) )
    {
        g_warning( &quot;%s&quot;, error-&gt;message );
        g_free( error );
        return( 1 );
    }

    /* Get main window pointer from UI */
    window = GTK_WIDGET( gtk_builder_get_object( builder, &quot;window1&quot; ) );

    /* Connect signals */
    gtk_builder_connect_signals( builder, NULL );

    /* Destroy builder, since we don't need it anymore */
    g_object_unref( G_OBJECT( builder ) );

    /* Show window. All other widgets are automatically shown by GtkBuilder
*/
    gtk_widget_show( window );

    /* Start main loop */
    gtk_main();

    return( 0 );
}

void clica(GtkFileChooser *filechooserbutton1){
   char cNome[250];
      *cNome =
gtk_file_chooser_get_uri(GTK_FILE_CHOOSER(filechooserbutton1));

      printf(&quot;\n%s&quot;, cNome);

}

-- 
Cristiano Oliveira Gon&#231;alves
Graduando em Bacharelado em Sistemas de Informa&#231;&#227;o
Unesp Bauru.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/glade-users/attachments/20130103/b9a685c7/attachment.html">http://lists.ximian.com/pipermail/glade-users/attachments/20130103/b9a685c7/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="005593.html">[Glade-users] How to use FileChooserButton to get a filename (C language)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5592">[ date ]</a>
              <a href="thread.html#5592">[ thread ]</a>
              <a href="subject.html#5592">[ subject ]</a>
              <a href="author.html#5592">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
