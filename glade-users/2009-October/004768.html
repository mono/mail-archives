<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Using Actions + MenuItems + Accelerators +	AccelLabels
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Using%20Actions%20%2B%20MenuItems%20%2B%20Accelerators%20%2B%0A%09AccelLabels&In-Reply-To=1254758090.2808.49.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004755.html">
   <LINK REL="Next"  HREF="004754.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Using Actions + MenuItems + Accelerators +	AccelLabels</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Using%20Actions%20%2B%20MenuItems%20%2B%20Accelerators%20%2B%0A%09AccelLabels&In-Reply-To=1254758090.2808.49.camel%40localhost.localdomain"
       TITLE="[Glade-users] Using Actions + MenuItems + Accelerators +	AccelLabels">tristan.van.berkom at gmail.com
       </A><BR>
    <I>Thu Oct  8 22:37:22 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004755.html">[Glade-users] Using Actions + MenuItems + Accelerators + AccelLabels
</A></li>
        <LI>Next message: <A HREF="004754.html">[Glade-users] custom widgets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4768">[ date ]</a>
              <a href="thread.html#4768">[ thread ]</a>
              <a href="subject.html#4768">[ subject ]</a>
              <a href="author.html#4768">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Oct 5, 2009 at 12:54 PM, Alexey Kurochkin
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">alexey.kurochkin at pathfinderlwd.com</A>&gt; wrote:
&gt;<i> On Sat, 2009-10-03 at 20:43 -0500, Manuel Alejandro Cer&#243;n Estrada wrote:
</I>&gt;&gt;<i> Hello.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have a bunch of actions and a MenuBar. Every MenuItem in the MenuBar
</I>&gt;&gt;<i> has an associated action. I'm using &quot;related action&quot; and &quot;use action
</I>&gt;&gt;<i> appearance&quot; to connect the actions with the menu. Now I want to assign
</I>&gt;&gt;<i> some shortcut keys to each action. I haven't found a way to do that in
</I>&gt;&gt;<i> Glade, so I'm doing it with code. I'm creating an ActionGroup and then
</I>&gt;&gt;<i> adding each action to that group using add_action_with_accel. Then I
</I>&gt;&gt;<i> create an AccelGroup and assign each action to it using
</I>&gt;&gt;<i> action.set_accel_group and connect the accelerator using
</I>&gt;&gt;<i> action.connect_accelerator. After that, I add the AccelGroup to the
</I>&gt;&gt;<i> window using window.set_accel_group. This seems to work, when I press
</I>&gt;&gt;<i> the keyboard shortcut the action is activated, however, the menu item
</I>&gt;&gt;<i> does not show the AccelLabel indicating the accelerator for that item.
</I>&gt;&gt;<i> How do I achieve this? Is there an easier way?
</I>&gt;<i>
</I>&gt;<i> I'd like to see the answer too. Currently I create only the main menu
</I>&gt;<i> bar and empty sub menus with Glade, and all the menu items are created
</I>&gt;<i> and appended to the sub menus manually in the code. It results in
</I>&gt;<i> hundreds of lines of clutter which I'm looking forward to get rid of.
</I>
Hmmm ok from what I understand there is probably a bug here, plus
a couple of shortcomings in the whole builder/menu system.

If I understand correctly the menu item not updating the accelerator
when the action accel path and accel group is setup is a bug, and
should be filed for GTK+.

One of the gaps that is ridiculously easy to bridge is the fact
that we cannot setup accel groups properly in Glade, this
requires that GtkActionGroup implement GtkBuildable in order
to implement the -&gt;add_child() method to add actions to groups
from a GtkBuilder xml... (and then some code in Glade to allow
you to parent the actions).

The other I guess is that setting accelerators on action in Glade
is not obvious, so much so that I dont have a clue how it works
honestly... all I know is that we can setup the accel group, and
we can set the accel path... and I know the accel path is a const gchar *.
so I know we can set it up from Glade.

Apart from that I have no idea what an accel path does, I've looked
at the GTK+ docs several times this past week (because I wanted
to answer this email actually), and I still have no idea what to do
with a const gchar *accel_path :-/

So that being said, sorry for the delay in answering, these loose
strings are few.. but tying them up could undoubtedly save many
people hundreds of lines of code...

I do wish I could promise to address these issues myself, as
they are pretty simple, but I really cant find the time right now.


&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm using PyGTK and glade 3.6.3
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Manuel.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Glade-users maillist &#160;- &#160;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Glade-users maillist &#160;- &#160;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i>
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004755.html">[Glade-users] Using Actions + MenuItems + Accelerators + AccelLabels
</A></li>
	<LI>Next message: <A HREF="004754.html">[Glade-users] custom widgets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4768">[ date ]</a>
              <a href="thread.html#4768">[ thread ]</a>
              <a href="subject.html#4768">[ subject ]</a>
              <a href="author.html#4768">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
