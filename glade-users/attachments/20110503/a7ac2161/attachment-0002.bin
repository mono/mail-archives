#include <gtk/gtk.h>
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <string.h>

int
main (int argc, char **argv)
{
  GtkBuilder *builder;
  GtkWidget *main_window, *textview1;
  GtkTextBuffer *textbuffer1;
  gchar *mytext;

  gtk_init (&argc, &argv);

  mytext = (gchar *) g_malloc0 (50);

  builder = gtk_builder_new();

  gtk_builder_add_from_file (builder, "textview.glade", NULL);

  gtk_builder_connect_signals (builder, NULL);

  main_window = GTK_WIDGET (gtk_builder_get_object (builder,"window1"));

  g_object_unref (G_OBJECT (builder));

// Fill out textview (something goes wrong here)
  strcpy (mytext, "This is a test sentence.");
  textbuffer1 = gtk_text_view_get_buffer (GTK_TEXT_VIEW (textview1));
  gtk_text_buffer_set_text (textbuffer1, mytext, -1);

  gtk_widget_show (main_window);

  gtk_main ();
  
  return (EXIT_SUCCESS);
}
