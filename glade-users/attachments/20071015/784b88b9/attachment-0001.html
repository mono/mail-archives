<tt>
Hum,&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;it&nbsp;can&nbsp;solve&nbsp;my&nbsp;problem...&nbsp;Here&nbsp;is&nbsp;what&nbsp;I&nbsp;want&nbsp;to&nbsp;do:&lt;br&gt;&lt;br&gt;1)&nbsp;I&nbsp;create&nbsp;a&nbsp;foo.glade&nbsp;file,&nbsp;the&nbsp;root&nbsp;widget&nbsp;is&nbsp;a&nbsp;GtkVBox,&nbsp;I&nbsp;pack&nbsp;in&nbsp;it&nbsp;logs&nbsp;of&nbsp;GTK&nbsp;widgets.&lt;br&gt;2)&nbsp;Manually&nbsp;I&nbsp;rename&nbsp;the&nbsp;root&nbsp;widget&nbsp;class&nbsp;from&nbsp;GtkVBox&nbsp;to&nbsp;EmpathyFoo,&nbsp;EmpathyFoo&nbsp;is&nbsp;a&nbsp;class&nbsp;inheriting&nbsp;from&nbsp;GtkVBox&nbsp;implemented&nbsp;in&nbsp;libempathy-gtk.<br>
&lt;br&gt;3)&nbsp;Using&nbsp;gtk-builder-convert&nbsp;I&nbsp;convert&nbsp;foo.glade&nbsp;to&nbsp;foo.ui&lt;br&gt;4)&nbsp;I&nbsp;make&nbsp;a&nbsp;method&nbsp;empathy_foo_new(){return&nbsp;gtk_builder_get_object(foo.ui,&nbsp;root);}&nbsp;With&nbsp;that&nbsp;function&nbsp;I&nbsp;think&nbsp;GtkBuilder&nbsp;will&nbsp;do&nbsp;a&nbsp;g_object_new(empathy_foo_get_type(),&nbsp;NULL);&nbsp;and&nbsp;then&nbsp;it&nbsp;will&nbsp;pack&nbsp;all&nbsp;widgets&nbsp;in&nbsp;it&nbsp;as&nbsp;described&nbsp;in&nbsp;the&nbsp;.ui&nbsp;file.&nbsp;If&nbsp;that&nbsp;works,&nbsp;glade&nbsp;will&nbsp;introspect&nbsp;my&nbsp;widget,&nbsp;see&nbsp;all&nbsp;packed&nbsp;widgets&nbsp;and&nbsp;display&nbsp;me&nbsp;their&nbsp;properties&nbsp;but&nbsp;won&amp;#39;t&nbsp;allow&nbsp;me&nbsp;to&nbsp;removed&nbsp;them&nbsp;since&nbsp;they&nbsp;are&nbsp;internal&nbsp;childs?<br>
&lt;br&gt;&lt;br&gt;My&nbsp;questions&nbsp;are:&lt;br&gt;1)&nbsp;If&nbsp;I&nbsp;write&nbsp;a&nbsp;catalog&nbsp;for&nbsp;EmpathyFoo&nbsp;widget,&nbsp;glade-3&nbsp;will&nbsp;need&nbsp;to&nbsp;call&nbsp;empathy_foo_new()&nbsp;to&nbsp;create&nbsp;my&nbsp;widget,&nbsp;not&nbsp;g_object_new()&nbsp;because&nbsp;the&nbsp;widget&nbsp;needs&nbsp;to&nbsp;be&nbsp;constructed&nbsp;by&nbsp;GtkBuilder&nbsp;to&nbsp;have&nbsp;all&nbsp;needed&nbsp;widgets&nbsp;packed&nbsp;in&nbsp;it.&nbsp;How&nbsp;can&nbsp;I&nbsp;do&nbsp;that?<br>
&lt;br&gt;2)&nbsp;If&nbsp;I&nbsp;want&nbsp;to&nbsp;modify&nbsp;EmpathyFoo&nbsp;object,&nbsp;I&nbsp;open&nbsp;foo.glade&nbsp;using&nbsp;glade-3,&nbsp;but&nbsp;I&nbsp;changed&nbsp;the&nbsp;root&nbsp;type&nbsp;to&nbsp;from&nbsp;GtkVBox&nbsp;to&nbsp;EmpathyFoo,&nbsp;what&nbsp;will&nbsp;glade&nbsp;do?&nbsp;Will&nbsp;it&nbsp;use&nbsp;empathy_foo_get_type()&nbsp;and&nbsp;then&nbsp;pack&nbsp;in&nbsp;it&nbsp;all&nbsp;widgets&nbsp;and&nbsp;allows&nbsp;me&nbsp;to&nbsp;modify&nbsp;everything?&nbsp;If&nbsp;that&nbsp;works&nbsp;I&nbsp;can&nbsp;convert&nbsp;the&nbsp;new&nbsp;glade&nbsp;file&nbsp;to&nbsp;<br>
foo.ui&nbsp;and&nbsp;I&amp;#39;m&nbsp;happy.&lt;br&gt;&lt;br&gt;The&nbsp;problem&nbsp;I&nbsp;see&nbsp;is&nbsp;glade-3&nbsp;needs&nbsp;to&nbsp;use&nbsp;g_object_new(empathy_foo_get_type(),&nbsp;NULL);&nbsp;when&nbsp;I&amp;#39;m&nbsp;editing&nbsp;foo.glade&nbsp;and&nbsp;empathy_foo_new()&nbsp;when&nbsp;I&amp;#39;m&nbsp;using&nbsp;a&nbsp;EmpathyFoo&nbsp;widget&nbsp;in&nbsp;another&nbsp;glade&nbsp;file.&nbsp;Is&nbsp;glade&nbsp;able&nbsp;to&nbsp;manage&nbsp;that?<br>
&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;Xavier&nbsp;Claessens.&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2007/10/14,&nbsp;Xavier&nbsp;Claessens&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:xclaesse@gmail.com&quot;&gt;xclaesse@gmail.com&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Thanks&nbsp;for&nbsp;answering&nbsp;that&nbsp;fast;&lt;br&gt;&lt;br&gt;On&nbsp;your&nbsp;blog&nbsp;I&nbsp;see&nbsp;the&nbsp;&amp;quot;parent&amp;quot;&nbsp;attribute,&nbsp;seems&nbsp;exactly&nbsp;what&nbsp;I&nbsp;need.&lt;br&gt;It&amp;#39;s&nbsp;not&nbsp;documented&nbsp;[1]?&nbsp;If&nbsp;I&nbsp;understand&nbsp;the&nbsp;patch&nbsp;for&nbsp;the&nbsp;&amp;quot;parent&amp;quot;&lt;br&gt;attribute,&nbsp;I&nbsp;write&nbsp;a&nbsp;catalog&nbsp;with&nbsp;my&nbsp;EmpathyFoo&nbsp;widget&nbsp;and&nbsp;say&nbsp;the<br>
&lt;br&gt;parent&nbsp;class&nbsp;is&nbsp;GtkHBox.&nbsp;When&nbsp;someone&nbsp;wants&nbsp;to&nbsp;embed&nbsp;my&nbsp;widget&nbsp;in&nbsp;the&lt;br&gt;glade&nbsp;UI,&nbsp;glade&nbsp;will&nbsp;create&nbsp;a&nbsp;GtkHBox&nbsp;object,&nbsp;pack&nbsp;everything&nbsp;in&nbsp;it&nbsp;so&lt;br&gt;it&nbsp;looks&nbsp;like&nbsp;a&nbsp;EmpathyFoo&nbsp;but&nbsp;it&amp;#39;s&nbsp;not&nbsp;really&nbsp;one?&lt;br&gt;&lt;br&gt;Xavier&nbsp;Claessens.<br>
&lt;br&gt;&lt;br&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;http://glade.gnome.org/docs/index.html&quot;&gt;http://glade.gnome.org/docs/index.html&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;Le&nbsp;dimanche&nbsp;14&nbsp;octobre&nbsp;2007&nbsp;à&nbsp;16:20&nbsp;-0400,&nbsp;Tristan&nbsp;Van&nbsp;Berkom&nbsp;a&nbsp;écrit&nbsp;:&lt;br&gt;&amp;gt;&nbsp;On&nbsp;Sun,&nbsp;2007-10-14&nbsp;at&nbsp;17:55&nbsp;+0200,&nbsp;Xavier&nbsp;Claessens&nbsp;wrote:<br>
&lt;br&gt;&amp;gt;&nbsp;[...]&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;But&nbsp;how&nbsp;will&nbsp;glade-3&nbsp;react&nbsp;if&nbsp;I&nbsp;want&nbsp;to&nbsp;edit&nbsp;my&nbsp;glade&nbsp;file?&nbsp;It&nbsp;will&nbsp;see&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;a&nbsp;unknown&nbsp;widget&nbsp;type...&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;tell&nbsp;glade&nbsp;that&nbsp;EmpathyFoo&nbsp;is&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;just&nbsp;like&nbsp;GtkHBox&nbsp;but&nbsp;when&nbsp;a&nbsp;client&nbsp;wants&nbsp;to&nbsp;instantiate&nbsp;it&nbsp;should&nbsp;use<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;g_object_new(Empathy_foo_get_type(),&nbsp;NULL);&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;And&nbsp;if&nbsp;I&nbsp;write&nbsp;a&nbsp;catalog&nbsp;xml&nbsp;file&nbsp;to&nbsp;describe&nbsp;properties&nbsp;of&nbsp;my&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;EmpathyFoo&nbsp;widget,&nbsp;then&nbsp;other&nbsp;programs&nbsp;will&nbsp;be&nbsp;able&nbsp;to&nbsp;embed&nbsp;a<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;EmpathyFoo&nbsp;widget&nbsp;in&nbsp;their&nbsp;UI,&nbsp;but&nbsp;will&nbsp;they&nbsp;be&nbsp;able&nbsp;to&nbsp;modify&nbsp;widgets&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;packed&nbsp;in&nbsp;it?&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Yes.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;So&nbsp;I&nbsp;have&nbsp;a&nbsp;foo.glade&nbsp;describing&nbsp;my&nbsp;EmpathyFoo&nbsp;widget,&nbsp;if&nbsp;I&nbsp;edit&nbsp;that<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;file&nbsp;I&nbsp;want&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;modify&nbsp;widgets&nbsp;packed&nbsp;in&nbsp;my&nbsp;EmpathyFoo&nbsp;widget.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;If&nbsp;a&nbsp;create&nbsp;a&nbsp;new&nbsp;bar.glade&nbsp;and&nbsp;pack&nbsp;(using&nbsp;catalog)&nbsp;an&nbsp;EmpathyFoo&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;widget&nbsp;into&nbsp;a&nbsp;GtkWindow&nbsp;I&nbsp;don&amp;#39;t&nbsp;want&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;edit&nbsp;widgets<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;contained&nbsp;in&nbsp;EmpathyFoo&nbsp;widget.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Is&nbsp;that&nbsp;possible?&nbsp;Thanks&nbsp;for&nbsp;explanations!&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Ok&nbsp;you&amp;#39;ll&nbsp;have&nbsp;to&nbsp;look&nbsp;at&nbsp;glade3/plugins/gtk+/glade-gtk.c,gtk+.xml.in&nbsp;.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;That&nbsp;will&nbsp;give&nbsp;you&nbsp;a&nbsp;good&nbsp;idea&nbsp;of&nbsp;how&nbsp;the&nbsp;class&nbsp;adapter&nbsp;works<br>
&lt;br&gt;&amp;gt;&nbsp;(i.e.&nbsp;we&nbsp;use&nbsp;an&nbsp;object&nbsp;class&nbsp;implemented&nbsp;by&nbsp;your&nbsp;plugin&nbsp;to&nbsp;interact&lt;br&gt;&amp;gt;&nbsp;with&nbsp;your&nbsp;runtime&nbsp;widgets).&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;A&nbsp;plugin&nbsp;is&nbsp;not&nbsp;always&nbsp;nescisary,&nbsp;but&nbsp;you&nbsp;might&nbsp;need&nbsp;to&nbsp;override&lt;br&gt;&amp;gt;&nbsp;some&nbsp;of&nbsp;the&nbsp;behaviour&nbsp;from&nbsp;the&nbsp;GtkHBox&nbsp;adaptor&nbsp;if&nbsp;your&nbsp;widget<br>
&lt;br&gt;&amp;gt;&nbsp;behaves&nbsp;differently&nbsp;than&nbsp;a&nbsp;normal&nbsp;hbox&nbsp;(especially&nbsp;if&nbsp;you&nbsp;have&lt;br&gt;&amp;gt;&nbsp;implicit&nbsp;internal&nbsp;child&nbsp;widgets,&nbsp;you&nbsp;might&nbsp;need&nbsp;to&nbsp;special&nbsp;case&lt;br&gt;&amp;gt;&nbsp;them&nbsp;a&nbsp;bit).&nbsp;this&nbsp;blog&nbsp;post[1]&nbsp;you&nbsp;might&nbsp;have&nbsp;found&nbsp;explains&nbsp;the&lt;br&gt;&amp;gt;&nbsp;simplest&nbsp;way&nbsp;to&nbsp;make&nbsp;a&nbsp;pluginless&nbsp;catalog,&nbsp;it&nbsp;should&nbsp;get&nbsp;you<br>
&lt;br&gt;&amp;gt;&nbsp;started&nbsp;at&nbsp;least.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Note&nbsp;that&nbsp;from&nbsp;the&nbsp;libglade&nbsp;pov,&nbsp;you&amp;#39;ll&nbsp;have&nbsp;to&nbsp;write&nbsp;a&nbsp;plugin&lt;br&gt;&amp;gt;&nbsp;that&nbsp;calls&nbsp;glade_register_widget()&nbsp;for&nbsp;your&nbsp;types&nbsp;and&nbsp;does&nbsp;any&lt;br&gt;&amp;gt;&nbsp;special&nbsp;casing&nbsp;on&nbsp;the&nbsp;libglade&nbsp;side&nbsp;of&nbsp;things&nbsp;(it&nbsp;will&nbsp;be&nbsp;loaded<br>
&lt;br&gt;&amp;gt;&nbsp;as&nbsp;the&nbsp;&amp;quot;name&amp;quot;&nbsp;specified&nbsp;in&nbsp;your&nbsp;glade&nbsp;catalog),&nbsp;there&nbsp;are&nbsp;easier&lt;br&gt;&amp;gt;&nbsp;ways&nbsp;to&nbsp;get&nbsp;your&nbsp;widgets&nbsp;working&nbsp;without&nbsp;writing&nbsp;libglade&nbsp;plugins&lt;br&gt;&amp;gt;&nbsp;but&nbsp;if&nbsp;you&nbsp;want&nbsp;it&nbsp;available&nbsp;for&nbsp;everyone&nbsp;then&nbsp;you&nbsp;need&nbsp;libglade<br>
&lt;br&gt;&amp;gt;&nbsp;plugins&nbsp;(those&nbsp;plugins&nbsp;will&nbsp;not&nbsp;be&nbsp;needed&nbsp;in&nbsp;a&nbsp;GtkBuilder&nbsp;situation).&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Cheers,&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;-Tristan&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;[1]&nbsp;&lt;a&nbsp;href=&quot;http://blogs.gnome.org/tvb/2007/07/25/some-popular-features/&quot;&gt;<br>
http://blogs.gnome.org/tvb/2007/07/25/some-popular-features/&lt;/a&gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;
</tt>
