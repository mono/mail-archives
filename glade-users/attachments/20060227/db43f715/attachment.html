<tt>
Hi&nbsp;everyone&nbsp;i&nbsp;doing&nbsp;my&nbsp;project&nbsp;and&nbsp;i&nbsp;have&nbsp;some&nbsp;problems&nbsp;with&nbsp;the&nbsp;menu&nbsp;save&nbsp;button.&nbsp;I&nbsp;use&nbsp;glade2.&nbsp;Can&nbsp;anybody&nbsp;help&nbsp;me&nbsp;on&nbsp;that?&lt;br&gt;<br>
&lt;br&gt;<br>
Here&nbsp;is&nbsp;the&nbsp;code:&lt;br&gt;<br>
void&lt;br&gt;<br>
on_save_as1_activate&nbsp;(GtkMenuItem&nbsp;*menuitem,&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;gpointer&nbsp;user_data)<br>
&lt;br&gt;<br>
{&lt;br&gt;<br>
GtkWidget&nbsp;*dialog;&lt;br&gt;<br>
char&nbsp;*filename;&lt;br&gt;<br>
&lt;br&gt;<br>
dialog&nbsp;=&nbsp;gtk_file_chooser_dialog_new&nbsp;(&amp;quot;Save&nbsp;As..&amp;nbsp;&nbsp;File&amp;quot;,&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;NULL,&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;GTK_FILE_CHOOSER_ACTION_SAVE,&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;GTK_STOCK_CANCEL,&nbsp;GTK_RESPONSE_CANCEL,<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;GTK_STOCK_SAVE,&nbsp;GTK_RESPONSE_ACCEPT,&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;NULL);&lt;br&gt;<br>
gtk_file_chooser_set_do_overwrite_confirmation&nbsp;(GTK_FILE_CHOOSER&nbsp;(dialog),&nbsp;TRUE);&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;gtk_file_chooser_set_current_folder&nbsp;(GTK_FILE_CHOOSER&nbsp;(dialog),&nbsp;&amp;quot;/tmp&amp;quot;);<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
if&nbsp;(gtk_dialog_run&nbsp;(GTK_DIALOG&nbsp;(dialog))&nbsp;==&nbsp;GTK_RESPONSE_ACCEPT)&lt;br&gt;<br>
&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;filename&nbsp;=&nbsp;gtk_file_chooser_get_filename&nbsp;(GTK_FILE_CHOOSER&nbsp;(dialog));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;save_to_file(filename);&nbsp;&amp;lt;--------&nbsp;Here&nbsp;is&nbsp;the&nbsp;problem&nbsp;when&nbsp;i&nbsp;compile&nbsp;it&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;g_free&nbsp;(filename);<br>
&lt;br&gt;<br>
&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
gtk_widget_destroy&nbsp;(dialog);&lt;br&gt;<br>
&lt;br&gt;<br>
}&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;the&nbsp;help<br>

</tt>
