<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/3.32.2&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
Thank&nbsp;you&nbsp;for&nbsp;clarifying,&nbsp;Alexey.&nbsp;Most&nbsp;of&nbsp;my&nbsp;coding&nbsp;has&nbsp;been&nbsp;very&nbsp;&amp;quot;old-school&amp;quot;&nbsp;stuff,&nbsp;and&nbsp;most&nbsp;of&nbsp;my&nbsp;experience&nbsp;with&nbsp;event&nbsp;loops&nbsp;was&nbsp;in&nbsp;X-Windows.&nbsp;Your&nbsp;recommendation&nbsp;makes&nbsp;more&nbsp;sense!&lt;BR&gt;<br>
&lt;TABLE&nbsp;CELLSPACING=&quot;0&quot;&nbsp;CELLPADDING=&quot;0&quot;&nbsp;WIDTH=&quot;100%&quot;&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;<br>
&lt;PRE&gt;<br>
--&nbsp;<br>
Mannex<br>
&lt;/PRE&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/TD&gt;<br>
&lt;/TR&gt;<br>
&lt;/TABLE&gt;<br>
On&nbsp;Sat,&nbsp;2011-06-25&nbsp;at&nbsp;22:48&nbsp;-0500,&nbsp;Alexey&nbsp;wrote:<br>
&lt;BLOCKQUOTE&nbsp;TYPE=CITE&gt;<br>
&lt;PRE&gt;<br>
On&nbsp;Sat,&nbsp;2011-06-25&nbsp;at&nbsp;11:01&nbsp;-0700,&nbsp;David&nbsp;Buchan&nbsp;wrote:<br>
&amp;gt;&nbsp;//&nbsp;main&nbsp;calculation&nbsp;loop<br>
&amp;gt;&nbsp;while&nbsp;(flag&nbsp;==&nbsp;0)&nbsp;{<br>
&amp;gt;&nbsp;&nbsp;&nbsp;make&nbsp;some&nbsp;heavy&nbsp;duty&nbsp;calculations;<br>
&amp;gt;&nbsp;<br>
&amp;gt;&nbsp;//&nbsp;Check&nbsp;if&nbsp;the&nbsp;user&nbsp;has&nbsp;clicked&nbsp;any&nbsp;buttons&nbsp;(e.g.,&nbsp;the&nbsp;STOP&nbsp;button)<br>
&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(gtk_events_pending())&nbsp;{<br>
&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gtk_main_iteration();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;let&nbsp;the&nbsp;main&nbsp;gtk&nbsp;loop&nbsp;deal&nbsp;with&nbsp;it<br>
&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&amp;gt;&nbsp;&nbsp;&nbsp;carry&nbsp;on&nbsp;with&nbsp;more&nbsp;ridiculously&nbsp;heavy&nbsp;duty&nbsp;calculations;<br>
&amp;gt;&nbsp;}<br>
&amp;gt;&nbsp;<br>
&amp;gt;&nbsp;The&nbsp;way&nbsp;I&nbsp;set&nbsp;it&nbsp;up,&nbsp;if&nbsp;the&nbsp;user&nbsp;clicks&nbsp;the&nbsp;STOP&nbsp;button,&nbsp;a&nbsp;callback&nbsp;is<br>
&amp;gt;&nbsp;executed&nbsp;which&nbsp;sets&nbsp;the&nbsp;flag&nbsp;to&nbsp;zero&nbsp;(flag&nbsp;=&nbsp;0).&nbsp;The&nbsp;main&nbsp;calculation<br>
&amp;gt;&nbsp;while-loop&nbsp;then&nbsp;ends&nbsp;peacefully.<br>
<br>
It's&nbsp;not&nbsp;the&nbsp;preferred&nbsp;way&nbsp;to&nbsp;do&nbsp;it.&nbsp;The&nbsp;preferred&nbsp;way&nbsp;is&nbsp;to&nbsp;replace<br>
your&nbsp;loop&nbsp;with&nbsp;an&nbsp;idle&nbsp;function&nbsp;which&nbsp;is&nbsp;called&nbsp;repeatedly&nbsp;whenever<br>
there's&nbsp;no&nbsp;other&nbsp;events&nbsp;are&nbsp;to&nbsp;be&nbsp;processed.&nbsp;You&nbsp;use&nbsp;g_idle_add()&nbsp;to&nbsp;add<br>
the&nbsp;function&nbsp;to&nbsp;the&nbsp;main&nbsp;loop&nbsp;and&nbsp;the&nbsp;main&nbsp;loop&nbsp;takes&nbsp;care&nbsp;of&nbsp;all&nbsp;the<br>
necessary&nbsp;checks.&nbsp;All&nbsp;you&nbsp;have&nbsp;to&nbsp;do&nbsp;in&nbsp;the&nbsp;function&nbsp;is&nbsp;returning&nbsp;TRUE<br>
until&nbsp;the&nbsp;job&nbsp;is&nbsp;done&nbsp;and&nbsp;finally&nbsp;return&nbsp;FALSE&nbsp;to&nbsp;stop&nbsp;the&nbsp;function<br>
being&nbsp;called.&nbsp;To&nbsp;cancel&nbsp;the&nbsp;job&nbsp;by&nbsp;the&nbsp;user&nbsp;request&nbsp;you'd&nbsp;use<br>
g_source_remove()&nbsp;in&nbsp;the&nbsp;appropriate&nbsp;callback.<br>
<br>
The&nbsp;approach&nbsp;you&nbsp;described&nbsp;is&nbsp;acceptable&nbsp;only&nbsp;for&nbsp;porting&nbsp;some&nbsp;old&nbsp;code<br>
relying&nbsp;on&nbsp;polling&nbsp;user&nbsp;input&nbsp;within&nbsp;some&nbsp;complex&nbsp;loop&nbsp;which&nbsp;is&nbsp;too<br>
burdensome&nbsp;to&nbsp;untangle.&nbsp;In&nbsp;general,&nbsp;unless&nbsp;you&nbsp;do&nbsp;some&nbsp;low&nbsp;level&nbsp;stuff,<br>
if&nbsp;you&nbsp;feel&nbsp;the&nbsp;need&nbsp;to&nbsp;poll&nbsp;for&nbsp;events&nbsp;you&nbsp;probably&nbsp;doing&nbsp;something<br>
wrong,&nbsp;cause&nbsp;it&nbsp;is&nbsp;the&nbsp;main&nbsp;loop&nbsp;job&nbsp;to&nbsp;decide&nbsp;when&nbsp;and&nbsp;what&nbsp;to&nbsp;process.<br>
<br>
<br>
&lt;/PRE&gt;<br>
&lt;/BLOCKQUOTE&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
