<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] pointer_motion, button_press, etc. not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:damon%40karuna.uklinux.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001755.html">
   <LINK REL="Next"  HREF="001756.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] pointer_motion, button_press, etc. not working
   </H1>
    <B>Damon Chaplin
    </B> 
    <A HREF="mailto:damon%40karuna.uklinux.net"
       TITLE="[Glade-users] pointer_motion, button_press, etc. not working">damon@karuna.uklinux.net
       </A><BR>
    <I>29 Jan 2004 12:22:23 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="001755.html">[Glade-users] pointer_motion, button_press, etc. not working
</A></li>
        <LI> Next message: <A HREF="001756.html">[Glade-users] i don't get it
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1760">[ date ]</a>
              <a href="thread.html#1760">[ thread ]</a>
              <a href="subject.html#1760">[ subject ]</a>
              <a href="author.html#1760">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That is because you passed GDK_POINTER_MOTION_HINT_MASK (which is
generally a good idea to do).

Without that mask you will get an event each time the mouse moves, and
it is possible that your code won't be fast enough to handle them, so it
will start to lag behind.

If you pass HINT_MASK, you need to call get_pointer() to get a new
event.

Damon


On Wed, 2004-01-28 at 04:45, Greg Hamilton wrote:
&gt;<i> In reply to my own question, if the motion_notify_event handler calls 
</I>&gt;<i> event.window.get_pointer() to get the x,y position of the mouse and the 
</I>&gt;<i> buttons state then the events keep occurring. If, as I was doing, you 
</I>&gt;<i> just print a debug message and don't bother grabbing that information 
</I>&gt;<i> the event only happens once.
</I>&gt;<i> 
</I>&gt;<i> Odd.
</I>&gt;<i> 
</I>&gt;<i> On 28/01/2004, at 3:24 PM, Greg Hamilton wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm having what I gather is a fairly common Glade newbie problem. I 
</I>&gt;<i> &gt; want to handle pointer motion and button press signals over a drawing 
</I>&gt;<i> &gt; area. I'm using Glade 2.0.0, Python 2.2 and PyGTK 2.0
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I've created a simple test window in Glade - a drawing area in a vbox 
</I>&gt;<i> &gt; in a window. I've added signal handlers to the drawing area for 
</I>&gt;<i> &gt; 'button_press_event', 'motion_notify_event', 'configure_event' and 
</I>&gt;<i> &gt; 'expose_event'. As expected configure and expose worked straight away. 
</I>&gt;<i> &gt; Using Google I found that for the other signals I needed to modify the 
</I>&gt;<i> &gt; events mask on the command tab of the properties window. I selected 
</I>&gt;<i> &gt; GDK_EXPOSURE_MASK, GDK_POINTER_MOTION_MASK, 
</I>&gt;<i> &gt; GDK_POINTER_MOTION_HINT_MASK and GDK_BUTTON_PRESS_MASK.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This didn't work which I thought was a little odd. If, after loading 
</I>&gt;<i> &gt; the Glade file, I call add_events for the drawing area widget and add 
</I>&gt;<i> &gt; each of the above events it almost works. The button press events 
</I>&gt;<i> &gt; occur but the motion events are borken. When I enter the window I see 
</I>&gt;<i> &gt; a single motion event. When I move the mouse after a button press I 
</I>&gt;<i> &gt; see a single motion event. I think I should see motion events 
</I>&gt;<i> &gt; repeatedly as I move the mouse about over the drawing area but it's 
</I>&gt;<i> &gt; not happening.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; There's a pygtk demo app called Scribble which handles all these 
</I>&gt;<i> &gt; events. It doesn't use Glade.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Help?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Glade-users maillist  -  <A HREF="mailto:Glade-users@lists.ximian.com">Glade-users@lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Glade-users maillist  -  <A HREF="mailto:Glade-users@lists.ximian.com">Glade-users@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i> 
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001755.html">[Glade-users] pointer_motion, button_press, etc. not working
</A></li>
	<LI> Next message: <A HREF="001756.html">[Glade-users] i don't get it
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1760">[ date ]</a>
              <a href="thread.html#1760">[ thread ]</a>
              <a href="subject.html#1760">[ subject ]</a>
              <a href="author.html#1760">[ author ]</a>
         </LI>
       </UL>
</body></html>
