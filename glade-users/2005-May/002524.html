<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Q: How can I add some close dialog when the close window shortcut
 button is clicked...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Q%3A%20How%20can%20I%20add%20some%20close%20dialog%20when%20the%20close%20window%20shortcut%0A%20button%20is%20clicked...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002521.html">
   <LINK REL="Next"  HREF="002525.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Q: How can I add some close dialog when the close window shortcut
 button is clicked...</H1>
    <B>Neville C. Dempsey</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Q%3A%20How%20can%20I%20add%20some%20close%20dialog%20when%20the%20close%20window%20shortcut%0A%20button%20is%20clicked...&In-Reply-To="
       TITLE="[Glade-users] Q: How can I add some close dialog when the close window shortcut
 button is clicked...">nevillednz.glade@3ttechnology.com
       </A><BR>
    <I>Thu May 12 17:50:48 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002521.html">[Glade-users] folder path
</A></li>
        <LI>Next message: <A HREF="002525.html">[Glade-users] Q: How can I add some close dialog when the
 close window shortcut button is clicked...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2524">[ date ]</a>
              <a href="thread.html#2524">[ thread ]</a>
              <a href="subject.html#2524">[ subject ]</a>
              <a href="author.html#2524">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>(resending as my reply address was wrong, again - apologies to the moderator)

I am new to glade on python, and this has had me puzzled for hours....
This is not a bad thing as I am learning much about gobjects, and gtk...

Can someone give me a hint....

ThanX
NevilleD

Here is my program:
#!/usr/bin/env python
 
buffer=&quot;&quot;&quot;&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt; &lt;!--*- mode: xml -*--&gt;
&lt;!DOCTYPE glade-interface SYSTEM &quot;<A HREF="http://glade.gnome.org/glade-2.0.dtd"">http://glade.gnome.org/glade-2.0.dtd&quot;</A>&gt;
 
&lt;glade-interface&gt;
 
&lt;widget class=&quot;GtkWindow&quot; id=&quot;window1&quot;&gt;
  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
  &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;window1&lt;/property&gt;
  &lt;property name=&quot;type&quot;&gt;GTK_WINDOW_TOPLEVEL&lt;/property&gt;
  &lt;property name=&quot;window_position&quot;&gt;GTK_WIN_POS_NONE&lt;/property&gt;
  &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
  &lt;property name=&quot;resizable&quot;&gt;True&lt;/property&gt;
  &lt;property name=&quot;destroy_with_parent&quot;&gt;False&lt;/property&gt;
  &lt;property name=&quot;decorated&quot;&gt;True&lt;/property&gt;
  &lt;property name=&quot;skip_taskbar_hint&quot;&gt;False&lt;/property&gt;
  &lt;property name=&quot;skip_pager_hint&quot;&gt;False&lt;/property&gt;
  &lt;property name=&quot;type_hint&quot;&gt;GDK_WINDOW_TYPE_HINT_NORMAL&lt;/property&gt;
  &lt;property name=&quot;gravity&quot;&gt;GDK_GRAVITY_NORTH_WEST&lt;/property&gt;
 
  &lt;child&gt;
    &lt;widget class=&quot;GtkButton&quot; id=&quot;button1&quot;&gt;
      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;U must click here to
close...&lt;/property&gt;
      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
    &lt;/widget&gt;
  &lt;/child&gt;
&lt;/widget&gt;
 
&lt;/glade-interface&gt;&quot;&quot;&quot;
 
import gtk
import gtk.glade
 
def on_button1_clicked(widget):
  print &quot;Goodbye...&quot;,widget.name,widget
  gtk.main_quit()
 
def ignore_signal(widget,etc):
# basically I want to:
#  1. Ignore for now...
#  2. BUT Put up a popup later...
  print &quot;Ignore...&quot;,widget.name,widget,etc
  print &quot;Soon.. I will put up an exit dialog box... soon...&quot;
  print &quot;In the meantime I REALLY DO want the window to stay up!!&quot;
 
#clickhere=gtk.glade.XML(&quot;clickhere.glade&quot;)
clickhere=gtk.glade.xml_new_from_buffer(buffer, len(buffer),
root=&quot;window1&quot;)
print clickhere,dir(clickhere)
 
window1=clickhere.get_widget(&quot;window1&quot;)
button1=clickhere.get_widget(&quot;button1&quot;)
 
# really want to replace the existing callback on window1!!
w1_ignore=window1.connect(&quot;delete-event&quot;,ignore_signal)
b1_quit=button1.connect(&quot;clicked&quot;,on_button1_clicked)
print &quot;current handlers=&quot;,w1_ignore,b1_quit
 
if __name__==&quot;__main__&quot;: gtk.main()
-- 
Neville C. Dempsey &lt;nevillednz at 3ttechnology dot com&gt;
-- 
     ---- ==== 3T TECHNOLOGY (SG) PTE LTD. ==== ----
    Enterprising Solutions for Enterprising Companies
www.3TTechnology.com/sg || <A HREF="mailto:news2005-subscribe@3ttechnology.com">news2005-subscribe@3ttechnology.com</A>

Neville Dempsey ACE CSA - EMail: &lt;<A HREF="mailto:NevilleDNZ@sg.3TTechnology.com">NevilleDNZ@sg.3TTechnology.com</A>&gt; 
 DID/Mob: +65-6873-0548 - SnailMail: #03-01 Singapore 127140
  Office: +65-6873-2058 - Facsimile: +65-6873-2508

DISCLAIMER: This electronic message transmission contains information
from 3T Technology (SG) Pte. Ltd. that may be confidential or
privileged. The information is intended solely for the recipient and use
by any other party is not authorized. If you are not the intended
recipient, be aware that any disclosure, copying, distribution or use of
the contents of this information is prohibited. If you have received
this electronic transmission in error, please notify us immediately by
electronic mail. 


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002521.html">[Glade-users] folder path
</A></li>
	<LI>Next message: <A HREF="002525.html">[Glade-users] Q: How can I add some close dialog when the
 close window shortcut button is clicked...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2524">[ date ]</a>
              <a href="thread.html#2524">[ thread ]</a>
              <a href="subject.html#2524">[ subject ]</a>
              <a href="author.html#2524">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
