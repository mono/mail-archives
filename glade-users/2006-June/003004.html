<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Best Practice for Glade.XML - open/close new window
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Best%20Practice%20for%20Glade.XML%20-%20open/close%20new%20window&In-Reply-To=448EBA94.2010200%40gnome.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003003.html">
   <LINK REL="Next"  HREF="003005.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Best Practice for Glade.XML - open/close new window</H1>
    <B>Travis Staloch</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Best%20Practice%20for%20Glade.XML%20-%20open/close%20new%20window&In-Reply-To=448EBA94.2010200%40gnome.org"
       TITLE="[Glade-users] Best Practice for Glade.XML - open/close new window">twostepted at yahoo.com
       </A><BR>
    <I>Wed Jun 14 23:55:14 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003003.html">[Glade-users] Best Practice for Glade.XML - open/close new window
</A></li>
        <LI>Next message: <A HREF="003005.html">[Glade-users] Best Practice for Glade.XML - open/close new window
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3004">[ date ]</a>
              <a href="thread.html#3004">[ thread ]</a>
              <a href="subject.html#3004">[ subject ]</a>
              <a href="author.html#3004">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tristan,

Thanks for your help.  I've modified my code so that all of the windows are opened up at startup and then hidden/shown as needed.  This seems alot snappier than before and has helped in that regard.  However, it has caused a couple of problems.  The first, a minor problem, is that you can see all of the windows open up for a split second and then hide at startup.  Here's how each  window now gets created at init.  I'm keeping Gtk.Window references to each of the windows using this method:

protected Gtk.Window getWindowHandle(string sWindowName)
{
  Glade.XML gxml = new Glade.XML(sPATH_TO_GLADE_XML,sWindowName, null);
  gxml.Autoconnect (this);
  Gtk.Window wnd = (Gtk.Window)gxml.GetWidget(sWindowName);
  wnd.HideAll();
  gxml.Dispose();
  return wnd;
}

Is there a better way to create these windows, especially one that keeps them from being initially shown?  Also, is there a better way to use the Glade.XML rather than creating/destroying for each window I want to open?  Can I reuse the same Glade.XML and ask it for different windows?

The second problem is that some of control references don't seem to work now.  I believe that the problem results from having named all my back and next buttons the same (btnBack, btnNext).  And now that I've Autoconnect()ed to each of the windows consecutively, the last in the list is the only one which remains connected.  Does that sound right?

Thanks for any advice.  Regards,

--Travis

Tristan Van Berkom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">tvb at gnome.org</A>&gt; wrote: Travis Staloch wrote:
&gt;<i> I have around 7 similar windows which are defined in a
</I>&gt;<i> .glade xml file.  My app shows these windows
</I>&gt;<i> consecutively as its back/next buttons are pressed. 
</I>&gt;<i> The reason I'm asking about this is that the app seems
</I>&gt;<i> slightly slow and has shown some funny behavior
</I>&gt;<i> between opening new windows.  Can anyone spot any
</I>&gt;<i> mistakes with this?
</I>&gt;<i> 
</I>&gt;<i> Each time I show a new window:
</I>&gt;<i>   gxml = new Glade.XML(sPATH_TO_GLADE_XML,
</I>&gt;<i> sWindowName, null);
</I>&gt;<i>   gxml.Autoconnect (this);
</I>&gt;<i>   wndCurrent =
</I>&gt;<i> (Gtk.Window)gxml.GetWidget(sWindowName);
</I>&gt;<i>   // ... set properties of wndCurrent ...
</I>&gt;<i> 
</I>&gt;<i> And when I'm done with the window:
</I>&gt;<i>   gxml.Dispose();
</I>&gt;<i>   wndCurrent.HideAll();
</I>&gt;<i>   wndCurrent.Destroy();
</I>&gt;<i>   wndCurrent.Dispose();
</I>&gt;<i> 
</I>&gt;<i> Thanks for any advice. 
</I>
I think calling only wndCurrent.Destroy() should be enough (it should be disposed
and hidden as a side effect).. that is besides the point...

It will be faster if you create your windows once at initialization
and just show/hide them, alternatively; you are probably better off
with a GnomeDruid type of design; if GnomeDruid is not available to you;
you can simply use a GtkNotebook and hide the tabs, use forward/backward
buttons to navigate pages in your notebook.

Cheers,
                        -Tristan

Note that libglade does a two-pass parse; it parses the glade file into
internal structures and then builds the widgets based on these, the future
gtk builder should be faster in this respect.


 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/glade-users/attachments/20060614/c154300e/attachment.html">http://lists.ximian.com/pipermail/glade-users/attachments/20060614/c154300e/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003003.html">[Glade-users] Best Practice for Glade.XML - open/close new window
</A></li>
	<LI>Next message: <A HREF="003005.html">[Glade-users] Best Practice for Glade.XML - open/close new window
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3004">[ date ]</a>
              <a href="thread.html#3004">[ thread ]</a>
              <a href="subject.html#3004">[ subject ]</a>
              <a href="author.html#3004">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
