<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] gtk and STL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20gtk%20and%20STL&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003637.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] gtk and STL</H1>
    <B>hussein alshatri</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20gtk%20and%20STL&In-Reply-To="
       TITLE="[Glade-users] gtk and STL">shatri_h at hotmail.com
       </A><BR>
    <I>Fri Sep 28 11:16:47 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003637.html">[Glade-users] autoconf2.50 help me :(
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3638">[ date ]</a>
              <a href="thread.html#3638">[ thread ]</a>
              <a href="subject.html#3638">[ subject ]</a>
              <a href="author.html#3638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi all 

I am making a list in Glade2. using gtk. it has just three signals (adding to, erase from, get select)

the problem that my application is written in C++ using STL. so I want to call the function of glade with std::string variables and and also return std::string.

Here is the code...

class AUCompList : public AUCompList_glade
{  
private:
    struct Columns : public Gtk::TreeModelColumnRecord             
    {
        Gtk::TreeModelColumn&lt;std::string&gt; column1;
        Gtk::TreeModelColumn&lt;std::string&gt; name;
        Columns() { add(column1);add(name); }
    };
    Columns columns;
    
    Gtk::CellRendererText* cell_renderer_text;
    Gtk::TreeViewColumn* name_column;
    Gtk::TreeRow row;

public:
    AUCompList(GlademmData *gmm_data); //: AUCompList_glade(gmm_data)
       ~AUCompList();    
    Glib::RefPtr&lt;Gtk::ListStore&gt; treestore;
    
        void AddRow( std::string peer );
    void RemoveRow( std::string peer );
    std::string selected_peer(); 
};




AUCompList::AUCompList(GlademmData *gmm_data): AUCompList_glade(gmm_data)
{
        treestore = Gtk::ListStore::create( columns );
        set_model( treestore );
                        
        append_column(&quot;Peer Name&quot;, columns.column1);
            
        name_column = get_column(0);
        Gtk::CellRenderer* cell_renderer = name_column-&gt;get_first_cell_renderer();
        cell_renderer_text = dynamic_cast&lt;Gtk::CellRendererText*&gt;(cell_renderer);
        

}

void AUCompList::AddRow( std::string peer )
{        
        row = *(treestore-&gt;append());
        //row[columns.name] = &quot;red&quot;;
        
        //name_column-&gt;add_attribute(cell_renderer_text-&gt;property_background(),    columns.name);
        
        row[columns.column1] = peer;
}

void AUCompList::RemoveRow( std::string peer )
{        
        
        row = *(treestore-&gt;erase(peer));
        
        
  
}

std::string AUCompList::selected_peer()
{
    std::string str;
    get_selection()-&gt;get_selected()-&gt;get_value(columns.column1, str);

    return str;
}


Thank you in advance

Hussein

_________________________________________________________________
Get the new Windows Live Messenger!
<A HREF="http://get.live.com/messenger/overview">http://get.live.com/messenger/overview</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/glade-users/attachments/20070928/2a09de29/attachment.html">http://lists.ximian.com/pipermail/glade-users/attachments/20070928/2a09de29/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003637.html">[Glade-users] autoconf2.50 help me :(
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3638">[ date ]</a>
              <a href="thread.html#3638">[ thread ]</a>
              <a href="subject.html#3638">[ subject ]</a>
              <a href="author.html#3638">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
