<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Problem with glade_xml_new_from_memory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Problem%20with%20glade_xml_new_from_memory&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002719.html">
   <LINK REL="Next"  HREF="002721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Problem with glade_xml_new_from_memory</H1>
    <B>Philip Lawatsch</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Problem%20with%20glade_xml_new_from_memory&In-Reply-To="
       TITLE="[Glade-users] Problem with glade_xml_new_from_memory">philip at lawatsch.at
       </A><BR>
    <I>Mon Aug 15 14:52:40 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002719.html">[Glade-users] libglade-WARNING **: could not find signal handler
</A></li>
        <LI>Next message: <A HREF="002721.html">[Glade-users] query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2720">[ date ]</a>
              <a href="thread.html#2720">[ thread ]</a>
              <a href="subject.html#2720">[ subject ]</a>
              <a href="author.html#2720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,


I'm having a hard time with glade_xml_new_from_memory.


I've got a glade file and I can load my gui with glade_xml_new.

Now I'd like to link this file into my exe and then use 
glade_xml_new_from_memory.

However, I always get a segfault at glade_xml_set_value_from_string when 
trying to load the gui with glade_xml_new_from_memory. (Top symbol on 
the stack when the segfault happens).

At first I thought that libglade might do something nasty (like write to 
the buffer) and thus copied the buffer to a new array twice the size of 
the actual data, but this didn't help either.

So, is there anything special to take care of when using new_from_memory?


I've got glade 2.10 and libglade 2.5.1.

Code snippets:


   gtk_init(&amp;argc, &amp;argv);
   glade_init();


   //xml = glade_xml_new(&quot;test.glade&quot;,&quot;main_window&quot;,0);

   xml = glade_xml_new_from_memory(buff,buff_size,&quot;main_window&quot;,0);
   if (!xml)
   {
     g_warning(&quot;problem loading glade file&quot;);
     return -1;
   }
   connectAllSignals(xml);
   gtk_main();

The content of buff is fine (If I print it out its the same as the xml 
file's content) and the buffer is writeable (I memcpy to it from the 
mmaped test.glade file).

I'd really appreciate any help

kind regards Philip
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002719.html">[Glade-users] libglade-WARNING **: could not find signal handler
</A></li>
	<LI>Next message: <A HREF="002721.html">[Glade-users] query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2720">[ date ]</a>
              <a href="thread.html#2720">[ thread ]</a>
              <a href="subject.html#2720">[ subject ]</a>
              <a href="author.html#2720">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
