<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] memory management for treeview in dialog
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20memory%20management%20for%20treeview%20in%20dialog&In-Reply-To=200508111632.28904.ksadil%40bigpond.net.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002712.html">
   <LINK REL="Next"  HREF="002717.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] memory management for treeview in dialog</H1>
    <B>Damon Chaplin</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20memory%20management%20for%20treeview%20in%20dialog&In-Reply-To=200508111632.28904.ksadil%40bigpond.net.au"
       TITLE="[Glade-users] memory management for treeview in dialog">damon at karuna.uklinux.net
       </A><BR>
    <I>Thu Aug 11 07:30:36 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002712.html">[Glade-users] memory management for treeview in dialog
</A></li>
        <LI>Next message: <A HREF="002717.html">[Glade-users] memory management for treeview in dialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2715">[ date ]</a>
              <a href="thread.html#2715">[ thread ]</a>
              <a href="subject.html#2715">[ subject ]</a>
              <a href="author.html#2715">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2005-08-11 at 16:32 +1000, kadil wrote:
&gt;<i> I have been experimenting with a treeview in dialog, and have created a memory 
</I>&gt;<i> leak.  I am using glade to create code, not xml. My steps are:
</I>&gt;<i> 
</I>&gt;<i> (1) create the dialog
</I>&gt;<i> (2) show the dialog
</I>&gt;<i> (3) create a new tree store
</I>&gt;<i> (4) create a sort model
</I>&gt;<i> (5) add columns
</I>&gt;<i> (6) append rows &amp; populate them
</I>&gt;<i> (7) when the user closes the dialog, I unref the model and sortmodel and I 
</I>&gt;<i> destroy the dialog widget
</I>&gt;<i> 
</I>&gt;<i> Each time I repeat creating the dialog, windows task manager memory graph 
</I>&gt;<i> shows more memory being consumed.
</I>&gt;<i> 
</I>&gt;<i> Can anyone please explain if there is any glaring issues with my process. It 
</I>&gt;<i> is possible my process for appending the rows( step 6 )may be at fault.
</I>
It looks OK. It looks like you've unref'ed all the objects properly.

On Linux you could use valgrind to spot a memory leak quite easily.
I don't know if there are free tools like that on windows.

Try simplifying the app (e.g. don't append the rows), and see if the
memory behavior is different.

It could just be fragmented memory rather than a leak.

Damon


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002712.html">[Glade-users] memory management for treeview in dialog
</A></li>
	<LI>Next message: <A HREF="002717.html">[Glade-users] memory management for treeview in dialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2715">[ date ]</a>
              <a href="thread.html#2715">[ thread ]</a>
              <a href="subject.html#2715">[ subject ]</a>
              <a href="author.html#2715">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
