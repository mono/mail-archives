<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] memory management for treeview in dialog
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20memory%20management%20for%20treeview%20in%20dialog&In-Reply-To=1123759836.3846.9.camel%40eternity">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002715.html">
   <LINK REL="Next"  HREF="002716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] memory management for treeview in dialog</H1>
    <B>kadil</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20memory%20management%20for%20treeview%20in%20dialog&In-Reply-To=1123759836.3846.9.camel%40eternity"
       TITLE="[Glade-users] memory management for treeview in dialog">ksadil at bigpond.net.au
       </A><BR>
    <I>Sun Aug 14 06:34:37 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002715.html">[Glade-users] memory management for treeview in dialog
</A></li>
        <LI>Next message: <A HREF="002716.html">[Glade-users] glade project in Eclipse?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2717">[ date ]</a>
              <a href="thread.html#2717">[ thread ]</a>
              <a href="subject.html#2717">[ subject ]</a>
              <a href="author.html#2717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 11 Aug 2005 09:30 pm, Damon Chaplin wrote:
&gt;<i> It looks OK. It looks like you've unref'ed all the objects properly.
</I>&gt;<i>
</I>&gt;<i> On Linux you could use valgrind to spot a memory leak quite easily.
</I>&gt;<i> I don't know if there are free tools like that on windows.
</I>&gt;<i>
</I>&gt;<i> Try simplifying the app (e.g. don't append the rows), and see if the
</I>&gt;<i> memory behavior is different.
</I>&gt;<i>
</I>&gt;<i> It could just be fragmented memory rather than a leak.
</I>&gt;<i>
</I>&gt;<i> Damon
</I>&gt;<i>
</I>Damon

This is driving me crazy. In my big application I have a callback on a 
menuitem:

void on_assgt1_activate (GtkMenuItem *menuitem, gpointer user_data)
{
	GtkWidget *w;
	w=create_dialog4();
	gtk_widget_show(w);
}

the callback on the ok button is

on_okbuton2_clicked (GtkButton *button, gpointer user_data)
{
	GtkWidget *w;
	w=lookup_widget(GTK_WIDGET(button));
	gtk_widget_destroy(w);
}

In a small test project, no memory leak. When I do this in my bigger 
application, memory gets consumed every time I open and close the dialog. I 
tried to use g_free(w) after the destroy_widget call, but the app crashes 
after the third attempt to call on_okbutton2_clicked.

I just don't get it. Ideas?

Kim
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002715.html">[Glade-users] memory management for treeview in dialog
</A></li>
	<LI>Next message: <A HREF="002716.html">[Glade-users] glade project in Eclipse?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2717">[ date ]</a>
              <a href="thread.html#2717">[ thread ]</a>
              <a href="subject.html#2717">[ subject ]</a>
              <a href="author.html#2717">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
