<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Glade performance unbearably slow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Glade%20performance%20unbearably%20slow&In-Reply-To=CABTKRFysm8FgZV%3DPQBQq8NMzQxob8H4%2B6GXyfqrj%3D%3DGxF2-Hng%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005431.html">
   <LINK REL="Next"  HREF="005433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Glade performance unbearably slow</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Glade%20performance%20unbearably%20slow&In-Reply-To=CABTKRFysm8FgZV%3DPQBQq8NMzQxob8H4%2B6GXyfqrj%3D%3DGxF2-Hng%40mail.gmail.com"
       TITLE="[Glade-users] Glade performance unbearably slow">tristan.van.berkom at gmail.com
       </A><BR>
    <I>Thu Dec  8 06:07:23 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005431.html">[Glade-users] Glade performance unbearably slow
</A></li>
        <LI>Next message: <A HREF="005433.html">[Glade-users] Glade performance unbearably slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5432">[ date ]</a>
              <a href="thread.html#5432">[ thread ]</a>
              <a href="subject.html#5432">[ subject ]</a>
              <a href="author.html#5432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Dec 8, 2011 at 7:28 PM, Matej Nanut &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">matejnanut at gmail.com</A>&gt; wrote:
&gt;<i> Hello again, thanks for the reply. To answer:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 8 December 2011 06:54, Tristan Van Berkom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">tristan.van.berkom at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Are you by chance editing a glade file with a rediculously large
</I>&gt;&gt;<i> GtkTable/GtkGrid ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I've tried this with only a window and a vertical box, some buttons and some
</I>&gt;<i> entries, nothing complex.
</I>&gt;<i> It is slow no matter what's in there.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please define what you mean by &quot;anything I click&quot;, I can't believe that.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can you please try Glade on a new project and measure/try the following:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;- Time to create the first GtkWindow
</I>&gt;&gt;<i> &#160;- Time to create the first GtkWindow's child GtkBox or GtkGrid
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> These 2 steps should be 'slightly' slower than
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;- Time to select the toplevel GtkWindow (and update properties in the
</I>&gt;&gt;<i> editor)
</I>&gt;&gt;<i> &#160;- Time to select the GtkWindow child
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> As I can tell, both of the above are just as slow. I've &quot;analysed&quot; this a
</I>&gt;<i> bit and
</I>&gt;<i> editing properties is instant (changing labels, positions in a box, ...).
</I>&gt;<i> However, what is slow is selecting a widget of a different type than what
</I>&gt;<i> was selected before.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The first time selecting/creating a widget of any object class is slower
</I>&gt;&gt;<i> because after creating an editor for a given class we cache the editors
</I>&gt;&gt;<i> in order to display them quicker.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Maybe on my machine/system it doesn't cache for some reason?
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Then, try:
</I>&gt;&gt;<i> &#160;- Loading a separate project
</I>&gt;&gt;<i> &#160;- Switch tabs from project to project
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Switching tabs takes a long time too, pretty much the same interval
</I>&gt;<i> as selecting widgets of different types.
</I>&gt;<i>
</I>&gt;&gt;<i> Then try for instance:
</I>&gt;&gt;<i> &#160;- Clicking the &quot;File&quot; menu
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is quick. So I assume it isn't a GTK/theme problem.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For what it's worth, the bottlenecks in Glade are really:
</I>&gt;&gt;<i> &#160;- Time to load a project (at least now we have progress bar feedback)
</I>&gt;&gt;<i> &#160;- Time to select a widget (because of the time required to display the
</I>&gt;&gt;<i> &#160; &#160;widget in the editor)
</I>&gt;&gt;<i> &#160;- Time to set a property (when changing label text for instance, is
</I>&gt;&gt;<i> &#160; &#160;it very slow when typing in the property editor entry ?)
</I>&gt;&gt;<i> &#160;- Time to switch the active project (this should take virtually no time
</I>&gt;&gt;<i> &#160; &#160;by now actually but used to be a bottle neck).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> In the order given:
</I>&gt;<i> &#160;- Progress bar works, isn't extremely fast but not slow.
</I>&gt;<i> &#160;&#160; About the same as selecting a widget. Note that this was a small
</I>&gt;<i> &quot;project&quot;.
</I>&gt;<i> &#160;- Time to select a widget (of a different type than the one before) is very
</I>&gt;<i> long.
</I>&gt;<i> &#160;- Setting properties is instantly quick.
</I>&gt;<i> &#160;- Switching the active project is very slow, same as selecting a widget.
</I>&gt;<i>
</I>&gt;&gt;<i> So, please let us know, how fast is your processor ? are you running Glade
</I>&gt;&gt;<i> alone
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The CPU is a terrible little Atom N260 (1.66 GHz, one core, two threads).
</I>&gt;<i> Running Glade alone or not makes no difference.
</I>&gt;<i> On the mentioned &quot;slow&quot; actions, CPU usage jumps to ~42%.
</I>&gt;<i>
</I>&gt;<i> Also, Qt Creator and Designer work flawlessly in terms of speed,
</I>&gt;<i> so the CPU should be able to handle it, right?
</I>
&gt;<i>From everything you are saying, I am getting the picture that GTK+
</I>itself is being sluggish in terms of requesting and allocating size.

If you resize the main window, or better yet, just resize the window
pane that contains the property editor (showing more/less of the
workspace), do you find that displaying the properties is exceedingly
slow ?

Do the entries 'chop' alot or do they resize smoothly while you
drag the window pane ?

Try this with a GtkWindow selected, since GtkWindow has many
long property names which are 'wrapped' when the editor is
allocated less space.

&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> or is firefox processing evil scripts for gmail sending your
</I>&gt;&gt;<i> information to spy agencies ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Is this a joke or should I be concerned?
</I>&gt;<i>
</I>
Not really a joke, these day's I find google searches to take exceedingly
long amounts of time and I find firefox to be a resource hog with gmail
loaded.

Even to the point where I've flat out given up on following links displayed
on google, and just copy/paste the real uri into a new browser tab and
avoid the &quot;whatever google/cia is doing with my clicks&quot;.

However, I haven't really compared google search result time and link
resolution time with, and without gmail accounts active. But I suspect
you do get bonus points for searching with all of your google related
accounts inactive (both in terms of speed and in terms of privacy).

&gt;&gt;<i>
</I>&gt;&gt;<i> How much ram do you have... is Glade causing your machine to 'swap' memory
</I>&gt;&gt;<i> ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have 1GiB of RAM. Glade is using 32 MiB of it.
</I>&gt;<i> At this time there's over 700 MiB of free memory available.
</I>
I really suspect this lag to be generally related to GTK+
resizing and showing of largish hierarchies, it seems the
bottleneck for you is just &quot;showing a new property editor&quot;,
whether the property editor exists yet or not.

It could even boil down to a possible regression in the
GtkLabel widget, note that Glade is a heavy user of the
label widget since all of the properties in the property editor
require auto-wrapping labels (or perhaps, somehow
the GtkWidget internal size request cache is getting
cleaned up for some reason where it shouldnt).

I'll have to build me a recent GTK+ and see what are
the state of things...

Cheers,
         -Tristan
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005431.html">[Glade-users] Glade performance unbearably slow
</A></li>
	<LI>Next message: <A HREF="005433.html">[Glade-users] Glade performance unbearably slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5432">[ date ]</a>
              <a href="thread.html#5432">[ thread ]</a>
              <a href="subject.html#5432">[ subject ]</a>
              <a href="author.html#5432">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
