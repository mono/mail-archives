<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] glade and/or gtkmm, insert a FileChooserDialog inside a Notebook tab
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=Re%3A%20%5BGlade-users%5D%20glade%20and/or%20gtkmm%2C%0A%20insert%20a%20FileChooserDialog%20inside%20a%20Notebook%20tab&In-Reply-To=%3CCAGUy9WJhchLLHVKz1k5ErAy2UEEgExqSXJPbkhMjZosdguKrgQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005808.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] glade and/or gtkmm, insert a FileChooserDialog inside a Notebook tab</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=Re%3A%20%5BGlade-users%5D%20glade%20and/or%20gtkmm%2C%0A%20insert%20a%20FileChooserDialog%20inside%20a%20Notebook%20tab&In-Reply-To=%3CCAGUy9WJhchLLHVKz1k5ErAy2UEEgExqSXJPbkhMjZosdguKrgQ%40mail.gmail.com%3E"
       TITLE="[Glade-users] glade and/or gtkmm, insert a FileChooserDialog inside a Notebook tab">tristan.van.berkom at gmail.com
       </A><BR>
    <I>Fri Jan 30 14:25:35 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="005808.html">[Glade-users] glade and/or gtkmm, insert a FileChooserDialog inside a Notebook tab
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5809">[ date ]</a>
              <a href="thread.html#5809">[ thread ]</a>
              <a href="subject.html#5809">[ subject ]</a>
              <a href="author.html#5809">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jan 30, 2015 at 8:44 PM, Nicolas J&#228;ger &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">jagernicolas at legtux.org</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;&gt;<i> However, since the introduction of GIO and D-Bus, it is (strictly
</I>&gt;&gt;<i> speaking) unsafe to use that paradigm, I don't have all the details
</I>&gt;&gt;<i> on this fresh on my mind, I'm sure that Ryan Lortie could explain
</I>&gt;&gt;<i> this in better detail. But essentially you are running a nested
</I>&gt;&gt;<i> mainloop in the same global GMainContext, asynchronous responses
</I>&gt;&gt;<i> to any D-Bus calls, possibly not triggered even by your own code,
</I>&gt;&gt;<i> will also be processed while the dialog is 'running', which makes
</I>&gt;&gt;<i> things typically hard to track.
</I>&gt;<i>
</I>&gt;<i> I imagine that an application using gtk has at least one thread per
</I>&gt;<i> widget, certainly more than one. I'm a little aware about problems
</I>&gt;<i> related to asynchronous programming. It's also for that reason I'm not
</I>&gt;<i> very excited by the idea to use a thread to set my issue...
</I>
Certainly not, GTK+ runs in a single thread for the most part right now (however
it's possible that in future developments, some of the rendering can be deferred
to another thread).

However some things, like file monitoring and such desktop integration, can
be implemented under the hood as threads or as D-Bus notifications (wrapped
under abstractions in GIO).

[...]
&gt;<i> I'm curious about something, when you are using a file chooser dialog,
</I>&gt;<i> I guess you are not using `run()`, but somewhere in your program you
</I>&gt;<i> must wait that user has decided where he want to save his file. How do
</I>&gt;<i> you make your program waiting ?
</I>
You dont.

Instead you let the user fire up a file chooser dialog and make sure that that
file chooser dialog is 'modal' (so that the user cannot interact with any other
components in your app).

Then you keep on trucking in your mainloop, at this point you may have some
state (like &quot;the filechooser dialog is open&quot;), so you might avoid doing things
in your mainloop that you would otherwise do - usually that isnt needed, but
it's possible.

Then one day, the user clicks &quot;Cancel&quot; in the file chooser dialog, and then
your &quot;response&quot; signal fires... OK, nothing to do here... carry on...

When it happens that the &quot;Save&quot; button was clicked and you get the appropriate
response ... then it's time to do something - then you have an action requested
by the user, to save something, complete with a selected file and all.

The only thing you have to do when the user performs an action which requires
a dialog be shown, is create that modal dialog, show it, make sure you have
a callback connected to &quot;response&quot;, and then return.

Cheers,
    -Tristan
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005808.html">[Glade-users] glade and/or gtkmm, insert a FileChooserDialog inside a Notebook tab
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5809">[ date ]</a>
              <a href="thread.html#5809">[ thread ]</a>
              <a href="subject.html#5809">[ subject ]</a>
              <a href="author.html#5809">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
