<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] C Beginner question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20C%20Beginner%20question&In-Reply-To=1198547235.17614.29.camel%40dbdell">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003747.html">
   <LINK REL="Next"  HREF="003749.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] C Beginner question</H1>
    <B>Micah Carrick</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20C%20Beginner%20question&In-Reply-To=1198547235.17614.29.camel%40dbdell"
       TITLE="[Glade-users] C Beginner question">email at micahcarrick.com
       </A><BR>
    <I>Tue Dec 25 01:01:07 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003747.html">[Glade-users] C Beginner question
</A></li>
        <LI>Next message: <A HREF="003749.html">[Glade-users] C Beginner question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3748">[ date ]</a>
              <a href="thread.html#3748">[ thread ]</a>
              <a href="subject.html#3748">[ subject ]</a>
              <a href="author.html#3748">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Take a look at this example posted in gtkforums.com: 
<A HREF="http://www.gtkforums.com/about906.html">http://www.gtkforums.com/about906.html</A>

One method we often employ for passing around references to the widgets 
we need in GTK+ callbacks is by passing a struct. In the example above, 
both the textview widget and the entry widget are passed to the callback 
by placing them in a typdef struct MyWidgets.

So you might have a struct for you application which has the statusbar, 
the window, and say.... an entry which you pass as callback data since 
those are widgets you need to manipulate throughout the lifetime of the 
application. The other widgets you might only need to reference once 
during initialization and thus you only reference those through local 
variables in the function you use to initialize them.

Some applications go one step further and create GObjects for various 
parts of the application but that's getting a bit more advanced than you 
need at this point in time.

As for where you can go for this kind of information, you're at a pretty 
good place now. Good sources are this list and gtk-list, the API 
documentation (do you have devhelp installed?), www.gtkforums.com, and 
looking at source code. Find small, simple applications and look at 
their source code.


- Micah Carrick

  Developer - <A HREF="http://www.micahcarrick.com">http://www.micahcarrick.com</A>
  GTK+ Forums - <A HREF="http://www.gtkforums.com">http://www.gtkforums.com</A>



Lupine wrote:
&gt;<i> On Mon, 2007-12-24 at 10:33 -0800, Micah Carrick wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Did you specify &quot;ssh_user_entry&quot; as the user_data for the &quot;clicked&quot; 
</I>&gt;&gt;<i> event of the button in the glade file? Otherwise, you might want to use 
</I>&gt;&gt;<i> glade_xml_signal_connect instead of autoconnect so you can specify the 
</I>&gt;&gt;<i> user data. Sometimes if you have custom user data, you use 
</I>&gt;&gt;<i> glade_xml_signal_connect_data for your connections instead.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> void on_connect_btn_clicked(GtkButton *button, GtkWidget
</I>&gt;&gt;<i> *ssh_user_entry)
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i>     const gchar *ssh_user_text;
</I>&gt;&gt;<i>      ssh_user_text = gtk_entry_get_text (GTK_ENTRY (ssh_user_entry));
</I>&gt;&gt;<i>     printf (&quot;Entry contents: %s\n&quot;, ssh_user_text);
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> int main (int argc, char *argv[])
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i>     GladeXML *xml;    /* glade xml file */
</I>&gt;&gt;<i>     GtkWidget *entry;
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>     gtk_init (&amp;argc, &amp;argv);
</I>&gt;&gt;<i>     xml = glade_xml_new (GLADE_FILE, NULL, NULL);   
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>     /* get a reference to the entry widget */
</I>&gt;&gt;<i>     entry = glade_xml_get_widget (xml, &quot;ssh_user_entry&quot;);
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>     /*
</I>&gt;&gt;<i>     assumes &quot;on_connect_btn_clicked&quot; is the handler name specified in glade
</I>&gt;&gt;<i>     and passes the entry widget as user data.
</I>&gt;&gt;<i>     */
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>     glade_xml_signal_connect_data (xml,
</I>&gt;&gt;<i>                                    &quot;on_connect_btn_clicked&quot;,
</I>&gt;&gt;<i>                                    G_CALLBACK (on_connect_btn_clicked),
</I>&gt;&gt;<i>                                    entry);
</I>&gt;&gt;<i>                                   
</I>&gt;&gt;<i>     /*
</I>&gt;&gt;<i>     unlike PHP, you're responsible for freeing memory with C
</I>&gt;&gt;<i>     Below we are unreferencing the xml object in memory now that we've built
</I>&gt;&gt;<i>     the UI and obtained references to the widgets we need.
</I>&gt;&gt;<i>     */
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>     g_object_unref (xml);
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>     gtk_main();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     return 0;
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Ahhh, thanks for the thorough explanation, and sample code.  It makes a
</I>&gt;<i> little more sense now.  I'm just a little confused on the format of the
</I>&gt;<i> glade_xml_signal_connect_data function.  I'm now wondering how the best
</I>&gt;<i> way to pass multiple GtkEntry inputs to that function, or do I go and
</I>&gt;<i> grab that information from within the void on_connect_btn_clicked()
</I>&gt;<i> function.
</I>&gt;<i>
</I>&gt;<i> Is there any site that I can reference for future, similar, basic
</I>&gt;<i> questions?
</I>&gt;<i>
</I>&gt;<i> Thanks again for the same-day response!
</I>&gt;<i> -Lup
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Glade-users maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/glade-users/attachments/20071224/84bdf41e/attachment-0001.html">http://lists.ximian.com/pipermail/glade-users/attachments/20071224/84bdf41e/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003747.html">[Glade-users] C Beginner question
</A></li>
	<LI>Next message: <A HREF="003749.html">[Glade-users] C Beginner question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3748">[ date ]</a>
              <a href="thread.html#3748">[ thread ]</a>
              <a href="subject.html#3748">[ subject ]</a>
              <a href="author.html#3748">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
