<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] a code problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:skull%40ozconnect.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001852.html">
   <LINK REL="Next"  HREF="001847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] a code problem
   </H1>
    <B>Skull, Temple of
    </B> 
    <A HREF="mailto:skull%40ozconnect.net"
       TITLE="[Glade-users] a code problem">skull@ozconnect.net
       </A><BR>
    <I>Sat, 20 Mar 2004 12:20:01 +1100</I>
    <P><UL>
        <LI> Previous message: <A HREF="001852.html">[Glade-users] PerlGTK and Glade2
</A></li>
        <LI> Next message: <A HREF="001847.html">[Glade-users] a code problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1846">[ date ]</a>
              <a href="thread.html#1846">[ thread ]</a>
              <a href="subject.html#1846">[ subject ]</a>
              <a href="author.html#1846">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I am working on a fruit machine game.  I have a trial version of one 
working already in doze.

I am in the process of adapting the CBuilder/C++ code for Linux.  My 
CBuilder is an old version and rather than shelling out the thousand bucks 
version X with a Linux compiler would cost I chose to learn a new language 
instead.  As a diehard minimalist, I don't want my Linux version to have 
any unnecessary dependencies.

I have the start of a Linux version underway using Glade and GTK+.  But I 
am stumped at the basic level of getting the form to remember a number.  I 
have a button which increments a number and then reloads its icon.  But it 
only works once because as far as I can tell the number keeps resetting to 
0.  It's like I am stuck with a static no matter what I do.  I want it to 
be global and permanently changeable for the duration the form lives.

Here's how the number is declared and used in my original sources file 
added to the Glade project.  Other methods in my .c file do work.

/* in the .h file  */
volatile int tobet[2];


/* the .c file function */

int upBet(void)
{
   const int tbets[7] = { 1, 2, 3, 5, 10, 15, 25 };
   int ubet = tobet[0];
   ubet++;
   if (ubet &gt; 6) ubet = 0;
   tobet[0] = ubet;
   tobet[1] = tbets[ubet];
   hiRoll(ubet, (tbets[ubet]));
}


I have tried it with uninstantiated declarations in a header, within and 
without a struct.  I always get the same result.

Have I forgotten something in my method-driven haste?  Do I need a signal 
for this?

Screenshots of the game are at <A HREF="http://home.ozconnect.net/skull/.">http://home.ozconnect.net/skull/.</A>

Cheers!

Paul Kielly. 


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001852.html">[Glade-users] PerlGTK and Glade2
</A></li>
	<LI> Next message: <A HREF="001847.html">[Glade-users] a code problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1846">[ date ]</a>
              <a href="thread.html#1846">[ thread ]</a>
              <a href="subject.html#1846">[ subject ]</a>
              <a href="author.html#1846">[ author ]</a>
         </LI>
       </UL>
</body></html>
