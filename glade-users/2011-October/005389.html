<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Where is the input callback method in glade?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Where%20is%20the%20input%20callback%20method%20in%20glade%3F&In-Reply-To=F23D5CC8E3F91C448DE64E83EE13B2EE39C3D9117D%40MSGABZCMS02.ent.bhicorp.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005388.html">
   <LINK REL="Next"  HREF="005390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Where is the input callback method in glade?</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20Where%20is%20the%20input%20callback%20method%20in%20glade%3F&In-Reply-To=F23D5CC8E3F91C448DE64E83EE13B2EE39C3D9117D%40MSGABZCMS02.ent.bhicorp.com"
       TITLE="[Glade-users] Where is the input callback method in glade?">tristan.van.berkom at gmail.com
       </A><BR>
    <I>Sat Oct  8 21:54:29 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005388.html">[Glade-users] Where is the input callback method in glade?
</A></li>
        <LI>Next message: <A HREF="005390.html">[Glade-users] Glade 3.8.1 Released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5389">[ date ]</a>
              <a href="thread.html#5389">[ thread ]</a>
              <a href="subject.html#5389">[ subject ]</a>
              <a href="author.html#5389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Oct 6, 2011 at 3:28 AM, Rottengatter, Peter &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Peter.Rottengatter at bakerhughes.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> The infinite loop is easily avoided by setting a flag while modifying the
</I>&gt;<i> text withing the handler, and testing the flag at the beginning of the
</I>&gt;<i> handler (not exactly a beautiful solution, but I'm sure it works). This way
</I>&gt;<i> your intented functionality can be implemented with GtkEntry.
</I>&gt;<i>
</I>&gt;<i>
</I>FWIW, for this recursion check you can use
g_signal_handlers_block/unblock_by_func().

Cheers


&gt;<i> I have no experience with GtkTextView though. It's not a GtkEditable, hence
</I>&gt;<i> the details of how to implement this will be different.
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i> Peter Rottengatter
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Ferdinand Ramirez [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">ramirez.ferdinand at yahoo.com</A>]
</I>&gt;<i> Sent: 06 October 2011 08:18
</I>&gt;<i> To: Rottengatter, Peter; <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users at lists.ximian.com</A>
</I>&gt;<i> Subject: RE: [Glade-users] Where is the input callback method in glade?
</I>&gt;<i>
</I>&gt;<i> Thanks. I tried something similar with GtkTextBuffer and it worked, but I
</I>&gt;<i> cannot modify the text, only block it or let it through. If I modify it, and
</I>&gt;<i> insert the modified text into the buffer from within the callback, I end up
</I>&gt;<i> in an infinite loop.
</I>&gt;<i>
</I>&gt;<i> Is there another way you know, using GtkTextView perhaps?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> -Ferdinand
</I>&gt;<i>
</I>&gt;<i> --- On Wed, 10/5/11, Rottengatter, Peter &lt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Peter.Rottengatter at bakerhughes.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; From: Rottengatter, Peter &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Peter.Rottengatter at bakerhughes.com</A>&gt;
</I>&gt;<i> &gt; Subject: RE: [Glade-users] Where is the input callback method in glade?
</I>&gt;<i> &gt; To: &quot;Ferdinand Ramirez&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">ramirez.ferdinand at yahoo.com</A>&gt;, &quot;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users at lists.ximian.com</A>&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users at lists.ximian.com</A>&gt;
</I>&gt;<i> &gt; Date: Wednesday, October 5, 2011, 12:46 AM
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Read
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://developer.gnome.org/gtk/stable/GtkEditable.html#GtkEditable-insert-text">http://developer.gnome.org/gtk/stable/GtkEditable.html#GtkEditable-insert-text</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I use the following code to restrict input to numerical
</I>&gt;<i> &gt; characters (so that the user can only enter positive integer
</I>&gt;<i> &gt; numbers):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt; GtkEntry  *entry = gtk_entry_new();
</I>&gt;<i> &gt; gtk_signal_connect (G_OBJECT (entry), &quot;insert-text&quot;,
</I>&gt;<i> &gt; G_CALLBACK (entry_insert), NULL);
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; void entry_insert (GtkEditable *entry, char *new, gint len,
</I>&gt;<i> &gt; gpointer position, gpointer data)
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;   gboolean  faulty = FALSE;
</I>&gt;<i> &gt;   for (int i = 0; i &lt; len; i++)
</I>&gt;<i> &gt;   {
</I>&gt;<i> &gt;     if (! isdigit (new[i]))
</I>&gt;<i> &gt;       faulty = TRUE;
</I>&gt;<i> &gt;   }
</I>&gt;<i> &gt;   if (faulty)
</I>&gt;<i> &gt;   {
</I>&gt;<i> &gt;     g_signal_stop_emission_by_name ((gpointer)
</I>&gt;<i> &gt; entry, &quot;insert-text&quot;);
</I>&gt;<i> &gt;   }
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Regards
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Peter Rottengatter
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users-bounces at lists.ximian.com</A>
</I>&gt;<i> &gt; [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users-bounces at lists.ximian.com</A>]
</I>&gt;<i> &gt; On Behalf Of Ferdinand Ramirez
</I>&gt;<i> &gt; Sent: 04 October 2011 13:55
</I>&gt;<i> &gt; To: <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users at lists.ximian.com</A>
</I>&gt;<i> &gt; Subject: [Glade-users] Where is the input callback method
</I>&gt;<i> &gt; in glade?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Where is the callback to keyboard input in glade. I want
</I>&gt;<i> &gt; this so that I can respond to each letter that is input.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; As as example, I was looking at the tutorial at
</I>&gt;<i> <A HREF="http://www.micahcarrick.com/files/gtk-glade-tutorial/C/main.c">http://www.micahcarrick.com/files/gtk-glade-tutorial/C/main.c</A>
</I>&gt;<i> &gt; and was wondering how the callback method for keyboard
</I>&gt;<i> &gt; inputs can be enabled and how I could modify it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; For simplicity, let us say that I want to be able to print
</I>&gt;<i> &gt; out the characters on the terminal as I input them in the
</I>&gt;<i> &gt; above program. I then want to update the buffer instead of
</I>&gt;<i> &gt; letting some hidden function in glade do it for me. How do I
</I>&gt;<i> &gt; achieve this?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm just using the above example since it is simple and
</I>&gt;<i> &gt; neatly written.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt; -Ferdinand
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Glade-users maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i> &gt; Baker Hughes INTEQ GmbH
</I>&gt;<i> &gt; Baker-Hughes-Strasse 1, D - 29221 Celle
</I>&gt;<i> &gt; Tel.: +49 5141 203 0, Fax: +49 5141 203 296
</I>&gt;<i> &gt; Sitz der Gesellschaft: Celle, Amtsgericht L&#252;neburg HRB
</I>&gt;<i> &gt; 100845
</I>&gt;<i> &gt; Gesch&#228;ftsf&#252;hrer: Johannes Witte, Tommie Lee Pate, Dr.
</I>&gt;<i> &gt; Hans-Werner Hesse
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Diese Nachricht ist ausschlie&#223;lich f&#252;r die Person oder
</I>&gt;<i> &gt; Organisation bestimmt, an die sie adressiert ist. Sie kann
</I>&gt;<i> &gt; herstellerspezifische, nur f&#252;r bestimmte Personen
</I>&gt;<i> &gt; bestimmte,  vertrauliche oder andere Informationen
</I>&gt;<i> &gt; enthalten, die kraft Gesetzes nicht offen gelegt werden
</I>&gt;<i> &gt; m&#252;ssen.  Wenn Sie nicht der in der Adresse genannte
</I>&gt;<i> &gt; Empf&#228;nger sind oder versehentlich in der Adresszeile
</I>&gt;<i> &gt; angesprochen werden, sind Sie nicht berechtigt, diese
</I>&gt;<i> &gt; Nachricht oder Teile davon zu lesen, zu drucken,
</I>&gt;<i> &gt; aufzubewahren, zu kopieren oder zu verbreiten.  Sollten
</I>&gt;<i> &gt; Sie diese Nachricht irrt&#252;mlich erhalten haben,
</I>&gt;<i> &gt; benachrichtigen Sie bitte den Absender umgehend per Email
</I>&gt;<i> &gt; und vernichten Sie s&#228;mtliche Kopien der Nachricht.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; DISC-GER-A
</I>&gt;<i> &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Glade-users maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/glade-users/attachments/20111008/11baccda/attachment.html">http://lists.ximian.com/pipermail/glade-users/attachments/20111008/11baccda/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005388.html">[Glade-users] Where is the input callback method in glade?
</A></li>
	<LI>Next message: <A HREF="005390.html">[Glade-users] Glade 3.8.1 Released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5389">[ date ]</a>
              <a href="thread.html#5389">[ thread ]</a>
              <a href="subject.html#5389">[ subject ]</a>
              <a href="author.html#5389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
