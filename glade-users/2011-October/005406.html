<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] compiling flags (gtk2 --&gt; gtk3)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20compiling%20flags%20%28gtk2%20--%3E%20gtk3%29&In-Reply-To=1319335627.28085.YahooMailNeo%40web112512.mail.gq1.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005405.html">
   <LINK REL="Next"  HREF="005407.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] compiling flags (gtk2 --&gt; gtk3)</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20compiling%20flags%20%28gtk2%20--%3E%20gtk3%29&In-Reply-To=1319335627.28085.YahooMailNeo%40web112512.mail.gq1.yahoo.com"
       TITLE="[Glade-users] compiling flags (gtk2 --&gt; gtk3)">tristanvb at openismus.com
       </A><BR>
    <I>Sat Oct 22 22:20:07 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005405.html">[Glade-users] compiling flags (gtk2 --&gt; gtk3)
</A></li>
        <LI>Next message: <A HREF="005407.html">[Glade-users] compiling flags (gtk2 --&gt; gtk3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5406">[ date ]</a>
              <a href="thread.html#5406">[ thread ]</a>
              <a href="subject.html#5406">[ subject ]</a>
              <a href="author.html#5406">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2011-10-22 at 19:07 -0700, David Buchan wrote:
&gt;<i> Hi guys,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I did indeed have -Wall. All compiler options are:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> CC      = gcc
</I>&gt;<i> CCFLAGS = `pkg-config --cflags gtk+-3.0 gmodule-2.0`
</I>&gt;<i> LIBS    = `pkg-config --libs   gtk+-3.0 gmodule-2.0`
</I>&gt;<i> DEBUG   = -Wall -g
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I only gave a sample of the error messages.
</I>&gt;<i> I went through them all and they're all like the ones below, except at
</I>&gt;<i> the end, where is says:
</I>
Right, usually though, you dont care about the linker error.

... until you've fixed all the compiler warnings mentioning
unresolved symbols...

You will be more interested in the compiler warnings because
they will tell you exactly where in your source code that you
are mentioning missing symbols such as 'g_threads_got_initialized'

... while you go ahead and modify your source to use new and
updated apis, after fixing those compiler warnings... you
should not get the linker error anymore.

Cheers,
       -Tristan

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> collect2: ld returned 1 exit status
</I>&gt;<i> make: *** [x] Error 1
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> From: Tristan Van Berkom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">tristanvb at openismus.com</A>&gt;
</I>&gt;<i> To: David Buchan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">pdbuchan at yahoo.com</A>&gt;
</I>&gt;<i> Cc: Glade List &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">glade-users at lists.ximian.com</A>&gt;
</I>&gt;<i> Sent: Saturday, October 22, 2011 9:35 PM
</I>&gt;<i> Subject: Re: [Glade-users] compiling flags (gtk2 --&gt; gtk3)
</I>&gt;<i> 
</I>&gt;<i> On Sat, 2011-10-22 at 17:47 -0700, David Buchan wrote:
</I>&gt;<i> &gt; I recently formatted my drive and installed the latest Ubuntu
</I>&gt;<i> &gt; distribution of glade
</I>&gt;<i> &gt; and I installed libgtk-3-dev.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; In my make file, I used to have:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; CCFLAGS = `pkg-config --cflags gtk+-2.0 gmodule-2.0`
</I>&gt;<i> &gt; LIBS    = `pkg-config --libs  gtk+-2.0 gmodule-2.0`
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I've changed it to:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; CCFLAGS = `pkg-config --cflags gtk+-3.0 gmodule-2.0`
</I>&gt;<i> &gt; LIBS    = `pkg-config --libs  gtk+-3.0 gmodule-2.0`
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I left the gmodule as 2.0, as it couldn't find 3.0
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I made no changed to my source code.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; It compiles but won't link. I bombs with tons of errors such as:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; /x.c:43: undefined reference to `g_threads_got_initialized'
</I>&gt;<i> &gt; /x.c:44: undefined reference to `g_thread_init'
</I>&gt;<i> &gt; /x.c:46: undefined reference to `gtk_init'
</I>&gt;<i> &gt; /x.c:49: undefined reference to `g_malloc0'
</I>&gt;<i> &gt; etc etc...
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; What am I doing wrong?
</I>&gt;<i> 
</I>&gt;<i> Adding -Wall would be a good start.
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Any tips would be appreciated.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Dave
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Glade-users maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">Glade-users at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/glade-users">http://lists.ximian.com/mailman/listinfo/glade-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005405.html">[Glade-users] compiling flags (gtk2 --&gt; gtk3)
</A></li>
	<LI>Next message: <A HREF="005407.html">[Glade-users] compiling flags (gtk2 --&gt; gtk3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5406">[ date ]</a>
              <a href="thread.html#5406">[ thread ]</a>
              <a href="subject.html#5406">[ subject ]</a>
              <a href="author.html#5406">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
