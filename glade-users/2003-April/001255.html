<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Display Updates with muti-threads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:damon%40karuna.uklinux.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001248.html">
   <LINK REL="Next"  HREF="001249.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Display Updates with muti-threads
   </H1>
    <B>Damon Chaplin
    </B> 
    <A HREF="mailto:damon%40karuna.uklinux.net"
       TITLE="[Glade-users] Display Updates with muti-threads">damon@karuna.uklinux.net
       </A><BR>
    <I>06 Apr 2003 14:39:33 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="001248.html">[Glade-users] Display Updates with muti-threads
</A></li>
        <LI> Next message: <A HREF="001249.html">[Glade-users] NEWBIE:need help ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1255">[ date ]</a>
              <a href="thread.html#1255">[ thread ]</a>
              <a href="subject.html#1255">[ subject ]</a>
              <a href="author.html#1255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2003-04-03 at 00:34, Jim Deas wrote:
&gt;<i> I am having trouble with display updates.
</I>&gt;<i> I want to update a text window and a progress bar
</I>&gt;<i> once per second with new data. 
</I>&gt;<i> I have written a routine that changes the
</I>&gt;<i> data then calls gtk_widget_show_all(display) or 
</I>&gt;<i> gtk_widget_show(display). 
</I>&gt;<i> These display
</I>&gt;<i> routines are in a different thread created by
</I>&gt;<i> the main thread that owns the GUI.
</I>&gt;<i> 
</I>&gt;<i> The problem is that the display still does not update
</I>&gt;<i> unless I move the mouse somewhere on the window.
</I>&gt;<i> Is this due to the fact that a different thread
</I>&gt;<i> created the window than the one requesting gtk_widget_show?
</I>&gt;<i> If so, how do I fix this. Do I have to somehow signal the
</I>&gt;<i> base thread and have it issue the gtk_widget_show command
</I>&gt;<i> itself?
</I>
Make sure you call call g_thread_init() and gdk_threads_init() before
any GTK+ call, and that you use gdk_threads_enter()/gdk_threads_leave() 
when necessary. See the GDK API docs (on developer.gnome.org).

gtk_widget_show_all(display) and gtk_widget_show(display) are only used
to initially show the widget. They aren't used for refreshing a widget.

If you are using the normal GTK+ text and progress bar widgets, they
should update themselves, without needing to call any function to
refresh the display (as long as you don't block the main thread, which
handles display updates).

I'd guess that in your case GTK+ has got confused, probably because you
haven't used gdk_threads_enter()/gdk_threads_leave() properly.

Damon



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001248.html">[Glade-users] Display Updates with muti-threads
</A></li>
	<LI> Next message: <A HREF="001249.html">[Glade-users] NEWBIE:need help ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1255">[ date ]</a>
              <a href="thread.html#1255">[ thread ]</a>
              <a href="subject.html#1255">[ subject ]</a>
              <a href="author.html#1255">[ author ]</a>
         </LI>
       </UL>
</body></html>
