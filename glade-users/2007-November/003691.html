<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] glade_xml_signal_autoconnect and manual connection of	signals
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20glade_xml_signal_autoconnect%20and%20manual%20connection%20of%0A%09signals&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003690.html">
   <LINK REL="Next"  HREF="003692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] glade_xml_signal_autoconnect and manual connection of	signals</H1>
    <B>Giulio Bai</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=%5BGlade-users%5D%20glade_xml_signal_autoconnect%20and%20manual%20connection%20of%0A%09signals&In-Reply-To="
       TITLE="[Glade-users] glade_xml_signal_autoconnect and manual connection of	signals">giulio at hewle.com
       </A><BR>
    <I>Fri Nov 16 12:51:34 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003690.html">[Glade-users] treeview and combo box cell rendered
</A></li>
        <LI>Next message: <A HREF="003692.html">[Glade-users] glade_xml_signal_autoconnect and manual	connection of signals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3691">[ date ]</a>
              <a href="thread.html#3691">[ thread ]</a>
              <a href="subject.html#3691">[ subject ]</a>
              <a href="author.html#3691">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I recently landed to the beautiful world of gtk programming and using
Glade as interface designer I learned quite a lot stuffs.

I always connected signals from my application manually, for example
the event of a button that's been pressed:


/* A bunch of data to be set and used in the callbacks */
typedef struct _AppData AppData;
struct _AppData
{
	GtkAboutDialog *dialog_about;
	GtkLabel *hello_label;
};


void
about_button_clicked_show_about_dialog (gpointer data)
{
	AppData *widgets = (AppData *)data;
	gtk_dialog_run ((GtkDialog *)widgets-&gt;dialog_about);
	gtk_label_set_label ((Gtklabel *)widgets-&gt;hello_label, &quot;Wow, it
works!&quot;); }


void
destroy_it_all ()
{
	printf (&quot;Destroying...\n&quot;);
}

void
hook_up_callbacks (GladeXML *the_widgets)
{
	GtkWidget *widget;
	AppData *my_widgets = (AppData *)malloc (sizeof (AppData));
	
	/*** Loading stuffs into data structure ***/
	my_widgets-&gt;dialog_about = (GtkAboutDialog
*)glade_xml_get_widget (the_widgets, &quot;dialog_about&quot;); 
	
	
	/*** Hooking generic signals ***/
	widget = glade_xml_get_widget (the_widgets, &quot;window_main&quot;);
	
	/* delete event */
	g_signal_connect (G_OBJECT (widget), &quot;delete_event&quot;, G_CALLBACK
(gtk_main_quit), NULL); /* Have the destroy signal quits */
	g_signal_connect (G_OBJECT (widget), &quot;destroy&quot;,
						G_CALLBACK
(destroy_it_all), NULL);

	
	/*** Button pressed ***/
	widget = glade_xml_get_widget (the_widgets,
&quot;about_button&quot;); g_signal_connect_swapped (G_OBJECT (widget),
&quot;pressed&quot;, G_CALLBACK
(about_button_clicked_show_about_dialog), (gpointer)my_widgets);
}


int
main (int argc, char *argv[])
{
	GladeXML *gxml;
	
	gtk_init (&amp;argc, &amp;argv);

	gxml = glade_xml_new (GLADE_FILE, NULL, NULL);

	/* Connect all the signals to the appropriate callbacks */
	hook_up_callbacks (gxml);

	/* start the event loop */
	gtk_main ();

	/* Free the memory used by the widgets we're no longer using */
	gtk_widget_destroy (glade_xml_get_widget (gxml, &quot;window_main&quot;));
	
	return 0;
}





Well, I tried to make it using the function
glade_xml_signal_autoconnect but I can't figure out how to operate on
other widgets.
Is there any way to access all widgets (such as hello_label) properties
inside object's callback functions?

Can anyone post the same example using the automatic signal connection?

I imagine I didn't catch the most important thing...
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003690.html">[Glade-users] treeview and combo box cell rendered
</A></li>
	<LI>Next message: <A HREF="003692.html">[Glade-users] glade_xml_signal_autoconnect and manual	connection of signals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3691">[ date ]</a>
              <a href="thread.html#3691">[ thread ]</a>
              <a href="subject.html#3691">[ subject ]</a>
              <a href="author.html#3691">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
