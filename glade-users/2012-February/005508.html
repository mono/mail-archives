<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-users] Lightweight way for Glade to support custom widgets	in a project?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-users%40lists.ximian.com?Subject=Re%3A%20%5BGlade-users%5D%20Lightweight%20way%20for%20Glade%20to%20support%20custom%20widgets%0A%09in%20a%20project%3F&In-Reply-To=%3CCA%2BaUi_VFOTmUERz_354jmkaaVk0P-Mhts2%2BsaWcrSA-pHJhETg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005507.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-users] Lightweight way for Glade to support custom widgets	in a project?</H1>
    <B>Brian Marshall</B> 
    <A HREF="mailto:glade-users%40lists.ximian.com?Subject=Re%3A%20%5BGlade-users%5D%20Lightweight%20way%20for%20Glade%20to%20support%20custom%20widgets%0A%09in%20a%20project%3F&In-Reply-To=%3CCA%2BaUi_VFOTmUERz_354jmkaaVk0P-Mhts2%2BsaWcrSA-pHJhETg%40mail.gmail.com%3E"
       TITLE="[Glade-users] Lightweight way for Glade to support custom widgets	in a project?">bmarsd at gmail.com
       </A><BR>
    <I>Wed Feb 29 01:35:42 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="005507.html">[Glade-users] libglade-WARNING **: could not find glade file
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5508">[ date ]</a>
              <a href="thread.html#5508">[ thread ]</a>
              <a href="subject.html#5508">[ subject ]</a>
              <a href="author.html#5508">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to get Glade to work with a custom widget that I'm using.
It's a very minor extension to GtkEntry, with a couple extra
properties and methods defined. It works fine already if I add it at
runtime with code. It also works fine if I manually edit the Glade .ui
file and change class=&quot;GtkEntry&quot; to class=&quot;MyWidget&quot; - GtkBuilder
finds the widget class in my Python code and adds it to the window.

The problem is that if I open the .ui file in Glade after this, it
just deletes the custom widget. I've read that I need to add a catalog
file to get Glade to recognize the widget, but that seems like
overkill, and has a flaw: if someone (or me, on another computer)
opens the project in Glade, and doesn't have the catalog file
installed, then Glade will silently delete the widget from the window.

Is there some way to provide support for a custom widget in the .ui
file itself? It doesn't have to be extensive support, but it would be
nice if I could get Glade to keep the widget when it loads the file.
Even a simple alias from MyWidget to GtkEntry would work. Something
like:

&lt;alias from=&quot;MyWidget&quot; to=&quot;GtkEntry&quot;/&gt;
&lt;interface&gt;
...
&lt;/interface&gt;

(Probably not the best solution, but just to get my idea across.) That
would be enough to get Glade to display it and allow manipulation,
with the actual custom parts done at program runtime, since GtkBuilder
handles it from there.

Basically I'm looking for a way to move and place the widget in Glade,
in a way that is embedded in the project, so that the failure case of
silently deleting the widget on project load can never happen.

My current solution is to add the custom widget completely from code -
Glade never sees it. Another solution is to put GtkEntry placeholders
in Glade, and replace them at runtime, but that has more overhead (in
terms of amount of code that I need to write, at least), since as far
as I know replacing something in GTK requires removing it and adding a
new element in the same place.

Also I want to clarify that if I take Glade out of the equation, and
edit the .ui file manually and load it with GtkBuilder, then
everything works. The only issue is that Glade doesn't recognize the
widget when I'm editing the project.

Thanks in advance for any responses, I appreciate your time.

-- Brian
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005507.html">[Glade-users] libglade-WARNING **: could not find glade file
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5508">[ date ]</a>
              <a href="thread.html#5508">[ thread ]</a>
              <a href="subject.html#5508">[ subject ]</a>
              <a href="author.html#5508">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-users">More information about the Glade-users
mailing list</a><br>
</body></html>
