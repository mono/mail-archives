<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] mono 2.6.3 Gmail certificate problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20mono%202.6.3%20Gmail%20certificate%20problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000849.html">
   <LINK REL="Next"  HREF="000851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] mono 2.6.3 Gmail certificate problem</H1>
    <B>APS</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20mono%202.6.3%20Gmail%20certificate%20problem&In-Reply-To="
       TITLE="[Mono-aspnet-list] mono 2.6.3 Gmail certificate problem">dev.malst at apsystems.it
       </A><BR>
    <I>Fri Jun 25 11:22:20 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000849.html">[Mono-aspnet-list] mono 2.6.3 Gmail certificate problem
</A></li>
        <LI>Next message: <A HREF="000851.html">[Mono-aspnet-list] mon_mono / Debian
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#850">[ date ]</a>
              <a href="thread.html#850">[ thread ]</a>
              <a href="subject.html#850">[ subject ]</a>
              <a href="author.html#850">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Using mono 2.6.4 VM I'm able to send email using gmail over tls 
without problem.
I've the identical problem using a different email provider but not with gmail.

At 16.14 25/06/2010, you wrote:
&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>yes this seems to be an issue that several people are running across,
</I>&gt;<i>including myself. Other discussions have been:
</I>&gt;<i>
</I>&gt;<i><A HREF="http://lists.ximian.com/pipermail/mono-aspnet-list/2010-June/000788.html">http://lists.ximian.com/pipermail/mono-aspnet-list/2010-June/000788.html</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/pipermail/mono-devel-list/2010-June/035276.html">http://lists.ximian.com/pipermail/mono-devel-list/2010-June/035276.html</A>
</I>&gt;<i>and 
</I>&gt;<i><A HREF="http://stackoverflow.com/questions/2884290/ssl-authentication-error-remotecertificatechainerrors-on-asp-net-on-ubuntu">http://stackoverflow.com/questions/2884290/ssl-authentication-error-remotecertificatechainerrors-on-asp-net-on-ubuntu</A>
</I>&gt;<i>
</I>&gt;<i>The only one that I've gotten to work has been to use
</I>&gt;<i><A HREF="http://ubuntu-tutorials.com/2008/11/11/relaying-postfix-smtp-via-smtpgmailcom/">http://ubuntu-tutorials.com/2008/11/11/relaying-postfix-smtp-via-smtpgmailcom/</A>
</I>&gt;<i>
</I>&gt;<i>Joe
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Message: 2
</I>&gt;<i> &gt; Date: Fri, 25 Jun 2010 03:52:26 -0700 (PDT)
</I>&gt;<i> &gt; From: Wien Smit &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">wiensmit at gmail.com</A>&gt;
</I>&gt;<i> &gt; Subject: [Mono-aspnet-list] mono 2.6.3 Gmail certificate problem
</I>&gt;<i> &gt; To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">mono-aspnet-list at lists.ximian.com</A>
</I>&gt;<i> &gt; Message-ID: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">1277463146222-2268279.post at n4.nabble.com</A>&gt;
</I>&gt;<i> &gt; Content-Type: text/plain; charset=us-ascii
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi all,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; i have a fairly simple asp.net website with a contact form all worked fine
</I>&gt;<i> &gt; until Google updated there certificate needed to make use of there gmail
</I>&gt;<i> &gt; smtp server.
</I>&gt;<i> &gt; now i have installed mono 2.6.3 on ubuntu 10.04 with the help of badgerpors
</I>&gt;<i> &gt; and i have imported the certificates with the following results:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; certmgr -ssl -m <A HREF="smtps://smtp.gmail.com:465">smtps://smtp.gmail.com:465</A>
</I>&gt;<i> &gt; Mono Certificate Manager - version 2.6.3.0
</I>&gt;<i> &gt; Manage X.509 certificates and CRL from stores.
</I>&gt;<i> &gt; Copyright 2002, 2003 Motus Technologies. Copyright 2004-2008 Novell. BSD
</I>&gt;<i> &gt; licensed.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; X.509 Certificate v3
</I>&gt;<i> &gt; Issued from: C=US, O=Equifax, OU=Equifax Secure Certificate Authority
</I>&gt;<i> &gt; Issued to: C=US, O=Google Inc, CN=Google Internet Authority
</I>&gt;<i> &gt; Valid from: 6/8/2009 10:43:27 PM
</I>&gt;<i> &gt; Valid until: 6/7/2013 9:43:27 PM
</I>&gt;<i> &gt; *** WARNING: Certificate signature is INVALID ***
</I>&gt;<i> &gt; This certificate is already in the CA store.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; X.509 Certificate v3
</I>&gt;<i> &gt; Issued from: C=US, O=Google Inc, CN=Google Internet Authority
</I>&gt;<i> &gt; Issued to: C=US, S=California, L=Mountain View, O=Google Inc,
</I>&gt;<i> &gt; CN=smtp.gmail.com
</I>&gt;<i> &gt; Valid from: 4/22/2010 10:02:45 PM
</I>&gt;<i> &gt; Valid until: 4/22/2011 10:12:45 PM
</I>&gt;<i> &gt; This certificate is already in the AddressBook store.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; No certificate were added to the stores.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; if i am correct the certificate is invalid waring is only about the
</I>&gt;<i> &gt; selfsigned
</I>&gt;<i> &gt; so hopefully that would mean that the certificates are there.
</I>&gt;<i> &gt; still when i try to use the contact form and send a mail i get the
</I>&gt;<i> &gt; following:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; System.Net.Mail.SmtpException: Message could not be sent. ---&gt;
</I>&gt;<i> &gt; System.IO.IOException: The authentication or decryption has failed. ---&gt;
</I>&gt;<i> &gt; System.InvalidOperationException: SSL authentication error:
</I>&gt;<i> &gt; RemoteCertificateNotAvailable at System.Net.Mail.SmtpClient.m__3
</I>&gt;<i> &gt; (System.Object sender, System.Security.Cryptography.X509Certificates.X509
</I>&gt;<i> &gt; Certificate certificate, System.Security.Cryptography.X509Certificates.X509
</I>&gt;<i> &gt; Chain chain, SslPolicyErrors sslPolicyErrors) [0x00000] in :0 at
</I>&gt;<i> &gt; System.Net.Security.SslStream+c__AnonStorey7.&lt;&gt;m__ 9
</I>&gt;<i> &gt; (System.Security.Cryptography.X509Certificates.X50 9Certificate cert,
</I>&gt;<i> &gt; System.Int32[] certErrors) [0x00000] in :0 at
</I>&gt;<i> &gt; Mono.Security.Protocol.Tls.SslClientStream.OnRemot eCertificateValidation
</I>&gt;<i> &gt; (System.Security.Cryptography.X509Certificates.X50 9Certificate 
</I>&gt;<i> certificate,
</I>&gt;<i> &gt; System.Int32[] errors) [0x00000] in :0 at
</I>&gt;<i> &gt; Mono.Security.Protocol.Tls.SslStreamBase.RaiseRemo teCertificateValidation
</I>&gt;<i> &gt; (System.Security.Cryptography.X509Certificates.X50 9Certificate 
</I>&gt;<i> certificate,
</I>&gt;<i> &gt; System.Int32[] errors) [0x00000] in :0 at
</I>&gt;<i> &gt; Mono.Security.Protocol.Tls.SslClientStream.RaiseSe 
</I>&gt;<i> rverCertificateValidation
</I>&gt;<i> &gt; (System.Security.Cryptography.X509Certificates.X50 9Certificate 
</I>&gt;<i> certificate,
</I>&gt;<i> &gt; System.Int32[] certificateErrors) [0x00000] in :0 at
</I>&gt;<i> &gt; Mono.Security.Protocol.Tls.Handshake.Client.TlsSer
</I>&gt;<i> &gt; verCertificate.validateCertificates
</I>&gt;<i> &gt; (Mono.Security.X509.X509CertificateCollection certificates) [0x00000] in :0
</I>&gt;<i> &gt; at Mono.Security.Protocol.Tls.Handshake.Client.TlsSer
</I>&gt;<i> &gt; verCertificate.ProcessAsTls1 () [0x00000] in :0 at
</I>&gt;<i> &gt; Mono.Security.Protocol.Tls.Handshake.HandshakeMess age.Process () [0x00000]
</I>&gt;<i> &gt; in :0 at (wrapper remoting-invoke-with-check)
</I>&gt;<i> &gt; Mono.Security.Protocol.Tls.Handshake.HandshakeMess agerocess () at
</I>&gt;<i> &gt; Mono.Security.Protocol.Tls.ClientRecordProtocol.Pr ocessHandshakeMessage
</I>&gt;<i> &gt; (Mono.Security.Protocol.Tls.TlsStream handMsg) [0x00000] in :0 at
</I>&gt;<i> &gt; Mono.Security.Protocol.Tls.RecordProtocol.Internal ReceiveRecordCallback
</I>&gt;<i> &gt; (IAsyncResult asyncResult) [0x00000] in :0 --- End of inner exception stack
</I>&gt;<i> &gt; trace --- at Mono.Security.Protocol.Tls.SslStreamBase.AsyncHand
</I>&gt;<i> &gt; shakeCallback (IAsyncResult asyncResult) [0x00000] in :0 --- End of inner
</I>&gt;<i> &gt; exception stack trace --- at System.Net.Mail.SmtpClient.Send
</I>&gt;<i> &gt; (System.Net.Mail.MailMessage message) [0x00000] in :0 at
</I>&gt;<i> &gt; website.Contact.btnVer_Click (System.Object sender, System.EventArgs e)
</I>&gt;<i> &gt; [0x00000] in :0
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; the way i read it it seems that i somehow cant find the certificates or
</I>&gt;<i> &gt; something like that
</I>&gt;<i> &gt; anyway someone here who knows what the heck im doing wrong ?
</I>&gt;<i> &gt; Wien Smit is offline    Reply With Quote
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; View this message in context: 
</I>&gt;<i> <A HREF="http://mono.1490590.n4.nabble.com/mono-2-6-3-Gmail-certificate-problem-tp2268279p2268279.html">http://mono.1490590.n4.nabble.com/mono-2-6-3-Gmail-certificate-problem-tp2268279p2268279.html</A>
</I>&gt;<i> &gt; Sent from the Mono - ASP.NET mailing list archive at Nabble.com.
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mono-aspnet-list mailing list
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Mono-aspnet-list at lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">http://lists.ximian.com/mailman/listinfo/mono-aspnet-list</A>
</I>&gt;<i>
</I>&gt;<i>--
</I>&gt;<i>Il messaggio e' stato analizzato alla ricerca di virus o
</I>&gt;<i>contenuti pericolosi da MailScanner, ed e'
</I>&gt;<i>risultato non infetto.
</I>

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000849.html">[Mono-aspnet-list] mono 2.6.3 Gmail certificate problem
</A></li>
	<LI>Next message: <A HREF="000851.html">[Mono-aspnet-list] mon_mono / Debian
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#850">[ date ]</a>
              <a href="thread.html#850">[ thread ]</a>
              <a href="subject.html#850">[ subject ]</a>
              <a href="author.html#850">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
