<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] mono 2.6.3 Gmail certificate problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20mono%202.6.3%20Gmail%20certificate%20problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000893.html">
   <LINK REL="Next"  HREF="000846.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] mono 2.6.3 Gmail certificate problem</H1>
    <B>Wien Smit</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20mono%202.6.3%20Gmail%20certificate%20problem&In-Reply-To="
       TITLE="[Mono-aspnet-list] mono 2.6.3 Gmail certificate problem">wiensmit at gmail.com
       </A><BR>
    <I>Fri Jun 25 06:52:26 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000893.html">[Mono-aspnet-list] Configuring mod_mono on Windows
</A></li>
        <LI>Next message: <A HREF="000846.html">[Mono-aspnet-list] mono 2.6.3 Gmail certificate problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#845">[ date ]</a>
              <a href="thread.html#845">[ thread ]</a>
              <a href="subject.html#845">[ subject ]</a>
              <a href="author.html#845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi all,

i have a fairly simple asp.net website with a contact form all worked fine
until Google updated there certificate needed to make use of there gmail
smtp server.
now i have installed mono 2.6.3 on ubuntu 10.04 with the help of badgerpors
and i have imported the certificates with the following results:



certmgr -ssl -m <A HREF="smtps://smtp.gmail.com:465">smtps://smtp.gmail.com:465</A>
Mono Certificate Manager - version 2.6.3.0
Manage X.509 certificates and CRL from stores.
Copyright 2002, 2003 Motus Technologies. Copyright 2004-2008 Novell. BSD
licensed.


X.509 Certificate v3
Issued from: C=US, O=Equifax, OU=Equifax Secure Certificate Authority
Issued to: C=US, O=Google Inc, CN=Google Internet Authority
Valid from: 6/8/2009 10:43:27 PM
Valid until: 6/7/2013 9:43:27 PM
*** WARNING: Certificate signature is INVALID ***
This certificate is already in the CA store.

X.509 Certificate v3
Issued from: C=US, O=Google Inc, CN=Google Internet Authority
Issued to: C=US, S=California, L=Mountain View, O=Google Inc,
CN=smtp.gmail.com
Valid from: 4/22/2010 10:02:45 PM
Valid until: 4/22/2011 10:12:45 PM
This certificate is already in the AddressBook store.

No certificate were added to the stores.

if i am correct the certificate is invalid waring is only about the
selfsigned
so hopefully that would mean that the certificates are there.
still when i try to use the contact form and send a mail i get the
following:


System.Net.Mail.SmtpException: Message could not be sent. ---&gt;
System.IO.IOException: The authentication or decryption has failed. ---&gt;
System.InvalidOperationException: SSL authentication error:
RemoteCertificateNotAvailable at System.Net.Mail.SmtpClient.m__3
(System.Object sender, System.Security.Cryptography.X509Certificates.X509
Certificate certificate, System.Security.Cryptography.X509Certificates.X509
Chain chain, SslPolicyErrors sslPolicyErrors) [0x00000] in :0 at
System.Net.Security.SslStream+c__AnonStorey7.&lt;&gt;m__ 9
(System.Security.Cryptography.X509Certificates.X50 9Certificate cert,
System.Int32[] certErrors) [0x00000] in :0 at
Mono.Security.Protocol.Tls.SslClientStream.OnRemot eCertificateValidation
(System.Security.Cryptography.X509Certificates.X50 9Certificate certificate,
System.Int32[] errors) [0x00000] in :0 at
Mono.Security.Protocol.Tls.SslStreamBase.RaiseRemo teCertificateValidation
(System.Security.Cryptography.X509Certificates.X50 9Certificate certificate,
System.Int32[] errors) [0x00000] in :0 at
Mono.Security.Protocol.Tls.SslClientStream.RaiseSe rverCertificateValidation
(System.Security.Cryptography.X509Certificates.X50 9Certificate certificate,
System.Int32[] certificateErrors) [0x00000] in :0 at
Mono.Security.Protocol.Tls.Handshake.Client.TlsSer
verCertificate.validateCertificates
(Mono.Security.X509.X509CertificateCollection certificates) [0x00000] in :0
at Mono.Security.Protocol.Tls.Handshake.Client.TlsSer
verCertificate.ProcessAsTls1 () [0x00000] in :0 at
Mono.Security.Protocol.Tls.Handshake.HandshakeMess age.Process () [0x00000]
in :0 at (wrapper remoting-invoke-with-check)
Mono.Security.Protocol.Tls.Handshake.HandshakeMess agerocess () at
Mono.Security.Protocol.Tls.ClientRecordProtocol.Pr ocessHandshakeMessage
(Mono.Security.Protocol.Tls.TlsStream handMsg) [0x00000] in :0 at
Mono.Security.Protocol.Tls.RecordProtocol.Internal ReceiveRecordCallback
(IAsyncResult asyncResult) [0x00000] in :0 --- End of inner exception stack
trace --- at Mono.Security.Protocol.Tls.SslStreamBase.AsyncHand
shakeCallback (IAsyncResult asyncResult) [0x00000] in :0 --- End of inner
exception stack trace --- at System.Net.Mail.SmtpClient.Send
(System.Net.Mail.MailMessage message) [0x00000] in :0 at
website.Contact.btnVer_Click (System.Object sender, System.EventArgs e)
[0x00000] in :0


the way i read it it seems that i somehow cant find the certificates or
something like that
anyway someone here who knows what the heck im doing wrong ?
Wien Smit is offline   	Reply With Quote
-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/mono-2-6-3-Gmail-certificate-problem-tp2268279p2268279.html">http://mono.1490590.n4.nabble.com/mono-2-6-3-Gmail-certificate-problem-tp2268279p2268279.html</A>
Sent from the Mono - ASP.NET mailing list archive at Nabble.com.
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000893.html">[Mono-aspnet-list] Configuring mod_mono on Windows
</A></li>
	<LI>Next message: <A HREF="000846.html">[Mono-aspnet-list] mono 2.6.3 Gmail certificate problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#845">[ date ]</a>
              <a href="thread.html#845">[ thread ]</a>
              <a href="subject.html#845">[ subject ]</a>
              <a href="author.html#845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
