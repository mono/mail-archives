<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Using PostgreSQL Membership Provider
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Using%20PostgreSQL%20Membership%20Provider&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000804.html">
   <LINK REL="Next"  HREF="000891.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Using PostgreSQL Membership Provider</H1>
    <B>Jared Kells</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Using%20PostgreSQL%20Membership%20Provider&In-Reply-To="
       TITLE="[Mono-aspnet-list] Using PostgreSQL Membership Provider">jkells at gmail.com
       </A><BR>
    <I>Sun Jun 13 06:13:46 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000804.html">[Mono-aspnet-list] Unable to bind port 80 without sudo
</A></li>
        <LI>Next message: <A HREF="000891.html">[Mono-aspnet-list] WotC D&amp;D Insider
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#807">[ date ]</a>
              <a href="thread.html#807">[ thread ]</a>
              <a href="subject.html#807">[ subject ]</a>
              <a href="author.html#807">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Perhaps someone here can help me. I am working on an ASP.NET MVC application
using PostgreSQL and the membership provider here:
<A HREF="http://dev.nauck-it.de/projects/aspsqlprovider">http://dev.nauck-it.de/projects/aspsqlprovider</A>
I have configured the provider in Web.config and it is working under .NET on
Windows.

Running the application using Mono on Ubuntu gives me the following
exception when I try to log in. You can see it is trying to use
the SqliteMembershipProvider when I want it to use the PostgreSQL provider.

Any ideas on how to debug this? I have included the relevant parts of
Web.config at the end of the email.

Kind Regards
Jared



Server Error in '/' Application

Operation aborted due to an exception (see Trace for details). See
<A HREF="http://www.mono-project.com/FAQ:_ASP.NET#Common_Problems">http://www.mono-project.com/FAQ:_ASP.NET#Common_Problems</A> for additional
suggestions.
Description: HTTP 500. Error processing request.
Stack Trace:
System.Configuration.Provider.ProviderException: Operation aborted due to an
exception (see Trace for details).  See
<A HREF="http://www.mono-project.com/FAQ:_ASP.NET#Common_Problems">http://www.mono-project.com/FAQ:_ASP.NET#Common_Problems</A> for additional
suggestions.
at System.Web.Security.SqliteMembershipProvider.GetUserNameByEmail (string)
[0x00079] in
/home/jkells/mono-trunk/mcs/class/System.Web/System.Web.Security/SqliteMembershipProvider.cs:1009
at System.Web.Security.SqliteMembershipProvider.CreateUser
(string,string,string,string,string,bool,object,System.Web.Security.MembershipCreateStatus&amp;)
[0x0003d] in
/home/jkells/mono-trunk/mcs/class/System.Web/System.Web.Security/SqliteMembershipProvider.cs:365
at PushkittenWebApp.Models.AccountMembershipService.CreateUser
(string,string,string) &lt;IL 0x00060, 0x00078&gt;
at PushkittenWebApp.Controllers.AccountController.Register
(PushkittenWebApp.Models.RegisterModel) &lt;IL 0x00028, 0x00059&gt;
at (wrapper dynamic-method)
System.Runtime.CompilerServices.ExecutionScope.lambda_method
(System.Runtime.CompilerServices.ExecutionScope,System.Web.Mvc.ControllerBase,object[])
&lt;IL 0x00020, 0x00059&gt;
at System.Web.Mvc.ActionMethodDispatcher.Execute
(System.Web.Mvc.ControllerBase,object[]) &lt;IL 0x00008, 0x0001b&gt;
at System.Web.Mvc.ReflectedActionDescriptor.Execute
(System.Web.Mvc.ControllerContext,System.Collections.Generic.IDictionary`2&lt;string,
object&gt;) &lt;IL 0x00072, 0x000fd&gt;
at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod
(System.Web.Mvc.ControllerContext,System.Web.Mvc.ActionDescriptor,System.Collections.Generic.IDictionary`2&lt;string,
object&gt;) &lt;IL 0x00003, 0x0001c&gt;
at
System.Web.Mvc.ControllerActionInvoker/&lt;&gt;c__DisplayClassd.&lt;InvokeActionMethodWithFilters&gt;b__a
() &lt;IL 0x0002d, 0x00067&gt;
at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter
(System.Web.Mvc.IActionFilter,System.Web.Mvc.ActionExecutingContext,System.Func`1&lt;System.Web.Mvc.ActionExecutedContext&gt;)
&lt;IL 0x00031, 0x000bd&gt;

Version information: Mono Runtime Version: 2.7 (/trunk/mono r158856 Sun Jun
13 18:19:56 EST 2010); ASP.NET Version: 2.0.50727.1433


Web.Config
---

&lt;connectionStrings&gt;
&lt;add name=&quot;pushkitten&quot; connectionString=&quot;xxxxx&quot; providerName=&quot;Npgsql2&quot; /&gt;
&lt;!-- provider invariant name, configured above --&gt;
&lt;/connectionStrings&gt;


&lt;roleManager enabled=&quot;true&quot;&gt;
&lt;providers&gt;
&lt;clear /&gt;
&lt;add name=&quot;AspNetSqlRoleProvider&quot; connectionStringName=&quot;pushkitten&quot;
applicationName=&quot;/&quot; type=&quot;NauckIT.PostgreSQLProvider.PgRoleProvider&quot; /&gt;
&lt;/providers&gt;
&lt;/roleManager&gt;

&lt;membership defaultProvider=&quot;AspNetSqlMembershipProvider&quot;&gt;
&lt;providers&gt;
&lt;clear /&gt;
&lt;add name=&quot;AspNetSqlMembershipProvider&quot;
type=&quot;NauckIT.PostgreSQLProvider.PgMembershipProvider&quot;
connectionStringName=&quot;pushkitten&quot; enablePasswordRetrieval=&quot;false&quot;
enablePasswordReset=&quot;true&quot; requiresQuestionAndAnswer=&quot;true&quot;
applicationName=&quot;/&quot; requiresUniqueEmail=&quot;true&quot; passwordFormat=&quot;Hashed&quot;
maxInvalidPasswordAttempts=&quot;5&quot; minRequiredPasswordLength=&quot;7&quot;
minRequiredNonalphanumericCharacters=&quot;1&quot; passwordAttemptWindow=&quot;10&quot;
passwordStrengthRegularExpression=&quot;&quot; /&gt;
&lt;/providers&gt;
&lt;/membership&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20100613/9b4c7f03/attachment.html">http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20100613/9b4c7f03/attachment.html</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000804.html">[Mono-aspnet-list] Unable to bind port 80 without sudo
</A></li>
	<LI>Next message: <A HREF="000891.html">[Mono-aspnet-list] WotC D&amp;D Insider
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#807">[ date ]</a>
              <a href="thread.html#807">[ thread ]</a>
              <a href="subject.html#807">[ subject ]</a>
              <a href="author.html#807">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
