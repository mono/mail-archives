<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] creating new web service from wsdl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20creating%20new%20web%20service%20from%20wsdl&In-Reply-To=AANLkTi%3DvhHgfQvsWwCvRU-uW4LwMmxtdZPnTYc0gaFKU%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000960.html">
   <LINK REL="Next"  HREF="001423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] creating new web service from wsdl</H1>
    <B>Devin Venable</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20creating%20new%20web%20service%20from%20wsdl&In-Reply-To=AANLkTi%3DvhHgfQvsWwCvRU-uW4LwMmxtdZPnTYc0gaFKU%40mail.gmail.com"
       TITLE="[Mono-aspnet-list] creating new web service from wsdl">venable.devin at gmail.com
       </A><BR>
    <I>Thu Sep  2 13:41:04 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000960.html">[Mono-aspnet-list] creating new web service from wsdl
</A></li>
        <LI>Next message: <A HREF="001423.html">[Mono-aspnet-list] R:  creating new web service from wsdl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#961">[ date ]</a>
              <a href="thread.html#961">[ thread ]</a>
              <a href="subject.html#961">[ subject ]</a>
              <a href="author.html#961">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I believe I've answered my own question, so for the record, it seems you
need to also redeclare the [WebMethod] declaration in braces.  (What do you
call these things?)  Here's a complete example that works. (Imagine that
MathServiceBase.cs was generated by running wsdl2 from existing interface
file.)

MathServiceBase.cs:

using System;
using System.Web;
using System.Web.Services;

namespace MathService
{
[WebService (Namespace = &quot;<A HREF="http://tempuri.org/NumberService&quot;">http://tempuri.org/NumberService&quot;</A>)]
public abstract partial class MathServiceBase : WebService
{
[WebMethod]
public abstract int AddNumbers (int number1, int number2);

[WebMethod]
public abstract int SubtractNumbers (int number1, int number2);
}
}

Now you have to inherit, add override to the methods, and copy the [ ]
blocks from the generated file.

MathService.asmx:

&lt;%@ WebService Language=&quot;C#&quot; Class=&quot;MathService.MathService&quot; %&gt;

using System;
using System.Web.Services;

namespace MathService
{
[WebService (Namespace = &quot;<A HREF="http://tempuri.org/NumberService&quot;">http://tempuri.org/NumberService&quot;</A>)]
public class MathService : MathServiceBase
{
[WebMethod]
public override int AddNumbers (int number1, int number2)
{
return number1 + number2;
}

  [WebMethod]
public override int SubtractNumbers (int number1, int number2)
{
return number1 - number2;
}
}
}


2010/9/2 Devin Venable &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">venable.devin at gmail.com</A>&gt;

&gt;<i> And with NEW I get this error:
</I>&gt;<i>
</I>&gt;<i> TestService.asmx.cs(58,58): Error CS0533:
</I>&gt;<i> `blah.blah.EnrollTransmitter(blah.TransmitterEnrollmentRequest)' hides
</I>&gt;<i> inherited abstract member
</I>&gt;<i> `blah.blahGenerated.EnrollTransmitter(blah.WidgetEnrollmentRequest)'
</I>&gt;<i> (CS0533) (TestSOAP2)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2010/9/2 Devin Venable &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">venable.devin at gmail.com</A>&gt;
</I>&gt;<i>
</I>&gt;&gt;<i> When I don't inherit, I get this compile warning:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> TestService.asmx.cs(54,54): Warning CS0114:
</I>&gt;&gt;<i> `MyService.MyService.EnrollTransmitter(GTPServices.WidgetEnrollmentRequest)'
</I>&gt;&gt;<i> hides inherited member
</I>&gt;&gt;<i> `MyService.MyServiceGenerated.EnrollTransmitter(TestService.WidgetEnrollmentRequest)'.
</I>&gt;&gt;<i> To make the current member override that implementation, add the override
</I>&gt;&gt;<i> keyword. Otherwise add the new keyword (CS0114) (TestSOAP2)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Should I use the new keyword?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2010/9/2 Alberto Le&#243;n &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">leontiscar at gmail.com</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Y do not need to override WidgetEnrollmentResponse.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 2010/9/2 Devin Venable &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">venable.devin at gmail.com</A>&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Simple inheritance didn't seem to work, at least not using my pattern.
</I>&gt;&gt;&gt;&gt;<i>  Here is a fragment of the code (variable names changed to protect the
</I>&gt;&gt;&gt;&gt;<i> innocent):
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> In TestService.asmx:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> &lt;%@ WebService Language=&quot;C#&quot; Class=&quot;MyService.MyService&quot; %&gt;
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> In MyServiceGenerated.cs:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> namespace MyService
</I>&gt;&gt;&gt;&gt;<i> {
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> /// &lt;remarks/&gt;
</I>&gt;&gt;&gt;&gt;<i> [System.Web.Services.WebServiceAttribute(Namespace=&quot;<A HREF="http://tempuri.org/">http://tempuri.org/</A>
</I>&gt;&gt;&gt;&gt;<i> &quot;)]
</I>&gt;&gt;&gt;&gt;<i> [System.Web.Services.WebServiceBinding(Name=&quot;BasicHttpBinding_IMyServices&quot;,
</I>&gt;&gt;&gt;&gt;<i> Namespace=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A>)]
</I>&gt;&gt;&gt;&gt;<i> public abstract partial class MyServiceGenerated :
</I>&gt;&gt;&gt;&gt;<i> System.Web.Services.WebService {
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>     [System.Web.Services.WebMethodAttribute()]
</I>&gt;&gt;&gt;&gt;<i>     [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://tempuri.org/IMyServices/EnrollTransmitter&quot;,">http://tempuri.org/IMyServices/EnrollTransmitter&quot;,</A> RequestNamespace=&quot;
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://tempuri.org/&quot;,">http://tempuri.org/&quot;,</A> ResponseNamespace=&quot;<A HREF="http://tempuri.org/&quot;,">http://tempuri.org/&quot;,</A>
</I>&gt;&gt;&gt;&gt;<i> ParameterStyle=System.Web.Services.Protocols.SoapParameterStyle.Wrapped,
</I>&gt;&gt;&gt;&gt;<i> Use=System.Web.Services.Description.SoapBindingUse.Literal)]
</I>&gt;&gt;&gt;&gt;<i>      [return:
</I>&gt;&gt;&gt;&gt;<i> System.Xml.Serialization.XmlElementAttribute(IsNullable=true)]
</I>&gt;&gt;&gt;&gt;<i>     public abstract WidgetEnrollmentResponse
</I>&gt;&gt;&gt;&gt;<i> EnrollTransmitter([System.Xml.Serialization.XmlElementAttribute(IsNullable=true)]
</I>&gt;&gt;&gt;&gt;<i> WidgetEnrollmentRequest request);
</I>&gt;&gt;&gt;&gt;<i>     ...
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> In TestService.asmx.cs:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> namespace MyService
</I>&gt;&gt;&gt;&gt;<i> {
</I>&gt;&gt;&gt;&gt;<i>  public class MyService : MyServiceGenerated
</I>&gt;&gt;&gt;&gt;<i>  {
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> public override WidgetEnrollmentResponse
</I>&gt;&gt;&gt;&gt;<i> EnrollTransmitter(WidgetEnrollmentRequest request)
</I>&gt;&gt;&gt;&gt;<i>  {
</I>&gt;&gt;&gt;&gt;<i>                         // TODO implement
</I>&gt;&gt;&gt;&gt;<i> return null;
</I>&gt;&gt;&gt;&gt;<i> }
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Okay, so now when I deploy this, the web page shows up and there are no
</I>&gt;&gt;&gt;&gt;<i> visible service methods.  What am I doing wrong, or better yet, what is the
</I>&gt;&gt;&gt;&gt;<i> best practice for what I'm trying to do?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> And thanks for the help!
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 2010/9/2 Alberto Le&#243;n &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">leontiscar at gmail.com</A>&gt;
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> You need inherit MyServices in other class.
</I>&gt;&gt;&gt;&gt;&gt;<i> An abtract class can't be instantiated, created, and can't store data.
</I>&gt;&gt;&gt;&gt;&gt;<i> Allways need to be inherited.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> 2010/9/2 Devin Venable &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">venable.devin at gmail.com</A>&gt;
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>  Background:  Linux developer new to .NET.  In the past I've
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> successfully deployed simple web services by creating asmx files and running
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> them under Apache via XSP.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Need: Create web service implementation from WSDL defined by 3rd party
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> This is what I've tried so far...
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> 1. Used wsdl2 to generate server stubs.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> wsdl2 -server MyServices.wsdl
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Web Services Description Language Utility
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Mono Framework v2.0.50727.1433
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> There where some warnings while generating the code:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>   MyServices.wsdl
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>     - This web reference does not conform to WS-I Basic Profile v1.1
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>         R2718: A wsdl:binding in a DESCRIPTION MUST have the same set
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> of
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>         wsdl:operations as the wsdl:portType to which it refers.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>           * Binding 'BasicHttpBinding_IMyServices', in Service
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Description
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>             '<A HREF="http://tempuri.org/'">http://tempuri.org/'</A>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> (should this warning make me nervous?)
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> 2. Renamed resulting cs file to MyServices.asmx
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> 3. Added header to file:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> &lt;%@ WebService Language=&quot;c#&quot; Codebehind=&quot;MyServices.asmx.cs&quot;
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Class=&quot;MyServices&quot; %&gt;
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> This KINDA worked.  I can load up and view the page in my browser:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://localhost/MyServices.asmx">http://localhost/MyServices.asmx</A>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> But when I try to invoke a method on the service from the web forms
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> that display, I get a message like:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> *500 - Internal Server Error*
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> System.MissingMethodException: Cannot create an abstract class 'MyServices'.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>   at System.Activator.CheckAbstractType (System.Type type) [0x00000]
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>   at System.Activator.CreateInstance (System.Type type, Boolean nonPublic) [0x00000]
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>   at System.Activator.CreateInstance (System.Type type) [0x00000]
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>   at System.Web.Services.Protocols.WebServiceHandler.CreateServerInstance () [0x00000]
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>   at System.Web.Services.Protocols.HttpSimpleWebServiceHandler.Invoke (System.Web.Services.Protocols.LogicalMethodInfo method, System.Object[] parameters) [0x00000]
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>   at System.Web.Services.Protocols.HttpSimpleWebServiceHandler.ProcessRequest (System.Web.HttpContext context) [0x00000]
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Though I'm not a .NET developer, I'm a developer and can see why
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> trying to create an instance of an abstract class would be an issue.  What
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> I'm not clear on is what is the best
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> pattern to implement the concrete methods.   I've tried implementing a
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> concrete class with all of the methods in the asmx and made the class
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> inherit from the class generated by
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> wsdl2, but when I run the application, the methods disappear.  I'm
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> guessing I need to copy all of the blocks that look like this into the
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> concrete class:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>  [System.Web.Services.WebMethodAttribute()]
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>     [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://tempuri.org/IGTPServices/EnrollTransmitter&quot;,">http://tempuri.org/IGTPServices/EnrollTransmitter&quot;,</A>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> RequestNamespace=&quot;<A HREF="http://tempuri.org/&quot;,">http://tempuri.org/&quot;,</A> ResponseNamespace=&quot;
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://tempuri.org/&quot;,">http://tempuri.org/&quot;,</A>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> ParameterStyle=System.Web.Services.Protocols.SoapParameterStyle.Wrapped,
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Use=System.Web.Services.Description.SoapBindingUse.Literal)]
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>     [return:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> System.Xml.Serialization.XmlElementAttribute(IsNullable=true)]
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> If anyone can point me to a short tutorial for creating a web service
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> in Mono using an existing WSDL, or give me tips herre, I would appreciate
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> it.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Mono-aspnet-list mailing list
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Mono-aspnet-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">http://lists.ximian.com/mailman/listinfo/mono-aspnet-list</A>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> Mono-aspnet-list mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Mono-aspnet-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">http://lists.ximian.com/mailman/listinfo/mono-aspnet-list</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20100902/d923c5b8/attachment.html">http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20100902/d923c5b8/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000960.html">[Mono-aspnet-list] creating new web service from wsdl
</A></li>
	<LI>Next message: <A HREF="001423.html">[Mono-aspnet-list] R:  creating new web service from wsdl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#961">[ date ]</a>
              <a href="thread.html#961">[ thread ]</a>
              <a href="subject.html#961">[ subject ]</a>
              <a href="author.html#961">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
