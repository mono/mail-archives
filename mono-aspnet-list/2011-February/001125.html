<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] unintentional App_Data external access Apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20unintentional%20App_Data%20external%20access%20Apache&In-Reply-To=1297964920507-3311287.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001123.html">
   <LINK REL="Next"  HREF="001129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] unintentional App_Data external access Apache</H1>
    <B>japsai</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20unintentional%20App_Data%20external%20access%20Apache&In-Reply-To=1297964920507-3311287.post%40n4.nabble.com"
       TITLE="[Mono-aspnet-list] unintentional App_Data external access Apache">japsai at gmail.com
       </A><BR>
    <I>Thu Feb 17 14:50:14 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001123.html">[Mono-aspnet-list] unintentional App_Data external access Apache
</A></li>
        <LI>Next message: <A HREF="001129.html">[Mono-aspnet-list] web.config inheritance in child web application not working on Mono?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1125">[ date ]</a>
              <a href="thread.html#1125">[ thread ]</a>
              <a href="subject.html#1125">[ subject ]</a>
              <a href="author.html#1125">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Ok, I think I figured it out. Mono seems to bypass apache &lt;Directory&gt;
containers below the main mono &lt;Location&gt;.

I was able to restrict access with 

&lt;Location &quot;/myapp/App_Data&quot;&gt;
   Deny from all
&lt;/Location&gt;

But not with similar things in a &lt;Directory&gt; container. Note that the apache
documentation warns against using Location containers to restrict filesystem
access..

It might even be wise to put this for all &quot;App_*&quot; folders in the
Configuration tool, since users coming from windows might expect that access
to these folders is restricted by default, as it says in the ASP.NET
documentation, right?

It might also be to some mistake in my apache configuration, as I'm not
exactly a crack at that stuff.


japsai wrote:
&gt;<i> 
</I>&gt;<i> Hi All,
</I>&gt;<i> 
</I>&gt;<i> I deployed a simple web project with ASP.NET MVC on a server running
</I>&gt;<i> Ubuntu with Apache. 
</I>&gt;<i> 
</I>&gt;<i> I used the Apache Mono Configuration tool, for an &quot;Application&quot;/ virtual
</I>&gt;<i> directory: <A HREF="http://go-mono.com/config-mod-mono/.">http://go-mono.com/config-mod-mono/.</A>
</I>&gt;<i> 
</I>&gt;<i> However, surfing to mydomain.com/myapp/App_Data/mydatabase.db downloads my
</I>&gt;<i> database? 
</I>&gt;<i> 
</I>&gt;<i> www-data (the apache user) has read/write permissions on App_Data, which i
</I>&gt;<i> think is necessary..
</I>&gt;<i> 
</I>&gt;<i> How do I configure this so only the typical static files (i.e. in
</I>&gt;<i> /Content) can be downloaded?
</I>&gt;<i> 
</I>&gt;<i> Thanks for any help,
</I>&gt;<i> 
</I>&gt;<i> Jasper
</I>&gt;<i> 
</I>
-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/unintentional-App-Data-external-access-Apache-tp3311287p3311495.html">http://mono.1490590.n4.nabble.com/unintentional-App-Data-external-access-Apache-tp3311287p3311495.html</A>
Sent from the Mono - ASP.NET mailing list archive at Nabble.com.
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001123.html">[Mono-aspnet-list] unintentional App_Data external access Apache
</A></li>
	<LI>Next message: <A HREF="001129.html">[Mono-aspnet-list] web.config inheritance in child web application not working on Mono?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1125">[ date ]</a>
              <a href="thread.html#1125">[ thread ]</a>
              <a href="subject.html#1125">[ subject ]</a>
              <a href="author.html#1125">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
