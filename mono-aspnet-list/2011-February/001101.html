<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Bug With Default Index Files (MonoServerDefaultIndexFiles) and Pre-compiled Sites with Xsp2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Bug%20With%20Default%20Index%20Files%0A%20%28MonoServerDefaultIndexFiles%29%20and%20Pre-compiled%20Sites%20with%20Xsp2&In-Reply-To=iijndr%24e1g%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001099.html">
   <LINK REL="Next"  HREF="001100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Bug With Default Index Files (MonoServerDefaultIndexFiles) and Pre-compiled Sites with Xsp2</H1>
    <B>Dave Glick</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Bug%20With%20Default%20Index%20Files%0A%20%28MonoServerDefaultIndexFiles%29%20and%20Pre-compiled%20Sites%20with%20Xsp2&In-Reply-To=iijndr%24e1g%241%40dough.gmane.org"
       TITLE="[Mono-aspnet-list] Bug With Default Index Files (MonoServerDefaultIndexFiles) and Pre-compiled Sites with Xsp2">dglick at dracorp.com
       </A><BR>
    <I>Sat Feb  5 20:36:12 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001099.html">[Mono-aspnet-list] Bug With Default Index Files (MonoServerDefaultIndexFiles) and Pre-compiled Sites with Xsp2
</A></li>
        <LI>Next message: <A HREF="001100.html">[Mono-aspnet-list] Generated Ajax proxy for WCF service has no	operation methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1101">[ date ]</a>
              <a href="thread.html#1101">[ thread ]</a>
              <a href="subject.html#1101">[ subject ]</a>
              <a href="author.html#1101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert,

Thanks for the help - that was a good test idea. Sure enough, adding an empty Default.aspx file to the root (even a 0 kb one) caused the default index to work. I'll add this to the ticket I opened.

-Dave

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">mono-aspnet-list-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">mono-aspnet-list-bounces at lists.ximian.com</A>] On Behalf Of Robert Jordan
Sent: Saturday, February 05, 2011 9:39 AM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">mono-aspnet-list at lists.ximian.com</A>
Subject: Re: [Mono-aspnet-list] Bug With Default Index Files (MonoServerDefaultIndexFiles) and Pre-compiled Sites with Xsp2

Hi Dave,

On 05.02.2011 15:05, Dave Glick wrote:
&gt;&gt;<i> When I precompile my sites with MS.NET 3.5, all *.as?x files are kept 
</I>&gt;&gt;<i> in place with their content replaced with: &quot;This is a marker file 
</I>&gt;&gt;<i> generated by the precompilation tool, and should not be deleted!&quot; So 
</I>&gt;&gt;<i> they are actually physically existent, additionally to their 
</I>&gt;&gt;<i> precompiled form in the &quot;bin&quot; directory. Please explain how and with 
</I>&gt;&gt;<i> which tool/.NET version you're precompiling your site.
</I>&gt;<i>
</I>&gt;<i> Very interesting, there must be multiple ways to handle precompiled 
</I>&gt;<i> sites. I'm using Visual Studio 2008 with the official Web Deployment 
</I>&gt;<i> Projects addin in order to automate the build and deployment process.
</I>
I'm deploying using a Makefile and MS.NET's aspnet_compiler.exe.
Never used a Web Deployment addin.

&gt;<i> After a build, I only have two files in my root:
</I>&gt;<i> PrecompiledApp.config and web.config. The PrecompiledApp.config file 
</I>&gt;<i> has the following short content:
</I>&gt;<i>
</I>&gt;<i> &lt;precompiledApp version=&quot;2&quot; updatable=&quot;false&quot;/&gt;
</I>
Same here.

&gt;<i> In my /bin directory I have WebApp.dll (the name of my web application 
</I>&gt;<i> project), WebAppDeploy.dll (the name of my web deployment project), 
</I>&gt;<i> and a couple pagename.aspx.randomstuff.compiled files with
</I>
Same here except for &quot;WebAppDeploy.dll&quot;. I have only Web Applications w/out App_Code folders. Maybe this makes the difference.

&gt;<i> the content I mentioned earlier. That's it - no mirror of the 
</I>&gt;<i> precompiled files with placeholder text at the physical location.
</I>&gt;<i> This all works great in IIS and also in Xsp, except for the default 
</I>&gt;<i> index feature.
</I>
The placeholder *.as?x files are probably provided for web servers that require these files to exist to be able to route the request to the appropriate handler.

Maybe some older IIS version (6?) required this.

&gt;<i> This makes me think that the web framework must be able to handle a 
</I>&gt;<i> couple different cases when it comes to precompiled sites, so my 
</I>&gt;<i> original suggestion probably wouldn't work. In your scenario do you 
</I>&gt;<i> still end up with the *.compiled files in the /bin directory? There 
</I>&gt;<i> must be some way to query the framework for a list of cached 
</I>&gt;<i> precompiled page virtual paths...
</I>
I believe that the Web Deployment addin is simply deleting theses files because current Web server versions do not require them.

Try to create an empty Default.aspx (make it at least one byte large just to be sure). If it works, then XSP is the culprit because it is trying to access the file physically. Please report a bug in this case.

Robert

_______________________________________________
Mono-aspnet-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Mono-aspnet-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">http://lists.ximian.com/mailman/listinfo/mono-aspnet-list</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001099.html">[Mono-aspnet-list] Bug With Default Index Files (MonoServerDefaultIndexFiles) and Pre-compiled Sites with Xsp2
</A></li>
	<LI>Next message: <A HREF="001100.html">[Mono-aspnet-list] Generated Ajax proxy for WCF service has no	operation methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1101">[ date ]</a>
              <a href="thread.html#1101">[ thread ]</a>
              <a href="subject.html#1101">[ subject ]</a>
              <a href="author.html#1101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
