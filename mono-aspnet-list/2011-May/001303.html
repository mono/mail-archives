<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] .NET 3.5 webservice not working in Mono but works fine on ASP.NET server.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20.NET%203.5%20webservice%20not%20working%20in%20Mono%20but%0A%20works%20fine%20on%20ASP.NET%20server.&In-Reply-To=1306041330586-3541619.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001302.html">
   <LINK REL="Next"  HREF="001304.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] .NET 3.5 webservice not working in Mono but works fine on ASP.NET server.</H1>
    <B>The_Assimilator</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20.NET%203.5%20webservice%20not%20working%20in%20Mono%20but%0A%20works%20fine%20on%20ASP.NET%20server.&In-Reply-To=1306041330586-3541619.post%40n4.nabble.com"
       TITLE="[Mono-aspnet-list] .NET 3.5 webservice not working in Mono but works fine on ASP.NET server.">ian.kemp at gmail.com
       </A><BR>
    <I>Sun May 22 07:51:29 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001302.html">[Mono-aspnet-list] .NET 3.5 webservice not working in Mono but works fine on ASP.NET server.
</A></li>
        <LI>Next message: <A HREF="001304.html">[Mono-aspnet-list] .NET 3.5 webservice not working in Mono but works fine on ASP.NET server.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1303">[ date ]</a>
              <a href="thread.html#1303">[ thread ]</a>
              <a href="subject.html#1303">[ subject ]</a>
              <a href="author.html#1303">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Have you considered checking that service.Error is not null before 
trying to access its .Description property?

Also you should probably change your Hotmail password, since posting it 
to the Internet is... not a good idea.

------ Original Message ------
Subject: Re: [Mono-aspnet-list] .NET 3.5 webservice not working in Mono but
works fine on ASP.NET server.
Date: Sat, 21 May 2011 22:15:30 -0700 (PDT)
From: Travis959 &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Travis959 at hotmail.com</A>&gt;
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">mono-aspnet-list at lists.ximian.com</A>
&gt;<i> Travis959 wrote:
</I>&gt;&gt;<i> using System;
</I>&gt;&gt;<i> using System.Collections.Generic;
</I>&gt;&gt;<i> using System.Linq;
</I>&gt;&gt;<i> using System.Web;
</I>&gt;&gt;<i> using System.Web.Services;
</I>&gt;&gt;<i> using ar.com.indiesoftware.psnApi.USA;
</I>&gt;&gt;<i> using ar.com.indiesoftware.psnApi.Entities;
</I>&gt;&gt;<i> using System.Net;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ///&lt;summary&gt;
</I>&gt;&gt;<i> /// Summary description for PSN
</I>&gt;&gt;<i> ///&lt;/summary&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [WebService(Namespace = &quot;PSN Information&quot;)]
</I>&gt;&gt;<i> [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
</I>&gt;&gt;<i> // To allow this Web Service to be called from script, using ASP.NET AJAX,
</I>&gt;&gt;<i> uncomment the following line.
</I>&gt;&gt;<i> // [System.Web.Script.Services.ScriptService]
</I>&gt;&gt;<i> public class psn : System.Web.Services.WebService
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      public psn()
</I>&gt;&gt;<i>      {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      [WebMethod]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      public PSNId getPSNID(string sPSNID)
</I>&gt;&gt;<i>      {
</I>&gt;&gt;<i>          PSNServices service = new PSNServices();
</I>&gt;&gt;<i>          CookieContainer cookies = null;
</I>&gt;&gt;<i>          // get cookies from some cache or storage for fast access
</I>&gt;&gt;<i>          if (cookies == null) // we need to log to psn
</I>&gt;&gt;<i>          {
</I>&gt;&gt;<i>              if (service.SetIdentity(&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Travis959 at hotmail.com</A>&quot;, &quot;Mittycat1&quot;))
</I>&gt;&gt;<i>              {
</I>&gt;&gt;<i>                  cookies = service.Cookies;
</I>&gt;&gt;<i>                  // save cookies to a cache or storage for next use
</I>&gt;&gt;<i>                  PSNId id = service.GetPSNId(sPSNID, cookies);
</I>&gt;&gt;<i>                  return id;
</I>&gt;&gt;<i>              }
</I>&gt;&gt;<i>              else
</I>&gt;&gt;<i>              {
</I>&gt;&gt;<i>                  // get the error
</I>&gt;&gt;<i>                  string Error = service.Error.Description;
</I>&gt;&gt;<i>                  return null;
</I>&gt;&gt;<i>              }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          }
</I>&gt;&gt;<i>          else
</I>&gt;&gt;<i>          {
</I>&gt;&gt;<i>              // get the error
</I>&gt;&gt;<i>              string Error = service.Error.Description;
</I>&gt;&gt;<i>              return null;
</I>&gt;&gt;<i>          }
</I>&gt;&gt;<i>      }
</I>&gt;&gt;<i>      [WebMethod]
</I>&gt;&gt;<i>      public List&lt;Game&gt;  getGames(string sPSNID)
</I>&gt;&gt;<i>      {
</I>&gt;&gt;<i>          PSNServices service = new PSNServices();
</I>&gt;&gt;<i>          CookieContainer cookies = null;
</I>&gt;&gt;<i>          // get cookies from some cache or storage for fast access
</I>&gt;&gt;<i>          if (cookies == null) // we need to log to psn
</I>&gt;&gt;<i>          {
</I>&gt;&gt;<i>              if (service.SetIdentity(&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Travis959 at hotmail.com</A>&quot;, &quot;Mittycat1&quot;))
</I>&gt;&gt;<i>              {
</I>&gt;&gt;<i>                  cookies = service.Cookies;
</I>&gt;&gt;<i>                  // save cookies to a cache or storage for next use
</I>&gt;&gt;<i>                  List&lt;Game&gt;  games = service.GetGames(sPSNID, cookies);
</I>&gt;&gt;<i>                  return games;
</I>&gt;&gt;<i>              }
</I>&gt;&gt;<i>              else
</I>&gt;&gt;<i>              {
</I>&gt;&gt;<i>                  // get the error
</I>&gt;&gt;<i>                  string Error = service.Error.Description;
</I>&gt;&gt;<i>                  return null;
</I>&gt;&gt;<i>              }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          }
</I>&gt;&gt;<i>          else
</I>&gt;&gt;<i>          {
</I>&gt;&gt;<i>              // get the error
</I>&gt;&gt;<i>              string Error = service.Error.Description;
</I>&gt;&gt;<i>              return null;
</I>&gt;&gt;<i>          }
</I>&gt;&gt;<i>      }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> This is my psn.cs file that is included in the asmx. I'm still getting this
</I>&gt;<i> error everytime I attempt to run the asmx. Mostly the &quot;Object reference not
</I>&gt;<i> set to an instance of an object&quot; error.
</I>&gt;<i>
</I>&gt;<i> Is there anything in my script that prevents it from running on Mono?
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/NET-3-5-webservice-not-working-in-Mono-but-works-fine-on-ASP-NET-server-tp3537987p3541619.html">http://mono.1490590.n4.nabble.com/NET-3-5-webservice-not-working-in-Mono-but-works-fine-on-ASP-NET-server-tp3537987p3541619.html</A>
</I>&gt;<i> Sent from the Mono - ASP.NET mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-aspnet-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Mono-aspnet-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">http://lists.ximian.com/mailman/listinfo/mono-aspnet-list</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001302.html">[Mono-aspnet-list] .NET 3.5 webservice not working in Mono but works fine on ASP.NET server.
</A></li>
	<LI>Next message: <A HREF="001304.html">[Mono-aspnet-list] .NET 3.5 webservice not working in Mono but works fine on ASP.NET server.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1303">[ date ]</a>
              <a href="thread.html#1303">[ thread ]</a>
              <a href="subject.html#1303">[ subject ]</a>
              <a href="author.html#1303">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
