<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Globalization still not working in Mono 2.10
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Globalization%20still%20not%20working%20in%20Mono%202.10&In-Reply-To=ipv3v1%24gu9%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001274.html">
   <LINK REL="Next"  HREF="001268.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Globalization still not working in Mono 2.10</H1>
    <B>H .</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Globalization%20still%20not%20working%20in%20Mono%202.10&In-Reply-To=ipv3v1%24gu9%241%40dough.gmane.org"
       TITLE="[Mono-aspnet-list] Globalization still not working in Mono 2.10">test051102 at hotmail.com
       </A><BR>
    <I>Wed May 11 04:22:52 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001274.html">[Mono-aspnet-list] Globalization still not working in Mono 2.10
</A></li>
        <LI>Next message: <A HREF="001268.html">[Mono-aspnet-list] Problems with ASP.NET session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1283">[ date ]</a>
              <a href="thread.html#1283">[ thread ]</a>
              <a href="subject.html#1283">[ subject ]</a>
              <a href="author.html#1283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Robert,

your suggestion might help, but it is just a 
workaround and not a solution. FireFox (win32 and Linux) can open and 
display those files without any problems. So it should be assumed that 
Mono can do this as well. I do currently not understand how and where 
Mono changes static html files when they are beeing served.

I 
have done some more testings and found out the reason, why my other web 
applications are still producing encoding problems when beeing deployed 
on Mono. The problem is, that the code-behind files are in iso-8859-1 
format. After converting them to utf-8 format, everything is working as 
expected. Of course, this only applies when parts of the page are 
generated using code-behind code.

So, there are 2 unresoved problems left:

(1) Mono cannot display iso-8859-1 encoded html files
(2) Mono get's confused, when code-behind files are encoded in iso-8859-1 format

So
 for the current implementation of Mono it is strictly required to 
convert all text files of an ASP.NET application to the utf-8 format to 
prevent difficult to track down problems. It took me a lot of affort to 
find out this information.

If this is still not considered to be 
something that can be improved, it would be nice, if this information 
would be added to 
<A HREF="http://www.mono-project.com/Guide:_Porting_ASP.NET_Applications.">http://www.mono-project.com/Guide:_Porting_ASP.NET_Applications.</A>


Best regards,
Martin



&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">mono-aspnet-list at lists.ximian.com</A>
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">robertj at gmx.net</A>
</I>&gt;<i> Date: Thu, 5 May 2011 23:14:15 +0200
</I>&gt;<i> Subject: Re: [Mono-aspnet-list] Globalization still not working in Mono 2.10
</I>&gt;<i> 
</I>&gt;<i> On 05.05.2011 21:29, H . wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi Robert,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; thanks for the information. Yes, I am testing under Windows but I want to deploy my applications under Linux in the future. I have tested the following
</I>&gt;<i> &gt; &lt;globalization fileEncoding=&quot;iso-8859-1&quot; culture=&quot;de-DE&quot; uiCulture=&quot;de-DE&quot;/&gt;  section.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This is what I found out:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; fileEncoding=&quot;utf-8&quot;: Default.aspx must be utf-8, test.htm must be utf-8
</I>&gt;<i> &gt; fileEncoding=&quot;iso-8859-1&quot;: Default.aspx can be utf-8 or iso-8859-1, test.htm must be utf-8!?!
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/en-us/library/hy4kkhe0%28v=VS.80%29.aspx">http://msdn.microsoft.com/en-us/library/hy4kkhe0%28v=VS.80%29.aspx</A> says
</I>&gt;<i> that fileEncoding only applies to ASP.NET handlers. That's why test.htm
</I>&gt;<i> is unaffected by this setting.
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt; From the results I conclude the following:
</I>&gt;<i> &gt; Mono cannot display standard html files encoded in iso-8859-1. The problem for me is, that I have to display certain static html files from a database. These files' encodings are corrupted in Mono.
</I>&gt;<i> 
</I>&gt;<i> I took a look at Mono's code and it seems that static files are
</I>&gt;<i> indeed served as is, w/out any charset set etc. This seems to
</I>&gt;<i> match MS' docs:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/en-us/library/ms404287%28v=VS.80%29.aspx">http://msdn.microsoft.com/en-us/library/ms404287%28v=VS.80%29.aspx</A>
</I>&gt;<i> 
</I>&gt;<i> So try to add a meta header to these html files:
</I>&gt;<i> 
</I>&gt;<i> &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i> Robert
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-aspnet-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Mono-aspnet-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">http://lists.ximian.com/mailman/listinfo/mono-aspnet-list</A>
</I> 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20110511/ad5edbca/attachment.html">http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20110511/ad5edbca/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001274.html">[Mono-aspnet-list] Globalization still not working in Mono 2.10
</A></li>
	<LI>Next message: <A HREF="001268.html">[Mono-aspnet-list] Problems with ASP.NET session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1283">[ date ]</a>
              <a href="thread.html#1283">[ thread ]</a>
              <a href="subject.html#1283">[ subject ]</a>
              <a href="author.html#1283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
