<tt>
Looks&nbsp;like&nbsp;someone&nbsp;will&nbsp;have&nbsp;to&nbsp;look&nbsp;into&nbsp;System.Web.Caching.CacheItemPriorityQueue&lt;br&gt;As&nbsp;for&nbsp;me,&nbsp;I&nbsp;have&nbsp;migrated&nbsp;the&nbsp;system&nbsp;to&nbsp;the&nbsp;Windows&nbsp;environment.&nbsp;&lt;br&gt;&lt;br&gt;And&nbsp;for&nbsp;other&nbsp;projects&nbsp;we&nbsp;have&nbsp;that&nbsp;require&nbsp;Linux&nbsp;setup&nbsp;we&nbsp;are&nbsp;using&nbsp;the&nbsp;Java&nbsp;stack.&lt;br&gt;<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Mar&nbsp;25,&nbsp;2011&nbsp;at&nbsp;4:52&nbsp;PM,&nbsp;Dan&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:parnham@gmail.com&quot;&gt;parnham@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
We&amp;#39;re&nbsp;seeing&nbsp;this&nbsp;too,&nbsp;very&nbsp;intermittent&nbsp;and&nbsp;with&nbsp;no&nbsp;obvious&nbsp;source&nbsp;of&nbsp;the&lt;br&gt;<br>
problem&nbsp;but&nbsp;with&nbsp;the&nbsp;exact&nbsp;same&nbsp;stack&nbsp;trace&nbsp;reported&nbsp;here.&nbsp;This&nbsp;is&nbsp;a&nbsp;major&lt;br&gt;<br>
issue&nbsp;because&nbsp;we&nbsp;can&amp;#39;t&nbsp;push&nbsp;our&nbsp;new&nbsp;system&nbsp;into&nbsp;production&nbsp;with&nbsp;this&lt;br&gt;<br>
occurring.&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;has&nbsp;occurred&nbsp;with&nbsp;both&nbsp;mono/mod_mono&nbsp;2.8.1&nbsp;and&nbsp;2.10.1&nbsp;running&nbsp;with&lt;br&gt;<br>
apache2&nbsp;on&nbsp;an&nbsp;ubuntu&nbsp;system.&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;it&nbsp;is&nbsp;relevant&nbsp;to&nbsp;this&nbsp;problem,&lt;br&gt;<br>
but&nbsp;we&nbsp;are&nbsp;also&nbsp;using&nbsp;fluent&nbsp;nHibernate&nbsp;in&nbsp;our&nbsp;web&nbsp;application.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Dan&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Sergey&nbsp;Lobko-Lobanovsky&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;have&nbsp;an&nbsp;application&nbsp;in&nbsp;production&nbsp;that&nbsp;uses&nbsp;apache2&nbsp;+&nbsp;mod_mono&nbsp;+&nbsp;nginx&lt;br&gt;<br>
&amp;gt;&nbsp;setup.&nbsp;Approx.&nbsp;once&nbsp;per&nbsp;day&nbsp;apache&nbsp;hangs&nbsp;up&nbsp;and&nbsp;starts&nbsp;responding&nbsp;with&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;500&nbsp;response&nbsp;to&nbsp;all&nbsp;requests.&nbsp;I&nbsp;don&amp;#39;t&nbsp;have&nbsp;the&nbsp;stack&nbsp;trace&nbsp;but&nbsp;it&nbsp;has&nbsp;to&lt;br&gt;<br>
&amp;gt;&nbsp;do&lt;br&gt;<br>
&amp;gt;&nbsp;with&nbsp;caching&nbsp;session&nbsp;data.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Restarting&nbsp;apache&nbsp;solves&nbsp;the&nbsp;problem.&nbsp;Did&nbsp;anyone&nbsp;experience&nbsp;anything&nbsp;like&lt;br&gt;<br>
&amp;gt;&nbsp;this?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;And&nbsp;here&amp;#39;s&nbsp;the&nbsp;stack&nbsp;trace:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;System.IndexOutOfRangeException:&nbsp;Array&nbsp;index&nbsp;is&nbsp;out&nbsp;of&nbsp;range.&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;at&nbsp;(wrapper&nbsp;stelemref)&nbsp;object:stelemref&nbsp;(object,intptr,object)&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;at&nbsp;System.Web.Caching.CacheItemPriorityQueue.Enqueue&lt;br&gt;<br>
&amp;gt;&nbsp;(System.Web.Caching.CacheItem&nbsp;item)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;amp;lt;filename&lt;br&gt;<br>
&amp;gt;&nbsp;unknown&amp;amp;gt;:0&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;at&nbsp;System.Web.Caching.Cache.EnqueueTimedItem&lt;br&gt;<br>
&amp;gt;&nbsp;(System.Web.Caching.CacheItem&nbsp;item)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;amp;lt;filename&lt;br&gt;<br>
&amp;gt;&nbsp;unknown&amp;amp;gt;:0&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;at&nbsp;System.Web.Caching.Cache.SetItemTimeout&lt;br&gt;<br>
&amp;gt;&nbsp;(System.Web.Caching.CacheItem&nbsp;ci,&nbsp;DateTime&nbsp;absoluteExpiration,&lt;br&gt;<br>
&amp;gt;&nbsp;TimeSpan&nbsp;slidingExpiration,&lt;br&gt;<br>
&amp;gt;&nbsp;System.Web.Caching.CacheItemRemovedCallback&nbsp;onRemoveCallback,&lt;br&gt;<br>
&amp;gt;&nbsp;System.Web.Caching.CacheItemUpdateCallback&nbsp;onUpdateCallback,&lt;br&gt;<br>
&amp;gt;&nbsp;System.String&nbsp;key,&nbsp;Boolean&nbsp;doLock)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;amp;lt;filename&nbsp;unknown&amp;amp;gt;:0&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;at&nbsp;System.Web.Caching.Cache.Insert&nbsp;(System.String&nbsp;key,&nbsp;System.Object&lt;br&gt;<br>
&amp;gt;&nbsp;value,&nbsp;System.Web.Caching.CacheDependency&nbsp;dependencies,&nbsp;DateTime&lt;br&gt;<br>
&amp;gt;&nbsp;absoluteExpiration,&nbsp;TimeSpan&nbsp;slidingExpiration,&nbsp;CacheItemPriority&lt;br&gt;<br>
&amp;gt;&nbsp;priority,&nbsp;System.Web.Caching.CacheItemRemovedCallback&lt;br&gt;<br>
&amp;gt;&nbsp;onRemoveCallback,&nbsp;System.Web.Caching.CacheItemUpdateCallback&lt;br&gt;<br>
&amp;gt;&nbsp;onUpdateCallback,&nbsp;Boolean&nbsp;doLock)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;amp;lt;filename&nbsp;unknown&amp;amp;gt;:0&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;at&nbsp;System.Web.Caching.Cache.Insert&nbsp;(System.String&nbsp;key,&nbsp;System.Object&lt;br&gt;<br>
&amp;gt;&nbsp;value,&nbsp;System.Web.Caching.CacheDependency&nbsp;dependencies,&nbsp;DateTime&lt;br&gt;<br>
&amp;gt;&nbsp;absoluteExpiration,&nbsp;TimeSpan&nbsp;slidingExpiration,&nbsp;CacheItemPriority&lt;br&gt;<br>
&amp;gt;&nbsp;priority,&nbsp;System.Web.Caching.CacheItemRemovedCallback&lt;br&gt;<br>
&amp;gt;&nbsp;onRemoveCallback)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;amp;lt;filename&nbsp;unknown&amp;amp;gt;:0&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;at&nbsp;System.Web.SessionState.SessionInProcHandler.InsertSessionItem&lt;br&gt;<br>
&amp;gt;&nbsp;(System.Web.SessionState.InProcSessionItem&nbsp;item,&nbsp;Int32&nbsp;timeout,&lt;br&gt;<br>
&amp;gt;&nbsp;System.String&nbsp;id)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;amp;lt;filename&nbsp;unknown&amp;amp;gt;:0&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;at&lt;br&gt;<br>
&amp;gt;&nbsp;System.Web.SessionState.SessionInProcHandler.SetAndReleaseItemExclusive&lt;br&gt;<br>
&amp;gt;&nbsp;(System.Web.HttpContext&nbsp;context,&nbsp;System.String&nbsp;id,&lt;br&gt;<br>
&amp;gt;&nbsp;System.Web.SessionState.SessionStateStoreData&nbsp;item,&nbsp;System.Object&lt;br&gt;<br>
&amp;gt;&nbsp;lockId,&nbsp;Boolean&nbsp;newItem)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;amp;lt;filename&nbsp;unknown&amp;amp;gt;:0&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/issues-with-intermittent-apache-hangups-tp3264509p3405577.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://mono.1490590.n4.nabble.com/issues-with-intermittent-apache-hangups-tp3264509p3405577.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;&lt;a&nbsp;href=&quot;http://ASP.NET&quot;&nbsp;target=&quot;_blank&quot;&gt;ASP.NET&lt;/a&gt;&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-aspnet-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-aspnet-list@lists.ximian.com&quot;&gt;Mono-aspnet-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
