<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Tahoma<br>
}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;By&nbsp;debugging&nbsp;my&nbsp;test&nbsp;application<br>
described&nbsp;before.&nbsp;I&nbsp;found&nbsp;out,&nbsp;that&nbsp;the&nbsp;scenario&nbsp;can&nbsp;be&nbsp;simplified&nbsp;as<br>
follows:&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;ol&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Create&nbsp;an&nbsp;ASP.NET&nbsp;project&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Add&nbsp;an&nbsp;SqlDataSource&nbsp;to&nbsp;Default.aspx&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Set&nbsp;the&nbsp;ConnectionString&nbsp;property<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspto&nbsp;a&nbsp;valid&nbsp;network&nbsp;connection&nbsp;via&nbsp;an&nbsp;ODBC&nbsp;database&nbsp;driver&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;Do&nbsp;not&nbsp;define&nbsp;the&nbsp;SelectCommand<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspproperty<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;In&nbsp;&nbsp;Page_Load&nbsp;enter&nbsp;the&nbsp;following<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcode:&nbsp;&lt;font&nbsp;color=&quot;#2b91af&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;DataView&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdv=(&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;color=&quot;#2b91af&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;DataView&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;)SqlDataSource1.Select(&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;color=&quot;#2b91af&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;DataSourceSelectArguments&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;.Empty);&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;<br>
&lt;/li&gt;&lt;/ol&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;span&nbsp;style=&quot;font-style:normal&quot;&gt;The<br>
application&nbsp;displays&nbsp;the&nbsp;infamous&nbsp;error&nbsp;page&nbsp;starting&nbsp;with<br>
„&lt;/span&gt;&lt;em&gt;&lt;span&nbsp;style=&quot;font-style:normal&quot;&gt;ExecuteReader:<br>
CommandText&nbsp;is&nbsp;not&nbsp;set.“&nbsp;under&nbsp;Mono&nbsp;2.10.5&lt;/span&gt;&lt;/em&gt;&lt;em&gt;.&lt;/em&gt;&lt;em&gt;&lt;span&nbsp;style=&quot;font-style:normal&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:normal&quot;&gt;<br>
Under&nbsp;.Net&nbsp;is&nbsp;simply&nbsp;displays&nbsp;an&nbsp;empty&nbsp;page.&nbsp;The&nbsp;Select()&nbsp;method<br>
returns&nbsp;null&nbsp;in&nbsp;this&nbsp;case.&lt;/span&gt;&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;em&gt;&lt;span&nbsp;style=&quot;font-style:normal&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:normal&quot;&gt;What<br>
we&nbsp;can&nbsp;conclude&nbsp;from&nbsp;this,&nbsp;is&nbsp;that&nbsp;the&nbsp;root&nbsp;cause&nbsp;of&nbsp;the&nbsp;problem&nbsp;is<br>
actually&nbsp;located&nbsp;somewhere&nbsp;inside&nbsp;SqlDataSource&nbsp;and&nbsp;it's&nbsp;dependencies<br>
and&nbsp;not&nbsp;part&nbsp;of&nbsp;the&nbsp;DataBound&nbsp;controls.&lt;/span&gt;&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;em&gt;&lt;span&nbsp;style=&quot;font-style:normal&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:normal&quot;&gt;I<br>
think&nbsp;SqlDataSourceView.ExecuteSelect()&nbsp;would&nbsp;be&nbsp;a&nbsp;good&nbsp;place&nbsp;to<br>
check&nbsp;for&nbsp;the&nbsp;SelectCommand&nbsp;property.&nbsp;If&nbsp;it's&nbsp;empty&nbsp;the&nbsp;method&nbsp;should<br>
simply&nbsp;return&nbsp;null.&lt;/span&gt;&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;hr&nbsp;id=&quot;stopSpelling&quot;&gt;From:&nbsp;test051102@hotmail.com&lt;br&gt;To:&nbsp;mono-aspnet-list@lists.ximian.com&lt;br&gt;Date:&nbsp;Fri,&nbsp;16&nbsp;Sep&nbsp;2011&nbsp;13:44:30&nbsp;+0000&lt;br&gt;Subject:&nbsp;Re:&nbsp;[Mono-aspnet-list]&nbsp;GridView/&nbsp;Databinding&nbsp;bug&nbsp;in&nbsp;Mono&nbsp;2.10.5&lt;br&gt;&lt;br&gt;<br>
<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=unicode&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;SafeHTML&quot;&gt;<br>
&lt;style&gt;<br>
.ExternalClass&nbsp;.ecxhmmessage&nbsp;P<br>
{padding:0px;}<br>
.ExternalClass&nbsp;body.ecxhmmessage<br>
{font-size:10pt;font-family:Tahoma;}<br>
<br>
&lt;/style&gt;<br>
<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;<br>
By&nbsp;inspecting/&nbsp;debugging&nbsp;the&nbsp;class&nbsp;library&nbsp;I&nbsp;think&nbsp;there&nbsp;might&nbsp;be&nbsp;a&nbsp;problem&nbsp;in&nbsp;DataBoundControl.OnPagePreLoad()&nbsp;which&nbsp;calls&nbsp;DataBoundControl.Initialize().&nbsp;The&nbsp;comment&nbsp;in&nbsp;the&nbsp;code&nbsp;says&lt;br&gt;that&nbsp;the&nbsp;DataBoundControl.RequiresDataBinding&nbsp;property&nbsp;should&nbsp;be&nbsp;set&nbsp;to&nbsp;true&nbsp;in&nbsp;cases&nbsp;where&nbsp;the&nbsp;HTTP&nbsp;request&nbsp;is&nbsp;not&nbsp;a&nbsp;postback&nbsp;or&nbsp;it&nbsp;is&nbsp;a&nbsp;postback&nbsp;and&nbsp;view&nbsp;state&nbsp;is&nbsp;enabled&nbsp;but&nbsp;the&nbsp;data-bound&nbsp;control&nbsp;has&nbsp;not&nbsp;yet&nbsp;been&nbsp;bound.&nbsp;This&nbsp;is&nbsp;wrong&nbsp;because&nbsp;it&nbsp;does&nbsp;not&nbsp;consider&nbsp;the&nbsp;SelectCommand&nbsp;property&nbsp;of&nbsp;the&nbsp;SqlDataSource.&nbsp;If&nbsp;this&nbsp;property&nbsp;has&nbsp;not&nbsp;been&nbsp;defined,&nbsp;data&nbsp;binding&nbsp;must&nbsp;not&nbsp;take&nbsp;place.&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;hr&nbsp;id=&quot;ecxstopSpelling&quot;&gt;From:&nbsp;test051102@hotmail.com&lt;br&gt;To:&nbsp;mono-aspnet-list@lists.ximian.com&lt;br&gt;Date:&nbsp;Fri,&nbsp;16&nbsp;Sep&nbsp;2011&nbsp;13:34:37&nbsp;+0000&lt;br&gt;Subject:&nbsp;[Mono-aspnet-list]&nbsp;GridView/&nbsp;Databinding&nbsp;bug&nbsp;in&nbsp;Mono&nbsp;2.10.5&lt;br&gt;&lt;br&gt;<br>
<br>
<br>
<br>
&lt;style&gt;<br>
.ExternalClass&nbsp;.ecxhmmessage&nbsp;P<br>
{padding:0px;}<br>
.ExternalClass&nbsp;body.ecxhmmessage<br>
{font-size:10pt;font-family:Tahoma;}<br>
&lt;/style&gt;<br>
<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Databinding&nbsp;in&nbsp;Mono&nbsp;is&nbsp;different<br>
compared&nbsp;to&nbsp;.Net&nbsp;Framework.&nbsp;I&nbsp;have&nbsp;observed&nbsp;this&nbsp;within&nbsp;a&nbsp;complex&nbsp;web<br>
application.&nbsp;Below&nbsp;you&nbsp;will&nbsp;find&nbsp;the&nbsp;steps&nbsp;to&nbsp;create&nbsp;a&nbsp;small&nbsp;example<br>
web&nbsp;app&nbsp;that&nbsp;demonstrates&nbsp;the&nbsp;issue:&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;ol&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Create&nbsp;an&nbsp;ASP.NET&nbsp;project&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Add&nbsp;a&nbsp;GridView&nbsp;to&nbsp;Default.aspx&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Add&nbsp;an&nbsp;SqlDataSource&nbsp;to<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspDefault.aspx&nbsp;and&nbsp;connect&nbsp;it&nbsp;to&nbsp;the&nbsp;GridView&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Set&nbsp;the&nbsp;ConnectionString&nbsp;property<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspto&nbsp;a&nbsp;valid&nbsp;network&nbsp;connection&nbsp;via&nbsp;an&nbsp;ODBC&nbsp;database&nbsp;driver&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Do&nbsp;not&nbsp;define&nbsp;the&nbsp;SelectCommand<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspproperty&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Add&nbsp;an&nbsp;event&nbsp;handler<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspSqlDataSource1_Selecting()&nbsp;which&nbsp;should&nbsp;be&nbsp;called&nbsp;whenever&nbsp;a<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdatabindung&nbsp;operation&nbsp;ocurrs.&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Put&nbsp;a&nbsp;breakpoint&nbsp;in<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspSqlDataSource1_Selecting()&nbsp;to&nbsp;verify&nbsp;if&nbsp;databinding&nbsp;takes&nbsp;place&lt;/p&gt;<br>
&lt;/li&gt;&lt;/ol&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;If&nbsp;you&nbsp;run&nbsp;the&nbsp;application&nbsp;in&nbsp;Visual<br>
Studio,&nbsp;you&nbsp;will&nbsp;notice&nbsp;that&nbsp;SqlDataSource1_Selecting()&nbsp;is&nbsp;never<br>
called.&nbsp;But&nbsp;if&nbsp;you&nbsp;run&nbsp;the&nbsp;application&nbsp;in&nbsp;Mono&nbsp;2.10.5<br>
SqlDataSource1_Selecting()&nbsp;is&nbsp;called&nbsp;which&nbsp;will&nbsp;result&nbsp;in&nbsp;an<br>
exception&nbsp;because&nbsp;the&nbsp;SelectCommand&nbsp;property&nbsp;is&nbsp;actually&nbsp;not&nbsp;defined.&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;It&nbsp;is&nbsp;common&nbsp;practice&nbsp;not&nbsp;to&nbsp;define&nbsp;the<br>
SelectCommand&nbsp;property&nbsp;within&nbsp;the&nbsp;.aspx&nbsp;file&nbsp;but&nbsp;rather&nbsp;calulate&nbsp;the<br>
actual&nbsp;query&nbsp;string&nbsp;within&nbsp;the&nbsp;code&nbsp;behind.&nbsp;Defineing&nbsp;the<br>
SelectCommand&nbsp;property&nbsp;within&nbsp;the&nbsp;.aspx&nbsp;file&nbsp;requires&nbsp;the&nbsp;use&nbsp;of&nbsp;ODBC<br>
parameters.&nbsp;However,&nbsp;Mono&nbsp;does&nbsp;currently&nbsp;not&nbsp;support&nbsp;this&nbsp;(see&nbsp;bug<br>
#694047&nbsp;-&amp;gt;&nbsp;reported&nbsp;4&nbsp;months&nbsp;ago&nbsp;but&nbsp;not&nbsp;resolved&nbsp;yet).&nbsp;As&nbsp;a&nbsp;result&nbsp;we&nbsp;are&nbsp;forced&nbsp;to&nbsp;use&nbsp;the&nbsp;code&nbsp;behind&nbsp;method&nbsp;in<br>
Mono&nbsp;if&nbsp;we&nbsp;need&nbsp;to&nbsp;access&nbsp;a&nbsp;database&nbsp;via&nbsp;ODBC.&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Best&nbsp;regards,&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-bottom:0cm&quot;&gt;Martin&lt;br&gt;&lt;/p&gt;<br>
&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________<br>
Mono-aspnet-list&nbsp;mailing&nbsp;list<br>
Mono-aspnet-list@lists.ximian.com<br>
http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&lt;/div&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________<br>
Mono-aspnet-list&nbsp;mailing&nbsp;list<br>
Mono-aspnet-list@lists.ximian.com<br>
http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&lt;/div&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
