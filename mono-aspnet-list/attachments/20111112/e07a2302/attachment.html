<tt>
Hi,&nbsp;I&nbsp;have&nbsp;installed&nbsp;and&nbsp;am&nbsp;now&nbsp;running&nbsp;apache2&nbsp;with&nbsp;mod_mono.&nbsp;However,&nbsp;it&nbsp;still&nbsp;seems&nbsp;that&nbsp;Application_End&nbsp;is&nbsp;not&nbsp;being&nbsp;called&nbsp;when&nbsp;I&nbsp;stop&nbsp;the&nbsp;server,&nbsp;or&nbsp;even&nbsp;when&nbsp;I&nbsp;choose&nbsp;to&nbsp;restart&nbsp;it&nbsp;from&nbsp;the&nbsp;panel&nbsp;(the&nbsp;panel&nbsp;from&nbsp;the&nbsp;docs).&lt;br&gt;<br>
&lt;br&gt;Am&nbsp;I&nbsp;doing&nbsp;something&nbsp;wrong&nbsp;or&nbsp;is&nbsp;this&nbsp;really&nbsp;the&nbsp;behavior&nbsp;of&nbsp;.NET?&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Nov&nbsp;12,&nbsp;2011&nbsp;at&nbsp;5:18&nbsp;PM,&nbsp;Jesse&nbsp;Pasichnyk&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jesse@pasichnyk.net&quot;&gt;jesse@pasichnyk.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-family:Calibri,sans-serif;font-size:11pt&quot;&gt;The&nbsp;mod_mono&nbsp;created&nbsp;process&nbsp;will&nbsp;recycle&nbsp;once&nbsp;you&nbsp;update&nbsp;the&nbsp;files,&nbsp;which&nbsp;will&nbsp;cause&nbsp;the&nbsp;loading&nbsp;process&nbsp;to&nbsp;hang&nbsp;slightly&nbsp;he&nbsp;first&nbsp;time&nbsp;its&nbsp;hit&nbsp;to&nbsp;load&nbsp;the&nbsp;application&nbsp;back&nbsp;up. &nbsp;Same&nbsp;process&nbsp;occurs&nbsp;on&nbsp;IIS&nbsp;hosted&nbsp;.net&nbsp;apps.&lt;br&gt;<br>
&lt;br&gt;For&nbsp;stopping&nbsp;it,&nbsp;look&nbsp;at&nbsp;the&nbsp;mono&nbsp;control&nbsp;panel&nbsp;documentation&nbsp;for&nbsp;mod_mono.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;hr&gt;&lt;span&nbsp;style=&quot;font-family:Tahoma,sans-serif;font-size:10pt;font-weight:bold&quot;&gt;From:&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:Tahoma,sans-serif;font-size:10pt&quot;&gt;Marcelo&nbsp;Zabani&lt;/span&gt;&lt;br&gt;<br>
&lt;span&nbsp;style=&quot;font-family:Tahoma,sans-serif;font-size:10pt;font-weight:bold&quot;&gt;Sent:&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:Tahoma,sans-serif;font-size:10pt&quot;&gt;11/12/2011&nbsp;10:14&nbsp;AM&lt;/span&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:Tahoma,sans-serif;font-size:10pt;font-weight:bold&quot;&gt;To:&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:Tahoma,sans-serif;font-size:10pt&quot;&gt;&lt;a&nbsp;href=&quot;mailto:mono-aspnet-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mono-aspnet-list@lists.ximian.com&lt;/a&gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;span&nbsp;style=&quot;font-family:Tahoma,sans-serif;font-size:10pt;font-weight:bold&quot;&gt;Subject:&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:Tahoma,sans-serif;font-size:10pt&quot;&gt;Re:&nbsp;[Mono-aspnet-list]&nbsp;Stopping&nbsp;fastcgi-mono-server&nbsp;gracefully&nbsp;andwebsite&nbsp;content&nbsp;updating&nbsp;with&nbsp;no&nbsp;need&nbsp;of&nbsp;restarting&nbsp;it&lt;/span&gt;&lt;br&gt;<br>
&lt;br&gt;Thank&nbsp;you&nbsp;very&nbsp;much&nbsp;for&nbsp;your&nbsp;answers.&nbsp;I&nbsp;will&nbsp;switch&nbsp;to&nbsp;Apache&nbsp;+&nbsp;mod_mono&nbsp;right&nbsp;now!&lt;br&gt;However,&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;ask&nbsp;the&nbsp;same&nbsp;questions&nbsp;(the&nbsp;first,&nbsp;second&nbsp;and&nbsp;third)&nbsp;again,&nbsp;this&nbsp;time&nbsp;regarding&nbsp;apache+mod_mono.&lt;br&gt;&lt;br&gt;Thank&nbsp;you&nbsp;very&nbsp;much.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Nov&nbsp;12,&nbsp;2011&nbsp;at&nbsp;10:47&nbsp;AM,&nbsp;Robert&nbsp;Jordan&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:robertj@gmx.net&quot;&nbsp;target=&quot;_blank&quot;&gt;robertj@gmx.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;padding-left:1ex;border-left-color:rgb(204,&nbsp;204,&nbsp;204);border-left-width:1px;border-left-style:solid&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
<br>
On&nbsp;12.11.2011&nbsp;06:05,&nbsp;Marcelo&nbsp;Zabani&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;1.&nbsp;Can&nbsp;I&nbsp;update&nbsp;the&nbsp;contents&nbsp;of&nbsp;my&nbsp;website&nbsp;(dll&amp;#39;s,&nbsp;for&nbsp;instance)&nbsp;without&lt;br&gt;<br>
&lt;div&gt;&amp;gt;&nbsp; &nbsp; &nbsp;having&nbsp;to&nbsp;restart&nbsp;the&nbsp;fastcgi&nbsp;process?&nbsp;Is&nbsp;there&nbsp;a&nbsp;possibility&nbsp;of&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;momentaneous&nbsp;failure&nbsp;for&nbsp;my&nbsp;visitors&nbsp;when&nbsp;I&amp;#39;m&nbsp;doing&nbsp;that?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;The&nbsp;web&nbsp;app&nbsp;should&nbsp;restart&nbsp;(by&nbsp;recycling&nbsp;the&nbsp;appdomain)&nbsp;whenever&lt;br&gt;<br>
it&nbsp;detects&nbsp;that&nbsp;one&nbsp;of&nbsp;its&nbsp;dependencies&nbsp;has&nbsp;changed.&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;2.&nbsp;How&nbsp;can&nbsp;I&nbsp;gracefully&nbsp;stop&nbsp;fastcgi-mono-server?&nbsp;I&nbsp;took&nbsp;the&lt;br&gt;<br>
&lt;div&gt;&amp;gt;&nbsp; &nbsp; &nbsp;initialization&nbsp;script&nbsp;from&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;http://yojimbo87.github.com/2010/03/14/mono-startup-script.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://yojimbo87.github.com/2010/03/14/mono-startup-script.html&lt;/a&gt;&nbsp;as&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;basis,&nbsp;but&nbsp;it&nbsp;just&nbsp;kills&nbsp;(sends&nbsp;SIGTERM)&nbsp;the&nbsp;fastcgi-mono-server&nbsp;process,&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;not&nbsp;calling&nbsp;Application_End&nbsp;in&nbsp;Global.asax&nbsp;(and&nbsp;that&nbsp;is&nbsp;what&nbsp;I&nbsp;mean&nbsp;by&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;ungraceful&nbsp;shutdown).&nbsp;SIGHUP&nbsp;won&amp;#39;t&nbsp;work&nbsp;either&nbsp;(though&nbsp;it&nbsp;also&nbsp;kills&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;server)&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Currently,&nbsp;there&nbsp;is&nbsp;no&nbsp;way&nbsp;to&nbsp;shutdown&nbsp;a&nbsp;fastcgi-mono-server&lt;br&gt;<br>
process&nbsp;gracefully.&lt;br&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Also,&nbsp;I&nbsp;can&amp;#39;t&nbsp;find&nbsp;a&nbsp;page&nbsp;to&nbsp;follow&nbsp;the&nbsp;news&nbsp;or&nbsp;the&nbsp;state&nbsp;of&lt;br&gt;<br>
&amp;gt;&nbsp;fastcgi-mono-server,&nbsp;the&nbsp;only&nbsp;references&nbsp;I&nbsp;have&nbsp;taught&nbsp;me&nbsp;how&nbsp;to&nbsp;set&nbsp;up&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;server&nbsp;and&nbsp;the&nbsp;basic&nbsp;workings&nbsp;of&nbsp;it,&nbsp;but&nbsp;I&nbsp;have&nbsp;NO&nbsp;IDEA&nbsp;where&nbsp;to&nbsp;look&nbsp;for&lt;br&gt;<br>
&amp;gt;&nbsp;new&nbsp;versions&nbsp;and&nbsp;changelogs&nbsp;(or&nbsp;even&nbsp;a&nbsp;download&nbsp;page,&nbsp;so&nbsp;far&nbsp;I&amp;#39;ve&nbsp;been&lt;br&gt;<br>
&amp;gt;&nbsp;using&nbsp;portage&nbsp;to&nbsp;install&nbsp;the&nbsp;xsp&nbsp;package,&nbsp;which&nbsp;comes&nbsp;with&lt;br&gt;<br>
&amp;gt;&nbsp;fastcgi-mono-server).&nbsp;I&nbsp;found&nbsp;&lt;a&nbsp;href=&quot;http://kerrick.wordpress.com/2007/08/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://kerrick.wordpress.com/2007/08/&lt;/a&gt;&nbsp;but&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;last&nbsp;post&nbsp;on&nbsp;fastcgi-mono-server&nbsp;is&nbsp;so&nbsp;old&nbsp;that&nbsp;it&nbsp;scares&nbsp;me.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;fastcgi-mono-server&nbsp;is&nbsp;basically&nbsp;unmaintained.&nbsp;It&nbsp;has&nbsp;received&lt;br&gt;<br>
some&nbsp;patches&nbsp;during&nbsp;the&nbsp;last&nbsp;years,&nbsp;but&nbsp;these&nbsp;documentations&lt;br&gt;<br>
and&nbsp;articles&nbsp;still&nbsp;apply.&lt;br&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;If&nbsp;I&nbsp;may&nbsp;ask&nbsp;one&nbsp;last&nbsp;question,&nbsp;how&nbsp;can&nbsp;I&nbsp;run&nbsp;fastcgi-mono-server&nbsp;as&nbsp;an&lt;br&gt;<br>
&amp;gt;&nbsp;unprivileged&nbsp;user?&nbsp;I&amp;#39;m&nbsp;afraid&nbsp;to&nbsp;try&nbsp;to&nbsp;setuid&nbsp;the&nbsp;process,&nbsp;since&nbsp;I&amp;#39;m&nbsp;not&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Well,&nbsp;simply&nbsp;don&amp;#39;t&nbsp;run&nbsp;it&nbsp;as&nbsp;root.&lt;br&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;quite&nbsp;sure&nbsp;if&nbsp;mono&nbsp;will&nbsp;respect&nbsp;the&nbsp;setuid&nbsp;flag&nbsp;(haven&amp;#39;t&nbsp;tried&nbsp;it&nbsp;yet)&nbsp;and&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;It&nbsp;will&nbsp;not.&nbsp;fastcgi-mono-server&nbsp;is&nbsp;just&nbsp;a&nbsp;script&nbsp;that&nbsp;won&amp;#39;t&nbsp;pay&lt;br&gt;<br>
attention&nbsp;to&nbsp;setuid.&lt;br&gt;<br>
&lt;br&gt;<br>
Robert&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-aspnet-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-aspnet-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Mono-aspnet-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&lt;/a&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Marcelo&nbsp;Zabani&lt;br&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Marcelo&nbsp;Zabani&lt;br&gt;(19)&nbsp;9341-0221&lt;br&gt;&lt;br&gt;<br>

</tt>
