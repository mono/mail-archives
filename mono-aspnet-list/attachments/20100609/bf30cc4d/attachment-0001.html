<tt>
&lt;html&gt;<br>
&lt;body&gt;<br>
Maybe&nbsp;I&nbsp;need&nbsp;a&nbsp;third&nbsp;party&nbsp;library?&lt;br&gt;&lt;br&gt;<br>
At&nbsp;11.39&nbsp;07/06/2010,&nbsp;you&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;type=cite&nbsp;class=cite&nbsp;cite=&quot;&quot;&gt;A&nbsp;step&nbsp;ahead,&nbsp;maybe&nbsp;is&nbsp;useful<br>
for&nbsp;someone&nbsp;else.&lt;br&gt;<br>
I&nbsp;found&nbsp;that&nbsp;the&nbsp;connection&nbsp;refused&nbsp;was&nbsp;due&nbsp;to&nbsp;the&nbsp;fact&nbsp;that&nbsp;smtpmail<br>
does&nbsp;not&nbsp;read&nbsp;the&nbsp;field&nbsp;&lt;tt&gt;&amp;quot;<br>
&lt;a&nbsp;href=&quot;http://schemas.microsoft.com/cdo/configuration/smtpserver&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://schemas.microsoft.com/cdo/configuration/smtpserver&lt;/a&gt;&amp;quot;<br>
&lt;/tt&gt;but&nbsp;it&nbsp;uses&nbsp;only&nbsp;the&nbsp;SmtpMail.SmtpServer&nbsp;property&nbsp;to&nbsp;set&nbsp;the&nbsp;server<br>
so&nbsp;my&nbsp;old&nbsp;code&nbsp;always&nbsp;connect&nbsp;to&nbsp;localhost.&lt;br&gt;<br>
Fixed&nbsp;that&nbsp;I've&nbsp;the&nbsp;same&nbsp;behavior&nbsp;in&nbsp;system.web.mail&nbsp;and&nbsp;system.net.mail,<br>
the&nbsp;connection&nbsp;to&nbsp;465&nbsp;is&nbsp;made&nbsp;but&nbsp;it&nbsp;waits&nbsp;indefinitely,&nbsp;I've&nbsp;to&nbsp;restart<br>
apache;&nbsp;connection&nbsp;to&nbsp;587&nbsp;complains&nbsp;about&nbsp;the&nbsp;certificate&nbsp;so&nbsp;I&nbsp;need&nbsp;to<br>
update&nbsp;system.security.&nbsp;&lt;br&gt;&lt;br&gt;<br>
I&nbsp;thought&nbsp;that&nbsp;the&nbsp;connection&nbsp;to&nbsp;465&nbsp;fails&nbsp;in&nbsp;MS.NET&nbsp;because&nbsp;it&nbsp;only<br>
supports&nbsp;the&nbsp;mode&nbsp;where&nbsp;&amp;quot;the&nbsp;SMTP&nbsp;session&nbsp;begins&nbsp;on&nbsp;an&nbsp;unencrypted<br>
channel,&nbsp;then&nbsp;a&nbsp;STARTTLS&nbsp;command&nbsp;is&nbsp;issued&nbsp;by&nbsp;the&nbsp;client&nbsp;to&nbsp;the&nbsp;server&nbsp;to<br>
switch&nbsp;to&nbsp;secure&nbsp;communication&nbsp;using&nbsp;SSL.&amp;quot;.&nbsp;&lt;br&gt;<br>
I'm&nbsp;investigating&nbsp;about&nbsp;the&nbsp;server&nbsp;but&nbsp;if&nbsp;the&nbsp;server&nbsp;only&nbsp;accept&nbsp;implicit<br>
SSL&nbsp;(the&nbsp;second&nbsp;one)&nbsp;in&nbsp;MS.NET&nbsp;I've&nbsp;the&nbsp;possibility&nbsp;to&nbsp;use<br>
system.web.mail,&nbsp;in&nbsp;Mono&nbsp;it&nbsp;seems&nbsp;that&nbsp;I've&nbsp;no&nbsp;chance.&nbsp;There's&nbsp;some<br>
workaround?&lt;br&gt;&lt;br&gt;<br>
At&nbsp;15.05&nbsp;04/06/2010,&nbsp;you&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;type=cite&nbsp;class=cite&nbsp;cite=&quot;&quot;&gt;On&nbsp;04.06.2010&nbsp;14:43,&nbsp;APS<br>
wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;So&nbsp;we&nbsp;are&nbsp;back&nbsp;at&nbsp;the&nbsp;beginning.&nbsp;How&nbsp;can&nbsp;I&nbsp;debug&nbsp;traffic&nbsp;to&nbsp;see<br>
which&lt;br&gt;<br>
&amp;gt;&nbsp;connection&nbsp;to&nbsp;which&nbsp;ip&nbsp;and&nbsp;port&nbsp;is&nbsp;made?&lt;br&gt;&lt;br&gt;<br>
This&nbsp;was&nbsp;solely&nbsp;your&nbsp;choice.&nbsp;No&nbsp;one&nbsp;is&nbsp;using&nbsp;System.Web.Mail&lt;br&gt;<br>
nowadays,&nbsp;but&nbsp;if&nbsp;you&nbsp;feel&nbsp;like&nbsp;wanting&nbsp;to&nbsp;use&nbsp;code&nbsp;that&nbsp;was&nbsp;last&lt;br&gt;<br>
modified&nbsp;at&nbsp;2007-12-13,&nbsp;go&nbsp;for&nbsp;it.&lt;br&gt;&lt;br&gt;<br>
The&nbsp;usual&nbsp;suspects&nbsp;when&nbsp;it&nbsp;comes&nbsp;to&nbsp;traffic&nbsp;monitoring&nbsp;are&lt;br&gt;&lt;br&gt;<br>
tcpdump&lt;br&gt;<br>
wireshark&lt;br&gt;<br>
netstat&lt;br&gt;&lt;br&gt;<br>
Good&nbsp;luck!&lt;br&gt;&lt;br&gt;<br>
Robert&lt;br&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;At&nbsp;12.49&nbsp;04/06/2010,&nbsp;you&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;On&nbsp;04.06.2010&nbsp;12:36,&nbsp;APS&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;Ok,&nbsp;gmail&nbsp;is&nbsp;only&nbsp;for&nbsp;testing&nbsp;and&nbsp;need&nbsp;to&nbsp;use&nbsp;another&nbsp;server<br>
that&nbsp;I&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;omitted&nbsp;to&nbsp;be&nbsp;more&nbsp;&amp;quot;international&amp;quot;,&nbsp;the&nbsp;real<br>
server&nbsp;is&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;sendm.cert.legalmail.it,&nbsp;how&nbsp;can&nbsp;I&nbsp;understand&nbsp;if&nbsp;it&nbsp;use&nbsp;the<br>
same&nbsp;new&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;type&nbsp;of&nbsp;certificate?&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;With&nbsp;the&nbsp;old&nbsp;system.security&nbsp;and&nbsp;new&nbsp;certificate&nbsp;I&nbsp;should<br>
obtain&nbsp;a&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;connection&nbsp;refused?&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;quot;Connection&nbsp;refused&amp;quot;&nbsp;usually&nbsp;means&nbsp;that&nbsp;you're<br>
connecting&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;to&nbsp;the&nbsp;wrong&nbsp;port.&nbsp;This&nbsp;is&nbsp;independent&nbsp;of&nbsp;Mono.Security&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;or&nbsp;the&nbsp;mailer&nbsp;variant&nbsp;(supposing&nbsp;that&nbsp;they&nbsp;are&nbsp;bug&nbsp;free).&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Robert&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Mono-aspnet-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Mono-aspnet-list@lists.ximian.com&lt;br&gt;<br>
&amp;gt;&amp;gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;--&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Il&nbsp;messaggio&nbsp;e'&nbsp;stato&nbsp;analizzato&nbsp;alla&nbsp;ricerca&nbsp;di&nbsp;virus&nbsp;o&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;contenuti&nbsp;pericolosi&nbsp;da&nbsp;MailScanner,&nbsp;ed&nbsp;e'&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;risultato&nbsp;non&nbsp;infetto.&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-aspnet-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
Mono-aspnet-list@lists.ximian.com&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&lt;/a&gt;&lt;br&gt;&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Il&nbsp;messaggio&nbsp;e'&nbsp;stato&nbsp;analizzato&nbsp;alla&nbsp;ricerca&nbsp;di&nbsp;virus&nbsp;o&lt;br&gt;<br>
contenuti&nbsp;pericolosi&nbsp;da&nbsp;MailScanner,&nbsp;ed&nbsp;e'&lt;br&gt;<br>
risultato&nbsp;non&nbsp;infetto.&lt;/blockquote&gt;&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Il&nbsp;messaggio&nbsp;e'&nbsp;stato&nbsp;analizzato&nbsp;alla&nbsp;ricerca&nbsp;di&nbsp;virus&nbsp;o&nbsp;&lt;br&gt;<br>
contenuti&nbsp;pericolosi&nbsp;da<br>
&lt;a&nbsp;href=&quot;http://www.mailscanner.info/&quot;&gt;&lt;b&gt;MailScanner&lt;/a&gt;&lt;/b&gt;,&nbsp;ed&nbsp;e'<br>
&lt;br&gt;<br>
risultato&nbsp;non&nbsp;infetto.&nbsp;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-aspnet-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
Mono-aspnet-list@lists.ximian.com&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://lists.ximian.com/mailman/listinfo/mono-aspnet-list&lt;/a&gt;&lt;/blockquote&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
