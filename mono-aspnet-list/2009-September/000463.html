<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] FastCgi Mono Server and Apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20FastCgi%20Mono%20Server%20and%20Apache&In-Reply-To=4AB1EB86.506%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000459.html">
   <LINK REL="Next"  HREF="000464.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] FastCgi Mono Server and Apache</H1>
    <B>loopedcode</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20FastCgi%20Mono%20Server%20and%20Apache&In-Reply-To=4AB1EB86.506%40gmail.com"
       TITLE="[Mono-aspnet-list] FastCgi Mono Server and Apache">bdkid39 at hotmail.com
       </A><BR>
    <I>Sat Sep 19 14:54:47 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000459.html">[Mono-aspnet-list] FastCgi Mono Server and Apache
</A></li>
        <LI>Next message: <A HREF="000464.html">[Mono-aspnet-list] FastCgi Mono Server and Apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#463">[ date ]</a>
              <a href="thread.html#463">[ thread ]</a>
              <a href="subject.html#463">[ subject ]</a>
              <a href="author.html#463">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Thanks Kornel. 
I got it working after I reverted back to original settings with some
corrections in directory suggested in <A HREF="http://www.mono-project.com/CGI.">http://www.mono-project.com/CGI.</A>

The problem was the path in applications configuration; I fixed it to:
/applications=/aspnet:/home/user1/public_html/aspnet

I had a directory called &quot;aspnet&quot; from my apache http root. I  incorrectly I
had my applications path set to:
/applications=/:/home/user1/public_html/aspnet. 

Anyway, for reference; here is my settings:
/home/user1/mono-fcgi file
#!/bin/sh
umask 0077
chmod 0700 /home/user1/tmp/mono-fcgi.sock
# stdin is the socket handle
exec env -i \
PATH=&quot;/usr/local/bin:$PATH&quot; \
LD_LIBRARY_PATH=&quot;/usr/local/lib:$LD_LIBRARY_PATH&quot; \
TMP=&quot;/home/user1/tmp&quot; \
MONO_SHARED_DIR=&quot;/home/user1/tmp&quot; \
/usr/local/bin/fastcgi-mono-server2 \
/applications=/aspnet:/home/user1/public_html/aspnet


/home/user1/public_html/cgi-bin/mono-cgi file:
#!/usr/local/bin/cgi-fcgi -f
-connect /home/user1/tmp/mono-fcgi.sock /home/user1/bin/mono-fcgi

/home/user1/public_html/aspnet/.htaccess
Action mono-cgi /cgi-bin/mono-cgi
SetHandler mono-cgi


Both mono-fcgi and mono-cgi are set at 755 permission.

Thanks.



Korn&#233;l P&#225;l wrote:
&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> loopedcode wrote:
</I>&gt;<i>  &gt; /home/user1/bin/mono-fcgi &amp;
</I>&gt;<i> 
</I>&gt;<i> There is no need to try to spawn an fcgi process every time. cgi-fcgi 
</I>&gt;<i> takes care of that if you use it according to 
</I>&gt;<i> <A HREF="http://www.mono-project.com/CGI">http://www.mono-project.com/CGI</A>
</I>&gt;<i> 
</I>&gt;<i>  &gt;     # stdin is the socket handle
</I>&gt;<i>  &gt;     exec env \
</I>&gt;<i>  &gt;         /usr/local/bin/fastcgi-mono-server2 \
</I>&gt;<i>  &gt;         /socket=unix:$SOCKET \
</I>&gt;<i>  &gt;         /root=/home/user1/www/aspnet \
</I>&gt;<i>  &gt;         /applications=/:/home/user1/www/aspnet \
</I>&gt;<i>  &gt;         /logfile=/home/user1/bin/mono-fcgi.log \
</I>&gt;<i>  &gt;         /loglevels=All \
</I>&gt;<i>  &gt;         2&gt;&gt; /home/user1/bin/mono-fcgi.err
</I>&gt;<i> 
</I>&gt;<i> You have to use env -i and pass all your relevant environment variables 
</I>&gt;<i> explicitly because mono-fastcgi-server will otherwise fall back to CGI 
</I>&gt;<i> environment variables that most likely will cause you trouble.
</I>&gt;<i> 
</I>&gt;<i> Also note that &quot;stdin is the socket handle&quot; is not the case in your 
</I>&gt;<i> case. If you let cgi-fcgi spawn your fcgi server when it's not available 
</I>&gt;<i> then cgi-fcgi will take care of socket creation as well.
</I>&gt;<i> 
</I>&gt;<i> If you still have problems, please also send your Apache configuration.
</I>&gt;<i> 
</I>&gt;<i> Korn&#233;l
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-aspnet-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Mono-aspnet-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">http://lists.ximian.com/mailman/listinfo/mono-aspnet-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
View this message in context: <A HREF="http://www.nabble.com/FastCgi-Mono-Server-and-Apache-tp25420953p25524437.html">http://www.nabble.com/FastCgi-Mono-Server-and-Apache-tp25420953p25524437.html</A>
Sent from the Mono - ASP.NET mailing list archive at Nabble.com.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000459.html">[Mono-aspnet-list] FastCgi Mono Server and Apache
</A></li>
	<LI>Next message: <A HREF="000464.html">[Mono-aspnet-list] FastCgi Mono Server and Apache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#463">[ date ]</a>
              <a href="thread.html#463">[ thread ]</a>
              <a href="subject.html#463">[ subject ]</a>
              <a href="author.html#463">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
