<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] HTTP handlers not registering correctly under	Mono MVC 3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20HTTP%20handlers%20not%20registering%20correctly%20under%0A%09Mono%20MVC%203&In-Reply-To=%3CCADdamQbmCd0Y%2B3KK_KARfmqnoFx-MRvfmaXcdYzwXTGCTvi2HQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001863.html">
   <LINK REL="Next"  HREF="001865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] HTTP handlers not registering correctly under	Mono MVC 3</H1>
    <B>James Rhodes</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20HTTP%20handlers%20not%20registering%20correctly%20under%0A%09Mono%20MVC%203&In-Reply-To=%3CCADdamQbmCd0Y%2B3KK_KARfmqnoFx-MRvfmaXcdYzwXTGCTvi2HQ%40mail.gmail.com%3E"
       TITLE="[Mono-aspnet-list] HTTP handlers not registering correctly under	Mono MVC 3">jrhodes at redpointsoftware.com.au
       </A><BR>
    <I>Sun May  5 12:39:29 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001863.html">[Mono-aspnet-list] XSP4 Handling exception type TypeLoadException, Message is Could not load type 'mscorlib, Version=4.0.0.0, Culture=neutral, 
</A></li>
        <LI>Next message: <A HREF="001865.html">[Mono-aspnet-list] Mono + Nginx + Open BSD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1864">[ date ]</a>
              <a href="thread.html#1864">[ thread ]</a>
              <a href="subject.html#1864">[ subject ]</a>
              <a href="author.html#1864">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As I have posted at Stack Overflow
(<A HREF="http://stackoverflow.com/questions/16384496/http-handlers-not-registering-correctly-under-mono-mvc-3">http://stackoverflow.com/questions/16384496/http-handlers-not-registering-correctly-under-mono-mvc-3</A>),
I'm having some very weird behaviour with HTTP handlers under Mono
with MVC 3 over FastCGI.  Yes, I know how specific that is, but it's
pretty much this combination that's causing the issue.

I don't want to repeat all of the details that I've posted at Stack
Overflow (it's quite extensive), but needless to say, this is a case
where the same site runs fine and the HTTP handlers work under the
XSP4 server, but not under FastCGI.

As a brief overview:

- It appears that under FastCGI, the path=&quot;&quot; attribute of the HTTP
handler is an exact match.  i.e. a path of &quot;cassette.axd&quot; will only
match &quot;<A HREF="http://tychaia.com/cassette.axd">http://tychaia.com/cassette.axd</A>&quot; and will not match
&quot;<A HREF="http://tychaia.com/cassette.axd/stylesheet/nDvbK5eAxf6miyaRa_J0vl7YdxA=/Content">http://tychaia.com/cassette.axd/stylesheet/nDvbK5eAxf6miyaRa_J0vl7YdxA=/Content</A>&quot;.
 Under XSP4, the second path matches and is directed to the handler
fine.
- Under FastCGI, MVC's IgnoreRoute method won't match &quot;cassette.axd&quot;
if you ignore the route &quot;{resource}.axd/{*pathInfo}&quot; and so MVC
captures it.  Under XSP4, the path is ignored correctly and the URL is
allowed to pass through to the HTTP handler.  Interestingly, if I
specifically ignore &quot;cassette.axd&quot; as a route, it lets it drop through
to the HTTP handler, but then I encounter the issue of the path=&quot;&quot;
attribute not matching correctly above.

If anyone has any ideas as to why this might be happening, it'd be
appreciated.  I've tried this on both Mono 3.0.7 and 3.0.10, and both
exhibit this behaviour.

Regards, James Rhodes.
Redpoint Software

<A HREF="http://about.me/james.rhodes">http://about.me/james.rhodes</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001863.html">[Mono-aspnet-list] XSP4 Handling exception type TypeLoadException, Message is Could not load type 'mscorlib, Version=4.0.0.0, Culture=neutral, 
</A></li>
	<LI>Next message: <A HREF="001865.html">[Mono-aspnet-list] Mono + Nginx + Open BSD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1864">[ date ]</a>
              <a href="thread.html#1864">[ thread ]</a>
              <a href="subject.html#1864">[ subject ]</a>
              <a href="author.html#1864">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
