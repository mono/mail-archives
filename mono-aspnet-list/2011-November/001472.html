<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Stopping fastcgi-mono-server gracefully and website content updating with no need of restarting it
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Stopping%20fastcgi-mono-server%20gracefully%20and%0A%20website%20content%20updating%20with%20no%20need%20of%20restarting%20it&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001471.html">
   <LINK REL="Next"  HREF="001473.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Stopping fastcgi-mono-server gracefully and website content updating with no need of restarting it</H1>
    <B>Marcelo Zabani</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Stopping%20fastcgi-mono-server%20gracefully%20and%0A%20website%20content%20updating%20with%20no%20need%20of%20restarting%20it&In-Reply-To="
       TITLE="[Mono-aspnet-list] Stopping fastcgi-mono-server gracefully and website content updating with no need of restarting it">mzabani at gmail.com
       </A><BR>
    <I>Sat Nov 12 00:05:49 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001471.html">[Mono-aspnet-list] Mono + apache2 = Service Temporarily Unavailable (503)
</A></li>
        <LI>Next message: <A HREF="001473.html">[Mono-aspnet-list] Stopping fastcgi-mono-server gracefully and website content updating with no need of restarting it
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1472">[ date ]</a>
              <a href="thread.html#1472">[ thread ]</a>
              <a href="subject.html#1472">[ subject ]</a>
              <a href="author.html#1472">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone. I have just posted this on serverfault, and then I remembered
I signed up on this list, so I'm posting the same question right here:

I've been playing a lot recently with Mono 2.10.5 with .NET 4 and MVC 3
with razor views. I am now hosting my website with nginx and
fastcgi-mono-server4 configured. Although the website is hasn't been tested
by regular users (and will not be until it reaches a desirable state of
functionality), we (testing and development team) have been testing it for
many days and things seem to run just fine so far.
So, given the context, let me ask the questions that drive me insane some
times:

   1. Can I update the contents of my website (dll's, for instance) without
   having to restart the fastcgi process? Is there a possibility of
   momentaneous failure for my visitors when I'm doing that?
   2. How can I gracefully stop fastcgi-mono-server? I took the
   initialization script from
   <A HREF="http://yojimbo87.github.com/2010/03/14/mono-startup-script.html">http://yojimbo87.github.com/2010/03/14/mono-startup-script.html</A> as
   basis, but it just kills (sends SIGTERM) the fastcgi-mono-server process,
   not calling Application_End in Global.asax (and that is what I mean by
   ungraceful shutdown). SIGHUP won't work either (though it also kills the
   server)

Also, I can't find a page to follow the news or the state of
fastcgi-mono-server, the only references I have taught me how to set up the
server and the basic workings of it, but I have NO IDEA where to look for
new versions and changelogs (or even a download page, so far I've been
using portage to install the xsp package, which comes with
fastcgi-mono-server). I found <A HREF="http://kerrick.wordpress.com/2007/08/">http://kerrick.wordpress.com/2007/08/</A> but the
last post on fastcgi-mono-server is so old that it scares me.

If I may ask one last question, how can I run fastcgi-mono-server as an
unprivileged user? I'm afraid to try to setuid the process, since I'm not
quite sure if mono will respect the setuid flag (haven't tried it yet) and
most important, I'm not sure whether fastcgi-mono-server needs root access
at some point to set things. I'm deeply inclined to try something along
this line, but since I can't find any docs on the matter, I haven't done
anything yet. Obviously, I'm quite desperate, since the server is running
as root!!

Thank you in advance!

-- 
Marcelo Zabani
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20111112/c6ba7212/attachment-0001.html">http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20111112/c6ba7212/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001471.html">[Mono-aspnet-list] Mono + apache2 = Service Temporarily Unavailable (503)
</A></li>
	<LI>Next message: <A HREF="001473.html">[Mono-aspnet-list] Stopping fastcgi-mono-server gracefully and website content updating with no need of restarting it
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1472">[ date ]</a>
              <a href="thread.html#1472">[ thread ]</a>
              <a href="subject.html#1472">[ subject ]</a>
              <a href="author.html#1472">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
