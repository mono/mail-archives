<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Mono Asp.NET MVC 4 and async actions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20Mono%20Asp.NET%20MVC%204%20and%20async%20actions&In-Reply-To=%3CCAHM2DbQ_3z6qxE%3Drs_JB4D_Bb7AMJnb-8MP6Lf%2B%2BAY73%2BRSXeQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001847.html">
   <LINK REL="Next"  HREF="001849.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Mono Asp.NET MVC 4 and async actions</H1>
    <B>Daniel J. Summers</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20Mono%20Asp.NET%20MVC%204%20and%20async%20actions&In-Reply-To=%3CCAHM2DbQ_3z6qxE%3Drs_JB4D_Bb7AMJnb-8MP6Lf%2B%2BAY73%2BRSXeQ%40mail.gmail.com%3E"
       TITLE="[Mono-aspnet-list] Mono Asp.NET MVC 4 and async actions">daniel.summers.2415 at gmail.com
       </A><BR>
    <I>Wed Apr  3 17:18:20 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001847.html">[Mono-aspnet-list] Mono Asp.NET MVC 4 and async actions
</A></li>
        <LI>Next message: <A HREF="001849.html">[Mono-aspnet-list] Mono Asp.NET MVC 4 and async actions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1848">[ date ]</a>
              <a href="thread.html#1848">[ thread ]</a>
              <a href="subject.html#1848">[ subject ]</a>
              <a href="author.html#1848">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>According to
<A HREF="http://msdn.microsoft.com/en-us/library/system.web.mvc.asynccontroller(v=vs.108">http://msdn.microsoft.com/en-us/library/system.web.mvc.asynccontroller(v=vs.108</A>).aspx
,
the &quot;AsyncController&quot; only exists for backwards compatibility with MVC 3.
 &quot;Controller&quot; in MVC 4 implements the Async patterns itself.  You should be
good to go with just the signature change on your action.  You might also
want to try the the async keyword (.NET 4.5) on your signature - &quot;public
async Task&lt;ActionResult&gt; Index()&quot;, although the compiler will issue a
warning if you don't have at least one &quot;await&quot; statement within the
controller.  If you're not awaiting anything, your controller itself isn't
really async, although returning the task lets the framework sleep until
the controller is done with its logic.

(Not sure whether that's the problem or not; I'm not at a place where I can
verify it.  But, it would help to isolate the change that's breaking, and
if it fixes it, you'd be on your way.)


On Wed, Apr 3, 2013 at 5:57 AM, Ventsislav Mladenov &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">ventsislav.mladenov at gmail.com</A>&gt; wrote:

&gt;<i> HI, all
</I>&gt;<i>    Today I tried to use async actions under Mono 3.0.6, I changed one
</I>&gt;<i> action method which works correctly to async action:
</I>&gt;<i> Change Controller to AsyncController
</I>&gt;<i> Change action declaration from:
</I>&gt;<i>
</I>&gt;<i> public ActionResult Index  to
</I>&gt;<i> public Task&lt;ActionResult&gt; Index
</I>&gt;<i>
</I>&gt;<i> And now I'm getting error:
</I>&gt;<i> System.InvalidOperationExceptionThe view 'Index' or its master was not
</I>&gt;<i> found or no view engine supports the searched locations. The following
</I>&gt;<i> locations were searched: ~/Areas/Reports/Views/Activities/Index.aspx
</I>&gt;<i> ~/Areas/Reports/Views/Activities/Index.ascx
</I>&gt;<i> ~/Areas/Reports/Views/Shared/Index.aspx
</I>&gt;<i> ~/Areas/Reports/Views/Shared/Index.ascx ~/Views/Activities/Index.aspx
</I>&gt;<i> ~/Views/Activities/Index.ascx ~/Views/Shared/Index.aspx
</I>&gt;<i> ~/Views/Shared/Index.ascx ~/Areas/Reports/Views/Activities/Index.cshtml
</I>&gt;<i> ~/Areas/Reports/Views/Activities/Index.vbhtml
</I>&gt;<i> ~/Areas/Reports/Views/Shared/Index.cshtml
</I>&gt;<i> ~/Areas/Reports/Views/Shared/Index.vbhtml ~/Views/Activities/Index.cshtml
</I>&gt;<i> ~/Views/Activities/Index.vbhtml ~/Views/Shared/Index.cshtml
</I>&gt;<i> ~/Views/Shared/Index.vbhtml
</I>&gt;<i>
</I>&gt;<i> *Description:* HTTP 500.Error processing request.
</I>&gt;<i>
</I>&gt;<i> *Details:* Non-web exception. Exception origin (name of application or
</I>&gt;<i> object): System.Web.Mvc.
</I>&gt;<i> *Exception stack trace:*
</I>&gt;<i> at System.Web.Mvc.ViewResult.FindView (System.Web.Mvc.ControllerContext
</I>&gt;<i> context) [0x00000] in &lt;filename unknown&gt;:0 at
</I>&gt;<i> System.Web.Mvc.ViewResultBase.ExecuteResult
</I>&gt;<i> (System.Web.Mvc.ControllerContext context) [0x00000] in &lt;filename
</I>&gt;<i> unknown&gt;:0 at System.Web.Mvc.ControllerActionInvoker.InvokeActionResult
</I>&gt;<i> (System.Web.Mvc.ControllerContext controllerContext,
</I>&gt;<i> System.Web.Mvc.ActionResult actionResult) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i> at
</I>&gt;<i> System.Web.Mvc.ControllerActionInvoker+&lt;&gt;c__DisplayClass1a.&lt;InvokeActionResultWithFilters&gt;b__17
</I>&gt;<i> () [0x00000] in &lt;filename unknown&gt;:0 at
</I>&gt;<i> System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter
</I>&gt;<i> (IResultFilter filter, System.Web.Mvc.ResultExecutingContext preContext,
</I>&gt;<i> System.Func`1 continuation) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i> The project is on .net 4.0 and uses asp.net mvc 4
</I>&gt;<i>
</I>&gt;<i> Then I tried the code under MS.NET and it works.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-aspnet-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Mono-aspnet-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">http://lists.ximian.com/mailman/listinfo/mono-aspnet-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
*Daniel J. Summers*
*Owner, DJS Consulting*
E-mail &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">daniel.summers.2415 at gmail.com</A>&gt; &#8226; Website &lt;<A HREF="http://djs-consulting.com">http://djs-consulting.com</A>&gt;
 &#8226; Support &lt;<A HREF="http://support.djs-consulting.com">http://support.djs-consulting.com</A>&gt; &#8226; Tech
Blog&lt;<A HREF="http://techblog.djs-consulting.com">http://techblog.djs-consulting.com</A>&gt;

E-mail &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">daniel.summers.2415 at gmail.com</A>&gt; &#8226; Social Media and
Blogs&lt;<A HREF="http://about.me/daniel.j.summers">http://about.me/daniel.j.summers</A>&gt;

&quot;Who is more irrational? A man who believes in a God he doesn't see, or a
man who's offended by a God he doesn't believe in?&quot; &#8212; Brad Stine

GEEKCODE 3.12 GCS/IT d s-:+ a C++ P--- L++ E--- W++ N++ o? K- w !O M--
V PS+ PE++ Y? PGP- t+ 5? X+ R* tv b+ DI++ D+ G- e&lt;++ h---- r+++ y++++
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20130403/8e6e8212/attachment.html">http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20130403/8e6e8212/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001847.html">[Mono-aspnet-list] Mono Asp.NET MVC 4 and async actions
</A></li>
	<LI>Next message: <A HREF="001849.html">[Mono-aspnet-list] Mono Asp.NET MVC 4 and async actions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1848">[ date ]</a>
              <a href="thread.html#1848">[ thread ]</a>
              <a href="subject.html#1848">[ subject ]</a>
              <a href="author.html#1848">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
