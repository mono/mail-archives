<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Deadlock with MVC3 and Task&lt;ViewResult&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20Deadlock%20with%20MVC3%20and%20Task%3CViewResult%3E&In-Reply-To=%3CCADfwMx-VqQJOq7ekOeVtTXLqkb1fPoS2ZMDpbeSNeyPaS2AU%3Dw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001808.html">
   <LINK REL="Next"  HREF="001816.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Deadlock with MVC3 and Task&lt;ViewResult&gt;</H1>
    <B>Joe Dluzen</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20Deadlock%20with%20MVC3%20and%20Task%3CViewResult%3E&In-Reply-To=%3CCADfwMx-VqQJOq7ekOeVtTXLqkb1fPoS2ZMDpbeSNeyPaS2AU%3Dw%40mail.gmail.com%3E"
       TITLE="[Mono-aspnet-list] Deadlock with MVC3 and Task&lt;ViewResult&gt;">jdluzen at gmail.com
       </A><BR>
    <I>Fri Feb 22 00:26:41 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001808.html">[Mono-aspnet-list] Render page
</A></li>
        <LI>Next message: <A HREF="001816.html">[Mono-aspnet-list] HTML Editor for Linux Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1814">[ date ]</a>
              <a href="thread.html#1814">[ thread ]</a>
              <a href="subject.html#1814">[ subject ]</a>
              <a href="author.html#1814">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm getting a deadlock when attempting to run
<A HREF="http://craigcav.wordpress.com/2010/12/23/asynchronous-mvc-using-the-task-parallel-library/">http://craigcav.wordpress.com/2010/12/23/asynchronous-mvc-using-the-task-parallel-library/</A>
using the code at <A HREF="https://github.com/CraigCav/Suteki.AsyncMvcTpl,">https://github.com/CraigCav/Suteki.AsyncMvcTpl,</A>
Windows or Linux.

I've traced it to attempting to lock at
<A HREF="https://github.com/mono/mono/blob/master/mcs/class/System.Web.Mvc3/Mvc/Async/AsyncUtil.cs#L37,">https://github.com/mono/mono/blob/master/mcs/class/System.Web.Mvc3/Mvc/Async/AsyncUtil.cs#L37,</A>
but I can't see what else might be holding it. Not unlocking it on
line 20 makes it work (not tested under stress), but comments in the
code say it might deadlock.

Any ideas? I would really like to use Task&lt;ViewResult&gt; instead of the
original MVC3 async way[1].

Thanks,
Joe
1: I'm holding off on MVC4/4.5/async/await until a rock solid 3.0 is released.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001808.html">[Mono-aspnet-list] Render page
</A></li>
	<LI>Next message: <A HREF="001816.html">[Mono-aspnet-list] HTML Editor for Linux Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1814">[ date ]</a>
              <a href="thread.html#1814">[ thread ]</a>
              <a href="subject.html#1814">[ subject ]</a>
              <a href="author.html#1814">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
