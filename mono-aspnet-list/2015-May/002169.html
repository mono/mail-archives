<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Mono.WebServer error (70014) End of file found: read_data failed, Command stream corrupted, last command was -1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20Mono.WebServer%20error%20%2870014%29%20End%20of%20file%20found%3A%0A%20read_data%20failed%2C%20Command%20stream%20corrupted%2C%20last%20command%20was%20-1&In-Reply-To=%3C1432551211917-4666032.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Mono.WebServer error (70014) End of file found: read_data failed, Command stream corrupted, last command was -1</H1>
    <B>erasmo.diantonio</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20Mono.WebServer%20error%20%2870014%29%20End%20of%20file%20found%3A%0A%20read_data%20failed%2C%20Command%20stream%20corrupted%2C%20last%20command%20was%20-1&In-Reply-To=%3C1432551211917-4666032.post%40n4.nabble.com%3E"
       TITLE="[Mono-aspnet-list] Mono.WebServer error (70014) End of file found: read_data failed, Command stream corrupted, last command was -1">erasmo.diantonio at gmail.com
       </A><BR>
    <I>Mon May 25 10:53:31 UTC 2015</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2169">[ date ]</a>
              <a href="thread.html#2169">[ thread ]</a>
              <a href="subject.html#2169">[ subject ]</a>
              <a href="author.html#2169">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,
first of all thanks to everyone for the help that you can give me.

I configured a few asp.net applications on Apache with mono and mod_mono.
Each application has its own AddMonoApplications directive.

The virtual applications are configured like this:

# virtual application dhedesktop/dktnet/global/elogin
Alias /dhedesktop/dktnet/global/elogin
&quot;/home/dhe/dhe_desktop/released/dktnet/global/elogin&quot;
AddMonoApplications dkt
&quot;/dhedesktop/dktnet/global/elogin:/home/dhe/dhe_desktop/released/dktnet/global/elogin&quot;
&lt;Location &quot;/dhedesktop/dktnet/global/elogin&quot;&gt;
	SetHandler mono
	MonoSetServerAlias dkt
	Require all granted
	Order allow,deny
	Allow from all
	SetOutputFilter DEFLATE
	SetEnvIfNoCase Request_URI &quot;\.(?:gif|jpe?g|png)$&quot; no-gzip dont-vary
&lt;/Location&gt;

# Virtual application dhedesktop/dktnet/emenusi
Alias /dhedesktop/dktnet/emenusi
&quot;/home/dhe/dhe_desktop/released/dktnet/emenusi&quot;
AddMonoApplications dkt
&quot;/dhedesktop/dktnet/emenusi:/home/dhe/dhe_desktop/released/dktnet/emenusi&quot;
&lt;Location &quot;/dhedesktop/dktnet/emenusi&quot;&gt;
	SetHandler mono
	MonoSetServerAlias dkt
	Require all granted
	Order allow,deny
	Allow from all
	SetOutputFilter DEFLATE
	SetEnvIfNoCase Request_URI &quot;\.(?:gif|jpe?g|png)$&quot; no-gzip dont-vary
&lt;/Location&gt;

The machine configuration are:
- Centos 7 64bit
- Apache 2.4.6 64bit
- Mono 4.0.1 64bit
- xsp 4 and .net 4.0 (/usr/bin/mono --debug
/usr/lib/mono/4.5/mod-mono-server4.exe)

After a few clicks, while browsing from one application to another, apache
returns the following error: 500 Internal Server Error and the content of
Apache error log file is:

Thread was being aborted
  at &lt;0x00000 + 0x00000&gt; &lt;unknown method&gt;
  at &lt;0x00000 + 0x00000&gt; &lt;unknown method&gt;
  at &lt;0x00000 + 0x00000&gt; &lt;unknown method&gt;
  at &lt;0x00000 + 0x00000&gt; &lt;unknown method&gt;
  at &lt;0x00000 + 0x00000&gt; &lt;unknown method&gt;
  at &lt;0x00000 + 0x00000&gt; &lt;unknown method&gt;
  at &lt;0x00000 + 0x00000&gt; &lt;unknown method&gt;
  at &lt;0x00000 + 0x00000&gt; &lt;unknown method&gt;
  at System.AppDomain.InvokeInDomain (System.AppDomain domain,
System.Reflection.MethodInfo method, System.Object obj, System.Object[]
args) [0x00017] in
/builddir/build/BUILD/mono-4.0.1/mcs/class/corlib/System/AppDomain.cs:904 
  at System.Runtime.Remoting.RemotingServices.GetDomainProxy
(System.AppDomain domain) [0x00008] in
/builddir/build/BUILD/mono-4.0.1/mcs/class/corlib/System.Runtime.Remoting/RemotingServices.cs:846 
  at System.AppDomain.CreateDomain (System.String friendlyName,
System.Security.Policy.Evidence securityInfo, System.AppDomainSetup info)
[0x000e4] in
/builddir/build/BUILD/mono-4.0.1/mcs/class/corlib/System/AppDomain.cs:998 
  at System.Web.Hosting.ApplicationHost.CreateApplicationHost (System.Type
hostType, System.String virtualDir, System.String physicalDir) [0x00221] in
/builddir/build/BUILD/mono-4.0.1/mcs/class/System.Web/System.Web.Hosting/ApplicationHost.cs:222 
  at Mono.WebServer.VPathToHost.CreateHost (Mono.WebServer.ApplicationServer
server, Mono.WebServer.WebSource webSource) [0x00048] in
/builddir/build/BUILD/xsp-3.8/src/Mono.WebServer/VPathToHost.cs:143 
  at Mono.WebServer.ApplicationServer.GetApplicationForPath (System.String
vhost, Int32 port, System.String path, Boolean defaultToRoot) [0x000aa] in
/builddir/build/BUILD/xsp-3.8/src/Mono.WebServer/ApplicationServer.cs:514 
  at (wrapper remoting-invoke-with-check)
Mono.WebServer.ApplicationServer:GetApplicationForPath
(string,int,string,bool)
  at Mono.WebServer.Apache.ModMonoWorker.InnerRun () [0x0013f] in
/builddir/build/BUILD/xsp-3.8/src/Mono.WebServer.Apache/ModMonoWorker.cs:217 
  at Mono.WebServer.Apache.ModMonoWorker.Run (System.Object state) [0x00003]
in
/builddir/build/BUILD/xsp-3.8/src/Mono.WebServer.Apache/ModMonoWorker.cs:90 
[Mon May 25 11:42:43.382224 2015] [:error] [pid 1481:tid 140180853864192]
(70014)End of file found: read_data failed
[Mon May 25 11:42:43.382279 2015] [:error] [pid 1481:tid 140180853864192]
Command stream corrupted, last command was -1

Within asp.net applications i'm using .net remoting to implements session
state management.

I've googled internet for and i've searched among this mailing list but i
didn't find any solution.

thanks again.




--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Mono-WebServer-error-70014-End-of-file-found-read-data-failed-Command-stream-corrupted-last-command-1-tp4666032.html">http://mono.1490590.n4.nabble.com/Mono-WebServer-error-70014-End-of-file-found-read-data-failed-Command-stream-corrupted-last-command-1-tp4666032.html</A>
Sent from the Mono - ASP.NET mailing list archive at Nabble.com.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2169">[ date ]</a>
              <a href="thread.html#2169">[ thread ]</a>
              <a href="subject.html#2169">[ subject ]</a>
              <a href="author.html#2169">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
