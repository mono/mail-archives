<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Apache2/mod_mono compiling on every request
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20Apache2/mod_mono%20compiling%20on%20every%20request&In-Reply-To=%3CDE02E74624A24164BFD5B63EFFE84436%40dell2%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001554.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Apache2/mod_mono compiling on every request</H1>
    <B>Andrus</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20Apache2/mod_mono%20compiling%20on%20every%20request&In-Reply-To=%3CDE02E74624A24164BFD5B63EFFE84436%40dell2%3E"
       TITLE="[Mono-aspnet-list] Apache2/mod_mono compiling on every request">kobruleht2 at hot.ee
       </A><BR>
    <I>Sat Mar 31 20:59:38 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001554.html">[Mono-aspnet-list] Apache2/mod_mono compiling on every request
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1555">[ date ]</a>
              <a href="thread.html#1555">[ thread ]</a>
              <a href="subject.html#1555">[ subject ]</a>
              <a href="author.html#1555">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1. Check that application will not create or change files in application directory
remove write attrubute from it and from its subdirs.
2. Create pre-compiled site in windows and deploy it to linux instead of source files

Andrus.


From: Daniel J. Summers 
Sent: Saturday, March 31, 2012 11:08 PM
To: mono-aspnet-list 
Subject: [Mono-aspnet-list] Apache2/mod_mono compiling on every request

This has got me a bit stumped.  I have an ASP MVC 3 app that's current running in production on Ubuntu 11.10 x86_64 server using Mono 2.10.5 from the Ubuntu repositories.  In production, the first time the app is hit, it goes through and compiles it; you can watch it with &quot;ps -ef&quot;, and subsequent hits use that compiled version.  This is the expected behavior, so hooray for that. 

I'm working on the next version of the application, and in the interim, have changed development machines.  I'm developing it on Windows 7, and I've created a VirtualBox server mirroring the specs described above.  I'm testing the application there in advance of putting it live, and I noticed that every hit took longer than it should.  One page won't even pull up, saying that the view cannot be found; I think this may be the compilation timing out.  The more complex a page is, the longer it seems to take.  Repeated hits to a page do seem a bit faster, but there's still a compilation process being kicked off.  I suspected a permissions issue, but I checked /tmp/www-data-temp-aspnet-0 directory (the output directory specified in the &quot;ps&quot;), and there are several directories underneath that, all with the compiled app, so that's not it.

The app has changed a bit.  The new release adds globalization/localization, with Resources.resx and Resources.es.resx providing the labels and images (a few).  Of course, there are upgraded libraries and that sort of thing, but the globalization is the new thing.  The /bin directory has the DLLs for the web app, the business logic layer, supporting DLLs (no new ones), and a bin deployment of ASP MVC 3; and the /bin/es directory has AppName.resources.dll (this part is new).

Do any of you fine folks have an idea what may be causing this?  I'm hesitant to push this out with it behaving like this, in case it's not just a configuration parameter I have wrong on the server.  (The virtual host/mod_mono config is the same between servers, except for the server name.)  I'd appreciate any help anyone could provide.

-- 

Daniel J. Summers
Owner, DJS Consulting
E-mail &#8226; Website &#8226; Support &#8226; Tech Blog


GEEKCODE 3.12 GCS/IT d s-:+ a C++ P--- L++ E--- W++ N++ o? K- w !O M--
V PS+ PE++ Y? PGP- t+ 5? X+ R* tv b+ DI++ D+ G- e&lt;++ h---- r+++ y++++



--------------------------------------------------------------------------------
_______________________________________________
Mono-aspnet-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Mono-aspnet-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">http://lists.ximian.com/mailman/listinfo/mono-aspnet-list</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20120331/b7142787/attachment.html">http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20120331/b7142787/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001554.html">[Mono-aspnet-list] Apache2/mod_mono compiling on every request
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1555">[ date ]</a>
              <a href="thread.html#1555">[ thread ]</a>
              <a href="subject.html#1555">[ subject ]</a>
              <a href="author.html#1555">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
