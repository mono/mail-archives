<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Thread being aborted on xsp2 on FreeBSD	trying to use ASP.NET MVC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Thread%20being%20aborted%20on%20xsp2%20on%20FreeBSD%0A%09trying%20to%20use%20ASP.NET%20MVC&In-Reply-To=1248003987.22935.4.camel%40lalo-laptop">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000325.html">
   <LINK REL="Next"  HREF="000327.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Thread being aborted on xsp2 on FreeBSD	trying to use ASP.NET MVC</H1>
    <B>Patrick Kristiansen</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Thread%20being%20aborted%20on%20xsp2%20on%20FreeBSD%0A%09trying%20to%20use%20ASP.NET%20MVC&In-Reply-To=1248003987.22935.4.camel%40lalo-laptop"
       TITLE="[Mono-aspnet-list] Thread being aborted on xsp2 on FreeBSD	trying to use ASP.NET MVC">patrick.kristiansen at gmail.com
       </A><BR>
    <I>Sun Jul 19 10:02:54 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000325.html">[Mono-aspnet-list] Thread being aborted on xsp2 on FreeBSD trying to use ASP.NET MVC
</A></li>
        <LI>Next message: <A HREF="000327.html">[Mono-aspnet-list] Thread being aborted on xsp2 on FreeBSD trying to use ASP.NET MVC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#326">[ date ]</a>
              <a href="thread.html#326">[ thread ]</a>
              <a href="subject.html#326">[ subject ]</a>
              <a href="author.html#326">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/7/19 Gonzalo Paniagua Javier &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">gonzalo.mono at gmail.com</A>&gt;:
&gt;<i> On Sun, 2009-07-19 at 12:24 +0200, Patrick Kristiansen wrote:
</I>&gt;<i> [...]
</I>&gt;&gt;<i> &#160; Error: System.Net.Sockets.SocketException: Address already in use
</I>&gt;&gt;<i> &#160; &#160; at System.Net.Sockets.Socket.Bind (System.Net.EndPoint local_end) [0x00000]
</I>&gt;&gt;<i> &#160; &#160; at Mono.WebServer.XSPWebSource.CreateSocket () [0x00000]
</I>&gt;&gt;<i> &#160; &#160; at Mono.WebServer.ApplicationServer.Start (Boolean bgThread) [0x00000]
</I>&gt;&gt;<i> &#160; &#160; at Mono.WebServer.ApplicationServer.Start (Boolean bgThread,
</I>&gt;&gt;<i> System.Exception initialException) [0x00000]
</I>&gt;&gt;<i> &#160; &#160; at (wrapper remoting-invoke-with-check)
</I>&gt;&gt;<i> Mono.WebServer.ApplicationServer:Start (bool,System.Exception)
</I>&gt;&gt;<i> &#160; &#160; at Mono.WebServer.XSP.Server.RealMain (System.String[] args,
</I>&gt;&gt;<i> Boolean root, IApplicationHost ext_apphost, Boolean quiet) [0x00000]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I use the following command to start xsp:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; xsp2 --address 192.168.1.90 --root /home/patrick/monotest/www \
</I>&gt;&gt;<i> &#160; &#160; --applications '/:.'
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm running FreeBSD 7.2, Mono 2.4.2.1 and xsp 2.4.2.0.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can anybody help?
</I>&gt;<i>
</I>&gt;<i> There were a couple of issues that have been fixed in the 2.4 branch and
</I>&gt;<i> HEAD. One involves your application writing to the toplevel web.config,
</I>&gt;<i> the other, creating new folders under the physical root path of your
</I>&gt;<i> application.
</I>&gt;<i>
</I>&gt;<i> Anyway, easy workaround: use --applications
</I>&gt;<i> '/:.,/somethingelse:/someempty/folder/in/your/disk'
</I>&gt;<i>
</I>
I used the workaround. Now xsp doesn't terminate with an exception,
but I still receive the 'Thread was being aborted' error, and it seems
to happen most of the time at:

System.Web.Mvc.WebFormViewEngine.FileExists
(System.Web.Mvc.ControllerContext controllerContext, System.String
virtualPath)

Here is the full stack trace:

System.Threading.ThreadAbortException: Thread was being aborted
  at System.Web.Mvc.WebFormViewEngine.FileExists
(System.Web.Mvc.ControllerContext controllerContext, System.String
virtualPath) [0x00000]
  at System.Web.Mvc.VirtualPathProviderViewEngine.GetPathFromGeneralName
(System.Web.Mvc.ControllerContext controllerContext, System.String[]
locations, System.String name, System.String controllerName,
System.String cacheKey, System.String[]&amp; searchedLocations) [0x00000]
  at System.Web.Mvc.VirtualPathProviderViewEngine.GetPath
(System.Web.Mvc.ControllerContext controllerContext, System.String[]
locations, System.String locationsPropertyName, System.String name,
System.String controllerName, System.String cacheKeyPrefix, Boolean
useCache, System.String[]&amp; searchedLocations) [0x00000]
  at System.Web.Mvc.VirtualPathProviderViewEngine.FindView
(System.Web.Mvc.ControllerContext controllerContext, System.String
viewName, System.String masterName, Boolean useCache) [0x00000]
  at System.Web.Mvc.ViewEngineCollection+&lt;&gt;c__DisplayClass6.&lt;FindView&gt;b__4
(IViewEngine e) [0x00000]
  at System.Web.Mvc.ViewEngineCollection.Find (System.Func`2
cacheLocator, System.Func`2 locator) [0x00000]
  at System.Web.Mvc.ViewEngineCollection.FindView
(System.Web.Mvc.ControllerContext controllerContext, System.String
viewName, System.String masterName) [0x00000]
  at System.Web.Mvc.ViewResult.FindView
(System.Web.Mvc.ControllerContext context) [0x00000]
  at System.Web.Mvc.ViewResultBase.ExecuteResult
(System.Web.Mvc.ControllerContext context) [0x00000]
  at System.Web.Mvc.ControllerActionInvoker.InvokeActionResult
(System.Web.Mvc.ControllerContext controllerContext,
System.Web.Mvc.ActionResult actionResult) [0x00000]
  at System.Web.Mvc.ControllerActionInvoker+&lt;&gt;c__DisplayClass11.&lt;InvokeActionResultWithFilters&gt;b__e
() [0x00000]
  at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter
(IResultFilter filter, System.Web.Mvc.ResultExecutingContext
preContext, System.Func`1 continuation) [0x00000]

-Patrick
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000325.html">[Mono-aspnet-list] Thread being aborted on xsp2 on FreeBSD trying to use ASP.NET MVC
</A></li>
	<LI>Next message: <A HREF="000327.html">[Mono-aspnet-list] Thread being aborted on xsp2 on FreeBSD trying to use ASP.NET MVC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#326">[ date ]</a>
              <a href="thread.html#326">[ thread ]</a>
              <a href="subject.html#326">[ subject ]</a>
              <a href="author.html#326">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
