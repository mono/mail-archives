<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Ubuntu, mod_mono, and 2.6
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Ubuntu%2C%20mod_mono%2C%20and%202.6&In-Reply-To=d4165711003090929y63c9837ag69d8edd06b66cff5%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000666.html">
   <LINK REL="Next"  HREF="000735.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Ubuntu, mod_mono, and 2.6</H1>
    <B>Joe Dluzen</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=%5BMono-aspnet-list%5D%20Ubuntu%2C%20mod_mono%2C%20and%202.6&In-Reply-To=d4165711003090929y63c9837ag69d8edd06b66cff5%40mail.gmail.com"
       TITLE="[Mono-aspnet-list] Ubuntu, mod_mono, and 2.6">jdluzen at gmail.com
       </A><BR>
    <I>Wed Mar 10 12:31:49 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000666.html">[Mono-aspnet-list] Ubuntu, mod_mono, and 2.6
</A></li>
        <LI>Next message: <A HREF="000735.html">[Mono-aspnet-list] mod_mono with Apache2.2 on Windows Vista [BROKEN]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#668">[ date ]</a>
              <a href="thread.html#668">[ thread ]</a>
              <a href="subject.html#668">[ subject ]</a>
              <a href="author.html#668">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>After some more editing, I've got some answers just in case anyone
else needs to upgrade too.

The multiple servers running was caused by me having multiple
virtualhosts, and setting MonoServerPath in them.

Editing /etc/mono-server2/mono-server2-hosts.conf:
MonoServerPath default /opt/mono2.6/bin/mod-mono-server2
MonoPath default /opt/mono2.6/lib

The &quot;default&quot; above looks to be the name of the .webapp, but I changed
mine to a different name, and it still works.

Everything auto starts now, and uses the correct assemblies. I
couldn't prepend the new lib path to the existing MonoPath, it still
attempted to load the wrong mscorlib, and then crashed.

Joe

On Tue, Mar 9, 2010 at 12:29 PM, Joe Dluzen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">jdluzen at gmail.com</A>&gt; wrote:
&gt;<i> Hello all,
</I>&gt;<i>
</I>&gt;<i> I recently stumbled across a bug while browsing the mailing list:
</I>&gt;<i> <A HREF="https://bugzilla.novell.com/show_bug.cgi?id=568441">https://bugzilla.novell.com/show_bug.cgi?id=568441</A>
</I>&gt;<i>
</I>&gt;<i> I'm currently on Ubuntu 9.10 with Mono 2.4.2 using mod_mono with
</I>&gt;<i> Apache2, the standard out of the box packages. Although not bitten by
</I>&gt;<i> this bug yet, I'm proactively addressing it by determining the best
</I>&gt;<i> way to upgrade to Mono 2.6. I don't package things much, but I've
</I>&gt;<i> successfully built a Mono 2.6 package, and runs well on a number of
</I>&gt;<i> machines. However, it is a parallel installation in /opt.
</I>&gt;<i>
</I>&gt;<i> What I'd like to know is, what is the easiest way to do this?
</I>&gt;<i> 1. Build a giant Mono package that contains everything, and set it to
</I>&gt;<i> replace every every mono* and libmono* package there is? (My guess is
</I>&gt;<i> that this is ill advised.)
</I>&gt;<i> 2. Reconfigure mod_mono to use the installation in /opt.
</I>&gt;<i> 2a. This is what I am currently attempting. I've edited my virtualhost
</I>&gt;<i> to set the MonoServerPath (again, something I stumbled across while
</I>&gt;<i> not even looking for it) to the new mod-mono-server2. It starts, runs,
</I>&gt;<i> and has the correct 2.6 assemblies opened. However, it seems that the
</I>&gt;<i> old mod-mono-server2 is running at the same time, and is possibly
</I>&gt;<i> stepping on the other one because the output from starting Apache is:
</I>&gt;<i> &quot;[crit] (13)Permission denied: Failed to attach to existing dashboard,
</I>&gt;<i> and removing dashboard file '/tmp/mod_mono_dashboard_XXGLOBAL_1'
</I>&gt;<i> failed (Operation not permitted). Further action impossible.&quot; The
</I>&gt;<i> permissions on the file seem fine, read and write with owner set to
</I>&gt;<i> www-data. I am then able to kill the old mod-mono-server2, and it
</I>&gt;<i> still works. The old one is not restarted.
</I>&gt;<i>
</I>&gt;<i> Thoughts on how to fix this? Or do this &quot;correctly&quot;? Or even a new
</I>&gt;<i> option entirely? Or do it this way
</I>&gt;<i> <A HREF="http://lists.ximian.com/pipermail/mono-aspnet-list/2010-February/000648.html">http://lists.ximian.com/pipermail/mono-aspnet-list/2010-February/000648.html</A>
</I>&gt;<i> ?
</I>&gt;<i>
</I>&gt;<i> In a related question, is there an easy way/command/build option to
</I>&gt;<i> strip the debug symbols from Mono itself?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Joe
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000666.html">[Mono-aspnet-list] Ubuntu, mod_mono, and 2.6
</A></li>
	<LI>Next message: <A HREF="000735.html">[Mono-aspnet-list] mod_mono with Apache2.2 on Windows Vista [BROKEN]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#668">[ date ]</a>
              <a href="thread.html#668">[ thread ]</a>
              <a href="subject.html#668">[ subject ]</a>
              <a href="author.html#668">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
