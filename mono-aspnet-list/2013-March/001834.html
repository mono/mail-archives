<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-aspnet-list] Mono ASP.NET OutputCache problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20Mono%20ASP.NET%20OutputCache%20problem&In-Reply-To=%3CCAB1r_%2BU6KkNVfhp16mVSVCC07DxQfs6FxVUTjhm9gHw7m%3Dp3kQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001829.html">
   <LINK REL="Next"  HREF="001835.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-aspnet-list] Mono ASP.NET OutputCache problem</H1>
    <B>Daniel Lo Nigro</B> 
    <A HREF="mailto:mono-aspnet-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-aspnet-list%5D%20Mono%20ASP.NET%20OutputCache%20problem&In-Reply-To=%3CCAB1r_%2BU6KkNVfhp16mVSVCC07DxQfs6FxVUTjhm9gHw7m%3Dp3kQ%40mail.gmail.com%3E"
       TITLE="[Mono-aspnet-list] Mono ASP.NET OutputCache problem">lists at dan.cx
       </A><BR>
    <I>Sun Mar 17 03:13:09 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001829.html">[Mono-aspnet-list] Mono ASP.NET OutputCache problem
</A></li>
        <LI>Next message: <A HREF="001835.html">[Mono-aspnet-list] Unsubscribe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1834">[ date ]</a>
              <a href="thread.html#1834">[ thread ]</a>
              <a href="subject.html#1834">[ subject ]</a>
              <a href="author.html#1834">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That's very odd... I use the OutputCache attribute in ASP.NET MVC (which
reuses some of the WebForms caching code) and it doesn't seem to exhibit
this behaviour.

I have this on my home page:
[OutputCache(Location = OutputCacheLocation.Downstream, Duration =
ONE_HOUR)]

And this on a different page:
[OutputCache(Location = OutputCacheLocation.Any, Duration = 60 * 5)]

And they both seem to work as expected (and send Cache-Control: public).
I'm using Nginx FastCGI caching for the home page which is why the caching
location is only set to Downstream (the cache is being stored in Nginx, not
in Mono, to make it even faster).


On Sat, Mar 16, 2013 at 2:38 AM, whale &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">abraham at guyt.org</A>&gt; wrote:

&gt;<i> whale wrote
</I>&gt;<i> &gt; .....
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; However Mono (a recent 3.0.x build on CentOS 6) does use its output
</I>&gt;<i> cache,
</I>&gt;<i> &gt; BUT a (publicly cached) page served from the output cache is decorated
</I>&gt;<i> &gt; with an incorrect 'Cache-Control: private' header - preventing this page
</I>&gt;<i> &gt; from being cached properly. As soon as the output cache page content
</I>&gt;<i> &gt; expires, the correct 'public' cache header suddenly re-appears.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The effect can easily be observed by using the page above, loading it and
</I>&gt;<i> &gt; then refreshing it in your browser while sniffing the HTTP traffic.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This looks like a bug in the MONO ASP.NET output cache module - am I
</I>&gt;<i> &gt; overlooking something?
</I>&gt;<i>
</I>&gt;<i> I really was hoping there would be someone with active knowledge of Mono's
</I>&gt;<i> ASP.NET output cache implementation; is it still actively maintained with
</I>&gt;<i> any hopes of bugfixing? I understand Xamarin's resources go towards mobile
</I>&gt;<i> app development, but it would be nice to know whether Mono has an actual
</I>&gt;<i> future for hosting production ASP.NET applications.
</I>&gt;<i>
</I>&gt;<i> Gettting caching work properly is essential for serious production stuff.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://mono.1490590.n4.nabble.com/Mono-ASP-NET-OutputCache-problem-tp4658907p4659037.html">http://mono.1490590.n4.nabble.com/Mono-ASP-NET-OutputCache-problem-tp4658907p4659037.html</A>
</I>&gt;<i> Sent from the Mono - ASP.NET mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-aspnet-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">Mono-aspnet-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">http://lists.ximian.com/mailman/listinfo/mono-aspnet-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20130317/80c3e954/attachment.html">http://lists.ximian.com/pipermail/mono-aspnet-list/attachments/20130317/80c3e954/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001829.html">[Mono-aspnet-list] Mono ASP.NET OutputCache problem
</A></li>
	<LI>Next message: <A HREF="001835.html">[Mono-aspnet-list] Unsubscribe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1834">[ date ]</a>
              <a href="thread.html#1834">[ thread ]</a>
              <a href="subject.html#1834">[ subject ]</a>
              <a href="author.html#1834">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-aspnet-list">More information about the Mono-aspnet-list
mailing list</a><br>
</body></html>
