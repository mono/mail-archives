<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Sharing code between iOS, Android and Windows Phone
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Sharing%20code%20between%20iOS%2C%0A%20Android%20and%20Windows%20Phone&In-Reply-To=CADDD0FE.A25B%25steven_john_pack%40yahoo.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007041.html">
   <LINK REL="Next"  HREF="007062.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Sharing code between iOS, Android and Windows Phone</H1>
    <B>Miljenko Cvjetko</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Sharing%20code%20between%20iOS%2C%0A%20Android%20and%20Windows%20Phone&In-Reply-To=CADDD0FE.A25B%25steven_john_pack%40yahoo.com.au"
       TITLE="[mono-android] Sharing code between iOS, Android and Windows Phone">mcvjetko at holisticware.net
       </A><BR>
    <I>Mon Nov  7 18:01:21 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007041.html">[mono-android] Sharing code between iOS,	Android and Windows Phone
</A></li>
        <LI>Next message: <A HREF="007062.html">[mono-android] Sharing code between iOS, Android and Windows Phone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7055">[ date ]</a>
              <a href="thread.html#7055">[ thread ]</a>
              <a href="subject.html#7055">[ subject ]</a>
              <a href="author.html#7055">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

On 2011.11.07 08:16, Steven Pack wrote:
&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i> I'm using Xamarin, specifically because I'd like to share as much code 
</I>&gt;<i> as possible between the platforms. I've noticed I can only reference 
</I>&gt;<i> library projects that target &quot;Mono for Android x.x&quot;. I'd hoped to be 
</I>&gt;<i> able to simply create a Mono class library and only use the classes 
</I>&gt;<i> supported by MonoDroid or MonoTouch and reference said project from 
</I>&gt;<i> either platform.
</I>Our team does it with single solution and projects for each platform and 
shares on source
code level with links to source files (cs, xaml etc) not IL (by 
referencing assemblies).

Architectural only 2 layers Business Logic BL and Presentation Layer PL with
assemblies per platform... Controlers and ViewModels in MVC and MVVM can be
moved to those assemblies...

  * Business logic (BL) per platform linked with Project Linker.
      o Starting with WP7x project as &quot;smallest common denominator -
        subset&quot;
        (because of various restrictions - Android Mono4Android and iOS
        MonoTouch are still in front).
      o all projects have WP7 project as &quot;linked source project&quot;
        (Project Linker terminology)
        meaning code in them/their folders is just a link to cs file in
        WP7x prj
  * Presentation Layer PL dlls (User Control library project types)
      o our team uses them for reusing
          + some UI code if it can be shared across projects
          + xaml controls (write up is on the way).
      o MonoDroid - does not apply cos layouts from other
        assemblies cannot be used - yet
  * Presentation Layer EXEs - main entry points - per platform
  * Unit testing Projects
      o if Windows Forms BL assembly reuses bunch of WP7x code and adds
        some more, then NUnit test for WF or WPF project will cover a
        lot from
        WP7x and You are not stuck with WP7 based UnitTesting in emulator

These below are our working notes on recommendation for solution and 
project
structure and naming...
Team is still working on it and it is far from stable, but You could get 
the idea...
<A HREF="http://www.holisticware.net/HolisticWare/Know-How/Development/Visual-Studio-Project-Structure.aspx">http://www.holisticware.net/HolisticWare/Know-How/Development/Visual-Studio-Project-Structure.aspx</A>
Numerical stuff is just to have projects ordered in Solution Explorer, 
because with growing
number of platforms and more architectural layers.

Project Linker exclusion
<A HREF="http://www.holisticware.net/HolisticWare/Know-How/Development/visual-studio-project-linker.aspx">http://www.holisticware.net/HolisticWare/Know-How/Development/visual-studio-project-linker.aspx</A>

... and we are moving our site to new version, so bunch of texts is 
waiting to be published...

HTH

regards

mel


&gt;<i>
</I>&gt;<i> What am I missing here? How does one go about sharing code?
</I>&gt;<i>
</I>&gt;<i> Steve
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>

-- 
Miljenko Cvjetko dipl.ing. ET
	Direktor/CEO
	Projektant rjes(enja/Solution Architect	
	Razvojni programer/Senior developer
	Voditelj projekta/Project Manager

IX juz(na obala 13
Kajzerica Zagreb
T: 385 1 7775555
M: 385 91 557 447 3
F: 385 1 7779556
e: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>
w: <A HREF="http://www.holisticware.net">http://www.holisticware.net</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20111108/ecdc9577/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20111108/ecdc9577/attachment.html</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007041.html">[mono-android] Sharing code between iOS,	Android and Windows Phone
</A></li>
	<LI>Next message: <A HREF="007062.html">[mono-android] Sharing code between iOS, Android and Windows Phone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7055">[ date ]</a>
              <a href="thread.html#7055">[ thread ]</a>
              <a href="subject.html#7055">[ subject ]</a>
              <a href="author.html#7055">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
