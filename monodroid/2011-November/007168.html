<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Mono Stacktrace and ANR
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Mono%20Stacktrace%20and%20ANR&In-Reply-To=1321487506547-4999478.post%40n5.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007161.html">
   <LINK REL="Next"  HREF="007169.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Mono Stacktrace and ANR</H1>
    <B>Andrew Sinclair</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Mono%20Stacktrace%20and%20ANR&In-Reply-To=1321487506547-4999478.post%40n5.nabble.com"
       TITLE="[mono-android] Mono Stacktrace and ANR">andrew at magic5software.com
       </A><BR>
    <I>Thu Nov 17 04:42:26 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007161.html">[mono-android] Mono Stacktrace and ANR
</A></li>
        <LI>Next message: <A HREF="007169.html">[mono-android] Mono Stacktrace and ANR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7168">[ date ]</a>
              <a href="thread.html#7168">[ thread ]</a>
              <a href="subject.html#7168">[ subject ]</a>
              <a href="author.html#7168">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David,

See my response to Piotr's &quot;Random exceptions...&quot; e-mail just now, I think
you're seeing the same problem.

Andy


-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of HSSoftware
Sent: 16 November 2011 23:52
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
Subject: [mono-android] Mono Stacktrace and ANR

I am getting an ANR from Android 5 seconds after seeing a mono stacktrace. I
would appreciate any guidance.

The code is in a ListView list adapter, trying to get a blob image from an
SQLite database. This same code sequence executes fine many times before
this failure. Heapsize is at about 18 MB, well within Kindle Fire 64 MB
limit. Is this a GC issue?

I have a longer trace available if desired.


11-16 17:37:49.982: I/AALog(2417): [990 18.1 +0.0] ShowImagesAsyncTask
workId=52479 seq=819 hasImg=False hasThumb=False
11-16 17:37:49.982: D/skia(2417): Loading ARM decoder...
11-16 17:37:49.982: D/skia(2417): Loading ARM decoder...
11-16 17:37:49.990: D/skia(2417): Loading ARM decoder...
11-16 17:37:49.998: D/skia(2417): Loading ARM decoder...
11-16 17:37:50.005: D/skia(2417): Loading ARM decoder...
11-16 17:37:50.013: D/skia(2417): Loading ARM decoder...
11-16 17:37:50.091: I/mono(2417): Stacktrace:
11-16 17:37:50.091: I/mono(2417):   at Android.Runtime.JNIEnv._GetArray
(intptr,System.Type) &lt;0x00117&gt;
11-16 17:37:50.091: I/mono(2417):   at Android.Runtime.JNIEnv.GetArray
(intptr,Android.Runtime.JniHandleOwnership,System.Type) &lt;0x00023&gt;
11-16 17:37:50.091: I/mono(2417):   at
Android.Database.AbstractCursor.GetBlob (int) &lt;0x00143&gt;
11-16 17:37:50.091: I/mono(2417):   at Aakf.Database.DbGet.GetImageThumbnail
(int,byte[]&amp;) &lt;0x00137&gt;
11-16 17:37:50.091: I/mono(2417):   at
Aakf.Cache.WorkThumbnailCache.RetrieveFromDatabase
(Aakf.Cache.WorkThumbnailCacheElement) &lt;0x00033&gt;
11-16 17:37:50.091: I/mono(2417):   at
Aakf.Cache.WorkThumbnailCache.GetThumbnail (AakfBiz.DataObjects.WorkObj)
&lt;0x00093&gt;
11-16 17:37:50.091: I/mono(2417):   at
Aakf.Screens.WallScreen.WorkThumbnailAdapter.GetView
(int,Android.Views.View,Android.Views.ViewGroup) &lt;0x002b7&gt;
11-16 17:37:50.091: I/mono(2417):   at
Android.Widget.IAdapterInvoker.n_GetView_ILandroid_view_View_Landroid_view_V
iewGroup_
(intptr,intptr,int,intptr,intptr) &lt;0x0008b&gt;
11-16 17:37:50.091: I/mono(2417):   at (wrapper dynamic-method)
object.2b988d1f-e5da-4b61-8a98-687f0824fd94
(intptr,intptr,int,intptr,intptr) &lt;0x0004b&gt;
11-16 17:37:50.091: I/mono(2417):   at (wrapper native-to-managed)
object.2b988d1f-e5da-4b61-8a98-687f0824fd94
(intptr,intptr,int,intptr,intptr) &lt;0xffffffff&gt;
11-16 17:37:55.240: I/InputDispatcher(1399): Application is not responding:
Window{406b9340 com.xxx.yyy/aakf.screens.imagegrid.ImageGridActivity
paused=false}.  5014.6ms since event, 5005.5ms since wait started
11-16 17:37:55.240: I/WindowManager(1399): Input event dispatching timed out
sending to com.xxx.yyy/aakf.screens.imagegrid.ImageGridActivity
11-16 17:37:55.248: I/Process(1399): Sending signal. PID: 2417 SIG: 3


--
View this message in context:
<A HREF="http://mono-for-android.1047100.n5.nabble.com/Mono-Stacktrace-and-ANR-tp4999">http://mono-for-android.1047100.n5.nabble.com/Mono-Stacktrace-and-ANR-tp4999</A>
478p4999478.html
Sent from the Mono for Android mailing list archive at Nabble.com.
_______________________________________________
Monodroid mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>

UNSUBSCRIBE INFORMATION:
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007161.html">[mono-android] Mono Stacktrace and ANR
</A></li>
	<LI>Next message: <A HREF="007169.html">[mono-android] Mono Stacktrace and ANR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7168">[ date ]</a>
              <a href="thread.html#7168">[ thread ]</a>
              <a href="subject.html#7168">[ subject ]</a>
              <a href="author.html#7168">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
