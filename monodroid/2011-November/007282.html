<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Simple project with massive memory leak
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Simple%20project%20with%20massive%20memory%20leak&In-Reply-To=CAC30OviugLK1vvwFfBTWLNPFvGbR40qT3wJww8txUbHB_qGNwQ%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007281.html">
   <LINK REL="Next"  HREF="007283.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Simple project with massive memory leak</H1>
    <B>Sayed Arian Kooshesh</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Simple%20project%20with%20massive%20memory%20leak&In-Reply-To=CAC30OviugLK1vvwFfBTWLNPFvGbR40qT3wJww8txUbHB_qGNwQ%40mail.gmail.com"
       TITLE="[mono-android] Simple project with massive memory leak">kooshesh at gmail.com
       </A><BR>
    <I>Sat Nov 26 22:12:06 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007281.html">[mono-android] Simple project with massive memory leak
</A></li>
        <LI>Next message: <A HREF="007283.html">[mono-android] Simple project with massive memory leak
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7282">[ date ]</a>
              <a href="thread.html#7282">[ thread ]</a>
              <a href="subject.html#7282">[ subject ]</a>
              <a href="author.html#7282">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>some more thoughts.


webclient is not part of a threadworkerqueue. Why are you calling
anything with threadworkerqueue? ... iw onder if that's your problem.

oh no are you requeuing the same function over and over again?

take out that damn reference to threadworkerqueue and see your program
work fine...


and pay me.


&quot;                ThreadPool.QueueUserWorkItem(delegate { DownloadString(); });&quot;

^^^^^
stupid
On Sat, Nov 26, 2011 at 9:06 PM, Sayed Arian Kooshesh
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">kooshesh at gmail.com</A>&gt; wrote:
&gt;<i> also,
</I>&gt;<i>
</I>&gt;<i> webclient is a wrapper of this:
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.aspx">http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.aspx</A>
</I>&gt;<i>
</I>&gt;<i> and backgroundworker.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> so. Stop using it. Use the smaller pieces. That's my advice. However,
</I>&gt;<i> I know the problems you are gonna face. This is just the tip. So i
</I>&gt;<i> really suggest you hire a pro before you go putting MORE bad code out
</I>&gt;<i> there. Not intending to be condescending but there is so much you
</I>&gt;<i> don't know about c# obviously and you are gonna go through such
</I>&gt;<i> frustrations and waste so much money. Just hire someone.
</I>&gt;<i>
</I>&gt;<i> On Sat, Nov 26, 2011 at 9:02 PM, Sayed Arian Kooshesh
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">kooshesh at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hi!
</I>&gt;&gt;<i> I read your thread. Looked at your code.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you don't know how to use background worker then you really
</I>&gt;&gt;<i> shouldn't be programming in this language as it's a core piece. Either
</I>&gt;&gt;<i> hire a pro, or use java..
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Sat, Nov 26, 2011 at 9:00 PM, SRI &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">srid68 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; Before responding, can you please take the time to read the
</I>&gt;&gt;&gt;<i> full thread.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; My Response was to Jack's issue about a Massive Memory Leak
</I>&gt;&gt;&gt;<i> observed in his enclosed project. (Did you see the Project?)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; I just pointed out by googling that WebClient has issues with
</I>&gt;&gt;&gt;<i> Memory and hence he needs to change his code.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; If you have a concrete suggestion to Jack and me about how we
</I>&gt;&gt;&gt;<i> can change this code (Please look at his enclosed project) so that we
</I>&gt;&gt;&gt;<i> avoid memory leak as well as implement the functionality of
</I>&gt;&gt;&gt;<i> downloading from a Url, i will be gratefull.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; I am not an expert, but I know of only two methods of
</I>&gt;&gt;&gt;<i> downloading from a Url, either using WebRequest or WebClient and I am
</I>&gt;&gt;&gt;<i> not sure how BackgroundWorker can improve this.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160;Thanks for you help.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Best Regards,
</I>&gt;&gt;&gt;<i> Sridharan Srinivasan
</I>&gt;&gt;&gt;<i> Alias Sri.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Sun, Nov 27, 2011 at 10:20 AM, Sayed Arian Kooshesh
</I>&gt;&gt;&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">kooshesh at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i> Use backgroundworker, not an async. Silly.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> you're using very outdated code. What did google threading? Googling
</I>&gt;&gt;&gt;&gt;<i> code is like sticking your wang in a glory hole. You're not gonna get
</I>&gt;&gt;&gt;&gt;<i> anything good.And you may come out with more problems than you went in
</I>&gt;&gt;&gt;&gt;<i> with.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> So
</I>&gt;&gt;&gt;&gt;<i> also, webclient i think wraps backgroundworker.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx">http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Use that. Avoid &quot;threads&quot; in c# cuz they are crap. I know from
</I>&gt;&gt;&gt;&gt;<i> experience. I've never developed mono-droid just an experienced c#
</I>&gt;&gt;&gt;&gt;<i> developer.
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> Monodroid mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Sridharan Srinivasan
</I>&gt;&gt;&gt;<i> Alias Sri
</I>&gt;&gt;&gt;<i> Ph:(65)98255785/(65)63922439
</I>&gt;&gt;&gt;<i> www.arshu.com
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Monodroid mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Extreme Knowledge is not something for which he programs a computer
</I>&gt;&gt;<i> but for which his computer is programming him.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -Wozniak
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Extreme Knowledge is not something for which he programs a computer
</I>&gt;<i> but for which his computer is programming him.
</I>&gt;<i>
</I>&gt;<i> -Wozniak
</I>&gt;<i>
</I>


-- 
Extreme Knowledge is not something for which he programs a computer
but for which his computer is programming him.

-Wozniak
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007281.html">[mono-android] Simple project with massive memory leak
</A></li>
	<LI>Next message: <A HREF="007283.html">[mono-android] Simple project with massive memory leak
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7282">[ date ]</a>
              <a href="thread.html#7282">[ thread ]</a>
              <a href="subject.html#7282">[ subject ]</a>
              <a href="author.html#7282">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
