<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Sharing code between iOS, Android and Windows Phone
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Sharing%20code%20between%20iOS%2C%0A%20Android%20and%20Windows%20Phone&In-Reply-To=CADEBC42.A287%25steven_john_pack%40yahoo.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007073.html">
   <LINK REL="Next"  HREF="007038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Sharing code between iOS, Android and Windows Phone</H1>
    <B>Miljenko Cvjetko</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Sharing%20code%20between%20iOS%2C%0A%20Android%20and%20Windows%20Phone&In-Reply-To=CADEBC42.A287%25steven_john_pack%40yahoo.com.au"
       TITLE="[mono-android] Sharing code between iOS, Android and Windows Phone">mcvjetko at holisticware.net
       </A><BR>
    <I>Sun Nov 13 16:46:04 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007073.html">[mono-android] Sharing code between iOS, Android and Windows Phone
</A></li>
        <LI>Next message: <A HREF="007038.html">[mono-android] How to convert byte[] to Java.Lang.Object ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7126">[ date ]</a>
              <a href="thread.html#7126">[ thread ]</a>
              <a href="subject.html#7126">[ subject ]</a>
              <a href="author.html#7126">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

On 2011.11.08 01:01, Steven Pack wrote:
&gt;<i> Thanks all. Sharing the code, not the binary. Got it. Makes sense.
</I>Here is multi project template for

  * platofrms - WP7, Mono4Android, RIA SL, WP, WF, asp.net
  * layers only 2 BL + PL

<A HREF="http://www.holisticware.net/HolisticWare/Know-How/Development/multitargeting-portability-interoperability/visual-studio-solutions.aspx">http://www.holisticware.net/HolisticWare/Know-How/Development/multitargeting-portability-interoperability/visual-studio-solutions.aspx</A>

Naming is Company.Project, no wizard for renaming. We'll go for batch script
renaming...
Right now our priority is to add MonoTouch projects and scripts for changing
guids on MT projects...

Caveats:

  * when opening solution one extra level dir is created. Dunno why...
    but searching!!
  * paths might be too long for %userprofile%\Documents\vs2010\blablabla

our is dropped in:
%userprofile%\Documents\Visual Studio 
2010\Templates\ProjectTemplates\Visual C#

and we solve problem with long paths by keeping source on disk close to 
root!

d:\src

regards

mel


&gt;<i>
</I>&gt;<i> Thanks for the detailed samples and write-ups. Very helpful.
</I>&gt;<i>
</I>&gt;<i> Steve
</I>&gt;<i>
</I>&gt;<i> From: Miljenko Cvjetko &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>&gt;&gt;
</I>&gt;<i> Organization: HolisticWare
</I>&gt;<i> Reply-To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>&gt;&gt;
</I>&gt;<i> Date: Tue, 08 Nov 2011 00:01:21 +0100
</I>&gt;<i> To: Discussions related to Mono for Android 
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>&gt;&gt;
</I>&gt;<i> Cc: Steven Pack &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">steven_john_pack at yahoo.com.au</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">steven_john_pack at yahoo.com.au</A>&gt;&gt;
</I>&gt;<i> Subject: Re: [mono-android] Sharing code between iOS, Android and 
</I>&gt;<i> Windows Phone
</I>&gt;<i>
</I>&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> On 2011.11.07 08:16, Steven Pack wrote:
</I>&gt;&gt;<i> Hi All,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm using Xamarin, specifically because I'd like to share as much 
</I>&gt;&gt;<i> code as possible between the platforms. I've noticed I can only 
</I>&gt;&gt;<i> reference library projects that target &quot;Mono for Android x.x&quot;. I'd 
</I>&gt;&gt;<i> hoped to be able to simply create a Mono class library and only use 
</I>&gt;&gt;<i> the classes supported by MonoDroid or MonoTouch and reference said 
</I>&gt;&gt;<i> project from either platform.
</I>&gt;<i> Our team does it with single solution and projects for each platform 
</I>&gt;<i> and shares on source
</I>&gt;<i> code level with links to source files (cs, xaml etc) not IL (by 
</I>&gt;<i> referencing assemblies).
</I>&gt;<i>
</I>&gt;<i> Architectural only 2 layers Business Logic BL and Presentation Layer 
</I>&gt;<i> PL with
</I>&gt;<i> assemblies per platform... Controlers and ViewModels in MVC and MVVM 
</I>&gt;<i> can be
</I>&gt;<i> moved to those assemblies...
</I>&gt;<i>
</I>&gt;<i>   * Business logic (BL) per platform linked with Project Linker.
</I>&gt;<i>       o Starting with WP7x project as &quot;smallest common denominator -
</I>&gt;<i>         subset&quot;
</I>&gt;<i>         (because of various restrictions - Android Mono4Android and iOS
</I>&gt;<i>         MonoTouch are still in front).
</I>&gt;<i>       o all projects have WP7 project as &quot;linked source project&quot;
</I>&gt;<i>         (Project Linker terminology)
</I>&gt;<i>         meaning code in them/their folders is just a link to cs file
</I>&gt;<i>         in WP7x prj
</I>&gt;<i>   * Presentation Layer PL dlls (User Control library project types)
</I>&gt;<i>       o our team uses them for reusing
</I>&gt;<i>           + some UI code if it can be shared across projects
</I>&gt;<i>           + xaml controls (write up is on the way).
</I>&gt;<i>       o MonoDroid - does not apply cos layouts from other
</I>&gt;<i>         assemblies cannot be used - yet
</I>&gt;<i>   * Presentation Layer EXEs - main entry points - per platform
</I>&gt;<i>   * Unit testing Projects
</I>&gt;<i>       o if Windows Forms BL assembly reuses bunch of WP7x code and adds
</I>&gt;<i>         some more, then NUnit test for WF or WPF project will cover a
</I>&gt;<i>         lot from
</I>&gt;<i>         WP7x and You are not stuck with WP7 based UnitTesting in emulator
</I>&gt;<i>
</I>&gt;<i> These below are our working notes on recommendation for solution and 
</I>&gt;<i> project
</I>&gt;<i> structure and naming...
</I>&gt;<i> Team is still working on it and it is far from stable, but You could 
</I>&gt;<i> get the idea...
</I>&gt;<i> <A HREF="http://www.holisticware.net/HolisticWare/Know-How/Development/Visual-Studio-Project-Structure.aspx">http://www.holisticware.net/HolisticWare/Know-How/Development/Visual-Studio-Project-Structure.aspx</A>
</I>&gt;<i> Numerical stuff is just to have projects ordered in Solution Explorer, 
</I>&gt;<i> because with growing
</I>&gt;<i> number of platforms and more architectural layers.
</I>&gt;<i>
</I>&gt;<i> Project Linker exclusion
</I>&gt;<i> <A HREF="http://www.holisticware.net/HolisticWare/Know-How/Development/visual-studio-project-linker.aspx">http://www.holisticware.net/HolisticWare/Know-How/Development/visual-studio-project-linker.aspx</A>
</I>&gt;<i>
</I>&gt;<i> ... and we are moving our site to new version, so bunch of texts is 
</I>&gt;<i> waiting to be published...
</I>&gt;<i>
</I>&gt;<i> HTH
</I>&gt;<i>
</I>&gt;<i> regards
</I>&gt;<i>
</I>&gt;<i> mel
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What am I missing here? How does one go about sharing code?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Steve
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Monodroid mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Miljenko Cvjetko dipl.ing. ET
</I>&gt;<i> 	Direktor/CEO
</I>&gt;<i> 	Projektant rje&#353;enja/Solution Architect	
</I>&gt;<i> 	Razvojni programer/Senior developer
</I>&gt;<i> 	Voditelj projekta/Project Manager
</I>&gt;<i>
</I>&gt;<i> IX ju&#382;na obala 13
</I>&gt;<i> Kajzerica Zagreb
</I>&gt;<i> T: 385 1 7775555
</I>&gt;<i> M: 385 91 557 447 3
</I>&gt;<i> F: 385 1 7779556
</I>&gt;<i> e:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>
</I>&gt;<i> w:<A HREF="http://www.holisticware.net">http://www.holisticware.net</A>
</I>

-- 
Miljenko Cvjetko dipl.ing. ET
	Direktor/CEO
	Projektant rje&#353;enja/Solution Architect	
	Razvojni programer/Senior developer
	Voditelj projekta/Project Manager

IX ju&#382;na obala 13
Kajzerica Zagreb
T: 385 1 7775555
M: 385 91 557 447 3
F: 385 1 7779556
e: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>
w: <A HREF="http://www.holisticware.net">http://www.holisticware.net</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20111113/98ce2fd6/attachment-0001.html">http://lists.ximian.com/pipermail/monodroid/attachments/20111113/98ce2fd6/attachment-0001.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007073.html">[mono-android] Sharing code between iOS, Android and Windows Phone
</A></li>
	<LI>Next message: <A HREF="007038.html">[mono-android] How to convert byte[] to Java.Lang.Object ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7126">[ date ]</a>
              <a href="thread.html#7126">[ thread ]</a>
              <a href="subject.html#7126">[ subject ]</a>
              <a href="author.html#7126">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
