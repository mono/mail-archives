<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Getting the xml file for a view resoruce
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Getting%20the%20xml%20file%20for%20a%20view%20resoruce&In-Reply-To=1322363195308-5025833.post%40n5.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007292.html">
   <LINK REL="Next"  HREF="007410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Getting the xml file for a view resoruce</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Getting%20the%20xml%20file%20for%20a%20view%20resoruce&In-Reply-To=1322363195308-5025833.post%40n5.nabble.com"
       TITLE="[mono-android] Getting the xml file for a view resoruce">jonp at xamarin.com
       </A><BR>
    <I>Sun Nov 27 12:53:11 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007292.html">[mono-android] Getting the xml file for a view resoruce
</A></li>
        <LI>Next message: <A HREF="007410.html">[mono-android] Getting the xml file for a view resoruce
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7310">[ date ]</a>
              <a href="thread.html#7310">[ thread ]</a>
              <a href="subject.html#7310">[ subject ]</a>
              <a href="author.html#7310">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Nov 26, 2011, at 10:06 PM, quan wrote:
&gt;<i> The problem is the following:
</I>&gt;<i> 
</I>&gt;<i> Reading the AXML file of the view that is saved in the resources/layout folder.
</I>
The solution is a question: do you need to embed it as an AndroidResource? If not, embed it as a normal resource, and use System.Reflection.Assembly.GetManifestResourceStream() to read the XML. If you do, you may be able to edit the .csproj and add a &lt;Resource/&gt; element so that the file is embedded as a Resource in addition to being built as an AndroidResource (though I have no idea if this will actually work or confuse the IDE or...).

As for why the GetLayout(int)/GetXml(int)/etc. methods are missing, it's because we're aiming to reduce classlib duplication, and nuked the Java XML APIs from our binding, which caused these methods to also be hidden. We intend to provide an XmlReader-based mapping in the future to expose these methods, but haven't gotten there yet. In the meantime, if you really want/need to invoke these methods, you need to use Android.Runtime.JNIEnv and use the JNI infrastructure to invoke the Java method.

Finally, as for why using OpenRawResource() failed, it's because Android &quot;compiles&quot; XML into an internal binary format (presumably to speed up reading/parsing), and it's this binary format that you're reading. I have no idea what the format is, and (obviously) it's convertible into XML, but I have no idea how to do so...

 - Jon

</PRE>















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007292.html">[mono-android] Getting the xml file for a view resoruce
</A></li>
	<LI>Next message: <A HREF="007410.html">[mono-android] Getting the xml file for a view resoruce
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7310">[ date ]</a>
              <a href="thread.html#7310">[ thread ]</a>
              <a href="subject.html#7310">[ subject ]</a>
              <a href="author.html#7310">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
