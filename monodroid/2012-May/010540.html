<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] GLDiag not working in 4.0.6 on Samsung Galaxy S
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20GLDiag%20not%20working%20in%204.0.6%20on%20Samsung%20Galaxy%20S&In-Reply-To=%3CCA%2BpgodouR4%2BiytUQ3YRs%2BDsrvFoN0_03V9waaee4yaVrV9oAkw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010521.html">
   <LINK REL="Next"  HREF="009976.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] GLDiag not working in 4.0.6 on Samsung Galaxy S</H1>
    <B>Andreia Gaita</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20GLDiag%20not%20working%20in%204.0.6%20on%20Samsung%20Galaxy%20S&In-Reply-To=%3CCA%2BpgodouR4%2BiytUQ3YRs%2BDsrvFoN0_03V9waaee4yaVrV9oAkw%40mail.gmail.com%3E"
       TITLE="[mono-android] GLDiag not working in 4.0.6 on Samsung Galaxy S">shana at spoiledcat.net
       </A><BR>
    <I>Mon May 28 11:58:13 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010521.html">[mono-android] GLDiag not working in 4.0.6 on Samsung Galaxy S
</A></li>
        <LI>Next message: <A HREF="009976.html">[mono-android] Create Surface Failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10540">[ date ]</a>
              <a href="thread.html#10540">[ thread ]</a>
              <a href="subject.html#10540">[ subject ]</a>
              <a href="author.html#10540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey guys,

Not sure if this matter has been overcome since, but just in case it
hasn't, here's some probably useful info.

On May 18, 2012, at 12:17 AM, vchelaru wrote:
&gt;&gt;<i> We have updated to 4.2.1 and are getting the same error on the Motorola Droid (the first model) using OS version 2.2.3:
</I>&gt;<i>
</I>&gt;&gt;<i> OpenTK.Platform.Android.EglException: EglCreateWindowSurface failed with error 12288 (0x3000)
</I>&gt;&gt;<i> at OpenTK.Platform.Android.AndroidWindow.CreateSurface (Javax.Microedition.Khronos.Egl.EGLConfig) &lt;0x00124&gt;
</I>
&gt;<i>Want to know something funny? Error 0x3000 is EGL_SUCCESS. #facepalm
</I>&gt;<i>I'm guessing that calling eglGetError() clears out the error, and we're not preserving the original eglGetError() value. #argh
</I>&gt;<i>Worse, I'm the newly appointed OpenTK maintainer, and (of course) the hardware I have doesn't fail here. #FML
</I>&gt;<i>Which Android version is your device running? Is this an original Samsung Galaxy S or an S II? Does GLDiag fail on the emulator by any chance?
</I>
GLDiag is designed to fail in most cases. What it basically does is go
through every egl configuration that is reported by the device as
being &quot;supposedly&quot; valid and tries to create a surface with it. The
EGL_SUCCESS error is the stupid way that devices that return partially
invalid configurations have to say &quot;hey, this is supposed to work, but
oops, it doesn't&quot;

Basically, the default settings that android (and monodroid) use
aren't valid in every device, and a lot of devices lie when asked for
valid configurations.

The fix that went in to monodroid made sure that it is possible to
pass absolutely no minimum requirements when asking for a valid
configuration. This seems to make such devices return good
configurations (when they'd otherwise would not).

Devices that fail like this seem to have a problem mostly when setting
base color values.
The GLCube, GLTriangle and TexturedCube samples have examples of
fallback code in the CreateFramebuffer method to handle cases like
this.
They try, in turn, to request different types of configurations until one works.

So, when GLDiag fails miserably, try the other GL samples and see how
they work in your hardware, and possibly tweak the values in the
samples until you get something working.

andreia gaita
--------------------
blog.worldofcoding.com
github.com/andreiagaita
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010521.html">[mono-android] GLDiag not working in 4.0.6 on Samsung Galaxy S
</A></li>
	<LI>Next message: <A HREF="009976.html">[mono-android] Create Surface Failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10540">[ date ]</a>
              <a href="thread.html#10540">[ thread ]</a>
              <a href="subject.html#10540">[ subject ]</a>
              <a href="author.html#10540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
