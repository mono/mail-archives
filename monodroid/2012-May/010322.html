<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Invalid bridge callback version. V4.2 - What's	it mean?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Invalid%20bridge%20callback%20version.%20V4.2%20-%20What%27s%0A%09it%20mean%3F&In-Reply-To=%3C34CFEB38-06B1-47B4-9A21-5E22A0449E1F%40xamarin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010278.html">
   <LINK REL="Next"  HREF="010331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Invalid bridge callback version. V4.2 - What's	it mean?</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Invalid%20bridge%20callback%20version.%20V4.2%20-%20What%27s%0A%09it%20mean%3F&In-Reply-To=%3C34CFEB38-06B1-47B4-9A21-5E22A0449E1F%40xamarin.com%3E"
       TITLE="[mono-android] Invalid bridge callback version. V4.2 - What's	it mean?">jonp at xamarin.com
       </A><BR>
    <I>Wed May 16 21:05:23 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010278.html">[mono-android] Invalid bridge callback version. V4.2 - What's it	mean?
</A></li>
        <LI>Next message: <A HREF="010331.html">[mono-android] Invalid bridge callback version. V4.2 - What's	it mean?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10322">[ date ]</a>
              <a href="thread.html#10322">[ thread ]</a>
              <a href="subject.html#10322">[ subject ]</a>
              <a href="author.html#10322">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On May 16, 2012, at 6:47 AM, Stuart Lodge wrote:
&gt;<i> After upgrading from the alpha to release of 4.2
</I>
Your upgrade is apparently incomplete. The &quot;Invalid bridge callback version. Expected 2 but got -2126498020&quot; message is coming from Mono's GC:

	<A HREF="https://github.com/mono/mono/blob/master/mono/metadata/sgen-bridge.c#L283">https://github.com/mono/mono/blob/master/mono/metadata/sgen-bridge.c#L283</A>

Mono for Android startup uses Mono's GC bridge mechanism to deal with the cross-VM GC semantics, and requires that the libmonodroid.so in your app be in sync with the libmonosgen-2.0.so on your device. For example, if your Debug app was built against Mono for Android 4.0.6 and you installed the 4.2.1 Debug runtime on the device, things will break (and the above message is something I would expect, among other potential breakage).

Regardless, for Debug apps, the app _must_ be built against the same Mono for Android version as the Debug runtime present on the device. Whenever you install an app within the IDE we'll ensure that the versions match, and will upgrade the on-device Debug runtime if appropriate, but that only helps at installation time. If you're running an &quot;older&quot; Debug app, things can get out of sync and break in weird ways.

In short, rebuild and redeploy your app, and it should work again. If you don't want Debug runtime upgrades to break your app, install a Release build. :-)

 - Jon

</PRE>






















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010278.html">[mono-android] Invalid bridge callback version. V4.2 - What's it	mean?
</A></li>
	<LI>Next message: <A HREF="010331.html">[mono-android] Invalid bridge callback version. V4.2 - What's	it mean?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10322">[ date ]</a>
              <a href="thread.html#10322">[ thread ]</a>
              <a href="subject.html#10322">[ subject ]</a>
              <a href="author.html#10322">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
