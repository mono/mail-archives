<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Problems starting an app in 4.2 from VS2010
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Problems%20starting%20an%20app%20in%204.2%20from%20VS2010&In-Reply-To=%3CCANdg_tQD2RmCzkrioo9cOd8gHSwA64hyQCmXVvCVhVcoH1p79Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010318.html">
   <LINK REL="Next"  HREF="010321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Problems starting an app in 4.2 from VS2010</H1>
    <B>Stuart Lodge</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Problems%20starting%20an%20app%20in%204.2%20from%20VS2010&In-Reply-To=%3CCANdg_tQD2RmCzkrioo9cOd8gHSwA64hyQCmXVvCVhVcoH1p79Q%40mail.gmail.com%3E"
       TITLE="[mono-android] Problems starting an app in 4.2 from VS2010">me at slodge.com
       </A><BR>
    <I>Wed May 16 20:03:13 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010318.html">[mono-android] Problems starting an app in 4.2 from VS2010
</A></li>
        <LI>Next message: <A HREF="010321.html">[mono-android] Problems starting an app in 4.2 from VS2010
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10319">[ date ]</a>
              <a href="thread.html#10319">[ thread ]</a>
              <a href="subject.html#10319">[ subject ]</a>
              <a href="author.html#10319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Have run out of time for today...

But what I think the problem is any file which is not directly referenced.

e.g. TwitterSearch  referenced Cirrious.MvvmCross.Droid which
referenced Cirrious.MvvmCross.Json

By referencing Cirrious.MvvmCross.Json directly from TwitterSearch then the
process failed on the next file along (NewtonSoft.Json) instead

If it helps, this was building in the previous version (including the 4.2
alpha)

More to follow

Stuart

On 16 May 2012 20:39, Stuart Lodge &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">me at slodge.com</A>&gt; wrote:

&gt;<i> I knew it was a mistake sending you the trace from the PCL version....
</I>&gt;<i>
</I>&gt;<i> Before I get distracted, please remember that I'm seeing the problem in
</I>&gt;<i> non-PCL code too :)
</I>&gt;<i>
</I>&gt;<i> Now the distraction:
</I>&gt;<i>
</I>&gt;<i> For the explanation on System.Windows.dll, this is the way that I've
</I>&gt;<i> gotten PCLv2 Profile104 libraries to run inside MonoDroid. Basically I have
</I>&gt;<i> added two shim DLLs to my MonoDroid projects which do the necessary type
</I>&gt;<i> forwarding and/or type declaration for:
</I>&gt;<i> - System.Net - all types forward to monodroid's System.dll - see
</I>&gt;<i> <A HREF="https://github.com/slodge/MvvmCross/tree/vnext/Cirrious/System.Net">https://github.com/slodge/MvvmCross/tree/vnext/Cirrious/System.Net</A>
</I>&gt;<i> - System.Windows. - a few types declared (e.g. ICommand) and a few
</I>&gt;<i> forwarded (e.g. ObservableCollection) -  see
</I>&gt;<i> <A HREF="https://github.com/slodge/MvvmCross/tree/vnext/Cirrious/System.Windows">https://github.com/slodge/MvvmCross/tree/vnext/Cirrious/System.Windows</A>
</I>&gt;<i>
</I>&gt;<i> Slightly longer explanation on
</I>&gt;<i> <A HREF="http://slodge.blogspot.co.uk/2012/05/portable-class-libraries-in-mvvmcross.html">http://slodge.blogspot.co.uk/2012/05/portable-class-libraries-in-mvvmcross.html</A>
</I>&gt;<i>  and
</I>&gt;<i> <A HREF="http://slodge.blogspot.co.uk/2012/04/using-portable-library-tools-for.html">http://slodge.blogspot.co.uk/2012/04/using-portable-library-tools-for.html</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Now I'll go look at the Json problem - thanks for the help :)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 16 May 2012 18:40, Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jonp at xamarin.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On May 16, 2012, at 1:11 PM, Stuart Lodge wrote:
</I>&gt;&gt;<i> &gt; Important note: the code below loads PCL libraries, but I can also
</I>&gt;&gt;<i> reproduce this on non-PCL code if required - the project I first reported
</I>&gt;&gt;<i> the problem on was &quot;normal monodroid-only code&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This seems odd:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; 05-16 16:57:34.910 D/Mono    ( 6484): Assembly Loader probing location:
</I>&gt;&gt;<i> '/data/data/com.cirrious.twittersearch/files/.__override__/System.Windows.dll'.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Why is System.Windows.dll present? Where are you getting
</I>&gt;&gt;<i> System.Windows.dll from?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Moving on...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; 05-16 16:57:34.915 D/Mono    ( 6484): Assembly Loader probing location:
</I>&gt;&gt;<i> '/Users/builder/data/lanes/monodroid-mac-4.2-series/bb1beee2/source/monodroid/builds/install/mono-armv7/lib/Cirrious.MvvmCross.Plugins.Json.dll'.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is very odd. For all the preceding assembly loads, it looks in the
</I>&gt;&gt;<i> .__override__ directory first, e.g.:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; 05-16 16:57:34.910 D/Mono    ( 6484): Assembly Loader probing location:
</I>&gt;&gt;<i> '/data/data/com.cirrious.twittersearch/files/.__override__/System.Windows.dll'.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The fact that it's probing for
</I>&gt;&gt;<i> /Users/builder/data/lanes/monodroid-mac-4.2-series/bb1beee2/source/monodroid/builds/install/mono-armv7/lib
</I>&gt;&gt;<i> suggests that it doesn't exist in the .__override__ directory.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Does Cirrious.MvvmCross.Plugins.Json.dll exist on the device?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        adb shell ls -l
</I>&gt;&gt;<i> /data/data/com.cirrious.twittersearch/files/.__override__
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If Cirrious.MvvmCross.Plugins.Json.dll isn't there, that's the problem;
</I>&gt;&gt;<i> it needs to be part of your Application project references.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What's odd is that Cirrious.MvvmCross.Plugins.Json.dll is included in
</I>&gt;&gt;<i> your .apk. I'm not sure why it would be found by .apk generation but not
</I>&gt;&gt;<i> fast deployment... :-/
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  - Jon
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Monodroid mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20120516/533fd4d0/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20120516/533fd4d0/attachment.html</A>&gt;
</PRE>













































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010318.html">[mono-android] Problems starting an app in 4.2 from VS2010
</A></li>
	<LI>Next message: <A HREF="010321.html">[mono-android] Problems starting an app in 4.2 from VS2010
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10319">[ date ]</a>
              <a href="thread.html#10319">[ thread ]</a>
              <a href="subject.html#10319">[ subject ]</a>
              <a href="author.html#10319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
