<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Link to libmonosgen-2.0.so in emulator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Link%20to%20libmonosgen-2.0.so%20in%20emulator&In-Reply-To=%3CCAF%2BQqDo5wEboLNmBszdA7kxE5ZJpC0oSZm9nhy1frARFTz86vA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010019.html">
   <LINK REL="Next"  HREF="010029.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Link to libmonosgen-2.0.so in emulator</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Link%20to%20libmonosgen-2.0.so%20in%20emulator&In-Reply-To=%3CCAF%2BQqDo5wEboLNmBszdA7kxE5ZJpC0oSZm9nhy1frARFTz86vA%40mail.gmail.com%3E"
       TITLE="[mono-android] Link to libmonosgen-2.0.so in emulator">kumpera at xamarin.com
       </A><BR>
    <I>Wed May  2 20:50:55 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010019.html">[mono-android]	http://blog.xamarin.com/2012/05/01/android-in-c-sharp/
</A></li>
        <LI>Next message: <A HREF="010029.html">[mono-android] AIDL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10028">[ date ]</a>
              <a href="thread.html#10028">[ thread ]</a>
              <a href="subject.html#10028">[ subject ]</a>
              <a href="author.html#10028">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Apr 26, 2012 at 3:44 PM, fmcicreate &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">filipe.m.cardoso at icreateconsulting.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> Jonathan Pryor-2 wrote
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does this happen on mono/linux or mono/OSX? Or just on Android?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Could you please file a test case so that we can investigate?
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> I tested on windows with this example:
</I>&gt;<i> <A HREF="http://lists.ximian.com/pipermail/mono-bugs/2006-February/038966.html">http://lists.ximian.com/pipermail/mono-bugs/2006-February/038966.html</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/pipermail/mono-bugs/2006-February/038966.html">http://lists.ximian.com/pipermail/mono-bugs/2006-February/038966.html</A>
</I>&gt;<i> and it seems to works.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Output:
</I>&gt;<i> &gt; Attaching thread...
</I>&gt;<i> &gt; Attaching thread...
</I>&gt;<i> &gt; Thread (0329E000) attached.
</I>&gt;<i> &gt; Detaching thread (0329E000)
</I>&gt;<i> &gt; Thread (0329E000) detached.
</I>&gt;<i> &gt; (.....)
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> My project is rather big..but i'll try to reduce to a simple test case when
</I>&gt;<i> I get the chance.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On an unrelated subject, i would appreciate your help with this situation:
</I>&gt;<i> From the DLL side (C#) I have a class named A, which has a field of the
</I>&gt;<i> type
</I>&gt;<i> B (another class in the DLL).
</I>&gt;<i> From the C++ side, I:
</I>&gt;<i>   -initialize the mono runtime
</I>&gt;<i>   -load the assembly
</I>&gt;<i>   -create an object of type MyClassTest and initialize it
</I>&gt;<i>         (obj = mono_object_new (domain, klass_MyClassTest);)
</I>&gt;<i>         (this class has a method that receives as parameters 2 classes from
</I>&gt;<i> other DLL,
</I>&gt;<i>             and I initialize this classes as obj1 and obj2)
</I>&gt;<i>  -call the method on the DLL
</I>&gt;<i>         void* params[] = { obj1, &amp;obj2 }; //obj2 being the class A with a
</I>&gt;<i> field B
</I>&gt;<i>         mono_runtime_invoke (MyMethod, obj, params, NULL);
</I>&gt;<i>
</I>&gt;<i> My question is: Since &amp;obj2 will have the result of the method execution,
</I>&gt;<i> how can I have this class represented in a C++ class (to use it around and
</I>&gt;<i> work with its fields) instead of having a obj2 of type MonoObject?
</I>&gt;<i>
</I>
You can use COM interop for that or you can use a GC handle to have a
reference to the managed object
and manipulate that.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20120502/2b0753a0/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20120502/2b0753a0/attachment.html</A>&gt;
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010019.html">[mono-android]	http://blog.xamarin.com/2012/05/01/android-in-c-sharp/
</A></li>
	<LI>Next message: <A HREF="010029.html">[mono-android] AIDL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10028">[ date ]</a>
              <a href="thread.html#10028">[ thread ]</a>
              <a href="subject.html#10028">[ subject ]</a>
              <a href="author.html#10028">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
