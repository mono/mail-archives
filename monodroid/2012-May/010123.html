<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] DataContractJsonSerializer and Nullable&lt;T&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20DataContractJsonSerializer%20and%20Nullable%3CT%3E&In-Reply-To=%3CCE3C87573DB3DD48AFE5E7A58AEB16CFAF5F922AD5%40SERVER.lowfamily.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010152.html">
   <LINK REL="Next"  HREF="010145.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] DataContractJsonSerializer and Nullable&lt;T&gt;</H1>
    <B>Joel Low</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20DataContractJsonSerializer%20and%20Nullable%3CT%3E&In-Reply-To=%3CCE3C87573DB3DD48AFE5E7A58AEB16CFAF5F922AD5%40SERVER.lowfamily.local%3E"
       TITLE="[mono-android] DataContractJsonSerializer and Nullable&lt;T&gt;">joel at joelsplace.sg
       </A><BR>
    <I>Thu May 10 01:38:35 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010152.html">[mono-android] Monodroid 4.1.1 AsyncTask
</A></li>
        <LI>Next message: <A HREF="010145.html">[mono-android] DataContractJsonSerializer and Nullable&lt;T&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10123">[ date ]</a>
              <a href="thread.html#10123">[ thread ]</a>
              <a href="subject.html#10123">[ subject ]</a>
              <a href="author.html#10123">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello list,

 

I've been using the DataContractJsonSerializer class and I've noticed there
is a behaviour difference between the Mono library used and the .NET
Framework with regard to the Nullable&lt;T&gt; type. When deserialising from JSON
and a DataMember is not found, and a type is not Nullable, the
deserialization fails (expected behaviour.) However, when I replaced the
value type (uint, for instance) to Nullable&lt;T&gt;, .NET (4.0) will deserialise
the object and set the member to null. My experience with Monodroid to date
is that it will still refuse to deserialise the member even if the
DataMember is a Nullable&lt;uint&gt;.

 

Is the behaviour deliberate? My workaround has been to set the DataMember on
a string instead, and then manually run a ChangeType when the uint is needed
as a property.

 

Regards,

Joel

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20120510/e3c45029/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20120510/e3c45029/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 6547 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20120510/e3c45029/attachment.bin">http://lists.ximian.com/pipermail/monodroid/attachments/20120510/e3c45029/attachment.bin</A>&gt;
</PRE>




































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010152.html">[mono-android] Monodroid 4.1.1 AsyncTask
</A></li>
	<LI>Next message: <A HREF="010145.html">[mono-android] DataContractJsonSerializer and Nullable&lt;T&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10123">[ date ]</a>
              <a href="thread.html#10123">[ thread ]</a>
              <a href="subject.html#10123">[ subject ]</a>
              <a href="author.html#10123">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
