<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Trouble with HttpListener on Release Builds
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Trouble%20with%20HttpListener%20on%20Release%20Builds&In-Reply-To=%3C3134B5EDB57D54469AF5FDC030D55092046B65D4%40WIC003EBCLV1.exchange.server-login.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010466.html">
   <LINK REL="Next"  HREF="010477.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Trouble with HttpListener on Release Builds</H1>
    <B>Paul Donovan</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Trouble%20with%20HttpListener%20on%20Release%20Builds&In-Reply-To=%3C3134B5EDB57D54469AF5FDC030D55092046B65D4%40WIC003EBCLV1.exchange.server-login.com%3E"
       TITLE="[mono-android] Trouble with HttpListener on Release Builds">pdonovan at cosmos21.com.au
       </A><BR>
    <I>Wed May 23 07:05:41 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010466.html">[mono-android] Trouble with HttpListener on Release Builds
</A></li>
        <LI>Next message: <A HREF="010477.html">[mono-android] Trouble with HttpListener on Release Builds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10476">[ date ]</a>
              <a href="thread.html#10476">[ thread ]</a>
              <a href="subject.html#10476">[ subject ]</a>
              <a href="author.html#10476">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Have you added the INTERNET required permission to your application?
It's set automatically in Debug builds so that the debugger can
communicate with the target, but you have to specify it explicitly for
release mode. In MonoDevelop you add it in your project's Options-&gt;Mono
for Android Application property panel.

Regards,

Paul


-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of cdodge
Sent: Tuesday, 22 May 2012 5:52 AM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
Subject: [mono-android] Trouble with HttpListener on Release Builds

Hi,

We've recently purchased MonoDroid/MonoTouch licenses and I'm deploying
my app to actual devices now. However, now I'm seeing something odd with
a HttpListener (on port 1968) on MonoDroid only on release builds onto
an actual device.

E/mono    (20304): Unhandled Exception:
System.Net.Sockets.SocketException:
Access denied
E/mono    (20304):   at System.Net.Sockets.Socket..ctor (AddressFamily
family, SocketType type, ProtocolType proto) [0x00000] in &lt;filename
unknown&gt;:0
E/mono    (20304):   at System.Net.EndPointListener..ctor
(System.Net.IPAddress addr, Int32 port, Boolean secure) [0x00000] in
&lt;filename unknown&gt;:0 
E/mono    (20304):   at System.Net.EndPointManager.GetEPListener
(System.Net.IPAddress addr, Int32 port, System.Net.HttpListener
listener, Boolean secure) [0x00000] in &lt;filename unknown&gt;:0 
E/mono    (20304):   at System.Net.EndPointManager.AddPrefixInternal
(System.String p, System.Net.HttpListener listener) [0x00000] in
&lt;filename
unknown&gt;:0
E/mono    (20304):   at System.Net.EndPointManager.AddListener
(System.Net.HttpListener listener) [0x00000] in &lt;filename unknown&gt;:0 

I presume there's some security permissions thing going on here.

Debug builds are fine. Also, same code running on MonoTouch works fine
in all configurations.

What could be the difference between Debug and Release build runtime
environments? Are debug builds running under a different security
level?!?

Thanks for any help.

--
View this message in context:
<A HREF="http://mono-for-android.1047100.n5.nabble.com/Trouble-with-HttpListener-">http://mono-for-android.1047100.n5.nabble.com/Trouble-with-HttpListener-</A>
on-Release-Builds-tp5709946.html
Sent from the Mono for Android mailing list archive at Nabble.com.
_______________________________________________
Monodroid mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>

UNSUBSCRIBE INFORMATION:
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010466.html">[mono-android] Trouble with HttpListener on Release Builds
</A></li>
	<LI>Next message: <A HREF="010477.html">[mono-android] Trouble with HttpListener on Release Builds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10476">[ date ]</a>
              <a href="thread.html#10476">[ thread ]</a>
              <a href="subject.html#10476">[ subject ]</a>
              <a href="author.html#10476">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
