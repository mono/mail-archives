<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] problem with a Javalist (ArrayAdapter)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20problem%20with%20a%20Javalist%20%28ArrayAdapter%29&In-Reply-To=6999B46F-4CBE-479C-9BA2-7A7C3C8FBFEF%40xamarin.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008251.html">
   <LINK REL="Next"  HREF="008245.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] problem with a Javalist (ArrayAdapter)</H1>
    <B>John Murray</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20problem%20with%20a%20Javalist%20%28ArrayAdapter%29&In-Reply-To=6999B46F-4CBE-479C-9BA2-7A7C3C8FBFEF%40xamarin.com"
       TITLE="[mono-android] problem with a Javalist (ArrayAdapter)">john at murray.gb.com
       </A><BR>
    <I>Thu Jan  5 12:41:05 EST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="008251.html">[mono-android] problem with a Javalist (ArrayAdapter)
</A></li>
        <LI>Next message: <A HREF="008245.html">[mono-android] Switching from Mono to Java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8255">[ date ]</a>
              <a href="thread.html#8255">[ thread ]</a>
              <a href="subject.html#8255">[ subject ]</a>
              <a href="author.html#8255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Jonathon
I knew it had something to do with a strict declaration 
- I just wasn't sure how I should do the cast
Didn't know I could declare it as a javalist - I was trying all kinds of
things like Java.Utils.Arrays etc

I've got it going now - Many many thanks 
John Murray 


-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of Jonathan Pryor
Sent: 05 January 2012 15:52
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">john at murray.gb.com</A>; Discussions related to Mono for Android
Subject: Re: [mono-android] problem with a Javalist (ArrayAdapter)

On Jan 5, 2012, at 9:36 AM, John Murray wrote:
&gt;<i> The array is a list of list  thus List&lt;List&lt;string&gt;&gt;()
</I>
Is it really a List&lt;List&lt;string&gt;&gt;? Conceptually, sure, but actually?

&gt;<i>  So I come to the click handler and want to extract the 'Keyno' from the
</I>array of the line selected
&gt;<i>  
</I>&gt;<i> I've got this code
</I>&gt;<i>    private void loglist_ItemClick(object sender, ItemEventArgs e)
</I>&gt;<i>         {
</I>&gt;<i>             int pos = Convert.ToInt32(e.Id);
</I>&gt;<i>             var selitem = loglist.Adapter.GetItem(pos);
</I>
What is the type of `loglist`? Of `loglist.Adapter`? Are you providing your
own Adapter (by e.g. subclassing BaseAdapter), or are you using e.g.
ArrayAdapter&lt;T&gt;?

`selitem` is very probably a Java.Lang.Object, as that's what
BaseAdapter.GetItem(int) returns.

&gt;<i>             var selitem2 = selitem.ToArray&lt;string&gt;();
</I>&gt;<i>             string sel2 = selitem2.ElementAt(0).ToString();
</I>&gt;<i>  
</I>&gt;<i> Sorry about the various selitems I've been trying everything - the
</I>debugger tells me that the selitem is a JavaList

The debugger knows about the runtime types involved. The compiler does not.
It sounds like you might be misunderstanding `var`. Your statement:

	var selitem = loglist.Adapter.GetItem(pos);

is treated identically by the compiler as:

	Java.Lang.Object selitem = loglist.Adapter.GetItem(pos);

`var` is not `dynamic`. :-)

If `selitem` is a JavaList, and you want to grab elements from it, cast it:

	JavaList selitems = (JavaList) loglist.Adapter.GetItem(pos);
	string sel2 = selitems[0].ToString();

Thanks,
 - Jon

_______________________________________________
Monodroid mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>

UNSUBSCRIBE INFORMATION:
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>

</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008251.html">[mono-android] problem with a Javalist (ArrayAdapter)
</A></li>
	<LI>Next message: <A HREF="008245.html">[mono-android] Switching from Mono to Java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8255">[ date ]</a>
              <a href="thread.html#8255">[ thread ]</a>
              <a href="subject.html#8255">[ subject ]</a>
              <a href="author.html#8255">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
