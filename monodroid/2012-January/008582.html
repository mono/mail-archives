<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Catch all the exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Catch%20all%20the%20exceptions&In-Reply-To=%3CADC8EC00-55C8-4490-A8FE-637B471FE075%40xamarin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008567.html">
   <LINK REL="Next"  HREF="008590.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Catch all the exceptions</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Catch%20all%20the%20exceptions&In-Reply-To=%3CADC8EC00-55C8-4490-A8FE-637B471FE075%40xamarin.com%3E"
       TITLE="[mono-android] Catch all the exceptions">jonp at xamarin.com
       </A><BR>
    <I>Mon Jan 23 21:10:06 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="008567.html">[mono-android] Catch all the exceptions
</A></li>
        <LI>Next message: <A HREF="008590.html">[mono-android] Catch all the exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8582">[ date ]</a>
              <a href="thread.html#8582">[ thread ]</a>
              <a href="subject.html#8582">[ subject ]</a>
              <a href="author.html#8582">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jan 23, 2012, at 7:50 AM, PVoLan wrote:
&gt;<i> I want to handle all the exceptions in my application and send them to my
</I>&gt;<i> server, collecting statistics info. This looks like a trivial task, but I've
</I>&gt;<i> got some problems. 
</I>
Unfortunately we don't have a good answer at this time.

The primary problem is that there are no unhandled exceptions, at least not when Android code is the caller (e.g. if you're on the main UI thread, Activity.OnCreate() is called, etc.). The reason for this is that every place that Android calls into managed code is wrapped in a try/catch, thus &quot;handling&quot; the exception.

The &quot;good&quot; news is that we do provide a way to &quot;hook&quot; into when an exception is transitioning from the managed -&gt; Android stacks:

	<A HREF="http://androidapi.xamarin.com/?link=E%3aAndroid.Runtime.AndroidEnvironment.UnhandledExceptionRaiser">http://androidapi.xamarin.com/?link=E%3aAndroid.Runtime.AndroidEnvironment.UnhandledExceptionRaiser</A>

The &quot;bad&quot; news is that there's currently no way to say that this is actually an &quot;unhandled&quot; exception. It's entirely possible to have Android (1) call into C# (2) which calls into Android (3) which calls into C# (4), and (4) throws an exception which (2) catches. AndroidEnvironment.UnhandledExceptionRaiser will be raised at (4), but there's no way to know when (4) is invoked that the exception will be caught at (2). :-(

This is something we'll need to address in a future release.

 - Jon

</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008567.html">[mono-android] Catch all the exceptions
</A></li>
	<LI>Next message: <A HREF="008590.html">[mono-android] Catch all the exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8582">[ date ]</a>
              <a href="thread.html#8582">[ thread ]</a>
              <a href="subject.html#8582">[ subject ]</a>
              <a href="author.html#8582">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
