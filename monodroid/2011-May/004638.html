<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] mandroid.exe System.NullReferenceException	following obfuscation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20mandroid.exe%20System.NullReferenceException%0A%09following%20obfuscation&In-Reply-To=D81977ED-ECEC-4613-8CE4-5003ACD7BC2E%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004636.html">
   <LINK REL="Next"  HREF="004637.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] mandroid.exe System.NullReferenceException	following obfuscation</H1>
    <B>Andrew Sinclair</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20mandroid.exe%20System.NullReferenceException%0A%09following%20obfuscation&In-Reply-To=D81977ED-ECEC-4613-8CE4-5003ACD7BC2E%40novell.com"
       TITLE="[mono-android] mandroid.exe System.NullReferenceException	following obfuscation">andrew at magic5software.com
       </A><BR>
    <I>Mon May  2 06:00:24 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004636.html">[mono-android] mandroid.exe System.NullReferenceException following obfuscation
</A></li>
        <LI>Next message: <A HREF="004637.html">[mono-android] Unhandled exception in Install
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4638">[ date ]</a>
              <a href="thread.html#4638">[ thread ]</a>
              <a href="subject.html#4638">[ subject ]</a>
              <a href="author.html#4638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jon,

I've tried that, I don't see a &quot;Running command:&quot; message, just:

    Mandroid Task
      Assemblies: C:\Code\Monodroid\Project\magic5\bin\Debug\magic5.dll;
C:\Code\magic5\Main\Client\XenocodeMD\MD\Output\AndroidUIMD.dll;
C:\Code\Monodroid\Project\magic5\zDependencies\ICSharpCode.SharpZipLib.dll;
C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2\Mono.Android.dll; C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\Mono.Data.Sqlite.dll;
C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\mscorlib.dll; C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Core.dll; C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Data.dll; C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.dll; C:\Program Files
(x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Runtime.Serialization
.dll; C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.ServiceModel.dll;
C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Xml.dll
      I18nAssemblies: 
      BuildDirectory: C:\Code\Monodroid\Project\magic5\obj\Debug\
      ReferenceAssembliesDirectory: C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2\;C:\Program Files
(x86)\Reference Assemblies\Microsoft\Framework\MonoAndroid\v1.0\;;
      AndroidSdkDirectory: C:\Android\android-sdk-windows\
      JavaSdkDirectory: C:\Program Files (x86)\Java\jdk1.6.0_23\
      AssetDirectory: C:\Code\Monodroid\Project\magic5\obj\Debug\assets\
      AndroidSdkPlatform: 8
      MonoAndroidToolsDirectory: C:\Program Files (x86)\MSBuild\Novell\
      ResourceDirectory: C:\Code\Monodroid\Project\magic5\obj\Debug\res\
      ManifestTemplate:
C:\Code\Monodroid\Project\magic5\Properties\AndroidManifest.xml
      Package: com.magic5software.magic5
      NativeLibrary: 
      JavaSource: 
      Debug: True
      UseSharedRuntime: True
      SupportedAbis: armeabi
      LinkMode: SdkOnly
      ExtraArgs: -v=10 
    C:\Program Files (x86)\MSBuild\Novell\mandroid.exe -v --nosign
--sdk-dir=&quot;C:\Android\android-sdk-windows&quot;
--builddir=&quot;C:\Code\Monodroid\Project\magic5\obj\Debug\android&quot;
--framework-dir=&quot;C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2&quot; --framework-dir=&quot;C:\Program
Files (x86)\Reference Assemblies\Microsoft\Framework\MonoAndroid\v1.0&quot;
-S=&quot;C:\Code\Monodroid\Project\magic5\obj\Debug\res&quot;
--package=&quot;com.magic5software.magic5&quot; -v=10  --linksdkonly --abi=&quot;armeabi&quot;
--java-sdk-dir=&quot;C:\Program Files (x86)\Java\jdk1.6.0_23&quot; --debug
--manifest-template=&quot;C:\Code\Monodroid\Project\magic5\Properties\AndroidMani
fest.xml&quot; --sdk-platform=&quot;8&quot;
-A=&quot;C:\Code\Monodroid\Project\magic5\obj\Debug\assets&quot;
&quot;C:\Code\Monodroid\Project\magic5\bin\Debug\magic5.dll&quot;
&quot;C:\Code\magic5\Main\Client\XenocodeMD\MD\Output\AndroidUIMD.dll&quot;
&quot;C:\Code\Monodroid\Project\magic5\zDependencies\ICSharpCode.SharpZipLib.dll&quot;
&quot;C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2\Mono.Android.dll&quot;
&quot;C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\Mono.Data.Sqlite.dll&quot;
&quot;C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\mscorlib.dll&quot; &quot;C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Core.dll&quot; &quot;C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Data.dll&quot; &quot;C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.dll&quot; &quot;C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Runtime.Serialization
.dll&quot; &quot;C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.ServiceModel.dll&quot;
&quot;C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Xml.dll&quot; 
    monodroid : error 1: System.NullReferenceException: Object reference not
set to an instance of an object
      at
MonoDroid.Utils.ProcessRocks+&lt;ReadStandardOutput&gt;c__Iterator5.MoveNext ()
[0x00000] in &lt;filename unknown&gt;:0 
      at Monodroid.Toolbox.InvokeCommand (IEnumerable`1 commandLine)
[0x00000] in &lt;filename unknown&gt;:0 
      at Monodroid.Toolbox.InvokeJavac (System.String src_path) [0x00000] in
&lt;filename unknown&gt;:0 
      at Monodroid.Droidinator.CreateDalvikBytecode
(System.Collections.Generic.List`1 javaTypes,
System.Collections.Generic.List`1 assemblies) [0x00000] in &lt;filename
unknown&gt;:0 
      at Monodroid.Droidinator.CreateApk () [0x00000] in &lt;filename
unknown&gt;:0 
      at Monodroid.MainClass.Main (System.String[] argv) [0x00000] in
&lt;filename unknown&gt;:0

If I run with the unobfuscated dll then I see javac get kicked off, but it
doesn't mention it in the logs then either (neither the msbuild log, the
Output window or the monodroid.log on the desktop.)

Is there anything else I can try?

Thanks,

Andy

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of Jonathan Pryor
Sent: 02 May 2011 00:27
To: Discussions related to Mono for Android
Subject: Re: [mono-android] mandroid.exe System.NullReferenceException
following obfuscation

On May 1, 2011, at 6:49 PM, Andrew Sinclair wrote:
&gt;<i> I have a project which builds, deploys and runs fine. If I take one of the
</I>dependent dlls and obfuscate it then the project stills build fine but it
generates the following error upon Deploy:

You mention that you have logging set to verbose. Do you see verbose output
similar to:

	Running command: javac ...

If so, what is it?

If not, can you open a Visual Studio 2010 Command Prompt, `cd` to your
solution directory, and run:

	msbuild /p:MandroidExtraArgs=-v=10 /t:Install

and provide the &quot;Running command:&quot; message?

Thanks,
 - Jon

_______________________________________________
Monodroid mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>

UNSUBSCRIBE INFORMATION:
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004636.html">[mono-android] mandroid.exe System.NullReferenceException following obfuscation
</A></li>
	<LI>Next message: <A HREF="004637.html">[mono-android] Unhandled exception in Install
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4638">[ date ]</a>
              <a href="thread.html#4638">[ thread ]</a>
              <a href="subject.html#4638">[ subject ]</a>
              <a href="author.html#4638">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
