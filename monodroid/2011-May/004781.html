<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] WebService returning DataSet problem (resolved)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20WebService%20returning%20DataSet%20problem%20%28resolved%29&In-Reply-To=985CB74F-35EE-4208-9B6A-346F82922DCE%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004769.html">
   <LINK REL="Next"  HREF="004726.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] WebService returning DataSet problem (resolved)</H1>
    <B>Steve Sharrock</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20WebService%20returning%20DataSet%20problem%20%28resolved%29&In-Reply-To=985CB74F-35EE-4208-9B6A-346F82922DCE%40novell.com"
       TITLE="[mono-android] WebService returning DataSet problem (resolved)">steve at sharkcode.com
       </A><BR>
    <I>Fri May  6 14:33:12 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004769.html">[mono-android] Filing Bug Reports
</A></li>
        <LI>Next message: <A HREF="004726.html">[mono-android] Not good news
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4781">[ date ]</a>
              <a href="thread.html#4781">[ thread ]</a>
              <a href="subject.html#4781">[ subject ]</a>
              <a href="author.html#4781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
The problem was that a DataSet returned from a Web Service call had all
table schemas, but no DataRows.

It seems the issue is the DataSet's TableNames are all just numbers (with no
leading alpha). I'm guessing deserialization doesn't like this.

Since I have influence over the Web Services, I simply pre-pended the
TableName (number) with an alpha &quot;Tbl&quot; such that the tablename is something
like &quot;Tbl012&quot;.

These Web Services are ancient and we don't really want to change them much;
but, this worked out OK for me so as far as I'm concerned, it is resolved.

Thanks,
Steve

-----Original Message-----
From: Jonathan Pryor [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jpryor at novell.com</A>] 
Sent: Thursday, May 05, 2011 2:44 PM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">steve at sharkcode.com</A>; Discussions related to Mono for Android
Subject: Re: [mono-android] WebService returning DataSet problem

On May 5, 2011, at 5:12 PM, Steve Sharrock wrote:
&gt;<i> I call several WebServices that return a System.Data.DataSet. In all but
</I>one case, it works fine. Most of the DataSets contain only one or two
DataTables; but, the one that fails returns 11 DataTables. The DataSet
contains the schema for all 11 tables, but the Rows.Count for every table is
zip. We've debugged at the server and verified that the table rows
collections are not empty.

This is probably a bug. Please file a test case, complete with project and
an accessible pre-existing WebService (as writing &amp; hosting web services
adds complexity, especially for those of us who don't know how to do so).

Thanks,
 - Jon


</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004769.html">[mono-android] Filing Bug Reports
</A></li>
	<LI>Next message: <A HREF="004726.html">[mono-android] Not good news
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4781">[ date ]</a>
              <a href="thread.html#4781">[ thread ]</a>
              <a href="subject.html#4781">[ subject ]</a>
              <a href="author.html#4781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
