<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] WebClient.DownloadFileAsync - unreliable on 3.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20WebClient.DownloadFileAsync%20-%20unreliable%20on%203.0&In-Reply-To=BANLkTimX2R4rFfWTKK%3DmTqZUBdSTEkCZ1Q%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005160.html">
   <LINK REL="Next"  HREF="005163.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] WebClient.DownloadFileAsync - unreliable on 3.0</H1>
    <B>Bozo Ivkovic</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20WebClient.DownloadFileAsync%20-%20unreliable%20on%203.0&In-Reply-To=BANLkTimX2R4rFfWTKK%3DmTqZUBdSTEkCZ1Q%40mail.gmail.com"
       TITLE="[mono-android] WebClient.DownloadFileAsync - unreliable on 3.0">bozo.ivkovic at sono-it.hr
       </A><BR>
    <I>Mon Jun  6 03:56:53 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005160.html">[mono-android] WebClient.DownloadFileAsync - unreliable on 3.0
</A></li>
        <LI>Next message: <A HREF="005163.html">[mono-android] WebClient.DownloadFileAsync - unreliable on 3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5162">[ date ]</a>
              <a href="thread.html#5162">[ thread ]</a>
              <a href="subject.html#5162">[ subject ]</a>
              <a href="author.html#5162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you're using multithreading for UI synchronization, i.e. for displaying
progressbar of download status, consider reducing the number of UI refresh
events on the UI thread. We discovered that MD has occasional crashes(non
catchable) if you are synchronizing UI thread in very short time intervals,
while having long running working thread in background. I expirienced this
not only with sockets, but with heavy database loads(sqllite).

Rgds,
Bo&#382;o

On Mon, Jun 6, 2011 at 08:30, Nic Wise &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">nicw at fastchicken.co.nz</A>&gt; wrote:

&gt;<i> webclient (on ios) uses sockets, and I'd assume the droid version is
</I>&gt;<i> the same. this usually bypasses the internal &quot;keep the WAN up&quot; stuff,
</I>&gt;<i> so you might need to use something else to keep it working. Maybe ping
</I>&gt;<i> a website with whatever the android sdk provides, and hence keep the
</I>&gt;<i> WAN going....
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Jun 6, 2011 at 07:27, Craig Dunn
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">craig.dunn at conceptdevelopment.net</A>&gt; wrote:
</I>&gt;<i> &gt; I'm currently downloading 50~100Mb ZIP files in my Monodroid app.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Using WebClient.DownloadFileAsync().
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The code works fine ~100% of the time in MonoTouch on iOS. It even worked
</I>&gt;<i> &gt; pretty reliably on an older Android device (Galaxy Tab 7&quot; with 2.2 i
</I>&gt;<i> think),
</I>&gt;<i> &gt; although it did sometimes fail.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; BUT on a Samsung 10.1&quot; with Honeycomb (3.0) it struggles to work **1 time
</I>&gt;<i> &gt; out of 20** (or less!). The failure point varies - could be at 2%
</I>&gt;<i> complete
</I>&gt;<i> &gt; or 90% complete or anywhere in-between. Doesn't seem to be a pattern.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; logcat tells me that whenever it fails, a GC_EXPLICIT occurs - although
</I>&gt;<i> I've
</I>&gt;<i> &gt; no idea if this is related, since sometimes GC_EXPLICIT occurs during the
</I>&gt;<i> &gt; download but does _not_ affect it. I sometimes see TelephonyRegistry
</I>&gt;<i> &gt; radioTurnedOff messages too.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ANY suggestions/thoughts appreciated...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Craig
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Monodroid mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; UNSUBSCRIBE INFORMATION:
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Nic Wise
</I>&gt;<i> t.  +44 7788 592 806 | @fastchicken | <A HREF="http://www.linkedin.com/in/nicwise">http://www.linkedin.com/in/nicwise</A>
</I>&gt;<i> b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A> | <A HREF="http://www.flickr.com/photos/nicwise">http://www.flickr.com/photos/nicwise</A>
</I>&gt;<i>
</I>&gt;<i> mobileAgent (for FreeAgent): get your accounts in your pocket.
</I>&gt;<i> <A HREF="http://goo.gl/IuBU">http://goo.gl/IuBU</A>
</I>&gt;<i> Trip Wallet: Keep track of your budget on the go: <A HREF="http://goo.gl/ePhKa">http://goo.gl/ePhKa</A>
</I>&gt;<i> London Bike App: Find the nearest Boris Bike, and get riding!
</I>&gt;<i> <A HREF="http://goo.gl/Icp2">http://goo.gl/Icp2</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110606/d6985024/attachment.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110606/d6985024/attachment.html</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005160.html">[mono-android] WebClient.DownloadFileAsync - unreliable on 3.0
</A></li>
	<LI>Next message: <A HREF="005163.html">[mono-android] WebClient.DownloadFileAsync - unreliable on 3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5162">[ date ]</a>
              <a href="thread.html#5162">[ thread ]</a>
              <a href="subject.html#5162">[ subject ]</a>
              <a href="author.html#5162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
