<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Debugging on HTC Magic with android 2.1 does not	work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Debugging%20on%20HTC%20Magic%20with%20android%202.1%20does%20not%0A%09work&In-Reply-To=4D483056.9000508%40jpobst.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002803.html">
   <LINK REL="Next"  HREF="002805.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Debugging on HTC Magic with android 2.1 does not	work</H1>
    <B>Jimmi Bendtson</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Debugging%20on%20HTC%20Magic%20with%20android%202.1%20does%20not%0A%09work&In-Reply-To=4D483056.9000508%40jpobst.com"
       TITLE="[Monodroid] Debugging on HTC Magic with android 2.1 does not	work">jimmi.bendtson at gmail.com
       </A><BR>
    <I>Tue Feb  1 11:50:05 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002803.html">[Monodroid] Debugging on HTC Magic with android 2.1 does	not work
</A></li>
        <LI>Next message: <A HREF="002805.html">[Monodroid] Debugging on HTC Magic with android 2.1 does not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2804">[ date ]</a>
              <a href="thread.html#2804">[ thread ]</a>
              <a href="subject.html#2804">[ subject ]</a>
              <a href="author.html#2804">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sam I don't think it is the same problem as the bug you have filed. In
your case the application works but the breakpoints does not. In my
case the application dies shortly after it is started on my phone.

Back to my problem.

WIFI connection:
Why is a wireless LAN connection needed for debugging? I have my phone
connected using a USB cable. Isn't that sufficient?

Android Log:
Yep the log has all kind of stuff, and I have inserted what I think is
the important part below. The first error I can find is &quot;Error
connecting stdout and stderr (10.10.16.197:50873)&quot;. Don't know if this
is the problem. Please take a look at the log below.


D/AndroidRuntime( 1230):
D/AndroidRuntime( 1230): &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; AndroidRuntime START &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
D/AndroidRuntime( 1230): CheckJNI is OFF
D/AndroidRuntime( 1230): --- registering native functions ---
I/ActivityManager(  111): Starting activity: Intent {
act=android.intent.action.MAIN flg=0x10000000
cmp=monodroidapplication2.monodroidapplication2/monodroidapplication2.Activity1
}
D/AndroidRuntime( 1230): Shutting down VM
D/dalvikvm( 1230): DestroyJavaVM waiting for non-daemon threads to exit
D/dalvikvm( 1230): DestroyJavaVM shutting VM down
D/dalvikvm( 1230): HeapWorker thread shutting down
D/dalvikvm( 1230): HeapWorker thread has shut down
D/jdwp    ( 1230): JDWP shutting down net...
I/jdwp    ( 1230): adbd disconnected
D/dalvikvm( 1230): VM cleaning up
E/AndroidRuntime( 1230): ERROR: thread attach failed
I/ActivityManager(  111): Start proc
monodroidapplication2.monodroidapplication2 for activity
monodroidapplication2.monodroidapplication2/monodroidapplication2.Activity1:
pid=1237 uid=10102 gids={3003, 1015}
D/dalvikvm( 1230): LinearAlloc 0x0 used 638876 of 5242880 (12%)
I/ActivityThread( 1237): Publishing provider
monodroidapplication2.monodroidapplication2.__mono_init__:
mono.MonoRuntimeProvider
D/dalvikvm( 1237): Trying to load lib
/data/data/monodroidapplication2.monodroidapplication2/lib/libmonodroid.so
0x43bc0c00
D/dalvikvm( 1237): Added shared lib
/data/data/monodroidapplication2.monodroidapplication2/lib/libmonodroid.so
0x43bc0c00
D/dalvikvm( 1237): +++ not scanning '/system/lib/libwebcore.so' for
'init' (wrong CL)
D/dalvikvm( 1237): +++ not scanning '/system/lib/libmedia_jni.so' for
'init' (wrong CL)
D/dalvikvm( 1237): +++ not scanning '/system/lib/libexif.so' for
'init' (wrong CL)
D/dalvikvm( 1237): +++ not scanning '/system/lib/libsrec_jni.so' for
'init' (wrong CL)
I/MonoDroid-Debugger( 1237): Trying to initialize the debugger with
options: --debugger-agent=transport=dt_socket,address=10.10.16.197:50872,embedding=1
I/MonoDroid-Debugger( 1237): Error connecting stdout and stderr
(10.10.16.197:50873)
I/DEBUG   (   93): *** *** *** *** *** *** *** *** *** *** *** *** ***
*** *** ***
I/DEBUG   (   93): Build fingerprint:
'google/passion/passion/mahimahi:2.1-update1/ERE27/24178:user/release-keys'
I/DEBUG   (   93): pid: 1237, tid: 1237  &gt;&gt;&gt;
monodroidapplication2.monodroidapplication2 &lt;&lt;&lt;
I/DEBUG   (   93): signal 11 (SIGSEGV), fault addr deadbaad
I/DEBUG   (   93):  r0 00000000  r1 afe135fd  r2 00000027  r3 00000000
I/DEBUG   (   93):  r4 00000000  r5 deadbaad  r6 00002ef0  r7 4104ec68
I/DEBUG   (   93):  r8 bea258f0  r9 4104ec50  10 4104ec3c  fp bea258ac
I/DEBUG   (   93):  ip ffffffff  sp bea257f8  lr afe145b9  pc afe10f28
 cpsr 40000030
I/DEBUG   (   93):          #00  pc 00010f28  /system/lib/libc.so
I/DEBUG   (   93):          #01  lr afe145b9  /system/lib/libc.so
I/DEBUG   (   93):
I/DEBUG   (   93): code around pc:
I/DEBUG   (   93): afe10f18 4e17d003 51a02001 4d164798 24002227
I/DEBUG   (   93): afe10f28 f7fb702a 2106ee22 ef36f7fc 05592380
I/DEBUG   (   93): afe10f38 6091aa01 1c116054 94012006 f8e6f01c
I/DEBUG   (   93):
I/DEBUG   (   93): code around lr:
I/DEBUG   (   93): afe145a8 220ce008 2b005eab 1c28d003 47889901
I/DEBUG   (   93): afe145b8 35544306 d5f43f01 2c006824 b003d1ee
I/DEBUG   (   93): afe145c8 bdf01c30 000258e8 000000bc 1c0fb5f0
I/DEBUG   (   93):
I/DEBUG   (   93): stack:
I/DEBUG   (   93):     bea257b8  00000015
I/DEBUG   (   93):     bea257bc  afe1362d  /system/lib/libc.so
I/DEBUG   (   93):     bea257c0  afe3a0b0  /system/lib/libc.so
I/DEBUG   (   93):     bea257c4  afe3a05c  /system/lib/libc.so
I/DEBUG   (   93):     bea257c8  00000000
I/DEBUG   (   93):     bea257cc  afe145b9  /system/lib/libc.so
I/DEBUG   (   93):     bea257d0  00000000
I/DEBUG   (   93):     bea257d4  afe135fd  /system/lib/libc.so
I/DEBUG   (   93):     bea257d8  00000000
I/DEBUG   (   93):     bea257dc  afe39e88  /system/lib/libc.so
I/DEBUG   (   93):     bea257e0  00000000
I/DEBUG   (   93):     bea257e4  00002ef0
I/DEBUG   (   93):     bea257e8  4104ec68
I/DEBUG   (   93):     bea257ec  afe1389b  /system/lib/libc.so
I/DEBUG   (   93):     bea257f0  afe39e88  /system/lib/libc.so
I/DEBUG   (   93):     bea257f4  afe10f23  /system/lib/libc.so
I/DEBUG   (   93): #00 bea257f8  00000000
I/DEBUG   (   93):     bea257fc  00000000
I/DEBUG   (   93):     bea25800  00000000
I/DEBUG   (   93):     bea25804  983d8b4e
I/DEBUG   (   93):     bea25808  00000802
I/DEBUG   (   93):     bea2580c  fffffbdf
I/DEBUG   (   93):     bea25810  80a11384
/data/data/monodroidapplication2.monodroidapplication2/lib/libmonodroid.so
I/DEBUG   (   93):     bea25814  00000000
I/DEBUG   (   93):     bea25818  43bc71d8
/dev/ashmem/mspace/dalvik-heap/2 (deleted)
I/DEBUG   (   93):     bea2581c  80a042b4
/data/data/monodroidapplication2.monodroidapplication2/lib/libmonodroid.so
I/DEBUG   (   93):     bea25820  80a11384
/data/data/monodroidapplication2.monodroidapplication2/lib/libmonodroid.so
I/DEBUG   (   93):     bea25824  80a042b4
/data/data/monodroidapplication2.monodroidapplication2/lib/libmonodroid.so
I/DEBUG   (   93):     bea25828  0000c6b9  [heap]
I/DEBUG   (   93):     bea2582c  43bc71d8
/dev/ashmem/mspace/dalvik-heap/2 (deleted)
I/DEBUG   (   93):     bea25830  4104ec68
I/DEBUG   (   93):     bea25834  80ef9304
/data/data/com.novell.monodroid.runtimeservice/lib/libmono-2.0.so
I/DEBUG   (   93):     bea25838  43bc6e38
/dev/ashmem/mspace/dalvik-heap/2 (deleted)
I/DEBUG   (   93):     bea2583c  0011f880  [heap]
I/ActivityManager(  111): Process
monodroidapplication2.monodroidapplication2 (pid 1237) has died.
D/Zygote  (   95): Process 1237 terminated by signal (11)
I/UsageStats(  111): Unexpected resume of com.android.launcher while
already resumed in monodroidapplication2.monodroidapplication2
W/InputManagerService(  111): Window already focused, ignoring focus
gain of: com.android.internal.view.IInputMethodClient$Stub$<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Proxy at 43d0e9a0</A>
D/dalvikvm(  445): GC freed 41 objects / 1168 bytes in 99ms




On Tue, Feb 1, 2011 at 5:09 PM, Jonathan Pobst &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monkey at jpobst.com</A>&gt; wrote:
&gt;<i> Are there any messages in your Android log?
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://monodroid.net/Documentation/Guides/Android_Debug_Log">http://monodroid.net/Documentation/Guides/Android_Debug_Log</A>
</I>&gt;<i>
</I>&gt;<i> Jonathan
</I>&gt;<i>
</I>&gt;<i> On 2/1/2011 9:58 AM, Stefan Wywior wrote:
</I>&gt;&gt;<i> I'm experiencing the same behaviour.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> WIFI is setup and ports are open.
</I>&gt;&gt;<i> USB Debugging is enabled
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Windows 7 64bit
</I>&gt;&gt;<i> Visual Studio 2010 Ultimate
</I>&gt;&gt;<i> Latest Android SDK
</I>&gt;&gt;<i> Monodroid Preview 11.2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Motorola Defy Android 2.1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Am 01.02.2011 16:53, schrieb Sam Lippert:
</I>&gt;&gt;&gt;<i> Yes, my laptop and my devices are all connected to the same wireless network.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of Carlo Bolz
</I>&gt;&gt;&gt;<i> Sent: Tuesday, February 01, 2011 8:06 AM
</I>&gt;&gt;&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i> Subject: Re: [Monodroid] Debugging on HTC Magic with android 2.1 does not work
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Have you setup a wireles lan connection for debugging? If not I think it&#180;s
</I>&gt;&gt;&gt;<i> necessary to do so.
</I>&gt;&gt;&gt;<i> I&#180;ve had the same issue on my HTC Desire.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -----Urspr&#252;ngliche Nachricht-----
</I>&gt;&gt;&gt;<i> Von: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] Im Auftrag von Jimmi Bendtson
</I>&gt;&gt;&gt;<i> Gesendet: Dienstag, 1. Februar 2011 13:15
</I>&gt;&gt;&gt;<i> An: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i> Betreff: [Monodroid] Debugging on HTC Magic with android 2.1 does not work
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi all,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I'm having problems debugging the unmodified template application on
</I>&gt;&gt;&gt;<i> my HTC Magic with android 2.1. The application runs fine in the
</I>&gt;&gt;&gt;<i> emulator.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> When I select to debug on my HTC phone, the application is apparently
</I>&gt;&gt;&gt;<i> transferred successfully to the phone. It starts up and the main
</I>&gt;&gt;&gt;<i> activity title is shown for a short moment (like two seconds), before
</I>&gt;&gt;&gt;<i> the application disappears. The controls in the activity is never
</I>&gt;&gt;&gt;<i> shown so I guess it is during the activity initialization the problem
</I>&gt;&gt;&gt;<i> occurs. I have tried setting a breakpoint in the OnCreate() method but
</I>&gt;&gt;&gt;<i> it is not reached in VS 2010.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> In Visual Studio the debugging session is still running, If I try to
</I>&gt;&gt;&gt;<i> 'Break All' it says 'Unable to break execution&quot;, and if i 'Stop
</I>&gt;&gt;&gt;<i> Debugging' Visual Studio hangs for a while. This is probably not that
</I>&gt;&gt;&gt;<i> strange since the application apparently was shutdown on the phone.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> What is the problem here? Why can I not debug on my HTC phone? Any
</I>&gt;&gt;&gt;<i> help will be appreciated.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Dev env: Visual Studio 2010 professional
</I>&gt;&gt;&gt;<i> Monodroid Version: Preview 11 (monodroid9301.msi)
</I>&gt;&gt;&gt;<i> Phone: HTC Magic
</I>&gt;&gt;&gt;<i> Kernal version: 2.6.33.4-cyanogenmod
</I>&gt;&gt;&gt;<i> Mod version: CyanogenMod-5.0.7-D5
</I>&gt;&gt;&gt;<i> Build number: EPE54B
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks
</I>&gt;&gt;&gt;<i> Jimmi
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Monodroid mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> ______________________________________________________________________
</I>&gt;&gt;&gt;<i> This email has been scanned by the MessageLabs Email Security System.
</I>&gt;&gt;&gt;<i> For more information please visit <A HREF="http://www.messagelabs.com/email">http://www.messagelabs.com/email</A>
</I>&gt;&gt;&gt;<i> ______________________________________________________________________
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Monodroid mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Monodroid mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002803.html">[Monodroid] Debugging on HTC Magic with android 2.1 does	not work
</A></li>
	<LI>Next message: <A HREF="002805.html">[Monodroid] Debugging on HTC Magic with android 2.1 does not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2804">[ date ]</a>
              <a href="thread.html#2804">[ thread ]</a>
              <a href="subject.html#2804">[ subject ]</a>
              <a href="author.html#2804">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
