<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Standard ECMA-334
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Standard%20ECMA-334&In-Reply-To=A0B4CC89936B45088FA9567E8B5C4379%40SHUNYATA">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003315.html">
   <LINK REL="Next"  HREF="003245.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Standard ECMA-334</H1>
    <B>Mike Kestner</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Standard%20ECMA-334&In-Reply-To=A0B4CC89936B45088FA9567E8B5C4379%40SHUNYATA"
       TITLE="[Monodroid] Standard ECMA-334">mkestner at novell.com
       </A><BR>
    <I>Wed Feb 23 11:36:00 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003315.html">[Monodroid] Standard ECMA-334
</A></li>
        <LI>Next message: <A HREF="003245.html">[Monodroid] Standard ECMA-334
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3251">[ date ]</a>
              <a href="thread.html#3251">[ thread ]</a>
              <a href="subject.html#3251">[ subject ]</a>
              <a href="author.html#3251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2011-02-23 at 16:48 +0100, Christopher Ireland wrote:

&gt;<i> Could you then please explain why certain Structs derive from ValueType in 
</I>&gt;<i> .NET, but do not in MONODROID? We have an example earlier in this list in 
</I>&gt;<i> the form of Android.Graphics.Point, which does not derive from ValueType, 
</I>&gt;<i> whereas System.Drawing.Point does.
</I>
Jon already mentioned most of this, but since I had it written already
when his hit the list...

I figured that's where this was coming from.  Android.Graphics.Point is
not a struct.  It's a class.  It's a reference type.  It is passed by
JNI global reference to the java APIs which consume it.  All java
objects are reference types.  And we bind them as such.

Trying to pretend that Android.Graphics.Point is a value type when it
isn't is just going to result in a lot of extra overhead any time you
need to get one from the java API or pass one to it.  It also could
result in some unusual side-effects when porting java code examples.
Android.Graphics is not System.Drawing.  We are exposing the native
drawing API for android.  This &quot;point is a value type&quot; assumption is
only one of many assumptions that a developer is going to have to break
when shifting from a System.Drawing implementation to an
Android.Graphics implementation.

Mike

</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003315.html">[Monodroid] Standard ECMA-334
</A></li>
	<LI>Next message: <A HREF="003245.html">[Monodroid] Standard ECMA-334
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3251">[ date ]</a>
              <a href="thread.html#3251">[ thread ]</a>
              <a href="subject.html#3251">[ subject ]</a>
              <a href="author.html#3251">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
