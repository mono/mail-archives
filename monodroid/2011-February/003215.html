<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] CreateFrameBuffer exception...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20CreateFrameBuffer%20exception...&In-Reply-To=4D63D77702000071000538B7%40victor.provo.novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003214.html">
   <LINK REL="Next"  HREF="003218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] CreateFrameBuffer exception...</H1>
    <B>dominique at savagesoftwaresolutions.com</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20CreateFrameBuffer%20exception...&In-Reply-To=4D63D77702000071000538B7%40victor.provo.novell.com"
       TITLE="[Monodroid] CreateFrameBuffer exception...">dominique at savagesoftwaresolutions.com
       </A><BR>
    <I>Tue Feb 22 05:35:37 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003214.html">[Monodroid] CreateFrameBuffer exception...
</A></li>
        <LI>Next message: <A HREF="003218.html">[Monodroid] Bug in Android.Graphics.Point
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3215">[ date ]</a>
              <a href="thread.html#3215">[ thread ]</a>
              <a href="subject.html#3215">[ subject ]</a>
              <a href="author.html#3215">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> Hi Ankit,
   As I mentioned in other demos, GLCube and Texture2D, if I swap in the 
 CreateFrameBuffer override, it works.
 Hence why I think it is a setup issue on my part, but I've compared the 
 projects and just can't see where mine differs.

 I'll try and create the smallest possible project this evening and 
 upload it.

 Dominique.

 On Tue, 22 Feb 2011 03:04:14 -0700, &quot;Jain Ankit&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jankit at novell.com</A>&gt; 
 wrote:
&gt;<i> Hi Dominique,
</I>&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Dominique Louis  02/22/11 1:43 AM &gt;&gt;&gt;
</I>&gt;<i>  &gt;Hi Ankit,
</I>&gt;&gt;<i> Attached is a screen shot of the call stack ( how can I copy and
</I>&gt;<i> paste the stack trace in MonoDevelop? )
</I>&gt;<i>
</I>&gt;&gt;<i>And the code being executed is...
</I>&gt;&gt;<i>protected override void CreateFrameBuffer()
</I>&gt;<i>  &gt; {
</I>&gt;<i>  &gt; try
</I>&gt;<i>  &gt; {
</I>&gt;<i>  &gt; // TODO GLContextVersion = GLContextVersion.Gles2_0;
</I>&gt;&gt;<i> GLContextVersion = GLContextVersion.Gles1_1;
</I>&gt;&gt;<i> base.CreateFrameBuffer();
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i> catch (Exception)
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i> //device doesn't support OpenGLES 2.0; retry with 1.1:
</I>&gt;&gt;<i> GLContextVersion = GLContextVersion.Gles1_1;
</I>&gt;&gt;<i> base.CreateFrameBuffer();
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Adding just this override to a gl sample and running on 2.2 emulator,
</I>&gt;<i> works
</I>&gt;<i> fine for me. Could you please share rest of the code? Maybe you are
</I>&gt;<i> setting something else in the constructor or overriding other methods
</I>&gt;<i> etc,
</I>&gt;<i> which might be affecting this.
</I>&gt;<i>
</I>&gt;&gt;<i>when base.CreateFrameBuffer(); is called that is when I get the
</I>&gt;&gt;<i>&quot;Make sure the SurfaceView or associated SurfaceHolder has
</I>&gt;&gt;<i>a valid Surface&quot; exception.
</I>&gt;<i>
</I>&gt;&gt;<i>Dominique.
</I>&gt;<i>
</I>&gt;<i> -Ankit
</I>&gt;<i>
</I>&gt;<i>  On 21/02/2011 13:35, Jain Ankit wrote:  Could you share the actual
</I>&gt;<i> code and the stack trace?
</I>&gt;<i>
</I>&gt;<i>  -Ankit
</I>&gt;<i>
</I>&gt;<i>  &gt;&gt;&gt;  [1] 02/21/11 4:08 PM &gt;&gt;&gt;
</I>&gt;<i>  Hi all,
</I>&gt;<i>  Within an OpenGL app, inside the CreateFrameBuffer override, I get
</I>&gt;<i>  the exception &quot;Make sure the SurfaceView or associated SurfaceHolder
</I>&gt;<i> has
</I>&gt;<i>  a valid Surface&quot;, when I'm simply calling...
</I>&gt;<i>  GLContextVersion = GLContextVersion.Gldx1_1;
</I>&gt;<i>  base.CreateFrameBuffer(); // Exception is thrown from here;
</I>&gt;<i>
</I>&gt;<i>  This only occurs in the 2.2 emulator, but works just fine in the 2.3
</I>&gt;<i>
</I>&gt;<i>  emulator.
</I>&gt;<i>
</I>&gt;<i>  I'm fairly sure this is a setup issue, as things like GLCube and
</I>&gt;<i>  Texured Cube demos work fine, but I'm not sure where to look to fix
</I>&gt;<i> this
</I>&gt;<i>  error.
</I>&gt;<i>
</I>&gt;<i>  Dominique.
</I>&gt;<i>  _______________________________________________
</I>&gt;<i>  Monodroid mailing list
</I>&gt;<i>  <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A> [2]
</I>&gt;<i>
</I>&gt;<i>  UNSUBSCRIBE INFORMATION:
</I>&gt;<i>  <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A> [3]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Links:
</I>&gt;<i> ------
</I>&gt;<i> [1] mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">dominique at savagesoftwaresolutions.com</A>
</I>&gt;<i> [2] mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i> [3] <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003214.html">[Monodroid] CreateFrameBuffer exception...
</A></li>
	<LI>Next message: <A HREF="003218.html">[Monodroid] Bug in Android.Graphics.Point
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3215">[ date ]</a>
              <a href="thread.html#3215">[ thread ]</a>
              <a href="subject.html#3215">[ subject ]</a>
              <a href="author.html#3215">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
