<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Application events
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Application%20events&In-Reply-To=COL122-W33824E75E7C56EF0368ADAED80%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003209.html">
   <LINK REL="Next"  HREF="003216.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Application events</H1>
    <B>Adam Tybor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Application%20events&In-Reply-To=COL122-W33824E75E7C56EF0368ADAED80%40phx.gbl"
       TITLE="[Monodroid] Application events">adam.tybor at gmail.com
       </A><BR>
    <I>Mon Feb 21 22:59:46 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003209.html">[Monodroid] Application events
</A></li>
        <LI>Next message: <A HREF="003216.html">[Monodroid] Application events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3210">[ date ]</a>
              <a href="thread.html#3210">[ thread ]</a>
              <a href="subject.html#3210">[ subject ]</a>
              <a href="author.html#3210">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just an FYI -- OnTerminate is never called by the Android OS on a real
device.  It is only there for the emulator.  Android typically just kills
the pid to terminate your application.  However, it should, only under rare
conditions it won't, call onDestroy for all your Activity and Service
contexts, so that is the best place to clean up resources.

Adam

On Mon, Feb 21, 2011 at 9:23 PM, Wally McClure &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">theevilprogrammer at hotmail.com</A>&gt; wrote:

&gt;<i>  Ok, so to follow up.  I kept at it.  I guess that was an old project that
</I>&gt;<i> I had created.  I recreated and everything seems to be fine.  Thanks Jon.
</I>&gt;<i>
</I>&gt;<i> Wally
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">theevilprogrammer at hotmail.com</A>
</I>&gt;<i>
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;<i> Date: Mon, 21 Feb 2011 22:03:47 -0500
</I>&gt;<i>
</I>&gt;<i> Subject: Re: [Monodroid] Application events
</I>&gt;<i>
</I>&gt;<i> Thanks.  Due to the size of the logcat, I pulled this from the VS.NETwindow.  If I need to go back and redo, let me know.
</I>&gt;<i>
</I>&gt;<i> Here's the error that I am currently getting:
</I>&gt;<i>
</I>&gt;<i> D/AndroidRuntime( 3141): &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; AndroidRuntime START &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</I>&gt;<i> D/AndroidRuntime( 3141): CheckJNI is OFF
</I>&gt;<i> D/dalvikvm( 3141): creating instr width table
</I>&gt;<i> D/AndroidRuntime( 3141): --- registering native functions ---
</I>&gt;<i> D/AndroidRuntime( 3141): Shutting down VM
</I>&gt;<i> D/jdwp    ( 3141): adbd disconnected
</I>&gt;<i> I/ActivityManager(  107): Starting activity: Intent { act=android.intent.action.MAIN flg=0x10000000 cmp=lifecycle.lifecycle/lifecycle.Lifecycle }
</I>&gt;<i> W/ActivityManager(  107): Activity start request from 2000 stopped
</I>&gt;<i> I/AndroidRuntime( 3141): NOTE: attach of thread 'Binder Thread #3' failed
</I>&gt;<i> D/RegisterService( 2802): insert plugin size 3
</I>&gt;<i> D/RegisterService( 2802): insert plugin size 1
</I>&gt;<i> D/RegisterService( 2802): insert plugin size 1
</I>&gt;<i> I/ActivityManager(  107): Start proc lifecycle.lifecycle for activity lifecycle.lifecycle/lifecycle.Lifecycle: pid=3149 uid=10100 gids={3003}
</I>&gt;<i> D/AK8973  (   69): Compass Start
</I>&gt;<i> D/Sensors (  107): open_akm, fd=179
</I>&gt;<i> D/AndroidRuntime( 3149): Shutting down VM
</I>&gt;<i> W/dalvikvm( 3149): threadid=1: thread exiting with uncaught exception (group=0x400259f8)
</I>&gt;<i> E/AndroidRuntime( 3149): FATAL EXCEPTION: main
</I>&gt;<i>
</I>&gt;<i> This error is generated by this code:
</I>&gt;<i>
</I>&gt;<i>     [Application]
</I>&gt;<i>     public class ThisApplication : Application
</I>&gt;<i>     {
</I>&gt;<i>         public ThisApplication(IntPtr handle)
</I>&gt;<i>             : base(handle)
</I>&gt;<i>         {
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         public override void OnCreate()
</I>&gt;<i>         {
</I>&gt;<i>             base.OnCreate();
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         public override void OnConfigurationChanged(Android.Content.Res.Configuration newConfig)
</I>&gt;<i>         {
</I>&gt;<i>             base.OnConfigurationChanged(newConfig);
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         public override void OnLowMemory()
</I>&gt;<i>         {
</I>&gt;<i>             base.OnLowMemory();
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         public override void OnTerminate()
</I>&gt;<i>         {
</I>&gt;<i>             base.OnTerminate();
</I>&gt;<i>         }
</I>&gt;<i>         // other members as before
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i> I also recieved this error from the code below.
</I>&gt;<i>
</I>&gt;<i> D/AndroidRuntime( 3465): &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; AndroidRuntime START &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</I>&gt;<i> D/AndroidRuntime( 3465): CheckJNI is OFF
</I>&gt;<i> D/dalvikvm( 3465): creating instr width table
</I>&gt;<i> D/AndroidRuntime( 3465): --- registering native functions ---
</I>&gt;<i> D/AndroidRuntime( 3465): Shutting down VM
</I>&gt;<i> D/dalvikvm( 3465): Debugger has detached; object registry had 1 entries
</I>&gt;<i> I/AndroidRuntime( 3465): NOTE: attach of thread 'Binder Thread #3' failed
</I>&gt;<i> D/AndroidRuntime( 3478):
</I>&gt;<i> D/AndroidRuntime( 3478): &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; AndroidRuntime START &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</I>&gt;<i> D/AndroidRuntime( 3478): CheckJNI is OFF
</I>&gt;<i> D/dalvikvm( 3478): creating instr width table
</I>&gt;<i> D/AndroidRuntime( 3478): --- registering native functions ---
</I>&gt;<i> I/ActivityManager(  107): Starting activity: Intent {
</I>&gt;<i> act=android.intent.action.MAIN flg=0x10000000
</I>&gt;<i> cmp=lifecycle.lifecycle/lifecycle.Lifecycle }
</I>&gt;<i> D/AndroidRuntime( 3478): Shutting down VM
</I>&gt;<i> D/dalvikvm( 3478): Debugger has detached; object registry had 1 entries
</I>&gt;<i> I/AndroidRuntime( 3478): NOTE: attach of thread 'Binder Thread #3' failed
</I>&gt;<i> D/AK8973  (   69): Compass Start
</I>&gt;<i> D/Sensors (  107): open_akm, fd=176
</I>&gt;<i> D/AK8973  (   69): HRET = AKSC_HOF_DSS_START
</I>&gt;<i> D/AK8973  (   69): HRET = AKSC_HOF_DSS_REQUEST
</I>&gt;<i> D/AK8973  (   69): HRET = AKSC_HOF_DSS_REQUEST
</I>&gt;<i> D/AK8973  (   69): HRET = AKSC_HOF_DSS_REQUEST
</I>&gt;<i> D/AK8973  (   69): HRET = AKSC_HOF_DSS_REQUEST
</I>&gt;<i> D/AK8973  (   69): HRET = AKSC_HOF_DSS_REQUEST
</I>&gt;<i> D/AK8973  (   69): HRET = AKSC_HOF_DSS_REQUEST
</I>&gt;<i> D/AK8973  (   69): HRET = AKSC_HOF_DSS_REQUEST
</I>&gt;<i> D/AK8973  (   69): HRET = AKSC_HOF_DSS_COMPLETE
</I>&gt;<i> W/ActivityManager(  107): Launch timeout has expired, giving up wake lock!
</I>&gt;<i> W/ActivityManager(  107): Activity idle timeout for HistoryRecord{464fafe0
</I>&gt;<i> lifecycle.lifecycle/lifecycle.Lifecycle}
</I>&gt;<i> V/AlarmManager(  107): Adding Alarm{463eb610 type 2 com.google.android.gsf}
</I>&gt;<i> Dec 31 09:56:38 pm
</I>&gt;<i> D/PeopleApp(  268): Auto requerying AllPeopleCursor due to update - 244
</I>&gt;<i> contacts
</I>&gt;<i> D/dalvikvm(  232): GC_EXPLICIT freed 12423 objects / 653648 bytes in 80ms
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [Application()]
</I>&gt;<i>     public class ThisApplication : Application
</I>&gt;<i>     {
</I>&gt;<i>         private static ThisApplication singleton;
</I>&gt;<i>         public ThisApplication(IntPtr handle)
</I>&gt;<i>             : base(handle)
</I>&gt;<i>         {
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         public static ThisApplication GetInstance()
</I>&gt;<i>         {
</I>&gt;<i>             return (singleton);
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         public static ThisApplication Instance { get { return
</I>&gt;<i>  (singleton); } }
</I>&gt;<i>
</I>&gt;<i>         public override void OnCreate()
</I>&gt;<i>         {
</I>&gt;<i>             base.OnCreate();
</I>&gt;<i>             singleton = this;
</I>&gt;<i>         }
</I>&gt;<i>         public override void OnTerminate()
</I>&gt;<i>         {
</I>&gt;<i>             base.OnTerminate();
</I>&gt;<i>         }
</I>&gt;<i>         public override void OnLowMemory()
</I>&gt;<i>         {
</I>&gt;<i>             base.OnLowMemory();
</I>&gt;<i>         }
</I>&gt;<i>         public override void OnConfigurationChanged(Android.Content.Res.
</I>&gt;<i> Configuration newConfig)
</I>&gt;<i>         {
</I>&gt;<i>             base.OnConfigurationChanged(newConfig);
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jpryor at novell.com</A>
</I>&gt;<i> &gt; Date: Mon, 21 Feb 2011 19:59:11 -0500
</I>&gt;<i> &gt; To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;<i> &gt; Subject: Re: [Monodroid] Application events
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Feb 19, 2011, at 10:02 PM, Wally McClure wrote:
</I>&gt;<i> &gt; &gt; Can I access the application class so that I can modify the
</I>&gt;<i> application's lifecycle events?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You should be able to.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Side note: You can use the Context.ApplicationContext property [0] to
</I>&gt;<i> access the single Application instance from any Context subclass.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; I have a simple class that I created that looks like the code below. I
</I>&gt;<i> am getting a VS error telling me that there is an unsupported exception.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; As always, could you please provide the relevant `adb logcat` output so
</I>&gt;<i> that we know what the exception is? Is it an Android error (found in `adb
</I>&gt;<i> logcat`)? Is it some other error? Additional context would be useful.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; However, based on the source you provided, the problem is that you're
</I>&gt;<i> missing a ThisApplication(IntPtr) constructor:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [Application]
</I>&gt;<i> &gt; public class ThisApplication : Application {
</I>&gt;<i> &gt; public ThisApplication(IntPtr handle)
</I>&gt;<i> &gt; : base (handle)
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; // other members as before
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This should have been mentioned in the `adb logcat` output, and I had
</I>&gt;<i> hoped that the error message would have been sufficiently useful. Obviously
</I>&gt;<i> I was wrong.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Application subclasses still require the (IntPtr) constructor; see also
</I>&gt;<i> [1, 2].
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - Jon
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [0]
</I>&gt;<i> <A HREF="http://docs.monodroid.net/index.aspx?link=P:Android.Content.Context.ApplicationContext">http://docs.monodroid.net/index.aspx?link=P:Android.Content.Context.ApplicationContext</A>
</I>&gt;<i> &gt; [1] <A HREF="http://monodroid.net/Releases/Previews/Preview_7#Application_Support">http://monodroid.net/Releases/Previews/Preview_7#Application_Support</A>
</I>&gt;<i> &gt; [2]
</I>&gt;<i> <A HREF="http://monodroid.net/Releases/Previews/Preview_7#Activity_Constructors">http://monodroid.net/Releases/Previews/Preview_7#Activity_Constructors</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Monodroid mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; UNSUBSCRIBE INFORMATION:
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________ Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110221/b3f87ff1/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110221/b3f87ff1/attachment-0001.html</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003209.html">[Monodroid] Application events
</A></li>
	<LI>Next message: <A HREF="003216.html">[Monodroid] Application events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3210">[ date ]</a>
              <a href="thread.html#3210">[ thread ]</a>
              <a href="subject.html#3210">[ subject ]</a>
              <a href="author.html#3210">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
