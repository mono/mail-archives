<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Support for System.Data.Services.Client?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Support%20for%20System.Data.Services.Client%3F&In-Reply-To=AANLkTimXST_NiofJs7j8-9e9GSc%3DP8y-P__h6L_MhAiJ%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003108.html">
   <LINK REL="Next"  HREF="003121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Support for System.Data.Services.Client?</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Support%20for%20System.Data.Services.Client%3F&In-Reply-To=AANLkTimXST_NiofJs7j8-9e9GSc%3DP8y-P__h6L_MhAiJ%40mail.gmail.com"
       TITLE="[Monodroid] Support for System.Data.Services.Client?">jpryor at novell.com
       </A><BR>
    <I>Thu Feb 17 13:35:43 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003108.html">[Monodroid] Support for System.Data.Services.Client?
</A></li>
        <LI>Next message: <A HREF="003121.html">[Monodroid] Creating a Game Loop in Monodroid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3126">[ date ]</a>
              <a href="thread.html#3126">[ thread ]</a>
              <a href="subject.html#3126">[ subject ]</a>
              <a href="author.html#3126">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Feb 16, 2011, at 9:05 PM, Len Charest wrote:
&gt;<i> Will MonoDroid support System.Data.Services.Client.dll by version 1.0?
</I>
Given that it doesn't compile cleanly for me right now, No. :-)

The immediate followup question is whether we'll eventually support it.  I don't know, but for comparison the System.Data.Services.Client.DataServiceCollection&lt;T&gt; type only lists Silverlight 4 as a supported platform, and not Windows Phone 7:

	<A HREF="http://msdn.microsoft.com/en-us/library/ee474331(VS.95">http://msdn.microsoft.com/en-us/library/ee474331(VS.95</A>).aspx#versionsTitleToggle

&gt;<i> Alternatively, how would I go about compiling that assembly from source &amp; targeting MonoDroid?
</I>
1. Get thee a mono checkout

	git clone <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">git at github.com</A>:mono/mono.git
	cd mono

2. Configure with the MonoDroid profile enabled:

	./autogen.sh --with-monodroid=yes

3. Do a normal full build...

	make all install

4. Build System.Data.Services.Client in the MonoDroid profile:

	cd mcs/class/System.Data.Services.Client
	make PROFILE=monodroid

If (4) works, you'll have a nice mcs/class/lib/monodroid/System.Data.Services.Client.dll that you can use.

Unfortunately, as mentioned above this does _not_ currently build [0].  The problem appears to be that System.Data.Services.Client.dll references WindowsBase.dll, which also isn't built for the MonoDroid profile, so the compiler tries to import the 2.0 or 4.0 WindowsBase.dll, which wants to import the 2.0/4.0 System.dll for INotifyPropertyChanged, which is just madness.

If you're interested in fixing this, I'd instead suggest looking at the set of assemblies that come with WP7 [1], and seeing if you can replace WindowsBase.dll with a set of assemblies that are part of WP7 and MonoDroid already (see mcs/class/lib/monodroid/*.dll after step (3) for assemblies included with MonoDroid).

 - Jon

[0] $ make PROFILE=monodroid
make all-local
MCS     [monodroid] System.Data.Services.Client.dll
/Client/System/Data/Services/Client/Binding/DataServiceCollectionOfT.cs(31,45): error CS0012: The type `System.ComponentModel.INotifyPropertyChanged' is defined in an assembly that is not referenced. Consider adding a reference to assembly `System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'
Compilation failed: 1 error(s), 0 warnings
make[1]: *** [../../class/lib/monodroid/System.Data.Services.Client.dll] Error 1
make: *** [do-all] Error 2

[1] Why can't I find a simple list of assemblies that are part of WP7?

</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003108.html">[Monodroid] Support for System.Data.Services.Client?
</A></li>
	<LI>Next message: <A HREF="003121.html">[Monodroid] Creating a Game Loop in Monodroid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3126">[ date ]</a>
              <a href="thread.html#3126">[ thread ]</a>
              <a href="subject.html#3126">[ subject ]</a>
              <a href="author.html#3126">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
