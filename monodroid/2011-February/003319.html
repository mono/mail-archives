<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] ISensorEventListener OnSensorChanged crashing by chance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20ISensorEventListener%20OnSensorChanged%20crashing%20by%0A%20chance&In-Reply-To=DB0E7CC3-68DF-434F-BB14-EF6AA5D8F4EA%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003317.html">
   <LINK REL="Next"  HREF="003320.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] ISensorEventListener OnSensorChanged crashing by chance</H1>
    <B>Wally McClure</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20ISensorEventListener%20OnSensorChanged%20crashing%20by%0A%20chance&In-Reply-To=DB0E7CC3-68DF-434F-BB14-EF6AA5D8F4EA%40novell.com"
       TITLE="[Monodroid] ISensorEventListener OnSensorChanged crashing by chance">theevilprogrammer at hotmail.com
       </A><BR>
    <I>Fri Feb 25 16:14:32 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003317.html">[Monodroid] ISensorEventListener OnSensorChanged crashing by	chance
</A></li>
        <LI>Next message: <A HREF="003320.html">[Monodroid] ISensorEventListener OnSensorChanged crashing by	chance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3319">[ date ]</a>
              <a href="thread.html#3319">[ thread ]</a>
              <a href="subject.html#3319">[ subject ]</a>
              <a href="author.html#3319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
fyi, I wrote the following code to read from the accelerometer.  Seems to work fine.  Granted, this code is working in an activity.  For my own understanding, what does inheriting for Java.Lang.Object inheritance do?  I assume its a requirement to inherit from something, but I want to add to my understanding. 
     [Activity(Label = &quot;Acceleration&quot;, MainLauncher = true)]
    public class Activity1 : Activity, Android.Hardware.ISensorEventListener
    {
        TextView tv;
        protected override void OnCreate(Bundle bundle)
        {
            base.OnCreate(bundle);
 
            // Set our view from the &quot;main&quot; layout resource
            SetContentView(Resource.Layout.Main);
            tv = FindViewById&lt;TextView&gt;(Resource.Id.accelerationVal);
            String service_name = SensorService;
            SensorManager sensorManager = (SensorManager)GetSystemService(service_name); ;
            Sensor defSensor
            defSensor = sensorManager.GetDefaultSensor(SensorType.Accelerometer);
            sensorManager.RegisterListener(this, defSensor, SensorDelay.Ui);
        }
 
        public void OnAccuracyChanged(Sensor sensor, int accuracy)
        {
            
        }
 
        public void OnSensorChanged(SensorEvent e)
        {
            if ( e.Sensor.Type == SensorType.Accelerometer){
                var calibrationValue = SensorManager.StandardGravity;
                var mVals = e.Values;
                var x = mVals[0];
                var y = mVals[1];
                var z = mVals[2];
                var SumOfSq = Math.Pow(x, 2) + Math.Pow(y, 2) + Math.Pow(z, 2);
                var mag = Math.Pow(SumOfSq, .5) - calibrationValue;
                RunOnUiThread(() =&gt;
                    tv.Text = &quot;Acceleration (g): &quot; + mag.ToString()
                );
            }
        }
    }


 
&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jpryor at novell.com</A>
</I>&gt;<i> Date: Fri, 25 Feb 2011 15:17:27 -0500
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Monodroid] ISensorEventListener OnSensorChanged crashing by chance
</I>&gt;<i> 
</I>&gt;<i> On Feb 17, 2011, at 5:56 PM, Stefan Wywior wrote:
</I>&gt;<i> &gt; I'm trying to get values from the accelerometer, which seems to work 
</I>&gt;<i> &gt; well but by chance my application is crashing with the following exception:
</I>&gt;<i> ..
</I>&gt;<i> &gt; class SensorListener : ISensorEventListener
</I>&gt;<i> 
</I>&gt;<i> Change SensorListener to inherit from Java.Lang.Object:
</I>&gt;<i> 
</I>&gt;<i> class SensorListener : Java.Lang.Object, ISensorListener {...}
</I>&gt;<i> 
</I>&gt;<i> If that doesn't fix the problem, please file a bug with a complete test case.
</I>&gt;<i> 
</I>&gt;<i> Thanks!
</I>&gt;<i> - Jon
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i> 
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I> 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110225/4a21e91a/attachment.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110225/4a21e91a/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003317.html">[Monodroid] ISensorEventListener OnSensorChanged crashing by	chance
</A></li>
	<LI>Next message: <A HREF="003320.html">[Monodroid] ISensorEventListener OnSensorChanged crashing by	chance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3319">[ date ]</a>
              <a href="thread.html#3319">[ thread ]</a>
              <a href="subject.html#3319">[ subject ]</a>
              <a href="author.html#3319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
