<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] playing video
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20playing%20video&In-Reply-To=COL122-W72889CAF211606BAD156DAEE40%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002853.html">
   <LINK REL="Next"  HREF="002855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] playing video</H1>
    <B>Wally McClure</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20playing%20video&In-Reply-To=COL122-W72889CAF211606BAD156DAEE40%40phx.gbl"
       TITLE="[Monodroid] playing video">theevilprogrammer at hotmail.com
       </A><BR>
    <I>Wed Feb  2 16:40:46 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002853.html">[Monodroid] playing video
</A></li>
        <LI>Next message: <A HREF="002855.html">[Monodroid] Layout problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2854">[ date ]</a>
              <a href="thread.html#2854">[ thread ]</a>
              <a href="subject.html#2854">[ subject ]</a>
              <a href="author.html#2854">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Nevermind, the file was stored within Community Server.  When I put the file directly on the drive of my server and bypassed CS, I can play the video.  Sweet.  Its great to see the video play!!!!!!!!!!! 
 


From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">theevilprogrammer at hotmail.com</A>
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
Date: Wed, 2 Feb 2011 16:24:59 -0500
Subject: [Monodroid] playing video




I've got the code below.  I'm trying to play video.  The error occurs in the mediaPlayer.Prepare() statement.  The video does exist and play.  I'm looking at this from the standpoint of streaming video to a device and am assuming that this is the hardest thing for MonoDroid to do.  The video does exist and is available to anonymous users from my server.  Any suggestions in how to get a short video to stream to the user is appreciated.
 
The stack trace is:
&quot; at Android.Runtime.JNIEnv.CallVoidMethod (IntPtr jobject, IntPtr jmethod) [0x00022] in /home/jpobst/Desktop/mondroid/Mono.Android/src/Runtime/JNIEnv.cs:515 \n at Android.Media.MediaPlayer.Prepare () [0x0003e] in /home/jpobst/Desktop/mondroid/Mono.Android/platforms/android-8/src/generated/Android.Media.MediaPlayer.cs:1190 \n at Graphics.video.SurfaceCreated (ISurfaceHolder holder) [0x00020] in video.cs:46 &quot;
 
The exception message is:
&quot;Prepare failed.: status=0x1&quot;
 
Code:
protected override void OnCreate(Bundle bundle)
{
base.OnCreate(bundle);
SetContentView(Resource.Layout.videolayout);
// Create your application here
mediaPlayer = new Android.Media.MediaPlayer();
SurfaceView surface = (SurfaceView)FindViewById(Resource.Id.surface);
var holder = surface.Holder;
holder.AddCallback(this);
holder.SetType(Android.Views.SurfaceType.PushBuffers);
holder.SetFixedSize(400, 300);
Button btnClose = FindViewById&lt;Button&gt;(Resource.Id.btnClose);
btnClose.Click += new EventHandler(btnClose_Click);
}
void btnClose_Click(object sender, EventArgs e)
{
this.Finish();
}
public void SurfaceCreated(ISurfaceHolder holder)
{
try
{
mediaPlayer.SetDisplay(holder);
mediaPlayer.SetDataSource(&quot;<A HREF="http://www.morewally.com/cs/files/folders/1951/download.aspx&quot;">http://www.morewally.com/cs/files/folders/1951/download.aspx&quot;</A>);
mediaPlayer.Prepare();
mediaPlayer.Start();
}
catch (System.Exception e)
{
Android.Util.Log.Debug(&quot;MEDIA_PLAYER&quot;, e.Message);
Toast.MakeText(this, e.Message, ToastLength.Short).Show(); 
}
}

_______________________________________________ Monodroid mailing list <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A> UNSUBSCRIBE INFORMATION: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A> 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110202/d283a38d/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110202/d283a38d/attachment-0001.html</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002853.html">[Monodroid] playing video
</A></li>
	<LI>Next message: <A HREF="002855.html">[Monodroid] Layout problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2854">[ date ]</a>
              <a href="thread.html#2854">[ thread ]</a>
              <a href="subject.html#2854">[ subject ]</a>
              <a href="author.html#2854">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
