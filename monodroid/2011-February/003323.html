<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] ISensorEventListener OnSensorChanged crashing by	chance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20ISensorEventListener%20OnSensorChanged%20crashing%20by%0A%09chance&In-Reply-To=COL122-W16F2BD77436D1EE3704857AEDD0%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003320.html">
   <LINK REL="Next"  HREF="003134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] ISensorEventListener OnSensorChanged crashing by	chance</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20ISensorEventListener%20OnSensorChanged%20crashing%20by%0A%09chance&In-Reply-To=COL122-W16F2BD77436D1EE3704857AEDD0%40phx.gbl"
       TITLE="[Monodroid] ISensorEventListener OnSensorChanged crashing by	chance">jpryor at novell.com
       </A><BR>
    <I>Fri Feb 25 16:59:47 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003320.html">[Monodroid] ISensorEventListener OnSensorChanged crashing by	chance
</A></li>
        <LI>Next message: <A HREF="003134.html">[Monodroid] Struct's messing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3323">[ date ]</a>
              <a href="thread.html#3323">[ thread ]</a>
              <a href="subject.html#3323">[ subject ]</a>
              <a href="author.html#3323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Feb 25, 2011, at 4:14 PM, Wally McClure wrote:
&gt;<i> For my own understanding, what does inheriting for Java.Lang.Object inheritance do?
</I>
Inheriting from Java.Lang.Object makes the type usable from Java.

Because of the Mono for Android Architecture [0], Java objects and Mono objects run in separate VMs. If you want to pass an object to Java code, you have to pass the Java method an object present within the Java VM. Where does this Java object come from? It comes from the interaction of two different bits:

  - The Java proxy generated by monodroid.exe [1]
  - The Java.Lang.Object default constructor creates an instance of the corresponding monodroid-generated Java object and stores it in Java.Lang.Object.Handle.

This way, when a new instance of a Java.Lang.Object subclass is created (such as your SensorListener), a Java VM-side object is created, and when you pass an instance of the Java.Lang.Object subclass to a Java method, the Java VM-side object is actually passed.

Consequently, in order for any of this to sanely work, ALL Android.Runtime.IJavaObject implementations MUST (eventually) inherit from Java.Lang.Object. If they don't, you have to implement IJavaObject.Handle so that it will return a valid instance for a Java-VM allocated object, otherwise Bad Things&#8482; happen (like NullPointerExceptions), and it wasn't possible to &quot;easily&quot; create objects in the Java VM until Preview 9 (which most people would likely get wrong, anyway).

 - Jon

[0] <A HREF="http://monodroid.net/Documentation/Architecture">http://monodroid.net/Documentation/Architecture</A>

[1] <A HREF="http://monodroid.net/Documentation/Tools/Monodroid.exe">http://monodroid.net/Documentation/Tools/Monodroid.exe</A>

[2] <A HREF="http://monodroid.net/Releases/Previews/Preview_9#JNI.c2.a0Support">http://monodroid.net/Releases/Previews/Preview_9#JNI.c2.a0Support</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003320.html">[Monodroid] ISensorEventListener OnSensorChanged crashing by	chance
</A></li>
	<LI>Next message: <A HREF="003134.html">[Monodroid] Struct's messing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3323">[ date ]</a>
              <a href="thread.html#3323">[ thread ]</a>
              <a href="subject.html#3323">[ subject ]</a>
              <a href="author.html#3323">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
