<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Permissions to create directories
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Permissions%20to%20create%20directories&In-Reply-To=D6296924-445B-42CB-A3AD-8C916E5EC8F4%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003336.html">
   <LINK REL="Next"  HREF="003346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Permissions to create directories</H1>
    <B>Chris Erickson</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Permissions%20to%20create%20directories&In-Reply-To=D6296924-445B-42CB-A3AD-8C916E5EC8F4%40novell.com"
       TITLE="[Monodroid] Permissions to create directories">chris at cartopac.com
       </A><BR>
    <I>Sat Feb 26 16:43:13 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003336.html">[Monodroid] Permissions to create directories
</A></li>
        <LI>Next message: <A HREF="003346.html">[Monodroid] Permissions to create directories
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3344">[ date ]</a>
              <a href="thread.html#3344">[ thread ]</a>
              <a href="subject.html#3344">[ subject ]</a>
              <a href="author.html#3344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jon,
Thanks,

I believe that I was seeing &quot;/data&quot; returned from
Activity.GetExternalFilesDir(null), which from
<A HREF="http://developer.android.com/reference/android/content/Context.html#getExte">http://developer.android.com/reference/android/content/Context.html#getExte</A>
rnalFilesDir(java.lang.String) would imply this would be a writable path.

I haven't been able to double check this in P13 yet, but will when I'm
debugging again.

What is the path to 'internal' storage for your application? (or the
method to find it)...?



On 2/25/11 8:41 PM, &quot;Jonathan Pryor&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jpryor at novell.com</A>&gt; wrote:

&gt;<i>On Feb 25, 2011, at 6:29 PM, Chris Erickson wrote:
</I>&gt;&gt;<i> I'm trying to create a directory on external storage, and am getting an
</I>&gt;&gt;<i>unauthorized access exception.
</I>&gt;<i>
</I>&gt;<i>You can't write to just any directory, the filesystem permissions won't
</I>&gt;<i>allow it. In particular, they certainly won't allow writing to /data, and
</I>&gt;<i>I've never heard of a /Android directory (much less a /Android/data
</I>&gt;<i>directory).
</I>&gt;<i>
</I>&gt;<i>What you want is Context.GetExternalFilesDir(string)[0] and/or
</I>&gt;<i>Environment.GetExternalStorageDirectory() [1].
</I>&gt;<i>
</I>&gt;<i>Note the fine print in [1]:
</I>&gt;<i>
</I>&gt;<i>    This directory may not currently be accessible if it has been mounted
</I>&gt;<i>by the user on their computer, has been removed from the device, or some
</I>&gt;<i>other problem has happened. You can determine its current state with
</I>&gt;<i>Environment.ExternalStorageState [2].
</I>&gt;<i>
</I>&gt;<i>Once you obtain a full path name from the Java.IO.File instance (e.g. via
</I>&gt;<i>Java.IO.File.AbsolutePath [3]), you can use
</I>&gt;<i>System.IO.Directory.CreateDirectory(), but you first need to find the
</I>&gt;<i>correct root directory, which is what [0, 1] do.
</I>&gt;<i>
</I>&gt;<i> - Jon
</I>&gt;<i>
</I>&gt;<i>[0] 
</I>&gt;<i><A HREF="http://docs.monodroid.net/index.aspx?link=M:Android.Content.Context.GetExt">http://docs.monodroid.net/index.aspx?link=M:Android.Content.Context.GetExt</A>
</I>&gt;<i>ernalFilesDir(System.String)
</I>&gt;<i>
</I>&gt;<i>[1] 
</I>&gt;<i><A HREF="http://docs.monodroid.net/index.aspx?link=P:Android.OS.Environment.Externa">http://docs.monodroid.net/index.aspx?link=P:Android.OS.Environment.Externa</A>
</I>&gt;<i>lStorageDirectory
</I>&gt;<i>
</I>&gt;<i>[2] 
</I>&gt;<i><A HREF="http://docs.monodroid.net/index.aspx?link=P:Android.OS.Environment.Externa">http://docs.monodroid.net/index.aspx?link=P:Android.OS.Environment.Externa</A>
</I>&gt;<i>lStorageState
</I>&gt;<i>
</I>&gt;<i>[3] <A HREF="http://docs.monodroid.net/index.aspx?link=P:Java.IO.File.AbsolutePath">http://docs.monodroid.net/index.aspx?link=P:Java.IO.File.AbsolutePath</A>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Monodroid mailing list
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i>UNSUBSCRIBE INFORMATION:
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003336.html">[Monodroid] Permissions to create directories
</A></li>
	<LI>Next message: <A HREF="003346.html">[Monodroid] Permissions to create directories
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3344">[ date ]</a>
              <a href="thread.html#3344">[ thread ]</a>
              <a href="subject.html#3344">[ subject ]</a>
              <a href="author.html#3344">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
