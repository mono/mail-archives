<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] DialogPreference ClassNotFoundException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20DialogPreference%20ClassNotFoundException&In-Reply-To=%3C7D81FB96-6A1C-42D7-B0C8-99DAA7CD1156%40xamarin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011471.html">
   <LINK REL="Next"  HREF="011482.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] DialogPreference ClassNotFoundException</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20DialogPreference%20ClassNotFoundException&In-Reply-To=%3C7D81FB96-6A1C-42D7-B0C8-99DAA7CD1156%40xamarin.com%3E"
       TITLE="[mono-android] DialogPreference ClassNotFoundException">jonp at xamarin.com
       </A><BR>
    <I>Mon Jul 23 21:45:20 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011471.html">[mono-android] DialogPreference ClassNotFoundException
</A></li>
        <LI>Next message: <A HREF="011482.html">[mono-android] DialogPreference ClassNotFoundException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11479">[ date ]</a>
              <a href="thread.html#11479">[ thread ]</a>
              <a href="subject.html#11479">[ subject ]</a>
              <a href="author.html#11479">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jul 23, 2012, at 11:43 AM, hhodgert wrote:
&gt;<i> The full exception + stack trace information as obtained from the Android Debug Log:
</I>...
&gt;<i> 07-23 15:35:06.346 I/MonoDroid(  375): UNHANDLED EXCEPTION: Android.Views.InflateException: Exception of type 'Android.Views.InflateException' was thrown.
</I>...
&gt;<i> 07-23 15:35:06.346 I/MonoDroid(  375): android.view.InflateException: Binary XML file line #19: Error inflating class WebMD.Mobile.JustOneThing.Utils.TimeDialogPreference
</I>...
&gt;<i> 07-23 15:35:06.346 I/MonoDroid(  375): Caused by: java.lang.ClassNotFoundException: WebMD.Mobile.JustOneThing.Utils.TimeDialogPreference in loader dalvik.system.PathClassLoader[/data/app/WebMD.JustOneThing-2.apk]
</I>
It's failing because it can't find the type &quot;WebMD.Mobile.JustOneThing.Utils.TimeDialogPreference.&quot;

Related question: Why is it using the type &quot;WebMD.Mobile.JustOneThing.Utils.TimeDialogPreference&quot;? By default, we lowerspace namespace names when generating the package names, so it should be looking for the Java type webmd.mobile.justonething.utils.TimePreferenceDialog.

What do you have in obj\Debug\android\src\**\TimeDialogPreference.java?

Then you have both a app.Mobile.JustOneThing.Utils.TimeDialogPreference and a WebMD.Mobile.JustOneThing.Utils.TimeDialogPreference type; that seems rather odd (why differ in just the toplevel namespace?).

Oddest of all:

	[Register (&quot;android/preference/TimeDialogPreference&quot;, DoNotGenerateAcw = true)]
	public class TimeDialogPreference : DialogPreference

Why are you doing that? In general, [Register] shouldn't be used unless you're binding a Java type, in which case DoNotGenerateAcw should be true, which you do here. However, android.preference.TimeDialogPreference doesn't exist, at least not in the Android SDK, so any attempts to use that type will fail. Furthermore, type bindings need to satisfy many requirements, which TimeDialogPreference doesn't do:

	<A HREF="http://docs.xamarin.com/android/advanced_topics/Binding_Android_Types#Restrictions">http://docs.xamarin.com/android/advanced_topics/Binding_Android_Types#Restrictions</A>

Specifically, any Java.Lang.Object subclass which has a [Register] custom attribute and for which [Register(DoNotGenerateAcw=true)] CANNOT contain any fields which may refer to a Java.Lang.Object or subclass at runtime, which would be _every_ field in your TimeDialogPreference declaration.

Something seems very confused... :-/

 - Jon

</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011471.html">[mono-android] DialogPreference ClassNotFoundException
</A></li>
	<LI>Next message: <A HREF="011482.html">[mono-android] DialogPreference ClassNotFoundException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11479">[ date ]</a>
              <a href="thread.html#11479">[ thread ]</a>
              <a href="subject.html#11479">[ subject ]</a>
              <a href="author.html#11479">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
