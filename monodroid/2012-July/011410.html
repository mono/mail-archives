<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Issue with InputStream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Issue%20with%20InputStream&In-Reply-To=%3C9107B697-040C-4790-90FB-79D0C2DA5824%40xamarin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011405.html">
   <LINK REL="Next"  HREF="011411.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Issue with InputStream</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Issue%20with%20InputStream&In-Reply-To=%3C9107B697-040C-4790-90FB-79D0C2DA5824%40xamarin.com%3E"
       TITLE="[mono-android] Issue with InputStream">jonp at xamarin.com
       </A><BR>
    <I>Tue Jul 17 16:31:35 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011405.html">[mono-android] Issue with InputStream
</A></li>
        <LI>Next message: <A HREF="011411.html">[mono-android] Issue with InputStream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11410">[ date ]</a>
              <a href="thread.html#11410">[ thread ]</a>
              <a href="subject.html#11410">[ subject ]</a>
              <a href="author.html#11410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jul 17, 2012, at 10:18 AM, Francesco Colombo wrote:
&gt;<i> I really appreciate if someone can do a very simple test for me:
</I>&gt;<i> 
</I>&gt;<i> 1) Create a new simple android application
</I>&gt;<i> 2) UNZIP and PUT the attached file (logoscreen.xnb) into Assets folder
</I>
logoscreen.xnb is ~4MB in size. Android &lt; 2.3 does not support decompressing compressed assets that are larger than 1MB in size:

	<A HREF="http://developer.android.com/about/versions/android-2.3-highlights.html">http://developer.android.com/about/versions/android-2.3-highlights.html</A>

		&quot;There is no longer a limit on the size of compressed .apk assets that can be read.&quot;

	<A HREF="http://stackoverflow.com/q/2860157/83444">http://stackoverflow.com/q/2860157/83444</A>

There are two fixes:

1. Require Android 2.3+ (thus preventing execution on your GS1 device). (OK, this isn't a fix...)

2. Do not compress logoscreen.xnb. This can be done by opening Project Options, going to the Application tab, and adding .xnb to the Leave the following resource extensions uncompressed textbox. This also means that your .apk size will increase by ~4MB, as it won't be compressed.

An alternate 3rd solution is to not use Android Assets/Resources for the .xnb. It's apparently a XNA data file, so there's no actual need for it to be an Android Asset. You can instead set its Build action to EmbeddedResource, and use the System.Reflection APIs to grab it:

	System.Reflection.Assembly.GetExecutingAssembly ()
		.GetManifestResourceStream (&quot;logoscreen.xnb&quot;);

 - Jon

</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011405.html">[mono-android] Issue with InputStream
</A></li>
	<LI>Next message: <A HREF="011411.html">[mono-android] Issue with InputStream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11410">[ date ]</a>
              <a href="thread.html#11410">[ thread ]</a>
              <a href="subject.html#11410">[ subject ]</a>
              <a href="author.html#11410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
