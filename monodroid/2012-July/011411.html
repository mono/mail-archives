<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Issue with InputStream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Issue%20with%20InputStream&In-Reply-To=%3CCAFe9JK%2BLLap8w%3Da3CxmpALujyfyM7y2HTfY47aNQoyajby6VEg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011410.html">
   <LINK REL="Next"  HREF="011412.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Issue with InputStream</H1>
    <B>Francesco Colombo</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Issue%20with%20InputStream&In-Reply-To=%3CCAFe9JK%2BLLap8w%3Da3CxmpALujyfyM7y2HTfY47aNQoyajby6VEg%40mail.gmail.com%3E"
       TITLE="[mono-android] Issue with InputStream">francesco.colombo at gmail.com
       </A><BR>
    <I>Tue Jul 17 16:46:52 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011410.html">[mono-android] Issue with InputStream
</A></li>
        <LI>Next message: <A HREF="011412.html">[mono-android] Issue with InputStream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11411">[ date ]</a>
              <a href="thread.html#11411">[ thread ]</a>
              <a href="subject.html#11411">[ subject ]</a>
              <a href="author.html#11411">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>@Jon: Ok I admit I'am a bit confused :S

First of all, the file I've linked is the wrong one. The right one is 2mb
unzipped and 12kb zipped. But this is the less important thing.
The really wired thing is that the first version of the game I've developed
and released  (downloadeble in stores) use the same, and others, file which
are +1mb.
The game runs fine on a HTC Desire with Android 2.2. I've checked inside
the apk, and all the .xnb I use are ~2mb. How is it possibile?

Jon, do you have any chance to test the .apk in a device with Android 2.2,
if I provide to you a valid link for the apk?

On Tue, Jul 17, 2012 at 6:31 PM, Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jonp at xamarin.com</A>&gt; wrote:

&gt;<i> On Jul 17, 2012, at 10:18 AM, Francesco Colombo wrote:
</I>&gt;<i> &gt; I really appreciate if someone can do a very simple test for me:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 1) Create a new simple android application
</I>&gt;<i> &gt; 2) UNZIP and PUT the attached file (logoscreen.xnb) into Assets folder
</I>&gt;<i>
</I>&gt;<i> logoscreen.xnb is ~4MB in size. Android &lt; 2.3 does not support
</I>&gt;<i> decompressing compressed assets that are larger than 1MB in size:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://developer.android.com/about/versions/android-2.3-highlights.html">http://developer.android.com/about/versions/android-2.3-highlights.html</A>
</I>&gt;<i>
</I>&gt;<i>                 &quot;There is no longer a limit on the size of compressed .apk
</I>&gt;<i> assets that can be read.&quot;
</I>&gt;<i>
</I>&gt;<i>         <A HREF="http://stackoverflow.com/q/2860157/83444">http://stackoverflow.com/q/2860157/83444</A>
</I>&gt;<i>
</I>&gt;<i> There are two fixes:
</I>&gt;<i>
</I>&gt;<i> 1. Require Android 2.3+ (thus preventing execution on your GS1 device).
</I>&gt;<i> (OK, this isn't a fix...)
</I>&gt;<i>
</I>&gt;<i> 2. Do not compress logoscreen.xnb. This can be done by opening Project
</I>&gt;<i> Options, going to the Application tab, and adding .xnb to the Leave the
</I>&gt;<i> following resource extensions uncompressed textbox. This also means that
</I>&gt;<i> your .apk size will increase by ~4MB, as it won't be compressed.
</I>&gt;<i>
</I>&gt;<i> An alternate 3rd solution is to not use Android Assets/Resources for the
</I>&gt;<i> .xnb. It's apparently a XNA data file, so there's no actual need for it to
</I>&gt;<i> be an Android Asset. You can instead set its Build action to
</I>&gt;<i> EmbeddedResource, and use the System.Reflection APIs to grab it:
</I>&gt;<i>
</I>&gt;<i>         System.Reflection.Assembly.GetExecutingAssembly ()
</I>&gt;<i>                 .GetManifestResourceStream (&quot;logoscreen.xnb&quot;);
</I>&gt;<i>
</I>&gt;<i>  - Jon
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20120717/c011d45d/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20120717/c011d45d/attachment.html</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011410.html">[mono-android] Issue with InputStream
</A></li>
	<LI>Next message: <A HREF="011412.html">[mono-android] Issue with InputStream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11411">[ date ]</a>
              <a href="thread.html#11411">[ thread ]</a>
              <a href="subject.html#11411">[ subject ]</a>
              <a href="author.html#11411">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
