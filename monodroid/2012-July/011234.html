<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] MonoDroid custom View doesn't show child
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20MonoDroid%20custom%20View%20doesn%27t%20show%20child&In-Reply-To=%3CCAC30OvgKHpKuFYWNLFV_Te1LXCZzcwFW5qn9bXXUotu77LHqZQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011225.html">
   <LINK REL="Next"  HREF="011226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] MonoDroid custom View doesn't show child</H1>
    <B>Sayed Arian Kooshesh</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20MonoDroid%20custom%20View%20doesn%27t%20show%20child&In-Reply-To=%3CCAC30OvgKHpKuFYWNLFV_Te1LXCZzcwFW5qn9bXXUotu77LHqZQ%40mail.gmail.com%3E"
       TITLE="[mono-android] MonoDroid custom View doesn't show child">kooshesh at gmail.com
       </A><BR>
    <I>Thu Jul  5 05:41:14 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011225.html">[mono-android] MonoDroid custom View doesn't show child
</A></li>
        <LI>Next message: <A HREF="011226.html">[mono-android] AES ecryption
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11234">[ date ]</a>
              <a href="thread.html#11234">[ thread ]</a>
              <a href="subject.html#11234">[ subject ]</a>
              <a href="author.html#11234">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I don't know what your problem is, but I do see something else you are
doing wrong.


<A HREF="http://stackoverflow.com/questions/5255184/android-and-setting-width-and-height-programmatically-in-dp-units">http://stackoverflow.com/questions/5255184/android-and-setting-width-and-height-programmatically-in-dp-units</A>

 I don't think doing this will fix your problem but it will fix future
problems you'll have.



Just from glancing at your code an educated guess would be that you aren't
calculating for density here :

      _textLabel.LayoutParameters = new ViewGroup.LayoutParams(200, 50);



On Thu, Jul 5, 2012 at 12:03 AM, dma &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">dovzhenko.dmitry at gmail.com</A>&gt; wrote:

&gt;<i> I have pretty simple custom view:
</I>&gt;<i>
</I>&gt;<i> public class TestControl : RelativeLayout
</I>&gt;<i> {
</I>&gt;<i>     private readonly Context _context;
</I>&gt;<i>
</I>&gt;<i>     private TextView _textLabel;
</I>&gt;<i>
</I>&gt;<i>     public TestControl(Context context) : base(context)
</I>&gt;<i>     {
</I>&gt;<i>         _context = context;
</I>&gt;<i>
</I>&gt;<i>         LayoutParameters = new LayoutParams(300, 200);
</I>&gt;<i>         SetBackgroundColor(Color.Green);
</I>&gt;<i>
</I>&gt;<i>         _textLabel = new TextView(_context);
</I>&gt;<i>         _textLabel.SetText(&quot;Test test test test test test&quot;,
</I>&gt;<i> TextView.BufferType.Normal);
</I>&gt;<i>         _textLabel.SetTextColor(Android.Graphics.Color.Black);
</I>&gt;<i>         _textLabel.LayoutParameters = new ViewGroup.LayoutParams(200, 50);
</I>&gt;<i>         _textLabel.SetBackgroundColor(Color.Red);
</I>&gt;<i>
</I>&gt;<i>         AddView(_textLabel);
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i>     protected override void OnLayout(bool changed, int l, int t, int r, int
</I>&gt;<i> b)
</I>&gt;<i>     {
</I>&gt;<i>
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i> When I try to add it as a view into my main activity layout:
</I>&gt;<i>
</I>&gt;<i> var myControl = new TestControl(this);
</I>&gt;<i> myMainLayout.AddView(myControl);
</I>&gt;<i> I see only green recangle(300 x 200) but no TextView.
</I>&gt;<i>
</I>&gt;<i> What am I doing wrong? Any help on how to show at least TextView inside
</I>&gt;<i> some
</I>&gt;<i> colored layout much appreciated, as I need actualy much more complicated
</I>&gt;<i> custom view.
</I>&gt;<i>
</I>&gt;<i> Thanks in advance.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://mono-for-android.1047100.n5.nabble.com/MonoDroid-custom-View-doesn-t-show-child-tp5710744.html">http://mono-for-android.1047100.n5.nabble.com/MonoDroid-custom-View-doesn-t-show-child-tp5710744.html</A>
</I>&gt;<i> Sent from the Mono for Android mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>


-- 
Extreme Knowledge is not something for which he programs a computer but for
which his computer is programming him.

-Wozniak
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20120705/a8bc42e2/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20120705/a8bc42e2/attachment.html</A>&gt;
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011225.html">[mono-android] MonoDroid custom View doesn't show child
</A></li>
	<LI>Next message: <A HREF="011226.html">[mono-android] AES ecryption
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11234">[ date ]</a>
              <a href="thread.html#11234">[ thread ]</a>
              <a href="subject.html#11234">[ subject ]</a>
              <a href="author.html#11234">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
