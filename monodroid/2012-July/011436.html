<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] HttpWebRequest connection problem &amp; Binding Apache	HttpClient
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20HttpWebRequest%20connection%20problem%20%26%20Binding%20Apache%0A%09HttpClient&In-Reply-To=%3C1342644611934-5710953.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011435.html">
   <LINK REL="Next"  HREF="011437.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] HttpWebRequest connection problem &amp; Binding Apache	HttpClient</H1>
    <B>Jones</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20HttpWebRequest%20connection%20problem%20%26%20Binding%20Apache%0A%09HttpClient&In-Reply-To=%3C1342644611934-5710953.post%40n5.nabble.com%3E"
       TITLE="[mono-android] HttpWebRequest connection problem &amp; Binding Apache	HttpClient">jonas.wiedemann at tune-in-media.de
       </A><BR>
    <I>Wed Jul 18 20:50:11 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011435.html">[mono-android] HttpWebRequest does not react to network change (WiFi &lt;-&gt; 3g)
</A></li>
        <LI>Next message: <A HREF="011437.html">[mono-android] ScaleGestureDetector missing properties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11436">[ date ]</a>
              <a href="thread.html#11436">[ thread ]</a>
              <a href="subject.html#11436">[ subject ]</a>
              <a href="author.html#11436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've got massive problems with async request with HttpWebRequest, so request
got cancelled when a few requests has been done. Setting the
KeepAlive-parameter to false doesn't make any changes. Also setting the
HttpWebRequest's ServicePoint.ConnectionLimit and global
ServicePointManager.DefaultConnectionLimit to a higher limit, e.g. 20,
doesn't help.
I'm also cancelling previous request via HttpWebRequest's Abort-method
before creating a new one.
After a few requests I've got the problem that request got cancelled
immediately or loading endless(I'm checking timeout with registering the
async wait handle at ThreadPool.RegisterWaitForSingleObject).
I already worked on this issue for many hours and got no working solution
but I think something is wrong with the connection limit and the release and
reuse of old connections.
Any suggestions?

Because of the problem with HttpWebRequest I tried to find another solution
and tried to bind the Apache HttpClient
Library(<A HREF="http://hc.apache.org/downloads.cgi">http://hc.apache.org/downloads.cgi</A>) which is often used in Java
Projects. I added the Apache HttpClient jar as InputJar and Apache
HttpComponents HttpCore, Apache Commons Logging and Apache Commons Codec as
reference jar as discribed in the Readme. Every time I try to create the
project I'm getting this error

and I have no idea what to do now.
Because binding doesn't worked I'm accessing the HttpClient jar with JNI,
but this is a little bit complicated right now cause not all method calls
are working properly(e.g. releaseConnection), because I have never worked
with JNI before.

Hope anyone can help.

Regards,
Jonas

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/HttpWebRequest-connection-problem-Binding-Apache-HttpClient-tp5710953.html">http://mono-for-android.1047100.n5.nabble.com/HttpWebRequest-connection-problem-Binding-Apache-HttpClient-tp5710953.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011435.html">[mono-android] HttpWebRequest does not react to network change (WiFi &lt;-&gt; 3g)
</A></li>
	<LI>Next message: <A HREF="011437.html">[mono-android] ScaleGestureDetector missing properties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11436">[ date ]</a>
              <a href="thread.html#11436">[ thread ]</a>
              <a href="subject.html#11436">[ subject ]</a>
              <a href="author.html#11436">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
