<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Minimum Android to Target (suggest use term	Default)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Minimum%20Android%20to%20Target%20%28suggest%20use%20term%0A%09Default%29&In-Reply-To=%3C8A470DD8-AA21-48CB-9F5A-189680F26C4B%40xamarin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011503.html">
   <LINK REL="Next"  HREF="011528.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Minimum Android to Target (suggest use term	Default)</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Minimum%20Android%20to%20Target%20%28suggest%20use%20term%0A%09Default%29&In-Reply-To=%3C8A470DD8-AA21-48CB-9F5A-189680F26C4B%40xamarin.com%3E"
       TITLE="[mono-android] Minimum Android to Target (suggest use term	Default)">jonp at xamarin.com
       </A><BR>
    <I>Thu Jul 26 02:09:54 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011503.html">[mono-android] Minimum Android to Target (suggest use term	Default)
</A></li>
        <LI>Next message: <A HREF="011528.html">[mono-android] Random access on Android Assets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11504">[ date ]</a>
              <a href="thread.html#11504">[ thread ]</a>
              <a href="subject.html#11504">[ subject ]</a>
              <a href="author.html#11504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jul 25, 2012, at 1:57 PM, Neal Culiner &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">neal at nc-software.com</A>&gt; wrote:
&gt;<i> However, to get support for the newer features, as you know, I had to set the Minimum Android to Target to 4.0.  I then saw that the package that was sent to my device and later an emulator was a higher package version.
</I>
I'm not sure I understand this sentence; _what_ was &quot;a higher package version&quot;?

The TargetFrameworkVersion[0] that your app is built against corresponds to an API level, e.g. selecting &quot;Android 2.3 (Gingerbread)&quot; corresponds to API level 10. When the app is deployed, a Mono.Android.Platform.ApiLevel_X package is deployed to the target, where X is the TargetFrameworkVersion's API level.

TargetFrameworkVersion controls which types and members the compiler will permit access to.

There is also the AndroidManifest.xml //uses-sdk/@android:minSdkVersion attribute (MonoDevleop: Project Options &gt; Build/Mono for Android Application &gt; Minimum Android Version). This tells Android what the minimum API level your application will target. If not specified, this defaults to $(TargetFrameworkVersion).

Finally there is the AndroidManifest.xml //uses-sdk/@android:targetSdkVersion attribute [1], which Android uses to enable/disable certain default behaviors, in addition to which android.jar your application is built against. If not specified, this also defaults to $(TargetFrameworkVersion).

&gt;<i> This leads me to believe I should use the max version in my project to code against and this will also send the latest package to the device to use.
</I>
There are two different possible max values, which control different things: TargetFrameworkVersion and targetSdkVersion.

TargetFrameworkVersion should be the maximum API level that you wish to target.

targetSdkVersion should be ignored unless you're using something that requires it be set to a different value (e.g. Admob, which requires API 13 no matter what API level your app actually targets).

&gt;<i> With this being said, I suggest we adopt the same thing MonoTouch adopted for the SDK version with the term &#8220;Default&#8221; which uses the latest available API installed on the machine or you can set it to a lower version as needed.
</I>
I'm not sure this is a good idea. (I'm not sure what we currently do is best either, for that matter.)

MonoTouch is not Mono for Android. MonoTouch ships with a single binding assembly, and it's up to the developer to (somehow) ensure that they only use members that exist on their target devices.

Mono for Android, meanwhile, ships with one binding assembly per API level (Mono.Android.dll/etc.). This allows the compiler+IDE to only show the desired types and members.

The problem is that our installer installs _lots_ of API levels, including API-15, which has 10.7% market share.

	<A HREF="http://developer.android.com/about/dashboards/index.html">http://developer.android.com/about/dashboards/index.html</A>

In the future our installer will likely install API-16, which will have even less.

I'm not sure it's a good idea to default to an API level that hardly anyone has, unless the developer actually has such a device. Compare to iOS, where iOS 5.1 got 61% adoption in 15 days; fragmentation is a reality.

	<A HREF="http://thenextweb.com/apple/2012/03/23/apples-ota-upgrade-process-and-focused-hardware-lets-ios-5-1-hit-61-adoption-in-15-days/">http://thenextweb.com/apple/2012/03/23/apples-ota-upgrade-process-and-focused-hardware-lets-ios-5-1-hit-61-adoption-in-15-days/</A>

(Granted, the current solution of &quot;default to API level 8&quot; isn't wonderful either...)

 - Jon

[0] TargetFrameworkVersion is set in Visual Studio at Project Properties &gt; Application &gt; Minimum Android to target.

TargetFrameworkVersion is set within MonoDevelop at Project Options &gt; Build/General &gt; Target framework.

[1] //uses-sdk/@android:targetSdkVersion is set in Visual Studio at Project Properties &gt; Android Manifest &gt; Target API level.

//uses-sdk/@android:targetSdkVersion is set in MonoDevelop at Project Options &gt; Build/Mono for Android Application &gt; Target Android version.
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011503.html">[mono-android] Minimum Android to Target (suggest use term	Default)
</A></li>
	<LI>Next message: <A HREF="011528.html">[mono-android] Random access on Android Assets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11504">[ date ]</a>
              <a href="thread.html#11504">[ thread ]</a>
              <a href="subject.html#11504">[ subject ]</a>
              <a href="author.html#11504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
