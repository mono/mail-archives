<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] jni error with 4.2.4 on jellybean
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20jni%20error%20with%204.2.4%20on%20jellybean&In-Reply-To=%3C1345758578414-5711517.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011938.html">
   <LINK REL="Next"  HREF="012017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] jni error with 4.2.4 on jellybean</H1>
    <B>mcleodia</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20jni%20error%20with%204.2.4%20on%20jellybean&In-Reply-To=%3C1345758578414-5711517.post%40n5.nabble.com%3E"
       TITLE="[mono-android] jni error with 4.2.4 on jellybean">mcleodia at gmail.com
       </A><BR>
    <I>Thu Aug 23 21:49:38 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011938.html">[mono-android] jni error with 4.2.4 on jellybean
</A></li>
        <LI>Next message: <A HREF="012017.html">[mono-android] jni error with 4.2.4 on jellybean
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11999">[ date ]</a>
              <a href="thread.html#11999">[ thread ]</a>
              <a href="subject.html#11999">[ subject ]</a>
              <a href="author.html#11999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the clarification.  Most helpful.

In that case, if the stacktrace in question is the point of failure, then,
looking at the error message, something must be disposing of the
windowManager object or its DefaultDisplay property.  The DisplayMetrics
object is a brand new locally declared object so it can't be that.  I don't
believe I'm using either of these anywhere else in my code and I'm pretty
sure I'm only calling the ThemedResourceAttribute method from the UI thread,
so it should surely be threadsafe.  I'm certainly not explicitly disposing
of them anywhere that I know of, so it does sound rather like something
internal to monodroid is killing a gref out from under my feet :(

Incidentally, I saw another &quot;impossible&quot; stacktrace today whilst trying to
recreate the gref issue with logging enabled. (by &quot;impossible&quot;, I mean a
stacktrace which could never bubble up to an unhandled exception in the
runtime as there was a catch all exceptions statement at the root of the
thread's run method).  So there must be something still not quite right in
the gc... (although it is definitely _much_ more stable since
4.2.3/4.2.4!!!).

As always, I'm afraid this is all code that relies on upnp devices kicking
around on the network and so it will be almost impossible for me to give you
a repro app :(  

Sorry to bear yet more bad tidings to Kumpera!

Cheers
Iain



--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/jni-error-with-4-2-4-on-jellybean-tp5711456p5711517.html">http://mono-for-android.1047100.n5.nabble.com/jni-error-with-4-2-4-on-jellybean-tp5711456p5711517.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011938.html">[mono-android] jni error with 4.2.4 on jellybean
</A></li>
	<LI>Next message: <A HREF="012017.html">[mono-android] jni error with 4.2.4 on jellybean
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11999">[ date ]</a>
              <a href="thread.html#11999">[ thread ]</a>
              <a href="subject.html#11999">[ subject ]</a>
              <a href="author.html#11999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
