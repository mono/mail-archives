<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Error getting response stream	(mono/monodroid/monotouch problem)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Error%20getting%20response%20stream%0A%09%28mono/monodroid/monotouch%20problem%29&In-Reply-To=%3C1345040579816-5711340.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012070.html">
   <LINK REL="Next"  HREF="011814.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Error getting response stream	(mono/monodroid/monotouch problem)</H1>
    <B>soyo</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Error%20getting%20response%20stream%0A%09%28mono/monodroid/monotouch%20problem%29&In-Reply-To=%3C1345040579816-5711340.post%40n5.nabble.com%3E"
       TITLE="[mono-android] Error getting response stream	(mono/monodroid/monotouch problem)">lukair1983 at gmail.com
       </A><BR>
    <I>Wed Aug 15 14:22:59 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="012070.html">[mono-android] Switch between fragmnets action bar tab interface
</A></li>
        <LI>Next message: <A HREF="011814.html">[mono-android] Deploy Error: 'ps' output not recognized
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11946">[ date ]</a>
              <a href="thread.html#11946">[ thread ]</a>
              <a href="subject.html#11946">[ subject ]</a>
              <a href="author.html#11946">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.

I've mentioned in other topic, that a company I'm working for is writing an
app for android using monodroid. We've stumbled upon a problem which to be
honest is quite iritating. The problem is with getting a response stream
from the server. The issue happens using .NET WebClient class as well as
HttpWebRequest, as we tried both.

But this, we only figured out recently, till now we were not aware what is
the problem. Thankfully we came across this error, and taking a while
looking on the internet we found people having same issue, when they are
using any framework originated from mono:

<A HREF="http://stackoverflow.com/questions/3674692/mono-webclient-invalid-ssl-certificates">http://stackoverflow.com/questions/3674692/mono-webclient-invalid-ssl-certificates</A>
<A HREF="http://mono.1490590.n4.nabble.com/sending-smtp-email-under-SSL-td1536371.html">http://mono.1490590.n4.nabble.com/sending-smtp-email-under-SSL-td1536371.html</A>
<A HREF="http://s251.codeinspot.com/q/1230250">http://s251.codeinspot.com/q/1230250</A>
<A HREF="http://www.mono-project.com/UsingTrustedRootsRespectfully">http://www.mono-project.com/UsingTrustedRootsRespectfully</A>

This issue happens only on 1 of the smartfones the app was tested on, the
HTC Desire(although by reading from the xamarin site about this problem I
think it's not the device problem, correct? Which makes things even worse,
if it's not connected to the hardware problem). The others, about dozen of
them works perfectly fine with same code.

We tried the Callback resolution as well as the &quot;NoCheckCertificatePolicy&quot;
class. Nothing worked, the issue is still there and this is a big problem as
this simply cannot stay like that, and the whole project is dangered if
&quot;some random phones&quot; won't simply work with this application.

The funny thing is we have this issue only with 2 of the server
funcionalities we contact with out of about 8. All of them are based on GET
http request, and all lead to the same base address. The 2 methods that do
not work are written in exactly same way (notice below is WebClient, we
normaly used HttpWebRequests but we tried WebClient, as I've found some
people saying monodroid has some &quot;problems&quot; with HttpWebRequests).

I'll stripped the following part, as it's not important. Code1:

string _tempAdress = BazeURLHelpers.BazeURL + _object.ToString() +
System.Uri.EscapeDataString((JsonConvert.SerializeObject(_object)).ToString());
WebClient request = new WebClient();
var dataStream = request.OpenRead(_tempAdress);    //this is the line
Exception is being risen

Second method:

string _tempAdress = BazeURLHelpers.BazeURL + _object.ToString() +
System.Uri.EscapeDataString((JsonConvert.SerializeObject(_object)).ToString());
WebRequest request = WebRequest.Create(_tempAdress);
request.Credentials = CredentialCache.DefaultCredentials;
using (WebResponse response = request.GetResponse())     //this is the line
Exception is being risen
{
...
}

We would like to hear a solution to this problem, as both suggestions in the
threads from the beginning of this post do not work.

sincerely
Lucas



--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Error-getting-response-stream-mono-monodroid-monotouch-problem-tp5711340.html">http://mono-for-android.1047100.n5.nabble.com/Error-getting-response-stream-mono-monodroid-monotouch-problem-tp5711340.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012070.html">[mono-android] Switch between fragmnets action bar tab interface
</A></li>
	<LI>Next message: <A HREF="011814.html">[mono-android] Deploy Error: 'ps' output not recognized
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11946">[ date ]</a>
              <a href="thread.html#11946">[ thread ]</a>
              <a href="subject.html#11946">[ subject ]</a>
              <a href="author.html#11946">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
