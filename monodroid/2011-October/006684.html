<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Problem with calling WCF service
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Problem%20with%20calling%20WCF%20service&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006675.html">
   <LINK REL="Next"  HREF="006691.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Problem with calling WCF service</H1>
    <B>Builder</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Problem%20with%20calling%20WCF%20service&In-Reply-To="
       TITLE="[mono-android] Problem with calling WCF service">peter.gejgus at gmail.com
       </A><BR>
    <I>Fri Oct 14 04:21:53 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006675.html">[mono-android] OnActivityResult not being called
</A></li>
        <LI>Next message: <A HREF="006691.html">[mono-android] Using the device camera and getting a result - OnActivityResult is NEVER called?!?!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6684">[ date ]</a>
              <a href="thread.html#6684">[ thread ]</a>
              <a href="subject.html#6684">[ subject ]</a>
              <a href="author.html#6684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I need to call a WCF service. I generated a WCF proxy (using slsvcutil)
according to  tutorial
<A HREF="http://wiki.ios.xamarin.com/HowTo/WebServices/Using_WCF">http://wiki.ios.xamarin.com/HowTo/WebServices/Using_WCF</A> and used it in the
Mono for Android project. I made WCF proxy to the same service as tutorial
<A HREF="http://docs.xamarin.com/android/tutorials/consuming_web_services">http://docs.xamarin.com/android/tutorials/consuming_web_services</A> uses
(calculator service). My code for calling calculator WCF service looks like
this:

var ws = new CalculatorClient(new BasicHttpBinding(), new
EndpointAddress(&quot;<A HREF="http://ws1.parasoft.com/glue/calculator&quot;">http://ws1.parasoft.com/glue/calculator&quot;</A>));
ws.addCompleted += delegate(object s, addCompletedEventArgs ev)
{
    Log.Info(&quot;Test&quot;, &quot;Add result: {0}&quot;, ev.Result.ToString());
};
ws.addAsync(10, 20);

But after calling addAsync method is thrown exception:
10-14 07:38:41.826 E/mono    (  292): Unhandled Exception:
System.Reflection.TargetInvocationException: Exception has been thrown by
the target of an invocation. ---&gt; System.NullReferenceException: Object
reference not set to an instance of an object
10-14 07:38:41.826 E/mono    (  292):   at
CalculatorClient+CalculatorClientChannel.Endadd (IAsyncResult result)
[0x00000] in &lt;filename unknown&gt;:0 
10-14 07:38:41.826 E/mono    (  292):   at
CalculatorClient.ICalculator.Endadd (IAsyncResult result) [0x00000] in
&lt;filename unknown&gt;:0 
10-14 07:38:41.826 E/mono    (  292):   at CalculatorClient.OnEndadd
(IAsyncResult result) [0x00000] in &lt;filename unknown&gt;:0 
10-14 07:38:41.826 E/mono    (  292):   at
System.ServiceModel.ClientBase`1+&lt;InvokeAsync&gt;c__AnonStoreyD[ICalculator].&lt;&gt;m__A
(IAsyncResult ar) [0x00000] in &lt;filename unknown&gt;:0 
10-14 07:38:41.826 E/mono    (  292):   --- End of inner exception stack
trace ---
10-14 07:38:41.826 E/mono    (  292):   at
System.ComponentModel.AsyncCompletedEventArgs.RaiseExceptionIfNecessary ()
[0x00000] in &lt;filename unknown&gt;:0 
10-14 07:38:41.826 E/mono    (  292):   at addCompletedEventArgs.get_Result
() [0x00000] in &lt;filename unknown&gt;:0 
10-14 07:38:41.826 E/mono    (  292):   at
TestWebServicesAndroid2.Activity1.&lt;OnCreate&gt;b__0 (System.Object s,
.addCompletedEventArgs ev) [0x00000] in &lt;filename unknown&gt;:0

What is wrong with that? What I made wrong?

Best Regards,
Peter

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Problem-with-calling-WCF-service-tp4901829p4901829.html">http://mono-for-android.1047100.n5.nabble.com/Problem-with-calling-WCF-service-tp4901829p4901829.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006675.html">[mono-android] OnActivityResult not being called
</A></li>
	<LI>Next message: <A HREF="006691.html">[mono-android] Using the device camera and getting a result - OnActivityResult is NEVER called?!?!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6684">[ date ]</a>
              <a href="thread.html#6684">[ thread ]</a>
              <a href="subject.html#6684">[ subject ]</a>
              <a href="author.html#6684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
