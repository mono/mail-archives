<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Talking to a Google Maps activity
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Talking%20to%20a%20Google%20Maps%20activity&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006615.html">
   <LINK REL="Next"  HREF="006586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Talking to a Google Maps activity</H1>
    <B>Tomasz Cielecki</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Talking%20to%20a%20Google%20Maps%20activity&In-Reply-To="
       TITLE="[mono-android] Talking to a Google Maps activity">tomasz at ostebaronen.dk
       </A><BR>
    <I>Wed Oct  5 04:53:45 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006615.html">[mono-android] How to deploy an App to a mobile device
</A></li>
        <LI>Next message: <A HREF="006586.html">[mono-android] Talking to a Google Maps activity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6580">[ date ]</a>
              <a href="thread.html#6580">[ thread ]</a>
              <a href="subject.html#6580">[ subject ]</a>
              <a href="author.html#6580">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I think I have asked this before, but now I am getting to a point
where the whole business logic from our WP7 app works on Monodroid.
Now I need a lot of this displayed on a map, hence I need a way to
communicate with the the Google Maps activity.
The data in the data model we have is updated in near real-time and we
want to display that on the Google Maps View along with the real-time
updates to the data. I have made some initial tests and made some
methods to update points on the map from some data I generated
randomly. Now I need to get that to work with a real data set.

The app I have is structured in the following way:

The start activity is a TabActivity containing a TabHost with 3 tabs.
The first with the Google Maps Activity, second one with an Activity
displaying some more detailed Location information (this works) and
the third one which is supposed to display chart data (not yet
implemented).
The TabActivity instantiates the data model behind, which then begins
a worker thread that fetches real-time data and creates events when
something happens. Right now I have the second tab Activity reacting
to when new location data has been fetched and updates the View with
that data. So I want something similar to happen to the MapView in the
first tab. I want it to react to such an event and get the location
data somehow and update the overlays with the new data.

As the Google Maps Activity is written in Java it is not able handle
the events created in the C# code, so I have to work my way around
this somehow, so I am seeking suggestions on how to do this, hoping
that you would have some good ones.

I was thinking of a BroadcastReciever in the MapActivity invoking a
method in the TabActivity fetching data. But is that even possible?
Will the MapActivity know the TabActivity, how do I cast that? And
maybe even more important, how do I encapsulate the data? Is there a
better method of achieving this?

Examples and suggestions are really appreciated.

-- 
Med Venlig Hilsen / With Best Regards
Tomasz Cielecki
<A HREF="http://ostebaronen.dk">http://ostebaronen.dk</A>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006615.html">[mono-android] How to deploy an App to a mobile device
</A></li>
	<LI>Next message: <A HREF="006586.html">[mono-android] Talking to a Google Maps activity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6580">[ date ]</a>
              <a href="thread.html#6580">[ thread ]</a>
              <a href="subject.html#6580">[ subject ]</a>
              <a href="author.html#6580">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
