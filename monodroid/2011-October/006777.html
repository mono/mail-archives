<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] ItemClick not fired on ListView after	NotifyDataSetChanged
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20ItemClick%20not%20fired%20on%20ListView%20after%0A%09NotifyDataSetChanged&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006776.html">
   <LINK REL="Next"  HREF="006792.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] ItemClick not fired on ListView after	NotifyDataSetChanged</H1>
    <B>profexorgeek</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20ItemClick%20not%20fired%20on%20ListView%20after%0A%09NotifyDataSetChanged&In-Reply-To="
       TITLE="[mono-android] ItemClick not fired on ListView after	NotifyDataSetChanged">justin at syndicatex.com
       </A><BR>
    <I>Tue Oct 18 16:14:42 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006776.html">[mono-android] Emulator custom resolution vs. Device same	resolution
</A></li>
        <LI>Next message: <A HREF="006792.html">[mono-android] ItemClick not fired on ListView after	NotifyDataSetChanged
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6777">[ date ]</a>
              <a href="thread.html#6777">[ thread ]</a>
              <a href="subject.html#6777">[ subject ]</a>
              <a href="author.html#6777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a ListView of product review titles that is populated by a custom
ReviewListAdapter which extends BaseAdapter. When a review title is clicked
it expands to show the review text.

When the activity is loaded, a thread is created to load the data from an
API. Once data is loaded it updates the ListView on the UI thread like this:

RunOnUiThread(() =&gt; {
    if (mListAdapter == null) {
        mListAdapter = new ReviewListAdapter(this, mJsonResult.Result);
        mListView.Adapter = mListAdapter;
        mListView.ItemClick += new
EventHandler&lt;ItemEventArgs&gt;(ListView_ItemClick);
    }
    else {
        mListAdapter.NotifyDataSetChanged(mJsonResult.Result);
    }
});

When the user scrolls to the bottom of the list, more reviews are fetched
from the API. The ReviewListAdapter's List of Reviews is updated and
NotifyDataSetChanged() is called (the &quot;else&quot; condition in the code above).
Once NotifyDataSetChanged is called the ItemClick event no longer fires and
you cannot expand or collapse reviews.

I'm wondering if I'm either attaching the EventHandler in the wrong place or
if there's a bug with NotifyDataSetChanged that is breaking the ItemClick
event.

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/ItemClick-not-fired-on-ListView-after-NotifyDataSetChanged-tp4915257p4915257.html">http://mono-for-android.1047100.n5.nabble.com/ItemClick-not-fired-on-ListView-after-NotifyDataSetChanged-tp4915257p4915257.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006776.html">[mono-android] Emulator custom resolution vs. Device same	resolution
</A></li>
	<LI>Next message: <A HREF="006792.html">[mono-android] ItemClick not fired on ListView after	NotifyDataSetChanged
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6777">[ date ]</a>
              <a href="thread.html#6777">[ thread ]</a>
              <a href="subject.html#6777">[ subject ]</a>
              <a href="author.html#6777">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
