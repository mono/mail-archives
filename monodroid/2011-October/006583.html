<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Bound Services
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Bound%20Services&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006700.html">
   <LINK REL="Next"  HREF="006584.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Bound Services</H1>
    <B>dgoughnour</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Bound%20Services&In-Reply-To="
       TITLE="[mono-android] Bound Services">David.Goughnour at elantech-inc.com
       </A><BR>
    <I>Wed Oct  5 08:41:34 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006700.html">[mono-android] Unable to debug with physical devices in 1.9
</A></li>
        <LI>Next message: <A HREF="006584.html">[mono-android] Bound Services
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6583">[ date ]</a>
              <a href="thread.html#6583">[ thread ]</a>
              <a href="subject.html#6583">[ subject ]</a>
              <a href="author.html#6583">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Any one have an example of a bound service in Mono for Android. I am by no
means an expert at services but this looks pretty straightforward. My
BindService call always returns false and the OnBind method of the service
never gets called.

Ultimately what I am trying to do is use a Messenger to allow my C# service
to communicate with my GoogleMaps Activity (obviously written in Java).
Anythoughts on this approach?

Thanks
Dave Goughnour

Here is my test service:
    [Service]
    public class BoundService : Service
    {
        public class LocalBinder : Binder
        {
        }

        private LocalBinder _binder = new LocalBinder();

        public override void OnCreate()
        {
            base.OnCreate();
        }

        public override void OnStart(Intent intent, int startId)
        {
            base.OnStart(intent, startId);
        }

        public override StartCommandResult OnStartCommand(Intent intent,
StartCommandFlags flags, int startId)
        {
            return base.OnStartCommand(intent, flags, startId);
        }

        public override IBinder OnBind(Intent intent)
        {
            return _binder;
        }
    }

Here is my implementation of IServiceConnection

        public class IMDSSConnection : IServiceConnection
        {
            public void OnServiceConnected(ComponentName name, IBinder
service)
            {
            }

            public void OnServiceDisconnected(ComponentName name)
            {
            }

            public IntPtr Handle
            {
                get { return IntPtr.Zero; }
            }
        }

        private IServiceConnection _connection = new IMDSSConnection();

And here is the call to BindService:

            bool status = BindService(new Intent(this,
typeof(BoundService)), _connection, Bind.AutoCreate);


--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Bound-Services-tp4872509p4872509.html">http://mono-for-android.1047100.n5.nabble.com/Bound-Services-tp4872509p4872509.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006700.html">[mono-android] Unable to debug with physical devices in 1.9
</A></li>
	<LI>Next message: <A HREF="006584.html">[mono-android] Bound Services
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6583">[ date ]</a>
              <a href="thread.html#6583">[ thread ]</a>
              <a href="subject.html#6583">[ subject ]</a>
              <a href="author.html#6583">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
