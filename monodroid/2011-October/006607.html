<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Calling secured WCF Web Service
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Calling%20secured%20WCF%20Web%20Service&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006608.html">
   <LINK REL="Next"  HREF="006612.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Calling secured WCF Web Service</H1>
    <B>Nirban Dutta</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Calling%20secured%20WCF%20Web%20Service&In-Reply-To="
       TITLE="[mono-android] Calling secured WCF Web Service">Nirban.Dutta at projectCentre.net
       </A><BR>
    <I>Thu Oct  6 18:18:12 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006608.html">[mono-android] Failed to get device space on disk using	MonoDevelop
</A></li>
        <LI>Next message: <A HREF="006612.html">[mono-android] Calling secured WCF Web Service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6607">[ date ]</a>
              <a href="thread.html#6607">[ thread ]</a>
              <a href="subject.html#6607">[ subject ]</a>
              <a href="author.html#6607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We are able to connect to Web service over HTTP, but failed to connect to HTTPS web service.

Here is our code and we read a config file and set binding.Security.Mode, is there anything else we need to specify for connecting to secured web service?


public static ProjectCentreProxy CreateProxy(XElement configurationElement)
     {
         var svc = new ProjectCentreProxy();
         EndpointAddress endpoint;
         endpoint = (from ep in configurationElement.Descendants(&quot;endpoint&quot;)
                     select new EndpointAddress(ep.Attribute(&quot;address&quot;).Value)).FirstOrDefault();

         var binding = new BasicHttpBinding();
         string httpConfig = (from ep in configurationElement.Descendants(&quot;security&quot;)
                              select ep.Attribute(&quot;mode&quot;).Value).FirstOrDefault();

         if (!string.IsNullOrEmpty(httpConfig) &amp;&amp; httpConfig==&quot;Transport&quot;)
         {
             binding.Security.Mode = System.ServiceModel.BasicHttpSecurityMode.Transport;
         }

         binding.SendTimeout = new TimeSpan(0, 20, 0);
         binding.MaxReceivedMessageSize = 2147483647;
         binding.MaxBufferSize = 2147483647;
         svc.Proxy = new ProjectCentreServiceClient(binding, endpoint);

         return svc;
     }

Here is the exception we get:

-                              ex           {System.ServiceModel.EndpointNotFoundException: A system exception has occurred. ---&gt; System.Net.WebException: Error: ConnectFailure
  at System.Net.HttpWebRequest.EndGetRequestStream (IAsyncResult asyncResult) [0x00043] in /home/jon/Development/xamarin/mono/mcs/class/System/System.Net/HttpWebRequest.cs:727
  at System.ServiceModel.Channels.HttpRequestChannel+&lt;BeginProcessRequest&gt;c__AnonStoreyA.&lt;&gt;m__7 (IAsyncResult r) [0x0001d] in /home/jon/Development/xamarin/mono/mcs/class/System.ServiceModel/System.ServiceModel.Channels/HttpRequestChannel.cs:181


Regards,



Nirban Dutta



Software Engineer

[cid:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">image001.jpg at 01CC84D0.58970CE0</A>]&lt;www.projectcentre.net&gt;



P 1300 653 420 | M +61 432 675 543

[cid:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">image002.jpg at 01CC84D0.58970CE0</A>]

F +61 (0) 2 9420 8277

3 / 11 Orion Road, Lane Cove, NSW, Australia 2066

CADX PTY LTD DISCLAIMER: The information contained in this email message is CONFIDENTIAL INFORMATION, and may also be LEGALLY PRIVILEGED, intended only for the individual or entity named above. If you are not the intended recipient, you are hereby notified that any use, review, dissemination, distribution or copying of this document is strictly prohibited. If you have received this document in error, please immediately notify us by email and destroy the original message. CADX disclaims all liability and responsibility for any direct or indirect loss or damage that may be suffered by any recipient of this message

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20111007/5c2203e6/attachment-0001.html">http://lists.ximian.com/pipermail/monodroid/attachments/20111007/5c2203e6/attachment-0001.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 9716 bytes
Desc: image001.jpg
Url : <A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20111007/5c2203e6/attachment-0002.jpg">http://lists.ximian.com/pipermail/monodroid/attachments/20111007/5c2203e6/attachment-0002.jpg</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.jpg
Type: image/jpeg
Size: 25096 bytes
Desc: image002.jpg
Url : <A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20111007/5c2203e6/attachment-0003.jpg">http://lists.ximian.com/pipermail/monodroid/attachments/20111007/5c2203e6/attachment-0003.jpg</A> 
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006608.html">[mono-android] Failed to get device space on disk using	MonoDevelop
</A></li>
	<LI>Next message: <A HREF="006612.html">[mono-android] Calling secured WCF Web Service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6607">[ date ]</a>
              <a href="thread.html#6607">[ thread ]</a>
              <a href="subject.html#6607">[ subject ]</a>
              <a href="author.html#6607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
