<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Mono.Data.Sqlite and cursors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Mono.Data.Sqlite%20and%20cursors&In-Reply-To=1318938745423-4913390.post%40n5.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006766.html">
   <LINK REL="Next"  HREF="006768.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Mono.Data.Sqlite and cursors</H1>
    <B>Greg Shackles</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Mono.Data.Sqlite%20and%20cursors&In-Reply-To=1318938745423-4913390.post%40n5.nabble.com"
       TITLE="[mono-android] Mono.Data.Sqlite and cursors">gshackles at gmail.com
       </A><BR>
    <I>Tue Oct 18 08:03:59 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006766.html">[mono-android] Mono.Data.Sqlite and cursors
</A></li>
        <LI>Next message: <A HREF="006768.html">[mono-android] Mono.Data.Sqlite and cursors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6767">[ date ]</a>
              <a href="thread.html#6767">[ thread ]</a>
              <a href="subject.html#6767">[ subject ]</a>
              <a href="author.html#6767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You're not forced to use SQLiteOpenHelper. It gives nice benefits as far as
creating/updating the database for you, but it's definitely not required. My
suggestion would be to have your data layer return a collection of your
objects that the application can consume. Then your data layer can be more
reusable across platforms as you mentioned, since the layer doesn't really
care how the collection is being used.

You also mentioned not knowing how to call into a base class constructor
from the deriving class. In my sample code you posted, you can see I'm doing
that in my helper class:

public NoteDatabaseHelper(Context context)
   : base(context, DATABASE_NAME, null, DATABASE_VERSION)

The call to &quot;base&quot; there is referencing the constructor in the base class.

On Tue, Oct 18, 2011 at 7:52 AM, bmellac &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">bmellac at nomadvantage.com</A>&gt; wrote:

&gt;<i> Thx for the answers !
</I>&gt;<i>
</I>&gt;<i> SO I have two (maybe 3) solutions :
</I>&gt;<i>
</I>&gt;<i>  - use the Android sqlite classes : so it won't be crosscompilabe, but
</I>&gt;<i> maybe
</I>&gt;<i> it's just a little drawback if I manage to isolate the platform UI specific
</I>&gt;<i> code...
</I>&gt;<i> But for that , I need to actually manage to use Android's sqlite
</I>&gt;<i> framework... but I'm stick on SQLiteOpenHelper : I have to subclass it but
</I>&gt;<i> I
</I>&gt;<i> can't see how to call the base (super in java?) call constructor like here
</I>&gt;<i> :
</I>&gt;<i> public class NoteDatabaseHelper : SQLiteOpenHelper
</I>&gt;<i> {
</I>&gt;<i>  private const string DATABASE_NAME = &quot;Notes&quot;;
</I>&gt;<i>  private const int DATABASE_VERSION = 1;
</I>&gt;<i>
</I>&gt;<i>  public NoteDatabaseHelper(Context context)
</I>&gt;<i>    : base(context, DATABASE_NAME, null, DATABASE_VERSION)
</I>&gt;<i>  {
</I>&gt;<i>  }
</I>&gt;<i>
</I>&gt;<i>  public override void OnCreate(SQLiteDatabase db)
</I>&gt;<i>  {
</I>&gt;<i>    db.ExecSQL(@&quot;
</I>&gt;<i>        CREATE TABLE Note (
</I>&gt;<i>          Id INTEGER PRIMARY KEY AUTOINCREMENT,
</I>&gt;<i>          Title TEXT NOT NULL,
</I>&gt;<i>          Contents TEXT NOT NULL
</I>&gt;<i>        )&quot;);
</I>&gt;<i>  }
</I>&gt;<i>
</I>&gt;<i>  public override void OnUpgrade(SQLiteDatabase db, int oldVersion, int
</I>&gt;<i> newVersion)
</I>&gt;<i>  {
</I>&gt;<i>    db.ExecSQL(&quot;DROP TABLE IF EXISTS Note&quot;);
</I>&gt;<i>
</I>&gt;<i>    OnCreate(db);
</I>&gt;<i>  }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> - the second method would like to be using ArrayAdapter, but then I have to
</I>&gt;<i> extracting data from the sqlite database to pack them into arrays, don't
</I>&gt;<i> seem really pretty !
</I>&gt;<i>
</I>&gt;<i> - maybe the third option would be to create a class, implementing ICursor,
</I>&gt;<i> and taking an SqliteDataReader... but it seems harder and I'd like to know
</I>&gt;<i> I'm heading strait to the wall :)
</I>&gt;<i>
</I>&gt;<i> Am I missleading ?
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://mono-for-android.1047100.n5.nabble.com/Mono-Data-Sqlite-and-cursors-tp4913036p4913390.html">http://mono-for-android.1047100.n5.nabble.com/Mono-Data-Sqlite-and-cursors-tp4913036p4913390.html</A>
</I>&gt;<i> Sent from the Mono for Android mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20111018/d4205c10/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20111018/d4205c10/attachment.html</A> 
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006766.html">[mono-android] Mono.Data.Sqlite and cursors
</A></li>
	<LI>Next message: <A HREF="006768.html">[mono-android] Mono.Data.Sqlite and cursors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6767">[ date ]</a>
              <a href="thread.html#6767">[ thread ]</a>
              <a href="subject.html#6767">[ subject ]</a>
              <a href="author.html#6767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
