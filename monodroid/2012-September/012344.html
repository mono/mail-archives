<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] ReaderWriterLockSlim - fully implemented?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20ReaderWriterLockSlim%20-%20fully%20implemented%3F&In-Reply-To=%3C1347990507671-5711865.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012334.html">
   <LINK REL="Next"  HREF="012329.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] ReaderWriterLockSlim - fully implemented?</H1>
    <B>Stephan Steiner</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20ReaderWriterLockSlim%20-%20fully%20implemented%3F&In-Reply-To=%3C1347990507671-5711865.post%40n5.nabble.com%3E"
       TITLE="[mono-android] ReaderWriterLockSlim - fully implemented?">stephan.steiner at gmail.com
       </A><BR>
    <I>Tue Sep 18 17:48:27 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="012334.html">[mono-android] ReaderWriterLockSlim - fully implemented?
</A></li>
        <LI>Next message: <A HREF="012329.html">[mono-android] Battling jar bindings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12344">[ date ]</a>
              <a href="thread.html#12344">[ thread ]</a>
              <a href="subject.html#12344">[ subject ]</a>
              <a href="author.html#12344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jon

Hmm - I guess I could run lock acquiry and release on my dispatcher which
runs everything in the UI thread to see if it changes anything.

Calling EnterWriteLock from a bunch of different threads should be no
problem (I've been doing that for a long time and I know I have parallel
lock acquiry attempts all the time), and I've used the approach described
for a my PC client - but I suspect both operations run in the UI context
there as well, so that would be the same thread.

I'll give my dispatcher a try when I find time - I already implemented a
workaround using a traditional lock and a &quot;is already running&quot; bool variable
as a workaround.

Regards
Stephan


Note: I'm not a ReaderWriterLockSlim expert, I just play one on TV (and ask
around on IRC...)

I'm told that &quot;you can't do [what you're doing]&quot;; specifically,
ReaderWriterLockSlim locks are per-thread. You can't acquire the lock on one
thread and release it on another. Thus, IsWriteLockHeld should not be used
for this purpose. (Assuming that we're reading the code properly...).

If we're misinterpreting your code, could you please provide a test project
for diagnostic purposes?

Thanks,
 - Jon




--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/ReaderWriterLockSlim-fully-implemented-tp5711849p5711865.html">http://mono-for-android.1047100.n5.nabble.com/ReaderWriterLockSlim-fully-implemented-tp5711849p5711865.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012334.html">[mono-android] ReaderWriterLockSlim - fully implemented?
</A></li>
	<LI>Next message: <A HREF="012329.html">[mono-android] Battling jar bindings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12344">[ date ]</a>
              <a href="thread.html#12344">[ thread ]</a>
              <a href="subject.html#12344">[ subject ]</a>
              <a href="author.html#12344">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
