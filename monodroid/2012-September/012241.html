<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] https certificate chain errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20https%20certificate%20chain%20errors&In-Reply-To=%3C504F066E.5060608%40ganss.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012238.html">
   <LINK REL="Next"  HREF="012250.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] https certificate chain errors</H1>
    <B>Michael Ganss</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20https%20certificate%20chain%20errors&In-Reply-To=%3C504F066E.5060608%40ganss.org%3E"
       TITLE="[mono-android] https certificate chain errors">michael at ganss.org
       </A><BR>
    <I>Tue Sep 11 09:38:03 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="012238.html">[mono-android] https certificate chain errors
</A></li>
        <LI>Next message: <A HREF="012250.html">[mono-android] https certificate chain errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12241">[ date ]</a>
              <a href="thread.html#12241">[ thread ]</a>
              <a href="subject.html#12241">[ subject ]</a>
              <a href="author.html#12241">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Does that include any 4.2.x release? The relevant SSL code in
</I>&gt;<i> AndroidEnvironment hasn't changed since 2011-11-16 until 2012-08-13 (after
</I>&gt;<i> 4.2.5 was branched), and _most_ of the code hadn't changed since 2010-10-15
</I>&gt;<i> (i.e. a very long time ago). I have no idea why this would have ever worked
</I>&gt;<i> for you if it started failing for you recently. :-/
</I>
I'm not sure which version I had before 4.2.5 but it was definitely &gt;= 4.2. Up 
until 4.2.5 it always worked (I started with one of the first Xamarin versions 
in 2011). The server side code (and the certificate) wasn't touched between 
4.2 and 4.2.5.

Also, I can't imagine that https was always broken in MonoDroid. There must be 
lots of applications out there using https.

&gt;<i> Rephrased, that method has been broken for an eternity, and only just
</I>&gt;<i> &quot;happened&quot; to work for some sites because the site returned the SSL
</I>&gt;<i> certificates in the &quot;correct&quot; order.
</I>
It's not working with www.google.com, www.microsoft.com with Monodroid 4.2.5 
on a Nexus S with Android 4.1.1. Here's a short test:

             var html = new 
System.Net.WebClient().DownloadString(&quot;<A HREF="https://www.google.com">https://www.google.com</A>&quot;);

It's not working in 2.3 and 4.0 emulators, either. In 
ServerCertificateValidationCallback the root certificate is always missing 
from the chain. www.microsoft.com, for example, has two intermediate 
certificates and they are both present in the chain but the root certificate 
is not.






--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/https-certificate-chain-errors-tp5711731p5711762.html">http://mono-for-android.1047100.n5.nabble.com/https-certificate-chain-errors-tp5711731p5711762.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20120911/5329b284/attachment-0001.html">http://lists.ximian.com/pipermail/monodroid/attachments/20120911/5329b284/attachment-0001.html</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012238.html">[mono-android] https certificate chain errors
</A></li>
	<LI>Next message: <A HREF="012250.html">[mono-android] https certificate chain errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12241">[ date ]</a>
              <a href="thread.html#12241">[ thread ]</a>
              <a href="subject.html#12241">[ subject ]</a>
              <a href="author.html#12241">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
