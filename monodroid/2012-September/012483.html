<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] PSA: Properly supporting ARM Devices
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20PSA%3A%20Properly%20supporting%20ARM%20Devices&In-Reply-To=%3C0B7C5338-D4E9-4AA0-9B76-F191AB87DA24%40xamarin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012482.html">
   <LINK REL="Next"  HREF="012469.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] PSA: Properly supporting ARM Devices</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20PSA%3A%20Properly%20supporting%20ARM%20Devices&In-Reply-To=%3C0B7C5338-D4E9-4AA0-9B76-F191AB87DA24%40xamarin.com%3E"
       TITLE="[mono-android] PSA: Properly supporting ARM Devices">jonp at xamarin.com
       </A><BR>
    <I>Fri Sep 28 14:16:24 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="012482.html">[mono-android] PSA: Properly supporting ARM Devices
</A></li>
        <LI>Next message: <A HREF="012469.html">[mono-android] apk not being generated in release mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12483">[ date ]</a>
              <a href="thread.html#12483">[ thread ]</a>
              <a href="subject.html#12483">[ subject ]</a>
              <a href="author.html#12483">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sep 28, 2012, at 10:07 AM, &quot;Steve Sharrock&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">steve at sharkcode.com</A>&gt; wrote:
&gt;<i> I wasn't quite sure if you meant change to this...
</I>&gt;<i> 
</I>&gt;<i>    &lt;AndroidSupportedAbis&gt;armeabi-v7a,armeabi&lt;/AndroidSupportedAbis&gt;
</I>
This is Fix #2, which ensures that the armeabi-v7a libmonodroid.so is added to the .apk before the armeabi libmonodroid.so, allowing the .apk to be properly installed on Android 4.0-4.0.3. Note that if your app includes any other native libraries, you may need to reorder the &lt;AndroidNativeLibrary/&gt; elements in your .csproj so that the armeabi-v7a libraries are listed before armeabi libraries.

&gt;<i> Or change to this:
</I>&gt;<i> 
</I>&gt;<i>    &lt;AndroidSupportedAbis&gt;armeabi-v7a&lt;/AndroidSupportedAbis&gt;
</I>
This is Fix #1: drop support for everything older than ARMv7.

Whether this is appropriate or not depends on whether you need to continue to support ARMv5 devices. Unfortunately, there's no good information on how many current Android devices can't run ARMv7 binaries; it seems that there a &quot;quite a few&quot; which are ARMv5/ARMv6, not ARMv7:

	<A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=7013#c14">https://bugzilla.xamarin.com/show_bug.cgi?id=7013#c14</A>

&gt;<i> Also, while this change doesn't seem to have any adverse effects on my newer test tablets and phones, will this change present any issues with current users getting our updated code; but, still running on much older phones?
</I>
Depends on whether those &quot;much older phones&quot; can run ARMv7 binaries. If they can't, then you need Fix #2. If they can (and you don't mind losing support for older devices that only support ARMv5/ARMv6), then you can use Fix #1.

If you have an older phone handy, you can see if it'll support ARMv7 binaries by running:

	adb shell getprop ro.product.cpu.abi

If it prints &quot;armeabi-v7a&quot;, it'll run ARMv7 binaries. If it prints &quot;armeabi&quot;, it won't run ARMv7 binaries.

 - Jon

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012482.html">[mono-android] PSA: Properly supporting ARM Devices
</A></li>
	<LI>Next message: <A HREF="012469.html">[mono-android] apk not being generated in release mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12483">[ date ]</a>
              <a href="thread.html#12483">[ thread ]</a>
              <a href="subject.html#12483">[ subject ]</a>
              <a href="author.html#12483">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
