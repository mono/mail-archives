<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Temporary disconnects - HttpWebRequests time out
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Temporary%20disconnects%20-%20HttpWebRequests%20time%20out&In-Reply-To=%3C1348751217884-5711985.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012461.html">
   <LINK REL="Next"  HREF="012496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Temporary disconnects - HttpWebRequests time out</H1>
    <B>Stephan Steiner</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Temporary%20disconnects%20-%20HttpWebRequests%20time%20out&In-Reply-To=%3C1348751217884-5711985.post%40n5.nabble.com%3E"
       TITLE="[mono-android] Temporary disconnects - HttpWebRequests time out">stephan.steiner at gmail.com
       </A><BR>
    <I>Thu Sep 27 13:06:57 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="012461.html">[mono-android] Windows 8 USB
</A></li>
        <LI>Next message: <A HREF="012496.html">[mono-android] Temporary disconnects - HttpWebRequests time out
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12463">[ date ]</a>
              <a href="thread.html#12463">[ thread ]</a>
              <a href="subject.html#12463">[ subject ]</a>
              <a href="author.html#12463">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

This one has me stumped - my app is using comet style long polls to request
data from my server. Every now and then, I get a request timeout that makes
no sense to me - if I get disconnected, I start a reconnect mechanism where
I check if my server is reachable (launching another GET HttpWebRequest to a
known URL on my server - it if returns 200 OK, I'm back online and can log
in again), if not, sleep, retry, the works.

Generally, when the timeout happens, the server is indeed offline (I'm
connected via Wifi and I do detect changes in network connectivity state
already - so I know it's not me going out of range or anything (in fact I
have the phone about 20 cm from the antenna of the Wifi AP just to be on the
safe side)), but every now and then (and I cannot figure out a reliable way
to reproduce the issue), the timeouts make no sense. As I'm doing a simple
HTTP GET request to determine if the server is available or not, I can
simply open the URL in a browser and if that works, I know the network isn't
the issue.

I'm actually using RestSharp, not direct HttpWebRequests, but I see that I
run into the timeout before a response is received.

Does anybody have any idea as to what could be going on here?

Note that I'm instantiating a new RestSharp.RestClient for every &quot;is my
server alive&quot; request, so if something were to bomb out in RestSharp, that
should take care of it. I'm also throttling those requests, so I won't have
two concurrent requests for the same URL at the same time.

Regards
Stephan



--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Temporary-disconnects-HttpWebRequests-time-out-tp5711985.html">http://mono-for-android.1047100.n5.nabble.com/Temporary-disconnects-HttpWebRequests-time-out-tp5711985.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012461.html">[mono-android] Windows 8 USB
</A></li>
	<LI>Next message: <A HREF="012496.html">[mono-android] Temporary disconnects - HttpWebRequests time out
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12463">[ date ]</a>
              <a href="thread.html#12463">[ thread ]</a>
              <a href="subject.html#12463">[ subject ]</a>
              <a href="author.html#12463">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
