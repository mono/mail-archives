<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] AnimationSet and animation questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20AnimationSet%20and%20animation%20questions&In-Reply-To=%3C50DF1E43.4070606%40all-the-johnsons.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013145.html">
   <LINK REL="Next"  HREF="013150.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] AnimationSet and animation questions</H1>
    <B>Paul Johnson</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20AnimationSet%20and%20animation%20questions&In-Reply-To=%3C50DF1E43.4070606%40all-the-johnsons.co.uk%3E"
       TITLE="[mono-android] AnimationSet and animation questions">paul at all-the-johnsons.co.uk
       </A><BR>
    <I>Sat Dec 29 16:45:55 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="013145.html">[mono-android] SDL.Net (Paul Johnson)
</A></li>
        <LI>Next message: <A HREF="013150.html">[mono-android] AnimationSet and animation questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13144">[ date ]</a>
              <a href="thread.html#13144">[ thread ]</a>
              <a href="subject.html#13144">[ subject ]</a>
              <a href="author.html#13144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've decided to go native with my animation and only use what is in 
there. My device is 2.3, so it's the basics.

I've got my view set up with an image view in it and have set up an 
AnimationSet to store what I want in it. From what I've read, this looks 
right.

Problem is, only the last animation is ever displayed.

			AnimationSet animation = new AnimationSet (true);
			animation.Interpolator = new CycleInterpolator (6);
			animation.FillAfter = true;
			
			TranslateAnimation tanim = new TranslateAnimation (0f, 200f, 200f, 0f);
			tanim.Duration = 2000;
			tanim.FillAfter = true;
			animation.AddAnimation (tanim);
			
			RotateAnimation ranim = new RotateAnimation (0f, -359.9f, 180f, 180f);
			ranim.Duration = 600;
			ranim.FillAfter = true;
			ranim.RepeatCount = 5;
			animation.AddAnimation (ranim);
			
			RotateAnimation ranim2 = new RotateAnimation (-359.9f, 0f, 0f, 0f);
			ranim2.Duration = 600;
			ranim2.FillAfter = true;
			ranim2.RepeatCount = 5;
			animation.AddAnimation (ranim2);
			
			foreach (Animation anim in animation.Animations) {
				animate.Animation = anim;
				animate.StartAnimation (anim);
			}

animation.Animations shows there are 3 animations in there.

What I'm also trying to do is to replicate the XML in the Xamarin 
examples (so for example

&lt;set xmlns:android=&quot;<A HREF="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</A>&quot;
     android:interpolator=&quot;@android:anim/linear_interpolator&quot;&gt;
   &lt;rotate
       android:fromDegrees=&quot;0&quot;
       android:toDegrees=&quot;360&quot;
       android:pivotX=&quot;50%&quot;
       android:pivotY=&quot;50%&quot;
       android:duration=&quot;2000&quot;
       android:startOffset=&quot;0&quot;/&gt;
&lt;/set&gt;

becomes more like ranim or ranim2. I think I have from/toDegrees correct 
in the ranim constructor, but can't find a way of setting the pivot)

So the question above all, am I doing this the right way. I cannot use 
XML for this as my drawing animations are dependent on data from 
elsewhere (such as an XML file sent to me).

Thanks

Paul
-- 
&quot;Space,&quot; it says, &quot;is big. Really big. You just won't believe how 
vastly, hugely, mindbogglingly big it is. I mean, you may think it's a 
long way down the road to the chemist's, but that's just peanuts to 
space, listen...&quot;
Hitch Hikers Guide to the Galaxy, a truly remarkable book!

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013145.html">[mono-android] SDL.Net (Paul Johnson)
</A></li>
	<LI>Next message: <A HREF="013150.html">[mono-android] AnimationSet and animation questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13144">[ date ]</a>
              <a href="thread.html#13144">[ thread ]</a>
              <a href="subject.html#13144">[ subject ]</a>
              <a href="author.html#13144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
