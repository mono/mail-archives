<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] How to use TelephonyManager and PhoneStateListener?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20How%20to%20use%20TelephonyManager%20and%20PhoneStateListener%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001712.html">
   <LINK REL="Next"  HREF="001723.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] How to use TelephonyManager and PhoneStateListener?</H1>
    <B>Arash Emami</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20How%20to%20use%20TelephonyManager%20and%20PhoneStateListener%3F&In-Reply-To="
       TITLE="[Monodroid] How to use TelephonyManager and PhoneStateListener?">arash at wilshiremedia.com
       </A><BR>
    <I>Wed Nov 17 18:19:32 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001712.html">[Monodroid] Debugging returns NullreferenceException
</A></li>
        <LI>Next message: <A HREF="001723.html">[Monodroid] How to use TelephonyManager and PhoneStateListener?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1720">[ date ]</a>
              <a href="thread.html#1720">[ thread ]</a>
              <a href="subject.html#1720">[ subject ]</a>
              <a href="author.html#1720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 

I am new to this list.  Thank you for adding me, first of all.  Second
of all, I am working with Bryan Costanich on a project, and I will
probably be asking many annoying questions over the next few months, so
please bear with me J

 

I am attempting to implement a PhoneStateListener, and then registering
it with the TelephonyManager.  This is what I am doing so far:

 

    class MyPhoneStateListener : PhoneStateListener 
    {
        public override void OnCallStateChanged(CallState state, string
incomingNumber)
        {       
            base.OnCallStateChanged(state, incomingNumber);

            switch (state)
            {
                case CallState.Ringing:
                    break;

                case CallState.Idle:
                    break;

                case CallState.Offhook:
                    break;
            }
        }
    }

 

    Context context = null; // How do you new up a Context instance?
    var audioManager2 =
((AudioManager)context.GetSystemService(Context.AudioService));
 
    // ---- supposed to pass in PhoneStateListener flags - can't seem to
find it in the docs?
 
((TelephonyManager)context.GetSystemService(Context.TelephonyService))
        .Listen(new MyPhoneStateListener(), 2 /* flags should go here */
);

 

My questions are, how do you get an instance of the Context class, and
where is the enum that contains the flags that go into the Listen
function?

 

Thank you!

 

Arash Emami

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20101117/91f615e6/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20101117/91f615e6/attachment-0001.html</A> 
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001712.html">[Monodroid] Debugging returns NullreferenceException
</A></li>
	<LI>Next message: <A HREF="001723.html">[Monodroid] How to use TelephonyManager and PhoneStateListener?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1720">[ date ]</a>
              <a href="thread.html#1720">[ thread ]</a>
              <a href="subject.html#1720">[ subject ]</a>
              <a href="author.html#1720">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
