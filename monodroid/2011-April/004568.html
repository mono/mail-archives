<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] getting more information from contacts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20getting%20more%20information%20from%20contacts&In-Reply-To=019d01cc04be%24f7f49380%24e7ddba80%24%40gb.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004549.html">
   <LINK REL="Next"  HREF="004569.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] getting more information from contacts</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20getting%20more%20information%20from%20contacts&In-Reply-To=019d01cc04be%24f7f49380%24e7ddba80%24%40gb.com"
       TITLE="[mono-android] getting more information from contacts">jpryor at novell.com
       </A><BR>
    <I>Wed Apr 27 16:12:38 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004549.html">[mono-android] getting more information from contacts
</A></li>
        <LI>Next message: <A HREF="004569.html">[mono-android] getting more information from contacts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4568">[ date ]</a>
              <a href="thread.html#4568">[ thread ]</a>
              <a href="subject.html#4568">[ subject ]</a>
              <a href="author.html#4568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Apr 27, 2011, at 5:39 AM, John Murray wrote:
&gt;<i> Once again I&#8217;m up against a situation where Android examples do not help because Mono seems to do things tantalisingly similar but different
</I>&gt;<i>  
</I>&gt;<i> {this is a general negative &#8211; if Monodroid was supposed to leverage one&#8217;s small knowledge in c# then why does one seem to have to have aPhd in several languages to understand how to achieve simple unambitious objectives??  Perhaps a question for the commercial people}
</I>
I know the mapping often sucks. Unfortunately, it's the best we could do in a reasonable timeframe.

The fundamental problem is this: our process for generating 99% of Mono.Android.dll is to take an XML description of the Android API, run that through a C# source generator, then compile the resulting source to get Mono.Android.dll.

This seems terribly reasonable...except for one tiny detail (among lots of others): Java allows constants within interface bodies (and allows static methods with method bodies as well, iirc). C# does not. Since a large number of Java constants are within interfaces, these constants need to be moved _somewhere_, for which we have two places: the *Consts types (e.g. Android.OS.BinderConsts) and enumerations.

One alternative approach would be to use IL as the intermediary, but this would make it difficult (impossible?) to add helper methods to types (we currently use C# partial classes to permit this).

Unfortunately, I'm not aware of a good solution to this problem, and even enumerations can be problematic. The enumerations we provide can make some operations much easier when within an IDE, but when translating Java code to C# enumerations are yet another renamed type, making it harder to find the appropriate matching member...
 
&gt;<i> Now try to find out the syntax of the ManagedQuery() from the documentation
</I>&gt;<i> Type in Managedquery on MonoDroid documentation  - zilch
</I>
I just realized that the Search bar searches mono-android.net, not the docs. Oops.

We should be migrating to a new documentation backend soon, which will hopefully allow Google to index our content.

&gt;<i> the &#8216;hint&#8217; in VS2010 says its full namespace is  Android.Database.Icursor.Activity.ManagedQuery()
</I>
I have no idea where VS2010 came up with this; based on context, it should be Activity.ManagedQuery:

	<A HREF="http://docs.mono-android.net/index.aspx?link=M%3aAndroid.App.Activity.ManagedQuery(Android.Net.Uri%2cSystem.String%5b%5d%2cSystem.String%2cSystem.String%5b%5d%2cSystem.String">http://docs.mono-android.net/index.aspx?link=M%3aAndroid.App.Activity.ManagedQuery(Android.Net.Uri%2cSystem.String%5b%5d%2cSystem.String%2cSystem.String%5b%5d%2cSystem.String</A>)

It should also be noted that the Android API for several areas sucks. Contacts is one such area.

&gt;<i> I Know I am dreaming and getting delirious here but wouldn&#8217;t it be nice if one could just extract what one wanted using a simple sql statement a la LINQ?
</I>
Java doesn't have LINQ.

To rephrase things, Mono for Android 1.0 was simply about getting something that _worked_. Not necessarily something that worked well, and given that we are intentionally exposing as much of the underlying Java API as is practical, a lot of &quot;Java-isms&quot; get through which make for really, really, bad C# (or make it harder to translate between Java &amp; C#, e.g. constants).

We aim to improve this in future releases, but there is still the fundamental tension of exposing the underlying API in an invokable fashion (even if that means means &quot;I'd rather be pulling teeth&quot;; at least  you don't need to resort to raw JNI invocations to do it...).

For some areas (and Contacts certainly comes to mind), we might be better off just completely hiding the Android API and exposing something...sane. We wouldn't want do do that for everything, but for some areas this may be best. We'll need to consider such areas as they're reported to us (and we welcome any and all API feedback in bugzilla ;-).

Thanks,

 - Jon

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004549.html">[mono-android] getting more information from contacts
</A></li>
	<LI>Next message: <A HREF="004569.html">[mono-android] getting more information from contacts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4568">[ date ]</a>
              <a href="thread.html#4568">[ thread ]</a>
              <a href="subject.html#4568">[ subject ]</a>
              <a href="author.html#4568">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
