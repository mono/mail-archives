<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Strange Error / GC issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Strange%20Error%20/%20GC%20issue&In-Reply-To=000901cbfaf3%24dba1ebd0%2492e5c370%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004351.html">
   <LINK REL="Next"  HREF="004072.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Strange Error / GC issue</H1>
    <B>Andrew Sinclair</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Strange%20Error%20/%20GC%20issue&In-Reply-To=000901cbfaf3%24dba1ebd0%2492e5c370%24%40com"
       TITLE="[mono-android] Strange Error / GC issue">andrew at magic5software.com
       </A><BR>
    <I>Wed Apr 20 09:48:52 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004351.html">[mono-android] Antwort: Re:  Strange Error
</A></li>
        <LI>Next message: <A HREF="004072.html">[mono-android] Problem with setting of EditText.TextChanged
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4420">[ date ]</a>
              <a href="thread.html#4420">[ thread ]</a>
              <a href="subject.html#4420">[ subject ]</a>
              <a href="author.html#4420">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I logged a bug for this GC issue,
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=687727">https://bugzilla.novell.com/show_bug.cgi?id=687727</A>

 

Is there anything at an application level that could be causing this or
making this type of thing more likely? To me it just seems like the GC kicks
in at some stage, SGEN may generate this error and the application stops.
It's causing me a fundamental problem and I'm happy to try anything at an
app level to try and get around this.

 

The SGEN page that you link to (<A HREF="http://www.mono-project.com/Compacting_GC">http://www.mono-project.com/Compacting_GC</A>)
from the  Mono for Android GC page says &quot;the code is ready for wider testing
but is not yet considered production ready&quot;. Is that an old page and is SGEN
now considered production ready?

 

If it's a problem in the Mono GC then what are the implications for getting
a fix within Mono for Android? Is it possible/supported to build against a
custom Mono version?

 

I've had great success with the product so far, it's excellent, but these
random errors after using the app for a couple of minutes are obviously a
big problem.

 

Thanks,

 

Andy

 

From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of Andrew Sinclair
Sent: 14 April 2011 23:33
To: 'Discussions related to Mono for Android'
Subject: Re: [mono-android] Antwort: Re: Strange Error

 

I'm seeing this error as well:

 

Assertion at ../../../../mono/metadata/sgen-internal.c:441, condition
`mh-&gt;size == size + sizeof (LargeInternalMemHeader)' not met

 

It's not a predictable one - sometimes it occurs when setting up views
within an activity (in particular it happened once within
BitmapFactory.DecodeFile, but running that function 1000 times on the same
file worked fine.)

 

I've also seen it occur in a background thread somewhere within a series of
Http requests and associated database access.

 

The symptoms in both cases are the same - the device screen goes blank and
it's not possible to stop a debugging session from within VS. The error also
happens when the app isn't running through the debugger. The same areas of
the application work fine at other times.

 

The message logged is the one above, it gets tagged with the same tag as my
previous logging call, if that's of any significance.

 

I'll log this even though I don't have a reproducible test case, I imagine
it's a bit of a fundamental one, with the app randomly crashing here and
there.

 

Is there likely to be anything that can be done from the app side to work
around this?

 

Thanks,

 

Andy

 

From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">BernhardGessler at cs-ag.de</A>
Sent: 04 April 2011 22:22
To: Discussions related to Mono for Android
Subject: [mono-android] Antwort: Re: Strange Error

 


Sorry but I am not able to reproduce this behavior on purpouse. So i cant
file a testcase. If this changes i will inform you. 




Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jpryor at novell.com</A>&gt; 
Gesendet von: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A> 

01.04.2011 19:37 


Bitte antworten an
Discussions related to Mono for Android &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>&gt;


An

Discussions related to Mono for Android &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>&gt; 


Kopie

	

Thema

Re: [mono-android] Strange Error

 

		




On Apr 1, 2011, at 12:40 PM, <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">BernhardGessler at cs-ag.de</A> wrote: 
somtimes when starting an activity i get the following error: 

This looks like a Mono Runtime bug. Please file a test case at
bugzilla.novell.com &lt;<A HREF="http://bugzilla.novell.com/">http://bugzilla.novell.com/</A>&gt; . 

 - Jon 
_______________________________________________
Monodroid mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>

UNSUBSCRIBE INFORMATION:
 &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>&gt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110420/f5812bc6/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110420/f5812bc6/attachment-0001.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004351.html">[mono-android] Antwort: Re:  Strange Error
</A></li>
	<LI>Next message: <A HREF="004072.html">[mono-android] Problem with setting of EditText.TextChanged
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4420">[ date ]</a>
              <a href="thread.html#4420">[ thread ]</a>
              <a href="subject.html#4420">[ subject ]</a>
              <a href="author.html#4420">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
