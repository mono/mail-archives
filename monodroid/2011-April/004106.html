<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Is this a bug (Rect)?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Is%20this%20a%20bug%20%28Rect%29%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004105.html">
   <LINK REL="Next"  HREF="004107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Is this a bug (Rect)?</H1>
    <B>Aaron Knabb</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Is%20this%20a%20bug%20%28Rect%29%3F&In-Reply-To="
       TITLE="[mono-android] Is this a bug (Rect)?">aknabb at mobileepiphany.com
       </A><BR>
    <I>Tue Apr  5 12:44:57 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004105.html">[mono-android] Odd IOnTouchListener Exception
</A></li>
        <LI>Next message: <A HREF="004107.html">[mono-android] Is this a bug (Rect)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4106">[ date ]</a>
              <a href="thread.html#4106">[ thread ]</a>
              <a href="subject.html#4106">[ subject ]</a>
              <a href="author.html#4106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So I've noticed that something that my OnDraw function in my custom View
occasionally takes a REALLY long time to finish. After much testing, it
looks like the problem was with Rect. I was newing a bunch of Rect objects
in order to do some simple math with them. Considering how frequently OnDraw
gets called, I guess this left a bunch of Rect objects around in memory. If
I either use a 'using' statement or just avoid allocating those Rects over
and over again, the problem goes away. That leads to my question. Are we
supposed to avoid allocating objects frequently, or just dispose of Rects,
or is there something else going on? I kinda figured Rects where just some
integers and didn't require disposal, but it seems I was wrong.

If this is a bug, I have some test code that demonstrates it.

Any clues?
-Aaron
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110405/24de9192/attachment.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110405/24de9192/attachment.html</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004105.html">[mono-android] Odd IOnTouchListener Exception
</A></li>
	<LI>Next message: <A HREF="004107.html">[mono-android] Is this a bug (Rect)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4106">[ date ]</a>
              <a href="thread.html#4106">[ thread ]</a>
              <a href="subject.html#4106">[ subject ]</a>
              <a href="author.html#4106">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
