<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Sqlite database lost for each compilation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Sqlite%20database%20lost%20for%20each%20compilation&In-Reply-To=E139CB29-0CF9-4432-B192-5B3FB51BD811%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004253.html">
   <LINK REL="Next"  HREF="004505.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Sqlite database lost for each compilation</H1>
    <B>Karl Heinz Brehme Arredondo</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Sqlite%20database%20lost%20for%20each%20compilation&In-Reply-To=E139CB29-0CF9-4432-B192-5B3FB51BD811%40novell.com"
       TITLE="[mono-android] Sqlite database lost for each compilation">karl at e-magesolutions.com
       </A><BR>
    <I>Mon Apr 25 20:18:58 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004253.html">[mono-android] SPAM-LOW: Re: Sqlite database lost for each compilation
</A></li>
        <LI>Next message: <A HREF="004505.html">[mono-android] Sqlite database lost for each compilation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4503">[ date ]</a>
              <a href="thread.html#4503">[ thread ]</a>
              <a href="subject.html#4503">[ subject ]</a>
              <a href="author.html#4503">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jonathan,

I tried that but no success:

1) adb install -r FILENAME runs OK, IF I have the new APK. But on
MonoDevelop Build option I do not have Package option. There is a
Project-&gt;Create Package, but there is 3 alien options that I tried all:
Archive of Sources, Archive of Binaries and Tarball... First and Second
has some options like Linux or Windows and .tar, .zip etc file
extensions... No APK. What I'm missing?

2) adb uninstall -k PACKAGE could be interesting since can be put on pre
build, I think, if MonoDevelop is like Visual Studio. But I had this
answer from Terminal:

&quot;If you truly wish to continue, execute 'adb shell pm uninstall -k
PACKAGE'&quot;

I run that and got:

&quot;Failure&quot;

Since it appear that MonoDevelop uninstall first, then sign package and
then install, I think that could be easy to put -k parameter on adb
uninstall that MonoDevelop maybe use on that, so where I file a
enhancement request directly to you? Hehe...

Thanks,

Karl



On 10/04/11 13:13, &quot;Jonathan Pryor&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jpryor at novell.com</A>&gt; wrote:

&gt;<i>On Apr 10, 2011, at 6:55 AM, Karl Heinz Brehme Arredondo wrote:
</I>&gt;&gt;<i> There is some way to avoid destruction of the database?
</I>&gt;<i>
</I>&gt;<i>At present, with current tooling? No.
</I>&gt;<i>
</I>&gt;<i>At present, manually? Yes. You can use `adb` manually to uninstall and
</I>&gt;<i>reinstall the app; I'm not sure which sequence of incantations you'd
</I>&gt;<i>need, but `adb` lists:
</I>&gt;<i>
</I>&gt;<i>    adb install -r FILENAME
</I>&gt;<i>        ('-r' means reinstall the app, keeping its data)
</I>&gt;<i>    adb uninstall -k PACKAGE
</I>&gt;<i>        ('-k' means keep the data and cache directories)
</I>&gt;<i>
</I>&gt;<i>So in theory, you could manually run `adb uninstall -k PACKAGE` before
</I>&gt;<i>installing from VS, and that could keep your database. Alternatively, you
</I>&gt;<i>could use Build-&gt;Package to create the .apk and use `adb install -r
</I>&gt;<i>path/to/package.apk` to preserve the database.
</I>&gt;<i>
</I>&gt;<i>You may also consider filing an enhancement request to allow the IDE to
</I>&gt;<i>do this automatically.
</I>&gt;<i>
</I>&gt;<i>Thanks,
</I>&gt;<i> - Jon
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Monodroid mailing list
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i>UNSUBSCRIBE INFORMATION:
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>



</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004253.html">[mono-android] SPAM-LOW: Re: Sqlite database lost for each compilation
</A></li>
	<LI>Next message: <A HREF="004505.html">[mono-android] Sqlite database lost for each compilation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4503">[ date ]</a>
              <a href="thread.html#4503">[ thread ]</a>
              <a href="subject.html#4503">[ subject ]</a>
              <a href="author.html#4503">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
