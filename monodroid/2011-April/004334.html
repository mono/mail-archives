<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Resx Localization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Resx%20Localization&In-Reply-To=008801cbfa05%24b8e818b0%242ab84a10%24%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004329.html">
   <LINK REL="Next"  HREF="004341.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Resx Localization</H1>
    <B>Anthony.Coqui</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Resx%20Localization&In-Reply-To=008801cbfa05%24b8e818b0%242ab84a10%24%40novell.com"
       TITLE="[mono-android] Resx Localization">Anthony.Coqui at Live.com
       </A><BR>
    <I>Wed Apr 13 17:22:13 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004329.html">[mono-android] drawable folders
</A></li>
        <LI>Next message: <A HREF="004341.html">[mono-android] No apps appear in emulator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4334">[ date ]</a>
              <a href="thread.html#4334">[ thread ]</a>
              <a href="subject.html#4334">[ subject ]</a>
              <a href="author.html#4334">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hmm...

In preparation for posting this bug, I created a simple sample app by
performing the following steps:
1 - Create a 'Mono for Android' project
2 - Right-clicked on the project and selected 'Add New Item'

At this point, it became apparent that there is no way for me to add a
'Resources File' (.resx) file to my project.

Previously, I was able to introduce the .resx file by copying and pasting it
from a WP7 project into my 'Mono for Android' project.

Ultimately, I want to have one shared method that can be used on my WP7,
MonoTouch and Mono for Android projects. :)

Am I attacking this problem from the wrong angle?

Thanks again for the help,
Ant



-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of Jonathan Pryor
Sent: Wednesday, April 13, 2011 11:12 AM
To: Discussions related to Mono for Android
Subject: Re: [mono-android] Resx Localization

On Apr 13, 2011, at 2:28 AM, Anthony.Coqui wrote:
&gt;<i> For the last 3 hours, I've been trying to get localization working with
</I>resx files and cannot get the app to switch to another language.

This _could_ be:

	<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=664573">https://bugzilla.novell.com/show_bug.cgi?id=664573</A>

Specifically, the locale is cached at process startup, so if you start your
process then change the locale, your app will continue to use the locale
that was originally found.

You should try exiting the process and restarting the app, see if that fixes
things.

You can exit the process on the emulator by using `adb shell kill PID` (find
the PID via `adb shell ps` and look for your package name). You can't
directly kill the process on devices, but for Debug builds you can ask the
process to exit itself by:

 1. Opening obj/Debug/android/AndroidManifest.xml
 2. Look for the &lt;receiver android:name=&quot;mono.android.Seppuku&quot; /&gt; element;
nested within is an &lt;action/&gt; and &lt;category/&gt; element, e.g.

    &lt;receiver android:name=&quot;mono.android.Seppuku&quot;&gt;
      &lt;intent-filter&gt;
        &lt;action android:name=&quot;mono.android.intent.action.SEPPUKU&quot; /&gt;
        &lt;category
android:name=&quot;mono.android.intent.category.SEPPUKU.Mono.Samples.HelloTests&quot;
/&gt;
      &lt;/intent-filter&gt;
    &lt;/receiver&gt;

 3. Use `adb shell am broadcast -a ACTION -c CATEGORY`, e.g.

	$ adb shell am broadcast -a mono.android.intent.action.SEPPUKU \
		-c
mono.android.intent.category.SEPPUKU.Mono.Samples.HelloTests

&gt;<i> I checked the CultureInfo.CurrentCulture.EnglishName within the app and it
</I>returns the &quot;non-English&quot; culture, however, the ResourceManager continues to
return the English language.

Another possibility is that ResourceManager isn't finding an exact match for
your &quot;non-English&quot; culture, and selects English as the fallback culture,
thus resulting in english strings.
 
&gt;<i> Is it even possible to do this?
</I>
I would expect it to, but haven't actually tested it. :-)

If none of the above corrects the problem, could you please file a bug
report and attach a solution that exhibits the problem?

Thanks,
 - Jon

_______________________________________________
Monodroid mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>

UNSUBSCRIBE INFORMATION:
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>

</PRE>















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004329.html">[mono-android] drawable folders
</A></li>
	<LI>Next message: <A HREF="004341.html">[mono-android] No apps appear in emulator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4334">[ date ]</a>
              <a href="thread.html#4334">[ thread ]</a>
              <a href="subject.html#4334">[ subject ]</a>
              <a href="author.html#4334">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
