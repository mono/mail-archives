<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] File inout output operations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20File%20inout%20output%20operations&In-Reply-To=013001cbfd03%244d287f60%24e7797e20%24%40quebesystems.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004379.html">
   <LINK REL="Next"  HREF="004385.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] File inout output operations</H1>
    <B>Dennis Quebe</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20File%20inout%20output%20operations&In-Reply-To=013001cbfd03%244d287f60%24e7797e20%24%40quebesystems.com"
       TITLE="[mono-android] File inout output operations">dennis.quebe at quebesystems.com
       </A><BR>
    <I>Sun Apr 17 10:52:16 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004379.html">[mono-android] File inout output operations
</A></li>
        <LI>Next message: <A HREF="004385.html">[mono-android] File inout output operations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4380">[ date ]</a>
              <a href="thread.html#4380">[ thread ]</a>
              <a href="subject.html#4380">[ subject ]</a>
              <a href="author.html#4380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here is a full example with a real XML file that is in the Emulator
directory structure. 

 

 

try {

                     

       System.IO.StreamReader streamReader = new System.IO.StreamReader
(&quot;/etc/apns-conf.xml&quot;);

                           

       System.Xml.XmlDocument document = new System.Xml.XmlDocument ();

                           

       document.Load (streamReader);

                           

       foreach (System.Xml.XmlNode currentNode in document.ChildNodes) {

                                  

              Android.Util.Log.Info (&quot;Node&quot;, currentNode.InnerText);

                                   

       }

                           

                           

}

                     

catch (Exception exception) {

                     

       Android.Util.Log.Info (&quot;Exception&quot;, exception.Message);

                           

}

 

 

From: Dennis Quebe [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">dennis.quebe at quebesystems.com</A>] 
Sent: Sunday, April 17, 2011 8:28 AM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">john at murray.gb.com</A>; 'Discussions related to Mono for Android'
Subject: RE: [mono-android] File inout output operations

 

John: This is how I am reading in an XML file. It seems to work for me. I
use the Util.Log to write the exception out right now because I am having
problems with Debug.WriteLine. I don't know if this will help you. 

 

 

                                                try {

                                                

 
System.IO.StreamReader streamReader = new System.IO.StreamReader
(&quot;test.xml&quot;);

                                                                

 
System.Xml.XmlDocument document = new System.Xml.XmlDocument ();

                                                                

 
document.Load (streamReader);

                                                                

                                                }

                                                

                                                catch (Exception exception)
{

                                                

 
Android.Util.Log.Info (&quot;Exception&quot;, exception.Message);

                                                                

                                                }

                                                

 

From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of John Murray
Sent: Wednesday, February 02, 2011 6:46 AM
To: 'Discussions related to Mono for Android'
Subject: [mono-android] File inout output operations

 

Further to my last request for help can anyone explain this 

 

I am getting an exception message 'File not found of the type
Java.Lang.Illegal argument exception' (this is a System exception message) 

Despite this code which says that the file exists 

And despite the code below which seems to successfully write the file 

 

     public void readjavastyle()

        {

            string mystr = &quot;&quot;;

            mystr = GetFileStreamPath(&quot;LastGar.xml&quot;).ToString();

            if (System.IO.File.Exists(mystr)) 

            {Toast.MakeText(this, &quot;filestream path &quot; + mystr,
ToastLength.Long).Show();     // this line reports file exists 

}

            else{ Toast.MakeText(this, &quot;file not found error &quot; ,
ToastLength.Long).Show();

}

            try

            {

                FileInputStream mystream = OpenFileInput(mystr);

            }

            catch (Exception ioe)

            {

                Toast.MakeText(this, &quot;file not found error &quot; +
ioe.Message.ToString(), ToastLength.Long).Show();    

//this error is triggerd saying 'file not found error JAVA.Lang.Illegal
argument' 

            }

        }

 

Here is the write code which seems to report file has been written
successfully 

 

public void writeAndroidJavaGarXml()

        {

            string Mystr = &quot;&quot;;

            String string1 = &quot;&lt;?xml version=\&quot;1.0\&quot; standalone=\&quot;yes\&quot;?&gt;&quot;;

                String string2 = &quot;&lt;dataroot
generated=\&quot;2011-04-12T16:52:11\&quot;&gt;&quot;;

                String startjny = &quot;  &lt;JNY&gt;&quot;;

                String endjny = &quot;  &lt;JNY&gt;&quot;;

                Mystr = GetFileStreamPath(&quot;LastGar.xml&quot;).ToString();

        try{

            BufferedWriter writer = new BufferedWriter(new
FileWriter(Mystr));

            writer.Write(string1);

            writer.NewLine();

            writer.Write(string2);

            writer.NewLine();

            writer.Write(startjny);

            writer.NewLine();

            Mystr= &quot;&lt;UI&gt;&quot;+&quot;9898989&quot;+&quot;&lt;/UI&gt;&quot;;

            writer.Write(Mystr);

            writer.Write(endjny);

            writer.NewLine();

            writer.Write(&quot;/dataroot&quot;);

            writer.Flush();

            writer.Close();

            Toast.MakeText(this, &quot;filewritten &quot;, ToastLength.Long).Show();

        } catch (Java.IO.IOException e) {

             e.PrintStackTrace();

        }

        Mystr = GetFileStreamPath(&quot;LastGar.xml&quot;).ToString();

        if (System.IO.File.Exists(Mystr))

        {

            Toast.MakeText(this, &quot;filestream path &quot; + Mystr,
ToastLength.Long).Show();

        }

        else

        {

            Toast.MakeText(this, &quot;file not found error &quot;,
ToastLength.Long).Show();

        }

        }

 

 

I have checked every read option I can see in the Manifest 

Thanks for any help or pointers given 

 

John Murray 

 

 

 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110417/705babfb/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110417/705babfb/attachment-0001.html</A> 
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004379.html">[mono-android] File inout output operations
</A></li>
	<LI>Next message: <A HREF="004385.html">[mono-android] File inout output operations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4380">[ date ]</a>
              <a href="thread.html#4380">[ thread ]</a>
              <a href="subject.html#4380">[ subject ]</a>
              <a href="author.html#4380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
