<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Obfuscating the DLL inside the APK
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Obfuscating%20the%20DLL%20inside%20the%20APK&In-Reply-To=AANLkTin22nuv1SOfsDJyMRLD6nCy0Cj%2Bg8-X%3DjE%3D79V8%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000435.html">
   <LINK REL="Next"  HREF="000438.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Obfuscating the DLL inside the APK</H1>
    <B>Miha Markic</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Obfuscating%20the%20DLL%20inside%20the%20APK&In-Reply-To=AANLkTin22nuv1SOfsDJyMRLD6nCy0Cj%2Bg8-X%3DjE%3D79V8%40mail.gmail.com"
       TITLE="[Monodroid] Obfuscating the DLL inside the APK">miha at rthand.com
       </A><BR>
    <I>Wed Aug 25 09:30:28 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000435.html">[Monodroid] Obfuscating the DLL inside the APK
</A></li>
        <LI>Next message: <A HREF="000438.html">[Monodroid] Obfuscating the DLL inside the APK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#436">[ date ]</a>
              <a href="thread.html#436">[ thread ]</a>
              <a href="subject.html#436">[ subject ]</a>
              <a href="author.html#436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tim,

c) yes, I know, most obfuscators do. But still, here is an example: your app might fail at run time somewhere because you obfuscated some code that is used by reflection (human error, but still).
d) i was talking about (expert) end clients, like I tend to often use Reflector, specially in case something goes very wrong
e) true, it raises the bar.

Miha

From: Tim Reynolds [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">razialx at gmail.com</A>]
Sent: Wednesday, August 25, 2010 3:22 PM
To: Miha Markic
Cc: Wayne Douglas; Kris Siegel; <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
Subject: Re: [Monodroid] Obfuscating the DLL inside the APK

This might sound all markety, but please bear with me.

I work for PreEmptive Solutions. We produce Dotfuscator and DashO obfuscators. I have tested Dotfuscator with MonoDroid and it will fully obfuscate your assemblies, though it isn't an entirely straightforward process yet. I would like the opportunity to address the points made here:
a) Nothing I can do about that :)
b) Obfuscation necessarily requires an extra step when viewing stack traces. Currently an issue with the APK generation prevents you from running your MonoDroid application in Debug mode, however this does not in any way apply to non-MonoDroid applications. They can be run with a debugger (if obfuscated with Dotfuscator) without issue. Dotfuscator regenerates your PDB file to handle the obfuscated assembly.
c) Dotfuscator gives you insanely precise control over what you want obfuscated. It defaults to obfuscating everything, and provides mechanisms for specifying what you do not want obfuscated. We even support Regular Expression matching to determine what to exclude. We also break the three major obfuscation mechanisms (renaming, control flow, string encryption) into separate configuration sections. This means you can have completely different 'rules' for each technique.
d) This is true, and is the major separation between open source and closed source applications. We do provide a technology, Runtime Intelligence, that allows you to gather runtime analytics about your applications in the wild. We have not yet tested this with MonoDroid but I feel it is a really amazing technology. Of course, I am biased. That is what I directly work on ;)
e) The logic is still there, but with proper obfuscation you will only be able to view it as assembly code in Reflector. And best of all, the assembly code is going to be scrambled. The contextual information around it (fields, properties, method names) will all be renamed. This will greatly increase the difficulty in reverse engineering what you are doing.
f) There are absolutely no problems with code signing when using Dotfuscator. We support strong name resigning, partial signing and authenticode signing. We support signing of packages (XAP for example). The only scenario I know of that we do not directly support is resigning strong named assemblies with a PFX file (password protected). Because we leverage the .NET SDK you will need to extract the public key into a SNK file, which is easy.
On Wed, Aug 25, 2010 at 8:39 AM, Miha Markic &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">miha at rthand.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">miha at rthand.com</A>&gt;&gt; wrote:
Yeah, the logic is still here but it is much harder to read.
However, my bigger point was that
a) usually we all produce &quot;boring&quot; apps with no rocket science code
b) obfuscation produces debugging/error reporting problems
c) obfuscation might obfuscate too much
d) non obfuscated code might help skilled persons to understand why something isn't working
e) and as noted, logic is still there
f) problems with code signing

I am sure there are other arguments :-)

Miha

_______________________________________________
Monodroid mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>&gt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>



--
Tim Reynolds
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20100825/ea1a446e/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20100825/ea1a446e/attachment-0001.html</A> 
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000435.html">[Monodroid] Obfuscating the DLL inside the APK
</A></li>
	<LI>Next message: <A HREF="000438.html">[Monodroid] Obfuscating the DLL inside the APK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#436">[ date ]</a>
              <a href="thread.html#436">[ thread ]</a>
              <a href="subject.html#436">[ subject ]</a>
              <a href="author.html#436">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
