<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] HashMap crashing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20HashMap%20crashing&In-Reply-To=1282945202.4174.299.camel%40linux-teg2.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000582.html">
   <LINK REL="Next"  HREF="000586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] HashMap crashing</H1>
    <B>Amir (GMail)</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20HashMap%20crashing&In-Reply-To=1282945202.4174.299.camel%40linux-teg2.site"
       TITLE="[Monodroid] HashMap crashing">amirw2k at gmail.com
       </A><BR>
    <I>Sat Aug 28 03:32:35 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000582.html">[Monodroid] HashMap crashing
</A></li>
        <LI>Next message: <A HREF="000586.html">[Monodroid] A Dream of IRunnable Lambdas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#585">[ date ]</a>
              <a href="thread.html#585">[ thread ]</a>
              <a href="subject.html#585">[ subject ]</a>
              <a href="author.html#585">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I noticed a strange behavior trying to debug this problem.

This code actually runs properly:
            Java.Util.HashMap&lt;int, string&gt; myMap1 = new
Java.Util.HashMap&lt;int, string&gt;();
            myMap1.Put(10, &quot;Test&quot;);

But when I put a breakpoint over the myMap1.Put(...) line and click F10, the
application crashes. It seems as if my previous message could have crashed
for another reason, but I can't debug it because of the debugger problem. Do
you have any idea why this happens?

In mgmain JNI_OnLoad
Stacktrace:

  at (wrapper managed-to-native) object.wrapper_native_0x80831c39
(intptr,intptr,intptr,intptr,Android.Runtime.JValue[]) &lt;IL 0x0012b,
0xffffffff&gt;
  at (wrapper delegate-invoke)
Android.Runtime.JNIEnv/CallNonvirtualObjectMethodADelegate.invoke_intptr__th
is___intptr_intptr_intptr_intptr_JValue[]
(intptr,intptr,intptr,intptr,Android.Runtime.JValue[]) &lt;IL 0x00068, 0x002f0&gt;
  at Android.Runtime.JNIEnv.CallNonvirtualObjectMethod
(intptr,intptr,intptr,Android.Runtime.JValue[]) [0x00000] in
/home/jpobst/Desktop/mondroid/Mono.Android/src/Runtime/JNIEnv.cs:454
  at Java.Util.HashMap`2&lt;int, string&gt;.Put (int,string) [0x0002d] in
/home/jpobst/Desktop/mondroid/Mono.Android/src/generated/Java.Util.HashMap.c
s:222
  at MonoDroidHash1.Activity1.OnCreate (Android.OS.Bundle) [0x0001c] in
Activity1.cs:26
  at Android.App.Activity.n_OnCreate_Landroid_os_Bundle_
(intptr,intptr,intptr) [0x0000e] in
/home/jpobst/Desktop/mondroid/Mono.Android/src/generated/Android.App.Activit
y.cs:1551
  at (wrapper native-to-managed)
Android.App.Activity.n_OnCreate_Landroid_os_Bundle_ (intptr,intptr,intptr)
&lt;IL 0x00019, 0x0012b&gt;


Thanks,
Amir

-----Original Message-----
From: Mike Kestner [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mkestner at novell.com</A>] 
Sent: Saturday, August 28, 2010 12:40 AM
To: Amir (GMail)
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
Subject: Re: [Monodroid] HashMap crashing

On Fri, 2010-08-27 at 23:18 +0300, Amir (GMail) wrote:

&gt;<i> Is HashMap already implemented?
</I>
Yes and no.  The generic types in the class libraries are very new, and
fairly dynamic still.  There will likely be large changes in them over
the next couple previews as we stabilize on a permanent solution.  It is
a significant challenge, binding java &quot;generics&quot; to C# generics.

&gt;<i> This code crashed my application (second line)
</I>&gt;<i> 
</I>&gt;<i> HashMap&lt;string, string&gt; map1 = new HashMap&lt;string, string&gt;();
</I>&gt;<i> 
</I>&gt;<i> map1.Put(&quot;a&quot;, &quot;b&quot;);
</I>
Surprising that crashes with the current preview.  If you can file a bug
with the exception output.  We are successfully storing much more
complicated types than strings in hashmaps in other samples.

-- 
Mike Kestner &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mkestner at novell.com</A>&gt;
 

__________ Information from ESET NOD32 Antivirus, version of virus signature
database 5403 (20100827) __________

The message was checked by ESET NOD32 Antivirus.

<A HREF="http://www.eset.com">http://www.eset.com</A>
 

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000582.html">[Monodroid] HashMap crashing
</A></li>
	<LI>Next message: <A HREF="000586.html">[Monodroid] A Dream of IRunnable Lambdas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#585">[ date ]</a>
              <a href="thread.html#585">[ thread ]</a>
              <a href="subject.html#585">[ subject ]</a>
              <a href="author.html#585">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
