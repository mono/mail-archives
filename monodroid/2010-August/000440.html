<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Obfuscating the DLL inside the APK
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Obfuscating%20the%20DLL%20inside%20the%20APK&In-Reply-To=000601cb4433%243ba6f750%24b2f4e5f0%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000443.html">
   <LINK REL="Next"  HREF="000496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Obfuscating the DLL inside the APK</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Obfuscating%20the%20DLL%20inside%20the%20APK&In-Reply-To=000601cb4433%243ba6f750%24b2f4e5f0%24%40com"
       TITLE="[Monodroid] Obfuscating the DLL inside the APK">jpryor at novell.com
       </A><BR>
    <I>Wed Aug 25 10:00:27 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000443.html">[Monodroid] Obfuscating the DLL inside the APK
</A></li>
        <LI>Next message: <A HREF="000496.html">[Monodroid] Obfuscating the DLL inside the APK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#440">[ date ]</a>
              <a href="thread.html#440">[ thread ]</a>
              <a href="subject.html#440">[ subject ]</a>
              <a href="author.html#440">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2010-08-25 at 11:55 +0300, Amir (GMail) wrote:
&gt;<i> 1. Is there an easy way to have an obfuscator handle this file before
</I>&gt;<i> it's packed?
</I>
At present, not that I know of, but once we get Library support I'd
expect it to be possible to use Library + post-build steps + referencing
assemblies by-filename (instead of by-project) to work.  (Completely
untested, of course, but that sort of process *sounds* sane...)

&gt;<i> 2. Do you have an idea if an obfuscated DLL would work on Android? (I
</I>&gt;<i> will run some tests myself soon).
</I>
Maybe.  The problem isn't Android, the problem is Mono, and there are
*tons* of bugs filed against Mono where some obfuscated assembly isn't
supported (often because they violate ECMA spec constraints and just
happen to produce IL that .NET executes).  So it might work, it might
not work, you'll have to test.

&gt;<i> 3. If possible, allow the DLL to be encrypted or password protected.
</I>&gt;<i> Currently it's too easy to fetch.
</I>
I don't understand how this would even work.  In order for MonoDroid to
load your app, it needs an assembly to execute.  This assembly obviously
can't be encrypted, because if it were Mono couldn't execute it.
There's a bit of a bootstrap issue here. ;-)

However, if you split your program into multiple assemblies, you could
encrypt one of your assemblies.  Mono would load your unencrypted
assembly to get the app running, and your unencrypted assembly would 
unencrypt the encrypted assembly at runtime and load it via e.g.
System.Reflection.Assembly.Load(byte[]).

This is workable, but I don't know what the performance implications are
(you're obviously going to be slowing down any operation requiring the
encrypted assembly, and the emulator is slow enough as it is!).  I'm
also not convinced that it's a worthwhile use of time -- every spiffy
encryption technology seems to get bypassed eventually (XBox?  PSP?  You
*know* these guys care about copy protection, yet they're still broken).

A likely better use of time is to move everything you want to protect
server-side and interact with it via WebServices/REST/etc.  Then it's
simply not possible to copy the &quot;important&quot; stuff, as it's not local.
(This obviously isn't always applicable, but what advice is?)

 - Jon


</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000443.html">[Monodroid] Obfuscating the DLL inside the APK
</A></li>
	<LI>Next message: <A HREF="000496.html">[Monodroid] Obfuscating the DLL inside the APK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#440">[ date ]</a>
              <a href="thread.html#440">[ thread ]</a>
              <a href="subject.html#440">[ subject ]</a>
              <a href="author.html#440">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
