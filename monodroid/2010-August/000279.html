<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid]  SQLiteConnection cannot Open() DB
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20%20SQLiteConnection%20cannot%20Open%28%29%20DB&In-Reply-To=4C6F3ACF.2020203%40withinwindows.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000276.html">
   <LINK REL="Next"  HREF="000281.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid]  SQLiteConnection cannot Open() DB</H1>
    <B>Ken Heiman</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20%20SQLiteConnection%20cannot%20Open%28%29%20DB&In-Reply-To=4C6F3ACF.2020203%40withinwindows.com"
       TITLE="[Monodroid]  SQLiteConnection cannot Open() DB">kheiman61 at hotmail.com
       </A><BR>
    <I>Sat Aug 21 01:06:33 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000276.html">[Monodroid] Blog on Introducing MonoDroid
</A></li>
        <LI>Next message: <A HREF="000281.html">[Monodroid] SQLiteConnection cannot Open() DB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#279">[ date ]</a>
              <a href="thread.html#279">[ thread ]</a>
              <a href="subject.html#279">[ subject ]</a>
              <a href="author.html#279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I may be missing something, but I seem to be unable to Open a Sqlite DB.
 
I can successfully check for the existence of the path/file, and successfully CREATE a blank Sqlite db file if it does not exist on the device using 
 
SqliteConnection.CreateFile(&quot;/data/data/MonoDroid_Hello.MonoDroid_Hello/databases/db2.db&quot;);
 
This blank DB I created can then be opened from adb using sqlite3 and I can add tables, data etc.
 
However no matter what I try I can't succesfully execute 
 
SqliteConnection conn;
conn = new SqliteConnection(&quot;Data Source=/data/data/MonoDroid_Hello.MonoDroid_Hello/databases/db2.db&quot;);

conn.Open();

It (conn.Open()) fails every time (no matter what path I use in the connection string) with
 
Message: 
sqlite3
 
StackTrace:
at (wrapper managed-to-native) Mono.Data.Sqlite.UnsafeNativeMethods:sqlite3_open_v2 (byte[],intptr&amp;,int,intptr)
at Mono.Data.Sqlite.SQLite3.Open(System.String strFilename, SQLiteOpenFlagsEnum flags, Int32 maxPoolSize, Boolean usePool) 

I am /hoping/ I just am not getting the right syntax in the connection string, since I seem to get the same error no matter what path I put in the Data Source, and if I try to read the DataSource property of the conn object AFTER setting the connection string, but BEFORE calling conn.Open(), it returns an empty string, so I am hoping it is a simple connection string error...but when I open the db2.db file from adb using sqlite3, the path for the data source in my connection string exactly matches the path shown from the .databases command in sqlite3.
 
Thanks,
Ken 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20100821/08d795d1/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20100821/08d795d1/attachment-0001.html</A> 
</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000276.html">[Monodroid] Blog on Introducing MonoDroid
</A></li>
	<LI>Next message: <A HREF="000281.html">[Monodroid] SQLiteConnection cannot Open() DB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#279">[ date ]</a>
              <a href="thread.html#279">[ thread ]</a>
              <a href="subject.html#279">[ subject ]</a>
              <a href="author.html#279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
