<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Serializing State of Complex Class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Serializing%20State%20of%20Complex%20Class&In-Reply-To=%3CCAJbSEHXVpLB6NonaOSnvPbtP1th8--2zw8t2rOjaUB5vxT6c7w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013293.html">
   <LINK REL="Next"  HREF="013300.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Serializing State of Complex Class</H1>
    <B>Tom Opgenorth</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Serializing%20State%20of%20Complex%20Class&In-Reply-To=%3CCAJbSEHXVpLB6NonaOSnvPbtP1th8--2zw8t2rOjaUB5vxT6c7w%40mail.gmail.com%3E"
       TITLE="[mono-android] Serializing State of Complex Class">tom at opgenorth.net
       </A><BR>
    <I>Tue Feb  5 14:38:27 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="013293.html">[mono-android] Serializing State of Complex Class
</A></li>
        <LI>Next message: <A HREF="013300.html">[mono-android] Serializing State of Complex Class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13295">[ date ]</a>
              <a href="thread.html#13295">[ thread ]</a>
              <a href="subject.html#13295">[ subject ]</a>
              <a href="author.html#13295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You are correct in that if Android kills your process you will lose
the static variable.

As to your question &quot;is serializing the class and *then packing
the serialized result into the bundle* the correct thing to do when using
serialization?&quot;, I would say it depends on how big (i.e how many
bytes) your complex class is.  Instance state isn't necessary the best
for large binary chunks of date (i.e. big bitmap values). I'm not to
sure what Android would consider &quot;large&quot; however.

Some possible alternatives:

* Although deprecated in API 13, you can use
onRetainNonConfigurationInstance/getLastNonConfigurationInstance to
save your object ( some info here:
<A HREF="http://developer.android.com/guide/topics/resources/runtime-changes.html">http://developer.android.com/guide/topics/resources/runtime-changes.html</A>).

* Maybe you could write the byte array to internal storage, and store
the path to the file in instance state (much smaller), and and then
deserialize it yourself when your activity is created

On Mon, Feb 4, 2013 at 9:59 PM, craig &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">craigrs84 at gmail.com</A>&gt; wrote:
&gt;<i> I considered a static variable.
</I>&gt;<i>
</I>&gt;<i> If Android kills my process then the static variable would be gone but the
</I>&gt;<i> serialized variable would be retained right?  That's the only reason I'm
</I>&gt;<i> leaning towards serialized.
</I>&gt;<i>
</I>&gt;<i> I guess to clarify my question, is serializing the class and *then packing
</I>&gt;<i> the serialized result into the bundle* the correct thing to do when using
</I>&gt;<i> serialization?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Serializing-State-of-Complex-Class-tp5712833p5712835.html">http://mono-for-android.1047100.n5.nabble.com/Serializing-State-of-Complex-Class-tp5712833p5712835.html</A>
</I>&gt;<i> Sent from the Mono for Android mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>


-- 
<A HREF="http://www.opgenorth.net">http://www.opgenorth.net</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013293.html">[mono-android] Serializing State of Complex Class
</A></li>
	<LI>Next message: <A HREF="013300.html">[mono-android] Serializing State of Complex Class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13295">[ date ]</a>
              <a href="thread.html#13295">[ thread ]</a>
              <a href="subject.html#13295">[ subject ]</a>
              <a href="author.html#13295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
