<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Error while retreiving data from xml file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Error%20while%20retreiving%20data%20from%20xml%20file&In-Reply-To=%3C1361540463407-5712920.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013373.html">
   <LINK REL="Next"  HREF="013379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Error while retreiving data from xml file</H1>
    <B>krish</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Error%20while%20retreiving%20data%20from%20xml%20file&In-Reply-To=%3C1361540463407-5712920.post%40n5.nabble.com%3E"
       TITLE="[mono-android] Error while retreiving data from xml file">kickrish at gmail.com
       </A><BR>
    <I>Fri Feb 22 13:41:03 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="013373.html">[mono-android] VS2012 Debugging Issues
</A></li>
        <LI>Next message: <A HREF="013379.html">[mono-android] Error while retreiving data from xml file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13378">[ date ]</a>
              <a href="thread.html#13378">[ thread ]</a>
              <a href="subject.html#13378">[ subject ]</a>
              <a href="author.html#13378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi..
here m getting error while retreiving data from xml file...the data is
storing ...bt for retreiving m getting error..
actually i have 3 edittexts and 2 buttons(Save and Retrieve) and 1
textview...for the first time when i enter values in 3 edittexts and click
on save button the data is storing and when i clicking Retreive button the
data is retreiving,...bt when for second time i give values in all edittexts
and click on save button it is giving error...
i left the application and again enter into application when i enter all
values in all edittexts and click on save button ...the data is storing...bt
here the problem is not retreiving...for further ly data is storing bt not
retreivng....the code is here:
Design:
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;AbsoluteLayout xmlns:android=&quot;<A HREF="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</A>&quot;
    android:id=&quot;@+id/widget0&quot;
    android:layout_width=&quot;fill_parent&quot;
    android:layout_height=&quot;fill_parent&quot;&gt;
    &lt;TextView
        android:id=&quot;@+id/texteno&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;Eno&quot;
        android:layout_x=&quot;38dp&quot;
        android:layout_y=&quot;35dp&quot; /&gt;
    &lt;EditText
        android:id=&quot;@+id/etdeno2&quot;
        android:layout_width=&quot;142dp&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;&quot;
        android:textSize=&quot;18sp&quot;
        android:layout_x=&quot;119dp&quot;
        android:layout_y=&quot;20dp&quot; /&gt;
    &lt;TextView
        android:id=&quot;@+id/widget34&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;Ename&quot;
        android:layout_x=&quot;36dp&quot;
        android:layout_y=&quot;80dp&quot; /&gt;
    &lt;EditText
        android:id=&quot;@+id/etdename2&quot;
        android:layout_width=&quot;133dp&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;&quot;
        android:textSize=&quot;18sp&quot;
        android:layout_x=&quot;123dp&quot;
        android:layout_y=&quot;70dp&quot; /&gt;
    &lt;TextView
        android:id=&quot;@+id/widget36&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;EAddress&quot;
        android:layout_x=&quot;38dp&quot;
        android:layout_y=&quot;134dp&quot; /&gt;
    &lt;EditText
        android:id=&quot;@+id/etdeadd2&quot;
        android:layout_width=&quot;133dp&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;&quot;
        android:textSize=&quot;18sp&quot;
        android:layout_x=&quot;119dp&quot;
        android:layout_y=&quot;124dp&quot; /&gt;
    &lt;Button
        android:id=&quot;@+id/Btndatasave1&quot;
        android:layout_width=&quot;94dp&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;Save&quot;
        android:layout_x=&quot;38dp&quot;
        android:layout_y=&quot;195dp&quot; /&gt;
    &lt;Button
        android:id=&quot;@+id/Btndataretreive1&quot;
        android:layout_width=&quot;93dp&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;Retreive&quot;
        android:layout_x=&quot;169dp&quot;
        android:layout_y=&quot;193dp&quot; /&gt;
    &lt;TextView
        android:id=&quot;@+id/text1&quot;
        android:layout_width=&quot;270dp&quot;
        android:layout_height=&quot;70dp&quot;
        android:text=&quot;&quot;
        android:layout_x=&quot;35dp&quot;
        android:layout_y=&quot;250dp&quot; /&gt;
&lt;/AbsoluteLayout&gt;

Code:
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Xml;
using System.IO;
using System.Data;
using Mono.Data.Sqlite;

using Android.App;
using Android.Content;
using Android.OS;
using Android.Runtime;
using Android.Views;
using Android.Widget;

namespace XmlData
{
    [Activity(Label = &quot;XmlDataTwo&quot;,MainLauncher=true)]
    public class XmlTwo : Activity
    {
        EditText eteno, etename, eteadd;
        Button btnsave, btnretrieve;
        TextView text;
        string path;
        DataSet ds;
        protected override void OnCreate(Bundle bundle)
        {
            base.OnCreate(bundle);
            SetContentView(Resource.Layout.XmlTwo);
            eteno = FindViewById&lt;EditText&gt;(Resource.Id.etdeno2);
            etename = FindViewById&lt;EditText&gt;(Resource.Id.etdename2);
            eteadd = FindViewById&lt;EditText&gt;(Resource.Id.etdeadd2);
            btnsave = FindViewById&lt;Button&gt;(Resource.Id.Btndatasave1);
            btnretrieve =
FindViewById&lt;Button&gt;(Resource.Id.Btndataretreive1);
            text = FindViewById&lt;TextView&gt;(Resource.Id.text1);
            btnsave.Click += delegate { savexml(); };
            // Create your application here
          
            btnretrieve.Click += delegate { retrvXml(); };
        }

       

      

private void savexml()
{
 	
    string path =
System.IO.Path.Combine(System.Environment.GetFolderPath(System.Environment.SpecialFolder.MyDocuments),
&quot;Emp6.xml&quot;);
          
            StreamWriter stw = new StreamWriter(path,true);
            XmlTextWriter xtw = new XmlTextWriter(stw);
            xtw.WriteStartDocument();
            xtw.WriteStartElement(&quot;ItemData&quot;);
            xtw.WriteStartElement(&quot;Item&quot;);
            xtw.WriteElementString(&quot;ItemNo&quot;, eteno.Text);
            xtw.WriteElementString(&quot;ItemName&quot;, etename.Text);
            xtw.WriteElementString(&quot;ItemCost&quot;, eteadd.Text);
            xtw.WriteEndElement();
            xtw.WriteEndElement();
            xtw.WriteEndDocument();
            xtw.Flush();
            Toast.MakeText(this,&quot;saved
successfully&quot;,ToastLength.Long).Show();
            eteno.Text = etename.Text = eteadd.Text = string.Empty;
            xtw.Close();
}
private void retrvXml()
{
    string path =
System.IO.Path.Combine(System.Environment.GetFolderPath(System.Environment.SpecialFolder.MyDocuments),
&quot;Emp6.xml&quot;);
   
    XmlDataDocument xmldoc = new XmlDataDocument();
    XmlNodeList xmlnode;
    int i = 0;
    string str=null ;
  
    FileStream fs = new FileStream(path, FileMode.Open, FileAccess.Read);
    xmldoc.Load(fs); //getting error for second time onwards
    xmlnode = xmldoc.GetElementsByTagName(&quot;Item&quot;);
    for (i = 0; i &lt;= xmlnode.Count - 1; i++)
    {
        xmlnode[i].ChildNodes.Item(0).InnerText.Trim();
        str = xmlnode[i].ChildNodes.Item(0).InnerText.Trim() + &quot; | &quot; +
xmlnode[i].ChildNodes.Item(1).InnerText.Trim() + &quot; | &quot; +
xmlnode[i].ChildNodes.Item(2).InnerText.Trim();
        text.Text = str;
    }
}

       
        }

       
    }
---------------
here i getting error at 
 xmldoc.Load(fs);
the error msg is also not displaying.......
i think it can show one record only...plz help me any one ...it became
torture for me...plz reply as soon as possible....
plz explain me in detailed...



--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Error-while-retreiving-data-from-xml-file-tp5712920.html">http://mono-for-android.1047100.n5.nabble.com/Error-while-retreiving-data-from-xml-file-tp5712920.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013373.html">[mono-android] VS2012 Debugging Issues
</A></li>
	<LI>Next message: <A HREF="013379.html">[mono-android] Error while retreiving data from xml file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13378">[ date ]</a>
              <a href="thread.html#13378">[ thread ]</a>
              <a href="subject.html#13378">[ subject ]</a>
              <a href="author.html#13378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
