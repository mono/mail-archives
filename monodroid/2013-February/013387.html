<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Enhancement in Xml Retreive code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Enhancement%20in%20Xml%20Retreive%20code&In-Reply-To=%3C1361793926762-5712932.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013422.html">
   <LINK REL="Next"  HREF="013388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Enhancement in Xml Retreive code</H1>
    <B>krish</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Enhancement%20in%20Xml%20Retreive%20code&In-Reply-To=%3C1361793926762-5712932.post%40n5.nabble.com%3E"
       TITLE="[mono-android] Enhancement in Xml Retreive code">kickrish at gmail.com
       </A><BR>
    <I>Mon Feb 25 12:05:26 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="013422.html">[mono-android] Auto-close alert dialog after a specific time
</A></li>
        <LI>Next message: <A HREF="013388.html">[mono-android] Enhancement in Xml Retreive code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13387">[ date ]</a>
              <a href="thread.html#13387">[ thread ]</a>
              <a href="subject.html#13387">[ subject ]</a>
              <a href="author.html#13387">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi...i m working on saving and retreiving of xml file...i have 3 edittexts
and two buttons....by entering values in all 3 edittexts and click on save
button,the data will saved to xml file...when i click on retrieve button the
stored data shud display in textview(like label)...the data is saving to xml
file and my problem is when i click on retreive it will shows only last
inserted record...not alll the records i inserted....and my code for 
retreiving is :

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.IO;
using System.Xml;

using Android.App;
using Android.Content;
using Android.OS;
using Android.Runtime;
using Android.Views;
using Android.Widget;

namespace XmlData
{
       [Activity(Label = &quot;XmlDataOne&quot;,MainLauncher=true)]
    public class XmlOne : Activity
    {
           EditText eteno, etename, eteadd;
           Button btnsave, btnretrieve;
           TextView text;
           string path;           
        protected override void OnCreate(Bundle bundle)
        {
            base.OnCreate(bundle);
            SetContentView(Resource.Layout.XmlOne);
            // Create your application here
            eteno = FindViewById&lt;EditText&gt;(Resource.Id.etdeno1);
            etename = FindViewById&lt;EditText&gt;(Resource.Id.etdename1);
            eteadd = FindViewById&lt;EditText&gt;(Resource.Id.etdeadd1);
            btnsave = FindViewById&lt;Button&gt;(Resource.Id.Btndatasave);
            btnretrieve = FindViewById&lt;Button&gt;(Resource.Id.Btndataretreive);
            text = FindViewById&lt;TextView&gt;(Resource.Id.text);
            btnsave.Click += delegate { savexml(eteno.Text, etename.Text,
eteadd.Text); };
            btnretrieve.Click += delegate { retrXml(); };
        }

        private void retrXml()
        {
string path =
System.IO.Path.Combine(System.Environment.GetFolderPath(System.Environment.SpecialFolder.MyDocuments),&quot;Empp.xml&quot;);
            XmlDocument doc = new XmlDocument();
            doc.Load(path);
            XmlNode root = doc.DocumentElement;
            StringBuilder sb = new StringBuilder();
            XmlNodeList nodeList = root.SelectNodes(&quot;Employee&quot;);
            foreach(XmlNode node in nodeList){               
               
                sb.Append(&quot;Eno:&quot;);
                sb.Append(node.SelectSingleNode(&quot;Eno&quot;).InnerText);
                sb.Append(&quot;Ename:&quot;);
                sb.Append(node.SelectSingleNode(&quot;Ename&quot;).InnerText);
                sb.Append(&quot;Eadd:&quot;);
                sb.Append(node.SelectSingleNode(&quot;Eadd&quot;).InnerText);
                sb.Append(&quot;&quot;);                 
                      
            }
            text.Text =  sb.ToString();    
            // throw new NotImplementedException();       
   }
}

the output shows only last stored record ...when i insert data and click on
retrieve button it shows only last stored record ...i changed the code like:
 foreach(XmlNode node in nodeList){               
                sb.Append(sbs);
                sb.Append(&quot;Eno:&quot;);
                sb.Append(node.SelectSingleNode(&quot;Eno&quot;).InnerText);
                sb.Append(&quot;Ename:&quot;);
                sb.Append(node.SelectSingleNode(&quot;Ename&quot;).InnerText);
                sb.Append(&quot;Eadd:&quot;);
                sb.Append(node.SelectSingleNode(&quot;Eadd&quot;).InnerText);
                sb.Append(&quot;&quot;);
                sbs = sb.ToString();
                text.Text = sbs;               
            }
here m getting is when i insert record and click on retreive for each
inserted record the record is appending when i double click on retreive
button the last inserted record is appending again and again..

now my  problem is when i click on Retrieve button ,all inserted records
shud be display on textview not only the last inserted record...plz explain
me in detailed ...m new to .net also...plz reply as early as possible





--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Enhancement-in-Xml-Retreive-code-tp5712932.html">http://mono-for-android.1047100.n5.nabble.com/Enhancement-in-Xml-Retreive-code-tp5712932.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013422.html">[mono-android] Auto-close alert dialog after a specific time
</A></li>
	<LI>Next message: <A HREF="013388.html">[mono-android] Enhancement in Xml Retreive code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13387">[ date ]</a>
              <a href="thread.html#13387">[ thread ]</a>
              <a href="subject.html#13387">[ subject ]</a>
              <a href="author.html#13387">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
