<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Best way to share a class library with 	WinForms/Silverlight/etc...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%0A%20%3D%3Futf-8%3Fq%3FBest_way_to_share_a_class_library_with_%3D09W%3F%3D%0A%20%3D%3Futf-8%3Fq%3FinForms/Silverlight/etc%3D2E%3D2E%3D2E%3F%3D&In-Reply-To=mailman.97846.1283421784.2070.monodroid%40lists.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000649.html">
   <LINK REL="Next"  HREF="000638.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Best way to share a class library with 	WinForms/Silverlight/etc...</H1>
    <B>dominique at savagesoftwaresolutions.com</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%0A%20%3D%3Futf-8%3Fq%3FBest_way_to_share_a_class_library_with_%3D09W%3F%3D%0A%20%3D%3Futf-8%3Fq%3FinForms/Silverlight/etc%3D2E%3D2E%3D2E%3F%3D&In-Reply-To=mailman.97846.1283421784.2070.monodroid%40lists.ximian.com"
       TITLE="[Monodroid] Best way to share a class library with 	WinForms/Silverlight/etc...">dominique at savagesoftwaresolutions.com
       </A><BR>
    <I>Thu Sep  2 08:05:35 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000649.html">[Monodroid] Best way to share a class library	with	WinForms/Silverlight/etc...
</A></li>
        <LI>Next message: <A HREF="000638.html">[Monodroid] Best way to share a class library with	WinForms/Silverlight/etc...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#635">[ date ]</a>
              <a href="thread.html#635">[ thread ]</a>
              <a href="subject.html#635">[ subject ]</a>
              <a href="author.html#635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Wayne,
  I'm working on a basic OpenGL ES demo that currently compiles on MT and
MD as well as supporting OpenGL ES 1.1 and ES 2.0 on both platforms.
So far everything compiles and works on MT, just waiting for the magicians
at Novell to add the ability to support ES 2.0 more easily in MD, and I
think it should work on that as well.

I've abstracted the rendering as follows...
I have an abstract base rendering class ( I know everyone loves
interfaces, but since this is game code, i think abstract classes should be
slightly faster over all ).
Then an OpenGL 1.1 class that inherits from this base class and also an
OpenGL 2.0 class that does the same.
Therefore the 1.1 class renders the rectangle using fixed function
pipeline calls, and the 2.0 class uses shaders, while sharing the vertices
code and colours ( they are in the base class ).
Then when the View's FrameBuffer ( either iPhone or Android ) is created I
just instantiate the appropriate OpenGL rendering class and call its
UpdateFrame and RenderFrame methods at the right time. The 1.1 code path
compiles and runs on both MT and MD.

I'm happy to share the code if you or anyone else is interested. 
If I have time I'll upload something to github, with the hope that it
makes it into both the MonoTouch or MonoDroid samples.

Dominique.

On Thu, 02 Sep 2010 06:03:04 -0400, Wayne Douglas wrote:
&gt;<i> this is somethign i'm trying to tackle now too - sharing code between
</I>MT/MD
&gt;<i> and potentially WM7
</I>&gt;<i> 
</I>&gt;<i> it's a bit hectic
</I>&gt;<i> 
</I>&gt;<i> how's everyone else managing this~?
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000649.html">[Monodroid] Best way to share a class library	with	WinForms/Silverlight/etc...
</A></li>
	<LI>Next message: <A HREF="000638.html">[Monodroid] Best way to share a class library with	WinForms/Silverlight/etc...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#635">[ date ]</a>
              <a href="thread.html#635">[ thread ]</a>
              <a href="subject.html#635">[ subject ]</a>
              <a href="author.html#635">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
