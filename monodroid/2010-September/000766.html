<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Problem to realize a &quot;timer&quot; application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Problem%20to%20realize%20a%20%22timer%22%20application&In-Reply-To=AANLkTi%3DoGa4ZnFynqPZcGj8ADBAP_b%2B3u36vtMFuwxwc%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000764.html">
   <LINK REL="Next"  HREF="000773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Problem to realize a &quot;timer&quot; application</H1>
    <B>Mike Kestner</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Problem%20to%20realize%20a%20%22timer%22%20application&In-Reply-To=AANLkTi%3DoGa4ZnFynqPZcGj8ADBAP_b%2B3u36vtMFuwxwc%40mail.gmail.com"
       TITLE="[Monodroid] Problem to realize a &quot;timer&quot; application">mkestner at novell.com
       </A><BR>
    <I>Sun Sep 12 20:51:54 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000764.html">[Monodroid] Problem to realize a &quot;timer&quot; application
</A></li>
        <LI>Next message: <A HREF="000773.html">[Monodroid] Problem to realize a &quot;timer&quot; application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#766">[ date ]</a>
              <a href="thread.html#766">[ thread ]</a>
              <a href="subject.html#766">[ subject ]</a>
              <a href="author.html#766">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2010-09-13 at 00:35 +0200, Torello Querci wrote:
&gt;<i> 2010/9/10 Mike Kestner &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mkestner at novell.com</A>&gt;:
</I>
&gt;<i> &gt; or better yet, the recommended method for implementing
</I>&gt;<i> &gt; Java interfaces like IRunnable is to do it on a Java.Lang.Object
</I>&gt;<i> &gt; subclass.  This gives you that Handle property you &quot;implemented&quot; for
</I>&gt;<i> &gt; free, but makes it actually do something correct, and it may also help
</I>&gt;<i> &gt; the object's persistence be managed by the binding.
</I>
Hi Torello,

Your sample does not incorporate the above piece of advice.  Try
deriving your TextUpdater from Java.Lang.Object.

The way you have implemented IRunnable on a System.Object subclass
forces us to create a internal &quot;adapter&quot; class which does derive from
Java.Lang.Object each time you call PostDelayed.  The lack of J.L.O
inheritance adds overhead to every PostDelayed call, increased memory
usage, and forwarding delay in the callback invocation. 

We still have some kinks to work out yet with garbage collection of java
objects.  This is the likely cause of the climbing GREF output you are
seeing, because the adapter instances are not getting released.

If you derive your TextUpdater class from Java.Lang.Object you remove
the need for this adapter instance, and you will only have your one
object getting passed around.


-- 
Mike Kestner &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mkestner at novell.com</A>&gt;

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000764.html">[Monodroid] Problem to realize a &quot;timer&quot; application
</A></li>
	<LI>Next message: <A HREF="000773.html">[Monodroid] Problem to realize a &quot;timer&quot; application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#766">[ date ]</a>
              <a href="thread.html#766">[ thread ]</a>
              <a href="subject.html#766">[ subject ]</a>
              <a href="author.html#766">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
