<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] ApiDemo error + debugging problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20ApiDemo%20error%20%2B%20debugging%20problems&In-Reply-To=A6257EE4-A0F7-401E-A1D5-9AA19BF368CD%40xamarin.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006396.html">
   <LINK REL="Next"  HREF="006467.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] ApiDemo error + debugging problems</H1>
    <B>Miljenko Cvjetko</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20ApiDemo%20error%20%2B%20debugging%20problems&In-Reply-To=A6257EE4-A0F7-401E-A1D5-9AA19BF368CD%40xamarin.com"
       TITLE="[mono-android] ApiDemo error + debugging problems">mcvjetko at holisticware.net
       </A><BR>
    <I>Wed Sep 28 08:06:35 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006396.html">[mono-android] ApiDemo error + debugging problems
</A></li>
        <LI>Next message: <A HREF="006467.html">[mono-android] ApiDemo error + debugging problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6463">[ date ]</a>
              <a href="thread.html#6463">[ thread ]</a>
              <a href="subject.html#6463">[ subject ]</a>
              <a href="author.html#6463">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

On 2011.09.23 21:33, Jonathan Pryor wrote:
&gt;<i> On Sep 21, 2011, at 8:55 AM, Miljenko Cvjetko wrote:
</I>&gt;&gt;<i> ApiDemo.cs gets exception on line 84
</I>&gt;&gt;<i> list = list.OrderBy (p =&gt;  (p.ActivityInfo.NonLocalizedLabel == null ? &quot;&quot; : p.ActivityInfo.NonLocalizedLabel.ToString ()).ToString ()).ToList ();
</I>&gt;<i> ...
</I>&gt;&gt;<i> 09-21 12:36:47.620 E/dalvikvm( 519): Excessive JNI global references (2001)
</I>&gt;&gt;<i> 09-21 12:36:47.620 E/dalvikvm( 519): VM aborting
</I>&gt;&gt;<i> 09-21 12:36:47.620 I/mono ( 519): Stacktrace:
</I>&gt;<i> My guess is that you have the Android API Demo installed on your device. :-)
</I>True. After removal everything was ok.
Native API demo was preinstalled in VirtualDevice...
&gt;<i>
</I>&gt;<i> Since Mono's API demo is (mostly) a port of the Android API Demo, it uses the same logic to determine which activitites are &quot;samples&quot; (those with the category Intent.CategorySampleCode). The result is that _lots_ of Activity instances get pulled in (one GREF apiece), and then you look at the ActivityInfo property (another GREF apiece), and then you read the PackageItemInfo.NonLocalizedLabel property (another GREF apiece)...and pretty soon you're looking at a lot of GREFs.
</I>

&gt;<i>
</I>&gt;<i> Unfortunately, if this is the case the answer is &quot;don't do that&quot;: either run on Hardware (where the GREF limit is significantly higher), or uninstall the Android API Demo (so that fewer activities are pulled in), or change the Mono API demo code so that it looks for a different set of activities, e.g. look for a category in addition to Intent.CategorySampleCode.
</I>OK. We have removed it from device, but this leaves few questions opened:

 1. how to add additional category?
    Changing in obj\Debug\android\AndroidManifest.xml
    &lt;category android:name=&quot;android.intent.category.SAMPLE_CODE&quot; /&gt;
      to something else?!?
 2. can this be done in project properties &gt; Android Manifest
    cannot see and find in whole solution anything related to SAMPLE_CODE


thanks + regards

mel
&gt;<i>
</I>&gt;<i>   - Jon
</I>&gt;<i>
</I>

-- 
Miljenko Cvjetko dipl.ing. ET
	Direktor/CEO
	Projektant rje&#353;enja/Solution Architect	
	Razvojni programer/Senior developer
	Voditelj projekta/Project Manager

IX ju&#382;na obala 13
Kajzerica Zagreb
T: 385 1 7775555
M: 385 91 557 447 3
F: 385 1 7779556
e: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>
w: <A HREF="http://www.holisticware.net">http://www.holisticware.net</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20110928/cbbdcc98/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20110928/cbbdcc98/attachment.html</A> 
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006396.html">[mono-android] ApiDemo error + debugging problems
</A></li>
	<LI>Next message: <A HREF="006467.html">[mono-android] ApiDemo error + debugging problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6463">[ date ]</a>
              <a href="thread.html#6463">[ thread ]</a>
              <a href="subject.html#6463">[ subject ]</a>
              <a href="author.html#6463">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
