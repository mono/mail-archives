<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] How to send a custom Data Class to next Activity?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20How%20to%20send%20a%20custom%20Data%20Class%20to%20next%20Activity%3F&In-Reply-To=1316069973763-4805844.post%40n5.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006244.html">
   <LINK REL="Next"  HREF="006250.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] How to send a custom Data Class to next Activity?</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20How%20to%20send%20a%20custom%20Data%20Class%20to%20next%20Activity%3F&In-Reply-To=1316069973763-4805844.post%40n5.nabble.com"
       TITLE="[mono-android] How to send a custom Data Class to next Activity?">jonp at xamarin.com
       </A><BR>
    <I>Thu Sep 15 05:34:11 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006244.html">[mono-android] How to send a custom Data Class to next Activity?
</A></li>
        <LI>Next message: <A HREF="006250.html">[mono-android] How to send a custom Data Class to next Activity?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6248">[ date ]</a>
              <a href="thread.html#6248">[ thread ]</a>
              <a href="subject.html#6248">[ subject ]</a>
              <a href="author.html#6248">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sep 15, 2011, at 2:59 AM, moelski wrote:
&gt;<i> In Activity 1 I tried this: 
</I>&gt;<i>                        var intent = new Intent(this.BaseContext, new HelloTabWidget().Class);
</I>&gt;<i>                        intent.AddFlags(ActivityFlags.NewTask);
</I>&gt;<i> 
</I>&gt;<i>                        Bundle bun = new Bundle();
</I>&gt;<i>                        *bun.PutSerializable(&quot;test&quot;, (BaseData)dat);  *
</I>&gt;<i> 
</I>&gt;<i>                        intent.PutExtras(bun);
</I>&gt;<i>                        StartActivity(intent);
</I>&gt;<i> 
</I>&gt;<i> The bold line won&#180;t work
</I>
PutSerializable() wants a Java.IO.ISerializable, which (1) BaseData doesn't implement, and  (2) you can't currently implement from managed code anyway. (java.io.Serializable requires that you implement private readObject() and writeObject() methods, which you can't currently do in Mono for Android.)

Thus, there are two workarounds:

 1. If Activity2 is in your process, store the BaseData object reference in a global variable somewhere and just read it from Activity2.
 2. If Activity2 isn't in your process (or using globals is &quot;evil&quot;), then serialize BaseData to a string (XML?) and send the string to Activity2.

 - Jon

</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006244.html">[mono-android] How to send a custom Data Class to next Activity?
</A></li>
	<LI>Next message: <A HREF="006250.html">[mono-android] How to send a custom Data Class to next Activity?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6248">[ date ]</a>
              <a href="thread.html#6248">[ thread ]</a>
              <a href="subject.html#6248">[ subject ]</a>
              <a href="author.html#6248">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
