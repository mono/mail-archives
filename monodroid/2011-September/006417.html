<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Github.MonodroidSamples.APIDemo Assets filename casing problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Github.MonodroidSamples.APIDemo%20Assets%20filename%0A%20casing%20problem&In-Reply-To=4E7FA36B.1000100%40holisticware.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006414.html">
   <LINK REL="Next"  HREF="006418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Github.MonodroidSamples.APIDemo Assets filename casing problem</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Github.MonodroidSamples.APIDemo%20Assets%20filename%0A%20casing%20problem&In-Reply-To=4E7FA36B.1000100%40holisticware.net"
       TITLE="[mono-android] Github.MonodroidSamples.APIDemo Assets filename casing problem">atsushieno at veritas-vos-liberabit.com
       </A><BR>
    <I>Mon Sep 26 03:21:06 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006414.html">[mono-android] Github.MonodroidSamples.APIDemo Assets filename casing problem
</A></li>
        <LI>Next message: <A HREF="006418.html">[mono-android] Github.MonodroidSamples.APIDemo Assets filename casing problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6417">[ date ]</a>
              <a href="thread.html#6417">[ thread ]</a>
              <a href="subject.html#6417">[ subject ]</a>
              <a href="author.html#6417">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Are your ApiDemos files on your machine somehow under some
symbolik link directory?

I had been having that issue in my development machine and I
have a fix for me, but it does not always reproduce nor others don't
experience that, and hence left buggy...

(My fix works only for Posix platforms so it's not for you anyways.)

If it's not the case for you, then I have no idea why it happens.

Atsushi Eno

&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> We have worked this weekend too...
</I>&gt;<i>
</I>&gt;<i> Tried to explain layout reuse (like UserControls) and got following 
</I>&gt;<i> exception:
</I>&gt;<i> MonoDroid.Utils.CommandFailedException:
</I>&gt;<i> Operation is not valid due to the current state of the object
</I>&gt;<i> by mandroid.exe
</I>&gt;<i>
</I>&gt;<i> Googled and led us to original post (by us/me) about resources and 
</I>&gt;<i> filename casing in
</I>&gt;<i> monodroid samples.
</I>&gt;<i>
</I>&gt;<i>    1. Selector for pngs
</I>&gt;<i>       There is selector in xml file to select png to display. Probably
</I>&gt;<i>       java code is generated
</I>&gt;<i>       based on this xml.
</I>&gt;<i>       &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</I>&gt;<i>       &lt;selector
</I>&gt;<i>       xmlns:android=&quot;<A HREF="http://schemas.android.com/apk/res/android&quot;">http://schemas.android.com/apk/res/android&quot;</A>
</I>&gt;<i>       &lt;<A HREF="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</A>&gt;&gt;
</I>&gt;<i>       &lt;item android:drawable=&quot;@drawable/androidpressed&quot;
</I>&gt;<i>       android:state_pressed=&quot;true&quot; /&gt;
</I>&gt;<i>       &lt;item android:drawable=&quot;@drawable/android_focused&quot;
</I>&gt;<i>       android:state_focused=&quot;true&quot; /&gt;
</I>&gt;<i>       &lt;item android:drawable=&quot;@drawable/android_normal&quot; /&gt;
</I>&gt;<i>       &lt;/selector&gt;
</I>&gt;<i>       To solve exception AndroidPressed was changed to androidpressed
</I>&gt;<i>    2. xml layout (wrapped in &lt;merge&gt; tag) for reuse.
</I>&gt;<i>       Idea was for hardcore .netters to explain &quot;Simulation&quot; of
</I>&gt;<i>       UserControls
</I>&gt;<i>
</I>&gt;<i>       main layout &lt;let say Form&gt;
</I>&gt;<i>
</I>&gt;<i>       &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</I>&gt;<i>       &lt;LinearLayout
</I>&gt;<i>       xmlns:android=&quot;<A HREF="http://schemas.android.com/apk/res/android&quot;">http://schemas.android.com/apk/res/android&quot;</A>
</I>&gt;<i>       &lt;<A HREF="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</A>&gt;
</I>&gt;<i>       android:orientation=&quot;vertical&quot;
</I>&gt;<i>       android:layout_width=&quot;fill_parent&quot;
</I>&gt;<i>       android:layout_height=&quot;fill_parent&quot;
</I>&gt;<i>       &gt;
</I>&gt;<i>
</I>&gt;<i>       &lt;Button
</I>&gt;<i>       android:id=&quot;@+id/MyButton&quot;
</I>&gt;<i>       android:layout_width=&quot;fill_parent&quot;
</I>&gt;<i>       android:layout_height=&quot;wrap_content&quot;
</I>&gt;<i>       android:text=&quot;@string/Hello&quot;
</I>&gt;<i>       /&gt;
</I>&gt;<i>       &lt;RelativeLayout android:id=&quot;@+id/RelativeLayout03&quot;
</I>&gt;<i>       android:layout_width=&quot;wrap_content&quot;
</I>&gt;<i>       android:layout_height=&quot;wrap_content&quot;
</I>&gt;<i>       android:layout_alignParentBottom=&quot;true&quot;&gt;
</I>&gt;<i>       &lt;include layout=&quot;@layout/usercontroladvertizer&quot; /&gt;
</I>&gt;<i>       &lt;/RelativeLayout&gt;
</I>&gt;<i>       &lt;/LinearLayout&gt;
</I>&gt;<i>
</I>&gt;<i>       And UserControlAdvertizer looked like
</I>&gt;<i>       &lt;merge
</I>&gt;<i>       xmlns:android=&quot;<A HREF="http://schemas.android.com/apk/res/android&quot;">http://schemas.android.com/apk/res/android&quot;</A>
</I>&gt;<i>       &lt;<A HREF="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</A>&gt;&gt;
</I>&gt;<i>       &lt;LinearLayout
</I>&gt;<i>       android:id=&quot;@+id/UserControlAdvertizer&quot;
</I>&gt;<i>       android:layout_width=&quot;fill_parent&quot;
</I>&gt;<i>       android:layout_height=&quot;fill_parent&quot;
</I>&gt;<i>       android:orientation=&quot;vertical&quot;
</I>&gt;<i>       xmlns:android=&quot;<A HREF="http://schemas.android.com/apk/res/android&quot;">http://schemas.android.com/apk/res/android&quot;</A>
</I>&gt;<i>       &lt;<A HREF="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</A>&gt;
</I>&gt;<i>       &gt;
</I>&gt;<i>       &lt;TextView
</I>&gt;<i>       android:id=&quot;@+id/textViewAdvertisement&quot;
</I>&gt;<i>       android:layout_width=&quot;wrap_content&quot;
</I>&gt;<i>       android:layout_height=&quot;wrap_content&quot;
</I>&gt;<i>       android:text=&quot;Add&quot;
</I>&gt;<i>       /&gt;
</I>&gt;<i>
</I>&gt;<i>       &lt;/LinearLayout&gt;
</I>&gt;<i>       &lt;/merge&gt;
</I>&gt;<i>
</I>&gt;<i>       We colud not get rid off exception until filenames in parent
</I>&gt;<i>       control/layout
</I>&gt;<i>       for child layouts/controls were not lowercase
</I>&gt;<i>
</I>&gt;<i> It seems that this exception can be avoided if in parent/master layout 
</I>&gt;<i> ids that are mapped
</I>&gt;<i> to filenames should be lowercase, cos this is probably where 
</I>&gt;<i> java/native-stuff steps in and
</I>&gt;<i> it is mostly done in lowercase...
</I>&gt;<i>
</I>&gt;<i> greetings
</I>&gt;<i>
</I>&gt;<i> mel
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 2011.09.21 10:53, Miljenko Cvjetko wrote:
</I>&gt;&gt;<i> HI
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I know this Asset naming problem is known, just it would be nice to 
</I>&gt;&gt;<i> correct
</I>&gt;&gt;<i> samples on github for those which are not familiar with this issue 
</I>&gt;&gt;<i> and for those
</I>&gt;&gt;<i> to come.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For a purpose of one presentationfor several students, just pulled 
</I>&gt;&gt;<i> src from github
</I>&gt;&gt;<i> yesterday and got error.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Problem:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    1. Select device started, message &quot;Packaging Application&quot;
</I>&gt;&gt;<i>    2. new window &quot;Packaging failed&quot;
</I>&gt;&gt;<i>       Could not create the Android package. See the Output (Build)
</I>&gt;&gt;<i>       window for more details.
</I>&gt;&gt;<i>    3. Output/Build:
</I>&gt;&gt;<i>       C:\Program Files\MSBuild\Novell\mandroid.exe -v --nosign
</I>&gt;&gt;<i>       --sdk-dir=&quot;C:\Program Files\Android\android-sdk-windows&quot;
</I>&gt;&gt;<i>       --builddir=&quot;D:\SRC\MonoDroid\monodroid-samples\ApiDemo\obj\Debug\android&quot;
</I>&gt;&gt;<i>       --framework-dir=&quot;C:\Program Files\Reference
</I>&gt;&gt;<i>       Assemblies\Microsoft\Framework\MonoAndroid\v2.2&quot;
</I>&gt;&gt;<i>       --framework-dir=&quot;C:\Program Files\Reference
</I>&gt;&gt;<i>       Assemblies\Microsoft\Framework\MonoAndroid\v1.0&quot;
</I>&gt;&gt;<i>       -S=&quot;D:\SRC\MonoDroid\monodroid-samples\ApiDemo\obj\Debug\res&quot;
</I>&gt;&gt;<i>       --package=&quot;mono.samples.apidemo&quot; --nolink --abi=&quot;armeabi&quot;
</I>&gt;&gt;<i>       --java-sdk-dir=&quot;C:\Program Files\Java\jdk1.6.0_26&quot; --debug
</I>&gt;&gt;<i>       --manifest-template=&quot;D:\SRC\MonoDroid\monodroid-samples\ApiDemo\Properties\AndroidManifest.xml&quot;
</I>&gt;&gt;<i>       --sdk-platform=&quot;8&quot;
</I>&gt;&gt;<i>       -A=&quot;D:\SRC\MonoDroid\monodroid-samples\ApiDemo\obj\Debug\assets&quot; &quot;D:\SRC\MonoDroid\monodroid-samples\ApiDemo\bin\Debug\MonoDroid.ApiDemo.dll&quot;
</I>&gt;&gt;<i>       &quot;C:\Program Files\Reference
</I>&gt;&gt;<i>       Assemblies\Microsoft\Framework\MonoAndroid\v2.2\Mono.Android.dll&quot;
</I>&gt;&gt;<i>       &quot;C:\Program Files\Reference
</I>&gt;&gt;<i>       Assemblies\Microsoft\Framework\MonoAndroid\v1.0\mscorlib.dll&quot;
</I>&gt;&gt;<i>       &quot;C:\Program Files\Reference
</I>&gt;&gt;<i>       Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Core.dll&quot; &quot;C:\Program
</I>&gt;&gt;<i>       Files\Reference
</I>&gt;&gt;<i>       Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.dll&quot;
</I>&gt;&gt;<i>       &quot;C:\Program Files\Reference
</I>&gt;&gt;<i>       Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Xml.dll&quot;
</I>&gt;&gt;<i>       &quot;C:\Program Files\Reference
</I>&gt;&gt;<i>       Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Xml.Linq.dll&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>       MonoDroid.Utils.CommandFailedException: Operation is not valid
</I>&gt;&gt;<i>       due to the current state of the object
</I>&gt;&gt;<i>       at
</I>&gt;&gt;<i>       MonoDroid.Utils.ProcessRocks+&lt;ReadStandardOutput&gt;c__Iterator6.MoveNext
</I>&gt;&gt;<i>       () [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;&gt;<i>       at Monodroid.Toolbox.InvokeCommand (IEnumerable`1 commandLine)
</I>&gt;&gt;<i>       [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;&gt;<i>       at Monodroid.Toolbox.InvokeAapt (System.String packageName)
</I>&gt;&gt;<i>       [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;&gt;<i>       at Monodroid.Droidinator.CreatePackagedResources
</I>&gt;&gt;<i>       (System.Collections.Generic.List`1 javaTypes) [0x00000] in
</I>&gt;&gt;<i>       &lt;filename unknown&gt;:0
</I>&gt;&gt;<i>       at Monodroid.Droidinator.CreateApk () [0x00000] in &lt;filename
</I>&gt;&gt;<i>       unknown&gt;:0
</I>&gt;&gt;<i>       at Monodroid.MainClass.Main (System.String[] argv) [0x00000] in
</I>&gt;&gt;<i>       &lt;filename unknown&gt;:0
</I>&gt;&gt;<i>       D:\SRC\MonoDroid\monodroid-samples\ApiDemo\Resources\drawable\android_button.xml(4):
</I>&gt;&gt;<i>       error 1: No resource found that matches the given name (at
</I>&gt;&gt;<i>       'drawable' with value '@drawable/AndroidPressed').
</I>&gt;&gt;<i>       [D:\SRC\MonoDroid\monodroid-samples\ApiDemo\ApiDemo.csproj]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>       Done Building Project
</I>&gt;&gt;<i>       &quot;D:\SRC\MonoDroid\monodroid-samples\ApiDemo\ApiDemo.csproj&quot;
</I>&gt;&gt;<i>       (SignAndroidPackage target(s)) -- FAILED.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>       Build FAILED.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Solution:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    1. in
</I>&gt;&gt;<i>       D:\SRC\MonoDroid\monodroid-samples\ApiDemo\Resources\drawable\android_button.xml
</I>&gt;&gt;<i>       changed:
</I>&gt;&gt;<i>       &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</I>&gt;&gt;<i>       &lt;selector
</I>&gt;&gt;<i>       xmlns:android=&quot;<A HREF="http://schemas.android.com/apk/res/android&quot;">http://schemas.android.com/apk/res/android&quot;</A>
</I>&gt;&gt;<i>       &lt;<A HREF="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</A>&gt;&gt;
</I>&gt;&gt;<i>       &lt;item android:drawable=&quot;@drawable/AndroidPressed&quot;
</I>&gt;&gt;<i>       android:state_pressed=&quot;true&quot; /&gt;
</I>&gt;&gt;<i>       &lt;item android:drawable=&quot;@drawable/android_focused&quot;
</I>&gt;&gt;<i>       android:state_focused=&quot;true&quot; /&gt;
</I>&gt;&gt;<i>       &lt;item android:drawable=&quot;@drawable/android_normal&quot; /&gt;
</I>&gt;&gt;<i>       &lt;/selector&gt;
</I>&gt;&gt;<i>       to:
</I>&gt;&gt;<i>       &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</I>&gt;&gt;<i>       &lt;selector
</I>&gt;&gt;<i>       xmlns:android=&quot;<A HREF="http://schemas.android.com/apk/res/android&quot;">http://schemas.android.com/apk/res/android&quot;</A>
</I>&gt;&gt;<i>       &lt;<A HREF="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</A>&gt;&gt;
</I>&gt;&gt;<i>       &lt;item android:drawable=&quot;@drawable/androidpressed&quot;
</I>&gt;&gt;<i>       android:state_pressed=&quot;true&quot; /&gt;
</I>&gt;&gt;<i>       &lt;item android:drawable=&quot;@drawable/android_focused&quot;
</I>&gt;&gt;<i>       android:state_focused=&quot;true&quot; /&gt;
</I>&gt;&gt;<i>       &lt;item android:drawable=&quot;@drawable/android_normal&quot; /&gt;
</I>&gt;&gt;<i>       &lt;/selector&gt;
</I>&gt;&gt;<i>    2. renamed/moved:
</I>&gt;&gt;<i>       D:\SRC\MonoDroid\monodroid-samples\ApiDemo\Resources\drawable\AndroidPressed.png
</I>&gt;&gt;<i>       to
</I>&gt;&gt;<i>       D:\SRC\MonoDroid\monodroid-samples\ApiDemo\Resources\drawable\androidpressed.png
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> regards
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> mel
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- 
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Miljenko Cvjetko dipl.ing. ET
</I>&gt;<i> 	Direktor/CEO
</I>&gt;<i> 	Projektant rje&#353;enja/Solution Architect	
</I>&gt;<i> 	Razvojni programer/Senior developer
</I>&gt;<i> 	Voditelj projekta/Project Manager
</I>&gt;<i>
</I>&gt;<i> IX ju&#382;na obala 13
</I>&gt;<i> Kajzerica Zagreb
</I>&gt;<i> T: 385 1 7775555
</I>&gt;<i> M: 385 91 557 447 3
</I>&gt;<i> F: 385 1 7779556
</I>&gt;<i> e:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>  &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>&gt;
</I>&gt;<i> w:<A HREF="http://www.holisticware.net">http://www.holisticware.net</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006414.html">[mono-android] Github.MonodroidSamples.APIDemo Assets filename casing problem
</A></li>
	<LI>Next message: <A HREF="006418.html">[mono-android] Github.MonodroidSamples.APIDemo Assets filename casing problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6417">[ date ]</a>
              <a href="thread.html#6417">[ thread ]</a>
              <a href="subject.html#6417">[ subject ]</a>
              <a href="author.html#6417">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
