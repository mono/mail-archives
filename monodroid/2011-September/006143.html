<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Setting SetOnKeyListener on EditText
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Setting%20SetOnKeyListener%20on%20EditText&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006302.html">
   <LINK REL="Next"  HREF="006163.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Setting SetOnKeyListener on EditText</H1>
    <B>Nilesh</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Setting%20SetOnKeyListener%20on%20EditText&In-Reply-To="
       TITLE="[mono-android] Setting SetOnKeyListener on EditText">opensource.nilesh at gmail.com
       </A><BR>
    <I>Wed Sep  7 08:17:02 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006302.html">[mono-android] &quot;Failed to get device space on disk&quot; with	android emulator
</A></li>
        <LI>Next message: <A HREF="006163.html">[mono-android] Setting SetOnKeyListener on EditText
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6143">[ date ]</a>
              <a href="thread.html#6143">[ thread ]</a>
              <a href="subject.html#6143">[ subject ]</a>
              <a href="author.html#6143">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I wanted to set the SetOnKeyListener on EditText field. 

To do this, I got various samples in java.

I have followed below steps to achieve this functionality.
1) Retrived the EditText field from layout as below
         EditText txtSearch = FindViewById&lt;EditText
&gt;<i>(Resource.Id.txtSearch);
</I>
2) As the SetOnKeyListener requires View.IOnKeyListener.OnKey, I have
created a another class which implements the OnKey method of the
View.IOnKeyListener interface as below.
    public class clsKeyListner : View.IOnKeyListener
    {
        #region IOnKeyListener Members

        public bool isEnterKeyPressed = false;

        bool View.IOnKeyListener.OnKey(View v, int keyCode, KeyEvent e)
        {
            //66 is the code for Enter key
            if (e.Action == KeyEventActions.Down &amp;&amp; keyCode == 66)
            {
                isEnterKeyPressed = true;
                return true;
            }

            return false;
            //throw new NotImplementedException();
        }

        #endregion

        #region IJavaObject Members

        IntPtr IJavaObject.Handle
        {
            get { throw new NotImplementedException(); }
        }

        #endregion
    }

3) Then created the instance of above class and tried to set the listener to
the EditText field.
          clsKeyListner objclsKeyListner = new clsKeyListner();
          edtPharmacyAddress.SetOnKeyListener(objclsKeyListner);
          
The above code works fine but I want to call web service when user clicks on
&quot;Enter&quot; key on virtual keyboard and once I receive the response from web
service, I want to set it to the List. but I am unable to do it as I am
calling the web service in the second class and how to set that response in
the layout which is present in the first activity class.

Please help me with your suggestions/ code samples. It will be great if we
can set listener and call web service in the same class so that we can
assign the response to the list.

Thanks,
Nilesh

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Setting-SetOnKeyListener-on-EditText-tp4778312p4778312.html">http://mono-for-android.1047100.n5.nabble.com/Setting-SetOnKeyListener-on-EditText-tp4778312p4778312.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006302.html">[mono-android] &quot;Failed to get device space on disk&quot; with	android emulator
</A></li>
	<LI>Next message: <A HREF="006163.html">[mono-android] Setting SetOnKeyListener on EditText
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6143">[ date ]</a>
              <a href="thread.html#6143">[ thread ]</a>
              <a href="subject.html#6143">[ subject ]</a>
              <a href="author.html#6143">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
