<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Reproduce audio file (mp3)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Reproduce%20audio%20file%20%28mp3%29&In-Reply-To=%3CD743F0AE-0B79-4C7C-AD3E-565540F74DBB%40xamarin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012894.html">
   <LINK REL="Next"  HREF="012910.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Reproduce audio file (mp3)</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Reproduce%20audio%20file%20%28mp3%29&In-Reply-To=%3CD743F0AE-0B79-4C7C-AD3E-565540F74DBB%40xamarin.com%3E"
       TITLE="[mono-android] Reproduce audio file (mp3)">jonp at xamarin.com
       </A><BR>
    <I>Mon Nov 19 20:30:14 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="012894.html">[mono-android] Reproduce audio file (mp3)
</A></li>
        <LI>Next message: <A HREF="012910.html">[mono-android] Reproduce audio file (mp3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12897">[ date ]</a>
              <a href="thread.html#12897">[ thread ]</a>
              <a href="subject.html#12897">[ subject ]</a>
              <a href="author.html#12897">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you for providing a copy of your project.

On Nov 16, 2012, at 1:58 PM, Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jonp at xamarin.com</A>&gt; wrote:
&gt;<i> On Nov 16, 2012, at 1:41 PM, JM_SH &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">juanmanuelsanchezh at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> and I have errors in both (an exception Java.IO.IOException).
</I>&gt;<i> 
</I>&gt;<i> What's the full stack trace of the exception?
</I>
	I/MonoDroid( 9239): UNHANDLED EXCEPTION: Java.IO.FileNotFoundException: Exception of type 'Java.IO.FileNotFoundException' was thrown.
	...
	I/MonoDroid( 9239): java.io.FileNotFoundException: /PruebaAudio2/PruebaAudio2/Resources/Raw/disparo.mp3: open failed: ENOENT (No such file or directory)

The problem is that the file /PruebaAudio2/PruebaAudio2/Resources/Raw/disparo.mp3 doesn't exist. You need to use filesystem paths which relative to your application's directory; your app is not installed into the root folder.

Furthermore, Android Resources are _not_ extracted from the .apk during installation, so your diasporo.mp3 file isn't accessible as a file anyway. You need to access Android Resources through their Resource IDs, as suggested earlier in the thread. Also of note is the state diagram [0]. MediaPlayer.create() places the MediaPlayer into the Prepared state, and (as per the docs) Prepare() should not be called again. Since we can't call Prepare() again, we can't call Stop() either (as the only way to get back to a Started state from Stopped is through Prepare()), so we can either re-create MediaPlayer instances, or use Pause() and SeekTo(), as is done here:

        public void strtPlayer()
        {
            try
            {
                if (player == null)
                {
                    player = MediaPlayer.Create (this, Resource.Raw.disparo);
                }
                else
                {
                    player.Pause ();
                    player.SeekTo (0);
                }

                player.Start();
            }
            catch (Exception ex)
            {
                Console.WriteLine (&quot;Error! {0}&quot;, ex);
            }
        }

 - Jon

[0]: <A HREF="http://developer.android.com/reference/android/media/MediaPlayer.html">http://developer.android.com/reference/android/media/MediaPlayer.html</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012894.html">[mono-android] Reproduce audio file (mp3)
</A></li>
	<LI>Next message: <A HREF="012910.html">[mono-android] Reproduce audio file (mp3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12897">[ date ]</a>
              <a href="thread.html#12897">[ thread ]</a>
              <a href="subject.html#12897">[ subject ]</a>
              <a href="author.html#12897">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
