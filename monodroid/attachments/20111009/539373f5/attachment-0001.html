<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Thanks&nbsp;for&nbsp;your&nbsp;help&nbsp;again,&nbsp;Jon.&nbsp;It&nbsp;is&nbsp;working&nbsp;great.&lt;br&gt;<br>
The&nbsp;bluetooth&nbsp;info&nbsp;seems&nbsp;to&nbsp;be&nbsp;incomplete&nbsp;from&nbsp;Android.&lt;br&gt;<br>
Regards&lt;br&gt;<br>
PedroC&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Jonathan&nbsp;Pryor&nbsp;wrote:<br>
&lt;blockquote&nbsp;cite=&quot;mid94AF90F8-503B-4F68-80B6-B5D95D13956C@xamarin.com&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;On&nbsp;Oct&nbsp;7,&nbsp;2011,&nbsp;at&nbsp;7:38&nbsp;PM,&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:gbelo@iol.pt&quot;&gt;gbelo@iol.pt&lt;/a&gt;&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;I'm&nbsp;trying&nbsp;to&nbsp;create&nbsp;a&nbsp;Bluetooth&nbsp;&nbsp;socket&nbsp;using&nbsp;'createRFcommSocketToServiceRecord'&nbsp;with&nbsp;some&nbsp;problems.&nbsp;Now,&nbsp;I've&nbsp;read&nbsp;that&nbsp;&nbsp;the&nbsp;createRFcommSocketToServiceRecord&nbsp;method&nbsp;is&nbsp;not&nbsp;working&nbsp;in&nbsp;Android&nbsp;2.1/2.2.&nbsp;The&nbsp;workaround&nbsp;I&nbsp;saw&nbsp;is&nbsp;the&nbsp;following&nbsp;Android&nbsp;code&nbsp;but&nbsp;I&nbsp;don't&nbsp;know&nbsp;how&nbsp;to&nbsp;adapt&nbsp;to&nbsp;Monodroid:&nbsp;<br>
<br>
BluetoothDevice&nbsp;device;<br>
Method&nbsp;m&nbsp;=&nbsp;device.getClass().getMethod(&quot;createRfcommSocket&quot;,&nbsp;new&nbsp;Class[]{int.class});<br>
BluetoothSocket&nbsp;tmp&nbsp;=&nbsp;(BluetoothSocket)m.invoke(device,&nbsp;Integer.valueOf(1));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
This&nbsp;is&nbsp;using&nbsp;Java&nbsp;Reflection,&nbsp;which&nbsp;we&nbsp;don't&nbsp;expose.&nbsp;However,&nbsp;we&nbsp;do&nbsp;expose&nbsp;JNI&nbsp;[0],&nbsp;which&nbsp;allows&nbsp;the&nbsp;same&nbsp;functionality&nbsp;with&nbsp;a&nbsp;different&nbsp;syntax:<br>
<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspIntPtr&nbsp;createRfcommSocket&nbsp;=&nbsp;JNIEnv.GetMethodID(<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdevice.Class.Handle,<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&quot;createRfcommSocket&quot;,<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&quot;(I)Landroid/bluetooth/BluetoothSocket;&quot;);<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspIntPtr&nbsp;socket&nbsp;=&nbsp;JNIEnv.CallObjectMethod(<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdevice.Handle,<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcreateRfcommSocket,<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspnew&nbsp;JValue&nbsp;(1));<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp//&nbsp;`socket`&nbsp;now&nbsp;holds&nbsp;a&nbsp;BluetoothSocket&nbsp;instance;&nbsp;do&nbsp;something&nbsp;with&nbsp;it...<br>
<br>
&nbsp;-&nbsp;Jon<br>
<br>
[0]&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://docs.mono-android.net/index.aspx?link=T%3aAndroid.Runtime.JNIEnv&quot;&gt;http://docs.mono-android.net/index.aspx?link=T%3aAndroid.Runtime.JNIEnv&lt;/a&gt;<br>
<br>
_______________________________________________<br>
Monodroid&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:Monodroid@lists.ximian.com&quot;&gt;Monodroid@lists.ximian.com&lt;/a&gt;<br>
<br>
UNSUBSCRIBE&nbsp;INFORMATION:<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monodroid&quot;&gt;http://lists.ximian.com/mailman/listinfo/monodroid&lt;/a&gt;<br>
<br>
<br>
---<br>
avast!&nbsp;Antivirus:&nbsp;Inbound&nbsp;message&nbsp;clean.<br>
Virus&nbsp;Database&nbsp;(VPS):&nbsp;111003-0,&nbsp;03-10-2011<br>
Tested&nbsp;on:&nbsp;08-10-2011&nbsp;17:54:04<br>
avast!&nbsp;-&nbsp;copyright&nbsp;(c)&nbsp;1988-2011&nbsp;AVAST&nbsp;Software.<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.avast.com&quot;&gt;http://www.avast.com&lt;/a&gt;<br>
<br>
<br>
<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
