<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;Hello,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;having&nbsp;a&nbsp;bit&nbsp;of&nbsp;trouble&nbsp;on&nbsp;assembling&nbsp;all&nbsp;this,&nbsp;so&nbsp;maybe&nbsp;you&nbsp;can&nbsp;throw&nbsp;me&nbsp;some&nbsp;pointers&nbsp;on&nbsp;what&nbsp;I&nbsp;might&nbsp;be&nbsp;doing&nbsp;wrong.&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;third-party&nbsp;library&nbsp;(.so&nbsp;file)&nbsp;that&nbsp;I&nbsp;want&nbsp;to&nbsp;use&nbsp;in&nbsp;my&nbsp;application.&nbsp;This&nbsp;third-party&nbsp;library&nbsp;comes&nbsp;with&nbsp;a&nbsp;java&nbsp;source&nbsp;file&nbsp;(there&#39;s&nbsp;also&nbsp;a&nbsp;C&nbsp;header&nbsp;file&nbsp;version)&nbsp;with&nbsp;a&nbsp;bunch&nbsp;of&nbsp;native&nbsp;methods&nbsp;to&nbsp;access&nbsp;the&nbsp;library.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So,&nbsp;here&#39;s&nbsp;what&nbsp;I&nbsp;did&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;Added&nbsp;the&nbsp;.so&nbsp;library&nbsp;to&nbsp;the&nbsp;project&nbsp;under&nbsp;/NativeLibraries/armeabi/libsdk.so&lt;/div&gt;&lt;div&gt;2.&nbsp;Set&nbsp;the&nbsp;library&#39;s&nbsp;build&nbsp;action&nbsp;to&nbsp;AndroidNativeLibrary&lt;/div&gt;<br>
<br>
&lt;div&gt;3.&nbsp;Added&nbsp;the&nbsp;java&nbsp;source&nbsp;file&nbsp;under&nbsp;/JavaSources/libmsg.java&lt;/div&gt;&lt;div&gt;4.&nbsp;Set&nbsp;the&nbsp;file&#39;s&nbsp;build&nbsp;action&nbsp;to&nbsp;AndroidJavaSource&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;these&nbsp;steps,&nbsp;I&nbsp;created&nbsp;a&nbsp;static&nbsp;helper&nbsp;class&nbsp;to&nbsp;access&nbsp;the&nbsp;java&nbsp;source&nbsp;file&nbsp;with&nbsp;JNI&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp;public&nbsp;static&nbsp;class&nbsp;LibAPI&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;private&nbsp;static&nbsp;IntPtr&nbsp;_Class&nbsp;=&nbsp;JNIEnv.FindClass(&nbsp;&quot;com/alk/sdk/AlkMsg&quot;&nbsp;);&lt;/div&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;[...]&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;public&nbsp;static&nbsp;int&nbsp;HasStarted()&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;IntPtr&nbsp;methodId&nbsp;=&nbsp;JNIEnv.GetStaticMethodID(&nbsp;_Class,&nbsp;&quot;Msg_HasStarted&quot;,&nbsp;&quot;()I&quot;&nbsp;);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return&nbsp;(&nbsp;JNIEnv.CallStaticIntMethod(&nbsp;jClass,&nbsp;methodId&nbsp;)&nbsp;);&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;[...]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;java&nbsp;source&nbsp;file&nbsp;goes&nbsp;by&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;package&nbsp;com.alk.sdk;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;public&nbsp;class&nbsp;AlkMsg&nbsp;{&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;[...]&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp;public&nbsp;static&nbsp;native&nbsp;int&nbsp;Msg_HasStarted();&lt;/div&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;[...]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;compile&nbsp;the&nbsp;whole&nbsp;thing,&nbsp;deploy&nbsp;to&nbsp;device&nbsp;and&nbsp;start&nbsp;debugging.&nbsp;When&nbsp;I&nbsp;click&nbsp;the&nbsp;button&nbsp;that&nbsp;calls&nbsp;the&nbsp;LibAPI.HasStarted()&nbsp;I&nbsp;get&nbsp;an Java.Lang.UnsatisfiedLinkError.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;am&nbsp;I&nbsp;doing&nbsp;wrong&nbsp;here?&nbsp;At&nbsp;first&nbsp;I&nbsp;thought&nbsp;that&nbsp;there&nbsp;could&nbsp;be&nbsp;something&nbsp;wrong&nbsp;with&nbsp;the&nbsp;.so&nbsp;file&nbsp;because&nbsp;it&#39;s&nbsp;larger&nbsp;than&nbsp;1&nbsp;mb,&nbsp;but&nbsp;apparently&nbsp;that&nbsp;is&nbsp;not&nbsp;an&nbsp;issue&nbsp;for&nbsp;.so&nbsp;files,&nbsp;only&nbsp;assets.&lt;/div&gt;<br>
<br>
&lt;div&gt;Should&nbsp;I&nbsp;consider&nbsp;&quot;P/Invoking&quot;&nbsp;the&nbsp;whole&nbsp;thing&nbsp;and&nbsp;drop&nbsp;the&nbsp;java&nbsp;source?&lt;/div&gt;&lt;div&gt;I&nbsp;look&nbsp;forward&nbsp;to&nbsp;hear&nbsp;your&nbsp;thoughts&nbsp;on&nbsp;this,&nbsp;maybe&nbsp;you&nbsp;can&nbsp;throw&nbsp;me&nbsp;some&nbsp;pointers,&nbsp;as&nbsp;I&#39;m&nbsp;a&nbsp;bit&nbsp;lost&nbsp;at&nbsp;the&nbsp;moment.&lt;/div&gt;<br>
<br>
&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;Gonçalo&nbsp;Oliveira&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
