<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Jon,&nbsp;thank&nbsp;you&nbsp;very&nbsp;much&nbsp;for&nbsp;your&nbsp;solution&nbsp;that&nbsp;is&nbsp;working&nbsp;fine.&lt;br&gt;<br>
PedroC&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Jonathan&nbsp;Pryor&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;cite=&quot;mid8BB57F27-AF2F-4F22-A9D7-3CF8FE2D677B@xamarin.com&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;On&nbsp;Oct&nbsp;7,&nbsp;2011,&nbsp;at&nbsp;1:10&nbsp;PM,&nbsp;G.B.&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;As&nbsp;Monodroid&nbsp;has&nbsp;not&nbsp;implemented&nbsp;that&nbsp;method,&nbsp;I&nbsp;found&nbsp;in&nbsp;the&nbsp;Forum,&nbsp;a&nbsp;similar&nbsp;problem&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;&nbsp;NetworkInfo.&nbsp;Trying&nbsp;to&nbsp;do&nbsp;the&nbsp;same&nbsp;I&nbsp;end&nbsp;up&nbsp;with:&nbsp;<br>
<br>
IntPtr&nbsp;getParcelableExtra&nbsp;=&nbsp;JNIEnv.GetMethodID(intent.Class.Handle,&nbsp;&quot;getParcelableExtra&quot;,&nbsp;&quot;(Ljava/lang/String;)Landroid/os/Parcelable;&quot;);&nbsp;<br>
IntPtr&nbsp;_ni&nbsp;=&nbsp;JNIEnv.CallObjectMethod(intent.Handle,&nbsp;getParcelableExtra,&nbsp;new&nbsp;JValue(new&nbsp;Java.Lang.String(BluetoothDevice.ExtraDevice)));&nbsp;<br>
BluetoothDevice&nbsp;device&nbsp;=&nbsp;new&nbsp;BluetoothDevice(_ni);&nbsp;<br>
<br>
But&nbsp;the&nbsp;last&nbsp;method&nbsp;has&nbsp;no&nbsp;IntPtr&nbsp;parameter&nbsp;(_ni)&nbsp;to&nbsp;use....&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
The&nbsp;solution&nbsp;is&nbsp;to&nbsp;use&nbsp;the&nbsp;JavaCast&amp;lt;T&amp;gt;()[0]&nbsp;extension&nbsp;method:<br>
<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspvar&nbsp;device&nbsp;=&nbsp;new&nbsp;Java.Lang.Object(_ni).JavaCast&amp;lt;BluetoothDevice&amp;gt;();<br>
<br>
The&nbsp;reason&nbsp;we&nbsp;do&nbsp;it&nbsp;that&nbsp;way&nbsp;is&nbsp;because&nbsp;people&nbsp;wanted&nbsp;to&nbsp;create&nbsp;an&nbsp;instance&nbsp;of&nbsp;a&nbsp;type,&nbsp;saw&nbsp;the&nbsp;(IntPtr)&nbsp;constructor,&nbsp;and&nbsp;would&nbsp;do&nbsp;&quot;silly&quot;&nbsp;things&nbsp;such&nbsp;as:<br>
<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspvar&nbsp;v&nbsp;=&nbsp;new&nbsp;BluetoothDevice&nbsp;(IntPtr.Zero);<br>
<br>
then&nbsp;ask&nbsp;why&nbsp;they&nbsp;were&nbsp;getting&nbsp;java.lang.NullPointerExceptions&nbsp;when&nbsp;they&nbsp;used&nbsp;`v`.&nbsp;To&nbsp;avoid&nbsp;this&nbsp;scenario,&nbsp;we&nbsp;hide&nbsp;the&nbsp;(IntPtr)&nbsp;constructor&nbsp;on&nbsp;sealed/etc.&nbsp;types.<br>
<br>
&nbsp;-&nbsp;Jon<br>
<br>
[0]&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://docs.mono-android.net/index.aspx?link=M%3aAndroid.Runtime.Extensions.JavaCast&quot;&gt;http://docs.mono-android.net/index.aspx?link=M%3aAndroid.Runtime.Extensions.JavaCast&lt;/a&gt;``1(Android.Runtime.IJavaObject)<br>
<br>
_______________________________________________<br>
Monodroid&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:Monodroid@lists.ximian.com&quot;&gt;Monodroid@lists.ximian.com&lt;/a&gt;<br>
<br>
UNSUBSCRIBE&nbsp;INFORMATION:<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monodroid&quot;&gt;http://lists.ximian.com/mailman/listinfo/monodroid&lt;/a&gt;<br>
<br>
<br>
---<br>
avast!&nbsp;Antivirus:&nbsp;Inbound&nbsp;message&nbsp;clean.<br>
Virus&nbsp;Database&nbsp;(VPS):&nbsp;111003-0,&nbsp;03-10-2011<br>
Tested&nbsp;on:&nbsp;07-10-2011&nbsp;18:23:34<br>
avast!&nbsp;-&nbsp;copyright&nbsp;(c)&nbsp;1988-2011&nbsp;AVAST&nbsp;Software.<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.avast.com&quot;&gt;http://www.avast.com&lt;/a&gt;<br>
<br>
<br>
<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
