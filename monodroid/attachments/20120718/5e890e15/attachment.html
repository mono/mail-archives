<tt>
Ooh&nbsp;that&nbsp;is&nbsp;a&nbsp;good&nbsp;point!&nbsp;My&nbsp;application&nbsp;is&nbsp;for&nbsp;now&nbsp;only&nbsp;drawing&nbsp;on&nbsp;the&nbsp;Canvas&nbsp;but&nbsp;all&nbsp;the&nbsp;pre-processing&nbsp;of&nbsp;the&nbsp;shapes&nbsp;etc&nbsp;is&nbsp;done&nbsp;on&nbsp;the&nbsp;same&nbsp;thread.&nbsp;Even&nbsp;though&nbsp;it&nbsp;always&nbsp;has&nbsp;been&nbsp;in&nbsp;the&nbsp;plan&nbsp;to&nbsp;separate&nbsp;everything&nbsp;in&nbsp;correct&nbsp;threads,&nbsp;it&#39;s&nbsp;still&nbsp;to&nbsp;be&nbsp;done.&nbsp;That&nbsp;could&nbsp;be&nbsp;enough&nbsp;to&nbsp;solve&nbsp;our&nbsp;current&nbsp;slowness we&nbsp;have (250ms&nbsp;for&nbsp;a&nbsp;drawing,&nbsp;some&nbsp;path&nbsp;to&nbsp;draw&nbsp;and&nbsp;fill).&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;hint!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Jul&nbsp;17,&nbsp;2012&nbsp;at&nbsp;10:38&nbsp;PM,&nbsp;Tossing,&nbsp;Chris&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:chris.tossing@usa.g4s.com&quot;&nbsp;target=&quot;_blank&quot;&gt;chris.tossing@usa.g4s.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;We&nbsp;don&#39;t&nbsp;use&nbsp;a&nbsp;profiler&nbsp;with&nbsp;M4A,&nbsp;so&nbsp;I&nbsp;don&#39;t&nbsp;have&nbsp;one&nbsp;to&nbsp;suggest,&nbsp;but&nbsp;performance&nbsp;problems&nbsp;can&nbsp;many&nbsp;times&nbsp;be&nbsp;due&nbsp;to&nbsp;performing&nbsp;CPU-intensive&nbsp;operations&nbsp;on&nbsp;the&nbsp;UI&nbsp;thread.&nbsp; If&nbsp;you&nbsp;are&nbsp;doing&nbsp;that,&nbsp;I&nbsp;strongly&nbsp;suggest&nbsp;you&nbsp;don&#39;t.&nbsp; Any&nbsp;kind&nbsp;of&nbsp;complex&nbsp;calculation&nbsp;or&nbsp;database&nbsp;access&nbsp;should&nbsp;be&nbsp;done&nbsp;using&nbsp;a&nbsp;background&nbsp;thread&nbsp;-&nbsp;a&nbsp;mechanism&nbsp;such&nbsp;as&nbsp;ThreadPool.QueueUserWorkItem(...)&nbsp;works&nbsp;well&nbsp;for&nbsp;us.&nbsp; &lt;a&nbsp;href=&quot;http://msdn.microsoft.com/en-us/library/system.threading.threadpool.queueuserworkitem.aspx&quot;&nbsp;target=&quot;_blank&quot;&gt;http://msdn.microsoft.com/en-us/library/system.threading.threadpool.queueuserworkitem.aspx&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
One&nbsp;important&nbsp;gotcha&nbsp;is&nbsp;that&nbsp;you&nbsp;need&nbsp;to&nbsp;call&nbsp;Context.RunOnUiThread(...)&nbsp;when&nbsp;updating&nbsp;the&nbsp;UI&nbsp;from&nbsp;the&nbsp;background&nbsp;thread.&lt;br&gt;<br>
&lt;br&gt;<br>
Chris&nbsp;Tossing&lt;br&gt;<br>
Software&nbsp;Engineer&lt;br&gt;<br>
G4S&nbsp;Technology&nbsp;Software&nbsp;Solutions&nbsp;LLC&lt;br&gt;<br>
Direct&nbsp;Dial:&nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;tel:%2B1%20%28781%29%20457-0779&quot;&nbsp;value=&quot;+17814570779&quot;&gt;+1&nbsp;(781)&nbsp;457-0779&lt;/a&gt;&lt;br&gt;<br>
Cell:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;tel:%2B1%20%28847%29%20942-0359&quot;&nbsp;value=&quot;+18479420359&quot;&gt;+1&nbsp;(847)&nbsp;942-0359&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:chris.tossing@usa.g4s.com&quot;&gt;chris.tossing@usa.g4s.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.1f.com&quot;&nbsp;target=&quot;_blank&quot;&gt;www.1f.com&lt;/a&gt;&lt;br&gt;<br>
21&nbsp;North&nbsp;Avenue,&nbsp;Burlington,&nbsp;Massachusetts&nbsp;01803&nbsp;USA&lt;br&gt;<br>
&lt;br&gt;<br>
Please&nbsp;consider&nbsp;the&nbsp;environment&nbsp;before&nbsp;printing&nbsp;this&nbsp;email&lt;br&gt;<br>
&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
-----Original&nbsp;Message-----&lt;br&gt;<br>
From:&nbsp;&lt;a&nbsp;href=&quot;mailto:monodroid-bounces@lists.ximian.com&quot;&gt;monodroid-bounces@lists.ximian.com&lt;/a&gt;&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:monodroid-bounces@lists.ximian.com&quot;&gt;monodroid-bounces@lists.ximian.com&lt;/a&gt;]&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;gpe&lt;br&gt;<br>
Sent:&nbsp;Tuesday,&nbsp;July&nbsp;17,&nbsp;2012&nbsp;10:45&nbsp;AM&lt;br&gt;<br>
To:&nbsp;&lt;a&nbsp;href=&quot;mailto:monodroid@lists.ximian.com&quot;&gt;monodroid@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
Subject:&nbsp;[mono-android]&nbsp;Profiling&nbsp;application&lt;br&gt;<br>
&lt;br&gt;<br>
Hello,&lt;br&gt;<br>
I&nbsp;have&nbsp;never&nbsp;done&nbsp;any&nbsp;extensive&nbsp;profiling&nbsp;(performance&nbsp;analysis)&nbsp;work&nbsp;and&lt;br&gt;<br>
still&nbsp;don&#39;t&nbsp;really&nbsp;need&nbsp;it&nbsp;actually.&nbsp;But&nbsp;as&nbsp;my&nbsp;application&nbsp;is&nbsp;running&nbsp;too&lt;br&gt;<br>
slowly&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;spot&nbsp;the&nbsp;caveats&nbsp;of&nbsp;my&nbsp;code.&nbsp;It&nbsp;could&nbsp;be&nbsp;as&nbsp;well&nbsp;be&nbsp;a&lt;br&gt;<br>
problem&nbsp;of&nbsp;memory&nbsp;as&nbsp;processor&nbsp;usage.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;Visual&nbsp;Studio&nbsp;(2010)&nbsp;I&nbsp;saw&nbsp;this&nbsp;menu&nbsp;called&nbsp;&quot;Analyze&quot;&nbsp;which&nbsp;allow&nbsp;to&lt;br&gt;<br>
trace&nbsp;memory&nbsp;allocations&nbsp;and&nbsp;processor&nbsp;time.&nbsp;This&nbsp;is&nbsp;really&nbsp;nice&nbsp;but&nbsp;I&nbsp;do&lt;br&gt;<br>
not&nbsp;see&nbsp;any&nbsp;way&nbsp;to&nbsp;make&nbsp;it&nbsp;work&nbsp;with&nbsp;Monodroid.&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Android&nbsp;it&nbsp;seems&nbsp;like&nbsp;I&nbsp;should&nbsp;use&nbsp;Traceview.&nbsp;But&nbsp;again&nbsp;I&nbsp;do&nbsp;not&nbsp;know&nbsp;if&lt;br&gt;<br>
it&#39;s&nbsp;even&nbsp;possible&nbsp;with&nbsp;Monodroid&nbsp;(Until&nbsp;now&nbsp;my&nbsp;attempts&nbsp;were&nbsp;unsuccessful).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
What&nbsp;do&nbsp;you&nbsp;use&nbsp;to&nbsp;analyze&nbsp;the&nbsp;performance&nbsp;of&nbsp;your&nbsp;code?&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://mono-for-android.1047100.n5.nabble.com/Profiling-application-tp5710923.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://mono-for-android.1047100.n5.nabble.com/Profiling-application-tp5710923.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;for&nbsp;Android&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Monodroid&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Monodroid@lists.ximian.com&quot;&gt;Monodroid@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
UNSUBSCRIBE&nbsp;INFORMATION:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monodroid&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monodroid&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;The&nbsp;details&nbsp;of&nbsp;this&nbsp;company&nbsp;are&nbsp;as&nbsp;follows:&lt;br&gt;<br>
G4S&nbsp;Technology&nbsp;Limited,&nbsp;Registered&nbsp;Office:&nbsp;Challenge&nbsp;House,&nbsp;International&nbsp;Drive,&nbsp;Tewkesbury,&nbsp;Gloucestershire&nbsp;GL20&nbsp;8UQ,&nbsp;Registered&nbsp;in&nbsp;England&nbsp;No.&nbsp;2382338.&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;communication&nbsp;may&nbsp;contain&nbsp;information&nbsp;which&nbsp;is&nbsp;confidential,&nbsp;personal&nbsp;and/or&nbsp;privileged.&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;is&nbsp;for&nbsp;the&nbsp;exclusive&nbsp;use&nbsp;of&nbsp;the&nbsp;intended&nbsp;recipient(s).&lt;br&gt;<br>
If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;intended&nbsp;recipient(s),&nbsp;please&nbsp;note&nbsp;that&nbsp;any&nbsp;distribution,&nbsp;forwarding,&nbsp;copying&nbsp;or&nbsp;use&nbsp;of&nbsp;this&nbsp;communication&nbsp;or&nbsp;the&nbsp;information&nbsp;in&nbsp;it&nbsp;is&nbsp;strictly&nbsp;prohibited.&lt;br&gt;<br>
&lt;br&gt;<br>
Any&nbsp;personal&nbsp;views&nbsp;expressed&nbsp;in&nbsp;this&nbsp;e-mail&nbsp;are&nbsp;those&nbsp;of&nbsp;the&nbsp;individual&nbsp;sender&nbsp;and&nbsp;the&nbsp;company&nbsp;does&nbsp;not&nbsp;endorse&nbsp;or&nbsp;accept&nbsp;responsibility&nbsp;for&nbsp;them.&lt;br&gt;<br>
&lt;br&gt;<br>
Prior&nbsp;to&nbsp;taking&nbsp;any&nbsp;action&nbsp;based&nbsp;upon&nbsp;this&nbsp;e-mail&nbsp;message,&nbsp;you&nbsp;should&nbsp;seek&nbsp;appropriate&nbsp;confirmation&nbsp;of&nbsp;its&nbsp;authenticity.&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;e-mail&nbsp;has&nbsp;been&nbsp;scanned&nbsp;for&nbsp;all&nbsp;viruses&nbsp;by&nbsp;MessageLabs.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;_______________________________________________&lt;br&gt;<br>
Monodroid&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Monodroid@lists.ximian.com&quot;&gt;Monodroid@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
UNSUBSCRIBE&nbsp;INFORMATION:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monodroid&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monodroid&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
