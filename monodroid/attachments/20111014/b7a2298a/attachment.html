<tt>
Hi&nbsp;Wally,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;ran&nbsp;the&nbsp;code&nbsp;and&nbsp;it&nbsp;works&nbsp;fine&nbsp;for&nbsp;me&nbsp;(On&nbsp;Google&nbsp;Nexus&nbsp;S).&nbsp;The&nbsp;one&nbsp;thing&nbsp;I&amp;#39;d&nbsp;question&nbsp;is&nbsp;the&nbsp;&amp;quot;RECORD_VIDEO&amp;quot;&nbsp;permission.&nbsp;It&nbsp;looks&nbsp;like&nbsp;you&amp;#39;ve&nbsp;just&nbsp;made&nbsp;that&nbsp;one&nbsp;up&nbsp;:)&nbsp;Not&nbsp;sure&nbsp;if&nbsp;removing&nbsp;it&nbsp;will&nbsp;make&nbsp;the&nbsp;saving&nbsp;of&nbsp;the&nbsp;video&nbsp;start&nbsp;to&nbsp;work&nbsp;though.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hope&nbsp;this&nbsp;helps,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;ChrisNTR&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Oct&nbsp;13,&nbsp;2011&nbsp;at&nbsp;3:27&nbsp;PM,&nbsp;Wally&nbsp;McClure&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:theevilprogrammer@hotmail.com&quot;&gt;theevilprogrammer@hotmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
<br>
<br>
&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;<br>
I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;record&nbsp;some&nbsp;video&nbsp;via&nbsp;M4A&nbsp;running&nbsp;on&nbsp;my&nbsp;htc&nbsp;evo&nbsp;4g&nbsp;running&nbsp;gingerbread. &nbsp;Everything&nbsp;seems&nbsp;to&nbsp;work&nbsp;fine&nbsp;until&nbsp;I&nbsp;turn&nbsp;off&nbsp;the&nbsp;recording&nbsp;by&nbsp;pressing&nbsp;the&nbsp;stop&nbsp;button,&nbsp;which&nbsp;called&nbsp;the&nbsp;media&nbsp;record&amp;#39;s&nbsp;.Stop&nbsp;method. &nbsp;I&nbsp;end&nbsp;up&nbsp;with&nbsp;a&nbsp;zero&nbsp;length&nbsp;file. &nbsp;This&nbsp;makes&nbsp;me&nbsp;think&nbsp;that&nbsp;I&nbsp;need&nbsp;to&nbsp;either:&lt;br&gt;<br>
<br>
&lt;ul&gt;&lt;li&gt;Set&nbsp;a&nbsp;different&nbsp;permission. &nbsp;I&nbsp;have&nbsp;my&nbsp;permissions&nbsp;displayed&nbsp;below. &nbsp;If&nbsp;there&nbsp;is&nbsp;something&nbsp;else&nbsp;that&nbsp;I&nbsp;need&nbsp;to&nbsp;add,&nbsp;please&nbsp;point&nbsp;me&nbsp;in&nbsp;the&nbsp;correct&nbsp;direction.&lt;/li&gt;&lt;li&gt;Add&nbsp;some&nbsp;command&nbsp;that&nbsp;will&nbsp;explicitly&nbsp;save&nbsp;the&nbsp;video&nbsp;to&nbsp;the&nbsp;output&nbsp;file. &nbsp;I&nbsp;have&nbsp;included&nbsp;my&nbsp;code&nbsp;below,&nbsp;please&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;there&nbsp;is&nbsp;something&nbsp;I&nbsp;am&nbsp;missing.&lt;/li&gt;<br>
<br>
&lt;/ul&gt;&lt;br&gt;Wally&lt;br&gt;&lt;br&gt;Manifest&nbsp;file:&lt;br&gt;&amp;lt;?xml&nbsp;version=&amp;quot;1.0&amp;quot;&nbsp;encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;br&gt;&amp;lt;manifest&nbsp;xmlns:android=&amp;quot;&lt;a&nbsp;href=&quot;http://schemas.android.com/apk/res/android&quot;&nbsp;target=&quot;_blank&quot;&gt;http://schemas.android.com/apk/res/android&lt;/a&gt;&amp;quot;&nbsp;android:versionCode=&amp;quot;1&amp;quot;&nbsp;android:versionName=&amp;quot;1.0&amp;quot;&nbsp;package=&amp;quot;monoandroidrecordvideo.monoandroidrecordvideo&amp;quot;&nbsp;android:installLocation=&amp;quot;internalOnly&amp;quot;&amp;gt;&lt;br&gt;<br>
<br>
 &nbsp;&amp;lt;application&nbsp;android:label=&amp;quot;MonoAndroidRecordVideo&amp;quot;&amp;gt;&lt;br&gt; &nbsp;&amp;lt;/application&amp;gt;&lt;br&gt; &nbsp;&amp;lt;uses-sdk&nbsp;android:minSdkVersion=&amp;quot;8&amp;quot;&nbsp;/&amp;gt;&lt;br&gt; &nbsp;&amp;lt;uses-permission&nbsp;android:name=&amp;quot;android.permission.RECORD_AUDIO&amp;quot;&nbsp;/&amp;gt;&lt;br&gt;<br>
<br>
 &nbsp;&amp;lt;uses-permission&nbsp;android:name=&amp;quot;android.permission.RECORD_VIDEO&amp;quot;&nbsp;/&amp;gt;&lt;br&gt; &nbsp;&amp;lt;uses-permission&nbsp;android:name=&amp;quot;android.permission.CAMERA&amp;quot;&nbsp;/&amp;gt;&lt;br&gt; &nbsp;&amp;lt;uses-permission&nbsp;android:name=&amp;quot;android.permission.WRITE_EXTERNAL_STORAGE&amp;quot;&nbsp;/&amp;gt;&lt;br&gt;<br>
<br>
&amp;lt;/manifest&amp;gt;&lt;br&gt;&lt;br&gt;Code:&lt;br&gt;using&nbsp;System;&lt;br&gt;using&nbsp;System.Collections.Generic;&lt;br&gt;using&nbsp;System.Linq;&lt;br&gt;using&nbsp;System.Text;&lt;br&gt;&lt;br&gt;using&nbsp;Android.App;&lt;br&gt;using&nbsp;Android.Content;&lt;br&gt;using&nbsp;Android.OS;&lt;br&gt;using&nbsp;Android.Runtime;&lt;br&gt;<br>
<br>
using&nbsp;Android.Views;&lt;br&gt;using&nbsp;Android.Widget;&lt;br&gt;using&nbsp;Android.Media;&lt;br&gt;&lt;br&gt;namespace&nbsp;MonoAndroidRecordVideo&lt;br&gt;{&lt;br&gt;   &nbsp;[Activity&nbsp;(Label&nbsp;=&nbsp;&amp;quot;Record&nbsp;Video&amp;quot;)]   &nbsp;   &nbsp;   &nbsp;&lt;br&gt;   &nbsp;public&nbsp;class&nbsp;RecordVideo&nbsp;:&nbsp;Activity,&nbsp;ISurfaceHolderCallback&lt;br&gt;<br>
<br>
   &nbsp;{&lt;br&gt;   &nbsp;   &nbsp;MediaRecorder&nbsp;mediaRecorder;&lt;br&gt;   &nbsp;   &nbsp;SurfaceView&nbsp;sv;&lt;br&gt;   &nbsp;   &nbsp;protected&nbsp;override&nbsp;void&nbsp;OnCreate&nbsp;(Bundle&nbsp;bundle)&lt;br&gt;   &nbsp;   &nbsp;{&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;base.OnCreate&nbsp;(bundle);&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;SetContentView(Resource.Layout.RecordVideo);&lt;br&gt;<br>
<br>
   &nbsp;   &nbsp;   &nbsp;var&nbsp;btnStart&nbsp;=&nbsp;FindViewById&amp;lt;Button&amp;gt;(Resource.Id.StartVid);&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;btnStart.Click&nbsp;+=&nbsp;HandleBtnStartClick;&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;var&nbsp;btnStop&nbsp;=&nbsp;FindViewById&amp;lt;Button&amp;gt;(Resource.Id.StopVid);&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;btnStop.Click&nbsp;+=&nbsp;HandleBtnStopClick;&lt;br&gt;<br>
<br>
   &nbsp;   &nbsp;   &nbsp;sv&nbsp;=&nbsp;FindViewById&amp;lt;SurfaceView&amp;gt;(Resource.Id.displayVid);&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;var&nbsp;holder&nbsp;=&nbsp;sv.Holder;&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;holder.AddCallback(this);&nbsp;&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;holder.SetType(Android.Views.SurfaceType.PushBuffers);&nbsp;&lt;br&gt;<br>
<br>
   &nbsp;   &nbsp;   &nbsp;holder.SetFixedSize(400,&nbsp;300);&lt;br&gt;   &nbsp;   &nbsp;}&lt;br&gt;&lt;br&gt;       &nbsp;void&nbsp;HandleBtnStopClick(object&nbsp;sender,&nbsp;EventArgs&nbsp;e)&lt;br&gt;       &nbsp;{&lt;br&gt;           &nbsp;try&lt;br&gt;           &nbsp;{&lt;br&gt;               &nbsp;mediaRecorder.Stop();&lt;br&gt;           &nbsp;}&lt;br&gt;<br>
<br>
           &nbsp;catch&nbsp;(System.Exception&nbsp;sysExc&nbsp;)&lt;br&gt;           &nbsp;{&lt;br&gt;               &nbsp;Android.Util.Log.Error(&amp;quot;Record&nbsp;Video&amp;quot;,&nbsp;sysExc.Message);&lt;br&gt;           &nbsp;}&lt;br&gt;       &nbsp;}&lt;br&gt;&lt;br&gt;       &nbsp;void&nbsp;HandleBtnStartClick(object&nbsp;sender,&nbsp;EventArgs&nbsp;e)&lt;br&gt;<br>
<br>
       &nbsp;{&lt;br&gt;           &nbsp;try&lt;br&gt;           &nbsp;{&lt;br&gt;               &nbsp;mediaRecorder.Start();&lt;br&gt;           &nbsp;}&lt;br&gt;           &nbsp;catch&nbsp;(System.Exception&nbsp;sysExc)&lt;br&gt;           &nbsp;{&lt;br&gt;               &nbsp;Android.Util.Log.Error(&amp;quot;Record&nbsp;Video&amp;quot;,&nbsp;sysExc.Message);&lt;br&gt;<br>
<br>
           &nbsp;}&lt;br&gt;       &nbsp;}&lt;br&gt;&lt;br&gt;   &nbsp;   &nbsp;#region&nbsp;ISurfaceHolderCallback&nbsp;implementation&lt;br&gt;   &nbsp;   &nbsp;void&nbsp;ISurfaceHolderCallback.SurfaceChanged&nbsp;(ISurfaceHolder&nbsp;holder,&nbsp;int&nbsp;format,&nbsp;int&nbsp;width,&nbsp;int&nbsp;height)&lt;br&gt;   &nbsp;   &nbsp;{&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;&lt;br&gt;<br>
<br>
   &nbsp;   &nbsp;}&lt;br&gt;&lt;br&gt;       &nbsp;void&nbsp;ISurfaceHolderCallback.SurfaceCreated(ISurfaceHolder&nbsp;holder)&lt;br&gt;       &nbsp;{&lt;br&gt;           &nbsp;try&lt;br&gt;           &nbsp;{&lt;br&gt;               &nbsp;//SetRequestedOrientation(Android.Content.PM.ScreenOrientation.Portrait);&lt;br&gt;<br>
<br>
               &nbsp;mediaRecorder&nbsp;=&nbsp;new&nbsp;MediaRecorder();&lt;br&gt;&lt;br&gt;               &nbsp;//CamcorderProfile&nbsp;cp&nbsp;=&nbsp;CamcorderProfile.Get(CamcorderQuality.High);&lt;br&gt;               &nbsp;//mediaRecorder.SetProfile(cp);&lt;br&gt;&lt;br&gt;               &nbsp;mediaRecorder.SetMaxFileSize(100000);&lt;br&gt;<br>
<br>
               &nbsp;//&nbsp;Configure&nbsp;the&nbsp;input&nbsp;sources&lt;br&gt;               &nbsp;mediaRecorder.SetAudioSource(Android.Media.AudioSource.Mic);&lt;br&gt;               &nbsp;mediaRecorder.SetVideoSource(Android.Media.VideoSource.Camera);&lt;br&gt;               &nbsp;//&nbsp;Set&nbsp;the&nbsp;output&nbsp;format&nbsp;&lt;br&gt;<br>
<br>
               &nbsp;mediaRecorder.SetOutputFormat(Android.Media.OutputFormat.Default);&lt;br&gt;               &nbsp;//&nbsp;Specify&nbsp;the&nbsp;audio&nbsp;and&nbsp;video&nbsp;encoding&nbsp;&lt;br&gt;               &nbsp;mediaRecorder.SetAudioEncoder(Android.Media.AudioEncoder.Default);&lt;br&gt;<br>
<br>
               &nbsp;mediaRecorder.SetVideoEncoder(Android.Media.VideoEncoder.Default);&lt;br&gt;               &nbsp;//&nbsp;Specify&nbsp;the&nbsp;output&nbsp;file&nbsp;&lt;br&gt;&lt;br&gt;               &nbsp;mediaRecorder.SetOutputFile(&amp;quot;/sdcard/myoutputfile.mp4&amp;quot;);&lt;br&gt;<br>
<br>
               &nbsp;mediaRecorder.SetPreviewDisplay(holder.Surface);&lt;br&gt;               &nbsp;//&nbsp;Prepare&nbsp;to&nbsp;record&nbsp;&lt;br&gt;               &nbsp;mediaRecorder.Prepare();&lt;br&gt;           &nbsp;}&lt;br&gt;           &nbsp;catch&nbsp;(System.Exception&nbsp;sysExc)&lt;br&gt;           &nbsp;{&lt;br&gt;<br>
<br>
               &nbsp;Android.Util.Log.Error(&amp;quot;Record&nbsp;Video&amp;quot;,&nbsp;sysExc.Message);&lt;br&gt;           &nbsp;}&lt;br&gt;       &nbsp;}&lt;br&gt;&lt;br&gt;   &nbsp;   &nbsp;void&nbsp;ISurfaceHolderCallback.SurfaceDestroyed&nbsp;(ISurfaceHolder&nbsp;holder)&lt;br&gt;   &nbsp;   &nbsp;{&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;mediaRecorder.Release();&lt;br&gt;<br>
<br>
   &nbsp;   &nbsp;}&lt;br&gt;   &nbsp;   &nbsp;#endregion&lt;br&gt;   &nbsp;}&lt;br&gt;}&lt;br&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Monodroid&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Monodroid@lists.ximian.com&quot;&gt;Monodroid@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
UNSUBSCRIBE&nbsp;INFORMATION:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monodroid&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monodroid&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;ChrisNTR&lt;br&gt;Microsoft&nbsp;ASPInsider&lt;br&gt;&lt;a&nbsp;href=&quot;http://weblogs.asp.net/chrishardy&quot;&gt;http://weblogs.asp.net/chrishardy&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://twitter.com/chrisntr&quot;&gt;http://twitter.com/chrisntr&lt;/a&gt;&lt;br&gt;<br>
<br>
<br>
&lt;/div&gt;<br>

</tt>
