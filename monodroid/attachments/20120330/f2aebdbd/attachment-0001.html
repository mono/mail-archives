<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Tahoma<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;<br>
Chris,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;you&nbsp;are&nbsp;running&nbsp;into&nbsp;many&nbsp;of&nbsp;the&nbsp;same&nbsp;issues&nbsp;that&nbsp;I&nbsp;did&nbsp;with&nbsp;Android.&nbsp;&nbsp;The&nbsp;problem&nbsp;isn't&nbsp;MfA.&nbsp;&nbsp;The&nbsp;problem&nbsp;is&nbsp;how&nbsp;the&nbsp;Android&nbsp;group&nbsp;at&nbsp;google&nbsp;has&nbsp;implemented&nbsp;their&nbsp;APIs.&nbsp;&nbsp;MfA&nbsp;is&nbsp;a&nbsp;layer&nbsp;ontop&nbsp;of&nbsp;android,&nbsp;not&nbsp;an&nbsp;implementation&nbsp;of&nbsp;windows&nbsp;over&nbsp;android.&nbsp;&nbsp;I&nbsp;have&nbsp;some&nbsp;concerns&nbsp;with&nbsp;Google's&nbsp;examples&nbsp;as&nbsp;well.&nbsp;&nbsp;At&nbsp;the&nbsp;same&nbsp;time,&nbsp;trying&nbsp;to&nbsp;span&nbsp;concepts&nbsp;across&nbsp;platforms&nbsp;doesn't&nbsp;feel&nbsp;right&nbsp;either.&nbsp;&nbsp;&lt;img&nbsp;src=&quot;https://gfx5.hotmail.com/mail/w4/pr04/ltr/emo/smile.gif&quot;&nbsp;width=&quot;19&quot;&nbsp;height=&quot;19&quot;&nbsp;alt=&quot;Smile&quot;&nbsp;title=&quot;Smile&quot;&nbsp;style=&quot;border-top-style:&nbsp;none;&nbsp;border-right-style:&nbsp;none;&nbsp;border-bottom-style:&nbsp;none;&nbsp;border-left-style:&nbsp;none;&nbsp;vertical-align:&nbsp;text-bottom;&nbsp;&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;On&nbsp;to&nbsp;the&nbsp;issue...............&lt;/div&gt;&lt;div&gt;First&nbsp;off,&nbsp;are&nbsp;you&nbsp;in&nbsp;a&nbsp;Service&nbsp;or&nbsp;an&nbsp;Activity?&nbsp;&nbsp;The&nbsp;title&nbsp;says&nbsp;one&nbsp;thing&nbsp;and&nbsp;the&nbsp;email&nbsp;seems&nbsp;to&nbsp;say&nbsp;something&nbsp;else.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;sounds&nbsp;like&nbsp;you&nbsp;have&nbsp;implemented&nbsp;ILocationListener&nbsp;in&nbsp;an&nbsp;Activity.&nbsp;&nbsp;If&nbsp;your&nbsp;listener&nbsp;is&nbsp;set&nbsp;to&nbsp;null,&nbsp;have&nbsp;you&nbsp;assigned&nbsp;the&nbsp;activity&nbsp;to&nbsp;listen&nbsp;to&nbsp;the&nbsp;location&nbsp;manager&nbsp;for&nbsp;updates?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;would&nbsp;think&nbsp;that&nbsp;you&nbsp;could&nbsp;do&nbsp;something&nbsp;like&nbsp;what&nbsp;is&nbsp;done&nbsp;in&nbsp;iOS&nbsp;for&nbsp;many&nbsp;of&nbsp;its&nbsp;callbacks.&nbsp;&nbsp;You&nbsp;could&nbsp;create&nbsp;a&nbsp;class&nbsp;that&nbsp;implements&nbsp;the&nbsp;necessary&nbsp;interface,&nbsp;create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;interface,&nbsp;and&nbsp;then&nbsp;assign&nbsp;the&nbsp;class&nbsp;as&nbsp;a&nbsp;listener.&nbsp;&nbsp;I&nbsp;haven't&nbsp;tried&nbsp;it&nbsp;that&nbsp;way,&nbsp;but&nbsp;I&nbsp;would&nbsp;think&nbsp;it&nbsp;would&nbsp;work.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Wally&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&nbsp;id=&quot;SkyDrivePlaceholder&quot;&gt;&lt;/div&gt;&lt;hr&nbsp;id=&quot;stopSpelling&quot;&gt;From:&nbsp;ctacke@opennetcf.com&lt;br&gt;To:&nbsp;monodroid@lists.ximian.com&lt;br&gt;Date:&nbsp;Thu,&nbsp;29&nbsp;Mar&nbsp;2012&nbsp;10:57:11&nbsp;-0400&lt;br&gt;Subject:&nbsp;[mono-android]&nbsp;Services,&nbsp;Activities,&nbsp;&nbsp;Contexts&nbsp;and&nbsp;separation&nbsp;of&nbsp;concerns&lt;br&gt;&lt;br&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=unicode&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;SafeHTML&quot;&gt;&lt;style&gt;<br>
.ExternalClass&nbsp;p.ecxMsoNormal,&nbsp;.ExternalClass&nbsp;li.ecxMsoNormal,&nbsp;.ExternalClass&nbsp;div.ecxMsoNormal<br>
{margin-bottom:.0001pt;font-size:12.0pt;font-family:&quot;Times&nbsp;New&nbsp;Roman&quot;,&quot;serif&quot;;}<br>
.ExternalClass&nbsp;a:link,&nbsp;.ExternalClass&nbsp;span.ecxMsoHyperlink<br>
{color:blue;text-decoration:underline;}<br>
.ExternalClass&nbsp;a:visited,&nbsp;.ExternalClass&nbsp;span.ecxMsoHyperlinkFollowed<br>
{color:purple;text-decoration:underline;}<br>
.ExternalClass&nbsp;span.ecxEmailStyle17<br>
{font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D;}<br>
.ExternalClass&nbsp;.ecxMsoChpDefault<br>
{;}<br>
@page&nbsp;WordSection1<br>
{size:8.5in&nbsp;11.0in;}<br>
.ExternalClass&nbsp;div.ecxWordSection1<br>
{page:WordSection1;}<br>
<br>
&lt;/style&gt;&lt;div&nbsp;class=&quot;ecxWordSection1&quot;&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;I’m&nbsp;having&nbsp;trouble&nbsp;wrapping&nbsp;my&nbsp;head&nbsp;around&nbsp;what&nbsp;seems&nbsp;to&nbsp;be&nbsp;a&nbsp;fairly&nbsp;fundamental&nbsp;requirement&nbsp;in&nbsp;Mono&nbsp;(or&nbsp;M4A&nbsp;anyway),&nbsp;and&nbsp;I’m&nbsp;looking&nbsp;for&nbsp;guidance.&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;My&nbsp;experience&nbsp;in&nbsp;software&nbsp;development&nbsp;leads&nbsp;me&nbsp;to&nbsp;want&nbsp;to&nbsp;do&nbsp;separation&nbsp;of&nbsp;concerns&nbsp;and&nbsp;push&nbsp;toward&nbsp;patterns&nbsp;like&nbsp;MVC/MVP,&nbsp;but&nbsp;Mono&nbsp;seems&nbsp;to&nbsp;push&nbsp;back.&nbsp;&nbsp;Loads&nbsp;of&nbsp;things&nbsp;seem&nbsp;to&nbsp;require&nbsp;a&nbsp;Context&nbsp;or&nbsp;an&nbsp;Activity,&nbsp;which&nbsp;makes&nbsp;it&nbsp;challenging&nbsp;to&nbsp;separate&nbsp;out&nbsp;single&nbsp;services&nbsp;and&nbsp;work&nbsp;units.&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;As&nbsp;a&nbsp;concrete&nbsp;example,&nbsp;I’m&nbsp;trying&nbsp;to&nbsp;create&nbsp;a&nbsp;Presenter&nbsp;that&nbsp;provides&nbsp;location&nbsp;information.&nbsp;&nbsp;I&nbsp;don’t&nbsp;want&nbsp;to&nbsp;just&nbsp;use&nbsp;the&nbsp;LocationManager&nbsp;as-is&nbsp;because&nbsp;architecturally&nbsp;it’s&nbsp;not&nbsp;right&nbsp;(in&nbsp;my&nbsp;mind&nbsp;anyway),&nbsp;plus&nbsp;I&nbsp;often&nbsp;will&nbsp;be&nbsp;getting&nbsp;location&nbsp;data&nbsp;from&nbsp;elsewhere.&nbsp;&nbsp;So&nbsp;in&nbsp;my&nbsp;LocationPresenter,&nbsp;I&nbsp;want&nbsp;to&nbsp;encapsulate&nbsp;a&nbsp;LocationManager.&nbsp;&nbsp;To&nbsp;do&nbsp;that&nbsp;I&nbsp;need&nbsp;to&nbsp;call&nbsp;GetSystemService&nbsp;on&nbsp;a&nbsp;Context.&nbsp;&nbsp;So&nbsp;here’s&nbsp;my&nbsp;first&nbsp;need&nbsp;–&nbsp;a&nbsp;Context.&nbsp;&nbsp;For&nbsp;now&nbsp;I&nbsp;usd&nbsp;IoC&nbsp;and&nbsp;just&nbsp;injected&nbsp;the&nbsp;MainLauncher&nbsp;Activity&nbsp;as&nbsp;a&nbsp;context&nbsp;and&nbsp;use&nbsp;that.&nbsp;&nbsp;It&nbsp;feels&nbsp;a&nbsp;bit&nbsp;dirty&nbsp;but&nbsp;works.&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;Then&nbsp;I&nbsp;said,&nbsp;“hey,&nbsp;I’d&nbsp;like&nbsp;to&nbsp;get&nbsp;location&nbsp;change&nbsp;notifications”,&nbsp;so&nbsp;I&nbsp;implemented&nbsp;ILocationListener&nbsp;in&nbsp;my&nbsp;Presenter.&nbsp;&nbsp;Bear&nbsp;in&nbsp;mind&nbsp;it&nbsp;derives&nbsp;from&nbsp;no&nbsp;other&nbsp;classes.&nbsp;&nbsp;First,&nbsp;it&nbsp;made&nbsp;me&nbsp;implement&nbsp;a&nbsp;Handle&nbsp;property.&nbsp;&nbsp;That&nbsp;can’t&nbsp;be&nbsp;good&nbsp;–&nbsp;I&nbsp;don’t&nbsp;know&nbsp;where&nbsp;those&nbsp;come&nbsp;from&nbsp;or&nbsp;what&nbsp;it’s&nbsp;going&nbsp;to&nbsp;be&nbsp;tied&nbsp;to.&nbsp;&nbsp;When&nbsp;I&nbsp;run&nbsp;the&nbsp;app,&nbsp;no&nbsp;surprisingly&nbsp;it&nbsp;crashes&nbsp;with&nbsp;a&nbsp;“Java.Lang.RuntimeException:&nbsp;listener==null”,&nbsp;I&nbsp;assume&nbsp;because&nbsp;I&nbsp;don’t&nbsp;have&nbsp;the&nbsp;infrastructure&nbsp;in&nbsp;my&nbsp;Presenter&nbsp;that&nbsp;the&nbsp;LocationManager&nbsp;wants.&nbsp;&nbsp;It&nbsp;doesn’t&nbsp;appear&nbsp;to&nbsp;be&nbsp;calling&nbsp;for&nbsp;the&nbsp;Handle&nbsp;(not&nbsp;hitting&nbsp;the&nbsp;break&nbsp;point)&nbsp;but&nbsp;it’s&nbsp;failing.&nbsp;&nbsp;Maybe&nbsp;I’m&nbsp;on&nbsp;the&nbsp;wrong&nbsp;thread&nbsp;–&nbsp;but&nbsp;RunFromUiThread&nbsp;is&nbsp;again&nbsp;part&nbsp;of&nbsp;an&nbsp;Activity&nbsp;,&nbsp;which&nbsp;I’m&nbsp;not.&nbsp;&nbsp;All&nbsp;examples&nbsp;have&nbsp;the&nbsp;listener&nbsp;as&nbsp;an&nbsp;Activity,&nbsp;which&nbsp;I&nbsp;assume&nbsp;will&nbsp;work,&nbsp;but&nbsp;it’s&nbsp;not&nbsp;what&nbsp;I&nbsp;want.&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;So&nbsp;the&nbsp;question&nbsp;here,&nbsp;I&nbsp;guess,&nbsp;is&nbsp;how&nbsp;are&nbsp;other&nbsp;people&nbsp;handling&nbsp;this?&nbsp;Should&nbsp;I&nbsp;just&nbsp;resign&nbsp;myself&nbsp;to&nbsp;everything&nbsp;needing&nbsp;to&nbsp;be&nbsp;an&nbsp;Activity?&nbsp;&nbsp;I&nbsp;hit&nbsp;similar&nbsp;issues&nbsp;when&nbsp;I&nbsp;was&nbsp;doing&nbsp;mapping.&nbsp;&nbsp;I&nbsp;hit&nbsp;similar&nbsp;issue&nbsp;when&nbsp;I&nbsp;want&nbsp;to&nbsp;have&nbsp;a&nbsp;“common&nbsp;object&nbsp;resource”&nbsp;class.&nbsp;&nbsp;Does&nbsp;M4A&nbsp;require&nbsp;me&nbsp;to&nbsp;alter&nbsp;some&nbsp;of&nbsp;my&nbsp;fundamental&nbsp;architecture&nbsp;thinking,&nbsp;or&nbsp;am&nbsp;I&nbsp;just&nbsp;missing&nbsp;something?&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;-Chris&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;ecxMsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;br&gt;_______________________________________________<br>
Monodroid&nbsp;mailing&nbsp;list<br>
Monodroid@lists.ximian.com<br>
<br>
UNSUBSCRIBE&nbsp;INFORMATION:<br>
http://lists.ximian.com/mailman/listinfo/monodroid&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
