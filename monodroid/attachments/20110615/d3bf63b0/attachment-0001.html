<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;color:&nbsp;rgb(0,&nbsp;67,&nbsp;98);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;div&gt;Try&nbsp;something&nbsp;like&nbsp;that..:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;NetworkCredential&nbsp;credential&nbsp;=&nbsp;new&nbsp;NetworkCredential(&quot;username&quot;,&nbsp;&quot;password&quot;);&lt;/div&gt;&lt;div&gt;TestService.Service1&amp;nbsp;ts&nbsp;=&nbsp;new&amp;nbsp;TestService.Service1();&lt;/div&gt;&lt;div&gt;ts.Credentials&nbsp;=&amp;nbsp;credential;&lt;/div&gt;&lt;div&gt;ts.PreAuthenticate&nbsp;=&nbsp;true;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;identity.Text&nbsp;=&nbsp;ts.WhoAmI();&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It's&nbsp;what&nbsp;I'm&nbsp;using&nbsp;on&nbsp;Windows&nbsp;Mobile,&nbsp;iOS&nbsp;and&nbsp;Android.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Karl&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;id=&quot;OLK_SRC_BODY_SECTION&quot;&gt;&lt;div&nbsp;style=&quot;font-family:Calibri;&nbsp;font-size:11pt;&nbsp;text-align:left;&nbsp;color:black;&nbsp;BORDER-BOTTOM:&nbsp;medium&nbsp;none;&nbsp;BORDER-LEFT:&nbsp;medium&nbsp;none;&nbsp;PADDING-BOTTOM:&nbsp;0in;&nbsp;PADDING-LEFT:&nbsp;0in;&nbsp;PADDING-RIGHT:&nbsp;0in;&nbsp;BORDER-TOP:&nbsp;#b5c4df&nbsp;1pt&nbsp;solid;&nbsp;BORDER-RIGHT:&nbsp;medium&nbsp;none;&nbsp;PADDING-TOP:&nbsp;3pt&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;From:&nbsp;&lt;/span&gt;&nbsp;Brian&nbsp;Graham&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:brian.graham@russellmcveagh.com&quot;&gt;brian.graham@russellmcveagh.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Reply-To:&nbsp;&lt;/span&gt;&nbsp;&quot;&lt;a&nbsp;href=&quot;mailto:monodroid@lists.ximian.com&quot;&gt;monodroid@lists.ximian.com&lt;/a&gt;&quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:monodroid@lists.ximian.com&quot;&gt;monodroid@lists.ximian.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Date:&nbsp;&lt;/span&gt;&nbsp;Mon,&nbsp;13&nbsp;Jun&nbsp;2011&nbsp;08:37:37&nbsp;+1200&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;To:&nbsp;&lt;/span&gt;&nbsp;&quot;&lt;a&nbsp;href=&quot;mailto:monodroid@lists.ximian.com&quot;&gt;monodroid@lists.ximian.com&lt;/a&gt;&quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:monodroid@lists.ximian.com&quot;&gt;monodroid@lists.ximian.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Subject:&nbsp;&lt;/span&gt;&nbsp;[mono-android]&nbsp;NTLM&nbsp;Web&nbsp;Services&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;all,&nbsp;I&nbsp;asked&nbsp;this&nbsp;in&nbsp;the&nbsp;forum&nbsp;but&nbsp;didn't&nbsp;get&nbsp;any&nbsp;replies.&nbsp;Not&nbsp;sure&nbsp;if&nbsp;it&nbsp;was&nbsp;because&nbsp;no&nbsp;one&nbsp;knows&nbsp;or&nbsp;if&nbsp;you&nbsp;guys&nbsp;didn't&nbsp;get&nbsp;the&nbsp;email.&nbsp;Sorry&nbsp;for&nbsp;the&nbsp;re-post&nbsp;if&nbsp;you&nbsp;did&nbsp;get&nbsp;it&nbsp;the&nbsp;first&nbsp;time.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Anyway,&nbsp;has&nbsp;anybody&nbsp;successfully&nbsp;connected&nbsp;to&nbsp;a&nbsp;Webservice&nbsp;from&nbsp;Mono&nbsp;for&nbsp;Android&nbsp;using&nbsp;Windows&nbsp;Authentication?&nbsp;I&nbsp;can&nbsp;connect&nbsp;if&nbsp;Anonymous&nbsp;is&nbsp;enabled&nbsp;but&nbsp;as&nbsp;soon&nbsp;as&nbsp;I&nbsp;select&nbsp;Windows&nbsp;and&nbsp;give&nbsp;the&nbsp;service&nbsp;proxy&nbsp;the&nbsp;credentials&nbsp;it&nbsp;comes&nbsp;back&nbsp;with&nbsp;a&nbsp;401&nbsp;error.&nbsp;This&nbsp;is&nbsp;the&nbsp;code:&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TestService.Service1&nbsp;ts&nbsp;=&nbsp;new&nbsp;TestService.Service1();&nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CredentialCache&nbsp;cache&nbsp;=&nbsp;new&nbsp;CredentialCache();&nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;cache.Add(new&nbsp;Uri(ts.Url),&nbsp;&quot;Negotiate&quot;,&nbsp;new&nbsp;NetworkCredential(&quot;username&quot;,&nbsp;&quot;pasword&quot;));&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ts.Credentials&nbsp;=&nbsp;cache;&nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ts.PreAuthenticate&nbsp;=&nbsp;true;&nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;identity.Text&nbsp;=&nbsp;ts.WhoAmI();&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;code&nbsp;works&nbsp;perfectly&nbsp;from&nbsp;a&nbsp;Windows&nbsp;form&nbsp;test&nbsp;project&nbsp;so&nbsp;I&nbsp;know&nbsp;the&nbsp;webservice&nbsp;itself&nbsp;is&nbsp;ok.&nbsp;I'm&nbsp;using&nbsp;the&nbsp;emulator&nbsp;and&nbsp;have&nbsp;changed&nbsp;the&nbsp;URL&nbsp;to&nbsp;use&nbsp;the&nbsp;IP&nbsp;address&nbsp;of&nbsp;the&nbsp;host&nbsp;rather&nbsp;than&nbsp;&quot;local&quot;,&nbsp;I&nbsp;have&nbsp;also&nbsp;tried&nbsp;&quot;NTLM&quot;&nbsp;instead&nbsp;of&nbsp;&quot;Negotiate&quot;.&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;in&nbsp;advance&nbsp;for&nbsp;any&nbsp;help.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards&nbsp;&lt;/div&gt;&lt;div&gt;Brian&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Russell&nbsp;McVeagh&lt;/div&gt;&lt;div&gt;OFFICIAL&nbsp;LAW&nbsp;FIRM&nbsp;OF&nbsp;RUGBY&nbsp;WORLD&nbsp;CUP&nbsp;2011&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Winner&nbsp;-&nbsp;ALB&nbsp;Awards&nbsp;2011:&nbsp;New&nbsp;Zealand&nbsp;Deal&nbsp;of&nbsp;the&nbsp;Year,&nbsp;Australasian&nbsp;Debt&nbsp;Markets&nbsp;Deal&nbsp;of&nbsp;the&nbsp;Year.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Please&nbsp;think&nbsp;of&nbsp;the&nbsp;environment&nbsp;before&nbsp;printing&nbsp;this&nbsp;email.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;________________________________________&lt;/div&gt;&lt;div&gt;This&nbsp;email&nbsp;contains&nbsp;confidential&nbsp;information&nbsp;and&nbsp;may&nbsp;be&nbsp;legally&nbsp;privileged.&nbsp;If&nbsp;you&nbsp;have&nbsp;received&nbsp;it&nbsp;in&nbsp;error,&nbsp;you&nbsp;may&nbsp;not&nbsp;read,&nbsp;use,&nbsp;copy&nbsp;or&nbsp;disclose&nbsp;this&nbsp;email&nbsp;or&nbsp;its&nbsp;attachments.&nbsp;In&nbsp;that&nbsp;case,&nbsp;please&nbsp;let&nbsp;us&nbsp;know&nbsp;immediately&nbsp;by&nbsp;reply&nbsp;email&nbsp;and&nbsp;then&nbsp;delete&nbsp;this&nbsp;email&nbsp;from&nbsp;your&nbsp;system.&nbsp;While&nbsp;we&nbsp;use&nbsp;standard&nbsp;virus&nbsp;checking&nbsp;software,&nbsp;we&nbsp;accept&nbsp;no&nbsp;responsibility&nbsp;for&nbsp;viruses&nbsp;or&nbsp;anything&nbsp;similar&nbsp;in&nbsp;this&nbsp;email&nbsp;or&nbsp;any&nbsp;attachment&nbsp;after&nbsp;it&nbsp;leaves&nbsp;our&nbsp;information&nbsp;systems.&nbsp;If&nbsp;you&nbsp;are&nbsp;interested&nbsp;in&nbsp;establishing&nbsp;more&nbsp;secure&nbsp;communication&nbsp;between&nbsp;us,&nbsp;please&nbsp;contact&nbsp;our&nbsp;systems&nbsp;administrator&nbsp;by&nbsp;email&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;mailto:mail.admin@russellmcveagh.com&quot;&gt;mail.admin@russellmcveagh.com&lt;/a&gt;&lt;/div&gt;&lt;div&gt;_______________________________________________&lt;/div&gt;&lt;div&gt;Monodroid&nbsp;mailing&nbsp;list&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;mailto:Monodroid@lists.ximian.com&quot;&gt;Monodroid@lists.ximian.com&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;UNSUBSCRIBE&nbsp;INFORMATION:&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monodroid&quot;&gt;http://lists.ximian.com/mailman/listinfo/monodroid&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;<br>

</tt>
