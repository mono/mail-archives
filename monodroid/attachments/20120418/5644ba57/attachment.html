<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&gt;&nbsp;With&nbsp;original&nbsp;list&nbsp;of&nbsp;~100&nbsp;items,&nbsp;I&#39;m&nbsp;getting&nbsp;overflow&nbsp;with&nbsp;just&nbsp;a&nbsp;couple&nbsp;of&nbsp;device&nbsp;(or&nbsp;emulator)&nbsp;&quot;flips&quot;:&lt;br&gt;<br>
Is&nbsp;this&nbsp;with&nbsp;Mono&nbsp;for&nbsp;Android&nbsp;4.0.6&nbsp;or&nbsp;the&nbsp;4.1.0&nbsp;alpha?&nbsp;In&nbsp;4.1.0&nbsp;we&nbsp;altered&nbsp;things&nbsp;so&nbsp;that&nbsp;when&nbsp;we&nbsp;hit&nbsp;a&nbsp;gref&nbsp;threshold&nbsp;we&nbsp;perform&nbsp;a&nbsp;collection&nbsp;automatically.&nbsp;It&#39;s&nbsp;still&nbsp;not&nbsp;a&nbsp;great&nbsp;thing&nbsp;to&nbsp;rely&nbsp;on&nbsp;--&nbsp;the&nbsp;GC&nbsp;might&nbsp;be&nbsp;performed&nbsp;at&nbsp;the&nbsp;exact&nbsp;wrong&nbsp;time&nbsp;--&nbsp;but&nbsp;could&nbsp;help&nbsp;with&nbsp;the&nbsp;gref&nbsp;limit.&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;haven&#39;t&nbsp;tried&nbsp;4.1.0&nbsp;yet,&nbsp;but&nbsp;I&nbsp;do&nbsp;GC.Collect(0)&nbsp;in&nbsp;each&nbsp;onStart.&nbsp;Will&nbsp;try&nbsp;using&nbsp;full&nbsp;GC.Collect&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;Not&nbsp;necessarily;&nbsp;`aadapter.Dispose()`&nbsp;will&nbsp;allow&nbsp;the&nbsp;managed&nbsp;ArrayAdapter&nbsp;to&nbsp;be&nbsp;collected&nbsp;(and&nbsp;free&nbsp;the&nbsp;associated&nbsp;gref),&nbsp;but&nbsp;it&nbsp;won&#39;t&nbsp;do&nbsp;anything&nbsp;about&nbsp;what&nbsp;`aadapter`&nbsp;references&nbsp;(in&nbsp;this&nbsp;case&nbsp;`jl`,&nbsp;and&nbsp;everything&nbsp;it&nbsp;contains).&lt;/div&gt;<br>
<br>
&lt;br&gt;<br>
You&#39;re&nbsp;using&nbsp;the&nbsp;Android.Widget.ArrayAdapter(Context,&nbsp;int,&nbsp;IList)&nbsp;constructor,&nbsp;which&nbsp;will&nbsp;construct&nbsp;a&nbsp;JavaList&nbsp;to&nbsp;contain&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;IList,&nbsp;which&nbsp;will&nbsp;result&nbsp;in&nbsp;a&nbsp;gref&nbsp;for&nbsp;each&nbsp;element&nbsp;within&nbsp;the&nbsp;list.&nbsp;If&nbsp;these&nbsp;are&nbsp;strings,&nbsp;it&nbsp;should&nbsp;be&nbsp;more&nbsp;efficient&nbsp;to&nbsp;instead&nbsp;use&nbsp;ArrayAdapter&lt;string&gt;:&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Why&nbsp;keeping&nbsp;these&nbsp;string&nbsp;grefs&nbsp;inside&nbsp;of&nbsp;M4A&nbsp;framework?&nbsp;I&nbsp;mean&nbsp;I&#39;ve&nbsp;used&nbsp;an&nbsp;API&nbsp;method,&nbsp;which&nbsp;is&nbsp;actually&nbsp;a&nbsp;helper,&nbsp;because&nbsp;it&nbsp;does&nbsp;transformation&nbsp;of&nbsp;my&nbsp;.net&nbsp;list&nbsp;into&nbsp;java&nbsp;list.&nbsp;Why&nbsp;this&nbsp;helper&nbsp;leaves&nbsp;grefs&nbsp;from&nbsp;all&nbsp;the&nbsp;converted&nbsp;strings?&nbsp;imho&nbsp;it&nbsp;should&nbsp;invoke&nbsp;string.Dispose&nbsp;and&nbsp;not&nbsp;rely&nbsp;on&nbsp;GC.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt; &gt;&nbsp;Is&nbsp;this&nbsp;a&nbsp;bug?&nbsp;Doing&nbsp;a&nbsp;workaround&nbsp;with:&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;This&nbsp;workaround&nbsp;is&nbsp;the&nbsp;right&nbsp;idea,&nbsp;but&nbsp;wrong:&nbsp;given&nbsp;that&nbsp;you&nbsp;don&#39;t&nbsp;control&nbsp;when&nbsp;collections&nbsp;are&nbsp;performed,&nbsp;it&#39;s&nbsp;possible&nbsp;that&nbsp;the&nbsp;Java.Lang.String&nbsp;you&nbsp;create&nbsp;won&#39;t&nbsp;exist&nbsp;by&nbsp;the&nbsp;time&nbsp;you&nbsp;create&nbsp;the&nbsp;ArrayAdapter().&nbsp;You&nbsp;should&nbsp;instead&nbsp;have&nbsp;a&nbsp;second&nbsp;foreach&nbsp;loop&nbsp;to&nbsp;call&nbsp;js.Dispose()&nbsp;after&nbsp;the&nbsp;ArrayAdapter&nbsp;constructor&nbsp;call.&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hm.&nbsp;Why?&nbsp;I&#39;ve&nbsp;already&nbsp;added&nbsp;each&nbsp;string&nbsp;into&nbsp;the&nbsp;_java_&nbsp;list.&nbsp;I&nbsp;don&#39;t&nbsp;care&nbsp;about&nbsp;string&nbsp;gref&nbsp;as&nbsp;soon&nbsp;as&nbsp;I&#39;ve&nbsp; added&nbsp;it&nbsp;into&nbsp;java&nbsp;list,&nbsp;just&nbsp;because&nbsp;java&nbsp;list&nbsp;object&nbsp;will&nbsp;contain&nbsp;the&nbsp;reference&nbsp;to&nbsp;each&nbsp;java&nbsp;string!&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;I&#39;ll&nbsp;need&nbsp;to&nbsp;bump&nbsp;the&nbsp;priority&nbsp;of&nbsp;fixing&nbsp;scenarios&nbsp;like&nbsp;this...&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Ok,&nbsp;thanks. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;Another,&nbsp;more&nbsp;annoying&nbsp;issue&nbsp;(no&nbsp;workaround&nbsp;found&nbsp;so&nbsp;far):&lt;br&gt;&gt;&nbsp;Tried&nbsp;to&nbsp;remove&nbsp;listener&nbsp;delegates&nbsp;(&nbsp;doing&nbsp;-=)&nbsp;but&nbsp;that&nbsp;doesn&#39;t&nbsp;help.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;#facepalm.&nbsp;Oops.&nbsp;Yeah,&nbsp;that&#39;s&nbsp;a&nbsp;definite&nbsp;bug.&nbsp;:-/&lt;br&gt;&gt;&nbsp;Doing&nbsp;also&nbsp;GC.Collect(0)&nbsp;in&nbsp;each&nbsp;onStart()&nbsp;-&nbsp;doesn&#39;t&nbsp;help.&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;That&#39;s&nbsp;unexpected.&nbsp;Does&nbsp;a&nbsp;full&nbsp;GC.Collect()&nbsp;collect&nbsp;it?&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Will&nbsp;try&nbsp;this.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;I&#39;ve&nbsp;already&nbsp;heard&nbsp;a&nbsp;comment&nbsp;&quot;use&nbsp;real&nbsp;device&nbsp;and&nbsp;see&nbsp;no&nbsp;issues&nbsp;with&nbsp;50000&nbsp;gref&nbsp;limit&quot;.&lt;br&gt;<br>
&gt;&nbsp;But&nbsp;IMHO&nbsp;that&nbsp;is&nbsp;something&nbsp;like&nbsp;saying&nbsp;&quot;get&nbsp;a&nbsp;4Gb&nbsp;device&nbsp;and&nbsp;don&#39;t&nbsp;care&nbsp;of&nbsp;these&nbsp;memory&nbsp;leaks&quot;.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;To&nbsp;a&nbsp;large&nbsp;degree,&nbsp;I&nbsp;agree.&nbsp;However,&nbsp;given&nbsp;the&nbsp;current&nbsp;model,&nbsp;if&nbsp;you&nbsp;have&nbsp;a&nbsp;View&nbsp;that&nbsp;_requires_&nbsp;holding&nbsp;&gt;&nbsp;2000&nbsp;grefs,&nbsp;there&#39;s&nbsp;no&nbsp;way&nbsp;to&nbsp;make&nbsp;that&nbsp;work&nbsp;on&nbsp;the&nbsp;emulator;&nbsp;hardware&nbsp;is&nbsp;the&nbsp;only&nbsp;workaround.&nbsp;(Can&nbsp;we&nbsp;change&nbsp;the&nbsp;current&nbsp;gref-based&nbsp;model?&nbsp;Yes.&nbsp;Timeframe?&nbsp;Unknown...&nbsp;:-(&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Agree,&nbsp;but&nbsp;I&nbsp;can&#39;t&nbsp;imagine&nbsp;the&nbsp;model&nbsp;where&nbsp;you&nbsp;need&nbsp;this&nbsp;amount&nbsp;of&nbsp;grefs&nbsp;instantly.&nbsp;grefs&nbsp;are&nbsp;just&nbsp;links&nbsp;between&nbsp;java&nbsp;and&nbsp;mono.&nbsp;As&nbsp;soon&nbsp;as&nbsp;I&nbsp;add&nbsp;and&nbsp;configure&nbsp;controls&nbsp;into&nbsp;the&nbsp;view&nbsp;-&nbsp;I&nbsp;need&nbsp;no&nbsp;more&nbsp;to&nbsp;keep&nbsp;grefs.&nbsp;Even&nbsp;in&nbsp;java&nbsp;I&nbsp;do&nbsp;not&nbsp;keep&nbsp;view&nbsp;object&nbsp;references,&nbsp;but&nbsp;use&nbsp;findViewById().&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Moreover,&nbsp;in&nbsp;my&nbsp;case&nbsp;I&nbsp;have&nbsp;a&nbsp;real&nbsp;device&nbsp;with&nbsp;2000gref&nbsp;limit&nbsp;(thats&nbsp;a&nbsp;bad&nbsp;device,&nbsp;I&nbsp;know,&nbsp;but&nbsp;still&nbsp;they&nbsp;exist&nbsp;on&nbsp;a&nbsp;market).&lt;/div&gt;&lt;/div&gt;<br>

</tt>
