<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;I&nbsp;have&nbsp;been&nbsp;able&nbsp;to&nbsp;fix&nbsp;the&nbsp;problem&nbsp;by&nbsp;using&nbsp;this&nbsp;code:&lt;BR&gt;&lt;br&gt;&lt;BR&gt;IntPtr&nbsp;createRfcommSocket&nbsp;=&nbsp;JNIEnv.GetMethodID(item.Class.Handle,&nbsp;&quot;createInsecureRfcommSocket&quot;,&nbsp;&quot;(I)Landroid/bluetooth/BluetoothSocket;&quot;);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IntPtr&nbsp;_socket&nbsp;=&nbsp;JNIEnv.CallObjectMethod(item.Handle,&nbsp;createRfcommSocket,&nbsp;new&nbsp;Android.Runtime.JValue(1));&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ConnectionSock&nbsp;=&nbsp;Java.Lang.Object.GetObject&lt;BluetoothSocket&gt;(_socket,&nbsp;JniHandleOwnership.TransferLocalRef);&lt;BR&gt;&lt;br&gt;&lt;BR&gt;It&nbsp;seems&nbsp;that&nbsp;it&nbsp;was&nbsp;impossible&nbsp;to&nbsp;start&nbsp;a&nbsp;secure&nbsp;connection&nbsp;so&nbsp;a&nbsp;insecure&nbsp;connection&nbsp;must&nbsp;be&nbsp;made.&lt;BR&gt;&lt;br&gt;&lt;BR&gt;&lt;br&gt;Subject:&nbsp;[mono-android]&nbsp;Bluetooth&nbsp;problem&lt;br&gt;&lt;br&gt;<br>
<br>
&lt;style&gt;&lt;!--<br>
.ExternalClass&nbsp;.ecxhmmessage&nbsp;P&nbsp;{<br>
padding:0px;<br>
}<br>
<br>
.ExternalClass&nbsp;body.ecxhmmessage&nbsp;{<br>
font-size:12pt;<br>
font-family:Calibri;<br>
}<br>
<br>
--&gt;&lt;/style&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello,&lt;br&gt;&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;problem&nbsp;connecting&nbsp;to&nbsp;a&nbsp;bluetooth&nbsp;device&nbsp;on&nbsp;my&nbsp;arduino(http://www.hobbycomponents.com/index.php?route=product/product&amp;filter_name=bluetooth&amp;product_id=116)&lt;br&gt;&lt;br&gt;&lt;br&gt;The&nbsp;problem&nbsp;is&nbsp;connecting&nbsp;to&nbsp;it&nbsp;with&nbsp;my&nbsp;phone(Alcatel&nbsp;OT-991)&lt;br&gt;&lt;br&gt;&lt;br&gt;I&nbsp;use&nbsp;the&nbsp;following&nbsp;code&nbsp;to&nbsp;try&nbsp;and&nbsp;connect&nbsp;to&nbsp;the&nbsp;bluetooth&nbsp;device&nbsp;but&nbsp;i&nbsp;get&nbsp;this&nbsp;exeption:&nbsp;service&nbsp;discovery&nbsp;failed.&lt;br&gt;&lt;br&gt;&lt;br&gt;bluetoothAdapter.CancelDiscovery();&lt;br&gt;ConnectionSock&nbsp;=&nbsp;item.CreateRfcommSocketToServiceRecord(SPP_UUID);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ConnectionSock.Connect();&lt;br&gt;&lt;br&gt;&lt;br&gt;After&nbsp;some&nbsp;searching&nbsp;on&nbsp;Google&nbsp;i&nbsp;found&nbsp;this:&lt;br&gt;&lt;br&gt;&lt;br&gt;&gt;&nbsp;I'm&nbsp;trying&nbsp;to&nbsp;add&nbsp;support&nbsp;for&nbsp;a&nbsp;bluetooth&nbsp;device&nbsp;in&nbsp;one&nbsp;of&nbsp;our&nbsp;applications&nbsp;based&nbsp;on&nbsp;the&nbsp;code&nbsp;from&nbsp;the&nbsp;latest&nbsp;Bluetooth&nbsp;Chat&nbsp;example&nbsp;on&nbsp;GitHub.&nbsp;On&nbsp;every&nbsp;attempt&nbsp;to&nbsp;perform&nbsp;socket.Connect()&nbsp;I&nbsp;get&nbsp;the&nbsp;Java.IO.IOException&nbsp;&quot;Service&nbsp;discovery&nbsp;failed&quot;.&lt;br&gt;&lt;br&gt;I&nbsp;see&nbsp;you&nbsp;found&nbsp;the&nbsp;advice&nbsp;to&nbsp;call&nbsp;CancelDiscovery():&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://stackoverflow.com/a/8752294/83444&lt;br&gt;&lt;br&gt;Now&nbsp;you&nbsp;probably&nbsp;need&nbsp;to&nbsp;try&nbsp;the&nbsp;&quot;hack&quot;&nbsp;solution:&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://stackoverflow.com/a/3397739/83444&lt;br&gt;&gt;&nbsp;Method&nbsp;m&nbsp;=&nbsp;device.getClass().getMethod(&quot;createRfcommSocket&quot;,&nbsp;new&nbsp;Class[]&nbsp;{int.class});&lt;br&gt;&gt;&nbsp;socket&nbsp;=&nbsp;(BluetoothSocket)&nbsp;m.invoke(device,&nbsp;1);&lt;br&gt;&lt;br&gt;&lt;br&gt;Unfortunately&nbsp;that&nbsp;solution&nbsp;relies&nbsp;on&nbsp;Java&nbsp;reflection,&nbsp;which&nbsp;we&nbsp;don't&nbsp;currently&nbsp;expose.&nbsp;It&nbsp;thus&nbsp;needs&nbsp;to&nbsp;be&nbsp;translated&nbsp;to&nbsp;JNI:&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;IntPtr&nbsp;createRfcommSocket&nbsp;=&nbsp;JNIEnv.GetMethodID(device.Class.Handle,&nbsp;&quot;createRfcommSocket&quot;,&nbsp;&quot;(I)Landroid/bluetooth/BluetoothSocket;&quot;);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IntPtr&nbsp;_socket&nbsp;=&nbsp;JNIEnv.CallObjectMethod(device.Handle,&nbsp;createRfcommSocket,&nbsp;new&nbsp;Android.Runtime.JValue(1));&lt;br&gt;&nbsp;&nbsp;&nbsp;socket&nbsp;=&nbsp;Java.Lang.Object.GetObject&lt;BluetoothSocket&gt;(_socket,&nbsp;JniHandleOwnership.TransferLocalRef);&lt;br&gt;&lt;br&gt;&nbsp;-&nbsp;Jon&lt;br&gt;&lt;br&gt;(http://lists.ximian.com/pipermail/monodroid/2012-September/012376.html)&lt;br&gt;&lt;br&gt;&lt;br&gt;So&nbsp;i&nbsp;tried&nbsp;that&nbsp;but&nbsp;then&nbsp;i&nbsp;had&nbsp;the&nbsp;problem&nbsp;of&nbsp;getting&nbsp;infinite&nbsp;pair&nbsp;request&nbsp;no&nbsp;matter&nbsp;how&nbsp;many&nbsp;i&nbsp;fill&nbsp;in&nbsp;it&nbsp;kept&nbsp;coming&nbsp;back.&lt;br&gt;&lt;br&gt;&lt;br&gt;now&nbsp;i&nbsp;am&nbsp;lost&nbsp;any&nbsp;one&nbsp;have&nbsp;a&nbsp;idea&nbsp;on&nbsp;how&nbsp;to&nbsp;make&nbsp;this&nbsp;work?&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________<br>
Monodroid&nbsp;mailing&nbsp;list<br>
Monodroid@lists.ximian.com<br>
<br>
UNSUBSCRIBE&nbsp;INFORMATION:<br>
http://lists.ximian.com/mailman/listinfo/monodroid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
