using System;

using Android.App;
using Android.Content;
using Android.Runtime;
using Android.Views;
using Android.Widget;
using Android.OS;

namespace TimerUI3
{
    public class HelloActivity : Activity, Java.Lang.IRunnable
    {
 		int cnt;
		Handler timerHandler;
		TextView textview;

		public HelloActivity (IntPtr handle) : base (handle) {}

		protected override void OnCreate (Bundle bundle)
		{
			base.OnCreate (bundle);

			textview = new TextView (this);
			textview.Text = "MonoDroid Timer Hits: 0";
			SetContentView (textview);

			timerHandler = new Handler ();
			timerHandler.PostDelayed (this, 1000);
		}

		public void Run ()
		{
			cnt++;
            Android.Util.Log.W("MonoDroid log", "CNT=" + cnt);

            System.Console.WriteLine("Cnt: " + cnt);
			textview.Text = "MonoDroid Timer Hits: " + cnt;
			timerHandler.PostDelayed (this, 1000);
		}
    }
}