<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:arial,&nbsp;helvetica,&nbsp;sans-serif;font-size:12pt&quot;&gt;&lt;div&gt;&lt;span&gt;Jon&nbsp;P,&nbsp;you&nbsp;can&nbsp;read&nbsp;me&nbsp;like&nbsp;an&nbsp;Android&nbsp;Book.&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yes&nbsp;it's&nbsp;is&nbsp;a&nbsp;List&lt;Headword&gt;&nbsp;and&nbsp;yes&nbsp;you're&nbsp;right,&nbsp;RemoveAt&nbsp;is&nbsp;the&nbsp;way&nbsp;to&nbsp;go&nbsp;in&nbsp;case&nbsp;there&nbsp;are&nbsp;multiple&nbsp;of&nbsp;the&nbsp;'same'&nbsp;item&nbsp;in&nbsp;the&nbsp;list.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;problem&nbsp;though&nbsp;was&nbsp;that&nbsp;I&nbsp;was&nbsp;attaching&nbsp;the&nbsp;event&nbsp;handlers&nbsp;multiple&nbsp;times&nbsp;because&nbsp;I&nbsp;wasn't&nbsp;detaching&nbsp;the&nbsp;handler&nbsp;when&nbsp;convertView&nbsp;parameter&nbsp;is&nbsp;passed,&nbsp;so&nbsp;it&nbsp;was&nbsp;getting&nbsp;called&nbsp;twice&nbsp;with&nbsp;the&nbsp;current&nbsp;position,&nbsp;and&nbsp;whatever&nbsp;was&nbsp;attached&nbsp;last&nbsp;time.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;OK,&nbsp;last&nbsp;thing.&nbsp;When&nbsp;I&nbsp;delete&nbsp;the&nbsp;item,&nbsp;I&nbsp;want&nbsp;the&nbsp;listview&nbsp;to&nbsp;update&nbsp;and&nbsp;NOT&nbsp;scroll&nbsp;to&nbsp;the&nbsp;top.&nbsp;Recreating&nbsp;the&nbsp;adapter&nbsp;with&nbsp;the&nbsp;now&nbsp;updated&nbsp;list&nbsp;updates&nbsp;the&nbsp;view,&nbsp;but&nbsp;scrolls&nbsp;to&nbsp;the&nbsp;top&nbsp;(and&nbsp;is&nbsp;inefficient).&nbsp;All&nbsp;the&nbsp;SO&nbsp;articles&nbsp;and&nbsp;docco&nbsp;say&nbsp;to&nbsp;use&nbsp;ArrayAdapter&lt;T&gt;.NotifyDataSetChanged().&nbsp;I&nbsp;find&nbsp;that&nbsp;method<br>
&nbsp;doesn't&nbsp;work&nbsp;as&nbsp;I&nbsp;expect&nbsp;though:&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;can&nbsp;do&nbsp;along&nbsp;the&nbsp;lines&nbsp;of&nbsp;(sorry&nbsp;not&nbsp;on&nbsp;the&nbsp;coding&nbsp;computer):&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;lvHeadwords.Adapter&nbsp;=&nbsp;new&nbsp;MyCustomAdapterHeadwords(Headwords);&nbsp;//which&nbsp;inherits&nbsp;ArrayAdapter&lt;T&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;//Then&nbsp;in&nbsp;response&nbsp;to&nbsp;a&nbsp;delete&nbsp;click....&lt;br&gt;&lt;/div&gt;&lt;div&gt;Headwords.RemoveAt(position)&lt;/div&gt;&lt;div&gt;(((MyCustomAdapterHeadwords)lvHeadwords.Adapter).NotifyDataSetChanged();&lt;/div&gt;&lt;div&gt;Assert.AreEqual(lvHeadwords.Adapter.Count,&nbsp;Headwords.Count);&nbsp;//Boom,&nbsp;they're&nbsp;not....&nbsp;and&nbsp;the&nbsp;UI&nbsp;hasn't&nbsp;updated&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That's&nbsp;supposed&nbsp;to&nbsp;work&nbsp;right?&nbsp;As&nbsp;long&nbsp;as&nbsp;the&nbsp;adapter&nbsp;and&nbsp;Headwords&nbsp;are&nbsp;pointing&nbsp;to&nbsp;the&nbsp;same&nbsp;reference?&nbsp;What's&nbsp;the&nbsp;most&nbsp;efficient&nbsp;way&nbsp;to&nbsp;sync&nbsp;the&nbsp;list&nbsp;and&nbsp;the&nbsp;adapter?&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;<br>
&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&lt;font&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;2&quot;&gt;&nbsp;&lt;hr&nbsp;size=&quot;1&quot;&gt;&nbsp;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&nbsp;Jonathan&nbsp;Pryor&nbsp;&lt;jonp@xamarin.com&gt;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;Steven&nbsp;Pack&nbsp;&lt;steven_john_pack@yahoo.com.au&gt;;&nbsp;Discussions&nbsp;related&nbsp;to&nbsp;Mono&nbsp;for&nbsp;Android&nbsp;&lt;monodroid@lists.ximian.com&gt;&nbsp;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Wednesday,&nbsp;8&nbsp;August&nbsp;2012&nbsp;2:02&nbsp;AM&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;Re:&nbsp;[mono-android]&nbsp;Detecting&nbsp;and&nbsp;responding&nbsp;to&nbsp;image&nbsp;clicks&nbsp;in&nbsp;a&nbsp;list&nbsp;view&nbsp;item.&lt;br&gt;&nbsp;&lt;/font&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;br&gt;On&nbsp;Aug&nbsp;7,&nbsp;2012,&nbsp;at&nbsp;2:39&nbsp;AM,&nbsp;Steven&nbsp;Pack&nbsp;&lt;&lt;a&nbsp;ymailto=&quot;mailto:steven_john_pack@yahoo.com.au&quot;&nbsp;href=&quot;mailto:steven_john_pack@yahoo.com.au&quot;&gt;steven_john_pack@yahoo.com.au&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&gt;&nbsp;and&nbsp;deleting&nbsp;the&nbsp;item:&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;void&nbsp;DeleteItem(int&nbsp;position)&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_log.Debug(Tag,&nbsp;&quot;Deleting&nbsp;from<br>
&nbsp;position:&nbsp;&quot;&nbsp;+&nbsp;position);&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;item&nbsp;=&nbsp;Headwords[position];&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Headwords.Remove(item);&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshListView();&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;The&nbsp;DeleteItem&nbsp;method&nbsp;throws&nbsp;IndexOutOfRangeExceptions,&nbsp;firstly&nbsp;because&nbsp;it&nbsp;gets&nbsp;called&nbsp;multiple&nbsp;times&nbsp;and&nbsp;also&nbsp;because&nbsp;the&nbsp;position&nbsp;index&nbsp;doesn't&nbsp;actually&nbsp;represent&nbsp;the&nbsp;real&nbsp;index&nbsp;in&nbsp;the&nbsp;list&nbsp;somehow.&lt;br&gt;&lt;br&gt;What&nbsp;is&nbsp;Headwords?&nbsp;What&nbsp;is&nbsp;Headword?&lt;br&gt;&lt;br&gt;If&nbsp;I&nbsp;assume&nbsp;that&nbsp;Headwords&nbsp;is&nbsp;a&nbsp;List&lt;Headword&gt;,&nbsp;List&lt;T&gt;.Remove()&nbsp;[0]&nbsp;uses&nbsp;List&lt;T&gt;.IndexOf()&nbsp;which&nbsp;uses&nbsp;Array.IndexOf()&nbsp;[1]&nbsp;which&nbsp;uses&nbsp;EqualityComparer&lt;T&gt;.Equals().&nbsp;If&nbsp;Headword&nbsp;doesn't&nbsp;implement&nbsp;IEquatable&lt;Headword&gt;,&nbsp;then&nbsp;EqualityComparer&lt;Headword&gt;&nbsp;will&nbsp;in&nbsp;turn&nbsp;use&nbsp;object.Equals(),&nbsp;which&nbsp;defaults&nbsp;to&nbsp;reference&nbsp;equality,&nbsp;which&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;be<br>
&nbsp;correct.&lt;br&gt;&lt;br&gt;Furthermore,&nbsp;if&nbsp;you&nbsp;have&nbsp;the&nbsp;same&nbsp;Headword&nbsp;instance&nbsp;in&nbsp;Headwords&nbsp;multiple&nbsp;times,&nbsp;List&lt;T&gt;.IndexOf()&nbsp;will&nbsp;return&nbsp;the&nbsp;_first_&nbsp;index,&nbsp;which&nbsp;may&nbsp;not&nbsp;be&nbsp;the&nbsp;index&nbsp;you&nbsp;want.&lt;br&gt;&lt;br&gt;In&nbsp;any&nbsp;event,&nbsp;you&nbsp;should&nbsp;probably&nbsp;&nbsp;be&nbsp;using&nbsp;Headwords.RemoveAt(position),&nbsp;_not_&nbsp;Headwords.Remove(Headwords[position]).&nbsp;The&nbsp;semantics&nbsp;are&nbsp;not&nbsp;equivalent&nbsp;between&nbsp;those&nbsp;expressions&nbsp;if/when&nbsp;the&nbsp;same&nbsp;element&nbsp;is&nbsp;present&nbsp;multiple&nbsp;times&nbsp;in&nbsp;the&nbsp;list.&lt;br&gt;&lt;br&gt;&nbsp;-&nbsp;Jon&lt;br&gt;&lt;br&gt;[0]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/mono/mono/blob/master/mcs/class/corlib/System.Collections.Generic/List.cs#L501&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/mono/mono/blob/master/mcs/class/corlib/System.Collections.Generic/List.cs#L501&lt;/a&gt;&lt;br&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/mono/mono/blob/master/mcs/class/corlib/System/Array.cs#L2810&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/mono/mono/blob/master/mcs/class/corlib/System/Array.cs#L2810&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
