<tt>
I&amp;#39;ve&nbsp;seen&nbsp;this&nbsp;before.&nbsp;If&nbsp;you&nbsp;use&nbsp;a&nbsp;JVM&nbsp;object&nbsp;on&nbsp;a&nbsp;CLR&nbsp;created&nbsp;thread&nbsp;(as&nbsp;you&nbsp;are&nbsp;with&nbsp;RunOnUIThread,&nbsp;which&nbsp;calls&nbsp;android.os.Handler&nbsp;I&nbsp;imagine),&nbsp;you&nbsp;need&nbsp;to&nbsp;manually&nbsp;detach&nbsp;the&nbsp;JVM&nbsp;from&nbsp;the&nbsp;thread&nbsp;prior&nbsp;to&nbsp;it&nbsp;exiting. Ie,&nbsp;jvmInstance.DetatchCurrentThread. If&nbsp;the&nbsp;thread&nbsp;exits&nbsp;without&nbsp;detaching&nbsp;from&nbsp;the&nbsp;JVM,&nbsp;Dalvik&nbsp;will&nbsp;exit.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;how&nbsp;to&nbsp;do&nbsp;this&nbsp;in&nbsp;MonoDroid&nbsp;though.&nbsp;Do&nbsp;we&nbsp;have&nbsp;access&nbsp;to&nbsp;the&nbsp;JNI&nbsp;classes&nbsp;JNIEnv&nbsp;and&nbsp;JavaVM?&lt;div&gt;&lt;div&gt;&lt;br&gt;Koush&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Oct&nbsp;13,&nbsp;2010&nbsp;at&nbsp;9:11&nbsp;PM,&nbsp;Geoff&nbsp;Norton&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:gnorton@novell.com&quot;&gt;gnorton@novell.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;Please&nbsp;file&nbsp;a&nbsp;bug&nbsp;with&nbsp;a&nbsp;sample&nbsp;project.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;-g&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&gt;On&nbsp;2010-10-14,&nbsp;at&nbsp;12:08&nbsp;AM,&nbsp;Steve&nbsp;Niemitz&nbsp;wrote:&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&gt;If&nbsp;you&nbsp;compile&nbsp;and&nbsp;run&nbsp;this:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;a&nbsp;href=&quot;http://pastebin.com/spH545DP&quot;&nbsp;target=&quot;_blank&quot;&gt;http://pastebin.com/spH545DP&lt;/a&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;on&nbsp;preview&nbsp;5&nbsp;the&nbsp;app&nbsp;will&nbsp;crash&nbsp;shortly&nbsp;after&nbsp;the&nbsp;button&nbsp;text&nbsp;updates.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&amp;#39;s&nbsp;the&nbsp;logcat&nbsp;output:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;10-14&nbsp;03:57:16.921:&nbsp;INFO/ActivityManager(59):&nbsp;Displayed&nbsp;activity&nbsp;RunOnUI.RunOnUI/runOnUI.__Proxy__Activity1:&nbsp;1622&nbsp;ms&nbsp;(total&nbsp;1622&nbsp;ms)&lt;/div&gt;&lt;div&gt;<br>
<br>
10-14&nbsp;03:57:16.941:&nbsp;DEBUG/dalvikvm(2253):&nbsp;Trying&nbsp;to&nbsp;load&nbsp;lib&nbsp;/data/data/RunOnUI.RunOnUI/lib/libmonodroid.so&nbsp;0x44e7ead8&lt;/div&gt;&lt;div&gt;10-14&nbsp;03:57:16.941:&nbsp;DEBUG/dalvikvm(2253):&nbsp;Added&nbsp;shared&nbsp;lib&nbsp;/data/data/RunOnUI.RunOnUI/lib/libmonodroid.so&nbsp;0x44e7ead8&lt;/div&gt;<br>
<br>
&lt;div&gt;10-14&nbsp;03:57:19.401:&nbsp;INFO/ActivityManager(59):&nbsp;Displayed&nbsp;activity&nbsp;RunOnUI.RunOnUI/runOnUI.Activity1:&nbsp;2657&nbsp;ms&nbsp;(total&nbsp;2657&nbsp;ms)&lt;/div&gt;&lt;div&gt;10-14&nbsp;03:57:24.841:&nbsp;DEBUG/dalvikvm(2253):&nbsp;GREF&nbsp;has&nbsp;increased&nbsp;to&nbsp;201&lt;/div&gt;&lt;div&gt;10-14&nbsp;03:57:25.271:&nbsp;DEBUG/dalvikvm(402):&nbsp;GC_EXPLICIT&nbsp;freed&nbsp;129&nbsp;objects&nbsp;/&nbsp;8384&nbsp;bytes&nbsp;in&nbsp;840ms&lt;/div&gt;<br>
<br>
&lt;div&gt;10-14&nbsp;03:57:29.481:&nbsp;DEBUG/dalvikvm(123):&nbsp;GC_EXPLICIT&nbsp;freed&nbsp;273&nbsp;objects&nbsp;/&nbsp;13016&nbsp;bytes&nbsp;in&nbsp;54ms&lt;/div&gt;&lt;div&gt;&lt;b&gt;10-14&nbsp;03:57:32.906:&nbsp;DEBUG/dalvikvm(2253):&nbsp;threadid=8:&nbsp;thread&nbsp;exiting,&nbsp;not&nbsp;yet&nbsp;detached&nbsp;(count=0)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;b&gt;10-14&nbsp;03:57:32.906:&nbsp;DEBUG/dalvikvm(2253):&nbsp;threadid=8:&nbsp;thread&nbsp;exiting,&nbsp;not&nbsp;yet&nbsp;detached&nbsp;(count=1)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;10-14&nbsp;03:57:32.906:&nbsp;ERROR/dalvikvm(2253):&nbsp;threadid=8:&nbsp;native&nbsp;thread&nbsp;exited&nbsp;without&nbsp;detaching&lt;/b&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;b&gt;10-14&nbsp;03:57:32.906:&nbsp;ERROR/dalvikvm(2253):&nbsp;VM&nbsp;aborting&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;10-14&nbsp;03:57:32.906:&nbsp;WARN/mono(2253):&nbsp;Thread&nbsp;0x0&nbsp;may&nbsp;have&nbsp;been&nbsp;prematurely&nbsp;finalized&lt;/b&gt;&lt;/div&gt;&lt;div&gt;10-14&nbsp;03:57:32.930:&nbsp;DEBUG/Zygote(33):&nbsp;Process&nbsp;2253&nbsp;terminated&nbsp;by&nbsp;signal&nbsp;(11)&lt;/div&gt;<br>
<br>
&lt;div&gt;10-14&nbsp;03:57:32.930:&nbsp;INFO/ActivityManager(59):&nbsp;Process&nbsp;RunOnUI.RunOnUI&nbsp;(pid&nbsp;2253)&nbsp;has&nbsp;died.&lt;/div&gt;&lt;div&gt;10-14&nbsp;03:57:32.940:&nbsp;INFO/WindowManager(59):&nbsp;WIN&nbsp;DEATH:&nbsp;Window{4502e418&nbsp;RunOnUI.RunOnUI/runOnUI.Activity1&nbsp;paused=false}&lt;/div&gt;<br>
<br>
&lt;div&gt;10-14&nbsp;03:57:33.000:&nbsp;INFO/UsageStats(59):&nbsp;Unexpected&nbsp;resume&nbsp;of&nbsp;com.android.launcher&nbsp;while&nbsp;already&nbsp;resumed&nbsp;in&nbsp;RunOnUI.RunOnUI&lt;/div&gt;&lt;div&gt;10-14&nbsp;03:57:33.220:&nbsp;WARN/InputManagerService(59):&nbsp;Got&nbsp;RemoteException&nbsp;sending&nbsp;setActive(false)&nbsp;notification&nbsp;to&nbsp;pid&nbsp;2253&nbsp;uid&nbsp;10034&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;watch&nbsp;DDMS&nbsp;while&nbsp;this&nbsp;runs&nbsp;you&nbsp;can&nbsp;see&nbsp;it&nbsp;creates&nbsp;2&nbsp;worker&nbsp;threads&nbsp;then&nbsp;crashes&nbsp;shortly&nbsp;after.&nbsp; If&nbsp;you&nbsp;set&nbsp;it&nbsp;up&nbsp;so&nbsp;it&nbsp;only&nbsp;ever&nbsp;has&nbsp;1&nbsp;threadpool&nbsp;thread&nbsp;outstanding&nbsp;at&nbsp;a&nbsp;time&nbsp;(ex.&nbsp;remove&nbsp;the&nbsp;loop)&nbsp;it&nbsp;won&amp;#39;t&nbsp;crash&nbsp;(from&nbsp;what&nbsp;I&amp;#39;ve&nbsp;seen&nbsp;so&nbsp;far).&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;submitted&nbsp;a&nbsp;bug&nbsp;(646424)&nbsp;for&nbsp;this.&nbsp; Has&nbsp;anyone&nbsp;else&nbsp;seen&nbsp;this&nbsp;happen?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
_______________________________________________&lt;br&gt;Monodroid&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Monodroid@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Monodroid@lists.ximian.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monodroid&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monodroid&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Monodroid&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Monodroid@lists.ximian.com&quot;&gt;Monodroid@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monodroid&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monodroid&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
