<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] simple web client crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20simple%20web%20client%20crash&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006077.html">
   <LINK REL="Next"  HREF="006053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] simple web client crash</H1>
    <B>John Murray</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20simple%20web%20client%20crash&In-Reply-To="
       TITLE="[mono-android] simple web client crash">john at murray.gb.com
       </A><BR>
    <I>Sun Aug 28 06:20:07 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006077.html">[mono-android] Could not create the Android package
</A></li>
        <LI>Next message: <A HREF="006053.html">[mono-android] simple web client crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6048">[ date ]</a>
              <a href="thread.html#6048">[ thread ]</a>
              <a href="subject.html#6048">[ subject ]</a>
              <a href="author.html#6048">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just transported this code from a windows form app testbed - where it is
working fine  in same VS2010 debugger

Can anyone tell me - should I be handling things differently in mandroid? 

It simply hangs on the line Wc.Uploaddata() and I cant get a clue  what's
causing it 

Obviously I've checked connection etc 

 

                                string mystr2 = &quot;&lt;nwx
version=\&quot;0.3.5\&quot;&gt;&lt;Request id=\&quot;1\&quot;&gt;&lt;AvailableEpochs/&gt;&lt;/Request&gt;&lt;/nwx&gt;&quot;;

WebClient wc = new WebClient();

            wc.Headers.Add(&quot;Content-Type&quot;, &quot;application/xml&quot;);

            wc.Headers.Add(&quot;Pragma&quot;, &quot;no-cache&quot;);

            wc.Headers.Add(&quot;Cache-Control&quot;, &quot;no-cache&quot;);

            wc.Headers.Add(&quot;Host&quot;, &quot;www.navlost.eu&quot;);

 

            string ss3 = &quot;<A HREF="http://navlost.eu/nwxs/&quot;;">http://navlost.eu/nwxs/&quot;;</A>

            byte[] byteArray = Encoding.ASCII.GetBytes(mystr2);    //(mystr2
is a string representation of xml file 

            byte[] responseArray = wc.UploadData(ss3, &quot;POST&quot;, byteArray);

 

 

I'm stumped 

 

Any help gratefully solicited 

 

John Murray

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110828/956a485e/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110828/956a485e/attachment-0001.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006077.html">[mono-android] Could not create the Android package
</A></li>
	<LI>Next message: <A HREF="006053.html">[mono-android] simple web client crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6048">[ date ]</a>
              <a href="thread.html#6048">[ thread ]</a>
              <a href="subject.html#6048">[ subject ]</a>
              <a href="author.html#6048">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
