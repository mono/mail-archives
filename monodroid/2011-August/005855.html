<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Monodroid App on OS3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Monodroid%20App%20on%20OS3&In-Reply-To=1313145366225-4692796.post%40n5.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005851.html">
   <LINK REL="Next"  HREF="005865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Monodroid App on OS3</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Monodroid%20App%20on%20OS3&In-Reply-To=1313145366225-4692796.post%40n5.nabble.com"
       TITLE="[mono-android] Monodroid App on OS3">jonp at xamarin.com
       </A><BR>
    <I>Fri Aug 12 09:58:30 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005851.html">[mono-android] Monodroid App on OS3
</A></li>
        <LI>Next message: <A HREF="005865.html">[mono-android] Monodroid App on OS3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5855">[ date ]</a>
              <a href="thread.html#5855">[ thread ]</a>
              <a href="subject.html#5855">[ subject ]</a>
              <a href="author.html#5855">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Aug 12, 2011, at 6:36 AM, was wrote:
&gt;<i> My Monodroid app runs fine on my OS2.1 mobile and on the emulator. However, a
</I>&gt;<i> beta tester has installed it on his Acer tablet running OS3 (Honeycomb), and
</I>&gt;<i> it crashes on launch:
</I>&gt;<i> 
</I>&gt;<i> &#8220;Sorry!  The application Skylog Pro (process SkylogPro.SkylogPro) has
</I>&gt;<i> stopped unexpectedly.  Please try again.  Force close.&#8221;
</I>...
&gt;<i> Should the app run ok on OS3?
</I>
Yes, but... ;-)

Mono for Android provides two runtimes (VS: Project Properties &gt; Application tab &gt; Supported architectures), armeabi and armeabi-v7a.

The armeabi architecture is for ARMv5, which has no notion of multi-procesor support.

The armeabi-v7a architectures is for ARMv7a, which does have a notion of multi-processor support (and hardware FPU support, and...).

By default, only armeabi is included with your app, meaning that the armeabi runtime will be used everywhere. However, the armeabi runtime appears to crash (hard!) on multi-processor systems. For example, if I take the project attached to <A HREF="http://bugzilla.xamarin.com/show_bug.cgi?id=245,">http://bugzilla.xamarin.com/show_bug.cgi?id=245,</A> comment out the GC.Collect() call on line 39 (as described in Comment 2), and deploy a Release build to a Xoom, it crashes in the manner you described.

If I rebuild a Release build and include the armeabi-v7a architecture, it runs normally.

So is there a bug here? Yes: armeabi shouldn't crash on multi-core architectures. (We should instead modify it so that it'll only run code on a single core.) This has been filed as <A HREF="http://bugzilla.xamarin.com/show_bug.cgi?id=281.">http://bugzilla.xamarin.com/show_bug.cgi?id=281.</A>

Is there a workaround? Yes: include the armeabi-v7a architecture with your app.

 - Jon

</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005851.html">[mono-android] Monodroid App on OS3
</A></li>
	<LI>Next message: <A HREF="005865.html">[mono-android] Monodroid App on OS3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5855">[ date ]</a>
              <a href="thread.html#5855">[ thread ]</a>
              <a href="subject.html#5855">[ subject ]</a>
              <a href="author.html#5855">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
