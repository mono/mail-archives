<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] How to use Resources.GetIdentifier()?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20How%20to%20use%20Resources.GetIdentifier%28%29%3F&In-Reply-To=1313018596399-4687726.post%40n5.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005824.html">
   <LINK REL="Next"  HREF="005827.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] How to use Resources.GetIdentifier()?</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20How%20to%20use%20Resources.GetIdentifier%28%29%3F&In-Reply-To=1313018596399-4687726.post%40n5.nabble.com"
       TITLE="[mono-android] How to use Resources.GetIdentifier()?">jonp at xamarin.com
       </A><BR>
    <I>Wed Aug 10 21:15:43 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005824.html">[mono-android] How to use Resources.GetIdentifier()?
</A></li>
        <LI>Next message: <A HREF="005827.html">[mono-android] How to use Resources.GetIdentifier()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5826">[ date ]</a>
              <a href="thread.html#5826">[ thread ]</a>
              <a href="subject.html#5826">[ subject ]</a>
              <a href="author.html#5826">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Aug 10, 2011, at 7:23 PM, chobo2 wrote:
&gt;<i> I need to find the id by name then use that int value to set a image.
</I>
Why do you need to do this?

&gt;<i> I found this method that seems to be what I need(it says I should not use
</I>&gt;<i> this method if possible but not sure what other method I could use then).
</I>
The recommended approach would be to directly use the integer constants, which you appear to be loathe to do. The reason is probably performance, as using an integral constant ~directly is likely to be far faster than loading up whatever metadata mechanism Resources.GetIdentifier() is using.

&gt;<i> int result =  Resources.GetIdentifier(&quot;my_image, &quot;drawable&quot;,null);
</I>&gt;<i> 
</I>&gt;<i> I was not sure what to put for package so that might be why result is always coming back as zero.
</I>
The package is your application package name. :-)

For example, in the monodroid-samples/HelloWorld [0] sample, the package is &quot;mono.samples.helloworld&quot;. Thus, within HellAndroid.OnCreate()[1], we can do:

	Android.Util.Log.Debug (&quot;*jonp*&quot;, &quot;Resource.Layout.Main={0}&quot;, Resource.Layout.main);
	Android.Util.Log.Debug (&quot;*jonp*&quot;, &quot;Resource.Layout.Main={0}&quot;, Resources.GetIdentifier (&quot;main&quot;, &quot;layout&quot;, &quot;mono.samples.helloworld&quot;));

These both print out the same value.

You can determine the package name by reading the verbose build output, or by reading obj/Debug/android/src/R.java:

	package mono.samples.helloworld;

(Generally speaking, the package name is your lowercased assembly name IFF your assembly name contains '.'s, e.g. `Mono.Samples.HelloWorld.dll` generates a package name of `mono.samples.helloworld`. If your assembly contains no '.'s, then your package name is `assembly_basename.assembly_basename`.)

HOWEVER, Android.Content.Res.Resources.GetIdentifier() wants the &quot;Android&quot; resource name, which may differ from what you expect. In your earlier email, you had wanted to do:

	TextView lblToday = FindViewById&lt;TextView&gt;(&quot;lblToday&quot;);

Android doesn't support mixed casing on several resource types, in particular resource types which are backed by distinct files (layouts and drawables, among others). Consequently, while Mono for Android would allow you to reference `Resource.Layout.lblToday`, Android will not, and you will need to lowercase such references to &quot;lbltoday&quot;. (This doesn't extend to everything, though; ids, strings, colors, etc. may all be mixed case. No, I can't explain why Android did it this way.)

Consequently, as long as you always name your resources lowercase, things will be consistent, but if you use PascalCased filenames, then your Resources.GetIdentifer() call will need to use the lowercased variant of your resource names.

&gt;<i> I have this image in &quot;Drawable-mdpi&quot; but I would think &quot;drawable&quot; would work.
</I>
Correct, &quot;drawable&quot;, would work.

 - Jon

[0] <A HREF="https://github.com/mono/monodroid-samples/tree/master/HelloWorld">https://github.com/mono/monodroid-samples/tree/master/HelloWorld</A>
[1] <A HREF="https://github.com/mono/monodroid-samples/blob/master/HelloWorld/HelloWorld.cs#L11">https://github.com/mono/monodroid-samples/blob/master/HelloWorld/HelloWorld.cs#L11</A>

</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005824.html">[mono-android] How to use Resources.GetIdentifier()?
</A></li>
	<LI>Next message: <A HREF="005827.html">[mono-android] How to use Resources.GetIdentifier()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5826">[ date ]</a>
              <a href="thread.html#5826">[ thread ]</a>
              <a href="subject.html#5826">[ subject ]</a>
              <a href="author.html#5826">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
