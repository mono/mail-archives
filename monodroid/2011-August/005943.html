<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Error while copying SQLite database
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Error%20while%20copying%20SQLite%20database&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005939.html">
   <LINK REL="Next"  HREF="005954.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Error while copying SQLite database</H1>
    <B>vsr28</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Error%20while%20copying%20SQLite%20database&In-Reply-To="
       TITLE="[mono-android] Error while copying SQLite database">shadaur.rahman at harbingergroup.com
       </A><BR>
    <I>Mon Aug 22 10:59:30 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005939.html">[mono-android] Web Reference / method-parameters
</A></li>
        <LI>Next message: <A HREF="005954.html">[mono-android] Error while copying SQLite database
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5943">[ date ]</a>
              <a href="thread.html#5943">[ thread ]</a>
              <a href="subject.html#5943">[ subject ]</a>
              <a href="author.html#5943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Guys,

I have SQLite DB of size around 10MB. I want to access this database in my
monodroid application. To achieve this functionality I have followed
following steps. 

1) Put SQLite DB file in Asset folder.
2) Checked the existence of DB in device memory.
3) If DB is not present then copied DB to device memory.
Below is the code snippet which I used to copy DB to device.

 //Open your local db as the input stream
Stream myInput = myContext.Assets.Open(DB_NAME);

// Path to the just created empty db
string outFileName = DB_PATH + DB_NAME;

//Open the empty db as the output stream
Stream myOutput = new FileStream(outFileName, FileMode.OpenOrCreate);

//transfer bytes from the inputfile to the outputfile
byte[] buffer = new byte[1024];
int b = buffer.Length;
int length;
while ((length = myInput.Read(buffer, 0, b)) &gt; 0)
{
           myOutput.Write(buffer, 0, length);
}
 //Close the streams
 myOutput.Flush();
 myOutput.Close();
 myInput.Close();

4) Once the DB is copied, opened the database and executed the SQL
statements. Below is the code snippet.

String myPath = DB_PATH + DB_NAME;
myDataBase = SQLiteDatabase.OpenDatabase(myPath, null,
DatabaseOpenFlags.OpenReadonly);

The above step works fine when DB is of less size with very less records
(around 500 records). But as I am using huge DB file i am getting error
while copying the DB. (i.e Step 3)

I have taken help from below link
<A HREF="http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/">http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/</A>

Please help me with your suggestion or code sample.

Thanks 
S.Rahman

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Error-while-copying-SQLite-database-tp4723722p4723722.html">http://mono-for-android.1047100.n5.nabble.com/Error-while-copying-SQLite-database-tp4723722p4723722.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005939.html">[mono-android] Web Reference / method-parameters
</A></li>
	<LI>Next message: <A HREF="005954.html">[mono-android] Error while copying SQLite database
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5943">[ date ]</a>
              <a href="thread.html#5943">[ thread ]</a>
              <a href="subject.html#5943">[ subject ]</a>
              <a href="author.html#5943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
