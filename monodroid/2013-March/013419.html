<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Enhancement code for Spinner
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Enhancement%20code%20for%20Spinner&In-Reply-To=%3C51308BFA.1070802%40all-the-johnsons.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013418.html">
   <LINK REL="Next"  HREF="013437.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Enhancement code for Spinner</H1>
    <B>Paul Johnson</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Enhancement%20code%20for%20Spinner&In-Reply-To=%3C51308BFA.1070802%40all-the-johnsons.co.uk%3E"
       TITLE="[mono-android] Enhancement code for Spinner">paul at all-the-johnsons.co.uk
       </A><BR>
    <I>Fri Mar  1 11:07:38 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="013418.html">[mono-android] Help with Binding EcoGallery
</A></li>
        <LI>Next message: <A HREF="013437.html">[mono-android] Enhancement code for Spinner
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13419">[ date ]</a>
              <a href="thread.html#13419">[ thread ]</a>
              <a href="subject.html#13419">[ subject ]</a>
              <a href="author.html#13419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> hi,its glad to tell i saved spinner value(courseNumbers) in database with ur
</I>&gt;<i> assistance code...but when i click on retreive button now i want to populate
</I>&gt;<i> that spinner with courses based on the value(courseNumber) in database based
</I>&gt;<i> on sno...
</I>&gt;<i> ex data in database:
</I>&gt;<i> sno    course    address
</I>&gt;<i> 1000   303        uk
</I>&gt;<i> 1001    404      india
</I>&gt;<i> 1002    505      usa
</I>&gt;<i> here my requiremnt is when i give value in sno edittext and click on
</I>&gt;<i> retreive button the data should populate in spinner and edittext....for
</I>&gt;<i> example i enter 1000 in sno edittext and click on retreive button the
</I>&gt;<i> spinner should populate with Biology and  address edittext sholud populate
</I>&gt;<i> with uk....the spinner should set with coursename based on courseNumber in
</I>&gt;<i> database...
</I>
This is where the use of a dictionary object comes in handy. My original 
code constructed two Lists (an int and string) which contained the 
course names and course values. This was fine for my demonstration 
purpose, but now we're doing searches. Of course, you can do them on 
List objects and we'll use both so you can decide which works best.

A dictionary has the advantage of being a key/value system, I have a key 
(say &quot;German&quot;) and this has an associated value (505). To set up the 
dictionary...

Dictionary &lt;keyType, valueType&gt; name = new Dictionary&lt;keyType, valueType&gt;();

where keyType is the type of object the key is (for example, string, 
int, double, class, List&lt;T&gt; etc) and valueType is the type of object the 
value is (string, double etc).

As with a List, you add to the dictionary using the .Add method, so if I 
have a Dictionary&lt;string, int&gt; foo, it would be

foo.Add(&quot;German&quot;, 505);

There are plenty of ways to get values out of the dictionary object, but 
possibly the most useful for you will be to use TryGetValue. This looks 
up a given key in the dictionary and returns a value.

To get a value from foo...

int outValue = 0;
if (foo.TryGetValue(&quot;German&quot;, out outValue))
Console.WriteLine(&quot;value found = {0}, outValue);
else
Console.WriteLine(&quot;key not found&quot;);

There is a very slight performance hit using a Dictionary; it is 
slightly slower than searching a list, but consider this. If I want to 
search a list for a string, I can do this

if (foo.Contains(&quot;German&quot;))

but then I have to find where in the list &quot;German&quot;, so the code becomes

int position = 0;
if (foo.Contains(&quot;German&quot;))
{
position = foo.IndexOf(&quot;German&quot;);
Console.WriteLine(&quot;position of German = {0}&quot;, position;
}
else
Console.WriteLine(&quot;German not found&quot;);

In effect, there are two lookups. I've not done any sort of performance 
timing on using this &quot;double lookup&quot;, but I'd expect it now to be slower 
than a dictionary.

&gt;<i>                  conn.Open();
</I>&gt;<i>                  SqliteDataReader sdr = cmd.ExecuteReader();
</I>&gt;<i>                  while (sdr.Read())
</I>&gt;<i>                  {
</I>&gt;<i>                      string str = Convert.ToString(sdr[&quot;SCOURSE&quot;]);
</I>&gt;<i>
</I>&gt;<i>                           /* here have to write the code for population of
</I>&gt;<i> spinner ....here i have taken courseNumber in string variable str...based on
</I>&gt;<i> this value spinner should set with course...  */
</I>
Here then you would want to be using Dictionary&lt;int, string&gt;

the parameter to search though would need to be an int, so

int strToFind = Convert.ToInt32(sdr[&quot;SCOURSE&quot;]);
then

if (myDictionary.ContainsKey(strToFind))
etaddspinner.Text = Convert.ToString(sdr[&quot;SADD&quot;]);

However, as you're just drawing from the database rather than anything 
else, you can ignore the dictionary and use the list as before. Again 
though, you will need to be using an int to look up the course number, 
so the code would be

int strToFind = Convert.ToInt32(sdr[&quot;SCOURSE&quot;]);
if (myCourseList.Contains(strToFind))
etaddspinner.Text = Convert.ToString(sdr[&quot;SADD&quot;]);

At this point you may be wondering how to make this even more flexible. 
That's simple, follow this logic

1. Set up your container(s) (either List&lt;&gt; or Dictionary)
2. Read in from the database the available courses and course numbers 
into the containers
3. That's it

Once you've read in from the database to propagate the containers, you 
don't need to do it anymore. Database access slows things down big time!

Paul
-- 
&quot;Space,&quot; it says, &quot;is big. Really big. You just won't believe how 
vastly, hugely, mindbogglingly big it is. I mean, you may think it's a 
long way down the road to the chemist's, but that's just peanuts to 
space, listen...&quot;
Hitch Hikers Guide to the Galaxy, a truly remarkable book!

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013418.html">[mono-android] Help with Binding EcoGallery
</A></li>
	<LI>Next message: <A HREF="013437.html">[mono-android] Enhancement code for Spinner
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13419">[ date ]</a>
              <a href="thread.html#13419">[ thread ]</a>
              <a href="subject.html#13419">[ subject ]</a>
              <a href="author.html#13419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
