<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Enhancement code for Spinner
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Enhancement%20code%20for%20Spinner&In-Reply-To=%3C1362123634758-5712968.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013416.html">
   <LINK REL="Next"  HREF="013418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Enhancement code for Spinner</H1>
    <B>krish</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Enhancement%20code%20for%20Spinner&In-Reply-To=%3C1362123634758-5712968.post%40n5.nabble.com%3E"
       TITLE="[mono-android] Enhancement code for Spinner">kickrish at gmail.com
       </A><BR>
    <I>Fri Mar  1 07:40:34 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="013416.html">[mono-android] HttpWebRequest and ServicePoint.SetTcpKeepAlive
</A></li>
        <LI>Next message: <A HREF="013418.html">[mono-android] Help with Binding EcoGallery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13417">[ date ]</a>
              <a href="thread.html#13417">[ thread ]</a>
              <a href="subject.html#13417">[ subject ]</a>
              <a href="author.html#13417">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi,its glad to tell i saved spinner value(courseNumbers) in database with ur
assistance code...but when i click on retreive button now i want to populate
that spinner with courses based on the value(courseNumber) in database based
on sno...
ex data in database:
sno    course    address
1000   303        uk
1001    404      india
1002    505      usa
here my requiremnt is when i give value in sno edittext and click on
retreive button the data should populate in spinner and edittext....for
example i enter 1000 in sno edittext and click on retreive button the
spinner should populate with Biology and  address edittext sholud populate
with uk....the spinner should set with coursename based on courseNumber in
database...

i declared courseCode as global variable and saved in my database....my save
button and retreive button code is as follows:

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

using Android.App;
using Android.Content;
using Android.OS;
using Android.Runtime;
using Android.Views;
using Android.Widget;
using Mono.Data.Sqlite;
using System.IO;
using System.Data;

namespace EtSpSqlite
{
    [Activity(Label = &quot;SaveSpinnerWithValue&quot;,MainLauncher=true)]
    public class SpinnerSaveWithValue : Activity
    {
        Spinner spinner;
        EditText etsnospinner;
        EditText etaddspinner;
        ArrayAdapter&lt;String&gt; aa;
        ArrayAdapter&lt;string&gt; adapter;
        string courseCode;
        TextView tvmsg;
        protected override void OnCreate(Bundle bundle)
        {
            base.OnCreate(bundle);
            SetContentView(Resource.Layout.SpinnerSaveWithValue);
            // Create your application here
            Button savespinner =
FindViewById&lt;Button&gt;(Resource.Id.saveSpinner);
            spinner = FindViewById&lt;Spinner&gt;(Resource.Id.spinnerValue);
            List&lt;string&gt; courses = new List&lt;string&gt;();
            courses.AddRange(new string[]{&quot;Chemistry&quot;, &quot;Physics&quot;,
&quot;Biology&quot;,&quot;Maths&quot;, &quot;German&quot;});
            List&lt;int&gt; courseNumbers = new List&lt;int&gt;();
            courseNumbers.AddRange(new int[] { 101, 202, 303, 404, 505 });
            adapter = new
ArrayAdapter&lt;string&gt;(this,Android.Resource.Layout.SimpleSpinnerDropDownItem);
            foreach (string s in courses)
                adapter.Add(s);
            spinner.Adapter = adapter;

             spinner.ItemSelected += (object
sender,AdapterView.ItemSelectedEventArgs e) =&gt;
            {
              courseCode = courseNumbers[e.Position].ToString();
            };          
            savespinner.Click+=new EventHandler(savespinner_Click);
            etsnospinner = FindViewById&lt;EditText&gt;(Resource.Id.etsnospinner);
            etaddspinner = FindViewById&lt;EditText&gt;(Resource.Id.etaddSpinner);
            Button retreivespinner =
FindViewById&lt;Button&gt;(Resource.Id.retrievespinner);
            retreivespinner.Click+=new EventHandler(retreivespinner_Click);
            tvmsg=FindViewById&lt;TextView&gt;(Resource.Id.tvspinner);
         
        }
        void savespinner_Click(object sender, EventArgs e) {           
           
            string DatabaseName = &quot;sdata.db3&quot;;
            string documents =
System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal);
            string db = Path.Combine(documents, DatabaseName);
            bool exists = File.Exists(db);
            if (!exists)
            {
                SqliteConnection.CreateFile(db);
            }
            var conn = new SqliteConnection(&quot;Data Source=&quot; + db);
            SqliteCommand sqlitecmd = new SqliteCommand();
            sqlitecmd.Connection = conn;
            string cmd = &quot;CREATE TABLE IF NOT EXISTS STDNT(SNO INT,SCOURSE
VARCHAR(50),SADD VARCHAR(50))&quot;;
            sqlitecmd.CommandType = CommandType.Text;
            sqlitecmd.CommandText = cmd;
            conn.Open();
            sqlitecmd.ExecuteNonQuery();
            conn.Close();

            SqliteCommand sqlc = new SqliteCommand();
            sqlc.Connection = conn;
            conn.Open();
            string strSql = &quot;INSERT INTO STDNT (SNO, SCOURSE, SADD) VALUES
(@SNO, @SCOURSE, @SADD)&quot;;
            sqlc.CommandText = strSql;
            sqlc.CommandType = CommandType.Text;
            sqlc.Parameters.Add(new
SqliteParameter(&quot;@SNO&quot;,etsnospinner.Text));
            sqlc.Parameters.Add(new SqliteParameter(&quot;@SCOURSE&quot;,
courseCode));
            sqlc.Parameters.Add(new SqliteParameter(&quot;@SADD&quot;,
etaddspinner.Text));
            sqlc.ExecuteNonQuery();
            if (conn.State != ConnectionState.Closed)
            {
                conn.Close();
            }
            conn.Dispose();
            Toast.MakeText(this, &quot;data inserted successfully...!&quot;,
ToastLength.Long).Show();
           etsnospinner.Text = &quot;&quot;;
           etaddspinner.Text = &quot;&quot;;
          
        }
        void retreivespinner_Click(object sender, EventArgs e) { 
         string DatabaseName = &quot;sdata.db3&quot;;
            string documents =
System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal);
            string db = Path.Combine(documents, DatabaseName);
            var conn = new SqliteConnection(&quot;Data Source=&quot; + db);
            var strSql = &quot;select SNO,SCOURSE,SADD from STDNT where
SNO=@SNO&quot;;
            var cmd = new SqliteCommand(strSql, conn);
            cmd.CommandType = CommandType.Text;
            cmd.Parameters.Add(new SqliteParameter(&quot;@SNO&quot;,
etsnospinner.Text));
            try
            {
                conn.Open();
                SqliteDataReader sdr = cmd.ExecuteReader();
                while (sdr.Read())
                {
                    string str = Convert.ToString(sdr[&quot;SCOURSE&quot;]);   
               
                         /* here have to write the code for population of
spinner ....here i have taken courseNumber in string variable str...based on
this value spinner should set with course...  */        

  
                    etaddspinner.Text = Convert.ToString(sdr[&quot;SADD&quot;]);
                }
            }
            catch (System.Exception sysExc)
            {
               
                tvmsg.Text = sysExc.Message;
            }
            finally
            {
                if (conn.State != ConnectionState.Closed)
                {
                    conn.Close();
                }
                conn.Dispose();
            }
        }
    }
}




--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Enhancement-code-for-Spinner-tp5712950p5712968.html">http://mono-for-android.1047100.n5.nabble.com/Enhancement-code-for-Spinner-tp5712950p5712968.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013416.html">[mono-android] HttpWebRequest and ServicePoint.SetTcpKeepAlive
</A></li>
	<LI>Next message: <A HREF="013418.html">[mono-android] Help with Binding EcoGallery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13417">[ date ]</a>
              <a href="thread.html#13417">[ thread ]</a>
              <a href="subject.html#13417">[ subject ]</a>
              <a href="author.html#13417">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
