<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Testing for a network connection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Testing%20for%20a%20network%20connection&In-Reply-To=%3C4F6A1F71.7060204%40all-the-johnsons.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009401.html">
   <LINK REL="Next"  HREF="009402.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Testing for a network connection</H1>
    <B>Paul Johnson</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Testing%20for%20a%20network%20connection&In-Reply-To=%3C4F6A1F71.7060204%40all-the-johnsons.co.uk%3E"
       TITLE="[mono-android] Testing for a network connection">paul at all-the-johnsons.co.uk
       </A><BR>
    <I>Wed Mar 21 18:35:29 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009401.html">[mono-android] Sample project Tutorials
</A></li>
        <LI>Next message: <A HREF="009402.html">[mono-android] Testing for a network connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9396">[ date ]</a>
              <a href="thread.html#9396">[ thread ]</a>
              <a href="subject.html#9396">[ subject ]</a>
              <a href="author.html#9396">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to resolve an issue with an app I'm porting from iPhone to 
Android and I'm going through everything bit by bit.

The problem is that whenever the app attempts to the outside world, it 
falls over dead. Works fine on the emulator, dies on a phone. One thing 
I'm looking at is the way I'm connecting to the outside world.

The manifest has INTERNET enabled, so it's not likely to be that.

Next is the test for the outside world connection...

         public bool checkForNetwork(bool mobile)
         {
             ConnectivityManager connectivityManager = 
(ConnectivityManager)Android.App.Application.Context.GetSystemService(Android.Content.Context.ConnectivityService);
             NetworkInfo networkInfo =
                 connectivityManager.GetNetworkInfo(mobile ? 
Android.Net.ConnectivityType.Mobile :
 
Android.Net.ConnectivityType.Wifi);
             if (networkInfo.IsConnected || 
networkInfo.IsConnectedOrConnecting)
                 return true;
             else
                 return false;
         }

I then test for &quot;true&quot; being returned. mobile tests for wifi being 
either mobile or wifi. I know there is a connecting one as well - could 
this be the problem?

Any advice would be appreciated.

Paul
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009401.html">[mono-android] Sample project Tutorials
</A></li>
	<LI>Next message: <A HREF="009402.html">[mono-android] Testing for a network connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9396">[ date ]</a>
              <a href="thread.html#9396">[ thread ]</a>
              <a href="subject.html#9396">[ subject ]</a>
              <a href="author.html#9396">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
