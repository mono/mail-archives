<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] 3rd party lib
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%203rd%20party%20lib&In-Reply-To=006501cc1f84%242ac13130%2480439390%24%40kennet.se">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005281.html">
   <LINK REL="Next"  HREF="005283.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] 3rd party lib</H1>
    <B>luoky</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%203rd%20party%20lib&In-Reply-To=006501cc1f84%242ac13130%2480439390%24%40kennet.se"
       TITLE="[mono-android] 3rd party lib">luoky123 at gmail.com
       </A><BR>
    <I>Thu Jul  7 04:00:08 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005281.html">[mono-android] Google maps exceptions
</A></li>
        <LI>Next message: <A HREF="005283.html">[mono-android] Can't see devices in MonoDevelop on OSX?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5282">[ date ]</a>
              <a href="thread.html#5282">[ thread ]</a>
              <a href="subject.html#5282">[ subject ]</a>
              <a href="author.html#5282">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hai! I find the way tho call the 3rd party lib &quot;.so&quot; in the monodroid, like
that:

//the file name is sum.c
#include &lt;stdio.h&gt;
int sum(int a, int b)
{
        return a + b;
} 

------------------------------
using System;
using System.Runtime.InteropServices;
public class UnsafeDemo
{
        [DllImport (&quot;libsum.so&quot;, EntryPoint=&quot;sum&quot;)]  // sum is the native
function name
         static extern int sum(int a, int b);

        unsafe static void Main()
        {
                int x = sum(23, 45);
                Console.WriteLine(&quot;x: {0}&quot;, x);
        }
}
----------------------------------------------------------------

and you must edit your project file to explicitly specify the ABI to use:
&lt;ItemGroup&gt;  
    &lt;AndroidNativeLibrary Include=&quot;path/to/libsum.so&quot;&gt;  
        &lt;Abi&gt;armeabi&lt;/Abi&gt;  
    &lt;/AndroidNativeLibrary&gt;  
&lt;/ItemGroup&gt;  

then it will running............

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/3rd-party-lib-tp4441589p4560247.html">http://mono-for-android.1047100.n5.nabble.com/3rd-party-lib-tp4441589p4560247.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005281.html">[mono-android] Google maps exceptions
</A></li>
	<LI>Next message: <A HREF="005283.html">[mono-android] Can't see devices in MonoDevelop on OSX?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5282">[ date ]</a>
              <a href="thread.html#5282">[ thread ]</a>
              <a href="subject.html#5282">[ subject ]</a>
              <a href="author.html#5282">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
