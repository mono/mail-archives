<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] ZeroConfig in Monodroid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20ZeroConfig%20in%20Monodroid&In-Reply-To=1311850564176-4642129.post%40n5.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005522.html">
   <LINK REL="Next"  HREF="005551.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] ZeroConfig in Monodroid</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20ZeroConfig%20in%20Monodroid&In-Reply-To=1311850564176-4642129.post%40n5.nabble.com"
       TITLE="[mono-android] ZeroConfig in Monodroid">jonp at xamarin.com
       </A><BR>
    <I>Thu Jul 28 10:10:47 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005522.html">[mono-android] ZeroConfig in Monodroid
</A></li>
        <LI>Next message: <A HREF="005551.html">[mono-android] ZeroConfig in Monodroid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5527">[ date ]</a>
              <a href="thread.html#5527">[ thread ]</a>
              <a href="subject.html#5527">[ subject ]</a>
              <a href="author.html#5527">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jul 28, 2011, at 6:56 AM, was wrote:
&gt;<i> I'm looking to use ZeroConf over Wi-Fi as we do in our iPhone apps.
</I>
Do you use a managed library for that, or a wrapper over native code? If it's a managed library, you may be able to use it as-is without using jmDNS.

&gt;<i> From googling, I understand that jmDNS has to be used, but I can't figure out how
</I>&gt;<i> to use it in Monodroid - or even if it's possible?
</I>
How hard to you want to work? ;-)

What the support email stated is still largely true: there is currently no _simple_ way to use .jar files at this time.

This doesn't mean that it's impossible; there are at least two ways to do so:

 1. Write custom Java code.
 2. Use Android.Runtime.JNIEnv (which may also be needed for (1)).

In both cases you would add the jmDNS .jar file to your project and set its Build action to AndroidJavaSource.

If the jmDNS API can be used solely via object instantiation and method invocation, you can then use the Android.Runtime.JNIEnv type to instantiate types and invoke methods on them; see:

	<A HREF="http://android.xamarin.com/Documentation/API_Design#Java_Native_Interface_Support">http://android.xamarin.com/Documentation/API_Design#Java_Native_Interface_Support</A>

(It's brutal, but it works.)

If the jmDNS API requires inheritance (e.g. to override abstract methods, etc.) then you'll need to write some Java code to use the type, set the Build action for your Java source code to AndroidJavaSource, and then you can use JNIEnv to use your custom type. You can somewhat see this in action with the GoogleMaps sample:

	<A HREF="https://github.com/mono/monodroid-samples/tree/master/GoogleMaps">https://github.com/mono/monodroid-samples/tree/master/GoogleMaps</A>

However, GoogleMaps uses Context.startActivity() to navigate between the Java activity and the C# activity, instead of using JNIEnv, but many of the concepts are the same.

This will be improved in a future release; we're still working on the tooling for .jar support.

 - Jon

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005522.html">[mono-android] ZeroConfig in Monodroid
</A></li>
	<LI>Next message: <A HREF="005551.html">[mono-android] ZeroConfig in Monodroid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5527">[ date ]</a>
              <a href="thread.html#5527">[ thread ]</a>
              <a href="subject.html#5527">[ subject ]</a>
              <a href="author.html#5527">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
