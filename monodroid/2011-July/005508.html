<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Problems with log4net
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Problems%20with%20log4net&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005517.html">
   <LINK REL="Next"  HREF="005510.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Problems with log4net</H1>
    <B>pbreckon</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Problems%20with%20log4net&In-Reply-To="
       TITLE="[mono-android] Problems with log4net">pbreckon at epicor.com
       </A><BR>
    <I>Wed Jul 27 22:41:24 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005517.html">[mono-android] Use of MonoDroid
</A></li>
        <LI>Next message: <A HREF="005510.html">[mono-android] Problems with log4net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5508">[ date ]</a>
              <a href="thread.html#5508">[ thread ]</a>
              <a href="subject.html#5508">[ subject ]</a>
              <a href="author.html#5508">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to deploy a project using Mono for Android, referencing the Mono
build of log4net, v2.

It compiles ok, but when i try and deploy it i get the following in Output:

----- *START* ------
Microsoft (R) Build Engine Version 4.0.30319.1
[Microsoft .NET Framework, Version 4.0.30319.1]
Copyright (C) Microsoft Corporation 2007. All rights reserved.

Build started 28/07/2011 12:29:49 PM.
Project
&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\MonoTestApp.csproj&quot;
on node 1 (SignAndroidPackage target(s)).
_GenerateAndroidAssetsDir:
Skipping target &quot;_GenerateAndroidAssetsDir&quot; because it has no outputs.
_ResolveMonoAndroidSdks:
  Looking for Android SDK..
    Key HKCU\SOFTWARE\Android SDK Tools\Path not found.
    Key HKLM\SOFTWARE\Android SDK Tools\Path found:
      Path contains adb.exe in \platform-tools (D:\Android\android-sdk).
  Looking for Java SDK..
    Key HKLM\SOFTWARE\JavaSoft\Java Development Kit\CurrentVersion found:
1.6.
    Key HKLM\SOFTWARE\JavaSoft\Java Development Kit\1.6\JavaHome found:
      Path contains jarsigner.exe in \bin (C:\Program Files
(x86)\Java\jdk1.6.0_24).
  MonoAndroid Tools: C:\Program Files (x86)\MSBuild\Novell\
  MonoAndroid Framework: C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2\;C:\Program Files
(x86)\Reference Assemblies\Microsoft\Framework\MonoAndroid\v1.0\
  Android SDK: D:\Android\android-sdk\
  Java SDK: C:\Program Files (x86)\Java\jdk1.6.0_24\
_ValidateAndroidPackageProperties:
  GetAndroidPackageName Task
    ManifestFile: 
    AssemblyName: MonoTestApp
    PackageName: MonoTestApp.MonoTestApp
_UpdateAndroidResgen:
Skipping target &quot;_UpdateAndroidResgen&quot; because all output files are
up-to-date with respect to the input files.
Project
&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\MonoTestApp.csproj&quot;
(1) is building
&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Common\Utr.Common\Utr.Common.Mono.csproj&quot;
(2) on node 1 (default targets).
CoreResGen:
  All outputs are up-to-date.
GenerateTargetFrameworkMonikerAttribute:
Skipping target &quot;GenerateTargetFrameworkMonikerAttribute&quot; because all output
files are up-to-date with respect to the input files.
CoreCompile:
Skipping target &quot;CoreCompile&quot; because all output files are up-to-date with
respect to the input files.
GenerateSatelliteAssemblies:
Skipping target &quot;GenerateSatelliteAssemblies&quot; because all output files are
up-to-date with respect to the input files.
CopyFilesToOutputDirectory:
  Utr.Common.Mono -&gt;
D:\work\Test\Branches\v9.02.03.14-Mono\Common\Utr.Common\bin\Debug-Mono\Utr.Common.dll
_ResolveMonoAndroidSdks:
  Looking for Android SDK..
    Key HKCU\SOFTWARE\Android SDK Tools\Path not found.
    Key HKLM\SOFTWARE\Android SDK Tools\Path found:
      Path contains adb.exe in \platform-tools (D:\Android\android-sdk).
  Looking for Java SDK..
    Key HKLM\SOFTWARE\JavaSoft\Java Development Kit\CurrentVersion found:
1.6.
    Key HKLM\SOFTWARE\JavaSoft\Java Development Kit\1.6\JavaHome found:
      Path contains jarsigner.exe in \bin (C:\Program Files
(x86)\Java\jdk1.6.0_24).
  MonoAndroid Tools: C:\Program Files (x86)\MSBuild\Novell\
  MonoAndroid Framework: C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2\;C:\Program Files
(x86)\Reference Assemblies\Microsoft\Framework\MonoAndroid\v1.0\
  Android SDK: D:\Android\android-sdk\
  Java SDK: C:\Program Files (x86)\Java\jdk1.6.0_24\
_ValidateAndroidPackageProperties:
  GetAndroidPackageName Task
    ManifestFile: 
    AssemblyName: Utr.Common
    PackageName: Utr.Common
_ConvertDebuggingFiles:
Skipping target &quot;_ConvertDebuggingFiles&quot; because all output files are
up-to-date with respect to the input files.
Done Building Project
&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Common\Utr.Common\Utr.Common.Mono.csproj&quot;
(default targets).
GenerateTargetFrameworkMonikerAttribute:
Skipping target &quot;GenerateTargetFrameworkMonikerAttribute&quot; because all output
files are up-to-date with respect to the input files.
CoreCompile:
Skipping target &quot;CoreCompile&quot; because all output files are up-to-date with
respect to the input files.
CopyFilesToOutputDirectory:
  MonoTestApp -&gt;
D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\bin\Debug\MonoTestApp.dll
_ConvertDebuggingFiles:
Skipping target &quot;_ConvertDebuggingFiles&quot; because all output files are
up-to-date with respect to the input files.
_CompileAndroidPackage:
  Mandroid Task
    Assemblies:
D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\bin\Debug\MonoTestApp.dll;
D:\work\Test\Branches\v9.02.03.14-Mono\Lib\log4net\mono\log4net.dll;
C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2\Mono.Android.dll; C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\mscorlib.dll; C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2\OpenTK.dll; C:\Program Files
(x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Core.dll; C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.dll; C:\Program Files
(x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Xml.dll; C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Xml.Linq.dll;
D:\work\Test\Branches\v9.02.03.14-Mono\Common\Utr.Common\bin\Debug-Mono\Utr.Common.dll
    I18nAssemblies: 
    BuildDirectory:
D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\obj\Debug-Mono\
    ReferenceAssembliesDirectory: C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2\;C:\Program Files
(x86)\Reference Assemblies\Microsoft\Framework\MonoAndroid\v1.0\;;
    AndroidSdkDirectory: D:\Android\android-sdk\
    JavaSdkDirectory: C:\Program Files (x86)\Java\jdk1.6.0_24\
    AssetDirectory:
D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\obj\Debug-Mono\assets\
    AndroidSdkPlatform: 8
    MonoAndroidToolsDirectory: C:\Program Files (x86)\MSBuild\Novell\
    ResourceDirectory:
D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\obj\Debug-Mono\res\
    ManifestTemplate: 
    Package: MonoTestApp.MonoTestApp
    NativeLibrary: 
    JavaSource: 
    Debug: True
    UseSharedRuntime: True
    SupportedAbis: armeabi
    LinkMode: Full
    ExtraArgs:  
  C:\Program Files (x86)\MSBuild\Novell\mandroid.exe -v --nosign
--sdk-dir=&quot;D:\Android\android-sdk&quot;
--builddir=&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\obj\Debug-Mono\android&quot;
--framework-dir=&quot;C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2&quot; --framework-dir=&quot;C:\Program
Files (x86)\Reference Assemblies\Microsoft\Framework\MonoAndroid\v1.0&quot;
-S=&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\obj\Debug-Mono\res&quot;
--package=&quot;MonoTestApp.MonoTestApp&quot;   --abi=&quot;armeabi&quot;
--java-sdk-dir=&quot;C:\Program Files (x86)\Java\jdk1.6.0_24&quot; --debug
--sdk-platform=&quot;8&quot;
&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\bin\Debug\MonoTestApp.dll&quot;
&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Lib\log4net\mono\log4net.dll&quot;
&quot;C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2\Mono.Android.dll&quot;
&quot;C:\Program Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\mscorlib.dll&quot; &quot;C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v2.2\OpenTK.dll&quot; &quot;C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Core.dll&quot; &quot;C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.dll&quot; &quot;C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Xml.dll&quot; &quot;C:\Program
Files (x86)\Reference
Assemblies\Microsoft\Framework\MonoAndroid\v1.0\System.Xml.Linq.dll&quot;
&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Common\Utr.Common\bin\Debug-Mono\Utr.Common.dll&quot; 
MANDROID : error : while loading assemblies:
System.IO.FileNotFoundException: Could not load assembly 'Microsoft.VisualC,
Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a'. Perhaps
it doesn't exist in the Mono for Android profile?
[D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\MonoTestApp.csproj]
  File name: 'Microsoft.VisualC.dll'
    at Monodroid.Tuner.MonoDroidResolver.Resolve
(Mono.Cecil.AssemblyNameReference reference) [0x00000] in &lt;filename
unknown&gt;:0 
    at Monodroid.Scanner.ComputeListOfAssemblies (Monodroid.Arguments args,
System.Collections.Generic.HashSet`1 assemblies,
Mono.Cecil.AssemblyDefinition assembly) [0x00000] in &lt;filename unknown&gt;:0 
    at Monodroid.Scanner.ComputeListOfAssemblies (Monodroid.Arguments args,
System.Collections.Generic.HashSet`1 assemblies,
Mono.Cecil.AssemblyDefinition assembly) [0x00000] in &lt;filename unknown&gt;:0 
    at Monodroid.Scanner.ComputeListOfAssemblies (Monodroid.Arguments args)
[0x00000] in &lt;filename unknown&gt;:0 
monodroid : error 1: System.ArgumentNullException: Argument cannot be null.
[D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\MonoTestApp.csproj]
  Parameter name: source
    at System.Linq.Check.SourceAndSelector (System.Object source,
System.Object selector) [0x00000] in &lt;filename unknown&gt;:0 
    at System.Linq.Enumerable.SelectMany[String,String] (IEnumerable`1
source, System.Func`2 selector) [0x00000] in &lt;filename unknown&gt;:0 
    at Monodroid.Droidinator.CopyPackagedResources
(System.Collections.Generic.List`1 assemblies) [0x00000] in &lt;filename
unknown&gt;:0 
    at Monodroid.Droidinator.CreateApk () [0x00000] in &lt;filename unknown&gt;:0 
    at Monodroid.MainClass.Main (System.String[] argv) [0x00000] in
&lt;filename unknown&gt;:0 
Done Building Project
&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\MonoTestApp.csproj&quot;
(SignAndroidPackage target(s)) -- FAILED.

Build FAILED.

&quot;D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\MonoTestApp.csproj&quot;
(SignAndroidPackage target) (1) -&gt;
(_CompileAndroidPackage target) -&gt; 
  MANDROID : error : while loading assemblies:
System.IO.FileNotFoundException: Could not load assembly 'Microsoft.VisualC,
Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a'. Perhaps
it doesn't exist in the Mono for Android profile?
[D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\MonoTestApp.csproj]
  monodroid : error 1: System.ArgumentNullException: Argument cannot be
null.
[D:\work\Test\Branches\v9.02.03.14-Mono\Common\MonoTestApp\MonoTestApp.csproj]

    0 Warning(s)
    2 Error(s)

Time Elapsed 00:00:03.39






Error: Cancelled
========== Deploy: 0 succeeded, 1 failed, 0 skipped ==========

----- *END* ------

The issue appears to be that it can't find the Microsoft.VisualC assembly. 
Can anyone help me resolve this please? 

Thanks!

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Problems-with-log4net-tp4641046p4641046.html">http://mono-for-android.1047100.n5.nabble.com/Problems-with-log4net-tp4641046p4641046.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005517.html">[mono-android] Use of MonoDroid
</A></li>
	<LI>Next message: <A HREF="005510.html">[mono-android] Problems with log4net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5508">[ date ]</a>
              <a href="thread.html#5508">[ thread ]</a>
              <a href="subject.html#5508">[ subject ]</a>
              <a href="author.html#5508">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
