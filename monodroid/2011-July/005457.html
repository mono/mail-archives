<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Runtime reliability?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Runtime%20reliability%3F&In-Reply-To=019a01cc4aec%244dfaef90%24e9f0ceb0%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005456.html">
   <LINK REL="Next"  HREF="005460.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Runtime reliability?</H1>
    <B>cbolz</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Runtime%20reliability%3F&In-Reply-To=019a01cc4aec%244dfaef90%24e9f0ceb0%24%40com"
       TITLE="[mono-android] Runtime reliability?">cb at dm-edv.de
       </A><BR>
    <I>Tue Jul 26 04:01:03 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005456.html">[mono-android] Runtime reliability?
</A></li>
        <LI>Next message: <A HREF="005460.html">[mono-android] Runtime reliability?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5457">[ date ]</a>
              <a href="thread.html#5457">[ thread ]</a>
              <a href="subject.html#5457">[ subject ]</a>
              <a href="author.html#5457">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Andrew,

 

how did you implement the activity stuff?

 

I&#180;ve a MainApplication instance which is reachable  via TinyIoC.TinyIoCContainer.Current.Resolve&lt;IMainApplication&gt;().

I&#180;ve added List&lt;Activity&gt; Activities to he IMainApplication interface.

 

In each activity I&#180;ve add

 

mainApp.Activites.Add(this) into the OnCreate method

and mainApp.Activities.Remove(this) into the OnDestroy method.

 

Is it what you mean?

 

Regards,

Carlo

 

 

Von: Andrew Sinclair [via Mono for Android] [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">ml-node+4631540-1678032272-202018 at n5.nabble.com</A>] 
Gesendet: Montag, 25. Juli 2011 19:01
An: cbolz
Betreff: Re: Runtime reliability?

 

&gt;&gt;<i> who else has problems with the runtime reliability?
</I>
Me!

&gt;&gt;<i> Are there any traps to avoid? Are there any workarounds? Are there any tips and tricks?
</I>
I've found 2 things that made my app more reliable (NB. &quot;more reliable&quot; not &quot;totally reliable&quot;)...

&#183;       I had a tight loop calling RunOnUiThread to update an activity when performing a background task. For a long-running task this sometimes caused a crash (NB. not an application level exception, just the usual &quot;app has died&quot;). Suppose this tried to perform 5,000 UI updates in 1 minute - 80% of the time the app would crash doing this. I changed the updates to be only 10% of this - app has never crashed since. The crash was always associated with a GC_EXPLICIT in the logs.

&#183;       I had a number of activities using StartActivityForResult. At seemingly-random times in the activity lifecycle the app would die. I changed the app to hold a reference to each activity globally, in order to inhibit the GC (not a good idea I know). This increased reliability significantly. To me it &quot;felt&quot; like activities were being GC'd before OnDestroy was called, but that's guesswork.

Both of these made a significant improvement for me. As a programmer it's always a worry that it's something you are doing wrong that is causing the problem. But in these cases I'm pretty sure that the bug(s) are not at the application level, probably something GC-related to account for the apparent randomness. Bugs in the app itself are always accompanied by &quot;normal&quot; exceptions which you can debug in the usual way.

I don't suggest that these changes would work for anybody else, they're workarounds that helped for me but which don't remove the fundamental problem. It's like squashing a bump on a carpet - you think everything is nice and flat but then you notice you just moved the bump somewhere else&#8252;

I am very, very eagerly awaiting the next Mono for Android release ;-)

Hope this helps. 

Cheers,

Andy

-----------------

 

I&#180;ve my back to the wall.

Regards,

Carlo

--

View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Runtime-reliability-tp4630731p4630731.html">http://mono-for-android.1047100.n5.nabble.com/Runtime-reliability-tp4630731p4630731.html</A>

Sent from the Mono for Android mailing list archive at Nabble.com.

_______________________________________________

Monodroid mailing list

[hidden email]

UNSUBSCRIBE INFORMATION:

<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>


_______________________________________________ 
Monodroid mailing list 
[hidden email] 

UNSUBSCRIBE INFORMATION: 
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>



  _____  

If you reply to this email, your message will be added to the discussion below:

<A HREF="http://mono-for-android.1047100.n5.nabble.com/Runtime-reliability-tp4630731p4631540.html">http://mono-for-android.1047100.n5.nabble.com/Runtime-reliability-tp4630731p4631540.html</A> 

To unsubscribe from Runtime reliability?, click here &lt;<A HREF="http://mono-for-android.1047100.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&amp;node=4630731&amp;code=Y2JAZG0tZWR2LmRlfDQ2MzA3MzF8LTEzNTc1Njk1Njc=">http://mono-for-android.1047100.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&amp;node=4630731&amp;code=Y2JAZG0tZWR2LmRlfDQ2MzA3MzF8LTEzNTc1Njk1Njc=</A>&gt; . 



--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Runtime-reliability-tp4630731p4633966.html">http://mono-for-android.1047100.n5.nabble.com/Runtime-reliability-tp4630731p4633966.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110726/435498ca/attachment.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110726/435498ca/attachment.html</A> 
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005456.html">[mono-android] Runtime reliability?
</A></li>
	<LI>Next message: <A HREF="005460.html">[mono-android] Runtime reliability?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5457">[ date ]</a>
              <a href="thread.html#5457">[ thread ]</a>
              <a href="subject.html#5457">[ subject ]</a>
              <a href="author.html#5457">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
