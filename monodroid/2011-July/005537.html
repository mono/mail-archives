<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Problems starting App on actual Device
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Problems%20starting%20App%20on%20actual%20Device&In-Reply-To=1311446908420-4626533.post%40n5.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005445.html">
   <LINK REL="Next"  HREF="005410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Problems starting App on actual Device</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Problems%20starting%20App%20on%20actual%20Device&In-Reply-To=1311446908420-4626533.post%40n5.nabble.com"
       TITLE="[mono-android] Problems starting App on actual Device">jonp at xamarin.com
       </A><BR>
    <I>Thu Jul 28 13:51:28 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005445.html">[mono-android] Problems starting App on actual Device
</A></li>
        <LI>Next message: <A HREF="005410.html">[mono-android] send parameters to activity from java class to c#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5537">[ date ]</a>
              <a href="thread.html#5537">[ thread ]</a>
              <a href="subject.html#5537">[ subject ]</a>
              <a href="author.html#5537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jul 23, 2011, at 2:48 PM, mcgear wrote:
&gt;<i> The log entry i have now shows more info then i have caught before, and it
</I>&gt;<i> looks like something with Remoting...
</I>...
&gt;<i> I/MonoDroid( 2870): UNHANDLED EXCEPTION: System.TypeInitializationException:
</I>&gt;<i> An exception was thrown by the type initializer for System.Runtime.Remoting.RemotingServices ---&gt; System.ArgumentException: Argument value 1284968920 is not valid.
</I>&gt;<i> I/MonoDroid( 2870): Parameter name: access
</I>&gt;<i> I/MonoDroid( 2870):   at System.Reflection.Emit.AssemblyBuilder..ctor(System.Reflection.AssemblyName n, System.String directory,
</I>&gt;<i> AssemblyBuilderAccess access, Boolean corlib_internal) [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> I/MonoDroid( 2870):   at System.String.Equals (System.Object obj) [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> I/MonoDroid( 2870):   at System.Object.Equals (System.Object objA, System.Object objB) [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> I/MonoDroid( 2870):   at System.Array.System.Collections.IList.Contains (System.Object value) [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> I/MonoDroid( 2870):   at System.Runtime.Remoting.Channels.ChannelServices.RegisterChannel (IChannel chnl, Boolean ensureSecurity) [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> I/MonoDroid( 2870):   at System.Runtime.Remoting.Channels.ChannelServices.RegisterChannel (IChannel chnl) [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> I/MonoDroid( 2870):   at System.Runtime.Remoting.Channels.CrossAppDomainChannel.RegisterCrossAppDomainChannel () [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> I/MonoDroid( 2870):   at System.Runtime.Remoting.RemotingServices.RegisterInternalChannels () [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> I/MonoDroid( 2870):   at System.Runtime.Remoting.RemotingServices..cctor () [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> I/MonoDroid( 2870):   --- End of inner exception stack trace ---
</I>&gt;<i> I/MonoDroid( 2870): at System.Delegate.IsTransparentProxy () &lt;0x00017&gt;
</I>&gt;<i> I/MonoDroid( 2870): at System.Threading.ThreadPool.QueueUserWorkItem (System.Threading.WaitCallback,object) &lt;0x00023&gt;
</I>&gt;<i> I/MonoDroid( 2870): at System.Threading.ThreadPool.QueueUserWorkItem (System.Threading.WaitCallback) &lt;0x00017&gt;
</I>&gt;<i> I/MonoDroid( 2870): at Zed.USA.Droid.UI.Activities.SplashScreenActivity.OnCreate (Android.OS.Bundle) &lt;0x0013b&gt;
</I>
Based on the System.Reflection.Emit.AssemblyBuilder.#ctor() throwing ArgumentExcpetion for the &quot;access&quot; parameter, I think it's from:

	<A HREF="https://github.com/mono/mono/blob/master/mcs/class/corlib/System.Reflection.Emit/AssemblyBuilder.cs#L276">https://github.com/mono/mono/blob/master/mcs/class/corlib/System.Reflection.Emit/AssemblyBuilder.cs#L276</A>

Now why is `access` getting the value 0x4c9711d8 (1284968920)?

For that matter, why is String.Equals() creating an AssemblyBuilder?

I'm inclined to suspect that it's a JIT bug. To confirm, please do the following:

 1. Rebuild your app either as Release or as Debug but w/o the shared runtime enabled.
 2. Ensure that only the armeabi runtime will be deployed with your app, not armeabi &amp; armeabi-v7a.
 3. Redeploy and re-run your app.

((1) and (2) can be done via the Project Properties pages...)

If it then works on your device, it's an armeabi-v7a JIT bug. (I imagine that this will work, as the emulator is only running armeabi, not armeabi-v7a, and you stated that it works in the emulator).

If it is a JIT bug, could you please file a bug with the project attached?

Thanks,
 - Jon

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005445.html">[mono-android] Problems starting App on actual Device
</A></li>
	<LI>Next message: <A HREF="005410.html">[mono-android] send parameters to activity from java class to c#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5537">[ date ]</a>
              <a href="thread.html#5537">[ thread ]</a>
              <a href="subject.html#5537">[ subject ]</a>
              <a href="author.html#5537">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
