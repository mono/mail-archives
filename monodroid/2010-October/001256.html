<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Best way to share a class library with	WinForms/Silverlight/etc...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Best%20way%20to%20share%20a%20class%20library%20with%0A%09WinForms/Silverlight/etc...&In-Reply-To=AANLkTinyW9dMN9jR3TStxp6QVJW_FH1sBbLRfqd_EhJ4%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001251.html">
   <LINK REL="Next"  HREF="001257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Best way to share a class library with	WinForms/Silverlight/etc...</H1>
    <B>Amir (GMail)</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Best%20way%20to%20share%20a%20class%20library%20with%0A%09WinForms/Silverlight/etc...&In-Reply-To=AANLkTinyW9dMN9jR3TStxp6QVJW_FH1sBbLRfqd_EhJ4%40mail.gmail.com"
       TITLE="[Monodroid] Best way to share a class library with	WinForms/Silverlight/etc...">amirw2k at gmail.com
       </A><BR>
    <I>Fri Oct  8 11:35:48 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001251.html">[Monodroid] Best way to share a class library with	WinForms/Silverlight/etc...
</A></li>
        <LI>Next message: <A HREF="001257.html">[Monodroid] Best way to share a class library with	WinForms/Silverlight/etc...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1256">[ date ]</a>
              <a href="thread.html#1256">[ thread ]</a>
              <a href="subject.html#1256">[ subject ]</a>
              <a href="author.html#1256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Interesting! It sounds like something similar to what I was looking for. In
the meanwhile I've moved the projects into the same folder which required
some work.

 

Just to make things clear, it doesn't link files but copy them by watching
the directory structure. I still prefer linking as it's safer when there's
only one copy of the same code, but I will give it a try.

 

Thanks Daniel,

 

Regards,

Amir

 

From: Daniel Cazzulino [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">kzu at clariusconsulting.net</A>] 
Sent: Friday, October 08, 2010 5:49 AM
To: Michael Cummings
Cc: Amir (GMail); <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
Subject: Re: [Monodroid] Best way to share a class library with
WinForms/Silverlight/etc...

 

I knew I had seen something to solve this very issue!!!

 

Go to the Extension Manager, search the Online Gallery for &quot;Project Linker&quot;.



So right when you start, with your empty project, create the two, three,
whatever platform-specific projects you need. All of them empty. Add
whatever references each one needs, etc.

 

Now, on each of the &quot;secondary&quot; projects (the ones that will have linked
files), right-click, select &quot;Add project link...&quot; and select the &quot;main&quot;
project. 

 

&gt;<i>From that point on, that extension will track item add/rename/delete and
</I>replicate the action in the linked projects, but over *linked* files :).
Yes, that means it will preserve also the folder structure as you create it
on the main project.

 

 

Pretty cool! And it's Ms-PL in true MS spirit, hehe.


/kzu

--
Daniel Cazzulino | Developer Lead | MS MVP | Clarius Consulting | +1
425.329.3471



On Fri, Sep 3, 2010 at 10:07, Michael Cummings &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">cummings.michael at gmail.com</A>&gt;
wrote:

The way I handle Cross-Platform in VS is to maintain separate project files.
Since I typically have files in the folder structure that are platform
specific Daniel's suggestion doesn't work well.  So for project A I may have
3 project files, one each for Silverlight, MonoTouch, and MonoDroid. They
all reside in the same folder and reference the correct set of *.cs files
needed to compile properly. This doe entain some additional overhead if I
introduce a file that should be in each project, however it has been working
well for me so far.

 

Michael

 

On Fri, Sep 3, 2010 at 8:26 AM, Daniel Cazzulino &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">kzu at clariusconsulting.net</A>&gt;
wrote:

Why would you care? The 'main' development would be done in the project
where you actually add files and folders manually. The other one is just a
mirror for cross-platform targetting and that's all, I think. 

from android nexus1

On Sep 3, 2010 9:17 AM, &quot;Amir (GMail)&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">amirw2k at gmail.com</A>&gt; wrote:
&gt;<i> I actually tried that trick, but it doesn't recreate the directory tree
</I>into
&gt;<i> the project.... If you have too many files in subfolders it makes a big
</I>&gt;<i> mess. 
</I>&gt;<i> 
</I>&gt;<i> Do you have an idea about keeping the directory structure of the code
</I>files,
&gt;<i> so you can see the files in Visual Studio in an organized way under the
</I>&gt;<i> correct directory?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Amir
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> From: Daniel Cazzulino [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">kzu at clariusconsulting.net</A>] 
</I>&gt;<i> Sent: Friday, September 03, 2010 2:39 PM
</I>&gt;<i> To: Wayne Douglas
</I>&gt;<i> Cc: Amir (GMail); <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Monodroid] Best way to share a class library with
</I>&gt;<i> WinForms/Silverlight/etc...
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> An alternative is to use wildcards.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &lt;Compile Include=&quot;Src\**\*.cs&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> in order for VS not to modify this include and turn it into multiple
</I>&gt;<i> &lt;Compile&gt; elements, one for each .cs file (which would then get out of
</I>sync
&gt;<i> as you add files to the other project), you have to put this in a .targets
</I>&gt;<i> that you import. This stops VS from trying to &quot;fix&quot; the project.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> /kzu
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Daniel Cazzulino | Developer Lead | MS MVP | Clarius Consulting | +1
</I>&gt;<i> 425.329.3471
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Fri, Sep 3, 2010 at 08:25, Wayne Douglas &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">wayne at isit.gd</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> md/mt prj files wont open in vs
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> what about using #define and msbuild?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Fri, Sep 3, 2010 at 11:55 AM, Amir (GMail) &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">amirw2k at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hi Dominique,
</I>&gt;<i> Can you use the it for MD/MT without duplicating the files for every
</I>change
&gt;<i> you make in the code?
</I>&gt;<i> 
</I>&gt;<i> I'm interested, thanks.
</I>&gt;<i> Amir
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">dominique at savagesoftwaresolutions.com</A>
</I>&gt;<i> Sent: Thursday, September 02, 2010 3:06 PM
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;<i> Cc: Wayne Douglas
</I>&gt;<i> Subject: Re: [Monodroid] Best way to share a class library with
</I>&gt;<i> WinForms/Silverlight/etc...
</I>&gt;<i> 
</I>&gt;<i> Hi Wayne,
</I>&gt;<i> I'm working on a basic OpenGL ES demo that currently compiles on MT and
</I>&gt;<i> MD as well as supporting OpenGL ES 1.1 and ES 2.0 on both platforms.
</I>&gt;<i> So far everything compiles and works on MT, just waiting for the magicians
</I>&gt;<i> at Novell to add the ability to support ES 2.0 more easily in MD, and I
</I>&gt;<i> think it should work on that as well.
</I>&gt;<i> 
</I>&gt;<i> I've abstracted the rendering as follows...
</I>&gt;<i> I have an abstract base rendering class ( I know everyone loves
</I>&gt;<i> interfaces, but since this is game code, i think abstract classes should
</I>be
&gt;<i> slightly faster over all ).
</I>&gt;<i> Then an OpenGL 1.1 class that inherits from this base class and also an
</I>&gt;<i> OpenGL 2.0 class that does the same.
</I>&gt;<i> Therefore the 1.1 class renders the rectangle using fixed function
</I>&gt;<i> pipeline calls, and the 2.0 class uses shaders, while sharing the vertices
</I>&gt;<i> code and colours ( they are in the base class ).
</I>&gt;<i> Then when the View's FrameBuffer ( either iPhone or Android ) is created I
</I>&gt;<i> just instantiate the appropriate OpenGL rendering class and call its
</I>&gt;<i> UpdateFrame and RenderFrame methods at the right time. The 1.1 code path
</I>&gt;<i> compiles and runs on both MT and MD.
</I>&gt;<i> 
</I>&gt;<i> I'm happy to share the code if you or anyone else is interested.
</I>&gt;<i> If I have time I'll upload something to github, with the hope that it
</I>&gt;<i> makes it into both the MonoTouch or MonoDroid samples.
</I>&gt;<i> 
</I>&gt;<i> Dominique.
</I>&gt;<i> 
</I>&gt;<i> On Thu, 02 Sep 2010 06:03:04 -0400, Wayne Douglas wrote:
</I>&gt;&gt;<i> this is somethign i'm trying to tackle now too - sharing code between
</I>&gt;<i> MT/MD
</I>&gt;&gt;<i> and potentially WM7
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> it's a bit hectic
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> how's everyone else managing this~?
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> __________ Information from ESET NOD32 Antivirus, version of virus
</I>signature
&gt;<i> database 5403 (20100827) __________
</I>&gt;<i> 
</I>&gt;<i> The message was checked by ESET NOD32 Antivirus.
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.eset.com">http://www.eset.com</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> | wayne douglas
</I>&gt;<i> | project:attack:software developer
</I>
&gt;<i> | <A HREF="http://prjatk.com">http://prjatk.com</A> &lt;<A HREF="http://prjatk.com/">http://prjatk.com/</A>&gt; 
</I>
&gt;<i> | <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">wayne at prjatk.com</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> __________ Information from ESET NOD32 Antivirus, version of virus
</I>signature
&gt;<i> database 5403 (20100827) __________
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The message was checked by ESET NOD32 Antivirus.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.eset.com">http://www.eset.com</A>
</I>&gt;<i> 
</I>

_______________________________________________
Monodroid mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>





-- 
Michael Cummings

Microsoft XNA/DirectX MVP

Blog &lt;<A HREF="http://geekswithblogs.net/mathoms">http://geekswithblogs.net/mathoms</A>&gt;  | Follow me
&lt;<A HREF="http://twitter.com/mcummings">http://twitter.com/mcummings</A>&gt;  | Linked-In
&lt;<A HREF="http://www.linkedin.com/pub/michael-cummings/3/a83/9a2">http://www.linkedin.com/pub/michael-cummings/3/a83/9a2</A>&gt;  | Facebook
&lt;<A HREF="http://www.facebook.com/home.php?#!/profile.php?id=1179554227">http://www.facebook.com/home.php?#!/profile.php?id=1179554227</A>&gt; 

Axiom 3D &lt;<A HREF="http://www.axiom3d.net">http://www.axiom3d.net</A>&gt;  Rendering Engine | BostonXNA
&lt;<A HREF="http://www.bostonxna.org">http://www.bostonxna.org</A>&gt; 

 

 

 

__________ Information from ESET NOD32 Antivirus, version of virus signature
database 5510 (20101006) __________

 

The message was checked by ESET NOD32 Antivirus.

 

<A HREF="http://www.eset.com">http://www.eset.com</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20101008/d08b358a/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20101008/d08b358a/attachment-0001.html</A> 
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001251.html">[Monodroid] Best way to share a class library with	WinForms/Silverlight/etc...
</A></li>
	<LI>Next message: <A HREF="001257.html">[Monodroid] Best way to share a class library with	WinForms/Silverlight/etc...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1256">[ date ]</a>
              <a href="thread.html#1256">[ thread ]</a>
              <a href="subject.html#1256">[ subject ]</a>
              <a href="author.html#1256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
