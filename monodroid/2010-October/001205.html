<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Using menu resources in MonoDroid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Using%20menu%20resources%20in%20MonoDroid&In-Reply-To=633A9B5DDEEED64BB5C7EE7D8FD61EB7541878%40jarsater5.jarsater.motala.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001186.html">
   <LINK REL="Next"  HREF="001187.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Using menu resources in MonoDroid</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Using%20menu%20resources%20in%20MonoDroid&In-Reply-To=633A9B5DDEEED64BB5C7EE7D8FD61EB7541878%40jarsater5.jarsater.motala.net"
       TITLE="[Monodroid] Using menu resources in MonoDroid">jpryor at novell.com
       </A><BR>
    <I>Mon Oct  4 16:40:29 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001186.html">[Monodroid] Using menu resources in MonoDroid
</A></li>
        <LI>Next message: <A HREF="001187.html">[Monodroid] Using menu resources in MonoDroid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1205">[ date ]</a>
              <a href="thread.html#1205">[ thread ]</a>
              <a href="subject.html#1205">[ subject ]</a>
              <a href="author.html#1205">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2010-10-04 at 11:19 +0200, Kristofer Liew wrote:
&gt;<i> I am trying to use a menu resource file in MonoDroid. I have created a
</I>&gt;<i> XML file for the menu (mainmenu.xml)
</I>&lt;snip/&gt;
..
&gt;<i> When I try to build the application I get
</I>&gt;<i>
</I>&gt;<i> Error                   1
</I>&gt;<i> System.InvalidOperationException: Command failed.
</I>..

Open up the Output Window (View-&gt;Output), and build.  You will get
output similar to [0].  Among the output is three messages:

mainmenu.xml:3: error: Error: No resource found that matches the given name (at 'title' with value '@string/mnuAbout').
mainmenu.xml:7: error: Error: No resource found that matches the given name (at 'icon' with value '@drawable/back').
mainmenu.xml:7: error: Error: No resource found that matches the given name (at 'title' with value '@string/mnuQuit').

If you edit Resources/values/strings.xml and add values for mnuAbout and
mnuQuit, and you add a e.g. Resources/drawable-hdpi/back.png file, your
project will build.

 - Jon

[0] 
  E:\Applications (x86)\Microsoft Visual Studio 10.0\\Common7\IDE\Extensions\Novell\MonoDroid for Visual Studio\1.0.8196\bin\aresgen.exe -o=&quot;Resources\Resource.Designer.cs&quot; --sdk-dir=&quot;E:\Applications\android-sdk-windows.r7&quot;  --java-sdk-dir=&quot;C:\Program Files (x86)\Java\jdk1.6.0_20&quot; --namespace=&quot;MonoDroidApplication3&quot; -v -S &quot;e:\Documents\Visual Studio 2010\Projects\MonoDroidApplication3\MonoDroidApplication3\obj\Debug\res&quot; 
aresgen : error 1: System.InvalidOperationException: Command failed. Command: E:\Applications\android-sdk-windows.r7\platforms\android-8\tools\aapt &quot;package&quot; &quot;-M&quot; &quot;C:\Users\jon\AppData\Local\Temp\f3sbmol0.dq1\AndroidManifest.xml&quot; &quot;-F&quot; &quot;C:\Users\jon\AppData\Local\Temp\f3sbmol0.dq1\resources.apk&quot; &quot;-S&quot; &quot;e:\Documents\Visual Studio 2010\Projects\MonoDroidApplication3\MonoDroidApplication3\obj\Debug\res&quot; &quot;-I&quot; &quot;E:\Applications\android-sdk-windows.r7\platforms\android-8\android.jar&quot;
  	stderr: W/ResourceType( 3528): Bad XML block: no root element node found
  e:\Documents\Visual Studio 2010\Projects\MonoDroidApplication3\MonoDroidApplication3\obj\Debug\res\menu\mainmenu.xml:3: error: Error: No resource found that matches the given name (at 'title' with value '@string/mnuAbout').
  e:\Documents\Visual Studio 2010\Projects\MonoDroidApplication3\MonoDroidApplication3\obj\Debug\res\menu\mainmenu.xml:7: error: Error: No resource found that matches the given name (at 'icon' with value '@drawable/back').
  e:\Documents\Visual Studio 2010\Projects\MonoDroidApplication3\MonoDroidApplication3\obj\Debug\res\menu\mainmenu.xml:7: error: Error: No resource found that matches the given name (at 'title' with value '@string/mnuQuit').
  
     at MonoDroid.Utils.ProcessRocks.&lt;ReadStandardOutput&gt;c__Iterator2.MoveNext()
     at MonoDroid.Tools.Aresgen.Package.CreatePackage(String aapt, Context context, String dir)
     at MonoDroid.Tools.Aresgen.Package.&lt;GetPackageGroups&gt;c__Iterator0.MoveNext()
     at MonoDroid.Tools.Aresgen.ResourceFileGenerator.CreateResourceType(String typeName, IEnumerable`1 groups)
     at MonoDroid.Tools.Aresgen.ResourceFileGenerator.WriteFile(String file, Context context, IEnumerable`1 groups)
     at MonoDroid.Tools.Aresgen.ResourceFileGenerator.Create(Context context, IEnumerable`1 groups)
     at MonoDroid.Tools.Aresgen.App.Main(String[] args)


</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001186.html">[Monodroid] Using menu resources in MonoDroid
</A></li>
	<LI>Next message: <A HREF="001187.html">[Monodroid] Using menu resources in MonoDroid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1205">[ date ]</a>
              <a href="thread.html#1205">[ thread ]</a>
              <a href="subject.html#1205">[ subject ]</a>
              <a href="author.html#1205">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
