<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Java.Lang.Object vs. System.Object
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Java.Lang.Object%20vs.%20System.Object&In-Reply-To=C8D7F641.7F42%25b%40wowzer.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001293.html">
   <LINK REL="Next"  HREF="001285.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Java.Lang.Object vs. System.Object</H1>
    <B>Jon Dick</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Java.Lang.Object%20vs.%20System.Object&In-Reply-To=C8D7F641.7F42%25b%40wowzer.net"
       TITLE="[Monodroid] Java.Lang.Object vs. System.Object">jondick at gmail.com
       </A><BR>
    <I>Tue Oct 12 15:44:44 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001293.html">[Monodroid] Java.Lang.Object vs. System.Object
</A></li>
        <LI>Next message: <A HREF="001285.html">[Monodroid] dialog/message box
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1323">[ date ]</a>
              <a href="thread.html#1323">[ thread ]</a>
              <a href="subject.html#1323">[ subject ]</a>
              <a href="author.html#1323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In this particular case, for the BaseAdapter, we're not sure exactly why
GetItem or GetItemId are needed.  It only makes sense that maybe they show
up somewhere else, passed along as event args, but everywhere they are it
seems (for instance, the Id is passed to the ItemClick event handler), so is
the position, which we can then use on the adapter to go get the item we
want anyways.

Right now in my BaseAdapter I'm just returning position for both GetItem and
GetItemId, and so far I can't see any issue with doing so (everything is
working fine for me).

However, going forward it would be more convenient if we could have a
System.Object GetItem() instead of Java.Lang.Object GetItem() so that we
don't have to make all of our business objects inherit from
Java.Lang.Object.  This is going to be more critical when people are trying
to reuse code from MonoTouch or other libraries not specific to MonoDroid.

Right now there are workarounds for this specific case, but I can only
imagine there are other cases where this same issue may creep up.

---
Redth

On Mon, Oct 11, 2010 at 2:01 AM, bryan costanich &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">b at wowzer.net</A>&gt; wrote:

&gt;<i>  Honestly, for me personally, the best API decision would be to have all
</I>&gt;<i> the places that need Java.Lang.Object just take a System.Object instead, but
</I>&gt;<i> I have no visibility into how the runtime and interop works, so I don&#8217;t know
</I>&gt;<i> if that&#8217;s even possible.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> More specifically, I don&#8217;t know how the JLO is used under the hood. I don&#8217;t
</I>&gt;<i> know it&#8217;s behavior in this particular instance, and I don&#8217;t know what a JLO
</I>&gt;<i> really is.  I haven&#8217;t really even looked at the JLO definition. I&#8217;ll do that
</I>&gt;<i> and think about potential API solutions.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 10/10/10 9:50 PM, &quot;bryan costanich&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">b at wowzer.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> The Adapter types do expose a bunch of them.  How would an arbitrary .net
</I>&gt;<i> type be used in a BaseAdapter subclass?  Does it rely on ToString() for
</I>&gt;<i> rendering in the AdapterView?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Well, in my case, I&#8217;m creating a ListViewItemAdapterBase class that has the
</I>&gt;<i> following:
</I>&gt;<i>         public IList&lt;T&gt; Items
</I>&gt;<i>         {
</I>&gt;<i>             get { return this._items; }
</I>&gt;<i>             set { this._items = value; }
</I>&gt;<i>         }
</I>&gt;<i>         protected IList&lt;T&gt; _items = new List&lt;T&gt;();
</I>&gt;<i>
</I>&gt;<i> It then returns Count, and GetItem based on the Ilist interface. It also
</I>&gt;<i> returns ID because I have a base item class that has ID in the interface.
</I>&gt;<i>
</I>&gt;<i> &gt;From there, I&#8217;m creating a bunch of different adapters that simply
</I>&gt;<i> override the GetView method to customize the view items. That way I can have
</I>&gt;<i> complete control over the display of list items, but I only have to override
</I>&gt;<i> one method.
</I>&gt;<i>
</I>&gt;<i> Right now as a workaround I have my domain objects inherit from
</I>&gt;<i> Java.Lang.Object, but that&#8217;s not a very good model, as it&#8217;s not portable.
</I>&gt;<i> I&#8217;d prefer to have client agnostic classes, but as soon as I have them
</I>&gt;<i> inherit from Java.Lang.Object, that&#8217;s no longer possible.
</I>&gt;<i>
</I>&gt;<i> Honestly, for me personally, the best API decision would be to have all the
</I>&gt;<i> places that need Java.Lang.Object just take a System.Object instead, but I
</I>&gt;<i> have no visibility into how the runtime and interop works, so I don&#8217;t know
</I>&gt;<i> if that&#8217;s even possible.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 10/10/10 9:40 PM, &quot;Mike Kestner&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mkestner at novell.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> On Sun, 2010-10-10 at 23:15 -0400, bryan costanich wrote:
</I>&gt;<i> &gt; Didn&#8217;t think I needed to be specific, because they are littered
</I>&gt;<i> &gt; everywhere. But here is a specific example, this is the prototype for
</I>&gt;<i> &gt; a method in AdapterBase which is used in creating custom adapters
</I>&gt;<i> &gt; (super common task):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     public override Java.Lang.Object GetItem(int position)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But I&#8217;ve seen that type of thing everywhere. Right now, my item needs
</I>&gt;<i> &gt; to either be cast to, or inherit from Java.Lang.Object to be able to
</I>&gt;<i> &gt; conform.
</I>&gt;<i>
</I>&gt;<i> The Adapter types do expose a bunch of them.  How would an
</I>&gt;<i> arbitrary .net type be used in a BaseAdapter subclass?  Does it rely on
</I>&gt;<i> ToString() for rendering in the AdapterView?
</I>&gt;<i>
</I>&gt;<i> A while back, I considered adding a mechanism for automatically
</I>&gt;<i> converting any arbitrary object to a java object and back, but it is not
</I>&gt;<i> clear to me that it would be a good thing.  If the java object has to be
</I>&gt;<i> able to do things like reliably forward ToString calls to the wrapped
</I>&gt;<i> object, that makes it more interesting, with more overhead.
</I>&gt;<i>
</I>&gt;<i> getClass would be garbage to any java code.  clone would be unreliable
</I>&gt;<i> for arbitrary objects.  equals, hashcode, toString are all doable.
</I>&gt;<i> Even if the only thing that has to work properly is wrapping and
</I>&gt;<i> unwrapping a reference when invoking and returning, that's overhead that
</I>&gt;<i> doesn't exist if you derive from JLO.
</I>&gt;<i>
</I>&gt;<i> So JLO isn't quite as evil as it might seem.  :-)
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Mike Kestner &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mkestner at novell.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20101012/4a1ba90c/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20101012/4a1ba90c/attachment-0001.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001293.html">[Monodroid] Java.Lang.Object vs. System.Object
</A></li>
	<LI>Next message: <A HREF="001285.html">[Monodroid] dialog/message box
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1323">[ date ]</a>
              <a href="thread.html#1323">[ thread ]</a>
              <a href="subject.html#1323">[ subject ]</a>
              <a href="author.html#1323">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
