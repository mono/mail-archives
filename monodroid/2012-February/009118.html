<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] [MonoTouch] sharing code between mono touch and mono for android
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20%5BMonoTouch%5D%20sharing%20code%20between%20mono%20touch%20and%0A%20mono%20for%20android&In-Reply-To=%3C4F4C9186.5050203%40holisticware.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009122.html">
   <LINK REL="Next"  HREF="009116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] [MonoTouch] sharing code between mono touch and mono for android</H1>
    <B>Miljenko Cvjetko</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20%5BMonoTouch%5D%20sharing%20code%20between%20mono%20touch%20and%0A%20mono%20for%20android&In-Reply-To=%3C4F4C9186.5050203%40holisticware.net%3E"
       TITLE="[mono-android] [MonoTouch] sharing code between mono touch and mono for android">mcvjetko at holisticware.net
       </A><BR>
    <I>Tue Feb 28 08:34:14 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009122.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
        <LI>Next message: <A HREF="009116.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9118">[ date ]</a>
              <a href="thread.html#9118">[ thread ]</a>
              <a href="subject.html#9118">[ subject ]</a>
              <a href="author.html#9118">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Howdy

On 2012.02.28 04:18, Felix Collins wrote:
&gt;<i> The different platforms can be in the same solution except for 
</I>&gt;<i> MonoTouch which can't be compiled on PC. We have out shared app code 
</I>&gt;<i> in three projects named something like MyApp (for a .net/mono console 
</I>&gt;<i> version), MyApp.MD (for android) and MyApp.MT (for ios). These three 
</I>&gt;<i> projects all point at the same files but compile targeting the 
</I>&gt;<i> different platforms. On mac it would be possible to compile all three 
</I>&gt;<i> at once from one solution.
</I>
But no if You have WP7 or some other (Reporting or MS test) for MD 
unknown project.
I tried to complain on MD mailing list that it would be **maybe** more 
sinful for cross-platform
development - not to follow Microsoft's Way-Of-Doing things.

  * not loading unknown projects
    at least removing ModalDialogs - gray'em out and disable compile,
    but not editing
  * debug/run with f5 for known startup project should not try to
    compile whole solution
    together with unknown projects.
    Just give me my exe and referenced projects - thanks
    rebuild all for all projects should be only responsibility for
    Solution (on solution level)
    I know this can be done with right click + Debug/Run item


only my thoughts and wishes

greetings
mel

&gt;<i>
</I>&gt;<i> On 28/02/2012 2:53 p.m., James Briant wrote:
</I>&gt;&gt;<i> So the book and the FlightsNorway take the approach of putting the 
</I>&gt;&gt;<i> platforms in their own solutions. Which means that the benefits of 
</I>&gt;&gt;<i> automated refactoring go out the window. The flip-side, I suppose, is 
</I>&gt;&gt;<i> that automated refactoring is a great way to screw up version control 
</I>&gt;&gt;<i> - so teams &gt;1 person have to tip-toe around that. Which is to say, 
</I>&gt;&gt;<i> that if you have a team working on app, or sharing code, you don't 
</I>&gt;&gt;<i> lose anything by having multiple solutions as you have to be careful 
</I>&gt;&gt;<i> about any refactor causing merge hell anyway. Looks like you guys 
</I>&gt;&gt;<i> also have a your own &quot;middleware&quot; approach, and code to this common 
</I>&gt;&gt;<i> platform. The platform is used by many projects with many programmers 
</I>&gt;&gt;<i> and as such has to be pretty stable anyway.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is that an accurate assessment?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> jamie
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2012/2/27 Nathan Clevenger &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">nathan.clevenger at itr-mobility.com</A> 
</I>&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">nathan.clevenger at itr-mobility.com</A>&gt;&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Have you looked at the proposed solution/project structure and 
</I>&gt;&gt;<i> workflow proposed in the new book, /Professional Cross-Platform 
</I>&gt;&gt;<i> Mobile Development in C#/?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     
</I>&gt;&gt;<i> <A HREF="http://www.amazon.com/Professional-Cross-Platform-Mobile-Development-C/dp/1118157702/ref=pd_sim_b_34">http://www.amazon.com/Professional-Cross-Platform-Mobile-Development-C/dp/1118157702/ref=pd_sim_b_34</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     This is the approach that our firm has structured and managed 
</I>&gt;&gt;<i> 100+ cross-platform mono-based projects, and while it&#8217;s not without 
</I>&gt;&gt;<i> its idiosyncrasies, it does work quite well.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Thanks,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Nathan
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     *From:*<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A> 
</I>&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>&gt; 
</I>&gt;&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A> 
</I>&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>&gt;] *On Behalf Of *Jamie Briant
</I>&gt;&gt;<i>     *Sent:* Monday, February 27, 2012 7:13 AM
</I>&gt;&gt;<i>     *To:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monotouch at lists.ximian.com</A> 
</I>&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monotouch at lists.ximian.com</A>&gt;; <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A> 
</I>&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>&gt;
</I>&gt;&gt;<i>     *Subject:* Re: [mono-android] [MonoTouch] sharing code between 
</I>&gt;&gt;<i> mono touch and mono for android
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Is this as good as it gets? I'm attempting to build an MfA 
</I>&gt;&gt;<i> version of my MT app and its proving extremely frustrating, to the 
</I>&gt;&gt;<i> extent that I'm considering just writing the thing in Java. My reason 
</I>&gt;&gt;<i> for using MT was the awfulness of Objective-C, and while java is 
</I>&gt;&gt;<i> frustrating its entirely doable. The only thing at this point is the 
</I>&gt;&gt;<i> real possibility that a WP7 version will be next, so I might as well 
</I>&gt;&gt;<i> bite the bullet now.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Context: I'm using Visual Studio, Resharper, and my own Monotouch 
</I>&gt;&gt;<i> VSIX to load MT projects. I edit entirely in VS, and build in MD on 
</I>&gt;&gt;<i> the mac. I've tried Project Linker.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Problem: MfA, MT and WP7 require different .XXproj file formats.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     There's no getting around this for WP7.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Why is this a problem?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     1. &quot;This file is open in another project&quot;. (and associated 
</I>&gt;&gt;<i> Intellisense death)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     2. Refactorings don't refactor #if/#endif code.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     3. Refactorings don't refactor code in linked projects at all.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     4. Resharper completely horked.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Basically, I cannot work the way I work. And if I can't do that - 
</I>&gt;&gt;<i> if I can't keep the apps in sync /as I work/ I might as well use 
</I>&gt;&gt;<i> java: if I have to retype the code I can just as easily convert it to 
</I>&gt;&gt;<i> java as I type.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Project Linker doesn't solve any of these. It makes things 
</I>&gt;&gt;<i> slightly less broken, but the flip side is I managed to delete a 
</I>&gt;&gt;<i> whole ton of files off disk as I tried to remove them from the MfA 
</I>&gt;&gt;<i> project.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Source Control as an alternative. I thought about having separate 
</I>&gt;&gt;<i> branches and handling it that way. But this fundamentally fails for 
</I>&gt;&gt;<i> refactoring often. It made me wonder how on earth teams of 
</I>&gt;&gt;<i> programmers collaborate. When I decide to take a class, split it into 
</I>&gt;&gt;<i> two and then pull out a common base, all with new names: how does a 
</I>&gt;&gt;<i> team deal with that? I refactor continuously.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     *A Possible Solution*
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Could the MT and MfA compilers/linkers/projects be made to accept 
</I>&gt;&gt;<i> WP7 projects as References? Then I could factor out common code into 
</I>&gt;&gt;<i> a shared library - but it would claim to be WP7 so the WP7 app could 
</I>&gt;&gt;<i> use it. The MT and MfA apps would ignore the fact that the library is 
</I>&gt;&gt;<i> WP7. MT could solve any problems at code generation time anyway.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     *Pain*
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     How do the rest of you do this? Is Project Linker as good as it 
</I>&gt;&gt;<i> gets? How do you deal with intellisense/resharper being completely 
</I>&gt;&gt;<i> horked?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Thanks,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     jamie
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     On Mon, Jan 30, 2012 at 11:30 PM, Miljenko Cvjetko 
</I>&gt;&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>&gt;&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Good morning
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     On 2012.01.31 01 &lt;tel:2012.01.31%2001&gt;:59, Felix Collins wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     What is Project Linker?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Byproduct of Patterns and Practices project called Prism where MS 
</I>&gt;&gt;<i> guys explain
</I>&gt;&gt;<i>     code sharing on WPF, SL and lately WP7 platform.
</I>&gt;&gt;<i>     Project linker is just a tool VS plugin that helps batch linking 
</I>&gt;&gt;<i> of files. Defines
</I>&gt;&gt;<i>     project dependencies in sense of code sharing (copy as link + 
</I>&gt;&gt;<i> paste or copy + paste as link)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     some refs:
</I>&gt;&gt;<i>     <A HREF="http://msdn.microsoft.com/en-us/library/ff921108(v=pandp.20">http://msdn.microsoft.com/en-us/library/ff921108(v=pandp.20</A>).aspx 
</I>&gt;&gt;<i> &lt;<A HREF="http://msdn.microsoft.com/en-us/library/ff921108%28v=pandp.20%29.aspx">http://msdn.microsoft.com/en-us/library/ff921108%28v=pandp.20%29.aspx</A>&gt;
</I>&gt;&gt;<i>     
</I>&gt;&gt;<i> <A HREF="http://visualstudiogallery.msdn.microsoft.com/5e730577-d11c-4f2e-8e2b-cbb87f76c044">http://visualstudiogallery.msdn.microsoft.com/5e730577-d11c-4f2e-8e2b-cbb87f76c044</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Greg's sample with M4A
</I>&gt;&gt;<i>     
</I>&gt;&gt;<i> <A HREF="http://www.gregshackles.com/2010/12/shared-libraries-for-windows-phone-7-monodroid-and-beyond/">http://www.gregshackles.com/2010/12/shared-libraries-for-windows-phone-7-monodroid-and-beyond/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I like the tool, cos it is nonintrusive regarding IDE tools, does 
</I>&gt;&gt;<i> not break VS (other plugins) and
</I>&gt;&gt;<i>     works with MonoDevelop too (meaning one can do the linking in VS 
</I>&gt;&gt;<i> and all links are picked up).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Right now besides integrating MTch stuff I'm trying to extend our 
</I>&gt;&gt;<i> MultiTarget solution template to
</I>&gt;&gt;<i>     include Project Linker stuff from the beginning, so the manual 
</I>&gt;&gt;<i> addition of links is not necessary.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     HTH
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     regards
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     mel
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         On 31/01/2012 12:46 p.m., Miljenko Cvjetko wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>             Sharing code with Project Linker
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     --
</I>&gt;&gt;<i>     Miljenko Cvjetko dipl.ing. ET
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              Direktor/CEO
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              Projektant rje&#353;enja/Solution Architect
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              Razvojni programer/Senior developer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              Voditelj projekta/Project Manager
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     IX ju&#382;na obala 13
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Kajzerica Zagreb
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     T: 385 1 7775555
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     M: 385 91 557 447 3
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     F: 385 1 7779556
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     e:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     w:<A HREF="http://www.holisticware.net">http://www.holisticware.net</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     _______________________________________________
</I>&gt;&gt;<i>     MonoTouch mailing list
</I>&gt;&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">MonoTouch at lists.ximian.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">MonoTouch at lists.ximian.com</A>&gt;
</I>&gt;&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     _______________________________________________
</I>&gt;&gt;<i>     Monodroid mailing list
</I>&gt;&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     UNSUBSCRIBE INFORMATION:
</I>&gt;&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> jamie briant
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> founder | binaryfinery | mobile, social, cloud, apps
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> www.binaryfinery.com &lt;<A HREF="http://www.binaryfinery.com/">http://www.binaryfinery.com/</A>&gt;| 
</I>&gt;&gt;<i> blog.binaryfinery.com &lt;<A HREF="http://blog.binaryfinery.com/">http://blog.binaryfinery.com/</A>&gt; | about jamie 
</I>&gt;&gt;<i> &lt;<A HREF="http://careers.stackoverflow.com/jamiebriant">http://careers.stackoverflow.com/jamiebriant</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Monodroid mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> No virus found in this message.
</I>&gt;&gt;<i> Checked by AVG - www.avg.com &lt;<A HREF="http://www.avg.com">http://www.avg.com</A>&gt;
</I>&gt;&gt;<i> Version: 2012.0.1913 / Virus Database: 2114/4835 - Release Date: 
</I>&gt;&gt;<i> 02/27/12
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>

-- 
Miljenko Cvjetko dipl.ing. ET
	Direktor/CEO
	Projektant rje&#353;enja/Solution Architect	
	Razvojni programer/Senior developer
	Voditelj projekta/Project Manager

IX ju&#382;na obala 13
Kajzerica Zagreb
T: 385 1 7775555
M: 385 91 557 447 3
F: 385 1 7779556
e: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>
w: <A HREF="http://www.holisticware.net">http://www.holisticware.net</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20120228/9eaaff70/attachment-0001.html">http://lists.ximian.com/pipermail/monodroid/attachments/20120228/9eaaff70/attachment-0001.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009122.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
	<LI>Next message: <A HREF="009116.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9118">[ date ]</a>
              <a href="thread.html#9118">[ thread ]</a>
              <a href="subject.html#9118">[ subject ]</a>
              <a href="author.html#9118">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
