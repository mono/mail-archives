<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Can't detach AndroidGraphicsContext from current thead and attach to another
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Can%27t%20detach%20AndroidGraphicsContext%20from%20current%0A%20thead%20and%20attach%20to%20another&In-Reply-To=%3C1330375390275-5520013.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009136.html">
   <LINK REL="Next"  HREF="009099.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Can't detach AndroidGraphicsContext from current thead and attach to another</H1>
    <B>chris@Terrago</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Can%27t%20detach%20AndroidGraphicsContext%20from%20current%0A%20thead%20and%20attach%20to%20another&In-Reply-To=%3C1330375390275-5520013.post%40n5.nabble.com%3E"
       TITLE="[mono-android] Can't detach AndroidGraphicsContext from current thead and attach to another">cdrake at terragotech.com
       </A><BR>
    <I>Mon Feb 27 20:43:10 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009136.html">[mono-android] Would you recommend Android.Database.Sqlite or	Mono.Data.Sqlite?
</A></li>
        <LI>Next message: <A HREF="009099.html">[mono-android] Can't detach AndroidGraphicsContext from current thead and attach to another
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9097">[ date ]</a>
              <a href="thread.html#9097">[ thread ]</a>
              <a href="subject.html#9097">[ subject ]</a>
              <a href="author.html#9097">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am attempting to separate the OpenTK rendering for my view onto a separate
thread. After doing some research into this I found that there are two
methods for this recommended on the OpenTK site

1. Create a separate graphics context for each thread
2. Share a single graphics context between threads by using MakeCurrent to
detach and attach it

I have tried both methods and continuously get InvalidOperation exceptions
on EGLMakeCurrent when trying to attach the AndroidGraphicsContext to the
new thread. It also appears that when I attempt method #2 above and use
GraphicsContext.MakeCurrent(null) to detach from the current thread the
IsCurrent property on AndroidGraphicsContext remains true, further on the
next call to AndroidGameView.MakeCurrent I get an InvalidOperation exception
since, it appears, the graphics context was never released.

Should it be possible to share AndroidGraphicsContext between threads as you
can an OpenTK GraphicsContext object? Is this possibly something that is
getting addressed in the upcoming 4.0.5 release? Or, am I just missing
something?

Thanks,
Chris

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Can-t-detach-AndroidGraphicsContext-from-current-thead-and-attach-to-another-tp5520013p5520013.html">http://mono-for-android.1047100.n5.nabble.com/Can-t-detach-AndroidGraphicsContext-from-current-thead-and-attach-to-another-tp5520013p5520013.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009136.html">[mono-android] Would you recommend Android.Database.Sqlite or	Mono.Data.Sqlite?
</A></li>
	<LI>Next message: <A HREF="009099.html">[mono-android] Can't detach AndroidGraphicsContext from current thead and attach to another
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9097">[ date ]</a>
              <a href="thread.html#9097">[ thread ]</a>
              <a href="subject.html#9097">[ subject ]</a>
              <a href="author.html#9097">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
