<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] [MonoTouch] sharing code between mono touch and mono for android
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20%5BMonoTouch%5D%20sharing%20code%20between%20mono%20touch%20and%0A%20mono%20for%20android&In-Reply-To=%3CCACoXTY9BYrag2iqQFGWgSapxCJJqhFY76PNfxhK7YCZpkjgngg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009103.html">
   <LINK REL="Next"  HREF="009110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] [MonoTouch] sharing code between mono touch and mono for android</H1>
    <B>James Briant</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20%5BMonoTouch%5D%20sharing%20code%20between%20mono%20touch%20and%0A%20mono%20for%20android&In-Reply-To=%3CCACoXTY9BYrag2iqQFGWgSapxCJJqhFY76PNfxhK7YCZpkjgngg%40mail.gmail.com%3E"
       TITLE="[mono-android] [MonoTouch] sharing code between mono touch and mono for android">jamie at binaryfinery.com
       </A><BR>
    <I>Tue Feb 28 01:53:14 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009103.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
        <LI>Next message: <A HREF="009110.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9107">[ date ]</a>
              <a href="thread.html#9107">[ thread ]</a>
              <a href="subject.html#9107">[ subject ]</a>
              <a href="author.html#9107">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So the book and the FlightsNorway take the approach of putting the
platforms in their own solutions. Which means that the benefits of
automated refactoring go out the window. The flip-side, I suppose, is that
automated refactoring is a great way to screw up version control - so teams
&gt;<i>1 person have to tip-toe around that. Which is to say, that if you have a
</I>team working on app, or sharing code, you don't lose anything by having
multiple solutions as you have to be careful about any refactor causing
merge hell anyway. Looks like you guys also have a your own &quot;middleware&quot;
approach, and code to this common platform. The platform is used by many
projects with many programmers and as such has to be pretty stable anyway.

Is that an accurate assessment?

jamie


2012/2/27 Nathan Clevenger &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">nathan.clevenger at itr-mobility.com</A>&gt;

&gt;<i> Have you looked at the proposed solution/project structure and workflow
</I>&gt;<i> proposed in the new book, *Professional Cross-Platform Mobile Development
</I>&gt;<i> in C#*?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.amazon.com/Professional-Cross-Platform-Mobile-Development-C/dp/1118157702/ref=pd_sim_b_34">http://www.amazon.com/Professional-Cross-Platform-Mobile-Development-C/dp/1118157702/ref=pd_sim_b_34</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is the approach that our firm has structured and managed 100+
</I>&gt;<i> cross-platform mono-based projects, and while it's not without its
</I>&gt;<i> idiosyncrasies, it does work quite well.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Nathan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *From:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A> [mailto:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] *On Behalf Of *Jamie Briant
</I>&gt;<i> *Sent:* Monday, February 27, 2012 7:13 AM
</I>&gt;<i> *To:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monotouch at lists.ximian.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;<i> *Subject:* Re: [mono-android] [MonoTouch] sharing code between mono touch
</I>&gt;<i> and mono for android
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Is this as good as it gets? I'm attempting to build an MfA version of my
</I>&gt;<i> MT app and its proving extremely frustrating, to the extent that I'm
</I>&gt;<i> considering just writing the thing in Java. My reason for using MT was the
</I>&gt;<i> awfulness of Objective-C, and while java is frustrating its entirely
</I>&gt;<i> doable. The only thing at this point is the real possibility that a WP7
</I>&gt;<i> version will be next, so I might as well bite the bullet now.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Context: I'm using Visual Studio, Resharper, and my own Monotouch VSIX to
</I>&gt;<i> load MT projects. I edit entirely in VS, and build in MD on the mac. I've
</I>&gt;<i> tried Project Linker.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Problem: MfA, MT and WP7 require different .XXproj file formats.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> There's no getting around this for WP7.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Why is this a problem?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 1. &quot;This file is open in another project&quot;. (and associated Intellisense
</I>&gt;<i> death)
</I>&gt;<i>
</I>&gt;<i> 2. Refactorings don't refactor #if/#endif code.
</I>&gt;<i>
</I>&gt;<i> 3. Refactorings don't refactor code in linked projects at all.
</I>&gt;<i>
</I>&gt;<i> 4. Resharper completely horked.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Basically, I cannot work the way I work. And if I can't do that - if I
</I>&gt;<i> can't keep the apps in sync *as I work* I might as well use java: if I
</I>&gt;<i> have to retype the code I can just as easily convert it to java as I type.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Project Linker doesn't solve any of these. It makes things slightly less
</I>&gt;<i> broken, but the flip side is I managed to delete a whole ton of files off
</I>&gt;<i> disk as I tried to remove them from the MfA project.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Source Control as an alternative. I thought about having separate branches
</I>&gt;<i> and handling it that way. But this fundamentally fails for refactoring
</I>&gt;<i> often. It made me wonder how on earth teams of programmers collaborate.
</I>&gt;<i> When I decide to take a class, split it into two and then pull out a common
</I>&gt;<i> base, all with new names: how does a team deal with that? I refactor
</I>&gt;<i> continuously.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *A Possible Solution*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Could the MT and MfA compilers/linkers/projects be made to accept WP7
</I>&gt;<i> projects as References? Then I could factor out common code into a shared
</I>&gt;<i> library - but it would claim to be WP7 so the WP7 app could use it. The MT
</I>&gt;<i> and MfA apps would ignore the fact that the library is WP7. MT could solve
</I>&gt;<i> any problems at code generation time anyway.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *Pain*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> How do the rest of you do this? Is Project Linker as good as it gets? How
</I>&gt;<i> do you deal with intellisense/resharper being completely horked?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> jamie
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Jan 30, 2012 at 11:30 PM, Miljenko Cvjetko &lt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Good morning
</I>&gt;<i>
</I>&gt;<i> On 2012.01.31 01:59, Felix Collins wrote:
</I>&gt;<i>
</I>&gt;<i> What is Project Linker?
</I>&gt;<i>
</I>&gt;<i> Byproduct of Patterns and Practices project called Prism where MS guys
</I>&gt;<i> explain
</I>&gt;<i> code sharing on WPF, SL and lately  WP7 platform.
</I>&gt;<i> Project linker is just a tool VS plugin that helps batch linking of files.
</I>&gt;<i> Defines
</I>&gt;<i> project dependencies in sense of code sharing (copy as link + paste or
</I>&gt;<i> copy + paste as link)
</I>&gt;<i>
</I>&gt;<i> some refs:
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/en-us/library/ff921108(v=pandp.20">http://msdn.microsoft.com/en-us/library/ff921108(v=pandp.20</A>).aspx
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://visualstudiogallery.msdn.microsoft.com/5e730577-d11c-4f2e-8e2b-cbb87f76c044">http://visualstudiogallery.msdn.microsoft.com/5e730577-d11c-4f2e-8e2b-cbb87f76c044</A>
</I>&gt;<i>
</I>&gt;<i> Greg's sample with M4A
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.gregshackles.com/2010/12/shared-libraries-for-windows-phone-7-monodroid-and-beyond/">http://www.gregshackles.com/2010/12/shared-libraries-for-windows-phone-7-monodroid-and-beyond/</A>
</I>&gt;<i>
</I>&gt;<i> I like the tool, cos it is nonintrusive regarding IDE tools, does not
</I>&gt;<i> break VS (other plugins) and
</I>&gt;<i> works with MonoDevelop too (meaning one can do the linking in VS and all
</I>&gt;<i> links are picked up).
</I>&gt;<i>
</I>&gt;<i> Right now besides integrating MTch stuff I'm trying to extend our
</I>&gt;<i> MultiTarget solution template to
</I>&gt;<i> include Project Linker stuff from the beginning, so the manual addition of
</I>&gt;<i> links is not necessary.
</I>&gt;<i>
</I>&gt;<i> HTH
</I>&gt;<i>
</I>&gt;<i> regards
</I>&gt;<i>
</I>&gt;<i> mel
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 31/01/2012 12:46 p.m., Miljenko Cvjetko wrote:
</I>&gt;<i>
</I>&gt;<i> Sharing code with Project Linker
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i> Miljenko Cvjetko dipl.ing. ET
</I>&gt;<i>
</I>&gt;<i>         Direktor/CEO
</I>&gt;<i>
</I>&gt;<i>         Projektant rje&#353;enja/Solution Architect
</I>&gt;<i>
</I>&gt;<i>         Razvojni programer/Senior developer
</I>&gt;<i>
</I>&gt;<i>         Voditelj projekta/Project Manager
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> IX ju&#382;na obala 13
</I>&gt;<i>
</I>&gt;<i> Kajzerica Zagreb
</I>&gt;<i>
</I>&gt;<i> T: 385 1 7775555
</I>&gt;<i>
</I>&gt;<i> M: 385 91 557 447 3
</I>&gt;<i>
</I>&gt;<i> F: 385 1 7779556
</I>&gt;<i>
</I>&gt;<i> e: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>
</I>&gt;<i>
</I>&gt;<i> w: <A HREF="http://www.holisticware.net">http://www.holisticware.net</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 

jamie briant

founder | binaryfinery | mobile, social, cloud, apps

www.binaryfinery.com | blog.binaryfinery.com | about
jamie&lt;<A HREF="http://careers.stackoverflow.com/jamiebriant">http://careers.stackoverflow.com/jamiebriant</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20120227/71963425/attachment-0001.html">http://lists.ximian.com/pipermail/monodroid/attachments/20120227/71963425/attachment-0001.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009103.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
	<LI>Next message: <A HREF="009110.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9107">[ date ]</a>
              <a href="thread.html#9107">[ thread ]</a>
              <a href="subject.html#9107">[ subject ]</a>
              <a href="author.html#9107">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
