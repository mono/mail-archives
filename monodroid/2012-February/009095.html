<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] [MonoTouch] sharing code between mono touch and mono for android
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20%5BMonoTouch%5D%20sharing%20code%20between%20mono%20touch%20and%0A%20mono%20for%20android&In-Reply-To=%3C1c00717a1ddb508a492e8c713d27e434%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009117.html">
   <LINK REL="Next"  HREF="009103.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] [MonoTouch] sharing code between mono touch and mono for android</H1>
    <B>Nathan Clevenger</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20%5BMonoTouch%5D%20sharing%20code%20between%20mono%20touch%20and%0A%20mono%20for%20android&In-Reply-To=%3C1c00717a1ddb508a492e8c713d27e434%40mail.gmail.com%3E"
       TITLE="[mono-android] [MonoTouch] sharing code between mono touch and mono for android">nathan.clevenger at itr-mobility.com
       </A><BR>
    <I>Mon Feb 27 17:25:20 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009117.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
        <LI>Next message: <A HREF="009103.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9095">[ date ]</a>
              <a href="thread.html#9095">[ thread ]</a>
              <a href="subject.html#9095">[ subject ]</a>
              <a href="author.html#9095">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Have you looked at the proposed solution/project structure and workflow
proposed in the new book, *Professional Cross-Platform Mobile Development
in C#*?

<A HREF="http://www.amazon.com/Professional-Cross-Platform-Mobile-Development-C/dp/1118157702/ref=pd_sim_b_34">http://www.amazon.com/Professional-Cross-Platform-Mobile-Development-C/dp/1118157702/ref=pd_sim_b_34</A>



This is the approach that our firm has structured and managed 100+
cross-platform mono-based projects, and while it's not without its
idiosyncrasies, it does work quite well.



Thanks,

Nathan



*From:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A> [mailto:
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] *On Behalf Of *Jamie Briant
*Sent:* Monday, February 27, 2012 7:13 AM
*To:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monotouch at lists.ximian.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
*Subject:* Re: [mono-android] [MonoTouch] sharing code between mono touch
and mono for android



Is this as good as it gets? I'm attempting to build an MfA version of my MT
app and its proving extremely frustrating, to the extent that I'm
considering just writing the thing in Java. My reason for using MT was the
awfulness of Objective-C, and while java is frustrating its entirely
doable. The only thing at this point is the real possibility that a WP7
version will be next, so I might as well bite the bullet now.



Context: I'm using Visual Studio, Resharper, and my own Monotouch VSIX to
load MT projects. I edit entirely in VS, and build in MD on the mac. I've
tried Project Linker.



Problem: MfA, MT and WP7 require different .XXproj file formats.



There's no getting around this for WP7.



Why is this a problem?



1. &quot;This file is open in another project&quot;. (and associated Intellisense
death)

2. Refactorings don't refactor #if/#endif code.

3. Refactorings don't refactor code in linked projects at all.

4. Resharper completely horked.



Basically, I cannot work the way I work. And if I can't do that - if I
can't keep the apps in sync *as I work* I might as well use java: if I have
to retype the code I can just as easily convert it to java as I type.



Project Linker doesn't solve any of these. It makes things slightly less
broken, but the flip side is I managed to delete a whole ton of files off
disk as I tried to remove them from the MfA project.



Source Control as an alternative. I thought about having separate branches
and handling it that way. But this fundamentally fails for refactoring
often. It made me wonder how on earth teams of programmers collaborate.
When I decide to take a class, split it into two and then pull out a common
base, all with new names: how does a team deal with that? I refactor
continuously.



*A Possible Solution*



Could the MT and MfA compilers/linkers/projects be made to accept WP7
projects as References? Then I could factor out common code into a shared
library - but it would claim to be WP7 so the WP7 app could use it. The MT
and MfA apps would ignore the fact that the library is WP7. MT could solve
any problems at code generation time anyway.



*Pain*



How do the rest of you do this? Is Project Linker as good as it gets? How
do you deal with intellisense/resharper being completely horked?



Thanks,



jamie









On Mon, Jan 30, 2012 at 11:30 PM, Miljenko Cvjetko &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>&gt; wrote:

Good morning

On 2012.01.31 01:59, Felix Collins wrote:

What is Project Linker?

Byproduct of Patterns and Practices project called Prism where MS guys
explain
code sharing on WPF, SL and lately  WP7 platform.
Project linker is just a tool VS plugin that helps batch linking of files.
Defines
project dependencies in sense of code sharing (copy as link + paste or copy
+ paste as link)

some refs:
<A HREF="http://msdn.microsoft.com/en-us/library/ff921108(v=pandp.20">http://msdn.microsoft.com/en-us/library/ff921108(v=pandp.20</A>).aspx
<A HREF="http://visualstudiogallery.msdn.microsoft.com/5e730577-d11c-4f2e-8e2b-cbb87f76c044">http://visualstudiogallery.msdn.microsoft.com/5e730577-d11c-4f2e-8e2b-cbb87f76c044</A>

Greg's sample with M4A
<A HREF="http://www.gregshackles.com/2010/12/shared-libraries-for-windows-phone-7-monodroid-and-beyond/">http://www.gregshackles.com/2010/12/shared-libraries-for-windows-phone-7-monodroid-and-beyond/</A>

I like the tool, cos it is nonintrusive regarding IDE tools, does not break
VS (other plugins) and
works with MonoDevelop too (meaning one can do the linking in VS and all
links are picked up).

Right now besides integrating MTch stuff I'm trying to extend our
MultiTarget solution template to
include Project Linker stuff from the beginning, so the manual addition of
links is not necessary.

HTH

regards

mel




On 31/01/2012 12:46 p.m., Miljenko Cvjetko wrote:

Sharing code with Project Linker





-- 

Miljenko Cvjetko dipl.ing. ET

        Direktor/CEO

        Projektant rje&#353;enja/Solution Architect

        Razvojni programer/Senior developer

        Voditelj projekta/Project Manager



IX ju&#382;na obala 13

Kajzerica Zagreb

T: 385 1 7775555

M: 385 91 557 447 3

F: 385 1 7779556

e: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">mcvjetko at holisticware.net</A>

w: <A HREF="http://www.holisticware.net">http://www.holisticware.net</A>


_______________________________________________
MonoTouch mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">MonoTouch at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20120227/30e90c85/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20120227/30e90c85/attachment.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009117.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
	<LI>Next message: <A HREF="009103.html">[mono-android] [MonoTouch] sharing code between mono touch and mono for android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9095">[ date ]</a>
              <a href="thread.html#9095">[ thread ]</a>
              <a href="subject.html#9095">[ subject ]</a>
              <a href="author.html#9095">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
