<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Compressed texture - OES Palette8 RBGBA - white	screen
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Compressed%20texture%20-%20OES%20Palette8%20RBGBA%20-%20white%0A%09screen&In-Reply-To=%3C1330462331962-5523218.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009144.html">
   <LINK REL="Next"  HREF="009148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Compressed texture - OES Palette8 RBGBA - white	screen</H1>
    <B>conio</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Compressed%20texture%20-%20OES%20Palette8%20RBGBA%20-%20white%0A%09screen&In-Reply-To=%3C1330462331962-5523218.post%40n5.nabble.com%3E"
       TITLE="[mono-android] Compressed texture - OES Palette8 RBGBA - white	screen">konrad at konsoft.eu
       </A><BR>
    <I>Tue Feb 28 20:52:11 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009144.html">[mono-android] Not enough storage space
</A></li>
        <LI>Next message: <A HREF="009148.html">[mono-android] Compressed texture - OES Palette8 RBGBA - white	screen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9139">[ date ]</a>
              <a href="thread.html#9139">[ thread ]</a>
              <a href="subject.html#9139">[ subject ]</a>
              <a href="author.html#9139">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey, I am trying to display rectangle and put texture on it. The problem I
get is white screen, even if OpenGL ES error is all the time 0 (so no
error).
Here is my code:

public class Mesh
{
	float[] _Vertices;
	short[] _Indices;
	byte[]	_Colors;
	float _xTrans;
	int[]	Textures = new int[1];
	DDSFile TextureFile;
	bool 	ShouldMakeTexture = true;
	float[]	_TextureCoordinates;
	int TextureID = 0;
		
	public float[] TextureCoordinates
	{
		get { return _TextureCoordinates; }
		set { _TextureCoordinates = value; }
	}
	
	public float[] Vertices
	{
		get { return _Vertices; }
		set { _Vertices = value; }
	}
	
	public Mesh (float[] vertices, byte[] colors, float xTranslation, short[]
indices,
                         DDSFile textureFile)
	{
		_Vertices = vertices;
		_Colors = colors;
		_xTrans = xTranslation;
		_Indices = indices;
		TextureFile = textureFile;
		
	}
		
	public void Render()
	{
			
		GL.FrontFace(All.Ccw);
		GL.Enable(All.CullFace);
		GL.CullFace(All.Back);
		GL.EnableClientState(All.VertexArray);
		GL.VertexPointer(3, All.Float, 0, _Vertices);
			
		if (ShouldMakeTexture)
			MakeTexture();
		int Error = (int)GL.GetError();
		
		GL.Enable(All.Texture2D);
		GL.EnableClientState(All.TextureCoordArray);
		GL.TexCoordPointer(2, All.Float, 0, TextureCoordinates);
		GL.BindTexture(All.Texture2D, Textures[0]);
		
		GL.DrawElements(All.Triangles, _Indices.Length, All.UnsignedShort,
_Indices);
		GL.DisableClientState(All.VertexArray);
		GL.DisableClientState(All.TextureCoordArray);
		GL.Disable(All.CullFace);			
	}
		
	private void MakeTexture()
	{
	
		GL.GenTextures(1, Textures);
		GL.BindTexture(All.Texture2D, TextureID);
		GL.TexParameter(All.Texture2D, All.TextureMinFilter, (int)All.Linear);
		GL.TexParameter(All.Texture2D,All.TextureMagFilter, (int)All.Linear);
		int[] parameters = new int[50];
		GL.GetInteger(All.CompressedTextureFormats, parameters);
		int Error = (int)GL.GetError();
		GL.CompressedTexImage2D(All.Texture2D, 0, All.Palette8Rgba8Oes,
TextureFile.Header.Width, TextureFile.Header.Height, 0,
TextureFile.Data.Length, TextureFile.Data);
		Error = (int)GL.GetError();
		this.ShouldMakeTexture = false;
	}
}

So, in my GLView I create a mesh, supply indices, vertices and texture
coordinates. In OnRenderFrame I just call mesh.Render() -&gt; it should create
texture. Code of MakeTexture executes fine, no error reported but I get
white screen. So, is my code wrong, or is it my .dds file which is bad? Do
you know any good tools for making compression for OpenGL ES? I used
photoshop with Palette8 ARGB.
Thanks for help, 
Konrad

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Compressed-texture-OES-Palette8-RBGBA-white-screen-tp5523218p5523218.html">http://mono-for-android.1047100.n5.nabble.com/Compressed-texture-OES-Palette8-RBGBA-white-screen-tp5523218p5523218.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009144.html">[mono-android] Not enough storage space
</A></li>
	<LI>Next message: <A HREF="009148.html">[mono-android] Compressed texture - OES Palette8 RBGBA - white	screen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9139">[ date ]</a>
              <a href="thread.html#9139">[ thread ]</a>
              <a href="subject.html#9139">[ subject ]</a>
              <a href="author.html#9139">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
