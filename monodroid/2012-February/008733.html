<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Tracking GlobalReferences
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Tracking%20GlobalReferences&In-Reply-To=%3C1328460499710-5458167.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008732.html">
   <LINK REL="Next"  HREF="008871.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Tracking GlobalReferences</H1>
    <B>NebulaSleuth</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Tracking%20GlobalReferences&In-Reply-To=%3C1328460499710-5458167.post%40n5.nabble.com%3E"
       TITLE="[mono-android] Tracking GlobalReferences">nebulasleuth at excite.com
       </A><BR>
    <I>Sun Feb  5 16:48:19 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="008732.html">[mono-android] Tracking GlobalReferences
</A></li>
        <LI>Next message: <A HREF="008871.html">[mono-android] Tracking GlobalReferences
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8733">[ date ]</a>
              <a href="thread.html#8733">[ thread ]</a>
              <a href="subject.html#8733">[ subject ]</a>
              <a href="author.html#8733">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks, I look forward to the 4.04 release. Any idea how long it will be?

I don't suppose you guys have an errata that shows all the known gref leaks? 
This would be useful for avoiding them, and at least prevent me from chasing
red herrings all day.

As for the &quot;other&quot; leak I mentioned with strings, it seems to be related to
changing the &quot;text&quot; property of a TextView. 

 as in:  &quot;TextView.Text = TranslationLookup(TextView.Text);&quot;

Which is something I do whenever the user changes language settings.  The
translation lookup simply returns an existing string from a dictionary, so
it doesn't actually allocate anything.

But, this seems to allocate a new GRef, and doesn't free up one. These stale
grefs get freed when I launch a new activity, but as long as the main
activity still runs, it holds on to it.  Although it attempts to free it on
each subsequent GC, but then resurrects it again.  It will continue to do
this over and over.

Generally most apps won't care too much as they are not meant to run
continuously.  However, my app runs 24/7 and eventually will die if it has
any leaks.  This would be bad. :)

Thanks again. 



--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Tracking-GlobalReferences-tp5457139p5458167.html">http://mono-for-android.1047100.n5.nabble.com/Tracking-GlobalReferences-tp5457139p5458167.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008732.html">[mono-android] Tracking GlobalReferences
</A></li>
	<LI>Next message: <A HREF="008871.html">[mono-android] Tracking GlobalReferences
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8733">[ date ]</a>
              <a href="thread.html#8733">[ thread ]</a>
              <a href="subject.html#8733">[ subject ]</a>
              <a href="author.html#8733">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
