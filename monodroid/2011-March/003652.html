<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] possible linker issue with IoC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20possible%20linker%20issue%20with%20IoC&In-Reply-To=AANLkTi%3DT4jQOS3W%3DdhE_EAi%2BTJEDju25n0Op_u7bJs0s%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003651.html">
   <LINK REL="Next"  HREF="003655.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] possible linker issue with IoC</H1>
    <B>Geoff Norton</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20possible%20linker%20issue%20with%20IoC&In-Reply-To=AANLkTi%3DT4jQOS3W%3DdhE_EAi%2BTJEDju25n0Op_u7bJs0s%40mail.gmail.com"
       TITLE="[mono-android] possible linker issue with IoC">gnorton at novell.com
       </A><BR>
    <I>Mon Mar 14 14:28:02 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003651.html">[mono-android] possible linker issue with IoC
</A></li>
        <LI>Next message: <A HREF="003655.html">[mono-android] monodroid will not modify monodevelop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3652">[ date ]</a>
              <a href="thread.html#3652">[ thread ]</a>
              <a href="subject.html#3652">[ subject ]</a>
              <a href="author.html#3652">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes it is, you will need to put the [Preserve] attribute on methods you want to call solely thru refleciton.

-g

On 2011-03-14, at 2:20 PM, Matthew Groves wrote:

&gt;<i> I'm using an IoC container to wire up dependencies.  If I wire them up like so:
</I>&gt;<i> 
</I>&gt;<i> MyIoC.Register&lt;IWhatever, Whatever&gt;()
</I>&gt;<i> 
</I>&gt;<i> Then the IoC container is unable to find a constructor at runtime (via GetContructors using reflection).
</I>&gt;<i> 
</I>&gt;<i> However, if I register like so:
</I>&gt;<i> 
</I>&gt;<i> MyIoC.Register&lt;IWhatever&gt;(() =&gt; new Whatever(...potentially long series of dependencies...));
</I>&gt;<i> 
</I>&gt;<i> Then it works fine.
</I>&gt;<i> 
</I>&gt;<i> So my question: is this because of the linker?  In the first example, the constructor would only be used via Reflection, and thus the linker could overlook it and exclude the constructor?  If so, is there a way to tell the linker to always include the constructors, or some other workaround?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 
</I>&gt;<i> Matt
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i> 
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>
</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003651.html">[mono-android] possible linker issue with IoC
</A></li>
	<LI>Next message: <A HREF="003655.html">[mono-android] monodroid will not modify monodevelop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3652">[ date ]</a>
              <a href="thread.html#3652">[ thread ]</a>
              <a href="subject.html#3652">[ subject ]</a>
              <a href="author.html#3652">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
