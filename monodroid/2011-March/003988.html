<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Deleting files on external storage?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Deleting%20files%20on%20external%20storage%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003986.html">
   <LINK REL="Next"  HREF="003989.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Deleting files on external storage?</H1>
    <B>Jon Valvatne</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Deleting%20files%20on%20external%20storage%3F&In-Reply-To="
       TITLE="[mono-android] Deleting files on external storage?">jon at norsync.com
       </A><BR>
    <I>Tue Mar 29 04:51:51 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003986.html">[mono-android] Alert box
</A></li>
        <LI>Next message: <A HREF="003989.html">[mono-android] Deleting files on external storage?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3988">[ date ]</a>
              <a href="thread.html#3988">[ thread ]</a>
              <a href="subject.html#3988">[ subject ]</a>
              <a href="author.html#3988">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I seem to be unable to create an app that deletes files off the SD card -
even files created by that same app. A simple test case is a default
MonoAndroidApplication with these two lines inserted in Activity1.onCreate:

                System.IO.File.Create(&quot;/sdcard/test.txt&quot;);
                System.IO.File.Delete(&quot;/sdcard/test.txt&quot;);

The Create works fine, but the Delete fails with a
System.UnauthorizedAccessException: Access to the path &quot;/sdcard/test.txt&quot; is
denied.

I've tried figuring out if it may be a permissions problem, but it's a bit
tricky without knowing how the Android platform maps apps to users to
groups, since the default permission for all files and directories (at least
as viewed in the adb shell) seems to be 075. But either way, it seems
impossible that a permission problem should cause me to be able to create a
file but not delete it, since both operations should require the same
permission (that is, write permission to the containing directory).

Has anyone successfully deleted a file off external storage from C# code?

Thanks in advance,

Jon Valvatne
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110329/8c8124d3/attachment.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110329/8c8124d3/attachment.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003986.html">[mono-android] Alert box
</A></li>
	<LI>Next message: <A HREF="003989.html">[mono-android] Deleting files on external storage?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3988">[ date ]</a>
              <a href="thread.html#3988">[ thread ]</a>
              <a href="subject.html#3988">[ subject ]</a>
              <a href="author.html#3988">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
