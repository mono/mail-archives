<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] How to force an exit gracefully
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20How%20to%20force%20an%20exit%20gracefully&In-Reply-To=AANLkTikWGU0QQeg7wYwPo2DcJSeycZVfn0bRWt9Ye-1h%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004025.html">
   <LINK REL="Next"  HREF="004030.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] How to force an exit gracefully</H1>
    <B>Matthew Groves</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20How%20to%20force%20an%20exit%20gracefully&In-Reply-To=AANLkTikWGU0QQeg7wYwPo2DcJSeycZVfn0bRWt9Ye-1h%40mail.gmail.com"
       TITLE="[mono-android] How to force an exit gracefully">mgroves1120 at gmail.com
       </A><BR>
    <I>Wed Mar 30 10:27:49 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004025.html">[mono-android] How to force an exit gracefully
</A></li>
        <LI>Next message: <A HREF="004030.html">[mono-android] How to force an exit gracefully
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4026">[ date ]</a>
              <a href="thread.html#4026">[ thread ]</a>
              <a href="subject.html#4026">[ subject ]</a>
              <a href="author.html#4026">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This sounds like more of a general Android question.  Here's a great Stack
Overflow discussion on exiting Android apps:

<A HREF="http://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon/2034238">http://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon/2034238</A>

&lt;<A HREF="http://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon/2034238">http://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon/2034238</A>&gt;
-Matt


On Wed, Mar 30, 2011 at 10:09 AM, Brian Long &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">brian at blong.com</A>&gt; wrote:

&gt;<i> I'm tussling with the question of how best to force my app to exit
</I>&gt;<i> The flow is that after a splash screen, the main activity starts and
</I>&gt;<i> when (in OnResume) it detects a lack of user login, it launches the
</I>&gt;<i> login activity
</I>&gt;<i> While in the login screen, the user can press the back button, which
</I>&gt;<i> will go to the main activity and therefore be immediately bounced to
</I>&gt;<i> the login screen again
</I>&gt;<i> To avoid Back having effectively no function (in the user's eyes) I
</I>&gt;<i> figured maybe Back should just exit the app
</I>&gt;<i> Options seem to be:
</I>&gt;<i>
</I>&gt;<i> System.Environment.Exit(0);
</I>&gt;<i>
</I>&gt;<i> or
</I>&gt;<i>
</I>&gt;<i> Process.KillProcess(Process.MyPid());
</I>&gt;<i>
</I>&gt;<i> I've used the former thus far
</I>&gt;<i>
</I>&gt;<i> However the log (below) seems to imply that maybe I'm being a little
</I>&gt;<i> harsh, with its doom-mongering comments about threads exiting without
</I>&gt;<i> being detached and premature finalization and signal termination and
</I>&gt;<i> so on.
</I>&gt;<i>
</I>&gt;<i> Questions:
</I>&gt;<i>
</I>&gt;<i> 1) Am I going about this completely the wrong way, and should I be
</I>&gt;<i> taking a standard approach here that hasn't occurred to me?
</I>&gt;<i> 2) Should I ignore the log messages and be happy that I can exit when
</I>&gt;<i> I want to ?
</I>&gt;<i> 3) Why does MonoDroid keep posting a log message saying &quot;signature&quot; ?
</I>&gt;<i>
</I>&gt;<i> Thanks for any advice on the matter
</I>&gt;<i>
</I>&gt;<i> - Brian
</I>&gt;<i>
</I>&gt;<i> INFO/monodroid(3281): Activating instance of type TimeSheet.SplashActivity
</I>&gt;<i> INFO/monodroid(3281): signature
</I>&gt;<i> INFO/ActivityManager(96): Displayed activity
</I>&gt;<i> com.blong.TimeSheet/timesheet.SplashActivity: 2696 ms (total 2696 ms)
</I>&gt;<i> INFO/ActivityManager(96): Starting activity: Intent {
</I>&gt;<i> cmp=com.blong.TimeSheet/timesheet.MainActivity }
</I>&gt;<i> INFO/monodroid(3281): Activating instance of type TimeSheet.MainActivity
</I>&gt;<i> INFO/monodroid(3281): signature
</I>&gt;<i> INFO/ActivityManager(96): Starting activity: Intent {
</I>&gt;<i> cmp=com.blong.TimeSheet/timesheet.LoginActivity }
</I>&gt;<i> INFO/monodroid(3281): Activating instance of type TimeSheet.LoginActivity
</I>&gt;<i> INFO/monodroid(3281): signature
</I>&gt;<i> INFO/ActivityManager(96): Displayed activity
</I>&gt;<i> com.blong.TimeSheet/timesheet.LoginActivity: 332 ms (total 520 ms)
</I>&gt;<i> DEBUG/dalvikvm(3281): threadid=7: thread exiting, not yet detached
</I>&gt;<i> (count=0)
</I>&gt;<i> DEBUG/dalvikvm(3281): threadid=7: thread exiting, not yet detached
</I>&gt;<i> (count=1)
</I>&gt;<i> ERROR/dalvikvm(3281): threadid=7: native thread exited without detaching
</I>&gt;<i> ERROR/dalvikvm(3281): VM aborting
</I>&gt;<i> WARN/mono(3281): Thread 0x0 may have been prematurely finalized
</I>&gt;<i> WARN/ContentService(96): binderDied() at ObserverNode name system
</I>&gt;<i> INFO/ActivityManager(96): Process com.blong.TimeSheet (pid 3281) has died.
</I>&gt;<i> INFO/WindowManager(96): WIN DEATH: Window{46c6b6d8
</I>&gt;<i> com.blong.TimeSheet/timesheet.LoginActivity paused=false}
</I>&gt;<i> ERROR/ActivityManager(96): fail to set top app changed!
</I>&gt;<i> DEBUG/Zygote(66): Process 3281 terminated by signal (11)
</I>&gt;<i> WARN/WindowManager(96): No focus window, dropping: KeyEvent{action=1
</I>&gt;<i> code=4 repeat=0 meta=0 scancode=158 mFlags=8}
</I>&gt;<i> INFO/UsageStats(96): Unexpected resume of com.htc.launcher while
</I>&gt;<i> already resumed in com.blong.TimeSheet
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110330/894b64d2/attachment.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110330/894b64d2/attachment.html</A> 
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004025.html">[mono-android] How to force an exit gracefully
</A></li>
	<LI>Next message: <A HREF="004030.html">[mono-android] How to force an exit gracefully
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4026">[ date ]</a>
              <a href="thread.html#4026">[ thread ]</a>
              <a href="subject.html#4026">[ subject ]</a>
              <a href="author.html#4026">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
