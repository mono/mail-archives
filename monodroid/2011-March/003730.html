<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] WebView goes full screen when in tab layout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20WebView%20goes%20full%20screen%20when%20in%20tab%20layout&In-Reply-To=009101cbe436%24087b0d00%2419712700%24%40gencode.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003727.html">
   <LINK REL="Next"  HREF="003706.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] WebView goes full screen when in tab layout</H1>
    <B>Craig Dunn</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20WebView%20goes%20full%20screen%20when%20in%20tab%20layout&In-Reply-To=009101cbe436%24087b0d00%2419712700%24%40gencode.com"
       TITLE="[mono-android] WebView goes full screen when in tab layout">craig.dunn at conceptdevelopment.net
       </A><BR>
    <I>Wed Mar 16 20:14:03 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003727.html">[mono-android] WebView goes full screen when in tab layout
</A></li>
        <LI>Next message: <A HREF="003706.html">[mono-android] java translation,	mark murphy 05 fancy viewlist example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3730">[ date ]</a>
              <a href="thread.html#3730">[ thread ]</a>
              <a href="subject.html#3730">[ subject ]</a>
              <a href="author.html#3730">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i>I did have to change BaseActivity to Activity
</I>Oh, sorry, BaseActivity is a custom class in my project - I forgot to
sanitise it out (sorry for any confusion).

Not really sure I know &quot;why&quot; the WebView behaves this way, except to say
that it does give you a lot of flexibility to decide how to handle Url
loading within your app (to intercept actions and control what is loaded).
Incidentally, I *think* if you had chosen a URL that does NOT redirect (you
put LoadUrl(&quot;<A HREF="http://www.google.com&quot;">http://www.google.com&quot;</A>) in your example) then the WebView would
have probably loaded successfully &quot;in&quot; the tab with your original code - but
then any link you clicked would still have popped-out to a full webbrowser.
The reason the code below helps is because it traps those redirects and
forces them into the same WebView which is normally the behaviour you want.

HTH
cd


On Thu, Mar 17, 2011 at 10:58 AM, &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">www at gencode.com</A>&gt; wrote:

&gt;<i> Craig,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That worked, I did have to change BaseActivity to Activity
</I>&gt;<i>
</I>&gt;<i> Was that okay to do?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Also I don&#8217;t really understand why I needed to do this with a webview but
</I>&gt;<i> not a textview as in the tab example
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Ed,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ___________________________________________________________
</I>&gt;<i>
</I>&gt;<i> *Ed Scott *|* **Microsoft Certified Solutions Developer (MCSD)*
</I>&gt;<i>
</I>&gt;<i> www: <A HREF="http://www.gencode.com">http://www.gencode.com</A>
</I>&gt;<i>
</I>&gt;<i> emaill: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">escott at gencode.com</A>
</I>&gt;<i> Location:  Earth, Milkyway Galaxy
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *From:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A> [mailto:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] *On Behalf Of *Craig Dunn
</I>&gt;<i> *Sent:* Wednesday, March 16, 2011 12:07 AM
</I>&gt;<i> *To:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;<i> *Subject:* Re: [mono-android] WebView goes full screen when in tab layout
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Check out
</I>&gt;<i> <A HREF="http://developer.android.com/resources/tutorials/views/hello-webview.html--">http://developer.android.com/resources/tutorials/views/hello-webview.html--</A> you need to add a custom WebViewClient subclass (see below).
</I>&gt;<i> HTH
</I>&gt;<i> Craig
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------------------
</I>&gt;<i> using System;
</I>&gt;<i>
</I>&gt;<i> using Android.App;
</I>&gt;<i> using Android.Content;
</I>&gt;<i> using Android.OS;
</I>&gt;<i> using Android.Views;
</I>&gt;<i>
</I>&gt;<i> using Android.Webkit;
</I>&gt;<i>
</I>&gt;<i> namespace MagshopDemo.Activities
</I>&gt;<i> {
</I>&gt;<i>     [Activity(Label = &quot;Web View Example&quot;)]
</I>&gt;<i>     public class WebActivity : BaseActivity
</I>&gt;<i>     {
</I>&gt;<i>         private WebView _browser;
</I>&gt;<i>
</I>&gt;<i>         protected override void OnCreate(Bundle bundle)
</I>&gt;<i>         {
</I>&gt;<i>             base.OnCreate(bundle);
</I>&gt;<i>
</I>&gt;<i>             SetContentView(Resource.Layout.Web);
</I>&gt;<i>
</I>&gt;<i>             var virtualPath = Intent.GetStringExtra(&quot;VirtualPath&quot;);
</I>&gt;<i>
</I>&gt;<i>             _browser = FindViewById&lt;WebView&gt;(Resource.Id.browser);
</I>&gt;<i>             _browser.Settings.JavaScriptEnabled = true;
</I>&gt;<i>             _browser.SetWebViewClient(new CustomWebViewClient());
</I>&gt;<i>             _browser.LoadUrl(@&quot;<A HREF="http://www.server.com/&quot;">http://www.server.com/&quot;</A> + virtualPath);
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         public override void OnBackPressed()
</I>&gt;<i>         {
</I>&gt;<i>             if (_browser.CanGoBack())
</I>&gt;<i>             {
</I>&gt;<i>                 _browser.GoBack();
</I>&gt;<i>             }
</I>&gt;<i>             else
</I>&gt;<i>             {
</I>&gt;<i>                 base.OnBackPressed();
</I>&gt;<i>             }
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i>     public class CustomWebViewClient : WebViewClient
</I>&gt;<i>     {
</I>&gt;<i>         public CustomWebViewClient()
</I>&gt;<i>             : base()
</I>&gt;<i>         { }
</I>&gt;<i>
</I>&gt;<i>         public override void OnPageStarted(WebView view, string url,
</I>&gt;<i> Android.Graphics.Bitmap favicon)
</I>&gt;<i>         {
</I>&gt;<i>             base.OnPageStarted(view, url, favicon);
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         public override bool ShouldOverrideUrlLoading(WebView view, string
</I>&gt;<i> url)
</I>&gt;<i>         {   //
</I>&gt;<i> <A HREF="http://developer.android.com/resources/tutorials/views/hello-webview.html">http://developer.android.com/resources/tutorials/views/hello-webview.html</A>
</I>&gt;<i>             view.LoadUrl(url);
</I>&gt;<i>             return true;
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, Mar 16, 2011 at 2:43 PM, &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">www at gencode.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> I made an app using the tab  layout example
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The example uses TextViews
</I>&gt;<i>
</I>&gt;<i> I simply changed the textview to webview
</I>&gt;<i>
</I>&gt;<i> As shown below, but I did not get an embedded webview inside the tabs as
</I>&gt;<i> expected like the textview does, instead I got a full screen browser
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         protected override void OnCreate(Bundle bundle)
</I>&gt;<i>
</I>&gt;<i>         {
</I>&gt;<i>
</I>&gt;<i>             base.OnCreate(bundle);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>             WebView web_view = new WebView(this);
</I>&gt;<i>
</I>&gt;<i>             web_view.Settings.JavaScriptEnabled = true;
</I>&gt;<i>
</I>&gt;<i>             web_view.LoadUrl(&quot;<A HREF="http://www.google.com&quot;">http://www.google.com&quot;</A>);
</I>&gt;<i>
</I>&gt;<i>             SetContentView(web_view);
</I>&gt;<i>
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ___________________________________________________________
</I>&gt;<i>
</I>&gt;<i> *Ed Scott *|* **Microsoft Certified Solutions Developer (MCSD)*
</I>&gt;<i>
</I>&gt;<i> www: <A HREF="http://www.gencode.com">http://www.gencode.com</A>
</I>&gt;<i>
</I>&gt;<i> emaill: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">escott at gencode.com</A>
</I>&gt;<i> Location:  Earth, Milkyway Galaxy
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110317/390ec0f1/attachment.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110317/390ec0f1/attachment.html</A> 
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003727.html">[mono-android] WebView goes full screen when in tab layout
</A></li>
	<LI>Next message: <A HREF="003706.html">[mono-android] java translation,	mark murphy 05 fancy viewlist example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3730">[ date ]</a>
              <a href="thread.html#3730">[ thread ]</a>
              <a href="subject.html#3730">[ subject ]</a>
              <a href="author.html#3730">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
