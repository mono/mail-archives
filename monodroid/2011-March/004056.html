<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] selecting contacts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20selecting%20contacts&In-Reply-To=00cc01cbefd1%24abe4c110%2403ae4330%24%40gb.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004064.html">
   <LINK REL="Next"  HREF="004057.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] selecting contacts</H1>
    <B>hdortim</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20selecting%20contacts&In-Reply-To=00cc01cbefd1%24abe4c110%2403ae4330%24%40gb.com"
       TITLE="[mono-android] selecting contacts">hdortim at gmx.net
       </A><BR>
    <I>Thu Mar 31 14:48:45 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004064.html">[mono-android] selecting contacts
</A></li>
        <LI>Next message: <A HREF="004057.html">[mono-android] selecting contacts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4056">[ date ]</a>
              <a href="thread.html#4056">[ thread ]</a>
              <a href="subject.html#4056">[ subject ]</a>
              <a href="author.html#4056">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi John,

I am not sure, but I have used OnActivityResult() succesfully, but you 
need to override the method to make sure it is called.
So your Method shoudl look like this:
public override void OnActivityResult(int requestCode, int resultCode, 
Intent intent)

{

...
}

Have fun,

H. Dortim


Am 31.03.2011 20:30, schrieb John Murray:
&gt;<i>
</I>&gt;<i> Hello all
</I>&gt;<i>
</I>&gt;<i> sorry to be 'needy' but this might help other beginners  as well -- 
</I>&gt;<i> could form a useful how-to if I could get it working
</I>&gt;<i>
</I>&gt;<i> I have got a fair way in working out how to select a contact from the 
</I>&gt;<i> contacts database with following code
</I>&gt;<i>
</I>&gt;<i> This works up to a point
</I>&gt;<i>
</I>&gt;<i> privatevoid butt1click()
</I>&gt;<i>
</I>&gt;<i>         {
</I>&gt;<i>
</I>&gt;<i> // clicking this button calls up a list of contacts from the phone 
</I>&gt;<i> successfully
</I>&gt;<i>
</I>&gt;<i> Intent intent = new Intent(Intent.ActionPick);
</I>&gt;<i>
</I>&gt;<i>             intent.SetType(ContactsContract.Contacts.ContentType);
</I>&gt;<i>
</I>&gt;<i>             StartActivityForResult(intent, 5555);
</I>&gt;<i>
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i> // this on activityresult is intended to return something useful from 
</I>&gt;<i> the selection e1 is  an EditText on the calling view
</I>&gt;<i>
</I>&gt;<i> public void OnActivityResult(int requestCode, int resultCode, Intent 
</I>&gt;<i> intent)
</I>&gt;<i>
</I>&gt;<i>         {
</I>&gt;<i>
</I>&gt;<i> //   if (requestCode == 5555)
</I>&gt;<i>
</I>&gt;<i> //   {
</I>&gt;<i>
</I>&gt;<i> ICursor cursor = ManagedQuery(intent.Data, null, null, null, null);
</I>&gt;<i>
</I>&gt;<i>                 cursor.MoveToNext();
</I>&gt;<i>
</I>&gt;<i> string name = &quot;some name&quot;;
</I>&gt;<i>
</I>&gt;<i>                 name = 
</I>&gt;<i> cursor.GetString(cursor.GetColumnIndexOrThrow(ContactsContract.ContactsColumnsConsts.DisplayName));
</I>&gt;<i>
</I>&gt;<i>                 e1.Text = name;
</I>&gt;<i>
</I>&gt;<i> //  }
</I>&gt;<i>
</I>&gt;<i>         }//onActivityResult
</I>&gt;<i>
</I>&gt;<i> Works well -- I get the contact selection dialog
</I>&gt;<i>
</I>&gt;<i> But it seems to completely ignore the OnActivityResult method
</I>&gt;<i>
</I>&gt;<i> I have another childwindow dialog which uses same approach but in 
</I>&gt;<i> another activity -- should I just have one OnActivity method ? I 
</I>&gt;<i> thought not as this contacts picker is called from a completely 
</I>&gt;<i> different view and activity than the other one
</I>&gt;<i>
</I>&gt;<i> Any ideas why the OnActivityResult seems to be bypassed -- you can see 
</I>&gt;<i> I remmed out the result code in case that was it
</I>&gt;<i>
</I>&gt;<i> TIA
</I>&gt;<i>
</I>&gt;<i> John Murray
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110331/09f35598/attachment-0001.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110331/09f35598/attachment-0001.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004064.html">[mono-android] selecting contacts
</A></li>
	<LI>Next message: <A HREF="004057.html">[mono-android] selecting contacts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4056">[ date ]</a>
              <a href="thread.html#4056">[ thread ]</a>
              <a href="subject.html#4056">[ subject ]</a>
              <a href="author.html#4056">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
