<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Enhancement: aresgen.exe and TFS.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Enhancement%3A%20aresgen.exe%20and%20TFS.&In-Reply-To=4D8189E2.8050508%40jpobst.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003758.html">
   <LINK REL="Next"  HREF="003744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Enhancement: aresgen.exe and TFS.</H1>
    <B>Milligan, Ryan</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Enhancement%3A%20aresgen.exe%20and%20TFS.&In-Reply-To=4D8189E2.8050508%40jpobst.com"
       TITLE="[mono-android] Enhancement: aresgen.exe and TFS.">Ryan.Milligan at wizards.com
       </A><BR>
    <I>Thu Mar 17 11:33:13 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003758.html">[mono-android] Enhancement: aresgen.exe and TFS.
</A></li>
        <LI>Next message: <A HREF="003744.html">[mono-android] Enhancement: aresgen.exe and TFS.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3742">[ date ]</a>
              <a href="thread.html#3742">[ thread ]</a>
              <a href="subject.html#3742">[ subject ]</a>
              <a href="author.html#3742">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A file doesn't have to be statically in the project to provide Intellisense...to satisfy yourself of this, you can create a WPF project, reference App.Main() from somewhere, and see how Intellisense handles it. This function is defined in obj\x86\Debug\App.g.cs, which is automatically generated and added to the project at build time. This way, it never gets checked in, but Intellisense still works just like any other file.

I was able to make this work with the following steps:

1) In the Android .csproj file, remove the &lt;Compile Include=&quot;Resource.designer.cs&quot; /&gt; element
2) Change the &quot;AndroidResgenFile&quot; property to $(IntermediateOutputPath)\Resource.designer.cs (optional, but cleaner, since build output shouldn't be intermixed in the same directory with source code)
3) Add an [Output] attribute to the AndroidResgen.ResgenOutputFile property (I used ildasm\ilasm for this, for testing purposes)
4) In Program Files\MSBuild\Novell\Novell.MonoDroid.Common.targets, add the following inside the &lt;AndroidResgen /&gt; element: 
    &lt;Output TaskParameter=&quot;ResgenOutputFile&quot; ItemName=&quot;Compile&quot; /&gt;

Now if you build your project, you should end up with a Resource.designer.cs that's exactly the same as what you have now, but is tucked away with the other intermediate build files and doesn't show up in the Solution Explorer, which therefore won't get checked into source control and cause problems. I tried this and verified that Intellisense works exactly as it did before. I even added a doc comment to one of my string resources and verified that it still showed up correctly, in case you ever want to put the name of the file that generated it there or something.

    -- Ryan Milligan

________________________________________
From: Jonathan Pobst [<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monkey at jpobst.com</A>]
Sent: Wednesday, March 16, 2011 9:11 PM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
Cc: Milligan, Ryan
Subject: Re: [mono-android] Enhancement: aresgen.exe and TFS.

We generate it in \Resources and add it to your project so you can get
Intellisense when using it.

Jonathan

On 3/16/2011 5:10 PM, Milligan, Ryan wrote:
&gt;<i> Files that are generated automatically as part of building shouldn&#8217;t be
</I>&gt;<i> checked in. Lots of source control systems mark files that aren&#8217;t
</I>&gt;<i> checked out as read-only. Unfortunately, I&#8217;m not sure if TFS lets you
</I>&gt;<i> exclude files that are part of the project from the source control
</I>&gt;<i> repository. I think the right answer is probably for Monodroid to
</I>&gt;<i> generate Resources.Designer.cs in the obj folder (much like the various
</I>&gt;<i> .g.cs files that WPF generates as part of the build process, for
</I>&gt;<i> example) so that it won&#8217;t go in the repository at all. This sort of
</I>&gt;<i> temporary file generated by the build process is exactly what the obj
</I>&gt;<i> folder is for.
</I>&gt;<i>
</I>&gt;<i>                  -- Ryan Milligan
</I>&gt;<i>
</I>&gt;<i> *From:*<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] *On Behalf Of *Carlo Bolz
</I>&gt;<i> *Sent:* Wednesday, March 16, 2011 12:42 AM
</I>&gt;<i> *To:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;<i> *Subject:* Re: [mono-android] Enhancement: aresgen.exe and TFS.
</I>&gt;<i>
</I>&gt;<i> Sorry, I won&#180;t cumber the monodroid team. It&#180;s more a question than an
</I>&gt;<i> enhancement. My question is answered now.
</I>&gt;<i>
</I>&gt;<i> *Von:*<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] *Im Auftrag von *Tom Opgenorth
</I>&gt;<i> *Gesendet:* Mittwoch, 16. M&#228;rz 2011 03:51
</I>&gt;<i> *An:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;<i> *Betreff:* Re: [mono-android] Enhancement: aresgen.exe and TFS.
</I>&gt;<i>
</I>&gt;<i> To be honest, I'd say this is more of a TFS problem then a MonoDroid
</I>&gt;<i> problem. It truly annoys me to no end that TFS does this in the first
</I>&gt;<i> place. I'd suggest that the MonoDroid team shouldn't be spending their
</I>&gt;<i> precious resources yak shaving activities to get around TFS issues.
</I>&gt;<i>
</I>&gt;<i> On Tue, Mar 15, 2011 at 16:42, Carlo Bolz &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">cb at dm-edv.de</A>
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">cb at dm-edv.de</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Developer are normaly lazy ;-)
</I>&gt;<i>
</I>&gt;<i> Everytime I check out the project from the Team Foundation Server and
</I>&gt;<i> somethings different in the resources, aresgen.exe runs into an
</I>&gt;<i> System.UnauthorizedAccessException because the file
</I>&gt;<i> &quot;Resources.Designer.cs&quot; is read only.
</I>&gt;<i>
</I>&gt;<i> So I have to check out the file &quot;Resources.Designer.cs&quot; and compile again.
</I>&gt;<i>
</I>&gt;<i> Kind regards,
</I>&gt;<i>
</I>&gt;<i> Carlo
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://www.opgenorth.net">http://www.opgenorth.net</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I></PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003758.html">[mono-android] Enhancement: aresgen.exe and TFS.
</A></li>
	<LI>Next message: <A HREF="003744.html">[mono-android] Enhancement: aresgen.exe and TFS.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3742">[ date ]</a>
              <a href="thread.html#3742">[ thread ]</a>
              <a href="subject.html#3742">[ subject ]</a>
              <a href="author.html#3742">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
