<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] DrawLine problem with Paint.StrokeWidth = 1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20DrawLine%20problem%20with%20Paint.StrokeWidth%20%3D%201&In-Reply-To=00c101cbe57b%24296df040%247c49d0c0%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003764.html">
   <LINK REL="Next"  HREF="003809.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] DrawLine problem with Paint.StrokeWidth = 1</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20DrawLine%20problem%20with%20Paint.StrokeWidth%20%3D%201&In-Reply-To=00c101cbe57b%24296df040%247c49d0c0%24%40com"
       TITLE="[mono-android] DrawLine problem with Paint.StrokeWidth = 1">jpryor at novell.com
       </A><BR>
    <I>Fri Mar 18 11:41:31 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003764.html">[mono-android] DrawLine problem with Paint.StrokeWidth = 1
</A></li>
        <LI>Next message: <A HREF="003809.html">[mono-android] DrawLine problem with Paint.StrokeWidth = 1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3765">[ date ]</a>
              <a href="thread.html#3765">[ thread ]</a>
              <a href="subject.html#3765">[ subject ]</a>
              <a href="author.html#3765">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mar 18, 2011, at 10:45 AM, Narc&#237;s Calvet wrote:
&gt;<i> So this would indicate this is a general Android problem, not a Monodroid
</I>&gt;<i> problem.
</I>
Absolutely.

And I'm not sure if it's an Android &quot;problem&quot; or &quot;feature.&quot; (It sucks, regardless.)

That aside, the _sole_ reason mandroid.exe generates /manifest/uses-sdk is because...it seemed the right thing to do. :-)

For example, the documentation[0] says that &lt;uses-sdk/&gt; is used to filter which apps are shown in the Android Market, and if &lt;uses-sdk/&gt; isn't present then ~everything assumes that the app will work on apps down to API level 1. Mono for Android apps will not work on API level 3 or lower (Android v1.6 or later is currently required), so not generating &lt;uses-sdk/&gt; seemed like a Bad Thing, and since mandroid.exe knows which API level you're using, generating //uses-sdk/@android:minSdkVersion is trivial and proper.

I had no idea at the time it would cause this level of grief, either. :-/

With that background, I'm torn about whether I &lt;uses-sdk/&gt; should be automatically generated or not. The documentation implies that it should be used, but the results...

Also note that, since &lt;uses-sdk/&gt; IS used by the Android Market, I believe that it would be fairly probable that your &quot;downstream&quot; apps WILL use this element, eventually, so that their apps can't be installed on unsupportable devices. Consequently, you _will_ need to deal with this &quot;problem&quot;...

(My _guess_ as to why this happens is &quot;backward compatibility&quot; -- that Android 1.0 apps assumed a certain screen resolution, and that when screen sizes changed resolutions/got bigger/higher pixel densities/etc. the APIs changed to support it, but to keep existing apps looking &quot;right&quot; they &quot;lied&quot; to the 1.0 apps about the screen size and scaled the output. I have no proof of this, but it makes sense to me, and I'd love some actual information about this...)

&gt;<i> Some screenshots are available at <A HREF="http://bit.ly/hqXjEe.">http://bit.ly/hqXjEe.</A> You'll see the
</I>&gt;<i> output is substantially different using the default manifest
</I>&gt;<i> (TestAppDefaultManifest.png) or modifying it (TestAppModifiedManifest.png):
</I>&gt;<i> 1. The second image draws thicker lines.
</I>&gt;<i> 2. The second image draws less lines than the first image and than it
</I>&gt;<i> should. I think the number of lines is correct in the first image.
</I>
Which just adds further support for my above conjecture -- no &lt;uses-sdk/&gt; means &quot;Android 1.0&quot; means &quot;scale the output to the screen&quot; means &quot;the image is larger.&quot;

Again, from what little I've seen I believe the correct answer to your problem is that this is an Android feature (for better or worse), and thus you'll need to change your code so that things work &quot;right&quot; (however that's defined).

&gt;<i> Having seen that, how do you think we should proceed? If it is the case that
</I>&gt;<i> this is an Android issue perhaps it should be reported directly to Android's
</I>&gt;<i> developers. Do you know which channel should be used for that purpose?
</I>
There's lots of people on #android-dev on irc.freenode.net; you could try there, and stackoverflow.com, and the <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">android-developers at googlegroups.com</A> mailing list. This issue isn't specific Mono for Android, and will impact all Android developers...

 - Jon

[0] <A HREF="http://developer.android.com/guide/topics/manifest/uses-sdk-element.html">http://developer.android.com/guide/topics/manifest/uses-sdk-element.html</A>

</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003764.html">[mono-android] DrawLine problem with Paint.StrokeWidth = 1
</A></li>
	<LI>Next message: <A HREF="003809.html">[mono-android] DrawLine problem with Paint.StrokeWidth = 1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3765">[ date ]</a>
              <a href="thread.html#3765">[ thread ]</a>
              <a href="subject.html#3765">[ subject ]</a>
              <a href="author.html#3765">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
