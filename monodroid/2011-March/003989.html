<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Deleting files on external storage?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Deleting%20files%20on%20external%20storage%3F&In-Reply-To=AANLkTimokF5mSEn7gRkgQYf4FkuX7AzR%3DNFwryPf3xDF%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003988.html">
   <LINK REL="Next"  HREF="003990.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Deleting files on external storage?</H1>
    <B>Morten Nilsen</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Deleting%20files%20on%20external%20storage%3F&In-Reply-To=AANLkTimokF5mSEn7gRkgQYf4FkuX7AzR%3DNFwryPf3xDF%40mail.gmail.com"
       TITLE="[mono-android] Deleting files on external storage?">mortenn at hapro.no
       </A><BR>
    <I>Tue Mar 29 04:57:30 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003988.html">[mono-android] Deleting files on external storage?
</A></li>
        <LI>Next message: <A HREF="003990.html">[mono-android] Deleting files on external storage?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3989">[ date ]</a>
              <a href="thread.html#3989">[ thread ]</a>
              <a href="subject.html#3989">[ subject ]</a>
              <a href="author.html#3989">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I expect you might find <A HREF="http://developer.android.com/reference/android/Manifest.permission.html">http://developer.android.com/reference/android/Manifest.permission.html</A> useful in this instance..

  -- Cheers, Morten

From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of Jon Valvatne
Sent: Tuesday, March 29, 2011 10:52 AM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
Subject: [mono-android] Deleting files on external storage?

I seem to be unable to create an app that deletes files off the SD card - even files created by that same app. A simple test case is a default MonoAndroidApplication with these two lines inserted in Activity1.onCreate:

                System.IO.File.Create(&quot;/sdcard/test.txt&quot;);
                System.IO.File.Delete(&quot;/sdcard/test.txt&quot;);

The Create works fine, but the Delete fails with a System.UnauthorizedAccessException: Access to the path &quot;/sdcard/test.txt&quot; is denied.

I've tried figuring out if it may be a permissions problem, but it's a bit tricky without knowing how the Android platform maps apps to users to groups, since the default permission for all files and directories (at least as viewed in the adb shell) seems to be 075. But either way, it seems impossible that a permission problem should cause me to be able to create a file but not delete it, since both operations should require the same permission (that is, write permission to the containing directory).

Has anyone successfully deleted a file off external storage from C# code?

Thanks in advance,

Jon Valvatne
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110329/a4df2132/attachment.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110329/a4df2132/attachment.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003988.html">[mono-android] Deleting files on external storage?
</A></li>
	<LI>Next message: <A HREF="003990.html">[mono-android] Deleting files on external storage?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3989">[ date ]</a>
              <a href="thread.html#3989">[ thread ]</a>
              <a href="subject.html#3989">[ subject ]</a>
              <a href="author.html#3989">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
