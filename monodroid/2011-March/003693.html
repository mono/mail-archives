<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] monodroid-samples/ApiDemo exception at start-up
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20monodroid-samples/ApiDemo%20exception%20at%20start-up&In-Reply-To=AANLkTikCENrcZ8SC4rsK6G_BXaAAMTVufmWm7PwwceMt%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003691.html">
   <LINK REL="Next"  HREF="003694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] monodroid-samples/ApiDemo exception at start-up</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20monodroid-samples/ApiDemo%20exception%20at%20start-up&In-Reply-To=AANLkTikCENrcZ8SC4rsK6G_BXaAAMTVufmWm7PwwceMt%40mail.gmail.com"
       TITLE="[mono-android] monodroid-samples/ApiDemo exception at start-up">jpryor at novell.com
       </A><BR>
    <I>Tue Mar 15 17:08:28 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003691.html">[mono-android] monodroid-samples/ApiDemo exception at start-up
</A></li>
        <LI>Next message: <A HREF="003694.html">[mono-android] monodroid-samples/ApiDemo exception at start-up
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3693">[ date ]</a>
              <a href="thread.html#3693">[ thread ]</a>
              <a href="subject.html#3693">[ subject ]</a>
              <a href="author.html#3693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mar 15, 2011, at 3:39 PM, Len Charest wrote:
&gt;<i> I'm trying to run the ApiDemo sample app (found at <A HREF="https://github.com/mono/monodroid-samples">https://github.com/mono/monodroid-samples</A>) in an emulator. The app crashes at start-up with the following error:
</I>&gt;<i> 
</I>&gt;<i> E/mono    ( 1591): Unhandled Exception: System.TypeInitializationException: An exception was thrown by the type initializer for Android.Util.Log ---&gt; System.NullReferenceException: Object reference not set to an instance of an object
</I>&gt;<i> E/mono    ( 1591):   at Android.Runtime.JNIEnv.FindClass (System.String classname) [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> E/mono    ( 1591):   at Android.Util.Log..cctor () [0x00000] in &lt;filename unknown&gt;:0 
</I>&gt;<i> E/mono    ( 1591):   --- End of inner exception stack trace ---
</I>
That is very, very, odd.

That said, I get a _different_ error when I try a Release build of ApiDemo with Preview 14:

	I/MonoDroid(  510): UNHANDLED EXCEPTION: System.TypeInitializationException: An exception was thrown by the type initializer for Android.Widget.ItemClickImplementor ---&gt; System.ArgumentException: Couldn't bind to method 'GetOnItemClickHandler'.

My bug appears to be a linker bug; disabling the linker (`/p:AndroidLinkMode=None`) allows it to work for me.

However, my issues seem unrelated to yours, so what output do you see before those messages? Specifically, can you provide everything from the message similar to:

	I/ActivityManager(12944): Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=Mono.Samples.HelloTests/mono.samples.HelloApp } from pid 1637

until the crash?

 - Jon

</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003691.html">[mono-android] monodroid-samples/ApiDemo exception at start-up
</A></li>
	<LI>Next message: <A HREF="003694.html">[mono-android] monodroid-samples/ApiDemo exception at start-up
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3693">[ date ]</a>
              <a href="thread.html#3693">[ thread ]</a>
              <a href="subject.html#3693">[ subject ]</a>
              <a href="author.html#3693">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
