<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] DrawLine problem with Paint.StrokeWidth = 1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20DrawLine%20problem%20with%20Paint.StrokeWidth%20%3D%201&In-Reply-To=01ce01cbe7df%2469e91f80%243dbb5e80%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003824.html">
   <LINK REL="Next"  HREF="003830.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] DrawLine problem with Paint.StrokeWidth = 1</H1>
    <B>Narc&#237;s Calvet</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20DrawLine%20problem%20with%20Paint.StrokeWidth%20%3D%201&In-Reply-To=01ce01cbe7df%2469e91f80%243dbb5e80%24%40com"
       TITLE="[mono-android] DrawLine problem with Paint.StrokeWidth = 1">narcis at steema.com
       </A><BR>
    <I>Mon Mar 21 12:43:39 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003824.html">[mono-android] DrawLine problem with Paint.StrokeWidth = 1
</A></li>
        <LI>Next message: <A HREF="003830.html">[mono-android] DrawLine problem with Paint.StrokeWidth = 1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3825">[ date ]</a>
              <a href="thread.html#3825">[ thread ]</a>
              <a href="subject.html#3825">[ subject ]</a>
              <a href="author.html#3825">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Jon,

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of Narc&#237;s Calvet
Sent: dilluns, 21 / mar&#231; / 2011 16:48
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
Subject: Re: [mono-android] DrawLine problem with Paint.StrokeWidth = 1

&gt;<i>Wow! I still see some inconsistencies with text rendering too. I'll try to
</I>find a test case I can post here.

Finally came up with the code example below which reproduces the text
problem with minSdkVersion attribute. At
<A HREF="http://www.steema.us/files/public/support/TextIssue.zip">http://www.steema.us/files/public/support/TextIssue.zip</A> you can download the
two screenshots I took. One has the minSdkVersion attribute and the other
not. Initializing the Paint object using the antialias flag doesn't help
either. Do you have any idea on what may be going on here?

using System;

using Android.App;
using Android.Content;
using Android.Runtime;
using Android.Views;
using Android.Widget;
using Android.OS;
using Android.Graphics;

namespace MonoDroidApplication1
{
  class MyControl : View
  {
    public MyControl(Context context)
      : base(context) { }

    protected override void OnDraw(Canvas canvas)
    {
      base.OnDraw(canvas);

      Display disp = GetDisplay();

      Paint p = new Paint();
      p.Color = Color.Lime;

      int count = 0;

      for (int y = 0; y &lt; disp.Height; y=y+10)
      {
        Random rand = new Random();
        canvas.DrawText(count.ToString() + &quot; - &quot; + rand.Next().ToString(),
100, y, p);
        count++;
      }
    }

    private Display GetDisplay()
    {
      return
this.Context.GetSystemService(Android.Content.Context.WindowService).JavaCas
t&lt;Android.Views.IWindowManager&gt;().DefaultDisplay;
    }
  }

  [Activity(Label = &quot;My Activity&quot;, MainLauncher = true)]
  public class Activity1 : Activity
  {
    protected override void OnCreate(Bundle bundle)
    {
      base.OnCreate(bundle);

      var ctrl = new MyControl(this);
      SetContentView(ctrl);
    }
  }
}

Thanks in advance!


Best Regards,
 
Narc&#237;s Calvet
Steema Software
<A HREF="http://www.steema.com">http://www.steema.com</A> 
<A HREF="http://twitter.com/SteemaSoftware">http://twitter.com/SteemaSoftware</A> 
<A HREF="https://www.facebook.com/SteemaSoftware">https://www.facebook.com/SteemaSoftware</A> 



</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003824.html">[mono-android] DrawLine problem with Paint.StrokeWidth = 1
</A></li>
	<LI>Next message: <A HREF="003830.html">[mono-android] DrawLine problem with Paint.StrokeWidth = 1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3825">[ date ]</a>
              <a href="thread.html#3825">[ thread ]</a>
              <a href="subject.html#3825">[ subject ]</a>
              <a href="author.html#3825">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
