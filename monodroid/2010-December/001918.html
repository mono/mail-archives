<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Problems Converting EditText value to a double
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Problems%20Converting%20EditText%20value%20to%20a%20double&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001916.html">
   <LINK REL="Next"  HREF="001919.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Problems Converting EditText value to a double</H1>
    <B>Byron Blank</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Problems%20Converting%20EditText%20value%20to%20a%20double&In-Reply-To="
       TITLE="[Monodroid] Problems Converting EditText value to a double">byronbla at gmail.com
       </A><BR>
    <I>Sat Dec  4 21:12:50 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001916.html">[Monodroid]  Debugging issue?
</A></li>
        <LI>Next message: <A HREF="001919.html">[Monodroid] Problems Converting EditText value to a double
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1918">[ date ]</a>
              <a href="thread.html#1918">[ thread ]</a>
              <a href="subject.html#1918">[ subject ]</a>
              <a href="author.html#1918">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, I am trying to make a simple application with a class that 
converts tempatures, I am doing this as a demonstration of MonoDroid for 
class.  I want to be able to convert the value entered into the EditText 
widgets to a double, so I can perform the calculations, but I keep 
getting a FormatException.


using System;

using Android.App;
using Android.Content;
using Android.Runtime;
using Android.Views;
using Android.Widget;
using Android.OS;

namespace TempertureConverter
{
     [Activity(Label = &quot;Temperture Converter&quot;, MainLauncher = true)]
     public class TempConv : Activity
     {
         double fah;
         double cel;
         double fahtoCel;
         double celtoFah;

         protected override void OnCreate(Bundle bundle)
         {
             base.OnCreate(bundle);

             // Set our view from the &quot;main&quot; layout resource
             SetContentView(Resource.layout.main);

             // Get our button from the layout resource,
             // and attach an event to it

              Button buttonC = FindViewById&lt;Button&gt;(Resource.id.btnCelcius);
              Button buttonF = 
FindViewById&lt;Button&gt;(Resource.id.btnFahrenheit);
              TextView output = 
FindViewById&lt;TextView&gt;(Resource.id.txtResult);
              EditText celcius = 
FindViewById&lt;EditText&gt;(Resource.id.txtCelcius);
              EditText fahrenheit = 
FindViewById&lt;EditText&gt;(Resource.id.txtFahrenheit);





                  buttonC.Click += delegate {
                     try
                     {

                         string fahText = fahrenheit.Text.ToString();
                         fah = Convert.ToDouble(fahText);

                         fahtoCel = ConvertTemp.ToCelcius(fah);

                         output.Text = string.Format(&quot;{0} degrees 
Fahrenheit is {1} degress Celcius.&quot;, fah.ToString(), fahtoCel.ToString());
                     }

                     catch (Exception er)
                     {
                         output.Text = er.ToString();
                     }


                  };

                  buttonF.Click += delegate
                  {
                      try
                      {
                          string celText = celcius.Text.ToString();
                          cel = Convert.ToDouble(celText);

                          output.Text = string.Format(&quot;{0} degrees 
Celcius is {1} degress Fahrenheit.&quot;, cel.ToString(), celtoFah.ToString());
                      }

                      catch (Exception er)
                      {
                          output.Text = er.ToString();
                      }


                  };



         }
     }
}

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001916.html">[Monodroid]  Debugging issue?
</A></li>
	<LI>Next message: <A HREF="001919.html">[Monodroid] Problems Converting EditText value to a double
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1918">[ date ]</a>
              <a href="thread.html#1918">[ thread ]</a>
              <a href="subject.html#1918">[ subject ]</a>
              <a href="author.html#1918">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
