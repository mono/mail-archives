<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Admob
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Admob&In-Reply-To=SNT103-W30B40B2D08C4C6A0AE95DCB4E30%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002766.html">
   <LINK REL="Next"  HREF="002769.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Admob</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Admob&In-Reply-To=SNT103-W30B40B2D08C4C6A0AE95DCB4E30%40phx.gbl"
       TITLE="[Monodroid] Admob">jpryor at novell.com
       </A><BR>
    <I>Sun Jan 30 18:21:37 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002766.html">[Monodroid] Admob
</A></li>
        <LI>Next message: <A HREF="002769.html">[Monodroid] Preserve attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2767">[ date ]</a>
              <a href="thread.html#2767">[ thread ]</a>
              <a href="subject.html#2767">[ subject ]</a>
              <a href="author.html#2767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jan 30, 2011, at 5:49 PM, Dudley Adshead wrote:
&gt;<i> Is it possible to integrate Admob into a monodroid project?  I'm guessing I could add a webview and include the web based version of admob, but is it possible to utilise the native version of the control which I believe comes in the form of a .jar?
</I>
This is an open research question (in that I don't know the complete answer), but a &quot;working&quot; answer in three parts:

 1. Is any inheritance required to use AdMob?  If yes, you can't easily use it from C#, but you could (possibly) write some custom Java code for use in (3) if necessary.

 2. How is the .jar supposed to be packaged/distributed with the .apk?  This is the part I haven't had a chance to lookup yet, and may require additional monodroid.exe support; this is the open research question.

 3. Assuming (2) is solved, you can use Android.Runtime.JNIEnv [0] to create instances of ~any Java object (see part (1)) and invoke methods, lookup members, etc. on those created instances.  It's not easy, but it's _possible_.

I'll freely admit that this isn't an ideal solution (once (2) is answered), but it should work (again, once (2) is answered).

Any code using this will likely want to make use of the Android.Runtime.Extensions.ToJavaObject&lt;T&gt;() [1] extension method, which would allow interacting with a JNIEnv-created object via an already bound MonoDroid type:

	IntPtr klass = JNIEnv.FindClass (&quot;some/java/Type&quot;);
	IntPtr defCtor = JNIEnv.GetMethodID (klass, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);
	IntPtr instance = JNIEnv.NewObject (klass, defCtor);

	IRunnable r = new Java.Lang.Object(instance).JavaCast&lt;IRunnable&gt;();

A more &quot;native&quot; solution more inline with the rest of MonoDroid will be provided post 1.0.

 - Jon

[0] <A HREF="http://docs.monodroid.net/index.aspx?link=T:Android.Runtime.JNIEnv">http://docs.monodroid.net/index.aspx?link=T:Android.Runtime.JNIEnv</A>
[1] <A HREF="http://docs.monodroid.net/index.aspx?link=M:Android.Runtime.Extensions.JavaCast``1(Android.Runtime.IJavaObject">http://docs.monodroid.net/index.aspx?link=M:Android.Runtime.Extensions.JavaCast``1(Android.Runtime.IJavaObject</A>)

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002766.html">[Monodroid] Admob
</A></li>
	<LI>Next message: <A HREF="002769.html">[Monodroid] Preserve attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2767">[ date ]</a>
              <a href="thread.html#2767">[ thread ]</a>
              <a href="subject.html#2767">[ subject ]</a>
              <a href="author.html#2767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
