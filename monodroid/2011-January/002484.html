<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] Camera.PreviewCallback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Camera.PreviewCallback&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002479.html">
   <LINK REL="Next"  HREF="002487.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] Camera.PreviewCallback</H1>
    <B>Leonardo Suryana</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20Camera.PreviewCallback&In-Reply-To="
       TITLE="[Monodroid] Camera.PreviewCallback">leonardo at torqsoftware.com
       </A><BR>
    <I>Wed Jan 12 00:27:31 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002479.html">[Monodroid] Custom controls
</A></li>
        <LI>Next message: <A HREF="002487.html">[Monodroid] WebClient crashing app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2484">[ date ]</a>
              <a href="thread.html#2484">[ thread ]</a>
              <a href="subject.html#2484">[ subject ]</a>
              <a href="author.html#2484">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 

I'm attempting to create an application that streams the camera output from
the Android device into a web browser. The problem that I'm facing is that
the byte [] that I get from the OnPreviewFrame callback doesn't seem to
contain the image that is being displayed by the camera. I've tested my
implementation by using the PictureCallback instead and it is successfully
streamed to the web browser.

Basically what I'm asking is that, how does the PreviewCallback work and
whether there is any alternative way to extract the camera footage as an
array of bytes?

 

CODE:

                public void OnActivitySurfaceChanged( ISurfaceHolder holder,
int format, int width, int height )

        {

            if ( cameraRunning )

                camera.StopPreview();

 

            camera.GetParameters().SetPreviewSize( width, height );

            camera.GetParameters().PreviewFormat = ImageFormat.Jpeg;

            camera.SetPreviewDisplay( holder );

            camera.SetPreviewCallback( this );

 

            camera.StartPreview();

            cameraRunning = true;

        }

 

 

 

Leonardo Suryana

Software Engineer

 &lt;<A HREF="http://www.torqsoftware.com/">http://www.torqsoftware.com/</A>&gt; Torq Software

&quot;Your business success through software development&quot;

 

t: +61 8 6555 6507 e:  &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">leonardo at torqsoftware.com</A>&gt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">leonardo at torqsoftware.com</A>

f: +61 8 9467 6145 w:  &lt;<A HREF="http://www.torqsoftware.com">http://www.torqsoftware.com</A>&gt; www.torqsoftware.com

a: Unit 1A 30 Buckingham Drive, Wangara, Western Australia 6065

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110112/1269992a/attachment.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110112/1269992a/attachment.html</A> 
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002479.html">[Monodroid] Custom controls
</A></li>
	<LI>Next message: <A HREF="002487.html">[Monodroid] WebClient crashing app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2484">[ date ]</a>
              <a href="thread.html#2484">[ thread ]</a>
              <a href="subject.html#2484">[ subject ]</a>
              <a href="author.html#2484">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
