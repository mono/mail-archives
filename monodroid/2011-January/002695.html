<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodroid] XmlSerializer regression in Preview 11?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20XmlSerializer%20regression%20in%20Preview%2011%3F&In-Reply-To=4D3F4AD2.1030408%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002691.html">
   <LINK REL="Next"  HREF="002697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodroid] XmlSerializer regression in Preview 11?</H1>
    <B>Andrew Sinclair</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5BMonodroid%5D%20XmlSerializer%20regression%20in%20Preview%2011%3F&In-Reply-To=4D3F4AD2.1030408%40novell.com"
       TITLE="[Monodroid] XmlSerializer regression in Preview 11?">andrew at magic5software.com
       </A><BR>
    <I>Wed Jan 26 06:05:07 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002691.html">[Monodroid] Is This Love?
</A></li>
        <LI>Next message: <A HREF="002697.html">[Monodroid] XmlSerializer regression in Preview 11?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2695">[ date ]</a>
              <a href="thread.html#2695">[ thread ]</a>
              <a href="subject.html#2695">[ subject ]</a>
              <a href="author.html#2695">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I think there's maybe another regression in Preview 11 which is also still
in 11.1.

XmlSerializer parameterSer = new XmlSerializer(typeof(myType));

fails with the following error, even though the type *does* have a default
public constructor. This all worked fine prior to preview 11. I've tried
with the fully qualified type name as well as the simple name, plus I've
tried some of the other XmlSerializer constructors, but I can't seem to get
around the problem. Any ideas?

System.InvalidOperationException: There was an error reflecting type
'myType'. ---&gt; System.InvalidOperationException: myType cannot be serialized
because it does not have a default public constructor
  at System.Xml.Serialization.ReflectionHelper.CheckSerializableType
(System.Type type, Boolean allowPrivateConstructors) [0x00040] in
/home/jon/Development/mono-droid/mono/mcs/class/System.XML/System.Xml.Serial
ization/ReflectionHelper.cs:87 
  at System.Xml.Serialization.XmlReflectionImporter.ImportClassMapping
(System.Xml.Serialization.TypeData typeData,
System.Xml.Serialization.XmlRootAttribute root, System.String
defaultNamespace) [0x00030] in
/home/jon/Development/mono-droid/mono/mcs/class/System.XML/System.Xml.Serial
ization/XmlReflectionImporter.cs:332 
  at System.Xml.Serialization.XmlReflectionImporter.ImportTypeMapping
(System.Xml.Serialization.TypeData typeData,
System.Xml.Serialization.XmlRootAttribute root, System.String
defaultNamespace) [0x0006e] in
/home/jon/Development/mono-droid/mono/mcs/class/System.XML/System.Xml.Serial
ization/XmlReflectionImporter.cs:217 
  --- End of inner exception stack trace ---
  at System.Xml.Serialization.XmlReflectionImporter.ImportTypeMapping
(System.Xml.Serialization.TypeData typeData,
System.Xml.Serialization.XmlRootAttribute root, System.String
defaultNamespace) [0x00174] in
/home/jon/Development/mono-droid/mono/mcs/class/System.XML/System.Xml.Serial
ization/XmlReflectionImporter.cs:237 
  at System.Xml.Serialization.XmlReflectionImporter.ImportTypeMapping
(System.Type type, System.Xml.Serialization.XmlRootAttribute root,
System.String defaultNamespace) [0x0003c] in
/home/jon/Development/mono-droid/mono/mcs/class/System.XML/System.Xml.Serial
ization/XmlReflectionImporter.cs:192 
  at System.Xml.Serialization.XmlSerializer..ctor (System.Type type,
System.Xml.Serialization.XmlAttributeOverrides overrides, System.Type[]
extraTypes, System.Xml.Serialization.XmlRootAttribute root, System.String
defaultNamespace) [0x00047] in
/home/jon/Development/mono-droid/mono/mcs/class/System.XML/System.Xml.Serial
ization/XmlSerializer.cs:227 
  at System.Xml.Serialization.XmlSerializer..ctor (System.Type type)
[0x00000] in &lt;filename unknown&gt;:0

Thanks,

Andy

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of Jonathan Pobst
Sent: 25 January 2011 22:13
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
Subject: [Monodroid] Preview 11.1 Available

Hey guys,

We had a few annoying regressions in P11, so we are releasing a quick 
build that has fixes for them.  The fixed issues are:

- Log.Debug works again
- TextView.Text.ToString works again
- The Add Reference dialog in VS works again

VS2010 users have a new .msi to install.

MD/Mac users have a new .pkg to install.

<A HREF="http://go-mono.com/monodroid-download/">http://go-mono.com/monodroid-download/</A>

Enjoy!
Jonathan
_______________________________________________
Monodroid mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>

UNSUBSCRIBE INFORMATION:
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/mailman/private/monodroid/attachments/20110126/6f73ef98/attachment.html">http://lists.ximian.com/mailman/private/monodroid/attachments/20110126/6f73ef98/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002691.html">[Monodroid] Is This Love?
</A></li>
	<LI>Next message: <A HREF="002697.html">[Monodroid] XmlSerializer regression in Preview 11?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2695">[ date ]</a>
              <a href="thread.html#2695">[ thread ]</a>
              <a href="subject.html#2695">[ subject ]</a>
              <a href="author.html#2695">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
