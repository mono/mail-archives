<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] VM full error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20VM%20full%20error&In-Reply-To=%3C07539094-7096-4C34-B84B-F40C44C61EAC%40xamarin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009704.html">
   <LINK REL="Next"  HREF="009718.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] VM full error</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20VM%20full%20error&In-Reply-To=%3C07539094-7096-4C34-B84B-F40C44C61EAC%40xamarin.com%3E"
       TITLE="[mono-android] VM full error">jonp at xamarin.com
       </A><BR>
    <I>Thu Apr 12 16:19:01 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009704.html">[mono-android] MV full error
</A></li>
        <LI>Next message: <A HREF="009718.html">[mono-android] VM full error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9717">[ date ]</a>
              <a href="thread.html#9717">[ thread ]</a>
              <a href="subject.html#9717">[ subject ]</a>
              <a href="author.html#9717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Apr 11, 2012, at 9:04 PM, King Coffee wrote:
&gt;<i> I'm dynamically loading a image. The function below can be executed 3 times be for the log box reports an error (See below).
</I>
From the error output:

	GC_EXTERNAL_ALLOC freed 54K, 50% free 2805K/5511K, external 22596K/24644K, paused 162ms
	10077696-byte external allocation too large for this process
	VM won't let us allocate 10077696 bytes

Rephrased, Dalvik had allocated 24.6MB of RAM, and was trying to allocate another 10MB (total: ~35MB), which exceeds the Dalvik VM limits; see the dalvik.vm.heapsizse system property [0], which on my N1 is 32m, and on many devices (including the emulators) is 24m.

You should resize your images so that they're smaller and don't consume so much memory. Alternatively, rework your app logic so that they're not all &quot;live&quot; at the same time.

 - Jon

[0] adb shell getprop dalvik.vm.heapsize

</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009704.html">[mono-android] MV full error
</A></li>
	<LI>Next message: <A HREF="009718.html">[mono-android] VM full error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9717">[ date ]</a>
              <a href="thread.html#9717">[ thread ]</a>
              <a href="subject.html#9717">[ subject ]</a>
              <a href="author.html#9717">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
