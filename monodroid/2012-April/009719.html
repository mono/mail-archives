<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] VM full error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20VM%20full%20error&In-Reply-To=%3C639BA3D1-4A00-41AA-A12C-6948127EC95F%40xamarin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009718.html">
   <LINK REL="Next"  HREF="009721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] VM full error</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20VM%20full%20error&In-Reply-To=%3C639BA3D1-4A00-41AA-A12C-6948127EC95F%40xamarin.com%3E"
       TITLE="[mono-android] VM full error">jonp at xamarin.com
       </A><BR>
    <I>Thu Apr 12 16:48:44 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009718.html">[mono-android] VM full error
</A></li>
        <LI>Next message: <A HREF="009721.html">[mono-android] VM full error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9719">[ date ]</a>
              <a href="thread.html#9719">[ thread ]</a>
              <a href="subject.html#9719">[ subject ]</a>
              <a href="author.html#9719">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Apr 12, 2012, at 12:24 PM, michelw wrote:
&gt;<i> 04-12 16:22:13.907 E/dalvikvm-heap(  800): 843000-byte external allocation too large for this process.
</I>&gt;<i> 04-12 16:22:13.907 E/        (  800): VM won't let us allocate 843000 bytes
</I>&gt;<i> 
</I>&gt;<i> My VM crash with pic &gt;= ~ 850 Ko only.....
</I>
You need to also know how much has been previously allocated, e.g. a preceding GC_EXTERNAL_ALLOC message. If you're just under the limit, a 1 byte allocation can still fail.

Even with 850KB allocations, you can only allocate ~37 images before you're out of memory.

How many images are you trying to show at once? Is this bounded in any way? If using an Adapter, is Adapter.GetView() reusing the convertView? If the View contains an image, are you disposing of the image before updating it with a new image?

Thanks,
 - Jon

</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009718.html">[mono-android] VM full error
</A></li>
	<LI>Next message: <A HREF="009721.html">[mono-android] VM full error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9719">[ date ]</a>
              <a href="thread.html#9719">[ thread ]</a>
              <a href="subject.html#9719">[ subject ]</a>
              <a href="author.html#9719">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
