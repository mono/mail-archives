<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] VM full error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20VM%20full%20error&In-Reply-To=%3C80B97E28-4668-4F14-BA44-56E6B9833381%40xamarin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009730.html">
   <LINK REL="Next"  HREF="009725.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] VM full error</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20VM%20full%20error&In-Reply-To=%3C80B97E28-4668-4F14-BA44-56E6B9833381%40xamarin.com%3E"
       TITLE="[mono-android] VM full error">jonp at xamarin.com
       </A><BR>
    <I>Tue Apr 17 21:33:36 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009730.html">[mono-android] VM full error
</A></li>
        <LI>Next message: <A HREF="009725.html">[mono-android] How to implement a dashboard view/ layout?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9797">[ date ]</a>
              <a href="thread.html#9797">[ thread ]</a>
              <a href="subject.html#9797">[ subject ]</a>
              <a href="author.html#9797">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Apr 12, 2012, at 8:02 PM, King Coffee wrote:
&gt;<i> I'm using the following code to allocate an image file to a ImageView control, with instance name: image.
</I>&gt;<i> 
</I>&gt;<i> Bitmap bitmap = BitmapFactory.DecodeFile(matches[0]);
</I>&gt;<i> image.SetImageBitmap(bitmap);
</I>
If you're not using `bitmap` after this point, you should be able to dispose of it:

	bitmap.Dispose();

&gt;<i> I tried to dispose of the control's context as follows:
</I>&gt;<i> image.Context.dipose(), image.CacheDir.dispose().
</I>
It shouldn't be necessary to dispose of these members; no wrappers are generated unless you access the member. (That is, if you never use image.CacheDir, then you don't need to dispose of it as it will never have been wrapped.)

What might be useful is enabling gref logging to see how many Bitmap instances you're creating and if they're ever being freed:

	<A HREF="http://docs.xamarin.com/android/advanced_topics/diagnostics#Global_Reference_Messages">http://docs.xamarin.com/android/advanced_topics/diagnostics#Global_Reference_Messages</A>

	adb shell setprop debug.mono.log gref

 - Jon

</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009730.html">[mono-android] VM full error
</A></li>
	<LI>Next message: <A HREF="009725.html">[mono-android] How to implement a dashboard view/ layout?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9797">[ date ]</a>
              <a href="thread.html#9797">[ thread ]</a>
              <a href="subject.html#9797">[ subject ]</a>
              <a href="author.html#9797">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
