<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] debugger constantly detaches
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20debugger%20constantly%20detaches&In-Reply-To=%3C4FDA7E01.9010006%40jpobst.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010805.html">
   <LINK REL="Next"  HREF="010766.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] debugger constantly detaches</H1>
    <B>Jonathan Pobst</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20debugger%20constantly%20detaches&In-Reply-To=%3C4FDA7E01.9010006%40jpobst.com%3E"
       TITLE="[mono-android] debugger constantly detaches">monkey at jpobst.com
       </A><BR>
    <I>Fri Jun 15 00:12:49 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010805.html">[mono-android] debugger constantly detaches
</A></li>
        <LI>Next message: <A HREF="010766.html">[mono-android] Tow mapviews
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10838">[ date ]</a>
              <a href="thread.html#10838">[ thread ]</a>
              <a href="subject.html#10838">[ subject ]</a>
              <a href="author.html#10838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This should be fixed for 4.2.4.  I wanted to tremendously thank you for 
this test case.  This is what led us to be able to fix it.

For reference, the issue is that the GC process was causing our debugger 
'keep-alives' to not fire.  When VS didn't hear back from the runtime 
after a timeout, it assumed the process was hung and it killed the 
debugger and the application.

The workarounds until 4.2.4 is available are:
- Don't trigger a GC collection more than every ~5 seconds.
- Run without debugging (Ctrl-F5).
- Debug in MonoDevelop rather than Visual Studio.

Thanks again for finding a solid test case for this, it made all the 
difference for fixing this long standing heisenbug.  :)

Jonathan


On 6/13/2012 3:19 AM, l0nestar wrote:
&gt;<i> Spoke too soon.. :(
</I>&gt;<i>
</I>&gt;<i> However i think i can create a very similar issue in the default android
</I>&gt;<i> opengl app.
</I>&gt;<i>
</I>&gt;<i> If you create a new monodroid opengl project and then put these lines in
</I>&gt;<i> GLView#.cs  OnRenderFrame,  underneath GL.DrawArrays():
</I>&gt;<i>
</I>&gt;<i> 			for (int i = 0; i &lt; 50; i++)
</I>&gt;<i> 				GC.Collect(0);
</I>&gt;<i>
</I>&gt;<i> For me it exits after a few seconds. However if I run the app without the
</I>&gt;<i> debugger it runs fine.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/debugger-constantly-detaches-tp5710262p5710313.html">http://mono-for-android.1047100.n5.nabble.com/debugger-constantly-detaches-tp5710262p5710313.html</A>
</I>&gt;<i> Sent from the Mono for Android mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010805.html">[mono-android] debugger constantly detaches
</A></li>
	<LI>Next message: <A HREF="010766.html">[mono-android] Tow mapviews
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10838">[ date ]</a>
              <a href="thread.html#10838">[ thread ]</a>
              <a href="subject.html#10838">[ subject ]</a>
              <a href="author.html#10838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
