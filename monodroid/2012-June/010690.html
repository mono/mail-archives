<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Problem with binding of Google analytics	tracker	library
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Problem%20with%20binding%20of%20Google%20analytics%0A%09tracker%09library&In-Reply-To=%3C1DF0C46B645BCE45B14A8962D75989D7133090FA%40PEGASUS.newlink.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010676.html">
   <LINK REL="Next"  HREF="010704.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Problem with binding of Google analytics	tracker	library</H1>
    <B>Petr Slov&#225;&#269;ek</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Problem%20with%20binding%20of%20Google%20analytics%0A%09tracker%09library&In-Reply-To=%3C1DF0C46B645BCE45B14A8962D75989D7133090FA%40PEGASUS.newlink.cz%3E"
       TITLE="[mono-android] Problem with binding of Google analytics	tracker	library">pslovacek at newlink.cz
       </A><BR>
    <I>Wed Jun  6 21:37:37 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010676.html">[mono-android] Problem with binding of Google analytics tracker	library
</A></li>
        <LI>Next message: <A HREF="010704.html">[mono-android] Problem with binding of Google analytics	tracker	library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10690">[ date ]</a>
              <a href="thread.html#10690">[ thread ]</a>
              <a href="subject.html#10690">[ subject ]</a>
              <a href="author.html#10690">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My app is based on Google MapView MapActivity and it downloads the data through a web service so it has to have the internet permission otherwise it wouldn't show a thing.

Kyle

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] On Behalf Of Jonathan Pryor
Sent: 6. &#269;ervna 2012 19:59
To: Discussions related to Mono for Android
Subject: Re: [mono-android] Problem with binding of Google analytics tracker library

On Jun 6, 2012, at 11:03 AM, Petr Slov&#225;&#269;ek wrote:
&gt;<i> This is what I get in application output window each time it tries to send the data:
</I>
Less useful than I hoped. HttpResponseParser.parseHead():

	<A HREF="https://github.com/android/platform_external_apache-http/blob/master/src/org/apache/http/impl/io/HttpResponseParser.java#L73">https://github.com/android/platform_external_apache-http/blob/master/src/org/apache/http/impl/io/HttpResponseParser.java#L73</A>

`sesionBuffer` is a SessionInputBuffer (interface), of unknown runtime type, and `sessionBuffer.readLine()` returned -1, causing the exception. Grepping libGoogleAnalytics.jar, I see no implementations of SessionInputBuffer, so I'll assume it's a AbstractSessionInputBuffer:

	<A HREF="https://github.com/android/platform_external_apache-http/blob/master/src/org/apache/http/impl/io/AbstractSessionInputBuffer.java#L164">https://github.com/android/platform_external_apache-http/blob/master/src/org/apache/http/impl/io/AbstractSessionInputBuffer.java#L164</A>

This assumption may very well be wrong, but if it's right, the only way for readLine() to return -1 is for this.linebuffer.length() to be -1 (lineFromLinebuffer()), or for fillBuffer() to return -1, which could happen if the wrapped InputStream.read() returns end-of-stream.

Either way, I'm not sure why that would be happening, not if your app has the INTERNET permission (which iirc you said that your app had). Could you confirm that your app has INTERNET permission, e.g. by trying to use WebClient against a url?

&gt;<i> I had to add empty IDispatcherCallbacks interface to Additions folder of my java binding library project otherwise it refused to compile.
</I>
I'm guessing that this is due to #5143:

	<A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=5143">https://bugzilla.xamarin.com/show_bug.cgi?id=5143</A>

 - Jon

_______________________________________________
Monodroid mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>

UNSUBSCRIBE INFORMATION:
<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010676.html">[mono-android] Problem with binding of Google analytics tracker	library
</A></li>
	<LI>Next message: <A HREF="010704.html">[mono-android] Problem with binding of Google analytics	tracker	library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10690">[ date ]</a>
              <a href="thread.html#10690">[ thread ]</a>
              <a href="subject.html#10690">[ subject ]</a>
              <a href="author.html#10690">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
