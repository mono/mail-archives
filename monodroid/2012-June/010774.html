<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] 4.2.2 Samsung Galaxy SII Turns off at runtime
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%204.2.2%20Samsung%20Galaxy%20SII%20Turns%20off%20at%20runtime&In-Reply-To=%3C1339499988265-5710290.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010818.html">
   <LINK REL="Next"  HREF="010776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] 4.2.2 Samsung Galaxy SII Turns off at runtime</H1>
    <B>SweetLou</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%204.2.2%20Samsung%20Galaxy%20SII%20Turns%20off%20at%20runtime&In-Reply-To=%3C1339499988265-5710290.post%40n5.nabble.com%3E"
       TITLE="[mono-android] 4.2.2 Samsung Galaxy SII Turns off at runtime">hasslarn at gmail.com
       </A><BR>
    <I>Tue Jun 12 11:19:48 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010818.html">[mono-android] Does anybody know a way to type and validate at the same time in a WebView
</A></li>
        <LI>Next message: <A HREF="010776.html">[mono-android] 4.2.2 Samsung Galaxy SII Turns off at runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10774">[ date ]</a>
              <a href="thread.html#10774">[ thread ]</a>
              <a href="subject.html#10774">[ subject ]</a>
              <a href="author.html#10774">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been developing for my Motorola XOOM and my Samsung. Have for the past
week just been debugging on the XOOM. Note that my application runs
perfectly fine on it without crashes/freezes. However on my Samsung, the
device freezes for a random amount of time for like 1 second, then actually
dies. Only output i get from debugger is The program 'Mono' has exited with
code 255 (0xff). 

I believe it's coming from this code snippet. My application is a image
gallery in which i fetch byte arrays from a service.

// Code

BitmapFactory.Options op = new BitmapFactory.Options();

//Checks the size of the fetched byte[].
op.InJustDecodeBounds = true;
op.InPurgeable = true;
op.InInputShareable = true;
bitmap = BitmapFactory.DecodeByteArray(byteArray, 0, byteArray.Length, op);
op.InJustDecodeBounds = false;

//If the Bitmap is to big resample it with a different sampleSize
if (op.OutWidth &gt; 500)
   op.InSampleSize = sampleSize;


double divider = (double)op.OutWidth / (double)imageWidth;
int imageHeight = (int)((double)op.OutHeight / divider);

//Decode the byte[] to the Bitmap
bitmap = Bitmap.CreateScaledBitmap(BitmapFactory.DecodeByteArray(byteArray,
0, byteArray.Length, op), imageWidth, imageHeight, true);

//If both threads for this id have returned continue.
if (++threadPublicationIds[myId] != valueToReach)
   return;

// Code

This piece of code is used pretty much. I found it weird that it works
without problems on my XOOM when obviously something is very wrong with the
SG SII. 

Any others with the same problem when using BitmapFactory?

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/4-2-2-Samsung-Galaxy-SII-Turns-off-at-runtime-tp5710290.html">http://mono-for-android.1047100.n5.nabble.com/4-2-2-Samsung-Galaxy-SII-Turns-off-at-runtime-tp5710290.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>



































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010818.html">[mono-android] Does anybody know a way to type and validate at the same time in a WebView
</A></li>
	<LI>Next message: <A HREF="010776.html">[mono-android] 4.2.2 Samsung Galaxy SII Turns off at runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10774">[ date ]</a>
              <a href="thread.html#10774">[ thread ]</a>
              <a href="subject.html#10774">[ subject ]</a>
              <a href="author.html#10774">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
