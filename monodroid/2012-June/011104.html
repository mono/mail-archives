<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] JsonObject.ToString() not escaping new lines.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20JsonObject.ToString%28%29%20not%20escaping%20new%20lines.&In-Reply-To=%3C1340833548186-5710632.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011163.html">
   <LINK REL="Next"  HREF="011121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] JsonObject.ToString() not escaping new lines.</H1>
    <B>Terry151151</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20JsonObject.ToString%28%29%20not%20escaping%20new%20lines.&In-Reply-To=%3C1340833548186-5710632.post%40n5.nabble.com%3E"
       TITLE="[mono-android] JsonObject.ToString() not escaping new lines.">Terry at Terry-Watts.com
       </A><BR>
    <I>Wed Jun 27 21:45:48 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011163.html">[mono-android] Is it possible to access custom controls outside application bounds?
</A></li>
        <LI>Next message: <A HREF="011121.html">[mono-android] JsonObject.ToString() not escaping new lines.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11104">[ date ]</a>
              <a href="thread.html#11104">[ thread ]</a>
              <a href="subject.html#11104">[ subject ]</a>
              <a href="author.html#11104">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a class that overrides ToString() to convert the class to a string.
Ie:

public override string ToString()
{
     if( Id == -1 )
           return &quot;&quot;;
     else
          return Name + &quot;\n&quot; + Unit
		   + &quot;\n&quot; + AddressLine1 + &quot;\n&quot; + AddressLine2 + &quot;\n&quot; + AddressLine3 +
&quot;\n&quot; + AddressLine4
		   + &quot;\n&quot; + City + &quot;\n&quot; + State + &quot;\n&quot; + PostCode + &quot;\n&quot; + Country;
}

I then I add the string to a JsonObject .

JsonObject JObject = new JsonObject();
                JObject.Add( &quot;Address&quot;, TheClass.ToString() );

When I generate the Json string using JsonObject.ToString(). Ie:

string JsonString = JObject.ToString();

When the string is generated the new lines are just passed straight through
without being escaped, causing the receiving end to generate an error.

Does anybody know why this is happening?

Thanks in advance
Terry.





--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/JsonObject-ToString-not-escaping-new-lines-tp5710632.html">http://mono-for-android.1047100.n5.nabble.com/JsonObject-ToString-not-escaping-new-lines-tp5710632.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011163.html">[mono-android] Is it possible to access custom controls outside application bounds?
</A></li>
	<LI>Next message: <A HREF="011121.html">[mono-android] JsonObject.ToString() not escaping new lines.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11104">[ date ]</a>
              <a href="thread.html#11104">[ thread ]</a>
              <a href="subject.html#11104">[ subject ]</a>
              <a href="author.html#11104">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
