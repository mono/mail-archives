<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Internal Storage file not found
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Internal%20Storage%20file%20not%20found&In-Reply-To=%3C1366741767691-5713195.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013651.html">
   <LINK REL="Next"  HREF="013652.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Internal Storage file not found</H1>
    <B>dstilwell</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Internal%20Storage%20file%20not%20found&In-Reply-To=%3C1366741767691-5713195.post%40n5.nabble.com%3E"
       TITLE="[mono-android] Internal Storage file not found">dstilwell at canongategolf.com
       </A><BR>
    <I>Tue Apr 23 18:29:27 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="013651.html">[mono-android] deployment problem::my android device (tab) is	not enabling in select device window
</A></li>
        <LI>Next message: <A HREF="013652.html">[mono-android] Internal Storage file not found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13642">[ date ]</a>
              <a href="thread.html#13642">[ thread ]</a>
              <a href="subject.html#13642">[ subject ]</a>
              <a href="author.html#13642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have read a ton of articles on writing to the internal storage of an
android device, and I need some help figuring out what I am doing wrong.  In
the main activity of my app, I read a value from a file stored in the
internal storage like this:

    string ID = GetID();
Where GetID looks like this:

    string GetID()
		{
			try 
			{
				using (var i = new StreamReader (OpenFileInput (FILENAME))) 
				{
					return i.ReadToEnd();
				}
			}   
			catch 
			{
				return &quot;&quot;;
			}
		}
If the file doesn't exist, &quot;&quot; is returned and the user is sent off to
another activity to register. In that activity, I use this to call a
function to write to internal storage like this:

    WriteID (uniqueID);
Where WriteID looks like this:

    void WriteID(string uniqueID)
		{
			using (var o = new StreamWriter (
				OpenFileOutput (FILENAME, FileCreationMode.Private)))
				o.Write (uniqueID);
		}
This is where it gets weird for me, if I put these two functions in the same
activity, write to the file and then call the function to read from it, I
get uniqueID returned correctly. However if I stop the app and then restart
it, I get a File Not Found exception thrown and nothing returned from the
read function. However, if I create a new project, and use the same code,
everything works as expected (file is created and written to, then on
restart the data persists). 

So I am thinking there is some setting that I have changed or some reference
that I may be missing in my original app that causes the internal storage
file to be removed  when the app is stopped?

Any ideas as to why this works correctly in my test app, but not in the
other?



--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Internal-Storage-file-not-found-tp5713195.html">http://mono-for-android.1047100.n5.nabble.com/Internal-Storage-file-not-found-tp5713195.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013651.html">[mono-android] deployment problem::my android device (tab) is	not enabling in select device window
</A></li>
	<LI>Next message: <A HREF="013652.html">[mono-android] Internal Storage file not found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13642">[ date ]</a>
              <a href="thread.html#13642">[ thread ]</a>
              <a href="subject.html#13642">[ subject ]</a>
              <a href="author.html#13642">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
