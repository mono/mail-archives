<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] LinkAssemblies fails in latest 4.6 beta
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20LinkAssemblies%20fails%20in%20latest%204.6%20beta&In-Reply-To=%3CCAE5QJjYhNO7rG-w_nbYECB46%3DrA%2BsHsr_q85CFriNC_36pgetA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013583.html">
   <LINK REL="Next"  HREF="013585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] LinkAssemblies fails in latest 4.6 beta</H1>
    <B>Stephen Shaw</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20LinkAssemblies%20fails%20in%20latest%204.6%20beta&In-Reply-To=%3CCAE5QJjYhNO7rG-w_nbYECB46%3DrA%2BsHsr_q85CFriNC_36pgetA%40mail.gmail.com%3E"
       TITLE="[mono-android] LinkAssemblies fails in latest 4.6 beta">sshaw at decriptor.com
       </A><BR>
    <I>Fri Apr 12 20:06:23 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="013583.html">[mono-android] LinkAssemblies fails in latest 4.6 beta
</A></li>
        <LI>Next message: <A HREF="013585.html">[mono-android] LinkAssemblies fails in latest 4.6 beta
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13584">[ date ]</a>
              <a href="thread.html#13584">[ thread ]</a>
              <a href="subject.html#13584">[ subject ]</a>
              <a href="author.html#13584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, this is a known issue and a work around has been found. Since evolve is
around the corner (ie, a couple days), I'm not sure when Xamarin will get a
fix pushed. Note, I don't work for Xamarin.

Here is the workaround (thanks to jonp) :
13:44 &lt; jonp&gt; 1. Backup
/Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Common.targets
13:45 &lt; jonp&gt; 2. Edit
/Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Common.Targets
13:45 &lt; jonp&gt; 2.a: REMOVE all instances of CopyMdbFiles
13:45 &lt; jonp&gt; 2.b. Save
13:45 &lt; jonp&gt; 3. Nuke your bin &amp; obj dirs
13:45 &lt; jonp&gt; 4. Rebuild

This is the instructions for mac, so you'll have to adapt the paths for
windows.

Cheers,
Stephen

PS, this is only linking so it affects Release only. Unless you are linking
on your debug builds?


On Fri, Apr 12, 2013 at 1:54 PM, Jeremy A. Kolb - ARA/NED &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">jkolb at ara.com</A>&gt;wrote:

&gt;<i>  This is also happening on stable.  I&#8217;m not sure what to do here&#8230;****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> *From:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A> [mailto:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid-bounces at lists.ximian.com</A>] *On Behalf Of *Jeremy A. Kolb -
</I>&gt;<i> ARA/NED
</I>&gt;<i> *Sent:* Wednesday, April 03, 2013 1:30 PM
</I>&gt;<i> *To:* <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">monodroid at lists.ximian.com</A>
</I>&gt;<i> *Subject:* [mono-android] LinkAssemblies fails in latest 4.6 beta****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> I just upgraded to the latest beta and LinkAssemblies is failing for me:**
</I>&gt;<i> **
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=11556****">https://bugzilla.xamarin.com/show_bug.cgi?id=11556****</A>
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018: The &quot;LinkAssemblies&quot; task failed unexpectedly.****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018: System.ArgumentOutOfRangeException: Specified argument was out of
</I>&gt;<i> the range of valid values.****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Collections.Generic.Collection`1.get_Item(Int32 index)
</I>&gt;<i> ****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Cecil.Mdb.MdbReader.ReadLocalVariables(MethodEntry
</I>&gt;<i> entry, MethodBody body, Scope[] scopes)****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Cecil.Mdb.MdbReader.Read(MethodBody body,
</I>&gt;<i> InstructionMapper mapper)****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Cecil.Cil.CodeReader.ReadMethodBody()****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Cecil.Cil.CodeReader.ReadMethodBody(MethodDefinition
</I>&gt;<i> method)****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Cecil.MethodDefinition.&lt;get_Body&gt;b__2(MethodDefinition
</I>&gt;<i> method, MetadataReader reader)****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Cecil.ModuleDefinition.Read[TItem,TRet](TItem item,
</I>&gt;<i> Func`3 read)****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Cecil.MethodDefinition.get_Body()****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Linker.Steps.MarkStep.ProcessMethod(MethodDefinition
</I>&gt;<i> method)****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Linker.Steps.MarkStep.ProcessQueue()****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Linker.Steps.MarkStep.Process()****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Linker.Steps.MarkStep.Process(LinkContext context)****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Mono.Linker.Pipeline.Process(LinkContext context)****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at MonoDroid.Tuner.Linker.Process(LinkerOptions options,
</I>&gt;<i> LinkContext&amp; context)****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at Xamarin.Android.Tasks.LinkAssemblies.Execute()****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at
</I>&gt;<i> Microsoft.Build.BackEnd.TaskExecutionHost.Microsoft.Build.BackEnd.ITaskExecutionHost.Execute()
</I>&gt;<i> ****
</I>&gt;<i>
</I>&gt;<i> 5&gt;C:\Program Files
</I>&gt;<i> (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(818,5): error
</I>&gt;<i> MSB4018:    at
</I>&gt;<i> Microsoft.Build.BackEnd.TaskBuilder.&lt;ExecuteInstantiatedTask&gt;d__20.MoveNext()
</I>&gt;<i> ****
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20130412/3bbec397/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20130412/3bbec397/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013583.html">[mono-android] LinkAssemblies fails in latest 4.6 beta
</A></li>
	<LI>Next message: <A HREF="013585.html">[mono-android] LinkAssemblies fails in latest 4.6 beta
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13584">[ date ]</a>
              <a href="thread.html#13584">[ thread ]</a>
              <a href="subject.html#13584">[ subject ]</a>
              <a href="author.html#13584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
