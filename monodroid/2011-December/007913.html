<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Cant receive picture from Camera intent
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Cant%20receive%20picture%20from%20Camera%20intent&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007902.html">
   <LINK REL="Next"  HREF="007914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Cant receive picture from Camera intent</H1>
    <B>ogborstad</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Cant%20receive%20picture%20from%20Camera%20intent&In-Reply-To="
       TITLE="[mono-android] Cant receive picture from Camera intent">ogborstad at gmail.com
       </A><BR>
    <I>Fri Dec 16 13:32:34 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007902.html">[mono-android] Populate Spinner from DataTable
</A></li>
        <LI>Next message: <A HREF="007914.html">[mono-android] MonoDroid 4.0.1, APP Crash when debugging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7913">[ date ]</a>
              <a href="thread.html#7913">[ thread ]</a>
              <a href="subject.html#7913">[ subject ]</a>
              <a href="author.html#7913">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to use an intent to get a picture from the camera to my
application. Both the Intent data parameter to OnActivityResult is null and
any member variable in my Activity that I use to store a Uri is null. So how
do I access the image taken? I have tested on a device with camera.

Heres my code:

public void BtnCameraClick(object sender, EventArgs eventArgs)
{
    var uri = ContentResolver.Insert(isMounted ?
MediaStore.Images.Media.ExternalContentUri
		                              :
MediaStore.Images.Media.InternalContentUri, new ContentValues());
    _imageUri = uri.ToString();
    var i = new Intent(MediaStore.ActionImageCapture);
    i.PutExtra(MediaStore.ExtraOutput, uri);
    StartActivityForResult(i, CAPTURE_PHOTO);
}

protected override void OnActivityResult(int requestCode, Result resultCode,
Intent data)
{
    // data is null
    // _imageUri is also null
    if (resultCode == Result.Ok &amp;&amp; requestCode == CAPTURE_PHOTO) {
				var imageView = FindViewById&lt;ImageView&gt;(Resource.TipScreen.image);
				imageView.SetImageURI(Uri.Parse(_imageUri));
}

Is there a working example of camera intent somewhere?


--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Cant-receive-picture-from-Camera-intent-tp5081059p5081059.html">http://mono-for-android.1047100.n5.nabble.com/Cant-receive-picture-from-Camera-intent-tp5081059p5081059.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007902.html">[mono-android] Populate Spinner from DataTable
</A></li>
	<LI>Next message: <A HREF="007914.html">[mono-android] MonoDroid 4.0.1, APP Crash when debugging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7913">[ date ]</a>
              <a href="thread.html#7913">[ thread ]</a>
              <a href="subject.html#7913">[ subject ]</a>
              <a href="author.html#7913">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
