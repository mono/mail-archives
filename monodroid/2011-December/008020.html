<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Generic Activity
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Generic%20Activity&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008011.html">
   <LINK REL="Next"  HREF="008034.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Generic Activity</H1>
    <B>John Moore</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Generic%20Activity&In-Reply-To="
       TITLE="[mono-android] Generic Activity">jcwmoore at gmail.com
       </A><BR>
    <I>Wed Dec 21 22:46:11 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008011.html">[mono-android] 4.0 RequestLocationUpdates crash
</A></li>
        <LI>Next message: <A HREF="008034.html">[mono-android] Generic Activity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8020">[ date ]</a>
              <a href="thread.html#8020">[ thread ]</a>
              <a href="subject.html#8020">[ subject ]</a>
              <a href="author.html#8020">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have created list activity that simply queries a data store for
objects and then displays the object's name in the list. &#160;the data
store is wrapped with a repository (IRepository&lt;T&gt;) and the objects
that i am querying all implement a common interface, IEntity (that has
the &quot;Name&quot; property.) &#160;I was using a string property from the
activity's intent to decide which entity's repository to query, but
decided to try making the activity itself generic so as to remove the
property from the intent like so...

	[Activity (Label =
&quot;@string/lookupLabel&quot;,Theme=&quot;@android:style/Theme.Dialog&quot;)]
	public class LookupActivity&lt;TEntity&gt; : ListActivity where TEntity : IEntity
	{}
 so then my main activity invokes this activity like so...
	StartActivity(typeof(LookupActivity&lt;AmpachePlaylist&gt;));

but actually invoking this generic activity fails on the device, so is
a generic activity supported in Android, supported in M4A, or a bug in
M4A?  below is the stack trace from StartActivity

E/mono    (  857): Unhandled Exception:
System.InvalidProgramException: Invalid IL code in (wrapper
dynamic-method) object:609b572c-c6b1-408c-b6b4-4664f81a05e4
(intptr,object[]): IL_0018: call      0x00000009
E/mono    (  857):
E/mono    (  857):
E/mono    (  857):   at System.Delegate.CreateDelegate (System.Type
type, System.Object firstArgument, System.Reflection.MethodInfo
method, Boolean throwOnBindFailure, Boolean allowClosed) [0x00000] in
&lt;filename unknown&gt;:0
E/mono    (  857):   at System.Delegate.CreateDelegate (System.Type
type, System.Reflection.MethodInfo method, Boolean throwOnBindFailure)
[0x00000] in &lt;filename unknown&gt;:0
E/mono    (  857):   at System.Delegate.CreateDelegate (System.Type
type, System.Reflection.MethodInfo method) [0x00000] in &lt;filename
unknown&gt;:0
E/mono    (  857):   at
System.Reflection.Emit.DynamicMethod.CreateDelegate (System.Type
delegateType) [0x00000] in &lt;filename unknown&gt;:0
E/mono    (  857):   at
Android.Runtime.ConstructorBuilder.CreateDelegate (System.Type type,
System.Reflection.ConstructorInfo cinfo, System.Type[]
parameter_types) [0x00000] in &lt;filename unknown&gt;:0
E/mono    (  857):   at Android.Runtime.TypeManager.n_Activate
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008011.html">[mono-android] 4.0 RequestLocationUpdates crash
</A></li>
	<LI>Next message: <A HREF="008034.html">[mono-android] Generic Activity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8020">[ date ]</a>
              <a href="thread.html#8020">[ thread ]</a>
              <a href="subject.html#8020">[ subject ]</a>
              <a href="author.html#8020">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
