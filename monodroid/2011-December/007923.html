<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Add a marker on Google Maps activity
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Add%20a%20marker%20on%20Google%20Maps%20activity&In-Reply-To=CACWcBb%3Dv6ocSyzYRvYuv_8muG3vXA5Ew_pP8W5dtjuv%3DUAMgMg%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007920.html">
   <LINK REL="Next"  HREF="007935.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Add a marker on Google Maps activity</H1>
    <B>Tomasz Cielecki</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Add%20a%20marker%20on%20Google%20Maps%20activity&In-Reply-To=CACWcBb%3Dv6ocSyzYRvYuv_8muG3vXA5Ew_pP8W5dtjuv%3DUAMgMg%40mail.gmail.com"
       TITLE="[mono-android] Add a marker on Google Maps activity">tomasz at ostebaronen.dk
       </A><BR>
    <I>Sat Dec 17 10:59:59 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007920.html">[mono-android] Add a marker on Google Maps activity
</A></li>
        <LI>Next message: <A HREF="007935.html">[mono-android] Add a marker on Google Maps activity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7923">[ date ]</a>
              <a href="thread.html#7923">[ thread ]</a>
              <a href="subject.html#7923">[ subject ]</a>
              <a href="author.html#7923">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oh! I just read my code again and that MyItemizedOverlay class is not
working just like that.

Everytime you add objects to the List of overlay items you need to
call Populate. Hence you will need to add the code:

public void AddOverlayItem(MyOverlayItem item)
{
    overlayItems.Add(item);
    Populate();
}

public void RemoveOverlayItem(MyOverlayItem item)
{
    overlayItem.Remove(item);
    Populate();
}

public List&lt;MyOverlayItem&gt; OverlayItems is a method I only use for
iterating on objects in the list for things such as centering the map
on an specific item or around all the items. It should not be used for
anything else! That is why you get an exception when Size() is called.


On Sat, Dec 17, 2011 at 4:30 PM, Tomasz Cielecki &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">tomasz at ostebaronen.dk</A>&gt; wrote:
&gt;<i> Hey there,
</I>&gt;<i>
</I>&gt;<i> Try using OverlayItem instead of MyOverlayItem. The member float[]
</I>&gt;<i> color is not used for anything in MyOverlayItem in that sample.
</I>&gt;<i>
</I>&gt;<i> I have been messing around with Drawables on the OverlayItems and have
</I>&gt;<i> found out that you have to set the bounds of the drawables before they
</I>&gt;<i> show up.
</I>&gt;<i>
</I>&gt;<i> Like so:
</I>&gt;<i>
</I>&gt;<i> marker.Bounds = new Rect(0,0, &lt;width&gt;, &lt;height&gt;);
</I>&gt;<i>
</I>&gt;<i> where &lt;width&gt; and &lt;height&gt; of course have to be replaced with the
</I>&gt;<i> actual height and width of the drawable.
</I>&gt;<i>
</I>&gt;<i> Which version of Mono for Android are you using, because the code only
</I>&gt;<i> works with Mono for Android 4.0 and up. I also have a sample that
</I>&gt;<i> works with 1.9.x.
</I>&gt;<i>
</I>&gt;<i> There also might be a bug in the methods BoundCenterBottom(Drawable
</I>&gt;<i> drawable) and BoundCenter(Drawable drawable) in the ItemizedOverlay
</I>&gt;<i> which I am investigating right now. That could possibly make the
</I>&gt;<i> Drawables not appear to show up on the map.
</I>&gt;<i>
</I>&gt;<i> On Sat, Dec 17, 2011 at 8:47 AM, tequila slammer &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">buero at cayas.de</A>&gt; wrote:
</I>&gt;&gt;<i> I'm trying to add markers to a Google Maps activity. I tested some code
</I>&gt;&gt;<i> examples - mostly the ones from Tomasz Cielecki. The code I'm playing around
</I>&gt;&gt;<i> with is this basic example
</I>&gt;&gt;<i> <A HREF="https://github.com/Cheesebaron/MonoDroid.SimpleOverlayItem.">https://github.com/Cheesebaron/MonoDroid.SimpleOverlayItem.</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It works as long as I do not try to set my own marker like this :
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;code&gt;
</I>&gt;&gt;<i> var test = new MyOverlayItem(new GeoPoint(53, 09), &quot;test&quot;, &quot;test test&quot;, new
</I>&gt;&gt;<i> float[] { 121212 });
</I>&gt;&gt;<i> test.SetMarker(marker);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> myItemizedOverlay.OverlayItems.Add(test);
</I>&gt;&gt;<i> &lt;/code&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The app always crashes unexpected right after I hit this method.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> public override int Size()
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i> &#160; &#160; return overlayItems.Count;
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can anybody point me in the right direction or can provide me with a working
</I>&gt;&gt;<i> code example?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Add-a-marker-on-Google-Maps-activity-tp5082256p5082256.html">http://mono-for-android.1047100.n5.nabble.com/Add-a-marker-on-Google-Maps-activity-tp5082256p5082256.html</A>
</I>&gt;&gt;<i> Sent from the Mono for Android mailing list archive at Nabble.com.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Monodroid mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">Monodroid at lists.ximian.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Med Venlig Hilsen / With Best Regards
</I>&gt;<i> Tomasz Cielecki
</I>&gt;<i> <A HREF="http://ostebaronen.dk">http://ostebaronen.dk</A>
</I>


-- 
Med Venlig Hilsen / With Best Regards
Tomasz Cielecki
<A HREF="http://ostebaronen.dk">http://ostebaronen.dk</A>
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007920.html">[mono-android] Add a marker on Google Maps activity
</A></li>
	<LI>Next message: <A HREF="007935.html">[mono-android] Add a marker on Google Maps activity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7923">[ date ]</a>
              <a href="thread.html#7923">[ thread ]</a>
              <a href="subject.html#7923">[ subject ]</a>
              <a href="author.html#7923">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
