<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Crash in Release Mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Crash%20in%20Release%20Mode&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008064.html">
   <LINK REL="Next"  HREF="008055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Crash in Release Mode</H1>
    <B>was</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20Crash%20in%20Release%20Mode&In-Reply-To="
       TITLE="[mono-android] Crash in Release Mode">skylogdev at btconnect.com
       </A><BR>
    <I>Sat Dec 24 07:38:08 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008064.html">[mono-android] which namespace i use in MonoAndroid for System.Drawing.Drawing2D.Matrix
</A></li>
        <LI>Next message: <A HREF="008055.html">[mono-android] Crash in Release Mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8054">[ date ]</a>
              <a href="thread.html#8054">[ thread ]</a>
              <a href="subject.html#8054">[ subject ]</a>
              <a href="author.html#8054">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The following code to copy a db asset to the following folder:

dbPath =
Path.Combine(System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal),
&quot;skylogpro.db&quot;);
bool exists = File.Exists(dbPath);
if (!exists)
            {
                // File.Delete(dbPath);
                copyAssetDataBase();
                //utilities.AlertMsg(&quot;Here&quot;, this);
            }

 private void copyAssetDataBase()
        {
            //Open your local db as the input stream
            Stream myInput = Assets.Open(@&quot;skylogpro.db&quot;);
 
            // Path to the just created empty db
            string outFileName = dbPath;

            //Open the empty db as the output stream
            Stream myOutput = new FileStream(outFileName,
FileMode.OpenOrCreate);

            //transfer bytes from the inputfile to the outputfile
            byte[] buffer = new byte[1024];
            int b = buffer.Length;
            int length;
            while ((length = myInput.Read(buffer, 0, b)) &gt; 0)
            {
                myOutput.Write(buffer, 0, length);
            }

            //Close the streams
            myOutput.Flush();
            myOutput.Close();
            myInput.Close();
        }

has worked for many months. However, today it crashes (with no error
messages) the app in the emulator in Release mode, but works ok in Debug
mode. I was using MfA 4.0.1, but I have gone back to MfA V1.2.0 - but no
difference. Any ideas?

Regards...Andrew



--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Crash-in-Release-Mode-tp5099176p5099176.html">http://mono-for-android.1047100.n5.nabble.com/Crash-in-Release-Mode-tp5099176p5099176.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008064.html">[mono-android] which namespace i use in MonoAndroid for System.Drawing.Drawing2D.Matrix
</A></li>
	<LI>Next message: <A HREF="008055.html">[mono-android] Crash in Release Mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8054">[ date ]</a>
              <a href="thread.html#8054">[ thread ]</a>
              <a href="subject.html#8054">[ subject ]</a>
              <a href="author.html#8054">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
