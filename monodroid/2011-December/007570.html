<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] HTTPS Communication fails after update to 4.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20HTTPS%20Communication%20fails%20after%20update%20to%204.0&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007576.html">
   <LINK REL="Next"  HREF="007807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] HTTPS Communication fails after update to 4.0</H1>
    <B>subsembly</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%20HTTPS%20Communication%20fails%20after%20update%20to%204.0&In-Reply-To="
       TITLE="[mono-android] HTTPS Communication fails after update to 4.0">a.selle at subsembly.com
       </A><BR>
    <I>Tue Dec  6 09:25:59 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007576.html">[mono-android] Where can I download previous version (1.2) of Mono for Android (before 4.0)?
</A></li>
        <LI>Next message: <A HREF="007807.html">[mono-android] HTTPS Communication fails after update to 4.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7570">[ date ]</a>
              <a href="thread.html#7570">[ thread ]</a>
              <a href="subject.html#7570">[ subject ]</a>
              <a href="author.html#7570">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

my application was working flawlessly with the last official Android for
Mono release. After upgrading to 4.0, however, my online communication code
fails with the following internal error:

12-06 15:20:52.185: I/mono-stderr(16976): ERROR building certificate chain:
System.NullReferenceException: Object reference not set to an instance of an
object
12-06 15:20:52.195: I/mono-stderr(16976):   at
Mono.Security.Cryptography.PKCS1.Encode_v15
(System.Security.Cryptography.HashAlgorithm hash, System.Byte[] hashValue,
Int32 emLength) [0x00000] in
/home/jon/Development/xamarin/mono/mcs/class/corlib/Mono.Security.Cryptography/PKCS1.cs:336 
12-06 15:20:52.195: I/mono-stderr(16976):   at
Mono.Security.Cryptography.PKCS1.Verify_v15
(System.Security.Cryptography.RSA rsa,
System.Security.Cryptography.HashAlgorithm hash, System.Byte[] hashValue,
System.Byte[] signature, Boolean tryNonStandardEncoding) [0x00020] in
/home/jon/Development/xamarin/mono/mcs/class/corlib/Mono.Security.Cryptography/PKCS1.cs:308 
12-06 15:20:52.195: I/mono-stderr(16976):   at
Mono.Security.Cryptography.PKCS1.Verify_v15
(System.Security.Cryptography.RSA rsa,
System.Security.Cryptography.HashAlgorithm hash, System.Byte[] hashValue,
System.Byte[] signature) [0x00000] in
/home/jon/Development/xamarin/mono/mcs/class/corlib/Mono.Security.Cryptography/PKCS1.cs:298 
12-06 15:20:52.195: I/mono-stderr(16976):   at
System.Security.Cryptography.RSAPKCS1SignatureDeformatter.VerifySignature
(System.Byte[] rgbHash, System.Byte[] rgbSignature) [0x00058] in
/home/jon/Development/xamarin/mono/mcs/class/corlib/System.Security.Cryptography/RSAPKCS1SignatureDeformatter.cs:80 
12-06 15:20:52.195: I/mono-stderr(16976):   at
Mono.Security.X509.X509Certificate.VerifySignature
(System.Security.Cryptography.RSA rsa) [0x000ca] in
/home/jon/Development/xamarin/mono/mcs/class/Mono.Security/Mono.Security.X509/X509Certificate.cs:513 
12-06 15:20:52.195: I/mono-stderr(16976):   at
Mono.Security.X509.X509Certificate.VerifySignature
(System.Security.Cryptography.AsymmetricAlgorithm aa) [0x0001c] in
/home/jon/Development/xamarin/mono/mcs/class/Mono.Security/Mono.Security.X509/X509Certificate.cs:522 
12-06 15:20:52.195: I/mono-stderr(16976):   at
System.Security.Cryptography.X509Certificates.X509Chain.IsSignedWith
(System.Security.Cryptography.X509Certificates.X509Certificate2 signed,
System.Security.Cryptography.AsymmetricAlgorithm pubkey) [0x0000f] in
/home/jon/Development/xamarin/mono/mcs/class/System/System.Security.Cryptography.X509Certificates/X509Chain.cs:702 
12-06 15:20:52.195: I/mono-stderr(16976):   at
System.Security.Cryptography.X509Certificates.X509Chain.Process (Int32 n)
[0x00085] in
/home/jon/Development/xamarin/mono/mcs/class/System/System.Security.Cryptography.X509Certificates/X509Chain.cs:530 
12-06 15:20:52.195: I/mono-stderr(16976):   at
System.Security.Cryptography.X509Certificates.X509Chain.ValidateChain
(X509ChainStatusFlags flag) [0x0002c] in
/home/jon/Development/xamarin/mono/mcs/class/System/System.Security.Cryptography.X509Certificates/X509Chain.cs:466 
12-06 15:20:52.195: I/mono-stderr(16976):   at
System.Security.Cryptography.X509Certificates.X509Chain.Build
(System.Security.Cryptography.X509Certificates.X509Certificate2 certificate)
[0x0001f] in
/home/jon/Development/xamarin/mono/mcs/class/System/System.Security.Cryptography.X509Certificates/X509Chain.cs:115 
12-06 15:20:52.195: I/mono-stderr(16976):   at
System.Net.ServicePointManager+ChainValidationHelper.ValidateChain
(Mono.Security.X509.X509CertificateCollection certs) [0x000a3] in
/home/jon/Development/xamarin/mono/mcs/class/System/System.Net/ServicePointManager.cs:475 
12-06 15:20:52.195: I/mono-stderr(16976): Please, report this problem to the
Mono team

Is this a bug in the new Mono for Android, or am I doing something wrong?

Best regards,

Andreas

--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/HTTPS-Communication-fails-after-update-to-4-0-tp5052218p5052218.html">http://mono-for-android.1047100.n5.nabble.com/HTTPS-Communication-fails-after-update-to-4-0-tp5052218p5052218.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007576.html">[mono-android] Where can I download previous version (1.2) of Mono for Android (before 4.0)?
</A></li>
	<LI>Next message: <A HREF="007807.html">[mono-android] HTTPS Communication fails after update to 4.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7570">[ date ]</a>
              <a href="thread.html#7570">[ thread ]</a>
              <a href="subject.html#7570">[ subject ]</a>
              <a href="author.html#7570">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
