<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] 4.0 RequestLocationUpdates crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%204.0%20RequestLocationUpdates%20crash&In-Reply-To=4EF1D925.50507%40logicethos.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008009.html">
   <LINK REL="Next"  HREF="008020.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] 4.0 RequestLocationUpdates crash</H1>
    <B>Stuart Johnson</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=%5Bmono-android%5D%204.0%20RequestLocationUpdates%20crash&In-Reply-To=4EF1D925.50507%40logicethos.com"
       TITLE="[mono-android] 4.0 RequestLocationUpdates crash">stuart at logicethos.com
       </A><BR>
    <I>Wed Dec 21 09:47:31 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008009.html">[mono-android] 4.0 RequestLocationUpdates crash
</A></li>
        <LI>Next message: <A HREF="008020.html">[mono-android] Generic Activity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8011">[ date ]</a>
              <a href="thread.html#8011">[ thread ]</a>
              <a href="subject.html#8011">[ subject ]</a>
              <a href="author.html#8011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Log cat output:


I/ActivityThread(13081): Pub MyApp.MyApp.__mono_init__: 
mono.MonoRuntimeProvider
D/dalvikvm(13081): Trying to load lib 
/data/data/MyApp.MyApp/lib/libmonodroid.so &lt;<A HREF="http://libmonodroid.so">http://libmonodroid.so</A>&gt; 
0x405136a8
D/dalvikvm(13081): Added shared lib 
/data/data/MyApp.MyApp/lib/libmonodroid.so &lt;<A HREF="http://libmonodroid.so">http://libmonodroid.so</A>&gt; 
0x405136a8
W/MonoDroid-Debugger(13081): Not starting the debugger as the timeout 
value has been reached; current-time: 1324478356 timeout: 1324421851
I/monodroid-gc(13081): environment supports jni NewWeakGlobalRef
I/MonoDroid(13081): UNHANDLED EXCEPTION: Java.Lang.NullPointerException: 
Exception of type 'Java.Lang.NullPointerException' was thrown.
I/MonoDroid(13081): at Android.Runtime.JNIEnv.CallStaticObjectMethod 
(intptr,intptr,Android.Runtime.JValue[]) &lt;0x00080&gt;
I/MonoDroid(13081): at Android.App.PendingIntent.GetActivity 
(Android.Content.Context,int,Android.Content.Intent,Android.App.PendingIntentFlags) 
&lt;0x00253&gt;
I/MonoDroid(13081): at MyApp.clsMyService.client_EventConnectionStatus 
(TurboDroidConnector.Network.clsTurboDroidClient/enumStatus) &lt;0x004cb&gt;
I/MonoDroid(13081): at MyApp.clsMyService.OnCreate () &lt;0x000ef&gt;
I/MonoDroid(13081): at Android.App.Service.n_OnCreate (intptr,intptr) 
&lt;0x00033&gt;
I/MonoDroid(13081): at (wrapper dynamic-method) 
object.be0eecca-6ec2-48c2-ac9b-ce4747e6d4e3 (intptr,intptr) &lt;0x0002b&gt;
I/MonoDroid(13081):
I/MonoDroid(13081): --- End of managed exception stack trace ---
I/MonoDroid(13081): java.lang.NullPointerException
I/MonoDroid(13081): at 
android.app.PendingIntent.getActivity(PendingIntent.java:191)
I/MonoDroid(13081): at MyApp.clsMyService.n_onCreate(Native Method)
I/MonoDroid(13081): at MyApp.clsMyService.onCreate(clsMyService.java:37)
I/MonoDroid(13081): at 
android.app.ActivityThread.handleCreateService(ActivityThread.java:1945)
I/MonoDroid(13081): at 
android.app.ActivityThread.access$2500(ActivityThread.java:117)
I/MonoDroid(13081): at 
android.app.ActivityThread$H.handleMessage(ActivityThread.java:985)
I/MonoDroid(13081): at android.os.Handler.dispatchMessage(Handler.java:99)
I/MonoDroid(13081): at android.os.Looper.loop(Looper.java:130)
I/MonoDroid(13081): at 
android.app.ActivityThread.main(ActivityThread.java:3683)
I/MonoDroid(13081): at java.lang.reflect.Method.invokeNative(Native Method)
I/MonoDroid(13081): at java.lang.reflect.Method.invoke(Method.java:507)
I/MonoDroid(13081): at 
com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
I/MonoDroid(13081): at 
com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
I/MonoDroid(13081): at dalvik.system.NativeStart.main(Native Method)
E/mono (13081):
E/mono (13081): Unhandled Exception: Java.Lang.NullPointerException: 
Exception of type 'Java.Lang.NullPointerException' was thrown.
E/mono (13081): at Android.Runtime.JNIEnv.CallStaticObjectMethod (IntPtr 
jclass, IntPtr jmethod, Android.Runtime.JValue[] parms) [0x00000] in 
&lt;filename unknown&gt;:0
E/mono (13081): at Android.App.PendingIntent.GetActivity 
(Android.Content.Context context, Int32 requestCode, 
Android.Content.Intent intent, PendingIntentFlags flags) [0x00000] in 
&lt;filename unknown&gt;:0
E/mono (13081): at MyApp.clsMyService.client_EventConnectionStatus 
(enumStatus eStatus) [0x00000] in &lt;filename unknown&gt;:0
E/mono (13081): at MyApp.clsMyService.OnCreate () [0x00000] in &lt;filename 
unknown&gt;:0
E/mono (13081): at Android.App.Service.n_OnCreate (IntPtr jnienv, IntPtr 
native__this) [0x00000] in &lt;filename unknown&gt;:0
E/mono (13081): at (wrapper dynamic-method) 
object:be0eecca-6ec2-48c2-ac9b-ce4747e6d4e3 (intptr,intptr)
E/mono (13081): --- End of managed exception stack trace ---
E/mono (13081): java.lang.NullPointerException
E/mono (13081): at 
android.app.PendingIntent.getActivity(PendingIntent.java:191)
E/mono (13081): at MyApp.clsMyService.n_onCrea




On 21/12/11 13:03, Stuart Johnson wrote:
&gt;<i> Since updating to V4.0, my app crashes when I call RequestLocationUpdates
</I>&gt;<i>
</I>&gt;<i> LocationManager _locationManager =
</I>&gt;<i> (LocationManager)MyService.GetSystemService(Context.LocationService);
</I>&gt;<i> _locationManager.RequestLocationUpdates(LocationManager.GpsProvider,
</I>&gt;<i> 1000, 100, this);
</I>&gt;<i>
</I>&gt;<i> Any ideas?
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodroid/attachments/20111221/a0d4784a/attachment.html">http://lists.ximian.com/pipermail/monodroid/attachments/20111221/a0d4784a/attachment.html</A> 
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008009.html">[mono-android] 4.0 RequestLocationUpdates crash
</A></li>
	<LI>Next message: <A HREF="008020.html">[mono-android] Generic Activity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8011">[ date ]</a>
              <a href="thread.html#8011">[ thread ]</a>
              <a href="subject.html#8011">[ subject ]</a>
              <a href="author.html#8011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
