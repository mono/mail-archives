<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-android] Binding FileChooser java Library project to xamarin	android
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Binding%20FileChooser%20java%20Library%20project%20to%20xamarin%0A%09android&In-Reply-To=%3C1380092854180-5713532.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013957.html">
   <LINK REL="Next"  HREF="013955.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-android] Binding FileChooser java Library project to xamarin	android</H1>
    <B>venkatesh</B> 
    <A HREF="mailto:monodroid%40lists.ximian.com?Subject=Re%3A%20%5Bmono-android%5D%20Binding%20FileChooser%20java%20Library%20project%20to%20xamarin%0A%09android&In-Reply-To=%3C1380092854180-5713532.post%40n5.nabble.com%3E"
       TITLE="[mono-android] Binding FileChooser java Library project to xamarin	android">venkatesh.r at sierratec.com
       </A><BR>
    <I>Wed Sep 25 07:07:34 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="013957.html">[mono-android] File Picker navigation to backward
</A></li>
        <LI>Next message: <A HREF="013955.html">[mono-android] Binding FileChooser java Library project to	xamarin android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13954">[ date ]</a>
              <a href="thread.html#13954">[ thread ]</a>
              <a href="subject.html#13954">[ subject ]</a>
              <a href="author.html#13954">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am binding filechooser library project to xamarin android .

1) filechooser.jar from eclipse build
2) Created a new Java Bindings Library project 
3) Copied the generated filechooser.jar into the Jar directory and set the
Build Action to &quot;EmbeddedJar&quot; 
4) Copied the referenced android-support-v4.jar file from the
android-sdk\extras folder to the Jar directory and set the Build Action to
&quot;EmbeddedReferenceJar&quot; 
5)Add the reference Mono.Android.Support.V4  to the binding project 
6) Attempted to build the project and got the errors .


*Error 1 :*
'Com.Ipaulpro.Afilechooser.FileListFragment' does not implement interface
member
'Android.Support.V4.App.LoaderManager.ILoaderCallbacks.OnLoadFinished(Android.Support.V4.Content.Loader,
Java.Lang.Object)'

Java Code
===========

public class FileListFragment extends ListFragment implements
		LoaderManager.LoaderCallbacks&lt;List&lt;File&gt;&gt; {

@Override
	public void *onLoadFinished*(Loader&lt;List&lt;File&gt;&gt; loader, List&lt;File&gt; data)
{
		mAdapter.setListItems(data);

		if (isResumed())
			setListShown(true);
		else
			setListShownNoAnimation(true);
	}

}


generated C# Code
==============

namespace Com.Ipaulpro.Afilechooser {

	// Metadata.xml XPath class reference:
path=&quot;/api/package[@name='com.ipaulpro.afilechooser']/class[@name='FileListFragment']&quot;
	[global::Android.Runtime.Register
(&quot;com/ipaulpro/afilechooser/FileListFragment&quot;, DoNotGenerateAcw=true)]
	public partial class *FileListFragment *:
global::Android.Support.V4.App.ListFragment,
global::Android.Support.V4.App.LoaderManager.ILoaderCallbacks {

		internal static IntPtr java_class_handle;
		internal static IntPtr class_ref {
			get {
				return JNIEnv.FindClass (&quot;com/ipaulpro/afilechooser/FileListFragment&quot;,
ref java_class_handle);
			}
		}





*Error 2 :*

'Com.Ipaulpro.Afilechooser.FileLoader.LoadInBackground()': return type must
be 'Java.Lang.Object' to match overridden member
'Android.Support.V4.Content.AsyncTaskLoader.LoadInBackground()'

Java Code :
========
public class FileLoader extends AsyncTaskLoader&lt;List&lt;File&gt;&gt; {

@Override
	public List&lt;File&gt; *loadInBackground*() {
		return FileUtils.getFileList(mPath);
	}

}

Generated C# Code :
=================
static IntPtr id_loadInBackground;
		// Metadata.xml XPath method reference:
path=&quot;/api/package[@name='com.ipaulpro.afilechooser']/class[@name='FileLoader']/method[@name='loadInBackground'
and count(parameter)=0]&quot;
		[Register (&quot;loadInBackground&quot;, &quot;()Ljava/util/List;&quot;,
&quot;GetLoadInBackgroundHandler&quot;)]
		public override
global::System.Collections.Generic.IList&lt;global::Java.IO.File&gt;
LoadInBackground ()
		{
			if (id_loadInBackground == IntPtr.Zero)
				id_loadInBackground = JNIEnv.GetMethodID (class_ref, &quot;loadInBackground&quot;,
&quot;()Ljava/util/List;&quot;);

			if (GetType () == ThresholdType)
				return
global::Android.Runtime.JavaList&lt;global::Java.IO.File&gt;.FromJniHandle
(JNIEnv.CallObjectMethod  (Handle, id_loadInBackground),
JniHandleOwnership.TransferLocalRef);
			else
				return
global::Android.Runtime.JavaList&lt;global::Java.IO.File&gt;.FromJniHandle
(JNIEnv.CallNonvirtualObjectMethod  (Handle, ThresholdClass,
id_loadInBackground), JniHandleOwnership.TransferLocalRef);
		}

i have embeded the api.xml for reference. api.xml
&lt;<A HREF="http://mono-for-android.1047100.n5.nabble.com/file/n5713532/api.xml">http://mono-for-android.1047100.n5.nabble.com/file/n5713532/api.xml</A>&gt;  
api.xml
&lt;<A HREF="http://mono-for-android.1047100.n5.nabble.com/file/n5713532/api.xml">http://mono-for-android.1047100.n5.nabble.com/file/n5713532/api.xml</A>&gt;  

Kindly suggest me how to solve the above issues as i am struggling the past
two days .


Thanks






--
View this message in context: <A HREF="http://mono-for-android.1047100.n5.nabble.com/Binding-FileChooser-java-Library-project-to-xamarin-android-tp5713532.html">http://mono-for-android.1047100.n5.nabble.com/Binding-FileChooser-java-Library-project-to-xamarin-android-tp5713532.html</A>
Sent from the Mono for Android mailing list archive at Nabble.com.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013957.html">[mono-android] File Picker navigation to backward
</A></li>
	<LI>Next message: <A HREF="013955.html">[mono-android] Binding FileChooser java Library project to	xamarin android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13954">[ date ]</a>
              <a href="thread.html#13954">[ thread ]</a>
              <a href="subject.html#13954">[ subject ]</a>
              <a href="author.html#13954">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodroid">More information about the Monodroid
mailing list</a><br>
</body></html>
