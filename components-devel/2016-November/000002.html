<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [components-devel] Xamarin.iOS automatic translation from cocoapod to nupkg - help needed with mtouch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:components-devel%40lists.dot.net?Subject=Re%3A%20%5Bcomponents-devel%5D%20Xamarin.iOS%20automatic%20translation%20from%0A%20cocoapod%20to%20nupkg%20-%20help%20needed%20with%20mtouch&In-Reply-To=%3CBY2PR0301MB077698DC5B4CF48B3FDC0480CCA60%40BY2PR0301MB0776.namprd03.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000001.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[components-devel] Xamarin.iOS automatic translation from cocoapod to nupkg - help needed with mtouch</H1>
    <B>Bill Holmes</B> 
    <A HREF="mailto:components-devel%40lists.dot.net?Subject=Re%3A%20%5Bcomponents-devel%5D%20Xamarin.iOS%20automatic%20translation%20from%0A%20cocoapod%20to%20nupkg%20-%20help%20needed%20with%20mtouch&In-Reply-To=%3CBY2PR0301MB077698DC5B4CF48B3FDC0480CCA60%40BY2PR0301MB0776.namprd03.prod.outlook.com%3E"
       TITLE="[components-devel] Xamarin.iOS automatic translation from cocoapod to nupkg - help needed with mtouch">biholm at microsoft.com
       </A><BR>
    <I>Tue Nov  8 18:50:53 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000001.html">[components-devel] Xamarin.iOS automatic translation from cocoapod to nupkg - help needed with mtouch
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2">[ date ]</a>
              <a href="thread.html#2">[ thread ]</a>
              <a href="subject.html#2">[ subject ]</a>
              <a href="author.html#2">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alex,


The build process will throw out dlls if a C# 'link' can not be make giving it a reason to remain.  Since there is no public API on GoogleSymbolUtilities there are no API types for FIRApp to reference.


We work around this by creating some empty code to reference.  See the loader class that we use.


<A HREF="https://github.com/xamarin/GoogleApisForiOSComponents/blob/master/Google.Core/source/Google.Core/Loader.cs">https://github.com/xamarin/GoogleApisForiOSComponents/blob/master/Google.Core/source/Google.Core/Loader.cs</A>


We add a static constructor to the messaging class and inside we make calls to empty load methods in Firebase Analytics.


Thanks

-Bill

________________________________
From: components-devel &lt;<A HREF="http://lists.dot.net/mailman/listinfo/components-devel">components-devel-bounces at lists.dot.net</A>&gt; on behalf of Alex Sorokoletov &lt;<A HREF="http://lists.dot.net/mailman/listinfo/components-devel">alex at sorokoletov.com</A>&gt;
Sent: Monday, November 7, 2016 6:57:32 PM
To: <A HREF="http://lists.dot.net/mailman/listinfo/components-devel">components-devel at lists.dot.net</A>
Subject: [components-devel] Xamarin.iOS automatic translation from cocoapod to nupkg - help needed with mtouch

Hi guys!
I'm working on a tool that generates a set of nuget packages from cocoapods with same structure and dependency graph, as in cocoapods. Let me

For example, from pod Firebase/Database it will generate a set of nuget packages:

[&quot;GoogleToolboxForMac/Defines&quot;; &quot;GoogleSymbolUtilities&quot;; &quot;FirebaseInstanceID&quot;;
 &quot;GoogleToolboxForMac/NSData+zlib&quot;; &quot;GoogleInterchangeUtilities&quot;; &quot;FirebaseCore&quot;;
 &quot;FirebaseAnalytics&quot;; &quot;FirebaseDatabase&quot;; &quot;Firebase/Core&quot;; &quot;Firebase/Database&quot;]

So as an end result there will be a set of .csproj with bindings and a set of nuget packages.

The question:

I have a binding project &quot;FirebaseCore&quot; with lib FirebaseCore.a and API definition (exposing FIRApp class, for example) that has reference to &quot;GoogleSymbolUtilities&quot; project.
GoogleSymbolUtilities project has a GoogleSymbolUtilities.a library and no API exposed (this cocoapod has only binary and is used during iOS linking process).

Now, I have a test application FirebaseTestApp with following code in C#:
```
FIRApp.bla.blabla //calling some code from FirebaseCore package

```
and references both to the FirebaseCore and GoogleSymbolUtilities packages.

When I compile the app, I get linker errors because the build doesn't see any dependency on the GoogleSymbolUtilities.a native lib from the FirebaseTestApp project.
Though, the FirebaseCore.dll is referencing GoogleSymbolUtilities.dll.

How do I make Xamarin.iOS consider all binding libraries for linking?

Any help or advice appreciated.

Alex.
_______________________________________________
components-devel mailing list
<A HREF="http://lists.dot.net/mailman/listinfo/components-devel">components-devel at lists.dot.net</A>
<A HREF="https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Flists.dot.net%2Fmailman%2Flistinfo%2Fcomponents-devel&amp;data=02%7C01%7Cbiholm%40microsoft.com%7Cfaf6e37fef2e4fce3db008d40769da32%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636141598636574776&amp;sdata=cshoT1dScj%2FqdWFzorIbUS7MER1YAgIhfEJNd2xZfzw%3D&amp;reserved=0">https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Flists.dot.net%2Fmailman%2Flistinfo%2Fcomponents-devel&amp;data=02%7C01%7Cbiholm%40microsoft.com%7Cfaf6e37fef2e4fce3db008d40769da32%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636141598636574776&amp;sdata=cshoT1dScj%2FqdWFzorIbUS7MER1YAgIhfEJNd2xZfzw%3D&amp;reserved=0</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/components-devel/attachments/20161108/86592639/attachment.html">http://lists.dot.net/pipermail/components-devel/attachments/20161108/86592639/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000001.html">[components-devel] Xamarin.iOS automatic translation from cocoapod to nupkg - help needed with mtouch
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2">[ date ]</a>
              <a href="thread.html#2">[ thread ]</a>
              <a href="subject.html#2">[ subject ]</a>
              <a href="author.html#2">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/components-devel">More information about the components-devel
mailing list</a><br>
</body></html>
