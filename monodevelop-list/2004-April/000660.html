<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Code Completion guts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tberman%40sevenl.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000655.html">
   <LINK REL="Next"  HREF="000659.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Code Completion guts
   </H1>
    <B>Todd Berman
    </B> 
    <A HREF="mailto:tberman%40sevenl.net"
       TITLE="[MonoDevelop] Code Completion guts">tberman@sevenl.net
       </A><BR>
    <I>Fri, 23 Apr 2004 16:32:31 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="000655.html">[MonoDevelop] Code Completion guts
</A></li>
        <LI> Next message: <A HREF="000659.html">[MonoDevelop] Code Completion guts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#660">[ date ]</a>
              <a href="thread.html#660">[ thread ]</a>
              <a href="subject.html#660">[ subject ]</a>
              <a href="author.html#660">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2004-23-04 at 23:34 +1000, Iain McCoy wrote:
&gt;<i> I'm trying to work out a way of avoiding the code completion database
</I>&gt;<i> generation thang. Obviously, what I need is to pick up the code that
</I>&gt;<i> reads from the database and produce an equivalent interface that doesn't
</I>&gt;<i> hit a database.
</I>&gt;<i> 
</I>&gt;<i> The problem is that this code is, quite frankly, a quagmire. Here's my
</I>&gt;<i> understanding:
</I>&gt;<i> 
</I>&gt;<i> src/AddIns/DisplayBindings/SourceEditor/CodeCompletion/ICompletionDataProvider.cs is not actually a completion data provider. It's just the thing you call to say &quot;I've got this text and this cursor, what shall I suggest to the user&quot;. Ultimately, the data is actually pulled from the database by src/Main/Base/Services/ParserService/DefaultParserService.cs, which *also* handles parsing the file. That class implements an interface which provides *both* parsing and completion data lookup.
</I>&gt;<i> 
</I>&gt;<i> My proposal: 
</I>&gt;<i> Ditch the ICompletionDataProvider interface. I can't see any reason for
</I>&gt;<i> it to be an interface.
</I>&gt;<i> Split the completion data provider bits from the IParserService
</I>&gt;<i> interface; put them into ICompletionDataProvider.cs. Move the completion
</I>&gt;<i> database access stuff out of DefaultParserService, put it in some class
</I>&gt;<i> implementing ICompletionDataProvider.cs
</I>
Well, there is a reason for it :)

There are three completable data types right now, Code, Comment and
Template. Obviously right now we only implement one of the 3, however in
the future support for all three will absolutely be implemented.

CodeCompletionDataProvider.cs in that same dir is the place where the
parser gets called.

The reason it calls into the Parser, is that for this to work, it needs
access to the Resolver provided by the ParserService.


&gt;<i> I think that will make the system a little more sane. Assuming nobody
</I>&gt;<i> tells me it's a bad idea, I'll do the refactoring in a few days.
</I>&gt;<i> -- 
</I>
Im not sure I see the point, but god created branches so you can show
us. :)

--Todd

&gt;<i> Iain McCoy &lt;<A HREF="mailto:iain@mccoy.id.au">iain@mccoy.id.au</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodevelop-list mailing list
</I>&gt;<i> <A HREF="mailto:Monodevelop-list@lists.ximian.com">Monodevelop-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000655.html">[MonoDevelop] Code Completion guts
</A></li>
	<LI> Next message: <A HREF="000659.html">[MonoDevelop] Code Completion guts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#660">[ date ]</a>
              <a href="thread.html#660">[ thread ]</a>
              <a href="subject.html#660">[ subject ]</a>
              <a href="author.html#660">[ author ]</a>
         </LI>
       </UL>
</body></html>
