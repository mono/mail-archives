<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Code analysis soc project
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Code%20analysis%20soc%20project&In-Reply-To=aec34c771003232128y2183eff9haef8a5df3e5acc52%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011542.html">
   <LINK REL="Next"  HREF="011553.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Code analysis soc project</H1>
    <B>Mike Kr&#252;ger</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Code%20analysis%20soc%20project&In-Reply-To=aec34c771003232128y2183eff9haef8a5df3e5acc52%40mail.gmail.com"
       TITLE="[MonoDevelop] Code analysis soc project">mkrueger at novell.com
       </A><BR>
    <I>Wed Mar 24 03:06:19 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="011542.html">[MonoDevelop] Code analysis soc project
</A></li>
        <LI>Next message: <A HREF="011553.html">[MonoDevelop] Code analysis soc project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11544">[ date ]</a>
              <a href="thread.html#11544">[ thread ]</a>
              <a href="subject.html#11544">[ subject ]</a>
              <a href="author.html#11544">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

&gt;<i> That's great to hear!
</I>&gt;<i> 
</I>&gt;<i> I'm a huge fan of the idea of on-the-fly analysis.
</I>&gt;<i> 
</I>&gt;<i> As I see it, the core part is a framework for background analysers -
</I>&gt;<i> an extension point, a service to run the analysers on new
</I>&gt;<i> ParsedDocuments and report the errors and warnings, and some basic
</I>&gt;<i> configuration UI. This is the initial &quot;barrier&quot; that needs to be
</I>&gt;<i> implemented before anyone can write any analysis rules. This could
</I>&gt;<i> take quite a few weeks to fully implement and polish.  It would also
</I>&gt;<i> be nice to have a way for rules to attach &quot;fixes&quot; to their results,
</I>&gt;<i> and this would need a UI too. All of this is completely language
</I>&gt;<i> agnostic. For example, I might want to write analysers for ASP.NET
</I>&gt;<i> documents or XML, not just C#.
</I>&gt;<i> 
</I>&gt;<i> Beyond that, there are analysis rules, that scan the parsed documents
</I>&gt;<i> and report errors, warnings and suggestions. These rules can range
</I>&gt;<i> from trivial to very complex, and some are much more useful than
</I>&gt;<i> others.
</I>&gt;<i> 
</I>&gt;<i> My favourite example of a rule is an API naming conventions checker.
</I>&gt;<i> This would check that any public symbols defined in the file follow
</I>&gt;<i> .NET naming conventions, e.g. interfaces begin with I, class and
</I>&gt;<i> member names are PascalCase, parameters are camelCase, and all
</I>&gt;<i> identifiers are made of CorrectlySpelledWords. This rule would work
</I>&gt;<i> for any parsed .NET DOM, not just C#, and would be great for teaching
</I>&gt;<i> the conventions to newcomers, but also to catch typos from seasoned
</I>&gt;<i> users. It could easily offer quick fixes too, as these would just be
</I>&gt;<i> rename refactorings. In fact, quite a few of the framework design
</I>&gt;<i> guideline rules could be checked in a language-agnostic way with the
</I>&gt;<i> current DOM, since they affect only public API.
</I>&gt;<i> 
</I>
Maybe re-implementing all gendarme rules using the ParsedDocument ? 
(including gendarme &gt;may&lt; be easier - hey gendarme developers: include
gendarme - this way more people will use it)

&gt;<i> Another idea is to show unresolved types and unused usings. This would
</I>&gt;<i> be C#-only, and require attempting to resolve all types, and could
</I>&gt;<i> offer the existing &quot;resolve&quot; command as a quick fix. Other easy yet
</I>&gt;<i> useful rules would be to warn about recursion in properties, error on
</I>&gt;<i> trivial (i.e. clearly infinite) property recursion, warn about catch
</I>&gt;<i> blocks that completely discard the exception, check that string.Format
</I>&gt;<i> format is correct, warn about string concatenation in a loop...
</I>&gt;<i> 
</I>&gt;<i> Of course there are *many* more complex rules that could be
</I>&gt;<i> implemented, but are beyond the scope of a single GSoC project. The
</I>&gt;<i> main thing would be to get the framework implemented and polished,
</I>&gt;<i> with some fairly simple yet very useful rules to prove it, which would
</I>&gt;<i> make it possible for other people to contribute individual rules
</I>&gt;<i> afterwards.
</I>&gt;<i>
</I>&gt;<i> (I didn't mention spellchecking strings and comments because I think
</I>&gt;<i> that *might* be better for the text editor to handle based on syntax
</I>&gt;<i> highlighting, as it would work for many more filetypes. But
</I>&gt;<i> specialized rules could do a better job because they'd have more
</I>&gt;<i> context).
</I>&gt;<i> 
</I>
The spellechecking should be done with red underlines ... the other
things are more complex. For example the unused usings/unresolved types
could be 'grayed out' by the C# syntax highlighting. More serve 'bugs'
may generate warnings or even errors for the task list. 

btw. doing this with the current NRefactory AST isn't easy/doable. I've
run into NRefactory AST problems while doing refactorings ... and I only
did very simple AST analyzation.

Regards
Mike

</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011542.html">[MonoDevelop] Code analysis soc project
</A></li>
	<LI>Next message: <A HREF="011553.html">[MonoDevelop] Code analysis soc project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11544">[ date ]</a>
              <a href="thread.html#11544">[ thread ]</a>
              <a href="subject.html#11544">[ subject ]</a>
              <a href="author.html#11544">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
