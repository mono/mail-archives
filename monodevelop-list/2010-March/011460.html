<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] MonoDevelop's Build tab question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20MonoDevelop%27s%20Build%20tab%20question&In-Reply-To=5ae4f2ba1003142250g47e0b4batc3649ff7ed36f3c1%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011459.html">
   <LINK REL="Next"  HREF="011465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] MonoDevelop's Build tab question</H1>
    <B>Vasili I. Galchin</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20MonoDevelop%27s%20Build%20tab%20question&In-Reply-To=5ae4f2ba1003142250g47e0b4batc3649ff7ed36f3c1%40mail.gmail.com"
       TITLE="[MonoDevelop] MonoDevelop's Build tab question">vigalchin at gmail.com
       </A><BR>
    <I>Mon Mar 15 02:17:33 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="011459.html">[MonoDevelop] MonoDevelop's Build tab question
</A></li>
        <LI>Next message: <A HREF="011465.html">[MonoDevelop] Build/Run with Mono using MonoDevelop 2.2 on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11460">[ date ]</a>
              <a href="thread.html#11460">[ thread ]</a>
              <a href="subject.html#11460">[ subject ]</a>
              <a href="author.html#11460">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>PS I have done several experiments ... when MonoDevelop is hung, if I
run fsc from the command line then MonoDevelop becomes unhung
(compiling any file by calling fsc from CLI will unhang MonoDevelop).

PS1 Based on the code in FSharpBindingCompilerManager.cs and
LoggingService.LogInfos I have put in DoCompilation:

LoggingService.LogInfo(&quot;yoh adrian ..... &quot; + compilerName);  // WNH
LoggingService.LogInfo(compilerArgs);   // WNH
LoggingService.LogInfo(working_dir);    // WNH

                        if (gacRoots.Count &gt; 0) {
                                // Create the gac prefix string
                                string gacPrefix = string.Join (&quot;&quot; +
Path.PathSeparator, gacRoots.ToArray ());
                                string oldGacVar =
Environment.GetEnvironmentVariable (&quot;MONO_GAC_PREFIX&quot;);
                                if (!string.IsNullOrEmpty (oldGacVar))
                                        gacPrefix +=
Path.PathSeparator + oldGacVar;
                                pinfo.EnvironmentVariables
[&quot;MONO_GAC_PREFIX&quot;] = gacPrefix;
                        }

                        foreach (KeyValuePair&lt;string,string&gt; ev in envVars) {
                                if (ev.Value == null)

pinfo.EnvironmentVariables.Remove (ev.Key);
                                else
                                        pinfo.EnvironmentVariables
[ev.Key] = ev.Value;
                        }

                        pinfo.UseShellExecute = false;
                        pinfo.RedirectStandardOutput = true;
                        pinfo.RedirectStandardError = true;

LoggingService.LogInfo(&quot;KICK OFF FSC!!&quot;);  // WNH

                        MonoDevelop.Core.Execution.ProcessWrapper pw =
Runtime.ProcessService.StartProcess (pinfo, outwr, errwr, null);
LoggingService.LogInfo(&quot;Kicked off!&quot;);  // WNH
                        pw.WaitForOutput();
LoggingService.LogInfo(&quot;after wait!&quot;);  // WNH
                        int exitCode = pw.ExitCode;
                        outwr.Close();


I am quite sure that fsc CLI parms shared file has been built and an
attempt to &quot;spawn&quot; &quot;mono  ..... fsc.exe ....&quot;  by MonoDevelop has been
made! After this I can say
nothing.

PS3 I did a &quot;mono --help&quot; and set &quot;--trace=all&quot; but cannot find where
output goes! Should I use another means to monitor progress of &quot;mono
.... .fsc.exe .....&quot;??

On 3/15/10, Vasili I. Galchin &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">vigalchin at gmail.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i>      I noticed that when I try to build a F# &quot;script&quot; using
</I>&gt;<i> MonoDevelop that the bottom three &quot;Build&quot;, &quot;Rebuild&quot;, Clean&quot; are not
</I>&gt;<i> enabled(&quot;hot&quot;), e.g. &quot;Build Console1&quot;, &quot;Rebuild Console1&quot;, &quot;Clean
</I>&gt;<i> Console1&quot;. This causes me to have to select &quot;Build All&quot;. What
</I>&gt;<i> condition causes MonoDevelop to enable the bottom three selections? Or
</I>&gt;<i> to put it another way where in the MonoDevelop &quot;core&quot; source are these
</I>&gt;<i> enabled??
</I>&gt;<i>
</I>&gt;<i> (I am trying to track down a MonoDevelop &quot;hang&quot; problem and I suspect
</I>&gt;<i> this may be related.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Vasili
</I>&gt;<i>
</I></PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011459.html">[MonoDevelop] MonoDevelop's Build tab question
</A></li>
	<LI>Next message: <A HREF="011465.html">[MonoDevelop] Build/Run with Mono using MonoDevelop 2.2 on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11460">[ date ]</a>
              <a href="thread.html#11460">[ thread ]</a>
              <a href="subject.html#11460">[ subject ]</a>
              <a href="author.html#11460">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
