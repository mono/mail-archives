<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] [PATCH] Profiler support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20%5BPATCH%5D%20Profiler%20support&In-Reply-To=3a2f69f90704200621gc273ec1v8d040e079d5ec2bc%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005836.html">
   <LINK REL="Next"  HREF="005840.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] [PATCH] Profiler support</H1>
    <B>Lluis Sanchez</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20%5BPATCH%5D%20Profiler%20support&In-Reply-To=3a2f69f90704200621gc273ec1v8d040e079d5ec2bc%40mail.gmail.com"
       TITLE="[MonoDevelop] [PATCH] Profiler support">lluis at ximian.com
       </A><BR>
    <I>Fri Apr 20 11:23:23 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="005836.html">[MonoDevelop] [PATCH] Profiler support
</A></li>
        <LI>Next message: <A HREF="005840.html">[MonoDevelop] [PATCH] Profiler support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5838">[ date ]</a>
              <a href="thread.html#5838">[ thread ]</a>
              <a href="subject.html#5838">[ subject ]</a>
              <a href="author.html#5838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

Thanks for working on this, having profiling options integrated in MD
will be really useful. The patch looks like a good start, although I
have some comments.

I want to avoid adding more functionality to the add-ins in src/Core.
All add-ins in that directory are the core MD libraries, and I'd like to
keep them stable. I think that profiling support should be completely
implemented in an add-in. The core libraries have all necessary
extension points to make it possible.

I like the idea of implementing some basic infrastructure to be used by
all profilers, but we should avoid adding infrastructure which is not
really generic and useful for all profilers.

It is not always easy to decide which part of the code is MD
infrastructure and which is not. More infrastructure means better
integrated add-ins and less work to implement them. But it also means
more constraints on add-ins and more code that we have to keep stable
and backwards compatible (since it will be part of the MD API).

Regarding application profiling, what all profilers have in common is
that they generate a file with the results of a profiling session. I
think it makes sense to have a shared profiler view which can show the
results of profiling sessions over time. Those results could be shown in
the tree fer every project or solution. Other than that, I don't see
much more that is really generic to all profilers. For example, creating
snapshots is something specific to heap-shot, so I don't think that a
IProfiler.CreateSnapshot() method should be part of the profiling
infrastructure.

In fact, I'm wondering if the IProfiler interface is really needed. MD
already provides the interface IExecutionHandlerFactory, which allows
running a project using a specific &quot;runner&quot;, and the IAsyncOperation
interface for controlling the execution session. Looks like it should be
enough.

But as I said, sometimes it is not easy to decide what makes sense to
share and what not. In any case, we should have two add-ins, one with
the common profiling code (MonoDevelop.Profiling sounds more convenient
that MonoDevelop.Profiler to mee), and another with the heap-shot
integration (let's say MonoDevelop.Profiling.HeapShot). We could have a
&quot;Profiling&quot; solution containing those projects and any other profiler
implementation we want to add (just like we do for VersionControl and
Deployment).

Lluis.

El dv 20 de 04 del 2007 a les 15:21 +0200, en/na Ben Motmans va
escriure: 
&gt;<i> hey,
</I>&gt;<i> 
</I>&gt;<i> the last couple of days, i've been working on profiler support in MD
</I>&gt;<i> since the patch is pretty big, i splitted it up in some chunks:
</I>&gt;<i> 
</I>&gt;<i> * profiler_core.diff: ./Core/src/MonoDevelop.Core
</I>&gt;<i> support for profiling execution context
</I>&gt;<i> 
</I>&gt;<i> * profiler_ide.diff: ./Core/src/MonoDevelop.Ide
</I>&gt;<i> support for a Profile workbench context
</I>&gt;<i> 
</I>&gt;<i> * profiler_addin.diff: ./Extras
</I>&gt;<i> the addin itself, currently only support for heap-shot available
</I>&gt;<i> 
</I>&gt;<i> * profile_build.diff: ./
</I>&gt;<i> configure.in changes
</I>&gt;<i> 
</I>&gt;<i> the patch isn't 100% finished yet, but it is currently usable
</I>&gt;<i> so ... please review the patched and let me know if i did something stupid :)
</I>&gt;<i> 
</I>&gt;<i> (you can find a screenshot @ <A HREF="http://tremor.be/browse/md-heap-shot_2.png">http://tremor.be/browse/md-heap-shot_2.png</A>)
</I>&gt;<i> 
</I>&gt;<i> -- Ben
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodevelop-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005836.html">[MonoDevelop] [PATCH] Profiler support
</A></li>
	<LI>Next message: <A HREF="005840.html">[MonoDevelop] [PATCH] Profiler support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5838">[ date ]</a>
              <a href="thread.html#5838">[ thread ]</a>
              <a href="subject.html#5838">[ subject ]</a>
              <a href="author.html#5838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
