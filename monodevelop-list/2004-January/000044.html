<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Another option panel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:secretsquirrel%40optusnet.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000042.html">
   <LINK REL="Next"  HREF="000043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Another option panel
   </H1>
    <B>John BouAntoun
    </B> 
    <A HREF="mailto:secretsquirrel%40optusnet.com.au"
       TITLE="[MonoDevelop] Another option panel">secretsquirrel@optusnet.com.au
       </A><BR>
    <I>Tue, 13 Jan 2004 12:38:15 +1100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000042.html">[MonoDevelop] S.W.F -&gt; Gtk# Mappings
</A></li>
        <LI> Next message: <A HREF="000043.html">[MonoDevelop] [Fwd: Another option panel]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44">[ date ]</a>
              <a href="thread.html#44">[ thread ]</a>
              <a href="subject.html#44">[ subject ]</a>
              <a href="author.html#44">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-6nO6lo6dN+0VJbVqli5p
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

12 minutes this time.

This one goes in:

src/Main/Base/Gui/Dialogs/OptionPanels/IDEOptions/CodeGenerationPanel.cs

somone please review and commit.

JBA

P.S. Is the check box string rendering fixed in gtk-sharp yet?

JBA

--=-6nO6lo6dN+0VJbVqli5p
Content-Disposition: attachment; filename=CodeGenerationPanel.cs
Content-Type: text/plain; name=CodeGenerationPanel.cs; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

// &lt;file&gt;
//     &lt;copyright see=3D&quot;<A HREF="prj:///doc/copyright.txt"/">prj:///doc/copyright.txt&quot;/</A>&gt;
//     &lt;license see=3D&quot;<A HREF="prj:///doc/license.txt"/">prj:///doc/license.txt&quot;/</A>&gt;
//     &lt;owner name=3D&quot;Mike Kr=C3=BCger&quot; email=3D&quot;<A HREF="mailto:mike@icsharpcode.net">mike@icsharpcode.net</A>&quot;/&gt;
//     &lt;version value=3D&quot;$version&quot;/&gt;
// &lt;/file&gt;

using System;
using System.IO;
using System.Drawing;
using System.Collections;

using ICSharpCode.SharpDevelop.Internal.ExternalTool;
using ICSharpCode.Core.AddIns.Codons;
using ICSharpCode.Core.Properties;
using ICSharpCode.SharpDevelop.Gui.Components;
using ICSharpCode.Core.Services;
using ICSharpCode.Core.AddIns;

using Gtk;

namespace ICSharpCode.SharpDevelop.Gui.Dialogs.OptionPanels
{
	public class CodeGenerationPanel : AbstractOptionPanel
	{
		// Gtk Controls
		CheckButton generateAdditonalCommentsCheckBox;
		CheckButton generateDocCommentsCheckBox;
		CheckButton useFullTypeNamesCheckBox;=20
		CheckButton blankLinesBetweenMemberCheckBox;
		CheckButton elseOnClosingCheckBox;
		CheckButton startBlockOnTheSameLineCheckBox;=20
	=09
		// Services
		StringParserService StringParserService =3D (StringParserService)ServiceM=
anager.Services.GetService (typeof (StringParserService));
		PropertyService PropertyService =3D (PropertyService)ServiceManager.Servi=
ces.GetService (typeof (PropertyService));
		static readonly string codeGenerationProperty =3D &quot;SharpDevelop.UI.CodeGe=
nerationOptions&quot;;
	=09
		public override void LoadPanelContents()
		{
			// set up the form controls instance
			SetupPanelInstance();
		=09
			IProperties p =3D (IProperties)PropertyService.GetProperty(codeGeneratio=
nProperty, new DefaultProperties());
		=09
			generateAdditonalCommentsCheckBox.Active =3D p.GetProperty(&quot;GenerateAddi=
tionalComments&quot;, true);
			generateDocCommentsCheckBox.Active       =3D p.GetProperty(&quot;GenerateDocu=
mentComments&quot;, true);
			useFullTypeNamesCheckBox.Active          =3D p.GetProperty(&quot;UseFullyQual=
ifiedNames&quot;, true);
		=09
			blankLinesBetweenMemberCheckBox.Active   =3D p.GetProperty(&quot;BlankLinesBe=
tweenMembers&quot;, true);
			elseOnClosingCheckBox.Active             =3D p.GetProperty(&quot;ElseOnClosin=
g&quot;, true);
			startBlockOnTheSameLineCheckBox.Active   =3D p.GetProperty(&quot;StartBlockOn=
SameLine&quot;, true);
		}
	=09
		public override bool StorePanelContents()
		{
			IProperties p =3D (IProperties)PropertyService.GetProperty(codeGeneratio=
nProperty, new DefaultProperties());
			p.SetProperty(&quot;GenerateAdditionalComments&quot;, generateAdditonalCommentsChe=
ckBox.Active);
			p.SetProperty(&quot;GenerateDocumentComments&quot;,   generateDocCommentsCheckBox.=
Active);
			p.SetProperty(&quot;UseFullyQualifiedNames&quot;,     useFullTypeNamesCheckBox.Act=
ive);
			p.SetProperty(&quot;BlankLinesBetweenMembers&quot;,   blankLinesBetweenMemberCheck=
Box.Active);
			p.SetProperty(&quot;ElseOnClosing&quot;,              elseOnClosingCheckBox.Active=
);
			p.SetProperty(&quot;StartBlockOnSameLine&quot;,       startBlockOnTheSameLineCheck=
Box.Active);
			PropertyService.SetProperty(codeGenerationProperty, p);
			return true;
		}
	=09
		private void SetupPanelInstance()
		{
			// instantiate all the controls in the first group
			Gtk.Frame frame1 =3D new Gtk.Frame(StringParserService.Parse(&quot;${res:Dial=
og.Options.IDEOptions.CodeGenerationOptionsPanel.CodeGenerationOptionsGroup=
Box}&quot;));
			Gtk.VBox vBox1 =3D new Gtk.VBox(false,2);		=09
			useFullTypeNamesCheckBox =3D CheckButton.NewWithLabel(StringParserServic=
e.Parse(&quot;${res:Dialog.Options.IDEOptions.CodeGenerationOptionsPanel.UseFull=
TypeNamesCheckBox}&quot;));=20
			blankLinesBetweenMemberCheckBox =3D CheckButton.NewWithLabel(StringParse=
rService.Parse(&quot;${res:Dialog.Options.IDEOptions.CodeGenerationOptionsPanel.=
BlankLinesBetweenMembersCheckBox}&quot;));
			elseOnClosingCheckBox =3D CheckButton.NewWithLabel(StringParserService.P=
arse(&quot;${res:Dialog.Options.IDEOptions.CodeGenerationOptionsPanel.ElseOnClos=
ingCheckBox}&quot;));
			startBlockOnTheSameLineCheckBox =3D CheckButton.NewWithLabel(StringParse=
rService.Parse(&quot;${res:Dialog.Options.IDEOptions.CodeGenerationOptionsPanel.=
StartBlockOnTheSameLineCheckBox}&quot;));=20
		=09
			// pack all controls in first group
			vBox1.PackStart(startBlockOnTheSameLineCheckBox, false, false, 2);
			vBox1.PackStart(elseOnClosingCheckBox, false, false, 2);
			vBox1.PackStart(blankLinesBetweenMemberCheckBox, false, false, 2);
			vBox1.PackStart(useFullTypeNamesCheckBox, false, false, 2);
			frame1.Add(vBox1);
		=09
			// instantiate all the controls in the second group
			Gtk.Frame frame2 =3D new Gtk.Frame(StringParserService.Parse(&quot;${res:Dial=
og.Options.IDEOptions.CodeGenerationOptionsPanel.CommentGenerationOptionsGr=
oupBox}&quot;));
			Gtk.VBox vBox2 =3D new Gtk.VBox(false,2);		=09
			generateAdditonalCommentsCheckBox =3D CheckButton.NewWithLabel(StringPar=
serService.Parse(&quot;${res:Dialog.Options.IDEOptions.CodeGenerationOptionsPane=
l.GenerateAdditionalCommentsCheckBox}&quot;));
			generateDocCommentsCheckBox =3D CheckButton.NewWithLabel(StringParserSer=
vice.Parse(&quot;${res:Dialog.Options.IDEOptions.CodeGenerationOptionsPanel.Gene=
rateDocCommentsCheckBox}&quot;));
		=09
			// pack all controls in second group
			vBox2.PackStart(generateDocCommentsCheckBox, false, false, 2);
			vBox2.PackStart(generateAdditonalCommentsCheckBox, false, false, 2);
			frame2.Add(vBox2);
		=09
			// pack all the groups
			Gtk.VBox mainBox =3D new Gtk.VBox(false,2);
			mainBox.PackStart(frame1, false, false, 2);
			mainBox.PackStart(frame2, false, false, 2);
			this.Add(mainBox);
		}

	}
}

--=-6nO6lo6dN+0VJbVqli5p--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000042.html">[MonoDevelop] S.W.F -&gt; Gtk# Mappings
</A></li>
	<LI> Next message: <A HREF="000043.html">[MonoDevelop] [Fwd: Another option panel]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44">[ date ]</a>
              <a href="thread.html#44">[ thread ]</a>
              <a href="subject.html#44">[ subject ]</a>
              <a href="author.html#44">[ author ]</a>
         </LI>
       </UL>
</body></html>
