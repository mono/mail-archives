<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Binding parser's Resolve method
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Binding%20parser%27s%20Resolve%20method&In-Reply-To=1138890048.6792.13.camel%40portatil.aticatac">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003196.html">
   <LINK REL="Next"  HREF="003199.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Binding parser's Resolve method</H1>
    <B>Alejandro Serrano</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Binding%20parser%27s%20Resolve%20method&In-Reply-To=1138890048.6792.13.camel%40portatil.aticatac"
       TITLE="[MonoDevelop] Binding parser's Resolve method">trupill at yahoo.es
       </A><BR>
    <I>Thu Feb  2 10:26:22 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003196.html">[MonoDevelop] Binding parser's Resolve method
</A></li>
        <LI>Next message: <A HREF="003199.html">[MonoDevelop] Binding parser's Resolve method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3197">[ date ]</a>
              <a href="thread.html#3197">[ thread ]</a>
              <a href="subject.html#3197">[ subject ]</a>
              <a href="author.html#3197">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Lluis Sanchez escribi&#195;&#179;:
&gt;<i> El mar, 31-01-2006 a las 20:00 +0100, Alejandro Serrano escribi&#195;&#179;:
</I>&gt;<i>   
</I>&gt;<i> ...
</I>&gt;&gt;<i> Also, Parse works well most of the times, altough sometimes some files 
</I>&gt;&gt;<i> are not parsed, or MD crashes with a GLib exception. This is the code 
</I>&gt;&gt;<i> I'im using:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>             try
</I>&gt;&gt;<i>             {
</I>&gt;&gt;<i>                     // Engine is the name of the Nemerle parser
</I>&gt;&gt;<i>                     Engine eng = new Engine();
</I>&gt;&gt;<i>                     Project currentProj = 
</I>&gt;&gt;<i> IdeApp.ProjectOperations.CurrentSelectedProject;
</I>&gt;&gt;<i>                
</I>&gt;&gt;<i>                     // I add each reference
</I>&gt;&gt;<i>                     foreach (ProjectReference refer in 
</I>&gt;&gt;<i> currentProj.ProjectReferences)
</I>&gt;&gt;<i>                         if (refer.ReferenceType != ReferenceType.Project)
</I>&gt;&gt;<i>                             eng.References.Add (refer.Reference, 
</I>&gt;&gt;<i> refer.Reference);
</I>&gt;&gt;<i>                
</I>&gt;&gt;<i>                     // I add each file contents
</I>&gt;&gt;<i>                     foreach (ProjectFile file in currentProj.ProjectFiles)
</I>&gt;&gt;<i>                         if (file.Name.ToUpper().EndsWith(&quot;.N&quot;))
</I>&gt;&gt;<i>                             eng.Sources.Add (file.Name, file.Data);
</I>&gt;&gt;<i>                
</I>&gt;&gt;<i>                     // Then, the type tree is returned, and CUFromTree 
</I>&gt;&gt;<i> creates wrappers
</I>&gt;&gt;<i>                     TypeTree tree = eng.GetTypeTree();
</I>&gt;&gt;<i>                     return CUFromTree (tree);
</I>&gt;&gt;<i>             }
</I>&gt;&gt;<i>             catch
</I>&gt;&gt;<i>             {
</I>&gt;&gt;<i>                 return null;
</I>&gt;&gt;<i>             }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Should Engine be static? Is this the best way to iterate through all 
</I>&gt;&gt;<i> files in a project, or this works only for open files?
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> I don't know where are you using that code. You only need to implement
</I>&gt;<i> the Parse() method from the IParser interface. The parser service will
</I>&gt;<i> call this method to parse whatever is needed to parse.
</I>&gt;<i>
</I>&gt;<i> Lluis.
</I>&gt;<i>   
</I>This is my implementation of the Parse method. I'm getting all files, 
and all project references, and getting the type tree for them. I don't 
know if this is totally correct, altough it works most of the times.
However, the GLib exception is sometimes thrown, or other times it 
crashes randomly and shows and empty Class View. I think it is maybe for 
two subsequent calls to Parse which would need a lock(...) in my code.

Thanks in advance,
Serras

		
______________________________________________ 
LLama Gratis a cualquier PC del Mundo. 
Llamadas a fijos y m&#243;viles desde 1 c&#233;ntimo por minuto. 
<A HREF="http://es.voice.yahoo.com">http://es.voice.yahoo.com</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003196.html">[MonoDevelop] Binding parser's Resolve method
</A></li>
	<LI>Next message: <A HREF="003199.html">[MonoDevelop] Binding parser's Resolve method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3197">[ date ]</a>
              <a href="thread.html#3197">[ thread ]</a>
              <a href="subject.html#3197">[ subject ]</a>
              <a href="author.html#3197">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
