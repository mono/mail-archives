<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Feedback wanted: Settings and data storage	locations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Feedback%20wanted%3A%20Settings%20and%20data%20storage%0A%09locations&In-Reply-To=aec34c771001212125y3dbfb472sbdafdbf761991af5%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011150.html">
   <LINK REL="Next"  HREF="011172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Feedback wanted: Settings and data storage	locations</H1>
    <B>Martin Olsson</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Feedback%20wanted%3A%20Settings%20and%20data%20storage%0A%09locations&In-Reply-To=aec34c771001212125y3dbfb472sbdafdbf761991af5%40mail.gmail.com"
       TITLE="[MonoDevelop] Feedback wanted: Settings and data storage	locations">mnemo at minimum.se
       </A><BR>
    <I>Sat Jan 23 11:58:07 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="011150.html">[MonoDevelop] Feedback wanted: Settings and data storage	locations
</A></li>
        <LI>Next message: <A HREF="011172.html">[MonoDevelop] Feedback wanted: Settings and data storage	locations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11171">[ date ]</a>
              <a href="thread.html#11171">[ thread ]</a>
              <a href="subject.html#11171">[ subject ]</a>
              <a href="author.html#11171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I didn't read the original post, but I hope you read and
considered these:

<A HREF="http://brainstorm.ubuntu.com/idea/6557/">http://brainstorm.ubuntu.com/idea/6557/</A>
<A HREF="http://live.gnome.org/GnomeGoals/XDGConfigFolders">http://live.gnome.org/GnomeGoals/XDGConfigFolders</A>

Also please partition preferences etc so that multi machine
cloud synchronization becomes easy.


		Martin

Michael Hutchinson wrote:
&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> I'm seeking feedback on a proposal to change the locations in which
</I>&gt;<i> MonoDevelop stores data. This affects all users, so please have your
</I>&gt;<i> say!
</I>&gt;<i> 
</I>&gt;<i> Historically MonoDevelop has stored all data, cache, settings, etc. in
</I>&gt;<i> a subdirectory of
</I>&gt;<i> Environment.GetFolderPath (Environment.SpecialFolder.ApplicationData).
</I>&gt;<i> Typically on Linux/Mac this is /home/$USER/.config/MonoDevelop/ and on
</I>&gt;<i> Windows Vista/7 it's C:\Users\$USER\AppData\Roaming\MonoDevelop\. The
</I>&gt;<i> path has been accessible via PropertyService.ConfigPath, for addins to
</I>&gt;<i> determine where to store their own data.
</I>&gt;<i> 
</I>&gt;<i> There are a few problems here. Firstly, it's not clear to the user
</I>&gt;<i> which data need to be backed up and which can be regenerated. It's not
</I>&gt;<i> particularly well-structured if one ever needs to look in the
</I>&gt;<i> directory and find things. On Windows, all data is in the roaming
</I>&gt;<i> profile, which is inefficient with network logins. And on Mac, this
</I>&gt;<i> doesn't match the standard ~/Library subdirectories for caches, prefs,
</I>&gt;<i> etc.
</I>&gt;<i> 
</I>&gt;<i> I therefore propose that we add more granular locations for different
</I>&gt;<i> types of data. Since the migration will be a pain and we will have to
</I>&gt;<i> review and set up migrations for all current uses, we may as well get
</I>&gt;<i> it *right* first time so it only needs to be done once.
</I>&gt;<i> 
</I>&gt;<i> * UserPreferencesPath: current preferences/settings
</I>&gt;<i>   Lin: ~/.config/MonoDevelop/Preferences
</I>&gt;<i>   Mac: ~/Library/Preferences/MonoDevelop/
</I>&gt;<i>   Win: ~\AppData\Roaming\MonoDevelop\ Preferences
</I>&gt;<i> 
</I>&gt;<i> * UserDataRoot: Root location for data files created or modifiable by
</I>&gt;<i> the user, such as templates, snippets and color schemes.
</I>&gt;<i>   Lin: ~/.config/MonoDevelop/
</I>&gt;<i>   Mac: ~/Library/MonoDevelop/
</I>&gt;<i>   Win: ~\AppData\Roaming\MonoDevelop\
</I>&gt;<i> 
</I>&gt;<i> * UserCachePath: cached data that can be regenerated
</I>&gt;<i>   Lin: ~/.share/local/MonoDevelop/Cache
</I>&gt;<i>   Mac: ~/Library/Cache/MonoDevelop/
</I>&gt;<i>   Win: ~\AppData\Local\MonoDevelop\Cache
</I>&gt;<i> 
</I>&gt;<i> * UserLogsPath: MD log output and anything similar from addins
</I>&gt;<i>   Lin: ~/.share/local/MonoDevelop/Logs
</I>&gt;<i>   Mac: ~/Library/Logs/MonoDevelop/
</I>&gt;<i>   Win: ~\AppData\Local\MonoDevelop\Logs
</I>&gt;<i> 
</I>&gt;<i> * UserAddinsPath: addin registry and user-installed addins
</I>&gt;<i>   Lin: ~/.share/local/MonoDevelop/Addins
</I>&gt;<i>   Mac: ~/Library/Application Support/MonoDevelop/
</I>&gt;<i>   Win: ~\AppData\Local\MonoDevelop\Addins
</I>&gt;<i> 
</I>&gt;<i> In summary, the contents of UserPreferencesPath and UserDataRoot
</I>&gt;<i> should be backed up.
</I>&gt;<i> 
</I>&gt;<i> I also intend to add FileService.MigratePath (string
</I>&gt;<i> oldRelativeConfigPath, string newFullPath, bool removeEmpty) call that
</I>&gt;<i> can be used to migrate files and folders from an old path to a new
</I>&gt;<i> path. This can be used to move files and directories to the new
</I>&gt;<i> locations.
</I>&gt;<i> 
</I>&gt;<i> There is also the question of whether some of these directories should
</I>&gt;<i> be versioned so that multiple MD versions can be used in parallel on
</I>&gt;<i> one user profile. I don't think it's worth the maintenance burden; in
</I>&gt;<i> general we've only ever supported forward migrations properly. Perhaps
</I>&gt;<i> we should have an error message if you try to run MD with too-new
</I>&gt;<i> settings/data formats, or alter all the location properties to point
</I>&gt;<i> to some dummy temp location so you can run the older version without
</I>&gt;<i> corrupting your newer settings.
</I>&gt;<i> 
</I>&gt;<i> You can see the current patch at <A HREF="http://monobin.com/__d215cffd5">http://monobin.com/__d215cffd5</A> if
</I>&gt;<i> you're curious.
</I>&gt;<i> 
</I>
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011150.html">[MonoDevelop] Feedback wanted: Settings and data storage	locations
</A></li>
	<LI>Next message: <A HREF="011172.html">[MonoDevelop] Feedback wanted: Settings and data storage	locations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11171">[ date ]</a>
              <a href="thread.html#11171">[ thread ]</a>
              <a href="subject.html#11171">[ subject ]</a>
              <a href="author.html#11171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
