<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Cannot rebuild due to file permissions in build	dir
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Cannot%20rebuild%20due%20to%20file%20permissions%20in%20build%0A%09dir&In-Reply-To=AANLkTimGruzLW6BaXvebtOThYGaOBe6VTKEPER-DXmpE%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013350.html">
   <LINK REL="Next"  HREF="013351.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Cannot rebuild due to file permissions in build	dir</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Cannot%20rebuild%20due%20to%20file%20permissions%20in%20build%0A%09dir&In-Reply-To=AANLkTimGruzLW6BaXvebtOThYGaOBe6VTKEPER-DXmpE%40mail.gmail.com"
       TITLE="[MonoDevelop] Cannot rebuild due to file permissions in build	dir">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Sat Feb  5 14:34:37 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013350.html">[MonoDevelop] MonoDevelop problem on Windows
</A></li>
        <LI>Next message: <A HREF="013351.html">[MonoDevelop] Create packages for Linux and install them
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13339">[ date ]</a>
              <a href="thread.html#13339">[ thread ]</a>
              <a href="subject.html#13339">[ subject ]</a>
              <a href="author.html#13339">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jan 27, 2011 at 6:00 PM, Len Charest &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">len at shingl.com</A>&gt; wrote:
&gt;<i> Since upgrading to MD 2.4.2, I've had problems with rebuilding projects. On
</I>&gt;<i> initial build, some files (DLLs) are copied into the build directory as
</I>&gt;<i> read-only (perms 0444). On subsequent rebuild, MD complains that it does not
</I>&gt;<i> have permission to delete the files from the build directory, and the build
</I>&gt;<i> fails.
</I>&gt;<i>
</I>&gt;<i> Manually running &quot;chmod +w *&quot; (or &quot;rm -f ./*&quot;) in the build directory allows
</I>&gt;<i> the rebuild to succeed, but it's not a viable solution. Neither of these
</I>&gt;<i> commands can be used as pre-build actions since actions are run *after* the
</I>&gt;<i> MD build system attempts to clean the build directory.
</I>&gt;<i>
</I>&gt;<i> Is this a known problem and is there a work-around?
</I>
It's not a known problem. Is it just with that specific case, or can
you reproduce it with other projects? Are there any aspects of this
projects that seems like they could be relevant - e.g. where is the
file copied from, how is it copied (e.g. &quot;local copy&quot;, are you using
the experimental xbuild integration, is there anything in common
between the dlls that get copied ro, etc?

It would be great if you could file a bug to track this:
<A HREF="http://monodevelop.com/Developers/Reporting_Bugs">http://monodevelop.com/Developers/Reporting_Bugs</A>

&gt;<i> Some additional info: I'm running MD 2.4.2 on a MacBook Pro with MacOS
</I>&gt;<i> 10.6.6. I also have the latest Mono and MonoTouch bits.
</I>&gt;<i>
</I>&gt;<i> Here's the detail of one of the errors I see when rebuilding a project that
</I>&gt;<i> is not under version control:
</I>&gt;<i>
</I>&gt;<i> System.UnauthorizedAccessException: Access to the path
</I>&gt;<i> &quot;/full/path/to/project/builddir/System.Data.Services.Client.dll&quot; is denied.
</I>&gt;<i> &#160; at System.IO.File.Delete (System.String path) [0x00000] in &lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i> &#160; at MonoDevelop.Core.FileSystem.DefaultFileSystemExtension.DeleteFile
</I>&gt;<i> (System.String file) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i> &#160; at MonoDevelop.Core.FileService.DeleteFile (System.String fileName)
</I>&gt;<i> [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i> Here's an error detail for a project that is under SVN control:
</I>&gt;<i>
</I>&gt;<i> System.UnauthorizedAccessException: Access to the path
</I>&gt;<i> &quot;/full/path/to/project/builddir/System.Data.Services.Client.dll&quot; is denied.
</I>&gt;<i> &#160; at System.IO.File.Delete (System.String path) [0x00000] in &lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i> &#160; at MonoDevelop.VersionControl.Subversion.SubversionRepository.DeleteFiles
</I>&gt;<i> (MonoDevelop.Core.FilePath[] paths, Boolean force, IProgressMonitor monitor)
</I>&gt;<i> [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i> &#160; at MonoDevelop.VersionControl.Repository.DeleteFile (FilePath localPath,
</I>&gt;<i> Boolean force, IProgressMonitor monitor) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i> &#160; at MonoDevelop.VersionControl.VersionControlFileSystemExtension.DeleteFile
</I>&gt;<i> (System.String file) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i> &#160; at MonoDevelop.Core.FileService.DeleteFile (System.String fileName)
</I>&gt;<i> [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i> The latter stack trace is odd to me because the build directory itself is
</I>&gt;<i> not under version control.
</I>
The version control clients get to intercept all file
creations/deletion operations in case they're inside VCS-controlled
paths.

-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013350.html">[MonoDevelop] MonoDevelop problem on Windows
</A></li>
	<LI>Next message: <A HREF="013351.html">[MonoDevelop] Create packages for Linux and install them
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13339">[ date ]</a>
              <a href="thread.html#13339">[ thread ]</a>
              <a href="subject.html#13339">[ subject ]</a>
              <a href="author.html#13339">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
