<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] MonoDevelop + Moonlight - again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20MonoDevelop%20%2B%20Moonlight%20-%20again&In-Reply-To=4D4B9E62.6050405%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013326.html">
   <LINK REL="Next"  HREF="013327.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] MonoDevelop + Moonlight - again</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20MonoDevelop%20%2B%20Moonlight%20-%20again&In-Reply-To=4D4B9E62.6050405%40gmail.com"
       TITLE="[MonoDevelop] MonoDevelop + Moonlight - again">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Fri Feb  4 12:34:21 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013326.html">[MonoDevelop] MonoDevelop + Moonlight - again
</A></li>
        <LI>Next message: <A HREF="013327.html">[MonoDevelop] Mono Develop and Web User Control...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13328">[ date ]</a>
              <a href="thread.html#13328">[ thread ]</a>
              <a href="subject.html#13328">[ subject ]</a>
              <a href="author.html#13328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Feb 4, 2011 at 1:36 AM, Jake Moe &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">jakesaddress at gmail.com</A>&gt; wrote:
&gt;<i> I've just upgraded my MonoDevelop to v2.4.2, and around the same time
</I>&gt;<i> Mono upgraded to v2.8. &#160;Now, when I try to compile a new Moonlight app,
</I>&gt;<i> I get:
</I>&gt;<i>
</I>&gt;<i> Error 1: respack failed:
</I>&gt;<i> Unhandled Exception: System.ArgumentException: Path is empty
</I>&gt;<i> &#160;at System.IO.FileStream..ctor (System.String path, FileMode mode,
</I>&gt;<i> FileAccess access, FileShare share, Int32 bufferSize, Boolean anonymous,
</I>&gt;<i> FileOptions options) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i> &#160;at System.IO.FileStream..ctor (System.String path, FileMode mode,
</I>&gt;<i> FileAccess access, FileShare share) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i> &#160;at (wrapper remoting-invoke-with-check) System.IO.FileStream:.ctor
</I>&gt;<i> (string,System.IO.FileMode,System.IO.FileAccess,System.IO.FileShare)
</I>&gt;<i> &#160;at System.IO.File.OpenRead (System.String path) [0x00000] in &lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i> &#160;at ResourcePacker.Compress (System.Collections.Generic.List`1 files)
</I>&gt;<i> [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i> &#160;at ResourcePacker.Main (System.String[] args) [0x00000] in &lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i> &#160;(1) (SLTest)
</I>&gt;<i>
</I>&gt;<i> I've found that error online, but I haven't been able to find any steps
</I>&gt;<i> that tell what to do about it, other than try to build again. &#160;When I do
</I>&gt;<i> that, I get:
</I>&gt;<i>
</I>&gt;<i> Error: The compiler appears to have crashed. Check the build output pad
</I>&gt;<i> for details. (SLTest)
</I>&gt;<i>
</I>&gt;<i> and the Build Output pad says:
</I>&gt;<i>
</I>&gt;<i> Building: SLTest (Debug)
</I>&gt;<i>
</I>&gt;<i> Building Solution SLTest
</I>&gt;<i>
</I>&gt;<i> Building: SLTest (Debug)
</I>&gt;<i>
</I>&gt;<i> Performing main compilation...
</I>&gt;<i> /usr/lib/moonlight/2.0/smcs /noconfig
</I>&gt;<i> &quot;/out:/home/jmoe/Projects/SLTest/bin/Debug/SLTest.dll&quot;
</I>&gt;<i> &quot;/r:/usr/lib/moonlight/2.0/System.Windows.dll&quot;
</I>&gt;<i> &quot;/r:/usr/lib/moonlight/2.0/mscorlib.dll&quot;
</I>&gt;<i> &quot;/r:/usr/lib/moonlight/2.0/System.dll&quot;
</I>&gt;<i> &quot;/r:/usr/lib/moonlight/2.0/System.Core.dll&quot;
</I>&gt;<i> &quot;/r:/usr/lib/moonlight/2.0/System.Xml.dll&quot;
</I>&gt;<i> &quot;/r:/usr/lib/moonlight/2.0/System.Net.dll&quot;
</I>&gt;<i> &quot;/r:/usr/lib/moonlight/2.0/System.Windows.Browser.dll&quot; /nologo /warn:4
</I>&gt;<i> /debug:+ /debug:full /optimize- /codepage:utf8 &quot;/define:DEBUG&quot;
</I>&gt;<i> /t:library &quot;/home/jmoe/Projects/SLTest/App.xaml.cs&quot;
</I>&gt;<i> &quot;/home/jmoe/Projects/SLTest/Page.xaml.cs&quot;
</I>&gt;<i> &quot;/home/jmoe/Projects/SLTest/obj/Debug/App.xaml.g.cs&quot;
</I>&gt;<i> &quot;/home/jmoe/Projects/SLTest/obj/Debug/Page.xaml.g.cs&quot;
</I>&gt;<i> &quot;/res:/home/jmoe/Projects/SLTest/obj/Debug/SLTest.g.resources,SLTest.g.resources&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Corlib too old for this runtime.
</I>&gt;<i> Loaded from: /usr/lib/moonlight/2.0/mscorlib.dll
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Corlib too old for this runtime.
</I>&gt;<i> Loaded from: /usr/lib/moonlight/2.0/mscorlib.dll
</I>&gt;<i> Build complete -- 1 error, 0 warnings
</I>&gt;<i>
</I>&gt;<i> ---------------------- Done ----------------------
</I>&gt;<i>
</I>&gt;<i> Build: 1 error, 0 warnings
</I>&gt;<i>
</I>&gt;<i> So I'm guessing that with the upgrade to MonoDevelop and/or Mono, I need
</I>&gt;<i> a new Moonlight SDK? &#160;If so, where can I get that from? &#160;I had
</I>&gt;<i> previously gotten it from the Mac binary download for MonoDevelop, so I
</I>&gt;<i> tried that with the newest Mac download, but that appears to be the same
</I>&gt;<i> version of Moonlight packaged in. &#160;Is there anywhere else I can get it
</I>&gt;<i> from to allow MonoDevelop to build Moonlight apps?
</I>
Yeah, two problems here:

1)

respack is a tool from the Moonlight SDK, and it seems to be crashing.
I don't know whether the Moonlight team is aware of this problem.

2)

The Mono C# compiler has to run on the same mscorlib.dll version that
it's building assemblies for, due to limitations in System.Reflection.
So smcs has to run on the Moonlight/Silverlight mscorlib. The problem
is that Mono mscorlibs are tightly bound to the Mono version, and the
Moonlight 2.0 SDK was built from Mono 2.6.x, so it can't run on Mono
2.8.x.

This is fixed in Mono 2.10, which has a reworked &quot;mcs&quot; compiler that
uses an alternative reflection API - so this new mcs could even be
used with Moonlight 2.6 SDK. So one workaround that might work would
be to upgrade to the Mono 2.10 preview packages, and replace the
&quot;smcs&quot; script in the Moonlight SDK with a script that invokes the new
&quot;mcs&quot; with the correct sdk arguments to make it target Moonlight.
Alternatively you could ask the Moonlight developers whether they have
a new sdk that will work with Mono 2.8.

-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013326.html">[MonoDevelop] MonoDevelop + Moonlight - again
</A></li>
	<LI>Next message: <A HREF="013327.html">[MonoDevelop] Mono Develop and Web User Control...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13328">[ date ]</a>
              <a href="thread.html#13328">[ thread ]</a>
              <a href="subject.html#13328">[ subject ]</a>
              <a href="author.html#13328">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
