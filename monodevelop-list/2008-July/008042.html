<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] &quot;Open for Edit&quot; command [VersionControl]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20%22Open%20for%20Edit%22%20command%20%5BVersionControl%5D&In-Reply-To=1216638091.3963.178.camel%40portador.aticatac-centre">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008038.html">
   <LINK REL="Next"  HREF="007940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] &quot;Open for Edit&quot; command [VersionControl]</H1>
    <B>Casey Marshall</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20%22Open%20for%20Edit%22%20command%20%5BVersionControl%5D&In-Reply-To=1216638091.3963.178.camel%40portador.aticatac-centre"
       TITLE="[MonoDevelop] &quot;Open for Edit&quot; command [VersionControl]">cmarshall at pacificbiosciences.com
       </A><BR>
    <I>Mon Jul 21 14:31:41 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008038.html">[MonoDevelop] &quot;Open for Edit&quot; command [VersionControl]
</A></li>
        <LI>Next message: <A HREF="007940.html">[MonoDevelop] How to archieve a normal file copy during solution	compilation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8042">[ date ]</a>
              <a href="thread.html#8042">[ thread ]</a>
              <a href="subject.html#8042">[ subject ]</a>
              <a href="author.html#8042">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2008-07-21 at 13:01 +0200, Lluis Sanchez Gual wrote:
&gt;<i> El dv 18 de 07 de 2008 a les 17:45 -0700, en/na Casey Marshall va
</I>&gt;<i> escriure:
</I>&gt;<i> &gt; No comments on this?
</I>&gt;<i> 
</I>&gt;<i> Yes, some.
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On Tue, 2008-07-08 at 17:50 -0700, Casey Marshall wrote:
</I>&gt;<i> &gt; &gt; Attached is a patch I'm using locally to better support my Perforce
</I>&gt;<i> &gt; &gt; VersionControl add-in, which I've had some good success with. This
</I>&gt;<i> &gt; &gt; change adds an &quot;Open for Edit&quot; command to the contextual menu, and adds
</I>&gt;<i> &gt; &gt; some new methods/properties to Repository to let version control systems
</I>&gt;<i> &gt; &gt; tell whether or not they need to support an edit command, and adds the
</I>&gt;<i> &gt; &gt; edit command itself. I don't know if the command appears for the SVN
</I>&gt;<i> &gt; &gt; addin, and don't know how these commands appear or not in the menu.
</I>&gt;<i> 
</I>&gt;<i> Why not properly implement RequestFileWritePermission instead? MD would
</I>&gt;<i> call &#65279;RequestFileWritePermission when the user wants to modify a file.
</I>&gt;<i> It wouldn't need to explicitly use an Edit command.
</I>&gt;<i> 
</I>
Yeah, that's the ideal way to handle it. The Perforce support in Visual
Studio checks files out automatically, I think, so it's nice to follow
that behavior.

Adding the command just seemed like less work, passing the work onto the
user to manually check files out. But even so, I think I'd like to see
an explicit command for checking files out.

Is RequestFileWritePermission support implemented, or close to it?

&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; This change also adds a `RepositoryPath' property to ChangeSet, which is
</I>&gt;<i> &gt; &gt; hugely useful for generating perforce changelists.
</I>&gt;<i> 
</I>&gt;<i> Looks ok.
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I'll note a couple of things that were less than helpful in the
</I>&gt;<i> &gt; &gt; implementation:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;   * GetPathToBaseText. Perforce doesn't keep local copies of the base
</I>&gt;<i> &gt; &gt; version (at least, I don't think it does), so I need to write a
</I>&gt;<i> &gt; &gt; temporary file to implement this. That's not too bad, but I don't know
</I>&gt;<i> &gt; &gt; how to get notified when that file isn't being used any more, and can be
</I>&gt;<i> &gt; &gt; deleted.
</I>&gt;<i> 
</I>&gt;<i> We should change that api, so it returns a stream or the full content of
</I>&gt;<i> the file.
</I>&gt;<i> 
</I>
I'd suggest a stream, or maybe a (filename,callback) pair that signals
the VC backend that the perhaps-temporary file is no longer in use.

Thanks!
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008038.html">[MonoDevelop] &quot;Open for Edit&quot; command [VersionControl]
</A></li>
	<LI>Next message: <A HREF="007940.html">[MonoDevelop] How to archieve a normal file copy during solution	compilation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8042">[ date ]</a>
              <a href="thread.html#8042">[ thread ]</a>
              <a href="subject.html#8042">[ subject ]</a>
              <a href="author.html#8042">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
