<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Monodevelop Designer crash on Ubuntu
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Monodevelop%20Designer%20crash%20on%20Ubuntu&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013958.html">
   <LINK REL="Next"  HREF="013960.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Monodevelop Designer crash on Ubuntu</H1>
    <B>Gunnar S&#248;nsteby</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Monodevelop%20Designer%20crash%20on%20Ubuntu&In-Reply-To="
       TITLE="[MonoDevelop] Monodevelop Designer crash on Ubuntu">gunnar.soensteby at gmail.com
       </A><BR>
    <I>Sun Aug 21 00:06:46 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013958.html">[MonoDevelop] Problems creating a tarball
</A></li>
        <LI>Next message: <A HREF="013960.html">[MonoDevelop] TextView in a fixed container
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13941">[ date ]</a>
              <a href="thread.html#13941">[ thread ]</a>
              <a href="subject.html#13941">[ subject ]</a>
              <a href="author.html#13941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have a problem with Designer-mode in monodevelop on Ubuntu Desktop 11.04.

Creating and running a default Gtk# 2.0 Project compiles and runs without
errors.
If I open MainWindow and selects Designer, I can se the text:
No selection
and Monodevelop crashes with SIGABRT and error:
metacity:ERROR:ui/preview-widget.c:450:meta_preview_get_icon: assertion
failed: (default_icon)
Stacktrace:

  at (wrapper managed-to-native)
Gtk.Container.gtksharp_container_base_forall (intptr,bool,intptr,intptr) &lt;IL
0x0002e, 0xffffffff&gt;
  at Gtk.Container.ForAll (bool,Gtk.Callback) &lt;IL 0x00032, 0x00097&gt;
  at Stetic.ResizableFixed.ForAll (bool,Gtk.Callback) [0x00000] in
/usr/local/src/mono/2.10.4/monodevelop-2.5.93/src/addins/MonoDevelop.GtkCore/libsteticui/WidgetDesignerBackend.cs:532
  at Gtk.Container.Forall_cb (intptr,bool,intptr,intptr) &lt;IL 0x00029,
0x000cf&gt;
  at (wrapper native-to-managed) Gtk.Container.Forall_cb
(intptr,int,intptr,intptr) &lt;IL 0x00028, 0xffffffff&gt;
  at (wrapper managed-to-native)
Gtk.Widget.gtksharp_widget_base_expose_event (intptr,intptr) &lt;IL 0x00026,
0xffffffff&gt;
  at Gtk.Widget.OnExposeEvent (Gdk.EventExpose) &lt;IL 0x0001c, 0x0002b&gt;
  at Stetic.ResizableFixed.OnExposeEvent (Gdk.EventExpose) [0x00000] in
/usr/local/src/mono/2.10.4/monodevelop-2.5.93/src/addins/MonoDevelop.GtkCore/libsteticui/WidgetDesignerBackend.cs:639
  at Gtk.Widget.exposeevent_cb (intptr,intptr) &lt;IL 0x00014, 0x00061&gt;
  at (wrapper native-to-managed) Gtk.Widget.exposeevent_cb (intptr,intptr)
&lt;IL 0x00020, 0xffffffff&gt;
  at (wrapper managed-to-native) Gtk.Application.gtk_main () &lt;IL 0x00022,
0xffffffff&gt;
  at Gtk.Application.Run () &lt;IL 0x00000, 0x0000b&gt;
  at MonoDevelop.Ide.IdeApp.Run () [0x00000] in
/usr/local/src/mono/2.10.4/monodevelop-2.5.93/src/core/MonoDevelop.Ide/MonoDevelop.Ide/Ide.cs:384
  at MonoDevelop.Ide.IdeStartup.Run (string[]) [0x00748] in
/usr/local/src/mono/2.10.4/monodevelop-2.5.93/src/core/MonoDevelop.Ide/MonoDevelop.Ide/IdeStartup.cs:265
  at MonoDevelop.Startup.MonoDevelopMain.Main (string[]) [0x00017] in
/usr/local/src/mono/2.10.4/monodevelop-2.5.93/src/core/MonoDevelop.Startup/MonoDevelop.Startup/MonoDevelopMain.cs:24
  at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_int_object
(object,intptr,intptr,intptr) &lt;IL 0x0005c, 0xffffffff&gt;

(I have the full trace if needed)

I have tried to search for a solution without luck and I have to admit, I am
not very skilled in reading debug-logs.
Any help or pointers would be very appreciated.


I have compiled and installed following packages from source:

hicolor-icon-theme-0.12.tar.gz
libgdiplus-2.10.tar.bz2
mono-2.10.4.tar.bz2
nant-0.90-src.tar.bz2
mono-basic-2.10.tar.bz2
xsp-2.10.2.tar.bz2
mod_mono-2.10.tar.bz2
gluezilla-2.6.tar.bz2
gtk-sharp-2.12.11.tar.bz2
gnome-sharp-2.24.1.tar.bz2
gnome-desktop-sharp-2.24.0.tar.bz2
gecko-sharp-2.0-0.13.tar.bz2
webkit-sharp-0.3.tar.bz2
gtksourceview-sharp-2.0-0.12.tar.bz2
mono-debugger-2.10.tar.bz2
mono-addins-0.6.2.tar.bz2
mono-tools-2.10.tar.bz2
monodevelop-2.5.93.tar.bz2
monodevelop-database-2.5.93.tar.bz2
monodevelop-debugger-gdb-2.5.93.tar.bz2

in that order, all with prefix /opt/mono-2.10
libgdiplus is also configured with
--with-pango

and mono with:
--x-libraries=/usr/lib/i386-linux-gnu

./configure does not report anything missing (except nautilus-burn) and all
packages seems to have compiled and installed ok, but I may of course have
overlooked something.


The packages are compiled after running following script to set the
environment:
#!/bin/bash
export LANGUAGE=en_GB:en
export LANG=en_GB.UTF-8
MONO_PREFIX=/opt/mono-2.10
GNOME_PREFIX=/usr
export DYLD_LIBRARY_PATH=$MONO_PREFIX/lib:$DYLD_LIBRARY_PATH
export LD_LIBRARY_PATH=$MONO_PREFIX/lib:$LD_LIBRARY_PATH
export C_INCLUDE_PATH=$MONO_PREFIX/include:$GNOME_PREFIX/include
export ACLOCAL_PATH=$MONO_PREFIX/share/aclocal
export
PKG_CONFIG_PATH=$MONO_PREFIX/lib/pkgconfig:$GNOME_PREFIX/lib/pkgconfig
export XDG_DATA_HOME=$MONO_PREFIX/share
export XDG_DATA_DIRS=$MONO_PREFIX/share
PATH=$MONO_PREFIX/bin:$PATH

and Monodevelop started with same script one line added:
UBUNTU_MENUPROXY= $MONO_PREFIX/bin/monodevelop -debug 2&gt;&amp;1 | tee monodev.log


Also, without installing hicolor-icon-theme in MONO_PREFIX I get:

WARNING [2011-08-21 04:52:33Z]: Gtk-Warning: Could not find the icon
'gtk-missing-image'. The 'hicolor' theme
was not found either, perhaps you need to install it.
You can get a copy from:
        <A HREF="http://icon-theme.freedesktop.org/releases">http://icon-theme.freedesktop.org/releases</A>

when starting Monodevelop and the same error as above when going to
Designer-mode.
The Ubuntu hicolor package is installed in /usr/share/icons

Best regards


--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Monodevelop-Designer-crash-on-Ubuntu-tp3757951p3757951.html">http://mono.1490590.n4.nabble.com/Monodevelop-Designer-crash-on-Ubuntu-tp3757951p3757951.html</A>
Sent from the Mono - MonoDevelop IDE mailing list archive at Nabble.com.
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013958.html">[MonoDevelop] Problems creating a tarball
</A></li>
	<LI>Next message: <A HREF="013960.html">[MonoDevelop] TextView in a fixed container
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13941">[ date ]</a>
              <a href="thread.html#13941">[ thread ]</a>
              <a href="subject.html#13941">[ subject ]</a>
              <a href="author.html#13941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
