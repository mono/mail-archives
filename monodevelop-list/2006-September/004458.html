<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] New Task List patch - preview
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20New%20Task%20List%20patch%20-%20preview&In-Reply-To=1157484148.12693.51.camel%40portador.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004457.html">
   <LINK REL="Next"  HREF="004463.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] New Task List patch - preview</H1>
    <B>David Makovsk&#253; (Yakeen)</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20New%20Task%20List%20patch%20-%20preview&In-Reply-To=1157484148.12693.51.camel%40portador.site"
       TITLE="[MonoDevelop] New Task List patch - preview">yakeen at sannyas-on.net
       </A><BR>
    <I>Tue Sep  5 15:41:27 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="004457.html">[MonoDevelop] New Task List patch - preview
</A></li>
        <LI>Next message: <A HREF="004463.html">[MonoDevelop] New Task List patch - preview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4458">[ date ]</a>
              <a href="thread.html#4458">[ thread ]</a>
              <a href="subject.html#4458">[ subject ]</a>
              <a href="author.html#4458">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Lluis Sanchez p&#237;&#353;e v &#218;t 05. 09. 2006 v 21:22 +0200:
&gt;<i> El mar, 05-09-2006 a las 21:08 +0200, David Makovsk&#253; (Yakeen) escribi&#243;:
</I>&gt;<i> &gt; Lluis Sanchez p&#237;&#353;e v &#218;t 05. 09. 2006 v 18:01 +0200:
</I>&gt;<i> &gt; &gt; El mi&#233;, 30-08-2006 a las 21:01 +0200, David Makovsk&#253; (Yakeen) escribi&#243;:
</I>&gt;<i> &gt; &gt; &gt; Hi all,
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; after some time I worked again on new Task List implementation, here is
</I>&gt;<i> &gt; &gt; &gt; preview patch. I would appreciate comments on code, gui and
</I>&gt;<i> &gt; &gt; &gt; functionality.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Basic description what is done:
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; There is new Task List option in preferences where you can setup tokens
</I>&gt;<i> &gt; &gt; &gt; for aggregating tasks from comments (eg. //TODO: do something) and
</I>&gt;<i> &gt; &gt; &gt; Choosing colors for priorities highlighting.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Next we have new Task List pad (&quot;old&quot; one is renamed to &quot;Errors List&quot;)
</I>&gt;<i> &gt; &gt; &gt; and this one have an toolbar with combo to switch between &quot;generated&quot;
</I>&gt;<i> &gt; &gt; &gt; tasks and user tasks.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; User Tasks are interactively editable, you can set three values -
</I>&gt;<i> &gt; &gt; &gt; priority, completion, description. Priority causes color highlighting of
</I>&gt;<i> &gt; &gt; &gt; tasks. These tasks are stored in userprefs file of main solution.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Generated tasks are filled when files are parsed (this patch ads support
</I>&gt;<i> &gt; &gt; &gt; for C#, as I know VB has this, other languages are unknown to me, but
</I>&gt;<i> &gt; &gt; &gt; filling ICompilationUnit.TagComments when parsing will do the trick...).
</I>&gt;<i> &gt; &gt; &gt; Collected data are stored in pidb files together with last valid Tokens
</I>&gt;<i> &gt; &gt; &gt; that was used for parsing. Hopefully all situations when you change your
</I>&gt;<i> &gt; &gt; &gt; tokens are handled well, I tried to prevent unnecessary re-parsing, but
</I>&gt;<i> &gt; &gt; &gt; for first time you have to :)
</I>&gt;<i> &gt; &gt; &gt; Generated Tasks have no priority highlighting yet, but it is on my TODO
</I>&gt;<i> &gt; &gt; &gt; for future.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; So let me know what is your experience.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Hi Lluis,
</I>&gt;<i> &gt; firstly thanks for feedback, exactly in directions I expected :) 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; Some comments:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I think it would be better to store user tasks in its own file, instead
</I>&gt;<i> &gt; &gt; of the .userprefs file. This file stores user preferences for the
</I>&gt;<i> &gt; &gt; combine, and tasks are not preferences, but real data.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; When I think about, it has sense. I'll do it this way.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; The decision about whether the a parser db has to be reparsed or not has
</I>&gt;<i> &gt; &gt; to be taken by the db itself, not by the GUI. The code completion
</I>&gt;<i> &gt; &gt; database should take care of monitoring changes in the
</I>&gt;<i> &gt; &gt; &quot;Monodevelop.TaskListTokens&quot; property, and reparse the db when needed.
</I>&gt;<i> &gt; &gt; The methods LastValidTaskListTokens, RemoveSpecialCommentTag and
</I>&gt;<i> &gt; &gt; QueueAllFilesForParse would not be needed in this way.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I thought it would need re-factoring, I had bad feeling about exposing
</I>&gt;<i> &gt; some functionality to world.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; I'm also wondering if we should have a more generic and plugable task
</I>&gt;<i> &gt; &gt; service, so we can integrate other task sources, such as bugzilla or
</I>&gt;<i> &gt; &gt; sourceforge. But I still don't know what would be the best way of
</I>&gt;<i> &gt; &gt; modeling this.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'm also not sure how to do it exactly, I was minding about abstracting
</I>&gt;<i> &gt; view little bit to expose functionality to design and work with data.
</I>&gt;<i> &gt; Then we can have plug-able content views. I'll do some experiments on
</I>&gt;<i> &gt; this.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; Comments on the code:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; DefaultParserService.cs:1093
</I>&gt;<i> &gt; &gt; The call to OnParseInformationChanged should not be necessary since it
</I>&gt;<i> &gt; &gt; is already called by DoParseFile().
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; hmm, sure I see now
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; DefaultParserService.cs:1610
</I>&gt;<i> &gt; &gt; Why update coreDatabase?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; hmm, there is nothing like this around this line, may you specify a
</I>&gt;<i> &gt; function name?
</I>&gt;<i> 
</I>&gt;<i> Sorry, that's DefaultParserService.cs:1610
</I>&gt;<i> 
</I>&gt;<i> @@ -1610,6 +1632,7 @@
</I>&gt;<i>  
</I>&gt;<i>  		protected virtual void
</I>&gt;<i> OnParseInformationChanged(ParseInformationEventArgs e)
</I>&gt;<i>  		{
</I>&gt;<i> +			this.coreDatabase.UpdateTagComments
</I>&gt;<i> ((((ICompilationUnit)e.ParseInformation.ValidCompilationUnit).TagComments), e.FileName);
</I>&gt;<i>  			if (ParseInformationChanged != null) {
</I>&gt;<i>  				ParseInformationChanged(this, e);
</I>&gt;<i>  			}
</I>&gt;<i> 
</I>&gt;<i> Lluis.
</I>&gt;<i> 
</I>
Yeah, that was for updating db after re-parsing, that's nonsense, this
would be done by db itself...

David.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004457.html">[MonoDevelop] New Task List patch - preview
</A></li>
	<LI>Next message: <A HREF="004463.html">[MonoDevelop] New Task List patch - preview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4458">[ date ]</a>
              <a href="thread.html#4458">[ thread ]</a>
              <a href="subject.html#4458">[ subject ]</a>
              <a href="author.html#4458">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
