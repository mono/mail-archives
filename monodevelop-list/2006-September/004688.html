<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] SearchBar patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20SearchBar%20patch&In-Reply-To=455de9380609281059v2d1bf410i8e75ff8b2070fe07%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004687.html">
   <LINK REL="Next"  HREF="004689.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] SearchBar patch</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20SearchBar%20patch&In-Reply-To=455de9380609281059v2d1bf410i8e75ff8b2070fe07%40mail.gmail.com"
       TITLE="[MonoDevelop] SearchBar patch">monoman at gmail.com
       </A><BR>
    <I>Thu Sep 28 17:36:59 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="004687.html">[MonoDevelop] SearchBar patch
</A></li>
        <LI>Next message: <A HREF="004689.html">[MonoDevelop] SearchBar patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4688">[ date ]</a>
              <a href="thread.html#4688">[ thread ]</a>
              <a href="subject.html#4688">[ subject ]</a>
              <a href="author.html#4688">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jacob,

inline

On 9/28/06, Jacob Ils&#248; Christensen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">jacobilsoe at gmail.com</A>&gt; wrote:
&gt;<i> Hi.
</I>&gt;<i>
</I>&gt;<i> On 9/28/06, Rafael Teixeira &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">monoman at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; HI, inline
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 9/26/06, Jacob Ils&#248; Christensen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">jacobilsoe at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; Hi.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; * Each open document has its own search bar. Do we want this?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; I don't think so. Like in FireFox, the search text and options should be
</I>&gt;<i> &gt; &gt; &gt; global, and shouldn't change when you switch documents.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I am not quite sure how to do this. The
</I>&gt;<i> &gt; &gt; MonoDevelop.SourceEditor.Gui.SourceEditorDisplayBinding class is used
</I>&gt;<i> &gt; &gt; as a DisplayBinding for text files. How do I make several instances
</I>&gt;<i> &gt; &gt; share the same SearchBar?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Make the searchbar a global dockable panel that appears/hide when the
</I>&gt;<i> &gt; active DisplayBinding exposes some searching service (implements some
</I>&gt;<i> &gt; interface that does the real search/positioning).
</I>&gt;<i>
</I>&gt;<i> Yes, I also thought about making the DisplayBinding classes implement
</I>&gt;<i> some interface. E.g.:
</I>&gt;<i>
</I>&gt;<i> public interface ISearchable
</I>&gt;<i> {
</I>&gt;<i>   void Find(string stringToFind);
</I>&gt;<i> }
</I>
Probably you need to pass also some 'options' parameter, for things
like case-sensitivity of search, wrap-around, direction, etc...

&gt;<i>
</I>&gt;<i> I am not sure what you mean about positioning.
</I>
I mean scrolling the text to the point where the found text is, this
should be the DisplayBinding responsability.

&gt;<i>One could extend the
</I>&gt;<i> interface with e.g.:
</I>&gt;<i>
</I>&gt;<i> void ShowSearchWidget(Widget searchWidget)
</I>&gt;<i>
</I>&gt;<i> It would then be the responsibility of the DisplayBinding to decide
</I>&gt;<i> where to show the widget.
</I>
No, I would go that way. As I said, I prefer a global dock so that
irrespective of the DisplayBinding, except for implementing
ISearchable, it shows where the user wants it to be shown, defaulting
to above the bottom dock that normally contains the
tasks/results/output/etc... pads. This is the way it works on Firefox,
except that firefox doesn't allow the user to drag it to another dock.

&gt;<i>
</I>&gt;<i> So hitting Ctrl+F would look at the current DisplayBinding. If it
</I>&gt;<i> implements ISearchable. The SearchBar widget will be given as argument
</I>&gt;<i> to ShowSearchWidget. Hitting search in the SearchBar would invoke Find
</I>&gt;<i> on the DisplayBinding.
</I>
Well, I think that maybe the whole 'Find' action (Ctrl-F shortcut
included) should be disabled, if the DisplayBinding doesn't support
ISearchable. So when the action is activated (by any means, including
from the Menu or some toolbar button click) one can just show the dock
and look for the currently active DisplayBinding.

Another issue: My translator displayBinding probably will have to add
some option to  the search bar (a checkbox for whether the search is
limited to the string currently being edited, or along all the strings
in the .po file), so some search bar contextual extension concept also
need to be devised/implemented.

&gt;<i> But what should happen when changing to another DisplayBinding? Should
</I>&gt;<i> the search widget then be removed from the previous DisplayBinding and
</I>&gt;<i> added to the one now active?
</I>
That is why I want to avoid it being in the DisplayBinding itself, but
host in a separate dock panel.

&gt;<i>
</I>&gt;<i> The reason why I would like the DisplayBinding widget to decide where
</I>&gt;<i> the SearchBar should go is that I would like it to appear right at the
</I>&gt;<i> bottom of the source code. Like in e.g. Firefox.
</I>
The user should decide where it wants it, maybe even docked with other
pads. But nothing, AFAIK, prevents it from being docked, by default,
just bellow the center panel where all display bindings appear.

&gt;<i> What do you think?
</I>
I hope I've clarified my vision of it. Sorry I don't have time just
now to prototype the whole thing to present it in a more consistent
state.

Feel free to ask any other details if you need. Also everybody can
toss your thoughts on the subject, they are welcome.

:<i>)
</I>
-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
&quot;The reasonable man adapts himself to the world; the unreasonable one
persists in trying to adapt the world to himself. Therefore all
progress depends on the unreasonable man.&quot; George Bernard Shaw
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004687.html">[MonoDevelop] SearchBar patch
</A></li>
	<LI>Next message: <A HREF="004689.html">[MonoDevelop] SearchBar patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4688">[ date ]</a>
              <a href="thread.html#4688">[ thread ]</a>
              <a href="subject.html#4688">[ subject ]</a>
              <a href="author.html#4688">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
