<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] New Task List patch - preview
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20New%20Task%20List%20patch%20-%20preview&In-Reply-To=1157483293.5401.14.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004456.html">
   <LINK REL="Next"  HREF="004458.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] New Task List patch - preview</H1>
    <B>Lluis Sanchez</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20New%20Task%20List%20patch%20-%20preview&In-Reply-To=1157483293.5401.14.camel%40localhost.localdomain"
       TITLE="[MonoDevelop] New Task List patch - preview">lluis at ximian.com
       </A><BR>
    <I>Tue Sep  5 15:22:28 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="004456.html">[MonoDevelop] New Task List patch - preview
</A></li>
        <LI>Next message: <A HREF="004458.html">[MonoDevelop] New Task List patch - preview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4457">[ date ]</a>
              <a href="thread.html#4457">[ thread ]</a>
              <a href="subject.html#4457">[ subject ]</a>
              <a href="author.html#4457">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>El mar, 05-09-2006 a las 21:08 +0200, David Makovsk&#253; (Yakeen) escribi&#243;:
&gt;<i> Lluis Sanchez p&#237;&#353;e v &#218;t 05. 09. 2006 v 18:01 +0200:
</I>&gt;<i> &gt; El mi&#233;, 30-08-2006 a las 21:01 +0200, David Makovsk&#253; (Yakeen) escribi&#243;:
</I>&gt;<i> &gt; &gt; Hi all,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; after some time I worked again on new Task List implementation, here is
</I>&gt;<i> &gt; &gt; preview patch. I would appreciate comments on code, gui and
</I>&gt;<i> &gt; &gt; functionality.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Basic description what is done:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; There is new Task List option in preferences where you can setup tokens
</I>&gt;<i> &gt; &gt; for aggregating tasks from comments (eg. //TODO: do something) and
</I>&gt;<i> &gt; &gt; Choosing colors for priorities highlighting.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Next we have new Task List pad (&quot;old&quot; one is renamed to &quot;Errors List&quot;)
</I>&gt;<i> &gt; &gt; and this one have an toolbar with combo to switch between &quot;generated&quot;
</I>&gt;<i> &gt; &gt; tasks and user tasks.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; User Tasks are interactively editable, you can set three values -
</I>&gt;<i> &gt; &gt; priority, completion, description. Priority causes color highlighting of
</I>&gt;<i> &gt; &gt; tasks. These tasks are stored in userprefs file of main solution.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Generated tasks are filled when files are parsed (this patch ads support
</I>&gt;<i> &gt; &gt; for C#, as I know VB has this, other languages are unknown to me, but
</I>&gt;<i> &gt; &gt; filling ICompilationUnit.TagComments when parsing will do the trick...).
</I>&gt;<i> &gt; &gt; Collected data are stored in pidb files together with last valid Tokens
</I>&gt;<i> &gt; &gt; that was used for parsing. Hopefully all situations when you change your
</I>&gt;<i> &gt; &gt; tokens are handled well, I tried to prevent unnecessary re-parsing, but
</I>&gt;<i> &gt; &gt; for first time you have to :)
</I>&gt;<i> &gt; &gt; Generated Tasks have no priority highlighting yet, but it is on my TODO
</I>&gt;<i> &gt; &gt; for future.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; So let me know what is your experience.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hi Lluis,
</I>&gt;<i> firstly thanks for feedback, exactly in directions I expected :) 
</I>&gt;<i> 
</I>&gt;<i> &gt; Some comments:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I think it would be better to store user tasks in its own file, instead
</I>&gt;<i> &gt; of the .userprefs file. This file stores user preferences for the
</I>&gt;<i> &gt; combine, and tasks are not preferences, but real data.
</I>&gt;<i> 
</I>&gt;<i> When I think about, it has sense. I'll do it this way.
</I>&gt;<i> 
</I>&gt;<i> &gt; The decision about whether the a parser db has to be reparsed or not has
</I>&gt;<i> &gt; to be taken by the db itself, not by the GUI. The code completion
</I>&gt;<i> &gt; database should take care of monitoring changes in the
</I>&gt;<i> &gt; &quot;Monodevelop.TaskListTokens&quot; property, and reparse the db when needed.
</I>&gt;<i> &gt; The methods LastValidTaskListTokens, RemoveSpecialCommentTag and
</I>&gt;<i> &gt; QueueAllFilesForParse would not be needed in this way.
</I>&gt;<i> 
</I>&gt;<i> I thought it would need re-factoring, I had bad feeling about exposing
</I>&gt;<i> some functionality to world.
</I>&gt;<i> 
</I>&gt;<i> &gt; I'm also wondering if we should have a more generic and plugable task
</I>&gt;<i> &gt; service, so we can integrate other task sources, such as bugzilla or
</I>&gt;<i> &gt; sourceforge. But I still don't know what would be the best way of
</I>&gt;<i> &gt; modeling this.
</I>&gt;<i> 
</I>&gt;<i> I'm also not sure how to do it exactly, I was minding about abstracting
</I>&gt;<i> view little bit to expose functionality to design and work with data.
</I>&gt;<i> Then we can have plug-able content views. I'll do some experiments on
</I>&gt;<i> this.
</I>&gt;<i> 
</I>&gt;<i> &gt; Comments on the code:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; DefaultParserService.cs:1093
</I>&gt;<i> &gt; The call to OnParseInformationChanged should not be necessary since it
</I>&gt;<i> &gt; is already called by DoParseFile().
</I>&gt;<i> 
</I>&gt;<i> hmm, sure I see now
</I>&gt;<i> 
</I>&gt;<i> &gt; DefaultParserService.cs:1610
</I>&gt;<i> &gt; Why update coreDatabase?
</I>&gt;<i> 
</I>&gt;<i> hmm, there is nothing like this around this line, may you specify a
</I>&gt;<i> function name?
</I>
Sorry, that's DefaultParserService.cs:1610

@@ -1610,6 +1632,7 @@
 
 		protected virtual void
OnParseInformationChanged(ParseInformationEventArgs e)
 		{
+			this.coreDatabase.UpdateTagComments
((((ICompilationUnit)e.ParseInformation.ValidCompilationUnit).TagComments), e.FileName);
 			if (ParseInformationChanged != null) {
 				ParseInformationChanged(this, e);
 			}

Lluis.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004456.html">[MonoDevelop] New Task List patch - preview
</A></li>
	<LI>Next message: <A HREF="004458.html">[MonoDevelop] New Task List patch - preview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4457">[ date ]</a>
              <a href="thread.html#4457">[ thread ]</a>
              <a href="subject.html#4457">[ subject ]</a>
              <a href="author.html#4457">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
