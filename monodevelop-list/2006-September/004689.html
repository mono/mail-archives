<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] SearchBar patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20SearchBar%20patch&In-Reply-To=dd99b8c80609281436w2d990e47scf534a2eef18dc0d%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004688.html">
   <LINK REL="Next"  HREF="004673.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] SearchBar patch</H1>
    <B>Jacob Ils&#248; Christensen</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20SearchBar%20patch&In-Reply-To=dd99b8c80609281436w2d990e47scf534a2eef18dc0d%40mail.gmail.com"
       TITLE="[MonoDevelop] SearchBar patch">jacobilsoe at gmail.com
       </A><BR>
    <I>Fri Sep 29 10:44:41 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="004688.html">[MonoDevelop] SearchBar patch
</A></li>
        <LI>Next message: <A HREF="004673.html">[MonoDevelop] Unix Transport Error on Startup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4689">[ date ]</a>
              <a href="thread.html#4689">[ thread ]</a>
              <a href="subject.html#4689">[ subject ]</a>
              <a href="author.html#4689">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rafael.

Inline.

On 9/28/06, Rafael Teixeira &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">monoman at gmail.com</A>&gt; wrote:
&gt;<i> Hi Jacob,
</I>&gt;<i>
</I>&gt;<i> inline
</I>&gt;<i>
</I>&gt;<i> On 9/28/06, Jacob Ils&#248; Christensen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">jacobilsoe at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Hi.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 9/28/06, Rafael Teixeira &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">monoman at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; HI, inline
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On 9/26/06, Jacob Ils&#248; Christensen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">jacobilsoe at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; Hi.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; * Each open document has its own search bar. Do we want this?
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; I don't think so. Like in FireFox, the search text and options should be
</I>&gt;<i> &gt; &gt; &gt; &gt; global, and shouldn't change when you switch documents.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; I am not quite sure how to do this. The
</I>&gt;<i> &gt; &gt; &gt; MonoDevelop.SourceEditor.Gui.SourceEditorDisplayBinding class is used
</I>&gt;<i> &gt; &gt; &gt; as a DisplayBinding for text files. How do I make several instances
</I>&gt;<i> &gt; &gt; &gt; share the same SearchBar?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Make the searchbar a global dockable panel that appears/hide when the
</I>&gt;<i> &gt; &gt; active DisplayBinding exposes some searching service (implements some
</I>&gt;<i> &gt; &gt; interface that does the real search/positioning).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yes, I also thought about making the DisplayBinding classes implement
</I>&gt;<i> &gt; some interface. E.g.:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; public interface ISearchable
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;   void Find(string stringToFind);
</I>&gt;<i> &gt; }
</I>&gt;<i>
</I>&gt;<i> Probably you need to pass also some 'options' parameter, for things
</I>&gt;<i> like case-sensitivity of search, wrap-around, direction, etc...
</I>
Yes, those options will need to be passed as well. The example above
was just a simple first case.

&gt;<i> &gt;
</I>&gt;<i> &gt; I am not sure what you mean about positioning.
</I>&gt;<i>
</I>&gt;<i> I mean scrolling the text to the point where the found text is, this
</I>&gt;<i> should be the DisplayBinding responsability.
</I>
Yes, that would be the responsibility of the DisplayBinding.

&gt;<i> &gt;One could extend the
</I>&gt;<i> &gt; interface with e.g.:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; void ShowSearchWidget(Widget searchWidget)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It would then be the responsibility of the DisplayBinding to decide
</I>&gt;<i> &gt; where to show the widget.
</I>&gt;<i>
</I>&gt;<i> No, I would go that way. As I said, I prefer a global dock so that
</I>&gt;<i> irrespective of the DisplayBinding, except for implementing
</I>&gt;<i> ISearchable, it shows where the user wants it to be shown, defaulting
</I>&gt;<i> to above the bottom dock that normally contains the
</I>&gt;<i> tasks/results/output/etc... pads. This is the way it works on Firefox,
</I>&gt;<i> except that firefox doesn't allow the user to drag it to another dock.
</I>
Yes, the other way around is the best way to do it. I just did not
know how to make it appear just below the active DisplayBinding. How
do I best make it appear right below the Gtk.Notebook which holds the
DisplayBindings? I mean, what class represents that Gtk.Notebook?

&gt;<i> &gt;
</I>&gt;<i> &gt; So hitting Ctrl+F would look at the current DisplayBinding. If it
</I>&gt;<i> &gt; implements ISearchable. The SearchBar widget will be given as argument
</I>&gt;<i> &gt; to ShowSearchWidget. Hitting search in the SearchBar would invoke Find
</I>&gt;<i> &gt; on the DisplayBinding.
</I>&gt;<i>
</I>&gt;<i> Well, I think that maybe the whole 'Find' action (Ctrl-F shortcut
</I>&gt;<i> included) should be disabled, if the DisplayBinding doesn't support
</I>&gt;<i> ISearchable. So when the action is activated (by any means, including
</I>&gt;<i> from the Menu or some toolbar button click) one can just show the dock
</I>&gt;<i> and look for the currently active DisplayBinding.
</I>
I agree. Ctrl+F (including menu item etc.) should do nothing if the
active DisplayBinding does not implement ISearchable.

&gt;<i> Another issue: My translator displayBinding probably will have to add
</I>&gt;<i> some option to  the search bar (a checkbox for whether the search is
</I>&gt;<i> limited to the string currently being edited, or along all the strings
</I>&gt;<i> in the .po file), so some search bar contextual extension concept also
</I>&gt;<i> need to be devised/implemented.
</I>
That probably won't be included in the first version. :-) But I will
keep it in mind.

&gt;<i> &gt; But what should happen when changing to another DisplayBinding? Should
</I>&gt;<i> &gt; the search widget then be removed from the previous DisplayBinding and
</I>&gt;<i> &gt; added to the one now active?
</I>&gt;<i>
</I>&gt;<i> That is why I want to avoid it being in the DisplayBinding itself, but
</I>&gt;<i> host in a separate dock panel.
</I>
I agree. :-)

&gt;<i> &gt;
</I>&gt;<i> &gt; The reason why I would like the DisplayBinding widget to decide where
</I>&gt;<i> &gt; the SearchBar should go is that I would like it to appear right at the
</I>&gt;<i> &gt; bottom of the source code. Like in e.g. Firefox.
</I>&gt;<i>
</I>&gt;<i> The user should decide where it wants it, maybe even docked with other
</I>&gt;<i> pads. But nothing, AFAIK, prevents it from being docked, by default,
</I>&gt;<i> just bellow the center panel where all display bindings appear.
</I>&gt;<i>
</I>&gt;<i> &gt; What do you think?
</I>&gt;<i>
</I>&gt;<i> I hope I've clarified my vision of it.
</I>
You have indeed.

&gt;<i> Sorry I don't have time just
</I>&gt;<i> now to prototype the whole thing to present it in a more consistent
</I>&gt;<i> state.
</I>
That's perfectly ok. I really appreciate your input. Thanks!

&gt;<i> Feel free to ask any other details if you need.
</I>
Look above. :-)

/Jacob

&gt;<i> Also everybody can
</I>&gt;<i> toss your thoughts on the subject, they are welcome.
</I>&gt;<i>
</I>&gt;<i> :)
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Rafael &quot;Monoman&quot; Teixeira
</I>&gt;<i> ---------------------------------------
</I>&gt;<i> &quot;The reasonable man adapts himself to the world; the unreasonable one
</I>&gt;<i> persists in trying to adapt the world to himself. Therefore all
</I>&gt;<i> progress depends on the unreasonable man.&quot; George Bernard Shaw
</I>&gt;<i>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004688.html">[MonoDevelop] SearchBar patch
</A></li>
	<LI>Next message: <A HREF="004673.html">[MonoDevelop] Unix Transport Error on Startup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4689">[ date ]</a>
              <a href="thread.html#4689">[ thread ]</a>
              <a href="subject.html#4689">[ subject ]</a>
              <a href="author.html#4689">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
