<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Some changes to ambiences
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Some%20changes%20to%20ambiences&In-Reply-To=1227865049.4324.6.camel%40dalaran.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008580.html">
   <LINK REL="Next"  HREF="008588.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Some changes to ambiences</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Some%20changes%20to%20ambiences&In-Reply-To=1227865049.4324.6.camel%40dalaran.site"
       TITLE="[MonoDevelop] Some changes to ambiences">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Fri Nov 28 13:39:35 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008580.html">[MonoDevelop] Some changes to ambiences
</A></li>
        <LI>Next message: <A HREF="008588.html">[MonoDevelop] Some changes to ambiences
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8587">[ date ]</a>
              <a href="thread.html#8587">[ thread ]</a>
              <a href="subject.html#8587">[ subject ]</a>
              <a href="author.html#8587">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Nov 28, 2008 at 4:37 AM, Mike Kr&#252;ger &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">mkrueger at novell.com</A>&gt; wrote:
&gt;<i> Hi
</I>&gt;<i>
</I>&gt;&gt;<i> How about:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> public abstract string GetString (IDomVisitable domVisitable,
</I>&gt;&gt;<i> OutputSettings settings);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> public string GetString (IDomVisitable domVisitable, OutputFlags flags)
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i>     return GetString (domVisitable, new OutputSettings (flags));
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It's more complicated to use than just the 'object' version for the
</I>&gt;<i> ambience implementor. The ambience implementor uses a visitor pattern
</I>&gt;<i> and gets the flags/settings object as object parameter. It's easier to
</I>&gt;<i> use in this case.
</I>
How's at any harder? There's a single override to implement, and they
know that the argument is an OutputSettings object so they don't have
to do type checks. The OutputSettings object could even have
convenience properties for accessing the flags, e.g.
bool UseMarkup { get { return flags &amp; OutputFlags.UseMarkup != 0; } }
The outputsettings object could handle the null checks on the
postprocessing delegates too, e.g.

public virtual string PostProcess (IDomVisitable domVisitable, string str)
{
    if (PostProcessHandler != null)
        return PostProcessHandler (domVisitable, str);
    else
        return str;
}


-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008580.html">[MonoDevelop] Some changes to ambiences
</A></li>
	<LI>Next message: <A HREF="008588.html">[MonoDevelop] Some changes to ambiences
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8587">[ date ]</a>
              <a href="thread.html#8587">[ thread ]</a>
              <a href="subject.html#8587">[ subject ]</a>
              <a href="author.html#8587">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
