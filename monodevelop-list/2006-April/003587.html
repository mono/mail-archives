<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Stetic add-in and treeview widget event question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Stetic%20add-in%20and%20treeview%20widget%20event%20question&In-Reply-To=443820BE.6020405%40gruwier.dk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003586.html">
   <LINK REL="Next"  HREF="003588.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Stetic add-in and treeview widget event question</H1>
    <B>Paddy Joy</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Stetic%20add-in%20and%20treeview%20widget%20event%20question&In-Reply-To=443820BE.6020405%40gruwier.dk"
       TITLE="[MonoDevelop] Stetic add-in and treeview widget event question">mono at paddyjoy.com
       </A><BR>
    <I>Sat Apr  8 21:50:28 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003586.html">[MonoDevelop] WIndows forms Solution
</A></li>
        <LI>Next message: <A HREF="003588.html">[MonoDevelop] Stetic add-in and treeview widget event question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3587">[ date ]</a>
              <a href="thread.html#3587">[ thread ]</a>
              <a href="subject.html#3587">[ subject ]</a>
              <a href="author.html#3587">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have recently started playing with the new monodevelop stetic add-in, 
I'm very impressed, well done everyone!

Just as a simple test what I am trying to do is add a treeview to my 
main window and then when a user clicks on a treeview item I want to 
take an action. So far my event handlers work ok for the KeyReleaseEvent 
but don't work for the ButtonPressEvent. These are the exact steps I'm 
doing in monodevelop:

1.      Create new gtk# project
2.      Double click to open MainWindow in gui editor
3.      Add treeview to main window
4.      Click on signals tab
5.      Under Common Widget Signals double click on KeyReleaseEvent to 
add event handler
6.      Under Common Widget Signals double click on ButtonPressEvent to 
add event handler
7.      Click on source tab to see code for MainWindow.cs
8.      Add Console.WriteLine()'s to both handlers
9.      Add some code to populate the treeview

        TreeView                treeview1;
:<i>
</I>:<i>
</I>:<i>
</I>:<i>
</I>
        Gtk.ListStore musicListStore = new Gtk.ListStore (typeof 
(Gdk.Pixbuf),
                        typeof (string),  typeof (string));

                treeview1.AppendColumn (&quot;Icon&quot;, new 
Gtk.CellRendererPixbuf (), &quot;pixbuf&quot;, 0);
                treeview1.AppendColumn (&quot;Artist&quot;, new 
Gtk.CellRendererText (), &quot;text&quot;, 1);
                treeview1.AppendColumn (&quot;Title&quot;, new 
Gtk.CellRendererText (), &quot;text&quot;, 2);

                musicListStore.AppendValues (new Gdk.Pixbuf 
(&quot;TreeViewRupertIcon.png&quot;),
                        &quot;Rupert&quot;, &quot;Yellow bananas&quot;);

                treeview1.Model = musicListStore;

10.     Compile and run project
11.     Click on treeview item then press a key, text writen to console 
as expected
12.     Click on item, no text writen to console

It seems like my ButtonPressEvent handler is never being called. Am I 
doing something wrong here? I have attached some relevant code.

Thanks,
Paddy

-------------- next part --------------
A non-text attachment was scrubbed...
Name: MainWindow.cs
Type: text/x-csharp
Size: 4545 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/monodevelop-list/attachments/20060409/4cd625f9/MainWindow.bin">http://lists.ximian.com/pipermail/monodevelop-list/attachments/20060409/4cd625f9/MainWindow.bin</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: generated.cs
Type: text/x-csharp
Size: 6663 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/monodevelop-list/attachments/20060409/4cd625f9/generated.bin">http://lists.ximian.com/pipermail/monodevelop-list/attachments/20060409/4cd625f9/generated.bin</A>
-------------- next part --------------
&#239;&#187;&#191;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;stetic-interface&gt;
  &lt;widget class=&quot;Gtk.Window&quot; id=&quot;MainWindow&quot; design-size=&quot;400 300&quot;&gt;
    &lt;property name=&quot;Title&quot; translatable=&quot;yes&quot;&gt;My eBay Selling&lt;/property&gt;
    &lt;property name=&quot;WindowPosition&quot;&gt;CenterOnParent&lt;/property&gt;
    &lt;property name=&quot;Visible&quot;&gt;True&lt;/property&gt;
    &lt;property name=&quot;Events&quot;&gt;0&lt;/property&gt;
    &lt;signal name=&quot;DeleteEvent&quot; handler=&quot;OnDeleteEvent&quot; /&gt;
    &lt;child&gt;
      &lt;widget class=&quot;Gtk.VBox&quot; id=&quot;vbox1&quot;&gt;
        &lt;property name=&quot;Visible&quot;&gt;True&lt;/property&gt;
        &lt;property name=&quot;Events&quot;&gt;0&lt;/property&gt;
        &lt;child&gt;
          &lt;widget class=&quot;Gtk.HBox&quot; id=&quot;hbox1&quot;&gt;
            &lt;property name=&quot;Visible&quot;&gt;True&lt;/property&gt;
            &lt;property name=&quot;Events&quot;&gt;0&lt;/property&gt;
            &lt;child&gt;
              &lt;widget class=&quot;Gtk.Button&quot; id=&quot;button1&quot;&gt;
                &lt;property name=&quot;Type&quot;&gt;TextOnly&lt;/property&gt;
                &lt;property name=&quot;Label&quot; translatable=&quot;yes&quot;&gt;button1&lt;/property&gt;
                &lt;property name=&quot;IsDialogButton&quot;&gt;False&lt;/property&gt;
                &lt;property name=&quot;Visible&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;CanFocus&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;Events&quot;&gt;0&lt;/property&gt;
                &lt;signal name=&quot;Clicked&quot; handler=&quot;OnButton1Clicked&quot; /&gt;
              &lt;/widget&gt;
              &lt;packing&gt;
                &lt;property name=&quot;AutoSize&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;Expand&quot;&gt;False&lt;/property&gt;
                &lt;property name=&quot;Fill&quot;&gt;False&lt;/property&gt;
              &lt;/packing&gt;
            &lt;/child&gt;
            &lt;child&gt;
              &lt;widget class=&quot;Gtk.Button&quot; id=&quot;button2&quot;&gt;
                &lt;property name=&quot;Type&quot;&gt;TextOnly&lt;/property&gt;
                &lt;property name=&quot;Label&quot; translatable=&quot;yes&quot;&gt;button2&lt;/property&gt;
                &lt;property name=&quot;IsDialogButton&quot;&gt;False&lt;/property&gt;
                &lt;property name=&quot;Visible&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;CanFocus&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;Events&quot;&gt;0&lt;/property&gt;
                &lt;signal name=&quot;Clicked&quot; handler=&quot;OnButton2Clicked&quot; /&gt;
              &lt;/widget&gt;
              &lt;packing&gt;
                &lt;property name=&quot;Position&quot;&gt;1&lt;/property&gt;
                &lt;property name=&quot;AutoSize&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;Expand&quot;&gt;False&lt;/property&gt;
                &lt;property name=&quot;Fill&quot;&gt;False&lt;/property&gt;
              &lt;/packing&gt;
            &lt;/child&gt;
            &lt;child&gt;
              &lt;widget class=&quot;Gtk.Button&quot; id=&quot;button3&quot;&gt;
                &lt;property name=&quot;Type&quot;&gt;TextOnly&lt;/property&gt;
                &lt;property name=&quot;Label&quot; translatable=&quot;yes&quot;&gt;button3&lt;/property&gt;
                &lt;property name=&quot;IsDialogButton&quot;&gt;False&lt;/property&gt;
                &lt;property name=&quot;Visible&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;CanFocus&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;Events&quot;&gt;0&lt;/property&gt;
                &lt;signal name=&quot;Clicked&quot; handler=&quot;OnButton3Clicked&quot; /&gt;
              &lt;/widget&gt;
              &lt;packing&gt;
                &lt;property name=&quot;Position&quot;&gt;2&lt;/property&gt;
                &lt;property name=&quot;AutoSize&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;Expand&quot;&gt;False&lt;/property&gt;
                &lt;property name=&quot;Fill&quot;&gt;False&lt;/property&gt;
              &lt;/packing&gt;
            &lt;/child&gt;
          &lt;/widget&gt;
          &lt;packing&gt;
            &lt;property name=&quot;AutoSize&quot;&gt;True&lt;/property&gt;
            &lt;property name=&quot;Expand&quot;&gt;False&lt;/property&gt;
            &lt;property name=&quot;Fill&quot;&gt;False&lt;/property&gt;
          &lt;/packing&gt;
        &lt;/child&gt;
        &lt;child&gt;
          &lt;widget class=&quot;Gtk.Label&quot; id=&quot;label1&quot;&gt;
            &lt;property name=&quot;LabelProp&quot; translatable=&quot;yes&quot;&gt;label1&lt;/property&gt;
            &lt;property name=&quot;Visible&quot;&gt;True&lt;/property&gt;
            &lt;property name=&quot;Events&quot;&gt;0&lt;/property&gt;
          &lt;/widget&gt;
          &lt;packing&gt;
            &lt;property name=&quot;Position&quot;&gt;1&lt;/property&gt;
            &lt;property name=&quot;AutoSize&quot;&gt;True&lt;/property&gt;
            &lt;property name=&quot;Expand&quot;&gt;False&lt;/property&gt;
            &lt;property name=&quot;Fill&quot;&gt;False&lt;/property&gt;
          &lt;/packing&gt;
        &lt;/child&gt;
        &lt;child&gt;
          &lt;widget class=&quot;Gtk.ScrolledWindow&quot; id=&quot;scrolledwindow2&quot;&gt;
            &lt;property name=&quot;VscrollbarPolicy&quot;&gt;Automatic&lt;/property&gt;
            &lt;property name=&quot;HscrollbarPolicy&quot;&gt;Automatic&lt;/property&gt;
            &lt;property name=&quot;Visible&quot;&gt;True&lt;/property&gt;
            &lt;property name=&quot;CanFocus&quot;&gt;True&lt;/property&gt;
            &lt;property name=&quot;Events&quot;&gt;0&lt;/property&gt;
            &lt;child&gt;
              &lt;widget class=&quot;Gtk.TreeView&quot; id=&quot;treeview&quot;&gt;
                &lt;property name=&quot;Visible&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;CanFocus&quot;&gt;True&lt;/property&gt;
                &lt;property name=&quot;Events&quot;&gt;ButtonPressMask&lt;/property&gt;
                &lt;signal name=&quot;RowActivated&quot; handler=&quot;OnTreeviewRowActivated&quot; /&gt;
                &lt;signal name=&quot;ButtonPressEvent&quot; handler=&quot;OnTreeviewButtonPressEvent&quot; after=&quot;yes&quot; /&gt;
                &lt;signal name=&quot;KeyPressEvent&quot; handler=&quot;OnTreeviewKeyPressEvent&quot; after=&quot;yes&quot; /&gt;
              &lt;/widget&gt;
            &lt;/child&gt;
          &lt;/widget&gt;
          &lt;packing&gt;
            &lt;property name=&quot;Position&quot;&gt;2&lt;/property&gt;
            &lt;property name=&quot;AutoSize&quot;&gt;True&lt;/property&gt;
          &lt;/packing&gt;
        &lt;/child&gt;
      &lt;/widget&gt;
    &lt;/child&gt;
  &lt;/widget&gt;
&lt;/stetic-interface&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003586.html">[MonoDevelop] WIndows forms Solution
</A></li>
	<LI>Next message: <A HREF="003588.html">[MonoDevelop] Stetic add-in and treeview widget event question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3587">[ date ]</a>
              <a href="thread.html#3587">[ thread ]</a>
              <a href="subject.html#3587">[ subject ]</a>
              <a href="author.html#3587">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
