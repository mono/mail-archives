<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Lucene-based full-text search
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Lucene-based%20full-text%20search&In-Reply-To=AANLkTikiGpKsC%3DW62qAw26K6L6GEjPOXuAxAM1vdQtg4%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012778.html">
   <LINK REL="Next"  HREF="012812.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Lucene-based full-text search</H1>
    <B>Sergey Lobko-Lobanovsky</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Lucene-based%20full-text%20search&In-Reply-To=AANLkTikiGpKsC%3DW62qAw26K6L6GEjPOXuAxAM1vdQtg4%40mail.gmail.com"
       TITLE="[MonoDevelop] Lucene-based full-text search">serge.lobanovsky at gmail.com
       </A><BR>
    <I>Thu Oct 14 15:46:31 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="012778.html">[MonoDevelop] Lucene-based full-text search
</A></li>
        <LI>Next message: <A HREF="012812.html">[MonoDevelop] Lucene-based full-text search
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12799">[ date ]</a>
              <a href="thread.html#12799">[ thread ]</a>
              <a href="subject.html#12799">[ subject ]</a>
              <a href="author.html#12799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK folks, I have some progress to report. I was able to get the latest
Lucene.Net source tar.gz, build it, and do some prototyping to clarify my
vision of how it may fit into MD. Here's my stream of consciousness on the
topic:

1. The easiest part is to search on everything except for the source code.
Lucene has a notion of Document that can contains Fields. As the index is
constructed, the content inside Fields can be queried. Fields can either
contain tokenized content from sources, or can just provide an index.
Basically integrating Lucene into MD will mean writing Document classes for
all items that should be searchable throughout the IDE, and constructing
mutable (project source files) and immutable (IDE commands, for example)
indices . The search mechanism itself is pretty simple, and can be
integrated quite easily.

2. However, when it comes to searching the source code a dilemma arises. On
the one hand, there is the AST tree in MD which is used for all operations
including usage search, etc. On the other hand, if Lucene is integrated into
the product, it naturally (at least in my opinion) should become the central
search service, to be used by other subsystems, such as refactoring, usage
search, etc.

3. Probably the AST tree should become the part of the Lucene project index,
but I am not quite sure whether that is needed, and if so - exactly how it
should be done.

I'd like to solicit the others' opinion on how to go about integrating
Lucene in the most efficient and desired way,

Cheers,
Sergey

On Tue, Oct 12, 2010 at 1:10 AM, Michael Hutchinson &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">m.j.hutchinson at gmail.com</A>&gt; wrote:

&gt;<i> Hi Sergey,
</I>&gt;<i>
</I>&gt;<i> On Mon, Oct 11, 2010 at 5:34 PM, Sergey Lobko-Lobanovsky
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">sergey at bitfold.net</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; I can't think of anything offhand, it was just an idea that had been
</I>&gt;<i> &gt;&gt; thrown around (&quot;wouldn't it be awesome if searches were instant?&quot;).
</I>&gt;<i> &gt;&gt; Other ideas in the same area would be
</I>&gt;<i> &gt;&gt; * indexing all references to make &quot;find references&quot; instant - though
</I>&gt;<i> &gt;&gt; maybe thsi could be done in pidb files rather than lucene
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Been thinking of that, too. Great minds think alike, lol
</I>&gt;<i> &gt; In my previous experience I had been a total VS.NET fan, until recently
</I>&gt;<i> when
</I>&gt;<i> &gt; I picked up ActionScript, Java/Scala and the IntelliJ IDEA IDE.
</I>&gt;<i> &gt; IDEA rocks, enough said :) So I am going to use it as the source of
</I>&gt;<i> ideas.
</I>&gt;<i> &gt;  And it totally looks like the fulltext index + probably some AST parsing
</I>&gt;<i> &gt; are the cornerstone for most productivity tools. That's why I decided to
</I>&gt;<i> &gt; start with the Lucene integration task.
</I>&gt;<i>
</I>&gt;<i> That makes sense. I'm sure Mike Krueger could give some input on that
</I>&gt;<i> area. We do a get a lot of people asking for Resharper (also made by
</I>&gt;<i> JetBrains) features for MD.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; * some kind of global search (project, files, panels, docs, commands)
</I>&gt;<i> &gt;&gt; like QT Creator and VS Productivity Tools
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; (
</I>&gt;<i> <A HREF="http://blogs.msdn.com/b/visualstudio/archive/2010/08/03/quick-access-extension.aspx">http://blogs.msdn.com/b/visualstudio/archive/2010/08/03/quick-access-extension.aspx</A>
</I>&gt;<i> )
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Will need to take a look.
</I>&gt;<i>
</I>&gt;<i> VS productivity tools and power tools addin have a bunch of neat
</I>&gt;<i> ideas. I particularly like the Solution Navigator pad.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; - lucene would totally make sense for this, especially as MonoDoc docs
</I>&gt;<i> &gt;&gt; already have NLucene indexes
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I'd love to hear any more ideas you have for improving usability and
</I>&gt;<i> &gt;&gt; productivity!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The very basic ideas I have found very useful are:
</I>&gt;<i> &gt; 1) Quick open (Ctrl-Shift-N in IDEA), where you start typing either the
</I>&gt;<i> &gt; capital letters or the full name of the file you wanna find, and it gives
</I>&gt;<i> &gt; you a live list of files to jump to.
</I>&gt;<i>
</I>&gt;<i> We've had this for ages - &quot;Go to File&quot; (Alt-Shift-O) and &quot;Go to Type&quot;
</I>&gt;<i> (Control-Shift-T) - and in MD 2.4 we added &quot;Navigate To...&quot;
</I>&gt;<i> (control-,) which behaves like VS2010, i.e. essentially go to any
</I>&gt;<i> file/type/member :)
</I>&gt;<i>
</I>&gt;<i> &gt; 2) IDEA-style of the Find all references feature - as opposed to a flat
</I>&gt;<i> list
</I>&gt;<i> &gt; similar to VS.NET/MD, it gives you a hierarchical list grouped by usage
</I>&gt;<i> type
</I>&gt;<i> &gt; and source file
</I>&gt;<i>
</I>&gt;<i> That would be nice.
</I>&gt;<i>
</I>&gt;<i> &gt; 3) Then I'd love to introduce the smart tags feature - MD lacks it and
</I>&gt;<i> it's
</I>&gt;<i> &gt; a pain to manually include all the namespaces you need :), but that's a
</I>&gt;<i> &gt; longer term shot.
</I>&gt;<i>
</I>&gt;<i> Yup, definitely. The hard problem's not the UI though so much as the
</I>&gt;<i> background analysis and suggestions engine. I started on some
</I>&gt;<i> background analysis stuff a few months ago -
</I>&gt;<i> <A HREF="http://twitter.com/mjhutchinson/status/19875030462">http://twitter.com/mjhutchinson/status/19875030462</A> - but I never got
</I>&gt;<i> around to integrating MD's type resolver and implementing more complex
</I>&gt;<i> analyses. Another related idea could be to attach quick fixes to
</I>&gt;<i> compiler errors.
</I>&gt;<i>
</I>&gt;<i> &gt; In case you need some testing from me, my setup is:
</I>&gt;<i> &gt; Ubuntu 10.04 on a 4GB 2-core HP ProBook 4710s
</I>&gt;<i> &gt; MonoDevelop from the trunk (not sure how this is called in the Git terms,
</I>&gt;<i> I
</I>&gt;<i> &gt; don't have previous Git experience so learning something new here as well
</I>&gt;<i> :)
</I>&gt;<i>
</I>&gt;<i> The main git branch is called &quot;master&quot;.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Michael Hutchinson
</I>&gt;<i> <A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodevelop-list/attachments/20101014/7d94b0b1/attachment-0001.html">http://lists.ximian.com/pipermail/monodevelop-list/attachments/20101014/7d94b0b1/attachment-0001.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012778.html">[MonoDevelop] Lucene-based full-text search
</A></li>
	<LI>Next message: <A HREF="012812.html">[MonoDevelop] Lucene-based full-text search
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12799">[ date ]</a>
              <a href="thread.html#12799">[ thread ]</a>
              <a href="subject.html#12799">[ subject ]</a>
              <a href="author.html#12799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
