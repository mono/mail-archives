<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Crash in file access / project creation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mcs_mono%40savigear.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001923.html">
   <LINK REL="Next"  HREF="001931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Crash in file access / project creation
   </H1>
    <B>Matt Savigear
    </B> 
    <A HREF="mailto:mcs_mono%40savigear.com"
       TITLE="[MonoDevelop] Crash in file access / project creation">mcs_mono@savigear.com
       </A><BR>
    <I>Sat, 16 Apr 2005 13:29:59 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="001923.html">[MonoDevelop] plug-ins
</A></li>
        <LI> Next message: <A HREF="001931.html">[MonoDevelop] Mail Delivery (failure monodevelop-list@lists.ximian.com)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1924">[ date ]</a>
              <a href="thread.html#1924">[ thread ]</a>
              <a href="subject.html#1924">[ subject ]</a>
              <a href="author.html#1924">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Folks,

(Imagine tale of woe about finding a cross platform GUI IDE here).

I have monodevelop 0.6 running on mono 1.1.6-r1 with GTK# and Glade# (distro
is Gentoo, but I should point out I'm using very conservative compile flags).
It fires up fine except for a &quot;socket already in use&quot; warning and seems to be
OK until I try to create a new solution (I have tried a glade# one and a
vanilla console one). When I hit the &quot;New&quot; button after entering the project
info, monodevelop freezes. No errors or warnings. Here are the outputs of two
successive attempts:

-----------------------------------------------------------------------------
<A HREF="mailto:matt@yogsothoth">matt@yogsothoth</A> ~ $ monodevelop
Entering VB.NET parser
Deleted
/home/matt/.config/MonoDevelop/CodeCompletionData/mscorlib_1.0.5000.0_b77a5c5
61934e089.pidb Creating DefaultWorkbench
Socket already in use
*** Parsing assembly: mscorlib.dll
Writing
/home/matt/.config/MonoDevelop/CodeCompletionData/mscorlib_1.0.5000.0_b77a5c5
61934e089.pidb Reading
/home/matt/.config/MonoDevelop/CodeCompletionData/mscorlib_1.0.5000.0_b77a5c5
61934e089.pidb

-----------------------------------------------------------------------------
<A HREF="mailto:matt@yogsothoth">matt@yogsothoth</A> ~ $ monodevelop
Entering VB.NET parser
Reading
/home/matt/.config/MonoDevelop/CodeCompletionData/mscorlib_1.0.5000.0_b77a5c5
61934e089.pidb Creating DefaultWorkbench
Socket already in use
Templates: can't load user defaults, reading system defaults
-----------------------------------------------------------------------------

I did the upgrade from 0.5 and 1.0.6 because the old verson crashed (with
considerably more debug information at the same point. In case it's useful,
here's a transcript of the earlier crash:

-----------------------------------------------------------------------------
<A HREF="mailto:matt@yogsothoth">matt@yogsothoth</A> ~ $ monodevelop
Reading
/home/matt/.config/MonoDevelop/CodeCompletionData/mscorlib_1.0.5000.0_b77a5c5
61934e089.pidb Creating DefaultWorkbench
Socket already in use
combine or combine.Entries == null
combine or combine.Entries == null
Error while saving as : System.IO.IOException: Win32 IO returned
ERROR_LOCK_VIOLATION. Path: /home/matt/data/RPG/Infinity
Project/Development/test.prjx in &lt;0x000bb&gt; System.IO.FileStream:FlushBuffer ()
in &lt;0x0004f&gt; (wrapper remoting-invoke-with-check)
System.IO.FileStream:FlushBuffer () in &lt;0x00043&gt; System.IO.FileStream:Flush ()
in &lt;0x00061&gt; System.IO.StreamWriter:Flush ()
in &lt;0x00025&gt; System.IO.StreamWriter:Dispose (bool)
in &lt;0x00017&gt; System.IO.StreamWriter:Close ()
in &lt;0x0001d&gt; System.Xml.XmlTextWriter:Close ()
in &lt;0x00095&gt; System.Xml.XmlDocument:Save (string)
in &lt;0x0005d&gt; (wrapper delegate-invoke)
System.MulticastDelegate:invoke_void_string (string) in &lt;0x0001f&gt;
MonoDevelop.Core.Services.FileUtilityService:ObservedSave
(MonoDevelop.Core.Services.NamedFileOperationDelegate,string,string,MonoDevel
op.Core.Services.FileErrorPolicy)

Unhandled Exception: System.IO.IOException: Win32 IO returned
ERROR_SHARING_VIOLATION. Path: /home/matt/data/RPG/Infinity
Project/Development/test.prjx in &lt;0x0047d&gt; System.IO.FileStream:.ctor
(string,System.IO.FileMode,System.IO.FileAccess,System.IO.FileShare,int,bool)
in &lt;0x00020&gt; System.IO.FileStream:.ctor
(string,System.IO.FileMode,System.IO.FileAccess,System.IO.FileShare) in
&lt;0x00081&gt; (wrapper remoting-invoke-with-check) System.IO.FileStream:.ctor
(string,System.IO.FileMode,System.IO.FileAccess,System.IO.FileShare) in
&lt;0x0014b&gt; System.Xml.XmlUrlResolver:GetEntity (System.Uri,string,System.Type)
in &lt;0x00119&gt; System.Xml.XmlTextReader:.ctor (string,System.Xml.XmlNameTable)
in &lt;0x00037&gt; System.Xml.XmlTextReader:.ctor (string) in &lt;0x00032&gt;
System.Xml.XmlDocument:Load (string) in &lt;0x00040&gt;
MonoDevelop.Services.LanguageBindingService:GetCodonPerProjectFile (string) in
&lt;0x00019&gt; MonoDevelop.Services.LanguageBindingService:GetBindingPerProjectFile
(string) in &lt;0x00090&gt; MonoDevelop.Internal.Project.Combine:LoadProject
(string) in &lt;0x00082&gt; MonoDevelop.Internal.Project.Combine:AddEntry (string)
in &lt;0x004af&gt; MonoDevelop.Internal.Templates.CombineDescriptor:CreateCombine
(MonoDevelop.Internal.Templates.ProjectCreateInformation,string) in &lt;0x000cd&gt;
MonoDevelop.Internal.Templates.ProjectTemplate:CreateProject
(MonoDevelop.Internal.Templates.ProjectCreateInformation) in &lt;0x006cf&gt;
MonoDevelop.Gui.Dialogs.NewProjectDialog:OpenEvent (object,System.EventArgs)
in &lt;0x00069&gt; (wrapper delegate-invoke)
System.MulticastDelegate:invoke_void_object_EventArgs
(object,System.EventArgs) in &lt;0x0012d&gt;
GtkSharp.voidObjectSignal:voidObjectCallback (intptr,int) in &lt;0x0005a&gt;
(wrapper native-to-managed) GtkSharp.voidObjectSignal:voidObjectCallback
(intptr,int) in (unmanaged) (wrapper managed-to-native)
Gtk.Application:gtk_main () in &lt;0x00004&gt; (wrapper managed-to-native)
Gtk.Application:gtk_main () in &lt;0x00007&gt; Gtk.Application:Run ()
in &lt;0x00701&gt; MonoDevelop.Commands.StartWorkbenchCommand:Run ()
in &lt;0x009db&gt; MonoDevelop.SharpDevelopMain:Main (string[])

(MonoDevelop:11431): GLib-GObject-WARNING **: invalid (NULL) pointer instance

(MonoDevelop:11431): GLib-GObject-CRITICAL **: g_signal_handler_is_connected:
assertion `G_TYPE_CHECK_INSTANCE (instance)' failed

-----------------------------------------------------------------------------

Sorry for the long post. Can anyone help?

Thanks,

Matt.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001923.html">[MonoDevelop] plug-ins
</A></li>
	<LI> Next message: <A HREF="001931.html">[MonoDevelop] Mail Delivery (failure monodevelop-list@lists.ximian.com)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1924">[ date ]</a>
              <a href="thread.html#1924">[ thread ]</a>
              <a href="subject.html#1924">[ subject ]</a>
              <a href="author.html#1924">[ author ]</a>
         </LI>
       </UL>
</body></html>
