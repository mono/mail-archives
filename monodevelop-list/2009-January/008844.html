<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] MonoDevelop on OSX filters assembly list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20MonoDevelop%20on%20OSX%20filters%20assembly%20list&In-Reply-To=aec34c770901151553k5ce3d2b3mdf7a2611ec95a539%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008843.html">
   <LINK REL="Next"  HREF="008845.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] MonoDevelop on OSX filters assembly list</H1>
    <B>David Eliott</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20MonoDevelop%20on%20OSX%20filters%20assembly%20list&In-Reply-To=aec34c770901151553k5ce3d2b3mdf7a2611ec95a539%40mail.gmail.com"
       TITLE="[MonoDevelop] MonoDevelop on OSX filters assembly list">draekz at gmail.com
       </A><BR>
    <I>Thu Jan 15 19:11:27 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="008843.html">[MonoDevelop] MonoDevelop on OSX filters assembly list
</A></li>
        <LI>Next message: <A HREF="008845.html">[MonoDevelop] MonoDevelop on OSX filters assembly list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8844">[ date ]</a>
              <a href="thread.html#8844">[ thread ]</a>
              <a href="subject.html#8844">[ subject ]</a>
              <a href="author.html#8844">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alright, so what I've done is opened the .app and opened the script from
inside. The following is at the top of the script file:

### SYNCH BLOCK: any changes to this block should be kept in sync with the
one in Makefile.include and mdtool.in
MD_PKG_CONFIG_PATH=$APP_PATH/Contents/MacOS/lib/pkgconfig:/tmp/build_deps/li
b/pkgconfig/:/usr/lib/pkgconfig/:/usr/local/lib/pkgconfig/:/usr/share/pkgcon
fig/:/usr/local/share/pkgconfig/
if test -d /usr/lib64; then
MD_PKG_CONFIG_PATH=$MD_PKG_CONFIG_PATH:/usr/lib64/pkgconfig/:/usr/local/lib6
4/pkgconfig/; fi
### END BLOCK

if [ -n $PKG_CONFIG_PATH ]; then
    export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:$MD_PKG_CONFIG_PATH
else
    export PKG_CONFIG_PATH=$MD_PKG_CONFIG_PATH
Fi

So in the paths above we have:

$APP_PATH/Contents/MacOS/lib/pkgconfig
/tmp/build_deps/lib/pkgconfig/
/usr/lib/pkgconfig/
/usr/local/lib/pkgconfig/
/usr/share/pkgconfig/
/usr/local/share/pkgconfig/

I went through all those paths and it does NOT point to the libraries that
the mono installer put in. So what I did was add the path:

/Library/Frameworks/Mono.framework/Libraries/pkgconfig

Into the MD_PKG_CONFIG_PATH and this allowed MD to see all the libraries.
I've talked to some people that work for Novell about it. We'll see how this
can be resolved in the installer hopefully.

Thanks for your help Michael!

Draek



On 15/01/09 4:53 PM, &quot;Michael Hutchinson&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">m.j.hutchinson at gmail.com</A>&gt; wrote:

&gt;<i> On Thu, Jan 15, 2009 at 6:32 PM, David Eliott &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">draekz at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> So then what path does the pkg-config tool use when I run the command:
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> pkg-config --list-all
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> And I see all the libraries that I SHOULD have. They are all listed.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I do not believe that those environment variables are present at all in OSX,
</I>&gt;&gt;<i> when I echo $PKG_CONFIG_PATH, there is nothing.
</I>&gt;<i> 
</I>&gt;<i> PKG_CONFIG_PATH isn't set in a normal environment. pkg-config uses the
</I>&gt;<i> prefix that it was built for, which is hardcoded into it at build
</I>&gt;<i> time, and there's no way for us to extract that short of disassembling
</I>&gt;<i> the pkg-config binary.
</I>&gt;<i> 
</I>&gt;<i> For (major) performance reasons we don't use pkg-config itself, but
</I>&gt;<i> instead look through all the .pc files directly, so we have to
</I>&gt;<i> determine the paths in the launch script. Clearly the Mac MD launch
</I>&gt;<i> script is not doing that correctly, but as I explained, the workaround
</I>&gt;<i> is trivial.
</I>&gt;<i> 
</I>&gt;<i> I don't know what launch script the Mac installer uses, but we on the
</I>&gt;<i> MD team don't maintain it.
</I>

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008843.html">[MonoDevelop] MonoDevelop on OSX filters assembly list
</A></li>
	<LI>Next message: <A HREF="008845.html">[MonoDevelop] MonoDevelop on OSX filters assembly list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8844">[ date ]</a>
              <a href="thread.html#8844">[ thread ]</a>
              <a href="subject.html#8844">[ subject ]</a>
              <a href="author.html#8844">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
