Index: MonoDevelop.Projects.Formats.MSBuild/MSBuildProjectHandler.cs
===================================================================
--- MonoDevelop.Projects.Formats.MSBuild/MSBuildProjectHandler.cs	(revision 107567)
+++ MonoDevelop.Projects.Formats.MSBuild/MSBuildProjectHandler.cs	(working copy)
@@ -473,7 +473,7 @@
 							buildItem = prefgrp.AddNewItem ("ProjectReference", MSBuildProjectService.ToMSBuildPath (project.BaseDirectory, refProj.FileName));
 							MSBuildProjectHandler handler = refProj.ItemHandler as MSBuildProjectHandler;
 							if (handler != null)
-								buildItem.SetMetadata ("Project", Item.ItemId);
+								buildItem.SetMetadata ("Project", handler.Item.ItemId);
 							buildItem.SetMetadata ("Name", refProj.Name);
 							if (!pref.LocalCopy)
 								buildItem.SetMetadata ("Private", "False");
