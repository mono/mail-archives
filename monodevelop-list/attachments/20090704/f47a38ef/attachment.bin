Index: MonoDevelop.Core.Gui.Dialogs/ErrorReportDialog.cs
===================================================================
--- MonoDevelop.Core.Gui.Dialogs/ErrorReportDialog.cs	(revision 0)
+++ MonoDevelop.Core.Gui.Dialogs/ErrorReportDialog.cs	(revision 0)
@@ -0,0 +1,109 @@
+// 
+// ErrorReportDialog.cs
+//  
+// Author:
+//       Anirudh Sanjeev <anirudh@anirudhsanjeev.org>
+// 
+// Copyright (c) 2009 Anirudh Sanjeev
+// 
+// Permission is hereby granted, free of charge, to any person obtaining a copy
+// of this software and associated documentation files (the "Software"), to deal
+// in the Software without restriction, including without limitation the rights
+// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+// copies of the Software, and to permit persons to whom the Software is
+// furnished to do so, subject to the following conditions:
+// 
+// The above copyright notice and this permission notice shall be included in
+// all copies or substantial portions of the Software.
+// 
+// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+// THE SOFTWARE.
+
+using System;
+using Gtk;
+
+
+namespace MonoDevelop.Core.Gui.Dialogs
+{
+
+	/// <summary>
+	/// Modified error dialog with reporting functionality
+	/// </summary>
+	public partial class ErrorReportDialog : Gtk.Dialog
+	{
+		TextTag tagNoWrap;
+		TextTag tagWrap;
+		
+		public ErrorReportDialog ()
+		{
+			this.Build ();
+			
+			// transfer focus onto the OK button so that user can hit enter and continue
+			// todo: how to set focus?
+			
+			tagNoWrap = new TextTag ("nowrap");
+			tagNoWrap.WrapMode = WrapMode.None;
+			detailsTextView.Buffer.TagTable.Add (tagNoWrap);
+			
+			tagWrap = new TextTag ("wrap");
+			tagWrap.WrapMode = WrapMode.Word;
+			detailsTextView.Buffer.TagTable.Add (tagWrap);
+			
+			detailExpander.Activated += OnExpanded;
+			reportExpander.Activated += OnExpanded;
+		}
+		
+		public string Message {
+			get { return descriptionLabel.Text; }
+			set {
+				string message = value;
+				while (message.EndsWith ("\r") || message.EndsWith ("\n"))
+					message = message.Substring (0, message.Length - 1);
+				if (!message.EndsWith (".")) message += ".";
+				descriptionLabel.Text = message;
+			}
+		}
+		
+		
+		public void AddDetails (string text, bool wrapped)
+		{
+			TextIter it = this.detailsTextView.Buffer.EndIter;
+			if (wrapped)
+				this.detailsTextView.Buffer.InsertWithTags (ref it, text, tagWrap);
+			else
+				this.detailsTextView.Buffer.InsertWithTags (ref it, text, tagNoWrap);
+		}
+		
+		bool UpdateSize ()
+		{
+			int w, h;
+			this.GetSize (out w, out h);
+			this.Resize (w, 1);
+			return false;
+		}
+		
+		public void OnExpanded(object o, EventArgs args)
+		{
+			GLib.Timeout.Add (100, new GLib.TimeoutHandler (UpdateSize));
+		}
+		
+		public void Start()
+		{
+			Console.WriteLine("Running");
+			this.ShowAll();
+			this.Run();
+		}
+
+		protected virtual void OkButtonClicked (object sender, System.EventArgs e)
+		{
+			this.Destroy();
+			this.Dispose();
+		}
+		
+	}
+}
\ No newline at end of file

Index: MonoDevelop.Core.Gui.csproj
===================================================================
--- MonoDevelop.Core.Gui.csproj	(revision 137378)
+++ MonoDevelop.Core.Gui.csproj	(working copy)
@@ -34,41 +34,29 @@
     </Execution>
   </PropertyGroup>
   <ItemGroup>
-    <Reference Include="System" />
-    <Reference Include="System.Xml" />
+    <Reference Include="glade-sharp, Version=2.12.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f" />
+    <Reference Include="glib-sharp, Version=2.12.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f" />
+    <Reference Include="pango-sharp, Version=2.12.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f" />
+    <Reference Include="atk-sharp, Version=2.12.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f" />
+    <Reference Include="gdk-sharp, Version=2.12.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f" />
+    <Reference Include="gtk-sharp, Version=2.12.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f" />
     <Reference Include="ICSharpCode.SharpZipLib" />
-    <Reference Include="System.Drawing" />
     <Reference Include="Mono.Posix" />
+    <Reference Include="System" />
+    <Reference Include="System.Core">
+      <RequiredTargetFramework>3.5</RequiredTargetFramework>
+    </Reference>
+    <Reference Include="System.Drawing" />
+    <Reference Include="System.Xml" />
     <Reference Include="Mono.Addins, Version=0.4.0.0, Culture=neutral, PublicKeyToken=0738eb9f132ed756">
-      <SpecificVersion>False</SpecificVersion>
+      <Package>mono-addins</Package>
     </Reference>
-    <Reference Include="Mono.Addins.Gui, Version=0.4.0.0, Culture=neutral, PublicKeyToken=0738eb9f132ed756">
-      <SpecificVersion>False</SpecificVersion>
-    </Reference>
     <Reference Include="Mono.Addins.Setup, Version=0.4.0.0, Culture=neutral, PublicKeyToken=0738eb9f132ed756">
-      <SpecificVersion>False</SpecificVersion>
+      <Package>mono-addins-setup</Package>
     </Reference>
-    <Reference Include="glade-sharp, Version=2.8.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f">
-      <SpecificVersion>False</SpecificVersion>
+    <Reference Include="Mono.Addins.Gui, Version=0.4.0.0, Culture=neutral, PublicKeyToken=0738eb9f132ed756">
+      <Package>mono-addins-gui</Package>
     </Reference>
-    <Reference Include="glib-sharp, Version=2.8.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f">
-      <SpecificVersion>False</SpecificVersion>
-    </Reference>
-    <Reference Include="pango-sharp, Version=2.8.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f">
-      <SpecificVersion>False</SpecificVersion>
-    </Reference>
-    <Reference Include="atk-sharp, Version=2.8.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f">
-      <SpecificVersion>False</SpecificVersion>
-    </Reference>
-    <Reference Include="gdk-sharp, Version=2.8.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f">
-      <SpecificVersion>False</SpecificVersion>
-    </Reference>
-    <Reference Include="gtk-sharp, Version=2.8.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f">
-      <SpecificVersion>False</SpecificVersion>
-    </Reference>
-    <Reference Include="System.Core">
-      <RequiredTargetFramework>3.5</RequiredTargetFramework>
-    </Reference>
   </ItemGroup>
   <ItemGroup>
     <ProjectReference Include="..\MonoDevelop.Core\MonoDevelop.Core.csproj">
@@ -526,6 +514,8 @@
     <Compile Include="MonoDevelop.Core.Gui.Dialogs\MultiMessageDialog.cs" />
     <Compile Include="gtk-gui\MonoDevelop.Core.Gui.Dialogs.MultiMessageDialog.cs" />
     <Compile Include="MonoDevelop.Core.Gui\DesktopService.cs" />
+    <Compile Include="MonoDevelop.Core.Gui.Dialogs\ErrorReportDialog.cs" />
+    <Compile Include="gtk-gui\MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog.cs" />
   </ItemGroup>
   <ItemGroup>
     <None Include="Makefile.am" />

Index: MonoDevelop.Core.Gui/MessageService.cs
===================================================================
--- MonoDevelop.Core.Gui/MessageService.cs	(revision 137378)
+++ MonoDevelop.Core.Gui/MessageService.cs	(working copy)
@@ -288,11 +288,12 @@
 		{
 			public void ShowException (Gtk.Window parent, Exception e, string primaryText)
 			{
-				MonoDevelop.Core.Gui.Dialogs.ErrorDialog errorDialog = new MonoDevelop.Core.Gui.Dialogs.ErrorDialog (parent);
+				//MonoDevelop.Core.Gui.Dialogs.ErrorDialog errorDialog = new MonoDevelop.Core.Gui.Dialogs.ErrorDialog (parent);
+				MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog errorDialog = new MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog();
 				try {
 					errorDialog.Message = primaryText;
 					errorDialog.AddDetails (e.ToString (), false);
-					errorDialog.Run ();
+					errorDialog.Start();
 				} finally {
 					if (errorDialog != null)
 						errorDialog.Dispose ();

Index: gtk-gui/MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog.cs
===================================================================
--- gtk-gui/MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog.cs	(revision 0)
+++ gtk-gui/MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog.cs	(revision 0)
@@ -0,0 +1,229 @@
+// ------------------------------------------------------------------------------
+//  <autogenerated>
+//      This code was generated by a tool.
+//      
+// 
+//      Changes to this file may cause incorrect behavior and will be lost if 
+//      the code is regenerated.
+//  </autogenerated>
+// ------------------------------------------------------------------------------
+
+namespace MonoDevelop.Core.Gui.Dialogs {
+    
+    
+    public partial class ErrorReportDialog {
+        
+        private Gtk.VBox vbox3;
+        
+        private Gtk.HBox hbox2;
+        
+        private Gtk.Image errorImage;
+        
+        private Gtk.Label descriptionLabel;
+        
+        private Gtk.Expander detailExpander;
+        
+        private Gtk.ScrolledWindow GtkScrolledWindow;
+        
+        private Gtk.TextView detailsTextView;
+        
+        private Gtk.Label GtkLabel2;
+        
+        private Gtk.Expander reportExpander;
+        
+        private Gtk.VBox vbox4;
+        
+        private Gtk.Label label2;
+        
+        private Gtk.ScrolledWindow GtkScrolledWindow1;
+        
+        private Gtk.TextView descriptionTextView;
+        
+        private Gtk.HBox hbox3;
+        
+        private Gtk.Label label3;
+        
+        private Gtk.Button sendReportButton;
+        
+        private Gtk.Label GtkLabel3;
+        
+        private Gtk.Button buttonOk;
+        
+        protected virtual void Build() {
+            Stetic.Gui.Initialize(this);
+            // Widget MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog
+            this.Name = "MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog";
+            this.Title = Mono.Unix.Catalog.GetString("Monodevelop - Error");
+            this.WindowPosition = ((Gtk.WindowPosition)(4));
+            // Internal child MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog.VBox
+            Gtk.VBox w1 = this.VBox;
+            w1.Name = "dialog1_VBox";
+            w1.BorderWidth = ((uint)(2));
+            // Container child dialog1_VBox.Gtk.Box+BoxChild
+            this.vbox3 = new Gtk.VBox();
+            this.vbox3.Name = "vbox3";
+            this.vbox3.Spacing = 6;
+            // Container child vbox3.Gtk.Box+BoxChild
+            this.hbox2 = new Gtk.HBox();
+            this.hbox2.Name = "hbox2";
+            this.hbox2.Spacing = 6;
+            // Container child hbox2.Gtk.Box+BoxChild
+            this.errorImage = new Gtk.Image();
+            this.errorImage.Name = "errorImage";
+            this.errorImage.Pixbuf = Stetic.IconLoader.LoadIcon(this, "gtk-dialog-error", Gtk.IconSize.Dialog, 48);
+            this.hbox2.Add(this.errorImage);
+            Gtk.Box.BoxChild w2 = ((Gtk.Box.BoxChild)(this.hbox2[this.errorImage]));
+            w2.Position = 0;
+            w2.Expand = false;
+            w2.Fill = false;
+            // Container child hbox2.Gtk.Box+BoxChild
+            this.descriptionLabel = new Gtk.Label();
+            this.descriptionLabel.Name = "descriptionLabel";
+            this.descriptionLabel.LabelProp = Mono.Unix.Catalog.GetString("label1");
+            this.hbox2.Add(this.descriptionLabel);
+            Gtk.Box.BoxChild w3 = ((Gtk.Box.BoxChild)(this.hbox2[this.descriptionLabel]));
+            w3.Position = 1;
+            this.vbox3.Add(this.hbox2);
+            Gtk.Box.BoxChild w4 = ((Gtk.Box.BoxChild)(this.vbox3[this.hbox2]));
+            w4.Position = 0;
+            w4.Expand = false;
+            w4.Fill = false;
+            // Container child vbox3.Gtk.Box+BoxChild
+            this.detailExpander = new Gtk.Expander(null);
+            this.detailExpander.CanFocus = true;
+            this.detailExpander.Name = "detailExpander";
+            // Container child detailExpander.Gtk.Container+ContainerChild
+            this.GtkScrolledWindow = new Gtk.ScrolledWindow();
+            this.GtkScrolledWindow.Name = "GtkScrolledWindow";
+            this.GtkScrolledWindow.ShadowType = ((Gtk.ShadowType)(1));
+            // Container child GtkScrolledWindow.Gtk.Container+ContainerChild
+            this.detailsTextView = new Gtk.TextView();
+            this.detailsTextView.HeightRequest = 141;
+            this.detailsTextView.CanFocus = true;
+            this.detailsTextView.Name = "detailsTextView";
+            this.GtkScrolledWindow.Add(this.detailsTextView);
+            this.detailExpander.Add(this.GtkScrolledWindow);
+            this.GtkLabel2 = new Gtk.Label();
+            this.GtkLabel2.Name = "GtkLabel2";
+            this.GtkLabel2.LabelProp = Mono.Unix.Catalog.GetString("View error details");
+            this.GtkLabel2.UseUnderline = true;
+            this.detailExpander.LabelWidget = this.GtkLabel2;
+            this.vbox3.Add(this.detailExpander);
+            Gtk.Box.BoxChild w7 = ((Gtk.Box.BoxChild)(this.vbox3[this.detailExpander]));
+            w7.Position = 1;
+            w7.Expand = false;
+            w7.Fill = false;
+            // Container child vbox3.Gtk.Box+BoxChild
+            this.reportExpander = new Gtk.Expander(null);
+            this.reportExpander.CanFocus = true;
+            this.reportExpander.Name = "reportExpander";
+            // Container child reportExpander.Gtk.Container+ContainerChild
+            this.vbox4 = new Gtk.VBox();
+            this.vbox4.Name = "vbox4";
+            this.vbox4.Spacing = 6;
+            // Container child vbox4.Gtk.Box+BoxChild
+            this.label2 = new Gtk.Label();
+            this.label2.Name = "label2";
+            this.label2.LabelProp = Mono.Unix.Catalog.GetString("Please describe what you were doing when the error occured");
+            this.vbox4.Add(this.label2);
+            Gtk.Box.BoxChild w8 = ((Gtk.Box.BoxChild)(this.vbox4[this.label2]));
+            w8.Position = 0;
+            w8.Expand = false;
+            w8.Fill = false;
+            // Container child vbox4.Gtk.Box+BoxChild
+            this.GtkScrolledWindow1 = new Gtk.ScrolledWindow();
+            this.GtkScrolledWindow1.Name = "GtkScrolledWindow1";
+            this.GtkScrolledWindow1.ShadowType = ((Gtk.ShadowType)(1));
+            // Container child GtkScrolledWindow1.Gtk.Container+ContainerChild
+            this.descriptionTextView = new Gtk.TextView();
+            this.descriptionTextView.HeightRequest = 127;
+            this.descriptionTextView.CanFocus = true;
+            this.descriptionTextView.Name = "descriptionTextView";
+            this.GtkScrolledWindow1.Add(this.descriptionTextView);
+            this.vbox4.Add(this.GtkScrolledWindow1);
+            Gtk.Box.BoxChild w10 = ((Gtk.Box.BoxChild)(this.vbox4[this.GtkScrolledWindow1]));
+            w10.Position = 1;
+            // Container child vbox4.Gtk.Box+BoxChild
+            this.hbox3 = new Gtk.HBox();
+            this.hbox3.Name = "hbox3";
+            this.hbox3.Spacing = 6;
+            // Container child hbox3.Gtk.Box+BoxChild
+            this.label3 = new Gtk.Label();
+            this.label3.Name = "label3";
+            this.label3.LabelProp = Mono.Unix.Catalog.GetString("No source code or personally identifiable information will be transmitted");
+            this.hbox3.Add(this.label3);
+            Gtk.Box.BoxChild w11 = ((Gtk.Box.BoxChild)(this.hbox3[this.label3]));
+            w11.Position = 0;
+            // Container child hbox3.Gtk.Box+BoxChild
+            this.sendReportButton = new Gtk.Button();
+            this.sendReportButton.CanFocus = true;
+            this.sendReportButton.Name = "sendReportButton";
+            this.sendReportButton.UseUnderline = true;
+            // Container child sendReportButton.Gtk.Container+ContainerChild
+            Gtk.Alignment w12 = new Gtk.Alignment(0.5F, 0.5F, 0F, 0F);
+            // Container child GtkAlignment.Gtk.Container+ContainerChild
+            Gtk.HBox w13 = new Gtk.HBox();
+            w13.Spacing = 2;
+            // Container child GtkHBox.Gtk.Container+ContainerChild
+            Gtk.Image w14 = new Gtk.Image();
+            w14.Pixbuf = Stetic.IconLoader.LoadIcon(this, "gtk-network", Gtk.IconSize.Menu, 16);
+            w13.Add(w14);
+            // Container child GtkHBox.Gtk.Container+ContainerChild
+            Gtk.Label w16 = new Gtk.Label();
+            w16.LabelProp = Mono.Unix.Catalog.GetString("Send Report");
+            w16.UseUnderline = true;
+            w13.Add(w16);
+            w12.Add(w13);
+            this.sendReportButton.Add(w12);
+            this.hbox3.Add(this.sendReportButton);
+            Gtk.Box.BoxChild w20 = ((Gtk.Box.BoxChild)(this.hbox3[this.sendReportButton]));
+            w20.Position = 1;
+            w20.Expand = false;
+            w20.Fill = false;
+            this.vbox4.Add(this.hbox3);
+            Gtk.Box.BoxChild w21 = ((Gtk.Box.BoxChild)(this.vbox4[this.hbox3]));
+            w21.Position = 2;
+            w21.Expand = false;
+            w21.Fill = false;
+            this.reportExpander.Add(this.vbox4);
+            this.GtkLabel3 = new Gtk.Label();
+            this.GtkLabel3.Name = "GtkLabel3";
+            this.GtkLabel3.LabelProp = Mono.Unix.Catalog.GetString("Report Error");
+            this.GtkLabel3.UseUnderline = true;
+            this.reportExpander.LabelWidget = this.GtkLabel3;
+            this.vbox3.Add(this.reportExpander);
+            Gtk.Box.BoxChild w23 = ((Gtk.Box.BoxChild)(this.vbox3[this.reportExpander]));
+            w23.Position = 2;
+            w23.Expand = false;
+            w23.Fill = false;
+            w1.Add(this.vbox3);
+            Gtk.Box.BoxChild w24 = ((Gtk.Box.BoxChild)(w1[this.vbox3]));
+            w24.Position = 0;
+            // Internal child MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog.ActionArea
+            Gtk.HButtonBox w25 = this.ActionArea;
+            w25.Name = "dialog1_ActionArea";
+            w25.Spacing = 10;
+            w25.BorderWidth = ((uint)(5));
+            w25.LayoutStyle = ((Gtk.ButtonBoxStyle)(4));
+            // Container child dialog1_ActionArea.Gtk.ButtonBox+ButtonBoxChild
+            this.buttonOk = new Gtk.Button();
+            this.buttonOk.CanDefault = true;
+            this.buttonOk.CanFocus = true;
+            this.buttonOk.Name = "buttonOk";
+            this.buttonOk.UseStock = true;
+            this.buttonOk.UseUnderline = true;
+            this.buttonOk.Label = "gtk-ok";
+            this.AddActionWidget(this.buttonOk, -5);
+            Gtk.ButtonBox.ButtonBoxChild w26 = ((Gtk.ButtonBox.ButtonBoxChild)(w25[this.buttonOk]));
+            w26.Expand = false;
+            w26.Fill = false;
+            if ((this.Child != null)) {
+                this.Child.ShowAll();
+            }
+            this.DefaultWidth = 610;
+            this.DefaultHeight = 179;
+            this.Show();
+            this.buttonOk.Clicked += new System.EventHandler(this.OkButtonClicked);
+        }
+    }
+}

Index: gtk-gui/gui.stetic
===================================================================
--- gtk-gui/gui.stetic	(revision 137378)
+++ gtk-gui/gui.stetic	(working copy)
@@ -2,12 +2,11 @@
 <stetic-interface>
   <configuration>
     <images-root-path>..</images-root-path>
-    <target-gtk-version>2.8</target-gtk-version>
+    <target-gtk-version>2.12</target-gtk-version>
   </configuration>
   <import>
-    <widget-library name="Mono.Addins.Gui, Version=0.4.0.0, Culture=neutral, PublicKeyToken=0738eb9f132ed756" />
+    <widget-library name="../../../../build/bin/MonoDevelop.Components.dll" />
     <widget-library name="glade-sharp, Version=2.12.0.0, Culture=neutral, PublicKeyToken=35e10195dab3c99f" />
-    <widget-library name="../../../../build/bin/MonoDevelop.Components.dll" />
     <widget-library name="../../../../build/bin/MonoDevelop.Core.Gui.dll" internal="true" />
   </import>
   <widget class="Gtk.Dialog" id="MonoDevelop.Core.Gui.Dialogs.MultiTaskProgressDialog" design-size="491 418">
@@ -369,4 +368,221 @@
       </widget>
     </child>
   </widget>
+  <widget class="Gtk.Dialog" id="MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog" design-size="610 179">
+    <property name="MemberName" />
+    <property name="Title" translatable="yes">Monodevelop - Error</property>
+    <property name="WindowPosition">CenterOnParent</property>
+    <property name="Buttons">1</property>
+    <property name="HelpButton">False</property>
+    <child internal-child="VBox">
+      <widget class="Gtk.VBox" id="dialog1_VBox">
+        <property name="MemberName" />
+        <property name="BorderWidth">2</property>
+        <child>
+          <widget class="Gtk.VBox" id="vbox3">
+            <property name="MemberName" />
+            <property name="Spacing">6</property>
+            <child>
+              <widget class="Gtk.HBox" id="hbox2">
+                <property name="MemberName" />
+                <property name="Spacing">6</property>
+                <child>
+                  <widget class="Gtk.Image" id="errorImage">
+                    <property name="MemberName" />
+                    <property name="Pixbuf">stock:gtk-dialog-error Dialog</property>
+                  </widget>
+                  <packing>
+                    <property name="Position">0</property>
+                    <property name="AutoSize">True</property>
+                    <property name="Expand">False</property>
+                    <property name="Fill">False</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="Gtk.Label" id="descriptionLabel">
+                    <property name="MemberName" />
+                    <property name="LabelProp" translatable="yes">label1</property>
+                  </widget>
+                  <packing>
+                    <property name="Position">1</property>
+                    <property name="AutoSize">False</property>
+                  </packing>
+                </child>
+              </widget>
+              <packing>
+                <property name="Position">0</property>
+                <property name="AutoSize">True</property>
+                <property name="Expand">False</property>
+                <property name="Fill">False</property>
+              </packing>
+            </child>
+            <child>
+              <widget class="Gtk.Expander" id="detailExpander">
+                <property name="MemberName" />
+                <property name="CanFocus">True</property>
+                <child>
+                  <widget class="Gtk.ScrolledWindow" id="GtkScrolledWindow">
+                    <property name="MemberName" />
+                    <property name="ShadowType">In</property>
+                    <child>
+                      <widget class="Gtk.TextView" id="detailsTextView">
+                        <property name="MemberName" />
+                        <property name="HeightRequest">141</property>
+                        <property name="CanFocus">True</property>
+                        <property name="ShowScrollbars">True</property>
+                        <property name="Text" translatable="yes" />
+                      </widget>
+                    </child>
+                  </widget>
+                </child>
+                <child>
+                  <widget class="Gtk.Label" id="GtkLabel2">
+                    <property name="MemberName" />
+                    <property name="LabelProp" translatable="yes">View error details</property>
+                    <property name="UseUnderline">True</property>
+                  </widget>
+                  <packing>
+                    <property name="type">label_item</property>
+                  </packing>
+                </child>
+              </widget>
+              <packing>
+                <property name="Position">1</property>
+                <property name="AutoSize">False</property>
+                <property name="Expand">False</property>
+                <property name="Fill">False</property>
+              </packing>
+            </child>
+            <child>
+              <widget class="Gtk.Expander" id="reportExpander">
+                <property name="MemberName" />
+                <property name="CanFocus">True</property>
+                <child>
+                  <widget class="Gtk.VBox" id="vbox4">
+                    <property name="MemberName" />
+                    <property name="Spacing">6</property>
+                    <child>
+                      <widget class="Gtk.Label" id="label2">
+                        <property name="MemberName" />
+                        <property name="LabelProp" translatable="yes">Please describe what you were doing when the error occured</property>
+                      </widget>
+                      <packing>
+                        <property name="Position">0</property>
+                        <property name="AutoSize">False</property>
+                        <property name="Expand">False</property>
+                        <property name="Fill">False</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="Gtk.ScrolledWindow" id="GtkScrolledWindow1">
+                        <property name="MemberName" />
+                        <property name="ShadowType">In</property>
+                        <child>
+                          <widget class="Gtk.TextView" id="descriptionTextView">
+                            <property name="MemberName" />
+                            <property name="HeightRequest">127</property>
+                            <property name="CanFocus">True</property>
+                            <property name="ShowScrollbars">True</property>
+                            <property name="Text" translatable="yes" />
+                          </widget>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="Position">1</property>
+                        <property name="AutoSize">True</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="Gtk.HBox" id="hbox3">
+                        <property name="MemberName" />
+                        <property name="Spacing">6</property>
+                        <child>
+                          <widget class="Gtk.Label" id="label3">
+                            <property name="MemberName" />
+                            <property name="LabelProp" translatable="yes">No source code or personally identifiable information will be transmitted</property>
+                          </widget>
+                          <packing>
+                            <property name="Position">0</property>
+                            <property name="AutoSize">False</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="Gtk.Button" id="sendReportButton">
+                            <property name="MemberName" />
+                            <property name="CanFocus">True</property>
+                            <property name="Type">TextAndIcon</property>
+                            <property name="Icon">stock:gtk-network Menu</property>
+                            <property name="Label" translatable="yes">Send Report</property>
+                            <property name="UseUnderline">True</property>
+                          </widget>
+                          <packing>
+                            <property name="Position">1</property>
+                            <property name="AutoSize">True</property>
+                            <property name="Expand">False</property>
+                            <property name="Fill">False</property>
+                          </packing>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="Position">2</property>
+                        <property name="AutoSize">True</property>
+                        <property name="Expand">False</property>
+                        <property name="Fill">False</property>
+                      </packing>
+                    </child>
+                  </widget>
+                </child>
+                <child>
+                  <widget class="Gtk.Label" id="GtkLabel3">
+                    <property name="MemberName" />
+                    <property name="LabelProp" translatable="yes">Report Error</property>
+                    <property name="UseUnderline">True</property>
+                  </widget>
+                  <packing>
+                    <property name="type">label_item</property>
+                  </packing>
+                </child>
+              </widget>
+              <packing>
+                <property name="Position">2</property>
+                <property name="AutoSize">False</property>
+                <property name="Expand">False</property>
+                <property name="Fill">False</property>
+              </packing>
+            </child>
+          </widget>
+          <packing>
+            <property name="Position">0</property>
+            <property name="AutoSize">True</property>
+          </packing>
+        </child>
+      </widget>
+    </child>
+    <child internal-child="ActionArea">
+      <widget class="Gtk.HButtonBox" id="dialog1_ActionArea">
+        <property name="MemberName" />
+        <property name="Spacing">10</property>
+        <property name="BorderWidth">5</property>
+        <property name="Size">1</property>
+        <property name="LayoutStyle">End</property>
+        <child>
+          <widget class="Gtk.Button" id="buttonOk">
+            <property name="MemberName" />
+            <property name="CanDefault">True</property>
+            <property name="CanFocus">True</property>
+            <property name="UseStock">True</property>
+            <property name="Type">StockItem</property>
+            <property name="StockId">gtk-ok</property>
+            <property name="ResponseId">-5</property>
+            <signal name="Clicked" handler="OkButtonClicked" />
+            <property name="label">gtk-ok</property>
+          </widget>
+          <packing>
+            <property name="Expand">False</property>
+            <property name="Fill">False</property>
+          </packing>
+        </child>
+      </widget>
+    </child>
+  </widget>
 </stetic-interface>
\ No newline at end of file

Index: Makefile.am
===================================================================
--- Makefile.am	(revision 137378)
+++ Makefile.am	(working copy)
@@ -9,9 +9,12 @@
 	$(GLADE_SHARP_LIBS) \
 	$(GLIB_SHARP_LIBS) \
 	$(GTK_SHARP_LIBS) \
-	$(MONO_ADDINS_GUI_LIBS) \
-	$(MONO_ADDINS_LIBS) \
-	$(MONO_ADDINS_SETUP_LIBS) \
+	-pkg:mono-addins-0.2 \
+	-pkg:mono-addins-0.2 \
+	-pkg:mono-addins-gui-0.2 \
+	-pkg:mono-addins-gui-0.2 \
+	-pkg:mono-addins-setup-0.2 \
+	-pkg:mono-addins-setup-0.2 \
 	-r:ICSharpCode.SharpZipLib \
 	-r:Mono.Posix \
 	-r:System \
@@ -22,6 +25,7 @@
 FILES =  \
 	AssemblyInfo.cs \
 	gtk-gui/generated.cs \
+	gtk-gui/MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog.cs \
 	gtk-gui/MonoDevelop.Core.Gui.Dialogs.MultiMessageDialog.cs \
 	gtk-gui/MonoDevelop.Core.Gui.Dialogs.MultiTaskProgressDialog.cs \
 	gtk-gui/MonoDevelop.Core.Gui.Dialogs.OptionsDialog.cs \
@@ -32,6 +36,7 @@
 	MonoDevelop.Core.Gui.Components/FileBrowser.cs \
 	MonoDevelop.Core.Gui.Components/MenuButtonEntry.cs \
 	MonoDevelop.Core.Gui.Dialogs/ErrorDialog.cs \
+	MonoDevelop.Core.Gui.Dialogs/ErrorReportDialog.cs \
 	MonoDevelop.Core.Gui.Dialogs/IOptionsPanel.cs \
 	MonoDevelop.Core.Gui.Dialogs/MultiMessageDialog.cs \
 	MonoDevelop.Core.Gui.Dialogs/MultiTaskProgressDialog.cs \

Index: ChangeLog
===================================================================
--- ChangeLog	(revision 137378)
+++ ChangeLog	(working copy)
@@ -1,3 +1,21 @@
+2009-07-04  Anirudh Sanjeev  <anirudh@anirudhsanjeev.org>
+
+	* MonoDevelop.Core.Gui.Dialogs/ErrorReportDialog.cs: Error
+	  report dialog, to replace ErrorDialog.
+
+	* MonoDevelop.Core.Gui.csproj: I don't know why it's modified
+	  the references. I didn't touch it.
+
+	* MonoDevelop.Core.Gui/MessageService.cs: Replacing
+	  ErrorDialog by ErrorReportDialog
+
+	* gtk-gui/gui.stetic:
+	* gtk-gui/MonoDevelop.Core.Gui.Dialogs.ErrorReportDialog.cs:
+	  Error reporting GUI
+
+	* Makefile.am: Didn't touch the refererences here. Don't know
+	  why it's removed the ref.s
+
 2009-06-29  Lluis Sanchez Gual  <lluis@novell.com>
 
 	* Makefile.am:

