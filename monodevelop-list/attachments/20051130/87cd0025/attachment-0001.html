<tt>
&lt;br&gt;&lt;br&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;11/30/05,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Lluis&nbsp;Sanchez&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:lluis@ximian.com&quot;&gt;lluis@ximian.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;/div&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;Before&nbsp;starting&nbsp;to&nbsp;build&nbsp;this&nbsp;test&nbsp;infrastructure&nbsp;it&nbsp;would&nbsp;be&nbsp;good&nbsp;to&lt;br&gt;think&nbsp;about&nbsp;what&nbsp;are&nbsp;we&nbsp;going&nbsp;to&nbsp;test&nbsp;and&nbsp;how&nbsp;to&nbsp;do&nbsp;it.<br>
&lt;br&gt;&lt;br&gt;About&nbsp;what:&nbsp;writing&nbsp;a&nbsp;test&nbsp;for&nbsp;Task&nbsp;is&nbsp;easy,&nbsp;but&nbsp;I&nbsp;feel&nbsp;it&nbsp;doesn't&nbsp;add&lt;br&gt;much&nbsp;value.&nbsp;I&nbsp;know&nbsp;it's&nbsp;just&nbsp;an&nbsp;example,&nbsp;but&nbsp;what&nbsp;I&nbsp;mean&nbsp;is&nbsp;that&nbsp;we&nbsp;need&lt;br&gt;to&nbsp;decide&nbsp;which&nbsp;classes&nbsp;are&nbsp;important&nbsp;to&nbsp;test.&nbsp;The&nbsp;current&nbsp;API&nbsp;is&nbsp;not<br>
&lt;br&gt;final.&nbsp;Some&nbsp;classes&nbsp;will&nbsp;change,&nbsp;some&nbsp;will&nbsp;desapear,&nbsp;some&nbsp;will&nbsp;be&nbsp;made&lt;br&gt;private,&nbsp;so&nbsp;writing&nbsp;tests&nbsp;for&nbsp;those&nbsp;would&nbsp;be&nbsp;a&nbsp;lose&nbsp;of&nbsp;time.&lt;/blockquote&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;I&nbsp;agree.&nbsp;It&nbsp;is&nbsp;most&nbsp;important&nbsp;to&nbsp;test&nbsp;complicated&nbsp;things.&lt;/div&gt;<br>
&lt;div&gt;The&nbsp;TaskTest&nbsp;is&nbsp;as&nbsp;you&nbsp;said&nbsp;just&nbsp;an&nbsp;illustration,&nbsp;not&nbsp;necessarily&nbsp;a&nbsp;test&nbsp;we&nbsp;want&nbsp;to&nbsp;write.&lt;/div&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid&quot;&gt;About&nbsp;how:&nbsp;MonoDevelop.Ide&nbsp;(and&nbsp;most&nbsp;of&nbsp;the&nbsp;MonoDevelop.*&nbsp;assemblies)&nbsp;is&lt;br&gt;not&nbsp;just&nbsp;a&nbsp;standalone&nbsp;dll,&nbsp;it's&nbsp;an&nbsp;add-in.&nbsp;It&nbsp;needs&nbsp;to&nbsp;be&nbsp;loaded&nbsp;by&nbsp;the<br>
&lt;br&gt;MonoDevelop&nbsp;runtime,&nbsp;and&nbsp;it&nbsp;needs&nbsp;to&nbsp;be&nbsp;properly&nbsp;initialized.&nbsp;Otherwise,&lt;br&gt;it&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;work&nbsp;at&nbsp;all.&lt;/blockquote&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;That&nbsp;is&nbsp;true,&nbsp;but&nbsp;it&nbsp;might&nbsp;still&nbsp;be&nbsp;possible&nbsp;to&nbsp;test&nbsp;those&nbsp;things.&nbsp;We&nbsp;could&nbsp;do&nbsp;a&nbsp;mock&nbsp;MonoDevelop&nbsp;runtime&nbsp;for&nbsp;example.&lt;/div&gt;<br>
&lt;div&gt;All&nbsp;this&nbsp;is&nbsp;just&nbsp;because&nbsp;I&nbsp;think&nbsp;it&nbsp;will&nbsp;add&nbsp;value&nbsp;to&nbsp;MonoDevelop&nbsp;and&nbsp;make&nbsp;it&nbsp;easier&nbsp;to&nbsp;code.&nbsp;I&nbsp;would&nbsp;really&nbsp;have&nbsp;liked&nbsp;to&nbsp;write&nbsp;some&nbsp;unit&nbsp;tests&nbsp;for&nbsp;the&nbsp;search&nbsp;patch&nbsp;I&nbsp;submitted&nbsp;yesterday,&nbsp;but&nbsp;there&nbsp;was&nbsp;no&nbsp;framework,&nbsp;so&nbsp;I&nbsp;didn't.<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid&quot;&gt;This&nbsp;could&nbsp;be&nbsp;a&nbsp;problem&nbsp;with&nbsp;NUnit.&nbsp;I&nbsp;know&nbsp;that&nbsp;NUnit&nbsp;can&nbsp;do&nbsp;per-class&lt;br&gt;test&nbsp;initialization,&nbsp;but&nbsp;we&nbsp;would&nbsp;need&nbsp;per-assembly&nbsp;initialization.<br>
&lt;/blockquote&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;We&nbsp;would&nbsp;have&nbsp;to&nbsp;think&nbsp;more&nbsp;about&nbsp;this.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid&quot;&gt;Another&nbsp;problem&nbsp;I&nbsp;see&nbsp;is&nbsp;that&nbsp;many&nbsp;of&nbsp;the&nbsp;classes&nbsp;in&nbsp;MonoDevelop.Gui&nbsp;are&lt;br&gt;designed&nbsp;to&nbsp;run&nbsp;in&nbsp;the&nbsp;GUI&nbsp;thread,&nbsp;and&nbsp;all&nbsp;in&nbsp;the&nbsp;same&nbsp;app&nbsp;domain.&nbsp;AFAIK<br>
&lt;br&gt;NUnit&nbsp;creates&nbsp;its&nbsp;own&nbsp;test&nbsp;threads&nbsp;and&nbsp;app&nbsp;domains,&nbsp;so&nbsp;we'd&nbsp;need&nbsp;to&lt;br&gt;think&nbsp;about&nbsp;how&nbsp;to&nbsp;handle&nbsp;this.&lt;/blockquote&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;We&nbsp;need&nbsp;to&nbsp;think&nbsp;about&nbsp;this&nbsp;too,&nbsp;I&nbsp;agree.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid&quot;&gt;Lluis.&lt;/blockquote&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;mean,&nbsp;it&nbsp;is&nbsp;no&nbsp;harm&nbsp;to&nbsp;add&nbsp;some&nbsp;unit&nbsp;tests&nbsp;that&nbsp;might&nbsp;not&nbsp;make&nbsp;much&nbsp;value&nbsp;since&nbsp;it&nbsp;might&nbsp;encourage&nbsp;other&nbsp;to&nbsp;write&nbsp;tests&nbsp;too.&lt;/div&gt;<br>
&lt;div&gt;The&nbsp;important&nbsp;thing&nbsp;is&nbsp;to&nbsp;get&nbsp;started&nbsp;so&nbsp;it&nbsp;is&nbsp;easier&nbsp;to&nbsp;add&nbsp;test&nbsp;IMO.&lt;/div&gt;<br>
&lt;div&gt;Shall&nbsp;I&nbsp;commit&nbsp;the&nbsp;stuff&nbsp;and&nbsp;we&nbsp;take&nbsp;it&nbsp;from&nbsp;there,&nbsp;or&nbsp;should&nbsp;things&nbsp;be&nbsp;organized&nbsp;another&nbsp;way?&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;/Jacob&lt;/div&gt;<br>
&lt;p&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;div&gt;&lt;br&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid&quot;&gt;El&nbsp;mié,&nbsp;30-11-2005&nbsp;a&nbsp;las&nbsp;20:04&nbsp;+0100,&nbsp;Jacob&nbsp;Ilsø&nbsp;Christensen&nbsp;escribió:&lt;br&gt;&amp;gt;&nbsp;Hi.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;The&nbsp;attached&nbsp;patch&nbsp;changes&nbsp;some&nbsp;Makefiles&nbsp;to&nbsp;accomplish&nbsp;testing&nbsp;of<br>
&lt;br&gt;&amp;gt;&nbsp;MonoDevelop.Ide.dll.&nbsp;In&nbsp;addition&nbsp;the&nbsp;file&nbsp;TaskTest.cs&nbsp;should&nbsp;be&nbsp;put&lt;br&gt;&amp;gt;&nbsp;here:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;monodevelop/Core/src/MonoDevelop.Ide/Test/MonoDevelop.Ide.Tasks&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Right&nbsp;now&nbsp;it&nbsp;is&nbsp;assumed&nbsp;that&nbsp;the&nbsp;nunit&nbsp;assemblies&nbsp;are&nbsp;in&nbsp;the&nbsp;GAC&nbsp;and<br>
&lt;br&gt;&amp;gt;&nbsp;that&nbsp;nunit-console.exe&nbsp;is&nbsp;in&nbsp;the&nbsp;path.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;make&nbsp;test&nbsp;builds&nbsp;MonoDevelop.Ide.dll&nbsp;and&nbsp;MonoDevelop.Ide.Test.dll&nbsp;and&lt;br&gt;&amp;gt;&nbsp;then&nbsp;runs&nbsp;nunit-console.exe&nbsp;on&nbsp;MonoDevelop.Ide.Test.dll.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Is&nbsp;this&nbsp;the&nbsp;way&nbsp;we&nbsp;should&nbsp;go?&nbsp;Will&nbsp;someone&nbsp;try&nbsp;it&nbsp;out&nbsp;on&nbsp;their&nbsp;system<br>
&lt;br&gt;&amp;gt;&nbsp;to&nbsp;see&nbsp;if&nbsp;it&nbsp;works&nbsp;as&nbsp;expected?&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Thanks&nbsp;in&nbsp;advance,&lt;br&gt;&amp;gt;&nbsp;Jacob&lt;br&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;Monodevelop-list&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Monodevelop-list@lists.ximian.com&quot;&gt;<br>
Monodevelop-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monodevelop-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/monodevelop-list&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;<br>

</tt>
