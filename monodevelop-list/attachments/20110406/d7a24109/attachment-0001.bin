>From 40015a3e3d95419ad92b50baf15d3349b0a38950 Mon Sep 17 00:00:00 2001
From: Tomasz Kubacki <tomasz.kubacki@gmail.com>
Date: Wed, 6 Apr 2011 18:15:20 +0200
Subject: [PATCH 2/3] makes postgres table columns appear in database explorer

---
 .../NpgsqlSchemaProvider.cs                        |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

diff --git a/extras/MonoDevelop.Database/MonoDevelop.Database.Sql.Npgsql/NpgsqlSchemaProvider.cs b/extras/MonoDevelop.Database/MonoDevelop.Database.Sql.Npgsql/NpgsqlSchemaProvider.cs
index 20f341a..71b7fec 100644
--- a/extras/MonoDevelop.Database/MonoDevelop.Database.Sql.Npgsql/NpgsqlSchemaProvider.cs
+++ b/extras/MonoDevelop.Database/MonoDevelop.Database.Sql.Npgsql/NpgsqlSchemaProvider.cs
@@ -113,11 +113,10 @@ using Npgsql;
 						a.attname, 
 						a.attnotnull, 
 						a.attlen,
-						typ.typname, 
+						t.typname, 
 						adef.adsrc 
 					FROM
-						pg_catalog.pg_attribute a, 
-						pg_catalog.pg_type typ
+						pg_catalog.pg_attribute a
 					LEFT JOIN pg_catalog.pg_attrdef adef ON 
 						a.attrelid=adef.adrelid
 						AND a.attnum=adef.adnum
@@ -130,7 +129,7 @@ using Npgsql;
 							WHERE relname='{0}')
 						AND a.attnum > 0 
 						AND NOT a.attisdropped
-						AND a.atttypid = typ.oid
+						AND a.atttypid = t.oid
 					ORDER BY a.attnum;", table.Name))) {
 					try {
 							using (IDataReader r = command.ExecuteReader()) {
-- 
1.7.4.1

