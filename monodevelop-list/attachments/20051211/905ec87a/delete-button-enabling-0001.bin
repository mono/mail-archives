Index: Core/src/MonoDevelop.Core.Gui/MonoDevelop.Core.Gui.Dialogs/ManageSitesDialog.cs
===================================================================
--- Core/src/MonoDevelop.Core.Gui/MonoDevelop.Core.Gui.Dialogs/ManageSitesDialog.cs	(revision 54201)
+++ Core/src/MonoDevelop.Core.Gui/MonoDevelop.Core.Gui.Dialogs/ManageSitesDialog.cs	(working copy)
@@ -12,6 +12,7 @@
 	{
 		[Glade.Widget ("ManageSitesDialog")] Dialog dialog;
 		[Glade.Widget] Gtk.TreeView repoTree;
+		[Glade.Widget] Gtk.Button btnRemove;
 		ListStore treeStore;
 		
 		public ManageSitesDialog ()
@@ -22,11 +23,14 @@
 			repoTree.HeadersVisible = true;
 			repoTree.AppendColumn (GettextCatalog.GetString ("Name"), new Gtk.CellRendererText (), "text", 1);
 			repoTree.AppendColumn (GettextCatalog.GetString ("Url"), new Gtk.CellRendererText (), "text", 0);
+			repoTree.Selection.Changed += new EventHandler(OnSelect);
 			
 			RepositoryRecord[] reps = Runtime.SetupService.GetRepositories ();
 			foreach (RepositoryRecord rep in reps) {
 				treeStore.AppendValues (rep.Url, rep.Title);
 			}
+
+			btnRemove.Sensitive = false;
 		}
 		
 		public void Show ()
@@ -87,5 +91,10 @@
 			
 			treeStore.Remove (ref iter);
 		}
+
+		protected void OnSelect(object sender, EventArgs e)
+		{
+			btnRemove.Sensitive = repoTree.Selection.CountSelectedRows() > 0;
+		}
 	}
 }
Index: Core/src/MonoDevelop.Core.Gui/ChangeLog
===================================================================
--- Core/src/MonoDevelop.Core.Gui/ChangeLog	(revision 54201)
+++ Core/src/MonoDevelop.Core.Gui/ChangeLog	(working copy)
@@ -1,3 +1,8 @@
+2005-12-11  Jacob Ilsoe Christensen  <jacobilsoe@gmail.com>
+
+	* MonoDevelop.Core.Gui.Dialogs/ManageSitesDialog.cs:
+	Only enable the delete button when something is selected.
+
 2005-11-25  Lluis Sanchez Gual  <lluis@novell.com>
 
 	* MonoDevelop.Core.Gui/StockIcons.cs: