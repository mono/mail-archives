Index: ChangeLog
===================================================================
--- ChangeLog	(revision 76353)
+++ ChangeLog	(working copy)
@@ -1,3 +1,8 @@
+2007-03-03 James Fitzsimons <james.fitzsimons@gmail.com>
+
+	* MonoDevelop.SourceEditor.Gui/SourceEditorDisplayBinding.cs: Added new 
+	event handlers to update method combo when user mouse clicks on editor. 
+
 2007-04-19 Lluis Sanchez Gual  <lluis@novell.com> 
 
 	* configure.in: Added new deployment projects.
@@ -11,7 +16,17 @@
 	* Core/src/MonoDevelop.Core/MonoDevelop.Core/SystemAssemblyService.cs:
 	! ParsePCFile (string pcfile)
 	- moved check whether pc file has been processed to top of method
+	
+2007-03-03 James Fitzsimons <james.fitzsimons@gmail.com>
 
+	* MonoDevelop.SourceEditor.Gui/SourceEditorDisplayBinding.cs: Added class 
+	  and method browser combos. Added ascx to list in CanCreateContentForMimeType().
+	* EditorBindings.glade: Added checkbox for Class & Method combos to GeneralTextEditorPanel.
+	* MonoDevelop.SourceEditor.Gui.OptionPanels/GeneralTextEditorPanel.cs: 
+	  Added support for turning on  and off the class and method browser combos in the editor.
+	* MonoDevelop.SourceEditor.Properties/TextEditorProperties.cs: Added 
+	   ShowClassBrowser property.
+
 2007-03-17 Lluis Sanchez Gual  <lluis@novell.com> 
 
 	* configure.in: Added galician translation.

Index: Extras/MonoDevelop.SourceEditor/MonoDevelop.SourceEditor.Gui/SourceEditorDisplayBinding.cs
===================================================================
--- Extras/MonoDevelop.SourceEditor/MonoDevelop.SourceEditor.Gui/SourceEditorDisplayBinding.cs	(revision 76353)
+++ Extras/MonoDevelop.SourceEditor/MonoDevelop.SourceEditor.Gui/SourceEditorDisplayBinding.cs	(working copy)
@@ -398,7 +398,8 @@
 			BindClassCombo();
 			
 			IdeApp.ProjectOperations.ParserDatabase.ParseInformationChanged += new ParseInformationEventHandler(UpdateClassBrowser);
-		  	Editor.View.MoveCursor += new MoveCursorHandler(UpdateMethodBrowser);
+		  	Editor.View.MoveCursor += new MoveCursorHandler (OnMoveCursorEvent);
+		  	Editor.View.ButtonReleaseEvent += new ButtonReleaseEventHandler (OnButtonReleaseEvent);
 		}
 		
 		public INavigationPoint BuildNavPoint ()
@@ -424,9 +425,19 @@
 			}
 		}
 		
-	
-		private void UpdateMethodBrowser(object sender, Gtk.MoveCursorArgs args)
+		[GLib.ConnectBefore]
+		private void OnButtonReleaseEvent (object o, ButtonReleaseEventArgs args)
 		{
+			UpdateMethodBrowser();
+		}
+		
+		private void OnMoveCursorEvent (object sender, Gtk.MoveCursorArgs args)
+		{
+			UpdateMethodBrowser();
+		}
+		
+		private void UpdateMethodBrowser()
+		{
 			if (memberParseInfo == null) {
 				ClassBrowserVisible = false;
 				return;
