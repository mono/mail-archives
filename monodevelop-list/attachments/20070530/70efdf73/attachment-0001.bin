Index: UserPasswordDialog.cs
===================================================================
--- UserPasswordDialog.cs	(revision 78213)
+++ UserPasswordDialog.cs	(working copy)
@@ -58,15 +58,45 @@
 			data.may_save = save;
 			return ret;
 		}
+		static string CalculateMD5Hash(string input)
+        {
+            // step 1, calculate MD5 hash from input
+            System.Security.Cryptography.MD5 md5 = System.Security.Cryptography.MD5.Create();
+            byte[] inputBytes = System.Text.Encoding.ASCII.GetBytes(input);
+            byte[] hash = md5.ComputeHash(inputBytes);
+         
+            // step 2, convert byte array to hex string
+            System.Text.StringBuilder sb = new System.Text.StringBuilder();
+            for (int i = 0; i < hash.Length; i++)
+            {
+                sb.Append(hash[i].ToString("X2"));
+            }
+            return sb.ToString();
+        }
+		internal static bool authAvailable(string user, string realm, out string pwd) {		
+		 string orealm = CalculateMD5Hash(realm);		 
+		 string path = String.Format("SvnClient.Realm.{0}.{1}",user,orealm);
+		 pwd = Runtime.Properties.GetProperty (path, "");
+		 Console.WriteLine("checking prop " + path + " : " + pwd);
+		 return  (pwd != "") ;
+		}
+		internal static void authSet(string user, string realm, string pwd) {
+		 string orealm = CalculateMD5Hash(realm);		 
+		 string path = String.Format("SvnClient.Realm.{0}.{1}",user,orealm);
+		 Console.WriteLine("setting prop " + path);
+		 Runtime.Properties.SetProperty (path, pwd);
+		 Runtime.Properties.SaveProperties();
+		}
 		
 		internal static bool Show (bool showPwd, string realm, bool may_save, ref string user_name, out string password, out int save)
 		{
 			string pwd = "", user = user_name;
-			int s = 0;
+			int s = 1;
 			
 			bool res = false;
 			object monitor = new Object ();
-			
+			if(!authAvailable(user, realm, out pwd))
+			{
 			EventHandler del = delegate {
 					try {
 						UserPasswordDialog dlg = new UserPasswordDialog (user, realm, may_save, showPwd);
@@ -75,6 +105,8 @@
 							s = dlg.SavePassword ? 1 : 0;
 							pwd = dlg.Password;
 							user = dlg.User;
+							if (dlg.SavePassword)
+							    authSet(user, realm, pwd);
 						}
 						dlg.Destroy ();
 					} finally {
@@ -94,7 +126,9 @@
 					System.Threading.Monitor.Wait (monitor);
 				}
 			}
-			
+			}else{
+			    res = true;
+			}    
 			user_name = user;
 			save = s;
 			password = pwd;