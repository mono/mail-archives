Index: configure.in
===================================================================
--- configure.in	(revision 58828)
+++ configure.in	(working copy)
@@ -140,15 +140,23 @@
 	AC_PATH_PROG(BOOC, booc)
 fi
 
+dnl nunit
 MONO_NUNIT_REQUIRED_VERSION=1.1.8
+NUNIT_REQUIRED_VERSION=2.2.0
 AC_ARG_ENABLE(nunit,
-	AC_HELP_STRING([--enable-nunit],
-		[enable support for NUnit [default=yes]]),
-	[PKG_CHECK_MODULES(MONO_NUNIT, mono-nunit >= $MONO_NUNIT_REQUIRED_VERSION, enable_nunit=${enableval}, enable_nunit=no)],
-	enable_nunit=yes)
-
+    AC_HELP_STRING([--enable-nunit], [enable support for NUnit [default=yes]]),
+    [PKG_CHECK_MODULES(MONO_NUNIT, mono-nunit >= $MONO_NUNIT_REQUIRED_VERSION,
+        NUNIT_LIBS=$MONO_NUNIT_LIBS,
+        enable_nunit=${enableval},
+        [PKG_CHECK_MODULES(OFFICIAL_NUNIT, nunit >= $NUNIT_REQUIRED_VERSION,
+           NUNIT_LIBS=$OFFICIAL_NUNIT_LIBS
+           enable_nunit=${enableval},
+        enable_nunit=no)])],
+    enable_nunit=yes)
 AM_CONDITIONAL(ENABLE_NUNIT, test x$enable_nunit = xyes)
+AC_SUBST(NUNIT_LIBS)
 
+
 AC_ARG_ENABLE(monoextensions,
 	AC_HELP_STRING([--enable-monoextensions],
 		[enable extensions for Mono development [default=yes]]),
Index: Extras/NUnit/Makefile.am
===================================================================
--- Extras/NUnit/Makefile.am	(revision 58828)
+++ Extras/NUnit/Makefile.am	(working copy)
@@ -4,8 +4,6 @@
 
 REFS = -r:System \
        -r:System.Xml \
-       -r:nunit.framework \
-	-r:nunit.core \
 	-r:$(top_builddir)/build/bin/MonoDevelop.Core.dll \
 	-r:$(top_builddir)/build/AddIns/MonoDevelop.Core.Gui.dll \
 	-r:$(top_builddir)/build/AddIns/MonoDevelop.Projects.dll \
@@ -13,7 +11,8 @@
 	-r:$(top_builddir)/build/AddIns/MonoDevelop.Components.dll \
 	-r:$(top_builddir)/build/AddIns/MonoDevelop.Ide.dll \
 	$(GTK_SHARP_LIBS) \
-	$(GLADE_SHARP_LIBS)
+	$(GLADE_SHARP_LIBS) \
+	$(NUNIT_LIBS)
 
 FILES = \
 AssemblyInfo.cs \
Index: Extras/CSharpBinding/Makefile.am
===================================================================
--- Extras/CSharpBinding/Makefile.am	(revision 58828)
+++ Extras/CSharpBinding/Makefile.am	(working copy)
@@ -80,7 +80,7 @@
 	Test/Test.cs
 
 TESTDLLS = \
-	/r:nunit.framework.dll
+	$(NUNIT_LIBS)
 
 TESTASSEMBLY = $(top_builddir)/build/bin/CSharpBinding.Test.dll
 