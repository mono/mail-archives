
Property changes on: .
___________________________________________________________________
Name: svn:ignore
   + Makefile.in
MonoDevelop.Gettext.pidb
Makefile


Index: MonoDevelop.Gettext.Editor/POEditorWidget.cs
===================================================================
--- MonoDevelop.Gettext.Editor/POEditorWidget.cs	(revision 83501)
+++ MonoDevelop.Gettext.Editor/POEditorWidget.cs	(working copy)
@@ -277,6 +277,7 @@
 				this.notebookTranslated.RemovePage (i);
 			}
 		}
+		
 		void EditEntry (CatalogEntry entry)
 		{
 			this.isUpdating = true;
@@ -300,23 +301,26 @@
 						this.gtkSpellSet[this.textviewOriginalPlural] = true;
 					}
 				}
-				RemoveTextViewsFrom (entry.NumberOfTranslations);
-				
-				for (int i = this.notebookTranslated.NPages; i < entry.NumberOfTranslations; i++) {
-					AddTextview (String.Format (GettextCatalog.GetString ("Plural {0}"), i), i);
-				}
-				
-				for (int i = 0; i < entry.NumberOfTranslations; i++) {
-					TextView textView = GetTextView (i);
-					if (textView == null)
-						continue;
-					textView.Buffer.Text = entry != null ? entry.GetTranslation (i) : "";
-					if (GtkSpell.IsSupported && !gtkSpellSet.ContainsKey (textView)) {
-						GtkSpell.Attach (textView, "en");
-						this.gtkSpellSet[textView] = true;
+				if (entry != null) { 
+					RemoveTextViewsFrom (entry.NumberOfTranslations);
+					
+					for (int i = this.notebookTranslated.NPages; i < entry.NumberOfTranslations; i++) {
+						AddTextview (String.Format (GettextCatalog.GetString ("Plural {0}"), i), i);
 					}
+					
+					for (int i = 0; i < entry.NumberOfTranslations; i++) {
+						TextView textView = GetTextView (i);
+						if (textView == null)
+							continue;
+						textView.Buffer.Text = entry != null ? entry.GetTranslation (i) : "";
+						if (GtkSpell.IsSupported && !gtkSpellSet.ContainsKey (textView)) {
+							GtkSpell.Attach (textView, "en");
+							this.gtkSpellSet[textView] = true;
+						}
+					}
+				} else {
+					RemoveTextViewsFrom (this.notebookTranslated.NPages);
 				}
-				
 				this.foundInStore.Clear ();
 				if (entry != null) { 
 					foreach (string reference in entry.References) {
Index: ChangeLog
===================================================================
--- ChangeLog	(revision 83501)
+++ ChangeLog	(working copy)
@@ -1,3 +1,7 @@
+2007-08-05 Rafael Teixeira <monoman@gmail.com>
+	* . : Svn:ignore build files (generated)
+	* MonoDevelop.Gettext.Editor/POEditorWidget.cs : Check if entry is null while adjusting the multiple plural tabs
+
 2007-08-01  Mike Krüger <mkrueger@novell.com> 
 
 	* MonoDevelop.Gettext.Editor/POEditorWidget.cs,