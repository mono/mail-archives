Index: SolutionDeployer.cs
===================================================================
--- SolutionDeployer.cs	(revision 65965)
+++ SolutionDeployer.cs	(working copy)
@@ -60,7 +60,10 @@
 		
 		public bool GenerateFiles (Combine combine, IProgressMonitor monitor )
 		{
-			 return GenerateFiles ( combine, combine.ActiveConfiguration.Name, monitor );
+			if (combine.ActiveConfiguration != null)
+				return GenerateFiles ( combine, combine.ActiveConfiguration.Name, monitor );
+			else
+				return false;
 		}
 		
 		public bool GenerateFiles (Combine combine, string defaultConf, IProgressMonitor monitor )
Index: ChangeLog
===================================================================
--- ChangeLog	(revision 65965)
+++ ChangeLog	(working copy)
@@ -1,3 +1,9 @@
+2006-09-27 Matej Urbas <matej.urbas@gmail.com>
+
+	* SolutionDeployer.cs:
+	* Commands.cs: Prevent an exception when autotools' files are
+	  generated on empty solutions.
+
 2006-08-31 Levi Bard  <taktaktaktaktaktaktaktaktaktak@gmail.com>
 
 	* SimpleProjectMakefileHandler.cs: Win32 pathing vs autotools fixes.
Index: Commands.cs
===================================================================
--- Commands.cs	(revision 65965)
+++ Commands.cs	(working copy)
@@ -60,6 +60,13 @@
 		protected void OnGenerate()
 		{
 			Combine combine = (Combine) CurrentNode.DataItem;
+			
+			if (combine.ActiveConfiguration == null)
+			{
+				MonoDevelop.Core.Gui.Services.MessageService.ShowMessage(GettextCatalog.GetString("Cannot create autotools files for empty solutions."));
+				return;
+			}
+			
 			SolutionDeployer deployer = new SolutionDeployer();
 			
 			if ( deployer.HasGeneratedFiles ( combine ) )
