--
-- PostgreSQL database dump
--

-- Started on 2010-10-04 12:16:55 ART

SET statement_timeout = 0;
SET client_encoding = 'LATIN1';
SET standard_conforming_strings = off;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET escape_string_warning = off;

--
-- TOC entry 299 (class 2612 OID 5492535)
-- Name: plpgsql; Type: PROCEDURAL LANGUAGE; Schema: -; Owner: usrpgsql
--

CREATE PROCEDURAL LANGUAGE plpgsql;


ALTER PROCEDURAL LANGUAGE plpgsql OWNER TO usrpgsql;

SET search_path = public, pg_catalog;

--
-- TOC entry 1250 (class 1259 OID 5492471)
-- Dependencies: 4
-- Name: inscriptos_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE inscriptos_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.inscriptos_id_seq OWNER TO ivsi;

SET default_tablespace = '';

SET default_with_oids = true;

--
-- TOC entry 1233 (class 1259 OID 71878)
-- Dependencies: 1587 4
-- Name: inscriptos; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE inscriptos (
    id integer DEFAULT nextval('inscriptos_id_seq'::regclass) NOT NULL,
    tipoins character(2),
    ruip integer,
    nombre character varying,
    nrdoc integer,
    tipdoc smallint,
    nacimiento date,
    localidad integer,
    profesion smallint,
    slaboral smallint,
    estudios smallint,
    ingresos numeric(10,2)
);


ALTER TABLE public.inscriptos OWNER TO ivsi;

--
-- TOC entry 1234 (class 1259 OID 71888)
-- Dependencies: 4
-- Name: tipdoc; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE tipdoc (
    id smallint NOT NULL,
    tipdoc character varying
);


ALTER TABLE public.tipdoc OWNER TO ivsi;

--
-- TOC entry 1264 (class 1259 OID 7996564)
-- Dependencies: 1330 4
-- Name: ins; Type: VIEW; Schema: public; Owner: ivsi
--

CREATE VIEW ins AS
    SELECT i.id, i.nombre, i.tipoins, i.ruip, t.tipdoc, i.nrdoc, i.ingresos FROM (inscriptos i JOIN tipdoc t ON ((i.tipdoc = t.id)));


ALTER TABLE public.ins OWNER TO ivsi;

--
-- TOC entry 17 (class 1255 OID 7996569)
-- Dependencies: 4 298
-- Name: getins(character varying); Type: FUNCTION; Schema: public; Owner: ivsi
--

CREATE FUNCTION getins(nombre character varying) RETURNS SETOF ins
    LANGUAGE sql
    AS $_$
SELECT * FROM ins WHERE nombre ILIKE $1 ORDER BY nombre
$_$;


ALTER FUNCTION public.getins(nombre character varying) OWNER TO ivsi;

--
-- TOC entry 1251 (class 1259 OID 5492474)
-- Dependencies: 4
-- Name: localidad_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE localidad_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.localidad_id_seq OWNER TO ivsi;

--
-- TOC entry 1238 (class 1259 OID 71917)
-- Dependencies: 1591 4
-- Name: localidad; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE localidad (
    id integer DEFAULT nextval('localidad_id_seq'::regclass) NOT NULL,
    localidad character varying
);


ALTER TABLE public.localidad OWNER TO ivsi;

--
-- TOC entry 18 (class 1255 OID 7996570)
-- Dependencies: 4 257
-- Name: getloca(character varying); Type: FUNCTION; Schema: public; Owner: ivsi
--

CREATE FUNCTION getloca(nombre character varying) RETURNS SETOF localidad
    LANGUAGE sql
    AS $_$
SELECT * FROM localidad WHERE localidad ILIKE $1 ORDER BY localidad
$_$;


ALTER FUNCTION public.getloca(nombre character varying) OWNER TO ivsi;

SET default_with_oids = false;

--
-- TOC entry 1262 (class 1259 OID 7996498)
-- Dependencies: 1603 1604 1605 1606 4
-- Name: nlegal; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE nlegal (
    id integer NOT NULL,
    tipo smallint DEFAULT 0,
    nro integer DEFAULT 0,
    ano smallint DEFAULT 0,
    fecha date,
    asunto character varying,
    parentid integer DEFAULT 0,
    expte character varying NOT NULL,
    concepto smallint NOT NULL,
    alcance character varying
);


ALTER TABLE public.nlegal OWNER TO ivsi;

--
-- TOC entry 1680 (class 0 OID 0)
-- Dependencies: 1262
-- Name: TABLE nlegal; Type: COMMENT; Schema: public; Owner: ivsi
--

COMMENT ON TABLE nlegal IS 'Normas legales de IPVU';


--
-- TOC entry 19 (class 1255 OID 7996571)
-- Dependencies: 294 4
-- Name: getnleg(character varying); Type: FUNCTION; Schema: public; Owner: ivsi
--

CREATE FUNCTION getnleg(asunto character varying) RETURNS SETOF nlegal
    LANGUAGE sql
    AS $_$
SELECT * FROM nlegal WHERE asunto ILIKE $1 ORDER BY asunto
$_$;


ALTER FUNCTION public.getnleg(asunto character varying) OWNER TO ivsi;

--
-- TOC entry 1247 (class 1259 OID 5492453)
-- Dependencies: 4
-- Name: barrios_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE barrios_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.barrios_id_seq OWNER TO ivsi;

SET default_with_oids = true;

--
-- TOC entry 1235 (class 1259 OID 71895)
-- Dependencies: 1588 4
-- Name: barrios; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE barrios (
    id integer DEFAULT nextval('barrios_id_seq'::regclass) NOT NULL,
    sistema smallint,
    codigo character varying,
    plan smallint,
    localidad integer,
    proyecto character varying
);


ALTER TABLE public.barrios OWNER TO ivsi;

SET default_with_oids = false;

--
-- TOC entry 1263 (class 1259 OID 7996529)
-- Dependencies: 1607 4
-- Name: cnleg; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE cnleg (
    id smallint DEFAULT 0 NOT NULL,
    concepto character varying NOT NULL
);


ALTER TABLE public.cnleg OWNER TO ivsi;

--
-- TOC entry 1681 (class 0 OID 0)
-- Dependencies: 1263
-- Name: TABLE cnleg; Type: COMMENT; Schema: public; Owner: ivsi
--

COMMENT ON TABLE cnleg IS 'Concepto de la Norma Legal, pe. 0 adjudicación, 1 desadjudicacion, 2 camnio vivienda, 3 comodato, 4 institucional, 5 precio de venta, etc.';


--
-- TOC entry 1259 (class 1259 OID 5492551)
-- Dependencies: 4
-- Name: conceptos; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE conceptos (
    id smallint NOT NULL,
    concepto character varying
);


ALTER TABLE public.conceptos OWNER TO ivsi;

--
-- TOC entry 1682 (class 0 OID 0)
-- Dependencies: 1259
-- Name: TABLE conceptos; Type: COMMENT; Schema: public; Owner: ivsi
--

COMMENT ON TABLE conceptos IS 'Tabla de conceptos de mvcc, pe. 0 debito por cuota migracion, 990 pago por acreditacion segun cobranza. 10 amortizacion, 11 interes, 30 gastos administrativos, etc.';


SET default_with_oids = true;

--
-- TOC entry 1245 (class 1259 OID 71983)
-- Dependencies: 4
-- Name: cupones; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE cupones (
    idrem bigint,
    codcomp bigint,
    nrocomp bigint,
    pago date,
    importe numeric(10,2),
    error character varying(200),
    nincs integer
);


ALTER TABLE public.cupones OWNER TO ivsi;

--
-- TOC entry 1257 (class 1259 OID 5492507)
-- Dependencies: 4
-- Name: cupones_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE cupones_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.cupones_id_seq OWNER TO ivsi;

--
-- TOC entry 1248 (class 1259 OID 5492459)
-- Dependencies: 4
-- Name: finan_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE finan_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.finan_id_seq OWNER TO ivsi;

--
-- TOC entry 1246 (class 1259 OID 1339941)
-- Dependencies: 1597 4
-- Name: finan; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE finan (
    id integer DEFAULT nextval('finan_id_seq'::regclass) NOT NULL,
    sistema character varying,
    idinsc integer,
    tipfi smallint,
    nrofi smallint,
    plazo smallint,
    emitido smallint,
    fecfi date,
    interes numeric,
    saldo numeric,
    estado character(1),
    salte numeric,
    "añobase" smallint,
    mesbase smallint,
    porsub numeric,
    fecsus date,
    mesus smallint,
    pagodiferido character(1),
    deudafec date,
    deudactas smallint,
    dbcr numeric,
    i double precision,
    r454 character(1),
    impulcta numeric,
    vtoultcta date
);


ALTER TABLE public.finan OWNER TO ivsi;

--
-- TOC entry 1249 (class 1259 OID 5492468)
-- Dependencies: 4
-- Name: grufa_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE grufa_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.grufa_id_seq OWNER TO ivsi;

--
-- TOC entry 1239 (class 1259 OID 71934)
-- Dependencies: 1592 4
-- Name: grufa; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE grufa (
    id integer DEFAULT nextval('grufa_id_seq'::regclass) NOT NULL,
    idins integer,
    relacion smallint,
    apellido character varying,
    nombre character varying,
    tido smallint,
    nudo character varying
);


ALTER TABLE public.grufa OWNER TO ivsi;

--
-- TOC entry 1240 (class 1259 OID 71942)
-- Dependencies: 1593 4
-- Name: mvcc; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE mvcc (
    prestamo integer,
    sucursal integer,
    tipco smallint,
    nro integer,
    fecha date,
    observaciones character varying,
    importe numeric,
    concepto smallint DEFAULT 0,
    id bigint
);


ALTER TABLE public.mvcc OWNER TO ivsi;

--
-- TOC entry 1252 (class 1259 OID 5492477)
-- Dependencies: 4
-- Name: mvcc_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE mvcc_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.mvcc_id_seq OWNER TO ivsi;

--
-- TOC entry 1261 (class 1259 OID 7996496)
-- Dependencies: 1262 4
-- Name: nlegal_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE nlegal_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.nlegal_id_seq OWNER TO ivsi;

--
-- TOC entry 1683 (class 0 OID 0)
-- Dependencies: 1261
-- Name: nlegal_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ivsi
--

ALTER SEQUENCE nlegal_id_seq OWNED BY nlegal.id;


--
-- TOC entry 1253 (class 1259 OID 5492480)
-- Dependencies: 4
-- Name: organismos_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE organismos_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.organismos_id_seq OWNER TO ivsi;

--
-- TOC entry 1243 (class 1259 OID 71968)
-- Dependencies: 1595 4
-- Name: organismos; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE organismos (
    id integer DEFAULT nextval('organismos_id_seq'::regclass) NOT NULL,
    nombre character varying
);


ALTER TABLE public.organismos OWNER TO ivsi;

--
-- TOC entry 1254 (class 1259 OID 5492483)
-- Dependencies: 4
-- Name: remesas_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE remesas_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.remesas_id_seq OWNER TO ivsi;

--
-- TOC entry 1244 (class 1259 OID 71975)
-- Dependencies: 1596 4
-- Name: remesas; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE remesas (
    id integer DEFAULT nextval('remesas_id_seq'::regclass) NOT NULL,
    ctacte smallint,
    hoja integer,
    fecha time without time zone,
    sucursal integer,
    cupones smallint,
    importe numeric,
    marca character varying,
    nc integer,
    sistema smallint
);


ALTER TABLE public.remesas OWNER TO ivsi;

--
-- TOC entry 1255 (class 1259 OID 5492486)
-- Dependencies: 4
-- Name: sucursales_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE sucursales_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.sucursales_id_seq OWNER TO ivsi;

--
-- TOC entry 1241 (class 1259 OID 71952)
-- Dependencies: 1594 4
-- Name: sucursales; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE sucursales (
    id integer DEFAULT nextval('sucursales_id_seq'::regclass) NOT NULL,
    organismo integer,
    idsucursal integer,
    sucursal character varying,
    domicilio character varying,
    localidad integer,
    contacto character varying,
    te1 character varying,
    te2 character varying,
    mail character varying
);


ALTER TABLE public.sucursales OWNER TO ivsi;

--
-- TOC entry 1242 (class 1259 OID 71960)
-- Dependencies: 4
-- Name: tipco; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE tipco (
    id smallint NOT NULL,
    tipco character varying,
    letra character(2),
    ultimonumero bigint,
    cuenta integer,
    dbcr boolean,
    lastupdate date
);


ALTER TABLE public.tipco OWNER TO ivsi;

SET default_with_oids = false;

--
-- TOC entry 1260 (class 1259 OID 7996451)
-- Dependencies: 1600 1601 4
-- Name: tnleg; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE tnleg (
    id smallint DEFAULT 0 NOT NULL,
    nlegal character varying DEFAULT ''::character varying NOT NULL
);


ALTER TABLE public.tnleg OWNER TO ivsi;

SET default_with_oids = true;

--
-- TOC entry 1236 (class 1259 OID 71903)
-- Dependencies: 1589 4
-- Name: undins; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE undins (
    unidad integer NOT NULL,
    idins integer,
    estado character(1) DEFAULT 'A'::bpchar
);


ALTER TABLE public.undins OWNER TO ivsi;

--
-- TOC entry 1256 (class 1259 OID 5492500)
-- Dependencies: 4
-- Name: unidbarrio_id_seq; Type: SEQUENCE; Schema: public; Owner: ivsi
--

CREATE SEQUENCE unidbarrio_id_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.unidbarrio_id_seq OWNER TO ivsi;

--
-- TOC entry 1237 (class 1259 OID 71909)
-- Dependencies: 1590 4
-- Name: unidbarrio; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE unidbarrio (
    id integer DEFAULT nextval('unidbarrio_id_seq'::regclass) NOT NULL,
    barrio integer,
    mza character varying,
    lote character varying,
    mono character varying,
    puerta character varying,
    piso character varying,
    depto character varying,
    tipvi smallint,
    calle character varying,
    nro integer,
    nc character varying
);


ALTER TABLE public.unidbarrio OWNER TO ivsi;

SET default_with_oids = false;

--
-- TOC entry 1258 (class 1259 OID 5492514)
-- Dependencies: 1598 1599 4
-- Name: usuarios; Type: TABLE; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE TABLE usuarios (
    nick character varying NOT NULL,
    nombre character varying,
    apellido character varying,
    email character varying,
    telefono character varying,
    password character varying,
    nivel smallint DEFAULT 3,
    depto smallint DEFAULT 99
);


ALTER TABLE public.usuarios OWNER TO ivsi;

--
-- TOC entry 1602 (class 2604 OID 7996500)
-- Dependencies: 1261 1262 1262
-- Name: id; Type: DEFAULT; Schema: public; Owner: ivsi
--

ALTER TABLE nlegal ALTER COLUMN id SET DEFAULT nextval('nlegal_id_seq'::regclass);


--
-- TOC entry 1615 (class 2606 OID 71901)
-- Dependencies: 1235 1235
-- Name: barrios_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY barrios
    ADD CONSTRAINT barrios_pk PRIMARY KEY (id);


--
-- TOC entry 1658 (class 2606 OID 7996541)
-- Dependencies: 1263 1263
-- Name: cnlegal; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY cnleg
    ADD CONSTRAINT cnlegal UNIQUE (concepto);


--
-- TOC entry 1643 (class 2606 OID 1339947)
-- Dependencies: 1246 1246
-- Name: finan_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY finan
    ADD CONSTRAINT finan_pk PRIMARY KEY (id);


--
-- TOC entry 1624 (class 2606 OID 71940)
-- Dependencies: 1239 1239
-- Name: grufa_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY grufa
    ADD CONSTRAINT grufa_pk PRIMARY KEY (id);


--
-- TOC entry 1610 (class 2606 OID 71884)
-- Dependencies: 1233 1233
-- Name: inscriptos_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY inscriptos
    ADD CONSTRAINT inscriptos_pk PRIMARY KEY (id);


--
-- TOC entry 1622 (class 2606 OID 71923)
-- Dependencies: 1238 1238
-- Name: localidad_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY localidad
    ADD CONSTRAINT localidad_pk PRIMARY KEY (id);


--
-- TOC entry 1636 (class 2606 OID 71974)
-- Dependencies: 1243 1243
-- Name: organismos_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY organismos
    ADD CONSTRAINT organismos_pk PRIMARY KEY (id);


--
-- TOC entry 1660 (class 2606 OID 7996539)
-- Dependencies: 1263 1263
-- Name: pk_cnleg; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY cnleg
    ADD CONSTRAINT pk_cnleg PRIMARY KEY (id);


--
-- TOC entry 1647 (class 2606 OID 5492557)
-- Dependencies: 1259 1259
-- Name: pk_id; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY conceptos
    ADD CONSTRAINT pk_id PRIMARY KEY (id);


--
-- TOC entry 1654 (class 2606 OID 7996505)
-- Dependencies: 1262 1262
-- Name: pk_legal; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY nlegal
    ADD CONSTRAINT pk_legal PRIMARY KEY (id);


--
-- TOC entry 1649 (class 2606 OID 7996459)
-- Dependencies: 1260 1260
-- Name: pk_nlegal; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY tnleg
    ADD CONSTRAINT pk_nlegal PRIMARY KEY (id);


--
-- TOC entry 1645 (class 2606 OID 5492520)
-- Dependencies: 1258 1258
-- Name: pknick; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY usuarios
    ADD CONSTRAINT pknick PRIMARY KEY (nick);


--
-- TOC entry 1638 (class 2606 OID 71981)
-- Dependencies: 1244 1244
-- Name: remesas_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY remesas
    ADD CONSTRAINT remesas_pk PRIMARY KEY (id);


--
-- TOC entry 1630 (class 2606 OID 71958)
-- Dependencies: 1241 1241
-- Name: sucursales_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY sucursales
    ADD CONSTRAINT sucursales_pk PRIMARY KEY (id);


--
-- TOC entry 1634 (class 2606 OID 71966)
-- Dependencies: 1242 1242
-- Name: tipco_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY tipco
    ADD CONSTRAINT tipco_pk PRIMARY KEY (id);


--
-- TOC entry 1613 (class 2606 OID 71894)
-- Dependencies: 1234 1234
-- Name: tipdoc_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY tipdoc
    ADD CONSTRAINT tipdoc_pk PRIMARY KEY (id);


--
-- TOC entry 1651 (class 2606 OID 7996461)
-- Dependencies: 1260 1260
-- Name: tnlegal; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY tnleg
    ADD CONSTRAINT tnlegal UNIQUE (nlegal);


--
-- TOC entry 1619 (class 2606 OID 71915)
-- Dependencies: 1237 1237
-- Name: unidbarrio_pk; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY unidbarrio
    ADD CONSTRAINT unidbarrio_pk PRIMARY KEY (id);


--
-- TOC entry 1656 (class 2606 OID 7996507)
-- Dependencies: 1262 1262 1262 1262
-- Name: unique_nlegal; Type: CONSTRAINT; Schema: public; Owner: ivsi; Tablespace: 
--

ALTER TABLE ONLY nlegal
    ADD CONSTRAINT unique_nlegal UNIQUE (tipo, nro, ano);


--
-- TOC entry 1617 (class 1259 OID 71916)
-- Dependencies: 1237
-- Name: barrio_idx1; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX barrio_idx1 ON unidbarrio USING btree (barrio);


--
-- TOC entry 1626 (class 1259 OID 7074594)
-- Dependencies: 1240 1240 1240
-- Name: concepto; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX concepto ON mvcc USING btree (tipco, nro, concepto);


--
-- TOC entry 1608 (class 1259 OID 72110)
-- Dependencies: 1233 1233 1233
-- Name: documento_idx1; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE UNIQUE INDEX documento_idx1 ON inscriptos USING btree (nrdoc, tipdoc, id);


--
-- TOC entry 1640 (class 1259 OID 1339953)
-- Dependencies: 1246 1246 1246 1246
-- Name: finan_idx1; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX finan_idx1 ON finan USING btree (sistema, idinsc, tipfi, nrofi);


--
-- TOC entry 1641 (class 1259 OID 1339954)
-- Dependencies: 1246
-- Name: finan_idx2; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX finan_idx2 ON finan USING btree (idinsc);


--
-- TOC entry 1652 (class 1259 OID 7996547)
-- Dependencies: 1262
-- Name: fki_cnleg; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX fki_cnleg ON nlegal USING btree (concepto);


--
-- TOC entry 1616 (class 1259 OID 71902)
-- Dependencies: 1235 1235
-- Name: loca_idx1; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX loca_idx1 ON barrios USING btree (localidad, id);


--
-- TOC entry 1620 (class 1259 OID 71924)
-- Dependencies: 1238
-- Name: localidad_idx1; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX localidad_idx1 ON localidad USING btree (localidad);


--
-- TOC entry 1611 (class 1259 OID 71887)
-- Dependencies: 1233
-- Name: nombre_idx3; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX nombre_idx3 ON inscriptos USING btree (nombre);


--
-- TOC entry 1631 (class 1259 OID 71959)
-- Dependencies: 1241 1241
-- Name: table10_idx1; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX table10_idx1 ON sucursales USING btree (organismo, idsucursal);


--
-- TOC entry 1632 (class 1259 OID 592943)
-- Dependencies: 1242 1242
-- Name: table11_idx1; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE UNIQUE INDEX table11_idx1 ON tipco USING btree (id, letra);


--
-- TOC entry 1639 (class 1259 OID 71982)
-- Dependencies: 1244
-- Name: table13_idx1; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX table13_idx1 ON remesas USING btree (sucursal);


--
-- TOC entry 1625 (class 1259 OID 71941)
-- Dependencies: 1239 1239
-- Name: table8_idx1; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX table8_idx1 ON grufa USING btree (idins, id);


--
-- TOC entry 1627 (class 1259 OID 71949)
-- Dependencies: 1240
-- Name: table9_idx1; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX table9_idx1 ON mvcc USING btree (prestamo);


--
-- TOC entry 1628 (class 1259 OID 71950)
-- Dependencies: 1240
-- Name: table9_idx2; Type: INDEX; Schema: public; Owner: ivsi; Tablespace: 
--

CREATE INDEX table9_idx2 ON mvcc USING btree (sucursal);


--
-- TOC entry 1663 (class 2606 OID 72038)
-- Dependencies: 1235 1621 1238
-- Name: barrios_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY barrios
    ADD CONSTRAINT barrios_fkey1 FOREIGN KEY (localidad) REFERENCES localidad(id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- TOC entry 1673 (class 2606 OID 7996542)
-- Dependencies: 1659 1263 1262
-- Name: cnleg; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY nlegal
    ADD CONSTRAINT cnleg FOREIGN KEY (concepto) REFERENCES cnleg(id);


--
-- TOC entry 1672 (class 2606 OID 1339948)
-- Dependencies: 1246 1233 1609
-- Name: finan_fkey2; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY finan
    ADD CONSTRAINT finan_fkey2 FOREIGN KEY (idinsc) REFERENCES inscriptos(id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- TOC entry 1668 (class 2606 OID 72003)
-- Dependencies: 1612 1239 1234
-- Name: grufa_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY grufa
    ADD CONSTRAINT grufa_fkey1 FOREIGN KEY (tido) REFERENCES tipdoc(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 1667 (class 2606 OID 72048)
-- Dependencies: 1609 1239 1233
-- Name: grufa_fkey2; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY grufa
    ADD CONSTRAINT grufa_fkey2 FOREIGN KEY (idins) REFERENCES inscriptos(id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- TOC entry 1661 (class 2606 OID 277465)
-- Dependencies: 1612 1233 1234
-- Name: inscriptos_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY inscriptos
    ADD CONSTRAINT inscriptos_fkey1 FOREIGN KEY (tipdoc) REFERENCES tipdoc(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 1662 (class 2606 OID 72033)
-- Dependencies: 1238 1621 1233
-- Name: inscriptos_fkey4; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY inscriptos
    ADD CONSTRAINT inscriptos_fkey4 FOREIGN KEY (localidad) REFERENCES localidad(id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- TOC entry 1670 (class 2606 OID 72008)
-- Dependencies: 1629 1240 1241
-- Name: mvcc_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY mvcc
    ADD CONSTRAINT mvcc_fkey1 FOREIGN KEY (sucursal) REFERENCES sucursales(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 1669 (class 2606 OID 72013)
-- Dependencies: 1240 1633 1242
-- Name: mvcc_fkey2; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY mvcc
    ADD CONSTRAINT mvcc_fkey2 FOREIGN KEY (tipco) REFERENCES tipco(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 1671 (class 2606 OID 72023)
-- Dependencies: 1241 1635 1243
-- Name: sucursales_fkey2; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY sucursales
    ADD CONSTRAINT sucursales_fkey2 FOREIGN KEY (organismo) REFERENCES organismos(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 1674 (class 2606 OID 7996508)
-- Dependencies: 1648 1262 1260
-- Name: tnlegal; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY nlegal
    ADD CONSTRAINT tnlegal FOREIGN KEY (tipo) REFERENCES tnleg(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 1665 (class 2606 OID 71993)
-- Dependencies: 1236 1618 1237
-- Name: undins_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY undins
    ADD CONSTRAINT undins_fkey1 FOREIGN KEY (unidad) REFERENCES unidbarrio(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 1664 (class 2606 OID 72028)
-- Dependencies: 1233 1609 1236
-- Name: undins_fkey2; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY undins
    ADD CONSTRAINT undins_fkey2 FOREIGN KEY (idins) REFERENCES inscriptos(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 1666 (class 2606 OID 71998)
-- Dependencies: 1235 1614 1237
-- Name: unidbarrio_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: ivsi
--

ALTER TABLE ONLY unidbarrio
    ADD CONSTRAINT unidbarrio_fkey1 FOREIGN KEY (barrio) REFERENCES barrios(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 1679 (class 0 OID 0)
-- Dependencies: 4
-- Name: public; Type: ACL; Schema: -; Owner: usrpgsql
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM usrpgsql;
GRANT ALL ON SCHEMA public TO usrpgsql;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2010-10-04 12:16:57 ART

--
-- PostgreSQL database dump complete
--
