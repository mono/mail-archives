<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Best way to manage program version number for C
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Best%20way%20to%20manage%20program%20version%20number%20for%20C&In-Reply-To=1302517355446-3441560.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013640.html">
   <LINK REL="Next"  HREF="013654.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Best way to manage program version number for C</H1>
    <B>Steve Lessard</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Best%20way%20to%20manage%20program%20version%20number%20for%20C&In-Reply-To=1302517355446-3441560.post%40n4.nabble.com"
       TITLE="[MonoDevelop] Best way to manage program version number for C">s_lessard at yahoo.com
       </A><BR>
    <I>Tue Apr 12 17:27:43 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013640.html">[MonoDevelop] Best way to manage program version number for C
</A></li>
        <LI>Next message: <A HREF="013654.html">[MonoDevelop] Best way to manage program version number for C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13645">[ date ]</a>
              <a href="thread.html#13645">[ thread ]</a>
              <a href="subject.html#13645">[ subject ]</a>
              <a href="author.html#13645">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I manage incrementing the version number in my assemblies with a few simple 
shell commands that can be called from a makefile or .csproj file.

Preparation:
In your AssemblyInfo.cs file update the code that sets the assembly's version 
number by replacing the build increment number with a special token you can 
easily identify later with editing tools such as sed. (I used ${BUILD_NUMBER})

The steps are:
1. Check out of source control a file that contains nothing more than the most 
recently used build number as text
2. load the text of that file into an environment variable
3. Increment the value in that environment variable
4. Use sed to search AssemblyInfo.cs and replace the special token with the 
value of the incremented environment variable.
5. Write the value of the incremented environment variable back to the text file
6. Check the text file back into source control.
7. Run your build as usual






________________________________
From: Steve Ricketts &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">velocedge at hotmail.com</A>&gt;
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">monodevelop-list at lists.ximian.com</A>
Sent: Mon, April 11, 2011 3:22:35 AM
Subject: Re: [MonoDevelop] Best way to manage program version number for C

Yes, it does.  But code-wise, how do you manage the revision number?  Can you
access the version number in the solution or project?  Is there a way to
automatically increment that?  

--
View this message in context: 
<A HREF="http://mono.1490590.n4.nabble.com/Best-way-to-manage-program-version-number-for-C-tp3440476p3441560.html">http://mono.1490590.n4.nabble.com/Best-way-to-manage-program-version-number-for-C-tp3440476p3441560.html</A>

Sent from the Mono - MonoDevelop IDE mailing list archive at Nabble.com.
_______________________________________________
Monodevelop-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodevelop-list/attachments/20110412/2d07996a/attachment.html">http://lists.ximian.com/pipermail/monodevelop-list/attachments/20110412/2d07996a/attachment.html</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013640.html">[MonoDevelop] Best way to manage program version number for C
</A></li>
	<LI>Next message: <A HREF="013654.html">[MonoDevelop] Best way to manage program version number for C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13645">[ date ]</a>
              <a href="thread.html#13645">[ thread ]</a>
              <a href="subject.html#13645">[ subject ]</a>
              <a href="author.html#13645">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
