<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Moving to MSBuild
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Moving%20to%20MSBuild&In-Reply-To=482F1BD8.4070805%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007740.html">
   <LINK REL="Next"  HREF="007720.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Moving to MSBuild</H1>
    <B>Lluis Sanchez Gual</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Moving%20to%20MSBuild&In-Reply-To=482F1BD8.4070805%40gmail.com"
       TITLE="[MonoDevelop] Moving to MSBuild">lluis at novell.com
       </A><BR>
    <I>Sun May 18 19:07:54 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="007740.html">[MonoDevelop] Moving to MSBuild
</A></li>
        <LI>Next message: <A HREF="007720.html">[MonoDevelop] Changing IDE language
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7718">[ date ]</a>
              <a href="thread.html#7718">[ thread ]</a>
              <a href="subject.html#7718">[ subject ]</a>
              <a href="author.html#7718">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
El ds 17 de 05 del 2008 a les 19:54 +0200, en/na &quot;Andr&#233;s G. Aragoneses&quot;
va escriure:
&gt;<i> Hi, sorry for the late response...
</I>&gt;<i> 
</I>&gt;<i> Michael Hutchinson wrote:
</I>&gt;<i> &gt; On Thu, Mar 13, 2008 at 2:43 PM, Andres G. Aragoneses
</I>&gt;<i> &gt; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">aaragoneses at novell.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;  I have a question about this: Will the MD file format be maintained
</I>&gt;<i> &gt;&gt;  anyway (or not dropped at least)? If the answer is 'no', then I just
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; At the very least, we will certainly have importers...
</I>&gt;<i> 
</I>&gt;<i> How's the thing evolving? IMO this should be a combo box that lets you 
</I>&gt;<i> select the file format when creating a project/solution, like image 
</I>&gt;<i> manipulation programs do.
</I>
The changes will be committed soon. For now, you'll be able to select
the default file format in the MD preferences.

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt;  wanted to point out a number of reasons not to do this:
</I>&gt;<i> &gt;&gt;  - There are several projects that already use it.
</I>&gt;<i> &gt;&gt;  - There are some interesting things in the MD project file format that I
</I>&gt;<i> &gt;&gt;  think are better than MSBuild:
</I>&gt;<i> &gt;&gt;  1) Same file extension for any type of project regardless the language.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; We want VS compatibility where possible, so we will use .csproj and
</I>&gt;<i> &gt; .vbproj etc.,  but apart from that I see no reason to invent lots of
</I>&gt;<i> &gt; new file extensions.
</I>&gt;<i> 
</I>&gt;<i> I wasn't advocating for inventing more extensions, but certainly was 
</I>&gt;<i> worried about this strategy that MS/MSBuild/VS selected, which I guess 
</I>&gt;<i> imposes how MD should behave in this matter (but what happens with 
</I>&gt;<i> project file formats which use a language that VS cannot open? for 
</I>&gt;<i> example, to mention the most uncommon, PHP.NET?).
</I>
There are two options. The first option is to create a new project type,
which means creating a GUID and an extension name (.xxxproj). The second
option is use a generic project type with .mdproj extension (in this
case the project type is determined by a class name, which is stored in
the project file).

&gt;<i> 
</I>&gt;<i> &gt;&gt;  2) Solutions inside solutions support. (Even in Mono SVN this feature is
</I>&gt;<i> &gt;&gt;  used.)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; VS solutions aren't actually MSBuild files, even though MSBuild
</I>&gt;<i> &gt; understands them, and it would be possible to represent nested
</I>&gt;<i> &gt; solutions with MSBuild files, but VS would not be able to load them.
</I>&gt;<i> 
</I>&gt;<i> Then it's not worth doing it, right? Because of interoperability reasons.
</I>
VS will still be able to load individual solutions, so there is no
interoperability problem.

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; Solution folders (structuring of projects within a solution) partially
</I>&gt;<i> &gt; solve the problem. We will probably also have &quot;workspaces&quot; for
</I>&gt;<i> &gt; grouping solutions, but the solutions themselves will be VS solutions.
</I>&gt;<i> 
</I>&gt;<i> That's it, they partially solve the problem and is my main concern about 
</I>&gt;<i> this project file format, which is why I though MD format should remain 
</I>&gt;<i> always as a fallback IMHO.
</I>
Even if we keep the old format, you won't be able to use nested
solution, because the project model has changed and it doesn't allow
nested solutions. Nested solution will be shown as solution folders.

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt;  3) Support for unmanaged projects (well, I'm not sure if the MSBuild
</I>&gt;<i> &gt;&gt;  counterpart of this either exists, or if it's supported in MD, or if its
</I>&gt;<i> &gt;&gt;  support is planned)?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; We will be doing this for C projects etc. MSBuild files are about as
</I>&gt;<i> &gt; flexible as makefiles. We just need to write the relevant build
</I>&gt;<i> &gt; targets. VS seems to invoke the targets through MSBuild to do the
</I>&gt;<i> &gt; actual builds, making it similar to our makefile integration.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; VS C/C++ projects don't use the MSBuild format yet, but that is likely
</I>&gt;<i> &gt; to change in the future. TBH, we don't really care about unmanaged VS
</I>&gt;<i> &gt; projects ATM.
</I>&gt;<i> 
</I>&gt;<i> But in this case, which extension will these type of projects use?
</I>
Same answer as the php case above.

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt;  4) Use of not-win32ish stuff (for example \backslashes\ for paths).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Unfortunately, this would mean the projects would not be be buildable
</I>&gt;<i> &gt; with MSBuild on Windows, let alone be able to be opened in VS.
</I>&gt;<i> 
</I>&gt;<i> Yes, I'm not proposing to use normal slashes for MSBuild, just saying 
</I>&gt;<i> that MD format is good because of its not-win32ish way of expressing the 
</I>&gt;<i> paths (the future MD for Win32 won't have any problem building it if 
</I>&gt;<i> it's prepared for replacing them at execution time with the native 
</I>&gt;<i> counterpart...).
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> 	Andres
</I>&gt;<i> 
</I>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007740.html">[MonoDevelop] Moving to MSBuild
</A></li>
	<LI>Next message: <A HREF="007720.html">[MonoDevelop] Changing IDE language
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7718">[ date ]</a>
              <a href="thread.html#7718">[ thread ]</a>
              <a href="subject.html#7718">[ subject ]</a>
              <a href="author.html#7718">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
