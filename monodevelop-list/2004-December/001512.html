<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Some more code for version control support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lluis%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001514.html">
   <LINK REL="Next"  HREF="001513.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Some more code for version control support
   </H1>
    <B>Lluis Sanchez
    </B> 
    <A HREF="mailto:lluis%40ximian.com"
       TITLE="[MonoDevelop] Some more code for version control support">lluis@ximian.com
       </A><BR>
    <I>Tue, 07 Dec 2004 02:18:08 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="001514.html">[MonoDevelop] Some more code for version control support
</A></li>
        <LI> Next message: <A HREF="001513.html">[MonoDevelop] Some more code for version control support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1512">[ date ]</a>
              <a href="thread.html#1512">[ thread ]</a>
              <a href="subject.html#1512">[ subject ]</a>
              <a href="author.html#1512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Some comments:

      * VcService is using a copy of the GetXmlAttributes and
        SetXmlAttributes from AbstractProject. We need to factorize this
        code into a class so it can be easily reused (although that code
        is really awful). 
      * Project specific information should always be stored in the
        project's directory, never in a global shared file. 
      * Looks like the class VcResource is not used at all. 
      * Why the IVcRepository interface is defining ToString()? This
        method is already defined in Object. If you want to give a
        special meaning to that method (such as, for example, getting
        the uri of the repository) better use another name. 
      * IVcLocalProject.PrjxFile: better use &quot;ProjectFile&quot;, since the
        prjx extension may change in the future. 
      * Since CvsService is actually a version control backend, I think
        that CvsBackendService would be more clarifying name. 
      * In IVcBackend, it is difficult to understand what's the
        difference between CreateRepository and RawCreateRepository. I
        rather would use CreateRepository to create a IVcRepository
        instance, and a ShowEditRepositoryDialog method that displays
        the dialog that can be used to enter/modify repository
        parameters. 
      * The CvsRepository.GetOptions method (which implements
        IVcRepository.GetOptions) returns some HTML that shows
        repository parameters. You are mixing version control logic code
        with GUI code here, and that's not good design pattern. A better
        solution would be to return, for example, a NameValueCollection,
        and leave to the GUI the choice of the best way of showing this
        info. 
      * CvsService.CreateConnection is also mixing logic and GUI. You
        are assuming that a dialog will always be displayed when
        connecting a project to a repository, and this may not be true.
        You should have a method for creating a connection object and
        another for displaying the connection dialog. 
      * After going through the code, I think that a IVcRepository is
        not a version control repository, but a set of repository
        connection parameters. IVcLocalProject looks like it contains
        version control parameters for a project. Maybe you should use
        names that better describe what the class represents. 
      * The cvsOptionsDialog and cvsRepositoryWidget dialogs look very
        similar, they could probably be the same.

Lluis.

On dg, 2004-12-05 at 20:38 +1030, Rubens Ramos wrote: 
&gt;<i> Hi All,
</I>&gt;<i> 
</I>&gt;<i>  Here is an updated patch+new code for version control in
</I>&gt;<i> MD. It is not complete, but has core support to save/load
</I>&gt;<i> CVS repositories and map projects to repositories. 
</I>&gt;<i> Feedback is welcome.
</I>&gt;<i> 
</I>&gt;<i>  It will not compile as default; you need to
</I>&gt;<i>  &quot;configure --with-version-control&quot; to enable compilation of
</I>&gt;<i> this code.
</I>&gt;<i> 
</I>&gt;<i>  And yes, I know, the GUI is ugly - that will need to be
</I>&gt;<i> improved as the vc core and cvs backend code evolve.
</I>&gt;<i> 
</I>&gt;<i>  Todd, let me know if this is at a stage you want to add
</I>&gt;<i> it to svn :)
</I>&gt;<i> 
</I>&gt;<i> Cheers
</I>&gt;<i> Rubens
</I>&gt;<i> 
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001514.html">[MonoDevelop] Some more code for version control support
</A></li>
	<LI> Next message: <A HREF="001513.html">[MonoDevelop] Some more code for version control support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1512">[ date ]</a>
              <a href="thread.html#1512">[ thread ]</a>
              <a href="subject.html#1512">[ subject ]</a>
              <a href="author.html#1512">[ author ]</a>
         </LI>
       </UL>
</body></html>
