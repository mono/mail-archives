<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Fwd: Re: [MonoDevelop] Problem getting monodevelop to load
 combines]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jba-mono%40optusnet.com.au">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001508.html">
   <LINK REL="Next"  HREF="001510.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Fwd: Re: [MonoDevelop] Problem getting monodevelop to load
 combines]
   </H1>
    <B>John BouAntoun
    </B> 
    <A HREF="mailto:jba-mono%40optusnet.com.au"
       TITLE="[Fwd: Re: [MonoDevelop] Problem getting monodevelop to load
 combines]">jba-mono@optusnet.com.au
       </A><BR>
    <I>Sun, 05 Dec 2004 19:46:08 +1100</I>
    <P><UL>
        <LI> Previous message: <A HREF="001508.html">[MonoDevelop] mono posix
</A></li>
        <LI> Next message: <A HREF="001510.html">[MonoDevelop] Some more code for version control support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1509">[ date ]</a>
              <a href="thread.html#1509">[ thread ]</a>
              <a href="subject.html#1509">[ subject ]</a>
              <a href="author.html#1509">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-HiU30jgPOG4b6LPB0uz5
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Todd,

Your suggested changes were giving me ambiguous usage errors.

The attached patch works with my mono/mcs (installed from head two weeks
ago) and shouldn't change the mono 1.0.4 behaviour at all.

JBA

On Tue, 2004-11-30 at 01:09 -0800, Todd Berman wrote:
&gt;<i> This patch wont work.
</I>&gt;<i> 
</I>&gt;<i> 1) You aren't using #if MONO_POSIX_OEE so you will break the build for
</I>&gt;<i> everyone who is using any released version of mono.
</I>&gt;<i> 2) Stylistically you should follow what was used above with a using
</I>&gt;<i> FilePermissions = Mono.Unix.FilePermissions. However, I believe that
</I>&gt;<i> using existed to distinguish between Sys.IO.FileMode and
</I>&gt;<i> Mono.Posix.FileMode, so you most likely dont need it at all, and
</I>&gt;<i> changing the first #if sequence to:
</I>&gt;<i> 
</I>&gt;<i> #if MONO_POSIX_OEE
</I>&gt;<i> using Mono.Unix;
</I>&gt;<i> #else
</I>&gt;<i> using Mono.Posix;
</I>&gt;<i> using FileMode = Mono.Posix.FileMode;
</I>&gt;<i> #endif
</I>&gt;<i> 
</I>&gt;<i> would be the best bet.
</I>&gt;<i> 
</I>&gt;<i> --Todd
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodevelop-list mailing list
</I>&gt;<i> <A HREF="mailto:Monodevelop-list@lists.ximian.com">Monodevelop-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>
--=-HiU30jgPOG4b6LPB0uz5
Content-Disposition: attachment; filename=Combine-monohead-patch.diff
Content-Type: text/x-patch; name=Combine-monohead-patch.diff; charset=iso-8859-1
Content-Transfer-Encoding: 7bit

Index: Combine.cs
===================================================================
--- Combine.cs	(revision 2051)
+++ Combine.cs	(working copy)
@@ -17,8 +17,10 @@
 
 using Mono.Posix;
 #if MONO_POSIX_OEE
-using FileMode = Mono.Posix.FilePermissions;
+using Posix = Mono.Unix;
+using FileMode = Mono.Unix.FilePermissions; 
 #else
+using Posix = Mono.Posix;
 using FileMode = Mono.Posix.FileMode;
 #endif
 
@@ -663,7 +665,7 @@
 			buildstream.Flush ();
 			buildstream.Close ();
 			
-			Syscall.chmod (Path.Combine (path, &quot;make.sh&quot;), FileMode.S_IRUSR | FileMode.S_IWUSR | FileMode.S_IXUSR | FileMode.S_IRGRP | FileMode.S_IWGRP | FileMode.S_IROTH);
+			Posix.Syscall.chmod (Path.Combine (path, &quot;make.sh&quot;), FileMode.S_IRUSR | FileMode.S_IWUSR | FileMode.S_IXUSR | FileMode.S_IRGRP | FileMode.S_IWGRP | FileMode.S_IROTH);
 
 			StreamWriter stream = new StreamWriter (Path.Combine (path, &quot;Makefile.solution.&quot; + Name.Replace (&quot; &quot;, &quot;&quot;)));
 			stream.WriteLine (&quot;# This file is autogenerated by MonoDevelop&quot;);

--=-HiU30jgPOG4b6LPB0uz5--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001508.html">[MonoDevelop] mono posix
</A></li>
	<LI> Next message: <A HREF="001510.html">[MonoDevelop] Some more code for version control support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1509">[ date ]</a>
              <a href="thread.html#1509">[ thread ]</a>
              <a href="subject.html#1509">[ subject ]</a>
              <a href="author.html#1509">[ author ]</a>
         </LI>
       </UL>
</body></html>
