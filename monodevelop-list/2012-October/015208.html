<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Failing to build from git
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=Re%3A%20%5BMonoDevelop%5D%20Failing%20to%20build%20from%20git&In-Reply-To=%3CCAAPAK-4T8Yap4qqPQzxfyweMpYx-dKG%2BLaphOZUL5ctkMFShnA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015203.html">
   <LINK REL="Next"  HREF="015209.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Failing to build from git</H1>
    <B>Jonathan Ballard</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=Re%3A%20%5BMonoDevelop%5D%20Failing%20to%20build%20from%20git&In-Reply-To=%3CCAAPAK-4T8Yap4qqPQzxfyweMpYx-dKG%2BLaphOZUL5ctkMFShnA%40mail.gmail.com%3E"
       TITLE="[MonoDevelop] Failing to build from git">dzonatas at gmail.com
       </A><BR>
    <I>Mon Oct 29 23:54:04 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="015203.html">[MonoDevelop] Failing to build from git
</A></li>
        <LI>Next message: <A HREF="015209.html">[MonoDevelop] Failing to build from git
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15208">[ date ]</a>
              <a href="thread.html#15208">[ thread ]</a>
              <a href="subject.html#15208">[ subject ]</a>
              <a href="author.html#15208">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Debian's apt-get often shows, likewise, the err... on mono packages, for
&quot;imported assemblies.&quot; {info:}

It happens when compilers and linkers do not agree. Try LLVM at least for
its added dependency.

It would be kind of &quot;token&quot; for the workaround if it resolves this issue
upstream easier than force upgrade, which is where the confusion starts
between the two corporations in their assembled code. Some people compile
an entire new system every upgrade, so the cherry-pick method seems
out-dated when that still requires completion dialogue. In debian,
the committees could depend on LLVM instead of mono packages, and update
mono packages to use deb-src directly for assembly (except for the
/bin/mono shell installation). Better should be to allow the choice between
LLVM(pipe) or mono shell, upgrade(_t).

Thanks for this reflection. {asm:}

On Sunday, October 28, 2012, Matt Calder wrote:

&gt;<i> Alan,
</I>&gt;<i>
</I>&gt;<i> I built the latest mono:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">calder at goat</A>:~/tmp/mono-addins$ mono --version
</I>&gt;<i> Mono JIT compiler version 3.0.1 (master/7a59454 Sun Oct 28 13:49:57 EDT
</I>&gt;<i> 2012)
</I>&gt;<i> Copyright (C) 2002-2012 Novell, Inc, Xamarin Inc and Contributors.
</I>&gt;<i> www.mono-project.com
</I>&gt;<i>     TLS:           __thread
</I>&gt;<i>     SIGSEGV:       altstack
</I>&gt;<i>     Notifications: epoll
</I>&gt;<i>     Architecture:  amd64
</I>&gt;<i>     Disabled:      none
</I>&gt;<i>     Misc:          softdebug
</I>&gt;<i>     LLVM:          supported, not enabled.
</I>&gt;<i>     GC:            Included Boehm (with typed GC and Parallel Mark)
</I>&gt;<i>
</I>&gt;<i> running  configure in the monodevelop clone directory fails:
</I>&gt;<i>
</I>&gt;<i> checking for GLADE_SHARP... yes
</I>&gt;<i> checking for MONODOC... yes
</I>&gt;<i> checking for GNOME_SHARP... no
</I>&gt;<i> checking for GNOME_VFS_SHARP... no
</I>&gt;<i> checking for GCONF_SHARP... no
</I>&gt;<i> configure: error: Cannot enable GNOME platform without gnome-sharp-2.0
</I>&gt;<i> make[1]: *** [config.status] Error 1
</I>&gt;<i> make[1]: Leaving directory `/home/calder/tmp/monodevelop/main'
</I>&gt;<i> make: *** [all-recursive] Error 1
</I>&gt;<i>
</I>&gt;<i> I tried to build gnome-sharp, but its make fails (full output attached):
</I>&gt;<i>
</I>&gt;<i> /usr/lib/mono/4.5/mscorlib.dll (Location of the symbol related to previous
</I>&gt;<i> warning)
</I>&gt;<i> error CS1705: Assembly `gdk-sharp, Version=2.12.0.0, Culture=neutral,
</I>&gt;<i> PublicKeyToken=35e10195dab3c99f' references `Mono.Cairo, Version=4.0.0.0,
</I>&gt;<i> Culture=neutral, PublicKeyToken=0738eb9f132ed756' which has a higher
</I>&gt;<i> version number than imported assembly `Mono.Cairo, Version=2.0.0.0,
</I>&gt;<i> Culture=neutral, PublicKeyToken=0738eb9f132ed756'
</I>&gt;<i> Compilation failed: 1 error(s), 3 warnings
</I>&gt;<i>
</I>&gt;<i> This is pretty frustrating, as I mentioned previously I regularly build
</I>&gt;<i> from source on my desktop without issues. Thanks for any help on this,
</I>&gt;<i>
</I>&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  On Sat, Oct 27, 2012 at 6:39 PM, Alan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">alan.mcgovern at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Git submodules have nothing to do with autoconf etc. The only reason
</I>&gt;<i> for making Mono.Addins a submodule is that we needed fixes which only
</I>&gt;<i> existed in git master of Mono.Addins and this was the best way we
</I>&gt;<i> could get those fixes released on all supported platforms
</I>&gt;<i> simultaenously.
</I>&gt;<i>
</I>&gt;<i> Could you export these two environment variables and then try another
</I>&gt;<i> build. Then attach the output to an email so we can diagnose the
</I>&gt;<i> issue. It's quite possible the issue would go away if you used a newer
</I>&gt;<i> version of mono.
</I>&gt;<i>
</I>&gt;<i> export MONO_LOG_LEVEL=info
</I>&gt;<i> export MONO_LOG_MASK=asm
</I>&gt;<i>
</I>&gt;<i> Alan
</I>&gt;<i>
</I>&gt;<i> On 27 October 2012 18:30, Jonathan Ballard &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">dzonatas at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; If you don't mind GPL then, try this version:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="http://www.gnu.org/software/autoconf/">http://www.gnu.org/software/autoconf/</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; $ configure --prefix=GIT:/
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Or; logically, &quot;[i]::CLSID_&quot; instead of /usr/... in ECMAScript, which
</I>&gt;<i> mono
</I>&gt;<i> &gt; could include submodules as resources upon the build of configure.exe.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; See also: man(stable:1), schroot(sid:3).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Saturday, October 27, 2012, Jonathan Ballard wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Submodules are OK, but the &quot;submodule update --init&quot; seems only needed
</I>&gt;<i> if
</I>&gt;<i> &gt;&gt; there are absolute paths. I see you used &quot;--prefix&quot;, so there is this
</I>&gt;<i> &gt;&gt; secondary level of indirection that may confuse any intention that
</I>&gt;<i> exists.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I guess that is why developers dropped the autotools (&quot;configure&quot;)
</I>&gt;<i> package
</I>&gt;<i> &gt;&gt; when git has &quot;the better way&quot; built-in.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On Saturday, October 27, 2012, Matt Calder wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I routinely build mono + monodevelop from source on my desktop.
</I>&gt;<i> However,
</I>&gt;<i> &gt;&gt;&gt; I have been unable, despite several hours of trying over several days,
</I>&gt;<i> to
</I>&gt;<i> &gt;&gt;&gt; build monodevelop on a new laptop. I installed mono without issue. I
</I>&gt;<i> cloned
</I>&gt;<i> &gt;&gt;&gt; monodevelop and ran:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; git submodule update --init --recursive
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; then
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; ./configure --prefix=/usr
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; and get:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; ...
</I>&gt;<i> &gt;&gt;&gt; checking for MONO_ADDINS... no
</I>&gt;<i> &gt;&gt;&gt; configure: error: Package requirements (mono-addins &gt;= 0.6) were not
</I>&gt;<i> met:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I cloned the mono-addins project (though I thought the git submodule
</I>&gt;<i> &gt;&gt;&gt; business was supposed to remove the need for this), but that fails
</I>&gt;<i> during
</I>&gt;<i> &gt;&gt;&gt; make with:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Can't find custom attr constructor image:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> /usr/lib/mono/gac/Microsoft.Build.Tasks.v4.0/4.0.0.0__b03f5f7f11d50a3a/Microsoft.Build.Tasks.v4.0.dll
</I>&gt;<i> &gt;&gt;&gt; mtoken: 0x0a0001ef
</I>&gt;<i> &gt;&gt;&gt; : error : Error initializing task Message: Exception has been thrown by
</I>&gt;<i> &gt;&gt;&gt; the target of an invocation.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I have exhausted my repetoire of tricks and would appreciate any help
</I>&gt;<i> on
</I>&gt;<i> &gt;&gt;&gt; this. My system is:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">calder at goat</A>:~/tmp/mono-addins$ mono --version
</I>&gt;<i> &gt;&gt;&gt; Mono JIT compiler version 2.10.8.1 (Debian 2.10.8.1-1ubuntu2.2)
</I>&gt;<i> &gt;&gt;&gt; Copyright (C) 2002-2011 Novell, Inc, Xamarin, Inc and Contributors.
</I>&gt;<i> &gt;&gt;&gt; www.mono-project.com
</I>&gt;<i> &gt;&gt;&gt;     TLS:           __thread
</I>&gt;<i> &gt;&gt;&gt;     SIGSEGV:       altstack
</I>&gt;<i> &gt;&gt;&gt;     Notifications: epoll
</I>&gt;<i> &gt;&gt;&gt;     Architecture:  amd64
</I>&gt;<i> &gt;&gt;&gt;     Disabled:      none
</I>&gt;<i> &gt;&gt;&gt;     Misc:          softdebug
</I>&gt;<i> &gt;&gt;&gt;     LLVM:          supported, not enabled.
</I>&gt;<i> &gt;&gt;&gt;     GC:            Included Boehm (with typed GC and Parallel Mark)
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">calder at goat</A>:~/tmp/mono-addins$
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">calder at goat</A>:~/tmp/mono-addins$ uname -a
</I>&gt;<i> &gt;&gt;&gt; Linux goat 3.2.0-32-generic #51-Ubuntu SMP Wed Sep 26 21:33:09 UTC 2012
</I>&gt;<i> &gt;&gt;&gt; x86_64 x86_64 x86_64 GNU/Linux
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Thanks,
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Matt
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Monodevelop-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodevelop-list/attachments/20121029/97da2e30/attachment.html">http://lists.ximian.com/pipermail/monodevelop-list/attachments/20121029/97da2e30/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015203.html">[MonoDevelop] Failing to build from git
</A></li>
	<LI>Next message: <A HREF="015209.html">[MonoDevelop] Failing to build from git
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15208">[ date ]</a>
              <a href="thread.html#15208">[ thread ]</a>
              <a href="subject.html#15208">[ subject ]</a>
              <a href="author.html#15208">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
