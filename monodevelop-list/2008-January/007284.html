<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] code folding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20code%20folding&In-Reply-To=20080124105507.GA27871%40mail.rootnode.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007282.html">
   <LINK REL="Next"  HREF="007283.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] code folding</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20code%20folding&In-Reply-To=20080124105507.GA27871%40mail.rootnode.pl"
       TITLE="[MonoDevelop] code folding">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Thu Jan 24 10:59:40 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="007282.html">[MonoDevelop] code folding
</A></li>
        <LI>Next message: <A HREF="007283.html">[MonoDevelop] code folding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7284">[ date ]</a>
              <a href="thread.html#7284">[ thread ]</a>
              <a href="subject.html#7284">[ subject ]</a>
              <a href="author.html#7284">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jan 24, 2008 5:55 AM,  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">silk at boktor.net</A>&gt; wrote:
&gt;<i> * Joaquin Fernandez Campo &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">jfcampo at gmail.com</A>&gt; [2008-01-23 23:55]:
</I>&gt;<i>
</I>&gt;<i> &gt; Hi!
</I>&gt;<i> &gt; yesterday i was looking through the mono-develop source code and i couldn
</I>&gt;<i> &gt; fin what i was looking for. I
</I>&gt;<i> &gt; am looking for the source code of the editor because i want to try to
</I>&gt;<i> &gt; implement code folding nothing serious
</I>&gt;<i> &gt; just something i want to try to do on my spare time, more like a hobby. Can
</I>&gt;<i> &gt; somebody tell me which part of the source code
</I>&gt;<i> &gt; is the text editor source?
</I>&gt;<i>
</I>&gt;<i> MD is as for now using GtkSourceView as it's editor, so you won't find
</I>&gt;<i> code for text editor in MD sources :)
</I>
However, there's still our wrapper code, in
src/addins/MonoDevelop.SourceEditor. It's entirely feasible to
implement code folding on top of the existing editor widget.

The GtkSourceView widget subclasses the GTK TextView widget, and
essentially just adds/removes tabs to set the text colour. In a
similar vein, you could add code that would simply add &quot;Hidden&quot;
TextTags to hide the text in the folded regions. This has been
possible in theory since we started using GTK+ 2.8 instead of 2.4, but
it was too close to the beta cycle for anyone to implement this
feature. The harder bit is drawing the folding markers in the margin
of the text editor.

Note that the C# parser already extracts folding region information
from the code.

&gt;<i> There is work in progress to use GtkSourceView2, it is the work of Michael
</I>&gt;<i> Hutchinson IIRC, you can look at it if you want to try. GtkSourceView2
</I>&gt;<i> is supposed to support folding AFAIK
</I>
No, sadly GtkSourceView2 doesn't support folding. There's been a patch
for GtkSourceView in GNOME Bugzilla for well over a year, but it
didn't make it into the 2.0 release. It pretty much implements what
I've described above.

The GtkSourceView2 branch of the editor is in src/addins/SourceEditor2
(NOT src/addins/MonoDevelop.SourceEditor2 -- that's the new managed
editor binding). it pretty much complete but doesn't support printing
or bookmarks, as those features were removed for GtkSourceView2.
However, they're back in 2.1...

As Ben pointed out in a follow-up email, the managed text editor will
have folding. However, it won't be stable for some time.

-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007282.html">[MonoDevelop] code folding
</A></li>
	<LI>Next message: <A HREF="007283.html">[MonoDevelop] code folding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7284">[ date ]</a>
              <a href="thread.html#7284">[ thread ]</a>
              <a href="subject.html#7284">[ subject ]</a>
              <a href="author.html#7284">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
