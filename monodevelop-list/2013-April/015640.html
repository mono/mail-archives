<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Changing project item position
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=Re%3A%20%5BMonoDevelop%5D%20Changing%20project%20item%20position&In-Reply-To=%3CCAMga9iToQFdBvO%2B7rSjOPnbMwE6J%2B7A3m%3D1_wduYevc%2BkNL0ew%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015639.html">
   <LINK REL="Next"  HREF="015641.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Changing project item position</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=Re%3A%20%5BMonoDevelop%5D%20Changing%20project%20item%20position&In-Reply-To=%3CCAMga9iToQFdBvO%2B7rSjOPnbMwE6J%2B7A3m%3D1_wduYevc%2BkNL0ew%40mail.gmail.com%3E"
       TITLE="[MonoDevelop] Changing project item position">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Tue Apr  2 03:42:59 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="015639.html">[MonoDevelop] Changing project item position
</A></li>
        <LI>Next message: <A HREF="015641.html">[MonoDevelop] Build and Deploy ASP.NET MVC Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15640">[ date ]</a>
              <a href="thread.html#15640">[ thread ]</a>
              <a href="subject.html#15640">[ subject ]</a>
              <a href="author.html#15640">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This will be a fair bit of work in MonoDevelop.Core and
MonoDevelop.Ide, unfortunately.

The first part is infrastructural - you would need to make it so that
changes to the order of the items in the project.Items collection is
reflected when serializing the project file. It currently tries to
find existing items and update them, then add any new items into
existing groups
(<A HREF="https://github.com/mono/monodevelop/blob/master/main/src/core/MonoDevelop.Core/MonoDevelop.Projects.Formats.MSBuild/MSBuildProjectHandler.cs#L1265">https://github.com/mono/monodevelop/blob/master/main/src/core/MonoDevelop.Core/MonoDevelop.Projects.Formats.MSBuild/MSBuildProjectHandler.cs#L1265</A>).

- CAVEAT - you could probably work around this by removing the items,
saving the project, then re-adding them in the desired order. But this
may have undesired side effects.

The second part is displaying it in the UI. The tree node builders
currently sort all the nodes by name though this is overridable
(<A HREF="https://github.com/mono/monodevelop/blob/master/main/src/core/MonoDevelop.Ide/MonoDevelop.Ide.Gui.Components/NodeBuilder.cs#L134">https://github.com/mono/monodevelop/blob/master/main/src/core/MonoDevelop.Ide/MonoDevelop.Ide.Gui.Components/NodeBuilder.cs#L134</A>).
So I'd suggest adding some kind of project.HasSignificantFileOrder
property, then if this were set, the ProjectFolderNodeBuilder could
sort the items appropriately.

The third part is drag-n-drop. The ProjectFileCommandHandler would
have to override the overload of OnMultipleNodeDrop that takes a
DropPosition to it can accept drops before/after it
(<A HREF="https://github.com/mono/monodevelop/blob/master/main/src/core/MonoDevelop.Ide/MonoDevelop.Ide.Gui.Components/NodeCommandHandler.cs#L250">https://github.com/mono/monodevelop/blob/master/main/src/core/MonoDevelop.Ide/MonoDevelop.Ide.Gui.Components/NodeCommandHandler.cs#L250</A>)
- it currently only allows dropping files *onto* it for grouping
(<A HREF="https://github.com/mono/monodevelop/blob/master/main/src/core/MonoDevelop.Ide/MonoDevelop.Ide.Gui.Pads.ProjectPad/ProjectFileNodeBuilder.cs#L258">https://github.com/mono/monodevelop/blob/master/main/src/core/MonoDevelop.Ide/MonoDevelop.Ide.Gui.Pads.ProjectPad/ProjectFileNodeBuilder.cs#L258</A>)
and then it would have to alter the order of the files in the project
correspondingly and trigger a save.

On 1 April 2013 17:18, Dave Thomas &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">kukulcanenator at gmail.com</A>&gt; wrote:
&gt;<i> Hi, I wonder if anyone had and quick pointers on how to manipulate items within the project structure from within the IDE.  Specifically I want to move items up and down within the project pane.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodevelop-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>


-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015639.html">[MonoDevelop] Changing project item position
</A></li>
	<LI>Next message: <A HREF="015641.html">[MonoDevelop] Build and Deploy ASP.NET MVC Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15640">[ date ]</a>
              <a href="thread.html#15640">[ thread ]</a>
              <a href="subject.html#15640">[ subject ]</a>
              <a href="author.html#15640">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
