<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Build fails where Add Reference to Project
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=Re%3A%20%5BMonoDevelop%5D%20Build%20fails%20where%20Add%20Reference%20to%20Project&In-Reply-To=%3Ckdgodl%24tg6%242%40ger.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015381.html">
   <LINK REL="Next"  HREF="015383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Build fails where Add Reference to Project</H1>
    <B>Andres G. Aragoneses</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=Re%3A%20%5BMonoDevelop%5D%20Build%20fails%20where%20Add%20Reference%20to%20Project&In-Reply-To=%3Ckdgodl%24tg6%242%40ger.gmane.org%3E"
       TITLE="[MonoDevelop] Build fails where Add Reference to Project">knocte at gmail.com
       </A><BR>
    <I>Sun Jan 20 12:37:11 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="015381.html">[MonoDevelop] Build fails where Add Reference to Project
</A></li>
        <LI>Next message: <A HREF="015383.html">[MonoDevelop] Build fails where Add Reference to Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15382">[ date ]</a>
              <a href="thread.html#15382">[ thread ]</a>
              <a href="subject.html#15382">[ subject ]</a>
              <a href="author.html#15382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Can you do a small test in Visual Studio, creating 2 simple projects, 
one depending on each other? The compilation then would obviously not 
fail within VS, but the key thing to do would be to compare the .csproj 
files generated by VS and the ones generated by MD: if the propertyGroup 
elements are created differently, I guess that is the bug that needs 
fixing in MonoDevelop.


On 20/01/13 12:19, Alberto Le&#243;n wrote:
&gt;<i> More information about this.
</I>&gt;<i> When I create a Library project, I can't choose platform for compilation
</I>&gt;<i> target.
</I>&gt;<i>
</I>&gt;<i> So I think this is the big reason that the project A is looking in first
</I>&gt;<i> PropertyGroup.
</I>&gt;<i> But the .csproj has the three blocks
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2013/1/20 Alberto Le&#243;n &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">leontiscar at gmail.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">leontiscar at gmail.com</A>&gt;&gt;
</I>&gt;<i>
</I>&gt;<i>     The fail appears in Linux Mint. I check it in:
</I>&gt;<i>     Mono 2.10.8.1 + MonoDevelop 2.8.6.3, from packages
</I>&gt;<i>     Mono 3.0.3 + MonoDevelop 3.0.5,from sources installed in parallel
</I>&gt;<i>     environment
</I>&gt;<i>
</I>&gt;<i>     I see the problem appears only because when you Compile Project A,
</I>&gt;<i>     that has a reference to Project B, it uses Proyect B first
</I>&gt;<i>     PropertyGroup configuration, not debug configuration. In this
</I>&gt;<i>     configuration OutputPath doesn't appear.
</I>&gt;<i>
</I>&gt;<i>     This is the xml of the .csproj that fails. If I copy OutputPath from
</I>&gt;<i>     Debug PropertyGroup Configuration, to the first block the
</I>&gt;<i>     compilation success correctly
</I>&gt;<i>
</I>&gt;<i>     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</I>&gt;<i>     &lt;Project DefaultTargets=&quot;Build&quot; ToolsVersion=&quot;4.0&quot;
</I>&gt;<i>     xmlns=&quot;<A HREF="http://schemas.microsoft.com/developer/msbuild/2003">http://schemas.microsoft.com/developer/msbuild/2003</A>&quot;&gt;
</I>&gt;<i>        &lt;PropertyGroup&gt;
</I>&gt;<i>          &lt;Configuration Condition=&quot; '$(Configuration)' == ''
</I>&gt;<i>     &quot;&gt;Debug&lt;/Configuration&gt;
</I>&gt;<i>          &lt;Platform Condition=&quot; '$(Platform)' == '' &quot;&gt;AnyCPU&lt;/Platform&gt;
</I>&gt;<i>          &lt;ProductVersion&gt;10.0.0&lt;/ProductVersion&gt;
</I>&gt;<i>          &lt;SchemaVersion&gt;2.0&lt;/SchemaVersion&gt;
</I>&gt;<i>          &lt;ProjectGuid&gt;{046A80F4-E5EA-4E99-B45D-40A71E173067}&lt;/ProjectGuid&gt;
</I>&gt;<i>          &lt;OutputType&gt;Library&lt;/OutputType&gt;
</I>&gt;<i>          &lt;RootNamespace&gt;MiProyecto.Core&lt;/RootNamespace&gt;
</I>&gt;<i>          &lt;AssemblyName&gt;MiProyecto.Core&lt;/AssemblyName&gt;
</I>&gt;<i>        &lt;/PropertyGroup&gt;
</I>&gt;<i>        &lt;PropertyGroup Condition=&quot; '$(Configuration)|$(Platform)' ==
</I>&gt;<i>     'Debug|AnyCPU' &quot;&gt;
</I>&gt;<i>          &lt;DebugSymbols&gt;true&lt;/DebugSymbols&gt;
</I>&gt;<i>          &lt;DebugType&gt;full&lt;/DebugType&gt;
</I>&gt;<i>          &lt;Optimize&gt;false&lt;/Optimize&gt;
</I>&gt;<i>          &lt;OutputPath&gt;bin\Debug&lt;/OutputPath&gt;
</I>&gt;<i>          &lt;DefineConstants&gt;DEBUG;&lt;/DefineConstants&gt;
</I>&gt;<i>          &lt;ErrorReport&gt;prompt&lt;/ErrorReport&gt;
</I>&gt;<i>          &lt;WarningLevel&gt;4&lt;/WarningLevel&gt;
</I>&gt;<i>          &lt;ConsolePause&gt;false&lt;/ConsolePause&gt;
</I>&gt;<i>        &lt;/PropertyGroup&gt;
</I>&gt;<i>        &lt;PropertyGroup Condition=&quot; '$(Configuration)|$(Platform)' ==
</I>&gt;<i>     'Release|AnyCPU' &quot;&gt;
</I>&gt;<i>          &lt;DebugType&gt;none&lt;/DebugType&gt;
</I>&gt;<i>          &lt;Optimize&gt;false&lt;/Optimize&gt;
</I>&gt;<i>          &lt;OutputPath&gt;bin\Release&lt;/OutputPath&gt;
</I>&gt;<i>          &lt;ErrorReport&gt;prompt&lt;/ErrorReport&gt;
</I>&gt;<i>          &lt;WarningLevel&gt;4&lt;/WarningLevel&gt;
</I>&gt;<i>          &lt;ConsolePause&gt;false&lt;/ConsolePause&gt;
</I>&gt;<i>        &lt;/PropertyGroup&gt;
</I>&gt;<i>        &lt;ItemGroup&gt;
</I>&gt;<i>          &lt;Reference Include=&quot;System&quot; /&gt;
</I>&gt;<i>        &lt;/ItemGroup&gt;
</I>&gt;<i>        &lt;ItemGroup&gt;
</I>&gt;<i>          &lt;Compile Include=&quot;MyClass.cs&quot; /&gt;
</I>&gt;<i>          &lt;Compile Include=&quot;AssemblyInfo.cs&quot; /&gt;
</I>&gt;<i>        &lt;/ItemGroup&gt;
</I>&gt;<i>        &lt;Import Project=&quot;$(MSBuildBinPath)\Microsoft.CSharp.targets&quot; /&gt;
</I>&gt;<i>     &lt;/Project&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     2013/1/20 Michael Hutchinson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">m.j.hutchinson at gmail.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">m.j.hutchinson at gmail.com</A>&gt;&gt;
</I>&gt;<i>
</I>&gt;<i>         It looks like you're using the experimental MSBuild build
</I>&gt;<i>         engine, try disabling it.
</I>&gt;<i>
</I>&gt;<i>         I suspect this is a bug with building heterogeneous solution
</I>&gt;<i>         configurations (e.g. solution config &quot;Debug|x86&quot; mapped to the
</I>&gt;<i>         &quot;Debug|AnyCPU&quot; project configuration) with the MSBuild engine
</I>&gt;<i>         that was fixed in MD a while back, what MD version are you using?
</I>&gt;<i>
</I>&gt;<i>         On Jan 17, 2013 5:21 PM, &quot;Alberto Le&#243;n&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">leontiscar at gmail.com</A>
</I>&gt;<i>         &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">leontiscar at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>             I tried compile projects separately, and all builds without
</I>&gt;<i>             problems.
</I>&gt;<i>
</I>&gt;<i>             But when I reference a project, and do build, MonoDevelop
</I>&gt;<i>             shows an error  'OutputPath' property is not set for this
</I>&gt;<i>             project
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>             Construyendo: hola (Debug)
</I>&gt;<i>
</I>&gt;<i>             Realizando compilaci&#243;n principal...
</I>&gt;<i>
</I>&gt;<i>             Build started 17/01/2013 23:17:01.
</I>&gt;<i>             __________________________________________________
</I>&gt;<i>             Project &quot;/home/alberto/MonoSimpleInstall/hola/hola.csproj&quot;
</I>&gt;<i>             (Build target(s)):
</I>&gt;<i>             Target PrepareForBuild:
</I>&gt;<i>             Configuration: Debug Platform: AnyCPU
</I>&gt;<i>             Target GenerateSatelliteAssemblies:
</I>&gt;<i>             No input files were specified for target
</I>&gt;<i>             GenerateSatelliteAssemblies, skipping.
</I>&gt;<i>             Target CoreCompile:
</I>&gt;<i>             Tool /usr/bin/gmcs execution started with arguments:
</I>&gt;<i>             /noconfig /debug:full /debug+ /optimize-
</I>&gt;<i>             /out:obj/Debug/hola.dll MyClass.cs AssemblyInfo.cs
</I>&gt;<i>             /target:library /define:DEBUG
</I>&gt;<i>             /reference:/usr/lib/mono/2.0/System.dll /warn:4
</I>&gt;<i>             Target DeployOutputFiles:
</I>&gt;<i>             Copying file from
</I>&gt;<i>             '/home/alberto/MonoSimpleInstall/hola/obj/Debug/hola.dll.mdb' to
</I>&gt;<i>             '/home/alberto/MonoSimpleInstall/hola/bin/Debug/hola.dll.mdb'
</I>&gt;<i>             Copying file from
</I>&gt;<i>             '/home/alberto/MonoSimpleInstall/hola/obj/Debug/hola.dll' to
</I>&gt;<i>             '/home/alberto/MonoSimpleInstall/hola/bin/Debug/hola.dll'
</I>&gt;<i>             Done building project
</I>&gt;<i>             &quot;/home/alberto/MonoSimpleInstall/hola/hola.csproj&quot;.
</I>&gt;<i>
</I>&gt;<i>             Build succeeded.
</I>&gt;<i>             0 Warning(s)
</I>&gt;<i>             0 Error(s)
</I>&gt;<i>
</I>&gt;<i>             Time Elapsed 00:00:00.6061730
</I>&gt;<i>             Construcci&#243;n finalizada -- 0 errores, 0 advertencias
</I>&gt;<i>
</I>&gt;<i>             Construyendo: MonoSimpleInstallConsole (Debug|x86)
</I>&gt;<i>
</I>&gt;<i>             Realizando compilaci&#243;n principal...
</I>&gt;<i>
</I>&gt;<i>             Build started 17/01/2013 23:17:02.
</I>&gt;<i>             __________________________________________________
</I>&gt;<i>             Project
</I>&gt;<i>             &quot;/home/alberto/MonoSimpleInstall/MonoSimpleInstallConsole/MonoSimpleInstallConsole.csproj&quot;
</I>&gt;<i>             (Build target(s)):
</I>&gt;<i>             Target PrepareForBuild:
</I>&gt;<i>             Configuration: Debug Platform: x86
</I>&gt;<i>             Target ResolveProjectReferences:
</I>&gt;<i>             Project &quot;/home/alberto/MonoSimpleInstall/hola/hola.csproj&quot;
</I>&gt;<i>             (GetTargetPath target(s)):
</I>&gt;<i>             Target _ValidateEssentialProperties:
</I>&gt;<i>             /usr/lib/mono/4.0/Microsoft.Common.targets: error :
</I>&gt;<i>             'OutputPath' property is not set for this project. Usually
</I>&gt;<i>             this is caused by invalid Configuration/Platform
</I>&gt;<i>             combination. Original values: Configuration: Debug Platform:
</I>&gt;<i>             x86.
</I>&gt;<i>             Task &quot;Error&quot; execution -- FAILED
</I>&gt;<i>             Done building target &quot;_ValidateEssentialProperties&quot; in
</I>&gt;<i>             project
</I>&gt;<i>             &quot;/home/alberto/MonoSimpleInstall/hola/hola.csproj&quot;.-- FAILED
</I>&gt;<i>             Done building project
</I>&gt;<i>             &quot;/home/alberto/MonoSimpleInstall/hola/hola.csproj&quot;.-- FAILED
</I>&gt;<i>             Task &quot;MSBuild&quot; execution -- FAILED
</I>&gt;<i>             Done building target &quot;ResolveProjectReferences&quot; in project
</I>&gt;<i>             &quot;/home/alberto/MonoSimpleInstall/MonoSimpleInstallConsole/MonoSimpleInstallConsole.csproj&quot;.--
</I>&gt;<i>             FAILED
</I>&gt;<i>             Done building project
</I>&gt;<i>             &quot;/home/alberto/MonoSimpleInstall/MonoSimpleInstallConsole/MonoSimpleInstallConsole.csproj&quot;.--
</I>&gt;<i>             FAILED
</I>&gt;<i>
</I>&gt;<i>             Build FAILED.
</I>&gt;<i>             Errors:
</I>&gt;<i>
</I>&gt;<i>             /home/alberto/MonoSimpleInstall/MonoSimpleInstallConsole/MonoSimpleInstallConsole.csproj
</I>&gt;<i>             (Build) -&gt;
</I>&gt;<i>             /usr/lib/mono/4.0/Microsoft.Common.targets
</I>&gt;<i>             (ResolveProjectReferences target) -&gt;
</I>&gt;<i>             /home/alberto/MonoSimpleInstall/hola/hola.csproj
</I>&gt;<i>             (GetTargetPath) -&gt;
</I>&gt;<i>             /usr/lib/mono/4.0/Microsoft.Common.targets
</I>&gt;<i>             (_ValidateEssentialProperties target) -&gt;
</I>&gt;<i>
</I>&gt;<i>             /usr/lib/mono/4.0/Microsoft.Common.targets: error :
</I>&gt;<i>             'OutputPath' property is not set for this project. Usually
</I>&gt;<i>             this is caused by invalid Configuration/Platform
</I>&gt;<i>             combination. Original values: Configuration: Debug Platform:
</I>&gt;<i>             x86.
</I>&gt;<i>
</I>&gt;<i>             0 Warning(s)
</I>&gt;<i>             1 Error(s)
</I>&gt;<i>
</I>&gt;<i>             Time Elapsed 00:00:00.1621860
</I>&gt;<i>             Construcci&#243;n finalizada -- 1 error, 0 advertencias
</I>&gt;<i>
</I>&gt;<i>             ---------------------- Hecho ---------------------
</I>&gt;<i>
</I>&gt;<i>             Construcci&#243;n: 1 error, 0 advertencias
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>             --
</I>&gt;<i>
</I>&gt;<i>             <A HREF="http://stackoverflow.com/users/690958/alberto-leon">http://stackoverflow.com/users/690958/alberto-leon</A>
</I>&gt;<i>
</I>&gt;<i>             _______________________________________________
</I>&gt;<i>             Monodevelop-list mailing list
</I>&gt;<i>             <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>
</I>&gt;<i>             &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>&gt;
</I>&gt;<i>             <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     --
</I>&gt;<i>
</I>&gt;<i>     <A HREF="http://stackoverflow.com/users/690958/alberto-leon">http://stackoverflow.com/users/690958/alberto-leon</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://stackoverflow.com/users/690958/alberto-leon">http://stackoverflow.com/users/690958/alberto-leon</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodevelop-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>&gt;<i>
</I>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015381.html">[MonoDevelop] Build fails where Add Reference to Project
</A></li>
	<LI>Next message: <A HREF="015383.html">[MonoDevelop] Build fails where Add Reference to Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15382">[ date ]</a>
              <a href="thread.html#15382">[ thread ]</a>
              <a href="subject.html#15382">[ subject ]</a>
              <a href="author.html#15382">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
