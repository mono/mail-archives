<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] How to Configure a Pad?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:alexmipego%40hotmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001499.html">
   <LINK REL="Next"  HREF="001501.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] How to Configure a Pad?
   </H1>
    <B>Alexandre Gomes
    </B> 
    <A HREF="mailto:alexmipego%40hotmail.com"
       TITLE="[MonoDevelop] How to Configure a Pad?">alexmipego@hotmail.com
       </A><BR>
    <I>Tue, 30 Nov 2004 12:16:43 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="001499.html">[Fwd: Re: [MonoDevelop] Problem getting monodevelop to load
 combines]
</A></li>
        <LI> Next message: <A HREF="001501.html">[Fwd: Re: [MonoDevelop] How to Configure a Pad?]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1500">[ date ]</a>
              <a href="thread.html#1500">[ thread ]</a>
              <a href="subject.html#1500">[ subject ]</a>
              <a href="author.html#1500">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The addin.xml looks like this:

...
&lt;Runtime&gt;
    &lt;Import assembly=&quot;CentaurusAddin.dll&quot;/&gt;
&lt;/Runtime&gt;
&lt;Extension path=&quot;/SharpDevelop/Workbench/Views&quot;&gt;
    &lt;Class id=&quot;CentaurusPad&quot; class=&quot;MonoDevelop.Gui.Pads.CentaurusPad&quot;/&gt;
&lt;/Extension&gt;
&lt;Extension path=&quot;/SharpDevelop/Workbench/MainMenu&quot;&gt;
    &lt;MenuItem id=&quot;Centaurus&quot; _label=&quot;Centaurus&quot; insertafter=&quot;Help&quot;&gt;
    &lt;MenuItem id=&quot;MyWebSearch&quot; _label=&quot;Test&quot; description=&quot;test&quot; 
class=&quot;MonoDevelop.Commands.test&quot;/&gt;
&lt;/MenuItem&gt;
&lt;/Extension&gt;
...

The files are well placed. I used two symlinks for the xml and the dll 
files. They are both loaded since the menu shows and works just fine.
I looked into mailing list and in IRC, everyone with a clue pointed me 
into SDIWorkspaceLayout where I found an array with some common Pads. I 
tryed to delete some, and they didn't appear. Then I added mine, nothing 
showed. After a few Console.WriteLines I found that in this piece of code:

foreach (string padTypeName in commonPads)
                {
                    IPadContent pad = workbench.PadContentCollection 
[padTypeName];
                    Console.WriteLine(padTypeName);
                    if (pad != null)
                    {
                        Console.WriteLine(padTypeName);
                        collection.Add (pad);
                    }
                }

The pad returned is always null, so my pad doesn't get loaded. I think 
that at the time this function is called the secondary addin.xml are not 
loaded yet!?
I tryed to move my addin.xml content into sharpdevelop.addin.xml but 
nothing different. I have done several searchs in all files but I find 
no clue...
So I used my test menu to try to load the Pad, in the hope that if it 
worked I could just create a MDService to load it. I've this piece of 
code that is executed:

            PadContentCollection con = 
MonoDevelop.Gui.WorkbenchSingleton.Workbench.PadContentCollection;
            IPadContent pad = new 
MonoDevelop.EditorBindings.Gui.Pads.CentaurusPad();
            con.Add(pad);
            MonoDevelop.Gui.WorkbenchSingleton.Workbench.ShowPad(pad);
            
MonoDevelop.Gui.WorkbenchSingleton.Workbench.WorkbenchLayout.PadContentCollection.Add(pad);
            
MonoDevelop.Gui.WorkbenchSingleton.Workbench.WorkbenchLayout.ActivatePad(pad);
            
MonoDevelop.Gui.WorkbenchSingleton.Workbench.WorkbenchLayout.ShowPad(pad);
            
MonoDevelop.Gui.WorkbenchSingleton.Workbench.WorkbenchLayout.RedrawAllComponents();
            Application.Run();

If is inside the menu command, and its called. The Pad constructor is 
called but yet nothing shows.... as you see I try every command possible.
Any clue?

Thanks,
Alexandre Miguel Pedro Gomes

Todd Berman wrote:

&gt;<i>On Mon, 2004-11-29 at 17:06 +0000, Alexandre Gomes wrote:
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I had implemented a test pad, using AbstractPadContent. I had configured 
</I>&gt;&gt;<i>the pad in the addin.xml file. After I was unsuccessful I did a litle 
</I>&gt;&gt;<i>research and found that I need to change one file, something about 
</I>&gt;&gt;<i>SDIWorkspaceLayout. I changed it where it looks like it should be but 
</I>&gt;&gt;<i>yet nothing happens. I have a Console.WriteLine in Pad's contructor but 
</I>&gt;&gt;<i>it is never called. In fact, I delected some content from that files and 
</I>&gt;&gt;<i>nothing happened too. So, can anyone give the the full instructions to 
</I>&gt;&gt;<i>implement a Pad.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>1. build the pad, implementing it using IPadContent or AbstractPadContent
</I>&gt;&gt;<i>2. add configuration into addin.xml
</I>&gt;&gt;<i>3. ???????????
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Can you show what your addin.xml file looks like? And you do realize
</I>&gt;<i>that you have to put that file in build/AddIns/ for make run, and get it
</I>&gt;<i>installed into $prefix/lib/monodevelop/AddIns/ for the installed version
</I>&gt;<i>to pick it up.
</I>&gt;<i>
</I>&gt;<i>Basically. First make sure your addin.xml file is being picked up by MD
</I>&gt;<i>(if it is a new file) and then second, make sure your pad extension is
</I>&gt;<i>&quot;/SharpDevelop/Workbench/Views&quot;
</I>&gt;<i>
</I>&gt;<i>--Todd
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Monodevelop-list mailing list
</I>&gt;<i><A HREF="mailto:Monodevelop-list@lists.ximian.com">Monodevelop-list@lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>&gt;<i>
</I>&gt;<i>.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001499.html">[Fwd: Re: [MonoDevelop] Problem getting monodevelop to load
 combines]
</A></li>
	<LI> Next message: <A HREF="001501.html">[Fwd: Re: [MonoDevelop] How to Configure a Pad?]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1500">[ date ]</a>
              <a href="thread.html#1500">[ thread ]</a>
              <a href="subject.html#1500">[ subject ]</a>
              <a href="author.html#1500">[ author ]</a>
         </LI>
       </UL>
</body></html>
