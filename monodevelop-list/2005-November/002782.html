<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] First go at unit tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20First%20go%20at%20unit%20tests&In-Reply-To=1133381870.6885.32.camel%40portatil.aticatac">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002780.html">
   <LINK REL="Next"  HREF="002785.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] First go at unit tests</H1>
    <B>Jacob Ils&#248; Christensen</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20First%20go%20at%20unit%20tests&In-Reply-To=1133381870.6885.32.camel%40portatil.aticatac"
       TITLE="[MonoDevelop] First go at unit tests">jacobilsoe at gmail.com
       </A><BR>
    <I>Wed Nov 30 16:24:43 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002780.html">[MonoDevelop] First go at unit tests
</A></li>
        <LI>Next message: <A HREF="002785.html">[MonoDevelop] First go at unit tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2782">[ date ]</a>
              <a href="thread.html#2782">[ thread ]</a>
              <a href="subject.html#2782">[ subject ]</a>
              <a href="author.html#2782">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/30/05, Lluis Sanchez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">lluis at ximian.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Before starting to build this test infrastructure it would be good to
</I>&gt;<i> think about what are we going to test and how to do it.
</I>&gt;<i>
</I>&gt;<i> About what: writing a test for Task is easy, but I feel it doesn't add
</I>&gt;<i> much value. I know it's just an example, but what I mean is that we need
</I>&gt;<i> to decide which classes are important to test. The current API is not
</I>&gt;<i> final. Some classes will change, some will desapear, some will be made
</I>&gt;<i> private, so writing tests for those would be a lose of time.
</I>

 I agree. It is most important to test complicated things.
The TaskTest is as you said just an illustration, not necessarily a test we
want to write.



&gt;<i> About how: MonoDevelop.Ide (and most of the MonoDevelop.* assemblies) is
</I>&gt;<i> not just a standalone dll, it's an add-in. It needs to be loaded by the
</I>&gt;<i> MonoDevelop runtime, and it needs to be properly initialized. Otherwise,
</I>&gt;<i> it is not guaranteed to work at all.
</I>

That is true, but it might still be possible to test those things. We could
do a mock MonoDevelop runtime for example.
All this is just because I think it will add value to MonoDevelop and make
it easier to code. I would really have liked to write some unit tests for
the search patch I submitted yesterday, but there was no framework, so I
didn't.



&gt;<i> This could be a problem with NUnit. I know that NUnit can do per-class
</I>&gt;<i> test initialization, but we would need per-assembly initialization.
</I>

We would have to think more about this.



&gt;<i> Another problem I see is that many of the classes in MonoDevelop.Gui are
</I>&gt;<i> designed to run in the GUI thread, and all in the same app domain. AFAIK
</I>&gt;<i> NUnit creates its own test threads and app domains, so we'd need to
</I>&gt;<i> think about how to handle this.
</I>

We need to think about this too, I agree.



&gt;<i> Lluis.
</I>

I mean, it is no harm to add some unit tests that might not make much value
since it might encourage other to write tests too.
The important thing is to get started so it is easier to add test IMO.
Shall I commit the stuff and we take it from there, or should things be
organized another way?

/Jacob





&gt;<i> El mi&#233;, 30-11-2005 a las 20:04 +0100, Jacob Ils&#248; Christensen escribi&#243;:
</I>&gt;<i> &gt; Hi.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The attached patch changes some Makefiles to accomplish testing of
</I>&gt;<i> &gt; MonoDevelop.Ide.dll. In addition the file TaskTest.cs should be put
</I>&gt;<i> &gt; here:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; monodevelop/Core/src/MonoDevelop.Ide/Test/MonoDevelop.Ide.Tasks
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Right now it is assumed that the nunit assemblies are in the GAC and
</I>&gt;<i> &gt; that nunit-console.exe is in the path.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; make test builds MonoDevelop.Ide.dll and MonoDevelop.Ide.Test.dll and
</I>&gt;<i> &gt; then runs nunit-console.exe on MonoDevelop.Ide.Test.dll.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is this the way we should go? Will someone try it out on their system
</I>&gt;<i> &gt; to see if it works as expected?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks in advance,
</I>&gt;<i> &gt; Jacob
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Monodevelop-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodevelop-list/attachments/20051130/87cd0025/attachment-0001.html">http://lists.ximian.com/pipermail/monodevelop-list/attachments/20051130/87cd0025/attachment-0001.html</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002780.html">[MonoDevelop] First go at unit tests
</A></li>
	<LI>Next message: <A HREF="002785.html">[MonoDevelop] First go at unit tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2782">[ date ]</a>
              <a href="thread.html#2782">[ thread ]</a>
              <a href="subject.html#2782">[ subject ]</a>
              <a href="author.html#2782">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
