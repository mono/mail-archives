<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Why MonoDevelop doesn't use GtkTextView/GtkSourceView?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=Re%3A%20%5BMonoDevelop%5D%20Why%20MonoDevelop%20doesn%27t%20use%0A%20GtkTextView/GtkSourceView%3F&In-Reply-To=%3C20140823180342.GC8728%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016174.html">
   <LINK REL="Next"  HREF="016176.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Why MonoDevelop doesn't use GtkTextView/GtkSourceView?</H1>
    <B>S&#233;bastien Wilmet</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=Re%3A%20%5BMonoDevelop%5D%20Why%20MonoDevelop%20doesn%27t%20use%0A%20GtkTextView/GtkSourceView%3F&In-Reply-To=%3C20140823180342.GC8728%40localhost.localdomain%3E"
       TITLE="[MonoDevelop] Why MonoDevelop doesn't use GtkTextView/GtkSourceView?">swilmet at gnome.org
       </A><BR>
    <I>Sat Aug 23 18:03:42 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="016174.html">[MonoDevelop] Why MonoDevelop doesn't use	GtkTextView/GtkSourceView?
</A></li>
        <LI>Next message: <A HREF="016176.html">[MonoDevelop] Why MonoDevelop doesn't use	GtkTextView/GtkSourceView?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16175">[ date ]</a>
              <a href="thread.html#16175">[ thread ]</a>
              <a href="subject.html#16175">[ subject ]</a>
              <a href="author.html#16175">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Aug 23, 2014 at 06:58:35PM +0200, Mike Kr&#252;ger wrote:
&gt;<i> It's very hard to bring all this kind of flexibility into a common API.
</I>
Some features don't always need a flexible API, just a property to
enable/disable the feature, and the library takes care of all the
details.

&gt;<i> &gt;Do you have an example of a feature that uses a snapshot?
</I>&gt;<i> Background parsing for example does that. Auto save is another. Generally
</I>&gt;<i> IDE's are doing heavy background analysis these days.
</I>
Ok, indeed creating snapshots would be useful. I don't know if it would
be complicated to implement for GtkTextBuffer.

&gt;<i> Editors got reinvented more than twice - btw. other IDEs may use
</I>&gt;<i> Mono.TextEditor as well :).
</I>&gt;<i> btw. we may even choose to implement another front end for other UI
</I>&gt;<i> libraries. I agree that reinventing the text editor isn't great - doing a
</I>&gt;<i> text editor is a very huge task - but I do not see a real way around that
</I>&gt;<i> because there are too many using scenarios.
</I>&gt;<i> 
</I>&gt;<i> - But - we can share data structure ideas / maybe even test suites and so
</I>&gt;<i> on.
</I>
GtkTextView internals is documented here:
<A HREF="https://git.gnome.org/browse/gtk+/tree/docs/text_widget_internals.txt">https://git.gnome.org/browse/gtk+/tree/docs/text_widget_internals.txt</A>

&gt;<i> &gt;What is the virtual indentation spaces?
</I>&gt;<i> That's like smart indenting unlike it doesn't add the indent to the text.
</I>
Oh, looks great! Maybe the indentation could be added to the text, but
with a tag. When saving the file, the virtual indentation can be removed
thanks to the tag.

&gt;<i> &gt;In summary, if you still remember how GtkTextView works, what should be
</I>&gt;<i> &gt;improved or changed in GtkTextView?
</I>&gt;<i> It has been ~7 years last time I looked at it. Everything I knew about it
</I>&gt;<i> may not be true anymore.
</I>&gt;<i> But having a default folding implementation would be a good start for IDE
</I>&gt;<i> use.
</I>
Well, I and other gedit developers don't really feel the need for the
code folding. I prefer to have the file structure (e.g. list of
functions) in a side panel. But it is planned to have a basic API in
GtkSourceView (to add/remove fold points, with a gutter component).

So apart from the lack of multi-threaded architecture (and maybe also
the snapshot), there is no fundamental problem with GtkTextView.

&gt;<i> The GtkSourceView search&amp;replace was implemented with taking our
</I>&gt;<i> implementation as example/concept.
</I>
(Just for the record, I think the UI of the incremental search in gedit
was inspired from MonoDevelop, indeed. But GtkSourceView contains only
the backend of the search and replace, it is a new API (not inspired by
other libraries), and the regex search was implemented entirely by
myself, I didn't look at the MonoDevelop code.)

--
S&#233;bastien
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016174.html">[MonoDevelop] Why MonoDevelop doesn't use	GtkTextView/GtkSourceView?
</A></li>
	<LI>Next message: <A HREF="016176.html">[MonoDevelop] Why MonoDevelop doesn't use	GtkTextView/GtkSourceView?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16175">[ date ]</a>
              <a href="thread.html#16175">[ thread ]</a>
              <a href="subject.html#16175">[ subject ]</a>
              <a href="author.html#16175">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
