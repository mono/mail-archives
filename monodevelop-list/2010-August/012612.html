<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Hex editor as a widget for my application?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Hex%20editor%20as%20a%20widget%20for%20my%20application%3F&In-Reply-To=4C7C27E1.8070807%40email.it">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012611.html">
   <LINK REL="Next"  HREF="012613.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Hex editor as a widget for my application?</H1>
    <B>Tom Spink</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Hex%20editor%20as%20a%20widget%20for%20my%20application%3F&In-Reply-To=4C7C27E1.8070807%40email.it"
       TITLE="[MonoDevelop] Hex editor as a widget for my application?">tspink at gmail.com
       </A><BR>
    <I>Mon Aug 30 17:58:25 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="012611.html">[MonoDevelop] Hex editor as a widget for my application?
</A></li>
        <LI>Next message: <A HREF="012613.html">[MonoDevelop] Hex editor as a widget for my application?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12612">[ date ]</a>
              <a href="thread.html#12612">[ thread ]</a>
              <a href="subject.html#12612">[ subject ]</a>
              <a href="author.html#12612">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rampage,

After a quick scan of the Buffer.cs source-code, I think it's because
the stream needs to be reset, in order for the buffer to read the data
properly.  Try adding this line, after initialising the stream, and
before allocating the ArrayBuffer:

///
mystream.Position = 0;
///

And see what happens.

-- Spink.

On 30 August 2010 22:51, Rampage &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">atomikramp at email.it</A>&gt; wrote:
&gt;<i> Hi Tom,
</I>&gt;<i> thak you for the fast reply,
</I>&gt;<i> unluckly this doesn't change the result, still 0es in my hex widget.
</I>&gt;<i>
</I>&gt;<i> the byte array is filled with data, as it's used in other parts of the
</I>&gt;<i> program (like a gdk.pixbuf) and the image is displayed properly.
</I>&gt;<i>
</I>&gt;<i> so i dunno what i'm doing wrong :(
</I>&gt;<i>
</I>&gt;<i> Rampage.
</I>&gt;<i>
</I>&gt;<i> Tom Spink ha scritto:
</I>&gt;&gt;<i> Hi Rampage,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Firstly, I take it you are initialising the byte array with data?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Also, the constructor of a memory stream accepts a byte array as a parameter:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ///
</I>&gt;&gt;<i> var memStream = new MemoryStream(myByteArray);
</I>&gt;&gt;<i> ///
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Try using that, to see if it makes a difference.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- Spink.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 30 August 2010 22:32, Rampage &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">atomikramp at email.it</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Rampage ha scritto:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Abe Gillespie ha scritto:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Make sure you're building against the latest Mono assembly versions.
</I>&gt;&gt;&gt;&gt;&gt;<i> Do this by right-clicking your project &gt; Options &gt; Build &gt; Runtime
</I>&gt;&gt;&gt;&gt;&gt;<i> version &gt; &lt;select the highest Mono / .NET profile&gt;
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> If that doesn't work then you probably need a newer Mono and MonoDevelop.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> -Abe
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> On Mon, Aug 30, 2010 at 11:37 AM, Rampage &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">atomikramp at email.it</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Oh yeah, now it works, thank you very much, now i need some api doc on
</I>&gt;&gt;&gt;&gt;<i> how to use it.. is there anything on the mono documentation?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> thanks
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Francesco
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Ok, here we go, i've managed to understand (probably) how to load stuff
</I>&gt;&gt;&gt;<i> into the hex editor widget.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> but i have a problem:
</I>&gt;&gt;&gt;<i> if i do:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> using Mono.MHex;
</I>&gt;&gt;&gt;<i> using Mono.MHex.Data;
</I>&gt;&gt;&gt;<i> using Mono.MHex.Rendering;
</I>&gt;&gt;&gt;<i> ........
</I>&gt;&gt;&gt;<i> ................
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> HexEditor he = new HexEditor();
</I>&gt;&gt;&gt;<i> HexEditor.HexEditorData.Buffer = ArrayBuffer.Load(&quot;filename.ext&quot;);
</I>&gt;&gt;&gt;<i> he.show();
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> the hex editor widget is displayed correctly with the content from the file
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> if instead i use the other overload for the Load method that accepts a
</I>&gt;&gt;&gt;<i> stream like this:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> byte[] mybytearray = new byte[10]
</I>&gt;&gt;&gt;<i> MemoryStream memstream = new MemoryStream();
</I>&gt;&gt;&gt;<i> memstream.write(mybytearray, 0 mybytearray.Lenght);
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> HexEditor he = new HexEditor();
</I>&gt;&gt;&gt;<i> HexEditor.HexEditorData.Buffer = ArrayBuffer.Load(memstream);
</I>&gt;&gt;&gt;<i> he.show();
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> the widget is showed up, it looks like it's containing data couse its
</I>&gt;&gt;&gt;<i> lenght is right according to the size of the stream
</I>&gt;&gt;&gt;<i> but it's all filled with 00 instead of the stream data.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> am i doing something wrong?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks again for your support
</I>&gt;&gt;&gt;<i> Best regards
</I>&gt;&gt;&gt;<i> Francesco.
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Monodevelop-list mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodevelop-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>&gt;<i>
</I>


-- 
Tom Spink
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012611.html">[MonoDevelop] Hex editor as a widget for my application?
</A></li>
	<LI>Next message: <A HREF="012613.html">[MonoDevelop] Hex editor as a widget for my application?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12612">[ date ]</a>
              <a href="thread.html#12612">[ thread ]</a>
              <a href="subject.html#12612">[ subject ]</a>
              <a href="author.html#12612">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
