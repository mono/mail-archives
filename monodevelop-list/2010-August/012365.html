<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoDevelop] Navigate to dialog item filter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Navigate%20to%20dialog%20item%20filter&In-Reply-To=1280744678.31077.55.camel%40linux-wovx.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012364.html">
   <LINK REL="Next"  HREF="012366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoDevelop] Navigate to dialog item filter</H1>
    <B>Mike Kr&#252;ger</B> 
    <A HREF="mailto:monodevelop-list%40lists.ximian.com?Subject=%5BMonoDevelop%5D%20Navigate%20to%20dialog%20item%20filter&In-Reply-To=1280744678.31077.55.camel%40linux-wovx.site"
       TITLE="[MonoDevelop] Navigate to dialog item filter">mkrueger at novell.com
       </A><BR>
    <I>Mon Aug  2 09:43:00 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="012364.html">[MonoDevelop] Navigate to dialog item filter
</A></li>
        <LI>Next message: <A HREF="012366.html">[MonoDevelop] Navigate to dialog item filter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12365">[ date ]</a>
              <a href="thread.html#12365">[ thread ]</a>
              <a href="subject.html#12365">[ subject ]</a>
              <a href="author.html#12365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi
&gt;<i> The old algorithm is a bit slower, but it gives better search results.
</I>&gt;<i> For example, try looking for 'ccommand'. The list you get using the old
</I>&gt;<i> algorithm makes much more sense to me than what you get in the new one.
</I>&gt;<i>
</I>&gt;<i>    
</I>Some wouldn't be the problem it's only a bit - it'. Yes the old one 
finds more matches - I know that,
But I want to know from the users which search cases should be matched - 
I just don't believe that the substring matching in the navigate to 
dialog should be different than that in the code completion.

I took the code completion algorithm as a start because of the speed.

For MD alone we match up to 141702 items - that's on my machine:
8623ms vs 128ms

I've implemented some caching algorithm that leaves us to match 90400 
items. Thats still roughly 5200ms  vs 84ms on my system - thats not a 
bit slower - thats magnitudes slower. I tested this with the stand alone 
version &amp; took the MD numbers of items, it's hard to tell how long it 
takes in monodevelop - could be more/could be less - but it's another 
user experience when changing the algorithm. Thats why I've came up with 
this again.

&gt;<i> Also, the new algorithm can't handle some queries. For example, if I try
</I>&gt;<i> to look for CustomCommandCollection
</I>&gt;<i>   using the strings 'comcoll',
</I>&gt;<i> 'cuscoll
</I>&gt;<i> ' or even 'commandcollection' I don't get any result.
</I>&gt;<i>
</I>&gt;<i> Those issues should be fixed before switching to the new algorithm.
</I>&gt;<i>
</I>&gt;<i>    
</I>This are two examples I would value as bug - I've not thought about that 
case. They should match for the code completion as well.

I added them to the code completion bug unit tests. To match them I've 
taken the other algorithm and used some optimizations and now it runs 
the 90k items in around 2200ms - still there is room for improvement.
But by changing to the other algorithm 2 unit tests failed. (another 
reason to use one matching subsytem)

The new matcher  matches &quot;AbCdEf&quot; when a filter &quot;bC&quot; is given. And it 
matches &quot;DatabaseObject&quot; when &quot;DOB&quot; is given - the latter may match (I 
don't think it should - upper case should always force a word jump IMHO) 
- but the bug report was about
&quot;DatabaseObject&quot; vs. &quot;DatabaseObjectBase&quot;  - in that case 
&quot;DatabaseObjectBase&quot; should be selected (however with &quot;dob&quot;, &quot;Dob&quot; or 
&quot;DOb&quot; the &quot;DatabaseObject&quot; is the better match).

Do you agree on these cases ? (I'm always open for ideas how to improve 
the matching even more - the matching logic is an important part of the IDE)

I see no reason for using two algorithms, using two would mean:
A) We never find all those issues
B) Monodevelop behaves incosistent (different filters for code 
completion/navigation dialog)

If anyone has interrest in playing around how the subword matcher works 
it's all in CompletionMatcher.cs - it's an easy class to change.

Regards
Mike

&gt;<i> Lluis.
</I>&gt;<i>
</I>&gt;<i> El dg 01 de 08 de 2010 a les 18:21 +0200, en/na Mike Kr&#252;ger va escriure:
</I>&gt;<i>    
</I>&gt;&gt;<i> Hi
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I changed the navigate to dialog item filter - I had it a few versions
</I>&gt;&gt;<i> before - but then reverted it to the 'old' navigate to type/file filter.
</I>&gt;&gt;<i> (nobody recognized afaik)
</I>&gt;&gt;<i> But after that the navigate to dialog was very slow when filtering large
</I>&gt;&gt;<i> projects like the monodevelop one - (but nobody recognized that too).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Now I've changed it back to the completion filter - the code completion
</I>&gt;&gt;<i> uses a very easy greedy algorithm - the navigate to filter was more
</I>&gt;&gt;<i> complicated. (but I think it's more a matter of taste which one is more
</I>&gt;&gt;<i> correct)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I attached a small test file which compares the speed of the two
</I>&gt;&gt;<i> algorithms. Most of you know the filter from code completion - but I
</I>&gt;&gt;<i> want some feedback from our users about that issue.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I prefer the code completion filter alone for consistency reasons - I
</I>&gt;&gt;<i> like how it behaves&amp;  how to search items with that. It should behave
</I>&gt;&gt;<i> like the R# filter.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /Discuss
</I>&gt;&gt;<i> Mike
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Monodevelop-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">Monodevelop-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-list">http://lists.ximian.com/mailman/listinfo/monodevelop-list</A>
</I>&gt;&gt;<i>      
</I>&gt;<i>
</I>&gt;<i>    
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodevelop-list/attachments/20100802/63b24af8/attachment-0001.html">http://lists.ximian.com/pipermail/monodevelop-list/attachments/20100802/63b24af8/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012364.html">[MonoDevelop] Navigate to dialog item filter
</A></li>
	<LI>Next message: <A HREF="012366.html">[MonoDevelop] Navigate to dialog item filter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12365">[ date ]</a>
              <a href="thread.html#12365">[ thread ]</a>
              <a href="subject.html#12365">[ subject ]</a>
              <a href="author.html#12365">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-list">More information about the Monodevelop-list
mailing list</a><br>
</body></html>
