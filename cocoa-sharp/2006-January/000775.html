<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] native2managed troubles
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20native2managed%20troubles&In-Reply-To=D04FA69D-E3AF-486B-86EE-7AEEEE4DAB9D%40mac.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000774.html">
   <LINK REL="Next"  HREF="000756.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] native2managed troubles</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20native2managed%20troubles&In-Reply-To=D04FA69D-E3AF-486B-86EE-7AEEEE4DAB9D%40mac.com"
       TITLE="[Cocoa-sharp] native2managed troubles">andreas.faerber at web.de
       </A><BR>
    <I>Sat Jan 14 03:30:35 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000774.html">[Cocoa-sharp] native2managed troubles
</A></li>
        <LI>Next message: <A HREF="000756.html">[Cocoa-sharp] Objective-C Memory Hooks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#775">[ date ]</a>
              <a href="thread.html#775">[ thread ]</a>
              <a href="subject.html#775">[ subject ]</a>
              <a href="author.html#775">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;&gt;<i> They question is how to determine when the Obj-C object is being  
</I>&gt;&gt;<i> destructed.  Is there some convenience method for this?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The only way to know is to override dealloc. Or replace/patch.
</I>
Maybe it is - but replacing each dealloc function of the given native 
classes' method lists is much work if possible at all... The ObjC class 
handler will be called for classes not found only as I understand.

I found it easier to tackle this by retain'ing the underlying native 
object for the time being. Of course if we keep a map of id to managed 
instance then the underlying object will not be automatically disposed 
until there are no more managed references in the end but this way we 
don't get stray pointers and crashes in .NET.

Another thing I have been reading about is the possibility of 
integrating Garbage Collection into Objective-C. This is mentioned in 
Apple's GCC documentation but it does not elaborate on how this would be 
working, but it mentions the Boehm GC on which I believe Mono's libgc is 
based too.

Andreas
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000774.html">[Cocoa-sharp] native2managed troubles
</A></li>
	<LI>Next message: <A HREF="000756.html">[Cocoa-sharp] Objective-C Memory Hooks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#775">[ date ]</a>
              <a href="thread.html#775">[ thread ]</a>
              <a href="subject.html#775">[ subject ]</a>
              <a href="author.html#775">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
