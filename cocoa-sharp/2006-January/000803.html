<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] Workaround for IMP delegates!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Workaround%20for%20IMP%20delegates%21&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000807.html">
   <LINK REL="Next"  HREF="000805.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] Workaround for IMP delegates!</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Workaround%20for%20IMP%20delegates%21&In-Reply-To="
       TITLE="[Cocoa-sharp] Workaround for IMP delegates!">andreas.faerber at web.de
       </A><BR>
    <I>Wed Jan 18 19:28:19 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000807.html">[Cocoa-sharp] Enums Question
</A></li>
        <LI>Next message: <A HREF="000805.html">[Cocoa-sharp] Mach thread and AppKit exit behavior revealed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#803">[ date ]</a>
              <a href="thread.html#803">[ thread ]</a>
              <a href="subject.html#803">[ subject ]</a>
              <a href="author.html#803">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi guys,

I've just found a way to let delegates have any number of arguments 
without the StackPadding hack (in whatever way that worked). You told 
me Reflection.Emit would be no problem for Cocoa#, so in my 
re-implementation I am generating the delegates and corresponding 
methods as needed, then through IL passing the arguments on to a 
dispatcher method with params argument! :-)

It works for all my unit tests so far. The IL might need to be 
optimized some more based on the integer values, using I1 or I2 instead 
of I4 where possible, and the delegates and delegate targets still need 
to be cached for performance, but the concept seems to work.

Thoughts?

Andreas

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000807.html">[Cocoa-sharp] Enums Question
</A></li>
	<LI>Next message: <A HREF="000805.html">[Cocoa-sharp] Mach thread and AppKit exit behavior revealed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#803">[ date ]</a>
              <a href="thread.html#803">[ thread ]</a>
              <a href="subject.html#803">[ subject ]</a>
              <a href="author.html#803">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
