<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] TableViewDataSource Wrapper
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20TableViewDataSource%20Wrapper&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000789.html">
   <LINK REL="Next"  HREF="000792.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] TableViewDataSource Wrapper</H1>
    <B>Tim Davis</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20TableViewDataSource%20Wrapper&In-Reply-To="
       TITLE="[Cocoa-sharp] TableViewDataSource Wrapper">binary.god at gmail.com
       </A><BR>
    <I>Tue Jan 17 16:57:33 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000789.html">[Cocoa-sharp] TableView Quirk?!
</A></li>
        <LI>Next message: <A HREF="000792.html">[Cocoa-sharp] PATCH: TableViewDataSource
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#790">[ date ]</a>
              <a href="thread.html#790">[ thread ]</a>
              <a href="subject.html#790">[ subject ]</a>
              <a href="author.html#790">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alright,

I tried my hand at making the TableViewDataSource Wrapper.  I figured  
I'd send a new message out to explain it better, I don't explain real  
well when I'm excited, lmao :)  I'll try to summarize it the best I can.

Things I added/changed:

Added SelectedRow() in TableView.cs
Added TableColumns() in TableView.cs
Changed Identifier to return string in TableColumn.cs

New Classes:

Cocoa.TableViewDataSource in TableViewDataSource.cs

Question:  Currently this is in the Cocoa Namespace, should I change  
the namespace to Cocoa.TableView, and just name the class DataSource?

Ok, I'll try to stay coherent here.  The new class gets rid of the  
painful bindings that we would have to do to get a DataSource to  
work.  The new class provides an internal datastore, this should be  
fine for most applications, it can handle any number of rows/ 
tablecolumns.  I was going to provide multi table support, may do  
that soon if you guys think I should.

When you create a new instance of the class you must pass it a  
tableview.  The constructor initializes the internal SortedList, then  
it calls TableColumns in the passed TableView and gets the list of  
column identifiers, it then creates the nessacary Collections for  
each column and adds them to the SortedList using the column  
identifier as the key.

To Add data to the datasource you just call AddTableData.   
AddTableData accepts two arrays, one being an array of column  
identifiers, and the other being the array of actual data.

There is an overloaded AddTableData for those tables that only have  
one column, just makes it easier to use.

How to Use:

This is the fun part, it's so simple now.  Just create a new  
DataSource by initializing it and passing the target TableView to the  
constructor.  It sets up the needed internal data structures.  Then  
you just add data to it via the AddTableData(), set the DataSource  
property to the instance you created and reloaddata, and your done.

Here's an example from one of my tutorial projects....This code is in  
the ApplicationWIllFinishLaunching event:

TableViewDataSource myData = new TableViewDataSource( mainTable );
		
myData.AddTableData( new string[] { &quot;columnMain&quot;, &quot;columnTest&quot; }, new  
string[] { &quot;Test Main&quot;, &quot;Test Test&quot; } );
		
mainTable.DataSource = myData;
		
mainTable.ReloadData();



Ok, any ideas, suggestions, criticisms, flames, etc.....
Oh, I do need to know how I can share this with everyone else.  I've  
been working on it all day and wanna see what you guys think it needs :)


-------------
Is that gasoline I smell...


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000789.html">[Cocoa-sharp] TableView Quirk?!
</A></li>
	<LI>Next message: <A HREF="000792.html">[Cocoa-sharp] PATCH: TableViewDataSource
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#790">[ date ]</a>
              <a href="thread.html#790">[ thread ]</a>
              <a href="subject.html#790">[ subject ]</a>
              <a href="author.html#790">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
