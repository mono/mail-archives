<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] Correct TableView Usage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Correct%20TableView%20Usage&In-Reply-To=9C5FFCE8-22AC-4075-9218-6ABEFCBAE65B%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000770.html">
   <LINK REL="Next"  HREF="000776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] Correct TableView Usage</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Correct%20TableView%20Usage&In-Reply-To=9C5FFCE8-22AC-4075-9218-6ABEFCBAE65B%40gmail.com"
       TITLE="[Cocoa-sharp] Correct TableView Usage">andreas.faerber at web.de
       </A><BR>
    <I>Thu Jan 12 18:31:33 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000770.html">[Cocoa-sharp] Some thoughts on Cocoa# evolvement for 2006
</A></li>
        <LI>Next message: <A HREF="000776.html">[Cocoa-sharp] native2managed troubles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#772">[ date ]</a>
              <a href="thread.html#772">[ thread ]</a>
              <a href="subject.html#772">[ subject ]</a>
              <a href="author.html#772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tim Davis schrieb:

&gt;<i> In &quot;applicationWillFinishLaunching&quot; event, I have the following code...
</I>&gt;<i>
</I>&gt;<i> ((DataSource)mainTable.DataSource).Add(&quot;Test Data&quot;);
</I>&gt;<i> mainTable.ReloadData();
</I>&gt;<i>
</I>&gt;<i> This crashes!
</I>&gt;<i>
</I>&gt;<i> Now for the odd part, if I comment out either line and run it works  
</I>&gt;<i> fine!?
</I>&gt;<i>
</I>&gt;<i> Ok, I tried some more stuff...the error I'm getting is  
</I>&gt;<i> System.Exception: Unimplmented return type: System.String...
</I>&gt;<i>
</I>&gt;<i> When my datasource is quered for what is in what table/row combo, it  
</I>&gt;<i> looks in a collection, that collection returns a string value, so I  
</I>&gt;<i> return that string value from  
</I>&gt;<i> tableView:objectValueForTableColumn:row:....then I get an error, I  
</I>&gt;<i> see the item in the tableview right before it crashes..
</I>&gt;<i>
</I>&gt;<i> Now, here's the interesting part.  If I create a new Cocoa.String,  
</I>&gt;<i> and initialize it using Cocoa.String test = new Cocoa.String(&quot;test&quot;);  
</I>&gt;<i> and return that instead, it works fine...
</I>&gt;<i>
</I>&gt;<i> I've even tried having the collection return a Cocoa.String, but that  
</I>&gt;<i> crashes it also with the same info....
</I>&gt;<i>
</I>&gt;<i> I think we have a bug, or an idiot at the keyboard on my end :)
</I>
In the current Cocoa#'s ObjC-interop methods you should always 
return/accept Cocoa.String as opposed to System.String, they are 
mashalled very differently. The declared return type for  the 
datasource-string-getter-method (whatever...) should probably be 
Cocoa.Object, that's from my mind at least...

As for the first line of code it should theoretically work (compare my 
upcoming message) assuming that DataSource inherits from Cocoa.Object, 
has an IntPtr constructor and is registered with the interop classes 
(NativeClasses?). Did you try explicitly assigning (as opposed to 
retrieving) the DataSource property?

Andreas
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000770.html">[Cocoa-sharp] Some thoughts on Cocoa# evolvement for 2006
</A></li>
	<LI>Next message: <A HREF="000776.html">[Cocoa-sharp] native2managed troubles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#772">[ date ]</a>
              <a href="thread.html#772">[ thread ]</a>
              <a href="subject.html#772">[ subject ]</a>
              <a href="author.html#772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
