<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] View mystery solved - what to do about it?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20View%20mystery%20solved%20-%20what%20to%20do%20about%20it%3F&In-Reply-To=43B9C960.6060307%40web.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000749.html">
   <LINK REL="Next"  HREF="000751.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] View mystery solved - what to do about it?</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20View%20mystery%20solved%20-%20what%20to%20do%20about%20it%3F&In-Reply-To=43B9C960.6060307%40web.de"
       TITLE="[Cocoa-sharp] View mystery solved - what to do about it?">andreas.faerber at web.de
       </A><BR>
    <I>Tue Jan  3 09:58:01 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000749.html">[Cocoa-sharp] View mystery solved - what to do about it?
</A></li>
        <LI>Next message: <A HREF="000751.html">[Cocoa-sharp] native2managed troubles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#750">[ date ]</a>
              <a href="thread.html#750">[ thread ]</a>
              <a href="subject.html#750">[ subject ]</a>
              <a href="author.html#750">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> I fear that some reorganization of ObjCMessaging.objc_sendMsgSuper 
</I>&gt;<i> will be necessary for this; for instance, instead of passing the 
</I>&gt;<i> current instance and having superclass called on it we might need to 
</I>&gt;<i> also pass in the superclass as an argument.
</I>
The new ObjCMessaging.objc_sendMsgSuper [sic] has turned out to be able 
to fix one problem. Unfortunately this has some side-effects that I need 
to fix too...
When I let View.ctor call NSView's initWithFrame: (via objc_msgSendSuper 
w/ [NSView class]) then I can easily subclass View in my app. However 
all Cocoa#-internal View/Control-derived classes will need to have their 
constructor updated accordingly for them to work as expected. I have 
introduced a method virtual void Init(Rect) that needs to be overridden 
by each Cocoa#-interal class to facilitate this. This way a user-derived 
class does not need to export initWithFrame: or call the correct 
initWithFrame: itself. Is this solution okay with you, or does anyone 
have a better suggestion?

What would be the best place for an easy wrapper to stuff like class or 
superclass? Probably not Cocoa.Object so that .NET developers don't see 
them? Maybe IntPtr Native.Get[Super]Class(IntPtr)?

Btw is there any special reason why Object.Initialize() is not called 
Init()? initialize appears to be the static constructor in Objective-C 
whereas init is the default instance constructor, and this method is 
rarely used by end users.

Andreas
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000749.html">[Cocoa-sharp] View mystery solved - what to do about it?
</A></li>
	<LI>Next message: <A HREF="000751.html">[Cocoa-sharp] native2managed troubles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#750">[ date ]</a>
              <a href="thread.html#750">[ thread ]</a>
              <a href="subject.html#750">[ subject ]</a>
              <a href="author.html#750">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
