<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] [Mono-osx] Pre-release: C# Xcode Plugin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20%5BMono-osx%5D%20Pre-release%3A%20C%23%20Xcode%20Plugin&In-Reply-To=OF4C2470EA.500FFAF9-ON8825729D.0050D67C-8825729D.005151BE%40capgroup.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001045.html">
   <LINK REL="Next"  HREF="001034.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] [Mono-osx] Pre-release: C# Xcode Plugin</H1>
    <B>Jaume Llard&#233;n Prieto</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20%5BMono-osx%5D%20Pre-release%3A%20C%23%20Xcode%20Plugin&In-Reply-To=OF4C2470EA.500FFAF9-ON8825729D.0050D67C-8825729D.005151BE%40capgroup.com"
       TITLE="[Cocoa-sharp] [Mono-osx] Pre-release: C# Xcode Plugin">jllarden at aim.com
       </A><BR>
    <I>Wed Mar 14 19:50:25 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001045.html">[Cocoa-sharp] [Mono-osx] Pre-release: C# Xcode Plugin
</A></li>
        <LI>Next message: <A HREF="001034.html">[Cocoa-sharp] Cocoa# Wiki at Google Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1043">[ date ]</a>
              <a href="thread.html#1043">[ thread ]</a>
              <a href="subject.html#1043">[ subject ]</a>
              <a href="author.html#1043">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Great you took the time to package the plugin!

I've tested the installer file and I found the following issues:
* File owner for all files should be root:admin, not 504:504.
* Target Templates/C Sharp/Cocoa# Executable.trgttmpl's filename  
contains a typo.
* Files COPYING.txt and CSharpXcodePlugin.pkg shouldn't be copied to  
the Developer Tools directory.
* (for the sake of completion) There's a missing period in  
project.xcodeproj:
--- csharpplugin/Project Templates/C Sharp/Library/ 
project.xcodeproj.orig/TemplateInfo.plist    2007-03-14  
09:27:46.000000000 +0100
+++ csharpplugin/Project Templates/C Sharp/Library/project.xcodeproj/ 
TemplateInfo.plist 2007-03-12 16:01:16.000000000 +0100
@@ -3,7 +3,7 @@
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
         &lt;key&gt;Description&lt;/key&gt;
-       &lt;string&gt;This project builds a mono library assembly in C#&lt;/ 
string&gt;
+       &lt;string&gt;This project builds a mono library assembly in C#.&lt;/ 
string&gt;
         &lt;key&gt;FilesToMacroExpand&lt;/key&gt;
         &lt;array&gt;
                 &lt;string&gt;&#171;PROJECTNAMEASIDENTIFIER&#187;.cs&lt;/string&gt;

Some thoughts:

1) All files under directory csharpplugin/Resources should be  
capitalized after the pattern: CSharp.&lt;extension&gt;. Some of us use  
case-sensitive HFS+.

2) I'd propose to use more explanatory names for the project  
templates, and substitute the word 'executable' with  
'application' (it's the word used in all other Xcode template files)
Cocoa# Executable &gt; Cocoa# Application
Executable &gt; Mono-C# Application
Library &gt; Mono-C# Library
(The word 'Mono-C#' would be built after the pattern framework- 
language, as 'Cocoa-Java').

3) Although it is in the Source tab, it would be nice to have the  
subversion command for downloading the code also in the wiki, for the  
readers' convenience.

4) I've created in the CSharpPlugin project a last script build phase  
to automatically build an installation package (a pkg file). The  
script uses packagemaker, which is a symlink to /Developer/ 
Applications/Utilities/PackageMaker.app/Contents/MacOS/PackageMaker.  
I don't use your pm-file, so everything's &quot;centralized&quot; in the  
script. I've tested it on my Powerbook with Xcode 2.4.1 and it works  
beautifully (all issues above solved). Here's the script:

PACKAGEMAKER=/Developer/Tools/packagemaker

CSHARPPLUGIN_PKG_DIR=&quot;$SRCROOT/pkg&quot;

CSHARPPLUGIN_PKG_CONTENTS_DIR=&quot;$CSHARPPLUGIN_PKG_DIR/contents&quot;
CSHARPPLUGIN_PKG_CONTENTS_PLUGINS_DIR=&quot;$CSHARPPLUGIN_PKG_CONTENTS_DIR/ 
Plug-ins&quot;
CSHARPPLUGIN_PKG_REZ_DIR=&quot;$CSHARPPLUGIN_PKG_DIR/rez&quot;
CSHARPPLUGIN_PKG_ENGLISH_LPROJ_DIR=&quot;$CSHARPPLUGIN_PKG_REZ_DIR/ 
English.lproj&quot;
CSHARPPLUGIN_PKG_NAME=&quot;CSharpXcodePlugin.pkg&quot;  # could also be  
$PROJECT_NAME.pkg

# Create the package directory from scratch
mkdir -p &quot;$CSHARPPLUGIN_PKG_DIR&quot;
mkdir -p &quot;$CSHARPPLUGIN_PKG_CONTENTS_DIR&quot;
mkdir -p &quot;$CSHARPPLUGIN_PKG_CONTENTS_PLUGINS_DIR&quot;
mkdir -p &quot;$CSHARPPLUGIN_PKG_REZ_DIR&quot;
mkdir -p &quot;$CSHARPPLUGIN_PKG_ENGLISH_LPROJ_DIR&quot;

cp -R &quot;$OBJROOT/Debug/$PROJECT_NAME.pbplugin&quot;  
&quot;$CSHARPPLUGIN_PKG_CONTENTS_DIR/Plug-ins&quot;
cp -R &quot;$SRCROOT/File Templates&quot; &quot;$CSHARPPLUGIN_PKG_CONTENTS_DIR&quot;
cp -R &quot;$SRCROOT/Project Templates&quot; &quot;$CSHARPPLUGIN_PKG_CONTENTS_DIR&quot;
cp -R &quot;$SRCROOT/Target Templates&quot; &quot;$CSHARPPLUGIN_PKG_CONTENTS_DIR&quot;
chmod -R 755 &quot;$CSHARPPLUGIN_PKG_CONTENTS_DIR&quot;
sudo chown -R root:admin &quot;$CSHARPPLUGIN_PKG_CONTENTS_DIR&quot;

cp &quot;$SRCROOT/COPYING&quot; &quot;$CSHARPPLUGIN_PKG_ENGLISH_LPROJ_DIR/License.txt&quot;
cat &lt;&lt;EOF &gt; &quot;$CSHARPPLUGIN_PKG_ENGLISH_LPROJ_DIR/ReadMe.txt&quot;
The C# Xcode plug-in allows the use of the Mono C# development  
environment inside of Xcode. Using this plug-in, the Xcode editor  
understands the basic C# syntax and can highlight comments, keywords,  
etc. For more information visit <A HREF="http://code.google.com/p/cocoa-sharp-">http://code.google.com/p/cocoa-sharp-</A> 
dev/wiki/CSharpPlugin.

Mono, an open source, UNIX version of the Microsoft .NET development  
platform, is needed for this plug-in to work properly. Get Mono from:  
<A HREF="http://www.mono-project.com.">http://www.mono-project.com.</A>

The plug-in installs in:
/Library/Application Support/Apple/Developer Tools.

EOF

cat &lt;&lt;EOF &gt; &quot;$CSHARPPLUGIN_PKG_DIR/Info.plist&quot;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple Computer//DTD PLIST 1.0//EN&quot; &quot;http:// 
www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
    &lt;key&gt;CFBundleGetInfoString&lt;/key&gt;
    &lt;string&gt;C# Xcode Plugin 0.2, Susan Mackay&lt;/string&gt;
    &lt;key&gt;CFBundleIdentifier&lt;/key&gt;
    &lt;string&gt;com.mono.xcodeplugin&lt;/string&gt;
    &lt;key&gt;CFBundleShortVersionString&lt;/key&gt;
    &lt;string&gt;0.2&lt;/string&gt;
    &lt;key&gt;IFMajorVersion&lt;/key&gt;
    &lt;integer&gt;0&lt;/integer&gt;
    &lt;key&gt;IFMinorVersion&lt;/key&gt;
    &lt;integer&gt;2&lt;/integer&gt;
    &lt;key&gt;IFPkgFlagAllowBackRev&lt;/key&gt;
    &lt;false/&gt;
    &lt;key&gt;IFPkgFlagAuthorizationAction&lt;/key&gt;
    &lt;string&gt;AdminAuthorization&lt;/string&gt;
    &lt;key&gt;IFPkgFlagBackgroundAlignment&lt;/key&gt;
    &lt;string&gt;topleft&lt;/string&gt;
    &lt;key&gt;IFPkgFlagBackgroundScaling&lt;/key&gt;
    &lt;string&gt;none&lt;/string&gt;
    &lt;key&gt;IFPkgFlagDefaultLocation&lt;/key&gt;
    &lt;string&gt;/Library/Application Support/Apple/Developer Tools&lt;/string&gt;
    &lt;key&gt;IFPkgFlagFollowLinks&lt;/key&gt;
    &lt;true/&gt;
    &lt;key&gt;IFPkgFlagInstallFat&lt;/key&gt;
    &lt;false/&gt;
    &lt;key&gt;IFPkgFlagIsRequired&lt;/key&gt;
    &lt;false/&gt;
    &lt;key&gt;IFPkgFlagOverwritePermissions&lt;/key&gt;
    &lt;false/&gt;
    &lt;key&gt;IFPkgFlagRelocatable&lt;/key&gt;
    &lt;false/&gt;
    &lt;key&gt;IFPkgFlagRestartAction&lt;/key&gt;
    &lt;string&gt;NoRestart&lt;/string&gt;
    &lt;key&gt;IFPkgFlagRootVolumeOnly&lt;/key&gt;
    &lt;false/&gt;
    &lt;key&gt;IFPkgFlagUpdateInstalledLanguages&lt;/key&gt;
    &lt;false/&gt;
    &lt;key&gt;IFPkgFormatVersion&lt;/key&gt;
    &lt;real&gt;0.10000000149011612&lt;/real&gt;
&lt;/dict&gt;
&lt;/plist&gt;
EOF

cat &lt;&lt;EOF &gt; &quot;$CSHARPPLUGIN_PKG_DIR/Description.plist&quot;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple Computer//DTD PLIST 1.0//EN&quot; &quot;http:// 
www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
    &lt;key&gt;IFPkgDescriptionDescription&lt;/key&gt;
    &lt;string&gt;Installs C# Xcode Plugin&lt;/string&gt;
    &lt;key&gt;IFPkgDescriptionTitle&lt;/key&gt;
    &lt;string&gt;C# Xcode Plugin&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;
EOF

# Create installation package
&quot;$PACKAGEMAKER&quot; -build -v -ds -p &quot;$CSHARPPLUGIN_PKG_DIR/ 
$CSHARPPLUGIN_PKG_NAME&quot; -f &quot;$CSHARPPLUGIN_PKG_CONTENTS_DIR&quot; -r  
&quot;$CSHARPPLUGIN_PKG_REZ_DIR&quot; -i &quot;$CSHARPPLUGIN_PKG_DIR/Info.plist&quot; -d  
&quot;$CSHARPPLUGIN_PKG_DIR/Description.plist&quot;


GOTCHAS: As you might have noticed, I change directory rights using  
sudo. You must have the NOPASSWD flag set to avoid entering a password:
jaume   ALL=(ALL) NOPASSWD: ALL


Cheers
jaume

On 13 Mar 2007, at 15:48, <A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">David_Hudson at capgroup.com</A> wrote:

&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> I have created a simple installer for Susan's C# Xcode plugin.  
</I>&gt;<i> Please try
</I>&gt;<i> it out and let me know what you think. If there aren't any major  
</I>&gt;<i> issues,
</I>&gt;<i> where should I post up announcements? I have only previously done  
</I>&gt;<i> Windows
</I>&gt;<i> and Linux open-source releases so I am not sure where I should  
</I>&gt;<i> announce OSX
</I>&gt;<i> stuff.
</I>&gt;<i>
</I>&gt;<i> You can download the release from here.
</I>&gt;<i> <A HREF="http://cocoa-sharp-dev.googlecode.com/files/CSharpXcodePlugin.zip">http://cocoa-sharp-dev.googlecode.com/files/CSharpXcodePlugin.zip</A>
</I>&gt;<i>
</I>&gt;<i> Documentation can be found here:
</I>&gt;<i> <A HREF="http://code.google.com/p/cocoa-sharp-dev/wiki/CSharpPlugin">http://code.google.com/p/cocoa-sharp-dev/wiki/CSharpPlugin</A>
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> Dave
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-osx mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">Mono-osx at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001045.html">[Cocoa-sharp] [Mono-osx] Pre-release: C# Xcode Plugin
</A></li>
	<LI>Next message: <A HREF="001034.html">[Cocoa-sharp] Cocoa# Wiki at Google Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1043">[ date ]</a>
              <a href="thread.html#1043">[ thread ]</a>
              <a href="subject.html#1043">[ subject ]</a>
              <a href="author.html#1043">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
