<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] Perl script
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:umuff%40QUARK.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000030.html">
   <LINK REL="Next"  HREF="000027.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] Perl script
   </H1>
    <B>Urs Muff
    </B> 
    <A HREF="mailto:umuff%40QUARK.com"
       TITLE="[Cocoa-sharp] Perl script">umuff@QUARK.com
       </A><BR>
    <I>Wed, 9 Jun 2004 16:28:29 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="000030.html">[Cocoa-sharp] Latest &amp; Greatest (FSVO Greatest) _stub.m generator
</A></li>
        <LI> Next message: <A HREF="000027.html">[Cocoa-sharp] FW: [Mono-hackers-list] Roadmap to 1.0 (the next 2 weeks)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26">[ date ]</a>
              <a href="thread.html#26">[ thread ]</a>
              <a href="subject.html#26">[ subject ]</a>
              <a href="author.html#26">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C44E71.11450B28
Content-Type: text/plain

    # Always pass a pointer to the current object as the first argument
    # Except when the method starts with alloc
    if($methodName[0] !~ /^alloc/){
	unshift(@params, &quot;$class* THIS&quot;);
	$obj = &quot;THIS&quot;;
    }else{
	$obj = $class;
    }

--&gt; the test should be in the line starting with '-' or '+', rather then the
method name being 'alloc' 
--&gt; '-' == instance method --&gt; using 'THIS'
--&gt; '+' == class method --&gt; not using 'THIS'

That will deal with '# TODO: What is this alloc() stuff?

I would use:
&quot;\tNSLog(\@\&quot;$methodName: %@\&quot;, THIS);&quot;, on a instance method

About: # TODO: handle ... functions with varargs

Pinvoke does not support varargs, so just ignoring them is fine for now.

- Urs

------_=_NextPart_001_01C44E71.11450B28
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2//EN&quot;&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
&lt;META HTTP-EQUIV=3D&quot;Content-Type&quot; CONTENT=3D&quot;text/html; =
charset=3Dus-ascii&quot;&gt;
&lt;META NAME=3D&quot;Generator&quot; CONTENT=3D&quot;MS Exchange Server version =
5.5.2657.73&quot;&gt;
&lt;TITLE&gt;Perl script&lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; =
# Always pass a pointer to the current object as the first =
argument&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; =
# Except when the method starts with alloc&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; =
if($methodName[0] !~ /^alloc/){&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;FONT =
SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;unshift(@params, &amp;quot;$class* =
THIS&amp;quot;);&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;FONT =
SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;$obj =3D &amp;quot;THIS&amp;quot;;&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; =
}else{&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;FONT =
SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;$obj =3D $class;&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; =
}&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT FACE=3D&quot;Wingdings&quot; SIZE=3D2&gt;&amp;#224;&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; the test should be in the line starting =
with&lt;/FONT&gt; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;-&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; or&lt;/FONT&gt; &lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;+&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;, rather =
then the method name being&lt;/FONT&gt; &lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;alloc&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; =
&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT FACE=3D&quot;Wingdings&quot; SIZE=3D2&gt;&amp;#224;&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&lt;/FONT&gt; &lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;-&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; =3D=3D =
instance method&lt;/FONT&gt; &lt;FONT FACE=3D&quot;Wingdings&quot; =
SIZE=3D2&gt;&amp;#224;&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; using&lt;/FONT&gt; &lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;THIS&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT FACE=3D&quot;Wingdings&quot; SIZE=3D2&gt;&amp;#224;&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&lt;/FONT&gt; &lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;+&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; =3D=3D =
class method&lt;/FONT&gt; &lt;FONT FACE=3D&quot;Wingdings&quot; =
SIZE=3D2&gt;&amp;#224;&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; not using&lt;/FONT&gt; =
&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;THIS&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;That will deal =
with&lt;/FONT&gt; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Courier New&quot;&gt;# TODO: What is this alloc() stuff?&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;I would =
use:&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier =
New&quot;&gt;&amp;quot;\tNSLog(\@\&amp;quot;$methodName: %@\&amp;quot;, THIS);&amp;quot;, on a =
instance method&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;About:&lt;/FONT&gt; &lt;FONT =
SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;# TODO: handle ... functions with =
varargs&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;Pinvoke does not =
support varargs, so just ignoring them is fine for now.&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier New&quot;&gt;- Urs&lt;/FONT&gt;&lt;/P&gt;

&lt;/BODY&gt;
&lt;/HTML&gt;
------_=_NextPart_001_01C44E71.11450B28--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000030.html">[Cocoa-sharp] Latest &amp; Greatest (FSVO Greatest) _stub.m generator
</A></li>
	<LI> Next message: <A HREF="000027.html">[Cocoa-sharp] FW: [Mono-hackers-list] Roadmap to 1.0 (the next 2 weeks)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26">[ date ]</a>
              <a href="thread.html#26">[ thread ]</a>
              <a href="subject.html#26">[ subject ]</a>
              <a href="author.html#26">[ author ]</a>
         </LI>
       </UL>
</body></html>
