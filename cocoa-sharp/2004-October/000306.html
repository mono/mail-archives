<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] Problems running programs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:g.j.baker%40dl.ac.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000305.html">
   <LINK REL="Next"  HREF="000307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] Problems running programs
   </H1>
    <B>Baker, GJ (Gareth)
    </B> 
    <A HREF="mailto:g.j.baker%40dl.ac.uk"
       TITLE="[Cocoa-sharp] Problems running programs">g.j.baker@dl.ac.uk
       </A><BR>
    <I>Tue, 19 Oct 2004 08:52:46 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000305.html">[Cocoa-sharp] Problems running programs
</A></li>
        <LI> Next message: <A HREF="000307.html">[Cocoa-sharp] FW: [Mono-hackers-list] Mono 1.0.4 and 1.1.2 sources are up.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#306">[ date ]</a>
              <a href="thread.html#306">[ thread ]</a>
              <a href="subject.html#306">[ subject ]</a>
              <a href="author.html#306">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thnaks for the help everybody - the problem was actually that I was using an
old Makefile that copies the cocoa# dll files into the application folder
structure, removing the line in the makefile solved the problem (but raised
another).

Can someone clarify something for me:- if I subclass NSView and want to
override drawRect(NSRect aRect)do I [Export(&quot;drawRect:&quot;)] or
[Export(&quot;drawRect&quot;)] (see below for full code)?

Thanks again
Gareth Baker

-----Original Message-----
From: Urs Muff [mailto:<A HREF="mailto:umuff@QUARK.com">umuff@QUARK.com</A>]
Sent: 16 October 2004 19:15
To: Baker, GJ (Gareth)
Cc: Cocoa#
Subject: RE: [Cocoa-sharp] Problems running programs


I seem to me that u did not install cocoa#. (did u run 'make install'?)

- URS C. MUFF
SOFTWARE ARCHITECT	- RESEARCH LAB, QUARK EIF
QUARK INC.
<A HREF="mailto:UMUFF@QUARK.COM">UMUFF@QUARK.COM</A>    	- X6360
+1 (303) 894 3360
CONFIDENTIALITY NOTICE
This e-mail transmission and any documents, files, or previous e-mail
messages appended or attached to it, may contain information that is
confidential or legally privileged. If you are not the intended recipient,
or a person responsible for delivering it to the intended recipient, you are
hereby notified that you must not read this transmission and that any
disclosure, copying, printing, distribution, or use of the information
contained or attached to this transmission is STRICTLY PROHIBITED. If you
have received this transmission in error, please immediately notify the
sender by telephone +1 (303) 894-3360 or return e-mail message
<A HREF="mailto:umuff@quark.com">umuff@quark.com</A> and delete the original transmission, its attachments, and
any copies without reading or saving in any manner. Thank you.


&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:cocoa-sharp-admin@lists.ximian.com">cocoa-sharp-admin@lists.ximian.com</A> [mailto:cocoa-sharp-
</I>&gt;<i> <A HREF="mailto:admin@lists.ximian.com">admin@lists.ximian.com</A>] On Behalf Of Baker, GJ (Gareth)
</I>&gt;<i> Sent: Saturday, October 16, 2004 3:23 AM
</I>&gt;<i> To: '<A HREF="mailto:cocoa-sharp@lists.ximian.com">cocoa-sharp@lists.ximian.com</A>'
</I>&gt;<i> Subject: [Cocoa-sharp] Problems running programs
</I>&gt;<i> 
</I>&gt;<i> I have mono 1.1.1 installed and have added cocoa-sharp from a nightly
</I>&gt;<i> install. I can compile and run the example programs but get errors when I
</I>&gt;<i> try even the simplest sample of my own:
</I>&gt;<i> 
</I>&gt;<i> [Session started at 2004-10-16 10:05:17 +0100.]
</I>&gt;<i> 2004-10-16 10:05:18.357 Tiny[19260]
</I>&gt;<i> /Users/Shared/Development/CSharp/Cocoa-
</I>&gt;<i> sharp/Tiny/Tiny.app/Contents/Resource
</I>&gt;<i> s/Test.exe
</I>&gt;<i> DEBUG:
</I>&gt;<i> 	Assembly:
</I>&gt;<i> /Users/Shared/Development/CSharp/Cocoa-
</I>&gt;<i> sharp/Tiny/Tiny.app/Contents/Resource
</I>&gt;<i> s/Test.exe
</I>&gt;<i> 
</I>&gt;<i> Unhandled Exception: System.DllNotFoundException: FoundationGlue
</I>&gt;<i> in &lt;0x000dc&gt; (wrapper managed-to-native)
</I>&gt;<i> Apple.Foundation.NSString:NSString__stringWithCString1 (intptr,string)
</I>&gt;<i> in &lt;0x00024&gt; Apple.Foundation.NSString:.ctor (string)
</I>&gt;<i> in &lt;0x00034&gt; Apple.Foundation.Class:Get (string)
</I>&gt;<i> in &lt;0x00028&gt; Apple.AppKit.NSApplication:get_NSApplication_classPtr ()
</I>&gt;<i> in &lt;0x0000c&gt; Apple.AppKit.NSApplication:get_SharedApplication ()
</I>&gt;<i> in &lt;0x00020&gt; Tiny.Driver:Setup ()
</I>&gt;<i> in &lt;0x00044&gt; Tiny.Driver:Main (string[])
</I>&gt;<i> 
</I>&gt;<i> I have the correct dllmap set up in etc/mono/config, so any other hints
</I>&gt;<i> would be appreciated. I have copied a sample that fails below:
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> Gareth Baker
</I>&gt;<i> 
</I>&gt;<i> //
</I>&gt;<i> // tiny.cs
</I>&gt;<i> //
</I>&gt;<i> // Author:
</I>&gt;<i> //  Gareth Baker (After sample in Building Cocoa Applications)
</I>&gt;<i> //
</I>&gt;<i> using System;
</I>&gt;<i> using System.Runtime.InteropServices;
</I>&gt;<i> 
</I>&gt;<i> using Apple.Foundation;
</I>&gt;<i> using Apple.AppKit;
</I>&gt;<i> 
</I>&gt;<i> namespace Tiny {
</I>&gt;<i> 
</I>&gt;<i> 	class Driver {
</I>&gt;<i> 		private NSApplication Application;
</I>&gt;<i> 		private NSWindow Window;
</I>&gt;<i> 		private NSRect graphicsRect;
</I>&gt;<i> 
</I>&gt;<i> 		public void Setup() {
</I>&gt;<i> 
</I>&gt;<i> 			Application = NSApplication.SharedApplication;
</I>&gt;<i> 
</I>&gt;<i> 			Application.applicationIconImage =
</I>&gt;<i> (NSImage)NSImage.ImageNamed(&quot;applemono.icns&quot;);
</I>&gt;<i> 			graphicsRect = new NSRect(200, 350, 400, 400);
</I>&gt;<i> 
</I>&gt;<i> 			Window = new NSWindow(graphicsRect,
</I>&gt;<i> 
</I>&gt;<i> (uint)(NSWindowMask.NSMiniaturizableWindowMask |
</I>&gt;<i> NSWindowMask.NSClosableWindowMask | NSWindowMask.NSTitledWindowMask),
</I>&gt;<i> 
</I>&gt;<i> NSBackingStoreType.NSBackingStoreBuffered,
</I>&gt;<i> 					      false);
</I>&gt;<i> 			Window.title = &quot;Tiny&quot;;
</I>&gt;<i> 
</I>&gt;<i> 			DemoView tiny = new DemoView(graphicsRect);
</I>&gt;<i> 
</I>&gt;<i> 			Window.contentView = tiny;
</I>&gt;<i> 			Window.delegate_ = tiny;
</I>&gt;<i> 
</I>&gt;<i> 			Window.makeKeyAndOrderFront(null);
</I>&gt;<i> 
</I>&gt;<i> 			Application.run();
</I>&gt;<i> 		}
</I>&gt;<i> 
</I>&gt;<i> 		static int Main(string[] args) {
</I>&gt;<i> 			Driver main = new Driver();
</I>&gt;<i> 			main.Setup();
</I>&gt;<i> 
</I>&gt;<i> 			return 1;
</I>&gt;<i> 		}
</I>&gt;<i> 	}
</I>&gt;<i> 
</I>&gt;<i> //	[Register(&quot;DemoView&quot;)]
</I>&gt;<i> 	public class DemoView : NSView {
</I>&gt;<i> 
</I>&gt;<i> 		public DemoView() {
</I>&gt;<i> 		}
</I>&gt;<i> 
</I>&gt;<i> 		public DemoView(NSRect r) : base(r) {
</I>&gt;<i> 		}
</I>&gt;<i> 
</I>&gt;<i> 		[Export(&quot;drawRect&quot;)]
</I>&gt;<i> 		public void myDrawRect(NSRect rect) {
</I>&gt;<i> 			float f,g;
</I>&gt;<i> 			NSPoint p1, p2;
</I>&gt;<i> 
</I>&gt;<i> 			int n = 12;
</I>&gt;<i> 
</I>&gt;<i> 			float width = this.bounds.size.width;
</I>&gt;<i> 			float height = this.bounds.size.height;
</I>&gt;<i> 
</I>&gt;<i> 			NSColor.WhiteColor.set();
</I>&gt;<i> 
</I>&gt;<i> 			NSBezierPath.FillRect(this.bounds);
</I>&gt;<i> 
</I>&gt;<i> 			NSColor.BlackColor.set();
</I>&gt;<i> 
</I>&gt;<i> 			for (f=0; f&lt;2*(float)Math.PI; f+=2*(float)Math.PI/n)
</I>&gt;<i> {
</I>&gt;<i> 				for (g=0; g&lt;2*(float)Math.PI;
</I>&gt;<i> g+=2*(float)Math.PI/n) {
</I>&gt;<i> 					p1 = new
</I>&gt;<i> NSPoint((float)((Math.Sin(f)+1) * width * 0.5), (float)((Math.Cos(f)+1) *
</I>&gt;<i> height * 0.5));
</I>&gt;<i> 					p2 = new
</I>&gt;<i> NSPoint((float)((Math.Sin(g)+1) * width * 0.5), (float)((Math.Cos(g)+1) *
</I>&gt;<i> height * 0.5));
</I>&gt;<i> 
</I>&gt;<i> NSBezierPath.StrokeLineFromPoint_toPoint(p1, p2);
</I>&gt;<i> 				}
</I>&gt;<i> 			}
</I>&gt;<i> 
</I>&gt;<i> 		}
</I>&gt;<i> 
</I>&gt;<i> 	}
</I>&gt;<i> }
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Cocoa-sharp mailing list
</I>&gt;<i> <A HREF="mailto:Cocoa-sharp@lists.ximian.com">Cocoa-sharp@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">http://lists.ximian.com/mailman/listinfo/cocoa-sharp</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000305.html">[Cocoa-sharp] Problems running programs
</A></li>
	<LI> Next message: <A HREF="000307.html">[Cocoa-sharp] FW: [Mono-hackers-list] Mono 1.0.4 and 1.1.2 sources are up.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#306">[ date ]</a>
              <a href="thread.html#306">[ thread ]</a>
              <a href="subject.html#306">[ subject ]</a>
              <a href="author.html#306">[ author ]</a>
         </LI>
       </UL>
</body></html>
