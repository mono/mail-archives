<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] Patch for NSObject and NSNumber
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Patch%20for%20NSObject%20and%20NSNumber&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] Patch for NSObject and NSNumber</H1>
    <B>David Mitchell</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Patch%20for%20NSObject%20and%20NSNumber&In-Reply-To="
       TITLE="[Cocoa-sharp] Patch for NSObject and NSNumber">dave at fallingcanbedeadly.com
       </A><BR>
    <I>Fri Jul  6 00:05:22 EDT 2007</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001055.html">[Cocoa-sharp] Patch for NSObject and NSNumber (or &quot;Why Dave is	a Moron&quot;)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1054">[ date ]</a>
              <a href="thread.html#1054">[ thread ]</a>
              <a href="subject.html#1054">[ subject ]</a>
              <a href="author.html#1054">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Could someone review/commit this patch to Subversion (I have no write SVN
access). It accomplishes two things:

 

1.       It addresses what I perceive to be something of a design flaw in
Cocoa# with respect to NSObject (sorry if I'm stepping on anyone's toes,
here). In a nutshell, my gripe is that for any class to be acceptable from
Objective C, it must include a constructor that takes an IntPtr. I
understand that IntPtrs are quite necessary to do most of the Interop with
Objective C, but I don't see why I should still have to be thinking about it
as I build controllers and models. My patch to Object.cs addresses this by
having the default constructor not call into Objective C for an IntPtr (the
first call to NativeObject's accessor will take care of this if it has not
been set by the time it is called), and the method FromIntPtr() has been
modified so that in addition to calling a constructor that takes and IntPtr,
it can also call a default constructor and then set the NativeObject on it.
If you need a code example that shows how this can be useful, I can provide
it.

2.       It implements a wrapper for NSNumber. I've found this to be
particularly useful in dealing with KeyValue coding.

 

Thanks!

--Dave

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/cocoa-sharp/attachments/20070705/5acdede0/attachment.html">http://lists.ximian.com/pipermail/cocoa-sharp/attachments/20070705/5acdede0/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cocoa-sharp-07-05-07.patch
Type: application/octet-stream
Size: 2831 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/cocoa-sharp/attachments/20070705/5acdede0/attachment.obj">http://lists.ximian.com/pipermail/cocoa-sharp/attachments/20070705/5acdede0/attachment.obj</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001055.html">[Cocoa-sharp] Patch for NSObject and NSNumber (or &quot;Why Dave is	a Moron&quot;)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1054">[ date ]</a>
              <a href="thread.html#1054">[ thread ]</a>
              <a href="subject.html#1054">[ subject ]</a>
              <a href="author.html#1054">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
