<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] Patch for NSObject and NSNumber (or &quot;Why Dave is	*still* a Moron&quot;)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Patch%20for%20NSObject%20and%20NSNumber%20%28or%20%22Why%20Dave%20is%0A%09%2Astill%2A%20a%20Moron%22%29&In-Reply-To=492910320C7043F9A031F66BAA6056CA%40MarkII">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001055.html">
   <LINK REL="Next"  HREF="001057.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] Patch for NSObject and NSNumber (or &quot;Why Dave is	*still* a Moron&quot;)</H1>
    <B>David Mitchell</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Patch%20for%20NSObject%20and%20NSNumber%20%28or%20%22Why%20Dave%20is%0A%09%2Astill%2A%20a%20Moron%22%29&In-Reply-To=492910320C7043F9A031F66BAA6056CA%40MarkII"
       TITLE="[Cocoa-sharp] Patch for NSObject and NSNumber (or &quot;Why Dave is	*still* a Moron&quot;)">dave at fallingcanbedeadly.com
       </A><BR>
    <I>Fri Jul  6 01:07:52 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001055.html">[Cocoa-sharp] Patch for NSObject and NSNumber (or &quot;Why Dave is	a Moron&quot;)
</A></li>
        <LI>Next message: <A HREF="001057.html">[Cocoa-sharp] Howdy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1056">[ date ]</a>
              <a href="thread.html#1056">[ thread ]</a>
              <a href="subject.html#1056">[ subject ]</a>
              <a href="author.html#1056">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This one works. I promise.

 

  _____  

From: <A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">cocoa-sharp-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">cocoa-sharp-bounces at lists.ximian.com</A>] On Behalf Of David Mitchell
Sent: Thursday, July 05, 2007 9:56 PM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">cocoa-sharp at lists.ximian.com</A>
Subject: Re: [Cocoa-sharp] Patch for NSObject and NSNumber (or &quot;Why Dave isa
Moron&quot;)

 

The last version was broken. This one should actually work.

 

--Dave

 

  _____  

From: <A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">cocoa-sharp-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">cocoa-sharp-bounces at lists.ximian.com</A>] On Behalf Of David Mitchell
Sent: Thursday, July 05, 2007 9:05 PM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">cocoa-sharp at lists.ximian.com</A>
Subject: [Cocoa-sharp] Patch for NSObject and NSNumber

 

Could someone review/commit this patch to Subversion (I have no write SVN
access). It accomplishes two things:

 

1.       It addresses what I perceive to be something of a design flaw in
Cocoa# with respect to NSObject (sorry if I'm stepping on anyone's toes,
here). In a nutshell, my gripe is that for any class to be acceptable from
Objective C, it must include a constructor that takes an IntPtr. I
understand that IntPtrs are quite necessary to do most of the Interop with
Objective C, but I don't see why I should still have to be thinking about it
as I build controllers and models. My patch to Object.cs addresses this by
having the default constructor not call into Objective C for an IntPtr (the
first call to NativeObject's accessor will take care of this if it has not
been set by the time it is called), and the method FromIntPtr() has been
modified so that in addition to calling a constructor that takes and IntPtr,
it can also call a default constructor and then set the NativeObject on it.
If you need a code example that shows how this can be useful, I can provide
it.

2.       It implements a wrapper for NSNumber. I've found this to be
particularly useful in dealing with KeyValue coding.

 

Thanks!

--Dave

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/cocoa-sharp/attachments/20070705/4d9ef092/attachment.html">http://lists.ximian.com/pipermail/cocoa-sharp/attachments/20070705/4d9ef092/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cocoa-sharp-07-05-07.patch
Type: application/octet-stream
Size: 3168 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/cocoa-sharp/attachments/20070705/4d9ef092/attachment.obj">http://lists.ximian.com/pipermail/cocoa-sharp/attachments/20070705/4d9ef092/attachment.obj</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001055.html">[Cocoa-sharp] Patch for NSObject and NSNumber (or &quot;Why Dave is	a Moron&quot;)
</A></li>
	<LI>Next message: <A HREF="001057.html">[Cocoa-sharp] Howdy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1056">[ date ]</a>
              <a href="thread.html#1056">[ thread ]</a>
              <a href="subject.html#1056">[ subject ]</a>
              <a href="author.html#1056">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
