<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] Running coco-sharp programs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:umuff%40QUARK.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000340.html">
   <LINK REL="Next"  HREF="000341.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] Running coco-sharp programs
   </H1>
    <B>Urs Muff
    </B> 
    <A HREF="mailto:umuff%40QUARK.com"
       TITLE="[Cocoa-sharp] Running coco-sharp programs">umuff@QUARK.com
       </A><BR>
    <I>Sun, 14 Nov 2004 23:04:22 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="000340.html">[Cocoa-sharp] New Xcode Template
</A></li>
        <LI> Next message: <A HREF="000341.html">[Cocoa-sharp] New Xcode Template
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#337">[ date ]</a>
              <a href="thread.html#337">[ thread ]</a>
              <a href="subject.html#337">[ subject ]</a>
              <a href="author.html#337">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You could of course create a symbolic link rather then doing a copy.  =
Which
would make your app run without Cocoa# installed, but I would do a sym =
link
for Development target and a copy for Deployment target.

Just my 2 cents.

- URS C. MUFF
SOFTWARE ARCHITECT	- RESEARCH LAB, QUARK EIF
QUARK INC.
<A HREF="mailto:UMUFF@QUARK.COM">UMUFF@QUARK.COM</A>=A0=A0=A0=A0	- X6360
+1 (303) 894 3360
CONFIDENTIALITY NOTICE
This e-mail transmission and any documents, files, or previous e-mail
messages appended or attached to it, may contain information that is
confidential or legally privileged. If you are not the intended =
recipient,
or a person responsible for delivering it to the intended recipient, =
you are
hereby notified that you must not read this transmission and that any
disclosure, copying, printing, distribution, or use of the information
contained or attached to this transmission is STRICTLY PROHIBITED. If =
you
have received this transmission in error, please immediately notify the
sender by telephone +1 (303) 894-3360 or return e-mail message
<A HREF="mailto:umuff@quark.com">umuff@quark.com</A> and delete the original transmission, its attachments, =
and
any copies without reading or saving in any manner. Thank you.

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:cocoa-sharp-admin@lists.ximian.com">cocoa-sharp-admin@lists.ximian.com</A> [mailto:cocoa-sharp-
</I>&gt;<i> <A HREF="mailto:admin@lists.ximian.com">admin@lists.ximian.com</A>] On Behalf Of Patrick Tescher
</I>&gt;<i> Sent: Sunday, November 14, 2004 6:21 PM
</I>&gt;<i> To: Jake MacMullin
</I>&gt;<i> Cc: <A HREF="mailto:cocoa-sharp@lists.ximian.com">cocoa-sharp@lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Cocoa-sharp] Running coco-sharp programs
</I>&gt;<i>=20
</I>&gt;<i> If you take a look at my updated template you will see that it now =
</I>links
&gt;<i> to the Mono framework and not the Cocoa# framework; everything has =
</I>been
&gt;<i> moved into the Mono framework. Right now my template copies the dll
</I>&gt;<i> files into the Resources folder of the current application.
</I>&gt;<i>=20
</I>&gt;<i>=20
</I>&gt;<i> Jake MacMullin wrote:
</I>&gt;<i>=20
</I>&gt;<i> &gt;I encountered the same problems when trying to run the =
</I>CurrencyConverter
&gt;<i> &gt;example with the latest build of Mono (and Cocoa Sharp).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I think the problem stems from the fact that the Makefile for the
</I>&gt;<i> currency
</I>&gt;<i> &gt;converter is still referencing CocoaSharp as a separate framework. I
</I>&gt;<i> &gt;eventually managed to get it to work by making the following changes =
</I>to
&gt;<i> the
</I>&gt;<i> &gt;makefile.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Firstly, the original makefile copied the following files in to the
</I>&gt;<i> &gt;Resources folder:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Cocoa Dlls:
</I>&gt;<i> &gt;Apple.AppKit.dll
</I>&gt;<i> &gt;Apple.Foundation.dll
</I>&gt;<i> &gt;Apple.WebKit.dll
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Config files:
</I>&gt;<i> &gt;Apple.AppKit.dll.config
</I>&gt;<i> &gt;Apple.Foundation.dll.config
</I>&gt;<i> &gt;Apple.WebKit.dll.config
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Glue:
</I>&gt;<i> &gt;libAppKitGlue.dylib
</I>&gt;<i> &gt;libWebKitGlue.dylib
</I>&gt;<i> &gt;libFoundationGlue.dylib
</I>&gt;<i> &gt;libCocoaSharpGlue.dylib
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;The location for these files has moved a fair bit from the original
</I>&gt;<i> &gt;CocoaSharp 0.1 release and the current build. The following Makefile
</I>&gt;<i> &gt;references the correct location (according to the latest build on my
</I>&gt;<i> machine
</I>&gt;<i> &gt;at least). It is a little more messy - as the required libraries =
</I>(and
&gt;<i> config
</I>&gt;<i> &gt;files) aren't all in the same place any more. Anyway, with thie =
</I>Makefile
&gt;<i> I
</I>&gt;<i> &gt;was able to get the CurrencyConverter up and running again. I=B9m =
</I>not
&gt;<i> really
</I>&gt;<i> &gt;sure why the dll.config files need to be copied in to the =
</I>=8CResources=B9
&gt;<i> &gt;folder, but seeing as they do I=B9m thinking of putting some =
</I>symbolic links
&gt;<i> in
</I>&gt;<i> &gt;to /Library/Frameworks/Mono.framework/Libraries/mono/cocoa-sharp =
</I>(which
&gt;<i> has
</I>&gt;<i> &gt;symbolic links to the DLLs) so that the original: cp $(LIB)/*.dll* =
</I>will
&gt;<i> &gt;work.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Is there a better way to do this? How are other people building =
</I>NIB-based
&gt;<i> &gt;CocoaSharp apps with the current build? I had a look at Patrick's =
</I>Xcode
&gt;<i> &gt;template but it still seems to reference
</I>&gt;<i> &gt;/Library/Frameworks/CocoaSharp.framework
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Regards,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Jake MacMullin
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;******* Makefile *******
</I>&gt;<i> &gt;LIB=3D/Library/Frameworks/Mono.framework/Libraries/mono/cocoa-sharp
</I>&gt;<i> =
</I>&gt;<i>APPKIT=3D/Library/Frameworks/Mono.framework/Versions/1.1.2/lib/mono/gac=
</I>/App
&gt;<i> le.
</I>&gt;<i> &gt;AppKit/1.0.0.0__a2b5f5c17ce02f1d
</I>&gt;<i> =
</I>&gt;<i>FOUNDATION=3D/Library/Frameworks/Mono.framework/Versions/1.1.2/lib/mono=
</I>/gac
&gt;<i> /Ap
</I>&gt;<i> &gt;ple.Foundation/1.0.0.0__a2b5f5c17ce02f1d
</I>&gt;<i> =
</I>&gt;<i>WEBKIT=3D/Library/Frameworks/Mono.framework/Versions/1.1.2/lib/mono/gac=
</I>/App
&gt;<i> le.
</I>&gt;<i> &gt;WebKit/1.0.0.0__a2b5f5c17ce02f1d
</I>&gt;<i> &gt;GLUELIB=3D/Library/Frameworks/Mono.framework/Libraries
</I>&gt;<i> &gt;BIN=3D/Library/Frameworks/Mono.framework/Commands
</I>&gt;<i> &gt;APP=3DCurrencyConverter.app
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;all: test
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;test: CurrencyConverter.cs
</I>&gt;<i> &gt;    rm -Rf $(APP)
</I>&gt;<i> &gt;    mkdir -p $(APP)/Contents/Resources
</I>&gt;<i> &gt;    mcs CurrencyConverter.cs -out:$(APP)/Contents/Resources/Test.exe
</I>&gt;<i> &gt;-r:$(LIB)/Apple.Foundation.dll -r:$(LIB)/Apple.AppKit.dll
</I>&gt;<i> &gt;    mkdir -p $(APP)/Contents/MacOS
</I>&gt;<i> &gt;    cp ./mono.icns $(APP)/Contents/Resources
</I>&gt;<i> &gt;    cp ./Info.plist $(APP)/Contents/Info.plist
</I>&gt;<i> &gt;    cp $(APPKIT)/*.dll* $(APP)/Contents/Resources
</I>&gt;<i> &gt;    cp $(FOUNDATION)/*.dll* $(APP)/Contents/Resources
</I>&gt;<i> &gt;    cp $(WEBKIT)/*.dll* $(APP)/Contents/Resources
</I>&gt;<i> &gt;    cp $(GLUELIB)/*Glue.dylib $(APP)/Contents/Resources
</I>&gt;<i> &gt;    cp $(BIN)/CocoaSharpLoader =
</I>$(APP)/Contents/MacOS/CurrencyConverter
&gt;<i> &gt;    cp -r CurrencyConverter.nib $(APP)/Contents/Resources
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;run: test
</I>&gt;<i> &gt;    ./$(APP)/Contents/MacOS/CurrencyConverter
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;On 12/11/04 11:27 PM, &quot;Baker, GJ (Gareth)&quot; &lt;<A HREF="mailto:g.j.baker@dl.ac.uk">g.j.baker@dl.ac.uk</A>&gt; =
</I>wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;I have a couple of questions about running/building cocoa-sharp
</I>&gt;<i> programs:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Firstly, the nib example makefile which builds the currency =
</I>converter
&gt;<i> does
</I>&gt;<i> &gt;&gt;not copy the *.dll files into the application, is this actually
</I>&gt;<i> necessary. I
</I>&gt;<i> &gt;&gt;get different error messages depending on whether I do or not.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Secondly, if I do copy them in I get the error message:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Unhandled exception: System.DllNotFoundException: Glue
</I>&gt;<i> &gt;&gt;..... Apple.Foundation.TypeConverter:GetObjectClassName (intptr)
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;I have set up a mapping from Glue to libCocoaSharpGlue.dylib in the =
</I>mono
&gt;<i> &gt;&gt;config file, is this the right mapping?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Thanks for any help.
</I>&gt;<i> &gt;&gt;Gareth Baker
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;_______________________________________________
</I>&gt;<i> &gt;&gt;Cocoa-sharp mailing list
</I>&gt;<i> &gt;&gt;<A HREF="mailto:Cocoa-sharp@lists.ximian.com">Cocoa-sharp@lists.ximian.com</A>
</I>&gt;<i> &gt;&gt;<A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">http://lists.ximian.com/mailman/listinfo/cocoa-sharp</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>=20
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Cocoa-sharp mailing list
</I>&gt;<i> <A HREF="mailto:Cocoa-sharp@lists.ximian.com">Cocoa-sharp@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">http://lists.ximian.com/mailman/listinfo/cocoa-sharp</A>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000340.html">[Cocoa-sharp] New Xcode Template
</A></li>
	<LI> Next message: <A HREF="000341.html">[Cocoa-sharp] New Xcode Template
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#337">[ date ]</a>
              <a href="thread.html#337">[ thread ]</a>
              <a href="subject.html#337">[ subject ]</a>
              <a href="author.html#337">[ author ]</a>
         </LI>
       </UL>
</body></html>
