<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] Workaround for IMP delegates!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Workaround%20for%20IMP%20delegates%21&In-Reply-To=43EA9179.90605%40web.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000837.html">
   <LINK REL="Next"  HREF="000830.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] Workaround for IMP delegates!</H1>
    <B>kangaroo</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Workaround%20for%20IMP%20delegates%21&In-Reply-To=43EA9179.90605%40web.de"
       TITLE="[Cocoa-sharp] Workaround for IMP delegates!">grompf at sublimeintervention.com
       </A><BR>
    <I>Wed Feb  8 19:56:45 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000837.html">[Cocoa-sharp] Workaround for IMP delegates!
</A></li>
        <LI>Next message: <A HREF="000830.html">[Cocoa-sharp] Mach thread and AppKit exit behavior revealed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#838">[ date ]</a>
              <a href="thread.html#838">[ thread ]</a>
              <a href="subject.html#838">[ subject ]</a>
              <a href="author.html#838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 8-Feb-06, at 7:48 PM, Andreas F&#228;rber wrote:

&gt;<i> kangaroo schrieb:
</I>&gt;&gt;<i> In general I'm a fan of this approach.
</I>&gt;<i> Which is which one? ;-)
</I>
Emitting dynamic IL on an as-needed basis.

&gt;&gt;<i> I'm assuming that you're changing the signature of the StackPadding
</I>&gt;&gt;<i> methods to take a params object[] which you're boxing in the SRE  
</I>&gt;&gt;<i> methods?
</I>&gt;<i> I'm not using StackPadding methods. I am generating a set of classes
</I>&gt;<i> with a static method with the correct native-&gt;managed marshalling
</I>&gt;<i> signature to let Mono do the marshalling work for us. The ObjC method
</I>&gt;<i> signature you seemed to be depending on for StackPadding is  
</I>&gt;<i> obsolete and
</I>&gt;<i> ignored by the runtime on OS X (the offsets and sizes).
</I>&gt;<i> In my &quot;proxy&quot; methods, if necessary based on Type, I am boxing the
</I>&gt;<i> values into an object[], right.
</I>&gt;<i>
</I>
I'm aware of that; you mis-interpreted me but answered my question at  
the same time.  We're on the same page now.

&gt;<i> I'm actually using this implementation solely now so I will need to  
</I>&gt;<i> look
</I>&gt;<i> into optimizing this further for my app. One of the reasons I'm not
</I>&gt;<i> using Java AWT or Swing as a platform-interoperable UI is that it's
</I>&gt;<i> terribly slow (at least on Windows) and I don't want Cocoa# to suffer
</I>&gt;<i> the same problem. :-)
</I>&gt;<i>
</I>
There are many places in the runtime and in the Cocoa# code that can  
get some fairly serious optimizations.
Once I've reviewed your newest change-set and we merge everyone up to  
the same place I can start looking into optimizations again.  I have  
a few local changes which boost Cube.app from 400fps-&gt;~900fps on my  
local tree; but they have a few bugs to still be worked out.

-g

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000837.html">[Cocoa-sharp] Workaround for IMP delegates!
</A></li>
	<LI>Next message: <A HREF="000830.html">[Cocoa-sharp] Mach thread and AppKit exit behavior revealed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#838">[ date ]</a>
              <a href="thread.html#838">[ thread ]</a>
              <a href="subject.html#838">[ subject ]</a>
              <a href="author.html#838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
