<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] Mach exception handling issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Mach%20exception%20handling%20issues&In-Reply-To=9FEDC2F9-297D-41F3-8B5E-B74AF8F03ACD%40sublimeintervention.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000831.html">
   <LINK REL="Next"  HREF="000841.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] Mach exception handling issues</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20Mach%20exception%20handling%20issues&In-Reply-To=9FEDC2F9-297D-41F3-8B5E-B74AF8F03ACD%40sublimeintervention.com"
       TITLE="[Cocoa-sharp] Mach exception handling issues">andreas.faerber at web.de
       </A><BR>
    <I>Wed Feb  8 20:33:06 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000831.html">[Cocoa-sharp] Mach exception handling issues
</A></li>
        <LI>Next message: <A HREF="000841.html">[Cocoa-sharp] Mach exception handling issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#840">[ date ]</a>
              <a href="thread.html#840">[ thread ]</a>
              <a href="subject.html#840">[ subject ]</a>
              <a href="author.html#840">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>kangaroo schrieb:
&gt;&gt;<i> Some time ago I noticed a test case in Mach.cs that should
</I>&gt;&gt;<i> demonstrate getting a NullPointerException from a call to
</I>&gt;&gt;<i> Marshal.ReadIntPtr(IntPtr.Zero). Unfortunately I am not observing
</I>&gt;&gt;<i> such results with the released or SVN version of cocoa-sharp.dll. I
</I>&gt;&gt;<i> am always getting a SIGSEGV signal message with callstacks from Mono
</I>&gt;&gt;<i> and it exits.
</I>&gt;<i>
</I>&gt;<i> Is this still the case?
</I>Yes, it was last time I checked. I commented it out in my code and am
[Ignore]ing my test case for now.

&gt;<i> Those values were emperically determined from the C code posted by the
</I>&gt;<i> omni-group.
</I>I have found the corresponding structs in some header file in one of the
frameworks. You'll see it in my code. This is based on reading the
message id and searching for it in the files.
&gt;&gt;<i> The code only indicates that /removing/ the exception handling is not
</I>&gt;&gt;<i> working; is this a known issue in Cocoa#? Or a problem with Mono or
</I>&gt;&gt;<i> my system? I have used mcs for all these tests strait away this time.
</I>&gt;<i>
</I>&gt;<i> To be honest that code for removing is wrong; and needs to be
</I>&gt;<i> rewritten but I didn't spend a ton of time on it as we're looking at
</I>&gt;<i> moving mach exception handling into the mono runtime proper.
</I>Sure, that's why it's commented out! But in the above quote I was
referring to your *test case* of Marshal.ReadIntPtr(IntPtr.Zero) not
resulting in a NullPointerException but instead the described SIGSEGV
stack trace and Mono abort.

Andreas
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000831.html">[Cocoa-sharp] Mach exception handling issues
</A></li>
	<LI>Next message: <A HREF="000841.html">[Cocoa-sharp] Mach exception handling issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#840">[ date ]</a>
              <a href="thread.html#840">[ thread ]</a>
              <a href="subject.html#840">[ subject ]</a>
              <a href="author.html#840">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
