<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] SDL application won't quit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20SDL%20application%20won%27t%20quit&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] SDL application won't quit</H1>
    <B>mike stedman</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20SDL%20application%20won%27t%20quit&In-Reply-To="
       TITLE="[Cocoa-sharp] SDL application won't quit">ravuya at gmail.com
       </A><BR>
    <I>Tue Jun 12 21:46:14 EDT 2007</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001053.html">[Cocoa-sharp] use samples provided by the cocoa-sharp-0.9.1 tarball
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1052">[ date ]</a>
              <a href="thread.html#1052">[ thread ]</a>
              <a href="subject.html#1052">[ subject ]</a>
              <a href="author.html#1052">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I recently tried building a Tao.Sdl application on OS X, and am
required to use Cocoa# since SDL depends on it on OS X. This means I
have to create an AutoreleasePool, otherwise the application complains
and refuses to open a CGSWindow. Later, I discovered that the
Application class can set up its own pool, so I'm using that for the
time being.

The problem is that when my program finishes at the end of the main()
function, the application won't quit. I've macpacked it as a cocoa
application, and the console just constantly emits messages along
these lines:
Runtime Performance:
	CacheHits: 0
	CacheHitBadType: 0
	ConstructorHits: 0
	NativeToManagedHits: 0
	ImplementMethodHits: 0
	ConstructManagedObjectHits: 0
	TypeWalks: 0

The code in question looks pretty much like this:
	public void Run() {
		Application.Init();
		NSApplicationLoad();
		Sdl.SDL_Init(Sdl.SDL_INIT_EVERYTHING);
		Sdl.SDL_SetVideoMode(640, 480, 32, flags);
		// Rest of program...

I'm assuming that it releases itself, since Mono claims that Release()
and Dispose() are not valid methods to call on an AutoreleasePool or
Application. Even Environment.Exit won't quit the program, and I don't
want to have to use Process.Kill.

Any insight into what's going wrong? I've built Tao.Sdl applications
that quit fine before.

Thanks in advance.
-- 
Mike
<A HREF="http://rav.realitybytes.tk">http://rav.realitybytes.tk</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001053.html">[Cocoa-sharp] use samples provided by the cocoa-sharp-0.9.1 tarball
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1052">[ date ]</a>
              <a href="thread.html#1052">[ thread ]</a>
              <a href="subject.html#1052">[ subject ]</a>
              <a href="author.html#1052">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
