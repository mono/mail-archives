<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> AW: [Cocoa-sharp] Menu and localization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=AW%3A%20%5BCocoa-sharp%5D%20Menu%20and%20localization&In-Reply-To=BAY104-DAV15A3B66914550261816B89AD090%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000543.html">
   <LINK REL="Next"  HREF="000545.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>AW: [Cocoa-sharp] Menu and localization</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=AW%3A%20%5BCocoa-sharp%5D%20Menu%20and%20localization&In-Reply-To=BAY104-DAV15A3B66914550261816B89AD090%40phx.gbl"
       TITLE="AW: [Cocoa-sharp] Menu and localization">andreas.faerber at web.de
       </A><BR>
    <I>Fri May 20 14:48:10 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000543.html">[Cocoa-sharp] Menu and localization
</A></li>
        <LI>Next message: <A HREF="000545.html">AW: [Cocoa-sharp] Menu and localization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#544">[ date ]</a>
              <a href="thread.html#544">[ thread ]</a>
              <a href="subject.html#544">[ subject ]</a>
              <a href="author.html#544">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Oscar, 

&gt;<i> &gt; Any suggestions on how to do this type of &quot;unfinished&quot; localization 
</I>&gt;<i> &gt; efficiently, whether with nibs or otherwise?
</I>&gt;<i> 
</I>&gt;<i> If you want to do something in Cocoa#, sometimes you need to 
</I>&gt;<i> see how Cocoa itself handles the problem.
</I>&gt;<i> This is how the localiztion mechanism works.
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://developer.apple.com/documentation/Cocoa/Conceptual/Load">http://developer.apple.com/documentation/Cocoa/Conceptual/Load</A>
</I>&gt;<i> ingResources/Concepts/BundlesAndLocalization.html
</I>&gt;<i> 
</I>&gt;<i> The short answer is, if you can take advantage of NSBundle 
</I>&gt;<i> and you follow the requirements laid out here, it basically 
</I>&gt;<i> comes for &quot;free&quot;.  You would place a separate localized NIB 
</I>&gt;<i> containing your menu in the proper locations. 
</I>&gt;<i> NSBundle figures out which one to load.
</I>&gt;<i> 
</I>&gt;<i> Oscar
</I>
That's basically a description of how Cocoa *locates* already translated nib
files. But it doesn't give me any hint on how to actually efficiently
translate the nib file that I can put in any such .lproj directory. The
translations don't come for &quot;free&quot;! ;-)
I see only two possible ways to translate nibs:

a) I could save the original my.nib to my_de.nib, my_fr.nib and so on and
translate them. That might be fine for a finished product, but in my case,
after any change I make to the original nib, I would have to update all
secondary nib files to reflect the change.

b) I could use nibtool, which generates a translation dictionary of the form
&quot;origString&quot;=&quot;translatedString&quot;;.
nibtool -L my.nib &gt; my.strings
nibtool -w my_en.nib -d my.strings my.nib
This works fine for the first translation. I then make a cp -R of my.nib to
my.bak.nib and of my_en.nib to my_en.bak.nib.
For the next translation, I could then call
nibtool -I my.bak.nib -p my_en.bak.nib -W my_en.nib -d my.strings my.nib
BUT this requires a new dictionary. And when I re-generate it using the
above command, all my previous translations are lost! They are definately
not taken from the backup files, I've tried that. Any clues on how to
proceed? (my guess would be to somehow merge the newly generated dictionary
file with the previous translation, but how?)

Also, the Application.LoadNib function that I had been pointed to does not
seem to search my.app/Contents/Resources/English.lproj/my.nib?

Andreas

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000543.html">[Cocoa-sharp] Menu and localization
</A></li>
	<LI>Next message: <A HREF="000545.html">AW: [Cocoa-sharp] Menu and localization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#544">[ date ]</a>
              <a href="thread.html#544">[ thread ]</a>
              <a href="subject.html#544">[ subject ]</a>
              <a href="author.html#544">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
