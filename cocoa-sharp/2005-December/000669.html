<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] [PATCH] - trunk/cocoa-sharp/src/Cocoa
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20%5BPATCH%5D%20-%20trunk/cocoa-sharp/src/Cocoa&In-Reply-To=59481E57-E404-4F36-850D-C6A02E0F764B%40aaronflynt.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000667.html">
   <LINK REL="Next"  HREF="000670.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] [PATCH] - trunk/cocoa-sharp/src/Cocoa</H1>
    <B>kangaroo</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20%5BPATCH%5D%20-%20trunk/cocoa-sharp/src/Cocoa&In-Reply-To=59481E57-E404-4F36-850D-C6A02E0F764B%40aaronflynt.com"
       TITLE="[Cocoa-sharp] [PATCH] - trunk/cocoa-sharp/src/Cocoa">grompf at sublimeintervention.com
       </A><BR>
    <I>Mon Dec  5 12:19:41 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000667.html">[Cocoa-sharp] [PATCH] - trunk/cocoa-sharp/src/Cocoa
</A></li>
        <LI>Next message: <A HREF="000670.html">[Cocoa-sharp] Re: [PATCH] - trunk/cocoa-sharp/src/Cocoa
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#669">[ date ]</a>
              <a href="thread.html#669">[ thread ]</a>
              <a href="subject.html#669">[ subject ]</a>
              <a href="author.html#669">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Aaron,

   First off; thanks for the patch!  In the future can you attach  
both the code and docs in 1 .diff file as an attachment and not  
inline? Thanks

Comments on the patch are inline:

On 4-Dec-05, at 11:00 PM, Aaron Flynt wrote:

&gt;<i>
</I>&gt;<i> Index: AlertStyle.cs
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- AlertStyle.cs	(revision 0)
</I>&gt;<i> +++ AlertStyle.cs	(revision 0)
</I>&gt;<i> @@ -0,0 +1,9 @@
</I>&gt;<i> +using System;
</I>&gt;<i> +
</I>&gt;<i> +namespace Cocoa {
</I>&gt;<i> +	public enum AlertStyle {
</I>&gt;<i> +		NSWarningAlertStyle = 0,
</I>&gt;<i> +		NSInformationalAlertStyle = 1,
</I>&gt;<i> +		NSCriticalAlertStyle = 2,
</I>&gt;<i> +	}
</I>&gt;<i> +}
</I>&gt;<i>
</I>
Drop the &quot;NS&quot; here

&gt;<i> Index: PopUpButton.cs
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- PopUpButton.cs	(revision 0)
</I>&gt;<i> +++ PopUpButton.cs	(revision 0)
</I>&gt;<i> @@ -0,0 +1,44 @@
</I>&gt;<i> +using System;
</I>&gt;<i> +using System.Runtime.InteropServices;
</I>&gt;<i> +using Cocoa;
</I>&gt;<i> +
</I>&gt;<i> +namespace Cocoa {
</I>&gt;<i> +	public class PopUpButton : Control {
</I>&gt;<i> +		private static string ObjectiveCName = &quot;NSPopUpButton&quot;;
</I>&gt;<i> +
</I>&gt;<i> +		static PopUpButton () {
</I>&gt;<i> +			NativeClasses [typeof (PopUpButton)] = Native.RegisterClass  
</I>&gt;<i> (typeof (PopUpButton));
</I>&gt;<i> +		}
</I>&gt;<i> +
</I>&gt;<i> +		public PopUpButton (IntPtr native_object) : base (native_object) {}
</I>&gt;<i> +
</I>&gt;<i> +		public string titleOfSelectedItem {
</I>&gt;<i> +			get {
</I>&gt;<i> +				return(string) Native.NativeToManaged ((IntPtr) 
</I>&gt;<i> ObjCMessaging.objc_msgSend(NativeObject, &quot;titleOfSelectedItem&quot;,  
</I>&gt;<i> typeof(System.IntPtr)));
</I>&gt;<i> +			}
</I>&gt;<i> +		}
</I>
All public properties should start with a CapitalLetter.

&gt;<i> +
</I>&gt;<i> +		public int NumberOfItems {
</I>&gt;<i> +			get {
</I>&gt;<i> +				return(int) ObjCMessaging.objc_msgSend(NativeObject,  
</I>&gt;<i> &quot;numberOfItems&quot;, typeof(System.Int32));
</I>&gt;<i> +			}
</I>&gt;<i> +		}
</I>&gt;<i> +
</I>&gt;<i> +		public void RemoveAllItems () {
</I>&gt;<i> +			ObjCMessaging.objc_msgSend(NativeObject, &quot;removeAllItems&quot;,  
</I>&gt;<i> typeof(void));
</I>&gt;<i> +		}
</I>&gt;<i> +
</I>&gt;<i> +		public void AddItemWithTitle (string title) {
</I>&gt;<i> +			ObjCMessaging.objc_msgSend(NativeObject, &quot;addItemWithTitle:&quot;,  
</I>&gt;<i> typeof(void), typeof(System.IntPtr), new Cocoa.String  
</I>&gt;<i> (title).NativeObject);
</I>&gt;<i> +		}
</I>&gt;<i> +
</I>&gt;<i> +		public void SelectItemAtIndex (int index) {
</I>&gt;<i> +			ObjCMessaging.objc_msgSend(NativeObject, &quot;selectItemAtIndex:&quot;,  
</I>&gt;<i> typeof(void), typeof(System.Int32), index);
</I>&gt;<i> +		}
</I>&gt;<i> +
</I>&gt;<i> +		public string ItemTitleAtIndex (int index) {
</I>&gt;<i> +			return(string) Native.NativeToManaged((IntPtr) 
</I>&gt;<i> ObjCMessaging.objc_msgSend(NativeObject, &quot;itemTitleAtIndex:&quot;, typeof 
</I>&gt;<i> (System.IntPtr), typeof(System.Int32), index));
</I>&gt;<i> +		}
</I>&gt;<i> +
</I>&gt;<i> +	}
</I>&gt;<i> +}
</I>
I'm not sure about the rest of the naming here; Perhaps  
RemoveAllItems should be called RemoveAll()?  Anyone else have any  
thoughts?


&gt;<i> Index: Alert.cs
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- Alert.cs	(revision 0)
</I>&gt;<i> +++ Alert.cs	(revision 0)
</I>&gt;<i> @@ -0,0 +1,61 @@
</I>&gt;<i> +using System;
</I>&gt;<i> +using System.Runtime.InteropServices;
</I>&gt;<i> +using Cocoa;
</I>&gt;<i> +
</I>&gt;<i> +namespace Cocoa {
</I>&gt;<i> +	public class Alert : Cocoa.Object {
</I>&gt;<i> +		private static string ObjectiveCName = &quot;NSAlert&quot;;
</I>&gt;<i> +
</I>&gt;<i> +		
</I>&gt;<i> +		static Alert () {
</I>&gt;<i> +			NativeClasses [typeof (Alert)] = Native.RegisterClass (typeof  
</I>&gt;<i> (Alert));
</I>&gt;<i> +		}
</I>&gt;<i> +
</I>&gt;<i> +		public Alert (IntPtr native_object) : base (native_object) {}
</I>&gt;<i> +
</I>&gt;<i> +		public Cocoa.AlertStyle alertStyle {
</I>&gt;<i> +			get {
</I>&gt;<i> +				return(Cocoa.AlertStyle)ObjCMessaging.objc_msgSend 
</I>&gt;<i> (NativeObject, &quot;alertStyle&quot;, typeof(System.Int32));
</I>&gt;<i> +			}
</I>&gt;<i> +			set {
</I>&gt;<i> +				ObjCMessaging.objc_msgSend(NativeObject, &quot;setAlertStyle:&quot;,  
</I>&gt;<i> typeof(void), typeof(System.Int32), value);
</I>&gt;<i> +			}
</I>&gt;<i> +		}
</I>&gt;<i> +
</I>
same as above; should be AlertStyle.

&gt;<i> +		public static Alert  
</I>&gt;<i> AlertWithMessageText_defaultButton_alternateButton_otherButton_informa 
</I>&gt;<i> tiveTextWithFormat (string messageTitle, string defaultButtonTitle,  
</I>&gt;<i> string alternateButtonTitle, string otherButtonTitle, string format) {
</I>&gt;<i> +			return(Alert) Native.NativeToManaged (
</I>&gt;<i> +				(IntPtr) ObjCMessaging.objc_msgSend (
</I>&gt;<i> +					(IntPtr) NativeClasses [typeof (Alert)],
</I>&gt;<i> +					&quot;alertWithMessageText:defaultButton:alternateButton:otherButton: 
</I>&gt;<i> informativeTextWithFormat:&quot;,
</I>&gt;<i> +					typeof(System.IntPtr),
</I>&gt;<i> +					typeof(System.IntPtr),
</I>&gt;<i> +					new Cocoa.String (messageTitle).NativeObject,
</I>&gt;<i> +					typeof(System.IntPtr),
</I>&gt;<i> +					new Cocoa.String (defaultButtonTitle).NativeObject,
</I>&gt;<i> +					typeof(System.IntPtr),
</I>&gt;<i> +					new Cocoa.String (alternateButtonTitle).NativeObject,
</I>&gt;<i> +					typeof(System.IntPtr),
</I>&gt;<i> +					new Cocoa.String (otherButtonTitle).NativeObject,
</I>&gt;<i> +					typeof(System.IntPtr),
</I>&gt;<i> +					new Cocoa.String (format).NativeObject
</I>&gt;<i> +				)
</I>&gt;<i> +			);
</I>&gt;<i> +		}
</I>&gt;<i>
</I>
This has gotta change into a better method name;  I'm not  
constraining us to the objc selector mapping anymore now that I'm  
requiring docs; this should probably be:
public static Alert AlertWithMessage (string title, string  
defaultButtonTitle, string alternateButtonTitle, string  
otherButtonTitle, string format) {}

We can use .net overloading for the other selectors to keep the api  
more sane and document the different calling conventions.

&gt;<i> +
</I>&gt;<i> +		public int RunModal {
</I>&gt;<i> +			get {
</I>&gt;<i> +				return(int) ObjCMessaging.objc_msgSend(NativeObject,  
</I>&gt;<i> &quot;runModal&quot;, typeof(System.Int32));
</I>&gt;<i> +			}
</I>&gt;<i> +		}
</I>&gt;<i> +
</I>&gt;<i> +	}
</I>&gt;<i> +}
</I>
This should be a method not a property.

&gt;<i> Index: CellStateValue.cs
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- CellStateValue.cs	(revision 0)
</I>&gt;<i> +++ CellStateValue.cs	(revision 0)
</I>&gt;<i> @@ -0,0 +1,9 @@
</I>&gt;<i> +using System;
</I>&gt;<i> +
</I>&gt;<i> +namespace Cocoa {
</I>&gt;<i> +	public enum CellStateValue {
</I>&gt;<i> +		NSMixedState = -1,
</I>&gt;<i> +		NSOffState = 0,
</I>&gt;<i> +		NSOnState = 1,
</I>&gt;<i> +	}
</I>&gt;<i> +}
</I>
Again drop the NS.

&gt;<i> Index: MenuItem.cs
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- MenuItem.cs	(revision 53899)
</I>&gt;<i> +++ MenuItem.cs	(working copy)
</I>&gt;<i> @@ -39,5 +39,14 @@
</I>&gt;<i> 				ObjCMessaging.objc_msgSend (NativeObject, &quot;setAction:&quot;, typeof  
</I>&gt;<i> (void), typeof (IntPtr), IntPtr.Zero);
</I>&gt;<i> 			}
</I>&gt;<i> 		}
</I>&gt;<i> +
</I>&gt;<i> +		public int State {
</I>&gt;<i> +			get {
</I>&gt;<i> +				return(int) ObjCMessaging.objc_msgSend(NativeObject, &quot;state&quot;,  
</I>&gt;<i> typeof(System.Int32));
</I>&gt;<i> +			}
</I>&gt;<i> +			set {
</I>&gt;<i> +				ObjCMessaging.objc_msgSend(NativeObject, &quot;setState:&quot;, typeof 
</I>&gt;<i> (void), typeof(System.Int32), value);
</I>&gt;<i> +			}
</I>&gt;<i> +		}
</I>&gt;<i> 	}
</I>&gt;<i> }
</I>
This is fine; but please add static ints to define MenuItem.OnState  
MenuItem.OffState MenuItem.MixedState

Other than that this all looks good.  Can you fix these up and resend  
the patch?

Do you have commit access to mono's svn?  Do you see yourself doing  
more patches in the future?  If you dont; and you do (respectively)  
once this patch goes thru I can sponsor you for svn access to the  
cocoa# repository.

-kangaroo

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000667.html">[Cocoa-sharp] [PATCH] - trunk/cocoa-sharp/src/Cocoa
</A></li>
	<LI>Next message: <A HREF="000670.html">[Cocoa-sharp] Re: [PATCH] - trunk/cocoa-sharp/src/Cocoa
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#669">[ date ]</a>
              <a href="thread.html#669">[ thread ]</a>
              <a href="subject.html#669">[ subject ]</a>
              <a href="author.html#669">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
