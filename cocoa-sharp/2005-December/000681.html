<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Cocoa-sharp] doc generation, action property and stack traces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20doc%20generation%2C%20action%20property%20and%20stack%20traces&In-Reply-To=D2929BCA-5A1D-4103-BED9-A0DD10185F35%40sublimeintervention.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000680.html">
   <LINK REL="Next"  HREF="000684.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cocoa-sharp] doc generation, action property and stack traces</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:cocoa-sharp%40lists.ximian.com?Subject=%5BCocoa-sharp%5D%20doc%20generation%2C%20action%20property%20and%20stack%20traces&In-Reply-To=D2929BCA-5A1D-4103-BED9-A0DD10185F35%40sublimeintervention.com"
       TITLE="[Cocoa-sharp] doc generation, action property and stack traces">andreas.faerber at web.de
       </A><BR>
    <I>Tue Dec 13 04:57:24 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000680.html">[Cocoa-sharp] [PATCH] autogen.sh autoconf workaround
</A></li>
        <LI>Next message: <A HREF="000684.html">[Cocoa-sharp] doc generation, action property and stack traces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#681">[ date ]</a>
              <a href="thread.html#681">[ thread ]</a>
              <a href="subject.html#681">[ subject ]</a>
              <a href="author.html#681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi kangaroo,

&gt;&gt;&gt;<i>     2.5. (Not applicable in this case) Dont forget documentation!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Do I have to write those XML files by hand? Or are they generated  
</I>&gt;&gt;<i> somehow?
</I>&gt;<i>
</I>&gt;<i> No take a look at the Makefile target in docs; there is a target  
</I>&gt;<i> (update I think) that will generate stubs for you to edit.
</I>
I've looked and did find a target update.
Unfortunately it fails: It creates a subdirectory lib within doc and 
tries to cp ../*/*.dll to lib, which does not work because 
cocoa-sharp.dll is in src/Cocoa/ and not just src/? Shall I patch this 
to cp ../*/*/*.dll or am I doing something wrong?

Next question: How do I actually view these XML files I am supposed to 
edit? Do I have to checkout the Cocoa# monodoc viewer from another 
branch or directory?

Another question: When I add files to Makefile.am do I have to re-run 
autogen.sh or is it safe to just run automake --add-missing in 
src/Cocoa/? autogen.sh takes a relatively long time on my G3 300MHz!

&gt;<i> Everything will be events;
</I>
That is good news, I really welcome that and will support that to my 
abilities.

&gt;<i> any patch with .Action will not be  accepted.
</I>
I strongly propose to make it available nontheless as either private or 
protected (or protected internal) to facilitate creating exactly this 
event handling which is still missing. Won't we have to set this 
property to a local method to receive the action event and dispatch it 
to the registered event handlers? Then we could use such a thing.
The double action stuff seems to do this a little different or doesn't 
it? I don't really understand how that code is supposed to be working, I 
can only guess it is. It talks about a TODO of removing registered 
handlers but I don't see handlers being registered in the add at all, 
and all that's being done is clearing the double action in the remove! 
That's not how .NET events usually work, that's more J2ME-style with one 
exclusive listener. And why are you using ActionHandler instead of 
EventHandler with EventArgs.Empty which .NET libraries are supposed to 
use by convention?

If we used gmcs instead of mcs we might even be able to make the Action 
getter public (to allow reading of property for objects created outside 
Cocoa#) and the setter somehow inaccessible for the public?

&gt;<i> You'll have toe xamine the stack trace and figure out whats going  wrong.
</I>
I always have to! :-)
Of course I examined it - but apart from seeing my property and the 
method I called from there (objc_msgSend) it is not very meaningful to 
me and I don't know Objective C.
 From reading the code I thought that -(void)setDataSource:(id)anObject 
would map to ObjCMessaging.objc_sendMsg(NativeObject, &quot;setDataSource:&quot;, 
typeof(void), typeof(IntPtr), value.NativeObject); For most other code 
this appears to be the mapping. Except for one property 
(Window.Frame.set) which was documented at Apple as returning void but 
is used with a return type of IntPtr in Cocoa#. I desperately tried this 
too for setDataSource, but no change.

BTW the Cocoa# debug info looks a little garbled on my German machine: 
Yesterday the Mach exception handling thing reported an apparent &quot;date&quot; 
of 2005-52-12 and the time(?) was neither the runtime nor the local time 
nor UTC time.

Regards,

Andreas
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000680.html">[Cocoa-sharp] [PATCH] autogen.sh autoconf workaround
</A></li>
	<LI>Next message: <A HREF="000684.html">[Cocoa-sharp] doc generation, action property and stack traces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#681">[ date ]</a>
              <a href="thread.html#681">[ thread ]</a>
              <a href="subject.html#681">[ subject ]</a>
              <a href="author.html#681">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/cocoa-sharp">More information about the Cocoa-sharp
mailing list</a><br>
</body></html>
