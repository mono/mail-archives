<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 484235] New: uninstallMono.sh removes all Mono	versions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20484235%5D%20New%3A%20uninstallMono.sh%20removes%20all%20Mono%0A%09versions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="086885.html">
   <LINK REL="Next"  HREF="086888.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 484235] New: uninstallMono.sh removes all Mono	versions</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20484235%5D%20New%3A%20uninstallMono.sh%20removes%20all%20Mono%0A%09versions&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 484235] New: uninstallMono.sh removes all Mono	versions">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Mar 11 06:43:50 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="086885.html">[Mono-bugs] [Bug 484174] New: gmcs does not check missing IEnumerable.GetEnumerator() for IList&lt;T&gt; implementation
</A></li>
        <LI>Next message: <A HREF="086888.html">[Mono-bugs] [Bug 484244] New: [Regression] nunit-console.exe	requires /noshadow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86887">[ date ]</a>
              <a href="thread.html#86887">[ thread ]</a>
              <a href="subject.html#86887">[ subject ]</a>
              <a href="author.html#86887">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=484235">https://bugzilla.novell.com/show_bug.cgi?id=484235</A>


           Summary: uninstallMono.sh removes all Mono versions
    Classification: Mono
           Product: Mono: Tools
           Version: 2.2.x
          Platform: All
        OS/Version: Mac OS X 10.4
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: tools
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Chuck.Esterbrook at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.4; en-US;
rv:1.9.0.7) Gecko/2009021906 Firefox/3.0.7

I decided to drop down from Mono 2.2 to my old Mono 2.0 installation.
&gt;<i>From a shell:
</I>
509
/Library/Receipts/MonoFramework-2.2_5.macos10.novell.universal.pkg/Contents/Resources
$  sudo ./uninstallMono.sh

The uninstaller for 2.2 proceeded to take out every Mono installation
I had including any packages I had installed for them!

Platform: Mac OS X 10.4.11, formerly 4 versions of Mono

:<i>-(
</I>
This makes it harder to test products against multiple versions of Mono.

In addition to not rm'ing all versions, the uninstaller would ideally
restore whatever system files (/usr/bin/gmcs, etc.) were overwritten,
presumably because the installer saves them.

Miguel De Icaza's response via email:

Oh wow.   This is an unmitigated disaster!   I had no idea that script was so
terribly broken.

Yes, we must fix this properly.   Would you mind posting a bug report?

Question: which other packages did you install on top of MOno that the scritp
removed? I am curious about that scenario.

My answer: MySQL package and one other I forget.

Here is a paste of the output of the command. As you can see it deletes not
only the relevant Mono install, but all of them:

509
/Library/Receipts/MonoFramework-2.2_5.macos10.novell.universal.pkg/Contents/Resources
$  sudo ./uninstallMono.sh 
Password:
+ rm -r /Library/Frameworks/Mono.framework
+ rm -r /Library/Receipts/MonoFramework-2.2_5.macos10.novell.universal.pkg
rm: fts_read: No such file or directory
+ cd /usr/bin
++ grep /Library/Frameworks/Mono.framework/
++ ls -al
++ awk '{print $9}'
+ rm MoMA
+ rm al
+ rm al1
+ rm al2
+ rm asp-state
+ rm asp-state1
+ rm asp-state2
+ rm booc
+ rm booi
+ rm booish
+ rm caspol
+ rm cert2spc
+ rm certmgr
+ rm chktrust
+ rm cilc
+ rm csharp
+ rm dbsessmgr
+ rm dbsessmgr1
+ rm dbsessmgr2
+ rm disco
+ rm dtd2rng
+ rm dtd2xsd
+ rm fastcgi-mono-server
+ rm fastcgi-mono-server1
+ rm fastcgi-mono-server2
+ rm gacutil
+ rm gacutil1
+ rm gacutil2
+ rm gapi2-codegen
+ rm gapi2-fixup
+ rm gapi2-parser
+ rm gdk-pixbuf-csource
+ rm gdk-pixbuf-query-loaders
+ rm genxs
+ rm genxs1
+ rm genxs2
+ rm glib-genmarshal
+ rm glib-gettextize
+ rm glib-mkenums
+ rm gmcs
+ rm gobject-query
+ rm gtester
+ rm gtester-report
+ rm gtk-builder-convert
+ rm gtk-demo
+ rm gtk-query-immodules-2.0
+ rm gtk-update-icon-cache
+ rm httpcfg
+ rm ikvm
+ rm ikvmc
+ rm ikvmstub
+ rm ilasm
+ rm ilasm1
+ rm ilasm2
+ rm installvst
+ rm ipy
+ rm ipy2
+ rm ipyw
+ rm ipyw2
+ rm jay
+ rm libglade-convert
+ rm macpack
+ rm makecert
+ rm mautil
+ rm mbas
+ rm mconfig
+ rm mcs
+ rm mcs1
+ rm mdassembler
+ rm mdcs2ecma
+ rm mdnormalizer
+ rm mdoc
+ rm mdoc-assemble
+ rm mdoc-export-html
+ rm mdoc-export-msxdoc
+ rm mdoc-update
+ rm mdoc-validate
+ rm mdtool
+ rm mdvalidater
+ rm mjs
+ rm mkbundle
+ rm mkbundle1
+ rm mkbundle2
+ rm mod
+ rm mod-mono-server
+ rm mod-mono-server1
+ rm mod-mono-server2
+ rm mono
+ rm mono-api-diff
+ rm mono-api-info
+ rm mono-api-info1
+ rm mono-api-info2
+ rm mono-cil-strip
+ rm mono-find-provides
+ rm mono-find-requires
+ rm mono-service
+ rm mono-service2
+ rm mono-shlib-cop
+ rm mono-test-install
+ rm mono-xmltool
+ rm monodevelop
+ rm monodiet
+ rm monodis
+ rm monodocer
+ rm monodocs2html
+ rm monodocs2slashdoc
+ rm monograph
+ rm monolinker
+ rm monop
+ rm monop1
+ rm monop2
+ rm mozroots
+ rm msgfmt
+ rm msgmerge
+ rm nant
+ rm nunit-console
+ rm nunit-console2
+ rm pango-querymodules
+ rm pedump
+ rm permview
+ rm pkg-config
+ rm pkg-config.bin
+ rm prj2make
+ rm resgen
+ rm resgen1
+ rm resgen2
+ rm secutil
+ rm setreg
+ rm sgen
+ rm signcode
+ rm smcs
+ rm sn
+ rm soapsuds
+ rm sqlite3
+ rm sqlsharp
+ rm vbnc
+ rm wsdl
+ rm wsdl1
+ rm wsdl2
+ rm xbuild
+ rm xsd
+ rm xsd2
+ rm xsp
+ rm xsp1
+ rm xsp2
+ cd /usr/share/man/man1
++ ls -al
++ grep /Library/Frameworks/Mono.framework/
++ awk '{print $9}'
+ rm al.1
+ rm asp-state.1.gz
+ rm autopoint.1
+ rm cert2spc.1
+ rm certmgr.1
+ rm chktrust.1
+ rm cilc.1
+ rm csharp.1
+ rm dbsessmgr.1.gz
+ rm disco.1
+ rm dtd2xsd.1
+ rm envsubst.1
+ rm fastcgi-mono-server.1.gz
+ rm gacutil.1
+ rm gdk-pixbuf-csource.1
+ rm gdk-pixbuf-query-loaders.1
+ rm genxs.1
+ rm gettext.1
+ rm gettextize.1
+ rm glib-genmarshal.1
+ rm glib-gettextize.1
+ rm glib-mkenums.1
+ rm gobject-query.1
+ rm gtester-report.1
+ rm gtester.1
+ rm gtk-builder-convert.1
+ rm gtk-query-immodules-2.0.1
+ rm gtk-update-icon-cache.1
+ rm httpcfg.1
+ rm ilasm.1
+ rm jay.1
+ rm macpack.1
+ rm makecert.1
+ rm mautil.1.gz
+ rm mconfig.1
+ rm mcs.1
+ rm mdassembler.1
+ rm mdassembler.1.gz
+ rm mdcs2ecma.1.gz
+ rm mdnormalizer.1.gz
+ rm mdoc-assemble.1
+ rm mdoc-assemble.1.gz
+ rm mdoc-export-html.1
+ rm mdoc-export-html.1.gz
+ rm mdoc-export-msxdoc.1
+ rm mdoc-export-msxdoc.1.gz
+ rm mdoc-update.1
+ rm mdoc-update.1.gz
+ rm mdoc-validate.1
+ rm mdoc-validate.1.gz
+ rm mdoc.1
+ rm mdoc.1.gz
+ rm mdtool.1
+ rm mdvalidater.1
+ rm mdvalidator.1.gz
+ rm mint.1
+ rm mkbundle.1
+ rm mod-mono-server.1.gz
+ rm mono-cil-strip.1
+ rm mono-service.1
+ rm mono-shlib-cop.1
+ rm mono-xmltool.1
+ rm mono.1
+ rm monoburg.1
+ rm monodevelop.1
+ rm monodis.1
+ rm monodocer.1
+ rm monodocer.1.gz
+ rm monodocs2html.1
+ rm monodocs2html.1.gz
+ rm monolinker.1
+ rm monop.1
+ rm monostyle.1
+ rm mozroots.1
+ rm msgattrib.1
+ rm msgcat.1
+ rm msgcmp.1
+ rm msgcomm.1
+ rm msgconv.1
+ rm msgen.1
+ rm msgexec.1
+ rm msgfilter.1
+ rm msgfmt.1
+ rm msggrep.1
+ rm msginit.1
+ rm msgmerge.1
+ rm msgunfmt.1
+ rm msguniq.1
+ rm ngettext.1
+ rm oldmono.1
+ rm pango-querymodules.1
+ rm permview.1
+ rm pkg-config.1
+ rm prj2make.1
+ rm recode-sr-latin.1
+ rm resgen.1
+ rm secutil.1
+ rm setreg.1
+ rm sgen.1
+ rm signcode.1
+ rm sn.1
+ rm soapsuds.1
+ rm sqlsharp.1
+ rm vbnc.1
+ rm vbnc.1.gz
+ rm wsdl.1
+ rm xgettext.1
+ rm xsd.1
+ rm xsp.1.gz
+ cd /usr/share/man/man3
++ grep /Library/Frameworks/Mono.framework/
++ ls -al
++ awk '{print $9}'
+ rm bind_textdomain_codeset.3
+ rm bindtextdomain.3
+ rm dcgettext.3
+ rm dcngettext.3
+ rm dgettext.3
+ rm dngettext.3
+ rm gettext.3
+ rm libpng.3
+ rm libpngpf.3
+ rm ngettext.3
+ rm textdomain.3
+ cd /usr/share/man/man5
++ grep /Library/Frameworks/Mono.framework/
++ ls -al
++ awk '{print $9}'
+ rm mdoc.5
+ rm mdoc.5.gz
+ rm mono-config.5
+ rm png.5


Reproducible: Always

Steps to Reproduce:
1. Install an older Mono
2. Install a newer Mono
3. cd to receipts directory of newer Mono (cd /Library/Receipts/MonoFrame...)
4. Run sudo ./uninstallMono.sh
Actual Results:  
All Mono versions removed.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>














































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="086885.html">[Mono-bugs] [Bug 484174] New: gmcs does not check missing IEnumerable.GetEnumerator() for IList&lt;T&gt; implementation
</A></li>
	<LI>Next message: <A HREF="086888.html">[Mono-bugs] [Bug 484244] New: [Regression] nunit-console.exe	requires /noshadow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86887">[ date ]</a>
              <a href="thread.html#86887">[ thread ]</a>
              <a href="subject.html#86887">[ subject ]</a>
              <a href="author.html#86887">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
