<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 489687] Code render tag not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20489687%5D%20Code%20render%20tag%20not%20working&In-Reply-To=bug-489687-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="087364.html">
   <LINK REL="Next"  HREF="087365.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 489687] Code render tag not working</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20489687%5D%20Code%20render%20tag%20not%20working&In-Reply-To=bug-489687-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 489687] Code render tag not working">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Mar 31 11:12:58 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="087364.html">[Mono-bugs] [Bug 489687] Code render tag not working
</A></li>
        <LI>Next message: <A HREF="087365.html">[Mono-bugs] [Bug 342073] WebServices default WebForm does not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87477">[ date ]</a>
              <a href="thread.html#87477">[ thread ]</a>
              <a href="subject.html#87477">[ subject ]</a>
              <a href="author.html#87477">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=489687">https://bugzilla.novell.com/show_bug.cgi?id=489687</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=489687#c2">https://bugzilla.novell.com/show_bug.cgi?id=489687#c2</A>


Marek Habersack &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |FIXED




--- Comment #2 from Marek Habersack &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>&gt;  2009-03-31 09:12:57 MDT ---
This bug is fixed in svn commits 130665 and 130667, both trunk.

Commit 130667 requires some explanation. Comment #1 above was a genuine bug in
Mono, dealt with in commit 130665, but comment #2 is also behavior exhibited by
NET. The reason for this is that .NET doesn't use a dedicated HTML/ASP parser
for .as?x files but instead it uses a series of regular expressions. The
expressions are anchored on &lt; character and match tags, expressions etc
(<A HREF="http://msdn.microsoft.com/en-us/library/system.web.regularexpressions.aspx">http://msdn.microsoft.com/en-us/library/system.web.regularexpressions.aspx</A>).
So, in the case of code from DefaultWsdlHelpGenerator.aspx:

&lt;link rel=&quot;alternate&quot; type=&quot;text/xml&quot; href=&quot;&lt;%=Request.FilePath%&gt;?disco&quot;/&gt;

the tag regexp anchored on the first &lt; will match a syntactically correct, and
the contents of the href attribute will not be processed, only output verbatim
to the generated source file (and then html-encoded on output to the client
browser). The result will be the same as in comment #2. The way to make it work
on .NET would be to use tag which is NOT syntactically correct:

&lt;link rel=&quot;alternate&quot; type=&quot;text/xml&quot; href=&quot;&lt;%=Request.FilePath + &quot;?disco&quot;%&gt;&quot;/&gt;

In this instance, the .NET parsing engine will anchor on the first &lt;, attempt
to match the tag regexp which will fail. So it will attempt to match other
regexps, which will fail as well. After that the engine will use another regexp
to find the 2nd &lt; above, which marks the start of expression. Tag regexp will
fail as well, but expression regexp will match. At this point, .NET will decide
that text between the first &lt; (included) and the 2nd &lt; (excluded) constitutes
verbatim text and will be output to the source as such. The expression inside
the href attribute will be processed and its value output to the client browser
as well, followed by verbatim '&quot;/&gt;'.
Mono's ASP.NET parser is a validating one and will fail to parse the
syntactically incorrect tag, that's why the workaround in commit 130667 is
necessary.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="087364.html">[Mono-bugs] [Bug 489687] Code render tag not working
</A></li>
	<LI>Next message: <A HREF="087365.html">[Mono-bugs] [Bug 342073] WebServices default WebForm does not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87477">[ date ]</a>
              <a href="thread.html#87477">[ thread ]</a>
              <a href="subject.html#87477">[ subject ]</a>
              <a href="author.html#87477">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
