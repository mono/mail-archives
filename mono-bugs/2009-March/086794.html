<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 483010] New: Unable to debug source code via &quot;ilasm /debug=impl&quot; and &quot;.line&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20483010%5D%20New%3A%20Unable%20to%20debug%20source%20code%20via%0A%20%22ilasm%20/debug%3Dimpl%22%20and%20%22.line%22&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="086927.html">
   <LINK REL="Next"  HREF="086795.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 483010] New: Unable to debug source code via &quot;ilasm /debug=impl&quot; and &quot;.line&quot;</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20483010%5D%20New%3A%20Unable%20to%20debug%20source%20code%20via%0A%20%22ilasm%20/debug%3Dimpl%22%20and%20%22.line%22&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 483010] New: Unable to debug source code via &quot;ilasm /debug=impl&quot; and &quot;.line&quot;">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Mar  6 15:37:35 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="086927.html">[Mono-bugs] [Bug 482996] Bad type inferencing in LINQ expression
</A></li>
        <LI>Next message: <A HREF="086795.html">[Mono-bugs] [Bug 483010] Unable to debug source code via &quot;ilasm /debug=impl&quot; and &quot;.line&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86794">[ date ]</a>
              <a href="thread.html#86794">[ thread ]</a>
              <a href="subject.html#86794">[ subject ]</a>
              <a href="author.html#86794">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=483010">https://bugzilla.novell.com/show_bug.cgi?id=483010</A>


           Summary: Unable to debug source code via &quot;ilasm /debug=impl&quot;
                    and &quot;.line&quot;
    Classification: Mono
           Product: Mono: Debugger
           Version: 2.4.x
          Platform: i686
        OS/Version: openSUSE 11.1
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: backend
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">martin at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">stephen at gennard.net</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=277781)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=277781">https://bugzilla.novell.com/attachment.cgi?id=277781</A>)
An example of using &quot;ilasm /debug=imp&quot; and screen shots of working on another
environment..

User-Agent:       Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; WOW64;
SLCC1; .NET CLR 2.0.50727; .NET CLR 3.5.21022; InfoPath.2; .NET CLR 3.5.30729;
NET CLR 3.0.30618; MS-RTC LM 8)

Background:

Our language generates ilasm source code and uses ilasm to create assemblies.

To enable debugging we use &quot;ilasm /debug=impl&quot; ie: it uses implicit sequence
points embedded in the .il.  This combined with use of the
DebuggerHiddenAttribute and &quot;.line 0xfeefee&quot; we are able to hide our background
runtime code.   This enables us to basic line + break-point debugging.

For a much richer debugging experience we have extended Microsoft Visual
Stdio environment with out debugger expression evalulator that understand
our language.   For purpose of this bug report we are only interested in
basic line + break-point style debugging.

I have put together a canned example that demonstrate how we use this.  It
contained in hello.il (with the target source code being hello.cbl).

Reproducible: Always

Steps to Reproduce:
1. ilasm /debug=impl hello.il
2. mdb hello.exe
3. run

Starting program: hello.exe
Thread @1 stopped at #0: 0xb787042e in hello.Main()+0x6 at
/home/spg/src/debugger/hello.il:50.
  50      call       void [mscorlib]System.Console::WriteLine(string)

Actual Results:  
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">spg at linux-ga3j</A>:~/src/debugger&gt; ilasm /debug=impl hello.il
Assembling 'hello.il' , no listing file, to exe --&gt; 'hello.exe'

Operation completed successfully
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">spg at linux-ga3j</A>:~/src/debugger&gt; mdb hello.exe
Mono Debugger
(mdb) run
Starting program: hello.exe
Thread @1 stopped at #0: 0xb787042e in hello.Main()+0x6 at
/home/spg/src/debugger/hello.il:50.
  50      call       void [mscorlib]System.Console::WriteLine(string)
(mdb) break 1
ERROR: Cannot find method corresponding to line 1 in `hello.il'.
(mdb)
(mdb) quit
The program is running.  Exit anyway? (y or n) y

Expected Results:  

<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">spg at linux-ga3j</A>:~/src/debugger&gt; mdb hello.exe
Mono Debugger
(mdb) run
Starting program: hello.exe
Thread @1 stopped at #0: 0xb787042e in hello.Main()+0x6 at
/home/spg/src/debugger/hello.cbl:1.
  1    display &quot;Hello world - line 1&quot;      
(mdb) quit


If you require any further information, my work email is
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">stephen.gennard at microfocus.com</A> too.

Note: our intent is to add a new language to mono's growing list of languages
 and thus debugging support for us is important.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="086927.html">[Mono-bugs] [Bug 482996] Bad type inferencing in LINQ expression
</A></li>
	<LI>Next message: <A HREF="086795.html">[Mono-bugs] [Bug 483010] Unable to debug source code via &quot;ilasm /debug=impl&quot; and &quot;.line&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86794">[ date ]</a>
              <a href="thread.html#86794">[ thread ]</a>
              <a href="subject.html#86794">[ subject ]</a>
              <a href="author.html#86794">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
