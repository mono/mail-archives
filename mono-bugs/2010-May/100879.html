<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 609097] New: InternalsVisibleTo() assemblyinfo reference not used corectly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20609097%5D%20New%3A%20InternalsVisibleTo%28%29%20assemblyinfo%0A%20reference%20not%20used%20corectly&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="100877.html">
   <LINK REL="Next"  HREF="100882.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 609097] New: InternalsVisibleTo() assemblyinfo reference not used corectly</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20609097%5D%20New%3A%20InternalsVisibleTo%28%29%20assemblyinfo%0A%20reference%20not%20used%20corectly&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 609097] New: InternalsVisibleTo() assemblyinfo reference not used corectly">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed May 26 11:57:09 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="100877.html">[Mono-bugs] [Bug 590967] application freeze during AppDomain.Unload
</A></li>
        <LI>Next message: <A HREF="100882.html">[Mono-bugs] [Bug 609097] InternalsVisibleTo() assemblyinfo reference not used corectly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#100879">[ date ]</a>
              <a href="thread.html#100879">[ thread ]</a>
              <a href="subject.html#100879">[ subject ]</a>
              <a href="author.html#100879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=609097">http://bugzilla.novell.com/show_bug.cgi?id=609097</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=609097#c0">http://bugzilla.novell.com/show_bug.cgi?id=609097#c0</A>


           Summary: InternalsVisibleTo() assemblyinfo reference not used
                    corectly
    Classification: Mono
           Product: Mono: Runtime
           Version: SVN
          Platform: 64bit
        OS/Version: RHEL 5
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: misc
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">srfcanada at hotmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.2; WOW64;
Trident/4.0)

The following compiler error gets generated trying to compile a test project
that references internal structs in another project where the other project has
the following definition in its AssembyInfo.cs:
  [assembly: InternalsVisibleTo(&quot;Drms.Server.Shared.Tests&quot;)]
If I change the struct from internal to public then the error goes away so it
seems like its not applying the InternalsVisibleTo attribute in the
assemblyInfo.cs.  
This is the error generated if PostProcessingStruct is defined as internal. If
its defined as public then the error goes away. Under windows, everything works
fine and in mono2.4 everything works fine so it looks like as of 2.6 it stoped
working with the InternalsVisibleTo attribute property:

Server/Shared/Shared.Tests/CloneContextTest.cs(87,89): error CS0584: Internal
compiler error: Object reference not set to an instance of an object
Server/Shared/Shared.Tests/CloneContextTest.cs(87,37): error CS1502: The best
overloaded method match for
`System.Collections.Generic.List&lt;Drms.Server.Shared.Domain.PostProcessingStruct&gt;.Add(Drms.Server.Shared.Domain.PostProcessingStruct)'
has some invalid arguments
/usr/local/lib/mono/2.0/mscorlib.dll (Location of the symbol related to
previous error)
Server/Shared/Shared.Tests/CloneContextTest.cs(87,37): error CS1503: Argument
`#1' cannot convert `object' expression to type
`Drms.Server.Shared.Domain.PostProcessingStruct'


Reproducible: Always

Steps to Reproduce:
1.
2.
3.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>













































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="100877.html">[Mono-bugs] [Bug 590967] application freeze during AppDomain.Unload
</A></li>
	<LI>Next message: <A HREF="100882.html">[Mono-bugs] [Bug 609097] InternalsVisibleTo() assemblyinfo reference not used corectly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#100879">[ date ]</a>
              <a href="thread.html#100879">[ thread ]</a>
              <a href="subject.html#100879">[ subject ]</a>
              <a href="author.html#100879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
