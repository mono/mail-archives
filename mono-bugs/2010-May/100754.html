<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 607702] New: Select&lt;&gt; requires explicit type arguments by MCS - CSC does not.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20607702%5D%20New%3A%20Select%3C%3E%20requires%20explicit%20type%0A%20arguments%20by%20MCS%20-%20CSC%20does%20not.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="100753.html">
   <LINK REL="Next"  HREF="100760.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 607702] New: Select&lt;&gt; requires explicit type arguments by MCS - CSC does not.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20607702%5D%20New%3A%20Select%3C%3E%20requires%20explicit%20type%0A%20arguments%20by%20MCS%20-%20CSC%20does%20not.&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 607702] New: Select&lt;&gt; requires explicit type arguments by MCS - CSC does not.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu May 20 17:26:15 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="100753.html">[Mono-bugs] [Bug 596230] Variables are not shown in locals pad when debugging remotely
</A></li>
        <LI>Next message: <A HREF="100760.html">[Mono-bugs] [Bug 607702] Select&lt;&gt; requires explicit type arguments by MCS - CSC does not.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#100754">[ date ]</a>
              <a href="thread.html#100754">[ thread ]</a>
              <a href="subject.html#100754">[ subject ]</a>
              <a href="author.html#100754">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=607702">http://bugzilla.novell.com/show_bug.cgi?id=607702</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=607702#c0">http://bugzilla.novell.com/show_bug.cgi?id=607702#c0</A>


           Summary: Select&lt;&gt; requires explicit type arguments by MCS - CSC
                    does not.
    Classification: Mono
           Product: Mono: Compilers
           Version: 2.6.x
          Platform: x86
        OS/Version: Linux
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">ohh at scisoft.dk</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.0; da; rv:1.9.2.3)
Gecko/20100401 Firefox/3.6.3 ( .NET CLR 3.5.30729; .NET4.0E)

When doing a Link.Select&lt;&gt; over a type that inherits from from IEnumerable&lt;T&gt;,
MCS fails with an error telling me to give explicit type parameters to Select.
CSC does not require the explicit type parameters but can infer them.

Try to compile the example as described below. It works without change on CSC
(only tested with VS.NET 2010). It can be made to work by either chainging the
type constraint or giving explicit type parameters, as described in the example
below.

Reproducible: Always

Steps to Reproduce:
-bash-4.0$ cat test.cs
using System.Collections.Generic;
using System.Linq;

namespace Test
{
    public interface IMyEnum&lt;T&gt; : IEnumerable&lt;T&gt;
    {
    }

        public class MainClass {
                public static void Main ()
                {
                }
        }

    public class Generic&lt;LT, CT&gt;
        where CT: IMyEnum&lt;LT&gt;

        // It works if this constraint is used instead.
        //where CT: IEnumerable&lt;LT&gt;
    {
            public static void DoTest(CT testEnum)
            {
                var selected = testEnum.Select(C =&gt; false);

                // It also works if the type parameters are explicit:
                // var selected = testEnum.Select&lt;LT, bool&gt; (C =&gt; false);
            }
    }
}

-bash-4.0$ mcs test.cs

Actual Results:  
test.cs(24,41): error CS0411: The type arguments for method
`System.Linq.Enumerable.Select&lt;TSource,TResult&gt;(this
System.Collections.Generic.IEnumerable&lt;TSource&gt;,
System.Func&lt;TSource,int,TResult&gt;)' cannot be inferred from the usage. Try
specifying the type arguments explicitly
Compilation failed: 1 error(s), 0 warnings


Expected Results:  
I expected the problem to compile (perhaps with a warning saying that
&quot;selected&quot; is unused).

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>






























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="100753.html">[Mono-bugs] [Bug 596230] Variables are not shown in locals pad when debugging remotely
</A></li>
	<LI>Next message: <A HREF="100760.html">[Mono-bugs] [Bug 607702] Select&lt;&gt; requires explicit type arguments by MCS - CSC does not.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#100754">[ date ]</a>
              <a href="thread.html#100754">[ thread ]</a>
              <a href="subject.html#100754">[ subject ]</a>
              <a href="author.html#100754">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
