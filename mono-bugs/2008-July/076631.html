<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 383357] Novell c# LDAP api, LdapConnection. Disconnect does not clear the socket connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20383357%5D%20Novell%20c%23%20LDAP%20api%2C%0A%20LdapConnection.%20Disconnect%20does%20not%20clear%20the%20socket%20connections&In-Reply-To=bug-383357-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076630.html">
   <LINK REL="Next"  HREF="076632.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 383357] Novell c# LDAP api, LdapConnection. Disconnect does not clear the socket connections</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20383357%5D%20Novell%20c%23%20LDAP%20api%2C%0A%20LdapConnection.%20Disconnect%20does%20not%20clear%20the%20socket%20connections&In-Reply-To=bug-383357-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 383357] Novell c# LDAP api, LdapConnection. Disconnect does not clear the socket connections">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Jul 10 09:39:09 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="076630.html">[Mono-bugs] [Bug 314903] [PARSER]: grammar problem with &lt;, &gt;
</A></li>
        <LI>Next message: <A HREF="076632.html">[Mono-bugs] [Bug 369670] [LINQ] Range varibles use parent scope
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76631">[ date ]</a>
              <a href="thread.html#76631">[ thread ]</a>
              <a href="subject.html#76631">[ subject ]</a>
              <a href="author.html#76631">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=383357">https://bugzilla.novell.com/show_bug.cgi?id=383357</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">spouliot at novell.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=383357#c21">https://bugzilla.novell.com/show_bug.cgi?id=383357#c21</A>





--- Comment #21 from Sebastien Pouliot &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">spouliot at novell.com</A>&gt;  2008-07-10 07:39:08 MDT ---
Meanwhile I'm not 100% convinced the problem resides in the SSL code. Design
wise Mono SSL implementation works on streams, not sockets (it never sees, nor
touch, them).

Since it is not socket-aware it could a problem on the caller (which is the one
who must provide the stream, generally a NetworkStream, with the initialized
socket). However when using the SSL code some exception will be different. This
can lead the caller's into different code path, exposing bugs.

The version of Novell.Directory.Ldap (shipped with Mono 1.2.2) should be 2.1.4
(as far I see it using SVN). About 6 month later this code was updated to
version 2.1.8 (which is what Mono 1.9 ships).

This link shows a fix for a problem similar to the one I just described
<A HREF="http://anonsvn.mono-project.com/viewcvs/trunk/mcs/class/Novell.Directory.Ldap/Novell.Directory.Ldap/Connection.cs?rev=85999&amp;r1=70177&amp;r2=85999">http://anonsvn.mono-project.com/viewcvs/trunk/mcs/class/Novell.Directory.Ldap/Novell.Directory.Ldap/Connection.cs?rev=85999&amp;r1=70177&amp;r2=85999</A>

The socket is nullified when an IOException occurs (which is the exception you
would likely get from the SSL code).

Which version of Novell.Directory.Ldap gets used (or was tested) ? 
the one shipped with the specific versions of Mono ?


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076630.html">[Mono-bugs] [Bug 314903] [PARSER]: grammar problem with &lt;, &gt;
</A></li>
	<LI>Next message: <A HREF="076632.html">[Mono-bugs] [Bug 369670] [LINQ] Range varibles use parent scope
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76631">[ date ]</a>
              <a href="thread.html#76631">[ thread ]</a>
              <a href="subject.html#76631">[ subject ]</a>
              <a href="author.html#76631">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
