<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 410743] New: wapi leak in System.Diagnostic.Process
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20410743%5D%20New%3A%20wapi%20leak%20in%20System.Diagnostic.Process&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="076872.html">
   <LINK REL="Next"  HREF="076889.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 410743] New: wapi leak in System.Diagnostic.Process</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20410743%5D%20New%3A%20wapi%20leak%20in%20System.Diagnostic.Process&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 410743] New: wapi leak in System.Diagnostic.Process">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Jul 21 00:10:37 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="076872.html">[Mono-bugs] [Bug 357022] Icon in tray (NotifyIcon) become black after full screen of video programs
</A></li>
        <LI>Next message: <A HREF="076889.html">[Mono-bugs] [Bug 410743] wapi leak in System.Diagnostic.Process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76879">[ date ]</a>
              <a href="thread.html#76879">[ thread ]</a>
              <a href="subject.html#76879">[ subject ]</a>
              <a href="author.html#76879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=410743">https://bugzilla.novell.com/show_bug.cgi?id=410743</A>


           Summary: wapi leak in System.Diagnostic.Process
           Product: Mono: Class Libraries
           Version: SVN
          Platform: All
        OS/Version: Linux
            Status: NEW
          Keywords: Code
          Severity: Major
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mitchell.wheeler at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=228960)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=228960">https://bugzilla.novell.com/attachment.cgi?id=228960</A>)
Test case

Processes with Exited event callbacks, don't tend to free all related wapi
handles when disposed...

See attached for test case... The test case will produce the output below, when
it has an Exited event, however will run indefinitely (without leaking wapi
handles) when there is no Exited event.

Test Case (eventual) Output:

**
(/volumes/sda1p4/.home/nasrudin/Download/LinuxDiskSpaceUsage/bin/Debug/LinuxFreeDiskSpace.exe:24940):
WARNING **: CreateProcess: error creating process handle
exited

Unhandled Exception: System.InvalidOperationException: Process has not been
started.
  at System.Diagnostics.Process.get_HasExited () [0x0003b] in
/&lt;snip&gt;/mcs/class/System/System.Diagnostics/Process.cs:205 
  at (wrapper remoting-invoke-with-check)
System.Diagnostics.Process:get_HasExited ()
  at BugReport.MainClass.Main (System.String[] args) [0x00064] in
/&lt;snip&gt;/Main.cs:19


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="076872.html">[Mono-bugs] [Bug 357022] Icon in tray (NotifyIcon) become black after full screen of video programs
</A></li>
	<LI>Next message: <A HREF="076889.html">[Mono-bugs] [Bug 410743] wapi leak in System.Diagnostic.Process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76879">[ date ]</a>
              <a href="thread.html#76879">[ thread ]</a>
              <a href="subject.html#76879">[ subject ]</a>
              <a href="author.html#76879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
