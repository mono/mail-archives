<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 329681] New: empty DropDownList after second	PostPack
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20329681%5D%20New%3A%20empty%20DropDownList%20after%20second%0A%09PostPack&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="062250.html">
   <LINK REL="Next"  HREF="062252.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 329681] New: empty DropDownList after second	PostPack</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20329681%5D%20New%3A%20empty%20DropDownList%20after%20second%0A%09PostPack&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 329681] New: empty DropDownList after second	PostPack">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Sep 30 12:51:42 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="062250.html">[Mono-bugs] [Bug 324940] ScrollBar problem in EVEMon
</A></li>
        <LI>Next message: <A HREF="062252.html">[Mono-bugs] [Bug 329681] empty DropDownList after second PostPack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62251">[ date ]</a>
              <a href="thread.html#62251">[ thread ]</a>
              <a href="subject.html#62251">[ subject ]</a>
              <a href="author.html#62251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=329681">https://bugzilla.novell.com/show_bug.cgi?id=329681</A>

           Summary: empty DropDownList after second PostPack
           Product: Mono: Class Libraries
           Version: 1.1
          Platform: i386
               URL: <A HREF="http://monobug.yot-project.net/WebForm1.aspx">http://monobug.yot-project.net/WebForm1.aspx</A>
        OS/Version: FreeBSD
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Sys.Web
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rene at woldtmann.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
          Found By: Customer


Description of Problem:
Bug in Mono1.2.5
There is a DropDownList in our WebUserControl. This DropDownList is not
repopulated from the ViewState after the 2nd PostBack. This problem does not
occur in ISS and Mono1.2.4. We encountered it after updating to Mono1.2.5

Steps to reproduce the problem:
1. Open website
2. Postback
3. Postback =&gt; Error 500

Actual Results:

System.ArgumentOutOfRangeException: Index is less than 0 or more than or equal
to the list count.
Parameter name: index 2
at System.Collections.ArrayList.get_Item (Int32 index) [0x00000]
at System.Web.UI.WebControls.ListItemCollection.get_Item (Int32 index)
[0x00000]
at System.Web.UI.WebControls.ListControl.LoadViewState (System.Object
savedState) [0x00000]
at System.Web.UI.Control.LoadViewStateRecursive (System.Object savedState)
[0x00000]
at System.Web.UI.Control.LoadViewStateRecursive (System.Object savedState)
[0x00000]
at System.Web.UI.Control.LoadViewStateRecursive (System.Object savedState)
[0x00000]
at System.Web.UI.Control.LoadViewStateRecursive (System.Object savedState)
[0x00000]
at System.Web.UI.Page.LoadPageViewState () [0x00000]
at System.Web.UI.Page.InternalProcessRequest () [0x00000]
at System.Web.UI.Page.ProcessRequest (System.Web.HttpContext context) [0x00000]


Expected Results:
Unchanged DropDownList content, similar to the content before the postback

How often does this happen?
Always


Additional Information:

I am attaching a small application.
This small application works on MS.Net and Mono 1.2.4_x
We have setup a server-application for this application at
<A HREF="http://monobug.yot-project.net/WebForm1.aspx.">http://monobug.yot-project.net/WebForm1.aspx.</A>

Installed Versions:
libgdiplus-1.2.5_1
mod_mono-1.2.5_1
mono-1.2.5_7
xsp-1.2.5_1


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="062250.html">[Mono-bugs] [Bug 324940] ScrollBar problem in EVEMon
</A></li>
	<LI>Next message: <A HREF="062252.html">[Mono-bugs] [Bug 329681] empty DropDownList after second PostPack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62251">[ date ]</a>
              <a href="thread.html#62251">[ thread ]</a>
              <a href="subject.html#62251">[ subject ]</a>
              <a href="author.html#62251">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
