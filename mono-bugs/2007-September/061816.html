<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 326789] New: Crash when unloading domain
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20326789%5D%20New%3A%20Crash%20when%20unloading%20domain&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061865.html">
   <LINK REL="Next"  HREF="061817.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 326789] New: Crash when unloading domain</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20326789%5D%20New%3A%20Crash%20when%20unloading%20domain&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 326789] New: Crash when unloading domain">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Sep 20 08:28:01 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="061865.html">[Mono-bugs] [Bug 326775] TraceSource switch XML configuration does not accept string literals for trace level
</A></li>
        <LI>Next message: <A HREF="061817.html">[Mono-bugs] [Bug 326789] Crash when unloading domain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61816">[ date ]</a>
              <a href="thread.html#61816">[ thread ]</a>
              <a href="subject.html#61816">[ subject ]</a>
              <a href="author.html#61816">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=326789">https://bugzilla.novell.com/show_bug.cgi?id=326789</A>

           Summary: Crash when unloading domain
           Product: Mono: Runtime
           Version: 1.2
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: GC
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">joe at unity3d.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
          Found By: ---


Crash when unloading domain. I am getting this crash when unloading domains. It
happens when a fairly large set of dll's is loaded and several methods were
called before the domain is unloaded. It doesn't happen if none of the dll's
were invoked prior to unloading.

I haven't been able to reproduce the crashbug outside of our application yet.



0   libSystem.B.dylib                   0x90037b57 mach_wait_until + 7
1   libmono.0.dylib                     0x0251881a
_wapi_handle_timedwait_signal_handle + 308
2   libmono.0.dylib                     0x0251887e
_wapi_handle_wait_signal_handle + 32
3   libmono.0.dylib                     0x02527415 WaitForSingleObjectEx + 555
4   libmono.0.dylib                     0x0247bd3e
ves_icall_System_AppDomain_InternalUnload + 536
5   &lt;&lt;00000000&gt;&gt;        0x1b2d4db7 0 + 455953847
6   &lt;&lt;00000000&gt;&gt;        0x1b2d4a80 0 + 455953024
7   &lt;&lt;00000000&gt;&gt;        0x1b2d4a1e 0 + 455952926
8   &lt;&lt;00000000&gt;&gt;        0x027a9d0e 0 + 41590030
9   com.unity3d.UnityEditor             0x000afeed DoUnloadDomain(MonoDomain*)
+ 275
10  com.unity3d.UnityEditor             0x000aff25
CreateDomainAndLoadAssemblies() + 29
11  com.unity3d.UnityEditor             0x000b59fd
MonoManager::ReloadAssembly(int, int&amp;) + 413
12  com.unity3d.UnityEditor             0x000b66bf
MonoManager::ReloadAssemblyBeforePlay() + 163

Thread 2 Crashed:
0   &lt;&lt;00000000&gt;&gt;        0x1de89d7b 0 + 501783931
1   &lt;&lt;00000000&gt;&gt;        0x1de89cb1 0 + 501783729
2   &lt;&lt;00000000&gt;&gt;        0x1b2e3ac4 0 + 456014532
3   libmono.0.dylib                     0x0249ac73 run_finalize + 356
4   libmono.0.dylib                     0x0249ae02 finalizer_thread + 391
5   libmono.0.dylib                     0x0250b448 start_wrapper + 265
6   libmono.0.dylib                     0x02526cc7 thread_start_routine + 422
7   libmono.0.dylib                     0x0253d298 GC_start_routine + 93
8   libSystem.B.dylib                   0x90024227 _pthread_body + 84

Thread 13:
0   libSystem.B.dylib                   0x90047dd7
semaphore_timedwait_signal_trap + 7
1   libmono.0.dylib                     0x025167de timedwait_signal_poll_cond +
141
2   libmono.0.dylib                     0x02518852
_wapi_handle_timedwait_signal_handle + 364
3   libmono.0.dylib                     0x0252742d WaitForSingleObjectEx + 579
4   libmono.0.dylib                     0x0249b046 mono_domain_finalize + 378
5   libmono.0.dylib                     0x0247afe9 unload_thread_main + 70
6   libmono.0.dylib                     0x02526cc7 thread_start_routine + 422
7   libmono.0.dylib                     0x0253d298 GC_start_routine + 93
8   libSystem.B.dylib                   0x90024227 _pthread_body + 84


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061865.html">[Mono-bugs] [Bug 326775] TraceSource switch XML configuration does not accept string literals for trace level
</A></li>
	<LI>Next message: <A HREF="061817.html">[Mono-bugs] [Bug 326789] Crash when unloading domain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61816">[ date ]</a>
              <a href="thread.html#61816">[ thread ]</a>
              <a href="subject.html#61816">[ subject ]</a>
              <a href="author.html#61816">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
