<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 328136] New: To strong optimization produces wrong code for some if clauses
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20328136%5D%20New%3A%20To%20strong%20optimization%20produces%20wrong%0A%20code%20for%20some%20if%20clauses&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061997.html">
   <LINK REL="Next"  HREF="062108.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 328136] New: To strong optimization produces wrong code for some if clauses</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20328136%5D%20New%3A%20To%20strong%20optimization%20produces%20wrong%0A%20code%20for%20some%20if%20clauses&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 328136] New: To strong optimization produces wrong code for some if clauses">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Sep 25 07:43:42 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="061997.html">[Mono-bugs] [Bug 328123] New: Incorrect code generated in	System.Data tests
</A></li>
        <LI>Next message: <A HREF="062108.html">[Mono-bugs] [Bug 328136] To strong optimization produces wrong code for some if clauses
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61999">[ date ]</a>
              <a href="thread.html#61999">[ thread ]</a>
              <a href="subject.html#61999">[ subject ]</a>
              <a href="author.html#61999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=328136">https://bugzilla.novell.com/show_bug.cgi?id=328136</A>

           Summary: To strong optimization produces wrong code for some if
                    clauses
           Product: Mono: Compilers
           Version: 1.2
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rharinath at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">slomo at circular-chaos.org</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
          Found By: ---


Hi,

Quoting <A HREF="https://bugs.launchpad.net/ubuntu/+source/mono/+bug/144734:">https://bugs.launchpad.net/ubuntu/+source/mono/+bug/144734:</A>

My collegue Martin Zaworski found a misbehaviour, we have then tracked it down
to following:
if (foo++ &amp;&amp; false) {
} else {
   //foo isn't incremented
}
So, in an conditional statement, with &amp;&amp;false, the left hand side doesn't
run(or gets compiled), no side effects are
executed. Also no function() can be called inside there).
Works also with assignments, optimisation switches don't matter.

Microsoft csc.exe is void of that problem

Package: mono-mcs 1.2.4-6ubuntu4
Also affected is the current svn version (21/9/2007).

We have here now untrusted compiled binaries, unless it's verificable, that
this kind of source coding isn't used,
they have to be recompiled with a fixed version of the compiler.




Test code:
<A HREF="http://launchpadlibrarian.net/9501307/tt.cs">http://launchpadlibrarian.net/9501307/tt.cs</A>


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061997.html">[Mono-bugs] [Bug 328123] New: Incorrect code generated in	System.Data tests
</A></li>
	<LI>Next message: <A HREF="062108.html">[Mono-bugs] [Bug 328136] To strong optimization produces wrong code for some if clauses
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61999">[ date ]</a>
              <a href="thread.html#61999">[ thread ]</a>
              <a href="subject.html#61999">[ subject ]</a>
              <a href="author.html#61999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
