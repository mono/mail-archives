<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 327053] New: System.IO.MemoryStream is too eager	in zeroing data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20327053%5D%20New%3A%20System.IO.MemoryStream%20is%20too%20eager%0A%09in%20zeroing%20data&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="061862.html">
   <LINK REL="Next"  HREF="061858.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 327053] New: System.IO.MemoryStream is too eager	in zeroing data</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20327053%5D%20New%3A%20System.IO.MemoryStream%20is%20too%20eager%0A%09in%20zeroing%20data&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 327053] New: System.IO.MemoryStream is too eager	in zeroing data">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Sep 21 05:20:20 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="061862.html">[Mono-bugs] [Bug 327052] long shutdown with thousands of assemblies	loaded
</A></li>
        <LI>Next message: <A HREF="061858.html">[Mono-bugs] [Bug 327053] System.IO.MemoryStream is too eager in	zeroing data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61857">[ date ]</a>
              <a href="thread.html#61857">[ thread ]</a>
              <a href="subject.html#61857">[ subject ]</a>
              <a href="author.html#61857">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=327053">https://bugzilla.novell.com/show_bug.cgi?id=327053</A>

           Summary: System.IO.MemoryStream is too eager in zeroing data
           Product: Mono: Class Libraries
           Version: 1.2
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: CORLIB
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">skolima at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
                CC: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">skolima at gmail.com</A>
          Found By: ---


When a MemoryStream that was created around an array is shrinked and the
expanded, it should no longer allow access to the elements that were present in
the array before the shrink. However, MS.Net MemoryStream does this by zeroing
the underlying array when the expansion is performed  - mono clears the array
on shrink. This is somewhat of a corner case, but the behaviour differes none
the less. Also, clearing on expansion improves performance a bit (well, at
least when the MemoryStream is only shrinked - it changes nothing when a
shrink/expand cycle is performed). A test case (passing on MS.Net) is attached.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="061862.html">[Mono-bugs] [Bug 327052] long shutdown with thousands of assemblies	loaded
</A></li>
	<LI>Next message: <A HREF="061858.html">[Mono-bugs] [Bug 327053] System.IO.MemoryStream is too eager in	zeroing data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61857">[ date ]</a>
              <a href="thread.html#61857">[ thread ]</a>
              <a href="subject.html#61857">[ subject ]</a>
              <a href="author.html#61857">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
