<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 638978] New: GLCube on Samsung Galaxy S, crash on second invocation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20638978%5D%20New%3A%20GLCube%20on%20Samsung%20Galaxy%20S%2C%0A%20crash%20on%20second%20invocation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="103872.html">
   <LINK REL="Next"  HREF="103739.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 638978] New: GLCube on Samsung Galaxy S, crash on second invocation</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20638978%5D%20New%3A%20GLCube%20on%20Samsung%20Galaxy%20S%2C%0A%20crash%20on%20second%20invocation&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 638978] New: GLCube on Samsung Galaxy S, crash on second invocation">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Sep 13 13:14:53 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="103872.html">[Mono-bugs] [Bug 638972] .mdb file from class library project is not copied to output directory
</A></li>
        <LI>Next message: <A HREF="103739.html">[Mono-bugs] [Bug 638978] GLCube on Samsung Galaxy S,	crash on second invocation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#103737">[ date ]</a>
              <a href="thread.html#103737">[ thread ]</a>
              <a href="subject.html#103737">[ subject ]</a>
              <a href="author.html#103737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=638978">https://bugzilla.novell.com/show_bug.cgi?id=638978</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=638978#c0">https://bugzilla.novell.com/show_bug.cgi?id=638978#c0</A>


           Summary: GLCube on Samsung Galaxy S, crash on second invocation
    Classification: Mono
           Product: MonoDroid
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Class Libraries
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jankit at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


On a freshly rebooted device, GLCube launched fine. But after a Pause then
Resume, it hung. Device got stuck, after some time, I got the &quot;Force close&quot;
dialog and closed it.

On launching the app again, it crashed with this in the logs:

I/ActivityManager( 2236): Starting activity: Intent {
cmp=mono.samples.gLCube/.GLCubeActivity }
D/dalvikvm( 2891): Trying to load lib
/data/data/mono.samples.gLCube/lib/libmonodroid.so 0x480fab90
D/dalvikvm( 2891): Added shared lib
/data/data/mono.samples.gLCube/lib/libmonodroid.so 0x480fab90
D/dalvikvm( 2891): +++ not scanning '/system/lib/libwebcore.so' for 'init'
(wrong CL)
D/dalvikvm( 2891): +++ not scanning '/system/lib/libmedia_jni.so' for 'init'
(wrong CL)
D/dalvikvm( 2891): +++ not scanning '/system/lib/libexif.so' for 'init' (wrong
CL)
D/dalvikvm( 2891): +++ not scanning '/system/lib/libwebcore.so' for 'register'
(wrong CL)
D/dalvikvm( 2891): +++ not scanning '/system/lib/libmedia_jni.so' for
'register' (wrong CL)
D/dalvikvm( 2891): +++ not scanning '/system/lib/libexif.so' for 'register'
(wrong CL)
E/Mono.Android( 2891): System.Reflection.TargetInvocationException: Exception
has been thrown by the target of an invocation. ---&gt;
System.InvalidOperationException: Comparer threw an exception. ---&gt;
System.TypeInitializationException: 
An exception was thrown by the type initializer for
Mono.Globalization.Unicode.SimpleCollator ---&gt; System.NullReferenceException:
Object reference not set to an instance of an object
E/Mono.Android( 2891):   at (wrapper managed-to-native)
object:wrapper_native_0xad038f8d
(intptr,intptr,intptr,intptr,Android.Runtime.JValue[])
E/Mono.Android( 2891):   at System.Collections.ArrayList.EnsureCapacity (Int32
count) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at System.Collections.ArrayList.Add (System.Object
value) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at
Mono.Globalization.Unicode.MSCompatUnicodeTable.BuildTailoringTables
(System.Globalization.CultureInfo culture,
Mono.Globalization.Unicode.TailoringInfo t,
Mono.Globalization.Unicode.Contraction[]&amp; contracti
ons, Mono.Globalization.Unicode.Level2Map[]&amp; diacriticals) [0x00000] in
&lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at Mono.Globalization.Unicode.SimpleCollator..ctor
(System.Globalization.CultureInfo culture) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at Mono.Globalization.Unicode.SimpleCollator..cctor ()
[0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   --- End of inner exception stack trace ---
E/Mono.Android( 2891):   at System.Globalization.CompareInfo..ctor
(System.Globalization.CultureInfo ci) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at System.Globalization.CultureInfo.get_CompareInfo ()
[0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at System.String.Compare (System.String strA,
System.String strB) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at System.String.CompareTo (System.String strB)
[0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at
Android.Runtime.TypeManager+TypeNameComparer.Compare (System.String x,
System.String y) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at System.Array.BinarySearch[String] (System.String[]
array, Int32 index, Int32 length, System.String value, IComparer`1 comparer)
[0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   --- End of inner exception stack trace ---
E/Mono.Android( 2891):   at System.Array.BinarySearch[String] (System.String[]
array, Int32 index, Int32 length, System.String value, IComparer`1 comparer)
[0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at System.Array.BinarySearch[String] (System.String[]
array, System.String value, IComparer`1 comparer) [0x00000] in &lt;filename
unknown&gt;:0 
E/Mono.Android( 2891):   at Android.Runtime.TypeManager.Lookup (System.String[]
mappings, System.String javaType) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at
Android.Runtime.TypeManager.lookup_android_view_package (System.String klass)
[0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at Android.Runtime.TypeManager.CreateInstance (IntPtr
handle, System.Type targetType) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at Java.Lang.Object.GetObject[ISurfaceHolder] (IntPtr
handle) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at Android.Views.ISurfaceHolderAdapter.GetObject
(IntPtr handle) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at Android.Views.SurfaceView.get_Holder () [0x00000]
in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at OpenTK.Platform.Android.AndroidGameView.Init ()
[0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at OpenTK.Platform.Android.AndroidGameView..ctor
(IntPtr handle) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at Mono.Samples.GLCube.PaintingView..ctor (IntPtr
handle) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at System.Reflection.MonoCMethod.Invoke (System.Object
obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[]
parameters, System.Globalization.CultureInfo culture) [0x00000] in &lt;filename
 unknown&gt;:0 
E/Mono.Android( 2891):   --- End of inner exception stack trace ---
E/Mono.Android( 2891):   at System.Reflection.MonoCMethod.Invoke (System.Object
obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[]
parameters, System.Globalization.CultureInfo culture) [0x00000] in &lt;filename
 unknown&gt;:0 
E/Mono.Android( 2891):   at System.Reflection.MonoCMethod.Invoke (BindingFlags
invokeAttr, System.Reflection.Binder binder, System.Object[] parameters,
System.Globalization.CultureInfo culture) [0x00000] in &lt;filename unknown&gt;:0 
E/Mono.Android( 2891):   at System.Activator.CreateInstance (System.Type type,
BindingFlags bindingAttr, System.Reflecti
D/AndroidRuntime( 2891): Shutting down VM
W/dalvikvm( 2891): threadid=3: thread exiting with uncaught exception
(group=0x4001dc20)
E/AndroidRuntime( 2891): Uncaught handler: thread main exiting due to uncaught
exception
E/AndroidRuntime( 2891): java.lang.RuntimeException: Unable to start activity
ComponentInfo{mono.samples.gLCube/mono.samples.gLCube.GLCubeActivity}:
java.lang.Exception: System.Reflection.TargetInvocationException: Exception has
been t
hrown by the target of an invocation. ---&gt; System.InvalidOperationException:
Comparer threw an exception. ---&gt; System.TypeInitializationException: An
exception was thrown by the type initializer for
Mono.Globalization.Unicode.SimpleCol
lator ---&gt; System.NullReferenceException: Object reference not set to an
instance of an object
E/AndroidRuntime( 2891):   at (wrapper managed-to-native)
object:wrapper_native_0xad038f8d
(intptr,intptr,intptr,intptr,Android.Runtime.JValue[])
E/AndroidRuntime( 2891):   at System.Collections.ArrayList.EnsureCapacity
(Int32 count) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at System.Collections.ArrayList.Add (System.Object
value) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at
Mono.Globalization.Unicode.MSCompatUnicodeTable.BuildTailoringTables
(System.Globalization.CultureInfo culture,
Mono.Globalization.Unicode.TailoringInfo t,
Mono.Globalization.Unicode.Contraction[]&amp; contrac
tions, Mono.Globalization.Unicode.Level2Map[]&amp; diacriticals) [0x00000] in
&lt;filename unknown&gt;:0 
/AndroidRuntime( 2891):   at Mono.Globalization.Unicode.SimpleCollator..ctor
(System.Globalization.CultureInfo culture) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at Mono.Globalization.Unicode.SimpleCollator..cctor
() [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   --- End of inner exception stack trace ---
E/AndroidRuntime( 2891):   at System.Globalization.CompareInfo..ctor
(System.Globalization.CultureInfo ci) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at System.Globalization.CultureInfo.get_CompareInfo
() [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at System.String.Compare (System.String strA,
System.String strB) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at System.String.CompareTo (System.String strB)
[0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at
Android.Runtime.TypeManager+TypeNameComparer.Compare (System.String x,
System.String y) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at System.Array.BinarySearch[String]
(System.String[] array, Int32 index, Int32 length, System.String value,
IComparer`1 comparer) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   --- End of inner exception stack trace ---
E/AndroidRuntime( 2891):   at System.Array.BinarySearch[String]
(System.String[] array, Int32 index, Int32 length, System.String value,
IComparer`1 comparer) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at System.Array.BinarySearch[String]
(System.String[] array, System.String value, IComparer`1 comparer) [0x00000] in
&lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at Android.Runtime.TypeManager.Lookup
(System.String[] mappings, System.String javaType) [0x00000] in &lt;filename
unknown&gt;:0 
E/AndroidRuntime( 2891):   at
Android.Runtime.TypeManager.lookup_android_view_package (System.String klass)
[0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at Android.Runtime.TypeManager.CreateInstance
(IntPtr handle, System.Type targetType) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at Java.Lang.Object.GetObject[ISurfaceHolder]
(IntPtr handle) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at Android.Views.ISurfaceHolderAdapter.GetObject
(IntPtr handle) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at Android.Views.SurfaceView.get_Holder () [0x00000]
in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at OpenTK.Platform.Android.AndroidGameView.Init ()
[0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at OpenTK.Platform.Android.AndroidGameView..ctor
(IntPtr handle) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at Mono.Samples.GLCube.PaintingView..ctor (IntPtr
handle) [0x00000] in &lt;filename unknown&gt;:0 
E/AndroidRuntime( 2891):   at System.Reflection.MonoCMethod.Invoke
(System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder,
System.Object[] parameters, System.Globalization.CultureInfo culture) [0x00000]
in &lt;filena
me unknown&gt;:0 
E/AndroidRuntime( 2891):   --- End of inner exception stack trace ---
E/AndroidRuntime( 2891):   at System.Reflection.MonoCMethod.Invoke
(System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder,
System.Object[] parameters, System.Globalization.CultureInfo culture) [0x00000]
in &lt;filena
me unknown&gt;:0 
E/AndroidRuntime( 2891):   at System.Reflection.MonoCMethod.Invoke
(BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[]
parameters, System.Globalization.Cultur
I/Process ( 2236): Sending signal. PID: 2891 SIG: 3
I/dalvikvm( 2891): threadid=7: reacting to signal 3
I/ANDROID_DEBUG( 2236): dumpmesg &gt; /data/log/dumpstate_app.log
I/dalvikvm( 2891): Wrote stack trace to '/data/anr/traces.txt'
I/dumpstate( 2901): begin
W/PowerManagerService( 2236): Timer 0x3-&gt;0x3|0x0
I/AudioHardwareALSA( 2182): Output standby called!!. Turn off PCM device.
W/Resources( 2236): Converting to boolean: TypedValue{t=0x3/d=0x5e09
&quot;res/anim/accelerate_decelerate_interpolator.xml&quot; a=2 r=0x10a0004}
W/Resources( 2236): Converting to boolean: TypedValue{t=0x3/d=0x5e09
&quot;res/anim/accelerate_decelerate_interpolator.xml&quot; a=2 r=0x10a0004}
I/dumpstate( 2901): done
I/AlarmManager( 2236): mWakeLock.acquire(500);
I/ActivityManager( 2236): Displayed activity
mono.samples.gLCube/.__Proxy__GLCubeActivity: 11658 ms (total 11658 ms)
D/PowerManagerService( 2236): lightSensorChangedLocked 5000
I/PowerManagerService( 2236): Setting target 2: cur=70.0 target=116 delta=2.3
nominalCurrentValue=70
I/PowerManagerService( 2236): lightSensorChangedLocked scheduling light
animator
I/Lights  ( 2236): set_light_backlight[0~255]:(72) gamma_value:(7)
BRIGHTNESS_MODE(1)
I/Lights  ( 2236): set_light_backlight[0~255]:(83) gamma_value:(8)
BRIGHTNESS_MODE(1)
I/Lights  ( 2236): set_light_backlight[0~255]:(93) gamma_value:(9)
BRIGHTNESS_MODE(1)
I/HardwareService( 2236): SLight 102
I/Lights  ( 2236): set_light_backlight[0~255]:(102) gamma_value:(10)
BRIGHTNESS_MODE(1)
I/HardwareService( 2236): SLight 104
I/HardwareService( 2236): SLight 106
I/HardwareService( 2236): SLight 109
I/Lights  ( 2236): set_light_backlight[0~255]:(113) gamma_value:(11)
BRIGHTNESS_MODE(1)
W/PowerManagerService( 2236): FinishAnimation targetValue=116
V/InputDevice( 2236): ID[0]=0 Dn (0=&gt;1)
V/WindowManager( 2236): Dsptch 0 x225.0 y345.0 &gt; Window{481dcb80 Sorry!
paused=false}
V/InputDevice( 2236): ID[0]=0 Up (1=&gt;0)
V/WindowManager( 2236): Dsptch 1 x225.0 y345.0 &gt; Window{481dcb80 Sorry!
paused=false}
I/Process ( 2891): Sending signal. PID: 2891 SIG: 9
I/ActivityManager( 2236): Process mono.samples.gLCube (pid 2891) has died.
I/WindowManager( 2236): WIN DEATH: Window{4805ffc0
mono.samples.gLCube/mono.samples.gLCube.__Proxy__GLCubeActivity paused=false}
I/UsageStats( 2236): Unexpected resume of com.sec.android.app.twlauncher while
already resumed in mono.samples.gLCube


&gt;<i>From /data/anr/traces.txt, I got (for pid 2891):
</I>
----- pid 2891 at 2010-09-13 22:33:56 -----
Cmd line: mono.samples.gLCube

DALVIK THREADS:
&quot;main&quot; prio=5 tid=3 NATIVE
  | group=&quot;main&quot; sCount=1 dsCount=0 s=N obj=0x4001dd00 self=0xbd90
  | sysTid=2891 nice=0 sched=0/0 cgrp=default handle=-1343993184
  at android.os.BinderProxy.transact(Native Method)
  at
android.app.ActivityManagerProxy.handleApplicationError(ActivityManagerNative.java:2366)
  at com.android.internal.os.RuntimeInit.crash(RuntimeInit.java:368)
  at
com.android.internal.os.RuntimeInit$UncaughtHandler.uncaughtException(RuntimeInit.java:90)
  at java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:887)
  at java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:884)
  at dalvik.system.NativeStart.main(Native Method)

&quot;Binder Thread #3&quot; prio=5 tid=15 NATIVE
  | group=&quot;main&quot; sCount=1 dsCount=0 s=N obj=0x480f9d00 self=0x148298
  | sysTid=2897 nice=0 sched=0/0 cgrp=default handle=1372376
  at dalvik.system.NativeStart.run(Native Method)

&quot;Binder Thread #2&quot; prio=5 tid=13 NATIVE
  | group=&quot;main&quot; sCount=1 dsCount=0 s=N obj=0x480f9c40 self=0x141240
  | sysTid=2896 nice=0 sched=0/0 cgrp=default handle=1376552
  at dalvik.system.NativeStart.run(Native Method)

&quot;Binder Thread #1&quot; prio=5 tid=11 NATIVE
  | group=&quot;main&quot; sCount=1 dsCount=0 s=N obj=0x480f49c8 self=0x129d48
  | sysTid=2895 nice=0 sched=0/0 cgrp=default handle=1376488
  at dalvik.system.NativeStart.run(Native Method)

&quot;JDWP&quot; daemon prio=5 tid=9 VMWAIT
  | group=&quot;system&quot; sCount=1 dsCount=0 s=N obj=0x480f32a0 self=0x1318a8
  | sysTid=2894 nice=0 sched=0/0 cgrp=default handle=1332816
  at dalvik.system.NativeStart.run(Native Method)

&quot;Signal Catcher&quot; daemon prio=5 tid=7 RUNNABLE
  | group=&quot;system&quot; sCount=0 dsCount=0 s=N obj=0x480f31e8 self=0x13fa90
  | sysTid=2893 nice=0 sched=0/0 cgrp=default handle=1339808
  at dalvik.system.NativeStart.run(Native Method)

&quot;HeapWorker&quot; daemon prio=5 tid=5 VMWAIT
  | group=&quot;system&quot; sCount=1 dsCount=0 s=N obj=0x4508aeb0 self=0x1475b8
  | sysTid=2892 nice=0 sched=0/0 cgrp=default handle=1316360
  at dalvik.system.NativeStart.run(Native Method)

----- end 2891 -----

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="103872.html">[Mono-bugs] [Bug 638972] .mdb file from class library project is not copied to output directory
</A></li>
	<LI>Next message: <A HREF="103739.html">[Mono-bugs] [Bug 638978] GLCube on Samsung Galaxy S,	crash on second invocation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#103737">[ date ]</a>
              <a href="thread.html#103737">[ thread ]</a>
              <a href="subject.html#103737">[ subject ]</a>
              <a href="author.html#103737">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
