<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 50916][Wis] Changed - GC does not see objs put into an array as dead till array's method is out of scope
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="008804.html">
   <LINK REL="Next"  HREF="008806.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 50916][Wis] Changed - GC does not see objs put into an array as dead till array's method is out of scope
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 50916][Wis] Changed - GC does not see objs put into an array as dead till array's method is out of scope">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Thu, 13 Nov 2003 12:33:26 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="008804.html">[Mono-bugs] [Bug 50917][Wis] Changed - GC.KeepAlive's scope only lasts until it is called.
</A></li>
        <LI> Next message: <A HREF="008806.html">[Mono-bugs] [Bug 50917][Wis] Changed - GC.KeepAlive's scope only lasts until it is called.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8805">[ date ]</a>
              <a href="thread.html#8805">[ thread ]</a>
              <a href="subject.html#8805">[ subject ]</a>
              <a href="author.html#8805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:bmaurer@users.sf.net.">bmaurer@users.sf.net.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=50916">http://bugzilla.ximian.com/show_bug.cgi?id=50916</A>

--- shadow/50916	2003-11-13 07:36:48.000000000 -0500
+++ shadow/50916.tmp.1424	2003-11-13 12:33:26.000000000 -0500
@@ -1,13 +1,13 @@
 Bug#: 50916
 Product: Mono/Runtime
 Version: unspecified
 OS: unknown
 OS Details: 
-Status: RESOLVED   
-Resolution: NOTABUG
+Status: REOPENED   
+Resolution: 
 Severity: Unknown
 Priority: Wishlist
 Component: misc
 AssignedTo: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>                            
 ReportedBy: <A HREF="mailto:bmaurer@users.sf.net">bmaurer@users.sf.net</A>               
 QAContact: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>
@@ -69,6 +69,22 @@
 ------- Additional Comments From <A HREF="mailto:vargaz@freemail.hu">vargaz@freemail.hu</A>  2003-11-13 07:36 -------
 The time when finalizers are called is not guaranteed. The reason
 why the array objects are not freed is probably because the foofoo
 array is reachable from the stack frame of 'blah'. Even if the
 variable is nulled out, it is possibly that JIT generated temporaries
 continue to refer to the array.
+
+------- Additional Comments From <A HREF="mailto:bmaurer@users.sf.net">bmaurer@users.sf.net</A>  2003-11-13 12:33 -------
+This test matches the MS docs and is tested in the Rotor GC test 
+suite.
+
+As well, this could have a real performance impact in something such 
+as:
+
+for (int i = 0; i &lt; 5000; i++) {
+Foo [] bar = new Foo [500];
+for (int j = 0; j &lt; bar.Length; j++)
+   bar [j] = new Foo ();
+}
+
+It seems none of the Foo's would EVER be deallocated, which could be 
+a problem. Am going to play around w/ this some more later.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="008804.html">[Mono-bugs] [Bug 50917][Wis] Changed - GC.KeepAlive's scope only lasts until it is called.
</A></li>
	<LI> Next message: <A HREF="008806.html">[Mono-bugs] [Bug 50917][Wis] Changed - GC.KeepAlive's scope only lasts until it is called.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8805">[ date ]</a>
              <a href="thread.html#8805">[ thread ]</a>
              <a href="subject.html#8805">[ subject ]</a>
              <a href="author.html#8805">[ author ]</a>
         </LI>
       </UL>
</body></html>
