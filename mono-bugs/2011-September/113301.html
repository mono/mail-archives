<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 718745] New: NetTcpBinding Callback generates error when one client triggers a call back for another client via WCF Server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20718745%5D%20New%3A%20NetTcpBinding%20Callback%20generates%0A%20error%20when%20one%20client%20triggers%20a%20call%20back%20for%20another%20client%20via%20WCF%0A%20Server&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="113300.html">
   <LINK REL="Next"  HREF="113302.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 718745] New: NetTcpBinding Callback generates error when one client triggers a call back for another client via WCF Server</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20718745%5D%20New%3A%20NetTcpBinding%20Callback%20generates%0A%20error%20when%20one%20client%20triggers%20a%20call%20back%20for%20another%20client%20via%20WCF%0A%20Server&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 718745] New: NetTcpBinding Callback generates error when one client triggers a call back for another client via WCF Server">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Sep 18 13:10:33 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="113300.html">[Mono-bugs] [Bug 689093] moonlight plugin 3.99.0.3 now requires GLIBC_2.9 while 3.99.0.2 did not
</A></li>
        <LI>Next message: <A HREF="113302.html">[Mono-bugs] [Bug 718745] NetTcpBinding Callback generates error when one client triggers a call back for another client via WCF Server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#113301">[ date ]</a>
              <a href="thread.html#113301">[ thread ]</a>
              <a href="subject.html#113301">[ subject ]</a>
              <a href="author.html#113301">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=718745">https://bugzilla.novell.com/show_bug.cgi?id=718745</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=718745#c0">https://bugzilla.novell.com/show_bug.cgi?id=718745#c0</A>


           Summary: NetTcpBinding Callback generates error when one client
                    triggers a call back for another client via WCF Server
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.10.x
          Platform: Macintosh
        OS/Version: Mac OS X 10.6
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">yruzin at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=451554)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=451554">http://bugzilla.novell.com/attachment.cgi?id=451554</A>)
Source Code  to reproduce the bug

User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_1)
AppleWebKit/535.1 (KHTML, like Gecko) Chrome/13.0.782.220 Safari/535.1

I have a WCF Server that registers clients callback and call it when &quot;Dowork&quot;
method called.
If I have only one client registered the call back works OK. But if I have two
clients registered the callback get's executed for both clients but the the
last callback generates this error on the WCF Server side:


Exception DispatchOperation '*' for contract 'IFoo' requires Invoker.   at
System.ServiceModel.Dispatcher.OperationInvokerHandler.EnsureValid
(System.ServiceModel.Dispatcher.DispatchOperation operation) [0x00000] in
&lt;filename unknown&gt;:0 
  at System.ServiceModel.Dispatcher.OperationInvokerHandler.BuildInvokeParams
(System.ServiceModel.Dispatcher.MessageProcessingContext mrc, System.Object[]&amp;
parameters) [0x00000] in &lt;filename unknown&gt;:0 
  at System.ServiceModel.Dispatcher.OperationInvokerHandler.DoProcessRequest
(System.ServiceModel.Dispatcher.MessageProcessingContext mrc) [0x00000] in
&lt;filename unknown&gt;:0 
  at System.ServiceModel.Dispatcher.OperationInvokerHandler.ProcessRequest
(System.ServiceModel.Dispatcher.MessageProcessingContext mrc) [0x00000] in
&lt;filename unknown&gt;:0 
  at
System.ServiceModel.Dispatcher.BaseRequestProcessorHandler.ProcessRequestChain
(System.ServiceModel.Dispatcher.MessageProcessingContext mrc) [0x00000] in
&lt;filename unknown&gt;:0 
  at
System.ServiceModel.Dispatcher.BaseRequestProcessorHandler.ProcessRequestChain
(System.ServiceModel.Dispatcher.MessageProcessingContext mrc) [0x00000] in
&lt;filename unknown&gt;:0 
  at System.ServiceModel.Dispatcher.HandlersChain.ProcessRequestChain
(System.ServiceModel.Dispatcher.MessageProcessingContext mrc) [0x00000] in
&lt;filename unknown&gt;:0 
  at System.ServiceModel.Dispatcher.BaseRequestProcessor.ProcessRequest
(System.ServiceModel.Dispatcher.MessageProcessingContext mrc) [0x00000] in
&lt;filename unknown&gt;:0 


Reproducible: Always

Steps to Reproduce:
1. Have one NetTcpBinding WCF Server with Callback
2. Connect two clients that register their Callbacks
3. Trigger callback so that the server sends call back to each client
4. Get the error message on the server side
Actual Results:  
The client hangs and later time-out

Expected Results:  
All callbacks executed and the WCF server is ready to accept more calls.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="113300.html">[Mono-bugs] [Bug 689093] moonlight plugin 3.99.0.3 now requires GLIBC_2.9 while 3.99.0.2 did not
</A></li>
	<LI>Next message: <A HREF="113302.html">[Mono-bugs] [Bug 718745] NetTcpBinding Callback generates error when one client triggers a call back for another client via WCF Server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#113301">[ date ]</a>
              <a href="thread.html#113301">[ thread ]</a>
              <a href="subject.html#113301">[ subject ]</a>
              <a href="author.html#113301">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
