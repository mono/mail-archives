<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 78075][Nor] Changed - Mono SSL stack
	performance/tuning issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2078075%5D%5BNor%5D%20Changed%20-%20Mono%20SSL%20stack%0A%09performance/tuning%20issues&In-Reply-To=bug-78075%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042048.html">
   <LINK REL="Next"  HREF="042050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 78075][Nor] Changed - Mono SSL stack
	performance/tuning issues</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2078075%5D%5BNor%5D%20Changed%20-%20Mono%20SSL%20stack%0A%09performance/tuning%20issues&In-Reply-To=bug-78075%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 78075][Nor] Changed - Mono SSL stack
	performance/tuning issues">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Mon May  1 18:56:28 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="042048.html">[Mono-bugs] [Bug 78187][Maj] Changed - X11 error when opening a
	form with ShowDialog that contains a TreeView
</A></li>
        <LI>Next message: <A HREF="042050.html">[Mono-bugs] [Bug 78075][Nor] Changed - Mono SSL stack
	performance/tuning issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42049">[ date ]</a>
              <a href="thread.html#42049">[ thread ]</a>
              <a href="subject.html#42049">[ subject ]</a>
              <a href="author.html#42049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">flucifredi at ximian.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=78075">http://bugzilla.ximian.com/show_bug.cgi?id=78075</A>

--- shadow/78075	2006-04-12 20:51:36.000000000 -0400
+++ shadow/78075.tmp.9687	2006-05-01 18:56:28.000000000 -0400
@@ -1,22 +1,22 @@
 Bug#: 78075
 Product: Mono: Class Libraries
 Version: 1.1
 OS: unknown
 OS Details: 
-Status: NEEDINFO   
+Status: REOPENED   
 Resolution: 
 Severity: Unknown
 Priority: Normal
 Component: Mono.Security
 AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">miguel at ximian.com</A>                            
 ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">naresh at ximian.com</A>               
 QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
 TargetMilestone: ---
 URL: 
-Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">crivera at novell.com</A><A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">,james at ximian.com</A><A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">,naresh at novell.com</A><A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">,sebastien at ximian.com</A>
+Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">crivera at novell.com</A><A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">,flucifredi at ximian.com</A><A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">,james at ximian.com</A><A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">,jtariq at novell.com</A><A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">,naresh at novell.com</A><A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">,sebastien at ximian.com</A>
 Summary: Mono SSL stack performance/tuning issues
 
 Running ZLM 7, our package downloads (over SSL) are very slow in comparion
 to  ZLM 6.6.2.  This looks like a Mono SSL stack performance issue.
 
 Filing this to Miguel to discuss this further as this is a performance
@@ -345,6 +345,40 @@
 cipher (AES256) cipher.
 
 As for removing some ciphers from the list, we run into some problems.
 First the (MS designed) API being used doesn't allow providing extra
 information down to the SSL stack. Second, I still believe it's a
 server side decision and that the API should reflect that.
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">flucifredi at ximian.com</A>  2006-05-01 18:56 -------
+Here are the results from a round of testing with ZLM 7, ~100MB single
+RPM file.
+
+Mono client (stock Avenger build vs Wget against the same *identical*
+server (tomcat in ZLM), same file, same path, same network link.
+
+Default cypher is presumed to be &quot;apache-standard&quot; AES/256. under
+default config, the monoi client takes 2m7sec to download the 100MB
+rpm. Under the same configuration, wget takes 9 seconds.
+
+we then start fiddling with the cyphers directive in Tomcat, degradin
+g the cypher to RC4/SHA/128b:
+
+wget, SSL RC4/128b = 6.24 secs (one-half second less than RSA 256)
+(RC4/128/MD5)
+
+mono client, SSL RC4/128b = 37 secs (7 secs of which install) = 30
+secs net time (97 seconds less than AES/256!)
+
+
+-&gt; Naresh, please detail what sort of results do you wish to achieve.
+we have performance 1 order of magnitude slower under RC4 (which is a
+cypher not palatable to the server guys anyway), and two orders under
+AES as a ballpark figure. 
+
+I did not detect a difference in mono performance between AES 256 and
+AES 128. I suspect the Mono implementation of AES, as other
+cyphersuites in Mono seem to perform *much* faster.
+
+-&gt; James, can you confirm that we are not chunking any of the reads ?
+the 31 second difference between wget and mono under rc4 is
+unaccounted for.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042048.html">[Mono-bugs] [Bug 78187][Maj] Changed - X11 error when opening a
	form with ShowDialog that contains a TreeView
</A></li>
	<LI>Next message: <A HREF="042050.html">[Mono-bugs] [Bug 78075][Nor] Changed - Mono SSL stack
	performance/tuning issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42049">[ date ]</a>
              <a href="thread.html#42049">[ thread ]</a>
              <a href="subject.html#42049">[ subject ]</a>
              <a href="author.html#42049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
