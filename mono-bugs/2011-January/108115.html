<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 665001] New: Compiling Fluent NHibernate crashes	the compiler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20665001%5D%20New%3A%20Compiling%20Fluent%20NHibernate%20crashes%0A%09the%20compiler&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="108540.html">
   <LINK REL="Next"  HREF="108212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 665001] New: Compiling Fluent NHibernate crashes	the compiler</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20665001%5D%20New%3A%20Compiling%20Fluent%20NHibernate%20crashes%0A%09the%20compiler&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 665001] New: Compiling Fluent NHibernate crashes	the compiler">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Jan 17 17:05:53 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="108540.html">[Mono-bugs] [Bug 664986] Android.Resource Types incorrectly cased /	transformed
</A></li>
        <LI>Next message: <A HREF="108212.html">[Mono-bugs] [Bug 665001] Compiling Fluent NHibernate crashes the	compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#108115">[ date ]</a>
              <a href="thread.html#108115">[ thread ]</a>
              <a href="subject.html#108115">[ subject ]</a>
              <a href="author.html#108115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=665001">https://bugzilla.novell.com/show_bug.cgi?id=665001</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=665001#c0">https://bugzilla.novell.com/show_bug.cgi?id=665001#c0</A>


           Summary: Compiling Fluent NHibernate crashes the compiler
    Classification: Mono
           Product: Mono: Compilers
           Version: 2.8.x
          Platform: Macintosh
        OS/Version: Mac OS X 10.6
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">msafar at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">cthielen at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0b9)
Gecko/20100101 Firefox/4.0b9

In an attempt to compile the Fluent NHibernate ORM open source library and its
accompanying Example project, the compiler crashes (both on Mono 2.8.1 and Mono
2.8.2).

The source code can be found here:
<A HREF="https://github.com/jagregory/fluent-nhibernate/tree/master/src/Examples.FirstProject">https://github.com/jagregory/fluent-nhibernate/tree/master/src/Examples.FirstProject</A>
 This is the 'official' test source code from the Fluent NHibernate project.

The download includes compiled assemblies which can be referenced successfully,
just not built.

The example project itself can be built, but if you attempt to re-build Fluent
NHibernate instead of referencing the pre-compiled assembly, the compiler will
crash:


Building: FluentNHibernate (Debug)

Building Solution FluentNHibernate

Building: FluentNHibernate (Debug)

Performing main compilation...
-- snipping out the very long compile line --

Unhandled Exception: Mono.CSharp.InternalErrorException:
/Users/cthielen/Downloads/jagregory-fluent-nhibernate-bd94ea5/src/FluentNHibernate/Mapping/ComponentMap.cs(25,18):
FluentNHibernate.Mapping.ComponentMap&lt;T&gt; ---&gt;
Mono.CSharp.InternalErrorException:
/Users/cthielen/Downloads/jagregory-fluent-nhibernate-bd94ea5/src/FluentNHibernate/Mapping/ComponentMap.cs(47,60):
FluentNHibernate.Mapping.ComponentMap&lt;T&gt;.Component&lt;TComponent&gt;(System.Linq.Expressions.Expression&lt;System.Func&lt;T,TComponent&gt;&gt;)
---&gt; System.ArgumentException: Invalid arguments
  at Mono.CSharp.TypeParameterInflator..ctor (Mono.CSharp.TypeSpec type,
Mono.CSharp.TypeParameterSpec[] tparams, Mono.CSharp.TypeSpec[] targs)
[0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.Method.DefineTypeParameters () [0x00000] in &lt;filename
unknown&gt;:0 
  at Mono.CSharp.Method.Define () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.TypeContainer.DefineContainerMembers (IList mcal) [0x00000] in
&lt;filename unknown&gt;:0 
  --- End of inner exception stack trace ---
  at Mono.CSharp.TypeContainer.DefineContainerMembers (IList mcal) [0x00000] in
&lt;filename unknown&gt;:0 
  at Mono.CSharp.Class.DefineContainerMembers (IList list) [0x00000] in
&lt;filename unknown&gt;:0 
  at Mono.CSharp.TypeContainer.DoDefineMembers () [0x00000] in &lt;filename
unknown&gt;:0 
  at Mono.CSharp.ClassOrStruct.DoDefineMembers () [0x00000] in &lt;filename
unknown&gt;:0 
  at Mono.CSharp.Class.DoDefineMembers () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.TypeContainer.Define () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.RootContext.PopulateTypes () [0x00000] in &lt;filename unknown&gt;:0 
  --- End of inner exception stack trace ---
  at Mono.CSharp.RootContext.PopulateTypes () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.Driver.Compile () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.Driver.Main (System.String[] args) [0x00000] in &lt;filename
unknown&gt;:0 



Unhandled Exception: Mono.CSharp.InternalErrorException:
/Users/cthielen/Downloads/jagregory-fluent-nhibernate-bd94ea5/src/FluentNHibernate/Mapping/ComponentMap.cs(25,18):
FluentNHibernate.Mapping.ComponentMap&lt;T&gt; ---&gt;
Mono.CSharp.InternalErrorException:
/Users/cthielen/Downloads/jagregory-fluent-nhibernate-bd94ea5/src/FluentNHibernate/Mapping/ComponentMap.cs(47,60):
FluentNHibernate.Mapping.ComponentMap&lt;T&gt;.Component&lt;TComponent&gt;(System.Linq.Expressions.Expression&lt;System.Func&lt;T,TComponent&gt;&gt;)
---&gt; System.ArgumentException: Invalid arguments
  at Mono.CSharp.TypeParameterInflator..ctor (Mono.CSharp.TypeSpec type,
Mono.CSharp.TypeParameterSpec[] tparams, Mono.CSharp.TypeSpec[] targs)
[0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.Method.DefineTypeParameters () [0x00000] in &lt;filename
unknown&gt;:0 
  at Mono.CSharp.Method.Define () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.TypeContainer.DefineContainerMembers (IList mcal) [0x00000] in
&lt;filename unknown&gt;:0 
  --- End of inner exception stack trace ---
  at Mono.CSharp.TypeContainer.DefineContainerMembers (IList mcal) [0x00000] in
&lt;filename unknown&gt;:0 
  at Mono.CSharp.Class.DefineContainerMembers (IList list) [0x00000] in
&lt;filename unknown&gt;:0 
  at Mono.CSharp.TypeContainer.DoDefineMembers () [0x00000] in &lt;filename
unknown&gt;:0 
  at Mono.CSharp.ClassOrStruct.DoDefineMembers () [0x00000] in &lt;filename
unknown&gt;:0 
  at Mono.CSharp.Class.DoDefineMembers () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.TypeContainer.Define () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.RootContext.PopulateTypes () [0x00000] in &lt;filename unknown&gt;:0 
  --- End of inner exception stack trace ---
  at Mono.CSharp.RootContext.PopulateTypes () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.Driver.Compile () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.Driver.Main (System.String[] args) [0x00000] in &lt;filename
unknown&gt;:0 
Build complete -- 1 error, 0 warnings

---------------------- Done ----------------------

Build: 1 error, 0 warnings


Reproducible: Always

Steps to Reproduce:
1. Download the tarball linked above.
2. Attempt to build using MonoDevelop on Mono 2.8.1 or Mono 2.8.2.

Actual Results:  
The compilation failed as the compiler crashed.

Expected Results:  
The library should compile and operate as expected.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="108540.html">[Mono-bugs] [Bug 664986] Android.Resource Types incorrectly cased /	transformed
</A></li>
	<LI>Next message: <A HREF="108212.html">[Mono-bugs] [Bug 665001] Compiling Fluent NHibernate crashes the	compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#108115">[ date ]</a>
              <a href="thread.html#108115">[ thread ]</a>
              <a href="subject.html#108115">[ subject ]</a>
              <a href="author.html#108115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
