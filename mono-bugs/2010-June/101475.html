<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 615698] X11: No keyboard input when mono only client with kdrive X server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20615698%5D%20X11%3A%20No%20keyboard%20input%20when%20mono%20only%0A%20client%20with%20kdrive%20X%20server&In-Reply-To=bug-615698-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="101474.html">
   <LINK REL="Next"  HREF="101476.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 615698] X11: No keyboard input when mono only client with kdrive X server</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20615698%5D%20X11%3A%20No%20keyboard%20input%20when%20mono%20only%0A%20client%20with%20kdrive%20X%20server&In-Reply-To=bug-615698-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 615698] X11: No keyboard input when mono only client with kdrive X server">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Jun 19 10:33:34 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="101474.html">[Mono-bugs] [Bug 615698] New: X11: No keyboard input when mono only client with kdrive X server
</A></li>
        <LI>Next message: <A HREF="101476.html">[Mono-bugs] [Bug 318867] prj2make does not handle path seperator correctly when using -csproj2prjx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#101475">[ date ]</a>
              <a href="thread.html#101475">[ thread ]</a>
              <a href="subject.html#101475">[ subject ]</a>
              <a href="author.html#101475">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=615698">http://bugzilla.novell.com/show_bug.cgi?id=615698</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=615698#c1">http://bugzilla.novell.com/show_bug.cgi?id=615698#c1</A>


--- Comment #1 from Martin Fuzzey &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mfuzzey at parkeon.com</A>&gt; 2010-06-19 14:33:33 UTC ---
Created an attachment (id=370284)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=370284">http://bugzilla.novell.com/attachment.cgi?id=370284</A>)
fix patch

The attached patch fixes this bug.

The problem was that the keyboard mapping setup requires XLookupString() to
return valid results however this is not the case until
XRefreshKeyboardMapping() has been called.

The patch adds a handler for the X MappingNotify event, using it to call
XRefreshKeyboardMapping and defers X=&gt;windows keyboard mapping detection until
this is done.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="101474.html">[Mono-bugs] [Bug 615698] New: X11: No keyboard input when mono only client with kdrive X server
</A></li>
	<LI>Next message: <A HREF="101476.html">[Mono-bugs] [Bug 318867] prj2make does not handle path seperator correctly when using -csproj2prjx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#101475">[ date ]</a>
              <a href="thread.html#101475">[ thread ]</a>
              <a href="subject.html#101475">[ subject ]</a>
              <a href="author.html#101475">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
