<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 609109] [Regression] Incoming tablular data stream (TDS) remote procedure call (RPC) protocal stream is incorrect.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20609109%5D%20%5BRegression%5D%20Incoming%20tablular%20data%20stream%0A%20%28TDS%29%20remote%20procedure%20call%20%28RPC%29%20protocal%20stream%20is%20incorrect.&In-Reply-To=bug-609109-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="101622.html">
   <LINK REL="Next"  HREF="101624.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 609109] [Regression] Incoming tablular data stream (TDS) remote procedure call (RPC) protocal stream is incorrect.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20609109%5D%20%5BRegression%5D%20Incoming%20tablular%20data%20stream%0A%20%28TDS%29%20remote%20procedure%20call%20%28RPC%29%20protocal%20stream%20is%20incorrect.&In-Reply-To=bug-609109-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 609109] [Regression] Incoming tablular data stream (TDS) remote procedure call (RPC) protocal stream is incorrect.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Jun 23 11:26:01 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="101622.html">[Mono-bugs] [Bug 609109] [Regression] Incoming tablular data stream (TDS) remote procedure call (RPC) protocal stream is incorrect.
</A></li>
        <LI>Next message: <A HREF="101624.html">[Mono-bugs] [Bug 574434] segment fault on System.MonoCustomAttrs.IsDefinedInternal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#101623">[ date ]</a>
              <a href="thread.html#101623">[ thread ]</a>
              <a href="subject.html#101623">[ subject ]</a>
              <a href="author.html#101623">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=609109">http://bugzilla.novell.com/show_bug.cgi?id=609109</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=609109#c4">http://bugzilla.novell.com/show_bug.cgi?id=609109#c4</A>


--- Comment #4 from scott fluto &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">srfcanada at hotmail.com</A>&gt; 2010-06-23 15:26:01 UTC ---
Now Im geting a box special charcater rather than a null character in the
parameter thats failing:

NHibernate.Exceptions.GenericADOException: could not insert:
[Drms.Server.EntityModel.EntityRootTestObject#b7bf5f4d-16fc-4172-841d-9d9e031e3cfe][SQL:
INSERT INTO [EROOTTESTOBJECT] ([COMMITCOUNT], [TESTDATE], [TESTSTRING],
[TESTDOUBLE], [TESTINT], [TESTINT64], [SINGLECHILD], [LABEL],
[PERSISTABLEBACKREFERENCES], [PERSISTABLECASECONTEXTID],
[PERSISTABLECASECONTEXTREFERENC], [NAME], [BINARYTEST], [CHILDSHARED],
[CHILDNOLAZY], [SINGLEDOMAINOBJECT], [TESTBLOB], [INTERFACEOBJECT],
[DOMAINLISTCOLLECTION1], [SHAREDLIST], [SHAREDLIST2],
[RELATIONSHIPLISTCOLLECTION1], [SINGLERELATIONSHIP1],
[DOMAINDICTIONARYCOLLECTION1], [SHAREDDICTIONARY], [SHAREDDICTIONARY2],
[SHAREDSINGLERELATIONSHIP], [STRINGLIST], [STRINGVALIDATEDLIST],
[STRINGVALIDATEDDICTIONARY], [DICTIONARYKEY], [DICTIONARYKEYBINARY],
[CHILDADICTIONARY], [CHILDACOLLECTION], [ILISTCOLLECTION1], [ILISTCOLLECTION2],
[DOMAINLISTCOLLECTION2], [DOMAINLISTCOLLECTION3], [DOMAINLISTCOLLECTION4],
[VALIDATEDLISTCOLLECTION1], [VALIDATEDLISTCOLLECTION2],
[VALIDATEDLISTCOLLECTION3], [VALIDATEDLISTCOLLECTION4],
[DOMAINDICTIONARYCOLLECTION2], [DOMAINDICTIONARYCOLLECTION3],
[DOMAINDICTIONARYCOLLECTION4], [VALIDATEDDICTIONARYCOLLECTION1],
[VALIDATEDDICTIONARYCOLLECTION2], [VALIDATEDDICTIONARYCOLLECTION3],
[VALIDATEDDICTIONARYCOLLECTION4], [RELATIONSHIPLISTCOLLECTION2],
[RELATIONSHIPLISTCOLLECTION3], [SINGLERELATIONSHIP2], [SINGLERELATIONSHIP3],
[ARRAY1], [COLLECTIONLIST], [ORIGINAL], [ISBACKREFERENCETRACKINGENABLED],
[CASECONTEXTBEHAVIOR], [CREATED], [DESCRIPTION], [ID]) VALUES (?, ?, ?, ?, ?,
?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,
?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,
?, ?, ?, ?, ?)]
Source: NHibernate
Target Site: Void Insert(System.Object, System.Object[], System.Boolean[],
Int32, NHibernate.SqlCommand.SqlCommandInfo, System.Object,
ISessionImplementor)
Stack Trace:   at NHibernate.Persister.Entity.AbstractEntityPersister.Insert
(System.Object id, System.Object[] fields, System.Boolean[] notNull, Int32 j,
NHibernate.SqlCommand.SqlCommandInfo sql, System.Object obj,
ISessionImplementor session) [0x00000] in &lt;filename unknown&gt;:0
  at NHibernate.Persister.Entity.AbstractEntityPersister.Insert (System.Object
id, System.Object[] fields, System.Object obj, ISessionImplementor session)
[0x00000] in &lt;filename unknown&gt;:0
  at NHibernate.Action.EntityInsertAction.Execute () [0x00000] in &lt;filename
unknown&gt;:0
  at NHibernate.Engine.ActionQueue.Execute (IExecutable executable) [0x00000]
in &lt;filename unknown&gt;:0
  at NHibernate.Engine.ActionQueue.ExecuteActions (IList list) [0x00000] in
&lt;filename unknown&gt;:0
  at NHibernate.Engine.ActionQueue.ExecuteActions () [0x00000] in &lt;filename
unknown&gt;:0
  at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions
(IEventSource session) [0x00000] in &lt;filename unknown&gt;:0
Custom Data:
Inner Exception: System.Data.SqlClient.SqlException: The incoming tabular data
stream (TDS) remote procedure call (RPC) protocol stream is incorrect.
Parameter 47 (&quot;&#42240;..&#16388;&quot;): Data type 0x70 is unknown.
Source: Mono SqlClient Data Provider
Target Site: Void ErrorHandler(System.Object,
Mono.Data.Tds.Protocol.TdsInternalErrorMessageEventArgs)
Stack Trace:   at System.Data.SqlClient.SqlConnection.ErrorHandler
(System.Object sender, Mono.Data.Tds.Protocol.TdsInternalErrorMessageEventArgs
e) [0x00032] in
/disk2/mono20100622/mcs/class/System.Data/System.Data.SqlClient/SqlConnection.cs:316
  at Mono.Data.Tds.Protocol.Tds.OnTdsErrorMessage
(Mono.Data.Tds.Protocol.TdsInternalErrorMessageEventArgs e) [0x0000b] in
/disk2/mono20100622/mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/Tds.cs:1698
  at Mono.Data.Tds.Protocol.Tds.ProcessMessage (TdsPacketSubType subType)
[0x000ef] in
/disk2/mono20100622/mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/Tds.cs:1738
  at Mono.Data.Tds.Protocol.Tds.ProcessSubPacket () [0x00130] in
/disk2/mono20100622/mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/Tds.cs:1790
  at Mono.Data.Tds.Protocol.Tds.NextResult () [0x0004a] in
/disk2/mono20100622/mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/Tds.cs:619
  at Mono.Data.Tds.Protocol.Tds.SkipToEnd () [0x00005] in
/disk2/mono20100622/mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/Tds.cs:692
  at Mono.Data.Tds.Protocol.Tds70.ExecRPC (TdsRpcProcId rpcId, System.String
sql, Mono.Data.Tds.TdsMetaParameterCollection parameters, Int32 timeout,
Boolean wantResults) [0x000ad] in
/disk2/mono20100622/mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/Tds70.cs:483
  at Mono.Data.Tds.Protocol.Tds80.Execute (System.String commandText,
Mono.Data.Tds.TdsMetaParameterCollection parameters, Int32 timeout, Boolean
wantResults) [0x0003e] in
/disk2/mono20100622/mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/Tds80.cs:225
  at System.Data.SqlClient.SqlCommand.Execute (Boolean wantResults) [0x00214]
in
/disk2/mono20100622/mcs/class/System.Data/System.Data.SqlClient/SqlCommand.cs:532
  at System.Data.SqlClient.SqlCommand.ExecuteNonQuery () [0x00015] in
/disk2/mono20100622/mcs/class/System.Data/System.Data.SqlClient/SqlCommand.cs:567
  at NHibernate.AdoNet.AbstractBatcher.ExecuteNonQuery (IDbCommand cmd)
[0x00000] in &lt;filename unknown&gt;:0
Custom Data:
   Key #1: actual-sql-query
   Value #1: INSERT INTO [EROOTTESTOBJECT] ([COMMITCOUNT], [TESTDATE],
[TESTSTRING], [TESTDOUBLE], [TESTINT], [TESTINT64], [SINGLECHILD], [LABEL],
[PERSISTABLEBACKREFERENCES], [PERSISTABLECASECONTEXTID],
[PERSISTABLECASECONTEXTREFERENC], [NAME], [BINARYTEST], [CHILDSHARED],
[CHILDNOLAZY], [SINGLEDOMAINOBJECT], [TESTBLOB], [INTERFACEOBJECT],
[DOMAINLISTCOLLECTION1], [SHAREDLIST], [SHAREDLIST2],
[RELATIONSHIPLISTCOLLECTION1], [SINGLERELATIONSHIP1],
[DOMAINDICTIONARYCOLLECTION1], [SHAREDDICTIONARY], [SHAREDDICTIONARY2],
[SHAREDSINGLERELATIONSHIP], [STRINGLIST], [STRINGVALIDATEDLIST],
[STRINGVALIDATEDDICTIONARY], [DICTIONARYKEY], [DICTIONARYKEYBINARY],
[CHILDADICTIONARY], [CHILDACOLLECTION], [ILISTCOLLECTION1], [ILISTCOLLECTION2],
[DOMAINLISTCOLLECTION2], [DOMAINLISTCOLLECTION3], [DOMAINLISTCOLLECTION4],
[VALIDATEDLISTCOLLECTION1], [VALIDATEDLISTCOLLECTION2],
[VALIDATEDLISTCOLLECTION3], [VALIDATEDLISTCOLLECTION4],
[DOMAINDICTIONARYCOLLECTION2], [DOMAINDICTIONARYCOLLECTION3],
[DOMAINDICTIONARYCOLLECTION4], [VALIDATEDDICTIONARYCOLLECTION1],
[VALIDATEDDICTIONARYCOLLECTION2], [VALIDATEDDICTIONARYCOLLECTION3],
[VALIDATEDDICTIONARYCOLLECTION4], [RELATIONSHIPLISTCOLLECTION2],
[RELATIONSHIPLISTCOLLECTION3], [SINGLERELATIONSHIP2], [SINGLERELATIONSHIP3],
[ARRAY1], [COLLECTIONLIST], [ORIGINAL], [ISBACKREFERENCETRACKINGENABLED],
[CASECONTEXTBEHAVIOR], [CREATED], [DESCRIPTION], [ID]) VALUES (@p0, @p1, @p2,
@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16,
@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29,
@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42,
@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55,
@p56, @p57, @p58, @p59, @p60, @p61)
Inner Exception:

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="101622.html">[Mono-bugs] [Bug 609109] [Regression] Incoming tablular data stream (TDS) remote procedure call (RPC) protocal stream is incorrect.
</A></li>
	<LI>Next message: <A HREF="101624.html">[Mono-bugs] [Bug 574434] segment fault on System.MonoCustomAttrs.IsDefinedInternal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#101623">[ date ]</a>
              <a href="thread.html#101623">[ thread ]</a>
              <a href="subject.html#101623">[ subject ]</a>
              <a href="author.html#101623">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
