<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 438132] New: insufficient namespace imports in	masterpages.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20438132%5D%20New%3A%20insufficient%20namespace%20imports%20in%0A%09masterpages.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081322.html">
   <LINK REL="Next"  HREF="081313.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 438132] New: insufficient namespace imports in	masterpages.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20438132%5D%20New%3A%20insufficient%20namespace%20imports%20in%0A%09masterpages.&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 438132] New: insufficient namespace imports in	masterpages.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Oct 23 06:12:11 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="081322.html">[Mono-bugs] [Bug 438070] vm crashes with xceed chart
</A></li>
        <LI>Next message: <A HREF="081313.html">[Mono-bugs] [Bug 438132] insufficient namespace imports in	masterpages.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81312">[ date ]</a>
              <a href="thread.html#81312">[ thread ]</a>
              <a href="subject.html#81312">[ subject ]</a>
              <a href="author.html#81312">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=438132">https://bugzilla.novell.com/show_bug.cgi?id=438132</A>


           Summary: insufficient namespace imports in masterpages.
           Product: Mono: Class Libraries
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Sys.Web
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">atsushi at ximian.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Development


I found that under a master page an aspx page in Microsoft ASP.NET imports the
namespaces defined in pages/controls elements. It is not done under Mono
ASP.NET.

The following set of files reproduces the issue:

---- Site.master ----
&lt;%@ Master Language=&quot;C#&quot; CodeBehind=&quot;Site.master.cs&quot;
Inherits=&quot;DynamicData1.Site&quot; %&gt;

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;
&quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</A>&gt;

&lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A>&gt;
&lt;body class=&quot;template&quot;&gt;
        &lt;asp:ContentPlaceHolder id=&quot;ContentPlaceHolder1&quot; runat=&quot;server&quot;&gt;
        &lt;/asp:ContentPlaceHolder&gt;
&lt;/body&gt;
&lt;/html&gt;

---- Site.master.cs ----
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace DynamicData1
{
    public partial class Site : System.Web.UI.MasterPage
    {
        protected System.Web.UI.WebControls.ContentPlaceHolder
ContentPlaceHolder1;
    }
}

---- web.config ----

&lt;configuration&gt;
        &lt;system.web&gt;
                &lt;compilation debug=&quot;true&quot;&gt;
                        &lt;assemblies&gt;
                                &lt;add assembly=&quot;System.Web.DynamicData,
Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;/&gt;
                        &lt;/assemblies&gt;
                &lt;/compilation&gt;
                &lt;pages&gt;
                        &lt;controls&gt;
                                &lt;add tagPrefix=&quot;asp&quot;
namespace=&quot;System.Web.DynamicData&quot; assembly=&quot;System.Web.DynamicData,
Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;/&gt;
                        &lt;/controls&gt;
                &lt;/pages&gt;
        &lt;/system.web&gt;
&lt;/configuration&gt;

---- foo.aspx ----

&lt;%@ Page Language=&quot;C#&quot; MasterPageFile=&quot;~/Site.master&quot;
Inherits=&quot;System.Web.UI.Page&quot; %&gt;

&lt;asp:Content ID=&quot;Content1&quot; ContentPlaceHolderID=&quot;ContentPlaceHolder1&quot;
Runat=&quot;Server&quot;&gt;
&lt;%= PageAction.Edit %&gt;
&lt;%= PageAction.EditXXX %&gt;
&lt;/asp:Content&gt;

---- bar.aspx ----

&lt;%@ Page Language=&quot;C#&quot; Inherits=&quot;System.Web.UI.Page&quot; %&gt;

&lt;html&gt;
&lt;body&gt;
&lt;%= PageAction.Edit %&gt;
&lt;/body&gt;
&lt;/html&gt;

---- baz.aspx ----
&lt;%@ Page Language=&quot;C#&quot; Inherits=&quot;System.Web.UI.Page&quot; %&gt;

&lt;html&gt;
&lt;body&gt;
&lt;%= System.Web.DynamicData.PageAction.Edit %&gt;
&lt;/body&gt;
&lt;/html&gt;

--------

How to reproduce:
- Create all those files above under a directory.
- mkdir bin
- gmcs -t:library -pkg:dotnet35 Site.master.cs -out:bin/DynamicData1.dll

On Windows, run IIS manager and create a virtual web directory for it to verify
what happens under ASP.NET.

On Mono, run xsp2

Expected results:
- .NET foo.aspx -&gt; error at &lt;%= PageAction.EditXXX %&gt; which means, &lt;%=
PageAction.Edit %&gt; passes.
- .NET bar.aspx -&gt; error at &lt;%= PageAction.Edit %&gt;
- Mono -&gt; both error at &lt;%= PageAction.Edit %&gt;
- baz.aspx -&gt; works on both .NET and Mono.

Additional notes:

This means, master-page-based foo.aspx should allow reference to &quot;PageAction&quot;
without fully qualified namespace (that is what baz.aspx does and works).

Since baz.aspx works, it is not about assembly reference but about namespace
reference. And since bar.aspx fails on .NET, it is only about master pages.

It blocks DynamicData aspx pages that Visual Studio automatically generates for
DynamicData projects.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>



























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081322.html">[Mono-bugs] [Bug 438070] vm crashes with xceed chart
</A></li>
	<LI>Next message: <A HREF="081313.html">[Mono-bugs] [Bug 438132] insufficient namespace imports in	masterpages.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81312">[ date ]</a>
              <a href="thread.html#81312">[ thread ]</a>
              <a href="subject.html#81312">[ subject ]</a>
              <a href="author.html#81312">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
