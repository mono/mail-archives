<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 430504] [2.0 on Win] SslStream.BeginAuthenticateAsServer() does not work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20430504%5D%20%5B2.0%20on%20Win%5D%0A%20SslStream.BeginAuthenticateAsServer%28%29%20does%20not%20work&In-Reply-To=bug-430504-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080848.html">
   <LINK REL="Next"  HREF="080850.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 430504] [2.0 on Win] SslStream.BeginAuthenticateAsServer() does not work</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20430504%5D%20%5B2.0%20on%20Win%5D%0A%20SslStream.BeginAuthenticateAsServer%28%29%20does%20not%20work&In-Reply-To=bug-430504-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 430504] [2.0 on Win] SslStream.BeginAuthenticateAsServer() does not work">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Oct 13 23:48:45 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="080848.html">[Mono-bugs] [Bug 423518] WARNING: Got event 137f for unknown pid	xxxx
</A></li>
        <LI>Next message: <A HREF="080850.html">[Mono-bugs] [Bug 430504] [2.0 on Win] SslStream.BeginAuthenticateAsServer() does not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80849">[ date ]</a>
              <a href="thread.html#80849">[ thread ]</a>
              <a href="subject.html#80849">[ subject ]</a>
              <a href="author.html#80849">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=430504">https://bugzilla.novell.com/show_bug.cgi?id=430504</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">awunwpa7 at yahoo.com.ph</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=430504#c4">https://bugzilla.novell.com/show_bug.cgi?id=430504#c4</A>





--- Comment #4 from Steve Odbc &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">awunwpa7 at yahoo.com.ph</A>&gt;  2008-10-13 21:48:44 MDT ---
Created an attachment (id=245284)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=245284">https://bugzilla.novell.com/attachment.cgi?id=245284</A>)
Patch

I looked into the MONO code and I think I know what the problem is. When the
server authenticates, it calls the BeginRead() function with a zero byte
buffer, just to trigger a handshake. The problem is, that BeginRead() assumes
that data should be actually read, and tries to do so after the handshake. This
can lead to an infinite wait, since there is not always data to read.

See patch (not tested yet).


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>







































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080848.html">[Mono-bugs] [Bug 423518] WARNING: Got event 137f for unknown pid	xxxx
</A></li>
	<LI>Next message: <A HREF="080850.html">[Mono-bugs] [Bug 430504] [2.0 on Win] SslStream.BeginAuthenticateAsServer() does not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80849">[ date ]</a>
              <a href="thread.html#80849">[ thread ]</a>
              <a href="subject.html#80849">[ subject ]</a>
              <a href="author.html#80849">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
