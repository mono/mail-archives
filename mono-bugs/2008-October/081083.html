<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 436772] New: Form. MouseButtons is always None when detecting WM_MOUSEMOVE in WndProc
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20436772%5D%20New%3A%20Form.%20MouseButtons%20is%20always%20None%0A%20when%20detecting%20WM_MOUSEMOVE%20in%20WndProc&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081080.html">
   <LINK REL="Next"  HREF="081111.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 436772] New: Form. MouseButtons is always None when detecting WM_MOUSEMOVE in WndProc</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20436772%5D%20New%3A%20Form.%20MouseButtons%20is%20always%20None%0A%20when%20detecting%20WM_MOUSEMOVE%20in%20WndProc&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 436772] New: Form. MouseButtons is always None when detecting WM_MOUSEMOVE in WndProc">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Oct 19 06:28:50 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="081080.html">[Mono-bugs] [Bug 315325] monodoc crashs with Unhandled Exception: System. NullReferenceException: Object reference not set to an instance of an object
</A></li>
        <LI>Next message: <A HREF="081111.html">[Mono-bugs] [Bug 436772] Form. MouseButtons is always None when detecting WM_MOUSEMOVE in WndProc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81083">[ date ]</a>
              <a href="thread.html#81083">[ thread ]</a>
              <a href="subject.html#81083">[ subject ]</a>
              <a href="author.html#81083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=436772">https://bugzilla.novell.com/show_bug.cgi?id=436772</A>


           Summary: Form.MouseButtons is always None when detecting
                    WM_MOUSEMOVE in WndProc
           Product: Mono: Class Libraries
           Version: SVN
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">luca at skakkinostri.it</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Community User


I was trying to use DockDotNet (<A HREF="http://sourceforge.net/projects/dockdotnet/">http://sourceforge.net/projects/dockdotnet/</A>) on
Mono, and noticed that floating windows could not be dragged around. This
library does some special handling to receive non-client notifications without
using P/Invokes, and it works using MS Windows Forms library.

I have extracted the minimum code required to reproduce this bug, you can
download it as a VS2008 project:
<A HREF="http://www.skakkinostri.it/files/ManagedFormsApp.zip">http://www.skakkinostri.it/files/ManagedFormsApp.zip</A>

The project in the zip package uses MS Winforms, you can test it on windows and
see that the window can be dragged around by clicking on its caption. When
using MWF instead, the window does not move. I have added a Trace.WriteLine
call to display the value of MouseButtons - while on Windows returns correctly
Left, on MWF it returns None.

For MWF testing, I have used the SVN MWF, downloaded and built using the guide
available at <A HREF="http://www.mono-project.com/Guide:_Debugging_With_MWF">http://www.mono-project.com/Guide:_Debugging_With_MWF</A> (by the way,
the guide should be updated with the additional dependency on Mono.WebBrowser).


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>












































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081080.html">[Mono-bugs] [Bug 315325] monodoc crashs with Unhandled Exception: System. NullReferenceException: Object reference not set to an instance of an object
</A></li>
	<LI>Next message: <A HREF="081111.html">[Mono-bugs] [Bug 436772] Form. MouseButtons is always None when detecting WM_MOUSEMOVE in WndProc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81083">[ date ]</a>
              <a href="thread.html#81083">[ thread ]</a>
              <a href="subject.html#81083">[ subject ]</a>
              <a href="author.html#81083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
