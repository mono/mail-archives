<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 433371] New: HttpConnection ignores Keep-Alive for	GETs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20433371%5D%20New%3A%20HttpConnection%20ignores%20Keep-Alive%20for%0A%09GETs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080523.html">
   <LINK REL="Next"  HREF="080528.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 433371] New: HttpConnection ignores Keep-Alive for	GETs</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20433371%5D%20New%3A%20HttpConnection%20ignores%20Keep-Alive%20for%0A%09GETs&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 433371] New: HttpConnection ignores Keep-Alive for	GETs">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Oct  8 05:21:03 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="080523.html">[Mono-bugs] [Bug 422785] Mono will crash when calling	System.ServiceModel.Open ()
</A></li>
        <LI>Next message: <A HREF="080528.html">[Mono-bugs] [Bug 433371] HttpConnection ignores Keep-Alive for GETs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80526">[ date ]</a>
              <a href="thread.html#80526">[ thread ]</a>
              <a href="subject.html#80526">[ subject ]</a>
              <a href="author.html#80526">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=433371">https://bugzilla.novell.com/show_bug.cgi?id=433371</A>


           Summary: HttpConnection ignores Keep-Alive for GETs
           Product: Mono: Class Libraries
           Version: 2.0
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">petr.hubeny at mliven.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=244207)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=244207">https://bugzilla.novell.com/attachment.cgi?id=244207</A>)
Test Case

Description of Problem:
Using HTTP/1.1 client to GET from an HttpListener doesn't re-use the connection
because the server closes the connection.

Steps to reproduce the problem:
1. Compile the test case: gmcs KeepAliveTest.cs
2. Run the test case: mono KeepAliveTest.exe

Actual Results:

Request from 127.0.0.1:1234
The response
Request from 127.0.0.1:1235
The response
Request from 127.0.0.1:1236
The response
Request from 127.0.0.1:1237
The response
Request from 127.0.0.1:1238
The response

Expected Results (the port number is random, but should stay the same during
the run):

Request from 127.0.0.1:1234
The response
Request from 127.0.0.1:1234
The response
Request from 127.0.0.1:1234
The response
Request from 127.0.0.1:1234
The response
Request from 127.0.0.1:1234
The response

How often does this happen? Every time.


Additional Information:

Apparently the HttpConnection is willing to keep the connection open only when
the request is POST and even then only if it using chunked transfer encoding. 

I've tested against Microsofts .NET and the results are as expected.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>







































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080523.html">[Mono-bugs] [Bug 422785] Mono will crash when calling	System.ServiceModel.Open ()
</A></li>
	<LI>Next message: <A HREF="080528.html">[Mono-bugs] [Bug 433371] HttpConnection ignores Keep-Alive for GETs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#80526">[ date ]</a>
              <a href="thread.html#80526">[ thread ]</a>
              <a href="subject.html#80526">[ subject ]</a>
              <a href="author.html#80526">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
