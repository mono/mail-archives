<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 431539] Segmentation Fault in mcs/gmcs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20431539%5D%20Segmentation%20Fault%20in%20mcs/gmcs&In-Reply-To=bug-431539-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="080534.html">
   <LINK REL="Next"  HREF="080268.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 431539] Segmentation Fault in mcs/gmcs</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20431539%5D%20Segmentation%20Fault%20in%20mcs/gmcs&In-Reply-To=bug-431539-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 431539] Segmentation Fault in mcs/gmcs">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Oct 29 07:25:36 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="080534.html">[Mono-bugs] [Bug 431539] Segmentation Fault in mcs/gmcs
</A></li>
        <LI>Next message: <A HREF="080268.html">[Mono-bugs] [Bug 431587] New: RectangleF.Intersect(RectangleF rect)	error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81617">[ date ]</a>
              <a href="thread.html#81617">[ thread ]</a>
              <a href="subject.html#81617">[ subject ]</a>
              <a href="author.html#81617">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=431539">https://bugzilla.novell.com/show_bug.cgi?id=431539</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Yury at serdyuk.botik.ru</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=431539#c4">https://bugzilla.novell.com/show_bug.cgi?id=431539#c4</A>


Yury Serdyuk &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Yury at serdyuk.botik.ru</A>&gt; changed:

           What    |Removed                                         |Added
----------------------------------------------------------------------------
                 CC|                                                |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Yury at serdyuk.botik.ru</A>




--- Comment #4 from Yury Serdyuk &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Yury at serdyuk.botik.ru</A>&gt;  2008-10-29 05:25:35 MDT ---
I have compiled Mono 2.0.1 with -g flag.
The gdb protocol is here:

[<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">user002 at cell8i-3</A> ~]$
MONO_PATH=&quot;/home/user002/mono-2.0.1/mcs/class/lib/monolite:$MONO_PATH&quot; gdb
/home/user002/mono-2.0.1/mono/mini/mono
GNU gdb Fedora (6.8-1.fc9)
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;<A HREF="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</A>&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;
and &quot;show warranty&quot; for details.
This GDB was configured as &quot;ppc-redhat-linux-gnu&quot;...
(gdb) handle SIGPWR nostop
Signal        Stop      Print   Pass to program Description
SIGPWR        No        Yes     Yes             Power fail/restart
(gdb) handle SIGXCPU nostop
Signal        Stop      Print   Pass to program Description
SIGXCPU       No        Yes     Yes             CPU time limit exceeded
(gdb) run /home/user002/mono-2.0.1/mcs/class/lib/monolite/mcs.exe -v
SegFault.cs
Starting program: /home/user002/mono-2.0.1/mono/mini/mono
/home/user002/mono-2.0.1/mcs/class/lib/monolite/mcs.exe -v SegFault.cs
[Thread debugging using libthread_db enabled]
[New Thread 0xf7fe2000 (LWP 31743)]
[New Thread 0xf78ae450 (LWP 31746)]
[New Thread 0xf784e450 (LWP 31747)]

Program received signal SIGPWR, Power fail/restart.

Program received signal SIGXCPU, CPU time limit exceeded.

Program received signal SIGPWR, Power fail/restart.

Program received signal SIGXCPU, CPU time limit exceeded.
** Message: Unknown errno: Success


Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0xf7fe2000 (LWP 31743)]
_wordcopy_fwd_aligned (dstp=&lt;value optimized out&gt;, srcp=&lt;value optimized out&gt;,
len=144)
    at wordcopy.c:110
110           ((op_t *) dstp)[4] = a1;
(gdb) info threads
  3 Thread 0xf784e450 (LWP 31747)  0x0fc5bf44 in __pthread_cond_wait (
    cond=&lt;value optimized out&gt;, mutex=&lt;value optimized out&gt;) at
pthread_cond_wait.c:153
  2 Thread 0xf78ae450 (LWP 31746)  0x0fc611e8 in nanosleep () from
/lib/libpthread.so.0
* 1 Thread 0xf7fe2000 (LWP 31743)  _wordcopy_fwd_aligned (dstp=&lt;value optimized
out&gt;,
    srcp=&lt;value optimized out&gt;, len=144) at wordcopy.c:110
(gdb) thread apply all bt

Thread 3 (Thread 0xf784e450 (LWP 31747)):
#0  0x0fc5bf44 in __pthread_cond_wait (cond=&lt;value optimized out&gt;, mutex=&lt;value
optimized out&gt;)
    at pthread_cond_wait.c:153
#1  0x1012ba94 in timedwait_signal_poll_cond (cond=0x102d35a0,
mutex=0x102d3584,
    timeout=&lt;value optimized out&gt;, alertable=&lt;value optimized out&gt;) at
handles.c:1490
#2  0x1012e9c0 in _wapi_handle_timedwait_signal_handle (handle=&lt;value optimized
out&gt;,
    timeout=0x0, alertable=&lt;value optimized out&gt;) at handles.c:1570
#3  0x1012ea1c in _wapi_handle_wait_signal_handle (handle=&lt;value optimized
out&gt;,
    alertable=&lt;value optimized out&gt;) at handles.c:1530
#4  0x10126f5c in WaitForSingleObjectEx (handle=0x404, timeout=4294967295,
alertable=0)
    at wait.c:205
#5  0x100f93e0 in finalizer_thread (unused=&lt;value optimized out&gt;) at gc.c:908
#6  0x100c9350 in start_wrapper (data=&lt;value optimized out&gt;) at threads.c:621
#7  0x10125490 in thread_start_routine (args=0x102d37f0) at threads.c:279
#8  0x10147738 in GC_start_routine (arg=0xf7fb7f20) at pthread_support.c:1382
#9  0x0fc56e3c in start_thread (arg=&lt;value optimized out&gt;) at
pthread_create.c:299
#10 0x0fe0b670 in clone () from /lib/libc.so.6
Backtrace stopped: previous frame inner to this frame (corrupt stack?)

Thread 2 (Thread 0xf78ae450 (LWP 31746)):
#0  0x0fc611e8 in nanosleep () from /lib/libpthread.so.0
#1  0x101261bc in collection_thread (unused=&lt;value optimized out&gt;) at
collection.c:34
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#2  0x0fc56e3c in start_thread (arg=&lt;value optimized out&gt;) at
pthread_create.c:299
#3  0x0fe0b670 in clone () from /lib/libc.so.6
Backtrace stopped: previous frame inner to this frame (corrupt stack?)

Thread 1 (Thread 0xf7fe2000 (LWP 31743)):
#0  _wordcopy_fwd_aligned (dstp=&lt;value optimized out&gt;, srcp=&lt;value optimized
out&gt;, len=144)
    at wordcopy.c:110
#1  0x0fd9e184 in memcpy (dstpp=&lt;value optimized out&gt;, srcpp=&lt;value optimized
out&gt;,
    len=&lt;value optimized out&gt;) at memcpy.c:55
#2  0x10196610 in mono_codegen (cfg=0x102f6a98) at mini.c:11970
#3  0x101985b4 in mini_method_compile (method=0x102f1250, opts=22096127,
domain=0xf7fb6ee0,
    run_cctors=1, compile_aot=0, parts=0) at mini.c:12638
#4  0x10199918 in mono_jit_compile_method_inner (method=0x102f1250,
target_domain=0xf7fb6ee0,
    opt=22096127) at mini.c:12954
#5  0x1019a2c4 in mono_jit_compile_method_with_opt (method=0x102f1250,
opt=22096127)
    at mini.c:13144
#6  0x1019a3f8 in mono_jit_compile_method (method=0x102f1250) at mini.c:13162
#7  0x100833e4 in mono_compile_method (method=&lt;value optimized out&gt;) at
object.c:528
#8  0x1002872c in mono_magic_trampoline (regs=0xffd12d8c, code=0xf7610c78
&quot;\200\001&quot;,
    m=0x102f1250, tramp=0xf75e2d60 &quot;\020a!&#1044;&quot;) at mini-trampolines.c:249
#9  0xf7ff2114 in ?? ()
#10 0xf7610c78 in ?? ()
#11 0xf75e09b8 in ?? ()
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#12 0xf75df7b8 in ?? ()
#13 0xf75df45c in ?? ()
#14 0xf75de5bc in ?? ()
#15 0xf75de0e4 in ?? ()
#16 0xf75de04c in ?? ()
#17 0xf75dde80 in ?? ()
#18 0xf7605404 in ?? ()
#19 0xf765ed98 in ?? ()
#20 0xf765ea24 in ?? ()
#21 0xf765e6dc in ?? ()
#22 0xf7606090 in ?? ()
#23 0xf7605fac in ?? ()
#24 0xf7605e44 in ?? ()
#25 0xf760d830 in ?? ()
#26 0xf75d56d0 in ?? ()
#27 0xf760dfbc in ?? ()
#28 0xf760d888 in ?? ()
#29 0xf74dc6dc in ?? ()
#30 0xf760a2c4 in ?? ()
#31 0xf7606660 in ?? ()
#32 0xf763ba74 in ?? ()
#33 0xf763b398 in ?? ()
#34 0xf7639e30 in ?? ()
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#35 0xf7cb80b8 in ?? ()
#36 0xf7cb0380 in ?? ()
#37 0x1019a954 in mono_jit_runtime_invoke (method=0x0, obj=0xf75e1aa0,
params=0xffffffff,
    exc=0x0) at mini.c:13300
Backtrace stopped: previous frame inner to this frame (corrupt stack?)
Current language:  auto; currently asm
Current language:  auto; currently c
(gdb) quit
The program is running.  Exit anyway? (y or n) y

Let me know if you need some extra info.

Yury


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="080534.html">[Mono-bugs] [Bug 431539] Segmentation Fault in mcs/gmcs
</A></li>
	<LI>Next message: <A HREF="080268.html">[Mono-bugs] [Bug 431587] New: RectangleF.Intersect(RectangleF rect)	error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81617">[ date ]</a>
              <a href="thread.html#81617">[ thread ]</a>
              <a href="subject.html#81617">[ subject ]</a>
              <a href="author.html#81617">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
