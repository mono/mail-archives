<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 75397][Nor] New - Mono 1.1.8.1 hangs during
	compiling.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2075397%5D%5BNor%5D%20New%20-%20Mono%201.1.8.1%20hangs%20during%0A%09compiling.&In-Reply-To=bug-75397%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031048.html">
   <LINK REL="Next"  HREF="031050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 75397][Nor] New - Mono 1.1.8.1 hangs during
	compiling.</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2075397%5D%5BNor%5D%20New%20-%20Mono%201.1.8.1%20hangs%20during%0A%09compiling.&In-Reply-To=bug-75397%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 75397][Nor] New - Mono 1.1.8.1 hangs during
	compiling.">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Mon Jun 27 21:57:57 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="031048.html">[Mono-bugs] [Bug 75394][Min] Changed - Can't WriteRequest to HTTPS
	URL
</A></li>
        <LI>Next message: <A HREF="031050.html">[Mono-bugs] [Bug 75397][Nor] Changed - Mono 1.1.8.1 hangs during
	compiling.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31049">[ date ]</a>
              <a href="thread.html#31049">[ thread ]</a>
              <a href="subject.html#31049">[ subject ]</a>
              <a href="author.html#31049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">tmclaugh at sdf.lonestar.org.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=75397">http://bugzilla.ximian.com/show_bug.cgi?id=75397</A>

--- shadow/75397	2005-06-27 21:57:56.000000000 -0400
+++ shadow/75397.tmp.27331	2005-06-27 21:57:57.000000000 -0400
@@ -0,0 +1,229 @@
+Bug#: 75397
+Product: Mono: Runtime
+Version: 1.1
+OS: other
+OS Details: FreeBSD 5.4-RELEASE-p2 i386
+Status: NEW   
+Resolution: 
+Severity: 
+Priority: Normal
+Component: misc
+AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>                            
+ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">tmclaugh at sdf.lonestar.org</A>               
+QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
+TargetMilestone: ---
+URL: 
+Cc: 
+Summary: Mono 1.1.8.1 hangs during compiling.
+
+Please fill in this template when reporting a bug, unless you know what you
+are doing.
+
+Description of Problem:
+While compiling Mono 1.1.8.1 on FreeBSD compilation often hangs.  This has
+happened when building 1.1.8.1 with 1.1.8 or 1.1.8.1 already installed.
+
+Steps to reproduce the problem:
+1. unpack latest release source
+2. ./configure &amp;&amp; make
+
+Actual Results:
+Compilation frequently hangs.
+
+Expected Results:
+Compilation doesn't hang.
+
+How often does this happen? 
+Regularly but now always.  I have been able to build 1.1.8 and 1.1.8.1 at
+least once.
+
+Additional Information:
+
+Aproximate error point, sometimes hangs earlier:
+gmake[8]: Entering directory
+`/usr/ports/lang/mono/work/mono-1.1.8.1/mcs/class/System'
+** Warning: System.dll built without parts that depend on: System.Xml.dll
+mcs   -d:NET_1_1 -d:ONLY_1_1 -d:BOOTSTRAP_WITH_OLDLIB -debug /noconfig
+/r:mscorlib.dll /target:library /out:System.dll  @System.dll.sources
+System.Text.RegularExpressions/interpreter.cs(76) warning CS0162:
+Unreachable code detected
+System.Configuration/ConfigurationSettings.cs(91) warning CS0169: The
+private method
+'System.Configuration.ConfigurationSettings.ChangeConfigurationSystem(
+System.Configuration.IConfigurationSystem)' is never used
+System.Configuration/ConfigurationSettings.cs(203) warning CS0169: The
+private field 'System.Configuration.ConfigurationData.pending' is never used
+System.Configuration/ConfigurationSettings.cs(204) warning CS0169: The
+private field 'System.Configuration.ConfigurationData.fileName' is never used
+System.Configuration/ConfigurationSettings.cs(206) warning CS0169: The
+private field 'System.Configuration.ConfigurationData.groupMark' is never used
+Compilation succeeded - 5 warning(s)
+:  System.dll ../../class/mono.snk
+mv System.dll ../../class/lib/basic/System.dll
+test ! -f System.dll.mdb || mv System.dll.mdb
+../../class/lib/basic/System.dll.mdb
+gmake[8]: Leaving directory
+`/usr/ports/lang/mono/work/mono-1.1.8.1/mcs/class/System'
+gmake[7]: Leaving directory
+`/usr/ports/lang/mono/work/mono-1.1.8.1/mcs/class/System'
+gmake[7]: Entering directory
+`/usr/ports/lang/mono/work/mono-1.1.8.1/mcs/class/System.XML'
+Creating ../../build/deps/basic_System.Xml.dll.makefrag ...
+gmake[7]: Leaving directory
+`/usr/ports/lang/mono/work/mono-1.1.8.1/mcs/class/System.XML'
+gmake[7]: Entering directory
+`/usr/ports/lang/mono/work/mono-1.1.8.1/mcs/class/System.XML'
+gmake all-local
+gmake[8]: Entering directory
+`/usr/ports/lang/mono/work/mono-1.1.8.1/mcs/class/System.XML'
+../../jay/jay -ct &lt; ../../jay/skeleton.cs System.Xml.XPath/Parser.jay
+&gt;System.Xml.XPath/Parser.cs
+../../jay/jay: 21 rules never reduced
+../../jay/jay: 1 shift/reduce conflict, 42 reduce/reduce conflicts.
+sed &quot;s/\%start Expr/\%start Pattern/&quot; System.Xml.XPath/Parser.jay
+&gt;Mono.Xml.Xsl/PatternParser.jay
+echo &quot;#define XSLT_PATTERN&quot; &gt; Mono.Xml.Xsl/PatternParser.cs
+../../jay/jay -ct Mono.Xml.Xsl/PatternParser.jay &lt; ../../jay/skeleton.cs
+&gt;&gt;Mono.Xml.Xsl/PatternParser.cs
+../../jay/jay: 3 rules never reduced
+../../jay/jay: 1 shift/reduce conflict, 46 reduce/reduce conflicts.
+echo &quot;#define XSLT_PATTERN&quot; &gt; Mono.Xml.Xsl/PatternTokenizer.cs
+cat System.Xml.XPath/Tokenizer.cs &gt;&gt;Mono.Xml.Xsl/PatternTokenizer.cs
+MONO_PATH=&quot;../../class/lib/basic:$MONO_PATH&quot;
+/usr/ports/lang/mono/work/mono-1.1.8.1/runtime/mono-wrapper 
+../../class/lib/basic/mcs.exe   -d:NET_1_1 -d:ONLY_1_1
+-d:BOOTSTRAP_WITH_OLDLIB -debug /noconfig /lib:/usr/local/lib /noconfig
+/unsafe /r:mscorlib.dll /r:System.dll /nowarn:0162 /nowarn:0618
+/nowarn:0612 /target:library /out:System.Xml.dll System.Xml.XPath/Parser.cs
+Mono.Xml.Xsl/PatternParser.cs Mono.Xml.Xsl/PatternTokenizer.cs
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">+ at System.Xml.dll.sources</A>
+
+
+Backtrace on the bin/mono process that was handling the compiling.
+
+#0  0x283ca7fb in semget () from /lib/libc.so.5
+No symbol table info available.
+#1  0x080ded71 in _wapi_shm_semaphores_init () at shared.c:278
+        key = 348268349
+        oldkey = 135894244
+        defs = {val = -1077945104, buf = 0xbfbfdcf0, array = 0xbfbfdcf0}
+        def_vals = {1, 1, 1, 1, 1, 1, 1, 1}
+        i = 28
+        retries = 1
+        __func__ = &quot;_wapi_shm_semaphores_init&quot;
+#2  0x080d415e in shared_init () at handles.c:127
+        thr_ret = 28
+        idx = 2
+        __PRETTY_FUNCTION__ = &quot;shared_init&quot;
+#3  0x080dc149 in mono_once (once=0x8197558, once_init=0x80d40bc &lt;shared_init&gt;)
+    at mono-mutex.c:80
+        thr_ret = 28
+        __PRETTY_FUNCTION__ = &quot;mono_once&quot;
+#4  0x080d45c7 in _wapi_handle_new (type=WAPI_HANDLE_THREAD,
+    handle_specific=0xbfbfdda0) at handles.c:331
+        handle_idx = 0
+        handle = 0xbfbfdda8
+        thr_ret = 28
+        __PRETTY_FUNCTION__ = &quot;_wapi_handle_new&quot;
+#5  0x080e10ad in thread_attach (tid=0x0) at threads.c:450
+        thread_handle = {state = THREAD_STATE_START, exitstatus = 0,
+  owner_pid = 31414, thread = 0x0, joined = 0}
+        thread_handle_p = (struct _WapiHandle_thread *) 0x283d7874
+        handle = 0xbfbfddb4
+        ok = 28
+        ret = 28
+        thr_ret = 28
+        i = 0
+        unrefs = 0
+        ta_ret = 0x0
+        __func__ = &quot;thread_attach&quot;
+        __PRETTY_FUNCTION__ = &quot;thread_attach&quot;
+#6  0x080e1493 in GetCurrentThread () at threads.c:573
+        ret = 0x0
+        tid = 135979008
+        thr_ret = 28
+        __PRETTY_FUNCTION__ = &quot;GetCurrentThread&quot;
+#7  0x080bc9e4 in search_loaded (aname=0x81e9388, refonly=0) at assembly.c:238
+        tmp = (GList *) 0x0
+        ass = (MonoAssembly *) 0x0
+#8  0x080bd95c in mono_assembly_load_from_full (image=0x81eac00,
+    fname=0x81b1c40 &quot;../../class/lib/basic/mscorlib.dll&quot;, status=0xbfbfdf0c,
+    refonly=0) at assembly.c:971
+        ass = (MonoAssembly *) 0x81e9380
+        ass2 = (MonoAssembly *) 0x81e9388
+        base_dir = 0x81eb500
+&quot;/usr/ports/lang/mono/work/mono-1.1.8.1/mcs/class/lib/basic/&quot;
+        loading = (GList *) 0x1c
+        ass_loading = (GHashTable *) 0x81e9388
+#9  0x080bd899 in mono_assembly_open_full (
+    filename=0x81b1a80 &quot;../../class/lib/basic/mscorlib.dll&quot;,
+    status=0xbfbfdf0c, refonly=0) at assembly.c:888
+        image = (MonoImage *) 0x1c
+        ass = (MonoAssembly *) 0x81b1a80
+        def_status = 3217022636
+        fname = (gchar *) 0x81b1c40 &quot;../../class/lib/basic/mscorlib.dll&quot;
+        __PRETTY_FUNCTION__ = &quot;mono_assembly_open_full&quot;
+#10 0x080bca7a in load_in_path (basename=0x8183b44 &quot;mscorlib.dll&quot;,
+    search_path=0x81a74b0, status=0xbfbfdf0c, refonly=0 '\0') at assembly.c:259
+        i = 0
+        fullpath = 0x81b1a80 &quot;../../class/lib/basic/mscorlib.dll&quot;
+        result = (MonoAssembly *) 0xbfbfdf0c
+#11 0x080be46c in mono_assembly_load_corlib (runtime=0x8184200,
+    status=0xbfbfdf0c) at assembly.c:1376
+        corlib_file = 0x0
+#12 0x080bef93 in mono_init_internal (
+    filename=0xbfbfe375 &quot;../../class/lib/basic/mcs.exe&quot;, exe_filename=0x0,
+    runtime_version=0xbfbfdf0c &quot;&quot;) at domain.c:411
+        domain = (MonoDomain *) 0x81d7ed8
+        ass = (MonoAssembly *) 0x0
+        status = MONO_IMAGE_OK
+        runtimes = {0x8184200, 0x0, 0xbfbfdf38, 0x807347d}
+        n = 0
+        __PRETTY_FUNCTION__ = &quot;mono_init_internal&quot;
+#13 0x080bfdc7 in mono_init_from_assembly (
+    domain_name=0xbfbfe375 &quot;../../class/lib/basic/mcs.exe&quot;,
+    filename=0xbfbfe375 &quot;../../class/lib/basic/mcs.exe&quot;) at domain.c:681
+No locals.
+#14 0x08118051 in mini_init (
+    filename=0xbfbfe375 &quot;../../class/lib/basic/mcs.exe&quot;) at mini.c:9964
+        domain = (MonoDomain *) 0xbfbfe375
+#15 0x0805c773 in mono_main (argc=23, argv=0xbfbfe0bc) at driver.c:837
+        cerror = 0xbfbfe32e &quot;--config&quot;
+        clibpath = 0xbfbfe337
+&quot;/usr/ports/lang/mono/work/mono-1.1.8.1/runtime/wrapper-config&quot;
+        main_args = {domain = 0x2819dcea, file = 0x2819da14
+&quot;[\201\uffff\uffff{\001&quot;,
+  argc = 1, argv = 0x281b55d8, opts = 3217023024,
+  aot_options = 0x2819dcd5 &quot;\215v&quot;}
+        assembly = (MonoAssembly *) 0xbfbfe32e
+        desc = (MonoMethodDesc *) 0xbfbfe337
+        method = (MonoMethod *) 0x813c7d0
+        cfg = (MonoCompile *) 0xbfbfe32e
+        domain = (MonoDomain *) 0x804eb10
+        aname = 0xbfbfe337
+&quot;/usr/ports/lang/mono/work/mono-1.1.8.1/runtime/wrapper-config&quot;
+        mname = 0x0
+        config_file = 0xbfbfe337
+&quot;/usr/ports/lang/mono/work/mono-1.1.8.1/runtime/wrapper-config&quot;
+        i = 3
+        count = 1
+        enable_debugging = 0
+        opt = 92555
+        action = 3
+        mono_graph_options = 0
+        mini_verbose = 0
+        enable_profile = 0
+        trace_options = 0x0
+        profile_options = 0x0
+        aot_options = 0x0
+#16 0x0805b2e3 in main (argc=23, argv=0xbfbfe0bc) at main.c:6
+
+[<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">root at compass</A>:ttyp3 work]# mono --version
+Mono JIT compiler version 1.1.8.1, (C) 2002-2005 Novell, Inc and
+Contributors. www.mono-project.com
+        TLS:           normal
+        GC:            Included Boehm (with typed GC)
+        SIGSEGV      : altstack
+        Globalization: normal
+
+.wapi directory from /usr/ports/lang/mono/work/ directory will be attached.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031048.html">[Mono-bugs] [Bug 75394][Min] Changed - Can't WriteRequest to HTTPS
	URL
</A></li>
	<LI>Next message: <A HREF="031050.html">[Mono-bugs] [Bug 75397][Nor] Changed - Mono 1.1.8.1 hangs during
	compiling.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31049">[ date ]</a>
              <a href="thread.html#31049">[ thread ]</a>
              <a href="subject.html#31049">[ subject ]</a>
              <a href="author.html#31049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
