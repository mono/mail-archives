<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 61218][Nor] Changed - Problem redirecting from https to http
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018718.html">
   <LINK REL="Next"  HREF="018720.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 61218][Nor] Changed - Problem redirecting from https to http
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 61218][Nor] Changed - Problem redirecting from https to http">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Thu, 15 Jul 2004 13:49:18 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="018718.html">[Mono-bugs] [Bug 56938][Nor] Changed - Directory.GetFileSystemEntries and file name case
</A></li>
        <LI> Next message: <A HREF="018720.html">[Mono-bugs] [Bug 61602][Nor] Changed - Webclient hangs after a random count of serialized requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18719">[ date ]</a>
              <a href="thread.html#18719">[ thread ]</a>
              <a href="subject.html#18719">[ subject ]</a>
              <a href="author.html#18719">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:sebastien@ximian.com.">sebastien@ximian.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=61218">http://bugzilla.ximian.com/show_bug.cgi?id=61218</A>

--- shadow/61218	2004-07-15 09:00:54.000000000 -0400
+++ shadow/61218.tmp.13902	2004-07-15 13:49:18.000000000 -0400
@@ -1,12 +1,12 @@
 Bug#: 61218
 Product: Mono: Class Libraries
 Version: unspecified
 OS: All
 OS Details: 
-Status: NEEDINFO   
+Status: REOPENED   
 Resolution: 
 Severity: Unknown
 Priority: Normal
 Component: System
 AssignedTo: <A HREF="mailto:sebastien@ximian.com">sebastien@ximian.com</A>                            
 ReportedBy: <A HREF="mailto:miguelanxo@telefonica.net">miguelanxo@telefonica.net</A>               
@@ -391,6 +391,95 @@
 -------------------------------
 RewriteEngine on
 RewriteRule cita/paso3.php
 <A HREF="http://miguelanxo.galpon.org/cita/paso4omi.php">http://miguelanxo.galpon.org/cita/paso4omi.php</A> [R]
 
 If you need more help, just ask.
+
+------- Additional Comments From <A HREF="mailto:sebastien@ximian.com">sebastien@ximian.com</A>  2004-07-15 13:49 -------
+Results with tlstest
+
+1. Using stream - we see the redirection
+
+# mono tlstest.exe --stream --show
+<A HREF="https://miguelanxo.galpon.org/cita/paso3.php">https://miguelanxo.galpon.org/cita/paso3.php</A>
+ 
+<A HREF="https://miguelanxo.galpon.org/cita/paso3.php">https://miguelanxo.galpon.org/cita/paso3.php</A>
+CERTIFICATE:
+        Format:  X509
+        Name:  C=XY, S=Snake Desert, L=Snake Town, O=&quot;Snake Oil, Ltd&quot;,
+OU=Webserver Team, CN=www.snakeoil.dom, E=<A HREF="mailto:www@snakeoil.dom">www@snakeoil.dom</A>
+        Issuing CA:  C=XY, S=Snake Desert, L=Snake Town, O=&quot;Snake Oil,
+Ltd&quot;, OU=Certificate Authority, CN=Snake Oil CA, E=<A HREF="mailto:ca@snakeoil.dom">ca@snakeoil.dom</A>
+        Key Algorithm:  1.2.840.113549.1.1.1
+        Serial Number:  01
+        Key Alogrithm Parameters:  0500
+        Public Key: 
+30818902818100A46E53140ADE2CE360559AF242A6AF47122F17CEFABADC4E635634B9BA734B78443DC66C69A425B361029D09043F723DD827D3B05A4577B736E42623CC12B8AEDEA7B63A823C7C24590AF896438BA329363F917F5DC72394297F0ACE0ABD8D9B2F1917AAD58EEC66A237EB3F57533CF2AABB79194B907EA7A399FE844C89F03D0203010001
+ 
+ 
+        Valid From:  3/5/2003 8:47:45 AM
+        Valid Until: 3/3/2008 8:47:45 AM
+ 
+Error #-2146762481: CERT_E_CN_NO_MATCH 0x800B010F
+Error #-2146762486: CERT_E_CHAINING 0x800B010A
+ 
+&lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;
+&lt;HTML&gt;&lt;HEAD&gt;
+&lt;TITLE&gt;302 Found&lt;/TITLE&gt;
+&lt;/HEAD&gt;&lt;BODY&gt;
+&lt;H1&gt;Found&lt;/H1&gt;
+The document has moved &lt;A
+HREF=&quot;<A HREF="http://miguelanxo.galpon.org/cita/paso4omi.php"">http://miguelanxo.galpon.org/cita/paso4omi.php&quot;</A>&gt;here&lt;/A&gt;.&lt;P&gt;
+&lt;HR&gt;
+&lt;ADDRESS&gt;Apache/1.3.31 Server at miguelanxo.galpon.org Port 443&lt;/ADDRESS&gt;
+&lt;/BODY&gt;&lt;/HTML&gt;
+
+
+2. Using WebRequest (tlstest always use GET) - we get a 400 error
+
+# mono tlstest.exe --web --show
+<A HREF="https://miguelanxo.galpon.org/cita/paso3.php">https://miguelanxo.galpon.org/cita/paso3.php</A>
+ 
+<A HREF="https://miguelanxo.galpon.org/cita/paso3.php">https://miguelanxo.galpon.org/cita/paso3.php</A>
+CERTIFICATE:
+        Format:  X509
+        Name:  C=XY, S=Snake Desert, L=Snake Town, O=&quot;Snake Oil, Ltd&quot;,
+OU=Webserver Team, CN=www.snakeoil.dom, E=<A HREF="mailto:www@snakeoil.dom">www@snakeoil.dom</A>
+        Issuing CA:  C=XY, S=Snake Desert, L=Snake Town, O=&quot;Snake Oil,
+Ltd&quot;, OU=Certificate Authority, CN=Snake Oil CA, E=<A HREF="mailto:ca@snakeoil.dom">ca@snakeoil.dom</A>
+        Key Algorithm:  1.2.840.113549.1.1.1
+        Serial Number:  01
+        Key Alogrithm Parameters:  0500
+        Public Key: 
+30818902818100A46E53140ADE2CE360559AF242A6AF47122F17CEFABADC4E635634B9BA734B78443DC66C69A425B361029D09043F723DD827D3B05A4577B736E42623CC12B8AEDEA7B63A823C7C24590AF896438BA329363F917F5DC72394297F0ACE0ABD8D9B2F1917AAD58EEC66A237EB3F57533CF2AABB79194B907EA7A399FE844C89F03D0203010001
+ 
+ 
+        Valid From:  3/5/2003 8:47:45 AM
+        Valid Until: 3/3/2008 8:47:45 AM
+ 
+Error #-2146762481: CERT_E_CN_NO_MATCH 0x800B010F
+FAILED: #-2146233079
+System.Net.WebException: The remote server returned an error: (400)
+Bad Request.
+in &lt;0x00472&gt; System.Net.HttpWebRequest:CheckFinalStatus
+(System.Net.WebAsyncResult)
+in &lt;0x00065&gt; (wrapper remoting-invoke-with-check)
+System.Net.HttpWebRequest:CheckFinalStatus (System.Net.WebAsyncResult)
+in &lt;0x001af&gt; System.Net.HttpWebRequest:EndGetResponse
+(System.IAsyncResult)
+in &lt;0x0006d&gt; System.Net.HttpWebRequest:GetResponse ()
+in &lt;0x001ff&gt; TlsTest:GetWebPage (string)
+in &lt;0x0042d&gt; TlsTest:Main (string[])
+
+
+3. Using WebRequest to get the redirected URL (http)
+
+# mono tlstest.exe --web --show
+<A HREF="http://miguelanxo.galpon.org/cita/paso4omi.php">http://miguelanxo.galpon.org/cita/paso4omi.php</A>
+ 
+<A HREF="http://miguelanxo.galpon.org/cita/paso4omi.php">http://miguelanxo.galpon.org/cita/paso4omi.php</A>
+ 
+&lt;h1&gt;GET&lt;/h1&gt;&lt;h1&gt;POST&lt;/h1&gt;
+
+
+So it indeed look like we're not redirecting correctly. 

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018718.html">[Mono-bugs] [Bug 56938][Nor] Changed - Directory.GetFileSystemEntries and file name case
</A></li>
	<LI> Next message: <A HREF="018720.html">[Mono-bugs] [Bug 61602][Nor] Changed - Webclient hangs after a random count of serialized requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18719">[ date ]</a>
              <a href="thread.html#18719">[ thread ]</a>
              <a href="subject.html#18719">[ subject ]</a>
              <a href="author.html#18719">[ author ]</a>
         </LI>
       </UL>
</body></html>
