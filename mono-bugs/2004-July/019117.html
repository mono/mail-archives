<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 61800][Wis] Changed - [PATCH] Reduce initialization code in System.Reflection.Emit.OpCode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="019116.html">
   <LINK REL="Next"  HREF="019118.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 61800][Wis] Changed - [PATCH] Reduce initialization code in System.Reflection.Emit.OpCode
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 61800][Wis] Changed - [PATCH] Reduce initialization code in System.Reflection.Emit.OpCode">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Mon, 26 Jul 2004 17:03:58 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="019116.html">[Mono-bugs] [Bug 61970][Cri] New - ASP.NET Code Behind directive does not take current directory
</A></li>
        <LI> Next message: <A HREF="019118.html">[Mono-bugs] [Bug 61986][Min] New - assembler.exe doesn't handle --hb properly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19117">[ date ]</a>
              <a href="thread.html#19117">[ thread ]</a>
              <a href="subject.html#19117">[ subject ]</a>
              <a href="author.html#19117">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:bmaurer@users.sf.net.">bmaurer@users.sf.net.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=61800">http://bugzilla.ximian.com/show_bug.cgi?id=61800</A>

--- shadow/61800	2004-07-26 10:51:34.000000000 -0400
+++ shadow/61800.tmp.8182	2004-07-26 17:03:58.000000000 -0400
@@ -63,6 +63,22 @@
 Please use a OpCodeIndex.Last value instead of the magic 8 value (I
 would also drop the get method since it's used in so few places and
 it's so small.
 We also need the script used to generate the code in cvs.
 Thanks.
 
+
+------- Additional Comments From <A HREF="mailto:bmaurer@users.sf.net">bmaurer@users.sf.net</A>  2004-07-26 17:03 -------
+Some additional thoughts about lupus' comments:
+
+- If you make the index values easily computateable from op1 and op2,
+there is no need to store the index value. So, you could make the
+first two bytes be op1 and op2
+
+- The push and pop behaviors can be combined into one byte (look at
+the enumeration -- the push behavior occupies seperate bits than the
+pop behavior)
+
+- Since you have one byte left, you can inline OperandType into the struct
+
+- if you inline these items, the ILGenerator can do all of its
+operations without indexing the array

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="019116.html">[Mono-bugs] [Bug 61970][Cri] New - ASP.NET Code Behind directive does not take current directory
</A></li>
	<LI> Next message: <A HREF="019118.html">[Mono-bugs] [Bug 61986][Min] New - assembler.exe doesn't handle --hb properly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19117">[ date ]</a>
              <a href="thread.html#19117">[ thread ]</a>
              <a href="subject.html#19117">[ subject ]</a>
              <a href="author.html#19117">[ author ]</a>
         </LI>
       </UL>
</body></html>
