<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 61218][Nor] Changed - Problem redirecting from https to http
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018682.html">
   <LINK REL="Next"  HREF="018684.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 61218][Nor] Changed - Problem redirecting from https to http
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 61218][Nor] Changed - Problem redirecting from https to http">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Wed, 14 Jul 2004 23:38:49 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="018682.html">[Mono-bugs] [Bug 61530][Nor] Changed - XmlReader.ReadBase64 cannot decode Base64
</A></li>
        <LI> Next message: <A HREF="018684.html">[Mono-bugs] [Bug 61569][Maj] Changed - System.Web.UI.Page Load event fires twice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18683">[ date ]</a>
              <a href="thread.html#18683">[ thread ]</a>
              <a href="subject.html#18683">[ subject ]</a>
              <a href="author.html#18683">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:sebastien@ximian.com.">sebastien@ximian.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=61218">http://bugzilla.ximian.com/show_bug.cgi?id=61218</A>

--- shadow/61218	2004-07-14 20:35:27.000000000 -0400
+++ shadow/61218.tmp.22486	2004-07-14 23:38:49.000000000 -0400
@@ -1,12 +1,12 @@
 Bug#: 61218
 Product: Mono: Class Libraries
 Version: unspecified
 OS: All
 OS Details: 
-Status: REOPENED   
+Status: NEEDINFO   
 Resolution: 
 Severity: Unknown
 Priority: Normal
 Component: System
 AssignedTo: <A HREF="mailto:sebastien@ximian.com">sebastien@ximian.com</A>                            
 ReportedBy: <A HREF="mailto:miguelanxo@telefonica.net">miguelanxo@telefonica.net</A>               
@@ -282,6 +282,95 @@
 I want to state that that cvs version broke the https to http
 redirection thing.
 
 So, I will reopen this bug just to mean what it means in the summary:
 https to http redirection doesn't work anymore.
 
+
+------- Additional Comments From <A HREF="mailto:sebastien@ximian.com">sebastien@ximian.com</A>  2004-07-14 23:38 -------
+The original hotmail case seems to work for me. When I use tlstest.exe
+using the WebRequest (--web) I get the redirected output, while the
+stream (--stream) option returns the original (redirecting) page (see
+both output). This is normal as the redirecting logic is handle by
+HttpWebRequest (so it can't work using the, more general, stream).
+
+One important thing (that bite me first time) is that both System.dll
+and Mono.Security.dll must be updated and installed (make install) in
+order to work.
+
+If this doesn't solve it, can you give us an exact test case (if
+hotmail works) and what is the result (hang, exception) ? (even if
+this is repeating exactly the first description). Thanks.
+
+
+# mono tlstest.exe --web --show <A HREF="https://www.hotmail.com">https://www.hotmail.com</A>
+ 
+<A HREF="https://www.hotmail.com">https://www.hotmail.com</A>
+CERTIFICATE:
+        Format:  X509
+        Name:  C=US, S=Washington, L=Redmond, O=Microsoft, OU=MSNTerms
+of use at www.verisign.com/rpa (c)00, CN=cb.msn.com
+        Issuing CA:  DC=com, DC=microsoft, DC=corp, DC=redmond,
+CN=Microsoft Secure Server Authority
+        Key Algorithm:  1.2.840.113549.1.1.1
+        Serial Number:  CF060000000034777833
+        Key Alogrithm Parameters:  0500
+        Public Key: 
+30818902818100B4238EB56B2963050259085746076E1D1B456ADBE343403ACC1C79DCAF9CECD1762DED2A43454F4BD543154A52D8096716A117673362AE9D117DA62EE65995E9FC28383B93478353835B2D4A14B8CEC5564246D70B7BD27E0B8F33098DA9A3728D9BED4B4CD5B480BAC654F32CC4283970867045072A6AAD91D13260545F69930203010001
+ 
+ 
+        Valid From:  6/25/2003 12:35:32 PM
+        Valid Until: 6/24/2004 12:35:32 PM
+ 
+Error #-2146762481: CERT_E_CN_NO_MATCH 0x800B010F
+ 
+&lt;html&gt;&lt;head&gt;&lt;script language=&quot;javascript&quot;&gt;var submitted =
+false;function DoSubmit(){if (!submitted){submitted =
+true;document.hiddenform.submit();}}function
+OnBack(){}&lt;/script&gt;&lt;/head&gt;&lt;body onload=&quot;javascript:DoSubmit();&quot;&gt;&lt;form
+name=hiddenform action=&quot;<A HREF="http://login.passport.net/uilogin.srf?id=2"">http://login.passport.net/uilogin.srf?id=2&quot;</A>
+method=POST target=&quot;_top&quot;&gt;&lt;input type=hidden name=&quot;mspprawqs&quot;
+value=&quot;aWQ9MiZzdmM9bWFpbCZjYmlkPTI0MzI1Jm1zcHBqcGg9MSZ0dz0wJmZzPTEmZnNhPTEmZnNhdD0xMjk2MDAwJmxjPTEwMzMmX2xhbmc9RU4=&quot;&gt;&lt;BR&gt;&lt;input
+type=hidden name=&quot;mspppostint&quot;
+value=&quot;cHJlPSZ1aWNvZGU9MA==&quot;&gt;&lt;BR&gt;&lt;noscript&gt;&lt;META HTTP-EQUIV=&quot;REFRESH&quot;
+CONTENT=&quot;0;
+URL=<A HREF="http://memberservices.passport.net/MSRV_JSRequired.srf?lc=1033&id=2&svc=mail&cbid=24325&msppjph=1&tw=0&fs=1&fsa=1&fsat=1296000&lc=1033&_lang=EN"">http://memberservices.passport.net/MSRV_JSRequired.srf?lc=1033&amp;id=2&amp;svc=mail&amp;cbid=24325&amp;msppjph=1&amp;tw=0&amp;fs=1&amp;fsa=1&amp;fsat=1296000&amp;lc=1033&amp;_lang=EN&quot;</A>&gt;&lt;/noscript&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;
+
+
+
+# mono tlstest.exe --stream --show <A HREF="https://www.hotmail.com">https://www.hotmail.com</A>
+ 
+<A HREF="https://www.hotmail.com">https://www.hotmail.com</A>
+CERTIFICATE:
+        Format:  X509
+        Name:  C=US, S=Washington, L=Redmond, O=Microsoft,
+OU=Information Security, CN=cb.msn.com
+        Issuing CA:  DC=com, DC=microsoft, DC=corp, DC=redmond,
+CN=Microsoft Secure Server Authority
+        Key Algorithm:  1.2.840.113549.1.1.1
+        Serial Number:  DD1700000100B5D0F959
+        Key Alogrithm Parameters:  0500
+        Public Key: 
+30818902818100D1406E4C8E3073730BD44637D1379C422A844964C4805B5AF9086CF5120B545AFB36BD6E2FFCDD929B851BE05A587671D0B4A020CBD108C80DEFDD0F57719B6E38E5C255DA5483884F94E590A6FB5623658C34D8D1E814D8EF9EBB4F8253E02B9930432E441BEC6FD1970563C639D625848A11C97D4994B5574C031F11AD0F1F0203010001
+ 
+ 
+        Valid From:  5/26/2004 3:58:38 PM
+        Valid Until: 5/26/2005 3:58:38 PM
+ 
+Error #-2146762481: CERT_E_CN_NO_MATCH 0x800B010F
+Error #-2146762486: CERT_E_CHAINING 0x800B010A
+ 
+HTTP/1.1 302 Found
+Server: Microsoft-IIS/5.0
+Date: Thu, 15 Jul 2004 03:19:02 GMT
+P3P:CP=&quot;BUS CUR CONo FIN IVDo ONL OUR PHY SAMo TELo&quot;
+Location:
+<A HREF="http://loginnet.passport.com/login.srf?id=2&svc=mail&cbid=24325&msppjph=1&tw=0&fs=1&fsa=1&fsat=1296000&lc=1033&_lang=EN">http://loginnet.passport.com/login.srf?id=2&amp;svc=mail&amp;cbid=24325&amp;msppjph=1&amp;tw=0&amp;fs=1&amp;fsa=1&amp;fsat=1296000&amp;lc=1033&amp;_lang=EN</A>
+Cache-Control: private
+Content-Type: text/html; charset=utf-8
+Content-Length: 236
+ 
+&lt;html&gt;&lt;head&gt;&lt;title&gt;Object moved&lt;/title&gt;&lt;/head&gt;&lt;body&gt;
+&lt;h2&gt;Object moved to &lt;a
+href='<A HREF="http://loginnet.passport.com/login.srf?id=2&svc=mail&cbid=24325&msppjph=1&tw=0&fs=1&fsa=1&fsat=1296000&lc=1033&_lang=EN'">http://loginnet.passport.com/login.srf?id=2&amp;svc=mail&amp;cbid=24325&amp;msppjph=1&amp;tw=0&amp;fs=1&amp;fsa=1&amp;fsat=1296000&amp;lc=1033&amp;_lang=EN'</A>&gt;here&lt;/a&gt;.&lt;/h2&gt;
+&lt;/body&gt;&lt;/html&gt;
+

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018682.html">[Mono-bugs] [Bug 61530][Nor] Changed - XmlReader.ReadBase64 cannot decode Base64
</A></li>
	<LI> Next message: <A HREF="018684.html">[Mono-bugs] [Bug 61569][Maj] Changed - System.Web.UI.Page Load event fires twice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18683">[ date ]</a>
              <a href="thread.html#18683">[ thread ]</a>
              <a href="subject.html#18683">[ subject ]</a>
              <a href="author.html#18683">[ author ]</a>
         </LI>
       </UL>
</body></html>
