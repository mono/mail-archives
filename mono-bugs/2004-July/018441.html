<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 61223][Maj] Changed - [PATCH] System.Type.GetInterfaces does not report inherited interfaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018456.html">
   <LINK REL="Next"  HREF="018466.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 61223][Maj] Changed - [PATCH] System.Type.GetInterfaces does not report inherited interfaces
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 61223][Maj] Changed - [PATCH] System.Type.GetInterfaces does not report inherited interfaces">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Thu,  8 Jul 2004 13:29:07 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="018456.html">[Mono-bugs] [Bug 61293][Wis] Changed - mcs not handling [FlagsAttribute]
</A></li>
        <LI> Next message: <A HREF="018466.html">[Mono-bugs] [Bug 58863][Nor] Changed - xsp does not work with -O=inline
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18441">[ date ]</a>
              <a href="thread.html#18441">[ thread ]</a>
              <a href="subject.html#18441">[ subject ]</a>
              <a href="author.html#18441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:grompf@sublimeintervention.com.">grompf@sublimeintervention.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=61223">http://bugzilla.ximian.com/show_bug.cgi?id=61223</A>

--- shadow/61223	2004-07-08 05:11:31.000000000 -0400
+++ shadow/61223.tmp.12077	2004-07-08 13:29:07.000000000 -0400
@@ -110,6 +110,28 @@
 is the array of interfaces implemented directly by the type.
 I think the correct fix would be to change GetInterfaces () to
 loop over the interfaces array and accumulate the interfaces
 implemented by those types in an arraylist. It may needed to also loop
 over the the parent hierarchy, but a more complete test is needed to
 check for this.
+
+------- Additional Comments From <A HREF="mailto:grompf@sublimeintervention.com">grompf@sublimeintervention.com</A>  2004-07-08 13:29 -------
+Investigated further into this today as per our discussions Paolo;
+
+If you look at the attached testcase; its actually been passed from TypeBuilder; created and 
+casted to a Type; so patching this in Type.GetInterfaces wont work; as thats back into the 
+icall land.  I think the correct behaviour might actually be to flatten at add time.
+
+Further, in terms of duplicates; it seems MS discards them after the first match; take the 
+following case
+
+interface Frank : Bob {}
+interface Sally : Bob{}
+
+class Billy : Frank, Sally {}
+
+Building that in a type builder and looping over GetInterfaces() you will get (in order):
+Frank
+Bob
+Sally
+
+-kangaroo

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018456.html">[Mono-bugs] [Bug 61293][Wis] Changed - mcs not handling [FlagsAttribute]
</A></li>
	<LI> Next message: <A HREF="018466.html">[Mono-bugs] [Bug 58863][Nor] Changed - xsp does not work with -O=inline
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18441">[ date ]</a>
              <a href="thread.html#18441">[ thread ]</a>
              <a href="subject.html#18441">[ subject ]</a>
              <a href="author.html#18441">[ author ]</a>
         </LI>
       </UL>
</body></html>
