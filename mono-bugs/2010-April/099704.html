<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 599466] New: IpcChannel constructor throws a non descriptive exception when passed a long port name.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20599466%5D%20New%3A%20IpcChannel%20constructor%20throws%20a%20non%0A%20descriptive%20exception%20when%20passed%20a%20long%20port%20name.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="099790.html">
   <LINK REL="Next"  HREF="099705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 599466] New: IpcChannel constructor throws a non descriptive exception when passed a long port name.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20599466%5D%20New%3A%20IpcChannel%20constructor%20throws%20a%20non%0A%20descriptive%20exception%20when%20passed%20a%20long%20port%20name.&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 599466] New: IpcChannel constructor throws a non descriptive exception when passed a long port name.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Apr 24 06:17:21 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="099790.html">[Mono-bugs] [Bug 599465] System.Windows.Forms throws NullReferenceException from DoubleBuffer.End
</A></li>
        <LI>Next message: <A HREF="099705.html">[Mono-bugs] [Bug 530640] Error in parsing date-time like &quot;06 Aug 2009 02:00:00 -0330&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#99704">[ date ]</a>
              <a href="thread.html#99704">[ thread ]</a>
              <a href="subject.html#99704">[ subject ]</a>
              <a href="author.html#99704">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=599466">http://bugzilla.novell.com/show_bug.cgi?id=599466</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=599466#c0">http://bugzilla.novell.com/show_bug.cgi?id=599466#c0</A>


           Summary: IpcChannel constructor throws a non descriptive
                    exception when passed a long port name.
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.6.x
          Platform: x86
        OS/Version: Mac OS X 10.6
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">stephen.anderson at ruralcoder.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_3; en-US)
AppleWebKit/533.2 (KHTML, like Gecko) Chrome/5.0.342.9 Safari/533.2

The following code thrown an exception

IpcChannel newChannel = new IpcChannel
(&quot;01234567890123456789012345678901234567890123456789012345678901234567890123456789&quot;);

System.Reflection.TargetInvocationException ( System.IndexOutOfRangeException )


Unhandled Exception: System.Reflection.TargetInvocationException: Exception has
been thrown by the target of an invocation. ---&gt;
System.IndexOutOfRangeException: Array index is out of range.
  at (wrapper managed-to-native) System.Net.Sockets.Socket:Bind_internal
(intptr,System.Net.SocketAddress,int&amp;)
  at System.Net.Sockets.Socket.Bind (System.Net.EndPoint local_end) [0x00038]
in
/private/tmp/monobuild/build/BUILD/mono-2.6.3/mcs/class/System/System.Net.Sockets/Socket.cs:1785 
  at Mono.Unix.UnixListener.Init (Mono.Unix.UnixEndPoint ep) [0x0005f] in
/private/tmp/monobuild/build/BUILD/mono-2.6.3/mcs/class/Mono.Posix/Mono.Unix/UnixListener.cs:60 
  at Mono.Unix.UnixListener..ctor (System.String path) [0x00022] in
/private/tmp/monobuild/build/BUILD/mono-2.6.3/mcs/class/Mono.Posix/Mono.Unix/UnixListener.cs:69 
  at (wrapper remoting-invoke-with-check) Mono.Unix.UnixListener:.ctor (string)
  at Mono.Remoting.Channels.Unix.UnixServerChannel.StartListening
(System.Object data) [0x00000] in
/private/tmp/monobuild/build/BUILD/mono-2.6.3/mcs/class/Mono.Posix/Mono.Remoting.Channels.Unix/UnixServerChannel.cs:214 
  at Mono.Remoting.Channels.Unix.UnixServerChannel.Init
(IServerChannelSinkProvider serverSinkProvider) [0x0004d] in
/private/tmp/monobuild/build/BUILD/mono-2.6.3/mcs/class/Mono.Posix/Mono.Remoting.Channels.Unix/UnixServerChannel.cs:82 
  at Mono.Remoting.Channels.Unix.UnixServerChannel..ctor (IDictionary
properties, IServerChannelSinkProvider serverSinkProvider) [0x00125] in
/private/tmp/monobuild/build/BUILD/mono-2.6.3/mcs/class/Mono.Posix/Mono.Remoting.Channels.Unix/UnixServerChannel.cs:109 
  at (wrapper managed-to-native) System.Reflection.MonoCMethod:InternalInvoke
(object,object[],System.Exception&amp;)
  at System.Reflection.MonoCMethod.Invoke (System.Object obj, BindingFlags
invokeAttr, System.Reflection.Binder binder, System.Object[] parameters,
System.Globalization.CultureInfo culture) [0x00000] in &lt;filename unknown&gt;:0 
  --- End of inner exception stack trace ---
  at System.Reflection.MonoCMethod.Invoke (System.Object obj, BindingFlags
invokeAttr, System.Reflection.Binder binder, System.Object[] parameters,
System.Globalization.CultureInfo culture) [0x00000] in &lt;filename unknown&gt;:0 
  at System.Reflection.MonoCMethod.Invoke (BindingFlags invokeAttr,
System.Reflection.Binder binder, System.Object[] parameters,
System.Globalization.CultureInfo culture) [0x00000] in &lt;filename unknown&gt;:0 
  at System.Activator.CreateInstance (System.Type type, BindingFlags
bindingAttr, System.Reflection.Binder binder, System.Object[] args,
System.Globalization.CultureInfo culture, System.Object[] activationAttributes)
[0x00000] in &lt;filename unknown&gt;:0 
  at System.Activator.CreateInstance (System.Type type, System.Object[] args,
System.Object[] activationAttributes) [0x00000] in &lt;filename unknown&gt;:0 
  at System.Activator.CreateInstance (System.Type type, System.Object[] args)
[0x00000] in &lt;filename unknown&gt;:0 
  at System.Runtime.Remoting.Channels.Ipc.Unix.IpcServerChannel..ctor
(IDictionary properties, IServerChannelSinkProvider serverSinkProvider)
[0x00040] in
/private/tmp/monobuild/build/BUILD/mono-2.6.3/mcs/class/System.Runtime.Remoting/System.Runtime.Remoting.Channels.Ipc.Unix/IpcServerChannel.cs:103 
  at System.Runtime.Remoting.Channels.Ipc.Unix.IpcChannel..ctor (IDictionary
properties, IClientChannelSinkProvider clientSinkProvider,
IServerChannelSinkProvider serverSinkProvider) [0x000a1] in
/private/tmp/monobuild/build/BUILD/mono-2.6.3/mcs/class/System.Runtime.Remoting/System.Runtime.Remoting.Channels.Ipc.Unix/IpcChannel.cs:82 
  at System.Runtime.Remoting.Channels.Ipc.Unix.IpcChannel..ctor (System.String
portName) [0x00000] in &lt;filename unknown&gt;:0 
  at System.Runtime.Remoting.Channels.Ipc.IpcChannel..ctor (System.String
portName) [0x00010] in
/private/tmp/monobuild/build/BUILD/mono-2.6.3/mcs/class/System.Runtime.Remoting/System.Runtime.Remoting.Channels.Ipc/IpcChannel.cs:64 


Reproducible: Always

Steps to Reproduce:
1.
2.
3.
Actual Results:  
Exception occurs which is not informative and incorrect with an also cryptic
inner exception System.IndexOutOfRangeException

Expected Results:  
No exception to be thrown (according to the MS reference documentation on
IpcChannel) and if there is one on the Mac platform, then an appropriate
exception should be thrown instead.

Limiting the size of the channel name eliminates this problem, so this
avoidable.

RARE, AVOIDABLE, LOW PRIORITY

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="099790.html">[Mono-bugs] [Bug 599465] System.Windows.Forms throws NullReferenceException from DoubleBuffer.End
</A></li>
	<LI>Next message: <A HREF="099705.html">[Mono-bugs] [Bug 530640] Error in parsing date-time like &quot;06 Aug 2009 02:00:00 -0330&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#99704">[ date ]</a>
              <a href="thread.html#99704">[ thread ]</a>
              <a href="subject.html#99704">[ subject ]</a>
              <a href="author.html#99704">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
