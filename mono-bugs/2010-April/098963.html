<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 594511] New: xbuild can't override targets from	imported file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20594511%5D%20New%3A%20xbuild%20can%27t%20override%20targets%20from%0A%09imported%20file&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="098962.html">
   <LINK REL="Next"  HREF="098971.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 594511] New: xbuild can't override targets from	imported file</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20594511%5D%20New%3A%20xbuild%20can%27t%20override%20targets%20from%0A%09imported%20file&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 594511] New: xbuild can't override targets from	imported file">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Apr  7 14:10:46 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="098962.html">[Mono-bugs] [Bug 570647] abort in mono_method_to_ir (costs &gt; 0) while JITting a verified method
</A></li>
        <LI>Next message: <A HREF="098971.html">[Mono-bugs] [Bug 594511] xbuild can't override targets from	imported file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98963">[ date ]</a>
              <a href="thread.html#98963">[ thread ]</a>
              <a href="subject.html#98963">[ subject ]</a>
              <a href="author.html#98963">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=594511">http://bugzilla.novell.com/show_bug.cgi?id=594511</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=594511#c0">http://bugzilla.novell.com/show_bug.cgi?id=594511#c0</A>


           Summary: xbuild can't override targets from imported file
    Classification: Mono
           Product: Mono: Tools
           Version: 2.4.x
          Platform: x86-64
        OS/Version: Ubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: xbuild
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jankit at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">eli at wavemarket.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=352939)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=352939">http://bugzilla.novell.com/attachment.cgi?id=352939</A>)
contains project files described in test steps

User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.8)
Gecko/20100214 Ubuntu/9.10 (karmic) Firefox/3.5.8

Xbuild doesn't seem to let me override a target that's defined in an imported
file; the imported target always overrides any target of the same name from the
main project file, regardless of whether it appears before or after the import.
This makes standard hooks like &quot;BeforeBuild&quot;, defined in
Microsoft.Common.targets, impossible to use.

Reproducible: Always

Steps to Reproduce:
1. Create project file &quot;other.targets&quot; with the following targets:
   &lt;Target Name=&quot;Build&quot; DependsOnTargets=&quot;BeforeBuild&quot;&gt;
     &lt;Message Text=&quot;This is Build from other.targets&quot;/&gt;
   &lt;/Target&gt;
   &lt;Target Name=&quot;BeforeBuild&quot;&gt;
     &lt;Message Text=&quot;This is BeforeBuild from other.targets&quot;/&gt;
   &lt;/Target&gt;

2. Create project file &quot;test1.csproj&quot; whose DefaultTargets attribute is
&quot;Build&quot;, containing the following tasks:
   &lt;Import Project=&quot;other.targets&quot;/&gt;
   &lt;Target Name=&quot;BeforeBuild&quot;&gt;
     &lt;Message Text=&quot;This is BeforeBuild from test1.csproj&quot;/&gt;
   &lt;/Target&gt;

3. Create &quot;test2.csproj&quot; which is exactly the same, except that the BeforeBuild
target is defined *before* the import.

4. Run &quot;xbuild test1.csproj&quot; and &quot;xbuild test2.csproj&quot;.
Actual Results:  
The output in both cases shows that it's using the BeforeBuild target from
other.targets and ignoring the one from the main project.

Expected Results:  
If it worked the same as msbuild, then the most recently defined version of the
target should win. So in test1.csproj it would run the BeforeBuild target from
test1.csproj, and in test2.csproj it would still use the one from
other.targets.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>



















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="098962.html">[Mono-bugs] [Bug 570647] abort in mono_method_to_ir (costs &gt; 0) while JITting a verified method
</A></li>
	<LI>Next message: <A HREF="098971.html">[Mono-bugs] [Bug 594511] xbuild can't override targets from	imported file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98963">[ date ]</a>
              <a href="thread.html#98963">[ thread ]</a>
              <a href="subject.html#98963">[ subject ]</a>
              <a href="author.html#98963">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
