<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 601033] New: System.Windows.Form ABENDs in XplatUICarbon.SetWindowPos
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20601033%5D%20New%3A%20System.Windows.Form%20ABENDs%20in%0A%20XplatUICarbon.SetWindowPos&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="100013.html">
   <LINK REL="Next"  HREF="100015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 601033] New: System.Windows.Form ABENDs in XplatUICarbon.SetWindowPos</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20601033%5D%20New%3A%20System.Windows.Form%20ABENDs%20in%0A%20XplatUICarbon.SetWindowPos&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 601033] New: System.Windows.Form ABENDs in XplatUICarbon.SetWindowPos">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Apr 29 14:44:16 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="100013.html">[Mono-bugs] [Bug 591727] Using typeof on nested generic classes throws runtime exception
</A></li>
        <LI>Next message: <A HREF="100015.html">[Mono-bugs] [Bug 601101] New: GroupBy excludes groups with a null key if they are the last grouping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#100014">[ date ]</a>
              <a href="thread.html#100014">[ thread ]</a>
              <a href="subject.html#100014">[ subject ]</a>
              <a href="author.html#100014">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=601033">http://bugzilla.novell.com/show_bug.cgi?id=601033</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=601033#c0">http://bugzilla.novell.com/show_bug.cgi?id=601033#c0</A>


           Summary: System.Windows.Form ABENDs in
                    XplatUICarbon.SetWindowPos
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.6.x
          Platform: x86
        OS/Version: Mac OS X 10.5
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">dean.geddes at primus.ca</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=357891)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=357891">http://bugzilla.novell.com/attachment.cgi?id=357891</A>)
Code sample

User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1;
Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729)

When I run the application using MonoDevelop in Debug mode the system hangs on
the A1.ShowDialog() statement when attempting to show AutoRecoveryPopup.

When I run the app outside of debug mode the program ABENDs.

Please note:  The catch in the try/catch statement is never hit.

Following is the stack trace:

Stacktrace:

  at (wrapper managed-to-native)
System.Windows.Forms.XplatUICarbon.SetWindowBounds
(intptr,uint,System.Windows.Forms.CarbonInternal.Rect&amp;) &lt;0x00004&gt;
  at (wrapper managed-to-native)
System.Windows.Forms.XplatUICarbon.SetWindowBounds
(intptr,uint,System.Windows.Forms.CarbonInternal.Rect&amp;) &lt;0x00004&gt;
  at System.Windows.Forms.XplatUICarbon.SetWindowPos (intptr,int,int,int,int)
[0x0019c] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/XplatUICarbon.cs:1940
  at System.Windows.Forms.XplatUI.SetWindowPos (intptr,int,int,int,int)
[0x00000] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/XplatUI.cs:1095
  at System.Windows.Forms.Control.SetBoundsCoreInternal
(int,int,int,int,System.Windows.Forms.BoundsSpecified) [0x00028] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:4976
  at System.Windows.Forms.Control.SetBoundsCore
(int,int,int,int,System.Windows.Forms.BoundsSpecified) [0x00000] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:4964
  at System.Windows.Forms.Form.SetBoundsCore
(int,int,int,int,System.Windows.Forms.BoundsSpecified) [0x0009a] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Form.cs:2409
  at System.Windows.Forms.Control.SetBoundsInternal
(int,int,int,int,System.Windows.Forms.BoundsSpecified) [0x000a8] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:4419
  at System.Windows.Forms.Control.SetBounds
(int,int,int,int,System.Windows.Forms.BoundsSpecified) [0x00044] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:4404
  at System.Windows.Forms.Control.ScaleCore (single,single) [0x0001c] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:4935
  at System.Windows.Forms.ScrollableControl.ScaleCore (single,single) [0x0000d]
in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/ScrollableControl.cs:740
  at System.Windows.Forms.Form.ScaleCore (single,single) [0x00000] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Form.cs:2358
  at System.Windows.Forms.Control.Scale (single,single) [0x00000] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:4288
  at System.Windows.Forms.Form.ApplyAutoScaling () [0x000e7] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Form.cs:1917
  at System.Windows.Forms.Form.OnLoadInternal (System.EventArgs) [0x0000b] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Form.cs:2977
  at System.Windows.Forms.Form.OnCreateControl () [0x00027] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Form.cs:2105
  at System.Windows.Forms.Control.CreateControl () [0x000a3] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:3804
  at System.Windows.Forms.Control.SetVisibleCore (bool) [0x00043] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:5072
  at System.Windows.Forms.Form.SetVisibleCore (bool) [0x0007b] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Form.cs:2461
  at System.Windows.Forms.Control.set_Visible (bool) [0x0000c] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:3436
  at (wrapper remoting-invoke-with-check)
System.Windows.Forms.Control.set_Visible (bool) &lt;IL 0x00033, 0x00057&gt;
  at System.Windows.Forms.Application.RunLoop
(bool,System.Windows.Forms.ApplicationContext) [0x00059] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Application.cs:864
  at System.Windows.Forms.Application.Run
(System.Windows.Forms.ApplicationContext) [0x00014] in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Application.cs:763
  at System.Windows.Forms.Application.Run (System.Windows.Forms.Form) [0x00000]
in
/private/tmp/monobuild/build/BUILD/mono-2.6.4/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Application.cs:742
  at PiPe.DisplayManager.Main (string[]) [0x0006b] in
/Development/Mono.Popup.Error/PiPe
Modules/pipe/PiPe/source/DisplayManager.cs:1173
  at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_void_object
(object,intptr,intptr,intptr) &lt;IL 0x0001d, 0x00043&gt;
The application was terminated by a signal: SIGIOT


Reproducible: Always

Steps to Reproduce:
1. Run the attached sample
2. Watch it go boom
3.
Actual Results:  
Program ABENDs

Expected Results:  
AutoRecoveryPopup is displayed

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="100013.html">[Mono-bugs] [Bug 591727] Using typeof on nested generic classes throws runtime exception
</A></li>
	<LI>Next message: <A HREF="100015.html">[Mono-bugs] [Bug 601101] New: GroupBy excludes groups with a null key if they are the last grouping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#100014">[ date ]</a>
              <a href="thread.html#100014">[ thread ]</a>
              <a href="subject.html#100014">[ subject ]</a>
              <a href="author.html#100014">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
