<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 38291][Min] Changed - Strange Reflection crash.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40rocky.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="004028.html">
   <LINK REL="Next"  HREF="004030.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 38291][Min] Changed - Strange Reflection crash.
   </H1>
    <B>bugzilla-daemon@rocky.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40rocky.ximian.com"
       TITLE="[Mono-bugs] [Bug 38291][Min] Changed - Strange Reflection crash.">bugzilla-daemon@rocky.ximian.com
       </A><BR>
    <I>Thu, 27 Feb 2003 08:39:19 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="004028.html">[Mono-bugs] [Bug 38590][Nor] Changed - Reproducible exception when compiling an Enum
</A></li>
        <LI> Next message: <A HREF="004030.html">[Mono-bugs] [Bug 38291][Min] Changed - Strange Reflection crash.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4029">[ date ]</a>
              <a href="thread.html#4029">[ thread ]</a>
              <a href="subject.html#4029">[ subject ]</a>
              <a href="author.html#4029">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:martin@ximian.com.">martin@ximian.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=38291">http://bugzilla.ximian.com/show_bug.cgi?id=38291</A>

--- shadow/38291	Tue Feb 25 05:50:12 2003
+++ shadow/38291.tmp.29874	Thu Feb 27 08:39:19 2003
@@ -171,6 +171,40 @@
 [...]
 
 I put martin on the cc line because he seems to be the author of the
 cast checking code for Array.Copy() and he was also involved in the
 MemberLookup in mcs, so he might have some clues about both bugs.
 
+
+------- Additional Comments From <A HREF="mailto:martin@ximian.com">martin@ximian.com</A>  2003-02-27 08:39 -------
+By inserting a Console.WriteLine, I get the following on Windows, so this explains the InvalidCastException
+====
<A HREF="mailto:+martin@ATLANTIS">+martin@ATLANTIS</A> //townsville/martin/monocvs/work
+$ /home/martin/mcs.exe A.cs
+MEMBER: System.String Item [Int32] System.Reflection.RuntimePropertyInfo
+MEMBER: System.String Item [System.String] System.Reflection.RuntimePropertyInfo
+Exception caught by the compiler while compiling:
+   Block that caused the problem begin at: A.cs: (3)
+                     Block being compiled: [A.cs: (3),A.cs: (6)]
+
+Unhandled Exception: System.NullReferenceException: Object reference not set to an instance of an object.
+   at Mono.CSharp.MethodGroupExpr.get_IsInstance()
+   at Mono.CSharp.MemberAccess.ResolveMemberAccess(EmitContext ec, Expression member_lookup, Expression left, Location loc, 
+Expression left_original)
+   at Mono.CSharp.MemberAccess.DoResolve(EmitContext ec, Expression right_side, ResolveFlags flags)
+   at Mono.CSharp.MemberAccess.DoResolve(EmitContext ec)
+   at Mono.CSharp.Expression.Resolve(EmitContext ec, ResolveFlags flags)
+   at Mono.CSharp.ElementAccess.CommonResolve(EmitContext ec)
+   at Mono.CSharp.ElementAccess.DoResolveLValue(EmitContext ec, Expression right_side)
+   at Mono.CSharp.Expression.ResolveLValue(EmitContext ec, Expression right_side)
+   at Mono.CSharp.Assign.DoResolve(EmitContext ec)
+   at Mono.CSharp.Expression.Resolve(EmitContext ec, ResolveFlags flags)
+   at Mono.CSharp.StatementExpression.Resolve(EmitContext ec)
+   at Mono.CSharp.Block.Resolve(EmitContext ec)
+   at Mono.CSharp.EmitContext.EmitTopBlock(Block block, InternalParameters ip, Location loc)
+   at Mono.CSharp.MethodData.Emit(TypeContainer parent, Block block, Object kind)
+   at Mono.CSharp.TypeContainer.Emit()
+   at Mono.CSharp.RootContext.EmitCode()
+   at Mono.CSharp.Driver.MainDriver(String[] args)
+   at Mono.CSharp.Driver.Main(String[] args)
+
+

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004028.html">[Mono-bugs] [Bug 38590][Nor] Changed - Reproducible exception when compiling an Enum
</A></li>
	<LI> Next message: <A HREF="004030.html">[Mono-bugs] [Bug 38291][Min] Changed - Strange Reflection crash.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4029">[ date ]</a>
              <a href="thread.html#4029">[ thread ]</a>
              <a href="subject.html#4029">[ subject ]</a>
              <a href="author.html#4029">[ author ]</a>
         </LI>
       </UL>
</body></html>
