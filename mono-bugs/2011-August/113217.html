<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 695752] sqlite breaking on building a datareader after many calls (randomly)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20695752%5D%20sqlite%20breaking%20on%20building%20a%20datareader%0A%20after%20many%20calls%20%28randomly%29&In-Reply-To=bug-695752-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="113216.html">
   <LINK REL="Next"  HREF="113218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 695752] sqlite breaking on building a datareader after many calls (randomly)</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20695752%5D%20sqlite%20breaking%20on%20building%20a%20datareader%0A%20after%20many%20calls%20%28randomly%29&In-Reply-To=bug-695752-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 695752] sqlite breaking on building a datareader after many calls (randomly)">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Aug 29 21:18:46 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="113216.html">[Mono-bugs] [Bug 695752] sqlite breaking on building a datareader after many calls (randomly)
</A></li>
        <LI>Next message: <A HREF="113218.html">[Mono-bugs] [Bug 672879] ReleaseInterfaces is called by GC thread.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#113217">[ date ]</a>
              <a href="thread.html#113217">[ thread ]</a>
              <a href="subject.html#113217">[ subject ]</a>
              <a href="author.html#113217">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=695752">https://bugzilla.novell.com/show_bug.cgi?id=695752</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=695752#c7">https://bugzilla.novell.com/show_bug.cgi?id=695752#c7</A>


--- Comment #7 from james scheibel &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">j_scheibel at hotmail.com</A>&gt; 2011-08-30 01:18:43 UTC ---
I was working on the latest patch and it happened again for the first time in
months and months (think we jinxed it by talking about it!). I'm including the
error more for reference in case someone else searches on it. again, I'm not
concerned with it as my development code was... well development code, without
all the proper clean ups and what not in place.

  at (wrapper managed-to-native)
Mono.Data.Sqlite.UnsafeNativeMethods.sqlite3_prepare
(intptr,intptr,int,intptr&amp;,intptr&amp;) &lt;IL 0x0002a, 0xffffffff&gt;
  at Mono.Data.Sqlite.SQLite3.Prepare
(Mono.Data.Sqlite.SqliteConnection,string,Mono.Data.Sqlite.SqliteStatement,uint,string&amp;)
[0x00044] in
/Developer/MonoTouch/Source/mono/mcs/class/Mono.Data.Sqlite/Mono.Data.Sqlite_2.0/SQLite3.cs:258
  at Mono.Data.Sqlite.SqliteCommand.BuildNextCommand () [0x00019] in
/Developer/MonoTouch/Source/mono/mcs/class/Mono.Data.Sqlite/Mono.Data.Sqlite_2.0/SQLiteCommand.cs:230
  at Mono.Data.Sqlite.SqliteCommand.GetStatement (int) [0x0000b] in
/Developer/MonoTouch/Source/mono/mcs/class/Mono.Data.Sqlite/Mono.Data.Sqlite_2.0/SQLiteCommand.cs:264
  at (wrapper remoting-invoke-with-check)
Mono.Data.Sqlite.SqliteCommand.GetStatement (int) &lt;IL 0x00039, 0xffffffff&gt;
  at Mono.Data.Sqlite.SqliteDataReader.NextResult () [0x000cc] in
/Developer/MonoTouch/Source/mono/mcs/class/Mono.Data.Sqlite/Mono.Data.Sqlite_2.0/SQLiteDataReader.cs:891
  at Mono.Data.Sqlite.SqliteDataReader..ctor
(Mono.Data.Sqlite.SqliteCommand,System.Data.CommandBehavior) [0x00051] in
/Developer/MonoTouch/Source/mono/mcs/class/Mono.Data.Sqlite/Mono.Data.Sqlite_2.0/SQLiteDataReader.cs:89
  at (wrapper remoting-invoke-with-check)
Mono.Data.Sqlite.SqliteDataReader..ctor
(Mono.Data.Sqlite.SqliteCommand,System.Data.CommandBehavior) &lt;IL 0x00021,
0xffffffff&gt;
  at Mono.Data.Sqlite.SqliteCommand.ExecuteReader (System.Data.CommandBehavior)
[0x00006] in
/Developer/MonoTouch/Source/mono/mcs/class/Mono.Data.Sqlite/Mono.Data.Sqlite_2.0/SQLiteCommand.cs:539
  at Mono.Data.Sqlite.SqliteCommand.ExecuteReader () [0x00000] in
/Developer/MonoTouch/Source/mono/mcs/class/Mono.Data.Sqlite/Mono.Data.Sqlite_2.0/SQLiteCommand.cs:551
  at (wrapper remoting-invoke-with-check)
Mono.Data.Sqlite.SqliteCommand.ExecuteReader () &lt;IL 0x00038, 0xffffffff&gt;
  at TumulusofFen.DataAccess.exec (string) [0x00015] in
/Users/j_scheibel/Projects/TumulusOfFen/TumulusOfFen/DataAccess.cs:285
  at TumulusofFen.AppDelegate.UpdateLastPlayed () [0x00000] in
/Users/j_scheibel/Projects/TumulusOfFen/TumulusOfFen/Main.cs:297
  at TumulusofFen.NewCharacterScreen.UpdateProgressBar () [0x00215] in
/Users/j_scheibel/Projects/TumulusOfFen/TumulusOfFen/NewCharacterScreen.xib.cs:420
  at System.Threading.Thread.StartUnsafe () [0x00016] in
/Developer/MonoTouch/Source/mono/mcs/class/corlib/System.Threading/Thread.cs:684
  at (wrapper runtime-invoke) object.runtime_invoke_void__this__
(object,intptr,intptr,intptr) &lt;IL 0x0004e, 0xffffffff&gt;

Native stacktrace:

    0   TumulusofFen                        0x000c5d3b
mono_handle_native_sigsegv + 343
    1   TumulusofFen                        0x0000ff80
mono_sigsegv_signal_handler + 322
    2   libSystem.B.dylib                   0x96cbd05b _sigtramp + 43
    3   ???                                 0xffffffff 0x0 + 4294967295
    4   libsqlite3.dylib                    0x01b57863 sqlite3DbMallocZero + 19
    5   libsqlite3.dylib                    0x01b59c67 sqlite3ExprAlloc + 55
    6   libsqlite3.dylib                    0x01b59fe6 sqlite3Expr + 54
    7   libsqlite3.dylib                    0x01b91774 selectExpander + 1764
    8   libsqlite3.dylib                    0x01b4c55e sqlite3WalkSelect + 46
    9   libsqlite3.dylib                    0x01b4e970 sqlite3SelectPrep + 96
    10  libsqlite3.dylib                    0x01b83b6e sqlite3Select + 190
    11  libsqlite3.dylib                    0x01b9ab64 sqlite3Parser + 12836
    12  libsqlite3.dylib                    0x01b9c4de sqlite3RunParser + 398
    13  libsqlite3.dylib                    0x01b9ca50 sqlite3Prepare + 256
    14  libsqlite3.dylib                    0x01b9ced7 sqlite3LockAndPrepare +
151
    15  ???                                 0x0b0ded77 0x0 + 185462135
    16  ???                                 0x0b0de084 0x0 + 185458820
    17  ???                                 0x0b0ddbbf 0x0 + 185457599
    18  ???                                 0x0b0dd8f2 0x0 + 185456882
    19  ???                                 0x0b0dd872 0x0 + 185456754
    20  ???                                 0x0b0dd252 0x0 + 185455186
    21  ???                                 0x0b0dcda4 0x0 + 185453988
    22  ???                                 0x0b0dcc3e 0x0 + 185453630
    23  ???                                 0x0b0dc046 0x0 + 185450566
    24  ???                                 0x0b0e2e42 0x0 + 185478722
    25  ???                                 0x0b0e2dda 0x0 + 185478618
    26  ???                                 0x0b11ddf4 0x0 + 185720308
    27  ???                                 0x0b1240aa 0x0 + 185745578
    28  ???                                 0x0c23758c 0x0 + 203650444
    29  ???                                 0x0a8e02fa 0x0 + 177079034
    30  ???                                 0x064b1fe0 0x0 + 105586656
    31  TumulusofFen                        0x0000fd3b mono_jit_runtime_invoke
+ 1332
    32  TumulusofFen                        0x001d9ba9 mono_runtime_invoke +
137
    33  TumulusofFen                        0x001db195
mono_runtime_delegate_invoke + 111
    34  TumulusofFen                        0x00214e59 start_wrapper_internal +
692
    35  TumulusofFen                        0x00214ea7 start_wrapper + 17
    36  TumulusofFen                        0x0024f5a9 thread_start_routine +
191
    37  TumulusofFen                        0x0027886e GC_start_routine + 107
    38  libSystem.B.dylib                   0x96c84259 _pthread_start + 345
    39  libSystem.B.dylib                   0x96c840de thread_start + 34

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="113216.html">[Mono-bugs] [Bug 695752] sqlite breaking on building a datareader after many calls (randomly)
</A></li>
	<LI>Next message: <A HREF="113218.html">[Mono-bugs] [Bug 672879] ReleaseInterfaces is called by GC thread.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#113217">[ date ]</a>
              <a href="thread.html#113217">[ thread ]</a>
              <a href="subject.html#113217">[ subject ]</a>
              <a href="author.html#113217">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
