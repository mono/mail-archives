<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 705190] Thread start_delegate null
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20705190%5D%20Thread%20start_delegate%20null&In-Reply-To=bug-705190-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="113183.html">
   <LINK REL="Next"  HREF="113186.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 705190] Thread start_delegate null</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20705190%5D%20Thread%20start_delegate%20null&In-Reply-To=bug-705190-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 705190] Thread start_delegate null">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Aug 22 18:53:38 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="113183.html">[Mono-bugs] [Bug 709066] Nested UpdatePanels cause a &quot;Internal error. Invalid writer object.&quot; error with mod_mono
</A></li>
        <LI>Next message: <A HREF="113186.html">[Mono-bugs] [Bug 705190] Thread start_delegate null
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#113185">[ date ]</a>
              <a href="thread.html#113185">[ thread ]</a>
              <a href="subject.html#113185">[ subject ]</a>
              <a href="author.html#113185">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=705190">https://bugzilla.novell.com/show_bug.cgi?id=705190</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=705190#c2">https://bugzilla.novell.com/show_bug.cgi?id=705190#c2</A>


Jo Shields &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">directhex at apebox.org</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                 CC|                            |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">directhex at apebox.org</A>

--- Comment #2 from Jo Shields &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">directhex at apebox.org</A>&gt; 2011-08-22 22:53:36 UTC ---
We've been able to reproduce this bug on someone's Debian Squeeze VPS, running
a 2.6.18 Xen kernel. It also happens on two of Ubuntu's build servers, running
2.6.24 kernels (Ubuntu 8.04, with 11.10 chroots).

The problem started in Mono commit 40d02e9a1d34542c49d5b6024e7bba7d8d831af5 -
<A HREF="https://github.com/mono/mono/commit/40d02e9a1d34542c49d5b6024e7bba7d8d831af5">https://github.com/mono/mono/commit/40d02e9a1d34542c49d5b6024e7bba7d8d831af5</A> -
an invasive change to the socket code by Gonzalo.

A full stacktrace with line numbers is as follows:




vm3703:~/mono/mono/mcs/docs# MONO_CFG_DIR=/root/mono/mono/runtime/etc
MONO_PATH=&quot;./../class/lib/net_4_0:./../class/lib/net_2_0:$MONO_PATH&quot; gdb
./../mono/mini/mono
GNU gdb (GDB) 7.0.1-debian
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;<A HREF="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</A>&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;
and &quot;show warranty&quot; for details.
This GDB was configured as &quot;i486-linux-gnu&quot;.
For bug reporting instructions, please see:
&lt;<A HREF="http://www.gnu.org/software/gdb/bugs/">http://www.gnu.org/software/gdb/bugs/</A>&gt;...
Reading symbols from /root/mono/mono/mono/mini/mono...done.
(gdb) start ./../tools/mdoc/mdoc.exe assemble -o cs-errors -f error
cs-errors.config
Temporary breakpoint 1 at 0x805915c: file main.c, line 95.
Starting program: /root/mono/mono/mono/mini/mono ./../tools/mdoc/mdoc.exe
assemble -o cs-errors -f error cs-errors.config
[Thread debugging using libthread_db enabled]

Temporary breakpoint 1, main (argc=8, argv=0xbfffde44) at main.c:95
95              mono_build_date = build_date;
(gdb) c
Continuing.
[New Thread 0xb7ca8b70 (LWP 31079)]
[New Thread 0xb7210b70 (LWP 31080)]
[New Thread 0xb71dbb70 (LWP 31081)]
[New Thread 0xb70d6b70 (LWP 31083)]
* Assertion at threads.c:572, condition `start_delegate != NULL' not met


Program received signal SIGABRT, Aborted.
[Switching to Thread 0xb70d6b70 (LWP 31083)]
0x00b20402 in __kernel_vsyscall ()
(gdb) bt
#0  0x00b20402 in __kernel_vsyscall ()
#1  0x00179751 in *__GI_raise (sig=6) at
./nptl/sysdeps/unix/sysv/linux/raise.c:64
#2  0x0017cb82 in *__GI_abort () at abort.c:92
#3  0x0822f797 in monoeg_g_logv (log_domain=0x825a360 &quot;&quot;,
log_level=G_LOG_LEVEL_ERROR,
    format=0x824b6a8 &quot;* Assertion at %s:%d, condition `%s' not met\n&quot;,
args=0xb70d6244 &quot;\316\030\060\b&lt;\002&quot;) at goutput.c:137
#4  0x0822f7d4 in monoeg_assertion_message (format=0x824b6a8 &quot;* Assertion at
%s:%d, condition `%s' not met\n&quot;) at goutput.c:157
#5  0x0815772c in start_wrapper_internal (data=0x856de10) at threads.c:572
#6  start_wrapper (data=0x856de10) at threads.c:617
#7  0x082137ae in thread_start_routine (args=0x8376284) at wthreads.c:290
#8  0x08220107 in inner_start_thread (arg=0x856dde0) at mono-threads-posix.c:49
#9  0x08239355 in GC_start_routine (arg=0xb7622220) at pthread_support.c:1473
#10 0x0013b955 in start_thread (arg=0xb70d6b70) at pthread_create.c:300
#11 0x0021ae7e in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130
(gdb) 





The problem can be worked around by disabling EPOLL, by setting
MONO_DISABLE_AIO=1

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="113183.html">[Mono-bugs] [Bug 709066] Nested UpdatePanels cause a &quot;Internal error. Invalid writer object.&quot; error with mod_mono
</A></li>
	<LI>Next message: <A HREF="113186.html">[Mono-bugs] [Bug 705190] Thread start_delegate null
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#113185">[ date ]</a>
              <a href="thread.html#113185">[ thread ]</a>
              <a href="subject.html#113185">[ subject ]</a>
              <a href="author.html#113185">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
