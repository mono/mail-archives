<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 75733][Nor] Changed - The io-layer sometimes
	creates handles with a value of NULL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2075733%5D%5BNor%5D%20Changed%20-%20The%20io-layer%20sometimes%0A%09creates%20handles%20with%20a%20value%20of%20NULL&In-Reply-To=bug-75733%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032745.html">
   <LINK REL="Next"  HREF="032746.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 75733][Nor] Changed - The io-layer sometimes
	creates handles with a value of NULL</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2075733%5D%5BNor%5D%20Changed%20-%20The%20io-layer%20sometimes%0A%09creates%20handles%20with%20a%20value%20of%20NULL&In-Reply-To=bug-75733%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 75733][Nor] Changed - The io-layer sometimes
	creates handles with a value of NULL">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Tue Aug 23 13:35:59 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="032745.html">[Mono-bugs] [Bug 75678][Maj] Changed - Mono creates processes
	zombis (df &lt;defunct&gt;)
</A></li>
        <LI>Next message: <A HREF="032746.html">[Mono-bugs] [Bug 75734][Nor] Changed - [GMCS] InvalidCastException
	when copying Dictionary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32747">[ date ]</a>
              <a href="thread.html#32747">[ thread ]</a>
              <a href="subject.html#32747">[ subject ]</a>
              <a href="author.html#32747">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">miguel at ximian.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=75733">http://bugzilla.ximian.com/show_bug.cgi?id=75733</A>

--- shadow/75733	2005-08-06 14:05:36.000000000 -0400
+++ shadow/75733.tmp.31648	2005-08-23 13:35:59.000000000 -0400
@@ -2,16 +2,16 @@
 Product: Mono: Runtime
 Version: 1.1
 OS: NLD 9
 OS Details: 
 Status: NEW   
 Resolution: 
-Severity: 
+Severity: Unknown
 Priority: Normal
 Component: io-layer
-AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>                            
+AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">dick at ximian.com</A>                            
 ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lluis at ximian.com</A>               
 QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
 TargetMilestone: ---
 URL: 
 Cc: 
 Summary: The io-layer sometimes creates handles with a value of NULL
@@ -32,6 +32,14 @@
 to CloseHandle(procinfo.hThread), and procinfo.hThread happens to be
 initialized to NULL, and this accidentally closes the pipe.
 
 My particular problem can be solved by removing that CloseHandle call
 (which is useless right now), although I think something must be done to
 avoid returning null handles.
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">miguel at ximian.com</A>  2005-08-23 13:35 -------
+Alternatively, we could check if the return is zero, if so we dup the
+fd and close the zero fd.
+
+A hack
+
+
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032745.html">[Mono-bugs] [Bug 75678][Maj] Changed - Mono creates processes
	zombis (df &lt;defunct&gt;)
</A></li>
	<LI>Next message: <A HREF="032746.html">[Mono-bugs] [Bug 75734][Nor] Changed - [GMCS] InvalidCastException
	when copying Dictionary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32747">[ date ]</a>
              <a href="thread.html#32747">[ thread ]</a>
              <a href="subject.html#32747">[ subject ]</a>
              <a href="author.html#32747">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
