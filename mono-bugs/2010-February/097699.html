<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 581959] New: Runtime crash when calling CompareTo on 2D array index
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20581959%5D%20New%3A%20Runtime%20crash%20when%20calling%20CompareTo%0A%20on%202D%20array%20index&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="097698.html">
   <LINK REL="Next"  HREF="097703.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 581959] New: Runtime crash when calling CompareTo on 2D array index</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20581959%5D%20New%3A%20Runtime%20crash%20when%20calling%20CompareTo%0A%20on%202D%20array%20index&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 581959] New: Runtime crash when calling CompareTo on 2D array index">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Feb 22 15:55:29 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="097698.html">[Mono-bugs] [Bug 581956] New: Mono prints &quot;NOT IMPLEMENTED:	ResetToDefault()&quot;
</A></li>
        <LI>Next message: <A HREF="097703.html">[Mono-bugs] [Bug 581959] Runtime crash when calling CompareTo on 2D	array index
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97699">[ date ]</a>
              <a href="thread.html#97699">[ thread ]</a>
              <a href="subject.html#97699">[ subject ]</a>
              <a href="author.html#97699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=581959">http://bugzilla.novell.com/show_bug.cgi?id=581959</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=581959#c0">http://bugzilla.novell.com/show_bug.cgi?id=581959#c0</A>


           Summary: Runtime crash when calling CompareTo on 2D array index
    Classification: Mono
           Product: Mono: Runtime
           Version: 2.6.x
          Platform: PC
        OS/Version: Windows 7
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: JIT
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">aChrisSmith at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Description of Problem:
Calling 'Int32.CompareTo' on an index of a 2D array results in a runtime crash
in Mono.

Steps to reproduce the problem:
1. Download and install the latest F# CTP at:
<A HREF="http://www.microsoft.com/downloads/details.aspx?FamilyID=ba52e650-4e77-4b0b-b987-9f9ecd3bab3b&amp;displaylang=en">http://www.microsoft.com/downloads/details.aspx?FamilyID=ba52e650-4e77-4b0b-b987-9f9ecd3bab3b&amp;displaylang=en</A>
2. Run the F# Interactive window (mono fsi.exe)
3. Enter the following code:
let s = [1 .. 2]
let q = [s; s; s]
let a = array2D q;;
a.[1,1].CompareTo(3) ;;

Actual Results:
Crash. 

&gt;<i> a.[1, 1].CompareTo(3);;
</I>MonoArrayMethod
**
ERROR:reflection.c:11288:resolve_object: code should not be reached

This application has requested the Runtime to terminate it in an unusual way.
Please contact the application's support team for more information.

Expected Results:
It just works.

How often does this happen? 
Every time.

Additional Information:
The F# Interactive window uses Reflection.Emit to compile code and then execute
it. When compiled using fsc.exe, this code works as expected.

Note that other 2D array bugs have been recently fixed in Mono's trunk, which I
wasn't able to validate the bug against. So this might have already been fixed.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="097698.html">[Mono-bugs] [Bug 581956] New: Mono prints &quot;NOT IMPLEMENTED:	ResetToDefault()&quot;
</A></li>
	<LI>Next message: <A HREF="097703.html">[Mono-bugs] [Bug 581959] Runtime crash when calling CompareTo on 2D	array index
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97699">[ date ]</a>
              <a href="thread.html#97699">[ thread ]</a>
              <a href="subject.html#97699">[ subject ]</a>
              <a href="author.html#97699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
