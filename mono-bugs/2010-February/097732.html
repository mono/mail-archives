<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 582322] New: SIGABRT when constructing java.text.DecimalFormat (through IKVM)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20582322%5D%20New%3A%20SIGABRT%20when%20constructing%0A%20java.text.DecimalFormat%20%28through%20IKVM%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="097731.html">
   <LINK REL="Next"  HREF="097748.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 582322] New: SIGABRT when constructing java.text.DecimalFormat (through IKVM)</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20582322%5D%20New%3A%20SIGABRT%20when%20constructing%0A%20java.text.DecimalFormat%20%28through%20IKVM%29&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 582322] New: SIGABRT when constructing java.text.DecimalFormat (through IKVM)">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Feb 23 13:13:37 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="097731.html">[Mono-bugs] [Bug 582162] XSP2 crashes serving static images
</A></li>
        <LI>Next message: <A HREF="097748.html">[Mono-bugs] [Bug 582322] SIGABRT when constructing java.text.DecimalFormat (through IKVM)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97732">[ date ]</a>
              <a href="thread.html#97732">[ thread ]</a>
              <a href="subject.html#97732">[ subject ]</a>
              <a href="author.html#97732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=582322">http://bugzilla.novell.com/show_bug.cgi?id=582322</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=582322#c0">http://bugzilla.novell.com/show_bug.cgi?id=582322#c0</A>


           Summary: SIGABRT when constructing java.text.DecimalFormat
                    (through IKVM)
    Classification: Mono
           Product: Mono: Debugger
           Version: 1.2.0
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: backend
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">martin at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">dglick at dracorp.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1;
Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.04506.30; .NET
CLR 3.0.04506.648; .NET CLR 3.5.21022; MS-RTC LM 8; .NET CLR 3.0.4506.2152;
NET CLR 3.5.30729; eMusic DLM/4)

Mono crashes with a SIGABRT, ERROR:mini-codegen.c:1144:mono_local_regalloc:
assertion failed: (reginfo [sreg].born_in &gt; 0) when attempting to construct a
java.text.DecimalFormat object while debugging. The crash does not happen when
the debugger is not being used. Observed the problem while using Mono Tools for
Visual Studio, but it appears as though it's an issue with the debugger itself.

Output:

The thread 0x11d0 has exited with code 0 (0x0).
The thread 'Thread @5' (0x5) has exited with code 0 (0x0).
The thread 'Thread @7' (0x7) has exited with code 0 (0x0).
**
ERROR:mini-codegen.c:1144:mono_local_regalloc: assertion failed: (reginfo
[sreg].born_in &gt; 0)
Stacktrace:

  at java.text.DecimalFormat..ctor (string) &lt;IL 0x000d0, 0xffffffff&gt;
  at java.text.DecimalFormat..ctor (string) &lt;IL 0x000c8, 0x00195&gt;
  at SimFront.Infrastructure.Main () [0x0004b] in SimFront/Infrastructure.cs:71
  at (wrapper runtime-invoke) object.runtime_invoke_void
(object,intptr,intptr,intptr) &lt;IL 0x0001b, 0x00039&gt;

Native stacktrace:

    /usr/bin/mono [0x80d82db]
    [0xffffe410]
    [0xffffe430]
    /lib/libc.so.6(gsignal+0x50) [0xb761f990]
    /lib/libc.so.6(abort+0x188) [0xb76212c8]
    /usr/lib/libglib-2.0.so.0(g_assertion_message+0x123) [0xb7804f33]
    /usr/lib/libglib-2.0.so.0 [0xb78053cd]
    /usr/bin/mono [0x80d2630]
    /usr/bin/mono [0x805e581]
    /usr/bin/mono [0x8062300]
    /usr/bin/mono [0x8063051]
    /usr/bin/mono [0x8063adf]
    /usr/bin/mono [0x80db91d]
    [0xb7484066]
    [0xb5ed8ae9]
    [0xb70132fe]
    [0xb70136fa]
    /usr/bin/mono [0x8063bc5]
    /usr/bin/mono(mono_runtime_invoke+0x40) [0x8119500]
    /usr/bin/mono(mono_runtime_exec_main+0xe5) [0x811cdb5]
    /usr/bin/mono(mono_runtime_run_main+0x16b) [0x811d12b]
    /usr/bin/mono [0x8115337]
    /usr/bin/mono(mono_main+0x162c) [0x80b77cc]
    /usr/bin/mono [0x805b941]
    /lib/libc.so.6(__libc_start_main+0xe5) [0xb760b705]
    /usr/bin/mono [0x805b871]

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

Reproducible: Always

Steps to Reproduce:
To reproduce, just call:
java.text.DecimalFormat DD = new
java.text.DecimalFormat(&quot;#####0.0################&quot;);
Actual Results:  
Crash

Expected Results:  
No crash

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="097731.html">[Mono-bugs] [Bug 582162] XSP2 crashes serving static images
</A></li>
	<LI>Next message: <A HREF="097748.html">[Mono-bugs] [Bug 582322] SIGABRT when constructing java.text.DecimalFormat (through IKVM)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97732">[ date ]</a>
              <a href="thread.html#97732">[ thread ]</a>
              <a href="subject.html#97732">[ subject ]</a>
              <a href="author.html#97732">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
