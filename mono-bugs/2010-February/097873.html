<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 584116] New: Crash on Timer Execution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20584116%5D%20New%3A%20Crash%20on%20Timer%20Execution&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="097872.html">
   <LINK REL="Next"  HREF="097874.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 584116] New: Crash on Timer Execution</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20584116%5D%20New%3A%20Crash%20on%20Timer%20Execution&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 584116] New: Crash on Timer Execution">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Feb 28 18:11:02 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="097872.html">[Mono-bugs] [Bug 584100] New: Soft Debugger Choosing wrong IP to	listen on
</A></li>
        <LI>Next message: <A HREF="097874.html">[Mono-bugs] [Bug 584116] Crash on Timer Execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97873">[ date ]</a>
              <a href="thread.html#97873">[ thread ]</a>
              <a href="subject.html#97873">[ subject ]</a>
              <a href="author.html#97873">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=584116">http://bugzilla.novell.com/show_bug.cgi?id=584116</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=584116#c0">http://bugzilla.novell.com/show_bug.cgi?id=584116#c0</A>


           Summary: Crash on Timer Execution
    Classification: Mono
           Product: MonoTouch
           Version: unspecified
          Platform: Macintosh
        OS/Version: Mac OS X 10.6
            Status: NEW
          Severity: Critical
          Priority: P5 - None
         Component: Runtime
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rickgross at mac.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US;
rv:1.9.1.8) Gecko/20100202 Firefox/3.5.8

at (wrapper managed-to-native)
MonoTouch.ObjCRuntime.Messaging.void_objc_msgSend (intptr,intptr) &lt;0x00004&gt;
  at (wrapper managed-to-native)
MonoTouch.ObjCRuntime.Messaging.void_objc_msgSend (intptr,intptr) &lt;0x00004&gt;
  at MonoTouch.Foundation.NSObject.Release () [0x00000] in
/Users/plasma/Source/iphone/monotouch/Foundation/NSObject.cs:91
  at MonoTouch.Foundation.NSObject.Dispose (bool) [0x00020] in
/Users/plasma/Source/iphone/monotouch/Foundation/NSObject.cs:82
  at MonoTouch.Foundation.NSObject.Finalize () [0x00000] in
/Users/plasma/Source/iphone/monotouch/Foundation/NSObject.cs:57
  at (wrapper runtime-invoke) object.runtime_invoke_virtual_void__this__
(object,intptr,intptr,intptr) &lt;IL 0x0001b, 0x00091&gt;

Native stacktrace:

    0   PocketPicPlanner                    0x000bbe0a
mono_handle_native_sigsegv + 376
    1   PocketPicPlanner                    0x0000d745
mono_sigsegv_signal_handler + 276
    2   libSystem.B.dylib                   0x98a4d9bb _sigtramp + 43
    3   ???                                 0xffffffff 0x0 + 4294967295
    4   AVFoundation                        0x0170d27e -[AVAudioPlayer dealloc]
+ 92
    5   ???                                 0x0734c762 0x0 + 120899426
    6   ???                                 0x0734eaaf 0x0 + 120908463
    7   ???                                 0x0734e9f8 0x0 + 120908280
    8   ???                                 0x09128ec2 0x0 + 152211138
    9   ???                                 0x09128bda 0x0 + 152210394
    10  PocketPicPlanner                    0x0014f38b mono_gc_run_finalize +
933
    11  PocketPicPlanner                    0x00265495 GC_invoke_finalizers +
141
    12  PocketPicPlanner                    0x0011fea6
mono_gc_invoke_finalizers + 20
    13  PocketPicPlanner                    0x001512ae finalizer_thread + 591
    14  PocketPicPlanner                    0x001f92bf start_wrapper + 608
    15  PocketPicPlanner                    0x0023c3d8 thread_start_routine +
207
    16  PocketPicPlanner                    0x0026e8db GC_start_routine + 107
    17  libSystem.B.dylib                   0x98a14fbd _pthread_start + 345
    18  libSystem.B.dylib                   0x98a14e42 thread_start + 34

Debug info from gdb:

warning: Trying to remove a section from the ordered section list that did not
exist at 0xedf000.
warning: Could not find object file
&quot;/var/folders/-n/-nQIFXB-F38Xjj5lwBwPME+++TI/-Tmp-/tmp58e4726b.tmp/main.o&quot; - no
debug information available for
&quot;/var/folders/-n/-nQIFXB-F38Xjj5lwBwPME+++TI/-Tmp-/tmp58e4726b.tmp/main.m&quot;.

Attaching to process 39366.
Reading symbols for shared libraries . done
Reading symbols for shared libraries ........................................
done
0x989e78da in mach_msg_trap ()
  10 port# 0x9d0f 0x989e793a in semaphore_timedwait_signal_trap ()
  9 port# 0x5553 0x989e78da in mach_msg_trap ()
  8 port# 0x9403 0x98a15806 in __semwait_signal ()
  7 port# 0x8f03 0x989e78da in mach_msg_trap ()
  6 port# 0x3803 0x989e78da in mach_msg_trap ()
  5 port# 0x3603 0x98a24b1a in recvfrom$UNIX2003 ()
  4 port# 0x2403 0x989f2bfe in read$UNIX2003 ()
  3 port# 0x2003 0x98a15806 in __semwait_signal ()
  2 port# 0x1f03 0x989e78da in mach_msg_trap ()
* 1 port# 0x207  0x989e78da in mach_msg_trap ()

Thread 10 (process 39366):
#0  0x989e793a in semaphore_timedwait_signal_trap ()
#1  0x98a15445 in _pthread_cond_wait ()
#2  0x98a44028 in pthread_cond_timedwait_relative_np ()
#3  0x0398f699 in CAGuard::WaitFor ()
#4  0x03990c58 in CAGuard::WaitUntil ()
#5  0x0398fb30 in HP_IOThread::WorkLoop ()
#6  0x0398f6fb in HP_IOThread::ThreadEntry ()
#7  0x03981760 in CAPThread::Entry ()
#8  0x98a14fbd in _pthread_start ()
#9  0x98a14e42 in thread_start ()

Thread 9 (process 39366):
#0  0x989e78da in mach_msg_trap ()
#1  0x989e8047 in mach_msg ()
#2  0x033b0382 in CFRunLoopRunSpecific ()
#3  0x033afc48 in CFRunLoopRunInMode ()
#4  0x01578830 in GenericRunLoopThread::RunLoop ()
#5  0x0159baf2 in TRunLoop&lt;AQClient&gt;::Entry ()
#6  0x01578399 in CAPThread::Entry ()
#7  0x98a14fbd in _pthread_start ()
#8  0x98a14e42 in thread_start ()

Thread 8 (process 39366):
#0  0x98a15806 in __semwait_signal ()
#1  0x98a154c2 in _pthread_cond_wait ()
#2  0x98a17158 in pthread_cond_wait$UNIX2003 ()
#3  0x015b9459 in CAGuard::Wait ()
#4  0x015b0afe in AQConverterManager::AQConverterThread::Run ()
#5  0x015b0941 in AQConverterManager::AQConverterThread::ConverterThreadEntry
()
#6  0x01578399 in CAPThread::Entry ()
#7  0x98a14fbd in _pthread_start ()
#8  0x98a14e42 in thread_start ()

Thread 7 (process 39366):
#0  0x989e78da in mach_msg_trap ()
#1  0x989e8047 in mach_msg ()
#2  0x033b0382 in CFRunLoopRunSpecific ()
#3  0x033afc48 in CFRunLoopRunInMode ()
#4  0x039818d5 in HALRunLoop::OwnThread ()
#5  0x03981760 in CAPThread::Entry ()
#6  0x98a14fbd in _pthread_start ()
#7  0x98a14e42 in thread_start ()

Thread 6 (process 39366):
#0  0x989e78da in mach_msg_trap ()
#1  0x989e8047 in mach_msg ()
#2  0x033b0382 in CFRunLoopRunSpecific ()
#3  0x033afc48 in CFRunLoopRunInMode ()
#4  0x03e76223 in RunWebThread ()
#5  0x98a14fbd in _pthread_start ()
#6  0x98a14e42 in thread_start ()

Thread 5 (process 39366):
#0  0x98a24b1a in recvfrom$UNIX2003 ()
#1  0x98a44983 in recv$UNIX2003 ()
#2  0x000e348a in debugger_thread (arg=0x0) at
./../../../mono/mini/debugger-agent.c:5944
#3  0x0023c3d8 in thread_start_routine (args=0x68125a8) at
./../../../mono/io-layer/wthreads.c:286
#4  0x0026e8db in GC_start_routine (arg=0x66ccf60) at
./../../libgc/pthread_support.c:1390
#5  0x98a14fbd in _pthread_start ()
#6  0x98a14e42 in thread_start ()

Thread 4 (process 39366):
#0  0x989f2bfe in read$UNIX2003 ()
#1  0x000bc005 in mono_handle_native_sigsegv (signal=11, ctx=0xb0186b90) at
./../../../mono/mini/mini-exceptions.c:1817
#2  0x0000d745 in mono_sigsegv_signal_handler (_dummy=10, info=0xb0186b50,
context=0xb0186b90) at ../../../../mono/mini/mini.c:4826
#3  &lt;signal handler called&gt;
#4  0x0170cacb in disposeQueue ()
#5  0x0170d27e in -[AVAudioPlayer dealloc] ()
#6  0x0734c762 in ?? ()
#7  0x0734eaaf in ?? ()
#8  0x0734e9f8 in ?? ()
#9  0x09128ec2 in ?? ()
#10 0x09128bda in ?? ()
#11 0x0014f38b in mono_gc_run_finalize (obj=0x66c93c0, data=0x0) at
./../../../mono/metadata/gc.c:218
#12 0x00265495 in GC_invoke_finalizers () at ../../../libgc/finalize.c:787
#13 0x0011fea6 in mono_gc_invoke_finalizers () at
./../../../mono/metadata/boehm-gc.c:417
#14 0x001512ae in finalizer_thread (unused=0x0) at
./../../../mono/metadata/gc.c:1052
#15 0x001f92bf in start_wrapper (data=0x670e760) at
./../../../mono/metadata/threads.c:662
#16 0x0023c3d8 in thread_start_routine (args=0x68124b0) at
./../../../mono/io-layer/wthreads.c:286
#17 0x0026e8db in GC_start_routine (arg=0x66ccf60) at
./../../libgc/pthread_support.c:1390
#18 0x98a14fbd in _pthread_start ()
#19 0x98a14e42 in thread_start ()

Thread 3 (process 39366):
#0  0x98a15806 in __semwait_signal ()
#1  0x98a41441 in nanosleep$UNIX2003 ()
#2  0x0021ccc4 in collection_thread (unused=0x0) at
./../../../mono/io-layer/collection.c:34
#3  0x98a14fbd in _pthread_start ()
#4  0x98a14e42 in thread_start ()

Thread 2 (process 39366):
#0  0x989e78da in mach_msg_trap ()
#1  0x989e8047 in mach_msg ()
#2  0x00112226 in mach_exception_thread (arg=0x0) at
./../../../mono/mini/mini-darwin.c:138
#3  0x98a14fbd in _pthread_start ()
#4  0x98a14e42 in thread_start ()

Thread 1 (process 39366):
#0  0x989e78da in mach_msg_trap ()
#1  0x989e8047 in mach_msg ()
#2  0x033b0382 in CFRunLoopRunSpecific ()
#3  0x033afc48 in CFRunLoopRunInMode ()
#4  0x03c5f615 in GSEventRunModal ()
#5  0x03c5f6da in GSEventRun ()
#6  0x01d07faf in UIApplicationMain ()
#7  0x07346c72 in ?? ()
#8  0x07346a42 in ?? ()
#9  0x07345dd2 in ?? ()
#10 0x07345c34 in ?? ()
#11 0x07345ce9 in ?? ()
#12 0x0000d52e in mono_jit_runtime_invoke (method=0x503dfd4, obj=0x0,
params=0xbfffeec8, exc=0x0) at ../../../../mono/mini/mini.c:4720
#13 0x001bebfd in mono_runtime_invoke (method=0x503dfd4, obj=0x0,
params=0xbfffeec8, exc=0x0) at ../../../../mono/metadata/object.c:2606
#14 0x001c0894 in mono_runtime_exec_main (method=0x503dfd4, args=0x73f22f0,
exc=0x0) at ../../../../mono/metadata/object.c:3548
#15 0x001c0155 in mono_runtime_run_main (method=0x503dfd4, argc=0,
argv=0xbffff070, exc=0x0) at ../../../../mono/metadata/object.c:3322
#16 0x00091a37 in mono_jit_exec (domain=0x4d68e58, assembly=0x6741900, argc=1,
argv=0xbffff06c) at ../../../../mono/mini/driver.c:1094
#17 0x00276b8c in main ()

=================================================================
Got a SIGSEGV while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

Reproducible: Always

Steps to Reproduce:
1. Set xml data file Activity_Instance time to current time, so that alert will
fire
2. Start application
3. Wait for Alarm to execute (1 minute)
4. After Alarm displays, click 'Done' button
5. Crash
Actual Results:  
Crash - see details

Expected Results:  
Return to initial view

Place the contents of the Documents zip file in the simulator Documents folder.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="097872.html">[Mono-bugs] [Bug 584100] New: Soft Debugger Choosing wrong IP to	listen on
</A></li>
	<LI>Next message: <A HREF="097874.html">[Mono-bugs] [Bug 584116] Crash on Timer Execution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97873">[ date ]</a>
              <a href="thread.html#97873">[ thread ]</a>
              <a href="subject.html#97873">[ subject ]</a>
              <a href="author.html#97873">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
