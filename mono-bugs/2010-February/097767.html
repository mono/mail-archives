<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 582703] New: Pressing Command key in TextBox activates context menu but does not show it
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20582703%5D%20New%3A%20Pressing%20Command%20key%20in%20TextBox%0A%20activates%20context%20menu%20but%20does%20not%20show%20it&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="097765.html">
   <LINK REL="Next"  HREF="097768.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 582703] New: Pressing Command key in TextBox activates context menu but does not show it</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20582703%5D%20New%3A%20Pressing%20Command%20key%20in%20TextBox%0A%20activates%20context%20menu%20but%20does%20not%20show%20it&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 582703] New: Pressing Command key in TextBox activates context menu but does not show it">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Feb 24 09:17:33 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="097765.html">[Mono-bugs] [Bug 582691] New: Return key works intermittently in	TextBox
</A></li>
        <LI>Next message: <A HREF="097768.html">[Mono-bugs] [Bug 582711] New: runtime segfaults when running Moq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97767">[ date ]</a>
              <a href="thread.html#97767">[ thread ]</a>
              <a href="subject.html#97767">[ subject ]</a>
              <a href="author.html#97767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=582703">http://bugzilla.novell.com/show_bug.cgi?id=582703</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=582703#c0">http://bugzilla.novell.com/show_bug.cgi?id=582703#c0</A>


           Summary: Pressing Command key in TextBox activates context menu
                    but does not show it
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.6.x
          Platform: Other
        OS/Version: Mac OS X 10.5
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">dick at acm.org</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=344458)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=344458">http://bugzilla.novell.com/attachment.cgi?id=344458</A>)
Test case

This was discovered by someone on a mac trying to paste text into a TextBox,
and using Command-V.

To see the bug, run the test case on a mac, and then:

Give the TextBox focus
enter some chars to see the bug more easily (not needed to trigger the issue)
press Command-v (a letter v is entered into the TextBox)
press Up-arrow
press Return

The TextBox now only contains a blank line, with the cursor at the beginning of
the next line.


The problem is that the Command key is triggering the context menu, Up is
choosing 'Select All', and Return is triggering the menu action, ie replacing
all text.  The bug has two parts, in that

a) the context menu isn't being displayed
b) the keystrokes are both activating the menu, and being passed through to the
TextBox document


This is probably not mac-specific, except that the key for triggering the menu
is more prominent.  Command is identifying itself (in Control.cs DebugMessages
output) as &quot;Menu, Alt&quot;, and Control:WmSysKeyUp is treating it as a menu
activation.  When Return is pressed, the 'Select All' menu item is triggered,
and the selection replace is also carried out when the keypress reaches the
TextBox.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="097765.html">[Mono-bugs] [Bug 582691] New: Return key works intermittently in	TextBox
</A></li>
	<LI>Next message: <A HREF="097768.html">[Mono-bugs] [Bug 582711] New: runtime segfaults when running Moq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97767">[ date ]</a>
              <a href="thread.html#97767">[ thread ]</a>
              <a href="subject.html#97767">[ subject ]</a>
              <a href="author.html#97767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
