<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 324181] ASN.1 date convertion unit tests fails
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20324181%5D%20ASN.1%20date%20convertion%20unit%20tests%20fails&In-Reply-To=bug-324181-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="097263.html">
   <LINK REL="Next"  HREF="097110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 324181] ASN.1 date convertion unit tests fails</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20324181%5D%20ASN.1%20date%20convertion%20unit%20tests%20fails&In-Reply-To=bug-324181-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 324181] ASN.1 date convertion unit tests fails">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Feb  2 04:03:12 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="097263.html">[Mono-bugs] [Bug 576039] WaitHandle.WaitAll doesn't raise ArgumentNullException when the WaitHandle[] parameter has 0 elements
</A></li>
        <LI>Next message: <A HREF="097110.html">[Mono-bugs] [Bug 574156] mcs emits CS0169 for unused methods,	csc does not
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97108">[ date ]</a>
              <a href="thread.html#97108">[ thread ]</a>
              <a href="subject.html#97108">[ subject ]</a>
              <a href="author.html#97108">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=324181">http://bugzilla.novell.com/show_bug.cgi?id=324181</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=324181#c2">http://bugzilla.novell.com/show_bug.cgi?id=324181#c2</A>


--- Comment #2 from Peter Dettman &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">peter.dettman at iinet.net.au</A>&gt; 2010-02-02 09:03:09 UTC ---
Created an attachment (id=340144)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=340144">http://bugzilla.novell.com/attachment.cgi?id=340144</A>)
Patch to fix the code of the affected test cases

The problem is in the test case itself.

I checked that my localtime differs from UTC, as described above. I was able to
reproduce the test failures using 'make check' in Mono.Security.

The reason the tests fail is that the ASN1Convert.ToDateTime method returns a
UTC DateTime (the extra test for profile 2.0 confirms this), and this needs to
be converted back to local time before comparing with the original 'expected'
value, which the attached patch does.

'make check' confirms the test cases now pass.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="097263.html">[Mono-bugs] [Bug 576039] WaitHandle.WaitAll doesn't raise ArgumentNullException when the WaitHandle[] parameter has 0 elements
</A></li>
	<LI>Next message: <A HREF="097110.html">[Mono-bugs] [Bug 574156] mcs emits CS0169 for unused methods,	csc does not
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97108">[ date ]</a>
              <a href="thread.html#97108">[ thread ]</a>
              <a href="subject.html#97108">[ subject ]</a>
              <a href="author.html#97108">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
