<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 573682] segtaults when encoding/decoding non-UTF8	strings
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20573682%5D%20segtaults%20when%20encoding/decoding%20non-UTF8%0A%09strings&In-Reply-To=bug-573682-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="097291.html">
   <LINK REL="Next"  HREF="097293.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 573682] segtaults when encoding/decoding non-UTF8	strings</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20573682%5D%20segtaults%20when%20encoding/decoding%20non-UTF8%0A%09strings&In-Reply-To=bug-573682-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 573682] segtaults when encoding/decoding non-UTF8	strings">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Feb  9 13:27:32 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="097291.html">[Mono-bugs] [Bug 573682] segtaults when encoding/decoding non-UTF8	strings
</A></li>
        <LI>Next message: <A HREF="097293.html">[Mono-bugs] [Bug 578401] New: Process.MainWindowHandle not supported
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97292">[ date ]</a>
              <a href="thread.html#97292">[ thread ]</a>
              <a href="subject.html#97292">[ subject ]</a>
              <a href="author.html#97292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=573682">http://bugzilla.novell.com/show_bug.cgi?id=573682</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=573682#c14">http://bugzilla.novell.com/show_bug.cgi?id=573682#c14</A>


--- Comment #14 from Ted Unangst &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">tedu at fogcreek.com</A>&gt; 2010-02-09 18:27:31 UTC ---
I think I have a combination of patches that works.
1.  Add braces to the else so that the continue in CP1252.cs is inside the
else.
2.  Add braces and the continue to CP1250.cs.
3.  Move the charCount-- to the top of the loop.

With all those changes, my tests pass.

Won't fix CP1253 or other encodings, but we don't happen to be using or testing
them.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="097291.html">[Mono-bugs] [Bug 573682] segtaults when encoding/decoding non-UTF8	strings
</A></li>
	<LI>Next message: <A HREF="097293.html">[Mono-bugs] [Bug 578401] New: Process.MainWindowHandle not supported
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97292">[ date ]</a>
              <a href="thread.html#97292">[ thread ]</a>
              <a href="subject.html#97292">[ subject ]</a>
              <a href="author.html#97292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
