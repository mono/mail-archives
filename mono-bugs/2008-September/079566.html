<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 427039] New: Need a low-level keystroke filter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20427039%5D%20New%3A%20Need%20a%20low-level%20keystroke%20filter&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079565.html">
   <LINK REL="Next"  HREF="079567.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 427039] New: Need a low-level keystroke filter</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20427039%5D%20New%3A%20Need%20a%20low-level%20keystroke%20filter&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 427039] New: Need a low-level keystroke filter">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Sep 17 13:26:15 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="079565.html">[Mono-bugs] [Bug 419888] [Regression] TypeLoadException when	running under xsp
</A></li>
        <LI>Next message: <A HREF="079567.html">[Mono-bugs] [Bug 427039] Need a low-level keystroke filter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79566">[ date ]</a>
              <a href="thread.html#79566">[ thread ]</a>
              <a href="subject.html#79566">[ subject ]</a>
              <a href="author.html#79566">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=427039">https://bugzilla.novell.com/show_bug.cgi?id=427039</A>


           Summary: Need a low-level keystroke filter
           Product: Mono: Class Libraries
           Version: SVN
          Platform: All
        OS/Version: Linux
            Status: NEW
          Severity: Enhancement
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mgorse at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


The UIA-to-ATK bridge needs to pass events to atk when keys are pressed or
released so that a11y programs such as Orca can know when keys are pressed and
potentially intercept them.  I cannot use a MessageFilter or PreviewKeyDown
handler, as they are currently implemented, for a few reasons:

- Mono tries to behave like Windows when caps lock or num lock are pressed. 
Rather than wait for the key to be released, Windows sends a WM_KEYUP
immediately following the WM_KEYDOWN, so it is impossible for an application to
determine whether caps lock is still depressed by listening for messages alone.
 Orca uses caps lock as a modifier key when the laptop keyboard layout is
selected, so it needs to know if the key is being held down.

- Atk wants the X11 keysym for a key along with a string with a representation
of the character that would correspond to the key.  X11Keyboard.cs has a
function called ToUnicode, which is used by TranslateMessage, but it is not
currently used anywhere else or publicly accessible (since it is in a
X11-specific file).

See bug 418524 for more details.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>



































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079565.html">[Mono-bugs] [Bug 419888] [Regression] TypeLoadException when	running under xsp
</A></li>
	<LI>Next message: <A HREF="079567.html">[Mono-bugs] [Bug 427039] Need a low-level keystroke filter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79566">[ date ]</a>
              <a href="thread.html#79566">[ thread ]</a>
              <a href="subject.html#79566">[ subject ]</a>
              <a href="author.html#79566">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
