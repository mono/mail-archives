<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 402833] Slow memory allocation in multi-thread app
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20402833%5D%20Slow%20memory%20allocation%20in%20multi-thread%20app&In-Reply-To=bug-402833-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079505.html">
   <LINK REL="Next"  HREF="078862.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 402833] Slow memory allocation in multi-thread app</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20402833%5D%20Slow%20memory%20allocation%20in%20multi-thread%20app&In-Reply-To=bug-402833-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 402833] Slow memory allocation in multi-thread app">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Sep  5 05:46:44 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="079505.html">[Mono-bugs] [Bug 423582] Thread.SpinWait is incorectly implemented
</A></li>
        <LI>Next message: <A HREF="078862.html">[Mono-bugs] [Bug 415577] [PATCH] Can't pass by ref in a	ContextBoundObject method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78855">[ date ]</a>
              <a href="thread.html#78855">[ thread ]</a>
              <a href="subject.html#78855">[ subject ]</a>
              <a href="author.html#78855">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=402833">https://bugzilla.novell.com/show_bug.cgi?id=402833</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">matteo.tesser at gmail.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=402833#c6">https://bugzilla.novell.com/show_bug.cgi?id=402833#c6</A>


matteo tesser &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">matteo.tesser at gmail.com</A>&gt; changed:

           What    |Removed                                         |Added
----------------------------------------------------------------------------
                 CC|                                                |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">matteo.tesser at gmail.com</A>
             Status|NEEDINFO                                        |NEW
      Info Provider|<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">matteo.tesser at gmail.com</A>                         |




--- Comment #6 from matteo tesser &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">matteo.tesser at gmail.com</A>&gt;  2008-09-05 03:46:43 MDT ---
Hi, I have added the revised test case (as suggested) and test it on the mono
2.0 preview 2.  The behaviour of the modified test case is the same as the
previous and the bug (slowness of multi-thread applications when threads must
generate new objects) 


On linux (Ubuntu 8.04):
One Thread (method1) time=00:00:00.7478870
One Thread (method2) time=00:00:00.6910520
Two Threads time=00:00:00.3314950    (half)

On Mac (10.5):
One Thread (method1) time=00:00:00.6264570
One Thread (method2) time=00:00:00.6302180
Two Threads time=00:00:06.9052510    (10 times greater)


Note: when there are not memory allocation on secondary threads, performances
are goods on the macs. The problem happens only when new objects are created.

Matteo


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079505.html">[Mono-bugs] [Bug 423582] Thread.SpinWait is incorectly implemented
</A></li>
	<LI>Next message: <A HREF="078862.html">[Mono-bugs] [Bug 415577] [PATCH] Can't pass by ref in a	ContextBoundObject method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78855">[ date ]</a>
              <a href="thread.html#78855">[ thread ]</a>
              <a href="subject.html#78855">[ subject ]</a>
              <a href="author.html#78855">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
