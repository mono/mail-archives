<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 424073] New: New Regex-engine possibly buggy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20424073%5D%20New%3A%20New%20Regex-engine%20possibly%20buggy&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078926.html">
   <LINK REL="Next"  HREF="078931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 424073] New: New Regex-engine possibly buggy</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20424073%5D%20New%3A%20New%20Regex-engine%20possibly%20buggy&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 424073] New: New Regex-engine possibly buggy">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Sep  6 18:15:51 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="078926.html">[Mono-bugs] [Bug 322163] runtime hangs after main() exit
</A></li>
        <LI>Next message: <A HREF="078931.html">[Mono-bugs] [Bug 424073] New Regex-engine possibly buggy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78927">[ date ]</a>
              <a href="thread.html#78927">[ thread ]</a>
              <a href="subject.html#78927">[ subject ]</a>
              <a href="author.html#78927">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=424073">https://bugzilla.novell.com/show_bug.cgi?id=424073</A>


           Summary: New Regex-engine possibly buggy
           Product: Mono: Class Libraries
           Version: SVN
          Platform: x86-64
        OS/Version: Linux
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Dax at daxxfiles.net</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Revision 112439 (introduction of the new regex engine as default) killed
MonoDevelop. I have no idea why, and I can neither trace it nor reproduce it
outside of MonoDevelop, but said revision of System.dll and MonoDevelop do not
mix. Using the new regex engine, MD can no longer create some regular
expressions (which I, as said, can not determine right now but in context of
MD), but receives exceptions instead:

Unhandled Exception: System.TypeInitializationException: An exception was
thrown by the type initializer for
Mono.TextEditor.Highlighting.SyntaxModeService ---&gt;
System.TypeInitializationException: An exception was thrown by the type
initializer for Mono.TextEditor.HighlightUrlSemanticRule ---&gt;
System.Collections.Generic.KeyNotFoundException: The given key was not present
in the dictionary.
  at
System.Collections.Generic.Dictionary`2[System.Int32,System.Int32].get_Item
(Int32 key) [0x000a2] in
mono/mcs/class/corlib/System.Collections.Generic/Dictionary.cs:135 
  at System.Text.RegularExpressions.CILCompiler.EmitEvalMethodBody
(System.Reflection.Emit.DynamicMethod m, System.Reflection.Emit.ILGenerator
ilgen, System.Text.RegularExpressions.Frame frame, System.Byte[] program, Int32
pc, Boolean one_op, Boolean no_bump, System.Int32&amp; out_pc) [0x0198b] in
mono/mcs/class/System/System.Text.RegularExpressions/CILCompiler.cs:980 
  at System.Text.RegularExpressions.CILCompiler.EmitEvalMethodBody
(System.Reflection.Emit.DynamicMethod m, System.Reflection.Emit.ILGenerator
ilgen, System.Text.RegularExpressions.Frame frame, System.Byte[] program, Int32
pc, Boolean one_op, Boolean no_bump, System.Int32&amp; out_pc) [0x01bcb] in
mono/mcs/class/System/System.Text.RegularExpressions/CILCompiler.cs:1083 
  at System.Text.RegularExpressions.CILCompiler.EmitEvalMethodBody
(System.Reflection.Emit.DynamicMethod m, System.Reflection.Emit.ILGenerator
ilgen, System.Text.RegularExpressions.Frame frame, System.Byte[] program, Int32
pc, Boolean one_op, Boolean no_bump, System.Int32&amp; out_pc) [0x0068c] in
mono/mcs/class/System/System.Text.RegularExpressions/CILCompiler.cs:376 
  at System.Text.RegularExpressions.CILCompiler.CreateEvalMethod (System.Byte[]
program, Int32 pc) [0x0006b] in
mono/mcs/class/System/System.Text.RegularExpressions/CILCompiler.cs:179 
  at System.Text.RegularExpressions.CILCompiler.GetEvalMethod (System.Byte[]
program, Int32 pc) [0x0001f] in
mono/mcs/class/System/System.Text.RegularExpressions/CILCompiler.cs:81 
  at
System.Text.RegularExpressions.CILCompiler.System.Text.RegularExpressions.ICompiler.GetMachineFactory
() [0x0003c] in
mono/mcs/class/System/System.Text.RegularExpressions/CILCompiler.cs:66 
  at System.Text.RegularExpressions.Regex.CreateMachineFactory (System.String
pattern, RegexOptions options) [0x0004e] in
mono/mcs/class/System/System.Text.RegularExpressions/Regex.cs:255 
  at System.Text.RegularExpressions.Regex.InitNewRegex () [0x00000] in
mono/mcs/class/System/System.Text.RegularExpressions/Regex.cs:230 
  at System.Text.RegularExpressions.Regex.Init () [0x00027] in
mono/mcs/class/System/System.Text.RegularExpressions/Regex.cs:219 
  at System.Text.RegularExpressions.Regex..ctor (System.String pattern,
RegexOptions options) [0x00014] in
mono/mcs/class/System/System.Text.RegularExpressions/Regex.cs:211 
  at Mono.TextEditor.HighlightUrlSemanticRule..cctor () [0x00000] in
mono/monodevelop/main/src/addins/Mono.Texteditor/AssemblyInfo.cs:1 
  --- End of inner exception stack trace ---
  at Mono.TextEditor.Highlighting.SyntaxModeService..cctor () [0x00066] in
mono/monodevelop/main/src/addins/Mono.Texteditor/Mono.TextEditor.Highlighting/SyntaxModeService.cs:511 
  --- End of inner exception stack trace ---
  at
MonoDevelop.SourceEditor.SourceEditorDisplayBinding.LoadCustomStylesAndModes ()
[0x00044] in
mono/monodevelop/main/src/addins/MonoDevelop.SourceEditor2/MonoDevelop.SourceEditor/SourceEditorDisplayBinding.cs:63 
  at MonoDevelop.SourceEditor.SourceEditorDisplayBinding..cctor () [0x0000a] in
mono/monodevelop/main/src/addins/MonoDevelop.SourceEditor2/MonoDevelop.SourceEditor/SourceEditorDisplayBinding.cs:47 

Switching to the old regexes fixes this...


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>












































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078926.html">[Mono-bugs] [Bug 322163] runtime hangs after main() exit
</A></li>
	<LI>Next message: <A HREF="078931.html">[Mono-bugs] [Bug 424073] New Regex-engine possibly buggy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78927">[ date ]</a>
              <a href="thread.html#78927">[ thread ]</a>
              <a href="subject.html#78927">[ subject ]</a>
              <a href="author.html#78927">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
