<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 423913] New: Make the XSL generate-id() generate much shorter strings
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20423913%5D%20New%3A%20Make%20the%20XSL%20generate-id%28%29%20generate%0A%20much%20shorter%20strings&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078901.html">
   <LINK REL="Next"  HREF="078903.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 423913] New: Make the XSL generate-id() generate much shorter strings</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20423913%5D%20New%3A%20Make%20the%20XSL%20generate-id%28%29%20generate%0A%20much%20shorter%20strings&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 423913] New: Make the XSL generate-id() generate much shorter strings">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Sep  5 18:01:38 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="078901.html">[Mono-bugs] [Bug 417955] PropertyGrid: null ITypeDescriptorContext during popullation
</A></li>
        <LI>Next message: <A HREF="078903.html">[Mono-bugs] [Bug 423913] Make the XSL generate-id() generate much	shorter strings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78902">[ date ]</a>
              <a href="thread.html#78902">[ thread ]</a>
              <a href="subject.html#78902">[ subject ]</a>
              <a href="author.html#78902">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=423913">https://bugzilla.novell.com/show_bug.cgi?id=423913</A>


           Summary: Make the XSL generate-id() generate much shorter strings
           Product: Mono: Class Libraries
           Version: 1.2.6
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Sys.XML
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">atsushi at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">tlillqvist at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


The generate-id() function in Mono's implementation of XSL currently generates
very long strings like
Monozipmx003Ammx002Fmmx002Fmlocalhostmx002Fmpptmx002Fmslidesmx002Fmslide3mxmlElementm0m0m7m0m0m1m0m
 There is a FIXME comment in mcs/class/System.XML/Mono.Xml.Xsl/XslFunctions.cs
that says: &quot;FIXME: generate short string, not the huge thing it makes now&quot; The
extremely long strings curently generated cause problems if they are used to
form file names, for instance.

I will attach a patch to Mono 1.2.6 that shortens the generated strings
substantially. They should still uniquely identify nodes (nodesets?) as the
current ones do, I hope.

The idea is to output just a sequence of small numbers encoded in base-30 (i.e.
0..9, A..T) with each multi-digit base-30 number prefixed by a separator
character U..Z indicating its length. To get numbers for the BaseURIs and
NodeTypes simple counters kept in hash tables are used, and the node indexes
are used as such.

The generated ids are still not as compact as those generated by .NET, though.
For that probably Golomb coding (<A HREF="http://en.wikipedia.org/wiki/Golomb_coding">http://en.wikipedia.org/wiki/Golomb_coding</A> )
could be used which would compact the number sequences into a bit string which
could then be encoded in base-36.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078901.html">[Mono-bugs] [Bug 417955] PropertyGrid: null ITypeDescriptorContext during popullation
</A></li>
	<LI>Next message: <A HREF="078903.html">[Mono-bugs] [Bug 423913] Make the XSL generate-id() generate much	shorter strings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78902">[ date ]</a>
              <a href="thread.html#78902">[ thread ]</a>
              <a href="subject.html#78902">[ subject ]</a>
              <a href="author.html#78902">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
