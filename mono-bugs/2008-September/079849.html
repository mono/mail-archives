<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 424704] [Regression] Commit 111421 broke the CalendarExtender from AjaxControlToolkit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20424704%5D%20%5BRegression%5D%20Commit%20111421%20broke%20the%0A%20CalendarExtender%20from%20AjaxControlToolkit&In-Reply-To=bug-424704-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="079127.html">
   <LINK REL="Next"  HREF="079850.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 424704] [Regression] Commit 111421 broke the CalendarExtender from AjaxControlToolkit</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20424704%5D%20%5BRegression%5D%20Commit%20111421%20broke%20the%0A%20CalendarExtender%20from%20AjaxControlToolkit&In-Reply-To=bug-424704-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 424704] [Regression] Commit 111421 broke the CalendarExtender from AjaxControlToolkit">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Sep 23 09:53:11 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="079127.html">[Mono-bugs] [Bug 424704] [Regression] Commit 111421 broke the CalendarExtender from AjaxControlToolkit
</A></li>
        <LI>Next message: <A HREF="079850.html">[Mono-bugs] [Bug 424704] [Regression] Commit 111421 broke the CalendarExtender from AjaxControlToolkit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79849">[ date ]</a>
              <a href="thread.html#79849">[ thread ]</a>
              <a href="subject.html#79849">[ subject ]</a>
              <a href="author.html#79849">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=424704">https://bugzilla.novell.com/show_bug.cgi?id=424704</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">juraj at hotfeet.ch</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=424704#c2">https://bugzilla.novell.com/show_bug.cgi?id=424704#c2</A>





--- Comment #2 from Juraj Skripsky &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">juraj at hotfeet.ch</A>&gt;  2008-09-23 07:53:11 MDT ---
Created an attachment (id=241147)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=241147">https://bugzilla.novell.com/attachment.cgi?id=241147</A>)
minimal testcase

This test case is much simpler. It doesn't use AjaxControlToolkit but requires
manual inspection of the resulting html code.

Extract, start xsp2, request index.aspx. The html should include this code:

&lt;script type=&quot;text/javascript&quot;&gt;
//&lt;![CDATA[
var __cultureInfo =
'{&quot;name&quot;:&quot;en-US&quot;,&quot;numberFormat&quot;:{&quot;CurrencyDecimalDigits&quot;:2,&quot;CurrencyDecimalSeparator&quot;:&quot;.&quot;,
....... }}';//]]&gt;
&lt;/script&gt;

but it actually contains this:

&lt;script type=&quot;text/javascript&quot;&gt;
//&lt;![CDATA[
var __cultureInfo =
'[{&quot;Key&quot;:&quot;name&quot;,&quot;Value&quot;:&quot;en-US&quot;},{&quot;Key&quot;:&quot;numberFormat&quot;,&quot;Value&quot;:{&quot;CurrencyDecimalDigits&quot;:2,&quot;CurrencyDecimalSeparator&quot;:&quot;.&quot;,
........ }}]';//]]&gt;
&lt;/script&gt;


The problem is that when EnableScriptGlobalization is set, ScriptManager has to
serialize a ScriptManager.CultureInfoSerializer object which derives from
JavaScriptSerializer.LazyDictionary which in turn implements
IDictionary&lt;string, object&gt; (but not IDictionary!). CultureInfoSerializer is
_not_ generic hence the code for IDictionary&lt;,&gt; in JsonSerializer is not used.
It is treated as an IEnumerable.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="079127.html">[Mono-bugs] [Bug 424704] [Regression] Commit 111421 broke the CalendarExtender from AjaxControlToolkit
</A></li>
	<LI>Next message: <A HREF="079850.html">[Mono-bugs] [Bug 424704] [Regression] Commit 111421 broke the CalendarExtender from AjaxControlToolkit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#79849">[ date ]</a>
              <a href="thread.html#79849">[ thread ]</a>
              <a href="subject.html#79849">[ subject ]</a>
              <a href="author.html#79849">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
