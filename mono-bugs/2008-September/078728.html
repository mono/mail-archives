<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 422475] New: DataSet serialization error with all NULLs table rows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20422475%5D%20New%3A%20DataSet%20serialization%20error%20with%20all%0A%20NULLs%20table%20rows&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078727.html">
   <LINK REL="Next"  HREF="078787.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 422475] New: DataSet serialization error with all NULLs table rows</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20422475%5D%20New%3A%20DataSet%20serialization%20error%20with%20all%0A%20NULLs%20table%20rows&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 422475] New: DataSet serialization error with all NULLs table rows">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Sep  3 06:01:02 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="078727.html">[Mono-bugs] [Bug 405454] Can not pass CallContext slot via HTTPChannel + SoapFormatterSink
</A></li>
        <LI>Next message: <A HREF="078787.html">[Mono-bugs] [Bug 422475] DataSet serialization error with all NULLs	table rows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78728">[ date ]</a>
              <a href="thread.html#78728">[ thread ]</a>
              <a href="subject.html#78728">[ subject ]</a>
              <a href="author.html#78728">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=422475">https://bugzilla.novell.com/show_bug.cgi?id=422475</A>


           Summary: DataSet serialization error with all NULLs table rows
           Product: Mono: Class Libraries
           Version: 2.0
          Platform: i686
        OS/Version: Windows Vista
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Sys.Data
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">bnc-blr-team-mono at forge.provo.novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">migelU at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Development


Hello.
DataSet diffgram serialization missed row ID when serialize DataTable row with
all NULL values. 
So MS .NET DataSet can not deserialize data getted from the MONO server.

here is example of the serialized diffgram:

&lt;diffgr:diffgram xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;
xmlns:diffgr=&quot;urn:schemas-microsoft-com:xml-diffgram-v1&quot;&gt;
        &lt;NewDataSet&gt;
                &lt;Data5_x0040_Unit5 diffgr:id=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Data5 at Unit51</A>&quot; msdata:rowOrder=&quot;0&quot;
diffgr:hasChanges=&quot;modified&quot;&gt;
                        &lt;ColString&gt;Test catalog&lt;/ColString&gt;
                        &lt;pk&gt;TestCaseInterface.IBizClass5, TestCaseInterface,
Version=1.0.0.0, Culture=neutral,
PublicKeyToken=null:80065781-b552-44c6-b9ce-3dc6d13a5228:13c73feb-d4ec-46a3-ac32-61d70a529ebe&lt;/pk&gt;
                &lt;/Data5_x0040_Unit5&gt;
                &lt;Data5_x0040_Unit5 diffgr:id=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Data5 at Unit52</A>&quot; msdata:rowOrder=&quot;1&quot;
diffgr:hasChanges=&quot;modified&quot;&gt;
                        &lt;pk&gt;TestCaseInterface.IBizClass5, TestCaseInterface,
Version=1.0.0.0, Culture=neutral,
PublicKeyToken=null:80065781-b552-44c6-b9ce-3dc6d13a5228:80065781-b552-44c6-b9ce-3dc6d13a5228&lt;/pk&gt;
                &lt;/Data5_x0040_Unit5&gt;
        &lt;/NewDataSet&gt;
        &lt;diffgr:before&gt;
                &lt;Data5_x0040_Unit5 diffgr:id=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Data5 at Unit51</A>&quot;
msdata:rowOrder=&quot;0&quot;&gt;
                        &lt;ColString&gt;Test catalog&lt;/ColString&gt;
                &lt;/Data5_x0040_Unit5&gt;
                &lt;Data5_x0040_Unit5 /&gt;
        &lt;/diffgr:before&gt;
&lt;/diffgr:diffgram&gt;

note diffgr:before/Data5_x0040_Unit5 element

for proper deserialization it must be like this
&lt;Data5_x0040_Unit5 diffgr:id=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Data5 at Unit52</A>&quot; msdata:rowOrder=&quot;1&quot; /&gt;


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078727.html">[Mono-bugs] [Bug 405454] Can not pass CallContext slot via HTTPChannel + SoapFormatterSink
</A></li>
	<LI>Next message: <A HREF="078787.html">[Mono-bugs] [Bug 422475] DataSet serialization error with all NULLs	table rows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78728">[ date ]</a>
              <a href="thread.html#78728">[ thread ]</a>
              <a href="subject.html#78728">[ subject ]</a>
              <a href="author.html#78728">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
