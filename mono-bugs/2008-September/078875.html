<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 423695] New: problem with  System.Net.Sockets;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20423695%5D%20New%3A%20problem%20with%20%20System.Net.Sockets%3B&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078871.html">
   <LINK REL="Next"  HREF="078884.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 423695] New: problem with  System.Net.Sockets;</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20423695%5D%20New%3A%20problem%20with%20%20System.Net.Sockets%3B&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 423695] New: problem with  System.Net.Sockets;">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Sep  5 10:35:00 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="078871.html">[Mono-bugs] [Bug 412849] X11: No &quot;?&quot; button on Form with	HelpProvider
</A></li>
        <LI>Next message: <A HREF="078884.html">[Mono-bugs] [Bug 423695] problem with  System.Net.Sockets;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78875">[ date ]</a>
              <a href="thread.html#78875">[ thread ]</a>
              <a href="subject.html#78875">[ subject ]</a>
              <a href="author.html#78875">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=423695">https://bugzilla.novell.com/show_bug.cgi?id=423695</A>


           Summary: problem with  System.Net.Sockets;
           Product: Mono: Runtime
           Version: 1.9
          Platform: i386
        OS/Version: Ubuntu
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: misc
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">shai.hess at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: DeveloperNet


Description of Problem:

Before I started with Mono, my server ran on Windows XP without any problem.
Even today I have two .Net application, one run Windows XP and the other run
Mono in Linux. Ubuntu.

The problem is that the client successfully write data (len &gt; 0)to the server
and everything is fine. When the client read from the server in Mono again no
exception! only the client read 0 length data (which is invalid). Sometimes
also when I take down the server and immidiatly bring it up and than send write
from the client to the server (which have connectted socket which suppose to be
not operational because the server went down), the server Receive the data
successfully but for the read the client receive length 0!.

This bug is very critical to me and that what stand between me and to make the
mono option for using my product. (WWW.MFNETDISK.COM). You can have there my
NET code. Try to run the PCserver and the PCTool in mono in Linux.

Thanks,
Shai 

The server codes (make it easy to read):
-------------------------------------
using System.Net;
using System.Net.Sockets;
internal   NetworkStream ns ;
internal   Socket newSocket;
int TcpOP()
{
         IAsyncResult ar= ns.BeginRead (this.buff2Receive,this.DataRead,
                           this.Data2Read,null,null);
         waitrc=ar.AsyncWaitHandle.WaitOne(mswaittimenow,false);
         if (waitrc == false)
         {
           EndConnection();
           return -1;
         }
          byteread=ns.EndRead(ar);
          DoOperation();
         IAsyncResult ar= ns.BeginWrite(sendbuff,0,
         datalen,null,null);
           waitrc=ar.AsyncWaitHandle.WaitOne(WMSWAITTIME,false);
           if (waitrc == false)
           {
             EndConnection();
             return -1;
           }
           ns.EndWrite(ar);
           return 0;
}
EndConnection()
{
  this.ns.Close();
  this.newSocket.Close();
}
                        -------------------------------------

When Mono is the server and other computers is the client (I try Mainframe but
it is happened also when using Mono client. 


Steps to reproduce the problem:
1. 
2. 


Actual Results:


Expected Results:


How often does this happen? 

2-3 times every hour.


Additional Information:


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>










































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078871.html">[Mono-bugs] [Bug 412849] X11: No &quot;?&quot; button on Form with	HelpProvider
</A></li>
	<LI>Next message: <A HREF="078884.html">[Mono-bugs] [Bug 423695] problem with  System.Net.Sockets;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78875">[ date ]</a>
              <a href="thread.html#78875">[ thread ]</a>
              <a href="subject.html#78875">[ subject ]</a>
              <a href="author.html#78875">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
