<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 699452] New: Web menu class crashes during render if LevelMenuItemStyles are used
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20699452%5D%20New%3A%20Web%20menu%20class%20crashes%20during%20render%0A%20if%20LevelMenuItemStyles%20are%20used&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="112146.html">
   <LINK REL="Next"  HREF="112102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 699452] New: Web menu class crashes during render if LevelMenuItemStyles are used</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20699452%5D%20New%3A%20Web%20menu%20class%20crashes%20during%20render%0A%20if%20LevelMenuItemStyles%20are%20used&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 699452] New: Web menu class crashes during render if LevelMenuItemStyles are used">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Jun 11 20:15:49 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="112146.html">[Mono-bugs] [Bug 699451] [System.Diagnostics.Process] Ctrl+C in parent process kills child process
</A></li>
        <LI>Next message: <A HREF="112102.html">[Mono-bugs] [Bug 699457] New: MbUnit crashes when mono is built in x86_64 on Darwin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#112101">[ date ]</a>
              <a href="thread.html#112101">[ thread ]</a>
              <a href="subject.html#112101">[ subject ]</a>
              <a href="author.html#112101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=699452">https://bugzilla.novell.com/show_bug.cgi?id=699452</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=699452#c0">https://bugzilla.novell.com/show_bug.cgi?id=699452#c0</A>


           Summary: Web menu class crashes during render if
                    LevelMenuItemStyles are used
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.10.x
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Sys.Web
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jjackson at vortech.net</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534.30
(KHTML, like Gecko) Chrome/12.0.742.91 Safari/534.30

An &quot;Object reference not set to an instance of an object&quot; exception is thrown
on line 379 of BaseMenuRenderer.cs if a LevelMenuItemStyles is used. The
offending line of code is:


AddCssClass (linkStyle, oc.LevelMenuItemLinkStyles 
[item.Depth].RegisteredCssClass);

I noticed that LevelMenuItemLinkStyles is not initialized during the class
constructor in the base class. I haven't dug any deeper at this point, but this
should be enough info for someone familiar with the class source to pin it
down.

The code works properly on Windows under .Net but not on Linux or Windows under
Mono.

Reproducible: Always

Steps to Reproduce:
1. Create a menu with at least 2 levels and the StaticDisplayLevels set to 2
(or greater)
2. Add at least 2 LevelMenuItemStyles
3. Compile and run the page
Actual Results:  
HTTP 500 Error with mono throwing a System.NullReferenceException error

Expected Results:  
A menu should be rendered

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="112146.html">[Mono-bugs] [Bug 699451] [System.Diagnostics.Process] Ctrl+C in parent process kills child process
</A></li>
	<LI>Next message: <A HREF="112102.html">[Mono-bugs] [Bug 699457] New: MbUnit crashes when mono is built in x86_64 on Darwin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#112101">[ date ]</a>
              <a href="thread.html#112101">[ thread ]</a>
              <a href="subject.html#112101">[ subject ]</a>
              <a href="author.html#112101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
