<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 702594] New: SIGABRT by mini.c:3061 while starting	up app
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20702594%5D%20New%3A%20SIGABRT%20by%20mini.c%3A3061%20while%20starting%0A%09up%20app&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="112196.html">
   <LINK REL="Next"  HREF="112198.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 702594] New: SIGABRT by mini.c:3061 while starting	up app</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20702594%5D%20New%3A%20SIGABRT%20by%20mini.c%3A3061%20while%20starting%0A%09up%20app&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 702594] New: SIGABRT by mini.c:3061 while starting	up app">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Jun 28 06:40:57 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="112196.html">[Mono-bugs] [Bug 702532] New: DuplexClientBase Channel	Initialization Broken
</A></li>
        <LI>Next message: <A HREF="112198.html">[Mono-bugs] [Bug 702661] New: DirectoryInfo.EnumerateDirectories with SearchOption = AllDirectories fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#112197">[ date ]</a>
              <a href="thread.html#112197">[ thread ]</a>
              <a href="subject.html#112197">[ subject ]</a>
              <a href="author.html#112197">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=702594">https://bugzilla.novell.com/show_bug.cgi?id=702594</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=702594#c0">https://bugzilla.novell.com/show_bug.cgi?id=702594#c0</A>


           Summary: SIGABRT by mini.c:3061 while starting up app
    Classification: Mono
           Product: MonoTouch
           Version: unspecified
          Platform: iPad
        OS/Version: Apple iOS 4.3
            Status: NEW
          Severity: Critical
          Priority: P5 - None
         Component: Runtime
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">markus.meyer at bissantz.de</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Customer
           Blocker: ---


Description of Problem:

When starting the app on iPhone/iPad, it crashes with a SIGABRT and an
assertion violation:
* Assertion at ../../../../mono/mini/mini.c:5054, condition `vtable' not met

Experimenting around, also the following assertion violation occurred:
* Assertion at ../../../../mono/mini/mini.c:3061, condition `target' not met

The two stack traces are attached below.

Steps to reproduce the problem:
1. Compile attached solution with monotouch, important: compile for debugging,
use the iPhone/Debug configuration
2. Upload app to device
3. Start app on device
4. SIGABRT is expected

The behaviour occurs if and only if the option &quot;Enable debugging&quot; in
MonoDevelop is checked.

Things I have checked which didn't work:
- restart device
- remove App on device, reinstall App on device
- rebuild solution
- delete obj/bin folders
- rename app identifier
- use different provisioning profiles
- restart MonoDevelop 

Actual Results:

The app crashes before any views are displayed.

Expected Results:

The app start up normally and displays the hello world view

How often does this happen? 

Almost every time the app is started. In one of ten cases the app starts
normally though.


Additional Information:

Loaded assembly:
/private/var/mobile/Applications/A8F2BE48-C3B7-4E5E-B257-56379818C089/Notifications.app/System.dll
[External]
Loaded assembly:
/private/var/mobile/Applications/A8F2BE48-C3B7-4E5E-B257-56379818C089/Notifications.app/monotouch.dll
[External]
* Assertion at ../../../../mono/mini/mini.c:5054, condition `vtable' not met

Stacktrace:

  at System.TypeLoadException..ctor (string,string) &lt;0x00023&gt;
  at (wrapper runtime-invoke) object.runtime_invoke_dynamic
(intptr,intptr,intptr,intptr) &lt;0xffffffff&gt;

Native stacktrace:

    0   NotificationApp                     0x002003ac
mono_handle_native_sigsegv + 412
    1   NotificationApp                     0x00227598 sigabrt_signal_handler +
148
    2   libsystem_c.dylib                   0x3110572f _sigtramp + 42
    3   libsystem_c.dylib                   0x310fa3bb pthread_kill + 58
    4   libsystem_c.dylib                   0x310f2bff abort + 78
    5   NotificationApp                     0x0033c5d0 monoeg_g_logv + 248
    6   NotificationApp                     0x0033c664 monoeg_assertion_message
+ 44
    7   NotificationApp                     0x001e3a94
mono_jit_compile_method_inner + 208
    8   NotificationApp                     0x001e4cdc
mono_jit_compile_method_with_opt + 612
    9   NotificationApp                     0x001e4ef0 mono_jit_compile_method
+ 52
    10  NotificationApp                     0x001f949c mono_aot_plt_resolve +
316
    11  NotificationApp                     0x00202a50 mono_aot_plt_trampoline
+ 92
    12  NotificationApp                     0x0018e8c0
generic_trampoline_aot_plt + 136
    13  NotificationApp                     0x0015e5e8
wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr
+ 200
    14  NotificationApp                     0x001e6014 mono_jit_runtime_invoke
+ 2800
    15  NotificationApp                     0x002d4c40 mono_runtime_invoke +
140
    16  NotificationApp                     0x00264580
create_exception_two_strings + 332
    17  NotificationApp                     0x002645d8
mono_exception_from_name_two_strings + 68
    18  NotificationApp                     0x00264a70
mono_get_exception_type_load + 160
    19  NotificationApp                     0x0024fe4c
mono_class_get_exception_for_failure + 492
    20  NotificationApp                     0x002d17f0 mono_class_vtable_full +
112
    21  NotificationApp                     0x001e579c mono_jit_runtime_invoke
+ 632
    22  NotificationApp                     0x002d4c40 mono_runtime_invoke +
140
    23  NotificationApp                     0x00357184 monotouch_init + 880
    24  NotificationApp                     0x001e0568 main + 3160
    25  NotificationApp                     0x00002da4 start + 52

Debug info from gdb:


=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

Loaded assembly:
/private/var/mobile/Applications/A8F2BE48-C3B7-4E5E-B257-56379818C089/Notifications.app/System.dll
[External]
Loaded assembly:
/private/var/mobile/Applications/A8F2BE48-C3B7-4E5E-B257-56379818C089/Notifications.app/monotouch.dll
[External]
* Assertion at ../../../../mono/mini/mini.c:3061, condition `target' not met

Stacktrace:


Native stacktrace:

    0   NotificationApp                     0x002003a4
mono_handle_native_sigsegv + 412
    1   NotificationApp                     0x00227590 sigabrt_signal_handler +
148
    2   libsystem_c.dylib                   0x3110572f _sigtramp + 42
    3   libsystem_c.dylib                   0x310fa3bb pthread_kill + 58
    4   libsystem_c.dylib                   0x310f2bff abort + 78
    5   NotificationApp                     0x0033c5c8 monoeg_g_logv + 248
    6   NotificationApp                     0x0033c65c monoeg_assertion_message
+ 44
    7   NotificationApp                     0x001e2740
mono_resolve_patch_target + 1096
    8   NotificationApp                     0x001f7680 load_method + 1764
    9   NotificationApp                     0x001f8f00 mono_aot_get_method +
2624
    10  NotificationApp                     0x001e3a28
mono_jit_compile_method_inner + 108
    11  NotificationApp                     0x001e4cd4
mono_jit_compile_method_with_opt + 612
    12  NotificationApp                     0x001e5854 mono_jit_runtime_invoke
+ 824
    13  NotificationApp                     0x002d4c38 mono_runtime_invoke +
140
    14  NotificationApp                     0x002cda98
mono_runtime_class_init_full + 1920
    15  NotificationApp                     0x002cd310 mono_runtime_class_init
+ 28
    16  NotificationApp                     0x001e3a94
mono_jit_compile_method_inner + 216
    17  NotificationApp                     0x001e4cd4
mono_jit_compile_method_with_opt + 612
    18  NotificationApp                     0x001e5854 mono_jit_runtime_invoke
+ 824
    19  NotificationApp                     0x002d4c38 mono_runtime_invoke +
140
    20  NotificationApp                     0x00357190 monotouch_init + 900
    21  NotificationApp                     0x001e0560 main + 3160
    22  NotificationApp                     0x00002da4 start + 52

Debug info from gdb:


=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="112196.html">[Mono-bugs] [Bug 702532] New: DuplexClientBase Channel	Initialization Broken
</A></li>
	<LI>Next message: <A HREF="112198.html">[Mono-bugs] [Bug 702661] New: DirectoryInfo.EnumerateDirectories with SearchOption = AllDirectories fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#112197">[ date ]</a>
              <a href="thread.html#112197">[ thread ]</a>
              <a href="subject.html#112197">[ subject ]</a>
              <a href="author.html#112197">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
