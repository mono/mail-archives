<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 419316] New: SourceColumnNullMapping property of DbParameter Ignored in DbDataAdapter. Update
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20419316%5D%20New%3A%20SourceColumnNullMapping%20property%20of%0A%20DbParameter%20Ignored%20in%20DbDataAdapter.%20Update&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078356.html">
   <LINK REL="Next"  HREF="078381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 419316] New: SourceColumnNullMapping property of DbParameter Ignored in DbDataAdapter. Update</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20419316%5D%20New%3A%20SourceColumnNullMapping%20property%20of%0A%20DbParameter%20Ignored%20in%20DbDataAdapter.%20Update&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 419316] New: SourceColumnNullMapping property of DbParameter Ignored in DbDataAdapter. Update">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Aug 21 16:16:02 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="078356.html">[Mono-bugs] [Bug 383357] Novell c# LDAP api, LdapConnection. Disconnect does not clear the socket connections
</A></li>
        <LI>Next message: <A HREF="078381.html">[Mono-bugs] [Bug 419316] SourceColumnNullMapping property of DbParameter Ignored in DbDataAdapter. Update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78366">[ date ]</a>
              <a href="thread.html#78366">[ thread ]</a>
              <a href="subject.html#78366">[ subject ]</a>
              <a href="author.html#78366">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=419316">https://bugzilla.novell.com/show_bug.cgi?id=419316</A>


           Summary: SourceColumnNullMapping property of DbParameter Ignored
                    in DbDataAdapter.Update
           Product: Mono: Class Libraries
           Version: 1.9
          Platform: x86
        OS/Version: Windows XP
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Sys.Data
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">bnc-blr-team-mono at forge.provo.novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">robert_hood at admworld.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Development


Description of Problem:
The SourceColumnNullMapping property appears to be ignored in the
DbDataAdapter.Update method.  in .NET, if the source column value is null, the
parameter value becomes 0.  If the source column value is not null, the
parameter value becomes 1.

Steps to reproduce the problem:
1. Use the MySql 5.2.2 Designer in Visual Studio to create a typed data set
2. One column in the resulting table must be nullable.
3. The MySql designer sets the SourceColumnNullMapping property for internal
use
4. Verify that a parameter on the UpdateCommand of the typed data adapter has
the SourceColumnNullMapping property set to True
4. Fill the data set
5. Make a change to a field.  Ensure that there is a value in one of the
nullable fields
6. Create an instance of the typed data adapter.
7. Call .Update on the typed data adapter
8. Exception is thrown


Actual Results:
System.FormatException is thrown from the MySql Data providers when it attempts
to convert the column's actual value to an int32.  

Expected Results:
After DbDataAdapter finds its source column and sets the parameter value, it
should check the parameter SourceColumnNullMapping property, and based on that
change the parameter value to 1 or 0 accordingly.

How often does this happen? 
Every time Update is called

Additional Information:


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078356.html">[Mono-bugs] [Bug 383357] Novell c# LDAP api, LdapConnection. Disconnect does not clear the socket connections
</A></li>
	<LI>Next message: <A HREF="078381.html">[Mono-bugs] [Bug 419316] SourceColumnNullMapping property of DbParameter Ignored in DbDataAdapter. Update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78366">[ date ]</a>
              <a href="thread.html#78366">[ thread ]</a>
              <a href="subject.html#78366">[ subject ]</a>
              <a href="author.html#78366">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
