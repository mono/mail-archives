<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 414418] New: Unable to connect to a service on anything other than the exact URI used for instantiation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20414418%5D%20New%3A%20Unable%20to%20connect%20to%20a%20service%20on%0A%20anything%20other%20than%20the%20exact%20URI%20used%20for%20instantiation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077575.html">
   <LINK REL="Next"  HREF="077577.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 414418] New: Unable to connect to a service on anything other than the exact URI used for instantiation</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20414418%5D%20New%3A%20Unable%20to%20connect%20to%20a%20service%20on%0A%20anything%20other%20than%20the%20exact%20URI%20used%20for%20instantiation&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 414418] New: Unable to connect to a service on anything other than the exact URI used for instantiation">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Aug  4 12:59:02 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="077575.html">[Mono-bugs] [Bug 379546] Graphics.FillPath on Linux doesn't match	MS GDI+
</A></li>
        <LI>Next message: <A HREF="077577.html">[Mono-bugs] [Bug 414418] Unable to connect to a service on anything other than the exact URI used for instantiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77576">[ date ]</a>
              <a href="thread.html#77576">[ thread ]</a>
              <a href="subject.html#77576">[ subject ]</a>
              <a href="author.html#77576">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=414418">https://bugzilla.novell.com/show_bug.cgi?id=414418</A>


           Summary: Unable to connect to a service on anything other than
                    the exact URI used for instantiation
           Product: Mono: Class Libraries
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: WCF
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">noaml at mainsoft.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">taktaktaktaktaktaktaktaktaktak at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=231579)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=231579">https://bugzilla.novell.com/attachment.cgi?id=231579</A>)
Service contract

A client is unable to connect to a service on anything other than the exact URI
used for instantiation.

E.g., if the server is instantiated with an endpoint URI of
&quot;<A HREF="http://localhost:8080&quot;">http://localhost:8080&quot;</A> , and the client is instantiated with an endpoint URI
of &quot;<A HREF="http://127.0.0.1:8080&quot;,">http://127.0.0.1:8080&quot;,</A> the result of trying to connect is:

Unhandled Exception: System.Xml.XmlException: Expecting Envelope tag from
namespace <A HREF="http://schemas.xmlsoap.org/soap/envelope/,">http://schemas.xmlsoap.org/soap/envelope/,</A> got h1 and  instead  Line
1, position 2.
  at System.Xml.XmlReader.ReadStartElement (System.String localName,
System.String namespaceName) [0x0008b] in
/home/lbar4/dev/mono-svn/mcs/class/System.XML/System.Xml/XmlReader.cs:752 
  at System.ServiceModel.Channels.XmlReaderMessage.ReadEnvelopeStart ()
[0x00027] in
/home/lbar4/dev/olive/class/System.ServiceModel/System.ServiceModel.Channels/MessageImpl.cs:130 
  at System.ServiceModel.Channels.XmlReaderMessage..ctor
(System.ServiceModel.Channels.MessageVersion version,
System.Xml.XmlDictionaryReader reader, Int32 maxSizeOfHeaders) [0x00026] in
/home/lbar4/dev/olive/class/System.ServiceModel/System.ServiceModel.Channels/MessageImpl.cs:55 
  at System.ServiceModel.Channels.Message.CreateMessage
(System.Xml.XmlDictionaryReader envelopeReader, Int32 maxSizeOfHeaders,
System.ServiceModel.Channels.MessageVersion version) [0x00022] in
/home/lbar4/dev/olive/class/System.ServiceModel/System.ServiceModel.Channels/Message.cs:420 
  at System.ServiceModel.Channels.TextMessageEncoder.ReadMessage
(System.IO.Stream stream, Int32 maxSizeOfHeaders, System.String contentType)
[0x00000] in
/home/lbar4/dev/olive/class/System.ServiceModel/System.ServiceModel.Channels/TextMessageEncoder.cs:78 
  at System.ServiceModel.Channels.HttpRequestChannel.ProcessRequest
(System.ServiceModel.Channels.Message message, TimeSpan timeout) [0x00261] in
/home/lbar4/dev/olive/class/System.ServiceModel/System.ServiceModel.Channels/HttpRequestChannel.cs:151 
  at System.ServiceModel.Channels.HttpRequestChannel.Request
(System.ServiceModel.Channels.Message message, TimeSpan timeout) [0x00000] in
/home/lbar4/dev/olive/class/System.ServiceModel/System.ServiceModel.Channels/HttpRequestChannel.cs:82 
  at System.ServiceModel.ClientRuntimeChannel.Request
(System.ServiceModel.Channels.Message msg) [0x00000] in
/home/lbar4/dev/olive/class/System.ServiceModel/System.ServiceModel/ClientRuntimeChannel.cs:381 
  at System.ServiceModel.ClientRuntimeChannel.Request
(System.ServiceModel.Description.OperationDescription od, System.Object[]
parameters) [0x0006c] in
/home/lbar4/dev/olive/class/System.ServiceModel/System.ServiceModel/ClientRuntimeChannel.cs:352 
  at System.ServiceModel.ClientRuntimeChannel.Process
(System.Reflection.MethodBase method, System.String operationName,
System.Object[] parameters) [0x00015] in
/home/lbar4/dev/olive/class/System.ServiceModel/System.ServiceModel/ClientRuntimeChannel.cs:226 
  at __clientproxy_EchoServiceContract.echo (System.String ) [0x00000] 
  at ServiceHostTest.EchoClient.Main (System.String[] args) [0x00035] in
/home/lbar4/dev/ServiceHostTest/Client/EchoClient.cs:18 

On MS.NET, if I instantiate the server with localhost, or &quot;0.0.0.0&quot;, I'm able
to successfuly connect to any of the machine's IPs (127.0.0.1, 10.0.0.50,
external.hostname, etc.)

Attached are some minimal classes that Just Work on MS.NET, and result in the
aforementioned exception on Mono+Olive.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077575.html">[Mono-bugs] [Bug 379546] Graphics.FillPath on Linux doesn't match	MS GDI+
</A></li>
	<LI>Next message: <A HREF="077577.html">[Mono-bugs] [Bug 414418] Unable to connect to a service on anything other than the exact URI used for instantiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77576">[ date ]</a>
              <a href="thread.html#77576">[ thread ]</a>
              <a href="subject.html#77576">[ subject ]</a>
              <a href="author.html#77576">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
