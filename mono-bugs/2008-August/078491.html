<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 420386] New: [regression] nullable Drawing. Color set to null fails comparision to other colors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20420386%5D%20New%3A%20%5Bregression%5D%20nullable%20Drawing.%20Color%0A%20set%20to%20null%20fails%20comparision%20to%20other%20colors&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078546.html">
   <LINK REL="Next"  HREF="078553.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 420386] New: [regression] nullable Drawing. Color set to null fails comparision to other colors</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20420386%5D%20New%3A%20%5Bregression%5D%20nullable%20Drawing.%20Color%0A%20set%20to%20null%20fails%20comparision%20to%20other%20colors&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 420386] New: [regression] nullable Drawing. Color set to null fails comparision to other colors">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Aug 26 10:10:07 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="078546.html">[Mono-bugs] [Bug 420351] DataGridViewCellEventHandler And	Threestate not work
</A></li>
        <LI>Next message: <A HREF="078553.html">[Mono-bugs] [Bug 420386] [regression] nullable Drawing. Color set to null fails comparision to other colors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78491">[ date ]</a>
              <a href="thread.html#78491">[ thread ]</a>
              <a href="subject.html#78491">[ subject ]</a>
              <a href="author.html#78491">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=420386">https://bugzilla.novell.com/show_bug.cgi?id=420386</A>


           Summary: [regression] nullable Drawing.Color set to null fails
                    comparision to other colors
           Product: Mono: Compilers
           Version: 2.0
          Platform: x86-64
               URL: <A HREF="http://www.go-mono.com/archive/2.0/">http://www.go-mono.com/archive/2.0/</A>
        OS/Version: Kubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">silk at boktor.net</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=235524)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=235524">https://bugzilla.novell.com/attachment.cgi?id=235524</A>)
Unit tests for described behavior. TestNullColor1 and 2 fails, others works as
expected.

1. Code:
using System;
using System.Drawing;

public class NullableColorTests
{
    public static void Main ()
    {
        Color? col = null;
        Console.WriteLine (col == Color.Red);
    }

}

2. Expected output: false
3. Actual output: true

4. Works as expected in MS .NET and mono(gmcs) 1.9.1

This depend on the compiler used, not the runtime, ie. compiled with gmcs 1.9.1
works as expected on runtime 1.9.1 and 2.0; compiled with gmcs 2.0 fail on all
1.9.1, 2.0 and ms .net.

Mono 2.0 branch, revision: 111525

Attaching unit tests. TestNullColor1 and TestNullColor2 fails on 1.9.1.
When Color type is replaced with int, everything works as expected.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>













































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078546.html">[Mono-bugs] [Bug 420351] DataGridViewCellEventHandler And	Threestate not work
</A></li>
	<LI>Next message: <A HREF="078553.html">[Mono-bugs] [Bug 420386] [regression] nullable Drawing. Color set to null fails comparision to other colors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78491">[ date ]</a>
              <a href="thread.html#78491">[ thread ]</a>
              <a href="subject.html#78491">[ subject ]</a>
              <a href="author.html#78491">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
