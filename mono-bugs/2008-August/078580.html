<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 421166] New: System.Configuration. ProviderSettings not saving Parameters collection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20421166%5D%20New%3A%20System.Configuration.%0A%20ProviderSettings%20not%20saving%20Parameters%20collection&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078610.html">
   <LINK REL="Next"  HREF="078581.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 421166] New: System.Configuration. ProviderSettings not saving Parameters collection</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20421166%5D%20New%3A%20System.Configuration.%0A%20ProviderSettings%20not%20saving%20Parameters%20collection&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 421166] New: System.Configuration. ProviderSettings not saving Parameters collection">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Aug 28 14:43:17 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="078610.html">[Mono-bugs] [Bug 421155] Gendarme does not check if the exe is good
</A></li>
        <LI>Next message: <A HREF="078581.html">[Mono-bugs] [Bug 400838] Environment. ProcessorCount does not return the correct number of processors/cores
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78580">[ date ]</a>
              <a href="thread.html#78580">[ thread ]</a>
              <a href="subject.html#78580">[ subject ]</a>
              <a href="author.html#78580">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=421166">https://bugzilla.novell.com/show_bug.cgi?id=421166</A>


           Summary: System.Configuration.ProviderSettings not saving
                    Parameters collection
           Product: Mono: Class Libraries
           Version: 1.9
          Platform: i386
        OS/Version: Linux
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Configuration
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">keith.davis at zunisoft.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Community User


The following snippet of code does not work on mono 1.9.1:

Configuration config =
ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);

MembershipSection ms =
(MembershipSection)config.SectionGroups[&quot;system.web&quot;].Sections[&quot;membership&quot;];

ms.Providers.Clear();
ms.DefaultProvider = &quot;DbMembershipProvider&quot;;


Assembly a = Assembly.GetAssembly(typeof(DbMembershipProvider));

System.Configuration.ProviderSettings ps = new ProviderSettings();


ps.Name = &quot;DbMembershipProvider&quot;;

ps.Type = &quot;EPRS.Membership.Providers.DbMembershipProvider, &quot; + a.FullName;

ps.Parameters.Add(&quot;connectionStringName&quot;, &quot;OpenEPRSConn&quot;);

ms.Providers.Add(ps);

config.Save();


When the configuration including the above is saved, ps.Name and ps.Type show
up in the config as expected, connectionStringName is missing.  The code in
question has been verified to work on .NET 2.0 on Windows.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078610.html">[Mono-bugs] [Bug 421155] Gendarme does not check if the exe is good
</A></li>
	<LI>Next message: <A HREF="078581.html">[Mono-bugs] [Bug 400838] Environment. ProcessorCount does not return the correct number of processors/cores
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78580">[ date ]</a>
              <a href="thread.html#78580">[ thread ]</a>
              <a href="subject.html#78580">[ subject ]</a>
              <a href="author.html#78580">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
