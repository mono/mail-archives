<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 414446] Pressing Ctrl+C in MessageBox causes appl	exit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20414446%5D%20Pressing%20Ctrl%2BC%20in%20MessageBox%20causes%20appl%0A%09exit&In-Reply-To=bug-414446-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077630.html">
   <LINK REL="Next"  HREF="077635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 414446] Pressing Ctrl+C in MessageBox causes appl	exit</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20414446%5D%20Pressing%20Ctrl%2BC%20in%20MessageBox%20causes%20appl%0A%09exit&In-Reply-To=bug-414446-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 414446] Pressing Ctrl+C in MessageBox causes appl	exit">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Aug  5 05:36:53 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="077630.html">[Mono-bugs] [Bug 414446] Pressing Ctrl+C in MessageBox causes appl	exit
</A></li>
        <LI>Next message: <A HREF="077635.html">[Mono-bugs] [Bug 414446] Pressing Ctrl+C in MessageBox causes appl	exit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77634">[ date ]</a>
              <a href="thread.html#77634">[ thread ]</a>
              <a href="subject.html#77634">[ subject ]</a>
              <a href="author.html#77634">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=414446">https://bugzilla.novell.com/show_bug.cgi?id=414446</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=414446#c3">https://bugzilla.novell.com/show_bug.cgi?id=414446#c3</A>


Andy Hume &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A>&gt; changed:

           What    |Removed                                         |Added
----------------------------------------------------------------------------
                 CC|                                                |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A>




--- Comment #3 from Andy Hume &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A>&gt;  2008-08-05 03:36:52 MDT ---
[sorry for the long comment, I haven't time to shorten it]

I see the crash one time out of ten (say) on my 2.0-branch Win32 build on
WinXP, like:
[[
$ mono BCL/TypeConvFont_bug-414445.exe
Stacktrace:


This application has requested the Runtime to terminate it in an unusual way.
Please contact the application's support team for more information.
]]

Ctrl+C in a MessageBox copies the contents to the Clipboard (bug 325235).  On
Windows that uses COM which requires STA Threading, thus this (and all)
WinForms apps need &quot;[STAThread]&quot; on the Main method.  I suspected that some
fault was occuring in the native COM interface as that is missing.  However I
still can repro the crash after that attribute is applied.

When caught in a VS debugger I got:
[[
Unhandled exception at 0x7c911e58 in mono.exe: 0xC0000005: Accesss violation
reading location 0x47202c31.
]]
There was a stack trace too, but copy-and-paste was bust...


OK, so under windbg, on hitting Ctrl+four times I got the following output
[[
0:003&gt; g
Heap corruption detected at 01D19E60
Heap corruption detected at 01F090E8
Heap corruption detected at 00BEA080
Heap corruption detected at 00BEA220
Heap corruption detected at 01D8B760
Heap corruption detected at 026E1AB8
Heap corruption detected at 026E1C58
Heap corruption detected at 01D105F0
Heap corruption detected at 0268D1C0
Heap corruption detected at 0268D360
]]


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077630.html">[Mono-bugs] [Bug 414446] Pressing Ctrl+C in MessageBox causes appl	exit
</A></li>
	<LI>Next message: <A HREF="077635.html">[Mono-bugs] [Bug 414446] Pressing Ctrl+C in MessageBox causes appl	exit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77634">[ date ]</a>
              <a href="thread.html#77634">[ thread ]</a>
              <a href="subject.html#77634">[ subject ]</a>
              <a href="author.html#77634">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
