<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 410608] NullReferenceException saving icon
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20410608%5D%20NullReferenceException%20saving%20icon&In-Reply-To=bug-410608-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="077710.html">
   <LINK REL="Next"  HREF="077712.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 410608] NullReferenceException saving icon</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20410608%5D%20NullReferenceException%20saving%20icon&In-Reply-To=bug-410608-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 410608] NullReferenceException saving icon">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Aug  6 17:23:45 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="077710.html">[Mono-bugs] [Bug 381922]	System.Runtime.Serialization.SerializationException
</A></li>
        <LI>Next message: <A HREF="077712.html">[Mono-bugs] [Bug 411372] [Regression] IEClone crashes when you	click on a link
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77711">[ date ]</a>
              <a href="thread.html#77711">[ thread ]</a>
              <a href="subject.html#77711">[ subject ]</a>
              <a href="author.html#77711">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=410608">https://bugzilla.novell.com/show_bug.cgi?id=410608</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gert.driesen at pandora.be</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=410608#c4">https://bugzilla.novell.com/show_bug.cgi?id=410608#c4</A>





--- Comment #4 from Gert Driesen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gert.driesen at pandora.be</A>&gt;  2008-08-06 15:23:44 MDT ---
Created an attachment (id=232132)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=232132">https://bugzilla.novell.com/attachment.cgi?id=232132</A>)
Fix and unit test

This patch fixes the issue, and add a unit test.  Should I merge the test with
the existing Save test?

The icon that I added was taken from bug #323511. If the patch is approved,
I'll add this as a comment to that bug (to avoid adding this icon twice).

Should we first add the IconDirEntry instances to an arraylist, and copy that
to an IconDirEntry array? Right now, we allocate extra slots in the array for
256x256 icons (since we skip these). My patch does not touch this.

I also think we are using the wrong id when we check the size, in case a
256x256 icon was skipped before. We apparently use i instead of p.  See line
686. Let me know if you want a separate bug report for this.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="077710.html">[Mono-bugs] [Bug 381922]	System.Runtime.Serialization.SerializationException
</A></li>
	<LI>Next message: <A HREF="077712.html">[Mono-bugs] [Bug 411372] [Regression] IEClone crashes when you	click on a link
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77711">[ date ]</a>
              <a href="thread.html#77711">[ thread ]</a>
              <a href="subject.html#77711">[ subject ]</a>
              <a href="author.html#77711">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
