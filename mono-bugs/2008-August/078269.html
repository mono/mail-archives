<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 418566] New: Out Of Range exception when defining a mutex access rule
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20418566%5D%20New%3A%20Out%20Of%20Range%20exception%20when%20defining%0A%20a%20mutex%20access%20rule&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="078268.html">
   <LINK REL="Next"  HREF="078270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 418566] New: Out Of Range exception when defining a mutex access rule</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20418566%5D%20New%3A%20Out%20Of%20Range%20exception%20when%20defining%0A%20a%20mutex%20access%20rule&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 418566] New: Out Of Range exception when defining a mutex access rule">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Aug 20 02:39:56 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="078268.html">[Mono-bugs] [Bug 351520] UnmanagedFunctionPointer as out parameter from native function results in SIGABRT
</A></li>
        <LI>Next message: <A HREF="078270.html">[Mono-bugs] [Bug 418620] New: Sys.Web is prone to &quot;HTTP header	injection&quot; attacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78269">[ date ]</a>
              <a href="thread.html#78269">[ thread ]</a>
              <a href="subject.html#78269">[ subject ]</a>
              <a href="author.html#78269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=418566">https://bugzilla.novell.com/show_bug.cgi?id=418566</A>


           Summary: Out Of Range exception when defining a mutex access rule
           Product: Mono: Class Libraries
           Version: 1.9
          Platform: i686
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">brett_senior at yahoo.com.au</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Description of Problem:

When defining a Mutex Access Rule, the program throws an Out Of Range exception
even though the code is almost identical to what is on the MSDN Documentation
for Microsoft's .NET implementation.


Steps to reproduce the problem:
1. Execute the following code fragment:

                string user;               
                MutexSecurity ms = new MutexSecurity();

                //
                //First create the username that we will use in the mutex
security
                //rules.
                //
                user = System.Environment.UserDomainName + &quot;\\&quot; +
System.Environment.UserName;

                //
                //Now create the mutex access rules and add them to the
security object.
                //
                MutexAccessRule mar1 = new MutexAccessRule(
                    user, MutexRights.ReadPermissions,
AccessControlType.Allow);

                ms.AddAccessRule(mar1);


Actual Results:

Unhandled Exception: System.ArgumentOutOfRangeException: Argument is out of
range.
  at System.Security.AccessControl.AuthorizationRule..ctor
(System.Security.Principal.IdentityReference identity, Int32 accessMask,
Boolean isInherited, InheritanceFlags inheritanceFlags, PropagationFlags
propagationFlags) [0x0004d] in
/home/ingo/mono-1.9.1+dfsg/mcs/class/corlib/System.Security.AccessControl/AuthorizationRule.cs:69
  at System.Security.AccessControl.AccessRule..ctor
(System.Security.Principal.IdentityReference identity, Int32 accessMask,
Boolean isInherited, InheritanceFlags inheritanceFlags, PropagationFlags
propagationFlags, AccessControlType type) [0x00000] in
/home/ingo/mono-1.9.1+dfsg/mcs/class/corlib/System.Security.AccessControl/AccessRule.cs:44
  at System.Security.AccessControl.MutexAccessRule..ctor
(System.Security.Principal.IdentityReference identity, MutexRights mutexRights,
AccessControlType type) [0x00000] in
/home/ingo/mono-1.9.1+dfsg/mcs/class/corlib/System.Security.AccessControl/MutexAccessRule.cs:44
  at System.Security.AccessControl.MutexAccessRule..ctor (System.String
identity, MutexRights mutexRights, AccessControlType type) [0x00000] in
/home/ingo/mono-1.9.1+dfsg/mcs/class/corlib/System.Security.AccessControl/MutexAccessRule.cs:52


Expected Results:

An access rule be defined so that it can then be added to the security object
for the mutex.


How often does this happen? 

Always.


Additional Information:

I am running Debian/Lenny 32 bit with Mono 1.9.1.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="078268.html">[Mono-bugs] [Bug 351520] UnmanagedFunctionPointer as out parameter from native function results in SIGABRT
</A></li>
	<LI>Next message: <A HREF="078270.html">[Mono-bugs] [Bug 418620] New: Sys.Web is prone to &quot;HTTP header	injection&quot; attacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#78269">[ date ]</a>
              <a href="thread.html#78269">[ thread ]</a>
              <a href="subject.html#78269">[ subject ]</a>
              <a href="author.html#78269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
