<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 371581] HttpContext.RewritePath no longer works
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20371581%5D%20HttpContext.RewritePath%20no%20longer%20works&In-Reply-To=bug-371581-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="070827.html">
   <LINK REL="Next"  HREF="070833.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 371581] HttpContext.RewritePath no longer works</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20371581%5D%20HttpContext.RewritePath%20no%20longer%20works&In-Reply-To=bug-371581-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 371581] HttpContext.RewritePath no longer works">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Mar 18 02:16:49 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="070827.html">[Mono-bugs] [Bug 371581] HttpContext.RewritePath no longer works
</A></li>
        <LI>Next message: <A HREF="070833.html">[Mono-bugs] [Bug 371581] HttpContext.RewritePath no longer works
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70832">[ date ]</a>
              <a href="thread.html#70832">[ thread ]</a>
              <a href="subject.html#70832">[ subject ]</a>
              <a href="author.html#70832">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=371581">https://bugzilla.novell.com/show_bug.cgi?id=371581</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gert.driesen at pandora.be</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=371581#c7">https://bugzilla.novell.com/show_bug.cgi?id=371581#c7</A>





--- Comment #7 from Gert Driesen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gert.driesen at pandora.be</A>&gt;  2008-03-18 00:16:49 MST ---
Let me summarize the behavior I'm seeing:

MS:

1) BeginRequest/EndRequest event handlers attached in Application_Start are not
executed, although the Application_Start is definitely invoked.

2) Event handlers for the same events attached in Init (not Application_Init) 
are executed, and the path is rewritten just fine.

3) Rewriting the path in Application_BeginRequest works fine.

Mono:

1) BeginRequest/EndRequest event handlers attached in Application_Start are
executed, but RewritePath does not have any effect.

2) Event handlers for the same events attached in Init are also executed, but
RewritePath again does not have any effect.

3) Rewriting the path in Application_BeginRequest works fine.

Conclusion:

Mono does not match MS for 1 and 2.

To match MS:

* BeginRequest/EndRequest event handlers attached in Application_Start should
not be taken into account.

* Using RewritePath in the BeginRequest event handler (or
Application_BeginRequest) should cause the specified IHttpHandler to be served
instead.

When these two issues are fixed in Mono, then your repro should still not work. 

You really need to attach your event handlers in Init, or just rewrite the path
in the Application_BeginRequest method (as I mentioned earlier).

You should avoid attaching event handlers in Application_Start:
<A HREF="http://www.kenegozi.com/Blog/2007/09/11/applicationstart-might-be-unsafe-use-applicationinit-instead.aspx">http://www.kenegozi.com/Blog/2007/09/11/applicationstart-might-be-unsafe-use-applicationinit-instead.aspx</A>


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>




































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="070827.html">[Mono-bugs] [Bug 371581] HttpContext.RewritePath no longer works
</A></li>
	<LI>Next message: <A HREF="070833.html">[Mono-bugs] [Bug 371581] HttpContext.RewritePath no longer works
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#70832">[ date ]</a>
              <a href="thread.html#70832">[ thread ]</a>
              <a href="subject.html#70832">[ subject ]</a>
              <a href="author.html#70832">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
