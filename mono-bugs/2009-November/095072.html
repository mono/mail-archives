<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 556746] New: UnmanagedFunctionPointer crashes AOT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20556746%5D%20New%3A%20UnmanagedFunctionPointer%20crashes%20AOT&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="095071.html">
   <LINK REL="Next"  HREF="095073.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 556746] New: UnmanagedFunctionPointer crashes AOT</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20556746%5D%20New%3A%20UnmanagedFunctionPointer%20crashes%20AOT&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 556746] New: UnmanagedFunctionPointer crashes AOT">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Nov 18 18:12:58 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="095071.html">[Mono-bugs] [Bug 549881] Stepping into &quot;Console.WriteLine()&quot; should not debug unavailable source code - Monotouch 1.2 Debugging
</A></li>
        <LI>Next message: <A HREF="095073.html">[Mono-bugs] [Bug 556746] UnmanagedFunctionPointer crashes AOT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#95072">[ date ]</a>
              <a href="thread.html#95072">[ thread ]</a>
              <a href="subject.html#95072">[ subject ]</a>
              <a href="author.html#95072">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=556746">http://bugzilla.novell.com/show_bug.cgi?id=556746</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=556746#c0">http://bugzilla.novell.com/show_bug.cgi?id=556746#c0</A>


           Summary: UnmanagedFunctionPointer crashes AOT
    Classification: Mono
           Product: MonoTouch
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Runtime
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">alp at atoker.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_2; en-us)
AppleWebKit/531.21.8 (KHTML, like Gecko) Version/4.0.4 Safari/531.21.10

    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
    unsafe delegate IntPtr MyCallback(IntPtr data);

The above C# crashes the full AOT compiler when targeting iPhone Debug with the
MonoTouch mtouch utility. Removing the attribute allows the code build and run
correctly on the device. Guessing there's a case missing somewhere.

We have the attribute there to support the same library on Windows and it would
be nice to build without code modifications, even if it isn't necessary to
target iPhone.

Version: Current MonoTouch release at time of writing (/branches/mono-2-6/mono
r145575 Tue 10 Nov 2009 12:26:10 EST)

Reproducible: Always

Steps to Reproduce:
1.
2.
3.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>


















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="095071.html">[Mono-bugs] [Bug 549881] Stepping into &quot;Console.WriteLine()&quot; should not debug unavailable source code - Monotouch 1.2 Debugging
</A></li>
	<LI>Next message: <A HREF="095073.html">[Mono-bugs] [Bug 556746] UnmanagedFunctionPointer crashes AOT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#95072">[ date ]</a>
              <a href="thread.html#95072">[ thread ]</a>
              <a href="subject.html#95072">[ subject ]</a>
              <a href="author.html#95072">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
