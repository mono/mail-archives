<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 554715] Corrupt dll generates SIGABRT / System.BadImageFormat, suspected related to constructing a System.Threading.Timer in a lock
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20554715%5D%20Corrupt%20dll%20generates%20SIGABRT%20/%0A%20System.BadImageFormat%2C%0A%20suspected%20related%20to%20constructing%20a%20System.Threading.Timer%20in%20a%20lock&In-Reply-To=bug-554715-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="094899.html">
   <LINK REL="Next"  HREF="094902.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 554715] Corrupt dll generates SIGABRT / System.BadImageFormat, suspected related to constructing a System.Threading.Timer in a lock</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20554715%5D%20Corrupt%20dll%20generates%20SIGABRT%20/%0A%20System.BadImageFormat%2C%0A%20suspected%20related%20to%20constructing%20a%20System.Threading.Timer%20in%20a%20lock&In-Reply-To=bug-554715-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 554715] Corrupt dll generates SIGABRT / System.BadImageFormat, suspected related to constructing a System.Threading.Timer in a lock">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Nov 11 17:44:40 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="094899.html">[Mono-bugs] [Bug 554715] Corrupt dll generates SIGABRT / System.BadImageFormat, suspected related to constructing a System.Threading.Timer in a lock
</A></li>
        <LI>Next message: <A HREF="094902.html">[Mono-bugs] [Bug 554715] Corrupt dll generates SIGABRT / System.BadImageFormat, suspected related to constructing a System.Threading.Timer in a lock
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#94900">[ date ]</a>
              <a href="thread.html#94900">[ thread ]</a>
              <a href="subject.html#94900">[ subject ]</a>
              <a href="author.html#94900">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=554715">http://bugzilla.novell.com/show_bug.cgi?id=554715</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">novel at andrewrondeau.com</A> added comment
<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=554715#c4">http://bugzilla.novell.com/show_bug.cgi?id=554715#c4</A>





--- Comment #4 from Andrew Rondeau &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">novel at andrewrondeau.com</A>&gt;  2009-11-11 15:44:39 MST ---
Well, the good news is that if you made it that far then you aren't getting a
corrupted assembly!  The bug that I'm reporting means that ObjectCloud.exe
crashes before it can load ObjectCloud.WebServer.Implementation.dll.

----------

Some questions:

Are you using Mono 2.4.2.3, or something newer that I don't have access to?

In the ObjectCloud.Interfaces project; WebServer folder, WebHandler.cs, are
lines 584 and 596 commented out?  (They need to be in order to trigger the bug)

Are you using MonoDevelop on Windows or a version of Visual Studio newer then
2005?  I didn't try that test combo, and I'm not sure how MonoDevelop on
Windows handles some custom xcopy / cp -R commands.  (This isn't needed to
trigger the bug.)

Are you running ObjectCloud.exe from the its path?  ObjectCloud.exe looks in
the current working directory for its configuration files and some other files.

Sometimes a folder called &quot;FileSystem&quot; becomes corrupted.  Delete it. 
(However, if you get this far, it means you aren't hitting the bug that I
reported.)

Also, the /Trunk/Server/DefaultFiles folder needs to be copied into the same
folder as ObjectCloud.exe.  It usually copies automatically in VS 2005 and
MonoDevelop on *nix.  (Again, if you get this far, it means you aren't hitting
the bug I reported.)

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="094899.html">[Mono-bugs] [Bug 554715] Corrupt dll generates SIGABRT / System.BadImageFormat, suspected related to constructing a System.Threading.Timer in a lock
</A></li>
	<LI>Next message: <A HREF="094902.html">[Mono-bugs] [Bug 554715] Corrupt dll generates SIGABRT / System.BadImageFormat, suspected related to constructing a System.Threading.Timer in a lock
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#94900">[ date ]</a>
              <a href="thread.html#94900">[ thread ]</a>
              <a href="subject.html#94900">[ subject ]</a>
              <a href="author.html#94900">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
