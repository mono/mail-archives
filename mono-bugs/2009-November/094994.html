<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 555631] New: XSP crashes with Illegal Instruction when parsing asp tag with quoted attributes inside a similarly quoted HTML attribute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20555631%5D%20New%3A%20XSP%20crashes%20with%20Illegal%20Instruction%0A%20when%20parsing%20asp%20tag%20with%20quoted%20attributes%20inside%20a%20similarly%20quoted%20HTML%0A%20attribute&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="094993.html">
   <LINK REL="Next"  HREF="095010.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 555631] New: XSP crashes with Illegal Instruction when parsing asp tag with quoted attributes inside a similarly quoted HTML attribute</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20555631%5D%20New%3A%20XSP%20crashes%20with%20Illegal%20Instruction%0A%20when%20parsing%20asp%20tag%20with%20quoted%20attributes%20inside%20a%20similarly%20quoted%20HTML%0A%20attribute&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 555631] New: XSP crashes with Illegal Instruction when parsing asp tag with quoted attributes inside a similarly quoted HTML attribute">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Nov 15 08:11:39 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="094993.html">[Mono-bugs] [Bug 550722] System.InvalidOperationException: Parameter out of scope
</A></li>
        <LI>Next message: <A HREF="095010.html">[Mono-bugs] [Bug 555631] XSP crashes with Illegal Instruction when parsing asp tag with quoted attributes inside a similarly quoted HTML attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#94994">[ date ]</a>
              <a href="thread.html#94994">[ thread ]</a>
              <a href="subject.html#94994">[ subject ]</a>
              <a href="author.html#94994">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=555631">http://bugzilla.novell.com/show_bug.cgi?id=555631</A>


           Summary: XSP crashes with Illegal Instruction when parsing asp
                    tag with quoted attributes inside a similarly quoted
                    HTML attribute
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.4.x
          Platform: Other
        OS/Version: Mac OS X 10.5
            Status: NEW
          Severity: Critical
          Priority: P5 - None
         Component: Sys.Web
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">NTmatter at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


--- Comment #0 from Thomas Johnson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">NTmatter at gmail.com</A>&gt; 2009-11-15 13:11:31 UTC ---
Created an attachment (id=327592)
ASPX page demonstrating the crash

User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_2; en-us)
AppleWebKit/531.21.8 (KHTML, like Gecko) Version/4.0.4 Safari/531.21.10

The XSP process crashes when it comes across an ASPX page with an HTML tag with
an attribute containing an ASP tag whose attributes are surrounded by the same
kind of quotes. (eg, nested double-quotes inside double quoted attributes)

On its own, &lt;asp:Literal id='itemColor' text='red' /&gt; and &lt;asp:Literal
id=&quot;itemColor&quot; text=&quot;red&quot; /&gt; are fine.

When nested inside an HTML tag, &lt;p style=&quot;color: &lt;asp:Literal id='itemColor'
text='red' /&gt;;&quot;&gt; and &lt;p style='color: &lt;asp:Literal id=&quot;itemColor&quot; text=&quot;red&quot;
/&gt;;'&gt; are fine as well.

When using the same quotes in both the ASP tag and the attribute, XSP will
crash citing an illegal hardware instruction: &lt;p style=&quot;color: &lt;asp:Literal
id=&quot;itemColor&quot; text=&quot;red&quot; /&gt;;&quot;&gt; &lt;p style='color: &lt;asp:Literal id='itemColor'
text='red' /&gt;;'&gt;

Reproducible: Always

Steps to Reproduce:
1. Create aspx page containing &lt;a href=&quot;&lt;asp:Literal id=&quot;crasher&quot; /&gt;&quot;&gt;Hello&lt;/a&gt;
2. Start new instance of XSP
3. Visit created page
Actual Results:  
XSP crashes. In ZSH, &quot;illegal hardware instruction&quot; is printed to the console.
In Bash &quot;Illegal instruction&quot; is printed to the console.

Expected Results:  
Page should render, or at least a 500 Error should be displayed.

Tested against OSX 10.5 and 10.6 with the repackaged version of Mono 2.4.2.3


-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>


























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="094993.html">[Mono-bugs] [Bug 550722] System.InvalidOperationException: Parameter out of scope
</A></li>
	<LI>Next message: <A HREF="095010.html">[Mono-bugs] [Bug 555631] XSP crashes with Illegal Instruction when parsing asp tag with quoted attributes inside a similarly quoted HTML attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#94994">[ date ]</a>
              <a href="thread.html#94994">[ thread ]</a>
              <a href="subject.html#94994">[ subject ]</a>
              <a href="author.html#94994">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
