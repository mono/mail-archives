<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 60470][Wis] Changed - Exception thrown when infering Xml Schema to DataSet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="017743.html">
   <LINK REL="Next"  HREF="017744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 60470][Wis] Changed - Exception thrown when infering Xml Schema to DataSet
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 60470][Wis] Changed - Exception thrown when infering Xml Schema to DataSet">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Tue, 22 Jun 2004 14:26:23 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="017743.html">[Mono-bugs] [Bug 60573][Nor] Changed - CryptoStream output 1 block short after Flush
</A></li>
        <LI> Next message: <A HREF="017744.html">[Mono-bugs] [Bug 60442][Maj] Changed - PrivateBinPath bug again...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17745">[ date ]</a>
              <a href="thread.html#17745">[ thread ]</a>
              <a href="subject.html#17745">[ subject ]</a>
              <a href="author.html#17745">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:pbaena@uol.com.ar.">pbaena@uol.com.ar.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=60470">http://bugzilla.ximian.com/show_bug.cgi?id=60470</A>

--- shadow/60470	2004-06-21 00:37:03.000000000 -0400
+++ shadow/60470.tmp.25667	2004-06-22 14:26:22.000000000 -0400
@@ -122,6 +122,85 @@
 not behave as they expected, since InferXmlSchema () looks like
 successfully done (but in fact it never infers any structures). It is
 impossible to support DataSet to handle schema document, unless it is
 designed to use namespace alias such like XSLT does.
 
 I hope this clarifies the way I fixed would be better than what MS does.
+
+------- Additional Comments From <A HREF="mailto:pbaena@uol.com.ar">pbaena@uol.com.ar</A>  2004-06-22 14:26 -------
+Is this related?  
+  
+Usuarios.xml:  
+  
+&lt;myData&gt;  
+  &lt;xs:schema id=&quot;myData&quot; xmlns=&quot;&quot;  
+xmlns:xs=&quot;<A HREF="http://www.w3.org/2001/XMLSchema"">http://www.w3.org/2001/XMLSchema&quot;</A>  
+xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-m  
+sdata&quot;&gt;  
+    &lt;xs:element name=&quot;myData&quot; msdata:IsDataSet=&quot;true&quot;&gt;  
+      &lt;xs:complexType&gt;  
+        &lt;xs:choice maxOccurs=&quot;unbounded&quot;&gt;  
+          &lt;xs:element name=&quot;myTable&quot;&gt;  
+            &lt;xs:complexType&gt;  
+              &lt;xs:sequence&gt;  
+                &lt;xs:element name=&quot;id&quot; msdata:AutoIncrement=&quot;true&quot;  
+type=&quot;xs:int&quot; minOccurs=&quot;0&quot; /&gt;  
+                &lt;xs:element name=&quot;nombre&quot; type=&quot;xs:string&quot;  
+minOccurs=&quot;0&quot; /&gt;  
+                &lt;xs:element name=&quot;telefono&quot; type=&quot;xs:string&quot;  
+minOccurs=&quot;0&quot; /&gt;  
+                &lt;xs:element name=&quot;email&quot; type=&quot;xs:string&quot;  
+minOccurs=&quot;0&quot; /&gt;  
+                &lt;xs:element name=&quot;password&quot; type=&quot;xs:string&quot;  
+minOccurs=&quot;0&quot; /&gt;  
+              &lt;/xs:sequence&gt;  
+            &lt;/xs:complexType&gt;  
+          &lt;/xs:element&gt;  
+        &lt;/xs:choice&gt;  
+      &lt;/xs:complexType&gt;  
+    &lt;/xs:element&gt;  
+  &lt;/xs:schema&gt;  
+  &lt;myTable&gt;  
+    &lt;id&gt;0&lt;/id&gt;  
+    &lt;nombre&gt;test&lt;/nombre&gt;  
+    &lt;telefono&gt;ssss&lt;/telefono&gt;  
+    &lt;email&gt;sadwras&lt;/email&gt;  
+    &lt;password&gt;adsdasd&lt;/password&gt;  
+  &lt;/myTable&gt;  
+  &lt;myTable&gt;  
+    &lt;id&gt;1&lt;/id&gt;  
+    &lt;nombre&gt;asds&lt;/nombre&gt;  
+    &lt;telefono&gt;23123&lt;/telefono&gt;  
+    &lt;email&gt;wesadds&lt;/email&gt;  
+    &lt;password&gt;qweqwe&lt;/password&gt;  
+  &lt;/myTable&gt;  
+&lt;/myData&gt;  
+  
+  
+With this code:  
+  
+using System;  
+using System.Data;  
+using System.IO;  
+  
+class Test {  
+  
+        public static void Main ()  
+        {  
+                DataSet ds = new DataSet();  
+                FileStream fs = new FileStream(&quot;Usuarios.xml&quot;,  
+                        FileMode.Open, FileAccess.Read,  
+FileShare.Read);  
+                StreamReader reader = new StreamReader(fs);  
+                ds.ReadXml(reader, XmlReadMode.ReadSchema);  
+                fs.Close();  
+  
+                Console.WriteLine (ds.GetXml ());  
+        }  
+  
+}  
+  
+  
+  
+Shows a &lt;NewDataSet /&gt;  
+  
+Whereas on .NET it throws a dataset filled with the elements.  

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="017743.html">[Mono-bugs] [Bug 60573][Nor] Changed - CryptoStream output 1 block short after Flush
</A></li>
	<LI> Next message: <A HREF="017744.html">[Mono-bugs] [Bug 60442][Maj] Changed - PrivateBinPath bug again...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17745">[ date ]</a>
              <a href="thread.html#17745">[ thread ]</a>
              <a href="subject.html#17745">[ subject ]</a>
              <a href="author.html#17745">[ author ]</a>
         </LI>
       </UL>
</body></html>
