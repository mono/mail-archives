<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 53177][Nor] Changed - WaitHandles are not finalizing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="011491.html">
   <LINK REL="Next"  HREF="011492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 53177][Nor] Changed - WaitHandles are not finalizing
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 53177][Nor] Changed - WaitHandles are not finalizing">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Thu, 22 Jan 2004 10:15:37 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="011491.html">[Mono-bugs] =?ISO-8859-1?B?WW91ciB3aWVnaHQgYm90aGVyaW5nIHlvdT8/PyBUcnkgUGhlbnRlcm1pbmU=?=
</A></li>
        <LI> Next message: <A HREF="011492.html">[Mono-bugs] [Bug 53157][Min] Changed - mono.pc instead of mint.pc generated on Alpha
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11490">[ date ]</a>
              <a href="thread.html#11490">[ thread ]</a>
              <a href="subject.html#11490">[ subject ]</a>
              <a href="author.html#11490">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:derek.mcumber@datamtnsol.com.">derek.mcumber@datamtnsol.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=53177">http://bugzilla.ximian.com/show_bug.cgi?id=53177</A>

--- shadow/53177	2004-01-22 03:57:40.000000000 -0500
+++ shadow/53177.tmp.15468	2004-01-22 10:15:37.000000000 -0500
@@ -186,6 +186,39 @@
 afterwards...
 
 ------- Additional Comments From <A HREF="mailto:gonzalo@ximian.com">gonzalo@ximian.com</A>  2004-01-22 03:57 -------
 Created an attachment (id=6498)
 GC_PRINT_STATS output
 
+
+------- Additional Comments From <A HREF="mailto:derek.mcumber@datamtnsol.com">derek.mcumber@datamtnsol.com</A>  2004-01-22 10:15 -------
+You GC runs right, mine does not.  Is it straight GC6.2 or did you
+make changes?  What OS?
+
+Windows appears to get into a race/starvation/etc problem early on
+(first guess is mono_manage_threads() call) while the whole world
+blocks for a join)  At about this time, GC goes crazy (excerpt from
+first attachment)
+
+Increasing heap size by 1044480 after 44052 allocated bytes
+Increasing heap size by 1392640 after 44052 allocated bytes
+Initiating full world-stop collection 2 after 1045064 allocd bytes
+--&gt; Marking for collection 2 after 1045064 allocd bytes + 5528 wasted
+bytes
+Collection 1 finished ---&gt; heapsize = 2568192 bytes
+World-stopped marking took 20 msecs
+Complete collection took 20 msecs
+Increasing heap size by 1859584 after 0 allocated bytes
+Increasing heap size by 2478080 after 0 allocated bytes
+Increasing heap size by 3305472 after 0 allocated bytes
+Increasing heap size by 4407296 after 0 allocated bytes
+Increasing heap size by 5873664 after 0 allocated bytes
+Increasing heap size by 7831552 after 2002152 allocated bytes
+
+Nothing is malloc'ing memory, but GC is using the algorithm to grow
+the heap exponentially.
+
+Also, Windows appears to grow heap on nearly every alloc,
+but on your OS it works as it should.
+
+Keep this open while I set up a few test scenarios.  We
+are gonna solve this thing and put it to bed.....

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="011491.html">[Mono-bugs] =?ISO-8859-1?B?WW91ciB3aWVnaHQgYm90aGVyaW5nIHlvdT8/PyBUcnkgUGhlbnRlcm1pbmU=?=
</A></li>
	<LI> Next message: <A HREF="011492.html">[Mono-bugs] [Bug 53157][Min] Changed - mono.pc instead of mint.pc generated on Alpha
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11490">[ date ]</a>
              <a href="thread.html#11490">[ thread ]</a>
              <a href="subject.html#11490">[ subject ]</a>
              <a href="author.html#11490">[ author ]</a>
         </LI>
       </UL>
</body></html>
