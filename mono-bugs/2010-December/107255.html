<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 474217] Creating a remoting connection takes very long when a large number of clients connect simultaneously
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20474217%5D%20Creating%20a%20remoting%20connection%20takes%20very%0A%20long%20when%20a%20large%20number%20of%20clients%20connect%20simultaneously&In-Reply-To=bug-474217-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="107347.html">
   <LINK REL="Next"  HREF="107258.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 474217] Creating a remoting connection takes very long when a large number of clients connect simultaneously</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20474217%5D%20Creating%20a%20remoting%20connection%20takes%20very%0A%20long%20when%20a%20large%20number%20of%20clients%20connect%20simultaneously&In-Reply-To=bug-474217-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 474217] Creating a remoting connection takes very long when a large number of clients connect simultaneously">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Dec 14 09:45:28 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="107347.html">[Mono-bugs] [Bug 659339] SGen on FreeBSD
</A></li>
        <LI>Next message: <A HREF="107258.html">[Mono-bugs] [Bug 628525] xbuild fails when specifying both outputpath and rebuild since it performs clean after build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#107255">[ date ]</a>
              <a href="thread.html#107255">[ thread ]</a>
              <a href="subject.html#107255">[ subject ]</a>
              <a href="author.html#107255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=474217">https://bugzilla.novell.com/show_bug.cgi?id=474217</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=474217#c10">https://bugzilla.novell.com/show_bug.cgi?id=474217#c10</A>


--- Comment #10 from Sven Groot &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">sgroot at tkl.iis.u-tokyo.ac.jp</A>&gt; 2010-12-14 14:45:27 UTC ---
Lluis, thanks for your response.

Your concern is not entirely invalid. Waiting on a thread pool thread from a
thread pool thread is something that can always lead to deadlock, and should
therefore never be done.

However, in Microsoft .Net, remoting requests are also executed on the thread
pool, so it has exactly the same issue. You cannot safely wait for a thread
pool thread from a remoting call in Microsoft .Net, so I don't see why it would
be a problem to use the same implementation in Mono.

The current homegrown thread pool doesn't just have the PoolGrowDelay issue,
it's also subject to a race condition, see bug #557212, which I filed long ago
but no one ever responded to.

I think using the system thread pool would be a better option.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="107347.html">[Mono-bugs] [Bug 659339] SGen on FreeBSD
</A></li>
	<LI>Next message: <A HREF="107258.html">[Mono-bugs] [Bug 628525] xbuild fails when specifying both outputpath and rebuild since it performs clean after build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#107255">[ date ]</a>
              <a href="thread.html#107255">[ thread ]</a>
              <a href="subject.html#107255">[ subject ]</a>
              <a href="author.html#107255">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
