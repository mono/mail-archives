<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 660570] New: mcs.exe cannot reference Rhino.Mocks due to invalid assembly name
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20660570%5D%20New%3A%20mcs.exe%20cannot%20reference%20Rhino.Mocks%0A%20due%20to%20invalid%20assembly%20name&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="107380.html">
   <LINK REL="Next"  HREF="107382.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 660570] New: mcs.exe cannot reference Rhino.Mocks due to invalid assembly name</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20660570%5D%20New%3A%20mcs.exe%20cannot%20reference%20Rhino.Mocks%0A%20due%20to%20invalid%20assembly%20name&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 660570] New: mcs.exe cannot reference Rhino.Mocks due to invalid assembly name">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Dec 20 12:04:33 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="107380.html">[Mono-bugs] [Bug 660569] code analysis error when using a switch within a lamda: &quot;Not all code paths return a value in anonymous method&quot;
</A></li>
        <LI>Next message: <A HREF="107382.html">[Mono-bugs] [Bug 660570] mcs.exe cannot reference Rhino.Mocks due to invalid assembly name
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#107378">[ date ]</a>
              <a href="thread.html#107378">[ thread ]</a>
              <a href="subject.html#107378">[ subject ]</a>
              <a href="author.html#107378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=660570">https://bugzilla.novell.com/show_bug.cgi?id=660570</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=660570#c0">https://bugzilla.novell.com/show_bug.cgi?id=660570#c0</A>


           Summary: mcs.exe cannot reference Rhino.Mocks due to invalid
                    assembly name
    Classification: Mono
           Product: Mono: Compilers
           Version: SVN
          Platform: x86-64
        OS/Version: Ubuntu
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">msafar at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">piotr.wysocki at secpl.cs.put.poznan.pl</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.13)
Gecko/20101206 Ubuntu/10.10 (maverick) Firefox/3.6.13

Using mcs.exe from mono/mcs/class/lib/basic I cannot compile an empty source
file referencing Rhino.Mocks.

Reproducible: Always

Steps to Reproduce:
&gt;<i> wget <A HREF="http://www.cs.put.poznan.pl/pwysocki/mono/Rhino.Mocks.dll">http://www.cs.put.poznan.pl/pwysocki/mono/Rhino.Mocks.dll</A>
</I>&gt;<i> touch a.cs
</I>&gt;<i> gmcs /r:Rhino.Mocks.dll /t:library a.cs
</I>Actual Results:  
Unhandled Exception: System.IO.FileLoadException: The assembly name is invalid.
  at System.Reflection.AssemblyName..ctor (System.String assemblyName)
[0x00000] in &lt;filename unknown&gt;:0 
  at IKVM.Reflection.AssemblyName..ctor (System.String assemblyName) [0x00000]
in &lt;filename unknown&gt;:0 
  at IKVM.Reflection.Fusion.ParsePublicKey (System.String str, System.String&amp;
publicKeyToken) [0x00000] in &lt;filename unknown&gt;:0 
  at IKVM.Reflection.Fusion.ParseAssemblyName (System.String fullName,
IKVM.Reflection.ParsedAssemblyName&amp; parsedName) [0x00000] in &lt;filename
unknown&gt;:0 
  at IKVM.Reflection.Fusion.CompareAssemblyIdentityPure (System.String
assemblyIdentity1, Boolean unified1, System.String assemblyIdentity2, Boolean
unified2, IKVM.Reflection.AssemblyComparisonResult&amp; result) [0x00000] in
&lt;filename unknown&gt;:0 
  at IKVM.Reflection.Fusion.CompareAssemblyIdentity (System.String
assemblyIdentity1, Boolean unified1, System.String assemblyIdentity2, Boolean
unified2, IKVM.Reflection.AssemblyComparisonResult&amp; result) [0x00000] in
&lt;filename unknown&gt;:0 
  at IKVM.Reflection.Universe.CompareAssemblyIdentity (System.String
assemblyIdentity1, Boolean unified1, System.String assemblyIdentity2, Boolean
unified2, IKVM.Reflection.AssemblyComparisonResult&amp; result) [0x00000] in
&lt;filename unknown&gt;:0 
  at IKVM.Reflection.Universe.GetLoadedAssembly (System.String refname)
[0x00000] in &lt;filename unknown&gt;:0 
  at IKVM.Reflection.Universe.Load (System.String refname,
IKVM.Reflection.Assembly requestingAssembly, Boolean throwOnError) [0x00000] in
&lt;filename unknown&gt;:0 
  at IKVM.Reflection.Reader.ModuleReader.ResolveAssemblyRefImpl
(IKVM.Reflection.Metadata.Record&amp; rec) [0x00000] in &lt;filename unknown&gt;:0 
  at IKVM.Reflection.Reader.ModuleReader.ResolveAssemblyRef (Int32 index)
[0x00000] in &lt;filename unknown&gt;:0 
  at IKVM.Reflection.Reader.ModuleReader.ResolveType (Int32 metadataToken,
IGenericContext context) [0x00000] in &lt;filename unknown&gt;:0 
  at IKVM.Reflection.Reader.ModuleReader.ResolveType (Int32 metadataToken,
IKVM.Reflection.Type[] genericTypeArguments, IKVM.Reflection.Type[]
genericMethodArguments) [0x00000] in &lt;filename unknown&gt;:0 
  at IKVM.Reflection.Module.ResolveType (Int32 metadataToken) [0x00000] in
&lt;filename unknown&gt;:0 
  at IKVM.Reflection.Reader.ModuleReader.GetMemberRef (Int32 index,
IKVM.Reflection.Type[] genericTypeArguments, IKVM.Reflection.Type[]
genericMethodArguments) [0x00000] in &lt;filename unknown&gt;:0 
  at IKVM.Reflection.Reader.ModuleReader.ResolveMethod (Int32 metadataToken,
IKVM.Reflection.Type[] genericTypeArguments, IKVM.Reflection.Type[]
genericMethodArguments) [0x00000] in &lt;filename unknown&gt;:0 
  at IKVM.Reflection.Module.ResolveMethod (Int32 metadataToken) [0x00000] in
&lt;filename unknown&gt;:0 
  at IKVM.Reflection.CustomAttributeData.get_Constructor () [0x00000] in
&lt;filename unknown&gt;:0 
  at IKVM.Reflection.CustomAttributeData.LazyParseArguments () [0x00000] in
&lt;filename unknown&gt;:0 
  at IKVM.Reflection.CustomAttributeData.get_ConstructorArguments () [0x00000]
in &lt;filename unknown&gt;:0 
  at Mono.CSharp.ImportedAssemblyDefinition.ReadAttributes () [0x00000] in
&lt;filename unknown&gt;:0 
  at Mono.CSharp.MetadataImporter.GetAssemblyDefinition
(IKVM.Reflection.Assembly assembly) [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.StaticImporter.ImportAssembly (IKVM.Reflection.Assembly
assembly, Mono.CSharp.RootNamespace targetNamespace) [0x00000] in &lt;filename
unknown&gt;:0 
  at Mono.CSharp.StaticLoader.LoadReferences (Mono.CSharp.ModuleContainer
module) [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.Driver.Compile () [0x00000] in &lt;filename unknown&gt;:0 
  at Mono.CSharp.Driver.Main (System.String[] args) [0x00000] in &lt;filename
unknown&gt;:0 


Expected Results:  
Build ok

git master
commit e07dd12e9ff5eab7a323232922f160edfd5469b0
Author: Marek Safar &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">marek.safar at gmail.com</A>&gt;
Date:   Mon Dec 20 10:49:39 2010 +0000

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>



































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="107380.html">[Mono-bugs] [Bug 660569] code analysis error when using a switch within a lamda: &quot;Not all code paths return a value in anonymous method&quot;
</A></li>
	<LI>Next message: <A HREF="107382.html">[Mono-bugs] [Bug 660570] mcs.exe cannot reference Rhino.Mocks due to invalid assembly name
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#107378">[ date ]</a>
              <a href="thread.html#107378">[ thread ]</a>
              <a href="subject.html#107378">[ subject ]</a>
              <a href="author.html#107378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
