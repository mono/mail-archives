<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 795366] New: SerialPort.GetPortNames() doesn't include /dev/ttyACM*
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=Re%3A%20%5BMono-bugs%5D%20%5BBug%20795366%5D%20New%3A%20SerialPort.GetPortNames%28%29%20doesn%27t%0A%20include%20/dev/ttyACM%2A&In-Reply-To=%3Cbug-795366-28286%40http.bugzilla.novell.com/%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="113649.html">
   <LINK REL="Next"  HREF="113652.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 795366] New: SerialPort.GetPortNames() doesn't include /dev/ttyACM*</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=Re%3A%20%5BMono-bugs%5D%20%5BBug%20795366%5D%20New%3A%20SerialPort.GetPortNames%28%29%20doesn%27t%0A%20include%20/dev/ttyACM%2A&In-Reply-To=%3Cbug-795366-28286%40http.bugzilla.novell.com/%3E"
       TITLE="[Mono-bugs] [Bug 795366] New: SerialPort.GetPortNames() doesn't include /dev/ttyACM*">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Dec 19 23:26:33 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="113649.html">[Mono-bugs] [Bug 569539] Cannot compile code using __refvalue
</A></li>
        <LI>Next message: <A HREF="113652.html">[Mono-bugs] [Bug 795854] New: CSharp REPL multiply error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#113651">[ date ]</a>
              <a href="thread.html#113651">[ thread ]</a>
              <a href="subject.html#113651">[ subject ]</a>
              <a href="author.html#113651">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=795366">https://bugzilla.novell.com/show_bug.cgi?id=795366</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=795366#c0">https://bugzilla.novell.com/show_bug.cgi?id=795366#c0</A>


           Summary: SerialPort.GetPortNames() doesn't include /dev/ttyACM*
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.10.x
          Platform: All
        OS/Version: Linux
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">dominic at baudvine.net</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.4 (KHTML, like
Gecko) Ubuntu/12.10 Chromium/22.0.1229.94 Chrome/22.0.1229.94 Safari/537.4

GetPortNames() returns an array of available serial ports on the system.  I was
a little surprised to find that it failed to show /dev/ttyACM0 on my system.
ttyACM* is where (at least on my system, Mint 14) various serial-over-USB
devices end up, in this case my Arduino and the RP6, an atmega32-based robot.
It's easy enough to work around with a symlink, but that doesn't make for very
portable code.

Browsing the source for Mono 2.11 and 3.0.4 it looks like GetPortNames() on
Linux searches for /dev/ttyS* and /dev/ttyUSB*, ignoring /dev/ttyACM*.  The
kernel docs (<A HREF="https://www.kernel.org/doc/Documentation/usb/acm.txt">https://www.kernel.org/doc/Documentation/usb/acm.txt</A>) inform me
that /dev/ttyACM* is intended for serial modems, so presumably it's more widely
useful than just for Arduino et al.

Reproducible: Always

Steps to Reproduce:
1. Connect Arduino (or various other devices)
2. Call System.IO.Ports.SerialPort.GetPortNames()
3. Observe return value.
Actual Results:  
The returned array of String contains only /dev/ttyS* entries. There are no
/dev/USB* devices on my system, so that absence is expected.

Expected Results:  
The returned array of String should have included the /dev/ttyACM0 entry that
is present on my system.

I'm using Mono 2.10.8, but the source for 3.0.2 contains the same issue. I'm
not sure why these devices are presented as ACM, which is apparently a protocol
for serial modems - but a quick search indicates that at least the Arduino
serial interface is commonly presented as /dev/ttyACM*.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="113649.html">[Mono-bugs] [Bug 569539] Cannot compile code using __refvalue
</A></li>
	<LI>Next message: <A HREF="113652.html">[Mono-bugs] [Bug 795854] New: CSharp REPL multiply error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#113651">[ date ]</a>
              <a href="thread.html#113651">[ thread ]</a>
              <a href="subject.html#113651">[ subject ]</a>
              <a href="author.html#113651">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
