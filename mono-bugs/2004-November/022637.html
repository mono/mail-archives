<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 69524][Maj] New - system.web/globalization settings from web.config are ignored.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="022634.html">
   <LINK REL="Next"  HREF="022638.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 69524][Maj] New - system.web/globalization settings from web.config are ignored.
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 69524][Maj] New - system.web/globalization settings from web.config are ignored.">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Mon, 15 Nov 2004 17:29:30 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="022634.html">[Mono-bugs] [Bug 69466][Wis] Changed - undefined reference to `mono_main' in main.c
</A></li>
        <LI> Next message: <A HREF="022638.html">[Mono-bugs] [Bug 69082][Nor] Changed - Regression in compiler - mono/tests/iface6.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22637">[ date ]</a>
              <a href="thread.html#22637">[ thread ]</a>
              <a href="subject.html#22637">[ subject ]</a>
              <a href="author.html#22637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:jaak@zd.com.pl.">jaak@zd.com.pl.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=69524">http://bugzilla.ximian.com/show_bug.cgi?id=69524</A>

--- shadow/69524	2004-11-15 17:29:30.000000000 -0500
+++ shadow/69524.tmp.19354	2004-11-15 17:29:30.000000000 -0500
@@ -0,0 +1,83 @@
+Bug#: 69524
+Product: Mono: Class Libraries
+Version: 1.0
+OS: 
+OS Details: 
+Status: NEW   
+Resolution: 
+Severity: 
+Priority: Major
+Component: Sys.Web
+AssignedTo: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>                            
+ReportedBy: <A HREF="mailto:jaak@zd.com.pl">jaak@zd.com.pl</A>               
+QAContact: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>
+TargetMilestone: ---
+URL: 
+Cc: 
+Summary: system.web/globalization settings from web.config are ignored.
+
+I have this web.config file:
+
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
+&lt;configuration&gt;
+    &lt;system.web&gt;
+        &lt;globalization
+            culture=&quot;pl-PL&quot;
+            uiCulture=&quot;pl-PL&quot;
+            requestEncoding=&quot;utf-8&quot;
+            responseEncoding=&quot;utf8&quot;
+            fileEncoding=&quot;windows-1250&quot; /&gt;
+    &lt;/system.web&gt;
+&lt;/configuration&gt;
+
+The following sample page:
+==========================
+&lt;%@ Page language=&quot;c#&quot; AutoEventWireup=&quot;true&quot; %&gt;
+&lt;script language=&quot;C#&quot; runat=&quot;server&quot;&gt;
+void Page_Load(object sender, EventArgs args)
+{
+    Response.Write(Response.ContentEncoding + &quot;&lt;br&gt;&quot;);
+    Response.Write(Request.ContentEncoding + &quot;&lt;br&gt;&quot;);
+    Response.Write(System.Threading.Thread.CurrentThread.CurrentCulture +
+&quot;&lt;br&gt;&quot;);
+    Response.Write(System.Threading.Thread.CurrentThread.CurrentUICulture +
+&quot;&lt;br&gt;&quot;);
+}
+&lt;/script&gt;
+============
+
+Produces:
+
+System.Text.Latin1Encoding
+System.Text.Latin1Encoding
+en-US
+en-US
+
+When I modify the @Page directive to read:
+
+=========
+&lt;%@ Page language=&quot;c#&quot; AutoEventWireup=&quot;true&quot; UICulture=&quot;pl-PL&quot;
+Culture=&quot;pl-PL&quot; ResponseEncoding=&quot;utf-8&quot; %&gt;
+=========
+
+I get:
+
+=========
+System.Text.UTF8Encoding
+System.Text.Latin1Encoding
+pl-PL
+pl-PL
+=========
+
+This suggests that the system.web/globalization settings are somehow
+ignored and I have to specify everything manually. This is a major problem
+for me, because having written a multilingual application it's not possible
+to have a single place where cultures and encodings can be configured.
+
+On .NET 1.1 I can set both encodings and cultures to anything that's
+available on my machine.
+
+Note that when I enter some garbage values in the &lt;globalization&gt; element,
+no error is ever returned. machine.config has all encodings set to &quot;utf-8&quot;.
+
+OS: Fedora Core 2, Mono SVN HEAD, Apache + mod_mono from SVN HEAD

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="022634.html">[Mono-bugs] [Bug 69466][Wis] Changed - undefined reference to `mono_main' in main.c
</A></li>
	<LI> Next message: <A HREF="022638.html">[Mono-bugs] [Bug 69082][Nor] Changed - Regression in compiler - mono/tests/iface6.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22637">[ date ]</a>
              <a href="thread.html#22637">[ thread ]</a>
              <a href="subject.html#22637">[ subject ]</a>
              <a href="author.html#22637">[ author ]</a>
         </LI>
       </UL>
</body></html>
