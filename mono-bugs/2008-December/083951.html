<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 462925] New: Gendarme crashes when method cannot	be resolved
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20462925%5D%20New%3A%20Gendarme%20crashes%20when%20method%20cannot%0A%09be%20resolved&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083947.html">
   <LINK REL="Next"  HREF="083958.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 462925] New: Gendarme crashes when method cannot	be resolved</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20462925%5D%20New%3A%20Gendarme%20crashes%20when%20method%20cannot%0A%09be%20resolved&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 462925] New: Gendarme crashes when method cannot	be resolved">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Dec 30 05:59:26 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="083947.html">[Mono-bugs] [Bug 341743] Odbc: SIGSEGV in OdbcCommand.FreeStatement
</A></li>
        <LI>Next message: <A HREF="083958.html">[Mono-bugs] [Bug 462925] Gendarme crashes when method cannot be	resolved
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83951">[ date ]</a>
              <a href="thread.html#83951">[ thread ]</a>
              <a href="subject.html#83951">[ subject ]</a>
              <a href="author.html#83951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=462925">https://bugzilla.novell.com/show_bug.cgi?id=462925</A>


           Summary: Gendarme crashes when method cannot be resolved
           Product: Mono: Tools
           Version: SVN
          Platform: x86
        OS/Version: Linux
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Gendarme
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">tamara.roberson at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=262756)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=262756">https://bugzilla.novell.com/attachment.cgi?id=262756</A>)
Quick sanity check patch against SVN r122229

I think this occurs with P/Invoke'd methods that cannot be properly traced
back.

The attached patch against SVN r122229 is enough to allow Gendarme to process
Muine (which was my original intent).  However, much more extensive sanity
checking across the board is necessary to ensure that we don't grind up against
an uncaught NullReferenceException.

I just have these instances fail silently. This is probably best so we can
obtain as much useful information as possible.


Example Solution:

static bool DoesReturnDisposable (MethodReference call)
{
        if (call == null)
                throw new ArgumentNullException (&quot;call&quot;);

        if (call.Resolve () == null)
                return false;

        [...]
}



Example Failure:

$ /usr/bin/gendarme /usr/local/lib/muine/muine.exe
Gendarme v2.0.0.0
Copyright (C) 2005-2008 Novell, Inc. and contributors

/usr/local/lib/muine/muine.exe
An uncaught exception occured. Please fill a bug report @
<A HREF="https://bugzilla.novell.com/">https://bugzilla.novell.com/</A>
Rule:   Gendarme.Rules.Maintainability.AvoidUnnecessarySpecializationRule
Target: System.Void
Muine.HandleView/GetSelectionData::Func(Gtk.TreeModel,Gtk.TreePath,Gtk.TreeIter)
Stack trace: System.NullReferenceException: Object reference not set to an
instance of an object
  at
Gendarme.Rules.Maintainability.AvoidUnnecessarySpecializationRule.GetInterfaceImplementor
(Mono.Cecil.TypeDefinition type, Gendarme.Framework.Helpers.MethodSignature
signature) [0x00000] 
  at
Gendarme.Rules.Maintainability.AvoidUnnecessarySpecializationRule.GetBaseImplementor
(Mono.Cecil.TypeDefinition type, Gendarme.Framework.Helpers.MethodSignature
signature) [0x00000] 
  at
Gendarme.Rules.Maintainability.AvoidUnnecessarySpecializationRule.GetBaseImplementor
(Mono.Cecil.TypeReference type, Gendarme.Framework.Helpers.MethodSignature
signature) [0x00000] 
  at
Gendarme.Rules.Maintainability.AvoidUnnecessarySpecializationRule.UpdateParameterLeastType
(Mono.Cecil.ParameterReference parameter,
Gendarme.Framework.Helpers.StackEntryUsageResult[] usageResults) [0x00000] 
  at
Gendarme.Rules.Maintainability.AvoidUnnecessarySpecializationRule.CheckParameter
(Mono.Cecil.MethodDefinition method, Mono.Cecil.Cil.Instruction ins) [0x00000] 
  at
Gendarme.Rules.Maintainability.AvoidUnnecessarySpecializationRule.CheckMethod
(Mono.Cecil.MethodDefinition method) [0x00000] 
  at Gendarme.Framework.Runner.OnMethod (Gendarme.Framework.RunnerEventArgs e)
[0x00000] 
  at Gendarme.Framework.Runner.Run () [0x00000] 
  at Gendarme.ConsoleRunner.Run () [0x00000] 
  at Gendarme.ConsoleRunner.Execute (System.String[] args) [0x00000]


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083947.html">[Mono-bugs] [Bug 341743] Odbc: SIGSEGV in OdbcCommand.FreeStatement
</A></li>
	<LI>Next message: <A HREF="083958.html">[Mono-bugs] [Bug 462925] Gendarme crashes when method cannot be	resolved
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83951">[ date ]</a>
              <a href="thread.html#83951">[ thread ]</a>
              <a href="subject.html#83951">[ subject ]</a>
              <a href="author.html#83951">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
