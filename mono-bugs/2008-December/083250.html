<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 458168] New: runtime crash during compilation: free(): invalid pointer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20458168%5D%20New%3A%20runtime%20crash%20during%20compilation%3A%0A%20free%28%29%3A%20invalid%20pointer&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="083247.html">
   <LINK REL="Next"  HREF="083251.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 458168] New: runtime crash during compilation: free(): invalid pointer</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20458168%5D%20New%3A%20runtime%20crash%20during%20compilation%3A%0A%20free%28%29%3A%20invalid%20pointer&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 458168] New: runtime crash during compilation: free(): invalid pointer">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Dec 10 19:08:15 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="083247.html">[Mono-bugs] [Bug 445449] Remove XSP Shell Integration
</A></li>
        <LI>Next message: <A HREF="083251.html">[Mono-bugs] [Bug 458168] runtime crash during compilation: free(): invalid pointer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83250">[ date ]</a>
              <a href="thread.html#83250">[ thread ]</a>
              <a href="subject.html#83250">[ subject ]</a>
              <a href="author.html#83250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=458168">https://bugzilla.novell.com/show_bug.cgi?id=458168</A>


           Summary: runtime crash during compilation: free(): invalid
                    pointer
           Product: Mono: Runtime
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: JIT
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">sshaw at decriptor.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


I get this error when compiling UIAutomationWinforms using mono from trunk (at
least rev 121158).  This seems to only happen on x86_64 and only happens about
50% of the time.

To reproduce (have to have osc installed):
    osc is the OBS CLI client (found in software.opensuse.org/search)

osc build --alternative-project=home:uia2atk openSUSE_11.0 x86_64
--local-package uiautomationwinforms.spec --no-verify


Trace:


gmcs -noconfig -codepage:utf8 -warn:4 -warnaserror -optimize+ -debug
&quot;-define:DEBUG&quot; -keyfile:../mono-uia.snk
-out:bin/Debug/UIAutomationWinforms.dll -target:library
'./Mono.UIAutomation.Winforms.Behaviors/Button/InvokeProviderBehavior.cs' 

&lt;snip (including in file)&gt;

:<i>/usr/lib64/pkgconfig/../../lib/mono/gtk-sharp-2.0/atk-sharp.dll   
</I>-r:/usr/lib64/pkgconfig/../../lib/mono/gtk-sharp-2.0/gdk-sharp.dll   
-r:/usr/lib64/pkgconfig/../../lib/mono/gtk-sharp-2.0/gtk-sharp.dll   
-r:/usr/lib64/pkgconfig/../../lib/mono/gtk-sharp-2.0/glib-sharp.dll  

*** glibc detected *** /usr/bin/mono: free(): invalid pointer:
0x0000000000e34558 ***

======= Backtrace: =========

/lib64/libc.so.6[0x2b895f54faf8]

/lib64/libc.so.6(cfree+0x76)[0x2b895f5516e6]

/usr/bin/mono(mono_metadata_free_inflated_signature+0x17)[0x5261c7]

/usr/bin/mono[0x526249]

/usr/lib64/libglib-2.0.so.0[0x2b895e798d92]

/usr/lib64/libglib-2.0.so.0[0x2b895e7996b9]

/usr/bin/mono[0x52af6c]

/usr/bin/mono(mono_image_close+0x57)[0x524007]

/usr/bin/mono(mono_image_close+0x4ae)[0x52445e]

/usr/bin/mono(mono_assembly_close+0xd6)[0x51bd76]

/usr/bin/mono(mono_domain_free+0x162)[0x520622]

/usr/bin/mono[0x417c50]

/usr/bin/mono(mono_main+0x60c)[0x46621c]

/lib64/libc.so.6(__libc_start_main+0xe6)[0x2b895f4f8436]

/usr/bin/mono[0x417179]

======= Memory map: ========

00400000-00665000 r-xp 00000000 08:02 4513923                           
/usr/bin/mono

00864000-00865000 r--p 00264000 08:02 4513923                           
/usr/bin/mono

00865000-00867000 rw-p 00265000 08:02 4513923                           
/usr/bin/mono

00867000-013d6000 rw-p 00867000 00:00 0                                  [heap]

4001a000-4002a000 rwxp 4001a000 00:00 0 

401df000-401e8000 ---p 401df000 00:00 0 

401e8000-403e0000 rw-p 401e8000 00:00 0 

4045f000-4046f000 rwxp 4045f000 00:00 0 

4046f000-40470000 ---p 4046f000 00:00 0 

40470000-40473000 rw-p 40470000 00:00 0 

40e5e000-40e6e000 rwxp 40e5e000 00:00 0 

411b3000-411c3000 rwxp 411b3000 00:00 0 

417cf000-4181f000 rwxp 417cf000 00:00 0 

41d17000-41d77000 rwxp 41d17000 00:00 0 

41e85000-41eab000 rwxp 41e85000 00:00 0 

41eb4000-41f04000 rwxp 41eb4000 00:00 0 

2aaaaaaac000-2aaaaaaf0000 rw-p 2aaaaaaac000 00:00 0 

2aaaaaaf0000-2aaaaaaf7000 r--s 00000000 08:02 4531353                   
/usr/lib64/gconv/gconv-modules.cache

2aaaaaaf7000-2aaaaad68000 r--p 00000000 08:02 4973580                   
/usr/lib/mono/2.0/mscorlib.dll

2aaaaad6e000-2aaaaad75000 r-xp 00000000 08:02 4524623                   
/lib64/libnss_compat-2.8.so

2aaaaad75000-2aaaaaf74000 ---p 00007000 08:02 4524623                   
/lib64/libnss_compat-2.8.so

2aaaaaf74000-2aaaaaf75000 r--p 00006000 08:02 4524623                   
/lib64/libnss_compat-2.8.so

2aaaaaf75000-2aaaaaf76000 rw-p 00007000 08:02 4524623                   
/lib64/libnss_compat-2.8.so

2aaaaaf76000-2aaaaaf8b000 r-xp 00000000 08:02 4524621                   
/lib64/libnsl-2.8.so

2aaaaaf8b000-2aaaab18a000 ---p 00015000 08:02 4524621                   
/lib64/libnsl-2.8.so

2aaaab18a000-2aaaab18b000 r--p 00014000 08:02 4524621                   
/lib64/libnsl-2.8.so

2aaaab18b000-2aaaab18c000 rw-p 00015000 08:02 4524621                   
/lib64/libnsl-2.8.so

2aaaab18c000-2aaaab18e000 rw-p 2aaaab18c000 00:00 0 

2aaaab18e000-2aaaab198000 r-xp 00000000 08:02 4524631                   
/lib64/libnss_nis-2.8.so

2aaaab198000-2aaaab397000 ---p 0000a000 08:02 4524631                   
/lib64/libnss_nis-2.8.so

2aaaab397000-2aaaab398000 r--p 00009000 08:02 4524631                   
/lib64/libnss_nis-2.8.so

2aaaab398000-2aaaab399000 rw-p 0000a000 08:02 4524631                   
/lib64/libnss_nis-2.8.so

2aaaab399000-2aaaab3a3000 r-xp 00000000 08:02 4524627                   
/lib64/libnss_files-2.8.so

2aaaab3a3000-2aaaab5a3000 ---p 0000a000 08:02 4524627                   
/lib64/libnss_files-2.8.so

2aaaab5a3000-2aaaab5a4000 r--p 0000a000 08:02 4524627                   
/lib64/libnss_files-2.8.so

2aaaab5a4000-2aaaab5a5000 rw-p 0000b000 08:02 4524627                   
/lib64/libnss_files-2.8.so

2aaaab5a5000-2aaaab5ba000 rw-s 00000000 08:02 4981666                   
/home/abuild/.wapi/shared_data-linux-xiqx-Linux-x86_64-328-12-0

2aaaab5ba000-2aaaab9a3000 rw-s 00000000 08:02 4981667                   
/home/abuild/.wapi/shared_fileshare-linux-xiqx-Linux-x86_64-40-12-0

2aaaab9a3000-2aaaab9a4000 rw-p 2aaaab9a3000 00:00 0 

2aaaab9a4000-2aaaab9e3000 ---p 2aaaab9a4000 00:00 0 

2aaaab9e3000-2aaaaba03000 rw-p 2aaaab9e3000 00:00 0 

2aaaaba03000-2aaaabaf6000 r--p 00000000 08:02 4973577                   
/usr/lib/mono/2.0/gmcs.exe

2aaaabaf6000-2aaaabb2d000 rw-p 2aaaabaf6000 00:00 0 

2aaaabb2d000-2aaaabc62000 r--p 00000000 08:02 4973747                   
/usr/lib/mono/gac/System.Xml/2.0.0.0__b77a5c561934e089/System.Xml.dll

2aaaabc62000-2aaaabc85000 rw-p 2aaaabc62000 00:00 0 

2aaaabc85000-2aaaabe12000 r--p 00000000 08:02 4973756                   
/usr/lib/mono/gac/System/2.0.0.0__b77a5c561934e089/System.dll

2aaaabe12000-2aaaabe93000 rw-p 2aaaabe12000 00:00 0 

2aaaabe9e000-2aaaabea1000 r--p 00000000 08:02 4974360                   
/usr/lib/mono/gac/Accessibility/2.0.0.0__b03f5f7f11d50a3a/Accessibility.dll

2aaaabed9000-2aaaac9c9000 rw-p 2aaaabed9000 00:00 0 

2aaaacb45000-2aaaacb6f000 r--p 00000000 08:02 4974364                   
/usr/lib/mono/gac/Mono.WebBrowser/0.5.0.0__0738eb9f132ed756/Mono.WebBrowser.dll

2aaaace6e000-2aaaace75000 r--p 00000000 08:02 4973771                   
/usr/lib/mono/gac/WindowsBase/3.0.0.0__31bf3856ad364e35/WindowsBase.dll

2aaaad053000-2aaab0157000 rw-p 2aaaad053000 00:00 0 

2aaab0157000-2aaab016d000 r-xp 00000000 08:02 4524874                   
/lib64/libgcc_s.so.1

2aaab016d000-2aaab036c000 ---p 00016000 08:02 4524874                   
/lib64/libgcc_s.so.1

2aaab036c000-2aaab036d000 r--p 00015000 08:02 4524874                   
/lib64/libgcc_s.so.1

2aaab036d000-2aaab036e000 rw-p 00016000 08:02 4524874                   
/lib64/libgcc_s.so.1

2b895e349000-2b895e366000 r-xp 00000000 08:02 4524602                   
/lib64/ld-2.8.so

2b895e366000-2b895e368000 rw-p 2b895e366000 00:00 0 

2b895e566000-2b895e567000 r--p 0001d000 08:02 4524602                   
/lib64/ld-2.8.so

2b895e567000-2b895e568000 rw-p 0001e000 08:02 4524602                   
/lib64/ld-2.8.so

2b895e568000-2b895e56c000 r-xp 00000000 08:02 4531597                   
/usr/lib64/libgthread-2.0.so.0.1600.3

2b895e56c000-2b895e76b000 ---p 00004000 08:02 4531597                   
/usr/lib64/libgthread-2.0.so.0.1600.3

2b895e76b000-2b895e76c000 r--p 00003000 08:02 4531597                   
/usr/lib64/libgthread-2.0.so.0.1600.3

2b895e76c000-2b895e76d000 rw-p 00004000 08:02 4531597                   
/usr/lib64/libgthread-2.0.so.0.1600.3

2b895e76d000-2b895e82e000 r-xp 00000000 08:02 4531524                   
/usr/lib64/libglib-2.0.so.0.1600.3

2b895e82e000-2b895ea2d000 ---p 000c1000 08:02 4531524                   
/usr/lib64/libglib-2.0.so.0.1600.3

2b895ea2d000-2b895ea2e000 r--p 000c0000 08:02 4531524                   
/usr/lib64/libglib-2.0.so.0.1600.3

2b895ea2e000-2b895ea2f000 rw-p 000c1000 08:02 4531524                   
/usr/lib64/libglib-2.0.so.0.1600.3

2b895ea2f000-2b895ea30000 rw-p 2b895ea2f000 00:00 0 

2b895ea30000-2b895ea58000 r-xp 00000000 08:02 4531473                   
/usr/lib64/libpcre.so.0.0.1

2b895ea58000-2b895ec57000 ---p 00028000 08:02 4531473                   
/usr/lib64/libpcre.so.0.0.1

2b895ec57000-2b895ec58000 r--p 00027000 08:02 4531473                   
/usr/lib64/libpcre.so.0.0.1

2b895ec58000-2b895ec59000 rw-p 00028000 08:02 4531473                   
/usr/lib64/libpcre.so.0.0.1

2b895ec59000-2b895ec5a000 rw-p 2b895ec59000 00:00 0 

2b895ec5a000-2b895ec62000 r-xp 00000000 08:02 4524640                   
/lib64/librt-2.8.so

2b895ec62000-2b895ee61000 ---p 00008000 08:02 4524640                   
/lib64/librt-2.8.so

2b895ee61000-2b895ee62000 r--p 00007000 08:02 4524640                   
/lib64/librt-2.8.so

2b895ee62000-2b895ee63000 rw-p 00008000 08:02 4524640                   
/lib64/librt-2.8.so

2b895ee63000-2b895ee65000 r-xp 00000000 08:02 4524616                   
/lib64/libdl-2.8.so

2b895ee65000-2b895f065000 ---p 00002000 08:02 4524616                   
/lib64/libdl-2.8.so

2b895f065000-2b895f066000 r--p 00002000 08:02 4524616                   
/lib64/libdl-2.8.so

2b895f066000-2b895f067000 rw-p 00003000 08:02 4524616                   
/lib64/libdl-2.8.so

2b895f067000-2b895f07d000 r-xp 00000000 08:02 4524636                   
/lib64/libpthread-2.8.so

2b895f07d000-2b895f27d000 ---p 00016000 08:02 4524636                   
/lib64/libpthread-2.8.so

2b895f27d000-2b895f27e000 r--p 00016000 08:02 4524636                   
/lib64/libpthread-2.8.so

2b895f27e000-2b895f27f000 rw-p 00017000 08:02 4524636                   
/lib64/libpthread-2.8.so

2b895f27f000-2b895f284000 rw-p 2b895f27f000 00:00 0 

2b895f284000-2b895f2d9000 r-xp 00000000 08:02 4524618                   
/lib64/libm-2.8.so

2b895f2d9000-2b895f4d8000 ---p 00055000 08:02 4524618                   
/lib64/libm-2.8.so

2b895f4d8000-2b895f4d9000 r--p 00054000 08:02 4524618                   
/lib64/libm-2.8.so

2b895f4d9000-2b895f4da000 rw-p 00055000 08:02 4524618                   
/lib64/libm-2.8.so

2b895f4da000-2b895f629000 r-xp 00000000 08:02 4524610                   
/lib64/libc-2.8.so

2b895f629000-2b895f829000 ---p 0014f000 08:02 4524610                   
/lib64/libc-2.8.so

2b895f829000-2b895f82d000 r--p 0014f000 08:02 4524610                 make[1]:
*** [bin/Debug/UIAutomationWinforms.dll] Aborted


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






















































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="083247.html">[Mono-bugs] [Bug 445449] Remove XSP Shell Integration
</A></li>
	<LI>Next message: <A HREF="083251.html">[Mono-bugs] [Bug 458168] runtime crash during compilation: free(): invalid pointer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83250">[ date ]</a>
              <a href="thread.html#83250">[ thread ]</a>
              <a href="subject.html#83250">[ subject ]</a>
              <a href="author.html#83250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
