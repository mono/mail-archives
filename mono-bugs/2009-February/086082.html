<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 476008] New: Remoting and Proxy Authentification - using IWebProxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20476008%5D%20New%3A%20Remoting%20and%20Proxy%20Authentification%20-%0A%20using%20IWebProxy&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="086081.html">
   <LINK REL="Next"  HREF="086089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 476008] New: Remoting and Proxy Authentification - using IWebProxy</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20476008%5D%20New%3A%20Remoting%20and%20Proxy%20Authentification%20-%0A%20using%20IWebProxy&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 476008] New: Remoting and Proxy Authentification - using IWebProxy">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Feb 15 12:38:05 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="086081.html">[Mono-bugs] [Bug 470827] [Regression] System.Text.RegularExpressions.RxInterpreter.EvalByteCode throws StackOverflow
</A></li>
        <LI>Next message: <A HREF="086089.html">[Mono-bugs] [Bug 476008] Remoting and Proxy Authentification -	using IWebProxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86082">[ date ]</a>
              <a href="thread.html#86082">[ thread ]</a>
              <a href="subject.html#86082">[ subject ]</a>
              <a href="author.html#86082">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=476008">https://bugzilla.novell.com/show_bug.cgi?id=476008</A>


           Summary: Remoting and Proxy Authentification - using IWebProxy
    Classification: Mono
           Product: Mono: Runtime
           Version: 2.2.x
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Enhancement
          Priority: P5 - None
         Component: remoting
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lluis at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">sebastien.lebreton at free.fr</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; fr; rv:1.9.0.6)
Gecko/2009011913 Firefox/3.0.6 (.NET CLR 3.5.30729)

Hi

The problem related here is not a 'bug' but might be interesting to read for a
better cross-plateform programming:

With current MS implementation of HttpClientChannel class, there is no public
way to provide a IWebProxy object and because of this you can not provide proxy
authentication credentials nor a bypass list.

So a very common technique was to get the client channel from the HttpChannel,
then setting the private field _proxyObject as described in this post:
<A HREF="http://www.dotnetjunkies.com/WebLog/chris.taylor/archive/2004/01/24/6050.aspx">http://www.dotnetjunkies.com/WebLog/chris.taylor/archive/2004/01/24/6050.aspx</A>

I know this is dirty hack, of course, but there was no proper way to make it
works.

It worked well with Mono 1.9.1. I tried today with Mono 2.2 and it fails. In
the SVN repository:
<A HREF="http://anonsvn.mono-project.com/viewvc/trunk/mcs/class/System.Runtime.Remoting/System.Runtime.Remoting.Channels.Http/HttpClientChannel.cs?view=log">http://anonsvn.mono-project.com/viewvc/trunk/mcs/class/System.Runtime.Remoting/System.Runtime.Remoting.Channels.Http/HttpClientChannel.cs?view=log</A> 
i can't see the private field related to the proxy.

Instead some proxy properties are directly declared like &quot;credentials, domain,
password, proxyName, port&quot; making cross plateform programming harder: we usualy
get an IWebProxy instance by calling GlobalProxySelection.Select() or
GlobalProxySelection.GetEmptyWebProxy(). And we can't properly set those fields
because the indexer only supports proxyName and port.

So we are now forced to make a 'big dirty hack' (instead of the previous 'dirty
hack'): 
- are we under MS implementation? -&gt; set _proxyObject with our IWebProxy
instance by reflexion
- are we under mono? -&gt; what kind of IWebProxy is it? -&gt; set multiple fields by
Reflexion 

Regards

Sebastien LEBRETON



Reproducible: Always

Steps to Reproduce:
-
Actual Results:  
-

Expected Results:  
-

-

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>


































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="086081.html">[Mono-bugs] [Bug 470827] [Regression] System.Text.RegularExpressions.RxInterpreter.EvalByteCode throws StackOverflow
</A></li>
	<LI>Next message: <A HREF="086089.html">[Mono-bugs] [Bug 476008] Remoting and Proxy Authentification -	using IWebProxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86082">[ date ]</a>
              <a href="thread.html#86082">[ thread ]</a>
              <a href="subject.html#86082">[ subject ]</a>
              <a href="author.html#86082">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
