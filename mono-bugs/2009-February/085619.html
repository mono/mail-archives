<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 473006] New: Dns.GetHostAddresses with local hostname only returns entries in /etc/hosts if present
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20473006%5D%20New%3A%20Dns.GetHostAddresses%20with%20local%0A%20hostname%20only%20returns%20entries%20in%20/etc/hosts%20if%20present&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="085611.html">
   <LINK REL="Next"  HREF="085673.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 473006] New: Dns.GetHostAddresses with local hostname only returns entries in /etc/hosts if present</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20473006%5D%20New%3A%20Dns.GetHostAddresses%20with%20local%0A%20hostname%20only%20returns%20entries%20in%20/etc/hosts%20if%20present&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 473006] New: Dns.GetHostAddresses with local hostname only returns entries in /etc/hosts if present">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Feb  5 13:34:24 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="085611.html">[Mono-bugs] [Bug 466012] MonoDevelop hangs or crashes when running inside the debugger
</A></li>
        <LI>Next message: <A HREF="085673.html">[Mono-bugs] [Bug 473006] Dns.GetHostAddresses with local hostname only returns entries in /etc/hosts if present
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85619">[ date ]</a>
              <a href="thread.html#85619">[ thread ]</a>
              <a href="subject.html#85619">[ subject ]</a>
              <a href="author.html#85619">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=473006">https://bugzilla.novell.com/show_bug.cgi?id=473006</A>


           Summary: Dns.GetHostAddresses with local hostname only returns
                    entries in /etc/hosts if present
    Classification: Mono
           Product: Mono: Runtime
           Version: 2.2.x
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: io-layer
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">dick at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jaebird at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Description of Problem:

If a machine's hostname is located in /etc/hosts file, the
Dns.GetHostAddresses(&quot;HOSTNAME&quot;) only returns entries from the /etc/hosts file.
If there are no entries in the hosts file, the addresses returned include the
external ip addresses.

This may be related to: <A HREF="https://bugzilla.novell.com/show_bug.cgi?id=386637">https://bugzilla.novell.com/show_bug.cgi?id=386637</A>

Steps to reproduce the problem:

1. Make sure there is at least one entry in the /etc/hosts file containing the
machines hostname.

2. execute the following:
foreach (IPAddress addr in Dns.GetHostAddresses(Dns.GetHostName()))

{

   Console.WriteLine(addr);

}


Actual Results:
The only addresses that are printed are from the /etc/hosts file...none of the
external addresses (ie dhcp) are printed.

Expected Results:
An array of all addresses. (not sure if loopback is part of this list or not,
it doesn't appear the MS.NET includes 127.0.0.1 in this list)

How often does this happen? 
Every time.

Additional Information:
If all local hostname entries are removed from the /etc/hosts file. The
addresses returned are correct.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="085611.html">[Mono-bugs] [Bug 466012] MonoDevelop hangs or crashes when running inside the debugger
</A></li>
	<LI>Next message: <A HREF="085673.html">[Mono-bugs] [Bug 473006] Dns.GetHostAddresses with local hostname only returns entries in /etc/hosts if present
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85619">[ date ]</a>
              <a href="thread.html#85619">[ thread ]</a>
              <a href="subject.html#85619">[ subject ]</a>
              <a href="author.html#85619">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
