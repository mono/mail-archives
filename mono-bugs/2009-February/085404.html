<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 471669] New: Crash when running ironpython without	--debug
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20471669%5D%20New%3A%20Crash%20when%20running%20ironpython%20without%0A%09--debug&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="085403.html">
   <LINK REL="Next"  HREF="085411.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 471669] New: Crash when running ironpython without	--debug</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20471669%5D%20New%3A%20Crash%20when%20running%20ironpython%20without%0A%09--debug&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 471669] New: Crash when running ironpython without	--debug">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Feb  2 14:39:33 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="085403.html">[Mono-bugs] [Bug 470336] crash while compiling on SLE_10/ppc
</A></li>
        <LI>Next message: <A HREF="085411.html">[Mono-bugs] [Bug 471669] Crash when running ironpython without	--debug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85404">[ date ]</a>
              <a href="thread.html#85404">[ thread ]</a>
              <a href="subject.html#85404">[ subject ]</a>
              <a href="author.html#85404">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=471669">https://bugzilla.novell.com/show_bug.cgi?id=471669</A>


           Summary: Crash when running ironpython without --debug
    Classification: Mono
           Product: Mono: Runtime
           Version: SVN
          Platform: x86
        OS/Version: openSUSE 11.0
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: debug
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">martin at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">aaragoneses at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


I just upgraded mono to trunk (r125391) and I get this crash when running
IronPython (note, the crash does not happen when running with &quot;--debug&quot;):

@ exec mono /usr/lib/IPCE/ipy/ipy.exe

**
** ERROR:(mono-debug-debugger.c:55):mono_debugger_lock: assertion failed:
(initialized)
Stacktrace:


Native stacktrace:

    mono [0x80d1619]
    [0xffffe410]
    /lib/libc.so.6(abort+0x188) [0xb7d91238]
    /usr/lib/libglib-2.0.so.0(g_assertion_message+0x129) [0xb7f7e029]
    /usr/lib/libglib-2.0.so.0 [0xb7f7e4bd]
    mono(mono_debugger_check_interruption+0) [0x8165700]
    mono(mono_debug_print_stack_frame+0xad) [0x8163bed]
    mono [0x80cfeb6]
    mono [0x80d0aba]
    mono [0x80d06e9]
    mono [0x80f67ca]
    [0xb7c30d0d]
    [0xb6732817]
    [0xb6836b74]
    [0xb673279a]
    [0xb67319aa]
    [0xb6731386]
    [0xb67310f7]
    [0xb6836b38]
    [0xb67310b9]
    [0xb6731063]
    [0xb674b4bd]
    [0xb674b0ac]
    [0xb6731004]
    [0xb6742b6b]
    [0xb677685b]
    [0xb67767ea]
    [0xb6730c42]
    [0xb6740b81]
    [0xb67767ea]
    [0xb6754148]
    [0xb678fad5]
    [0xb678f97d]
    [0xb6831e83]
    [0xb6831854]
    [0xb682dab9]
    [0xb682d6e4]
    [0xb6773e16]
    [0xb68360f9]
    [0xb6773d44]
    [0xb6771d1c]
    [0xb6771c43]
    [0xb6770fea]
    [0xb6770f92]
    [0xb677e6ab]
    [0xb677e616]
    [0xb677e5d4]
    [0xb6770e07]
    [0xb678fad5]
    [0xb678f97d]
    [0xb6831e83]
    [0xb6831854]
    [0xb682dab9]
    [0xb682d6e4]
    [0xb682d4bd]
    [0xb682d48d]
    [0xb682d3ec]
    [0xb682cf25]
    [0xb682cd95]
    [0xb716b6da]
    [0xb716b203]
    mono(mono_runtime_exec_main+0x16e) [0x811399e]
    mono(mono_runtime_run_main+0x16d) [0x81140bd]
    mono(mono_main+0x18ba) [0x80b1c3a]
    mono [0x805aeb1]
    /lib/libc.so.6(__libc_start_main+0xe5) [0xb7d7b5f5]
    mono [0x805ade1]

Debug info from gdb:

[Thread debugging using libthread_db enabled]
[New Thread 0xb7d636f0 (LWP 23962)]
[New Thread 0xb6dadb90 (LWP 23965)]
[New Thread 0xb6dd1b90 (LWP 23964)]
[New Thread 0xb7c2fb90 (LWP 23963)]
0xffffe430 in __kernel_vsyscall ()
  4 Thread 0xb7c2fb90 (LWP 23963)  0xffffe430 in __kernel_vsyscall ()
  3 Thread 0xb6dd1b90 (LWP 23964)  0xffffe430 in __kernel_vsyscall ()
  2 Thread 0xb6dadb90 (LWP 23965)  0xffffe430 in __kernel_vsyscall ()
  1 Thread 0xb7d636f0 (LWP 23962)  0xffffe430 in __kernel_vsyscall ()

Thread 4 (Thread 0xb7c2fb90 (LWP 23963)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ed7c15 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/libpthread.so.0
#2  0x081e948b in GC_wait_marker () at pthread_support.c:1777
#3  0x081e1746 in GC_help_marker (my_mark_no=30) at mark.c:1116
#4  0x081e8315 in GC_mark_thread (id=0x0) at pthread_support.c:548
#5  0xb7ed4175 in start_thread () from /lib/libpthread.so.0
#6  0xb7e32dae in clone () from /lib/libc.so.6

Thread 3 (Thread 0xb6dd1b90 (LWP 23964)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7edb3e6 in nanosleep () from /lib/libpthread.so.0
#2  0x081aacc8 in collection_thread (unused=0x0) at collection.c:34
#3  0xb7ed4175 in start_thread () from /lib/libpthread.so.0
#4  0xb7e32dae in clone () from /lib/libc.so.6

Thread 2 (Thread 0xb6dadb90 (LWP 23965)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ed9ee5 in sem_wait@@GLIBC_2.1 () from /lib/libpthread.so.0
#2  0x0812e8b9 in finalizer_thread (unused=0x0) at gc.c:935
#3  0x08153b38 in start_wrapper (data=0x82e7ec8) at threads.c:623
#4  0x081c7986 in thread_start_routine (args=0x82d83a4) at threads.c:286
#5  0x081e911d in GC_start_routine (arg=0x26f20) at pthread_support.c:1382
#6  0xb7ed4175 in start_thread () from /lib/libpthread.so.0
#7  0xb7e32dae in clone () from /lib/libc.so.6

Thread 1 (Thread 0xb7d636f0 (LWP 23962)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7edabab in read () from /lib/libpthread.so.0
#2  0x080d1793 in mono_handle_native_sigsegv (signal=6, ctx=0xbfc0cf7c) at
mini-exceptions.c:1488
#3  &lt;signal handler called&gt;
#4  0xffffe430 in __kernel_vsyscall ()
#5  0xb7d8f900 in raise () from /lib/libc.so.6
#6  0xb7d91238 in abort () from /lib/libc.so.6
#7  0xb7f7e029 in g_assertion_message () from /usr/lib/libglib-2.0.so.0
#8  0xb7f7e4bd in g_assertion_message_expr () from /usr/lib/libglib-2.0.so.0
#9  0x08165700 in mono_debugger_lock () at mono-debug-debugger.c:55
#10 0x08163bed in mono_debug_print_stack_frame (method=0x84707d4,
native_offset=239, domain=0x25ee0)
    at mono-debug.c:1082
#11 0x080cfeb6 in ves_icall_System_Exception_get_trace (ex=0x14fd58) at
mini-exceptions.c:363
#12 0x080d0aba in mono_handle_exception_internal (ctx=0xbfc0d6b4, obj=0x14fd58,
original_ip=0xb6732cb8, 
    test_only=1, out_filter_idx=0xbfc0d6f0) at mini-exceptions.c:1043
#13 0x080d06e9 in mono_handle_exception_internal (ctx=0xbfc0d738, obj=0x6,
original_ip=0xb6732cb8, 
    test_only=0, out_filter_idx=0x0) at mini-exceptions.c:910
#14 0x080f67ca in throw_exception (eax=1375576, ecx=976608, edx=1375576,
ebx=2821280, esi=2804608, 
    edi=2821280, ebp=3217086408, exc=0x14fd58, eip=3061001400, esp=3217086360,
rethrow=-1233965896)
    at exceptions-x86.c:406
#15 0xb7c30d0d in ?? ()
#16 0xb6732817 in ?? ()
#17 0xb6836b74 in ?? ()
#18 0xb673279a in ?? ()
#19 0xb67319aa in ?? ()
#20 0xb6731386 in ?? ()
#21 0xb67310f7 in ?? ()
#22 0xb6836b38 in ?? ()
#23 0xb67310b9 in ?? ()
#24 0xb6731063 in ?? ()
#25 0xb674b4bd in ?? ()
#26 0xb674b0ac in ?? ()
#27 0xb6731004 in ?? ()
#28 0xb6742b6b in ?? ()
#29 0xb677685b in ?? ()
#30 0xb67767ea in ?? ()
#31 0xb6730c42 in ?? ()
#32 0xb6740b81 in ?? ()
#33 0xb67767ea in ?? ()
#34 0xb6754148 in ?? ()
#35 0xb678fad5 in ?? ()
#36 0xb678f97d in ?? ()
#37 0xb6831e83 in ?? ()
#38 0xb6831854 in ?? ()
#39 0xb682dab9 in ?? ()
#40 0xb682d6e4 in ?? ()
#41 0xb6773e16 in ?? ()
#42 0xb68360f9 in ?? ()
#43 0xb6773d44 in ?? ()
#44 0xb6771d1c in ?? ()
#45 0xb6771c43 in ?? ()
#46 0xb6770fea in ?? ()
#47 0xb6770f92 in ?? ()
#48 0xb677e6ab in ?? ()
#49 0xb677e616 in ?? ()
#50 0xb677e5d4 in ?? ()
#51 0xb6770e07 in ?? ()
#52 0xb678fad5 in ?? ()
#53 0xb678f97d in ?? ()
#54 0xb6831e83 in ?? ()
#55 0xb6831854 in ?? ()
#56 0xb682dab9 in ?? ()
#57 0xb682d6e4 in ?? ()
#58 0xb682d4bd in ?? ()
#59 0xb682d48d in ?? ()
#60 0xb682d3ec in ?? ()
#61 0xb682cf25 in ?? ()
#62 0xb682cd95 in ?? ()
#63 0xb716b6da in ?? ()
#64 0xb716b203 in ?? ()
#65 0x0811399e in mono_runtime_exec_main (method=0x2b0ca0, args=0x29f48,
exc=0x0) at object.c:3296
#66 0x081140bd in mono_runtime_run_main (method=0x82beff4, argc=2,
argv=0xbfc0ea68, exc=0x0)
    at object.c:3084
#67 0x080b1c3a in mono_main (argc=3, argv=0xbfc0ea64) at driver.c:969
#68 0x0805aeb1 in main (argc=0, argv=0x0) at main.c:34
#0  0xffffe430 in __kernel_vsyscall ()

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================



I'm running IPCE package version r7-18.1 (main package for Opensuse11.0).

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="085403.html">[Mono-bugs] [Bug 470336] crash while compiling on SLE_10/ppc
</A></li>
	<LI>Next message: <A HREF="085411.html">[Mono-bugs] [Bug 471669] Crash when running ironpython without	--debug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85404">[ date ]</a>
              <a href="thread.html#85404">[ thread ]</a>
              <a href="subject.html#85404">[ subject ]</a>
              <a href="author.html#85404">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
