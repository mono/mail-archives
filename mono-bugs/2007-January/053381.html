<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 80665][Nor] New - Crash with --profile
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080665%5D%5BNor%5D%20New%20-%20Crash%20with%20--profile&In-Reply-To=bug-80665%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053380.html">
   <LINK REL="Next"  HREF="053382.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 80665][Nor] New - Crash with --profile</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080665%5D%5BNor%5D%20New%20-%20Crash%20with%20--profile&In-Reply-To=bug-80665%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 80665][Nor] New - Crash with --profile">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Mon Jan 29 19:24:19 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053380.html">[Mono-bugs] [Bug 80223][Wis] Changed - Som minor MDI issues in 1.2.2
</A></li>
        <LI>Next message: <A HREF="053382.html">[Mono-bugs] [Bug 80665][Nor] Changed - Crash with --profile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53381">[ date ]</a>
              <a href="thread.html#53381">[ thread ]</a>
              <a href="subject.html#53381">[ subject ]</a>
              <a href="author.html#53381">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">bmaurer at users.sf.net.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=80665">http://bugzilla.ximian.com/show_bug.cgi?id=80665</A>

--- shadow/80665	2007-01-29 19:24:19.000000000 -0500
+++ shadow/80665.tmp.21079	2007-01-29 19:24:19.000000000 -0500
@@ -0,0 +1,126 @@
+Bug#: 80665
+Product: Mono: Runtime
+Version: 1.2
+OS: 
+OS Details: 
+Status: NEW   
+Resolution: 
+Severity: 
+Priority: Normal
+Component: misc
+AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>                            
+ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">bmaurer at users.sf.net</A>               
+QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
+TargetMilestone: ---
+URL: 
+Cc: 
+Summary: Crash with --profile
+
+I was attempting to run xsp with --profile=default:mem and got the
+following stack trace. This happens if I make one or more requests to the 
+1.1/handlers/empty.ashx url in the default samples. I can consistently
+reproduce the error.
+
+
+
+Stacktrace:
+
+
+Native stacktrace:
+
+        /home/bmaurer/install/bin/mono [0x51508f]
+        /home/bmaurer/install/bin/mono [0x4dccbd]
+        /lib64/libpthread.so.0 [0x2aaaab583de0]
+        /lib64/libc.so.6(strlen+0x7e) [0x2aaaaba8952e]
+        /lib64/libc.so.6(_IO_vfprintf+0x3d58) [0x2aaaaba59d18]
+        /lib64/libc.so.6(vasprintf+0xbd) [0x2aaaaba7a51d]
+        /lib64/libglib-2.0.so.0(g_vasprintf+0x20) [0x2aaaab126cf0]
+        /lib64/libglib-2.0.so.0(g_strdup_vprintf+0x20) [0x2aaaab119550]
+        /lib64/libglib-2.0.so.0(g_strdup_printf+0x8d) [0x2aaaab1195ed]
+        /home/bmaurer/install/bin/mono [0x4b546c]
+        /home/bmaurer/install/bin/mono [0x4b56ab]
+        /home/bmaurer/install/bin/mono [0x4db4c1]
+        /home/bmaurer/install/bin/mono(mono_main+0xdad) [0x41402d]
+        /lib64/libc.so.6(__libc_start_main+0xf4) [0x2aaaaba31a44]
+        /home/bmaurer/install/bin/mono(realloc+0x321) [0x412cf9]
+
+Debug info from gdb:
+
+Using host libthread_db library &quot;/lib64/libthread_db.so.1&quot;.
+[Thread debugging using libthread_db enabled]
+[New Thread 46912515746624 (LWP 31557)]
+[New Thread 1096866112 (LWP 31575)]
+[New Thread 1073822016 (LWP 31558)]
+0x00002aaaabadaac2 in select () from /lib64/libc.so.6
+  3 Thread 1073822016 (LWP 31558)  0x00002aaaab5834a1 in nanosleep ()
+   from /lib64/libpthread.so.0
+  2 Thread 1096866112 (LWP 31575)  0x00002aaaab580607 in
+pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
+  1 Thread 46912515746624 (LWP 31557)  0x00002aaaabadaac2 in select ()
+   from /lib64/libc.so.6
+
+Thread 3 (Thread 1073822016 (LWP 31558)):
+#0  0x00002aaaab5834a1 in nanosleep () from /lib64/libpthread.so.0
+#1  0x00000000004c50b0 in collection_thread (unused=&lt;value optimized out&gt;)
+    at collection.c:34
+#2  0x00002aaaab57c305 in start_thread () from /lib64/libpthread.so.0
+#3  0x00002aaaabae150d in clone () from /lib64/libc.so.6
+#4  0x0000000000000000 in ?? ()
+
+Thread 2 (Thread 1096866112 (LWP 31575)):
+#0  0x00002aaaab580607 in pthread_cond_timedwait@@GLIBC_2.3.2 ()
+   from /lib64/libpthread.so.0
+#1  0x00000000004bd0f0 in timedwait_signal_poll_cond (cond=0x2aaaafb4b048, 
+    mutex=0x2aaaafb4b020, timeout=0x4160cf50, alertable=&lt;value optimized out&gt;)
+    at handles.c:1423
+#2  0x00000000004bf28c in _wapi_handle_timedwait_signal_handle (
+    handle=&lt;value optimized out&gt;, timeout=0x4160cf50, alertable=-1347112928)
+    at handles.c:1493
+#3  0x00000000004b8cb4 in WaitForSingleObjectEx (handle=0x400, timeout=10000, 
+    alertable=1) at wait.c:202
+#4  0x000000000051e197 in async_invoke_thread (data=0x0) at threadpool.c:1223
+#5  0x00000000004976c9 in start_wrapper (data=&lt;value optimized out&gt;)
+    at threads.c:308
+#6  0x00000000004c62e7 in thread_start_routine (args=0x2aaaafbb3350)
+    at threads.c:253
+#7  0x00000000004d7de2 in GC_start_routine (arg=&lt;value optimized out&gt;)
+    at pthread_support.c:1357
+#8  0x00002aaaab57c305 in start_thread () from /lib64/libpthread.so.0
+#9  0x00002aaaabae150d in clone () from /lib64/libc.so.6
+#10 0x0000000000000000 in ?? ()
+
+Thread 1 (Thread 46912515746624 (LWP 31557)):
+#0  0x00002aaaabadaac2 in select () from /lib64/libc.so.6
+#1  0x00002aaaab1291ae in g_spawn_sync () from /lib64/libglib-2.0.so.0
+#2  0x00002aaaab129578 in g_spawn_command_line_sync ()
+   from /lib64/libglib-2.0.so.0
+#3  0x0000000000515128 in mono_handle_native_sigsegv (
+    signal=&lt;value optimized out&gt;, ctx=&lt;value optimized out&gt;)
+    at mini-exceptions.c:1066
+#4  0x00000000004dccbd in sigsegv_signal_handler (
+    _dummy=&lt;value optimized out&gt;, info=&lt;value optimized out&gt;, 
+    context=0x7fff659f2fa0) at mini.c:11107
+#5  &lt;signal handler called&gt;
+#6  0x00002aaaaba8952e in strlen () from /lib64/libc.so.6
+#7  0x00002aaaaba59d18 in vfprintf () from /lib64/libc.so.6
+#8  0x00002aaaaba7a51d in vasprintf () from /lib64/libc.so.6
+#9  0x00002aaaab126cf0 in g_vasprintf () from /lib64/libglib-2.0.so.0
+#10 0x00002aaaab119550 in g_strdup_vprintf () from /lib64/libglib-2.0.so.0
+#11 0x00002aaaab1195ed in g_strdup_printf () from /lib64/libglib-2.0.so.0
+#12 0x00000000004b546c in method_get_name (method=0xd6a450) at profiler.c:807
+#13 0x00000000004b56ab in simple_shutdown (prof=0x7e6200) at profiler.c:831
+#14 0x00000000004db4c1 in mini_cleanup (domain=0x2aaaaf279e60) at mini.c:11944
+#15 0x000000000041402d in mono_main (argc=1, argv=&lt;value optimized out&gt;)
+    at driver.c:1014
+#16 0x00002aaaaba31a44 in __libc_start_main () from /lib64/libc.so.6
+#17 0x0000000000412cf9 in _start ()
+#0  0x00002aaaabadaac2 in select () from /lib64/libc.so.6
+
+
+=================================================================
+Got a SIGSEGV while executing native code. This usually indicates
+a fatal error in the mono runtime or one of the native libraries 
+used by your application.
+=================================================================
+
+Aborted
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053380.html">[Mono-bugs] [Bug 80223][Wis] Changed - Som minor MDI issues in 1.2.2
</A></li>
	<LI>Next message: <A HREF="053382.html">[Mono-bugs] [Bug 80665][Nor] Changed - Crash with --profile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53381">[ date ]</a>
              <a href="thread.html#53381">[ thread ]</a>
              <a href="subject.html#53381">[ subject ]</a>
              <a href="author.html#53381">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
