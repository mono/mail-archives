<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 564305] New: Trying to populate a DataGridViewCell gives NullReferenceException ONLY on OS X
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20564305%5D%20New%3A%20Trying%20to%20populate%20a%20DataGridViewCell%0A%20gives%20NullReferenceException%20ONLY%20on%20OS%20X&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="095700.html">
   <LINK REL="Next"  HREF="095708.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 564305] New: Trying to populate a DataGridViewCell gives NullReferenceException ONLY on OS X</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20564305%5D%20New%3A%20Trying%20to%20populate%20a%20DataGridViewCell%0A%20gives%20NullReferenceException%20ONLY%20on%20OS%20X&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 564305] New: Trying to populate a DataGridViewCell gives NullReferenceException ONLY on OS X">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Dec 12 20:27:05 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="095700.html">[Mono-bugs] [Bug 564302] setNeedsDisplay of CALayer bound	incorrectly
</A></li>
        <LI>Next message: <A HREF="095708.html">[Mono-bugs] [Bug 564305] Trying to populate a DataGridViewCell gives NullReferenceException ONLY on OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#95705">[ date ]</a>
              <a href="thread.html#95705">[ thread ]</a>
              <a href="subject.html#95705">[ subject ]</a>
              <a href="author.html#95705">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=564305">http://bugzilla.novell.com/show_bug.cgi?id=564305</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=564305#c0">http://bugzilla.novell.com/show_bug.cgi?id=564305#c0</A>


           Summary: Trying to populate a DataGridViewCell gives
                    NullReferenceException ONLY on OS X
    Classification: Mono
           Product: Mono: Runtime
           Version: 2.4.x
          Platform: x86-64
        OS/Version: Mac OS X 10.6
            Status: NEW
          Severity: Critical
          Priority: P5 - None
         Component: JIT
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">iosglpgc at teleline.es</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_1; es-es)
AppleWebKit/531.9 (KHTML, like Gecko) Version/4.0.3 Safari/531.9

While trying to run my application it gives the following crash.

System.NullReferenceException: Object reference not set to an instance of an
object
  at System.Windows.Forms.DataGridViewCell.GetValue (Int32 rowIndex) [0x00042]
in
/private/tmp/monobuild/build/BUILD/mono-2.6/mcs/class/Managed.Windows.Forms/System.Windows.Forms/DataGridViewCell.cs:930 
  at System.Windows.Forms.DataGridViewCell.get_Value () [0x00000] in
/private/tmp/monobuild/build/BUILD/mono-2.6/mcs/class/Managed.Windows.Forms/System.Windows.Forms/DataGridViewCell.cs:382 
  at System.Windows.Forms.DataGridViewCell.SetValue (Int32 rowIndex,
System.Object value) [0x00000] in
/private/tmp/monobuild/build/BUILD/mono-2.6/mcs/class/Managed.Windows.Forms/System.Windows.Forms/DataGridViewCell.cs:1326 
  at System.Windows.Forms.DataGridViewCell.set_Value (System.Object value)
[0x00000] in
/private/tmp/monobuild/build/BUILD/mono-2.6/mcs/class/Managed.Windows.Forms/System.Windows.Forms/DataGridViewCell.cs:385 
  at System.Windows.Forms.DataGridViewRow.SetValues (System.Object[] values)
[0x00074] in
/private/tmp/monobuild/build/BUILD/mono-2.6/mcs/class/Managed.Windows.Forms/System.Windows.Forms/DataGridViewRow.cs:488 
  at bot.DataGridViewClientRow..ctor (System.Windows.Forms.DataGridView
gridView, bot.BotAccount botAccount) [0x00000] in &lt;filename unknown&gt;:0 
  at bot.GUI.frmMain.frmAddAcc_OnAddAccount (bot.BotAccount botAccount)
[0x00000] in &lt;filename unknown&gt;:0 
  at bot.GUI.frmMain.LoadXmlAccounts (System.String file) [0x00000] in
&lt;filename unknown&gt;:0 
  at bot.GUI.frmMain.LoadXmlAccounts () [0x00000] in &lt;filename unknown&gt;:0 
  at bot.GUI.frmMain.frmMain_Load (System.Object sender, System.EventArgs e)
[0x00000] in &lt;filename unknown&gt;:0 
  at System.Windows.Forms.Form.OnLoad (System.EventArgs e) [0x00022] in
/private/tmp/monobuild/build/BUILD/mono-2.6/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Form.cs:2162 
  at System.Windows.Forms.Form.OnLoadInternal (System.EventArgs e) [0x00029] in
/private/tmp/monobuild/build/BUILD/mono-2.6/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Form.cs:2988 

This happens in Mac OS X only no matter if the application is compiled with
Mono or Microsoft compilers.
This DOES NOT happen in Linux (x64) neither Windows (Mono and .NET Framework).

Failing code in question is as following:
 public class DataGridViewClientRow : DataGridViewRow
    {
        private bot.BotAccount botAccount;
        private DataGridView gridView;

        public DataGridViewClientRow(DataGridView gridView, bot.BotAccount
botAccount)
        {        
            this.botAccount = botAccount;
            this.gridView = gridView;
            base.CreateCells(gridView);
            base.SetValues(new object[] { botAccount.LoginDetails.FullName,
bot.Localization.clResourceManager.getText(&quot;botAccount.Offline&quot;),
botAccount.LoginDetails.MasterName, botAccount.LoginDetails.StartLocation });
        }

All of the arguments inside SetValues are strings, none is null.

Reproducible: Always

Steps to Reproduce:
1. Run the application in Mac OS X
2.
3.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>




















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="095700.html">[Mono-bugs] [Bug 564302] setNeedsDisplay of CALayer bound	incorrectly
</A></li>
	<LI>Next message: <A HREF="095708.html">[Mono-bugs] [Bug 564305] Trying to populate a DataGridViewCell gives NullReferenceException ONLY on OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#95705">[ date ]</a>
              <a href="thread.html#95705">[ thread ]</a>
              <a href="subject.html#95705">[ subject ]</a>
              <a href="author.html#95705">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
