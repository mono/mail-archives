<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 355850] Exception when disposing form trying to set focus on control
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20355850%5D%20Exception%20when%20disposing%20form%20trying%20to%0A%20set%20focus%20on%20control&In-Reply-To=bug-355850-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068317.html">
   <LINK REL="Next"  HREF="068481.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 355850] Exception when disposing form trying to set focus on control</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20355850%5D%20Exception%20when%20disposing%20form%20trying%20to%0A%20set%20focus%20on%20control&In-Reply-To=bug-355850-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 355850] Exception when disposing form trying to set focus on control">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Jan 28 22:43:43 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="068317.html">[Mono-bugs] [Bug 355850] Exception when disposing form trying to set focus on control
</A></li>
        <LI>Next message: <A HREF="068481.html">[Mono-bugs] [Bug 355850] Exception when disposing form trying to set focus on control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68480">[ date ]</a>
              <a href="thread.html#68480">[ thread ]</a>
              <a href="subject.html#68480">[ subject ]</a>
              <a href="author.html#68480">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=355850">https://bugzilla.novell.com/show_bug.cgi?id=355850</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">albright at wesay.org</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=355850#c2">https://bugzilla.novell.com/show_bug.cgi?id=355850#c2</A>





--- Comment #2 from Eric Albright &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">albright at wesay.org</A>&gt;  2008-01-28 20:43:43 MST ---
Created an attachment (id=192096)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=192096">https://bugzilla.novell.com/attachment.cgi?id=192096</A>)
Test program to reproduce bug

In tracing the root of the problem so that I could create a test case, it looks
as though the TabControl.SelectedIndex.set sets the Visible property of the
TabPage to false. Then, when the control inside of the TabPage is disposed,
removing it from it's parent, causes its Visible property to now be true
(instead of false which it was inheriting). This triggers an
ScrollableControl.OnVisibleChanged which then calls Control.OnVisibleChanged.
Since it is now Visible, it calls Control.CreateControl and creates a new
control causing Load to be called. In my code, I set the focus in the OnLoad
which then causes the problem.

A breakpoint in Mono355850.TestControl.OnLoad should show this.

Hope that helps.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068317.html">[Mono-bugs] [Bug 355850] Exception when disposing form trying to set focus on control
</A></li>
	<LI>Next message: <A HREF="068481.html">[Mono-bugs] [Bug 355850] Exception when disposing form trying to set focus on control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68480">[ date ]</a>
              <a href="thread.html#68480">[ thread ]</a>
              <a href="subject.html#68480">[ subject ]</a>
              <a href="author.html#68480">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
