<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 354926] New: Remoting class implementing interface type throws RemotingException in client and client fails
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20354926%5D%20New%3A%20Remoting%20class%20implementing%20interface%0A%20type%20throws%20RemotingException%20in%20client%20and%20client%20fails&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068454.html">
   <LINK REL="Next"  HREF="068245.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 354926] New: Remoting class implementing interface type throws RemotingException in client and client fails</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20354926%5D%20New%3A%20Remoting%20class%20implementing%20interface%0A%20type%20throws%20RemotingException%20in%20client%20and%20client%20fails&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 354926] New: Remoting class implementing interface type throws RemotingException in client and client fails">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Jan 18 19:03:11 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="068454.html">[Mono-bugs] [Bug 354892] RelativeTransform problems on Gradient and	Image brushes
</A></li>
        <LI>Next message: <A HREF="068245.html">[Mono-bugs] [Bug 354926] Remoting class implementing interface type throws RemotingException in client and client fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68091">[ date ]</a>
              <a href="thread.html#68091">[ thread ]</a>
              <a href="subject.html#68091">[ subject ]</a>
              <a href="author.html#68091">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=354926">https://bugzilla.novell.com/show_bug.cgi?id=354926</A>


           Summary: Remoting class implementing interface type throws
                    RemotingException in client and client fails
           Product: Mono: Runtime
           Version: 1.2.6
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: remoting
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lluis at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rcook at opiumtrail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Development


Created an attachment (id=191069)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=191069">https://bugzilla.novell.com/attachment.cgi?id=191069</A>)
Source code and NAnt build file for repro

I have a sample application (see attachment) consisting of a server, client and
a shared component. I declare an interface in the shared component. The server
defines class implementing this interface and the client tries to get an
instance of the remoted object through the interface.

This results in the following exception being thrown in the client:

System.Runtime.Remoting.RemotingException: Cannot cast from client type
'Trac79.Shared.IRemoteObject, Shared, Version=0.0.0.0, Culture=neutral,
PublicKeyToken=null' to server type 'Trac79.Server.RemoteObject'

Server stack trace:
  at System.Runtime.Remoting.Messaging.MethodCall.ResolveMethod () [0x00000]
  at System.Runtime.Remoting.Messaging.MethodCall..ctor
(System.Runtime.Remoting.Messaging.Header[] headers) [0x00000]
  at
System.Runtime.Serialization.Formatters.Binary.MessageFormatter.ReadMethodCall
(System.IO.BinaryReader reader, Boolean hasHeaders,
System.Runtime.Remoting.Messaging.HeaderHandler headerHandler,
System.Runtime.Serialization.Formatters.Binary.BinaryFormatter formatter)
[0x00000]
  at
System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.NoCheckDeserialize
(System.IO.Stream serializationStream,
System.Runtime.Remoting.Messaging.HeaderHandler handler) [0x00000]
  at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize
(System.IO.Stream serializationStream,
System.Runtime.Remoting.Messaging.HeaderHandler handler) [0x00000]
  at System.Runtime.Remoting.Channels.BinaryServerFormatterSink.ProcessMessage
(IServerChannelSinkStack sinkStack, IMessage requestMsg, ITransportHeaders
requestHeaders, System.IO.Stream requestStream, IMessage&amp; responseMsg,
ITransportHeaders&amp; responseHeaders, System.IO.Stream&amp; responseStream) [0x00000]

Exception rethrown at [0]:

  at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke
(System.Runtime.Remoting.Proxies.RealProxy rp, IMessage msg, System.Exception&amp;
exc, System.Object[]&amp; out_args) [0x00000]

Remoting an interface like this is supported by the CLR and does not result in
this exception.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068454.html">[Mono-bugs] [Bug 354892] RelativeTransform problems on Gradient and	Image brushes
</A></li>
	<LI>Next message: <A HREF="068245.html">[Mono-bugs] [Bug 354926] Remoting class implementing interface type throws RemotingException in client and client fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68091">[ date ]</a>
              <a href="thread.html#68091">[ thread ]</a>
              <a href="subject.html#68091">[ subject ]</a>
              <a href="author.html#68091">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
