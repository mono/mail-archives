<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 353491] New: Calling an explicitly implemented interface method on remoted object causes RemotingException in client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20353491%5D%20New%3A%20Calling%20an%20explicitly%20implemented%0A%20interface%20method%20on%20remoted%20object%20causes%20RemotingException%20in%20client&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067681.html">
   <LINK REL="Next"  HREF="067686.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 353491] New: Calling an explicitly implemented interface method on remoted object causes RemotingException in client</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20353491%5D%20New%3A%20Calling%20an%20explicitly%20implemented%0A%20interface%20method%20on%20remoted%20object%20causes%20RemotingException%20in%20client&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 353491] New: Calling an explicitly implemented interface method on remoted object causes RemotingException in client">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Jan 11 20:43:11 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="067681.html">[Mono-bugs] [Bug 353490] mono-addins-0.3 generates an incomplete mono-addins.pc file
</A></li>
        <LI>Next message: <A HREF="067686.html">[Mono-bugs] [Bug 353491] Calling an explicitly implemented interface method on remoted object causes RemotingException in client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67682">[ date ]</a>
              <a href="thread.html#67682">[ thread ]</a>
              <a href="subject.html#67682">[ subject ]</a>
              <a href="author.html#67682">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=353491">https://bugzilla.novell.com/show_bug.cgi?id=353491</A>


           Summary: Calling an explicitly implemented interface method on
                    remoted object causes RemotingException in client
           Product: Mono: Runtime
           Version: 1.2.5
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: remoting
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lluis at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rcook at opiumtrail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Development


Created an attachment (id=190320)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=190320">https://bugzilla.novell.com/attachment.cgi?id=190320</A>)
Repro

There is a problem when calling explicitly implemented interface methods
through remoting. For example we have an interface IRemoteObject shared between
the server and client. The server registers a typed implementing this interface
explicitly. When the client attempts to call any methods on this interface, the
client throws the following exception:

Unhandled Exception: System.Runtime.Remoting.RemotingException: Tcp transport
error.

Server stack trace: 
  at System.Runtime.Remoting.Channels.Tcp.TcpMessageIO.ReceiveMessageStatus
(System.IO.Stream networkStream, System.Byte[] buffer) [0x00000] 
  at System.Runtime.Remoting.Channels.Tcp.TcpClientTransportSink.ProcessMessage
(IMessage msg, ITransportHeaders requestHeaders, System.IO.Stream
requestStream, ITransportHeaders&amp; responseHeaders, System.IO.Stream&amp;
responseStream) [0x00000] 
  at
System.Runtime.Remoting.Channels.BinaryClientFormatterSink.SyncProcessMessage
(IMessage msg) [0x00000] 

Exception rethrown at [0]: 
 ---&gt; System.Runtime.Remoting.RemotingException: Connection closed
  at System.Runtime.Remoting.Channels.Tcp.TcpMessageIO.StreamRead
(System.IO.Stream networkStream, System.Byte[] buffer, Int32 count) [0x00000] 
  at System.Runtime.Remoting.Channels.Tcp.TcpMessageIO.ReceiveMessageStatus
(System.IO.Stream networkStream, System.Byte[] buffer) [0x00000] --- End of
inner exception stack trace ---

  at System.Runtime.Remoting.Channels.Tcp.TcpMessageIO.ReceiveMessageStatus
(System.IO.Stream networkStream, System.Byte[] buffer) [0x00000] 
  at System.Runtime.Remoting.Channels.Tcp.TcpClientTransportSink.ProcessMessage
(IMessage msg, ITransportHeaders requestHeaders, System.IO.Stream
requestStream, ITransportHeaders&amp; responseHeaders, System.IO.Stream&amp;
responseStream) [0x00000] 
  at
System.Runtime.Remoting.Channels.BinaryClientFormatterSink.SyncProcessMessage
(IMessage msg) [0x00000] 

and the server does not receive the method call.

Implementing the method implicitly does not cause the same problem.

I have attached a example application demonstrating working and broken
behaviours. Running the same code under Windows and the Microsoft CLR this does
not happen and the method call executes without error in both cases.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067681.html">[Mono-bugs] [Bug 353490] mono-addins-0.3 generates an incomplete mono-addins.pc file
</A></li>
	<LI>Next message: <A HREF="067686.html">[Mono-bugs] [Bug 353491] Calling an explicitly implemented interface method on remoted object causes RemotingException in client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67682">[ date ]</a>
              <a href="thread.html#67682">[ thread ]</a>
              <a href="subject.html#67682">[ subject ]</a>
              <a href="author.html#67682">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
