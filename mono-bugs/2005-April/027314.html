<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 74455][Maj] Changed - deadlock in mono_method_desc_new?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="027313.html">
   <LINK REL="Next"  HREF="027315.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 74455][Maj] Changed - deadlock in mono_method_desc_new?
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 74455][Maj] Changed - deadlock in mono_method_desc_new?">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Thu, 14 Apr 2005 12:05:49 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="027313.html">[Mono-bugs] [Bug 74606][Nor] New - Space character in element name in Serialization
</A></li>
        <LI> Next message: <A HREF="027315.html">[Mono-bugs] [Bug 74606][Nor] Changed - Space character in element name in Serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27314">[ date ]</a>
              <a href="thread.html#27314">[ thread ]</a>
              <a href="subject.html#27314">[ subject ]</a>
              <a href="author.html#27314">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:james@ximian.com.">james@ximian.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=74455">http://bugzilla.ximian.com/show_bug.cgi?id=74455</A>

--- shadow/74455	2005-04-14 01:02:59.000000000 -0400
+++ shadow/74455.tmp.6244	2005-04-14 12:05:49.000000000 -0400
@@ -111,6 +111,220 @@
 
 (gdb) p mono_print_method_from_ip (address)
 
     For all the addresses without names.
 
 Miguel.
+
+------- Additional Comments From <A HREF="mailto:james@ximian.com">james@ximian.com</A>  2005-04-14 12:05 -------
+They got another hang in the superlab, backtrace here. 
+mono_print_method_from_ip was not returning the correct stuff (it
+returned a decimal number, not the method signature)
+
+Thread 11 (Thread 1109760944 (LWP 29289)):
+#0  0xffffe410 in ?? ()
+#1  0x42259b0c in ?? ()
+#2  0x00000002 in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d3efe in __lll_mutex_lock_wait () from /lib/tls/libpthread.so.0
+#5  0x400cfde3 in _L_mutex_lock_2518 () from /lib/tls/libpthread.so.0
+#6  0x42259ac4 in ?? ()
+#7  0x00000000 in ?? ()
+#8  0x00000000 in ?? ()
+#9  0x00000000 in ?? ()
+#10 0x00000000 in ?? ()
+#11 0x00000000 in ?? ()
+#12 0x00000000 in ?? ()
+#13 0x42259bb0 in ?? ()
+#14 0x400d7bc4 in __JCR_LIST__ () from /lib/tls/libpthread.so.0
+#15 0x00000000 in ?? ()
+#16 0x00000000 in ?? ()
+#17 0x42259b0c in ?? ()
+#18 0x42259aa4 in ?? ()
+#19 0x400cf9f8 in start_thread () from /lib/tls/libpthread.so.0
+#20 0x401ba9da in clone () from /lib/tls/libc.so.6
+
+Thread 10 (Thread 1079638960 (LWP 14321)):
+#0  0xffffe410 in ?? ()
+#1  0x4059f938 in ?? ()
+#2  0x0013aab9 in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d1b0c in pthread_cond_timedwait@@GLIBC_2.3.2 () from
+/lib/tls/libpthread.so.0
+#5  0x080d90f1 in _wapi_handle_wait_signal_handle ()
+#6  0x080dac53 in WaitForSingleObjectEx ()
+#7  0x080b3b00 in finalizer_thread ()
+#8  0x0808b782 in start_wrapper ()
+#9  0x080dd694 in timed_thread_start_routine ()
+#10 0x080e6d74 in GC_start_routine ()
+#11 0x400cfa13 in start_thread () from /lib/tls/libpthread.so.0
+#12 0x401ba9da in clone () from /lib/tls/libc.so.6
+ 
+
+Thread 9 (Thread 1087134640 (LWP 14324)):
+#0  0xffffe410 in ?? ()
+#1  0x40cc54a0 in ?? ()
+#2  0x00000002 in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d3efe in __lll_mutex_lock_wait () from /lib/tls/libpthread.so.0
+#5  0x400d0c60 in _L_mutex_lock_34 () from /lib/tls/libpthread.so.0
+#6  0x00000451 in ?? ()
+#7  0x000037ef in ?? ()
+#8  0x08187ce0 in __JCR_LIST__ ()
+#9  0x08186c9c in thread_hash_once ()
+#10 0x00000451 in ?? ()
+#11 0x40cc5510 in ?? ()
+#12 0x080cdc37 in thread_exit ()
+#13 0x080cdc37 in thread_exit ()
+#14 0x080dd50f in _wapi_timed_thread_exit ()
+#15 0x080ce397 in ExitThread ()
+#16 0x0808bab2 in mono_thread_exit ()
+#17 0x081180bb in mono_handle_exception ()
+#18 0x08118d9b in throw_exception ()
+#19 0x40018435 in ?? ()
+
+
+Thread 8 (Thread 1090534320 (LWP 14325)):
+#0  0xffffe410 in ?? ()
+#1  0x410038e8 in ?? ()
+#2  0x00000002 in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d3efe in __lll_mutex_lock_wait () from /lib/tls/libpthread.so.0
+#5  0x400d0c60 in _L_mutex_lock_34 () from /lib/tls/libpthread.so.0
+#6  0x08623438 in ?? ()
+#7  0x410038e0 in ?? ()
+#8  0x08187ce0 in __JCR_LIST__ ()
+#9  0x00001388 in ?? ()
+#10 0x08186c9c in thread_hash_once ()
+#11 0x41003938 in ?? ()
+#12 0x080ce816 in GetCurrentThread ()
+#13 0x080ce816 in GetCurrentThread ()
+#14 0x080cec44 in SleepEx ()
+#15 0x0808bc91 in ves_icall_System_Threading_Thread_Sleep_internal ()
+#16 0x4098a0eb in ?? ()
+#17 0x00001388 in ?? ()
+#18 0x08621448 in ?? ()
+#19 0x086214f8 in ?? ()
+
+Thread 7 (Thread 1100200880 (LWP 14326)):
+#0  0xffffe410 in ?? ()
+#1  0x4193b864 in ?? ()
+#2  0x0013a9db in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d1b0c in pthread_cond_timedwait@@GLIBC_2.3.2 () from
+/lib/tls/libpthread.so.0
+#5  0x080d90f1 in _wapi_handle_wait_signal_handle ()
+#6  0x080dac53 in WaitForSingleObjectEx ()
+#7  0x0811b238 in ves_icall_System_Threading_Monitor_Monitor_wait ()
+#8  0x40993a2f in ?? ()
+#9  0x0855c848 in ?? ()
+
+Thread 6 (Thread 1103137712 (LWP 14328)):
+#0  0xffffe410 in ?? ()
+#1  0x41c088d8 in ?? ()
+#2  0x00000002 in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d3efe in __lll_mutex_lock_wait () from /lib/tls/libpthread.so.0
+#5  0x400d0c60 in _L_mutex_lock_34 () from /lib/tls/libpthread.so.0
+#6  0x00000000 in ?? ()
+#7  0x00000000 in ?? ()
+#8  0x08187ce0 in __JCR_LIST__ ()
+#9  0x00000064 in ?? ()
+#10 0x08186c9c in thread_hash_once ()
+#11 0x41c08928 in ?? ()
+#12 0x080ce816 in GetCurrentThread ()
+#13 0x080ce816 in GetCurrentThread ()
+#14 0x080cec44 in SleepEx ()
+#15 0x0808bc91 in ves_icall_System_Threading_Thread_Sleep_internal ()
+#16 0x4098a0eb in ?? ()
+#17 0x00000064 in ?? ()
+
+Thread 5 (Thread 1104190384 (LWP 14329)):
+#0  0xffffe410 in ?? ()
+#1  0x41d098d8 in ?? ()
+#2  0x00000002 in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d3efe in __lll_mutex_lock_wait () from /lib/tls/libpthread.so.0
+#5  0x400d0c60 in _L_mutex_lock_34 () from /lib/tls/libpthread.so.0
+#6  0x00000000 in ?? ()
+#7  0x00000000 in ?? ()
+#8  0x08187ce0 in __JCR_LIST__ ()
+#9  0x00000064 in ?? ()
+#10 0x08186c9c in thread_hash_once ()
+#11 0x41d09928 in ?? ()
+#12 0x080ce816 in GetCurrentThread ()
+#13 0x080ce816 in GetCurrentThread ()
+#14 0x080cec44 in SleepEx ()
+#15 0x0808bc91 in ves_icall_System_Threading_Thread_Sleep_internal ()
+#16 0x4098a0eb in ?? ()
+#17 0x00000064 in ?? ()
+
+Thread 4 (Thread 1105243056 (LWP 14330)):
+#0  0xffffe410 in ?? ()
+#1  0x41e0a604 in ?? ()
+#2  0x00000002 in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d3efe in __lll_mutex_lock_wait () from /lib/tls/libpthread.so.0
+#5  0x400d0c60 in _L_mutex_lock_34 () from /lib/tls/libpthread.so.0
+---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
+#6  0x00000739 in ?? ()
+#7  0x080b2f24 in rescale128 ()
+#8  0x080ce03f in CreateThread ()
+#9  0x0808b8b5 in mono_thread_create ()
+#10 0x08091cc8 in mono_thread_pool_add ()
+#11 0x08095485 in mono_delegate_begin_invoke ()
+#12 0x4214abb9 in ?? ()
+#13 0x08f0d6e0 in ?? ()
+
+
+Thread 3 (Thread 1107479472 (LWP 14843)):
+#0  0xffffe410 in ?? ()
+#1  0x4202c88c in ?? ()
+#2  0x0013a42f in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d1b0c in pthread_cond_timedwait@@GLIBC_2.3.2 () from
+/lib/tls/libpthread.so.0
+#5  0x080d90f1 in _wapi_handle_wait_signal_handle ()
+#6  0x080dac53 in WaitForSingleObjectEx ()
+#7  0x0808c35c in
+ves_icall_System_Threading_WaitHandle_WaitOne_internal ()
+#8  0x41b05d7f in ?? ()
+#9  0x08437138 in ?? ()
+
+
+Thread 2 (Thread 1112124336 (LWP 14845)):
+#0  0xffffe410 in ?? ()
+#1  0x4249a71c in ?? ()
+#2  0x00000002 in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d3efe in __lll_mutex_lock_wait () from /lib/tls/libpthread.so.0
+#5  0x400d0c60 in _L_mutex_lock_34 () from /lib/tls/libpthread.so.0
+#6  0x000004f5 in ?? ()
+#7  0x00000000 in ?? ()
+#8  0x08187ce0 in __JCR_LIST__ ()
+#9  0x40a10250 in ?? ()
+
+#10 0x08186c9c in thread_hash_once ()
+#11 0x4249a76c in ?? ()
+#12 0x080ce816 in GetCurrentThread ()
+#13 0x080ce816 in GetCurrentThread ()
+#14 0x080da93d in WaitForSingleObjectEx ()
+#15 0x0811b2e1 in ves_icall_System_Threading_Monitor_Monitor_wait ()
+#16 0x40993a2f in ?? ()
+#17 0x08be5558 in ?? ()
+
+
+Thread 1 (Thread 1075939136 (LWP 14319)):
+#0  0xffffe410 in ?? ()
+#1  0xbfffe1b8 in ?? ()
+#2  0x0013a9bf in ?? ()
+#3  0x00000000 in ?? ()
+#4  0x400d1b0c in pthread_cond_timedwait@@GLIBC_2.3.2 () from
+/lib/tls/libpthread.so.0
+#5  0x080d90f1 in _wapi_handle_wait_signal_handle ()
+#6  0x080dac53 in WaitForSingleObjectEx ()
+#7  0x0808c35c in
+ves_icall_System_Threading_WaitHandle_WaitOne_internal ()
+#8  0x41b05d7f in ?? ()
+#9  0x0828ffc0 in ?? ()
+
+

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="027313.html">[Mono-bugs] [Bug 74606][Nor] New - Space character in element name in Serialization
</A></li>
	<LI> Next message: <A HREF="027315.html">[Mono-bugs] [Bug 74606][Nor] Changed - Space character in element name in Serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27314">[ date ]</a>
              <a href="thread.html#27314">[ thread ]</a>
              <a href="subject.html#27314">[ subject ]</a>
              <a href="author.html#27314">[ author ]</a>
         </LI>
       </UL>
</body></html>
