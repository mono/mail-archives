<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 55749][Maj] Changed - Another deadlock when running static constructors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="013364.html">
   <LINK REL="Next"  HREF="013366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 55749][Maj] Changed - Another deadlock when running static constructors
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 55749][Maj] Changed - Another deadlock when running static constructors">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Thu, 18 Mar 2004 19:10:37 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="013364.html">[Mono-bugs] [Bug 55779][Nor] New - Uri.Equals broken
</A></li>
        <LI> Next message: <A HREF="013366.html">[Mono-bugs] [Bug 55780][Wis] New - Properties should hide wrt reading and writing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13365">[ date ]</a>
              <a href="thread.html#13365">[ thread ]</a>
              <a href="subject.html#13365">[ subject ]</a>
              <a href="author.html#13365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:lluis@ximian.com.">lluis@ximian.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=55749">http://bugzilla.ximian.com/show_bug.cgi?id=55749</A>

--- shadow/55749	2004-03-18 16:53:34.000000000 -0500
+++ shadow/55749.tmp.31942	2004-03-18 19:10:37.000000000 -0500
@@ -79,6 +79,11 @@
 This is caused by a deadlock between the domain lock taken in
 mono_runtime_class_init, and a managed lock. The solution would be
 to use the initialization protocol described in Partition II., 9.5.3.3,
 but that requires things like 'see whenever this thread or any
 thread waiting for this thread already holds the lock', which is a bit
 hard to implement.
+
+------- Additional Comments From <A HREF="mailto:lluis@ximian.com">lluis@ximian.com</A>  2004-03-18 19:10 -------
+This section refers to deadlocks between type initializers. I think
+that this one could be fixed by using a class lock instead of a domain
+lock. I will try it.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="013364.html">[Mono-bugs] [Bug 55779][Nor] New - Uri.Equals broken
</A></li>
	<LI> Next message: <A HREF="013366.html">[Mono-bugs] [Bug 55780][Wis] New - Properties should hide wrt reading and writing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13365">[ date ]</a>
              <a href="thread.html#13365">[ thread ]</a>
              <a href="subject.html#13365">[ subject ]</a>
              <a href="author.html#13365">[ author ]</a>
         </LI>
       </UL>
</body></html>
