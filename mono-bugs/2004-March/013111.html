<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 55320][Nor] Changed - mcs only considers key file specified in AssemblyKeyFile  as filename relative to local directory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="013110.html">
   <LINK REL="Next"  HREF="013112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 55320][Nor] Changed - mcs only considers key file specified in AssemblyKeyFile  as filename relative to local directory
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 55320][Nor] Changed - mcs only considers key file specified in AssemblyKeyFile  as filename relative to local directory">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Tue,  9 Mar 2004 08:09:34 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="013110.html">[Mono-bugs] [Bug 55148][Wis] Changed - [PATCH] Duplicate constructors getting compiled
</A></li>
        <LI> Next message: <A HREF="013112.html">[Mono-bugs] [Bug 55320][Nor] Changed - mcs only considers key file specified in AssemblyKeyFile  as filename relative to local directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13111">[ date ]</a>
              <a href="thread.html#13111">[ thread ]</a>
              <a href="subject.html#13111">[ subject ]</a>
              <a href="author.html#13111">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:gert.driesen@pandora.be.">gert.driesen@pandora.be.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=55320">http://bugzilla.ximian.com/show_bug.cgi?id=55320</A>

--- shadow/55320	2004-03-08 16:09:46.000000000 -0500
+++ shadow/55320.tmp.31441	2004-03-09 08:09:34.000000000 -0500
@@ -11,13 +11,13 @@
 AssignedTo: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>                            
 ReportedBy: <A HREF="mailto:gert.driesen@pandora.be">gert.driesen@pandora.be</A>               
 QAContact: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>
 TargetMilestone: ---
 URL: 
 Cc: 
-Summary: mcs search filename in AssemblyKeyFile  in local directory
+Summary: mcs only considers key file specified in AssemblyKeyFile  as filename relative to local directory
 
 mcs resolves the filename specified in the AssemblyKeyAttribute assembly
 attribute relative the current directory instead of the directory in which
 the output file is generated.
 
 To reproduce this issue :
@@ -77,6 +77,21 @@
 
 So it looks like the compiler first attempts to lookup the key in
 current directory, and when it's not found it attempts an
 output-directory-based lookup.
 
 Hope it helps.
+
+------- Additional Comments From <A HREF="mailto:gert.driesen@pandora.be">gert.driesen@pandora.be</A>  2004-03-09 08:09 -------
+Jarek,
+
+You are indeed correct, csc first resolves the filename specified in 
+the AssemblyKeyFile attribute relative to the current directory, and 
+then relative to the directory of the output file.
+
+So, mcs should be changed to also combine the filename specified in 
+the AssemblyKeyFile attribute with the directory of the output file.
+
+I updated the summary of the bug report accordingly. But the repro I 
+described still holds up.
+
+Thanks for correcting me.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="013110.html">[Mono-bugs] [Bug 55148][Wis] Changed - [PATCH] Duplicate constructors getting compiled
</A></li>
	<LI> Next message: <A HREF="013112.html">[Mono-bugs] [Bug 55320][Nor] Changed - mcs only considers key file specified in AssemblyKeyFile  as filename relative to local directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13111">[ date ]</a>
              <a href="thread.html#13111">[ thread ]</a>
              <a href="subject.html#13111">[ subject ]</a>
              <a href="author.html#13111">[ author ]</a>
         </LI>
       </UL>
</body></html>
