<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 55978][Wis] New - System.Web.UI.WebControls.DataList not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="013566.html">
   <LINK REL="Next"  HREF="013568.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 55978][Wis] New - System.Web.UI.WebControls.DataList not working
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 55978][Wis] New - System.Web.UI.WebControls.DataList not working">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Tue, 23 Mar 2004 18:44:54 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="013566.html">[Mono-bugs] [Bug 55976][Wis] Changed - Runtime does not accept item on stack in `endfinally'
</A></li>
        <LI> Next message: <A HREF="013568.html">[Mono-bugs] [Bug 55979][Wis] New - We can avoid a local variable in foreach
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13567">[ date ]</a>
              <a href="thread.html#13567">[ thread ]</a>
              <a href="subject.html#13567">[ subject ]</a>
              <a href="author.html#13567">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:chris@turchin.net.">chris@turchin.net.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=55978">http://bugzilla.ximian.com/show_bug.cgi?id=55978</A>

--- shadow/55978	2004-03-23 18:44:54.000000000 -0500
+++ shadow/55978.tmp.19909	2004-03-23 18:44:54.000000000 -0500
@@ -0,0 +1,168 @@
+Bug#: 55978
+Product: Mono: Class Libraries
+Version: unspecified
+OS: 
+OS Details: 
+Status: NEW   
+Resolution: 
+Severity: 
+Priority: Wishlist
+Component: Sys.Web
+AssignedTo: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>                            
+ReportedBy: <A HREF="mailto:chris@turchin.net">chris@turchin.net</A>               
+QAContact: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>
+TargetMilestone: ---
+URL: 
+Cc: 
+Summary: System.Web.UI.WebControls.DataList not working
+
+Please fill in this template when reporting a bug, unless you know what you
+are doing.
+Description of Problem:
+
+System.Web.UI.WebControls.DataList not working - running from cvs on
+mandrake 9.1 --- updated mono/mcs/xsp modules all on 2004-03-23...
+
+Steps to reproduce the problem:
+1. add asp:DataList to form
+2. view form in browser
+3. enjoy Error 500 while contemplating another solution without a datalist....
+
+Actual Results:
+
+System.NullReferenceException: Object reference not set to an instance of
+an object
+in &lt;0x0000f&gt; System.Int32:FindSign
+(int&amp;,string,System.Globalization.NumberFormatInfo,bool&amp;,bool&amp;)
+in &lt;0x00430&gt; System.Int32:Parse
+(string,System.Globalization.NumberStyles,System.IFormatProvider)
+in &lt;0x00013&gt; System.Int32:Parse (string,System.IFormatProvider)
+in &lt;0x0001f&gt; System.Convert:ToInt32 (string,System.IFormatProvider)
+in &lt;0x0000e&gt; System.String:System.IConvertible.ToInt32 (System.IFormatProvider)
+in &lt;0x004e8&gt; System.Convert:ToType (object,System.Type,System.IFormatProvider)
+in &lt;0x0003a&gt; System.Convert:ChangeType (object,System.Type)
+in &lt;0x00211&gt;
+System.Web.Compilation.TemplateControlCompiler:GetExpressionFromString
+(System.Type,string)
+in &lt;0x000eb&gt;
+System.Web.Compilation.TemplateControlCompiler:AddCodeForPropertyOrField
+(System.Web.UI.ControlBuilder,System.Type,string,string,bool)
+in &lt;0x00207&gt;
+System.Web.Compilation.TemplateControlCompiler:ProcessPropertiesAndFields
+(System.Web.UI.ControlBuilder,System.Reflection.MemberInfo,string,string)
+in &lt;0x003f8&gt;
+System.Web.Compilation.TemplateControlCompiler:CreateAssignStatementsFromAttributes
+(System.Web.UI.ControlBuilder)
+in &lt;0x0014b&gt;
+System.Web.Compilation.TemplateControlCompiler:CreateControlTree
+(System.Web.UI.ControlBuilder,bool,bool)
+in &lt;0x004b4&gt;
+System.Web.Compilation.TemplateControlCompiler:CreateControlTree
+(System.Web.UI.ControlBuilder,bool,bool)
+in &lt;0x004b4&gt;
+System.Web.Compilation.TemplateControlCompiler:CreateControlTree
+(System.Web.UI.ControlBuilder,bool,bool)
+in &lt;0x00050&gt; System.Web.Compilation.TemplateControlCompiler:CreateMethods ()
+in &lt;0x0000a&gt; System.Web.Compilation.PageCompiler:CreateMethods ()
+in &lt;0x00197&gt; System.Web.Compilation.BaseCompiler:GetCompiledType ()
+in &lt;0x001d8&gt; System.Web.Compilation.AspGenerator:GetCompiledType ()
+in &lt;0x00036&gt; System.Web.UI.PageParser:CompileIntoType ()
+in &lt;0x0001f&gt; System.Web.UI.TemplateControlParser:GetCompiledInstance ()
+in &lt;0x00057&gt; System.Web.UI.PageParser:GetCompiledPageInstance
+(string,string,System.Web.HttpContext)
+in &lt;0x00011&gt; System.Web.UI.PageHandlerFactory:GetHandler
+(System.Web.HttpContext,string,string,string)
+in &lt;0x00395&gt; System.Web.HttpApplication:CreateHttpHandler
+(System.Web.HttpContext,string,string,string)
+in &lt;0x0011f&gt; CreateHandlerState:Execute ()
+in &lt;0x0007e&gt; StateMachine:ExecuteState
+(System.Web.HttpApplication/IStateHandler,bool&amp;)
+
+Expected Results:
+
+three broken images and three links to some file...
+
+How often does this happen? 
+
+always... same code compiles and runs in Framework 1.1... this error
+happened with the tabcontrol2.aspx sample as well, i think. its probably
+more fundemental than the datalist itself...
+
+Additional Information:
+
+Sample Code: this (or similar code) could be checked in to the xsp/test/
+folder 
+
+########################################################################
+
+&lt;%@ Page Language=&quot;C#&quot; %&gt;
+
+&lt;HTML&gt;
+
+	&lt;HEAD&gt;
+
+		&lt;title&gt;DataList&lt;/title&gt;
+
+		&lt;script runat=&quot;server&quot;&gt;
+	void Page_Load (object o, EventArgs e) 
+	{
+		if (!IsPostBack) {
+			ArrayList list = new ArrayList ();
+			list.Add (new Data (&quot;Spain&quot;));
+			list.Add (new Data (&quot;Japan&quot;));
+			list.Add (new Data (&quot;Mexico&quot;));
+			dl.DataSource = list;
+			dl.DataBind ();
+		}
+	}
+
+	public class Data 
+	{
+		private string name;
+
+		public Data (string testname)
+		{
+			this.name = testname;
+		}
+
+		public string Name 
+		{
+			get { return name; }
+		}
+
+		public override string ToString ()
+		{
+			return name;
+		}
+	}
+&lt;/script&gt;
+
+	&lt;/HEAD&gt;
+
+	&lt;body&gt;
+
+		&lt;h3&gt;Datalist sample&lt;/h3&gt;
+
+		&lt;form runat=&quot;server&quot; ID=&quot;Form1&quot;&gt;
+
+			&lt;asp:DataList id=&quot;dl&quot; runat=&quot;server&quot; RepeatDirection=&quot;Horizontal&quot;
+RepeatColumns=&quot;5&quot;&gt;
+
+				&lt;ItemTemplate&gt;
+
+					&lt;asp:HyperLink id=Hyperlink1 NavigateUrl='&lt;%#
+DataBinder.Eval(Container.DataItem,&quot;Name&quot;) %&gt;' ImageUrl='&lt;%#
+string.Concat(&quot;thumbnail.ashx?filename=&quot;,DataBinder.Eval(Container.DataItem,&quot;Name&quot;))
+%&gt;' Runat=&quot;server&quot;&gt;
+
+					&lt;/asp:HyperLink&gt;
+
+				&lt;/ItemTemplate&gt;
+
+			&lt;/asp:DataList&gt;
+
+		&lt;/form&gt;
+
+	&lt;/body&gt;
+
+&lt;/HTML&gt;

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="013566.html">[Mono-bugs] [Bug 55976][Wis] Changed - Runtime does not accept item on stack in `endfinally'
</A></li>
	<LI> Next message: <A HREF="013568.html">[Mono-bugs] [Bug 55979][Wis] New - We can avoid a local variable in foreach
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13567">[ date ]</a>
              <a href="thread.html#13567">[ thread ]</a>
              <a href="subject.html#13567">[ subject ]</a>
              <a href="author.html#13567">[ author ]</a>
         </LI>
       </UL>
</body></html>
