<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 55902][Nor] Changed - GNU bison 1.875 fails on monoburg compilation (use /usr/ccs/bin/yacc instead) (mono-0.31)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="013547.html">
   <LINK REL="Next"  HREF="013549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 55902][Nor] Changed - GNU bison 1.875 fails on monoburg compilation (use /usr/ccs/bin/yacc instead) (mono-0.31)
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 55902][Nor] Changed - GNU bison 1.875 fails on monoburg compilation (use /usr/ccs/bin/yacc instead) (mono-0.31)">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Tue, 23 Mar 2004 15:35:36 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="013547.html">[Mono-bugs] [Bug 55967][Wis] Changed - We emit ldc.i4.0; beq when brfalse would work
</A></li>
        <LI> Next message: <A HREF="013549.html">[Mono-bugs] [Bug 55902][Nor] Changed - GNU bison 1.875 fails on monoburg compilation (use /usr/ccs/bin/yacc instead) (mono-0.31)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13548">[ date ]</a>
              <a href="thread.html#13548">[ thread ]</a>
              <a href="subject.html#13548">[ subject ]</a>
              <a href="author.html#13548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:louis.p.santillan@jpl.nasa.gov.">louis.p.santillan@jpl.nasa.gov.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=55902">http://bugzilla.ximian.com/show_bug.cgi?id=55902</A>

--- shadow/55902	2004-03-23 13:59:41.000000000 -0500
+++ shadow/55902.tmp.18183	2004-03-23 15:35:36.000000000 -0500
@@ -305,6 +305,124 @@
 Louis
 
 ------- Additional Comments From <A HREF="mailto:vargaz@freemail.hu">vargaz@freemail.hu</A>  2004-03-23 13:59 -------
 Could you run truss with the -f flags like this:
 
 truss -f bison ./monoburg.y -o parser.c
+
+------- Additional Comments From <A HREF="mailto:Louis.P.Santillan@jpl.nasa.gov">Louis.P.Santillan@jpl.nasa.gov</A>  2004-03-23 15:35 -------
<A HREF="mailto:+lpsantil@MachineName">+lpsantil@MachineName</A>:~/build/mono/mono-0.31/mono/monoburg&gt;truss -f
+bison ./monoburg.y -o parser.c
+12045:  execve(&quot;/usr/local/bin/bison&quot;, 0xFFBFFCAC, 0xFFBFFCC0)  argc = 4
+12045:  resolvepath(&quot;/usr/local/bin/bison&quot;, &quot;/usr/local/bin/bison&quot;,
+1023) = 20
+12045:  resolvepath(&quot;/usr/lib/ld.so.1&quot;, &quot;/usr/lib/ld.so.1&quot;, 1023) = 16
+12045:  stat(&quot;/usr/local/bin/bison&quot;, 0xFFBFFA80)        = 0
+12045:  open(&quot;/var/ld/ld.config&quot;, O_RDONLY)             Err#2 ENOENT
+12045:  stat(&quot;/usr/local/lib/libc.so.1&quot;, 0xFFBFF3C4)    Err#2 ENOENT
+12045:  stat(&quot;/usr/lib/libc.so.1&quot;, 0xFFBFF3C4)          = 0
+12045:  open(&quot;/usr/lib/libc.so.1&quot;, O_RDONLY)            = 3
+12045:  fstat(3, 0xFFBFF3C4)                            = 0
+12045:  mmap(0x00000000, 8192, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0)
+= 0xFF3B0000
+12045:  mmap(0x00000000, 802816, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3,
+0) = 0xFF280000
+12045:  mmap(0xFF33C000, 24472, PROT_READ|PROT_WRITE|PROT_EXEC,
+MAP_PRIVATE|MAP_FIXED, 3, 704512) = 0xFF33C000
+12045:  mmap(0xFF342000, 6588, PROT_READ|PROT_WRITE|PROT_EXEC,
+MAP_PRIVATE|MAP_FIXED|MAP_ANON, -1, 0) = 0xFF342000
+12045:  munmap(0xFF32C000, 65536)                       = 0
+12045:  resolvepath(&quot;/usr/lib/libc.so.1&quot;, &quot;/usr/lib/libc.so.1&quot;, 1023) = 18
+12045:  memcntl(0xFF280000, 117256, MC_ADVISE, MADV_WILLNEED, 0, 0) = 0
+12045:  close(3)                                        = 0
+12045:  stat(&quot;/usr/local/lib/libdl.so.1&quot;, 0xFFBFF3C4)   Err#2 ENOENT
+12045:  stat(&quot;/usr/lib/libdl.so.1&quot;, 0xFFBFF3C4)         = 0
+12045:  open(&quot;/usr/lib/libdl.so.1&quot;, O_RDONLY)           = 3
+12045:  fstat(3, 0xFFBFF3C4)                            = 0
+12045:  mmap(0xFF3B0000, 8192, PROT_READ|PROT_EXEC,
+MAP_PRIVATE|MAP_FIXED, 3, 0) = 0xFF3B0000
+12045:  resolvepath(&quot;/usr/lib/libdl.so.1&quot;, &quot;/usr/lib/libdl.so.1&quot;,
+1023) = 19
+12045:  close(3)                                        = 0
+12045:  stat(&quot;/usr/platform/SUNW,UltraAX-i2/lib/libc_psr.so.1&quot;,
+0xFFBFF1D4) = 0
+12045:  open(&quot;/usr/platform/SUNW,UltraAX-i2/lib/libc_psr.so.1&quot;,
+O_RDONLY) = 3
+12045:  fstat(3, 0xFFBFF1D4)                            = 0
+12045:  mmap(0x00000000, 8192, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0)
+= 0xFF3A0000
+12045:  mmap(0x00000000, 16384, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3,
+0) = 0xFF390000
+12045:  resolvepath(&quot;/usr/platform/sun4u/lib/libc_psr.so.1c_psr.so.1&quot;,
+&quot;/usr/platform/sun4u/lib/libc_psr.so.1&quot;, 1023) = 37
+12045:  close(3)                                        = 0
+12045:  mmap(0x00000000, 8192, PROT_READ|PROT_WRITE|PROT_EXEC,
+MAP_PRIVATE|MAP_ANON, -1, 0) = 0xFF380000
+12045:  munmap(0xFF3A0000, 8192)                        = 0
+12045:  getustack(0xFFBFF8EC)
+12045:  getrlimit(RLIMIT_STACK, 0xFFBFF8E4)             = 0
+12045:  getcontext(0xFFBFF720)
+12045:  setustack(0xFF343944)
+12045:  brk(0x00057F40)                                 = 0
+12045:  brk(0x00059F40)                                 = 0
+12045:  brk(0x00059F40)                                 = 0
+12045:  brk(0x0005BF40)                                 = 0
+12045:  brk(0x0005BF40)                                 = 0
+12045:  brk(0x0005DF40)                                 = 0
+12045:  open(&quot;./monoburg.y&quot;, O_RDONLY)                  = 3
+12045:  brk(0x0005DF40)                                 = 0
+12045:  brk(0x0005FF40)                                 = 0
+12045:  brk(0x0005FF40)                                 = 0
+12045:  brk(0x00063F40)                                 = 0
+12045:  fstat64(3, 0xFFBFCA68)                          = 0
+12045:  brk(0x00063F40)                                 = 0
+12045:  brk(0x00065F40)                                 = 0
+12045:  fstat64(3, 0xFFBFC910)                          = 0
+12045:  ioctl(3, TCGETA, 0xFFBFC9F4)                    Err#25 ENOTTY
+12045:  read(3, &quot; % {\n / *\n   *   m o n&quot;.., 8192)     = 5930
+12045:  read(3, 0x00062A74, 8192)                       = 0
+12045:  brk(0x00065F40)                                 = 0
+12045:  brk(0x00067F40)                                 = 0
+12045:  brk(0x00067F40)                                 = 0
+12045:  brk(0x00069F40)                                 = 0
+12045:  brk(0x00069F40)                                 = 0
+12045:  brk(0x0006BF40)                                 = 0
+12045:  llseek(3, 0, SEEK_CUR)                          = 5930
+12045:  close(3)                                        = 0
+12045:  brk(0x0006BF40)                                 = 0
+12045:  brk(0x0006DF40)                                 = 0
+12045:  brk(0x0006DF40)                                 = 0
+12045:  brk(0x0008DF40)                                 = 0
+12045:  brk(0x0008DF40)                                 = 0
+12045:  brk(0x000ADF40)                                 = 0
+12045:  brk(0x000ADF40)                                 = 0
+12045:  brk(0x000CDF40)                                 = 0
+12045:  brk(0x000CDF40)                                 = 0
+12045:  brk(0x000CFF40)                                 = 0
+12045:  open(&quot;/usr/local/share/bison/m4sugar/m4sugar.m4&quot;, O_RDONLY) = 3
+12045:  llseek(3, 0, SEEK_CUR)                          = 0
+12045:  close(3)                                        = 0
+12045:  sigaction(SIGCLD, 0xFFBFFA00, 0xFFBFFA80)       = 0
+12045:  pipe()                                          = 3 [4]
+12045:  pipe()                                          = 5 [6]
+12045:  vfork()                                         = 12046
+12046:  vfork()         (returning as child ...)        = 12045
+12046:  close(4)                                        = 0
+12046:  close(5)                                        = 0
+12046:  fcntl(3, F_DUP2FD, 0x00000000)                  = 0
+12046:  close(3)                                        = 0
+12046:  fcntl(6, F_DUP2FD, 0x00000001)                  = 1
+12046:  close(6)                                        = 0
+12046:  execve(&quot;/usr/local/bin/m4&quot;, 0xFFBFFB38, 0xFFBFFCC0) Err#2 ENOENT
+12046:  _exit(127)
+12045:  close(3)                                        = 0
+12045:  close(6)                                        = 0
+12045:  fstat64(4, 0xFFBFF908)                          = 0
+12045:  fstat64(4, 0xFFBFF7B0)                          = 0
+12045:  ioctl(4, TCGETA, 0xFFBFF894)                    Err#22 EINVAL
+12045:  write(4, &quot; m 4 _ i n i t ( )\n m 4&quot;.., 5120)    Err#32 EPIPE
+12045:      Received signal #13, SIGPIPE [default]
+
+Seems like a bison/m4 interaction error.  bison is expecting the
+execve to m4 to be around for a while when it really isn't.
+
+Louis

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="013547.html">[Mono-bugs] [Bug 55967][Wis] Changed - We emit ldc.i4.0; beq when brfalse would work
</A></li>
	<LI> Next message: <A HREF="013549.html">[Mono-bugs] [Bug 55902][Nor] Changed - GNU bison 1.875 fails on monoburg compilation (use /usr/ccs/bin/yacc instead) (mono-0.31)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13548">[ date ]</a>
              <a href="thread.html#13548">[ thread ]</a>
              <a href="subject.html#13548">[ subject ]</a>
              <a href="author.html#13548">[ author ]</a>
         </LI>
       </UL>
</body></html>
