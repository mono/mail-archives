<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 349816] New: plugin crash when loading moon/test/js/props-gen.html
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20349816%5D%20New%3A%20plugin%20crash%20when%20loading%0A%20moon/test/js/props-gen.html&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067134.html">
   <LINK REL="Next"  HREF="067316.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 349816] New: plugin crash when loading moon/test/js/props-gen.html</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20349816%5D%20New%3A%20plugin%20crash%20when%20loading%0A%20moon/test/js/props-gen.html&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 349816] New: plugin crash when loading moon/test/js/props-gen.html">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Dec 19 10:42:20 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="067134.html">[Mono-bugs] [Bug 349800] Exception in FromUnManagedMemoryToPoint (IntPtr prt, PointF [] pts)
</A></li>
        <LI>Next message: <A HREF="067316.html">[Mono-bugs] [Bug 349816] plugin crash when loading	moon/test/js/props-gen.html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67128">[ date ]</a>
              <a href="thread.html#67128">[ thread ]</a>
              <a href="subject.html#67128">[ subject ]</a>
              <a href="author.html#67128">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=349816">https://bugzilla.novell.com/show_bug.cgi?id=349816</A>


           Summary: plugin crash when loading moon/test/js/props-gen.html
           Product: Moonlight
           Version: 1_0
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: plugin
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">spouliot at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
          Found By: ---


short story: surface-&gt;GetToplevel () returns NULL and this gets de-referenced
later in EventObjectCreateWrapper.

<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">poupou at pollux</A>:~/svn/moon/test/js&gt; gdb /usr/lib/firefox/firefox-bin
GNU gdb 6.6
Copyright (C) 2006 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type &quot;show copying&quot; to see the conditions.
There is absolutely no warranty for GDB.  Type &quot;show warranty&quot; for details.
This GDB was configured as &quot;i586-suse-linux&quot;...
(no debugging symbols found)
Using host libthread_db library &quot;/lib/libthread_db.so.1&quot;.
(gdb) run props-gen.html
Starting program: /usr/lib/firefox/firefox-bin props-gen.html
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
[Thread debugging using libthread_db enabled]
[New Thread -1222469968 (LWP 28611)]
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
[New Thread -1224066144 (LWP 28614)]
[New Thread -1232573536 (LWP 28615)]
[New Thread -1247773792 (LWP 28616)]
[New Thread -1258079328 (LWP 28617)]
[New Thread -1266472032 (LWP 28618)]
[New Thread -1276318816 (LWP 28621)]
[New Thread -1284711520 (LWP 28622)]
[Thread -1284711520 (LWP 28622) exited]
[New Thread -1293104224 (LWP 28623)]
[Thread -1293104224 (LWP 28623) exited]
[New Thread -1293104224 (LWP 28624)]
version requested = 1.0

** (Gecko:28611): WARNING **: PARSER ERROR, STOPPING PARSING:  (2007) Unknown
element: TriggerAction.  line: 1   char: 0

2. setting error args

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread -1222469968 (LWP 28611)]
EventObjectCreateWrapper (instance=0x9d0e4ec, obj=0x0) at plugin-class.cpp:2306
2306            if (Type::Find (obj-&gt;GetObjectType ())-&gt;IsSubclassOf
(Type::COLLECTION))
Current language:  auto; currently c++
(gdb) bt
#0  EventObjectCreateWrapper (instance=0x9d0e4ec, obj=0x0) at
plugin-class.cpp:2306
#1  0xb2671402 in MoonlightContentObject::GetProperty (this=0x9d10538,
id=16417, name=0x9c9f23c, result=0xbffeea70) at plugin-class.cpp:1658
#2  0xb266e0d2 in _get_property (npobj=0x9d1053c, name=0x9c9f23c,
result=0xbffeea70) at plugin-class.cpp:1210
#3  0x0824c9b5 in ?? ()
#4  0x09d1053c in ?? ()
#5  0x09c9f23c in ?? ()
#6  0xbffeea70 in ?? ()
#7  0x00000001 in ?? ()
#8  0x09443a48 in ?? ()
#9  0xbffeea8c in ?? ()
#10 0x09d0e4ec in ?? ()
#11 0x09be09f0 in ?? ()
#12 0x00000002 in ?? ()
#13 0x09cb5198 in ?? ()
#14 0x00000000 in ?? ()
(gdb) up 1
#1  0xb2671402 in MoonlightContentObject::GetProperty (this=0x9d10538,
id=16417, name=0x9c9f23c, result=0xbffeea70) at plugin-class.cpp:1658
1658                    MoonlightEventObjectObject *topobj =
EventObjectCreateWrapper (instance, top);
(gdb) list
1653                    return true;
1654            }
1655
1656            case MoonId_Root: {
1657                    DependencyObject *top = plugin-&gt;surface-&gt;GetToplevel
();
1658                    MoonlightEventObjectObject *topobj =
EventObjectCreateWrapper (instance, top);
1659
1660                    OBJECT_TO_NPVARIANT (topobj, *result);
1661                    return true;
1662            }
(gdb)


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067134.html">[Mono-bugs] [Bug 349800] Exception in FromUnManagedMemoryToPoint (IntPtr prt, PointF [] pts)
</A></li>
	<LI>Next message: <A HREF="067316.html">[Mono-bugs] [Bug 349816] plugin crash when loading	moon/test/js/props-gen.html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67128">[ date ]</a>
              <a href="thread.html#67128">[ thread ]</a>
              <a href="subject.html#67128">[ subject ]</a>
              <a href="author.html#67128">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
