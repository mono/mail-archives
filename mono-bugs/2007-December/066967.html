<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 349108] New: Calling Application. Run with no parameters and clicking a MenuStrip throws a NullReferenceException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20349108%5D%20New%3A%20Calling%20Application.%20Run%20with%20no%0A%20parameters%20and%20clicking%20a%20MenuStrip%20throws%20a%20NullReferenceException&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066966.html">
   <LINK REL="Next"  HREF="066968.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 349108] New: Calling Application. Run with no parameters and clicking a MenuStrip throws a NullReferenceException</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20349108%5D%20New%3A%20Calling%20Application.%20Run%20with%20no%0A%20parameters%20and%20clicking%20a%20MenuStrip%20throws%20a%20NullReferenceException&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 349108] New: Calling Application. Run with no parameters and clicking a MenuStrip throws a NullReferenceException">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Dec 16 18:15:23 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="066966.html">[Mono-bugs] [Bug 342516] RichTextBox: Url links not supported
</A></li>
        <LI>Next message: <A HREF="066968.html">[Mono-bugs] [Bug 349108] Calling Application. Run with no parameters and clicking a MenuStrip throws a NullReferenceException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66967">[ date ]</a>
              <a href="thread.html#66967">[ thread ]</a>
              <a href="subject.html#66967">[ subject ]</a>
              <a href="author.html#66967">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=349108">https://bugzilla.novell.com/show_bug.cgi?id=349108</A>


           Summary: Calling Application.Run with no parameters and clicking
                    a MenuStrip throws a NullReferenceException
           Product: Mono: Class Libraries
           Version: 1.2.5
          Platform: i686
        OS/Version: Linux
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">ai2097 at users.sourceforge.net</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
          Found By: Community of Practice


Created an attachment (id=187783)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=187783">https://bugzilla.novell.com/attachment.cgi?id=187783</A>)
Clicking &quot;File&quot; will cause the application to crash

Calling System.Windows.Forms.Application.Run() with no parameters is valid, and
should allow a program to continue executing even after all forms have been
closed. However, calling a form's Show() method, followed by a parameterless
call to Application.Run() leads to a NullReferenceException being thrown when
an attempt is made to interact with the form's MenuStrp control. If the form is
passed as a parameter to Application.Run, the NullReferenceExceptions are not
thrown, and the application works as expected.


Reproduction steps:

1. Compile the attached test code (gmcs -target:winexe -r:System.Windows.Forms
bug.cs)
2. Run the test code with mono
3. Click on the &quot;File&quot; menu item


Expected:

  The file menu should expand.


Actual:

  The program crashes with a NullReferenceException.


Other notes:

  The same executable runs just fine under the Microsoft .NET implementation.
Furthermore, removing the form.Show() call and changing the Application.Run()
call to Application.Run(form) leads to the program running correctly under Mono
(i.e., this isn't a null reference problem in the testcase itself).


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>



















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066966.html">[Mono-bugs] [Bug 342516] RichTextBox: Url links not supported
</A></li>
	<LI>Next message: <A HREF="066968.html">[Mono-bugs] [Bug 349108] Calling Application. Run with no parameters and clicking a MenuStrip throws a NullReferenceException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66967">[ date ]</a>
              <a href="thread.html#66967">[ thread ]</a>
              <a href="subject.html#66967">[ subject ]</a>
              <a href="author.html#66967">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
