<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 350820] New: SecureString.InsertAt does not	support appending
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20350820%5D%20New%3A%20SecureString.InsertAt%20does%20not%0A%09support%20appending&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="067341.html">
   <LINK REL="Next"  HREF="067359.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 350820] New: SecureString.InsertAt does not	support appending</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20350820%5D%20New%3A%20SecureString.InsertAt%20does%20not%0A%09support%20appending&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 350820] New: SecureString.InsertAt does not	support appending">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Dec 27 09:39:39 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="067341.html">[Mono-bugs] [Bug 350804] After upgrading mod_mono 1.2.4 from mod_mono_1.2. 6 suddenly the application stops working.
</A></li>
        <LI>Next message: <A HREF="067359.html">[Mono-bugs] [Bug 350820] SecureString.InsertAt does not support	appending
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67346">[ date ]</a>
              <a href="thread.html#67346">[ thread ]</a>
              <a href="subject.html#67346">[ subject ]</a>
              <a href="author.html#67346">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=350820">https://bugzilla.novell.com/show_bug.cgi?id=350820</A>


           Summary: SecureString.InsertAt does not support appending
           Product: Mono: Class Libraries
           Version: 1.2.6
          Platform: x86
        OS/Version: Windows XP
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: System.Security
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">spouliot at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">dominik.reichl at gmx.de</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
          Found By: Development


Created an attachment (id=188809)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=188809">https://bugzilla.novell.com/attachment.cgi?id=188809</A>)
Compilable mini code to reproduce the problem.

Description of problem: The System.Security.SecureString.InsertAt method does
not support appending characters, although it should, according to
documentation.

Code to reproduce the problem:

SecureString s = new SecureString();
s.AppendChar('T');
s.InsertAt(1, 'e');

Actual results: an exception is thrown.
&quot;Unhandled Exception: System.ArgumentException: Offset and length
were out of bounds for the array or count is greater thanthe number
of elements from index to the end of the source collection.
  at System.Buffer.BlockCopy (System.Array src, Int32 srcOffset,
  System.Array dest, Int32 destOffset, Int32 count) [0x000b7] in
  C:\cygwin\tmp\monobuild\build\BUILD\mono-1.2.6\mcs\class\corlib\System\
  Buffer.cs:116 at System.Security.SecureString.InsertAt (Int32 index,
  Char c) [0x000b0] in C:\cygwin\tmp\monobuild\build\BUILD\mono-1.2.6\
  mcs\class\corlib\System.Security\SecureString.cs:168
  at TestSecureString.Program.Main () [0x00000]

Expected Results: No exception should be thrown. The 'e' character should be
appended.

According to Microsoft's documentation of InsertAt, the character is appended
to the string if the position is set to the length of the string.

A similar bug occurs when an empty SecureString is constructed, and InsertAt(0,
c) is used to insert c as first character.

How often does this happen? Always.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="067341.html">[Mono-bugs] [Bug 350804] After upgrading mod_mono 1.2.4 from mod_mono_1.2. 6 suddenly the application stops working.
</A></li>
	<LI>Next message: <A HREF="067359.html">[Mono-bugs] [Bug 350820] SecureString.InsertAt does not support	appending
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67346">[ date ]</a>
              <a href="thread.html#67346">[ thread ]</a>
              <a href="subject.html#67346">[ subject ]</a>
              <a href="author.html#67346">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
