<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 346554] New: compiler doesnt compile a valid	generics class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20346554%5D%20New%3A%20compiler%20doesnt%20compile%20a%20valid%0A%09generics%20class&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066039.html">
   <LINK REL="Next"  HREF="066109.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 346554] New: compiler doesnt compile a valid	generics class</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20346554%5D%20New%3A%20compiler%20doesnt%20compile%20a%20valid%0A%09generics%20class&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 346554] New: compiler doesnt compile a valid	generics class">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Dec  6 10:59:04 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="066039.html">[Mono-bugs] [Bug 325122] Form: Resize event not fired on minimize
</A></li>
        <LI>Next message: <A HREF="066109.html">[Mono-bugs] [Bug 346554] compiler doesnt compile a valid generics	class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66041">[ date ]</a>
              <a href="thread.html#66041">[ thread ]</a>
              <a href="subject.html#66041">[ subject ]</a>
              <a href="author.html#66041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=346554">https://bugzilla.novell.com/show_bug.cgi?id=346554</A>


           Summary: compiler doesnt compile a valid generics class
           Product: Mono: Runtime
           Version: 1.2.6
          Platform: Other
        OS/Version: RHEL 5
            Status: NEW
          Severity: Blocker
          Priority: P5 - None
         Component: generics
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">srfcanada at hotmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
          Found By: ---


mono compiler given an error compiling a generics method call that is valid and
works under windows. this is the call that its failing to compile(it seems to
relate to accessing enums in a Generics class):
Statement:
Assert.IsFalse(myCol.CheckMonotonicityFromRawValue(6*60*60*24, 2,
Column&lt;double&gt;.ValueInsertOrSubstitute.Substitute));

Error:
/mnt/hgfs/DRMS/DRMSCurrent/lib/mono/Debug/Drms.Core.dll (Location of the symbol
related to previous error)
/mnt/hgfs/DRMS/DRMSCurrent/src/Drms.Core.Test/DomainObjects/DataContainers/ColumnTests.cs(1094,19):
error CS1503: Argument 3: Cannot convert type
`Drms.Core.DomainObjects.DataContainers.Column&lt;T&gt;.ValueInsertOrSubstitute' to
`Drms.Core.DomainObjects.DataContainers.Column&lt;double&gt;.ValueInsertOrSubstitute'


This is the nippet of the classes that its using:
   public class Column&lt;T&gt; : Container, IEnumerable&lt;Variable&lt;T&gt;&gt;
      where T : IComparable&lt;T&gt;
   {

      public enum ValueInsertOrSubstitute
      {
         /// &lt;summary&gt;
         /// Inserts the value in the column.
         /// &lt;/summary&gt;
         Insert,
         /// &lt;summary&gt;
         /// Substitutes the value in the column.
         /// &lt;/summary&gt;
         Substitute,
      }
   }

   public class Column&lt;T&gt; : Container, IEnumerable&lt;Variable&lt;T&gt;&gt;
      where T : IComparable&lt;T&gt;
   {

      /// &lt;summary&gt;
      /// Checks if a given raw value to be inserted or substituted in the
column respects its monotonicity.
      /// &lt;/summary&gt;
      /// &lt;param name=&quot;value&quot;&gt;The value to be inserted or substituted&lt;/param&gt;
      /// &lt;param name=&quot;pos&quot;&gt;Position where the value will be inserted or
substituted&lt;/param&gt;
      /// &lt;param name=&quot;insOrSubs&quot;&gt;
      /// Defines whether the value is to be inserted or substituted at the
given position.
      /// &lt;/param&gt;
      /// &lt;returns&gt;True when the value respects the monotonicity for the
column. False, otherwise.&lt;/returns&gt;
      public bool CheckMonotonicityFromRawValue(T value, int pos,
ValueInsertOrSubstitute insOrSubs)
      {
         bool isOK = true;
         switch (insOrSubs)
         {
            case ValueInsertOrSubstitute.Insert:
               {
                  if (pos &lt; 0 || pos &gt; m_data.Size)
                  {
                     throw new Exception(&quot;Index is out of range for inserting
in the column&quot;);
                  }
                  if (pos &lt; m_data.Size)
                  {
                     T highValue = m_data[pos];
                     isOK = ((ColumnDefinition&lt;T&gt;)
Definition).CheckMonotonicity(value, highValue);
                  }
               }
               break;
            case ValueInsertOrSubstitute.Substitute:
               {
                  if (pos &lt; 0 || pos &gt;= m_data.Size)
                  {
                     throw new Exception(&quot;Index is out of range for
substituting in the column&quot;);
                  }
                  if (pos &lt; m_data.Size - 1)
                  {
                     T highValue = m_data[pos + 1];
                     isOK = ((ColumnDefinition&lt;T&gt;)
Definition).CheckMonotonicity(value, highValue);
                  }
               }
               break;
         }
         if (pos &gt; 0)
         {
            T lowValue = m_data[pos - 1];
            isOK = ((ColumnDefinition&lt;T&gt;)
Definition).CheckMonotonicity(lowValue, value) &amp;&amp; isOK;
         }
         return isOK;
      } 
   }


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>








































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066039.html">[Mono-bugs] [Bug 325122] Form: Resize event not fired on minimize
</A></li>
	<LI>Next message: <A HREF="066109.html">[Mono-bugs] [Bug 346554] compiler doesnt compile a valid generics	class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66041">[ date ]</a>
              <a href="thread.html#66041">[ thread ]</a>
              <a href="subject.html#66041">[ subject ]</a>
              <a href="author.html#66041">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
