<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 347228] New: ApplicationSettingsBase does not work when multiple sections are defined in the App .config
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20347228%5D%20New%3A%20ApplicationSettingsBase%20does%20not%20work%0A%20when%20multiple%20sections%20are%20defined%20in%20the%20App%20.config&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="066213.html">
   <LINK REL="Next"  HREF="066219.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 347228] New: ApplicationSettingsBase does not work when multiple sections are defined in the App .config</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20347228%5D%20New%3A%20ApplicationSettingsBase%20does%20not%20work%0A%20when%20multiple%20sections%20are%20defined%20in%20the%20App%20.config&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 347228] New: ApplicationSettingsBase does not work when multiple sections are defined in the App .config">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Dec 10 04:23:33 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="066213.html">[Mono-bugs] [Bug 343174] Impossible to use web services from VS2005
</A></li>
        <LI>Next message: <A HREF="066219.html">[Mono-bugs] [Bug 345416] XSP2 / mod_mono instability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66215">[ date ]</a>
              <a href="thread.html#66215">[ thread ]</a>
              <a href="subject.html#66215">[ subject ]</a>
              <a href="author.html#66215">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=347228">https://bugzilla.novell.com/show_bug.cgi?id=347228</A>


           Summary: ApplicationSettingsBase does not work when multiple
                    sections are defined in the App.config
           Product: Mono: Class Libraries
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Blocker
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">josh+novell at mouch.name</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
          Found By: Customer


Description of Problem:
If you try to access settings from App.config using the
System.Configuration.ApplicationSettingsBase model, or in other words, the code
created using the Visual Studio settings code generatation, a null exception
will be thrown if more than one section exists under applicationSettings.  



Steps to reproduce the problem:
1. Create a new console project in VS.
2. Create two new settings files and add a setting to each.
3. In code, try to write the two settings to the console.
4. The exception will be thrown.
5. To get the correct behavior (from the first setting file only), comment out
the second setting's section in applicationSettings in App.Config. 

Actual Results:
The exception below will be thrown.

Expected Results:
The setting value should be returned.


How often does this happen? 
Every time.

Additional Information:

Unhandled Exception: System.NullReferenceException: Object reference not set to
an instance of an object
  at System.Configuration.SettingsPropertyValue.get_Name () [0x00000]
  at System.Configuration.SettingsPropertyValueCollection.Add
(System.Configuration.SettingsPropertyValue property) [0x0
0000]
  at System.Configuration.CustomizableFileSettingsProvider.LoadPropertyValue
(System.Configuration.SettingsPropertyColle
ction collection, System.Configuration.SettingElement element, Boolean
allowOverwrite) [0x00000]
  at System.Configuration.CustomizableFileSettingsProvider.LoadProperies
(System.Configuration.ExeConfigurationFileMap e
xeMap, System.Configuration.SettingsPropertyCollection collection,
ConfigurationUserLevel level, System.String sectionGr
oupName, Boolean allowOverwrite) [0x00000]
  at System.Configuration.CustomizableFileSettingsProvider.GetPropertyValues
(System.Configuration.SettingsContext conte
xt, System.Configuration.SettingsPropertyCollection collection) [0x00000]
  at System.Configuration.LocalFileSettingsProvider.GetPropertyValues
(System.Configuration.SettingsContext context, Sys
tem.Configuration.SettingsPropertyCollection properties) [0x00000]
  at System.Configuration.ApplicationSettingsBase.CacheValuesByProvider
(System.Configuration.SettingsProvider provider)
 [0x00000]
  at System.Configuration.ApplicationSettingsBase.GetPropertyValue
(System.String propertyName) [0x00000]
  at System.Configuration.ApplicationSettingsBase.get_Item (System.String
propertyName) [0x00000]


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>



















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="066213.html">[Mono-bugs] [Bug 343174] Impossible to use web services from VS2005
</A></li>
	<LI>Next message: <A HREF="066219.html">[Mono-bugs] [Bug 345416] XSP2 / mod_mono instability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66215">[ date ]</a>
              <a href="thread.html#66215">[ thread ]</a>
              <a href="subject.html#66215">[ subject ]</a>
              <a href="author.html#66215">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
