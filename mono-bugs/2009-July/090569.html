<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 500074] XmlDocument.Load() fails with System.Net.WebException: Error: NameResolutionFailure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20500074%5D%20XmlDocument.Load%28%29%20fails%20with%0A%20System.Net.WebException%3A%20Error%3A%20NameResolutionFailure&In-Reply-To=bug-500074-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="090568.html">
   <LINK REL="Next"  HREF="090570.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 500074] XmlDocument.Load() fails with System.Net.WebException: Error: NameResolutionFailure</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20500074%5D%20XmlDocument.Load%28%29%20fails%20with%0A%20System.Net.WebException%3A%20Error%3A%20NameResolutionFailure&In-Reply-To=bug-500074-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 500074] XmlDocument.Load() fails with System.Net.WebException: Error: NameResolutionFailure">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Jul 12 18:11:50 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="090568.html">[Mono-bugs] [Bug 521383] P/invoke marshaller should handle DateTime
</A></li>
        <LI>Next message: <A HREF="090570.html">[Mono-bugs] [Bug 500074] XmlDocument.Load() fails with System.Net.WebException: Error: NameResolutionFailure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#90569">[ date ]</a>
              <a href="thread.html#90569">[ thread ]</a>
              <a href="subject.html#90569">[ subject ]</a>
              <a href="author.html#90569">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=500074">http://bugzilla.novell.com/show_bug.cgi?id=500074</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">novell at pasichnyk.net</A> added comment
<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=500074#c4">http://bugzilla.novell.com/show_bug.cgi?id=500074#c4</A>


Jesse Pasichnyk &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">novell at pasichnyk.net</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|RESOLVED                    |REOPENED
                 CC|                            |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">novell at pasichnyk.net</A>
         Resolution|INVALID                     |




--- Comment #4 from Jesse Pasichnyk &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">novell at pasichnyk.net</A>&gt;  2009-07-12 16:11:47 MDT ---
I'm still having this same issue.

I receive a NameResoultionFailure when running this code inside a website,
using Xsp2 or fastcgi-mono-server2.  However the code works fine inside a
standalone console application, as Gonzalo has noted.

The code posted earlier when run in a standalone console app gives:

Name                Value

Cache-Control       private, max-age=0
Date                Sun, 12 Jul 2009 22:10:35 GMT
Expires             -1
Content-Type        text/html; charset=ISO-8859-1
Set-Cookie         
PREF=ID=84072b13e995f940:TM=1247436635:LM=1247436635:S=54G7RpJz1-IZZbzA;
expires=Tue, 12-Jul-2011 22:10:35 GMT; path=/; domain=.google.com
Server              gws
Transfer-Encoding   chunked



The following code, hosted in xsp2 (as root, to ensure no permission issues)
gives an exception:

using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Net;

public partial class _Default : System.Web.UI.Page 
{
    Label lblText;

    protected void Page_Load(object sender, EventArgs e)
    {
        lblText.Text = GetText();
    }

    private string GetText()
    {
        HttpWebRequest req =
(HttpWebRequest)WebRequest.Create(&quot;<A HREF="http://www.google.com&quot;">http://www.google.com&quot;</A>);
        HttpWebResponse resp = (HttpWebResponse)req.GetResponse();

        string[] names = resp.Headers.AllKeys;

       string text = string.Format(&quot;{0,-20}{1}\n&quot;, &quot;Name&quot;, &quot;Value&quot;);

        foreach (string n in names)
            text += string.Format(&quot;{0,-20}{1}&quot;, n, resp.Headers[n]);

        resp.Close();

        return text;
    }
}



Server Error in '/' Application

--------------------------------------------------------------------------------

Error: NameResolutionFailure
Description: HTTP 500. Error processing request.

Stack Trace: 

System.Net.WebException: Error: NameResolutionFailure
  at System.Net.HttpWebRequest.EndGetResponse (IAsyncResult asyncResult)
[0x00000] 
  at System.Net.HttpWebRequest.GetResponse () [0x00000] 
  at _Default.GetText () [0x00000] 
  at _Default.Page_Load (System.Object sender, System.EventArgs e) [0x00000] 
  at System.Web.UI.Control.OnLoad (System.EventArgs e) [0x00000] 
  at System.Web.UI.Control.LoadRecursive () [0x00000] 
  at System.Web.UI.Page.ProcessLoad () [0x00000] 
  at System.Web.UI.Page.ProcessPostData () [0x00000] 
  at System.Web.UI.Page.InternalProcessRequest () [0x00000] 
  at System.Web.UI.Page.ProcessRequest (System.Web.HttpContext context)
[0x00000]  

--------------------------------------------------------------------------------
Version information: Mono Version: 2.0.50727.1433; ASP.NET Version:
2.0.50727.1433 

This error is completely blocking me from going forward with using Mono on my
current project.  Please let me know if there is any other info you need to
troubleshoot/resolve the issue.

Thanks,
Jesse

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="090568.html">[Mono-bugs] [Bug 521383] P/invoke marshaller should handle DateTime
</A></li>
	<LI>Next message: <A HREF="090570.html">[Mono-bugs] [Bug 500074] XmlDocument.Load() fails with System.Net.WebException: Error: NameResolutionFailure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#90569">[ date ]</a>
              <a href="thread.html#90569">[ thread ]</a>
              <a href="subject.html#90569">[ subject ]</a>
              <a href="author.html#90569">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
