<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 523971] New: XmlTextReader.read throws wrong exception on invalid XML file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20523971%5D%20New%3A%20XmlTextReader.read%20throws%20wrong%0A%20exception%20on%20invalid%20XML%20file&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="090877.html">
   <LINK REL="Next"  HREF="090851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 523971] New: XmlTextReader.read throws wrong exception on invalid XML file</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20523971%5D%20New%3A%20XmlTextReader.read%20throws%20wrong%0A%20exception%20on%20invalid%20XML%20file&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 523971] New: XmlTextReader.read throws wrong exception on invalid XML file">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Jul 21 15:39:48 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="090877.html">[Mono-bugs] [Bug 523967] [SRE] Regression: error cs1502 reported in mono-tools/Mono.Profiler build
</A></li>
        <LI>Next message: <A HREF="090851.html">[Mono-bugs] [Bug 523971] XmlTextReader.read throws wrong exception on invalid XML file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#90813">[ date ]</a>
              <a href="thread.html#90813">[ thread ]</a>
              <a href="subject.html#90813">[ subject ]</a>
              <a href="author.html#90813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=523971">http://bugzilla.novell.com/show_bug.cgi?id=523971</A>


           Summary: XmlTextReader.read throws wrong exception on invalid
                    XML file
    Classification: Mono
           Product: Mono: Class Libraries
           Version: SVN
          Platform: PC
        OS/Version: Ubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Sys.XML
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">atsushi at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">hib at hiberis.nl</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Community User


Created an attachment (id=306654)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=306654">http://bugzilla.novell.com/attachment.cgi?id=306654</A>)
invalid-utf.patch

Description of Problem:

When I tried to run light.exe from the Windows Installer XML toolkit (WiX), to
create an msi package with the windows version of mono installed in wine, it
failed because the XmlTextReader throws the wrong exception when it tries to
read a binary file that is not an XML file.

I have attached a test showing how to reproduce this, as well as a fix for
this.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="090877.html">[Mono-bugs] [Bug 523967] [SRE] Regression: error cs1502 reported in mono-tools/Mono.Profiler build
</A></li>
	<LI>Next message: <A HREF="090851.html">[Mono-bugs] [Bug 523971] XmlTextReader.read throws wrong exception on invalid XML file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#90813">[ date ]</a>
              <a href="thread.html#90813">[ thread ]</a>
              <a href="subject.html#90813">[ subject ]</a>
              <a href="author.html#90813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
