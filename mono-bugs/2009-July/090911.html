<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 524460] New: CacheDuration is not used on	WebMethodAttribute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20524460%5D%20New%3A%20CacheDuration%20is%20not%20used%20on%0A%09WebMethodAttribute&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="090910.html">
   <LINK REL="Next"  HREF="090912.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 524460] New: CacheDuration is not used on	WebMethodAttribute</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20524460%5D%20New%3A%20CacheDuration%20is%20not%20used%20on%0A%09WebMethodAttribute&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 524460] New: CacheDuration is not used on	WebMethodAttribute">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Jul 22 21:08:59 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="090910.html">[Mono-bugs] [Bug 511370] Support for a default &quot;MSBuildExtensionsPath&quot; path in xbuild/mono
</A></li>
        <LI>Next message: <A HREF="090912.html">[Mono-bugs] [Bug 524460] CacheDuration is not used on	WebMethodAttribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#90911">[ date ]</a>
              <a href="thread.html#90911">[ thread ]</a>
              <a href="subject.html#90911">[ subject ]</a>
              <a href="author.html#90911">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=524460">http://bugzilla.novell.com/show_bug.cgi?id=524460</A>


           Summary: CacheDuration is not used on WebMethodAttribute
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.4.x
          Platform: x86
        OS/Version: SLES 11
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Sys.Web.Services
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">atsushi at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">stuart at cbtnuggets.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_5_7; en-us)
AppleWebKit/530.19.2 (KHTML, like Gecko) Version/4.0.2 Safari/530.19

When I set the CacheDuration field on the WebMethod attribute for a ASMX web
service it has no effect.

Reproducible: Always

Steps to Reproduce:
1. Create a web service with CacheDuration set on the WebMethod attribute. 
Make sure the method either returns a random value or gives you an indication
in the logs whenever it is run.
2. Access the web service method several times within the time duration set as
the CacheDuration.
Actual Results:  
The web service method returns a different value every time and is executing
the method for each call.

Expected Results:  
The web service method should have return the same cached value each time and
the method should have only been executed once before being cached.

I posted on the forums about this and never received an answer.  Here is the
forum link: <A HREF="http://www.nabble.com/Caching-and-ASMX-tp23784902p23784902.html">http://www.nabble.com/Caching-and-ASMX-tp23784902p23784902.html</A>

In case that link doesn't work, here is the Web Service I created when trying
to isolate the problem:

TestService.cs
  using System; 
  using System.Web; 
  using System.Web.Services; 
  using System.Web.Script.Services; 
  using System.Web.UI; 

  [WebService] 
  [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)] 
  [ScriptService] 
  public class TestService : WebService { 
    [WebMethod(CacheDuration=200,EnableSession=true)] 
    [ScriptMethod(ResponseFormat = ResponseFormat.Json)] 
    public String time() { 
      return DateTime.Now.ToString(); 
    } 
  }

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="090910.html">[Mono-bugs] [Bug 511370] Support for a default &quot;MSBuildExtensionsPath&quot; path in xbuild/mono
</A></li>
	<LI>Next message: <A HREF="090912.html">[Mono-bugs] [Bug 524460] CacheDuration is not used on	WebMethodAttribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#90911">[ date ]</a>
              <a href="thread.html#90911">[ thread ]</a>
              <a href="subject.html#90911">[ subject ]</a>
              <a href="author.html#90911">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
