<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 526794] New: Inserting empty string saved as null	in sql server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20526794%5D%20New%3A%20Inserting%20empty%20string%20saved%20as%20null%0A%09in%20sql%20server&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="091132.html">
   <LINK REL="Next"  HREF="091135.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 526794] New: Inserting empty string saved as null	in sql server</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20526794%5D%20New%3A%20Inserting%20empty%20string%20saved%20as%20null%0A%09in%20sql%20server&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 526794] New: Inserting empty string saved as null	in sql server">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Jul 30 11:00:48 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="091132.html">[Mono-bugs] [Bug 491858] Iterator implementation for generics is incompatible with MS implementation
</A></li>
        <LI>Next message: <A HREF="091135.html">[Mono-bugs] [Bug 526794] Inserting empty string saved as null in	sql server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#91133">[ date ]</a>
              <a href="thread.html#91133">[ thread ]</a>
              <a href="subject.html#91133">[ subject ]</a>
              <a href="author.html#91133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=526794">http://bugzilla.novell.com/show_bug.cgi?id=526794</A>


           Summary: Inserting empty string saved as null in sql server
    Classification: Mono
           Product: Mono: Runtime
           Version: 2.4.x
          Platform: x86-64
        OS/Version: RHEL 5
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: misc
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">srfcanada at hotmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.2; WOW64;
Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.04506.30; .NET CLR 3.0.04506.648;
NET CLR 3.5.21022; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; MS-RTC LM 8)

If I insert a row where one of thw string collumns contains an empty string,
what ends up being inserted is null. Using the sql server profiler I can see
the actual sql statment being sent and the column contains null rather that an
empty string. Trying it on windows shows the correct empty string so it seems
mono is turning an empty string into a null. As far as I know it shouldnt be
doing that unless I supply a DbNull type for the parameter. I use nhibernate
orm so I cant verify the actual ado command used but this is the tracing
information it gives showing the ado command its preparing:

INSERT INTO dbo.[EntityLabel] ([commitcount], [Saved], [Username], [Comment],
[IsSnapshot], [Name], [Created], [Description], Id) VALUES (@p0, @p1, @p2, @p3,
@p4, @p5, @p6, @p7, @p8); @p0 = '1', @p1 = '', @p2 = 'Default', @p3 = '', @p4 =
'False', @p5 = '', @p6 = '7/28/2009 9:11:29 AM', @p7 = '', @p8 =
'1c0a122a-1e26-4fc7-af5b-70c19f783188' 

note its using empty string rather than null but mono is switching this to null
for some reason.

Reproducible: Always

Steps to Reproduce:
1.
2.
3.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="091132.html">[Mono-bugs] [Bug 491858] Iterator implementation for generics is incompatible with MS implementation
</A></li>
	<LI>Next message: <A HREF="091135.html">[Mono-bugs] [Bug 526794] Inserting empty string saved as null in	sql server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#91133">[ date ]</a>
              <a href="thread.html#91133">[ thread ]</a>
              <a href="subject.html#91133">[ subject ]</a>
              <a href="author.html#91133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
