<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 519763] New: KeyUp event ignores NumLock status on	Linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20519763%5D%20New%3A%20KeyUp%20event%20ignores%20NumLock%20status%20on%0A%09Linux&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="090461.html">
   <LINK REL="Next"  HREF="090463.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 519763] New: KeyUp event ignores NumLock status on	Linux</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20519763%5D%20New%3A%20KeyUp%20event%20ignores%20NumLock%20status%20on%0A%09Linux&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 519763] New: KeyUp event ignores NumLock status on	Linux">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Jul  7 07:58:35 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="090461.html">[Mono-bugs] [Bug 470120] Socket.EndSend unexpectedly fails with	WSAEWOULDBLOCK
</A></li>
        <LI>Next message: <A HREF="090463.html">[Mono-bugs] [Bug 470120] Socket.EndSend unexpectedly fails with	WSAEWOULDBLOCK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#90462">[ date ]</a>
              <a href="thread.html#90462">[ thread ]</a>
              <a href="subject.html#90462">[ subject ]</a>
              <a href="author.html#90462">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=519763">http://bugzilla.novell.com/show_bug.cgi?id=519763</A>


           Summary: KeyUp event ignores NumLock status on Linux
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.4.x
          Platform: All
        OS/Version: Linux
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">skolima at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; pl; rv:1.9.1)
Gecko/20090624 Firefox/3.5 (.NET CLR 3.5.30729)

On Linux, Form.KeyUp event always gets called with arguments set as if NumLock
was disabled, regardless of it's real state. This bug does not occur on
Windows.

Reproducible: Always

Steps to Reproduce:
Compile the following code (gmcs -t:exe -r:System.Windows.Forms):

using System;
using System.Windows.Forms;

namespace KeyUpOnLinux
{
    class Program
    {
        static void Main()
        {
            var f = new Form();
            f.KeyPreview = true;
            f.KeyDown += (sender, key) =&gt;
                Console.WriteLine(key.KeyValue + &quot; &quot; + (char)key.KeyValue);
            f.KeyPress += (sender, key) =&gt;
                Console.WriteLine(key.KeyChar);
            f.KeyUp += (sender, key) =&gt;
                Console.WriteLine(key.KeyValue + &quot; &quot; + (char)key.KeyValue);
            Application.Run(f);
        }
    }
}

Run the application and press '2' from numerical keyboard with and without
NumLock enabled.
Actual Results:  
With NumLock on:
98 b
2
40 (
With NumLock off:
40 (
40 (

Expected Results:  
As produced by Mono on Windows and MS.Net:
With NumLock on:
98 b
2
98 b
With NumLock off:
40 (
40 (

Tested on Mono 2.0.1 and 2.4.1

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="090461.html">[Mono-bugs] [Bug 470120] Socket.EndSend unexpectedly fails with	WSAEWOULDBLOCK
</A></li>
	<LI>Next message: <A HREF="090463.html">[Mono-bugs] [Bug 470120] Socket.EndSend unexpectedly fails with	WSAEWOULDBLOCK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#90462">[ date ]</a>
              <a href="thread.html#90462">[ thread ]</a>
              <a href="subject.html#90462">[ subject ]</a>
              <a href="author.html#90462">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
