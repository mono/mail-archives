<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 634790] New: Nasty finalizer crash related either to exception being thrown in HttpWebRequest, or problems AlertDialog
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20634790%5D%20New%3A%20Nasty%20finalizer%20crash%20related%20either%0A%20to%20exception%20being%20thrown%20in%20HttpWebRequest%2C%20or%20problems%20AlertDialog&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="103257.html">
   <LINK REL="Next"  HREF="103274.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 634790] New: Nasty finalizer crash related either to exception being thrown in HttpWebRequest, or problems AlertDialog</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20634790%5D%20New%3A%20Nasty%20finalizer%20crash%20related%20either%0A%20to%20exception%20being%20thrown%20in%20HttpWebRequest%2C%20or%20problems%20AlertDialog&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 634790] New: Nasty finalizer crash related either to exception being thrown in HttpWebRequest, or problems AlertDialog">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Aug 26 11:53:19 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="103257.html">[Mono-bugs] [Bug 575600] MapPath() does not work for virtual directories outside of the current application
</A></li>
        <LI>Next message: <A HREF="103274.html">[Mono-bugs] [Bug 634790] Nasty finalizer crash related either to exception being thrown in HttpWebRequest, or problems AlertDialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#103273">[ date ]</a>
              <a href="thread.html#103273">[ thread ]</a>
              <a href="subject.html#103273">[ subject ]</a>
              <a href="author.html#103273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=634790">https://bugzilla.novell.com/show_bug.cgi?id=634790</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=634790#c0">https://bugzilla.novell.com/show_bug.cgi?id=634790#c0</A>


           Summary: Nasty finalizer crash related either to exception
                    being thrown in HttpWebRequest, or problems
                    AlertDialog
    Classification: Mono
           Product: MonoDroid
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Runtime
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mkestner at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mbaxterreynolds at amxsoftware.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2.8)
Gecko/20100722 Firefox/3.6.8

See attached VS solution.

The problem here is that I have an HttpWebRequest that is improperly configured
and (correctly) throws an exception in GetRequestStream.

There is an exception handler that attempts to show the string representation
of the exception using an AlertDialog.   

I have had this both bombing out, and hanging.  The console output shows:

In mgmain JNI_OnLoad
Stacktrace:

  at (wrapper managed-to-native) object.wrapper_native_0xad02a1c9
(intptr,intptr) &lt;IL 0x00024, 0xffffffff&gt;
  at Android.Runtime.JNIEnv.DeleteLocalRef (intptr) [0x00015] in
/home/jpobst/Desktop/mondroid/Mono.Android/src/Runtime/JNIEnv.cs:170
  at Java.Lang.CharSequence.Finalize () [0x00020] in
/home/jpobst/Desktop/mondroid/Mono.Android/src/Java.Lang/CharSequence.cs:15
  at (wrapper runtime-invoke) object.runtime_invoke_virtual_void__this__
(object,intptr,intptr,intptr) &lt;IL 0x0001b, 0x0014b&gt;


Reproducible: Always

Steps to Reproduce:
Download and run project in attachment.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>




































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="103257.html">[Mono-bugs] [Bug 575600] MapPath() does not work for virtual directories outside of the current application
</A></li>
	<LI>Next message: <A HREF="103274.html">[Mono-bugs] [Bug 634790] Nasty finalizer crash related either to exception being thrown in HttpWebRequest, or problems AlertDialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#103273">[ date ]</a>
              <a href="thread.html#103273">[ thread ]</a>
              <a href="subject.html#103273">[ subject ]</a>
              <a href="author.html#103273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
