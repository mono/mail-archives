<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 399389] New: DateTime.AddMilliseconds should round to nearest integer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20399389%5D%20New%3A%20DateTime.AddMilliseconds%20should%20round%0A%20to%20nearest%20integer&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075348.html">
   <LINK REL="Next"  HREF="075351.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 399389] New: DateTime.AddMilliseconds should round to nearest integer</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20399389%5D%20New%3A%20DateTime.AddMilliseconds%20should%20round%0A%20to%20nearest%20integer&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 399389] New: DateTime.AddMilliseconds should round to nearest integer">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Jun 11 14:57:26 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="075348.html">[Mono-bugs] [Bug 322430] DataRow.GetChildRows() is slow, needs index
</A></li>
        <LI>Next message: <A HREF="075351.html">[Mono-bugs] [Bug 374385] Incorrect resolution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75349">[ date ]</a>
              <a href="thread.html#75349">[ thread ]</a>
              <a href="subject.html#75349">[ subject ]</a>
              <a href="author.html#75349">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=399389">https://bugzilla.novell.com/show_bug.cgi?id=399389</A>


           Summary: DateTime.AddMilliseconds should round to nearest integer
           Product: Mono: Class Libraries
           Version: SVN
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: CORLIB
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gert.driesen at pandora.be</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Currently, our implementation of DateTime.AddMilliseconds does not round the
specified number of milliseconds to the nearest integer.

This actually matches the documentation (but not the implementation) of .NET
1.1, but MS fixed the documentation in .NET 2.0.

To reproduce, compile and run the following code:

using System;


class Program
{
        static void Main ()
        {
                DateTime date = new DateTime (2008, 12, 7);
                dt = dt.AddMilliseconds (8.888);
                Console.WriteLine (dt.Ticks);
                dt = dt.AddMilliseconds (-5.444);
                Console.WriteLine (dt.Ticks);
        }
}

Expected result:

633642048000090000
633642048000040000

Actual result:

633642048000088880
633642048000034440


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>

































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075348.html">[Mono-bugs] [Bug 322430] DataRow.GetChildRows() is slow, needs index
</A></li>
	<LI>Next message: <A HREF="075351.html">[Mono-bugs] [Bug 374385] Incorrect resolution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75349">[ date ]</a>
              <a href="thread.html#75349">[ thread ]</a>
              <a href="subject.html#75349">[ subject ]</a>
              <a href="author.html#75349">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
