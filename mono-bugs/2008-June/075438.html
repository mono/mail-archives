<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 375987] System.Windows. Forms dependency on GTK makes code to crash if it uses ATK# and GTK_MODULES contains 'atk-bridge'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20375987%5D%20System.Windows.%20Forms%20dependency%20on%20GTK%0A%20makes%20code%20to%20crash%20if%20it%20uses%20ATK%23%20and%20GTK_MODULES%20contains%20%27atk-bridge%27&In-Reply-To=bug-375987-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075437.html">
   <LINK REL="Next"  HREF="075440.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 375987] System.Windows. Forms dependency on GTK makes code to crash if it uses ATK# and GTK_MODULES contains 'atk-bridge'</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20375987%5D%20System.Windows.%20Forms%20dependency%20on%20GTK%0A%20makes%20code%20to%20crash%20if%20it%20uses%20ATK%23%20and%20GTK_MODULES%20contains%20%27atk-bridge%27&In-Reply-To=bug-375987-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 375987] System.Windows. Forms dependency on GTK makes code to crash if it uses ATK# and GTK_MODULES contains 'atk-bridge'">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Jun 12 17:31:35 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="075437.html">[Mono-bugs] [Bug 375270] Popfly - edit a control has missing background - missing link
</A></li>
        <LI>Next message: <A HREF="075440.html">[Mono-bugs] [Bug 341420] DragDrop event not fired in ListView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75438">[ date ]</a>
              <a href="thread.html#75438">[ thread ]</a>
              <a href="subject.html#75438">[ subject ]</a>
              <a href="author.html#75438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=375987">https://bugzilla.novell.com/show_bug.cgi?id=375987</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">sanfordarmstrong at gmail.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=375987#c10">https://bugzilla.novell.com/show_bug.cgi?id=375987#c10</A>





--- Comment #10 from Sanford Armstrong &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">sanfordarmstrong at gmail.com</A>&gt;  2008-06-12 15:31:35 MDT ---
Created an attachment (id=221896)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=221896">https://bugzilla.novell.com/attachment.cgi?id=221896</A>)
Proposed patch to add UIA support to Winforms

This patch does the following:
1. Works around the problem described in this bug by clearing the GTK_MODULES
environment variable before running gtk_init_check (after which it restores the
original value).
2. Reflects into the UIAutomationWinforms assembly to load UIA support (in a
static constructor of Application).  That assembly will do the work of checking
to see whether or not a11y is turned on in the system.  If it can't find that
assembly, nothing happens.
3. Adds an internal static event to Application called PreRun, used in UIA,
fired when Application.Run is called.
4. Adds an internal static event to Application called FormAdded, used in UIA
to enable a11y for new Forms.

Please review, and let me know if I can commit.  Thanks!


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075437.html">[Mono-bugs] [Bug 375270] Popfly - edit a control has missing background - missing link
</A></li>
	<LI>Next message: <A HREF="075440.html">[Mono-bugs] [Bug 341420] DragDrop event not fired in ListView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75438">[ date ]</a>
              <a href="thread.html#75438">[ thread ]</a>
              <a href="subject.html#75438">[ subject ]</a>
              <a href="author.html#75438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
