<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 398365] New: unreproducible assertion with this code.. happened first time
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20398365%5D%20New%3A%20unreproducible%20assertion%20with%20this%0A%20code..%20happened%20first%20time&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074833.html">
   <LINK REL="Next"  HREF="074836.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 398365] New: unreproducible assertion with this code.. happened first time</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20398365%5D%20New%3A%20unreproducible%20assertion%20with%20this%0A%20code..%20happened%20first%20time&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 398365] New: unreproducible assertion with this code.. happened first time">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Jun  8 16:14:15 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="074833.html">[Mono-bugs] [Bug 398363] [gmcs] iterator + &quot;piping&quot; == madness
</A></li>
        <LI>Next message: <A HREF="074836.html">[Mono-bugs] [Bug 398365] unreproducible assertion with this code.. happened first time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74832">[ date ]</a>
              <a href="thread.html#74832">[ thread ]</a>
              <a href="subject.html#74832">[ subject ]</a>
              <a href="author.html#74832">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=398365">https://bugzilla.novell.com/show_bug.cgi?id=398365</A>


           Summary: unreproducible assertion with this code.. happened first
                    time
           Product: Mono: Runtime
           Version: 1.9.0
          Platform: x86-64
        OS/Version: Kubuntu
            Status: NEW
          Severity: Blocker
          Priority: P5 - None
         Component: GC
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jayhacker at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Development


using System;
using System.Threading;
using System.Runtime.Remoting.Channels;
using System.Runtime.Remoting.Channels.Tcp;
using System.Runtime.Remoting.Channels.Http;

namespace channelsformatters
{
        class MainClass
        {
                public static void Main(string[] args)
                {
                        IChannel chan1 = new HttpChannel(8005);
                        ChannelServices.RegisterChannel(chan1, false);
                        IChannel chan2 = new TcpChannel(8006);
                        ChannelServices.RegisterChannel(chan2, false);

                        Thread.Sleep(3000);

                        ChannelServices.UnregisterChannel(chan1);
                        ChannelServices.UnregisterChannel(chan2);
                }
        }
}


HERE IS THE STACK TRACE:

**
** ERROR:(critical-sections.c:95):DeleteCriticalSection: assertion failed: (ret
== 0)
Stacktrace:

  at (wrapper managed-to-native) System.Threading.Thread.Thread_free_internal
(intptr) &lt;0x0000b&gt;
  at (wrapper managed-to-native) System.Threading.Thread.Thread_free_internal
(intptr) &lt;0xffffffff&gt;
  at System.Threading.Thread.Finalize () [0x00011] in
/build/buildd/mono-1.2.6+dfsg/mcs/class/corlib/System.Threading/Thread.cs:726
  at (wrapper runtime-invoke) System.Threading.ThreadStart.runtime_invoke_void
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;

Native stacktrace:

        /usr/bin/mono [0x51bb67]
        /lib/libpthread.so.0 [0x7fb30ef867d0]
        /lib/libc.so.6(gsignal+0x35) [0x7fb30e9c7095]
        /lib/libc.so.6(abort+0x110) [0x7fb30e9c8af0]
        /usr/lib/libglib-2.0.so.0(g_assertion_message+0x117) [0x7fb30f3f1bc7]
        /usr/lib/libglib-2.0.so.0 [0x7fb30f3f2062]
        /usr/bin/mono [0x4b8fd7]
        /usr/bin/mono [0x483248]
        [0x41cb8cb0]

Debug info from gdb:

(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
[Thread debugging using libthread_db enabled]
[New Thread 0x7fb30fc5e7a0 (LWP 13318)]
[New Thread 0x40b59950 (LWP 13322)]
[New Thread 0x403af950 (LWP 13319)]
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
0x00007fb30ef82e1d in pthread_cond_timedwait@@GLIBC_2.3.2 ()
   from /lib/libpthread.so.0
  3 Thread 0x403af950 (LWP 13319)  0x00007fb30ef85e81 in nanosleep ()
   from /lib/libpthread.so.0
  2 Thread 0x40b59950 (LWP 13322)  0x00007fb30ea65da2 in select ()
   from /lib/libc.so.6
  1 Thread 0x7fb30fc5e7a0 (LWP 13318)  0x00007fb30ef82e1d in
pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/libpthread.so.0

Thread 3 (Thread 0x403af950 (LWP 13319)):
#0  0x00007fb30ef85e81 in nanosleep () from /lib/libpthread.so.0
#1  0x00000000004b8f4f in ?? ()
#2  0x00007fb30ef7e3f7 in start_thread () from /lib/libpthread.so.0
#3  0x00007fb30ea6cb2d in clone () from /lib/libc.so.6
#4  0x0000000000000000 in ?? ()

Thread 2 (Thread 0x40b59950 (LWP 13322)):
#0  0x00007fb30ea65da2 in select () from /lib/libc.so.6
#1  0x00007fb30f4029bc in g_spawn_sync () from /usr/lib/libglib-2.0.so.0
#2  0x00007fb30f402d98 in g_spawn_command_line_sync ()
   from /usr/lib/libglib-2.0.so.0
#3  0x000000000051bbf9 in ?? ()
#4  &lt;signal handler called&gt;
#5  0x00007fb30e9c7095 in raise () from /lib/libc.so.6
#6  0x00007fb30e9c8af0 in abort () from /lib/libc.so.6
#7  0x00007fb30f3f1bc7 in g_assertion_message ()
   from /usr/lib/libglib-2.0.so.0
#8  0x00007fb30f3f2062 in g_assertion_message_expr ()
   from /usr/lib/libglib-2.0.so.0
#9  0x00000000004b8fd7 in ?? ()
#10 0x0000000000483248 in ?? ()
#11 0x0000000041cb8cb0 in ?? ()
#12 0x0000000040b58d80 in ?? ()
#13 0x00007fb30cce3b40 in ?? ()
#14 0x0000000000878050 in ?? ()
#15 0x00000000004d0888 in ?? ()
#16 0x0000000040b58e80 in ?? ()
#17 0x0000000040b58dc0 in ?? ()
#18 0x00007fb30ccb4b80 in ?? ()
#19 0x00007fb30fb0ee00 in ?? ()
#20 0x0000000000000000 in ?? ()

Thread 1 (Thread 0x7fb30fc5e7a0 (LWP 13318)):
#0  0x00007fb30ef82e1d in pthread_cond_timedwait@@GLIBC_2.3.2 ()
   from /lib/libpthread.so.0
#1  0x00000000004bb570 in ?? ()
#2  0x00000000004bdb37 in ?? ()
#3  0x00000000004cbab8 in ?? ()
#4  0x000000000046bf65 in mono_domain_finalize ()
#5  0x00000000004e1c24 in ?? ()
#6  0x0000000000416c60 in mono_main ()
#7  0x00007fb30e9b31c4 in __libc_start_main () from /lib/libc.so.6
#8  0x0000000000416109 in ?? ()
#9  0x00007fff17c83538 in ?? ()
#10 0x0000000000000000 in ?? ()
#0  0x00007fb30ef82e1d in pthread_cond_timedwait@@GLIBC_2.3.2 ()
   from /lib/libpthread.so.0


=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>
























































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074833.html">[Mono-bugs] [Bug 398363] [gmcs] iterator + &quot;piping&quot; == madness
</A></li>
	<LI>Next message: <A HREF="074836.html">[Mono-bugs] [Bug 398365] unreproducible assertion with this code.. happened first time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74832">[ date ]</a>
              <a href="thread.html#74832">[ thread ]</a>
              <a href="subject.html#74832">[ subject ]</a>
              <a href="author.html#74832">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
