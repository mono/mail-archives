<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 319921] [PPC] StackFrame is invalid on Mono but	not in Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20319921%5D%20%5BPPC%5D%20StackFrame%20is%20invalid%20on%20Mono%20but%0A%09not%20in%20Windows&In-Reply-To=bug-319921-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074692.html">
   <LINK REL="Next"  HREF="074695.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 319921] [PPC] StackFrame is invalid on Mono but	not in Windows</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20319921%5D%20%5BPPC%5D%20StackFrame%20is%20invalid%20on%20Mono%20but%0A%09not%20in%20Windows&In-Reply-To=bug-319921-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 319921] [PPC] StackFrame is invalid on Mono but	not in Windows">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Jun  5 02:25:30 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="074692.html">[Mono-bugs] [Bug 354732] Runtime errors when exiting MonoDevelop
</A></li>
        <LI>Next message: <A HREF="074695.html">[Mono-bugs] [Bug 320424] XmlConvert.ToString(double) should use	roundtrip format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74694">[ date ]</a>
              <a href="thread.html#74694">[ thread ]</a>
              <a href="subject.html#74694">[ subject ]</a>
              <a href="author.html#74694">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=319921">https://bugzilla.novell.com/show_bug.cgi?id=319921</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">macro at hotmail.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=319921#c1">https://bugzilla.novell.com/show_bug.cgi?id=319921#c1</A>





--- Comment #1 from piss off &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">macro at hotmail.com</A>&gt;  2008-06-05 00:25:30 MDT ---
Created an attachment (id=220293)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=220293">https://bugzilla.novell.com/attachment.cgi?id=220293</A>)
Additional testcase demonstrating the bug

Not only does StackFrame() not return the right frame, it triggers an exception
if called high enough up the stack.  Both cases are demonstrated in the
attached testcase, which works properly on gentoo x86 but breaks on gentoo ppc.

My feeling is that the StackFrame mechanism should work reliably, period.  I've
been using it for a long time on MS frameworks, and on Mono (x86 and ppc), and
it's always worked, regardless of optimisation levels etc.


x86 results:
Calling A()
Result 'B', should be 'B'
Calling B()
Result 'B', should be 'B'


PPC results:
Calling A()
Result 'Main', should be 'B'
Calling B()

Unhandled Exception: System.NullReferenceException: Object reference not set to
an instance of an object
  at Test.Test.B () [0x00000] 
  at Test.Test.Main () [0x00000] 


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>












































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074692.html">[Mono-bugs] [Bug 354732] Runtime errors when exiting MonoDevelop
</A></li>
	<LI>Next message: <A HREF="074695.html">[Mono-bugs] [Bug 320424] XmlConvert.ToString(double) should use	roundtrip format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74694">[ date ]</a>
              <a href="thread.html#74694">[ thread ]</a>
              <a href="subject.html#74694">[ subject ]</a>
              <a href="author.html#74694">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
