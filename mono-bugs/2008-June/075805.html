<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 402128] CultureInfo serialization bug
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20402128%5D%20CultureInfo%20serialization%20bug&In-Reply-To=bug-402128-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075797.html">
   <LINK REL="Next"  HREF="075810.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 402128] CultureInfo serialization bug</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20402128%5D%20CultureInfo%20serialization%20bug&In-Reply-To=bug-402128-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 402128] CultureInfo serialization bug">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Jun 20 11:38:00 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="075797.html">[Mono-bugs] [Bug 402128] CultureInfo serialization bug
</A></li>
        <LI>Next message: <A HREF="075810.html">[Mono-bugs] [Bug 402128] CultureInfo serialization bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75805">[ date ]</a>
              <a href="thread.html#75805">[ thread ]</a>
              <a href="subject.html#75805">[ subject ]</a>
              <a href="author.html#75805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=402128">https://bugzilla.novell.com/show_bug.cgi?id=402128</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=402128#c3">https://bugzilla.novell.com/show_bug.cgi?id=402128#c3</A>


Andy Hume &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A>&gt; changed:

           What    |Removed                                         |Added
----------------------------------------------------------------------------
                 CC|                                                |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A>




--- Comment #3 from Andy Hume &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A>&gt;  2008-06-20 09:37:59 MDT ---
Mono has of course to be compatible with MSFT, and care seems to have been
taken to ensure that for this class, see for instance the sample SOAP results
below, and various comments in the code.

MSFT isn't including any parent information as far as I can see...  So it must
be being recalculated on deserialization.  They doesn't implement ISerializable
either according to corcompare, but might use [OnDeserializing]?  Mono's
version apparently uses the constructed flag for similar purposes.


MSFT:
[[
&lt;SOAP-ENV:Envelope xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
xmlns:xsd=&quot;<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>
xmlns:SOAP-ENC=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>
xmlns:SOAP-ENV=&quot;<A HREF="http://schemas.xmlsoap.org/soap/envelope/&quot;">http://schemas.xmlsoap.org/soap/envelope/&quot;</A>
xmlns:clr=&quot;<A HREF="http://schemas.microsoft.com/soap/encoding/clr/1.0&quot;">http://schemas.microsoft.com/soap/encoding/clr/1.0&quot;</A>
SOAP-ENV:encodingStyle=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>&gt;
&lt;SOAP-ENV:Body&gt;
&lt;a1:CultureInfo id=&quot;ref-1&quot;
xmlns:a1=&quot;<A HREF="http://schemas.microsoft.com/clr/ns/System.Globalization&quot;">http://schemas.microsoft.com/clr/ns/System.Globalization&quot;</A>&gt;
        &lt;cultureID&gt;1033&lt;/cultureID&gt;
        &lt;m_isReadOnly&gt;true&lt;/m_isReadOnly&gt;
        &lt;compareInfo href=&quot;#ref-2&quot;/&gt;
        &lt;textInfo xsi:null=&quot;1&quot;/&gt;
        &lt;numInfo xsi:null=&quot;1&quot;/&gt;
        &lt;dateTimeInfo xsi:null=&quot;1&quot;/&gt;
        &lt;calendar xsi:null=&quot;1&quot;/&gt;
        &lt;m_name id=&quot;ref-3&quot;&gt;en-US&lt;/m_name&gt;
        &lt;m_dataItem&gt;41&lt;/m_dataItem&gt;
        &lt;m_useUserOverride&gt;false&lt;/m_useUserOverride&gt;
&lt;/a1:CultureInfo&gt;
&lt;a1:CompareInfo id=&quot;ref-2&quot;
xmlns:a1=&quot;<A HREF="http://schemas.microsoft.com/clr/ns/System.Globalization&quot;">http://schemas.microsoft.com/clr/ns/System.Globalization&quot;</A>&gt;
        &lt;win32LCID&gt;1033&lt;/win32LCID&gt;
        &lt;culture&gt;1033&lt;/culture&gt;
        &lt;m_name id=&quot;ref-4&quot;&gt;en-US&lt;/m_name&gt;
&lt;/a1:CompareInfo&gt;
&lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
]]

Mono (elements reordered for readability)
[[
&lt;SOAP-ENV:Envelope xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
xmlns:xsd=&quot;<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>
xmlns:SOAP-ENC=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>
xmlns:SOAP-ENV=&quot;<A HREF="http://schemas.xmlsoap.org/soap/envelope/&quot;">http://schemas.xmlsoap.org/soap/envelope/&quot;</A>
xmlns:clr=&quot;<A HREF="http://schemas.microsoft.com/clr/&quot;">http://schemas.microsoft.com/clr/&quot;</A>
SOAP-ENV:encodingStyle=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>&gt;
  &lt;SOAP-ENV:Body&gt;
    &lt;a1:CultureInfo id=&quot;ref-1&quot;
xmlns:a1=&quot;<A HREF="http://schemas.microsoft.com/clr/ns/System.Globalization&quot;">http://schemas.microsoft.com/clr/ns/System.Globalization&quot;</A>&gt;
      &lt;cultureID&gt;1033&lt;/cultureID&gt;
      &lt;m_isReadOnly&gt;true&lt;/m_isReadOnly&gt;
      &lt;compareInfo xsi:null=&quot;1&quot; /&gt;
      &lt;textInfo xsi:null=&quot;1&quot; /&gt;
      &lt;dateTimeInfo xsi:null=&quot;1&quot; /&gt;
      &lt;calendar xsi:null=&quot;1&quot; /&gt;
      &lt;m_name id=&quot;ref-2&quot;&gt;en-US&lt;/m_name&gt;
      &lt;m_dataItem&gt;0&lt;/m_dataItem&gt;
      &lt;m_useUserOverride&gt;false&lt;/m_useUserOverride&gt;
    &lt;/a1:CultureInfo&gt;
  &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
]]

So only missing numInfo and compareInfo, so do properties related to them fail
on deserialization too?


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075797.html">[Mono-bugs] [Bug 402128] CultureInfo serialization bug
</A></li>
	<LI>Next message: <A HREF="075810.html">[Mono-bugs] [Bug 402128] CultureInfo serialization bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75805">[ date ]</a>
              <a href="thread.html#75805">[ thread ]</a>
              <a href="subject.html#75805">[ subject ]</a>
              <a href="author.html#75805">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
