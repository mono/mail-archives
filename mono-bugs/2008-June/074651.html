<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 397213] New: Compiler fails when dtor follows an event definition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20397213%5D%20New%3A%20Compiler%20fails%20when%20dtor%20follows%20an%0A%20event%20definition&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="074650.html">
   <LINK REL="Next"  HREF="074863.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 397213] New: Compiler fails when dtor follows an event definition</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20397213%5D%20New%3A%20Compiler%20fails%20when%20dtor%20follows%20an%0A%20event%20definition&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 397213] New: Compiler fails when dtor follows an event definition">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Jun  4 14:17:24 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="074650.html">[Mono-bugs] [Bug 375226] [windowless] On9Games - FAQ does not show	answers
</A></li>
        <LI>Next message: <A HREF="074863.html">[Mono-bugs] [Bug 397213] Compiler fails when dtor follows an event	definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74651">[ date ]</a>
              <a href="thread.html#74651">[ thread ]</a>
              <a href="subject.html#74651">[ subject ]</a>
              <a href="author.html#74651">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=397213">https://bugzilla.novell.com/show_bug.cgi?id=397213</A>


           Summary: Compiler fails when dtor follows an event definition
           Product: Mono: Compilers
           Version: 1.9.0
          Platform: Other
        OS/Version: openSUSE 10.3
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">derekd at omni-ts.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
                CC: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">stephane at omni-ts.com</A>
          Found By: ---


Created an attachment (id=220178)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=220178">https://bugzilla.novell.com/attachment.cgi?id=220178</A>)
compiler error testcase

To Reproduce:
1. Create a new class
2. Create the follow methods in the order given:
3. Add an empty constructor
4. Add an empty event definition
5. Add an empty destructor
6. Compile

In the test case given, Mono gives compiler exceptions at the line where the
destructor is declared.

Exception caught by the compiler while compiling:
   Block that caused the problem begin at: TestCase.cs(27,18):
Mono.CSharp.InternalErrorException: parameter information mismatch
Internal compiler error at TestCase.cs(27,18):: exception caught while emitting
MethodBuilder [TestCase::Finalize]

Unhandled Exception: Mono.CSharp.InternalErrorException: parameter information
mismatch
  at Mono.CSharp.ToplevelBlock.ResolveMeta (Mono.CSharp.EmitContext ec,
Mono.CSharp.Parameters ip) [0x00000] 
  at Mono.CSharp.EmitContext.ResolveTopBlock (Mono.CSharp.EmitContext
anonymous_method_host, Mono.CSharp.ToplevelBlock block, Mono.CSharp.Parameters
ip, IMethodData md, System.Boolean&amp; unreachable) [0x00000] 


If you move the dtor above the event definition, then the errors do not occur.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="074650.html">[Mono-bugs] [Bug 375226] [windowless] On9Games - FAQ does not show	answers
</A></li>
	<LI>Next message: <A HREF="074863.html">[Mono-bugs] [Bug 397213] Compiler fails when dtor follows an event	definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74651">[ date ]</a>
              <a href="thread.html#74651">[ thread ]</a>
              <a href="subject.html#74651">[ subject ]</a>
              <a href="author.html#74651">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
