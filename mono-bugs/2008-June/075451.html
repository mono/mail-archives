<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 400014] New: Intrins Math.Max and Math.Min	incorrect for uint
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20400014%5D%20New%3A%20Intrins%20Math.Max%20and%20Math.Min%0A%09incorrect%20for%20uint&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="075452.html">
   <LINK REL="Next"  HREF="075474.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 400014] New: Intrins Math.Max and Math.Min	incorrect for uint</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20400014%5D%20New%3A%20Intrins%20Math.Max%20and%20Math.Min%0A%09incorrect%20for%20uint&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 400014] New: Intrins Math.Max and Math.Min	incorrect for uint">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Jun 13 08:08:26 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="075452.html">[Mono-bugs] [Bug 399985] Exception on PropertyInfo. SetValue on a enumeration-typed property
</A></li>
        <LI>Next message: <A HREF="075474.html">[Mono-bugs] [Bug 400014] Intrins Math.Max and Math.Min incorrect	for uint
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75451">[ date ]</a>
              <a href="thread.html#75451">[ thread ]</a>
              <a href="subject.html#75451">[ subject ]</a>
              <a href="author.html#75451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=400014">https://bugzilla.novell.com/show_bug.cgi?id=400014</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono at grant.x43.net</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=400014#c324675">https://bugzilla.novell.com/show_bug.cgi?id=400014#c324675</A>

           Summary: Intrins Math.Max and Math.Min incorrect for uint
           Product: Mono: Runtime
           Version: 1.9.0
          Platform: x86
        OS/Version: Windows XP
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: JIT
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono at grant.x43.net</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Third Party Developer/Partner


Created an attachment (id=222024)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=222024">https://bugzilla.novell.com/attachment.cgi?id=222024</A>)
Test exposing incorrect uint Math.Min and Math.Max intrinsic

(I'm actually testing in the 1.9.1 release, which appears to not be in the list
of versions. This is very similar to bug #324675, but this is for uints and bug
#324675 isn't present in my version.)

Given the following code (also attached):
uint a = (uint)int.MaxValue + 10;
for (uint b = 7; b &lt;= 10; ++b)
{
    Console.WriteLine(&quot;Max(&quot; + a + &quot;,&quot; + b + &quot;) = &quot; + Math.Max(a, b));
    Console.WriteLine(&quot;Max(&quot; + b + &quot;,&quot; + a + &quot;) = &quot; + Math.Max(b, a));
    Console.WriteLine(&quot;Min(&quot; + a + &quot;,&quot; + b + &quot;) = &quot; + Math.Min(a, b));
    Console.WriteLine(&quot;Min(&quot; + b + &quot;,&quot; + a + &quot;) = &quot; + Math.Min(b, a));
    Console.WriteLine();
}

Incorrect output from mono baduintminmax.exe:
Max(2147483657,7) = 7
Max(7,2147483657) = 7
Min(2147483657,7) = 2147483657
Min(7,2147483657) = 2147483657

Max(2147483657,8) = 8
Max(8,2147483657) = 8
Min(2147483657,8) = 2147483657
Min(8,2147483657) = 2147483657

Max(2147483657,9) = 9
Max(9,2147483657) = 2147483657
Min(2147483657,9) = 2147483657
Min(9,2147483657) = 9

Max(2147483657,10) = 2147483657
Max(10,2147483657) = 2147483657
Min(2147483657,10) = 10
Min(10,2147483657) = 10

Correct output from mono --optimize=-intrins baduintminmax.exe
Max(2147483657,7) = 2147483657
Max(7,2147483657) = 2147483657
Min(2147483657,7) = 7
Min(7,2147483657) = 7

Max(2147483657,8) = 2147483657
Max(8,2147483657) = 2147483657
Min(2147483657,8) = 8
Min(8,2147483657) = 8

Max(2147483657,9) = 2147483657
Max(9,2147483657) = 2147483657
Min(2147483657,9) = 9
Min(9,2147483657) = 9

Max(2147483657,10) = 2147483657
Max(10,2147483657) = 2147483657
Min(2147483657,10) = 10
Min(10,2147483657) = 10


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>

























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="075452.html">[Mono-bugs] [Bug 399985] Exception on PropertyInfo. SetValue on a enumeration-typed property
</A></li>
	<LI>Next message: <A HREF="075474.html">[Mono-bugs] [Bug 400014] Intrins Math.Max and Math.Min incorrect	for uint
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75451">[ date ]</a>
              <a href="thread.html#75451">[ thread ]</a>
              <a href="subject.html#75451">[ subject ]</a>
              <a href="author.html#75451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
