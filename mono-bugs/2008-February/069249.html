<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 361020] New: FontDialog: returns different Font style/ size than displayed etc
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20361020%5D%20New%3A%20FontDialog%3A%20returns%20different%20Font%0A%20style/%20size%20than%20displayed%20etc&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069248.html">
   <LINK REL="Next"  HREF="069621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 361020] New: FontDialog: returns different Font style/ size than displayed etc</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20361020%5D%20New%3A%20FontDialog%3A%20returns%20different%20Font%0A%20style/%20size%20than%20displayed%20etc&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 361020] New: FontDialog: returns different Font style/ size than displayed etc">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Feb 12 04:53:23 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="069248.html">[Mono-bugs] [Bug 320433] roundtrip formatting for double i.e. Double.ToString (&quot;R&quot;) returns incorrect result
</A></li>
        <LI>Next message: <A HREF="069621.html">[Mono-bugs] [Bug 361020] FontDialog: returns different Font style/ size than displayed etc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69249">[ date ]</a>
              <a href="thread.html#69249">[ thread ]</a>
              <a href="subject.html#69249">[ subject ]</a>
              <a href="author.html#69249">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=361020">https://bugzilla.novell.com/show_bug.cgi?id=361020</A>


           Summary: FontDialog: returns different Font style/size than
                    displayed etc
           Product: Mono: Class Libraries
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=194398)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=194398">https://bugzilla.novell.com/attachment.cgi?id=194398</A>)
Repro code

Repro attached, it displays the font dialog six times and is hows various
inconsistencies between the font expected to be displayed, and also
inconsistencies between the font that was display in the dialog and the font
returned by the dialog.  For the first three cases, the size and style
attributes of the font are ignored when displaying the dialog (want size 12 see
8; styles ignored).  In the latter three cases the size and style listboxes are
initialised but the strikeout/underline checkboxes are not.

In most cases the font returned by the dialog is different from the font that
was displayed in the dialog.


This actually has two root causes:
1) FontDialog ignores (aspects of) the font passed in
2) FontDialog returns different Font style/size than displayed

For 2).  The font object that the dialog will return is only updated when a UI
event occurs, this means any bug with setting the control states will cause an
inconsistency.  I'd like the dialog simply to read the controls on the user
hitting &lt;OK&gt; or &lt;Apply&gt;, and thus it will always return a font that matches
what the user saw.  Or we should do validation in form_Closing and
OnApplyButton, and display a message saying &quot;Internal error: inconsistent
values, please use Cancel to close the dialog&quot;(!!).

For 1).  The inconsistency in displaying the dialog is caused by a bug in how
the controls are initialised from the font the called passed in (to set_Font). 
Again the setting is all done through UI events.  Two bugs exists for it.

The size and style controls _only_ get updated when the font 'name'/family
listbox selected-item changes.  As the first three repro cases show, this only
occurs when the font family is _not_ GenericSansSerif.

The second is that the Strikeout and Underline checkboxes are never
initialised.  They should be initialised at the same time as the
Regular/Bold/Italic listbox.  This is shown by the latter three cases.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>





















































































































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069248.html">[Mono-bugs] [Bug 320433] roundtrip formatting for double i.e. Double.ToString (&quot;R&quot;) returns incorrect result
</A></li>
	<LI>Next message: <A HREF="069621.html">[Mono-bugs] [Bug 361020] FontDialog: returns different Font style/ size than displayed etc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69249">[ date ]</a>
              <a href="thread.html#69249">[ thread ]</a>
              <a href="subject.html#69249">[ subject ]</a>
              <a href="author.html#69249">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
