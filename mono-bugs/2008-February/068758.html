<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 358444] New: PropertyGrid: crash on drag of color	cell
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20358444%5D%20New%3A%20PropertyGrid%3A%20crash%20on%20drag%20of%20color%0A%09cell&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069462.html">
   <LINK REL="Next"  HREF="068763.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 358444] New: PropertyGrid: crash on drag of color	cell</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20358444%5D%20New%3A%20PropertyGrid%3A%20crash%20on%20drag%20of%20color%0A%09cell&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 358444] New: PropertyGrid: crash on drag of color	cell">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Feb  4 04:38:27 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="069462.html">[Mono-bugs] [Bug 358442] [Regression] MDI: Double-click on child window control box crash
</A></li>
        <LI>Next message: <A HREF="068763.html">[Mono-bugs] [Bug 358444] PropertyGrid: crash on drag of color cell
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68758">[ date ]</a>
              <a href="thread.html#68758">[ thread ]</a>
              <a href="subject.html#68758">[ subject ]</a>
              <a href="author.html#68758">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=358444">https://bugzilla.novell.com/show_bug.cgi?id=358444</A>


           Summary: PropertyGrid: crash on drag of color cell
           Product: Mono: Class Libraries
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


This occured to me by chance, my mouse/mousing went a bit wonky and did the odd
sequence of events.

In PropertyGrid open the Color picker, switch to the Custom tab panel.  Click
on a color cell and drag the pointer off of the color picker (e.g. onto the
PropertyGrid itself), then do the same again.  The following crash occurs.

Occurs on Linux and Win32 at SVN HEAD.  Occurs in 1.2.6 also, but only needs a
single drag and drop action.

[[

Unhandled Exception: System.IndexOutOfRangeException: Array index is out of
range.

at CustomColorPicker.OnMouseUp (System.Windows.Forms.MouseEventArgs) [0x00016]
in
D:\cygwin\usr\src\mono\mcs\class\System.Drawing.Design\System.Drawing.Design\ColorEditor.cs:349
at System.Windows.Forms.Control.WmLButtonUp (System.Windows.Forms.Message&amp;)
[0x0007f] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\Control.cs:5410
at System.Windows.Forms.Control.WndProc (System.Windows.Forms.Message&amp;)
[0x0017c] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\Control.cs:5157
at System.Windows.Forms.ScrollableControl.WndProc
(System.Windows.Forms.Message&amp;) [0x00000] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\ScrollableControl.cs:797
at System.Windows.Forms.ContainerControl.WndProc
(System.Windows.Forms.Message&amp;) [0x0003d] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\ContainerControl.cs:589
at System.Windows.Forms.UserControl.WndProc (System.Windows.Forms.Message&amp;)
[0x00000] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\UserControl.cs:143
at ControlWindowTarget.OnMessage (System.Windows.Forms.Message&amp;) [0x00000] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\Control.cs:225
at ControlNativeWindow.WndProc (System.Windows.Forms.Message&amp;) [0x00000] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\Control.cs:206
at System.Windows.Forms.NativeWindow.WndProc
(intptr,System.Windows.Forms.Msg,intptr,intptr) [0x0006a] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\NativeWindow.cs:188
at System.Windows.Forms.XplatUIWin32.InternalWndProc
(intptr,System.Windows.Forms.Msg,intptr,intptr) [0x0002c] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\XplatUIWin32.cs:1886
at (wrapper native-to-managed)
System.Windows.Forms.XplatUIWin32.InternalWndProc
(intptr,System.Windows.Forms.Msg,intptr,intptr) &lt;0x00065&gt;
at (wrapper managed-to-native)
System.Windows.Forms.XplatUIWin32.Win32DispatchMessage
(System.Windows.Forms.MSG&amp;) &lt;0x00004&gt;
at System.Windows.Forms.XplatUIWin32.DispatchMessage
(System.Windows.Forms.MSG&amp;) [0x00000] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\XplatUIWin32.cs:2081
at System.Windows.Forms.XplatUI.DispatchMessage (System.Windows.Forms.MSG&amp;)
[0x00000] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\XplatUI.cs:576
at System.Windows.Forms.Application.RunLoop
(bool,System.Windows.Forms.ApplicationContext) [0x00359] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\Application.cs:849
at System.Windows.Forms.Application.Run
(System.Windows.Forms.ApplicationContext) [0x00014] in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\Application.cs:635
at System.Windows.Forms.Application.Run (System.Windows.Forms.Form) [0x00000]
in
D:\cygwin\usr\src\mono\mcs\class\Managed.Windows.Forms\System.Windows.Forms\Application.cs:623
at MWFTestApplication.MainWindow.Main (string[]) [0x00014] in
D:\cygwin\usr\src\mono\winforms\propertygrid\swf-propertygrid.cs:45
]]


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069462.html">[Mono-bugs] [Bug 358442] [Regression] MDI: Double-click on child window control box crash
</A></li>
	<LI>Next message: <A HREF="068763.html">[Mono-bugs] [Bug 358444] PropertyGrid: crash on drag of color cell
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68758">[ date ]</a>
              <a href="thread.html#68758">[ thread ]</a>
              <a href="subject.html#68758">[ subject ]</a>
              <a href="author.html#68758">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
