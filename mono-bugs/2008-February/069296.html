<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 361772] New: The signal handling leaks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20361772%5D%20New%3A%20The%20signal%20handling%20leaks&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069295.html">
   <LINK REL="Next"  HREF="070000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 361772] New: The signal handling leaks</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20361772%5D%20New%3A%20The%20signal%20handling%20leaks&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 361772] New: The signal handling leaks">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Feb 14 06:49:56 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="069295.html">[Mono-bugs] [Bug 355198] Unicode escaping in RTF does not ignore compatibility character
</A></li>
        <LI>Next message: <A HREF="070000.html">[Mono-bugs] [Bug 361772] The signal handling leaks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69296">[ date ]</a>
              <a href="thread.html#69296">[ thread ]</a>
              <a href="subject.html#69296">[ subject ]</a>
              <a href="author.html#69296">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=361772">https://bugzilla.novell.com/show_bug.cgi?id=361772</A>


           Summary: The signal handling leaks
           Product: gtk#
           Version: 2.x
          Platform: Other
        OS/Version: Ubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: gtk-sharp
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">anders at iola.dk</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=194877)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=194877">https://bugzilla.novell.com/attachment.cgi?id=194877</A>)
test case that demonstrate this

When adding a gtk member of some object to a table, if the object has a signal
handler attached to one of its member, doesn't have to be the one added, then
it will not be garbage collected once the table is destroyed.

If the signal handler is a member function of the object, the whole object will
continue to live on forever (or until the signal is removed again :(), and if
it's just an delegate that writes something like hello.world only the delegate
will be around forever.

The problem seems to be the way Glib/Signal.cs is implemented.

Added a test case which demonstrates this. Just look with heap shot and you'll
see the problem.

This can be quite a serious memory leak since the object can hold references to
a bunch of other stuff and thus the single reference to the object does that a
lot of other code can't be garbage collected.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>



































































































































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069295.html">[Mono-bugs] [Bug 355198] Unicode escaping in RTF does not ignore compatibility character
</A></li>
	<LI>Next message: <A HREF="070000.html">[Mono-bugs] [Bug 361772] The signal handling leaks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69296">[ date ]</a>
              <a href="thread.html#69296">[ thread ]</a>
              <a href="subject.html#69296">[ subject ]</a>
              <a href="author.html#69296">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
