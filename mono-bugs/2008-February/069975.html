<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 364580] New: error in signatures to vararg	functions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20364580%5D%20New%3A%20error%20in%20signatures%20to%20vararg%0A%09functions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069957.html">
   <LINK REL="Next"  HREF="070002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 364580] New: error in signatures to vararg	functions</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20364580%5D%20New%3A%20error%20in%20signatures%20to%20vararg%0A%09functions&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 364580] New: error in signatures to vararg	functions">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Feb 25 12:06:36 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="069957.html">[Mono-bugs] [Bug 352210] Serialization and deserialization of datetime to and from xml, &quot;shifts&quot; the time with the timezone
</A></li>
        <LI>Next message: <A HREF="070002.html">[Mono-bugs] [Bug 364580] error in signatures to vararg functions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69975">[ date ]</a>
              <a href="thread.html#69975">[ thread ]</a>
              <a href="subject.html#69975">[ subject ]</a>
              <a href="author.html#69975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=364580">https://bugzilla.novell.com/show_bug.cgi?id=364580</A>


           Summary: error in signatures to vararg functions
           Product: Mono: Tools
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: ilasm
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andrea.ornstein at st.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=196978)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=196978">https://bugzilla.novell.com/attachment.cgi?id=196978</A>)
il file that does not compile properly with ilasm

when a vararg function is called multiple times with arguments with different
types after the ellipsis, the generated assembly is broken
all calls to the function have the same signature, the first one encountered

it seems to me that there is some caching done using the signature as the key
(extracted as a string with CreateSignature)
I looked at GetGlobalMethodRef

but CreateVarargSignature uses only the types till the ellipsis
and so the caching does not work properly

in the attached example test2.il,
if we use monodis on the output of ilasm we can see that the second call to
myvararg is broken


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069957.html">[Mono-bugs] [Bug 352210] Serialization and deserialization of datetime to and from xml, &quot;shifts&quot; the time with the timezone
</A></li>
	<LI>Next message: <A HREF="070002.html">[Mono-bugs] [Bug 364580] error in signatures to vararg functions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69975">[ date ]</a>
              <a href="thread.html#69975">[ thread ]</a>
              <a href="subject.html#69975">[ subject ]</a>
              <a href="author.html#69975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
