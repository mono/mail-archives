<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 358566] New: System.CodeDom: Adding items to CodeTypeReference. TypeArguments doesn't update BaseType
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20358566%5D%20New%3A%20System.CodeDom%3A%20Adding%20items%20to%0A%20CodeTypeReference.%20TypeArguments%20doesn%27t%20update%20BaseType&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="068822.html">
   <LINK REL="Next"  HREF="068775.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 358566] New: System.CodeDom: Adding items to CodeTypeReference. TypeArguments doesn't update BaseType</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20358566%5D%20New%3A%20System.CodeDom%3A%20Adding%20items%20to%0A%20CodeTypeReference.%20TypeArguments%20doesn%27t%20update%20BaseType&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 358566] New: System.CodeDom: Adding items to CodeTypeReference. TypeArguments doesn't update BaseType">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Feb  4 11:00:57 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="068822.html">[Mono-bugs] [Bug 358564] missing single quote around function name
</A></li>
        <LI>Next message: <A HREF="068775.html">[Mono-bugs] [Bug 358566] System.CodeDom: Adding items to CodeTypeReference. TypeArguments doesn't update BaseType
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68774">[ date ]</a>
              <a href="thread.html#68774">[ thread ]</a>
              <a href="subject.html#68774">[ subject ]</a>
              <a href="author.html#68774">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=358566">https://bugzilla.novell.com/show_bug.cgi?id=358566</A>


           Summary: System.CodeDom:  Adding items to
                    CodeTypeReference.TypeArguments doesn't update BaseType
           Product: Mono: Class Libraries
           Version: 1.2.6
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Sys.Core
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">stefan at fogcreek.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


The following code creates an incorrect CodeTypeReference on Mono but not on
net.

private CodeTypeReference GetTypeRef()
{
    CodeTypeReference result = new CodeTypeReference();
    result.BaseType = &quot;System.Nullable&quot;;

    result.TypeArguments.Add(new CodeTypeReference(typeof(int)));

    // &lt;WORKAROUND&gt;
    //if (result.TypeArguments.Count &gt; 0 &amp;&amp; result.BaseType.IndexOf('`') == -1)
    //    result.BaseType += &quot;`&quot; + result.TypeArguments.Count;
    // &lt;/WORKAROUND&gt;

    return result;
}

On .net when the TypeArguments member is modified, the BaseType is too. This
can be worked around by uncommenting the workaround.

Without the workaround, System.Nullable is generated in the source code instead
of System.Nullable&lt;int&gt;.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="068822.html">[Mono-bugs] [Bug 358564] missing single quote around function name
</A></li>
	<LI>Next message: <A HREF="068775.html">[Mono-bugs] [Bug 358566] System.CodeDom: Adding items to CodeTypeReference. TypeArguments doesn't update BaseType
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#68774">[ date ]</a>
              <a href="thread.html#68774">[ thread ]</a>
              <a href="subject.html#68774">[ subject ]</a>
              <a href="author.html#68774">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
