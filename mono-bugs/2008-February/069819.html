<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 363799] Mono ignores a try/catch block
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20363799%5D%20Mono%20ignores%20a%20try/catch%20block&In-Reply-To=bug-363799-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069796.html">
   <LINK REL="Next"  HREF="069820.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 363799] Mono ignores a try/catch block</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20363799%5D%20Mono%20ignores%20a%20try/catch%20block&In-Reply-To=bug-363799-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 363799] Mono ignores a try/catch block">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Feb 22 04:30:57 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="069796.html">[Mono-bugs] [Bug 363799] Mono ignores a try/catch block
</A></li>
        <LI>Next message: <A HREF="069820.html">[Mono-bugs] [Bug 363799] Mono ignores a try/catch block
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69819">[ date ]</a>
              <a href="thread.html#69819">[ thread ]</a>
              <a href="subject.html#69819">[ subject ]</a>
              <a href="author.html#69819">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=363799">https://bugzilla.novell.com/show_bug.cgi?id=363799</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">kornelpal at gmail.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=363799#c3">https://bugzilla.novell.com/show_bug.cgi?id=363799#c3</A>





--- Comment #3 from Korn&#233;l P&#225;l &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">kornelpal at gmail.com</A>&gt;  2008-02-22 02:30:57 MST ---
I didn't see previously that you submitted and IL code as well.

Your test assumes that methods calling other methods are not inlined. That is
currently true for Mono but should not be assumed. Use &quot;noinlining&quot; instead
that disables inlining by purpose.

Note that you are calling the missing method in TestMethod as well as in
NoInline that may be a bug in your code. Also note that you leave an int32 on
the stack in NoInline so you would get an InvalidProgramException even when the
missing method were present.

You are unable to catch the execption because your code gets inlined.
It's quite simple to fix the problem:

--- bug-363799_call_missing_method_generated.il 2008-02-22 09:47:39.640625000
+0100
+++ bug-363799_call_missing_method_generated_noinline.il        2008-02-22
10:22:10.812500000 +0100
@@ -36,7 +36,7 @@
                ret
        }

-       .method public static void TestMethod() cil managed
+       .method public static void TestMethod() cil managed noinlining
        {
                .maxstack 8
                call void Driver::NoInline()


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>










































































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069796.html">[Mono-bugs] [Bug 363799] Mono ignores a try/catch block
</A></li>
	<LI>Next message: <A HREF="069820.html">[Mono-bugs] [Bug 363799] Mono ignores a try/catch block
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69819">[ date ]</a>
              <a href="thread.html#69819">[ thread ]</a>
              <a href="subject.html#69819">[ subject ]</a>
              <a href="author.html#69819">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
