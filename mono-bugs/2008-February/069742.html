<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 363450] New: [PATCH]System.Reflection.Module:: Resolve* leak loader errors and crash mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20363450%5D%20New%3A%20%5BPATCH%5DSystem.Reflection.Module%3A%3A%0A%20Resolve%2A%20leak%20loader%20errors%20and%20crash%20mono&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069748.html">
   <LINK REL="Next"  HREF="069743.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 363450] New: [PATCH]System.Reflection.Module:: Resolve* leak loader errors and crash mono</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20363450%5D%20New%3A%20%5BPATCH%5DSystem.Reflection.Module%3A%3A%0A%20Resolve%2A%20leak%20loader%20errors%20and%20crash%20mono&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 363450] New: [PATCH]System.Reflection.Module:: Resolve* leak loader errors and crash mono">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Feb 20 17:49:07 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="069748.html">[Mono-bugs] [Bug 363447] AssemblyBuilder.GetCustomAttributes crashes if there' s an attribute in the assembly defined with a type from the same assembly
</A></li>
        <LI>Next message: <A HREF="069743.html">[Mono-bugs] [Bug 363450] [PATCH]System.Reflection.Module:: Resolve* leak loader errors and crash mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69742">[ date ]</a>
              <a href="thread.html#69742">[ thread ]</a>
              <a href="subject.html#69742">[ subject ]</a>
              <a href="author.html#69742">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=363450">https://bugzilla.novell.com/show_bug.cgi?id=363450</A>


           Summary: [PATCH]System.Reflection.Module::Resolve* leak loader
                    errors and crash mono
           Product: Mono: Runtime
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: misc
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rkumpera at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


The methods ResolveField, ResolveMethod and ResolveType leaks a loader error if
one happens and this lead to all sort of weird crashes.


The attached test might not cause the bug as they depend on the order of the
memberef and typedef tables. If compiling then don't produce the expected
result just use a 'monodis --memberef' / 'monodis --typeref' to discover the
right index of the funky reference.

One thing to note is that MS 2.0 just returns null with these tests which is
incredible stupid, otherwise something like the attached patch will fix it.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>

































































































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069748.html">[Mono-bugs] [Bug 363447] AssemblyBuilder.GetCustomAttributes crashes if there' s an attribute in the assembly defined with a type from the same assembly
</A></li>
	<LI>Next message: <A HREF="069743.html">[Mono-bugs] [Bug 363450] [PATCH]System.Reflection.Module:: Resolve* leak loader errors and crash mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69742">[ date ]</a>
              <a href="thread.html#69742">[ thread ]</a>
              <a href="subject.html#69742">[ subject ]</a>
              <a href="author.html#69742">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
