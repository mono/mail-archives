<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 360808] [OSX] Graphics contexts that do not call Dispose are not immediately drawn to the screen
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20360808%5D%20%5BOSX%5D%20Graphics%20contexts%20that%20do%20not%20call%0A%20Dispose%20are%20not%20immediately%20drawn%20to%20the%20screen&In-Reply-To=bug-360808-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="069230.html">
   <LINK REL="Next"  HREF="069314.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 360808] [OSX] Graphics contexts that do not call Dispose are not immediately drawn to the screen</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20360808%5D%20%5BOSX%5D%20Graphics%20contexts%20that%20do%20not%20call%0A%20Dispose%20are%20not%20immediately%20drawn%20to%20the%20screen&In-Reply-To=bug-360808-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 360808] [OSX] Graphics contexts that do not call Dispose are not immediately drawn to the screen">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Feb 14 14:02:28 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="069230.html">[Mono-bugs] [Bug 360808] New: Can't draw polygon
</A></li>
        <LI>Next message: <A HREF="069314.html">[Mono-bugs] [Bug 360808] [OSX] Graphics contexts that do not call Dispose are not immediately drawn to the screen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69311">[ date ]</a>
              <a href="thread.html#69311">[ thread ]</a>
              <a href="subject.html#69311">[ subject ]</a>
              <a href="author.html#69311">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=360808">https://bugzilla.novell.com/show_bug.cgi?id=360808</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=360808#c1">https://bugzilla.novell.com/show_bug.cgi?id=360808#c1</A>


Geoff Norton &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>&gt; changed:

           What    |Removed                                         |Added
----------------------------------------------------------------------------
                 CC|                                                |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>
            Summary|Can't draw polygon                              |[OSX] Graphics contexts that do not call Dispose
                   |                                                |are not immediately drawn to the screen




--- Comment #1 from Geoff Norton &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>&gt;  2008-02-14 12:02:28 MST ---
This bug is going to be difficult to fix (if at all possible).  The issue is
that this demo creates graphics contexts and expects the results to be
implicitly flushed to the screen in real time which we cannot do on the mac for
a number of reasons.  They dont Dispose their context, and rely on the GC to do
that for them which isn't guaranteed in any amount of time.  The following
patch:

=== PolygonCuttingEarInterface/frmCuttingEars.cs
==================================================================
--- PolygonCuttingEarInterface/frmCuttingEars.cs        (revision 90096)
+++ PolygonCuttingEarInterface/frmCuttingEars.cs        (local)
@@ -654,6 +654,7 @@
                                //fill triangles in different color
                                int nBrush = i % 3;
                                gfx.FillPolygon(m_aBrushes[nBrush], tempArray);
+                               gfx.Dispose ();
                                Invalidate();
                        }
                }
@@ -678,6 +679,7 @@
                                {
                                        Graphics
gfx=this.pnlDraw.CreateGraphics();
                                        gfx.DrawPolygon(m_PolygonPen,
m_aPolygon);
+                                       gfx.Dispose ();
                                }
                        }
                }
@@ -727,6 +729,7 @@
                        startPt=new Point(x,y-2);
                        endPt=new Point(x,y+2);
                        gfx.DrawLine(Pens.Red,startPt, endPt);
+                       gfx.Dispose ();
                }


Fixes this problem by following good standards for MWF apps.  

I'll leave this bug open and rewrite its summary for information purposes for
now.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>









































































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="069230.html">[Mono-bugs] [Bug 360808] New: Can't draw polygon
</A></li>
	<LI>Next message: <A HREF="069314.html">[Mono-bugs] [Bug 360808] [OSX] Graphics contexts that do not call Dispose are not immediately drawn to the screen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69311">[ date ]</a>
              <a href="thread.html#69311">[ thread ]</a>
              <a href="subject.html#69311">[ subject ]</a>
              <a href="author.html#69311">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
