<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 78597][Nor] Changed - SSL re-negotiation failure	with Postgres
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2078597%5D%5BNor%5D%20Changed%20-%20SSL%20re-negotiation%20failure%0A%09with%20Postgres&In-Reply-To=bug-78597%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043871.html">
   <LINK REL="Next"  HREF="043873.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 78597][Nor] Changed - SSL re-negotiation failure	with Postgres</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2078597%5D%5BNor%5D%20Changed%20-%20SSL%20re-negotiation%20failure%0A%09with%20Postgres&In-Reply-To=bug-78597%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 78597][Nor] Changed - SSL re-negotiation failure	with Postgres">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Wed Jun 21 14:19:53 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="043871.html">[Mono-bugs] [Bug 78085][Nor] Changed - Error getting response	stream (Write): SendFailure with HTTPS sites.
</A></li>
        <LI>Next message: <A HREF="043873.html">[Mono-bugs] [Bug 74279][Wis] Changed - XML parsing Bug in MiniParser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43872">[ date ]</a>
              <a href="thread.html#43872">[ thread ]</a>
              <a href="subject.html#43872">[ subject ]</a>
              <a href="author.html#43872">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">sebastien at ximian.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=78597">http://bugzilla.ximian.com/show_bug.cgi?id=78597</A>

--- shadow/78597	2006-06-16 11:31:01.000000000 -0400
+++ shadow/78597.tmp.7594	2006-06-21 14:19:53.000000000 -0400
@@ -1,22 +1,21 @@
 Bug#: 78597
 Product: Mono: Class Libraries
 Version: 1.1
 OS: All
 OS Details: 
-Status: ASSIGNED   
+Status: NEEDINFO   
 Resolution: 
 Severity: Unknown
 Priority: Normal
 Component: Mono.Security
 AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">sebastien at ximian.com</A>                            
 ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mfarr at paradise.net.nz</A>               
 QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
 TargetMilestone: ---
 URL: 
-Cc: 
 Summary: SSL re-negotiation failure with Postgres
 
 Description of Problem:
 &quot;Object reference not set to an instance of an object.&quot; in
 Mono.Security.dll when loading large amounts of data with ssl+npgsql.
 
@@ -182,6 +181,28 @@
 Ok, I'm setup to duplicate the issue (it takes about 5 minutes to
 reach the negotiation point).
 
 It seems we're not sending the alert (and doing so doesn't fix the
 issue) and it's obvious, from the NRE, that this case hasn't been tested.
 
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">sebastien at ximian.com</A>  2006-06-21 14:19 -------
+Ok, right now I'm able to &quot;survive&quot; a SSL renegotiation. However I do
+get some &quot;invalid&quot; data wrt Npgsql. The fact that the post-negotiation
+handshake are successful indicates that the problem isn't SSL related
+(it may be in the SslClientStream or upper-levels, but not in the
+lower SSL levels).
+
+The invalid data after the first renegotiation is
+0x00 0x00 0x00 0x01 0x61
+
+While the data after the second one is
+0x00 0x0B 0x00 0x01 0x00 0x00 0x00 0x01 0x61
+(a superset of the first one)
+
+Third == First
+Fourth == Second
+...
+
+I'm not quite sure if those are extra data and/or if there is some
+missing data. Fx, does this looks like a (partial) valid data for
+Postgres protocol ?
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043871.html">[Mono-bugs] [Bug 78085][Nor] Changed - Error getting response	stream (Write): SendFailure with HTTPS sites.
</A></li>
	<LI>Next message: <A HREF="043873.html">[Mono-bugs] [Bug 74279][Wis] Changed - XML parsing Bug in MiniParser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43872">[ date ]</a>
              <a href="thread.html#43872">[ thread ]</a>
              <a href="subject.html#43872">[ subject ]</a>
              <a href="author.html#43872">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
