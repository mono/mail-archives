<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 588198] New: DateTime class in corlib doesn't implement ISerializable
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20588198%5D%20New%3A%20DateTime%20class%20in%20corlib%20doesn%27t%0A%20implement%20ISerializable&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="098552.html">
   <LINK REL="Next"  HREF="098635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 588198] New: DateTime class in corlib doesn't implement ISerializable</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20588198%5D%20New%3A%20DateTime%20class%20in%20corlib%20doesn%27t%0A%20implement%20ISerializable&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 588198] New: DateTime class in corlib doesn't implement ISerializable">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Mar 13 17:34:35 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="098552.html">[Mono-bugs] [Bug 588197] mtouch failed with no output (134)
</A></li>
        <LI>Next message: <A HREF="098635.html">[Mono-bugs] [Bug 588198] DateTime class in corlib doesn't implement ISerializable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98216">[ date ]</a>
              <a href="thread.html#98216">[ thread ]</a>
              <a href="subject.html#98216">[ subject ]</a>
              <a href="author.html#98216">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=588198">http://bugzilla.novell.com/show_bug.cgi?id=588198</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=588198#c0">http://bugzilla.novell.com/show_bug.cgi?id=588198#c0</A>


           Summary: DateTime class in corlib doesn't implement
                    ISerializable
    Classification: Mono
           Product: Mono: Class Libraries
           Version: SVN
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: CORLIB
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">pavel.savara at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.8)
Gecko/20100202 Firefox/3.5.8

DateTime class in mono corlib doesn't implement ISerializable whereas Microsoft
version does. Please add the interface to the class, even if it will throw
NotImplemented exception.

My use-case:
I have code generator, which uses reflection to generate proxies for .NET
classes. I run the generator on Microsoft CLR. It finds ISerializable interface
and it's GetObjectData() method and generates wrapper for it, which calls the
method. Such generated code doesn't compile on Mono.

Workaround:
I can tweak the generator to skip the interface for this particular interface.
So the wrapper will not contain the method.

Discussion:
I wonder how far the compatibility with Microsoft should go. I seen
<A HREF="http://www.mono-project.com/PlanSerialization">http://www.mono-project.com/PlanSerialization</A> and see the complexity.
I admit that nobody if probably interested to call the ISerializable interface
explicitly, because it's mainly implementation detail of serialization. On the
other hand, the interface is public on the class, so anyone could cast DateTime
to it. 

Reproducible: Always

Steps to Reproduce:
This code compiles with Microsoft, but not with Mono.
System.DateTime x = DateTime.Now;
System.Runtime.Serialization.ISerializable s = x;
Actual Results:  
error CS0030: Cannot convert type `System.DateTime' to
`System.Runtime.Serialization.ISerializable'

Expected Results:  
compiled assembly

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="098552.html">[Mono-bugs] [Bug 588197] mtouch failed with no output (134)
</A></li>
	<LI>Next message: <A HREF="098635.html">[Mono-bugs] [Bug 588198] DateTime class in corlib doesn't implement ISerializable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98216">[ date ]</a>
              <a href="thread.html#98216">[ thread ]</a>
              <a href="subject.html#98216">[ subject ]</a>
              <a href="author.html#98216">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
