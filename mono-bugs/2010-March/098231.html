<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 588210] New: DataColumn Expression (ItemArray) not evaluated when rows/columns added to DataTable
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20588210%5D%20New%3A%20DataColumn%20Expression%20%28ItemArray%29%20not%0A%20evaluated%20when%20rows/columns%20added%20to%20DataTable&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="098258.html">
   <LINK REL="Next"  HREF="098232.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 588210] New: DataColumn Expression (ItemArray) not evaluated when rows/columns added to DataTable</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20588210%5D%20New%3A%20DataColumn%20Expression%20%28ItemArray%29%20not%0A%20evaluated%20when%20rows/columns%20added%20to%20DataTable&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 588210] New: DataColumn Expression (ItemArray) not evaluated when rows/columns added to DataTable">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Mar 14 04:34:34 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="098258.html">[Mono-bugs] [Bug 588209] Showing ErrorProvider in TableLayoutPanel at wrong position
</A></li>
        <LI>Next message: <A HREF="098232.html">[Mono-bugs] [Bug 588210] DataColumn Expression (ItemArray) not evaluated when rows/columns added to DataTable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98231">[ date ]</a>
              <a href="thread.html#98231">[ thread ]</a>
              <a href="subject.html#98231">[ subject ]</a>
              <a href="author.html#98231">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=588210">http://bugzilla.novell.com/show_bug.cgi?id=588210</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=588210#c0">http://bugzilla.novell.com/show_bug.cgi?id=588210#c0</A>


           Summary: DataColumn Expression (ItemArray) not evaluated when
                    rows/columns added to DataTable
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.6.x
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Sys.Data
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">janvanderwatt at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=348348)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=348348">http://bugzilla.novell.com/attachment.cgi?id=348348</A>)
Test case

User-Agent:       Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR
2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0C; .NET4.0E)

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=323194">https://bugzilla.novell.com/show_bug.cgi?id=323194</A> could be relevant.

In the test attached it seems that on Mono, the expressions for the DataColumn
are not evaluated when the rows are added to the table (as is the case on
MS.NET), or when a column with an expression is added.

However, as soon as a column is referred to by name (e.g. row[&quot;ColumnName&quot;]),
the expressions are evaluated.

Reproducible: Always

Steps to Reproduce:
See attached test case, and outputs for MS.NET and MONO.
NOTE: Binding to a gridview affects the column values of those columns with
expressions in the table, so I had to add some debug routines to get the
contents of the tables out.
Actual Results:  
Refreshing of the evaluated columns is delayed - I'm not exactly sure what
triggers the process. On MS.NET, evaluation is NOT delayed.

See attachment: &quot;MONO - ColumnExpression.aspx.html&quot;

Expected Results:  
When a DataRow is added to the DataTable, the colum's with expressions should 
be evaluated immediately.
ALSO:
When a DataColumn with an expression is added to the DataTable, all rows should
be updated immediately.

See attachment: &quot;MS.NET - ColumnExpression.aspx.html&quot;

It is possible that this anomaly is simply limited to the ItemArray of each row
- it's not entirely clear where the issue lies.

I am using the ItemArray extensively to copy and manipulate tables in a generic
fashion so making use of the columns by name isn't really an option.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="098258.html">[Mono-bugs] [Bug 588209] Showing ErrorProvider in TableLayoutPanel at wrong position
</A></li>
	<LI>Next message: <A HREF="098232.html">[Mono-bugs] [Bug 588210] DataColumn Expression (ItemArray) not evaluated when rows/columns added to DataTable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98231">[ date ]</a>
              <a href="thread.html#98231">[ thread ]</a>
              <a href="subject.html#98231">[ subject ]</a>
              <a href="author.html#98231">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
