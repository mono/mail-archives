<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 586901] New: RichTextBox didn't handle Unicode	string correctly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20586901%5D%20New%3A%20RichTextBox%20didn%27t%20handle%20Unicode%0A%09string%20correctly&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="098127.html">
   <LINK REL="Next"  HREF="098129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 586901] New: RichTextBox didn't handle Unicode	string correctly</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20586901%5D%20New%3A%20RichTextBox%20didn%27t%20handle%20Unicode%0A%09string%20correctly&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 586901] New: RichTextBox didn't handle Unicode	string correctly">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Mar 10 00:23:49 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="098127.html">[Mono-bugs] [Bug 586897] New: mkbundle does not support # character in directory path
</A></li>
        <LI>Next message: <A HREF="098129.html">[Mono-bugs] [Bug 586901] RichTextBox didn't handle Unicode string	correctly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98128">[ date ]</a>
              <a href="thread.html#98128">[ thread ]</a>
              <a href="subject.html#98128">[ subject ]</a>
              <a href="author.html#98128">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=586901">http://bugzilla.novell.com/show_bug.cgi?id=586901</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=586901#c0">http://bugzilla.novell.com/show_bug.cgi?id=586901#c0</A>


           Summary: RichTextBox didn't handle Unicode string correctly
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.6.x
          Platform: x86-64
        OS/Version: Ubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jingnan.si at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
rv:1.9.3a3pre) Gecko/20100303 Minefield/3.7a3pre

After input unicode string into RichTextbox, For example some Chinese/Japanese
data.
call RichTextBox.RTF to get the rtf data, it found the code page of rtf is set
to 1252, but the unicode chars are not correctly encoded, it is in plain text.

so when reset the gotten rtf back to the RichTextBox, the unicode char changes
to &quot;????&quot;


Reproducible: Always

Steps to Reproduce:
1.compile and run the attached test.cs
gmcs -r:System.Windows.Forms.dll -r:System.Drawing.dll -target:winexe test.cs
-codepage:utf8
2.click on the button
3.the text in richtext box will change to ??
Actual Results:  
text in richtext box change to ??

Expected Results:  
should display the same text as before

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="098127.html">[Mono-bugs] [Bug 586897] New: mkbundle does not support # character in directory path
</A></li>
	<LI>Next message: <A HREF="098129.html">[Mono-bugs] [Bug 586901] RichTextBox didn't handle Unicode string	correctly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98128">[ date ]</a>
              <a href="thread.html#98128">[ thread ]</a>
              <a href="subject.html#98128">[ subject ]</a>
              <a href="author.html#98128">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
