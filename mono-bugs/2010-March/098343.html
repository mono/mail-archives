<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 589940] New: Mono JIT invokes invalid vtable	method on MeeGo
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20589940%5D%20New%3A%20Mono%20JIT%20invokes%20invalid%20vtable%0A%09method%20on%20MeeGo&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="098342.html">
   <LINK REL="Next"  HREF="098344.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 589940] New: Mono JIT invokes invalid vtable	method on MeeGo</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20589940%5D%20New%3A%20Mono%20JIT%20invokes%20invalid%20vtable%0A%09method%20on%20MeeGo&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 589940] New: Mono JIT invokes invalid vtable	method on MeeGo">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Mar 19 19:10:38 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="098342.html">[Mono-bugs] [Bug 547675] [PATCH] DateTimeOffset fails to parse timezone fragment when its value has no separator
</A></li>
        <LI>Next message: <A HREF="098344.html">[Mono-bugs] [Bug 589940] Mono JIT invokes invalid vtable method on	MeeGo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98343">[ date ]</a>
              <a href="thread.html#98343">[ thread ]</a>
              <a href="subject.html#98343">[ subject ]</a>
              <a href="author.html#98343">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=589940">http://bugzilla.novell.com/show_bug.cgi?id=589940</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=589940#c0">http://bugzilla.novell.com/show_bug.cgi?id=589940#c0</A>


           Summary: Mono JIT invokes invalid vtable method on MeeGo
    Classification: Mono
           Product: Mono: Runtime
           Version: unspecified
          Platform: x86
        OS/Version: Other
            Status: NEW
          Severity: Critical
          Priority: P5 - None
         Component: JIT
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">miguel at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Development
           Blocker: ---


I built Mono natively on MeeGo to reproduce this.

I compiled the following program on MeeGo and the message &quot;Called&quot; is not
displayed as it should.   Instead the program crashes, since the
CollectionBase.OnValidate is invoked as opposed to the EA.OnValidate method
that prints &quot;Called&quot; and should have ignored the null value.

This is a simpler test case than what is happening in our class libraries when
we call new Uri (&quot;<A HREF="http://localhost&quot;">http://localhost&quot;</A>) which in turn calls our Regex engine,
which in turn uses the derived CollectionBase.

The executable compiled on MeeGo runs as expected on Linux

using System;
using System.Collections;

class  EA : CollectionBase {
    public void Add (EA e)
    { List.Add (e); }

    protected override void OnValidate (object o) {
        Console.WriteLine (&quot;Called&quot;);
    }
}

class Fo {
    static void Main ()
    {
        var a = new EA ();
        a.Add (null);
    }
}

The output of mono --print-vtable is the same for both programs up to the point
that one ends up calling Console, and the other ArgumentException (no
difference found by diff).

If a regular Linux binary is copied over to the MeeGo device, the failure will
also happen.   The opposite is not possible as the MeeGo build seems to be
taking some deps on symbols that do not exist on my SUSE machine (g_malloc0_n; 
go universal binaries on Linux!)

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="098342.html">[Mono-bugs] [Bug 547675] [PATCH] DateTimeOffset fails to parse timezone fragment when its value has no separator
</A></li>
	<LI>Next message: <A HREF="098344.html">[Mono-bugs] [Bug 589940] Mono JIT invokes invalid vtable method on	MeeGo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98343">[ date ]</a>
              <a href="thread.html#98343">[ thread ]</a>
              <a href="subject.html#98343">[ subject ]</a>
              <a href="author.html#98343">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
