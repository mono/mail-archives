<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 588098] New: MonoTouch App crashes 9 out of 10 times when run on Simulator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20588098%5D%20New%3A%20MonoTouch%20App%20crashes%209%20out%20of%2010%0A%20times%20when%20run%20on%20Simulator&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="098188.html">
   <LINK REL="Next"  HREF="098191.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 588098] New: MonoTouch App crashes 9 out of 10 times when run on Simulator</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20588098%5D%20New%3A%20MonoTouch%20App%20crashes%209%20out%20of%2010%0A%20times%20when%20run%20on%20Simulator&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 588098] New: MonoTouch App crashes 9 out of 10 times when run on Simulator">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Mar 12 18:00:06 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="098188.html">[Mono-bugs] [Bug 322158] rethrow loses stack trace information
</A></li>
        <LI>Next message: <A HREF="098191.html">[Mono-bugs] [Bug 588098] MonoTouch App crashes 9 out of 10 times when run on Simulator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98189">[ date ]</a>
              <a href="thread.html#98189">[ thread ]</a>
              <a href="subject.html#98189">[ subject ]</a>
              <a href="author.html#98189">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=588098">http://bugzilla.novell.com/show_bug.cgi?id=588098</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=588098#c0">http://bugzilla.novell.com/show_bug.cgi?id=588098#c0</A>


           Summary: MonoTouch App crashes 9 out of 10 times when run on
                    Simulator
    Classification: Mono
           Product: MonoTouch
           Version: unspecified
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Critical
          Priority: P5 - None
         Component: Debugger
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">terry at inamics.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_2; en-us)
AppleWebKit/531.21.8 (KHTML, like Gecko) Version/4.0.4 Safari/531.21.10

This error occurs for me when I try to debug an App on the iPhone Simulator.
Here is the crash output:

Couldn't register com.inamics.2centsme with the bootstrap server. Error:
unknown error code.
This generally means that another instance of this process was already running
or is hung in the debugger.Stacktrace:

  at (wrapper managed-to-native)
MonoTouch.UIKit.UIApplication.UIApplicationMain (int,string[],intptr,intptr)
&lt;0x00004&gt;
  at (wrapper managed-to-native)
MonoTouch.UIKit.UIApplication.UIApplicationMain (int,string[],intptr,intptr)
&lt;0x00004&gt;
  at MonoTouch.UIKit.UIApplication.Main (string[],string,string) [0x00038] in
/Users/plasma/Source/iphone/monotouch/UIKit/UIApplication.cs:26
  at MonoTouch.UIKit.UIApplication.Main (string[]) [0x00000] in
/Users/plasma/Source/iphone/monotouch/UIKit/UIApplication.cs:31
  at CentsMe.Application.Main (string[]) [0x00000] in
/Users/terrymoenkhaus/Projects/2CentsMe/2CentsMe/iPhone/Main.cs:14
  at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_void_object
(object,intptr,intptr,intptr) &lt;IL 0x0001d, 0x00090&gt;

Native stacktrace:

    0   2CentsMe                            0x000c1888
mono_handle_native_sigsegv + 376
    1   2CentsMe                            0x00118c75 sigabrt_signal_handler +
116
    2   libSystem.B.dylib                   0x9086a9bb _sigtramp + 43
    3   ???                                 0xffffffff 0x0 + 4294967295
    4   libSystem.B.dylib                   0x908f898d raise + 26
    5   libSystem.B.dylib                   0x9090ea44 abort + 93
    6   GraphicsServices                    0x32045076
GSRegisterPurpleNamedPort + 323
    7   GraphicsServices                    0x32045233 GSEventInitialize + 220
    8   UIKit                               0x00a30028 UIApplicationMain + 703
    9   ???                                 0x02bceed2 0x0 + 45936338
    10  ???                                 0x02bceca2 0x0 + 45935778
    11  ???                                 0x02bce5e2 0x0 + 45934050
    12  ???                                 0x02bce434 0x0 + 45933620
    13  ???                                 0x02bce4e9 0x0 + 45933801
    14  2CentsMe                            0x0000d86e mono_jit_runtime_invoke
+ 1360
    15  2CentsMe                            0x001c7449 mono_runtime_invoke +
137
    16  2CentsMe                            0x001c91a0 mono_runtime_exec_main +
714
    17  2CentsMe                            0x001c8a61 mono_runtime_run_main +
812
    18  2CentsMe                            0x00096ea3 mono_jit_exec + 200
    19  2CentsMe                            0x0027e0ed main + 3187
    20  2CentsMe                            0x000025d0 _start + 210
    21  2CentsMe                            0x000024fd start + 41
    22  ???                                 0x00000001 0x0 + 1

Debug info from gdb:

warning: Trying to remove a section from the ordered section list that did not
exist at 0x364000.
warning: Could not find object file
&quot;/var/folders/i7/i7qGCU12EJyERd6E5iKVT++++TI/-Tmp-//cc3AMLVN.o&quot; - no debug
information available for &quot;template.m&quot;.

warning: .o file
&quot;/Developer/MonoTouch/SDKs/MonoTouch1.0.iphonesimulator.sdk/usr/lib/libmonotouch.a(zlib-helper.x86.o)&quot;
more recent than executable timestamp in
&quot;/Users/terrymoenkhaus/Library/Application Support/iPhone
Simulator/User/Applications/BE77D963-3C3F-4528-834F-DEB84E86A77B/2CentsMe.app/2CentsMe&quot;
warning: Could not open OSO file
/Developer/MonoTouch/SDKs/MonoTouch1.0.iphonesimulator.sdk/usr/lib/libmonotouch.a(zlib-helper.x86.o)
to scan for pubtypes for objfile /Users/terrymoenkhaus/Library/Application
Support/iPhone
Simulator/User/Applications/BE77D963-3C3F-4528-834F-DEB84E86A77B/2CentsMe.app/2CentsMe
warning: .o file
&quot;/Developer/MonoTouch/SDKs/MonoTouch1.0.iphonesimulator.sdk/usr/lib/libmonotouch.a(monotouch-glue.x86.o)&quot;
more recent than executable timestamp in
&quot;/Users/terrymoenkhaus/Library/Application Support/iPhone
Simulator/User/Applications/BE77D963-3C3F-4528-834F-DEB84E86A77B/2CentsMe.app/2CentsMe&quot;
warning: Could not open OSO file
/Developer/MonoTouch/SDKs/MonoTouch1.0.iphonesimulator.sdk/usr/lib/libmonotouch.a(monotouch-glue.x86.o)
to scan for pubtypes for objfile /Users/terrymoenkhaus/Library/Application
Support/iPhone
Simulator/User/Applications/BE77D963-3C3F-4528-834F-DEB84E86A77B/2CentsMe.app/2CentsMe
Attaching to process 63126.
Reading symbols for shared libraries . done
Reading symbols for shared libraries
.................................................................................
done
0x9080fbf9 in read$UNIX2003 ()
  6 port# 0x3803 0x908048da in mach_msg_trap ()
  5 port# 0x3603 0x90841b1a in recvfrom$UNIX2003 ()
  4 port# 0x2403 0x90804916 in semaphore_wait_trap ()
  3 port# 0x2003 0x90832806 in __semwait_signal ()
  2 port# 0x1f03 0x908048da in mach_msg_trap ()
* 1 port# 0x207  0x9080fbf9 in read$UNIX2003 ()

Thread 6 (process 63126):
#0  0x908048da in mach_msg_trap ()
#1  0x90805047 in mach_msg ()
#2  0x30244d62 in CFRunLoopRunSpecific ()
#3  0x30244628 in CFRunLoopRunInMode ()
#4  0x3588ea13 in RunWebThread ()
#5  0x90831fbd in _pthread_start ()
#6  0x90831e42 in thread_start ()

Thread 5 (process 63126):
#0  0x90841b1a in recvfrom$UNIX2003 ()
#1  0x90861983 in recv$UNIX2003 ()
#2  0x000dc377 in recv_length (fd=5, buf=0xb0288ee1, len=11, flags=0) at
./../../../mono/mini/debugger-agent.c:917
#3  0x000e95a2 in debugger_thread (arg=0x0) at
./../../../mono/mini/debugger-agent.c:6082
#4  0x00245d67 in thread_start_routine (args=0x481492c) at
./../../../mono/io-layer/wthreads.c:286
#5  0x00276253 in GC_start_routine (arg=0x2ae8f60) at
./../../libgc/pthread_support.c:1390
#6  0x90831fbd in _pthread_start ()
#7  0x90831e42 in thread_start ()

Thread 4 (process 63126):
#0  0x90804916 in semaphore_wait_trap ()
#1  0x00158208 in finalizer_thread (unused=0x0) at
./../../../mono/metadata/gc.c:1026
#2  0x00202586 in start_wrapper (data=0x2e14a60) at
./../../../mono/metadata/threads.c:661
#3  0x00245d67 in thread_start_routine (args=0x48148b0) at
./../../../mono/io-layer/wthreads.c:286
#4  0x00276253 in GC_start_routine (arg=0x2ae8f60) at
./../../libgc/pthread_support.c:1390
#5  0x90831fbd in _pthread_start ()
#6  0x90831e42 in thread_start ()

Thread 3 (process 63126):
#0  0x90832806 in __semwait_signal ()
#1  0x9085e441 in nanosleep$UNIX2003 ()
#2  0x00226638 in collection_thread (unused=0x0) at
./../../../mono/io-layer/collection.c:34
#3  0x90831fbd in _pthread_start ()
#4  0x90831e42 in thread_start ()

Thread 2 (process 63126):
#0  0x908048da in mach_msg_trap ()
#1  0x90805047 in mach_msg ()
#2  0x0011839a in mach_exception_thread (arg=0x0) at
./../../../mono/mini/mini-darwin.c:138
#3  0x90831fbd in _pthread_start ()
#4  0x90831e42 in thread_start ()

Thread 1 (process 63126):
#0  0x9080fbf9 in read$UNIX2003 ()
#1  0x000c1a83 in mono_handle_native_sigsegv (signal=6, ctx=0xbfffeb7c) at
./../../../mono/mini/mini-exceptions.c:1826
#2  0x00118c75 in sigabrt_signal_handler (_dummy=6, info=0xbfffeb3c,
context=0xbfffeb7c) at ../../../../mono/mini/mini-posix.c:155
#3  &lt;signal handler called&gt;
#4  0x90865732 in __kill ()
#5  0x90865724 in kill$UNIX2003 ()
#6  0x908f898d in raise ()
#7  0x9090ea44 in abort ()
#8  0x32045076 in GSRegisterPurpleNamedPort ()
#9  0x32045233 in GSEventInitialize ()
#10 0x00a30028 in UIApplicationMain ()
#11 0x02bceed2 in ?? ()
#12 0x02bceca2 in ?? ()
#13 0x02bce5e2 in ?? ()
#14 0x02bce434 in ?? ()
#15 0x02bce4e9 in ?? ()
#16 0x0000d86e in mono_jit_runtime_invoke (method=0x30b4da4, obj=0x0,
params=0xbfffef78, exc=0x0) at ../../../../mono/mini/mini.c:4733
#17 0x001c7449 in mono_runtime_invoke (method=0x30b4da4, obj=0x0,
params=0xbfffef78, exc=0x0) at ../../../../mono/metadata/object.c:2615
#18 0x001c91a0 in mono_runtime_exec_main (method=0x30b4da4, args=0x2f155b0,
exc=0x0) at ../../../../mono/metadata/object.c:3581
#19 0x001c8a61 in mono_runtime_run_main (method=0x30b4da4, argc=0,
argv=0xbffff09c, exc=0x0) at ../../../../mono/metadata/object.c:3355
#20 0x00096ea3 in mono_jit_exec (domain=0x2a50e58, assembly=0x2c60d30, argc=1,
argv=0xbffff098) at ../../../../mono/mini/driver.c:1094
#21 0x0027e0ed in main ()

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================


This same error is occurring across all of the projects (iPhone Apps) I have
developed, even though only one is a new project.

The only thing that changed between the time it was working and the time it
stopped working was an install of the latest iPhone SDK and Tools. (And several
small Apple Updates for this Mac Mini)

I have not tried uninstalling and reinstalling MD/MT yet, that will be my next
attempt.

Reproducible: Sometimes

Actual Results:  
Crash Output in MD Application Out Tab

Expected Results:  
App should Run

The App runs and can be debugged fine on Actual Hardware

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="098188.html">[Mono-bugs] [Bug 322158] rethrow loses stack trace information
</A></li>
	<LI>Next message: <A HREF="098191.html">[Mono-bugs] [Bug 588098] MonoTouch App crashes 9 out of 10 times when run on Simulator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98189">[ date ]</a>
              <a href="thread.html#98189">[ thread ]</a>
              <a href="subject.html#98189">[ subject ]</a>
              <a href="author.html#98189">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
