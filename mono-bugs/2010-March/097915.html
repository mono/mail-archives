<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 584370] New: [Regression] Commit 152171 broke ASP.NET with mod_mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20584370%5D%20New%3A%20%5BRegression%5D%20Commit%20152171%20broke%0A%20ASP.NET%20with%20mod_mono&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="097914.html">
   <LINK REL="Next"  HREF="097916.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 584370] New: [Regression] Commit 152171 broke ASP.NET with mod_mono</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20584370%5D%20New%3A%20%5BRegression%5D%20Commit%20152171%20broke%0A%20ASP.NET%20with%20mod_mono&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 584370] New: [Regression] Commit 152171 broke ASP.NET with mod_mono">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Mar  1 14:31:20 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="097914.html">[Mono-bugs] [Bug 325517] Provide a full-managed way of using i18n
</A></li>
        <LI>Next message: <A HREF="097916.html">[Mono-bugs] [Bug 584370] [Regression] Commit 152171 broke ASP.NET	with mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97915">[ date ]</a>
              <a href="thread.html#97915">[ thread ]</a>
              <a href="subject.html#97915">[ subject ]</a>
              <a href="author.html#97915">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=584370">http://bugzilla.novell.com/show_bug.cgi?id=584370</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=584370#c0">http://bugzilla.novell.com/show_bug.cgi?id=584370#c0</A>


           Summary: [Regression] Commit 152171 broke ASP.NET with mod_mono
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.6.x
          Platform: x86-64
        OS/Version: Other
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: CORLIB
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">juraj at hotfeet.ch</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=345743)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=345743">http://bugzilla.novell.com/attachment.cgi?id=345743</A>)
trivial web app with a single page

User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.1.8)
Gecko/20100216 Fedora/3.5.8-1.fc12 Firefox/3.5.8 (js)

Commit 152171 broke ASP.NET with mod_mono, postbacks do not work anymore.

Author: calberto
Date: 2010-02-22 05:59:02 -0500 (Mon, 22 Feb 2010)
New Revision: 152171

Modified:
   branches/mono-2-6/mcs/class/corlib/System.IO/ChangeLog
   branches/mono-2-6/mcs/class/corlib/System.IO/MemoryStream.cs
Log:
2010-02-21  Carlos Alberto Cortez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">calberto.cortez at gmail.com</A>&gt;

        * MemoryStream.cs: Don't clear the bytes beyond Length when shrinking
        it. Instead just save the related information for it and do it when
        Length grows and touchs that dirty region. Refactor the code where
        needed to avoid duplication as well.
        Fixes #327053.



Reproducible: Always

Steps to Reproduce:
1. extract attached trival webapp
2. start mod_mono
3. request index.aspx
4. click &quot;button&quot;
Actual Results:  
[no output, no form data]

Expected Results:  
__VIEWSTATE=DAAAAA==&amp;ctl01=Go&amp;__EVENTVALIDATION=HQABAAAA/////wEAAAAAAAAADwEAAAABAAAACFxtqQULAA== 

Reverting 152171 &quot;solves&quot; the problem.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="097914.html">[Mono-bugs] [Bug 325517] Provide a full-managed way of using i18n
</A></li>
	<LI>Next message: <A HREF="097916.html">[Mono-bugs] [Bug 584370] [Regression] Commit 152171 broke ASP.NET	with mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97915">[ date ]</a>
              <a href="thread.html#97915">[ thread ]</a>
              <a href="subject.html#97915">[ subject ]</a>
              <a href="author.html#97915">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
