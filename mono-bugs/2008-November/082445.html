<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 446172] New: the main() generated by mkbundle2 should be Unicode aware
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20446172%5D%20New%3A%20the%20main%28%29%20generated%20by%20mkbundle2%0A%20should%20be%20Unicode%20aware&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082440.html">
   <LINK REL="Next"  HREF="082446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 446172] New: the main() generated by mkbundle2 should be Unicode aware</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20446172%5D%20New%3A%20the%20main%28%29%20generated%20by%20mkbundle2%0A%20should%20be%20Unicode%20aware&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 446172] New: the main() generated by mkbundle2 should be Unicode aware">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Nov 18 12:03:30 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="082440.html">[Mono-bugs] [Bug 323485] Application: Multithreaded App crashes in random locations
</A></li>
        <LI>Next message: <A HREF="082446.html">[Mono-bugs] [Bug 446172] the main() generated by mkbundle2 should be Unicode aware
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82445">[ date ]</a>
              <a href="thread.html#82445">[ thread ]</a>
              <a href="subject.html#82445">[ subject ]</a>
              <a href="author.html#82445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=446172">https://bugzilla.novell.com/show_bug.cgi?id=446172</A>


           Summary: the main() generated by mkbundle2 should be Unicode
                    aware
           Product: Mono: Tools
           Version: 1.2.6
          Platform: Other
        OS/Version: Windows
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: tools
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">tlillqvist at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


The main() function in the main.c generated by the mkbundle2 tool currently
passes its normal &quot;narrow&quot; char* argv on to mono_main(). This means that on
Windows, it cannot accept command line arguments with arbitrary Unicode
characters. Also, apparently mono_main() expects that the argv passed to it is
in UTF-8 also on Windows (while it actually currently is in the system
codepage).

It is quite simple to fix the mkbundle'd main() to accept an arbitrary Unicode
command line on Windows and pass that as an UTF-8 argument vector to
mono_main(). Will attach patch.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>











































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082440.html">[Mono-bugs] [Bug 323485] Application: Multithreaded App crashes in random locations
</A></li>
	<LI>Next message: <A HREF="082446.html">[Mono-bugs] [Bug 446172] the main() generated by mkbundle2 should be Unicode aware
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82445">[ date ]</a>
              <a href="thread.html#82445">[ thread ]</a>
              <a href="subject.html#82445">[ subject ]</a>
              <a href="author.html#82445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
