<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 442122] Better handling of read-only method variables which appear in closures.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20442122%5D%20Better%20handling%20of%20read-only%20method%0A%20variables%20which%20appear%20in%20closures.&In-Reply-To=bug-442122-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="081940.html">
   <LINK REL="Next"  HREF="081936.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 442122] Better handling of read-only method variables which appear in closures.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20442122%5D%20Better%20handling%20of%20read-only%20method%0A%20variables%20which%20appear%20in%20closures.&In-Reply-To=bug-442122-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 442122] Better handling of read-only method variables which appear in closures.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Nov  6 05:26:43 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="081940.html">[Mono-bugs] [Bug 442122] Better handling of read-only method variables which appear in closures.
</A></li>
        <LI>Next message: <A HREF="081936.html">[Mono-bugs] [Bug 442129] New: Delay local variable capture until just before anonymous methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81942">[ date ]</a>
              <a href="thread.html#81942">[ thread ]</a>
              <a href="subject.html#81942">[ subject ]</a>
              <a href="author.html#81942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=442122">https://bugzilla.novell.com/show_bug.cgi?id=442122</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lunchtimemama at gmail.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=442122#c2">https://bugzilla.novell.com/show_bug.cgi?id=442122#c2</A>


Scott Peterson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lunchtimemama at gmail.com</A>&gt; changed:

           What    |Removed                                         |Added
----------------------------------------------------------------------------
             Status|RESOLVED                                        |REOPENED
         Resolution|WONTFIX                                         |




--- Comment #2 from Scott Peterson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lunchtimemama at gmail.com</A>&gt;  2008-11-06 03:26:42 MST ---
No, of course the variable has to be captured for use by the lambda, but the
captured value should not be used later in the enclosing method. The call to
DoSomethindWithAnInt looks something like this:

ldloc.0
ldfld int32 &lt;Foo&gt;__AnonStorey1::i
call void MyType::DoSomethindWithAnInt (int32)

Instead, it should look like this:

ldarg.0
call void MyType::DoSomethindWithAnInt (int32)

Since the value of the argument cannot change after it was captured, we might
as well save ourselves the IL instruction.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="081940.html">[Mono-bugs] [Bug 442122] Better handling of read-only method variables which appear in closures.
</A></li>
	<LI>Next message: <A HREF="081936.html">[Mono-bugs] [Bug 442129] New: Delay local variable capture until just before anonymous methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81942">[ date ]</a>
              <a href="thread.html#81942">[ thread ]</a>
              <a href="subject.html#81942">[ subject ]</a>
              <a href="author.html#81942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
