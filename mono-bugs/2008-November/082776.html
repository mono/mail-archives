<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 450002] New: Very slow performance in Winforms	ListView
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20450002%5D%20New%3A%20Very%20slow%20performance%20in%20Winforms%0A%09ListView&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082772.html">
   <LINK REL="Next"  HREF="082780.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 450002] New: Very slow performance in Winforms	ListView</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20450002%5D%20New%3A%20Very%20slow%20performance%20in%20Winforms%0A%09ListView&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 450002] New: Very slow performance in Winforms	ListView">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Nov 28 05:31:45 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="082772.html">[Mono-bugs] [Bug 449971] New: MeasureCharacterRanges treats empty layout rectangle incorrectly
</A></li>
        <LI>Next message: <A HREF="082780.html">[Mono-bugs] [Bug 450050] New: Mono crashes to freeing invalid pointer when using custom ICustomMarshaler marshaling return value
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82776">[ date ]</a>
              <a href="thread.html#82776">[ thread ]</a>
              <a href="subject.html#82776">[ subject ]</a>
              <a href="author.html#82776">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=450002">https://bugzilla.novell.com/show_bug.cgi?id=450002</A>


           Summary: Very slow performance in Winforms ListView
           Product: Mono: Class Libraries
           Version: 1.2.6
          Platform: PC
        OS/Version: Ubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jvd at moba.nl</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Customer


Created an attachment (id=256489)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=256489">https://bugzilla.novell.com/attachment.cgi?id=256489</A>)
Visual studio test project

Description of Problem:
I have written a small winforms program to add 100 lines to a listview. This is
repeated 10 times (as a result 1000 lines are added). I measure the time it
takes to:
1. Store some values in a 2 dimensional array.
2. Store the values and update the user interface. When updating the UI values
of the array are used to create a string, representing a line. This line is
then added to the listview.

Steps to reproduce the problem:
1. Build the attached project.
2. Execute the .NET program directly with WindowsXP SP2.
3. Execute the .NET program on Mono, running on an Ubuntu V8.04 machine.


Windows XP Results (a Pentium 4 CPU at 3.0 GHz, Windows XP SP2):
When running the program directly with WindowsXP (not using Mono) each cycle
takes between 0 and 15 milliseconds (because of the resolution of DateTime).

Mono results (a Core 2 Duo CPU at 2.1 GHz, Windows XP SP2 Host OS, VMWare
Server 1.0.7, Ubuntu V8.04 Guest OS.):
When running the program on Mono the first cycle takes 1.8 seconds. Each cycle
the performance gets worse and the last (10th) cycles takes 6.8 seconds.

How often does this happen? 
Each and every time.

Additional Information:
1. I have included a zip-file with the project. The project is created using
Visual Studio 2008 C# Express edition. Default a project uses .NET 3.5 but I
changed the properties to use .NET 3.0.
2. When running directly on WindowsXP I used the release version of the
executable.
3. When running on Mono, I took the release version executable, copied it to
Ubuntu and executed by typing 'mono MonoBugReport.exe'.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082772.html">[Mono-bugs] [Bug 449971] New: MeasureCharacterRanges treats empty layout rectangle incorrectly
</A></li>
	<LI>Next message: <A HREF="082780.html">[Mono-bugs] [Bug 450050] New: Mono crashes to freeing invalid pointer when using custom ICustomMarshaler marshaling return value
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82776">[ date ]</a>
              <a href="thread.html#82776">[ thread ]</a>
              <a href="subject.html#82776">[ subject ]</a>
              <a href="author.html#82776">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
