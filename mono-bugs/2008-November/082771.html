<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 449970] New: Masterpages / ContentPlaceHolder in UpdatePanel not found
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20449970%5D%20New%3A%20Masterpages%20/%20ContentPlaceHolder%20in%0A%20UpdatePanel%20not%20found&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082767.html">
   <LINK REL="Next"  HREF="082772.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 449970] New: Masterpages / ContentPlaceHolder in UpdatePanel not found</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20449970%5D%20New%3A%20Masterpages%20/%20ContentPlaceHolder%20in%0A%20UpdatePanel%20not%20found&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 449970] New: Masterpages / ContentPlaceHolder in UpdatePanel not found">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Nov 28 04:38:46 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="082767.html">[Mono-bugs] [Bug 449816] New: ListViewSubItemCollection different behaviour in . net &amp; mono enviroment
</A></li>
        <LI>Next message: <A HREF="082772.html">[Mono-bugs] [Bug 449971] New: MeasureCharacterRanges treats empty layout rectangle incorrectly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82771">[ date ]</a>
              <a href="thread.html#82771">[ thread ]</a>
              <a href="subject.html#82771">[ subject ]</a>
              <a href="author.html#82771">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=449970">https://bugzilla.novell.com/show_bug.cgi?id=449970</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">markusreg at freenet.de</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=449970#c325114">https://bugzilla.novell.com/show_bug.cgi?id=449970#c325114</A>

           Summary: Masterpages / ContentPlaceHolder in UpdatePanel not
                    found
           Product: Mono: Class Libraries
           Version: 2.0.x
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Sys.Web
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">markusreg at freenet.de</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Description of Problem:

If an ASP.NET masterpage contains at least two ContentPlaceHolders and one of
them is placed within an Ajax UpdatePanel and the other outside, an exception
will be thrown when the placeholders are referenced from a page.
Mono 1.9.1 does not have this problem, so this is a regression.

Steps to reproduce the problem:

1. Create a masterpage
2. Put an UpdatePanel inside the masterpage along with a ScriptManager
3. Put a ContentPlaceHolder in the ContentTemplate of the UpdatePanel
4. Put another ContentPlaceHolder anywhere else, say in the head of the
masterpage
5. Create an .aspx page that references this masterpage
6. Put two Content sections in that page that point to the corresponding
ContentPlaceHolder
7. Navigate to the web page

Actual Results:

You will get the following exception:

Cannot find ContentPlaceHolder 'ContentPlaceHolderPage' in the master page
'~/MyMaster.master'
Description: HTTP 500. Error processing request.
Stack Trace:
System.Web.HttpException: Cannot find ContentPlaceHolder
'ContentPlaceHolderPage' in the master page '~/MyMaster.master'
  at System.Web.UI.MasterPage.CreateMasterPage (System.Web.UI.TemplateControl
owner, System.Web.HttpContext context, System.String masterPageFile,
IDictionary contentTemplateCollection) [0x00000] 
  at System.Web.UI.Page.get_Master () [0x00000] 
  at System.Web.UI.Page.ApplyMasterPage () [0x00000] 
  at System.Web.UI.Page.InternalProcessRequest () [0x00000] 
  at System.Web.UI.Page.ProcessRequest (System.Web.HttpContext context)
[0x00000] 


Expected Results:

The page should display without any errors.

How often does this happen? 

Always

Additional Information:

Note that the exception is thrown only if one ContentPlaceHolder is placed
inside the UpdatePanel and another outside. If all ContentPlaceHolders are
placed within an UpdatePanel, no error occurs.
I suppose this bug was introduced with the bugfix of #325114. Mono 1.9.1 does
not seem to check the placeholder matching at all, so the problem does not show
in that version.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082767.html">[Mono-bugs] [Bug 449816] New: ListViewSubItemCollection different behaviour in . net &amp; mono enviroment
</A></li>
	<LI>Next message: <A HREF="082772.html">[Mono-bugs] [Bug 449971] New: MeasureCharacterRanges treats empty layout rectangle incorrectly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82771">[ date ]</a>
              <a href="thread.html#82771">[ thread ]</a>
              <a href="subject.html#82771">[ subject ]</a>
              <a href="author.html#82771">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
