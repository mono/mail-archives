<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 446392] New: MenuStrip crashes when ALT key is pressed in a TextBox
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20446392%5D%20New%3A%20MenuStrip%20crashes%20when%20ALT%20key%20is%0A%20pressed%20in%20a%20TextBox&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="082485.html">
   <LINK REL="Next"  HREF="082493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 446392] New: MenuStrip crashes when ALT key is pressed in a TextBox</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20446392%5D%20New%3A%20MenuStrip%20crashes%20when%20ALT%20key%20is%0A%20pressed%20in%20a%20TextBox&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 446392] New: MenuStrip crashes when ALT key is pressed in a TextBox">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Nov 19 01:39:25 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="082485.html">[Mono-bugs] [Bug 357484] DataGrid scrolls past the bottom when a	cell is selected
</A></li>
        <LI>Next message: <A HREF="082493.html">[Mono-bugs] [Bug 446392] MenuStrip crashes when ALT key is pressed	in a TextBox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82486">[ date ]</a>
              <a href="thread.html#82486">[ thread ]</a>
              <a href="subject.html#82486">[ subject ]</a>
              <a href="author.html#82486">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=446392">https://bugzilla.novell.com/show_bug.cgi?id=446392</A>


           Summary: MenuStrip crashes when ALT key is pressed in a TextBox
           Product: Mono: Class Libraries
           Version: 2.0.x
          Platform: Other
        OS/Version: All
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">floseflose at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=253228)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=253228">https://bugzilla.novell.com/attachment.cgi?id=253228</A>)
Test program for MenuStrip Bug

Description of Problem:
Typing ALT to activate the menu doesn't work (tested in Mono 2.0.1 on
Linux/Windows)
MenuStrip even crashes when ALT key is typed in a TextBox and then type arrow
key left or right.

Steps to reproduce the problem:
1. create a windows form with a menustrip (with two items) and a textbox (see
attachment)
2. Run program 
3. Click in the textbox and press the Alt Key twice!(on Linux it also crashes
when alt is only pressed once)
4. Press the right or left arrowkey


Actual Results:
mono crashes with an error:
Unhandled Exception: System.NullReferenceException: Object reference not set to
an instance of an object
  at System.Windows.Forms.MenuTracker.ProcessKeys
(System.Windows.Forms.Message&amp; msg, Keys keyData) [0x00000]
  at System.Windows.Forms.Menu.ProcessCmdKey (System.Windows.Forms.Message&amp;
msg, Keys keyData) [0x00000]
  at System.Windows.Forms.Control.ProcessCmdKey (System.Windows.Forms.Message&amp;
msg, Keys keyData) [0x00000]
  at System.Windows.Forms.TextBoxBase.ProcessCmdKey
(System.Windows.Forms.Message&amp; msg, Keys keyData) [0x00000]
  at System.Windows.Forms.Control.InternalPreProcessMessage
(System.Windows.Forms.Message&amp; msg) [0x00000]
  at System.Windows.Forms.Control.PreProcessMessage
(System.Windows.Forms.Message&amp; msg) [0x00000]
  at System.Windows.Forms.Control.PreProcessControlMessageInternal
(System.Windows.Forms.Message&amp; msg) [0x00000]
  at (wrapper remoting-invoke-with-check)
System.Windows.Forms.Control:PreProcessControlMessageInternal
(System.Windows.Forms.Message&amp;)
  at System.Windows.Forms.Application.RunLoop (Boolean Modal,
System.Windows.Forms.ApplicationContext context) [0x00000]
  at System.Windows.Forms.Application.Run
(System.Windows.Forms.ApplicationContext context) [0x00000]
  at System.Windows.Forms.Application.Run (System.Windows.Forms.Form mainForm)
[0x00000]
  at a1.b1.Main () [0x00000]

Expected Results:
do nothing because Alt was pressed twice

How often does this happen? 
always

Additional Information:


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>











































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="082485.html">[Mono-bugs] [Bug 357484] DataGrid scrolls past the bottom when a	cell is selected
</A></li>
	<LI>Next message: <A HREF="082493.html">[Mono-bugs] [Bug 446392] MenuStrip crashes when ALT key is pressed	in a TextBox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#82486">[ date ]</a>
              <a href="thread.html#82486">[ thread ]</a>
              <a href="subject.html#82486">[ subject ]</a>
              <a href="author.html#82486">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
