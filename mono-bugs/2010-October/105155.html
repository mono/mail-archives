<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 647990] New: New random crashes, timeouts and bad performance in asp.net with 2.8.x branch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20647990%5D%20New%3A%20New%20random%20crashes%2C%0A%20timeouts%20and%20bad%20performance%20in%20asp.net%20with%202.8.x%20branch&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="105406.html">
   <LINK REL="Next"  HREF="105156.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 647990] New: New random crashes, timeouts and bad performance in asp.net with 2.8.x branch</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20647990%5D%20New%3A%20New%20random%20crashes%2C%0A%20timeouts%20and%20bad%20performance%20in%20asp.net%20with%202.8.x%20branch&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 647990] New: New random crashes, timeouts and bad performance in asp.net with 2.8.x branch">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Oct 20 07:20:20 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="105406.html">[Mono-bugs] [Bug 647948] null stream.BaseStream Close/Dispose not throwing exception (unlike MS .Net)
</A></li>
        <LI>Next message: <A HREF="105156.html">[Mono-bugs] [Bug 647990] New random crashes, timeouts and bad performance in asp.net with 2.8.x branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#105155">[ date ]</a>
              <a href="thread.html#105155">[ thread ]</a>
              <a href="subject.html#105155">[ subject ]</a>
              <a href="author.html#105155">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=647990">https://bugzilla.novell.com/show_bug.cgi?id=647990</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=647990#c0">https://bugzilla.novell.com/show_bug.cgi?id=647990#c0</A>


           Summary: New random crashes, timeouts and bad performance in
                    asp.net with 2.8.x branch
    Classification: Mono
           Product: Mono: Class Libraries
           Version: SVN
          Platform: x86-64
        OS/Version: All
            Status: NEW
          Severity: Critical
          Priority: P5 - None
         Component: Sys.Web
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jasl at darcysoft.es</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64;
Trident/5.0)

Since I installed 2.8.x branch I was having strange problems in my existing
asp.net application. I was trying to deploy an asp.net 4 website, so I instaled
2.8 branch to get mod-mono-server4 (I use mod_mono and apache 2.2.x)
I compiled from the official 2.8 sources, then I download latest sources from
git (for mono, mod-mono and xsp).
I finally tested against new sources last night. Problems are still presents.
I ported back my application to asp.net 3.5, and restested agains
mod-mono-server2. The problems where still presents. 

At the end I reinstalled 2.6.7 from sources, and all the problems are gone.

These are the problems:
   - Random crashes: HTTP 500 with no info (tells you to look at apache's log).
                     In the error_log file the only thing shown is:

                      [error] (104)Connection reset by peer: read_data failed
                      [error] Command stream corrupted, last command was -1
                     once for each HTTP 500 errors. These errors are randomly
happening in different addresses.
   - Sockets and HTTPRequest timeouts: they are happening also randomly. When
you create an httpwebrequest or webclient to download some data.
   - General slow performance compared to 2.6.x branch, the web literally hangs
the browser some times.

The website use ajax calls to get data from a webservice and several files and
compose the page. These calls are randomly reporting error 500. 

I compiled mod-mono with debug info, enabled debug level in apache's log and in
mod_mono, and haven't seen any other info other than those two lines:
 [error] (104)Connection reset by peer: read_data failed
 [error] Command stream corrupted, last command was -1

Reproducible: Always

Steps to Reproduce:
1. Update the website page several times, the error will be jumping from one
url to another with apparently no patron.
2.
3.
Actual Results:  
Crashes, hangs and timeouts.

Expected Results:  
To work, like in 2.6.x branch.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="105406.html">[Mono-bugs] [Bug 647948] null stream.BaseStream Close/Dispose not throwing exception (unlike MS .Net)
</A></li>
	<LI>Next message: <A HREF="105156.html">[Mono-bugs] [Bug 647990] New random crashes, timeouts and bad performance in asp.net with 2.8.x branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#105155">[ date ]</a>
              <a href="thread.html#105155">[ thread ]</a>
              <a href="subject.html#105155">[ subject ]</a>
              <a href="author.html#105155">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
