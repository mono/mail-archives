<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 645257] New: ArrayAdapter&lt;T&gt;.Add(T item) Fails With Custom Types - Unable to Convert to Android.Runtime.IJavaObject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20645257%5D%20New%3A%20ArrayAdapter%3CT%3E.Add%28T%20item%29%20Fails%0A%20With%20Custom%20Types%20-%20Unable%20to%20Convert%20to%20Android.Runtime.IJavaObject&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="104725.html">
   <LINK REL="Next"  HREF="104744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 645257] New: ArrayAdapter&lt;T&gt;.Add(T item) Fails With Custom Types - Unable to Convert to Android.Runtime.IJavaObject</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20645257%5D%20New%3A%20ArrayAdapter%3CT%3E.Add%28T%20item%29%20Fails%0A%20With%20Custom%20Types%20-%20Unable%20to%20Convert%20to%20Android.Runtime.IJavaObject&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 645257] New: ArrayAdapter&lt;T&gt;.Add(T item) Fails With Custom Types - Unable to Convert to Android.Runtime.IJavaObject">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Oct 10 22:50:06 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="104725.html">[Mono-bugs] [Bug 643006] Application Force Close On Webservice call
</A></li>
        <LI>Next message: <A HREF="104744.html">[Mono-bugs] [Bug 645257] Need to implicitly wrap non-IJavaObject types with an ObjectWrapper instance.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#104726">[ date ]</a>
              <a href="thread.html#104726">[ thread ]</a>
              <a href="subject.html#104726">[ subject ]</a>
              <a href="author.html#104726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=645257">https://bugzilla.novell.com/show_bug.cgi?id=645257</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=645257#c0">https://bugzilla.novell.com/show_bug.cgi?id=645257#c0</A>


           Summary: ArrayAdapter&lt;T&gt;.Add(T item) Fails With Custom Types -
                    Unable to Convert to Android.Runtime.IJavaObject
    Classification: Mono
           Product: MonoDroid
           Version: unspecified
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Runtime
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">pdbarnett at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Beta-Customer
           Blocker: Yes


Description of Problem:
When creating an ArrayAdapter using a custom type, attempts to add a new item
to the array fail.  It appears that the runtime is trying to cast the object to
an Anroid.Runtime.IJavaObject object but the class does not implement this
interface.  Attempting to implement this interface results in further problems
including NullReferenceExceptions.

Steps to reproduce the problem:
1. Define a custom class (e.g., &quot;MyCustomItem&quot;)
2. Instantiate an ArrayAdapter&lt;T&gt; using the type (e.g.,
ArrayAdapter&lt;MyCustomItem&gt; adapter = new ArrayAdapter&lt;MyCustomItem&gt;(...);
3. Add instances of the custom type to the array  (e.g., adapter.Add(new
MyCustomItem());
4.  Run the code.


Actual Results:

Unhandled Exception: System.NotSupportedException: Do not know how to convert
value '(&lt;type.ToString())' of type 'MyCustomItem' into an
Android.Runtime.IJavaObject instance.

Expected Results:

No exception.

How often does this happen? 

Always

Additional Information:

The &lt;type.ToString()&gt; in the error message is actually just the output of
ToString() on the custom type

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="104725.html">[Mono-bugs] [Bug 643006] Application Force Close On Webservice call
</A></li>
	<LI>Next message: <A HREF="104744.html">[Mono-bugs] [Bug 645257] Need to implicitly wrap non-IJavaObject types with an ObjectWrapper instance.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#104726">[ date ]</a>
              <a href="thread.html#104726">[ thread ]</a>
              <a href="subject.html#104726">[ subject ]</a>
              <a href="author.html#104726">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
