<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 646527] New: When Debugger Can't connect, socket seems to stay open
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20646527%5D%20New%3A%20When%20Debugger%20Can%27t%20connect%2C%0A%20socket%20seems%20to%20stay%20open&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="105606.html">
   <LINK REL="Next"  HREF="104923.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 646527] New: When Debugger Can't connect, socket seems to stay open</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20646527%5D%20New%3A%20When%20Debugger%20Can%27t%20connect%2C%0A%20socket%20seems%20to%20stay%20open&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 646527] New: When Debugger Can't connect, socket seems to stay open">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Oct 14 09:13:53 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="105606.html">[Mono-bugs] [Bug 646505] BoundField databinding inconsistency between Mono and MS.NET
</A></li>
        <LI>Next message: <A HREF="104923.html">[Mono-bugs] [Bug 646527] When Debugger Can't connect,	socket seems to stay open
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#104919">[ date ]</a>
              <a href="thread.html#104919">[ thread ]</a>
              <a href="subject.html#104919">[ subject ]</a>
              <a href="author.html#104919">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=646527">https://bugzilla.novell.com/show_bug.cgi?id=646527</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=646527#c0">https://bugzilla.novell.com/show_bug.cgi?id=646527#c0</A>


           Summary: When Debugger Can't connect, socket seems to stay open
    Classification: Mono
           Product: MonoDroid
           Version: SVN
          Platform: x86-64
        OS/Version: Windows 7
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Debugger
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mkestner at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jondick at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US)
AppleWebKit/534.3 (KHTML, like Gecko) Chrome/6.0.472.55 Safari/534.3


Without my device's wifi on, the first time on a fresh run of visual studio, if
I go to debug, the app builds, gets copied over to device fine and then starts
launching, but I just get a blank screen on my phone, and it eventually force
closes.  At this point I have to manually stop debugging, otherwise visual
studio just hangs as if it is debugging, when it's really not.  When I manually
stop debugging I get the error: &quot;The debugger was unable to terminate one or
more processes: [N/A] MonoDroid: The debugger is still attaching to the process
or the process is not currently executing the type of code selected for
debugging.  The debugger may be unstable now.  It is recommended that you save
all files and exit.&quot;.

If I launch the app from the device after this, it launches fine.  If I try
debugging again from visual studio (without restarting visual studio), I get an
error: &quot;only one usage of each socket...&quot; message, but then I can still
manually launch the app on device (the new build of the app gets deployed to
the device fine still).

So it seems if the debugger fails to connect, it is still hanging in limbo and
you can't bind the debugger again the next time you try (unless you restart
visual studio), however the app still compiles fine and gets installed fine on
device.

Now, if I have wifi turned on, on my device, debugging works fine, and the
whole process goes as expected.

So, it looks to me like the debugging routine needs to be a bit more resilient
in figuring out if it can't connect.  Perhaps a simple timeout should be
implemented, and if the device does not attach to the debugger in a reasonable
amount of time (and in this case, a useful error message should be displayed to
the user suggesting to check their wifi, etc.), the debugger should cleanly
quit.  Also, if I force stop debugging, it should quit cleanly enough that I
don't have to restart visual studio to try debugging again.


Reproducible: Always

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>


























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="105606.html">[Mono-bugs] [Bug 646505] BoundField databinding inconsistency between Mono and MS.NET
</A></li>
	<LI>Next message: <A HREF="104923.html">[Mono-bugs] [Bug 646527] When Debugger Can't connect,	socket seems to stay open
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#104919">[ date ]</a>
              <a href="thread.html#104919">[ thread ]</a>
              <a href="subject.html#104919">[ subject ]</a>
              <a href="author.html#104919">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
