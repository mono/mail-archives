<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 546009] New: ComboBox: Set Text property throws exception if using DropDown style and bound to data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20546009%5D%20New%3A%20ComboBox%3A%20Set%20Text%20property%20throws%0A%20exception%20if%20using%20DropDown%20style%20and%20bound%20to%20data&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="093522.html">
   <LINK REL="Next"  HREF="094061.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 546009] New: ComboBox: Set Text property throws exception if using DropDown style and bound to data</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20546009%5D%20New%3A%20ComboBox%3A%20Set%20Text%20property%20throws%0A%20exception%20if%20using%20DropDown%20style%20and%20bound%20to%20data&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 546009] New: ComboBox: Set Text property throws exception if using DropDown style and bound to data">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Oct 11 01:30:16 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="093522.html">[Mono-bugs] [Bug 546007] New: MonoDevelop Mac OS X Dock icon should bounce on quit w/ unsaved items
</A></li>
        <LI>Next message: <A HREF="094061.html">[Mono-bugs] [Bug 546009] ComboBox: Set Text property throws exception if using DropDown style and bound to data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#93523">[ date ]</a>
              <a href="thread.html#93523">[ thread ]</a>
              <a href="subject.html#93523">[ subject ]</a>
              <a href="author.html#93523">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=546009">http://bugzilla.novell.com/show_bug.cgi?id=546009</A>


           Summary: ComboBox: Set Text property throws exception if using
                    DropDown style and bound to data
    Classification: Mono
           Product: Mono: Class Libraries
           Version: SVN
          Platform: x86
        OS/Version: All
            Status: NEW
          Severity: Critical
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">helmut at just-code.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Community User


Description of Problem:
If using a ComboBox in DropDown mode (allowing bound data items + any text),
and there is data bound to the combo box, when now trying to change the
currdent text in the combo box via the Text property, the ComboBox throws an
'Object does not match target type' exception.

Steps to reproduce the problem:
1. Put a ComboBox on any form
2. Set ComboBox.DropDownStyle to ComboBoxStyle.DropDown
3. Use a list of custom objects as the ComboBox.DataSource
4. use ComboBox.Text to set the displayed text to any string value (that is not
contained in the data source!)

Actual Results:
'Object does not match target type' exception

Expected Results:
ComboBox should display the text 

How often does this happen? 
Always

Additional Information:
FIX:
change line 813 of file System.Windows.Forms\ComboBox.cs
from:
textbox_ctrl.Text = GetItemText (value);
to:
textbox_ctrl.Text = value;

GetItemText assumes that the passed value is of the same type as all items in
the bound list, but in this case, the value is of course always of type
System.String

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="093522.html">[Mono-bugs] [Bug 546007] New: MonoDevelop Mac OS X Dock icon should bounce on quit w/ unsaved items
</A></li>
	<LI>Next message: <A HREF="094061.html">[Mono-bugs] [Bug 546009] ComboBox: Set Text property throws exception if using DropDown style and bound to data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#93523">[ date ]</a>
              <a href="thread.html#93523">[ thread ]</a>
              <a href="subject.html#93523">[ subject ]</a>
              <a href="author.html#93523">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
