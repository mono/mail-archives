<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 318809] _wapi_handle_share_release: assertion failed: (info-&gt;handle_refs &gt; 0)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20318809%5D%20_wapi_handle_share_release%3A%20assertion%0A%20failed%3A%20%28info-%3Ehandle_refs%20%3E%200%29&In-Reply-To=bug-318809-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="094071.html">
   <LINK REL="Next"  HREF="094074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 318809] _wapi_handle_share_release: assertion failed: (info-&gt;handle_refs &gt; 0)</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20318809%5D%20_wapi_handle_share_release%3A%20assertion%0A%20failed%3A%20%28info-%3Ehandle_refs%20%3E%200%29&In-Reply-To=bug-318809-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 318809] _wapi_handle_share_release: assertion failed: (info-&gt;handle_refs &gt; 0)">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Oct 23 07:18:50 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="094071.html">[Mono-bugs] [Bug 495957] bundled machine.config files no longer work
</A></li>
        <LI>Next message: <A HREF="094074.html">[Mono-bugs] [Bug 318809] _wapi_handle_share_release: assertion failed: (info-&gt;handle_refs &gt; 0)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#94073">[ date ]</a>
              <a href="thread.html#94073">[ thread ]</a>
              <a href="subject.html#94073">[ subject ]</a>
              <a href="author.html#94073">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=318809">http://bugzilla.novell.com/show_bug.cgi?id=318809</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rkvinge at novell.com</A> added comment
<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=318809#c2">http://bugzilla.novell.com/show_bug.cgi?id=318809#c2</A>


Rolf Bjarne Kvinge &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rkvinge at novell.com</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEEDINFO                    |NEW
                 CC|                            |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rkvinge at novell.com</A>
      Info Provider|<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">trow at ximian.com</A>             |




--- Comment #2 from Rolf Bjarne Kvinge &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rkvinge at novell.com</A>&gt;  2009-10-23 13:18:44 CEST ---
This is happening for moonlight quite often on one of our build bots, while
building moonlight using the 2.6 branch.

I attach the full build log.

Removing the semaphores on the machine using this command:

for ipc in `ipcs | grep linux | awk -F&quot; &quot; '{print $2}'`; do ipcrm -s $ipc; done

fixes it, though the issue returns sooner or later. Lately it has been more
sooner than later actually. The interesting thing is that it's only happening
on 1 of the 10+ buildbots we have (it has never happened on any of the other
bots).

ipcs doesn't seem to reveal much:
# ipcs

------ Shared Memory Segments --------
key        shmid      owner      perms      bytes      nattch     status      
0x0102a683 35192834   root      600        32         44                      
0x0102a69d 35225603   root      600        32         33                      

------ Semaphore Arrays --------
key        semid      owner      perms      nsems     
0x4d03e561 150700032  linux     600        8         
0x00000000 63111169   wwwrun    600        1         
0x00000000 63143938   wwwrun    600        1         
0x00000000 63176707   wwwrun    600        1         
0x00000000 63209476   wwwrun    600        1         
0x00000000 20840453   wwwrun    600        1         
0x00000000 63242246   wwwrun    600        1         
0x4d02a6a9 63307783   wwwrun    600        8         
0x4d02a6f4 21102600   wwwrun    600        8         
0xffffffff 145686537  linux     600        8         
0x00000000 63340554   wwwrun    600        1         
0x00000000 148865035  linux     600        8         
0x00000000 158728204  linux     600        8         
0x00000000 155648013  linux     600        8         
0x00000000 155844622  linux     600        8         
0x00000000 156205071  linux     600        8         

------ Message Queues --------
key        msqid      owner      perms      used-bytes   messages

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="094071.html">[Mono-bugs] [Bug 495957] bundled machine.config files no longer work
</A></li>
	<LI>Next message: <A HREF="094074.html">[Mono-bugs] [Bug 318809] _wapi_handle_share_release: assertion failed: (info-&gt;handle_refs &gt; 0)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#94073">[ date ]</a>
              <a href="thread.html#94073">[ thread ]</a>
              <a href="subject.html#94073">[ subject ]</a>
              <a href="author.html#94073">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
