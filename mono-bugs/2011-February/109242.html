<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 673094] New: Assemblies not loaded consistently in multiple AppDomains
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20673094%5D%20New%3A%20Assemblies%20not%20loaded%20consistently%20in%0A%20multiple%20AppDomains&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="109200.html">
   <LINK REL="Next"  HREF="109243.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 673094] New: Assemblies not loaded consistently in multiple AppDomains</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20673094%5D%20New%3A%20Assemblies%20not%20loaded%20consistently%20in%0A%20multiple%20AppDomains&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 673094] New: Assemblies not loaded consistently in multiple AppDomains">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Feb 17 13:07:35 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="109200.html">[Mono-bugs] [Bug 518530] MonoVS crashes VS when stopping remote debugging after missed breakpoint
</A></li>
        <LI>Next message: <A HREF="109243.html">[Mono-bugs] [Bug 673094] Assemblies not loaded consistently in multiple AppDomains
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109242">[ date ]</a>
              <a href="thread.html#109242">[ thread ]</a>
              <a href="subject.html#109242">[ subject ]</a>
              <a href="author.html#109242">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=673094">https://bugzilla.novell.com/show_bug.cgi?id=673094</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=673094#c0">https://bugzilla.novell.com/show_bug.cgi?id=673094#c0</A>


           Summary: Assemblies not loaded consistently in multiple
                    AppDomains
    Classification: Mono
           Product: Mono: Runtime
           Version: 2.6.x
          Platform: i686
        OS/Version: Linux
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: misc
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mapperso at cisco.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.13)
Gecko/20110103 Fedora/3.6.13-1.fc14 Firefox/3.6.13

The test attached demonstrates that when using the Assembly.Load(byte[]) method
reflected types are perceived differently in two identically built AppDomains.

I also ran this under Monodevelop and captured the application output.  The
first AppDomain loads the assembly as it's referenced (while JITing
DoTest()???).  The second AppDomain appears to load the assembly from the byte
array.

********************** Monodevelop Application Output *********************
Loaded assembly:
/home/mapperso/Projects/GetCustomAttributesTest/ConsoleApp/bin/Debug/ConsoleApp.exe
Loaded assembly: __MetadataTypes
Loaded assembly: __MetadataTypes
Thread started: 
Loaded assembly: __MetadataTypes
Thread started: 
Loaded assembly:
/home/mapperso/Projects/GetCustomAttributesTest/ConsoleApp/bin/Debug/LoadedAssembly.dll
Types compare equal : True
Loaded assembly: data-0x9392a20
Types compare equal : False

Reproducible: Always

Steps to Reproduce:
1.tar xf test.tar.gz
2.mono Program.exe
Actual Results:  
Types compare equal : True
Types compare equal : False

Expected Results:  
Types compare equal : True
Types compare equal : True

I've tested the attached assemblies on 2.6.7, 2.8.2 and a recent build from git
- all have the same behaviour. With Win7/Net3.5 this works as expected.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>






























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="109200.html">[Mono-bugs] [Bug 518530] MonoVS crashes VS when stopping remote debugging after missed breakpoint
</A></li>
	<LI>Next message: <A HREF="109243.html">[Mono-bugs] [Bug 673094] Assemblies not loaded consistently in multiple AppDomains
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109242">[ date ]</a>
              <a href="thread.html#109242">[ thread ]</a>
              <a href="subject.html#109242">[ subject ]</a>
              <a href="author.html#109242">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
