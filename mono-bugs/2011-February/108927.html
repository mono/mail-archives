<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 670844] Error while adding subview using Animator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20670844%5D%20Error%20while%20adding%20subview%20using%20Animator&In-Reply-To=bug-670844-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="108926.html">
   <LINK REL="Next"  HREF="109042.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 670844] Error while adding subview using Animator</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20670844%5D%20Error%20while%20adding%20subview%20using%20Animator&In-Reply-To=bug-670844-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 670844] Error while adding subview using Animator">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Feb 10 02:35:05 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="108926.html">[Mono-bugs] [Bug 670844] Error while adding subview using Animator
</A></li>
        <LI>Next message: <A HREF="109042.html">[Mono-bugs] [Bug 670844] Error while adding subview using Animator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#108927">[ date ]</a>
              <a href="thread.html#108927">[ thread ]</a>
              <a href="subject.html#108927">[ subject ]</a>
              <a href="author.html#108927">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=670844">https://bugzilla.novell.com/show_bug.cgi?id=670844</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=670844#c3">https://bugzilla.novell.com/show_bug.cgi?id=670844#c3</A>


Geoff Norton &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                 CC|                            |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">miguel at novell.com</A>

--- Comment #3 from Geoff Norton &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>&gt; 2011-02-10 07:35:04 UTC ---
The above patches fix the issue here.  Whats going on is Animator creates a
proxy object, that we cannot differentiate from the SharedContentView object
(handles differ, but [self class] is identical) and we presume that this object
is not a direct binding, and direct the call the NSView, but since the Animator
proxy isn't really a SharedContentView, the call to AddSubview crashes when
trying to access internal members it thinks exist on the type.

We can work around this by annotating any method which returns these type of
proxys with an [return: Proxy] attribute, and setting IsDirectBinding to true
in the wrapper, this will ensure we go to the proxy implementation which is
responsible for connecting the appropriate plumbing.

I'm not 100% happy with the approach, but I cannot think of anything better at
this time.

CC miguel for comments, and patches here for discussion/testing.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>







































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="108926.html">[Mono-bugs] [Bug 670844] Error while adding subview using Animator
</A></li>
	<LI>Next message: <A HREF="109042.html">[Mono-bugs] [Bug 670844] Error while adding subview using Animator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#108927">[ date ]</a>
              <a href="thread.html#108927">[ thread ]</a>
              <a href="subject.html#108927">[ subject ]</a>
              <a href="author.html#108927">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
