<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 673449] New: compiler crashes: Not a valid token for the constant table: 0x00000000
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20673449%5D%20New%3A%20compiler%20crashes%3A%20Not%20a%20valid%20token%0A%20for%20the%20constant%20table%3A%200x00000000&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="109281.html">
   <LINK REL="Next"  HREF="109283.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 673449] New: compiler crashes: Not a valid token for the constant table: 0x00000000</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20673449%5D%20New%3A%20compiler%20crashes%3A%20Not%20a%20valid%20token%0A%20for%20the%20constant%20table%3A%200x00000000&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 673449] New: compiler crashes: Not a valid token for the constant table: 0x00000000">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Feb 18 14:48:48 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="109281.html">[Mono-bugs] [Bug 667794] Mono crash when starting MonoDevelop
</A></li>
        <LI>Next message: <A HREF="109283.html">[Mono-bugs] [Bug 673449] compiler crashes: Not a valid token for the constant table: 0x00000000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109282">[ date ]</a>
              <a href="thread.html#109282">[ thread ]</a>
              <a href="subject.html#109282">[ subject ]</a>
              <a href="author.html#109282">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=673449">https://bugzilla.novell.com/show_bug.cgi?id=673449</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=673449#c0">https://bugzilla.novell.com/show_bug.cgi?id=673449#c0</A>


           Summary: compiler crashes: Not a valid token for the constant
                    table: 0x00000000
    Classification: Mono
           Product: Mono: Compilers
           Version: 2.10.x
          Platform: Macintosh
        OS/Version: Mac OS X 10.5
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">msafar at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Hartmut.Luttermann at itemis.de</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.5; de;
rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13

the compiler gives the following output after compilation:

&lt;project-name&gt; (Debug|x86) wird erzeugt

Hauptkompilierung wird ausgef&#252;hrt...
/Library/Frameworks/Mono.framework/Versions/2.10/bin/gmcs /noconfig
&quot;/out:/Users/../../&lt;project-name&gt;.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.Configuration.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.Core.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.Data.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.DirectoryServices.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.Management.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.Runtime.Serialization.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.Security.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.Transactions.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.Web.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.Windows.Forms.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/2.0/System.Xml.dll&quot;
. more dlls and a lot of .cs-files 

Not a valid token for the constant table: 0x00000000
* Assertion at class.c:6417, condition `cindex' not met

Stacktrace:

  at (wrapper managed-to-native)
System.Reflection.MonoField.GetRawConstantValue (System.Reflection.MonoField)
&lt;0xffffffff&gt;
  at Mono.CSharp.MetadataImporter.CreateField
(System.Reflection.FieldInfo,Mono.CSharp.TypeSpec) &lt;0x00395&gt;
  at Mono.CSharp.ImportedTypeDefinition.LoadMembers
(Mono.CSharp.TypeSpec,bool,Mono.CSharp.MemberCache&amp;) &lt;0x00a4d&gt;
  at Mono.CSharp.TypeSpec.InitializeMemberCache (bool) &lt;0x000a3&gt;
  at Mono.CSharp.TypeSpec.get_MemberCache () &lt;0x00027&gt;
  at Mono.CSharp.MemberCache.FindMembers (Mono.CSharp.TypeSpec,string,bool)
&lt;0x0002d&gt;
  at Mono.CSharp.Expression.ConstructorLookup
(Mono.CSharp.ResolveContext,Mono.CSharp.TypeSpec,Mono.CSharp.Arguments&amp;,Mono.CSharp.Location)
&lt;0x00039&gt;
  at Mono.CSharp.New.DoResolve (Mono.CSharp.ResolveContext) &lt;0x004bf&gt;
  at Mono.CSharp.Expression.Resolve
(Mono.CSharp.ResolveContext,Mono.CSharp.ResolveFlags) &lt;0x00037&gt;
  at Mono.CSharp.Expression.Resolve (Mono.CSharp.ResolveContext) &lt;0x00017&gt;
  at Mono.CSharp.Assign.DoResolve (Mono.CSharp.ResolveContext) &lt;0x00021&gt;
  at Mono.CSharp.SimpleAssign.DoResolve (Mono.CSharp.ResolveContext) &lt;0x00019&gt;
  at Mono.CSharp.Expression.Resolve
(Mono.CSharp.ResolveContext,Mono.CSharp.ResolveFlags) &lt;0x00037&gt;
  at Mono.CSharp.Expression.Resolve (Mono.CSharp.ResolveContext) &lt;0x00017&gt;
  at Mono.CSharp.ExpressionStatement.ResolveStatement
(Mono.CSharp.BlockContext) &lt;0x00017&gt;
  at Mono.CSharp.BlockVariableDeclaration.ResolveInitializer
(Mono.CSharp.BlockContext,Mono.CSharp.LocalVariable,Mono.CSharp.Expression)
&lt;0x0006f&gt;
  at Mono.CSharp.BlockVariableDeclaration.Resolve (Mono.CSharp.BlockContext)
&lt;0x00456&gt;
  at Mono.CSharp.Block.Resolve (Mono.CSharp.BlockContext) &lt;0x002da&gt;
  at Mono.CSharp.ParametersBlock.Resolve
(Mono.CSharp.FlowBranching,Mono.CSharp.BlockContext,Mono.CSharp.IMethodData)
&lt;0x000c4&gt;
  at Mono.CSharp.Constructor.Emit () &lt;0x0039f&gt;
  at Mono.CSharp.TypeContainer.EmitConstructors () &lt;0x00262&gt;
  at Mono.CSharp.TypeContainer.EmitType () &lt;0x0013d&gt;
  at Mono.CSharp.ModuleContainer.Emit () &lt;0x001c7&gt;
  at Mono.CSharp.AssemblyDefinition.Emit () &lt;0x00123&gt;
  at Mono.CSharp.Driver.Compile () &lt;0x00451&gt;
  at Mono.CSharp.Driver.Main (string[]) &lt;0x000ab&gt;
  at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_int_object
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;

Native stacktrace:

    0   mono                                0x000b6f09
mono_handle_native_sigsegv + 377
    1   libSystem.B.dylib                   0x930552bb _sigtramp + 43
    2   ???                                 0xffffffff 0x0 + 4294967295
    3   libSystem.B.dylib                   0x930c923a raise + 26
    4   libSystem.B.dylib                   0x930d5679 abort + 73
    5   mono                                0x0024ec3a monoeg_g_logv + 195
    6   mono                                0x0024ec9c monoeg_assertion_message
+ 46
    7   mono                                0x001285c0
mono_class_get_field_default_value + 319
    8   mono                                0x0014fcb7
mono_gc_reference_queue_free + 17299
    9   ???                                 0x04d39478 0x0 + 80974968
    10  ???                                 0x043cadee 0x0 + 71085550
    11  ???                                 0x0438d796 0x0 + 70834070
    12  ???                                 0x0438ccc4 0x0 + 70831300
    13  ???                                 0x043832f0 0x0 + 70791920
    14  ???                                 0x043d234e 0x0 + 71115598
    15  ???                                 0x043d220a 0x0 + 71115274
    16  ???                                 0x04d76980 0x0 + 81226112
    17  ???                                 0x043d1d60 0x0 + 71114080
    18  ???                                 0x043d1d10 0x0 + 71114000
    19  ???                                 0x04d4b252 0x0 + 81048146
    20  ???                                 0x04d4b1a2 0x0 + 81047970
    21  ???                                 0x043d1d60 0x0 + 71114080
    22  ???                                 0x043d1d10 0x0 + 71114000
    23  ???                                 0x04d40bc0 0x0 + 81005504
    24  ???                                 0x04d4dbe8 0x0 + 81058792
    25  ???                                 0x04d4cdf7 0x0 + 81055223
    26  ???                                 0x04d405db 0x0 + 81003995
    27  ???                                 0x04d3f8e5 0x0 + 81000677
    28  ???                                 0x04d3dc48 0x0 + 80993352
    29  ???                                 0x04d3d7e3 0x0 + 80992227
    30  ???                                 0x04e7ce4e 0x0 + 82300494
    31  ???                                 0x043d0368 0x0 + 71107432
    32  ???                                 0x043cf4cc 0x0 + 71103692
    33  ???                                 0x014c3272 0x0 + 21770866
    34  ???                                 0x007d3da4 0x0 + 8207780
    35  ???                                 0x007d419c 0x0 + 8208796
    36  mono                                0x00011474 mono_jit_compile_method
+ 308
    37  mono                                0x001bccd2 mono_runtime_invoke +
138
    38  mono                                0x001bf279 mono_runtime_exec_main +
585
    39  mono                                0x001be6b7 mono_runtime_run_main +
852
    40  mono                                0x00088562 mono_main + 6930
    41  mono                                0x00003d36 start + 54
    42  ???                                 0x00000004 0x0 + 4

Debug info from gdb:

/tmp/mono-gdb-commands.kj9w7o:1: Error in sourced command file:
unable to debug self

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================



Reproducible: Always

Steps to Reproduce:
Don't know which line in .cs-files produces the error. Hopefully, the
stacktrace will tell you the problem.

Actual Results:  
monodevelop (MonoDevelop-20402000.dmg) shows one error with the following text
during building the project:
The compiler appears to have crashed. check the build output pad for details.

Expected Results:  
building project without compiler error.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>


























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="109281.html">[Mono-bugs] [Bug 667794] Mono crash when starting MonoDevelop
</A></li>
	<LI>Next message: <A HREF="109283.html">[Mono-bugs] [Bug 673449] compiler crashes: Not a valid token for the constant table: 0x00000000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109282">[ date ]</a>
              <a href="thread.html#109282">[ thread ]</a>
              <a href="subject.html#109282">[ subject ]</a>
              <a href="author.html#109282">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
