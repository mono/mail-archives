<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 672503] New: Memory leak when repeatedly creating (and disposing of) bitmaps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20672503%5D%20New%3A%20Memory%20leak%20when%20repeatedly%20creating%0A%20%28and%20disposing%20of%29%20bitmaps&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="109181.html">
   <LINK REL="Next"  HREF="109184.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 672503] New: Memory leak when repeatedly creating (and disposing of) bitmaps</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20672503%5D%20New%3A%20Memory%20leak%20when%20repeatedly%20creating%0A%20%28and%20disposing%20of%29%20bitmaps&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 672503] New: Memory leak when repeatedly creating (and disposing of) bitmaps">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Feb 16 08:01:14 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="109181.html">[Mono-bugs] [Bug 504411] Mprotect fails with ENOMEM in GC_remap
</A></li>
        <LI>Next message: <A HREF="109184.html">[Mono-bugs] [Bug 672503] Memory leak when repeatedly creating (and disposing of) bitmaps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109183">[ date ]</a>
              <a href="thread.html#109183">[ thread ]</a>
              <a href="subject.html#109183">[ subject ]</a>
              <a href="author.html#109183">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=672503">https://bugzilla.novell.com/show_bug.cgi?id=672503</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=672503#c0">https://bugzilla.novell.com/show_bug.cgi?id=672503#c0</A>


           Summary: Memory leak when repeatedly creating (and disposing
                    of) bitmaps
    Classification: Mono
           Product: MonoDroid
           Version: unspecified
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Runtime
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">matware at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Beta-Customer
           Blocker: Yes


Description of Problem:
In Preview 12, I ported the Sensors test application to C#.  After running the
ported version I noticed it would crash after a while when the user switched
screen orientation.

The crash would either be a null reference exception on the
base.OnCreate(bundle) or an out of memory exception during the bitmap creation.

The attached application takes quite bit longer to crash than the demo
application was I attempted to make sure that everything that could be user
induced memory leak was removed.

Steps to reproduce the problem:
1. Build and deploy the attached solution to a device
2. Repeatedly rotate the device (60+ in some cases)

Actual Results:
The application will crash with an out of memory exception.

Expected Results:
I would expect the screen to continue to flip forever.

How often does this happen? 
Always

Additional Information:

As a side note, it appears very very easy to generate memory leaks in monodroid
as lots of classes that are can be left to their own devices in Java need to be
disposed of in MonoDroid, and the Dispose method on Activity doesn't appear to
be called by the Destory method or anything else for that matter.


Link to Sensors.Java :
<A HREF="http://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/os/Sensors.html">http://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/os/Sensors.html</A>

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>






























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="109181.html">[Mono-bugs] [Bug 504411] Mprotect fails with ENOMEM in GC_remap
</A></li>
	<LI>Next message: <A HREF="109184.html">[Mono-bugs] [Bug 672503] Memory leak when repeatedly creating (and disposing of) bitmaps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109183">[ date ]</a>
              <a href="thread.html#109183">[ thread ]</a>
              <a href="subject.html#109183">[ subject ]</a>
              <a href="author.html#109183">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
