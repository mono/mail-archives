<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 670475] New: System.Net.Mail.MailAddress generates empty name for recipient if only email specified
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20670475%5D%20New%3A%20System.Net.Mail.MailAddress%20generates%0A%20empty%20name%20for%20recipient%20if%20only%20email%20specified&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="108883.html">
   <LINK REL="Next"  HREF="108860.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 670475] New: System.Net.Mail.MailAddress generates empty name for recipient if only email specified</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20670475%5D%20New%3A%20System.Net.Mail.MailAddress%20generates%0A%20empty%20name%20for%20recipient%20if%20only%20email%20specified&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 670475] New: System.Net.Mail.MailAddress generates empty name for recipient if only email specified">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Feb  8 19:25:22 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="108883.html">[Mono-bugs] [Bug 670469] [SDB] Crash in the debugger when catching	an exception
</A></li>
        <LI>Next message: <A HREF="108860.html">[Mono-bugs] [Bug 670475] System.Net.Mail.MailAddress generates empty name for recipient if only email specified
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#108854">[ date ]</a>
              <a href="thread.html#108854">[ thread ]</a>
              <a href="subject.html#108854">[ subject ]</a>
              <a href="author.html#108854">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=670475">https://bugzilla.novell.com/show_bug.cgi?id=670475</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=670475#c0">https://bugzilla.novell.com/show_bug.cgi?id=670475#c0</A>


           Summary: System.Net.Mail.MailAddress generates empty name for
                    recipient if only email specified
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.8.x
          Platform: x86-64
        OS/Version: Linux
            Status: NEW
          Severity: Minor
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">novell at public.nv-systems.net</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13)
Gecko/20101203 Firefox/3.6.13

When sending mail using System.Net.Mail.SmtpClient() using the following
(relevant) lines of code, not the same email headers are generated when sending
the emails using .NET/Mono.

While sending does work, the result obtained when running the code in
Windows/.NET is much nicer.

Code Example:
System.Net.Mail.MailMessage mailMessage = new System.Net.Mail.MailMessage();
mailMessage.From = sender;
mailMessage.To.Add(new System.Net.Mail.MailAddress(&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">myemail at mydomain.net</A>&quot;))

When creating a MailAddress with only an email specified (it's possible but not
required to also specify a name by providing additional parameters), the name
is set to &quot;&quot; in the header when using Mono, while no name is specified when
using .NET.

For the recipient of the mail, the mail sent to the empty name may look weird,
depending on the mail client. A good example where it looks bad is the mail
client in iOS.

=&gt; When no name is specified while creating a MailAddress, please don't put an
empty &quot;&quot; name field in the header of the mail.


Reproducible: Always

Steps to Reproduce:
1. Use the code specified to send a mail to someone, specifying only a
recipient email address and no name
2. Compare the resulting mail header from code running in Mono and .NET
3. Observe that the mail header generated by .NET looks better

Actual Results:  
Message source (header) of the mail that has been sent using Linux/Mono:

To: &quot;&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">myemail at mydomain.net</A>&gt;


Expected Results:  
Message source (header) of the mail that has been sent using Windows/.NET:

To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">myemail at mydomain.net</A>

- both the mail generated on the windows machine and the mail generated on the
linux machine were sent through the same SMTP server
- tested using Mono 2.8.2 on Gentoo x64

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>











































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="108883.html">[Mono-bugs] [Bug 670469] [SDB] Crash in the debugger when catching	an exception
</A></li>
	<LI>Next message: <A HREF="108860.html">[Mono-bugs] [Bug 670475] System.Net.Mail.MailAddress generates empty name for recipient if only email specified
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#108854">[ date ]</a>
              <a href="thread.html#108854">[ thread ]</a>
              <a href="subject.html#108854">[ subject ]</a>
              <a href="author.html#108854">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
