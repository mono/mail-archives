<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 691423] Socket.Available == 1 when socket.Receive	return 0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20691423%5D%20Socket.Available%20%3D%3D%201%20when%20socket.Receive%0A%09return%200&In-Reply-To=bug-691423-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="111689.html">
   <LINK REL="Next"  HREF="111715.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 691423] Socket.Available == 1 when socket.Receive	return 0</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20691423%5D%20Socket.Available%20%3D%3D%201%20when%20socket.Receive%0A%09return%200&In-Reply-To=bug-691423-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 691423] Socket.Available == 1 when socket.Receive	return 0">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed May  4 03:42:16 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="111689.html">[Mono-bugs] [Bug 691423] Socket.Available == 1 when socket.Receive	return 0
</A></li>
        <LI>Next message: <A HREF="111715.html">[Mono-bugs] [Bug 691423] Socket.Available == 1 when socket.Receive	return 0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#111690">[ date ]</a>
              <a href="thread.html#111690">[ thread ]</a>
              <a href="subject.html#111690">[ subject ]</a>
              <a href="author.html#111690">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=691423">https://bugzilla.novell.com/show_bug.cgi?id=691423</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=691423#c4">https://bugzilla.novell.com/show_bug.cgi?id=691423#c4</A>


--- Comment #4 from Peter Hultqvist &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">peter at endnode.se</A>&gt; 2011-05-04 07:42:16 UTC ---
That was my first attempt at addressing this issue. But that answer only
address the socket.Receive not the socket.Available.

In the following answer Poll and Available is used to determine if a connection
is closed.
<A HREF="http://stackoverflow.com/questions/722240/instantly-detect-client-disconnection-from-server-socket/722265#722265">http://stackoverflow.com/questions/722240/instantly-detect-client-disconnection-from-server-socket/722265#722265</A>

This is the method I have been trying to use but it fails. Even though a
socket.Receive return 0 which indicate a closed connection, socket.Available
still return 1.

<A HREF="http://msdn.microsoft.com/en-us/library/system.net.sockets.socket.available.aspx">http://msdn.microsoft.com/en-us/library/system.net.sockets.socket.available.aspx</A>
I have also read the MSDN documentation about available. There I can only find
that Available is the number of bytes ready to read or that it throws a
SocketException if the connection is closed, nothing about returning 1.

If this is a bug in the documentation I will take this issue elsewhere.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="111689.html">[Mono-bugs] [Bug 691423] Socket.Available == 1 when socket.Receive	return 0
</A></li>
	<LI>Next message: <A HREF="111715.html">[Mono-bugs] [Bug 691423] Socket.Available == 1 when socket.Receive	return 0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#111690">[ date ]</a>
              <a href="thread.html#111690">[ thread ]</a>
              <a href="subject.html#111690">[ subject ]</a>
              <a href="author.html#111690">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
