<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 71203][Nor] Changed - Many Socket Methods Fail when &gt; 1024 File descriptors are Open
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="028781.html">
   <LINK REL="Next"  HREF="028783.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 71203][Nor] Changed - Many Socket Methods Fail when &gt; 1024 File descriptors are Open
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 71203][Nor] Changed - Many Socket Methods Fail when &gt; 1024 File descriptors are Open">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Wed, 11 May 2005 14:45:38 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="028781.html">[Mono-bugs] [Bug 71203][Nor] Changed - Many Socket Methods Fail when &gt; 1024 File descriptors are Open
</A></li>
        <LI> Next message: <A HREF="028783.html">[Mono-bugs] [Bug 74907][Nor] Changed - Plain html file can't be delivered by XSP (Parser Error)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28782">[ date ]</a>
              <a href="thread.html#28782">[ thread ]</a>
              <a href="subject.html#28782">[ subject ]</a>
              <a href="author.html#28782">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:scott@imeem.com.">scott@imeem.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=71203">http://bugzilla.ximian.com/show_bug.cgi?id=71203</A>

--- shadow/71203	2005-05-11 14:15:47.000000000 -0400
+++ shadow/71203.tmp.26888	2005-05-11 14:45:37.000000000 -0400
@@ -241,6 +241,19 @@
 I've been testing 1.1.7, this is definately still an issue for the
 Poll method.
 
 ------- Additional Comments From <A HREF="mailto:scott@imeem.com">scott@imeem.com</A>  2005-05-11 14:15 -------
 Err I forgot to say that repeatedly invoking the Poll() method when
 large numbers of sockets are open will cause Mono to crash.
+
+------- Additional Comments From <A HREF="mailto:scott@imeem.com">scott@imeem.com</A>  2005-05-11 14:45 -------
+More info - the magic number appears to be 1216 - open 1216 sockets
+and then poll them each for read and write (just like the DoPollTest()
+method above) - once it hits socket 1216 it throws a null reference
+exception in Socket:Poll_internal which cannot be caught, this kills
+the mono process.
+
+We've seen this same exception in other tests, even when our code
+isn't using Poll, presumably something internal to the mono class
+libraries is calling this and ultimately killing the process.
+
+I can't figure out the significance of 1216, although it is 1024 + 192?

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="028781.html">[Mono-bugs] [Bug 71203][Nor] Changed - Many Socket Methods Fail when &gt; 1024 File descriptors are Open
</A></li>
	<LI> Next message: <A HREF="028783.html">[Mono-bugs] [Bug 74907][Nor] Changed - Plain html file can't be delivered by XSP (Parser Error)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28782">[ date ]</a>
              <a href="thread.html#28782">[ thread ]</a>
              <a href="subject.html#28782">[ subject ]</a>
              <a href="author.html#28782">[ author ]</a>
         </LI>
       </UL>
</body></html>
