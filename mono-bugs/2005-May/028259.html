<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 74161][Nor] Changed - XmlTextReader.Read blocked when reading Xml from Network Stream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="028258.html">
   <LINK REL="Next"  HREF="028260.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 74161][Nor] Changed - XmlTextReader.Read blocked when reading Xml from Network Stream
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 74161][Nor] Changed - XmlTextReader.Read blocked when reading Xml from Network Stream">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Mon,  2 May 2005 09:12:33 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="028258.html">[Mono-bugs] [Bug 74797][Nor] New - Improper scoping for nested classes.
</A></li>
        <LI> Next message: <A HREF="028260.html">[Mono-bugs] [Bug 52606][Wis] Changed - Code access security implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28259">[ date ]</a>
              <a href="thread.html#28259">[ thread ]</a>
              <a href="subject.html#28259">[ subject ]</a>
              <a href="author.html#28259">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:ximian-bugzilla@winsper.org.uk.">ximian-bugzilla@winsper.org.uk.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=74161">http://bugzilla.ximian.com/show_bug.cgi?id=74161</A>

--- shadow/74161	2005-05-02 08:07:07.000000000 -0400
+++ shadow/74161.tmp.7302	2005-05-02 09:12:33.000000000 -0400
@@ -192,6 +192,20 @@
 despite not reaching the end of the document.
 
 This bug is also present in .Net 1.1 SP1, but Microsoft have confirmed
 it no longer happens in 2.0, so they do consider it a bug.  It's a
 blocker for anyone trying to write a Jabber/XMPP client, so I'm
 willing to help fix this issue as much as I can.
+
+------- Additional Comments From <A HREF="mailto:ximian-bugzilla@winsper.org.uk">ximian-bugzilla@winsper.org.uk</A>  2005-05-02 09:12 -------
+I've done some more reading into this and here's what I found:
+
+The semantics of StreamReader.Read([In, Out] char[], int, int count)
+are such that it will only return if count characters have been read
+or the end of the file is reached.  This is consistent with the
+documentation on MSDN, so Gustavo's solution of commenting out the
+while loop in StreamReader.cs is inappropriate, since it will change
+the behaviour of that method.
+
+The Stream class allows the same Read method to return less than count
+characters, so I'm erring towards suggesting using a different type of
+Stream to read the data.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="028258.html">[Mono-bugs] [Bug 74797][Nor] New - Improper scoping for nested classes.
</A></li>
	<LI> Next message: <A HREF="028260.html">[Mono-bugs] [Bug 52606][Wis] Changed - Code access security implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28259">[ date ]</a>
              <a href="thread.html#28259">[ thread ]</a>
              <a href="subject.html#28259">[ subject ]</a>
              <a href="author.html#28259">[ author ]</a>
         </LI>
       </UL>
</body></html>
