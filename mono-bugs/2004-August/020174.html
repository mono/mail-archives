<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 59909][Nor] Changed - passing classes to C library functions doesn't allow modification
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="020173.html">
   <LINK REL="Next"  HREF="020175.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 59909][Nor] Changed - passing classes to C library functions doesn't allow modification
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 59909][Nor] Changed - passing classes to C library functions doesn't allow modification">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Fri, 27 Aug 2004 20:46:43 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="020173.html">[Mono-bugs] [Bug 58650][Nor] Changed - Memory demanding console program crashes with gc error
</A></li>
        <LI> Next message: <A HREF="020175.html">[Mono-bugs] [Bug 59909][Nor] Changed - passing classes to C library functions doesn't allow modification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20174">[ date ]</a>
              <a href="thread.html#20174">[ thread ]</a>
              <a href="subject.html#20174">[ subject ]</a>
              <a href="author.html#20174">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:bmaurer@users.sf.net.">bmaurer@users.sf.net.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=59909">http://bugzilla.ximian.com/show_bug.cgi?id=59909</A>

--- shadow/59909	2004-06-13 11:47:22.000000000 -0400
+++ shadow/59909.tmp.23224	2004-08-27 20:46:43.000000000 -0400
@@ -54,6 +54,12 @@
 private static extern void testfn([Out] RefInt i) 
  
 So the mechanism for copying the data back from the temporary copy in 
 unmanaged storage to the managed class is there. It just isn't being 
 used without the OutAttribute. 
  
+
+------- Additional Comments From <A HREF="mailto:bmaurer@users.sf.net">bmaurer@users.sf.net</A>  2004-08-27 20:46 -------
+The problem is that by default, reference types which are passed by
+value which are blittable are passed with a pointer. IE, what happens
+is that the unmanaged code gets a referenc to ((char*)o) + sizeof
+(MonoObject)

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="020173.html">[Mono-bugs] [Bug 58650][Nor] Changed - Memory demanding console program crashes with gc error
</A></li>
	<LI> Next message: <A HREF="020175.html">[Mono-bugs] [Bug 59909][Nor] Changed - passing classes to C library functions doesn't allow modification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20174">[ date ]</a>
              <a href="thread.html#20174">[ thread ]</a>
              <a href="subject.html#20174">[ subject ]</a>
              <a href="author.html#20174">[ author ]</a>
         </LI>
       </UL>
</body></html>
