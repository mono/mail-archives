<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 62533][Wis] New - Crashes when calling  runModalForTypes(null); on NSOpenPanel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="019477.html">
   <LINK REL="Next"  HREF="019479.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 62533][Wis] New - Crashes when calling  runModalForTypes(null); on NSOpenPanel
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 62533][Wis] New - Crashes when calling  runModalForTypes(null); on NSOpenPanel">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Thu,  5 Aug 2004 01:48:51 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="019477.html">[Mono-bugs] [Bug 61811][Cri] Changed - just a test bug
</A></li>
        <LI> Next message: <A HREF="019479.html">[Mono-bugs] [Bug 62534][Maj] New - Invalid IL code at IL0178
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19478">[ date ]</a>
              <a href="thread.html#19478">[ thread ]</a>
              <a href="subject.html#19478">[ subject ]</a>
              <a href="author.html#19478">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:jake.macmullin@csiro.au.">jake.macmullin@csiro.au.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=62533">http://bugzilla.ximian.com/show_bug.cgi?id=62533</A>

--- shadow/62533	2004-08-05 01:48:51.000000000 -0400
+++ shadow/62533.tmp.5381	2004-08-05 01:48:51.000000000 -0400
@@ -0,0 +1,245 @@
+Bug#: 62533
+Product: Cocoa#
+Version: 0.1
+OS: 
+OS Details: 10.3.4
+Status: NEW   
+Resolution: 
+Severity: 
+Priority: Wishlist
+Component: Bindings.
+AssignedTo: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>                            
+ReportedBy: <A HREF="mailto:jake.macmullin@csiro.au">jake.macmullin@csiro.au</A>               
+QAContact: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>
+TargetMilestone: ---
+URL: 
+Cc: 
+Summary: Crashes when calling  runModalForTypes(null); on NSOpenPanel
+
+When I call runModalForTypes(null); on an NSOpenPanel from C#
+Sample Code:
+
+    [Export(&quot;openFile:&quot;)]
+    public void openFile(object sender) {
+        NSOpenPanel op = new NSOpenPanel();
+        op.runModalForTypes(null);
+    }
+
+When I run this I get a spinning cursor for a few seconds and then the application crashes with 
+the following message:
+
+Date/Time:      2004-08-05 15:29:13 +1000
+OS Version:     10.3.4 (Build 7H63)
+Report Version: 2
+
+Command: Trend
+Path:    /Users/jakal/Documents/c#/CocoaSharp Examples/TREND/Trend.app/Contents/MacOS/
+Trend
+Version: ??? (???)
+PID:     1638
+Thread:  0
+
+Exception:  EXC_BAD_ACCESS (0x0001)
+Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000
+
+Thread 0 Crashed:
+0   com.apple.AppKit        	0x92f57fc8 -[NSSavePanel(NSSavePanelRuntime) 
+runModalForDirectory:file:types:] + 0x50
+1   libAppKitGlue.dylib     	0x0269c7bc NSOpenPanel_runModalForTypes1 + 0x3c
+2   &lt;&lt;00000000&gt;&gt; 	0x02622610 0 + 0x2622610
+3   &lt;&lt;00000000&gt;&gt; 	0x026224d4 0 + 0x26224d4
+4   &lt;&lt;00000000&gt;&gt; 	0x02621bac 0 + 0x2621bac
+5   &lt;&lt;00000000&gt;&gt; 	0x02621ab4 0 + 0x2621ab4
+6   libmono.0.dylib         	0x0043839c mono_runtime_invoke_array + 0x2e8 (object.c:1632)
+7   libmono.0.dylib         	0x0043ee80 ves_icall_InternalInvoke + 0x234 (icall.c:2194)
+8   &lt;&lt;00000000&gt;&gt; 	0x026219f0 0 + 0x26219f0
+9   &lt;&lt;00000000&gt;&gt; 	0x02621820 0 + 0x2621820
+10  &lt;&lt;00000000&gt;&gt; 	0x02620080 0 + 0x2620080
+11  &lt;&lt;00000000&gt;&gt; 	0x0261f8c4 0 + 0x261f8c4
+12  &lt;&lt;00000000&gt;&gt; 	0x0261e874 0 + 0x261e874
+13  &lt;&lt;00000000&gt;&gt; 	0x025a2bf0 0 + 0x25a2bf0
+14  &lt;&lt;00000000&gt;&gt; 	0x025a28c0 0 + 0x25a28c0
+15  libCocoaSharpGlue.dylib 	0x003d01e0 glue_forwardInvocation + 0x1a0 (Glue.m:211)
+16  com.apple.Foundation    	0x909fcfd0 -[NSObject(NSForwardInvocation) forward::] + 0x198
+17  libobjc.A.dylib         	0x90836810 _objc_msgForward + 0xb0
+18  libobjc.A.dylib         	0x90836734 objc_msgSendv + 0xb4
+19  libCocoaSharpGlue.dylib 	0x003d0508 glue_implementMethod + 0x2cc (Glue.m:255)
+20  com.apple.AppKit        	0x92e77ac0 -[NSApplication sendAction:to:from:] + 0x6c
+21  com.apple.AppKit        	0x92e7e844 -[NSControl sendAction:to:] + 0x60
+22  com.apple.AppKit        	0x92eb8abc -[NSCell _sendActionFrom:] + 0x9c
+23  com.apple.AppKit        	0x92e58500 -[NSCell trackMouse:inRect:ofView:untilMouseUp:] + 
+0x3fc
+24  com.apple.AppKit        	0x92ec96cc -[NSButtonCell trackMouse:inRect:ofView:
+untilMouseUp:] + 0x234
+25  com.apple.AppKit        	0x92e8e904 -[NSControl mouseDown:] + 0x208
+26  com.apple.AppKit        	0x92e02c60 -[NSWindow sendEvent:] + 0x10e4
+27  com.apple.AppKit        	0x92df5324 -[NSApplication sendEvent:] + 0xebc
+28  com.apple.AppKit        	0x92dfd73c -[NSApplication run] + 0x240
+29  libAppKitGlue.dylib     	0x0264374c NSApplication_run0 + 0x54
+30  &lt;&lt;00000000&gt;&gt; 	0x025a2a48 0 + 0x25a2a48
+31  &lt;&lt;00000000&gt;&gt; 	0x025a2918 0 + 0x25a2918
+32  &lt;&lt;00000000&gt;&gt; 	0x00357ad0 0 + 0x357ad0
+33  &lt;&lt;00000000&gt;&gt; 	0x00357978 0 + 0x357978
+34  &lt;&lt;00000000&gt;&gt; 	0x00357888 0 + 0x357888
+35  libmono.0.dylib         	0x00438044 mono_runtime_exec_main + 0x144 (object.c:1503)
+36  libmono.0.dylib         	0x00437c0c mono_runtime_run_main + 0x224 (object.c:1356)
+37  Trend                   	0x00002b64 main + 0xfc (Loader.c:55)
+38  Trend                   	0x000022e4 _start + 0x188 (crt.c:267)
+39  dyld                    	0x8fe1a558 _dyld_start + 0x64
+
+Thread 1:
+0   libSystem.B.dylib       	0x90018be8 semaphore_timedwait_signal_trap + 0x8
+1   libSystem.B.dylib       	0x9000e788 _pthread_cond_wait + 0x268
+2   libmono.0.dylib         	0x0048b3f4 _wapi_handle_wait_signal_handle + 0x64 (handles.c:
+1513)
+3   libmono.0.dylib         	0x00497acc WaitForSingleObjectEx + 0x1ac (wait.c:109)
+4   libmono.0.dylib         	0x004496ec finalizer_thread + 0x70 (gc.c:537)
+5   libmono.0.dylib         	0x00455d18 start_wrapper + 0xdc (threads.c:277)
+6   libmono.0.dylib         	0x004970e8 timed_thread_start_routine + 0xe4 (timed-thread.c:135)
+7   libSystem.B.dylib       	0x900246e8 _pthread_body + 0x28
+
+PPC Thread State:
+  srr0: 0x92f57fc8 srr1: 0x0200f930                vrsave: 0x00000000
+    cr: 0x24004248  xer: 0x00000004   lr: 0x92f57fb4  ctr: 0x908311e0
+    r0: 0x00000000   r1: 0xbfffd550   r2: 0x00000000   r3: 0xbfffd590
+    r4: 0x908926fc   r5: 0x00000000   r6: 0x00000000   r7: 0x00000001
+    r8: 0x00000017   r9: 0x03fdc770  r10: 0x00001b9d  r11: 0x00000000
+   r12: 0x908311e0  r13: 0x00000000  r14: 0x00000100  r15: 0x00000000
+   r16: 0xa2de8104  r17: 0xa2de8104  r18: 0xa2de8104  r19: 0x00000000
+   r20: 0xbfffdd60  r21: 0x01a5aea0  r22: 0xa2de8104  r23: 0x014b2280
+   r24: 0x03fa2aa0  r25: 0x014b22b0  r26: 0x00000001  r27: 0x01a62000
+   r28: 0x00000000  r29: 0x00000000  r30: 0xbfffda50  r31: 0x92f57f88
+
+Binary Images Description:
+    0x1000 -     0x2fff Trend 	/Users/jakal/Documents/c#/CocoaSharp Examples/TREND/
+Trend.app/Contents/MacOS/Trend
+    0xf000 -    0x10fff libgmodule-2.0.0.dylib 	/Library/Frameworks/Mono.framework/Versions/
+1.0/lib/libgmodule-2.0.0.dylib
+   0x17000 -    0x19fff libgthread-2.0.0.dylib 	/Library/Frameworks/Mono.framework/Versions/
+1.0/lib/libgthread-2.0.0.dylib
+   0x3b000 -    0x41fff libintl.3.dylib 	/Library/Frameworks/Mono.framework/Versions/1.0/
+lib/libintl.3.dylib
+  0x12c000 -   0x1acfff libglib-2.0.0.dylib 	/Library/Frameworks/Mono.framework/Versions/
+1.0/lib/libglib-2.0.0.dylib
+  0x3ce000 -   0x3d0fff libCocoaSharpGlue.dylib 	libCocoaSharpGlue.dylib
+  0x3e1000 -   0x4f7fff libmono.0.dylib 	/Library/Frameworks/Mono.framework/Versions/1.0/
+lib/libmono.0.dylib
+ 0x1008000 -  0x1098fff libicuuc.dylib.28 	/Library/Frameworks/Mono.framework/Versions/
+1.0/lib/libicuuc.dylib.28
+ 0x1205000 -  0x12a5fff libicui18n.dylib.28 	/Library/Frameworks/Mono.framework/Versions/
+1.0/lib/libicui18n.dylib.28
+ 0x1b13000 -  0x22d9fff libicudata.dylib.28 	/Library/Frameworks/Mono.framework/Versions/
+1.0/lib/libicudata.dylib.28
+ 0x24df000 -  0x255ffff libFoundationGlue.dylib 	libFoundationGlue.dylib
+ 0x263d000 -  0x272bfff libAppKitGlue.dylib 	libAppKitGlue.dylib
+0x8fe00000 - 0x8fe4ffff dyld 	/usr/lib/dyld
+0x90000000 - 0x90122fff libSystem.B.dylib 	/usr/lib/libSystem.B.dylib
+0x90190000 - 0x9023dfff com.apple.CoreFoundation 6.3.4 (299.31)
+	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
+0x90280000 - 0x904f9fff com.apple.CoreServices.CarbonCore 10.3.4
+	/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
+CarbonCore.framework/Versions/A/CarbonCore
+0x90570000 - 0x905defff com.apple.framework.IOKit 1.3.2 (???)
+	/System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
+0x90610000 - 0x9069afff com.apple.CoreServices.OSServices 3.0.1
+	/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
+OSServices.framework/Versions/A/OSServices
+0x90700000 - 0x90700fff com.apple.CoreServices 10.3 (???)	/System/Library/Frameworks/
+CoreServices.framework/Versions/A/CoreServices
+0x90720000 - 0x90787fff com.apple.audio.CoreAudio 2.1.2	/System/Library/Frameworks/
+CoreAudio.framework/Versions/A/CoreAudio
+0x907f0000 - 0x907f9fff com.apple.DiskArbitration 2.0.3	/System/Library/
+PrivateFrameworks/DiskArbitration.framework/Versions/A/DiskArbitration
+0x90810000 - 0x90810fff com.apple.ApplicationServices 1.0 (???)
+	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/
+ApplicationServices
+0x90830000 - 0x9089ffff libobjc.A.dylib 	/usr/lib/libobjc.A.dylib
+0x90910000 - 0x90983fff com.apple.DesktopServices 1.2.2	/System/Library/
+PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv
+0x909f0000 - 0x90b4bfff com.apple.Foundation 6.3.5 (500.56)
+	/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
+0x90d00000 - 0x90d1bfff com.apple.SystemConfiguration 1.7.1 (???)
+	/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/
+SystemConfiguration
+0x90ec0000 - 0x90ec0fff com.apple.Cocoa 6.3 (???)	/System/Library/Frameworks/
+Cocoa.framework/Versions/A/Cocoa
+0x910b0000 - 0x91101fff com.apple.bom 1.2.4 (63)	/System/Library/PrivateFrameworks/
+Bom.framework/Versions/A/Bom
+0x912a0000 - 0x912bdfff com.apple.audio.SoundManager 3.8
+	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/
+CarbonSound.framework/Versions/A/CarbonSound
+0x912e0000 - 0x912f7fff com.apple.LangAnalysis 1.5.4	/System/Library/Frameworks/
+ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/
+LangAnalysis
+0x91320000 - 0x913defff ColorSync 	/System/Library/Frameworks/
+ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/
+ColorSync
+0x91460000 - 0x91473fff com.apple.speech.synthesis.framework 3.2
+	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/
+SpeechSynthesis.framework/Versions/A/SpeechSynthesis
+0x91560000 - 0x91619fff com.apple.QD 3.4.64 (???)	/System/Library/Frameworks/
+ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD
+0x91670000 - 0x916a8fff com.apple.AE 1.3.2	/System/Library/Frameworks/
+ApplicationServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE
+0x916e0000 - 0x91773fff com.apple.print.framework.PrintCore 3.3
+	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/
+PrintCore.framework/Versions/A/PrintCore
+0x917e0000 - 0x917f0fff com.apple.speech.recognition.framework 3.3
+	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/
+SpeechRecognition.framework/Versions/A/SpeechRecognition
+0x91a90000 - 0x91a90fff com.apple.audio.units.AudioUnit 1.3.2
+	/System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
+0x91ab0000 - 0x91ac4fff libCGATS.A.dylib 	/System/Library/Frameworks/
+ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/
+Resources/libCGATS.A.dylib
+0x91ae0000 - 0x91aebfff libCSync.A.dylib 	/System/Library/Frameworks/
+ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/
+Resources/libCSync.A.dylib
+0x91b10000 - 0x91b2afff libPDFRIP.A.dylib 	/System/Library/Frameworks/
+ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/
+Resources/libPDFRIP.A.dylib
+0x91b50000 - 0x91b5ffff libPSRIP.A.dylib 	/System/Library/Frameworks/
+ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/
+Resources/libPSRIP.A.dylib
+0x91b80000 - 0x91b93fff libRIP.A.dylib 	/System/Library/Frameworks/
+ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/
+Resources/libRIP.A.dylib
+0x92070000 - 0x92096fff com.apple.FindByContent 1.4 (1.2)	/System/Library/Frameworks/
+ApplicationServices.framework/Versions/A/Frameworks/FindByContent.framework/Versions/A/
+FindByContent
+0x920c0000 - 0x922a7fff com.apple.security 2.3 (176)	/System/Library/Frameworks/
+Security.framework/Versions/A/Security
+0x92430000 - 0x92468fff com.apple.LaunchServices 10.3.4 (98.2)
+	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/
+LaunchServices.framework/Versions/A/LaunchServices
+0x92740000 - 0x92777fff com.apple.CFNetwork 1.2.1 (7)	/System/Library/Frameworks/
+CoreServices.framework/Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
+0x927d0000 - 0x92b54fff com.apple.HIToolbox 1.3.3 (???)	/System/Library/Frameworks/
+Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox
+0x92d30000 - 0x92d80fff com.apple.HIServices 1.4.1 (0.0.1d1)
+	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/
+HIServices.framework/Versions/A/HIServices
+0x92dc0000 - 0x932befff com.apple.AppKit 6.3.2 (743.20)	/System/Library/Frameworks/
+AppKit.framework/Versions/C/AppKit
+0x935d0000 - 0x938a8fff com.apple.CoreGraphics 1.203.20 (???)
+	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/
+CoreGraphics.framework/Versions/A/CoreGraphics
+0x939a0000 - 0x939b4fff libcups.2.dylib 	/usr/lib/libcups.2.dylib
+0x939d0000 - 0x939d4fff libmathCommon.A.dylib 	/usr/lib/system/libmathCommon.A.dylib
+0x93b50000 - 0x93bf3fff com.apple.audio.toolbox.AudioToolbox 1.3.2
+	/System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
+0x94060000 - 0x94078fff com.apple.WebServices 1.1.1 (1.1.0)
+	/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/
+WebServicesCore.framework/Versions/A/WebServicesCore
+0x945b0000 - 0x945b9fff libz.1.dylib 	/usr/lib/libz.1.dylib
+0x94610000 - 0x9462afff libresolv.9.dylib 	/usr/lib/libresolv.9.dylib
+0x94650000 - 0x946affff com.apple.SearchKit 1.0.2	/System/Library/Frameworks/
+CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit
+0x94a30000 - 0x94af5fff libxml2.2.dylib 	/usr/lib/libxml2.2.dylib
+0x968d0000 - 0x969b2fff libicucore.A.dylib 	/usr/lib/libicucore.A.dylib
+0x96a20000 - 0x96ae2fff libcrypto.0.9.7.dylib 	/usr/lib/libcrypto.0.9.7.dylib
+0x96b40000 - 0x96b6efff libssl.0.9.7.dylib 	/usr/lib/libssl.0.9.7.dylib
+0x96bf0000 - 0x96c7ffff ATS 	/System/Library/Frameworks/ApplicationServices.framework/
+Versions/A/Frameworks/ATS.framework/Versions/A/ATS
+0x96cb0000 - 0x96d9efff libiconv.2.dylib 	/usr/lib/libiconv.2.dylib
+0x97510000 - 0x97518fff libbsm.dylib 	/usr/lib/libbsm.dylib

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="019477.html">[Mono-bugs] [Bug 61811][Cri] Changed - just a test bug
</A></li>
	<LI> Next message: <A HREF="019479.html">[Mono-bugs] [Bug 62534][Maj] New - Invalid IL code at IL0178
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19478">[ date ]</a>
              <a href="thread.html#19478">[ thread ]</a>
              <a href="subject.html#19478">[ subject ]</a>
              <a href="author.html#19478">[ author ]</a>
         </LI>
       </UL>
</body></html>
