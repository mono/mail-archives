<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 536757] New: ResourceProviderFactory CreateLocalResourceProvider method called with wrong parameter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20536757%5D%20New%3A%20ResourceProviderFactory%0A%20CreateLocalResourceProvider%20method%20called%20with%20wrong%20parameter&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="093006.html">
   <LINK REL="Next"  HREF="092336.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 536757] New: ResourceProviderFactory CreateLocalResourceProvider method called with wrong parameter</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20536757%5D%20New%3A%20ResourceProviderFactory%0A%20CreateLocalResourceProvider%20method%20called%20with%20wrong%20parameter&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 536757] New: ResourceProviderFactory CreateLocalResourceProvider method called with wrong parameter">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Sep  4 02:07:28 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="093006.html">[Mono-bugs] [Bug 536739] When serializing an object tree, properties not called in code do not serialize
</A></li>
        <LI>Next message: <A HREF="092336.html">[Mono-bugs] [Bug 536757] ResourceProviderFactory CreateLocalResourceProvider method called with wrong parameter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#92257">[ date ]</a>
              <a href="thread.html#92257">[ thread ]</a>
              <a href="subject.html#92257">[ subject ]</a>
              <a href="author.html#92257">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=536757">http://bugzilla.novell.com/show_bug.cgi?id=536757</A>


           Summary: ResourceProviderFactory CreateLocalResourceProvider
                    method called with wrong parameter
    Classification: Mono
           Product: Mono: Class Libraries
           Version: SVN
          Platform: x86
        OS/Version: RHEL 5
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Sys.Web
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mika.aalto at tut.fi</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=316758)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=316758">http://bugzilla.novell.com/attachment.cgi?id=316758</A>)
Example application to reproduce this defect

User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1;
Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729;
Media Center PC 6.0; InfoPath.2; OfficeLiveConnector.1.4; OfficeLivePatch.1.3)

Custom resource provider is not used in same way like in MS .NET environment.
Looks like resourcekey and property value is passed in
CreateLocalResourceProvider method. Right value is virtual path.

Example application works with IIS and MS .NET.

Used Mono SVN revision 141291 in testing.


Reproducible: Always

Steps to Reproduce:
1. Run attached example application
2.
3.
Actual Results:  
Description: HTTP 500. Error processing request.

Stack Trace: 

System.ArgumentException: Unknown page: lblHello.Text
  at LocalizationTest.CustomResourceProviderFactory.CreateLocalResourceProvider
(System.String virtualPath) [0x00000] 
  at System.Web.HttpContext.GetResourceProvider (System.String key, Boolean
isLocal) [0x00000] 
  at System.Web.Compilation.TemplateControlCompiler.ResourceProviderHasObject
(System.String key) [0x00000] 
  at System.Web.Compilation.TemplateControlCompiler.AssignPropertyFromResources
(System.Web.UI.ControlBuilder builder, System.Reflection.MemberInfo mi,
System.String attvalue) [0x00000] 
  at
System.Web.Compilation.TemplateControlCompiler.AssignPropertiesFromResources
(System.Web.UI.ControlBuilder builder, System.Type controlType, System.String
attvalue) [0x00000] 
  at
System.Web.Compilation.TemplateControlCompiler.AssignPropertiesFromResources
(System.Web.UI.ControlBuilder builder, System.String attvalue) [0x00000] 
  at
System.Web.Compilation.TemplateControlCompiler.CreateAssignStatementFromAttribute
(System.Web.UI.ControlBuilder builder, System.String id) [0x00000] 
  at System.Web.Compilation.TemplateControlCompiler.CreateControlTree
(System.Web.UI.ControlBuilder builder, Boolean inTemplate, Boolean
childrenAsProperties) [0x00000] 
  at System.Web.Compilation.TemplateControlCompiler.CreateControlTree
(System.Web.UI.ControlBuilder builder, Boolean inTemplate, Boolean
childrenAsProperties) [0x00000] 
  at System.Web.Compilation.TemplateControlCompiler.CreateControlTree
(System.Web.UI.ControlBuilder builder, Boolean inTemplate, Boolean
childrenAsProperties) [0x00000] 
  at System.Web.Compilation.TemplateControlCompiler.CreateMethods () [0x00000] 
  at System.Web.Compilation.PageCompiler.CreateMethods () [0x00000] 
  at System.Web.Compilation.BaseCompiler.ConstructType () [0x00000] 
  at System.Web.Compilation.GenericBuildProvider`1[TParser].GenerateCode ()
[0x00000] 
  at System.Web.Compilation.GenericBuildProvider`1[TParser].GenerateCode
(System.Web.Compilation.AssemblyBuilder assemblyBuilder) [0x00000] 
  at System.Web.Compilation.BuildManager.GenerateAssembly
(System.Web.Compilation.AssemblyBuilder abuilder,
System.Web.Compilation.BuildProviderGroup group, System.Web.VirtualPath vp,
Boolean debug) [0x00000]  

--------------------------------------------------------------------------------
Version information: Mono Version: 2.0.50727.1433; ASP.NET Version:
2.0.50727.1433 

Expected Results:  
Page with language selection drop down list is displayed and hello text is
translated according to selected language.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="093006.html">[Mono-bugs] [Bug 536739] When serializing an object tree, properties not called in code do not serialize
</A></li>
	<LI>Next message: <A HREF="092336.html">[Mono-bugs] [Bug 536757] ResourceProviderFactory CreateLocalResourceProvider method called with wrong parameter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#92257">[ date ]</a>
              <a href="thread.html#92257">[ thread ]</a>
              <a href="subject.html#92257">[ subject ]</a>
              <a href="author.html#92257">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
