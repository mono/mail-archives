<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 540857] New: Call to Futex take close to 2 sec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20540857%5D%20New%3A%20Call%20to%20Futex%20take%20close%20to%202%20sec&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="092938.html">
   <LINK REL="Next"  HREF="092773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 540857] New: Call to Futex take close to 2 sec</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20540857%5D%20New%3A%20Call%20to%20Futex%20take%20close%20to%202%20sec&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 540857] New: Call to Futex take close to 2 sec">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Sep 21 18:58:06 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="092938.html">[Mono-bugs] [Bug 540790] gmcs with nostdlib option crashes on AttributeUsageAttribute
</A></li>
        <LI>Next message: <A HREF="092773.html">[Mono-bugs] [Bug 540857] Call to Futex take close to 2 sec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#92772">[ date ]</a>
              <a href="thread.html#92772">[ thread ]</a>
              <a href="subject.html#92772">[ subject ]</a>
              <a href="author.html#92772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=540857">http://bugzilla.novell.com/show_bug.cgi?id=540857</A>


           Summary: Call to Futex take close to 2 sec
    Classification: Mono
           Product: Mono: Runtime
           Version: 2.4.x
          Platform: x86-64
        OS/Version: SLED 10
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: debug
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">martin at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">amogupta at nvidia.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Description of Problem: We have an exe which is taking more then 2 Seconds for
a call to futex on our development environment. 


Steps to reproduce the problem:
1. Create a folder at location /p4/monolog/P4SubscriptionService_FailedMessages

2. Run Attached exe with using command line &quot;time mono
P4SubscriptionService.Trigger.exe 999900 172.17.32.78 p4admin true false&quot; in
test mode or using 
&quot;time mono P4SubscriptionService.Trigger.exe 999900 172.17.32.78 p4admin false
false&quot; in normal mode

3. Exe will fail as expected as it cant connect to an intranet web service but
notice time spent on futex.


Actual Results: EXE takes 2.4 wall clock second, of that, 0.4s is user-compute,
and 24ms is kernel-compute.  The two seconds wasted is that mysterious futex
call. 


Expected Results: Exe Should at least take sub second to execute because except
for futex everything execute under a sub second time. 


How often does this happen? Every Time, Execution Time varies depending on
machine load and run queue length. We think time spent on futex call is
constant for a machine configuration but may vary from machine to machine. 


Additional Information: Also attached is source code, program is very simple it
make a call to web service and ends. We are running this on SLES 10 machine
which has 128 GB of RAM and four 2.8 GHz Opteron cores. Upgraded to mono
2.4.2.3 version. But this is a production machine with lot of daemon process
running in background.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="092938.html">[Mono-bugs] [Bug 540790] gmcs with nostdlib option crashes on AttributeUsageAttribute
</A></li>
	<LI>Next message: <A HREF="092773.html">[Mono-bugs] [Bug 540857] Call to Futex take close to 2 sec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#92772">[ date ]</a>
              <a href="thread.html#92772">[ thread ]</a>
              <a href="subject.html#92772">[ subject ]</a>
              <a href="author.html#92772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
