<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 541815] New: Unmanaged exception when compiling and not finding a reference
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20541815%5D%20New%3A%20Unmanaged%20exception%20when%20compiling%0A%20and%20not%20finding%20a%20reference&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="092939.html">
   <LINK REL="Next"  HREF="092943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 541815] New: Unmanaged exception when compiling and not finding a reference</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20541815%5D%20New%3A%20Unmanaged%20exception%20when%20compiling%0A%20and%20not%20finding%20a%20reference&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 541815] New: Unmanaged exception when compiling and not finding a reference">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Sep 24 11:06:13 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="092939.html">[Mono-bugs] [Bug 364670] [CECIL] InvalidCastException in Mono.CSharp.Attribute.ResolveConstructor
</A></li>
        <LI>Next message: <A HREF="092943.html">[Mono-bugs] [Bug 541815] Unmanaged exception when compiling and not finding a reference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#92942">[ date ]</a>
              <a href="thread.html#92942">[ thread ]</a>
              <a href="subject.html#92942">[ subject ]</a>
              <a href="author.html#92942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=541815">http://bugzilla.novell.com/show_bug.cgi?id=541815</A>


           Summary: Unmanaged exception when compiling and not finding a
                    reference
    Classification: Mono
           Product: Mono: Compilers
           Version: unspecified
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">aaragoneses at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


The testcase is:
- Use Mono 2.4.3 from the branch (r142210).
- Checkout MonoDevelop from trunk, r142576.

Expected results:
Should throw a normal compilation error.

Current results:
Making all in MonoDevelop.SourceEditor2
make[4]: Entering directory
`/home/knocte/Documents/iDocs/Proyectos/mono/monodevelop/main/src/addins/MonoDevelop.SourceEditor2'
mkdir -p ../../../build/bin
/home/knocte/opt/mono/bin/gmcs -debug -codepage:utf8
/resource:./gtk-gui/gui.stetic /resource:./gtk-gui/objects.xml
/resource:./MonoDevelop.SourceEditor.addin.xml ./AssemblyInfo.cs
/gtk-gui/generated.cs
/gtk-gui/MonoDevelop.SourceEditor.GotoLineNumberWidget.cs
/gtk-gui/MonoDevelop.SourceEditor.OptionPanels.BehaviorPanel.cs
/gtk-gui/MonoDevelop.SourceEditor.OptionPanels.GeneralOptionsPanel.cs
/gtk-gui/MonoDevelop.SourceEditor.OptionPanels.HighlightingPanel.cs./gtk-gui/MonoDevelop.SourceEditor.OptionPanels.MarkerPanel.cs
/gtk-gui/MonoDevelop.SourceEditor.SearchAndReplaceWidget.cs
/MonoDevelop.SourceEditor.Extension/TemplateCodon.cs
/MonoDevelop.SourceEditor.Extension/TemplateExtensionNodeLoader.cs
/MonoDevelop.SourceEditor.OptionPanels/BehaviorPanel.cs
/MonoDevelop.SourceEditor.OptionPanels/GeneralOptionsPanel.cs
/MonoDevelop.SourceEditor.OptionPanels/HighlightingPanel.cs
/MonoDevelop.SourceEditor.OptionPanels/MarkerPanel.cs
/MonoDevelop.SourceEditor/AutoSave.cs
/MonoDevelop.SourceEditor/ClassQuickFinder.cs
/MonoDevelop.SourceEditor/CompileErrorTooltipProvider.cs
/MonoDevelop.SourceEditor/Counters.cs
/MonoDevelop.SourceEditor/DebugValueTooltipProvider.cs
/MonoDevelop.SourceEditor/DebugValueWindow.cs
/MonoDevelop.SourceEditor/DefaultFormatter.cs
/MonoDevelop.SourceEditor/DropDownBox.cs
/MonoDevelop.SourceEditor/DropDownBoxListWindow.cs
/MonoDevelop.SourceEditor/DynamicAbbrevHandler.cs
/MonoDevelop.SourceEditor/EditActions.cs
/MonoDevelop.SourceEditor/ExtensibleTextEditor.cs./MonoDevelop.SourceEditor/GotoLineNumberWidget.cs
/MonoDevelop.SourceEditor/IdeViMode.cs
/MonoDevelop.SourceEditor/ISourceEditorOptions.cs
/MonoDevelop.SourceEditor/LanguageItemTooltipProvider.cs
/MonoDevelop.SourceEditor/LanguageItemWindow.cs
/MonoDevelop.SourceEditor/MarkerOperationsHandler.cs
/MonoDevelop.SourceEditor/SearchAndReplaceWidget.cs
/MonoDevelop.SourceEditor/SourceEditorCommands.cs
/MonoDevelop.SourceEditor/SourceEditorDisplayBinding.cs
/MonoDevelop.SourceEditor/SourceEditorOptions.cs
/MonoDevelop.SourceEditor/SourceEditorView.cs
/MonoDevelop.SourceEditor/SourceEditorWidget.cs
/MonoDevelop.SourceEditor/StyledSourceEditorOptions.cs
/MonoDevelop.SourceEditor/SyntaxModeCodon.cs
/MonoDevelop.SourceEditor/SyntaxModeService.cs 
-out:../../../build/AddIns/MonoDevelop.SourceEditor2.dll -t:library
-r:/home/knocte/opt/mono/lib/pkgconfig/../../lib/mono/gtk-sharp-2.0/glib-sharp.dll
 
-r:/home/knocte/opt/mono/lib/pkgconfig/../../lib/mono/gtk-sharp-2.0/pango-sharp.dll
-r:/home/knocte/opt/mono/lib/pkgconfig/../../lib/mono/gtk-sharp-2.0/atk-sharp.dll
-r:/home/knocte/opt/mono/lib/pkgconfig/../../lib/mono/gtk-sharp-2.0/gdk-sharp.dll
-r:/home/knocte/opt/mono/lib/pkgconfig/../../lib/mono/gtk-sharp-2.0/gtk-sharp.dll
-r:/home/knocte/opt/mono/lib/pkgconfig/../../lib/mono/gtk-sharp-2.0/glib-sharp.dll
  -r:/home/knocte/opt/mono/lib/mono/mono-addins/Mono.Addins.dll   -r:Mono.Cairo
-r:Mono.Posix -r:System -r:System.Core -r:System.Xml
-r:../../../build/AddIns/MonoDevelop.Debugger/MonoDevelop.Debugger.dll
-r:../../../build/AddIns/MonoDevelop.DesignerSupport/MonoDevelop.DesignerSupport.dll
-r:../../../build/AddIns/MonoDevelop.Refactoring/MonoDevelop.Refactoring.dll
-r:../../../build/bin/Mono.Debugging.dll
-r:../../../build/bin/Mono.TextEditor.dll
-r:../../../build/bin/MonoDevelop.Components.dll
-r:../../../build/bin/MonoDevelop.Core.dll
-r:../../../build/bin/MonoDevelop.Core.Gui.dll
-r:../../../build/bin/MonoDevelop.Ide.dll
-r:../../../build/bin/MonoDevelop.Projects.dll
-r:../../../build/bin/MonoDevelop.Projects.Gui.dll

** (/home/knocte/opt/mono/lib/mono/2.0/gmcs.exe:21559): WARNING **: The
following assembly referenced from
/home/knocte/Documents/iDocs/Proyectos/mono/monodevelop/main/build/AddIns/MonoDevelop.Refactoring/MonoDevelop.Refactoring.dll
could not be loaded:
     Assembly:   NRefactory    (assemblyref_index=15)
     Version:    2.1.0.0
     Public Key: (none)
The assembly was not found in the Global Assembly Cache, a path listed in the
MONO_PATH environment variable, or in the location of the executing assembly
(/home/knocte/Documents/iDocs/Proyectos/mono/monodevelop/main/build/AddIns/MonoDevelop.Refactoring/).


** (/home/knocte/opt/mono/lib/mono/2.0/gmcs.exe:21559): WARNING **: Could not
load file or assembly 'NRefactory, Version=2.1.0.0, Culture=neutral,
PublicKeyToken=null' or one of its dependencies.
Stacktrace:

  at (wrapper managed-to-native) System.Reflection.Assembly.GetTypes (bool)
&lt;0x00004&gt;
  at (wrapper managed-to-native) System.Reflection.Assembly.GetTypes (bool)
&lt;0xffffffff&gt;
  at System.Reflection.Assembly.GetTypes () &lt;0x0001b&gt;
  at Mono.CSharp.RootNamespace.ComputeNamespaces (System.Reflection.Assembly)
&lt;0x000fe&gt;
  at Mono.CSharp.RootNamespace.ComputeNamespaces () &lt;0x00103&gt;
  at Mono.CSharp.Driver.LoadReferences () &lt;0x00516&gt;
  at Mono.CSharp.Driver.Compile () &lt;0x002af&gt;
  at Mono.CSharp.Driver.Main (string[]) &lt;0x0006c&gt;
  at (wrapper runtime-invoke) Mono.CSharp.Driver.runtime_invoke_int_object
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;

Native stacktrace:

        /home/knocte/opt/mono/bin/mono [0x80c9769]
        /home/knocte/opt/mono/bin/mono [0x80f3c7b]
        [0xffffe410]
        /home/knocte/opt/mono/bin/mono [0x81942bc]
        /home/knocte/opt/mono/bin/mono [0x8195199]
        /home/knocte/opt/mono/bin/mono [0x8196194]
        /home/knocte/opt/mono/bin/mono(mono_class_init+0x744) [0x8196944]
        /home/knocte/opt/mono/bin/mono(mono_type_get_object+0x162) [0x80fffc2]
        /home/knocte/opt/mono/bin/mono [0x811a18b]
        /home/knocte/opt/mono/bin/mono [0x811e064]
        [0x411368aa]
        [0x4113686c]
        [0x40f4dc8f]
        [0x40f4cd4c]
        [0x40f48be7]
        [0x40f22ad0]
        [0x4069a96d]
        [0x40695203]
        /home/knocte/opt/mono/bin/mono(mono_runtime_exec_main+0x16e)
[0x8110cbe]
        /home/knocte/opt/mono/bin/mono(mono_runtime_run_main+0x16d) [0x81113dd]
        /home/knocte/opt/mono/bin/mono(mono_main+0x18ba) [0x80b1b3a]
        /home/knocte/opt/mono/bin/mono [0x805ae01]
        /lib/libc.so.6(__libc_start_main+0xe5) [0x401825f5]
        /home/knocte/opt/mono/bin/mono [0x805ad31]

Debug info from gdb:

[Thread debugging using libthread_db enabled]
[New Thread 0x402afbb0 (LWP 21559)]
[New Thread 0x40b5eb90 (LWP 21561)]
[New Thread 0x40037b90 (LWP 21560)]
0xffffe430 in __kernel_vsyscall ()
  3 Thread 0x40037b90 (LWP 21560)  0xffffe430 in __kernel_vsyscall ()
  2 Thread 0x40b5eb90 (LWP 21561)  0xffffe430 in __kernel_vsyscall ()
  1 Thread 0x402afbb0 (LWP 21559)  0xffffe430 in __kernel_vsyscall ()

Thread 3 (Thread 0x40037b90 (LWP 21560)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0x4013b3e6 in nanosleep () from /lib/libpthread.so.0
#2  0x081a57f8 in collection_thread (unused=0x0) at collection.c:34
#3  0x40134175 in start_thread () from /lib/libpthread.so.0
#4  0x40239dae in clone () from /lib/libc.so.6

Thread 2 (Thread 0x40b5eb90 (LWP 21561)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0x40139ee5 in sem_wait@@GLIBC_2.1 () from /lib/libpthread.so.0
#2  0x0812c109 in finalizer_thread (unused=0x0) at gc.c:1069
#3  0x081503f6 in start_wrapper (data=0x82dbce8) at threads.c:633
#4  0x081c20e6 in thread_start_routine (args=0x82d1934) at threads.c:286
#5  0x081e2b3a in GC_start_routine (arg=0x35f00) at pthread_support.c:1382
#6  0x40134175 in start_thread () from /lib/libpthread.so.0
#7  0x40239dae in clone () from /lib/libc.so.6

Thread 1 (Thread 0x402afbb0 (LWP 21559)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0x4013abab in read () from /lib/libpthread.so.0
#2  0x080c98e3 in mono_handle_native_sigsegv (signal=11, ctx=0x40032d0c) at
mini-exceptions.c:1566
#3  0x080f3c7b in mono_arch_handle_altstack_exception (sigctx=0x40032d0c,
fault_addr=0x0, stack_ovf=0)
    at exceptions-x86.c:886
#4  &lt;signal handler called&gt;
#5  0x08175c28 in mono_metadata_signature_equal (sig1=0x0, sig2=0x8778df4) at
metadata.c:4185
#6  0x081942bc in check_interface_method_override (class=0x87785cc,
im=0x8778d94, cm=0x8778dd4, require_newslot=1,
    interface_is_explicitly_implemented_by_class=1, slot_is_empty=1,
security_enabled=0) at class.c:2762
#7  0x08195199 in mono_class_setup_vtable_general (class=0x87785cc,
overrides=0x0, onum=0) at class.c:3159
#8  0x08196194 in mono_class_setup_vtable (class=0x87785cc) at class.c:2657
#9  0x08196944 in mono_class_init (class=0x8778cac) at class.c:3873
#10 0x080fffc2 in mono_type_get_object (domain=0x34ea0, type=0x8778d4c) at
reflection.c:6156
#11 0x0811a18b in mono_module_get_types (domain=0x34ea0, image=0x8594790,
exceptions=0xbf9a5ac8,
    exportedOnly=0 '\0') at icall.c:5356
#12 0x0811e064 in ves_icall_System_Reflection_Assembly_GetTypes
(assembly=0x341b70, exportedOnly=0 '\0')
    at icall.c:5394
#13 0x411368aa in ?? ()
#14 0x4113686c in ?? ()
#15 0x40f4dc8f in ?? ()
#16 0x40f4cd4c in ?? ()
#17 0x40f48be7 in ?? ()
#18 0x40f22ad0 in ?? ()
#19 0x4069a96d in ?? ()
#20 0x40695203 in ?? ()
#21 0x08110cbe in mono_runtime_exec_main (method=0x2fb2f8, args=0x34d68,
exc=0x0) at object.c:3317
#22 0x081113dd in mono_runtime_run_main (method=0x82ec194, argc=72,
argv=0xbf9a6088, exc=0x0) at object.c:3105
#23 0x080b1b3a in mono_main (argc=73, argv=0xbf9a6084) at driver.c:972
#24 0x0805ae01 in main (argc=0, argv=0x8778dd4) at main.c:34
#0  0xffffe430 in __kernel_vsyscall ()

=================================================================
Got a SIGSEGV while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries
used by your application.
=================================================================

make[4]: *** [../../../build/AddIns/MonoDevelop.SourceEditor2.dll] Aborted
make[4]: Leaving directory
`/home/knocte/Documents/iDocs/Proyectos/mono/monodevelop/main/src/addins/MonoDevelop.SourceEditor2'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory
`/home/knocte/Documents/iDocs/Proyectos/mono/monodevelop/main/src/addins'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory
`/home/knocte/Documents/iDocs/Proyectos/mono/monodevelop/main/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory
`/home/knocte/Documents/iDocs/Proyectos/mono/monodevelop/main'
make: *** [all-recursive] Error 1

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="092939.html">[Mono-bugs] [Bug 364670] [CECIL] InvalidCastException in Mono.CSharp.Attribute.ResolveConstructor
</A></li>
	<LI>Next message: <A HREF="092943.html">[Mono-bugs] [Bug 541815] Unmanaged exception when compiling and not finding a reference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#92942">[ date ]</a>
              <a href="thread.html#92942">[ thread ]</a>
              <a href="subject.html#92942">[ subject ]</a>
              <a href="author.html#92942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
