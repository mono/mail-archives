<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 542960] New: GetFile.aspx / Download.aspx needs to work properly with wget / curl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20542960%5D%20New%3A%20GetFile.aspx%20/%20Download.aspx%20needs%20to%0A%20work%20properly%20with%20wget%20/%20curl&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="093162.html">
   <LINK REL="Next"  HREF="093159.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 542960] New: GetFile.aspx / Download.aspx needs to work properly with wget / curl</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20542960%5D%20New%3A%20GetFile.aspx%20/%20Download.aspx%20needs%20to%0A%20work%20properly%20with%20wget%20/%20curl&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 542960] New: GetFile.aspx / Download.aspx needs to work properly with wget / curl">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Sep 29 15:38:50 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="093162.html">[Mono-bugs] [Bug 542959] Incorrect IL generated when creating a	delegate
</A></li>
        <LI>Next message: <A HREF="093159.html">[Mono-bugs] [Bug 542960] GetFile.aspx / Download.aspx needs to work properly with wget / curl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#93137">[ date ]</a>
              <a href="thread.html#93137">[ thread ]</a>
              <a href="subject.html#93137">[ subject ]</a>
              <a href="author.html#93137">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=542960">http://bugzilla.novell.com/show_bug.cgi?id=542960</A>


           Summary: GetFile.aspx / Download.aspx needs to work properly
                    with wget / curl
    Classification: Mono
           Product: Mono: Tools
           Version: unspecified
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: MonkeyWrench
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rkvinge at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">ajorgensen at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


There are a couple of problems that have to be resolved here:

Content-Disposition: only works properly if you actually specify the
disposition (inline or attachment).  We need to discern between log files and
other files to do this right because we will not want to download a log file
just to look at it but we do want a tarball to download instead of being
displayed as garbage in-browser.

Content-Length: sending the right content length lets the UA display a progress
bar and helps the user have confidence that the download was complete.

Accept-Encoding: if the UA does not send &quot;Accept-Encoding: gzip&quot; then we must
decompress the stream for it.  It's pretty lame that curl doesn't handle this
but so it is.  Note that the Content-Length will be the compressed or
uncompressed length depending on which we are sending.

As build.mono-project.com gains visibility these problems will become more
obvious to users.  For instance a packager is likely to try to use curl or wget
to download a tarball and may find that it is mysteriously double-gzipped.

A nice URL scheme with invisible redirects would be even more ideal, of course
(something like download/[lane]/[revision]/[filename]) but the above problems
would need to be solved for that case as well.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="093162.html">[Mono-bugs] [Bug 542959] Incorrect IL generated when creating a	delegate
</A></li>
	<LI>Next message: <A HREF="093159.html">[Mono-bugs] [Bug 542960] GetFile.aspx / Download.aspx needs to work properly with wget / curl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#93137">[ date ]</a>
              <a href="thread.html#93137">[ thread ]</a>
              <a href="subject.html#93137">[ subject ]</a>
              <a href="author.html#93137">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
