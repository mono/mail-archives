<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 65414][Nor] Changed - [PATCH] Thread Local Data Slots do not survive nested appdomain transitions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="020449.html">
   <LINK REL="Next"  HREF="020453.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 65414][Nor] Changed - [PATCH] Thread Local Data Slots do not survive nested appdomain transitions
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 65414][Nor] Changed - [PATCH] Thread Local Data Slots do not survive nested appdomain transitions">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Tue,  7 Sep 2004 12:51:35 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="020449.html">[Mono-bugs] [Bug 65414][Nor] Changed - [PATCH] Thread Local Data Slots do not survive nested appdomain transitions
</A></li>
        <LI> Next message: <A HREF="020453.html">[Mono-bugs] [Bug 65459][Nor] Changed - Type lookup ignores delegates defined in the current class.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20450">[ date ]</a>
              <a href="thread.html#20450">[ thread ]</a>
              <a href="subject.html#20450">[ subject ]</a>
              <a href="author.html#20450">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:bmaurer@users.sf.net.">bmaurer@users.sf.net.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=65414">http://bugzilla.ximian.com/show_bug.cgi?id=65414</A>

--- shadow/65414	2004-09-07 12:44:04.000000000 -0400
+++ shadow/65414.tmp.1597	2004-09-07 12:51:35.000000000 -0400
@@ -114,6 +114,13 @@
 you'd know: it causes additional overhead at thread creation and
 destruction and it uses more memory than sticking the per-thread data
 in the per-thread object that is already readily available.
 Making LocalDataStoreSlot hold an integer and use that to index an
 array instead of using an hash table is perfectly fine, but unrelated
 to the rest of the discussion.
+
+------- Additional Comments From <A HREF="mailto:bmaurer@users.sf.net">bmaurer@users.sf.net</A>  2004-09-07 12:51 -------
+&quot;Currently the thread object is shared&quot; -- exactly, this is the 
+problem. [ThreadStatic] is not shared across appdomains, so it helps 
+with this situation. The value of stuff we put in TLS *MUST* not be 
+shared between appdomains, so putting it in the Thread object does 
+not work.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="020449.html">[Mono-bugs] [Bug 65414][Nor] Changed - [PATCH] Thread Local Data Slots do not survive nested appdomain transitions
</A></li>
	<LI> Next message: <A HREF="020453.html">[Mono-bugs] [Bug 65459][Nor] Changed - Type lookup ignores delegates defined in the current class.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20450">[ date ]</a>
              <a href="thread.html#20450">[ thread ]</a>
              <a href="subject.html#20450">[ subject ]</a>
              <a href="author.html#20450">[ author ]</a>
         </LI>
       </UL>
</body></html>
