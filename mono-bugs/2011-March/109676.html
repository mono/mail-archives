<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 676049] New: &quot;Internal compiler error: Method not found&quot; in ecore when referencing class that references Autofac 2.4.4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20676049%5D%20New%3A%20%22Internal%20compiler%20error%3A%20Method%20not%0A%20found%22%20in%20ecore%20when%20referencing%20class%20that%20references%20Autofac%202.4.4&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="109675.html">
   <LINK REL="Next"  HREF="109714.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 676049] New: &quot;Internal compiler error: Method not found&quot; in ecore when referencing class that references Autofac 2.4.4</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20676049%5D%20New%3A%20%22Internal%20compiler%20error%3A%20Method%20not%0A%20found%22%20in%20ecore%20when%20referencing%20class%20that%20references%20Autofac%202.4.4&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 676049] New: &quot;Internal compiler error: Method not found&quot; in ecore when referencing class that references Autofac 2.4.4">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Mar  1 15:14:02 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="109675.html">[Mono-bugs] [Bug 661355] Breakpoints are not hit when debugging	from device
</A></li>
        <LI>Next message: <A HREF="109714.html">[Mono-bugs] [Bug 676049] &quot;Internal compiler error: Method not found&quot; in ecore when referencing class that references Autofac 2.4.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109676">[ date ]</a>
              <a href="thread.html#109676">[ thread ]</a>
              <a href="subject.html#109676">[ subject ]</a>
              <a href="author.html#109676">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=676049">https://bugzilla.novell.com/show_bug.cgi?id=676049</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=676049#c0">https://bugzilla.novell.com/show_bug.cgi?id=676049#c0</A>


           Summary: &quot;Internal compiler error: Method not found&quot; in ecore
                    when referencing class that references Autofac 2.4.4
    Classification: Mono
           Product: Mono: Compilers
           Version: 2.10.x
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">msafar at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">david at dasz.at</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=416899)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=416899">http://bugzilla.novell.com/attachment.cgi?id=416899</A>)
the failing solution

User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US)
AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.98 Safari/534.13

When compiling the attached Kistl.Server.Service32 project, gmcs aborts with
this error:

/srv/.../fail/Kistl.Server.Service32/Kistl.Server.Service32.csproj (default
targets) -&gt;
/srv/.../lib/mono/4.0/Microsoft.CSharp.targets (CoreCompile target) -&gt;

        Program.cs(7,42): error CS0584: Internal compiler error: Method not
found: 'Kistl.Server.Service.Program.CreateMasterContainer'.
        Program.cs(7,42): error CS0201: Only assignment, call, increment,
decrement, and new object expressions can be used as a statement

I've added debug output to gather this stack trace:


Program.cs(7,42): error CS0584: Internal compiler error (ecore): Method not
found: 'Kistl.Server.Service.Program.CreateMasterContainer'.
                  at (wrapper managed-to-native)
System.Reflection.MonoMethodInfo:get_parameter_info
(intptr,System.Reflection.MemberInfo)
                  at System.Reflection.MonoMethodInfo.GetParametersInfo (IntPtr
handle, System.Reflection.MemberInfo member) [0x00000] in &lt;filename unknown&gt;:0
                  at System.Reflection.MonoMethod.GetParameters () [0x00000] in
&lt;filename unknown&gt;:0
                  at Mono.CSharp.MetadataImporter.CreateMethod
(System.Reflection.MethodBase mb, Mono.CSharp.TypeSpec declaringType) [0x00000]
in &lt;filename unknown&gt;:0
                  at Mono.CSharp.ImportedTypeDefinition.LoadMembers
(Mono.CSharp.TypeSpec declaringType, Boolean onlyTypes,
Mono.CSharp.MemberCache&amp; cache) [0x00000] in &lt;filename unknown&gt;:0
                  at Mono.CSharp.TypeSpec.InitializeMemberCache (Boolean
onlyTypes) [0x00000] in &lt;filename unknown&gt;:0
                  at Mono.CSharp.TypeSpec.get_MemberCache () [0x00000] in
&lt;filename unknown&gt;:0
                  at Mono.CSharp.MemberCache.FindMembers (Mono.CSharp.TypeSpec
container, System.String name, Boolean declaredOnly) [0x00000] in &lt;filename
unknown&gt;:0
                  at Mono.CSharp.Expression.MemberLookup
(Mono.CSharp.ResolveContext rc, Mono.CSharp.TypeSpec currentType,
Mono.CSharp.TypeSpec queried_type, System.String name, Int32 arity,
MemberLookupRestrictions restrictions, Location loc) [0x00000] in &lt;filename
unknown&gt;:0
                  at Mono.CSharp.MemberAccess.LookupNameExpression
(Mono.CSharp.ResolveContext rc, MemberLookupRestrictions restrictions)
[0x00000] in &lt;filename unknown&gt;:0
                  at Mono.CSharp.Invocation.DoResolve
(Mono.CSharp.ResolveContext ec) [0x00000] in &lt;filename unknown&gt;:0
                  at Mono.CSharp.Expression.Resolve (Mono.CSharp.ResolveContext
ec, ResolveFlags flags) [0x00000] in &lt;filename unknown&gt;:0

The error vanishes when changing the Kistl.Server.Service/Program.cs &quot;internal
static IContainer CreateMasterContainer()&quot; method to return void.

Reproducible: Always

Steps to Reproduce:
1. xbuild /nologo /v:n /p:Configuration=Linux.Debug
Kistl.Server.Service32/Kistl.Server.Service32.csproj

Actual Results:  
Program.cs(7,42): error CS0584: Internal compiler error: Method not found:
'Kistl.Server.Service.Program.CreateMasterContainer'.

from Kistl.Server.Service32.csproj

Expected Results:  
clean compile.

Please see the attached project for full reproducing source. The contained
Autofac.dll was downloaded from <A HREF="http://code.google.com/p/autofac/downloads/list">http://code.google.com/p/autofac/downloads/list</A>

The attached source is pared down from a bigger project, so please ignore the
funny naming stuff.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="109675.html">[Mono-bugs] [Bug 661355] Breakpoints are not hit when debugging	from device
</A></li>
	<LI>Next message: <A HREF="109714.html">[Mono-bugs] [Bug 676049] &quot;Internal compiler error: Method not found&quot; in ecore when referencing class that references Autofac 2.4.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109676">[ date ]</a>
              <a href="thread.html#109676">[ thread ]</a>
              <a href="subject.html#109676">[ subject ]</a>
              <a href="author.html#109676">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
