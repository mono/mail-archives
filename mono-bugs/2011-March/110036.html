<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 609109] [Regression] Incoming tablular data stream (TDS) remote procedure call (RPC) protocal stream is incorrect.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20609109%5D%20%5BRegression%5D%20Incoming%20tablular%20data%20stream%0A%20%28TDS%29%20remote%20procedure%20call%20%28RPC%29%20protocal%20stream%20is%20incorrect.&In-Reply-To=bug-609109-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="110030.html">
   <LINK REL="Next"  HREF="110037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 609109] [Regression] Incoming tablular data stream (TDS) remote procedure call (RPC) protocal stream is incorrect.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20609109%5D%20%5BRegression%5D%20Incoming%20tablular%20data%20stream%0A%20%28TDS%29%20remote%20procedure%20call%20%28RPC%29%20protocal%20stream%20is%20incorrect.&In-Reply-To=bug-609109-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 609109] [Regression] Incoming tablular data stream (TDS) remote procedure call (RPC) protocal stream is incorrect.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Mar 14 10:37:16 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="110030.html">[Mono-bugs] [Bug 679242] loading PNG looses data -- seems to be forcing premultiplied alpha
</A></li>
        <LI>Next message: <A HREF="110037.html">[Mono-bugs] [Bug 679396] New: System.Console.Readline() fails to echo the first 1-2 characters entered in a console.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110036">[ date ]</a>
              <a href="thread.html#110036">[ thread ]</a>
              <a href="subject.html#110036">[ subject ]</a>
              <a href="author.html#110036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=609109">https://bugzilla.novell.com/show_bug.cgi?id=609109</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=609109#c33">https://bugzilla.novell.com/show_bug.cgi?id=609109#c33</A>


--- Comment #33 from scott fluto &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">srfcanada at hotmail.com</A>&gt; 2011-03-14 14:37:12 UTC ---
Given all the complex problems related to this issue I decided to track down
the patch that originated these issues and found the following patch is where
all these bugs were introduced:

<A HREF="https://github.com/mono/mono/commit/124c0ce55f13ca67cf8f7641a9bb3b034ac7dd5e#mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/TdsComm.cs">https://github.com/mono/mono/commit/124c0ce55f13ca67cf8f7641a9bb3b034ac7dd5e#mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/TdsComm.cs</A>


This patch just basically introduces some performance optimizations but
introduced a lot of bugs as given that most of the subsequent updates to this
class where to try and fix bugs related to this patch. Given that , I tried
reverting back to just before this patch and all our sql server problems
related to the protocal streams have gone away and all our sql server
persistence tests now work. 

Given this is just a performance patch, could we just revert this patch and the
subseqent patches that try to fix issues around this patch. If you want to
reintroduce this performance patch , maybe you could send patches for us to try
and verify. Maybe introduce small changes to help isolate probelms given the
complexity of this code. 

Im not a git expert so Im not sure how to do the revert but I could try and do
the revert and send the patch to you if need be given that this is a critical
problem since we are still on mono 2.4 because of all the problems with the
patch and we really really need to get onto the mono 2.10.

thanks
scott

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>










































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="110030.html">[Mono-bugs] [Bug 679242] loading PNG looses data -- seems to be forcing premultiplied alpha
</A></li>
	<LI>Next message: <A HREF="110037.html">[Mono-bugs] [Bug 679396] New: System.Console.Readline() fails to echo the first 1-2 characters entered in a console.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110036">[ date ]</a>
              <a href="thread.html#110036">[ thread ]</a>
              <a href="subject.html#110036">[ subject ]</a>
              <a href="author.html#110036">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
