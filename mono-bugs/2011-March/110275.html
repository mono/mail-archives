<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 680904] New: Resources.Designer.cs shouldn't be kept under source control
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20680904%5D%20New%3A%20Resources.Designer.cs%20shouldn%27t%20be%0A%20kept%20under%20source%20control&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="110274.html">
   <LINK REL="Next"  HREF="110297.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 680904] New: Resources.Designer.cs shouldn't be kept under source control</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20680904%5D%20New%3A%20Resources.Designer.cs%20shouldn%27t%20be%0A%20kept%20under%20source%20control&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 680904] New: Resources.Designer.cs shouldn't be kept under source control">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Mar 18 12:37:53 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="110274.html">[Mono-bugs] [Bug 680856] Verifier ignores variance constraints
</A></li>
        <LI>Next message: <A HREF="110297.html">[Mono-bugs] [Bug 680904] Resources.Designer.cs shouldn't be kept under source control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110275">[ date ]</a>
              <a href="thread.html#110275">[ thread ]</a>
              <a href="subject.html#110275">[ subject ]</a>
              <a href="author.html#110275">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=680904">https://bugzilla.novell.com/show_bug.cgi?id=680904</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=680904#c0">https://bugzilla.novell.com/show_bug.cgi?id=680904#c0</A>


           Summary: Resources.Designer.cs shouldn't be kept under source
                    control
    Classification: Mono
           Product: MonoDroid
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Enhancement
          Priority: P5 - None
         Component: Tools
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mkestner at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jpryor at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; en-US)
AppleWebKit/534.16 (KHTML, like Gecko) Chrome/10.0.648.127 Safari/534.16

Resources.Designer.cs is currently part of the project and (usually) part of
source control, which can be problematic with TFS users who have the file
marked as Read Only.

Possible fix: 
<A HREF="http://lists.ximian.com/mailman/private/monodroid/2011-March/003742.html">http://lists.ximian.com/mailman/private/monodroid/2011-March/003742.html</A>

A file doesn't have to be statically in the project to provide
Intellisense...to satisfy yourself of this, you can create a WPF project,
reference App.Main() from somewhere, and see how Intellisense handles it. This
function is defined in obj\x86\Debug\App.g.cs, which is automatically generated
and added to the project at build time. This way, it never gets checked in, but
Intellisense still works just like any other file.

I was able to make this work with the following steps:

1) In the Android .csproj file, remove the &lt;Compile
Include=&quot;Resource.designer.cs&quot; /&gt; element
2) Change the &quot;AndroidResgenFile&quot; property to
$(IntermediateOutputPath)\Resource.designer.cs (optional, but cleaner, since
build output shouldn't be intermixed in the same directory with source code)
3) Add an [Output] attribute to the AndroidResgen.ResgenOutputFile property (I
used ildasm\ilasm for this, for testing purposes)
4) In Program Files\MSBuild\Novell\Novell.MonoDroid.Common.targets, add the
following inside the &lt;AndroidResgen /&gt; element: 
    &lt;Output TaskParameter=&quot;ResgenOutputFile&quot; ItemName=&quot;Compile&quot; /&gt;

Now if you build your project, you should end up with a Resource.designer.cs
that's exactly the same as what you have now, but is tucked away with the other
intermediate build files and doesn't show up in the Solution Explorer, which
therefore won't get checked into source control and cause problems. I tried
this and verified that Intellisense works exactly as it did before. I even
added a doc comment to one of my string resources and verified that it still
showed up correctly, in case you ever want to put the name of the file that
generated it there or something.

    -- Ryan Milligan

Reproducible: Always

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="110274.html">[Mono-bugs] [Bug 680856] Verifier ignores variance constraints
</A></li>
	<LI>Next message: <A HREF="110297.html">[Mono-bugs] [Bug 680904] Resources.Designer.cs shouldn't be kept under source control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110275">[ date ]</a>
              <a href="thread.html#110275">[ thread ]</a>
              <a href="subject.html#110275">[ subject ]</a>
              <a href="author.html#110275">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
