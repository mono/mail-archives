<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 678234] Crash while debugging on a real device
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20678234%5D%20Crash%20while%20debugging%20on%20a%20real%20device&In-Reply-To=bug-678234-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="109948.html">
   <LINK REL="Next"  HREF="110041.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 678234] Crash while debugging on a real device</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20678234%5D%20Crash%20while%20debugging%20on%20a%20real%20device&In-Reply-To=bug-678234-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 678234] Crash while debugging on a real device">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Mar  9 14:16:31 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="109948.html">[Mono-bugs] [Bug 678234] Crash while debugging on a real device
</A></li>
        <LI>Next message: <A HREF="110041.html">[Mono-bugs] [Bug 678234] Crash while debugging on a real device
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109949">[ date ]</a>
              <a href="thread.html#109949">[ thread ]</a>
              <a href="subject.html#109949">[ subject ]</a>
              <a href="author.html#109949">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=678234">https://bugzilla.novell.com/show_bug.cgi?id=678234</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=678234#c2">https://bugzilla.novell.com/show_bug.cgi?id=678234#c2</A>


--- Comment #2 from Martin Baulig &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">martin at novell.com</A>&gt; 2011-03-09 19:16:30 UTC ---
Sending this command is deadly to the app:

=====
Mono.Debugger.Soft.dll!Mono.Debugger.Soft.Connection.Send(Mono.Debugger.Soft.Connection.CommandSet
command_set = VM, int command = 7, Mono.Debugger.Soft.Connection.PacketWriter
packet = {Mono.Debugger.Soft.Connection.PacketWriter},
System.Action&lt;Mono.Debugger.Soft.Connection.PacketReader&gt; cb = {Method =
{System.Reflection.RuntimeMethodInfo}}) Line 1205    C#
    
Mono.Debugger.Soft.dll!Mono.Debugger.Soft.Connection.VM_BeginInvokeMethod(long
thread = 1, long method = 913, Mono.Debugger.Soft.ValueImpl this_arg =
{Mono.Debugger.Soft.ValueImpl}, Mono.Debugger.Soft.ValueImpl[] arguments =
{Mono.Debugger.Soft.ValueImpl[0]}, Mono.Debugger.Soft.InvokeFlags flags = 3,
Mono.Debugger.Soft.Connection.InvokeMethodCallback callback = {Method =
{System.Reflection.RuntimeMethodInfo}}, object state =
{Mono.Debugger.Soft.ObjectMirror.InvokeAsyncResult}) Line 1365 + 0xc2 bytes   
C#
    
Mono.Debugger.Soft.dll!Mono.Debugger.Soft.ObjectMirror.BeginInvokeMethod(Mono.Debugger.Soft.VirtualMachine
vm = {Mono.Debugger.Soft.VirtualMachine}, Mono.Debugger.Soft.ThreadMirror
thread = {Mono.Debugger.Soft.ThreadMirror}, Mono.Debugger.Soft.MethodMirror
method = {Mono.Debugger.Soft.MethodMirror}, Mono.Debugger.Soft.Value this_obj =
{Mono.Debugger.Soft.ObjectMirror},
System.Collections.Generic.IList&lt;Mono.Debugger.Soft.Value&gt; arguments =
{Mono.Debugger.Soft.Value[0]}, Mono.Debugger.Soft.InvokeOptions options =
DisableBreakpoints | SingleThreaded, System.AsyncCallback callback = null,
object state = null) Line 200 + 0x1b2 bytes    C#
    
Mono.Debugger.Soft.dll!Mono.Debugger.Soft.ObjectMirror.BeginInvokeMethod(Mono.Debugger.Soft.ThreadMirror
thread = {Mono.Debugger.Soft.ThreadMirror}, Mono.Debugger.Soft.MethodMirror
method = {Mono.Debugger.Soft.MethodMirror},
System.Collections.Generic.IList&lt;Mono.Debugger.Soft.Value&gt; arguments =
{Mono.Debugger.Soft.Value[0]}, Mono.Debugger.Soft.InvokeOptions options =
DisableBreakpoints | SingleThreaded, System.AsyncCallback callback = null,
object state = null) Line 115 + 0x26 bytes    C#
     Mono.Debugging.Soft.dll!Mono.Debugging.Soft.MethodCall.Invoke() Line 1039
+ 0x78 bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.AsyncOperationManager.Invoke(Mono.Debugging.Evaluation.AsyncOperation
methodCall = {Mono.Debugging.Soft.MethodCall}, int timeout = 60000) Line 47 +
0xb bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.ObjectValueAdaptor.AsyncExecute(Mono.Debugging.Evaluation.AsyncOperation
operation = {Mono.Debugging.Soft.MethodCall}, int timeout = 60000) Line 942 +
0x19 bytes    C#
    
Mono.Debugging.Soft.dll!Mono.Debugging.Soft.SoftEvaluationContext.RuntimeInvoke(Mono.Debugger.Soft.MethodMirror
method = {Mono.Debugger.Soft.MethodMirror}, object target =
{Mono.Debugger.Soft.ObjectMirror}, Mono.Debugger.Soft.Value[] values =
{Mono.Debugger.Soft.Value[0]}) Line 132 + 0x39 bytes    C#
    
Mono.Debugging.Soft.dll!Mono.Debugging.Soft.SoftDebuggerAdaptor.CallToString(Mono.Debugging.Evaluation.EvaluationContext
ctx = {Mono.Debugging.Soft.SoftEvaluationContext}, object obj =
{Mono.Debugger.Soft.ObjectMirror}) Line 71 + 0x4c bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.ObjectValueAdaptor.TargetObjectToObject(Mono.Debugging.Evaluation.EvaluationContext
ctx = {Mono.Debugging.Soft.SoftEvaluationContext}, object obj =
{Mono.Debugger.Soft.ObjectMirror}) Line 805 + 0x1d bytes    C#
    
Mono.Debugging.Soft.dll!Mono.Debugging.Soft.SoftDebuggerAdaptor.TargetObjectToObject(Mono.Debugging.Evaluation.EvaluationContext
gctx = {Mono.Debugging.Soft.SoftEvaluationContext}, object obj =
{Mono.Debugger.Soft.ObjectMirror}) Line 1005 + 0xe bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.ExpressionEvaluator.TargetObjectToExpression(Mono.Debugging.Evaluation.EvaluationContext
ctx = {Mono.Debugging.Soft.SoftEvaluationContext}, object obj =
{Mono.Debugger.Soft.ObjectMirror}) Line 80 + 0x2a bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.ObjectValueAdaptor.CreateObjectValueImpl(Mono.Debugging.Evaluation.EvaluationContext
ctx = {Mono.Debugging.Soft.SoftEvaluationContext},
Mono.Debugging.Backend.IObjectValueSource source =
{Mono.Debugging.Evaluation.LiteralValueReference},
Mono.Debugging.Client.ObjectPath path = {Mono.Debugging.Client.ObjectPath},
object obj = {Mono.Debugger.Soft.ObjectMirror},
Mono.Debugging.Client.ObjectValueFlags flags = Field | ReadOnly) Line 307 +
0x23 bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.ObjectValueAdaptor.CreateObjectValue(Mono.Debugging.Evaluation.EvaluationContext
ctx = {Mono.Debugging.Soft.SoftEvaluationContext},
Mono.Debugging.Backend.IObjectValueSource source =
{Mono.Debugging.Evaluation.LiteralValueReference},
Mono.Debugging.Client.ObjectPath path = {Mono.Debugging.Client.ObjectPath},
object obj = {Mono.Debugger.Soft.ObjectMirror},
Mono.Debugging.Client.ObjectValueFlags flags = Field | ReadOnly) Line 64 + 0x1c
bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.ValueReference.OnCreateObjectValue(Mono.Debugging.Client.EvaluationOptions
options = {Mono.Debugging.Client.EvaluationOptions}) Line 133 + 0xac bytes   
C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.LiteralValueReference.OnCreateObjectValue(Mono.Debugging.Client.EvaluationOptions
options = {Mono.Debugging.Client.EvaluationOptions}) Line 116 + 0xb bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.ValueReference.CreateObjectValue(Mono.Debugging.Client.EvaluationOptions
options = {Mono.Debugging.Client.EvaluationOptions}) Line 106 + 0xe bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.ValueReference.CreateObjectValue.AnonymousMethod__0()
Line 93 + 0x11 bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.AsyncEvaluationTracker.Run.AnonymousMethod__0()
Line 73 + 0x14 bytes    C#
    
Mono.Debugging.dll!Mono.Debugging.Evaluation.TimedEvaluator.SafeRun(Mono.Debugging.Evaluation.EvaluatorDelegate
del = {Method = {System.Reflection.RuntimeMethodInfo}}) Line 238 + 0xb bytes   
C#
     Mono.Debugging.dll!Mono.Debugging.Evaluation.TimedEvaluator.Runner() Line
157 + 0xe bytes    C#
     mscorlib.dll!System.Threading.ThreadHelper.ThreadStart_Context(object
state) + 0x63 bytes    
    
mscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext
executionContext, System.Threading.ContextCallback callback, object state, bool
ignoreSyncCtx) + 0xb0 bytes    
    
mscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext
executionContext, System.Threading.ContextCallback callback, object state) +
0x2c bytes    
     mscorlib.dll!System.Threading.ThreadHelper.ThreadStart() + 0x44 bytes    
     [Native to Managed Transition]    
=========

adb logcat:

====
I/MonoDroid-Debugger(31943): Trying to initialize the debugger with options:
--debugger-agent=transport=dt_socket,address=127.0.0.1:8805,server=y,embedding=1
D/dalvikvm(31943): GC_FOR_MALLOC freed 12149 objects / 474216 bytes in 28ms
D/dalvikvm(31943): GC_FOR_MALLOC freed 9991 objects / 472376 bytes in 26ms
W/ActivityManager(14782): Launch timeout has expired, giving up wake lock!
D/skia    (14896): purging 271K from font cache [31 entries]
W/ActivityManager(14782): Activity idle timeout for HistoryRecord{47bc3168
MonoAndroidApplication1.MonoAndroidApplication1/monoandroidapplication1.Activity1}
D/dalvikvm(14896): GC_EXPLICIT freed 2940 objects / 146768 bytes in 96ms
D/lights  (14782): set_light_buttons on=5329233
D/lights  (14782): set_light_buttons on=16777215
D/dalvikvm(31764): GC_EXPLICIT freed 1549 objects / 259800 bytes in 50ms
D/dalvikvm(31875): GC_EXPLICIT freed 459 objects / 21032 bytes in 77ms
D/dalvikvm(14997): GC_EXPLICIT freed 65 objects / 3056 bytes in 72ms
D/dalvikvm(15236): GC_EXPLICIT freed 273 objects / 20280 bytes in 50ms
D/dalvikvm(15242): GC_EXPLICIT freed 1198 objects / 105016 bytes in 35ms
D/dalvikvm(15242): GC_EXPLICIT freed 192 objects / 44040 bytes in 34ms
D/dalvikvm(14782): GC_EXTERNAL_ALLOC freed 12885 objects / 649320 bytes in 80ms
D/dalvikvm(15242): GC_EXPLICIT freed 1023 objects / 69104 bytes in 45ms
D/dalvikvm(15242): GC_EXPLICIT freed 124 objects / 40984 bytes in 34ms
D/dalvikvm(15242): GC_EXPLICIT freed 168 objects / 34224 bytes in 110ms
D/MyHTC   (14997): ImmediateModeProxy LastInterval = 1020
D/MyHTC   (14997): ImmediateModeProxy Nop: LastInterval = 1020
D/MyHTC   (14997): ImmediateModeProxy _setMissedKeepaliveAlarm: offset =
1080000
D/dalvikvm(15242): GC_EXPLICIT freed 1104 objects / 73040 bytes in 40ms
D/dalvikvm(15242): GC_EXPLICIT freed 123 objects / 41528 bytes in 37ms
D/dalvikvm(15242): GC_EXPLICIT freed 1023 objects / 69104 bytes in 35ms
D/dalvikvm(15242): GC_EXPLICIT freed 124 objects / 40984 bytes in 38ms
D/dalvikvm(14896): GC_EXPLICIT freed 4386 objects / 208520 bytes in 125ms
I/ActivityManager(14782): Process
MonoAndroidApplication1.MonoAndroidApplication1 (pid 31943) has died.
V/WindowManager(14782): Remove Window{47cdcca0 Starting
MonoAndroidApplication1.MonoAndroidApplication1 paused=false}:
mSurface=Surface(name=Starting MonoAndroidApplication1.MonoAndroidApplication1,
identity=1826) mExiting=false isAnimating=false app-animation=null
inPendingTransaction=false mDisplayFrozen=false
E/ActivityManager(14782): fail to set top app changed!
D/Sensors (14782): close_akm, fd=124
I/UsageStats(14782): Unexpected resume of com.htc.launcher while already
resumed in MonoAndroidApplication1.MonoAndroidApplication1
====

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>





























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="109948.html">[Mono-bugs] [Bug 678234] Crash while debugging on a real device
</A></li>
	<LI>Next message: <A HREF="110041.html">[Mono-bugs] [Bug 678234] Crash while debugging on a real device
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109949">[ date ]</a>
              <a href="thread.html#109949">[ thread ]</a>
              <a href="subject.html#109949">[ subject ]</a>
              <a href="author.html#109949">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
