<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 379570] New: MWF fails to clean up TextBox context menu after two right clicks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20379570%5D%20New%3A%20MWF%20fails%20to%20clean%20up%20TextBox%20context%0A%20menu%20after%20two%20right%20clicks&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072114.html">
   <LINK REL="Next"  HREF="072127.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 379570] New: MWF fails to clean up TextBox context menu after two right clicks</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20379570%5D%20New%3A%20MWF%20fails%20to%20clean%20up%20TextBox%20context%0A%20menu%20after%20two%20right%20clicks&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 379570] New: MWF fails to clean up TextBox context menu after two right clicks">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Apr 14 02:54:37 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="072114.html">[Mono-bugs] [Bug 370944] Winform design troubles
</A></li>
        <LI>Next message: <A HREF="072127.html">[Mono-bugs] [Bug 379570] MWF fails to clean up TextBox context menu after two right clicks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72115">[ date ]</a>
              <a href="thread.html#72115">[ thread ]</a>
              <a href="subject.html#72115">[ subject ]</a>
              <a href="author.html#72115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=379570">https://bugzilla.novell.com/show_bug.cgi?id=379570</A>


           Summary: MWF fails to clean up TextBox context menu after two
                    right clicks
           Product: Mono: Class Libraries
           Version: SVN
          Platform: i586
        OS/Version: openSUSE 10.3
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">atsushi at ximian.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Development


The context menu of a textbox fails to hide himself after the following
procedure and the textbox shows two or more context menus (and none of them
works after all):

1) set focus to the textbox
2) right click and show the context menu
3) right click again on the text box and show the context menu. The shown
context menu would still work.
4) (move cursor and) right click again. The previous context menu does not get
hidden.

---- pretty simple repro -----
using System;
using System.Windows.Forms;

public class TestForm : Form
{
        public static void Main ()
        {
                Application.Run (new TestForm ());
        }

        public TestForm ()
        {
                TextBox tb = new TextBox ();
                Controls.Add (tb);
        }
}
--------

It ends up to prevent Application.Exit (looks like some threads still remain);
after closing the main window, the context menus still remain.

Additional note:
At 3) the context menu already loses keyboard control (even after the mouse
cursor moves in and the context menu should get activated).


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>



























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072114.html">[Mono-bugs] [Bug 370944] Winform design troubles
</A></li>
	<LI>Next message: <A HREF="072127.html">[Mono-bugs] [Bug 379570] MWF fails to clean up TextBox context menu after two right clicks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72115">[ date ]</a>
              <a href="thread.html#72115">[ thread ]</a>
              <a href="subject.html#72115">[ subject ]</a>
              <a href="author.html#72115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
