<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 384180] New: MWF SWF2k5. csproj ignores namespace on embedding resources
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20384180%5D%20New%3A%20MWF%20SWF2k5.%20csproj%20ignores%20namespace%0A%20on%20embedding%20resources&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072933.html">
   <LINK REL="Next"  HREF="072913.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 384180] New: MWF SWF2k5. csproj ignores namespace on embedding resources</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20384180%5D%20New%3A%20MWF%20SWF2k5.%20csproj%20ignores%20namespace%0A%20on%20embedding%20resources&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 384180] New: MWF SWF2k5. csproj ignores namespace on embedding resources">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Apr 27 09:04:15 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="072933.html">[Mono-bugs] [Bug 384176] SIGSEGV while executing	mod_mono_server2.exe
</A></li>
        <LI>Next message: <A HREF="072913.html">[Mono-bugs] [Bug 384180] MWF SWF2k5.csproj ignores namespace on embedding resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72862">[ date ]</a>
              <a href="thread.html#72862">[ thread ]</a>
              <a href="subject.html#72862">[ subject ]</a>
              <a href="author.html#72862">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=384180">https://bugzilla.novell.com/show_bug.cgi?id=384180</A>


           Summary: MWF SWF2k5.csproj ignores namespace on embedding
                    resources
           Product: Mono: Class Libraries
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">andyhume32 at yahoo.co.uk</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


An app with a PropertyGrid fails with a resource-not-found exception on a
bitmap when using MWF built with SWF2k5.csproj.  Comparing the assembly with
the gmcs-built equivalent shows that all of the resources with namespace paths
simply have the path part missing in the VS built version.

The following change to the project file build script fixes this.  Apparently
the &quot;CustomToolNameSpace&quot; element has no effect in this case, and according to
[1] the full name should simply be placed in the normal &quot;LogicalName&quot; element.

[1]
<A HREF="http://channel9.msdn.com/wiki/default.aspx/MSBuild.OverrideVisualStudioResourceNamingRules">http://channel9.msdn.com/wiki/default.aspx/MSBuild.OverrideVisualStudioResourceNamingRules</A> 

[[
Index: build-csproj2k5
===================================================================
--- build-csproj2k5     (revision 101725)
+++ build-csproj2k5     (working copy)
@@ -231,10 +231,11 @@
        INCLUDE=`echo $INCLUDE | sed 's/\//\\\\/'`

        echo &quot;    &lt;EmbeddedResource Include=\&quot;$INCLUDE\&quot;&gt;&quot;
-       echo &quot;      &lt;LogicalName&gt;$LOGICALNAME&lt;/LogicalName&gt;&quot;
        if test &quot;x$CUSTOMTOOLNAMESPACE&quot; != &quot;x&quot;; then
-           echo &quot;     
&lt;CustomToolNameSpace&gt;$CUSTOMTOOLNAMESPACE&lt;/CustomToolNameSpace&gt;&quot;
+           echo &quot;      &lt;LogicalName&gt;$CUSTOMTOOLNAMESPACE&lt;/LogicalName&gt;&quot;
+       else
+           echo &quot;      &lt;LogicalName&gt;$LOGICALNAME&lt;/LogicalName&gt;&quot;
        fi
        echo &quot;    &lt;/EmbeddedResource&gt;&quot;
   done
echo &quot;  &lt;/ItemGroup&gt;&quot;
]]


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>

























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072933.html">[Mono-bugs] [Bug 384176] SIGSEGV while executing	mod_mono_server2.exe
</A></li>
	<LI>Next message: <A HREF="072913.html">[Mono-bugs] [Bug 384180] MWF SWF2k5.csproj ignores namespace on embedding resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72862">[ date ]</a>
              <a href="thread.html#72862">[ thread ]</a>
              <a href="subject.html#72862">[ subject ]</a>
              <a href="author.html#72862">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
