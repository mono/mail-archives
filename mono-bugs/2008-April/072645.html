<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 381151] DataAdapter returns 0 rows after an SQL	timeout occured
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20381151%5D%20DataAdapter%20returns%200%20rows%20after%20an%20SQL%0A%09timeout%20occured&In-Reply-To=bug-381151-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072641.html">
   <LINK REL="Next"  HREF="072646.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 381151] DataAdapter returns 0 rows after an SQL	timeout occured</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20381151%5D%20DataAdapter%20returns%200%20rows%20after%20an%20SQL%0A%09timeout%20occured&In-Reply-To=bug-381151-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 381151] DataAdapter returns 0 rows after an SQL	timeout occured">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Apr 23 04:27:59 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="072641.html">[Mono-bugs] [Bug 381151] DataAdapter returns 0 rows after an SQL	timeout occured
</A></li>
        <LI>Next message: <A HREF="072646.html">[Mono-bugs] [Bug 381151] DataAdapter returns 0 rows after an SQL	timeout occured
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72645">[ date ]</a>
              <a href="thread.html#72645">[ thread ]</a>
              <a href="subject.html#72645">[ subject ]</a>
              <a href="author.html#72645">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=381151">https://bugzilla.novell.com/show_bug.cgi?id=381151</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">vvaradhan at novell.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=381151#c8">https://bugzilla.novell.com/show_bug.cgi?id=381151#c8</A>


Veerapuram Varadhan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">vvaradhan at novell.com</A>&gt; changed:

           What    |Removed                                         |Added
----------------------------------------------------------------------------
             Status|REOPENED                                        |NEEDINFO
      Info Provider|                                                |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gert.driesen at pandora.be</A>




--- Comment #8 from Veerapuram Varadhan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">vvaradhan at novell.com</A>&gt;  2008-04-23 02:27:58 MST ---
(In reply to comment #4 from Gert Driesen)
&gt;<i> After a timeout, the connection appears to be in an unusable state.
</I>&gt;<i> 
</I>&gt;<i> To reproduce:
</I>&gt;<i> 1. Modify the CreateConnectionString method in the test case to match your
</I>&gt;<i> local setup.
</I>&gt;<i> 2. compile and run the test case.
</I>&gt;<i> 
</I>&gt;<i> Expeced result:
</I>&gt;<i> 
</I>&gt;<i> Record read: True
</I>&gt;<i> 
</I>&gt;<i> Actual result:
</I>&gt;<i> 
</I>&gt;<i> Record read: False
</I>&gt;<i>
</I>Gert: Are you running the code against any test suite?

&gt;<i> Note:
</I>&gt;<i> 
</I>&gt;<i> Even if you execute an invalid SQL statement, the ExecuteReader method will not
</I>&gt;<i> result in a SqlException!
</I>&gt;<i> 
</I>In the fix ExecuteReader, I have removed the current try-catch-throw as
ExecuteReader internally calls Execute which throws the same exception that of
the ExecuteReader.  Also, the fix required not to close on TdsTimeoutException
and the same is handled in Execute.  

Can you give more details as to when ExecuteReader is not throwing a
SqlException? 


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072641.html">[Mono-bugs] [Bug 381151] DataAdapter returns 0 rows after an SQL	timeout occured
</A></li>
	<LI>Next message: <A HREF="072646.html">[Mono-bugs] [Bug 381151] DataAdapter returns 0 rows after an SQL	timeout occured
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72645">[ date ]</a>
              <a href="thread.html#72645">[ thread ]</a>
              <a href="subject.html#72645">[ subject ]</a>
              <a href="author.html#72645">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
