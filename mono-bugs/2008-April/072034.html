<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 378728] WndProc(ref Message m) is not working the same on mono as on . Net
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20378728%5D%20WndProc%28ref%20Message%20m%29%20is%20not%20working%20the%0A%20same%20on%20mono%20as%20on%20.%20Net&In-Reply-To=bug-378728-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="071995.html">
   <LINK REL="Next"  HREF="072192.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 378728] WndProc(ref Message m) is not working the same on mono as on . Net</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20378728%5D%20WndProc%28ref%20Message%20m%29%20is%20not%20working%20the%0A%20same%20on%20mono%20as%20on%20.%20Net&In-Reply-To=bug-378728-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 378728] WndProc(ref Message m) is not working the same on mono as on . Net">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Apr 11 11:03:37 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="071995.html">[Mono-bugs] [Bug 378728] WndProc(ref Message m) is not working the same on mono as on . Net
</A></li>
        <LI>Next message: <A HREF="072192.html">[Mono-bugs] [Bug 378728] LParam missing on key event messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72034">[ date ]</a>
              <a href="thread.html#72034">[ thread ]</a>
              <a href="subject.html#72034">[ subject ]</a>
              <a href="author.html#72034">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=378728">https://bugzilla.novell.com/show_bug.cgi?id=378728</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jpobst at novell.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=378728#c5">https://bugzilla.novell.com/show_bug.cgi?id=378728#c5</A>





--- Comment #5 from Jonathan Pobst &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jpobst at novell.com</A>&gt;  2008-04-11 09:03:37 MST ---
(Emailed to me)

Hi,

If you add the following to the application:

  System.Byte[] lBytes = System.BitConverter.GetBytes(m.LParam.ToInt32());
  Console.WriteLine(&quot;Message.LParam lBytes[2]: &quot; + lBytes[2].ToString());
  Console.WriteLine(&quot;Message.LParam lBytes[3]: &quot; + lBytes[3].ToString());

You will notice that lBytes[2] is an unique code for every key on the keyboard.

e.g. The 1/End on your num. Keypad has the same code regardless the num lock is
pressed.

This means that every key on the keyboard can be used for applications like
terminal emulations regardless of the .Net definition.

A Key press is always keydown, keypress, keyup (all can be read uniquely)

The lBytes[3] is a kind of flag that can be read for finding out shift, ctrl is
pressed.

Also the repeat count of a key can be called out of the LParam.

I have created some workarounds in my application to make it kind of work, but
it would be nice to have the full LParam.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="071995.html">[Mono-bugs] [Bug 378728] WndProc(ref Message m) is not working the same on mono as on . Net
</A></li>
	<LI>Next message: <A HREF="072192.html">[Mono-bugs] [Bug 378728] LParam missing on key event messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72034">[ date ]</a>
              <a href="thread.html#72034">[ thread ]</a>
              <a href="subject.html#72034">[ subject ]</a>
              <a href="author.html#72034">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
