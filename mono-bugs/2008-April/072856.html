<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 384123] New: Boo shell creates invalid IL. This crashes mono runtime.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20384123%5D%20New%3A%20Boo%20shell%20creates%20invalid%20IL.%20This%0A%20crashes%20mono%20runtime.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072855.html">
   <LINK REL="Next"  HREF="072857.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 384123] New: Boo shell creates invalid IL. This crashes mono runtime.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20384123%5D%20New%3A%20Boo%20shell%20creates%20invalid%20IL.%20This%0A%20crashes%20mono%20runtime.&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 384123] New: Boo shell creates invalid IL. This crashes mono runtime.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Apr 26 12:40:06 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="072855.html">[Mono-bugs] [Bug 324871] bind_textdomain_codeset in libc on Solaris
</A></li>
        <LI>Next message: <A HREF="072857.html">[Mono-bugs] [Bug 384127] New: MethodBuilder. GetGenericArguments must return null if method is not generic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72856">[ date ]</a>
              <a href="thread.html#72856">[ thread ]</a>
              <a href="subject.html#72856">[ subject ]</a>
              <a href="author.html#72856">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=384123">https://bugzilla.novell.com/show_bug.cgi?id=384123</A>


           Summary: Boo shell creates invalid IL. This crashes mono runtime.
           Product: Mono: Runtime
           Version: unspecified
          Platform: Other
        OS/Version: Ubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: misc
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">emperon at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Other


To reproduce this bug:

Get boo from boo.codehaus.org (this happpens in boo 0.8.1-)

run booshell by booish.exe
type the following:
callable MyPredicate[of T] (item as T) as bool

&gt;&gt;&gt;<i>def B[of T]():
</I>..    p as MyPredicate[of T] = {item as T|return true}
..

&gt;&gt;&gt;<i>B[of object]()
</I>

/// don't for get to put a &lt;TAB&gt; before p as MyPredicate.... since it's like
python


Boo creates an invalid IL this is a boo bug. But this results in mono runtime
crashing as below:

Stacktrace:

  at Input3Module.B () &lt;0xffffffff&gt;
  at Input3Module.B () &lt;0x00028&gt;
  at Input5Module.Main (string[]) &lt;0x0000a&gt;
  at (wrapper runtime-invoke) Input5Module.runtime_invoke_void_string[]
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
  at (wrapper managed-to-native) System.Reflection.MonoMethod.InternalInvoke
(object,object[]) &lt;0x00004&gt;
  at (wrapper managed-to-native) System.Reflection.MonoMethod.InternalInvoke
(object,object[]) &lt;0xffffffff&gt;
  at System.Reflection.MonoMethod.Invoke
(object,System.Reflection.BindingFlags,System.Reflection.Binder,object[],System.Globalization.CultureInfo)
&lt;0x0009a&gt;
  at System.Reflection.MethodBase.Invoke (object,object[]) &lt;0x0001a&gt;
  at Boo.Lang.Interpreter.AbstractInterpreter.ExecuteEntryPoint
(System.Reflection.Assembly) &lt;0x00079&gt;
  at Boo.Lang.Interpreter.AbstractInterpreter.EvalCompileUnit
(Boo.Lang.Compiler.Ast.CompileUnit) &lt;0x00403&gt;
  at Boo.Lang.Interpreter.AbstractInterpreter.EvalCompilerInput
(Boo.Lang.Compiler.ICompilerInput) &lt;0x00054&gt;
  at Boo.Lang.Interpreter.AbstractInterpreter.Eval (string) &lt;0x000d7&gt;
  at Boo.Lang.Interpreter.InteractiveInterpreter2.InternalLoopEval (string)
&lt;0x00017&gt;
  at Boo.Lang.Interpreter.InteractiveInterpreter2.ConsoleLoopEval () &lt;0x00eb8&gt;
  at Booish2Module.Main (string[]) &lt;0x003ef&gt;
  at (wrapper runtime-invoke) Booish2Module.runtime_invoke_void_string[]
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;

Native stacktrace:

        mono [0x817f546]
        mono [0x807e890]
        [0xffffe440]
        mono(mono_class_inflate_generic_type+0x14) [0x80c1ba4]
        mono [0x80d6ed5]
        mono(mono_class_inflate_generic_method_full+0x44) [0x80c0b44]
        mono(mono_class_inflate_generic_method+0x1e) [0x80c1b8e]
        mono [0x80f6e2d]
        mono [0x80f732c]
        mono [0x80b677a]
        mono(mono_get_method_full+0x69) [0x80b6c59]
        mono [0x8169173]
        mono [0x816aa2e]
        mono [0x816c47b]
        mono [0x8185616]
        [0xb7bf0066]
        [0xb6d9661b]
        [0xb6d9659b]
        mono(mono_runtime_invoke_array+0x1a5) [0x80f3635]
        mono [0x80e5492]
        [0xb6d96265]
        [0xb6d95feb]
        [0xb6d95f4b]
        [0xb6d95d4a]
        [0xb6e6e504]
        [0xb6e7b345]
        [0xb6e7b190]
        [0xb6e7afe8]
        [0xb6e768f9]
        [0xb796c630]
        [0xb796c1c3]
        mono(mono_runtime_exec_main+0xb8) [0x80f4908]
        mono(mono_runtime_run_main+0x1b4) [0x80f5d54]
        mono(mono_main+0xfbf) [0x8059ddf]
        mono [0x8058932]
        /lib/tls/i686/cmov/libc.so.6(__libc_start_main+0xe0) [0xb7d37050]
        mono [0x8058881]

Debug info from gdb:

(no debugging symbols found)
Using host libthread_db library &quot;/lib/tls/i686/cmov/libthread_db.so.1&quot;.
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
[Thread debugging using libthread_db enabled]
[New Thread -1210976560 (LWP 22106)]
[New Thread -1220658288 (LWP 22108)]
[New Thread -1208493168 (LWP 22107)]
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
0xffffe410 in __kernel_vsyscall ()
  3 Thread -1208493168 (LWP 22107)  0xffffe410 in __kernel_vsyscall ()
  2 Thread -1220658288 (LWP 22108)  0xffffe410 in __kernel_vsyscall ()
  1 Thread -1210976560 (LWP 22106)  0xffffe410 in __kernel_vsyscall ()

Thread 3 (Thread -1208493168 (LWP 22107)):
#0  0xffffe410 in __kernel_vsyscall ()
#1  0xb7e809f6 in ?? () from /lib/tls/i686/cmov/libpthread.so.0
#2  0x08124a3e in ?? ()
#3  0xb7f7d3a4 in ?? ()
#4  0x00000000 in ?? ()

Thread 2 (Thread -1220658288 (LWP 22108)):
#0  0xffffe410 in __kernel_vsyscall ()
#1  0xb7e7d676 in pthread_cond_wait@@GLIBC_2.3.2 ()
   from /lib/tls/i686/cmov/libpthread.so.0
#2  0x081140df in ?? ()
#3  0xb78dd1dc in ?? ()
#4  0xb78dd1c4 in ?? ()
#5  0x082363e4 in ?? ()
#6  0xb7f7221c in ?? () from /usr/lib/libglib-2.0.so.0
#7  0x08964420 in ?? ()
#8  0xb7e7c8ac in __pthread_mutex_unlock_usercnt ()
   from /lib/tls/i686/cmov/libpthread.so.0
#9  0x08116a26 in ?? ()
#10 0x00000000 in ?? ()

Thread 1 (Thread -1210976560 (LWP 22106)):
#0  0xffffe410 in __kernel_vsyscall ()
#1  0xb7ded2a1 in select () from /lib/tls/i686/cmov/libc.so.6
#2  0xb7f16780 in g_spawn_sync () from /usr/lib/libglib-2.0.so.0
#3  0xb7f16b4c in g_spawn_command_line_sync () from /usr/lib/libglib-2.0.so.0
#4  0x0817f5da in ?? ()
#5  0xb7bef3b4 in ?? ()
#6  0xb7befc48 in ?? ()
#7  0xb7befc44 in ?? ()
#8  0xb7befc40 in ?? ()
#9  0x00000000 in ?? ()
#0  0xffffe410 in __kernel_vsyscall ()


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>


















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072855.html">[Mono-bugs] [Bug 324871] bind_textdomain_codeset in libc on Solaris
</A></li>
	<LI>Next message: <A HREF="072857.html">[Mono-bugs] [Bug 384127] New: MethodBuilder. GetGenericArguments must return null if method is not generic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72856">[ date ]</a>
              <a href="thread.html#72856">[ thread ]</a>
              <a href="subject.html#72856">[ subject ]</a>
              <a href="author.html#72856">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
