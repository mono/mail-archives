<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 381922] New:	System.Runtime.Serialization.SerializationException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20381922%5D%20New%3A%0A%09System.Runtime.Serialization.SerializationException&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="072470.html">
   <LINK REL="Next"  HREF="072533.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 381922] New:	System.Runtime.Serialization.SerializationException</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20381922%5D%20New%3A%0A%09System.Runtime.Serialization.SerializationException&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 381922] New:	System.Runtime.Serialization.SerializationException">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Apr 21 09:32:09 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="072470.html">[Mono-bugs] [Bug 325122] Form: Resize event not fired on minimize
</A></li>
        <LI>Next message: <A HREF="072533.html">[Mono-bugs] [Bug 381922]	System.Runtime.Serialization.SerializationException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72471">[ date ]</a>
              <a href="thread.html#72471">[ thread ]</a>
              <a href="subject.html#72471">[ subject ]</a>
              <a href="author.html#72471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=381922">https://bugzilla.novell.com/show_bug.cgi?id=381922</A>


           Summary: System.Runtime.Serialization.SerializationException
           Product: Mono: Class Libraries
           Version: 1.9.0
          Platform: All
        OS/Version: SLED 10
            Status: NEW
          Severity: Blocker
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mvl at oseb.be</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Description of Problem:

I have the following:

A server application running either on XP, Vista  .Net 2.0 or SLED 10.3 mono
1.9.
A Client application running eiter on XP, Vista .Net 2.0 or SLED 10.3 mono 1.9  

I am using Remoting Binary channels tcp.

Everythings works fine between XP and Vista

If the Server piece is on mono the client gets the following error on XP or
Vista when connecting to the server piece:

-------------

System.Runtime.Serialization.SerializationException: Field &quot;_key&quot; not found in
class System.Collections.DictionaryEntry

Server stack trace: 
  at
System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadTypeMetadata
(System.IO.BinaryReader reader, Boolean isRuntimeObject, Boolean hasTypeInfo)
[0x00000]
  at
System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadObjectInstance
(System.IO.BinaryReader reader, Boolean isRuntimeObject, Boolean hasTypeInfo,
System.Int64&amp; objectId, System.Object&amp; value,
System.Runtime.Serialization.SerializationInfo&amp; info) [0x00000]
  at System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadObject
(BinaryElement element, System.IO.BinaryReader reader, System.Int64&amp; objectId,
System.Object&amp; value, System.Runtime.Serialization.SerializationInfo&amp; info)
[0x00000]
  at System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadValue
(System.IO.BinaryReader reader, System.Object parentObject, Int64
parentObjectId, System.Runtime.Serialization.SeriaA first chance exception of
type 'System.Runtime.Serialization.SerializationException' occurred in
mscorlib.dll lizationInfo info, System.Type valueType, System.String fieldName,
System.Reflection.MemberInfo memberInfo, System.Int32[] indices) [0x00000]
  at
System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadGenericArray
(System.IO.BinaryReader reader, System.Int64&amp; objectId, System.Object&amp; val)
[0x00000]
  at System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadObject
(BinaryElement element, System.IO.BinaryReader reader, System.Int64&amp; objectId,
System.Object&amp; value, System.Runtime.Serialization.SerializationInfo&amp; info)
[0x00000]
  at System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadNextObject
(System.IO.BinaryReader reader) [0x00000]
  at
System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadObjectGraph
(System.IO.BinaryReader reader, Boolean readHeaders, System.Object&amp; result,
System.Runtime.Remoting.Messaging.Header[]&amp; headers) [0x00000]
  at
System.Runtime.Serialization.Formatters.Binary.MessageFormatter.ReadMethodCall
(System.IO.BinaryReader reader, Boolean hasHeaders,
System.Runtime.Remoting.Messaging.HeaderHandler headerHandler,
System.Runtime.Serialization.Formatters.Binary.BinaryFormatter formatter)
[0x00000]
  at
System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.NoCheckDeserialize
(System.IO.Stream serializationStream,
System.Runtime.Remoting.Messaging.HeaderHandler handler) [0x00000]
  at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize
(System.IO.Stream serializationStream,
System.Runtime.Remoting.Messaging.HeaderHandler handler) [0x00000]
  at System.Runtime.Remoting.Channels.BinaryServerFormatterSink.ProcessMessage
(IServerChannelSinkStack sinkStack, IMessage requestMsg, ITransportHeaders
requestHeaders, System.IO.Stream requestStream, IMessage&amp; responseMsg,
ITransportHeaders&amp; responseHeaders, System.IO.Stream&amp; responseStream) [0x00000] 

----------------

if the client piece is run on mono I get the following error when connecting to
de server piece on XP or Vista

----------------
Unhandled Exception: System.NotSupportedException: Collection is read-only
  at System.Collections.Specialized.NameValueCollection.Set (System.String
name, System.String value) [0x00000]
  at System.Collections.Specialized.NameValueCollection.set_Item (System.String
name, System.String value) [0x00000]
  at AppGenie.Integrity.ProxyTerminal+Terminal.Connect () [0x00000]
  at (wrapper remoting-invoke-with-check) Terminal:Connect ()
  at Client.Console.button3_Click (System.Object sender, System.EventArgs e)
[0x00000]
  at System.Windows.Forms.Control.OnClick (System.EventArgs e) [0x00000]
  at System.Windows.Forms.Button.OnClick (System.EventArgs e) [0x00000]
  at System.Windows.Forms.ButtonBase.OnMouseUp
(System.Windows.Forms.MouseEventArgs mevent) [0x00000]
  at System.Windows.Forms.Button.OnMouseUp (System.Windows.Forms.MouseEventArgs
mevent) [0x00000]
  at System.Windows.Forms.Control.WmLButtonUp (System.Windows.Forms.Message&amp; m)
[0x00000]
  at System.Windows.Forms.Control.WndProc (System.Windows.Forms.Message&amp; m)
[0x00000]
  at System.Windows.Forms.ButtonBase.WndProc (System.Windows.Forms.Message&amp; m)
[0x00000]
  at System.Windows.Forms.Button.WndProc (System.Windows.Forms.Message&amp; m)
[0x00000]
  at System.Windows.Forms.Control+ControlWindowTarget.OnMessage
(System.Windows.Forms.Message&amp; m) [0x00000]
  at System.Windows.Forms.Control+ControlNativeWindow.WndProc
(System.Windows.Forms.Message&amp; m) [0x00000]
  at System.Windows.Forms.NativeWindow.WndProc (IntPtr hWnd, Msg msg, IntPtr
wParam, IntPtr lParam) [0x00000]
  at System.Windows.Forms.XplatUIX11.DispatchMessage (System.Windows.Forms.MSG&amp;
msg) [0x00000]
  at System.Windows.Forms.XplatUI.DispatchMessage (System.Windows.Forms.MSG&amp;
msg) [0x00000]
  at System.Windows.Forms.Application.RunLoop (Boolean Modal,
System.Windows.Forms.ApplicationContext context) [0x00000]
  at System.Windows.Forms.Application.Run
(System.Windows.Forms.ApplicationContext context) [0x00000]
  at System.Windows.Forms.Application.Run (System.Windows.Forms.Form mainForm)
[0x00000]
  at Client.Program.Main () [0x00000]
linux-1x7v:~/Desktop/HydraPlus2/Client/bin/Debug #


----------------



How often does this happen? 

always

Additional Information:

Please open a bug case, for we to adapt the serialization of that class to be
compatible with .NET's version. Our private field probably has another name.

Rafael Teixeira [<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">monoman at gmail.com</A>]


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>



















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="072470.html">[Mono-bugs] [Bug 325122] Form: Resize event not fired on minimize
</A></li>
	<LI>Next message: <A HREF="072533.html">[Mono-bugs] [Bug 381922]	System.Runtime.Serialization.SerializationException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72471">[ date ]</a>
              <a href="thread.html#72471">[ thread ]</a>
              <a href="subject.html#72471">[ subject ]</a>
              <a href="author.html#72471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
