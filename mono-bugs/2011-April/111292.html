<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 684316] WebRequest consistently dies with memory leak (iPhone3G) or Mprotect crash (iPhone4)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20684316%5D%20WebRequest%20consistently%20dies%20with%20memory%0A%20leak%20%28iPhone3G%29%20or%20Mprotect%20crash%20%28iPhone4%29&In-Reply-To=bug-684316-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="111289.html">
   <LINK REL="Next"  HREF="111293.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 684316] WebRequest consistently dies with memory leak (iPhone3G) or Mprotect crash (iPhone4)</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20684316%5D%20WebRequest%20consistently%20dies%20with%20memory%0A%20leak%20%28iPhone3G%29%20or%20Mprotect%20crash%20%28iPhone4%29&In-Reply-To=bug-684316-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 684316] WebRequest consistently dies with memory leak (iPhone3G) or Mprotect crash (iPhone4)">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Apr 21 16:30:02 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="111289.html">[Mono-bugs] [Bug 670294] AddSubview and Garbage collection
</A></li>
        <LI>Next message: <A HREF="111293.html">[Mono-bugs] [Bug 683924] IList&lt;T&gt;.Contains() throws ExecutionEngineException when T is an enumeration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#111292">[ date ]</a>
              <a href="thread.html#111292">[ thread ]</a>
              <a href="subject.html#111292">[ subject ]</a>
              <a href="author.html#111292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=684316">https://bugzilla.novell.com/show_bug.cgi?id=684316</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=684316#c2">https://bugzilla.novell.com/show_bug.cgi?id=684316#c2</A>


Geoff Norton &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |WORKSFORME

--- Comment #2 from Geoff Norton &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>&gt; 2011-04-21 20:30:01 UTC ---
I ran your sample (debug build but not running in the debugger) on a iPhone 4
running iOS 4.3.1 with the forthcoming MonoTouch 4.0.1 release.  Here is the
information I got after 1 iterations:

  PID COMMAND      %CPU   TIME   #TH #PRTS #MREGS  RPRVT  RSHRD  RSIZE  VSIZE
 1258 CrashTest   20.5%  0:32.88   9   124    307 53592K  8076K    59M   182M 

RSIZE did not change after the initial allocation, RPRVT fluctuated minorly as
the app collected, but nothing significant.  RSHRD remained constant after the
initial allocation.

After about 10 iterations:

 1258 CrashTest   18.7%  1:10.67   9   124    332 46132K  8104K    54M   177M 

We have freed up about 7 megs of memory, but this could be iOS native buffers
hard to tell.

I let the app run 20 full iterations and I ended it with:

 1258 CrashTest   20.3%  1:50.63   9   124    334 54508K  8052K    60M   183M 

The app did not crash and printed:

Apr 21 16:21:55 iPhone UIKitApplication:crashtest[0x9ec1][1258] &lt;Notice&gt;:
Starting post 20
Apr 21 16:22:33 iPhone UIKitApplication:crashtest[0x9ec1][1258] &lt;Notice&gt;:
Finished!

Please reopen this bug if you are still seeing this behaviour on 4.0.1, but as
it stands we cannot replicate this.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>
















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="111289.html">[Mono-bugs] [Bug 670294] AddSubview and Garbage collection
</A></li>
	<LI>Next message: <A HREF="111293.html">[Mono-bugs] [Bug 683924] IList&lt;T&gt;.Contains() throws ExecutionEngineException when T is an enumeration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#111292">[ date ]</a>
              <a href="thread.html#111292">[ thread ]</a>
              <a href="subject.html#111292">[ subject ]</a>
              <a href="author.html#111292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
