<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 684757] New: Create C sharp OpenGL from template and run causes an exception
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20684757%5D%20New%3A%20Create%20C%20sharp%20OpenGL%20from%20template%0A%20and%20run%20causes%20an%20exception&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="111338.html">
   <LINK REL="Next"  HREF="111324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 684757] New: Create C sharp OpenGL from template and run causes an exception</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20684757%5D%20New%3A%20Create%20C%20sharp%20OpenGL%20from%20template%0A%20and%20run%20causes%20an%20exception&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 684757] New: Create C sharp OpenGL from template and run causes an exception">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Apr  2 19:16:05 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="111338.html">[Mono-bugs] [Bug 684755] Build crashes
</A></li>
        <LI>Next message: <A HREF="111324.html">[Mono-bugs] [Bug 684757] Create C sharp OpenGL from template and run causes an exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110740">[ date ]</a>
              <a href="thread.html#110740">[ thread ]</a>
              <a href="subject.html#110740">[ subject ]</a>
              <a href="author.html#110740">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=684757">https://bugzilla.novell.com/show_bug.cgi?id=684757</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=684757#c0">https://bugzilla.novell.com/show_bug.cgi?id=684757#c0</A>


           Summary: Create C sharp OpenGL from template and run causes an
                    exception
    Classification: Mono
           Product: MonoTouch
           Version: SVN
          Platform: All
        OS/Version: Mac OS X 10.6
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Class Libraries
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">samsuliman28 at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US;
rv:1.9.2.16) Gecko/20110319 Firefox/3.6.16

Created a new solution from template project iphone c sharp openGL project. The
call to GL.DrawArray ... caused a SIGSGEV fault.

Reproducible: Always

Steps to Reproduce:
Requirements: Install xcode 3.2.6 and ios sdk 4.3. Install Monotouch 3.2.6 and
Monodevelop ver 2.4.2

1. Create new solution iphone C Sharp Open GL Project. 
2. Run project with no changes.

Actual Results:  
The application runs showing rotating colourful square (expected)
It also runs slower (cant confirm this) (unexpected)
Finally a fault below is (unexpected) application output:

Application output below


Native stacktrace:

    0   TestBug                             0x000be9db
mono_handle_native_sigsegv + 343
    1   TestBug                             0x0000e74f
mono_sigsegv_signal_handler + 226
    2   libSystem.B.dylib                   0x9755d45b _sigtramp + 43
    3   ???                                 0xffffffff 0x0 + 4294967295
    4   libLLVMContainer.dylib              0x047e5a48
_ZN4llvm21PrettyStackTraceEntryC2Ev + 84
    5   libLLVMContainer.dylib              0x0475cf9e
_ZN4llvm13FPPassManager13runOnFunctionERNS_8FunctionE + 232
    6   libLLVMContainer.dylib              0x0475e167
_ZN4llvm23FunctionPassManagerImpl3runERNS_8FunctionE + 197
    7   libLLVMContainer.dylib              0x0475e26b
_ZN4llvm19FunctionPassManager3runERNS_8FunctionE + 83
    8   libCoreVMClient.dylib               0x04183a79
cvmsCompBuildMonolithicFunction + 1376
    9   libCoreVMClient.dylib               0x04187991
cvmsServerBuildMonolithicFunction + 235
    10  libCoreVMClient.dylib               0x04185589
CVMSBuildMonolithicFunction + 92
    11  libCVMSPluginSupport.dylib          0x0417d0d1
_Z29cvm_deferred_build_monolithicPv + 120
    12  libCVMSPluginSupport.dylib          0x0417c918 cvmDoWork + 111
    13  libSystem.B.dylib                   0x975247fd _pthread_start + 345
    14  libSystem.B.dylib                   0x97524682 thread_start + 34

Debug info from gdb:

warning: .o file
&quot;/Developer/MonoTouch/SDKs/MonoTouch.iphonesimulator.sdk/usr/lib/libmonotouch.a(monotouch-glue.x86.o)&quot;
more recent than executable timestamp in &quot;/Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug&quot;
warning: Could not open OSO file
/Developer/MonoTouch/SDKs/MonoTouch.iphonesimulator.sdk/usr/lib/libmonotouch.a(monotouch-glue.x86.o)
to scan for pubtypes for objfile /Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug
warning: .o file
&quot;/Developer/MonoTouch/SDKs/MonoTouch.iphonesimulator.sdk/usr/lib/libmonotouch.a(monotouch-x86.double-abi-stret-trampoline.o)&quot;
more recent than executable timestamp in &quot;/Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug&quot;
warning: Could not open OSO file
/Developer/MonoTouch/SDKs/MonoTouch.iphonesimulator.sdk/usr/lib/libmonotouch.a(monotouch-x86.double-abi-stret-trampoline.o)
to scan for pubtypes for objfile /Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug
warning: .o file
&quot;/Developer/MonoTouch/SDKs/MonoTouch.iphonesimulator.sdk/usr/lib/libmonotouch.a(gc.x86.o)&quot;
more recent than executable timestamp in &quot;/Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug&quot;
warning: Could not open OSO file
/Developer/MonoTouch/SDKs/MonoTouch.iphonesimulator.sdk/usr/lib/libmonotouch.a(gc.x86.o)
to scan for pubtypes for objfile /Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug
warning: .o file
&quot;/Developer/MonoTouch/SDKs/MonoTouch.iphonesimulator.sdk/usr/lib/libmonotouch.a(zlib-helper.x86.o)&quot;
more recent than executable timestamp in &quot;/Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug&quot;
warning: Could not open OSO file
/Developer/MonoTouch/SDKs/MonoTouch.iphonesimulator.sdk/usr/lib/libmonotouch.a(zlib-helper.x86.o)
to scan for pubtypes for objfile /Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug
warning: Could not find object file
&quot;/var/folders/Ny/NyElTwhDGD8kZMqIEeLGXE+++TI/-Tmp-//ccvRqNHg.o&quot; - no debug
information available for &quot;template.m&quot;.

warning: .o file
&quot;/Developer/usr/lib/gcc/i686-apple-darwin10/4.2.1/libgcc.a(_divdi3.o)&quot; more
recent than executable timestamp in &quot;/Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug&quot;
warning: Could not open OSO file
/Developer/usr/lib/gcc/i686-apple-darwin10/4.2.1/libgcc.a(_divdi3.o) to scan
for pubtypes for objfile /Users/samsuliman/Library/Application Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug
warning: .o file
&quot;/Developer/usr/lib/gcc/i686-apple-darwin10/4.2.1/libgcc.a(_moddi3.o)&quot; more
recent than executable timestamp in &quot;/Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug&quot;
warning: Could not open OSO file
/Developer/usr/lib/gcc/i686-apple-darwin10/4.2.1/libgcc.a(_moddi3.o) to scan
for pubtypes for objfile /Users/samsuliman/Library/Application Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug
warning: .o file
&quot;/Developer/usr/lib/gcc/i686-apple-darwin10/4.2.1/libgcc.a(_udivdi3.o)&quot; more
recent than executable timestamp in &quot;/Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug&quot;
warning: Could not open OSO file
/Developer/usr/lib/gcc/i686-apple-darwin10/4.2.1/libgcc.a(_udivdi3.o) to scan
for pubtypes for objfile /Users/samsuliman/Library/Application Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug
warning: .o file
&quot;/Developer/usr/lib/gcc/i686-apple-darwin10/4.2.1/libgcc.a(_umoddi3.o)&quot; more
recent than executable timestamp in &quot;/Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug&quot;
warning: Could not open OSO file
/Developer/usr/lib/gcc/i686-apple-darwin10/4.2.1/libgcc.a(_umoddi3.o) to scan
for pubtypes for objfile /Users/samsuliman/Library/Application Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug
warning: .o file
&quot;/Developer/MonoTouch/SDKs/MonoTouch.iphonesimulator.sdk/usr/lib/libmonotouch.a(monotouch-glue.x86.o)&quot;
more recent than executable timestamp in &quot;/Users/samsuliman/Library/Application
Support/iPhone
Simulator/4.3/Applications/24B1F368-38CB-4154-969E-DC70BC9BA409/TestBug.app/TestBug&quot;
warning: Couldn't open object file
'/Developer/MonoTouch/SDKs/MonoTouch.iphonesimulator.sdk/usr/lib/libmonotouch.a(monotouch-glue.x86.o)'
Attaching to process 5868.
Reading symbols for shared libraries . done
Reading symbols for shared libraries
.......................................................................................................................................
done
0x974f709a in mach_msg_trap ()
  8             0x975023fe in read$UNIX2003 ()
  7 &quot;WebThread&quot; 0x974f709a in mach_msg_trap ()
  6             0x97525046 in __semwait_signal ()
  5             0x974f70d6 in semaphore_wait_trap ()
  4             0x974f709a in mach_msg_trap ()
  3             0x9751d922 in kevent ()
  2             0x9751c9b2 in __workq_kernreturn ()
* 1             0x974f709a in mach_msg_trap ()

Thread 8 (process 5868):
#0  0x975023fe in read$UNIX2003 ()
#1  0x000beb8b in mono_handle_native_sigsegv (signal=11, ctx=0xb0454bb0) at
./../../../mono/mini/mini-exceptions.c:1826
#2  0x0000e74f in mono_sigsegv_signal_handler (_dummy=10, info=0xb0454b70,
context=0xb0454bb0) at ../../../../mono/mini/mini.c:4810
#3  &lt;signal handler called&gt;
#4  0x04804630 in llvm::sys::AddSignalHandler ()
#5  0x047e5a48 in llvm::PrettyStackTraceEntry::PrettyStackTraceEntry ()
#6  0x0475cf9e in llvm::FPPassManager::runOnFunction ()
#7  0x0475e167 in llvm::FunctionPassManagerImpl::run ()
#8  0x0475e26b in llvm::FunctionPassManager::run ()
#9  0x04183a79 in cvmsCompBuildMonolithicFunction ()
#10 0x04187991 in cvmsServerBuildMonolithicFunction ()
#11 0x04185589 in CVMSBuildMonolithicFunction ()
#12 0x0417d0d1 in cvm_deferred_build_monolithic ()
#13 0x0417c918 in cvmDoWork ()
#14 0x975247fd in _pthread_start ()
#15 0x97524682 in thread_start ()

Thread 7 (process 5868):
#0  0x974f709a in mach_msg_trap ()
#1  0x974f7807 in mach_msg ()
#2  0x00e7ad86 in __CFRunLoopServiceMachPort ()
#3  0x00dd7e74 in __CFRunLoopRun ()
#4  0x00dd7840 in CFRunLoopRunSpecific ()
#5  0x00dd7761 in CFRunLoopRunInMode ()
#6  0x05997913 in RunWebThread ()
#7  0x975247fd in _pthread_start ()
#8  0x97524682 in thread_start ()

Thread 6 (process 5868):
#0  0x97525046 in __semwait_signal ()
#1  0x97550ec5 in nanosleep$UNIX2003 ()
#2  0x97550e03 in usleep$UNIX2003 ()
#3  0x002774e0 in monotouch_pump_gc ()
#4  0x975247fd in _pthread_start ()
#5  0x97524682 in thread_start ()

Thread 5 (process 5868):
#0  0x974f70d6 in semaphore_wait_trap ()
#1  0x0015b189 in finalizer_thread (unused=0x0) at
./../../../mono/metadata/gc.c:1026
#2  0x00203836 in start_wrapper (data=0x7514630) at
./../../../mono/metadata/threads.c:661
#3  0x00244c76 in thread_start_routine (args=0x9028234) at
./../../../mono/io-layer/wthreads.c:286
#4  0x002746eb in GC_start_routine (arg=0x72f6f60) at
./../../libgc/pthread_support.c:1390
#5  0x975247fd in _pthread_start ()
#6  0x97524682 in thread_start ()

Thread 4 (process 5868):
#0  0x974f709a in mach_msg_trap ()
#1  0x974f7807 in mach_msg ()
#2  0x0011cfb2 in mach_exception_thread (arg=0x0) at
./../../../mono/mini/mini-darwin.c:138
#3  0x975247fd in _pthread_start ()
#4  0x97524682 in thread_start ()

Thread 3 (process 5868):
#0  0x9751d922 in kevent ()
#1  0x02ab9f36 in _dispatch_mgr_invoke ()
#2  0x02aba333 in _dispatch_queue_invoke ()
#3  0x02aba593 in _dispatch_worker_thread2 ()
#4  0x9751cd21 in _pthread_wqthread ()
#5  0x9751cb66 in start_wqthread ()

Thread 2 (process 5868):
#0  0x9751c9b2 in __workq_kernreturn ()
#1  0x9751cf48 in _pthread_wqthread ()
#2  0x9751cb66 in start_wqthread ()

Thread 1 (process 5868):
#0  0x974f709a in mach_msg_trap ()
#1  0x974f7807 in mach_msg ()
#2  0x00e7ad86 in __CFRunLoopServiceMachPort ()
#3  0x00dd7e74 in __CFRunLoopRun ()
#4  0x00dd7840 in CFRunLoopRunSpecific ()
#5  0x00dd7761 in CFRunLoopRunInMode ()
#6  0x040261c4 in GSEventRunModal ()
#7  0x04026289 in GSEventRun ()
#8  0x01cbac93 in UIApplicationMain ()
#9  0x08fdfc29 in ?? ()
#10 0x08fdfb62 in ?? ()
#11 0x08fdf565 in ?? ()
#12 0x08fdf4a1 in ?? ()
#13 0x08fdf4fc in ?? ()
#14 0x0000e56a in mono_jit_runtime_invoke (method=0x905ee64, obj=0x0,
params=0xbfffed8c, exc=0x0) at ../../../../mono/mini/mini.c:4733
#15 0x001c961b in mono_runtime_invoke (method=0x905ee64, obj=0x0,
params=0xbfffed8c, exc=0x0) at ../../../../mono/metadata/object.c:2615
#16 0x001cb2d7 in mono_runtime_exec_main (method=0x905ee64, args=0x8f89cb0,
exc=0x0) at ../../../../mono/metadata/object.c:3581
#17 0x001cabfd in mono_runtime_run_main (method=0x905ee64, argc=0,
argv=0xbfffeec4, exc=0x0) at ../../../../mono/metadata/object.c:3355
#18 0x00095354 in mono_jit_exec (domain=0x728ee58, assembly=0x7559fe0, argc=1,
argv=0xbfffeec0) at ../../../../mono/mini/driver.c:1094
#19 0x0027d299 in main ()

=================================================================
Got a SIGSEGV while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

Terminating in response to SpringBoard's termination.
Error connecting stdout and stderr (127.0.0.1:10001)
Thread 0x0 may have been prematurely finalized


Expected Results:  
Expects app runs showing rotating sq no faults.


I tried reinstalling everything xcode, sdks and monotouch and monodevelop The
problem is there. This appears after the recent updates following the ios 4.3
sdk + Monotouch + Monodevelop releases.

Debuging the application the fault occurs in the call to GL.DrawArray( )
Couldnt debug any further despite having debug source may be not for openTK

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="111338.html">[Mono-bugs] [Bug 684755] Build crashes
</A></li>
	<LI>Next message: <A HREF="111324.html">[Mono-bugs] [Bug 684757] Create C sharp OpenGL from template and run causes an exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110740">[ date ]</a>
              <a href="thread.html#110740">[ thread ]</a>
              <a href="subject.html#110740">[ subject ]</a>
              <a href="author.html#110740">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
