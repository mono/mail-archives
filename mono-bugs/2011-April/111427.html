<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 689900] New: Save JPEG image with quality factor does not work - quality ignored
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20689900%5D%20New%3A%20Save%20JPEG%20image%20with%20quality%20factor%0A%20does%20not%20work%20-%20quality%20ignored&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="111423.html">
   <LINK REL="Next"  HREF="111428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 689900] New: Save JPEG image with quality factor does not work - quality ignored</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20689900%5D%20New%3A%20Save%20JPEG%20image%20with%20quality%20factor%0A%20does%20not%20work%20-%20quality%20ignored&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 689900] New: Save JPEG image with quality factor does not work - quality ignored">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Apr 26 08:37:48 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="111423.html">[Mono-bugs] [Bug 678234] Crash while debugging on a real device
</A></li>
        <LI>Next message: <A HREF="111428.html">[Mono-bugs] [Bug 689900] Save JPEG image with quality factor does not work - quality ignored
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#111427">[ date ]</a>
              <a href="thread.html#111427">[ thread ]</a>
              <a href="subject.html#111427">[ subject ]</a>
              <a href="author.html#111427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=689900">https://bugzilla.novell.com/show_bug.cgi?id=689900</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=689900#c0">https://bugzilla.novell.com/show_bug.cgi?id=689900#c0</A>


           Summary: Save JPEG image with quality factor does not work -
                    quality ignored
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.8.x
          Platform: Macintosh
        OS/Version: Mac OS X 10.6
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: libgdiplus
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mark at firstfocus.nl</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1)
Gecko/20100101 Firefox/4.0.1

Saving a JPEG image with a given quality factor does not work. The save works
fine but the quality factor is ignored. It seems as if this particular encoder
parameter is not supported (ignored) in Mono.

Test code as follows:

ImageCodecInfo[] encoders = ImageCodecInfo.GetImageEncoders();
foreach (ImageCodecInfo encoder in encoders)
  if (encoder.MimeType == &quot;image/jpeg&quot;)
    break;
EncoderParameters pars = new EncoderParameters();
pars.Param[0] = new EncoderParameter(Encoder.Quality, 10);
image.Save(cachedFile, encoder, pars);

. where &quot;image&quot; is a Bitmap object with a valid image.

The above code works but produces the same image, regardless of the quality
factor. 

Reproducible: Always

Steps to Reproduce:
1. Load Bitmap instance with valid image
2. Run code mentioned in details section
3. Examine output - quality factor ignored
Actual Results:  
Image is saved correctly but seems to ignore quality factor. Setting different
qualities keeps producing the same image. 

Expected Results:  
image.Save() should produce JPEG files with different jpg quality factors.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="111423.html">[Mono-bugs] [Bug 678234] Crash while debugging on a real device
</A></li>
	<LI>Next message: <A HREF="111428.html">[Mono-bugs] [Bug 689900] Save JPEG image with quality factor does not work - quality ignored
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#111427">[ date ]</a>
              <a href="thread.html#111427">[ thread ]</a>
              <a href="subject.html#111427">[ subject ]</a>
              <a href="author.html#111427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
