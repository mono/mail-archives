<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 690255] New: Mono runtime for iPhone lacks full SecureString support when compiled without COM support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20690255%5D%20New%3A%20Mono%20runtime%20for%20iPhone%20lacks%20full%0A%20SecureString%20support%20when%20compiled%20without%20COM%20support&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="111468.html">
   <LINK REL="Next"  HREF="111471.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 690255] New: Mono runtime for iPhone lacks full SecureString support when compiled without COM support</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20690255%5D%20New%3A%20Mono%20runtime%20for%20iPhone%20lacks%20full%0A%20SecureString%20support%20when%20compiled%20without%20COM%20support&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 690255] New: Mono runtime for iPhone lacks full SecureString support when compiled without COM support">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Apr 27 10:01:51 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="111468.html">[Mono-bugs] [Bug 689729] After upgrading MonoDevelop and the SDK, any break points crash.
</A></li>
        <LI>Next message: <A HREF="111471.html">[Mono-bugs] [Bug 689935] Can't compile with linking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#111469">[ date ]</a>
              <a href="thread.html#111469">[ thread ]</a>
              <a href="subject.html#111469">[ subject ]</a>
              <a href="author.html#111469">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=690255">https://bugzilla.novell.com/show_bug.cgi?id=690255</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=690255#c0">https://bugzilla.novell.com/show_bug.cgi?id=690255#c0</A>


           Summary: Mono runtime for iPhone lacks full SecureString
                    support when compiled without COM support
    Classification: Mono
           Product: Mono: Runtime
           Version: 2.6.x
          Platform: iPhone
        OS/Version: Apple iOS 4.3
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: interop
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mantas at unity3d.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=426839)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=426839">http://bugzilla.novell.com/attachment.cgi?id=426839</A>)
Simple test case that demonstrates typical SecureString use case.

User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_7; en-US)
AppleWebKit/534.16 (KHTML, like Gecko) Chrome/10.0.648.205 Safari/534.16

Mono runtime compiled for iPhone without COM support lacks full SecureString
support. Typically SecureString is used for storing passwords or other
sensitive information and the way to obtain its content is via :
Marshal.SecureStringToBSTR / Marshal.ZeroFreeBSTR methods. SecureString class
isn't directly related to COM support, but removing COM support from runtime
renders use of this class impossible.

I would like to suggest either finer grain control of what COM related
components can be disabled while building runtime or just include basic BSTR
support into runtime even when COM support is disabled.

Reproducible: Always

Steps to Reproduce:
1. Build mono iphone runtime without COM support
2. Build final iphone application that includes attached test case
3. Run on device. Application crashes with SIGABRT, because necessary icalls
are missing.
Actual Results:  
cant resolve internal call to
&quot;System.Runtime.InteropServices.Marshal::FreeBSTR(intptr)&quot; (tested without
signature also)

Your mono runtime and class libraries are out of sync.
The out of sync library is:
/private/var/mobile/Applications/B7F23186-4ED4-42B0-BA66-FCA416117093/SecureString.app/Data/Managed/mscorlib.dll

Expected Results:  
&quot;This is some sensitive info&quot; printed to console

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="111468.html">[Mono-bugs] [Bug 689729] After upgrading MonoDevelop and the SDK, any break points crash.
</A></li>
	<LI>Next message: <A HREF="111471.html">[Mono-bugs] [Bug 689935] Can't compile with linking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#111469">[ date ]</a>
              <a href="thread.html#111469">[ thread ]</a>
              <a href="subject.html#111469">[ subject ]</a>
              <a href="author.html#111469">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
