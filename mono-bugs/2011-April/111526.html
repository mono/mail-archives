<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 690020] MT4.0.1 using LLVM / Arm6+7 crashes during	compilation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20690020%5D%20MT4.0.1%20using%20LLVM%20/%20Arm6%2B7%20crashes%20during%0A%09compilation&In-Reply-To=bug-690020-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="111447.html">
   <LINK REL="Next"  HREF="111538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 690020] MT4.0.1 using LLVM / Arm6+7 crashes during	compilation</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20690020%5D%20MT4.0.1%20using%20LLVM%20/%20Arm6%2B7%20crashes%20during%0A%09compilation&In-Reply-To=bug-690020-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 690020] MT4.0.1 using LLVM / Arm6+7 crashes during	compilation">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Apr 28 16:37:07 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="111447.html">[Mono-bugs] [Bug 690020] MT4.0.1 using LLVM / Arm6+7 crashes during	compilation
</A></li>
        <LI>Next message: <A HREF="111538.html">[Mono-bugs] [Bug 690020] MT4.0.1 using LLVM / Arm6+7 crashes during	compilation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#111526">[ date ]</a>
              <a href="thread.html#111526">[ thread ]</a>
              <a href="subject.html#111526">[ subject ]</a>
              <a href="author.html#111526">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=690020">https://bugzilla.novell.com/show_bug.cgi?id=690020</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=690020#c3">https://bugzilla.novell.com/show_bug.cgi?id=690020#c3</A>


--- Comment #3 from Geoff Norton &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>&gt; 2011-04-28 20:37:05 UTC ---
We have a few different crashes here:

#1&gt;
MONO_PATH=/Users/plasma/Downloads/bug-690020_MobileAgentSource/mobileagent/bin/iPhone/MobileAgent.app
/Developer/MonoTouch/usr/bin/arm-darwin-mono --llvm
--aot=mtriple=armv6-darwin,full,static,asmonly,nodebug,llvm-path=/Developer/MonoTouch/LLVM/bin/,outfile=/var/folders/Ny/NyElTwhDGD8kZMqIEeLGXE+++TI/-Tmp-/tmp1b6f79b6.tmp/RestSharp.MonoTouch.dll.6.s
&quot;/Users/plasma/Downloads/bug-690020_MobileAgentSource/mobileagent/bin/iPhone/MobileAgent.app/RestSharp.MonoTouch.dll&quot;
Instruction does not dominate all uses!
  %t631 = load i32* %44
  %47 = inttoptr i32 %t631 to i32*
Instruction does not dominate all uses!
  %47 = inttoptr i32 %t631 to i32*
  %48 = getelementptr i32* %47, i32 2
Instruction does not dominate all uses!
  %48 = getelementptr i32* %47, i32 2
  %t73 = load i32* %48
Instruction does not dominate all uses!
  %t73 = load i32* %48
  %49 = inttoptr i32 %t73 to i32*
Instruction does not dominate all uses!
  %49 = inttoptr i32 %t73 to i32*
  %50 = getelementptr i32* %49, i32 3
Instruction does not dominate all uses!
  %50 = getelementptr i32* %49, i32 3
  %t74 = load i32* %50
Instruction does not dominate all uses!
  %t74 = load i32* %50
  %51 = icmp eq i32 %t74, %t75
Instruction does not dominate all uses!
  %51 = icmp eq i32 %t74, %t75
  br i1 %51, label %BB42, label %BB45
Instruction does not dominate all uses!
  %t1022 = load i32* %69
  %72 = inttoptr i32 %t1022 to i32*
Instruction does not dominate all uses!
  %72 = inttoptr i32 %t1022 to i32*
  %73 = getelementptr i32* %72, i32 2
Instruction does not dominate all uses!
  %73 = getelementptr i32* %72, i32 2
  %t112 = load i32* %73
Instruction does not dominate all uses!
  %t112 = load i32* %73
  %74 = inttoptr i32 %t112 to i32*
Instruction does not dominate all uses!
  %74 = inttoptr i32 %t112 to i32*
  %75 = getelementptr i32* %74, i32 3
Instruction does not dominate all uses!
  %75 = getelementptr i32* %74, i32 3
  %t113 = load i32* %75
Instruction does not dominate all uses!
  %t113 = load i32* %75
  %76 = icmp eq i32 %t113, %t114
Instruction does not dominate all uses!
  %76 = icmp eq i32 %t113, %t114
  br i1 %76, label %BB70, label %BB73
Broken module found, compilation aborted!
0  opt               0x004f60e8
llvm::PrettyStackTraceString::~PrettyStackTraceString() + 12232
1  opt               0x004f6cf7
llvm::PrettyStackTraceString::~PrettyStackTraceString() + 15319
2  libSystem.B.dylib 0x994c245b _sigtramp + 43
3  libSystem.B.dylib 0xffffffff _sigtramp + 1723063247
4  opt               0x0003febb std::vector&lt;char, std::allocator&lt;char&gt;
&gt;::<i>_M_fill_insert(__gnu_cxx::__normal_iterator&lt;char*, std::vector&lt;char,
</I>std::allocator&lt;char&gt; &gt; &gt;, unsigned long, char const&amp;) + 1323
5  opt               0x004b56e6 llvm::CallbackVH::deleted() + 95414
6  opt               0x00486aff llvm::BasicBlockPass::~BasicBlockPass() + 31855
7  opt               0x0023bdc9 std::_Rb_tree&lt;llvm::Function const*,
std::pair&lt;llvm::Function const* const, llvm::CallGraphNode*&gt;,
std::_Select1st&lt;std::pair&lt;llvm::Function const* const, llvm::CallGraphNode*&gt; &gt;,
std::less&lt;llvm::Function const*&gt;, std::allocator&lt;std::pair&lt;llvm::Function
const* const, llvm::CallGraphNode*&gt; &gt;
&gt;::<i>_M_insert_unique(std::_Rb_tree_iterator&lt;std::pair&lt;llvm::Function const*
</I>const, llvm::CallGraphNode*&gt; &gt;, std::pair&lt;llvm::Function const* const,
llvm::CallGraphNode*&gt; const&amp;) + 7385
8  opt               0x0023cdd2 std::_Rb_tree&lt;llvm::Function const*,
std::pair&lt;llvm::Function const* const, llvm::CallGraphNode*&gt;,
std::_Select1st&lt;std::pair&lt;llvm::Function const* const, llvm::CallGraphNode*&gt; &gt;,
std::less&lt;llvm::Function const*&gt;, std::allocator&lt;std::pair&lt;llvm::Function
const* const, llvm::CallGraphNode*&gt; &gt;
&gt;::<i>_M_insert_unique(std::_Rb_tree_iterator&lt;std::pair&lt;llvm::Function const*
</I>const, llvm::CallGraphNode*&gt; &gt;, std::pair&lt;llvm::Function const* const,
llvm::CallGraphNode*&gt; const&amp;) + 11490
9  opt               0x0048879f llvm::BasicBlockPass::~BasicBlockPass() + 39183
10 opt               0x00488a6c llvm::BasicBlockPass::~BasicBlockPass() + 39900
11 opt               0x00488b6b llvm::BasicBlockPass::~BasicBlockPass() + 40155
12 opt               0x0004ebf4 llvm::scc_iterator&lt;llvm::CallGraphNode*,
llvm::GraphTraits&lt;llvm::CallGraphNode*&gt; &gt;::GetNextSCC() + 17588
13 opt               0x00043195 std::vector&lt;std::pair&lt;void (*)(void*), void*&gt;,
std::allocator&lt;std::pair&lt;void (*)(void*), void*&gt; &gt;
&gt;::<i>_M_insert_aux(__gnu_cxx::__normal_iterator&lt;std::pair&lt;void (*)(void*),
</I>void*&gt;*, std::vector&lt;std::pair&lt;void (*)(void*), void*&gt;,
std::allocator&lt;std::pair&lt;void (*)(void*), void*&gt; &gt; &gt; &gt;, std::pair&lt;void
(*)(void*), void*&gt; const&amp;) + 12005
Stack dump:
0.    Program arguments: /Developer/MonoTouch/LLVM/bin/opt -f -simplifycfg
-domtree -domfrontier -scalarrepl -instcombine -simplifycfg -basiccg -prune-eh
-inline -functionattrs -domtree -domfrontier -scalarrepl -simplify-libcalls
-instcombine -simplifycfg -instcombine -simplifycfg -reassociate -domtree
-loops -loopsimplify -domfrontier -loopsimplify -lcssa -loop-rotate -licm
-lcssa -loop-unswitch -instcombine -scalar-evolution -loopsimplify -lcssa
-iv-users -indvars -loop-deletion -loopsimplify -lcssa -loop-unroll
-instcombine -memdep -gvn -memdep -memcpyopt -sccp -instcombine -domtree
-memdep -dse -adce -simplifycfg -preverify -domtree -verify -o
/var/folders/Ny/NyElTwhDGD8kZMqIEeLGXE+++TI/-Tmp-/tmp1b6f79b6.tmp/RestSharp.MonoTouch.dll.6.s.opt.bc
/var/folders/Ny/NyElTwhDGD8kZMqIEeLGXE+++TI/-Tmp-/tmp1b6f79b6.tmp/RestSharp.MonoTouch.dll.6.s.bc 
1.    Running pass 'CallGraph Pass Manager' on module
'/var/folders/Ny/NyElTwhDGD8kZMqIEeLGXE+++TI/-Tmp-/tmp1b6f79b6.tmp/RestSharp.MonoTouch.dll.6.s.bc'.
2.    Running pass 'Module Verifier' on function
'@RestSharp.MonoTouch_RestSharp_Http_GetRawResponse_System_Net_HttpWebRequest'

#2&gt;

MONO_PATH=/Users/plasma/Downloads/bug-690020_MobileAgentSource/mobileagent/bin/iPhone/MobileAgent.app
/Developer/MonoTouch/usr/bin/arm-darwin-mono --llvm
--aot=mtriple=armv6-darwin,full,static,asmonly,nodebug,llvm-path=/Developer/MonoTouch/LLVM/bin/,outfile=/var/folders/Ny/NyElTwhDGD8kZMqIEeLGXE+++TI/-Tmp-/tmp1b6f79b6.tmp/NewtonsoftJsonMonoTouch.dll.6.s
&quot;/Users/plasma/Downloads/bug-690020_MobileAgentSource/mobileagent/bin/iPhone/MobileAgent.app/NewtonsoftJsonMonoTouch.dll&quot;

(gdb) bt
#0  0x994bd156 in __kill ()
#1  0x994bd148 in kill$UNIX2003 ()
#2  0x9954f899 in raise ()
#3  0x9956594d in __abort ()
#4  0x99559ff4 in __chk_fail ()
#5  0x99488fb9 in __sprintf_chk ()
#6  0x0009919b in emit_code (acfg=0x2001800) at
./../../../mono/mini/aot-compiler.c:5368
#7  0x000a66c2 in mono_compile_assembly (ass=0x16001b0, opts=51456511,
aot_options=0xbffff505
&quot;mtriple=armv6-darwin,full,static,asmonly,nodebug,llvm-path=/Developer/MonoTouch/LLVM/bin/,outfile=/var/folders/Ny/NyElTwhDGD8kZMqIEeLGXE+++TI/-Tmp-/tmp1b6f79b6.tmp/NewtonsoftJsonMonoTouch.dll.6.s&quot;)
at ../../../../mono/mini/aot-compiler.c:7016
#8  0x00090185 in main_thread_handler [inlined] () at
/Developer/MonoTouch/Source/mono/mono/mini/driver.c:1141
#9  0x00090185 in mono_main (argc=4, argv=0xbffff400) at
./../../../mono/mini/driver.c:2038
#10 0x0000e265 in start ()


Not sure whats up with #2, memory corruption?

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="111447.html">[Mono-bugs] [Bug 690020] MT4.0.1 using LLVM / Arm6+7 crashes during	compilation
</A></li>
	<LI>Next message: <A HREF="111538.html">[Mono-bugs] [Bug 690020] MT4.0.1 using LLVM / Arm6+7 crashes during	compilation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#111526">[ date ]</a>
              <a href="thread.html#111526">[ thread ]</a>
              <a href="subject.html#111526">[ subject ]</a>
              <a href="author.html#111526">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
