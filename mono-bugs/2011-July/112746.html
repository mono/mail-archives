<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 497017] XPath ancestor set order is incorrect on mono. Correct on .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20497017%5D%20XPath%20ancestor%20set%20order%20is%20incorrect%20on%0A%20mono.%20Correct%20on%20.NET&In-Reply-To=bug-497017-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="112761.html">
   <LINK REL="Next"  HREF="112748.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 497017] XPath ancestor set order is incorrect on mono. Correct on .NET</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20497017%5D%20XPath%20ancestor%20set%20order%20is%20incorrect%20on%0A%20mono.%20Correct%20on%20.NET&In-Reply-To=bug-497017-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 497017] XPath ancestor set order is incorrect on mono. Correct on .NET">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Jul 21 19:13:42 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="112761.html">[Mono-bugs] [Bug 707434] XmlSerializer Order attribute check is checking for this on XmlAttribute
</A></li>
        <LI>Next message: <A HREF="112748.html">[Mono-bugs] [Bug 707624] New: Crash the process start on busy	machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#112746">[ date ]</a>
              <a href="thread.html#112746">[ thread ]</a>
              <a href="subject.html#112746">[ subject ]</a>
              <a href="author.html#112746">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=497017">https://bugzilla.novell.com/show_bug.cgi?id=497017</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=497017#c1">https://bugzilla.novell.com/show_bug.cgi?id=497017#c1</A>


--- Comment #1 from David Eisner &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">david.eisner at oriel.oxon.org</A>&gt; 2011-07-21 23:13:40 UTC ---
Created an attachment (id=441598)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=441598">http://bugzilla.novell.com/attachment.cgi?id=441598</A>)
Minimal patch for XPath position() function

I will put a related fix and test cases on github for review, but this simple
patch should be enough to get your [position()=n] predicates working, if your
test case is a good representation of the problem you have in your application.
There is also a workaround, by the way, if you are at liberty to remove the
explicit reference to the position() function, as the [n] notation is actually
interpretted differently and appears to have been corrected for reverse axes.

More testing is probably needed on this, and especially for other axes such as
ancestor-or-self and preceeding. It seems, in my assessment, that optimization
attempts and uncertainty about this ordering issue have left some of this
implementation difficult to inspect for correctness and small boundary errors.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="112761.html">[Mono-bugs] [Bug 707434] XmlSerializer Order attribute check is checking for this on XmlAttribute
</A></li>
	<LI>Next message: <A HREF="112748.html">[Mono-bugs] [Bug 707624] New: Crash the process start on busy	machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#112746">[ date ]</a>
              <a href="thread.html#112746">[ thread ]</a>
              <a href="subject.html#112746">[ subject ]</a>
              <a href="author.html#112746">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
