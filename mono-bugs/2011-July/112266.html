<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 706073] New: xbuild adds reference causing type	collision
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20706073%5D%20New%3A%20xbuild%20adds%20reference%20causing%20type%0A%09collision&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="112268.html">
   <LINK REL="Next"  HREF="112267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 706073] New: xbuild adds reference causing type	collision</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20706073%5D%20New%3A%20xbuild%20adds%20reference%20causing%20type%0A%09collision&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 706073] New: xbuild adds reference causing type	collision">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Jul 15 06:11:08 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="112268.html">[Mono-bugs] [Bug 706071] System.dll 4.0 references Mono.Security 4.0 but shouldnt
</A></li>
        <LI>Next message: <A HREF="112267.html">[Mono-bugs] [Bug 706073] xbuild adds reference causing type	collision
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#112266">[ date ]</a>
              <a href="thread.html#112266">[ thread ]</a>
              <a href="subject.html#112266">[ subject ]</a>
              <a href="author.html#112266">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=706073">https://bugzilla.novell.com/show_bug.cgi?id=706073</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=706073#c0">https://bugzilla.novell.com/show_bug.cgi?id=706073#c0</A>


           Summary: xbuild adds reference causing type collision
    Classification: Mono
           Product: Mono: Compilers
           Version: SVN
          Platform: Other
        OS/Version: Ubuntu
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Other.
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">piotr.wysocki at mlabs.pl</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101
Firefox/5.0

I get this:
src/NetworkServices/Streams/SslStream.cs(56,17): error CS0433: The imported
type `Mono.Security.Protocol.Tls.SslStreamBase' is defined multiple times
               
/home/wysek/secpl/projects/return/return/Return/lib/Mono.Security/Mono.Security.dll
(Location of the symbol related to previous error)
               
/opt/mono-2.10.2/lib/mono/gac/System.ServiceModel/4.0.0.0__b77a5c561934e089/System.ServiceModel.dll
(Location of the symbol related to previous error)
src/NetworkServices/Streams/SslStream.cs(47,61): error CS0433: The imported
type `Mono.Security.Protocol.Tls.SecurityProtocolType' is defined multiple
times
               
/home/wysek/secpl/projects/return/return/Return/lib/Mono.Security/Mono.Security.dll
(Location of the symbol related to previous error)
               
/opt/mono-2.10.2/lib/mono/gac/System.ServiceModel/4.0.0.0__b77a5c561934e089/System.ServiceModel.dll
(Location of the symbol related to previous error)

when compiling a project using Mono.Security.dll

It seems like System.ServiceModel gets referenced (it appears on the cmdline)
even though it does not appear on the reference list in the .csproj.

Further investigation leaded to:
Dependency System.ServiceModel, Version=3.0.0.0, Culture=neutral,
PublicKeyToken=b77a5c561934e089
                                        Required by NHibernate,
Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
                                        Reference System.ServiceModel,
Version=3.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 resolved to
/opt/mono-2.10.2/lib/mono/4.0/System.ServiceModel.dll.

So System.ServiceModel gets referenced because of NHibernate req.

This I consider wrong, as it produces a compilation error, and there is no such
an error on MS.NET msbuild.

Compiling manually without the System.ServiceModel ref builds ok.

Reproducible: Always

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="112268.html">[Mono-bugs] [Bug 706071] System.dll 4.0 references Mono.Security 4.0 but shouldnt
</A></li>
	<LI>Next message: <A HREF="112267.html">[Mono-bugs] [Bug 706073] xbuild adds reference causing type	collision
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#112266">[ date ]</a>
              <a href="thread.html#112266">[ thread ]</a>
              <a href="subject.html#112266">[ subject ]</a>
              <a href="author.html#112266">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
