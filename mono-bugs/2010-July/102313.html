<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 623441] New: Problem with Web Service stub
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20623441%5D%20New%3A%20Problem%20with%20Web%20Service%20stub&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="102312.html">
   <LINK REL="Next"  HREF="102315.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 623441] New: Problem with Web Service stub</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20623441%5D%20New%3A%20Problem%20with%20Web%20Service%20stub&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 623441] New: Problem with Web Service stub">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Jul 19 08:53:30 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="102312.html">[Mono-bugs] [Bug 623406] ConvertEmptyString doesn't work
</A></li>
        <LI>Next message: <A HREF="102315.html">[Mono-bugs] [Bug 623441] Problem with Web Service stub
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#102313">[ date ]</a>
              <a href="thread.html#102313">[ thread ]</a>
              <a href="subject.html#102313">[ subject ]</a>
              <a href="author.html#102313">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=623441">http://bugzilla.novell.com/show_bug.cgi?id=623441</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=623441#c0">http://bugzilla.novell.com/show_bug.cgi?id=623441#c0</A>


           Summary: Problem with Web Service stub
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.6.x
          Platform: All
        OS/Version: Other
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Sys.Web.Services
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">atsushi at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">djechelon at fastwebnet.it</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: Community User
           Blocker: Yes


Created an attachment (id=376768)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=376768">http://bugzilla.novell.com/attachment.cgi?id=376768</A>)
Stack trace of the original error

Description of Problem:
What I'm going to describe occurs when running a C# application in Mono. In
NET under Windows it runs fine. The application I used as test case is part of
the Logbus-ng open source project, available on SVN.
Test case is revision 210 of
<A HREF="http://logbus-ng.svn.sourceforge.net/svnroot/logbus-ng/branches/logbus-sharp-1.0/">http://logbus-ng.svn.sourceforge.net/svnroot/logbus-ng/branches/logbus-sharp-1.0/</A>

I have used wsdl.exe under Windows to compile a WSDL file (logbus-control.wsdl,
found in It.Unina.Dis.Logbus/Schemas directory of above repository) both to
server skeleton and interfaces, then I used Visual Studio to import the WSDL as
client stub.
I also had to manually edit the Resource.cs file so that the two client stubs
implemented the two root interfaces IChannelManagement and
IChannelSubscription. By doing this, both the interfaces and the client stub
present a WebServiceBindingAttribute on their declaration.

On Windows, I can freely use this web service stub.
When trying to run the application (DemoWarningClient from Examples directory
of the repository) on Mono, I get an error at the constructor of the WS stub,
called by a helper method.

Steps to reproduce the problem:
1. Download revision 210 of repository above
2. Compile the DemoWarningClient project in the Examples directory with xbuild
3. Make sure It.Unina.Dis.Logbus.dll from Bin directory is deployed
4. Run the DemoWarningClient program with --debug flag


Actual Results:
Attached exception and stack trace.
It complains about the WebServiceBinding attribute being duplicated

Expected Results:
In this scenario, running only the Demo client, I expect it to throw an
exception about the endpoint being unreachable, because you didn't activate the
LogbusDaemon executable (and it currently doesn't work in Mono for a reason I'm
investigating)

How often does this happen? 
Always

Additional Information:
A possible workaround might be removing the WebServiceBindingAttribute manually
from the stub, leaving it on the interface.
But since the original code works on Windows, Mono should ignore duplicate
WebServiceBindingAttribute when searching for that attribute in all the
inheritance tree

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="102312.html">[Mono-bugs] [Bug 623406] ConvertEmptyString doesn't work
</A></li>
	<LI>Next message: <A HREF="102315.html">[Mono-bugs] [Bug 623441] Problem with Web Service stub
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#102313">[ date ]</a>
              <a href="thread.html#102313">[ thread ]</a>
              <a href="subject.html#102313">[ subject ]</a>
              <a href="author.html#102313">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
