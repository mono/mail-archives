<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 622847] New: Problem with the FSI in F#. Pretty printing exception when I try to do simple assignments of numeric values.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20622847%5D%20New%3A%20Problem%20with%20the%20FSI%20in%20F%23.%20Pretty%0A%20printing%20exception%20when%20I%20try%20to%20do%20simple%20assignments%20of%20numeric%20values.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="102240.html">
   <LINK REL="Next"  HREF="102253.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 622847] New: Problem with the FSI in F#. Pretty printing exception when I try to do simple assignments of numeric values.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20622847%5D%20New%3A%20Problem%20with%20the%20FSI%20in%20F%23.%20Pretty%0A%20printing%20exception%20when%20I%20try%20to%20do%20simple%20assignments%20of%20numeric%20values.&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 622847] New: Problem with the FSI in F#. Pretty printing exception when I try to do simple assignments of numeric values.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Jul 15 23:08:27 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="102240.html">[Mono-bugs] [Bug 622732] Creating outlets to UIAlertView does not generate correct code
</A></li>
        <LI>Next message: <A HREF="102253.html">[Mono-bugs] [Bug 622847] Problem with the FSI in F#. Pretty printing exception when I try to do simple assignments of numeric values.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#102249">[ date ]</a>
              <a href="thread.html#102249">[ thread ]</a>
              <a href="subject.html#102249">[ subject ]</a>
              <a href="author.html#102249">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=622847">http://bugzilla.novell.com/show_bug.cgi?id=622847</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=622847#c0">http://bugzilla.novell.com/show_bug.cgi?id=622847#c0</A>


           Summary: Problem with the FSI in F#. Pretty printing exception
                    when I try to do simple assignments of numeric values.
    Classification: Mono
           Product: Mono: Runtime
           Version: 2.2.x
          Platform: x86
        OS/Version: Ubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: misc
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">technikhil.mail at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:2.0b1)
Gecko/20100630 Firefox/4.0b1

I just installed F# on Ubuntu Linux with Mono 2.4 - the software versions are
as follows

Operating System
Ubuntu 10.04 LTS  - the Lucid Lynx

NET Framework
Mono JIT compiler version 2.4.4 (Debian 2.4.4~svn151842-1ubuntu4)
Copyright (C) 2002-2010 Novell, Inc and Contributors. www.mono-project.com
    TLS:           __thread
    GC:            Included Boehm (with typed GC)
    SIGSEGV:       altstack
    Notifications: epoll
    Architecture:  x86
    Disabled:      none

F# Language
Microsoft (R) F# 2.0 Interactive build 2.0.0.0


I installed F# using the instructions given in this website -
<A HREF="http://www.strangelights.com/fsharp/wiki/default.aspx/FSharpWiki/MonoLinux.html">http://www.strangelights.com/fsharp/wiki/default.aspx/FSharpWiki/MonoLinux.html</A>
I am getting pretty printing exceptions when I use the FSI  to do 'let' using
certain types of numeric values. As you can see this is happening for several
different numeric types.  It does seem to work with the int32 and byte
data-type. I am enclosing the code I entered below along with the FSI response
-


Microsoft (R) F# 2.0 Interactive build 2.0.0.0
Copyright (c) Microsoft Corporation. All Rights Reserved.

For help type #help;;

&gt;<i> let x = 1234L;;
</I>
val x : int64 = 1234L

&gt;<i> let y = 1234UL;;
</I>
Exception raised during pretty printing.
Please report this so it can be fixed.
Trace: System.ArgumentException: parameters
  at System.Reflection.MonoMethod.Invoke (System.Object obj, BindingFlags
invokeAttr, System.Reflection.Binder binder, System.Object[] parameters,
System.Globalization.CultureInfo culture) [0x00000]
  at System.Reflection.MethodBase.Invoke (System.Object obj, System.Object[]
parameters) [0x00000]
  at
Microsoft.FSharp.Compiler.Interactive.Shell+Utilities.callGenericStaticMethod
(System.Type ty, System.String name, Microsoft.FSharp.Collections.FSharpList`1
tyargs, Microsoft.FSharp.Collections.FSharpList`1 args) [0x00000]
  at Microsoft.FSharp.Compiler.Interactive.Shell+FsiValuePrinter.PrintValue
(Microsoft.FSharp.Compiler.Interactive.FsiValuePrinterMode printMode,
Internal.Utilities.StructuredFormat.FormatOptions opts, System.Object x,
System.Type ty) [0x00000]

val y : uint64 =

&gt;<i> let z = 23uy;;
</I>

Exception raised during pretty printing.
Please report this so it can be fixed.
Trace: System.ArgumentException: parameters
  at System.Reflection.MonoMethod.Invoke (System.Object obj, BindingFlags
invokeAttr, System.Reflection.Binder binder, System.Object[] parameters,
System.Globalization.CultureInfo culture) [0x00000]
  at System.Reflection.MethodBase.Invoke (System.Object obj, System.Object[]
parameters) [0x00000]
  at
Microsoft.FSharp.Compiler.Interactive.Shell+Utilities.callGenericStaticMethod
(System.Type ty, System.String name, Microsoft.FSharp.Collections.FSharpList`1
tyargs, Microsoft.FSharp.Collections.FSharpList`1 args) [0x00000]
  at Microsoft.FSharp.Compiler.Interactive.Shell+FsiValuePrinter.PrintValue
(Microsoft.FSharp.Compiler.Interactive.FsiValuePrinterMode printMode,
Internal.Utilities.StructuredFormat.FormatOptions opts, System.Object x,
System.Type ty) [0x00000]

val z : byte =

&gt;<i> let a = 78us;;
</I>

Exception raised during pretty printing.
Please report this so it can be fixed.
Trace: System.ArgumentException: parameters
  at System.Reflection.MonoMethod.Invoke (System.Object obj, BindingFlags
invokeAttr, System.Reflection.Binder binder, System.Object[] parameters,
System.Globalization.CultureInfo culture) [0x00000]
  at System.Reflection.MethodBase.Invoke (System.Object obj, System.Object[]
parameters) [0x00000]
  at
Microsoft.FSharp.Compiler.Interactive.Shell+Utilities.callGenericStaticMethod
(System.Type ty, System.String name, Microsoft.FSharp.Collections.FSharpList`1
tyargs, Microsoft.FSharp.Collections.FSharpList`1 args) [0x00000]
  at Microsoft.FSharp.Compiler.Interactive.Shell+FsiValuePrinter.PrintValue
(Microsoft.FSharp.Compiler.Interactive.FsiValuePrinterMode printMode,
Internal.Utilities.StructuredFormat.FormatOptions opts, System.Object x,
System.Type ty) [0x00000]

val a : uint16 =

&gt;<i>
</I>



Reproducible: Always

Steps to Reproduce:
1. Install F# on Ubuntu 10.04 with Mono 2.4.4 
2. Fire up the F# Interactive console (fsi.exe) 
3. type - let x = 1234UL;; (it fails on others as well eg. let a = 78us;;)
4. FSI throws pretty printing exception.
Actual Results:  
Exception raised during pretty printing.
Please report this so it can be fixed.
Trace: System.ArgumentException: parameters
  at System.Reflection.MonoMethod.Invoke (System.Object obj, BindingFlags
invokeAttr, System.Reflection.Binder binder, System.Object[] parameters,
System.Globalization.CultureInfo culture) [0x00000]
  at System.Reflection.MethodBase.Invoke (System.Object obj, System.Object[]
parameters) [0x00000]
  at
Microsoft.FSharp.Compiler.Interactive.Shell+Utilities.callGenericStaticMethod
(System.Type ty, System.String name, Microsoft.FSharp.Collections.FSharpList`1
tyargs, Microsoft.FSharp.Collections.FSharpList`1 args) [0x00000]
  at Microsoft.FSharp.Compiler.Interactive.Shell+FsiValuePrinter.PrintValue
(Microsoft.FSharp.Compiler.Interactive.FsiValuePrinterMode printMode,
Internal.Utilities.StructuredFormat.FormatOptions opts, System.Object x,
System.Type ty) [0x00000]


Expected Results:  
Print of the value of the variable and it's type eg.

val x : int64 = 1234L

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="102240.html">[Mono-bugs] [Bug 622732] Creating outlets to UIAlertView does not generate correct code
</A></li>
	<LI>Next message: <A HREF="102253.html">[Mono-bugs] [Bug 622847] Problem with the FSI in F#. Pretty printing exception when I try to do simple assignments of numeric values.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#102249">[ date ]</a>
              <a href="thread.html#102249">[ thread ]</a>
              <a href="subject.html#102249">[ subject ]</a>
              <a href="author.html#102249">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
