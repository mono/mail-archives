<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 619929] New: System.InvalidCastException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20619929%5D%20New%3A%20System.InvalidCastException&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="101925.html">
   <LINK REL="Next"  HREF="101927.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 619929] New: System.InvalidCastException</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20619929%5D%20New%3A%20System.InvalidCastException&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 619929] New: System.InvalidCastException">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Jul  5 14:44:21 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="101925.html">[Mono-bugs] [Bug 601783] SharpPcap tries to get a list of network	Interfaces
</A></li>
        <LI>Next message: <A HREF="101927.html">[Mono-bugs] [Bug 619929] System.InvalidCastException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#101926">[ date ]</a>
              <a href="thread.html#101926">[ thread ]</a>
              <a href="subject.html#101926">[ subject ]</a>
              <a href="author.html#101926">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=619929">http://bugzilla.novell.com/show_bug.cgi?id=619929</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=619929#c0">http://bugzilla.novell.com/show_bug.cgi?id=619929#c0</A>


           Summary: System.InvalidCastException
    Classification: Mono
           Product: Mono: Runtime
           Version: SVN
          Platform: 64bit
        OS/Version: RHEL 5
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: misc
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">srfcanada at hotmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.2; WOW64;
Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; MS-RTC LM 8)

starting around june 24, I started getting Invalid cast exceptions and they
seem to all be when doing a foreach using the KeyValuePair class iterating on a
dictionary. The strange thing is , when I recompile the specific project and
rerun the test then the error goes away. Then recompile the whole solution and
the error comes back so trying to debug and tracking it down is really
challenging so hopfully something can be figured out from this information. The
june24 build works ok but builds after that is causing this error so hofully
something can be figured out from this

this is causing the error:
private readonly IRelationshipDictionary&lt;string, IArray&gt;
m_propertyNameToArrayMap = new RelationshipDictionary&lt;string, IArray&gt;();
foreach (KeyValuePair&lt;string, IArray&gt; pair in m_propertyNameToArrayMap)

error generated on the foreach:
Drms.Server.DomainModel.Subsurface.Test.AquiferTest.TestSimpleReservoirWithAquifer
:<i> System.InvalidCastException : Cannot cast from source type to destination
</I>type.

recompiling the project and the error goes away. Recompiling all the projects
and the errors come back. when I run all our tests, Ill sometimes get 100 test
faiures, other times I will get 40 test failures so these cast errors seem to
very random in nature but the common thing seems to be related to using the
KeyValuePair&lt;&gt; class.

Reproducible: Sometimes

Steps to Reproduce:
1.
2.
3.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="101925.html">[Mono-bugs] [Bug 601783] SharpPcap tries to get a list of network	Interfaces
</A></li>
	<LI>Next message: <A HREF="101927.html">[Mono-bugs] [Bug 619929] System.InvalidCastException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#101926">[ date ]</a>
              <a href="thread.html#101926">[ thread ]</a>
              <a href="subject.html#101926">[ subject ]</a>
              <a href="author.html#101926">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
