<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 81947][Nor] New - strange compilation error and	segmentation fault
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2081947%5D%5BNor%5D%20New%20-%20strange%20compilation%20error%20and%0A%09segmentation%20fault&In-Reply-To=bug-81947%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="058304.html">
   <LINK REL="Next"  HREF="058306.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 81947][Nor] New - strange compilation error and	segmentation fault</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2081947%5D%5BNor%5D%20New%20-%20strange%20compilation%20error%20and%0A%09segmentation%20fault&In-Reply-To=bug-81947%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 81947][Nor] New - strange compilation error and	segmentation fault">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Mon Jun 25 13:52:34 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="058304.html">[Mono-bugs] [Bug 81924][Blo] Changed - On big endian ARM IXP425	system: System.ArgumentException: Size is too big
</A></li>
        <LI>Next message: <A HREF="058306.html">[Mono-bugs] [Bug 81924][Blo] Changed - On big endian ARM IXP425	system: System.ArgumentException: Size is too big
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58305">[ date ]</a>
              <a href="thread.html#58305">[ thread ]</a>
              <a href="subject.html#58305">[ subject ]</a>
              <a href="author.html#58305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">itaibh at gmail.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=81947">http://bugzilla.ximian.com/show_bug.cgi?id=81947</A>

--- shadow/81947	2007-06-25 13:52:33.000000000 -0400
+++ shadow/81947.tmp.24872	2007-06-25 13:52:33.000000000 -0400
@@ -0,0 +1,286 @@
+Bug#: 81947
+Product: Mono: Compilers
+Version: 1.2
+OS: GNU/Linux [Other]
+OS Details: 
+Status: NEW   
+Resolution: 
+Severity: 
+Priority: Normal
+Component: C#
+AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rharinath at novell.com</A>                            
+ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">itaibh at gmail.com</A>               
+QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
+TargetMilestone: ---
+URL: 
+Cc: 
+Summary: strange compilation error and segmentation fault
+
+Hi. I was compiling a rather big project using mdtool today, and it failed
+to compile. The project is based on a solution with several projects in it.
+For one of the inner projects the compiler (gmcs, mono-1.2.3.1) crashed
+with segmentation fault. The strange thing is that it was looking for a
+type that wasn't there anymore, not even references. The stranger part is
+that it did compile on other computers, and we could just not figure out
+the reason for this (diffed all files/directories/etc. possible)
+
+Here is the compilation log (again - gmcs of mono 1.2.3.1, note that the
+due to company security issues, some names were changed in this log - hope
+I did not forget anything).
+
+cd 
+mdtool build --buildfile:./HmI2.mds
+MonoDevelop Build Tool
+Loading solution: ./HmI2.mds
+   Loading project: /modules/HmI2/HmI2.mdp
+   Loading project:
+   /modules/HmI2/Components/Components.mdp
+   Loading project: /modules/HmI2/Engines/Engines.mdp
+   Loading project: /modules/HmI2/Forms/Forms.mdp
+   Loading project: /modules/HmI2/Services/Services.mdp
+   Loading project: /modules/HmI2/Widgets/Widgets.mdp
+   Loading solution: /modules/HmI2/tools/tools.mds
+      Loading project:
+      /modules/HmI2/tools/DatasetEdit/DatasetEdit.mdp
+   Loading project: /modules/HmI2/FormAPI/FormAPI.mdp
+   Loading project: /modules/HmI2/Utils/Utils.mdp
+   Loading project:
+   /modules/HmI2/WidgetsAPI/WidgetsAPI.mdp
+   Loading project:
+   /modules/HmI2/SpecialWidgets/SpecialWidgets.mdp
+Building Solution HmI2
+   Building Project: Forms (linux)
+      Performing main compilation...
+      
+      
+      ** (/usr/lib/mono/2.0/gmcs.exe:19068): WARNING **: The class
+      HMI2.Services.IRecorder could not be loaded, used in Services,
+      Version=0.0.0.0, Culture=neutral
+      
+      ** (/usr/lib/mono/2.0/gmcs.exe:19068): WARNING **: The class
+      HMI2.Services.IRecorder could not be loaded, used in Services,
+      Version=0.0.0.0, Culture=neutral
+      Stacktrace:
+      
+        at (wrapper managed-to-native) System.MonoType.GetMethodsByName
+      (string,System.Reflection.BindingFlags,bool,System.Type) &lt;0x00004&gt;
+        at (wrapper managed-to-native) System.MonoType.GetMethodsByName
+      (string,System.Reflection.BindingFlags,bool,System.Type) &lt;0xffffffff&gt;
+        at System.MonoType.GetMethods (System.Reflection.BindingFlags)
+      &lt;0x00014&gt;
+        at Mono.CSharp.MemberCache.AddMethods
+      (System.Reflection.BindingFlags,System.Type) &lt;0x00055&gt;
+        at Mono.CSharp.MemberCache.AddMethods (System.Type) &lt;0x00013&gt;
+        at Mono.CSharp.MemberCache..ctor (Mono.CSharp.IMemberContainer)
+      &lt;0x00164&gt;
+        at Mono.CSharp.TypeHandle..ctor (System.Type) &lt;0x0013f&gt;
+        at Mono.CSharp.TypeHandle.GetTypeHandle (System.Type) &lt;0x0004e&gt;
+        at Mono.CSharp.TypeHandle.GetMemberCache (System.Type) &lt;0x0000b&gt;
+        at Mono.CSharp.TypeManager.LookupMemberCache (System.Type) &lt;0x00191&gt;
+        at Mono.CSharp.TypeHandle..ctor (System.Type) &lt;0x000a2&gt;
+        at Mono.CSharp.TypeHandle.GetTypeHandle (System.Type) &lt;0x0004e&gt;
+        at Mono.CSharp.TypeHandle.GetMemberCache (System.Type) &lt;0x0000b&gt;
+        at Mono.CSharp.TypeManager.LookupMemberCache (System.Type) &lt;0x00191&gt;
+        at Mono.CSharp.TypeHandle..ctor (System.Type) &lt;0x000a2&gt;
+        at Mono.CSharp.TypeHandle.GetTypeHandle (System.Type) &lt;0x0004e&gt;
+        at Mono.CSharp.TypeHandle.GetMemberCache (System.Type) &lt;0x0000b&gt;
+        at Mono.CSharp.TypeManager.MemberLookup_FindMembers
+     
+(System.Type,System.Reflection.MemberTypes,System.Reflection.BindingFlags,
+      string,bool&amp;) &lt;0x0022a&gt;
+        at Mono.CSharp.TypeManager.RealMemberLookup
+     
+(System.Type,System.Type,System.Type,System.Reflection.MemberTypes,System.
+      Reflection.BindingFlags,string,System.Collections.IList) &lt;0x00192&gt;
+        at Mono.CSharp.TypeManager.MemberLookup
+     
+(System.Type,System.Type,System.Type,System.Reflection.MemberTypes,System.
+      Reflection.BindingFlags,string,System.Collections.IList) &lt;0x0001f&gt;
+        at Mono.CSharp.Expression.MemberLookup
+     
+(System.Type,System.Type,System.Type,string,System.Reflection.MemberTypes,
+      System.Reflection.BindingFlags,Mono.CSharp.Location) &lt;0x00061&gt;
+        at Mono.CSharp.Expression.MemberLookup
+      (System.Type,System.Type,System.Type,string,Mono.CSharp.Location)
+      &lt;0x0001d&gt;
+        at Mono.CSharp.MemberAccess.DoResolve
+      (Mono.CSharp.EmitContext,Mono.CSharp.Expression) &lt;0x002dc&gt;
+        at Mono.CSharp.MemberAccess.DoResolve (Mono.CSharp.EmitContext)
+      &lt;0x0000f&gt;
+        at Mono.CSharp.Expression.Resolve
+      (Mono.CSharp.EmitContext,Mono.CSharp.ResolveFlags) &lt;0x00142&gt;
+        at Mono.CSharp.Invocation.DoResolve (Mono.CSharp.EmitContext) &lt;0x000c1&gt;
+        at Mono.CSharp.Expression.Resolve
+      (Mono.CSharp.EmitContext,Mono.CSharp.ResolveFlags) &lt;0x00142&gt;
+        at Mono.CSharp.Expression.Resolve (Mono.CSharp.EmitContext) &lt;0x00012&gt;
+        at Mono.CSharp.ExpressionStatement.ResolveStatement
+      (Mono.CSharp.EmitContext) &lt;0x00016&gt;
+        at Mono.CSharp.StatementExpression.Resolve (Mono.CSharp.EmitContext)
+      &lt;0x0001f&gt;
+        at Mono.CSharp.Block.Resolve (Mono.CSharp.EmitContext) &lt;0x001ef&gt;
+        at Mono.CSharp.EmitContext.ResolveTopBlock
+     
+(Mono.CSharp.EmitContext,Mono.CSharp.ToplevelBlock,Mono.CSharp.Parameters,
+      Mono.CSharp.IMethodData,bool&amp;) &lt;0x0018a&gt;
+        at Mono.CSharp.EmitContext.EmitTopBlock
+      (Mono.CSharp.IMethodData,Mono.CSharp.ToplevelBlock) &lt;0x00048&gt;
+        at Mono.CSharp.MethodData.Emit (Mono.CSharp.DeclSpace) &lt;0x00162&gt;
+        at Mono.CSharp.Method.Emit () &lt;0x00017&gt;
+        at Mono.CSharp.TypeContainer.EmitType () &lt;0x002e9&gt;
+        at Mono.CSharp.RootContext.EmitCode () &lt;0x00206&gt;
+        at Mono.CSharp.Driver.MainDriver (string[]) &lt;0x00a55&gt;
+        at Mono.CSharp.Driver.Main (string[]) &lt;0x00055&gt;
+        at (wrapper runtime-invoke) System.Object.runtime_invoke_int_string[]
+      (object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+      
+      Native stacktrace:
+      
+      	/usr/bin/mono [0x815ef5a]
+      	/usr/bin/mono [0x8148dd3]
+      	[0xffffe440]
+      	/usr/bin/mono [0x80f14aa]
+      	/usr/bin/mono [0x80f19a9]
+      	/usr/bin/mono [0x80986b5]
+      	[0xb7093f75]
+      	[0xb6db822d]
+      	[0xb6db7f4e]
+      	[0xb6db7ea4]
+      	[0xb6db7acd]
+      	[0xb6db7938]
+      	[0xb6db77b7]
+      	[0xb6db76e4]
+      	[0xb6db76aa]
+      	[0xb6db789b]
+      	[0xb6db77b7]
+      	[0xb6db76e4]
+      	[0xb6db76aa]
+      	[0xb6db789b]
+      	[0xb6db77b7]
+      	[0xb6db76e4]
+      	[0xb6da996b]
+      	[0xb6da92f3]
+      	[0xb6da9140]
+      	[0xb6da8c12]
+      	[0xb6ccaa56]
+      	[0xb6cc9bed]
+      	[0xb6cc98f8]
+      	[0xb6cbdc13]
+      	[0xb6ca1362]
+      	[0xb6cbdc13]
+      	[0xb6cbda43]
+      	[0xb6cbd9cf]
+      	[0xb6cb6c98]
+      	[0xb6cb64b0]
+      	[0xb6cb6023]
+      	[0xb6ca09f1]
+      	[0xb6ca06b3]
+      	[0xb6ca0518]
+      	[0xb6cb13fa]
+      	[0xb6caff17]
+      	[0xb751c4fe]
+      	[0xb7519f06]
+      	[0xb7512075]
+      	/usr/bin/mono(mono_runtime_exec_main+0x13c) [0x809005c]
+      	/usr/bin/mono(mono_runtime_run_main+0x21f) [0x80902ef]
+      	/usr/bin/mono(mono_main+0xf98) [0x8059228]
+      	/usr/bin/mono [0x8057dae]
+      	/lib/libc.so.6(__libc_start_main+0xdf) [0xb7cfee1f]
+      	/usr/bin/mono(dl_iterate_phdr+0x1ad) [0x8057cf1]
+      
+      Debug info from gdb:
+      
+      (no debugging symbols found)
+      Using host libthread_db library &quot;/lib/libthread_db.so.1&quot;.
+      (no debugging symbols found)
+      (no debugging symbols found)
+      (no debugging symbols found)
+      (no debugging symbols found)
+      (no debugging symbols found)
+      (no debugging symbols found)
+      [Thread debugging using libthread_db enabled]
+      [New Thread -1211196768 (LWP 19068)]
+      [New Thread -1219429456 (LWP 19073)]
+      [New Thread -1219347536 (LWP 19072)]
+      (no debugging symbols found)
+      (no debugging symbols found)
+      (no debugging symbols found)
+      (no debugging symbols found)
+      (no debugging symbols found)
+      0xffffe410 in __kernel_vsyscall ()
+        3 Thread -1219347536 (LWP 19072)  0xffffe410 in __kernel_vsyscall ()
+        2 Thread -1219429456 (LWP 19073)  0xffffe410 in __kernel_vsyscall ()
+        1 Thread -1211196768 (LWP 19068)  0xffffe410 in __kernel_vsyscall ()
+      
+      Thread 3 (Thread -1219347536 (LWP 19072)):
+      #0  0xffffe410 in __kernel_vsyscall ()
+      #1  0xb7e31d66 in ?? () from /lib/libpthread.so.0
+      #2  0x080f408e in collection_thread ()
+      #3  0xb7e2c3dd in start_thread () from /lib/libpthread.so.0
+      #4  0xb7da2c8e in clone () from /lib/libc.so.6
+      
+      Thread 2 (Thread -1219429456 (LWP 19073)):
+      #0  0xffffe410 in __kernel_vsyscall ()
+      #1  0xb7e2ecf6 in pthread_cond_wait@@GLIBC_2.3.2 () from
+      /lib/libpthread.so.0
+      #2  0x080f952f in timedwait_signal_poll_cond ()
+      #3  0x080f969f in _wapi_handle_timedwait_signal_handle ()
+      #4  0x080f980a in _wapi_handle_wait_signal_handle ()
+      #5  0x0810a685 in WaitForSingleObjectEx ()
+      #6  0x080a5fdc in finalizer_thread ()
+      #7  0x080bffae in start_wrapper ()
+      #8  0x08109a0f in thread_start_routine ()
+      #9  0x0811ebb3 in GC_start_routine ()
+      #10 0xb7e2c3dd in start_thread () from /lib/libpthread.so.0
+      #11 0xb7da2c8e in clone () from /lib/libc.so.6
+      
+      Thread 1 (Thread -1211196768 (LWP 19068)):
+      #0  0xffffe410 in __kernel_vsyscall ()
+      #1  0xb7d9c201 in ?? () from /lib/libc.so.6
+      #2  0xb7e946fb in g_spawn_sync () from /lib/libglib-2.0.so.0
+      #3  0xb7e94ad7 in g_spawn_command_line_sync () from /lib/libglib-2.0.so.0
+      #4  0x0815eff3 in mono_handle_native_sigsegv ()
+      #5  0x08148dd3 in sigsegv_signal_handler ()
+      #6  &lt;signal handler called&gt;
+      #7  0x080e21b5 in mono_metadata_signature_equal ()
+      #8  0x080f14aa in mono_class_setup_vtable_general ()
+      #9  0x080f19a9 in mono_class_setup_vtable ()
+      #10 0x080986b5 in ves_icall_Type_GetMethodsByName ()
+      #11 0xb7093f75 in ?? ()
+      #12 0x006edf70 in ?? ()
+      #13 0x00000000 in ?? ()
+      #0  0xffffe410 in __kernel_vsyscall ()
+      
+      
+      =================================================================
+      Got a SIGSEGV while executing native code. This usually indicates
+      a fatal error in the mono runtime or one of the native libraries 
+      used by your application.
+      =================================================================
+      
+      
+      
+      Build complete -- 0 errors, 0 warnings
+   Building Project: HMI2 (linux)
+      Performing main compilation...
+      Compilation failed: 1 error(s), 0 warnings
+      
+      error CS0006: cannot find metadata file
+      `/modules/HmI2/Forms/obj/linux/Forms.dll'
+      
+      
+2007-06-25 16:06:10,342 [-1210316128] ERROR
+MonoDevelop.Core.ILoggingService [(null)] - Can't copy reference file from
+/modules/HmI2/Forms/obj/linux/Forms.dll to
+/modules/HmI2/bin/linux/Forms.dll: System.IO.FileNotFoundException:
+/modules/HmI2/Forms/obj/linux/Forms.dll does not exist
+File name: '/modules/HmI2/Forms/obj/linux/Forms.dll'
+  at System.IO.File.Copy (System.String src, System.String dest, Boolean
+overwrite) [0x00000] 
+  at MonoDevelop.Core.FileSystem.DefaultFileSystemExtension.CopyFile
+(System.String source, System.String dest, Boolean overwrite) [0x00000] 
+  at MonoDevelop.Core.FileService.CopyFile (System.String sourcePath,
+System.String destPath) [0x00000] 
+  at MonoDevelop.Projects.Project.CopyReferencesToOutputPath (System.String
+destPath, Boolean force) [0x00000] 
+      Build complete -- 1 error, 0 warnings
+make: *** [first] Error 1
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="058304.html">[Mono-bugs] [Bug 81924][Blo] Changed - On big endian ARM IXP425	system: System.ArgumentException: Size is too big
</A></li>
	<LI>Next message: <A HREF="058306.html">[Mono-bugs] [Bug 81924][Blo] Changed - On big endian ARM IXP425	system: System.ArgumentException: Size is too big
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58305">[ date ]</a>
              <a href="thread.html#58305">[ thread ]</a>
              <a href="subject.html#58305">[ subject ]</a>
              <a href="author.html#58305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
