<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 80743][Nor] Changed - Segfault when restarting	webapp in rapid succession
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080743%5D%5BNor%5D%20Changed%20-%20Segfault%20when%20restarting%0A%09webapp%20in%20rapid%20succession&In-Reply-To=bug-80743%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="058262.html">
   <LINK REL="Next"  HREF="058264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 80743][Nor] Changed - Segfault when restarting	webapp in rapid succession</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080743%5D%5BNor%5D%20Changed%20-%20Segfault%20when%20restarting%0A%09webapp%20in%20rapid%20succession&In-Reply-To=bug-80743%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 80743][Nor] Changed - Segfault when restarting	webapp in rapid succession">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Fri Jun 22 06:53:41 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="058262.html">[Mono-bugs] [Bug 80743][Nor] Changed - Segfault when restarting	webapp in rapid succession
</A></li>
        <LI>Next message: <A HREF="058264.html">[Mono-bugs] [Bug 81929][Maj] New - MONO_DISABLE_SHM aborts	application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58263">[ date ]</a>
              <a href="thread.html#58263">[ thread ]</a>
              <a href="subject.html#58263">[ subject ]</a>
              <a href="author.html#58263">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">juraj at hotfeet.ch.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=80743">http://bugzilla.ximian.com/show_bug.cgi?id=80743</A>

--- shadow/80743	2007-06-22 06:50:14.000000000 -0400
+++ shadow/80743.tmp.26300	2007-06-22 06:53:40.000000000 -0400
@@ -670,6 +670,203 @@
 do that (it didn't improve things for me, I'll take a look at this
 again after vacations if still unresolved). Thanks.
 
 ------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">juraj at hotfeet.ch</A>  2007-06-22 06:50 -------
 I can confirm Paolo's experience with the patch to marashal.c, mono
 crashes roughly with the same frequency - patch applied or not.
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">juraj at hotfeet.ch</A>  2007-06-22 06:53 -------
+With mono from SVN (again with both the patch applied and without
+patch), I'm occasionally seeing crashes with following stack traces. I
+don't think I've seen that before.
+
+Stacktrace:
+
+  at (wrapper managed-to-native) System.AppDomain.LoadAssembly
+(string,System.Security.Policy.Evidence,bool) &lt;0x00004&gt;
+  at (wrapper managed-to-native) System.AppDomain.LoadAssembly
+(string,System.Security.Policy.Evidence,bool) &lt;0xffffffff&gt;
+  at System.AppDomain.Load (string) &lt;0x00018&gt;
+  at (wrapper remoting-invoke-with-check) System.AppDomain.Load
+(string) &lt;0xffffffff&gt;
+  at System.Reflection.Assembly.Load (string) &lt;0x0001b&gt;
+  at System.Net.Sockets.Socket..cctor () &lt;0x00041&gt;
+  at (wrapper runtime-invoke)
+System.Configuration.ConfigurationSettings.runtime_invoke_void
+(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+  at System.Net.Dns..cctor () &lt;0xffffffff&gt;
+  at System.Net.Dns..cctor () &lt;0x00008&gt;
+  at (wrapper runtime-invoke)
+System.Configuration.ConfigurationSettings.runtime_invoke_void
+(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+  at System.Web.HttpRequest.GetLocalHostAddresses () &lt;0xffffffff&gt;
+  at System.Web.HttpRequest.GetLocalHostAddresses () &lt;0x00012&gt;
+  at System.Web.HttpRequest..cctor () &lt;0x00035&gt;
+  at (wrapper runtime-invoke)
+System.Web.Hosting.ApplicationHost.runtime_invoke_void
+(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+  at System.Web.HttpContext..ctor (System.Web.HttpWorkerRequest)
+&lt;0xffffffff&gt;
+  at System.Web.HttpContext..ctor (System.Web.HttpWorkerRequest) &lt;0x0004e&gt;
+  at System.Web.HttpRuntime.RealProcessRequest (object) &lt;0x00061&gt;
+  at System.Web.HttpRuntime.ProcessRequest
+(System.Web.HttpWorkerRequest) &lt;0x0002a&gt;
+  at TinyHost.Execute (string,System.IO.TextWriter) &lt;0x00030&gt;
+  at (wrapper runtime-invoke)
+TinyHost.runtime_invoke_void_string_TextWriter
+(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+  at (wrapper managed-to-native)
+System.Runtime.Remoting.RemotingServices.InternalExecute
+(System.Reflection.MethodBase,object,object[],object[]&amp;) &lt;0x00004&gt;
+  at (wrapper managed-to-native)
+System.Runtime.Remoting.RemotingServices.InternalExecute
+(System.Reflection.MethodBase,object,object[],object[]&amp;) &lt;0xffffffff&gt;
+  at System.Runtime.Remoting.RemotingServices.InternalExecuteMessage
+(System.MarshalByRefObject,System.Runtime.Remoting.Messaging.IMethodCallMessage)
+&lt;0x0014e&gt;
+  at
+System.Runtime.Remoting.Messaging.StackBuilderSink.SyncProcessMessage
+(System.Runtime.Remoting.Messaging.IMessage) &lt;0x0009b&gt;
+  at
+System.Runtime.Remoting.Messaging.ServerObjectTerminatorSink.SyncProcessMessage
+(System.Runtime.Remoting.Messaging.IMessage) &lt;0x0005a&gt;
+  at System.Runtime.Remoting.Lifetime.LeaseSink.SyncProcessMessage
+(System.Runtime.Remoting.Messaging.IMessage) &lt;0x00021&gt;
+  at
+System.Runtime.Remoting.ClientActivatedIdentity.SyncObjectProcessMessage
+(System.Runtime.Remoting.Messaging.IMessage) &lt;0x0009b&gt;
+  at
+System.Runtime.Remoting.Messaging.ServerContextTerminatorSink.SyncProcessMessage
+(System.Runtime.Remoting.Messaging.IMessage) &lt;0x00135&gt;
+  at
+System.Runtime.Remoting.Contexts.CrossContextChannel.SyncProcessMessage
+(System.Runtime.Remoting.Messaging.IMessage) &lt;0x000c7&gt;
+  at
+System.Runtime.Remoting.Channels.ChannelServices.SyncDispatchMessage
+(System.Runtime.Remoting.Messaging.IMessage) &lt;0x00032&gt;
+  at System.AppDomain.ProcessMessageInDomain
+(byte[],System.Runtime.Remoting.Messaging.CADMethodCallMessage,byte[]&amp;,System.Runtime.Remoting.Messaging.CADMethodReturnMessage&amp;)
+&lt;0x0005a&gt;
+  at (wrapper remoting-invoke-with-check)
+System.AppDomain.ProcessMessageInDomain
+(byte[],System.Runtime.Remoting.Messaging.CADMethodCallMessage,byte[]&amp;,System.Runtime.Remoting.Messaging.CADMethodReturnMessage&amp;)
+&lt;0xffffffff&gt;
+  at
+System.Runtime.Remoting.Channels.CrossAppDomainSink.ProcessMessageInDomain
+(byte[],System.Runtime.Remoting.Messaging.CADMethodCallMessage) &lt;0x00051&gt;
+  at (wrapper runtime-invoke)
+System.Runtime.Remoting.Channels.CrossAppDomainSink.runtime_invoke_CrossAppDomainSink/ProcessMessageRes_byte[]_CADMethodCallMessage
+(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+  at (wrapper managed-to-native)
+System.Reflection.MonoMethod.InternalInvoke (object,object[]) &lt;0x00004&gt;
+  at (wrapper managed-to-native)
+System.Reflection.MonoMethod.InternalInvoke (object,object[]) &lt;0xffffffff&gt;
+  at System.AppDomain.InvokeInDomainByID
+(int,System.Reflection.MethodInfo,object,object[]) &lt;0x00063&gt;
+  at
+System.Runtime.Remoting.Channels.CrossAppDomainSink.SyncProcessMessage
+(System.Runtime.Remoting.Messaging.IMessage) &lt;0x000ec&gt;
+  at System.Runtime.Remoting.Proxies.RemotingProxy.Invoke
+(System.Runtime.Remoting.Messaging.IMessage) &lt;0x002b8&gt;
+  at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke
+(System.Runtime.Remoting.Proxies.RealProxy,System.Runtime.Remoting.Messaging.IMessage,System.Exception&amp;,object[]&amp;)
+&lt;0x002e8&gt;
+  at (wrapper runtime-invoke)
+System.Runtime.Remoting.Proxies.RealProxy.runtime_invoke_object_RealProxy_IMessage_Exception&amp;_object[]&amp;
+(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+  at (wrapper managed-to-native)
+System.Object.__icall_wrapper_mono_remoting_wrapper (intptr,intptr)
+&lt;0x00004&gt;
+  at (wrapper managed-to-native)
+System.Object.__icall_wrapper_mono_remoting_wrapper (intptr,intptr)
+&lt;0xffffffff&gt;
+  at (wrapper remoting-invoke) TinyHost.Execute
+(string,System.IO.TextWriter) &lt;0xffffffff&gt;
+  at (wrapper xdomain-invoke) TinyHost.Execute
+(string,System.IO.TextWriter) &lt;0xffffffff&gt;
+  at (wrapper remoting-invoke-with-check) TinyHost.Execute
+(string,System.IO.TextWriter) &lt;0xffffffff&gt;
+  at TinyHost.Main (string[]) &lt;0x00117&gt;
+  at (wrapper runtime-invoke) TinyHost.runtime_invoke_int_string[]
+(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+
+Native stacktrace:
+
+        mono [0x81680ff]
+        mono [0x8132268]
+        [0x433440]
+        /lib/libc.so.6(vasprintf+0xbc) [0x8012cc]
+        /lib/libglib-2.0.so.0(g_vasprintf+0x37) [0xaa57b7]
+        /lib/libglib-2.0.so.0(g_strdup_vprintf+0x26) [0xa976e6]
+        /lib/libglib-2.0.so.0(g_strdup_printf+0x1b) [0xa9770b]
+        mono(mono_config_for_assembly+0x93) [0x80c0733]
+        mono(mono_assembly_open_full+0x292) [0x80be292]
+        mono(mono_assembly_load_full+0x9a1) [0x80bf271]
+        mono [0x80a2154]
+        [0xdd7eca]
+        [0x6d8c2b9]
+        [0x6d8c25e]
+        [0x6d8c1fc]
+        [0x6d8c0ea]
+        [0x277cf76]
+        mono(mono_runtime_class_init+0x1d5) [0x809e635]
+        mono [0x815471d]
+        mono [0x8079b6a]
+        [0x313032]
+        [0x277cf76]
+        mono(mono_runtime_class_init+0x1d5) [0x809e635]
+        mono [0x815471d]
+        mono [0x8079b6a]
+        [0x313032]
+        [0x6d8bb46]
+        [0x277b00e]
+        mono(mono_runtime_class_init+0x1d5) [0x809e635]
+        mono [0x815471d]
+        mono [0x8079b6a]
+        [0x313032]
+        [0x6d8b71a]
+        [0x6d8b373]
+        [0x277af11]
+        [0x277a9e4]
+        mono(mono_runtime_invoke_array+0x182) [0x80a1102]
+        mono [0x80de802]
+        [0xdd5dd8]
+        [0xdd5997]
+        [0xdd54b4]
+        [0xdd5383]
+        [0xdd5212]
+        [0xdd4e8c]
+        [0xdd4d86]
+        [0xdd4558]
+        [0xdd3a9b]
+        [0xdc3c3b]
+        [0xdc3a03]
+        [0xdc3892]
+        [0xdc34ae]
+        mono(mono_runtime_invoke_array+0x182) [0x80a1102]
+        mono [0x80e0f35]
+        [0x72002d]
+        [0x4634fc]
+        [0x44cc2d]
+        [0x44c579]
+        [0x44b739]
+        [0x44af85]
+        mono [0x809b08a]
+        mono [0x80ed6ee]
+        [0x4afd92]
+        [0x4afd3f]
+        [0x4afb34]
+        [0x4afa55]
+        [0x3db6b8]
+        [0x3db074]
+        mono(mono_runtime_exec_main+0x10e) [0x809fb8e]
+        mono(mono_runtime_run_main+0x1b9) [0x809fe79]
+        mono(mono_main+0xeaf) [0x80587df]
+        mono [0x8057422]
+        /lib/libc.so.6(__libc_start_main+0xdc) [0x7b9f2c]
+        mono [0x8057371]
+
+=================================================================
+Got a SIGSEGV while executing native code. This usually indicates
+a fatal error in the mono runtime or one of the native libraries 
+used by your application.
+=================================================================
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="058262.html">[Mono-bugs] [Bug 80743][Nor] Changed - Segfault when restarting	webapp in rapid succession
</A></li>
	<LI>Next message: <A HREF="058264.html">[Mono-bugs] [Bug 81929][Maj] New - MONO_DISABLE_SHM aborts	application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58263">[ date ]</a>
              <a href="thread.html#58263">[ thread ]</a>
              <a href="subject.html#58263">[ subject ]</a>
              <a href="author.html#58263">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
