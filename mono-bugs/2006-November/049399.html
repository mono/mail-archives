<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 79805][Maj] New - Soap Response interrupted	mid-way by Target of Invocation Exception
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2079805%5D%5BMaj%5D%20New%20-%20Soap%20Response%20interrupted%0A%09mid-way%20by%20Target%20of%20Invocation%20Exception&In-Reply-To=bug-79805%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049398.html">
   <LINK REL="Next"  HREF="049400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 79805][Maj] New - Soap Response interrupted	mid-way by Target of Invocation Exception</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2079805%5D%5BMaj%5D%20New%20-%20Soap%20Response%20interrupted%0A%09mid-way%20by%20Target%20of%20Invocation%20Exception&In-Reply-To=bug-79805%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 79805][Maj] New - Soap Response interrupted	mid-way by Target of Invocation Exception">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Thu Nov  2 07:15:15 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="049398.html">[Mono-bugs] [Bug 79708][Maj] Changed - gapi2-parser Unhandled	Exception, older gapi-parser fine
</A></li>
        <LI>Next message: <A HREF="049400.html">[Mono-bugs] [Bug 79805][Maj] Changed - Soap Response interrupted	mid-way by Target of Invocation Exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49399">[ date ]</a>
              <a href="thread.html#49399">[ thread ]</a>
              <a href="subject.html#49399">[ subject ]</a>
              <a href="author.html#49399">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">glen.ford at spinvox.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=79805">http://bugzilla.ximian.com/show_bug.cgi?id=79805</A>

--- shadow/79805	2006-11-02 07:15:15.000000000 -0500
+++ shadow/79805.tmp.10061	2006-11-02 07:15:15.000000000 -0500
@@ -0,0 +1,146 @@
+Bug#: 79805
+Product: Mono: Tools
+Version: 1.0
+OS: other
+OS Details: SuSe 10.0
+Status: NEW   
+Resolution: 
+Severity: Unknown
+Priority: Major
+Component: XSP
+AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gonzalo at ximian.com</A>                            
+ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">glen.ford at spinvox.com</A>               
+QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
+TargetMilestone: ---
+URL: 
+Cc: 
+Summary: Soap Response interrupted mid-way by Target of Invocation Exception
+
+Please fill in this template when reporting a bug, unless you know what you
+are doing.
+Description of Problem:
+
+A soap response from a method is generating a corrupted response, by
+examining the output using TCPDump it can be seen that the response is
+interrupted mid generation by a Target of Invocation Exception.
+
+Steps to reproduce the problem:
+1. Use the web service in the attachment via mod_mono or xsp
+2. Start tcpdump or your favorite pack trace on the port
+3. Run the client in the attachment
+
+Actual Results:
+
+1. The following output from the client:
+
+mono client.exe 
+Starting Test
+
+Unhandled Exception: System.Xml.XmlException: expected '&gt;' (3E) but found
+'&lt;' (3C)  Line 1, position 3074.
+  at System.Xml.XmlTextReader.Expect (Int32 expected) [0x00000] 
+  at System.Xml.XmlTextReader.ReadStartTag () [0x00000] 
+  at System.Xml.XmlTextReader.ReadContent () [0x00000] 
+  at System.Xml.XmlTextReader.Read () [0x00000] 
+  at System.Xml.XmlReader.Skip () [0x00000] 
+  at System.Xml.Serialization.XmlSerializationReader.ReadReferencingElement
+(System.String name, System.String ns, Boolean elementCanBeType,
+System.String fixupReference) [0x00000] 
+  at System.Xml.Serialization.XmlSerializationReader.ReadReferencingElement
+(System.String name, System.String ns, System.String fixupReference) [0x00000] 
+  at System.Xml.Serialization.XmlSerializationReader.ReadList
+(System.Object resultList) [0x00000] 
+  at System.Xml.Serialization.XmlSerializationReader.ReadReferencedElement
+(System.String name, System.String ns) [0x00000] 
+  at System.Xml.Serialization.XmlSerializationReader.ReadReferencedElement
+() [0x00000] 
+  at System.Xml.Serialization.XmlSerializationReader.ReadReferencedElements
+() [0x00000] 
+  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadMessage
+(System.Xml.Serialization.XmlMembersMapping typeMap) [0x00000] 
+  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadRoot ()
+[0x00000] 
+  at System.Xml.Serialization.XmlSerializer.Deserialize
+(System.Xml.Serialization.XmlSerializationReader reader) [0x00000] 
+
+
+
+2. Verify you see the following on the tcp trace:
+
+HTTP/1.1 500 Internal Server Error^M
+Date: Thu, 02 Nov 2006 11:02:47 GMT^M
+Server: Apache/2.0.54 (Linux/SUSE)^M
+Content-Length: 3461^M
+Cache-Control: private^M
+Connection: close^M
+Content-Type: text/xml; charset=utf-8^M
+^M
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;soap:Envelope
+xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
+xmlns:xsd=&quot;<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>
+xmlns:soap=&quot;<A HREF="http://schemas.xmlsoap.org/soap/envelope/&quot;">http://schemas.xmlsoap.org/soap/envelope/&quot;</A>&gt;&lt;soap:Body
+soap:encodingStyle=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>&gt;&lt;q1:Method1Response
+xmlns:q1=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A>&gt;&lt;Method1Result href=&quot;#id1&quot;
+/&gt;&lt;/q1:Method1Response&gt;&lt;q2:Array id=&quot;id1&quot; xmlns:q3=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A>
+q2:arrayType=&quot;q3:Item[200]&quot;
+xmlns:q2=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>&gt;&lt;Item href=&quot;#id2&quot;
+/&gt;&lt;Item href=&quot;#id3&quot; /&gt;&lt;Item href=&quot;#id4&quot; /&gt;&lt;Item href=&quot;#id5&quot; /&gt;&lt;Item
+href=&quot;#id6&quot; /&gt;&lt;Item href=&quot;#id7&quot; /&gt;&lt;Item href=&quot;#id8&quot; /&gt;&lt;Item href=&quot;#id9&quot;
+/&gt;&lt;Item href=&quot;#id10&quot; /&gt;&lt;Item href=&quot;#id11&quot; /&gt;&lt;Item href=&quot;#id12&quot; /&gt;&lt;Item
+href=&quot;#id13&quot; /&gt;&lt;Item href=&quot;#id14&quot; /&gt;&lt;Item href=&quot;#id15&quot; /&gt;&lt;Item href=&quot;#id16&quot;
+/&gt;&lt;Item href=&quot;#id17&quot; /&gt;&lt;Item href=&quot;#id18&quot; /&gt;&lt;Item href=&quot;#id19&quot; /&gt;&lt;Item
+href=&quot;#id20&quot; /&gt;&lt;Item href=&quot;#id21&quot; /&gt;&lt;Item href=&quot;#id22&quot; /&gt;&lt;Item href=&quot;#id23&quot;
+/&gt;&lt;Item href=&quot;#id24&quot; /&gt;&lt;Item href=&quot;#id25&quot; /&gt;&lt;Item href=&quot;#id26&quot; /&gt;&lt;Item
+href=&quot;#id27&quot; /&gt;&lt;Item href=&quot;#id28&quot; /&gt;&lt;Item href=&quot;#id29&quot; /&gt;&lt;Item href=&quot;#id30&quot;
+/&gt;&lt;Item href=&quot;#id31&quot; /&gt;&lt;Item href=&quot;#id32&quot; /&gt;&lt;Item href=&quot;#id33&quot; /&gt;&lt;Item
+href=&quot;#id34&quot; /&gt;&lt;Item href=&quot;#id35&quot; /&gt;&lt;Item href=&quot;#i/&gt;&lt;Item href=&quot;#id37&quot;
+/&gt;&lt;Item href=&quot;#id38&quot; /&gt;&lt;Item href=&quot;#id39&quot; /&gt;&lt;Item href=&quot;#id40&quot; /&gt;&lt;Item
+href=&quot;#id41&quot; /&gt;&lt;Item href=&quot;#id42&quot; /&gt;&lt;Item href=&quot;#id43&quot; /&gt;&lt;Item href=&quot;#id44&quot;
+/&gt;&lt;Item href=&quot;#id45&quot; /&gt;&lt;Item href=&quot;#id46&quot; /&gt;&lt;Item href=&quot;#id47&quot; /&gt;&lt;Item
+href=&quot;#id48&quot; /&gt;&lt;Item href=&quot;#id49&quot; /&gt;&lt;Item href=&quot;#id50&quot; /&gt;&lt;Item href=&quot;#id51&quot;
+/&gt;&lt;Item href=&quot;#id52&quot; /&gt;&lt;Item href=&quot;#id53&quot; /&gt;&lt;Item href=&quot;#id54&quot; /&gt;&lt;Item
+href=&quot;#id55&quot; /&gt;&lt;Item href=&quot;#id56&quot; /&gt;&lt;Item href=&quot;#id57&quot; /&gt;&lt;Item href=&quot;#id58&quot;
+/&gt;&lt;Item href=&quot;#id59&quot; /&gt;&lt;Item href=&quot;#id60&quot; /&gt;&lt;Item href=&quot;#id61&quot; /&gt;&lt;Item
+href=&quot;#id62&quot; /&gt;&lt;Item href=&quot;#id63&quot; /&gt;&lt;Item href=&quot;#id64&quot; /&gt;&lt;Item href=&quot;#id65&quot;
+/&gt;&lt;Item href=&quot;#id66&quot; /&gt;&lt;Item href=&quot;#id67&quot; /&gt;&lt;Item href=&quot;#id68&quot; /&gt;&lt;Item
+href=&quot;#id69&quot; /&gt;&lt;Item href=&quot;#id70&quot; /&gt;&lt;Item href=&quot;#id71&quot; /&gt;&lt;Item href=&quot;#id72&quot;
+/&gt;&lt;Item href=&quot;#id73&quot; /&gt;&lt;Item href=&quot;#id74&quot; /&gt;&lt;Item href=&quot;#id75&quot; /&gt;&lt;Item
+href=&quot;#id76&quot; /&gt;&lt;Item href=&quot;#id77&quot; /&gt;&lt;Item href=&quot;#id78&quot; /&gt;&lt;Item href=&quot;#id79&quot;
+/&gt;&lt;Item href=&quot;#id80&quot; /&gt;&lt;Item href=&quot;#id81&quot; /&gt;&lt;Item href=&quot;#id82&quot; /&gt;&lt;Item
+href=&quot;#id83&quot; /&gt;&lt;Item href=&quot;#id84&quot; /&gt;&lt;Item href=&quot;#id85&quot; /&gt;&lt;Item href=&quot;#id86&quot;
+/&gt;&lt;Item href=&quot;#id87&quot; /&gt;&lt;Item href=&quot;#id88&quot; /&gt;&lt;Item href=&quot;#id89&quot; /&gt;&lt;Item
+href=&quot;#id90&quot; /&gt;&lt;Item href=&quot;#id91&quot; /&gt;&lt;Item href=&quot;#id92&quot; /&gt;&lt;Item href=&quot;#id93&quot;
+/&gt;&lt;Item href=&quot;#id94&quot; /&gt;&lt;Item href=&quot;#id95&quot; /&gt;&lt;Item href=&quot;#id96&quot; /&gt;&lt;Item
+href=&quot;#id97&quot; /&gt;&lt;Item href=&quot;#id98&quot; /&gt;&lt;Item href=&quot;#id99&quot; /&gt;&lt;Item
+href=&quot;#id100&quot; /&gt;&lt;Item href=&quot;#id101&quot; /&gt;&lt;Item href=&quot;#id102&quot; /&gt;&lt;Item
+href=&quot;#id103&quot; /&gt;&lt;Item href=&quot;#id104&quot; /&gt;&lt;Item href=&quot;#id105&quot; /&gt;&lt;Item
+href=&quot;#id106&quot; /&gt;&lt;Item href=&quot;#id107&quot; /&gt;&lt;Item href=&quot;#id108&quot; /&gt;&lt;Item
+href=&quot;#id109&quot; /&gt;&lt;Item href=&quot;#id110&quot; /&gt;&lt;Item href=&quot;#id111&quot; /&gt;&lt;Item
+href=&quot;#id112&quot; /&gt;&lt;Item href=&quot;#id113&quot; /&gt;&lt;Item href=&quot;#id114&quot; /&gt;&lt;Item
+href=&quot;#id115&quot; /&gt;&lt;Item href=&quot;#id116&quot; /&gt;&lt;Item href=&quot;#id117&quot; /&gt;&lt;Item
+href=&quot;#id118&quot; /&gt;&lt;Item href=&quot;#id119&quot; /&gt;&lt;Item href=&quot;#id120&quot; /&gt;&lt;Item
+href=&quot;#id121&quot; /&gt;&lt;Item href=&quot;#id122&quot; /&gt;&lt;It&lt;?xml version=&quot;1.0&quot;
+encoding=&quot;utf-8&quot;?&gt;&lt;soap:Envelope
+xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
+xmlns:xsd=&quot;<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>
+xmlns:soap=&quot;<A HREF="http://schemas.xmlsoap.org/soap/envelope/&quot;">http://schemas.xmlsoap.org/soap/envelope/&quot;</A>&gt;&lt;soap:Body&gt;&lt;soap:Fault&gt;&lt;faultcode&gt;soap:Server&lt;/faultcode&gt;&lt;faultstring&gt;Exception
+has been thrown by the target of an
+invocation.&lt;/faultstring&gt;&lt;/soap:Fault&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;
+
+
+Expected Results:
+
+The following output from the client:
+
+$ mono client.exe
+Starting.
+$ 
+
+How often does this happen? 
+
+Once the soap call fails once then on every call until the xsp is restarted.
+
+
+Additional Information:
+
+mono 1.1.16.1 (have also tried mono 1.1.18)
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049398.html">[Mono-bugs] [Bug 79708][Maj] Changed - gapi2-parser Unhandled	Exception, older gapi-parser fine
</A></li>
	<LI>Next message: <A HREF="049400.html">[Mono-bugs] [Bug 79805][Maj] Changed - Soap Response interrupted	mid-way by Target of Invocation Exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49399">[ date ]</a>
              <a href="thread.html#49399">[ thread ]</a>
              <a href="subject.html#49399">[ subject ]</a>
              <a href="author.html#49399">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
