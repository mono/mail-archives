<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 529887] New: Graphics.DrawImage - wrong drawing a part of image with scaling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20529887%5D%20New%3A%20Graphics.DrawImage%20-%20wrong%20drawing%20a%0A%20part%20of%20image%20with%20scaling&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="091543.html">
   <LINK REL="Next"  HREF="091434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 529887] New: Graphics.DrawImage - wrong drawing a part of image with scaling</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20529887%5D%20New%3A%20Graphics.DrawImage%20-%20wrong%20drawing%20a%0A%20part%20of%20image%20with%20scaling&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 529887] New: Graphics.DrawImage - wrong drawing a part of image with scaling">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Aug 11 03:36:29 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="091543.html">[Mono-bugs] [Bug 529757] Found more than one revision work for the specified lane/host/revision (mono-trunk-dist/null/135385)
</A></li>
        <LI>Next message: <A HREF="091434.html">[Mono-bugs] [Bug 529927] New: TreeNodeCollection.Contains() appears	to be broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#91433">[ date ]</a>
              <a href="thread.html#91433">[ thread ]</a>
              <a href="subject.html#91433">[ subject ]</a>
              <a href="author.html#91433">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=529887">http://bugzilla.novell.com/show_bug.cgi?id=529887</A>


           Summary: Graphics.DrawImage - wrong drawing a part of image
                    with scaling
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.4.x
          Platform: PC
        OS/Version: openSUSE 11.1
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Sys.Drawing.
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">dima at dimoks.ru</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=311812)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=311812">http://bugzilla.novell.com/attachment.cgi?id=311812</A>)
Full source code and 2 images for quick understand

Description of Problem:
When drawing a part of image with scaling the result is differ from Microsoft
and is wrong. 

Steps to reproduce the problem:
1. Load the image (for example from EXE resource)
2. Create rectangle with size equal to the image size
3. Inflate rectangle (for example by -4 on both directions)
4. Create second rectangle (for example twice larger, than the image size)
5. Draw the part of image, described by rectangle from step 3, with scaling in
rectangle from step 4
(Graphics.DawImage(img,destRect,srcRect,GraphicsUnit.Pixel))

Actual Results, Expected Results:
See attached file.

How often does this happen? 
Always. With 1, 4, 8, 24, 32 bpp image colors and 16, 24 bpp display colors.
But only on Linux. On MS Windows it's ok if runned both directly or via Mono.

Additional Information:
Attached file contains:
Linux.png - Actual Results
Win.png - Expected Results
Full source code and images to reproduce the bug.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="091543.html">[Mono-bugs] [Bug 529757] Found more than one revision work for the specified lane/host/revision (mono-trunk-dist/null/135385)
</A></li>
	<LI>Next message: <A HREF="091434.html">[Mono-bugs] [Bug 529927] New: TreeNodeCollection.Contains() appears	to be broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#91433">[ date ]</a>
              <a href="thread.html#91433">[ thread ]</a>
              <a href="subject.html#91433">[ subject ]</a>
              <a href="author.html#91433">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
