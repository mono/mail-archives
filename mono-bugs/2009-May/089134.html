<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 506882] New: Subclassing class with protected methods should allow access in IronPython
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20506882%5D%20New%3A%20Subclassing%20class%20with%20protected%0A%20methods%20should%20allow%20access%20in%20IronPython&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089132.html">
   <LINK REL="Next"  HREF="089135.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 506882] New: Subclassing class with protected methods should allow access in IronPython</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20506882%5D%20New%3A%20Subclassing%20class%20with%20protected%0A%20methods%20should%20allow%20access%20in%20IronPython&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 506882] New: Subclassing class with protected methods should allow access in IronPython">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon May 25 09:45:37 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="089132.html">[Mono-bugs] [Bug 495896] VBNC99997: Not implemented when passing properties to byref parameters
</A></li>
        <LI>Next message: <A HREF="089135.html">[Mono-bugs] [Bug 506882] Subclassing class with protected methods should allow access in IronPython
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89134">[ date ]</a>
              <a href="thread.html#89134">[ thread ]</a>
              <a href="subject.html#89134">[ subject ]</a>
              <a href="author.html#89134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=506882">http://bugzilla.novell.com/show_bug.cgi?id=506882</A>


           Summary: Subclassing class with protected methods should allow
                    access in IronPython
    Classification: Mono
           Product: Mono: Runtime
           Version: SVN
          Platform: i386
        OS/Version: Linux
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: interop
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">dblank at cs.brynmawr.edu</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=294220)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=294220">http://bugzilla.novell.com/attachment.cgi?id=294220</A>)
DLLs and test IronPython Program (all open source)

User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.10)
Gecko/2009042708 Fedora/3.0.10-1.fc10 Firefox/3.0.10

I'm testing the latest stable build (0.91) of the DLR (Dynamic Language
Runtime) and IronPython (attached) from:

<A HREF="http://dlr.codeplex.com/Release/ProjectReleases.aspx?ReleaseId=21424#ReleaseFiles">http://dlr.codeplex.com/Release/ProjectReleases.aspx?ReleaseId=21424#ReleaseFiles</A>

Trying this IronPython code with &quot;mono ipy.exe&quot;:

import clr
clr.AddReference(&quot;System.Windows.Forms&quot;)
from System.Windows.Forms import *
class MyForm(Form): pass
f = MyForm()
f.SetStyle(ControlStyles.UserPaint, True)

gives:

Traceback (most recent call last):
TypeError: cannot access protected member SetStyle without a python subclass of
Control

This was also releated to an error that Microsoft had earlier that exposed
protected methods, and now requires the MyForm wrapper, see:

<A HREF="http://dlr.codeplex.com/Thread/View.aspx?ThreadId=57324">http://dlr.codeplex.com/Thread/View.aspx?ThreadId=57324</A>

I'm using:

$ mono --version
Mono JIT compiler version 134631 (tarball Sat May 23 10:52:56 UTC 2009)
Copyright (C) 2002-2008 Novell, Inc and Contributors. www.mono-project.com
    TLS:           __thread
    GC:            Included Boehm (with typed GC and Parallel Mark)
    SIGSEGV:       altstack
    Notifications: epoll
    Architecture:  x86
    Disabled:      none

I've also tried the latest version of IronPython independent of the DLR, and
both versions of ipy.exe under .NET on Windows work fine, so this looks like a
Mono bug, although strange that it worked before MS fixed IronPython so that
you had to subclass Form to access the protected SetStyle. That must have
uncovered this Mono bug.


Reproducible: Always

Steps to Reproduce:
1. Unzip the attachment libs-091.zip
2. cd libs-091
3. Run &quot;mono ipy.exe testprotect.py&quot;
Actual Results:  
Traceback (most recent call last):
  File &quot;testprotect.py&quot;, line 6, in __main__
TypeError: cannot access protected member SetStyle without a python subclass of
Control


Expected Results:  
Should run without errors, and return

This prevents dynamic languages built on the DLR from being able to extend
classes properly, breaking standard functions of IronPython and IronRuby.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089132.html">[Mono-bugs] [Bug 495896] VBNC99997: Not implemented when passing properties to byref parameters
</A></li>
	<LI>Next message: <A HREF="089135.html">[Mono-bugs] [Bug 506882] Subclassing class with protected methods should allow access in IronPython
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89134">[ date ]</a>
              <a href="thread.html#89134">[ thread ]</a>
              <a href="subject.html#89134">[ subject ]</a>
              <a href="author.html#89134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
