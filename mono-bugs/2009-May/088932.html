<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 504592] New: Mono hangs forever building on SPARC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20504592%5D%20New%3A%20Mono%20hangs%20forever%20building%20on%20SPARC&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="088931.html">
   <LINK REL="Next"  HREF="088988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 504592] New: Mono hangs forever building on SPARC</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20504592%5D%20New%3A%20Mono%20hangs%20forever%20building%20on%20SPARC&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 504592] New: Mono hangs forever building on SPARC">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun May 17 02:34:00 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="088931.html">[Mono-bugs] [Bug 473569] Deadlock when using NUnit + SWF + threads
</A></li>
        <LI>Next message: <A HREF="088988.html">[Mono-bugs] [Bug 504592] Mono hangs forever building on SPARC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88932">[ date ]</a>
              <a href="thread.html#88932">[ thread ]</a>
              <a href="subject.html#88932">[ subject ]</a>
              <a href="author.html#88932">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=504592">http://bugzilla.novell.com/show_bug.cgi?id=504592</A>


           Summary: Mono hangs forever building on SPARC
    Classification: Mono
           Product: Mono: Compilers
           Version: unspecified
          Platform: Sun
        OS/Version: Solaris 10
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">trs80 at ucc.gu.uwa.edu.au</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


User-Agent:       Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.9.0.9)
Gecko/2009050519 Iceweasel/3.0.6 (Debian-3.0.6-1)

I'm jhbuilding mono 2.2 on Solaris/SPARC. When it reaches this part of the
compilation it just hangs:
Making all in runtime
make[2]: Entering directory `/space/buildbot/checkout/gnome2/mono-2.2/runtime'
if test -w ../mcs; then :; else chmod -R +w ../mcs; fi
cd ../mcs &amp;&amp; make NO_DIR_CHECK=1 PROFILES='net_1_1 net_2_0 net_3_5 net_2_1'
CC='gcc' all-profiles
make[3]: Entering directory `/space/buildbot/checkout/gnome2/mono-2.2/mcs'
make profile-do--net_1_1--all profile-do--net_2_0--all profile-do--net_3_5--all
profile-do--net_2_1--all
make[4]: Entering directory `/space/buildbot/checkout/gnome2/mono-2.2/mcs'
make PROFILE=basic all
make[5]: Entering directory `/space/buildbot/checkout/gnome2/mono-2.2/mcs'
GC Warning: Large stack limit(2147479552): only scanning 8 MB


Reproducible: Always

Steps to Reproduce:
1. Build Mono on SPARC

Actual Results:  
The compilation finishes.

Expected Results:  
Compilation hangs.

<A HREF="http://go-mono.com/forums/#nabble-to22587130|a22587130">http://go-mono.com/forums/#nabble-to22587130|a22587130</A> has people hitting the
same problem in 2.2, 2.4RC2 on Solaris/SPARC and Linux/SPARC.
pstack of the hung process:
8648:   /space/buildbot/checkout/gnome2/mono-2.2/mono/mini/.libs/mono --config
-----------------  lwp# 1 / thread# 1  --------------------
 7f8f0304 mono_local_deadce (5a340, 139, ffffffff, 1, 7fa71fdc, 5adc0) + 290
 7f8987a0 mini_method_compile (5a340, 35169ff, 0, 55c18, 0, 554d8) + 1d68
 7f899700 mono_jit_compile_method (554d8, 0, 0, 2800, 7f8992e0, 7fb28be0) + 420
 7f96f39c mono_compile_method (554d8, 7eb5072c, 7f458440, 0, 7f472a18,
7fb298bc) + 4c
 7f9124a0 mono_magic_trampoline (ffbfe770, 7eb5072c, 554d8, 0, 7f472a00, 30) +
104
 7f090104 ???????? (4002dee0, ffffffff, 7f458440, ffffffff, 7f472a00, 6)
 7eb5072c ???????? (0, 7eb506f8, 2800, ffffffff, 7f472a00, 6)
 7eb50478 ???????? (0, 0, ffbfec1c, 7eb506f8, ffffff, 0)
 7f89a108 mono_jit_runtime_invoke (59f60, 0, 0, ffbfec1c, 7f472a00, 7fb26ab8) +
a8
 7f9711f8 mono_runtime_invoke (59f60, 0, 0, ffbfec1c, 7f472a00, 6) + 68
 7f9730d0 mono_runtime_class_init_full (28538, 1, 2800, 0, 0, 4) + 184
 7f8ce64c mono_method_to_ir2 (56870, 29e78, 567d8, 56908, 56e84, 7ee12502) +
24e00
 7f8970f4 mini_method_compile (56160, 35169ff, 0, 53ea0, 0, 29e78) + 6bc
 7f899700 mono_jit_compile_method (29e78, 1, 29e98, 20, 29f98, 0) + 420
 7f89a0f4 mono_jit_runtime_invoke (29e78, 0, ffbff15c, 0, 0, 7fb26ab8) + 94
 7f9711f8 mono_runtime_invoke (29e78, 0, ffbff15c, 0, 0, 8) + 68
 7f974d9c mono_runtime_exec_main (29e78, 40024ea0, 0, 20, 7f472a00, 7fb29440) +
1ac
 7f975000 mono_runtime_run_main (29e78, 2, ffbff3d4, 0, 0, 0) + 184
 7f8f2694 mono_main (3, ffbff3c4, 0, 0, 0, 3) + 1530
 00010c30 _start   (0, 0, 0, 0, 0, 0) + 5c
-----------------  lwp# 2 / thread# 2  --------------------
 7f3c5354 lwp_wait (0, 7effbebc)
 7f3bd00c _thrp_join (0, 7effbf88, 7effbf8c, 1, 7f458440, 0) + 38
 7f3bd180 thr_join (0, 7effbf88, 7effbf8c, 7f458440, 1d44, 3) + 14
 7fa6c474 GC_thr_daemon (0, 7effc000, 0, 7f020200, 7fa6c44c, 0) + 28
 7f3c06e4 _lwp_start (0, 0, 0, 0, 0, 0)
-----------------  lwp# 3 / thread# 3  --------------------
 7f3c4508 nanosleep (7e6f1f88, 0)
 7fa0e6e0 collection_thread (0, 7e6f2000, 0, 7f020a00, 7fa0e6a0, 0) + 40
 7f3c06e4 _lwp_start (0, 0, 0, 0, 0, 0)
-----------------  lwp# 4 / thread# 4  --------------------
 7f3c0760 lwp_park (0, 0, 0)
 7f3ba9a4 cond_wait_queue (3ccc0, 3cca8, 0, 0, 7f021200, 0) + 4c
 7f3baf14 cond_wait (3ccc0, 3cca8, 0, 0, 0, 0) + 10
 7f3baf50 pthread_cond_wait (3ccc0, 3cca8, 4, 3b8, 3, 2) + 8
 7fa14630 timedwait_signal_poll_cond (3ccc0, 3cca8, 0, 0, 8ec8, 4) + 7c
 7fa147c4 _wapi_handle_timedwait_signal_handle (104, 0, 0, 7fb29684, 7fb3a088,
0) + f4
 7fa4009c WaitForSingleObjectEx (104, ffffffff, 0, 7fb28ca4, 2e54, 2e20) + 3f0
 7f98ee38 finalizer_thread (0, 7fb28c78, 2e54, 2e44, 2df8, 2e3c) + bc
 7f9b361c start_wrapper (3b8d0, 4, 7c00, 0, 1d44, 0) + f4
 7fa3b5bc thread_start_routine (3cef0, 40184000, 0, 7f021200, 7fa3b4d8, 0) + e4
 7f3c06e4 _lwp_start (0, 0, 0, 0, 0, 0)

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="088931.html">[Mono-bugs] [Bug 473569] Deadlock when using NUnit + SWF + threads
</A></li>
	<LI>Next message: <A HREF="088988.html">[Mono-bugs] [Bug 504592] Mono hangs forever building on SPARC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88932">[ date ]</a>
              <a href="thread.html#88932">[ thread ]</a>
              <a href="subject.html#88932">[ subject ]</a>
              <a href="author.html#88932">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
