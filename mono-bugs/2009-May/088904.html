<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 504411] Mprotect fails with ENOMEM in GC_remap
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20504411%5D%20Mprotect%20fails%20with%20ENOMEM%20in%20GC_remap&In-Reply-To=bug-504411-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="088901.html">
   <LINK REL="Next"  HREF="088906.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 504411] Mprotect fails with ENOMEM in GC_remap</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20504411%5D%20Mprotect%20fails%20with%20ENOMEM%20in%20GC_remap&In-Reply-To=bug-504411-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 504411] Mprotect fails with ENOMEM in GC_remap">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri May 15 16:49:00 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="088901.html">[Mono-bugs] [Bug 504411] Mprotect fails with ENOMEM in GC_remap
</A></li>
        <LI>Next message: <A HREF="088906.html">[Mono-bugs] [Bug 504411] Mprotect fails with ENOMEM in GC_remap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88904">[ date ]</a>
              <a href="thread.html#88904">[ thread ]</a>
              <a href="subject.html#88904">[ subject ]</a>
              <a href="author.html#88904">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=504411">http://bugzilla.novell.com/show_bug.cgi?id=504411</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">munroesj at us.ibm.com</A> added comment
<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=504411#c2">http://bugzilla.novell.com/show_bug.cgi?id=504411#c2</A>





--- Comment #2 from Steven Munroe &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">munroesj at us.ibm.com</A>&gt;  2009-05-15 14:48:58 MDT ---
More info:

Mprotect failed at 0x40002790000 (length 131072) with errno 12
RLIMIT_DATA Cur=-1, Max=-1
RLIMIT_STACK Cur=8388608, Max=-1
RLIMIT_AS Cur=-1, Max=-1
RLIMIT_RSS Cur=-1, Max=-1
RLIMIT_MEMLOCK Cur=-1, Max=-1
00100000-00120000 r-xp 00100000 00:00 0                                  [vdso]
10000000-10280000 r-xp 00000000 08:03 590495                            
/usr/local/bin/mono
10280000-102b0000 rw-p 00270000 08:03 590495                            
/usr/local/bin/mono
102b0000-106d0000 rw-p 102b0000 00:00 0                                  [heap]
40000000000-40000030000 r-xp 00000000 08:03 1297310                     
/lib64/ld-2.9.so
40000030000-40000040000 rw-p 00020000 08:03 1297310                     
/lib64/ld-2.9.so
40000040000-40000060000 rw-p 40000040000 00:00 0 
40000060000-40000070000 r-xp 00000000 08:03 3637298                     
/usr/lib64/libgthread-2.0.so.0.1800.2
40000070000-40000080000 rw-p 00000000 08:03 3637298                     
/usr/lib64/libgthread-2.0.so.0.1800.2
40000080000-40000190000 r-xp 00000000 08:03 3637269                     
/usr/lib64/libglib-2.0.so.0.1800.2
40000190000-400001b0000 rw-p 00100000 08:03 3637269                     
/usr/lib64/libglib-2.0.so.0.1800.2
400001b0000-400001c0000 r-xp 00000000 08:03 1294387                     
/lib64/power6/librt-2.9.so
400001c0000-400001d0000 rw-p 00000000 08:03 1294387                     
/lib64/power6/librt-2.9.so
400001d0000-400001e0000 r-xp 00000000 08:03 1294350                     
/lib64/libdl-2.9.so
400001e0000-400001f0000 rw-p 00000000 08:03 1294350                     
/lib64/libdl-2.9.so
400001f0000-40000210000 r-xp 00000000 08:03 1294385                     
/lib64/power6/libpthread-2.9.so
40000210000-40000230000 rw-p 00010000 08:03 1294385                     
/lib64/power6/libpthread-2.9.so
40000230000-400002e0000 r-xp 00000000 08:03 1294383                     
/lib64/power6/libm-2.9.so
400002e0000-40000300000 rw-p 000a0000 08:03 1294383                     
/lib64/power6/libm-2.9.so
40000300000-400004b0000 r-xp 00000000 08:03 1294380                     
/lib64/power6/libc-2.9.so
400004b0000-400004d0000 rw-p 001a0000 08:03 1294380                     
/lib64/power6/libc-2.9.so
400004d0000-40000500000 r-xp 00000000 08:03 592385                      
/usr/lib64/libpcre.so.0.0.1
40000500000-40000510000 rw-p 00020000 08:03 592385                      
/usr/lib64/libpcre.so.0.0.1
40000510000-40000520000 rw-p 40000510000 00:00 0 
40000520000-40000620000 rwxp 40000520000 00:00 0 
40000620000-40000640000 rw-p 40000620000 00:00 0 
40000640000-40000650000 rw-s 00000000 00:0e 805431                      
/dev/shm/mono.14909
40000650000-40000660000 rw-p 40000650000 00:00 0 
40000660000-400008e0000 r--p 00000000 08:03 633220                      
/usr/local/lib/mono/2.0/mscorlib.dll
400008e0000-400008f0000 r--s 00000000 08:03 705048                      
/usr/lib64/gconv/gconv-modules.cache
400008f0000-40000930000 r--s 00000000 08:03 2499418                     
/var/run/nscd/passwd
40000930000-40000a30000 rwxp 40000930000 00:00 0 
40000a30000-40000a50000 rw-s 00000000 08:03 1007884                     
/home/panda/.wapi/shared_data-spin-Linux-ppc64-328-12-0
40000a50000-40000e40000 rw-s 00000000 08:03 1007896                     
/home/panda/.wapi/shared_fileshare-spin-Linux-ppc64-40-12-0
40000e40000-40000e50000 ---p 40000e40000 00:00 0 
40000e50000-40000e60000 rwxp 40000e50000 00:00 0 
40000e60000-40000e70000 rw-p 40000e60000 00:00 0 
40000e70000-40000ea0000 ---p 40000e70000 00:00 0 
40000ea0000-40000eb0000 rw-p 40000ea0000 00:00 0 
40000eb0000-40000ed0000 ---p 40000eb0000 00:00 0 
40000ed0000-400010b0000 rwxp 40000ed0000 00:00 0 
400010b0000-400010d0000 rw-p 400010b0000 00:00 0 
400010d0000-400010e0000 r--p 00000000 08:03 633605                      
/usr/local/share/NAnt/bin/NAnt.exe
400010e0000-40001120000 r--p 00000000 08:03 633603                      
/usr/local/share/NAnt/bin/log4net.dll
40001120000-40001130000 rw-p 40001120000 00:00 0 
40001130000-400012d0000 r--p 00000000 08:03 626864                      
/usr/local/lib/mono/gac/System/2.0.0.0__b77a5c561934e089/System.dll
400012d0000-400012f0000 r--p 00000000 08:03 635407                      
/usr/local/lib/mono/gac/System.Configuration/2.0.0.0__b03f5f7f11d50a3a/System.Configuration.dll
400012f0000-40001310000 rw-p 400012f0000 00:00 0 
40001310000-40001450000 r--p 00000000 08:03 2709732                     
/usr/local/lib/mono/gac/System.Xml/2.0.0.0__b77a5c561934e089/System.Xml.dll
40001450000-400015a0000 rw-p 40001450000 00:00 0 
400015a0000-400016a0000 rwxp 400015a0000 00:00 0 
400016a0000-400016c0000 ---p 400016a0000 00:00 0 
400016c0000-400018a0000 rwxp 400016c0000 00:00 0 
400018a0000-400018b0000 rw-p 400018a0000 00:00 0 
400018b0000-400018d0000 ---p 400018b0000 00:00 0 
400018d0000-40001ab0000 rwxp 400018d0000 00:00 0 
40001ab0000-40001ac0000 rw-p 40001ab0000 00:00 0 
40001ac0000-40001b20000 r--p 00000000 08:03 633636                      
/usr/local/share/NAnt/bin/NAnt.Core.dll
40001b20000-40001c70000 rw-p 40001b20000 00:00 0 
40001c70000-40001c80000 r--p 00000000 08:03 633643                      
/usr/local/share/NAnt/bin/NAnt.CompressionTasks.dll
40001c80000-40001d80000 rwxp 40001c80000 00:00 0 
40001d80000-40001da0000 r--p 00000000 08:03 633624                      
/usr/local/share/NAnt/bin/NAnt.DotNetTasks.dll
40001da0000-40001db0000 rw-p 40001da0000 00:00 0 
40001db0000-40001dc0000 r--p 00000000 08:03 633648                      
/usr/local/share/NAnt/bin/NAnt.NUnit1Tasks.dll
40001dc0000-40001dd0000 r--p 00000000 08:03 633646                      
/usr/local/share/NAnt/bin/lib/common/neutral/NUnitCore.dll
40001dd0000-40001de0000 r--p 00000000 08:03 633609                      
/usr/local/share/NAnt/bin/NAnt.NUnit.dll
40001de0000-40001df0000 r--p 00000000 08:03 633630                      
/usr/local/share/NAnt/bin/NAnt.NUnit2Tasks.dll
40001df0000-40001e10000 r--p 00000000 08:03 633623                      
/usr/local/share/NAnt/bin/lib/mono/2.0/nunit.core.dll
40001e10000-40001e20000 r--p 00000000 08:03 633649                      
/usr/local/share/NAnt/bin/NAnt.SourceControlTasks.dll
40001e20000-40001e50000 r--p 00000000 08:03 633653                      
/usr/local/share/NAnt/bin/NAnt.VSNetTasks.dll
40001e50000-40001e60000 r--p 00000000 08:03 633621                      
/usr/local/share/NAnt/bin/NAnt.VisualCppTasks.dll
40001e60000-40002080000 r--p 00000000 08:03 626899                      
/usr/local/lib/mono/gac/System.Web/2.0.0.0__b03f5f7f11d50a3a/System.Web.dll
40002080000-40002180000 rw-p 40002080000 00:00 0 
40002180000-400021a0000 ---p 40002180000 00:00 0 
400021a0000-40002380000 rwxp 400021a0000 00:00 0 
40002380000-40002390000 r--p 00000000 08:03 633641                      
/usr/local/share/NAnt/bin/extensions/common/2.0/NAnt.MSBuild.dll
40002390000-400023b0000 ---p 40002390000 00:00 0 
400023b0000-40002590000 rwxp 400023b0000 00:00 0 
40002590000-400025b0000 r--p 00000000 08:03 641305                      
/usr/local/lib/mono/gac/Microsoft.Build.Engine/2.0.0.0__b03f5f7f11d50a3a/Microsoft.Build.Engine.dll
400025b0000-400025c0000 r--p 00000000 08:03 641299                      
/usr/local/lib/mono/gac/Microsoft.Build.Framework/2.0.0.0__b03f5f7f11d50a3a/Microsoft.Build.Framework.dll
400025c0000-400025e0000 r-xp 00000000 08:03 1294486                     
/lib64/libgcc_s.so.1
400025e0000-400025f0000 rw-p 00010000 08:03 1294486                     
/lib64/libgcc_s.so.1
400025f0000-400026f0000 rwxp 400025f0000 00:00 0 
400026f0000-400027a0000 rw-p 400026f0000 00:00 0 
400027a0000-400027b0000 ---p 400027a0000 00:00 0 
400027b0000-400027c0000 rw-p 400027b0000 00:00 0 
400027c0000-40002840000 ---p 400027c0000 00:00 0 
40002840000-40002850000 rw-p 40002840000 00:00 0 
40002850000-40002d50000 rwxp 40002850000 00:00 0 
40004000000-40004400000 rw-p 40004000000 00:00 0 
40004400000-40008000000 ---p 40004400000 00:00 0 
fffff230000-fffff240000 ---p fffff230000 00:00 0 
fffff8d0000-fffffa20000 rw-p fffffeb0000 00:00 0                        
[stack]
Mprotect remapping failed
Stacktrace:

Thread 1 (Thread 0x40000510000 (LWP 14909)):
#0  0x0000040000205b90 in .__libc_read () from /lib64/power6x/libpthread.so.0
#1  0x0000000010082300 in mono_handle_native_sigsegv (
    signal=&lt;value optimized out&gt;, ctx=&lt;value optimized out&gt;)
    at mini-exceptions.c:1480
#2  0x000000001001b0cc in sigabrt_signal_handler (
    _dummy=&lt;value optimized out&gt;, info=&lt;value optimized out&gt;, 
    context=0xfffffa1bbc0) at mini.c:4286
#3  &lt;signal handler called&gt;
#4  0x0000040000366630 in .raise () from /lib64/power6x/libc.so.6
#5  0x0000040000368300 in .abort () from /lib64/power6x/libc.so.6
#6  0x00000000101d55a8 in GC_abort (
    msg=0x10274500 &quot;Mprotect remapping failed&quot;) at misc.c:1074
#7  0x00000000101d1c4c in GC_remap (start=0x40002781000 &quot;&quot;, bytes=221184)
    at os_dep.c:1965
#8  0x00000000101c4b98 in GC_allochblk_nth (sz=5, kind=0, flags=0 '\0', n=34)
    at allchblk.c:730
#9  0x00000000101c4404 in GC_allochblk (sz=5, kind=0, flags=0)
    at allchblk.c:561
#10 0x00000000101cba24 in GC_new_hblk (sz=5, kind=0) at new_hblk.c:253
#11 0x00000000101c9dd8 in GC_allocobj (sz=5, kind=0) at alloc.c:1116
#12 0x00000000101c2304 in GC_generic_malloc_inner (lb=34, k=0) at malloc.c:136
#13 0x00000000101c2508 in GC_generic_malloc (lb=34, k=0) at malloc.c:192
#14 0x00000000101c2864 in GC_malloc_atomic (lb=34) at malloc.c:262
#15 0x00000000100de458 in mono_array_new_specific (vtable=0x10394cc0, n=1)
    at object.c:3536

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>



















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="088901.html">[Mono-bugs] [Bug 504411] Mprotect fails with ENOMEM in GC_remap
</A></li>
	<LI>Next message: <A HREF="088906.html">[Mono-bugs] [Bug 504411] Mprotect fails with ENOMEM in GC_remap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88904">[ date ]</a>
              <a href="thread.html#88904">[ thread ]</a>
              <a href="subject.html#88904">[ subject ]</a>
              <a href="author.html#88904">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
