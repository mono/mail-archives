<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 471305] New: Control lifecycle inconsistency between Mono and MS.NET implementations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20471305%5D%20New%3A%20Control%20lifecycle%20inconsistency%0A%20between%20Mono%20and%20MS.NET%20implementations&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="085349.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 471305] New: Control lifecycle inconsistency between Mono and MS.NET implementations</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20471305%5D%20New%3A%20Control%20lifecycle%20inconsistency%0A%20between%20Mono%20and%20MS.NET%20implementations&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 471305] New: Control lifecycle inconsistency between Mono and MS.NET implementations">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Jan 31 15:11:53 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="085349.html">[Mono-bugs] [Bug 471302] New: crash when attempting to read ModuleVersionId from System.Reflection.Module
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85354">[ date ]</a>
              <a href="thread.html#85354">[ thread ]</a>
              <a href="subject.html#85354">[ subject ]</a>
              <a href="author.html#85354">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=471305">https://bugzilla.novell.com/show_bug.cgi?id=471305</A>


           Summary: Control lifecycle inconsistency between Mono and
                    MS.NET implementations
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.2.x
          Platform: x86
        OS/Version: Windows XP
            Status: NEW
          Severity: Critical
          Priority: P5 - None
         Component: Sys.Web
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">sergey.hakobyan at gaiaware.net</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=269091)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=269091">https://bugzilla.novell.com/attachment.cgi?id=269091</A>)
Failing testcase

User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.0.5)
Gecko/2008120122 Firefox/3.0.5

There is a inconsistency between the control lifecycle in Mono and MS.NET when
the control is being rearranged ( for example Added -&gt; Removed -&gt; Added to the
same Controls collection, to the same position ).

In MS.NET OnInit() method of the control won't be called on second addition,
because the private ControlState will still be &gt;= Initialized. While in Mono
OnInit() will be called and will lead to lots of problems with custom controls
in dynamic scenarios.

Simplistic/minimalistic testcase to reproduce the problem is attached.
In MS.NET only 1 Label is added to the page, in Mono - 2 are added.

Reproducible: Always

Steps to Reproduce:
1. Download and extract the attachment
2. Run xsp2
3. Start the browser and open the Default.aspx
Actual Results:  
Two labels are added to the page

Expected Results:  
One label should be added to the page

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="085349.html">[Mono-bugs] [Bug 471302] New: crash when attempting to read ModuleVersionId from System.Reflection.Module
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85354">[ date ]</a>
              <a href="thread.html#85354">[ thread ]</a>
              <a href="subject.html#85354">[ subject ]</a>
              <a href="author.html#85354">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
