<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 466605] New: NullReferenceException when setting ForeColor and BackColor of a ListViewSubItem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20466605%5D%20New%3A%20NullReferenceException%20when%20setting%0A%20ForeColor%20and%20BackColor%20of%20a%20ListViewSubItem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084682.html">
   <LINK REL="Next"  HREF="084659.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 466605] New: NullReferenceException when setting ForeColor and BackColor of a ListViewSubItem</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20466605%5D%20New%3A%20NullReferenceException%20when%20setting%0A%20ForeColor%20and%20BackColor%20of%20a%20ListViewSubItem&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 466605] New: NullReferenceException when setting ForeColor and BackColor of a ListViewSubItem">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Jan 15 16:26:03 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="084682.html">[Mono-bugs] [Bug 466591] Mono 2.2 vmware image doesn't release mouse from window like 2.0.1 vmware image did
</A></li>
        <LI>Next message: <A HREF="084659.html">[Mono-bugs] [Bug 466605] NullReferenceException when setting ForeColor and BackColor of a ListViewSubItem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84658">[ date ]</a>
              <a href="thread.html#84658">[ thread ]</a>
              <a href="subject.html#84658">[ subject ]</a>
              <a href="author.html#84658">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=466605">https://bugzilla.novell.com/show_bug.cgi?id=466605</A>


           Summary: NullReferenceException when setting ForeColor and
                    BackColor of a ListViewSubItem
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.2.x
          Platform: i586
        OS/Version: openSUSE 10.2
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: Windows.Forms
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rrussell at franticfilms.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Description of Problem:

The problem occurs when creating a new ListViewSubItem using the default
constructor. Here is the Mono ListViewSubItem source code for the constructors:

public ListViewSubItem ()
{
}

public ListViewSubItem (ListViewItem owner, string text)
    : this (owner, text, Color.Empty,
        Color.Empty, null)
{
}

public ListViewSubItem (ListViewItem owner, string text, Color foreColor,
            Color backColor, Font font)
{
    this.owner = owner;
    Text = text;
    this.style = new SubItemStyle (foreColor,
        backColor, font);
} 

The problem is that when the default constructor is used, the private member
'style' doesn't get initialized. Then when you go to set the ForeColor or
BackColor, 'style' is null, and thus you get the NullReferenceException. I
imagine you would get the same results if you were getting the ForeColor or
BackColor as well.

The workaround I'm using is to pass Null for the owner and an empty string for
the text to the overloaded ListViewSubItem constructor.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084682.html">[Mono-bugs] [Bug 466591] Mono 2.2 vmware image doesn't release mouse from window like 2.0.1 vmware image did
</A></li>
	<LI>Next message: <A HREF="084659.html">[Mono-bugs] [Bug 466605] NullReferenceException when setting ForeColor and BackColor of a ListViewSubItem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84658">[ date ]</a>
              <a href="thread.html#84658">[ thread ]</a>
              <a href="subject.html#84658">[ subject ]</a>
              <a href="author.html#84658">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
