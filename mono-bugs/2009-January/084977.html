<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 469221] New: ObjectDataSourceView ExecuteSelect method return a Collection with zero elements if the select method returns a single instance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20469221%5D%20New%3A%20ObjectDataSourceView%20ExecuteSelect%0A%20method%20return%20a%20Collection%20with%20zero%20elements%20if%20the%20select%20method%20returns%0A%20a%20single%20instance&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="084998.html">
   <LINK REL="Next"  HREF="084978.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 469221] New: ObjectDataSourceView ExecuteSelect method return a Collection with zero elements if the select method returns a single instance</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20469221%5D%20New%3A%20ObjectDataSourceView%20ExecuteSelect%0A%20method%20return%20a%20Collection%20with%20zero%20elements%20if%20the%20select%20method%20returns%0A%20a%20single%20instance&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 469221] New: ObjectDataSourceView ExecuteSelect method return a Collection with zero elements if the select method returns a single instance">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Jan 25 03:47:20 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="084998.html">[Mono-bugs] [Bug 469217] Pointers can not reference marshaled	structures.
</A></li>
        <LI>Next message: <A HREF="084978.html">[Mono-bugs] [Bug 469221] ObjectDataSourceView ExecuteSelect method return a Collection with zero elements if the select method returns a single instance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84977">[ date ]</a>
              <a href="thread.html#84977">[ thread ]</a>
              <a href="subject.html#84977">[ subject ]</a>
              <a href="author.html#84977">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=469221">https://bugzilla.novell.com/show_bug.cgi?id=469221</A>


           Summary: ObjectDataSourceView ExecuteSelect method return a
                    Collection with zero elements if the select method
                    returns a single instance
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.0.x
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Sys.Web
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mhabersack at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">priojas at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; es-AR; rv:1.9.0.5)
Gecko/2008120122 Firefox/3.0.5 (.NET CLR 3.5.30729)

The ExecuteSelect method is supposed to return a collection with a single
element when the result of the select method is a single instance like it was
in the MONO 1.9.1 version.

The problem seems to be in the file ObjectDataSourceView in the lines 773 - 776

the code there is:

    if (result is IEnumerable)
                return (IEnumerable) result;
            else
                return new object[] {};

and it should be maybe something like this:

    if (result is IEnumerable)
                return (IEnumerable) result;
            else
                return new object[] { result };


Reproducible: Always

Steps to Reproduce:
0. Create an Empty Web Application 
1. Put a Formview inside a webform.
2. Put an ObjectDataSource to retrieve the data from any datasource 
3. Create a class with an static method that return a single instance of some
entity.
4. asociate the Formview to the ObjectDataSource using the DataSourceId
Property in the aspx markup
5. fill the ItemTemplate of the Formview with the required template to show the
fields of the entity you are retrieving.
6. compile it in Mono 2.0.x
7. publish the code using XSP2 
8. point your browser to WebForm you created.


Actual Results:  
Nothing is render inside the formview

Expected Results:  
The formview should render any of the templates according to the current
FormViewMode.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>

























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="084998.html">[Mono-bugs] [Bug 469217] Pointers can not reference marshaled	structures.
</A></li>
	<LI>Next message: <A HREF="084978.html">[Mono-bugs] [Bug 469221] ObjectDataSourceView ExecuteSelect method return a Collection with zero elements if the select method returns a single instance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84977">[ date ]</a>
              <a href="thread.html#84977">[ thread ]</a>
              <a href="subject.html#84977">[ subject ]</a>
              <a href="author.html#84977">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
