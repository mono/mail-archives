<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] Found an endless loop bug in mcs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20Found%20an%20endless%20loop%20bug%20in%20mcs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033915.html">
   <LINK REL="Next"  HREF="033916.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] Found an endless loop bug in mcs</H1>
    <B>Juanval</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20Found%20an%20endless%20loop%20bug%20in%20mcs&In-Reply-To="
       TITLE="[Mono-bugs] Found an endless loop bug in mcs">juanval at gmail.com
       </A><BR>
    <I>Thu Sep 22 11:18:16 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="033915.html">[Mono-bugs] [Bug 72152][Nor] Changed - Regexp code should not be
	recursive
</A></li>
        <LI>Next message: <A HREF="033916.html">[Mono-bugs] [Bug 72152][Nor] Changed - Regexp code should not be
	recursive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33960">[ date ]</a>
              <a href="thread.html#33960">[ thread ]</a>
              <a href="subject.html#33960">[ subject ]</a>
              <a href="author.html#33960">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there
I'm working on a gtk-sharp program, and after some late night stupid
coding, when trying to compile the project, mcs got into an endless
loop. I've tracked down the bug to some 20 lines of code. If I remove
any line more, mcs stops hanging.

So, here's the code:
--------------------------------------8&lt;--------------------------------------
using System;
using Gtk;

namespace Foo
{
    public class Bar
    {
        TreeView myTreeView;

        void LoopMethod(string query)
        {
            int i = 0;
            TreeIter iter;
            myTreeView.Model.GetIterFirst(out iter);

            myTreeView.Model.Foreach(delegate(TreeModel model,TreePath
path,TreeIter iter)
                    {
                    if(((string)model.GetValue(iter,0))==query)
                        myTreeView.Model.SetValue(iter, 1,&quot;hey&quot;);
                    return false;
                    });
        }
    }
}
--------------------------------------&gt;8--------------------------------------

If I compile this with &quot;mcs endlessLoop.cs  -pkg:gtk-sharp&quot; mcs just
hangs there using all CPU.

I'm using mcs version: Mono C# compiler version 1.1.8.0, if that helps.

I haven't checked if this bug has been already fixed in newer mcs
snapshots. If that's the case, please forgive me.

Bye
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033915.html">[Mono-bugs] [Bug 72152][Nor] Changed - Regexp code should not be
	recursive
</A></li>
	<LI>Next message: <A HREF="033916.html">[Mono-bugs] [Bug 72152][Nor] Changed - Regexp code should not be
	recursive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33960">[ date ]</a>
              <a href="thread.html#33960">[ thread ]</a>
              <a href="subject.html#33960">[ subject ]</a>
              <a href="author.html#33960">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
