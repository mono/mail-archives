<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 498683] New: /dev/sda1 is formatted with	insufficient inodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20498683%5D%20New%3A%20/dev/sda1%20is%20formatted%20with%0A%09insufficient%20inodes&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="088234.html">
   <LINK REL="Next"  HREF="088236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 498683] New: /dev/sda1 is formatted with	insufficient inodes</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20498683%5D%20New%3A%20/dev/sda1%20is%20formatted%20with%0A%09insufficient%20inodes&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 498683] New: /dev/sda1 is formatted with	insufficient inodes">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Apr 27 21:22:28 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="088234.html">[Mono-bugs] [Bug 489625]	System.Windows.Forms.RichTextBox.SelectedText
</A></li>
        <LI>Next message: <A HREF="088236.html">[Mono-bugs] [Bug 489339] ComboBox popup suggestion box does not	appear on linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88235">[ date ]</a>
              <a href="thread.html#88235">[ thread ]</a>
              <a href="subject.html#88235">[ subject ]</a>
              <a href="author.html#88235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=498683">http://bugzilla.novell.com/show_bug.cgi?id=498683</A>


           Summary: /dev/sda1 is formatted with insufficient inodes
    Classification: Mono
           Product: Mono: Tools
           Version: 2.4.x
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: VMware Image
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">ajorgensen at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">marcus at griep.us</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US)
AppleWebKit/525.19 (KHTML, like Gecko) Chrome/1.0.154.59 Safari/525.19

/dev/sda1 in the VMWare image is formatted with a single 30.0 GB ext3
partition. However, the partition was formatted with only 203,520 inodes. This
means that the drive runs out of inodes far before it has run out of disk
space.

In my initial case, after using the image for a short time, /usr/share consumed
over 70,000 inodes, and /usr/lib consumed over 20,000. The mcs module source
consumes over 105,000 inodes on its own (each file under svn consumes 2 other
files in .svn-base files)

As a test case do an svn checkout of the mcs module as in the STR.

Reproducible: Always

Steps to Reproduce:
1. Open up a fresh image
2. Upon reaching the desktop, open up a terminal and run: `df /dev/sda1`, `df
-i /dev/sda1`
3. svn co <A HREF="svn://anonsvn.mono-project.com/source/trunk/mcs">svn://anonsvn.mono-project.com/source/trunk/mcs</A>
4. In the process of the checkout, you will receive an unable to open file, out
of disk space error.
5. Confirm that the cause is insufficient inodes: `df /dev/sda1`, `df -i
/dev/sda1`
Actual Results:  
Clean:
df /dev/sda1:
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rupert at linux</A>:~&gt; df /dev/sda1
Filesystem           1K-blocks      Used Available Use% Mounted on
/dev/sda1             31402304   2786232  27043312  10% /

df -i /dev/sda1:
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rupert at linux</A>:~&gt; df -i /dev/sda1
Filesystem            Inodes   IUsed   IFree IUse% Mounted on
/dev/sda1             203520   95554  107966   47% /


After attempting checkout of mcs:
svn: Can't open file
'mcs/class/Managed.Windows.Forms/Documentation/en/System.Windows.Forms/.svn/tmp/text-base/WebBrowserSiteBase.xml.svn-base':
No space left on device

df /dev/sda1:
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rupert at linux</A>:~&gt; df /dev/sda1
Filesystem           1K-blocks      Used Available Use% Mounted on
/dev/sda1             31402304   3561788  26267756  12% /

df -i /dev/sda1:
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rupert at linux</A>:~&gt; df -i /dev/sda1
Filesystem            Inodes   IUsed   IFree IUse% Mounted on
/dev/sda1             203520  201534    1986  100% /



Expected Results:  
At least 4-5 times as many inodes should have been allocated for a disk 30.0 GB
in capacity.

This insufficiency makes it difficult to do any real work on Mono or other
sufficiently large/many projects from within the VM itself.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="088234.html">[Mono-bugs] [Bug 489625]	System.Windows.Forms.RichTextBox.SelectedText
</A></li>
	<LI>Next message: <A HREF="088236.html">[Mono-bugs] [Bug 489339] ComboBox popup suggestion box does not	appear on linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88235">[ date ]</a>
              <a href="thread.html#88235">[ thread ]</a>
              <a href="subject.html#88235">[ subject ]</a>
              <a href="author.html#88235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
