<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 487846] PPC code gen is inefficient in several	areas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20487846%5D%20PPC%20code%20gen%20is%20inefficient%20in%20several%0A%09areas&In-Reply-To=bug-487846-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="087633.html">
   <LINK REL="Next"  HREF="087636.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 487846] PPC code gen is inefficient in several	areas</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20487846%5D%20PPC%20code%20gen%20is%20inefficient%20in%20several%0A%09areas&In-Reply-To=bug-487846-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 487846] PPC code gen is inefficient in several	areas">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Apr  6 11:16:37 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="087633.html">[Mono-bugs] [Bug 487846] PPC code gen is inefficient in several	areas
</A></li>
        <LI>Next message: <A HREF="087636.html">[Mono-bugs] [Bug 489019] mono throwing exception while closing file	descriptor 0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87634">[ date ]</a>
              <a href="thread.html#87634">[ thread ]</a>
              <a href="subject.html#87634">[ subject ]</a>
              <a href="author.html#87634">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=487846">http://bugzilla.novell.com/show_bug.cgi?id=487846</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A> added comment
<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=487846#c3">http://bugzilla.novell.com/show_bug.cgi?id=487846#c3</A>





--- Comment #3 from Paolo Molaro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>&gt;  2009-04-06 09:16:36 MDT ---
Except for dynamic methods, the code to use bl instead of the long sequence is
already implemented (on ppc32). See handle_thunk in mini-ppc.c. This works by
reserving some space in the memory area allocated for native code (to guarantee
it is reachable by the bl instruction). It is disabled because it triggered
(though rarely) some bugs, especially with multiple app domain support, I
think.
There is also the somewhat minor issue that the allocated space may not be
enough
for very call-intensive code to very different methods in far enough address
space.
Reserving space at the end of methods is another solution, but it may end up
requiring even more memory since we'd have possibly many duplicate entries.
With a little slowdown we could use 12 bytes instead of 16 per-entry for the
current solution and save some memory. Someone would need to look at fixing the
possible bugs, though.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="087633.html">[Mono-bugs] [Bug 487846] PPC code gen is inefficient in several	areas
</A></li>
	<LI>Next message: <A HREF="087636.html">[Mono-bugs] [Bug 489019] mono throwing exception while closing file	descriptor 0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87634">[ date ]</a>
              <a href="thread.html#87634">[ thread ]</a>
              <a href="subject.html#87634">[ subject ]</a>
              <a href="author.html#87634">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
