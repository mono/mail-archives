<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 495486] New: GC does not release memory.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20495486%5D%20New%3A%20GC%20does%20not%20release%20memory.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="087865.html">
   <LINK REL="Next"  HREF="087868.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 495486] New: GC does not release memory.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20495486%5D%20New%3A%20GC%20does%20not%20release%20memory.&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 495486] New: GC does not release memory.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Apr 16 08:23:54 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="087865.html">[Mono-bugs] [Bug 478324] Regression bug in localized winforms	support
</A></li>
        <LI>Next message: <A HREF="087868.html">[Mono-bugs] [Bug 431039] First Run of IsolatedStorageFile is not	threadsafe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87866">[ date ]</a>
              <a href="thread.html#87866">[ thread ]</a>
              <a href="subject.html#87866">[ subject ]</a>
              <a href="author.html#87866">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=495486">http://bugzilla.novell.com/show_bug.cgi?id=495486</A>


           Summary: GC does not release memory.
    Classification: Mono
           Product: Mono: Runtime
           Version: 2.4.x
          Platform: x86-64
        OS/Version: Linux
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: GC
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">sgroot at tkl.iis.u-tokyo.ac.jp</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64;
Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729;
Media Center PC 6.0; Creative AutoUpdate v1.10.10)

When running a computation which takes a lot of memory, the GC does not release
the memory afterwards. When running multiple such computations in sequence, the
amount of memory used just keeps growing, and the performance of the system
keeps getting worse due to swapping. This continues until the process runs out
of address space or the system out of memory.

I want to use Mono for a data processing solution that needs to handle large
quantities of data, many gigabytes or sometimes even terabytes. It is
absolutely critical that memory is properly released when no longer needed.

This bug was found in 2.2 and has been verified to exist in the latest SVN
build, although the SVN version behaves marginally nicer. It has been
reproduced on Debian and Ubuntu, and on x86 and x64.

Reproducible: Always

Steps to Reproduce:
1. Compile and run the attached example program. Note that the program reads a
file english-words.35. This is a file from ispell. You can replace it with any
other file containing a reasonable number of short lines.
2. Watch the memory usage of the process with &quot;top&quot; or some other utility. Note
that its virtual size never decreases.

Actual Results:  
The process never frees the memory it used.

Expected Results:  
I expected memory to be released by the garbage collector when no longer used.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>







































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="087865.html">[Mono-bugs] [Bug 478324] Regression bug in localized winforms	support
</A></li>
	<LI>Next message: <A HREF="087868.html">[Mono-bugs] [Bug 431039] First Run of IsolatedStorageFile is not	threadsafe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87866">[ date ]</a>
              <a href="thread.html#87866">[ thread ]</a>
              <a href="subject.html#87866">[ subject ]</a>
              <a href="author.html#87866">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
