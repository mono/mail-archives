<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 71274][Nor] Changed - finalizer-... tests randomly
	crash on x86 (Environment.Exit race)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2071274%5D%5BNor%5D%20Changed%20-%20finalizer-...%20tests%20randomly%0A%09crash%20on%20x86%20%28Environment.Exit%20race%29&In-Reply-To=bug-71274%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031370.html">
   <LINK REL="Next"  HREF="031372.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 71274][Nor] Changed - finalizer-... tests randomly
	crash on x86 (Environment.Exit race)</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2071274%5D%5BNor%5D%20Changed%20-%20finalizer-...%20tests%20randomly%0A%09crash%20on%20x86%20%28Environment.Exit%20race%29&In-Reply-To=bug-71274%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 71274][Nor] Changed - finalizer-... tests randomly
	crash on x86 (Environment.Exit race)">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Sun Jul  3 18:05:29 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="031370.html">[Mono-bugs] [Bug 71053][Nor] Changed - System.Uri refuses
	&quot;http://localhost/../../../a&quot;
</A></li>
        <LI>Next message: <A HREF="031372.html">[Mono-bugs] [Bug 71274][Nor] Changed - finalizer-... tests randomly
	crash on x86 (Environment.Exit race)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31371">[ date ]</a>
              <a href="thread.html#31371">[ thread ]</a>
              <a href="subject.html#31371">[ subject ]</a>
              <a href="author.html#31371">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">vargaz at gmail.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=71274">http://bugzilla.ximian.com/show_bug.cgi?id=71274</A>

--- shadow/71274	2005-07-02 18:51:53.000000000 -0400
+++ shadow/71274.tmp.17999	2005-07-03 18:05:29.000000000 -0400
@@ -513,6 +513,13 @@
 finer-grained barrier remains in place to prevent any new threads from
 entering the doomed AppDomain.
 
 Unloading an appdomain and exiting the process are probably similar.
 We need to make sure that once we have started either process that no
 new threads can be created.
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">vargaz at gmail.com</A>  2005-07-03 18:05 -------
+This has nothing to do with appdomain unloading, since exiting the
+application does not involve unloading the main appdomain. What is
+needed to prevent this problem is setting a shutdown flag somewhere in
+the runtime, and preventing the creation of new threads during shutdown.
+
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031370.html">[Mono-bugs] [Bug 71053][Nor] Changed - System.Uri refuses
	&quot;http://localhost/../../../a&quot;
</A></li>
	<LI>Next message: <A HREF="031372.html">[Mono-bugs] [Bug 71274][Nor] Changed - finalizer-... tests randomly
	crash on x86 (Environment.Exit race)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31371">[ date ]</a>
              <a href="thread.html#31371">[ thread ]</a>
              <a href="subject.html#31371">[ subject ]</a>
              <a href="author.html#31371">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
