<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 75518][Maj] Changed - GC enters infinite loop on
	some allocation patterns
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2075518%5D%5BMaj%5D%20Changed%20-%20GC%20enters%20infinite%20loop%20on%0A%09some%20allocation%20patterns&In-Reply-To=bug-75518%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031729.html">
   <LINK REL="Next"  HREF="031731.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 75518][Maj] Changed - GC enters infinite loop on
	some allocation patterns</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2075518%5D%5BMaj%5D%20Changed%20-%20GC%20enters%20infinite%20loop%20on%0A%09some%20allocation%20patterns&In-Reply-To=bug-75518%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 75518][Maj] Changed - GC enters infinite loop on
	some allocation patterns">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Thu Jul 14 11:12:37 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="031729.html">[Mono-bugs] [Bug 75359][Nor] Changed - Wrong behavior of MONO SWF
</A></li>
        <LI>Next message: <A HREF="031731.html">[Mono-bugs] [Bug 75546][Nor] New - Error in writing DataSet XML
	Schema
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31730">[ date ]</a>
              <a href="thread.html#31730">[ thread ]</a>
              <a href="subject.html#31730">[ subject ]</a>
              <a href="author.html#31730">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at ximian.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=75518">http://bugzilla.ximian.com/show_bug.cgi?id=75518</A>

--- shadow/75518	2005-07-13 12:56:09.000000000 -0400
+++ shadow/75518.tmp.3757	2005-07-14 11:12:37.000000000 -0400
@@ -11,13 +11,13 @@
 AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at ximian.com</A>                            
 ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">trow at ximian.com</A>               
 QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
 TargetMilestone: ---
 URL: 
 Cc: 
-Summary: runtime locks up on a simple, non-threaded program
+Summary: GC enters infinite loop on some allocation patterns
 
 I've run into an annoying deadlock while hacking on my heap profiler.  The
 deadlock is in program that reads and analyzes the file containing the GC
 history.  It is a simple, single-threaded program than just opens the
 history file and parses it using a BinaryReader.
 
@@ -100,6 +100,14 @@
 
 ------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">trow at ximian.com</A>  2005-07-11 13:50 -------
 Yes, this is on x86.
 
 ------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">miguel at ximian.com</A>  2005-07-13 12:56 -------
 Paolo, can you try to reproduce this?
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at ximian.com</A>  2005-07-14 11:12 -------
+This is not a lock up: the GC enters a state where it needs
+more memory, it runs a GC that fails to clenup enough room, but it
+doesn't expand the heap.
+As a temporary workaround you can set the env var
+GC_INITIAL_HEAP_SIZE=4000000.
+I'm investigating further.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031729.html">[Mono-bugs] [Bug 75359][Nor] Changed - Wrong behavior of MONO SWF
</A></li>
	<LI>Next message: <A HREF="031731.html">[Mono-bugs] [Bug 75546][Nor] New - Error in writing DataSet XML
	Schema
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31730">[ date ]</a>
              <a href="thread.html#31730">[ thread ]</a>
              <a href="subject.html#31730">[ subject ]</a>
              <a href="author.html#31730">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
