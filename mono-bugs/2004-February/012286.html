<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 54068][Wis] Changed - The xsp server crash with bus error.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="012284.html">
   <LINK REL="Next"  HREF="012321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 54068][Wis] Changed - The xsp server crash with bus error.
   </H1>
    <B>bugzilla-daemon@bugzilla.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40bugzilla.ximian.com"
       TITLE="[Mono-bugs] [Bug 54068][Wis] Changed - The xsp server crash with bus error.">bugzilla-daemon@bugzilla.ximian.com
       </A><BR>
    <I>Wed, 11 Feb 2004 04:12:02 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="012284.html">[Mono-bugs] [Bug 54133][Blo] Changed - Thread.Abort is not implemented on windows.
</A></li>
        <LI> Next message: <A HREF="012321.html">[Mono-bugs] FWD: Got Pills XA:n:ax - V@lium _ V1AgR@ * At|v:@n &lt; Pnter/m/in . S0ma  dSJHp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12286">[ date ]</a>
              <a href="thread.html#12286">[ thread ]</a>
              <a href="subject.html#12286">[ subject ]</a>
              <a href="author.html#12286">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:ztashev@openlinksw.co.uk.">ztashev@openlinksw.co.uk.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=54068">http://bugzilla.ximian.com/show_bug.cgi?id=54068</A>

--- shadow/54068	2004-02-10 08:26:39.000000000 -0500
+++ shadow/54068.tmp.20541	2004-02-11 04:12:02.000000000 -0500
@@ -37,6 +37,238 @@
 
 Additional Information:
 
 ------- Additional Comments From <A HREF="mailto:vargaz@freemail.hu">vargaz@freemail.hu</A>  2004-02-10 08:26 -------
 Could you try this with latest mono CVS? There was a bug which might
 be causing this, and it got fixed yesterday.
+
+------- Additional Comments From <A HREF="mailto:ztashev@openlinksw.co.uk">ztashev@openlinksw.co.uk</A>  2004-02-11 04:12 -------
+Tested with today CVS.
+The mono compile with gc6.3alpha4 as described at mono list. Also ICU 
+is disabled.
+The monocharge is making on Linux box.
+
+MONO Stack trace:
+
+GNU gdb 5.3-20030128 (Apple version gdb-309) (Thu Dec  4 15:41:30 GMT 
+2003)
+Copyright 2003 Free Software Foundation, Inc.
+GDB is free software, covered by the GNU General Public License, and 
+you are
+welcome to change it and/or distribute copies of it under certain 
+conditions.
+Type &quot;show copying&quot; to see the conditions.
+There is absolutely no warranty for GDB.  Type &quot;show warranty&quot; for 
+details.
+This GDB was configured as &quot;powerpc-apple-darwin&quot;.
+Reading symbols for shared libraries ......... done
+(gdb) r xsp.exe
+Starting 
+program: /Users/virtdev/portspace/virt_bin/mono_inst/bin/mono xsp.exe
+Reading symbols for shared libraries ++++++. done
+
+Program received signal EXC_BAD_ACCESS, Could not access memory.
+[Switching to process 21721 thread 0x2203]
+0x044fec00 in ?? ()
+(gdb) t a a bt
+
+Thread 3 (process 21721 thread 0x2203):
+#0  0x044fec00 in ?? ()
+Cannot access memory at address 0x44fec00
+Cannot access memory at address 0x44fec00
+#1  0x0261a038 in ?? ()
+#2  0x0186ca28 in ?? ()
+#3  0x0102bd14 in mono_jit_runtime_invoke (method=0x4cfc20, obj=0x0, 
+params=0x0, exc=0xf0400974) at mini.c:7690
+#4  0x0109008c in mono_runtime_invoke (method=0x4cfc20, obj=0x0, 
+params=0x0,
+exc=0xf0400974) at object.c:757
+#5  0x0108e180 in mono_runtime_class_init (vtable=0x1865d70) at 
+object.c:115
+#6  0x0102baf0 in mono_jit_compile_method_inner (method=0x4cfe40) at 
+mini.c:7634
+#7  0x0102bc0c in mono_jit_compile_method (method=0x4cfe40) at 
+mini.c:7663
+#8  0x0108e4e4 in mono_compile_method (method=0x4cfe40) at 
+object.c:187
+#9  0x01072b2c in ppc_magic_trampoline (method=0x4cfe40, 
+code=0x1874228,
+sp=0xf0400b80 &quot;Ã°P&quot;) at tramp-ppc.c:95
+#10 0x0180dad4 in ?? ()
+#11 0x01874228 in ?? ()
+#12 0x01874140 in ?? ()
+#13 0x01873ff8 in ?? ()
+#14 0x01873568 in ?? ()
+#15 0x01873458 in ?? ()
+#16 0x0186991c in ?? ()
+#17 0x0186927c in ?? ()
+#18 0x0186c014 in ?? ()
+#19 0x0186bf08 in ?? ()
+#20 0x0185a684 in ?? ()
+#21 0x0185a400 in ?? ()
+#22 0x01859fb0 in ?? ()
+#23 0x01859d94 in ?? ()
+#24 0x0184257c in ?? ()
+#25 0x0184122c in ?? ()
+#26 0x018410f4 in ?? ()
+#27 0x018338d0 in ?? ()
+
+Thread 2 (process 21721 thread 0xf03):
+#0  0x90018ce8 in semaphore_timedwait_signal_trap ()
+#1  0x9000e888 in _pthread_cond_wait ()
+#2  0x01104290 in _wapi_handle_wait_signal_handle (handle=0x3) at 
+handles.c:1446
+#3  0x01110dc0 in WaitForSingleObject (handle=0x3, 
+timeout=4294967295) at wait.c:95
+#4  0x010a9ab8 in finalizer_thread (unused=0x0) at gc.c:523
+#5  0x010b902c in start_wrapper (data=0x43e420) at threads.c:232
+#6  0x011107a0 in timed_thread_start_routine (args=0x43e430) at timed-
+thread.c:115
+#7  0x900247e8 in _pthread_body ()
+
+Thread 1 (process 21721 local thread 0xd03):
+#0  0x90018ce8 in semaphore_timedwait_signal_trap ()
+#1  0x9000e888 in _pthread_cond_wait ()
+#2  0x01104290 in _wapi_handle_wait_signal_handle (handle=0x8) at 
+handles.c:1446
+#3  0x01110dc0 in WaitForSingleObject (handle=0x8, 
+timeout=4294967295) at wait.c:95
+#4  0x01111068 in WaitForMultipleObjects (numobjects=1, 
+handles=0x1831600, waitall=1, timeout=4294967295) at wait.c:325
+#5  0x010ba9c4 in wait_for_tids (wait=0x1831600, timeout=4294967295) 
+at threads.c:1099
+#6  0x010babf8 in mono_thread_manage () at threads.c:1189
+#7  0x01091424 in mono_runtime_exec_managed_code (domain=0xb8f00,
+main_func=0x10597ac &lt;main_thread_handler&gt;, main_args=0xbffffb10) at
+object.c:1212
+#8  0x0105a7f0 in mono_main (argc=2, argv=0xbffffcb8) at driver.c:760
+#9  0x00001dc8 in main (argc=2, argv=0xbffffcb8) at main.c:6
+#0  0x044fec00 in ?? ()
+(gdb)
+
+MINT Stack trace:
+
+GNU gdb 5.3-20030128 (Apple version gdb-309) (Thu Dec  4 15:41:30 GMT 
+2003)
+Copyright 2003 Free Software Foundation, Inc.
+GDB is free software, covered by the GNU General Public License, and 
+you are
+welcome to change it and/or distribute copies of it under certain 
+conditions.
+Type &quot;show copying&quot; to see the conditions.
+There is absolutely no warranty for GDB.  Type &quot;show warranty&quot; for 
+details.
+This GDB was configured as &quot;powerpc-apple-darwin&quot;.
+Reading symbols for shared libraries ......... done
+(gdb) r xsp.exe
+Starting 
+program: /Users/virtdev/portspace/virt_bin/mono_inst/bin/mint xsp.exe
+Reading symbols for shared libraries ++++++. done
+
+** (xsp.exe:23247): WARNING **: The handle daemon didnt start up 
+properly
+
+** (xsp.exe:23247): WARNING **: Failed to attach shared memory! 
+Falling back
+to non-shared handles
+Listening on port: 8080
+Listening on address: 0.0.0.0
+Root directory: /Users/virtdev/portspace/virt_bin/mono_cvs/xsp/test
+
+Program received signal EXC_BAD_ACCESS, Could not access memory.
+[Switching to process 23247 thread 0x2803]
+0x0048b8ac in ves_exec_method_with_context (frame=0x0, 
+context=0xf06029b0) at interp.c:1607
+1607            frame-&gt;ex = NULL;
+(gdb)  t a a bt
+
+Thread 4 (process 23247 thread 0x2803):
+#0  0x0048b8ac in ves_exec_method_with_context (frame=0x0, 
+context=0xf06029b0)
+at interp.c:1607
+#1  0x0049b728 in ves_exec_method (frame=0x0) at interp.c:4855
+#2  0x01862058 in ?? ()
+#3  0x004e3da4 in start_wrapper (data=0x27371b0) at threads.c:232
+#4  0x0053b518 in timed_thread_start_routine (args=0x2737210) at 
+timed-thread.c:115
+#5  0x900247e8 in _pthread_body ()
+
+Thread 3 (process 23247 thread 0x2303):
+#0  0x9000b02c in sigprocmask ()
+#1  0x900f526c in setjmp ()
+#2  0x004891e4 in ves_pinvoke_method (frame=0xf03ffc70, sig=0x11990e0,
+addr=0x4cbc94 &lt;ves_icall_System_Buffer_ByteLengthInternal&gt;, 
+string_ctor=0,
+context=0xf0401bb0) at interp.c:709
+#3  0x0048bc08 in ves_exec_method_with_context (frame=0xf03ffc70,
+context=0xf0401bb0) at interp.c:1637
+#4  0x0048eb2c in ves_exec_method_with_context (frame=0xf0400090,
+context=0xf0401bb0) at interp.c:2048
+#5  0x0048eb2c in ves_exec_method_with_context (frame=0xf04004d0,
+context=0xf0401bb0) at interp.c:2048
+#6  0x0048eb2c in ves_exec_method_with_context (frame=0xf04008f0,
+context=0xf0401bb0) at interp.c:2048
+#7  0x0048eb2c in ves_exec_method_with_context (frame=0xf0400d00,
+context=0xf0401bb0) at interp.c:2048
+#8  0x0048eb2c in ves_exec_method_with_context (frame=0xf0401100,
+context=0xf0401bb0) at interp.c:2048
+#9  0x0048eb2c in ves_exec_method_with_context (frame=0xf04017f0,
+context=0xf0401bb0) at interp.c:2048
+#10 0x0048eb2c in ves_exec_method_with_context (frame=0xf0401b30,
+context=0xf0401bb0) at interp.c:2048
+#11 0x0048b544 in interp_mono_runtime_invoke (method=0x113e1f0, 
+obj=0x0,
+params=0xf0401c84, exc=0xf0401d5c) at interp.c:1504
+#12 0x004bae04 in mono_runtime_invoke (method=0x113e1f0, obj=0x0,
+params=0xf0401c84, exc=0xf0401d5c) at object.c:757
+#13 0x004bc298 in mono_runtime_exec_main (method=0x113e1f0, 
+args=0xc4f78,
+exc=0xf0401d5c) at object.c:1239
+#14 0x004bbdcc in mono_runtime_run_main (method=0x113e1f0, argc=0,
+argv=0xbffffcc0, exc=0xf0401d5c) at object.c:1113
+#15 0x0049b870 in ves_exec (domain=0xb8f00, assembly=0x1132450, 
+argc=1,
+argv=0xbffffcbc) at interp.c:4884
+#16 0x0049bc40 in main_thread_handler (user_data=0xbffffb70) at 
+interp.c:5020
+#17 0x004e3da4 in start_wrapper (data=0x1131ab0) at threads.c:232
+#18 0x0053b518 in timed_thread_start_routine (args=0x1131950) at
+timed-thread.c:115
+#19 0x900247e8 in _pthread_body ()
+
+Thread 2 (process 23247 thread 0xf03):
+#0  0x90018ce8 in semaphore_timedwait_signal_trap ()
+#1  0x9000e888 in _pthread_cond_wait ()
+#2  0x0052f008 in _wapi_handle_wait_signal_handle (handle=0x3) at
+handles.c:1446
+#3  0x0053bb38 in WaitForSingleObject (handle=0x3, 
+timeout=4294967295) at
+wait.c:95
+#4  0x004d4830 in finalizer_thread (unused=0x0) at gc.c:523
+#5  0x004e3da4 in start_wrapper (data=0x112e440) at threads.c:232
+#6  0x0053b518 in timed_thread_start_routine (args=0x112e450) at
+timed-thread.c:115
+#7  0x900247e8 in _pthread_body ()
+
+Thread 1 (process 23247 local thread 0xd03):
+#0  0x90018ce8 in semaphore_timedwait_signal_trap ()
+#1  0x9000e888 in _pthread_cond_wait ()
+#2  0x0052f008 in _wapi_handle_wait_signal_handle (handle=0x8) at
+handles.c:1446
+#3  0x0053bb38 in WaitForSingleObject (handle=0x8, 
+timeout=4294967295) at
+wait.c:95
+#4  0x0053bde0 in WaitForMultipleObjects (numobjects=1, 
+handles=0x1813e00,
+waitall=1, timeout=4294967295) at wait.c:325
+#5  0x004e573c in wait_for_tids (wait=0x1813e00, timeout=4294967295) 
+at
+threads.c:1099
+#6  0x004e5970 in mono_thread_manage () at threads.c:1189
+#7  0x004bc19c in mono_runtime_exec_managed_code (domain=0xb8f00,
+main_func=0x49bae0 &lt;main_thread_handler&gt;, main_args=0xbffffb70) at
+object.c:1212
+#8  0x0049c370 in mono_main (argc=2, argv=0xbffffcb8) at interp.c:5163
+#9  0x00001dc8 in main (argc=2, argv=0xbffffcb8) at main.c:7
+0x0048b8ac      1607            frame-&gt;ex = NULL;
+(gdb)
+

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="012284.html">[Mono-bugs] [Bug 54133][Blo] Changed - Thread.Abort is not implemented on windows.
</A></li>
	<LI> Next message: <A HREF="012321.html">[Mono-bugs] FWD: Got Pills XA:n:ax - V@lium _ V1AgR@ * At|v:@n &lt; Pnter/m/in . S0ma  dSJHp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12286">[ date ]</a>
              <a href="thread.html#12286">[ thread ]</a>
              <a href="subject.html#12286">[ subject ]</a>
              <a href="author.html#12286">[ author ]</a>
         </LI>
       </UL>
</body></html>
