<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 655380] String switch statement runs 5x slower on iPhone if compared to simple list of if statements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20655380%5D%20String%20switch%20statement%20runs%205x%20slower%20on%0A%20iPhone%20if%20compared%20to%20simple%20list%20of%20if%20statements&In-Reply-To=bug-655380-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="106509.html">
   <LINK REL="Next"  HREF="106513.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 655380] String switch statement runs 5x slower on iPhone if compared to simple list of if statements</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20655380%5D%20String%20switch%20statement%20runs%205x%20slower%20on%0A%20iPhone%20if%20compared%20to%20simple%20list%20of%20if%20statements&In-Reply-To=bug-655380-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 655380] String switch statement runs 5x slower on iPhone if compared to simple list of if statements">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Nov 23 05:10:39 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="106509.html">[Mono-bugs] [Bug 655380] String switch statement runs 5x slower on iPhone if compared to simple list of if statements
</A></li>
        <LI>Next message: <A HREF="106513.html">[Mono-bugs] [Bug 655380] String switch statement runs 5x slower on iPhone if compared to simple list of if statements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#106510">[ date ]</a>
              <a href="thread.html#106510">[ thread ]</a>
              <a href="subject.html#106510">[ subject ]</a>
              <a href="author.html#106510">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=655380">https://bugzilla.novell.com/show_bug.cgi?id=655380</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=655380#c10">https://bugzilla.novell.com/show_bug.cgi?id=655380#c10</A>


Paolo Molaro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
           Severity|Major                       |Normal

--- Comment #10 from Paolo Molaro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>&gt; 2010-11-23 10:10:38 UTC ---
About testing for &quot;Start&quot;: we obviously must not optimize the compiler based on
a snippet of code, we need to optimize for the general case, that is why I
pointed out that the sample program not testing for it is likely not
representative of the cascading if performance for small numbers of strings to
compare (mostly because you seemed to try to use it to push the blame instead
of fixing this C# compiler issue).

I agree this is definitely not a major bug, but it is not minor either, since
this definitely is also a regression as miguel points out: time was spent on
removing the nice code that did the cascading ifs, so I'm not sure why we say
we don't have time to fix the regression.

As for the hashtable on iphone tidbit: measuring sub-millisecond lasting
benchmarks has so little meaning that it's not even worth discussing about. The
benchmark should last at least 500 milliseconds and then we'll see if there is
a real arm/iphone issue or not. In the meantime we only know that gmcs produces
code roughly twice as slow as what it could generate.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="106509.html">[Mono-bugs] [Bug 655380] String switch statement runs 5x slower on iPhone if compared to simple list of if statements
</A></li>
	<LI>Next message: <A HREF="106513.html">[Mono-bugs] [Bug 655380] String switch statement runs 5x slower on iPhone if compared to simple list of if statements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#106510">[ date ]</a>
              <a href="thread.html#106510">[ thread ]</a>
              <a href="subject.html#106510">[ subject ]</a>
              <a href="author.html#106510">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
