<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 652321] Couldn't run/load unit tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20652321%5D%20Couldn%27t%20run/load%20unit%20tests&In-Reply-To=bug-652321-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="106059.html">
   <LINK REL="Next"  HREF="106061.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 652321] Couldn't run/load unit tests</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20652321%5D%20Couldn%27t%20run/load%20unit%20tests&In-Reply-To=bug-652321-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 652321] Couldn't run/load unit tests">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Nov  9 08:52:59 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="106059.html">[Mono-bugs] [Bug 652286] [SDB] Assertion in debugger
</A></li>
        <LI>Next message: <A HREF="106061.html">[Mono-bugs] [Bug 605340] Unexpected exception on calling String.LastIndexOf on empty strings with startIndex=-1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#106060">[ date ]</a>
              <a href="thread.html#106060">[ thread ]</a>
              <a href="subject.html#106060">[ subject ]</a>
              <a href="author.html#106060">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=652321">https://bugzilla.novell.com/show_bug.cgi?id=652321</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=652321#c1">https://bugzilla.novell.com/show_bug.cgi?id=652321#c1</A>


Lluis Sanchez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lluis at novell.com</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
          Component|NUnit                       |misc
            Version|SVN                         |2.8.x
         AssignedTo|<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lluis at novell.com</A>            |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
            Product|MonoDevelop                 |Mono: Runtime
          QAContact|<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">monodevelop-bugs at lists.ximi</A> |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
                   |an.com                      |

--- Comment #1 from Lluis Sanchez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lluis at novell.com</A>&gt; 2010-11-09 13:52:58 UTC ---
This seems to be a Mono bug. I get this exception in the console:

System.TypeLoadException: Could not load type
'ICSharpCode.NRefactory.TypeSystem.CecilLoaderTests' from assembly
'ICSharpCode.NRefactory.Tests, Version=1.0.0.0, Culture=neutral,
PublicKeyToken=null'.

I get the same error if I try to run the tests using nunit-console:


<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lluis at linux-wovx</A>:~/playground/NRefactory/ICSharpCode.NRefactory.Tests/bin/Debug&gt;
nunit-console ICSharpCode.NRefactory.Tests.dll
NUnit version 2.4.8
Copyright (C) 2002-2007 Charlie Poole.
Copyright (C) 2002-2004 James W. Newkirk, Michael C. Two, Alexei A. Vorontsov.
Copyright (C) 2000-2002 Philip Craig.
All Rights Reserved.

Runtime Environment - 
   OS Version: Unix 2.6.34.7
  CLR Version: 2.0.50727.1433 ( 2.8 (mono-2-8/50a2d76 dl nov  8 23:42:20 CET
2010) )

Unhandled Exception:
System.TypeLoadException: Could not load type
'ICSharpCode.NRefactory.TypeSystem.CecilLoaderTests' from assembly
'ICSharpCode.NRefactory.Tests, Version=1.0.0.0, Culture=neutral,
PublicKeyToken=null'.

Server stack trace: 
  at (wrapper managed-to-native) System.MonoType:GetMethodsByName
(System.MonoType*,string,System.Reflection.BindingFlags,bool,System.Type)
  at System.MonoType.GetMethods (BindingFlags bindingAttr) [0x00000] in
/home/lluis/nowork/mono/mcs/class/corlib/System/MonoType.cs:211 
  at NUnit.Core.Reflect.GetMethodWithAttribute (System.Type fixtureType,
System.String attributeName, BindingFlags bindingFlags, Boolean inherit)
[0x00000] in /home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/Reflect.cs:212 
  at NUnit.Core.NUnitFramework.GetFixtureSetUpMethod (System.Type fixtureType)
[0x00000] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/NUnitFramework.cs:117 
  at NUnit.Core.NUnitTestFixture..ctor (System.Type fixtureType) [0x00000] in
&lt;filename unknown&gt;:0 
  at NUnit.Core.Builders.NUnitTestFixtureBuilder.MakeSuite (System.Type type)
[0x00000] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/Builders/NUnitTestFixtureBuilder.cs:32 
  at NUnit.Core.Builders.AbstractFixtureBuilder.BuildFrom (System.Type type)
[0x00000] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/Builders/AbstractFixtureBuilder.cs:69 
  at NUnit.Core.Extensibility.SuiteBuilderCollection.BuildFrom (System.Type
type) [0x00029] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/Extensibility/SuiteBuilderCollection.cs:55 
  at NUnit.Core.TestFixtureBuilder.BuildFrom (System.Type type) [0x00000] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/TestFixtureBuilder.cs:31 
  at NUnit.Core.Builders.TestAssemblyBuilder.GetFixtures
(System.Reflection.Assembly assembly, System.String ns) [0x00032] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/Builders/TestAssemblyBuilder.cs:189 
  at NUnit.Core.Builders.TestAssemblyBuilder.Build (System.String assemblyName,
Boolean autoSuites) [0x0001a] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/Builders/TestAssemblyBuilder.cs:99 
  at NUnit.Core.Builders.TestAssemblyBuilder.Build (System.String assemblyName,
System.String testName, Boolean autoSuites) [0x00016] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/Builders/TestAssemblyBuilder.cs:76 
  at NUnit.Core.TestSuiteBuilder.BuildSingleAssembly (NUnit.Core.TestPackage
package) [0x0001e] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/TestSuiteBuilder.cs:119 
  at NUnit.Core.TestSuiteBuilder.Build (NUnit.Core.TestPackage package)
[0x00025] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/TestSuiteBuilder.cs:65 
  at NUnit.Core.SimpleTestRunner.Load (NUnit.Core.TestPackage package)
[0x0000b] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/SimpleTestRunner.cs:107 
  at NUnit.Core.ProxyTestRunner.Load (NUnit.Core.TestPackage package) [0x00000]
in /home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/ProxyTestRunner.cs:104 
  at NUnit.Core.ProxyTestRunner.Load (NUnit.Core.TestPackage package) [0x00000]
in /home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/ProxyTestRunner.cs:104 
  at NUnit.Core.RemoteTestRunner.Load (NUnit.Core.TestPackage package)
[0x0005b] in
/home/lluis/nowork/mono/mcs/nunit24/NUnitCore/core/RemoteTestRunner.cs:45 
  at (wrapper xdomain-dispatch) NUnit.Core.RemoteTestRunner:Load
(object,byte[]&amp;,byte[]&amp;)

Exception rethrown at [0]: 

  at (wrapper xdomain-invoke) NUnit.Core.RemoteTestRunner:Load
(NUnit.Core.TestPackage)
  at NUnit.Util.TestDomain.Load (NUnit.Core.TestPackage package) [0x0003f] in
/home/lluis/nowork/mono/mcs/nunit24/ClientUtilities/util/TestDomain.cs:57 


It fails to load the type, but gives no information about why.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>











































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="106059.html">[Mono-bugs] [Bug 652286] [SDB] Assertion in debugger
</A></li>
	<LI>Next message: <A HREF="106061.html">[Mono-bugs] [Bug 605340] Unexpected exception on calling String.LastIndexOf on empty strings with startIndex=-1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#106060">[ date ]</a>
              <a href="thread.html#106060">[ thread ]</a>
              <a href="subject.html#106060">[ subject ]</a>
              <a href="author.html#106060">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
