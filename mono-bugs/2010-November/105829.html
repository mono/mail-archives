<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 651455] New: MonoTouch.UIKit.UIEvent.SubType property throws exception
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20651455%5D%20New%3A%20MonoTouch.UIKit.UIEvent.SubType%0A%20property%20throws%20exception&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="106075.html">
   <LINK REL="Next"  HREF="105831.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 651455] New: MonoTouch.UIKit.UIEvent.SubType property throws exception</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20651455%5D%20New%3A%20MonoTouch.UIKit.UIEvent.SubType%0A%20property%20throws%20exception&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 651455] New: MonoTouch.UIKit.UIEvent.SubType property throws exception">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu Nov  4 14:58:15 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="106075.html">[Mono-bugs] [Bug 651419] crash related to version string
</A></li>
        <LI>Next message: <A HREF="105831.html">[Mono-bugs] [Bug 651455] MonoTouch.UIKit.UIEvent.SubType property throws exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#105829">[ date ]</a>
              <a href="thread.html#105829">[ thread ]</a>
              <a href="subject.html#105829">[ subject ]</a>
              <a href="author.html#105829">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=651455">https://bugzilla.novell.com/show_bug.cgi?id=651455</A>

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=651455#c0">https://bugzilla.novell.com/show_bug.cgi?id=651455#c0</A>


           Summary: MonoTouch.UIKit.UIEvent.SubType property throws
                    exception
    Classification: Mono
           Product: MonoTouch
           Version: SVN
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Class Libraries
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gnorton at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">borislav.parvanov at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-US)
AppleWebKit/534.10 (KHTML, like Gecko) Chrome/8.0.552.28 Safari/534.10

According to &quot;Event Handling Guide for iOS&quot; document, in order to handle
Remote-Control Events we need to do the following:

&quot;To receive remote-control events, the view or view controller managing the
presentation of multimedia content must be the first responder. It (or some
other object in the application) must also tell the application object that it
is ready to receive remote-control events.

To make itself capable of becoming first responder, the view or view controller
should override the UIResponder methodcanBecomeFirstResponder to return YES It
should also send itself the becomeFirstResponder at an appropriate time, such
as (for view controllers) in an override of the viewDidAppear: method. Listing
5-1 shows this call and also shows something else: The view controller calls
the beginReceivingRemoteControlEvents method of UIApplication to &#8220;turn on&#8221; the
delivery of remote-control events.

..

To handle remote-control events, the first responder must implement the
remoteControlReceivedWithEvent: method declared by UIResponder. The method
implementation should evaluate the subtype of each UIEvent object passed in and
send the appropriate message to the object presenting the audio or video
content.&quot;



So in my view controller I have these:

        public override void ViewDidAppear (bool animated)
        {
            base.ViewDidAppear (animated);
           
UIApplication.SharedApplication.BeginReceivingRemoteControlEvents();
            this.BecomeFirstResponder();
        }

        public override bool CanBecomeFirstResponder {
            get {
                return true;
            }
        }

        public override void RemoteControlReceived (UIEvent theEvent)
        {            
            if (theEvent.Type == UIEventType.RemoteControl)
            {
                switch (theEvent.Subtype)
                {
                case UIEventSubtype.RemoteControlNextTrack:
                    break;
                case UIEventSubtype.RemoteControlPreviousTrack:
                    break;
                case UIEventSubtype.RemoteControlPlay:
                    break;                    
                case UIEventSubtype.RemoteControlPause:
                    break;
                }
            }
        }

Then I followed these instructions:
&quot;You can test your application&#8217;s receipt and handling of remote-control events
by using the Now Playing Controls. These controls are available on recent
models of device (for iPhone, iPhone 3GS and later) that are running iOS 4.0 or
later. To access these controls, double-press the Home button, then flick left
or right along the bottom of the screen until you find the audio playback
controls. These controls send remote-control events to the application that is
currently or was most recently playing audio; the icon to the right of the
playback controls represents the application.&quot;

However, when I run my app, double press the Home button, flick left to the
audio playback controls and press one of the audio control buttons
(play/next/prev) the application stops with the following exception:

MonoTouch.Foundation.MonoTouchException has been thrown

&quot;Objective-C exception thrown. Name: NSInvalidArgumentException Reason: 
- [UIRemoteControlEvent subType]: unrecognized selector sent to instance
0x746540&quot;

I hope you fix it very soon. 

Sorry for my bad english.

Thank you

Reproducible: Always

Steps to Reproduce:
1.
2.
3.

-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="106075.html">[Mono-bugs] [Bug 651419] crash related to version string
</A></li>
	<LI>Next message: <A HREF="105831.html">[Mono-bugs] [Bug 651455] MonoTouch.UIKit.UIEvent.SubType property throws exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#105829">[ date ]</a>
              <a href="thread.html#105829">[ thread ]</a>
              <a href="subject.html#105829">[ subject ]</a>
              <a href="author.html#105829">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
