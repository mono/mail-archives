<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 81739][Wis] New - Mouse Click on Tree Node Bug
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2081739%5D%5BWis%5D%20New%20-%20Mouse%20Click%20on%20Tree%20Node%20Bug&In-Reply-To=bug-81739%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="057633.html">
   <LINK REL="Next"  HREF="057635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 81739][Wis] New - Mouse Click on Tree Node Bug</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2081739%5D%5BWis%5D%20New%20-%20Mouse%20Click%20on%20Tree%20Node%20Bug&In-Reply-To=bug-81739%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 81739][Wis] New - Mouse Click on Tree Node Bug">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Sat May 26 05:58:26 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="057633.html">[Mono-bugs] [Bug 81734][Nor] Changed - cairo ./configure: No such	file or directory on Ubunut 7.04?
</A></li>
        <LI>Next message: <A HREF="057635.html">[Mono-bugs] [Bug 81740][Blo] New - Bugs in the use of tailcalls and	in the System.Threading.SynchronizationContext.Current
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57634">[ date ]</a>
              <a href="thread.html#57634">[ thread ]</a>
              <a href="subject.html#57634">[ subject ]</a>
              <a href="author.html#57634">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">yury at serdyuk.botik.ru.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=81739">http://bugzilla.ximian.com/show_bug.cgi?id=81739</A>

--- shadow/81739	2007-05-26 05:58:26.000000000 -0400
+++ shadow/81739.tmp.14986	2007-05-26 05:58:26.000000000 -0400
@@ -0,0 +1,131 @@
+Bug#: 81739
+Product: Mono: Class Libraries
+Version: 1.0
+OS: Red Hat 8.0
+OS Details: Linux skif 2.4.27 #1 SMP Thu Apr 14 15:25:11 MSD 2005 i686 athlon i386 GNU/Linux
+Status: NEW   
+Resolution: 
+Severity: 
+Priority: Wishlist
+Component: Windows.Forms
+AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">toshok at ximian.com</A>                            
+ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Yury at serdyuk.botik.ru</A>               
+QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
+TargetMilestone: ---
+URL: 
+Cc: 
+Summary: Mouse Click on Tree Node Bug
+
+Description of Problem:
+
+Program crashes after mouse click on tree node.
+
+Steps to reproduce the problem:
+1. Compile the program as
+&gt;gmcs /r:System.Windows.Forms,System.Drawing TreeNodeClickTest.cs
+
+2. Run it as
+&gt;mono TreeNodeClickTest.exe
+
+3. Expand the Node0 and then click by right button on Node1 -
+program crashes with
+
+[<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">serdyuk at skif</A> TreeClick]$ mono TreeNodeClickTest.exe
+System.NullReferenceException: Object reference not set to an instance of 
+an object
+  at System.Windows.Forms.TreeView.MouseUpHandler (System.Object sender, 
+System.Windows.Forms.MouseEventArgs e) [0x00000]
+  at (wrapper delegate-invoke) 
+System.MulticastDelegate:invoke_void_object_MouseEventArgs 
+(object,System.Windows.Forms.MouseEventArgs)
+  at System.Windows.Forms.Control.OnMouseUp 
+(System.Windows.Forms.MouseEventArgs e) [0x00000]
+  at System.Windows.Forms.Control.WmRButtonUp 
+(System.Windows.Forms.Message&amp; m) [0x00000]
+  at System.Windows.Forms.Control.WndProc (System.Windows.Forms.Message&amp; 
+m) [0x00000]
+  at System.Windows.Forms.TreeView.WndProc (System.Windows.Forms.Message&amp; 
+m) [0x00000]
+  at System.Windows.Forms.Control+ControlWindowTarget.OnMessage 
+(System.Windows.Forms.Message&amp; m) [0x00000]
+  at System.Windows.Forms.Control+ControlNativeWindow.WndProc 
+(System.Windows.Forms.Message&amp; m) [0x00000]
+  at System.Windows.Forms.NativeWindow.WndProc (IntPtr hWnd, Msg msg, 
+IntPtr wParam, IntPtr lParam) [0x00000]
+
+
+How often does this happen? 
+
+Always
+
+Additional Information:
+
+The test program:
+
+using System;
+using System.ComponentModel;
+using System.Drawing;
+using System.Text;
+using System.Windows.Forms;
+
+
+public class Form1 : Form
+{
+        public Form1()
+        {
+            TreeNode treeNode1 = new TreeNode(&quot;Node1&quot;);
+            TreeNode treeNode0 = new TreeNode(&quot;Node0&quot;, new TreeNode[] { 
+treeNode1 });
+
+            this.treeView1 = new System.Windows.Forms.TreeView();
+            this.SuspendLayout();
+            
+            this.treeView1.Dock = DockStyle.Fill;
+            this.treeView1.Location = new Point(0, 0);
+            this.treeView1.Name = &quot;treeView1&quot;;
+
+            this.treeView1.Nodes.AddRange(new TreeNode[] { treeNode0 } );
+            
+            this.treeView1.Size = new Size(292, 266);
+            this.treeView1.TabIndex = 0;
+            this.treeView1.MouseClick += new MouseEventHandler
+(this.treeView1_MouseClick);
+                       
+            
+            this.AutoScaleDimensions = new SizeF(6F, 13F);
+            this.AutoScaleMode = AutoScaleMode.Font;
+            this.ClientSize = new Size(292, 266);
+            this.Controls.Add(this.treeView1);
+            this.Name = &quot;Form1&quot;;
+            this.Text = &quot;Form1&quot;;
+            this.ResumeLayout(false);
+        }
+
+        private TreeView treeView1;
+
+        private void treeView1_MouseClick(object sender, MouseEventArgs e)
+        {
+            MessageBox.Show(&quot; Click !!! &quot;);            
+        }
+}
+
+static class Program
+{
+	[STAThread]
+	static void Main()
+	{
+	    Application.EnableVisualStyles();
+	    Application.SetCompatibleTextRenderingDefault(false);
+	    Application.Run(new Form1());
+	}
+}
+
+Mono and libgdiplus version:
+$ mono -V
+Mono JIT compiler version 1.2.4 (tarball)
+Copyright (C) 2002-2007 Novell, Inc and Contributors. www.mono-project.com
+        TLS:           __thread
+        GC:            Included Boehm (with typed GC)
+        SIGSEGV:       normal
+        Architecture:  x86
+        Disabled:      none
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="057633.html">[Mono-bugs] [Bug 81734][Nor] Changed - cairo ./configure: No such	file or directory on Ubunut 7.04?
</A></li>
	<LI>Next message: <A HREF="057635.html">[Mono-bugs] [Bug 81740][Blo] New - Bugs in the use of tailcalls and	in the System.Threading.SynchronizationContext.Current
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57634">[ date ]</a>
              <a href="thread.html#57634">[ thread ]</a>
              <a href="subject.html#57634">[ subject ]</a>
              <a href="author.html#57634">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
