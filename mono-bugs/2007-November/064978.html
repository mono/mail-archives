<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 340809] New: Crash inside Cairo.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20340809%5D%20New%3A%20Crash%20inside%20Cairo.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065025.html">
   <LINK REL="Next"  HREF="064979.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 340809] New: Crash inside Cairo.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20340809%5D%20New%3A%20Crash%20inside%20Cairo.&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 340809] New: Crash inside Cairo.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Fri Nov  9 17:49:25 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="065025.html">[Mono-bugs] [Bug 340808] StringTrimming.Ellipsis* Not Supported
</A></li>
        <LI>Next message: <A HREF="064979.html">[Mono-bugs] [Bug 340809] Crash inside Cairo.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64978">[ date ]</a>
              <a href="thread.html#64978">[ thread ]</a>
              <a href="subject.html#64978">[ subject ]</a>
              <a href="author.html#64978">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=340809#c7">https://bugzilla.novell.com/show_bug.cgi?id=340809#c7</A>

           Summary: Crash inside Cairo.
           Product: Moonlight
           Version: unspecified
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: engine
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">miguel at novell.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
          Found By: ---


The following XAML file crashes inside Cairo while rendering, this comes from
<A HREF="http://adoguy.com/silverlight">http://adoguy.com/silverlight</A>

This could be caused by the ScaleY=0 in the ScaleTransform

Steps to reproduce:
mopen Spotlight.xaml

(Happens also in the browser)

The stack trace is:

#7  0xb7cdb8f5 in raise () from /lib/libc.so.6
#8  0xb7cdd1e1 in abort () from /lib/libc.so.6
#9  0xb7cd4c1e in __assert_fail () from /lib/libc.so.6
#10 0xb5f739c0 in _cairo_pen_find_active_cw_vertex_index (pen=0xbf7ff1d8, 
    slope=0xbf7fef44, active=0xbf7fef5c) at cairo-pen.c:326
#11 0xb5f73a32 in _cairo_pen_stroke_spline_half (pen=0xbf7ff1d8, 
    spline=&lt;value optimized out&gt;, dir=12077, polygon=0xbf7fef9c)
    at cairo-pen.c:389
#12 0xb5f73c30 in _cairo_pen_stroke_spline (pen=0xbf7ff1d8, spline=0xbf7ff0dc, 
    tolerance=0.10000000000000001, traps=0xbf7ff3b0) at cairo-pen.c:439
#13 0xb5f72fa0 in _cairo_stroker_curve_to (closure=0xbf7ff278, b=0x840d1dc, 
    c=0x840d1e4, d=0x840d1ec) at cairo-path-stroke.c:844
#14 0xb5f7115b in _cairo_path_fixed_interpret (path=0x840d178, 
    dir=CAIRO_DIRECTION_FORWARD, move_to=0xb5f724d0 &lt;_cairo_stroker_move_to&gt;, 
    line_to=0xb5f73480 &lt;_cairo_stroker_line_to&gt;, 
    curve_to=0xb5f72ce0 &lt;_cairo_stroker_curve_to&gt;, 
    close_path=0xb5f73600 &lt;_cairo_stroker_close_path&gt;, closure=0xbf7ff278)
    at cairo-path-fixed.c:488
#15 0xb5f72685 in _cairo_path_fixed_stroke_to_traps (path=0x840d178, 
    stroke_style=0x840d880, ctm=0x840d930, ctm_inverse=0x840d960, 
    tolerance=0.10000000000000001, traps=0xbf7ff3b0)
    at cairo-path-stroke.c:1001
#16 0xb5f6bea1 in _cairo_gstate_stroke_extents (gstate=0x840d870, 
    path=0x840d178, x1=0xbf7ff488, y1=0xbf7ff480, x2=0xbf7ff478, y2=0xbf7ff470)
    at cairo-gstate.c:1163
#17 0xb5f63b35 in moonlight_cairo_stroke_extents (cr=0x840d000, x1=0xbf7ff488, 
    y1=0x2f2d, x2=0x6, y2=0xbf7ff470) at cairo.c:2256
#18 0xb5f3ed89 in Path::GetSizeForBrush (this=0x83e8400, cr=0x840d000, 
    width=0xbf7ff4d0, height=0xbf7ff4c8) at shape.cpp:1701
#19 0xb5f073ee in Brush::SetupBrush (this=0x83e8678, cr=0x840d000, 
    uielement=0x83e8400) at brush.cpp:134
#20 0xb5f410b9 in Shape::DoDraw (this=0x83e8400, cr=0x840d000, do_op=true, 
    consider_fill=true) at shape.cpp:174
#21 0xb5f41281 in Shape::Render (this=0x83e8400, cr=0x840d000, x=238, y=38, 
    width=46, height=1) at shape.cpp:248
#22 0xb5f52b7b in UIElement::Render (this=0x83e8400, cr=0x840d000, 
    region=0x840d838) at uielement.cpp:542
#23 0xb5f54af9 in UIElement::DoRender (this=0x83e8400, cr=0x840d000, 
    region=0x840d838) at uielement.cpp:511
#24 0xb5f3388b in Panel::RenderChildren (this=0x83e75d8, cr=0x840d000, 
    parent_region=0x840d668) at panel.cpp:345
#25 0xb5f33f1b in Panel::Render (this=0x83e75d8, cr=0x840d000, 
    region=0x840d668) at panel.cpp:283
#26 0xb5f54af9 in UIElement::DoRender (this=0x83e75d8, cr=0x840d000, 
    region=0x840d668) at uielement.cpp:511
#27 0xb5f3388b in Panel::RenderChildren (this=0x83ddd50, cr=0x840d000, 
    parent_region=0x840c5f0) at panel.cpp:345
#28 0xb5f33f1b in Panel::Render (this=0x83ddd50, cr=0x840d000, 
    region=0x840c5f0) at panel.cpp:283
#29 0xb5f54af9 in UIElement::DoRender (this=0x83ddd50, cr=0x840d000, 
    region=0x840c5f0) at uielement.cpp:511
#30 0xb5f3934f in Surface::Paint (this=0x839c320, ctx=0x840d000, 
    region=0x840c5f0) at runtime.cpp:426
#31 0xb5f39ae4 in Surface::expose_event_callback (widget=0x83289b0, 
    event=0x8328a50, data=0x839c320) at runtime.cpp:846


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065025.html">[Mono-bugs] [Bug 340808] StringTrimming.Ellipsis* Not Supported
</A></li>
	<LI>Next message: <A HREF="064979.html">[Mono-bugs] [Bug 340809] Crash inside Cairo.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64978">[ date ]</a>
              <a href="thread.html#64978">[ thread ]</a>
              <a href="subject.html#64978">[ subject ]</a>
              <a href="author.html#64978">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
