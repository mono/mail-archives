<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 343252] New: Mono Remoting SOAP Deserialisation	differs to .Net
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20343252%5D%20New%3A%20Mono%20Remoting%20SOAP%20Deserialisation%0A%09differs%20to%20.Net&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065689.html">
   <LINK REL="Next"  HREF="065623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 343252] New: Mono Remoting SOAP Deserialisation	differs to .Net</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20343252%5D%20New%3A%20Mono%20Remoting%20SOAP%20Deserialisation%0A%09differs%20to%20.Net&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 343252] New: Mono Remoting SOAP Deserialisation	differs to .Net">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Nov 21 07:14:39 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="065689.html">[Mono-bugs] [Bug 343223] [XP64] DEP prevents Form from starting
</A></li>
        <LI>Next message: <A HREF="065623.html">[Mono-bugs] [Bug 343252] Mono Remoting SOAP Deserialisation differs	to .Net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65621">[ date ]</a>
              <a href="thread.html#65621">[ thread ]</a>
              <a href="subject.html#65621">[ subject ]</a>
              <a href="author.html#65621">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=343252">https://bugzilla.novell.com/show_bug.cgi?id=343252</A>

           Summary: Mono Remoting SOAP Deserialisation differs to .Net
           Product: Mono: Class Libraries
           Version: 1.2.4
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">glen.a.ford at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
          Found By: Development


Created an attachment (id=184185)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=184185">https://bugzilla.novell.com/attachment.cgi?id=184185</A>)
Visual Studio Solution for Test

Mono Remoting SOAP Deserialisation differs to .Net

Attached is a .Net solution containing a web service and a remoting service
that implements the same methods for SOAP.

In testing with SoapUI I found that whilst .Net can deserialise requests from
SoapUI (www.soapui.org), Mono cannot and generates an exception.

Using .Net under WinXP Pro, Mono under Suse 10.3, SoapUI running on MacOSX 10.4

SoapUI generated stub requests by using the WSDL provided by the Web Service
(Service.asmx)

Method tested was EchoString

Using SOAPUI generated request ....

&lt;soapenv:Envelope xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
xmlns:xsd=&quot;<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>
xmlns:soapenv=&quot;<A HREF="http://schemas.xmlsoap.org/soap/envelope/&quot;">http://schemas.xmlsoap.org/soap/envelope/&quot;</A>
xmlns:tem=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A>
xmlns:soapenc=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>
xmlns:tns=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A> xmlns:types=&quot;<A HREF="http://tempuri.org/encodedTypes&quot;">http://tempuri.org/encodedTypes&quot;</A>
xmlns:soap=&quot;<A HREF="http://schemas.xmlsoap.org/soap/envelope/&quot;">http://schemas.xmlsoap.org/soap/envelope/&quot;</A>&gt;
  &lt;soapenv:Header/&gt;
   &lt;soapenv:Body encodingStyle=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>&gt;
    &lt;tem:EchoString
soapenv:encodingStyle=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>&gt;
      &lt;a xsi:type=&quot;xsd:string&quot;&gt;string&lt;/a&gt;
      &lt;/tem:EchoString&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;



Gives the following result on .Net

&lt;SOAP-ENV:Envelope
SOAP-ENV:encodingStyle=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>
xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
xmlns:xsd=&quot;<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>
xmlns:SOAP-ENC=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>
xmlns:SOAP-ENV=&quot;<A HREF="http://schemas.xmlsoap.org/soap/envelope/&quot;">http://schemas.xmlsoap.org/soap/envelope/&quot;</A>
xmlns:clr=&quot;<A HREF="http://schemas.microsoft.com/soap/encoding/clr/1.0&quot;">http://schemas.microsoft.com/soap/encoding/clr/1.0&quot;</A>&gt;
   &lt;SOAP-ENV:Body&gt;
      &lt;i2:EchoString id=&quot;ref-1&quot; xmlns:i2=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A>&gt;
         &lt;EchoStringResult id=&quot;ref-3&quot;&gt;string&lt;/EchoStringResult&gt;
      &lt;/i2:EchoString&gt;
   &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;


Gives the following result on Mono

&lt;SOAP-ENV:Envelope
SOAP-ENV:encodingStyle=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>
xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
xmlns:xsd=&quot;<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>
xmlns:SOAP-ENC=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A>
xmlns:SOAP-ENV=&quot;<A HREF="http://schemas.xmlsoap.org/soap/envelope/&quot;">http://schemas.xmlsoap.org/soap/envelope/&quot;</A>
xmlns:clr=&quot;<A HREF="http://schemas.microsoft.com/clr/&quot;">http://schemas.microsoft.com/clr/&quot;</A>&gt;
   &lt;SOAP-ENV:Body&gt;
      &lt;a1:SoapFault id=&quot;ref-1&quot; xmlns:a1=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A>&gt;
         &lt;faultcode id=&quot;ref-2&quot;&gt;Server&lt;/faultcode&gt;
         &lt;faultstring id=&quot;ref-3&quot;&gt;****
System.Runtime.Serialization.SerializationException - Parse Error, no assembly
associated with XML key Body
<A HREF="http://schemas.xmlsoap.org/soap/envelope/&lt;/faultstring">http://schemas.xmlsoap.org/soap/envelope/&lt;/faultstring</A>&gt;
         &lt;detail href=&quot;#ref-4&quot;/&gt;
      &lt;/a1:SoapFault&gt;
      &lt;a1:ServerFault id=&quot;ref-4&quot; xmlns:a1=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A>&gt;
         &lt;exceptionType xsi:null=&quot;1&quot;/&gt;
         &lt;message xsi:null=&quot;1&quot;/&gt;
         &lt;stackTrace xsi:null=&quot;1&quot;/&gt;
         &lt;exception href=&quot;#ref-5&quot;/&gt;
      &lt;/a1:ServerFault&gt;
      &lt;a1:SerializationException id=&quot;ref-5&quot; xmlns:a1=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A>&gt;
         &lt;ClassName
id=&quot;ref-6&quot;&gt;System.Runtime.Serialization.SerializationException&lt;/ClassName&gt;
         &lt;Message id=&quot;ref-7&quot;&gt;Parse Error, no assembly associated with XML key
Body <A HREF="http://schemas.xmlsoap.org/soap/envelope/&lt;/Message">http://schemas.xmlsoap.org/soap/envelope/&lt;/Message</A>&gt;
         &lt;InnerException xsi:null=&quot;1&quot;/&gt;
         &lt;HelpURL xsi:null=&quot;1&quot;/&gt;
         &lt;StackTraceString id=&quot;ref-8&quot;&gt;at
System.Runtime.Serialization.Formatters.Soap.SoapTypeMapper.GetType
(System.String xmlName, System.String xmlNamespace) [0x00000] 
  at System.Runtime.Serialization.Formatters.Soap.SoapReader.Deserialize ()
[0x00000] 
  at System.Runtime.Serialization.Formatters.Soap.SoapReader.DeserializeHeaders
(System.Collections.ArrayList headers) [0x00000] 
  at System.Runtime.Serialization.Formatters.Soap.SoapReader.Deserialize
(System.IO.Stream inStream, ISoapMessage soapMessage) [0x00000] 
  at System.Runtime.Serialization.Formatters.Soap.SoapFormatter.Deserialize
(System.IO.Stream serializationStream,
System.Runtime.Remoting.Messaging.HeaderHandler handler) [0x00000] 
  at System.Runtime.Serialization.Formatters.Soap.SoapFormatter.Deserialize
(System.IO.Stream serializationStream) [0x00000] 
  at System.Runtime.Remoting.Channels.SoapServerFormatterSink.ProcessMessage
(IServerChannelSinkStack sinkStack, IMessage requestMsg, ITransportHeaders
requestHeaders, System.IO.Stream requestStream, IMessage&amp;amp; responseMsg,
ITransportHeaders&amp;amp; responseHeaders, System.IO.Stream&amp;amp; responseStream)
[0x00000]&lt;/StackTraceString&gt;
         &lt;RemoteStackTraceString xsi:null=&quot;1&quot;/&gt;
         &lt;RemoteStackIndex&gt;0&lt;/RemoteStackIndex&gt;
         &lt;HResult&gt;-2146233087&lt;/HResult&gt;
         &lt;Source
id=&quot;ref-9&quot;&gt;System.Runtime.Serialization.Formatters.Soap&lt;/Source&gt;
         &lt;ExceptionMethod xsi:null=&quot;1&quot;/&gt;
      &lt;/a1:SerializationException&gt;
   &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065689.html">[Mono-bugs] [Bug 343223] [XP64] DEP prevents Form from starting
</A></li>
	<LI>Next message: <A HREF="065623.html">[Mono-bugs] [Bug 343252] Mono Remoting SOAP Deserialisation differs	to .Net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65621">[ date ]</a>
              <a href="thread.html#65621">[ thread ]</a>
              <a href="subject.html#65621">[ subject ]</a>
              <a href="author.html#65621">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
