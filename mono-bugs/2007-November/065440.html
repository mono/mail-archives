<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 341561] Mono.WebServer.ApplicationServer ' s Stop method generates exception on Windows.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20341561%5D%20Mono.WebServer.ApplicationServer%20%27%20s%20Stop%0A%20method%20generates%20exception%20on%20Windows.&In-Reply-To=bug-341561-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="065587.html">
   <LINK REL="Next"  HREF="065441.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 341561] Mono.WebServer.ApplicationServer ' s Stop method generates exception on Windows.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20341561%5D%20Mono.WebServer.ApplicationServer%20%27%20s%20Stop%0A%20method%20generates%20exception%20on%20Windows.&In-Reply-To=bug-341561-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 341561] Mono.WebServer.ApplicationServer ' s Stop method generates exception on Windows.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Nov 19 03:58:24 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="065587.html">[Mono-bugs] [Bug 342640] Threadpool threads race?
</A></li>
        <LI>Next message: <A HREF="065441.html">[Mono-bugs] [Bug 341561] Mono.WebServer.ApplicationServer ' s Stop method generates exception on Windows.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65440">[ date ]</a>
              <a href="thread.html#65440">[ thread ]</a>
              <a href="subject.html#65440">[ subject ]</a>
              <a href="author.html#65440">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=341561#c7">https://bugzilla.novell.com/show_bug.cgi?id=341561#c7</A>





--- Comment #7 from Ashok Singh &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">siashok at novell.com</A>&gt;  2007-11-19 01:58:23 MST ---
Created an attachment (id=183856)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=183856">https://bugzilla.novell.com/attachment.cgi?id=183856</A>)
Source code and required .dlls to reproduce this issue.

The attachment contains source code to reproduce this issue. It also contains
dependent DLLs to compile and run the source code. The dependent dlls are
Mono.WebServer.dll and Mono.Security.dll

When I compiled the code using MS Visual Studio 2003 and ran on MS .NET 1.1, I
get the following output( ie., same objectdisposed exception )

D:\MonoIssue\MonoIssue\bin\Debug&gt;MonoIssue.exe
Enter some string...
adf

Unhandled Exception: System.InvalidOperationException: AcceptCallback ---&gt;
Syste
m.ObjectDisposedException: Cannot access a disposed object named
&quot;System.Net.Soc
kets.Socket&quot;.
Object name: &quot;System.Net.Sockets.Socket&quot;.
   at System.Net.Sockets.Socket.BeginAccept(AsyncCallback callback, Object
state
)
   at Mono.WebServer.ApplicationServer.OnAccept(IAsyncResult ares)
   at System.Net.Sockets.AcceptAsyncResult.AcceptCallback(Object stateObject,
Bo
olean Signaled)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.AcceptAsyncResult.AcceptCallback(Object stateObject,
Bo
olean Signaled)

When I compiled the code using MS Visual Studio 2003 and ran on MS .NET 2.0, I
get the same exception. The details of this exception is already attached in
the form of screenshot.

In both( MS .NET 1.1 and 2.0 ) the cases, 

--I get the same exception. 
--Exception cannot be caught by the program
--The difference is for 1.1, I don't get the Popup window for exception, but
for 2.0 I get a popup window(screenshot attached). What I infer from this is
the MS .NET 2.0 runtime is able to catch this exception while 1.1 is not able
to do so.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>












































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="065587.html">[Mono-bugs] [Bug 342640] Threadpool threads race?
</A></li>
	<LI>Next message: <A HREF="065441.html">[Mono-bugs] [Bug 341561] Mono.WebServer.ApplicationServer ' s Stop method generates exception on Windows.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65440">[ date ]</a>
              <a href="thread.html#65440">[ thread ]</a>
              <a href="subject.html#65440">[ subject ]</a>
              <a href="author.html#65440">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
