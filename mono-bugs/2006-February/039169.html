<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 77523][Nor] Changed - PtrToStructure(IntPtr,
	object) should throw exception if object is not formatted class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2077523%5D%5BNor%5D%20Changed%20-%20PtrToStructure%28IntPtr%2C%0A%09object%29%20should%20throw%20exception%20if%20object%20is%20not%20formatted%20class&In-Reply-To=bug-77523%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039168.html">
   <LINK REL="Next"  HREF="039170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 77523][Nor] Changed - PtrToStructure(IntPtr,
	object) should throw exception if object is not formatted class</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2077523%5D%5BNor%5D%20Changed%20-%20PtrToStructure%28IntPtr%2C%0A%09object%29%20should%20throw%20exception%20if%20object%20is%20not%20formatted%20class&In-Reply-To=bug-77523%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 77523][Nor] Changed - PtrToStructure(IntPtr,
	object) should throw exception if object is not formatted class">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Fri Feb 10 11:02:22 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="039168.html">[Mono-bugs] [Bug 77399][Nor] Changed - [GMCS] consistent crash
	using SortedList with non-primitive key
</A></li>
        <LI>Next message: <A HREF="039170.html">[Mono-bugs] [Bug 77523][Nor] Changed - PtrToStructure(IntPtr,
	object) should throw exception if object is not formatted class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39169">[ date ]</a>
              <a href="thread.html#39169">[ thread ]</a>
              <a href="subject.html#39169">[ subject ]</a>
              <a href="author.html#39169">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jonathan.chambers at ansys.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=77523">http://bugzilla.ximian.com/show_bug.cgi?id=77523</A>

--- shadow/77523	2006-02-10 10:11:09.000000000 -0500
+++ shadow/77523.tmp.30067	2006-02-10 11:02:22.000000000 -0500
@@ -48,6 +48,12 @@
 Note, once this is fixed, System.Drawing.Font.ToHfont() is going to
 throw this exception on Windows (bug was found running mono SD under
 MS.Net runtime). System.Drawing.Font.ToLogFont (object logFont,
 Graphics graphics) either needs to use the other PtrToStructure 
 overload, or the LOGFONTW/LOGFONTA structs need to be changed to
 formatted classes (I believe the former is the correct solution).
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jonathan.chambers at ansys.com</A>  2006-02-10 11:02 -------
+Actually, LOGFONTA/LOGFONTW should be a formatted class, not a struct.
+Here is an MSDN article about using ToLogFont.
+<A HREF="http://msdn.microsoft.com/library/default.asp?url=/archive/en-us/dnaraskdr/html/askgui12302003.asp">http://msdn.microsoft.com/library/default.asp?url=/archive/en-us/dnaraskdr/html/askgui12302003.asp</A>
+
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039168.html">[Mono-bugs] [Bug 77399][Nor] Changed - [GMCS] consistent crash
	using SortedList with non-primitive key
</A></li>
	<LI>Next message: <A HREF="039170.html">[Mono-bugs] [Bug 77523][Nor] Changed - PtrToStructure(IntPtr,
	object) should throw exception if object is not formatted class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39169">[ date ]</a>
              <a href="thread.html#39169">[ thread ]</a>
              <a href="subject.html#39169">[ subject ]</a>
              <a href="author.html#39169">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
