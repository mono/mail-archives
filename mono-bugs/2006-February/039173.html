<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 77523][Nor] Changed - PtrToStructure(IntPtr,
	object) should throw exception if object is not formatted class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2077523%5D%5BNor%5D%20Changed%20-%20PtrToStructure%28IntPtr%2C%0A%09object%29%20should%20throw%20exception%20if%20object%20is%20not%20formatted%20class&In-Reply-To=bug-77523%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039172.html">
   <LINK REL="Next"  HREF="039174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 77523][Nor] Changed - PtrToStructure(IntPtr,
	object) should throw exception if object is not formatted class</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2077523%5D%5BNor%5D%20Changed%20-%20PtrToStructure%28IntPtr%2C%0A%09object%29%20should%20throw%20exception%20if%20object%20is%20not%20formatted%20class&In-Reply-To=bug-77523%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 77523][Nor] Changed - PtrToStructure(IntPtr,
	object) should throw exception if object is not formatted class">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Fri Feb 10 12:01:49 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="039172.html">[Mono-bugs] [Bug 77501][Nor] Changed - [PATCH] Numeric value for
	enum is serialized as primitive type
</A></li>
        <LI>Next message: <A HREF="039174.html">[Mono-bugs] [Bug 77477][Min] Changed - OpenFileDialog: Selecting a
	directory and clicking OK does not navigate directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39173">[ date ]</a>
              <a href="thread.html#39173">[ thread ]</a>
              <a href="subject.html#39173">[ subject ]</a>
              <a href="author.html#39173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jonathan.chambers at ansys.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=77523">http://bugzilla.ximian.com/show_bug.cgi?id=77523</A>

--- shadow/77523	2006-02-10 11:51:13.000000000 -0500
+++ shadow/77523.tmp.30865	2006-02-10 12:01:49.000000000 -0500
@@ -81,6 +81,13 @@
 value type). If you are saying something else, sorry.
 
 We are currently using the overload that only allows for formatted
 classes in SD. This actually seems to be correct as the MS ToLogFont
 only worked for me when I used a formatted class to describe the
 LOGFONT structure, not when I used a managed struct.
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jonathan.chambers at ansys.com</A>  2006-02-10 12:01 -------
+Kornel, I think I understand now. The code you have above does work
+with the ToLogFont method. However, the one PtrToStructure overload
+does still throw an exception if passed a value type (boxed). Two
+seperate issues I believe (our handling to ToLogFont and
+PtrToStructure issue).
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039172.html">[Mono-bugs] [Bug 77501][Nor] Changed - [PATCH] Numeric value for
	enum is serialized as primitive type
</A></li>
	<LI>Next message: <A HREF="039174.html">[Mono-bugs] [Bug 77477][Min] Changed - OpenFileDialog: Selecting a
	directory and clicking OK does not navigate directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39173">[ date ]</a>
              <a href="thread.html#39173">[ thread ]</a>
              <a href="subject.html#39173">[ subject ]</a>
              <a href="author.html#39173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
