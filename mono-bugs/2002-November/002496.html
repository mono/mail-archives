<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 33151][Wis] Changed - MCS creates bad MSIL for if statement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40rocky.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002495.html">
   <LINK REL="Next"  HREF="002497.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 33151][Wis] Changed - MCS creates bad MSIL for if statement
   </H1>
    <B>bugzilla-daemon@rocky.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40rocky.ximian.com"
       TITLE="[Mono-bugs] [Bug 33151][Wis] Changed - MCS creates bad MSIL for if statement">bugzilla-daemon@rocky.ximian.com
       </A><BR>
    <I>4 Nov 2002 09:26:55 -0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="002495.html">[Mono-bugs] [Bug 29548][Nor] Changed - Delegate/Callback defined in native code structure
</A></li>
        <LI> Next message: <A HREF="002497.html">[Mono-bugs] [Bug 33151][Wis] Changed - MCS creates bad MSIL for if statement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2496">[ date ]</a>
              <a href="thread.html#2496">[ thread ]</a>
              <a href="subject.html#2496">[ subject ]</a>
              <a href="author.html#2496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:david_stephenson@hp.com.">david_stephenson@hp.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=33151">http://bugzilla.ximian.com/show_bug.cgi?id=33151</A>

--- shadow/33151	Fri Nov  1 16:12:48 2002
+++ shadow/33151.tmp.5719	Mon Nov  4 04:26:55 2002
@@ -1,12 +1,12 @@
 Bug#: 33151
 Product: Mono/MCS
 Version: unspecified
 OS: unknown
 OS Details: 
-Status: NEEDINFO   
+Status: REOPENED   
 Resolution: 
 Severity: Unknown
 Priority: Wishlist
 Component: Misc
 AssignedTo: <A HREF="mailto:mono-bugs@ximian.com">mono-bugs@ximian.com</A>                            
 ReportedBy: <A HREF="mailto:david_stephenson@hp.com">david_stephenson@hp.com</A>               
@@ -60,6 +60,53 @@
 I compiled your program with mcs and csc, and they both generate the
 same exception.  It is a bug in your code most likely, the state of
 things changes inside the first if test.
 
 Ran in on both mono and .net and get the same behavior.  Your code
 seems to  be the buggy one.
+
+------- Additional Comments From <A HREF="mailto:david_stephenson@hp.com">david_stephenson@hp.com</A>  2002-11-04 04:26 -------
+Thanks Miguel,
+when I saw, your comment I started to doubt my own sanity!
+you need to pass a single arguement to the program which is a pass to 
+a file which is bigger than 2050 characters long. Otherwise you get 
+the same error for both mcs and csc, which is I guess what your saw..
+
+I see
+
+C:\Projects\STAX&gt;mcs monobug2.cs
+
+You can run mcs with 'monomcs' on .NET, instead of mono, too.
+
+Compilation succeeded
+
+C:\Projects\STAX&gt;mono monobug2.exe somelargefile.txt
+
+Unhandled Exception: System.SystemException: internal Error this 
+should never happen
+in &lt;0x00097&gt; 00 test.aBug:getNextChar ()
+in &lt;0x001c6&gt; 00 test.testMain:Main (string[])
+
+C:\Projects\STAX&gt;C:\WINNT\Microsoft.NET\Framework\v1.0.3705
+\csc.exe /OUT:monobug2cbyCSC.exe monobug2.cs
+Microsoft (R) Visual C# .NET Compiler version 7.00.9466
+for Microsoft (R) .NET Framework version 1.0.3705
+Copyright (C) Microsoft Corporation 2001. All rights reserved.
+
+
+C:\Projects\STAX&gt;monobug2cbyCSC.exe somelargefile.txt
+
+C:\Projects\STAX&gt;mono monobug2cbyCSC.exe somelargefile.txt
+C:\Projects\STAX&gt;
+
+As you see when the prog is compiled by mcs you get a different 
+result from CSC.exe!
+
+I have attached a new version of the bug prog (same as before but 
+complains if you don't supply a file arg over 2050 bytes.)
+
+[sanity check passed!]
+
+
+
+
+


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002495.html">[Mono-bugs] [Bug 29548][Nor] Changed - Delegate/Callback defined in native code structure
</A></li>
	<LI> Next message: <A HREF="002497.html">[Mono-bugs] [Bug 33151][Wis] Changed - MCS creates bad MSIL for if statement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2496">[ date ]</a>
              <a href="thread.html#2496">[ thread ]</a>
              <a href="subject.html#2496">[ subject ]</a>
              <a href="author.html#2496">[ author ]</a>
         </LI>
       </UL>
</body></html>
