<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 46363][Wis] Changed - mcs gives sigsegv (mini:6676)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bugzilla-daemon%40rocky.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006409.html">
   <LINK REL="Next"  HREF="006411.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 46363][Wis] Changed - mcs gives sigsegv (mini:6676)
   </H1>
    <B>bugzilla-daemon@rocky.ximian.com
    </B> 
    <A HREF="mailto:bugzilla-daemon%40rocky.ximian.com"
       TITLE="[Mono-bugs] [Bug 46363][Wis] Changed - mcs gives sigsegv (mini:6676)">bugzilla-daemon@rocky.ximian.com
       </A><BR>
    <I>Wed, 16 Jul 2003 10:08:39 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="006409.html">[Mono-bugs] [Bug 46397][Nor] Changed - Panel class not working correctly
</A></li>
        <LI> Next message: <A HREF="006411.html">[Mono-bugs] [Bug 46301][Nor] Changed - Designer attribute error in System.dll with NET_1_1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6410">[ date ]</a>
              <a href="thread.html#6410">[ thread ]</a>
              <a href="subject.html#6410">[ subject ]</a>
              <a href="author.html#6410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="mailto:richard.torkar@htu.se.">richard.torkar@htu.se.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=46363">http://bugzilla.ximian.com/show_bug.cgi?id=46363</A>

--- shadow/46363	Wed Jul 16 04:35:18 2003
+++ shadow/46363.tmp.15420	Wed Jul 16 10:08:39 2003
@@ -51,6 +51,53 @@
   if ((code = g_hash_table_lookup (jit_code_hash, method))) {
     mono_jit_stats.methods_lookups++;
     return code;
   }
 
 I'll try to pin down exactly what happens...
+
+------- Additional Comments From <A HREF="mailto:richard.torkar@htu.se">richard.torkar@htu.se</A>  2003-07-16 10:08 -------
+Program received signal SIGSEGV, Segmentation fault.
+[Switching to Thread 1085639984 (LWP 24336)]
+0x00000019 in ?? ()
+(gdb) bt
+#0  0x00000019 in ?? ()
+#1  0x400431fe in mono_jit_compile_method (method=0x89a9da8) at
+mini.c:6676
+#2  0x40043599 in mono_jit_runtime_invoke (method=0x84f2c58,
+obj=0x8725460, params=0x0, exc=0x40b58868) at mini.c:6775
+#3  0x4008e73e in mono_runtime_invoke (method=0x84f2c58,
+obj=0x8725460, params=0x0, exc=0x40b58868) at object.c:684
+#4  0x4009d95d in run_finalize (obj=0x8725460, data=0x0) at gc.c:72
+#5  0x40141091 in GC_invoke_finalizers () at finalize.c:789
+#6  0x4009e2e8 in finalizer_thread (unused=0x0) at gc.c:485
+#7  0x400e1f1c in timed_thread_start_routine (args=0x80b0fd0) at
+timed-thread.c:115
+#8  0x40143687 in GC_start_routine (arg=0x805be40) at linux_threads.c:1663
+#9  0x4021b332 in start_thread () from /lib/tls/libpthread.so.0
+(gdb) up
+#1  0x400431fe in mono_jit_compile_method (method=0x89a9da8) at
+mini.c:6676
+6676            if ((code = g_hash_table_lookup (jit_code_hash,
+method))) {
+(gdb) info frame
+Stack level 1, frame at 0x40b587f0:
+ eip = 0x400431fe in mono_jit_compile_method (mini.c:6676); saved eip
+0x40043599
+ called by frame at 0x40b58820, caller of frame at 0x40b58780
+ source language c.
+ Arglist at 0x40b587f0, args: method=0x89a9da8
+ Locals at 0x40b587f0, Previous frame's sp in esp
+ Saved registers:
+  ebx at 0x40b587e8, ebp at 0x40b587f0, esi at 0x40b587ec, eip at
+0x40b587f4
+(gdb) info args
+method = (MonoMethod *) 0x89a9da8
+(gdb) info local
+target_domain = (MonoDomain *) 0x805ef00
+domain = (MonoDomain *) 0x805ef00
+cfg = (MonoCompile *) 0xb58d3002
+jit_code_hash = (GHashTable *) 0x854f9d0
+code = 0x400e2e29
+
+
+Hmm, corrupt GHashTable?

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006409.html">[Mono-bugs] [Bug 46397][Nor] Changed - Panel class not working correctly
</A></li>
	<LI> Next message: <A HREF="006411.html">[Mono-bugs] [Bug 46301][Nor] Changed - Designer attribute error in System.dll with NET_1_1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6410">[ date ]</a>
              <a href="thread.html#6410">[ thread ]</a>
              <a href="subject.html#6410">[ subject ]</a>
              <a href="author.html#6410">[ author ]</a>
         </LI>
       </UL>
</body></html>
