<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 80819][Cri] New - XSP2 fails during compilation.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080819%5D%5BCri%5D%20New%20-%20XSP2%20fails%20during%20compilation.&In-Reply-To=bug-80819%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054005.html">
   <LINK REL="Next"  HREF="054007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 80819][Cri] New - XSP2 fails during compilation.</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080819%5D%5BCri%5D%20New%20-%20XSP2%20fails%20during%20compilation.&In-Reply-To=bug-80819%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 80819][Cri] New - XSP2 fails during compilation.">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Tue Feb 13 05:15:47 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054005.html">[Mono-bugs] [Bug 80818][Maj] New - Moma analyze as OK but mono	cannot run the application
</A></li>
        <LI>Next message: <A HREF="054007.html">[Mono-bugs] [Bug 80820][Wis] New - XmlTextWriter: incorrect xml	declaration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54006">[ date ]</a>
              <a href="thread.html#54006">[ thread ]</a>
              <a href="subject.html#54006">[ subject ]</a>
              <a href="author.html#54006">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rull_orion at mail.ru.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=80819">http://bugzilla.ximian.com/show_bug.cgi?id=80819</A>

--- shadow/80819	2007-02-13 05:15:47.000000000 -0500
+++ shadow/80819.tmp.20903	2007-02-13 05:15:47.000000000 -0500
@@ -0,0 +1,233 @@
+Bug#: 80819
+Product: Mono: Tools
+Version: unspecified
+OS: 
+OS Details: Windows 2003
+Status: NEW   
+Resolution: 
+Severity: 
+Priority: Critical
+Component: XSP
+AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gonzalo at ximian.com</A>                            
+ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rull_orion at mail.ru</A>               
+QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
+TargetMilestone: ---
+URL: 
+Cc: 
+Summary: XSP2 fails during compilation.
+
+XSP2 fails if site if run with compilation.
+
+Steps to reproduce the problem:
+1. Create Default ASP.NET 2.0 Application with one Page Default.aspx (I
+have with code behind Default.aspx.cs) and no-web.config.
+2. Add empty App_Code folder.
+3. Clear XSP2 Cache. (Remove all files in &quot;C:\Documents and
+Settings\user\Local Settings\Temp\user-temp-aspnet-0&quot;)
+4. Run Site.
+
+Actual Results:
+Get Exception in XSP2 Server.
+
+&quot;C:\PROGRA~1\Mono\bin\mono.exe&quot;
+&quot;C:\PROGRA~1\Mono\lib\mono\2.0\winhack\xsp2.exe&quot; --root
+&quot;D:\Projects\WebSite1&quot; --por
+t 8088 --applications /:.
+xsp2
+Listening on port: 8088 (non-secure)
+Listening on address: 0.0.0.0
+Root directory: D:\Projects\WebSite1
+Hit Return to stop the server.
+Stacktrace:
+
+  at System.Web.Caching.Cache.Get (string) &lt;0xffffffff&gt;
+  at System.Web.Caching.Cache.Get (string) &lt;0x00075&gt;
+  at System.Web.Caching.Cache.get_Item (string) &lt;0x0000d&gt;
+  at System.Web.Caching.OutputCacheModule.OnResolveRequestCache
+(object,System.EventArgs) &lt;0x000ba&gt;
+  at (wrapper delegate-invoke)
+System.MulticastDelegate.invoke_void_object_EventArgs
+(object,System.EventArgs) &lt;0xffffffff&gt;
+  at &lt;&gt;c__CompilerGenerated5.MoveNext () &lt;0x0057c&gt;
+  at &lt;&gt;c__CompilerGenerated6.MoveNext () &lt;0x00b0c&gt;
+  at System.Web.HttpApplication.Tick () &lt;0x0003a&gt;
+  at System.Web.HttpApplication.Start (object) &lt;0x000f2&gt;
+  at
+System.Web.HttpApplication.System.Web.IHttpAsyncHandler.BeginProcessRequest
+(System.Web.HttpContext,System.AsyncCallback,object) &lt;0x0007d&gt;
+  at System.Web.HttpRuntime.RealProcessRequest (object) &lt;0x001e2&gt;
+  at System.Web.HttpRuntime.ProcessRequest (System.Web.HttpWorkerRequest)
+&lt;0x0002c&gt;
+  at Mono.WebServer.MonoWorkerRequest.ProcessRequest () &lt;0x0000a&gt;
+  at Mono.WebServer.BaseApplicationHost.ProcessRequest
+(Mono.WebServer.MonoWorkerRequest) &lt;0x00043&gt;
+  at Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0x003d2&gt;
+  at (wrapper remoting-invoke-with-check)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0xffffffff&gt;
+  at (wrapper xdomain-dispatch)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(object,byte[]&amp;,byte[]&amp;,int,long,int,long,int,string,string,string,string,byte[],string)
+&lt;0xffffffff&gt;
+  at (wrapper xdomain-invoke)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0xffffffff&gt;
+  at (wrapper remoting-invoke-with-check)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0xffffffff&gt;
+  at Mono.WebServer.XSPWorker.RunInternal (object) &lt;0x0065a&gt;
+  at (wrapper delegate-invoke) System.MulticastDelegate.invoke_void_object
+(object) &lt;0xffffffff&gt;
+  at (wrapper runtime-invoke) System.Object.runtime_invoke_void_object
+(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+
+This application has requested the Runtime to terminate it in an unusual way.
+Please contact the application's support team for more information.
+Expected Results:
+Compilation Succeed.
+
+How often does this happen? 
+Almost always. Sometimes it succeed but I didn't check the cache in this
+occasions.
+
+Additional Information:
+1. Sometimes I have message box with message:
+&quot;Glib-error **:gmem.c:172 failed to allocate 64 bytes
+aborting...&quot;
+-----------------------------------------------------------------------
+2. Sometimes if first Request Processed without error in the next
+request(refresh) I get:
+
+&quot;C:\PROGRA~1\Mono\bin\mono.exe&quot;
+&quot;C:\PROGRA~1\Mono\lib\mono\2.0\winhack\xsp2.exe&quot; --root
+&quot;D:\Projects\WebSite1&quot; --por
+t 8088 --applications /:.
+xsp2
+Listening on port: 8088 (non-secure)
+Listening on address: 0.0.0.0
+Root directory: D:\Projects\WebSite1
+Hit Return to stop the server.
+Stacktrace:
+
+  at System.Web.SessionState.SessionInProcHandler.GetItemInternal
+(System.Web.HttpContext,string,bool&amp;,System.TimeSpan&amp;,object&amp;,System.Web.SessionState.SessionStateActions&amp;,bool)
+&lt;0xffffffff&gt;
+  at System.Web.SessionState.SessionInProcHandler.GetItemInternal
+(System.Web.HttpContext,string,bool&amp;,System.TimeSpan&amp;,object&amp;,System.Web.SessionState.SessionStateActions&amp;,bool)
+&lt;0x000e9&gt;
+  at System.Web.SessionState.SessionInProcHandler.GetItemExclusive
+(System.Web.HttpContext,string,bool&amp;,System.TimeSpan&amp;,object&amp;,System.Web.SessionState.SessionStateActions&amp;)
+&lt;0x0002e&gt;
+  at System.Web.SessionState.SessionStateModule.GetStoreData
+(System.Web.HttpContext,string,bool) &lt;0x00085&gt;
+  at System.Web.SessionState.SessionStateModule.OnAcquireRequestState
+(object,System.EventArgs) &lt;0x001ed&gt;
+  at (wrapper delegate-invoke)
+System.MulticastDelegate.invoke_void_object_EventArgs
+(object,System.EventArgs) &lt;0xffffffff&gt;
+  at &lt;&gt;c__CompilerGenerated5.MoveNext () &lt;0x0057c&gt;
+  at &lt;&gt;c__CompilerGenerated6.MoveNext () &lt;0x014e8&gt;
+  at System.Web.HttpApplication.Tick () &lt;0x0003a&gt;
+  at System.Web.HttpApplication.Start (object) &lt;0x000f2&gt;
+  at
+System.Web.HttpApplication.System.Web.IHttpAsyncHandler.BeginProcessRequest
+(System.Web.HttpContext,System.AsyncCallback,object) &lt;0x0007d&gt;
+  at System.Web.HttpRuntime.RealProcessRequest (object) &lt;0x001e2&gt;
+  at System.Web.HttpRuntime.ProcessRequest (System.Web.HttpWorkerRequest)
+&lt;0x0002c&gt;
+  at Mono.WebServer.MonoWorkerRequest.ProcessRequest () &lt;0x0000a&gt;
+  at Mono.WebServer.BaseApplicationHost.ProcessRequest
+(Mono.WebServer.MonoWorkerRequest) &lt;0x00043&gt;
+  at Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0x003d2&gt;
+  at (wrapper remoting-invoke-with-check)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0xffffffff&gt;
+  at (wrapper xdomain-dispatch)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(object,byte[]&amp;,byte[]&amp;,int,long,int,long,int,string,string,string,string,byte[],string)
+&lt;0xffffffff&gt;
+  at (wrapper xdomain-invoke)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0xffffffff&gt;
+  at (wrapper remoting-invoke-with-check)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0xffffffff&gt;
+  at Mono.WebServer.XSPWorker.RunInternal (object) &lt;0x0065a&gt;
+  at (wrapper delegate-invoke) System.MulticastDelegate.invoke_void_object
+(object) &lt;0xffffffff&gt;
+  at (wrapper runtime-invoke) System.Object.runtime_invoke_void_object
+(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+-----------------------------------------------------------------------
+3. If Using &lt;authentication mode=&quot;Forms&quot; /&gt; getting sometimes:
+&quot;C:\PROGRA~1\Mono\bin\mono.exe&quot;
+&quot;C:\PROGRA~1\Mono\lib\mono\2.0\winhack\xsp2.exe&quot; --root
+&quot;D:\Projects\WebSite1&quot; -
+-port 8088 --applications /:.
+xsp2
+Listening on port: 8088 (non-secure)
+Listening on address: 0.0.0.0
+Root directory: D:\Projects\WebSite1
+Hit Return to stop the server.
+Stacktrace:
+  at System.Text.Encoding.GetBytes (string) &lt;0xffffffff&gt;
+  at System.Text.Encoding.GetBytes (string) &lt;0x00059&gt;
+  at Mono.WebServer.XSPWorkerRequest.GetQueryStringRawBytes () &lt;0x00031&gt;
+  at System.Web.HttpRequest.get_UrlComponents () &lt;0x000b3&gt;
+  at System.Web.HttpRequest.get_Path () &lt;0x00019&gt;
+  at System.Web.Configuration.WebConfigurationManager.GetSection (string)
+&lt;0x00045&gt;
+  at System.Web.Security.FormsAuthenticationModule.OnAuthenticateRequest
+(object,System.EventArgs) &lt;0x00098&gt;
+  at (wrapper delegate-invoke)
+System.MulticastDelegate.invoke_void_object_EventArgs
+(object,System.EventArgs) &lt;0xffffffff&gt;
+  at &lt;&gt;c__CompilerGenerated5.MoveNext () &lt;0x0057c&gt;
+  at &lt;&gt;c__CompilerGenerated6.MoveNext () &lt;0x002f3&gt;
+  at System.Web.HttpApplication.Tick () &lt;0x0003a&gt;
+  at System.Web.HttpApplication.Start (object) &lt;0x000f2&gt;
+  at
+System.Web.HttpApplication.System.Web.IHttpAsyncHandler.BeginProcessRequest
+(System.Web.HttpContext,System.AsyncCallback,object) &lt;0x0007d&gt;
+  at System.Web.HttpRuntime.RealProcessRequest (object) &lt;0x001e2&gt;
+  at System.Web.HttpRuntime.ProcessRequest (System.Web.HttpWorkerRequest)
+&lt;0x0002c&gt;
+  at Mono.WebServer.MonoWorkerRequest.ProcessRequest () &lt;0x0000a&gt;
+  at Mono.WebServer.BaseApplicationHost.ProcessRequest
+(Mono.WebServer.MonoWorkerRequest) &lt;0x00043&gt;
+  at Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0x003d2&gt;
+  at (wrapper remoting-invoke-with-check)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0xffffffff&gt;
+  at (wrapper xdomain-dispatch)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(object,byte[]&amp;,byte[]&amp;,int,long,int,long,int,string,string,string,string,byte[],string)
+&lt;0xffffffff&gt;
+  at (wrapper xdomain-invoke)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0xffffffff&gt;
+  at (wrapper remoting-invoke-with-check)
+Mono.WebServer.XSPApplicationHost.ProcessRequest
+(int,long,int,long,int,string,string,string,string,byte[],string,intptr,Mono.WebServer.SslInformations)
+&lt;0xffffffff&gt;
+  at Mono.WebServer.XSPWorker.RunInternal (object) &lt;0x0065a&gt;
+  at (wrapper delegate-invoke) System.MulticastDelegate.invoke_void_object
+(object) &lt;0xffffffff&gt;
+  at (wrapper runtime-invoke) System.Object.runtime_invoke_void_object
+(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
+
+So All this error failed at &lt;&gt;c__CompilerGenerated5.MoveNext () function
+and I submit it to single post so maybe it can help to resolve this problem.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054005.html">[Mono-bugs] [Bug 80818][Maj] New - Moma analyze as OK but mono	cannot run the application
</A></li>
	<LI>Next message: <A HREF="054007.html">[Mono-bugs] [Bug 80820][Wis] New - XmlTextWriter: incorrect xml	declaration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54006">[ date ]</a>
              <a href="thread.html#54006">[ thread ]</a>
              <a href="subject.html#54006">[ subject ]</a>
              <a href="author.html#54006">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
