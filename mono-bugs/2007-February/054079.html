<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 80842][Nor] Changed - ImageList messes up	GetPixel/SetPixel on *nix
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080842%5D%5BNor%5D%20Changed%20-%20ImageList%20messes%20up%0A%09GetPixel/SetPixel%20on%20%2Anix&In-Reply-To=bug-80842%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054078.html">
   <LINK REL="Next"  HREF="054080.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 80842][Nor] Changed - ImageList messes up	GetPixel/SetPixel on *nix</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080842%5D%5BNor%5D%20Changed%20-%20ImageList%20messes%20up%0A%09GetPixel/SetPixel%20on%20%2Anix&In-Reply-To=bug-80842%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 80842][Nor] Changed - ImageList messes up	GetPixel/SetPixel on *nix">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Wed Feb 14 03:52:37 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054078.html">[Mono-bugs] [Bug 80842][Nor] New - ImageList messes up	GetPixel/SetPixel on *nix
</A></li>
        <LI>Next message: <A HREF="054080.html">[Mono-bugs] [Bug 80844][Nor] New - Do not compilation with gcc	2.95.x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54079">[ date ]</a>
              <a href="thread.html#54079">[ thread ]</a>
              <a href="subject.html#54079">[ subject ]</a>
              <a href="author.html#54079">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">kornelpal at gmail.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=80842">http://bugzilla.ximian.com/show_bug.cgi?id=80842</A>

--- shadow/80842	2007-02-14 00:38:05.000000000 -0500
+++ shadow/80842.tmp.3191	2007-02-14 03:52:37.000000000 -0500
@@ -2,13 +2,13 @@
 Product: Mono: Class Libraries
 Version: 1.2
 OS: other
 OS Details: opensuse 10.2
 Status: NEW   
 Resolution: 
-Severity: 
+Severity: Unknown
 Priority: Normal
 Component: libgdiplus
 AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>                            
 ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">monkey at jpobst.com</A>               
 QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at ximian.com</A>
 TargetMilestone: ---
@@ -32,6 +32,24 @@
 Bitmap).GetPixel (0, 0));
 }
 
 On linux, the color returned is (0, 51, 0).  It only happens when the image
 is placed in the ImageList, but the fact that it works on winmono makes me
 think it must be something in libgdiplus.
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">kornelpal at gmail.com</A>  2007-02-14 03:52 -------
+Getting ImageList.Images[index] causes the handle to be created that 
+means that color depth is applied to the images.
+
+4-bit and 8-bit color depths are based on GDI+ or libgdiplus 
+palettes:
+
+bitmap = new Bitmap(1, 1, PixelFormat.Format4bppIndexed);
+Palette4Bit = bitmap.Palette;
+bitmap.Dispose();
+
+bitmap = new Bitmap(1, 1, PixelFormat.Format8bppIndexed);
+Palette8Bit = bitmap.Palette;
+bitmap.Dispose();
+
+So I think de difference is in deafult palettes. To provide 
+compatibility with GDI+, libgdiplus should use the same palettes.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054078.html">[Mono-bugs] [Bug 80842][Nor] New - ImageList messes up	GetPixel/SetPixel on *nix
</A></li>
	<LI>Next message: <A HREF="054080.html">[Mono-bugs] [Bug 80844][Nor] New - Do not compilation with gcc	2.95.x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54079">[ date ]</a>
              <a href="thread.html#54079">[ thread ]</a>
              <a href="subject.html#54079">[ subject ]</a>
              <a href="author.html#54079">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
