<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 80899][Nor] Changed - Finalizers not called	anymore after an unhandled type load exception in a finalizer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080899%5D%5BNor%5D%20Changed%20-%20Finalizers%20not%20called%0A%09anymore%20after%20an%20unhandled%20type%20load%20exception%20in%20a%20finalizer&In-Reply-To=bug-80899%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="054483.html">
   <LINK REL="Next"  HREF="054485.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 80899][Nor] Changed - Finalizers not called	anymore after an unhandled type load exception in a finalizer</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080899%5D%5BNor%5D%20Changed%20-%20Finalizers%20not%20called%0A%09anymore%20after%20an%20unhandled%20type%20load%20exception%20in%20a%20finalizer&In-Reply-To=bug-80899%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 80899][Nor] Changed - Finalizers not called	anymore after an unhandled type load exception in a finalizer">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Mon Feb 26 10:54:21 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="054483.html">[Mono-bugs] [Bug 80876][Nor] Changed - [MACOSX x86] Parser Error on	any Color
</A></li>
        <LI>Next message: <A HREF="054485.html">[Mono-bugs] [Bug 80924][Wis] Changed - signcode does not prompt for	the .pvk password
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54484">[ date ]</a>
              <a href="thread.html#54484">[ thread ]</a>
              <a href="subject.html#54484">[ subject ]</a>
              <a href="author.html#54484">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">vargaz at gmail.com.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=80899">http://bugzilla.ximian.com/show_bug.cgi?id=80899</A>

--- shadow/80899	2007-02-19 14:29:18.000000000 -0500
+++ shadow/80899.tmp.7642	2007-02-26 10:54:21.000000000 -0500
@@ -74,6 +74,13 @@
 The crash happens when trying to create an instance of Crasher, which
 throws an exception in the class constructor. After this crash, finalizers
 are not called anymore.
 
 Notice that if the exception shown is a regular exception it does not
 happen. It also does not happen if the Crasher class does not have a finalizer.
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">vargaz at gmail.com</A>  2007-02-26 10:54 -------
+This is because the finalizer calls mono_jit_runtime_invoke (), which
+calls other functions which raise the type load exception, but there is
+nobody to catch it since there is no managed frame on the stack, so the
+finalizer thread is aborted after the unhandled exception.
+
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="054483.html">[Mono-bugs] [Bug 80876][Nor] Changed - [MACOSX x86] Parser Error on	any Color
</A></li>
	<LI>Next message: <A HREF="054485.html">[Mono-bugs] [Bug 80924][Wis] Changed - signcode does not prompt for	the .pvk password
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54484">[ date ]</a>
              <a href="thread.html#54484">[ thread ]</a>
              <a href="subject.html#54484">[ subject ]</a>
              <a href="author.html#54484">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
