<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 80743][Min] Changed - Segfault when restarting	webapp in rapid succession
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080743%5D%5BMin%5D%20Changed%20-%20Segfault%20when%20restarting%0A%09webapp%20in%20rapid%20succession&In-Reply-To=bug-80743%40chernobyl.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="053756.html">
   <LINK REL="Next"  HREF="053758.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 80743][Min] Changed - Segfault when restarting	webapp in rapid succession</H1>
    <B>bugzilla-daemon at bugzilla.ximian.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%2080743%5D%5BMin%5D%20Changed%20-%20Segfault%20when%20restarting%0A%09webapp%20in%20rapid%20succession&In-Reply-To=bug-80743%40chernobyl.ximian.com"
       TITLE="[Mono-bugs] [Bug 80743][Min] Changed - Segfault when restarting	webapp in rapid succession">bugzilla-daemon at bugzilla.ximian.com
       </A><BR>
    <I>Thu Feb  8 16:28:40 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="053756.html">[Mono-bugs] [Bug 80766][Min] Changed - WebRequest exceptions don't	match MS
</A></li>
        <LI>Next message: <A HREF="053758.html">[Mono-bugs] [Bug 80743][Min] Changed - Segfault when restarting	webapp in rapid succession
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53757">[ date ]</a>
              <a href="thread.html#53757">[ thread ]</a>
              <a href="subject.html#53757">[ subject ]</a>
              <a href="author.html#53757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please do not reply to this email- if you want to comment on the bug, go to the
URL shown below and enter your comments there.

Changed by <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gert.driesen at pandora.be.</A>

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=80743">http://bugzilla.ximian.com/show_bug.cgi?id=80743</A>

--- shadow/80743	2007-02-08 14:04:39.000000000 -0500
+++ shadow/80743.tmp.19825	2007-02-08 16:28:40.000000000 -0500
@@ -65,6 +65,160 @@
 The segfault in GetExecutingAssembly() was likely fixed by r72369 (an
 issue introduced in r72349).
 Apart from the timeout domain unload warnings, the only other issue
 seems to be the double free reported in one of the traces (it is
 possible the locking patch fixed this, let us know if you see that again).
 Changing priority accordingly.
+
+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">gert.driesen at pandora.be</A>  2007-02-08 16:28 -------
+I've attached another sample app which hosts the ASP.NET runtime. 
+I've tested usibng SVN head, and this gets me the following SIGSEGV:
+
+Stacktrace:
+
+
+Native stacktrace:
+
+	mono [0x81682aa]
+	mono [0x81522e3]
+	[0xffffe440]
+	[0xb5c1be24]
+	[0xb5c1bc49]
+	[0xb5c17ee3]
+	[0xb5c4ae5b]
+	[0xb5c4a7d6]
+	mono(mono_runtime_invoke_array+0x1ca) [0x80da3da]
+	mono [0x80db5b6]
+	mono [0x80e8b9d]
+	mono [0x80eaa93]
+	mono [0x80b560e]
+	mono [0x8107e4f]
+	mono [0x8121503]
+	/lib/libpthread.so.0 [0xb7ed6508]
+	/lib/libc.so.6(__clone+0x5e) [0xb7e4c7be]
+
+Debug info from gdb:
+
+Using host libthread_db library &quot;/lib/libthread_db.so.1&quot;.
+[Thread debugging using libthread_db enabled]
+[New Thread -1210504512 (LWP 15298)]
+[New Thread -1244210272 (LWP 15346)]
+[New Thread -1222685792 (LWP 15342)]
+[New Thread -1242563680 (LWP 15340)]
+[New Thread -1233032288 (LWP 15330)]
+[New Thread -1239745632 (LWP 15318)]
+[New Thread -1238692960 (LWP 15317)]
+[New Thread -1237640288 (LWP 15316)]
+[New Thread -1236587616 (LWP 15315)]
+[New Thread -1235534944 (LWP 15314)]
+[New Thread -1223738464 (LWP 15302)]
+[New Thread -1218995296 (LWP 15300)]
+[New Thread -1213293664 (LWP 15299)]
+0xffffe410 in ?? ()
+  13 Thread -1213293664 (LWP 15299)  0xffffe410 in ?? ()
+  12 Thread -1218995296 (LWP 15300)  0xffffe410 in ?? ()
+  11 Thread -1223738464 (LWP 15302)  0xffffe410 in ?? ()
+  10 Thread -1235534944 (LWP 15314)  0xffffe410 in ?? ()
+  9 Thread -1236587616 (LWP 15315)  0xffffe410 in ?? ()
+  8 Thread -1237640288 (LWP 15316)  0xffffe410 in ?? ()
+  7 Thread -1238692960 (LWP 15317)  0xffffe410 in ?? ()
+  6 Thread -1239745632 (LWP 15318)  0xffffe410 in ?? ()
+  5 Thread -1233032288 (LWP 15330)  0xffffe410 in ?? ()
+  4 Thread -1242563680 (LWP 15340)  0xffffe410 in ?? ()
+  3 Thread -1222685792 (LWP 15342)  0xffffe410 in ?? ()
+  2 Thread -1244210272 (LWP 15346)  0xffffe410 in ?? ()
+  1 Thread -1210504512 (LWP 15298)  0xffffe410 in ?? ()
+
+Thread 13 (Thread -1213293664 (LWP 15299)):
+#0  0xffffe410 in ?? ()
+#1  0xb7ae9438 in ?? ()
+#2  0x081f6db8 in ?? ()
+#3  0x00000000 in ?? ()
+
+Thread 12 (Thread -1218995296 (LWP 15300)):
+#0  0xffffe410 in ?? ()
+#1  0xb7579238 in ?? ()
+#2  0x0000001d in ?? ()
+#3  0x00000000 in ?? ()
+
+Thread 11 (Thread -1223738464 (LWP 15302)):
+#0  0xffffe410 in ?? ()
+#1  0xb70f3148 in ?? ()
+#2  0x00000097 in ?? ()
+#3  0x00000000 in ?? ()
+
+Thread 10 (Thread -1235534944 (LWP 15314)):
+#0  0xffffe410 in ?? ()
+#1  0xb65b3240 in ?? ()
+#2  0x00000218 in ?? ()
+#3  0x00000000 in ?? ()
+
+Thread 9 (Thread -1236587616 (LWP 15315)):
+#0  0xffffe410 in ?? ()
+#1  0xb64b20d0 in ?? ()
+#2  0x081f6db8 in ?? ()
+#3  0x00000000 in ?? ()
+
+Thread 8 (Thread -1237640288 (LWP 15316)):
+#0  0xffffe410 in ?? ()
+#1  0xb63b1240 in ?? ()
+#2  0x0000021d in ?? ()
+#3  0x00000000 in ?? ()
+
+Thread 7 (Thread -1238692960 (LWP 15317)):
+#0  0xffffe410 in ?? ()
+
+Thread 6 (Thread -1239745632 (LWP 15318)):
+#0  0xffffe410 in ?? ()
+#1  0xb61af240 in ?? ()
+#2  0x0000021a in ?? ()
+#3  0x00000000 in ?? ()
+
+Thread 5 (Thread -1233032288 (LWP 15330)):
+#0  0xffffe410 in ?? ()
+#1  0xb6815fa8 in ?? ()
+#2  0x081f6db8 in ?? ()
+#3  0x00000000 in ?? ()
+
+Thread 4 (Thread -1242563680 (LWP 15340)):
+#0  0xffffe410 in ?? ()
+#1  0xb5eff148 in ?? ()
+#2  0x00000015 in ?? ()
+#3  0x00000000 in ?? ()
+
+Thread 3 (Thread -1222685792 (LWP 15342)):
+#0  0xffffe410 in ?? ()
+#1  0xb71f415c in ?? ()
+#2  0x00000013 in ?? ()
+#3  0x00000000 in ?? ()
+
+Thread 2 (Thread -1244210272 (LWP 15346)):
+#0  0xffffe410 in ?? ()
+#1  0xb5d6d2c0 in ?? ()
+#2  0x00001000 in ?? ()
+#3  0x0006e010 in ?? ()
+#4  0xb7e3e17b in read () from /lib/libc.so.6
+#5  0xb5c12ff9 in ?? ()
+#6  0x00000013 in ?? ()
+#7  0x0006e010 in ?? ()
+#8  0x00001000 in ?? ()
+#9  0x00d6d314 in ?? ()
+#10 0x0006e010 in ?? ()
+#11 0x089f9648 in ?? ()
+#12 0x00001000 in ?? ()
+#13 0x08a2b628 in ?? ()
+#14 0x00000000 in ?? ()
+
+Thread 1 (Thread -1210504512 (LWP 15298)):
+#0  0xffffe410 in ?? ()
+#1  0xbff789dc in ?? ()
+#2  0x00000001 in ?? ()
+#3  0x00000001 in ?? ()
+#4  0xb7edb8a1 in __lll_mutex_unlock_wake () from /lib/libpthread.so.0
+#5  0xb7ed89a2 in _L_mutex_unlock_59 () from /lib/libpthread.so.0
+#6  0x00000000 in ?? ()
+#0  0xffffe410 in ?? ()
+
+Session_End is also never invoked.
+
+Note: you need to run my repro from the directory containing Jurai's 
+global.asax and index.aspx.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="053756.html">[Mono-bugs] [Bug 80766][Min] Changed - WebRequest exceptions don't	match MS
</A></li>
	<LI>Next message: <A HREF="053758.html">[Mono-bugs] [Bug 80743][Min] Changed - Segfault when restarting	webapp in rapid succession
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53757">[ date ]</a>
              <a href="thread.html#53757">[ thread ]</a>
              <a href="subject.html#53757">[ subject ]</a>
              <a href="author.html#53757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
