<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 509138] New: mono --aot /path/to/my/mscorlib.dll	crashes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20509138%5D%20New%3A%20mono%20--aot%20/path/to/my/mscorlib.dll%0A%09crashes&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089460.html">
   <LINK REL="Next"  HREF="089470.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 509138] New: mono --aot /path/to/my/mscorlib.dll	crashes</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20509138%5D%20New%3A%20mono%20--aot%20/path/to/my/mscorlib.dll%0A%09crashes&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 509138] New: mono --aot /path/to/my/mscorlib.dll	crashes">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Jun  2 11:41:58 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="089460.html">[Mono-bugs] [Bug 509131] Reflection.EmitCall with optional parameter types not consistent with .net
</A></li>
        <LI>Next message: <A HREF="089470.html">[Mono-bugs] [Bug 509138] mono --aot /path/to/my/mscorlib.dll crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89428">[ date ]</a>
              <a href="thread.html#89428">[ thread ]</a>
              <a href="subject.html#89428">[ subject ]</a>
              <a href="author.html#89428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=509138">http://bugzilla.novell.com/show_bug.cgi?id=509138</A>


           Summary: mono --aot /path/to/my/mscorlib.dll  crashes
    Classification: Mono
           Product: Mono: Runtime
           Version: SVN
          Platform: i686
        OS/Version: Ubuntu
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: JIT
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lupus at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">lucas.meijer at gmail.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.2; en-US)
AppleWebKit/530.5 (KHTML, like Gecko) Chrome/2.0.172.28 Safari/530.5

I'm on svn 135096 of trunk.

running the command above on either the corlib that was built with my trunk
mono, or the corlib built with my trunk moonlight, causes the crash to happen.
Pasted stacktrace below, I hope it contains enough info:

[mono] ~/mono/coreclr @ mono --aot /opt/mono/lib/moonlight/plugin/mscorlib.dll
Mono Ahead of Time compiler - compiling assembly
/opt/mono/lib/mono/2.0/mscorlib.dll
**
ERROR:aot-compiler.c:4761:mono_compile_assembly: assertion failed: (acfg-&gt;fp)
Stacktrace:


Native stacktrace:

    mono [0x80d52e2]
    [0xb80b2410]
    /lib/tls/i686/cmov/libc.so.6(abort+0x188) [0xb7e5e098]
    /usr/lib/libglib-2.0.so.0(g_assertion_message+0x123) [0xb8042263]
    /usr/lib/libglib-2.0.so.0 [0xb804288d]
    mono [0x80c4396]
    mono(mono_main+0x622) [0x80b52c2]
    mono [0x805b481]
    /lib/tls/i686/cmov/libc.so.6(__libc_start_main+0xe5) [0xb7e47775]
    mono [0x805b3b1]
Cannot access memory at address 0x762

Reproducible: Always

Steps to Reproduce:
mono --aot /path/to/mscorlib.dll
Actual Results:  
crash

Expected Results:  
no crash

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089460.html">[Mono-bugs] [Bug 509131] Reflection.EmitCall with optional parameter types not consistent with .net
</A></li>
	<LI>Next message: <A HREF="089470.html">[Mono-bugs] [Bug 509138] mono --aot /path/to/my/mscorlib.dll crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89428">[ date ]</a>
              <a href="thread.html#89428">[ thread ]</a>
              <a href="subject.html#89428">[ subject ]</a>
              <a href="author.html#89428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
