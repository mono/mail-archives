<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 509049] Expression tree compiler crashes when running on different domain
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20509049%5D%20Expression%20tree%20compiler%20crashes%20when%0A%20running%20on%20different%20domain&In-Reply-To=bug-509049-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089442.html">
   <LINK REL="Next"  HREF="089486.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 509049] Expression tree compiler crashes when running on different domain</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20509049%5D%20Expression%20tree%20compiler%20crashes%20when%0A%20running%20on%20different%20domain&In-Reply-To=bug-509049-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 509049] Expression tree compiler crashes when running on different domain">bugzilla_noreply at novell.com
       </A><BR>
    <I>Tue Jun  2 20:02:50 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="089442.html">[Mono-bugs] [Bug 509049] Expression tree compiler crashes when running on different domain
</A></li>
        <LI>Next message: <A HREF="089486.html">[Mono-bugs] [Bug 509049] Expression tree compiler crashes when running on different domain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89475">[ date ]</a>
              <a href="thread.html#89475">[ thread ]</a>
              <a href="subject.html#89475">[ subject ]</a>
              <a href="author.html#89475">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=509049">http://bugzilla.novell.com/show_bug.cgi?id=509049</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">vargaz at gmail.com</A> added comment
<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=509049#c8">http://bugzilla.novell.com/show_bug.cgi?id=509049#c8</A>





--- Comment #8 from Zoltan Varga &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">vargaz at gmail.com</A>&gt;  2009-06-02 18:02:49 MDT ---
Fixing this properly will be ugly. What happens is a method is invoked
dynamically
using MethodInfo.Invoke (). To implement this, the runtime constructs a 
runtime-invoke wrapper. These wrappers are shared to avoid creating too many of
them. They are shared based on signature, and if the method has generic
instances
as arguments, those instances become part of the signature. When a generic
instance is freed, we would need to scan all wrappers to determine whenever
they
reference this instance, and free those too. This would be very slow,
especially
since the wrappers are grouped on a per-image basis, so there is no central
hash
table we can check.

In this concrete case, the situation is easier, since instead of the signature,
the class where the wrapper is placed in is a generic instance. This could be
fixed easily, but the general problem is hard to fix.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089442.html">[Mono-bugs] [Bug 509049] Expression tree compiler crashes when running on different domain
</A></li>
	<LI>Next message: <A HREF="089486.html">[Mono-bugs] [Bug 509049] Expression tree compiler crashes when running on different domain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89475">[ date ]</a>
              <a href="thread.html#89475">[ thread ]</a>
              <a href="subject.html#89475">[ subject ]</a>
              <a href="author.html#89475">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
