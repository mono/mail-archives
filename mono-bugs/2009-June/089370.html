<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 508729] New: gmcs does not resolve problems with IEnumerator&lt;T&gt;/IEnumerator and IEnumerable&lt;T&gt;/IEnumerable implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20508729%5D%20New%3A%20gmcs%20does%20not%20resolve%20problems%20with%0A%20IEnumerator%3CT%3E/IEnumerator%20and%20IEnumerable%3CT%3E/IEnumerable%20implementation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="089369.html">
   <LINK REL="Next"  HREF="089371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 508729] New: gmcs does not resolve problems with IEnumerator&lt;T&gt;/IEnumerator and IEnumerable&lt;T&gt;/IEnumerable implementation</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20508729%5D%20New%3A%20gmcs%20does%20not%20resolve%20problems%20with%0A%20IEnumerator%3CT%3E/IEnumerator%20and%20IEnumerable%3CT%3E/IEnumerable%20implementation&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 508729] New: gmcs does not resolve problems with IEnumerator&lt;T&gt;/IEnumerator and IEnumerable&lt;T&gt;/IEnumerable implementation">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Jun  1 11:44:59 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="089369.html">[Mono-bugs] [Bug 508538] System.Reflection.TargetInvocationException when calling MethodInfo.invoke
</A></li>
        <LI>Next message: <A HREF="089371.html">[Mono-bugs] [Bug 508729] gmcs does not resolve problems with IEnumerator&lt;T&gt;/IEnumerator and IEnumerable&lt;T&gt;/IEnumerable implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89370">[ date ]</a>
              <a href="thread.html#89370">[ thread ]</a>
              <a href="subject.html#89370">[ subject ]</a>
              <a href="author.html#89370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=508729">http://bugzilla.novell.com/show_bug.cgi?id=508729</A>


           Summary: gmcs does not resolve problems with
                    IEnumerator&lt;T&gt;/IEnumerator and
                    IEnumerable&lt;T&gt;/IEnumerable implementation
    Classification: Mono
           Product: Mono: Compilers
           Version: 2.4.x
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: C#
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">bojanr at brandeis.edu</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=295494)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=295494">http://bugzilla.novell.com/attachment.cgi?id=295494</A>)
Output log from csc.

User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1b4)
Gecko/20090423 Firefox/3.5b4 (.NET CLR 4.0.20506)

gmcs does not properly reproduce problems with the implementation of
IEnumerator&lt;T&gt;/IEnumerator and IEnumerable&lt;T&gt;/IEnumerable. When implementing
the interfaces, gmcs will happily allow you to only have a generic
IEnumerator&lt;T&gt; GetEnumerator call, which does not match the Microsoft behavior.
What's worse is that once happily letting you do so, it causes a runtime crash
in Mono, with a message of missing implementation of
System.Collections.IEnumerator::get_Current () (pointing to the problem).
Attached is some sample code that demonstrates the issue, the outpupt of gmcs
and mono on the executable produced, and the output of csc.

Reproducible: Always

Steps to Reproduce:
1. compile sample code
2. gmcs compiles, csc fails to
3. run with mono
Actual Results:  
Segfault in native code in Mono.

Expected Results:  
gmcs should not compile this code.

gmcs version:

<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">bojan at blackforest</A>:/home/bojan
[0] $ gmcs2 --version
Mono C# compiler version 2.4.0.0

csc version:

Microsoft (R) Visual C# 2008 Compiler version 3.5.30729.1
for Microsoft (R) .NET Framework version 3.5

Mono version:

<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">bojan at blackforest</A>:/home/bojan
[0] $ mono --version
Mono JIT compiler version 2.4 (Debian 2.4+dfsg-1~pre2)
Copyright (C) 2002-2008 Novell, Inc and Contributors. www.mono-project.com
        TLS:           __thread
        GC:            Included Boehm (with typed GC)
        SIGSEGV:       altstack
        Notifications: epoll
        Architecture:  amd64
        Disabled:      none

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="089369.html">[Mono-bugs] [Bug 508538] System.Reflection.TargetInvocationException when calling MethodInfo.invoke
</A></li>
	<LI>Next message: <A HREF="089371.html">[Mono-bugs] [Bug 508729] gmcs does not resolve problems with IEnumerator&lt;T&gt;/IEnumerator and IEnumerable&lt;T&gt;/IEnumerable implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89370">[ date ]</a>
              <a href="thread.html#89370">[ thread ]</a>
              <a href="subject.html#89370">[ subject ]</a>
              <a href="author.html#89370">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
