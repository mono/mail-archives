<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 519442] Inconsistent XML serialization between Mono 2.4 and .NET 3.5 throwing InvalidOperationException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20519442%5D%20Inconsistent%20XML%20serialization%20between%0A%20Mono%202.4%20and%20.NET%203.5%20throwing%20InvalidOperationException&In-Reply-To=bug-519442-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="096938.html">
   <LINK REL="Next"  HREF="096943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 519442] Inconsistent XML serialization between Mono 2.4 and .NET 3.5 throwing InvalidOperationException</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20519442%5D%20Inconsistent%20XML%20serialization%20between%0A%20Mono%202.4%20and%20.NET%203.5%20throwing%20InvalidOperationException&In-Reply-To=bug-519442-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 519442] Inconsistent XML serialization between Mono 2.4 and .NET 3.5 throwing InvalidOperationException">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Jan 27 08:04:22 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="096938.html">[Mono-bugs] [Bug 533257] Dictionary &lt;K, V&gt; goes into infinite loop trying to retrieve a value
</A></li>
        <LI>Next message: <A HREF="096943.html">[Mono-bugs] [Bug 574353] New: SRE: ** ERROR **: unhandled type in	custom attr
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96939">[ date ]</a>
              <a href="thread.html#96939">[ thread ]</a>
              <a href="subject.html#96939">[ subject ]</a>
              <a href="author.html#96939">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=519442">http://bugzilla.novell.com/show_bug.cgi?id=519442</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=519442#c14">http://bugzilla.novell.com/show_bug.cgi?id=519442#c14</A>


Atsushi Enomoto &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">aenomoto at novell.com</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |INVALID

--- Comment #14 from Atsushi Enomoto &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">aenomoto at novell.com</A>&gt; 2010-01-27 13:04:20 UTC ---
&gt;<i> They won't fix or even look at the issue without &quot;proof&quot; that the issue
</I>&gt;<i> is with them and not Mono, since everything is working on .NET.
</I>
Here is a proof lines of code: it prints nothing, which means Type.GetMethod()
returns null.

var dt = typeof (IDictionary&lt;string,string&gt;);
var pt = typeof (KeyValuePair&lt;string,string&gt;);
Console.WriteLine (dt.GetMethod (&quot;Add&quot;, new Type [] {pt}));

<A HREF="http://msdn.microsoft.com/en-us/library/system.type.getmethod%28VS.80%29.aspx">http://msdn.microsoft.com/en-us/library/system.type.getmethod%28VS.80%29.aspx</A>

&lt;quote&gt;
Searches for the specified *public* method whose parameters match the specified
argument types.
&lt;/quote&gt;

(emphasis by me.)

Since IDictionary&lt;K,V&gt;.Add(KeyValuePair&lt;K,V&gt;) is *not* a &quot;public&quot; method, it
hence does not meet the condition explained at
<A HREF="http://msdn.microsoft.com/en-us/library/182eeyhh%28VS.80%29.aspx">http://msdn.microsoft.com/en-us/library/182eeyhh%28VS.80%29.aspx</A>

&lt;quote&gt;
XmlSerializer can process classes that implement IEnumerable  or ICollection
differently if they meet certain requirements, as follows.

A class that implements IEnumerable must implement a public Add method that
takes a single parameter. The Add method's parameter must be consistent
(polymorphic) with the type returned from the IEnumerator.Current property
returned from the GetEnumerator method.
&lt;/quote&gt;

Q.E.D.

BTW who in the NHibernate team told you like I quoted above? I'll contact him
or her to persuade to fix it. The fix is very easy and could be done without
harm. If they are productive hackers they'll change it.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="096938.html">[Mono-bugs] [Bug 533257] Dictionary &lt;K, V&gt; goes into infinite loop trying to retrieve a value
</A></li>
	<LI>Next message: <A HREF="096943.html">[Mono-bugs] [Bug 574353] New: SRE: ** ERROR **: unhandled type in	custom attr
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96939">[ date ]</a>
              <a href="thread.html#96939">[ thread ]</a>
              <a href="subject.html#96939">[ subject ]</a>
              <a href="author.html#96939">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
