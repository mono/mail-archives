<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 573691] DataContractJsonSerializer bug with floating point special values
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20573691%5D%20DataContractJsonSerializer%20bug%20with%0A%20floating%20point%20special%20values&In-Reply-To=bug-573691-28286%40http.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="096865.html">
   <LINK REL="Next"  HREF="096866.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 573691] DataContractJsonSerializer bug with floating point special values</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20573691%5D%20DataContractJsonSerializer%20bug%20with%0A%20floating%20point%20special%20values&In-Reply-To=bug-573691-28286%40http.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 573691] DataContractJsonSerializer bug with floating point special values">bugzilla_noreply at novell.com
       </A><BR>
    <I>Wed Jan 27 00:10:29 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="096865.html">[Mono-bugs] [Bug 573691] New: DataContractJsonSerializer bug with floating point special values
</A></li>
        <LI>Next message: <A HREF="096866.html">[Mono-bugs] [Bug 573709] New: Cannot upgrade monotools on VS 2010
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96923">[ date ]</a>
              <a href="thread.html#96923">[ thread ]</a>
              <a href="subject.html#96923">[ subject ]</a>
              <a href="author.html#96923">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=573691">http://bugzilla.novell.com/show_bug.cgi?id=573691</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=573691#c1">http://bugzilla.novell.com/show_bug.cgi?id=573691#c1</A>


--- Comment #1 from Atsushi Enomoto &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">aenomoto at novell.com</A>&gt; 2010-01-27 05:10:28 UTC ---
We indeed has bugs, but not in the form that those tests expect. Let's first
make sure to check the JSON specification before judging blindly that our
implementation is buggy. .NET is a lot buggier than ours on JSON implementation
especially regarding parsing numbers.

&gt;<i>From <A HREF="http://json.org/">http://json.org/</A> :
</I>
number
    int
    int frac
    int exp
    int frac exp 
int
    digit
    digit1-9 digits
    - digit
    - digit1-9 digits 
frac
    . digits
exp
    e digits
digits
    digit
    digit digits
e
    e
    e+
    e-
    E
    E+
    E-

The only way that &quot;NaN&quot;, &quot;INF&quot; and &quot;-INF&quot; to become valid is, to make them into
a string, not a number. JSON strings must be double-quoted, so raw NaN is
invalid in the context of JSON string either.

On serialization we are also buggy to output NaN, which should be fixed to
output &quot;NaN&quot; (double quoted).

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="096865.html">[Mono-bugs] [Bug 573691] New: DataContractJsonSerializer bug with floating point special values
</A></li>
	<LI>Next message: <A HREF="096866.html">[Mono-bugs] [Bug 573709] New: Cannot upgrade monotools on VS 2010
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96923">[ date ]</a>
              <a href="thread.html#96923">[ thread ]</a>
              <a href="subject.html#96923">[ subject ]</a>
              <a href="author.html#96923">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
