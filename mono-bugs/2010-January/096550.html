<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 571336] New: XmlDocument XmlElement creation is	broken.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20571336%5D%20New%3A%20XmlDocument%20XmlElement%20creation%20is%0A%09broken.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="096549.html">
   <LINK REL="Next"  HREF="096551.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 571336] New: XmlDocument XmlElement creation is	broken.</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20571336%5D%20New%3A%20XmlDocument%20XmlElement%20creation%20is%0A%09broken.&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 571336] New: XmlDocument XmlElement creation is	broken.">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sat Jan 16 01:06:55 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="096549.html">[Mono-bugs] [Bug 571334] String from textbox returns invalid characters for parsing?
</A></li>
        <LI>Next message: <A HREF="096551.html">[Mono-bugs] [Bug 571336] XmlDocument XmlElement creation is broken.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96550">[ date ]</a>
              <a href="thread.html#96550">[ thread ]</a>
              <a href="subject.html#96550">[ subject ]</a>
              <a href="author.html#96550">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=571336">http://bugzilla.novell.com/show_bug.cgi?id=571336</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=571336#c0">http://bugzilla.novell.com/show_bug.cgi?id=571336#c0</A>


           Summary: XmlDocument XmlElement creation is broken.
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.6.x
          Platform: Macintosh
        OS/Version: Mac OS X 10.5
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: Sys.XML
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">atsushi at ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">Novell at pedriana.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


Created an attachment (id=336960)
 --&gt; (<A HREF="http://bugzilla.novell.com/attachment.cgi?id=336960">http://bugzilla.novell.com/attachment.cgi?id=336960</A>)
MonoBug.cs -- demonstrates the bug.

User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.1.6)
Gecko/20091201 Firefox/3.5.6

XmlDocument.Load is not using XmlDocument.CreateElement to create new elements.
This makes it not possible for the user to subclass XmlDocument and override
the CreateElement function successfully. 

The attached MonoBug.cs demonstrates the bug. MonoBug.cs loads a file called
MonoBugData.xml, the simple contents of which can be seen at the top of
MonBug.cs in some comments.

The bug doesn't occur with Mono 2.4 nor any known version of Microsoft .Net.

This bug is similar to bug #549839, which was acknowledged and fixed:
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=549839">https://bugzilla.novell.com/show_bug.cgi?id=549839</A>


Reproducible: Always

Steps to Reproduce:
Use XmlDocument.Load to load any XML file. It is supposed to use
XmlDocument.CreateElement to create nodes, but does not. The problem manifests
as a bug when using a subclass of XmlDocument which overrides the CreateElement
function, which doesn't get called.
Actual Results:  
In Mono 2.6.1 XmlDocument.CreateElement(...) method is not called during
execution of XmlDocument.Load(...) methods. XmlDocument.Load appears to be
creating elements directly.


Expected Results:  
XmlDocument Load method should use:
    public virtual XmlElement CreateElement(string prefix, string localName,
string namespaceURI);
method when creating XMLElement instances. It should not use XmlElement ctor
directly.

This is significant because the current behavior prevents the user from
overriding XmlDocument.CreateElement and an XmlDocument subclass. Also,
Microsoft .Net uses CreateElement.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="096549.html">[Mono-bugs] [Bug 571334] String from textbox returns invalid characters for parsing?
</A></li>
	<LI>Next message: <A HREF="096551.html">[Mono-bugs] [Bug 571336] XmlDocument XmlElement creation is broken.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96550">[ date ]</a>
              <a href="thread.html#96550">[ thread ]</a>
              <a href="subject.html#96550">[ subject ]</a>
              <a href="author.html#96550">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
