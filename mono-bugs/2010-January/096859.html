<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 573596] New: SIGABRT on mono_class_from_mono_type in test application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20573596%5D%20New%3A%20SIGABRT%20on%20mono_class_from_mono_type%0A%20in%20test%20application&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="097007.html">
   <LINK REL="Next"  HREF="096861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 573596] New: SIGABRT on mono_class_from_mono_type in test application</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20573596%5D%20New%3A%20SIGABRT%20on%20mono_class_from_mono_type%0A%20in%20test%20application&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 573596] New: SIGABRT on mono_class_from_mono_type in test application">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon Jan 25 13:11:02 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="097007.html">[Mono-bugs] [Bug 573518] Activation Prematurely Expired
</A></li>
        <LI>Next message: <A HREF="096861.html">[Mono-bugs] [Bug 573682] New: segtaults when encoding/decoding	non-UTF8 strings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96859">[ date ]</a>
              <a href="thread.html#96859">[ thread ]</a>
              <a href="subject.html#96859">[ subject ]</a>
              <a href="author.html#96859">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://bugzilla.novell.com/show_bug.cgi?id=573596">http://bugzilla.novell.com/show_bug.cgi?id=573596</A>

<A HREF="http://bugzilla.novell.com/show_bug.cgi?id=573596#c0">http://bugzilla.novell.com/show_bug.cgi?id=573596#c0</A>


           Summary: SIGABRT on mono_class_from_mono_type in test
                    application
    Classification: Mono
           Product: Mono: Class Libraries
           Version: 2.6.x
          Platform: 32bit
        OS/Version: openSUSE 11.2
            Status: NEW
          Severity: Major
          Priority: P5 - None
         Component: System
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">bkesecker at augustasystems.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---
           Blocker: ---


User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1;
Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729;
Media Center PC 6.0)

&gt;<i>From commandline: &quot;sudo mono MyApp.exe&quot; generates the following SIGABRT:
</I>MyApp.exe is a default Windows Application project with only one button object
added, nothing else, built in 'Release' mode.  Also, using KDE desktop.

** (MyApp.exe:17779): WARNING **: mono_class_from_mono_type: implement me 0xb6  

**
ERROR:class.c:5166:mono_class_from_mono_type: code should not be reached
Stacktrace:                                                             


Native stacktrace:

        mono [0x80d36a9]
        [0xffffe410]    
        [0xffffe430]    
        /lib/libc.so.6(gsignal+0x4f) [0xb752d0cf]
        /lib/libc.so.6(abort+0x187) [0xb752e9e7] 
        /usr/lib/libglib-2.0.so.0(g_assertion_message+0x15b) [0xb7716afb]
        mono(mono_class_from_mono_type+0x60) [0x8120c20]                 
        mono [0x80d4614]                                                 
        mono [0x80d4328]                                                 
        mono [0x810dff9]                                                 
        [0xb7395d10]                                                     
        [0xb7107ce8]                                                     
        [0xb7107ca3]                                                     
        [0xb710688d]                                                     
        [0xb71065db]                                                     
        [0xb7106579]                                                     
        [0xb710888e]                                                     
        [0xb710874a]                                                     
        [0xb71086be]                                                     
        [0xb7108600]                                                     
        [0xb71085c7]                                                     
        [0xb71021e6]                                                     
        [0xb7102264]                                                     
        mono [0x8063552]                                                 

Debug info from gdb:

Missing separate debuginfo for /usr/lib/libgthread-2.0.so.0
Try: zypper install -C
&quot;debuginfo(build-id)=129aaee1c3cfb4378b410c25064d59304bc42b5c&quot;                  
Missing separate debuginfo for /usr/lib/libglib-2.0.so.0                        
Try: zypper install -C
&quot;debuginfo(build-id)=dc64bc06e7c013fb71b9ed9020d416d5880b2199&quot;                  
Missing separate debuginfo for /lib/librt.so.1                                  
Try: zypper install -C
&quot;debuginfo(build-id)=27c7312d324b45f8ff3c79379d6cb78043452c0d&quot;                  
Missing separate debuginfo for /lib/libdl.so.2                                  
Try: zypper install -C
&quot;debuginfo(build-id)=47a5c8a64587f48bcb3b50c18ccd22261bbdb989&quot;                  
Missing separate debuginfo for /lib/libpthread.so.0                             
Try: zypper install -C
&quot;debuginfo(build-id)=964690b0ca2ed321e995340684e09981f5f986ad&quot;                  
Missing separate debuginfo for /lib/libm.so.6                                   
Try: zypper install -C
&quot;debuginfo(build-id)=a488c775caa0433cb23f9764d683150f40872ef1&quot;                  
Missing separate debuginfo for /lib/libc.so.6                                   
Try: zypper install -C
&quot;debuginfo(build-id)=ee302691046515fe3766ae3b7d47afd3e3a8d063&quot;                  
Missing separate debuginfo for /lib/libpcre.so.0                                
Try: zypper install -C
&quot;debuginfo(build-id)=5ab33b6bde2ff3f9ed2bbedd89e4519ea6a080c1&quot;                  
Missing separate debuginfo for /lib/ld-linux.so.2                               
Try: zypper install -C
&quot;debuginfo(build-id)=d7706cbaa0ca09319cb645eac789cb8399078797&quot;                  
Missing separate debuginfo for /usr/lib/libgdiplus.so                           
Try: zypper install -C
&quot;debuginfo(build-id)=7863296909ce43e06ca8a96ac3c86489efed7888&quot;                  
Missing separate debuginfo for /lib/libz.so.1                                   
Try: zypper install -C
&quot;debuginfo(build-id)=bab67dfc8f086af8bad386d24c4747e374fc6bc5&quot;                  
Missing separate debuginfo for /usr/lib/libfreetype.so.6                        
Try: zypper install -C
&quot;debuginfo(build-id)=0b622a937db571de425360506e0cf5c3bf6a0ea1&quot;                  
Missing separate debuginfo for /usr/lib/libXrender.so.1                         
Try: zypper install -C
&quot;debuginfo(build-id)=51690631dac33cc064abc3ddb4590881ac3f967a&quot;                  
Missing separate debuginfo for /usr/lib/libX11.so.6                             
Try: zypper install -C
&quot;debuginfo(build-id)=d056fc4d5e21d2b57b263acbde2ece574da598ff&quot;                  
Missing separate debuginfo for /usr/lib/libtiff.so.3                            
Try: zypper install -C
&quot;debuginfo(build-id)=d2197e11c8ef37efc476df0fafe10d0a89077dc4&quot;                  
Missing separate debuginfo for /usr/lib/libjpeg.so.62                           
Try: zypper install -C
&quot;debuginfo(build-id)=bc070cbb59c72615286595626f630d7573868208&quot;                  
Missing separate debuginfo for /usr/lib/libgif.so.4                             
Try: zypper install -C
&quot;debuginfo(build-id)=79083324b23ea3ef820fec7d013128a58589b180&quot;                  
Missing separate debuginfo for /usr/lib/libpng12.so.0                           
Try: zypper install -C
&quot;debuginfo(build-id)=cb95478bec3b4b124fd86640b53251f345bc493a&quot;                  
Missing separate debuginfo for /usr/lib/libexif.so.12                           
Try: zypper install -C
&quot;debuginfo(build-id)=3aaa0df6b9d1dc54dcb75b9f2a19c4a46b118ac7&quot;                  
Missing separate debuginfo for /usr/lib/libfontconfig.so.1                      
Try: zypper install -C
&quot;debuginfo(build-id)=b53e7f397286d6d5b8dc133c66456a6c3c60ccb1&quot;                  
Missing separate debuginfo for /usr/lib/libxcb.so.1                             
Try: zypper install -C
&quot;debuginfo(build-id)=fe43f80787ec7836dbb28340a9b4b4a4f4474610&quot;                  
Missing separate debuginfo for /lib/libexpat.so.1                               
Try: zypper install -C
&quot;debuginfo(build-id)=b546cdf8dc2e0cac75f0ae9bdaf0077deeeabf13&quot;                  
Missing separate debuginfo for /usr/lib/libXau.so.6                             
Try: zypper install -C
&quot;debuginfo(build-id)=5e41b03aa3942b5f33012a3b732a58f53f5fac00&quot;                  
Missing separate debuginfo for /lib/libgcc_s.so.1                               
Try: zypper install -C
&quot;debuginfo(build-id)=d7d12f7fa08cc56782efdf6ec887bb02452b3646&quot;                  
Mono support loaded.                                                            
[Thread debugging using libthread_db enabled]                                   
[New Thread 0xb6d44b70 (LWP 17781)]                                             
[New Thread 0xb6d68b70 (LWP 17780)]                                             
0xffffe430 in __kernel_vsyscall ()                                              
  3 Thread 0xb6d68b70 (LWP 17780)  0xffffe430 in __kernel_vsyscall ()           
  2 Thread 0xb6d44b70 (LWP 17781)  0xffffe430 in __kernel_vsyscall ()           
* 1 Thread 0xb74d16f0 (LWP 17779)  0xffffe430 in __kernel_vsyscall ()           

Thread 3 (Thread 0xb6d68b70 (LWP 17780)):
#0  0xffffe430 in __kernel_vsyscall ()   
#1  0xb7698516 in nanosleep () from /lib/libpthread.so.0
#2  0x081cdee8 in collection_thread (unused=0x0) at collection.c:34
#3  0xb76906e5 in start_thread () from /lib/libpthread.so.0        
#4  0xb7690600 in ?? () from /lib/libpthread.so.0                  

Thread 2 (Thread 0xb6d44b70 (LWP 17781)):
#0  0xffffe430 in __kernel_vsyscall ()   
#1  0xb7696fb5 in sem_wait@@GLIBC_2.1 () from /lib/libpthread.so.0
#2  0x08139ba8 in finalizer_thread (unused=0x0) at gc.c:1022      
#3  0x081b586a in start_wrapper (data=0x8338ed0) at threads.c:662 
#4  0x081eae82 in thread_start_routine (args=0x832c584) at wthreads.c:286
#5  0x082075eb in GC_start_routine (arg=0x35f20) at pthread_support.c:1390
#6  0xb76906e5 in start_thread () from /lib/libpthread.so.0               
#7  0xb7690600 in ?? () from /lib/libpthread.so.0                         

Thread 1 (Thread 0xb74d16f0 (LWP 17779)):
#0  0xffffe430 in __kernel_vsyscall ()   
#1  0xb7697cfb in read () from /lib/libpthread.so.0
#2  0x080d3850 in read (__nbytes=&lt;value optimized out&gt;, 
    __buf=&lt;value optimized out&gt;, __fd=&lt;value optimized out&gt;)
    at /usr/include/bits/unistd.h:45                        
#3  mono_handle_native_sigsegv (__nbytes=&lt;value optimized out&gt;, 
    __buf=&lt;value optimized out&gt;, __fd=&lt;value optimized out&gt;)    
    at mini-exceptions.c:1809                                   
#4  &lt;signal handler called&gt;                                     
#5  0xffffe430 in __kernel_vsyscall ()                          
#6  0xb752d0cf in raise () from /lib/libc.so.6                  
#7  0xb752e9e7 in abort () from /lib/libc.so.6                  
#8  0xb7716afb in g_assertion_message () from /usr/lib/libglib-2.0.so.0
#9  0x08120c20 in mono_class_from_mono_type (type=0x83770a0) at class.c:5166
#10 0x080d4614 in get_exception_catch_class (ctx=&lt;value optimized out&gt;,     
    ji=&lt;value optimized out&gt;, ei=&lt;value optimized out&gt;)                     
    at mini-exceptions.c:1053                                               
#11 mono_handle_exception_internal (ctx=&lt;value optimized out&gt;,              
    ji=&lt;value optimized out&gt;, ei=&lt;value optimized out&gt;)                     
    at mini-exceptions.c:1268                                               
#12 0x080d4328 in mono_handle_exception_internal (ctx=0xbfd60a88,           
    obj=&lt;value optimized out&gt;, original_ip=0xb7107ebb, test_only=0,         
    out_filter_idx=0x0, out_ji=0x0) at mini-exceptions.c:1178               
#13 0x0810dff9 in throw_exception (eax=346584, ecx=507136, edx=0, ebx=438040, 
    esi=364288, edi=438040, ebp=3218475848, exc=0x549d8, eip=3071311547, esp= 
    3218475768, rethrow=-1076491448) at exceptions-x86.c:422                  
#14 0xb7395d10 in ?? ()                                                       
#15 0xb7107ce8 in ?? ()                                                       
#16 0xb7107ca3 in ?? ()                                                       
#17 0xb710688d in ?? ()
#18 0xb71065db in ?? ()
#19 0xb7106579 in ?? ()
#20 0xb710888e in ?? ()
#21 0xb710874a in ?? ()
#22 0xb71086be in ?? ()
#23 0xb7108600 in ?? ()
#24 0xb71085c7 in ?? ()
#25 0xb71021e6 in ?? ()
#26 0xb7102264 in ?? ()
#27 0x08063552 in mono_jit_runtime_invoke (method=
    &quot;MyApp.My.MyApplication:Main ()&quot;, obj=0x0, params=
    0xbfd60e3c, exc=0x0) at mini.c:4691
#28 0x08187543 in mono_runtime_invoke (method=
    &quot;MyApp.My.MyApplication:Main ()&quot;, obj=0x0, params=
    0xbfd60e3c, exc=0x0) at object.c:2602
#29 0x0818afed in mono_runtime_exec_main (method=
    &quot;MyApp.My.MyApplication:Main ()&quot;, args=0x58fd0, exc=0x0)
    at object.c:3543
#30 0x0818ced1 in mono_runtime_run_main (method=
    &quot;MyApp.My.MyApplication:Main ()&quot;, argc=1, argv=
    0xbfd61048, exc=0x0) at object.c:3317
#31 0x080b3f9d in main_thread_handler (user_data=&lt;value optimized out&gt;)
    at driver.c:999
#32 mono_main (user_data=&lt;value optimized out&gt;) at driver.c:1732
#33 0x0805b585 in main (argc=2, argv=0xbfd61044) at main.c:34

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries
used by your application.
=================================================================

Aborted

Reproducible: Always

Steps to Reproduce:
1. Build in release mode an empty Windows Application in VB (maybe add a button
control)
2. Copy exe file to USB drive
3. Plug USB drive into openSuSE 11.2 with KDE desktop
4. Ensure package mono-complete is installed
5. From commandline, sudo mono MyApp.exe
Actual Results:  
The error message as described in Detail section.

Expected Results:  
The application would go further than a SIGABRT.

-- 
Configure bugmail: <A HREF="http://bugzilla.novell.com/userprefs.cgi?tab=email">http://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="097007.html">[Mono-bugs] [Bug 573518] Activation Prematurely Expired
</A></li>
	<LI>Next message: <A HREF="096861.html">[Mono-bugs] [Bug 573682] New: segtaults when encoding/decoding	non-UTF8 strings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96859">[ date ]</a>
              <a href="thread.html#96859">[ thread ]</a>
              <a href="subject.html#96859">[ subject ]</a>
              <a href="author.html#96859">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
