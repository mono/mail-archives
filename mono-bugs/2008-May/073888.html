<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 390788] New: Issues with Valgrind
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20390788%5D%20New%3A%20Issues%20with%20Valgrind&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073887.html">
   <LINK REL="Next"  HREF="073895.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 390788] New: Issues with Valgrind</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20390788%5D%20New%3A%20Issues%20with%20Valgrind&In-Reply-To="
       TITLE="[Mono-bugs] [Bug 390788] New: Issues with Valgrind">bugzilla_noreply at novell.com
       </A><BR>
    <I>Thu May 15 09:54:10 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="073887.html">[Mono-bugs] [Bug 325260] Error compiling array properties
</A></li>
        <LI>Next message: <A HREF="073895.html">[Mono-bugs] [Bug 390788] Issues with Valgrind
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73888">[ date ]</a>
              <a href="thread.html#73888">[ thread ]</a>
              <a href="subject.html#73888">[ subject ]</a>
              <a href="author.html#73888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=390788">https://bugzilla.novell.com/show_bug.cgi?id=390788</A>


           Summary: Issues with Valgrind
           Product: Mono: Debugger
           Version: 1.9.0
          Platform: i686
        OS/Version: Linux
            Status: NEW
          Severity: Normal
          Priority: P5 - None
         Component: cli
        AssignedTo: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">martin at novell.com</A>
        ReportedBy: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">walker_643 at yahoo.com</A>
         QAContact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">mono-bugs at lists.ximian.com</A>
          Found By: ---


Created an attachment (id=215584)
 --&gt; (<A HREF="https://bugzilla.novell.com/attachment.cgi?id=215584">https://bugzilla.novell.com/attachment.cgi?id=215584</A>)
Valgrind Log for Test.exe

I use Valgrind quite a bit on each project before release. For C#/mono
projects, I find that Valgrind is not so useful primarily because it does not
give me good, clear information. Following the directions on the Mono-Project
site, I have called Valgrind with the proper parameters and suppression file.
This still does not give me info I can use. For example, consider the
following:

---- test.cs ----
using System;
static class Program
{
    static void Main()
    {
        Console.WriteLine(&quot;Hello world&quot;);
    }
}
---- end test.cs ----

The assembly was then build with this:
mcs -debug -out:test.exe test.cs

I ran Valgrind on the resulting exe like so:
/usr/bin/valgrind --tool=memcheck -v --leak-check=full --log-file=vg.log
--smc-check=all --suppressions=/source/mono-1.9.1/mono.supp mono test.exe

I have attached the output file, vg.log, to this report. I think you will agree
that the contents of this file are not very useful, and maybe a little
misleading in places. My concerns are as follows:
1) Is it reasonable to expect to profile and/or leak-check a mono assembly
effectively with Valgrind? Does the quality of the output depend on the size or
complexity of the code?  If the answer to this question is that Valgrind is
simply not a good tool for use with mono assemblies, then we can stop here :)
2) Is the information on the Mono-Project web page out-of-date with the current
versions of Mono and Valgrind?
3) Consider this a blanket &quot;what am I missing&quot; question.

Both Mono and Valgrind are very well-developed, fundamental tools in their
respective corners. I hope there is a way for them to work together to help
refine our projects into tighter, cleaner, and safer code.

Ian


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073887.html">[Mono-bugs] [Bug 325260] Error compiling array properties
</A></li>
	<LI>Next message: <A HREF="073895.html">[Mono-bugs] [Bug 390788] Issues with Valgrind
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73888">[ date ]</a>
              <a href="thread.html#73888">[ thread ]</a>
              <a href="subject.html#73888">[ subject ]</a>
              <a href="author.html#73888">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
