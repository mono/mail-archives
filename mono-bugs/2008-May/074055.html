<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 389886] Boo test fixtures with generic delegates make runtime crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20389886%5D%20Boo%20test%20fixtures%20with%20generic%20delegates%0A%20make%20runtime%20crash&In-Reply-To=bug-389886-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="073942.html">
   <LINK REL="Next"  HREF="073792.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 389886] Boo test fixtures with generic delegates make runtime crash</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20389886%5D%20Boo%20test%20fixtures%20with%20generic%20delegates%0A%20make%20runtime%20crash&In-Reply-To=bug-389886-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 389886] Boo test fixtures with generic delegates make runtime crash">bugzilla_noreply at novell.com
       </A><BR>
    <I>Mon May 19 23:14:46 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="073942.html">[Mono-bugs] [Bug 389886] Boo test fixtures with generic delegates make runtime crash
</A></li>
        <LI>Next message: <A HREF="073792.html">[Mono-bugs] [Bug 389887] New: xbuild references Silverlight	assemblies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74055">[ date ]</a>
              <a href="thread.html#74055">[ thread ]</a>
              <a href="subject.html#74055">[ subject ]</a>
              <a href="author.html#74055">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=389886">https://bugzilla.novell.com/show_bug.cgi?id=389886</A>

User <A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rkumpera at novell.com</A> added comment
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=389886#c5">https://bugzilla.novell.com/show_bug.cgi?id=389886#c5</A>





--- Comment #5 from Rodrigo Kumpera &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">rkumpera at novell.com</A>&gt;  2008-05-19 21:14:46 MST ---
I've investigated both BOO-983 and internal-generic-callable-type-2.boo.

The issue with BOO-983 is that FooBar vtable size is one less than it should.
This happens because IFoo generic instance never ends with methods on it so
vtable layout code just ignores it.

This happens because generic instantiations of typebuilder have a very very
hacky
lifecicle.

The issue with internal-generic-callable-type-2.boo is that for some reason
GenericDelegate`2 super type ends been Object and not MulticastDelegate. This
makes the runtime crash since mono_jit_compile_method_inner cannot find an
icall
for it's constructor.

To fix both issues we need to inflate generic classes again once the
typebuilder is finished.


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
You are the assignee for the bug.
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="073942.html">[Mono-bugs] [Bug 389886] Boo test fixtures with generic delegates make runtime crash
</A></li>
	<LI>Next message: <A HREF="073792.html">[Mono-bugs] [Bug 389887] New: xbuild references Silverlight	assemblies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74055">[ date ]</a>
              <a href="thread.html#74055">[ thread ]</a>
              <a href="subject.html#74055">[ subject ]</a>
              <a href="author.html#74055">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
