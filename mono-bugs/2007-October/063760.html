<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-bugs] [Bug 337399] monodoc will generate documentation for protected members of sealed classes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20337399%5D%20monodoc%20will%20generate%20documentation%20for%0A%20protected%20members%20of%20sealed%20classes&In-Reply-To=bug-337399-28286%40https.bugzilla.novell.com/">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="063747.html">
   <LINK REL="Next"  HREF="063748.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-bugs] [Bug 337399] monodoc will generate documentation for protected members of sealed classes</H1>
    <B>bugzilla_noreply at novell.com</B> 
    <A HREF="mailto:mono-bugs%40lists.ximian.com?Subject=%5BMono-bugs%5D%20%5BBug%20337399%5D%20monodoc%20will%20generate%20documentation%20for%0A%20protected%20members%20of%20sealed%20classes&In-Reply-To=bug-337399-28286%40https.bugzilla.novell.com/"
       TITLE="[Mono-bugs] [Bug 337399] monodoc will generate documentation for protected members of sealed classes">bugzilla_noreply at novell.com
       </A><BR>
    <I>Sun Oct 28 15:28:00 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="063747.html">[Mono-bugs] [Bug 337399] New: monodoc will generate documentation for protected members of sealed classes
</A></li>
        <LI>Next message: <A HREF="063748.html">[Mono-bugs] [Bug 337401] New: Monodoc will list a property as &quot;Protected&quot; if one of its accessors is protected
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63760">[ date ]</a>
              <a href="thread.html#63760">[ thread ]</a>
              <a href="subject.html#63760">[ subject ]</a>
              <a href="author.html#63760">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://bugzilla.novell.com/show_bug.cgi?id=337399#c1">https://bugzilla.novell.com/show_bug.cgi?id=337399#c1</A>


Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jonpryor at vt.edu</A>&gt; changed:

           What    |Removed                                         |Added
----------------------------------------------------------------------------
                 CC|                                                |<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jonpryor at vt.edu</A>




--- Comment #1 from Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-bugs">jonpryor at vt.edu</A>&gt;  2007-10-28 13:27:59 MST ---
This is not a bug.

1. Consider:

    public abstract class Type {
        public bool HasElementType {
            get {return HasElementTypeImpl ();}
        }
        protected abstract bool HasElementTypeImpl ();
    }

    public sealed class MyType : Type {
        protected override bool HasElementTypeImpl ()
        {
            return false;
        }
    }

The point is this: just because it's a protected member of a sealed class does
NOT mean that no external code can call it.  The only way to be sure would be
to do lots of code-flow analysis to find patterns like the above.

2. monodoc doesn't use Mono.Cecil, or anything like Mono.Cecil, and thus does
not do any code flow analysis.

Given those two facts, your test case *should* have documentation generated for
ConcreteClass.foo.

Even after monodocer is migrated to use Cecil -- which has no timeframe -- it
is unlikely that such code flow analysis will be performed.  I'd prefer the
code flow analysis be in Gendarme, not monodocer.

However, one similar case that perhaps should be handled are
*non*-virtual/abstract protected members on sealed classes:

    public sealed class Demo {
        protected void Foo () {}
    }

monodocer currently generates documentation for Demo.Foo(), even though there
is no possible way for Foo() to be overridden or directly invoked (w/o using
Reflection).

I'm leary of adding such special-case support, though, as the intention may be
to make Demo non-sealed in a future release, in which case Demo.Foo should be
documented.

Furthermore, why would `protected' be used here instead of `private' anyway?  I
doubt that this happens all that frequently in real code (though I'd love to be
proven wrong).


-- 
Configure bugmail: <A HREF="https://bugzilla.novell.com/userprefs.cgi?tab=email">https://bugzilla.novell.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are the QA contact for the bug.
</PRE>
































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="063747.html">[Mono-bugs] [Bug 337399] New: monodoc will generate documentation for protected members of sealed classes
</A></li>
	<LI>Next message: <A HREF="063748.html">[Mono-bugs] [Bug 337401] New: Monodoc will list a property as &quot;Protected&quot; if one of its accessors is protected
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63760">[ date ]</a>
              <a href="thread.html#63760">[ thread ]</a>
              <a href="subject.html#63760">[ subject ]</a>
              <a href="author.html#63760">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-bugs">More information about the mono-bugs
mailing list</a><br>
</body></html>
