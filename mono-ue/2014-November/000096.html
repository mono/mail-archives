<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-ue] What to do when API not available ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-ue%40lists.ximian.com?Subject=Re%3A%20%5BMono-ue%5D%20What%20to%20do%20when%20API%20not%20available%20%3F&In-Reply-To=%3CCAMga9iRiOj%2BHxY%3Dgz6VfFRtEib8N_QK9Xh%2BNSH6_0JVXLiEELw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000095.html">
   <LINK REL="Next"  HREF="000103.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-ue] What to do when API not available ?</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:mono-ue%40lists.ximian.com?Subject=Re%3A%20%5BMono-ue%5D%20What%20to%20do%20when%20API%20not%20available%20%3F&In-Reply-To=%3CCAMga9iRiOj%2BHxY%3Dgz6VfFRtEib8N_QK9Xh%2BNSH6_0JVXLiEELw%40mail.gmail.com%3E"
       TITLE="[Mono-ue] What to do when API not available ?">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Sun Nov  9 01:00:22 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000095.html">[Mono-ue] What to do when API not available ?
</A></li>
        <LI>Next message: <A HREF="000103.html">[Mono-ue] What to do when API not available ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96">[ date ]</a>
              <a href="thread.html#96">[ thread ]</a>
              <a href="subject.html#96">[ subject ]</a>
              <a href="author.html#96">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The C# binding uses the same type information and hooks that Blueprint
does, it's not a full C++ binding system.

Specifically in this case, only methods that are declared as
UFunctions of type BlueprintImplementableEvent or BlueprintNativeEvent
can be overridden. This is because when they are declared in C++, the
Unreal Header Tool (UHT) generates C++ glue/thunk methods allowing
overrides to be provided as function pointers. When you override those
methods in C#, MonoAssemblyProcess generates a static ctor that passes
the C# method to Unreal type system as the implementation for the
method.

Overriding arbitrary C++ methods without glue code is possible by
modifying the vtable (like CppSharp does) but definitely not easy
right now.

I'd advise using a simple C++ plugin. You can create an AGameMode
subclass that overrides the virtual functions you need and delegates
them to BlueprintImplementableEvent UFunctions. The binding system
will automatically expose those as virtual methods on the C# wrapper
for your AGameMode subclass.

You could also consider an engine patch to make those methods into
BlueprintImplementableEvents.

 - m

On 8 November 2014 18:48, Petter Hansson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-ue">me at petterhansson.se</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> what are my options if a particular Unreal API has not been exposed to C#? I
</I>&gt;<i> need to do a lot of modification to my own game mode (i.e. derived from
</I>&gt;<i> AGameMode), and just a few of its virtual functions have been exposed for
</I>&gt;<i> ShooterGame. I presume I can somehow complete the bindings myself using
</I>&gt;<i> MonoScriptGenerator, how would I go about that? Quick-fixing this particular
</I>&gt;<i> issue via writing a C++ plugin is something I'd like to avoid (preferring a
</I>&gt;<i> proper fix) as having a native component for what should be a managed
</I>&gt;<i> library is somewhat counter-intuitive.
</I>&gt;<i>
</I>&gt;<i> I've been drafted to implement a C# networking lib to Unreal so my Unreal
</I>&gt;<i> knowledge is not all that awesome. :) Getting it running inside Mono was
</I>&gt;<i> easy, it's an entirely different matter fitting it into the Unreal engine
</I>&gt;<i> framework...
</I>&gt;<i>
</I>&gt;<i> Thanks in advance for any help!
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Petter Hansson
</I>&gt;<i> MuchDifferent
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-ue">petter.hansson at muchdifferent.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-ue mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-ue">Mono-ue at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-ue">http://lists.ximian.com/mailman/listinfo/mono-ue</A>
</I>&gt;<i>
</I>


-- 
Michael Hutchinson ~ <A HREF="https://mhut.ch">https://mhut.ch</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000095.html">[Mono-ue] What to do when API not available ?
</A></li>
	<LI>Next message: <A HREF="000103.html">[Mono-ue] What to do when API not available ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96">[ date ]</a>
              <a href="thread.html#96">[ thread ]</a>
              <a href="subject.html#96">[ subject ]</a>
              <a href="author.html#96">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-ue">More information about the Mono-ue
mailing list</a><br>
</body></html>
