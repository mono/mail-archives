<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Listening in on a port (was the daemon thingy a week or so back)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Listening%20in%20on%20a%20port%20%28was%20the%20daemon%20thingy%20a%20week%0A%20or%20so%20back%29&In-Reply-To=hii05b%24fmn%241%40ger.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033871.html">
   <LINK REL="Next"  HREF="033873.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Listening in on a port (was the daemon thingy a week or so back)</H1>
    <B>Ajay Gupta</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Listening%20in%20on%20a%20port%20%28was%20the%20daemon%20thingy%20a%20week%0A%20or%20so%20back%29&In-Reply-To=hii05b%24fmn%241%40ger.gmane.org"
       TITLE="[Mono-dev] Listening in on a port (was the daemon thingy a week or so back)">ajay at irtms.com
       </A><BR>
    <I>Tue Jan 12 09:36:40 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="033871.html">[Mono-dev] Listening in on a port (was the daemon thingy a week or so back)
</A></li>
        <LI>Next message: <A HREF="033873.html">[Mono-dev] JIT floating point behaviour change between 2.4.2 and 2.6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33872">[ date ]</a>
              <a href="thread.html#33872">[ thread ]</a>
              <a href="subject.html#33872">[ subject ]</a>
              <a href="author.html#33872">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Your design have few issues. If they are acceptable limitation, can there
is simple way:

1. run netstat -an and grep to connection from your son's PC.
2. Any connection, will mark begin of your 1 hour time.
3. Start simple timer and you are mostly done.
4. As suggested, if you listen using HttpListener, assume  he gets first
connection, and then either PC is rebooted or connection dies, then you /
him will have issues with 1 hour time.


issue(s) with your design:
1. If he browse 5 min to search  something, and does not comeback for 2
hours, you will not not honor your SLA and OLA with your son.
2. If he goes to a different site which is running on 8080, then your
program will not catch that.
3. Hence you need to check all ports.

Recommendation :
1. Just enable connection from given start time for 1 hour. Mostly all new
routers can do this out of box.
2. with above, you can add eMail alert with start-time/ endtime, sites
visited, bandwidth used from his PC ( just for audit purpose ).

:<i>)
</I>

Ajay Gupta






Ajay Gupta
eMail   : <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ajay at iRTMS.com</A>




&gt;<i> On 12.01.2010 14:08, PFJ wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm making some progress with my daemon in C# to listen in on port 80
</I>&gt;&gt;<i> and
</I>&gt;&gt;<i> monitor how much time my son is spending on line, but I've hit a snag.
</I>&gt;<i>
</I>&gt;<i> A daemon listening on port 80 won't be able to monitor anything
</I>&gt;<i> but connections made to it. Is this what you want? Do you want
</I>&gt;<i> to write a HTTP proxy or something? Then have a look at the
</I>&gt;<i> HttpListener class.
</I>&gt;<i>
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>

</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033871.html">[Mono-dev] Listening in on a port (was the daemon thingy a week or so back)
</A></li>
	<LI>Next message: <A HREF="033873.html">[Mono-dev] JIT floating point behaviour change between 2.4.2 and 2.6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33872">[ date ]</a>
              <a href="thread.html#33872">[ thread ]</a>
              <a href="subject.html#33872">[ subject ]</a>
              <a href="author.html#33872">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
