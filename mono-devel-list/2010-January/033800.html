<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] autovectorization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20autovectorization&In-Reply-To=8cca42d81001040629n4c3f815fld0f69d26c2929906%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033799.html">
   <LINK REL="Next"  HREF="033801.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] autovectorization</H1>
    <B>Jerry Maine - KF5ADY</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20autovectorization&In-Reply-To=8cca42d81001040629n4c3f815fld0f69d26c2929906%40mail.gmail.com"
       TITLE="[Mono-dev] autovectorization">crashfourit at gmail.com
       </A><BR>
    <I>Mon Jan  4 10:25:28 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="033799.html">[Mono-dev] autovectorization
</A></li>
        <LI>Next message: <A HREF="033801.html">[Mono-dev] autovectorization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33800">[ date ]</a>
              <a href="thread.html#33800">[ thread ]</a>
              <a href="subject.html#33800">[ subject ]</a>
              <a href="author.html#33800">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Because doing so is so expensive, i was thinking of only two optimizations.

One is loop unrolling when moving over arrays.

The next one is tailored to known programing patterns in C#, vectorizing
only the homogeneous structs of size 16.

The idea is that these optimizations may be cheep enough to do in the
Jit, while others can be done in an external utility.

Rodrigo Kumpera wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sun, Jan 3, 2010 at 10:40 PM, Jerry Maine - KF5ADY
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">crashfourit at gmail.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">crashfourit at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     I have been thinking of implementing some autovectorization
</I>&gt;<i>     capabilities
</I>&gt;<i>     to mono, and I was wondering the opinion of the community here.
</I>&gt;<i>
</I>&gt;<i>     I was thinking of three different ways of implementing it:
</I>&gt;<i>
</I>&gt;<i>     IL -&gt; IL transformation using Mono.Simd structs to do the
</I>&gt;<i>     vectorization
</I>&gt;<i>     implemented in C#
</I>&gt;<i>     IL -&gt; IL transformation--same as above but in the C runtime of mono.
</I>&gt;<i>     IR -&gt;IR transformation in the C runtime.
</I>&gt;<i>
</I>&gt;<i>     I do know that there will be a ease of implementation and performance
</I>&gt;<i>     differences between the three especially, I think, between the IR
</I>&gt;<i>     -&gt; IR
</I>&gt;<i>     version and the IL -&gt; IL version.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Performance-wise, there isn't much advantage of doing it on the C runtime,
</I>&gt;<i> be either on IL or IR. There isn't that much that can be done at the
</I>&gt;<i> IR level 
</I>&gt;<i> that can't be done with IL.
</I>&gt;<i>
</I>&gt;<i> Said that, doing auto-vectorization is a very expensive optimization that
</I>&gt;<i> there no room to do it at JIT time. Not mentioning the fact that it is
</I>&gt;<i> a quite
</I>&gt;<i> complex task.
</I>&gt;<i>
</I>&gt;<i> My suggestion is to built it as an assembly rewriting tool that
</I>&gt;<i> perform such
</I>&gt;<i> optimization and many others.
</I>&gt;<i>
</I>&gt;<i> By the way, which of the few vectorization technique do you plan on
</I>&gt;<i> employ?
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Rodrigo
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100104/91df5350/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100104/91df5350/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033799.html">[Mono-dev] autovectorization
</A></li>
	<LI>Next message: <A HREF="033801.html">[Mono-dev] autovectorization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33800">[ date ]</a>
              <a href="thread.html#33800">[ thread ]</a>
              <a href="subject.html#33800">[ subject ]</a>
              <a href="author.html#33800">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
