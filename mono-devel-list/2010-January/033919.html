<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Preliminary ia64-hpux porting committed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Preliminary%20ia64-hpux%20porting%20committed&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033918.html">
   <LINK REL="Next"  HREF="033920.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Preliminary ia64-hpux porting committed</H1>
    <B>Dick Porter</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Preliminary%20ia64-hpux%20porting%20committed&In-Reply-To="
       TITLE="[Mono-dev] Preliminary ia64-hpux porting committed">dporter at codicesoftware.com
       </A><BR>
    <I>Tue Jan 19 12:26:21 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="033918.html">[Mono-dev] [PATCH] COM Interop - Support for [in] parameters of	type SAFEARRAY[VARIANT]
</A></li>
        <LI>Next message: <A HREF="033920.html">[Mono-dev] Contributions to Olive WF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33919">[ date ]</a>
              <a href="thread.html#33919">[ thread ]</a>
              <a href="subject.html#33919">[ subject ]</a>
              <a href="author.html#33919">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all

I've committed the first bits of a port to ia64-hpux, in the
branch /source/branches/dick/ia64-hpux

The approach I took was to let the compiler work in the existing
little-endian mode, and byteswap when the instructions are emitted.
This kept code changes to a minimum.  I'm not sure I completely figured
out the patching code, so I'm not 100% certain that the byteswapping is
happening in the right place, but a different attempt at byteswapping
much later in the compilation process gave precisely the same results.

Code generation seems to work: the disassembled code output when run
with sufficient verbosity matches the ia64-linux output.  However,
executing the generated code segfaults straight away.  I suspect this is
coming from the unwinding code - it took me several goes to get
libunwind built for hpux, and I'm still not convinced it's working
correctly.

Unfortunately we won't be able to spend any more time on this in the
near future, so it's being committed into svn in the hope that others
can take it up.  Thanks are due to Miguel and Thomas for arranging
access to an ia64-linux machine while I was working on this, which made
the work a lot easier.

- Dick


</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033918.html">[Mono-dev] [PATCH] COM Interop - Support for [in] parameters of	type SAFEARRAY[VARIANT]
</A></li>
	<LI>Next message: <A HREF="033920.html">[Mono-dev] Contributions to Olive WF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33919">[ date ]</a>
              <a href="thread.html#33919">[ thread ]</a>
              <a href="subject.html#33919">[ subject ]</a>
              <a href="author.html#33919">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
