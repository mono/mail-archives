<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Profiling with heapshot (only)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20Profiling%20with%20heapshot%20%28only%29&In-Reply-To=%3C45E8A49DE8DF9B4E9A8038276F135D3AAE45C64D%40RWC-EXCH02.trionworld.priv%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="043771.html">
   <LINK REL="Next"  HREF="043773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Profiling with heapshot (only)</H1>
    <B>Chris Swiedler</B> 
    <A HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20Profiling%20with%20heapshot%20%28only%29&In-Reply-To=%3C45E8A49DE8DF9B4E9A8038276F135D3AAE45C64D%40RWC-EXCH02.trionworld.priv%3E"
       TITLE="[Mono-dev] Profiling with heapshot (only)">cswiedler at trionworlds.com
       </A><BR>
    <I>Mon Aug 15 23:57:56 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="043771.html">[Mono-dev] NTP Client with mono
</A></li>
        <LI>Next message (by thread): <A HREF="043773.html">[Mono-dev] Profiling with heapshot (only)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43772">[ date ]</a>
              <a href="thread.html#43772">[ thread ]</a>
              <a href="subject.html#43772">[ subject ]</a>
              <a href="author.html#43772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to use the heapshot=ondemand feature of the logging profiler. I want to turn off all of the other features of the logging profiler, since the allocation/method tracing stuff runs too slow to be useful in the situation that I need to test. However, even with a command line like this:

mono-sgen --debug --profile=log:heapshot,heapshot=ondemand,time=fast,port=7103,output=%p.mlpd

...I still get extremely high CPU usage in my apps. From what I understand of the heapshot part of the profiler, it shouldn't need to incur any overhead except when generating the heapshot file. Is there any way to reduce the runtime overhead when it's not generating a heapshot? This link suggests that I should disable counters, but I don't see any options for that:

<A HREF="http://mono.1490590.n4.nabble.com/Problems-with-mono-log-pofiler-td4665572.html">http://mono.1490590.n4.nabble.com/Problems-with-mono-log-pofiler-td4665572.html</A>

thanks,
chris
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="043771.html">[Mono-dev] NTP Client with mono
</A></li>
	<LI>Next message (by thread): <A HREF="043773.html">[Mono-dev] Profiling with heapshot (only)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43772">[ date ]</a>
              <a href="thread.html#43772">[ thread ]</a>
              <a href="subject.html#43772">[ subject ]</a>
              <a href="author.html#43772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
