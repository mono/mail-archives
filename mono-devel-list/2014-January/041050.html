<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono 3 insert quotation marks instead of special chars in SQL Server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Mono%203%20insert%20quotation%20marks%20instead%20of%20special%0A%20chars%20in%20SQL%20Server&In-Reply-To=%3C72b4d14d-ba08-41c6-8cf5-6ba9a509c496%40MAIL1.apsystems.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041048.html">
   <LINK REL="Next"  HREF="041060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono 3 insert quotation marks instead of special chars in SQL Server</H1>
    <B>APS</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Mono%203%20insert%20quotation%20marks%20instead%20of%20special%0A%20chars%20in%20SQL%20Server&In-Reply-To=%3C72b4d14d-ba08-41c6-8cf5-6ba9a509c496%40MAIL1.apsystems.local%3E"
       TITLE="[Mono-dev] Mono 3 insert quotation marks instead of special chars in SQL Server">dev.malst at apsystems.it
       </A><BR>
    <I>Fri Jan 10 10:33:36 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="041048.html">[Mono-dev] Mono 3 insert quotation marks instead of special chars in SQL Server
</A></li>
        <LI>Next message: <A HREF="041060.html">[Mono-dev] mono-2.11.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41050">[ date ]</a>
              <a href="thread.html#41050">[ thread ]</a>
              <a href="subject.html#41050">[ subject ]</a>
              <a href="author.html#41050">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>While mailing-list system was offline I've done some further investigation.
The problem is during creation of RPC Call. It 
use tdsParameter.GetBytes method that make an Encoding.Default.GetBytes.
As the default Encoding is US ASCII avery special 
char is converted into a quotation mark. I've 
tried to change Default to UTF8 and Unicode, just 
to see what happens and it gives another error 
about wrong message format so it's not the correct way.
The old Mono 2 works because it use Tds70 instead 
Tds80 and Tds70 works in a different way, without using RPC.
I'm trying to workaround the problem downgrading 
to Tds70 and it seems to work, but there's a 
chance to have it working also with Tds80?

At 10:33 08/01/2014, APS wrote:
&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>I'm using mono 3 for an asp.net web application 
</I>&gt;<i>and inserting or updating data in an SQL Server 
</I>&gt;<i>database, if I enter special characters like '&#224;' 
</I>&gt;<i>they are inserted as '?' inside the database.
</I>&gt;<i>Is probably a conversion issue with UTF8 but how 
</I>&gt;<i>can I handle it? I tried with an old mono 2 and 
</I>&gt;<i>the characters has been inserted correctly.
</I>&gt;<i>Any hint?
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mono-devel-list mailing list
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>--
</I>&gt;<i>Il messaggio e' stato analizzato alla ricerca di virus o
</I>&gt;<i>contenuti pericolosi da MailScanner, ed e'
</I>&gt;<i>risultato non infetto.
</I>
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041048.html">[Mono-dev] Mono 3 insert quotation marks instead of special chars in SQL Server
</A></li>
	<LI>Next message: <A HREF="041060.html">[Mono-dev] mono-2.11.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41050">[ date ]</a>
              <a href="thread.html#41050">[ thread ]</a>
              <a href="subject.html#41050">[ subject ]</a>
              <a href="author.html#41050">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
