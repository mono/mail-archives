<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] WCF: InstanceContextMode.PerSession
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20WCF%3A%20InstanceContextMode.PerSession&In-Reply-To=4D29CE5D.5070207%40gmx.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036676.html">
   <LINK REL="Next"  HREF="036682.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] WCF: InstanceContextMode.PerSession</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20WCF%3A%20InstanceContextMode.PerSession&In-Reply-To=4D29CE5D.5070207%40gmx.de"
       TITLE="[Mono-dev] WCF: InstanceContextMode.PerSession">atsushieno at veritas-vos-liberabit.com
       </A><BR>
    <I>Tue Jan 11 01:07:54 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="036676.html">[Mono-dev] WCF: InstanceContextMode.PerSession
</A></li>
        <LI>Next message: <A HREF="036682.html">[Mono-dev] WCF: InstanceContextMode.PerSession
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36681">[ date ]</a>
              <a href="thread.html#36681">[ thread ]</a>
              <a href="subject.html#36681">[ subject ]</a>
              <a href="author.html#36681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi again,

To my understanding, a session (ISession) is usually member of 
ISessionChannel types, its lifecycle is bound to the channel, and we 
indeed have such implementation in TcpDuplexSessionChannel.

If we got to know .NET behaviors we'll do the same in WCF ;)

Atsushi Eno

(2011/01/10 0:03), Karsten Fourmont wrote:
&gt;<i> sigh: it seems no matter how long I wait before making a post to get 
</I>&gt;<i> the details right, still every time something comes up minutes after I 
</I>&gt;<i> hit the &quot;send&quot; button.
</I>&gt;<i>
</I>&gt;<i> So here's a small addition:
</I>&gt;<i> It doesn't seem very well defined in the WCF documentation if an when 
</I>&gt;<i> Dispose should be called on a service instance. Service classes don't 
</I>&gt;<i> have to be IDisposable. But if they are, .NET invokes Dispose and I 
</I>&gt;<i> think mono should do the same. However exactly &quot;when&quot; this dispose is 
</I>&gt;<i> supposed to happen is not perfectly clear:
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/en-us/library/ms733040.aspx">http://msdn.microsoft.com/en-us/library/ms733040.aspx</A> states:
</I>&gt;<i> &quot;In the default case, WCF recycles the service object and its context 
</I>&gt;<i> after the session with which the service was associated is closed.&quot;
</I>&gt;<i> So Dispose doesn't have to be called on session termination, but 
</I>&gt;<i> (maybe?) on service channel termination on the server side. Whatever.
</I>&gt;<i>
</I>&gt;<i> The service instance just has to be able to find out when it should 
</I>&gt;<i> free the session's resources once the session is closed either by the 
</I>&gt;<i> client or by the server (like due to an inactivity timeout).
</I>&gt;<i>
</I>&gt;<i> Atsushi, I definitely don't envy you (or any of the mono team) for 
</I>&gt;<i> having to implement something which is not properly specified. Only 
</I>&gt;<i> Perl's &quot;the implementation is the specification&quot; seems worse ;-)
</I>&gt;<i> Great work!
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>  Karsten
</I>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036676.html">[Mono-dev] WCF: InstanceContextMode.PerSession
</A></li>
	<LI>Next message: <A HREF="036682.html">[Mono-dev] WCF: InstanceContextMode.PerSession
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36681">[ date ]</a>
              <a href="thread.html#36681">[ thread ]</a>
              <a href="subject.html#36681">[ subject ]</a>
              <a href="author.html#36681">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
