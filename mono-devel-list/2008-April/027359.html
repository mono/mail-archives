<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] parametric types and nested classes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20parametric%20types%20and%20nested%20classes&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027357.html">
   <LINK REL="Next"  HREF="027360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] parametric types and nested classes</H1>
    <B>Gavin Landon</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20parametric%20types%20and%20nested%20classes&In-Reply-To="
       TITLE="[Mono-dev] parametric types and nested classes">Gavin.Landon at ignitetech.com
       </A><BR>
    <I>Wed Apr  2 17:30:02 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027357.html">[Mono-dev] parametric types and nested classes
</A></li>
        <LI>Next message: <A HREF="027360.html">[Mono-dev] parametric types and nested classes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27359">[ date ]</a>
              <a href="thread.html#27359">[ thread ]</a>
              <a href="subject.html#27359">[ subject ]</a>
              <a href="author.html#27359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I believe this is a known issue.  If I'm understanding you correctly,
when I first started developing with Mono, nested classes was one of the
things I was told couldn't be done.  There is a web page that explains
it, I just don't know where it's at for the moment.  Maybe someone else
knows?

________________________________

From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] On Behalf Of Robert
Sim
Sent: Wednesday, April 02, 2008 3:57 PM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Subject: [Mono-dev] parametric types and nested classes


Hi, I'm having some casting problems with nested classes of classes
derived from parametric types. My peeks at the archives have failed to
turn anything up. The problem is described below.  It compiles and works
as expected in Visual Studio.  Compiling with gmcs gives me these
errors:

mono-gmcs: 1.2.4-6ubuntu6.1

Foo.cs(23,20): error CS0029: Cannot implicitly convert type `T' to
`BarHelper'
Foo.cs(24,10): error CS0029: Cannot implicitly convert type
`Foo&lt;T&gt;.NestedFoo.Property' to `BarHelper'
Foo.cs(25,13): error CS0030: Cannot convert type `Foo&lt;T&gt;.NestedFoo' to
`BarHelper'
Compilation failed: 3 error(s), 0 warnings

Foo.cs:
public class Foo&lt;T&gt; where T:new() {
    public class NestedFoo {
       
        T field=default(T);
       
        public T getField() { return field; }
       
        public T Property {
            get { return field; }
        }
        public static explicit operator T(NestedFoo foo) {
           return foo.field;
        }
    }
}

public class BarHelper {}

public class Bar : Foo&lt;BarHelper&gt; {
     public void  Test() {
         NestedFoo myFoo=new NestedFoo();
         // All three of these lines fail to compile, even if I insert
an explicit cast to BarHelper.
         BarHelper b=myFoo.getField();
         b=myFoo.Property;
         b=(BarHelper)myFoo;
     }
}

Thanks,
R

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027357.html">[Mono-dev] parametric types and nested classes
</A></li>
	<LI>Next message: <A HREF="027360.html">[Mono-dev] parametric types and nested classes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27359">[ date ]</a>
              <a href="thread.html#27359">[ thread ]</a>
              <a href="subject.html#27359">[ subject ]</a>
              <a href="author.html#27359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
