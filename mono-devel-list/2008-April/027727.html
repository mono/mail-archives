<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] JIT and Inlining - why doesn't it happen?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20JIT%20and%20Inlining%20-%20why%20doesn%27t%20it%20happen%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027725.html">
   <LINK REL="Next"  HREF="027728.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] JIT and Inlining - why doesn't it happen?</H1>
    <B>Alan McGovern</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20JIT%20and%20Inlining%20-%20why%20doesn%27t%20it%20happen%3F&In-Reply-To="
       TITLE="[Mono-dev] JIT and Inlining - why doesn't it happen?">alan.mcgovern at gmail.com
       </A><BR>
    <I>Wed Apr 30 17:11:37 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027725.html">[Mono-dev] I18n and ASP.Net (Rolando Mart&#237;nez)
</A></li>
        <LI>Next message: <A HREF="027728.html">[Mono-dev] JIT and Inlining - why doesn't it happen?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27727">[ date ]</a>
              <a href="thread.html#27727">[ thread ]</a>
              <a href="subject.html#27727">[ subject ]</a>
              <a href="author.html#27727">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I recently started doing a bit of optimisation work on the
hashing/cryptography classes in mono. When working on the managed SHA256
class[1], i noticed that mono isn't inlining what i'd consider some *very*
simple methods.

The helper methods which do the bitshifting (Ro0, Ro1, Ch, Maj etc) aren't
inlined! Each of these methods is only called once in the code. By manually
inlining those method calls, performance increased significantly - about
70%. Why isn't mono inlining these methods? Can mono be made inline these?

Alan.

[1]
<A HREF="http://anonsvn.mono-project.com/viewcvs/trunk/mcs/class/corlib/System.Security.Cryptography/SHA256Managed.cs?rev=46462&amp;view=markup">http://anonsvn.mono-project.com/viewcvs/trunk/mcs/class/corlib/System.Security.Cryptography/SHA256Managed.cs?rev=46462&amp;view=markup</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080430/63f7aa7e/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080430/63f7aa7e/attachment-0001.html</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027725.html">[Mono-dev] I18n and ASP.Net (Rolando Mart&#237;nez)
</A></li>
	<LI>Next message: <A HREF="027728.html">[Mono-dev] JIT and Inlining - why doesn't it happen?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27727">[ date ]</a>
              <a href="thread.html#27727">[ thread ]</a>
              <a href="subject.html#27727">[ subject ]</a>
              <a href="author.html#27727">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
