<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] mono timer exception
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono%20timer%20exception&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027531.html">
   <LINK REL="Next"  HREF="027534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] mono timer exception</H1>
    <B>Sean Dague</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono%20timer%20exception&In-Reply-To="
       TITLE="[Mono-dev] mono timer exception">sean at dague.net
       </A><BR>
    <I>Tue Apr 15 20:25:27 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027531.html">[Mono-dev] Tuner fails on Windows when MS.NET is in PATH
</A></li>
        <LI>Next message: <A HREF="027534.html">[Mono-dev] mono timer exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27533">[ date ]</a>
              <a href="thread.html#27533">[ thread ]</a>
              <a href="subject.html#27533">[ subject ]</a>
              <a href="author.html#27533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In the OpenSim project (an open source secondlife like server), we
agressively user timers (probably too much, but we're working on that).
The environment runs on both .NET and Mono. 

We've got a crash specifically on Mono relating to timers.  Now that
many of us are using source built 1.9.0 versions, we've even got line
numbers on the exception.

APPLICATION EXCEPTION DETECTED: System.UnhandledExceptionEventArgs

Exception: System.NullReferenceException: Object reference not set to an
instance of an object
  at System.Timers.Timer.StartTimer () [0x0005e] in
  /home/sdague/mono-build/mono-1.9/mcs/class/System/System.Timers/Timer.cs:203 

This causes a crash in our environment.  It happens rather sporadically
(as you'd expect from a timer based crash in a massively threaded
environment).

I read through the Timer code, and am starting to wonder if Timers
themselves aren't thread safe to manipulate, and if that is the crux of
our problem.

Any ideas at all would be appreciated, either root causes, or work
arounds.  This issue has been plaguing us Mono users on the project for
months.

Thanks,

    -Sean

-- 
__________________________________________________________________

Sean Dague                                       Mid-Hudson Valley
sean at dague dot net                            Linux Users Group
<A HREF="http://dague.net">http://dague.net</A>                                 <A HREF="http://mhvlug.org">http://mhvlug.org</A>

There is no silver bullet.  Plus, werewolves make better neighbors
than zombies, and they tend to keep the vampire population down.
__________________________________________________________________
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080415/305c2aa8/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080415/305c2aa8/attachment.bin</A> 
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027531.html">[Mono-dev] Tuner fails on Windows when MS.NET is in PATH
</A></li>
	<LI>Next message: <A HREF="027534.html">[Mono-dev] mono timer exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27533">[ date ]</a>
              <a href="thread.html#27533">[ thread ]</a>
              <a href="subject.html#27533">[ subject ]</a>
              <a href="author.html#27533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
