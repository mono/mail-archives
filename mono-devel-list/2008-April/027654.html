<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] mono SEGFAULT problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono%20SEGFAULT%20problem&In-Reply-To=1209119441.22173.10.camel%40hublinux.fidudev.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027650.html">
   <LINK REL="Next"  HREF="027651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] mono SEGFAULT problem</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono%20SEGFAULT%20problem&In-Reply-To=1209119441.22173.10.camel%40hublinux.fidudev.fr"
       TITLE="[Mono-dev] mono SEGFAULT problem">vargaz at gmail.com
       </A><BR>
    <I>Fri Apr 25 08:54:13 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027650.html">[Mono-dev] mono SEGFAULT problem
</A></li>
        <LI>Next message: <A HREF="027651.html">[Mono-dev] WebMethod attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27654">[ date ]</a>
              <a href="thread.html#27654">[ thread ]</a>
              <a href="subject.html#27654">[ subject ]</a>
              <a href="author.html#27654">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

This is now tracked as:

<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=383749">https://bugzilla.novell.com/show_bug.cgi?id=383749</A>

          Zoltan

2008/4/25 Hubert FONGARNAND &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">informatique.internet at fiducial.fr</A>&gt;:
&gt;<i>
</I>&gt;<i>  Hi, everibody
</I>&gt;<i>
</I>&gt;<i>      Since about a week, my SMTP Server (which is in C#/mono) crashes about
</I>&gt;<i> 1 time /day...
</I>&gt;<i>  It's a multithreaded program that work on an RHEL4 server with 3
</I>&gt;<i> double-core processor and 16Gio RAM.
</I>&gt;<i>  The segfaults appears randomly... and i cannot reproduce the bug on my devs
</I>&gt;<i> and beta machine. My program doesn't call any C library, so the crash seems
</I>&gt;<i> to be on mono itself
</I>&gt;<i>
</I>&gt;<i>  I'm running mono 1.9.1 (it crashes too with mono 1.2.6)
</I>&gt;<i>
</I>&gt;<i>  without gdb it crashes with:
</I>&gt;<i>
</I>&gt;<i>  Stacktrace:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Native stacktrace:
</I>&gt;<i>
</I>&gt;<i>         mono [0x8152f80]
</I>&gt;<i>         mono [0x807819a]
</I>&gt;<i>         /lib/tls/libpthread.so.0 [0x6b2890]
</I>&gt;<i>         mono [0x813bc94]
</I>&gt;<i>         mono [0x80bd5c1]
</I>&gt;<i>         mono [0x80bdd0a]
</I>&gt;<i>         mono [0x8102656]
</I>&gt;<i>         mono [0x8116769]
</I>&gt;<i>         /lib/tls/libpthread.so.0 [0x6ac371]
</I>&gt;<i>         /lib/tls/libc.so.6(__clone+0x5e) [0x535ffe]
</I>&gt;<i>
</I>&gt;<i> Debug info from gdb:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> =================================================================
</I>&gt;<i> Got a SIGSEGV while executing native code. This usually indicates
</I>&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;<i> used by your application.
</I>&gt;<i> =================================================================
</I>&gt;<i>
</I>&gt;<i>    Aborted
</I>&gt;<i>
</I>&gt;<i>  I've run my program with Gdb [New Thread 66501552 (LWP 7705)]
</I>&gt;<i> [Thread 117857200 (LWP 7700) exited]
</I>&gt;<i>
</I>&gt;<i> Program received signal SIGSEGV, Segmentation fault.
</I>&gt;<i> [Switching to Thread 19356592 (LWP 4481)]
</I>&gt;<i> mono_debugger_thread_cleanup (jit_tls=0x85ba670) at debug-mini.c:802
</I>&gt;<i> 802                     if (info-&gt;jit_tls != jit_tls)
</I>&gt;<i> (gdb) bt
</I>&gt;<i> #0  mono_debugger_thread_cleanup (jit_tls=0x85ba670) at debug-mini.c:802
</I>&gt;<i> #1  0x08148794 in mini_thread_cleanup (thread=0xb6f5ce70) at mini.c:9670
</I>&gt;<i> #2  0x080c4860 in thread_cleanup (thread=0xb6f5ce70) at threads.c:509
</I>&gt;<i> #3  0x080c4fc1 in start_wrapper (data=0xb66a7fa0) at threads.c:605
</I>&gt;<i> #4  0x0810d09e in thread_start_routine (args=0xb78a4938) at threads.c:282
</I>&gt;<i> #5  0x08121b19 in GC_start_routine (arg=0xb65aa9a0) at
</I>&gt;<i> pthread_support.c:1369
</I>&gt;<i> #6  0x006ac371 in start_thread () from /lib/tls/libpthread.so.0
</I>&gt;<i> #7  0x00535ffe in clone () from /lib/tls/libc.so.6
</I>&gt;<i> (gdb) q
</I>&gt;<i> The program is running.  Exit anyway? (y or n) y
</I>&gt;<i> [<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">root at lxlyosmc10</A> Server]#
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Could someone help me please
</I>&gt;<i>
</I>&gt;<i>  It seems this is a GC issue
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ________________________________
</I>&gt;<i>  _________________________________________________
</I>&gt;<i>
</I>&gt;<i>  Ce message et les &#233;ventuels documents joints peuvent contenir des
</I>&gt;<i> informations confidentielles.
</I>&gt;<i>  Au cas o&#249; il ne vous serait pas destin&#233;, nous vous remercions de bien
</I>&gt;<i> vouloir le supprimer et en aviser imm&#233;diatement l'exp&#233;diteur. Toute
</I>&gt;<i> utilisation de ce message non conforme &#224; sa destination, toute diffusion ou
</I>&gt;<i> publication, totale ou partielle et quel qu'en soit le moyen est
</I>&gt;<i> formellement interdite.
</I>&gt;<i>  Les communications sur internet n'&#233;tant pas s&#233;curis&#233;es, l'int&#233;grit&#233; de ce
</I>&gt;<i> message n'est pas assur&#233;e et la soci&#233;t&#233; &#233;mettrice ne peut &#234;tre tenue pour
</I>&gt;<i> responsable de son contenu.
</I>&gt;<i> _______________________________________________
</I>&gt;<i>  Mono-devel-list mailing list
</I>&gt;<i>  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i>  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027650.html">[Mono-dev] mono SEGFAULT problem
</A></li>
	<LI>Next message: <A HREF="027651.html">[Mono-dev] WebMethod attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27654">[ date ]</a>
              <a href="thread.html#27654">[ thread ]</a>
              <a href="subject.html#27654">[ subject ]</a>
              <a href="author.html#27654">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
