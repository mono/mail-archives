<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] SHA1Managed speedups
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20SHA1Managed%20speedups&In-Reply-To=117799f00804281940g3ee725cftfc56dd9d7c9de9bb%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027699.html">
   <LINK REL="Next"  HREF="027701.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] SHA1Managed speedups</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20SHA1Managed%20speedups&In-Reply-To=117799f00804281940g3ee725cftfc56dd9d7c9de9bb%40mail.gmail.com"
       TITLE="[Mono-dev] SHA1Managed speedups">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Tue Apr 29 08:41:38 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027699.html">[Mono-dev] SHA1Managed speedups
</A></li>
        <LI>Next message: <A HREF="027701.html">[Mono-dev] SHA1Managed speedups
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27700">[ date ]</a>
              <a href="thread.html#27700">[ thread ]</a>
              <a href="subject.html#27700">[ subject ]</a>
              <a href="author.html#27700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Alan,

On Tue, 2008-04-29 at 03:40 +0100, Alan McGovern wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I've been working a bit with scottp to try and improve the SHA1
</I>&gt;<i> performance in Mono. We figured that by unrolling two more of the
</I>&gt;<i> loops, 
</I>
Please remove the unsafe keyword from both methods.

&gt;<i> we could double performance as compared to what's in 1.9. Is
</I>
Please always provide numbers (and the test cases) with performance
patches. Also compare the results with the code already in SVN (not the
previous releases) this way we compare the patch with the gain it
provides.

I found out that stating the architecture the tests were done is also
very important. My last SHA1 patch was taking 26% less time to process a
4GB file on x86, but a later test showed it's 32% less on x86_64.

&gt;<i> this patch ok to commit. 
</I>
Once we have the results, let's talk with Paolo before committing any
more unrolling. He asked me, more than once, to consider re-rolling the
SHA1 code. This piece of code is often the largest one the JIT is likely
to compile, as since it's used for assembly names it's a performance
(JIT time) hit being transfered to most Mono applications.

&gt;<i> If so, i can write up the necessary
</I>&gt;<i> changelogs and commit it myself, or someone else can go ahead and do
</I>&gt;<i> so.
</I>
Sebastien

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027699.html">[Mono-dev] SHA1Managed speedups
</A></li>
	<LI>Next message: <A HREF="027701.html">[Mono-dev] SHA1Managed speedups
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27700">[ date ]</a>
              <a href="thread.html#27700">[ thread ]</a>
              <a href="subject.html#27700">[ subject ]</a>
              <a href="author.html#27700">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
