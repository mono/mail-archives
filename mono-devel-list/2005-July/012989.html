<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] sharing generic instantitions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20sharing%20generic%20instantitions&In-Reply-To=b323bb980507020550734b07c2%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012987.html">
   <LINK REL="Next"  HREF="012991.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] sharing generic instantitions</H1>
    <B>Martin Baulig</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20sharing%20generic%20instantitions&In-Reply-To=b323bb980507020550734b07c2%40mail.gmail.com"
       TITLE="[Mono-devel-list] sharing generic instantitions">martin at ximian.com
       </A><BR>
    <I>Sat Jul  2 11:03:45 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012987.html">[Mono-devel-list] sharing generic instantitions
</A></li>
        <LI>Next message: <A HREF="012991.html">[Mono-devel-list] Operating System in C# Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12989">[ date ]</a>
              <a href="thread.html#12989">[ thread ]</a>
              <a href="subject.html#12989">[ subject ]</a>
              <a href="author.html#12989">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I know about that - it's one big outstanding task regarding generics.
This'll be implemented in Mono at some point - but since it's very
difficult and time intensive, I can't say for sure how long that'll
take.

It's just just about sharing code, we're currently also using several
expensive operations in the runtime which have to be optimized away.

My original plan regarding shared code was doing this in small pieces,
but so far I was just too busy to start with it at all.  However, now
that GMCS is getting more and more bug-free, I think I can start having
a look at some of these runtime optimizations - they're also required
for implementing shared code later on.

Martin

On Sat, 2005-07-02 at 14:50 +0200, Michal Moskal wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> As far as I know the MS implementation of generics uses sharing of
</I>&gt;<i> code in certain situations. For example if we have a method foo&lt;T&gt;()
</I>&gt;<i> the code for foo&lt;object&gt;() and foo&lt;string&gt;() will be shared. However
</I>&gt;<i> the code for foo&lt;int&gt;() and foo&lt;double&gt;() will probably not be shared,
</I>&gt;<i> because the sizes of int and double are different.
</I>&gt;<i> 
</I>&gt;<i> There is a problem, when you use the type parameter, for instance
</I>&gt;<i> foo&lt;T&gt; () { ... new Hashtable &lt;T,int&gt; () ... }. You need to know its
</I>&gt;<i> value, so it has to be actually passed, just like a regular parameter.
</I>&gt;<i> 
</I>&gt;<i> This is explained in more detail here:
</I>&gt;<i> 
</I>&gt;<i>   <A HREF="http://blogs.msdn.com/joelpob/archive/2004/11/17/259224.aspx">http://blogs.msdn.com/joelpob/archive/2004/11/17/259224.aspx</A>
</I>&gt;<i> 
</I>&gt;<i> Is this feature planned in Mono?
</I>&gt;<i> 
</I>&gt;<i> This is mostly a performance issue. I don't know how bad could be the
</I>&gt;<i> impact of lack of this feature, because of:
</I>&gt;<i> 
</I>&gt;<i>   <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=75444">http://bugzilla.ximian.com/show_bug.cgi?id=75444</A>
</I>&gt;<i> 
</I>&gt;<i> but as far as I can see in the Nemerle compiler, using highly generic code
</I>&gt;<i> the amount of generated code is 3x as big as with version using boxing
</I>&gt;<i> everything to object.
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i>    Michal Moskal,
</I>&gt;<i>    <A HREF="http://nemerle.org/~malekith/">http://nemerle.org/~malekith/</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012987.html">[Mono-devel-list] sharing generic instantitions
</A></li>
	<LI>Next message: <A HREF="012991.html">[Mono-devel-list] Operating System in C# Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12989">[ date ]</a>
              <a href="thread.html#12989">[ thread ]</a>
              <a href="subject.html#12989">[ subject ]</a>
              <a href="author.html#12989">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
