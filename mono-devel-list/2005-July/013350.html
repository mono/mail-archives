<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] System.Web.HttpContext - small fix
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Web.HttpContext%20-%20small%20fix&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013353.html">
   <LINK REL="Next"  HREF="013354.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] System.Web.HttpContext - small fix</H1>
    <B>Mike Morano</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Web.HttpContext%20-%20small%20fix&In-Reply-To="
       TITLE="[Mono-devel-list] System.Web.HttpContext - small fix">mmorano at mikeandwan.us
       </A><BR>
    <I>Sat Jul 23 09:37:02 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013353.html">[Mono-devel-list] Unable to build mono-tools
</A></li>
        <LI>Next message: <A HREF="013354.html">[Mono-devel-list] gtk ComboBox questions...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13350">[ date ]</a>
              <a href="thread.html#13350">[ thread ]</a>
              <a href="subject.html#13350">[ subject ]</a>
              <a href="author.html#13350">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

When using RemoteOnly for the custom error mode, the current behavior is
backwards (local request would get the default error page, and remote
requests would get the stack trace).  The patch just changes the last
conditional from == to !=.


Here is the patch to address this:


Index: HttpContext.cs
===================================================================
--- HttpContext.cs      (revision 47587)
+++ HttpContext.cs      (working copy)
@@ -211,7 +211,7 @@
                                        return true;

                                return (mode ==
CustomErrorMode.RemoteOnly &amp;&amp;
-                                       _oRequest.ServerVariables
[&quot;LOCAL_ADDR&quot;] == _oRequest.UserHostAddress);
+                                       _oRequest.ServerVariables
[&quot;LOCAL_ADDR&quot;] != _oRequest.UserHostAddress);
                        }
                }


Thanks,
Mike


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013353.html">[Mono-devel-list] Unable to build mono-tools
</A></li>
	<LI>Next message: <A HREF="013354.html">[Mono-devel-list] gtk ComboBox questions...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13350">[ date ]</a>
              <a href="thread.html#13350">[ thread ]</a>
              <a href="subject.html#13350">[ subject ]</a>
              <a href="author.html#13350">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
