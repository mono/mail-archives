<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] Detach console when executing	IMAGE_SUBSYSTEM_WINDOWS_GUI on win32
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Detach%20console%20when%20executing%0A%09IMAGE_SUBSYSTEM_WINDOWS_GUI%20on%20win32&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013259.html">
   <LINK REL="Next"  HREF="013264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] Detach console when executing	IMAGE_SUBSYSTEM_WINDOWS_GUI on win32</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Detach%20console%20when%20executing%0A%09IMAGE_SUBSYSTEM_WINDOWS_GUI%20on%20win32&In-Reply-To="
       TITLE="[Mono-devel-list] [PATCH] Detach console when executing	IMAGE_SUBSYSTEM_WINDOWS_GUI on win32">kornelpal at hotmail.com
       </A><BR>
    <I>Wed Jul 20 13:47:41 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013259.html">[Mono-devel-list] [PATCH] Detach console when executing	IMAGE_SUBSYSTEM_WINDOWS_GUI on win32
</A></li>
        <LI>Next message: <A HREF="013264.html">[Mono-devel-list] [GMCS] [PATCH] helper_compile_generic_method and	poor performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13261">[ date ]</a>
              <a href="thread.html#13261">[ thread ]</a>
              <a href="subject.html#13261">[ subject ]</a>
              <a href="author.html#13261">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> The only proper solution could be to use two separate mono.exe files. One
</I>&gt;&gt;<i> for CUI and one for GUI. But this is too complicated and Windows is not
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> primary platform for Mono so I think detaching the console for GUI
</I>&gt;&gt;<i> applications is the best solution.
</I>&gt;<i>
</I>&gt;<i> This patch looks good to me to go into SVN, please commit.
</I>&gt;<i>
</I>&gt;<i> Am wondering how we can remove the batch file wrappers from our Windows
</I>&gt;<i> installation, thats something that I think we should fix.
</I>
I committed as revision 47477.

Removing batch files could be good because currently the console is
preserved because of batch files. And when executing Mono programmatically
it's better to have a handle to the real mono process.

cmd.exe for example waits for the executable to exit even if it releases the
console when it is a CUI application.

Note that using Mono without batch files will not make the console window
&quot;flickering&quot; disappar because this would require a mono.exe marked with
IMAGE_SUBSYSTEM_WINDOWS_GUI that could not be used for console applications.
So if we want to get rid of flickering we have to have to mono executable
files for example mono.exe (graphical) and a mono.com (console) like Visual
Studio .NET does. But we could not call mono.exe from mono.com because Mono
has to provide full console functionality like colors and cursor moving that
cannot be done without a console attached. So we should have two different
executables that could share a dll for example and we would call a single
entry function from two stubs (these executables don't have to contain other
than an entry point that calls a single function in the dll).

I don't know whether it is worth to have two executables.

Korn&#233;l


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013259.html">[Mono-devel-list] [PATCH] Detach console when executing	IMAGE_SUBSYSTEM_WINDOWS_GUI on win32
</A></li>
	<LI>Next message: <A HREF="013264.html">[Mono-devel-list] [GMCS] [PATCH] helper_compile_generic_method and	poor performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13261">[ date ]</a>
              <a href="thread.html#13261">[ thread ]</a>
              <a href="subject.html#13261">[ subject ]</a>
              <a href="author.html#13261">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
