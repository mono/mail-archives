<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Development of OpenSSL Wrapper for use with	MONO [as well as MS.Net]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Development%20of%20OpenSSL%20Wrapper%20for%20use%20with%0A%09MONO%20%5Bas%20well%20as%20MS.Net%5D&In-Reply-To=42ED603B.5010205%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013604.html">
   <LINK REL="Next"  HREF="013605.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Development of OpenSSL Wrapper for use with	MONO [as well as MS.Net]</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Development%20of%20OpenSSL%20Wrapper%20for%20use%20with%0A%09MONO%20%5Bas%20well%20as%20MS.Net%5D&In-Reply-To=42ED603B.5010205%40gmail.com"
       TITLE="[Mono-devel-list] Development of OpenSSL Wrapper for use with	MONO [as well as MS.Net]">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Sun Jul 31 20:13:10 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013604.html">[Mono-devel-list] Development of OpenSSL Wrapper for use with	MONO [as well as MS.Net]
</A></li>
        <LI>Next message: <A HREF="013605.html">[Mono-devel-list] MS-SQL Stored Procedure Return Value Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13606">[ date ]</a>
              <a href="thread.html#13606">[ thread ]</a>
              <a href="subject.html#13606">[ subject ]</a>
              <a href="author.html#13606">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Thomas,

On Sun, 2005-31-07 at 19:35 -0400, Thomas Harning Jr. wrote:
&gt;<i> Thomas Harning Jr. wrote:
</I>&gt;<i> &gt; I've begin developing a wrapper around OpenSSL and have successfully
</I>&gt;<i> &gt; wrapped the Hashing functionality with little trouble.
</I>&gt;<i> ...
</I>&gt;<i> Another item that I discovered as I was using the existing Crypto
</I>&gt;<i> framework to model after was the custom Feedback length.  I see
</I>&gt;<i> nothing in OpenSSL to model this, so I'm not quite sure how to
</I>&gt;<i> implement it.
</I>&gt;<i> Any ideas to fix this would be great!
</I>
I'll be glad to help, however I'm on vacations right now (and next week)
and, much of the time, without net access.

&gt;<i> Also it came to mind that the ICryptoTransform interface is somewhat
</I>&gt;<i> inconsistent.
</I>&gt;<i> The &quot;TransformBlock&quot; method uses an output buffer and the finishing
</I>&gt;<i> Transform doesn't, it returns a new buffer.
</I>
There's a good reason for this. The last block must deal with padding
issues. Padding may result in an extra block which wouldn't be part of
the original buffer allocation.

&gt;<i>   Since I generally
</I>&gt;<i> prefer working with buffers and avoiding unnecessary allocations, I
</I>&gt;<i> will probably setup a function that transforms the last block and
</I>&gt;<i> dumps it into an output buffer (but of course sticking with the
</I>&gt;<i> interface and offering that last method).
</I>
The _easiest_ way to get 100% functionality (from a Fx point of view)
out of a native library (which is the only safe way it can replace the
managed implementations) would be to re-use the SymmetricTransform class
(internal in corlib, public in Mono.Security.dll).

That way you'll get all the required cipher and padding modes (and that
includes the feedback issue you have) without any pain. The only thing
to implement would be the basic ECB mode for each native algorithm.

This approach won't result in optimal performances, (mostly) not because
of the SymmetricTransform (managed) code but due to the many calls from
managed-to-unmanaged code (one for each block). But this is something
that could be fixed/enhanced later. Anyway even if you want to get
everything from OpenSSL, using the SymmetricTransform class would still
be a good development step to test your wrapper code.

Sebastien


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013604.html">[Mono-devel-list] Development of OpenSSL Wrapper for use with	MONO [as well as MS.Net]
</A></li>
	<LI>Next message: <A HREF="013605.html">[Mono-devel-list] MS-SQL Stored Procedure Return Value Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13606">[ date ]</a>
              <a href="thread.html#13606">[ thread ]</a>
              <a href="subject.html#13606">[ subject ]</a>
              <a href="author.html#13606">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
