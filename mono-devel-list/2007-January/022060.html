<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Possible security issue with Mono's dllmaps in	etc/config
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Possible%20security%20issue%20with%20Mono%27s%20dllmaps%20in%0A%09etc/config&In-Reply-To=20070108121728.59e8eacf%40beowulf">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022058.html">
   <LINK REL="Next"  HREF="022062.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Possible security issue with Mono's dllmaps in	etc/config</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Possible%20security%20issue%20with%20Mono%27s%20dllmaps%20in%0A%09etc/config&In-Reply-To=20070108121728.59e8eacf%40beowulf"
       TITLE="[Mono-dev] Possible security issue with Mono's dllmaps in	etc/config">lupus at ximian.com
       </A><BR>
    <I>Mon Jan  8 10:48:25 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022058.html">[Mono-dev] Possible security issue with Mono's dllmaps	in	etc/config
</A></li>
        <LI>Next message: <A HREF="022062.html">[Mono-dev] Possible security issue with Mono's dllmaps in	etc/config
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22060">[ date ]</a>
              <a href="thread.html#22060">[ thread ]</a>
              <a href="subject.html#22060">[ subject ]</a>
              <a href="author.html#22060">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/08/07 Marek Habersack wrote:
&gt;<i> &lt;dllmap dll=&quot;libxslt.dll&quot; target=&quot;libxslt.so&quot; os=&quot;!windows&quot;/&gt;
</I>&gt;<i> &lt;dllmap dll=&quot;libmySQL.dll&quot; target=&quot;libmysqlclient.so&quot; os=&quot;!windows&quot; /&gt;
</I>&gt;<i> &lt;dllmap dll=&quot;odbc32.dll&quot; target=&quot;libodbc.so&quot; os=&quot;!windows&quot;/&gt;
</I>&gt;<i> 
</I>&gt;<i> we may encounter two issues. First (not security related, just usage
</I>&gt;<i> annoyance) is that on some Linux distributions the lib*.so file won't
</I>&gt;<i> exist unless there are devel packages installed for the library in
</I>&gt;<i> question. So unless the mono library mapper automatically appends the
</I>
The people that implemented the dllimport methods that use the above
libraries should fix the config dllmap entries to use the proper valid
soname of the ABI they programmed against. Or they should make sure
to deal with any needed ABI change and check in the code. There is no
need to change anything in the runtime code to fix this, just get the
lazy people to specify the soname/ABI they used.

In the future we'll allow listing multiple targets so if the dllimport
code can handle multiple versions, the dllmap code will try all the
possible targets until one loads:

	&lt;dllmap dll=&quot;libmySQL.dll&quot; target=&quot;libmysqlclient.so.10&quot; os=&quot;!windows&quot; /&gt;
	&lt;dllmap dll=&quot;libmySQL.dll&quot; target=&quot;libmysqlclient.so.12&quot; os=&quot;!windows&quot; /&gt;

with later entries overriding earlier ones as it is now.
There won't be any support for soname specifications as you suggested,
becaue it's not portable, ordered or reliable.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022058.html">[Mono-dev] Possible security issue with Mono's dllmaps	in	etc/config
</A></li>
	<LI>Next message: <A HREF="022062.html">[Mono-dev] Possible security issue with Mono's dllmaps in	etc/config
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22060">[ date ]</a>
              <a href="thread.html#22060">[ thread ]</a>
              <a href="subject.html#22060">[ subject ]</a>
              <a href="author.html#22060">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
