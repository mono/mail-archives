<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] A question on Mono and -Bsymbolic
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20A%20question%20on%20Mono%20and%20-Bsymbolic&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022270.html">
   <LINK REL="Next"  HREF="022293.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] A question on Mono and -Bsymbolic</H1>
    <B>H. J. Lu</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20A%20question%20on%20Mono%20and%20-Bsymbolic&In-Reply-To="
       TITLE="[Mono-dev] A question on Mono and -Bsymbolic">hjl at lucon.org
       </A><BR>
    <I>Fri Jan 26 10:54:54 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022270.html">[Mono-dev] Got the subject mixed up,	should've been mono-debug not mono-develop
</A></li>
        <LI>Next message: <A HREF="022293.html">[Mono-dev] A question on Mono and -Bsymbolic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22271">[ date ]</a>
              <a href="thread.html#22271">[ thread ]</a>
              <a href="subject.html#22271">[ subject ]</a>
              <a href="author.html#22271">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am working on improving performance of applications linked with
shared libraries on Linux. By default, when a global function in a
DSO is called internally, it has to go through PLT even if it is
defined within the same DSO. Its impacts are

1. Longer startup time due to PLT relocation.
2. Run time indirection overhead due to extra PLT jump.

My optimization is to remove those extra PLT relocations and jumps
at link-time.  People reported:

---
The performance improvements are quiet impressive. We tried on the Greenphone,
a phone sold by Trolltech running Qtopia. 
For instance, the phone boots 2 seconds faster and the mail client starts 1
second faster as well, thanks to the number of relocations which decreased
significantly, as expected.
To give you an idea of the benefit, you can find some benchmark results as
attachment.
Thanks again for your patch!
---

There are some performance numbers at

<A HREF="http://sourceware.org/bugzilla/show_bug.cgi?id=3831#c13">http://sourceware.org/bugzilla/show_bug.cgi?id=3831#c13</A>

One side effect is you can no longer override global functions in a
shared libraries. Does it work with Mono shared libraries? If not,
is there a list of Mono functions which have to be overridable by
another shared library or user?

Thanks.


H.J.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022270.html">[Mono-dev] Got the subject mixed up,	should've been mono-debug not mono-develop
</A></li>
	<LI>Next message: <A HREF="022293.html">[Mono-dev] A question on Mono and -Bsymbolic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22271">[ date ]</a>
              <a href="thread.html#22271">[ thread ]</a>
              <a href="subject.html#22271">[ subject ]</a>
              <a href="author.html#22271">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
