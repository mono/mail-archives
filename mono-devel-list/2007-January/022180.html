<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [Mono-list] serial port problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BMono-list%5D%20serial%20port%20problem&In-Reply-To=45AD0221.5080205%40globtel.si">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022182.html">
   <LINK REL="Next"  HREF="022181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [Mono-list] serial port problem</H1>
    <B>Victor Rocha</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BMono-list%5D%20serial%20port%20problem&In-Reply-To=45AD0221.5080205%40globtel.si"
       TITLE="[Mono-dev] [Mono-list] serial port problem">rocha.pusch at gmail.com
       </A><BR>
    <I>Thu Jan 18 14:37:35 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022182.html">[Mono-dev] System.data.oracleclient with dataset
</A></li>
        <LI>Next message: <A HREF="022181.html">[Mono-dev] [Mono-list] serial port problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22180">[ date ]</a>
              <a href="thread.html#22180">[ thread ]</a>
              <a href="subject.html#22180">[ subject ]</a>
              <a href="author.html#22180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/16/07, Mario Munda &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mario.munda at globtel.si</A>&gt; wrote:
&gt;<i> Hi.
</I>&gt;<i>
</I>&gt;<i> I have a problem receiving data on the serial port.
</I>&gt;<i>
</I>&gt;<i> My gmcs version is:
</I>&gt;<i>
</I>&gt;<i> bash2-2.05b# mono -V
</I>&gt;<i> Mono JIT compiler version 1.2.20061229, (C) 2002-2006 Novell, Inc and
</I>&gt;<i> Contributors. www.mono-project.com
</I>&gt;<i>         TLS:           normal
</I>&gt;<i>         GC:            Included Boehm (with typed GC)
</I>&gt;<i>         SIGSEGV:       altstack
</I>&gt;<i>         Disabled:      none
</I>&gt;<i>
</I>&gt;<i> It was installed as a package on the FreeBSD system.
</I>&gt;<i>
</I>&gt;<i> I can send data over the serial port normaly, but i can't receive any!
</I>&gt;<i>
</I>&gt;<i> Any ideas?
</I>&gt;<i>
</I>

Hello Mario

I'm with some problems in serial port too.

First, I can succesfully read a text string, when I &quot;loopback&quot; a
serial cable, connecting pins 2 and 3.... I send the string and can
read it immediatly, it worked fine for me in Linux (running mono as
root, my mono version is 1.2.2). The code I used is the same found in
<A HREF="http://www.mono-project.com/HowToSystemIOPorts">http://www.mono-project.com/HowToSystemIOPorts</A>

But I cannot succeed in another mono application, where I try to
communicate to an external device using modbus (binary protocol). The
device correctly understands my query, and I know it responds (because
a &quot;TX&quot; led blinks in the device), but mono can't get any data from the
port. Depending on mono version, and whether I'm root or not, I can
get two types of error... sometimes a &quot;timeout&quot; exception is raised,
and sometimes i get a byte with a &quot;255&quot; value.

I tryed other (non-mono) applications to communicate to the same
external device, and they work ok in Linux, and also in Windows.

I'm still debugging, but maybe there is something with DTR signals,
etc., or maybe a bug with binary communications.

i'll keep trying and will post if I find a solution....

if anyone got binary communications working OK, please inform what was
the os distributon/ monon version used...eventually i could change my
system set-up, if that fixed the problem....

thanks, Victor

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022182.html">[Mono-dev] System.data.oracleclient with dataset
</A></li>
	<LI>Next message: <A HREF="022181.html">[Mono-dev] [Mono-list] serial port problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22180">[ date ]</a>
              <a href="thread.html#22180">[ thread ]</a>
              <a href="subject.html#22180">[ subject ]</a>
              <a href="author.html#22180">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
