<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Please approve commit change to	System.Web.Hosting/ApplicationHost.cs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Please%20approve%20commit%20change%20to%0A%09System.Web.Hosting/ApplicationHost.cs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022065.html">
   <LINK REL="Next"  HREF="022116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Please approve commit change to	System.Web.Hosting/ApplicationHost.cs</H1>
    <B>Adar Wesley</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Please%20approve%20commit%20change%20to%0A%09System.Web.Hosting/ApplicationHost.cs&In-Reply-To="
       TITLE="[Mono-dev] Please approve commit change to	System.Web.Hosting/ApplicationHost.cs">adarw at mainsoft.com
       </A><BR>
    <I>Tue Jan  9 11:51:48 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022065.html">[Mono-dev] BaseCompareValidatorTest - fix
</A></li>
        <LI>Next message: <A HREF="022116.html">[Mono-dev] Please approve commit change to	System.Web.Hosting/ApplicationHost.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22066">[ date ]</a>
              <a href="thread.html#22066">[ thread ]</a>
              <a href="subject.html#22066">[ subject ]</a>
              <a href="author.html#22066">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

 

I would like to commit a change to ApplicationHost.  The suggested diff
follows:

 

svn diff System.Web.Hosting/ApplicationHost.cs

Index: System.Web.Hosting/ApplicationHost.cs

===================================================================

--- System.Web.Hosting/ApplicationHost.cs       (revision 70723)

+++ System.Web.Hosting/ApplicationHost.cs       (working copy)

@@ -81,12 +81,9 @@

                        if (physicalDir == null)

                                throw new NullReferenceException ();

 

-#if NET_2_0

+                       // Make sure physicalDir has file system
semantics

+                       // and not uri semantics ( '\' and not '/' ).

                        physicalDir = Path.GetFullPath (physicalDir);

-#endif

-                       // This might throw

-                       Uri u = new Uri (physicalDir);

-                       physicalDir = HttpUtility.UrlDecode
(u.AbsolutePath);

 

 

The reasoning is that physicalDir should have file system semantics and

not URI semantics.  The Path.GetFullPath() API fixes all the slashes to
be

correct for the OS.

 

This is true both for version 1.1 and 2.0.

 

Thanks,

 

Adar Wesley

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070109/c56b08bc/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070109/c56b08bc/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022065.html">[Mono-dev] BaseCompareValidatorTest - fix
</A></li>
	<LI>Next message: <A HREF="022116.html">[Mono-dev] Please approve commit change to	System.Web.Hosting/ApplicationHost.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22066">[ date ]</a>
              <a href="thread.html#22066">[ thread ]</a>
              <a href="subject.html#22066">[ subject ]</a>
              <a href="author.html#22066">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
