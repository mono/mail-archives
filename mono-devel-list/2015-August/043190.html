<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Building from the command line with mdtool or xbuild
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Building%20from%20the%20command%20line%20with%20mdtool%20or%20xbuild&In-Reply-To=%3CD1F7BE37.1A6AE%25martin.potter%40faithlife.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043191.html">
   <LINK REL="Next"  HREF="043192.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Building from the command line with mdtool or xbuild</H1>
    <B>Martin Potter</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Building%20from%20the%20command%20line%20with%20mdtool%20or%20xbuild&In-Reply-To=%3CD1F7BE37.1A6AE%25martin.potter%40faithlife.com%3E"
       TITLE="[Mono-dev] Building from the command line with mdtool or xbuild">Martin.Potter at faithlife.com
       </A><BR>
    <I>Mon Aug 17 23:37:13 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="043191.html">[Mono-dev] bug #28777 (Mono-devel-list Digest, Vol 124, Issue 15)
</A></li>
        <LI>Next message: <A HREF="043192.html">[Mono-dev] Invoking .net interface method from c api
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43190">[ date ]</a>
              <a href="thread.html#43190">[ thread ]</a>
              <a href="subject.html#43190">[ subject ]</a>
              <a href="author.html#43190">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am  trying to upgrade to a more recent version of Mono and am running into issues when building from the command line. I have been using Xamarin Studio's (MonoDevelop) mdtool until this point, but since the 4.0 release of Mono it now throws an error:

FATAL ERROR [2015-08-17 10:14:27Z]: System.NullReferenceException: Object reference not set to an instance of an object

Server stack trace:
  at System.Globalization.DateTimeFormatInfo.InitializeOverridableProperties (System.Globalization.CultureData cultureData, Int32 calendarID) &lt;0x106bf44d0 + 0x000ff&gt; in &lt;filename unknown&gt;:0
  at System.Globalization.DateTimeFormatInfo.OnDeserialized (StreamingContext ctx) &lt;0x106bf46c0 + 0x00122&gt; in &lt;filename unknown&gt;:0
  at System.Runtime.Serialization.ObjectManager.RaiseDeserializationEvent () &lt;0x106c967c0 + 0x00045&gt; in &lt;filename unknown&gt;:0
  at System.Runtime.Serialization.Formatters.Binary.ObjectReader.Deserialize (System.Runtime.Remoting.Messaging.HeaderHandler handler, System.Runtime.Serialization.Formatters.Binary.__BinaryParser serParser, Boolean fCheck, Boolean isCrossAppDomain, IMethodCallMessage methodCallMessage) &lt;0x106c82160 + 0x002f5&gt; in &lt;filename unknown&gt;:0
  at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize (System.IO.Stream serializationStream, System.Runtime.Remoting.Messaging.HeaderHandler handler, Boolean fCheck, Boolean isCrossAppDomain, IMethodCallMessage methodCallMessage) &lt;0x106c7c5a0 + 0x00165&gt; in &lt;filename unknown&gt;:0
  at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize (System.IO.Stream serializationStream, System.Runtime.Remoting.Messaging.HeaderHandler handler, Boolean fCheck, IMethodCallMessage methodCallMessage) &lt;0x106c7c560 + 0x0002d&gt; in &lt;filename unknown&gt;:0
  at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize (System.IO.Stream serializationStream, System.Runtime.Remoting.Messaging.HeaderHandler handler, Boolean fCheck) &lt;0x106c7c480 + 0x00023&gt; in &lt;filename unknown&gt;:0
  at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize (System.IO.Stream serializationStream, System.Runtime.Remoting.Messaging.HeaderHandler handler) &lt;0x106c7c4b0 + 0x0001b&gt; in &lt;filename unknown&gt;:0
  at System.Runtime.Remoting.Channels.BinaryServerFormatterSink.ProcessMessage (IServerChannelSinkStack sinkStack, IMessage requestMsg, ITransportHeaders requestHeaders, System.IO.Stream requestStream, IMessage&amp; responseMsg, ITransportHeaders&amp; responseHeaders, System.IO.Stream&amp; responseStream) &lt;0x109371670 + 0x0046c&gt; in &lt;filename unknown&gt;:0

Exception rethrown at [0]:

  at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke (System.Runtime.Remoting.Proxies.RealProxy rp, IMessage msg, System.Exception&amp; exc, System.Object[]&amp; out_args) [0x001e9] in /private/tmp/source-mono-mac-3.12.99-branch-32/bockbuild-mono-3.12.0-branch/profiles/mono-mac-xamarin/build-root/mono-3.12.1/mcs/class/corlib/System.Runtime.Remoting.Proxies/RealProxy.cs:249


Since xbuild is supposed to be the newer way to compile from the command line, I tried to compile using that instead. While the solution compiles, there seems to be a bug in how xbuild evaluates conditions for some items of referenced projects which results in some files from the build output not being copied. I have filed a bug for that <A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=33082">https://bugzilla.xamarin.com/show_bug.cgi?id=33082</A> but would appreciate any insight as to where to even start looking.

- Martin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20150817/71ed79ca/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20150817/71ed79ca/attachment.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043191.html">[Mono-dev] bug #28777 (Mono-devel-list Digest, Vol 124, Issue 15)
</A></li>
	<LI>Next message: <A HREF="043192.html">[Mono-dev] Invoking .net interface method from c api
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43190">[ date ]</a>
              <a href="thread.html#43190">[ thread ]</a>
              <a href="subject.html#43190">[ subject ]</a>
              <a href="author.html#43190">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
