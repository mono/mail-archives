<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Problem with Console.In.Peek() [hungs]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problem%20with%20Console.In.Peek%28%29%20%5Bhungs%5D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018471.html">
   <LINK REL="Next"  HREF="018485.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Problem with Console.In.Peek() [hungs]</H1>
    <B>Manfred Braun</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problem%20with%20Console.In.Peek%28%29%20%5Bhungs%5D&In-Reply-To="
       TITLE="[Mono-dev] Problem with Console.In.Peek() [hungs]">manfred.braun at manfbraun.de
       </A><BR>
    <I>Fri May  5 18:59:57 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018471.html">[Mono-dev] How to get Mono running on NetBSD 3.x
</A></li>
        <LI>Next message: <A HREF="018485.html">[Mono-dev] Problem with Console.In.Peek() [hungs]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18479">[ date ]</a>
              <a href="thread.html#18479">[ thread ]</a>
              <a href="subject.html#18479">[ subject ]</a>
              <a href="author.html#18479">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All!

I am new on the road to make some things on my Unix box [which is NetBSD 3.0/i386] and I started using some simple console programs. My problem is, that the method &quot;Console.In.Peek()&quot; hungs, if no input stream is provided and I just execute the application. If I pipe over like &quot;echo 'a' | mono ct.exe&quot;
everything is like expected, even, if I provide an empty file. The simple proggi is at the end.

I think there are several different problems ;-)
It looks like the code is relatively strong copied over from MS/.Net, which has the same bug [I am just requiring support from them]. The background is also complicated:MS has another concept for consoles like unix. So no wonder, that MS has the Console.In/Out implemented as TextReader and not as some stream [which would have a property like &quot;EndOfStream&quot;] and there is no way to make a connection between that, what the console is and a device, like the keyboard and or the screen/terminal. MS has also not implemented the events which are associates with real Win32 programs [for &lt;ctrl-C&gt; for example]. The console class is not properly isolated from the underlying OS. Does Mono implement the usual signals for processes so far?

Would be great to hear some informations about this.

Thanks and
best regards,
Manfred


=== +++ codesnippet +++ ===
//ct.cs (ConsoleTest)

using System;

namespace buggy
{
        public class CT
        {
                public static void Main()
                {
                        Console.Error.WriteLine(&quot;Test.&quot;);
                        Console.Error.WriteLine(&quot;?{0}&quot;, Console.In.Peek());
                }
        }
}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018471.html">[Mono-dev] How to get Mono running on NetBSD 3.x
</A></li>
	<LI>Next message: <A HREF="018485.html">[Mono-dev] Problem with Console.In.Peek() [hungs]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18479">[ date ]</a>
              <a href="thread.html#18479">[ thread ]</a>
              <a href="subject.html#18479">[ subject ]</a>
              <a href="author.html#18479">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
