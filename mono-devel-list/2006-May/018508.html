<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [ASP.NET] HttpRequest question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BASP.NET%5D%20HttpRequest%20question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018509.html">
   <LINK REL="Next"  HREF="018510.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [ASP.NET] HttpRequest question</H1>
    <B>Marek Habersack</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BASP.NET%5D%20HttpRequest%20question&In-Reply-To="
       TITLE="[Mono-dev] [ASP.NET] HttpRequest question">grendel at caudium.net
       </A><BR>
    <I>Sun May  7 19:25:38 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018509.html">[Mono-dev] Using Ilasm parser on other applications
</A></li>
        <LI>Next message: <A HREF="018510.html">[Mono-dev] [Fwd: [Mono-patches] r60310 - trunk/mono/mono/metadata]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18508">[ date ]</a>
              <a href="thread.html#18508">[ thread ]</a>
              <a href="subject.html#18508">[ subject ]</a>
              <a href="author.html#18508">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello everybody,

  There's some code in HttpRequest's MapPath (starting at
HttpRequest.cs:1170) that I can't dig the logic of. Given a site with the
following sample structure:

 /
 /web.config
 /login.aspx
 /Global.aspx
 /Global.aspx.cs
 /bin/
 /admin/
 /admin/web.config
 /admin/default.aspx
 /admin/default.aspx.cs
 /student/
 /student/web.config
 /student/default.aspx
 /student/default.aspx.cs

where the toplevel web.config contains authentication configuration and the
web.configs in subdirs contain authorization setup for the dirs. 

When the app is started and the user navigates to yourhost.com/admin/ or
yourhost.com/student/, the first exception in the above code block is
thrown. Here's what MapPath sees just before throwing the exception:

virtualPath == /Global.asax.cs; RootVirtualDir == /admin

So, I don't understand why RootVirtualDir is set to /admin instead of /,
which is the actual application root. The request is definitely not crossing
app boundaries, so either the code block is wrong, or RootVirtualDir has an
incorrect value. Could somebody, please, shed some light on it?

tia, best regards

marek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 191 bytes
Desc: Digital signature
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060508/4cc11a92/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060508/4cc11a92/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018509.html">[Mono-dev] Using Ilasm parser on other applications
</A></li>
	<LI>Next message: <A HREF="018510.html">[Mono-dev] [Fwd: [Mono-patches] r60310 - trunk/mono/mono/metadata]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18508">[ date ]</a>
              <a href="thread.html#18508">[ thread ]</a>
              <a href="subject.html#18508">[ subject ]</a>
              <a href="author.html#18508">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
