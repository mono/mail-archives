<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] JaCIL Project
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20JaCIL%20Project&In-Reply-To=Pine.GSO.4.60.0605221007470.4529%40yen">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018640.html">
   <LINK REL="Next"  HREF="018643.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] JaCIL Project</H1>
    <B>Jb Evain</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20JaCIL%20Project&In-Reply-To=Pine.GSO.4.60.0605221007470.4529%40yen"
       TITLE="[Mono-dev] JaCIL Project">mono at evain.net
       </A><BR>
    <I>Mon May 22 04:08:22 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018640.html">[Mono-dev] JaCIL Project
</A></li>
        <LI>Next message: <A HREF="018643.html">[Mono-dev] JaCIL Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18642">[ date ]</a>
              <a href="thread.html#18642">[ thread ]</a>
              <a href="subject.html#18642">[ subject ]</a>
              <a href="author.html#18642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Eyal,

Are you guys still using Cecil to read the CIL code?

Jb

Eyal Alaluf wrote:
&gt;<i> Hi, all.
</I>&gt;<i> 
</I>&gt;<i> Just regarding feasibility and practicality - there is already a product 
</I>&gt;<i> implementing
</I>&gt;<i> this idea.
</I>&gt;<i> Not coincidently, the product is implemented by my company (Mainsoft) 
</I>&gt;<i> and is called
</I>&gt;<i> Grasshopper. You can access our DevZone at &lt;<A HREF="http://dev.mainsoft.com">http://dev.mainsoft.com</A>&gt;
</I>&gt;<i> As the guy who already implemented the conversion from .Net byte code to 
</I>&gt;<i> JBC, I
</I>&gt;<i> can tell you that all the managed opcodes of .Net are implemented in our 
</I>&gt;<i> converter.
</I>&gt;<i> The product implements .Net 1.1 and We are currently working on .Net 2.0 
</I>&gt;<i> (i.e. Generics).
</I>&gt;<i> As for performance, it's not a slam dunk but we managed to get 
</I>&gt;<i> comparable performance
</I>&gt;<i> with .Net on large customer projects (ISV ASP.Net projects of &gt; 100K 
</I>&gt;<i> lines).
</I>&gt;<i> 
</I>&gt;<i> Eyal.
</I>&gt;<i> 
</I>&gt;<i> On Sun, 21 May 2006, Zac Bowling wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Date: Sun, 21 May 2006 20:03:03 -0500
</I>&gt;&gt;<i> From: Zac Bowling &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">zac at zacbowling.com</A>&gt;
</I>&gt;&gt;<i> To: Almann T. Goo &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">almann.goo at gmail.com</A>&gt;
</I>&gt;&gt;<i> Cc: Andreas Nahr &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ClassDevelopment at a-softtech.com</A>&gt;,
</I>&gt;&gt;<i>     Mono Developers &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;&gt;<i> Subject: Re: [Mono-dev] JaCIL Project
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This might be off the radar but what about translating internal 
</I>&gt;&gt;<i> members and attribute data?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ----
</I>&gt;&gt;<i> Zac Bowling &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">zac at zacbowling.com</A>&gt;
</I>&gt;&gt;<i> <A HREF="http://www.zacbowling.com/">http://www.zacbowling.com/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Almann T. Goo wrote:
</I>&gt;&gt;&gt;<i> On 5/21/06, *Andreas Nahr* &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ClassDevelopment at a-softtech.com</A> 
</I>&gt;&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ClassDevelopment at a-softtech.com</A>&gt;&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     The hard part is likely that CIL has lots of construcs that Java
</I>&gt;&gt;&gt;<i>     bytecode does not have. Just to name a few common/important ones:
</I>&gt;&gt;&gt;<i>     Generics, Pointers and Pointer arithmetic, unchecked exceptions,
</I>&gt;&gt;&gt;<i>     events, delegates, ...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Just a note, from the JVM point of view, all exceptions are 
</I>&gt;&gt;&gt;<i> unchecked. The JVM &quot;has&quot; checked exceptions in the same way that it 
</I>&gt;&gt;&gt;<i> &quot;has&quot; generics; they are represented as meta-data in the class file 
</I>&gt;&gt;&gt;<i> but actually are not used by the JVM itself.  It is only the compiler 
</I>&gt;&gt;&gt;<i> that deals with this. And a lot of exceptions in the Java are 
</I>&gt;&gt;&gt;<i> unchecked, the whole &quot;Error&quot; and &quot;RuntimeException&quot; hierarchy for 
</I>&gt;&gt;&gt;<i> instance.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     How are you planning to solve that problem?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The simple answer is that I'm not--at least not right now.  I am 
</I>&gt;&gt;&gt;<i> trying to keep the scope maintainable and as such have explicitly 
</I>&gt;&gt;&gt;<i> laid out what minimal set of CLI features that I am supporting in my 
</I>&gt;&gt;&gt;<i> project proposal. Now, despite bowing out of implementing such 
</I>&gt;&gt;&gt;<i> features right now, I have given such things considerable thought and 
</I>&gt;&gt;&gt;<i> I have no doubt that most of them can be implemented--it is the cost 
</I>&gt;&gt;&gt;<i> of implementation that is probably the big question.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Let me address you question a little more specifically, it is a good 
</I>&gt;&gt;&gt;<i> one.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     * Generics will be tough, I hate to cop out and type erase like
</I>&gt;&gt;&gt;<i>       Java does, but that could be one implementation option.
</I>&gt;&gt;&gt;<i>     * Regarding un-managed pointers, there are ways you can emulate
</I>&gt;&gt;&gt;<i>       this, but because of the JVM programming model, it will come at
</I>&gt;&gt;&gt;<i>       a cost.
</I>&gt;&gt;&gt;<i>           o Others have dealt with this by doing things like paging
</I>&gt;&gt;&gt;<i>             with arrays--NestedVM (IVME '04), does this for the memory
</I>&gt;&gt;&gt;<i>             model of a MIPS R2000 ISA which it emulates.
</I>&gt;&gt;&gt;<i>           o This is not in my radar yet, because I think it would be a
</I>&gt;&gt;&gt;<i>             huge win just to support the verifiable subset of CIL. 
</I>&gt;&gt;&gt;<i> Un-managed pointers are not in this subset.
</I>&gt;&gt;&gt;<i>     * Regarding managed pointers, I will likely employ a boxing
</I>&gt;&gt;&gt;<i>       technique to do this.  Managed method pointers could be handled
</I>&gt;&gt;&gt;<i>       by using reflection.
</I>&gt;&gt;&gt;<i>           o These will of course take a performance hit (especially if
</I>&gt;&gt;&gt;<i>             reflection is involved), but at least we can have it.
</I>&gt;&gt;&gt;<i>     * Delegates are classes with methods from the programming model
</I>&gt;&gt;&gt;<i>       point of view  (there are CLI rules with regard to what can be
</I>&gt;&gt;&gt;<i>       in a delegate's definition, however).
</I>&gt;&gt;&gt;<i>           o With regard to the run-time provided method
</I>&gt;&gt;&gt;<i>             implementations in a delegate, one approach could be to
</I>&gt;&gt;&gt;<i>             actually emit the implementation of the delegate methods.
</I>&gt;&gt;&gt;<i>     * Events and properties are really just meta-data &quot;sugar&quot;, there
</I>&gt;&gt;&gt;<i>       are no CIL instructions associated with them specifically and
</I>&gt;&gt;&gt;<i>       they look like methods in the programming model.
</I>&gt;&gt;&gt;<i>     * Although you didn't list these, here are a couple of other items.
</I>&gt;&gt;&gt;<i>           o I am actually very concerned with &quot;newslot&quot; methods,
</I>&gt;&gt;&gt;<i>             non-virtual instance method calls, and explicit interface
</I>&gt;&gt;&gt;<i>             method definition for near term future work.  This will
</I>&gt;&gt;&gt;<i>             undoubtedly be a pain to implement; there is a lot of
</I>&gt;&gt;&gt;<i>             opportunity to make really inefficient implementations.
</I>&gt;&gt;&gt;<i>           o Tail calls will be another really tough thing to implement
</I>&gt;&gt;&gt;<i>             since the JVM programming model does not have native
</I>&gt;&gt;&gt;<i>             support for tail recursive calls.  This is probably not a
</I>&gt;&gt;&gt;<i>             highly used CLI feature anyhow (Unless you are a Scheme
</I>&gt;&gt;&gt;<i>             compiler), so it is not really on my radar at the moment
</I>&gt;&gt;&gt;<i>             because there are much larger fish to fry before I wrestle
</I>&gt;&gt;&gt;<i>             with that.  A lot of literature on the subject--some kind
</I>&gt;&gt;&gt;<i>             of trampolining implementation may be a way to support this.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Here is a link to my proposal--it more clearly defines the scope for 
</I>&gt;&gt;&gt;<i> the first phase of this project.
</I>&gt;&gt;&gt;<i> <A HREF="http://www.cs.rit.edu/~atg2335/project/proposal.pdf">http://www.cs.rit.edu/~atg2335/project/proposal.pdf</A> 
</I>&gt;&gt;&gt;<i> &lt;<A HREF="http://www.cs.rit.edu/%7Eatg2335/project/proposal.pdf">http://www.cs.rit.edu/%7Eatg2335/project/proposal.pdf</A>&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I hate labeling a lot of these items as &quot;future work&quot;, but we have to 
</I>&gt;&gt;&gt;<i> start somewhere manageable.  Note that future work is not the same 
</I>&gt;&gt;&gt;<i> thing as &quot;never planning on implementing&quot;, so any insight on these 
</I>&gt;&gt;&gt;<i> issues are always appreciated.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Regards,
</I>&gt;&gt;&gt;<i> Almann
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -- 
</I>&gt;&gt;&gt;<i> Almann T. Goo
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">almann.goo at gmail.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">almann.goo at gmail.com</A>&gt;
</I>&gt;&gt;&gt;<i> ------------------------------------------------------------------------
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018640.html">[Mono-dev] JaCIL Project
</A></li>
	<LI>Next message: <A HREF="018643.html">[Mono-dev] JaCIL Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18642">[ date ]</a>
              <a href="thread.html#18642">[ thread ]</a>
              <a href="subject.html#18642">[ subject ]</a>
              <a href="author.html#18642">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
