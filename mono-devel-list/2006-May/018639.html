<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] JaCIL Project
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20JaCIL%20Project&In-Reply-To=7e9b97090605211010gca9104s8dc74be59e6ccf2c%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018637.html">
   <LINK REL="Next"  HREF="018640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] JaCIL Project</H1>
    <B>Zac Bowling</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20JaCIL%20Project&In-Reply-To=7e9b97090605211010gca9104s8dc74be59e6ccf2c%40mail.gmail.com"
       TITLE="[Mono-dev] JaCIL Project">zac at zacbowling.com
       </A><BR>
    <I>Sun May 21 21:03:03 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018637.html">[Mono-dev] JaCIL Project
</A></li>
        <LI>Next message: <A HREF="018640.html">[Mono-dev] JaCIL Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18639">[ date ]</a>
              <a href="thread.html#18639">[ thread ]</a>
              <a href="subject.html#18639">[ subject ]</a>
              <a href="author.html#18639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This might be off the radar but what about translating internal members 
and attribute data?

----
Zac Bowling &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">zac at zacbowling.com</A>&gt;
<A HREF="http://www.zacbowling.com/">http://www.zacbowling.com/</A>

Almann T. Goo wrote:
&gt;<i> On 5/21/06, *Andreas Nahr* &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ClassDevelopment at a-softtech.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ClassDevelopment at a-softtech.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     The hard part is likely that CIL has lots of construcs that Java
</I>&gt;<i>     bytecode does not have. Just to name a few common/important ones:
</I>&gt;<i>     Generics, Pointers and Pointer arithmetic, unchecked exceptions,
</I>&gt;<i>     events, delegates, ...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Just a note, from the JVM point of view, all exceptions are 
</I>&gt;<i> unchecked.  The JVM &quot;has&quot; checked exceptions in the same way that it 
</I>&gt;<i> &quot;has&quot; generics; they are represented as meta-data in the class file 
</I>&gt;<i> but actually are not used by the JVM itself.  It is only the compiler 
</I>&gt;<i> that deals with this.  And a lot of exceptions in the Java are 
</I>&gt;<i> unchecked, the whole &quot;Error&quot; and &quot;RuntimeException&quot; hierarchy for 
</I>&gt;<i> instance.
</I>&gt;<i>
</I>&gt;<i>     How are you planning to solve that problem?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The simple answer is that I'm not--at least not right now.  I am 
</I>&gt;<i> trying to keep the scope maintainable and as such have explicitly laid 
</I>&gt;<i> out what minimal set of CLI features that I am supporting in my 
</I>&gt;<i> project proposal.  Now, despite bowing out of implementing such 
</I>&gt;<i> features right now, I have given such things considerable thought and 
</I>&gt;<i> I have no doubt that most of them can be implemented--it is the cost 
</I>&gt;<i> of implementation that is probably the big question.
</I>&gt;<i>
</I>&gt;<i> Let me address you question a little more specifically, it is a good one.
</I>&gt;<i>
</I>&gt;<i>     * Generics will be tough, I hate to cop out and type erase like
</I>&gt;<i>       Java does, but that could be one implementation option.
</I>&gt;<i>     * Regarding un-managed pointers, there are ways you can emulate
</I>&gt;<i>       this, but because of the JVM programming model, it will come at
</I>&gt;<i>       a cost.
</I>&gt;<i>           o Others have dealt with this by doing things like paging
</I>&gt;<i>             with arrays--NestedVM (IVME '04), does this for the memory
</I>&gt;<i>             model of a MIPS R2000 ISA which it emulates.
</I>&gt;<i>           o This is not in my radar yet, because I think it would be a
</I>&gt;<i>             huge win just to support the verifiable subset of CIL. 
</I>&gt;<i>             Un-managed pointers are not in this subset.
</I>&gt;<i>     * Regarding managed pointers, I will likely employ a boxing
</I>&gt;<i>       technique to do this.  Managed method pointers could be handled
</I>&gt;<i>       by using reflection.
</I>&gt;<i>           o These will of course take a performance hit (especially if
</I>&gt;<i>             reflection is involved), but at least we can have it.
</I>&gt;<i>     * Delegates are classes with methods from the programming model
</I>&gt;<i>       point of view  (there are CLI rules with regard to what can be
</I>&gt;<i>       in a delegate's definition, however).
</I>&gt;<i>           o With regard to the run-time provided method
</I>&gt;<i>             implementations in a delegate, one approach could be to
</I>&gt;<i>             actually emit the implementation of the delegate methods.
</I>&gt;<i>     * Events and properties are really just meta-data &quot;sugar&quot;, there
</I>&gt;<i>       are no CIL instructions associated with them specifically and
</I>&gt;<i>       they look like methods in the programming model.
</I>&gt;<i>     * Although you didn't list these, here are a couple of other items.
</I>&gt;<i>           o I am actually very concerned with &quot;newslot&quot; methods,
</I>&gt;<i>             non-virtual instance method calls, and explicit interface
</I>&gt;<i>             method definition for near term future work.  This will
</I>&gt;<i>             undoubtedly be a pain to implement; there is a lot of
</I>&gt;<i>             opportunity to make really inefficient implementations.
</I>&gt;<i>           o Tail calls will be another really tough thing to implement
</I>&gt;<i>             since the JVM programming model does not have native
</I>&gt;<i>             support for tail recursive calls.  This is probably not a
</I>&gt;<i>             highly used CLI feature anyhow (Unless you are a Scheme
</I>&gt;<i>             compiler), so it is not really on my radar at the moment
</I>&gt;<i>             because there are much larger fish to fry before I wrestle
</I>&gt;<i>             with that.  A lot of literature on the subject--some kind
</I>&gt;<i>             of trampolining implementation may be a way to support this.
</I>&gt;<i>
</I>&gt;<i> Here is a link to my proposal--it more clearly defines the scope for 
</I>&gt;<i> the first phase of this project.
</I>&gt;<i> <A HREF="http://www.cs.rit.edu/~atg2335/project/proposal.pdf">http://www.cs.rit.edu/~atg2335/project/proposal.pdf</A> 
</I>&gt;<i> &lt;<A HREF="http://www.cs.rit.edu/%7Eatg2335/project/proposal.pdf">http://www.cs.rit.edu/%7Eatg2335/project/proposal.pdf</A>&gt;
</I>&gt;<i>
</I>&gt;<i> I hate labeling a lot of these items as &quot;future work&quot;, but we have to 
</I>&gt;<i> start somewhere manageable.  Note that future work is not the same 
</I>&gt;<i> thing as &quot;never planning on implementing&quot;, so any insight on these 
</I>&gt;<i> issues are always appreciated.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Almann
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Almann T. Goo
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">almann.goo at gmail.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">almann.goo at gmail.com</A>&gt;
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>   
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060521/94ad5844/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060521/94ad5844/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018637.html">[Mono-dev] JaCIL Project
</A></li>
	<LI>Next message: <A HREF="018640.html">[Mono-dev] JaCIL Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18639">[ date ]</a>
              <a href="thread.html#18639">[ thread ]</a>
              <a href="subject.html#18639">[ subject ]</a>
              <a href="author.html#18639">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
