<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono.GetOptions Option Bundles
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono.GetOptions%20Option%20Bundles&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018478.html">
   <LINK REL="Next"  HREF="018472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono.GetOptions Option Bundles</H1>
    <B>Almann T. Goo</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono.GetOptions%20Option%20Bundles&In-Reply-To="
       TITLE="[Mono-dev] Mono.GetOptions Option Bundles">almann.goo at gmail.com
       </A><BR>
    <I>Fri May  5 10:39:02 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018478.html">[Mono-dev] QProcess alternative in mono
</A></li>
        <LI>Next message: <A HREF="018472.html">[Mono-dev] Mono.GetOptions Option Bundles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18470">[ date ]</a>
              <a href="thread.html#18470">[ thread ]</a>
              <a href="subject.html#18470">[ subject ]</a>
              <a href="author.html#18470">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been using Mono.GetOptions for a compiler project of mine and it is a
great library for option parsing.  However, there is an issue that I've run
into that is slightly troublesome.  I wanted to run this issue by the
community in case I missed a workaround or a solution--documentation is a
bit sparse and the source doesn't seem to indicate a way to work around the
described issue.

Currently the option bundle is defined as a sub-class of the Options class.
For bundles that don't want the standard options, you can attribute an
overridden method that is attributed as an option with the
KillOptionAttribute attribute.  This works well for virtual methods that are
decorated as part of the option bundle, but for non-virtual members (i.e.
fields and properties) this poses a problem since you cannot override such
members.

This affects the VerboseParsingOfOptions and DebuggingOfOptions members in
particular since these are non-virtual properties and you will always have
these options regardless of what you may desire.

If there is no known work around for this, I would suggest (and may even
develop the fix for if I have time) that an OptionBundle interface be
defined.  This interface would be member-less and the existing Options class
could implement it and store it as a property (defaulting to a self
reference).  An implementation could then explicitly define its own
OptionBundle irrespective of the standard Options class which may invoke the
standard options defined.  The point would be that the application could
have better control over what options are in the bundle.  The meta-data
approach is a nice one, but the inheritance hierarchy and non-virtual
members could get in the way; this would solve that.

The OptionList class (and possibly the OptionDetails class, but I am pretty
sure it is not dependant on introspecting the option bundle) would need to
be changed to work with OptionBundle.  Furthermore, backwards compatibility
would be maintained with how Mono.GetOptions is used today since the default
value of the property in the Options class would be itself.  To use this new
feature you would probably override the InitializeOtherDefaults method to
set the property to the desired bundle implementation.

Best Regards,
Almann

--
Almann T. Goo
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">almann.goo at gmail.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060505/87b19f0d/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060505/87b19f0d/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018478.html">[Mono-dev] QProcess alternative in mono
</A></li>
	<LI>Next message: <A HREF="018472.html">[Mono-dev] Mono.GetOptions Option Bundles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18470">[ date ]</a>
              <a href="thread.html#18470">[ thread ]</a>
              <a href="subject.html#18470">[ subject ]</a>
              <a href="author.html#18470">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
