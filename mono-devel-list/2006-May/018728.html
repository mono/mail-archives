<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Make mod_mono restart mod-mono-server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Make%20mod_mono%20restart%20mod-mono-server&In-Reply-To=002901c683db%24d3d47330%240100a8c0%40kornelpal.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018727.html">
   <LINK REL="Next"  HREF="018729.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Make mod_mono restart mod-mono-server</H1>
    <B>Joshua Tauberer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Make%20mod_mono%20restart%20mod-mono-server&In-Reply-To=002901c683db%24d3d47330%240100a8c0%40kornelpal.hu"
       TITLE="[Mono-dev] [PATCH] Make mod_mono restart mod-mono-server">tauberer at for.net
       </A><BR>
    <I>Tue May 30 07:55:10 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018727.html">[Mono-dev] [PATCH] Make mod_mono restart mod-mono-server 
</A></li>
        <LI>Next message: <A HREF="018729.html">[Mono-dev] [PATCH] Make mod_mono restart mod-mono-server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18728">[ date ]</a>
              <a href="thread.html#18728">[ thread ]</a>
              <a href="subject.html#18728">[ subject ]</a>
              <a href="author.html#18728">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Korn&#233;l P&#225;l wrote:
&gt;<i> When mono crashes for example because of a missing assembly
</I>&gt;<i> mod-mono-server will not be restarted automatically that causes Service
</I>&gt;<i> Unavailable error pages.
</I>&gt;<i> 
</I>&gt;<i> The attached patch restarts mod-mono-server if the socket cannot be opened.
</I>&gt;<i> 
</I>&gt;<i> This solution may not be the best but I think there is a need for
</I>&gt;<i> something like this.
</I>
I agree.

IIRC, the reason we don't do that now is that if you have a lot of
incoming requests and mod-mono-server takes some time to start, you'll
get a lot of forked mono processes -- from each request until one
mod-mono-server gets to the point of accepting connections.

Ideally what would be good would be to have some form of flag visible
across the apache child processes to ensure that only one m-m-s gets
started when it is not running -- possibly a file with a timestamp of
the last start attempt, or something.

-- 
- Joshua Tauberer

<A HREF="http://taubz.for.net">http://taubz.for.net</A>

&quot;Unfortunately, we're having this discussion. It's too bad,
because guess who listens to the discussion: the enemy.&quot;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018727.html">[Mono-dev] [PATCH] Make mod_mono restart mod-mono-server 
</A></li>
	<LI>Next message: <A HREF="018729.html">[Mono-dev] [PATCH] Make mod_mono restart mod-mono-server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18728">[ date ]</a>
              <a href="thread.html#18728">[ thread ]</a>
              <a href="subject.html#18728">[ subject ]</a>
              <a href="author.html#18728">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
