<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] typeof(Byte[]).GetInterfacesMap
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20typeof%28Byte%5B%5D%29.GetInterfacesMap&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018439.html">
   <LINK REL="Next"  HREF="018519.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] typeof(Byte[]).GetInterfacesMap</H1>
    <B>Voigt, Benjamin</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20typeof%28Byte%5B%5D%29.GetInterfacesMap&In-Reply-To="
       TITLE="[Mono-dev] typeof(Byte[]).GetInterfacesMap">bvoigt at wylehou.com
       </A><BR>
    <I>Tue May  2 18:54:20 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018439.html">[Mono-dev] Re: [Gtk-sharp-list] Gdk.Drawable.DrawPoints
</A></li>
        <LI>Next message: <A HREF="018519.html">[Mono-dev] typeof(Byte[]).GetInterfacesMap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18499">[ date ]</a>
              <a href="thread.html#18499">[ thread ]</a>
              <a href="subject.html#18499">[ subject ]</a>
              <a href="author.html#18499">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Would someone please be so kind as to run the following unit test on Mono?  It's written against Zanebug but should be easy to run with any testing framework.

using Adapdev.UnitTest;

[TestFixture]
class GetInterfaceMap
{
    [Test]
    public static void ByteArray()
    {
        System.Type baseType = typeof(System.Byte[]);
        foreach (System.Type iface in baseType.GetInterfaces())
        {
            System.Diagnostics.Trace.WriteLine(iface.FullName);
            Assert.IsNotNull(baseType.GetInterfaceMap(iface));
        }
    }
}

If it fails on Mono, can someone explain why?  If it succeeds, I'm off to tell Microsoft their .NET 2.0 runtime isn't worth the hard disk space to hold it....

I'm asking because Microsoft fails miserably for GetInterfaces()[4/5/6] which are IList&lt;Byte&gt;, ICollection&lt;Byte&gt;, and IEnumerable&lt;Byte&gt;:

------ Test started: Assembly: RealTime.Tests.dll ------

System.ICloneable
System.Collections.IList
System.Collections.ICollection
System.Collections.IEnumerable
System.Collections.Generic.IList`1[[System.Byte, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]
TestCase 'M:GetInterfaceMap.ByteArray' failed: Interface not found.
	System.ArgumentException: Interface not found.
	at System.RuntimeTypeHandle.GetFirstSlotForInterface(IntPtr interfaceHandle)
	at System.RuntimeTypeHandle.GetFirstSlotForInterface(RuntimeTypeHandle interfaceHandle)
	at System.RuntimeType.GetInterfaceMap(Type ifaceType)
	Realtime\RealTimeTests\GetInterfaceMap.cs(13,0): at GetInterfaceMap.ByteArray()


0 passed, 1 failed, 0 skipped, took 1.39 seconds.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018439.html">[Mono-dev] Re: [Gtk-sharp-list] Gdk.Drawable.DrawPoints
</A></li>
	<LI>Next message: <A HREF="018519.html">[Mono-dev] typeof(Byte[]).GetInterfacesMap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18499">[ date ]</a>
              <a href="thread.html#18499">[ thread ]</a>
              <a href="subject.html#18499">[ subject ]</a>
              <a href="author.html#18499">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
