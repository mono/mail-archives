<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Re: new test framework works on dotnet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20new%20test%20framework%20works%20on%20dotnet&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018638.html">
   <LINK REL="Next"  HREF="018644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Re: new test framework works on dotnet</H1>
    <B>Andrew Skiba</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20new%20test%20framework%20works%20on%20dotnet&In-Reply-To="
       TITLE="[Mono-dev] Re: new test framework works on dotnet">andrews at mainsoft.com
       </A><BR>
    <I>Mon May 22 03:57:34 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018638.html">[Mono-dev] Re: Remoting Type Load Exception - After Upgradingfrom	.NET 1.1 to 2.0
</A></li>
        <LI>Next message: <A HREF="018644.html">[Mono-dev] Bugs in System.Web.WebControls.Repeater
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18641">[ date ]</a>
              <a href="thread.html#18641">[ thread ]</a>
              <a href="subject.html#18641">[ subject ]</a>
              <a href="author.html#18641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Robert.

Thank you for the response. 

Helper.Unload () should be called at least once at the end, otherwise
some files are left on the disk. But as nunit has no global tear down
callback, probably the right time to call it is in fixture tear down.

To check your suspect about the relation between Unload and the hang
problem, I surrounded the Unload with Sleep. With 100 ms sleep I was
unable to reproduce the hang on linux. But on linux even without sleep
it's much harder to reproduce the hang than on cygwin. On cygwin even 2
seconds around unload were not enough. But even 100 milli before each
test were enough to make the problem disappear on my cygwin.

Andrew.

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt; Some tests pass on Mono, but some of them need more 
</I>&gt;<i> effort. Sometimes 
</I>&gt;<i> &gt;&gt; mono vm stucks, I worked around that by adding Sleep at 
</I>&gt;<i> the beginning 
</I>&gt;<i> &gt;&gt; of each test. Some tests still fail.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Mhm, very strange.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Could you send a QUIT signal to the Mono process when it 
</I>&gt;<i> hangs?  This 
</I>&gt;<i> &gt; will help pinpoint.
</I>&gt;<i> 
</I>&gt;<i> Maybe it's the appdomain unloading issue. Is Helper.Unload() 
</I>&gt;<i> really necessary?
</I>&gt;<i> 
</I>&gt;<i> Robert
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018638.html">[Mono-dev] Re: Remoting Type Load Exception - After Upgradingfrom	.NET 1.1 to 2.0
</A></li>
	<LI>Next message: <A HREF="018644.html">[Mono-dev] Bugs in System.Web.WebControls.Repeater
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18641">[ date ]</a>
              <a href="thread.html#18641">[ thread ]</a>
              <a href="subject.html#18641">[ subject ]</a>
              <a href="author.html#18641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
