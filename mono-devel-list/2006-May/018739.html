<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Ambiguous matching in method resolution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Ambiguous%20matching%20in%20method%20resolution&In-Reply-To=0a3d01c684dc%2421e2c8a0%24c900a8c0%40beardtongue">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018738.html">
   <LINK REL="Next"  HREF="018740.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Ambiguous matching in method resolution</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Ambiguous%20matching%20in%20method%20resolution&In-Reply-To=0a3d01c684dc%2421e2c8a0%24c900a8c0%40beardtongue"
       TITLE="[Mono-dev] Ambiguous matching in method resolution">monoman at gmail.com
       </A><BR>
    <I>Wed May 31 14:49:39 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018738.html">[Mono-dev] Ambiguous matching in method resolution
</A></li>
        <LI>Next message: <A HREF="018740.html">[Mono-dev] Ambiguous matching in method resolution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18739">[ date ]</a>
              <a href="thread.html#18739">[ thread ]</a>
              <a href="subject.html#18739">[ subject ]</a>
              <a href="author.html#18739">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pablo and mscorlib hackers,

Strange as that message is only found in the AmbiguousMatchException
default constructor, that is called inside Reflection, and inside
MonoType (an internal class) inside corlib.

So that exception would be normally thrown out, and generate a stack
trace. Unless the MonoType GetConstructorImpl method (probable
culprit) is being called from unmanaged code, that doesn't properly
handle exceptions (or can't in that particular situation).

It looks like there's a logic error in that method. If you are asking
for a parameterless constructor (by passing a null for the 'types'
array parameter), if it counts more than one constructor, REGARDLESS
OF THE NUMBER OF PARAMETERS EACH CONSTRUCTOR EXPECT, that matches the
bindingflags, it will throw that exception.

I think that it should first make sure it counts only methods that
expect the same number and type of parameters, before entering that
if.

Some mscorlib hacker please take a look at that.

Pablo,

Probably you have more than one constructor with the same visibility
as the parameterless constructor in some of your classes, to cause
that exception, but as I think that is a common pattern, probably it
is combined with some other factors I can't guess without a
stacktrace, :(

Hope it helps,

On 5/31/06, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I have an application that is correctly running with .NET, but as soon as I
</I>&gt;<i> run it with mono (1.1.15) on Linux I get the following message:
</I>&gt;<i>
</I>&gt;<i> Error: Ambiguous matching in method resolution.
</I>&gt;<i>
</I>&gt;<i> I tried to recompile with mono on Linux with debug info, but I can't get any
</I>&gt;<i> more information, neither with --trace.
</I>&gt;<i>
</I>&gt;<i> What can I do to locate the problem?
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>

-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
As I'm currently working a lot with Java and even fixing Java VMs
(JamVM/Kaffe) and GNU Classpath code, I think I may partly borrow the
title (Javaman) from my friend Bruno Souza and become the
MonoNJavaMan. Yeah, I may currently be crazier than usual...

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018738.html">[Mono-dev] Ambiguous matching in method resolution
</A></li>
	<LI>Next message: <A HREF="018740.html">[Mono-dev] Ambiguous matching in method resolution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18739">[ date ]</a>
              <a href="thread.html#18739">[ thread ]</a>
              <a href="subject.html#18739">[ subject ]</a>
              <a href="author.html#18739">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
