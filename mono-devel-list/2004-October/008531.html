<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Q. about implementation of serialization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Q.%20about%20implementation%20of%20serialization&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008539.html">
   <LINK REL="Next"  HREF="008538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Q. about implementation of serialization</H1>
    <B>Lluis Sanchez</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Q.%20about%20implementation%20of%20serialization&In-Reply-To="
       TITLE="[Mono-devel-list] Q. about implementation of serialization">lluis at ximian.com
       </A><BR>
    <I>Wed Oct 27 07:42:35 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008539.html">[Mono-devel-list] patch for StringReader.Read() performance improvement
</A></li>
        <LI>Next message: <A HREF="008538.html">[Mono-devel-list] Q. about implementation of serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8531">[ date ]</a>
              <a href="thread.html#8531">[ thread ]</a>
              <a href="subject.html#8531">[ subject ]</a>
              <a href="author.html#8531">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I have a question about Serialization.
</I>&gt;<i> Serialization should trace all reachable objects (an object graph)
</I>&gt;<i> from a root-object to be serialized. To determine what to serialize
</I>&gt;<i> needs class information of reachable objects in the graph. How  does
</I>&gt;<i> it get the information? Is Serialization implemented using reflection?
</I>&gt;<i> Otherwise, MONO uses internal functions to identify the information? I
</I>&gt;<i> also wonder how it is doen in JVM?
</I>
Reflection is the only way you have to get information about the
structure of objects, so yes, it is implemented using reflection.

&gt;<i> I'm worrying that if reflection is involved for serialization, it may
</I>&gt;<i> have too much performance overhead.
</I>
It is not overhead, since you can't do it in any other way. It is
possible, however, to improve performance by reducing the use of
reflection in different ways, for example:
1) by building temporary class maps that hold the exact information you
need to serialize instances (so no need to query every time which fields
are serializable, for example)
2) by generating serialization code on the fly.

When using 1 and 2 the serialization process will be faster, but it will
take more memory. There is also a startup overhead, since you need to
build the maps or generate the code.

The binary serializer is using 1 and partially 2 (uses IL generation on
serialization, but not yet on deserialization).

The XmlSerializer is using both 1 and 2. Since code generation in this
serializer is very expensive (it generates c# code on the fly, which is
compiled with mcs), to reduce the startup time the generation is delayed
until a predefined number of serialization requests are made.

Lluis.

&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Okehee
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008539.html">[Mono-devel-list] patch for StringReader.Read() performance improvement
</A></li>
	<LI>Next message: <A HREF="008538.html">[Mono-devel-list] Q. about implementation of serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8531">[ date ]</a>
              <a href="thread.html#8531">[ thread ]</a>
              <a href="subject.html#8531">[ subject ]</a>
              <a href="author.html#8531">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
