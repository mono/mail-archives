<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] DataSetHelper Class and Mono problems?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20DataSetHelper%20Class%20and%20Mono%20problems%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008317.html">
   <LINK REL="Next"  HREF="008323.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] DataSetHelper Class and Mono problems?</H1>
    <B>Jon Benson</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20DataSetHelper%20Class%20and%20Mono%20problems%3F&In-Reply-To="
       TITLE="[Mono-devel-list] DataSetHelper Class and Mono problems?">Jon at destra.com
       </A><BR>
    <I>Thu Oct 14 23:09:00 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008317.html">[Mono-devel-list] Two IO-Layer performance ideas
</A></li>
        <LI>Next message: <A HREF="008323.html">[Mono-devel-list] DataSetHelper Class and Mono problems?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8318">[ date ]</a>
              <a href="thread.html#8318">[ thread ]</a>
              <a href="subject.html#8318">[ subject ]</a>
              <a href="author.html#8318">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi folks,

My first time on the list so I should say I'm VERY new to Mono having
recently compiled the RPMS for RedHat Enterprise Linux and I'm now
trying to get some code ported from Windows and the MS framework.

I've tried to take some code I have running on Windows using the
DataSetHelper class by Microsoft which is available here:
<A HREF="http://www.codeaddict.com/download/datasethelper.cs.zip">http://www.codeaddict.com/download/datasethelper.cs.zip</A>

However I run in to a problem with one of the functions throwing an
exception under Mono.  I've created a bit of test code to reproduce this
exception:
Unhandled Exception: System.InvalidCastException: Cannot cast from
source type to destination type.
in &lt;0x00085&gt; Test.TestClass:Add (object,object)
in &lt;0x0004e&gt; Test.TestClass:Main (string[])


I'm no expert at C# and only a beginner when it comes to Mono.  Can
anyone offer me some advice here?

Can I even achieve what I'm trying to do here under Mono?


Sample code to reproduce the exception:
using System;

namespace Test
{
   class TestClass
   {
      [STAThread]
      static void Main(string[] args)
      {
         int i1 = 34; int i2 = 8;

         int i3 = (int)((decimal)i1 + (decimal)i2);
         Console.WriteLine(i3.ToString());

         i3 = (int)(TestClass.Add(i1, i2));
         Console.WriteLine(i3.ToString());
      }

      private static object Add(object a, object b)
      {
          //Adds two values - if one is DBNull, then returns the other
          if (a is DBNull)
              return b;
          if (b is DBNull)
              return a;
          return ((decimal)a + (decimal)b);
      }
   }
}



Thanks, 
 
Jon Benson
Mail/DNS/Linux Administrator
OzHosting.com

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008317.html">[Mono-devel-list] Two IO-Layer performance ideas
</A></li>
	<LI>Next message: <A HREF="008323.html">[Mono-devel-list] DataSetHelper Class and Mono problems?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8318">[ date ]</a>
              <a href="thread.html#8318">[ thread ]</a>
              <a href="subject.html#8318">[ subject ]</a>
              <a href="author.html#8318">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
