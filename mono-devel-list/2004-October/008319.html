<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] DataSetHelper Class and Mono problems?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20DataSetHelper%20Class%20and%20Mono%20problems%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008320.html">
   <LINK REL="Next"  HREF="008327.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] DataSetHelper Class and Mono problems?</H1>
    <B>S Umadevi</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20DataSetHelper%20Class%20and%20Mono%20problems%3F&In-Reply-To="
       TITLE="[Mono-devel-list] DataSetHelper Class and Mono problems?">sUmadevi at novell.com
       </A><BR>
    <I>Thu Oct 14 23:40:54 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008320.html">[Mono-devel-list] Mono.Posix OEE CVS Integration Patches
</A></li>
        <LI>Next message: <A HREF="008327.html">[Mono-devel-list] XSP ASP.NET Linux Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8319">[ date ]</a>
              <a href="thread.html#8319">[ thread ]</a>
              <a href="subject.html#8319">[ subject ]</a>
              <a href="author.html#8319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jon,
  Welcome to Mono!
  
I checked your sample code mentioned below, the code throws exception
even on MS.NET and the line that it is throwing the exception is
 return ((decimal)a + (decimal)b);
Which is valid..

There was a problem with the clone of dataset and datatable that I have
fixed yesterday, since your code is using clone, use the latest code
from CVS to get it working.

Regards
Uma



&gt;&gt;&gt;<i> &quot;Jon Benson&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Jon at destra.com</A>&gt; 10/15/04 8:39 AM &gt;&gt;&gt;
</I>Hi folks,

My first time on the list so I should say I'm VERY new to Mono having
recently compiled the RPMS for RedHat Enterprise Linux and I'm now
trying to get some code ported from Windows and the MS framework.

I've tried to take some code I have running on Windows using the
DataSetHelper class by Microsoft which is available here:
<A HREF="http://www.codeaddict.com/download/datasethelper.cs.zip">http://www.codeaddict.com/download/datasethelper.cs.zip</A> 

However I run in to a problem with one of the functions throwing an
exception under Mono.  I've created a bit of test code to reproduce
this
exception:
Unhandled Exception: System.InvalidCastException: Cannot cast from
source type to destination type.
in &lt;0x00085&gt; Test.TestClass:Add (object,object)
in &lt;0x0004e&gt; Test.TestClass:Main (string[])


I'm no expert at C# and only a beginner when it comes to Mono.  Can
anyone offer me some advice here?

Can I even achieve what I'm trying to do here under Mono?


Sample code to reproduce the exception:
using System;

namespace Test
{
   class TestClass
   {
      [STAThread]
      static void Main(string[] args)
      {
         int i1 = 34; int i2 = 8;

         int i3 = (int)((decimal)i1 + (decimal)i2);
         Console.WriteLine(i3.ToString());

         i3 = (int)(TestClass.Add(i1, i2));
         Console.WriteLine(i3.ToString());
      }

      private static object Add(object a, object b)
      {
          //Adds two values - if one is DBNull, then returns the other
          if (a is DBNull)
              return b;
          if (b is DBNull)
              return a;
          return ((decimal)a + (decimal)b);
      }
   }
}



Thanks, 
 
Jon Benson
Mail/DNS/Linux Administrator
OzHosting.com
_______________________________________________
Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A> 
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008320.html">[Mono-devel-list] Mono.Posix OEE CVS Integration Patches
</A></li>
	<LI>Next message: <A HREF="008327.html">[Mono-devel-list] XSP ASP.NET Linux Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8319">[ date ]</a>
              <a href="thread.html#8319">[ thread ]</a>
              <a href="subject.html#8319">[ subject ]</a>
              <a href="author.html#8319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
