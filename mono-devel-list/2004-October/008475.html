<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] AMD64, PInvoke + Native Exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20AMD64%2C%20PInvoke%20%2B%20Native%20Exceptions&In-Reply-To=295e750a04102507463e7c8ae8%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008473.html">
   <LINK REL="Next"  HREF="008450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] AMD64, PInvoke + Native Exceptions</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20AMD64%2C%20PInvoke%20%2B%20Native%20Exceptions&In-Reply-To=295e750a04102507463e7c8ae8%40mail.gmail.com"
       TITLE="[Mono-devel-list] AMD64, PInvoke + Native Exceptions">lupus at ximian.com
       </A><BR>
    <I>Mon Oct 25 11:36:41 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008473.html">[Mono-devel-list] AMD64, PInvoke + Native Exceptions
</A></li>
        <LI>Next message: <A HREF="008450.html">[Mono-devel-list] Monos development path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8475">[ date ]</a>
              <a href="thread.html#8475">[ thread ]</a>
              <a href="subject.html#8475">[ subject ]</a>
              <a href="author.html#8475">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/25/04 Zoltan Varga wrote:
&gt;<i> &gt; This can't be done with the current trampoline code: it would help if you went
</I>&gt;<i> &gt; and read the code so you'd have some idea of the things you propose.
</I>[...]
&gt;<i> This is implemented on amd64 with the current code. However, I agree that it is
</I>&gt;<i> pretty hard to guarantee that the caller and callee are in the same 2GB segment.
</I>
Not in a completely useful way: it's a band-aid hack.
*) it can't handle valuetype methods
*) it has a larger memory footprint
*) once the magic trampoline runs once, the call site and vtable slots
using the trampoline won't be patched to try and go straight to the compiled 
code even if they could

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008473.html">[Mono-devel-list] AMD64, PInvoke + Native Exceptions
</A></li>
	<LI>Next message: <A HREF="008450.html">[Mono-devel-list] Monos development path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8475">[ date ]</a>
              <a href="thread.html#8475">[ thread ]</a>
              <a href="subject.html#8475">[ subject ]</a>
              <a href="author.html#8475">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
