<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Memory usage on Mono remoting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Memory%20usage%20on%20Mono%20remoting&In-Reply-To=4A5B7169.5040900%40terra.es">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032562.html">
   <LINK REL="Next"  HREF="032566.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Memory usage on Mono remoting</H1>
    <B>Gonzalo Paniagua Javier</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Memory%20usage%20on%20Mono%20remoting&In-Reply-To=4A5B7169.5040900%40terra.es"
       TITLE="[Mono-dev] Memory usage on Mono remoting">gonzalo.mono at gmail.com
       </A><BR>
    <I>Mon Jul 13 13:52:39 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032562.html">[Mono-dev] Memory usage on Mono remoting
</A></li>
        <LI>Next message: <A HREF="032566.html">[Mono-dev] Memory usage on Mono remoting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32564">[ date ]</a>
              <a href="thread.html#32564">[ thread ]</a>
              <a href="subject.html#32564">[ subject ]</a>
              <a href="author.html#32564">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2009-07-13 at 19:39 +0200, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A> wrote:
&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> On BinaryServerFormatterSink.cs, a new MemoryStream is being created to
</I>&gt;<i> attend every remoting call.
</I>&gt;<i> 
</I>&gt;<i> Under high load conditions it will make the GC work harder than
</I>&gt;<i> required, both decreasing performance and potentially causing memory
</I>&gt;<i> problems.
</I>&gt;<i> 
</I>&gt;<i> It should be replaced by some sort of MemoryStream based on preallocated
</I>&gt;<i> memory buffers.
</I>
Are you volunteering? Have you profiled the application or is this just
a guess?

&gt;<i> Maybe something like ChunkedMemoryStream in Rotor.
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.koders.com/csharp/fid0C95C784238E26C8EAC95C7A852A34A0CE9305BB.aspx?s=chunkedmemorystream">http://www.koders.com/csharp/fid0C95C784238E26C8EAC95C7A852A34A0CE9305BB.aspx?s=chunkedmemorystream</A>
</I>
If you look at that code you are not allowed to contribute to mono
anything based on what you saw.

System.Web uses unmanaged chunks of memory together with an unmanaged
memory based stream.

-Gonzalo


</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032562.html">[Mono-dev] Memory usage on Mono remoting
</A></li>
	<LI>Next message: <A HREF="032566.html">[Mono-dev] Memory usage on Mono remoting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32564">[ date ]</a>
              <a href="thread.html#32564">[ thread ]</a>
              <a href="subject.html#32564">[ subject ]</a>
              <a href="author.html#32564">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
