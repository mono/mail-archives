<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Chiron.exe on mono 2.4.2.1 crashes with	System.TypeLoadException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Chiron.exe%20on%20mono%202.4.2.1%20crashes%20with%0A%09System.TypeLoadException&In-Reply-To=37425b650907210028p1a6555afr335577e0dae04f0d%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032640.html">
   <LINK REL="Next"  HREF="032644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Chiron.exe on mono 2.4.2.1 crashes with	System.TypeLoadException</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Chiron.exe%20on%20mono%202.4.2.1%20crashes%20with%0A%09System.TypeLoadException&In-Reply-To=37425b650907210028p1a6555afr335577e0dae04f0d%40mail.gmail.com"
       TITLE="[Mono-dev] Chiron.exe on mono 2.4.2.1 crashes with	System.TypeLoadException">miguel at novell.com
       </A><BR>
    <I>Tue Jul 21 11:50:30 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032640.html">[Mono-dev] Chiron.exe on mono 2.4.2.1 crashes with	System.TypeLoadException
</A></li>
        <LI>Next message: <A HREF="032644.html">[Mono-dev] Chiron.exe on mono 2.4.2.1 crashes	with	System.TypeLoadException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32643">[ date ]</a>
              <a href="thread.html#32643">[ thread ]</a>
              <a href="subject.html#32643">[ subject ]</a>
              <a href="author.html#32643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Jimmy,

    Where can I get the Chiron setup that you are using to reproduce
this locally?

    Thomas, can you please work with Jimmy to identify this problem?
it seems like our VMware image and his setup are conflicting.    Jimmy
is about to make a presentation at OSCon, so let us support him on this.

&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at novell.com</A>&gt; wrote:
</I>&gt;<i>         Hello,
</I>&gt;<i>         
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hey Miguel!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>                 I'm working out some kinks with DLR running on Mono
</I>&gt;<i>                 and Moonlight, and I found that Chiron.exe no longer
</I>&gt;<i>                 runs against Mono. It works against 2.2, but not 2.4:
</I>&gt;<i>                 
</I>&gt;<i>                 <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">rupert at linux</A>:~/ironruby/Merlin/Main/Bin/Silverlight
</I>&gt;<i>                 Release&gt; mono Chiron.exe
</I>&gt;<i>                 
</I>&gt;<i>                 ** (Chiron.exe:18505): WARNING **: The class
</I>&gt;<i>                 System.Diagnostics.ProcessStartInfo could not be
</I>&gt;<i>                 loaded, used in System, Version=2.0.0.0,
</I>&gt;<i>                 Culture=neutral, PublicKeyToken=b77a5c561934e089
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         Those errors indicate a corrupt version of Mono on your
</I>&gt;<i>         system.   Perhaps you set MONO_PATH or MONO_GAC_PATH or the
</I>&gt;<i>         system PATH?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I'm running this from the VMware Mono image
</I>&gt;<i> from <A HREF="http://ftp.novell.com/pub/mono/appliance/2.4.2.1/Mono-2.4.2.1-vmx.zip.">http://ftp.novell.com/pub/mono/appliance/2.4.2.1/Mono-2.4.2.1-vmx.zip.</A> $MONO_PATH and $MONO_GAC_PATH are not set, and $PATH appears normal.
</I>&gt;<i>  
</I>&gt;<i>         What happens when you try to build a sample C# program like
</I>&gt;<i>         this:
</I>&gt;<i>         
</I>&gt;<i>         mcs -pkg:dotnet foo.cs
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Builds and runs fine:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">rupert at linux</A>:~&gt; cat foo.cs
</I>&gt;<i> public class Foo {
</I>&gt;<i>   public static int Main() {
</I>&gt;<i>     System.Console.WriteLine(&quot;In Foo.Main&quot;);
</I>&gt;<i>     return 0;
</I>&gt;<i>   }
</I>&gt;<i> }
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">rupert at linux</A>:~&gt; mcs -pkg:dotnet foo.cs
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">rupert at linux</A>:~&gt; mono foo.exe 
</I>&gt;<i> In Foo.Main
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>         Miguel.
</I>&gt;<i> 
</I>&gt;<i> I just built Chiron with xbuild, and the build finished successfully,
</I>&gt;<i> but running &quot;mono Chiron.exe&quot; gives the exact same error as running
</I>&gt;<i> the binary built with msbuild. I noticed that Chiron's App.config was
</I>&gt;<i> not automatically copied to the build location, is that a known issue?
</I>&gt;<i> Anyway, here's the build log in case you're curious:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">rupert at linux</A>:~/Desktop/ironruby/Merlin/Main/Hosts/SilverLight/Chiron&gt;
</I>&gt;<i> xbuild Chiron.csproj
</I>&gt;<i> XBuild Engine Version 0.1
</I>&gt;<i> Mono, Version 2.4.2.1
</I>&gt;<i> Copyright (C) Marek Sieradzki 2005. All rights reserved.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Build started 7/21/2009 12:29:02 AM.
</I>&gt;<i> __________________________________________________
</I>&gt;<i> Project
</I>&gt;<i> &quot;/home/rupert/Desktop/ironruby/Merlin/Main/Hosts/SilverLight/Chiron/Chiron.csproj&quot; (Build target(s)):
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target PrepareForBuild:
</I>&gt;<i> Configuration: Debug Platform: AnyCPU
</I>&gt;<i> Created directory &quot;obj//Debug/&quot;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target ResolveAssemblyReferences:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target CopyFilesMarkedCopyLocal:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target AssignTargetPaths:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target SplitResourcesByCulture:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target CreateManifestResourceNames:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target CopyNonResxEmbeddedResources:
</I>&gt;<i> Copying file from
</I>&gt;<i> '/home/rupert/Desktop/ironruby/Merlin/Main/Hosts/SilverLight/Chiron/sl.png' to '/home/rupert/Desktop/ironruby/Merlin/Main/Hosts/SilverLight/Chiron/obj/Debug/Chiron.sl.png'
</I>&gt;<i> Copying file from
</I>&gt;<i> '/home/rupert/Desktop/ironruby/Merlin/Main/Hosts/SilverLight/Chiron/slx.png' to '/home/rupert/Desktop/ironruby/Merlin/Main/Hosts/SilverLight/Chiron/obj/Debug/Chiron.slx.png'
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target GenerateResources:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target GenerateSatelliteAssemblies:
</I>&gt;<i> Skipping target &quot;GenerateSatelliteAssemblies&quot; because its outputs are
</I>&gt;<i> up-to-date.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target CoreCompile:
</I>&gt;<i> Tool /usr/bin/gmcs execution started with
</I>&gt;<i> arguments: /noconfig /debug:full /delaysign+ /debug
</I>&gt;<i> + /optimize- /out:obj//Debug/Chiron.exe /resource:obj//Debug/Chiron.sl.png /resource:obj//Debug/Chiron.slx.png AppManifestTemplate.cs Chiron.cs Crc32.cs HtmlFormatter.cs HttpRequestData.cs HttpSocket.cs LanguageInfo.cs XapHttpHandler.cs LCA_RESTRICTED/Zip.cs MimeTypeSection.cs Properties/AssemblyInfo.cs HttpServer.cs XapBuilder.cs /target:exe /unsafe- /define:DEBUG;TRACE /reference:/usr/lib/mono/2.0/System.dll /reference:/usr/lib/mono/2.0/System.Configuration.dll /reference:/usr/lib/mono/2.0/System.Core.dll /reference:/usr/lib/mono/2.0/System.Data.dll /reference:/usr/lib/mono/2.0/System.Web.dll /reference:/usr/lib/mono/2.0/System.Web.Extensions.dll /reference:/usr/lib/mono/2.0/System.Xml.dll /warn:4
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target GetCopyToOutputDirectoryItems:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Target DeployOutputFiles:
</I>&gt;<i> Copying file from
</I>&gt;<i> '/home/rupert/Desktop/ironruby/Merlin/Main/Hosts/SilverLight/Chiron/obj/Debug/Chiron.exe.mdb' to '/home/rupert/Desktop/ironruby/Merlin/Main/Bin/Silverlight Debug/Chiron.exe.mdb'
</I>&gt;<i> Copying file from
</I>&gt;<i> '/home/rupert/Desktop/ironruby/Merlin/Main/Hosts/SilverLight/Chiron/obj/Debug/Chiron.exe' to '/home/rupert/Desktop/ironruby/Merlin/Main/Bin/Silverlight Debug/Chiron.exe'
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Build succeeded.
</I>&gt;<i> 0 Warning(s)
</I>&gt;<i> 0 Error(s)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Time Elapsed 00:00:03.2143200
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ~Jimmy
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032640.html">[Mono-dev] Chiron.exe on mono 2.4.2.1 crashes with	System.TypeLoadException
</A></li>
	<LI>Next message: <A HREF="032644.html">[Mono-dev] Chiron.exe on mono 2.4.2.1 crashes	with	System.TypeLoadException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32643">[ date ]</a>
              <a href="thread.html#32643">[ thread ]</a>
              <a href="subject.html#32643">[ subject ]</a>
              <a href="author.html#32643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
