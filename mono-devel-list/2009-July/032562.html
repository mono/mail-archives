<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Memory usage on Mono remoting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Memory%20usage%20on%20Mono%20remoting&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032563.html">
   <LINK REL="Next"  HREF="032564.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Memory usage on Mono remoting</H1>
    <B>pablosantosluac at terra.es</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Memory%20usage%20on%20Mono%20remoting&In-Reply-To="
       TITLE="[Mono-dev] Memory usage on Mono remoting">pablosantosluac at terra.es
       </A><BR>
    <I>Mon Jul 13 13:39:53 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032563.html">[Mono-dev] TcpServerChannel loosing connections under heavy load
</A></li>
        <LI>Next message: <A HREF="032564.html">[Mono-dev] Memory usage on Mono remoting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32562">[ date ]</a>
              <a href="thread.html#32562">[ thread ]</a>
              <a href="subject.html#32562">[ subject ]</a>
              <a href="author.html#32562">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

On BinaryServerFormatterSink.cs, a new MemoryStream is being created to
attend every remoting call.

Under high load conditions it will make the GC work harder than
required, both decreasing performance and potentially causing memory
problems.

It should be replaced by some sort of MemoryStream based on preallocated
memory buffers.

Maybe something like ChunkedMemoryStream in Rotor.

<A HREF="http://www.koders.com/csharp/fid0C95C784238E26C8EAC95C7A852A34A0CE9305BB.aspx?s=chunkedmemorystream">http://www.koders.com/csharp/fid0C95C784238E26C8EAC95C7A852A34A0CE9305BB.aspx?s=chunkedmemorystream</A>

Are you aware of an open source implementation of this?

Thanks,

pablo


www.plasticscm.com
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032563.html">[Mono-dev] TcpServerChannel loosing connections under heavy load
</A></li>
	<LI>Next message: <A HREF="032564.html">[Mono-dev] Memory usage on Mono remoting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32562">[ date ]</a>
              <a href="thread.html#32562">[ thread ]</a>
              <a href="subject.html#32562">[ subject ]</a>
              <a href="author.html#32562">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
