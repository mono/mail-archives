<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Memory usage on Mono remoting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Memory%20usage%20on%20Mono%20remoting&In-Reply-To=4A5B75E5.60103%40terra.es">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032567.html">
   <LINK REL="Next"  HREF="032576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Memory usage on Mono remoting</H1>
    <B>Gonzalo Paniagua Javier</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Memory%20usage%20on%20Mono%20remoting&In-Reply-To=4A5B75E5.60103%40terra.es"
       TITLE="[Mono-dev] Memory usage on Mono remoting">gonzalo.mono at gmail.com
       </A><BR>
    <I>Mon Jul 13 15:57:08 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032567.html">[Mono-dev] Memory usage on Mono remoting
</A></li>
        <LI>Next message: <A HREF="032576.html">[Mono-dev] Memory usage on Mono remoting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32568">[ date ]</a>
              <a href="thread.html#32568">[ thread ]</a>
              <a href="subject.html#32568">[ subject ]</a>
              <a href="author.html#32568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2009-07-13 at 19:59 +0200, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A> wrote:
[...]

&gt;<i> &gt;
</I>&gt;<i> &gt; Are you volunteering? Have you profiled the application or is this just
</I>&gt;<i> &gt; a guess?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   
</I>&gt;<i> Testing PlasticSCM under really heavy load (hundreds of clients against
</I>&gt;<i> a single server delivering hundreds of Gb over the network).
</I>
So no profiling...

&gt;<i> Yes, I'm volunteering.
</I>
The problem is that you can't contribute anything that is related to
that class that you linked before. See
<A HREF="http://mono-project.com/Contributing">http://mono-project.com/Contributing</A> under 'Important Rules'.

&gt;<i> &gt;
</I>&gt;<i> &gt; System.Web uses unmanaged chunks of memory together with an unmanaged
</I>&gt;<i> &gt; memory based stream.
</I>&gt;<i> &gt;   
</I>&gt;<i> That's what I need. Can you point me to the right class?
</I>
It's HttpResponseStream.cs all the *Bucket classes that then use an
IntPtrStream.

I still don't think that allocating MemoryStream (256 bytes by default)
is hurting that bad. A wild guess is that the BufferedStream wrapping
the NetworkStream is allocating much more memory (4kB by default). But
if the code is rewritten following what xsp does, this should not be a
problem any more.

-Gonzalo


</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032567.html">[Mono-dev] Memory usage on Mono remoting
</A></li>
	<LI>Next message: <A HREF="032576.html">[Mono-dev] Memory usage on Mono remoting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32568">[ date ]</a>
              <a href="thread.html#32568">[ thread ]</a>
              <a href="subject.html#32568">[ subject ]</a>
              <a href="author.html#32568">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
