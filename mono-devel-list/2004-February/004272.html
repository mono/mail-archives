<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] XmlTextReader
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20XmlTextReader&In-Reply-To=1077755946.11711.10.camel%40apple.bananus.dk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004269.html">
   <LINK REL="Next"  HREF="004270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] XmlTextReader</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20XmlTextReader&In-Reply-To=1077755946.11711.10.camel%40apple.bananus.dk"
       TITLE="[Mono-devel-list] XmlTextReader">atsushi at ximian.com
       </A><BR>
    <I>Thu Feb 26 02:38:14 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004269.html">[Mono-devel-list] XmlTextReader
</A></li>
        <LI>Next message: <A HREF="004270.html">[Mono-devel-list] mod-mono-server Error || Http 500
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4272">[ date ]</a>
              <a href="thread.html#4272">[ thread ]</a>
              <a href="subject.html#4272">[ subject ]</a>
              <a href="author.html#4272">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Before I changed XmlTextReader design to hold internal cache and
read the stream in advance, I tested how MS.NET(1.1) did buffering.
When you ran attached example (which uses StreamReader wrapper and
wrapped WebClient stream in such way), you will find XmlTextReader
reading the stream regardless of its markup (note that first Read()
fills the buffer up to 4096 and they never calls Read()).

If you have existing code that ran successfully under MS.NET,
please post it, and then I can review it.

BTW, if you want to get remaining stream, you can use GetRemainder().

Thanks,
Atsushi Eno

Janus N. T&#248;ndering wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I am working on a Jabber client for GTK/GNOME and I decided to use
</I>&gt;<i> Mono/C# as the development platform. I am not experienced with either.
</I>&gt;<i> 
</I>&gt;<i> I have run into some problems with XmlTextReader. I am sending a
</I>&gt;<i> &quot;&lt;iq...&gt;...&lt;/iq&gt;&quot; message and I am waiting for the response. No matter
</I>&gt;<i> what Read method I use it won't return the data received before the
</I>&gt;<i> connection times out and the server sends an error message. I used
</I>&gt;<i> tcpdump to verify that the answer actually arrives.
</I>&gt;<i> 
</I>&gt;<i> I am aware that XmlTextReader does buffering but shouldn't it return
</I>&gt;<i> data as soon as it is available? Is there anything special I should be
</I>&gt;<i> aware of? 
</I>&gt;<i> 
</I>&gt;<i> If needed, I can post the code in question.
</I>&gt;<i> Any help is appreciated.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Janus N. T&#248;ndering
</I>&gt;<i> 
</I>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: xtrstream.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040226/0636c32c/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040226/0636c32c/attachment.pl</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004269.html">[Mono-devel-list] XmlTextReader
</A></li>
	<LI>Next message: <A HREF="004270.html">[Mono-devel-list] mod-mono-server Error || Http 500
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4272">[ date ]</a>
              <a href="thread.html#4272">[ thread ]</a>
              <a href="subject.html#4272">[ subject ]</a>
              <a href="author.html#4272">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
