<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] mod_mono start/stop script
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20mod_mono%20start/stop%20script&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004254.html">
   <LINK REL="Next"  HREF="004255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] mod_mono start/stop script</H1>
    <B>Jaroslaw Kowalski</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20mod_mono%20start/stop%20script&In-Reply-To="
       TITLE="[Mono-devel-list] mod_mono start/stop script">jaak at zd.com.pl
       </A><BR>
    <I>Wed Feb 25 02:26:24 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004254.html">[Mono-devel-list] mod_mono start/stop script
</A></li>
        <LI>Next message: <A HREF="004255.html">[Mono-devel-list] String::GetHashCode speedup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4258">[ date ]</a>
              <a href="thread.html#4258">[ thread ]</a>
              <a href="subject.html#4258">[ subject ]</a>
              <a href="author.html#4258">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I use the following solution (working on Fedora Core 1).

1. I have a group &quot;aspnet&quot;

2. Apache user is a member of this group (this way it can access
/tmp/mod_mono_server without a problem)

3. My /etc/init.d/aspnet is attached. This should be run as root.

4. It makes use of two helper scripts &quot;start_aspnet&quot; and &quot;stop_aspnet&quot; which
run off the &quot;aspnet&quot; account. Both are attached.

5. Currently I have just one managed application, but when I have more, I'm
going to move the configuration to /etc/sysconfig/aspnet or sth.

It just works. The advantage is that you don't need to restart apache,
because the file permissions are just right and it works nice after reboot.

Feel free to use and extend this solution if you find it any useful.

Jarek

----- Original Message ----- 
From: &quot;Met @ Uber&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">met at uberstats.com</A>&gt;
To: &quot;Mono-devel&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Sent: Wednesday, February 25, 2004 4:13 AM
Subject: [Mono-devel-list] mod_mono start/stop script


&gt;<i> I just started writing an init.d file to start/stop mod_mono_server.exe
</I>&gt;<i> until I realized it wasn't going to be very easy.  Has anyone written
</I>&gt;<i> something like this yet?  If not, here's what I was thinking.
</I>&gt;<i>
</I>&gt;<i> Starting the server isn't hard (turn on mod_mono, check file
</I>&gt;<i> permissions, start/restart apache).  Restarting and stopping however, is
</I>&gt;<i> a bit harder because mod_mono_server.exe is run under mono.  So I was
</I>&gt;<i> thinking of using `pidof` and killing each process or building a semi
</I>&gt;<i> smart `ps aux` grep'er to find the exact pid's to kill.
</I>&gt;<i>
</I>&gt;<i> How bad of an idea is this?  Suggestions?
</I>&gt;<i>
</I>&gt;<i> ~ Matthew
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: aspnet
Type: application/octet-stream
Size: 482 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040225/854fa376/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040225/854fa376/attachment.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: stop_aspnet
Type: application/octet-stream
Size: 167 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040225/854fa376/attachment-0001.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040225/854fa376/attachment-0001.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: start_aspnet
Type: application/octet-stream
Size: 277 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040225/854fa376/attachment-0002.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040225/854fa376/attachment-0002.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004254.html">[Mono-devel-list] mod_mono start/stop script
</A></li>
	<LI>Next message: <A HREF="004255.html">[Mono-devel-list] String::GetHashCode speedup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4258">[ date ]</a>
              <a href="thread.html#4258">[ thread ]</a>
              <a href="subject.html#4258">[ subject ]</a>
              <a href="author.html#4258">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
