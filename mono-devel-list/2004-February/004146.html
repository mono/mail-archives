<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] string corruption
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20string%20corruption&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] string corruption</H1>
    <B>Dale Olds</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20string%20corruption&In-Reply-To="
       TITLE="[Mono-devel-list] string corruption">olds at novell.com
       </A><BR>
    <I>Thu Feb 19 11:23:16 EST 2004</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4146">[ date ]</a>
              <a href="thread.html#4146">[ thread ]</a>
              <a href="subject.html#4146">[ subject ]</a>
              <a href="author.html#4146">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have been seeing some strange behavior with strings apparently
forgetting their values, and have distilled it down to the attached test
case. The test case involves nested value types that have a reference
type member, though I'm not sure that is directly related to the
problem. The test case succeeds if the the call to GC.Collect() is
removed.

The test fails on mono .30.1. I have not run this test on .net, but the
original problem from which this test was derived did not fail on .net
(but did on mono). Since the string contents in all the nested structs
after the call to GC.Collect() appear to be random memory (remove the
return to see this), I can't imagine it would be good even if it was
like .net.

Any ideas? I am not currently running on a build from CVS, but can do so
if it would help to further test this.

Thanks,
--Dale

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: values.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040219/5a053cef/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040219/5a053cef/attachment.pl</A> 
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4146">[ date ]</a>
              <a href="thread.html#4146">[ thread ]</a>
              <a href="subject.html#4146">[ subject ]</a>
              <a href="author.html#4146">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
