<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] to draw or not to draw
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20to%20draw%20or%20not%20to%20draw&In-Reply-To=OF1094B3BA.3A8D6433-ONC1256E3E.004E82E8%40enac.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004114.html">
   <LINK REL="Next"  HREF="004133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] to draw or not to draw</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20to%20draw%20or%20not%20to%20draw&In-Reply-To=OF1094B3BA.3A8D6433-ONC1256E3E.004E82E8%40enac.fr"
       TITLE="[Mono-devel-list] to draw or not to draw">miguel at ximian.com
       </A><BR>
    <I>Mon Feb 23 11:24:33 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004114.html">[Mono-devel-list] to draw or not to draw
</A></li>
        <LI>Next message: <A HREF="004133.html">[Mono-devel-list] Compile MCS 0.30.1 on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4230">[ date ]</a>
              <a href="thread.html#4230">[ thread ]</a>
              <a href="subject.html#4230">[ subject ]</a>
              <a href="author.html#4230">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> SWF is not stable and is broken under Mono.
</I>&gt;<i> again you've got to wait got for a couple of month to have a working SWF 
</I>&gt;<i> under Mono.
</I>&gt;<i> That's said SWF throught wine is not really robust,  gtk# is more robust 
</I>&gt;<i> but gdk is very weak for drawing.
</I>&gt;<i>
</I>&gt;<i> SD is usable but you've to render to a bitmap.
</I>&gt;<i> 
</I>&gt;<i> So it is impossible to write a real world application with complicated 
</I>&gt;<i> graphics under Mono. for the moment.
</I>
As you well point out, Windows.Forms is currently broken, but we have
full time people working on solving this problem.  Including making the
Wine edition robust.  The downside?  You will have to wait a few months
for it.

System.Drawing also has various developers working on it, so the quality
and robustness of this is rapidly maturing.

&gt;<i> It 's seems that few people are interested in drawing in the mono galaxy. 
</I>&gt;<i> I don't understand why Novell/Ximian/Suse don't hire a team of developpers 
</I>&gt;<i> to work on wine, gdiplus, SD, SWF.
</I>
That is not true;  We have three full time developers working on that
problem, and one part time developer.  It just takes time to get things
right.

&gt;<i> That's a strategic area for me. not for miguel. :-(
</I>
Wrong again, it is very important to have good drawing.

&gt;<i> Perhaps you should use gkt# and write a decent layer on the top of gdk# to 
</I>&gt;<i> handle drawing in the spirit of SD.
</I>
Let me offer you a few more solutions:

	* I posted a patch to Gtk-sharp-list that added integration with
	  Cairo to draw on Windows and Pixmaps (used on the Expose event).

	  Cairo is a fairly high-level rendering API, similar to Postscript
	  and System.Drawing and offers a composition model, full with anti-aliased
	  and alpha rendering.
	  

	  The patch was not accepted since Cairo does not work on Windows
	  yet, so Mike did not want to add a dependency on it just yet, 
	  but the good news is that you can use the principle from the patch
	  *today* to use Cairo for rendering (you just need to write 
	  a small helper routine that does what my patch did).

	  See: gtk-sharp/sample/CairoSample.cs

	* You can try System.Drawing from CVS which is more advanced and I 
	  could cook you a patch to use System.Drawing in Gtk#

For now, to use Cairo on Gtk#, you can use this helper routine:

Cairo.Graphics GetGraphics (Gdk.Window w, out int offx, out int offy)
{
       IntPtr real_drawable;
       Cairo.Graphics o = new Cairo.Graphics ();

       gdk_window_get_internal_paint_info (w.Handle, out real_drawable, out offset_x, out offset_y);
       IntPtr x11 = gdk_x11_drawable_get_xid (real_drawable);
       IntPtr display = gdk_x11_drawable_get_xdisplay (real_drawable);
       o.SetTargetDrawable (display, x11);

       return o;
}

Cairo.Graphics GetGraphics (Gdk.Window w)
{
	int x, y;
	return GetGraphics (w, out x, out y);
}



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004114.html">[Mono-devel-list] to draw or not to draw
</A></li>
	<LI>Next message: <A HREF="004133.html">[Mono-devel-list] Compile MCS 0.30.1 on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4230">[ date ]</a>
              <a href="thread.html#4230">[ thread ]</a>
              <a href="subject.html#4230">[ subject ]</a>
              <a href="author.html#4230">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
