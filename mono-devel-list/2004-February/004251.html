<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] String speedup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20String%20speedup&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004250.html">
   <LINK REL="Next"  HREF="004254.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] String speedup</H1>
    <B>Varga Zoltan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20String%20speedup&In-Reply-To="
       TITLE="[Mono-devel-list] [PATCH] String speedup">vargaz at freemail.hu
       </A><BR>
    <I>Tue Feb 24 14:35:50 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004250.html">[Mono-devel-list] [PATCH] String speedup
</A></li>
        <LI>Next message: <A HREF="004254.html">[Mono-devel-list] mod_mono start/stop script
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4251">[ date ]</a>
              <a href="thread.html#4251">[ thread ]</a>
              <a href="subject.html#4251">[ subject ]</a>
              <a href="author.html#4251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>                        Hi,

   The icall wrappers are needed even if the icall itself
can't throw
exceptions, for async exceptions like thread abort, etc.
What is needed
is some work to optimize these wrappers so they don't take so
much time. If you use an newer glibc with __thread support, the
runtime already does some optimizations, so on these
systems, the
icall wrappers are much faster.

               Zoltan

 
&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>]On Behalf
</I>Of ext Ben
&gt;<i> Maurer
</I>&gt;<i> Sent: February 24,2004 19:33
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-devel-list] [PATCH] String speedup
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hrm, i guess I tried too hard :-).
</I>&gt;<i> 
</I>&gt;<i> Even though your new version beats the ICall in most cases, 
</I>&gt;<i> I'd really like to see a cheaper way to make the call to 
</I>&gt;<i> memcpy and other such methods.
</I>&gt;<i> 
</I>&gt;<i> I was talking with Miguel about this and he suggested working 
</I>&gt;<i> around the exception handling helpers.
</I>&gt;<i> 
</I>&gt;<i> Last night, I told the JIT not to make a wrapper for CPBLK. I 
</I>&gt;<i> instantly got a huge perf boost. However, I dont think we can 
</I>&gt;<i> do it for cpblk out of correctness (what if you try to copy 
</I>&gt;<i> 10 bytes from NULL to NULL, what would happen to the 
</I>&gt;<i> exception without the unwind info?)
</I>&gt;<i> 
</I>&gt;<i> However, for internal calls, we can make some assumptions 
</I>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004250.html">[Mono-devel-list] [PATCH] String speedup
</A></li>
	<LI>Next message: <A HREF="004254.html">[Mono-devel-list] mod_mono start/stop script
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4251">[ date ]</a>
              <a href="thread.html#4251">[ thread ]</a>
              <a href="subject.html#4251">[ subject ]</a>
              <a href="author.html#4251">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
