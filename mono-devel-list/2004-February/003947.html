<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: Texture Brush
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Texture%20Brush&In-Reply-To=1076027243.11755.68.camel%40diphthong">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003935.html">
   <LINK REL="Next"  HREF="003936.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: Texture Brush</H1>
    <B>Ravindra</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Texture%20Brush&In-Reply-To=1076027243.11755.68.camel%40diphthong"
       TITLE="[Mono-devel-list] Re: Texture Brush">rkumar at novell.com
       </A><BR>
    <I>Fri Feb  6 08:41:02 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003935.html">[Mono-devel-list] Re: Texture Brush
</A></li>
        <LI>Next message: <A HREF="003936.html">[Mono-devel-list] Strangeness with lib versions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3947">[ date ]</a>
              <a href="thread.html#3947">[ thread ]</a>
              <a href="subject.html#3947">[ subject ]</a>
              <a href="author.html#3947">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Duncan,
Thanks for your time. Please see my comments below.

Regards,
Ravindra

On Fri, 2004-02-06 at 05:57, Duncan Mak wrote:
&gt;<i> Hello Ravindra,
</I>&gt;<i> 
</I>&gt;<i> On Tue, 2004-02-03 at 04:27, Ravindra wrote:
</I>&gt;<i> &gt; Please find attached the Cairo side implementation of TextureBrush. I've
</I>&gt;<i> &gt; not debugged this code yet, it has some problems that I'm looking into.
</I>&gt;<i> 
</I>&gt;<i> What are these problems?
</I>I was facing null pointer problem mainly. Anyway, now I have stopped my 
testing. First, I'll do little rework to convert my code in OO-C style and 
then I'll test it again. But, again I'm not very clear as to what argument
types must be used in case of inherited methods. e.g. consider init ()
or setup () inherited from Brush to Texture. Now, I'm not sure what
argument (Brush or Texture) will these methods take when being
implemented in Texture.

&gt;<i> &gt; I would like to change this code to OO-C style, once I get it working.
</I>&gt;<i> 
</I>&gt;<i> It might make sense to go this route from the beginning. The differences
</I>&gt;<i> are significant enough that having this other implementation working
</I>&gt;<i> does not mean that the transition to an OO layout will be seamless.
</I>I'll take care in implementing other brushes.

&gt;<i> About texturebrush.c:
</I>&gt;<i> 
</I>&gt;<i> In general, I think it's pretty good! Two things:
</I>&gt;<i> 
</I>&gt;<i> * GDI+ uses floats primarily and the -I family of functions is just
</I>&gt;<i> there for convenience. For example, for GdipCreateTexture2, it should
</I>&gt;<i> not delegate to GdipCreateTexture2I. The opposite should happen instead.
</I>&gt;<i> Incidentally, all of Cairo uses doubles for their data storage.
</I>Actually, I have used following API there,
cairo_status_t
cairo_surface_clip_rectangle (cairo_surface_t *surface,
			      int x, int y,
			      int width, int height);
It takes int, so I did not have the other option that you are referring
to. FYI, this API is not implemented. There is an &quot;NYI&quot; comment around
it in cairo.h.

&gt;<i> * For all the Matrix operations (Translate, Rotate, Scale, etc), I think
</I>&gt;<i> we are required to set the texture's matrix after performing the
</I>&gt;<i> operation, for an example see the equivalent functions in graphics.c
</I>&gt;<i> (i.e. GdipMultiplyWorldTransform)
</I>OK fine. I'll do that.

&gt;<i> As for the diffs in gdip.h, I would prefer that we start a new
</I>&gt;<i> texturebrush.h and put all the function prototypes there instead. I've
</I>&gt;<i> regretted merging all of the old headers into one single gdip.h; even
</I>&gt;<i> though it is a lot more convenient, it is a monster to maintain. Bit by
</I>&gt;<i> bit, we should move towards having gdip.h only including other smaller
</I>&gt;<i> header files, and I guess that should be true for gdipFunction.cs as
</I>&gt;<i> well, as it's getting pretty long and scary.
</I>I agree with you.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003935.html">[Mono-devel-list] Re: Texture Brush
</A></li>
	<LI>Next message: <A HREF="003936.html">[Mono-devel-list] Strangeness with lib versions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3947">[ date ]</a>
              <a href="thread.html#3947">[ thread ]</a>
              <a href="subject.html#3947">[ subject ]</a>
              <a href="author.html#3947">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
