<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] First CIL Regex performance result
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20First%20CIL%20Regex%20performance%20result&In-Reply-To=40422448.7050005%40ulaval.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004323.html">
   <LINK REL="Next"  HREF="004325.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] First CIL Regex performance result</H1>
    <B>Michal Moskal</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20First%20CIL%20Regex%20performance%20result&In-Reply-To=40422448.7050005%40ulaval.ca"
       TITLE="[Mono-devel-list] First CIL Regex performance result">malekith at pld-linux.org
       </A><BR>
    <I>Sun Feb 29 16:02:26 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004323.html">[Mono-devel-list] First CIL Regex performance result
</A></li>
        <LI>Next message: <A HREF="004325.html">[Mono-devel-list] problem whit soap serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4328">[ date ]</a>
              <a href="thread.html#4328">[ thread ]</a>
              <a href="subject.html#4328">[ subject ]</a>
              <a href="author.html#4328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Feb 29, 2004 at 12:41:28PM -0500, Eric Durand Tremblay wrote:
&gt;<i> 	  There is an obvious optimization there, but am puzzled by why do 
</I>&gt;<i> 	  you
</I>&gt;<i> 	  have the beq there in the first place, there is no compare there, 
</I>&gt;<i> 	  and
</I>&gt;<i> 	  various nops before, which makes me wonder about the intent.
</I>&gt;<i> *Here is the end of EmitCharacter it is dependent from the context ( what 
</I>&gt;<i> called it).  For the nop, I really don't understand why they are there.  
</I>&gt;<i> Reflection.Emit put them automatically.  The beq compare the char loaded at 
</I>&gt;<i> IL_00a2 and the char loaded at IL_00b5(ldc.i4.s 0x61).  We will try to make 
</I>&gt;<i> it more simple.*
</I>
,,nop'' can appear because you use wrong overload of Emit. For example
when you do something like

  gen.Emit (Ldc_I4_S, 13)

you will call Emit (OpCode, int) overload, so it will generate opcode
for ldc.i4.s (0x1f), and 32 bit integer constant 13, which is 0x0d 0x00
0x00 0x00 (little endian). And nop is 0x00. So you will get:

  ldc.i4.s 13
  nop
  nop
  nop

I haven't checked your code, but this was my problem once, at it might
be the case with you.

-- 
:<i> Michal Moskal :: <A HREF="http://www.kernel.pl/~malekith">http://www.kernel.pl/~malekith</A> :: GCS !tv h e&gt;+++ b++
</I>:<i> When in doubt, use brute force. -- Ken Thompson :: UL++++$ C++ E--- a?
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004323.html">[Mono-devel-list] First CIL Regex performance result
</A></li>
	<LI>Next message: <A HREF="004325.html">[Mono-devel-list] problem whit soap serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4328">[ date ]</a>
              <a href="thread.html#4328">[ thread ]</a>
              <a href="subject.html#4328">[ subject ]</a>
              <a href="author.html#4328">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
