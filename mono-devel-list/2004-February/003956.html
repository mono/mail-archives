<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Problems wth ds.ReadXml () (DataSet)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Problems%20wth%20ds.ReadXml%20%28%29%20%28DataSet%29&In-Reply-To=1075999953.7928.25.camel%40localhost">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003924.html">
   <LINK REL="Next"  HREF="003942.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Problems wth ds.ReadXml () (DataSet)</H1>
    <B>Eran Domb</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Problems%20wth%20ds.ReadXml%20%28%29%20%28DataSet%29&In-Reply-To=1075999953.7928.25.camel%40localhost"
       TITLE="[Mono-devel-list] Problems wth ds.ReadXml () (DataSet)">erand at mainsoft.com
       </A><BR>
    <I>Sun Feb  8 07:19:13 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003924.html">[Mono-devel-list] Problems wth ds.ReadXml () (DataSet)
</A></li>
        <LI>Next message: <A HREF="003942.html">[Mono-devel-list] Creating a string[] from C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3956">[ date ]</a>
              <a href="thread.html#3956">[ thread ]</a>
              <a href="subject.html#3956">[ subject ]</a>
              <a href="author.html#3956">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Philip Van Hoof wrote:

&gt;<i>Hi there,
</I>&gt;<i>
</I>&gt;<i>When I want to read a DataSet from an XML-file from both a
</I>&gt;<i>ManifestResource or a file I always get this Exception:
</I>&gt;<i>
</I>&gt;<i>&quot;A null value was found where an object instance was required&quot;
</I>&gt;<i>
</I>&gt;<i>I am running mono-0.30 on a Fedora Core 1
</I>&gt;<i>
</I>&gt;<i>This is the code I am trying:
</I>&gt;<i>
</I>&gt;<i>DataSet conf = new DataSet();
</I>&gt;<i>Assembly a = c.GetType().Assembly;
</I>&gt;<i>System.IO.Stream ConfigFile =
</I>&gt;<i>a.GetManifestResourceStream(&quot;Cronos.Xnet.XnetDotBe.DAL.DALConfig.xml&quot;); 
</I>&gt;<i>-&gt; Exception point &lt;-
</I>&gt;<i>conf.ReadXml (ConfigFile);
</I>&gt;<i>-&gt; Exception point &lt;-
</I>&gt;<i>
</I>&gt;<i>When I loop the resource-names I do get the resource
</I>&gt;<i>&quot;Cronos.Xnet.XnetDotBe.DAL.DALConfig.xml&quot; in the string-array (so the
</I>&gt;<i>resource actually does exist). Note that it has been compiled using VS
</I>&gt;<i>2003 .NET (not using Mono).
</I>&gt;<i>
</I>&gt;<i>I can also try something like :
</I>&gt;<i>
</I>&gt;<i>conf.ReadXml (&quot;/home/freax/cvs/XnetDotBe/XnetDotBe/bin/DALConfig.xml&quot;);
</I>&gt;<i>
</I>&gt;<i>And read the XML from a file on my filesystem (and indeed, that file
</I>&gt;<i>'does' exist, of course -I am not VERY stupid, you know-)
</I>&gt;<i>
</I>&gt;<i>'The line' (so not my code) will throw the same exception
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I am indeed running this code using xsp (it's a ASP.NET website, yes)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>This is how my xml-file looks  (nothing THAT strange about it huh):
</I>&gt;<i>
</I>&gt;<i>On Microsoft .NET it will load the DataSet with a table Config and
</I>&gt;<i>columns like &quot;ConnectionString&quot; and &quot;DatabaseType&quot;. This code works
</I>&gt;<i>1000% perfectly on the Microsoft .NET framework (and it's not very very
</I>&gt;<i>platform specific, imho)
</I>&gt;<i>
</I>&gt;<i>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
</I>&gt;<i>&lt;Config&gt;
</I>&gt;<i>
</I>&gt;<i>&lt;!-- Database connectivity settings //--&gt;
</I>&gt;<i>        &lt;ConnectionString&gt;server=localhost;User
</I>&gt;<i>ID=xnet;Password=xnet;database=XnetDotBe&lt;/ConnectionString&gt;
</I>&gt;<i>        &lt;DatabaseType&gt;SqlServer&lt;/DatabaseType&gt;
</I>&gt;<i>
</I>&gt;<i>&lt;!-- Other possibilities //--&gt;
</I>&gt;<i>&lt;!--    &lt;ConnectionString&gt;server=W2SK-MSSQL;User
</I>&gt;<i>ID=sa;Password=;database=Default&lt;/ConnectionString&gt; //--&gt;
</I>&gt;<i>&lt;!--    &lt;DatabaseType&gt;Oracle&lt;/DatabaseType&gt; //--&gt;
</I>&gt;<i>&lt;!--    &lt;DatabaseType&gt;MySQL&lt;/DatabaseType&gt; //--&gt;
</I>&gt;<i>&lt;!--    &lt;DatabaseType&gt;PostgreSQL&lt;/DatabaseType&gt; //--&gt;
</I>&gt;<i>&lt;!--    &lt;DatabaseType&gt;Odbc&lt;/DatabaseType&gt; //--&gt;
</I>&gt;<i>&lt;!--    &lt;DatabaseType&gt;SqlServer&lt;/DatabaseType&gt; //--&gt;
</I>&gt;<i>
</I>&gt;<i>&lt;!-- The Implementations for each Interface //--&gt;
</I>&gt;<i>       
</I>&gt;<i>&lt;IProject&gt;Cronos.Xnet.XnetDotBe.DAL.Implementations.SqlServer.Project&lt;/IProject&gt;
</I>&gt;<i>        &lt;IProject.Assembly&gt;DAL&lt;/IProject.Assembly&gt;
</I>&gt;<i>       
</I>&gt;<i>&lt;IEmployee&gt;Cronos.Xnet.XnetDotBe.DAL.Implementations.SqlServer.Employee&lt;/IEmployee&gt;
</I>&gt;<i>        &lt;IEmployee.Assembly&gt;DAL&lt;/IEmployee.Assembly&gt;
</I>&gt;<i>        &lt;ICustomer&gt;Cronos.Xnet.XnetDotBe.DAL.Customer&lt;/ICustomer&gt;
</I>&gt;<i>        &lt;ICustomer.Assembly&gt;DAL&lt;/ICustomer.Assembly&gt;
</I>&gt;<i>        &lt;ITechDomain&gt;Cronos.Xnet.XnetDotBe.DAL.TechDomain&lt;/ITechDomain&gt;
</I>&gt;<i>        &lt;ITechDomain.Assembly&gt;DAL&lt;/ITechDomain.Assembly&gt;
</I>&gt;<i>        &lt;ITechnology&gt;Cronos.Xnet.XnetDotBe.DAL.Technology&lt;/ITechnology&gt;
</I>&gt;<i>        &lt;ITechnology.Assembly&gt;DAL&lt;/ITechnology.Assembly&gt;
</I>&gt;<i>
</I>&gt;<i>&lt;/Config&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mono-devel-list mailing list
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Hello,
There is a problem reading xml file that does not have a DataSet element 
as a root.
I can suggest a workaround - just add to the xml a DataSet element, exp:

&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;MyDataSet&gt;
&lt;Config&gt;

&lt;!-- Database connectivity settings //--&gt;
        &lt;ConnectionString&gt;server=localhost;User
ID=xnet;Password=xnet;database=XnetDotBe&lt;/ConnectionString&gt;
        &lt;DatabaseType&gt;SqlServer&lt;/DatabaseType&gt;

&lt;!-- Other possibilities //--&gt;
&lt;!--    &lt;ConnectionString&gt;server=W2SK-MSSQL;User
ID=sa;Password=;database=Default&lt;/ConnectionString&gt; //--&gt;
&lt;!--    &lt;DatabaseType&gt;Oracle&lt;/DatabaseType&gt; //--&gt;
&lt;!--    &lt;DatabaseType&gt;MySQL&lt;/DatabaseType&gt; //--&gt;
&lt;!--    &lt;DatabaseType&gt;PostgreSQL&lt;/DatabaseType&gt; //--&gt;
&lt;!--    &lt;DatabaseType&gt;Odbc&lt;/DatabaseType&gt; //--&gt;
&lt;!--    &lt;DatabaseType&gt;SqlServer&lt;/DatabaseType&gt; //--&gt;

&lt;!-- The Implementations for each Interface //--&gt;
       
&lt;IProject&gt;Cronos.Xnet.XnetDotBe.DAL.Implementations.SqlServer.Project&lt;/IProject&gt;
        &lt;IProject.Assembly&gt;DAL&lt;/IProject.Assembly&gt;
       
&lt;IEmployee&gt;Cronos.Xnet.XnetDotBe.DAL.Implementations.SqlServer.Employee&lt;/IEmployee&gt;
        &lt;IEmployee.Assembly&gt;DAL&lt;/IEmployee.Assembly&gt;
        &lt;ICustomer&gt;Cronos.Xnet.XnetDotBe.DAL.Customer&lt;/ICustomer&gt;
        &lt;ICustomer.Assembly&gt;DAL&lt;/ICustomer.Assembly&gt;
        &lt;ITechDomain&gt;Cronos.Xnet.XnetDotBe.DAL.TechDomain&lt;/ITechDomain&gt;
        &lt;ITechDomain.Assembly&gt;DAL&lt;/ITechDomain.Assembly&gt;
        &lt;ITechnology&gt;Cronos.Xnet.XnetDotBe.DAL.Technology&lt;/ITechnology&gt;
        &lt;ITechnology.Assembly&gt;DAL&lt;/ITechnology.Assembly&gt;

&lt;/Config&gt;
&lt;/MyDataSet&gt;



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003924.html">[Mono-devel-list] Problems wth ds.ReadXml () (DataSet)
</A></li>
	<LI>Next message: <A HREF="003942.html">[Mono-devel-list] Creating a string[] from C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3956">[ date ]</a>
              <a href="thread.html#3956">[ thread ]</a>
              <a href="subject.html#3956">[ subject ]</a>
              <a href="author.html#3956">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
