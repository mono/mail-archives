<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] small footprint mono / AOT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20small%20footprint%20mono%20/%20AOT&In-Reply-To=57F833AF-D640-4F22-82BB-5422C50D8E90%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037974.html">
   <LINK REL="Next"  HREF="037978.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] small footprint mono / AOT</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20small%20footprint%20mono%20/%20AOT&In-Reply-To=57F833AF-D640-4F22-82BB-5422C50D8E90%40gmail.com"
       TITLE="[Mono-dev] small footprint mono / AOT">kumpera at gmail.com
       </A><BR>
    <I>Wed Aug 24 14:18:13 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037974.html">[Mono-dev] small footprint mono / AOT
</A></li>
        <LI>Next message: <A HREF="037978.html">[Mono-dev] small footprint mono / AOT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37975">[ date ]</a>
              <a href="thread.html#37975">[ thread ]</a>
              <a href="subject.html#37975">[ subject ]</a>
              <a href="author.html#37975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Aug 24, 2011 at 3:03 PM, Jonathan Shore &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jonathan.shore at gmail.com</A>&gt;wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I have somewhat unusual requirements whereby need to have a minimal
</I>&gt;<i> footprint, native, statically compiled app.  (well yes they mostly intersect
</I>&gt;<i> with embedded applications, but with some further requirements).
</I>&gt;<i>
</I>&gt;<i> This application will be distributed to thousands of linux and windows
</I>&gt;<i> boxes to evaluate a computation.   Due to bandwidth considerations and
</I>&gt;<i> &quot;no-touch&quot; in terms of OS/library modifications, this deployment needs to
</I>&gt;<i> be:
</I>&gt;<i>
</I>&gt;<i> - as small as possible
</I>&gt;<i> - statically linked (well libmono.a kind of fits)
</I>&gt;<i>
</I>

Keep in mind that the mono runtime in under the LGPL2 which demands that
relinking be possible. If you can't afford that you must negotiate
another license from Xamarin or Novell.


- no system / native dll dependencies (other than would be present on a
&gt;<i> vanilla windows XP or linux distro).
</I>&gt;<i> - no installation of mono, gac requirement, etc.
</I>&gt;<i>
</I>&gt;<i> I've looked at:  <A HREF="http://www.mono-project.com/Small_footprint.">http://www.mono-project.com/Small_footprint.</A>   I have
</I>&gt;<i> also looked at the default size of libmono.a (5.6M) and System.dll (1.6M).
</I>&gt;<i> It would seem that I can reduce libmono to 1.7M with a recompilation with
</I>&gt;<i> minimal features according to the document.  Further questions:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    1. is System.dll the same as mscorlib.dll (one being mono's and the
</I>&gt;<i>    other MS's)?  Or are both of these needed?
</I>&gt;<i>
</I>&gt;<i> The only library strictly needed is mscorlib. System has other types.
</I>

&gt;<i>
</I>&gt;<i>    1. is there a tool to build a special trimmed System.dll just to use
</I>&gt;<i>    the classes and descendents used by my application?  (I just use basic types
</I>&gt;<i>    + System.Collections + System.IO)
</I>&gt;<i>
</I>&gt;<i>
</I>Yes, you can use the mono linker for such thing.


&gt;<i>
</I>&gt;<i>    1. are there any dependencies on shared libraries with a libmono.a
</I>&gt;<i>    linkage (on linux and windows)?
</I>&gt;<i>
</I>&gt;<i>
</I>On linux libc, pthread, m. Optionally glib and icu.
No idea on windows, but should be analogous to linux.


&gt;<i>
</I>&gt;<i>    1. are there any other files required besides System.dll (and my app
</I>&gt;<i>    dll), once libmono is linked to a host C-based application?
</I>&gt;<i>
</I>&gt;<i> mscorlib is always required
</I>

&gt;<i>
</I>&gt;<i>    1. can an AOT+libmono embedded app run with no gac or specific
</I>&gt;<i>    dependencies, other than System.dll known to be in an arbitrary location?
</I>&gt;<i>
</I>&gt;<i>
</I>Yes, this is how Xamarin's MonoTouch and Mono for Android products work.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110824/1d732e4d/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110824/1d732e4d/attachment.html</A> 
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037974.html">[Mono-dev] small footprint mono / AOT
</A></li>
	<LI>Next message: <A HREF="037978.html">[Mono-dev] small footprint mono / AOT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37975">[ date ]</a>
              <a href="thread.html#37975">[ thread ]</a>
              <a href="subject.html#37975">[ subject ]</a>
              <a href="author.html#37975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
