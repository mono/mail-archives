<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] substantial performance regression between 2.10 and 2.6 or impl diff?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20substantial%20performance%20regression%20between%202.10%20and%0A%202.6%20or%20impl%20diff%3F&In-Reply-To=EADBCF79-17C7-4D3D-A686-B9FEA864202C%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038014.html">
   <LINK REL="Next"  HREF="038011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] substantial performance regression between 2.10 and 2.6 or impl diff?</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20substantial%20performance%20regression%20between%202.10%20and%0A%202.6%20or%20impl%20diff%3F&In-Reply-To=EADBCF79-17C7-4D3D-A686-B9FEA864202C%40gmail.com"
       TITLE="[Mono-dev] substantial performance regression between 2.10 and 2.6 or impl diff?">kumpera at gmail.com
       </A><BR>
    <I>Sat Aug 27 19:09:04 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="038014.html">[Mono-dev] substantial performance regression between 2.10 and 2.6 or impl diff?
</A></li>
        <LI>Next message: <A HREF="038011.html">[Mono-dev] substantial performance regression between 2.10 and	2.6 or impl diff?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38010">[ date ]</a>
              <a href="thread.html#38010">[ thread ]</a>
              <a href="subject.html#38010">[ subject ]</a>
              <a href="author.html#38010">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There are a few points to note here.

Linux with the default GC is much faster than OSX since the laster can't use
fast object allocation.

OSX 2.6 shipped with default parallel mark enabled on OSX, but it was later
disabled due to bugs in boehm.

Given no one is actively working on boehm, this was the best option. My
suggestion is that you try using the new GC
try running 2.10 with --gc=sgen. Performance will be substantially better
for your test.


On Sat, Aug 27, 2011 at 2:27 PM, Jonathan Shore &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jonathan.shore at gmail.com</A>&gt;wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I was doing some benchmarks of struct vs class based creation (I have an
</I>&gt;<i> application that will generate millions of small objects).   I was doing the
</I>&gt;<i> tests in a ubuntu 11.4 VM on my mac pro and found the following:
</I>&gt;<i>
</I>&gt;<i> mono *2.6.7 was 4x faster* on my linux VM *than 2.10.4 *running on OSX
</I>&gt;<i> (same machine)
</I>&gt;<i>
</I>&gt;<i> I don't know whether this may be because of one of the following:
</I>&gt;<i>
</I>&gt;<i> - performance in 2.10.4 regressed vs 2.6.7
</I>&gt;<i> - mono JIT implementation for OSX has a completely different JiT codebase
</I>&gt;<i> and does not perform
</I>&gt;<i> - difference in GC (only relevant for second part of the test)
</I>&gt;<i>
</I>&gt;<i> Note that I tried this with separate compilations with mcs -optimize+  on
</I>&gt;<i> both environments as well as running the same exe on both.
</I>&gt;<i>
</I>&gt;<i> I can live with slower performance on OSX, but want to make sure that linux
</I>&gt;<i> and windows versions of mono 2.10.x have the performance of 2.6.7 or better.
</I>&gt;<i>
</I>&gt;<i> Can someone clue me in?   I've included the simple test code with this
</I>&gt;<i> posting.
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> Jonathan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110827/cc73352b/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110827/cc73352b/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038014.html">[Mono-dev] substantial performance regression between 2.10 and 2.6 or impl diff?
</A></li>
	<LI>Next message: <A HREF="038011.html">[Mono-dev] substantial performance regression between 2.10 and	2.6 or impl diff?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38010">[ date ]</a>
              <a href="thread.html#38010">[ thread ]</a>
              <a href="subject.html#38010">[ subject ]</a>
              <a href="author.html#38010">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
