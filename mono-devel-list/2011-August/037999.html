<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] substantial performance regression between 2.10 and 2.6	or impl diff?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20substantial%20performance%20regression%20between%202.10%20and%202.6%0A%09or%20impl%20diff%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038018.html">
   <LINK REL="Next"  HREF="038014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] substantial performance regression between 2.10 and 2.6	or impl diff?</H1>
    <B>Jonathan Shore</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20substantial%20performance%20regression%20between%202.10%20and%202.6%0A%09or%20impl%20diff%3F&In-Reply-To="
       TITLE="[Mono-dev] substantial performance regression between 2.10 and 2.6	or impl diff?">jonathan.shore at gmail.com
       </A><BR>
    <I>Sat Aug 27 13:27:24 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="038018.html">[Mono-dev] WCF Error Deserializing SOAP Reply
</A></li>
        <LI>Next message: <A HREF="038014.html">[Mono-dev] substantial performance regression between 2.10 and 2.6 or impl diff?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37999">[ date ]</a>
              <a href="thread.html#37999">[ thread ]</a>
              <a href="subject.html#37999">[ subject ]</a>
              <a href="author.html#37999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I was doing some benchmarks of struct vs class based creation (I have an application that will generate millions of small objects).   I was doing the tests in a ubuntu 11.4 VM on my mac pro and found the following:

	mono 2.6.7 was 4x faster on my linux VM than 2.10.4 running on OSX (same machine)

I don't know whether this may be because of one of the following:

- performance in 2.10.4 regressed vs 2.6.7
- mono JIT implementation for OSX has a completely different JiT codebase and does not perform
- difference in GC (only relevant for second part of the test)

Note that I tried this with separate compilations with mcs -optimize+  on both environments as well as running the same exe on both.

I can live with slower performance on OSX, but want to make sure that linux and windows versions of mono 2.10.x have the performance of 2.6.7 or better.

Can someone clue me in?   I've included the simple test code with this posting.

Thanks

Jonathan

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110827/2156961b/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110827/2156961b/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Main.cs
Type: application/octet-stream
Size: 2340 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110827/2156961b/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110827/2156961b/attachment.obj</A> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110827/2156961b/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110827/2156961b/attachment-0001.html</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038018.html">[Mono-dev] WCF Error Deserializing SOAP Reply
</A></li>
	<LI>Next message: <A HREF="038014.html">[Mono-dev] substantial performance regression between 2.10 and 2.6 or impl diff?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37999">[ date ]</a>
              <a href="thread.html#37999">[ thread ]</a>
              <a href="subject.html#37999">[ subject ]</a>
              <a href="author.html#37999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
