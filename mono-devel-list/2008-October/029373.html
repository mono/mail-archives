<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] mono 2.0, solaris x86, bootstrap
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono%202.0%2C%20solaris%20x86%2C%20bootstrap&In-Reply-To=48EAA971.4000101%40terra.es">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029367.html">
   <LINK REL="Next"  HREF="029353.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] mono 2.0, solaris x86, bootstrap</H1>
    <B>David Suarez</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono%202.0%2C%20solaris%20x86%2C%20bootstrap&In-Reply-To=48EAA971.4000101%40terra.es"
       TITLE="[Mono-dev] mono 2.0, solaris x86, bootstrap">listasdavid at codicesoftware.com
       </A><BR>
    <I>Tue Oct  7 10:01:50 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029367.html">[Mono-dev] mono 2.0, solaris x86, bootstrap
</A></li>
        <LI>Next message: <A HREF="029353.html">[Mono-dev] mono 2.0, solaris x86, bootstrap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29373">[ date ]</a>
              <a href="thread.html#29373">[ thread ]</a>
              <a href="subject.html#29373">[ subject ]</a>
              <a href="author.html#29373">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, 

I tried too, and using monolite (or the latest mono binaries available on
solaris, it's the same for both) I get this recurrent error: 

-bash-3.00$ /home/pablo/mono/mono/mono/mini/mono
../../class/lib/monolite/mcs.exe
dave: /home/pablo/monobin/lib/mono/1.0/mscorlib.dll
The assembly mscorlib.dll was not found or could not be loaded.
It should have been installed in the
`/home/pablo/monobin/lib/mono/1.0/mscorlib.dll' directory.

-bash-3.00$ export MONO_PATH=/home/pablo/mono/mcs/class/lib/monolite
-bash-3.00$ /home/pablo/mono/mono/mono/mini/mono
../../class/lib/monolite/mcs.exe
dave: /home/pablo/mono/mcs/class/lib/monolite/mscorlib.dll
dave: /home/pablo/mono/mcs/class/lib/monolite/mono/1.0/mscorlib.dll
dave: /home/pablo/monobin/lib/mono/1.0/mscorlib.dll
The assembly mscorlib.dll was not found or could not be loaded.
It should have been installed in the
`/home/pablo/monobin/lib/mono/1.0/mscorlib.dll' directory.

-bash-3.00$ ll ../../class/lib/monolite/ total 10592
-rwxr-xr-x   1 pablo    staff     288256 Oct  7 10:17 Mono.Security.dll
-rwxr-xr-x   1 pablo    staff    1111040 Oct  7 10:17 System.Xml.dll
-rwxr-xr-x   1 pablo    staff     850432 Oct  7 10:17 System.dll
-rwxr-xr-x   1 pablo    staff    1036800 Oct  7 10:17 mcs.exe
-rwxr-xr-x   1 pablo    staff    2078720 Oct  7 10:17 mscorlib.dll



(I added some debug output to the mono load_in_path function in assembly.c
in order to print the search paths, lines starting with &quot;dave:&quot;) 

It seems that it's not able to load the mscorlib provided with monolite (at
/home/pablo/mono/mcs/class/lib/monolite/mscorlib.dll) although it's trying
to load that path. 

Is there any environment variable or argument that can be set anywhere to
get the compiled mono to find corlib? 



&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A> [mailto:mono-devel-list-
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bounces at lists.ximian.com</A>] On Behalf Of <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A>
</I>&gt;<i> Sent: Tuesday, October 07, 2008 2:13 AM
</I>&gt;<i> To: Andreas F&#228;rber
</I>&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-dev] mono 2.0, solaris x86, bootstrap
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Do you think the problem can be related to the &quot;profiles&quot;? I mean, it
</I>&gt;<i> seems I can't try to use a 2.0 profile, only a 1.1, and as soon as it
</I>&gt;<i> tries 2.0 it fails... Is that possible?
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A> escribi&#243;:
</I>&gt;<i> &gt; Hi Andreas, all,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I gave up trying to build on Solaris 10, since it seems it has some
</I>&gt;<i> sort
</I>&gt;<i> &gt; of problem.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I switched to OpenSolaris.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I've just downloaded the latest OpenSolaris release, installed it and
</I>&gt;<i> &gt; add some required packages like gcc, libtool, gmake, bison and glib2
</I>&gt;<i> &gt; from blastwave.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Removed mcs executable.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Then I also had to install SUNWhea to have includes since the default
</I>&gt;<i> &gt; 2008.05 opensolaris CD doesn't include them.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I also installed: SUNWarc, SUNWscp and SUNWxinc.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Then I donwloaded a tar.gz mono-2.0 source code release.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ./configure worked
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &quot;gmake&quot; worked until hitting the mcs stuff...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Installed mono 1.1.13.8 from blastwave.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Run make again and got the following error. If you look carefully
</I>&gt;<i> you'll
</I>&gt;<i> &gt; see there's (again) a problem locating mscorlib.dll, this time after
</I>&gt;<i> &gt; being able to build a bunch of c-sharp code...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ../../jay/jay: 3 rules never reduced
</I>&gt;<i> &gt; ../../jay/jay: 1 shift/reduce conflict, 46 reduce/reduce conflicts.
</I>&gt;<i> &gt; echo &quot;#define XSLT_PATTERN&quot; &gt; Mono.Xml.Xsl/PatternTokenizer.cs
</I>&gt;<i> &gt; cat System.Xml.XPath/Tokenizer.cs &gt;&gt;Mono.Xml.Xsl/PatternTokenizer.cs
</I>&gt;<i> &gt; MONO_PATH=&quot;../../class/lib/basic:$MONO_PATH&quot;
</I>&gt;<i> &gt; /export/home/pablo/mono-2.0/runtime/mono-wrapper
</I>&gt;<i> &gt; ../../class/lib/basic/mcs.exe /codepage:65001  -optimize -d:NET_1_1
</I>&gt;<i> &gt; -d:ONLY_1_1 -d:BOOTSTRAP_WITH_OLDLIB -debug /noconfig -r:mscorlib.dll
</I>&gt;<i> &gt; -r:System.dll -nowarn:0162,0618,0612,0642,1595 -target:library
</I>&gt;<i> &gt; -out:System.Xml.dll System.Xml.XPath/Parser.cs
</I>&gt;<i> &gt; Mono.Xml.Xsl/PatternParser.cs Mono.Xml.Xsl/PatternTokenizer.cs
</I>&gt;<i> &gt; @System.Xml.dll.sources
</I>&gt;<i> &gt; GC Warning: Large stack limit(133464064): only scanning 8 MB
</I>&gt;<i> &gt; The assembly mscorlib.dll was not found or could not be loaded.
</I>&gt;<i> &gt; It should have been installed in the
</I>&gt;<i> &gt; `/opt/mono/lib/mono/1.0/mscorlib.dll' directory.
</I>&gt;<i> &gt; gmake[8]: *** [../../class/lib/basic/System.Xml.dll] Error 1
</I>&gt;<i> &gt; gmake[8]: Leaving directory
</I>&gt;<i> &gt; `/export/home/pablo/mono-2.0/mcs/class/System.XML'
</I>&gt;<i> &gt; gmake[7]: *** [do-all] Error 2
</I>&gt;<i> &gt; gmake[7]: Leaving directory
</I>&gt;<i> &gt; `/export/home/pablo/mono-2.0/mcs/class/System.XML'
</I>&gt;<i> &gt; gmake[6]: *** [all-recursive] Error 1
</I>&gt;<i> &gt; gmake[6]: Leaving directory `/export/home/pablo/mono-2.0/mcs/class'
</I>&gt;<i> &gt; gmake[5]: *** [all-recursive] Error 1
</I>&gt;<i> &gt; gmake[5]: Leaving directory `/export/home/pablo/mono-2.0/mcs'
</I>&gt;<i> &gt; gmake[4]: *** [profile-do--basic--all] Error 2
</I>&gt;<i> &gt; gmake[4]: Leaving directory `/export/home/pablo/mono-2.0/mcs'
</I>&gt;<i> &gt; gmake[3]: *** [profiles-do--all] Error 2
</I>&gt;<i> &gt; gmake[3]: Leaving directory `/export/home/pablo/mono-2.0/mcs'
</I>&gt;<i> &gt; gmake[2]: *** [all-local] Error 2
</I>&gt;<i> &gt; gmake[2]: Leaving directory `/export/home/pablo/mono-2.0/runtime'
</I>&gt;<i> &gt; gmake[1]: *** [all-recursive] Error 1
</I>&gt;<i> &gt; gmake[1]: Leaving directory `/export/home/pablo/mono-2.0'
</I>&gt;<i> &gt; gmake: *** [all] Error 2
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Any help would be really (really) welcomed...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; pablo
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A> escribi&#243;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Andreas,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I just followed your instructions, step by step. First downloaded
</I>&gt;<i> and
</I>&gt;<i> &gt;&gt; installed gc-7.1 (worked perfectly), then configure and make mono.
</I>&gt;<i> But
</I>&gt;<i> &gt;&gt; I'm afraid I think I'm reaching the same point.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Here's the ouput. At some point (it seems it happens after compiling
</I>&gt;<i> &gt;&gt; some c# code) it starts complaining about mscorlib location...
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; gmake[7]: Leaving directory `/home/pablo/mono/mono-2.0/mcs/build'
</I>&gt;<i> &gt;&gt; gmake[6]: Leaving directory `/home/pablo/mono/mono-2.0/mcs/build'
</I>&gt;<i> &gt;&gt; gmake[6]: Entering directory `/home/pablo/mono/mono-2.0/mcs/jay'
</I>&gt;<i> &gt;&gt; gmake all-local
</I>&gt;<i> &gt;&gt; gmake[7]: Entering directory `/home/pablo/mono/mono-2.0/mcs/jay'
</I>&gt;<i> &gt;&gt; gmake[7]: Nothing to be done for `all-local'.
</I>&gt;<i> &gt;&gt; gmake[7]: Leaving directory `/home/pablo/mono/mono-2.0/mcs/jay'
</I>&gt;<i> &gt;&gt; gmake[6]: Leaving directory `/home/pablo/mono/mono-2.0/mcs/jay'
</I>&gt;<i> &gt;&gt; gmake[6]: Entering directory `/home/pablo/mono/mono-2.0/mcs/mcs'
</I>&gt;<i> &gt;&gt; gmake all-local
</I>&gt;<i> &gt;&gt; gmake[7]: Entering directory `/home/pablo/mono/mono-2.0/mcs/mcs'
</I>&gt;<i> &gt;&gt; mcs /codepage:65001  -optimize -d:NET_1_1 -d:ONLY_1_1
</I>&gt;<i> &gt;&gt; -d:BOOTSTRAP_WITH_OLDLIB -debug -target:exe -out:mcs.exe cs-
</I>&gt;<i> parser.cs
</I>&gt;<i> &gt;&gt; @mcs.exe.sources
</I>&gt;<i> &gt;&gt; GC Warning: Large stack limit(133464064): only scanning 8 MB
</I>&gt;<i> &gt;&gt; cs-parser.cs(6665,7): warning CS0162: Unreachable code detected
</I>&gt;<i> &gt;&gt; cs-parser.cs(6667,5): warning CS0162: Unreachable code detected
</I>&gt;<i> &gt;&gt; expression.cs(991,14): warning CS0618:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> `Mono.CSharp.UserOperatorCall.MakeSimpleCall(Mono.CSharp.EmitContext,
</I>&gt;<i> &gt;&gt; Mono.CSharp.MethodGroupExpr, Mono.CSharp.Expression,
</I>&gt;<i> &gt;&gt; Mono.CSharp.Location)' is obsolete: `It may not be compatible with
</I>&gt;<i> &gt;&gt; expression trees'
</I>&gt;<i> &gt;&gt; Compilation succeeded - 3 warning(s)
</I>&gt;<i> &gt;&gt; cp mcs.exe ../class/lib/basic/mcs.exe
</I>&gt;<i> &gt;&gt; test ! -f mcs.exe.mdb || cp mcs.exe.mdb
</I>&gt;<i> ../class/lib/basic/mcs.exe.mdb
</I>&gt;<i> &gt;&gt; gmake[7]: Leaving directory `/home/pablo/mono/mono-2.0/mcs/mcs'
</I>&gt;<i> &gt;&gt; gmake[6]: Leaving directory `/home/pablo/mono/mono-2.0/mcs/mcs'
</I>&gt;<i> &gt;&gt; gmake[6]: Entering directory `/home/pablo/mono/mono-2.0/mcs/class'
</I>&gt;<i> &gt;&gt; gmake[7]: Entering directory `/home/pablo/mono/mono-
</I>&gt;<i> 2.0/mcs/class/corlib'
</I>&gt;<i> &gt;&gt; gmake all-local
</I>&gt;<i> &gt;&gt; gmake[8]: Entering directory `/home/pablo/mono/mono-
</I>&gt;<i> 2.0/mcs/class/corlib'
</I>&gt;<i> &gt;&gt; mcs /codepage:65001 -nowarn:169,612,618,649 -d:INSIDE_CORLIB -
</I>&gt;<i> optimize
</I>&gt;<i> &gt;&gt; -d:NET_1_1 -d:ONLY_1_1 -d:BOOTSTRAP_WITH_OLDLIB -debug /noconfig -
</I>&gt;<i> unsafe
</I>&gt;<i> &gt;&gt; -nostdlib -resource:resources/collation.core.bin
</I>&gt;<i> &gt;&gt; -resource:resources/collation.tailoring.bin
</I>&gt;<i> &gt;&gt; -resource:resources/collation.cjkCHS.bin
</I>&gt;<i> &gt;&gt; -resource:resources/collation.cjkCHT.bin
</I>&gt;<i> &gt;&gt; -resource:resources/collation.cjkJA.bin
</I>&gt;<i> &gt;&gt; -resource:resources/collation.cjkKO.bin
</I>&gt;<i> &gt;&gt; -resource:resources/collation.cjkKOlv2.bin -target:library
</I>&gt;<i> &gt;&gt; -out:mscorlib.dll  @corlib.dll.sources
</I>&gt;<i> &gt;&gt; GC Warning: Large stack limit(133464064): only scanning 8 MB
</I>&gt;<i> &gt;&gt; System/WindowsConsoleDriver.cs(29,1): warning CS1635: Cannot restore
</I>&gt;<i> &gt;&gt; warning `CS0169' because it was disabled globally
</I>&gt;<i> &gt;&gt; System.Security.Cryptography/PasswordDeriveBytes.cs(231,1): warning
</I>&gt;<i> &gt;&gt; CS1691: `809' is not a valid warning number
</I>&gt;<i> &gt;&gt; System.Security.Cryptography/PasswordDeriveBytes.cs(237,1): warning
</I>&gt;<i> &gt;&gt; CS1691: `809' is not a valid warning number
</I>&gt;<i> &gt;&gt; System/Int16.cs(178,3): warning CS0162: Unreachable code detected
</I>&gt;<i> &gt;&gt; System/Int32.cs(200,3): warning CS0162: Unreachable code detected
</I>&gt;<i> &gt;&gt; System/Int64.cs(181,3): warning CS0162: Unreachable code detected
</I>&gt;<i> &gt;&gt; System/String.cs(946,6): warning CS0162: Unreachable code detected
</I>&gt;<i> &gt;&gt; System/String.cs(1049,6): warning CS0162: Unreachable code detected
</I>&gt;<i> &gt;&gt; Mono.Globalization.Unicode/Normalization.cs(76,36): warning CS0162:
</I>&gt;<i> &gt;&gt; Unreachable code detected
</I>&gt;<i> &gt;&gt; Compilation succeeded - 9 warning(s)
</I>&gt;<i> &gt;&gt; :  mscorlib.dll ../../class/mono.snk
</I>&gt;<i> &gt;&gt; mv mscorlib.dll ../../class/lib/basic/mscorlib.dll
</I>&gt;<i> &gt;&gt; test ! -f mscorlib.dll.mdb || mv mscorlib.dll.mdb
</I>&gt;<i> &gt;&gt; ../../class/lib/basic/mscorlib.dll.mdb
</I>&gt;<i> &gt;&gt; test ! -f mscorlib.pdb || mv mscorlib.pdb
</I>&gt;<i> ../../class/lib/basic/mscorlib.pdb
</I>&gt;<i> &gt;&gt; gmake[8]: Leaving directory `/home/pablo/mono/mono-
</I>&gt;<i> 2.0/mcs/class/corlib'
</I>&gt;<i> &gt;&gt; gmake[7]: Leaving directory `/home/pablo/mono/mono-
</I>&gt;<i> 2.0/mcs/class/corlib'
</I>&gt;<i> &gt;&gt; gmake[7]: Entering directory `/home/pablo/mono/mono-
</I>&gt;<i> 2.0/mcs/class/System'
</I>&gt;<i> &gt;&gt; gmake all-local
</I>&gt;<i> &gt;&gt; gmake[8]: Entering directory `/home/pablo/mono/mono-
</I>&gt;<i> 2.0/mcs/class/System'
</I>&gt;<i> &gt;&gt; ** Warning: System.dll built without parts that depend on:
</I>&gt;<i> System.Xml.dll
</I>&gt;<i> &gt;&gt; MONO_PATH=&quot;../../class/lib/basic:$MONO_PATH&quot;
</I>&gt;<i> &gt;&gt; /home/pablo/mono/mono-2.0/runtime/mono-wrapper
</I>&gt;<i> &gt;&gt; ../../class/lib/basic/mcs.exe /codepage:65001  -optimize -d:NET_1_1
</I>&gt;<i> &gt;&gt; -d:ONLY_1_1 -d:BOOTSTRAP_WITH_OLDLIB -debug /noconfig  -
</I>&gt;<i> target:library
</I>&gt;<i> &gt;&gt; -out:System.dll  @System.dll.sources
</I>&gt;<i> &gt;&gt; The assembly mscorlib.dll was not found or could not be loaded.
</I>&gt;<i> &gt;&gt; It should have been installed in the
</I>&gt;<i> &gt;&gt; `/opt/mono/lib/mono/1.0/mscorlib.dll' directory.
</I>&gt;<i> &gt;&gt; gmake[8]: *** [../../class/lib/basic/System.dll] Error 1
</I>&gt;<i> &gt;&gt; gmake[8]: Leaving directory `/home/pablo/mono/mono-
</I>&gt;<i> 2.0/mcs/class/System'
</I>&gt;<i> &gt;&gt; gmake[7]: *** [do-all] Error 2
</I>&gt;<i> &gt;&gt; gmake[7]: Leaving directory `/home/pablo/mono/mono-
</I>&gt;<i> 2.0/mcs/class/System'
</I>&gt;<i> &gt;&gt; gmake[6]: *** [all-recursive] Error 1
</I>&gt;<i> &gt;&gt; gmake[6]: Leaving directory `/home/pablo/mono/mono-2.0/mcs/class'
</I>&gt;<i> &gt;&gt; gmake[5]: *** [all-recursive] Error 1
</I>&gt;<i> &gt;&gt; gmake[5]: Leaving directory `/home/pablo/mono/mono-2.0/mcs'
</I>&gt;<i> &gt;&gt; gmake[4]: *** [profile-do--basic--all] Error 2
</I>&gt;<i> &gt;&gt; gmake[4]: Leaving directory `/home/pablo/mono/mono-2.0/mcs'
</I>&gt;<i> &gt;&gt; gmake[3]: *** [profiles-do--all] Error 2
</I>&gt;<i> &gt;&gt; gmake[3]: Leaving directory `/home/pablo/mono/mono-2.0/mcs'
</I>&gt;<i> &gt;&gt; gmake[2]: *** [all-local] Error 2
</I>&gt;<i> &gt;&gt; gmake[2]: Leaving directory `/home/pablo/mono/mono-2.0/runtime'
</I>&gt;<i> &gt;&gt; gmake[1]: *** [all-recursive] Error 1
</I>&gt;<i> &gt;&gt; gmake[1]: Leaving directory `/home/pablo/mono/mono-2.0'
</I>&gt;<i> &gt;&gt; gmake: *** [all] Error 2
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; -bash-3.00$ uname -a
</I>&gt;<i> &gt;&gt; SunOS unknown 5.10 Generic_127128-11 i86pc i386 i86pc
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thanks again for your help
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; pablo
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Andreas F&#228;rber escribi&#243;:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A> schrieb:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Well, it seems building the &quot;core&quot; is not hard if you make sure
</I>&gt;<i> (on
</I>&gt;<i> &gt;&gt;&gt;&gt; Solaris 10) that you use GNU packages and not the SUN ones (gmake,
</I>&gt;<i> &gt;&gt;&gt;&gt; libtool, and everything else). I can build &quot;mono&quot; from trunk or 2-
</I>&gt;<i> 0.
</I>&gt;<i> &gt;&gt;&gt;&gt; but the problems start with mcs... I'm now following the
</I>&gt;<i> instructions
</I>&gt;<i> &gt;&gt;&gt;&gt; sent by Geoff (basically using
</I>&gt;<i> &gt;&gt;&gt;&gt; <A HREF="http://mono.ximian.com/monobuild/preview/sources/mono/mono-">http://mono.ximian.com/monobuild/preview/sources/mono/mono-</A>
</I>&gt;<i> 2.0.tar.bz2).
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Having the runtime compile does not imply it'll work at runtime...
</I>&gt;<i> &gt;&gt;&gt; Whether you use a tarball or monolite usually doesn't matter, but
</I>&gt;<i> if
</I>&gt;<i> &gt;&gt;&gt; you can, a tarball is &quot;safer&quot;.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Fwiw, I've just finished compiling <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono at r114845+mcs</A>@r114882 from
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono at r109531+mcs</A>@r109587 (all trunk) on OpenSolaris build 95 for
</I>&gt;<i> i86
</I>&gt;<i> &gt;&gt;&gt; using exactly this:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; ../mono/configure --prefix=/opt/mono --with-gc=boehm \
</I>&gt;<i> &gt;&gt;&gt; --with-sigaltstack=no \
</I>&gt;<i> &gt;&gt;&gt; CPPFLAGS=&quot;-I/opt/mono-gc/include&quot; \
</I>&gt;<i> &gt;&gt;&gt; LDFLAGS=&quot;-L/opt/mono-gc/lib -R/opt/mono/lib&quot;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; where /opt/mono-gc is the prefix of Boehm GC 7.1, compiled with:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; ../gc-7.1/configure --prefix=/opt/mono-gc
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Works nicely there. Don't have access to S10 from here though to
</I>&gt;<i> fetch
</I>&gt;<i> &gt;&gt;&gt; my scripts or to try the latest revs there.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; On OpenSolaris/amd64, I use these on top:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; PREFIX=/opt/mono-gc
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; ../gc-7.1/configure --prefix=$PREFIX --libdir=$PREFIX/lib/amd64 \
</I>&gt;<i> &gt;&gt;&gt; CPPFLAGS=-m64 CFLAGS=-m64 CXXFLAGS=-m64 LDFLAGS=-m64
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; and:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; PREFIX=/opt/mono
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; ../mono/configure --prefix=$PREFIX --bindir=$PREFIX/bin/amd64
</I>&gt;<i> &gt;&gt;&gt; --libdir=$PREFIX/lib/amd64 \
</I>&gt;<i> &gt;&gt;&gt; --with-gc=boehm --with-sigaltstack=no --enable-big-arrays
</I>&gt;<i> &gt;&gt;&gt; --enable-dtrace --disable-mcs-build \
</I>&gt;<i> &gt;&gt;&gt; CPPFLAGS=&quot;-m64 -I/opt/mono-gc/include&quot; CFLAGS=&quot;-m64&quot; \
</I>&gt;<i> &gt;&gt;&gt; LDFLAGS=&quot;-m64 -L/opt/mono-gc/lib/amd64 -R/opt/mono/lib/amd64&quot; \
</I>&gt;<i> &gt;&gt;&gt; PKG_CONFIG_PATH=&quot;/usr/lib/amd64/pkgconfig:$PKG_CONFIG_PATH&quot;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; (Obviously I'm skipping mcs build in this script, but I've done
</I>&gt;<i> full
</I>&gt;<i> &gt;&gt;&gt; amd64 bootstraps before with post-2.0 revisions.)
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Note that I use dedicated /opt subdirs because that's where
</I>&gt;<i> 3rdparty
</I>&gt;<i> &gt;&gt;&gt; packages are often installed on Solarises, making it easy to rename
</I>&gt;<i> or
</I>&gt;<i> &gt;&gt;&gt; remove. $prefix/{bin,lib}/amd64 is where Sun places their amd64
</I>&gt;<i> files.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Using a monolite from 12:05 GMT+02:00 today (with Sun's `mcs`
</I>&gt;<i> renamed),
</I>&gt;<i> &gt;&gt;&gt; there are no problems on OSol/i86 either.
</I>&gt;<i> &gt;&gt;&gt; So it's definitely not mcs's or monolite's fault!!!
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Cetin actually mentioned OpenSolaris as opposed to Solaris 10.
</I>&gt;<i> When
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; OpenSolaris 2008.05 was released I posted the following mini-
</I>&gt;<i> guide:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; <A HREF="http://lists.ximian.com/pipermail/mono-list/2008-May/038584.html">http://lists.ximian.com/pipermail/mono-list/2008-May/038584.html</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; It was actually supposed to avoid questions later on. ;)
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Following this guide the only thing I realize I missed is the
</I>&gt;<i> LDFLAGS
</I>&gt;<i> &gt;&gt;&gt;&gt; stuff? Is it the reason why mcs.exe can't be run?
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; In case you mean LDFLAGS=-R/path then no, it has no influence on
</I>&gt;<i> mcs. It
</I>&gt;<i> &gt;&gt;&gt; helps with MD (libPosixHelper.so et al.).
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; The often-referenced <A HREF="http://www.mono-project.com/Mono:Solaris">http://www.mono-project.com/Mono:Solaris</A>
</I>&gt;<i> page
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; contains a link to another post of mine, for Solaris 10:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; <A HREF="http://lists.ximian.com/pipermail/mono-list/2007-">http://lists.ximian.com/pipermail/mono-list/2007-</A>
</I>&gt;<i> January/034101.html
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Yes, this guide was helpful building 1.1.13 (almost two years ago
</I>&gt;<i> &gt;&gt;&gt;&gt; already), but now all those tricks are not needed anymore... You
</I>&gt;<i> can
</I>&gt;<i> &gt;&gt;&gt;&gt; get the whole c code build easily...
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; If you build using Blastwave tools you don't need some of the
</I>&gt;<i> &gt;&gt;&gt; environment variables; otherwise you still do on Solaris 10.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; The only thing outdated in that post to my knowledge is
</I>&gt;<i> &gt;&gt;&gt; CFLAGS=-D_POSIX_PTHREAD_SEMANTICS and possibly the mono-service
</I>&gt;<i> issue.
</I>&gt;<i> &gt;&gt;&gt; Jonel's blog on the -mt pkg-config issue is almost three years old
</I>&gt;<i> and
</I>&gt;<i> &gt;&gt;&gt; mostly still applies due to the long lifetime of S10. :)
</I>&gt;<i> &gt;&gt;&gt; AS=gas for instance was only needed for running `make check` so you
</I>&gt;<i> &gt;&gt;&gt; won't notice during plain `make`.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Andreas
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Mono-devel-list mailing list
</I>&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029367.html">[Mono-dev] mono 2.0, solaris x86, bootstrap
</A></li>
	<LI>Next message: <A HREF="029353.html">[Mono-dev] mono 2.0, solaris x86, bootstrap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29373">[ date ]</a>
              <a href="thread.html#29373">[ thread ]</a>
              <a href="subject.html#29373">[ subject ]</a>
              <a href="author.html#29373">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
