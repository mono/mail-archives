<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Patch: Stack alignment on x86
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Patch%3A%20Stack%20alignment%20on%20x86&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029517.html">
   <LINK REL="Next"  HREF="029521.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Patch: Stack alignment on x86</H1>
    <B>Mark Probst</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Patch%3A%20Stack%20alignment%20on%20x86&In-Reply-To="
       TITLE="[Mono-dev] Patch: Stack alignment on x86">mark.probst at gmail.com
       </A><BR>
    <I>Fri Oct 17 11:42:16 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029517.html">[Mono-dev] Compiling Mono on SPARC
</A></li>
        <LI>Next message: <A HREF="029521.html">[Mono-dev] Patch: Stack alignment on x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29518">[ date ]</a>
              <a href="thread.html#29518">[ thread ]</a>
              <a href="subject.html#29518">[ subject ]</a>
              <a href="author.html#29518">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

This patch aligns the stack in managed code on x86 to 16 bytes on all
platforms, not only on Darwin, as done (incompletely) previously.  In
addition the alignment can now be specified by a #define.

The reason for this patch is that floating point code that uses doubles
performs poorly if the stack (and thus the local variables) is not
aligned to at least 8 bytes.

Paolo: Please review.

Mark

-------------- next part --------------
A non-text attachment was scrubbed...
Name: x86_stack_align.diff
Type: text/x-patch
Size: 7044 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081017/243c19bf/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081017/243c19bf/attachment.bin</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029517.html">[Mono-dev] Compiling Mono on SPARC
</A></li>
	<LI>Next message: <A HREF="029521.html">[Mono-dev] Patch: Stack alignment on x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29518">[ date ]</a>
              <a href="thread.html#29518">[ thread ]</a>
              <a href="subject.html#29518">[ subject ]</a>
              <a href="author.html#29518">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
