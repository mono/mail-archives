<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev]  Unable To Read Using SerialPort Class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%20Unable%20To%20Read%20Using%20SerialPort%20Class&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029434.html">
   <LINK REL="Next"  HREF="029340.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev]  Unable To Read Using SerialPort Class</H1>
    <B>Adam Shapiro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%20Unable%20To%20Read%20Using%20SerialPort%20Class&In-Reply-To="
       TITLE="[Mono-dev]  Unable To Read Using SerialPort Class">adam1piano at gmail.com
       </A><BR>
    <I>Sat Oct  4 14:57:49 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029434.html">[Mono-dev] mono 2.0, solaris x86, bootstrap
</A></li>
        <LI>Next message: <A HREF="029340.html">[Mono-dev] LRU cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29344">[ date ]</a>
              <a href="thread.html#29344">[ thread ]</a>
              <a href="subject.html#29344">[ subject ]</a>
              <a href="author.html#29344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I'm currently trying to use the System.IO.Ports.SerialPort class to
communicate with a microcontroller, however I can't seem to read from the
port in any way in OS X. After much searching it looks like the DataReceived
event is not functional in Mono yet and that the suggested method is to poll
the port using the ReadByte function, but no matter which read method I try
(I've tried Read, ReadByte, and ReadExisting, as well as the DataReceived
event), I always end up getting timeout exceptions.

I'm checking the BytesToRead value before issuing a read and it's returning
expected values for what the controller is outputting, I just can't seem to
retrieve the data from the buffer.

I'm attempting the read with the following code:

byte[] bytes=new byte[byteCount];
int i=0;
bytes[i++]=(byte)port.ReadByte();

I am sure that the port is reading (if I use a serial terminal I can see the
data), and the port is readable if I compile the code in Visual Studio in
Windows - I haven't tried Mono in Windows yet.

Any help you can give is much appreciated. Thanks.
-- 
View this message in context: <A HREF="http://www.nabble.com/Unable-To-Read-Using-SerialPort-Class-tp19815631p19815631.html">http://www.nabble.com/Unable-To-Read-Using-SerialPort-Class-tp19815631p19815631.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.

</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029434.html">[Mono-dev] mono 2.0, solaris x86, bootstrap
</A></li>
	<LI>Next message: <A HREF="029340.html">[Mono-dev] LRU cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29344">[ date ]</a>
              <a href="thread.html#29344">[ thread ]</a>
              <a href="subject.html#29344">[ subject ]</a>
              <a href="author.html#29344">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
