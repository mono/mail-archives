<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Extract method name from IEnumerator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Extract%20method%20name%20from%20IEnumerator&In-Reply-To=69f7d8470810040635rdad971eh5db5c2db52d54059%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029330.html">
   <LINK REL="Next"  HREF="029350.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Extract method name from IEnumerator</H1>
    <B>Marek Safar</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Extract%20method%20name%20from%20IEnumerator&In-Reply-To=69f7d8470810040635rdad971eh5db5c2db52d54059%40mail.gmail.com"
       TITLE="[Mono-dev] Extract method name from IEnumerator">marek.safar at seznam.cz
       </A><BR>
    <I>Sun Oct  5 04:57:04 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029330.html">[Mono-dev] Extract method name from IEnumerator
</A></li>
        <LI>Next message: <A HREF="029350.html">[Mono-dev] Extract method name from IEnumerator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29348">[ date ]</a>
              <a href="thread.html#29348">[ thread ]</a>
              <a href="subject.html#29348">[ subject ]</a>
              <a href="author.html#29348">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Joachim,
&gt;&gt;<i>  Is there any way to extract the method name from an IEnumerator
</I>&gt;&gt;<i>  object when using iterators?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Our users do this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  IEnumerator MyMethod ()
</I>&gt;&gt;<i>  {
</I>&gt;&gt;<i>         yield return 0;
</I>&gt;&gt;<i>         ....
</I>&gt;&gt;<i>  }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  StartCoroutine(MyMethod ());
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  StartCoroutine passes the IEnumerator down to c code and schedules
</I>&gt;&gt;<i>  MoveNext from C code.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  We use this kind of setup a lot for game code. This all works great,
</I>&gt;&gt;<i>  the problem is profiling.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  When profiling the method name that shows up is always MoveNext. I
</I>&gt;&gt;<i>  would like to replace MoveNext with the actual method name.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> The method's name is always MoveNext to conform to
</I>&gt;<i> System.Collections.IEnumerator, but the declaring type of the method
</I>&gt;<i> will be named after the original method.
</I>&gt;<i>
</I>&gt;<i> For example:
</I>&gt;<i>
</I>&gt;<i> class Test {
</I>&gt;<i> 	static IEnumerable&lt;int&gt; Foo ()
</I>&gt;<i> 	{
</I>&gt;<i> 		yield return 42;
</I>&gt;<i> 	}
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> The enumerator's type will be named `&lt;Foo&gt;c__IteratorN`. The issue is
</I>&gt;<i> that this name can probably be changed as will by gmcs, but it looks
</I>&gt;<i> like you can get the method's original name from its generated type
</I>&gt;<i> name.
</I>&gt;<i>   
</I>JB summarized it nicely, you can use name inside &lt;.&gt; as original method 
name, there is couple of issue with it though.
It may change in the future and it ignores generic method and method 
overloads. Therefore if you need better name mapping you have to use our 
debug symbol file.

Marek



</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029330.html">[Mono-dev] Extract method name from IEnumerator
</A></li>
	<LI>Next message: <A HREF="029350.html">[Mono-dev] Extract method name from IEnumerator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29348">[ date ]</a>
              <a href="thread.html#29348">[ thread ]</a>
              <a href="subject.html#29348">[ subject ]</a>
              <a href="author.html#29348">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
