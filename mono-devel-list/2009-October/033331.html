<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] HttpOnly and Expires not handled by CookieContainer.SetCookies(Uri, string)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20HttpOnly%20and%20Expires%20not%20handled%20by%0A%20CookieContainer.SetCookies%28Uri%2C%20string%29&In-Reply-To=C7092E24.131D%25tom.philpot%40logos.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033330.html">
   <LINK REL="Next"  HREF="033332.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] HttpOnly and Expires not handled by CookieContainer.SetCookies(Uri, string)</H1>
    <B>Gonzalo Paniagua Javier</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20HttpOnly%20and%20Expires%20not%20handled%20by%0A%20CookieContainer.SetCookies%28Uri%2C%20string%29&In-Reply-To=C7092E24.131D%25tom.philpot%40logos.com"
       TITLE="[Mono-dev] HttpOnly and Expires not handled by CookieContainer.SetCookies(Uri, string)">gonzalo.mono at gmail.com
       </A><BR>
    <I>Sun Oct 25 09:53:38 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033330.html">[Mono-dev] HttpOnly and Expires not handled by CookieContainer.SetCookies(Uri, string)
</A></li>
        <LI>Next message: <A HREF="033332.html">[Mono-dev] Error handling longs on Mono SPARC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33331">[ date ]</a>
              <a href="thread.html#33331">[ thread ]</a>
              <a href="subject.html#33331">[ subject ]</a>
              <a href="author.html#33331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2009-10-24 at 22:20 -0700, Tom Philpot wrote:
&gt;<i> While troubleshooting a web service authentication problem our app is
</I>&gt;<i> having, I noticed that CookieContainer.SetCookies(Uri, string) has a few
</I>&gt;<i> problems.
</I>&gt;<i> 
</I>&gt;<i> 1) It assumes that the Set-Cookie header only has one cookie in it, since it
</I>&gt;<i> does not account for several comma separated cookies (as the MSDN docs
</I>&gt;<i> state, and RFC 2109 section 4.2.2)
</I>&gt;<i> 
</I>&gt;<i> 2) It does not properly set Cookie.Expires or Cookie.HttpOnly (for .NET
</I>&gt;<i> 2.0). The current implementation will assume that expires=... specifies a
</I>&gt;<i> new cookie. Similarly, HttpOnly will cause the CookieContainer to throw an
</I>&gt;<i> exception when the cookie is being created since it assumes HttpOnly is a
</I>&gt;<i> cookie name with no value.
</I>&gt;<i> 
</I>&gt;<i> 3) I also noticed most of the CookieContainer tests are marked as
</I>&gt;<i> &quot;NotWorking&quot;.
</I>&gt;<i> 
</I>&gt;<i> Is CookieContainer really that broken, or am I missing something?
</I>
There's only 1 known bug in bugzilla related to CookieContainer plus the
tests that are marked as NotWorking. My guess is that what we have is
enough for most of the people using it. It would help if you open new
bugs and attach simple self-contained tests to them.

-Gonzalo


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033330.html">[Mono-dev] HttpOnly and Expires not handled by CookieContainer.SetCookies(Uri, string)
</A></li>
	<LI>Next message: <A HREF="033332.html">[Mono-dev] Error handling longs on Mono SPARC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33331">[ date ]</a>
              <a href="thread.html#33331">[ thread ]</a>
              <a href="subject.html#33331">[ subject ]</a>
              <a href="author.html#33331">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
