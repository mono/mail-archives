<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [patch] coreclr/com check + icall cleanup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5Bpatch%5D%20coreclr/com%20check%20%2B%20icall%20cleanup&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033381.html">
   <LINK REL="Next"  HREF="033371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [patch] coreclr/com check + icall cleanup</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5Bpatch%5D%20coreclr/com%20check%20%2B%20icall%20cleanup&In-Reply-To="
       TITLE="[Mono-dev] [patch] coreclr/com check + icall cleanup">sebastien at ximian.com
       </A><BR>
    <I>Thu Oct 29 14:43:41 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033381.html">[Mono-dev] IA-64 big-endian
</A></li>
        <LI>Next message: <A HREF="033371.html">[Mono-dev]  Mono and WSDL with SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33370">[ date ]</a>
              <a href="thread.html#33370">[ thread ]</a>
              <a href="subject.html#33370">[ subject ]</a>
              <a href="author.html#33370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Two small/easy patches for review.

The first one avoid calling mono_com_init when coreclr is enabled*.&#65279;
This avoid a crash if some assembly use [ComImport] on a type and throw
a TypeLoadException - which is what happens in Silverlight.

        * For some reason (I guess it use COM for it's platform code,
        while Moonlight does not) &#65279;Silverlight expose [ComImport] but
        otherwise does not support COM (as least for application code).

Second patch removes some internal calls (all strings except one) that
are not used (anymore) in the class libraries.

Sebastien

p.s. both patches were created from 2-6 branch but I'll commit them
against HEAD too.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cominitcheck.20091029.diff
Type: text/x-patch
Size: 2144 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091029/d1e1e9d0/attachment-0002.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091029/d1e1e9d0/attachment-0002.bin</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: icalls.20091029.diff
Type: text/x-patch
Size: 12779 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091029/d1e1e9d0/attachment-0003.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091029/d1e1e9d0/attachment-0003.bin</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033381.html">[Mono-dev] IA-64 big-endian
</A></li>
	<LI>Next message: <A HREF="033371.html">[Mono-dev]  Mono and WSDL with SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33370">[ date ]</a>
              <a href="thread.html#33370">[ thread ]</a>
              <a href="subject.html#33370">[ subject ]</a>
              <a href="author.html#33370">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
