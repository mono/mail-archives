<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] HttpOnly and Expires not handled by CookieContainer.SetCookies(Uri, string)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20HttpOnly%20and%20Expires%20not%20handled%20by%0A%20CookieContainer.SetCookies%28Uri%2C%20string%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033329.html">
   <LINK REL="Next"  HREF="033331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] HttpOnly and Expires not handled by CookieContainer.SetCookies(Uri, string)</H1>
    <B>Tom Philpot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20HttpOnly%20and%20Expires%20not%20handled%20by%0A%20CookieContainer.SetCookies%28Uri%2C%20string%29&In-Reply-To="
       TITLE="[Mono-dev] HttpOnly and Expires not handled by CookieContainer.SetCookies(Uri, string)">tom.philpot at logos.com
       </A><BR>
    <I>Sun Oct 25 01:20:20 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033329.html">[Mono-dev] [MonoDevelop] feedback and suggestions for GTK#
</A></li>
        <LI>Next message: <A HREF="033331.html">[Mono-dev] HttpOnly and Expires not handled by CookieContainer.SetCookies(Uri, string)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33330">[ date ]</a>
              <a href="thread.html#33330">[ thread ]</a>
              <a href="subject.html#33330">[ subject ]</a>
              <a href="author.html#33330">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>While troubleshooting a web service authentication problem our app is
having, I noticed that CookieContainer.SetCookies(Uri, string) has a few
problems.

1) It assumes that the Set-Cookie header only has one cookie in it, since it
does not account for several comma separated cookies (as the MSDN docs
state, and RFC 2109 section 4.2.2)

2) It does not properly set Cookie.Expires or Cookie.HttpOnly (for .NET
2.0). The current implementation will assume that expires=... specifies a
new cookie. Similarly, HttpOnly will cause the CookieContainer to throw an
exception when the cookie is being created since it assumes HttpOnly is a
cookie name with no value.

3) I also noticed most of the CookieContainer tests are marked as
&quot;NotWorking&quot;.

Is CookieContainer really that broken, or am I missing something?

Tom

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033329.html">[Mono-dev] [MonoDevelop] feedback and suggestions for GTK#
</A></li>
	<LI>Next message: <A HREF="033331.html">[Mono-dev] HttpOnly and Expires not handled by CookieContainer.SetCookies(Uri, string)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33330">[ date ]</a>
              <a href="thread.html#33330">[ thread ]</a>
              <a href="subject.html#33330">[ subject ]</a>
              <a href="author.html#33330">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
