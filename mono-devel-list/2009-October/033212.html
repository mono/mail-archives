<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Big performance gaps between .NET,	Mono (Suse/Debian) 	?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Big%20performance%20gaps%20between%20.NET%2C%0A%09Mono%20%28Suse/Debian%29%20%09%3F&In-Reply-To=4F11291E8C0E4686802646BE36985986%40pclionel">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033211.html">
   <LINK REL="Next"  HREF="033215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Big performance gaps between .NET,	Mono (Suse/Debian) 	?</H1>
    <B>Alan McGovern</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Big%20performance%20gaps%20between%20.NET%2C%0A%09Mono%20%28Suse/Debian%29%20%09%3F&In-Reply-To=4F11291E8C0E4686802646BE36985986%40pclionel"
       TITLE="[Mono-dev] Big performance gaps between .NET,	Mono (Suse/Debian) 	?">alan.mcgovern at gmail.com
       </A><BR>
    <I>Tue Oct  6 06:46:16 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033211.html">[Mono-dev] Big performance gaps between .NET,	Mono (Suse/Debian) 	?
</A></li>
        <LI>Next message: <A HREF="033215.html">[Mono-dev] Big performance gaps between .NET, Mono (Suse/Debian) 	?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33212">[ date ]</a>
              <a href="thread.html#33212">[ thread ]</a>
              <a href="subject.html#33212">[ subject ]</a>
              <a href="author.html#33212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Calling 'ToString' is just a GC benchmark. Yes, the current mono GC is
slower than the .NET GC in this scenario. Your other tests also do a fair
bit of allocating, so it's quite possible the entire performance loss you're
seeing is just from the GC kicking in. If you want to test how fast you can
add elements to a Dictionary, pre-allocate all the objects first and then
time just the addition.

Alan.

On Tue, Oct 6, 2009 at 10:15 AM, Lionel Cuir &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lionel_email at aulofee.com</A>&gt;wrote:

&gt;<i>  Hello,
</I>&gt;<i>
</I>&gt;<i> Can anybody help me to understand why, on simple performance tests, I see
</I>&gt;<i> so different results between .NET and Mono on various Linux platforms? Are
</I>&gt;<i> my tests incorrect? Did I have no luck and simply fall on some
</I>&gt;<i> methods/functionality better implemented by MS? And why is there such a
</I>&gt;<i> difference between Suse and Debian for the IPAddress dictionary?
</I>&gt;<i>
</I>&gt;<i> Any help appreciated (please, no trolling, no political debate - just ideas
</I>&gt;<i> about how to improve things or ideas to point out methodology errors I would
</I>&gt;<i> have made in my tests)
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Lionel
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> A few hints on how I did my tests:
</I>&gt;<i> - the OS are: a bare XP SP3, a bare OpenSuse (kernel 2.6.27), a Debian with
</I>&gt;<i> a lightened kernel (2.6.30) - &quot;bare&quot; = the OS is up-to-date but no other
</I>&gt;<i> software installed
</I>&gt;<i> - all OS were running as vmware guest (in vm workstation 6.5) with two
</I>&gt;<i> &quot;cpus&quot; (dual-core T7200) and 512Mo of RAM
</I>&gt;<i> - Mono version was 2.4.2.3 on Suse, and 2.5 (compiled from SVN r140059) on
</I>&gt;<i> Debian. .NET version is 3.5
</I>&gt;<i> - On Suse and Debian, I both run the tests with the exe compiled with csc
</I>&gt;<i> (.net) and with the exe compiled with gmcs - the results were the same.
</I>&gt;<i>
</I>&gt;<i> You'll find attached the sample code I used - I test basically adictionary of int,
</I>&gt;<i> a dictionary of IPAddress and the IPAddress.ToString method. The duration
</I>&gt;<i> of the test (in millisec are:
</I>&gt;<i>
</I>&gt;<i> int32 Dictionary test
</I>&gt;<i> 4812 DotNet
</I>&gt;<i> 9493 Mono on light Debian
</I>&gt;<i> 9815 Mono on Suse
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> IPAddress Dictionary test
</I>&gt;<i> 13500 DotNet
</I>&gt;<i> 29533 Mono on light Debian
</I>&gt;<i> 41732 Mono on Suse
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> IPAddress.ToString test
</I>&gt;<i> 2453 DotNet
</I>&gt;<i> 16665 Mono on light Debian
</I>&gt;<i> 17747 Mono on Suse
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091006/6da82b71/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091006/6da82b71/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033211.html">[Mono-dev] Big performance gaps between .NET,	Mono (Suse/Debian) 	?
</A></li>
	<LI>Next message: <A HREF="033215.html">[Mono-dev] Big performance gaps between .NET, Mono (Suse/Debian) 	?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33212">[ date ]</a>
              <a href="thread.html#33212">[ thread ]</a>
              <a href="subject.html#33212">[ subject ]</a>
              <a href="author.html#33212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
