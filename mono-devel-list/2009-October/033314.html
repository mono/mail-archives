<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [Patch] Make Boehm GC stack scanning less aggressive
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPatch%5D%20Make%20Boehm%20GC%20stack%20scanning%20less%20aggressive&In-Reply-To=1256049895.4254.125.camel%40hagbard.apathetic.discordia.org.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033301.html">
   <LINK REL="Next"  HREF="033315.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [Patch] Make Boehm GC stack scanning less aggressive</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPatch%5D%20Make%20Boehm%20GC%20stack%20scanning%20less%20aggressive&In-Reply-To=1256049895.4254.125.camel%40hagbard.apathetic.discordia.org.uk"
       TITLE="[Mono-dev] [Patch] Make Boehm GC stack scanning less aggressive">kumpera at gmail.com
       </A><BR>
    <I>Thu Oct 22 17:04:27 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033301.html">[Mono-dev] [Patch] Make Boehm GC stack scanning less aggressive
</A></li>
        <LI>Next message: <A HREF="033315.html">[Mono-dev] [Patch] Make Boehm GC stack scanning less aggressive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33314">[ date ]</a>
              <a href="thread.html#33314">[ thread ]</a>
              <a href="subject.html#33314">[ subject ]</a>
              <a href="author.html#33314">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dick,

I believe there is very little reason to do development on libgc as sgen is
been worked and
advancing quite fast. I don't feel it's worth the risk of improving libgc.

SGen is only a few months away from been production ready and it might be a
better idea
to spend your energy there. For example, Code to do precise marking of
managed code is
still to be done and is an area that help would be more than welcome.





On Tue, Oct 20, 2009 at 12:44 PM, Dick Porter &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">dporter at codicesoftware.com</A>&gt;wrote:

&gt;<i> Hi all
</I>&gt;<i>
</I>&gt;<i> The attached patch makes the stack marking in libgc much less
</I>&gt;<i> aggressive.  Instead of marking every object that happens to be pointed
</I>&gt;<i> to by random numbers, it uses the descriptor-based scanning function
</I>&gt;<i> instead.
</I>&gt;<i>
</I>&gt;<i> I think this is safe for mono, as (as was pointed out to me) every
</I>&gt;<i> allocation has a descriptor.
</I>&gt;<i>
</I>&gt;<i> It fixes the stress-test that David posted a week or two ago, and in the
</I>&gt;<i> real world it allows our server to free up much more memory.  It has
</I>&gt;<i> been tested on a production server.
</I>&gt;<i>
</I>&gt;<i> Comments?
</I>&gt;<i>
</I>&gt;<i> - Dick
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091022/ab12674e/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091022/ab12674e/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033301.html">[Mono-dev] [Patch] Make Boehm GC stack scanning less aggressive
</A></li>
	<LI>Next message: <A HREF="033315.html">[Mono-dev] [Patch] Make Boehm GC stack scanning less aggressive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33314">[ date ]</a>
              <a href="thread.html#33314">[ thread ]</a>
              <a href="subject.html#33314">[ subject ]</a>
              <a href="author.html#33314">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
