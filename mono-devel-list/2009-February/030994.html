<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] signal.c cross-thread access
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20signal.c%20cross-thread%20access&In-Reply-To=1234188485.20018.3229.camel%40lina">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031029.html">
   <LINK REL="Next"  HREF="031125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] signal.c cross-thread access</H1>
    <B>tim.jenks at realtimeworlds.com</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20signal.c%20cross-thread%20access&In-Reply-To=1234188485.20018.3229.camel%40lina"
       TITLE="[Mono-dev] signal.c cross-thread access">tim.jenks at realtimeworlds.com
       </A><BR>
    <I>Thu Feb 12 09:51:04 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031029.html">[Mono-dev] System.Data.DbType adds DateTime2 and DateTimeOffset	in 3.5 and OracleException derives from	System.Data.Common.DbException in 2.0
</A></li>
        <LI>Next message: <A HREF="031125.html">[Mono-dev] signal.c cross-thread access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30994">[ date ]</a>
              <a href="thread.html#30994">[ thread ]</a>
              <a href="subject.html#30994">[ subject ]</a>
              <a href="author.html#30994">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jon,

Here's the changes you suggested. I'm now using poll() rather than
select() as discussed on Tuesday. The test reproducing multiple select()
on the same fd for the same operation that's working under poll is
included in mcs.diff.

This is contributed under MIT/X11

Cheers
-Tim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Jonathan Pryor [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jonpryor at vt.edu</A>]
</I>&gt;<i> Sent: 09 February 2009 14:08
</I>&gt;<i> To: Tim Jenks
</I>&gt;<i> Subject: RE: [Mono-dev] signal.c cross-thread access
</I>&gt;<i> 
</I>&gt;<i> On Mon, 2009-02-09 at 12:31 +0000, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">tim.jenks at realtimeworlds.com</A> wrote:
</I>&gt;<i> &gt; Here we can see one select is returning after the first char is sent
</I>&gt;<i> to
</I>&gt;<i> &gt; the pipe (and reads 1 byte). The second char is then sent to the
</I>&gt;<i> pipe,
</I>&gt;<i> &gt; but the second select() call does not unblock.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am assuming this is undefined behaviour when multiple threads
</I>&gt;<i> select()
</I>&gt;<i> &gt; on the same fd for the same operation, although I cannot find any
</I>&gt;<i> &gt; documentation proving this.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Having looked at epoll, this appears to be addressed.
</I>&gt;<i> 
</I>&gt;<i> Is there any other mechanism?  epoll(2) doesn't seem to be supported
</I>on
&gt;<i> Mac OS X (at least, it's not listed at [0]).  Would poll(2) work?
</I>&gt;<i> 
</I>&gt;<i>  - Jon
</I>&gt;<i> 
</I>&gt;<i> [0]
</I><A HREF="http://developer.apple.com/documentation/Darwin/Reference/ManPages/">http://developer.apple.com/documentation/Darwin/Reference/ManPages/</A>
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ____________________________________________________________________
</I>&gt;<i> This email has been scanned by the MessageLabs Email Security System
</I>
____________________________________________________________________
DISCLAIMER

This message and any attachments contain privileged and confidential information intended for the use of the addressee named above. If you are not the intended recipient of this message, you are hereby notified that any use, dissemination, distribution or reproduction of this message is prohibited. Please note that we cannot guarantee that this message or any attachment is virus free or that it has not been intercepted and amended. The views of the author may not necessarily reflect those of Realtime Worlds Ltd.

 

Realtime Worlds Ltd is registered in Scotland, number 225628. Registered Office: 152 West Marketgait, Dundee, DD1 1NJ.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mcs.diff
Type: application/octet-stream
Size: 2596 bytes
Desc: mcs.diff
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090212/63547424/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090212/63547424/attachment.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signal.c.diff
Type: application/octet-stream
Size: 6585 bytes
Desc: signal.c.diff
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090212/63547424/attachment-0001.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090212/63547424/attachment-0001.obj</A> 
</PRE>





































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031029.html">[Mono-dev] System.Data.DbType adds DateTime2 and DateTimeOffset	in 3.5 and OracleException derives from	System.Data.Common.DbException in 2.0
</A></li>
	<LI>Next message: <A HREF="031125.html">[Mono-dev] signal.c cross-thread access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30994">[ date ]</a>
              <a href="thread.html#30994">[ thread ]</a>
              <a href="subject.html#30994">[ subject ]</a>
              <a href="author.html#30994">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
