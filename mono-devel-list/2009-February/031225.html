<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] MonoMethod.cs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20MonoMethod.cs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031221.html">
   <LINK REL="Next"  HREF="031231.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] MonoMethod.cs</H1>
    <B>Matthew Metnetsky</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20MonoMethod.cs&In-Reply-To="
       TITLE="[Mono-dev] [PATCH] MonoMethod.cs">met at uberstats.com
       </A><BR>
    <I>Fri Feb 27 09:50:48 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031221.html">[Mono-dev] monodevelop debugger on fedora 10
</A></li>
        <LI>Next message: <A HREF="031231.html">[Mono-dev] [PATCH] MonoMethod.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31225">[ date ]</a>
              <a href="thread.html#31225">[ thread ]</a>
              <a href="subject.html#31225">[ subject ]</a>
              <a href="author.html#31225">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

To whom it may concern,

I was migrating some code from Mono 1.x to .NET 3.5 and came across a
very small bug. I was calling MonoMethod.Invoke like so:

MethodInfo method = type.GetMethod(&quot;Foo&quot;); // Foo(int i, string name);

method.Invoke(obj,
              BindingFlags.ExactBinding,
              new CustomerBinder(),
              new object[]{&quot;0&quot;, &quot;one&quot;},
              null);

When using Mono the code above works, but on .NET it does not because
BindingFlags.ExactBinding(1) apparently means that the Binder's
ChangeType method is not supposed to be called. Therefore the string &quot;0&quot;
is never converted to an int (as required by the signature for Foo).

I've attached a very small patch for this. Please let me know if there
is anything else I can do.

Regards,

~ Matthew

(1)
<A HREF="http://msdn.microsoft.com/en-us/library/system.reflection.bindingflags(VS.80">http://msdn.microsoft.com/en-us/library/system.reflection.bindingflags(VS.80</A>).aspx
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iEYEARECAAYFAkmn/cQACgkQLrcoBjlTBf1bIQCfWMh9d9n7VGiUk7D1ziLtUixC
tiwAn1iet8LbeoVsviq8ywfuWKeLrgK5
=QIaU
-----END PGP SIGNATURE-----
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MonoMethod.cs.diff
Type: text/x-patch
Size: 799 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090227/1aa1089b/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090227/1aa1089b/attachment.bin</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MonoMethod.cs.diff.sig
Type: application/pgp-signature
Size: 72 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090227/1aa1089b/attachment-0001.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090227/1aa1089b/attachment-0001.bin</A> 
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031221.html">[Mono-dev] monodevelop debugger on fedora 10
</A></li>
	<LI>Next message: <A HREF="031231.html">[Mono-dev] [PATCH] MonoMethod.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31225">[ date ]</a>
              <a href="thread.html#31225">[ thread ]</a>
              <a href="subject.html#31225">[ subject ]</a>
              <a href="author.html#31225">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
