<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Arguing for reconsideration of WONTFIX status of 425512
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Arguing%20for%20reconsideration%20of%20WONTFIX%20status%20of%20425512&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031057.html">
   <LINK REL="Next"  HREF="030976.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Arguing for reconsideration of WONTFIX status of 425512</H1>
    <B>Lucas Meijer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Arguing%20for%20reconsideration%20of%20WONTFIX%20status%20of%20425512&In-Reply-To="
       TITLE="[Mono-dev] Arguing for reconsideration of WONTFIX status of 425512">lucas at lucasmeijer.com
       </A><BR>
    <I>Thu Feb 12 07:56:40 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031057.html">[Mono-dev] unixOdbc System.Data.Obdc and Output parameters
</A></li>
        <LI>Next message: <A HREF="030976.html">[Mono-dev] Arguing for reconsideration of WONTFIX status of 425512
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30975">[ date ]</a>
              <a href="thread.html#30975">[ thread ]</a>
              <a href="subject.html#30975">[ subject ]</a>
              <a href="author.html#30975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

Our team has been busy porting some unit testing related frameworks to mono.
porting is probably not the right word, it's mostly creating repro cases 
of mono bugs,
reporting them, and waiting for them to be fixed. (Which happens fast by 
the way. Thanks!)

So far we're looking at NInject, Moq and xUnit.

There are / have been bugs in mono that prevent all of these projects 
from running.
Most of them are valid mono bugs, nothing special here.

In addition to real mono bugs, there's also the fact that many of these 
frameworks, use this
commonly used &quot;trick&quot;:

FieldInfo remoteStackTraceString = 
typeof(Exception).GetField(&quot;_remoteStackTraceString&quot;, 
BindingFlags.Instance | BindingFlags.NonPublic);

This doesn't work on mono, since in mono the private field storing the 
stacktrace is called &quot;remote_stack_trace&quot;.

This issue has been reported before as issue 425512 ( 
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=425512">https://bugzilla.novell.com/show_bug.cgi?id=425512</A> )

One could argue, and the reason for the wontfix status of the issue does 
so,  that these folks rely on undocumented internals.
They shouldn't do it, and Mono shouldn't rename it's own private field 
to match that of the CLR.

However, in the real world(tm),  this prevents many projects from 
running on Mono unmodified.

I would like to argue that in this specific case, where the (percieved 
by me, maybe incorrectly) amount of work for mono to change it's private 
fieldname to
match that of the CLR, is a reasonable cost for enabling this quite 
frequently found in the wild trick of grabbing the internal stack trace 
of an exception.

Maybe I'm underestimating the amount of work to rename the mono 
fieldname to match the clr one. If that's the case, please consider this 
message
as another datapoint of three useful .net frameworks unable to run on 
mono unmodified.

Here's a bit more info on the trick:

Here is a bit more background on the trick:
<A HREF="http://www.dotnetjunkies.com/WebLog/chris.taylor/archive/2004/03/03/8353.aspx">http://www.dotnetjunkies.com/WebLog/chris.taylor/archive/2004/03/03/8353.aspx</A>

Bye, Lucas
</PRE>



























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031057.html">[Mono-dev] unixOdbc System.Data.Obdc and Output parameters
</A></li>
	<LI>Next message: <A HREF="030976.html">[Mono-dev] Arguing for reconsideration of WONTFIX status of 425512
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30975">[ date ]</a>
              <a href="thread.html#30975">[ thread ]</a>
              <a href="subject.html#30975">[ subject ]</a>
              <a href="author.html#30975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
