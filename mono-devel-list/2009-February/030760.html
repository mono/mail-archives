<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Generic Variance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Generic%20Variance&In-Reply-To=ee9b16d00902010731g6aca2d72j4db256de5d1bc757%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030871.html">
   <LINK REL="Next"  HREF="030761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Generic Variance</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Generic%20Variance&In-Reply-To=ee9b16d00902010731g6aca2d72j4db256de5d1bc757%40mail.gmail.com"
       TITLE="[Mono-dev] Generic Variance">kumpera at gmail.com
       </A><BR>
    <I>Mon Feb  2 07:50:54 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="030871.html">[Mono-dev] Generic Variance
</A></li>
        <LI>Next message: <A HREF="030761.html">[Mono-dev] Generic Variance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30760">[ date ]</a>
              <a href="thread.html#30760">[ thread ]</a>
              <a href="subject.html#30760">[ subject ]</a>
              <a href="author.html#30760">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Scott,

Some points about your code:

1)mono_class_has_variant_generic_params (MonoClass *klass)
Don't move functions around together with patches that add functionality.
Cleanups, when justifiable, are ok but must
be done on a separate refactoring only patch. On this case, please just add
a forward declaration on the top.

2)mono_class_is_assignable_from
Don't do unneeded changes to existing conditions that just make your patch
harder to read. By merging the two conditions your
patch got huge for no reason at all. Please revert this change so the patch
is smaller.

3)mono_class_interface_offset
This function is used to define layout of classes, vtables and the such. You
patch lacks neither a proper Changelog notice on why this change is needed
or tests that evidence it.


Thanks,
Rodrigo



2009/2/1 Scott Peterson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">scott at ssblack.co.nz</A>&gt;

&gt;<i> This patch adds generic variance support to the C# compiler. This patch
</I>&gt;<i> does not fully support the spec in that it provides variance only for
</I>&gt;<i> reference types. This limitation is designed to reflect the current
</I>&gt;<i> (proposed) level of variance support in the VM. New error codes are defined
</I>&gt;<i> and tests for each code are provided, as well as tests for variance. This
</I>&gt;<i> patch is contributed under the MIT/X11 license. It is attached.
</I>&gt;<i>
</I>&gt;<i> NOTE: This email is a re-send. The original also had the patch inline, but
</I>&gt;<i> it was too long for the system. Blarg.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090202/96b4e414/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090202/96b4e414/attachment.html</A> 
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030871.html">[Mono-dev] Generic Variance
</A></li>
	<LI>Next message: <A HREF="030761.html">[Mono-dev] Generic Variance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30760">[ date ]</a>
              <a href="thread.html#30760">[ thread ]</a>
              <a href="subject.html#30760">[ subject ]</a>
              <a href="author.html#30760">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
