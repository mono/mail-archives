<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] IBM.Data.DB2.DB2Exception: Unable to allocate	statement handle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20IBM.Data.DB2.DB2Exception%3A%20Unable%20to%20allocate%0A%09statement%20handle&In-Reply-To=434af3d50902120746p14884256v6f4d9c7db5f56c21%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031003.html">
   <LINK REL="Next"  HREF="031011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] IBM.Data.DB2.DB2Exception: Unable to allocate	statement handle</H1>
    <B>Daniel Morgan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20IBM.Data.DB2.DB2Exception%3A%20Unable%20to%20allocate%0A%09statement%20handle&In-Reply-To=434af3d50902120746p14884256v6f4d9c7db5f56c21%40mail.gmail.com"
       TITLE="[Mono-dev] IBM.Data.DB2.DB2Exception: Unable to allocate	statement handle">monodanmorg at yahoo.com
       </A><BR>
    <I>Thu Feb 12 11:58:59 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031003.html">[Mono-dev] IBM.Data.DB2.DB2Exception: Unable to allocate statement handle
</A></li>
        <LI>Next message: <A HREF="031011.html">[Mono-dev] IBM.Data.DB2.DB2Exception: Unable to allocate statement handle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31008">[ date ]</a>
              <a href="thread.html#31008">[ thread ]</a>
              <a href="subject.html#31008">[ subject ]</a>
              <a href="author.html#31008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>IBM does not provide an IBM.Data.DB2.dll assembly for Linux.  IBM only provides IBM.Data.DB2.dll for Windows.  This goes the same with other proprietary database management systems out there, such as, Oracle and Sybase.  These companies only support Microsoft .net framework - they do not even acknowledge Mono.

Mono provides a homemade IBM.Data.DB2.dll assembly, but it is not maintained.

I cannot see what is available on Linux right now, but I can see what the Mono Windows installer installs.  Mono only installs IBM.Data.DB2.dll for the 1.0 profile.  The assembly is not built for the 2.0 profile.

I suggest using System.Data.Odbc instead.  Novell does maintain System.Data.Odbc, and IBM does have an ODBC driver for DB2 on Linux.

--- On Thu, 2/12/09, Carlos Ruiz Diaz &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">carlos.ruizdiaz at gmail.com</A>&gt; wrote:

&gt;<i> From: Carlos Ruiz Diaz &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">carlos.ruizdiaz at gmail.com</A>&gt;
</I>&gt;<i> Subject: Re: [Mono-dev] IBM.Data.DB2.DB2Exception: Unable to allocate statement handle
</I>&gt;<i> To: &quot;Bartolomeo Nicolotti&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bnicolotti at siapcn.it</A>&gt;
</I>&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Date: Thursday, February 12, 2009, 10:46 AM
</I>&gt;<i> After failing trying to connect with the native driver I
</I>&gt;<i> switched to
</I>&gt;<i> unixODBC and it works fine for me. It is stable and I
</I>&gt;<i> currently have a large
</I>&gt;<i> program using ODBC as its connector.
</I>&gt;<i> I use openSuse as my major OS. I installed the db2 express
</I>&gt;<i> C but I was
</I>&gt;<i> unable to find the required library to make IBM.DB2 dll to
</I>&gt;<i> work. Bad for me.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Thu, Feb 12, 2009 at 4:20 AM, Bartolomeo Nicolotti
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bnicolotti at siapcn.it</A>&gt;wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'd like to use the webservice &quot;As is&quot;
</I>&gt;<i> so that we can switch easyly...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; if I won't be able to do it with IBM.Data.DB2 in a
</I>&gt;<i> few days I'll consider
</I>&gt;<i> &gt; using other way to connect.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Do you know if with these providers you can connecto
</I>&gt;<i> to AS/400?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Many thanks
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Best regards
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Bartolomeo Nicolotti wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Da:   Daniel Morgan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">monodanmorg at yahoo.com</A>&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Have you considered using ODBC provider instead?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; System.Data.Odbc namespace is included in
</I>&gt;<i> System.Data assembly.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; You can use iodbc or unixodbc on linux. 
</I>&gt;<i> There's commercial odbc
</I>&gt;<i> &gt; solutions
</I>&gt;<i> &gt; &gt; for linux too.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; <A HREF="http://mono-project.com/ODBC">http://mono-project.com/ODBC</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; <A HREF="http://www.unixodbc.com/doc/db2.html">http://www.unixodbc.com/doc/db2.html</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Novell maintains System.Data.Odbc; however, I do
</I>&gt;<i> not think anyone is
</I>&gt;<i> &gt; &gt; maintaining IBM.Data.DB2 in Mono.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --- On Wed, 2/11/09, Bartolomeo Nicolotti
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bnicolotti at siapcn.it</A>&gt; wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Bartolomeo Nicolotti wrote:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; IBM.Data.DB2.DB2Exception: Unable to allocate
</I>&gt;<i> statement handle
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; by Bartolomeo Nicolotti :: Rate this Message:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Reply | Reply to Author | View Threaded |
</I>&gt;<i> Show Only this Message
</I>&gt;<i> &gt; &gt;&gt; Hello,
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; I've installed mono, and xsp (not yet
</I>&gt;<i> mod_mono) on ubuntu following the
</I>&gt;<i> &gt; &gt;&gt; instruction here:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> <A HREF="http://ubuntuforums.org/showthread.php?t=803743">http://ubuntuforums.org/showthread.php?t=803743</A>
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; in view of using mod_mono together with php
</I>&gt;<i> on ubuntu server 8.04, to
</I>&gt;<i> &gt; &gt;&gt; migrate a web service that access a db2/as400
</I>&gt;<i> database.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; I've also installed db2exc from ubuntu
</I>&gt;<i> repository as said here:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; <A HREF="http://www.ubuntu.com/partners/ibm/db2">http://www.ubuntu.com/partners/ibm/db2</A>
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; I can compile a test program that does a
</I>&gt;<i> query to the db:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; 
</I>&gt;<i> <A HREF="http://www.nabble.com/file/p21953488/helloDB2.cs">http://www.nabble.com/file/p21953488/helloDB2.cs</A> helloDB2.cs
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">siap at LxPC54</A>:~/src/test$ gmcs
</I>&gt;<i> -r:/usr/lib/mono/1.0/IBM.Data.DB2.dll
</I>&gt;<i> &gt; &gt;&gt; -r:/usr/lib/mono/2.0/System.Data.dll
</I>&gt;<i> helloDB2.cs
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; but when I execute it:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">siap at LxPC54</A>:~/src/test$ sudo
</I>&gt;<i> MONO_LOG_LEVEL=debug mono helloDB2.exe
</I>&gt;<i> &gt; bart
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; ....
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Assembly Ref addref System.Data
</I>&gt;<i> 0x8362e10 -&gt; System.Xml
</I>&gt;<i> &gt; &gt;&gt; 0x83719d8: 2
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Hello, bart
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport attempting to load:
</I>&gt;<i> 'libdb2'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport loading location:
</I>&gt;<i> 'libdb2.so'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Searching for
</I>&gt;<i> 'SQLAllocHandle'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing 'SQLAllocHandle'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Found as 'SQLAllocHandle'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport attempting to load:
</I>&gt;<i> 'libdb2'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport loading location:
</I>&gt;<i> 'libdb2.so'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Searching for
</I>&gt;<i> 'SQLAllocHandle'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing 'SQLAllocHandle'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Found as 'SQLAllocHandle'.
</I>&gt;<i> &gt; &gt;&gt; Bart
</I>&gt;<i> &gt; &gt;&gt; not useLibCli
</I>&gt;<i> &gt; &gt;&gt; Bart
</I>&gt;<i> &gt; &gt;&gt; not useLibCli
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport attempting to load:
</I>&gt;<i> 'libdb2'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport loading location:
</I>&gt;<i> 'libdb2.so'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Searching for
</I>&gt;<i> 'SQLDriverConnectW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing
</I>&gt;<i> 'SQLDriverConnectWW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing
</I>&gt;<i> 'SQLDriverConnectWW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing
</I>&gt;<i> 'SQLDriverConnectW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Found as
</I>&gt;<i> 'SQLDriverConnectW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport attempting to load:
</I>&gt;<i> 'libdb2'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport loading location:
</I>&gt;<i> 'libdb2.so'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Searching for
</I>&gt;<i> 'SQLDriverConnectW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing
</I>&gt;<i> 'SQLDriverConnectWW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing
</I>&gt;<i> 'SQLDriverConnectWW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing
</I>&gt;<i> 'SQLDriverConnectW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Found as
</I>&gt;<i> 'SQLDriverConnectW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport attempting to load:
</I>&gt;<i> 'libdb2'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport loading location:
</I>&gt;<i> 'libdb2.so'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Searching for
</I>&gt;<i> 'SQLGetInfoW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing 'SQLGetInfoWW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing 'SQLGetInfoWW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing 'SQLGetInfoW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Found as 'SQLGetInfoW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport attempting to load:
</I>&gt;<i> 'libdb2'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport loading location:
</I>&gt;<i> 'libdb2.so'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Searching for
</I>&gt;<i> 'SQLGetInfoW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing 'SQLGetInfoWW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing 'SQLGetInfoWW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing 'SQLGetInfoW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Found as 'SQLGetInfoW'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport attempting to load:
</I>&gt;<i> 'libdb2'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport loading location:
</I>&gt;<i> 'libdb2.so'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Searching for
</I>&gt;<i> 'SQLGetDiagRec'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing 'SQLGetDiagRec'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Found as 'SQLGetDiagRec'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport attempting to load:
</I>&gt;<i> 'libdb2'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: DllImport loading location:
</I>&gt;<i> 'libdb2.so'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Searching for
</I>&gt;<i> 'SQLGetDiagRec'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Probing 'SQLGetDiagRec'.
</I>&gt;<i> &gt; &gt;&gt; Mono-INFO: Found as 'SQLGetDiagRec'.
</I>&gt;<i> &gt; &gt;&gt; Bart
</I>&gt;<i> &gt; &gt;&gt; not useLibCli
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Unhandled Exception:
</I>&gt;<i> IBM.Data.DB2.DB2Exception: ERROR [08003] [IBM][CLI
</I>&gt;<i> &gt; &gt;&gt; Driver] CLI0106E  Connection is closed.
</I>&gt;<i> SQLSTATE=08003
</I>&gt;<i> &gt; &gt;&gt; InternalExecuteNonQuery: Unable to allocate
</I>&gt;<i> statement handle.
</I>&gt;<i> &gt; &gt;&gt;   at
</I>&gt;<i> IBM.Data.DB2.DB2Command.AllocateStatement (System.String
</I>&gt;<i> location)
</I>&gt;<i> &gt; &gt;&gt; [0x00000]
</I>&gt;<i> &gt; &gt;&gt;   at
</I>&gt;<i> IBM.Data.DB2.DB2Command.ExecuteNonQueryInternal
</I>&gt;<i> (CommandBehavior
</I>&gt;<i> &gt; &gt;&gt; behavior) [0x00000]
</I>&gt;<i> &gt; &gt;&gt;   at IBM.Data.DB2.DB2Command.ExecuteReader
</I>&gt;<i> (CommandBehavior behavior)
</I>&gt;<i> &gt; &gt;&gt; [0x00000]
</I>&gt;<i> &gt; &gt;&gt;   at IBM.Data.DB2.DB2Command.ExecuteReader ()
</I>&gt;<i> [0x00000]
</I>&gt;<i> &gt; &gt;&gt;   at (wrapper remoting-invoke-with-check)
</I>&gt;<i> &gt; &gt;&gt; IBM.Data.DB2.DB2Command:ExecuteReader ()
</I>&gt;<i> &gt; &gt;&gt;   at HelloWorldDb2.Main (System.String[]
</I>&gt;<i> args) [0x00000]
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; View this message in context:
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://www.nabble.com/IBM.Data.DB2.DB2Exception%3A-Unable-to-allocate-statement-handle-tp21953488p21971698.html">http://www.nabble.com/IBM.Data.DB2.DB2Exception%3A-Unable-to-allocate-statement-handle-tp21953488p21971698.html</A>
</I>&gt;<i> &gt; Sent from the Mono - Dev mailing list archive at
</I>&gt;<i> Nabble.com.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

      
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031003.html">[Mono-dev] IBM.Data.DB2.DB2Exception: Unable to allocate statement handle
</A></li>
	<LI>Next message: <A HREF="031011.html">[Mono-dev] IBM.Data.DB2.DB2Exception: Unable to allocate statement handle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31008">[ date ]</a>
              <a href="thread.html#31008">[ thread ]</a>
              <a href="subject.html#31008">[ subject ]</a>
              <a href="author.html#31008">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
