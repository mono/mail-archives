<tt>
Still,&nbsp;why&nbsp;can&amp;#39;t&nbsp;your&nbsp;code&nbsp;do&nbsp;the&nbsp;mono_get_root_domain&nbsp;()&nbsp;check?&lt;br&gt;&lt;br&gt;The&nbsp;Moonlight&nbsp;folks&nbsp;requested&nbsp;this&nbsp;as&nbsp;well&nbsp;and&nbsp;it&nbsp;turned&nbsp;out&nbsp;that&nbsp;what&nbsp;they&lt;br&gt;needed&nbsp;was&nbsp;support&nbsp;for&nbsp;creating&nbsp;AppDomains&nbsp;from&nbsp;the&nbsp;unmanaged&nbsp;API.&nbsp;This&lt;br&gt;<br>
has&nbsp;been&nbsp;included&nbsp;and&nbsp;will&nbsp;be&nbsp;part&nbsp;of&nbsp;the&nbsp;the&nbsp;upcoming&nbsp;2.4&nbsp;release.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2009/1/30&nbsp;Tom&nbsp;Hindle&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tom_hindle@sil.org&quot;&gt;tom_hindle@sil.org&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
Attached&nbsp;for&nbsp;review&nbsp;is&nbsp;a&nbsp;patch&nbsp;that&nbsp;allows&nbsp;multiple&nbsp;calls&nbsp;to&lt;br&gt;<br>
mono_jit_init.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;appreciate&nbsp;that&nbsp;the&nbsp;first&nbsp;response&nbsp;to&nbsp;this&nbsp;request&nbsp;may&nbsp;be,&nbsp;&amp;#39;why&nbsp;would&lt;br&gt;<br>
you&nbsp;want&nbsp;to&nbsp;do&nbsp;that?&amp;#39;&nbsp;Given&nbsp;that,&nbsp;I&nbsp;will&nbsp;attempt&nbsp;to&nbsp;give&nbsp;a&lt;br&gt;<br>
justification.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;reason&nbsp;I&nbsp;need&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;do&nbsp;this&nbsp;is&nbsp;because:&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;an&nbsp;existing&nbsp;C#&nbsp;application&nbsp;that&nbsp;uses&nbsp;native&nbsp;COM&nbsp;objects,&nbsp;with&lt;br&gt;<br>
marshaling&nbsp;iterops&nbsp;automatically&nbsp;generated&nbsp;from&nbsp;the&nbsp;COM&nbsp;IDL&nbsp;files,&nbsp;as&lt;br&gt;<br>
part&nbsp;of&nbsp;the&nbsp;build&nbsp;process.&lt;br&gt;<br>
&lt;br&gt;<br>
However&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;Linux&nbsp;port&nbsp;I&nbsp;sometimes&nbsp;need&nbsp;to&nbsp;replace&nbsp;select&nbsp;COM&lt;br&gt;<br>
objects&nbsp;with&nbsp;C#&nbsp;ones.&nbsp;I&nbsp;inform&nbsp;the&nbsp;application&nbsp;of&nbsp;this&nbsp;by&nbsp;changing&nbsp;the&lt;br&gt;<br>
registry.&nbsp;(COM&nbsp;definition&nbsp;file&nbsp;on&nbsp;linux)&lt;br&gt;<br>
&lt;br&gt;<br>
Which&nbsp;I&nbsp;can&nbsp;do&nbsp;because&nbsp;previously&nbsp;I&nbsp;have&nbsp;created&nbsp;a&nbsp;managed-Com-bridge&nbsp;(a&lt;br&gt;<br>
special&nbsp;native&nbsp;COM&nbsp;object&nbsp;that&nbsp;embeds&nbsp;mono&nbsp;and&nbsp;loads&nbsp;managed&nbsp;COM&lt;br&gt;<br>
objects,&nbsp;before&nbsp;retuning&nbsp;a&nbsp;native&nbsp;ptr&nbsp;back&nbsp;through&nbsp;the&nbsp;COM&nbsp;framework).&lt;br&gt;<br>
&lt;br&gt;<br>
However,&nbsp;since&nbsp;the&nbsp;managed-Com-bridge&nbsp;embeds&nbsp;mono,&nbsp;I&nbsp;need&nbsp;to&nbsp;call&lt;br&gt;<br>
mono_jit_init&nbsp;to&nbsp;return&nbsp;the&nbsp;domain.&nbsp;However&nbsp;since&nbsp;mono&nbsp;is&nbsp;already&lt;br&gt;<br>
running,&nbsp;a&nbsp;call&nbsp;to&nbsp;mono_jit_init&nbsp;asserts!&lt;br&gt;<br>
&lt;br&gt;<br>
Furthermore,&nbsp;COM&nbsp;objects&nbsp;are&nbsp;sometimes&nbsp;created&nbsp;indirectly&nbsp;by&nbsp;other&lt;br&gt;<br>
native&nbsp;COM&nbsp;objects,&nbsp;meaning&nbsp;re-factoring&nbsp;C#&nbsp;code&nbsp;is&nbsp;not&nbsp;an&nbsp;option.&nbsp;For&lt;br&gt;<br>
example,&nbsp;C#&nbsp;creates&nbsp;native&nbsp;COM&nbsp;object&nbsp;COM1&nbsp;which&nbsp;itself&nbsp;creates&nbsp;COM2,&lt;br&gt;<br>
which&nbsp;has&nbsp;now&nbsp;been&nbsp;replaced&nbsp;by&nbsp;a&nbsp;managed&nbsp;COM&nbsp;object.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks,&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;Tom&lt;br&gt;<br>
&lt;/font&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
