<tt>
After&nbsp;a&nbsp;lot&nbsp;of&nbsp;trail&nbsp;and&nbsp;error,&nbsp;here&nbsp;is&nbsp;a&nbsp;small&nbsp;sample&nbsp;that&nbsp;duplicate&nbsp;this&nbsp;issue,&nbsp;it&nbsp;works&nbsp;flawlessly&nbsp;on&nbsp;CLR,&nbsp;but&nbsp;fails&nbsp;on&nbsp;Mono.&lt;br&gt;Note&nbsp;that&nbsp;I&nbsp;put&nbsp;an&nbsp;assert&nbsp;before&nbsp;the&nbsp;call&nbsp;to&nbsp;Emit(OpCode,&nbsp;method),&nbsp;but&nbsp;it&nbsp;still&nbsp;thing&nbsp;that&nbsp;it&nbsp;is&nbsp;null.<br>
&lt;br&gt;&lt;br&gt;Unhandled&nbsp;Exception:&nbsp;System.ArgumentNullException:&nbsp;Argument&nbsp;cannot&nbsp;be&nbsp;null.&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;Parameter&nbsp;name:&nbsp;method&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;System.Reflection.Emit.ILGenerator.Emit&nbsp;(OpCode&nbsp;opcode,&nbsp;System.Reflection.MethodInfo&nbsp;method)&nbsp;[0<br>
&lt;br&gt;&lt;/span&gt;x00099]&nbsp;in&nbsp;C:\cygwin\tmp\scratch\mono-<br>
1.2.3.1\mcs\class\corlib&lt;div&nbsp;id=&quot;mb_2&quot;&gt;\System.Reflection.Emit\ILGenerator.cs&lt;br&gt;:720&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;Mono.Emit.Program.Main&nbsp;(System.String[]&nbsp;args)&nbsp;[0x00000]&lt;br&gt;&lt;br&gt;class&nbsp;Program&lt;br&gt;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;static&nbsp;void&nbsp;Main(string[]&nbsp;args)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;AssemblyName&nbsp;assemblyName&nbsp;=&nbsp;new&nbsp;AssemblyName(&amp;quot;Blag&amp;quot;);<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;AssemblyBuilder&nbsp;assemblyBuilder&nbsp;=&nbsp;AppDomain.CurrentDomain.DefineDynamicAssembly(assemblyName,&nbsp;AssemblyBuilderAccess.RunAndSave);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ModuleBuilder&nbsp;moduleBuilder&nbsp;=&nbsp;assemblyBuilder.DefineDynamicModule(&amp;quot;Module&amp;quot;,&amp;quot;<br>
test.dll&amp;quot;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;TypeBuilder&nbsp;typeBuilder&nbsp;=&nbsp;moduleBuilder.DefineType(&amp;quot;Child&amp;quot;,TypeAttributes.Class,&nbsp;typeof(Parent));&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;MethodBuilder&nbsp;methodBuilder&nbsp;=&nbsp;typeBuilder.DefineMethod(&amp;quot;Method&amp;quot;,<br>
MethodAttributes.Virtual|MethodAttributes.Public);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ILGenerator&nbsp;ilGenerator&nbsp;=&nbsp;methodBuilder.&nbsp;GetILGenerator();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;LocalBuilder&nbsp;localBuilder&nbsp;=&nbsp;ilGenerator.DeclareLocal(typeof&nbsp;(MethodInfo));&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ilGenerator.Emit<br>
<br>
(OpCodes.Ldtoken,&nbsp;typeof(Parent).GetMethod(&amp;quot;Method&amp;quot;));&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ilGenerator.Emit(OpCodes.Ldtoken,&nbsp;typeof(Parent));&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;MethodInfo&nbsp;methodInfo&nbsp;=&nbsp;typeof(MethodBase).GetMethod(&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;quot;GetMethodFromHandle&amp;quot;,&nbsp;<br>
BindingFlags.Static&nbsp;|&nbsp;BindingFlags.Public,&nbsp;null,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;new&nbsp;Type[]&nbsp;{&nbsp;typeof(RuntimeMethodHandle),&nbsp;typeof(RuntimeTypeHandle)&nbsp;},&nbsp;null);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Debug.Assert(methodInfo&nbsp;!=&nbsp;null,&nbsp;&amp;quot;GetMethodFromHandle&nbsp;must&nbsp;exists&amp;quot;);<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ilGenerator.Emit(OpCodes.Call,&nbsp;methodInfo);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ilGenerator.Emit(OpCodes.Castclass,&nbsp;typeof(MethodInfo));&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ilGenerator.Emit(OpCodes.Stloc,localBuilder);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ilGenerator.EmitWriteLine(localBuilder);<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ilGenerator.Emit(OpCodes.Ret);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Type&nbsp;type&nbsp;=&nbsp;typeBuilder.CreateType();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Parent&nbsp;parent&nbsp;=&nbsp;(Parent)&nbsp;Activator.CreateInstance(type);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;assemblyBuilder.Save(&amp;quot;test.dll&amp;quot;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
parent.Method();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;}&lt;br&gt;&lt;br&gt;public&nbsp;class&nbsp;Parent&lt;br&gt;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;public&nbsp;virtual&nbsp;void&nbsp;Method()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;public&nbsp;virtual&nbsp;void&nbsp;Print(object&nbsp;obj)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Console.WriteLine(obj);<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;q&quot;&nbsp;id=&quot;q_1115236b6569c0fa_3&quot;&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;3/12/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Gert&nbsp;Driesen&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:gert.driesen@telenet.be&quot;&gt;<br>
gert.driesen@telenet.be&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&nbsp;lang=&quot;EN-US&quot;&gt;<br>
<br>
&lt;div&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;Hi&nbsp;Ayende,&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;I&nbsp;tried&nbsp;the&nbsp;tests&nbsp;myself&nbsp;(with&nbsp;SVN&nbsp;head),&nbsp;and&nbsp;did&nbsp;not&nbsp;even<br>
succeed&nbsp;in&nbsp;running&nbsp;the&nbsp;complete&nbsp;test&nbsp;suite:&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;&quot;no&nbsp;implementation&nbsp;for&nbsp;interface&nbsp;method<br>
Rhino.Mocks.Interfaces.IMockedObject::g&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;_ProxyHash()&nbsp;in&nbsp;class&nbsp;.genericClass`1Proxy79e618bfe6044bb9bb680503b32a2e36&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;This&nbsp;application&nbsp;has&nbsp;requested&nbsp;the&nbsp;Runtime&nbsp;to&nbsp;terminate&nbsp;it&nbsp;in&nbsp;an<br>
unusual&nbsp;way.&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;Please&nbsp;contact&nbsp;the&nbsp;application&amp;#39;s&nbsp;support&nbsp;team&nbsp;for&nbsp;more<br>
information.&quot;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;It&nbsp;would&nbsp;be&nbsp;great&nbsp;if&nbsp;you&nbsp;could&nbsp;create&nbsp;smaller&nbsp;test&nbsp;cases,&nbsp;and<br>
submit&nbsp;a&nbsp;bug&nbsp;reports&nbsp;for&nbsp;these&nbsp;issues.&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;A&nbsp;good&nbsp;place&nbsp;to&nbsp;start&nbsp;would&nbsp;be&nbsp;running&nbsp;the&nbsp;unit&nbsp;tests&nbsp;of&nbsp;Castle<br>
on&nbsp;Mono,&nbsp;and&nbsp;once&nbsp;these&nbsp;pass&nbsp;move&nbsp;on&nbsp;to&nbsp;the&nbsp;Rhino&nbsp;tests.&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;Gert&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;div&nbsp;style=&quot;border-style:&nbsp;none&nbsp;none&nbsp;none&nbsp;solid;&nbsp;border-color:&nbsp;-moz-use-text-color&nbsp;-moz-use-text-color&nbsp;-moz-use-text-color&nbsp;blue;&nbsp;border-width:&nbsp;medium&nbsp;medium&nbsp;medium&nbsp;1.5pt;&nbsp;padding:&nbsp;0cm&nbsp;0cm&nbsp;0cm&nbsp;4pt;&quot;&gt;<br>
<br>
&lt;div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;border-style:&nbsp;solid&nbsp;none&nbsp;none;&nbsp;border-color:&nbsp;rgb(181,&nbsp;196,&nbsp;223)&nbsp;-moz-use-text-color&nbsp;-moz-use-text-color;&nbsp;border-width:&nbsp;1pt&nbsp;medium&nbsp;medium;&nbsp;padding:&nbsp;3pt&nbsp;0cm&nbsp;0cm;&quot;&gt;<br>
<br>
&lt;p&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&quot;&gt;<br>
&lt;a&nbsp;href=&quot;mailto:mono-devel-list-bounces@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;mono-devel-list-bounces@lists.ximian.com&lt;/a&gt;<br>
[mailto:&lt;a&nbsp;href=&quot;mailto:mono-devel-list-bounces@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;mono-devel-list-bounces@lists.ximian.com&lt;/a&gt;]&nbsp;&lt;b&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/b&gt;Ayende<br>
Rahien&lt;br&gt;<br>
&lt;b&gt;Sent:&lt;/b&gt;&nbsp;maandag&nbsp;12&nbsp;maart&nbsp;2007&nbsp;7:13&lt;br&gt;<br>
&lt;b&gt;To:&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:mono-devel-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;b&gt;Subject:&lt;/b&gt;&nbsp;[Mono-dev]&nbsp;Reflection&nbsp;Emit&nbsp;issues&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;e&quot;&nbsp;id=&quot;q_111464ffac1080bb_1&quot;&gt;<br>
<br>
&lt;p&gt;&amp;nbsp;&lt;/p&gt;<br>
<br>
&lt;p&gt;Hi&nbsp;guys,&lt;br&gt;<br>
I&nbsp;have&nbsp;just&nbsp;attempted&nbsp;to&nbsp;run&nbsp;the&nbsp;Rhino&nbsp;Mocks&nbsp;test&nbsp;suite&nbsp;on&nbsp;Mono&nbsp;(Win32).&lt;br&gt;<br>
The&nbsp;result&nbsp;is&nbsp;about&nbsp;300&nbsp;failing&nbsp;tests.&nbsp;The&nbsp;root&nbsp;cause&nbsp;seems&nbsp;to&nbsp;be&nbsp;differences<br>
in&nbsp;Reflection.Emit&nbsp;behavior.&lt;br&gt;<br>
Rhino&nbsp;Mocks&nbsp;is&nbsp;using&nbsp;Castle&nbsp;Dynamic&nbsp;Proxy&nbsp;2&nbsp;to&nbsp;generate&nbsp;proxies,&nbsp;and&nbsp;all&nbsp;those<br>
tests&nbsp;are&nbsp;running&nbsp;on&nbsp;the&nbsp;Microsoft&nbsp;.NET&nbsp;implementation&nbsp;successfully.&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
How&nbsp;to&nbsp;reproduce:&lt;br&gt;<br>
1/&nbsp;Get&nbsp;the&nbsp;source&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;https://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;https://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools<br>
&lt;/a&gt;&lt;br&gt;<br>
2/&nbsp;Build&nbsp;rhino-mocks&nbsp;(xbuild&nbsp;default.build&nbsp;)&lt;br&gt;<br>
3/&nbsp;rhino-tools\rhino-mocks\Rhino.Mocks.Tests\bin\debug&amp;gt;&amp;quot;c:\Program<br>
Files\Mono-1.2.3.1\bin\mono&amp;quot;&nbsp;MbUnit.GUI.exe&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;result&nbsp;of&nbsp;one&nbsp;of&nbsp;the&nbsp;failing&nbsp;tests:&lt;br&gt;<br>
&lt;br&gt;<br>
1)<br>
Rhino.Mocks.Tests.FieldsProblem.PresenterBaseTestFixture.SetUp.TestEventInitialization.TearDown<br>
:&lt;br&gt;<br>
Argument&nbsp;cannot&nbsp;be&nbsp;null.&lt;br&gt;<br>
Parameter&nbsp;name:&nbsp;method&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;System.Reflection.Emit.ILGenerator.Emit&nbsp;(OpCode&nbsp;opcode,<br>
System.Reflection.MethodInfo&nbsp;method)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at<br>
Castle.DynamicProxy.Generators.Emitters.SimpleAST.MethodTokenExpression.Emit<br>
(IMemberEmitter&nbsp;member,&nbsp;System.Reflection.Emit.ILGenerator&nbsp;gen)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at<br>
Castle.DynamicProxy.Generators.Emitters.SimpleAST.AssignStatement.Emit&nbsp;(IMemberEmitter<br>
member,&nbsp;System.Reflection.Emit.ILGenerator&nbsp;gen)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at<br>
Castle.DynamicProxy.Generators.Emitters.CodeBuilders.AbstractCodeBuilder.Generate<br>
(IMemberEmitter&nbsp;member,&nbsp;System.Reflection.Emit.ILGenerator&nbsp;il)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;Castle.DynamicProxy.Generators.Emitters.ConstructorEmitter.Generate<br>
()&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at<br>
Castle.DynamicProxy.Generators.Emitters.AbstractTypeEmitter.EnsureBuildersAreInAValidState<br>
()&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;Castle.DynamicProxy.Generators.Emitters.AbstractTypeEmitter.BuildType<br>
()&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at<br>
Castle.DynamicProxy.Generators.InterfaceProxyWithTargetGenerator.GenerateCode<br>
(System.Type&nbsp;proxyTargetType,&nbsp;System.Type[]&nbsp;interfaces,<br>
Castle.DynamicProxy.ProxyGenerationOptions&nbsp;options)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;Castle.DynamicProxy.DefaultProxyBuilder.CreateInterfaceProxyTypeWithoutTarget<br>
(System.Type&nbsp;theInterface,&nbsp;System.Type[]&nbsp;interfaces,<br>
Castle.DynamicProxy.ProxyGenerationOptions&nbsp;options)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at<br>
Castle.DynamicProxy.ProxyGenerator.CreateInterfaceProxyTypeWithoutTarget<br>
(System.Type&nbsp;theInterface,&nbsp;System.Type[]&nbsp;interfaces,<br>
Castle.DynamicProxy.ProxyGenerationOptions&nbsp;options)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;Castle.DynamicProxy.ProxyGenerator.CreateInterfaceProxyWithoutTarget<br>
(System.Type&nbsp;theInterface,&nbsp;System.Type[]&nbsp;interfaces,<br>
Castle.DynamicProxy.ProxyGenerationOptions&nbsp;options,<br>
Castle.Core.Interceptor.IInterceptor[]&nbsp;interceptors)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;Castle.DynamicProxy.ProxyGenerator.CreateInterfaceProxyWithoutTarget<br>
(System.Type&nbsp;theInterface,&nbsp;System.Type[]&nbsp;interfaces,<br>
Castle.Core.Interceptor.IInterceptor&nbsp;[]&nbsp;interceptors)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;Rhino.Mocks.MockRepository.MockInterface&nbsp;(Rhino.Mocks.CreateMockState<br>
mockStateFactory,&nbsp;System.Type&nbsp;type,&nbsp;System.Type[]&nbsp;extras)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;Rhino.Mocks.MockRepository.CreateMockObject&nbsp;(System.Type&nbsp;type,<br>
Rhino.Mocks.CreateMockState&nbsp;factory,&nbsp;System.Type[]&nbsp;extras,&nbsp;System.Object[]<br>
argumentsForConstructor)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;Rhino.Mocks.MockRepository.DynamicMultiMock&nbsp;(System.Type&nbsp;mainType,<br>
System.Type[]&nbsp;extraTypes,&nbsp;System.Object[]&nbsp;argumentsForConstructor)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;Rhino.Mocks.MockRepository.DynamicMock&nbsp;(System.Type&nbsp;type,<br>
System.Object[]&nbsp;argumentsForConstructor)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;Rhino.Mocks.Tests.FieldsProblem.PresenterBaseTestFixture.SetUp&nbsp;()<br>
[0x00000]&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;&amp;amp;lt;0x00000&amp;amp;gt;&nbsp;&amp;amp;lt;unknown&nbsp;method&amp;amp;gt;&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;System.Reflection.MonoMethod:InternalInvoke<br>
(object,object[])&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;System.Reflection.MonoMethod.Invoke&nbsp;(&nbsp;System.Object&nbsp;obj,&nbsp;BindingFlags<br>
invokeAttr,&nbsp;System.Reflection.Binder&nbsp;binder,&nbsp;System.Object[]&nbsp;parameters,<br>
System.Globalization.CultureInfo&nbsp;culture)&nbsp;[0x00000]&nbsp;&lt;/p&gt;<br>
<br>
&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;<br>
<br>
&lt;/div&gt;<br>
<br>
<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
