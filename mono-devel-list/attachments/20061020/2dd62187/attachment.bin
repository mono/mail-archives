Index: src/mod_mono.c
===================================================================
--- src/mod_mono.c	(revision 66827)
+++ src/mod_mono.c	(working copy)
@@ -56,6 +56,7 @@
 	char *vhost;
 	char *alias;
 	char *filename;
+	char *umask_value;
 	char *run_xsp;
 	char *executable_path;
 	char *path;
@@ -187,6 +188,7 @@
 		server->vhost = apr_pstrdup(pool, servercfg->server_hostname);
 	server->alias = apr_pstrdup (pool, alias);
 	server->filename = NULL;
+	server->umask_value = NULL;
 	server->run_xsp = "True";
 	/* (Obsolete) server->executable_path = EXECUTABLE_PATH; */
 	server->path = NULL;
@@ -1117,7 +1119,18 @@
 
 	setsid ();
 	chdir ("/");
-	umask (0077);
+	if (config->umask_value == NULL)
+		umask (0077);
+	else {
+		unsigned int uval;
+		DEBUG_PRINT (1, "unparsed umask value: %s", config->umask_value);
+		if (sscanf(config->umask_value, "%o", &uval) != 1) {
+			DEBUG_PRINT (1, "umask conversion to octal failed");
+			uval = 0077;
+		}
+		DEBUG_PRINT (1, "setting umask to %o", uval);
+		umask (uval);
+	}
 	DEBUG_PRINT (1, "child started");
 
 #ifdef DEBUG
@@ -1816,6 +1829,10 @@
 #endif
 
 static const command_rec mono_cmds [] = {
+MAKE_CMD12 (MonoUnixUmask, umask_value,
+  "Value of the file mode creation mask (see umask(2))"
+  "Default: 0077"
+  ),
 MAKE_CMD12 (MonoUnixSocket, filename,
 	"Named pipe file name. Mutually exclusive with MonoListenPort. "
 	"Default: /tmp/mod_mono_server"
Index: man/mod_mono.8.in
===================================================================
--- man/mod_mono.8.in	(revision 66827)
+++ man/mod_mono.8.in	(working copy)
@@ -27,6 +27,12 @@
 mod_mono for more examples.
 
 .TP
+.I "MonoUnixUmask"
+It accepts an octal number as a parameter. The number must be a valid unix
+file creation mask value (see umask(2)). The mask will be applied whenever
+a directory or file is created from within an ASP.NET application.
+Default value: "0077".
+.TP
 .I "MonoUnixSocket"
 It accepts a file name as argument. That file will be a named pipe
 used to send/receive data from/to mod_mono to/from mod-mono-server.
