<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Nikita,&nbsp;thanks&nbsp;for&nbsp;your&nbsp;work&nbsp;on&nbsp;evhttp-sharp.&nbsp;I&nbsp;have&nbsp;looked&nbsp;into&nbsp;the&nbsp;Mono&nbsp;source&nbsp;and&nbsp;saw&nbsp;that&nbsp;too&nbsp;about&nbsp;how&nbsp;Mono&nbsp;just&nbsp;has&nbsp;an&nbsp;IO&nbsp;threadpool&nbsp;to&nbsp;complete&nbsp;the&nbsp;requests.&nbsp;I&nbsp;wonder&nbsp;if&nbsp;the&nbsp;overhead&nbsp;it&nbsp;adds&nbsp;is&nbsp;very&nbsp;large&nbsp;though&nbsp;or&nbsp;if&nbsp;it&#39;s&nbsp;still&nbsp;possible&nbsp;to&nbsp;make&nbsp;it&nbsp;efficient&nbsp;enough. &lt;div&gt;<br>
<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;only&nbsp;thing&nbsp;that&nbsp;I&nbsp;don&#39;t&nbsp;like&nbsp;about&nbsp;the&nbsp;evhttp-sharp&nbsp;implementation&nbsp;is&nbsp;that&nbsp;we&nbsp;have&nbsp;to&nbsp;proxy&nbsp;the&nbsp;requests&nbsp;from&nbsp;the&nbsp;webserver&nbsp;to&nbsp;evhttp.&nbsp;A&nbsp;libuv&nbsp;solution&nbsp;would&nbsp;be&nbsp;interesting&nbsp;as&nbsp;well&nbsp;and&nbsp;could&nbsp;be&nbsp;implemented&nbsp;as&nbsp;a&nbsp;FastCGI&nbsp;wrapper&nbsp;instead&nbsp;of&nbsp;proxying&nbsp;the&nbsp;requests&nbsp;manually.&nbsp;There&nbsp;are&nbsp;already&nbsp;some&nbsp;wrappers&nbsp;around&nbsp;libuv&nbsp;for&nbsp;C#&nbsp;like &lt;a&nbsp;href=&quot;https://github.com/txdv/LibuvSharp&quot;&gt;https://github.com/txdv/LibuvSharp&lt;/a&gt;&nbsp;so&nbsp;it&nbsp;might&nbsp;not&nbsp;be&nbsp;hard&nbsp;to&nbsp;do&nbsp;the&nbsp;rest.&nbsp;Granted&nbsp;the&nbsp;evhttp-sharp&nbsp;performance&nbsp;is&nbsp;already&nbsp;great&nbsp;and&nbsp;this&nbsp;would&nbsp;only&nbsp;be&nbsp;worth&nbsp;it&nbsp;if&nbsp;it&nbsp;improves&nbsp;performance&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;day.&lt;/div&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Apr&nbsp;7,&nbsp;2014&nbsp;at&nbsp;4:38&nbsp;PM,&nbsp;Nikita&nbsp;Tsukanov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:keks9n@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;keks9n@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Author&nbsp;of&nbsp;that&nbsp;libevent-wrapper&nbsp;reporting&nbsp;in.&nbsp;It&nbsp;seems&nbsp;that&nbsp;the&nbsp;implementation&nbsp;of&nbsp;asynchronous&nbsp;sockets&nbsp;in&nbsp;Mono&nbsp;is&nbsp;limited&nbsp;to&nbsp;the&nbsp;original&nbsp;Win32&nbsp;API&nbsp;model&nbsp;with&nbsp;I/O&nbsp;completion&nbsp;ports,&nbsp;(i.&nbsp;e.&nbsp;multiple&nbsp;threads&nbsp;from&nbsp;a&nbsp;thread&nbsp;pool&nbsp;waiting&nbsp;for&nbsp;some&nbsp;events&nbsp;from&nbsp;sockets,&nbsp;done&nbsp;at&nbsp;Windows&nbsp;kernel&nbsp;level).&nbsp;On&nbsp;Linux/MacOS&nbsp;Mono&nbsp;has&nbsp;to&nbsp;emulate&nbsp;that&nbsp;by&nbsp;running&nbsp;a&nbsp;separate&nbsp;thread&nbsp;for&nbsp;epoll/kqueue&nbsp;event&nbsp;loop&nbsp;and&nbsp;then&nbsp;queueing&nbsp;callbacks&nbsp;passed&nbsp;to&nbsp;BeginRead/Write&nbsp;to&nbsp;a&nbsp;&quot;common&quot;&nbsp;thread&nbsp;pool.&nbsp;This&nbsp;approach&nbsp;will&nbsp;always&nbsp;cause&nbsp;some&nbsp;thread-communication&nbsp;overhead,&nbsp;so&nbsp;it&#39;s&nbsp;almost&nbsp;impossible&nbsp;to&nbsp;create&nbsp;an&nbsp;efficient&nbsp;socket&nbsp;server&nbsp;implementation&nbsp;using&nbsp;System.Net.Sockets.&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;&lt;/div&gt;It&nbsp;might&nbsp;be&nbsp;worth&nbsp;to&nbsp;create&nbsp;some&nbsp;single-threaded&nbsp;socket&nbsp;I/O&nbsp;stack&nbsp;using&nbsp;libuv&nbsp;and&nbsp;async/await&nbsp;model&nbsp;with&nbsp;custom&nbsp;synchronization&nbsp;context&nbsp;(actual&nbsp;ReadAsync&nbsp;and&nbsp;WriteAsync&nbsp;don&#39;t&nbsp;even&nbsp;need&nbsp;to&nbsp;return&nbsp;Task,&nbsp;just&nbsp;something&nbsp;that&nbsp;has&nbsp;GetAwaiter&nbsp;method).&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;&lt;/div&gt;Regards,&lt;br&gt;&lt;/div&gt;Nikita&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2014-04-07&nbsp;19:52&nbsp;GMT+04:00&nbsp;Giuliano&nbsp;Barberi&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:gbarberi@aotaonline.com&quot;&nbsp;target=&quot;_blank&quot;&gt;gbarberi@aotaonline.com&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;p&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;think&nbsp;just&nbsp;running&nbsp;the&nbsp;same&nbsp;test&nbsp;as&nbsp;evhttp-listener&nbsp;in&nbsp;the&nbsp;TechemPower&nbsp;Benchmark&nbsp;where&nbsp;it&nbsp;serializes&nbsp;JSON&nbsp;is&nbsp;fine.&nbsp;All&nbsp;we&nbsp;are&nbsp;looking&nbsp;for&nbsp;is&nbsp;a&nbsp;comparison.&nbsp;If&nbsp;we&nbsp;submit&nbsp;the&nbsp;test&nbsp;to&nbsp;them&nbsp;on&nbsp;Github&nbsp;then&nbsp;it&nbsp;should&nbsp;be&nbsp;available&nbsp;for&nbsp;the&nbsp;next&nbsp;benchmark&nbsp;too.&nbsp;Seems&nbsp;like&nbsp;we&nbsp;could&nbsp;add&nbsp;the&nbsp;HyperFastCgi&nbsp;and&nbsp;the&nbsp;FOS&nbsp;implementations.&nbsp;So&nbsp;far&nbsp;the&nbsp;evhttp&nbsp;one&nbsp;is&nbsp;super&nbsp;fast&nbsp;but&nbsp;it&nbsp;relies&nbsp;on&nbsp;native&nbsp;code&nbsp;so&nbsp;it&nbsp;has&nbsp;some&nbsp;custom&nbsp;code&nbsp;to&nbsp;pick&nbsp;either&nbsp;the&nbsp;Windows&nbsp;DLL&nbsp;or&nbsp;the&nbsp;Linux&nbsp;SO&nbsp;and&nbsp;needs&nbsp;those&nbsp;dependencies&nbsp;installed&nbsp;separately.&nbsp;It&nbsp;would&nbsp;be&nbsp;great&nbsp;to&nbsp;have&nbsp;a&nbsp;fast&nbsp;C#&nbsp;implementation.&lt;/p&gt;<br>
<br>
<br>
<br>
<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;Regards&lt;/p&gt;&lt;div&gt;&lt;div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Apr&nbsp;7,&nbsp;2014&nbsp;10:20&nbsp;AM,&nbsp;&quot;Marcelo&nbsp;Zabani&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:mzabani@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mzabani@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&nbsp;type=&quot;attribution&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;have&nbsp;not&nbsp;compared&nbsp;the&nbsp;fastcgi&nbsp;implementation&nbsp;per&nbsp;se,&nbsp;because&nbsp;it&nbsp;is&nbsp;not&nbsp;very&nbsp;easy&nbsp;to&nbsp;test&nbsp;only&nbsp;the&nbsp;underlying&nbsp;fastcgi&nbsp;implementations&nbsp;and&nbsp;I&nbsp;never&nbsp;had&nbsp;the&nbsp;time&nbsp;for&nbsp;that.&lt;div&gt;Fos,&nbsp;however,&nbsp;is&nbsp;a&nbsp;highly&nbsp;asynchronous&nbsp;server&nbsp;implementation,&nbsp;and&nbsp;I&#39;ve&nbsp;seen&nbsp;it&nbsp;dealing&nbsp;with&nbsp;a&nbsp;lot&nbsp;of&nbsp;connections&nbsp;simultaneously.&nbsp;I&nbsp;haven&#39;t&nbsp;benchmarked&nbsp;it&nbsp;properly&nbsp;and&nbsp;compared&nbsp;it&nbsp;to&nbsp;other&nbsp;servers&nbsp;yet,&nbsp;but&nbsp;I&#39;ll&nbsp;try&nbsp;to&nbsp;do&nbsp;that&nbsp;in&nbsp;the&nbsp;next&nbsp;two&nbsp;weeks.&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;I&nbsp;run&nbsp;a&nbsp;website&nbsp;with&nbsp;Fos&nbsp;and&nbsp;I&nbsp;get&nbsp;10-20ms&nbsp;average&nbsp;response&nbsp;time&nbsp;(measured&nbsp;as&nbsp;Fos&nbsp;-&gt;&nbsp;Nginx,&nbsp;that&nbsp;is,&nbsp;not&nbsp;counting&nbsp;the&nbsp;time&nbsp;it&nbsp;takes&nbsp;for&nbsp;the&nbsp;response&nbsp;to&nbsp;reach&nbsp;the&nbsp;user)&nbsp;with&nbsp;static&nbsp;pages.&nbsp;In&nbsp;case&nbsp;you&nbsp;want&nbsp;to&nbsp;take&nbsp;a&nbsp;better&nbsp;look&nbsp;at&nbsp;these&nbsp;numbers,&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://beeder.com.br/_stats&quot;&nbsp;target=&quot;_blank&quot;&gt;http://beeder.com.br/_stats&lt;/a&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Don&#39;t&nbsp;be&nbsp;scared&nbsp;by&nbsp;the&nbsp;large&nbsp;response&nbsp;times&nbsp;for&nbsp;some&nbsp;of&nbsp;the&nbsp;URLs,&nbsp;as&nbsp;those&nbsp;are&nbsp;usually&nbsp;contacting&nbsp;Facebook&nbsp;through&nbsp;Fb&#39;s&nbsp;API.&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
On&nbsp;Mon,&nbsp;Apr&nbsp;7,&nbsp;2014&nbsp;at&nbsp;8:02&nbsp;AM,&nbsp;Giuliano&nbsp;Barberi&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:gbarberi@aotaonline.com&quot;&nbsp;target=&quot;_blank&quot;&gt;gbarberi@aotaonline.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Have&nbsp;you&nbsp;benchmarked&nbsp;it&nbsp;to&nbsp;see&nbsp;how&nbsp;it&nbsp;compares&nbsp;to&nbsp;the&nbsp;existing&nbsp;FastCGI&nbsp;implementation?&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;On&nbsp;Sun,&nbsp;Apr&nbsp;6,&nbsp;2014&nbsp;at&nbsp;11:03&nbsp;PM,&nbsp;Marcelo&nbsp;Zabani&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:mzabani@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mzabani@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&gt;&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;div&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif&quot;&gt;In&nbsp;case&nbsp;you&nbsp;want&nbsp;to&nbsp;host&nbsp;an&nbsp;OWIN&nbsp;application&nbsp;with&nbsp;Mono&nbsp;and&nbsp;FastCgi,&nbsp;you&nbsp;may&nbsp;wanna&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;a&nbsp;project&nbsp;of&nbsp;mine,&nbsp;Fos:&nbsp;&lt;a&nbsp;href=&quot;https://github.com/mzabani/Fos&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/mzabani/Fos&lt;/a&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
It&nbsp;is&nbsp;also&nbsp;available&nbsp;at&nbsp;NuGet.&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;hr&gt;<br>
&lt;span&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif;FONT-WEIGHT:bold&quot;&gt;From:&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif&quot;&gt;&lt;a&nbsp;href=&quot;mailto:gregnajda@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Greg&nbsp;Najda&lt;/a&gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;span&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif;FONT-WEIGHT:bold&quot;&gt;Sent:&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif&quot;&gt;06/04/2014&nbsp;22:43&lt;/span&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;span&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif;FONT-WEIGHT:bold&quot;&gt;To:&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif&quot;&gt;&lt;a&nbsp;href=&quot;mailto:gbarberi@aotaonline.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Giuliano&nbsp;Barberi&lt;/a&gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;span&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif;FONT-WEIGHT:bold&quot;&gt;Cc:&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif&quot;&gt;&lt;a&nbsp;href=&quot;mailto:mono-devel-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Mono&nbsp;Developer&nbsp;List&lt;/a&gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;span&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif;FONT-WEIGHT:bold&quot;&gt;Subject:&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;FONT-SIZE:11pt;FONT-FAMILY:Calibri,sans-serif&quot;&gt;Re:&nbsp;[Mono-dev]&nbsp;FastCGI&nbsp;Performance&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Someone&nbsp;looked&nbsp;into&nbsp;Mono&nbsp;FastCGI&nbsp;performance&nbsp;a&nbsp;couple&nbsp;months&nbsp;ago&nbsp;and&nbsp;made&nbsp;a&nbsp;series&nbsp;of&nbsp;blog&nbsp;posts:&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://forcedtoadmin.blogspot.com/2013/11/servicestack-performance-in-mono-p1.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forcedtoadmin.blogspot.com/2013/11/servicestack-performance-in-mono-p1.html&lt;/a&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;a&nbsp;href=&quot;http://forcedtoadmin.blogspot.com/2013/11/servicestack-performance-in-mono-p2.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forcedtoadmin.blogspot.com/2013/11/servicestack-performance-in-mono-p2.html&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://forcedtoadmin.blogspot.com/2013/12/servicestack-performance-in-mono-p3.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://forcedtoadmin.blogspot.com/2013/12/servicestack-performance-in-mono-p3.html&lt;/a&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;br&gt;&lt;/div&gt;He&nbsp;ended&nbsp;up&nbsp;writing&nbsp;a&nbsp;replacement&nbsp;for&nbsp;the&nbsp;Mono&nbsp;FastCGI&nbsp;server&nbsp;instead&nbsp;of&nbsp;changing&nbsp;it&nbsp;because&nbsp;of&nbsp;architectural&nbsp;changes:&nbsp;&lt;a&nbsp;href=&quot;https://github.com/xplicit/HyperFastCgi&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/xplicit/HyperFastCgi&lt;/a&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Apr&nbsp;6,&nbsp;2014&nbsp;at&nbsp;7:43&nbsp;PM,&nbsp;Giuliano&nbsp;Barberi&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:gbarberi@aotaonline.com&quot;&nbsp;target=&quot;_blank&quot;&gt;gbarberi@aotaonline.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;After&nbsp;looking&nbsp;at&nbsp;some&nbsp;of&nbsp;the&nbsp;Mono&nbsp;web&nbsp;benchmarks&nbsp;( &lt;a&nbsp;href=&quot;http://www.techempower.com/benchmarks/#section=data-r8&amp;hw=i7&amp;test=json&amp;s=2&amp;p=13ydj4-0&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.techempower.com/benchmarks/#section=data-r8&amp;hw=i7&amp;test=json&amp;s=2&amp;p=13ydj4-0&lt;/a&gt; )&nbsp;I&nbsp;got&nbsp;very&nbsp;curious&nbsp;as&nbsp;to&nbsp;why&nbsp;FastCGI&nbsp;performance&nbsp;was&nbsp;so&nbsp;much&nbsp;lower&nbsp;than&nbsp;when&nbsp;using&nbsp;a&nbsp;C#&nbsp;libevent&nbsp;implementation.&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;If&nbsp;you&nbsp;look&nbsp;at&nbsp;nancy-libevent2&nbsp;vs&nbsp;nancy&nbsp;benchmarks,&nbsp;the&nbsp;only&nbsp;difference&nbsp;is&nbsp;a&nbsp;C#&nbsp;wrapper&nbsp;around&nbsp;libevent&nbsp;( &lt;a&nbsp;href=&quot;https://github.com/kekekeks/evhttp-sharp&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/kekekeks/evhttp-sharp&lt;/a&gt; )&nbsp;vs&nbsp;Mono&nbsp;FastCGI.&nbsp;Since&nbsp;Mono&nbsp;uses&nbsp;epoll&nbsp;underneath&nbsp;which&nbsp;is&nbsp;what&nbsp;libevent&nbsp;uses&nbsp;afaik,&nbsp;I&nbsp;would&nbsp;not&nbsp;expect&nbsp;there&nbsp;to&nbsp;be&nbsp;such&nbsp;a&nbsp;gap&nbsp;in&nbsp;performance. &lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;I&#39;m&nbsp;curious&nbsp;whether&nbsp;performance&nbsp;of&nbsp;FastCGI&nbsp;is&nbsp;being&nbsp;looked&nbsp;at&nbsp;or&nbsp;if&nbsp;this&nbsp;is&nbsp;expected.&nbsp;Mono&nbsp;when&nbsp;using&nbsp;FastCGI&nbsp;benchmarks&nbsp;almost&nbsp;at&nbsp;the&nbsp;bottom&nbsp;of&nbsp;the&nbsp;list&nbsp;when&nbsp;compared&nbsp;to&nbsp;many&nbsp;other&nbsp;technologies&nbsp;( &lt;a&nbsp;href=&quot;http://www.techempower.com/benchmarks/#section=data-r8&amp;hw=i7&amp;test=json&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.techempower.com/benchmarks/#section=data-r8&amp;hw=i7&amp;test=json&lt;/a&gt; ).&nbsp;I&#39;ve&nbsp;done&nbsp;a&nbsp;bit&nbsp;of&nbsp;analysis&nbsp;on&nbsp;where&nbsp;the&nbsp;bottleneck&nbsp;is&nbsp;and&nbsp;everything&nbsp;I&#39;ve&nbsp;found&nbsp;is&nbsp;pointing&nbsp;to&nbsp;the&nbsp;FastCGI&nbsp;implementation.&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;Regards&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;--&nbsp;&lt;br&gt;<br>
<br>
Giuliano&nbsp;Barberi<br>
&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;Giuliano&nbsp;Barberi<br>
&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;Giuliano&nbsp;Barberi<br>
&lt;/div&gt;<br>

</tt>
