<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&#39;ve&nbsp;submitted&nbsp;this&nbsp;bug:&nbsp;&lt;a&nbsp;href=&quot;https://bugzilla.xamarin.com/show_bug.cgi?id=12669&quot;&gt;https://bugzilla.xamarin.com/show_bug.cgi?id=12669&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Sat,&nbsp;Jun&nbsp;8,&nbsp;2013&nbsp;at&nbsp;3:17&nbsp;PM,&nbsp;Tim&nbsp;Matthews&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:tim.matthews7@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;tim.matthews7@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;I&nbsp;noticed&nbsp;a&nbsp;bug&nbsp;that&nbsp;was&nbsp;introduced&nbsp;in&nbsp;Mono&nbsp;3&nbsp;for&nbsp;embedding&nbsp;mono:&lt;br&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;#include&nbsp;&lt;glib.h&gt;&lt;br&gt;#include&nbsp;&lt;mono/jit/jit.h&gt;&lt;br&gt;#include&nbsp;&lt;mono/metadata/assembly.h&gt;&lt;br&gt;<br>
<br>
#include&nbsp;&lt;mono/metadata/debug-helpers.h&gt;&lt;br&gt;#include&nbsp;&lt;mono/metadata/object.h&gt;&lt;br&gt;&lt;br&gt;#include&nbsp;&lt;stdio.h&gt;&lt;br&gt;&lt;br&gt;int&nbsp;&lt;br&gt;main&nbsp;(int&nbsp;argc,&nbsp;char*&nbsp;argv[])&nbsp;{&lt;br&gt;   &nbsp;MonoDomain&nbsp;*domain;&lt;br&gt;   &nbsp;MonoImage&nbsp;*image;&lt;br&gt;<br>
<br>
 &nbsp;MonoAssemblyName&nbsp;*assemName;&lt;br&gt; &nbsp;MonoAssembly&nbsp;*assem;&lt;br&gt; &nbsp;MonoMethodDesc*&nbsp;desc;&lt;br&gt; &nbsp;MonoMethod*&nbsp;method;&lt;br&gt;   &nbsp;&lt;br&gt; &nbsp;mono_config_parse(NULL);&lt;br&gt;   &nbsp;domain&nbsp;=&nbsp;mono_jit_init&nbsp;(argv&nbsp;[0]);&lt;br&gt;&lt;br&gt; &nbsp;assemName&nbsp;=&nbsp;mono_assembly_name_new(&quot;System.Windows.Forms,&nbsp;Culture=neutral,&nbsp;PublicKeyToken=b77a5c561934e089&quot;);&lt;br&gt;<br>
<br>
 &nbsp;assem&nbsp;=&nbsp;mono_assembly_load(assemName,&nbsp;NULL,&nbsp;NULL);&lt;br&gt; &nbsp;image&nbsp;=&nbsp;mono_assembly_get_image(assem);&lt;br&gt; &nbsp;desc&nbsp;=&nbsp;mono_method_desc_new(&quot;System.Windows.Forms.Application:EnableVisualStyles()&quot;,&nbsp;1);&lt;br&gt; &nbsp;method&nbsp;=&nbsp;mono_method_desc_search_in_image(desc,&nbsp;image);&lt;br&gt;<br>
<br>
&lt;br&gt; &nbsp;printf(&quot;About&nbsp;to&nbsp;crash\n&quot;);&lt;br&gt;&lt;br&gt; &nbsp;mono_runtime_invoke(method,&nbsp;NULL,&nbsp;NULL,&nbsp;NULL); &nbsp;//crash&lt;br&gt;&lt;br&gt;   &nbsp;mono_jit_cleanup&nbsp;(domain);&lt;br&gt;   &nbsp;return&nbsp;0;&lt;br&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;Produces&nbsp;the&nbsp;following&nbsp;output:&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;%&nbsp;./a.out  &nbsp;&lt;br&gt;About&nbsp;to&nbsp;crash&lt;br&gt;&lt;br&gt;Unhandled&nbsp;Exception:&lt;br&gt;System.TypeInitializationException:&nbsp;An&nbsp;exception&nbsp;was&nbsp;thrown&nbsp;by&nbsp;the&nbsp;type&nbsp;initializer&nbsp;for&nbsp;System.Windows.Forms.XplatUI&nbsp;---&gt;&nbsp;System.TypeInitializationException:&nbsp;An&nbsp;exception&nbsp;was&nbsp;thrown&nbsp;by&nbsp;the&nbsp;type&nbsp;initializer&nbsp;for&nbsp;System.Net.Sockets.Socket&nbsp;---&gt;&nbsp;System.Configuration.ConfigurationErrorsException:&nbsp;Error&nbsp;Initializing&nbsp;the&nbsp;configuration&nbsp;system.&nbsp;---&gt;&nbsp;System.ArgumentException:&nbsp;The&nbsp;&#39;ExeConfigFilename&#39;&nbsp;argument&nbsp;cannot&nbsp;be&nbsp;null.&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.ExeConfigurationHost.CheckFileMap&nbsp;(ConfigurationUserLevel&nbsp;level,&nbsp;System.Configuration.ExeConfigurationFileMap&nbsp;map)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Configuration.ExeConfigurationHost.InitForConfiguration&nbsp;(System.String&amp;&nbsp;locationSubPath,&nbsp;System.String&amp;&nbsp;configPath,&nbsp;System.String&amp;&nbsp;locationConfigPath,&nbsp;IInternalConfigRoot&nbsp;root,&nbsp;System.Object[]&nbsp;hostInitConfigurationParams)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.InternalConfigurationSystem.InitForConfiguration&nbsp;(System.String&amp;&nbsp;locationConfigPath,&nbsp;System.String&amp;&nbsp;parentConfigPath,&nbsp;System.String&amp;&nbsp;parentLocationConfigPath)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.Configuration..ctor&nbsp;(System.Configuration.InternalConfigurationSystem&nbsp;system,&nbsp;System.String&nbsp;locationSubPath)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Configuration.InternalConfigurationFactory.Create&nbsp;(System.Type&nbsp;typeConfigHost,&nbsp;System.Object[]&nbsp;hostInitConfigurationParams)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.ConfigurationManager.OpenExeConfigurationInternal&nbsp;(ConfigurationUserLevel&nbsp;userLevel,&nbsp;System.Reflection.Assembly&nbsp;calling_assembly,&nbsp;System.String&nbsp;exePath)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.ClientConfigurationSystem.get_Configuration&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;br&gt; &nbsp;at&nbsp;System.Configuration.ClientConfigurationSystem.get_Configuration&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.ClientConfigurationSystem.System.Configuration.Internal.IInternalConfigSystem.GetSection&nbsp;(System.String&nbsp;configKey)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Configuration.ConfigurationManager.GetSection&nbsp;(System.String&nbsp;sectionName)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Net.Sockets.Socket.CheckProtocolSupport&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Net.Sockets.Socket..cctor&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Windows.Forms.XplatUIX11.SetDisplay&nbsp;(IntPtr&nbsp;display_handle)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Windows.Forms.XplatUIX11..ctor&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Windows.Forms.XplatUIX11.GetInstance&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Windows.Forms.XplatUI..cctor&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;br&gt; &nbsp;at&nbsp;System.Windows.Forms.Application.EnableVisualStyles&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
[ERROR]&nbsp;FATAL&nbsp;UNHANDLED&nbsp;EXCEPTION:&nbsp;System.TypeInitializationException:&nbsp;An&nbsp;exception&nbsp;was&nbsp;thrown&nbsp;by&nbsp;the&nbsp;type&nbsp;initializer&nbsp;for&nbsp;System.Windows.Forms.XplatUI&nbsp;---&gt;&nbsp;System.TypeInitializationException:&nbsp;An&nbsp;exception&nbsp;was&nbsp;thrown&nbsp;by&nbsp;the&nbsp;type&nbsp;initializer&nbsp;for&nbsp;System.Net.Sockets.Socket&nbsp;---&gt;&nbsp;System.Configuration.ConfigurationErrorsException:&nbsp;Error&nbsp;Initializing&nbsp;the&nbsp;configuration&nbsp;system.&nbsp;---&gt;&nbsp;System.ArgumentException:&nbsp;The&nbsp;&#39;ExeConfigFilename&#39;&nbsp;argument&nbsp;cannot&nbsp;be&nbsp;null.&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.ExeConfigurationHost.CheckFileMap&nbsp;(ConfigurationUserLevel&nbsp;level,&nbsp;System.Configuration.ExeConfigurationFileMap&nbsp;map)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Configuration.ExeConfigurationHost.InitForConfiguration&nbsp;(System.String&amp;&nbsp;locationSubPath,&nbsp;System.String&amp;&nbsp;configPath,&nbsp;System.String&amp;&nbsp;locationConfigPath,&nbsp;IInternalConfigRoot&nbsp;root,&nbsp;System.Object[]&nbsp;hostInitConfigurationParams)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.InternalConfigurationSystem.InitForConfiguration&nbsp;(System.String&amp;&nbsp;locationConfigPath,&nbsp;System.String&amp;&nbsp;parentConfigPath,&nbsp;System.String&amp;&nbsp;parentLocationConfigPath)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.Configuration..ctor&nbsp;(System.Configuration.InternalConfigurationSystem&nbsp;system,&nbsp;System.String&nbsp;locationSubPath)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Configuration.InternalConfigurationFactory.Create&nbsp;(System.Type&nbsp;typeConfigHost,&nbsp;System.Object[]&nbsp;hostInitConfigurationParams)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.ConfigurationManager.OpenExeConfigurationInternal&nbsp;(ConfigurationUserLevel&nbsp;userLevel,&nbsp;System.Reflection.Assembly&nbsp;calling_assembly,&nbsp;System.String&nbsp;exePath)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.ClientConfigurationSystem.get_Configuration&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;br&gt; &nbsp;at&nbsp;System.Configuration.ClientConfigurationSystem.get_Configuration&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Configuration.ClientConfigurationSystem.System.Configuration.Internal.IInternalConfigSystem.GetSection&nbsp;(System.String&nbsp;configKey)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Configuration.ConfigurationManager.GetSection&nbsp;(System.String&nbsp;sectionName)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Net.Sockets.Socket.CheckProtocolSupport&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Net.Sockets.Socket..cctor&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Windows.Forms.XplatUIX11.SetDisplay&nbsp;(IntPtr&nbsp;display_handle)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Windows.Forms.XplatUIX11..ctor&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;at&nbsp;System.Windows.Forms.XplatUIX11.GetInstance&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
 &nbsp;at&nbsp;System.Windows.Forms.XplatUI..cctor&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt; &nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;br&gt; &nbsp;at&nbsp;System.Windows.Forms.Application.EnableVisualStyles&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
