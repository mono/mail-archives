<tt>
Mono&nbsp;on&nbsp;64bits&nbsp;darwin&nbsp;remains&nbsp;experimental&nbsp;and&nbsp;sgen&nbsp;in&nbsp;particular&nbsp;hás&nbsp;not&nbsp;been&nbsp;portes&nbsp;yet.&lt;br&gt;&lt;br&gt;On&nbsp;Tuesday,&nbsp;November&nbsp;1,&nbsp;2011,&nbsp;David&nbsp;Mitchell&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:dmitchell@logos.com&quot;&gt;dmitchell@logos.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;I&amp;#39;ve&nbsp;been&nbsp;experimenting&nbsp;with&nbsp;running&nbsp;Mono&nbsp;built&nbsp;for&nbsp;x86_64&nbsp;on&nbsp;OS&nbsp;X.&nbsp;I&amp;#39;ve&nbsp;been&nbsp;largely&nbsp;successful&nbsp;using&nbsp;Boehm&nbsp;GC,&nbsp;but&nbsp;today&nbsp;I&nbsp;tried&nbsp;running&nbsp;an&nbsp;app&nbsp;with&nbsp;—gc=sgen,&nbsp;and&nbsp;I&nbsp;got&nbsp;an&nbsp;immediate&nbsp;crash&nbsp;(if&nbsp;there&amp;#39;s&nbsp;output&nbsp;early&nbsp;in&nbsp;the&nbsp;program,&nbsp;I&nbsp;may&nbsp;get&nbsp;a&nbsp;line&nbsp;or&nbsp;two),&nbsp;even&nbsp;with&nbsp;the&nbsp;simplest&nbsp;programs.&lt;br&gt;<br>
&amp;gt;&nbsp;My&nbsp;arguments&nbsp;to&nbsp;autogen.sh&nbsp;looked&nbsp;something&nbsp;like&nbsp;this:&lt;br&gt;&amp;gt;&nbsp;./autogen.sh&nbsp;--with-xen_opt=no&nbsp;--prefix=$MONO_INSTALL_DIRECTORY&nbsp;--with-mcs-docs=no&nbsp;--disable-nls&nbsp;--build=x86_64-apple-darwin&lt;br&gt;&amp;gt;&nbsp;And&nbsp;my&nbsp;super-simple&nbsp;C#&nbsp;program&nbsp;looks&nbsp;like&nbsp;this:&lt;br&gt;<br>
&amp;gt;&nbsp;using&nbsp;System;&lt;br&gt;&amp;gt;&nbsp;internal&nbsp;static&nbsp;class&nbsp;Program&lt;br&gt;&amp;gt;&nbsp;{&lt;br&gt;&amp;gt;&nbsp;private&nbsp;static&nbsp;void&nbsp;Main()&lt;br&gt;&amp;gt;&nbsp;{&lt;br&gt;&amp;gt;&nbsp;Console.WriteLine(&amp;quot;hi&amp;quot;);&lt;br&gt;&amp;gt;&nbsp;}&lt;br&gt;&amp;gt;&nbsp;}&lt;br&gt;&amp;gt;&nbsp;Can&nbsp;anyone&nbsp;else&nbsp;replicate&nbsp;my&nbsp;result?&nbsp;Does&nbsp;anyone&nbsp;have&nbsp;an&nbsp;idea&nbsp;for&nbsp;a&nbsp;fix?&lt;br&gt;<br>
&amp;gt;&nbsp;—&nbsp;Dave&lt;br&gt;&amp;gt;&nbsp;P.S.&nbsp;-&nbsp;Here&amp;#39;s&nbsp;the&nbsp;stacktrace&nbsp;I&nbsp;get:&lt;br&gt;&amp;gt;&nbsp;Stacktrace:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Native&nbsp;stacktrace:&lt;br&gt;&amp;gt;&nbsp;0&nbsp; &nbsp;mono-sgen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x0000000100081994&nbsp;mono_handle_native_sigsegv&nbsp;+&nbsp;276&lt;br&gt;&amp;gt;&nbsp;1&nbsp; &nbsp;mono-sgen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00000001000036ea&nbsp;mono_sigsegv_signal_handler&nbsp;+&nbsp;202&lt;br&gt;<br>
&amp;gt;&nbsp;2&nbsp; &nbsp;libSystem.B.dylib&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00007fff826641ba&nbsp;_sigtramp&nbsp;+&nbsp;26&lt;br&gt;&amp;gt;&nbsp;3&nbsp; &nbsp;???&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x000000000000006b&nbsp;0x0&nbsp;+&nbsp;107&lt;br&gt;&amp;gt;&nbsp;4&nbsp; &nbsp;mono-sgen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00000001001bc5dd&nbsp;mono_sgen_suspend_thread&nbsp;+&nbsp;173&lt;br&gt;<br>
&amp;gt;&nbsp;5&nbsp; &nbsp;mono-sgen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00000001001bc74d&nbsp;mono_sgen_thread_handshake&nbsp;+&nbsp;157&lt;br&gt;&amp;gt;&nbsp;6&nbsp; &nbsp;mono-sgen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x0000000100198f41&nbsp;stop_world&nbsp;+&nbsp;273&lt;br&gt;&amp;gt;&nbsp;7&nbsp; &nbsp;mono-sgen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00000001001a2e84&nbsp;mono_gc_collect&nbsp;+&nbsp;52&lt;br&gt;<br>
&amp;gt;&nbsp;8&nbsp; &nbsp;mono-sgen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x000000010010d14d&nbsp;mono_domain_finalize&nbsp;+&nbsp;77&lt;br&gt;&amp;gt;&nbsp;9&nbsp; &nbsp;mono-sgen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x0000000100001a6a&nbsp;mini_cleanup&nbsp;+&nbsp;42&lt;br&gt;&amp;gt;&nbsp;10&nbsp; mono-sgen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x000000010005d04d&nbsp;mono_main&nbsp;+&nbsp;8189&lt;br&gt;<br>
&amp;gt;&nbsp;11&nbsp; mono-sgen&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x0000000100000e04&nbsp;start&nbsp;+&nbsp;52&lt;br&gt;&amp;gt;&nbsp;12&nbsp; ???&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x0000000000000003&nbsp;0x0&nbsp;+&nbsp;3&lt;br&gt;&amp;gt;&nbsp;Debug&nbsp;info&nbsp;from&nbsp;gdb:&lt;br&gt;&amp;gt;&nbsp;Cannot&nbsp;access&nbsp;memory&nbsp;at&nbsp;address&nbsp;0x0&lt;br&gt;<br>
&amp;gt;&nbsp;Attaching&nbsp;to&nbsp;process&nbsp;43936.&lt;br&gt;&amp;gt;&nbsp;Reading&nbsp;symbols&nbsp;for&nbsp;shared&nbsp;libraries&nbsp;.&nbsp;done&lt;br&gt;&amp;gt;&nbsp;Reading&nbsp;symbols&nbsp;for&nbsp;shared&nbsp;libraries&nbsp;..........&nbsp;done&lt;br&gt;&amp;gt;&nbsp;0x00007fff8260e464&nbsp;in&nbsp;read&nbsp;()&lt;br&gt;&amp;gt;&nbsp; &nbsp;2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00007fff82603db6&nbsp;in&nbsp;semaphore_wait_trap&nbsp;()&lt;br&gt;<br>
&amp;gt;&nbsp;*&nbsp;1&nbsp;&amp;quot;com.apple.main-thread&amp;quot;&nbsp;0x00007fff8260e464&nbsp;in&nbsp;read&nbsp;()&lt;br&gt;&amp;gt;&nbsp;Thread&nbsp;2&nbsp;(process&nbsp;43936):&lt;br&gt;&amp;gt;&nbsp;#0&nbsp; 0x00007fff82603db6&nbsp;in&nbsp;semaphore_wait_trap&nbsp;()&lt;br&gt;&amp;gt;&nbsp;#1&nbsp; 0x0000000100203818&nbsp;in&nbsp;mono_sem_wait&nbsp;(sem=)&nbsp;at&nbsp;mono-semaphore.c:115&lt;br&gt;<br>
&amp;gt;&nbsp;#2&nbsp; 0x000000010010c362&nbsp;in&nbsp;finalizer_thread&nbsp;(unused=0x1d03)&nbsp;at&nbsp;gc.c:1073&lt;br&gt;&amp;gt;&nbsp;#3&nbsp; 0x00000001001c91fe&nbsp;in&nbsp;start_wrapper_internal&nbsp;[inlined]&nbsp;()&nbsp;at&nbsp;/Users/dmitchell/External/mono/mono/metadata/threads.c:571&lt;br&gt;&amp;gt;&nbsp;#4&nbsp; 0x00000001001c91fe&nbsp;in&nbsp;start_wrapper&nbsp;(data=0x100532830)&nbsp;at&nbsp;threads.c:619&lt;br&gt;<br>
&amp;gt;&nbsp;#5&nbsp; 0x00000001001f8cc3&nbsp;in&nbsp;thread_start_routine&nbsp;(args=0x10087abf8)&nbsp;at&nbsp;wthreads.c:290&lt;br&gt;&amp;gt;&nbsp;#6&nbsp; 0x0000000100205216&nbsp;in&nbsp;inner_start_thread&nbsp;(arg=0x1005322d0)&nbsp;at&nbsp;mono-threads-posix.c:49&lt;br&gt;&amp;gt;&nbsp;#7&nbsp; 0x00007fff8263cfd6&nbsp;in&nbsp;_pthread_start&nbsp;()&lt;br&gt;<br>
&amp;gt;&nbsp;#8&nbsp; 0x00007fff8263ce89&nbsp;in&nbsp;thread_start&nbsp;()&lt;br&gt;&amp;gt;&nbsp;Thread&nbsp;1&nbsp;(process&nbsp;43936):&lt;br&gt;&amp;gt;&nbsp;#0&nbsp; 0x00007fff8260e464&nbsp;in&nbsp;read&nbsp;()&lt;br&gt;&amp;gt;&nbsp;#1&nbsp; 0x0000000100081af2&nbsp;in&nbsp;mono_handle_native_sigsegv&nbsp;(signal=43936,&nbsp;ctx=0x7fff5fbfe3f0)&nbsp;at&nbsp;mini-exceptions.c:2256&lt;br&gt;<br>
&amp;gt;&nbsp;#2&nbsp; 0x00000001000036ea&nbsp;in&nbsp;mono_sigsegv_signal_handler&nbsp;(_dummy=11,&nbsp;info=0x7fff5fbfec90,&nbsp;context=0x7fff5fbfecf8)&nbsp;at&nbsp;mini.c:5904&lt;br&gt;&amp;gt;&nbsp;#3&nbsp; &amp;lt;signal&nbsp;handler&nbsp;called&amp;gt;&lt;br&gt;&amp;gt;&nbsp;#4&nbsp; 0x00000001001fd7f6&nbsp;in&nbsp;mono_mach_arch_get_tls_value_from_thread&nbsp;(thread=0x102a01000,&nbsp;key=4294967295)&nbsp;at&nbsp;mach-support-amd64.c:94&lt;br&gt;<br>
&amp;gt;&nbsp;#5&nbsp; 0x00000001001bc5dd&nbsp;in&nbsp;mono_sgen_suspend_thread&nbsp;(info=0x102b00000)&nbsp;at&nbsp;sgen-os-mach.c:77&lt;br&gt;&amp;gt;&nbsp;#6&nbsp; 0x00000001001bc74d&nbsp;in&nbsp;mono_sgen_thread_handshake&nbsp;(suspend=1606414816)&nbsp;at&nbsp;sgen-os-mach.c:127&lt;br&gt;&amp;gt;&nbsp;#7&nbsp; 0x0000000100198f41&nbsp;in&nbsp;stop_world&nbsp;()&nbsp;at&nbsp;sgen-gc.c:6133&lt;br&gt;<br>
&amp;gt;&nbsp;#8&nbsp; 0x00000001001a2e84&nbsp;in&nbsp;mono_gc_collect&nbsp;(generation=1)&nbsp;at&nbsp;sgen-gc.c:6369&lt;br&gt;&amp;gt;&nbsp;#9&nbsp; 0x000000010010d14d&nbsp;in&nbsp;mono_domain_finalize&nbsp;(domain=0x10050a820,&nbsp;timeout=2000)&nbsp;at&nbsp;gc.c:366&lt;br&gt;&amp;gt;&nbsp;#10&nbsp;0x0000000100001a6a&nbsp;in&nbsp;print_jit_stats&nbsp;[inlined]&nbsp;()&nbsp;at&nbsp;/Users/dmitchell/External/mono/mono/mini/mini.c:6702&lt;br&gt;<br>
&amp;gt;&nbsp;#11&nbsp;0x0000000100001a6a&nbsp;in&nbsp;mini_cleanup&nbsp;(domain=0x10050a820)&nbsp;at&nbsp;mini.c:6706&lt;br&gt;&amp;gt;&nbsp;#12&nbsp;0x000000010005d04d&nbsp;in&nbsp;mono_main&nbsp;(argc=1606415312,&nbsp;argv=0x7fff5fbff3d0)&nbsp;at&nbsp;driver.c:1905&lt;br&gt;&amp;gt;&nbsp;#13&nbsp;0x0000000100000e04&nbsp;in&nbsp;start&nbsp;()&lt;br&gt;<br>
&amp;gt;&nbsp;=================================================================&lt;br&gt;&amp;gt;&nbsp;Got&nbsp;a&nbsp;SIGSEGV&nbsp;while&nbsp;executing&nbsp;native&nbsp;code.&nbsp;This&nbsp;usually&nbsp;indicates&lt;br&gt;&amp;gt;&nbsp;a&nbsp;fatal&nbsp;error&nbsp;in&nbsp;the&nbsp;mono&nbsp;runtime&nbsp;or&nbsp;one&nbsp;of&nbsp;the&nbsp;native&nbsp;libraries &lt;br&gt;<br>
&amp;gt;&nbsp;used&nbsp;by&nbsp;your&nbsp;application.&lt;br&gt;&amp;gt;&nbsp;=================================================================&lt;br&gt;&amp;gt;&nbsp;Abort&nbsp;trap&lt;br&gt;&amp;gt;<br>

</tt>
