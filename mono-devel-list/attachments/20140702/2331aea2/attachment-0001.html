<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Does&nbsp;the&nbsp;file&nbsp;have&nbsp;to&nbsp;be&nbsp;written&nbsp;to&nbsp;in&nbsp;real&nbsp;time?&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Why&nbsp;not&nbsp;perform&nbsp;buffered&nbsp;writes&nbsp;to&nbsp;a&nbsp;memory&nbsp;region,&nbsp;then&nbsp;flush&nbsp;to&nbsp;disk&nbsp;when&nbsp;a&nbsp;satisfiable&nbsp;amount&nbsp;of&nbsp;entropy&nbsp;has&nbsp;been&nbsp;met?&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jul&nbsp;2,&nbsp;2014&nbsp;at&nbsp;10:32&nbsp;PM,&nbsp;Edward&nbsp;Ned&nbsp;Harvey&nbsp;(mono)&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:edward.harvey.mono@clevertrove.com&quot;&nbsp;target=&quot;_blank&quot;&gt;edward.harvey.mono@clevertrove.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;From:&nbsp;Brandon&nbsp;Perry&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:bperry.volatile@gmail.com&quot;&gt;bperry.volatile@gmail.com&lt;/a&gt;]&lt;br&gt;<br>
<br>
&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;Do&nbsp;you&nbsp;*have*&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;same&nbsp;file?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Yes.&nbsp; Here&nbsp;is&nbsp;the&nbsp;situation:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://tinhatrandom.org&quot;&nbsp;target=&quot;_blank&quot;&gt;https://tinhatrandom.org&lt;/a&gt;&lt;br&gt;<br>
An&nbsp;open&nbsp;source,&nbsp;MIT&nbsp;licensed&nbsp;class&nbsp;library&nbsp;aimed&nbsp;at&nbsp;improving&nbsp;crypto&nbsp;random&nbsp;available&nbsp;to&nbsp;the&nbsp;application&nbsp;developer...&lt;br&gt;<br>
&lt;br&gt;<br>
One&nbsp;of&nbsp;the&nbsp;things&nbsp;we&nbsp;need&nbsp;to&nbsp;do&nbsp;is&nbsp;this:&nbsp; Assuming&nbsp;we&nbsp;have&nbsp;collected&nbsp;a&nbsp;lot&nbsp;of&nbsp;good&nbsp;entropy&nbsp;from&nbsp;various&nbsp;entropy&nbsp;sources,&nbsp;save&nbsp;a&nbsp;good&nbsp;strong&nbsp;random&nbsp;seed&nbsp;file&nbsp;on&nbsp;disk.&nbsp; Later,&nbsp;any&nbsp;number&nbsp;of&nbsp;applications&nbsp;may&nbsp;be&nbsp;launched,&nbsp;potentially&nbsp;at&nbsp;the&nbsp;same&nbsp;time,&nbsp;which&nbsp;need&nbsp;to&nbsp;read&nbsp;&amp;&nbsp;write&nbsp;the&nbsp;file,&nbsp;mutually&nbsp;exclusively.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
The&nbsp;reason&nbsp;it&nbsp;needs&nbsp;to&nbsp;be&nbsp;one&nbsp;file,&nbsp;is&nbsp;because&nbsp;that&#39;s&nbsp;the&nbsp;whole&nbsp;point&nbsp;-&nbsp;If&nbsp;the&nbsp;user&nbsp;has&nbsp;already&nbsp;entered&nbsp;random&nbsp;keyboard&nbsp;input,&nbsp;random&nbsp;mouse&nbsp;input,&nbsp;and&nbsp;we&nbsp;gathered&nbsp;entropy&nbsp;from&nbsp;the&nbsp;internet,&nbsp;and&nbsp;RNGCryptoServiceProvider,&nbsp;and&nbsp;other&nbsp;sources,&nbsp;then&nbsp;every&nbsp;application&nbsp;launch&nbsp;shouldn&#39;t&nbsp;need&nbsp;to&nbsp;repeat&nbsp;that.&nbsp; First&nbsp;one&nbsp;does&nbsp;it;&nbsp;everyone&nbsp;later&nbsp;benefits&nbsp;from&nbsp;it.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Right&nbsp;now,&nbsp;I&nbsp;believe,&nbsp;if&nbsp;I&nbsp;use&nbsp;FileMode.Open,&nbsp; FileAccess.ReadWrite,&nbsp;and&nbsp;FileShare.None,&nbsp;that&nbsp;should&nbsp;work&nbsp;cross-platform&nbsp;to&nbsp;ensure&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;may&nbsp;access&nbsp;the&nbsp;file&nbsp;at&nbsp;a&nbsp;time.&nbsp; The&nbsp;process/thread&nbsp;that&nbsp;has&nbsp;the&nbsp;file&nbsp;lock&nbsp;can&nbsp;read&nbsp;the&nbsp;seed,&nbsp;write&nbsp;a&nbsp;new&nbsp;seed,&nbsp;and&nbsp;flush&nbsp;and&nbsp;close.&nbsp; It&nbsp;will&nbsp;work&nbsp;reliably,&nbsp;I&nbsp;believe,&nbsp;for&nbsp;the&nbsp;first&nbsp;process&nbsp;that&nbsp;gets&nbsp;there,&nbsp;and&nbsp;to&nbsp;prevent&nbsp;any&nbsp;subsequent&nbsp;processes&nbsp;from&nbsp;accessing&nbsp;the&nbsp;same&nbsp;seed&nbsp;file&nbsp;before&nbsp;it&nbsp;is&nbsp;reseeded.&nbsp; Any&nbsp;subsequent&nbsp;processes&nbsp;that&nbsp;fail&nbsp;to&nbsp;open&nbsp;the&nbsp;file&nbsp;(because&nbsp;another&nbsp;process&nbsp;already&nbsp;has&nbsp;it&nbsp;open)&nbsp;I&nbsp;think,&nbsp;will&nbsp;simply&nbsp;have&nbsp;to&nbsp;Sleep(1)&nbsp;and&nbsp;retry&nbsp;opening&nbsp;the&nbsp;file.&nbsp; It&#39;s&nbsp;a&nbsp;little&nbsp;ghetto,&nbsp;but&nbsp;it&nbsp;should&nbsp;work&nbsp;AFAIK.&lt;br&gt;<br>
<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;a&nbsp;href=&quot;http://volatile-minds.blogspot.com&quot;&gt;http://volatile-minds.blogspot.com&lt;/a&gt;&nbsp;--&nbsp;blog&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.volatileminds.net&quot;&gt;http://www.volatileminds.net&lt;/a&gt;&nbsp;--&nbsp;website<br>
&lt;/div&gt;<br>

</tt>
