<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;By&nbsp;the&nbsp;way,&nbsp;I&nbsp;noticed&nbsp;the&nbsp;bottom&nbsp;of&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack&nbsp;was&nbsp;similar&nbsp;to&nbsp;this&nbsp;earlier&nbsp;error&nbsp;message&nbsp;we&nbsp;corrected:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a<br>
href=&quot;http://mono.1490590.n4.nabble.com/Exception-at-System-ServiceModel-Channels-Http-HttpReplyChannel-TryReceiveRequest-td4649878.html&quot;&gt;http://mono.1490590.n4.nabble.com/Exception-at-System-ServiceModel-Channels-Http-HttpReplyChannel-TryReceiveRequest-td4649878.html&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;personally&nbsp;believe&nbsp;something&nbsp;called&nbsp;&quot;*Try*ReceiveRequest&quot;&nbsp;should<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;more&nbsp;fault&nbsp;tolerant,&nbsp;and&nbsp;allow&nbsp;failure,&nbsp;and&nbsp;in&nbsp;the&nbsp;case&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failure&nbsp;at&nbsp;least&nbsp;with&nbsp;SocketException,&nbsp;fail&nbsp;out&nbsp;peacefully&nbsp;without<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;causing&nbsp;issues&nbsp;in&nbsp;the&nbsp;whole&nbsp;program.&nbsp;&nbsp;I&nbsp;think&nbsp;around&nbsp;there&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;we&nbsp;should&nbsp;be&nbsp;looking&nbsp;to&nbsp;fix&nbsp;this.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;agree,&nbsp;Please&nbsp;do&nbsp;file&nbsp;a&nbsp;bug&nbsp;report,&nbsp;so&nbsp;at&nbsp;least&nbsp;it&nbsp;can&nbsp;be&nbsp;looked<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at,&nbsp;and&nbsp;include&nbsp;the&nbsp;stack&nbsp;trace.&nbsp;&nbsp;IF&nbsp;you&nbsp;could&nbsp;provide&nbsp;a&nbsp;small<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sample&nbsp;of&nbsp;code&nbsp;in&nbsp;the&nbsp;bug&nbsp;report&nbsp;that&nbsp;can&nbsp;reproduce&nbsp;this&nbsp;it&nbsp;would<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;helpful,&nbsp;one&nbsp;way&nbsp;to&nbsp;do&nbsp;this&nbsp;might&nbsp;be&nbsp;to&nbsp;start&nbsp;transmission&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one&nbsp;thread&nbsp;and&nbsp;intentionally&nbsp;crash&nbsp;(throw&nbsp;an&nbsp;unhandled&nbsp;exception)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;another&nbsp;thread&nbsp;on&nbsp;the&nbsp;client.&nbsp;&nbsp;Or&nbsp;at&nbsp;least&nbsp;mention&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;something&nbsp;like&nbsp;this&nbsp;might&nbsp;work.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;And&nbsp;if&nbsp;you&nbsp;didn't&nbsp;submit&nbsp;a&nbsp;patch&nbsp;on&nbsp;your&nbsp;previous&nbsp;report&nbsp;(linked<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;above)&nbsp;please&nbsp;describe&nbsp;exactly&nbsp;the&nbsp;lines&nbsp;you&nbsp;changed&nbsp;for&nbsp;that&nbsp;fix<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(copy&nbsp;and&nbsp;paste&nbsp;the&nbsp;lines)&nbsp;and&nbsp;someone&nbsp;will&nbsp;probably&nbsp;do&nbsp;the&nbsp;patch<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;you.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My&nbsp;network&nbsp;connection&nbsp;is&nbsp;down&nbsp;as&nbsp;i&nbsp;write&nbsp;this&nbsp;e-mail&nbsp;but&nbsp;i&nbsp;believe<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;you&nbsp;can&nbsp;find&nbsp;the&nbsp;bug&nbsp;report&nbsp;feature&nbsp;by&nbsp;going&nbsp;to&nbsp;mono-project.com<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;get&nbsp;over&nbsp;to&nbsp;contributing&nbsp;then&nbsp;i&nbsp;think&nbsp;the&nbsp;bug&nbsp;reporting&nbsp;link<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;there.&nbsp;&nbsp;Bug&nbsp;reports&nbsp;on&nbsp;the&nbsp;mailing&nbsp;list,&nbsp;i&nbsp;believe,&nbsp;have&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tendency&nbsp;to&nbsp;get&nbsp;lost&nbsp;unless&nbsp;they&nbsp;are&nbsp;constantly&nbsp;talked&nbsp;about&nbsp;until<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;they&nbsp;are&nbsp;fixed.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;06/26/2012&nbsp;08:49&nbsp;AM,&nbsp;shahbour&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;cite=&quot;mid:1340714962865-4650173.post@n4.nabble.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Hello<br>
<br>
I&nbsp;got&nbsp;an&nbsp;WCF&nbsp;service&nbsp;that&nbsp;is&nbsp;running&nbsp;except&nbsp;at&nbsp;some&nbsp;time&nbsp;if&nbsp;the&nbsp;client&nbsp;send<br>
a&nbsp;request&nbsp;then&nbsp;close&nbsp;his&nbsp;program&nbsp;directly&nbsp;,&nbsp;ending&nbsp;the&nbsp;session&nbsp;the&nbsp;WCF<br>
console&nbsp;application&nbsp;crashes&nbsp;with&nbsp;below&nbsp;error&nbsp;<br>
<br>
<br>
[0x7f0b42f55700:]&nbsp;EXCEPTION&nbsp;handling:&nbsp;System.Net.Sockets.SocketException:<br>
Connection&nbsp;reset&nbsp;by&nbsp;peer<br>
[0x7f0b42f55700:]&nbsp;EXCEPTION&nbsp;handling:&nbsp;System.IO.IOException:&nbsp;Read&nbsp;failure<br>
[0x7f0b42f55700:]&nbsp;EXCEPTION&nbsp;handling:&nbsp;System.IO.IOException:&nbsp;Read&nbsp;failure<br>
<br>
Unhandled&nbsp;Exception:&nbsp;System.IO.IOException:&nbsp;Read&nbsp;failure&nbsp;---&gt;<br>
System.Net.Sockets.SocketException:&nbsp;Connection&nbsp;reset&nbsp;by&nbsp;peer<br>
&nbsp;&nbsp;at&nbsp;System.Net.Sockets.Socket.Receive&nbsp;(System.Byte[]&nbsp;buffer,&nbsp;Int32&nbsp;offset,<br>
Int32&nbsp;size,&nbsp;SocketFlags&nbsp;flags)&nbsp;[0x000ad]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System/System.Net.Sockets/Socket.cs:1606<br>
&nbsp;&nbsp;at&nbsp;System.Net.Sockets.NetworkStream.Read&nbsp;(System.Byte[]&nbsp;buffer,&nbsp;Int32<br>
offset,&nbsp;Int32&nbsp;size)&nbsp;[0x00067]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System/System.Net.Sockets/NetworkStream.cs:399<br>
&nbsp;&nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---<br>
&nbsp;&nbsp;at&nbsp;System.Net.Sockets.NetworkStream.Read&nbsp;(System.Byte[]&nbsp;buffer,&nbsp;Int32<br>
offset,&nbsp;Int32&nbsp;size)&nbsp;[0x00078]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System/System.Net.Sockets/NetworkStream.cs:401<br>
&nbsp;&nbsp;at&nbsp;System.Net.RequestStream.Read&nbsp;(System.Byte[]&nbsp;buffer,&nbsp;Int32&nbsp;offset,<br>
Int32&nbsp;count)&nbsp;[0x0003c]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System/System.Net/RequestStream.cs:142<br>
&nbsp;&nbsp;at&nbsp;System.IO.StreamReader.ReadBuffer&nbsp;()&nbsp;[0x00012]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/corlib/System.IO/StreamReader.cs:394<br>
&nbsp;&nbsp;at&nbsp;System.IO.StreamReader.Read&nbsp;(System.Char[]&nbsp;buffer,&nbsp;Int32&nbsp;index,&nbsp;Int32<br>
count)&nbsp;[0x00062]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/corlib/System.IO/StreamReader.cs:471<br>
&nbsp;&nbsp;at&nbsp;Mono.Xml2.XmlTextReader.ReadTextReader&nbsp;(Int32&nbsp;remained)&nbsp;[0x0004f]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.XML/System.Xml/XmlTextReader.cs:1256<br>
&nbsp;&nbsp;at&nbsp;Mono.Xml2.XmlTextReader.PeekChar&nbsp;()&nbsp;[0x00047]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.XML/System.Xml/XmlTextReader.cs:1210<br>
&nbsp;&nbsp;at&nbsp;Mono.Xml2.XmlTextReader.ReadContent&nbsp;()&nbsp;[0x0003f]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.XML/System.Xml/XmlTextReader.cs:1310<br>
&nbsp;&nbsp;at&nbsp;Mono.Xml2.XmlTextReader.Read&nbsp;()&nbsp;[0x00141]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.XML/System.Xml/XmlTextReader.cs:626<br>
&nbsp;&nbsp;at&nbsp;System.Xml.XmlTextReader.Read&nbsp;()&nbsp;[0x0006b]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.XML/System.Xml/XmlTextReader2.cs:564<br>
&nbsp;&nbsp;at&nbsp;System.Xml.XmlSimpleDictionaryReader.Read&nbsp;()&nbsp;[0x00000]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.Runtime.Serialization/System.Xml/XmlSimpleDictionaryReader.cs:253<br>
&nbsp;&nbsp;at&nbsp;System.Xml.XmlReader.MoveToContent&nbsp;()&nbsp;[0x00050]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.XML/System.Xml/XmlReader.cs:574<br>
&nbsp;&nbsp;at&nbsp;System.ServiceModel.Channels.XmlReaderMessage.ReadEnvelopeStart&nbsp;()<br>
[0x00000]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.ServiceModel/System.ServiceModel.Channels/MessageImpl.cs:146<br>
&nbsp;&nbsp;at&nbsp;System.ServiceModel.Channels.XmlReaderMessage..ctor<br>
(System.ServiceModel.Channels.MessageVersion&nbsp;version,<br>
System.Xml.XmlDictionaryReader&nbsp;reader,&nbsp;Int32&nbsp;maxSizeOfHeaders)&nbsp;[0x00026]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.ServiceModel/System.ServiceModel.Channels/MessageImpl.cs:70<br>
&nbsp;&nbsp;at&nbsp;System.ServiceModel.Channels.Message.CreateMessage<br>
(System.Xml.XmlDictionaryReader&nbsp;envelopeReader,&nbsp;Int32&nbsp;maxSizeOfHeaders,<br>
System.ServiceModel.Channels.MessageVersion&nbsp;version)&nbsp;[0x00022]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.ServiceModel/System.ServiceModel.Channels/Message.cs:427<br>
&nbsp;&nbsp;at&nbsp;System.ServiceModel.Channels.TextMessageEncoder.ReadMessage<br>
(System.IO.Stream&nbsp;stream,&nbsp;Int32&nbsp;maxSizeOfHeaders,&nbsp;System.String&nbsp;contentType)<br>
[0x00011]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.ServiceModel/System.ServiceModel.Channels/TextMessageEncoder.cs:87<br>
&nbsp;&nbsp;at&nbsp;System.ServiceModel.Channels.Http.HttpReplyChannel.CreatePostMessage<br>
(System.ServiceModel.Channels.Http.HttpContextInfo&nbsp;ctxi)&nbsp;[0x00081]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.ServiceModel/System.ServiceModel.Channels.Http/HttpReplyChannel.cs:229<br>
&nbsp;&nbsp;at&nbsp;System.ServiceModel.Channels.Http.HttpReplyChannel.TryReceiveRequest<br>
(TimeSpan&nbsp;timeout,&nbsp;System.ServiceModel.Channels.RequestContext&amp;&nbsp;context)<br>
[0x000aa]&nbsp;in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.ServiceModel/System.ServiceModel.Channels.Http/HttpReplyChannel.cs:172<br>
&nbsp;&nbsp;at<br>
System.ServiceModel.Channels.ReplyChannelBase.&lt;BeginTryReceiveRequest&gt;m__10<br>
(TimeSpan&nbsp;tout,&nbsp;System.ServiceModel.Channels.RequestContext&amp;&nbsp;ctx)&nbsp;[0x0002f]<br>
in<br>
/usr/local/src/mono-2.11.1/mcs/class/System.ServiceModel/System.ServiceModel.Channels/ReplyChannelBase.cs:126<br>
<br>
I&nbsp;couldn't&nbsp;figure&nbsp;out&nbsp;how&nbsp;to&nbsp;check&nbsp;the&nbsp;connection&nbsp;status&nbsp;before&nbsp;trying&nbsp;to<br>
ReadMessage&nbsp;or&nbsp;CreatePostMessage&nbsp;functions.<br>
<br>
Any&nbsp;Help&nbsp;??<br>
<br>
<br>
--<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/WCF-Fail-with-System-Net-Sockets-SocketException-Connection-reset-by-peer-tp4650173.html&quot;&gt;http://mono.1490590.n4.nabble.com/WCF-Fail-with-System-Net-Sockets-SocketException-Connection-reset-by-peer-tp4650173.html&lt;/a&gt;<br>
Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;Dev&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.<br>
_______________________________________________<br>
Mono-devel-list&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
