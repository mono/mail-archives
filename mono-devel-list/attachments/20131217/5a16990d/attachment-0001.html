<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi,&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;running&nbsp;the&nbsp;following&nbsp;.net&nbsp;program&nbsp;on&nbsp;mono&nbsp;(Ubuntu&nbsp;12,&nbsp;sources&nbsp;3.8.13.12)&lt;/div&gt;&lt;div&gt;and&nbsp;after&nbsp;~1&nbsp;minute&nbsp;where&nbsp;the&nbsp;memory&nbsp;rises&nbsp;up (without&nbsp;any&nbsp;reason&nbsp;according&nbsp;to&nbsp;the&nbsp;code&nbsp;below),&nbsp;mono&nbsp;crash&nbsp;with&nbsp;TOO&nbsp;MANY&nbsp;HEAP&nbsp;SECTIONS.&lt;/div&gt;<br>
&lt;div&gt;(using&nbsp;Queue&nbsp;+&nbsp;lock&nbsp;is&nbsp;stable)&lt;/div&gt;&lt;div&gt;I&nbsp;got&nbsp;mono&nbsp;sources&nbsp;from&nbsp;Git&nbsp;and&nbsp;compile&nbsp;them&nbsp;with&nbsp;large&nbsp;heap.&lt;/div&gt;&lt;div&gt;The&nbsp;result&nbsp;was&nbsp;the&nbsp;same.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;few&nbsp;questions:&lt;/div&gt;&lt;div&gt;1.&nbsp;Do&nbsp;you&nbsp;have&nbsp;any&nbsp;idea&nbsp;what&nbsp;could&nbsp;cause&nbsp;this&nbsp;problem&nbsp;?&lt;/div&gt;<br>
&lt;div&gt;2.&nbsp;regarding&nbsp;mono&nbsp;compilation,&nbsp;all&nbsp;makefiles&nbsp;created&nbsp;are&nbsp;with&nbsp;-g&nbsp;flag,&nbsp;how&nbsp;can&nbsp;I&nbsp;remove&nbsp;it&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&lt;/div&gt;&lt;div&gt;Natti&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;Program&lt;br&gt;{&lt;br&gt;<br>
   &nbsp;private&nbsp;static&nbsp;readonly&nbsp;ConcurrentQueue&lt;object&gt;&nbsp;Pool&nbsp;=&nbsp;new&nbsp;ConcurrentQueue&lt;object&gt;();&lt;br&gt;   &nbsp;static&nbsp;void&nbsp;Main(string[]&nbsp;args)&lt;br&gt;   &nbsp;{&lt;br&gt;       &nbsp;//Fill&lt;br&gt;       &nbsp;for&nbsp;(var&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;500;&nbsp;i++)&lt;br&gt;           &nbsp;Pool.Enqueue(new&nbsp;object());&lt;/div&gt;<br>
&lt;div&gt;       &nbsp;var&nbsp;threads&nbsp;=&nbsp;Enumerable.Range(0,&nbsp;Environment.ProcessorCount)&lt;/div&gt;&lt;div&gt;                                                 .Select(_&nbsp;=&gt;&nbsp;new&nbsp;Thread(()&nbsp;=&gt;&lt;br&gt;                                                 &nbsp;{&lt;br&gt;<br>
                                                         &nbsp;while&nbsp;(true)&lt;br&gt;                                                         &nbsp;{&lt;br&gt;                                                                 &nbsp;object&nbsp;obj;&lt;br&gt;                                                                  &nbsp;if&nbsp;(Pool.TryDequeue(out&nbsp;obj))&lt;br&gt;<br>
                                                                      &nbsp;Pool.Enqueue(obj);&lt;br&gt;                                                          &nbsp;}&lt;br&gt;                                                   &nbsp;})).ToArray();&lt;br&gt;<br>
               &nbsp;foreach&nbsp;(var&nbsp;t&nbsp;in&nbsp;threads)&lt;br&gt; &nbsp;                   &nbsp;t.Start();&lt;/div&gt;&lt;div&gt;               &nbsp;Thread.Sleep(Timeout.Infinite);&lt;br&gt;           &nbsp;}&lt;br&gt;    &nbsp;}&lt;br&gt;}&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;font&nbsp;face=&quot;Consolas&quot;&gt;&lt;font&nbsp;face=&quot;Consolas&quot;&gt;&lt;div&gt;<br>
 &lt;/div&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;/div&gt;&lt;/font&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
