using System;
using System.Web;
using System.Text;

class Test {
	static void Main(string[] args) {
		HttpRequest r = new HttpRequest(null, "http://www.dummp.com/test.aspx", "umlaut=%E4");
		Dump(r, Encoding.GetEncoding("latin1"));
		Dump(r, Encoding.UTF8);
		Dump(r, Encoding.ASCII);
		Dump(r, Encoding.Unicode);
		
		Console.WriteLine("===");
		
		Console.WriteLine(HttpUtility.UrlDecode("%E4")); 
		Console.WriteLine(HttpUtility.UrlDecode("%E4", Encoding.GetEncoding("latin1"))); 
		Console.WriteLine(HttpUtility.UrlDecode("%E4", Encoding.UTF8)); 
		Console.WriteLine(HttpUtility.UrlDecode("%E4", Encoding.ASCII)); 
		Console.WriteLine(HttpUtility.UrlDecode("%E4", Encoding.Unicode)); 

		Console.WriteLine("===");
	}
		
	static void Dump(HttpRequest r, Encoding e) {
		r.ContentEncoding = e;
		Console.WriteLine(r.QueryString["umlaut"]);
	}
}