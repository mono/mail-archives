<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/3.14.3&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
In&nbsp;the&nbsp;actual&nbsp;release,&nbsp;a&nbsp;simple&nbsp;ASP.NET&nbsp;with&nbsp;a&nbsp;ListBox&nbsp;Control&nbsp;don't&nbsp;work,&nbsp;viewstate&nbsp;deserialization&nbsp;problem...&lt;BR&gt;<br>
&lt;BR&gt;<br>
This&nbsp;problem&nbsp;as&nbsp;been&nbsp;fixed&nbsp;in&nbsp;the&nbsp;trunk&nbsp;by&nbsp;:&lt;BR&gt;<br>
&lt;BR&gt;<br>
2007-08-30&nbsp;Igor&nbsp;Zelmanovich&nbsp;&amp;lt;&lt;A&nbsp;HREF=&quot;mailto:igorz@mainsoft.com&quot;&gt;igorz@mainsoft.com&lt;/A&gt;&amp;gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;ListControl.cs:&nbsp;fixed&nbsp;selected&nbsp;items&nbsp;state&nbsp;management.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Could&nbsp;this&nbsp;be&nbsp;backported&nbsp;to&nbsp;the&nbsp;mono&nbsp;1.2.5&nbsp;branch?&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
Here's&nbsp;a&nbsp;test&nbsp;case&nbsp;for&nbsp;this&nbsp;problem&nbsp;:&lt;BR&gt;<br>
&lt;BR&gt;<br>
Default.aspx:&lt;BR&gt;<br>
&amp;lt;%@&nbsp;Page&nbsp;Language=&amp;quot;C#&amp;quot;&nbsp;Inherits=&amp;quot;TestViewState.Default&amp;quot;&nbsp;%&amp;gt;&lt;BR&gt;<br>
&amp;lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&amp;quot;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Strict//EN&amp;quot;&nbsp;&amp;quot;&lt;A&nbsp;HREF=&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&lt;/A&gt;&amp;quot;&amp;gt;&lt;BR&gt;<br>
&amp;lt;html&amp;gt;&lt;BR&gt;<br>
&amp;lt;head&amp;gt;&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&amp;lt;title&amp;gt;Default&amp;lt;/title&amp;gt;&lt;BR&gt;<br>
&amp;lt;/head&amp;gt;&lt;BR&gt;<br>
&amp;lt;body&amp;gt;&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&amp;lt;form&nbsp;id=&amp;quot;form1&amp;quot;&nbsp;runat=&amp;quot;server&amp;quot;&amp;gt;&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&amp;lt;asp:Button&nbsp;id=&amp;quot;button1&amp;quot;&nbsp;runat=&amp;quot;server&amp;quot;&nbsp;/&amp;gt;&nbsp;&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&amp;lt;asp:ListBox&nbsp;id=&amp;quot;drpSociete&amp;quot;&nbsp;runat=&amp;quot;server&amp;quot;&nbsp;CssClass=&amp;quot;TextBox200&amp;quot;&nbsp;Width=&amp;quot;200px&amp;quot;&nbsp;Visible=&amp;quot;True&amp;quot;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Rows=&amp;quot;1&amp;quot;&amp;gt;&amp;lt;/asp:ListBox&amp;gt;&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&amp;lt;/form&amp;gt;&lt;BR&gt;<br>
&amp;lt;/body&amp;gt;&lt;BR&gt;<br>
&amp;lt;/html&amp;gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
Default.aspx.cs&nbsp;:&lt;BR&gt;<br>
//&nbsp;Default.aspx.cs&nbsp;created&nbsp;with&nbsp;MonoDevelop&lt;BR&gt;<br>
//&nbsp;User:&nbsp;hubert&nbsp;at&nbsp;15:02&nbsp;31/08/2007&lt;BR&gt;<br>
//&lt;BR&gt;<br>
//&nbsp;To&nbsp;change&nbsp;standard&nbsp;headers&nbsp;go&nbsp;to&nbsp;Edit-&amp;gt;Preferences-&amp;gt;Coding-&amp;gt;Standard&nbsp;Headers&lt;BR&gt;<br>
//&lt;BR&gt;<br>
&lt;BR&gt;<br>
using&nbsp;System;&lt;BR&gt;<br>
using&nbsp;System.Web;&lt;BR&gt;<br>
using&nbsp;System.Web.UI;&lt;BR&gt;<br>
using&nbsp;System.Web.UI.WebControls;&lt;BR&gt;<br>
using&nbsp;System.Data;&lt;BR&gt;<br>
&lt;BR&gt;<br>
namespace&nbsp;TestViewState&lt;BR&gt;<br>
{&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic&nbsp;class&nbsp;Default&nbsp;:&nbsp;Page&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprotected&nbsp;ListBox&nbsp;drpSociete;&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprotected&nbsp;override&nbsp;void&nbsp;OnLoad(EventArgs&nbsp;e)&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp;(!IsPostBack){&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdrpSociete.Items.Add(&amp;quot;bouh&amp;quot;);&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdrpSociete.Items.Add(&amp;quot;bah&amp;quot;);&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;BR&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&lt;BR&gt;<br>
}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
Click&nbsp;two&nbsp;times&nbsp;on&nbsp;the&nbsp;button&nbsp;and&nbsp;you'll&nbsp;obtain&nbsp;:&lt;BR&gt;<br>
&lt;B&gt;&lt;FONT&nbsp;SIZE=&quot;6&quot;&gt;Server&nbsp;Error&nbsp;in&nbsp;'/'&nbsp;Application&lt;/FONT&gt;&lt;/B&gt;&lt;BR&gt;<br>
<br>
&lt;HR&gt;<br>
<br>
&lt;H2&gt;<br>
&lt;B&gt;&lt;I&gt;&lt;FONT&nbsp;SIZE=&quot;5&quot;&gt;Index&nbsp;is&nbsp;less&nbsp;than&nbsp;0&nbsp;or&nbsp;more&nbsp;than&nbsp;or&nbsp;equal&nbsp;to&nbsp;the&nbsp;list&nbsp;count.&nbsp;Parameter&nbsp;name:&nbsp;index&nbsp;0&lt;/FONT&gt;&lt;/I&gt;&lt;/B&gt;<br>
&lt;/H2&gt;<br>
&lt;B&gt;Description:&nbsp;&lt;/B&gt;Error&nbsp;processing&nbsp;request.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;B&gt;Error&nbsp;Message:&nbsp;&lt;/B&gt;HTTP&nbsp;500.&nbsp;System.ArgumentOutOfRangeException:&nbsp;Index&nbsp;is&nbsp;less&nbsp;than&nbsp;0&nbsp;or&nbsp;more&nbsp;than&nbsp;or&nbsp;equal&nbsp;to&nbsp;the&nbsp;list&nbsp;count.&nbsp;Parameter&nbsp;name:&nbsp;index&nbsp;0&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;B&gt;Stack&nbsp;Trace:&nbsp;&lt;/B&gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;TABLE&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;<br>
&lt;PRE&gt;<br>
System.ArgumentOutOfRangeException:&nbsp;Index&nbsp;is&nbsp;less&nbsp;than&nbsp;0&nbsp;or&nbsp;more&nbsp;than&nbsp;or&nbsp;equal&nbsp;to&nbsp;the&nbsp;list&nbsp;count.<br>
Parameter&nbsp;name:&nbsp;index<br>
0<br>
&nbsp;&nbsp;at&nbsp;System.Collections.ArrayList.get_Item&nbsp;(Int32&nbsp;index)&nbsp;[0x00000]&nbsp;<br>
&nbsp;&nbsp;at&nbsp;System.Web.UI.WebControls.ListItemCollection.get_Item&nbsp;(Int32&nbsp;index)&nbsp;[0x00000]&nbsp;<br>
&nbsp;&nbsp;at&nbsp;System.Web.UI.WebControls.ListControl.LoadViewState&nbsp;(System.Object&nbsp;savedState)&nbsp;[0x00000]&nbsp;<br>
&nbsp;&nbsp;at&nbsp;System.Web.UI.Control.LoadViewStateRecursive&nbsp;(System.Object&nbsp;savedState)&nbsp;[0x00000]&nbsp;<br>
&nbsp;&nbsp;at&nbsp;System.Web.UI.Control.LoadViewStateRecursive&nbsp;(System.Object&nbsp;savedState)&nbsp;[0x00000]&nbsp;<br>
&nbsp;&nbsp;at&nbsp;System.Web.UI.Control.LoadViewStateRecursive&nbsp;(System.Object&nbsp;savedState)&nbsp;[0x00000]&nbsp;<br>
&nbsp;&nbsp;at&nbsp;System.Web.UI.Page.LoadPageViewState&nbsp;()&nbsp;[0x00000]&nbsp;<br>
&nbsp;&nbsp;at&nbsp;System.Web.UI.Page.InternalProcessRequest&nbsp;()&nbsp;[0x00000]&nbsp;<br>
&nbsp;&nbsp;at&nbsp;System.Web.UI.Page.ProcessRequest&nbsp;(System.Web.HttpContext&nbsp;context)&nbsp;[0x00000]&nbsp;<br>
&lt;/PRE&gt;<br>
&lt;/TD&gt;<br>
&lt;/TR&gt;<br>
&lt;/TABLE&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
Thanks&nbsp;in&nbsp;advance!&lt;BR&gt;<br>
&lt;BR&gt;<br>
_______________________________________________&lt;br&gt;Ce&nbsp;message&nbsp;et&nbsp;les&nbsp;éventuels&nbsp;documents&nbsp;joints&nbsp;peuvent&nbsp;contenir&nbsp;des&nbsp;informations&nbsp;confidentielles.&lt;br&gt;Au&nbsp;cas&nbsp;où&nbsp;il&nbsp;ne&nbsp;vous&nbsp;serait&nbsp;pas&nbsp;destiné,&nbsp;nous&nbsp;vous&nbsp;remercions&nbsp;de&nbsp;bien&nbsp;vouloir&nbsp;le&nbsp;supprimer&nbsp;et&nbsp;en&nbsp;aviser&nbsp;immédiatement&nbsp;l'expéditeur.&nbsp;Toute&nbsp;utilisation&nbsp;de&nbsp;ce&nbsp;message&nbsp;non&nbsp;conforme&nbsp;à&nbsp;sa&nbsp;destination,&nbsp;toute&nbsp;diffusion&nbsp;ou&nbsp;publication,&nbsp;totale&nbsp;ou&nbsp;partielle&nbsp;et&nbsp;quel&nbsp;qu'en&nbsp;soit&nbsp;le&nbsp;moyen&nbsp;est&nbsp;formellement&nbsp;interdite.&lt;br&gt;Les&nbsp;communications&nbsp;sur&nbsp;internet&nbsp;n'étant&nbsp;pas&nbsp;sécurisées,&nbsp;l'intégrité&nbsp;de&nbsp;ce&nbsp;message&nbsp;n'est&nbsp;pas&nbsp;assurée&nbsp;et&nbsp;la&nbsp;société&nbsp;émettrice&nbsp;ne&nbsp;peut&nbsp;être&nbsp;tenue&nbsp;pour&nbsp;responsable&nbsp;de&nbsp;son&nbsp;contenu.&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
