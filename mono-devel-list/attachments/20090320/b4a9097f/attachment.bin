Index: ChangeLog
===================================================================
--- ChangeLog	(revision 129866)
+++ ChangeLog	(working copy)
@@ -1,3 +1,8 @@
+2009-03-20  Sebastien Pouliot  <sebastien@ximian.com> 
+
+	* class.c: Simplification to coreclr checks for overrides that
+	makes it easier to set breakpoints.
+
 2009-03-20  Sebastien Pouliot  <sebastien@ximian.com>
 
 	* security-core-clr.c|h: (mono_security_core_clr_class_level, 
Index: class.c
===================================================================
--- class.c	(revision 129865)
+++ class.c	(working copy)
@@ -2730,11 +2730,13 @@
 static void
 check_core_clr_override_method (MonoClass *class, MonoMethod *override, MonoMethod *base)
 {
-	MonoSecurityCoreCLRLevel override_level = mono_security_core_clr_method_level (override, FALSE);
 	MonoSecurityCoreCLRLevel base_level = mono_security_core_clr_method_level (base, FALSE);
-
-	if (override_level != base_level && base_level == MONO_SECURITY_CORE_CLR_CRITICAL)
-		mono_class_set_failure (class, MONO_EXCEPTION_TYPE_LOAD, NULL);
+	/* if the base method is decorated with [SecurityCritical] then the overrided method MUST be too */
+	if (base_level == MONO_SECURITY_CORE_CLR_CRITICAL) {
+		MonoSecurityCoreCLRLevel override_level = mono_security_core_clr_method_level (override, FALSE);
+		if (override_level != MONO_SECURITY_CORE_CLR_CRITICAL)
+			mono_class_set_failure (class, MONO_EXCEPTION_TYPE_LOAD, NULL);
+	}
 }
 
 
