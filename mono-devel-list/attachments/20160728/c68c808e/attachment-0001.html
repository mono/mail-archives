<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt; For&nbsp;historical&nbsp;reasons,&nbsp;System.String&nbsp;uses&nbsp;the&nbsp;UCS-2&nbsp;character&nbsp;encoding,&lt;br&gt;<br>
&gt;&nbsp;that&nbsp;is,&nbsp;UTF-16&nbsp;without&nbsp;surrogate&nbsp;pairs.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt; However,&nbsp;most&nbsp;strings&nbsp;in&nbsp;typical&nbsp;.NET&nbsp;applications&nbsp;consist&nbsp;solely&nbsp;of&nbsp;ASCII&lt;br&gt;<br>
&gt;&nbsp;characters,&nbsp;leading&nbsp;to&nbsp;wasted&nbsp;space:&nbsp;half&nbsp;of&nbsp;the&nbsp;bytes&nbsp;in&nbsp;a&nbsp;string&nbsp;are&nbsp;likely&nbsp;to&lt;br&gt;<br>
&gt;&nbsp;be&nbsp;null&nbsp;bytes!&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;What&#39;s&nbsp;wrong&nbsp;with&nbsp;UTF-8?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Nothing&nbsp;is&nbsp;wrong,&nbsp;but&nbsp;in&nbsp;.NET&nbsp;we&nbsp;surface&nbsp;a&nbsp;string&nbsp;indexer,&nbsp;and&nbsp;it&nbsp;has&nbsp;constant&nbsp;time&nbsp;properties.&nbsp;  &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;UTF-8&nbsp;needs&nbsp;to&nbsp;be&nbsp;parsed&nbsp;to&nbsp;be&nbsp;indexed,&nbsp;while&nbsp;neither&nbsp;ascii,&nbsp;nor&nbsp;the&nbsp;UTF-16/surrogate-pair&nbsp;encoding&nbsp;(what&nbsp;.NET&nbsp;uses)&nbsp;has&nbsp;this.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Miguel.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
