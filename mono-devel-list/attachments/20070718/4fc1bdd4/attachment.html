<tt>
Could&nbsp;you&nbsp;post&nbsp;up&nbsp;the&nbsp;detailed&nbsp;stats&nbsp;from&nbsp;heapshot?&nbsp;After&nbsp;the&nbsp;12&nbsp;hour&nbsp;run,&nbsp;how&nbsp;much&nbsp;memory&nbsp;are&nbsp;you&nbsp;using?&nbsp;Are&nbsp;we&nbsp;talking&nbsp;in&nbsp;the&nbsp;gigabyte&nbsp;range,&nbsp;or&nbsp;megabyte&nbsp;range?&lt;br&gt;&lt;br&gt;Alan.&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;7/18/07,&nbsp;<br>
&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;David&nbsp;Wolinsky&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:davidiw@ufl.edu&quot;&gt;davidiw@ufl.edu&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
My&nbsp;lab&nbsp;works&nbsp;on&nbsp;a&nbsp;peer-to-peer&nbsp;network&nbsp;overlay&nbsp;and&nbsp;we&amp;#39;ve&nbsp;noticed&lt;br&gt;recently&nbsp;significant&nbsp;memory&nbsp;issues.&amp;nbsp;&amp;nbsp;Some&nbsp;background...&lt;br&gt;&lt;br&gt;This&nbsp;application&nbsp;is&nbsp;constantly&nbsp;creating&nbsp;new&nbsp;objects&nbsp;and&nbsp;shortly&lt;br&gt;thereafter&nbsp;deleting&nbsp;(removing&nbsp;reference&nbsp;to)&nbsp;them<br>
&lt;br&gt;Using&nbsp;a&nbsp;sample&nbsp;run&nbsp;with&nbsp;150&nbsp;threads&nbsp;running...&lt;br&gt;Mono&nbsp;on&nbsp;Linux&nbsp;has&nbsp;a&nbsp;growth&nbsp;rate&nbsp;of&nbsp;~25&nbsp;KB&nbsp;per&nbsp;second&nbsp;with&nbsp;a&nbsp;base&nbsp;of&nbsp;50MB&lt;br&gt;(y&nbsp;=&nbsp;25K&nbsp;*x&nbsp;+&nbsp;50M)&lt;br&gt;.NET&nbsp;on&nbsp;Windows&nbsp;stabilizes&nbsp;at&nbsp;35&nbsp;MB&lt;br&gt;&lt;br&gt;We&nbsp;ran&nbsp;heap-shot&nbsp;with&nbsp;Linux&nbsp;and&nbsp;found&nbsp;that&nbsp;in&nbsp;a&nbsp;12&nbsp;hour&nbsp;period&nbsp;it<br>
&lt;br&gt;reported&nbsp;this...&lt;br&gt;start:&lt;br&gt;objects:&nbsp;58,823&lt;br&gt;heap&nbsp;memory:&nbsp;6,838,426&nbsp;bytes&lt;br&gt;&lt;br&gt;end:&lt;br&gt;objects:&nbsp;59,925&lt;br&gt;heap&nbsp;memory:&nbsp;6,862,336&lt;br&gt;&lt;br&gt;We&nbsp;have&nbsp;run&nbsp;mono&nbsp;with&nbsp;GC_MAXIMUM_HEAP_SIZE&nbsp;and&nbsp;the&nbsp;memory&nbsp;size&nbsp;(RES)&nbsp;got&lt;br&gt;<br>
significantly&nbsp;bigger&nbsp;than&nbsp;it.&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;searched&nbsp;for&nbsp;the&nbsp;Compacting&nbsp;GC&nbsp;with&nbsp;no&nbsp;luck,&nbsp;we&nbsp;would&nbsp;really&nbsp;like&lt;br&gt;to&nbsp;see&nbsp;if&nbsp;it&nbsp;would&nbsp;help&nbsp;our&nbsp;problem.&lt;br&gt;&lt;br&gt;The&nbsp;only&nbsp;operating&nbsp;system&nbsp;resources&nbsp;we&amp;#39;re&nbsp;using&nbsp;are&nbsp;Sockets,&nbsp;but&nbsp;we&nbsp;use<br>
&lt;br&gt;them&nbsp;VERY&nbsp;heavily!&lt;br&gt;&lt;br&gt;If&nbsp;anyone&nbsp;has&nbsp;any&nbsp;suggestions,&nbsp;we&amp;#39;d&nbsp;be&nbsp;open&nbsp;to&nbsp;test&nbsp;out&nbsp;anything&nbsp;at&nbsp;this&lt;br&gt;point!&lt;br&gt;&lt;br&gt;We&nbsp;are&nbsp;leaning&nbsp;towards&nbsp;an&nbsp;issue&nbsp;in&nbsp;unmanaged&nbsp;memory&nbsp;and&nbsp;possibly&nbsp;a&nbsp;bug&lt;br&gt;in&nbsp;mono.&lt;br&gt;&lt;br&gt;Best&nbsp;regards,<br>
&lt;br&gt;David&lt;br&gt;&lt;br&gt;&lt;br&gt;ps,&nbsp;I&nbsp;fwded&nbsp;this&nbsp;to&nbsp;gc&nbsp;and&nbsp;devel&nbsp;list&nbsp;because&nbsp;gc&nbsp;list&nbsp;looks&nbsp;quite&lt;br&gt;dead....&nbsp;sorry&nbsp;for&nbsp;the&nbsp;duplication&lt;br&gt;_______________________________________________&lt;br&gt;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;<br>
Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
