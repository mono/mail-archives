<tt>
Hi&nbsp;Dick,&lt;br&gt;&lt;br&gt;I&nbsp;believe&nbsp;there&nbsp;is&nbsp;very&nbsp;little&nbsp;reason&nbsp;to&nbsp;do&nbsp;development&nbsp;on&nbsp;libgc&nbsp;as&nbsp;sgen&nbsp;is&nbsp;been&nbsp;worked&nbsp;and&lt;br&gt;advancing&nbsp;quite&nbsp;fast.&nbsp;I&nbsp;don&amp;#39;t&nbsp;feel&nbsp;it&amp;#39;s&nbsp;worth&nbsp;the&nbsp;risk&nbsp;of&nbsp;improving&nbsp;libgc.&lt;br&gt;&lt;br&gt;SGen&nbsp;is&nbsp;only&nbsp;a&nbsp;few&nbsp;months&nbsp;away&nbsp;from&nbsp;been&nbsp;production&nbsp;ready&nbsp;and&nbsp;it&nbsp;might&nbsp;be&nbsp;a&nbsp;better&nbsp;idea&lt;br&gt;<br>
to&nbsp;spend&nbsp;your&nbsp;energy&nbsp;there.&nbsp;For&nbsp;example,&nbsp;Code&nbsp;to&nbsp;do&nbsp;precise&nbsp;marking&nbsp;of&nbsp;managed&nbsp;code&nbsp;is&lt;br&gt;still&nbsp;to&nbsp;be&nbsp;done&nbsp;and&nbsp;is&nbsp;an&nbsp;area&nbsp;that&nbsp;help&nbsp;would&nbsp;be&nbsp;more&nbsp;than&nbsp;welcome.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Oct&nbsp;20,&nbsp;2009&nbsp;at&nbsp;12:44&nbsp;PM,&nbsp;Dick&nbsp;Porter&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:dporter@codicesoftware.com&quot;&gt;dporter@codicesoftware.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hi&nbsp;all&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;attached&nbsp;patch&nbsp;makes&nbsp;the&nbsp;stack&nbsp;marking&nbsp;in&nbsp;libgc&nbsp;much&nbsp;less&lt;br&gt;<br>
aggressive.&nbsp; Instead&nbsp;of&nbsp;marking&nbsp;every&nbsp;object&nbsp;that&nbsp;happens&nbsp;to&nbsp;be&nbsp;pointed&lt;br&gt;<br>
to&nbsp;by&nbsp;random&nbsp;numbers,&nbsp;it&nbsp;uses&nbsp;the&nbsp;descriptor-based&nbsp;scanning&nbsp;function&lt;br&gt;<br>
instead.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;think&nbsp;this&nbsp;is&nbsp;safe&nbsp;for&nbsp;mono,&nbsp;as&nbsp;(as&nbsp;was&nbsp;pointed&nbsp;out&nbsp;to&nbsp;me)&nbsp;every&lt;br&gt;<br>
allocation&nbsp;has&nbsp;a&nbsp;descriptor.&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;fixes&nbsp;the&nbsp;stress-test&nbsp;that&nbsp;David&nbsp;posted&nbsp;a&nbsp;week&nbsp;or&nbsp;two&nbsp;ago,&nbsp;and&nbsp;in&nbsp;the&lt;br&gt;<br>
real&nbsp;world&nbsp;it&nbsp;allows&nbsp;our&nbsp;server&nbsp;to&nbsp;free&nbsp;up&nbsp;much&nbsp;more&nbsp;memory.&nbsp; It&nbsp;has&lt;br&gt;<br>
been&nbsp;tested&nbsp;on&nbsp;a&nbsp;production&nbsp;server.&lt;br&gt;<br>
&lt;br&gt;<br>
Comments?&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
-&nbsp;Dick&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
