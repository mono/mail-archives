Index: Path.cs
===================================================================
--- Path.cs	(revision 55152)
+++ Path.cs	(working copy)
@@ -38,6 +38,7 @@
 // WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 //
 
+using System.Globalization;
 using System.Runtime.CompilerServices;
 using System.Runtime.InteropServices;
 using System.Security;
@@ -346,13 +347,12 @@
 			FileStream f = null;
 			string path;
 			Random rnd;
-			int num = 0;
+			ushort num;
 
 			rnd = new Random ();
 			do {
-				num = rnd.Next ();
-				num++;
-				path = Path.Combine (GetTempPath(), "tmp" + num.ToString("x"));
+				num = (ushort)(rnd.NextDouble () * ushort.MaxValue);
+				path = Path.Combine (GetTempPath(), "tmp" + num.ToString("X", CultureInfo.InvariantCulture) + ".tmp");
 
 				try {
 					f = new FileStream (path, FileMode.CreateNew);
