<tt>
Please&nbsp;file&nbsp;a&nbsp;bug&nbsp;report&nbsp;so&nbsp;this&nbsp;bug&nbsp;isn&amp;#39;t&nbsp;forgotten.&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Apr&nbsp;13,&nbsp;2011&nbsp;at&nbsp;3:52&nbsp;PM,&nbsp;Nicklas&nbsp;Overgaard&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:nicklas@isharp.dk&quot;&gt;nicklas@isharp.dk&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;Hi&nbsp;again,&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;previously&nbsp;attached&nbsp;patch&nbsp;does&nbsp;not&nbsp;apply&nbsp;for&nbsp;some&nbsp;reason.&nbsp;A&nbsp;new&nbsp;one&lt;br&gt;<br>
is&nbsp;attached&nbsp;here.&lt;br&gt;<br>
&lt;br&gt;<br>
Sorry&nbsp;about&nbsp;that.&lt;br&gt;<br>
&lt;br&gt;<br>
/Nicklas&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
On&nbsp;Wed,&nbsp;2011-04-13&nbsp;at&nbsp;18:05&nbsp;+0200,&nbsp;Nicklas&nbsp;Overgaard&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;Hi&nbsp;mono&nbsp;devers!&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;discovered&nbsp;a&nbsp;bug&nbsp;in&nbsp;String.Compare&nbsp;when&nbsp;using&nbsp;a&nbsp;UTF8&nbsp;string&nbsp;created&lt;br&gt;<br>
&amp;gt;&nbsp;from&nbsp;a&nbsp;byte&nbsp;array&nbsp;with&nbsp;a&nbsp;zero-byte&nbsp;at&nbsp;the&nbsp;end.&nbsp;It&amp;#39;s&nbsp;converted&nbsp;to&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;same&nbsp;string&nbsp;on&nbsp;both&nbsp;.net&nbsp;and&nbsp;mono,&nbsp;however,&nbsp;String.Compare&nbsp;on&nbsp;.net&nbsp;is&lt;br&gt;<br>
&amp;gt;&nbsp;different&nbsp;from&nbsp;String.Compare&nbsp;on&nbsp;mono.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;issue&nbsp;is&nbsp;the&nbsp;following:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Mono&nbsp;reports&nbsp;&amp;quot;1&amp;quot;&nbsp;on&nbsp;the&nbsp;string&nbsp;compare,&nbsp;signaling&nbsp;that&nbsp;the&nbsp;converted&lt;br&gt;<br>
&amp;gt;&nbsp;string&nbsp;is&nbsp;&amp;quot;larger&amp;quot;&nbsp;than&nbsp;the&nbsp;hard-coded&nbsp;string&nbsp;I&nbsp;compare&nbsp;it&nbsp;to.&nbsp;And&nbsp;it&lt;br&gt;<br>
&amp;gt;&nbsp;kinda&nbsp;is&nbsp;-&nbsp;the&nbsp;byte&nbsp;array&nbsp;is&nbsp;converted&nbsp;to&nbsp;&amp;quot;%EOF\0&amp;quot;&nbsp;and&nbsp;the&nbsp;hardcoded&lt;br&gt;<br>
&amp;gt;&nbsp;string&nbsp;is&nbsp;just&nbsp;&amp;quot;%EOF&amp;quot;&nbsp;-&nbsp;but&nbsp;.net&nbsp;manages&nbsp;to&nbsp;ignore&nbsp;the&nbsp;&amp;#39;\0&amp;#39;&nbsp;when&nbsp;doing&lt;br&gt;<br>
&amp;gt;&nbsp;the&nbsp;compare,&nbsp;which&nbsp;results&nbsp;in&nbsp;&amp;quot;0&amp;quot;&nbsp;(equal&nbsp;strings).&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Attached&nbsp;is&nbsp;a&nbsp;patch,&nbsp;which&nbsp;adds&nbsp;a&nbsp;test-case&nbsp;to&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;#39;mcs/class/corlib/Test/System&amp;#39;&nbsp;which&nbsp;shows&nbsp;the&nbsp;issue&nbsp;-&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;quot;CompareNotWorking3&amp;quot;&nbsp;to&nbsp;follow&nbsp;the&nbsp;lingo&nbsp;:)&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;have&nbsp;tried&nbsp;to&nbsp;track&nbsp;the&nbsp;issue&nbsp;down&nbsp;myself&nbsp;in&nbsp;String.Compare,&nbsp;but&nbsp;I&lt;br&gt;<br>
&amp;gt;&nbsp;gave&nbsp;up&nbsp;due&nbsp;to&nbsp;the&nbsp;complexity&nbsp;of&nbsp;the&nbsp;underlying&nbsp;code.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;As&nbsp;a&nbsp;final&nbsp;note,&nbsp;I&amp;#39;m&nbsp;running&nbsp;with&nbsp;UTF8&nbsp;culture&nbsp;on&nbsp;my&nbsp;Linux&nbsp;box,&nbsp;where&lt;br&gt;<br>
&amp;gt;&nbsp;the&nbsp;issue&nbsp;is&nbsp;showing&nbsp;up.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Best&nbsp;regards,&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Nicklas&nbsp;Overgaard&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
