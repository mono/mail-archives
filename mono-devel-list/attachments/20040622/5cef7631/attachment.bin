Index: mono/dis/ChangeLog
from  Raja R Harinath  <rharinath@novell.com>

	* main.c (dis_event_signature): Decode and print event_flags.

Index: mono/dis/main.c
===================================================================
RCS file: /cvs/public/mono/mono/dis/main.c,v
retrieving revision 1.105
diff -u -u -r1.105 main.c
--- mono/dis/main.c 20 Jun 2004 01:46:44 -0000 1.105
+++ mono/dis/main.c 22 Jun 2004 06:21:30 -0000
@@ -740,17 +740,27 @@
 dis_event_signature (MonoImage *m, guint32 event_idx)
 {
 	MonoTableInfo *et = &m->tables [MONO_TABLE_EVENT];
-	char *type, *res, *esname;
+	char *type, *result, *esname;
 	guint32 cols [MONO_EVENT_SIZE];
+	int event_flags;
+	GString *res = g_string_new ("");
 	
 	mono_metadata_decode_row (et, event_idx, cols, MONO_EVENT_SIZE);
 	esname = get_escaped_name (mono_metadata_string_heap (m, cols [MONO_EVENT_NAME]));
 	type = get_typedef_or_ref (m, cols [MONO_EVENT_TYPE]);
+	event_flags = cols [MONO_EVENT_FLAGS];
+
+	if (event_flags & 0x0200)
+		g_string_append (res, "specialname ");
+	if (event_flags & 0x0400)
+		g_string_append (res, "rtspecialname ");
+	g_string_sprintfa (res, "%s %s", type, esname);
 
-	res = g_strdup_printf ("%s %s", type, esname);
 	g_free (type);
 	g_free (esname);
-	return res;
+	result = res->str;
+	g_string_free (res, FALSE);
+	return result;
 }
 
 static void
