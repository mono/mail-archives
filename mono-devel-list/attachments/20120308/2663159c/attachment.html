<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/4.2.2&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
Hello,&lt;BR&gt;<br>
&lt;BR&gt;<br>
while&nbsp;trying&nbsp;to&nbsp;apply&nbsp;SqlMetal&nbsp;on&nbsp;a&nbsp;PostGIS&nbsp;database,&nbsp;I&nbsp;received&nbsp;error&nbsp;messages&nbsp;about&nbsp;unknown&nbsp;SQL&nbsp;data&nbsp;types,&nbsp;some&nbsp;of&nbsp;them&nbsp;being&nbsp;geographic&nbsp;types,&nbsp;some&nbsp;others&nbsp;being&nbsp;simply&nbsp;type&nbsp;aliases&lt;BR&gt;<br>
&lt;BR&gt;<br>
Apparently,&nbsp;the&nbsp;&quot;DbMetal&nbsp;way&quot;&nbsp;of&nbsp;handling&nbsp;this&nbsp;is&nbsp;to&nbsp;derive&nbsp;from&nbsp;the&nbsp;DbSchemaLoader&nbsp;(PgsqlSchemaLoader&nbsp;in&nbsp;this&nbsp;case),&nbsp;override&nbsp;SchemaLoader's&nbsp;MapDbType(),&nbsp;and&nbsp;then&nbsp;invoke&nbsp;dbmetal/sqlmetal&nbsp;--with-schemaloader=My.Custom.SchemaLoader,MyAssembly&lt;BR&gt;<br>
&lt;BR&gt;<br>
the&nbsp;problem:&nbsp;&lt;BR&gt;<br>
&lt;BLOCKQUOTE&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;during&nbsp;the&nbsp;DbLinq-to-Mono&nbsp;integration,&nbsp;the&nbsp;&quot;ISchemaLoader&nbsp;/&nbsp;SchemaLoader&quot;&nbsp;extensibility&nbsp;point&nbsp;has&nbsp;been&nbsp;shut&nbsp;using&nbsp;MONO_STRICT.&nbsp;The&nbsp;only&nbsp;assembly&nbsp;allowed&nbsp;to&nbsp;know&nbsp;about&nbsp;these&nbsp;useful&nbsp;types&nbsp;is&nbsp;sqlmetal.exe&nbsp;itself.&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Even&nbsp;if&nbsp;you&nbsp;were&nbsp;to&nbsp;build&nbsp;a&nbsp;new&nbsp;ISchemaLoader&nbsp;implementation&nbsp;from&nbsp;scratch,&nbsp;you&nbsp;can't&nbsp;supply&nbsp;it&nbsp;to&nbsp;sqlmetal&nbsp;anyway,&nbsp;because&nbsp;you&nbsp;cannot&nbsp;reference&nbsp;&lt;I&gt;the&lt;/I&gt;&nbsp;DbLinq.Vendor.ISchemaLoader&nbsp;from&nbsp;Mono's&nbsp;System.Data.Linq,&nbsp;since&nbsp;it&nbsp;is&nbsp;also&nbsp;internal&nbsp;because&nbsp;of&nbsp;MONO_STRICT.&lt;BR&gt;<br>
&lt;/BLOCKQUOTE&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;<br>
In&nbsp;effect,&nbsp;you&nbsp;now&nbsp;may&nbsp;use&nbsp;--with-schemaloader&nbsp;to&nbsp;force&nbsp;sqlmetal.exe&nbsp;to&nbsp;use&nbsp;SqlServerSchemaLoader&nbsp;against&nbsp;an&nbsp;Oracle&nbsp;database,&nbsp;but&nbsp;that's&nbsp;about&nbsp;all&nbsp;you&nbsp;can&nbsp;do&nbsp;with&nbsp;that&nbsp;option.&lt;BR&gt;<br>
&lt;BR&gt;<br>
My&nbsp;question:&nbsp;&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Would&nbsp;a&nbsp;patch&nbsp;&lt;I&gt;removing&lt;/I&gt;&nbsp;the&nbsp;&quot;#if&nbsp;!MONO_STRICT&nbsp;..&nbsp;public&quot;&nbsp;condition&nbsp;from&nbsp;ISchemaLoader&nbsp;&amp;&nbsp;common&nbsp;implementations&nbsp;be&nbsp;accepted&nbsp;in&nbsp;Mono&nbsp;System.Data.Linq&nbsp;?&nbsp;I&nbsp;notice&nbsp;Mono's&nbsp;S.D.Linq&nbsp;already&nbsp;leaks&nbsp;some&nbsp;bits&nbsp;from&nbsp;DbLinq.Util,&nbsp;it&nbsp;doesn't&nbsp;seem&nbsp;to&nbsp;be&nbsp;that&nbsp;big&nbsp;a&nbsp;deal&nbsp;to&nbsp;let&nbsp;ISchemaLoader&nbsp;escape&nbsp;as&nbsp;well,&nbsp;would&nbsp;it&nbsp;be&nbsp;?&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;such&nbsp;a&nbsp;patch&nbsp;cannot&nbsp;be&nbsp;included,&nbsp;what&nbsp;is&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;proceed&nbsp;then&nbsp;?&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
second&nbsp;question:&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;DbLinq.Vendor.DbSchemaLoader's&nbsp;MapDbType&nbsp;method&nbsp;has&nbsp;a&nbsp;smell&nbsp;in&nbsp;its&nbsp;&quot;switch/case&quot;&nbsp;statement.&nbsp;Apparently,&nbsp;that&nbsp;has&nbsp;been&nbsp;written&nbsp;much&nbsp;earlier&nbsp;than&nbsp;the&nbsp;availability&nbsp;of&nbsp;a&nbsp;proper&nbsp;SchemaLoader&nbsp;child&nbsp;class&nbsp;per&nbsp;provider.&nbsp;&nbsp;So&nbsp;in&nbsp;effect,&nbsp;all&nbsp;type&nbsp;names&nbsp;from&nbsp;all&nbsp;dialects&nbsp;are&nbsp;tested&nbsp;against&nbsp;every&nbsp;database,&nbsp;regardless&nbsp;of&nbsp;the&nbsp;provider.&nbsp;Wouldn't&nbsp;it&nbsp;be&nbsp;sensible&nbsp;to&nbsp;push&nbsp;down&nbsp;the&nbsp;type&nbsp;tests&nbsp;into&nbsp;each&nbsp;provider&nbsp;?&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;do&nbsp;this.&lt;BR&gt;<br>
&lt;BR&gt;<br>
thanks&nbsp;in&nbsp;advance.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Cyrille&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
