<tt>
&lt;DIV&gt;Here&nbsp;is&nbsp;a&nbsp;small&nbsp;patch&nbsp;for&nbsp;jay&nbsp;to&nbsp;fix&nbsp;a&nbsp;codegen&nbsp;problem&nbsp;with&nbsp;gcc-2.96&nbsp;on&nbsp;IPF.&lt;/DIV&gt;<br>
&lt;DIV&gt;-Laurent&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Index:&nbsp;mcs/jay/defs.h&lt;BR&gt;===================================================================&lt;BR&gt;RCS&nbsp;file:&nbsp;/mono/mcs/jay/defs.h,v&lt;BR&gt;retrieving&nbsp;revision&nbsp;1.2&lt;BR&gt;diff&nbsp;-u&nbsp;-b&nbsp;-r1.2&nbsp;defs.h&lt;BR&gt;---&nbsp;mcs/jay/defs.h&amp;nbsp;9&nbsp;Feb&nbsp;2003&nbsp;16:37:28&nbsp;-0000&amp;nbsp;1.2&lt;BR&gt;+++&nbsp;mcs/jay/defs.h&amp;nbsp;17&nbsp;Jul&nbsp;2003&nbsp;22:39:57&nbsp;-0000&lt;BR&gt;@@&nbsp;-134,12&nbsp;+134,12&nbsp;@@&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;/*&amp;nbsp;&nbsp;storage&nbsp;allocation&nbsp;macros&amp;nbsp;&nbsp;*/&lt;BR&gt;&amp;nbsp;&lt;BR&gt;-#define&nbsp;CALLOC(k,n)&amp;nbsp;(calloc((unsigned)(k),(unsigned)(n)))&lt;BR&gt;+#define&nbsp;CALLOC(k,n)&amp;nbsp;(calloc((size_t)(k),(size_t)(n)))&lt;BR&gt;&amp;nbsp;#define&amp;nbsp;FREE(x)&amp;nbsp;&amp;nbsp;(free((char*)(x)))&lt;BR&gt;-#define&nbsp;MALLOC(n)&amp;nbsp;(malloc((unsigned)(n)))&lt;BR&gt;+#define&nbsp;MALLOC(n)&amp;nbsp;(malloc((size_t)(n)))&lt;BR&gt;&amp;nbsp;#define&amp;nbsp;NEW(t)&amp;nbsp;&amp;nbsp;((t*)allocate(sizeof(t)))&lt;BR&gt;-#define&amp;nbsp;NEW2(n,t)&amp;nbsp;((t*)allocate((unsigned)((n)*sizeof(t))))&lt;BR&gt;-#define&nbsp;REALLOC(p,n)&amp;nbsp;(realloc((char*)(p),(unsigned)(n)))&lt;BR&gt;+#define&amp;nbsp;NEW2(n,t)&amp;nbsp;((t*)allocate((size_t)((n)*sizeof(t))))&lt;BR&gt;+#define<br>
&nbsp;REALLOC(p,n)&amp;nbsp;(realloc((char*)(p),(size_t)(n)))&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;/*&amp;nbsp;&nbsp;the&nbsp;structure&nbsp;of&nbsp;a&nbsp;symbol&nbsp;table&nbsp;entry&amp;nbsp;&nbsp;*/&lt;BR&gt;Index:&nbsp;mcs/jay/lr0.c&lt;BR&gt;===================================================================&lt;BR&gt;RCS&nbsp;file:&nbsp;/mono/mcs/jay/lr0.c,v&lt;BR&gt;retrieving&nbsp;revision&nbsp;1.1&lt;BR&gt;diff&nbsp;-u&nbsp;-b&nbsp;-r1.1&nbsp;lr0.c&lt;BR&gt;---&nbsp;mcs/jay/lr0.c&amp;nbsp;14&nbsp;Jul&nbsp;2001&nbsp;23:30:40&nbsp;-0000&amp;nbsp;1.1&lt;BR&gt;+++&nbsp;mcs/jay/lr0.c&amp;nbsp;17&nbsp;Jul&nbsp;2003&nbsp;22:49:57&nbsp;-0000&lt;BR&gt;@@&nbsp;-338,7&nbsp;+338,7&nbsp;@@&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;iend&nbsp;=&nbsp;kernel_end[symbol];&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;n&nbsp;=&nbsp;iend&nbsp;-&nbsp;isp1;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;p&nbsp;=&nbsp;(core&nbsp;*)&nbsp;allocate((unsigned)&nbsp;(sizeof(core)&nbsp;+&nbsp;(n&nbsp;-&nbsp;1)&nbsp;*&nbsp;sizeof(short)));+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;p&nbsp;=&nbsp;(core&nbsp;*)&nbsp;allocate((size_t)&nbsp;(sizeof(core)&nbsp;+&nbsp;(n&nbsp;-&nbsp;1)&nbsp;*&nbsp;sizeof(short)));&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;p-&amp;gt;accessing_symbol&nbsp;=&nbsp;symbol;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;p-&amp;gt;number&nbsp;=&nbsp;nstates;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;p-&amp;gt;nitems&nbsp;=&nbsp;n;&lt;BR&gt;@@&nbsp;-439,7&nbsp;+439,7&nbsp;@@&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;register&nbsp;short<br>
&nbsp;*sp2;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;register&nbsp;short&nbsp;*send;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;p&nbsp;=&nbsp;(shifts&nbsp;*)&nbsp;allocate((unsigned)&nbsp;(sizeof(shifts)&nbsp;+&lt;BR&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;p&nbsp;=&nbsp;(shifts&nbsp;*)&nbsp;allocate((size_t)&nbsp;(sizeof(shifts)&nbsp;+&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(nshifts&nbsp;-&nbsp;1)&nbsp;*&nbsp;sizeof(short)));&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;p-&amp;gt;number&nbsp;=&nbsp;this_state-&amp;gt;number;&lt;BR&gt;@@&nbsp;-488,7&nbsp;+488,7&nbsp;@@&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(count)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;BR&gt;-&amp;nbsp;p&nbsp;=&nbsp;(reductions&nbsp;*)&nbsp;allocate((unsigned)&nbsp;(sizeof(reductions)&nbsp;+&lt;BR&gt;+&amp;nbsp;p&nbsp;=&nbsp;(reductions&nbsp;*)&nbsp;allocate((size_t)&nbsp;(sizeof(reductions)&nbsp;+&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(count&nbsp;-&nbsp;1)&nbsp;*&nbsp;sizeof(short)));&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;p-&amp;gt;number&nbsp;=&nbsp;this_state-&amp;gt;number;&lt;BR&gt;Index:&nbsp;jay/main.c&lt;BR&gt;===================================================================&lt;BR&gt;RCS&nbsp;file:&nbsp;/mono/mcs/jay/main.c,v&lt;BR&gt;retrieving&nbsp;revision&nbsp;1.6&lt;BR&gt;diff&nbsp;-u&nbsp;-b&nbsp;-r1.6&nbsp;main.c&lt;BR&gt;---mcs/&nbsp;jay/main.c&amp;nbsp;20&nbsp;May&nbsp;2003&nbsp;21:06:47&nbsp;-0000&amp;nbsp;1.6&lt;BR&gt;+++<br>
&nbsp;mcs/jay/main.c&amp;nbsp;17&nbsp;Jul&nbsp;2003&nbsp;22:49:58&nbsp;-0000&lt;BR&gt;@@&nbsp;-234,7&nbsp;+234,7&nbsp;@@&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;char&nbsp;*&lt;BR&gt;&amp;nbsp;allocate(n)&lt;BR&gt;-unsigned&nbsp;n;&lt;BR&gt;+size_t&nbsp;n;&lt;BR&gt;&amp;nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;register&nbsp;char&nbsp;*p;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&lt;/DIV&gt;
</tt>
