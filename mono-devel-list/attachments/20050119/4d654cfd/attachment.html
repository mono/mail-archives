<tt>
&lt;P&gt;<br>
Hi,&lt;BR&gt;<br>
&lt;BR&gt;<br>
Have&nbsp;a&nbsp;question&nbsp;on&nbsp;how&nbsp;the&nbsp;mono&nbsp;debugger,&nbsp;given&nbsp;a&nbsp;sourceline&nbsp;number&nbsp;finds&nbsp;the&nbsp;address&nbsp;in&nbsp;memory&nbsp;where&nbsp;a&nbsp;software&nbsp;breakpoint&nbsp;&lt;BR&gt;<br>
instruction&nbsp;has&nbsp;to&nbsp;be&nbsp;written.&lt;BR&gt;<br>
&lt;BR&gt;<br>
After&nbsp;looking&nbsp;at&nbsp;the&nbsp;code&nbsp;it&nbsp;looks&nbsp;like&nbsp;the&nbsp;symbol&nbsp;file&nbsp;is&nbsp;used&nbsp;to&nbsp;find&nbsp;the&nbsp;address&nbsp;corresponding&nbsp;to&nbsp;a&nbsp;source&nbsp;line.&lt;BR&gt;<br>
&lt;BR&gt;<br>
For&nbsp;a&nbsp;method&nbsp;that&nbsp;is&nbsp;already&nbsp;JITted,&nbsp;can&nbsp;we&nbsp;not&nbsp;use&nbsp;the&nbsp;following&nbsp;method?&lt;BR&gt;<br>
1.Remember/Store&nbsp;the&nbsp;ILOffset&nbsp;to&nbsp;memory&nbsp;address&nbsp;mapping&nbsp;for&nbsp;each&nbsp;method&nbsp;that&nbsp;is&nbsp;JITted.&nbsp;&lt;BR&gt;<br>
This&nbsp;can&nbsp;be&nbsp;done&nbsp;in&nbsp;mono_arch_output_basic_block&nbsp;in&nbsp;mini-x86.c&nbsp;(and&nbsp;is&nbsp;already&nbsp;being&nbsp;done&nbsp;&lt;BR&gt;<br>
via&nbsp;a&nbsp;call&nbsp;to&nbsp;mono_debug_record_line_number).&lt;BR&gt;<br>
2.When&nbsp;an&nbsp;&amp;quot;insert&nbsp;breakpoint&amp;quot;&nbsp;is&nbsp;requested&nbsp;on&nbsp;a&nbsp;particular&nbsp;source&nbsp;line,&nbsp;find&nbsp;the&nbsp;ILOffset&nbsp;for&nbsp;the&nbsp;source&nbsp;line,&nbsp;for&nbsp;the&nbsp;method.&lt;BR&gt;<br>
Lookup&nbsp;the&nbsp;ILOffset&nbsp;to&nbsp;memory&nbsp;address&nbsp;mapping&nbsp;that&nbsp;we&nbsp;stored&nbsp;and&nbsp;find&nbsp;the&nbsp;memory&nbsp;address&nbsp;in&nbsp;&lt;BR&gt;<br>
JITted&nbsp;code&lt;BR&gt;<br>
3.Remember/Store&nbsp;the&nbsp;original&nbsp;instruction&nbsp;at&nbsp;the&nbsp;memory&nbsp;address&nbsp;and&nbsp;replace&nbsp;it&nbsp;with&nbsp;a&nbsp;software&nbsp;breakpoint.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Is&nbsp;there&nbsp;any&nbsp;particular&nbsp;reason&nbsp;why&nbsp;the&nbsp;above&nbsp;mentioned&nbsp;scheme&nbsp;would&nbsp;fail?&lt;BR&gt;<br>
<br>
&lt;/P&gt;<br>
&lt;br&gt;&lt;br&gt;<br>
&lt;A&nbsp;target=&quot;_blank&quot;&nbsp;HREF=&quot;http://clients.rediff.com/signature/track_sig.asp&quot;&gt;&lt;IMG&nbsp;SRC=&quot;http://ads.rediff.com/RealMedia/ads/adstream_nx.cgi/www.rediffmail.com/inbox.htm@Bottom&quot;&nbsp;BORDER=0&nbsp;VSPACE=0&nbsp;HSPACE=0&gt;&lt;/a&gt;<br>

</tt>
