<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Tahoma<br>
}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;<br>
<br>
<br>
<br>
Hi,&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;I'm&nbsp;having&nbsp;problems&nbsp;reading&nbsp;UTF-8&nbsp;encoded&nbsp;XML&nbsp;files,&nbsp;only&nbsp;in&nbsp;mono&nbsp;on&nbsp;Linux&nbsp;and&nbsp;MacOSX&nbsp;(2.10.2&nbsp;and&nbsp;2.10.1&nbsp;respectively).&nbsp;2.10.2&nbsp;on&nbsp;Windows&nbsp;7&nbsp;64&nbsp;bit&nbsp;runs&nbsp;just&nbsp;fine,&nbsp;as&nbsp;does&nbsp;.NET&lt;BR&gt;&amp;nbsp;&lt;BR&gt;The&nbsp;issue&nbsp;is&nbsp;that&nbsp;the&nbsp;XmlTextReader&nbsp;can't&nbsp;open&nbsp;an&nbsp;XML&nbsp;file&nbsp;with&nbsp;UTF-8&nbsp;encoding,&nbsp;it&nbsp;comes&nbsp;up&nbsp;with&nbsp;an&nbsp;old&nbsp;error,&nbsp;'?&amp;gt;'&nbsp;is&nbsp;Expected&nbsp;as&nbsp;Mono.Xml2.XmlTextReader.Expect.&lt;BR&gt;&amp;nbsp;&lt;BR&gt;This&amp;nbsp;seems&nbsp;true&amp;nbsp;of&nbsp;any&nbsp;Xml&nbsp;file,&nbsp;as&nbsp;long&nbsp;as&nbsp;it&nbsp;is&nbsp;UTF-8&nbsp;encoded,&nbsp;which&nbsp;I&nbsp;need&nbsp;for&nbsp;multiple&nbsp;language&nbsp;support,&nbsp;as&nbsp;I&nbsp;need&nbsp;translations&nbsp;inside&nbsp;the&nbsp;single&nbsp;XMl&nbsp;file.&lt;BR&gt;&amp;nbsp;&lt;BR&gt;I&nbsp;am&nbsp;using&nbsp;the&nbsp;following&nbsp;code&nbsp;to&nbsp;initialise&nbsp;the&nbsp;XmlTextReader:&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&lt;pre&nbsp;style=&quot;background:&nbsp;white;&nbsp;color:&nbsp;black;&nbsp;font-family:&nbsp;Consolas;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(43,&nbsp;145,&nbsp;175);&quot;&gt;XmlReaderSettings&lt;/span&gt;&amp;nbsp;settings&amp;nbsp;=&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;blue;&quot;&gt;new&lt;/span&gt;&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(43,&nbsp;145,&nbsp;175);&quot;&gt;XmlReaderSettings&lt;/spa<br>
&nbsp;n&gt;();<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;settings.ConformanceLevel&amp;nbsp;=&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(43,&nbsp;145,&nbsp;175);&quot;&gt;ConformanceLevel&lt;/span&gt;.Auto;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;settings.IgnoreWhitespace&amp;nbsp;=&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;blue;&quot;&gt;true&lt;/span&gt;;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;settings.IgnoreComments&amp;nbsp;=&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;blue;&quot;&gt;true&lt;/span&gt;;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;settings.ValidationType&amp;nbsp;=&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(43,&nbsp;145,&nbsp;175);&quot;&gt;ValidationType&lt;/span&gt;.None;<br>
&nbsp;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(43,&nbsp;145,&nbsp;175);&quot;&gt;XmlReader&lt;/span&gt;&amp;nbsp;reader&amp;nbsp;=&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(43,&nbsp;145,&nbsp;175);&quot;&gt;XmlReader&lt;/span&gt;.Create(IFXstream,&amp;nbsp;settings);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
&nbsp;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(43,&nbsp;145,&nbsp;175);&quot;&gt;XmlDocument&lt;/span&gt;&amp;nbsp;IFXmodel&amp;nbsp;=&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;blue;&quot;&gt;new&lt;/span&gt;&amp;nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(43,&nbsp;145,&nbsp;175);&quot;&gt;XmlDocument&lt;/span&gt;();<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;IFXmodel.Load(reader);&lt;/pre&gt;Setting&nbsp;the&nbsp;ConformanceLevel.Auto&nbsp;fixed&nbsp;it&nbsp;running&nbsp;in&nbsp;Mono&nbsp;on&nbsp;Windows,&nbsp;but&nbsp;still&nbsp;left&nbsp;it&nbsp;broken&nbsp;on&nbsp;Linux&nbsp;and&nbsp;MacOSX.&lt;BR&gt;&amp;nbsp;&lt;BR&gt;I&nbsp;tried&nbsp;converting&nbsp;the&nbsp;files&nbsp;to&nbsp;UTF-32,&nbsp;but&nbsp;then&nbsp;I&nbsp;just&nbsp;get&nbsp;a&nbsp;NullReferenceException.&lt;BR&gt;&amp;nbsp;&lt;BR&gt;Converting&nbsp;to&nbsp;Western&nbsp;ISO&nbsp;won't&nbsp;work&nbsp;as&nbsp;gedit&nbsp;reports&nbsp;there&nbsp;are&nbsp;characters&nbsp;in&nbsp;the&nbsp;file&nbsp;that&nbsp;will&nbsp;be&nbsp;lost&nbsp;in&nbsp;the&nbsp;conversion.&lt;BR&gt;&amp;nbsp;&lt;BR&gt;Any&nbsp;thoughts?&lt;BR&gt;&amp;nbsp;&lt;BR&gt;Cheers,&lt;BR&gt;&amp;nbsp;&lt;BR&gt;Euan.&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
