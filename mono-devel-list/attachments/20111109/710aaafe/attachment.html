<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Tahoma<br>
}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;<br>
Hi&nbsp;Robert,&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;now&nbsp;debugged&nbsp;the&nbsp;issue&nbsp;using&nbsp;Ubuntu&nbsp;Maverick/&nbsp;32&nbsp;bit.&nbsp;I&nbsp;did&nbsp;the&nbsp;following:&lt;br&gt;&lt;br&gt;(1)&nbsp;Configure&nbsp;system&nbsp;proxy&nbsp;settings&nbsp;and&nbsp;reboot&nbsp;machine&lt;br&gt;(2)&nbsp;In&nbsp;terminal&nbsp;&quot;echo&nbsp;$http_proxy&quot;&nbsp;returns&nbsp;&quot;http://http.proxy:8080/&quot;;&nbsp;&quot;echo&nbsp;$no_proxy&quot;&nbsp;returns&nbsp;&quot;localhost,127.0.0.0/8,*.local&quot;&lt;br&gt;(3)&nbsp;Created&nbsp;an&nbsp;ASP.NET&nbsp;project&nbsp;in&nbsp;MonoDevelop&nbsp;and&nbsp;entered&nbsp;the&nbsp;following&nbsp;code&nbsp;in&nbsp;Default.aspx.cs&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;protected&nbsp;void&nbsp;Page_Load(object&nbsp;Sender,&nbsp;EventArgs&nbsp;e)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;string&nbsp;str1=Environment.GetEnvironmentVariable(&quot;http_proxy&quot;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;string&nbsp;str2=Environment.GetEnvironmentVariable(&quot;no_proxy&quot;);&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;string&nbsp;strBreak=&quot;stop&quot;;//put&nbsp;breakpoint&nbsp;at&nbsp;this&nbsp;line&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;(4)&nbsp;After&nbsp;pressing&nbsp;F5,&nbsp;we&nbsp;can&nbsp;see&nbsp;that&nbsp;str1&nbsp;contains&nbsp;it's&nbsp;expected&nbsp;value&nbsp;while&nbsp;str2&nbsp;is&nbsp;null&lt;br&gt;&lt;br&gt;By&nbsp;the&nbsp;way,&nbsp;I&nbsp;have&nbsp;checked&nbsp;the&nbsp;user&nbsp;name&nbsp;of&nbsp;the&nbsp;mono&nbsp;process.&nbsp;It's&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;currently&nbsp;logged&nbsp;in&nbsp;user&nbsp;and&nbsp;therefore&nbsp;it&nbsp;should&nbsp;have&nbsp;access&nbsp;to&nbsp;all&nbsp;environment&nbsp;variables.&nbsp;ASP.NET/Mono&nbsp;seems&nbsp;to&nbsp;have&nbsp;a&nbsp;problem&nbsp;reading&nbsp;the&nbsp;no_proxy&nbsp;variable&nbsp;while&nbsp;the&nbsp;http_proxy&nbsp;variable&nbsp;can&nbsp;be&nbsp;accessed&nbsp;as&nbsp;expected.&lt;br&gt;&lt;br&gt;&lt;br&gt;Best&nbsp;regards,&lt;br&gt;Martin&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;hr&nbsp;id=&quot;stopSpelling&quot;&gt;From:&nbsp;test051102@hotmail.com&lt;br&gt;To:&nbsp;robertj@gmx.net;&nbsp;mono-devel-list@lists.ximian.com&lt;br&gt;Date:&nbsp;Sat,&nbsp;5&nbsp;Nov&nbsp;2011&nbsp;08:48:34&nbsp;+0000&lt;br&gt;Subject:&nbsp;Re:&nbsp;[Mono-dev]&nbsp;Environment.GetEnvironmentVariable()&nbsp;not&nbsp;working&nbsp;in&nbsp;Linux&nbsp;ASP.NET&nbsp;app&lt;br&gt;&lt;br&gt;<br>
<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=unicode&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;SafeHTML&quot;&gt;<br>
&lt;style&gt;<br>
.ExternalClass&nbsp;.ecxhmmessage&nbsp;P<br>
{padding:0px;}<br>
.ExternalClass&nbsp;body.ecxhmmessage<br>
{font-size:10pt;font-family:Tahoma;}<br>
<br>
&lt;/style&gt;<br>
<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;<br>
Hi&nbsp;Robert,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;using&nbsp;XSP2&nbsp;&amp;amp;&nbsp;MonoDevelop&nbsp;to&nbsp;debug.&lt;br&gt;&lt;br&gt;Based&nbsp;on&nbsp;the&nbsp;answers&nbsp;I&nbsp;think&nbsp;that&nbsp;it&nbsp;might&nbsp;be&nbsp;a&nbsp;Linux&nbsp;related&nbsp;issue.&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;implemented&nbsp;extensive&nbsp;proxy&nbsp;support&nbsp;for&nbsp;WebClient&nbsp;and&nbsp;it's&nbsp;underlying&nbsp;classes&nbsp;in&nbsp;Mono/master.&nbsp;This&nbsp;code&nbsp;is&nbsp;based&nbsp;on&nbsp;the&nbsp;no_proxy&nbsp;environment&nbsp;variable&nbsp;in&nbsp;Linux.&nbsp;The&nbsp;question&nbsp;is,&nbsp;how&nbsp;can&nbsp;we&nbsp;obtain&nbsp;the&nbsp;list&nbsp;of&nbsp;proxies&nbsp;to&nbsp;bypass&nbsp;in&nbsp;Linux?&nbsp;Is&nbsp;there&nbsp;a&nbsp;consistend&nbsp;way&nbsp;to&nbsp;do&nbsp;this&nbsp;for&nbsp;standard&nbsp;Linux&nbsp;apps&nbsp;AND&nbsp;Linux&nbsp;ASP.NET&nbsp;apps?&lt;br&gt;&lt;br&gt;&lt;br&gt;Best&nbsp;regards,&lt;br&gt;Martin&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&amp;gt;&nbsp;To:&nbsp;mono-devel-list@lists.ximian.com&lt;br&gt;&amp;gt;&nbsp;From:&nbsp;robertj@gmx.net&lt;br&gt;&amp;gt;&nbsp;Date:&nbsp;Thu,&nbsp;3&nbsp;Nov&nbsp;2011&nbsp;15:47:37&nbsp;+0100&lt;br&gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[Mono-dev]&nbsp;Environment.GetEnvironmentVariable()&nbsp;not&nbsp;working&nbsp;in&nbsp;Linux&nbsp;ASP.NET&nbsp;app&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;On&nbsp;03.11.2011&nbsp;14:12,&nbsp;H&nbsp;.&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Hi&nbsp;Robert,&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;thanks&nbsp;for&nbsp;your&nbsp;hints.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;The&nbsp;link&nbsp;sent&nbsp;describes&nbsp;how&nbsp;environment&nbsp;variables&nbsp;can&nbsp;be&nbsp;set&nbsp;up&nbsp;in&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Ubuntu.&nbsp;Of&nbsp;course,&nbsp;nobody&nbsp;would&nbsp;try&nbsp;to&nbsp;manually&nbsp;set&nbsp;up&nbsp;environment&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;variables&nbsp;when&nbsp;trying&nbsp;to&nbsp;configure&nbsp;proxies.&nbsp;This&nbsp;is&nbsp;done&nbsp;by&nbsp;using&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;System&amp;gt;Settings&amp;gt;Network&nbsp;Proxy.&nbsp;After&nbsp;that,&nbsp;Ubuntu&nbsp;sets&nbsp;up&nbsp;the&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;necessary&nbsp;environment&nbsp;variables.&nbsp;In&nbsp;case&nbsp;of&nbsp;the&nbsp;no_proxy&nbsp;environment&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;variable&nbsp;this&nbsp;can&nbsp;be&nbsp;tested&nbsp;by&nbsp;issuing&nbsp;&quot;echo&nbsp;$no_proxy&quot;&nbsp;on&nbsp;the&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;command&nbsp;line.&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Yes,&nbsp;you&nbsp;may&nbsp;see&nbsp;it&nbsp;on&nbsp;*your*&nbsp;own&nbsp;command&nbsp;line,&nbsp;as&nbsp;a&nbsp;normal&nbsp;user,&lt;br&gt;&amp;gt;&nbsp;but&nbsp;the&nbsp;web&nbsp;server&nbsp;(you&nbsp;didn't&nbsp;specify&nbsp;which&nbsp;one,&nbsp;so&nbsp;we&nbsp;can't&nbsp;help)&lt;br&gt;&amp;gt;&nbsp;may&nbsp;have&nbsp;its&nbsp;own&nbsp;environment&nbsp;default&nbsp;settings.&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;A&nbsp;common&nbsp;way&nbsp;to&nbsp;solve&nbsp;that&nbsp;(if&nbsp;Ubuntu's&nbsp;config&nbsp;tools&nbsp;don't&lt;br&gt;&amp;gt;&nbsp;provide&nbsp;a&nbsp;facility&nbsp;to&nbsp;set&nbsp;either&nbsp;global&nbsp;or&nbsp;web&nbsp;server&lt;br&gt;&amp;gt;&nbsp;specific&nbsp;vars)&nbsp;is&nbsp;to&nbsp;set&nbsp;this&nbsp;env&nbsp;var&nbsp;globally&nbsp;and&nbsp;manually.&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Robert&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;Mono-devel-list@lists.ximian.com&lt;br&gt;&amp;gt;&nbsp;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________<br>
Mono-devel-list&nbsp;mailing&nbsp;list<br>
Mono-devel-list@lists.ximian.com<br>
http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/div&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
