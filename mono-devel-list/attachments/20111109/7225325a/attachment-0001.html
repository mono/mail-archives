<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Tahoma<br>
}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;<br>
Hi&nbsp;Oscar,&lt;br&gt;&lt;br&gt;yes,&nbsp;using&nbsp;a&nbsp;command&nbsp;line&nbsp;app&nbsp;everything&nbsp;works&nbsp;fine.&nbsp;The&nbsp;problems&nbsp;are&nbsp;restricted&nbsp;to&nbsp;ASP.NET&nbsp;apps.&lt;br&gt;&lt;br&gt;I&nbsp;did&nbsp;reboot&nbsp;my&nbsp;machine&nbsp;after&nbsp;changing&nbsp;proxy&nbsp;settings,&nbsp;so&nbsp;it&nbsp;shouldn't&nbsp;be&nbsp;a&nbsp;problem&nbsp;with&nbsp;inheriting&nbsp;the&nbsp;environment&nbsp;variables&nbsp;between&nbsp;processes.&nbsp;Furthermore&nbsp;I&nbsp;used&nbsp;the&nbsp;button&nbsp;&quot;Apply&nbsp;System-Wide&quot;&nbsp;in&nbsp;Ubuntu.&nbsp;I&nbsp;am&nbsp;sure,&nbsp;the&nbsp;environment&nbsp;variables&nbsp;are&nbsp;correctly&nbsp;set&nbsp;up&nbsp;as&nbsp;they&nbsp;are&nbsp;available&nbsp;directly&nbsp;on&nbsp;the&nbsp;command&nbsp;line.&nbsp;To&nbsp;be&nbsp;able&nbsp;to&nbsp;run&nbsp;xsp2&nbsp;from&nbsp;the&nbsp;command&nbsp;line&nbsp;I&nbsp;need&nbsp;to&nbsp;extend&nbsp;my&nbsp;test&nbsp;web&nbsp;app.&lt;br&gt;&lt;br&gt;&lt;br&gt;Greetings,&lt;br&gt;Martin&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&amp;gt;&nbsp;From:&nbsp;oskar.berggren@gmail.com&lt;br&gt;&amp;gt;&nbsp;Date:&nbsp;Wed,&nbsp;9&nbsp;Nov&nbsp;2011&nbsp;14:31:04&nbsp;+0100&lt;br&gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[Mono-dev]&nbsp;Environment.GetEnvironmentVariable()&nbsp;not&nbsp;working&nbsp;in&nbsp;Linux&nbsp;ASP.NET&nbsp;app&lt;br&gt;&amp;gt;&nbsp;To:&nbsp;test051102@hotmail.com&lt;br&gt;&amp;gt;&nbsp;CC:&nbsp;mono-devel-list@lists.ximian.com&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;2011/11/9&nbsp;H&nbsp;.&nbsp;&amp;lt;test051102@hotmail.com&amp;gt;:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Hi&nbsp;Robert,&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;have&nbsp;now&nbsp;debugged&nbsp;the&nbsp;issue&nbsp;using&nbsp;Ubuntu&nbsp;Maverick/&nbsp;32&nbsp;bit.&nbsp;I&nbsp;did&nbsp;the&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;following:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;(1)&nbsp;Configure&nbsp;system&nbsp;proxy&nbsp;settings&nbsp;and&nbsp;reboot&nbsp;machine&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;(2)&nbsp;In&nbsp;terminal&nbsp;&quot;echo&nbsp;$http_proxy&quot;&nbsp;returns&nbsp;&quot;http://http.proxy:8080/&quot;;&nbsp;&quot;echo&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;$no_proxy&quot;&nbsp;returns&nbsp;&quot;localhost,127.0.0.0/8,*.local&quot;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;(3)&nbsp;Created&nbsp;an&nbsp;ASP.NET&nbsp;project&nbsp;in&nbsp;MonoDevelop&nbsp;and&nbsp;entered&nbsp;the&nbsp;following&nbsp;code&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;in&nbsp;Default.aspx.cs&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;protected&nbsp;void&nbsp;Page_Load(object&nbsp;Sender,&nbsp;EventArgs&nbsp;e)&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;string&nbsp;str1=Environment.GetEnvironmentVariable(&quot;http_proxy&quot;);&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;string&nbsp;str2=Environment.GetEnvironmentVariable(&quot;no_proxy&quot;);&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;string&nbsp;strBreak=&quot;stop&quot;;//put&nbsp;breakpoint&nbsp;at&nbsp;this&nbsp;line&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;(4)&nbsp;After&nbsp;pressing&nbsp;F5,&nbsp;we&nbsp;can&nbsp;see&nbsp;that&nbsp;str1&nbsp;contains&nbsp;it's&nbsp;expected&nbsp;value&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;while&nbsp;str2&nbsp;is&nbsp;null&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;By&nbsp;the&nbsp;way,&nbsp;I&nbsp;have&nbsp;checked&nbsp;the&nbsp;user&nbsp;name&nbsp;of&nbsp;the&nbsp;mono&nbsp;process.&nbsp;It's&nbsp;the&nbsp;same&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;as&nbsp;the&nbsp;currently&nbsp;logged&nbsp;in&nbsp;user&nbsp;and&nbsp;therefore&nbsp;it&nbsp;should&nbsp;have&nbsp;access&nbsp;to&nbsp;all&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;environment&nbsp;variables.&nbsp;ASP.NET/Mono&nbsp;seems&nbsp;to&nbsp;have&nbsp;a&nbsp;problem&nbsp;reading&nbsp;the&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;no_proxy&nbsp;variable&nbsp;while&nbsp;the&nbsp;http_proxy&nbsp;variable&nbsp;can&nbsp;be&nbsp;accessed&nbsp;as&nbsp;expected.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Weird.&nbsp;I&nbsp;just&nbsp;did&nbsp;a&nbsp;quick&nbsp;test&nbsp;using&nbsp;command&nbsp;line&nbsp;program,&nbsp;and&nbsp;this&lt;br&gt;&amp;gt;&nbsp;prints&nbsp;the&nbsp;correct&nbsp;information&nbsp;when&nbsp;run&nbsp;using&nbsp;F5&nbsp;in&nbsp;Monodevelop,&nbsp;on&lt;br&gt;&amp;gt;&nbsp;Mono&nbsp;2.6.7.&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;public&nbsp;static&nbsp;void&nbsp;Main(string[]&nbsp;args)&lt;br&gt;&amp;gt;&nbsp;{&lt;br&gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine(&lt;br&gt;&amp;gt;&nbsp;Environment.GetEnvironmentVariable(&quot;http_proxy&quot;));&lt;br&gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine(&nbsp;&nbsp;Environment.GetEnvironmentVariable(&quot;no_proxy&quot;));&lt;br&gt;&amp;gt;&nbsp;}&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;If&nbsp;you&nbsp;try&nbsp;this&nbsp;code&nbsp;both&nbsp;when&nbsp;run&nbsp;through&nbsp;Monodevelop,&nbsp;and&nbsp;when&lt;br&gt;&amp;gt;&nbsp;compiled&nbsp;and&nbsp;run&nbsp;manually&nbsp;from&nbsp;the&nbsp;command&nbsp;line,&nbsp;is&nbsp;there&nbsp;a&lt;br&gt;&amp;gt;&nbsp;difference?&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;If&nbsp;you&nbsp;move&nbsp;your&nbsp;code&nbsp;to&nbsp;Application_Start&nbsp;in&nbsp;global.asax,&nbsp;is&nbsp;there&nbsp;a&lt;br&gt;&amp;gt;&nbsp;difference?&nbsp;(Long&nbsp;shot...)&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;/Oskar&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
