<tt>
I&#39;m&nbsp;trying&nbsp;to&nbsp;debug&nbsp;problems&nbsp;in&nbsp;moonlight.&nbsp;Unfortunately,&nbsp;debugging&nbsp;it&nbsp;is&nbsp;bit&nbsp;problematic&lt;br&gt;&lt;br&gt;1)&nbsp;with&nbsp;MOONLIGHT_DEBUG&nbsp;I&nbsp;got&nbsp;plugin&nbsp;crash.&nbsp;Frotunately,&nbsp;I&nbsp;managed&nbsp;to&nbsp;find&nbsp;it:&lt;br&gt;&lt;br&gt;diff&nbsp;--git&nbsp;a/src/value.cpp&nbsp;b/src/value.cpp&lt;br&gt;<br>
index&nbsp;3117f24..eda014d&nbsp;100644&lt;br&gt;---&nbsp;a/src/value.cpp&lt;br&gt;+++&nbsp;b/src/value.cpp&lt;br&gt;@@&nbsp;-74,7&nbsp;+74,8&nbsp;@@&nbsp;Value::CreateUnrefPtr&nbsp;(Uri&nbsp;*uri)&lt;br&gt;       &nbsp;result-&gt;SetKind&nbsp;(Type::URI);&lt;br&gt;       &nbsp;result-&gt;u.uri&nbsp;=&nbsp;uri;&lt;br&gt;       &nbsp;result-&gt;SetIsNull&nbsp;(false);&lt;br&gt;<br>
-      &nbsp;LOG_VALUE&nbsp;(&quot;unref&nbsp;[delete]&nbsp;Value&nbsp;[%p]&nbsp;%s\n&quot;,&nbsp;result,&nbsp;result-&gt;GetName());&lt;br&gt;+      &nbsp;//&nbsp;This&nbsp;crashes&nbsp;plugin&nbsp;at&nbsp;applcation&nbsp;load&lt;br&gt;+      &nbsp;//LOG_VALUE&nbsp;(&quot;unref&nbsp;[delete]&nbsp;Value&nbsp;[%p]&nbsp;%s\n&quot;,&nbsp;result,&nbsp;result-&gt;GetName());&lt;br&gt;<br>
       &nbsp;return&nbsp;result;&lt;br&gt; }&lt;br&gt;&lt;br&gt;2)&nbsp;Running&nbsp;with&nbsp;valgrind&nbsp;moonlight&nbsp;will&nbsp;crash&nbsp;when&nbsp;silverlight&nbsp;app&nbsp;is&nbsp;loaded.&nbsp;Crash&nbsp;will&nbsp;happen&nbsp;on&nbsp;same&nbsp;place:&lt;br&gt;&lt;br&gt;==16548==&nbsp;Invalid&nbsp;read&nbsp;of&nbsp;size&nbsp;4&lt;br&gt;==16548==   &nbsp;at&nbsp;0xA903F78:&nbsp;???&lt;br&gt;<br>
==16548==   &nbsp;by&nbsp;0x8913680:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*),&nbsp;Moonlig&lt;br&gt;ht::Timeline*,&nbsp;Moonlight::DependencyObject*,&nbsp;Moonlight::PropertyPath*)&nbsp;(animation.cpp:620)&lt;br&gt;<br>
==16548==   &nbsp;by&nbsp;0x891361D:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*),&nbsp;Moonlig&lt;br&gt;ht::Timeline*,&nbsp;Moonlight::DependencyObject*,&nbsp;Moonlight::PropertyPath*)&nbsp;(animation.cpp:609)&lt;br&gt;<br>
==16548==   &nbsp;by&nbsp;0x89136AF:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*))&nbsp;(animat&lt;br&gt;ion.cpp:574)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x8A856F6:&nbsp;_moonlight_cbinding_storyboard_flatten_timelines&nbsp;(cbinding.cpp:608&lt;br&gt;<br>
5)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A916219:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A9161C9:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A915855:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A9157D5:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A914D87:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A914147:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A906E6D:&nbsp;???&lt;br&gt;<br>
==16548== &nbsp;Address&nbsp;0xffa14944&nbsp;is&nbsp;not&nbsp;stack&#39;d,&nbsp;malloc&#39;d&nbsp;or&nbsp;(recently)&nbsp;free&#39;d&lt;br&gt;==16548==&nbsp;&lt;br&gt;==16548==&nbsp;Invalid&nbsp;write&nbsp;of&nbsp;size&nbsp;4&lt;br&gt;==16548==   &nbsp;at&nbsp;0x8E231D4:&nbsp;mono_jit_info_table_find&nbsp;(domain.c:386)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x8CE9B2E:&nbsp;mono_sigsegv_signal_handler&nbsp;(mini.c:5840)&lt;br&gt;<br>
==16548==   &nbsp;by&nbsp;0x406BB1F:&nbsp;???&nbsp;(in&nbsp;/lib/&lt;a&nbsp;href=&quot;http://libpthread-2.11.1.so&quot;&gt;libpthread-2.11.1.so&lt;/a&gt;)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x8913680:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*),&nbsp;Moonlig&lt;br&gt;<br>
ht::Timeline*,&nbsp;Moonlight::DependencyObject*,&nbsp;Moonlight::PropertyPath*)&nbsp;(animation.cpp:620)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x891361D:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*),&nbsp;Moonlig&lt;br&gt;<br>
ht::Timeline*,&nbsp;Moonlight::DependencyObject*,&nbsp;Moonlight::PropertyPath*)&nbsp;(animation.cpp:609)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x89136AF:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*))&nbsp;(animat&lt;br&gt;<br>
ion.cpp:574)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x8A856F6:&nbsp;_moonlight_cbinding_storyboard_flatten_timelines&nbsp;(cbinding.cpp:608&lt;br&gt;5)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A916219:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A9161C9:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A915855:&nbsp;???&lt;br&gt;<br>
==16548==   &nbsp;by&nbsp;0x1A9157D5:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A914D87:&nbsp;???&lt;br&gt;==16548== &nbsp;Address&nbsp;0x7e7a00c&nbsp;is&nbsp;not&nbsp;stack&#39;d,&nbsp;malloc&#39;d&nbsp;or&nbsp;(recently)&nbsp;free&#39;d&lt;br&gt;==16548==&nbsp;&lt;br&gt;==16548==&nbsp;Invalid&nbsp;write&nbsp;of&nbsp;size&nbsp;4&lt;br&gt;==16548==   &nbsp;at&nbsp;0x8E231DD:&nbsp;mono_jit_info_table_find&nbsp;(domain.c:387)&lt;br&gt;<br>
==16548==   &nbsp;by&nbsp;0x8CE9B2E:&nbsp;mono_sigsegv_signal_handler&nbsp;(mini.c:5840)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x406BB1F:&nbsp;???&nbsp;(in&nbsp;/lib/&lt;a&nbsp;href=&quot;http://libpthread-2.11.1.so&quot;&gt;libpthread-2.11.1.so&lt;/a&gt;)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x8913680:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;<br>
ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*),&nbsp;Moonlig&lt;br&gt;ht::Timeline*,&nbsp;Moonlight::DependencyObject*,&nbsp;Moonlight::PropertyPath*)&nbsp;(animation.cpp:620)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x891361D:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;<br>
ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*),&nbsp;Moonlig&lt;br&gt;ht::Timeline*,&nbsp;Moonlight::DependencyObject*,&nbsp;Moonlight::PropertyPath*)&nbsp;(animation.cpp:609)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x89136AF:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;<br>
ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*))&nbsp;(animat&lt;br&gt;ion.cpp:574)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x8A856F6:&nbsp;_moonlight_cbinding_storyboard_flatten_timelines&nbsp;(cbinding.cpp:608&lt;br&gt;5)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A916219:&nbsp;???&lt;br&gt;<br>
==16548==   &nbsp;by&nbsp;0x1A9161C9:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A915855:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A9157D5:&nbsp;???&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A914D87:&nbsp;???&lt;br&gt;==16548== &nbsp;Address&nbsp;0x7e7a010&nbsp;is&nbsp;not&nbsp;stack&#39;d,&nbsp;malloc&#39;d&nbsp;or&nbsp;(recently)&nbsp;free&#39;d&lt;br&gt;<br>
==16548==&nbsp;&lt;br&gt;==16548==&nbsp;Thread&nbsp;2&nbsp;return&nbsp;signal&nbsp;frame&nbsp;corrupted. &nbsp;Killing&nbsp;process.&lt;br&gt;==16548==&nbsp;&lt;br&gt;==16548==&nbsp;Process&nbsp;terminating&nbsp;with&nbsp;default&nbsp;action&nbsp;of&nbsp;signal&nbsp;11&nbsp;(SIGSEGV):&nbsp;dumping&nbsp;core&lt;br&gt;==16548== &nbsp;General&nbsp;Protection&nbsp;Fault&lt;br&gt;<br>
==16548==   &nbsp;at&nbsp;0x406BB25:&nbsp;???&nbsp;(in&nbsp;/lib/&lt;a&nbsp;href=&quot;http://libpthread-2.11.1.so&quot;&gt;libpthread-2.11.1.so&lt;/a&gt;)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x8913680:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*),&nbsp;Moonlig&lt;br&gt;<br>
ht::Timeline*,&nbsp;Moonlight::DependencyObject*,&nbsp;Moonlight::PropertyPath*)&nbsp;(animation.cpp:620)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x891361D:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*),&nbsp;Moonlig&lt;br&gt;<br>
ht::Timeline*,&nbsp;Moonlight::DependencyObject*,&nbsp;Moonlight::PropertyPath*)&nbsp;(animation.cpp:609)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x89136AF:&nbsp;Moonlight::Storyboard::FlattenTimelines(void&nbsp;(*)(Moonlight::Timeli&lt;br&gt;ne&nbsp;const*,&nbsp;Moonlight::DependencyObject&nbsp;const*,&nbsp;Moonlight::DependencyProperty&nbsp;const*))&nbsp;(animat&lt;br&gt;<br>
ion.cpp:574)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x8A856F6:&nbsp;_moonlight_cbinding_storyboard_flatten_timelines&nbsp;(cbinding.cpp:608&lt;br&gt;5)&lt;br&gt;==16548==   &nbsp;by&nbsp;0x1A916219:&nbsp;???&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>

</tt>
