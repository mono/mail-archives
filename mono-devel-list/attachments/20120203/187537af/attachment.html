<tt>
We&nbsp;have&nbsp;application,&nbsp;which&nbsp;uses&nbsp;custom&nbsp;controls&nbsp;made&nbsp;by&nbsp;third&nbsp;party.&nbsp;On&nbsp;windows&nbsp;platform&nbsp;these&nbsp;controls&nbsp;perform&nbsp;ok,&nbsp;but&nbsp;moonlight&nbsp;performance&nbsp;is&nbsp;bad.&nbsp;Problem&nbsp;is&nbsp;in&nbsp;custom&nbsp;gridview&nbsp;which&nbsp;has&nbsp;suport&nbsp;for&nbsp;&#39;multiline&#39;&nbsp;rows.&lt;br&gt;<br>
&lt;br&gt;Problems&nbsp;we&nbsp;have:&lt;br&gt;&lt;br&gt;1)&nbsp;performance.&nbsp;more&nbsp;lines&nbsp;the&nbsp;grid&nbsp;has,&nbsp;slower&nbsp;it&nbsp;gets.&nbsp;With&nbsp;100-200&nbsp;lines&nbsp;it&nbsp;will&nbsp;be&nbsp;totally&nbsp;unusable.&lt;br&gt;&lt;br&gt;2)&nbsp;memory&nbsp;consumption,&nbsp;grid&nbsp;consumes&nbsp;a&nbsp;lot&nbsp;of&nbsp;memory&lt;br&gt;&lt;br&gt;&lt;br&gt;Error&nbsp;messages&nbsp;we&nbsp;get&nbsp;on&nbsp;load:&lt;br&gt;<br>
---------------------------------------------------------------------------&lt;br&gt;<br>
trying&nbsp;to&nbsp;load:&nbsp;/XXXX.Windows.Controls.GridView;component/themes/generic.xaml&lt;br&gt;VisualTreeWalker:&nbsp;unexpectedly&nbsp;got&nbsp;an&nbsp;unsorted&nbsp;UIElementCollection&lt;br&gt;---------------------------------------------------------------------------&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;br&gt;And&nbsp;when&nbsp;using&nbsp;app,&nbsp;I&nbsp;get&nbsp;hundreds&nbsp;of&nbsp;these&nbsp;exceptions&nbsp;even&nbsp;on&nbsp;very&nbsp;short&nbsp;run:&lt;br&gt;---------------------------------------------------------------------------&lt;br&gt;&quot;Finalizer&quot;&nbsp;tid=0x0xb31c8b70&nbsp;this=0x0x57e70&nbsp;thread&nbsp;handle&nbsp;0x407&nbsp;state&nbsp;:&nbsp;not&nbsp;waiting&lt;br&gt;<br>
 owns&nbsp;()&lt;br&gt; &nbsp;at&nbsp;&lt;unknown&gt;&nbsp;&lt;0xffffffff&gt;&lt;br&gt; &nbsp;at&nbsp;(wrapper&nbsp;runtime-invoke)&nbsp;object.runtime_invoke_virtual_void__this__&nbsp;(object,in&lt;br&gt;tptr,intptr,intptr)&nbsp;&lt;IL&nbsp;0x0004c,&nbsp;0xffffffff&gt;&lt;br&gt;[0xb31c8b70:]&nbsp;EXCEPTION&nbsp;handling:&nbsp;System.MethodAccessException:&nbsp;Error&nbsp;verifying&nbsp;&lt;br&gt;<br>
XXX.Windows.Controls.GridView.GridViewCellBase:Finalize&nbsp;():&nbsp;Method&nbsp;object:Finalize&lt;br&gt; ()&nbsp;is&nbsp;not&nbsp;accessible&nbsp;at&nbsp;0x001e&lt;br&gt;&lt;br&gt;&quot;Finalizer&quot;&nbsp;tid=0x0xb31c8b70&nbsp;this=0x0x57e70&nbsp;thread&nbsp;handle&nbsp;0x407&nbsp;state&nbsp;:&nbsp;not&nbsp;waiting&lt;br&gt;<br>
 owns&nbsp;()&lt;br&gt; &nbsp;at&nbsp;&lt;unknown&gt;&nbsp;&lt;0xffffffff&gt;&lt;br&gt; &nbsp;at&nbsp;(wrapper&nbsp;runtime-invoke)&nbsp;object.runtime_invoke_virtual_void__this__&nbsp;(object,in&lt;br&gt;tptr,intptr,intptr)&nbsp;&lt;IL&nbsp;0x0004c,&nbsp;0xffffffff&gt;&lt;br&gt;[0xb31c8b70:]&nbsp;EXCEPTION&nbsp;handling:&nbsp;System.MethodAccessException:&nbsp;Error&nbsp;verifying&nbsp;XXX.Windows.Controls.GridView.WeakEvent/WeakListener`1:Finalize&nbsp;():&nbsp;Method&nbsp;object:&lt;br&gt;<br>
Finalize&nbsp;()&nbsp;is&nbsp;not&nbsp;accessible&nbsp;at&nbsp;0x0005&lt;br&gt;---------------------------------------------------------------------------&lt;br&gt;<br>
&lt;br&gt;I&nbsp;have&nbsp;also&nbsp;been&nbsp;running&nbsp;profiler&nbsp;on&nbsp;that&nbsp;app,&nbsp;and&nbsp;part&nbsp;of&nbsp;the&nbsp;problem&nbsp;might&nbsp;be&nbsp;too&nbsp;many&nbsp;calls&nbsp;to&nbsp;MeasureOveride.&lt;br&gt;However,&nbsp;this&nbsp;seems&nbsp;not&nbsp;to&nbsp;be&nbsp;problem&nbsp;on&nbsp;windows&nbsp;platform,&nbsp;or&nbsp;at&nbsp;least&nbsp;show&nbsp;stopper.&lt;br&gt;&lt;br&gt;Because&nbsp;we&nbsp;use&nbsp;those&nbsp;custom&nbsp;controls&nbsp;from&nbsp;third&nbsp;party,&nbsp;I&nbsp;cannot&nbsp;give&nbsp;public&nbsp;access&nbsp;to&nbsp;that&nbsp;app,&nbsp;&lt;br&gt;<br>
but&nbsp;i&nbsp;someone&nbsp;wants&nbsp;to&nbsp;test&nbsp;I&nbsp;can&nbsp;give&nbsp;URL&nbsp;personally.&lt;br&gt;&lt;br&gt;Ideas&nbsp;welcome&nbsp;from&nbsp;where&nbsp;to&nbsp;start&nbsp;digging&nbsp;up&nbsp;this&nbsp;problem&nbsp;in&nbsp;mono/moonlight&nbsp;side?&lt;br&gt;&lt;br&gt;--Tavasti&lt;br&gt;&lt;br&gt;<br>

</tt>
