<tt>
I&nbsp;am&nbsp;compiling&nbsp;an&nbsp;application&nbsp;against&nbsp;the&nbsp;Mono&nbsp;embedding&nbsp;API,&nbsp;version&nbsp;1.2.6.&nbsp;All&nbsp;is&nbsp;wonderful,&nbsp;except&nbsp;I&nbsp;cannot&nbsp;link&nbsp;successfully&nbsp;when&nbsp;I&nbsp;try&nbsp;to&nbsp;compile&nbsp;against&nbsp;mono_config_parse(const&nbsp;char*).&nbsp;The&nbsp;mono.lib&nbsp;which&nbsp;was&nbsp;nicely&nbsp;supplied&nbsp;to&nbsp;me&nbsp;on&nbsp;this&nbsp;mailing&nbsp;list&nbsp;some&nbsp;months&nbsp;ago&nbsp;claims&nbsp;that&nbsp;the&nbsp;function&nbsp;is&nbsp;exported&nbsp;by&nbsp;mono.dll.&nbsp;Running&nbsp;dumpbin&nbsp;/exports&nbsp;mono.dll&nbsp;also&nbsp;shows&nbsp;mono_config_parse&nbsp;as&nbsp;an&nbsp;entry&nbsp;point&nbsp;in&nbsp;the&nbsp;DLL,&nbsp;yet&nbsp;I&nbsp;get&nbsp;the&nbsp;following&nbsp;error&nbsp;from&nbsp;MSVC&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;div&nbsp;style=&quot;margin-left:&nbsp;40px;&quot;&gt;error&nbsp;LNK2019:&nbsp;unresolved&nbsp;external&nbsp;symbol&nbsp;&amp;quot;void&nbsp;__cdecl&nbsp;mono_config_parse(char&nbsp;const&nbsp;*)&amp;quot;&nbsp;(?mono_config_parse@@YAXPBD@Z)&nbsp;referenced&nbsp;in&nbsp;function&nbsp;&amp;quot;public:&nbsp;__thiscall&nbsp;MonoEmbed::MonoEmbed(class&nbsp;std::basic_string&amp;lt;char,struct&nbsp;std::char_traits&amp;lt;char&amp;gt;,class&nbsp;std::allocator&amp;lt;char&amp;gt;&nbsp;&amp;gt;)&amp;quot;&nbsp;(??0MonoEmbed@@QAE@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z)&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;br&gt;I&nbsp;believe&nbsp;this&nbsp;is&nbsp;because&nbsp;the&nbsp;relevant&nbsp;declarations&nbsp;are&nbsp;not&nbsp;marked&nbsp;extern&nbsp;&amp;quot;C&amp;quot;.&nbsp;Doing&nbsp;so&nbsp;(by&nbsp;adding&nbsp;G_BEGIN_DECLS&nbsp;and&nbsp;G_END_DECLS&nbsp;to&nbsp;&amp;lt;mono/metadata/mono-config.h&amp;gt;)&nbsp;makes&nbsp;the&nbsp;link&nbsp;on&nbsp;Windows&nbsp;successful.&nbsp;It&nbsp;still&nbsp;fails&nbsp;under&nbsp;Linux&nbsp;(see&nbsp;below).&lt;br&gt;<br>
<br>
&lt;br&gt;However&nbsp;actually&nbsp;executing&nbsp;mono_config_parse(NULL)&nbsp;blows&nbsp;the&nbsp;executable&nbsp;out&nbsp;of&nbsp;the&nbsp;water,&nbsp;when&nbsp;executing&nbsp;under&nbsp;Windows.&nbsp;The&nbsp;call&nbsp;is&lt;br&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;margin-left:&nbsp;40px;&quot;&gt;mono_set_dirs((monoPath&nbsp;+&nbsp;&amp;quot;/lib&amp;quot;).c_str(),&nbsp;(monoPath&nbsp;+&nbsp;&amp;quot;/etc&amp;quot;).c_str());&lt;br&gt;<br>
<br>
mono_config_parse(NULL);&lt;br&gt;&lt;br&gt;&lt;/div&gt;and&nbsp;the&nbsp;exception/stacktrace&nbsp;is&lt;br&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;margin-left:&nbsp;40px;&quot;&gt;Unhandled&nbsp;exception&nbsp;at&nbsp;0x7c918fea&nbsp;in&nbsp;DataAccessCApiTest.exe:&nbsp;0xC0000005:&nbsp;Access&nbsp;violation&nbsp;writing&nbsp;location&nbsp;0x00000010&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ntdll.dll!7c918fea()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;[Frames&nbsp;below&nbsp;may&nbsp;be&nbsp;incorrect&nbsp;and/or&nbsp;missing,&nbsp;no&nbsp;symbols&nbsp;loaded&nbsp;for&nbsp;ntdll.dll]&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ntdll.dll!7c9106eb()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;msvcrt.dll!77c2c3c9()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;msvcrt.dll!77c2c3ce()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;msvcrt.dll!77c2c3ce()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;msvcrt.dll!77c2c3e7()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ntdll.dll!7c90104b()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;mono.dll!68fb5692()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;mono.dll!68fb5879()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;mono.dll!68fb3ee2()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;libglib-2.0-0.dll!672e1474()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;libglib-2.0-0.dll!672e290f()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ntdll.dll!7c9106eb()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;msvcrt.dll!77c2c3c9()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;msvcrt.dll!77c2c3ce()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;msvcrt.dll!77c2c42e()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;libglib-2.0-0.dll!672e4179()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;libglib-2.0-0.dll!672d2437()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;libglib-2.0-0.dll!672e04de()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;mono.dll!68fb4113()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;msvcrt.dll!77c36d37()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;libglib-2.0-0.dll!672d00b0()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;mono.dll!68fb4230()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;mono.dll!68fb42ae()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;mono.dll!68fb4404()&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&lt;br&gt;&lt;/div&gt;So&nbsp;of&nbsp;course&nbsp;this&nbsp;means&nbsp;re-building&nbsp;Mono.&nbsp;Once&nbsp;that&amp;#39;s&nbsp;done,&nbsp;everything&nbsp;works.&lt;br&gt;&lt;br&gt;There&nbsp;are&nbsp;a&nbsp;raft&nbsp;of&nbsp;problems&nbsp;with&nbsp;the&nbsp;embedding&nbsp;APIs&nbsp;that&nbsp;require&nbsp;many&nbsp;manual&nbsp;changes&nbsp;to&nbsp;get&nbsp;them&nbsp;to&nbsp;work.&nbsp;Have&nbsp;these&nbsp;been&nbsp;fixed&nbsp;in&nbsp;newer&nbsp;code&nbsp;drops?&nbsp;Specifically,&nbsp;there&nbsp;are&nbsp;edits&nbsp;to&nbsp;threads.h&nbsp;and&nbsp;of&nbsp;course&nbsp;the&nbsp;above.&lt;br&gt;<br>
&lt;br&gt;Many&nbsp;thanks&nbsp;--&nbsp;I&nbsp;hope&nbsp;this&nbsp;is&nbsp;helpful.&lt;br&gt;&lt;br&gt;-&nbsp;Sebastian&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;<br>

</tt>
