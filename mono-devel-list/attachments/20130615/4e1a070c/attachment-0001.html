<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&#39;ve&nbsp;been&nbsp;trying&nbsp;to&nbsp;port&nbsp;the&nbsp;F#&nbsp;Interactive&nbsp;to&nbsp;run&nbsp;directly&nbsp;on&nbsp;android.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;I&nbsp;have&nbsp;a&nbsp;package&nbsp;that&nbsp;loads&nbsp;under&nbsp;android&nbsp;and&nbsp;can&nbsp;generate&nbsp;IL&nbsp;but&nbsp;it&nbsp;fails&nbsp;with&nbsp;an&nbsp;assertion&nbsp;(presumable&nbsp;in&nbsp;the&nbsp;JIT&nbsp;compiler,&nbsp;but&nbsp;I&#39;m&nbsp;not&nbsp;100%&nbsp;sure).&lt;/div&gt;<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;The&nbsp;app&nbsp;source&nbsp;can&nbsp;be&nbsp;found&nbsp;here:&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;a&nbsp;href=&quot;https://github.com/robertpi/fsiandroid&quot;&gt;https://github.com/robertpi/fsiandroid&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;You&nbsp;need&nbsp;the&nbsp;latest&nbsp;Xamarian&nbsp;Studio&nbsp;updates&nbsp;from&nbsp;beta&nbsp;channel&nbsp;to&nbsp;build&nbsp;and&nbsp;run&nbsp;it.&nbsp;You&nbsp;always&nbsp;need&nbsp;a&nbsp;new&nbsp;line&nbsp;the&nbsp;program&nbsp;you&nbsp;enter,&nbsp;or&nbsp;the&nbsp;compiler&nbsp;refuses&nbsp;to&nbsp;run&nbsp;(not&nbsp;sure&nbsp;why).&nbsp;I&#39;ve&nbsp;been&nbsp;testing&nbsp;with&nbsp;the&nbsp;following&nbsp;snippet:&lt;/div&gt;<br>
&lt;div&nbsp;style&gt;&quot;let&nbsp;x&nbsp;=&nbsp;&quot;&quot;&lt;/div&gt;&lt;div&nbsp;style&gt;&quot;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;I&nbsp;seem&nbsp;to&nbsp;have&nbsp;enter&nbsp;the&nbsp;program&nbsp;twice&nbsp;before&nbsp;it&nbsp;compiles&nbsp;and&nbsp;executes,&nbsp;not&nbsp;sure&nbsp;why,&nbsp;working&nbsp;on&nbsp;finding&nbsp;this&nbsp;out&nbsp;myself.&lt;/div&gt;<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;I&nbsp;tried&nbsp;grab&nbsp;the&nbsp;IL&nbsp;code&nbsp;generated,&nbsp;but&nbsp;for&nbsp;some&nbsp;reason&nbsp;it&nbsp;always&nbsp;gets&nbsp;truncated&nbsp;in&nbsp;the&nbsp;log.&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;The&nbsp;program&nbsp;fails&nbsp;with&nbsp;the&nbsp;following&nbsp;stack&nbsp;trace:&lt;/div&gt;&lt;div&nbsp;style&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.666&nbsp;F/&nbsp; &nbsp; &nbsp; &nbsp; (&nbsp;5381):&nbsp;*&nbsp;Assertion:&nbsp;should&nbsp;not&nbsp;be&nbsp;reached&nbsp;at&nbsp;/Users/builder/data/lanes/monodroid-mlion-master/f6831347/source/mono/mono/mini/mini-arm.c:3599&lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.666&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp;Stacktrace:&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.666&nbsp;E/mono-rt&nbsp;(&nbsp;5381): &lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.666&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;&lt;unknown&gt;&nbsp;&lt;0xffffffff&gt;&lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.666&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/FsiDynamicCompiler.ProcessInputs&nbsp;(Microsoft.FSharp.Compiler.Interactive.Shell/FsiDynamicCompilerState,Microsoft.FSharp.Collections.FSharpList`1&lt;Microsoft.FSharp.Compiler.Ast/ParsedInput&gt;,bool,bool,bool,Microsoft.FSharp.Collections.FSharpList`1&lt;Microsoft.FSharp.Compiler.Ast/Ident&gt;)&nbsp;[0x005d7]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:1000&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.676&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/FsiDynamicCompiler.EvalParsedDefinitions&nbsp;(Microsoft.FSharp.Compiler.Interactive.Shell/FsiDynamicCompilerState,bool,bool,Microsoft.FSharp.Collections.FSharpList`1&lt;Microsoft.FSharp.Compiler.Ast/SynModuleDecl&gt;)&nbsp;[0x0006a]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:1042&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.676&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/clo@1714-498.Invoke&nbsp;(Microsoft.FSharp.Compiler.Interactive.Shell/FsiDynamicCompilerState)&nbsp;[0x0061c]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:1721&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.676&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/FsiInteractionProcessor.InteractiveCatch&lt;a&gt;&nbsp;(Microsoft.FSharp.Core.FSharpFunc`2&lt;a,&nbsp;System.Tuple`2&lt;a,&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/FsiInteractionStepStatus&gt;&gt;,a)&nbsp;[0x0000e]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:1667&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.686&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/FsiInteractionProcessor.ExecInteraction&nbsp;(bool,Microsoft.FSharp.Compiler.Build/TcConfig,Microsoft.FSharp.Compiler.Interactive.Shell/FsiDynamicCompilerState,Microsoft.FSharp.Compiler.Ast/ParsedFsiInteraction)&nbsp;[0x00000]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:1714&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.686&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/FsiInteractionProcessor.ExecInteractions&nbsp;(bool,Microsoft.FSharp.Compiler.Build/TcConfig,Microsoft.FSharp.Compiler.Interactive.Shell/FsiDynamicCompilerState,Microsoft.FSharp.Core.FSharpOption`1&lt;Microsoft.FSharp.Compiler.Ast/ParsedFsiInteraction&gt;)&nbsp;[0x00231]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:1830&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.686&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/FsiInteractionProcessor.MainThreadProcessParsedInteraction&nbsp;(bool,Microsoft.FSharp.Core.FSharpOption`1&lt;Microsoft.FSharp.Compiler.Ast/ParsedFsiInteraction&gt;,Microsoft.FSharp.Compiler.Interactive.Shell/FsiDynamicCompilerState)&nbsp;[0x0004f]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:1853&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.686&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/res@1915-17.Invoke&nbsp;(Microsoft.FSharp.Compiler.Interactive.Shell/FsiDynamicCompilerState)&nbsp;[0x00000]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:1915&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.696&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/runCodeOnMainThread@2165-1.Invoke&nbsp;(Microsoft.FSharp.Core.Unit)&nbsp;[0x00019]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:2168&lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.706&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;&lt;StartupCode$FSharp-Compiler-Mono-Android&gt;.$Fsiaux/Microsoft-FSharp-Compiler-Interactive-IEventLoop-Invoke@58-1.Invoke&nbsp;(Microsoft.FSharp.Core.Unit)&nbsp;[0x00000]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsiaux.fs:58&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.706&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;&lt;StartupCode$FSharp-Compiler-Mono-Android&gt;.$Fsiaux/run@49-6.Invoke&nbsp;(Microsoft.FSharp.Core.FSharpFunc`2&lt;Microsoft.FSharp.Core.Unit,&nbsp;object&gt;)&nbsp;[0x0000d]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsiaux.fs:49&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.706&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Primitives.Basics.List.iter&lt;T&gt;&nbsp;(Microsoft.FSharp.Core.FSharpFunc`2&lt;T,&nbsp;Microsoft.FSharp.Core.Unit&gt;,Microsoft.FSharp.Collections.FSharpList`1&lt;T&gt;)&nbsp;&lt;IL&nbsp;0x0001b,&nbsp;0x000e7&gt;&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.706&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Collections.ListModule.Iterate&lt;T&gt;&nbsp;(Microsoft.FSharp.Core.FSharpFunc`2&lt;T,&nbsp;Microsoft.FSharp.Core.Unit&gt;,Microsoft.FSharp.Collections.FSharpList`1&lt;T&gt;)&nbsp;&lt;IL&nbsp;0x00003,&nbsp;0x0007f&gt;&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.706&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;&lt;StartupCode$FSharp-Compiler-Mono-Android&gt;.$Fsiaux/run@47-2.Invoke&nbsp;(Microsoft.FSharp.Core.Unit)&nbsp;[0x00043]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsiaux.fs:49&lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.706&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.SimpleEventLoop.Microsoft-FSharp-Compiler-Interactive-IEventLoop-Run&nbsp;()&nbsp;[0x0000e]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsiaux.fs:46&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.706&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/runLoop@2221.Invoke&nbsp;(Microsoft.FSharp.Core.Unit)&nbsp;[0x00061]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:2226&lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.716&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell.DriveFsiEventLoop&nbsp;(Microsoft.FSharp.Compiler.Interactive.Shell/FsiConsoleOutput)&nbsp;[0x00000]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:2220&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.716&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Compiler.Interactive.Shell/FsiEvaluationSession.Run&nbsp;()&nbsp;[0x00088]&nbsp;in&nbsp;C:\code\fsharp\src\fsharp\fsi\fsi.fs:2473&lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.726&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;&lt;StartupCode$FSInteractiveAndroid&gt;.$MainActivity/OnCreate@49.Invoke&nbsp;(Microsoft.FSharp.Core.Unit)&nbsp;[0x00000]&nbsp;in&nbsp;C:\code\FSIAndroid\FSInteractiveAndroid\MainActivity.fs:49&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.726&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Control.AsyncBuilderImpl/callA@780.Invoke&nbsp;(Microsoft.FSharp.Control.AsyncParams`1&lt;b&gt;)&nbsp;&lt;IL&nbsp;0x00053,&nbsp;0x0022b&gt;&lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.726&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Control.AsyncBuilderImpl/queueAsync@702.Invoke&nbsp;(Microsoft.FSharp.Core.Unit)&nbsp;&lt;IL&nbsp;0x00036,&nbsp;0x00113&gt;&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.736&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;&lt;StartupCode$FSharp-Core&gt;.$Control.loop@429-40&nbsp;(Microsoft.FSharp.Control.Trampoline,Microsoft.FSharp.Core.FSharpFunc`2&lt;Microsoft.FSharp.Core.Unit,&nbsp;Microsoft.FSharp.Control.FakeUnitValue&gt;)&nbsp;&lt;IL&nbsp;0x00003,&nbsp;0x00073&gt;&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Control.Trampoline.ExecuteAction&nbsp;(Microsoft.FSharp.Core.FSharpFunc`2&lt;Microsoft.FSharp.Core.Unit,&nbsp;Microsoft.FSharp.Control.FakeUnitValue&gt;)&nbsp;&lt;IL&nbsp;0x0001a,&nbsp;0x00177&gt;&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;Microsoft.FSharp.Control.TrampolineHolder.Protect&nbsp;(Microsoft.FSharp.Core.FSharpFunc`2&lt;Microsoft.FSharp.Core.Unit,&nbsp;Microsoft.FSharp.Control.FakeUnitValue&gt;)&nbsp;&lt;IL&nbsp;0x00039,&nbsp;0x0018b&gt;&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;&lt;StartupCode$FSharp-Core&gt;.$Control/-ctor@486-1.Invoke&nbsp;(object)&nbsp;&lt;IL&nbsp;0x00019,&nbsp;0x000d7&gt;&lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp; &nbsp;at&nbsp;(wrapper&nbsp;runtime-invoke)&nbsp;&lt;Module&gt;.runtime_invoke_void__this___object&nbsp;(object,intptr,intptr,intptr)&nbsp;&lt;IL&nbsp;0x00052,&nbsp;0xffffffff&gt;&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381): &lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp;=================================================================&lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp;Got&nbsp;a&nbsp;SIGSEGV&nbsp;while&nbsp;executing&nbsp;native&nbsp;code.&nbsp;This&nbsp;usually&nbsp;indicates&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp;a&nbsp;fatal&nbsp;error&nbsp;in&nbsp;the&nbsp;mono&nbsp;runtime&nbsp;or&nbsp;one&nbsp;of&nbsp;the&nbsp;native&nbsp;libraries &lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp;used&nbsp;by&nbsp;your&nbsp;application.&lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381):&nbsp;=================================================================&lt;/div&gt;<br>
&lt;div&gt;06-15&nbsp;12:22:33.746&nbsp;E/mono-rt&nbsp;(&nbsp;5381): &lt;/div&gt;&lt;div&gt;06-15&nbsp;12:22:33.886&nbsp;D/Zygote&nbsp; (&nbsp; &nbsp;36):&nbsp;Process&nbsp;5381&nbsp;exited&nbsp;cleanly&nbsp;(255)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;I&#39;ve&nbsp;tried&nbsp;checking&nbsp;out&nbsp;mini-arm.c:3599,&nbsp;but&nbsp;it&nbsp;currently&nbsp;seems&nbsp;to&nbsp;be&nbsp;a&nbsp;comment.&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;how&nbsp;you&nbsp;find&nbsp;the&nbsp;source&nbsp;for&nbsp;the&nbsp;version&nbsp;of&nbsp;Mono&nbsp;that&nbsp;Android&nbsp;is&nbsp;running&nbsp;on.&nbsp;Any&nbsp;help&nbsp;fixing&nbsp;this&nbsp;greatly&nbsp;appreciated.&lt;/div&gt;<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;Many&nbsp;thanks,&lt;/div&gt;&lt;div&nbsp;style&gt;Robert&lt;/div&gt;&lt;/div&gt;<br>

</tt>
