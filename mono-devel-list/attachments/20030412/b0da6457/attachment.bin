Index: FileStream.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/System.IO/FileStream.cs,v
retrieving revision 1.32
diff -u -r1.32 FileStream.cs
--- FileStream.cs	11 Apr 2003 13:16:00 -0000	1.32
+++ FileStream.cs	11 Apr 2003 19:18:01 -0000
@@ -82,6 +82,16 @@
 			if (Directory.Exists (name)) {
 				throw new UnauthorizedAccessException ("Access to the path '" + Path.GetFullPath (name) + "' is denied.");
 			}
+			
+			if ((share & FileShare.Inheritable) == FileShare.Inheritable) {
+				throw new ArgumentOutOfRangeException ("Enum value was out of range");
+			}
+
+			// Check file access and filemode compinations
+			if (access == FileAccess.Read) {
+				if (mode == FileMode.CreateNew || mode == FileMode.Truncate || mode == FileMode.Append)
+					throw new ArgumentException ("Compining FileMode: " + mode + " with FileAccess: " + access + " is invalid");
+			}
 
 			/* Append streams can't be read (see FileMode
 			 * docs)
