<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Tahoma<br>
}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;<br>
Ho&nbsp;Robert,&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;created&nbsp;a&nbsp;bug&nbsp;report&nbsp;at&nbsp;http://bugzilla.xamarin.com/show_bug.cgi?id=2119.&lt;br&gt;&lt;br&gt;&lt;br&gt;Martin&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&amp;gt;&nbsp;To:&nbsp;mono-devel-list@lists.ximian.com&lt;br&gt;&amp;gt;&nbsp;From:&nbsp;robertj@gmx.net&lt;br&gt;&amp;gt;&nbsp;Date:&nbsp;Wed,&nbsp;9&nbsp;Nov&nbsp;2011&nbsp;18:52:26&nbsp;+0100&lt;br&gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[Mono-dev]&nbsp;Environment.GetEnvironmentVariable()&nbsp;not&nbsp;working&nbsp;in&nbsp;Linux&nbsp;ASP.NET&nbsp;app&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Hi&nbsp;Martin,&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;please&nbsp;file&nbsp;a&nbsp;bug&nbsp;against&nbsp;MD's&nbsp;bugzilla.&nbsp;IIRC,&nbsp;MD&nbsp;has&nbsp;an&nbsp;integrated&lt;br&gt;&amp;gt;&nbsp;bug&nbsp;reporting&nbsp;feature.&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;Robert&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;On&nbsp;09.11.2011&nbsp;18:36,&nbsp;H&nbsp;.&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Hi&nbsp;Robert,&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;your&nbsp;suggestion&nbsp;is&nbsp;correct.&nbsp;It's&nbsp;not&nbsp;a&nbsp;problem&nbsp;of&nbsp;Mono&nbsp;itself&nbsp;but&nbsp;rather&nbsp;a&nbsp;problem&nbsp;with&nbsp;MonoDevelop's&nbsp;debugging&nbsp;session.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;have&nbsp;extended&nbsp;my&nbsp;web&nbsp;app&nbsp;with&nbsp;two&nbsp;TextBoxes&nbsp;which&nbsp;are&nbsp;used&nbsp;to&nbsp;display&nbsp;the&nbsp;contents&nbsp;of&nbsp;http_proxy&nbsp;and&nbsp;no_proxy.&nbsp;When&nbsp;running&nbsp;the&nbsp;app&nbsp;from&nbsp;within&nbsp;MonoDevelop&nbsp;the&nbsp;TextBox&nbsp;associated&nbsp;with&nbsp;the&nbsp;no_proxy&nbsp;value&nbsp;is&nbsp;empty.&nbsp;However,&nbsp;if&nbsp;I&nbsp;start&nbsp;xsp2&nbsp;from&nbsp;the&nbsp;command&nbsp;line,&nbsp;both&nbsp;TextBoxes&nbsp;are&nbsp;displaying&nbsp;the&nbsp;expected&nbsp;values.&nbsp;I&nbsp;have&nbsp;always&nbsp;used&nbsp;the&nbsp;Debug&nbsp;build&nbsp;option.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;MonoDevelop&nbsp;is&nbsp;not&nbsp;fully&nbsp;resetting&nbsp;the&nbsp;environment&nbsp;for&nbsp;debugging&nbsp;sessions.&nbsp;But&nbsp;it&nbsp;definitly&nbsp;&quot;resets&quot;&nbsp;the&nbsp;no_proxy&nbsp;variable.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;This&nbsp;is&nbsp;a&nbsp;very&nbsp;confusing&nbsp;and&nbsp;difficult&nbsp;to&nbsp;track&nbsp;down&nbsp;problem.&nbsp;It&nbsp;is&nbsp;especially&nbsp;annoying&nbsp;when&nbsp;trying&nbsp;to&nbsp;debug&nbsp;the&nbsp;new&nbsp;proxy&nbsp;support&nbsp;in&nbsp;Mono/master&nbsp;that&nbsp;I&nbsp;have&nbsp;added&nbsp;within&nbsp;the&nbsp;last&nbsp;months.&nbsp;It&nbsp;also&nbsp;means,&nbsp;that&nbsp;web&nbsp;apps&nbsp;which&nbsp;are&nbsp;using&nbsp;WebClient&nbsp;and&nbsp;it's&nbsp;proxy&nbsp;support&nbsp;will&nbsp;not&nbsp;work&nbsp;as&nbsp;expected&nbsp;within&nbsp;a&nbsp;debugging&nbsp;session&nbsp;of&nbsp;MonoDevelop.&nbsp;Maybe&nbsp;someone&nbsp;that&nbsp;knows&nbsp;more&nbsp;about&nbsp;the&nbsp;internals&nbsp;of&nbsp;MonoDevelop&nbsp;can&nbsp;fix&nbsp;this&nbsp;problem.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Greetings,&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Martin&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;To:&nbsp;mono-devel-list@lists.ximian.com&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;From:&nbsp;robertj@gmx.net&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;Date:&nbsp;Wed,&nbsp;9&nbsp;Nov&nbsp;2011&nbsp;15:17:36&nbsp;+0100&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[Mono-dev]&nbsp;Environment.GetEnvironmentVariable()&nbsp;not&nbsp;working&nbsp;in&nbsp;Linux&nbsp;ASP.NET&nbsp;app&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;On&nbsp;09.11.2011&nbsp;13:51,&nbsp;H&nbsp;.&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;Hi&nbsp;Robert,&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;have&nbsp;now&nbsp;debugged&nbsp;the&nbsp;issue&nbsp;using&nbsp;Ubuntu&nbsp;Maverick/&nbsp;32&nbsp;bit.&nbsp;I&nbsp;did&nbsp;the&nbsp;following:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;(1)&nbsp;Configure&nbsp;system&nbsp;proxy&nbsp;settings&nbsp;and&nbsp;reboot&nbsp;machine&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;(2)&nbsp;In&nbsp;terminal&nbsp;&quot;echo&nbsp;$http_proxy&quot;&nbsp;returns&nbsp;&quot;http://http.proxy:8080/&quot;;&nbsp;&quot;echo&nbsp;$no_proxy&quot;&nbsp;returns&nbsp;&quot;localhost,127.0.0.0/8,*.local&quot;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;(3)&nbsp;Created&nbsp;an&nbsp;ASP.NET&nbsp;project&nbsp;in&nbsp;MonoDevelop&nbsp;and&nbsp;entered&nbsp;the&nbsp;following&nbsp;code&nbsp;in&nbsp;Default.aspx.cs&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;void&nbsp;Page_Load(object&nbsp;Sender,&nbsp;EventArgs&nbsp;e)&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;str1=Environment.GetEnvironmentVariable(&quot;http_proxy&quot;);&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;str2=Environment.GetEnvironmentVariable(&quot;no_proxy&quot;);&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;strBreak=&quot;stop&quot;;//put&nbsp;breakpoint&nbsp;at&nbsp;this&nbsp;line&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;(4)&nbsp;After&nbsp;pressing&nbsp;F5,&nbsp;we&nbsp;can&nbsp;see&nbsp;that&nbsp;str1&nbsp;contains&nbsp;it's&nbsp;expected&nbsp;value&nbsp;while&nbsp;str2&nbsp;is&nbsp;null&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;One&nbsp;more&nbsp;eventuality:&nbsp;Maybe&nbsp;MonoDevelop&nbsp;is&nbsp;resetting&nbsp;the&nbsp;environment&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;while&nbsp;invoking&nbsp;XSP&nbsp;in&nbsp;debug&nbsp;mode.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;You&nbsp;can&nbsp;check&nbsp;this&nbsp;by&nbsp;manually&nbsp;invoking&nbsp;XSP&nbsp;from&nbsp;a&nbsp;terminal&nbsp;where&nbsp;you&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;know&nbsp;that&nbsp;this&nbsp;env&nbsp;var&nbsp;is&nbsp;set.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;Robert&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;Mono-devel-list@lists.ximian.com&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&nbsp;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Mono-devel-list@lists.ximian.com&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;Mono-devel-list@lists.ximian.com&lt;br&gt;&amp;gt;&nbsp;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
