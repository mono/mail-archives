// traps Ctrl+C
// To compile: mcs -r:Mono.Posix ctrlc.cs
using System;
using System.Threading;
using Mono.Unix.Native;

class Test {
	static volatile bool ctrl_c_pressed;

	static void handler (int sig)
	{
		ctrl_c_pressed = true;
	}

	public static void Main ()
	{
		Stdlib.signal (Signum.SIGINT, handler);

		Console.WriteLine ("Press Ctrl+C to terminate app.");
		while (!ctrl_c_pressed) {
			Thread.Sleep (1);
		}
		Console.WriteLine ("Finished.");
	}
}

