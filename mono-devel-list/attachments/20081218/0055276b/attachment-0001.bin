Index: mono/mono/io-layer/ChangeLog
===================================================================
--- mono/mono/io-layer/ChangeLog	(revision 121809)
+++ mono/mono/io-layer/ChangeLog	(working copy)
@@ -1,3 +1,9 @@
+2008-12-18  Bill Holmes  <billholmes54@gmail.com>
+
+	* processes.c (get_module_name) : adjust size for unicode characters.
+
+	Code is contributed under MIT/X11 license.
+
 2008-11-21  Zoltan Varga  <vargaz@gmail.com>
 
 	* atomic.h: Applied patch from Mihai Chelaru <kefren@ngnetworks.ro>. Add
Index: mono/mono/io-layer/processes.c
===================================================================
--- mono/mono/io-layer/processes.c	(revision 121809)
+++ mono/mono/io-layer/processes.c	(working copy)
@@ -1993,6 +1993,8 @@
 		   __func__, process, module);
 #endif
 
+	size = size*sizeof(gunichar2); /* adjust for unicode characters */
+
 	if (basename == NULL || size == 0) {
 		return(0);
 	}