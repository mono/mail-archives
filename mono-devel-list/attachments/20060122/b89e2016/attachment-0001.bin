using System;
using System.Globalization;

public class DateTimeParseTest
{
	private static readonly string TimeToParse = "2005-05-08 15:33:02";
	private static readonly CultureInfo en_US = new CultureInfo("en-US");

	public static void Main()
	{
		DateTime parse_start = DateTime.Now;
		int iterations = 150000;

		for(int i = 0; i < iterations; i++) {
			DateTime.ParseExact(TimeToParse, "yyyy-MM-dd HH:mm:ss", en_US);
		}

		TimeSpan parse_exact_duration = DateTime.Now - parse_start;

		parse_start = DateTime.Now;

		for(int i = 0; i < iterations; i++) {
			DateTime.Parse(TimeToParse);
		}

		TimeSpan parse_duration = DateTime.Now - parse_start;

		Console.WriteLine("ParseExact: {0} sec. / {1} iters. ({2} sec./iter.)",
			parse_exact_duration.TotalSeconds, iterations, 
			parse_exact_duration.TotalSeconds / iterations);
			
		Console.WriteLine("Parse:      {0} sec. / {1} iters. ({2} sec./iter.)",
			parse_duration.TotalSeconds, iterations, 
			parse_duration.TotalSeconds / iterations);

		Console.WriteLine("ParseExact is {0} times faster than Parse",
			parse_duration.TotalSeconds / parse_exact_duration.TotalSeconds);
	}
}

