<tt>
Last&nbsp;change:&lt;br&gt;&lt;br&gt;[mono]&nbsp;~/workspace/mono&nbsp;@&nbsp;git&nbsp;log&nbsp;| &nbsp;head&lt;br&gt;commit&nbsp;f886d89ef7a7be1195300dd7a23349ee4d3d7b85&lt;br&gt;Author:&nbsp;Zoltan&nbsp;Varga&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:vargaz@gmail.com&quot;&gt;vargaz@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;Date:  &nbsp;Fri&nbsp;Nov&nbsp;5&nbsp;19:10:07&nbsp;2010&nbsp;+0100&lt;br&gt;<br>
&lt;br&gt;   &nbsp;Enlarge&nbsp;try-finally&nbsp;blocks&nbsp;preceeded&nbsp;by&nbsp;a&nbsp;Monitor.Enter&nbsp;()&nbsp;call&nbsp;to&nbsp;include&nbsp;the&nbsp;call&nbsp;itself,&nbsp;to&nbsp;avoid&nbsp;races&nbsp;inherent&nbsp;in&nbsp;such&nbsp;code.&nbsp;Fixes&nbsp;#651546.&lt;br&gt;&lt;br&gt;Failing&nbsp;test&nbsp;(does&nbsp;not&nbsp;compile):&lt;br&gt;&lt;br&gt;make[7]:&nbsp;Entering&nbsp;directory&nbsp;`/home/skolima/workspace/mono/mcs/class/System.Runtime.Caching&amp;#39;&lt;br&gt;<br>
make&nbsp;test-local&lt;br&gt;make[8]:&nbsp;Entering&nbsp;directory&nbsp;`/home/skolima/workspace/mono/mcs/class/System.Runtime.Caching&amp;#39;&lt;br&gt;MCS    &nbsp;[net_4_0]&nbsp;System.Runtime.Caching_test_net_4_0.dll&lt;br&gt;Test/System.Runtime.Caching/HostFileChangeMonitorTest.cs(47,47):&nbsp;warning&nbsp;CS0219:&nbsp;The&nbsp;variable&nbsp;`monitor&amp;#39;&nbsp;is&nbsp;assigned&nbsp;but&nbsp;its&nbsp;value&nbsp;is&nbsp;never&nbsp;used&lt;br&gt;<br>
Test/System.Runtime.Caching/HostFileChangeMonitorTest.cs(139,47):&nbsp;warning&nbsp;CS0219:&nbsp;The&nbsp;variable&nbsp;`monitor&amp;#39;&nbsp;is&nbsp;assigned&nbsp;but&nbsp;its&nbsp;value&nbsp;is&nbsp;never&nbsp;used&lt;br&gt;Test/System.Runtime.Caching/HostFileChangeMonitorTest.cs(206,37):&nbsp;warning&nbsp;CS0168:&nbsp;The&nbsp;variable&nbsp;`monitor&amp;#39;&nbsp;is&nbsp;declared&nbsp;but&nbsp;never&nbsp;used&lt;br&gt;<br>
Test/System.Runtime.Caching/HostFileChangeMonitorTest.cs(228,37):&nbsp;warning&nbsp;CS0168:&nbsp;The&nbsp;variable&nbsp;`monitor&amp;#39;&nbsp;is&nbsp;declared&nbsp;but&nbsp;never&nbsp;used&lt;br&gt;Test/System.Runtime.Caching/HostFileChangeMonitorTest.cs(252,37):&nbsp;warning&nbsp;CS0168:&nbsp;The&nbsp;variable&nbsp;`monitor&amp;#39;&nbsp;is&nbsp;declared&nbsp;but&nbsp;never&nbsp;used&lt;br&gt;<br>
Test/System.Runtime.Caching/MemoryCacheTest.cs(47,37):&nbsp;warning&nbsp;CS0219:&nbsp;The&nbsp;variable&nbsp;`mc&amp;#39;&nbsp;is&nbsp;assigned&nbsp;but&nbsp;its&nbsp;value&nbsp;is&nbsp;never&nbsp;used&lt;br&gt;Test/System.Runtime.Caching/MemoryCacheTest.cs(203,40):&nbsp;warning&nbsp;CS0219:&nbsp;The&nbsp;variable&nbsp;`v&amp;#39;&nbsp;is&nbsp;assigned&nbsp;but&nbsp;its&nbsp;value&nbsp;is&nbsp;never&nbsp;used&lt;br&gt;<br>
Test/System.Runtime.Caching/MemoryCacheTest.cs(981,36):&nbsp;error&nbsp;CS0121:&nbsp;The&nbsp;call&nbsp;is&nbsp;ambiguous&nbsp;between&nbsp;the&nbsp;following&nbsp;methods&nbsp;or&nbsp;properties:&nbsp;`System.Runtime.Caching.ObjectCache.GetValues(System.Collections.Generic.IEnumerable&amp;lt;string&amp;gt;,&nbsp;string)&amp;#39;&nbsp;and&nbsp;`System.Runtime.Caching.ObjectCache.GetValues(string,&nbsp;params&nbsp;string[])&amp;#39;&lt;br&gt;<br>
/home/skolima/workspace/mono/mcs/class/lib/net_4_0/System.Runtime.Caching.dll&nbsp;(Location&nbsp;of&nbsp;the&nbsp;symbol&nbsp;related&nbsp;to&nbsp;previous&nbsp;error)&lt;br&gt;Test/System.Runtime.Caching/MemoryCacheTest.cs(1160,30):&nbsp;warning&nbsp;CS0219:&nbsp;The&nbsp;variable&nbsp;`onChangedCalled&amp;#39;&nbsp;is&nbsp;assigned&nbsp;but&nbsp;its&nbsp;value&nbsp;is&nbsp;never&nbsp;used&lt;br&gt;<br>
Test/System.Runtime.Caching/MemoryCacheTest.cs(1223,32):&nbsp;warning&nbsp;CS0219:&nbsp;The&nbsp;variable&nbsp;`value&amp;#39;&nbsp;is&nbsp;assigned&nbsp;but&nbsp;its&nbsp;value&nbsp;is&nbsp;never&nbsp;used&lt;br&gt;Compilation&nbsp;failed:&nbsp;1&nbsp;error(s),&nbsp;9&nbsp;warnings&lt;br&gt;make[8]:&nbsp;***&nbsp;[System.Runtime.Caching_test_net_4_0.dll]&nbsp;Error&nbsp;1&lt;br&gt;<br>
make[8]:&nbsp;Leaving&nbsp;directory&nbsp;`/home/skolima/workspace/mono/mcs/class/System.Runtime.Caching&amp;#39;&lt;br&gt;make[7]:&nbsp;***&nbsp;[do-test]&nbsp;Error&nbsp;2&lt;br&gt;make[7]:&nbsp;Leaving&nbsp;directory&nbsp;`/home/skolima/workspace/mono/mcs/class/System.Runtime.Caching&amp;#39;&lt;br&gt;<br>
make[6]:&nbsp;***&nbsp;[test-recursive]&nbsp;Error&nbsp;1&lt;br&gt;make[6]:&nbsp;Leaving&nbsp;directory&nbsp;`/home/skolima/workspace/mono/mcs/class&amp;#39;&lt;br&gt;make[5]:&nbsp;***&nbsp;[test-recursive]&nbsp;Error&nbsp;1&lt;br&gt;make[5]:&nbsp;Leaving&nbsp;directory&nbsp;`/home/skolima/workspace/mono/mcs&amp;#39;&lt;br&gt;<br>
make[4]:&nbsp;***&nbsp;[profile-do--net_4_0--test]&nbsp;Error&nbsp;2&lt;br&gt;make[4]:&nbsp;Leaving&nbsp;directory&nbsp;`/home/skolima/workspace/mono/mcs&amp;#39;&lt;br&gt;make[3]:&nbsp;***&nbsp;[profiles-do--test]&nbsp;Error&nbsp;2&lt;br&gt;make[3]:&nbsp;Leaving&nbsp;directory&nbsp;`/home/skolima/workspace/mono/mcs&amp;#39;&lt;br&gt;<br>
make[2]:&nbsp;***&nbsp;[mcs-do-test-profiles]&nbsp;Error&nbsp;2&lt;br&gt;make[2]:&nbsp;Leaving&nbsp;directory&nbsp;`/home/skolima/workspace/mono/runtime&amp;#39;&lt;br&gt;make[1]:&nbsp;***&nbsp;[check-am]&nbsp;Error&nbsp;2&lt;br&gt;make[1]:&nbsp;Leaving&nbsp;directory&nbsp;`/home/skolima/workspace/mono/runtime&amp;#39;&lt;br&gt;<br>
make:&nbsp;***&nbsp;[check-recursive]&nbsp;Error&nbsp;1&lt;br&gt;&lt;br&gt;<br>

</tt>
