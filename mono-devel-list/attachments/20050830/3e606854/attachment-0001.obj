Index: mcs/driver.cs
===================================================================
--- mcs/driver.cs	(revision 49152)
+++ mcs/driver.cs	(working copy)
@@ -429,6 +429,10 @@
 			while ((line = f.ReadLine ()) != null){
 				int t = line.Length;
 
+				// Line starting with # is a comment
+				if (line[0] == '#')
+					continue;
+
 				for (int i = 0; i < t; i++){
 					char c = line [i];
 					
@@ -1442,6 +1446,32 @@
 				}
 
 				CompileFiles (arg, false); 
+
+				if ((i + 1 == args.Length) && load_default_config) {
+					string rsp_file = null;
+					string[] rsp_args;
+
+					DefineDefaultConfig ();
+					load_default_config = false;
+
+					MethodInfo config = typeof (System.Environment).GetMethod ("GetMachineConfigPath",
+						BindingFlags.Static|BindingFlags.NonPublic);
+
+		                        if (config != null) { 
+				                rsp_file = (string) config.Invoke (null, null);
+						if (rsp_file != null) {
+							rsp_file = Path.GetDirectoryName(rsp_file) + Path.DirectorySeparatorChar + "mcs.rsp";
+						}
+					}
+
+					if (!File.Exists(rsp_file))
+						continue;
+
+					rsp_args = LoadArgs (rsp_file);
+					if (rsp_args != null) {
+						args = AddArgs (args, rsp_args);
+					}
+				}
 			}
 
 			ProcessFiles ();
@@ -1487,9 +1517,6 @@
 			if (RootContext.StdLib)
 				references.Insert (0, "mscorlib");
 
-			if (load_default_config)
-				DefineDefaultConfig ();
-
 			if (Report.Errors > 0){
 				return false;
 			}
