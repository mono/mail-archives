<tt>
Hi&nbsp;Martin,&lt;br&gt;&lt;br&gt;The&nbsp;attached&nbsp;patch&nbsp;fixes&nbsp;two&nbsp;memory&nbsp;leaks&nbsp;related&nbsp;to&nbsp;how&nbsp;mono-debug.c::find_method&nbsp;works.&lt;br&gt;&lt;br&gt;The&nbsp;patch&nbsp;moves&nbsp;mono_debug_free_method_jit_info&nbsp;from&nbsp;mini/debug-mini.c&nbsp;to&nbsp;metadata/mono-debug.c&nbsp;and&lt;br&gt;add&nbsp;it&nbsp;to&nbsp;the&nbsp;public&nbsp;API.&lt;br&gt;<br>
&lt;br&gt;The&nbsp;first&nbsp;memleak&nbsp;happens&nbsp;from&nbsp;ves_icall_System_Exception_get_trace&nbsp;which&nbsp;leaks&nbsp;memory&nbsp;every&nbsp;time&lt;br&gt;source/line&nbsp;info&nbsp;is&nbsp;extracted&nbsp;from&nbsp;debug&nbsp;info.&nbsp;The&nbsp;second&nbsp;happens&nbsp;debug-mini.c::mono_debug_print_vars&nbsp;when&nbsp;it&lt;br&gt;call&nbsp;mono_debug_find_method.&lt;br&gt;<br>
&lt;br&gt;The&nbsp;issue&nbsp;is&nbsp;that&nbsp;find_method&nbsp;returns&nbsp;a&nbsp;new&nbsp;malloc&amp;#39;ed&nbsp;struct&nbsp;and&nbsp;no&nbsp;code&nbsp;took&nbsp;care&nbsp;of&nbsp;free&amp;#39;ing&nbsp;that.&lt;br&gt;&lt;br&gt;Please&nbsp;review.&nbsp;I&nbsp;think&nbsp;this&nbsp;fix&nbsp;is&nbsp;very&nbsp;important&nbsp;to&nbsp;get&nbsp;into&nbsp;2.0&nbsp;as,&nbsp;for&nbsp;example,&nbsp;we&nbsp;leak&nbsp;125k&nbsp;on&nbsp;2.0&nbsp;System&nbsp;test&nbsp;suite&nbsp;just&lt;br&gt;<br>
due&nbsp;to&nbsp;the&nbsp;get_trace&nbsp;leaks.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;Rodrigo&lt;br&gt;<br>

</tt>
