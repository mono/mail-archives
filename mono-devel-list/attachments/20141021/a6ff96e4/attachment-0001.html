<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;At&nbsp;my&nbsp;firm&nbsp;we&nbsp;are&nbsp;running&nbsp;multiple&nbsp;webapplication&nbsp;using&nbsp;mono&nbsp;(nginx&nbsp;+&nbsp;fastcgi-mono-server2.exe)&nbsp;on&nbsp;a&nbsp;cluster&nbsp;of&nbsp;4&nbsp;VM,&nbsp;2&nbsp;vcpus.&lt;br&gt;One&nbsp;of&nbsp;them&nbsp;is&nbsp;restarted&nbsp;every&nbsp;day&nbsp;at&nbsp;1h45&nbsp;(small&nbsp;memory&nbsp;leak).&lt;br&gt;3&nbsp;weeks&nbsp;ago&nbsp;we&nbsp;went&nbsp;from&nbsp;8VM&nbsp;with&nbsp;1vcpu&nbsp;(no&nbsp;restart&nbsp;problem)&nbsp;to&nbsp;4VM&nbsp;with&nbsp;2vcpus,&nbsp;and&nbsp;now,&lt;br&gt;it&#39;s&nbsp;the&nbsp;3rd&nbsp;time&nbsp;in&nbsp;2&nbsp;weeks&nbsp;that&nbsp;on&nbsp;one&nbsp;VM,&nbsp;the&nbsp;restart&nbsp;doesn&#39;t&nbsp;work&nbsp;well&nbsp;and&nbsp;we&nbsp;have:&lt;br&gt;&lt;br&gt;[System.ArgumentException]:&nbsp;Key&nbsp;duplication&nbsp;when&nbsp;adding:&nbsp;httpModules&lt;br&gt; &nbsp;at&nbsp;System.Collections.Hashtable.PutImpl&nbsp;(System.Object&nbsp;key,&nbsp;System.Object&nbsp;value,&nbsp;Boolean&nbsp;overwrite)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&lt;br&gt; &nbsp;at&nbsp;System.Collections.Hashtable.Add&nbsp;(System.Object&nbsp;key,&nbsp;System.Object&nbsp;value)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&lt;br&gt; &nbsp;at&nbsp;System.Collections.Specialized.NameObjectCollectionBase.BaseAdd&nbsp;(System.String&nbsp;name,&nbsp;System.Object&nbsp;value)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&lt;br&gt; &nbsp;at&nbsp;System.Collections.Specialized.NameObjectCollectionBase.BaseSet&nbsp;(System.String&nbsp;name,&nbsp;System.Object&nbsp;value)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&lt;br&gt; &nbsp;at&nbsp;System.Configuration.ConfigurationSectionCollection.get_Item&nbsp;(System.String&nbsp;name)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&lt;br&gt; &nbsp;at&nbsp;System.Configuration.Configuration.GetSection&nbsp;(System.String&nbsp;path)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&lt;br&gt; &nbsp;at&nbsp;System.Web.Configuration.WebConfigurationManager.GetSection&nbsp;(System.String&nbsp;sectionName,&nbsp;System.String&nbsp;path,&nbsp;System.Web.HttpContext&nbsp;context)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&lt;br&gt; &nbsp;at&nbsp;System.Web.Configuration.WebConfigurationManager.GetSection&nbsp;(System.String&nbsp;sectionName,&nbsp;System.String&nbsp;path)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&lt;br&gt; &nbsp;at&nbsp;System.Web.Configuration.WebConfigurationManager.GetWebApplicationSection&nbsp;(System.String&nbsp;sectionName)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&lt;br&gt; &nbsp;at&nbsp;System.Web.HttpApplication.InitOnce&nbsp;(Boolean&nbsp;full_init)&nbsp;[0x00000]&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&lt;br&gt;&lt;br&gt;&lt;br&gt;The&nbsp;really&nbsp;cool&nbsp;stuff&nbsp;is&nbsp;that&nbsp;even&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;500&nbsp;error,&nbsp;the&nbsp;returned&nbsp;http&nbsp;code&nbsp;is&nbsp;200&nbsp;:)&lt;br&gt;&lt;br&gt;I&#39;ve&nbsp;already&nbsp;checked&nbsp;and&nbsp;all&nbsp;files&nbsp;are&nbsp;equal&nbsp;(dll,&nbsp;exe,&nbsp;conf),&nbsp;all&nbsp;VM&nbsp;conf&nbsp;are&nbsp;equal&nbsp;(vcpu,&nbsp;memory,&nbsp;...),&nbsp;...&lt;br&gt;&lt;br&gt;I&#39;m&nbsp;not&nbsp;able&nbsp;to&nbsp;reproduce&nbsp;the&nbsp;bug&nbsp;(restart&nbsp;under&nbsp;high&nbsp;load&nbsp;(ab&nbsp;-c&nbsp;50&nbsp;-n&nbsp;100000))&nbsp;so&nbsp;can&#39;t&nbsp;tell&nbsp;if&nbsp;the&nbsp;bug&nbsp;is&nbsp;there&nbsp;in&nbsp;the&nbsp;newest&nbsp;version.&lt;br&gt;&lt;br&gt;We&nbsp;are&nbsp;using&nbsp;a&nbsp;version&nbsp;of&nbsp;mono&nbsp;before&nbsp;3.2.7&nbsp;(92887027be801b012846866208e6b4e362a4fc24)&nbsp;and&nbsp;fastcgi-mono-server2&nbsp;(xsp)&nbsp;version&nbsp;2.10.2-1&nbsp;(old&nbsp;version&nbsp;build&nbsp;on&nbsp;14/09/12&nbsp;by&nbsp;someone&nbsp;at&nbsp;my&nbsp;firm)&lt;br&gt;I&nbsp;know&nbsp;we&nbsp;are&nbsp;using&nbsp;old&nbsp;version&nbsp;but&nbsp;it&nbsp;seems&nbsp;that&nbsp;the&nbsp;bug&nbsp;is&nbsp;still&nbsp;there:&lt;br&gt;&lt;a&nbsp;href=&quot;https://bugzilla.xamarin.com/show_bug.cgi?id=18303&quot;&gt;https://bugzilla.xamarin.com/show_bug.cgi?id=18303&lt;/a&gt;&lt;br&gt;&lt;br&gt;I&#39;ve&nbsp;run&nbsp;lsof&nbsp;on&nbsp;the&nbsp;processes&nbsp;(the&nbsp;stuck&nbsp;one&nbsp;and&nbsp;one&nbsp;working),&nbsp;and&nbsp;by&nbsp;comparing&nbsp;the&nbsp;2,&nbsp;i&nbsp;see&nbsp;that&nbsp;App_global.asax_XXXXXXX.dll&lt;br&gt;is&nbsp;here&nbsp;in&nbsp;both&nbsp;case,&nbsp;but&nbsp;not&nbsp; App_Web_XXXXXXXX.dll&nbsp;(only&nbsp;on&nbsp;the&nbsp;working&nbsp;one)&nbsp;(see&nbsp;attachment)&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;root&nbsp;access&nbsp;on&nbsp;the&nbsp;VM&nbsp;with&nbsp;the&nbsp;stuck&nbsp;process,&nbsp;and&nbsp;i&#39;m&nbsp;on&nbsp;irc&nbsp;right&nbsp;now&nbsp;(champtar),&nbsp;so&nbsp;if&nbsp;you&nbsp;have&nbsp;some&nbsp;ideas&nbsp;to&nbsp;gather&nbsp;more&nbsp;info&nbsp;to&nbsp;kill&nbsp;this&nbsp;bug&lt;br&gt;&lt;br&gt;Thanks&nbsp;in&nbsp;advance&lt;br&gt;&lt;br&gt;Etienne&lt;/div&gt;<br>

</tt>
