<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;TITLE&gt;Message&lt;/TITLE&gt;<br>
<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2800.1170&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;style=&quot;COLOR:&nbsp;#000000;&nbsp;FONT-FAMILY:&nbsp;&quot;&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Hello,&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;The&nbsp;method&nbsp;<br>
System.Collections.Specialized.BitVector32.&lt;SPAN&nbsp;<br>
class=823002906-02092003&gt;CreateSection&lt;/SPAN&gt;(&lt;SPAN&nbsp;<br>
class=052501911-02092003&gt;short&lt;/SPAN&gt;&nbsp;maxValue,&nbsp;BitVector32.Section&nbsp;previous)&nbsp;<br>
should&amp;nbsp;&lt;SPAN&nbsp;class=052501911-02092003&gt;check&nbsp;that&nbsp;the&nbsp;new&nbsp;calculated&nbsp;offset&nbsp;<br>
isn't&nbsp;more&nbsp;than&nbsp;32&nbsp;and&nbsp;not&nbsp;that&nbsp;the&nbsp;sum&nbsp;of&nbsp;the&amp;nbsp;new&nbsp;offset&nbsp;and&amp;nbsp;the&nbsp;<br>
number&nbsp;of&nbsp;set&nbsp;bits&nbsp;is&nbsp;more&nbsp;than&nbsp;32.&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Steps&nbsp;to&nbsp;reproduce&nbsp;the&nbsp;problem&lt;SPAN&nbsp;<br>
class=823002906-02092003&gt;s&lt;/SPAN&gt;:&lt;BR&gt;&lt;SPAN&nbsp;class=052501911-02092003&gt;1&lt;/SPAN&gt;.&nbsp;<br>
call&nbsp;the&nbsp;method&nbsp;BitVector32.CreateSection(&lt;SPAN&nbsp;<br>
class=052501911-02092003&gt;short&lt;/SPAN&gt;&nbsp;maxValue&lt;/FONT&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;<br>
size=2&gt;)&nbsp;,&nbsp;with&amp;nbsp;Int16.MaxValue&lt;SPAN&nbsp;<br>
class=823002906-02092003&gt;&amp;nbsp;&lt;/SPAN&gt;as&nbsp;parameter&lt;SPAN&nbsp;<br>
class=823002906-02092003&gt;&nbsp;&lt;/SPAN&gt;.&lt;BR&gt;&lt;SPAN&nbsp;class=823002906-02092003&gt;&lt;SPAN&nbsp;<br>
class=052501911-02092003&gt;2&lt;/SPAN&gt;.&nbsp;call&nbsp;the&nbsp;method&nbsp;<br>
BitVector32.CreateSection(&lt;SPAN&nbsp;class=052501911-02092003&gt;short&lt;/SPAN&gt;&nbsp;<br>
maxValue&lt;SPAN&nbsp;class=052501911-02092003&gt;,&nbsp;BitVector32.Section&nbsp;previous&lt;/SPAN&gt;)&nbsp;,&nbsp;<br>
with&amp;nbsp;Int16.MaxValue&lt;SPAN&nbsp;class=823002906-02092003&gt;&amp;nbsp;&lt;SPAN&nbsp;<br>
class=052501911-02092003&gt;and&nbsp;the&nbsp;returned&nbsp;value&nbsp;from&nbsp;the&nbsp;first&nbsp;<br>
line&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;class=823002906-02092003&gt;&amp;nbsp;&lt;/SPAN&gt;as&nbsp;parameter&lt;SPAN&nbsp;<br>
class=823002906-02092003&gt;s&lt;/SPAN&gt;&lt;SPAN&nbsp;class=823002906-02092003&gt;&nbsp;<br>
.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;class=823002906-02092003&gt;&lt;SPAN&nbsp;<br>
class=823002906-02092003&gt;&lt;SPAN&nbsp;<br>
class=823002906-02092003&gt;&lt;/P&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;Actual&nbsp;Results:&lt;BR&gt;the&nbsp;method&nbsp;throws&amp;nbsp;&lt;SPAN&nbsp;<br>
class=823002906-02092003&gt;ArgumentException&lt;/SPAN&gt;.&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;Expected&nbsp;Results:&lt;BR&gt;the&nbsp;method&amp;nbsp;&lt;SPAN&nbsp;<br>
class=052501911-02092003&gt;create&nbsp;a&nbsp;new&nbsp;section.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Enclosed&nbsp;is&nbsp;a&nbsp;small&nbsp;test&nbsp;case&nbsp;and&nbsp;a&nbsp;patch.&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Thanks&nbsp;a&nbsp;lot,&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Alon&nbsp;Gazit&lt;/FONT&gt;&lt;/P&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
