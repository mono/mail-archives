Index: System/String.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/System/String.cs,v
retrieving revision 1.92
diff -u -r1.92 String.cs
--- System/String.cs	12 May 2003 10:47:16 -0000	1.92
+++ System/String.cs	20 Aug 2003 17:50:55 -0000
@@ -566,11 +566,15 @@
 		}
 	
 		public static string Format (IFormatProvider provider, string format, params object[] args) {
+			StringBuilder b = new StringBuilder ();
+			FormatHelper (b, provider, format, args);
+			return b.ToString ();
+		}
+		
+		internal static void FormatHelper (StringBuilder result, IFormatProvider provider, string format, params object[] args) {
 			if (format == null || args == null)
 				throw new ArgumentNullException ();
-		
-			StringBuilder result = new StringBuilder ();
-
+			
 			int ptr = 0;
 			int start = ptr;
 			while (ptr < format.length) {
@@ -638,8 +642,6 @@
 
 			if (start < format.length)
 				result.Append (format.Substring (start));
-
-			return result.ToString ();
 		}
 
 		public static String Copy (String str) {
Index: System.Text/StringBuilder.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/System.Text/StringBuilder.cs,v
retrieving revision 1.24
diff -u -r1.24 StringBuilder.cs
--- System.Text/StringBuilder.cs	10 May 2003 03:24:31 -0000	1.24
+++ System.Text/StringBuilder.cs	20 Aug 2003 17:50:56 -0000
@@ -467,34 +467,30 @@
 
 		public StringBuilder AppendFormat (string format, object arg0 )
 		{
-			string result = String.Format (format, arg0);
-			return Append (result);
+			return AppendFormat (null, format, new object [] { arg0 });
 		}
 
 		public StringBuilder AppendFormat (string format, params object[] args )
 		{
-			string result = String.Format (format, args);
-			return Append (result);
+			return AppendFormat (null, format, args);
 		}
 
 		public StringBuilder AppendFormat (IFormatProvider provider,
 						   string format,
 						   params object[] args)
 		{
-			string result = String.Format (provider, format, args);
-			return Append (result);
+			String.FormatHelper (this, provider, format, args);
+			return this;
 		}
 
 		public StringBuilder AppendFormat (string format, object arg0, object arg1 )
 		{
-			string result = String.Format (format, arg0, arg1);
-			return Append (result);
+			return AppendFormat (null, format, new object [] { arg0, arg1 });
 		}
 
 		public StringBuilder AppendFormat (string format, object arg0, object arg1, object arg2 )
 		{
-			string result = String.Format (format, arg0, arg1, arg2);
-			return Append (result);
+			return AppendFormat (null, format, new object [] { arg0, arg1, arg2 });
 		}
 
 		/*  The Insert Functions */
