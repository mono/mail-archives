<tt>
&lt;html&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Title&quot;&nbsp;content=&quot;&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Keywords&quot;&nbsp;content=&quot;&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;15&nbsp;(filtered&nbsp;medium)&quot;&gt;<br>
&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Cambria&nbsp;Math&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;4&nbsp;5&nbsp;3&nbsp;5&nbsp;4&nbsp;6&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Corbel;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;11&nbsp;5&nbsp;3&nbsp;2&nbsp;2&nbsp;4&nbsp;2&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{margin:0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:.0001pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:12.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Times&nbsp;New&nbsp;Roman&quot;;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:blue;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
a:visited,&nbsp;span.MsoHyperlinkFollowed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:purple;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
span.EmailStyle17<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal-reply;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:windowtext;}<br>
span.msoIns<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mso-style-name:&quot;&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:teal;}<br>
.MsoChpDefault<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:10.0pt;}<br>
@page&nbsp;WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{size:8.5in&nbsp;11.0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:1.0in&nbsp;1.0in&nbsp;1.0in&nbsp;1.0in;}<br>
div.WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{page:WordSection1;}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;white&quot;&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&gt;<br>
&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:Calibri&quot;&gt;Hello,&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:Calibri&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:Calibri&quot;&gt;Thanks&nbsp;for&nbsp;sharing&nbsp;this&nbsp;report&nbsp;and&nbsp;the&nbsp;fix.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:Calibri&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:Calibri&quot;&gt;We&nbsp;will&nbsp;be&nbsp;rolling&nbsp;this&nbsp;out&nbsp;to&nbsp;all&nbsp;the&nbsp;affected&nbsp;Mono&nbsp;version.s&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:Calibri&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&nbsp;style=&quot;border:none;border-top:solid&nbsp;#B5C4DF&nbsp;1.0pt;padding:3.0pt&nbsp;0in&nbsp;0in&nbsp;0in&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-family:Calibri;color:black&quot;&gt;From:<br>
&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;font-family:Calibri;color:black&quot;&gt;Mono-devel-list&nbsp;&lt;mono-devel-list-bounces@lists.dot.net&gt;&nbsp;on&nbsp;behalf&nbsp;of&nbsp;David&nbsp;Curylo&nbsp;&lt;curylod@asme.org&gt;&lt;br&gt;<br>
&lt;b&gt;Date:&nbsp;&lt;/b&gt;Wednesday,&nbsp;September&nbsp;21,&nbsp;2016&nbsp;at&nbsp;11:09&nbsp;AM&lt;br&gt;<br>
&lt;b&gt;To:&nbsp;&lt;/b&gt;&quot;psantosl@codicesoftware.com&quot;&nbsp;&lt;psantosl@codicesoftware.com&gt;,&nbsp;&quot;mono-devel-list@lists.dot.net&quot;&nbsp;&lt;mono-devel-list@lists.dot.net&gt;&lt;br&gt;<br>
&lt;b&gt;Cc:&nbsp;&lt;/b&gt;dude&nbsp;&lt;rdealba@codicesoftware.com&gt;&lt;br&gt;<br>
&lt;b&gt;Subject:&nbsp;&lt;/b&gt;Re:&nbsp;[Mono-dev]&nbsp;Potential&nbsp;bug&nbsp;in&nbsp;NetworkStream&nbsp;in&nbsp;Raspberry&nbsp;ARM&nbsp;–&nbsp;Mono&nbsp;4.4.0&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;I&nbsp;created&nbsp;a&nbsp;PR&nbsp;for&nbsp;this:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3a%2f%2fgithub.com%2fmono%2fmono%2fpull%2f3603&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642785979&amp;sdata=8zzh5MNNK4waTcT4FY67eUSLx16JD21vHkDR9VloybU%3d&quot;&gt;https://github.com/mono/mono/pull/3603&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;I&nbsp;submitted&nbsp;the&nbsp;PR&nbsp;for&nbsp;the&nbsp;4.6&nbsp;branch,&nbsp;although&nbsp;I&nbsp;would&nbsp;hope&nbsp;we&nbsp;can&nbsp;also&nbsp;put&nbsp;this&nbsp;in&nbsp;the&nbsp;current&nbsp;GA&nbsp;4.4&nbsp;branch&nbsp;(and&nbsp;master).&nbsp;&nbsp;I&nbsp;assume&nbsp;multiple&nbsp;PR’s&nbsp;would&nbsp;be&nbsp;necessary.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;blockquote&nbsp;style=&quot;margin-top:5.0pt;margin-bottom:5.0pt&quot;&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;On&nbsp;Sep&nbsp;21,&nbsp;2016,&nbsp;at&nbsp;4:08&nbsp;AM,&nbsp;&lt;a&nbsp;href=&quot;mailto:psantosl@codicesoftware.com&quot;&gt;<br>
psantosl@codicesoftware.com&lt;/a&gt;&nbsp;wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;mso-margin-top-alt:0in;margin-right:0in;margin-bottom:12.0pt;margin-left:.5in&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:Corbel&quot;&gt;Thanks&nbsp;Dave,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;was&nbsp;only&nbsp;able&nbsp;to&nbsp;reproduce&nbsp;it&nbsp;(even&nbsp;on&nbsp;LAN)&nbsp;on&nbsp;slow&nbsp;hw&nbsp;like&nbsp;the&nbsp;raspberry&nbsp;and&nbsp;doing&nbsp;parallel&nbsp;requests.&nbsp;Single&nbsp;thread&nbsp;was&nbsp;unable&nbsp;to&nbsp;reproduce&nbsp;the&nbsp;error,&nbsp;I&nbsp;sent&nbsp;several&nbsp;GBs&nbsp;this&nbsp;way.&nbsp;But&nbsp;with&nbsp;4&nbsp;threads,&nbsp;it&nbsp;fails&nbsp;in&nbsp;like&nbsp;8&nbsp;seconds.&lt;br&gt;<br>
&lt;br&gt;<br>
pablo&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;On&nbsp;9/20/2016&nbsp;14:30,&nbsp;David&nbsp;Curylo&nbsp;wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;blockquote&nbsp;style=&quot;margin-top:5.0pt;margin-bottom:5.0pt&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;Pablo,&nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;I&nbsp;couldn’t&nbsp;find&nbsp;evidence&nbsp;of&nbsp;anyone&nbsp;already&nbsp;working&nbsp;on&nbsp;this&nbsp;issue,&nbsp;so&nbsp;I&nbsp;started&nbsp;on&nbsp;a&nbsp;PR&nbsp;yesterday.&nbsp;&nbsp;I&nbsp;was&nbsp;a&nbsp;little&nbsp;blind&nbsp;after&nbsp;8&nbsp;hours&nbsp;of&nbsp;reading&nbsp;through&nbsp;tcpdump&nbsp;.pcap&nbsp;files&nbsp;:)&nbsp;but&nbsp;will&nbsp;submit&nbsp;it&nbsp;today&nbsp;with&nbsp;as&nbsp;good<br>
&nbsp;of&nbsp;test&nbsp;coverage&nbsp;as&nbsp;I&nbsp;can&nbsp;get&nbsp;without&nbsp;a&nbsp;remote&nbsp;system.&nbsp;&nbsp;I’ll&nbsp;post&nbsp;here&nbsp;when&nbsp;I&nbsp;submit&nbsp;it.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;-Dave&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;blockquote&nbsp;style=&quot;margin-top:5.0pt;margin-bottom:5.0pt&quot;&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;On&nbsp;Sep&nbsp;20,&nbsp;2016,&nbsp;at&nbsp;3:44&nbsp;AM,&nbsp;&lt;a&nbsp;href=&quot;mailto:psantosl@codicesoftware.com&quot;&gt;<br>
psantosl@codicesoftware.com&lt;/a&gt;&nbsp;wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;mso-margin-top-alt:0in;margin-right:0in;margin-bottom:12.0pt;margin-left:.5in&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:Corbel&quot;&gt;Hi&nbsp;David,&lt;br&gt;<br>
&lt;br&gt;<br>
Great.&lt;br&gt;<br>
&lt;br&gt;<br>
So,&nbsp;will&nbsp;you&nbsp;make&nbsp;a&nbsp;pull&nbsp;request?&nbsp;Or&nbsp;is&nbsp;there&nbsp;one&nbsp;already&nbsp;in&nbsp;progress?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks,&lt;br&gt;<br>
&lt;br&gt;<br>
pablo&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;On&nbsp;9/20/2016&nbsp;3:47,&nbsp;David&nbsp;Curylo&nbsp;wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;blockquote&nbsp;style=&quot;margin-top:5.0pt;margin-bottom:5.0pt&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;I’m&nbsp;glad&nbsp;it&nbsp;helps.&nbsp;&nbsp;AFAICT&nbsp;a&nbsp;slow&nbsp;network&nbsp;actually&nbsp;_helps_&nbsp;trigger&nbsp;the&nbsp;issue,&nbsp;guessing&nbsp;it&nbsp;allows&nbsp;the&nbsp;kernel&nbsp;TCP&nbsp;buffers&nbsp;to&nbsp;fill&nbsp;and&nbsp;leads&nbsp;to&nbsp;this&nbsp;issue.<br>
&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;Here&nbsp;is&nbsp;an&nbsp;older&nbsp;mono&nbsp;NetworkStream.Write,&nbsp;which&nbsp;was&nbsp;making&nbsp;up&nbsp;for&nbsp;the&nbsp;issue&nbsp;by&nbsp;continuing&nbsp;to&nbsp;push&nbsp;data&nbsp;through&nbsp;when&nbsp;the&nbsp;buffers&nbsp;filled:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3a%2f%2fgithub.com%2fmono%2fmono%2fblob%2fmono-3.12.1%2fmcs%2fclass%2fSystem%2fSystem.Net.Sockets%2fNetworkStream.cs%23L414&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642785979&amp;sdata=b4lhJMpB%2fgbAWT45H0OwVvBEHCptSkBl1dAFHn1Mwds%3d&quot;&gt;https://github.com/mono/mono/blob/mono-3.12.1/mcs/class/System/System.Net.Sockets/NetworkStream.cs#L414&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;So&nbsp;I&nbsp;expect&nbsp;that&nbsp;will&nbsp;work&nbsp;around&nbsp;your&nbsp;issue,&nbsp;although&nbsp;it&nbsp;needs&nbsp;to&nbsp;be&nbsp;fixed&nbsp;in&nbsp;Socket.cs&nbsp;like&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3a%2f%2fbugzilla.xamarin.com%2fshow_bug.cgi%3fid%3d43902%23c3&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642785979&amp;sdata=Tzz6tTzdExw7uOGyJe%2bauL8B0lDorV8fUsjdtVVhnRg%3d&quot;&gt;comments&lt;/a&gt;&nbsp;in<br>
&nbsp;the&nbsp;bug.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;blockquote&nbsp;style=&quot;margin-top:5.0pt;margin-bottom:5.0pt&quot;&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;On&nbsp;Sep&nbsp;19,&nbsp;2016,&nbsp;at&nbsp;6:12&nbsp;PM,&nbsp;&lt;a&nbsp;href=&quot;mailto:psantosl@codicesoftware.com&quot;&gt;<br>
psantosl@codicesoftware.com&lt;/a&gt;&nbsp;wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;mso-margin-top-alt:0in;margin-right:0in;margin-bottom:12.0pt;margin-left:.5in&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:Corbel&quot;&gt;Hi&nbsp;David,&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;the&nbsp;info!!&lt;br&gt;<br>
&lt;br&gt;<br>
So,&nbsp;does&nbsp;this&nbsp;fix&nbsp;the&nbsp;issue?&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(sent&nbsp;&lt;&nbsp;count)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sent&nbsp;&#43;=&nbsp;mSocket.Send(buffer,&nbsp;offset&nbsp;&#43;&nbsp;sent,&nbsp;count&nbsp;-&nbsp;sent,&nbsp;SocketFlags.None);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
Or&nbsp;am&nbsp;I&nbsp;simply&nbsp;having&nbsp;good&nbsp;luck??&lt;br&gt;<br>
&lt;br&gt;<br>
I'm&nbsp;testing&nbsp;through&nbsp;VPN&nbsp;myself,&nbsp;so&nbsp;maybe&nbsp;the&nbsp;slow&nbsp;network&nbsp;helps.&nbsp;But,&nbsp;we&nbsp;are&nbsp;able&nbsp;to&nbsp;see&nbsp;the&nbsp;same&nbsp;issue&nbsp;on&nbsp;LAN...&nbsp;always&nbsp;using&nbsp;the&nbsp;raspberry&nbsp;as&nbsp;server.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks,&lt;br&gt;<br>
&lt;br&gt;<br>
pablo&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;On&nbsp;9/19/2016&nbsp;23:38,&nbsp;David&nbsp;Curylo&nbsp;wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;blockquote&nbsp;style=&quot;margin-top:5.0pt;margin-bottom:5.0pt&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;Pablo,&nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;I&nbsp;believe&nbsp;I’m&nbsp;experiencing&nbsp;a&nbsp;similar&nbsp;issue,&nbsp;also&nbsp;reported&nbsp;by&nbsp;others&nbsp;here:&nbsp;&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3a%2f%2fbugzilla.xamarin.com%2fshow_bug.cgi%3fid%3d43902&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642785979&amp;sdata=0VlMMODp%2bzWadcHW8o6eu5pQwGE4id1R6ZDqADvTHn8%3d&quot;&gt;https://bugzilla.xamarin.com/show_bug.cgi?id=43902&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;Mono’s&nbsp;Socket.Send&nbsp;doesn’t&nbsp;block&nbsp;until&nbsp;all&nbsp;data&nbsp;is&nbsp;sent.&nbsp;&nbsp;The&nbsp;old&nbsp;NetworkStream&nbsp;in&nbsp;mono&nbsp;used&nbsp;to&nbsp;account&nbsp;for&nbsp;this&nbsp;with&nbsp;a&nbsp;while&nbsp;loop&nbsp;to&nbsp;continue&nbsp;sending,&nbsp;but&nbsp;the&nbsp;NetworkStream&nbsp;from&nbsp;MS&nbsp;Reference&nbsp;Source&nbsp;expects&nbsp;the<br>
&nbsp;Socket&nbsp;to&nbsp;block&nbsp;until&nbsp;all&nbsp;data&nbsp;is&nbsp;sent.&nbsp;&nbsp;When&nbsp;the&nbsp;reference&nbsp;source&nbsp;was&nbsp;pulled&nbsp;in,&nbsp;the&nbsp;Socket.Send&nbsp;could&nbsp;sometimes&nbsp;fail&nbsp;to&nbsp;send&nbsp;all&nbsp;the&nbsp;data.&nbsp;&nbsp;I&nbsp;can’t&nbsp;ever&nbsp;make&nbsp;this&nbsp;failure&nbsp;occur&nbsp;on&nbsp;localhost,&nbsp;but&nbsp;it&nbsp;will&nbsp;occur&nbsp;for&nbsp;me&nbsp;communicating&nbsp;with&nbsp;remote&nbsp;hosts.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;I’m&nbsp;working&nbsp;on&nbsp;a&nbsp;PR&nbsp;now&nbsp;to&nbsp;have&nbsp;Socket.Send_internal&nbsp;loop&nbsp;until&nbsp;all&nbsp;data&nbsp;is&nbsp;sent&nbsp;so&nbsp;Socket.Send&nbsp;will&nbsp;block&nbsp;as&nbsp;the&nbsp;reference&nbsp;source&nbsp;expects&nbsp;it&nbsp;to,&nbsp;unless&nbsp;anyone&nbsp;else&nbsp;has&nbsp;any&nbsp;suggestions.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;-Dave&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;blockquote&nbsp;style=&quot;margin-top:5.0pt;margin-bottom:5.0pt&quot;&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;On&nbsp;Sep&nbsp;19,&nbsp;2016,&nbsp;at&nbsp;9:33&nbsp;AM,&nbsp;&lt;a&nbsp;href=&quot;mailto:psantosl@codicesoftware.com&quot;&gt;<br>
psantosl@codicesoftware.com&lt;/a&gt;&nbsp;wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;span&nbsp;style=&quot;font-family:Corbel&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;found&nbsp;a&nbsp;potential&nbsp;issue&nbsp;with&nbsp;NetworkStream&nbsp;on&nbsp;ARM&nbsp;(Raspberry).&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;might&nbsp;be&nbsp;a&nbsp;stupid&nbsp;bug&nbsp;on&nbsp;my&nbsp;code&nbsp;too,&nbsp;but&nbsp;I&nbsp;don't&nbsp;see&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;short:&nbsp;a&nbsp;simple&nbsp;multi-threaded&nbsp;server&nbsp;running&nbsp;on&nbsp;Raspberry&nbsp;(same&nbsp;behavior&nbsp;on&nbsp;Mono&nbsp;4.4.0&nbsp;as&nbsp;Mono&nbsp;4.6.0),&nbsp;client&nbsp;on&nbsp;W10:&lt;br&gt;<br>
&lt;br&gt;<br>
1.&nbsp;&lt;b&gt;Fails&lt;/b&gt;&nbsp;to&nbsp;correctly&nbsp;send&nbsp;data&nbsp;using&nbsp;NetworkStream&nbsp;(server&nbsp;seems&nbsp;to&nbsp;send&nbsp;the&nbsp;data,&nbsp;but&nbsp;it&nbsp;never&nbsp;arrives&nbsp;to&nbsp;client).<br>
&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3a%2f%2fgithub.com%2fpsantosl%2fmono-raspberry-socket-issue%2fblob%2fmaster%2fProgram.cs&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642785979&amp;sdata=51DWUhoLDf7SvMXl2GNrh0VlhC1uDAwL6r1%2bYxnAdvQ%3d&quot;&gt;<br>
https://github.com/psantosl/mono-raspberry-socket-issue/blob/master/Program.cs&lt;/a&gt;&lt;br&gt;<br>
1.1.&nbsp;&lt;b&gt;Fails&lt;/b&gt;&nbsp;*only*&nbsp;using&nbsp;NetworkStream&nbsp;(no&nbsp;BufferedStream&nbsp;or&nbsp;BinaryReader/Writer&nbsp;around,&nbsp;and&nbsp;it&nbsp;still&nbsp;fails):<br>
&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3a%2f%2fgithub.com%2fpsantosl%2fmono-raspberry-socket-issue%2fblob%2fmaster-only-network-stream%2fProgram.cs&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642795983&amp;sdata=Wq%2fY%2bP8vV%2fH%2b7%2fJfuq357udmqdJUZ4XrL5UQMFFgiGE%3d&quot;&gt;<br>
https://github.com/psantosl/mono-raspberry-socket-issue/blob/master-only-network-stream/Program.cs&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
2.&nbsp;Works&nbsp;correctly&nbsp;using&nbsp;Sockets&nbsp;(no&nbsp;streams&nbsp;on&nbsp;top).&nbsp;&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3a%2f%2fgithub.com%2fpsantosl%2fmono-raspberry-socket-issue%2fblob%2fmaster-use-socket-only%2fProgram.cs&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642795983&amp;sdata=cyeaWFyMivALDKRHLzeMZ5BoAy3dLnV843hxglL9xAw%3d&quot;&gt;<br>
https://github.com/psantosl/mono-raspberry-socket-issue/blob/master-use-socket-only/Program.cs&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
3.&nbsp;Works&nbsp;correctly&nbsp;using&nbsp;a&nbsp;custom&nbsp;NetworkStream:&lt;br&gt;<br>
3.1.&nbsp;&nbsp;&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3a%2f%2fgithub.com%2fpsantosl%2fmono-raspberry-socket-issue%2fblob%2fmaster-use-alternative-network-stream%2fProgram.cs&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642795983&amp;sdata=s9a17STqnxMCgfhgqNoPhcux2CxnT2iUfcAL9vFGCZM%3d&quot;&gt;<br>
https://github.com/psantosl/mono-raspberry-socket-issue/blob/master-use-alternative-network-stream/Program.cs&lt;/a&gt;&lt;br&gt;<br>
3.2.&nbsp;&nbsp;&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3a%2f%2fgithub.com%2fpsantosl%2fmono-raspberry-socket-issue%2fblob%2fmaster-use-alternative-network-stream%2fMyNetworkStream.cs&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642795983&amp;sdata=uHZdbgiPJdXI1MRZFCrpBHxpdQrxrdDura1XDwfNonQ%3d&quot;&gt;<br>
https://github.com/psantosl/mono-raspberry-socket-issue/blob/master-use-alternative-network-stream/MyNetworkStream.cs&lt;/a&gt;&lt;br&gt;<br>
3.3.&nbsp;Although&nbsp;I&nbsp;just&nbsp;saw&nbsp;it&nbsp;timing&nbsp;out&nbsp;after&nbsp;transferring&nbsp;several&nbsp;hundred&nbsp;MB&nbsp;on&nbsp;each&nbsp;connection&nbsp;(I'm&nbsp;on&nbsp;a&nbsp;slow&nbsp;VPN&nbsp;connected&nbsp;to&nbsp;the&nbsp;Raspberry,&nbsp;although&nbsp;we&nbsp;reproduced&nbsp;it&nbsp;on&nbsp;LAN&nbsp;too).&nbsp;Interestingly,&nbsp;using&nbsp;the&nbsp;regular&nbsp;NetworkStream&nbsp;it&nbsp;fails&nbsp;inmediately.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;it&nbsp;fails,&nbsp;what&nbsp;happens&nbsp;is&nbsp;that&nbsp;at&nbsp;a&nbsp;given&nbsp;point&nbsp;in&nbsp;time&nbsp;(in&nbsp;my&nbsp;tests&nbsp;like&nbsp;in&nbsp;a&nbsp;few&nbsp;seconds)&nbsp;one&nbsp;of&nbsp;the&nbsp;client&nbsp;threads&nbsp;(or&nbsp;more&nbsp;than&nbsp;one)&nbsp;NEVER&nbsp;exits&nbsp;the&nbsp;Read,&nbsp;data&nbsp;never&nbsp;arrives&nbsp;although&nbsp;the&nbsp;server&nbsp;log&nbsp;says&nbsp;the&nbsp;data&nbsp;was&nbsp;written,&nbsp;but&nbsp;it&nbsp;doesn't.&nbsp;Since&nbsp;I've<br>
&nbsp;set&nbsp;a&nbsp;timeout&nbsp;for&nbsp;the&nbsp;read&nbsp;operation,&nbsp;you&nbsp;see&nbsp;how&nbsp;the&nbsp;program&nbsp;stops&nbsp;working.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;b&gt;==&nbsp;Additional&nbsp;tests&nbsp;performed&nbsp;==&lt;/b&gt;&lt;br&gt;<br>
I&nbsp;tried&nbsp;with&nbsp;different&nbsp;buffer&nbsp;sizes,&nbsp;it&nbsp;always&nbsp;fails&nbsp;with&nbsp;the&nbsp;NetworkStream.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;ran&nbsp;the&nbsp;same&nbsp;server&nbsp;code&nbsp;on&nbsp;other&nbsp;setups:&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;Window&nbsp;10/.NET:&nbsp;&lt;b&gt;OK&lt;/b&gt;.&lt;br&gt;<br>
*&nbsp;OpenSuse&nbsp;13.2&nbsp;&#43;&nbsp;mono&nbsp;4.0.4&nbsp;(Stable&nbsp;4.0.4.1/5ab4c0d):&nbsp;&lt;b&gt;OK&lt;/b&gt;.&lt;br&gt;<br>
*&nbsp;Raspberry:&nbsp;failed&nbsp;both&nbsp;with&nbsp;mono&nbsp;4.4.0&nbsp;and&nbsp;mono-4.6.0.245&nbsp;(built&nbsp;from&nbsp;GitHub&nbsp;on&nbsp;the&nbsp;746756c&nbsp;commit.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;originally&nbsp;discovered&nbsp;the&nbsp;issue&nbsp;running&nbsp;a&nbsp;Plastic&nbsp;SCM&nbsp;server&nbsp;on&nbsp;&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=http%3a%2f%2fwww.bananapi.org%2f&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642795983&amp;sdata=x9JZfD3KMlQymMDnCIyn6DzvSTpi731LlPVqqmseHzA%3d&quot;&gt;<br>
BananaPi&lt;/a&gt;&nbsp;(like&nbsp;a&nbsp;Raspberry&nbsp;&#43;&nbsp;SATA).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;b&gt;==&nbsp;Extra&nbsp;notes&nbsp;==&lt;/b&gt;&lt;br&gt;<br>
*&nbsp;I&nbsp;know&nbsp;the&nbsp;multi-threaded&nbsp;server&nbsp;is&nbsp;not&nbsp;optimal&nbsp;and&nbsp;thread-per-connection&nbsp;is&nbsp;really&nbsp;bad,&nbsp;this&nbsp;is&nbsp;just&nbsp;a&nbsp;test&nbsp;case.&lt;br&gt;<br>
*&nbsp;Initially&nbsp;I&nbsp;thought&nbsp;we&nbsp;had&nbsp;an&nbsp;issue&nbsp;with&nbsp;async&nbsp;sockets,&nbsp;but&nbsp;after&nbsp;a&nbsp;few&nbsp;days&nbsp;I&nbsp;just&nbsp;isolated&nbsp;the&nbsp;problem&nbsp;in&nbsp;NetworkStream.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Any&nbsp;hints&nbsp;would&nbsp;be&nbsp;appreciated.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks,&lt;br&gt;<br>
&lt;br&gt;<br>
pablo&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=http%3a%2f%2fwww.plasticscm.com%2f&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642795983&amp;sdata=br2oD714y60tjngmWZkBAvT9P6AaKP3xY8YcE4Ui4Hs%3d&quot;&gt;www.plasticscm.com&lt;/a&gt;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.dot.net&quot;&gt;Mono-devel-list@lists.dot.net&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=http%3a%2f%2flists.dot.net%2fmailman%2flistinfo%2fmono-devel-list&amp;data=02%7c01%7cmiguel%40microsoft.com%7ce21a3fbb6f2e488ced9708d3e231442e%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636100673642795983&amp;sdata=I7iLKZTnMrxGjF6BSxAlusTYG0IydCJb0oFxCUiOyio%3d&quot;&gt;http://lists.dot.net/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:.5in&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
