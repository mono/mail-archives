<tt>
Thanks&nbsp;for&nbsp;the&nbsp;patch,&nbsp;I&amp;#39;ve&nbsp;applied&nbsp;it&nbsp;with&nbsp;a&nbsp;regression&nbsp;test&nbsp;and&nbsp;some&nbsp;comments&nbsp;on&lt;div&gt;the&nbsp;why&amp;#39;s.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Nov&nbsp;22,&nbsp;2011&nbsp;at&nbsp;2:08&nbsp;PM,&nbsp;Gleb&nbsp;Golubitsky&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:sectoid@gnolltech.org&quot;&gt;sectoid@gnolltech.org&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;Hi&nbsp;all,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;met&nbsp;a&nbsp;problem&nbsp;when&nbsp;tryed&nbsp;to&nbsp;run&nbsp;my&nbsp;application&nbsp;with&nbsp;SGen&nbsp;GC.&nbsp;Googling&lt;br&gt;<br>
for&nbsp;similar&nbsp;problems&nbsp;led&nbsp;me&nbsp;to&nbsp;bug&nbsp;[1]&nbsp;describing&nbsp;very&nbsp;similar&lt;br&gt;<br>
problem.&nbsp;The&nbsp;is&nbsp;marked&nbsp;as&nbsp;RESOLVED&nbsp;but&nbsp;it&amp;#39;s&nbsp;actually&nbsp;not.&nbsp;I&amp;#39;ve&lt;br&gt;<br>
reproduced&nbsp;the&nbsp;bug&nbsp;on&nbsp;both&nbsp;mono-2.10&nbsp;and&nbsp;master&nbsp;branches&nbsp;HEADs.&lt;br&gt;<br>
&lt;br&gt;<br>
Here&nbsp;is&nbsp;a&nbsp;patch&nbsp;A&nbsp;patch&nbsp;solving&nbsp;the&nbsp;problem.&nbsp;It&amp;#39;s&nbsp;against&nbsp;current&lt;br&gt;<br>
mono-2.10&nbsp;branch&nbsp;but&nbsp;can&nbsp;be&nbsp;adopted&nbsp;to&nbsp;master&nbsp;easily.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;patch&nbsp;is&nbsp;very&nbsp;simple&nbsp;--&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;allow&nbsp;GC&nbsp;to&nbsp;skip&nbsp;scanning&nbsp;all&nbsp;ephemerons&lt;br&gt;<br>
arrays&nbsp;basing&nbsp;only&nbsp;on&nbsp;an&nbsp;array&nbsp;address.&nbsp;Such&nbsp;skips&nbsp;are&nbsp;big&nbsp;mistake,&nbsp;bcs&nbsp;if&nbsp;an&lt;br&gt;<br>
array&nbsp;allocated&nbsp;in&nbsp;different&nbsp;region&nbsp;it&nbsp;can&nbsp;contain&nbsp;references&nbsp;to&nbsp;the&nbsp;region&nbsp;we&lt;br&gt;<br>
scanning.&nbsp;So&nbsp;it&amp;#39;s&nbsp;necessary&nbsp;to&nbsp;scan&nbsp;all&nbsp;available&nbsp;arrays.&lt;br&gt;<br>
&lt;br&gt;<br>
Applying&nbsp;patch&nbsp;fixes&nbsp;problem&nbsp;(test&nbsp;case&nbsp;passes&nbsp;well).&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
WBR,&lt;br&gt;<br>
Gleb&nbsp;Golubitsky&lt;br&gt;<br>
Gnolltech&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
