<tt>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;We&nbsp;also&nbsp;cannot&nbsp;use&nbsp;BeginSend&nbsp;atm.&nbsp;I&nbsp;suspect&nbsp;we&nbsp;have&nbsp;the&nbsp;same&nbsp;problem.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Whats&nbsp;the&nbsp;situation&nbsp;with&nbsp;mono&nbsp;TCP&nbsp;stack?&nbsp;From&nbsp;Xamarin&nbsp;point-of-view&nbsp;all&nbsp;epoll,kqueue,tpoll&nbsp;work&nbsp;perfectly&nbsp;on&nbsp;all&nbsp;os?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;some&nbsp;wiki&nbsp;/&nbsp;html&nbsp;page&nbsp;that&nbsp;would&nbsp;have&nbsp;list&nbsp;of&nbsp;current&nbsp;limitations&nbsp;and&nbsp;bugs?&nbsp;Do&nbsp;we&nbsp;have&nbsp;some&nbsp;common&nbsp;test&nbsp;framework?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Or&nbsp;should&nbsp;we&nbsp;start&nbsp;developing&nbsp;a&nbsp;tester&nbsp;for&nbsp;the&nbsp;socket&nbsp;code?&nbsp;Something&nbsp;that&nbsp;does&nbsp;all&nbsp;the&nbsp;business&nbsp;as&nbsp;usual&nbsp;things&nbsp;and&nbsp;then&nbsp;tries&nbsp;also&nbsp;abuse&nbsp;the&nbsp;api&nbsp;=)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Would&nbsp;be&nbsp;very&nbsp;interested&nbsp;in&nbsp;making&nbsp;sure&nbsp;the&nbsp;network&nbsp;stack&nbsp;works&nbsp;well.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&nbsp;&lt;br&gt;&nbsp;Roope&nbsp;Kangas&nbsp;/&nbsp;LSD,&nbsp;Grand&nbsp;Cru&lt;br&gt;&lt;div&gt;&nbsp;+358&nbsp;40&nbsp;869&nbsp;6976&nbsp;roope@grandcrugames.com&nbsp;&lt;br&gt;&nbsp;http://grandcrugames.com/&nbsp;@grandcrugames&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;style=&quot;color:&nbsp;#A0A0A8;&quot;&gt;On&nbsp;Friday,&nbsp;April&nbsp;19,&nbsp;2013&nbsp;at&nbsp;12:34&nbsp;PM,&nbsp;Greg&nbsp;Young&nbsp;wrote:&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;We&nbsp;still&nbsp;have&nbsp;this&nbsp;patch&nbsp;that&nbsp;we&nbsp;use&nbsp;with&nbsp;mono.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;diff&nbsp;--git&nbsp;a/mono/metadata/threadpool.c&nbsp;b/mono/metadata/threadpool.c&lt;/div&gt;&lt;div&gt;index&nbsp;e8a2f1a..f83e473&nbsp;100644&lt;/div&gt;&lt;div&gt;---&nbsp;a/mono/metadata/threadpool.c&lt;/div&gt;&lt;div&gt;+++&nbsp;b/mono/metadata/threadpool.c&lt;/div&gt;&lt;div&gt;@@&nbsp;-555,8&nbsp;+555,8&nbsp;@@&nbsp;socket_io_add&nbsp;(MonoAsyncResult&nbsp;*ares,&lt;/div&gt;&lt;div&gt;MonoSocketAsyncResult&nbsp;*state)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;mono_g_hash_table_replace&nbsp;(data-&gt;sock_to_state,&nbsp;state-&gt;handle,&nbsp;list);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;ievt&nbsp;=&nbsp;get_events_from_list&nbsp;(list);&lt;/div&gt;&lt;div&gt;-&nbsp;LeaveCriticalSection&nbsp;(&amp;data-&gt;io_lock);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;data-&gt;modify&nbsp;(data-&gt;event_data,&nbsp;fd,&nbsp;state-&gt;operation,&nbsp;ievt,&nbsp;is_new);&lt;/div&gt;&lt;div&gt;+&nbsp;LeaveCriticalSection&nbsp;(&amp;data-&gt;io_lock);&lt;/div&gt;&lt;div&gt;&nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;tried&nbsp;to&nbsp;submit&nbsp;this&nbsp;previously&nbsp;as&nbsp;it&nbsp;resolves&nbsp;our&nbsp;problems.&nbsp;It&nbsp;was&lt;/div&gt;&lt;div&gt;rejected&nbsp;that&nbsp;it&nbsp;introduces&nbsp;a&nbsp;deadlock.&nbsp;We&nbsp;have&nbsp;provided&nbsp;tests&nbsp;that&lt;/div&gt;&lt;div&gt;show&nbsp;without&nbsp;this&nbsp;change&nbsp;that&nbsp;TCP&nbsp;is&nbsp;basically&nbsp;unusable&nbsp;calls&nbsp;like&lt;/div&gt;&lt;div&gt;beginsend&nbsp;sometimes&nbsp;never&nbsp;call&nbsp;endsend.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;would&nbsp;really&nbsp;prefer&nbsp;to&nbsp;not&nbsp;be&nbsp;distributing&nbsp;a&nbsp;&quot;custom&quot;&nbsp;version&nbsp;of&lt;/div&gt;&lt;div&gt;mono&nbsp;with&nbsp;this&nbsp;patch&nbsp;so&nbsp;how&nbsp;can&nbsp;we&nbsp;resolve&nbsp;this.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Greg&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&lt;/div&gt;&lt;div&gt;Le&nbsp;doute&nbsp;n'est&nbsp;pas&nbsp;une&nbsp;condition&nbsp;agr√©able,&nbsp;mais&nbsp;la&nbsp;certitude&nbsp;est&nbsp;absurde.&lt;/div&gt;&lt;div&gt;_______________________________________________&lt;/div&gt;&lt;div&gt;Mono-devel-list&nbsp;mailing&nbsp;list&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</tt>
