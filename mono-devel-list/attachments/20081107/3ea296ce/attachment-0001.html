<tt>
Hi&nbsp;all,&lt;br&gt;Looking&nbsp;at&nbsp;the&nbsp;proposal&nbsp;for&nbsp;the&nbsp;Mono.Simd&amp;nbsp;&nbsp;primitives&nbsp;I&amp;#39;m&nbsp;wondering&nbsp;how&nbsp;the&nbsp;Mono.Simd.Acceleration&nbsp;attributes&nbsp;and&nbsp;the&nbsp;corresponding&nbsp;Mono.Simd.AccelMode&nbsp;parameters&nbsp;are&nbsp;useful.&lt;br&gt;Thus&nbsp;I&amp;#39;m&nbsp;wondering&nbsp;what&nbsp;is&nbsp;the&nbsp;rational&nbsp;of&nbsp;having&nbsp;these&nbsp;attributes&nbsp;defined&nbsp;and&nbsp;used&nbsp;in&nbsp;the&nbsp;definition&nbsp;of&nbsp;the&nbsp;primitives.&lt;br&gt;<br>
&lt;br&gt;It&nbsp;seems&nbsp;that&nbsp;as&nbsp;soon&nbsp;as&nbsp;the&nbsp;Mono.Simd&nbsp;primitives&nbsp;have&nbsp;a&nbsp;well&nbsp;defined&nbsp;semantic&nbsp;it&nbsp;is&nbsp;not&nbsp;useful&nbsp;to&nbsp;specify&nbsp;which&nbsp;architecture&nbsp;feature&nbsp;is&nbsp;able&nbsp;to&nbsp;emulate&nbsp;each&nbsp;of&nbsp;these&nbsp;primitives.&nbsp;I&nbsp;would&nbsp;have&nbsp;expected&nbsp;this&nbsp;to&nbsp;be&nbsp;the&nbsp;choice&nbsp;of&nbsp;the&nbsp;virtual&nbsp;execution&nbsp;environment.&lt;br&gt;<br>
&lt;br&gt;For&nbsp;instance&nbsp;the&nbsp;add&nbsp;with&nbsp;saturation&nbsp;for&nbsp;the&nbsp;Vector16b&nbsp;type&nbsp;which&nbsp;is&nbsp;defined&nbsp;as:&lt;br&gt;&lt;br&gt;[Mono.Simd.Acceleration(Mono.Simd.AccelMode.SSE2)]&lt;br&gt;public&nbsp;static&nbsp;&lt;a&nbsp;href=&quot;http://go-mono.com/docs/monodoc.ashx?link=T%3aMono.Simd.Vector16b&quot;&nbsp;target=&quot;content&quot;&gt;Vector16b&lt;/a&gt;&nbsp;&lt;b&gt;AddWithSaturation&lt;/b&gt;&nbsp;(&lt;a&nbsp;href=&quot;http://go-mono.com/docs/monodoc.ashx?link=T%3aMono.Simd.Vector16b&quot;&nbsp;target=&quot;content&quot;&gt;Vector16b&lt;/a&gt;&nbsp;va,&nbsp;&lt;a&nbsp;href=&quot;http://go-mono.com/docs/monodoc.ashx?link=T%3aMono.Simd.Vector16b&quot;&nbsp;target=&quot;content&quot;&gt;Vector16b&lt;/a&gt;&nbsp;vb)&lt;br&gt;<br>
&lt;br&gt;Well,&nbsp;but:&lt;br&gt;-&nbsp;if&nbsp;my&nbsp;underlying&nbsp;hardware&nbsp;XXX&nbsp;(not&nbsp;SSE2)&nbsp;is&nbsp;able&nbsp;to&nbsp;support&nbsp;efficiently&nbsp;add&nbsp;with&nbsp;saturation,&nbsp;I&nbsp;do&nbsp;not&nbsp;have&nbsp;to&nbsp;know&nbsp;whether&nbsp;SSE2&nbsp;also&nbsp;supports&nbsp;it,&nbsp;the&nbsp;virtual&nbsp;machine&nbsp;for&nbsp;XXX&nbsp;can&nbsp;use&nbsp;the&nbsp;corresponding&nbsp;add&nbsp;with&nbsp;saturation&nbsp;instruction&nbsp;of&nbsp;XXX&nbsp;at&nbsp;the&nbsp;call&nbsp;sites&nbsp;of&nbsp;AddWithSaturation()&amp;nbsp;&amp;nbsp;&nbsp;anyway,&lt;br&gt;<br>
-&nbsp;if&nbsp;my&nbsp;underlying&nbsp;hardware&nbsp;features&nbsp;SSE2,&nbsp;the&nbsp;attribute&nbsp;is&nbsp;not&nbsp;useful,&nbsp;the&nbsp;virtual&nbsp;machine&nbsp;knows&nbsp;the&nbsp;underlying&nbsp;hardware&nbsp;and&nbsp;thus&nbsp;know&nbsp;that&nbsp;a&nbsp;SSE2&nbsp;instruction&nbsp;is&nbsp;able&nbsp;to&nbsp;emulate&nbsp;this,&lt;br&gt;-&nbsp;if&nbsp;the&nbsp;attribute&nbsp;is&nbsp;there&nbsp;to&nbsp;restrict&nbsp;the&nbsp;mapping&nbsp;to&nbsp;only&nbsp;SSE2&nbsp;(and&nbsp;above)&nbsp;machines,&nbsp;it&nbsp;is&nbsp;an&nbsp;important&nbsp;restriction&nbsp;to&nbsp;the&nbsp;usage&nbsp;of&nbsp;the&nbsp;library.&nbsp;Imagine&nbsp;as&nbsp;above&nbsp;that&nbsp;I&nbsp;have&nbsp;in&nbsp;the&nbsp;future&nbsp;a&nbsp;hardware&nbsp;support&nbsp;XXX&nbsp;that&nbsp;is&nbsp;able&nbsp;to&nbsp;do&nbsp;AddWithSaturation&nbsp;on&nbsp;Vector16b;&nbsp;if&nbsp;I&nbsp;want&nbsp;a&nbsp;virtual&nbsp;machine&nbsp;to&nbsp;execute&nbsp;efficiently&nbsp;this&nbsp;primitive&nbsp;on&nbsp;XXX&nbsp;I&nbsp;would&nbsp;first&nbsp;have&nbsp;to&nbsp;modify&nbsp;the&nbsp;Mono.Simd&nbsp;library&nbsp;to&nbsp;add&nbsp;the&nbsp;corresponding&nbsp;XXX&nbsp;attribute&nbsp;and&nbsp;modify&nbsp;the&nbsp;primitives&nbsp;declaration&nbsp;to&nbsp;account&nbsp;for&nbsp;it.&nbsp;&lt;br&gt;<br>
&lt;br&gt;&amp;nbsp;&nbsp;--&nbsp;Christophe&lt;br&gt;<br>

</tt>
