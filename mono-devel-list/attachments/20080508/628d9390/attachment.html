<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;May&nbsp;8,&nbsp;2008&nbsp;at&nbsp;1:54&nbsp;PM,&nbsp;Luis&nbsp;F.&nbsp;Ortiz&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:LuisOrtiz@verizon.net&quot;&gt;LuisOrtiz@verizon.net&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;style=&quot;&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;div&gt;On&nbsp;May&nbsp;7,&nbsp;2008,&nbsp;at&nbsp;10:50&nbsp;PM,&nbsp;Rodrigo&nbsp;Kumpera&nbsp;wrote:&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;Hi&nbsp;Luis,&lt;br&gt;&lt;br&gt;To&nbsp;have&nbsp;your&nbsp;patch&nbsp;integrated,&nbsp;some&nbsp;changes&nbsp;are&nbsp;needed.&nbsp;First,&nbsp;we&nbsp;want&nbsp;to&nbsp;default&nbsp;to&nbsp;32bits&nbsp;sized&nbsp;arrays&nbsp;on&nbsp;64bits&nbsp;machines,&nbsp;so&nbsp;your&nbsp;changes&nbsp;must&nbsp;be&nbsp;conditionally&nbsp;compiled.&nbsp;To&nbsp;help&nbsp;with&nbsp;that&nbsp;some&nbsp;changed&nbsp;to&nbsp;your&nbsp;patch&nbsp;are&nbsp;due.&nbsp;Next&nbsp;are&nbsp;some&nbsp;comments&nbsp;about&nbsp;it:&lt;br&gt;<br>
&lt;/div&gt;...&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;&amp;nbsp;/*&nbsp;helper&nbsp;macros&nbsp;to&nbsp;check&nbsp;for&nbsp;overflow&nbsp;when&nbsp;calculating&nbsp;the&nbsp;size&nbsp;of&nbsp;arrays&nbsp;*/&lt;br&gt;&nbsp;-#define&nbsp;MYGUINT32_MAX&nbsp;4294967295U&lt;br&gt;+#if&nbsp;(GLIB_SIZEOF_SIZE_T&nbsp;&amp;lt;&nbsp;4&nbsp;)&lt;br&gt;+#define&nbsp;MYGUINT32_MAX&nbsp;0xFFFFFFFFUL&lt;br&gt;<br>
+#define&nbsp;MYGUINT_MAX&nbsp;MYGUINT32_MAX&lt;br&gt;&lt;br&gt;This&nbsp;#if&nbsp;seens&nbsp;bogus,&nbsp;don&amp;#39;t&nbsp;you&nbsp;mean&nbsp;&amp;quot;if&nbsp;((GLIB_SIZEOF_SIZE_T&nbsp;==&nbsp;4&nbsp;)&amp;quot;&nbsp;as&nbsp;mono&nbsp;never&nbsp;supported&nbsp;16bits&nbsp;machines.&lt;br&gt;&nbsp;The&nbsp;macros&nbsp;can&nbsp;be&nbsp;unified&nbsp;by&nbsp;using&nbsp;MYGUINT_MAX&nbsp;and&nbsp;the&nbsp;&amp;#39;array_size_t&amp;#39;&nbsp;type&nbsp;I&nbsp;talked&nbsp;before.&nbsp;The&nbsp;definition&nbsp;of&nbsp;MYGUINT_MAX&lt;br&gt;<br>
should&nbsp;be&nbsp;put&nbsp;together&nbsp;in&nbsp;the&nbsp;same&nbsp;place&nbsp;we&nbsp;define&nbsp;&nbsp;&amp;#39;array_size_t&amp;#39;.&nbsp;And&nbsp;we&nbsp;could&nbsp;go&nbsp;with&nbsp;a&nbsp;meaningful&nbsp;name,&nbsp;don&amp;#39;t&nbsp;you&nbsp;think?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;whole&nbsp;MYGUINT32&nbsp;thing&nbsp;was&nbsp;there&nbsp;before&nbsp;made&nbsp;my&nbsp;changes&nbsp;and&nbsp;appears&nbsp;in&nbsp;other&nbsp;places&nbsp;in&amp;nbsp;interpreter/interp.c&nbsp;as&nbsp;well.&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;don&amp;#39;t&nbsp;understand&nbsp;why&nbsp;the&nbsp;GLIB&nbsp;define&nbsp;of&amp;nbsp;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;G_MAXUINT32&nbsp;was&nbsp;not&nbsp;used&nbsp;instead&nbsp;these&nbsp;private&nbsp;definitions.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;I&nbsp;get&nbsp;nervous&nbsp;when&nbsp;I&nbsp;see&nbsp;magic&nbsp;constants,&nbsp;either&nbsp;in&nbsp;hexadecimal&nbsp;or&nbsp;decimal.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;I&nbsp;would&nbsp;rather&nbsp;see&nbsp;a&nbsp;definition&nbsp;of&nbsp;MONO_ARRAY_MAX_INDEX&nbsp;set&nbsp;to&nbsp;either&nbsp;G_MAXINT32&nbsp;or&nbsp;G_MAXINT64&nbsp;and&nbsp;a&nbsp;definition&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;of&nbsp;MONO_ARRAY_MAX_SIZE&nbsp;set&nbsp;to&nbsp;either&nbsp;G_MAXUNIT32&nbsp;or&nbsp;G_MAXUNIT64,&nbsp;in&nbsp;object.h&nbsp;.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;Then&nbsp;this&nbsp;code&nbsp;could&nbsp;lose&nbsp;the&nbsp;#if&nbsp;here&nbsp;and&nbsp;the&nbsp;magic&nbsp;numbers&nbsp;would&nbsp;be&nbsp;kept&nbsp;in&nbsp;one&nbsp;place.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;/Ortiz/Luis&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;Lucida&nbsp;Grande&amp;#39;&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-size:&nbsp;11px;&nbsp;white-space:&nbsp;pre;&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;I&nbsp;agree&nbsp;with&nbsp;on&nbsp;the&nbsp;naming,&nbsp;my&nbsp;argument&nbsp;was&nbsp;against&nbsp;the&nbsp;existing&nbsp;code&nbsp;which&nbsp;don&amp;#39;t&nbsp;give&nbsp;a&nbsp;clue&nbsp;about&nbsp;what&nbsp;it&nbsp;is&nbsp;supposed&nbsp;to&nbsp;be.&lt;br&gt;&lt;br&gt;&lt;br&gt;Rodrigo&lt;br&gt;&lt;br&gt;<br>

</tt>
