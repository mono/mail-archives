<tt>
As&nbsp;far&nbsp;as&nbsp;the&nbsp;version,&nbsp;the&nbsp;current&nbsp;glib&nbsp;depends&nbsp;on&nbsp;c&nbsp;runtime&nbsp;version&nbsp;7.0.2600.2180.&nbsp;The&nbsp;newest&nbsp;glib&nbsp;depends&nbsp;on&nbsp;the&nbsp;same&nbsp;one.&nbsp;As&nbsp;the&nbsp;previous&nbsp;version&nbsp;is&nbsp;working&nbsp;(somehow&nbsp;in&nbsp;VS&nbsp;2005),&nbsp;I'd&nbsp;assume&nbsp;the&nbsp;newest&nbsp;version&nbsp;would&nbsp;continue&nbsp;working?<br>
&lt;br&gt;&lt;br&gt;-&nbsp;Jonathan&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;9/15/06,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Michael&nbsp;Jerris&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mike@jerris.com&quot;&gt;mike@jerris.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;br&gt;&amp;gt;From:&nbsp;&lt;a&nbsp;href=&quot;mailto:mono-devel-list-bounces@lists.ximian.com&quot;&gt;mono-devel-list-bounces@lists.ximian.com&lt;/a&gt;&lt;br&gt;[mailto:&lt;a&nbsp;href=&quot;mailto:mono-devel-list-bounces@lists.ximian.com&quot;&gt;mono-devel-list-bounces@lists.ximian.com<br>
&lt;/a&gt;]&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;Jon&lt;br&gt;Chambers&lt;br&gt;&amp;gt;Sent:&nbsp;Friday,&nbsp;September&nbsp;15,&nbsp;2006&nbsp;10:43&nbsp;AM&lt;br&gt;&amp;gt;To:&nbsp;Mono&nbsp;Devel&nbsp;List&lt;br&gt;&amp;gt;Subject:&nbsp;[Mono-dev]&nbsp;Upgrade&nbsp;dependencies&nbsp;for&nbsp;VS&nbsp;build&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;Currently&nbsp;to&nbsp;build&nbsp;mono&nbsp;in&nbsp;VS,&nbsp;one&nbsp;must&nbsp;download&nbsp;a&nbsp;<br>
VSDependencies.zip&lt;br&gt;that&nbsp;contains&nbsp;required&nbsp;dependencies&nbsp;for&nbsp;building&nbsp;mono.&nbsp;This&nbsp;zip&lt;br&gt;&amp;gt;contains&nbsp;an&nbsp;older&nbsp;version&nbsp;of&nbsp;glib,&nbsp;as&nbsp;well&nbsp;as&nbsp;other&nbsp;things.&nbsp;On&nbsp;my&lt;br&gt;machine&nbsp;I've&nbsp;upgraded&nbsp;to&nbsp;the&nbsp;latest&nbsp;version&nbsp;of&nbsp;glib&nbsp;on&nbsp;windows&nbsp;&amp;gt;<br>
2.9.5&lt;br&gt;and&nbsp;done&nbsp;some&nbsp;work&nbsp;to&nbsp;get&nbsp;things&nbsp;building&nbsp;with&nbsp;this.&nbsp;So,&nbsp;how&nbsp;could&nbsp;I&nbsp;get&lt;br&gt;this&nbsp;back&nbsp;into&nbsp;the&nbsp;VSDependencies.zip&nbsp;(I&nbsp;assume&nbsp;we&nbsp;&amp;gt;would&nbsp;rather&nbsp;be&lt;br&gt;using&nbsp;this&nbsp;newer&nbsp;version&nbsp;of&nbsp;glib)?&lt;br&gt;&amp;gt;&lt;br&gt;&lt;br&gt;The&nbsp;problem&nbsp;is&nbsp;bigger&nbsp;than&nbsp;that,&nbsp;when&nbsp;building&nbsp;with&nbsp;visual&nbsp;studio&nbsp;after<br>
&lt;br&gt;version&nbsp;6,&nbsp;it&nbsp;uses&nbsp;a&nbsp;different&nbsp;version&nbsp;of&nbsp;the&nbsp;c&nbsp;runtime,&nbsp;and&nbsp;you&nbsp;can&nbsp;not&lt;br&gt;intermingle&nbsp;different&nbsp;versions&nbsp;of&nbsp;this&nbsp;runtime&nbsp;when&nbsp;passing&nbsp;references&lt;br&gt;such&nbsp;as&nbsp;file&nbsp;handles&nbsp;between&nbsp;dll's.&amp;nbsp;&amp;nbsp;Because&nbsp;of&nbsp;this&nbsp;you&nbsp;need&nbsp;to&nbsp;have<br>
&lt;br&gt;glib&nbsp;(or&nbsp;hopefully&nbsp;eglib&nbsp;soon)&nbsp;built&nbsp;with&nbsp;the&nbsp;same&nbsp;compiler&nbsp;version&nbsp;as&lt;br&gt;you&nbsp;are&nbsp;building&nbsp;mono.&amp;nbsp;&amp;nbsp;Currently&nbsp;there&nbsp;is&nbsp;very&nbsp;poor&nbsp;modern&nbsp;visual&lt;br&gt;studio&nbsp;support&nbsp;for&nbsp;glib,&nbsp;although&nbsp;I&nbsp;am&nbsp;sure&nbsp;that&nbsp;would&nbsp;be&nbsp;fairly&nbsp;easy&nbsp;to&lt;br&gt;<br>
rectify.&amp;nbsp;&amp;nbsp;The&nbsp;other&nbsp;option&nbsp;would&nbsp;be&nbsp;to&nbsp;have&nbsp;different&nbsp;versions&nbsp;of&nbsp;the&lt;br&gt;binary&nbsp;glib&nbsp;files&nbsp;for&nbsp;each&nbsp;of&nbsp;the&nbsp;different&nbsp;runtimes.&amp;nbsp;&amp;nbsp;(6,&nbsp;7.0,&nbsp;7.1,&nbsp;8&lt;br&gt;both&nbsp;release&nbsp;and&nbsp;debug),&nbsp;but&nbsp;this&nbsp;is&nbsp;quite&nbsp;messy.&lt;br&gt;&lt;br&gt;&amp;gt;It&nbsp;seems&nbsp;like&nbsp;the&nbsp;only&nbsp;thing&nbsp;the&nbsp;user&nbsp;really&nbsp;needs&nbsp;to&nbsp;download&nbsp;is&nbsp;the<br>
&lt;br&gt;latest&nbsp;glib&nbsp;package.&nbsp;The&nbsp;only&nbsp;other&nbsp;thing&nbsp;I&nbsp;think&nbsp;I&nbsp;need&nbsp;from&lt;br&gt;&amp;gt;VSDependencies&nbsp;is&nbsp;an&nbsp;empty&nbsp;unistd.h&nbsp;file,&nbsp;and&nbsp;a&nbsp;sys&nbsp;directory&nbsp;with&nbsp;a&lt;br&gt;time.h&nbsp;and&nbsp;a&nbsp;param.h.&nbsp;The&nbsp;unistd.h&nbsp;is&nbsp;there&nbsp;rather&nbsp;than&nbsp;&amp;gt;#ifdef'ing&nbsp;the&lt;br&gt;<br>
source&nbsp;code.&nbsp;I&nbsp;don't&nbsp;think&nbsp;there&nbsp;is&nbsp;anything&nbsp;special&nbsp;about&nbsp;the&nbsp;included&lt;br&gt;time.h&nbsp;either&nbsp;(I'm&nbsp;wondering&nbsp;if&nbsp;I&nbsp;could&nbsp;just&nbsp;&amp;gt;include&nbsp;the&nbsp;standard&lt;br&gt;windows&nbsp;one)?&nbsp;Maybe&nbsp;we&nbsp;could&nbsp;remove&nbsp;the&nbsp;dependency&nbsp;for&lt;br&gt;VSDependencies.zip<br>
&nbsp;altogether.&lt;br&gt;&lt;br&gt;Going&nbsp;to&nbsp;a&nbsp;pure&nbsp;VS&nbsp;build&nbsp;will&nbsp;take&nbsp;a&nbsp;few&nbsp;more&nbsp;steps&nbsp;as&nbsp;well,&nbsp;we&nbsp;need&nbsp;to&lt;br&gt;generate&nbsp;the&nbsp;bison&nbsp;generated&nbsp;files&nbsp;for&nbsp;monoburg.&amp;nbsp;&amp;nbsp;For&nbsp;this,&nbsp;I&nbsp;have&nbsp;a&lt;br&gt;patch&nbsp;in&nbsp;the&nbsp;works&nbsp;that&nbsp;generates&nbsp;a&nbsp;temp&nbsp;file&nbsp;parser.c.win<br>
&nbsp;that&nbsp;can&nbsp;be&lt;br&gt;checked&nbsp;into&nbsp;tree,&nbsp;so&nbsp;that&nbsp;people&nbsp;building&nbsp;with&nbsp;msvc&nbsp;don't&nbsp;need&nbsp;to&nbsp;have&lt;br&gt;bison&nbsp;to&nbsp;build,&nbsp;this&nbsp;file&nbsp;will&nbsp;need&nbsp;to&nbsp;be&nbsp;re-generated&nbsp;if&nbsp;there&nbsp;are&nbsp;any&lt;br&gt;changes&nbsp;to&nbsp;monoburg.y.&amp;nbsp;&amp;nbsp;Please&nbsp;note,&nbsp;you&nbsp;can&nbsp;not&nbsp;just&nbsp;have&nbsp;a&nbsp;single<br>
&lt;br&gt;generated&nbsp;parser.c&nbsp;file&nbsp;for&nbsp;windows&nbsp;and&nbsp;unix&nbsp;in&nbsp;tree&nbsp;as&nbsp;the&nbsp;output&nbsp;of&lt;br&gt;bison&nbsp;is&nbsp;different&nbsp;for&nbsp;windows&nbsp;and&nbsp;unix.&amp;nbsp;&amp;nbsp;After&nbsp;that,&nbsp;we&nbsp;need&nbsp;to&nbsp;address&lt;br&gt;building&nbsp;the&nbsp;platform&nbsp;specific&nbsp;files&nbsp;that&nbsp;are&nbsp;generated&nbsp;from&nbsp;monoburg.<br>
&lt;br&gt;This&nbsp;should&nbsp;be&nbsp;fairly&nbsp;easy&nbsp;to&nbsp;generate&nbsp;from&nbsp;different&nbsp;targets&nbsp;in&nbsp;the&lt;br&gt;project&nbsp;files.&amp;nbsp;&amp;nbsp;From&nbsp;this&nbsp;point,&nbsp;it&nbsp;should&nbsp;be&nbsp;fairly&nbsp;easy&nbsp;to&nbsp;build&nbsp;at&lt;br&gt;least&nbsp;libmono&nbsp;completely&nbsp;in&nbsp;tree&nbsp;with&nbsp;only&nbsp;visual&nbsp;studio&nbsp;and&nbsp;without&lt;br&gt;<br>
cygwin.&amp;nbsp;&amp;nbsp;The&nbsp;tests&nbsp;are&nbsp;a&nbsp;different&nbsp;story,&nbsp;and&nbsp;would&nbsp;have&nbsp;to&nbsp;be&nbsp;handled&lt;br&gt;later.&lt;br&gt;&lt;br&gt;The&nbsp;biggest&nbsp;issue&nbsp;in&nbsp;all&nbsp;of&nbsp;this&nbsp;is&nbsp;the&nbsp;glib&nbsp;dependency.&amp;nbsp;&amp;nbsp;How&nbsp;do&nbsp;we&lt;br&gt;address&nbsp;this,&nbsp;do&nbsp;we&nbsp;just&nbsp;use&nbsp;different&nbsp;binary&nbsp;versions,&nbsp;do&nbsp;we&nbsp;focus&nbsp;our<br>
&lt;br&gt;efforts&nbsp;on&nbsp;getting&nbsp;a&nbsp;clean&nbsp;build&nbsp;of&nbsp;eglib&nbsp;and&nbsp;completing&nbsp;that&nbsp;for&lt;br&gt;windows.&amp;nbsp;&amp;nbsp;I&nbsp;think&nbsp;for&nbsp;the&nbsp;short&nbsp;term,&nbsp;I&nbsp;would&nbsp;be&nbsp;happy&nbsp;to&nbsp;provide&nbsp;glib&lt;br&gt;binaries,&nbsp;at&nbsp;least&nbsp;for&nbsp;visual&nbsp;studio&nbsp;8,&nbsp;for&nbsp;people&nbsp;to&nbsp;use.&amp;nbsp;&amp;nbsp;The&nbsp;rest&nbsp;of&lt;br&gt;<br>
the&nbsp;files&nbsp;not&nbsp;related&nbsp;to&nbsp;glib&nbsp;in&nbsp;VSDependencies&nbsp;(such&nbsp;as&nbsp;the&nbsp;other&lt;br&gt;header&nbsp;files)&nbsp;should&nbsp;probably&nbsp;just&nbsp;be&nbsp;checked&nbsp;into&nbsp;tree&nbsp;in&nbsp;a&nbsp;separate&lt;br&gt;directory&nbsp;that&nbsp;can&nbsp;be&nbsp;included&nbsp;from&nbsp;the&nbsp;project&nbsp;file.&lt;br&gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;Also,&nbsp;I'd&nbsp;like&nbsp;to&nbsp;setup&nbsp;the&nbsp;release&nbsp;target&nbsp;correctly.<br>
&lt;br&gt;&lt;br&gt;I&nbsp;would&nbsp;agree&nbsp;with&nbsp;that&nbsp;as&nbsp;well.&lt;br&gt;&lt;br&gt;Also,&nbsp;see&nbsp;attached,&nbsp;my&nbsp;first&nbsp;draft&nbsp;of&nbsp;the&nbsp;patches&nbsp;to&nbsp;the&nbsp;monoburg&nbsp;build&lt;br&gt;for&nbsp;VS&nbsp;provide&nbsp;for&nbsp;input&nbsp;on&nbsp;the&nbsp;approach&nbsp;used&nbsp;here.&lt;br&gt;&lt;br&gt;Thanks&lt;br&gt;Mike&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>

</tt>
