<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello&nbsp;Andreas,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Could&nbsp;you&nbsp;send&nbsp;pull&nbsp;request&nbsp;instead&nbsp;of&nbsp;inline&nbsp;patch&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&lt;/div&gt;&lt;div&gt;Marek&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;have&nbsp;implemented&nbsp;the&nbsp;serialization&nbsp;of&nbsp;the&nbsp;TimeZoneInfo<br>
&nbsp;&nbsp;&nbsp;&nbsp;class.&nbsp;It&nbsp;is&nbsp;compatible&nbsp;to&nbsp;the&nbsp;serialization&nbsp;in&nbsp;.Net&nbsp;so&nbsp;cross<br>
&nbsp;&nbsp;&nbsp;&nbsp;serialization&nbsp;shouldn&#39;t&nbsp;be&nbsp;a&nbsp;problem.&nbsp;I&nbsp;hope&nbsp;it&nbsp;will&nbsp;be&nbsp;included&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;next&nbsp;releases&nbsp;of&nbsp;Mono.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;patch:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;--git<br>
&nbsp;&nbsp;&nbsp;&nbsp;a/mcs/class/System.Core/System/TimeZoneInfo.AdjustmentRule.cs<br>
&nbsp;&nbsp;&nbsp;&nbsp;b/mcs/class/System.Core/System/TimeZoneInfo.AdjustmentRule.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;d3c16f4..4c413a8&nbsp;100644&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&nbsp;a/mcs/class/System.Core/System/TimeZoneInfo.AdjustmentRule.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+++&nbsp;b/mcs/class/System.Core/System/TimeZoneInfo.AdjustmentRule.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-74,6&nbsp;+74,17&nbsp;@@&nbsp;namespace&nbsp;System&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;return&nbsp;new&nbsp;AdjustmentRule&nbsp;(dateStart,&nbsp;dateEnd,<br>
&nbsp;&nbsp;&nbsp;&nbsp;daylightDelta,&nbsp;daylightTransitionStart,&nbsp;daylightTransitionEnd);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;private&nbsp;AdjustmentRule&nbsp;(SerializationInfo&nbsp;info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;StreamingContext&nbsp;context)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(info&nbsp;==&nbsp;null)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentNullException&nbsp;(&quot;info&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;dateStart&nbsp;=&nbsp;(DateTime)&nbsp;info.GetValue&nbsp;(&quot;DateStart&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;typeof&nbsp;(DateTime));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;dateEnd&nbsp;=&nbsp;(DateTime)&nbsp;info.GetValue&nbsp;(&quot;DateEnd&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;typeof&nbsp;(DateTime));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;daylightDelta&nbsp;=&nbsp;(TimeSpan)&nbsp;info.GetValue<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;DaylightDelta&quot;,&nbsp;typeof&nbsp;(TimeSpan));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;daylightTransitionStart&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;(TimeZoneInfo.TransitionTime)&nbsp;info.GetValue<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;DaylightTransitionStart&quot;,&nbsp;typeof&nbsp;(TimeZoneInfo.TransitionTime));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;daylightTransitionEnd&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;(TimeZoneInfo.TransitionTime)&nbsp;info.GetValue<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;DaylightTransitionEnd&quot;,&nbsp;typeof&nbsp;(TimeZoneInfo.TransitionTime));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;private&nbsp;AdjustmentRule&nbsp;(&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;DateTime&nbsp;dateStart,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;DateTime&nbsp;dateEnd,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-130,7&nbsp;+141,13&nbsp;@@&nbsp;namespace&nbsp;System&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;public&nbsp;void&nbsp;GetObjectData&nbsp;(SerializationInfo&nbsp;info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;StreamingContext&nbsp;context)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;NotImplementedException&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(info&nbsp;==&nbsp;null)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentNullException&nbsp;(&quot;info&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;DateStart&quot;,&nbsp;DateStart);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;DateEnd&quot;,&nbsp;DateEnd);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;DaylightDelta&quot;,&nbsp;DaylightDelta);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;DaylightTransitionStart&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;DaylightTransitionStart);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;DaylightTransitionEnd&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;DaylightTransitionEnd);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #if&nbsp;NET_4_0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;void&nbsp;IDeserializationCallback.OnDeserialization&nbsp;(object<br>
&nbsp;&nbsp;&nbsp;&nbsp;sender)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-138,7&nbsp;+155,38&nbsp;@@&nbsp;namespace&nbsp;System&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;public&nbsp;void&nbsp;OnDeserialization&nbsp;(object&nbsp;sender)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;NotImplementedException&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;try&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;TimeZoneInfo.AdjustmentRule.Validate<br>
&nbsp;&nbsp;&nbsp;&nbsp;(dateStart,&nbsp;dateEnd,&nbsp;daylightDelta,&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;                                     <br>
&nbsp;&nbsp;&nbsp;&nbsp;daylightTransitionStart,&nbsp;daylightTransitionEnd);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&nbsp;catch&nbsp;(ArgumentException&nbsp;ex)&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;SerializationException&nbsp;(&quot;invalid<br>
&nbsp;&nbsp;&nbsp;&nbsp;serialization&nbsp;data&quot;,&nbsp;(Exception)&nbsp;ex);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;private&nbsp;static&nbsp;void&nbsp;Validate&nbsp;(&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;DateTime&nbsp;dateStart,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;DateTime&nbsp;dateEnd,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;TimeSpan&nbsp;daylightDelta,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;TransitionTime&nbsp;daylightTransitionStart,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;TransitionTime&nbsp;daylightTransitionEnd)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(dateStart.Kind&nbsp;!=&nbsp;DateTimeKind.Unspecified&nbsp;||<br>
&nbsp;&nbsp;&nbsp;&nbsp;dateEnd.Kind&nbsp;!=&nbsp;DateTimeKind.Unspecified)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentException&nbsp;(&quot;the&nbsp;Kind&nbsp;property<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;dateStart&nbsp;or&nbsp;dateEnd&nbsp;parameter&nbsp;does&nbsp;not&nbsp;equal<br>
&nbsp;&nbsp;&nbsp;&nbsp;DateTimeKind.Unspecified&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(daylightTransitionStart&nbsp;==<br>
&nbsp;&nbsp;&nbsp;&nbsp;daylightTransitionEnd)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentException<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;daylightTransitionStart&nbsp;parameter&nbsp;cannot&nbsp;equal<br>
&nbsp;&nbsp;&nbsp;&nbsp;daylightTransitionEnd&nbsp;parameter&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(dateStart.Ticks&nbsp;%&nbsp;TimeSpan.TicksPerDay&nbsp;!=&nbsp;0&nbsp;||<br>
&nbsp;&nbsp;&nbsp;&nbsp;dateEnd.Ticks&nbsp;%&nbsp;TimeSpan.TicksPerDay&nbsp;!=&nbsp;0)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentException&nbsp;(&quot;dateStart&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;dateEnd&nbsp;parameter&nbsp;includes&nbsp;a&nbsp;time&nbsp;of&nbsp;day&nbsp;value&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(dateEnd&nbsp;&lt;&nbsp;dateStart)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentOutOfRangeException&nbsp;(&quot;dateEnd<br>
&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;earlier&nbsp;than&nbsp;dateStart&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(daylightDelta&nbsp;&gt;&nbsp;new&nbsp;TimeSpan&nbsp;(14,&nbsp;0,&nbsp;0)&nbsp;||<br>
&nbsp;&nbsp;&nbsp;&nbsp;daylightDelta&nbsp;&lt;&nbsp;new&nbsp;TimeSpan&nbsp;(-14,&nbsp;0,&nbsp;0))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentOutOfRangeException<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;daylightDelta&nbsp;is&nbsp;less&nbsp;than&nbsp;-14&nbsp;or&nbsp;greater&nbsp;than&nbsp;14&nbsp;hours&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(daylightDelta.Ticks&nbsp;%&nbsp;TimeSpan.TicksPerSecond<br>
&nbsp;&nbsp;&nbsp;&nbsp;!=&nbsp;0)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentOutOfRangeException<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;daylightDelta&nbsp;parameter&nbsp;does&nbsp;not&nbsp;represent&nbsp;a&nbsp;whole&nbsp;number&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;seconds&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;--git<br>
&nbsp;&nbsp;&nbsp;&nbsp;a/mcs/class/System.Core/System/TimeZoneInfo.TransitionTime.cs<br>
&nbsp;&nbsp;&nbsp;&nbsp;b/mcs/class/System.Core/System/TimeZoneInfo.TransitionTime.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;a914ed1..0a72ce2&nbsp;100644&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&nbsp;a/mcs/class/System.Core/System/TimeZoneInfo.TransitionTime.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+++&nbsp;b/mcs/class/System.Core/System/TimeZoneInfo.TransitionTime.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-108,6&nbsp;+108,26&nbsp;@@&nbsp;namespace&nbsp;System&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;return&nbsp;new&nbsp;TransitionTime&nbsp;(timeOfDay,&nbsp;month,&nbsp;week,<br>
&nbsp;&nbsp;&nbsp;&nbsp;dayOfWeek);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;private&nbsp;TransitionTime&nbsp;(SerializationInfo&nbsp;info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;StreamingContext&nbsp;context)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(info&nbsp;==&nbsp;null)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentNullException&nbsp;(&quot;info&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;timeOfDay&nbsp;=&nbsp;(DateTime)&nbsp;info.GetValue&nbsp;(&quot;TimeOfDay&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;typeof&nbsp;(DateTime));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;month&nbsp;=&nbsp;(byte)&nbsp;info.GetValue&nbsp;(&quot;Month&quot;,&nbsp;typeof<br>
&nbsp;&nbsp;&nbsp;&nbsp;(byte));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;week&nbsp;=&nbsp;(byte)&nbsp;info.GetValue&nbsp;(&quot;Week&quot;,&nbsp;typeof<br>
&nbsp;&nbsp;&nbsp;&nbsp;(byte));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;day&nbsp;=&nbsp;(byte)&nbsp;info.GetValue&nbsp;(&quot;Day&quot;,&nbsp;typeof&nbsp;(byte));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;dayOfWeek&nbsp;=&nbsp;(DayOfWeek)&nbsp;info.GetValue&nbsp;(&quot;DayOfWeek&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;typeof&nbsp;(DayOfWeek));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;isFixedDateRule&nbsp;=&nbsp;(bool)&nbsp;info.GetValue<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;IsFixedDateRule&quot;,&nbsp;typeof&nbsp;(bool));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(isFixedDateRule)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;week&nbsp;=&nbsp;-1;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;dayOfWeek&nbsp;=&nbsp;(DayOfWeek)&nbsp;(-1);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(!isFixedDateRule)   &nbsp;   &nbsp;   &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;day&nbsp;=&nbsp;-1;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;private&nbsp;TransitionTime&nbsp;(&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;DateTime&nbsp;timeOfDay,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;int&nbsp;month,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-190,9&nbsp;+210,25&nbsp;@@&nbsp;namespace&nbsp;System&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;public&nbsp;void&nbsp;GetObjectData&nbsp;(SerializationInfo&nbsp;info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;StreamingContext&nbsp;context)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;NotImplementedException&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-   &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(info&nbsp;==&nbsp;null)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentNullException&nbsp;(&quot;info&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;TimeOfDay&quot;,&nbsp;TimeOfDay);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;Month&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.Convert.ToByte(Month));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(week&nbsp;&gt;&nbsp;-1)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;Week&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.Convert.ToByte(week));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;else&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;Week&quot;,&nbsp;(byte)&nbsp;1);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(day&nbsp;&gt;&nbsp;-1)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;Day&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.Convert.ToByte(day));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;else&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;Day&quot;,&nbsp;(byte)&nbsp;1);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(dayOfWeek&nbsp;!= &nbsp;((System.DayOfWeek)&nbsp;(-1)))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;DayOfWeek&quot;,&nbsp;dayOfWeek);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;else&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;DayOfWeek&quot;,&nbsp;DayOfWeek.Sunday);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;IsFixedDateRule&quot;,&nbsp;IsFixedDateRule);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;}   &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;public&nbsp;override&nbsp;bool&nbsp;Equals&nbsp;(object&nbsp;obj)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(obj&nbsp;is&nbsp;TransitionTime)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-216,7&nbsp;+252,50&nbsp;@@&nbsp;namespace&nbsp;System&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;public&nbsp;void&nbsp;OnDeserialization&nbsp;(object&nbsp;sender)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;NotImplementedException&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;try&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;TimeZoneInfo.TransitionTime.Validate<br>
&nbsp;&nbsp;&nbsp;&nbsp;(timeOfDay,&nbsp;month,&nbsp;week,&nbsp;day,&nbsp;dayOfWeek,&nbsp;isFixedDateRule);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&nbsp;catch&nbsp;(ArgumentException&nbsp;ex)&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;SerializationException&nbsp;(&quot;invalid<br>
&nbsp;&nbsp;&nbsp;&nbsp;serialization&nbsp;data&quot;,&nbsp;(Exception)&nbsp;ex);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;private&nbsp;static&nbsp;void&nbsp;Validate&nbsp;(DateTime&nbsp;timeOfDay,&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;month,int&nbsp;week,&nbsp;int&nbsp;day,&nbsp;DayOfWeek&nbsp;dayOfWeek,&nbsp;bool&nbsp;isFixedDateRule)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(timeOfDay.Year&nbsp;!=&nbsp;1&nbsp;||&nbsp;timeOfDay.Month&nbsp;!=&nbsp;1&nbsp;||<br>
&nbsp;&nbsp;&nbsp;&nbsp;timeOfDay.Day&nbsp;!=&nbsp;1)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentException&nbsp;(&quot;timeOfDay<br>
&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp;has&nbsp;a&nbsp;non-default&nbsp;date&nbsp;component&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(timeOfDay.Kind&nbsp;!=&nbsp;DateTimeKind.Unspecified)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentException&nbsp;(&quot;timeOfDay<br>
&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp;Kind&#39;s&nbsp;property&nbsp;is&nbsp;not&nbsp;DateTimeKind.Unspecified&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(timeOfDay.Ticks&nbsp;%&nbsp;TimeSpan.TicksPerMillisecond<br>
&nbsp;&nbsp;&nbsp;&nbsp;!=&nbsp;0)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentException&nbsp;(&quot;timeOfDay<br>
&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp;does&nbsp;not&nbsp;represent&nbsp;a&nbsp;whole&nbsp;number&nbsp;of&nbsp;milliseconds&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(day&nbsp;&lt;&nbsp;1&nbsp;||&nbsp;day&nbsp;&gt;&nbsp;31)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(!(!isFixedDateRule&nbsp;&amp;&amp;&nbsp;day&nbsp;==&nbsp;-1))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentOutOfRangeException&nbsp;(&quot;day<br>
&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp;is&nbsp;less&nbsp;than&nbsp;1&nbsp;or&nbsp;greater&nbsp;than&nbsp;31&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(week&nbsp;&lt;&nbsp;1&nbsp;||&nbsp;week&nbsp;&gt;&nbsp;5)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(!(isFixedDateRule&nbsp;&amp;&amp;&nbsp;week&nbsp;==&nbsp;-1))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentOutOfRangeException<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;week&nbsp;parameter&nbsp;is&nbsp;less&nbsp;than&nbsp;1&nbsp;or&nbsp;greater&nbsp;than&nbsp;5&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(month&nbsp;&lt;&nbsp;1&nbsp;||&nbsp;month&nbsp;&gt;&nbsp;12)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentOutOfRangeException&nbsp;(&quot;month<br>
&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp;is&nbsp;less&nbsp;than&nbsp;1&nbsp;or&nbsp;greater&nbsp;than&nbsp;12&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(dayOfWeek&nbsp;!=&nbsp;DayOfWeek.Sunday&nbsp;&amp;&amp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;dayOfWeek&nbsp;!=&nbsp;DayOfWeek.Monday&nbsp;&amp;&amp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;dayOfWeek&nbsp;!=&nbsp;DayOfWeek.Tuesday&nbsp;&amp;&amp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;dayOfWeek&nbsp;!=&nbsp;DayOfWeek.Wednesday&nbsp;&amp;&amp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;dayOfWeek&nbsp;!=&nbsp;DayOfWeek.Thursday&nbsp;&amp;&amp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;dayOfWeek&nbsp;!=&nbsp;DayOfWeek.Friday&nbsp;&amp;&amp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;dayOfWeek&nbsp;!=&nbsp;DayOfWeek.Saturday)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(!(isFixedDateRule&nbsp;&amp;&amp;&nbsp;dayOfWeek&nbsp;==<br>
&nbsp;&nbsp;&nbsp;&nbsp;(DayOfWeek)&nbsp;(-1)))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentOutOfRangeException<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;dayOfWeek&nbsp;parameter&nbsp;is&nbsp;not&nbsp;a&nbsp;member&nbsp;od&nbsp;DayOfWeek&nbsp;enumeration&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;--git&nbsp;a/mcs/class/System.Core/System/TimeZoneInfo.cs<br>
&nbsp;&nbsp;&nbsp;&nbsp;b/mcs/class/System.Core/System/TimeZoneInfo.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;ee440a4..dd3c656&nbsp;100644&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&nbsp;a/mcs/class/System.Core/System/TimeZoneInfo.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+++&nbsp;b/mcs/class/System.Core/System/TimeZoneInfo.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-598,11&nbsp;+531,19&nbsp;@@&nbsp;namespace&nbsp;System&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;public&nbsp;void&nbsp;GetObjectData&nbsp;(SerializationInfo&nbsp;info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;StreamingContext&nbsp;context)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;NotImplementedException&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;if&nbsp;(info&nbsp;==&nbsp;null)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentNullException&nbsp;(&quot;info&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;Id&quot;,&nbsp;id);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;DisplayName&quot;,&nbsp;displayName);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;StandardName&quot;,&nbsp;standardDisplayName);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;DaylightName&quot;,&nbsp;daylightDisplayName);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;BaseUtcOffset&quot;,&nbsp;baseUtcOffset);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;AdjustmentRules&quot;,&nbsp;adjustmentRules);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;info.AddValue&nbsp;(&quot;SupportsDaylightSavingTime&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;SupportsDaylightSavingTime);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;//FIXME:&nbsp;change&nbsp;this&nbsp;to&nbsp;a&nbsp;generic&nbsp;Dictionary&nbsp;and&nbsp;allow<br>
&nbsp;&nbsp;&nbsp;&nbsp;caching&nbsp;for&nbsp;FindSystemTimeZoneById&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-786,9&nbsp;+725,56&nbsp;@@&nbsp;namespace&nbsp;System&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;public&nbsp;void&nbsp;OnDeserialization&nbsp;(object&nbsp;sender)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;NotImplementedException&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;try&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;TimeZoneInfo.Validate&nbsp;(id,&nbsp;baseUtcOffset,<br>
&nbsp;&nbsp;&nbsp;&nbsp;adjustmentRules);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&nbsp;catch&nbsp;(ArgumentException&nbsp;ex)&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;SerializationException&nbsp;(&quot;invalid<br>
&nbsp;&nbsp;&nbsp;&nbsp;serialization&nbsp;data&quot;,&nbsp;(Exception)&nbsp;ex);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-   &nbsp;   &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;private&nbsp;static&nbsp;void&nbsp;Validate&nbsp;(string&nbsp;id,&nbsp;TimeSpan<br>
&nbsp;&nbsp;&nbsp;&nbsp;baseUtcOffset,&nbsp;AdjustmentRule&nbsp;[]&nbsp;adjustmentRules)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;if&nbsp;(id&nbsp;==&nbsp;null)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentNullException&nbsp;(&quot;id&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;if&nbsp;(id&nbsp;==&nbsp;String.Empty)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentException&nbsp;(&quot;id&nbsp;parameter&nbsp;is&nbsp;an<br>
&nbsp;&nbsp;&nbsp;&nbsp;empty&nbsp;string&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;if&nbsp;(baseUtcOffset.Ticks&nbsp;%&nbsp;TimeSpan.TicksPerMinute&nbsp;!=&nbsp;0)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentException&nbsp;(&quot;baseUtcOffset<br>
&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp;does&nbsp;not&nbsp;represent&nbsp;a&nbsp;whole&nbsp;number&nbsp;of&nbsp;minutes&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;if&nbsp;(baseUtcOffset&nbsp;&gt;&nbsp;new&nbsp;TimeSpan&nbsp;(14,&nbsp;0,&nbsp;0)&nbsp;||<br>
&nbsp;&nbsp;&nbsp;&nbsp;baseUtcOffset&nbsp;&lt;&nbsp;new&nbsp;TimeSpan&nbsp;(-14,&nbsp;0,&nbsp;0))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentOutOfRangeException<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;baseUtcOffset&nbsp;parameter&nbsp;is&nbsp;greater&nbsp;than&nbsp;14&nbsp;hours&nbsp;or&nbsp;less&nbsp;than&nbsp;-14<br>
&nbsp;&nbsp;&nbsp;&nbsp;hours&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+#if&nbsp;STRICT&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;if&nbsp;(id.Length&nbsp;&gt;&nbsp;32)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentException&nbsp;(&quot;id&nbsp;parameter<br>
&nbsp;&nbsp;&nbsp;&nbsp;shouldn&#39;t&nbsp;be&nbsp;longer&nbsp;than&nbsp;32&nbsp;characters&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+#endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;if&nbsp;(adjustmentRules&nbsp;!=&nbsp;null&nbsp;&amp;&amp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;adjustmentRules.Length&nbsp;!=&nbsp;0)&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;AdjustmentRule&nbsp;prev&nbsp;=&nbsp;null;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;foreach&nbsp;(AdjustmentRule&nbsp;current&nbsp;in&nbsp;adjustmentRules)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(current&nbsp;==&nbsp;null)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;InvalidTimeZoneException&nbsp;(&quot;one&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;more&nbsp;elements&nbsp;in&nbsp;adjustmentRules&nbsp;are&nbsp;null&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;((baseUtcOffset&nbsp;+&nbsp;current.DaylightDelta&nbsp;&lt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;TimeSpan&nbsp;(-14,&nbsp;0,&nbsp;0))&nbsp;||&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;(baseUtcOffset&nbsp;+&nbsp;current.DaylightDelta<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;new&nbsp;TimeSpan&nbsp;(14,&nbsp;0,&nbsp;0)))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;InvalidTimeZoneException&nbsp;(&quot;Sum&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;baseUtcOffset&nbsp;and&nbsp;DaylightDelta&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;object&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;adjustmentRules&nbsp;array&nbsp;is&nbsp;greater&nbsp;than&nbsp;14&nbsp;or&nbsp;less&nbsp;than&nbsp;-14&nbsp;hours;&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(prev&nbsp;!=&nbsp;null&nbsp;&amp;&amp;&nbsp;prev.DateStart&nbsp;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;current.DateStart)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;InvalidTimeZoneException<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;adjustment&nbsp;rules&nbsp;specified&nbsp;in&nbsp;adjustmentRules&nbsp;parameter&nbsp;are&nbsp;not&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;chronological&nbsp;order&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(prev&nbsp;!=&nbsp;null&nbsp;&amp;&amp;&nbsp;prev.DateEnd&nbsp;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;current.DateStart)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;InvalidTimeZoneException&nbsp;(&quot;some<br>
&nbsp;&nbsp;&nbsp;&nbsp;adjustment&nbsp;rules&nbsp;in&nbsp;the&nbsp;adjustmentRules&nbsp;parameter&nbsp;overlap&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(prev&nbsp;!=&nbsp;null&nbsp;&amp;&amp;&nbsp;prev.DateEnd&nbsp;==<br>
&nbsp;&nbsp;&nbsp;&nbsp;current.DateStart)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;InvalidTimeZoneException&nbsp;(&quot;a&nbsp;date<br>
&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;have&nbsp;multiple&nbsp;adjustment&nbsp;rules&nbsp;applied&nbsp;to&nbsp;it&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;prev&nbsp;=&nbsp;current;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;public&nbsp;string&nbsp;ToSerializedString&nbsp;()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;NotImplementedException&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-850,10&nbsp;+832,24&nbsp;@@&nbsp;namespace&nbsp;System&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;this.adjustmentRules&nbsp;=&nbsp;adjustmentRules;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;private&nbsp;TimeZoneInfo&nbsp;(SerializationInfo&nbsp;info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;StreamingContext&nbsp;context)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;if&nbsp;(info&nbsp;==&nbsp;null)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;throw&nbsp;new&nbsp;ArgumentNullException&nbsp;(&quot;info&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;id&nbsp;=&nbsp;(string)&nbsp;info.GetValue&nbsp;(&quot;Id&quot;,&nbsp;typeof&nbsp;(string));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;displayName&nbsp;=&nbsp;(string)&nbsp;info.GetValue&nbsp;(&quot;DisplayName&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;typeof&nbsp;(string));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;standardDisplayName&nbsp;=&nbsp;(string)&nbsp;info.GetValue<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;StandardName&quot;,&nbsp;typeof&nbsp;(string));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;daylightDisplayName&nbsp;=&nbsp;(string)&nbsp;info.GetValue<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;DaylightName&quot;,&nbsp;typeof&nbsp;(string));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;baseUtcOffset&nbsp;=&nbsp;(TimeSpan)&nbsp;info.GetValue<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;BaseUtcOffset&quot;,&nbsp;typeof&nbsp;(TimeSpan));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;adjustmentRules&nbsp;=&nbsp;(TimeZoneInfo.AdjustmentRule&nbsp;[])<br>
&nbsp;&nbsp;&nbsp;&nbsp;info.GetValue&nbsp;(&quot;AdjustmentRules&quot;,&nbsp;typeof<br>
&nbsp;&nbsp;&nbsp;&nbsp;(TimeZoneInfo.AdjustmentRule&nbsp;[]));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;supportsDaylightSavingTime&nbsp;=&nbsp;(bool)&nbsp;info.GetValue<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;SupportsDaylightSavingTime&quot;,&nbsp;typeof&nbsp;(bool));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;private&nbsp;AdjustmentRule&nbsp;GetApplicableRule&nbsp;(DateTime<br>
&nbsp;&nbsp;&nbsp;&nbsp;dateTime)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;//Transitions&nbsp;are&nbsp;always&nbsp;in&nbsp;standard&nbsp;time&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;--git<br>
&nbsp;&nbsp;&nbsp;&nbsp;a/mcs/class/System.Core/Test/System/TimeZoneInfo.AdjustmentRuleTest.cs<br>
b/mcs/class/System.Core/Test/System/TimeZoneInfo.AdjustmentRuleTest.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;6fd2412..e20c37d&nbsp;100644&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;a/mcs/class/System.Core/Test/System/TimeZoneInfo.AdjustmentRuleTest.cs&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+++<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;b/mcs/class/System.Core/Test/System/TimeZoneInfo.AdjustmentRuleTest.cs&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-1,4&nbsp;+1,6&nbsp;@@&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; using&nbsp;System;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+using&nbsp;System.IO;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+using&nbsp;System.Runtime.Serialization.Formatters;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; using&nbsp;NUnit.Framework;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #if&nbsp;NET_2_0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-89,7&nbsp;+91,33&nbsp;@@&nbsp;public&nbsp;void&nbsp;DeltaNotInSeconds&nbsp;()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;TimeZoneInfo.TransitionTime&nbsp;daylightTransitionEnd&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeZoneInfo.TransitionTime.CreateFixedDateRule&nbsp;(new&nbsp;DateTime<br>
&nbsp;&nbsp;&nbsp;&nbsp;(1,1,1,2,0,0),&nbsp;10,&nbsp;11);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;TimeZoneInfo.AdjustmentRule.CreateAdjustmentRule<br>
&nbsp;&nbsp;&nbsp;&nbsp;(dateStart,&nbsp;dateEnd,&nbsp;new&nbsp;TimeSpan&nbsp;(55),&nbsp;daylightTransitionStart,<br>
&nbsp;&nbsp;&nbsp;&nbsp;daylightTransitionEnd);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;-   &nbsp;   &nbsp;}   &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+      &nbsp;[TestFixture]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;public&nbsp;class&nbsp;SerializationTests&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;TimeZoneInfo.AdjustmentRule&nbsp;rule;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;[SetUp]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;public&nbsp;void&nbsp;CreateRule&nbsp;()&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;   &nbsp;TimeZoneInfo.TransitionTime&nbsp;start&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeZoneInfo.TransitionTime.CreateFloatingDateRule&nbsp;(new&nbsp;DateTime<br>
&nbsp;&nbsp;&nbsp;&nbsp;(1,1,1,1,0,0),&nbsp;3,&nbsp;5,&nbsp;DayOfWeek.Sunday);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;TimeZoneInfo.TransitionTime&nbsp;end&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeZoneInfo.TransitionTime.CreateFloatingDateRule&nbsp;(new&nbsp;DateTime<br>
&nbsp;&nbsp;&nbsp;&nbsp;(1,1,1,2,0,0),&nbsp;10,&nbsp;5,&nbsp;DayOfWeek.Sunday);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;rule&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeZoneInfo.AdjustmentRule.CreateAdjustmentRule<br>
&nbsp;&nbsp;&nbsp;&nbsp;(DateTime.MinValue.Date,&nbsp;DateTime.MaxValue.Date,&nbsp;new&nbsp;TimeSpan<br>
&nbsp;&nbsp;&nbsp;&nbsp;(1,0,0),&nbsp;start,&nbsp;end);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;[Test]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;public&nbsp;void&nbsp;Serialization_Deserialization&nbsp;()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;MemoryStream&nbsp;stream&nbsp;=&nbsp;new&nbsp;MemoryStream&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;BinaryFormatter&nbsp;formatter&nbsp;=&nbsp;new&nbsp;BinaryFormatter&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;formatter.Serialize&nbsp;(stream,&nbsp;rule);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Position&nbsp;=&nbsp;0;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;TimeZoneInfo.AdjustmentRule&nbsp;deserialized&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;(TimeZoneInfo.AdjustmentRule)&nbsp;formatter.Deserialize&nbsp;(stream);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Close&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Dispose&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;Assert.AreEqual&nbsp;(rule,&nbsp;deserialized);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+       &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;}   &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; }&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;--git<br>
&nbsp;&nbsp;&nbsp;&nbsp;a/mcs/class/System.Core/Test/System/TimeZoneInfo.TransitionTimeTest.cs<br>
b/mcs/class/System.Core/Test/System/TimeZoneInfo.TransitionTimeTest.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;8dd8263..2fd2e70&nbsp;100644&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;a/mcs/class/System.Core/Test/System/TimeZoneInfo.TransitionTimeTest.cs&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+++<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;b/mcs/class/System.Core/Test/System/TimeZoneInfo.TransitionTimeTest.cs&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-1,5&nbsp;+1,7&nbsp;@@&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; using&nbsp;System;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+using&nbsp;System.IO;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+using&nbsp;System.Runtime.Serialization.Formatters;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; using&nbsp;NUnit.Framework;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #if&nbsp;NET_2_0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-107,6&nbsp;+109,46&nbsp;@@&nbsp;public&nbsp;void&nbsp;EqualsObject&nbsp;()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;Assert.IsFalse&nbsp;(tt1.Equals&nbsp;(tt2),&nbsp;&quot;2!=1&quot;);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+      &nbsp;[TestFixture]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;public&nbsp;class&nbsp;SerializationTests&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;TimeZoneInfo.TransitionTime&nbsp;floatingDateRule;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;TimeZoneInfo.TransitionTime&nbsp;fixedDateRule;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;[SetUp]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;public&nbsp;void&nbsp;CreateDateRules&nbsp;()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;floatingDateRule&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeZoneInfo.TransitionTime.CreateFloatingDateRule(new&nbsp;DateTime(1,<br>
&nbsp;&nbsp;&nbsp;&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;0,&nbsp;0),&nbsp;3,&nbsp;5,&nbsp;DayOfWeek.Sunday);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;fixedDateRule&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeZoneInfo.TransitionTime.CreateFixedDateRule(new&nbsp;DateTime(1,&nbsp;1,<br>
&nbsp;&nbsp;&nbsp;&nbsp;1,&nbsp;1,&nbsp;0,&nbsp;0),&nbsp;3,&nbsp;12);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;[Test]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;public&nbsp;void&nbsp;Serialize_Deserialize_FloatingDateRule&nbsp;()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;MemoryStream&nbsp;stream&nbsp;=&nbsp;new&nbsp;MemoryStream&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;BinaryFormatter&nbsp;formatter&nbsp;=&nbsp;new&nbsp;BinaryFormatter&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;formatter.Serialize&nbsp;(stream,&nbsp;floatingDateRule);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Position&nbsp;=&nbsp;0;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;TimeZoneInfo.TransitionTime&nbsp;deserialized&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;(TimeZoneInfo.TransitionTime)&nbsp;formatter.Deserialize&nbsp;(stream);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Close&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Dispose&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;Assert.AreEqual&nbsp;(floatingDateRule,&nbsp;deserialized);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;[Test]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;public&nbsp;void&nbsp;Serialize_Deserialize_FixedDateRule&nbsp;()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;MemoryStream&nbsp;stream&nbsp;=&nbsp;new&nbsp;MemoryStream&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;BinaryFormatter&nbsp;formatter&nbsp;=&nbsp;new&nbsp;BinaryFormatter&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;formatter.Serialize&nbsp;(stream,&nbsp;fixedDateRule);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Position&nbsp;=&nbsp;0;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;TimeZoneInfo.TransitionTime&nbsp;deserialized&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;(TimeZoneInfo.TransitionTime)&nbsp;formatter.Deserialize&nbsp;(stream);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Close&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Dispose&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;Assert.AreEqual&nbsp;(fixedDateRule,&nbsp;deserialized);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+       &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; }&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;diff&nbsp;--git&nbsp;a/mcs/class/System.Core/Test/System/TimeZoneInfoTest.cs<br>
&nbsp;&nbsp;&nbsp;&nbsp;b/mcs/class/System.Core/Test/System/TimeZoneInfoTest.cs&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;06de33e..f678acf&nbsp;100644&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;---&nbsp;&quot;a/mcs/class/System.Core/Test/System/TimeZoneInfoTest.cs&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+++&nbsp;&quot;b/mcs/class/System.Core/Test/System/TimeZoneInfoTest.cs&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-28,6&nbsp;+28,8&nbsp;@@&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; using&nbsp;System;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; using&nbsp;System.Collections;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+using&nbsp;System.IO;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+using&nbsp;System.Runtime.Serialization.Formatters;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; using&nbsp;NUnit.Framework;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #if&nbsp;NET_2_0&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@@&nbsp;-657,6&nbsp;+659,34&nbsp;@@&nbsp;public&nbsp;class&nbsp;HasSameRulesTests&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;   &nbsp;Assert.IsTrue&nbsp;(utc.HasSameRules&nbsp;(custom));&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+      &nbsp;[TestFixture]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;public&nbsp;class&nbsp;SerializationTests&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;TimeZoneInfo&nbsp;london;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;[SetUp]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;public&nbsp;void&nbsp;CreateTimeZones&nbsp;()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;TimeZoneInfo.TransitionTime&nbsp;start&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeZoneInfo.TransitionTime.CreateFloatingDateRule&nbsp;(new&nbsp;DateTime<br>
&nbsp;&nbsp;&nbsp;&nbsp;(1,1,1,1,0,0),&nbsp;3,&nbsp;5,&nbsp;DayOfWeek.Sunday);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;TimeZoneInfo.TransitionTime&nbsp;end&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeZoneInfo.TransitionTime.CreateFloatingDateRule&nbsp;(new&nbsp;DateTime<br>
&nbsp;&nbsp;&nbsp;&nbsp;(1,1,1,2,0,0),&nbsp;10,&nbsp;5,&nbsp;DayOfWeek.Sunday);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;TimeZoneInfo.AdjustmentRule&nbsp;rule&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeZoneInfo.AdjustmentRule.CreateAdjustmentRule<br>
&nbsp;&nbsp;&nbsp;&nbsp;(DateTime.MinValue.Date,&nbsp;DateTime.MaxValue.Date,&nbsp;new&nbsp;TimeSpan<br>
&nbsp;&nbsp;&nbsp;&nbsp;(1,0,0),&nbsp;start,&nbsp;end);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;   &nbsp;london&nbsp;=&nbsp;TimeZoneInfo.CreateCustomTimeZone<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&quot;Europe/London&quot;,&nbsp;new&nbsp;TimeSpan&nbsp;(0),&nbsp;&quot;Europe/London&quot;,&nbsp;&quot;British<br>
&nbsp;&nbsp;&nbsp;&nbsp;Standard&nbsp;Time&quot;,&nbsp;&quot;British&nbsp;Summer&nbsp;Time&quot;,&nbsp;new<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeZoneInfo.AdjustmentRule&nbsp;[]&nbsp;{rule});&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;[Test]&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;public&nbsp;void&nbsp;Serialization_Deserialization&nbsp;()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;MemoryStream&nbsp;stream&nbsp;=&nbsp;new&nbsp;MemoryStream&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;BinaryFormatter&nbsp;formatter&nbsp;=&nbsp;new&nbsp;BinaryFormatter&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;formatter.Serialize&nbsp;(stream,&nbsp;london);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Position&nbsp;=&nbsp;0;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;TimeZoneInfo&nbsp;deserialized&nbsp;=&nbsp;(TimeZoneInfo)<br>
&nbsp;&nbsp;&nbsp;&nbsp;formatter.Deserialize&nbsp;(stream);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Close&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;stream.Dispose&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+               &nbsp;Assert.AreEqual&nbsp;(london,&nbsp;deserialized);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+           &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+       &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; }&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; #endif&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
