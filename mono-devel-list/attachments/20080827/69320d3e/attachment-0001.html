<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;You&nbsp;are&nbsp;really&nbsp;mixing&nbsp;some&nbsp;concepts.&lt;br&gt;&lt;br&gt;Configuration&nbsp;files&nbsp;are&nbsp;tied&nbsp;to&nbsp;the&nbsp;program/process&nbsp;that&nbsp;is&nbsp;running,&nbsp;not&nbsp;to&nbsp;any&nbsp;of&nbsp;many&nbsp;libraries&nbsp;that&nbsp;are&nbsp;being&nbsp;executed&nbsp;in&nbsp;that&nbsp;process.&nbsp;That&nbsp;is&nbsp;the&nbsp;default&nbsp;behavior.&nbsp;&lt;br&gt;<br>
&lt;br&gt;&lt;a&nbsp;href=&quot;http://ASP.NET&quot;&gt;ASP.NET&lt;/a&gt;&nbsp;machinery&nbsp;uses&nbsp;some&nbsp;hooks&nbsp;inside&nbsp;System.Configuration&nbsp;to&nbsp;merge&nbsp;the&nbsp;various&nbsp;levels&nbsp;of&nbsp;web.config&nbsp;files,&nbsp;to&nbsp;present&nbsp;the&nbsp;merged&nbsp;result&nbsp;as&nbsp;the&nbsp;&amp;quot;configuration&amp;quot;&nbsp;file&nbsp;to&nbsp;the&nbsp;code&nbsp;executing&nbsp;in&nbsp;a&nbsp;web&nbsp;application.&lt;br&gt;<br>
&lt;br&gt;MD&nbsp;and/or&nbsp;NUnit&nbsp;could&nbsp;implement&nbsp;a&nbsp;similar&nbsp;approach&nbsp;to&nbsp;have&nbsp;libraries&nbsp;of&nbsp;tests&nbsp;seeing&nbsp;specific&nbsp;configuration,&nbsp;but&nbsp;AFAIR&nbsp;neither&nbsp;does&nbsp;that.&lt;br&gt;&lt;br&gt;More&nbsp;commonly&nbsp;we&nbsp;have&nbsp;the&nbsp;tested&nbsp;class&nbsp;split&nbsp;into&nbsp;a&nbsp;part&nbsp;that&nbsp;receives&nbsp;the&nbsp;connection&nbsp;as&nbsp;a&nbsp;constructor&nbsp;parameter/property&nbsp;(Inversion-Of-Control)&nbsp;e&nbsp;some&nbsp;setup&nbsp;code&nbsp;in&nbsp;the&nbsp;tests&nbsp;create&nbsp;the&nbsp;appropriate&nbsp;connection&nbsp;before&nbsp;the&nbsp;tests&nbsp;are&nbsp;executed.&nbsp;&lt;br&gt;<br>
&lt;br&gt;The&nbsp;connection&nbsp;factory&nbsp;part&nbsp;of&nbsp;the&nbsp;split&nbsp;class&nbsp;goes&nbsp;untested&nbsp;or&nbsp;is&nbsp;tested&nbsp;with&nbsp;a&nbsp;small&nbsp;executable&nbsp;(non-Nunit&nbsp;testing).&nbsp;&lt;br&gt;&lt;br&gt;Using&nbsp;the&nbsp;System.Configuration&nbsp;hooks&nbsp;to&nbsp;cook&nbsp;a&nbsp;tailored&nbsp;unit&nbsp;test&nbsp;is&nbsp;doable&nbsp;but&nbsp;it&nbsp;is&nbsp;normally&nbsp;not&nbsp;worth&nbsp;the&nbsp;trouble.&lt;br&gt;<br>
&lt;br&gt;Hope&nbsp;it&nbsp;helps,&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Aug&nbsp;26,&nbsp;2008&nbsp;at&nbsp;9:55&nbsp;AM,&nbsp;krdavis&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:KEITH.DAVIS@zunisoft.com&quot;&gt;KEITH.DAVIS@zunisoft.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;br&gt;<br>
First&nbsp;off&nbsp;I&nbsp;have&nbsp;scoured&nbsp;the&nbsp;list&nbsp;and&nbsp;found&nbsp;similar&nbsp;but&nbsp;not&nbsp;identical&lt;br&gt;<br>
problems&nbsp;to&nbsp;mine&nbsp;without&nbsp;a&nbsp;solution.&nbsp;Development&nbsp;environemnt&nbsp;is&nbsp;Ubuntu&nbsp;8.04,&lt;br&gt;<br>
Mono&nbsp;1.9.1&nbsp;and&nbsp;Monodevelop&nbsp;2.0&nbsp;Alpha.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;used&nbsp;JUnit&nbsp;for&nbsp;years&nbsp;and&nbsp;I&nbsp;am&nbsp;new&nbsp;NUnit&nbsp;and&nbsp;the&nbsp;nuances&nbsp;of&nbsp;assemblies&lt;br&gt;<br>
and&nbsp;how&nbsp;they&nbsp;are&nbsp;located&nbsp;and&nbsp;loaded.&nbsp;&amp;nbsp;I&nbsp;have&nbsp;an&nbsp;&lt;a&nbsp;href=&quot;http://ASP.NET&quot;&nbsp;target=&quot;_blank&quot;&gt;ASP.NET&lt;/a&gt;&nbsp;application&nbsp;that&lt;br&gt;<br>
uses&nbsp;a&nbsp;custom&nbsp;membership&nbsp;provider&nbsp;(w/MySQL&nbsp;as&nbsp;the&nbsp;backend).&nbsp;&amp;nbsp;The&nbsp;provider&lt;br&gt;<br>
works&nbsp;fine,&nbsp;&amp;nbsp;everything&nbsp;is&nbsp;being&nbsp;updated&nbsp;and&nbsp;what&nbsp;not.&nbsp;&amp;nbsp;I&nbsp;added&nbsp;the&lt;br&gt;<br>
following&nbsp;to&nbsp;my&nbsp;web.config&nbsp;to&nbsp;get&nbsp;my&nbsp;MySQL&nbsp;connection&nbsp;working:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;lt;system.web&amp;gt;&lt;br&gt;<br>
...&lt;br&gt;<br>
&amp;lt;system.data&amp;gt;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;lt;DbProviderFactories&amp;gt;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;lt;clear&nbsp;/&amp;gt;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;lt;add&nbsp;name=&amp;quot;MySQL&nbsp;Data&nbsp;Provider&amp;quot;&nbsp;invariant=&amp;quot;MySql.Data.MySqlClient&amp;quot;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;description=&amp;quot;.Net&nbsp;Framework&nbsp;Data&nbsp;Provider&nbsp;for&nbsp;MySQL&amp;quot;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;type=&amp;quot;MySql.Data.MySqlClient.MySqlClientFactory,&nbsp;MySql.Data,&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Version=&lt;a&nbsp;href=&quot;http://5.1.6.0&quot;&nbsp;target=&quot;_blank&quot;&gt;5.1.6.0&lt;/a&gt;,&nbsp;Culture=neutral,&lt;br&gt;<br>
PublicKeyToken=c5687fc88969c44d&amp;quot;&nbsp;/&amp;gt;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;lt;/DbProviderFactories&amp;gt;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&amp;lt;/system.data&amp;gt;&lt;br&gt;<br>
&amp;lt;system.web&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;is&nbsp;great&nbsp;and&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://ASP.NET&quot;&nbsp;target=&quot;_blank&quot;&gt;ASP.NET&lt;/a&gt;&nbsp;app&nbsp;works&nbsp;with&nbsp;MySQL,&nbsp;now&nbsp;the&nbsp;problem.&nbsp;&amp;nbsp;Being&lt;br&gt;<br>
a&nbsp;good&nbsp;developer,&nbsp;I&nbsp;want&nbsp;to&nbsp;create&nbsp;some&nbsp;unit&nbsp;tests&nbsp;for&nbsp;my&nbsp;membership&lt;br&gt;<br>
provider.&nbsp;&amp;nbsp;I&nbsp;created&nbsp;a&nbsp;separate&nbsp;test&nbsp;project&nbsp;from&nbsp;my&nbsp;memberhip&nbsp;library&lt;br&gt;<br>
project.&nbsp;&amp;nbsp;I&nbsp;added&nbsp;a&nbsp;project&nbsp;reference&nbsp;to&nbsp;the&nbsp;membership&nbsp;project&nbsp;in&nbsp;my&nbsp;test&lt;br&gt;<br>
project&nbsp;(good,&nbsp;the&nbsp;dll&nbsp;will&nbsp;get&nbsp;copied&nbsp;to&nbsp;the&nbsp;test&nbsp;project).&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;the&nbsp;test&nbsp;project&nbsp;I&nbsp;created&nbsp;an&nbsp;app.config&nbsp;with&nbsp;the&nbsp;above&nbsp;section&nbsp;from&nbsp;my&lt;br&gt;<br>
web.config&nbsp;so&nbsp;my&nbsp;NUnit&nbsp;test&nbsp;will&nbsp;know&nbsp;about&nbsp;the&nbsp;MySQL&nbsp;provider.&nbsp;&amp;nbsp;I&nbsp;create&nbsp;a&lt;br&gt;<br>
simple&nbsp;test&nbsp;and&nbsp;my&nbsp;membership&nbsp;dll&nbsp;(not&nbsp;the&nbsp;NUnit&nbsp;dll)&nbsp;throws:&lt;br&gt;<br>
&lt;br&gt;<br>
Failed&nbsp;to&nbsp;find&nbsp;or&nbsp;load&nbsp;the&nbsp;registered&nbsp;.Net&nbsp;Framework&nbsp;Data&nbsp;Provider&lt;br&gt;<br>
&amp;#39;MySql.Data.MySqlClient&amp;#39;.&nbsp;()&nbsp;()&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;NUnit&nbsp;project&nbsp;copies&nbsp;the&nbsp;app.config&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory&lt;br&gt;<br>
properly&nbsp;named&nbsp;&amp;lt;assembly-name&amp;gt;.dll.config.&nbsp;&amp;nbsp;Examining&nbsp;the&nbsp;build&nbsp;output&lt;br&gt;<br>
directory&nbsp;shows&nbsp;the&nbsp;NUnit&nbsp;dll&nbsp;and&nbsp;its&nbsp;corresponding&nbsp;config&nbsp;file.&nbsp;&amp;nbsp;I&nbsp;added&nbsp;a&lt;br&gt;<br>
bit&nbsp;of&nbsp;code&nbsp;to&nbsp;the&nbsp;nunit&nbsp;test&nbsp;and&nbsp;found&nbsp;it&nbsp;is&nbsp;not&nbsp;picking&nbsp;up&nbsp;the&nbsp;correct&lt;br&gt;<br>
config&nbsp;file&nbsp;for&nbsp;the&nbsp;test&nbsp;dll.&nbsp;(it&nbsp;was&nbsp;picking&nbsp;up&nbsp;another&nbsp;config&nbsp;*md*.config,&lt;br&gt;<br>
monodevelop&nbsp;maybe?)&nbsp;I&nbsp;thought&nbsp;the&nbsp;default&nbsp;behavior&nbsp;for&nbsp;NUnit&nbsp;was&nbsp;to&nbsp;pick&nbsp;up&lt;br&gt;<br>
the&nbsp;config&nbsp;if&nbsp;I&nbsp;configured&nbsp;the&nbsp;build&nbsp;directory&nbsp;with&nbsp;the&nbsp;renamed&nbsp;dll.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;tried&nbsp;to&nbsp;open&nbsp;the&nbsp;dll.confg&nbsp;in&nbsp;the&nbsp;unit&nbsp;test&nbsp;directly&nbsp;(I&nbsp;think&nbsp;that&nbsp;just&lt;br&gt;<br>
lets&nbsp;me&nbsp;query&nbsp;the&nbsp;values,&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;actually&nbsp;load&nbsp;the&nbsp;provider&nbsp;reference,&lt;br&gt;<br>
if&nbsp;I&nbsp;am&nbsp;wrong&nbsp;here,&nbsp;please&nbsp;advise).&lt;br&gt;<br>
&lt;br&gt;<br>
Long&nbsp;winded,&nbsp;but&nbsp;here&nbsp;is&nbsp;the&nbsp;question:&nbsp;&amp;nbsp;What&nbsp;is&nbsp;the&nbsp;proper&nbsp;way&nbsp;to&nbsp;configure&lt;br&gt;<br>
a&nbsp;unit&nbsp;test&nbsp;to&nbsp;use&nbsp;an&nbsp;app.config&nbsp;so&nbsp;I&nbsp;can&nbsp;specify&nbsp;a&nbsp;provider&nbsp;factory&nbsp;not&nbsp;in&lt;br&gt;<br>
the&nbsp;machine.config?&nbsp;&amp;nbsp;Or&nbsp;should&nbsp;I&nbsp;just&nbsp;add&nbsp;the&nbsp;factory&nbsp;to&nbsp;machine.config?&lt;br&gt;<br>
Anyway&nbsp;it&nbsp;is&nbsp;strange&nbsp;that&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://ASP.NET&quot;&nbsp;target=&quot;_blank&quot;&gt;ASP.NET&lt;/a&gt;&nbsp;app&nbsp;works,&nbsp;but&nbsp;the&nbsp;test&nbsp;fails&nbsp;(wrong&lt;br&gt;<br>
configuration&nbsp;being&nbsp;picked&nbsp;up)&nbsp;on&nbsp;the&nbsp;same&nbsp;machine.&lt;br&gt;<br>
&lt;br&gt;<br>
Any&nbsp;and&nbsp;all&nbsp;help&nbsp;would&nbsp;be&nbsp;appreciated,&nbsp;I&nbsp;have&nbsp;been&nbsp;googling&nbsp;this&nbsp;issue&nbsp;for&nbsp;a&lt;br&gt;<br>
whole&nbsp;day&nbsp;without&nbsp;a&nbsp;decent&nbsp;solution.&lt;br&gt;<br>
&lt;br&gt;<br>
TIA!&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/MySQL-Connector---Location-Issue-tp19161468p19161468.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.nabble.com/MySQL-Connector---Location-Issue-tp19161468p19161468.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;Dev&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Rafael&nbsp;&amp;quot;Monoman&amp;quot;&nbsp;Teixeira&lt;br&gt;---------------------------------------&lt;br&gt;&amp;quot;I&nbsp;myself&nbsp;am&nbsp;made&nbsp;entirely&nbsp;of&nbsp;flaws,&nbsp;stitched&nbsp;together&nbsp;with&nbsp;good&nbsp;intentions.&amp;quot;&lt;br&gt;<br>
Augusten&nbsp;Burroughs&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
