<tt>
Either&nbsp;your&nbsp;app&nbsp;is&nbsp;broken&nbsp;or&nbsp;linux&#39;s&nbsp;malloc&nbsp;is.&nbsp;Mono&nbsp;does&nbsp;nothing&nbsp;special&nbsp;but&nbsp;call&nbsp;malloc/free.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;One&nbsp;issue&nbsp;might&nbsp;be&nbsp;if&nbsp;you&#39;re&nbsp;allocating&nbsp;more&nbsp;than&nbsp;2Gb&nbsp;of&nbsp;memory&nbsp;at&nbsp;once.&nbsp;This&nbsp;will&nbsp;probably&nbsp;break&nbsp;on&nbsp;mono.&lt;br&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Aug&nbsp;23,&nbsp;2012&nbsp;at&nbsp;3:35&nbsp;AM,&nbsp;Greg&nbsp;Young&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:gregoryyoung1@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;gregoryyoung1@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&gt;We&nbsp;are&nbsp;allocating&nbsp;and&nbsp;releasing&nbsp;unmanaged&nbsp;memory&nbsp;with&nbsp;marshal.allochglobal.&nbsp;In&nbsp;mono&nbsp;we&nbsp;are&nbsp;getting&nbsp;the&nbsp;following&nbsp;failure&nbsp;(no&nbsp;failures&nbsp;under&nbsp;clr).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;ideas?&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;part&nbsp;from&nbsp;team&nbsp;city&nbsp;logs:&lt;/div&gt;&lt;div&gt;[20:55:52][Step&nbsp;2/2]&nbsp;mono:&nbsp;malloc.c:2451:&nbsp;sYSMALLOc:&nbsp;Assertion&nbsp;`(old_top&nbsp;==&nbsp;(((mbinptr)&nbsp;(((char&nbsp;*)&nbsp;&amp;((av)-&gt;bins[((1)&nbsp;-&nbsp;1)&nbsp;*&nbsp;2]))&nbsp;-&nbsp;__builtin_offsetof&nbsp;(struct&nbsp;malloc_chunk,&nbsp;fd))))&nbsp;&amp;&amp;&nbsp;old_size&nbsp;==&nbsp;0)&nbsp;||&nbsp;((unsigned&nbsp;long)&nbsp;(old_size)&nbsp;&gt;=&nbsp;(unsigned&nbsp;long)((((__builtin_offsetof&nbsp;(struct&nbsp;malloc_chunk,&nbsp;fd_nextsize))+((2&nbsp;*&nbsp;(sizeof(size_t)))&nbsp;-&nbsp;1))&nbsp;&amp;&nbsp;~((2&nbsp;*&nbsp;(sizeof(size_t)))&nbsp;-&nbsp;1)))&nbsp;&amp;&amp;&nbsp;((old_top)-&gt;size&nbsp;&amp;&nbsp;0x1)&nbsp;&amp;&amp;&nbsp;((unsigned&nbsp;long)old_end&nbsp;&amp;&nbsp;pagemask)&nbsp;==&nbsp;0)&#39;&nbsp;failed.&lt;/div&gt;<br>
<br>
&lt;div&gt;[20:55:52][Step&nbsp;2/2]&nbsp;Stacktrace:&lt;/div&gt;&lt;div&gt;[20:55:52][Step&nbsp;2/2]&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Le&nbsp;doute&nbsp;n&#39;est&nbsp;pas&nbsp;une&nbsp;condition&nbsp;agréable,&nbsp;mais&nbsp;la&nbsp;certitude&nbsp;est&nbsp;absurde.&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
