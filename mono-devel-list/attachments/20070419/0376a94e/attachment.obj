using System;
using System.Collections.Generic;
using System.Text;
using System.IO;
using System.Xml;

namespace ConsoleStress1
{
    class Program
    {
        static void Main(string[] args)
        {
			DateTime s = DateTime.Now;
			for (int i = 0; i < 1000000; i++)
            {
                ConsoleStress1.Program p = new Program();
                p.Stess();
            }

			DateTime e = DateTime.Now;
			TimeSpan time = e - s;
			Console.WriteLine (time.Ticks);

        }

        private string Stess()
        {
            // Begin XmlTextReader stuff 
            string sXml = "<DOCUMENT TYPE=\"RPWIP\" VERSION=\"11.0\"><DOCSET NAME=\"\"><GROUP NAME=\"\" NAME1=\"FORMMAKER PACKAGE\" NAME2=\"COMMERCIAL PACKAGE\" PACKAGE=\"TRUE\"/><GROUP NAME=\"\" NAME1=\"FORMMAKER PACKAGE\" NAME2=\"GENERAL LIABILITY\"/><GROUP NAME=\"\" NAME1=\"FORMMAKER PACKAGE\" NAME2=\"PROPERTY\"/><GROUP NAME=\"\" NAME1=\"FORMMAKER PACKAGE\" NAME2=\"INLAND MARINE\"/><GROUP NAME=\"\" NAME1=\"FORMMAKER MONOLINE\" NAME2=\"GENERAL LIABILITY\"/><GROUP NAME=\"\" NAME1=\"DOCUCORP PACKAGE\" NAME2=\"PROFESSIONAL INSURANCE\" PACKAGE=\"TRUE\"/><GROUP NAME=\"\" NAME1=\"DOCUCORP PACKAGE\" NAME2=\"DOCUMENT AUTOMATION LANGUAGE\"/><GROUP NAME=\"\" NAME1=\"DOCUCORP PACKAGE\" NAME2=\"VERSION 10.0\"/><GROUP NAME=\"\" NAME1=\"DOCUCORP PACKAGE\" NAME2=\"VERSION 101\"/><GROUP NAME=\"\" NAME1=\"DOCUCORP NOT HIDDEN COMPANY\" NAME2=\"LOB IS NOT HIDDEN\"/><GROUP NAME=\"\" NAME1=\".ABC.HIDDEN COMPANY\" NAME2=\".ABC.HIDDEN LINE OF BUSINESS\"/></DOCSET></DOCUMENT>";

            StringReader sr = new StringReader(sXml);
            XmlTextReader reader = new XmlTextReader(sr);
            int i = 0;
            string sResp = null;
            while (reader.Read())
            {
                switch (reader.NodeType)
                {
                    case XmlNodeType.Element: // The node is an Element 
                        if (reader.Name == "GROUP")
                        {
                            // GROUP element here, read the attributes into our response 
                            while (reader.MoveToNextAttribute()) // Read attributes 
                            {
                                if (reader.Name == "NAME1")
                                    sResp = sResp + reader.Value;
                                else if (reader.Name == "NAME2")
                                    sResp = sResp + reader.Value;
                                else if (reader.Name == "PACKAGE")
                                    sResp = sResp + reader.Value;
                                i = i + 1;
                            }
                        }
                        break;
                    case XmlNodeType.DocumentType: // The node is a DocumentType 
                        break;
                }
            }

            reader.Close();
            return sResp;
        }
    }
}


