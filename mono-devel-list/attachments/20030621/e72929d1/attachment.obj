Index: list.unix
===================================================================
RCS file: /mono/mcs/class/System/list.unix,v
retrieving revision 1.42
diff -u -r1.42 list.unix
--- list.unix	6 Jun 2003 16:15:21 -0000	1.42
+++ list.unix	21 Jun 2003 08:51:11 -0000
@@ -153,7 +153,9 @@
 System.ComponentModel/EventDescriptor.cs
 System.ComponentModel/EventHandlerList.cs
 System.ComponentModel/ExpandableObjectConverter.cs
+System.ComponentModel/ExtenderProvidedPropertyAttribute.cs
 System.ComponentModel/IBindingList.cs
+System.ComponentModel/IComNativeDescriptorHandler.cs
 System.ComponentModel/IComponent.cs
 System.ComponentModel/IContainer.cs
 System.ComponentModel/ICustomTypeDescriptor.cs
@@ -230,6 +232,7 @@
 System.ComponentModel/ReferenceConverter.cs
 System.ComponentModel/SByteConverter.cs
 System.ComponentModel/SingleConverter.cs
+System.ComponentModel/SyntaxCheck.cs
 System.ComponentModel/TimeSpanConverter.cs
 System.ComponentModel/ToolboxItemFilterAttribute.cs
 System.ComponentModel/ToolboxItemFilterType.cs
Index: System.ComponentModel/AmbientValueAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/AmbientValueAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 AmbientValueAttribute.cs
--- System.ComponentModel/AmbientValueAttribute.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/AmbientValueAttribute.cs	21 Jun 2003 08:51:12 -0000
@@ -2,91 +2,102 @@
 // System.ComponentModel.AmbientValueAttribute
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
-	[AttributeUsage(AttributeTargets.All)]
-        public sealed class AmbientValueAttribute : Attribute
+    [AttributeUsage(AttributeTargets.All)]
+    public sealed class AmbientValueAttribute : Attribute
 	{
-		[MonoTODO]
+
+        private object AmbientValue;
+
 		public AmbientValueAttribute (bool value)
 		{
+            AmbientValue = value;
 		}
 
-		[MonoTODO]
 		public AmbientValueAttribute (byte value)
 		{
+            AmbientValue = value;
 		}
 
-		[MonoTODO]
 		public AmbientValueAttribute (char value)
 		{
+            AmbientValue = value;
 		}
 
-		[MonoTODO]
 		public AmbientValueAttribute (double value)
 		{
+            AmbientValue = value;
 		}
 
-		[MonoTODO]
-	        public AmbientValueAttribute (short value)
+	    public AmbientValueAttribute (short value)
 		{
+            AmbientValue = value;
 		}
 
-		[MonoTODO]
 		public AmbientValueAttribute (int value)
 		{
+            AmbientValue = value;
 		}
 
-		[MonoTODO]
 		public AmbientValueAttribute (long value)
 		{
+            AmbientValue = value;
 		}
 
-		[MonoTODO]
 		public AmbientValueAttribute (object value)
 		{
+            AmbientValue = value;
 		}
 
-		[MonoTODO]
 		public AmbientValueAttribute (float value)
 		{
+            AmbientValue = value;
 		}
 
-		[MonoTODO]
 		public AmbientValueAttribute (string value)
 		{
+            AmbientValue = value;
 		}
 
-		[MonoTODO]
 		public AmbientValueAttribute (Type type, string value)
 		{
+            // TODO check if this implementation is correct
+            try
+            {
+                AmbientValue = Convert.ChangeType (value, type);
+            }
+            catch
+            {
+                AmbientValue = null;
+            }
 		}
 
 		public object Value {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return AmbientValue; }
 		}
 
-		[MonoTODO]
 		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException();
+            if (!(obj is AmbientValueAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((AmbientValueAttribute) obj).Value == AmbientValue;
 		}
 
-		[MonoTODO]
 		public override int GetHashCode()
 		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~AmbientValueAttribute()
-		{
+            if (AmbientValue == null)
+                return 0;
+			return AmbientValue.GetHashCode();
 		}
 	}
 }
Index: System.ComponentModel/ArrayConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ArrayConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 ArrayConverter.cs
--- System.ComponentModel/ArrayConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/ArrayConverter.cs	21 Jun 2003 08:51:12 -0000
@@ -2,9 +2,11 @@
 // System.ComponentModel.ArrayConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Globalization;
@@ -13,35 +15,33 @@
 {
 	public class ArrayConverter : CollectionConverter
 	{
-		[MonoTODO]
+
 		public ArrayConverter()
 		{
 		}
 
-		[MonoTODO]
 		public override object ConvertTo (ITypeDescriptorContext context,
-						  CultureInfo culture,
-						  object value,
-						  Type destinationType)
+			CultureInfo culture, object value, Type destinationType)
 		{
-			throw new NotImplementedException();
+            if (destinationType == typeof (string))
+                if (value != null)
+                    // TODO check if the check for Array is correct
+                    if (value is Array)
+                        return "(Array)";
+            return base.ConvertTo (context, culture, value, destinationType);
 		}
 
 		public override PropertyDescriptorCollection GetProperties (ITypeDescriptorContext context,
-									    object value,
-									    Attribute[] attributes)
+			object value, Attribute[] attributes)
 		{
-			throw new NotImplementedException();
+            // LAMESPEC MS seems to always parse an PropertyDescriptorCollection without any PropertyDescriptors
+            return PropertyDescriptorCollection.Empty;
 		}
 
 		public override bool GetPropertiesSupported (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
+			return true;
 		}
 
-		[MonoTODO]
-		~ArrayConverter()
-		{
-		}
 	}
 }
Index: System.ComponentModel/BaseNumberConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/BaseNumberConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 BaseNumberConverter.cs
--- System.ComponentModel/BaseNumberConverter.cs	2 Nov 2002 20:29:17 -0000	1.1
+++ System.ComponentModel/BaseNumberConverter.cs	21 Jun 2003 08:51:12 -0000
@@ -1,9 +1,70 @@
 //
 // System.ComponentModel.BaseNumberConverter.cs
 //
+// Author:
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
+// (C) 2002/2003 Ximian, Inc (http://www.ximian.com)
+// (C) 2003 Andreas Nahr
+//
+
+using System.Globalization;
 
 namespace System.ComponentModel {
-	public class BaseNumberConverter : TypeConverter {
+	public abstract class BaseNumberConverter : TypeConverter {
+
+        protected Type InnerType;
+
+        protected BaseNumberConverter()
+        {
+        }
+
+        public override bool CanConvertFrom(System.ComponentModel.ITypeDescriptorContext context, 
+            System.Type sourceType)
+        {
+            if (sourceType == typeof (string)) 
+                return true;
+            return base.CanConvertFrom (context, sourceType);
+        }
+
+        public override bool CanConvertTo(System.ComponentModel.ITypeDescriptorContext context, 
+            System.Type t)
+        {
+            if (t == typeof (string))
+                return true;
+            return base.CanConvertTo (context, t);
+        }
+
+        public override object ConvertFrom(ITypeDescriptorContext context,
+            CultureInfo culture, object value)
+        {
+            if (value.GetType() == typeof (string))
+            {
+                try
+                {
+                    return Convert.ChangeType (value, InnerType, culture.NumberFormat);
+                }
+                catch (Exception e) 
+                {
+                    // LAMESPEC MS just seems to pass the internal Exception on to the user
+                    // so it throws a pure Exception here. We should probably throw a 
+                    // ArgumentException or something like that
+                    throw e;
+                }
+            }
+            return base.ConvertFrom (context, culture, value);
+        }
+
+        public override object ConvertTo(ITypeDescriptorContext context,
+            CultureInfo culture, object value, Type destinationType)
+        {
+            if (destinationType == typeof (string))
+                if (value != null)
+                    if (value.GetType() == InnerType)
+                    {
+                        return Convert.ChangeType (value, typeof (string), culture.NumberFormat);
+                    }
+            return base.ConvertTo (context, culture, value, destinationType);
+        }
 	}
 }
Index: System.ComponentModel/BindableAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/BindableAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 BindableAttribute.cs
--- System.ComponentModel/BindableAttribute.cs	23 Jul 2002 03:20:22 -0000	1.1
+++ System.ComponentModel/BindableAttribute.cs	21 Jun 2003 08:51:12 -0000
@@ -2,9 +2,11 @@
 // System.ComponentModel.BindableAttribute.cs
 //
 // Author:
-//   Tim Coleman (tim@timcoleman.com)
+//  Tim Coleman (tim@timcoleman.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // Copyright (C) Tim Coleman, 2002
+// (C) 2003 Andreas Nahr
 //
 //
 
@@ -14,8 +16,8 @@
 
 		#region Fields
 
-		BindableSupport flags;
-		bool bindable;
+		//BindableSupport flags;
+		private bool bindable;
 
 		#endregion // Fields
 		
@@ -27,8 +29,13 @@
 
 		public BindableAttribute (BindableSupport flags)
 		{
-			this.flags = flags;
-			this.bindable = false;
+			//this.flags = flags;
+            if (flags == BindableSupport.No)
+			    this.bindable = false;
+            if (flags == BindableSupport.Yes)
+                this.bindable = true;
+            if (flags == BindableSupport.Default)
+                this.bindable = true;
 		}
 
 		public BindableAttribute (bool bindable)
@@ -48,22 +55,23 @@
 
 		#region Methods
 
-		[MonoTODO]
 		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException ();
+            if (!(obj is BindableAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((BindableAttribute) obj).Bindable.Equals (bindable);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode ()
 		{
-			throw new NotImplementedException ();
+            return bindable.GetHashCode ();
 		}
 
-		[MonoTODO]
 		public override bool IsDefaultAttribute ()
 		{
-			throw new NotImplementedException ();
+			return Equals (Default);
 		}
 
 		#endregion // Methods
Index: System.ComponentModel/BooleanConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/BooleanConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 BooleanConverter.cs
--- System.ComponentModel/BooleanConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/BooleanConverter.cs	21 Jun 2003 08:51:13 -0000
@@ -2,9 +2,11 @@
 // System.ComponentModel.BooleanConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Globalization;
@@ -13,47 +15,49 @@
 {
 	public class BooleanConverter : TypeConverter
 	{
-		[MonoTODO]
+
 		public BooleanConverter()
 		{
 		}
 
-		[MonoTODO]
 		public override bool CanConvertFrom (ITypeDescriptorContext context,
-						     Type sourceType)
+		    Type sourceType)
 		{
-			throw new NotImplementedException();
+            if (sourceType == typeof (string)) 
+                return true;
+            return base.CanConvertFrom (context, sourceType);
 		}
 
-		[MonoTODO]
 		public override object ConvertFrom (ITypeDescriptorContext context,
-						    CultureInfo culture,
-						    object value)
+		    CultureInfo culture, object value)
 		{
-			throw new NotImplementedException();
+            if (value.GetType() == typeof (string)) 
+            {
+                string Test = ((String) value).ToLower (culture);
+                if (Test.Equals ("true"))
+                    return true;
+                else if (Test.Equals ("false"))
+                    return false;
+                else
+                throw new FormatException ("No valid boolean value");
+            }
+            return base.ConvertFrom (context, culture, value);
 		}
 
-				[MonoTODO]
 		public override StandardValuesCollection GetStandardValues (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
+            return new StandardValuesCollection (new string[2] {"True", "False"} );
 		}
 
-		[MonoTODO]
 		public override bool GetStandardValuesExclusive (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
+			return true;
 		}
 
-		[MonoTODO]
 		public override bool GetStandardValuesSupported (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
+			return true;
 		}
 
-		[MonoTODO]
-		~BooleanConverter()
-		{
-		}
 	}
 }
Index: System.ComponentModel/BrowsableAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/BrowsableAttribute.cs,v
retrieving revision 1.2
diff -u -r1.2 BrowsableAttribute.cs
--- System.ComponentModel/BrowsableAttribute.cs	30 Jan 2003 00:57:31 -0000	1.2
+++ System.ComponentModel/BrowsableAttribute.cs	21 Jun 2003 08:51:13 -0000
@@ -1,10 +1,12 @@
 //
 // System.ComponentModel.BrowsableAttribute.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 //
 
@@ -12,15 +14,14 @@
 
 	[AttributeUsage (AttributeTargets.All)]
 	public sealed class BrowsableAttribute : Attribute {
-		bool browsable;
+		private bool browsable;
 		
-		public static readonly BrowsableAttribute No;
-		public static readonly BrowsableAttribute Yes;
+        public static readonly BrowsableAttribute Default = new BrowsableAttribute (true);
+		public static readonly BrowsableAttribute No = new BrowsableAttribute (false);
+		public static readonly BrowsableAttribute Yes = new BrowsableAttribute (true);
 
-		static BrowsableAttribute ()
+		public BrowsableAttribute ()
 		{
-			No = new BrowsableAttribute (false);
-			Yes = new BrowsableAttribute (false);
 		}
 		
 		public BrowsableAttribute (bool browsable)
@@ -33,6 +34,25 @@
 				return browsable;
 			}
 		}
+
+        public override bool Equals (object obj)
+        {
+            if (!(obj is BrowsableAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((BrowsableAttribute) obj).Browsable == browsable;
+        }
+
+        public override int GetHashCode ()
+        {
+            return browsable.GetHashCode ();
+        }
+
+        public override bool IsDefaultAttribute ()
+        {
+            return Equals (Default);
+        }
 		
 	}
 }
Index: System.ComponentModel/ByteConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ByteConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 ByteConverter.cs
--- System.ComponentModel/ByteConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/ByteConverter.cs	21 Jun 2003 08:51:13 -0000
@@ -2,23 +2,20 @@
 // System.ComponentModel.ByteConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
-        public class ByteConverter : BaseNumberConverter
+    public class ByteConverter : BaseNumberConverter
 	{
-		[MonoTODO]
 		public ByteConverter()
 		{
-		}
-
-		[MonoTODO]
-		~ByteConverter()
-		{
+            InnerType = typeof (Byte);
 		}
 	}
 }
Index: System.ComponentModel/CategoryAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/CategoryAttribute.cs,v
retrieving revision 1.3
diff -u -r1.3 CategoryAttribute.cs
--- System.ComponentModel/CategoryAttribute.cs	28 Apr 2002 13:31:38 -0000	1.3
+++ System.ComponentModel/CategoryAttribute.cs	21 Jun 2003 08:51:13 -0000
@@ -1,10 +1,12 @@
 //
 // System.ComponentModel.CategoryAttribute.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 //
 
@@ -12,216 +14,289 @@
 
 	[AttributeUsage (AttributeTargets.Property | AttributeTargets.Event)]
 	public class CategoryAttribute : Attribute {
-		string category;
 
-		static CategoryAttribute action, appearance, behaviour, data,   def;
-		static CategoryAttribute design, drag_drop,  focus,     format, key;
-		static CategoryAttribute layout, mouse,      window_style;
-		
-		public CategoryAttribute (string category)
-		{
-			this.category = category;
-		}
-
-		public CategoryAttribute ()
-		{
-			this.category = "Misc";
-		}
-
-		[MonoTODO]
-		protected virtual string GetLocalizedString (string value)
-		{
-			// FIXME: IMPLEMENT
-
-			return category;
-		}
-
-		public string Category {
-			get {
-				return category;
-			}
-		}
-		
-		public static CategoryAttribute Action {
-			get {
-				if (action != null)
-					return action;
-
-				lock (typeof (CategoryAttribute)){
-					if (action == null)
-						action = new CategoryAttribute ("Action");
-				}
-
-				return action;
-			}
-		}
-
-		public static CategoryAttribute Appearance {
-			get {
-				if (appearance != null)
-					return appearance;
-
-				lock (typeof (CategoryAttribute)){
-					if (appearance == null)
-						appearance = new CategoryAttribute ("Appearance");
-				}
-
-				return appearance;
-			}
-		}
-
-		public static CategoryAttribute Behaviour {
-			get {
-				if (behaviour != null)
-					return behaviour;
-
-				lock (typeof (CategoryAttribute)){
-					if (behaviour == null)
-						behaviour = new CategoryAttribute ("Action");
-				}
-
-				return behaviour;
-			}
-		}
-
-		public static CategoryAttribute Data {
-			get {
-				if (data != null)
-					return data;
-
-				lock (typeof (CategoryAttribute)){
-					if (data == null)
-						data = new CategoryAttribute ("Data");
-				}
-
-				return data;
-			}
-		}
-
-		public static CategoryAttribute Default {
-			get {
-				if (def != null)
-					return def;
-
-				lock (typeof (CategoryAttribute)){
-					if (def == null)
-						def = new CategoryAttribute ("Default");
-				}
-
-				return def;
-			}
-		}
-
-		public static CategoryAttribute Design {
-			get {
-				if (design != null)
-					return design;
-
-				lock (typeof (CategoryAttribute)){
-					if (design == null)
-						design = new CategoryAttribute ("Design");
-				}
-
-				return design;
-			}
-		}
-
-		public static CategoryAttribute DragDrop {
-			get {
-				if (drag_drop != null)
-					return drag_drop;
-
-				lock (typeof (CategoryAttribute)){
-					if (drag_drop == null)
-						drag_drop = new CategoryAttribute ("Drag Drop");
-				}
-
-				return drag_drop;
-			}
-		}
-
-		public static CategoryAttribute Focus {
-			get {
-				if (focus != null)
-					return focus;
-
-				lock (typeof (CategoryAttribute)){
-					if (focus == null)
-						focus = new CategoryAttribute ("Focus");
-				}
-
-				return focus;
-			}
-		}
-
-		public static CategoryAttribute Format {
-			get {
-				if (format != null)
-					return format;
-
-				lock (typeof (CategoryAttribute)){
-					if (format == null)
-						format = new CategoryAttribute ("Format");
-				}
-
-				return format;
-			}
-		}
-
-		public static CategoryAttribute Key {
-			get {
-				if (key != null)
-					return key;
-
-				lock (typeof (CategoryAttribute)){
-					if (key == null)
-						key = new CategoryAttribute ("Key");
-				}
-
-				return key;
-			}
-		}
-
-		public static CategoryAttribute Layout {
-			get {
-				if (layout != null)
-					return layout;
-
-				lock (typeof (CategoryAttribute)){
-					if (layout == null)
-						layout = new CategoryAttribute ("Layout");
-				}
-
-				return layout;
-			}
-		}
-
-		public static CategoryAttribute Mouse {
-			get {
-				if (mouse != null)
-					return mouse;
-
-				lock (typeof (CategoryAttribute)){
-					if (mouse == null)
-						mouse = new CategoryAttribute ("Mouse");
-				}
-
-				return mouse;
-			}
-		}
-
-		public static CategoryAttribute WindowStyle {
-			get {
-				if (window_style != null)
-					return window_style;
-
-				lock (typeof (CategoryAttribute)){
-					if (window_style == null)
-						window_style = new CategoryAttribute ("Window Style");
-				}
-
-				return window_style;
-			}
-		}
+		private string category;
+        private bool IsLocalized = false;
+
+        public static readonly CategoryAttribute Default = new CategoryAttribute ();
+        public static readonly CategoryAttribute Action = new CategoryAttribute ("Action");
+        public static readonly CategoryAttribute Appearance = new CategoryAttribute ("Appearance");
+        public static readonly CategoryAttribute Behavior = new CategoryAttribute ("Behavior");
+        public static readonly CategoryAttribute Data = new CategoryAttribute ("Data");
+        public static readonly CategoryAttribute Design = new CategoryAttribute ("Design");
+        public static readonly CategoryAttribute DragDrop = new CategoryAttribute ("Drag Drop");
+        public static readonly CategoryAttribute Focus = new CategoryAttribute ("Focus");
+        public static readonly CategoryAttribute Format = new CategoryAttribute ("Format");
+        public static readonly CategoryAttribute Key = new CategoryAttribute ("Key");
+        public static readonly CategoryAttribute Layout = new CategoryAttribute ("Layout");
+        public static readonly CategoryAttribute Mouse = new CategoryAttribute ("Mouse");
+        public static readonly CategoryAttribute WindowStyle = new CategoryAttribute ("Window Style");
+
+
+        public CategoryAttribute () : this ("Misc")
+        {
+        }
+
+
+        public CategoryAttribute (string category)
+        {
+        	this.category = category;
+        }
+
+        protected virtual string GetLocalizedString (string value)
+        {
+        	// FIXME: Check if other implementation exists
+        	return null;
+        }
+
+        public string Category {
+        	get {
+                if (IsLocalized == false)
+                {
+                    IsLocalized = true;
+                    string LocalizedString = GetLocalizedString (category);
+                    if (LocalizedString != null)
+                        category = LocalizedString;
+                }
+
+        		return category;
+        	}
+        }
+
+        public override bool Equals (object obj)
+        {
+            if (!(obj is CategoryAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((CategoryAttribute) obj).Category.Equals(category);
+        }
+			
+        public override int GetHashCode ()
+        {
+            if (category == null)
+                return 0;
+            return category.GetHashCode ();
+        }
+			
+        public override bool IsDefaultAttribute ()
+        {
+            return Equals (Default);
+        }
+
+// OLD IMPLEMENTATION - redid the implementation without storing any of the static
+// members which require to do locks to keep in sync
+// Please check if this is needed (incase it is needed quite some classes in this
+// namespace written by me would need patches!
+//
+//		static CategoryAttribute action, appearance, behaviour, data,   def;
+//		static CategoryAttribute design, drag_drop,  focus,     format, key;
+//		static CategoryAttribute layout, mouse,      window_style;
+//		
+//		public CategoryAttribute (string category)
+//		{
+//			this.category = category;
+//		}
+//
+//		public CategoryAttribute ()
+//		{
+//			this.category = "Misc";
+//		}
+//
+//		[MonoTODO]
+//		protected virtual string GetLocalizedString (string value)
+//		{
+//			// FIXME: IMPLEMENT
+//
+//			return category;
+//		}
+//
+//		public string Category {
+//			get {
+//				return category;
+//			}
+//		}
+//		
+//		public static CategoryAttribute Action {
+//			get {
+//				if (action != null)
+//					return action;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (action == null)
+//						action = new CategoryAttribute ("Action");
+//				}
+//
+//				return action;
+//			}
+//		}
+//
+//		public static CategoryAttribute Appearance {
+//			get {
+//				if (appearance != null)
+//					return appearance;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (appearance == null)
+//						appearance = new CategoryAttribute ("Appearance");
+//				}
+//
+//				return appearance;
+//			}
+//		}
+//
+//		public static CategoryAttribute Behaviour {
+//			get {
+//				if (behaviour != null)
+//					return behaviour;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (behaviour == null)
+//						behaviour = new CategoryAttribute ("Action");
+//				}
+//
+//				return behaviour;
+//			}
+//		}
+//
+//		public static CategoryAttribute Data {
+//			get {
+//				if (data != null)
+//					return data;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (data == null)
+//						data = new CategoryAttribute ("Data");
+//				}
+//
+//				return data;
+//			}
+//		}
+//
+//		public static CategoryAttribute Default {
+//			get {
+//				if (def != null)
+//					return def;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (def == null)
+//						def = new CategoryAttribute ("Default");
+//				}
+//
+//				return def;
+//			}
+//		}
+//
+//		public static CategoryAttribute Design {
+//			get {
+//				if (design != null)
+//					return design;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (design == null)
+//						design = new CategoryAttribute ("Design");
+//				}
+//
+//				return design;
+//			}
+//		}
+//
+//		public static CategoryAttribute DragDrop {
+//			get {
+//				if (drag_drop != null)
+//					return drag_drop;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (drag_drop == null)
+//						drag_drop = new CategoryAttribute ("Drag Drop");
+//				}
+//
+//				return drag_drop;
+//			}
+//		}
+//
+//		public static CategoryAttribute Focus {
+//			get {
+//				if (focus != null)
+//					return focus;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (focus == null)
+//						focus = new CategoryAttribute ("Focus");
+//				}
+//
+//				return focus;
+//			}
+//		}
+//
+//		public static CategoryAttribute Format {
+//			get {
+//				if (format != null)
+//					return format;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (format == null)
+//						format = new CategoryAttribute ("Format");
+//				}
+//
+//				return format;
+//			}
+//		}
+//
+//		public static CategoryAttribute Key {
+//			get {
+//				if (key != null)
+//					return key;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (key == null)
+//						key = new CategoryAttribute ("Key");
+//				}
+//
+//				return key;
+//			}
+//		}
+//
+//		public static CategoryAttribute Layout {
+//			get {
+//				if (layout != null)
+//					return layout;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (layout == null)
+//						layout = new CategoryAttribute ("Layout");
+//				}
+//
+//				return layout;
+//			}
+//		}
+//
+//		public static CategoryAttribute Mouse {
+//			get {
+//				if (mouse != null)
+//					return mouse;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (mouse == null)
+//						mouse = new CategoryAttribute ("Mouse");
+//				}
+//
+//				return mouse;
+//			}
+//		}
+//
+//		public static CategoryAttribute WindowStyle {
+//			get {
+//				if (window_style != null)
+//					return window_style;
+//
+//				lock (typeof (CategoryAttribute)){
+//					if (window_style == null)
+//						window_style = new CategoryAttribute ("Window Style");
+//				}
+//
+//				return window_style;
+//			}
+//		}
 	}
 }
Index: System.ComponentModel/ChangeLog
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ChangeLog,v
retrieving revision 1.66
diff -u -r1.66 ChangeLog
--- System.ComponentModel/ChangeLog	20 Mar 2003 09:49:03 -0000	1.66
+++ System.ComponentModel/ChangeLog	21 Jun 2003 08:51:15 -0000
@@ -1,3 +1,89 @@
+2003-06-12  Andreas Nahr  <ClassDevelopment@A-SoftTech.com>
+
+	* AmbientValueAttribute.cs
+	* ArrayConverter.cs
+	* BaseNumberConverter.cs
+	* BindableAttribute.cs
+	* BooleanConverter.cs
+	* BrowsableAttribute.cs
+	* ByteConverter.cs
+	* CategoryAttribute.cs
+	* CharConverter.cs
+	* CollectionConverter.cs
+	* CultureInfoConverter.cs
+	* DateTimeConverter.cs
+	* DecimalConverter.cs
+	* DefaultEventAttribute.cs
+	* DefaultPropertyAttribute.cs
+	* DefaultValueAttribute.cs
+	* DescriptionAttribute.cs
+	* DesignerCategoryAttribute.cs
+	* DesignerSerializationVisibilityAttribute.cs
+	* DesignOnlyAttribute.cs
+	* DesignTimeVisibleAttribute.cs
+	* DoubleConverter.cs
+	* EditorBrowsableAttribute.cs
+	* ExpandableObjectConverter.cs
+	* ExtenderProvidedPropertyAttribute.cs
+	* GuidConverter.cs
+	* ImmutableObjectAttribute.cs
+	* InstallerTypeAttribute.cs
+	* Int16Converter.cs
+	* Int32Converter.cs
+	* Int64Converter.cs
+	* LicenseProviderAttribute.cs
+	* LocalizableAttribute.cs
+	* MergablePropertyAttribute.cs
+	* NotifyParentPropertyAttribute.cs
+	* ParenthesizePropertyNameAttribute.cs
+	* PropertyTabAttribute.cs
+	* ProvidePropertyAttribute.cs
+	* RecommendedAsConfigurableAttribute.cs
+	* RefreshPropertiesAttribute.cs
+	* SByteConverter.cs
+	* SingleConverter.cs
+	* TimeSpanConverter.cs
+	* ToolboxItemFilterAttribute.cs
+	* TypeConverter.cs
+	* TypeConverterAttribute.cs
+	* TypeListConverter.cs
+	* UInt16Converter.cs
+	* UInt32Converter.cs
+	* UInt64Converter.cs: All Attributes and Converter Classes in
+	System.Componentmodel implemented completely or implementation added
+	
+	* InheritanceAttribute.cs
+	* InheritanceLevel.cs: Fixed wrong namespace assignments
+	
+	* ExtenderProvidedPropertyAttribute.cs
+	* IComNativeDescriptorHandler.cs
+	* SyntaxCheck.cs: Added and implemented
+	
+	* Component.cs
+	* ComponentCollection.cs
+	* ComponentEditor.cs
+	* Container.cs
+	* EventDescriptor.cs
+	* EventDescriptorCollection.cs
+	* IComNativeDescriptorHandler.cs
+	* IComponent.cs
+	* InvalidEnumArgumentException.cs
+	* MarshalByValueComponent.cs
+	* MemberDescriptor.cs
+	* PropertyDescriptor.cs
+	* PropertyDescriptorCollection.cs
+	* TypeDescriptor.cs: Missing implementation added
+	
+	* DesignerAttribute.cs: Fixed implementation
+	* EditorAttribute.cs: Fixed implementation
+	
+	* ReadOnlyAttribute.cs: Improved Hashcode generation
+	
+	* RunInstallerAttribute.cs
+	* ListBindableAttribute: Improved Hashcode, cleaned class
+	
+	* LicenseContext.cs: Added missing property
+
 2003-03-20  Dick Porter  <dick@ximian.com>
 
 	* Win32Exception.cs: Made the fallback error more useful by
Index: System.ComponentModel/CharConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/CharConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 CharConverter.cs
--- System.ComponentModel/CharConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/CharConverter.cs	21 Jun 2003 08:51:15 -0000
@@ -2,49 +2,54 @@
 // System.ComponentModel.CharConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Globalization;
 
 namespace System.ComponentModel
 {
-        public class CharConverter : TypeConverter  
+    public class CharConverter : TypeConverter  
 	{
-		[MonoTODO]
+
 		public CharConverter()
 		{
 		}
 
-		[MonoTODO]
 		public override bool CanConvertFrom (ITypeDescriptorContext context,
-						     Type sourceType)
+			Type sourceType)
 		{
-			throw new NotImplementedException();
+            if (sourceType == typeof (string)) 
+                return true;
+            return base.CanConvertFrom (context, sourceType);
 		}
 
-		[MonoTODO]
 		public override object ConvertFrom (ITypeDescriptorContext context,
-						    CultureInfo culture,
-						    object value)
+			CultureInfo culture, object value)
 		{
-			throw new NotImplementedException();
+            if (value.GetType() == typeof (string)) 
+            {
+                string Test = (String) value;
+                if (Test.Length != 1)
+                    // LAMESPEC: MS does throw FormatException here
+                    throw new FormatException ("String has to be exactly one char long");
+                return Test[0];
+            }
+            return base.ConvertFrom (context, culture, value);
 		}
 
-		[MonoTODO]
 		public override object ConvertTo (ITypeDescriptorContext context,
-						  CultureInfo culture,
-						  object value,
-						  Type destinationType)
-		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~CharConverter()
+			CultureInfo culture, object value, Type destinationType)
 		{
+            if (destinationType == typeof (string))
+                if (value != null)
+                    if (value is char)
+                        return new string ((char) value, 1);
+            return base.ConvertTo (context, culture, value, destinationType);
 		}
 	}
 }
Index: System.ComponentModel/CollectionConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/CollectionConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 CollectionConverter.cs
--- System.ComponentModel/CollectionConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/CollectionConverter.cs	21 Jun 2003 08:51:15 -0000
@@ -2,48 +2,45 @@
 // System.ComponentModel.CollectionConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
+using System.Collections;
 using System.Globalization;
 
 namespace System.ComponentModel
 {
 	public class CollectionConverter : TypeConverter
 	{
-		[MonoTODO]
+
 		public CollectionConverter()
 		{
 		}
 
-		[MonoTODO]
 		public override object ConvertTo (ITypeDescriptorContext context,
-						  CultureInfo culture,
-						  object value,
-						  Type destinationType)
+			CultureInfo culture, object value, Type destinationType)
 		{
-			throw new NotImplementedException();
+            if (destinationType == typeof (string))
+                if (value != null)
+                    // TODO check if the check for ICollection is correct
+                    if (value is ICollection)
+                        return "(Collection)";
+            return base.ConvertTo (context, culture, value, destinationType);
 		}
 
-		[MonoTODO]
 		public override PropertyDescriptorCollection GetProperties (ITypeDescriptorContext context,
-									    object value,
-									    Attribute[] attributes)
+			object value, Attribute[] attributes)
 		{
-			throw new NotImplementedException();
+			return null;
 		}
 
-		[MonoTODO]
 		public override bool GetPropertiesSupported (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~CollectionConverter()
-		{
+            return false;
 		}
 	}
 }
Index: System.ComponentModel/Component.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/Component.cs,v
retrieving revision 1.8
diff -u -r1.8 Component.cs
--- System.ComponentModel/Component.cs	28 Aug 2002 02:30:24 -0000	1.8
+++ System.ComponentModel/Component.cs	21 Jun 2003 08:51:16 -0000
@@ -1,13 +1,16 @@
 //
 // System.ComponentModel.Component.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 
 using System;
+using System.ComponentModel;
 
 namespace System.ComponentModel {
 
@@ -18,11 +21,12 @@
 	// <remarks>
 	//   Longer description
 	// </remarks>
+    [DesignerCategory ("Component")]
 	public class Component : MarshalByRefObject, IComponent, IDisposable {
 
-		EventHandlerList event_handlers;
-		ISite            mySite;
-		object disposedEvent = new object ();
+		private EventHandlerList event_handlers;
+		private ISite mySite;
+		private object disposedEvent = new object ();
 
 		// <summary>
 		//   Component Constructor
@@ -35,14 +39,22 @@
 		// <summary>
 		//   Get IContainer of this Component
 		// </summary>
+        [Browsable (false), DesignerSerializationVisibility (DesignerSerializationVisibility.Hidden)]
 		public IContainer Container {
-			get {
+			get 
+            {
+                if (mySite == null)
+                    return null;
 				return mySite.Container;
 			}
 		}
 
+        [Browsable (false), DesignerSerializationVisibility (DesignerSerializationVisibility.Hidden)]
 		protected bool DesignMode {
-			get {
+			get 
+            {
+                if (mySite == null)
+                    return false;
 				return mySite.DesignMode;
 			}
 		}
@@ -63,6 +75,7 @@
 			}
 		}
 
+        [Browsable (false), DesignerSerializationVisibility (DesignerSerializationVisibility.Hidden)]
 		public virtual ISite Site {
 			get {
 				return mySite;
@@ -126,7 +139,8 @@
 		}
 		// <summary>
 		//   This event is called when the component is explicitly disposed.
-	        // </summary>
+	    // </summary>
+        [Browsable (false), EditorBrowsable (EditorBrowsableState.Advanced)]
 		public event EventHandler Disposed
 		{
 			add {
Index: System.ComponentModel/ComponentCollection.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ComponentCollection.cs,v
retrieving revision 1.5
diff -u -r1.5 ComponentCollection.cs
--- System.ComponentModel/ComponentCollection.cs	28 Aug 2002 02:30:24 -0000	1.5
+++ System.ComponentModel/ComponentCollection.cs	21 Jun 2003 08:51:16 -0000
@@ -1,51 +1,64 @@
 //
 // System.ComponentModel.ComponentCollection.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
-//   Tim Coleman (tim@timcoleman.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Tim Coleman (tim@timcoleman.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
 // Copyright (C) Tim Coleman, 2002
+// (C) 2003 Andreas Nahr
 //
 
 using System.Collections;
 using System.Runtime.InteropServices;
+using System.Reflection;
 
 namespace System.ComponentModel {
-	[ComVisible (true)]
+	[ComVisible (true)] //, DefaultMember ("Item")] // FIXME Indexed property cannot be DefaultMember???
 	public class ComponentCollection : ReadOnlyCollectionBase {
 
+
+
 		#region Constructors
 
-		[MonoTODO]
 		public ComponentCollection (IComponent[] components)
 		{
-			throw new NotImplementedException ();
+            InnerList.AddRange (components);
 		}
 
 		#endregion // Constructors
 
 		#region Properties
 
-		public virtual IComponent this [string name] {
-			[MonoTODO]
-			get { throw new NotImplementedException (); }
+		public virtual IComponent this [int index] {
+			get 
+            { 
+                return (IComponent) InnerList[index]; 
+            }
 		}
 
-		public virtual IComponent this [int index] {
-			[MonoTODO]
-			get { throw new NotImplementedException (); }
+		public virtual IComponent this [string name] {
+			get 
+            { 
+                foreach (IComponent C in InnerList)
+                {
+                    if (C.Site != null)
+                        if (C.Site.Name == name)
+                            return C;
+                }
+                return null;
+            }
 		}
 
 		#endregion // Properties
 
 		#region Methods
 
-		[MonoTODO]
 		public void CopyTo (IComponent[] array, int index)
 		{
-			throw new NotImplementedException ();
+			InnerList.CopyTo (array,index);
 		}
 
 		#endregion // Methods
Index: System.ComponentModel/ComponentEditor.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ComponentEditor.cs,v
retrieving revision 1.1
diff -u -r1.1 ComponentEditor.cs
--- System.ComponentModel/ComponentEditor.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/ComponentEditor.cs	21 Jun 2003 08:51:16 -0000
@@ -2,32 +2,27 @@
 // System.ComponentModel.ComponentEditor
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
 	public abstract class ComponentEditor
 	{
-		[MonoTODO]
 		protected ComponentEditor()
 		{
 		}
 
-		[MonoTODO]
 		public bool EditComponent (object component)
 		{
-			throw new NotImplementedException();
+			return EditComponent (null, component);
 		}
 		
-		public abstract bool EditComponent (ITypeDescriptorContext context,
-						    object component);
+		public abstract bool EditComponent (ITypeDescriptorContext context, object component);
 
-		[MonoTODO]
-		~ComponentEditor()
-		{
-		}
 	}
 }
Index: System.ComponentModel/Container.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/Container.cs,v
retrieving revision 1.6
diff -u -r1.6 Container.cs
--- System.ComponentModel/Container.cs	28 Aug 2002 02:30:24 -0000	1.6
+++ System.ComponentModel/Container.cs	21 Jun 2003 08:51:17 -0000
@@ -1,12 +1,16 @@
 //
 // System.ComponentModel.Container.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 
+using System.Collections;
+
 namespace System.ComponentModel {
 
 	// <summary>
@@ -17,7 +21,9 @@
 	//   
 	// </remarks>
 	public class Container : IContainer, IDisposable {
-		ComponentCollection cc;
+
+        private ArrayList c = new ArrayList ();
+		//ComponentCollection cc;
 
 		// <summary>
 		//   Auxiliary class to support the default behaviour of CreateSite
@@ -31,9 +37,9 @@
 		// </remarks>
 		
 		class DefaultSite : ISite {
-			IComponent component;
-			IContainer container;
-			string     name;
+			private IComponent component;
+			private IContainer container;
+			private string     name;
 			
 			public DefaultSite (string name, IComponent component, IContainer container)
 			{
@@ -89,27 +95,28 @@
 		}
 
 		public virtual ComponentCollection Components {
-			get {
-				return cc;
+			get 
+            {
+                Array a = c.ToArray(typeof (IComponent));
+				return new ComponentCollection((IComponent[]) a);
 			}
 		}
 
 		// <summary>
 		//   Adds an IComponent to the Container
 		// </summary>
-		[MonoTODO]
 		public virtual void Add (IComponent component)
 		{
-			// FIXME: Add this component to the ComponentCollection.cc
+			Add (component, null);
 		}
 
 		// <summary>
 		//   Adds an IComponent to the Container.  With a name binding.
 		// </summary>
-		[MonoTODO]
 		public virtual void Add (IComponent component, string name)
 		{
-			// FIXME: Add this component to the ComponentCollection.cc
+            component.Site = CreateSite (component, name);
+            c.Add (component);
 		}
 
 		// <summary>
@@ -117,6 +124,12 @@
 		// <summary>
 		protected virtual ISite CreateSite (IComponent component, string name)
 		{
+            foreach (IComponent Comp in c)
+            {
+                if (Comp.Site != null)
+                    if (Comp.Site.Name == name)
+                        throw new ArgumentException ("duplicate component name", "name");
+            }
 			return new DefaultSite (name, component, this);
 		}
 
@@ -138,7 +151,7 @@
 				//??
 			}
 
-			cc = null;
+            c = null;
 		}
 
 		~Container ()
@@ -154,10 +167,9 @@
 			return null;
 		}
 
-		[MonoTODO]
 		public virtual void Remove (IComponent component)
 		{
-			// FIXME: Add this component to the ComponentCollection.cc
+            c.Remove (component);
 		}
 	}
 	
Index: System.ComponentModel/CultureInfoConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/CultureInfoConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 CultureInfoConverter.cs
--- System.ComponentModel/CultureInfoConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/CultureInfoConverter.cs	21 Jun 2003 08:51:17 -0000
@@ -2,9 +2,11 @@
 // System.ComponentModel.CultureInfoConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Globalization;
@@ -13,63 +15,76 @@
 {
 	public class CultureInfoConverter : TypeConverter
 	{
-		[MonoTODO]
+
 		public CultureInfoConverter()
 		{
 		}
 
-		[MonoTODO]
 		public override bool CanConvertFrom (ITypeDescriptorContext context,
-						     Type sourceType)
+			Type sourceType)
 		{
-			throw new NotImplementedException();
+            if (sourceType == typeof (string)) 
+                return true;
+            return base.CanConvertFrom (context, sourceType);
 		}
 
-		[MonoTODO]
 		public override bool CanConvertTo (ITypeDescriptorContext context,
-						   Type destinationType)
+			Type destinationType)
 		{
-			throw new NotImplementedException();
+			if (destinationType == typeof (string))
+                return true;
+            return base.CanConvertTo (context, destinationType);
 		}
 
-		[MonoTODO]
 		public override object ConvertFrom (ITypeDescriptorContext context,
-						    CultureInfo culture,
-						    object value)
+			CultureInfo culture, object value)
 		{
-			throw new NotImplementedException();
+            if (value.GetType() == typeof (string)) 
+            {
+                string CultureString = (String) value;
+                try
+                {
+                    // try to create a new CultureInfo if form is RFC 1766
+                    return new CultureInfo (CultureString);
+                }
+                catch 
+                {
+                    // try to create a new CultureInfo if form is verbose name
+                    foreach (CultureInfo CI in CultureInfo.GetCultures (CultureTypes.AllCultures))
+                        // LAMESPEC MS seems to use EnglishName (culture invariant) - check this
+                        if (CI.EnglishName.ToString().IndexOf (CultureString) > 0)
+                            return CI;
+                }
+                throw new ArgumentException ("Culture incorrect or not available in this environment.", "value");
+            }
+            return base.ConvertFrom (context, culture, value);
 		}
 
-		[MonoTODO]
 		public override object ConvertTo (ITypeDescriptorContext context,
-						  CultureInfo culture,
-						  object value,
-						  Type destinationType)
+			CultureInfo culture, object value, Type destinationType)
 		{
-			throw new NotImplementedException();
+            if (destinationType == typeof (string))
+                if (value != null)
+                    if (value is CultureInfo)
+                        // LAMESPEC MS seems to use EnglishName (culture invariant) - check this
+                        return ((CultureInfo) value).EnglishName;
+            return base.ConvertTo (context, culture, value, destinationType);
 		}
 
-		[MonoTODO]
 		public override StandardValuesCollection GetStandardValues (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
+            return new StandardValuesCollection (CultureInfo.GetCultures (CultureTypes.AllCultures));
 		}
 
-		[MonoTODO]
 		public override bool GetStandardValuesExclusive (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
+			return false;
 		}
 
-		[MonoTODO]
 		public override bool GetStandardValuesSupported (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
+			return true;
 		}
 
-		[MonoTODO]
-		~CultureInfoConverter()
-		{
-		}
 	}
 }
Index: System.ComponentModel/DateTimeConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DateTimeConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 DateTimeConverter.cs
--- System.ComponentModel/DateTimeConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/DateTimeConverter.cs	21 Jun 2003 08:51:17 -0000
@@ -2,9 +2,11 @@
 // System.ComponentModel.DateTimeConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Globalization;
@@ -13,45 +15,81 @@
 {
 	public class DateTimeConverter : TypeConverter
 	{
-		[MonoTODO]
+
 		public DateTimeConverter()
 		{
 		}
 
-		[MonoTODO]
 		public override bool CanConvertFrom (ITypeDescriptorContext context,
-						     Type sourceType)
+			Type sourceType)
 		{
-			throw new NotImplementedException();
+            if (sourceType == typeof (string)) 
+                return true;
+            return base.CanConvertFrom (context, sourceType);
 		}
 
-		[MonoTODO]
 		public override bool CanConvertTo (ITypeDescriptorContext context,
-						   Type destinationType)
+			Type destinationType)
 		{
-			throw new NotImplementedException();
+            if (destinationType == typeof (string))
+                return true;
+            return base.CanConvertTo (context, destinationType);
 		}
 
-		[MonoTODO]
 		public override object ConvertFrom (ITypeDescriptorContext context,
-						    CultureInfo culture,
-						    object value)
+			CultureInfo culture, object value)
 		{
-			throw new NotImplementedException();
+            if (value.GetType() == typeof (string))
+            {
+                string DateString = (String) value;
+                try
+                {
+                    if (culture == null)
+                        // try to parse string
+                        return DateTime.Parse (DateString);
+                    else
+                        // try to parse string
+                        return DateTime.Parse (DateString, culture.DateTimeFormat);
+                }
+                catch
+                {
+                    throw new FormatException (DateString + "is not a valid DateTime value.");
+                }
+            }
+            return base.ConvertFrom (context, culture, value);
 		}
 
-		[MonoTODO]
 		public override object ConvertTo (ITypeDescriptorContext context,
-						  CultureInfo culture,
-						  object value,
-						  Type destinationType)
+			CultureInfo culture, object value, Type destinationType)
 		{
-			throw new NotImplementedException();
-		}
+            if (destinationType == typeof (string))
+                if (value != null)
+                    if (value is DateTime)
+                    {
+
+                        CultureInfo CurrentCulture = culture;
+                        if (CurrentCulture == null)
+                            CurrentCulture = CultureInfo.CurrentCulture;
+                        DateTime ConvertTime = (DateTime) value;
+
+                        if (CurrentCulture.Equals(CultureInfo.InvariantCulture))
+                        {
+                            if (ConvertTime.Equals(ConvertTime.Date))
+                                return ConvertTime.ToString("yyyy-mm-dd");
+                            else
+                                return ConvertTime.ToString ();
+                        }
+                        else
+                        {
+                            if (ConvertTime.Equals(ConvertTime.Date))
+                                return ConvertTime.ToString (CurrentCulture.DateTimeFormat.ShortDatePattern);
+                            else
+                                return ConvertTime.ToString (CurrentCulture.DateTimeFormat.ShortDatePattern + 
+                                    " " + CurrentCulture.DateTimeFormat.ShortTimePattern);
+                        }
 
-		[MonoTODO]
-		~DateTimeConverter()
-		{
+                    }
+            return base.ConvertTo (context, culture, value, destinationType);
 		}
 	}
 }
Index: System.ComponentModel/DecimalConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DecimalConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 DecimalConverter.cs
--- System.ComponentModel/DecimalConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/DecimalConverter.cs	21 Jun 2003 08:51:17 -0000
@@ -2,41 +2,33 @@
 // System.ComponentModel.DecimalConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Globalization;
 
 namespace System.ComponentModel
 {
-        public class DecimalConverter : BaseNumberConverter
+    public class DecimalConverter : BaseNumberConverter
 	{
-		[MonoTODO]
 		public DecimalConverter()
 		{
 		}
 
-		[MonoTODO]
 		public override bool CanConvertTo (ITypeDescriptorContext context,
-						   Type destinationType)
+			Type destinationType)
 		{
-			throw new NotImplementedException();
+			return base.CanConvertTo (context, destinationType);
 		}
 		
-		[MonoTODO]
 		public override object ConvertTo (ITypeDescriptorContext context,
-						  CultureInfo culture,
-						  object value,
-						  Type destinationType)
-		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~DecimalConverter()
+			CultureInfo culture, object value, Type destinationType)
 		{
+			return base.ConvertTo(context, culture, value, destinationType);
 		}
 	}
 }
Index: System.ComponentModel/DefaultEventAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DefaultEventAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 DefaultEventAttribute.cs
--- System.ComponentModel/DefaultEventAttribute.cs	13 Jul 2002 13:39:39 -0000	1.1
+++ System.ComponentModel/DefaultEventAttribute.cs	21 Jun 2003 08:51:18 -0000
@@ -3,8 +3,10 @@
 //
 // Authors:
 //	Gonzalo Paniagua Javier (gonzalo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2002 Ximian, Inc (http://www.ximian.com)
+// (C) 2003 Andreas Nahr
 //
 
 using System;
@@ -16,6 +18,8 @@
 	{
 		private string eventName;
 
+        public static readonly DefaultEventAttribute Default = new DefaultEventAttribute (null);
+
 		public DefaultEventAttribute (string name)
 		{
 			eventName = name;
@@ -31,12 +35,14 @@
 			if (!(o is DefaultEventAttribute))
 				return false;
 
-			return (((DefaultEventAttribute) o).eventName == eventName);
+			return (((DefaultEventAttribute) o).Name.Equals (eventName));
 		}
 
 		public override int GetHashCode ()
 		{
-			return base.GetHashCode ();
+            if (eventName == null)
+                return 0;
+			return eventName.GetHashCode ();
 		}
 	}
 }
Index: System.ComponentModel/DefaultPropertyAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DefaultPropertyAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 DefaultPropertyAttribute.cs
--- System.ComponentModel/DefaultPropertyAttribute.cs	6 Jul 2002 17:52:51 -0000	1.1
+++ System.ComponentModel/DefaultPropertyAttribute.cs	21 Jun 2003 08:51:18 -0000
@@ -3,8 +3,10 @@
 //
 // Authors:
 //	Gonzalo Paniagua Javier (gonzalo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2002 Ximian, Inc (http://www.ximian.com)
+// (C) 2003 Andreas Nahr
 //
 
 using System;
@@ -16,6 +18,8 @@
 	{
 		private string property_name;
 
+        public static readonly DefaultPropertyAttribute Default = new DefaultPropertyAttribute (null);
+
 		public DefaultPropertyAttribute (string name)
 		{
 			property_name = name;
@@ -31,12 +35,14 @@
 			if (!(o is DefaultPropertyAttribute))
 				return false;
 
-			return (((DefaultPropertyAttribute) o).Name == property_name);
+			return (((DefaultPropertyAttribute) o).Name.Equals (property_name));
 		}
 
 		public override int GetHashCode ()
 		{
-			return base.GetHashCode ();
+            if (property_name == null)
+                return 0;
+			return property_name.GetHashCode ();
 		}
 	}
 }
Index: System.ComponentModel/DefaultValueAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DefaultValueAttribute.cs,v
retrieving revision 1.2
diff -u -r1.2 DefaultValueAttribute.cs
--- System.ComponentModel/DefaultValueAttribute.cs	20 Nov 2002 02:16:47 -0000	1.2
+++ System.ComponentModel/DefaultValueAttribute.cs	21 Jun 2003 08:51:18 -0000
@@ -1,133 +1,106 @@
-using System;

-

-namespace System.ComponentModel

-{

-	/// <summary>

-	/// Specifies the default value for a property.

-	/// </summary>

-

-	[MonoTODO("Needs testing. DefaultValueAttribute(System.Type type, string value) is not implemented. Value has no description.")]

-	[AttributeUsage(AttributeTargets.All)]

-	public sealed class DefaultValueAttribute : Attribute

-	{

-

-		private object defaultValue;

-

-		/// <summary>

-		/// FIXME: Summary description for Value.

-		/// </summary>

-		public object Value

-		{

-			get 

-			{

-				return defaultValue;

-			}

-		}

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class.

-		/// </summary>

-		/// <param name="value">An System.Object that represents the default value.</param>

-		public DefaultValueAttribute(object value)

-		{

-			defaultValue = value;

-		}

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class using a System.Boolean value.

-		/// </summary>

-		/// <param name="value">An System.Boolean that represents the default value.</param>

-		public DefaultValueAttribute(bool value)

-		{

-			defaultValue = value;

-		}

-

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class using an 8-bit unsigned integer.

-		/// </summary>

-		/// <param name="value">An 8-bit unsigned integer that is the default value.</param>

-		public DefaultValueAttribute(byte value)

-		{

-			defaultValue = value;

-		}

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class using a Unicode character.

-		/// </summary>

-		/// <param name="value">A Unicode character that is the default value.</param>

-		public DefaultValueAttribute(char value)

-		{

-			defaultValue = value;

-		}

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class using a double-precision floating point number.

-		/// </summary>

-		/// <param name="value">A double-precision floating point number that is the default value.</param>

-		public DefaultValueAttribute(double value)

-		{

-			defaultValue = value;

-		}

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class using a 32-bit signed integer.

-		/// </summary>

-		/// <param name="value">A 32-bit signed integer that is the default value.</param>

-		public DefaultValueAttribute(int value)

-		{

-			defaultValue = value;

-		}

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class using a 64-bit signed integer.

-		/// </summary>

-		/// <param name="value">A 64-bit signed integer that is the default value.</param>

-		public DefaultValueAttribute(long value)

-		{

-			defaultValue = value;

-		}

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class using a 16-bit signed integer.

-		/// </summary>

-		/// <param name="value">A 16-bit signed integer that is the default value.</param>

-		public DefaultValueAttribute(short value)

-		{

-			defaultValue = value;

-		}

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class using a single-precision floating point number.

-		/// </summary>

-		/// <param name="value">A single-precision floating point number that is the default value.</param>

-		public DefaultValueAttribute(System.Single value)

-		{

-			defaultValue = value;

-		}

-

-		/// <summary>	

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class using a System.String.

-		/// </summary>

-		/// <param name="value">A System.String that is the default value.</param>

-		public DefaultValueAttribute(string value)

-		{

-			defaultValue = value;

-		}

-

-		/*

-		/// <summary>	

-		/// Initializes a new instance of the System.ComponentModel.DefaultValueAttribute class, converting the specified value to the specified type, and using an invariant culture as the translation context.

-		/// </summary>

-		/// <param name="type">A System.Type that represents the type to convert the value to.</param>

-		/// <param name="value">A System.String that can be converted to the type using the System.ComponentModel.TypeConverter for the type and the U.S. English culture.</param>

-		public DefaultValueAttribute(System.Type type, string value)

-		{

-			//FIXME

-			throw new NotImplementedException(); 

-		}

-		*/

-	}

-

-}

-

+//
+// System.ComponentModel.DefaultValueAttribute
+//
+// Author:
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
+//
+// (C) 2003 Andreas Nahr
+//
+
+namespace System.ComponentModel
+{
+    [AttributeUsage(AttributeTargets.All)]
+    public sealed class DefaultValueAttribute : Attribute
+    {
+
+        private object DefaultValue;
+
+        public DefaultValueAttribute (bool value)
+        {
+            DefaultValue = value;
+        }
+
+        public DefaultValueAttribute (byte value)
+        {
+            DefaultValue = value;
+        }
+
+        public DefaultValueAttribute (char value)
+        {
+            DefaultValue = value;
+        }
+
+        public DefaultValueAttribute (double value)
+        {
+            DefaultValue = value;
+        }
+
+        public DefaultValueAttribute (short value)
+        {
+            DefaultValue = value;
+        }
+
+        public DefaultValueAttribute (int value)
+        {
+            DefaultValue = value;
+        }
+
+        public DefaultValueAttribute (long value)
+        {
+            DefaultValue = value;
+        }
+
+        public DefaultValueAttribute (object value)
+        {
+            DefaultValue = value;
+        }
+
+        public DefaultValueAttribute (float value)
+        {
+            DefaultValue = value;
+        }
+
+        public DefaultValueAttribute (string value)
+        {
+            DefaultValue = value;
+        }
+
+        public DefaultValueAttribute (Type type, string value)
+        {
+            // FIXME check if this implementation is correct
+            try
+            {
+                DefaultValue = Convert.ChangeType (value, type);
+            }
+            catch
+            {
+                DefaultValue = null;
+            }
+        }
+
+        public object Value 
+        {
+            get { return DefaultValue; }
+        }
+
+        public override bool Equals (object obj)
+        {
+            if (!(obj is DefaultValueAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((DefaultValueAttribute) obj).Value.Equals (DefaultValue);
+        }
+
+        public override int GetHashCode()
+        {
+            if (DefaultValue == null)
+                return 0;
+            return DefaultValue.GetHashCode();
+        }
+    }
+}
+
+
+
+
Index: System.ComponentModel/DescriptionAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DescriptionAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 DescriptionAttribute.cs
--- System.ComponentModel/DescriptionAttribute.cs	27 Oct 2001 19:38:07 -0000	1.1
+++ System.ComponentModel/DescriptionAttribute.cs	21 Jun 2003 08:51:18 -0000
@@ -1,27 +1,30 @@
 //
 // System.ComponentModel.DescriptionAttribute.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 //
 
 namespace System.ComponentModel {
 
-	[AttributeUsage (AttributeTargets.Property | AttributeTargets.Event)]
+	[AttributeUsage (AttributeTargets.All)]
 	public class DescriptionAttribute : Attribute {
-		string desc;
+		private string desc;
+
+        public static readonly DescriptionAttribute Default = new DescriptionAttribute ();
 			
-		public DescriptionAttribute (string name)
+		public DescriptionAttribute () : this ("")
 		{
-			desc = name;
 		}
 
-		public DescriptionAttribute ()
+		public DescriptionAttribute (string name)
 		{
-			desc = "";
+			desc = name;
 		}
 
 		public virtual string Description {
@@ -42,5 +45,21 @@
 				desc = value;
 			}
 		}
+
+        public override bool Equals (object obj)
+        {
+            if (!(obj is DescriptionAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((DescriptionAttribute) obj).Description.Equals (desc);
+        }
+			
+        public override int GetHashCode ()
+        {
+            if (desc == null)
+                return 0;
+            return desc.GetHashCode ();
+        }
 	}
 }
Index: System.ComponentModel/DesignOnlyAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DesignOnlyAttribute.cs,v
retrieving revision 1.2
diff -u -r1.2 DesignOnlyAttribute.cs
--- System.ComponentModel/DesignOnlyAttribute.cs	3 Apr 2002 06:28:49 -0000	1.2
+++ System.ComponentModel/DesignOnlyAttribute.cs	21 Jun 2003 08:51:18 -0000
@@ -1,27 +1,24 @@
 //
 // System.ComponentModel.DesignOnlyAttribute.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
-//
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel {
 
 	[AttributeUsage (AttributeTargets.Property)]
 	public sealed class DesignOnlyAttribute : Attribute {
-		bool design_only;
-		
-		public static readonly DesignOnlyAttribute No;
-		public static readonly DesignOnlyAttribute Yes;
 
-		static DesignOnlyAttribute ()
-		{
-			No = new DesignOnlyAttribute (false);
-			Yes = new DesignOnlyAttribute (false);
-		}
+		private bool design_only;
+		
+        public static readonly DesignOnlyAttribute Default = new DesignOnlyAttribute (false);
+		public static readonly DesignOnlyAttribute No = new DesignOnlyAttribute (false);
+		public static readonly DesignOnlyAttribute Yes = new DesignOnlyAttribute (true);
 		
 		public DesignOnlyAttribute (bool design_only)
 		{
@@ -33,5 +30,24 @@
 				return design_only;
 			}
 		}
+
+        public override bool Equals (object obj)
+        {
+            if (!(obj is DesignOnlyAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((DesignOnlyAttribute) obj).IsDesignOnly.Equals (design_only);
+        }
+
+        public override int GetHashCode ()
+        {
+            return design_only.GetHashCode ();
+        }
+
+        public override bool IsDefaultAttribute ()
+        {
+            return design_only == DesignOnlyAttribute.Default.IsDesignOnly;
+        }
 	}
 }
Index: System.ComponentModel/DesignTimeVisibleAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DesignTimeVisibleAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 DesignTimeVisibleAttribute.cs
--- System.ComponentModel/DesignTimeVisibleAttribute.cs	12 Nov 2002 02:05:34 -0000	1.1
+++ System.ComponentModel/DesignTimeVisibleAttribute.cs	21 Jun 2003 08:51:19 -0000
@@ -1,10 +1,12 @@
 //
 // System.ComponentModel.DesignTimeVisibleAttribute.cs
 //
-// Author:
-//   Tim Coleman (tim@timcoleman.com)
+// Authors:
+//  Tim Coleman (tim@timcoleman.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // Copyright (C) Tim Coleman, 2002
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel {
@@ -13,7 +15,7 @@
 	{
 		#region Fields
 
-		bool visible;
+		private bool visible;
 		
 		public static readonly DesignTimeVisibleAttribute Default = new DesignTimeVisibleAttribute (true);
 		public static readonly DesignTimeVisibleAttribute No = new DesignTimeVisibleAttribute (false);
@@ -45,22 +47,24 @@
 
 		#region Methods
 
-		[MonoTODO]
-		public override bool Equals (object value)
+
+		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException ();
+            if (!(obj is DesignTimeVisibleAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((DesignTimeVisibleAttribute) obj).Visible.Equals (visible);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode ()
 		{
-			throw new NotImplementedException ();
+			return visible.GetHashCode ();
 		}
 
-		[MonoTODO]
 		public override bool IsDefaultAttribute ()
 		{
-			throw new NotImplementedException ();
+			return Equals (Default);
 		}
 
 		#endregion // Methods
Index: System.ComponentModel/DesignerAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DesignerAttribute.cs,v
retrieving revision 1.5
diff -u -r1.5 DesignerAttribute.cs
--- System.ComponentModel/DesignerAttribute.cs	19 Nov 2002 16:36:55 -0000	1.5
+++ System.ComponentModel/DesignerAttribute.cs	21 Jun 2003 08:51:19 -0000
@@ -2,87 +2,90 @@
 // System.ComponentModel.DesignerAttribute.cs
 //
 // Author:
-//   Alejandro Snchez Acosta (raciel@es.gnu.org)
+//  Alejandro Snchez Acosta (raciel@es.gnu.org)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 //
 
-namespace System.ComponentModel {
+namespace System.ComponentModel 
+{
 
-	/// <summary>
-	///   Designer Attribute for classes. 
-	/// </summary>
+    /// <summary>
+    ///   Designer Attribute for classes. 
+    /// </summary>
 	
-	/// <remarks>
-	/// </remarks>
+    /// <remarks>
+    /// </remarks>
 	
-	[AttributeUsage(AttributeTargets.Class | AttributeTargets.Interface)]
-		public sealed class DesignerAttribute : Attribute
-		{
-			string name;
-			string basetypename;
-			Type type;
-			Type basetype;
+    [AttributeUsage(AttributeTargets.Class | AttributeTargets.Interface)]
+    public sealed class DesignerAttribute : Attribute
+    {
+        private string name;
+        private string basetypename;
 			
-			public DesignerAttribute (string designerTypeName)
-			{
-				name  = designerTypeName;
-			}
-
-			public DesignerAttribute (Type designerType)
-			{
-				type = designerType;
-			}
-
-			public DesignerAttribute (string designerTypeName, string designerBaseTypeName)
-			{
-				name = designerTypeName;
-				basetypename = designerBaseTypeName;
-			}
-
-			public DesignerAttribute (string designerTypeName, Type designerBaseType)
-			{
-				name = designerTypeName;
-				basetype = designerBaseType;
-			}
-
-			public DesignerAttribute (Type designerType, Type designerBaseType)
-			{
-				type = designerType;
-				basetype = designerBaseType;
-			}
-
-			public string DesignerBaseTypeName {
-				get {
-					return basetypename;
-				}
-			}
-
-			public string DesignerTypeName  {
-				get {
-					return name;
-				}
-			}
-
-			public override object TypeId {
-				get {
-					return this.GetType ();
-				}
-			}
+        public DesignerAttribute (string designerTypeName)
+        {
+            name = designerTypeName;
+        }
+
+        public DesignerAttribute (Type designerType)
+            : this (designerType.AssemblyQualifiedName)
+        {
+        }
+
+        public DesignerAttribute (string designerTypeName, Type designerBaseType)
+            : this (designerTypeName, designerBaseType.AssemblyQualifiedName)
+        {
+        }
+
+        public DesignerAttribute (Type designerType, Type designerBaseType)
+            : this (designerType.AssemblyQualifiedName, designerBaseType.AssemblyQualifiedName)
+        {
+        }
+
+        public DesignerAttribute (string designerTypeName, string designerBaseTypeName)
+        {
+            name = designerTypeName;
+            basetypename = designerBaseTypeName;
+        }
+
+        public string DesignerBaseTypeName 
+        {
+            get 
+            {
+                return basetypename;
+            }
+        }
+
+        public string DesignerTypeName  
+        {
+            get 
+            {
+                return name;
+            }
+        }
+
+        public override object TypeId 
+        {
+            get 
+            {
+                return this.GetType ();
+            }
+        }
 			
-			public override bool Equals (object obj)
-			{
-	                        if (!(obj is DesignerAttribute))
-	                                return false;
-	                        return (((DesignerAttribute) obj).name == name) && 
-					(((DesignerAttribute) obj).basetype == basetype) &&
-					(((DesignerAttribute) obj).type == type) &&
-					(((DesignerAttribute) obj).basetypename == basetypename);
-			}				
-
-			public override int GetHashCode ()
-			{
-				return base.GetHashCode ();
-			}
-		}
+        public override bool Equals (object obj)
+        {
+            if (!(obj is DesignerAttribute))
+                return false;
+            return ((DesignerAttribute) obj).DesignerBaseTypeName.Equals (basetypename) && 
+                ((DesignerAttribute) obj).DesignerTypeName.Equals (name);
+        }				
+
+        public override int GetHashCode ()
+        {
+            return string.Concat(name, basetypename).GetHashCode ();
+        }
+    }
 }
Index: System.ComponentModel/DesignerCategoryAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DesignerCategoryAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 DesignerCategoryAttribute.cs
--- System.ComponentModel/DesignerCategoryAttribute.cs	5 Feb 2003 16:07:23 -0000	1.1
+++ System.ComponentModel/DesignerCategoryAttribute.cs	21 Jun 2003 08:51:19 -0000
@@ -1,8 +1,11 @@
 //
 // System.ComponentModel.DesignerCategoryAttribute.cs
 //
-// Author:
-//   Alan Tam Siu Lung (Tam@SiuLung.com)
+// Authors:
+//  Alan Tam Siu Lung (Tam@SiuLung.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
+//
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel {
@@ -17,15 +20,15 @@
 	[AttributeUsage(AttributeTargets.Class)]
 		public sealed class DesignerCategoryAttribute : Attribute
 		{
-			string category;
-			public static readonly DesignerCategoryAttribute Component;
-			public static readonly DesignerCategoryAttribute Form;
-			public static readonly DesignerCategoryAttribute Generic;
-			static readonly DesignerCategoryAttribute Default;
+			private string category;
+
+			public static readonly DesignerCategoryAttribute Component = new DesignerCategoryAttribute ("Component");
+			public static readonly DesignerCategoryAttribute Form = new DesignerCategoryAttribute ("Form");
+			public static readonly DesignerCategoryAttribute Generic = new DesignerCategoryAttribute ("Designer");
+			public static readonly DesignerCategoryAttribute Default = new DesignerCategoryAttribute ();
 			
-			public DesignerCategoryAttribute ()
+			public DesignerCategoryAttribute () : this ("")
 			{
-				this.category = "";
 			}
 			
 			public DesignerCategoryAttribute (string category)
@@ -51,17 +54,19 @@
 					return false;
 				if (obj == this)
 					return true;
-				return ((DesignerCategoryAttribute) obj).category == category;
+				return ((DesignerCategoryAttribute) obj).Category.Equals (category);
 			}
 			
 			public override int GetHashCode ()
 			{
+                if (category == null)
+                    return 0;
 				return category.GetHashCode ();
 			}
 			
 			public override bool IsDefaultAttribute ()
 			{
-				return category == DesignerCategoryAttribute.Default.Category; // FIXME
+				return Equals (Default);
 			}
 		}
 }
Index: System.ComponentModel/DesignerSerializationVisibilityAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DesignerSerializationVisibilityAttribute.cs,v
retrieving revision 1.2
diff -u -r1.2 DesignerSerializationVisibilityAttribute.cs
--- System.ComponentModel/DesignerSerializationVisibilityAttribute.cs	1 Apr 2002 06:07:39 -0000	1.2
+++ System.ComponentModel/DesignerSerializationVisibilityAttribute.cs	21 Jun 2003 08:51:19 -0000
@@ -1,10 +1,12 @@
 //
 // System.ComponentModel.DesignerSerializationVisibilityAttribute.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 //
 
@@ -12,31 +14,48 @@
 
 	[AttributeUsage (AttributeTargets.Property)]
 	public sealed class DesignerSerializationVisibilityAttribute : Attribute {
-		DesignerSerializationVisibility visibility;
 
-		static DesignerSerializationVisibilityAttribute ()
-		{
-			Content = new DesignerSerializationVisibilityAttribute (
-				DesignerSerializationVisibility.Content);
-			Hidden = new DesignerSerializationVisibilityAttribute (
-				DesignerSerializationVisibility.Hidden);
-			Visible = new DesignerSerializationVisibilityAttribute (
-				DesignerSerializationVisibility.Visible);
-		}
+		private DesignerSerializationVisibility visibility;
+
+        public static readonly DesignerSerializationVisibilityAttribute Default=
+            new DesignerSerializationVisibilityAttribute (DesignerSerializationVisibility.Visible);
+		public static readonly DesignerSerializationVisibilityAttribute Content =
+            new DesignerSerializationVisibilityAttribute (DesignerSerializationVisibility.Content);
+		public static readonly DesignerSerializationVisibilityAttribute Hidden =
+            new DesignerSerializationVisibilityAttribute (DesignerSerializationVisibility.Hidden);
+		public static readonly DesignerSerializationVisibilityAttribute Visible=
+            new DesignerSerializationVisibilityAttribute (DesignerSerializationVisibility.Visible);
+
 		
 		public DesignerSerializationVisibilityAttribute (DesignerSerializationVisibility vis)
 		{
 			visibility = vis;
 		}
 
-		public static readonly DesignerSerializationVisibilityAttribute Content;
-		public static readonly DesignerSerializationVisibilityAttribute Hidden;
-		public static readonly DesignerSerializationVisibilityAttribute Visible;
 
 		public DesignerSerializationVisibility Visibility {
 			get {
 				return visibility;
 			}
 		}
+
+        public override bool Equals (object obj)
+        {
+            if (!(obj is DesignerSerializationVisibilityAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((DesignerSerializationVisibilityAttribute) obj).Visibility.Equals (visibility);
+        }
+			
+        public override int GetHashCode ()
+        {
+            return visibility.GetHashCode ();
+        }
+			
+        public override bool IsDefaultAttribute ()
+        {
+            return Equals (Default);
+        }
 	}
 }
Index: System.ComponentModel/DoubleConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/DoubleConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 DoubleConverter.cs
--- System.ComponentModel/DoubleConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/DoubleConverter.cs	21 Jun 2003 08:51:19 -0000
@@ -2,23 +2,20 @@
 // System.ComponentModel.DoubleConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
-        public class DoubleConverter : BaseNumberConverter
-	{
-		[MonoTODO]
-		public DoubleConverter()
-		{
-		}
-
-		[MonoTODO]
-		~DoubleConverter()
-		{
-		}
-	}
+    public class DoubleConverter : BaseNumberConverter
+    {
+        public DoubleConverter()
+        {
+            InnerType = typeof (Double);
+        }
+    }
 }
Index: System.ComponentModel/EditorAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/EditorAttribute.cs,v
retrieving revision 1.4
diff -u -r1.4 EditorAttribute.cs
--- System.ComponentModel/EditorAttribute.cs	19 Nov 2002 16:36:55 -0000	1.4
+++ System.ComponentModel/EditorAttribute.cs	21 Jun 2003 08:51:19 -0000
@@ -3,8 +3,10 @@
 //
 // Author:
 //   Alejandro Snchez Acosta (raciel@es.gnu.org)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel {
@@ -18,8 +20,6 @@
 		
 		string name;	
 		string basename;
-		Type baseType;
-		Type nametype;
 
 		public EditorAttribute ()
 		{
@@ -33,15 +33,13 @@
 		}
 
 		public EditorAttribute (string typeName, Type baseType)
+            : this (typeName, baseType.AssemblyQualifiedName)
 		{
-			name = typeName;
-			this.baseType = baseType;	
 		}
 
 		public EditorAttribute (Type type, Type baseType)
+            : this (type.AssemblyQualifiedName, baseType.AssemblyQualifiedName)
 		{
-			nametype = type;
-			this.baseType = baseType;
 		}
 
 		public string EditorBaseTypeName {
@@ -67,19 +65,13 @@
 			if (!(obj is EditorAttribute))
 				return false;
 
-			return (((EditorAttribute) obj).name == name) &&
-				(((EditorAttribute) obj).basename == basename) &&
-				(((EditorAttribute) obj).baseType == baseType) &&
-				(((EditorAttribute) obj).nametype == nametype);
-
+			return ((EditorAttribute) obj).EditorBaseTypeName.Equals (basename) &&
+				((EditorAttribute) obj).EditorTypeName.Equals (name);
 		}
 		
 		public override int GetHashCode ()
 		{
-                        if (name == null)
-	                        return 0;
-
-                        return name.GetHashCode ();
+            return string.Concat(name, basename).GetHashCode ();
 		}
 	}
 }
Index: System.ComponentModel/EditorBrowsableAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/EditorBrowsableAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 EditorBrowsableAttribute.cs
--- System.ComponentModel/EditorBrowsableAttribute.cs	8 May 2002 14:51:40 -0000	1.1
+++ System.ComponentModel/EditorBrowsableAttribute.cs	21 Jun 2003 08:51:19 -0000
@@ -1,53 +1,56 @@
-using System;

-

-namespace System.ComponentModel

-{

-

-	/// <summary>

-	/// Specifies that a property or method is viewable in an editor. This class cannot be inherited.

-	/// </summary>

-	[MonoTODO("Missing description for State. Only minimal testing.")]

-	[AttributeUsage(

-		AttributeTargets.Class|

-		AttributeTargets.Constructor|

-		AttributeTargets.Delegate|

-		AttributeTargets.Enum|

-		AttributeTargets.Event|

-		AttributeTargets.Field|

-		AttributeTargets.Interface|

-		AttributeTargets.Method|

-		AttributeTargets.Property|

-		AttributeTargets.Struct)]

-	public sealed class EditorBrowsableAttribute : Attribute

-	{

-		private System.ComponentModel.EditorBrowsableState state;

-

-		/// <summary>

-		/// FIXME: Summary description for State.

-		/// </summary>

-		public System.ComponentModel.EditorBrowsableState State

-		{

-			get 

-			{

-				return state;

-			}

-		}

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.EditorBrowsableAttribute class with an System.ComponentModel.EditorBrowsableState.

-		/// </summary>

-		/// <param name="state">The System.ComponentModel.EditorBrowsableState to set System.ComponentModel.EditorBrowsableAttribute.State to.</param>

-		public EditorBrowsableAttribute(System.ComponentModel.EditorBrowsableState state)

-		{

-			this.state = state;

-		}

-

-		/// <summary>

-		/// Initializes a new instance of the System.ComponentModel.EditorBrowsableAttribute class with an System.ComponentModel.EditorBrowsableState == System.ComponentModel.EditorBrowsableState.Always.

-		/// </summary>

-		public EditorBrowsableAttribute()

-		{

-			this.state = System.ComponentModel.EditorBrowsableState.Always; 

-		}

-	}

-}

+//
+// System.ComponentModel.EditorBrowsableAttribute.cs
+//
+// Author:
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
+//
+// (C) 2003 Andreas Nahr
+//
+//
+
+using System.ComponentModel;
+
+namespace System.ComponentModel 
+{
+
+    [AttributeUsage (AttributeTargets.Class | AttributeTargets.Constructor | AttributeTargets.Delegate |
+         AttributeTargets.Enum | AttributeTargets.Event | AttributeTargets.Field | AttributeTargets.Interface |
+         AttributeTargets.Method | AttributeTargets.Property | AttributeTargets.Struct)]
+    public sealed class EditorBrowsableAttribute : Attribute 
+    {
+        private EditorBrowsableState state;
+
+        public EditorBrowsableAttribute ()
+        {
+            this.state = EditorBrowsableState.Always;
+        }
+
+        public EditorBrowsableAttribute (System.ComponentModel.EditorBrowsableState state)
+        {
+            this.state = state;
+        }
+		
+
+        public EditorBrowsableState State
+        {
+        	get 
+        	{
+        		return state;
+        	}
+        }
+
+        public override bool Equals (object obj)
+        {
+            if (!(obj is EditorBrowsableAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((EditorBrowsableAttribute) obj).State.Equals (state);
+        }
+
+        public override int GetHashCode ()
+        {
+            return state.GetHashCode ();
+        }
+    }
+}
\ No newline at end of file
Index: System.ComponentModel/EventDescriptor.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/EventDescriptor.cs,v
retrieving revision 1.3
diff -u -r1.3 EventDescriptor.cs
--- System.ComponentModel/EventDescriptor.cs	8 May 2002 13:21:10 -0000	1.3
+++ System.ComponentModel/EventDescriptor.cs	21 Jun 2003 08:51:19 -0000
@@ -2,15 +2,21 @@
 // System.ComponentModel.EventDescriptor.cs
 //
 // Authors:
-//   Rodrigo Moya (rodrigo@ximian.com)
+//  Rodrigo Moya (rodrigo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc. 2002
+// (C) 2003 Andreas Nahr
 //
 
+using System.Runtime.InteropServices;
+
 namespace System.ComponentModel
 {
+    [ComVisibleAttribute (true)]
 	public abstract class EventDescriptor : MemberDescriptor
 	{
+
 		protected EventDescriptor (MemberDescriptor desc) : base (desc)
 		{
 		}
@@ -19,8 +25,21 @@
 		{
 		}
 
-		protected EventDescriptor(string str, Attribute[] attrs) : base (str, attrs)
+		protected EventDescriptor (string str, Attribute[] attrs) : base (str, attrs)
 		{
 		}
+
+        public abstract void AddEventHandler (object component, System.Delegate value);
+
+        public abstract void RemoveEventHandler(object component, System.Delegate value);
+
+        public abstract System.Type ComponentType { get; }
+
+        public abstract System.Type EventType { get; }
+
+        public abstract bool IsMulticast
+        {
+            get;
+        }
 	}
 }
Index: System.ComponentModel/EventDescriptorCollection.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/EventDescriptorCollection.cs,v
retrieving revision 1.5
diff -u -r1.5 EventDescriptorCollection.cs
--- System.ComponentModel/EventDescriptorCollection.cs	23 Aug 2002 05:37:58 -0000	1.5
+++ System.ComponentModel/EventDescriptorCollection.cs	21 Jun 2003 08:51:20 -0000
@@ -1,15 +1,20 @@
 //
 // System.ComponentModel.EventDescriptorCollection.cs
 //
-// Author: Rodrigo Moya (rodrigo@ximian.com)
+// Authors: 
+//  Rodrigo Moya (rodrigo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.
+// (C) 2003 Andreas Nahr
 //
 
 using System.Collections;
+using System.Runtime.InteropServices;
 
 namespace System.ComponentModel
 {
+    [ComVisible (true)]
 	public class EventDescriptorCollection : IList, ICollection, IEnumerable
 	{
 		private ArrayList eventList;
@@ -33,9 +38,14 @@
 			return eventList.Contains (value);
 		}
 
-		[MonoTODO]
-		public virtual EventDescriptor Find (string name, bool ignoreCase) {
-			throw new NotImplementedException ();
+		public virtual EventDescriptor Find (string name, bool ignoreCase) 
+        {
+            foreach (EventDescriptor e in eventList) 
+            {
+                if (0 == String.Compare (name, e.Name, ignoreCase))
+                    return e;
+            }
+            return null;
 		}
 
 		public IEnumerator GetEnumerator () {
@@ -58,15 +68,14 @@
 			eventList.RemoveAt (index);
 		}
 
-
-		[MonoTODO]
 		public virtual EventDescriptorCollection Sort () {
-			throw new NotImplementedException ();
+            eventList.Sort ();
+            return this;
 		}
 
-		[MonoTODO]
 		public virtual EventDescriptorCollection Sort (IComparer comparer) {
-			throw new NotImplementedException ();
+            eventList.Sort (comparer);
+            return this;
 		}
 
 		[MonoTODO]
@@ -75,8 +84,7 @@
 		}
 
 		[MonoTODO]
-		public virtual EventDescriptorCollection Sort (string[] order,
-							       IComparer comparer) {
+		public virtual EventDescriptorCollection Sort (string[] order, IComparer comparer) {
 			throw new NotImplementedException ();
 		}
 
@@ -97,9 +105,9 @@
 		}
 
 		 public virtual EventDescriptor this[string name] {
-			 [MonoTODO]
-			 get {
-				 throw new NotImplementedException ();
+			 get 
+             {
+                 return Find (name, false);
 			 }
 		 }
 
Index: System.ComponentModel/ExpandableObjectConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ExpandableObjectConverter.cs,v
retrieving revision 1.2
diff -u -r1.2 ExpandableObjectConverter.cs
--- System.ComponentModel/ExpandableObjectConverter.cs	23 Jul 2002 03:59:22 -0000	1.2
+++ System.ComponentModel/ExpandableObjectConverter.cs	21 Jun 2003 08:51:20 -0000
@@ -25,7 +25,8 @@
 		#region Methods
 
 		[MonoTODO]
-		public override PropertyDescriptorCollection GetProperties (ITypeDescriptorContext context, object value, Attribute[] attributes)
+		public override PropertyDescriptorCollection GetProperties (ITypeDescriptorContext context, 
+            object value, Attribute[] attributes)
 		{
 			throw new NotImplementedException ();
 		}
Index: System.ComponentModel/GuidConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/GuidConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 GuidConverter.cs
--- System.ComponentModel/GuidConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/GuidConverter.cs	21 Jun 2003 08:51:20 -0000
@@ -1,10 +1,12 @@
 //
 // System.ComponentModel.GuidConverter
 //
-// Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+// Author:
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Globalization;
@@ -13,45 +15,56 @@
 {
 	public class GuidConverter : TypeConverter
 	{
-		[MonoTODO]
+
 		public GuidConverter()
 		{
 		}
 
-				[MonoTODO]
 		public override bool CanConvertFrom (ITypeDescriptorContext context,
-						     Type sourceType)
+			Type sourceType)
 		{
-			throw new NotImplementedException();
+            if (sourceType == typeof (string)) 
+                return true;
+            return base.CanConvertFrom (context, sourceType);
 		}
 
-		[MonoTODO]
 		public override bool CanConvertTo (ITypeDescriptorContext context,
-						   Type destinationType)
+			Type destinationType)
 		{
-			throw new NotImplementedException();
+            if (destinationType == typeof (string))
+                return true;
+            return base.CanConvertTo (context, destinationType);
 		}
 
-		[MonoTODO]
 		public override object ConvertFrom (ITypeDescriptorContext context,
-						    CultureInfo culture,
-						    object value)
+			CultureInfo culture, object value)
 		{
-			throw new NotImplementedException();
+            if (value.GetType() == typeof (string))
+            {
+                string GuidString = (string) value;
+                try
+                {
+                    return new Guid (GuidString);
+                }
+                catch 
+                {
+                    throw new FormatException (GuidString + "is not a valid GUID.");
+                }
+            }
+            return base.ConvertFrom (context, culture, value);
 		}
 
-		[MonoTODO]
 		public override object ConvertTo (ITypeDescriptorContext context,
-						  CultureInfo culture,
-						  object value,
-						  Type destinationType)
-		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~GuidConverter()
+			CultureInfo culture, object value, Type destinationType)
 		{
+            if (destinationType == typeof (string))
+                if (value != null)
+                    if (value.GetType() == typeof (Guid))
+                    {
+                        // LAMESPEC MS seems to always parse "D" type
+                        return ((Guid) value).ToString("D");
+                    }
+            return base.ConvertTo (context, culture, value, destinationType);
 		}
 	}
 }
Index: System.ComponentModel/IComponent.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/IComponent.cs,v
retrieving revision 1.2
diff -u -r1.2 IComponent.cs
--- System.ComponentModel/IComponent.cs	12 May 2002 03:15:56 -0000	1.2
+++ System.ComponentModel/IComponent.cs	21 Jun 2003 08:51:21 -0000
@@ -1,16 +1,26 @@
 //
 // System.ComponentModel.IComponent.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 
 using System;
+using System.ComponentModel.Design.Serialization;
+
 
 namespace System.ComponentModel {
 
+    [TypeConverter (typeof (System.ComponentModel.ComponentConverter)),
+    //FIXME: The compiler complains about the same type of Attribute applied two times, but according to docs this class HAS the same type of attribute applied two times
+    // also this compiled without problems in MS.Net 1.0 but does no longer in 1.1
+    //Designer ("System.Windows.Forms.Design.ComponentDocumentDesigner, System.Design, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a", typeof (System.ComponentModel.Design.IRootDesigner)),
+    Designer ("System.ComponentModel.Design.ComponentDesigner, System.Design, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a", typeof (System.ComponentModel.Design.IDesigner)),
+    RootDesignerSerializer ("System.ComponentModel.Design.Serialization.RootCodeDomSerializer, System.Design, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a", "System.ComponentModel.Design.Serialization.CodeDomSerializer, System.Design, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a", true)]
 	public interface IComponent : IDisposable {
 
 		ISite Site {
Index: System.ComponentModel/ImmutableObjectAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ImmutableObjectAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 ImmutableObjectAttribute.cs
--- System.ComponentModel/ImmutableObjectAttribute.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/ImmutableObjectAttribute.cs	21 Jun 2003 08:51:21 -0000
@@ -2,50 +2,53 @@
 // System.ComponentModel.ImmutableObjectAttribute
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
 	[AttributeUsage(AttributeTargets.All)]
-        public sealed class ImmutableObjectAttribute : Attribute
+    public sealed class ImmutableObjectAttribute : Attribute
 	{
-		public static readonly ImmutableObjectAttribute No;
-		public static readonly ImmutableObjectAttribute Yes;
 
-		[MonoTODO]
+        private bool immutable;
+
+        public static readonly ImmutableObjectAttribute Default = new ImmutableObjectAttribute (false);
+		public static readonly ImmutableObjectAttribute No = new ImmutableObjectAttribute (false);
+		public static readonly ImmutableObjectAttribute Yes = new ImmutableObjectAttribute (true);
+
+
 		public ImmutableObjectAttribute (bool immutable)
 		{
+            this.immutable=immutable;
 		}
 
 		public bool Immutable {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return this.immutable; }
 		}
 
-		[MonoTODO]
 		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException();
+            if (!(obj is ImmutableObjectAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((ImmutableObjectAttribute) obj).Immutable.Equals (immutable);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode()
 		{
-			throw new NotImplementedException();
+			return immutable.GetHashCode ();
 		}
 
-		[MonoTODO]
 		public override bool IsDefaultAttribute()
 		{
-			throw new NotImplementedException();
+			return Equals (Default);
 		}
 
-		[MonoTODO]
-		~ImmutableObjectAttribute()
-		{
-		}
 	}
 }
Index: System.ComponentModel/InheritanceAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/InheritanceAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 InheritanceAttribute.cs
--- System.ComponentModel/InheritanceAttribute.cs	29 Mar 2003 13:01:31 -0000	1.1
+++ System.ComponentModel/InheritanceAttribute.cs	21 Jun 2003 08:51:21 -0000
@@ -1,66 +1,71 @@
 //
-// System.ComponentModel.Design.InheritanceAttribute
+// System.ComponentModel.InheritanceAttribute
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
-namespace System.ComponentModel.Design
+namespace System.ComponentModel
 {
-	[AttributeUsage(AttributeTargets.Property | 
-			AttributeTargets.Field
-			| AttributeTargets.Event)]
-        public sealed class InheritanceAttribute : Attribute
+	[AttributeUsage(AttributeTargets.Property | AttributeTargets.Field | AttributeTargets.Event)]
+    public sealed class InheritanceAttribute : Attribute
 	{
-		[MonoTODO]
+
+        private InheritanceLevel level;
+
+		public static readonly InheritanceAttribute Default = new InheritanceAttribute ();
+		public static readonly InheritanceAttribute Inherited = new InheritanceAttribute (InheritanceLevel.Inherited);
+		public static readonly InheritanceAttribute InheritedReadOnly = new InheritanceAttribute (InheritanceLevel.InheritedReadOnly);
+		public static readonly InheritanceAttribute NotInherited = new InheritanceAttribute (InheritanceLevel.NotInherited);
+
+
 		public InheritanceAttribute()
 		{
+            this.level = InheritanceLevel.NotInherited;
 		}
 
-		[MonoTODO]
+
 		public InheritanceAttribute (InheritanceLevel inheritanceLevel)
 		{
+            this.level = inheritanceLevel;
 		}
 
-		public static readonly InheritanceAttribute Default;
-		public static readonly InheritanceAttribute Inherited;
-		public static readonly InheritanceAttribute InheritedReadOnly;
-		public static readonly InheritanceAttribute NotInherited;
-		
+
 		public InheritanceLevel InheritanceLevel {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return level; }
 		}
 
-		[MonoTODO]
-	        public override bool Equals (object value)
+
+	    public override bool Equals (object obj)
 		{
-			throw new NotImplementedException();
+            if (!(obj is InheritanceAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((InheritanceAttribute) obj).InheritanceLevel.Equals (level);
 		}
 
-		[MonoTODO]
+
 		public override int GetHashCode()
 		{
-			throw new NotImplementedException();
+			return level.GetHashCode ();
 		}
 
-		[MonoTODO]
+
 		public override bool IsDefaultAttribute()
 		{
-			throw new NotImplementedException();
+            return Equals (Default);
 		}
 
-		[MonoTODO]
+
 		public override string ToString()
 		{
-			throw new NotImplementedException();
+            return this.level.ToString ();
 		}
 
-		[MonoTODO]
-		~InheritanceAttribute()
-		{
-		}
 	}
 }
Index: System.ComponentModel/InheritanceLevel.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/InheritanceLevel.cs,v
retrieving revision 1.1
diff -u -r1.1 InheritanceLevel.cs
--- System.ComponentModel/InheritanceLevel.cs	29 Mar 2003 13:01:31 -0000	1.1
+++ System.ComponentModel/InheritanceLevel.cs	21 Jun 2003 08:51:21 -0000
@@ -1,16 +1,18 @@
 //
-// System.ComponentModel.Design.InheritanceLevel
+// System.ComponentModel.InheritanceLevel
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
-namespace System.ComponentModel.Design
+namespace System.ComponentModel
 {
 	[Serializable]
-        public enum InheritanceLevel
+    public enum InheritanceLevel
 	{
 		Inherited,
 		InheritedReadOnly,
Index: System.ComponentModel/InstallerTypeAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/InstallerTypeAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 InstallerTypeAttribute.cs
--- System.ComponentModel/InstallerTypeAttribute.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/InstallerTypeAttribute.cs	21 Jun 2003 08:51:21 -0000
@@ -2,46 +2,57 @@
 // System.ComponentModel.InstallerTypeAttribute
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
 	[AttributeUsage(AttributeTargets.Class)]
-        public class InstallerTypeAttribute : Attribute
+    public class InstallerTypeAttribute : Attribute
 	{
-		[MonoTODO]
+
+        private Type installer;
+
 		public InstallerTypeAttribute (string typeName)
 		{
+            // MS behavior
+            try
+            {
+                this.installer = Type.GetType (typeName);
+            }
+            catch
+            {
+                this.installer = null;
+            }
 		}
 
-		[MonoTODO]
 		public InstallerTypeAttribute (Type installerType)
 		{
+            this.installer = installerType;
 		}
 
 		public virtual Type InstallerType {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return installer; }
 		}
 
-		[MonoTODO]
 		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException();
+            if (!(obj is InstallerTypeAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((InstallerTypeAttribute) obj).InstallerType.Equals (installer);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode()
 		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~InstallerTypeAttribute()
-		{
+            if (installer == null)
+                return 0;
+			return installer.GetHashCode ();
 		}
 	}
 }
Index: System.ComponentModel/Int16Converter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/Int16Converter.cs,v
retrieving revision 1.1
diff -u -r1.1 Int16Converter.cs
--- System.ComponentModel/Int16Converter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/Int16Converter.cs	21 Jun 2003 08:51:21 -0000
@@ -2,23 +2,20 @@
 // System.ComponentModel.Int16Converter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
-        public class Int16Converter : BaseNumberConverter
-	{
-		[MonoTODO]
-		public Int16Converter()
-		{
-		}
-
-		[MonoTODO]
-		~Int16Converter()
-		{
-		}
-	}
+    public class Int16Converter : BaseNumberConverter
+    {
+        public Int16Converter()
+        {
+            InnerType = typeof (Int16);
+        }
+    }
 }
Index: System.ComponentModel/Int32Converter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/Int32Converter.cs,v
retrieving revision 1.1
diff -u -r1.1 Int32Converter.cs
--- System.ComponentModel/Int32Converter.cs	2 Nov 2002 20:29:17 -0000	1.1
+++ System.ComponentModel/Int32Converter.cs	21 Jun 2003 08:51:21 -0000
@@ -1,10 +1,21 @@
 //
 // System.ComponentModel.Int32Converter
 //
+// Authors:
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
+//
+// (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
-namespace System.ComponentModel {
-	public class Int32Converter : BaseNumberConverter {
-		
-	}
+namespace System.ComponentModel
+{
+    public class Int32Converter : BaseNumberConverter
+    {
+        public Int32Converter()
+        {
+            InnerType = typeof (Int32);
+        }
+    }
 }
Index: System.ComponentModel/Int64Converter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/Int64Converter.cs,v
retrieving revision 1.1
diff -u -r1.1 Int64Converter.cs
--- System.ComponentModel/Int64Converter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/Int64Converter.cs	21 Jun 2003 08:51:21 -0000
@@ -2,23 +2,20 @@
 // System.ComponentModel.Int64Converter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
-        public class Int64Converter : BaseNumberConverter
-	{
-		[MonoTODO]
-		public Int64Converter()
-		{
-		}
-
-		[MonoTODO]
-		~Int64Converter()
-		{
-		}
-	}
+    public class Int64Converter : BaseNumberConverter
+    {
+        public Int64Converter()
+        {
+            InnerType = typeof (Int64);
+        }
+    }
 }
Index: System.ComponentModel/InvalidEnumArgumentException.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/InvalidEnumArgumentException.cs,v
retrieving revision 1.1
diff -u -r1.1 InvalidEnumArgumentException.cs
--- System.ComponentModel/InvalidEnumArgumentException.cs	2 Nov 2002 21:07:40 -0000	1.1
+++ System.ComponentModel/InvalidEnumArgumentException.cs	21 Jun 2003 08:51:21 -0000
@@ -1,42 +1,36 @@
 //
 // System.ComponentModel.InvalidEnumArgumentException.cs 
 //
-// Author:
+// Authors:
 //	Duncan Mak (duncan@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2002 Ximian, Inc.		http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 
 using System;
 
 namespace System.ComponentModel
 {
-	[Serializable]
+
 	public class InvalidEnumArgumentException : ArgumentException
 	{
-		string msg = String.Empty;
-		
-		public InvalidEnumArgumentException () : base ()
-		{
-		}
 
-		public InvalidEnumArgumentException (string message)
+		public InvalidEnumArgumentException () 
+            : base ()
 		{
-			msg = message;
 		}
 
-		public InvalidEnumArgumentException (string argumentName, int invalidValue, Type enumClass)
+		public InvalidEnumArgumentException (string message) 
+            : base (message)
 		{
-			msg = argumentName + " is invalid because this value, " + invalidValue + " is not of type " + enumClass.Name;
 		}
 
-		public override string Message {
-			get {
-				if (ParamName == String.Empty)
-					return msg;
-				else
-					return ParamName + ": " + msg;
-			}
+		public InvalidEnumArgumentException (string argumentName, int invalidValue, Type enumClass) 
+            : base (argumentName + " is invalid because this value, " + invalidValue + 
+                " is not of type " + enumClass.Name, argumentName)
+		{
 		}
 	}
 }
Index: System.ComponentModel/LicenseContext.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/LicenseContext.cs,v
retrieving revision 1.2
diff -u -r1.2 LicenseContext.cs
--- System.ComponentModel/LicenseContext.cs	30 Mar 2003 20:26:48 -0000	1.2
+++ System.ComponentModel/LicenseContext.cs	21 Jun 2003 08:51:22 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.LicenseContext
+// System.ComponentModel.LicenseContext.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Reflection;
@@ -37,9 +39,12 @@
 			throw new NotImplementedException();
 		}
 
-		[MonoTODO]
-		~LicenseContext()
+		public virtual LicenseUsageMode UsageMode
 		{
+			get
+			{
+				return LicenseUsageMode.Runtime;
+			}
 		}
 	}
 }
Index: System.ComponentModel/LicenseProviderAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/LicenseProviderAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 LicenseProviderAttribute.cs
--- System.ComponentModel/LicenseProviderAttribute.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/LicenseProviderAttribute.cs	21 Jun 2003 08:51:22 -0000
@@ -2,59 +2,71 @@
 // System.ComponentModel.LicenseProviderAttribute
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
 	[AttributeUsage(AttributeTargets.Class)]
-        public sealed class LicenseProviderAttribute : Attribute
+    public sealed class LicenseProviderAttribute : Attribute
 	{
-		[MonoTODO]
+
+        private Type Provider;
+
+        public static readonly LicenseProviderAttribute Default = new LicenseProviderAttribute ();
+
 		public LicenseProviderAttribute()
 		{
+            this.Provider = null;
 		}
 
-		[MonoTODO]
 		public LicenseProviderAttribute (string typeName)
 		{
-			throw new NotImplementedException();
+            try
+            {
+                this.Provider = Type.GetType (typeName);
+            }
+            catch
+            {
+                this.Provider = null;
+            }
 		}
 
-		[MonoTODO]
 		public LicenseProviderAttribute (Type type)
 		{
-			throw new NotImplementedException();
+			this.Provider = type;
 		}
 
-		[MonoTODO]
 		public Type LicenseProvider {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return Provider; }
 		}
 		
 		public override object TypeId {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get 
+            {
+                // Seems to be MS implementation
+                return (base.ToString() + Provider.ToString());
+            }
 		}
 
-		[MonoTODO]
-		public override bool Equals (object value)
-		{
-			throw new NotImplementedException();
+		public override bool Equals (object obj)
+		{
+            if (!(obj is LicenseProviderAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((LicenseProviderAttribute) obj).LicenseProvider.Equals (Provider);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode()
 		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~LicenseProviderAttribute()
-		{
+            if (Provider == null)
+                return 0;
+            return Provider.GetHashCode ();
 		}
 	}
 }
Index: System.ComponentModel/ListBindableAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ListBindableAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 ListBindableAttribute.cs
--- System.ComponentModel/ListBindableAttribute.cs	4 Nov 2002 20:11:42 -0000	1.1
+++ System.ComponentModel/ListBindableAttribute.cs	21 Jun 2003 08:51:22 -0000
@@ -3,8 +3,10 @@
 //
 // Authors:
 //	Gonzalo Paniagua Javier (gonzalo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2002 Ximian, Inc (http://www.ximian.com)
+// (C) 2003 Andreas Nahr
 //
 
 using System;
@@ -14,29 +16,23 @@
 	[AttributeUsage(AttributeTargets.All, AllowMultiple = false, Inherited = true)]
 	public sealed class ListBindableAttribute : Attribute
 	{
-		public static readonly ListBindableAttribute Default = new ListBindableAttribute (true, true);
-		public static readonly ListBindableAttribute No = new ListBindableAttribute (false, true);
-		public static readonly ListBindableAttribute Yes = new ListBindableAttribute (true, true);
+		public static readonly ListBindableAttribute Default = new ListBindableAttribute (true);
+		public static readonly ListBindableAttribute No = new ListBindableAttribute (false);
+		public static readonly ListBindableAttribute Yes = new ListBindableAttribute (true);
 
-		bool deflt;
 		bool bindable;
-
-		private ListBindableAttribute (bool listBindable, bool deflt)
-		{
-			this.deflt = deflt;
-			bindable = listBindable;
-		}
 		
 		public ListBindableAttribute (bool listBindable)
 		{
-			deflt = false;
-			bindable = true;
+			bindable = listBindable;
 		}
 
 		public ListBindableAttribute (BindableSupport flags)
 		{
-			bindable = (flags == BindableSupport.Yes);
-			deflt = (flags == BindableSupport.Default);
+            if (flags == BindableSupport.No)
+                bindable = false;
+            else
+                bindable = true;
 		}
 
 		public override bool Equals (object obj)
@@ -44,18 +40,17 @@
 			if (!(obj is ListBindableAttribute))
 				return false;
 
-			return (((ListBindableAttribute) obj).bindable == bindable &&
-				((ListBindableAttribute) obj).deflt == deflt);
+			return ((ListBindableAttribute) obj).ListBindable.Equals (bindable);
 		}
 
 		public override int GetHashCode ()
 		{
-			return base.GetHashCode ();
+			return bindable.GetHashCode ();
 		}
 
 		public override bool IsDefaultAttribute ()
 		{
-			return deflt;
+			return Equals (Default);
 		}
 
 		public bool ListBindable
Index: System.ComponentModel/LocalizableAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/LocalizableAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 LocalizableAttribute.cs
--- System.ComponentModel/LocalizableAttribute.cs	27 Oct 2001 19:38:07 -0000	1.1
+++ System.ComponentModel/LocalizableAttribute.cs	21 Jun 2003 08:51:22 -0000
@@ -1,10 +1,12 @@
 //
 // System.ComponentModel.LocalizableAttribute.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 //
 
@@ -14,16 +16,13 @@
 
 	[AttributeUsage (AttributeTargets.Property)]
 	public sealed class LocalizableAttribute : Attribute {
-		bool localizable;
+
+		private bool localizable;
 		
-		public static readonly LocalizableAttribute No;
-		public static readonly LocalizableAttribute Yes;
+        public static readonly LocalizableAttribute Default = new LocalizableAttribute (false);
+		public static readonly LocalizableAttribute No = new LocalizableAttribute (false);
+		public static readonly LocalizableAttribute Yes = new LocalizableAttribute (true);
 
-		static LocalizableAttribute ()
-		{
-			No = new LocalizableAttribute (false);
-			Yes = new LocalizableAttribute (false);
-		}
 		
 		public LocalizableAttribute (bool localizable)
 		{
@@ -35,6 +34,24 @@
 				return localizable;
 			}
 		}
-		
+
+        public override bool Equals (object obj)
+        {
+            if (!(obj is LocalizableAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((LocalizableAttribute) obj).IsLocalizable.Equals (localizable);
+        }
+
+        public override int GetHashCode ()
+        {
+            return localizable.GetHashCode ();
+        }
+
+        public override bool IsDefaultAttribute ()
+        {
+            return Equals (Default);
+        }
 	}
 }
Index: System.ComponentModel/MarshalByValueComponent.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/MarshalByValueComponent.cs,v
retrieving revision 1.4
diff -u -r1.4 MarshalByValueComponent.cs
--- System.ComponentModel/MarshalByValueComponent.cs	14 Mar 2003 07:00:24 -0000	1.4
+++ System.ComponentModel/MarshalByValueComponent.cs	21 Jun 2003 08:51:22 -0000
@@ -1,22 +1,30 @@
 //
 // System.ComponentModel.MarshalByValueComponent.cs
 //
-// Author:
-//   Rodrigo Moya (rodrigo@ximian.com)
+// Authors:
+//  Rodrigo Moya (rodrigo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc
+// (C) 2003 Andreas Nahr
 //
 
 using System;
+using System.ComponentModel;
+using System.ComponentModel.Design;
 
 namespace System.ComponentModel
 {
 	/// <summary>
 	/// Implements IComponent and provides the base implementation for remotable components that are marshaled by value (a copy of the serialized object is passed).
 	/// </summary>
+	[DesignerCategory ("Component"), TypeConverter (typeof (ComponentConverter)), 
+    Designer ("System.Windows.Forms.Design.ComponentDocumentDesigner, System.Design, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a", typeof (IRootDesigner))]
 	public class MarshalByValueComponent : IComponent, IDisposable, IServiceProvider
 	{
-		EventHandlerList eventList;
+		private EventHandlerList eventList;
+        private ISite mySite;
+        private object disposedEvent = new object ();
 
 		public MarshalByValueComponent ()
 		{
@@ -49,33 +57,43 @@
 			return null;
 		}
 		
+        [Browsable (false), DesignerSerializationVisibility (DesignerSerializationVisibility.Hidden)]
 		public virtual IContainer Container {
-			[MonoTODO]
 			get {
-				return null;
+                if (mySite == null)
+                    return null;
+                return mySite.Container;
 			}
 		}
 
+        [Browsable (false), DesignerSerializationVisibility (DesignerSerializationVisibility.Hidden)]
 		public virtual bool DesignMode {
-			[MonoTODO]
-			get {
-				return false;
+			get 
+            {
+                if (mySite == null)
+                    return false;
+                return mySite.DesignMode;
 			}
 		}
 
+        [Browsable (false), DesignerSerializationVisibility (DesignerSerializationVisibility.Hidden)]
 		public virtual ISite Site {
-			[MonoTODO]
 			get {
-				// TODO: need to get Site
-				return null;
+				return mySite;
 			}
 
-			[MonoTODO]
 			set {
-				// TODO: need to set Site
+				mySite = value;
 			}
 		}
 
+        public override string ToString ()
+        {
+            if (mySite == null)
+                return GetType ().ToString ();
+            return String.Format ("{0} [{1}]", mySite.Name, GetType ().ToString ());
+        }
+
 		protected EventHandlerList Events {
 			get {
 				if (eventList == null)
@@ -85,6 +103,16 @@
 			}
 		}
 		
-		public event EventHandler Disposed;
+		public event EventHandler Disposed
+        {
+            add 
+            {
+                Events.AddHandler (disposedEvent, value);
+            }
+            remove 
+            {
+                Events.RemoveHandler (disposedEvent, value);
+            }
+        }
 	}
 }
Index: System.ComponentModel/MemberDescriptor.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/MemberDescriptor.cs,v
retrieving revision 1.4
diff -u -r1.4 MemberDescriptor.cs
--- System.ComponentModel/MemberDescriptor.cs	20 Jul 2002 08:39:12 -0000	1.4
+++ System.ComponentModel/MemberDescriptor.cs	21 Jun 2003 08:51:23 -0000
@@ -1,120 +1,217 @@
 //
 // System.ComponentModel.MemberDescriptor.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 
-namespace System.ComponentModel {
-
-	public abstract class MemberDescriptor {
-		string name;
-		Attribute [] attrs;
-		AttributeCollection attrCollection;
+using System;
+using System.Reflection;
+using System.Runtime.InteropServices;
+
+namespace System.ComponentModel
+{
+
+    [ComVisible (true)]
+    public abstract class MemberDescriptor 
+    {
+
+        private string name;
+        private string displayName;
+        private Attribute [] attrs;
+        private AttributeCollection attrCollection;
 		
-		protected MemberDescriptor (string name, Attribute [] attrs)
-		{
-			this.name = name;
-			this.attrs = attrs;
-		}
-
-		protected MemberDescriptor (MemberDescriptor reference, Attribute [] attrs)
-		{
-			name = reference.name;
-			this.attrs = attrs;
-		}
-
-		protected MemberDescriptor (string name)
-		{
-			this.name = name;
-		}
-
-		protected MemberDescriptor (MemberDescriptor reference)
-		{
-			name = reference.name;
-			attrs = reference.attrs;
-		}
-
-		protected virtual Attribute [] AttributeArray {
-			get {
-				return attrs;
-			}
-
-			set {
-				attrs = value;
-			}
-		}
-
-		public virtual AttributeCollection Attributes
-		{
-			get {
-				if (attrCollection == null)
-					attrCollection = new AttributeCollection (attrs);
-				return attrCollection;
-			}
-		}
+        protected MemberDescriptor (string name, Attribute [] attrs)
+        {
+            this.name = name;
+            this.displayName = name;
+            this.attrs = attrs;
+        }
+
+        protected MemberDescriptor (MemberDescriptor reference, Attribute [] attrs)
+        {
+            name = reference.name;
+            this.displayName = name;
+            this.attrs = attrs;
+        }
+
+        protected MemberDescriptor (string name)
+        {
+            this.name = name;
+            this.displayName = name;
+        }
+
+        protected MemberDescriptor (MemberDescriptor reference)
+        {
+            name = reference.name;
+            this.displayName = name;
+            attrs = reference.attrs;
+        }
+
+        protected virtual Attribute [] AttributeArray 
+        {
+            get 
+            {
+                return attrs;
+            }
+
+            set 
+            {
+                attrs = value;
+            }
+        }
+
+        [MonoTODO]
+        protected virtual void FillAttributes(System.Collections.IList attributeList)
+        {
+            // LAMESPEC/FIXME - I don't think this is correct, but didn't really understand
+            // what this sub is good for
+            attributeList = this.attrs;
+            return;
+        }
+
+        public virtual AttributeCollection Attributes
+        {
+            get 
+            {
+                if (attrCollection == null)
+                    attrCollection = CreateAttributeCollection ();
+                return attrCollection;
+            }
+        }
+
+        protected virtual AttributeCollection CreateAttributeCollection()
+        {
+            return new AttributeCollection (attrs);
+        }
 			
-		public virtual string Category {
-			get {
-				return ((CategoryAttribute) Attributes [typeof (CategoryAttribute)]).Category;
-			}
-		}
-
-		public virtual string Description {
-			get {
-				foreach (Attribute attr in attrs){
-					if (attr is DescriptionAttribute)
-						return ((DescriptionAttribute) attr).Description;
-				}
-
-				return "";
-			}
-		}
-
-		public virtual bool DesignTimeOnly {
-			get {
-				foreach (Attribute attr in attrs){
-					if (attr is DesignOnlyAttribute)
-						return ((DesignOnlyAttribute) attr).IsDesignOnly;
-				}
-
-				return false;
-			}
-		}
-
-		//
-		// FIXME: Is there any difference between DisplayName and Name?
-		//
-		[MonoTODO ("Does this diff from Name ?")]
-		public virtual string DisplayName {
-			get {
-				return name;
-			}
-		}
-
-		public virtual string Name {
-			get {
-				return name;
-			}
-		}
-
-		public virtual bool IsBrowsable {
-			get {
-				foreach (Attribute attr in attrs){
-					if (attr is BrowsableAttribute)
-						return ((BrowsableAttribute) attr).Browsable;
-				}
-
-				return false;
-			}
-		}
-
-		protected virtual int NameHashCode {
-			get {
-				return name.GetHashCode ();
-			}
-		}
-	}
+        public virtual string Category 
+        {
+            get 
+            {
+                return ((CategoryAttribute) Attributes [typeof (CategoryAttribute)]).Category;
+            }
+        }
+
+        public virtual string Description 
+        {
+            get 
+            {
+                foreach (Attribute attr in attrs)
+                {
+                    if (attr is DescriptionAttribute)
+                        return ((DescriptionAttribute) attr).Description;
+                }
+                return "";
+            }
+        }
+
+        public virtual bool DesignTimeOnly 
+        {
+            get 
+            {
+                foreach (Attribute attr in attrs)
+                {
+                    if (attr is DesignOnlyAttribute)
+                        return ((DesignOnlyAttribute) attr).IsDesignOnly;
+                }
+
+                return false;
+            }
+        }
+
+        public virtual string DisplayName 
+        {
+            get 
+            {
+                return displayName;
+            }
+        }
+
+        public virtual string Name 
+        {
+            get 
+            {
+                return name;
+            }
+        }
+
+        public virtual bool IsBrowsable 
+        {
+            get 
+            {
+                foreach (Attribute attr in attrs)
+                {
+                    if (attr is BrowsableAttribute)
+                        return ((BrowsableAttribute) attr).Browsable;
+                }
+
+                return false;
+            }
+        }
+
+        protected virtual int NameHashCode 
+        {
+            get 
+            {
+                return name.GetHashCode ();
+            }
+        }
+
+        public override int GetHashCode() 
+        {
+            return name.GetHashCode ();
+        }
+
+        [MonoTODO ("Probably not correctly implemented (too harsh?)")]
+        public override bool Equals(object obj)
+        {
+            if (!(obj is MemberDescriptor))
+                return false;
+            if (obj == this)
+                return true;
+            return (((MemberDescriptor) obj).AttributeArray == attrs) &&
+                (((MemberDescriptor) obj).Attributes == attrCollection) &&
+                (((MemberDescriptor) obj).DisplayName == displayName) &&
+                (((MemberDescriptor) obj).Name == name);
+        }
+
+        protected static ISite GetSite(object component)
+        {
+            if (component is Component)
+                return ((Component) component).Site;
+            else
+                return null;
+        }
+
+        [MonoTODO]
+        protected static object GetInvokee(Type componentClass, object component)
+        {
+            // FIXME WHAT should that do???
+            throw new NotImplementedException ();
+        }
+
+        protected static MethodInfo FindMethod(Type componentClass, string name, 
+            Type[ ] args, Type returnType)
+        {
+            return FindMethod (componentClass, name, args, returnType, true);
+        }
+
+        protected static MethodInfo FindMethod(Type componentClass, string name, 
+            Type[ ] args, Type returnType, bool publicOnly)
+        {
+            BindingFlags bf;
+            if (publicOnly == true)
+                bf = BindingFlags.Public;
+            else
+                bf = BindingFlags.NonPublic | BindingFlags.Public;
+            // FIXME returnType is not taken into account. AFAIK methods are not allowed to only
+            // differ by return type anyway
+            return componentClass.GetMethod (name, bf, null, CallingConventions.Any, args, null);
+        }
+    }
 }
Index: System.ComponentModel/MergablePropertyAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/MergablePropertyAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 MergablePropertyAttribute.cs
--- System.ComponentModel/MergablePropertyAttribute.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/MergablePropertyAttribute.cs	21 Jun 2003 08:51:23 -0000
@@ -2,50 +2,51 @@
 // System.ComponentModel.MergablePropertyAttribute
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
 	[AttributeUsage(AttributeTargets.All)]
-        public sealed class MergablePropertyAttribute : Attribute
+    public sealed class MergablePropertyAttribute : Attribute
 	{
-		public static readonly MergablePropertyAttribute No;
-		public static readonly MergablePropertyAttribute Yes;
 
-		[MonoTODO]
+        private bool mergable;
+
+        public static readonly MergablePropertyAttribute Default = new MergablePropertyAttribute (true);
+		public static readonly MergablePropertyAttribute No = new MergablePropertyAttribute (false);
+		public static readonly MergablePropertyAttribute Yes = new MergablePropertyAttribute (true);
+
 		public MergablePropertyAttribute (bool allowMerge)
 		{
+            this.mergable = allowMerge;
 		}
 
 		public bool AllowMerge {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return mergable; }
 		}
 
-		[MonoTODO]
 		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException();
+            if (!(obj is MergablePropertyAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((MergablePropertyAttribute) obj).AllowMerge.Equals (mergable);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode()
 		{
-			throw new NotImplementedException();
+			return mergable.GetHashCode ();
 		}
 
-		[MonoTODO]
 		public override bool IsDefaultAttribute()
 		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~MergablePropertyAttribute()
-		{
+			return Equals (Default);
 		}
 	}
 }
Index: System.ComponentModel/NotifyParentPropertyAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/NotifyParentPropertyAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 NotifyParentPropertyAttribute.cs
--- System.ComponentModel/NotifyParentPropertyAttribute.cs	23 Jul 2002 03:20:22 -0000	1.1
+++ System.ComponentModel/NotifyParentPropertyAttribute.cs	21 Jun 2003 08:51:23 -0000
@@ -1,10 +1,12 @@
 //
 // System.ComponentModel.NotifyParentPropertyAttribute.cs
 //
-// Author:
-//   Tim Coleman (tim@timcoleman.com)
+// Authors:
+//  Tim Coleman (tim@timcoleman.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // Copyright (C) Tim Coleman, 2002
+// (C) 2003 Andreas Nahr
 //
 //
 
@@ -14,13 +16,13 @@
 
 		#region Fields
 
-		bool notifyParent;
+		private bool notifyParent;
 
 		#endregion // Fields
 		
+		public static readonly NotifyParentPropertyAttribute Default = new NotifyParentPropertyAttribute (false);
 		public static readonly NotifyParentPropertyAttribute No = new NotifyParentPropertyAttribute (false);
 		public static readonly NotifyParentPropertyAttribute Yes = new NotifyParentPropertyAttribute (true);
-		public static readonly NotifyParentPropertyAttribute Default = new NotifyParentPropertyAttribute (false);
 
 		#region Constructors
 
@@ -41,22 +43,23 @@
 
 		#region Methods
 
-		[MonoTODO]
 		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException ();
+            if (!(obj is NotifyParentPropertyAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((NotifyParentPropertyAttribute) obj).NotifyParent.Equals (notifyParent);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode ()
 		{
-			throw new NotImplementedException ();
+			return notifyParent.GetHashCode ();
 		}
 
-		[MonoTODO]
 		public override bool IsDefaultAttribute ()
 		{
-			throw new NotImplementedException ();
+			return Equals (Default);
 		}
 
 		#endregion // Methods
Index: System.ComponentModel/ParenthesizePropertyNameAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ParenthesizePropertyNameAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 ParenthesizePropertyNameAttribute.cs
--- System.ComponentModel/ParenthesizePropertyNameAttribute.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/ParenthesizePropertyNameAttribute.cs	21 Jun 2003 08:51:23 -0000
@@ -2,54 +2,56 @@
 // System.ComponentModel.ParenthesizePropertyNameAttribute
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
 	[AttributeUsage(AttributeTargets.All)]
-        public sealed class ParenthesizePropertyNameAttribute : Attribute
+    public sealed class ParenthesizePropertyNameAttribute : Attribute
 	{
-		public static readonly ParenthesizePropertyNameAttribute Default;
 
-		[MonoTODO]
+        private bool parenthesis;
+
+		public static readonly ParenthesizePropertyNameAttribute Default = new ParenthesizePropertyNameAttribute();
+
+
 		public ParenthesizePropertyNameAttribute()
 		{
+            this.parenthesis = false;
 		}
 
-		[MonoTODO]
 		public ParenthesizePropertyNameAttribute (bool needParenthesis)
 		{
+            this.parenthesis = needParenthesis;
 		}
 
 		public bool NeedParenthesis {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return parenthesis; }
 		}
 
-		[MonoTODO]
 		public override bool Equals (object o)
 		{
-			throw new NotImplementedException();
+            if (!(o is ParenthesizePropertyNameAttribute))
+                return false;
+            if (o == this)
+                return true;
+            return ((ParenthesizePropertyNameAttribute) o).NeedParenthesis.Equals (parenthesis);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode()
 		{
-			throw new NotImplementedException();
+			return parenthesis.GetHashCode ();
 		}
 
-		[MonoTODO]
 		public override bool IsDefaultAttribute()
 		{
-			throw new NotImplementedException();
+			return Equals (Default);
 		}
 
-		[MonoTODO]
-		~ParenthesizePropertyNameAttribute()
-		{
-		}
 	}
 }
Index: System.ComponentModel/PropertyDescriptor.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/PropertyDescriptor.cs,v
retrieving revision 1.5
diff -u -r1.5 PropertyDescriptor.cs
--- System.ComponentModel/PropertyDescriptor.cs	29 Oct 2002 21:52:54 -0000	1.5
+++ System.ComponentModel/PropertyDescriptor.cs	21 Jun 2003 08:51:24 -0000
@@ -1,17 +1,22 @@
 //
 // System.ComponentModel.PropertyDescriptor.cs
 //
-// Author:
-//   Miguel de Icaza (miguel@ximian.com)
+// Authors:
+//  Miguel de Icaza (miguel@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Ximian, Inc.  http://www.ximian.com
+// (C) 2003 Andreas Nahr
 //
 
 using System;
 using System.Collections;
+using System.Reflection;
+using System.Runtime.InteropServices;
 
 namespace System.ComponentModel {
 
+    [ComVisible (true)]
 	public abstract class PropertyDescriptor : MemberDescriptor {
 
 		protected PropertyDescriptor (MemberDescriptor reference)
@@ -95,6 +100,12 @@
 				notifiers [component] = handler;
 		}
 		
+        [MonoTODO]
+        public virtual void RemoveValueChanged(object component, System.EventHandler handler)
+        {
+            throw new NotImplementedException();
+        }
+
 		protected virtual void OnValueChanged (object component, EventArgs e)
 		{
 			if (notifiers == null)
@@ -117,5 +128,62 @@
 		public abstract bool CanResetValue (object component);
 
 		public abstract bool ShouldSerializeValue (object component);
+
+        protected object CreateInstance(System.Type type)
+        {
+            return Assembly.GetExecutingAssembly ().CreateInstance (type.Name);
+        }
+
+        [MonoTODO ("Not correctly implemented")]
+        public override bool Equals(object obj)
+        {
+            if (!(obj is PropertyDescriptor))
+                return false;
+            if (obj == this)
+                return true;
+            return (((PropertyDescriptor) obj).AttributeArray == this.AttributeArray) &&
+                (((PropertyDescriptor) obj).Attributes == this.Attributes) &&
+                (((PropertyDescriptor) obj).DisplayName == this.DisplayName) &&
+                (((PropertyDescriptor) obj).Name == this.Name);
+        }
+
+        public PropertyDescriptorCollection GetChildProperties()
+        {
+            return GetChildProperties (null, null);
+        }
+
+        public PropertyDescriptorCollection GetChildProperties(object instance)
+        {
+            return GetChildProperties (instance, null);
+        }
+
+        public PropertyDescriptorCollection GetChildProperties(Attribute[] filter)
+        {
+            return GetChildProperties (null, filter);
+        }
+
+        [MonoTODO ("Incorrect implementation")]
+        public override int GetHashCode() 
+        {
+            return Name.GetHashCode ();
+        }
+
+        [MonoTODO]
+        public virtual PropertyDescriptorCollection GetChildProperties(object instance, 
+            Attribute[] filter)
+        {
+            throw new NotImplementedException();
+        }
+
+        [MonoTODO]
+        public virtual object GetEditor(Type editorBaseType)
+        {
+            throw new NotImplementedException();
+        }
+
+        protected Type GetTypeFromName(string typeName)
+        {
+            return Type.GetType (typeName);
+        }
 	}
 }
Index: System.ComponentModel/PropertyDescriptorCollection.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/PropertyDescriptorCollection.cs,v
retrieving revision 1.4
diff -u -r1.4 PropertyDescriptorCollection.cs
--- System.ComponentModel/PropertyDescriptorCollection.cs	28 Jul 2002 18:36:22 -0000	1.4
+++ System.ComponentModel/PropertyDescriptorCollection.cs	21 Jun 2003 08:51:26 -0000
@@ -1,283 +1,253 @@
+//
+// System.ComponentModel.PropertyDescriptorCollection.cs
+//
+// Authors:
+// 	Rodrigo Moya (rodrigo@ximian.com)
+// 	Gonzalo Paniagua Javier (gonzalo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
+//
+// (C) Rodrigo Moya, 2002
+// (c) 2002 Ximian, Inc. (http://www.ximian.com)
+// (C) 2003 Andreas Nahr
 //

-// System.ComponentModel.PropertyDescriptorCollection.cs

-//

-// Authors:

-// 	Rodrigo Moya (rodrigo@ximian.com)

-// 	Gonzalo Paniagua Javier (gonzalo@ximian.com)

-//

-// (C) Rodrigo Moya, 2002

-// (c) 2002 Ximian, Inc. (http://www.ximian.com)

-//

-

 using System.Collections;

-

 namespace System.ComponentModel

-{

-	/// <summary>

-	/// Represents a collection of PropertyDescriptor objects.

-	/// </summary>

+{
+	/// <summary>
+	/// Represents a collection of PropertyDescriptor objects.
+	/// </summary>
+	//[DefaultMember ("Item")]
 	public class PropertyDescriptorCollection : IList, ICollection, IEnumerable, IDictionary

-	{

-		public static readonly PropertyDescriptorCollection Empty =

-						new PropertyDescriptorCollection (null);

-

-		ArrayList properties;

+	{
+		public static readonly PropertyDescriptorCollection Empty =
+			new PropertyDescriptorCollection (null);

+		ArrayList properties;
 		bool readOnly;

-

-		public PropertyDescriptorCollection (PropertyDescriptor[] properties)

-		{

-			this.properties = new ArrayList ();

-			if (properties == null)

-				return;

-

-			foreach (PropertyDescriptor p in properties)

-				this.properties.Add (p);

-		}

-

-		public int Add (PropertyDescriptor value)

-		{

-			properties.Add (value);

-			return properties.Count - 1;

-		}

-

-		int IList.Add (object value)

-		{

-			return Add ((PropertyDescriptor) value);

-		}

-

-		void IDictionary.Add (object key, object value)

-		{

-			Add ((PropertyDescriptor) value);

-		}

-		

-		public void Clear ()

-		{

-			properties.Clear ();

-		}

-

-		void IList.Clear ()

-		{

-			Clear ();

-		}

-

-		void IDictionary.Clear ()

-		{

-			Clear ();

-		}

-

-		public bool Contains (PropertyDescriptor value)

-		{

-			return properties.Contains (value);

-		}

-

-		bool IList.Contains (object value)

-		{

-			return Contains ((PropertyDescriptor) value);

-		}

-

-		bool IDictionary.Contains (object value)

-		{

-			return Contains ((PropertyDescriptor) value);

-		}

-

-		public void CopyTo (Array array, int index)

-		{

-			properties.CopyTo (array, index);

-		}

-

-		public virtual PropertyDescriptor Find (string name, bool ignoreCase)

-		{

-			foreach (PropertyDescriptor p in properties) {

-				if (0 == String.Compare (name, p.Name, ignoreCase))

-					return p;

-			}

-			return null;

-		}

-

-		public virtual IEnumerator GetEnumerator ()

-		{

-			return properties.GetEnumerator ();

-		}

-

-		[MonoTODO]

-		IDictionaryEnumerator IDictionary.GetEnumerator ()

-		{

-			throw new NotImplementedException ();

-		}

-

-		public int IndexOf (PropertyDescriptor value)

-		{

-			return properties.IndexOf (value);

-		}

-

-		int IList.IndexOf (object value)

-		{

-			return IndexOf ((PropertyDescriptor) value);

-		}

-

-		[MonoTODO]

-		public void Insert (int index, PropertyDescriptor value)

-		{

-			throw new NotImplementedException ();

-		}

-

-		void IList.Insert (int index, object value)

-		{

-			Insert (index, (PropertyDescriptor) value);

-		}

-

-		public void Remove (PropertyDescriptor value)

-		{

-			properties.Remove (value);

-		}

-

-		void IDictionary.Remove (object value)

-		{

-			Remove ((PropertyDescriptor) value);

-		}

-

-		void IList.Remove (object value)

-		{

-			Remove ((PropertyDescriptor) value);

-		}

-

-		public void RemoveAt (int index)

-		{

-			properties.RemoveAt (index);

-		}

-

-		void IList.RemoveAt (int index)

-		{

-			RemoveAt (index);

-		}

-

-		[MonoTODO]

-		public virtual PropertyDescriptorCollection Sort ()

-		{

-			throw new NotImplementedException ();

-		}

-

-		[MonoTODO]

-		public virtual PropertyDescriptorCollection Sort (IComparer ic)

-		{

-			throw new NotImplementedException ();

-		}

-

-		[MonoTODO]

-		protected void InternalSort (IComparer ic)

-		{

-			throw new NotImplementedException ();

-		}

-

-		[MonoTODO]

-		protected void InternalSort (string [] order)

-		{

-			throw new NotImplementedException ();

-		}

-		

-		bool IDictionary.IsFixedSize

-		{

-			get {

-				return !readOnly;

-			}

-		}

-

-		bool IList.IsFixedSize

-		{

-			get {

-				return !readOnly;

-			}

-		}

-

-		public bool IsReadOnly

-		{

-			get {

-				return readOnly;

-			}

-		}

-

-		public bool IsSynchronized

-		{

-			get {

-				return false;

-			}

-		}

-

-		public int Count

-		{

-			get {

-				return properties.Count;

-			}

-		}

-

-		object ICollection.SyncRoot

-		{

-			get {

-				return null;

-			}

-		}

-		

-		ICollection IDictionary.Keys

-		{

-			get {

-				string [] keys = new string [properties.Count];

-				int i = 0;

-				foreach (PropertyDescriptor p in properties)

-					keys [i++] = p.Name;

-				return keys;

-			}

-		}

-		

-		ICollection IDictionary.Values

-		{

-			get {

-				return (ICollection) properties.Clone ();

-			}

-		}

-		

-		object IDictionary.this [object key]

-		{

-			get {

-				if (!(key is string))

-					return null;

-				return this [(string) key];

-			}

-			set {

-				if (!(key is string) || (value as PropertyDescriptor) == null)

+
+		public PropertyDescriptorCollection (PropertyDescriptor[] properties)
+		{
+			this.properties = new ArrayList ();
+			if (properties == null)
+				return;
+
+			foreach (PropertyDescriptor p in properties)
+				this.properties.Add (p);
+		}

+		public int Add (PropertyDescriptor value)
+		{
+			properties.Add (value);
+			return properties.Count - 1;
+		}

+		int IList.Add (object value)
+		{
+			return Add ((PropertyDescriptor) value);
+		}

+		void IDictionary.Add (object key, object value)
+		{
+			Add ((PropertyDescriptor) value);
+		}

+		public void Clear ()
+		{
+			properties.Clear ();
+		}

+		void IList.Clear ()
+		{
+			Clear ();
+		}

+		void IDictionary.Clear ()
+		{
+			Clear ();
+		}

+		public bool Contains (PropertyDescriptor value)
+		{
+			return properties.Contains (value);
+		}

+		bool IList.Contains (object value)
+		{
+			return Contains ((PropertyDescriptor) value);
+		}

+		bool IDictionary.Contains (object value)
+		{
+			return Contains ((PropertyDescriptor) value);
+		}

+		public void CopyTo (Array array, int index)
+		{
+			properties.CopyTo (array, index);
+		}

+		public virtual PropertyDescriptor Find (string name, bool ignoreCase)
+		{
+			foreach (PropertyDescriptor p in properties) {
+				if (0 == String.Compare (name, p.Name, ignoreCase))
+					return p;
+			}
+			return null;
+		}

+		public virtual IEnumerator GetEnumerator ()
+		{
+			return properties.GetEnumerator ();
+		}

+        [MonoTODO]
+		IDictionaryEnumerator IDictionary.GetEnumerator ()
+		{
+			throw new NotImplementedException ();
+		}

+		public int IndexOf (PropertyDescriptor value)
+		{
+			return properties.IndexOf (value);
+		}

+		int IList.IndexOf (object value)
+		{
+			return IndexOf ((PropertyDescriptor) value);
+		}

+		public void Insert (int index, PropertyDescriptor value)
+		{
            Insert (index, value);
+		}

+		void IList.Insert (int index, object value)
+		{
+			Insert (index, (PropertyDescriptor) value);
+		}

+		public void Remove (PropertyDescriptor value)
+		{
+			properties.Remove (value);
+		}

+		void IDictionary.Remove (object value)
+		{
+			Remove ((PropertyDescriptor) value);
+		}

+		void IList.Remove (object value)
+		{
+			Remove ((PropertyDescriptor) value);
+		}

+		public void RemoveAt (int index)
+		{
+			properties.RemoveAt (index);
+		}

+		void IList.RemoveAt (int index)
+		{
+			RemoveAt (index);
+		}

+		public virtual PropertyDescriptorCollection Sort ()
+		{
+            properties.Sort ();
+            return this;
+		}

+		public virtual PropertyDescriptorCollection Sort (IComparer comparer)
+		{
+            properties.Sort (comparer);
+            return this;
+		}

+        [MonoTODO]
+        public virtual PropertyDescriptorCollection Sort (string[] order) 
+        {
+            throw new NotImplementedException ();
+        }
+
+        [MonoTODO]
+        public virtual PropertyDescriptorCollection Sort (string[] order, IComparer comparer) 
+        {
+            throw new NotImplementedException ();
+        }
+
+		[MonoTODO]
+		protected void InternalSort (IComparer ic)
+		{
+			throw new NotImplementedException ();
+		}

+		[MonoTODO]
+		protected void InternalSort (string [] order)
+		{
+			throw new NotImplementedException ();
+		}

+		bool IDictionary.IsFixedSize
+		{
+			get {
+				return !readOnly;
+			}
+		}

+		bool IList.IsFixedSize
+		{
+			get {
+				return !readOnly;
+			}
+		}

+		public bool IsReadOnly
+		{
+			get {
+				return readOnly;
+			}
+		}

+		public bool IsSynchronized
+		{
+			get {
+				return false;
+			}
+		}

+		public int Count
+		{
+			get {
+				return properties.Count;
+			}
+		}

+		object ICollection.SyncRoot
+		{
+			get {
+				return null;
+			}
+		}

+		ICollection IDictionary.Keys
+		{
+			get {
+				string [] keys = new string [properties.Count];
+				int i = 0;
+				foreach (PropertyDescriptor p in properties)
+					keys [i++] = p.Name;
+				return keys;
+			}
+		}

+		ICollection IDictionary.Values
+		{
+			get {
+				return (ICollection) properties.Clone ();
+			}
+		}

+		object IDictionary.this [object key]
+		{
+			get {
+				if (!(key is string))
+					return null;
+				return this [(string) key];
+			}
+			set {
+				if (!(key is string) || (value as PropertyDescriptor) == null)
 					throw new ArgumentException ();

-

-				int idx = properties.IndexOf (value);

-				if (idx == -1)

-					Add ((PropertyDescriptor) value);

-				else

+				int idx = properties.IndexOf (value);
+				if (idx == -1)
+					Add ((PropertyDescriptor) value);
+				else
 					properties [idx] = value;

-

-			}

-		}

-		public virtual PropertyDescriptor this [string s]

-		{

-			get {

-				return Find (s, false);

-			}

-		}

-

-		object IList.this [int index]

-		{

-			get {

-				return properties [index];

-			}

-

-			set {

-				properties [index] = value;

-			}

-		}

-

-		public virtual PropertyDescriptor this [int index]

-		{

-			get {

-				return (PropertyDescriptor) properties [index];

 			}

 		}

-	}

+		public virtual PropertyDescriptor this [string s]
+		{
+			get {
+				return Find (s, false);
+			}
+		}

+		object IList.this [int index]
+		{
+			get {
+				return properties [index];
+			}

+			set {
+				properties [index] = value;
+			}
+		}

+		public virtual PropertyDescriptor this [int index]
+		{
+			get {
+				return (PropertyDescriptor) properties [index];
+			}
+		}
+	}
 }

 

Index: System.ComponentModel/PropertyTabAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/PropertyTabAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 PropertyTabAttribute.cs
--- System.ComponentModel/PropertyTabAttribute.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/PropertyTabAttribute.cs	21 Jun 2003 08:51:26 -0000
@@ -2,93 +2,121 @@
 // System.ComponentModel.PropertyTabAttribute
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
 	[AttributeUsage(AttributeTargets.All)]
-        public class PropertyTabAttribute : Attribute
+    public class PropertyTabAttribute : Attribute
 	{
-		[MonoTODO]
+
+        private Type[] tabs;
+        private PropertyTabScope[] scopes;
+
+
 		public PropertyTabAttribute()
 		{
+            tabs = null;
+            scopes = null;
 		}
 
-		[MonoTODO]
 		public PropertyTabAttribute (string tabClassName)
 		{
+            string[] tabArray = {tabClassName};
+            this.InitializeArrays (tabArray, null);
 		}
 
-		[MonoTODO]
 		public PropertyTabAttribute (Type tabClass)
 		{
+            Type[] tabArray = {tabClass};
+            this.InitializeArrays (tabArray, null);
 		}
 
-		[MonoTODO]
-		public PropertyTabAttribute (string tabClassName, 
-					     PropertyTabScope tabScope)
+		public PropertyTabAttribute (string tabClassName, PropertyTabScope tabScope)
 		{
+            string[] tabArray = {tabClassName};
+            PropertyTabScope[] scopeArray = {tabScope};
+            this.InitializeArrays (tabArray, scopeArray);
 		}
 
-		[MonoTODO]
-		public PropertyTabAttribute (Type tabClass,
-					     PropertyTabScope tabScope)
+		public PropertyTabAttribute (Type tabClass, PropertyTabScope tabScope)
 		{
+            Type[] tabArray = {tabClass};
+            PropertyTabScope[] scopeArray = {tabScope};
+            this.InitializeArrays (tabArray, scopeArray);
 		}
 
 		public Type[] TabClasses {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return tabs; }
 		}
 
 		public PropertyTabScope[] TabScopes {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return scopes; }
 		}
 
-		[MonoTODO]
 		public override bool Equals (object other)
 		{
-			throw new NotImplementedException();
+            if (!(other is PropertyTabAttribute))
+                return false;
+            if (other == this)
+                return true;
+            return ((PropertyTabAttribute) other).TabClasses.Equals (tabs) &&
+                ((PropertyTabAttribute) other).TabScopes.Equals (scopes);
 		}
 
-		[MonoTODO]
 		public bool Equals (PropertyTabAttribute other)
 		{
-			throw new NotImplementedException();
+            return this.Equals (other);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode()
 		{
-			throw new NotImplementedException();
+            int Hash = 0;
+            if (tabs != null)
+                Hash = Hash ^ tabs.GetHashCode ();
+            if (scopes != null)
+                Hash = Hash ^ scopes.GetHashCode ();
+			return Hash;
 		}
 
 		protected string[] TabClassNames {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
-		}
-
-		[MonoTODO]
-		protected void InitializeArrays (string[] tabClassNames,
-						 PropertyTabScope[] tabScopes)
-		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		protected void InitializeArrays (Type[] tabClasses,
-						 PropertyTabScope[] tabScopes)
-		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~PropertyTabAttribute()
-		{
+			get 
+            { 
+                // FIXME untested, maybe wrong
+                string[] tabClassName = (string[]) (Array.CreateInstance (typeof (string), tabs.Length));
+                for (int x = 0; x < tabs.Length; x++)
+                    tabClassName[x] = tabs[x].AssemblyQualifiedName;
+                return tabClassName;
+            }
+		}
+
+		protected void InitializeArrays (string[] tabClassNames, PropertyTabScope[] tabScopes)
+		{
+            // FIXME untested, maybe wrong
+            Type[] tabClasses = (Type[]) (Array.CreateInstance (typeof (Type), tabClassNames.Length));
+            for (int x = 0; x < tabClassNames.Length; x++)
+                try
+                {
+                    tabClasses[x] = Type.GetType (tabClassNames[x]);
+                }
+                catch
+                {
+                    tabClasses[x] = null;
+                }
+            tabs = tabClasses;
+            scopes = tabScopes;
+		}
+
+		protected void InitializeArrays (Type[] tabClasses, PropertyTabScope[] tabScopes)
+		{
+            // FIXME untested, maybe wrong
+            tabs = tabClasses;
+            scopes = tabScopes;
 		}
 	}
 }
Index: System.ComponentModel/ProvidePropertyAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ProvidePropertyAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 ProvidePropertyAttribute.cs
--- System.ComponentModel/ProvidePropertyAttribute.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/ProvidePropertyAttribute.cs	21 Jun 2003 08:51:26 -0000
@@ -2,58 +2,63 @@
 // System.ComponentModel.ProvidePropertyAttribute
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
 	[AttributeUsage(AttributeTargets.Class)]
-        public sealed class ProvidePropertyAttribute : Attribute
+    public sealed class ProvidePropertyAttribute : Attribute
 	{
-		[MonoTODO]
-		public ProvidePropertyAttribute (string propertyName,
-						 string receiverTypeName)
+
+        private string Property;
+        private string Receiver;
+
+		public ProvidePropertyAttribute (string propertyName, string receiverTypeName)
 		{
+            Property = propertyName;
+            Receiver = receiverTypeName;
 		}
 
-		[MonoTODO]
-		public ProvidePropertyAttribute (string propertyName, 
-						 Type receiverType)
+		public ProvidePropertyAttribute (string propertyName, Type receiverType)
 		{
+            Property = propertyName;
+            Receiver = receiverType.AssemblyQualifiedName;
 		}
 
 		public string PropertyName {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return Property; }
 		}
 
 		public string ReceiverTypeName {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return Receiver; }
 		}
 
 		public override object TypeId {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get 
+            { 
+                // seems to be MS implementation
+                return base.TypeId + Property; 
+            }
 		}
 
-		[MonoTODO]
 		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException();
+            if (!(obj is ProvidePropertyAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((ProvidePropertyAttribute) obj).PropertyName.Equals (Property) &&
+                ((ProvidePropertyAttribute) obj).ReceiverTypeName.Equals (Receiver);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode()
 		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~ProvidePropertyAttribute()
-		{
+            return String.Concat(Property , Receiver).GetHashCode ();
 		}
 	}
 }
Index: System.ComponentModel/ReadOnlyAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ReadOnlyAttribute.cs,v
retrieving revision 1.2
diff -u -r1.2 ReadOnlyAttribute.cs
--- System.ComponentModel/ReadOnlyAttribute.cs	20 Jul 2002 08:39:12 -0000	1.2
+++ System.ComponentModel/ReadOnlyAttribute.cs	21 Jun 2003 08:51:26 -0000
@@ -1,5 +1,5 @@
 //
-// ReadOnlyAttribute.cs
+// System.ComponentModel.ReadOnlyAttribute.cs
 //
 // Author:
 //   Chris J Breisch (cjbreisch@altavista.net)
@@ -35,7 +35,7 @@
 
 		public override int GetHashCode ()
 		{
-			return base.GetHashCode ();
+			return read_only.GetHashCode ();
 		}
 
 		public override bool Equals (object o)
@@ -43,7 +43,7 @@
 			if (!(o is ReadOnlyAttribute))
 				return false;
 
-			return (((ReadOnlyAttribute) o).read_only == read_only);
+			return (((ReadOnlyAttribute) o).IsReadOnly.Equals (read_only));
 		}
 
 		public override bool IsDefaultAttribute ()
Index: System.ComponentModel/RecommendedAsConfigurableAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/RecommendedAsConfigurableAttribute.cs,v
retrieving revision 1.2
diff -u -r1.2 RecommendedAsConfigurableAttribute.cs
--- System.ComponentModel/RecommendedAsConfigurableAttribute.cs	23 Jul 2002 08:47:47 -0000	1.2
+++ System.ComponentModel/RecommendedAsConfigurableAttribute.cs	21 Jun 2003 08:51:26 -0000
@@ -1,65 +1,72 @@
-//

-// System.ComponentModel.RecommendedAsConfigurableAttribute

-//

-// Authors:

-//	Tim Coleman (tim@timcoleman.com)

-//

-// Copyright (C) Tim Coleman, 2002

-//

-

-using System;

-

-namespace System.ComponentModel {

-	[AttributeUsage (AttributeTargets.Property)]

-	public class RecommendedAsConfigurableAttribute : Attribute {

-

-		#region Fields

-

-		bool recommendedAsConfigurable;

-

-		public static readonly RecommendedAsConfigurableAttribute Default = new RecommendedAsConfigurableAttribute (false);

-		public static readonly RecommendedAsConfigurableAttribute No = new RecommendedAsConfigurableAttribute (false);

-		public static readonly RecommendedAsConfigurableAttribute Yes = new RecommendedAsConfigurableAttribute (true);

-

-		#endregion // Fields

-		

-		#region Constructors

-

-		public RecommendedAsConfigurableAttribute (bool recommendedAsConfigurable)

-		{

-			this.recommendedAsConfigurable = recommendedAsConfigurable;

-		}

-

-		#endregion // Constructors

-

-		#region Properties

-

-		public bool RecommendedAsConfigurable {

-			get { return recommendedAsConfigurable; }

-		}

-

-		#endregion // Properties

-

-		#region Methods

-

-		public override bool Equals (object obj)

-		{

-			if (!(obj is RecommendedAsConfigurableAttribute))

-				return false;

-

-			return ((RecommendedAsConfigurableAttribute) obj).RecommendedAsConfigurable == recommendedAsConfigurable;

-		}

-

-		[MonoTODO]

-		public override int GetHashCode ()

-		{

-			throw new NotImplementedException (); 

-		}

-

-		public override bool IsDefaultAttribute ()

-		{

-			return (!recommendedAsConfigurable);

-		}

-		#endregion // Methods

-	}

-}

+//
+// System.ComponentModel.RecommendedAsConfigurableAttribute
+//
+// Authors:
+//	Tim Coleman (tim@timcoleman.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
+//
+// Copyright (C) Tim Coleman, 2002
+// (C) 2003 Andreas Nahr
+//
+
+using System;
+
+namespace System.ComponentModel {
+
+	[AttributeUsage (AttributeTargets.Property)]
+	public class RecommendedAsConfigurableAttribute : Attribute {
+
+		#region Fields
+
+		private bool recommendedAsConfigurable;
+
+		public static readonly RecommendedAsConfigurableAttribute Default = new RecommendedAsConfigurableAttribute (false);
+		public static readonly RecommendedAsConfigurableAttribute No = new RecommendedAsConfigurableAttribute (false);
+		public static readonly RecommendedAsConfigurableAttribute Yes = new RecommendedAsConfigurableAttribute (true);
+
+
+		#endregion // Fields
+
+		#region Constructors
+
+		public RecommendedAsConfigurableAttribute (bool recommendedAsConfigurable)
+		{
+			this.recommendedAsConfigurable = recommendedAsConfigurable;
+		}
+
+		#endregion // Constructors
+
+
+		#region Properties
+
+		public bool RecommendedAsConfigurable {
+			get { return recommendedAsConfigurable; }
+		}
+
+		#endregion // Properties
+
+
+		#region Methods
+
+		public override bool Equals (object obj)
+		{
+			if (!(obj is RecommendedAsConfigurableAttribute))
+				return false;
+			return ((RecommendedAsConfigurableAttribute) obj).RecommendedAsConfigurable.Equals (recommendedAsConfigurable);
+		}
+
+
+		public override int GetHashCode ()
+		{
+            return recommendedAsConfigurable.GetHashCode ();
+		}
+
+		public override bool IsDefaultAttribute ()
+		{
+			return Equals (Default);
+		}
+
+		#endregion // Methods
+	}
+}
+
Index: System.ComponentModel/RefreshPropertiesAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/RefreshPropertiesAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 RefreshPropertiesAttribute.cs
--- System.ComponentModel/RefreshPropertiesAttribute.cs	4 Nov 2002 20:05:50 -0000	1.1
+++ System.ComponentModel/RefreshPropertiesAttribute.cs	21 Jun 2003 08:51:26 -0000
@@ -1,10 +1,12 @@
 //
 // System.ComponentModel.RefreshPropertiesAttribute.cs
 //
-// Author:
-//   Tim Coleman (tim@timcoleman.com)
+// Authors:
+//  Tim Coleman (tim@timcoleman.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // Copyright (C) Tim Coleman, 2002
+// (C) 2003 Andreas Nahr
 //
 //
 
@@ -41,21 +43,23 @@
 
 		#region Methods
 
-		[MonoTODO]
 		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException ();
+            if (!(obj is RefreshPropertiesAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return ((RefreshPropertiesAttribute) obj).RefreshProperties.Equals (refresh);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode ()
 		{
-			throw new NotImplementedException ();
+            return refresh.GetHashCode ();
 		}
 
 		public override bool IsDefaultAttribute ()
 		{
-			return (this == RefreshPropertiesAttribute.Default);
+			return Equals (Default);
 		}
 
 		#endregion // Methods
Index: System.ComponentModel/RunInstallerAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/RunInstallerAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 RunInstallerAttribute.cs
--- System.ComponentModel/RunInstallerAttribute.cs	4 Mar 2003 20:27:43 -0000	1.1
+++ System.ComponentModel/RunInstallerAttribute.cs	21 Jun 2003 08:51:26 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.RunInstallerAttribute
+// System.ComponentModel.RunInstallerAttribute.cs
 //
 // Authors:
 //	Gonzalo Paniagua Javier (gonzalo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Ximian, Inc (http://www.ximian.com)
+// (C) 2003 Andreas Nahr
 //
 
 using System;
@@ -30,17 +32,17 @@
 			if (!(obj is RunInstallerAttribute))
 				return false;
 
-			return (((RunInstallerAttribute) obj).runInstaller == runInstaller);
+			return ((RunInstallerAttribute) obj).RunInstaller.Equals (runInstaller);
 		}
 
 		public override int GetHashCode ()
 		{
-			return base.GetHashCode ();
+			return runInstaller.GetHashCode ();
 		}
 
 		public override bool IsDefaultAttribute ()
 		{
-			return (runInstaller == false); // false is the Default
+			return Equals (Default);
 		}
 
 		public bool RunInstaller
Index: System.ComponentModel/SByteConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/SByteConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 SByteConverter.cs
--- System.ComponentModel/SByteConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/SByteConverter.cs	21 Jun 2003 08:51:26 -0000
@@ -2,23 +2,20 @@
 // System.ComponentModel.SByteConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
-	public class SByteConverter : BaseNumberConverter
-	{
-		[MonoTODO]
-		public SByteConverter()
-		{
-		}
-
-		[MonoTODO]
-		~SByteConverter()
-		{
-		}
-	}
+    public class SByteConverter : BaseNumberConverter
+    {
+        public SByteConverter()
+        {
+            InnerType = typeof (SByte);
+        }
+    }
 }
Index: System.ComponentModel/SingleConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/SingleConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 SingleConverter.cs
--- System.ComponentModel/SingleConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/SingleConverter.cs	21 Jun 2003 08:51:26 -0000
@@ -2,24 +2,20 @@
 // System.ComponentModel.SingleConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
-	public class SingleConverter : BaseNumberConverter
-	{
-		[MonoTODO]
-		public SingleConverter()
-		{
-		}
-
-		[MonoTODO]
-		~SingleConverter()
-		{
-		}
-
-	}
+    public class SingleConverter : BaseNumberConverter
+    {
+        public SingleConverter()
+        {
+            InnerType = typeof (Single);
+        }
+    }
 }
Index: System.ComponentModel/TimeSpanConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/TimeSpanConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 TimeSpanConverter.cs
--- System.ComponentModel/TimeSpanConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/TimeSpanConverter.cs	21 Jun 2003 08:51:26 -0000
@@ -2,9 +2,11 @@
 // System.ComponentModel.TimeSpanConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Globalization;
@@ -13,46 +15,59 @@
 {
 	public class TimeSpanConverter : TypeConverter
 	{
-		[MonoTODO]
+
 		public TimeSpanConverter()
 		{
 		}
 
-		[MonoTODO]
 		public override bool CanConvertFrom (ITypeDescriptorContext context,
-						     Type sourceType)
+			Type sourceType)
 		{
-			throw new NotImplementedException();
+            if (sourceType == typeof (string)) 
+                return true;
+            return base.CanConvertFrom (context, sourceType);
 		}
 
-		[MonoTODO]
 		public override bool CanConvertTo (ITypeDescriptorContext context,
-						   Type destinationType)
+			Type destinationType)
 		{
-			throw new NotImplementedException();
+            if (destinationType == typeof (string))
+                return true;
+            return base.CanConvertTo (context, destinationType);
 		}
 
-		[MonoTODO]
 		public override object ConvertFrom (ITypeDescriptorContext context,
-						    CultureInfo culture,
-						    object value)
+			CultureInfo culture, object value)
 		{
-			throw new NotImplementedException();
+            if (value.GetType() == typeof (string))
+            {
+                string TimeSpanString = (string) value;
+                try
+                {
+                    // LAMESPEC Doc says TimeSpan uses Ticks, but MS uses time format:
+                    // [ws][-][d.]hh:mm:ss[.ff][ws]
+                    return TimeSpan.Parse (TimeSpanString);
+                }
+                catch 
+                {
+                    throw new FormatException (TimeSpanString + "is not valid for a TimeSpan.");
+                }
+            }
+            return base.ConvertFrom (context, culture, value);
 		}
 
-		[MonoTODO]
 		public override object ConvertTo (ITypeDescriptorContext context,
-						  CultureInfo culture,
-						  object value,
-						  Type destinationType)
+			CultureInfo culture, object value, Type destinationType)
 		{
-			throw new NotImplementedException();
+            if (destinationType == typeof (string))
+                if (value != null)
+                    if (value.GetType() == typeof (TimeSpan))
+                    {
+                        // LAMESPEC Doc says TimeSpan uses Ticks, but MS uses time format
+                        // [ws][-][d.]hh:mm:ss[.ff][ws]
+                        return ((TimeSpan) value).ToString();
+                    }
+            return base.ConvertTo (context, culture, value, destinationType);
 		}
-
-		[MonoTODO]
-		~TimeSpanConverter()
-		{
-		}
-
 	}
 }
Index: System.ComponentModel/ToolboxItemFilterAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/ToolboxItemFilterAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 ToolboxItemFilterAttribute.cs
--- System.ComponentModel/ToolboxItemFilterAttribute.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/ToolboxItemFilterAttribute.cs	21 Jun 2003 08:51:27 -0000
@@ -2,64 +2,68 @@
 // System.ComponentModel.ToolboxItemFilterAttribute
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
 	[AttributeUsage(AttributeTargets.Class)]
 	[Serializable]
-        public sealed class ToolboxItemFilterAttribute : Attribute
+    public sealed class ToolboxItemFilterAttribute : Attribute
 	{
-		[MonoTODO]
+
+        private string Filter;
+        private ToolboxItemFilterType ItemFilterType;
+
+
 		public ToolboxItemFilterAttribute (string filterString)
 		{
+            Filter = filterString;
+            ItemFilterType = ToolboxItemFilterType.Allow;
 		}
 
-		[MonoTODO]
-		public ToolboxItemFilterAttribute (string filterString,
-						   ToolboxItemFilterType filterType)
+		public ToolboxItemFilterAttribute (string filterString, ToolboxItemFilterType filterType)
 		{
+            Filter = filterString;
+            ItemFilterType = filterType;
 		}
 
 		public string FilterString {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return Filter; }
 		}
 
 		public ToolboxItemFilterType FilterType {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return ItemFilterType; }
 		}
 
 		public override object TypeId {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return base.TypeId + Filter; }
 		}
 
-		[MonoTODO]
 		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException();
+            if (!(obj is ToolboxItemFilterAttribute))
+                return false;
+            if (obj == this)
+                return true;
+            return (((ToolboxItemFilterAttribute) obj).FilterString.Equals (Filter)) &&
+                (((ToolboxItemFilterAttribute) obj).FilterType.Equals (ItemFilterType));
 		}
 
-		[MonoTODO]
 		public override int GetHashCode()
 		{
-			throw new NotImplementedException();
+            return string.Concat (Filter, ItemFilterType.ToString()).GetHashCode ();
 		}
 
-		[MonoTODO]
 		public override bool Match (object obj)
 		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~ToolboxItemFilterAttribute()
-		{
+            if (!(obj is ToolboxItemFilterAttribute))
+                return false;
+            return ((ToolboxItemFilterAttribute) obj).FilterString.Equals (Filter);
 		}
 	}
 }
Index: System.ComponentModel/TypeConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/TypeConverter.cs,v
retrieving revision 1.9
diff -u -r1.9 TypeConverter.cs
--- System.ComponentModel/TypeConverter.cs	23 Aug 2002 05:37:58 -0000	1.9
+++ System.ComponentModel/TypeConverter.cs	21 Jun 2003 08:51:27 -0000
@@ -3,8 +3,10 @@
 //
 // Authors:
 //	Gonzalo Paniagua Javier (gonzalo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
-// (C) 2002 Ximian, Inc (http://www.ximian.com)
+// (C) 2002/2003 Ximian, Inc (http://www.ximian.com)
+// (C) 2003 Andreas Nahr
 //
 
 using System;
@@ -24,10 +26,9 @@
 		return CanConvertFrom (null, sourceType);
 	}
 	
-	[MonoTODO]
 	public virtual bool CanConvertFrom (ITypeDescriptorContext context, Type sourceType)
 	{
-		throw new NotImplementedException ();
+		return false;
 	}
 
 	public bool CanConvertTo (Type destinationType)
@@ -45,10 +46,10 @@
 		return ConvertFrom (null, CultureInfo.CurrentCulture, o);
 	}
 
-	[MonoTODO]
 	public virtual object ConvertFrom (ITypeDescriptorContext context, CultureInfo culture, object value)
 	{
-		throw new NotImplementedException ();
+        throw new NotSupportedException (this.ToString() + " cannot be created from '" + 
+            value.GetType().ToString() + "'");
 	}
 	
 	public object ConvertFromInvariantString (string text)
@@ -56,15 +57,14 @@
 		return ConvertFromInvariantString (null, text); 
 	}
 
-	[MonoTODO]
 	public object ConvertFromInvariantString (ITypeDescriptorContext context, string text)
 	{
-		throw new NotImplementedException ();
+		return ConvertFromString (context, CultureInfo.InvariantCulture, text);
 	}
 
-	public object ConvertFromString (string s)
+	public object ConvertFromString (string text)
 	{
-		return ConvertFrom (s);
+		return ConvertFrom (text);
 	}
 
 	public object ConvertFromString (ITypeDescriptorContext context, string text)
@@ -72,10 +72,9 @@
 		return ConvertFromString (context, CultureInfo.CurrentCulture, text);
 	}
 
-	[MonoTODO]
 	public object ConvertFromString (ITypeDescriptorContext context, CultureInfo culture, string text)
 	{
-		throw new NotImplementedException ();
+		return ConvertFrom (context, culture, text);
 	}
 
 	public object ConvertTo (object value, Type destinationType)
@@ -84,9 +83,7 @@
 	}
 
 	public virtual object ConvertTo (ITypeDescriptorContext context,
-					 CultureInfo culture,
-					 object value,
-					 Type destinationType)
+	    CultureInfo culture, object value, Type destinationType)
 	{
 		// context? culture?
 		if (destinationType == null)
@@ -106,10 +103,9 @@
 		return ConvertToInvariantString (null, value);
 	}
 
-	[MonoTODO]
 	public string ConvertToInvariantString (ITypeDescriptorContext context, object value)
 	{
-		throw new NotImplementedException ();
+        return (string) ConvertTo (context, CultureInfo.InvariantCulture, value, typeof (string));
 	}
 
 	public string ConvertToString (object value)
@@ -127,40 +123,36 @@
 		return (string) ConvertTo (context, culture, value, typeof (string));
 	}
 
-	[MonoTODO]
-	public object CreateInstance (IDictionary propertyValues)
-	{
-		throw new NotImplementedException ();
-	}
-
-	[MonoTODO]
 	protected Exception GetConvertFromException (object value)
 	{
-		throw new NotImplementedException ();
+		throw new NotSupportedException (this.ToString() + " cannot convert from '" + 
+            value.GetType().ToString() + "'");
 	}
 
-	[MonoTODO]
 	protected Exception GetConvertToException (object value, Type destinationType)
 	{
-		throw new NotImplementedException ();
+		throw new NotSupportedException (this.ToString() + " cannot convert from '" + 
+            value.GetType().ToString() + "' to '" + destinationType.ToString() + "'");
 	}
 
-	[MonoTODO]
+    public object CreateInstance (IDictionary propertyValues)
+    {
+        return CreateInstance (null, propertyValues);
+    }
+
 	public virtual object CreateInstance (ITypeDescriptorContext context, IDictionary propertyValues)
 	{
-		throw new NotImplementedException ();
+		return null;
 	}
 
-	[MonoTODO]
 	public bool GetCreateInstanceSupported ()
 	{
-		throw new NotImplementedException ();
+        return GetCreateInstanceSupported (null);
 	}
 
-	[MonoTODO]
 	public virtual bool GetCreateInstanceSupported (ITypeDescriptorContext context)
 	{
-		throw new NotImplementedException ();
+		return false;
 	}
 
 	public PropertyDescriptorCollection GetProperties (object value)
@@ -174,8 +166,7 @@
 	}
 
 	public virtual PropertyDescriptorCollection GetProperties (ITypeDescriptorContext context,
-								   object value,
-								   Attribute[] attributes)
+	    object value, Attribute[] attributes)
 	{
 		return null;
 	}
Index: System.ComponentModel/TypeConverterAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/TypeConverterAttribute.cs,v
retrieving revision 1.1
diff -u -r1.1 TypeConverterAttribute.cs
--- System.ComponentModel/TypeConverterAttribute.cs	20 Jun 2002 14:32:08 -0000	1.1
+++ System.ComponentModel/TypeConverterAttribute.cs	21 Jun 2003 08:51:28 -0000
@@ -1,53 +1,51 @@
+//
+// System.ComponentModel.TypeConverterAttribute
+//
+// Authors:
+//	Gonzalo Paniagua Javier (gonzalo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
+//
+// (C) 2002 Ximian, Inc (http://www.ximian.com)
+// (C) 2003 Andreas Nahr
 //

-// System.ComponentModel.TypeConverterAttribute

-//

-// Authors:

-//	Gonzalo Paniagua Javier (gonzalo@ximian.com)

-//

-// (C) 2002 Ximian, Inc (http://www.ximian.com)

-//

-

 using System;

-

-namespace System.ComponentModel {

-

-[AttributeUsage(AttributeTargets.All)]

-public sealed class TypeConverterAttribute : Attribute

+namespace System.ComponentModel 
 {

-	private string converter_type;

-

-	public TypeConverterAttribute ()

-	{

-		converter_type = "";

-	}

-

-	public TypeConverterAttribute (string typeName)

-	{

-		converter_type = typeName;

-	}

-

-	public TypeConverterAttribute (Type type)

-	{

-		converter_type = type.AssemblyQualifiedName;

-	}

-

-	public override bool Equals (object obj)

-	{

-		if (!(obj is TypeConverterAttribute))

-			return false;

-

-		return ((TypeConverterAttribute) obj).ConverterTypeName == converter_type;

-	}

-

-	public override int GetHashCode ()

-	{

-		return converter_type.GetHashCode ();

-	}

-

-	public string ConverterTypeName

-	{

-		get { return converter_type; }

-	}

-}

+    [AttributeUsage(AttributeTargets.All)]
+    public sealed class TypeConverterAttribute : Attribute
+    {

+        public static readonly TypeConverterAttribute Default = new TypeConverterAttribute ();
+
+        private string converter_type;

+        public TypeConverterAttribute ()
+            : this ("")
+        {
+        }

+        public TypeConverterAttribute (string typeName)
+        {
+            converter_type = typeName;
+        }

+        public TypeConverterAttribute (Type type)
+            : this (type.AssemblyQualifiedName)
+        {
+        }

+        public override bool Equals (object obj)
+        {
+            if (!(obj is TypeConverterAttribute))
+                return false;
+
+            return ((TypeConverterAttribute) obj).ConverterTypeName.Equals (converter_type);
+        }

+        public override int GetHashCode ()
+        {
+            if (converter_type != null)
+                return 0;
+            return converter_type.GetHashCode ();
+        }

+        public string ConverterTypeName
+        {
+            get { return converter_type; }
+        }

+    }

 }

 

Index: System.ComponentModel/TypeDescriptor.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/TypeDescriptor.cs,v
retrieving revision 1.9
diff -u -r1.9 TypeDescriptor.cs
--- System.ComponentModel/TypeDescriptor.cs	7 Jan 2003 23:16:13 -0000	1.9
+++ System.ComponentModel/TypeDescriptor.cs	21 Jun 2003 08:51:28 -0000
@@ -3,13 +3,16 @@
 //
 // Authors:
 //	Gonzalo Paniagua Javier (gonzalo@ximian.com)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2002 Ximian, Inc (http://www.ximian.com)
+// (C) 2003 Andreas Nahr
 //
 
 using System;
 using System.Collections;
 using System.Reflection;
+using System.ComponentModel.Design;
 
 namespace System.ComponentModel
 {
@@ -29,6 +32,12 @@
 		throw new NotImplementedException ();
 	}
 
+    [MonoTODO]
+    public static IDesigner CreateDesigner(IComponent component, Type designerBaseType)
+    {
+        		throw new NotImplementedException ();
+    }
+
 	[MonoTODO]
 	public static EventDescriptor CreateEvent (Type componentType,
 						   string name,
@@ -74,37 +83,72 @@
 
 	public static AttributeCollection GetAttributes (object component)
 	{
-		return GetAttributes (component.GetType ());
+		return GetAttributes (component, false);
 	}
 
 	[MonoTODO]
 	public static AttributeCollection GetAttributes (object component, bool noCustomTypeDesc)
 	{
-		throw new NotImplementedException ();
+        if (component == null)
+            return AttributeCollection.Empty;
+
+        // FIXME: implementation correct?
+        if (noCustomTypeDesc == false && component is ICustomTypeDescriptor)
+        {
+            return ((ICustomTypeDescriptor) component).GetAttributes ();
+        }
+        else
+        {
+            // FIXME: wrong implementation (we need to check the Attributes of the real instance?
+            // not of the type?
+            object [] atts = component.GetType ().GetCustomAttributes (false);
+            return new AttributeCollection ((Attribute []) atts);
+        }
 	}
 
-	[MonoTODO]
 	public static string GetClassName (object component)
 	{
-		throw new NotImplementedException ();
+		return GetClassName (component, false);
 	}
 
-	[MonoTODO]
 	public static string GetClassName (object component, bool noCustomTypeDesc)
 	{
-		throw new NotImplementedException ();
+        if (component == null)
+            throw new ArgumentNullException ("component", "component cannot be null");
+
+        // FIXME: implementation correct?
+        if (noCustomTypeDesc == false && component is ICustomTypeDescriptor)
+        {
+            return ((ICustomTypeDescriptor) component).GetClassName ();
+        }
+        else
+        {
+            return component.GetType ().FullName;
+        }
 	}
 
-	[MonoTODO]
 	public static string GetComponentName (object component)
 	{
-		throw new NotImplementedException ();
+		return GetComponentName (component, false);
 	}
 
-	[MonoTODO]
 	public static string GetComponentName (object component, bool noCustomTypeDesc)
 	{
-		throw new NotImplementedException ();
+        if (component == null)
+            throw new ArgumentNullException ("component", "component cannot be null");
+
+        // FIXME: implementation correct?
+        if (noCustomTypeDesc == false && component is ICustomTypeDescriptor)
+        {
+            return ((ICustomTypeDescriptor) component).GetComponentName ();
+        }
+        else
+        {
+            if (((IComponent) component).Site == null)
+                return null;
+            else
+                return ((IComponent) component).Site.Name;
+        }
 	}
 
 	public static TypeConverter GetConverter (object component)
@@ -171,25 +215,18 @@
 	}
 
 	[MonoTODO]
-	public static EventDescriptor GetDefaultEvent (object component)
-	{
-		throw new NotImplementedException ();
-	}
-
-	[MonoTODO]
 	public static EventDescriptor GetDefaultEvent (Type componentType)
 	{
 		throw new NotImplementedException ();
 	}
 
-	[MonoTODO]
-	public static EventDescriptor GetDefaultEvent (object component, bool noCustomTypeDesc)
-	{
-		throw new NotImplementedException ();
-	}
+    public static EventDescriptor GetDefaultEvent (object component)
+    {
+        return GetDefaultEvent (component, false);
+    }
 
 	[MonoTODO]
-	public static PropertyDescriptor GetDefaultProperty (object component)
+	public static EventDescriptor GetDefaultEvent (object component, bool noCustomTypeDesc)
 	{
 		throw new NotImplementedException ();
 	}
@@ -200,14 +237,13 @@
 		throw new NotImplementedException ();
 	}
 
-	[MonoTODO]
-	public static PropertyDescriptor GetDefaultProperty (object component, bool noCustomTypeDesc)
-	{
-		throw new NotImplementedException ();
-	}
+    public static PropertyDescriptor GetDefaultProperty (object component)
+    {
+        return GetDefaultProperty (component, false);
+    }
 
 	[MonoTODO]
-	public static object GetEditor (object component, Type editorBaseType)
+	public static PropertyDescriptor GetDefaultProperty (object component, bool noCustomTypeDesc)
 	{
 		throw new NotImplementedException ();
 	}
@@ -218,6 +254,11 @@
 		throw new NotImplementedException ();
 	}
 
+    public static object GetEditor (object component, Type editorBaseType)
+    {
+        return GetEditor (component, editorBaseType, false);
+    }
+
 	[MonoTODO]
 	public static object GetEditor (object component, Type editorBaseType, bool noCustomTypeDesc)
 	{
@@ -294,6 +335,12 @@
 		throw new NotImplementedException ();
 	}
 
+    [MonoTODO]
+    public static PropertyDescriptorCollection GetProperties (object component, Attribute [] attributes, bool noCustomTypeDesc)
+    {
+        throw new NotImplementedException ();
+    }
+
 	[MonoTODO("noCustomTypeDesc")]
 	public static PropertyDescriptorCollection GetProperties (object component, bool noCustomTypeDesc)
 	{
@@ -318,6 +365,21 @@
 	{
 		throw new NotImplementedException ();
 	}
+
+    [MonoTODO]
+    public static void SortDescriptorArray(IList infos)
+    {
+		throw new NotImplementedException ();
+    }
+
+    [MonoTODO]
+    public static IComNativeDescriptorHandler ComNativeDescriptorHandler
+    {
+        [MonoTODO]
+        get{throw new NotImplementedException ();}
+        [MonoTODO]
+        set{throw new NotImplementedException ();}
+    }
 
 	[MonoTODO]
 	public static void Refresh (Assembly assembly)
Index: System.ComponentModel/TypeListConverter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/TypeListConverter.cs,v
retrieving revision 1.1
diff -u -r1.1 TypeListConverter.cs
--- System.ComponentModel/TypeListConverter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/TypeListConverter.cs	21 Jun 2003 08:51:29 -0000
@@ -2,9 +2,11 @@
 // System.ComponentModel.TypeListConverter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Collections;
@@ -12,65 +14,70 @@
 
 namespace System.ComponentModel
 {
-        public abstract class TypeListConverter : TypeConverter
+    public abstract class TypeListConverter : TypeConverter
 	{
-		[MonoTODO]
+
+        private Type[] types;
+
 		protected TypeListConverter (Type[] types)
 		{
+            this.types = types;
 		}
 
-		[MonoTODO]
 		public override bool CanConvertFrom (ITypeDescriptorContext context,
-						     Type sourceType)
+			Type sourceType)
 		{
-			throw new NotImplementedException();
+            if (sourceType == typeof (string)) 
+                return true;
+            return base.CanConvertFrom (context, sourceType);
 		}
 
-		[MonoTODO]
 		public override bool CanConvertTo (ITypeDescriptorContext context,
-						   Type destinationType)
+			Type destinationType)
 		{
-			throw new NotImplementedException();
+            if (destinationType == typeof (string))
+                return true;
+            return base.CanConvertTo (context, destinationType);
 		}
 
-		[MonoTODO]
 		public override object ConvertFrom (ITypeDescriptorContext context,
-						    CultureInfo culture,
-						    object value)
+			CultureInfo culture, object value)
 		{
-			throw new NotImplementedException();
+            // LAMESPEC also it delivers true for CanConvertFrom (string)
+            // it fails in the actual conversion (MS implementation)
+			return base.ConvertFrom (context, culture, value);
 		}
 
-		[MonoTODO]
 		public override object ConvertTo (ITypeDescriptorContext context,
-						  CultureInfo culture,
-						  object value,
-						  Type destinationType)
+			CultureInfo culture, object value, Type destinationType)
 		{
-			throw new NotImplementedException();
+            if (destinationType == typeof (string))
+                if (value != null)
+                    if (value.GetType() == typeof (Type))
+                    {
+                        return ((Type) value).ToString();
+                    }
+                    else
+                    {
+                        // LAMESPEC MS throws InvalidCastException here
+                        throw new InvalidCastException("Cannot cast to System.Type");
+                    }
+            return base.ConvertTo (context, culture, value, destinationType);
 		}
 
-		[MonoTODO]
 		public override StandardValuesCollection GetStandardValues (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
+            return new StandardValuesCollection (types);
 		}
 
-		[MonoTODO]
 		public override bool GetStandardValuesExclusive (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
+			return true;
 		}
 
-		[MonoTODO]
 		public override bool GetStandardValuesSupported (ITypeDescriptorContext context)
 		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~TypeListConverter()
-		{
+			return true;
 		}
 	}
 }
Index: System.ComponentModel/UInt16Converter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/UInt16Converter.cs,v
retrieving revision 1.1
diff -u -r1.1 UInt16Converter.cs
--- System.ComponentModel/UInt16Converter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/UInt16Converter.cs	21 Jun 2003 08:51:29 -0000
@@ -2,23 +2,20 @@
 // System.ComponentModel.UInt16Converter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
-	public class UInt16Converter : BaseNumberConverter
-	{
-		[MonoTODO]
-		public UInt16Converter()
-		{
-		}
-
-		[MonoTODO]
-		~UInt16Converter()
-		{
-		}
-	}
+    public class UInt16Converter : BaseNumberConverter
+    {
+        public UInt16Converter()
+        {
+            InnerType = typeof (UInt16);
+        }
+    }
 }
Index: System.ComponentModel/UInt32Converter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/UInt32Converter.cs,v
retrieving revision 1.1
diff -u -r1.1 UInt32Converter.cs
--- System.ComponentModel/UInt32Converter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/UInt32Converter.cs	21 Jun 2003 08:51:29 -0000
@@ -2,23 +2,20 @@
 // System.ComponentModel.UInt32Converter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
-	public class UInt32Converter : BaseNumberConverter
-	{
-		[MonoTODO]
-		public UInt32Converter()
-		{
-		}
-
-		[MonoTODO]
-		~UInt32Converter()
-		{
-		}
-	}
+    public class UInt32Converter : BaseNumberConverter
+    {
+        public UInt32Converter()
+        {
+            InnerType = typeof (UInt32);
+        }
+    }
 }
Index: System.ComponentModel/UInt64Converter.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel/UInt64Converter.cs,v
retrieving revision 1.1
diff -u -r1.1 UInt64Converter.cs
--- System.ComponentModel/UInt64Converter.cs	31 Mar 2003 11:52:28 -0000	1.1
+++ System.ComponentModel/UInt64Converter.cs	21 Jun 2003 08:51:29 -0000
@@ -2,23 +2,20 @@
 // System.ComponentModel.UInt64Converter
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel
 {
-	public class UInt64Converter : BaseNumberConverter
-	{
-		[MonoTODO]
-		public UInt64Converter()
-		{
-		}
-
-		[MonoTODO]
-		~UInt64Converter()
-		{
-		}
-	}
+    public class UInt64Converter : BaseNumberConverter
+    {
+        public UInt64Converter()
+        {
+            InnerType = typeof (UInt64);
+        }
+    }
 }
Index: System.ComponentModel.Design/ActiveDesignerEventArgs.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/ActiveDesignerEventArgs.cs,v
retrieving revision 1.1
diff -u -r1.1 ActiveDesignerEventArgs.cs
--- System.ComponentModel.Design/ActiveDesignerEventArgs.cs	5 Dec 2002 00:48:37 -0000	1.1
+++ System.ComponentModel.Design/ActiveDesignerEventArgs.cs	21 Jun 2003 08:51:29 -0000
@@ -24,20 +24,12 @@
 			get {
 				return newDesigner;
 			}
-
-			set {
-				newDesigner = value;
-			}
 		}
 
 		public IDesignerHost OldDesigner {
 			get {
 				return oldDesigner;
-			}
-
-			set {
-				newDesigner = value;
-			}			
+			}		
 		}
 	}
 }
Index: System.ComponentModel.Design/Changelog
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/Changelog,v
retrieving revision 1.2
diff -u -r1.2 Changelog
--- System.ComponentModel.Design/Changelog	5 Dec 2002 00:48:37 -0000	1.2
+++ System.ComponentModel.Design/Changelog	21 Jun 2003 08:51:30 -0000
@@ -1,3 +1,44 @@
+2003-06-12  Andreas Nahr <ClassDevelopment@A-SoftTech.com>
+
+	* ActiveDesignerEventArgs.cs: Fixed property access
+	
+	* CheckoutException.cs
+	* CommandID.cs
+	* ComponentChangedEventArgs.cs
+	* ComponentChangingEventArgs.cs
+	* ComponentEventArgs.cs
+	* ComponentRenameEventArgs.cs
+	* DesignerEventArgs.cs: Implemented
+	
+	* StandardCommands.cs
+	* StandardToolWindows.cs: Implemented and removed unneeded MonoTODOs
+	
+	* DesignerCollection.cs
+	* DesignerVerbCollection.cs: Collections implemented
+	
+	* DesignerTransaction.cs
+	* DesignerVerb.cs: Implemented
+	
+	* MenuCommand.cs: Most members implemented
+	
+	* IDesignerHost.cs: Completed interface
+	
+	* IInheritanceService.cs: Hopefully fixed interface
+	
+	* ITypeResolutionService.cs: Completed interface
+	
+	* ISelectionService.cs: Completed interface
+	
+	* DesigntimeLicenseContext.cs: Added and implemented member
+	
+	* DesigntimeLicenseContextSerializer.cs: Added private constructor, removed unneeded members
+	
+	* SelectionTypes.cs
+	* HelpContextType.cs
+	* HelpKeywordType.cs: Hopefully fixed enums
+	
+	* ServiceContainer.cs: little implementation added
+	  
 2002-12-05  Alejandro Snchez Acosta  <raciel@gnome.org>
 
 	* ActiveDesignerEventArgs.cs,
Index: System.ComponentModel.Design/CheckoutException.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/CheckoutException.cs,v
retrieving revision 1.2
diff -u -r1.2 CheckoutException.cs
--- System.ComponentModel.Design/CheckoutException.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/CheckoutException.cs	21 Jun 2003 08:51:30 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.Design.CheckoutException
+// System.ComponentModel.Design.CheckoutException.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Runtime.InteropServices;
@@ -13,32 +15,26 @@
 {
 	public class CheckoutException : ExternalException
 	{
-		public static readonly CheckoutException Canceled;
+		public static readonly CheckoutException Canceled = new CheckoutException ();
 
-		[MonoTODO]
 		public CheckoutException()
+            : this (null, 0)
 		{
 		}
 
-		[MonoTODO]
 		public CheckoutException (string message)
+            : this (message, 0)
 		{
 		}
 
-		[MonoTODO]
 		public CheckoutException (string message, int errorCode)
+            : base (message, errorCode)
 		{
 		}
 
-		[MonoTODO]
 		public override string ToString()
 		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~CheckoutException()
-		{
+			return base.ToString ();
 		}
 	}
 }
Index: System.ComponentModel.Design/CommandID.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/CommandID.cs,v
retrieving revision 1.1
diff -u -r1.1 CommandID.cs
--- System.ComponentModel.Design/CommandID.cs	30 Nov 2002 17:37:00 -0000	1.1
+++ System.ComponentModel.Design/CommandID.cs	21 Jun 2003 08:51:30 -0000
@@ -1,9 +1,12 @@
+//
 // System.ComponentModel.Design.CommandID.cs
 //
 // Author:
-// 	Alejandro Snchez Acosta  <raciel@es.gnu.org>
+//  Alejandro Snchez Acosta  <raciel@es.gnu.org>
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 // 
 
 using System.Runtime.InteropServices;
@@ -13,49 +16,47 @@
 	[ComVisible(true)]
 	public class CommandID
 	{
-	
-		[MonoTODO]
-		internal CommandID (string text) {
-			throw new NotImplementedException ();
-		}
+        private int cID;
+        private Guid guid;
 
-		[MonoTODO]
 		public CommandID (Guid menuGroup, int commandID) {
-			throw new NotImplementedException ();
+			cID = commandID;
+            guid = menuGroup;
 		}
 
-		[MonoTODO]
 		public virtual Guid Guid 
 		{
 			get {
-				throw new NotImplementedException ();
+				return guid;
 			}
 		}
 
-		[MonoTODO]
 		public virtual int ID 
 		{
 			get {
-				throw new NotImplementedException ();
+				return cID;
 			}
 		}
 
-		[MonoTODO]
 		public override bool Equals (object obj)
 		{
-			throw new NotImplementedException ();
+            if (!(obj is CommandID))
+                return false;
+            if (obj == this)
+                return true;
+            return ((CommandID) obj).Guid.Equals (guid) && 
+                ((CommandID) obj).ID.Equals (cID);
 		}
 
-		[MonoTODO]
 		public override int GetHashCode() 
 		{
-			throw new NotImplementedException ();
+            // Guid can only be valid
+            return guid.GetHashCode() ^ cID.GetHashCode();
 		}
 
-		[MonoTODO]
 		public override string ToString()
 		{
-			throw new NotImplementedException ();
+            return guid.ToString () + " : " + cID.ToString ();
 		}
 	}
 }
Index: System.ComponentModel.Design/ComponentChangedEventArgs.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/ComponentChangedEventArgs.cs,v
retrieving revision 1.2
diff -u -r1.2 ComponentChangedEventArgs.cs
--- System.ComponentModel.Design/ComponentChangedEventArgs.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/ComponentChangedEventArgs.cs	21 Jun 2003 08:51:30 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.Design.ComponentChangedEventArgs
+// System.ComponentModel.Design.ComponentChangedEventArgs.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Runtime.InteropServices;
@@ -12,39 +14,36 @@
 namespace System.ComponentModel.Design
 {
 	[ComVisible(true)]
-        public sealed class ComponentChangedEventArgs : EventArgs
+    public sealed class ComponentChangedEventArgs : EventArgs
 	{
-		[MonoTODO]
+        private object component;
+        private MemberDescriptor member;
+        private object oldValue;
+        private object newValue;
+
 		public ComponentChangedEventArgs (object component,
-						  MemberDescriptor member,
-						  object oldValue,
-						  object newValue)
+			MemberDescriptor member, object oldValue, object newValue)
 		{
+            this.component = component;
+            this.member = member;
+            this.oldValue = oldValue;
+            this.newValue = newValue;
 		}
 
 		public object Component {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return component; }
 		}
 
 		public MemberDescriptor Member {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return member; }
 		}
 
 		public object NewValue {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return oldValue; }
 		}
 
 		public object OldValue {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
-		}
-
-		[MonoTODO]
-		~ComponentChangedEventArgs()
-		{
+			get { return newValue; }
 		}
 	}
 }
Index: System.ComponentModel.Design/ComponentChangingEventArgs.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/ComponentChangingEventArgs.cs,v
retrieving revision 1.2
diff -u -r1.2 ComponentChangingEventArgs.cs
--- System.ComponentModel.Design/ComponentChangingEventArgs.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/ComponentChangingEventArgs.cs	21 Jun 2003 08:51:30 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.Design.ComponentChangingEventArgs
+// System.ComponentModel.Design.ComponentChangingEventArgs.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Runtime.InteropServices;
@@ -12,27 +14,26 @@
 namespace System.ComponentModel.Design
 {
 	[ComVisible(true)]
-        public sealed class ComponentChangingEventArgs : EventArgs
+    public sealed class ComponentChangingEventArgs : EventArgs
 	{
-		[MonoTODO]
+        private object component;
+        private MemberDescriptor member;
+
 		public ComponentChangingEventArgs (object component,
 						   MemberDescriptor member)
 		{
+            this.component = component;
+            this.member = member;
 		}
 
-		public object Component {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
-		}
-
-		public MemberDescriptor Member {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
-		}
+        public object Component 
+        {
+            get { return component; }
+        }
 
-		[MonoTODO]
-		~ComponentChangingEventArgs()
-		{
-		}
+        public MemberDescriptor Member 
+        {
+            get { return member; }
+        }
 	}
 }
Index: System.ComponentModel.Design/ComponentEventArgs.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/ComponentEventArgs.cs,v
retrieving revision 1.2
diff -u -r1.2 ComponentEventArgs.cs
--- System.ComponentModel.Design/ComponentEventArgs.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/ComponentEventArgs.cs	21 Jun 2003 08:51:30 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.Design.ComponentEventArgs
+// System.ComponentModel.Design.ComponentEventArgs.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Runtime.InteropServices;
@@ -12,21 +14,17 @@
 namespace System.ComponentModel.Design
 {
 	[ComVisible(true)]
-        public class ComponentEventArgs : EventArgs
+    public class ComponentEventArgs : EventArgs
 	{
-		[MonoTODO]
+        IComponent icomp;
+
 		public ComponentEventArgs (IComponent component)
 		{
+            icomp = component;
 		}
 
 		public virtual IComponent Component {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
-		}
-
-		[MonoTODO]
-		ComponentEventArgs()
-		{
+			get { return icomp; }
 		}
 	}
 }
Index: System.ComponentModel.Design/ComponentRenameEventArgs.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/ComponentRenameEventArgs.cs,v
retrieving revision 1.2
diff -u -r1.2 ComponentRenameEventArgs.cs
--- System.ComponentModel.Design/ComponentRenameEventArgs.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/ComponentRenameEventArgs.cs	21 Jun 2003 08:51:30 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.Design.ComponentRenameEventArgs
+// System.ComponentModel.Design.ComponentRenameEventArgs.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Runtime.InteropServices;
@@ -12,34 +14,30 @@
 namespace System.ComponentModel.Design
 {
 	[ComVisible(true)]
-        public class ComponentRenameEventArgs : EventArgs
+    public class ComponentRenameEventArgs : EventArgs
 	{
-		[MonoTODO]
+        private object component;
+        private string oldName;
+        private string newName;
+
 		public ComponentRenameEventArgs (object component,
-						 string oldName,
-						 string newName)
+			string oldName, string newName)
 		{
+            this.component = component;
+            this.oldName = oldName;
+            this.newName = newName;
 		}
 
 		public object Component {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return component; }
 		}
 
 		public virtual string NewName {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return newName; }
 		}
 
 		public virtual string OldName {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
-		}
-
-		[MonoTODO]
-		~ComponentRenameEventArgs()
-		{
+			get { return oldName; }
 		}
-		
 	}
 }
Index: System.ComponentModel.Design/DesignerCollection.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/DesignerCollection.cs,v
retrieving revision 1.2
diff -u -r1.2 DesignerCollection.cs
--- System.ComponentModel.Design/DesignerCollection.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/DesignerCollection.cs	21 Jun 2003 08:51:30 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.Design.DesignerCollection
+// System.ComponentModel.Design.DesignerCollection.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Collections;
@@ -13,52 +15,43 @@
 {
 	public class DesignerCollection : ICollection, IEnumerable
 	{
-		[MonoTODO]
+
+        private ArrayList designers;
+
 		public DesignerCollection (IDesignerHost[] designers)
 		{
+            this.designers = new ArrayList (designers);
 		}
 
-		[MonoTODO]
 		public DesignerCollection (IList designers)
 		{
+            this.designers = new ArrayList (designers);
 		}
 
 		public int Count {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return designers.Count; }
 		}
 
 		public virtual IDesignerHost this [int index] {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return (IDesignerHost) designers [index]; }
 		}
 
-		[MonoTODO]
 		public IEnumerator GetEnumerator()
 		{
-			throw new NotImplementedException();
-		}
-
-		public bool IsSynchronized {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			return designers.GetEnumerator ();
 		}
 
-		public object SyncRoot {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+		bool ICollection.IsSynchronized {
+			get { return designers.IsSynchronized; }
 		}
 
-		[MonoTODO]
-		public void CopyTo (Array array, int index)
-		{
-			throw new NotImplementedException();
+		object ICollection.SyncRoot {
+			get { return designers.SyncRoot; }
 		}
 
-		[MonoTODO]
-		~DesignerCollection()
+		void ICollection.CopyTo (Array array, int index)
 		{
+			designers.CopyTo (array, index);
 		}
-
 	}
 }
Index: System.ComponentModel.Design/DesignerEventArgs.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/DesignerEventArgs.cs,v
retrieving revision 1.2
diff -u -r1.2 DesignerEventArgs.cs
--- System.ComponentModel.Design/DesignerEventArgs.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/DesignerEventArgs.cs	21 Jun 2003 08:51:30 -0000
@@ -1,30 +1,27 @@
 //
-// System.ComponentModel.Design.DesignerEventArgs
+// System.ComponentModel.Design.DesignerEventArgs.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel.Design
 {
 	public class DesignerEventArgs : EventArgs
 	{
-		[MonoTODO]
+        private IDesignerHost host;
+
 		public DesignerEventArgs (IDesignerHost host)
 		{
+            this.host = host;
 		}
 
 		public IDesignerHost Designer {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return host; }
 		}
-
-		[MonoTODO]
-		~DesignerEventArgs()
-		{
-		}
-
 	}
 }
Index: System.ComponentModel.Design/DesignerTransaction.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/DesignerTransaction.cs,v
retrieving revision 1.2
diff -u -r1.2 DesignerTransaction.cs
--- System.ComponentModel.Design/DesignerTransaction.cs	30 Nov 2002 18:29:25 -0000	1.2
+++ System.ComponentModel.Design/DesignerTransaction.cs	21 Jun 2003 08:51:31 -0000
@@ -1,9 +1,12 @@
+//
 // System.ComponentModel.Design.DesignerTransaction.cs
 //
 // Author:
 // 	Alejandro Snchez Acosta  <raciel@es.gnu.org>
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 // 
 
 using System;
@@ -12,42 +15,79 @@
 {
 	public abstract class DesignerTransaction : IDisposable
 	{
-		[MonoTODO]
-		public DesignerTransaction () {
-			throw new NotImplementedException ();
+        private string description;
+        private bool committed;
+        private bool canceled;
+
+		public DesignerTransaction () 
+            : this ("")
+        {
 		}
 
-		[MonoTODO]
 		public DesignerTransaction (string description) {
-			throw new NotImplementedException ();
+            this.description = description;
+            this.committed = false;
+            this.canceled = false;
 		}
 		
 		void IDisposable.Dispose () 
 		{ 
-			this.Dispose(); 
+			this.Dispose (true); 
 		}
 		
-		public abstract void Dispose();
+        public abstract void Dispose (bool disposing);
+
+        protected abstract void OnCancel ();
+
+        protected abstract void OnCommit ();
+
+        public void Cancel ()
+        {
+            // LAMESPEC Cannot find anything about the exact behavior, but I do some checks that
+            // seem to make sense
+            if (this.Canceled == false && this.Committed == false)
+            {
+                this.canceled = true;
+                OnCancel ();
+            }
+        }
+
+        public void Commit ()
+        {
+            // LAMESPEC Cannot find anything about the exact behavior, but I do some checks that
+            // seem to make sense
+            if (this.Canceled == false && this.Committed == false)
+            {
+                this.committed = true;
+                OnCommit ();
+            }
+        }
+
 
 		public bool Canceled 
 		{
 			get {
-				throw new NotImplementedException ();
+				return canceled;
 			}
 		}
 
 		public bool Committed
 		{
 			get {
-				throw new NotImplementedException ();
+				return committed;
 			}
 		}
 		
 		public string Description 
 		{
 			get {
-				throw new NotImplementedException ();
+				return description;
 			}
-		}				
+		}
+
+        ~DesignerTransaction ()
+        {
+
+        }
 	}
 }
Index: System.ComponentModel.Design/DesignerVerb.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/DesignerVerb.cs,v
retrieving revision 1.1
diff -u -r1.1 DesignerVerb.cs
--- System.ComponentModel.Design/DesignerVerb.cs	30 Nov 2002 17:37:00 -0000	1.1
+++ System.ComponentModel.Design/DesignerVerb.cs	21 Jun 2003 08:51:31 -0000
@@ -1,9 +1,12 @@
+//
 // System.ComponentModel.Design.DesignerVerb.cs
 //
 // Author:
 // 	Alejandro Snchez Acosta  <raciel@es.gnu.org>
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 // 
 
 using System.Runtime.InteropServices;
@@ -13,29 +16,29 @@
 	[ComVisible(true)]
 	public class DesignerVerb : MenuCommand
 	{
-		[MonoTODO]
-		public DesignerVerb (string text, EventHandler handler) : base (handler, new CommandID (text)){
-			throw new NotImplementedException ();
+
+        private string description;
+
+		public DesignerVerb (string text, EventHandler handler) 
+            : this (text, handler, StandardCommands.VerbFirst)
+        {
 		}
 
-		[MonoTODO]
 		public DesignerVerb (string text, EventHandler handler, CommandID startCommandID) 
 			: base (handler, startCommandID) {
-			throw new NotImplementedException ();
+			this.description = text;
 		}
 
-		[MonoTODO]
 		public string Text 
 		{
 			get {
-				throw new NotImplementedException ();
+				return this.description;
 			}
 		}
 
-		[MonoTODO]
 		public override string ToString()
 		{
-			throw new NotImplementedException ();
+			return string.Concat (description, base.ToString ());
 		}
 	}	
 }
Index: System.ComponentModel.Design/DesignerVerbCollection.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/DesignerVerbCollection.cs,v
retrieving revision 1.1
diff -u -r1.1 DesignerVerbCollection.cs
--- System.ComponentModel.Design/DesignerVerbCollection.cs	30 Nov 2002 17:37:00 -0000	1.1
+++ System.ComponentModel.Design/DesignerVerbCollection.cs	21 Jun 2003 08:51:31 -0000
@@ -1,9 +1,12 @@
+//
 // System.ComponentModel.Design.DesignerVerbCollection.cs
 //
 // Author:
 // 	Alejandro Snchez Acosta  <raciel@es.gnu.org>
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 // 
 
 using System.Collections;
@@ -14,98 +17,87 @@
 	[ComVisible(true)]
 	public class DesignerVerbCollection : CollectionBase
 	{
-		[MonoTODO]
 		public DesignerVerbCollection(){
-			throw new NotImplementedException ();
 		}
 
-		[MonoTODO]
 		public DesignerVerbCollection (DesignerVerb[] value){
-			throw new NotImplementedException ();
+            InnerList.AddRange (value);
 		}
 
-		[MonoTODO]
 		public DesignerVerb this[int index] 
 		{
 			get {
-				throw new NotImplementedException ();
+                return (DesignerVerb) InnerList[index];
 			}
 			
 			set {
-				throw new NotImplementedException ();		
+				InnerList[index] = value;		
 			}
 		}
 
-		[MonoTODO]
 		public int Add (DesignerVerb value)
 		{
-			throw new NotImplementedException ();
+			return InnerList.Add ( value);
 		}
 
-		[MonoTODO]
 		public void AddRange (DesignerVerb[] value)
 		{
-			throw new NotImplementedException ();
+			InnerList.AddRange (value);
 		}
 
-		[MonoTODO]
+        public void AddRange (DesignerVerbCollection value)
+        {
+            InnerList.AddRange (value);
+        }
+
 		public bool Contains (DesignerVerb value)
 		{
-			throw new NotImplementedException ();
+			return InnerList.Contains (value);
 		}
 
-		[MonoTODO]
 		public void CopyTo (DesignerVerb[] array, int index)
 		{
-			throw new NotImplementedException ();
+			InnerList.CopyTo (array, index);
 		}
 
-		[MonoTODO]
 		public int IndexOf (DesignerVerb value)
 		{
-			throw new NotImplementedException ();
+			return InnerList.IndexOf (value);
 		}
 
-		[MonoTODO]
 		public void Insert (int index, DesignerVerb value)
 		{
-			throw new NotImplementedException ();
+			InnerList.Insert (index, value);
 		}
 
-		[MonoTODO]
 		protected override void OnClear()
 		{
-			throw new NotImplementedException ();
+            // Cannot think of anything we would need to do here - probably nothing
 		}
 
-		[MonoTODO]
 		protected override void OnInsert (int index, object value)
 		{
-			throw new NotImplementedException ();
+			// Cannot think of anything we would need to do here - probably nothing
 		}
 
-		[MonoTODO]
 		protected override void OnRemove (int index, object value)
 		{
-			throw new NotImplementedException ();
+			// Cannot think of anything we would need to do here - probably nothing
 		}
 
-		[MonoTODO]
 		protected override void OnSet(int index, object oldValue, object newValue)
 		{
-			throw new NotImplementedException ();
+			// Cannot think of anything we would need to do here - probably nothing
 		}
 
-		[MonoTODO]
 		protected override void OnValidate(object value)
 		{
-			throw new NotImplementedException ();
+			// Cannot think of anything we would need to do here - probably nothing
 		}
 
-		[MonoTODO]
 		public void Remove (DesignerVerb value)
 		{
-			throw new NotImplementedException ();
+			InnerList.Remove (value);
 		}
 	}	
 }
Index: System.ComponentModel.Design/DesigntimeLicenseContext.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/DesigntimeLicenseContext.cs,v
retrieving revision 1.3
diff -u -r1.3 DesigntimeLicenseContext.cs
--- System.ComponentModel.Design/DesigntimeLicenseContext.cs	30 Mar 2003 20:26:48 -0000	1.3
+++ System.ComponentModel.Design/DesigntimeLicenseContext.cs	21 Jun 2003 08:51:31 -0000
@@ -1,19 +1,22 @@
 //
-// System.ComponentModel.Design.DesigntimeLicenseContext
+// System.ComponentModel.Design.DesigntimeLicenseContext.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
+using System.ComponentModel;
 using System.Reflection;
 
 namespace System.ComponentModel.Design
 {
 	public class DesigntimeLicenseContext : LicenseContext
 	{
-		[MonoTODO]
+
 		public DesigntimeLicenseContext()
 		{
 		}
@@ -31,9 +34,13 @@
 			throw new NotImplementedException();
 		}
 
-		[MonoTODO]
-		~DesigntimeLicenseContext()
-		{
-		}
+        public override LicenseUsageMode UsageMode
+        {
+            get
+            {
+                // It's a DesigntimeLicenseContext, isn't it
+                return LicenseUsageMode.Designtime;
+            }
+        }
 	}
 }
Index: System.ComponentModel.Design/DesigntimeLicenseContextSerializer.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/DesigntimeLicenseContextSerializer.cs,v
retrieving revision 1.2
diff -u -r1.2 DesigntimeLicenseContextSerializer.cs
--- System.ComponentModel.Design/DesigntimeLicenseContextSerializer.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/DesigntimeLicenseContextSerializer.cs	21 Jun 2003 08:51:31 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.Design.DesigntimeLicenseContextSerializer
+// System.ComponentModel.Design.DesigntimeLicenseContextSerializer.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.IO;
@@ -13,17 +15,17 @@
 {
 	public class DesigntimeLicenseContextSerializer
 	{
+
+        private DesigntimeLicenseContextSerializer ()
+        {
+        }
+
 		[MonoTODO]
 		public static void Serialize (Stream o,
 					      string cryptoKey,
 					      DesigntimeLicenseContext context)
 		{
 			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~DesigntimeLicenseContextSerializer()
-		{
 		}
 	}
 }
Index: System.ComponentModel.Design/HelpContextType.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/HelpContextType.cs,v
retrieving revision 1.2
diff -u -r1.2 HelpContextType.cs
--- System.ComponentModel.Design/HelpContextType.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/HelpContextType.cs	21 Jun 2003 08:51:31 -0000
@@ -1,5 +1,5 @@
 //
-// System.ComponentModel.Design.HelpContextType
+// System.ComponentModel.Design.HelpContextType.cs
 //
 // Authors:
 //      Martin Willemoes Hansen (mwh@sysrq.dk)
@@ -10,11 +10,11 @@
 namespace System.ComponentModel.Design
 {
 	[Serializable]
-        public enum HelpContextType
+    public enum HelpContextType
 	{
-		Ambient,
-		Selection,
-		ToolWindowSelection,
-		Window,
+		Ambient = 0,
+		Selection = 2,
+		ToolWindowSelection = 3,
+		Window = 1
 	}
 }
Index: System.ComponentModel.Design/HelpKeywordType.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/HelpKeywordType.cs,v
retrieving revision 1.2
diff -u -r1.2 HelpKeywordType.cs
--- System.ComponentModel.Design/HelpKeywordType.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/HelpKeywordType.cs	21 Jun 2003 08:51:31 -0000
@@ -1,5 +1,5 @@
 //
-// System.ComponentModel.Design.HelpKeywordType
+// System.ComponentModel.Design.HelpKeywordType.cs
 //
 // Authors:
 //      Martin Willemoes Hansen (mwh@sysrq.dk)
@@ -10,10 +10,10 @@
 namespace System.ComponentModel.Design
 {
 	[Serializable]
-        public enum HelpKeywordType
+    public enum HelpKeywordType
 	{
-		F1Keyword,
-		FilterKeyword,
-		GeneralKeyword,
+		F1Keyword = 0,
+		FilterKeyword = 2,
+		GeneralKeyword = 1
 	}
 }
Index: System.ComponentModel.Design/IDesignerHost.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/IDesignerHost.cs,v
retrieving revision 1.1
diff -u -r1.1 IDesignerHost.cs
--- System.ComponentModel.Design/IDesignerHost.cs	30 Nov 2002 17:37:00 -0000	1.1
+++ System.ComponentModel.Design/IDesignerHost.cs	21 Jun 2003 08:51:31 -0000
@@ -1,11 +1,15 @@
+//
 // System.ComponentModel.Design.IDesignerHost.cs
 //
-// Author:
+// Authors:
 // 	Alejandro Snchez Acosta  <raciel@es.gnu.org>
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 // 
 
+using System.ComponentModel;
 using System.Runtime.InteropServices;
 
 namespace System.ComponentModel.Design
@@ -34,6 +38,8 @@
 		DesignerTransaction CreateTransaction ();
 
 		DesignerTransaction CreateTransaction (string description);
+
+        void DestroyComponent (IComponent component);
 
 		IDesigner GetDesigner (IComponent component);
 
Index: System.ComponentModel.Design/IInheritanceService.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/IInheritanceService.cs,v
retrieving revision 1.1
diff -u -r1.1 IInheritanceService.cs
--- System.ComponentModel.Design/IInheritanceService.cs	29 Mar 2003 13:01:31 -0000	1.1
+++ System.ComponentModel.Design/IInheritanceService.cs	21 Jun 2003 08:51:32 -0000
@@ -1,5 +1,5 @@
 //
-// System.ComponentModel.Design.IInheritanceService
+// System.ComponentModel.Design.IInheritanceService.cs
 //
 // Authors:
 //      Martin Willemoes Hansen (mwh@sysrq.dk)
@@ -7,12 +7,13 @@
 // (C) 2003 Martin Willemoes Hansen
 //
 
+using System.ComponentModel;
+
 namespace System.ComponentModel.Design
 {
-        public interface IInheritanceService
+    public interface IInheritanceService
 	{
-		void AddInheritedComponents (IComponent component,
-					     IContainer container);
+		void AddInheritedComponents (IComponent component, IContainer container);
 
 		InheritanceAttribute GetInheritanceAttribute (IComponent component);
 	}
Index: System.ComponentModel.Design/ISelectionService.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/ISelectionService.cs,v
retrieving revision 1.1
diff -u -r1.1 ISelectionService.cs
--- System.ComponentModel.Design/ISelectionService.cs	30 Nov 2002 17:37:00 -0000	1.1
+++ System.ComponentModel.Design/ISelectionService.cs	21 Jun 2003 08:51:32 -0000
@@ -1,11 +1,16 @@
+//
 // System.ComponentModel.Design.ISelectionService.cs
 //
-// Author:
+// Authors:
 // 	Alejandro Snchez Acosta  <raciel@es.gnu.org>
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 // 
 
+using System;
+using System.Collections;
 using System.Runtime.InteropServices;
 
 namespace System.ComponentModel.Design
@@ -13,6 +18,20 @@
 	[ComVisible(true)]
 	public interface ISelectionService
 	{
+        bool GetComponentSelected (object component);
+
+        ICollection GetSelectedComponents ();
+
+        void SetSelectedComponents (ICollection components, SelectionTypes selectionType);
+
+        void SetSelectedComponents (ICollection components);
+
+        object PrimarySelection {get;}
+
+        int SelectionCount {get;}
+
+        event EventHandler SelectionChanged;
 
+        event EventHandler SelectionChanging;
 	}		
 }
Index: System.ComponentModel.Design/ITypeResolutionService.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/ITypeResolutionService.cs,v
retrieving revision 1.2
diff -u -r1.2 ITypeResolutionService.cs
--- System.ComponentModel.Design/ITypeResolutionService.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/ITypeResolutionService.cs	21 Jun 2003 08:51:32 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.Design.ITypeResolutionService
+// System.ComponentModel.Design.ITypeResolutionService.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Reflection;
@@ -18,6 +20,7 @@
 		string GetPathOfAssembly (AssemblyName name);
 		Type GetType (string name);
 		Type GetType (string name, bool throwOnError);
+        Type GetType (string name, bool throwOnError, bool ignoreCase);
 		void ReferenceAssembly (AssemblyName name);
 	}
 }
Index: System.ComponentModel.Design/MenuCommand.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/MenuCommand.cs,v
retrieving revision 1.1
diff -u -r1.1 MenuCommand.cs
--- System.ComponentModel.Design/MenuCommand.cs	30 Nov 2002 17:37:00 -0000	1.1
+++ System.ComponentModel.Design/MenuCommand.cs	21 Jun 2003 08:51:32 -0000
@@ -1,9 +1,12 @@
+//
 // System.ComponentModel.Design.MenuCommand.cs
 //
 // Author:
 // 	Alejandro Snchez Acosta  <raciel@es.gnu.org>
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 // 
 
 using System.Runtime.InteropServices;
@@ -13,95 +16,109 @@
 	[ComVisible(true)]
 	public class MenuCommand
 	{
-		[MonoTODO]
+
+        private EventHandler handler;
+        private CommandID command;
+        private int olestat = 3;
+        private bool ischecked = false;
+        private bool enabled = true;
+        private bool issupported = true;
+        private bool visible = true;
+
 		public MenuCommand (EventHandler handler, CommandID command) {
-			throw new NotImplementedException ();
+            this.handler = handler;
+            this.command = command;
 		}
 
-		[MonoTODO]
 		public virtual bool Checked 
 		{
 			get {
-				throw new NotImplementedException ();
+				return ischecked;
 			}
 			
 			set {
-				throw new NotImplementedException ();
+				ischecked = value;
 			}
 		}
 
-		[MonoTODO]
 		public virtual CommandID CommandID 
 		{
 			get {
-				throw new NotImplementedException ();
+				return command;
 			}
 		}
 
-		[MonoTODO]
 		public virtual bool Enabled 
 		{
 			get {
-				throw new NotImplementedException ();
+				return enabled;
 			}
 			
 			set {
-				throw new NotImplementedException ();
+				enabled = value;
 			}
 		}
 
-		[MonoTODO]
 		public virtual int OleStatus 
 		{
 			get {
-				throw new NotImplementedException ();
+				return olestat;
 			}		
-
-			set {
-				throw new NotImplementedException ();
-			}
 		}
 
-		[MonoTODO]
 		public virtual bool Supported 
 		{
 			get {
-				throw new NotImplementedException (); 
+				return issupported; 
 			}
 			
 			set {
-				throw new NotImplementedException ();
+				issupported = value;
 			}
 		}
 
-		[MonoTODO]
 		public virtual bool Visible 
 		{
 			get {
-				throw new NotImplementedException ();
+				return visible;
 			}
 			
 			set {
-				throw new NotImplementedException ();
+				visible = value;
 			}
 		}
 
 		[MonoTODO]
 		public virtual void Invoke()
 		{
+            // FIXME this should probably invoke the handler somwhow, but I'm not sure what it should do
 			throw new NotImplementedException ();
 		}
 		
 		[MonoTODO]
 		protected virtual void OnCommandChanged (EventArgs e)
 		{
+            // FIXME ?? does what ??
 			throw new NotImplementedException ();
 		}
 
-		[MonoTODO]
 		public override string ToString()
 		{
-			throw new NotImplementedException ();
+            // MS runtime produces a NullReferenceException here if CommandID == null
+            // which I guess isn't a good idea (throwing exceptions in ToStrings???) - bug in MS??
+            string commandpart = "";
+            if (command != null)
+                commandpart = command.ToString ();
+            commandpart = string.Concat (commandpart, " : ");
+            if (this.Supported)
+                commandpart = string.Concat (commandpart, "Supported");
+            if (this.Enabled)
+                commandpart = string.Concat (commandpart, "|Enabled");
+            if (this.Visible)
+                commandpart = string.Concat (commandpart, "|Visible");
+            if (this.Checked)
+                commandpart = string.Concat (commandpart, "|Checked");
+            return commandpart;
 		}
 		
 		public event EventHandler CommandChanged;
Index: System.ComponentModel.Design/SelectionTypes.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/SelectionTypes.cs,v
retrieving revision 1.2
diff -u -r1.2 SelectionTypes.cs
--- System.ComponentModel.Design/SelectionTypes.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/SelectionTypes.cs	21 Jun 2003 08:51:32 -0000
@@ -1,5 +1,5 @@
 //
-// System.ComponentModel.Design.SelectionTypes
+// System.ComponentModel.Design.SelectionTypes.cs
 //
 // Authors:
 //      Martin Willemoes Hansen (mwh@sysrq.dk)
@@ -16,11 +16,11 @@
 	[ComVisible(true)]
         public enum SelectionTypes
 	{
-		Click,
-		MouseDown,
-		MouseUp,
-		Normal,
-		Replace,
-		Valid,
+		Click = 16,
+		MouseDown = 4,
+		MouseUp = 8,
+		Normal = 1,
+		Replace = 2,
+		Valid = 31
 	}
 }
Index: System.ComponentModel.Design/ServiceContainer.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/ServiceContainer.cs,v
retrieving revision 1.2
diff -u -r1.2 ServiceContainer.cs
--- System.ComponentModel.Design/ServiceContainer.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/ServiceContainer.cs	21 Jun 2003 08:51:32 -0000
@@ -1,25 +1,32 @@
 //
-// System.ComponentModel.Design.ServiceContainer
+// System.ComponentModel.Design.ServiceContainer.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
+using System.Collections;
+
 namespace System.ComponentModel.Design
 {
 	public sealed class ServiceContainer : IServiceContainer,
                                                IServiceProvider
 	{
-		[MonoTODO]
+
+        IServiceProvider parentProvider;
+
 		public ServiceContainer()
+            : this (null)
 		{
 		}
 
-		[MonoTODO]
 		public ServiceContainer (IServiceProvider parentProvider)
 		{
+            this.parentProvider = parentProvider;
 		}
 
 		[MonoTODO]
@@ -65,15 +72,10 @@
 			throw new NotImplementedException();
 		}
 
-		[MonoTODO]
+        [MonoTODO]
 		public object GetService (Type serviceType)
 		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~ServiceContainer()
-		{
+            throw new NotImplementedException();
 		}
 	}
 }
Index: System.ComponentModel.Design/StandardCommands.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/StandardCommands.cs,v
retrieving revision 1.2
diff -u -r1.2 StandardCommands.cs
--- System.ComponentModel.Design/StandardCommands.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/StandardCommands.cs	21 Jun 2003 08:51:33 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.Design.StandardCommands
+// System.ComponentModel.Design.StandardCommands.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel.Design
@@ -65,13 +67,91 @@
 		public static readonly CommandID VertSpaceMakeEqual;
 		public static readonly CommandID ViewGrid;
 
-		[MonoTODO]
-		public StandardCommands()
-		{
-		}
+        static StandardCommands()
+        {
+            // It seems that all static commands use this Guid values in MS impl
+            Guid guidA = new Guid("5efc7975-14bc-11cf-9b2b-00aa00573819");
+            Guid guidB = new Guid("74d21313-2aee-11d1-8bfb-00a0c90f26f7");
+
+            // got command IDs by looking at StandardCommands.AlignBottom.ToString in MS impl
+            AlignBottom = new CommandID (guidA, 1);
+            AlignHorizontalCenters = new CommandID (guidA, 2);
+            AlignLeft = new CommandID (guidA, 3);
+            AlignRight = new CommandID (guidA, 4);
+            AlignToGrid = new CommandID (guidA, 5);
+            AlignTop = new CommandID (guidA, 6);
+            AlignVerticalCenters = new CommandID (guidA, 7);
+            ArrangeBottom = new CommandID (guidA, 8);
+
+            ArrangeIcons = new CommandID (guidB, 12298);
+
+            ArrangeRight = new CommandID (guidA, 9);
+            BringForward = new CommandID (guidA, 10);
+            BringToFront = new CommandID (guidA, 11);
+            CenterHorizontally = new CommandID (guidA, 12);
+            CenterVertically = new CommandID (guidA, 13);
+
+            Copy = new CommandID (guidA, 15);
+            Cut = new CommandID (guidA, 16);
+            Delete = new CommandID (guidA, 17);
+
+            F1Help = new CommandID (guidA, 377);
+
+            Group = new CommandID (guidA, 20);
+            HorizSpaceConcatenate = new CommandID (guidA, 21);
+            HorizSpaceDecrease = new CommandID (guidA, 22);
+            HorizSpaceIncrease = new CommandID (guidA, 23);
+            HorizSpaceMakeEqual = new CommandID (guidA, 24);
+
+            LineupIcons = new CommandID (guidB, 12299);
+
+            LockControls = new CommandID (guidA, 369);
+
+            MultiLevelRedo = new CommandID (guidA, 30);
+
+            MultiLevelUndo = new CommandID (guidA, 44);
+
+            Paste = new CommandID (guidA, 26);
+            Properties = new CommandID (guidA, 28);
+
+            PropertiesWindow = new CommandID (guidA, 235);
 
-		[MonoTODO]
-		~StandardCommands()
+            Redo = new CommandID (guidA, 29);
+
+            Replace = new CommandID (guidA, 230);
+
+            SelectAll = new CommandID (guidA, 31);
+            SendBackward = new CommandID (guidA, 32);
+            SendToBack = new CommandID (guidA, 33);
+
+            ShowGrid = new CommandID (guidA, 103);
+
+            ShowLargeIcons = new CommandID (guidB, 12300);
+
+            SizeToControl = new CommandID (guidA, 35);
+            SizeToControlHeight = new CommandID (guidA, 36);
+            SizeToControlWidth = new CommandID (guidA, 37);
+            SizeToFit = new CommandID (guidA, 38);
+            SizeToGrid = new CommandID (guidA, 39);
+            SnapToGrid = new CommandID (guidA, 40);
+            TabOrder = new CommandID (guidA, 41);
+
+            Undo = new CommandID (guidA, 43);
+
+            Ungroup = new CommandID (guidA, 45);
+
+            VerbFirst = new CommandID (guidB, 8192);
+            VerbLast = new CommandID (guidB, 8448);
+
+            VertSpaceConcatenate = new CommandID (guidA, 46);
+            VertSpaceDecrease = new CommandID (guidA, 47);
+            VertSpaceIncrease = new CommandID (guidA, 48);
+            VertSpaceMakeEqual = new CommandID (guidA, 49);
+
+            ViewGrid = new CommandID (guidA, 125);
+        }
+
+		public StandardCommands()
 		{
 		}
 	}
Index: System.ComponentModel.Design/StandardToolWindows.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design/StandardToolWindows.cs,v
retrieving revision 1.2
diff -u -r1.2 StandardToolWindows.cs
--- System.ComponentModel.Design/StandardToolWindows.cs	29 Mar 2003 17:37:14 -0000	1.2
+++ System.ComponentModel.Design/StandardToolWindows.cs	21 Jun 2003 08:51:33 -0000
@@ -1,32 +1,28 @@
 //
-// System.ComponentModel.Design
+// System.ComponentModel.Design.StandardToolWindows.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel.Design
 {
 	public class StandardToolWindows
 	{
-		public static readonly Guid ObjectBrowser;
-		public static readonly Guid OutputWindow;
-		public static readonly Guid ProjectExplorer;
-		public static readonly Guid PropertyBrowser;
-		public static readonly Guid RelatedLinks;
-		public static readonly Guid ServerExplorer;
-		public static readonly Guid TaskList;
-		public static readonly Guid Toolbox;
+		public static readonly Guid ObjectBrowser = new Guid ("970d9861-ee83-11d0-a778-00a0c91110c3");
+		public static readonly Guid OutputWindow = new Guid ("34e76e81-ee4a-11d0-ae2e-00a0c90fffc3");
+		public static readonly Guid ProjectExplorer = new Guid ("3ae79031-e1bc-11d0-8f78-00a0c9110057");
+		public static readonly Guid PropertyBrowser = new Guid ("eefa5220-e298-11d0-8f78-00a0c9110057");
+		public static readonly Guid RelatedLinks = new Guid ("66dba47c-61df-11d2-aa79-00c04f990343");
+		public static readonly Guid ServerExplorer = new Guid ("74946827-37a0-11d2-a273-00c04f8ef4ff");
+		public static readonly Guid TaskList = new Guid ("4a9b7e51-aa16-11d0-a8c5-00a0c921a4d2");
+		public static readonly Guid Toolbox = new Guid ("b1e99781-ab81-11d0-b683-00aa00a3ee26");
 
-		[MonoTODO]
 		public StandardToolWindows()
-		{
-		}
-
-		[MonoTODO]
-		~StandardToolWindows()
 		{
 		}
 	}
Index: System.ComponentModel.Design.Serialization/ContextStack.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design.Serialization/ContextStack.cs,v
retrieving revision 1.2
diff -u -r1.2 ContextStack.cs
--- System.ComponentModel.Design.Serialization/ContextStack.cs	29 Mar 2003 18:43:37 -0000	1.2
+++ System.ComponentModel.Design.Serialization/ContextStack.cs	21 Jun 2003 08:51:33 -0000
@@ -1,44 +1,72 @@
+//
 // System.ComponentModel.Design.Serialization.ContextStack.cs
 //
 // Author:
-//      Alejandro Snchez Acosta   <raciel@gnome.org>
+//  Alejandro Snchez Acosta   <raciel@gnome.org>
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 //
 
 using System.Collections;
 
 namespace System.ComponentModel.Design.Serialization
 {
-        public sealed class ContextStack
-        {
-		public ArrayList list;
+    public sealed class ContextStack
+    {
+        private Stack stack;
 		
-                public ContextStack () {
-                        list = new ArrayList ();
-                }
+        public ContextStack () 
+        {
+            stack = new Stack ();
+        }
 
-                public object Current {
-                        get { 
-                                if (list.Count == 0) return null;
-                                return list [list.Count - 1];
-                        }
-
-			set { 
- 				list.Add (value);
-                        }
+        public object Current 
+        {
+            get 
+            { 
+                try
+                {
+                    return stack.Peek ();
                 }
-
-                [MonoTODO]
-		public object this[Type type] {
-                        get { throw new NotImplementedException ();}
-                        set { throw new NotImplementedException ();}
+                catch
+                {
+                    return null;
                 }
+            }
+        }
 
-                [MonoTODO]
-                public object this[int level] {
-                        get { throw new NotImplementedException ();}
-                        set { throw new NotImplementedException ();}
-                }
-	}
+        public object this[Type type] 
+        {
+            get {
+                foreach (object o in stack.ToArray())
+                    if (o.GetType () == type)
+                        return o;
+                return null;
+            }
+        }
+
+        public object this[int level] 
+        {
+            get {
+                if (level < 0)
+                    throw new ArgumentException ("level has to be >= 0","level");
+                Array A = stack.ToArray();
+                if (level > (A.Length - 1))
+                    return null;
+                return A.GetValue(level);
+            }
+        }
+
+        public object Pop ()
+        {
+            return stack.Pop ();
+        }
+
+        public void Push (object context)
+        {
+            stack.Push (context);
+        }
+    }
 }
Index: System.ComponentModel.Design.Serialization/DesignerLoader.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design.Serialization/DesignerLoader.cs,v
retrieving revision 1.2
diff -u -r1.2 DesignerLoader.cs
--- System.ComponentModel.Design.Serialization/DesignerLoader.cs	27 Mar 2003 21:04:16 -0000	1.2
+++ System.ComponentModel.Design.Serialization/DesignerLoader.cs	21 Jun 2003 08:51:33 -0000
@@ -1,37 +1,32 @@
 //
-// System.ComponentModel.Design.Serialization.DesignerLoader
+// System.ComponentModel.Design.Serialization.DesignerLoader.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel.Design.Serialization
 {
+    // This class is merely an interface with no implementation needed
 	public abstract class DesignerLoader
 	{
-		[MonoTODO]
+
 		protected DesignerLoader()
 		{
 		}
 
 		public virtual bool Loading {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return false; }
 		}
 
 		public abstract void BeginLoad (IDesignerLoaderHost host);
 		public abstract void Dispose();
 
-		[MonoTODO]
 		public virtual void Flush()
-		{
-			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~DesignerLoader()
 		{
 		}
 	}
Index: System.ComponentModel.Design.Serialization/DesignerSerializerAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design.Serialization/DesignerSerializerAttribute.cs,v
retrieving revision 1.2
diff -u -r1.2 DesignerSerializerAttribute.cs
--- System.ComponentModel.Design.Serialization/DesignerSerializerAttribute.cs	27 Mar 2003 21:04:16 -0000	1.2
+++ System.ComponentModel.Design.Serialization/DesignerSerializerAttribute.cs	21 Jun 2003 08:51:33 -0000
@@ -2,54 +2,51 @@
 // System.ComponentModel.Design.Serialization.DesignerSerializerAttribute.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel.Design.Serialization
 {
-	[AttributeUsage(AttributeTargets.Class |
-			AttributeTargets.Interface)]
-        public sealed class DesignerSerializerAttribute : Attribute
+	[AttributeUsage(AttributeTargets.Class | AttributeTargets.Interface)]
+    public sealed class DesignerSerializerAttribute : Attribute
 	{
-		[MonoTODO]
+
+        private string serializerTypeName;
+        private string baseSerializerTypeName;
+
 		public DesignerSerializerAttribute (string serializerTypeName,
-						    string baseSerializerTypeName)
+			string baseSerializerTypeName)
 		{
+            this.serializerTypeName = serializerTypeName;
+            this.baseSerializerTypeName = baseSerializerTypeName;
 		}
 
-		[MonoTODO]
 		public DesignerSerializerAttribute (string serializerTypeName,
-						    Type baseSerializerType)
+			Type baseSerializerType)
+            : this (serializerTypeName, baseSerializerType.AssemblyQualifiedName)
 		{
 		}
 
-		[MonoTODO]
 		public DesignerSerializerAttribute (Type serializerType,
-						    Type baseSerializerType)
+			Type baseSerializerType)
+            : this (serializerType.AssemblyQualifiedName, baseSerializerType.AssemblyQualifiedName)
 		{
 		}
 
 		public string SerializerBaseTypeName {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return baseSerializerTypeName; }
 		}
 
 		public string SerializerTypeName {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return serializerTypeName; }
 		}
 
 		public override object TypeId {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
-		}
-
-		[MonoTODO]
-		public override int GetHashCode()
-		{
-			throw new NotImplementedException();
+			get { return string.Concat (this.ToString(), baseSerializerTypeName); }
 		}
 	}
 }
Index: System.ComponentModel.Design.Serialization/InstanceDescriptor.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design.Serialization/InstanceDescriptor.cs,v
retrieving revision 1.2
diff -u -r1.2 InstanceDescriptor.cs
--- System.ComponentModel.Design.Serialization/InstanceDescriptor.cs	27 Mar 2003 21:04:16 -0000	1.2
+++ System.ComponentModel.Design.Serialization/InstanceDescriptor.cs	21 Jun 2003 08:51:34 -0000
@@ -1,10 +1,12 @@
 //
-// System.ComponentModel.Design.Serialization.InstanceDescriptor
+// System.ComponentModel.Design.Serialization.InstanceDescriptor.cs
 //
 // Authors:
-//      Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Martin Willemoes Hansen (mwh@sysrq.dk)
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) 2003 Martin Willemoes Hansen
+// (C) 2003 Andreas Nahr
 //
 
 using System.Collections;
@@ -14,44 +16,40 @@
 {
 	public sealed class InstanceDescriptor
 	{
-		[MonoTODO]
-		public InstanceDescriptor (MemberInfo info, 
-					   ICollection collection)
+        private MemberInfo member;
+        private ICollection arguments;
+        private bool isComplete;
+
+
+		public InstanceDescriptor (MemberInfo member, ICollection arguments)
+            : this (member, arguments, true)
 		{
 		}
 
-		[MonoTODO]
-		public InstanceDescriptor(MemberInfo info, 
-					  ICollection coolection, 
-					  bool boolean)
+		public InstanceDescriptor(MemberInfo member, 
+			ICollection arguments, bool isComplete)
 		{
-			throw new NotImplementedException();
+            this.member = member;
+            this.arguments = arguments;
+            this.isComplete = isComplete;
 		}
 
 		public ICollection Arguments {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return arguments; }
 		}
 
 		public bool IsComplete {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return isComplete; }
 		}
 
 		public MemberInfo MemberInfo {
-			[MonoTODO]
-			get { throw new NotImplementedException(); }
+			get { return member; }
 		}
 
 		[MonoTODO]
 		public object Invoke()
 		{
 			throw new NotImplementedException();
-		}
-
-		[MonoTODO]
-		~InstanceDescriptor()
-		{
 		}
 	}
 }
Index: System.ComponentModel.Design.Serialization/ResolveNameEventArgs.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design.Serialization/ResolveNameEventArgs.cs,v
retrieving revision 1.2
diff -u -r1.2 ResolveNameEventArgs.cs
--- System.ComponentModel.Design.Serialization/ResolveNameEventArgs.cs	29 Mar 2003 18:43:38 -0000	1.2
+++ System.ComponentModel.Design.Serialization/ResolveNameEventArgs.cs	21 Jun 2003 08:51:34 -0000
@@ -1,3 +1,4 @@
+//
 // System.ComponentModel.Design.Serialization.ResolveNameEventArgs.cs
 //
 // Author:
@@ -10,7 +11,7 @@
 {
 	public class ResolveNameEventArgs : EventArgs
 	{
-		public string name;
+		private string name;
 	
 		public ResolveNameEventArgs (string name) {
 			this.name = name;
Index: System.ComponentModel.Design.Serialization/RootDesignerSerializerAttribute.cs
===================================================================
RCS file: /mono/mcs/class/System/System.ComponentModel.Design.Serialization/RootDesignerSerializerAttribute.cs,v
retrieving revision 1.3
diff -u -r1.3 RootDesignerSerializerAttribute.cs
--- System.ComponentModel.Design.Serialization/RootDesignerSerializerAttribute.cs	29 Mar 2003 18:43:38 -0000	1.3
+++ System.ComponentModel.Design.Serialization/RootDesignerSerializerAttribute.cs	21 Jun 2003 08:51:34 -0000
@@ -1,9 +1,12 @@
+//
 // System.ComponentModel.Design.Serialization.RootDesignerSerializerAttribute.cs
 //
-// Author:
+// Authors:
 // 	Alejandro Snchez Acosta   <raciel@gnome.org>
+//  Andreas Nahr (ClassDevelopment@A-SoftTech.com)
 //
 // (C) Alejandro Snchez Acosta
+// (C) 2003 Andreas Nahr
 //
 
 namespace System.ComponentModel.Design.Serialization
@@ -13,8 +16,6 @@
 	{
 		private string serializer;
 		private string baseserializer;
-		private Type basetypeserializer;
-		private Type serializertype;
 		private bool reload;
 		
 		public RootDesignerSerializerAttribute (string serializerTypeName, string baseSerializerTypeName, bool reloadable) {
@@ -23,57 +24,36 @@
 			this.reload = reloadable;
 		}
 
-		public RootDesignerSerializerAttribute (string serializerTypeName, Type baseSerializerType, bool reloadable) {
-			this.serializer = serializerTypeName;
-			this.basetypeserializer = baseSerializerType;
-			this.reload = reloadable;
+		public RootDesignerSerializerAttribute (string serializerTypeName, Type baseSerializerType, bool reloadable)
+            : this (serializerTypeName, baseSerializerType.AssemblyQualifiedName, reloadable)
+        {
 		}
 
-		public RootDesignerSerializerAttribute (Type serializerType, Type baseSerializerType, bool reloadable) {
-			this.serializertype = serializerType;
-			this.basetypeserializer = baseSerializerType;
-			this.reload = reloadable;
+		public RootDesignerSerializerAttribute (Type serializerType, Type baseSerializerType, bool reloadable) 
+            : this (serializerType.AssemblyQualifiedName, baseSerializerType.AssemblyQualifiedName, reloadable)
+        {
 		}
 
 		public bool Reloadable {
 			get {
 				return this.reload;
 			}
-			
-			set {
-				this.reload = value;
-			}
 		}
 
 		public string SerializerBaseTypeName {
 			get {
 				return this.baseserializer;
 			}
-
-			set {
-				this.baseserializer = value;
-			}
 		}
 
 		public string SerializerTypeName {
 			get {
 				return this.serializer;
 			}
-			
-			set {
-				serializer = value;
-			}
 		}
 
-		[MonoTODO]
 		public override object TypeId {
-			get { throw new NotImplementedException ();}
-		}
-
-		[MonoTODO]
-		public override int GetHashCode() 
-		{
-			throw new NotImplementedException();
+			get { return string.Concat (this.ToString(), baseserializer);}
 		}
 	}
 }
