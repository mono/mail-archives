<tt>
Hi,&lt;br&gt;&lt;br&gt;Thats&nbsp;a&nbsp;brilliant&nbsp;idea.&nbsp;It&amp;#39;ll&nbsp;be&nbsp;much&nbsp;faster&nbsp;than&nbsp;the&nbsp;current&nbsp;shifting.&lt;br&gt;&lt;br&gt;I&amp;#39;ll&nbsp;test&nbsp;it&nbsp;out&nbsp;now.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;Alan.&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;3/26/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;<br>
Michael&nbsp;Poole&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mdpoole@troilus.org&quot;&gt;mdpoole@troilus.org&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Alan&nbsp;McGovern&nbsp;writes:&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;I&nbsp;was&nbsp;just&nbsp;browsing&nbsp;through&nbsp;the&nbsp;List&amp;lt;T&amp;gt;&nbsp;implementation&nbsp;and&nbsp;made&nbsp;a&nbsp;few&nbsp;speed&lt;br&gt;&amp;gt;&nbsp;optimisations.&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;changing&nbsp;from&nbsp;foreach(blah)&nbsp;to&nbsp;for(int&nbsp;i=0;&nbsp;i&amp;lt;&lt;br&gt;&amp;gt;&nbsp;blah,&nbsp;i++)&nbsp;is&nbsp;ok&nbsp;or&nbsp;not,&nbsp;but&nbsp;it&nbsp;does&nbsp;offer&nbsp;a&nbsp;large&nbsp;speed&nbsp;increase.&nbsp;So&nbsp;let&nbsp;me<br>
&lt;br&gt;&amp;gt;&nbsp;know&nbsp;if&nbsp;that&amp;#39;s&nbsp;ok&nbsp;or&nbsp;not.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Optimised&nbsp;Methods:&lt;br&gt;&amp;gt;&nbsp;RemoveAll&nbsp;-&nbsp;from&nbsp;0x&nbsp;up&nbsp;to&nbsp;50x&nbsp;faster&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;(The&nbsp;reason&nbsp;for&nbsp;the&nbsp;huge&nbsp;speed&nbsp;increase&nbsp;is&nbsp;that&nbsp;if&nbsp;you&nbsp;have&nbsp;a&nbsp;list&amp;lt;int&amp;gt;&lt;br&gt;&amp;gt;&nbsp;containing&nbsp;entirely&nbsp;the&nbsp;number&nbsp;5,&nbsp;removing&nbsp;from&nbsp;the&nbsp;end&nbsp;will&nbsp;be&nbsp;much&nbsp;more<br>
&lt;br&gt;&amp;gt;&nbsp;efficient&nbsp;than&nbsp;removing&nbsp;from&nbsp;the&nbsp;start&nbsp;as&nbsp;you&nbsp;won&amp;#39;t&nbsp;have&nbsp;to&nbsp;shift&nbsp;the&nbsp;entire&lt;br&gt;&amp;gt;&nbsp;array&nbsp;over&nbsp;and&nbsp;over.&nbsp;Removing&nbsp;from&nbsp;the&nbsp;end&nbsp;will&nbsp;*always*&nbsp;be&nbsp;faster&nbsp;than&lt;br&gt;&amp;gt;&nbsp;removing&nbsp;from&nbsp;the&nbsp;start,&nbsp;but&nbsp;the&nbsp;exact&nbsp;speed&nbsp;increase&nbsp;is&nbsp;highly&nbsp;dependant&nbsp;on<br>
&lt;br&gt;&amp;gt;&nbsp;the&nbsp;number&nbsp;of&nbsp;matches).&lt;br&gt;&lt;br&gt;You&nbsp;can&nbsp;avoid&nbsp;any&nbsp;duplicate&nbsp;shifting&nbsp;by&nbsp;keeping&nbsp;one&nbsp;additional&lt;br&gt;variable.&amp;nbsp;&amp;nbsp;I&nbsp;have&nbsp;not&nbsp;looked&nbsp;at&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;class,&nbsp;so&nbsp;this&nbsp;may&nbsp;not&lt;br&gt;be&nbsp;quite&nbsp;right,&nbsp;but&nbsp;should&nbsp;capture&nbsp;the&nbsp;rough&nbsp;idea&nbsp;of&nbsp;always-linear<br>
&lt;br&gt;behavior:&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;int&nbsp;ii,&nbsp;jj;&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;//&nbsp;Scan&nbsp;past&nbsp;the&nbsp;non-matching&nbsp;prefix&nbsp;of&nbsp;the&nbsp;list.&lt;br&gt;&amp;nbsp;&amp;nbsp;for&nbsp;(ii&nbsp;=&nbsp;0;&nbsp;ii&nbsp;&amp;lt;&nbsp;_size;&nbsp;++ii)&lt;br&gt;&amp;nbsp;&amp;nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&nbsp;(match(_items[ii]))&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&lt;br&gt;&amp;nbsp;&amp;nbsp;}&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;//&nbsp;Could&nbsp;optimize&nbsp;away&nbsp;the&nbsp;repeated&nbsp;call&nbsp;to&nbsp;match(_items[ii])&nbsp;here.<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;//&nbsp;The&nbsp;speedup&nbsp;of&nbsp;doing&nbsp;so&nbsp;is&nbsp;questionable.&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;//&nbsp;Do&nbsp;in-place&nbsp;removal&nbsp;for&nbsp;the&nbsp;remaining&nbsp;items.&lt;br&gt;&amp;nbsp;&amp;nbsp;for&nbsp;(jj&nbsp;=&nbsp;ii;&nbsp;ii&nbsp;&amp;lt;&nbsp;_size;&nbsp;++ii)&lt;br&gt;&amp;nbsp;&amp;nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&nbsp;(!match(_items[ii]))&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;_items[jj++]&nbsp;=&nbsp;_items[ii];&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;}&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;//&nbsp;dispose&nbsp;of&nbsp;_items[jj]&nbsp;through&nbsp;_items[_size]&nbsp;here&lt;br&gt;&amp;nbsp;&amp;nbsp;_size&nbsp;=&nbsp;jj;&lt;br&gt;&lt;br&gt;Michael&nbsp;Poole&lt;br&gt;_______________________________________________&lt;br&gt;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;<br>
Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
