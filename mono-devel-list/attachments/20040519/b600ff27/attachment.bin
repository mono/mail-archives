Index: monop.cs
===================================================================
RCS file: /cvs/public/mcs/tools/monop/monop.cs,v
retrieving revision 1.18
diff -u -p -r1.18 monop.cs
--- monop.cs	18 May 2004 20:36:15 -0000	1.18
+++ monop.cs	19 May 2004 19:53:11 -0000
@@ -136,11 +136,19 @@ class MonoP {
 		}
 		
 	}
+
+        static void PrintCorlibRevision ()
+        {
+                Type t = typeof (System.Environment);
+                FieldInfo version = t.GetField ("mono_corlib_version", BindingFlags.Static | BindingFlags.NonPublic); 
+                
+                Console.WriteLine ("The current Mono corlib revision: " + version.GetValue (null));
+        }        
 	
 	static void Main (string [] args)
 	{
 		if (args.Length < 1) {
-			Console.WriteLine ("monop [-c] [-r:Assembly] [class-name]");
+			Console.WriteLine ("monop [-p] [-c] [-r:Assembly] [class-name]");
 			return;
 		}
 		
@@ -155,6 +163,11 @@ class MonoP {
 				PrintTypes (assembly);
 				return;
 			}
+		}
+
+		if (args [0] == "-p") {
+			PrintCorlibRevision ();
+			return;
 		}
 		
 		if (args [0] == "-c") {
Index: ChangeLog
===================================================================
RCS file: /cvs/public/mcs/tools/monop/ChangeLog,v
retrieving revision 1.22
diff -u -p -r1.22 ChangeLog
--- ChangeLog	14 May 2004 22:21:47 -0000	1.22
+++ ChangeLog	19 May 2004 19:53:11 -0000
@@ -1,3 +1,10 @@
+2004-05-19  Duncan Mak  <duncan@ximian.com>
+
+	* monop.cs (Main): Add new "-p" flag, which will print out the
+	corlib revision count.
+	(PrintCorlibRevision): A new method for finding and print out the
+	corlib revision count.
+
 2004-05-14  Carlos Alberto Cortez <carlos@unixmexico.org>
 	* outline.cs: Support for delegates and nested types
 	added.
