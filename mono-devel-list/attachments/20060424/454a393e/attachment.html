<tt>
Hi&nbsp;there,&lt;br&gt;<br>
&lt;br&gt;<br>
Directory.GetParent&nbsp;should&nbsp;return&nbsp;a&nbsp;DirectoryInfo&nbsp;for&nbsp;*both*&nbsp;full&nbsp;path<br>
names&nbsp;and&nbsp;relative&nbsp;path&nbsp;names.&nbsp;(See<br>
&lt;a&nbsp;href=&quot;http://msdn2.microsoft.com/en-us/library/system.io.directory.getparent.aspx&quot;&gt;http://msdn2.microsoft.com/en-us/library/system.io.directory.getparent.aspx&lt;/a&gt;<br>
for&nbsp;microsoft&nbsp;doc).&nbsp;Here's&nbsp;the&nbsp;issue:&nbsp;currently,&nbsp;mono&nbsp;implements<br>
Directory.GetParent&nbsp;using&nbsp;new<br>
DirectoryInfo(Path.GetDirectoryName(path)),&nbsp;but&nbsp;Path.GetDirectoryName<br>
*does&nbsp;not*&nbsp;returns&nbsp;an&nbsp;absolute&nbsp;directory&nbsp;name&nbsp;for&nbsp;a&nbsp;relative&nbsp;path&nbsp;(it<br>
returns&nbsp;the&nbsp;String-based&nbsp;relative&nbsp;path&nbsp;information&nbsp;contained&nbsp;in&nbsp;the<br>
argument).&nbsp;So,&nbsp;when&nbsp;mono&nbsp;calls&nbsp;&amp;quot;new&nbsp;DirectoryInfo(relpath)&amp;quot;&nbsp;for&nbsp;some<br>
relative&nbsp;path,&nbsp;it&nbsp;works&nbsp;UNLESS&nbsp;the&nbsp;Path.GetDirectoryName()&nbsp;has&nbsp;return<br>
String.Emtpy&nbsp;(since&nbsp;this&nbsp;is&nbsp;the&nbsp;required&nbsp;behavior&nbsp;for&nbsp;this&nbsp;function&nbsp;for<br>
a&nbsp;relative&nbsp;path&nbsp;of&nbsp;something&nbsp;in&nbsp;the&nbsp;current&nbsp;directory).&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;fix&nbsp;is&nbsp;to&nbsp;make&nbsp;the&nbsp;ctor&nbsp;for&nbsp;DirectoryInfo&nbsp;reset&nbsp;the&nbsp;argument&nbsp;to<br>
Directory.GetCurrentDirectory()&nbsp;when&nbsp;the&nbsp;argument&nbsp;is&nbsp;String.Emtpy.&nbsp;Diff<br>
is&nbsp;below.&lt;br&gt;<br>
&lt;br&gt;<br>
Emery&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Index:&nbsp;mcs/class/corlib/System.IO/DirectoryInfo.cs&lt;br&gt;<br>
===================================================================&lt;br&gt;<br>
---&nbsp;mcs/class/corlib/System.IO/DirectoryInfo.cs&nbsp;(revision&nbsp;59817)&lt;br&gt;<br>
+++&nbsp;mcs/class/corlib/System.IO/DirectoryInfo.cs&nbsp;(working&nbsp;copy)&lt;br&gt;<br>
@@&nbsp;-51,6&nbsp;+51,9&nbsp;@@&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;public&nbsp;DirectoryInfo&nbsp;(string&nbsp;path)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;<br>
+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
if(path&nbsp;==&nbsp;String.Empty)&lt;br&gt;<br>
+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
path&nbsp;=&nbsp;Directory.GetCurrentDirectory();&lt;br&gt;<br>
+&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
CheckPath&nbsp;(path);&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
FullPath&nbsp;=&nbsp;Path.GetFullPath&nbsp;(path);&lt;br&gt;<br>
&lt;br&gt;--&nbsp;&lt;br&gt;Emery&nbsp;Conrad&lt;br&gt;Department&nbsp;of&nbsp;Mathematics&lt;br&gt;Virginia&nbsp;Tech&lt;br&gt;5076&nbsp;Derring&nbsp;Hall&lt;br&gt;Blacksburg,&nbsp;VA&nbsp;24061-0406&lt;br&gt;(540)&nbsp;231-3324<br>

</tt>
