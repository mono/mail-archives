Index: driver.cs
===================================================================
RCS file: /cvs/public/mcs/tools/gacutil/driver.cs,v
retrieving revision 1.15
diff -u -p -r1.15 driver.cs
--- driver.cs	28 Jul 2004 14:46:43 -0000	1.15
+++ driver.cs	8 Nov 2004 16:28:56 -0000
@@ -264,11 +264,14 @@ namespace Mono.Tools {
 					WriteLine ("ERROR: Could not create package dir file.");
 					Environment.Exit (1);
 				}
-				Symlink (Path.Combine (link_path, asmb_file), ref_path);
+				if (Path.DirectorySeparatorChar == '/') {
+					symlink ("../gac/" + an.Name + "/" + version_token + "/" + asmb_file, ref_path);
+				} else {
+					File.Copy (Path.Combine (link_path, asmb_file), ref_path);
+				}
 
 				WriteLine ("Package exported to: " + ref_path + " -> " +
 						Path.Combine (link_path, asmb_file));
-
 			}
 
 			WriteLine ("{0} installed into the gac ({1})", an.Name, gacdir);
@@ -552,14 +555,6 @@ namespace Mono.Tools {
 				break;
 			}
 			return c;	 
-		}
-
-		private static void Symlink (string oldpath, string newpath) {
-			if (Path.DirectorySeparatorChar == '/') {
-				symlink (oldpath, newpath);
-			} else {
-				File.Copy (oldpath, newpath);
-			}
 		}
 
 		[DllImport ("libc", SetLastError=true)]
