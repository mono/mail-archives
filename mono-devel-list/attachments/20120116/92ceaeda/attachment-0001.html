<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hi&nbsp;!&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;have&nbsp;my&nbsp;ASP.NET&nbsp;MVC3&nbsp;Razor&nbsp;WebApplication&nbsp;running&nbsp;on&nbsp;a&nbsp;Linux<br>
&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;with&nbsp;nginx&nbsp;via&nbsp;fastcgi-mono-server4.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;So&nbsp;far&nbsp;everything&nbsp;works&nbsp;fine.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;But&nbsp;I&nbsp;have&nbsp;a&nbsp;question:&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;I&nbsp;start&nbsp;up&nbsp;fastcgi-mono&nbsp;server,&nbsp;I&nbsp;need&nbsp;this&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;fastcgi-mono-server4<br>
&nbsp;&nbsp;&nbsp;&nbsp;/applications=www.domain1.xyz:/:/var/www/www.domain1.xyz/<br>
&nbsp;&nbsp;&nbsp;&nbsp;/socket=tcp:127.0.0.1:9000&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;have&nbsp;the&nbsp;application&nbsp;in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/var/www/www.domain1.xyz&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;serve&nbsp;&quot;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;http://www.domain1.xyz&quot;&gt;www.domain1.xyz&lt;/a&gt;&quot;.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Now,&nbsp;if&nbsp;I&nbsp;also&nbsp;want&nbsp;to&nbsp;serve&nbsp;&quot;domain1.xyz&quot;&nbsp;(without&nbsp;www),&nbsp;I&nbsp;need&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;also&nbsp;add&nbsp;&quot;domain1.xyz&quot;&nbsp;pointing&nbsp;to&nbsp;the&nbsp;same&nbsp;directory.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Like&nbsp;this:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;fastcgi-mono-server4<br>
&nbsp;&nbsp;&nbsp;&nbsp;/applications=www.domain1.xyz:/:/var/www/www.domain1.xyz/,domain1.xyz:/:/var/www/www.domain1.xyz/<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;/socket=tcp:127.0.0.1:9000&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;also&nbsp;works&nbsp;fine.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;But&nbsp;my&nbsp;application&nbsp;is&nbsp;a&nbsp;chat&nbsp;application,&nbsp;so&nbsp;it&nbsp;stores&nbsp;all&nbsp;submitted<br>
&nbsp;&nbsp;&nbsp;&nbsp;messages&nbsp;in&nbsp;global.asax,&nbsp;so&nbsp;that&nbsp;they&nbsp;can&nbsp;be&nbsp;submitted&nbsp;to&nbsp;every<br>
&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;user.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;works&nbsp;fine,&nbsp;as&nbsp;long&nbsp;as&nbsp;all&nbsp;users&nbsp;are&nbsp;on&nbsp;the&nbsp;same&nbsp;domain<br>
&nbsp;&nbsp;&nbsp;&nbsp;(&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;http://www.domain.xyz&quot;&gt;www.domain.xyz&lt;/a&gt;&nbsp;XOR&nbsp;domain.xyz).&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;But&nbsp;all&nbsp;users&nbsp;visiting&nbsp;domain1.xyz&nbsp;should&nbsp;also&nbsp;see&nbsp;what&nbsp;users&nbsp;on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;http://www.domain1.xyz&quot;&gt;www.domain1.xyz&lt;/a&gt;&nbsp;wrote,&nbsp;and&nbsp;vice-versa&nbsp;(&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;http://www.domain.xyz&quot;&gt;www.domain.xyz&lt;/a&gt;&nbsp;OR<br>
&nbsp;&nbsp;&nbsp;&nbsp;domain.xyz).&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;However,&nbsp;this&nbsp;is&nbsp;not&nbsp;possible,&nbsp;because&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;http://www.domain1.xyz&quot;&gt;www.domain1.xyz&lt;/a&gt;&nbsp;runs&nbsp;in&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;separate&nbsp;process&nbsp;from&nbsp;domain1.xyz.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;How&nbsp;can&nbsp;I&nbsp;make&nbsp;two&nbsp;different&nbsp;virtual&nbsp;hosts&nbsp;use&nbsp;the&nbsp;same&nbsp;application<br>
&nbsp;&nbsp;&nbsp;&nbsp;(only&nbsp;one&nbsp;instance)&nbsp;?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;the&nbsp;question&nbsp;isn't&nbsp;that&nbsp;much&nbsp;about&nbsp;that&nbsp;chat&nbsp;application.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;used&nbsp;it&nbsp;simply&nbsp;to&nbsp;check&nbsp;the&nbsp;fastcgi-behaviour&nbsp;for&nbsp;multiple&nbsp;domains<br>
&nbsp;&nbsp;&nbsp;&nbsp;per&nbsp;application.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;the&nbsp;chat&nbsp;application,&nbsp;I&nbsp;could&nbsp;solve&nbsp;this&nbsp;by&nbsp;simply&nbsp;redirecting<br>
&nbsp;&nbsp;&nbsp;&nbsp;every&nbsp;request&nbsp;for&nbsp;domain.xyz&nbsp;to&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;http://www.domain.xyz&quot;&gt;www.domain.xyz&lt;/a&gt;.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;But&nbsp;I&nbsp;am&nbsp;writing&nbsp;a&nbsp;wiki&nbsp;application&nbsp;that&nbsp;works&nbsp;similar&nbsp;to&nbsp;blogspot:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;CUSTOMSUBDOMAIN.blogspot.com&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;And&nbsp;then&nbsp;display&nbsp;the&nbsp;content&nbsp;for&nbsp;every&nbsp;CUSTOMSUBDOMAIN&nbsp;in&nbsp;ONE<br>
&nbsp;&nbsp;&nbsp;&nbsp;application,&nbsp;by&nbsp;switching&nbsp;data-retrival&nbsp;&amp;&nbsp;presentation&nbsp;according<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;the&nbsp;server-variable&nbsp;&quot;host&quot;&nbsp;in&nbsp;the&nbsp;web-application.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;How&nbsp;can&nbsp;I&nbsp;have&nbsp;fastcgi&nbsp;use&nbsp;the&nbsp;same&nbsp;application&nbsp;for&nbsp;all&nbsp;those<br>
&nbsp;&nbsp;&nbsp;&nbsp;subdomains&nbsp;?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;thought&nbsp;before&nbsp;I&nbsp;start&nbsp;wasting&nbsp;time&nbsp;by&nbsp;hacking&nbsp;and&nbsp;raping&nbsp;the&nbsp;code<br>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;Mono.WebServer&nbsp;and&nbsp;Mono.WebServer.FastCgi,&nbsp;it&nbsp;would&nbsp;be&nbsp;a&nbsp;good<br>
&nbsp;&nbsp;&nbsp;&nbsp;idea&nbsp;to&nbsp;first&nbsp;ask&nbsp;whether&nbsp;this&nbsp;isn't&nbsp;already&nbsp;possible.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
