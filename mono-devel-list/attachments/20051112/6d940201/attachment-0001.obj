Index: List.cs
===================================================================
--- List.cs	(revision 52947)
+++ List.cs	(working copy)
@@ -6,6 +6,7 @@
 //    Martin Baulig (martin@ximian.com)
 //    Carlos Alberto Cortez (calberto.cortez@gmail.com)
 //    David Waite (mass@akuma.org)
+//    Laurent Debacker (debackerl AT gmail com)
 //
 // (C) 2004 Novell, Inc.
 // (C) 2005 David Waite
@@ -174,8 +175,7 @@
 			if (converter == null)
 				throw new ArgumentNullException ("converter");
 			List <TOutput> u = new List <TOutput> (size);
-			foreach (T t in this)
-				u.Add (converter (t));
+			this.ForEach( delegate(T t) { u.Add (converter (t)); } );
 			return u;
 		}
 		
@@ -219,9 +219,7 @@
 			CheckMatch (match);
 			List <T> f = new List <T> ();
 			
-			foreach (T t in this)
-				if (match (t))
-					f.Add (t);
+			this.ForEach( delegate(T t) { if (match (t)) f.Add (t); } );
 			
 			return f;
 		}
@@ -294,8 +292,12 @@
 		{
 			if (action == null)
 				throw new ArgumentNullException ("action");
-			foreach (T t in this)
-				action (t);
+			
+			for(int idx = 0 ; idx < size ; ++idx)
+			{
+				// MSFT does not seem to check version of the List
+				action(data[idx]);
+			}
 		}
 		
 		public Enumerator GetEnumerator ()
@@ -490,7 +492,7 @@
 		public bool TrueForAll (Predicate <T> match)
 		{
 			CheckMatch (match);
-
+			
 			foreach (T t in this)
 				if (!match (t))
 					return false;
@@ -593,12 +595,9 @@
 #endregion
 				
 		public struct Enumerator : IEnumerator <T>, IDisposable {
-			const int NOT_STARTED = -2;
+			const int NOT_STARTED = -1;
+			const int FINISHED = -2;
 			
-			// this MUST be -1, because we depend on it in move next.
-			// we just decr the size, so, 0 - 1 == FINISHED
-			const int FINISHED = -1;
-			
 			List <T> l;
 			int idx;
 			int ver;
@@ -623,10 +622,10 @@
 				if (ver != l.version)
 					throw new InvalidOperationException ();
 				
-				if (idx == NOT_STARTED)
-					idx = l.size;
+				if (idx == FINISHED || ++idx == l.size)
+					idx = FINISHED;
 				
-				return idx != FINISHED && -- idx != FINISHED;
+				return idx != FINISHED;
 			}
 			
 			public T Current {
@@ -634,7 +633,7 @@
 					if (idx < 0)
 						throw new InvalidOperationException ();
 					
-					return l.data [l.size - 1 - idx];
+					return l.data [idx];
 				}
 			}
 			






