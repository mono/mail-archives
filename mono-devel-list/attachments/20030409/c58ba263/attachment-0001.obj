Index: AppDomain.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/System/AppDomain.cs,v
retrieving revision 1.39
diff -u -r1.39 AppDomain.cs
--- AppDomain.cs	2 Apr 2003 01:43:58 -0000	1.39
+++ AppDomain.cs	9 Apr 2003 20:44:32 -0000
@@ -34,6 +34,7 @@
 	public sealed class AppDomain : MarshalByRefObject , _AppDomain , IEvidenceFactory {
 
 		IntPtr _mono_app_domain;
+		static string _process_guid;
 
 		// Evidence evidence;
 
@@ -552,6 +553,17 @@
 		// Returns the current context
 		[MethodImplAttribute (MethodImplOptions.InternalCall)]
 		internal static extern Context InternalGetDefaultContext ();
+
+		[MethodImplAttribute (MethodImplOptions.InternalCall)]
+		internal static extern string InternalGetProcessGuid (string newguid);
+
+		internal static String GetProcessGuid ()
+		{
+			if (_process_guid == null) {
+				_process_guid = InternalGetProcessGuid (Guid.NewGuid().ToString ());
+			}
+			return _process_guid;
+		}
 
 		public static AppDomain CreateDomain (string friendlyName)
 		{
