Index: runtime/Makefile.am
===================================================================
RCS file: /mono/mono/runtime/Makefile.am,v
retrieving revision 1.29
diff -p -u -b -r1.29 Makefile.am
--- runtime/Makefile.am	23 Jul 2003 01:28:50 -0000	1.29
+++ runtime/Makefile.am	31 Jul 2003 15:20:34 -0000
@@ -57,15 +57,15 @@ assembliesdir = $(libdir)
 monobinsdir = $(bindir)
 
 $(assemblies_DATA):
-	-cp $(top_srcdir)/../mcs/class/lib/$@ . || cp $(assembliesdir)/$@ . 
+	-cp $(top_srcdir)/../mcs/class/lib/$@ $(srcdir) || cp $(assembliesdir)/$@ $(srcdir)
 
 $(monobins_DATA):
-	-cp $(top_srcdir)/../mcs/mcs/mcs.exe . || cp $(monobinsdir)/mcs.exe . 
-	-cp $(top_srcdir)/../mcs/mbas/mbas.exe . || cp $(monobinsdir)/mbas.exe .
-	-cp $(top_srcdir)/../mcs/tools/security/secutil.exe . || cp $(monobinsdir)/secutil.exe . 
-	-cp $(top_srcdir)/../mcs/monoresgen/monoresgen.exe . || cp $(monobinsdir)/monoresgen.exe . 
-	-cp $(top_srcdir)/../mcs/ilasm/ilasm.exe . || cp $(monobinsdir)/ilasm.exe .
-	-cp $(top_srcdir)/../mcs/tools/cilc/cilc.exe . || cp $(monobinsdir)/cilc.exe .
+	-cp $(top_srcdir)/../mcs/mcs/mcs.exe $(srcdir) || cp $(monobinsdir)/mcs.exe $(srcdir)
+	-cp $(top_srcdir)/../mcs/mbas/mbas.exe $(srcdir) || cp $(monobinsdir)/mbas.exe $(srcdir)
+	-cp $(top_srcdir)/../mcs/tools/security/secutil.exe $(srcdir) || cp $(monobinsdir)/secutil.exe $(srcdir)
+	-cp $(top_srcdir)/../mcs/monoresgen/monoresgen.exe $(srcdir) || cp $(monobinsdir)/monoresgen.exe $(srcdir)
+	-cp $(top_srcdir)/../mcs/ilasm/ilasm.exe $(srcdir) || cp $(monobinsdir)/ilasm.exe $(srcdir)
+	-cp $(top_srcdir)/../mcs/tools/cilc/cilc.exe $(srcdir) || cp $(monobinsdir)/cilc.exe $(srcdir)
 
 dist-hook:
 	for i in $(monobins_DATA) $(assemblies_DATA); do	\
@@ -73,7 +73,7 @@ dist-hook:
 	done
 
 copy_dlls:
-	cp /nt/mono/mcs/class/*/*.dll .
+	cp /nt/mono/mcs/class/*/*.dll $(srcdir)
 
 push_dlls:
-	scp -o "Protocol 1" *.dll *.exe snapshot@mono-cvs.ximian.com:dlls
+	scp -o "Protocol 1" $(srcdir)/*.dll $(srcdir)/*.exe snapshot@mono-cvs.ximian.com:dlls
