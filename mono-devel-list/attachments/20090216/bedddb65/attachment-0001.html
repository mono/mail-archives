<tt>
Hi&nbsp;Scott,&nbsp;your&nbsp;patch&nbsp;now&nbsp;is&nbsp;now&nbsp;pretty&nbsp;close&nbsp;to&nbsp;been&nbsp;ok,&nbsp;only&nbsp;a&nbsp;few&nbsp;remaining&nbsp;details&nbsp;are&nbsp;left.&lt;br&gt;&lt;br&gt;@@&nbsp;-2128,6&nbsp;+2129,36&nbsp;@@&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;(key-&amp;gt;interface_id&nbsp;-&nbsp;element-&amp;gt;interface_id);&lt;br&gt;&amp;nbsp;}&lt;br&gt;&amp;nbsp;&lt;br&gt;+static&nbsp;gboolean&lt;br&gt;<br>
+mono_class_is_variant_of&nbsp;(MonoClass&nbsp;*klass,&nbsp;MonoClass&nbsp;*vklass)&nbsp;{&lt;br&gt;&lt;br&gt;This&nbsp;function&nbsp;takes&nbsp;arguments&nbsp;in&nbsp;the&nbsp;opposite&nbsp;order&nbsp;of&nbsp;mono_class_is_assignable_from.&lt;br&gt;I&nbsp;notices&nbsp;now&nbsp;while&nbsp;reviewing&nbsp;the&nbsp;details&nbsp;of&nbsp;the&nbsp;check.&nbsp;It&amp;#39;s&nbsp;better&nbsp;keep&nbsp;the&nbsp;same&nbsp;ordering&lt;br&gt;<br>
of&nbsp;(target,&nbsp;source)&nbsp;for&nbsp;type&nbsp;query&nbsp;like&nbsp;functions&nbsp;[1].&lt;br&gt;&lt;br&gt;&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(container-&amp;gt;type_params&nbsp;[i].flags&nbsp;&amp;amp;&nbsp;GENERIC_PARAMETER_ATTRIBUTE_VARIANCE_MASK)&nbsp;{&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;((container-&amp;gt;type_params&nbsp;[i].flags&nbsp;&amp;amp;&nbsp;GENERIC_PARAMETER_ATTRIBUTE_CONTRAVARIANT)&nbsp;&amp;amp;&amp;amp;&nbsp;!mono_class_is_assignable_from&nbsp;(param_class,&nbsp;vparam_class))&lt;br&gt;<br>
+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;FALSE;&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;((container-&amp;gt;type_params&nbsp;[i].flags&nbsp;&amp;amp;&nbsp;GENERIC_PARAMETER_ATTRIBUTE_COVARIANT)&nbsp;&amp;amp;&amp;amp;&nbsp;!mono_class_is_assignable_from&nbsp;(vparam_class,&nbsp;param_class))&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;FALSE;&lt;br&gt;<br>
+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(param_class&nbsp;!=&nbsp;vparam_class)&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;FALSE;&lt;br&gt;&lt;br&gt;Good&nbsp;call&nbsp;to&nbsp;change&nbsp;from&nbsp;the&nbsp;broken&nbsp;named&nbsp;we&nbsp;had&nbsp;internally&nbsp;to&nbsp;something&nbsp;readable.&lt;br&gt;&lt;br&gt;&lt;br&gt;+++&nbsp;mono/mini/ChangeLog&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;(working&nbsp;copy)&lt;br&gt;<br>
@@&nbsp;-1,3&nbsp;+1,13&nbsp;@@&lt;br&gt;+2009-02-13&amp;nbsp;&nbsp;Scott&nbsp;Peterson&amp;nbsp;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:lunchtimemama@gmail.com&quot;&gt;lunchtimemama@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;+&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Contributed&nbsp;under&nbsp;the&nbsp;MIT/X11&nbsp;license.&lt;br&gt;+&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;mini-trampolines.cs:&nbsp;Use&nbsp;the&lt;br&gt;<br>
+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;new&nbsp;mono_class_interface_offset_with_variance&nbsp;method&nbsp;to&nbsp;find&nbsp;interface&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;offsets.&lt;br&gt;&lt;br&gt;It&amp;#39;s&nbsp;better&nbsp;to&nbsp;error&nbsp;on&nbsp;the&nbsp;side&nbsp;of&nbsp;been&nbsp;to&nbsp;verbose&nbsp;than&nbsp;the&nbsp;opposite&nbsp;when&nbsp;witting&lt;br&gt;changelog&nbsp;entries.&nbsp;Please&nbsp;mention&nbsp;that&nbsp;this&nbsp;change&nbsp;is&nbsp;required&nbsp;because&nbsp;callsites&lt;br&gt;<br>
of&nbsp;variant&nbsp;interfaces&nbsp;may&nbsp;do&nbsp;through&nbsp;a&nbsp;different&nbsp;interface&nbsp;than&nbsp;the&nbsp;one&nbsp;the&nbsp;target&nbsp;&lt;br&gt;implements&nbsp;but&nbsp;due&nbsp;to&nbsp;variance&nbsp;it&amp;#39;s&nbsp;valid.&lt;br&gt;&lt;br&gt;Oh,&nbsp;and&nbsp;you&nbsp;mention&nbsp;the&nbsp;wrong&nbsp;file&nbsp;name&nbsp;;)&lt;br&gt;&lt;br&gt;&lt;br&gt;+2009-02-13&amp;nbsp;&nbsp;Scott&nbsp;Peterson&amp;nbsp;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:lunchtimemama@gmail.com&quot;&gt;lunchtimemama@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
+&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;This&nbsp;adds&nbsp;runtime&nbsp;generic&nbsp;variance&nbsp;support&nbsp;for&nbsp;reference&nbsp;types.&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;This&nbsp;patch&nbsp;is&nbsp;contributed&nbsp;under&nbsp;the&nbsp;MIT/X11&nbsp;license.&lt;br&gt;+&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;class.c:&nbsp;Added&nbsp;mono_class_has_variant_generic_params&nbsp;which&nbsp;determins&lt;br&gt;<br>
+&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;a&nbsp;generic&nbsp;class&nbsp;has&nbsp;a&nbsp;variant&nbsp;type&nbsp;parameter.&lt;br&gt;&lt;br&gt;mono_class_has_variant_generic_params&nbsp;is&nbsp;already&nbsp;there.&lt;br&gt;&lt;br&gt;&lt;br&gt;Besides&nbsp;this&nbsp;minor&nbsp;issues,&nbsp;your&nbsp;patch&nbsp;looks&nbsp;great.&nbsp;Thanks&nbsp;for&nbsp;contributing&nbsp;to&nbsp;mono.&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>
Cheers,&lt;br&gt;Rodrigo&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;[1]&nbsp;It&amp;#39;s&nbsp;easier&nbsp;to&nbsp;read&nbsp;F(A,B)&nbsp;a&nbsp;a&nbsp;test&nbsp;for&nbsp;the&nbsp;A&nbsp;=?&nbsp;B&nbsp;relation,&nbsp;where&nbsp;=?&nbsp;could&nbsp;be&nbsp;things&nbsp;like&lt;br&gt;type&nbsp;assignable&nbsp;or&nbsp;generics&nbsp;variance&nbsp;assignable.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Fri,&nbsp;Feb&nbsp;13,&nbsp;2009&nbsp;at&nbsp;1:07&nbsp;AM,&nbsp;Scott&nbsp;Peterson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:lunchtimemama@gmail.com&quot;&gt;lunchtimemama@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
This&nbsp;patch&nbsp;syncs&nbsp;with&nbsp;SVN.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
