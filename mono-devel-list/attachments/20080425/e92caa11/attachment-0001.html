<tt>
On&nbsp;Fri,&nbsp;Apr&nbsp;25,&nbsp;2008&nbsp;at&nbsp;10:30&nbsp;AM,&nbsp;Atsushi&nbsp;Eno&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:atsushi@ximian.com&quot;&gt;atsushi@ximian.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Oops,&nbsp;sorrry,&nbsp;I&nbsp;was&nbsp;dead&nbsp;for&nbsp;couple&nbsp;of&nbsp;days&nbsp;and&nbsp;after&nbsp;that&nbsp;it&nbsp;has&nbsp;dropped&lt;br&gt;<br>
from&nbsp;my&nbsp;mind&nbsp;for&nbsp;a&nbsp;while.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;No&nbsp;problem,&nbsp;thanks&nbsp;for&nbsp;responding.&lt;br&gt;&amp;nbsp;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
Here&amp;#39;s&nbsp;my&nbsp;quick&nbsp;survey:&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;You&nbsp;cannot&nbsp;add&nbsp;any&nbsp;public&nbsp;extra&nbsp;stuff&nbsp;(such&nbsp;as&nbsp;Mono.Messaging.*&nbsp;classes)&lt;br&gt;<br>
&amp;nbsp;in&nbsp;System.Messaging.dll.&nbsp;You&nbsp;have&nbsp;to&nbsp;create&nbsp;another&nbsp;assembly&nbsp;(such&nbsp;as&lt;br&gt;<br>
&amp;nbsp;Mono.Messaging.dll)&nbsp;and&nbsp;use&nbsp;it&nbsp;together&nbsp;with&nbsp;System.Messaging.dll.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;That&amp;#39;s&nbsp;interesting,&nbsp;I&nbsp;looked&nbsp;at&nbsp;System.Data&nbsp;initially,&nbsp;which&nbsp;included&nbsp;Mainsoft&nbsp;namespace&nbsp;classes,&nbsp;so&nbsp;I&nbsp;thought&nbsp;adding&nbsp;a&nbsp;different&nbsp;namespace&nbsp;into&nbsp;the&nbsp;same&nbsp;namespace&nbsp;would&nbsp;be&nbsp;okay.&amp;nbsp;&nbsp;I&nbsp;am&nbsp;happy&nbsp;to&nbsp;change&nbsp;that.&lt;br&gt;<br>
&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&amp;nbsp;<br>
It&nbsp;is&nbsp;sort&nbsp;of&nbsp;mess,&nbsp;as&nbsp;either&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;-&nbsp;System.Messaging.dll&nbsp;depends&nbsp;on&nbsp;your&nbsp;extra&nbsp;assembly&nbsp;and&nbsp;hence&nbsp;yours&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;cannot&nbsp;use&nbsp;any&nbsp;types&nbsp;in&nbsp;System.Messaging.dll&nbsp;(e.g.&nbsp;you&nbsp;cannot&nbsp;define&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;IQueue.Deliver),&nbsp;or&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;This&nbsp;is&nbsp;probably&nbsp;the&nbsp;easiest,&nbsp;but&nbsp;is&nbsp;adding&nbsp;a&nbsp;compile&nbsp;time&nbsp;dependency&nbsp;for&nbsp;System.Messaging.dll&nbsp;on&nbsp;another&nbsp;assembly&nbsp;acceptable?&amp;nbsp;&nbsp;I&nbsp;assume&nbsp;we&nbsp;shouldn&amp;#39;t&nbsp;be&nbsp;adding&nbsp;additional&nbsp;public&nbsp;classes&nbsp;to&nbsp;the&nbsp;System.*&nbsp;namespaces.&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&amp;nbsp;<br>
-&nbsp;your&nbsp;extra&nbsp;assembly&nbsp;depends&nbsp;on&nbsp;System.Messaging.dll&nbsp;and&nbsp;hence&nbsp;any&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;types&nbsp;in&nbsp;yours&nbsp;inside&nbsp;System.Messaging.dll&nbsp;must&nbsp;be&nbsp;used&nbsp;through&nbsp;some&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;reflection&nbsp;foo,&nbsp;or&lt;br&gt;<br>
&amp;nbsp;-&nbsp;you&nbsp;have&nbsp;to&nbsp;run&nbsp;cyclic&nbsp;build&nbsp;between&nbsp;those&nbsp;two&nbsp;assemblies&nbsp;(we&nbsp;do&nbsp;it&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;for&nbsp;System.dll,&nbsp;System.Configuration.dll&nbsp;and&nbsp;System.Xml.dll,&nbsp;which&nbsp;is&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;a&nbsp;mess).&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;At&nbsp;least&nbsp;MessageQueue.Create()&nbsp;should&nbsp;be&nbsp;implemented&nbsp;(otherwise&nbsp;it&nbsp;is&nbsp;not&lt;br&gt;<br>
&amp;nbsp;practically&nbsp;functional&nbsp;as&nbsp;System.Messaging.dll).&nbsp;It&nbsp;would&nbsp;have&nbsp;to&nbsp;be&nbsp;done&lt;br&gt;<br>
&amp;nbsp;by&nbsp;some&nbsp;configuration&nbsp;support&nbsp;to&nbsp;indicate&nbsp;one&nbsp;IMessagingProvider,&nbsp;and&nbsp;it&lt;br&gt;<br>
&amp;nbsp;must&nbsp;not&nbsp;be&nbsp;dependent&nbsp;on&nbsp;System.Configuration.dll&nbsp;which&nbsp;is&nbsp;2.0-only.&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;It&nbsp;would&nbsp;provide&nbsp;only&nbsp;simple&nbsp;part&nbsp;of&nbsp;Sys.Messaging&nbsp;functionality&nbsp;(it&nbsp;would&lt;br&gt;<br>
&amp;nbsp;apply&nbsp;to&nbsp;any&nbsp;JMS/AMQP&nbsp;based&nbsp;solution).&nbsp;We&nbsp;could&nbsp;still&nbsp;go&nbsp;with&nbsp;your&lt;br&gt;<br>
&amp;nbsp;bridge&nbsp;implementation&nbsp;for&nbsp;a&nbsp;while&nbsp;as&nbsp;a&nbsp;compromised&nbsp;solution&nbsp;though.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;That&amp;#39;s&nbsp;true,&nbsp;however&nbsp;the&nbsp;AMQP&nbsp;spec&nbsp;is&nbsp;not&nbsp;yet&nbsp;finished.&amp;nbsp;&nbsp;I&nbsp;believe&nbsp;that&nbsp;there&nbsp;will&nbsp;be&nbsp;browsing&nbsp;and&nbsp;selector&nbsp;support&nbsp;in&nbsp;some&nbsp;of&nbsp;the&nbsp;later&nbsp;revisions.&amp;nbsp;&nbsp;This&nbsp;will&nbsp;mean&nbsp;that&nbsp;the&nbsp;majority&nbsp;of&nbsp;the&nbsp;System.Messaging&nbsp;functionality&nbsp;is&nbsp;covered&nbsp;(including&nbsp;MessageQueue.Peek&nbsp;and&nbsp;MessageQueue.ReceiveById).&amp;nbsp;&nbsp;The&nbsp;parts&nbsp;that&nbsp;probably&nbsp;won&amp;#39;t&nbsp;be&nbsp;covered&nbsp;would&nbsp;be&nbsp;some&nbsp;of&nbsp;the&nbsp;specifics&nbsp;around&nbsp;the&nbsp;additional&nbsp;system&nbsp;queues&nbsp;(e.g.&nbsp;journal&nbsp;queues).&amp;nbsp;&nbsp;Although&nbsp;AMQP&nbsp;does&nbsp;support&nbsp;sophisticated&nbsp;routing&nbsp;rules&nbsp;so&nbsp;it&nbsp;may&nbsp;be&nbsp;possible&nbsp;to&nbsp;emulate&nbsp;some&nbsp;of&nbsp;those&nbsp;features.&lt;br&gt;<br>
&lt;br&gt;I&nbsp;was&nbsp;hoping&nbsp;by&nbsp;adding&nbsp;a&nbsp;provider&nbsp;layer,&nbsp;other&nbsp;implementations&nbsp;could&nbsp;be&nbsp;added&nbsp;later,&nbsp;e.g.&nbsp;OpenWire&nbsp;for&nbsp;ActiveMQ&nbsp;or&nbsp;something&nbsp;Mono&nbsp;specific.&lt;br&gt;&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
And&nbsp;as&nbsp;Miguel&nbsp;pointed&nbsp;out,&nbsp;we&nbsp;would&nbsp;have&nbsp;to&nbsp;avoid&nbsp;your&nbsp;GPLv3-based&nbsp;component&lt;br&gt;<br>
as&nbsp;run-time&nbsp;dependency.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;I&nbsp;didn&amp;#39;t&nbsp;see&nbsp;Miguel&amp;#39;s&nbsp;message,&nbsp;but&nbsp;that&nbsp;is&nbsp;my&nbsp;mistake,&nbsp;it&nbsp;shouldn&amp;#39;t&nbsp;of&nbsp;been&nbsp;v3.&amp;nbsp;&nbsp;Is&nbsp;LGPL&nbsp;okay&nbsp;or&nbsp;would&nbsp;MIT&nbsp;be&nbsp;easiest&nbsp;for&nbsp;Mono?&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
I&nbsp;have&nbsp;some&nbsp;comments&nbsp;on&nbsp;the&nbsp;patch&nbsp;details,&nbsp;but&nbsp;I&amp;#39;d&nbsp;put&nbsp;my&nbsp;general&nbsp;survey&nbsp;first&nbsp;:)&lt;br&gt;<br>
&lt;br&gt;<br>
Atsushi&nbsp;Eno&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Unfortunately&nbsp;my&nbsp;timing&nbsp;here&nbsp;is&nbsp;not&nbsp;the&nbsp;best.&amp;nbsp;&nbsp;I&nbsp;am&nbsp;about&nbsp;to&nbsp;head&nbsp;off&nbsp;travelling&nbsp;for&nbsp;about&nbsp;4&nbsp;months,&nbsp;so&nbsp;I&nbsp;won&amp;#39;t&nbsp;be&nbsp;able&nbsp;to&nbsp;make&nbsp;any&nbsp;major&nbsp;changes&nbsp;until&nbsp;September.&amp;nbsp;&nbsp;I&amp;#39;ll&nbsp;fix&nbsp;the&nbsp;license&nbsp;and&nbsp;add&nbsp;MessageQueue.Create&nbsp;support&nbsp;before&nbsp;I&nbsp;go.&amp;nbsp;&nbsp;I&nbsp;still&nbsp;want&nbsp;to&nbsp;help&nbsp;build&nbsp;a&nbsp;System.Messaging&nbsp;implemenation&nbsp;so&nbsp;I&nbsp;would&nbsp;be&nbsp;happy&nbsp;to&nbsp;receive&nbsp;any&nbsp;feedback&nbsp;you&nbsp;have&nbsp;in&nbsp;order&nbsp;to&nbsp;build&nbsp;something&nbsp;that&nbsp;will&nbsp;be&nbsp;useful&nbsp;for&nbsp;Mono.&amp;nbsp;&nbsp;System.Messaging&nbsp;hasn&amp;#39;t&nbsp;been&nbsp;touched&nbsp;a&nbsp;few&nbsp;years,&nbsp;so&nbsp;a&nbsp;few&nbsp;more&nbsp;months&nbsp;shouldn&amp;#39;t&nbsp;hurt&nbsp;:-).&lt;br&gt;<br>
&lt;br&gt;Regards,&lt;br&gt;Michael&nbsp;Barker.&lt;br&gt;&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Michael&nbsp;Barker&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
As&nbsp;I&nbsp;mentioned&nbsp;a&nbsp;couple&nbsp;of&nbsp;days&nbsp;ago&nbsp;I&nbsp;have&nbsp;a&nbsp;0.0.1&nbsp;version&nbsp;of&nbsp;a&nbsp;bridge&nbsp;between&nbsp;Mono&nbsp;and&nbsp;QPid.&nbsp;&amp;nbsp;I&nbsp;have&nbsp;placed&nbsp;the&nbsp;code&nbsp;and&nbsp;a&nbsp;patch&nbsp;that&nbsp;adds&nbsp;an&nbsp;SPI&nbsp;to&nbsp;Mono&nbsp;on&nbsp;google&nbsp;code.&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;http://code.google.com/p/mono-qpid/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://code.google.com/p/mono-qpid/&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
There&nbsp;is&nbsp;quite&nbsp;a&nbsp;bit&nbsp;missing&nbsp;from&nbsp;the&nbsp;implementation,&nbsp;but&nbsp;basic&nbsp;sending&nbsp;and&nbsp;receiving&nbsp;with&nbsp;XML&nbsp;and&nbsp;Binary&nbsp;formatting&nbsp;works.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Michael&nbsp;Barker.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
