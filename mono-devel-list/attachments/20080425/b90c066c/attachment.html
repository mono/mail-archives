<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/3.18.0&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
Hi,&nbsp;everibody&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Since&nbsp;about&nbsp;a&nbsp;week,&nbsp;my&nbsp;SMTP&nbsp;Server&nbsp;(which&nbsp;is&nbsp;in&nbsp;C#/mono)&nbsp;crashes&nbsp;about&nbsp;1&nbsp;time&nbsp;/day...&lt;BR&gt;<br>
It's&nbsp;a&nbsp;multithreaded&nbsp;program&nbsp;that&nbsp;work&nbsp;on&nbsp;an&nbsp;RHEL4&nbsp;server&nbsp;with&nbsp;3&nbsp;double-core&nbsp;processor&nbsp;and&nbsp;16Gio&nbsp;RAM.&lt;BR&gt;<br>
The&nbsp;segfaults&nbsp;appears&nbsp;randomly...&nbsp;and&nbsp;i&nbsp;cannot&nbsp;reproduce&nbsp;the&nbsp;bug&nbsp;on&nbsp;my&nbsp;devs&nbsp;and&nbsp;beta&nbsp;machine.&nbsp;My&nbsp;program&nbsp;doesn't&nbsp;call&nbsp;any&nbsp;C&nbsp;library,&nbsp;so&nbsp;the&nbsp;crash&nbsp;seems&nbsp;to&nbsp;be&nbsp;on&nbsp;mono&nbsp;itself&lt;BR&gt;<br>
&lt;BR&gt;<br>
I'm&nbsp;running&nbsp;mono&nbsp;1.9.1&nbsp;(it&nbsp;crashes&nbsp;too&nbsp;with&nbsp;mono&nbsp;1.2.6)&lt;BR&gt;<br>
&lt;BR&gt;<br>
without&nbsp;gdb&nbsp;it&nbsp;crashes&nbsp;with:&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;PRE&gt;<br>
Stacktrace:<br>
&amp;nbsp;<br>
&amp;nbsp;<br>
Native&nbsp;stacktrace:<br>
&amp;nbsp;<br>
&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;mono&nbsp;[0x8152f80]<br>
&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;mono&nbsp;[0x807819a]<br>
&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;/lib/tls/libpthread.so.0&nbsp;[0x6b2890]<br>
&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;mono&nbsp;[0x813bc94]<br>
&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;mono&nbsp;[0x80bd5c1]<br>
&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;mono&nbsp;[0x80bdd0a]<br>
&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;mono&nbsp;[0x8102656]<br>
&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;mono&nbsp;[0x8116769]<br>
&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;/lib/tls/libpthread.so.0&nbsp;[0x6ac371]<br>
&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;/lib/tls/libc.so.6(__clone+0x5e)&nbsp;[0x535ffe]<br>
&amp;nbsp;<br>
Debug&nbsp;info&nbsp;from&nbsp;gdb:<br>
&amp;nbsp;<br>
&amp;nbsp;<br>
&amp;nbsp;<br>
=================================================================<br>
Got&nbsp;a&nbsp;SIGSEGV&nbsp;while&nbsp;executing&nbsp;native&nbsp;code.&nbsp;This&nbsp;usually&nbsp;indicates<br>
a&nbsp;fatal&nbsp;error&nbsp;in&nbsp;the&nbsp;mono&nbsp;runtime&nbsp;or&nbsp;one&nbsp;of&nbsp;the&nbsp;native&nbsp;libraries<br>
used&nbsp;by&nbsp;your&nbsp;application.<br>
=================================================================<br>
&lt;/PRE&gt;<br>
&amp;nbsp;&nbsp;Aborted&nbsp;&lt;BR&gt;<br>
&lt;BR&gt;<br>
I've&nbsp;run&nbsp;my&nbsp;program&nbsp;with&nbsp;Gdb&nbsp;<br>
&lt;PRE&gt;<br>
[New&nbsp;Thread&nbsp;66501552&nbsp;(LWP&nbsp;7705)]<br>
[Thread&nbsp;117857200&nbsp;(LWP&nbsp;7700)&nbsp;exited]<br>
<br>
Program&nbsp;received&nbsp;signal&nbsp;SIGSEGV,&nbsp;Segmentation&nbsp;fault.<br>
[Switching&nbsp;to&nbsp;Thread&nbsp;19356592&nbsp;(LWP&nbsp;4481)]<br>
mono_debugger_thread_cleanup&nbsp;(jit_tls=0x85ba670)&nbsp;at&nbsp;debug-mini.c:802<br>
802&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(info-&amp;gt;jit_tls&nbsp;!=&nbsp;jit_tls)<br>
(gdb)&nbsp;bt<br>
#0&amp;nbsp;&nbsp;mono_debugger_thread_cleanup&nbsp;(jit_tls=0x85ba670)&nbsp;at&nbsp;debug-mini.c:802<br>
#1&amp;nbsp;&nbsp;0x08148794&nbsp;in&nbsp;mini_thread_cleanup&nbsp;(thread=0xb6f5ce70)&nbsp;at&nbsp;mini.c:9670<br>
#2&amp;nbsp;&nbsp;0x080c4860&nbsp;in&nbsp;thread_cleanup&nbsp;(thread=0xb6f5ce70)&nbsp;at&nbsp;threads.c:509<br>
#3&amp;nbsp;&nbsp;0x080c4fc1&nbsp;in&nbsp;start_wrapper&nbsp;(data=0xb66a7fa0)&nbsp;at&nbsp;threads.c:605<br>
#4&amp;nbsp;&nbsp;0x0810d09e&nbsp;in&nbsp;thread_start_routine&nbsp;(args=0xb78a4938)&nbsp;at&nbsp;threads.c:282<br>
#5&amp;nbsp;&nbsp;0x08121b19&nbsp;in&nbsp;GC_start_routine&nbsp;(arg=0xb65aa9a0)&nbsp;at&nbsp;pthread_support.c:1369<br>
#6&amp;nbsp;&nbsp;0x006ac371&nbsp;in&nbsp;start_thread&nbsp;()&nbsp;from&nbsp;/lib/tls/libpthread.so.0<br>
#7&amp;nbsp;&nbsp;0x00535ffe&nbsp;in&nbsp;clone&nbsp;()&nbsp;from&nbsp;/lib/tls/libc.so.6<br>
(gdb)&nbsp;q<br>
The&nbsp;program&nbsp;is&nbsp;running.&amp;nbsp;&nbsp;Exit&nbsp;anyway?&nbsp;(y&nbsp;or&nbsp;n)&nbsp;y<br>
[root@lxlyosmc10&nbsp;Server]#&nbsp;<br>
&lt;/PRE&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
Could&nbsp;someone&nbsp;help&nbsp;me&nbsp;please&lt;BR&gt;<br>
&lt;BR&gt;<br>
It&nbsp;seems&nbsp;this&nbsp;is&nbsp;a&nbsp;GC&nbsp;issue&nbsp;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;DIV&gt;&lt;P&gt;&lt;HR&gt;<br>
_________________________________________________&lt;BR&gt;<br>
&lt;BR&gt;<br>
Ce&nbsp;message&nbsp;et&nbsp;les&nbsp;&amp;eacute;ventuels&nbsp;documents&nbsp;joints&nbsp;peuvent&nbsp;contenir&nbsp;des&nbsp;informations&nbsp;confidentielles.&lt;BR&gt;<br>
Au&nbsp;cas&nbsp;o&amp;ugrave;&nbsp;il&nbsp;ne&nbsp;vous&nbsp;serait&nbsp;pas&nbsp;destin&amp;eacute;,&nbsp;nous&nbsp;vous&nbsp;remercions&nbsp;de&nbsp;bien&nbsp;vouloir&nbsp;le&nbsp;supprimer&nbsp;et&nbsp;en&nbsp;aviser&nbsp;imm&amp;eacute;diatement&nbsp;l'exp&amp;eacute;diteur.&nbsp;Toute&nbsp;utilisation&nbsp;de&nbsp;ce&nbsp;message&nbsp;non&nbsp;conforme&nbsp;&amp;agrave;&nbsp;sa&nbsp;destination,&nbsp;toute&nbsp;diffusion&nbsp;ou&nbsp;publication,&nbsp;totale&nbsp;ou&nbsp;partielle&nbsp;et&nbsp;quel&nbsp;qu'en&nbsp;soit&nbsp;le&nbsp;moyen&nbsp;est&nbsp;formellement&nbsp;interdite.&lt;BR&gt;<br>
Les&nbsp;communications&nbsp;sur&nbsp;internet&nbsp;n'&amp;eacute;tant&nbsp;pas&nbsp;s&amp;eacute;curis&amp;eacute;es,&nbsp;l'int&amp;eacute;grit&amp;eacute;&nbsp;de&nbsp;ce&nbsp;message&nbsp;n'est&nbsp;pas&nbsp;assur&amp;eacute;e&nbsp;et&nbsp;la&nbsp;soci&amp;eacute;t&amp;eacute;&nbsp;&amp;eacute;mettrice&nbsp;ne&nbsp;peut&nbsp;&amp;ecirc;tre&nbsp;tenue&nbsp;pour&nbsp;responsable&nbsp;de&nbsp;son&nbsp;contenu.<br>
&lt;/P&gt;&lt;/DIV&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
