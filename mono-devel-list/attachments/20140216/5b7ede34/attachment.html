<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;Hello&nbsp;guys,&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;There&#39;s&nbsp;quite&nbsp;a&nbsp;few&nbsp;misconceptions&nbsp;in&nbsp;the&nbsp;above&nbsp;thread.&nbsp;There&#39;s&nbsp;a&nbsp;lot&nbsp;of&nbsp;places&nbsp;that&nbsp;could&nbsp;be/do&nbsp;better&nbsp;but&nbsp;misidentifying&nbsp;them&nbsp;is&nbsp;not&nbsp;helpful&nbsp;(and&nbsp;they&nbsp;are&nbsp;fairly&nbsp;googl&#39;able&nbsp;assertions&nbsp;to&nbsp;be&nbsp;validated).&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Feb&nbsp;16,&nbsp;2014&nbsp;at&nbsp;3:03&nbsp;PM,&nbsp;Edward&nbsp;Ned&nbsp;Harvey&nbsp;(mono)&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:edward.harvey.mono@clevertrove.com&quot;&nbsp;target=&quot;_blank&quot;&gt;edward.harvey.mono@clevertrove.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&gt;&nbsp;From:&nbsp;Ian&nbsp;Norton&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:inorton@gmail.com&quot;&gt;inorton@gmail.com&lt;/a&gt;]&lt;br&gt;<br>
<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Hi&nbsp;folks.&lt;br&gt;<br>
&gt;&nbsp;Key&nbsp;generation&nbsp;can&nbsp;be&nbsp;hugely&nbsp;different&nbsp;on&nbsp;different&nbsp;platforms.&nbsp;Essentially&nbsp;for&lt;br&gt;<br>
&gt;&nbsp;RSA&nbsp;you&nbsp;need&nbsp;to&nbsp;generate&nbsp;two&nbsp;huge&nbsp;random&nbsp;integers&nbsp;and&nbsp;do&nbsp;primality&nbsp;checks&lt;br&gt;<br>
&gt;&nbsp;on&nbsp;them.&lt;br&gt;<br>
&gt;&nbsp;This&nbsp;is&nbsp;always&nbsp;going&nbsp;to&nbsp;be&nbsp;fairly&nbsp;nondeterministic&nbsp;in&nbsp;terms&nbsp;of&nbsp;time.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;True&nbsp;words.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;for&nbsp;Mono&nbsp;this&nbsp;is&nbsp;entirely&nbsp;done&nbsp;in&nbsp;managed&nbsp;code.&nbsp;It&nbsp;means&nbsp;it&#39;s&nbsp;always&nbsp;available&nbsp;anywhere&nbsp;you&nbsp;can&nbsp;run&nbsp;mono&nbsp;(without&nbsp;any&nbsp;additional&nbsp;dependencies),&nbsp;i.e.&nbsp;you&nbsp;got&nbsp;mono,&nbsp;you&nbsp;got&nbsp;crypto&nbsp;and&nbsp;SSL/TLS.&nbsp;It&nbsp;also&nbsp;means&nbsp;it&#39;s&nbsp;not&nbsp;optimized&nbsp;like&nbsp;it&#39;s&nbsp;generally&nbsp;is&nbsp;for&nbsp;most&nbsp;platforms&nbsp;(and&nbsp;yes,&nbsp;even&nbsp;in&nbsp;2014,&nbsp;most&nbsp;platforms&nbsp;still&nbsp;use&nbsp;hand-written&nbsp;assembly&nbsp;code&nbsp;for&nbsp;this).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;OTOH&nbsp;Mono/.NET&nbsp;(and&nbsp;it&#39;s&nbsp;cryptographic&nbsp;stack)&nbsp;is&nbsp;easily&nbsp;extended&nbsp;so&nbsp;you&#39;re&nbsp;free&nbsp;to&nbsp;add/replace&nbsp;cryptographic&nbsp;code&nbsp;with&nbsp;native&nbsp;code&nbsp;(e.g.&nbsp;Xamarin.iOS&nbsp;does&nbsp;this&nbsp;using&nbsp;Apple&#39;s&nbsp;CommonCrypto&nbsp;and&nbsp;there&nbsp;are&nbsp;other&nbsp;examples&nbsp;in&nbsp;Mono&#39;s&nbsp;crimson&nbsp;git&nbsp;repository).&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
&gt;&nbsp;What&nbsp;really&nbsp;matters&nbsp;for&nbsp;performance&nbsp;of&nbsp;TLS&nbsp;is&nbsp;the&nbsp;speed&nbsp;at&nbsp;which&nbsp;you&nbsp;can&nbsp;do&lt;br&gt;<br>
&gt;&nbsp;a&nbsp;decrypt&nbsp;using&nbsp;RSA.&nbsp;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Good&nbsp;(but&nbsp;incomplete).&nbsp;Both&nbsp;encrypt&nbsp;and&nbsp;decrypt&nbsp;speeds&nbsp;are&nbsp;important&nbsp;-&nbsp;depending&nbsp;on&nbsp;which&nbsp;side&nbsp;of&nbsp;the&nbsp;SSL&nbsp;channel&nbsp;(i.e.&nbsp;client&nbsp;or&nbsp;server,&nbsp;both&nbsp;supported&nbsp;by&nbsp;Mono)&nbsp;you&nbsp;are.&nbsp;The&nbsp;use&nbsp;of&nbsp;client&nbsp;certificates&nbsp;also&nbsp;affect&nbsp;which&nbsp;operation&nbsp;is&nbsp;critical.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;The&nbsp;best&nbsp;way&nbsp;to&nbsp;measure&nbsp;this&nbsp;is&nbsp;to&nbsp;generate&nbsp;one&nbsp;key.&lt;br&gt;<br>
<br>
&gt;&nbsp;Start&nbsp;the&nbsp;stopwatch&nbsp;and&nbsp;do&nbsp;lots&nbsp;of&nbsp;signatures&nbsp;of&nbsp;about&nbsp;20-60&nbsp;bytes&nbsp;of&nbsp;data.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Again&nbsp;true&nbsp;-&nbsp;but&nbsp;let&nbsp;me&nbsp;emphasis&nbsp;that&nbsp;the&nbsp;&quot;generate&nbsp;one&nbsp;key&quot;&nbsp;is&nbsp;_not_&nbsp;important&nbsp;above.&nbsp;The&nbsp;important&nbsp;(true)&nbsp;part&nbsp;is&nbsp;that&nbsp;you&nbsp;start&nbsp;the&nbsp;watch&nbsp;dog&nbsp;after&nbsp;the&nbsp;key&nbsp;generation.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
I&nbsp;think&nbsp;you&nbsp;meant&nbsp;to&nbsp;respond&nbsp;to&nbsp;the&nbsp;list&nbsp;and&nbsp;not&nbsp;just&nbsp;me,&nbsp;so&nbsp;I&nbsp;included&nbsp;your&nbsp;whole&nbsp;text&nbsp;above.&nbsp; And&nbsp;my&nbsp;response:&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;is&nbsp;true&nbsp;-&nbsp;by&nbsp;nature&nbsp;of&nbsp;the&nbsp;fact&nbsp;that&nbsp;you&nbsp;have&nbsp;to&nbsp;start&nbsp;with&nbsp;a&nbsp;random&nbsp;number,&nbsp;and&nbsp;from&nbsp;there,&nbsp;perform&nbsp;a&nbsp;search&nbsp;for&nbsp;a&nbsp;prime.&nbsp; If&nbsp;you&#39;re&nbsp;lucky,&nbsp;you&nbsp;could&nbsp;get&nbsp;a&nbsp;prime&nbsp;on&nbsp;the&nbsp;first&nbsp;random&nbsp;pick,&nbsp;and&nbsp;if&nbsp;you&#39;re&nbsp;unlucky,&nbsp;you&nbsp;could&nbsp;be&nbsp;required&nbsp;to&nbsp;search&nbsp;for&nbsp;a&nbsp;long&nbsp;time&nbsp;before&nbsp;you&nbsp;find&nbsp;a&nbsp;prime.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yup!&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
But&nbsp;when&nbsp;the&nbsp;time&nbsp;required&nbsp;is&nbsp;*usually*&nbsp;20-40&nbsp;seconds,&nbsp;as&nbsp;opposed&nbsp;to&nbsp;usually&nbsp;1-2&nbsp;sec...&nbsp; &lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Proving&nbsp;a&nbsp;prime&nbsp;is&nbsp;not&nbsp;easy&nbsp;(nor&nbsp;fast)&nbsp;and&nbsp;it&#39;s&nbsp;easy&nbsp;to&nbsp;take&nbsp;shortcuts.&nbsp;We&nbsp;try&nbsp;to&nbsp;say&nbsp;away&nbsp;from&nbsp;them&nbsp;and&nbsp;ensure&nbsp;any&nbsp;key&nbsp;we&nbsp;generate&nbsp;is&nbsp;safe&nbsp;to&nbsp;use,&nbsp;now&nbsp;and&nbsp;in&nbsp;the&nbsp;future.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;OTOH&nbsp;all&nbsp;our&nbsp;BigInteger&nbsp;code&nbsp;is&nbsp;available.&nbsp;You&nbsp;can&nbsp;optimize&nbsp;it&nbsp;or&nbsp;the&nbsp;way&nbsp;you&nbsp;wish&nbsp;your&nbsp;prime&nbsp;numbers&nbsp;to&nbsp;be&nbsp;tested&nbsp;-&nbsp;they&#39;ll&nbsp;be&nbsp;yours&nbsp;after&nbsp;all&nbsp;;-)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
And&nbsp;this&nbsp;is&nbsp;a&nbsp;blocking&nbsp;operation,&nbsp;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Wrong!&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
and&nbsp;it&#39;s&nbsp;necessary&nbsp;to&nbsp;establish&nbsp;an&nbsp;https&nbsp;connection&nbsp;(or&nbsp;anything&nbsp;else&nbsp;using&nbsp;SSL/TLS)&nbsp;...&nbsp;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Please&nbsp;re-read&nbsp;the&nbsp;TLS&nbsp;RFC&nbsp;(any&nbsp;of&nbsp;them)&nbsp;and&nbsp;tell&nbsp;me&nbsp;where&nbsp;you&nbsp;need&nbsp;to&nbsp;_generate_&nbsp;an&nbsp;RSA&nbsp;keypair&nbsp;to&nbsp;establish&nbsp;an&nbsp;SSL/TLS&nbsp;connection&nbsp;?!?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;that&nbsp;does&nbsp;not&nbsp;make&nbsp;mono&nbsp;faster&nbsp;at&nbsp;generating&nbsp;key&nbsp;pairs&nbsp;-&nbsp;but&nbsp;it&nbsp;makes&nbsp;it&nbsp;unimportant&nbsp;for&nbsp;99%&nbsp;of&nbsp;use&nbsp;cases&nbsp;I&nbsp;can&nbsp;dream&nbsp;of&nbsp;(including&nbsp;SSL/TLS).&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
 That&nbsp;is&nbsp;well&nbsp;outside&nbsp;of&nbsp;the&nbsp;normal&nbsp;user&nbsp;tolerance.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;A&nbsp;good&nbsp;thing&nbsp;it&nbsp;does&nbsp;not&nbsp;matter&nbsp;:-)&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;br&gt;<br>
Normally,&nbsp;all&nbsp;we&nbsp;need&nbsp;to&nbsp;do&nbsp;is&nbsp;generate&nbsp;a&nbsp;keypair,&nbsp;and&nbsp;then&nbsp;encrypt&nbsp;something&nbsp;on&nbsp;par&nbsp;with&nbsp;32-128&nbsp;bytes,&nbsp;to&nbsp;perform&nbsp;an&nbsp;AES&nbsp;key&nbsp;exchange,&nbsp;and&nbsp;then&nbsp;never&nbsp;care&nbsp;about&nbsp;the&nbsp;RSA&nbsp;key&nbsp;again.&nbsp; &lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;No,&nbsp;this&nbsp;is&nbsp;not&nbsp;how&nbsp;SSL/TLS&nbsp;works.&nbsp;Do&nbsp;you&nbsp;normally&nbsp;trash&nbsp;for&nbsp;physical&nbsp;keys&nbsp;after&nbsp;each&nbsp;use&nbsp;?&nbsp;I&nbsp;don&#39;t.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;for&nbsp;virtual&nbsp;keys&nbsp;I&nbsp;bet&nbsp;certificate&nbsp;sellers&nbsp;would&nbsp;be&nbsp;thrilled&nbsp;if&nbsp;this&nbsp;was&nbsp;the&nbsp;case&nbsp;;-)&nbsp;Thankfully&nbsp;it&#39;s&nbsp;not&nbsp;something&nbsp;required&nbsp;for&nbsp;SSL/TLS.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
So&nbsp;I&nbsp;humbly&nbsp;disagree&nbsp;that&nbsp;the&nbsp;speed&nbsp;of&nbsp;encryption&nbsp;/&nbsp;decryption&nbsp;is&nbsp;what&nbsp;matters.&nbsp; &lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;I&nbsp;disagree&nbsp;with&nbsp;your&nbsp;disagreement.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;might&nbsp;state&nbsp;that&nbsp;mono&nbsp;key&nbsp;generation&nbsp;is&nbsp;slow&nbsp;and&nbsp;I&#39;ll&nbsp;agree&nbsp;(your&nbsp;data&nbsp;shows&nbsp;this);&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;might&nbsp;state&nbsp;that&nbsp;mono&#39;s&nbsp;SSL/TLS&nbsp;is&nbsp;slow&nbsp;and&nbsp;I&#39;ll&nbsp;agree&nbsp;(no&nbsp;data&nbsp;given&nbsp;but&nbsp;it&#39;s&nbsp;never&nbsp;been&nbsp;a&nbsp;secret,&nbsp;the&nbsp;implementation&nbsp;sits&nbsp;on&nbsp;a&nbsp;wholly&nbsp;managed&nbsp;code&nbsp;base);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;if&nbsp;you&nbsp;state&nbsp;that&nbsp;SSL/TLS&nbsp;is&nbsp;slow&nbsp;because&nbsp;of&nbsp;the&nbsp;key&nbsp;generation&nbsp;then&nbsp;you&#39;ll&nbsp;not&nbsp;get&nbsp;my&nbsp;agreement&nbsp;(your&nbsp;assertion&nbsp;is&nbsp;wrong);&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;What&nbsp;matters&nbsp;is&nbsp;the&nbsp;total&nbsp;time&nbsp;to&nbsp;perform&nbsp;session&nbsp;key&nbsp;exchange&nbsp;(AES&nbsp;or&nbsp;whatever&nbsp;algorithm&nbsp;was&nbsp;negotiated),&nbsp;which&nbsp;includes&nbsp;the&nbsp;time&nbsp;to&nbsp;generate&nbsp;the&nbsp;RSA&nbsp;key.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Right&nbsp;(total)&nbsp;and&nbsp;wrong&nbsp;(key&nbsp;generation).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sebastien&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
