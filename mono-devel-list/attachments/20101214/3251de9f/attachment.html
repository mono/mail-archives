<tt>
One&nbsp;thing,&nbsp;it&amp;#39;s&nbsp;possible&nbsp;to&nbsp;use&nbsp;a&nbsp;binding&nbsp;to&nbsp;libffi&nbsp;with&nbsp;mono,&nbsp;it&amp;#39;s&nbsp;just&nbsp;that&nbsp;mono&amp;#39;s&nbsp;p/invoke&nbsp;is&nbsp;not&nbsp;built&nbsp;using&nbsp;it&nbsp;anymore.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Dec&nbsp;14,&nbsp;2010&nbsp;at&nbsp;1:48&nbsp;AM,&nbsp;Jonathan&nbsp;Pryor&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jonpryor@vt.edu&quot;&gt;jonpryor@vt.edu&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Dec&nbsp;13,&nbsp;2010,&nbsp;at&nbsp;7:08&nbsp;PM,&nbsp;Charles&nbsp;Strahan&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;If&nbsp;I&nbsp;understand&nbsp;correctly,&nbsp;we&amp;#39;d&nbsp;have&nbsp;two&nbsp;options&nbsp;for&nbsp;using&nbsp;DLLImport:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;I&nbsp;am&nbsp;missing&nbsp;some&nbsp;important&nbsp;context,&nbsp;so&nbsp;I&nbsp;don&amp;#39;t&nbsp;understand&nbsp;what&nbsp;you&nbsp;want&nbsp;to&nbsp;accomplish,&nbsp;what&nbsp;the&nbsp;problems&nbsp;are,&nbsp;and&nbsp;thus&nbsp;what&nbsp;the&nbsp;&amp;quot;best&amp;quot;&nbsp;way&nbsp;to&nbsp;do&nbsp;it&nbsp;is.&nbsp; As&nbsp;per&nbsp;my&nbsp;original&nbsp;response,&nbsp;libffi&nbsp;was&nbsp;removed&nbsp;from&nbsp;mono&nbsp;for&nbsp;performance&nbsp;reasons,&nbsp;and&nbsp;it&nbsp;is&nbsp;thus&nbsp;unlikely&nbsp;to&nbsp;return.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
I&nbsp;do&nbsp;not&nbsp;know&nbsp;or&nbsp;understand&nbsp;the&nbsp;semantics&nbsp;of&nbsp;RubyFFI,&nbsp;how&nbsp;it&amp;#39;s&nbsp;similar&nbsp;to&nbsp;libffi&nbsp;&amp;amp;&nbsp;P/Invoke,&nbsp;and&nbsp;how&nbsp;it&nbsp;differs&nbsp;from&nbsp;P/Invoke,&nbsp;much&nbsp;less&nbsp;how&nbsp;to&nbsp;map&nbsp;RubyFFI&nbsp;use&nbsp;to&nbsp;P/Invoke&nbsp;use&nbsp;(if&nbsp;that&amp;#39;s&nbsp;even&nbsp;desirable;&nbsp;again,&nbsp;I&nbsp;have&nbsp;no&nbsp;idea).&lt;br&gt;<br>
<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp; 1.)&nbsp;Emit&nbsp;classes&nbsp;at&nbsp;runtime,&nbsp;containing&nbsp;the&nbsp;necessary&nbsp;native&lt;br&gt;<br>
&amp;gt;&nbsp;function&nbsp;adorned&nbsp;with&nbsp;the&nbsp;DLLImport&nbsp;attribute.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;I&nbsp;can&amp;#39;t&nbsp;say&nbsp;if&nbsp;this&nbsp;would&nbsp;work&nbsp;for&nbsp;_you_,&nbsp;but&nbsp;I&nbsp;can&nbsp;say&nbsp;that&nbsp;this&nbsp;can&nbsp;work&nbsp;in&nbsp;general;&nbsp;see:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;https://github.com/mono/mono/blob/master/mcs/class/Mono.Posix/Mono.Unix.Native/CdeclFunction.cs&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/mono/mono/blob/master/mcs/class/Mono.Posix/Mono.Unix.Native/CdeclFunction.cs&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp; 2.)&nbsp;Use&nbsp;DLLImport/PInvoke&nbsp;to&nbsp;provide&nbsp;access&nbsp;to&lt;br&gt;<br>
&amp;gt;&nbsp;dlopen/LoadLibrary[Ex]&nbsp;and&nbsp;other&nbsp;similar&nbsp;functions,&nbsp;to&nbsp;dynamically&lt;br&gt;<br>
&amp;gt;&nbsp;load&nbsp;DLLs&nbsp;and&nbsp;invoke&nbsp;their&nbsp;functions.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;This&nbsp;seems&nbsp;silly,&nbsp;given&nbsp;that&nbsp;[DllImport]&nbsp;&amp;amp;&nbsp;P/Invoke&nbsp;are&nbsp;built&nbsp;upon&nbsp;dlopen+dlsym/LoadLibrary+GetProcAddress;&nbsp;I&nbsp;do&nbsp;not&nbsp;see&nbsp;the&nbsp;point.&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
 -&nbsp;Jon&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
