<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello&nbsp;Miguel,&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;#0563C1&quot;&nbsp;vlink=&quot;#954F72&quot;&gt;&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-GB&quot;&gt;I&nbsp;also&nbsp;had&nbsp;to&nbsp;apply&nbsp;this&nbsp;change&nbsp;in&nbsp;order&nbsp;to&nbsp;avoid&nbsp;an&nbsp;unallowed&nbsp;warning&nbsp;message:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10pt;font-family:Consolas;color:black&quot;&gt;I:&nbsp;Statement&nbsp;might&nbsp;be&nbsp;overflowing&nbsp;a&nbsp;buffer&nbsp;in&nbsp;strncat.&nbsp;Common&nbsp;mistake:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10pt;font-family:Consolas;color:black&quot;&gt;  &nbsp;BAD:&nbsp;strncat(buffer,charptr,sizeof(buffer))&nbsp;is&nbsp;wrong,&nbsp;it&nbsp;takes&nbsp;the&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10pt;font-family:Consolas;color:black&quot;&gt;  &nbsp;left&nbsp;over&nbsp;size&nbsp;as&nbsp;3rd&nbsp;argument&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10pt;font-family:Consolas;color:black&quot;&gt;  &nbsp;GOOD:&nbsp;strncat(buffer,charptr,sizeof(buffer)-strlen(buffer)-1)&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;replaced&nbsp;that&nbsp;code&nbsp;with&nbsp;the&nbsp;glib&nbsp;string&nbsp;operations&nbsp;just&nbsp;yesterday:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;042ddd504c09977682bb48010c5642390826d1da&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;thanks&nbsp;for&nbsp;sharing.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;#0563C1&quot;&nbsp;vlink=&quot;#954F72&quot;&gt;&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-GB&quot;&gt;At&nbsp;this&nbsp;point&nbsp;I’m&nbsp;able&nbsp;to&nbsp;build&nbsp;mono&nbsp;RPM&nbsp;packages&nbsp;and&nbsp;they’re&nbsp;working&nbsp;as&nbsp;I&nbsp;install&nbsp;them&nbsp;using&nbsp;a&nbsp;test&nbsp;OpenSUSE&nbsp;12.3&nbsp;virtual&nbsp;machine.&nbsp;However,&nbsp;when&nbsp;the&nbsp;GTK#&nbsp;builds&nbsp;are&nbsp;started&nbsp;–which&nbsp;use&nbsp;the&nbsp;mono&nbsp;packages&nbsp;as&nbsp;build&nbsp;requirement–,<br>
&nbsp;the&nbsp;worker&nbsp;is&nbsp;unable&nbsp;to&nbsp;run&nbsp;the&nbsp;mono&nbsp;executable:&nbsp;apparently,&nbsp;malloc&nbsp;is&nbsp;corrupting&nbsp;the&nbsp;heap&nbsp;or&nbsp;something.&nbsp;This&nbsp;is&nbsp;a&nbsp;sample&nbsp;execution&nbsp;as&nbsp;extracted&nbsp;from&nbsp;the&nbsp;OBS&nbsp;build&nbsp;logs:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&nbsp;style=&quot;border:1pt&nbsp;dotted&nbsp;rgb(102,153,0);padding:2pt;margin-left:7.5pt;margin-right:7.5pt;background:rgb(246,246,246)&quot;&gt;<br>
&lt;pre&nbsp;style=&quot;line-height:11.7pt;border:none;padding:0cm;background:rgb(246,246,246)&quot;&gt;&lt;span&nbsp;style=&quot;font-size:8pt;color:rgb(51,51,51)&quot;&gt;[ &nbsp;101s]&nbsp;+&nbsp;/opt/plasticscm5/mono/bin/mono&nbsp;/opt/plasticscm5/mono/lib/mono/4.5/gacutil.exe&nbsp;-l&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/pre&gt;<br>
&lt;pre&nbsp;style=&quot;line-height:11.7pt;border:none;padding:0cm;background:rgb(246,246,246)&quot;&gt;&lt;span&nbsp;style=&quot;font-size:8pt;color:rgb(51,51,51)&quot;&gt;[ &nbsp;101s]&nbsp;***&nbsp;Error&nbsp;in&nbsp;`/opt/plasticscm5/mono/bin/mono&#39;:&nbsp;malloc:&nbsp;top&nbsp;chunk&nbsp;is&nbsp;corrupt:&nbsp;0x08ab9230&nbsp;***&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/pre&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;you&nbsp;want&nbsp;to&nbsp;do&nbsp;at&nbsp;this&nbsp;point&nbsp;in&nbsp;time&nbsp;is&nbsp;to&nbsp;run&nbsp;the&nbsp;process&nbsp;under&nbsp;gdb,&nbsp;as&nbsp;this&nbsp;will&nbsp;show&nbsp;where&nbsp;malloc&nbsp;detected&nbsp;the&nbsp;error,&nbsp;and&nbsp;then&nbsp;you&nbsp;should&nbsp;get&nbsp;both&nbsp;the&nbsp;unmanaged&nbsp;stack&nbsp;trace,&nbsp;and&nbsp;if&nbsp;possible&nbsp;the&nbsp;managed&nbsp;one&nbsp;(with&nbsp;the&nbsp;mono_stack&nbsp;gdb&nbsp;macro)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Miguel.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
