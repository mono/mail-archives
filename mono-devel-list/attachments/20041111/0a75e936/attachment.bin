Index: DataView.cs
===================================================================
RCS file: /mono/mcs/class/System.Data/System.Data/DataView.cs,v
retrieving revision 1.26
diff -u -r1.26 DataView.cs
--- DataView.cs	18 Aug 2004 03:44:21 -0000	1.26
+++ DataView.cs	11 Nov 2004 16:15:46 -0000
@@ -33,7 +33,7 @@
 		string rowFilter = "";
 		string sort = "";
 		DataViewRowState rowState;
-		DataRowView[] rowCache = null;
+		DataRowView[] rowCache = new DataRowView[0];
 		
 		
 		bool allowNew = true; 
@@ -163,6 +163,10 @@
 		public DataRowView this[int recordIndex] {
 			[MonoTODO]
 			get {
+				if (recordIndex > rowCache.Length)
+					throw new IndexOutOfRangeException ("There is no row at " +
+							"position: " + recordIndex + ".");
+
 				return rowCache [recordIndex];
 			}
 		}
@@ -566,7 +570,7 @@
 		{
 			// TODO: what really happens?
 			Close ();
-			rowCache = null;
+			rowCache = new DataRowView[0];
 			Open ();
 			OnListChanged (new ListChangedEventArgs (ListChangedType.Reset, -1 ));
 		}
