<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;In&nbsp;conjunction&nbsp;with&nbsp;&quot;Sync&nbsp;of&nbsp;mono&nbsp;Cert&nbsp;Store,&quot;&nbsp;I&#39;m&nbsp;trying&nbsp;to&nbsp;utilize&nbsp;FileSystemWatcher&nbsp;to&nbsp;monitor&nbsp;the&nbsp;system&nbsp;certificate&nbsp;file&nbsp;for&nbsp;changes&nbsp;(which&nbsp;will&nbsp;trigger&nbsp;a&nbsp;cert-sync).&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Since&nbsp;some&nbsp;distros&nbsp;use&nbsp;the&nbsp;legacy&nbsp;address&nbsp;(/etc/pki/tls/certs/ca-bundle.crt)&nbsp;as&nbsp;a&nbsp;symbolic&nbsp;link,&nbsp;and&nbsp;modification&nbsp;of&nbsp;the&nbsp;system&nbsp;cert&nbsp;store&nbsp;appears&nbsp;to&nbsp;be&nbsp;a&nbsp;free-for-all&nbsp;between&nbsp;using&nbsp;the&lt;a&nbsp;href=&quot;http://www.unix.com/man-page/centos/8/update-ca-trust/&quot;&gt;&nbsp;update-ca-trust&lt;/a&gt;&nbsp;or&nbsp;&lt;a&nbsp;href=&quot;http://manpages.ubuntu.com/manpages/precise/man8/update-ca-certificates.8.html&quot;&gt;update-ca-certificates&lt;/a&gt;&nbsp;scripts,&nbsp;running &lt;a&nbsp;href=&quot;https://access.redhat.com/documentation/en-US/Red_Hat_Certificate_System/8.1/html/Admin_Guide/Managing_the_Certificate_Database.html&quot;&gt;other&nbsp;utilities&lt;/a&gt;,&nbsp;&lt;a&nbsp;href=&quot;https://www.happyassassin.net/2015/01/14/trusting-additional-cas-in-fedora-rhel-centos-dont-append-to-etcpkitlscertsca-bundle-crt-or-etcpkitlscert-pem/&quot;&gt;modifying&nbsp;the&nbsp;file&nbsp;directly&lt;/a&gt;,&nbsp;and&nbsp;even&nbsp;&lt;a&nbsp;href=&quot;https://techjourney.net/update-add-ca-certificates-bundle-in-redhat-centos/&quot;&gt;replacing&nbsp;the&nbsp;file&nbsp;completely&lt;/a&gt;,&nbsp;I&nbsp;have&nbsp;been&nbsp;testing&nbsp;as&nbsp;many&nbsp;file&nbsp;manipulation&nbsp;combinations&nbsp;as&nbsp;I&nbsp;can&nbsp;imagine,&nbsp;to&nbsp;ensure&nbsp;FileSystemWatcher&nbsp;catches&nbsp;them&nbsp;all.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;doing&nbsp;so,&nbsp;I&nbsp;found&nbsp;an&nbsp;issue&nbsp;in&nbsp;FileSystemWatcher.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;To&nbsp;handle&nbsp;the&nbsp;symbolic&nbsp;link&nbsp;case,&nbsp;FileSystemWatcher&nbsp;objects&nbsp;are&nbsp;set&nbsp;up&nbsp;for&nbsp;each&nbsp;file&nbsp;in&nbsp;the&nbsp;chain,&nbsp;symbolic&nbsp;link&nbsp;and&nbsp;target&nbsp;alike. &nbsp;In&nbsp;one&nbsp;test,&nbsp;the&nbsp;target&nbsp;of&nbsp;a&nbsp;symbolic&nbsp;link&nbsp;is&nbsp;replaced&nbsp;by&nbsp;another&nbsp;file&nbsp;using&nbsp;mv. &nbsp;But&nbsp;FileSystemWatcher&nbsp;does&nbsp;not&nbsp;register&nbsp;the&nbsp;change. &nbsp;Oddly,&nbsp;if&nbsp;only&nbsp;a&nbsp;watch&nbsp;of&nbsp;the&nbsp;target&nbsp;file&nbsp;is&nbsp;registered,&nbsp;FileSystemWatcher&nbsp;registers&nbsp;the&nbsp;change.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;code&nbsp;I&#39;m&nbsp;using&nbsp;is&nbsp;attached. &nbsp;Here&nbsp;is&nbsp;what&nbsp;I&nbsp;see&nbsp;on&nbsp;command&nbsp;line:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;(console1)&nbsp;~$&nbsp;echo&nbsp;&gt;bar&nbsp;&quot;test&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;(console1)&nbsp;~$&nbsp;echo&nbsp;&gt;foobar&nbsp;&quot;test1&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;(console1)&nbsp;~$&nbsp;ln&nbsp;-s&nbsp;bar&nbsp;foo&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;(console1)&nbsp;~$&nbsp;ll&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;total&nbsp;24&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;-rw-rw-r--.&nbsp;1&nbsp;rtillery&nbsp;rtillery&nbsp; &nbsp; &nbsp; 5&nbsp;Jul&nbsp;31&nbsp;11:06&nbsp;bar&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;lrwxrwxrwx.&nbsp;1&nbsp;rtillery&nbsp;rtillery&nbsp; &nbsp; &nbsp; 3&nbsp;Jul&nbsp;31&nbsp;11:06&nbsp;foo&nbsp;-&gt;&nbsp;bar&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;-rw-rw-r--.&nbsp;1&nbsp;rtillery&nbsp;rtillery&nbsp; &nbsp; &nbsp; 6&nbsp;Jul&nbsp;31&nbsp;11:06&nbsp;foobar&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;-rwxrwxr-x.&nbsp;1&nbsp;rtillery&nbsp;rtillery&nbsp; &nbsp;5632&nbsp;Jul&nbsp;31&nbsp;11:05&nbsp;fsw.exe&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;(console1)&nbsp;~$&nbsp;mono&nbsp;fsw.exe&nbsp;./bar&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;Watching:&nbsp;/home/rtillery/bar&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;bar&nbsp;watching&nbsp;ENABLED&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;Press&nbsp;&#39;Q&#39;&nbsp;to&nbsp;quit&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;(console2)&nbsp;~$&nbsp;mv&nbsp;foobar&nbsp;bar&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;(console1)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;File:&nbsp;/home/rtillery/foobar&nbsp;renamed&nbsp;to&nbsp;/home/rtillery/bar&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;...&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:monospace,monospace&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:monospace,monospace&quot;&gt;(console1)&nbsp;~$&nbsp;mono&nbsp;fsw.exe&nbsp;./foo&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;Watching:&nbsp;/home/rtillery/foo&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;Watching:&nbsp;/home/rtillery/bar&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;foo&nbsp;watching&nbsp;ENABLED&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;bar&nbsp;watching&nbsp;ENABLED&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;Press&nbsp;&#39;Q&#39;&nbsp;to&nbsp;quit&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;(console2)&nbsp;~$&nbsp;echo&nbsp;&gt;foobar&nbsp;&quot;test&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;(console2)&nbsp;~$&nbsp;mv&nbsp;foobar&nbsp;bar&lt;/font&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Nothing&nbsp;appears&nbsp;on&nbsp;console&nbsp;1&nbsp;in&nbsp;the&nbsp;second&nbsp;case,&nbsp;but&nbsp;I&nbsp;don&#39;t&nbsp;really&nbsp;see&nbsp;why. &nbsp;I&nbsp;believe&nbsp;I&#39;m&nbsp;setting&nbsp;up&nbsp;the&nbsp;watches&nbsp;in&nbsp;exactly&nbsp;the&nbsp;same&nbsp;way,&nbsp;except&nbsp;that&nbsp;there&nbsp;are&nbsp;two&nbsp;instead&nbsp;of&nbsp;one. &nbsp;Is&nbsp;this&nbsp;a&nbsp;problem&nbsp;with&nbsp;FileSystemWatcher? &nbsp;Code&nbsp;is&nbsp;below.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Rick&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;using&nbsp;System;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;using&nbsp;System.Collections.Generic;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;using&nbsp;System.IO;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;using&nbsp;Mono.Unix;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;//&nbsp;Compile&nbsp;with&nbsp;&quot;mcs&nbsp;fsw.cs&nbsp;/r:Mono.Posix.dll&quot;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;public&nbsp;class&nbsp;FSW&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;private&nbsp;static&nbsp;IDictionary&lt;string,&nbsp;FileSystemWatcher&gt;&nbsp;watches&nbsp;=&nbsp;new&nbsp;Dictionary&lt;string,&nbsp;FileSystemWatcher&gt;();&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;public&nbsp;static&nbsp;void&nbsp;Main()&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;string[]&nbsp;args&nbsp;=&nbsp;System.Environment.GetCommandLineArgs();&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;if&nbsp;(args.Length&nbsp;!=&nbsp;2)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.Console.WriteLine(&quot;USAGE:&nbsp;(mono)&nbsp;fswtest(.exe)&nbsp;file_to_watch&quot;);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;goto&nbsp;Error;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;SetUpWatch(args[1]);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(&quot;Press&nbsp;\&#39;Q\&#39;&nbsp;to&nbsp;quit.&quot;);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;while(Console.Read()&nbsp;!=&nbsp;&#39;q&#39;)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;Error:&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;private&nbsp;static&nbsp;void&nbsp;SetUpWatch(string&nbsp;file)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;do&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AddWatch(file);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file&nbsp;=&nbsp;GetSymbolicLinkTarget(file);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;while&nbsp;(file&nbsp;!=&nbsp;null);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;EnableWatches();&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;private&nbsp;static&nbsp;void&nbsp;AddWatch(string&nbsp;file)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;FileSystemWatcher&nbsp;watcher&nbsp;=&nbsp;new&nbsp;FileSystemWatcher();&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;watcher.Path&nbsp;=&nbsp;Path.GetDirectoryName(file);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;watcher.NotifyFilter&nbsp;=&nbsp;0&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp;NotifyFilters.Attributes&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp;NotifyFilters.CreationTime&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp;NotifyFilters.DirectoryName&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp;NotifyFilters.FileName&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp;NotifyFilters.LastAccess&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp;NotifyFilters.LastWrite&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp;NotifyFilters.Security&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp;NotifyFilters.Size&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;watcher.Filter&nbsp;=&nbsp;Path.GetFileName(file);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;watcher.Changed&nbsp;+=&nbsp;new&nbsp;FileSystemEventHandler(OnChanged);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;watcher.Created&nbsp;+=&nbsp;new&nbsp;FileSystemEventHandler(OnChanged);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;watcher.Deleted&nbsp;+=&nbsp;new&nbsp;FileSystemEventHandler(OnChanged);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;//&nbsp; &nbsp; &nbsp; &nbsp; watcher.Disposed&nbsp;//&nbsp;Occurs&nbsp;when&nbsp;the&nbsp;component&nbsp;is&nbsp;disposed&nbsp;by&nbsp;a&nbsp;call&nbsp;to&nbsp;the&nbsp;Dispose&nbsp;method.&nbsp;(Inherited&nbsp;from&nbsp;Component.)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;//&nbsp; &nbsp; &nbsp; &nbsp; watcher.Error&nbsp;//&nbsp;Occurs&nbsp;when&nbsp;the&nbsp;instance&nbsp;of&nbsp;FileSystemWatcher&nbsp;is&nbsp;unable&nbsp;to&nbsp;continue&nbsp;monitoring&nbsp;changes&nbsp;or&nbsp;when&nbsp;the&nbsp;internal&nbsp;buffer&nbsp;overflows.&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;watcher.Renamed&nbsp;+=&nbsp;new&nbsp;RenamedEventHandler(OnRenamed);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;watches.Add(Path.GetFullPath(file),&nbsp;watcher);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;Console.WriteLine(&quot;Watching:&nbsp;&quot;&nbsp;+&nbsp;Path.GetFullPath(file));&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;private&nbsp;static&nbsp;string&nbsp;GetSymbolicLinkTarget(string&nbsp;file)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;UnixSymbolicLinkInfo&nbsp;link&nbsp;=&nbsp;new&nbsp;UnixSymbolicLinkInfo(file);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;return&nbsp;link.HasContents&nbsp;?&nbsp;link.GetContents().FullName&nbsp;:&nbsp;null;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;private&nbsp;static&nbsp;void&nbsp;EnableWatches()&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;foreach&nbsp;(KeyValuePair&lt;string,&nbsp;FileSystemWatcher&gt;&nbsp;watch&nbsp;in&nbsp;watches)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;watch.Value.EnableRaisingEvents&nbsp;=&nbsp;true;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;Console.WriteLine(&quot;&quot;&nbsp;+&nbsp;watch.Value.Filter&nbsp;+&nbsp;&quot;&nbsp;watching&nbsp;ENABLED&quot;);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;private&nbsp;static&nbsp;void&nbsp;OnChanged(object&nbsp;source,&nbsp;FileSystemEventArgs&nbsp;eventargs)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(&quot;File:&nbsp;\&quot;&quot;&nbsp;+&nbsp;eventargs.FullPath&nbsp;+&nbsp;&quot;\&quot;&nbsp;--&nbsp;&quot;&nbsp;+&nbsp;eventargs.ChangeType);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;private&nbsp;static&nbsp;void&nbsp;OnRenamed(object&nbsp;source,&nbsp;RenamedEventArgs&nbsp;eventargs)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(&quot;File:&nbsp;{0}&nbsp;renamed&nbsp;to&nbsp;{1}&quot;,&nbsp;eventargs.OldFullPath,&nbsp;eventargs.FullPath);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;monospace,&nbsp;monospace&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
