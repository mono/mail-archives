Index: ChangeLog
===================================================================
--- ChangeLog	(revision 41642)
+++ ChangeLog	(working copy)
@@ -1,3 +1,10 @@
+2005-03-10  Sebastien Pouliot  <sebastien@ximian.com>
+
+	* mono-api-info.exe: Don't process attributes inheriting from 
+	SecurityAttribute as we won't ever match them 100% (at least from a 
+	syntaxic point of view). The tool permview.exe can be used to extract
+	and compare them if/when required.
+
 2005-02-21  Michal Moskal  <malekith@pld-linux.org>
 
 	* Makefile (PROGRAM_INSTALL_DIR): Define in terms of $(libdir).
Index: mono-api-info.cs
===================================================================
--- mono-api-info.cs	(revision 41642)
+++ mono-api-info.cs	(working copy)
@@ -4,7 +4,7 @@
 // Authors:
 //	Gonzalo Paniagua Javier (gonzalo@ximian.com)
 //
-// (C) 2003 Novell, Inc (http://www.novell.com)
+// Copyright (C) 2003-2005 Novell, Inc (http://www.novell.com)
 //
 
 using System;
@@ -12,6 +12,7 @@
 using System.Globalization;
 using System.Reflection;
 using System.Runtime.InteropServices;
+using System.Security.Permissions;
 using System.Text;
 using System.Xml;
 
@@ -813,6 +814,13 @@
 				if (!t.IsPublic && !t.Name.EndsWith ("TODOAttribute"))
 					continue;
 
+				// we ignore attributes that inherit from SecurityAttribute on purpose as they:
+				// * aren't part of GetCustomAttributes in Fx 1.0/1.1;
+				// * are encoded differently and in a different metadata table; and
+				// * won't ever exactly match MS implementation (from a syntax pov)
+				if (t.IsSubclassOf (typeof (SecurityAttribute)))
+					continue;
+
 				XmlNode node = document.CreateElement ("attribute");
 				AddAttribute (node, "name", t.FullName);
 
