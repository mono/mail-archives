Index: object.h
===================================================================
RCS file: /mono/mono/mono/metadata/object.h,v
retrieving revision 1.95
diff -u -r1.95 object.h
--- object.h	18 Jun 2003 10:30:25 -0000	1.95
+++ object.h	2 Jul 2003 05:34:39 -0000
@@ -147,7 +147,7 @@
 	MonoString *class_name;
 	MonoString *stack_trace;
 	MonoString *remote_stack_trace;
-	gint32     *remote_stack_index;
+	gint32      remote_stack_index;
 	gint32      hresult;
 	MonoString *source;
 } MonoException;
Index: verify.c
===================================================================
RCS file: /mono/mono/mono/metadata/verify.c,v
retrieving revision 1.29
diff -u -r1.29 verify.c
--- verify.c	29 May 2003 11:02:35 -0000	1.29
+++ verify.c	2 Jul 2003 05:34:40 -0000
@@ -2543,7 +2543,10 @@
 	const ClassDesc *cdesc;
 	const NameSpaceDesc *ndesc;
 	gint struct_offset;
-
+        
+	char * result;
+	result = NULL;
+	
 	for (ndesc = namespaces_to_check; ndesc->name; ++ndesc) {
 		for (cdesc = ndesc->types; cdesc->name; ++cdesc) {
 			klass = mono_class_from_name (corlib, ndesc->name, cdesc->name);
@@ -2555,17 +2558,26 @@
 			 * we're going to have trouble when we access them in arrays.
 			 */
 			if (klass->valuetype)
-				struct_offset = 8;
+			{
+				/* 64-bit.  Really 2 * sizeof void* */
+				struct_offset = 2 * sizeof( void * );
+			}
 			else
 				struct_offset = 0;
 			for (fdesc = cdesc->fields; fdesc->name; ++fdesc) {
 				field = mono_class_get_field_from_name (klass, fdesc->name);
 				if (!field || (field->offset != (fdesc->offset + struct_offset)))
-					return g_strdup_printf ("field `%s' mismatch in class %s (%ld != %ld)", fdesc->name, cdesc->name, (long) fdesc->offset, (long) (field?field->offset:-1));
+				{
+					printf ("field `%s' mismatch in class %s (%ld + %ld != %ld)\n", fdesc->name, cdesc->name, (long) fdesc->offset, (long)struct_offset, (long) (field?field->offset:-1));
+
+					if( result == NULL )
+						result = g_strdup_printf ("field `%s' mismatch in class %s (%ld + %ld != %ld)", fdesc->name, cdesc->name, (long) fdesc->offset, (long)struct_offset, (long) (field?field->offset:-1));
+				}
 			}
 		}
 	}
-	return NULL;
+	
+	return result;
 }
 
 char*
