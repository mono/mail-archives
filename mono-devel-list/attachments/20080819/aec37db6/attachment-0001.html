<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Attached&nbsp;are&nbsp;multiple&nbsp;patches&nbsp;for&nbsp;utf8&nbsp;functionality.&amp;nbsp;&nbsp;Please&nbsp;review.&lt;br&gt;&lt;br&gt;-----------------------------&lt;br&gt;utf8_additions.patch&lt;br&gt;-----------------------------&lt;br&gt;Adds&nbsp;Implementations&nbsp;&amp;amp;&nbsp;Tests&nbsp;to&nbsp;eglib&nbsp;for&nbsp;:&lt;br&gt;<br>
<br>
-g_utf8_strlen&lt;br&gt;-g_utf8_get_char&lt;br&gt;-g_utf8_next_char&lt;br&gt;&lt;br&gt;Adds&nbsp;tests&nbsp;for&nbsp;g_utf8_validate,&nbsp;which&nbsp;fail&nbsp;on&nbsp;eglib&nbsp;but&nbsp;pass&nbsp;on&nbsp;glib,&nbsp;more&nbsp;on&nbsp;this&nbsp;below.&lt;br&gt;&lt;br&gt;--------------------------&lt;br&gt;utf8_validate.patch&lt;br&gt;--------------------------&lt;br&gt;<br>
<br>
Adds&nbsp;a&nbsp;new&nbsp;implementation&nbsp;of&nbsp;g_utf8_validate&nbsp;to&nbsp;eglib.&amp;nbsp;&nbsp;This&nbsp;will&nbsp;fix&nbsp;the&nbsp;eglib&nbsp;test&nbsp;failures&nbsp;above.&lt;br&gt;&lt;br&gt;--------------------------&lt;br&gt;mono_utils.patch&lt;br&gt;--------------------------&lt;br&gt;Adds<br>
a&nbsp;function&nbsp;requested&nbsp;by&nbsp;Kumpera&nbsp;to&nbsp;combine&nbsp;the&nbsp;functionality&nbsp;of<br>
g_utf8_validate&nbsp;and&nbsp;g_utf8_strlen.&lt;br&gt;<br>
&lt;br&gt;-------------------------&lt;br&gt;utf8_fulltest.c&lt;br&gt;-------------------------&lt;br&gt;A<br>
stand&nbsp;alone&nbsp;test&nbsp;program&nbsp;to&nbsp;test&nbsp;all&nbsp;of&nbsp;my&nbsp;functions&nbsp;included&nbsp;in&nbsp;these<br>
patches.&nbsp;It&nbsp;compares&nbsp;my&nbsp;function&nbsp;results&nbsp;to&nbsp;glib&amp;#39;s&nbsp;across&nbsp;all&nbsp;valid&nbsp;and<br>
invalid&nbsp;utf8&nbsp;values.&amp;nbsp;&nbsp;i.e.&nbsp;0x00000000&nbsp;to&nbsp;0xFFFFFFFF.&amp;nbsp;&nbsp;My&nbsp;results&nbsp;match<br>
glib&amp;#39;s&nbsp;across&nbsp;the&nbsp;whole&nbsp;range.&amp;nbsp;&nbsp;The&nbsp;program&nbsp;also&nbsp;tests&nbsp;the&nbsp;current<br>
g_utf8_validate&nbsp;function&nbsp;in&nbsp;eglib&nbsp;to&nbsp;show&nbsp;that&nbsp;it&nbsp;has&nbsp;a&nbsp;significant<br>
number&nbsp;of&nbsp;differences&nbsp;with&nbsp;glib.&lt;br&gt;<br>
&lt;br&gt;Kumpera&nbsp;and&nbsp;I&nbsp;are&nbsp;not&nbsp;sure&nbsp;on&nbsp;the&nbsp;best&nbsp;approach&nbsp;for&nbsp;including&nbsp;these<br>
tests&nbsp;into&nbsp;the&nbsp;eglib&nbsp;tests.&amp;nbsp;&nbsp;The&nbsp;test&nbsp;is&nbsp;very&nbsp;time&nbsp;consuming,&nbsp;and&nbsp;I<br>
personally&nbsp;don&amp;#39;t&nbsp;think&nbsp;putting&nbsp;it&nbsp;into&nbsp;the&nbsp;existing&nbsp;eglib&nbsp;test&nbsp;suite&nbsp;is<br>
the&nbsp;best&nbsp;idea.&amp;nbsp;&nbsp;Not&nbsp;to&nbsp;mention&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;exactly&nbsp;fit&nbsp;the&nbsp;existing<br>
eglib&nbsp;test&nbsp;suite&nbsp;model&nbsp;since&nbsp;it&nbsp;compares&nbsp;eglib&nbsp;to&nbsp;glib.&amp;nbsp;&nbsp;Any<br>
suggestions&nbsp;would&nbsp;be&nbsp;much&nbsp;appreciated.&lt;br&gt;<br>
&lt;br&gt;To&nbsp;compile&nbsp;&amp;gt;&nbsp;gcc&nbsp;utf8_fulltest.c&nbsp;-I/usr/include/glib-2.0&nbsp;-I/usr/lib/glib-2.0/include&nbsp;-L/usr/lib&nbsp;-lglib-2.0&lt;br&gt;&lt;br&gt;&lt;br&gt;Mike&nbsp;Voorhees&lt;/div&gt;<br>

</tt>
