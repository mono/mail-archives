using System;
using System.Text;

class C
{
	public static void Main()
	{
		Test_Cycle(100000000, "nmo", "abcdefgh".ToCharArray());
		Test_Cycle(100000000, "adnf-*asdn", new char[] { '-', '*' });
		Test_Cycle(20000000, "adnfasdnfalskdjhfaskdhfaskdjh.qwsfla*skjdflakk", new char[] { '/', '\\', '?' });
	}

	static void Test_Cycle(int iterations, string line, char[] any_char)
	{
		Console.WriteLine("Iterations: " + iterations);
		Console.WriteLine("Testing string: " + line);

		DateTime start = DateTime.Now;
		for (int i = 0; i != iterations; ++i)
			line.IndexOf('*');
		TimeSpan duration = DateTime.Now - start;

		Console.WriteLine("{0}\tIndexOf('*')", duration);

		start = DateTime.Now;
		for (int i = 0; i != iterations; ++i)
			line.LastIndexOf('-');
		duration = DateTime.Now - start;

		Console.WriteLine("{0}\tLastIndexOf('-')", duration);

		start = DateTime.Now;
		for (int i = 0; i != iterations; ++i)
			line.IndexOfAny(any_char);
		duration = DateTime.Now - start;

		StringBuilder sb = new StringBuilder();
		for (int i = 0; i < any_char.Length; ++i)
		{
			if (i > 0)
				sb.Append(",");
			sb.Append("'");
			sb.Append (any_char[i]);
			sb.Append("'");
		}
		Console.WriteLine("{0}\tLastIndexOfAny({1})", duration, sb.ToString());

		start = DateTime.Now;
		for (int i = 0; i != iterations; ++i)
			line.Replace('&', 'A'); // '&' does not exist in string
		duration = DateTime.Now - start;
		Console.WriteLine("{0}\tReplace('&', 'A')", duration);

		start = DateTime.Now;
		for (int i = 0; i != iterations; ++i)
			line.Replace('*', 'A');
		duration = DateTime.Now - start;
		Console.WriteLine("{0}\tReplace('*', 'A')", duration);

		Console.WriteLine();
	}
}