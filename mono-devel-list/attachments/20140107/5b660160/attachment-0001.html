<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Interesting&nbsp;issue&nbsp;came&nbsp;up&nbsp;today.&nbsp;All&nbsp;code&nbsp;works&nbsp;fine&nbsp;when&nbsp;run&nbsp;with&nbsp;mono&nbsp;regularly.&nbsp;However&nbsp;when&nbsp;we&nbsp;statically&nbsp;link&nbsp;mono&nbsp;and&nbsp;put&nbsp;the&nbsp;system&nbsp;under&nbsp;pressure&nbsp;we&nbsp;end&nbsp;up&nbsp;getting&nbsp;a&nbsp;SIGABRT&nbsp;on&nbsp;a&nbsp;fairly&nbsp;innocuous&nbsp;call&nbsp;(not&nbsp;right&nbsp;away).&nbsp;We&nbsp;cannot&nbsp;reproduce&nbsp;this&nbsp;with&nbsp;mono&nbsp;not&nbsp;statically&nbsp;linked.&nbsp;Anyone&nbsp;have&nbsp;any&nbsp;ideas&nbsp;where&nbsp;to&nbsp;start&nbsp;looking?&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;pre&nbsp;class=&quot;&quot;&nbsp;style=&quot;font-family:Consolas,&#39;Liberation&nbsp;Mono&#39;,Courier,monospace;font-size:12px;line-height:16px;width:1428px;margin-top:0px;margin-bottom:0px;padding:0px;color:rgb(0,0,0)&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC6&quot;&gt;<br>
&nbsp;&nbsp;at&nbsp;&lt;unknown&gt;&nbsp;&lt;0xffffffff&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC7&quot;&gt;&nbsp;&nbsp;at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;object.__icall_wrapper_mono_array_new_specific&nbsp;(intptr,int)&nbsp;&lt;0xffffffff&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC8&quot;&gt;<br>
&nbsp;&nbsp;at&nbsp;System.IO.MemoryStream.set_Capacity&nbsp;(int)&nbsp;&lt;0x00077&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC9&quot;&gt;&nbsp;&nbsp;at&nbsp;System.IO.MemoryStream.Expand&nbsp;(int)&nbsp;&lt;0x00036&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC10&quot;&gt;&nbsp;&nbsp;at&nbsp;System.IO.MemoryStream.Write&nbsp;(byte[],int,int)&nbsp;&lt;0x00093&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC11&quot;&gt;&nbsp;&nbsp;at&nbsp;ProtoBuf.ProtoWriter.Flush&nbsp;(ProtoBuf.ProtoWriter)&nbsp;&lt;0x00034&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC12&quot;&gt;&nbsp;&nbsp;at&nbsp;ProtoBuf.ProtoWriter.Dispose&nbsp;()&nbsp;&lt;0x0001b&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC13&quot;&gt;<br>
&nbsp;&nbsp;at&nbsp;ProtoBuf.ProtoWriter.Close&nbsp;()&nbsp;&lt;0x00023&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC14&quot;&gt;&nbsp;&nbsp;at&nbsp;ProtoBuf.Meta.TypeModel.Serialize&nbsp;(System.IO.Stream,object,ProtoBuf.SerializationContext)&nbsp;&lt;0x00087&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC15&quot;&gt;<br>
&nbsp;&nbsp;at&nbsp;ProtoBuf.Meta.TypeModel.Serialize&nbsp;(System.IO.Stream,object)&nbsp;&lt;0x0001b&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC16&quot;&gt;&nbsp;&nbsp;at&nbsp;ProtoBuf.Serializer.Serialize&lt;T&gt;&nbsp;(System.IO.Stream,T)&nbsp;&lt;0x00037&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC17&quot;&gt;<br>
&nbsp;&nbsp;at&nbsp;EventStore.Core.Services.Transport.Tcp.ProtobufExtensions.Serialize&lt;T&gt;&nbsp;(T)&nbsp;&lt;0x00073&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC18&quot;&gt;&nbsp;&nbsp;at&nbsp;EventStore.Core.Services.Transport.Tcp.InternalTcpDispatcher.WrapDataChunkBulk&nbsp;(EventStore.Core.Messages.ReplicationMessage/DataChunkBulk)&nbsp;&lt;0x00153&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC19&quot;&gt;&nbsp;&nbsp;at&nbsp;(wrapper&nbsp;delegate-invoke)&nbsp;System.Func`2&lt;EventStore.Core.Messages.ReplicationMessage/DataChunkBulk,&nbsp;EventStore.Core.Services.Transport.Tcp.TcpPackage&gt;.invoke_TResult__this___T&nbsp;(EventStore.Core.Message&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC20&quot;&gt;s.ReplicationMessage/DataChunkBulk)&nbsp;&lt;0xffffffff&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC21&quot;&gt;&nbsp;&nbsp;at&nbsp;EventStore.Core.Services.Transport.Tcp.TcpDispatcher/&lt;AddWrapper&gt;c__AnonStorey4D`1.&lt;&gt;m__10A&nbsp;(EventStore.Core.Messaging.Message)&nbsp;&lt;0x00057&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC22&quot;&gt;&nbsp;&nbsp;at&nbsp;(wrapper&nbsp;delegate-invoke)&nbsp;System.Func`2&lt;EventStore.Core.Messaging.Message,&nbsp;EventStore.Core.Services.Transport.Tcp.TcpPackage&gt;.invoke_TResult__this___T&nbsp;(EventStore.Core.Messaging.Message)&nbsp;&lt;0xffffffff&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC23&quot;&gt;&nbsp;&nbsp;at&nbsp;EventStore.Core.Services.Transport.Tcp.TcpDispatcher.WrapMessage&nbsp;(EventStore.Core.Messaging.Message)&nbsp;&lt;0x000d6&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC24&quot;&gt;&nbsp;&nbsp;at&nbsp;EventStore.Core.Services.Transport.Tcp.TcpConnectionManager.SendMessage&nbsp;(EventStore.Core.Messaging.Message)&nbsp;&lt;0x0004c&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC25&quot;&gt;&nbsp;&nbsp;at&nbsp;EventStore.Core.Services.TcpSendService.Handle&nbsp;(EventStore.Core.Messages.TcpMessage/TcpSend)&nbsp;&lt;0x0001f&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC26&quot;&gt;&nbsp;&nbsp;at&nbsp;EventStore.Core.Bus.MessageHandler`1.TryHandle&nbsp;(EventStore.Core.Messaging.Message)&nbsp;&lt;0x00094&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC27&quot;&gt;&nbsp;&nbsp;at&nbsp;EventStore.Core.Bus.InMemoryBus.Publish&nbsp;(EventStore.Core.Messaging.Message)&nbsp;&lt;0x000fe&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC28&quot;&gt;&nbsp;&nbsp;at&nbsp;EventStore.Core.Bus.InMemoryBus.Handle&nbsp;(EventStore.Core.Messaging.Message)&nbsp;&lt;0x00013&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC29&quot;&gt;&nbsp;&nbsp;at&nbsp;EventStore.Core.Bus.QueuedHandlerThreadPool.ReadFromQueue&nbsp;(object)&nbsp;&lt;0x00137&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC30&quot;&gt;&nbsp;&nbsp;at&nbsp;(wrapper&nbsp;runtime-invoke)&nbsp;&lt;Module&gt;.runtime_invoke_void__this___object&nbsp;(object,intptr,intptr,intptr)&nbsp;&lt;0xffffffff&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC31&quot;&gt; &lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC32&quot;&gt;Native&nbsp;stacktrace:&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC33&quot;&gt; &lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC34&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x6215be]&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC35&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/lib/x86_64-linux-gnu/libpthread.so.0(+0xfcb0)&nbsp;[0x7f289d4f2cb0]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC36&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x35)&nbsp;[0x7f289d159425]&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC37&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/lib/x86_64-linux-gnu/libc.so.6(abort+0x17b)&nbsp;[0x7f289d15cb8b]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC38&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x5803dd]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC39&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x580472]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC40&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x524a24]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC41&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x528c0e]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC42&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x52cf61]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC43&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x52e541]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC44&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x51283f]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC45&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x5186b3]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC46&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x518c6b]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC47&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x50b487]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC48&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode()&nbsp;[0x50b6d8]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC49&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./clusternode(mono_array_new_specific+0x36)&nbsp;[0x4e4256]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC50&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[0x41e25187]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC51&quot;&gt;<br>
 &lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC52&quot;&gt;Debug&nbsp;info&nbsp;from&nbsp;gdb:&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC53&quot;&gt; &lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC54&quot;&gt; &lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC55&quot;&gt;=================================================================&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC56&quot;&gt;Got&nbsp;a&nbsp;SIGABRT&nbsp;while&nbsp;executing&nbsp;native&nbsp;code.&nbsp;This&nbsp;usually&nbsp;indicates&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC57&quot;&gt;a&nbsp;fatal&nbsp;error&nbsp;in&nbsp;the&nbsp;mono&nbsp;runtime&nbsp;or&nbsp;one&nbsp;of&nbsp;the&nbsp;native&nbsp;libraries&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC58&quot;&gt;<br>
used&nbsp;by&nbsp;your&nbsp;application.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC59&quot;&gt;=================================================================&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC60&quot;&gt; &lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;id=&quot;file-error-txt-LC61&quot;&gt;<br>
Aborted&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;Le&nbsp;doute&nbsp;n&#39;est&nbsp;pas&nbsp;une&nbsp;condition&nbsp;agréable,&nbsp;mais&nbsp;la&nbsp;certitude&nbsp;est&nbsp;absurde.<br>
&lt;/div&gt;<br>

</tt>
