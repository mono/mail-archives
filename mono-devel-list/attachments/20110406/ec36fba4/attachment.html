<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#ffffff&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;04/06/2011&nbsp;03:18&nbsp;AM,&nbsp;Marek&nbsp;Safar&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;cite=&quot;mid:4D9C13DE.7050008@gmail.com&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hello,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic&nbsp;class&nbsp;Sort&amp;lt;T&amp;gt;&nbsp;{<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppublic&nbsp;delegate&nbsp;int&nbsp;Comparison&nbsp;(T&nbsp;v0,&nbsp;T&nbsp;v1);<br>
<br>
You&nbsp;don't&nbsp;need&nbsp;yet&nbsp;another&nbsp;delegate,&nbsp;just&nbsp;use&nbsp;standard&nbsp;Func<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;It&nbsp;was&nbsp;just&nbsp;a&nbsp;quick&nbsp;hack&nbsp;to&nbsp;get&nbsp;things&nbsp;going,&nbsp;if&nbsp;we&nbsp;decide&nbsp;it's<br>
&nbsp;&nbsp;&nbsp;&nbsp;worth&nbsp;having&nbsp;corlib&nbsp;move&nbsp;to&nbsp;my&nbsp;QuickSort&nbsp;implementation,&nbsp;it&nbsp;would<br>
&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;the&nbsp;same&nbsp;standard&nbsp;func&nbsp;corlib&nbsp;is&nbsp;using&nbsp;now.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;cite=&quot;mid:4D9C13DE.7050008@gmail.com&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
&amp;gt;&amp;gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspstatic&nbsp;readonly&nbsp;int&nbsp;INSERTIONSORT_THRESHOLD&nbsp;=&nbsp;7;<br>
<br>
Why&nbsp;not&nbsp;to&nbsp;used&nbsp;const&nbsp;int&nbsp;?<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;never&nbsp;learned&nbsp;when&nbsp;to&nbsp;use&nbsp;const&nbsp;vs&nbsp;static/readonly&nbsp;in&nbsp;C#&nbsp;:-(&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;assume&nbsp;you&nbsp;suggest&nbsp;const&nbsp;because&nbsp;it&nbsp;is&nbsp;more&nbsp;appropriate,&nbsp;so&nbsp;I&nbsp;will<br>
&nbsp;&nbsp;&nbsp;&nbsp;:-)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;cite=&quot;mid:4D9C13DE.7050008@gmail.com&quot;&nbsp;type=&quot;cite&quot;&gt;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;More&nbsp;importantly&nbsp;what&nbsp;is&nbsp;performance&nbsp;of&nbsp;sorting&nbsp;array&nbsp;of&nbsp;10-20<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elements&nbsp;called&nbsp;1000000&nbsp;times&nbsp;?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I've&nbsp;attached&nbsp;a&nbsp;sample&nbsp;program&nbsp;to&nbsp;test&nbsp;this&nbsp;in&nbsp;case&nbsp;you'd&nbsp;like&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;play&nbsp;with&nbsp;it&nbsp;some&nbsp;more,&nbsp;but&nbsp;here&nbsp;are&nbsp;the&nbsp;results&nbsp;on&nbsp;my&nbsp;system&nbsp;for&nbsp;20<br>
&nbsp;&nbsp;&nbsp;&nbsp;elements&nbsp;@&nbsp;1&nbsp;million&nbsp;iterations:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;[fejj@serenity&nbsp;sorting]$&nbsp;mono&nbsp;./qsort-small.exe&nbsp;-random&nbsp;1000000&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Timings&nbsp;for&nbsp;sorting&nbsp;20&nbsp;random&nbsp;items&nbsp;1000000&nbsp;times.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Basic&nbsp;QuickSort&nbsp;finished&nbsp;in:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;00:00:03.0227324s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;QuickSort+Insertion&nbsp;finished&nbsp;in:&nbsp;00:00:02.5357660s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;[fejj@serenity&nbsp;sorting]$&nbsp;mono&nbsp;./qsort-small.exe&nbsp;-sorted&nbsp;1000000&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Timings&nbsp;for&nbsp;sorting&nbsp;20&nbsp;sorted&nbsp;items&nbsp;1000000&nbsp;times.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Basic&nbsp;QuickSort&nbsp;finished&nbsp;in:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;00:00:02.3003898s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;QuickSort+Insertion&nbsp;finished&nbsp;in:&nbsp;00:00:01.9493073s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;[fejj@serenity&nbsp;sorting]$&nbsp;mono&nbsp;./qsort-small.exe&nbsp;-reversed&nbsp;1000000&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Timings&nbsp;for&nbsp;sorting&nbsp;20&nbsp;reversed&nbsp;items&nbsp;1000000&nbsp;times.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Basic&nbsp;QuickSort&nbsp;finished&nbsp;in:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;00:00:02.4001482s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;QuickSort+Insertion&nbsp;finished&nbsp;in:&nbsp;00:00:02.3277809s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;And&nbsp;here&nbsp;are&nbsp;the&nbsp;results&nbsp;for&nbsp;10&nbsp;elements&nbsp;@&nbsp;1&nbsp;million&nbsp;iterations:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;[fejj@serenity&nbsp;sorting]$&nbsp;mono&nbsp;./qsort-small.exe&nbsp;-random&nbsp;1000000&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Timings&nbsp;for&nbsp;sorting&nbsp;10&nbsp;random&nbsp;items&nbsp;1000000&nbsp;times.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Basic&nbsp;QuickSort&nbsp;finished&nbsp;in:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;00:00:01.8165901s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;QuickSort+Insertion&nbsp;finished&nbsp;in:&nbsp;00:00:01.7363410s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;[fejj@serenity&nbsp;sorting]$&nbsp;mono&nbsp;./qsort-small.exe&nbsp;-sorted&nbsp;1000000&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Timings&nbsp;for&nbsp;sorting&nbsp;10&nbsp;sorted&nbsp;items&nbsp;1000000&nbsp;times.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Basic&nbsp;QuickSort&nbsp;finished&nbsp;in:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;00:00:01.7398261s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;QuickSort+Insertion&nbsp;finished&nbsp;in:&nbsp;00:00:01.5270049s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;[fejj@serenity&nbsp;sorting]$&nbsp;mono&nbsp;./qsort-small.exe&nbsp;-reversed&nbsp;1000000&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Timings&nbsp;for&nbsp;sorting&nbsp;10&nbsp;reversed&nbsp;items&nbsp;1000000&nbsp;times.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Basic&nbsp;QuickSort&nbsp;finished&nbsp;in:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;00:00:01.7166351s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;QuickSort+Insertion&nbsp;finished&nbsp;in:&nbsp;00:00:01.6798535s&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hope&nbsp;that&nbsp;helps,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Jeff&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
