<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;currently&nbsp;implementing&nbsp;REPL&nbsp;functionality&nbsp;in&nbsp;my&nbsp;app&nbsp;that&nbsp;embeds&nbsp;mono&nbsp;runtime&nbsp;(3.0.1),&nbsp;and&nbsp;I&#39;ve&nbsp;encountered&nbsp;some&nbsp;issues&nbsp;when&nbsp;evaluating&nbsp;code&nbsp;that&nbsp;contains&nbsp;dynamic&nbsp;invocation.&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;For&nbsp;example,&nbsp;consider&nbsp;this&nbsp;simple&nbsp;dynamic&nbsp;class:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;public&nbsp;class&nbsp;Foo&nbsp;:&nbsp;DynamicObject&nbsp;{&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;public&nbsp;override&nbsp;bool&nbsp;TryGetMember(GetMemberBinder&nbsp;binder,&nbsp;out&nbsp;object&nbsp;result)&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt; &lt;/span&gt;{&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;result&nbsp;=&nbsp;5;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;return&nbsp;true;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;}&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&lt;/span&gt;}&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;following&nbsp;Evaluator&nbsp;initialization:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;var&nbsp;settings&nbsp;=&nbsp;new&nbsp;CompilerSettings();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;var&nbsp;printer&nbsp;=&nbsp;new&nbsp;ConsoleReportPrinter();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;eval&nbsp;=&nbsp;new&nbsp;Evaluator(new&nbsp;CompilerContext(settings,&nbsp;printer));&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;eval.ReferenceAssembly(typeof(REPL).Assembly);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;eval.Run(&quot;using&nbsp;System;&quot;);&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;the&nbsp;evaluation&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;dynamic&nbsp;f&nbsp;=&nbsp;new&nbsp;Program.Foo();&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;f.Whatever;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;gives&nbsp;following&nbsp;error:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;error&nbsp;CS0518:&nbsp;The&nbsp;predefined&nbsp;type&nbsp;Microsoft.CSharp.RuntimeBinder.Binder&#39;&nbsp;is&nbsp;not defined&nbsp;or&nbsp;imported (1,4):&nbsp;error&nbsp;CS1969:&nbsp;Dynamic&nbsp;operation&nbsp;cannot&nbsp;be&nbsp;compiled&nbsp;without&nbsp;`Microsoft.CSharp.dll&#39;&nbsp;assembly&nbsp;reference.&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;I&nbsp;went&nbsp;off&nbsp;and&nbsp;added&nbsp;following:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;eval.ReferenceAssembly(typeof(Microsoft.CSharp.RuntimeBinder.Binder).Assembly);&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;which&nbsp;now&nbsp;gave&nbsp;following&nbsp;warning:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;warning&nbsp;CS1685:&nbsp;The&nbsp;predefined&nbsp;type&nbsp;`Microsoft.CSharp.RuntimeBinder.Binder&#39;&nbsp;is&nbsp;d&lt;/div&gt;&lt;div&gt;efined&nbsp;multiple&nbsp;times.&nbsp;Using&nbsp;definition&nbsp;from&nbsp;`Microsoft.CSharp.dll&#39;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
What&nbsp;I&nbsp;ended&nbsp;up&nbsp;using&nbsp;was&nbsp;to&nbsp;just&nbsp;use&nbsp;one&nbsp;of&nbsp;the&nbsp;types&nbsp;from&nbsp;Microsoft.CSharp&nbsp;assembly&nbsp;in&nbsp;my&nbsp;code,&nbsp;before&nbsp;even&nbsp;calling&nbsp;Evaluator&nbsp;(to&nbsp;force&nbsp;the&nbsp;runtime&nbsp;to&nbsp;load&nbsp;the&nbsp;types&nbsp;into&nbsp;the&nbsp;assembly),&nbsp;something&nbsp;like:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;var&nbsp;r&nbsp;=&nbsp;Microsoft.CSharp.RuntimeBinder.Binder.IsEvent(Microsoft.CSharp.RuntimeBinder.CSharpBinderFlags.BinaryOperationLogical,&nbsp;&quot;gf&quot;,&nbsp;typeof(int));&nbsp;//&nbsp;just&nbsp;do&nbsp;whatever&nbsp;involving&nbsp;those&nbsp;types&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;Am&nbsp;I&nbsp;missing&nbsp;some&nbsp;initialization&nbsp;option&nbsp;for&nbsp;Evaluator,&nbsp;or&nbsp;should&nbsp;I&nbsp;reference&nbsp;Microsoft.CSharp&nbsp;assembly&nbsp;like&nbsp;in&nbsp;the&nbsp;above&nbsp;code&nbsp;and&nbsp;just&nbsp;ignore&nbsp;the&nbsp;warning?&lt;/div&gt;<br>

</tt>
