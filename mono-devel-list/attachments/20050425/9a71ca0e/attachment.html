<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2900.2627&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;Hi,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=316101713-25042005&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
We&nbsp;have&nbsp;an&nbsp;app&nbsp;that&nbsp;uses&nbsp;a&nbsp;StreamWriter&nbsp;to&nbsp;write&nbsp;logging&nbsp;and&nbsp;debugging&nbsp;info&nbsp;to&nbsp;a&nbsp;<br>
file.&amp;nbsp;&nbsp;If&nbsp;I&nbsp;terminate&nbsp;the&nbsp;app&nbsp;(Ctrl&nbsp;-c)&nbsp;when&nbsp;it&nbsp;is&nbsp;running,&nbsp;then&nbsp;re-launch&nbsp;<br>
it,&nbsp;I&nbsp;get&nbsp;an&nbsp;access&nbsp;violation/&amp;nbsp;sharing&nbsp;violation&amp;nbsp;when&nbsp;the&nbsp;StreamWriter&nbsp;<br>
is&nbsp;created.&amp;nbsp;&nbsp;I&nbsp;can't&nbsp;seem&nbsp;to&nbsp;remember&nbsp;this&nbsp;being&nbsp;an&nbsp;issue,&nbsp;before&nbsp;the&nbsp;IO&nbsp;<br>
layer&nbsp;became&nbsp;daemon-less.&amp;nbsp;&nbsp;This&nbsp;only&nbsp;affects&nbsp;recent&nbsp;builds&nbsp;and&nbsp;our&nbsp;<br>
RedHat&amp;nbsp;9&nbsp;box&amp;nbsp;running&nbsp;1.1.7&nbsp;is&nbsp;fine.&amp;nbsp;&nbsp;However,&nbsp;Debian&nbsp;running&nbsp;<br>
Revision&nbsp;43534&nbsp;is&nbsp;broken.&nbsp;And&nbsp;I&nbsp;know&nbsp;it&amp;nbsp;affects&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;also.&amp;nbsp;&nbsp;I&nbsp;have&nbsp;<br>
included&nbsp;some&amp;nbsp;sample&nbsp;code,&nbsp;and&nbsp;if&amp;nbsp;needed&nbsp;I&nbsp;can&nbsp;file&nbsp;a&nbsp;bug&nbsp;<br>
report.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;Thanks&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=316101713-25042005&gt;Andrew&nbsp;<br>
Gleave&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=316101713-25042005&gt;Software&nbsp;<br>
Engineer&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;Exception:&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=316101713-25042005&gt;Unhandled&nbsp;Exception:&nbsp;<br>
System.IO.IOException:&nbsp;Sharing&nbsp;violation&nbsp;on&nbsp;path&nbsp;TestApp.log&lt;BR&gt;in&nbsp;<br>
&amp;lt;0x0032a&amp;gt;&nbsp;System.IO.FileStream:.ctor&nbsp;(System.String&nbsp;name,&nbsp;FileMode&nbsp;mode,&nbsp;<br>
FileAccess&nbsp;access,&nbsp;FileShare&nbsp;share,&nbsp;Int32&nbsp;bufferSize,&nbsp;Boolean&nbsp;isAsync,&nbsp;Boolean&nbsp;<br>
anonymous)&lt;BR&gt;in&nbsp;&amp;lt;0x0001f&amp;gt;&nbsp;System.IO.FileStream:.ctor&nbsp;(System.String&nbsp;name,&nbsp;<br>
FileMode&nbsp;mode,&nbsp;FileAccess&nbsp;access,&nbsp;FileShare&nbsp;share)&lt;BR&gt;in&nbsp;(wrapper&nbsp;<br>
remoting-invoke-with-check)&nbsp;System.IO.FileStream:.ctor&nbsp;<br>
(string,System.IO.FileMode,System.IO.FileAccess,System.IO.FileShare)&lt;BR&gt;in&nbsp;<br>
&amp;lt;0x000e1&amp;gt;&nbsp;System.IO.StreamWriter:.ctor&nbsp;(System.String&nbsp;path,&nbsp;Boolean&nbsp;<br>
append,&nbsp;System.Text.Encoding&nbsp;encoding,&nbsp;Int32&nbsp;bufferSize)&lt;BR&gt;in&nbsp;(wrapper&nbsp;<br>
remoting-invoke-with-check)&nbsp;System.IO.StreamWriter:.ctor&nbsp;<br>
(string,bool,System.Text.Encoding,int)&lt;BR&gt;in&nbsp;&amp;lt;0x0004a&amp;gt;&nbsp;<br>
ConsoleApplication4.Class1:Main&nbsp;(System.String[]&nbsp;args)&lt;BR&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;Source:&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=316101713-25042005&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=316101713-25042005&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;<br>
&lt;P&gt;using&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;System;&lt;/P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;<br>
&lt;P&gt;using&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;System.IO;&lt;/P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;<br>
&lt;P&gt;namespace&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;AccessViolation&lt;/P&gt;<br>
&lt;P&gt;{&lt;/P&gt;<br>
&lt;P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;class&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;<br>
AccessViolationDemo&lt;/P&gt;<br>
&lt;P&gt;{&lt;/P&gt;<br>
&lt;P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;[STAThread]&lt;/P&gt;<br>
&lt;P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;static&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;<br>
color=#0000ff&nbsp;size=2&gt;void&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;Main(&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;string&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;[]&nbsp;args)&lt;/P&gt;<br>
&lt;P&gt;{&lt;/P&gt;<br>
&lt;P&gt;StreamWriter&nbsp;writer&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;null&lt;/FONT&gt;&lt;FONT&nbsp;<br>
size=2&gt;;&lt;/P&gt;<br>
&lt;P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;string&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;command&nbsp;=&nbsp;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;string&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;.Empty;&lt;/P&gt;<br>
&lt;P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;try&lt;/P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;<br>
&lt;P&gt;{&lt;/P&gt;<br>
&lt;P&gt;writer&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;new&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;<br>
StreamWriter(&quot;TestApp.log&quot;,&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;true&lt;/FONT&gt;&lt;FONT&nbsp;<br>
size=2&gt;,&nbsp;System.Text.Encoding.UTF8,&nbsp;4096);&lt;/P&gt;<br>
&lt;P&gt;writer.AutoFlush&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;true&lt;/FONT&gt;&lt;FONT&nbsp;<br>
size=2&gt;;&lt;/P&gt;<br>
&lt;P&gt;writer.WriteLine(&quot;{0}&nbsp;-&nbsp;Started&nbsp;App.&nbsp;Polling&nbsp;for&nbsp;input...&quot;,&nbsp;<br>
DateTime.Now);&lt;/P&gt;<br>
&lt;P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;while&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;(command&nbsp;!=&nbsp;<br>
&quot;quit&quot;)&lt;/P&gt;<br>
&lt;P&gt;command&nbsp;=&nbsp;Console.ReadLine().ToLower();&nbsp;&lt;/P&gt;<br>
&lt;P&gt;}&lt;/P&gt;<br>
&lt;P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;finally&lt;/P&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;<br>
&lt;P&gt;{&lt;/P&gt;<br>
&lt;P&gt;writer.Close();&lt;/P&gt;<br>
&lt;P&gt;writer&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;null&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;;&lt;/P&gt;<br>
&lt;P&gt;}&lt;/P&gt;<br>
&lt;P&gt;}&lt;/P&gt;<br>
&lt;P&gt;}&lt;/P&gt;<br>
&lt;P&gt;}&lt;/P&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/SPAN&gt;&lt;/FONT&gt;<br>
&lt;P&gt;The&nbsp;information&nbsp;contained&nbsp;in&nbsp;this&nbsp;E-mail&nbsp;is&nbsp;confidential.&nbsp;It&nbsp;may&nbsp;also&nbsp;be&nbsp;<br>
legally&nbsp;privileged.&nbsp;It&nbsp;is&nbsp;intended&nbsp;only&nbsp;for&nbsp;the&nbsp;stated&nbsp;addressee(s)&nbsp;and&nbsp;access&nbsp;<br>
to&nbsp;it&nbsp;by&nbsp;any&nbsp;other&nbsp;person&nbsp;is&nbsp;unauthorised.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;an&nbsp;addressee,&nbsp;you&nbsp;must&nbsp;<br>
not&nbsp;disclose,&nbsp;copy,&nbsp;circulate&nbsp;or&nbsp;in&nbsp;any&nbsp;other&nbsp;way&nbsp;use&nbsp;or&nbsp;rely&nbsp;on&nbsp;the&nbsp;information&nbsp;<br>
contained&nbsp;in&nbsp;this&nbsp;E-mail.&nbsp;Such&nbsp;unauthorised&nbsp;use&nbsp;may&nbsp;be&nbsp;unlawful.&nbsp;If&nbsp;you&nbsp;have&nbsp;<br>
received&nbsp;this&nbsp;E-mail&nbsp;in&nbsp;error,&nbsp;please&nbsp;inform&nbsp;us&nbsp;immediately&nbsp;and&nbsp;delete&nbsp;it&nbsp;and&nbsp;<br>
all&nbsp;copies&nbsp;from&nbsp;your&nbsp;system.&lt;BR&gt;&lt;/P&gt;<br>
&lt;P&gt;Due&nbsp;to&nbsp;the&nbsp;fact&nbsp;that&nbsp;this&nbsp;E-mail&nbsp;could&nbsp;become&nbsp;corrupted&nbsp;or&nbsp;altered&nbsp;during&nbsp;<br>
transmission,&nbsp;any&nbsp;advice&nbsp;which&nbsp;it&nbsp;contains&nbsp;should&nbsp;not&nbsp;be&nbsp;relied&nbsp;upon&nbsp;unless&nbsp;<br>
subsequently&nbsp;confirmed&nbsp;by&nbsp;fax&nbsp;or&nbsp;letter&nbsp;signed&nbsp;by&nbsp;or&nbsp;on&nbsp;behalf&nbsp;of&nbsp;this&nbsp;<br>
company.&lt;BR&gt;&lt;/P&gt;<br>
&lt;P&gt;E-mails&nbsp;do&nbsp;not&nbsp;constitute&nbsp;compliance&nbsp;with&nbsp;any&nbsp;time&nbsp;limits&nbsp;or&nbsp;deadlines.&nbsp;<br>
&lt;BR&gt;&lt;/P&gt;<br>
<br>
&lt;HR&gt;<br>
This&nbsp;e-mail&nbsp;message&nbsp;has&nbsp;been&nbsp;scanned&nbsp;for&nbsp;Viruses&nbsp;and&nbsp;Content&nbsp;and&nbsp;cleared&nbsp;by&nbsp;<br>
&lt;STRONG&gt;&lt;FONT&nbsp;color=#ff8000&gt;NetIQ&nbsp;MailMarshal&lt;/FONT&gt;&nbsp;&lt;/STRONG&gt;<br>
&lt;HR&gt;<br>
&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
