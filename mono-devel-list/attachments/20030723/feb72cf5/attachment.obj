? OracleDataReader.diff
Index: OracleDataReader.cs
===================================================================
RCS file: /mono/mcs/class/System.Data.OracleClient/System.Data.OracleClient/OracleDataReader.cs,v
retrieving revision 1.12
diff -u -r1.12 OracleDataReader.cs
--- OracleDataReader.cs	8 Mar 2003 22:37:09 -0000	1.12
+++ OracleDataReader.cs	23 Jul 2003 16:13:39 -0000
@@ -295,12 +295,18 @@
 
 		public int GetOrdinal (string name)
 		{
-			foreach (DataRow schemaRow in schemaTable.Rows)
-				if (((string) schemaRow ["ColumnName"]).Equals (name))
-					return (int) schemaRow ["ColumnOrdinal"];
-			foreach (DataRow schemaRow in schemaTable.Rows)
-				if (String.Compare (((string) schemaRow ["ColumnName"]), name, true) == 0)
-					return (int) schemaRow ["ColumnOrdinal"];
+			int i;
+			
+			for (i = 0; i < statement.ColumnCount; i += 1) {
+				if (String.Compare (statement.GetParameter(i).GetName(), name, false) == 0)
+					return i;
+			}
+
+			for (i = 0; i < statement.ColumnCount; i += 1) {
+				if (String.Compare (statement.GetParameter(i).GetName(), name, true) == 0)
+					return i;
+			}
+
 			throw new IndexOutOfRangeException ();
 		}
 
