<tt>
&lt;html&gt;<br>
&lt;body&gt;<br>
I've&nbsp;checked&nbsp;mono&nbsp;source&nbsp;(rev&nbsp;72742)&nbsp;and&nbsp;I&nbsp;think&nbsp;to&nbsp;have&nbsp;found&nbsp;the<br>
problem:&lt;br&gt;<br>
The&nbsp;set_Value&nbsp;calls&nbsp;&lt;br&gt;<br>
&lt;pre&gt;InferOracleType<br>
&lt;/pre&gt;that&nbsp;makes&nbsp;&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;pre&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&nbsp;color=&quot;#0000FF&quot;&gt;case&lt;/font&gt;<br>
&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&nbsp;color=&quot;#B22222&quot;&gt;<br>
&amp;quot;System.Int64&amp;quot;&lt;/font&gt;:<br>
&lt;x-tab&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/x-tab&gt;<br>
SetOracleType&nbsp;(OracleType.Number);<br>
&lt;x-tab&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/x-tab&gt;<br>
&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&nbsp;color=&quot;#0000FF&quot;&gt;break&lt;/font&gt;;<br>
<br>
<br>
&lt;/pre&gt;SetOracleType&nbsp;makes&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;pre&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&nbsp;color=&quot;#0000FF&quot;&gt;case&lt;/font&gt;<br>
OracleType.Number:<br>
&lt;x-tab&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/x-tab&gt;dbType&nbsp;=<br>
DbType.VarNumeric;<br>
<br>
<br>
&lt;/pre&gt;DbType&nbsp;property&nbsp;act&nbsp;in&nbsp;this&nbsp;way&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;pre&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&nbsp;color=&quot;#0000FF&quot;&gt;public&lt;/font&gt;<br>
DbType&nbsp;DbType&nbsp;{<br>
&lt;x-tab&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/x-tab&gt;get&nbsp;{<br>
&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&nbsp;color=&quot;#0000FF&quot;&gt;return&lt;/font&gt;&nbsp;dbType;<br>
}<br>
&lt;x-tab&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/x-tab&gt;set&nbsp;{<br>
SetDbType&nbsp;(value);&nbsp;}<br>
}<br>
<br>
<br>
&lt;/pre&gt;but&nbsp;the&nbsp;function&nbsp;SetDbType&nbsp;does&nbsp;not&nbsp;provide&nbsp;a&nbsp;conversion&nbsp;for<br>
DbType.VarNumeric&nbsp;so&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;pre&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&nbsp;color=&quot;#0000FF&quot;&gt;string&lt;/font&gt;<br>
exception&nbsp;=&nbsp;String.Format<br>
(&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&nbsp;color=&quot;#B22222&quot;&gt;&amp;quot;No&nbsp;mapping<br>
exists&nbsp;from&nbsp;DbType&nbsp;{0}&nbsp;to&nbsp;a&nbsp;known&nbsp;OracleType.&amp;quot;&lt;/font&gt;,&nbsp;type);<br>
<br>
<br>
&lt;/pre&gt;is&nbsp;thrown.&lt;br&gt;<br>
Hope&nbsp;this&nbsp;helps.&lt;br&gt;<br>
&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&gt;&amp;nbsp;&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;At&nbsp;13.23&nbsp;19/03/2007,&nbsp;you&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;type=cite&nbsp;class=cite&nbsp;cite=&quot;&quot;&gt;Hi&nbsp;guys,&lt;br&gt;<br>
I've&nbsp;found&nbsp;that&nbsp;if&nbsp;I&nbsp;create&nbsp;a&nbsp;parameter&nbsp;of&nbsp;an&nbsp;OracleCommand&nbsp;passing&nbsp;a<br>
DataRow[index]&nbsp;object&nbsp;as&nbsp;value,&nbsp;if&nbsp;this&nbsp;object&nbsp;contains&nbsp;a&nbsp;number&nbsp;the<br>
DbType&nbsp;properties&nbsp;assume&nbsp;VarNumeric&nbsp;value.&lt;br&gt;<br>
The&nbsp;strange&nbsp;thing&nbsp;is&nbsp;that&nbsp;if&nbsp;I&nbsp;make&nbsp;something&nbsp;like&nbsp;&lt;br&gt;&lt;br&gt;<br>
myparam.DbType=myparam.DbType&nbsp;&lt;br&gt;&lt;br&gt;<br>
(reassingning&nbsp;it's&nbsp;own&nbsp;value)&nbsp;I&nbsp;obtain&nbsp;this&nbsp;error:&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;<br>
&lt;pre&gt;System.ArgumentException:&nbsp;No&nbsp;mapping&nbsp;exists&nbsp;from&nbsp;DbType&nbsp;VarNumeric<br>
to&nbsp;a&nbsp;known&nbsp;OracleType.<br>
&amp;nbsp;&nbsp;at&nbsp;System.Data.OracleClient.OracleParameter.SetDbType&nbsp;(DbType<br>
type)&nbsp;[0x00000]&nbsp;<br>
&amp;nbsp;&nbsp;at&nbsp;System.Data.OracleClient.OracleParameter.set_DbType&nbsp;(DbType<br>
value)&nbsp;[0x00000]&nbsp;<br>
<br>
&lt;/pre&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&gt;&lt;/font&gt;so&nbsp;I&nbsp;think&nbsp;there's&nbsp;some<br>
incongruence&nbsp;between&nbsp;the&nbsp;internal&nbsp;DbType&nbsp;evaluation&nbsp;and&nbsp;the&nbsp;conversion<br>
made&nbsp;by&nbsp;the&nbsp;SetDbType.&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;pre&gt;I'm&nbsp;wrong?<br>
<br>
<br>
<br>
<br>
<br>
<br>
_______________________________________________<br>
<br>
Mono-devel-list&nbsp;mailing&nbsp;list<br>
<br>
Mono-devel-list@lists.ximian.com<br>
<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;<br>
<br>
&lt;/pre&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New,&nbsp;Courier&quot;&gt;&lt;/font&gt;&lt;/blockquote&gt;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
