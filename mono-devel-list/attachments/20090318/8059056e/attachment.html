<tt>
<br>
&lt;P&gt;In&nbsp;short,&nbsp;it's&nbsp;not&nbsp;working&nbsp;for&nbsp;me&nbsp;but&nbsp;I'm&nbsp;willing&nbsp;to&nbsp;keep&nbsp;trying&nbsp;and&nbsp;document&nbsp;my&nbsp;experiences&nbsp;if&nbsp;I&nbsp;can&nbsp;get&nbsp;some&nbsp;help&nbsp;from&nbsp;the&nbsp;Mono&nbsp;developer&nbsp;community.&nbsp;&nbsp;I&nbsp;apologize&nbsp;for&nbsp;the&nbsp;lengthy&nbsp;post&nbsp;but&nbsp;I&nbsp;figured&nbsp;that&nbsp;I&nbsp;might&nbsp;as&nbsp;well&nbsp;be&nbsp;thorough.&lt;/P&gt;<br>
&lt;b&gt;Background&lt;/b&gt;:&lt;BR&gt;<br>
&lt;P&gt;<br>
I&nbsp;have&nbsp;been&nbsp;wrestling&nbsp;with&nbsp;trying&nbsp;to&nbsp;compile&nbsp;various&nbsp;versions&nbsp;of&nbsp;Mono.&nbsp;&nbsp;After&nbsp;a&nbsp;good&nbsp;deal&nbsp;of&nbsp;trouble,&nbsp;I&nbsp;managed&nbsp;to&nbsp;build&nbsp;v2.0.1&nbsp;on&nbsp;my&nbsp;Solaris&nbsp;10&nbsp;SPARCv9&nbsp;machine.&nbsp;&nbsp;It&nbsp;has&nbsp;issues&nbsp;(i.e.&nbsp;bugs&nbsp;in&nbsp;Mono),&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;build&nbsp;itself&nbsp;was&nbsp;successful.<br>
&lt;/P&gt;&lt;P&gt;<br>
I&nbsp;believe&nbsp;many&nbsp;of&nbsp;my&nbsp;issues&nbsp;have&nbsp;been&nbsp;fixed&nbsp;in&nbsp;later&nbsp;Mono&nbsp;fixes,&nbsp;but&nbsp;thus&nbsp;far&nbsp;I&nbsp;have&nbsp;been&nbsp;unable&nbsp;to&nbsp;build&nbsp;Mono&nbsp;v2.2,&nbsp;v126637,&nbsp;and&nbsp;v2.4&nbsp;RC2.&nbsp;&nbsp;I'm&nbsp;hoping&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;utilize&nbsp;v2.4&nbsp;when&nbsp;it's&nbsp;released&nbsp;but&nbsp;if&nbsp;I&nbsp;can't&nbsp;compile&nbsp;the&nbsp;RC2,&nbsp;&nbsp;obviously&nbsp;I'll&nbsp;have&nbsp;an&nbsp;issue&nbsp;when&nbsp;v2.4&nbsp;becomes&nbsp;official.&nbsp;&nbsp;If&nbsp;it's&nbsp;a&nbsp;bug&nbsp;with&nbsp;me,&nbsp;I&nbsp;could&nbsp;certainly&nbsp;use&nbsp;some&nbsp;help.&nbsp;&nbsp;If&nbsp;it's&nbsp;a&nbsp;bug&nbsp;in&nbsp;Mono,&nbsp;I&nbsp;need&nbsp;some&nbsp;help&nbsp;finding&nbsp;it&nbsp;so&nbsp;hopefully&nbsp;it&nbsp;can&nbsp;be&nbsp;fixed&nbsp;before&nbsp;v2.4&nbsp;is&nbsp;released&nbsp;later&nbsp;this&nbsp;month.<br>
&lt;/P&gt;&lt;P&gt;<br>
I&nbsp;hope&nbsp;to&nbsp;document&nbsp;all&nbsp;the&nbsp;issues&nbsp;and&nbsp;fixes&nbsp;that&nbsp;I've&nbsp;encountered&nbsp;thus&nbsp;far&nbsp;-&nbsp;the&nbsp;documentation&nbsp;for&nbsp;building&nbsp;Mono&nbsp;on&nbsp;Solaris&nbsp;is&nbsp;very&nbsp;scattered,&nbsp;but&nbsp;I'd&nbsp;hate&nbsp;to&nbsp;conclude&nbsp;mine&nbsp;with&nbsp;&quot;but&nbsp;in&nbsp;the&nbsp;end&nbsp;it&nbsp;doesn't&nbsp;work&quot;.<br>
&lt;/P&gt;<br>
&lt;b&gt;Problem:&lt;/b&gt;&lt;BR&gt;<br>
&lt;P&gt;<br>
'Configure'&nbsp;succeeds&nbsp;and&nbsp;'make'&nbsp;gets&nbsp;all&nbsp;the&nbsp;way&nbsp;to&nbsp;where&nbsp;it&nbsp;compiles&nbsp;System.dll&nbsp;(with&nbsp;warning&nbsp;'System.dll&nbsp;build&nbsp;without&nbsp;parts&nbsp;that&nbsp;don't&nbsp;depend&nbsp;on:&nbsp;System.Xml.dll'.&nbsp;&nbsp;I&nbsp;then&nbsp;get&nbsp;&quot;MCS&nbsp;&nbsp;&nbsp;[basic]&nbsp;System.dll&quot;,&nbsp;and&nbsp;then&nbsp;the&nbsp;annoying&nbsp;&quot;GC&nbsp;Warning:&nbsp;Large&nbsp;stack&nbsp;limit(...):&nbsp;&nbsp;only&nbsp;scanning&nbsp;8&nbsp;MB&quot;&nbsp;warning.&nbsp;&nbsp;It's&nbsp;followed&nbsp;by&nbsp;a&nbsp;'Compilation&nbsp;succeeded&nbsp;-&nbsp;13&nbsp;warnings(s)'&nbsp;message&nbsp;which&nbsp;tells&nbsp;me&nbsp;that&nbsp;it&nbsp;finished&nbsp;System.dll.&nbsp;&nbsp;It&nbsp;then&nbsp;tries&nbsp;working&nbsp;on&nbsp;System.Xml.dll&nbsp;after&nbsp;doing&nbsp;what&nbsp;looks&nbsp;like&nbsp;some&nbsp;lexer&nbsp;tree&nbsp;reductions&nbsp;(messages&nbsp;like&nbsp;3&nbsp;rules&nbsp;never&nbsp;reduced,&nbsp;1&nbsp;shift-reduce&nbsp;conflict,&nbsp;etc)&nbsp;and&nbsp;then&nbsp;the&nbsp;&lt;b&gt;&quot;MCS&nbsp;&nbsp;&nbsp;&nbsp;[basic]&nbsp;System.Xml.dll&quot;&lt;/b&gt;&nbsp;message.&nbsp;&nbsp;This&nbsp;is&nbsp;the&nbsp;last&nbsp;thing&nbsp;I&nbsp;see.&nbsp;&nbsp;I&nbsp;can&nbsp;wait&nbsp;for&nbsp;over&nbsp;16&nbsp;hours&nbsp;and&nbsp;nothing&nbsp;happens,&nbsp;other&nbsp;than&nbsp;prstat&nbsp;reporting&nbsp;that&nbsp;'mono'&nbsp;has&nbsp;used&nbsp;16+&nbsp;hours&nbsp;of&nbsp;CPU&nbsp;time.&nbsp;&nbsp;It&nbsp;gives&nbsp;an&nbsp;'.../class/lib/basic/System.Xml.dll]&nbsp;&nbsp;Error&nbsp;130'&nbsp;message&nbsp;after&nbsp;I&nbsp;kill&nbsp;it&nbsp;but&nbsp;that&nbsp;is&nbsp;just&nbsp;from&nbsp;me&nbsp;interrupting&nbsp;it.&nbsp;&nbsp;For&nbsp;some&nbsp;reason,&nbsp;the&nbsp;build&nbsp;process&nbsp;is&nbsp;either&nbsp;unable&nbsp;to&nbsp;compile&nbsp;System.Xml.dll,&nbsp;or&nbsp;it&nbsp;runs&nbsp;something&nbsp;that&nbsp;hangs.&nbsp;&nbsp;I&nbsp;don't&nbsp;see&nbsp;any&nbsp;'compilation&nbsp;succeeded'&nbsp;message&nbsp;like&nbsp;with&nbsp;System.dll&nbsp;so&nbsp;I&nbsp;assume&nbsp;it's&nbsp;the&nbsp;former.&nbsp;&nbsp;But&nbsp;it&nbsp;&lt;i&gt;was&lt;/i&gt;&nbsp;able&nbsp;to&nbsp;compile&nbsp;System.dll&nbsp;so&nbsp;why&nbsp;can't&nbsp;it&nbsp;compile&nbsp;System.Xml.dll?<br>
&lt;/P&gt;<br>
&lt;P&gt;<br>
As&nbsp;what&nbsp;may&nbsp;be&nbsp;an&nbsp;important&nbsp;side-note,&nbsp;my&nbsp;&lt;i&gt;previous&lt;/i&gt;&nbsp;brick&nbsp;wall&nbsp;was&nbsp;with&nbsp;&lt;i&gt;build/deps/basic-profile-check.exe&lt;/i&gt;.&nbsp;&nbsp;I&nbsp;was&nbsp;able&nbsp;to&nbsp;get&nbsp;past&nbsp;this&nbsp;issue&nbsp;but&nbsp;I&nbsp;think&nbsp;it's&nbsp;probably&nbsp;the&nbsp;same&nbsp;problem&nbsp;as&nbsp;above,&nbsp;or&nbsp;at&nbsp;least&nbsp;related,&nbsp;so&nbsp;I&nbsp;thought&nbsp;it&nbsp;best&nbsp;to&nbsp;mention&nbsp;it:&nbsp;&nbsp;'Configure'&nbsp;succeeds&nbsp;and&nbsp;'make'&nbsp;gets&nbsp;all&nbsp;the&nbsp;way&nbsp;to&nbsp;where&nbsp;it&nbsp;enters&nbsp;the&nbsp;mcs&nbsp;directory.&nbsp;&nbsp;I&nbsp;get&nbsp;the&nbsp;&quot;The&nbsp;compiler&nbsp;'mcs'&nbsp;doesn't&nbsp;appear&nbsp;to&nbsp;be&nbsp;usable.&nbsp;&nbsp;Trying&nbsp;the&nbsp;'monolite'&nbsp;directory.&quot;&nbsp;message&nbsp;and&nbsp;then&nbsp;it&nbsp;seems&nbsp;to&nbsp;re-try&nbsp;compiling&nbsp;and/or&nbsp;running&nbsp;basic-profile-check.exe&nbsp;and&nbsp;I've&nbsp;waiting&nbsp;over&nbsp;16&nbsp;hours&nbsp;and&nbsp;nothing&nbsp;else&nbsp;happens&nbsp;-&nbsp;it's&nbsp;hung.&nbsp;&nbsp;When&nbsp;I&nbsp;kill&nbsp;it,&nbsp;it&nbsp;says&nbsp;&quot;[build/deps/basic-profile-check.exe]&nbsp;&nbsp;Error&nbsp;127&quot;,&nbsp;and&nbsp;then&nbsp;gives&nbsp;an&nbsp;Error&nbsp;130&nbsp;but&nbsp;that's&nbsp;just&nbsp;from&nbsp;my&nbsp;interrupting&nbsp;it.&nbsp;&nbsp;For&nbsp;some&nbsp;reason,&nbsp;the&nbsp;build&nbsp;process&nbsp;is&nbsp;either&nbsp;unable&nbsp;to&nbsp;compile&nbsp;basic-profile-check.exe&nbsp;or&nbsp;when&nbsp;it&nbsp;runs&nbsp;it,&nbsp;it&nbsp;hangs.&nbsp;&nbsp;My&nbsp;guess&nbsp;is&nbsp;the&nbsp;former.&nbsp;&nbsp;Either&nbsp;way,&nbsp;if&nbsp;I&nbsp;add&nbsp;my&nbsp;Mono&nbsp;v2.0.1&nbsp;bin&nbsp;directory&nbsp;to&nbsp;my&nbsp;path,&nbsp;it's&nbsp;able&nbsp;to&nbsp;get&nbsp;past&nbsp;this&nbsp;problem&nbsp;-&nbsp;but&nbsp;then&nbsp;hangs&nbsp;on&nbsp;System.Xml.dll&nbsp;per&nbsp;above.<br>
&lt;/P&gt;<br>
&lt;b&gt;What&nbsp;Didn't&nbsp;Work:&lt;/b&gt;&lt;BR&gt;<br>
&lt;P&gt;<br>
First,&nbsp;note&nbsp;that&nbsp;my&nbsp;system&nbsp;does&nbsp;not&nbsp;have&nbsp;access&nbsp;to&nbsp;the&nbsp;Internet.&nbsp;&nbsp;Things&nbsp;like&nbsp;'make&nbsp;get-mono-latest'&nbsp;don't&nbsp;work&nbsp;for&nbsp;me.&nbsp;&nbsp;Regardless,&nbsp;I&nbsp;now&nbsp;have&nbsp;a&nbsp;rather&nbsp;complete&nbsp;GNU&nbsp;bin&nbsp;directory&nbsp;that&nbsp;I've&nbsp;compiled&nbsp;myself,&nbsp;including&nbsp;GCC&nbsp;v3.4.3,&nbsp;TAR&nbsp;v1.21,&nbsp;ar,&nbsp;as,&nbsp;grep,&nbsp;ranlib,&nbsp;strip,&nbsp;ld,&nbsp;etc.&nbsp;&nbsp;I've&nbsp;renamed&nbsp;the&nbsp;'mcs'&nbsp;file&nbsp;native&nbsp;to&nbsp;Solaris&nbsp;to&nbsp;something&nbsp;else.&nbsp;&nbsp;I've&nbsp;replaced&nbsp;the&nbsp;&quot;-mt&quot;&nbsp;option&nbsp;in&nbsp;gthread-2.0.pc&nbsp;with&nbsp;-D_REENTRANT.&nbsp;&nbsp;I'm&nbsp;including&nbsp;a&nbsp;copy&nbsp;of&nbsp;libgdiplus&nbsp;v2.4&nbsp;that&nbsp;I&nbsp;built,&nbsp;although&nbsp;I&nbsp;understand&nbsp;that's&nbsp;just&nbsp;needed&nbsp;for&nbsp;System.Drawing&nbsp;to&nbsp;work.<br>
&lt;/P&gt;&lt;P&gt;<br>
I've&nbsp;tried&nbsp;including&nbsp;and&nbsp;not&nbsp;including&nbsp;my&nbsp;v2.0.1&nbsp;bin&nbsp;and&nbsp;lib&nbsp;in&nbsp;my&nbsp;environment&nbsp;to&nbsp;no&nbsp;avail.&nbsp;&nbsp;I've&nbsp;tried&nbsp;various&nbsp;combinations&nbsp;of&nbsp;configure&nbsp;options&nbsp;such&nbsp;as&nbsp;these:&nbsp;&nbsp;--disable-dtrace&nbsp;--with-gc=none&nbsp;--with-sigaltstack=no&nbsp;--with-ikvm-native=no&nbsp;--disable-mcs-build.&nbsp;&nbsp;The&nbsp;summary&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;Configure&nbsp;confirms&nbsp;that&nbsp;these&nbsp;work&nbsp;(i.e.&nbsp;I&nbsp;was&nbsp;previously&nbsp;using&nbsp;sig&lt;b&gt;n&lt;/b&gt;altstack=no...),&nbsp;and&nbsp;&quot;TLS:&nbsp;pthread&quot;,&nbsp;which&nbsp;I&nbsp;believe&nbsp;was&nbsp;auto-detected&nbsp;correctly.&nbsp;&nbsp;I'm&nbsp;using&nbsp;&quot;ulimit&nbsp;-Hs&nbsp;10240&quot;&nbsp;now&nbsp;but&nbsp;it&nbsp;doesn't&nbsp;seem&nbsp;to&nbsp;be&nbsp;doing&nbsp;anything.&nbsp;&nbsp;I've&nbsp;tried&nbsp;using&nbsp;monolite&nbsp;from&nbsp;mono-project.org&nbsp;and&nbsp;adding&nbsp;that&nbsp;to&nbsp;my&nbsp;path.&nbsp;&nbsp;I've&nbsp;even&nbsp;tried&nbsp;letting&nbsp;the&nbsp;_tmpinst&nbsp;directory&nbsp;get&nbsp;created&nbsp;and&nbsp;then&nbsp;editing&nbsp;the&nbsp;scripts&nbsp;in&nbsp;it&nbsp;to&nbsp;point&nbsp;to&nbsp;my&nbsp;Mono&nbsp;v2.0.1&nbsp;files&nbsp;instead&nbsp;of&nbsp;the&nbsp;build&nbsp;ones.&nbsp;&nbsp;I&nbsp;have&nbsp;read&nbsp;that&nbsp;others&nbsp;have&nbsp;succeeded&nbsp;on&nbsp;Solaris&nbsp;10&nbsp;SPARC,&nbsp;so&nbsp;thus&nbsp;far&nbsp;I've&nbsp;avoid&nbsp;making&nbsp;any&nbsp;code&nbsp;changes&nbsp;to&nbsp;the&nbsp;source,&nbsp;but&nbsp;as&nbsp;of&nbsp;this&nbsp;post&nbsp;that's&nbsp;my&nbsp;next&nbsp;step&nbsp;as&nbsp;I&nbsp;can't&nbsp;think&nbsp;of&nbsp;any&nbsp;other&nbsp;avenues.<br>
&lt;/P&gt;&lt;P&gt;<br>
Nothing&nbsp;seems&nbsp;to&nbsp;let&nbsp;me&nbsp;get&nbsp;past&nbsp;this&nbsp;problem&nbsp;-&nbsp;any&nbsp;ideas?<br>
&lt;/P&gt;<br>
&lt;br&gt;&lt;hr&nbsp;align=&quot;left&quot;&nbsp;width=&quot;300&quot;&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/Compiling-Mono-v2.4-RC2-%28Solaris-10-SPARCv9%29-tp22587130p22587130.html&quot;&gt;Compiling&nbsp;Mono&nbsp;v2.4&nbsp;RC2&nbsp;(Solaris&nbsp;10&nbsp;SPARCv9)&lt;/a&gt;&lt;br&gt;<br>
Sent&nbsp;from&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/Mono---Dev-f1369.html&quot;&gt;Mono&nbsp;-&nbsp;Dev&nbsp;mailing&nbsp;list&nbsp;archive&lt;/a&gt;&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>

</tt>
