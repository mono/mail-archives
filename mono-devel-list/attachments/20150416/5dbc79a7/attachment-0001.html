<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;face=&quot;Calibri,sans-serif&quot;&gt;EntityFramework&nbsp;was&nbsp;already&nbsp;removed&nbsp;from&nbsp;the&nbsp;upcoming&nbsp;Mono&nbsp;4.0.&lt;/font&gt;&lt;BR&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;face=&quot;Calibri,sans-serif&quot;&gt;I&nbsp;also&nbsp;just&nbsp;checked&nbsp;and&nbsp;on&nbsp;Windows&nbsp;I&nbsp;have&nbsp;System.Web.Razor.dll&nbsp;(Razor&nbsp;2.0)&nbsp;in&nbsp;the&nbsp;GAC&nbsp;as&nbsp;well,&nbsp;so&nbsp;maybe&nbsp;there's&nbsp;some&nbsp;other&nbsp;issue&nbsp;here?&lt;/font&gt;&lt;BR&gt;&nbsp;&lt;BR&gt;--&nbsp;Alex&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;face=&quot;Calibri,sans-serif&quot;&gt;&lt;br&nbsp;id=&quot;FontBreak&quot;&gt;&lt;/font&gt;&lt;br&gt;&nbsp;&lt;BR&gt;&lt;div&gt;&gt;&nbsp;From:&nbsp;matthi.d@googlemail.com&lt;br&gt;&gt;&nbsp;Date:&nbsp;Thu,&nbsp;16&nbsp;Apr&nbsp;2015&nbsp;12:08:54&nbsp;+0200&lt;br&gt;&gt;&nbsp;To:&nbsp;mono-devel-list@lists.ximian.com&lt;br&gt;&gt;&nbsp;Subject:&nbsp;[Mono-dev]&nbsp;Assemblies&nbsp;in&nbsp;the&nbsp;CLR&nbsp;system&nbsp;directory&nbsp;and&nbsp;F#&nbsp;scripting.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Hi&nbsp;all,&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;TL;DR:&nbsp;We&nbsp;should&nbsp;remove&nbsp;System.Web.Razor.dll,&nbsp;EntityFramework.dll&nbsp;(and&lt;br&gt;&gt;&nbsp;possibly&nbsp;more)&nbsp;from&nbsp;&quot;/usr/lib/mono/4.5&quot;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;I&nbsp;noticed&nbsp;that&nbsp;some&nbsp;assemblies&nbsp;(namely&nbsp;&quot;EntityFramework&quot;&nbsp;and&lt;br&gt;&gt;&nbsp;&quot;System.Web.Razor&quot;&nbsp;and&nbsp;possibly&nbsp;more)&nbsp;lead&nbsp;to&nbsp;problems&nbsp;when&nbsp;used&nbsp;within&lt;br&gt;&gt;&nbsp;a&nbsp;F#&nbsp;script&nbsp;file.&nbsp;The&nbsp;problem&nbsp;is&nbsp;the&nbsp;following:&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Assume&nbsp;you&nbsp;use&nbsp;NuGet&nbsp;to&nbsp;download&nbsp;the&nbsp;latest&nbsp;Razor-3&nbsp;package&nbsp;and&nbsp;then&nbsp;do&lt;br&gt;&gt;&nbsp;the&nbsp;following&nbsp;(in&nbsp;an&nbsp;F#&nbsp;script&nbsp;file):&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;#I&nbsp;&quot;packages/Microsoft.AspNet.Razor/lib/net45&quot;&lt;br&gt;&gt;&nbsp;#r&nbsp;&quot;System.Web.Razor.dll&quot;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Note&nbsp;that&nbsp;this&nbsp;is&nbsp;the&nbsp;usual&nbsp;way&nbsp;of&nbsp;loading&nbsp;assemblies&nbsp;in&nbsp;F#&nbsp;scripting&lt;br&gt;&gt;&nbsp;and&nbsp;it&nbsp;works&nbsp;fine&nbsp;on&nbsp;Windows/.NET.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;However&nbsp;because&nbsp;this&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;using&lt;br&gt;&gt;&nbsp;&quot;/lib:packages/Microsoft.AspNet.Razor/lib/net45&lt;br&gt;&gt;&nbsp;/reference:System.Web.Razor.dll&quot;&nbsp;on&nbsp;the&nbsp;C#&nbsp;compiler&nbsp;and&nbsp;because&nbsp;mono&nbsp;has&lt;br&gt;&gt;&nbsp;a&nbsp;&quot;System.Web.Razor.dll&quot;&nbsp;in&nbsp;its&nbsp;CLR&nbsp;system&nbsp;directory&nbsp;(/usr/lib/mono/4.5)&lt;br&gt;&gt;&nbsp;it&nbsp;will&nbsp;redirect&nbsp;the&nbsp;reference&nbsp;(CLR&nbsp;system&nbsp;directory&nbsp;is&nbsp;always&lt;br&gt;&gt;&nbsp;preferred,&nbsp;see&nbsp;https://msdn.microsoft.com/en-us/library/s5bac5fx.aspx).&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;This&nbsp;already&nbsp;hit&nbsp;me&nbsp;several&nbsp;times:&lt;br&gt;&gt;&nbsp;&nbsp;-&nbsp;https://github.com/fsharp/FSharp.Compiler.Service/issues/313&lt;br&gt;&gt;&nbsp;&nbsp;-&nbsp;https://github.com/tpetricek/FSharp.Formatting/pull/279&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;I'm&nbsp;not&nbsp;really&nbsp;sure&nbsp;why&nbsp;mono&nbsp;actually&nbsp;needs&nbsp;those&nbsp;file&nbsp;to&nbsp;live&nbsp;there.&lt;br&gt;&gt;&nbsp;For&nbsp;referencing&nbsp;the&nbsp;NuGet&nbsp;package&nbsp;should&nbsp;be&nbsp;fine.&nbsp;To&nbsp;load&nbsp;the&nbsp;correct&lt;br&gt;&gt;&nbsp;(mono&nbsp;compatible)&nbsp;version&nbsp;on&nbsp;runtime&nbsp;the&nbsp;GAC&nbsp;should&nbsp;do&nbsp;it.&lt;br&gt;&gt;&nbsp;IMHO&nbsp;we&nbsp;can&nbsp;just&nbsp;remove&nbsp;the&nbsp;System.Web.Razor.dll&nbsp;(and&nbsp;possibly&nbsp;others?)&lt;br&gt;&gt;&nbsp;from&nbsp;the&nbsp;runtime&nbsp;directory.&lt;br&gt;&gt;&nbsp;@akoeplinger&nbsp;noted&nbsp;the&nbsp;following&nbsp;in&nbsp;the&nbsp;gitter&nbsp;chat:&nbsp;It&nbsp;would&nbsp;be&nbsp;a&lt;br&gt;&gt;&nbsp;breaking&nbsp;change&nbsp;for&nbsp;people&nbsp;depending&nbsp;on&nbsp;&quot;/reference:System.Web.Razor&quot;&nbsp;to&lt;br&gt;&gt;&nbsp;just&nbsp;work.&lt;br&gt;&gt;&nbsp;But&nbsp;I'm&nbsp;not&nbsp;sure&nbsp;how&nbsp;common&nbsp;that&nbsp;is&nbsp;with&nbsp;the&nbsp;NuGet&nbsp;package&nbsp;in&nbsp;place.&lt;br&gt;&gt;&nbsp;IIRC&nbsp;xbuild&nbsp;and&nbsp;msbuild&nbsp;always&nbsp;use&nbsp;fully&nbsp;qualified&nbsp;references,&nbsp;so&nbsp;it&lt;br&gt;&gt;&nbsp;shouldn't&nbsp;be&nbsp;a&nbsp;problem&nbsp;for&nbsp;them.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;So...&nbsp;Is&nbsp;removing&nbsp;those&nbsp;file&nbsp;something&nbsp;we&nbsp;can&nbsp;do?&nbsp;I&nbsp;just&nbsp;wanted&nbsp;to&nbsp;bring&lt;br&gt;&gt;&nbsp;attention&nbsp;to&nbsp;this&nbsp;issue&nbsp;as&nbsp;it&nbsp;can&nbsp;be&nbsp;*really*&nbsp;hard&nbsp;to&nbsp;debug.&nbsp;The&lt;br&gt;&gt;&nbsp;workarounds&nbsp;in&nbsp;place&nbsp;for&nbsp;this&nbsp;are&nbsp;required&nbsp;anyway&nbsp;to&nbsp;work&nbsp;with&nbsp;older&lt;br&gt;&gt;&nbsp;mono&nbsp;versions.&nbsp;The&nbsp;workaround&nbsp;in&nbsp;itself&nbsp;is&nbsp;simple&nbsp;you&nbsp;just&nbsp;need&nbsp;to&nbsp;use&lt;br&gt;&gt;&nbsp;the&nbsp;fully&nbsp;qualified&nbsp;reference&nbsp;instead:&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;#r&nbsp;&quot;packages/Microsoft.AspNet.Razor/lib/net45/System.Web.Razor.dll&quot;&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;However&nbsp;this&nbsp;can&nbsp;be&nbsp;a&nbsp;problem&nbsp;if&nbsp;you&nbsp;don't&nbsp;know&nbsp;in&nbsp;advance&nbsp;in&nbsp;which&nbsp;of&lt;br&gt;&gt;&nbsp;the&nbsp;included&nbsp;directories&nbsp;(&quot;#I&quot;)&nbsp;the&nbsp;file&nbsp;is&nbsp;living.&nbsp;(Because&nbsp;F#&nbsp;will&lt;br&gt;&gt;&nbsp;stop&nbsp;executing&nbsp;if&nbsp;the&nbsp;fully&nbsp;qualified&nbsp;reference&nbsp;doesn't&nbsp;exists).&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Thanks,&lt;br&gt;&gt;&nbsp;&nbsp;Matthias&lt;br&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;&gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&gt;&nbsp;Mono-devel-list@lists.ximian.com&lt;br&gt;&gt;&nbsp;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
