Index: mono/io-layer/sockets.c
===================================================================
--- mono/io-layer/sockets.c	(revision 41597)
+++ mono/io-layer/sockets.c	(working copy)
@@ -1029,7 +1029,7 @@
 	gpointer handle = _wapi_handle_fd_offset_to_handle (GUINT_TO_POINTER (fd));
 	
 	if (handle == NULL ||
-	    _wapi_handle_type (handle) != WAPI_HANDLE_SOCKET) {
+	    (_wapi_handle_type (handle) != WAPI_HANDLE_SOCKET && _wapi_handle_type (handle) != WAPI_HANDLE_PIPE)) {
 		WSASetLastError(WSAENOTSOCK);
 		return;
 	}
@@ -1042,7 +1042,7 @@
 	gpointer handle = _wapi_handle_fd_offset_to_handle (GUINT_TO_POINTER (fd));
 	
 	if (handle == NULL ||
-	    _wapi_handle_type (handle) != WAPI_HANDLE_SOCKET) {
+	    (_wapi_handle_type (handle) != WAPI_HANDLE_SOCKET && _wapi_handle_type (handle) != WAPI_HANDLE_PIPE)) {
 		WSASetLastError(WSAENOTSOCK);
 		return(0);
 	}
@@ -1055,7 +1055,7 @@
 	gpointer handle = _wapi_handle_fd_offset_to_handle (GUINT_TO_POINTER (fd));
 	
 	if (handle == NULL ||
-	    _wapi_handle_type (handle) != WAPI_HANDLE_SOCKET) {
+	    (_wapi_handle_type (handle) != WAPI_HANDLE_SOCKET && _wapi_handle_type (handle) != WAPI_HANDLE_PIPE)) {
 		WSASetLastError(WSAENOTSOCK);
 		return;
 	}
