[From nobody Fri Feb  8 08:56:27 2008
Subject: Re: [Mono-devel-list] Threading Problem (Bug?):
From: Charles-Louis &lt;charlouis.mono@wanadoo.be&gt;
To: Dick Porter &lt;dick@ximian.com&gt;
In-Reply-To: &lt;1048246677.19667.6.camel@hagbard.apathetic.discordia.org.uk&gt;
References: &lt;1048244023.1268.7.camel@localhost.localdomain&gt;
	&lt;1048246677.19667.6.camel@hagbard.apathetic.discordia.org.uk&gt;
Content-Type: text/plain; charset=UTF-8
Organization: 
Message-Id: &lt;1048256236.1287.18.camel@localhost.localdomain&gt;
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 21 Mar 2003 15:17:16 +0100
Content-Transfer-Encoding: 8bit



Le ven 21/03/2003 à 12:37, Dick Porter a écrit :
&gt; On Fri, 2003-03-21 at 11:15, Charles-Louis wrote:
&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; I'm having a Thread related problem in my program.I get different Errors
&gt; &gt; when I run it with mono on Linux (RedHat 8.0) and Windows,and wanted to
&gt; &gt; know if anyone knows of some issues.
&gt; &gt; 
&gt; &gt; I have to say that, when I ./configure mono, I have to set the
&gt; &gt; SIZEOF_SUNPATH to 108, because it defaults to 0.
&gt; 
&gt; If you could figure out why configure gets this wrong for you, it would
&gt; be appreciated.
&gt; 
&gt; &gt; 
&gt; &gt; Basically, my application starts a Thread when I cklick on a Button in a
&gt; &gt; GTK# window. (after running the program with /WINDOW option)
&gt; &gt; 
&gt; &gt; So, when I start the Thread for the first time, I get a
&gt; &gt; NullReferenceException (actually, I get two, because I start two
&gt; &gt; threads) when I call 'Thread.Start()', and the first instruction of my
&gt; &gt; Thread function (WorkerThread) is never executed
&gt; &gt; (Console.WriteLine(&quot;**WorkerThread**&quot;);)... the Thread is not started.
&gt; &gt; 
&gt; &gt; When I stop the Thread and restart it, everything runs ok: Thread runs
&gt; &gt; correctly and performs the correct actions.
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Same thing when I run the Thread from the Console...
&gt; &gt; NullReferenceException for the first time, and then everything runs OK.
&gt; 
&gt; No idea what's wrong, and theres no chance of me being able to debug it
&gt; without a test case.
&gt; 
&gt; Please add a bugzilla entry, include the version of mono you are using
&gt; and the smallest possible test sample that shows the problem.
&gt; 
&gt; &gt; 
&gt; &gt; On mono Windows (Console), I can start the Thread normally. But when I
&gt; &gt; stop the Thread, I get this message (on a MessageBox):
&gt; &gt; 
&gt; &gt; ** ERROR **: file threads.c: line 817
&gt; &gt; (ves_icall_System_Threading_Thread_Abort): should not be reached
&gt; &gt; aborting...
&gt; &gt; 
&gt; &gt; followed by an 'abnormal program termination'
&gt; 
&gt; Thread.Abort() isn't implemented on windows.
--&gt; So the error seems to come from RedHat... maybe there was an issue
with that...

I'll try to run this on another Linux Flavor (SuSE) this WeekEnd...

But I don't think I'll be able to write a small TestCase (I already
stripped down everything...). I'll see with my Boss if I can send the
source code...


&gt; - Dick
&gt; 
&gt; _______________________________________________
&gt; Mono-devel-list mailing list
&gt; Mono-devel-list@lists.ximian.com
&gt; http://lists.ximian.com/mailman/listinfo/mono-devel-list
-- 
Charles-Louis &lt;charlouis.mono@wanadoo.be&gt;
]