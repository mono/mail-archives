<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;4&quot;&gt;I&nbsp;have&nbsp;applications&nbsp;that&nbsp;process&nbsp;through&nbsp;terrabytes&nbsp;of&nbsp;timeseries&nbsp;data.&nbsp;&nbsp;Usually&nbsp;I&nbsp;can&nbsp;limit&nbsp;the&nbsp;amount&nbsp;of&nbsp;memory&nbsp;I&nbsp;use&nbsp;in-process,&nbsp;however,&nbsp;from&nbsp;time&nbsp;to&nbsp;time&nbsp;I&nbsp;need&nbsp;to&nbsp;deal&nbsp;with&nbsp;data&nbsp;larger&nbsp;than&nbsp;4GB&nbsp;in&nbsp;size.&nbsp;&nbsp;&nbsp;I&nbsp;run&nbsp;mono&nbsp;both&nbsp;on&nbsp;OSX&nbsp;and&nbsp;linux.&nbsp;&nbsp;&nbsp;It&nbsp;seems&nbsp;that&nbsp;the&nbsp;LARGE_CONFIG&nbsp;(which&nbsp;is&nbsp;not&nbsp;even&nbsp;the&nbsp;default),&nbsp;maxes&nbsp;out&nbsp;at&nbsp;something&nbsp;close&nbsp;to&nbsp;4GB&nbsp;of&nbsp;heap.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;What&nbsp;would&nbsp;it&nbsp;take&nbsp;to&nbsp;relax&nbsp;this&nbsp;so&nbsp;can&nbsp;use&nbsp;more&nbsp;of&nbsp;a&nbsp;64bit&nbsp;memory&nbsp;space?&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;4&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;4&quot;&gt;In&nbsp;&lt;b&gt;libgc/include/private/gc_priv.h&lt;/b&gt;,&nbsp;there&nbsp;seems&nbsp;to&nbsp;be&nbsp;a&nbsp;hastable&nbsp;of&nbsp;heap&nbsp;pages,&nbsp;indexed&nbsp;by&nbsp;up&nbsp;to&nbsp;20&nbsp;bits&nbsp;in&nbsp;the&nbsp;LARGE_CONFIG&nbsp;compilation.&nbsp;&nbsp;The&nbsp;comment&nbsp;indicates&nbsp;that&nbsp;the&nbsp;2097151&nbsp;possible&nbsp;entries&nbsp;corresponds&nbsp;to&nbsp;roughly&nbsp;4GB&nbsp;+/-&nbsp;of&nbsp;heap.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;4&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;4&quot;&gt;Regardless&nbsp;of&nbsp;limitations&nbsp;build&nbsp;into&nbsp;the&nbsp;memory&nbsp;model,&nbsp;the&nbsp;mono&nbsp;runtime&nbsp;has&nbsp;the&nbsp;&lt;b&gt;bad&nbsp;behavior&nbsp;of&nbsp;crashing&lt;/b&gt;&nbsp;when&nbsp;the&nbsp;maximum&nbsp;#&nbsp;of&nbsp;heap&nbsp;pages&nbsp;is&nbsp;reached&nbsp;&lt;b&gt;instead&nbsp;of&nbsp;throwing&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;background-color:&nbsp;rgb(251,&nbsp;251,&nbsp;251);&nbsp;display:&nbsp;inline&nbsp;!important;&nbsp;float:&nbsp;none;&nbsp;&quot;&gt;OutOfMemoryException&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;background-color:&nbsp;rgb(251,&nbsp;251,&nbsp;251);&nbsp;display:&nbsp;inline&nbsp;!important;&nbsp;float:&nbsp;none;&nbsp;&quot;&gt;.&nbsp;&nbsp;Particularly&nbsp;for&nbsp;production&nbsp;services&nbsp;it&nbsp;would&nbsp;be&nbsp;useful&nbsp;to&nbsp;catch,&nbsp;say,&nbsp;a&nbsp;condition&nbsp;where&nbsp;most&nbsp;of&nbsp;the&nbsp;memory&nbsp;is&nbsp;used&nbsp;and&nbsp;throw&nbsp;an&nbsp;exception&nbsp;so&nbsp;that&nbsp;the&nbsp;application&nbsp;can&nbsp;exit&nbsp;or&nbsp;clean&nbsp;up&nbsp;gracefully.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;background-color:&nbsp;rgb(251,&nbsp;251,&nbsp;251);&nbsp;display:&nbsp;inline&nbsp;!important;&nbsp;float:&nbsp;none;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;4&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;background-color:&nbsp;rgb(251,&nbsp;251,&nbsp;251);&nbsp;display:&nbsp;inline&nbsp;!important;&nbsp;float:&nbsp;none;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;4&quot;&gt;Thoughts&nbsp;on&nbsp;this?&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;background-color:&nbsp;rgb(251,&nbsp;251,&nbsp;251);&nbsp;display:&nbsp;inline&nbsp;!important;&nbsp;float:&nbsp;none;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;4&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;background-color:&nbsp;rgb(251,&nbsp;251,&nbsp;251);&nbsp;display:&nbsp;inline&nbsp;!important;&nbsp;float:&nbsp;none;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;4&quot;&gt;Jonathan&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
