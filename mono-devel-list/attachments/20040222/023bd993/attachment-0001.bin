Index: icall.c
===================================================================
RCS file: /cvs/public/mono/mono/metadata/icall.c,v
retrieving revision 1.419
diff -u -r1.419 icall.c
--- icall.c	19 Feb 2004 15:42:08 -0000	1.419
+++ icall.c	22 Feb 2004 17:14:59 -0000
@@ -5214,6 +5214,7 @@
 	{"InternalReplace(string,string)", ves_icall_System_String_InternalReplace_Str},
 	{"InternalReplace(string,string,System.Globalization.CompareInfo)", ves_icall_System_String_InternalReplace_Str_Comp},
 	{"InternalSplit", ves_icall_System_String_InternalSplit},
+	{"InternalStrcpy(string,int,char[],int,int)", ves_icall_System_String_InternalStrcpy_ArrN},
 	{"InternalStrcpy(string,int,string)", ves_icall_System_String_InternalStrcpy_Str},
 	{"InternalStrcpy(string,int,string,int,int)", ves_icall_System_String_InternalStrcpy_StrN},
 	{"InternalToLower", ves_icall_System_String_InternalToLower},
Index: string-icalls.c
===================================================================
RCS file: /cvs/public/mono/mono/metadata/string-icalls.c,v
retrieving revision 1.27
diff -u -r1.27 string-icalls.c
--- string-icalls.c	13 Jan 2004 18:49:30 -0000	1.27
+++ string-icalls.c	22 Feb 2004 17:14:59 -0000
@@ -778,6 +778,19 @@
 }
 
 void 
+ves_icall_System_String_InternalStrcpy_ArrN (MonoString *dest, gint32 destPos, MonoArray *src, gint32 startPos, gint32 count)
+{
+	gunichar2 *srcptr;
+	gunichar2 *destptr;
+
+	MONO_ARCH_SAVE_REGS;
+
+	srcptr = (gunichar2 *) mono_array_addr (src, gunichar2, startPos);
+	destptr = mono_string_chars (dest) + destPos;
+	memcpy (destptr, srcptr, count * sizeof (gunichar2));
+}
+
+void 
 ves_icall_System_String_InternalStrcpy_StrN (MonoString *dest, gint32 destPos, MonoString *src, gint32 startPos, gint32 count)
 {
 	gunichar2 *srcptr;
Index: string-icalls.h
===================================================================
RCS file: /cvs/public/mono/mono/metadata/string-icalls.h,v
retrieving revision 1.8
diff -u -r1.8 string-icalls.h
--- string-icalls.h	12 Jan 2003 01:35:35 -0000	1.8
+++ string-icalls.h	22 Feb 2004 17:14:59 -0000
@@ -98,6 +98,9 @@
 ves_icall_System_String_InternalStrcpy_Str (MonoString *dest, gint32 destPos, MonoString *src);
 
 void 
+ves_icall_System_String_InternalStrcpy_ArrN (MonoString *dest, gint32 destPos, MonoArray *src, gint32 startPos, gint32 count);
+
+void
 ves_icall_System_String_InternalStrcpy_StrN (MonoString *dest, gint32 destPos, MonoString *src, gint32 startPos, gint32 count);
 
 MonoString  *
