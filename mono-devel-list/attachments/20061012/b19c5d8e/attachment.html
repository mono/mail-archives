<tt>
&lt;blockquote&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;pre&gt;Hi,&lt;br&gt;&lt;br&gt;I&nbsp;tried&nbsp;the&nbsp;MonoTorrent&nbsp;library&nbsp;and&nbsp;found&nbsp;a&nbsp;bug&nbsp;preventing&nbsp;if&nbsp;from&nbsp;working&nbsp;with&nbsp;large&nbsp;torrents&nbsp;or&nbsp;files.<br>
&lt;br&gt;The&nbsp;torrent&nbsp;contained&nbsp;a&nbsp;file&nbsp;with&nbsp;&amp;gt;&nbsp;3GB&nbsp;size&nbsp;(Linux&nbsp;DVD&nbsp;image):&lt;br&gt;&lt;br&gt;System.IO.IOException&nbsp;was&nbsp;unhandled&lt;br&gt;&nbsp;&nbsp;Message=&amp;quot;An&nbsp;attempt&nbsp;was&nbsp;made&nbsp;to&nbsp;move&nbsp;the&nbsp;file&nbsp;pointer&nbsp;before&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;file.\r\n&amp;quot;<br>
&lt;br&gt;&nbsp;&nbsp;Source=&amp;quot;mscorlib&amp;quot;&lt;br&gt;&nbsp;&nbsp;StackTrace:&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.IO.__Error.WinIOError(Int32&nbsp;errorCode,&nbsp;String&nbsp;maybeFullPath)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.IO.FileStream.SeekCore(Int64&nbsp;offset,&nbsp;SeekOrigin&nbsp;origin)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;<br>
System.IO.FileStream.Seek(Int64&nbsp;offset,&nbsp;SeekOrigin&nbsp;origin)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;MonoTorrent.Client.FileManager.Read(Byte[]&nbsp;buffer,&nbsp;Int32&nbsp;bufferOffset,&nbsp;Int64&nbsp;offset,&nbsp;Int32&nbsp;count)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;MonoTorrent.Client.FileManager.GetHash<br>
(Int32&nbsp;pieceIndex)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;MonoTorrent.Client.TorrentManager.HashCheck(Object&nbsp;state)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Threading.ExecutionContext.Run(ExecutionContext&nbsp;executionContext,&nbsp;ContextCallback&nbsp;callback,&nbsp;Object&nbsp;state)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;<br>
System.Threading._ThreadPoolWaitCallback.PerformWaitCallback(Object&nbsp;state)&lt;br&gt;&lt;br&gt;&lt;br&gt;Also&nbsp;some&nbsp;functions&nbsp;like&nbsp;e.g.&nbsp;torrent.DownloadSpeed&nbsp;()&nbsp;seem&nbsp;to&nbsp;be&nbsp;pretty&nbsp;complicated&nbsp;to&nbsp;get&nbsp;right&nbsp;in&nbsp;terms&nbsp;of&nbsp;multithreading&nbsp;use.&lt;br&gt;&lt;br&gt;<br>
Happy&nbsp;Hacking&lt;br&gt;Andreas&lt;/pre&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Hi,&lt;br&gt;&lt;br&gt;I&nbsp;only&nbsp;just&nbsp;noticed&nbsp;the&nbsp;bug&nbsp;today&nbsp;as&nbsp;i&nbsp;wasnt&nbsp;subscribed&nbsp;to&nbsp;the&nbsp;mono&nbsp;dev&nbsp;list.&nbsp;As&nbsp;you&nbsp;can&nbsp;see,&nbsp;i'm&nbsp;now&nbsp;subscribed&nbsp;;)&nbsp;Also,&nbsp;the&nbsp;bug&nbsp;is&nbsp;fixed&nbsp;in&nbsp;the&nbsp;latest&nbsp;SVN.&nbsp;Just&nbsp;had&nbsp;to&nbsp;change&nbsp;an&nbsp;int&nbsp;to&nbsp;a&nbsp;long.&nbsp;The&nbsp;int&nbsp;was&nbsp;overflowing&nbsp;with&nbsp;an&nbsp;torrent&nbsp;above&nbsp;2&nbsp;gigs&nbsp;in&nbsp;size.<br>
&lt;br&gt;&lt;br&gt;Also,&nbsp;about&nbsp;the&nbsp;DownloadSpeed()&nbsp;and&nbsp;UploadSpeed()&nbsp;methods.&nbsp;I&nbsp;have&nbsp;a&nbsp;few&nbsp;ideas&nbsp;for&nbsp;simplifying&nbsp;that.&nbsp;As&nbsp;it&nbsp;is,&nbsp;that's&nbsp;the&nbsp;first&nbsp;thing&nbsp;that&nbsp;came&nbsp;to&nbsp;my&nbsp;mind&nbsp;when&nbsp;i&nbsp;had&nbsp;to&nbsp;monitor&nbsp;download&nbsp;speed,&nbsp;but&nbsp;i&nbsp;agree&nbsp;with&nbsp;you&nbsp;100%.&nbsp;Its&nbsp;too&nbsp;complicated&nbsp;and&nbsp;multithread&nbsp;un-safe.<br>
&lt;br&gt;&lt;br&gt;Any&nbsp;other&nbsp;bugs,&nbsp;feel&nbsp;free&nbsp;to&nbsp;give&nbsp;me&nbsp;a&nbsp;shout.&nbsp;If&nbsp;anyone&nbsp;wants&nbsp;to&nbsp;start&nbsp;coding&nbsp;for&nbsp;the&nbsp;library,&nbsp;feel&nbsp;free&nbsp;:)&lt;br&gt;&lt;br&gt;Alan.&lt;br&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
