<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7650.28&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[Mono-dev]&nbsp;DataTable&nbsp;Select&nbsp;string&nbsp;comparison&nbsp;patch&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/plain&nbsp;format&nbsp;--&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Hi&nbsp;Jaroslaw,&lt;BR&gt;<br>
&lt;BR&gt;<br>
1.&nbsp;If&nbsp;one&nbsp;object&nbsp;is&nbsp;string&nbsp;=&nbsp;&amp;quot;5&nbsp;&amp;quot;&nbsp;and&nbsp;the&nbsp;second&nbsp;object&nbsp;is&nbsp;Int32&nbsp;=&nbsp;5.&nbsp;Will&nbsp;the&nbsp;objects&nbsp;be&nbsp;equal?&lt;BR&gt;<br>
2.&nbsp;What&nbsp;if&nbsp;a&nbsp;case&nbsp;insensitive&nbsp;comparison&nbsp;should&nbsp;be&nbsp;done,&nbsp;but&nbsp;the&nbsp;objects&nbsp;are&nbsp;not&nbsp;strings?&nbsp;(May&nbsp;be&nbsp;type&nbsp;conversion&nbsp;should&nbsp;be&nbsp;done&nbsp;before&nbsp;the&nbsp;test&nbsp;'o1&nbsp;is&nbsp;string').&lt;BR&gt;<br>
3.&nbsp;Trimming&nbsp;+&nbsp;converting&nbsp;to&nbsp;low&nbsp;case&nbsp;are&nbsp;very&nbsp;expensive&nbsp;operations.&nbsp;Can&nbsp;you&nbsp;rewrite&nbsp;your&nbsp;patch&nbsp;with&nbsp;respective&nbsp;String.Compare&nbsp;call?&nbsp;You&nbsp;may&nbsp;count&nbsp;spaces&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;each&nbsp;string&nbsp;and&nbsp;thus&nbsp;eliminate&nbsp;both&nbsp;trimming&nbsp;and&nbsp;case&nbsp;lowering.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Regards,&lt;BR&gt;<br>
Konstantin&nbsp;Triger&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
-----Original&nbsp;Message-----&lt;BR&gt;<br>
From:&nbsp;mono-devel-list-bounces@lists.ximian.com&nbsp;on&nbsp;behalf&nbsp;of&nbsp;Jaroslaw&nbsp;Pawlak&lt;BR&gt;<br>
Sent:&nbsp;Sun&nbsp;03/12/2006&nbsp;22:52&lt;BR&gt;<br>
To:&nbsp;mono-devel-list@lists.ximian.com&lt;BR&gt;<br>
Subject:&nbsp;[Mono-dev]&nbsp;DataTable&nbsp;Select&nbsp;string&nbsp;comparison&nbsp;patch&lt;BR&gt;<br>
&lt;BR&gt;<br>
Hello.&lt;BR&gt;<br>
When&nbsp;comparing&nbsp;string&nbsp;values&nbsp;in&nbsp;Columns&nbsp;in&nbsp;DataTable&nbsp;(in&nbsp;Select&lt;BR&gt;<br>
command),&nbsp;Microsoft's&nbsp;.NET&nbsp;Trims&nbsp;value&nbsp;endings,&nbsp;so,&nbsp;&amp;quot;MyName&nbsp;&amp;quot;&nbsp;(space&lt;BR&gt;<br>
at&nbsp;the&nbsp;end&nbsp;added&amp;nbsp;&nbsp;is&nbsp;equal&nbsp;to&nbsp;&amp;quot;MyName&amp;quot;&nbsp;(without&nbsp;space&nbsp;at&nbsp;end),&nbsp;while&lt;BR&gt;<br>
MONO&nbsp;doesn't&nbsp;do&nbsp;that.&lt;BR&gt;<br>
I&nbsp;attached&nbsp;patches&nbsp;to&nbsp;Comparison.cs&lt;BR&gt;<br>
(System.Data/Mono.Data/SqlExpressions),&nbsp;and&nbsp;to&nbsp;DataTableTest,&nbsp;that&nbsp;fix&lt;BR&gt;<br>
this&nbsp;problem.&nbsp;There&nbsp;are&nbsp;two&nbsp;tests&nbsp;added,&nbsp;I&nbsp;checked&nbsp;that&nbsp;spaces&nbsp;in&lt;BR&gt;<br>
front&nbsp;of&nbsp;actual&nbsp;value&nbsp;have&nbsp;meaning&nbsp;-&nbsp;second&nbsp;test&nbsp;checks&nbsp;that.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Regards&lt;BR&gt;<br>
Jaroslaw&nbsp;Pawlak&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>
<br>

</tt>
