<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;I&nbsp;am&nbsp;not&nbsp;using&nbsp;OpenVZ&nbsp;but&nbsp;a&nbsp;solution&nbsp;that&nbsp;we&nbsp;developed&nbsp;based&nbsp;on&nbsp;Linux&nbsp;kernel&nbsp;calls&nbsp;because&nbsp;we&nbsp;really&nbsp;need&nbsp;to&nbsp;bootstrap&nbsp;a&nbsp;virtual&nbsp;environment&nbsp;in&nbsp;less&nbsp;than&nbsp;50ms.&lt;/div&gt;&lt;div&gt;I&nbsp;tested&nbsp;the&nbsp;same&nbsp;program&nbsp;on&nbsp;a&nbsp;.Net&nbsp;platform&nbsp;and&nbsp;after&nbsp;1000&nbsp;threads&nbsp;created,&nbsp;the&nbsp;whole&nbsp;application&nbsp;used&nbsp;48MB&nbsp;of&nbsp;RAM.&nbsp;It&nbsp;sounds&nbsp;really&nbsp;strange&nbsp;to&nbsp;me&nbsp;that&nbsp;a&nbsp;Thread,&nbsp;that&nbsp;in&nbsp;theory&nbsp;should&nbsp;be&nbsp;a&nbsp;light&nbsp;process,&nbsp;takes&nbsp;65MB&nbsp;of&nbsp;virtual&nbsp;memory.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;the&nbsp;meantime,&nbsp;I&nbsp;am&nbsp;not&nbsp;expert&nbsp;in&nbsp;differences&nbsp;between&nbsp;virtual&nbsp;and&nbsp;physical&nbsp;memory,&nbsp;but,&nbsp;does&nbsp;your&nbsp;answer&nbsp;mean&nbsp;that&nbsp;if&nbsp;mono&nbsp;would&nbsp;detects&nbsp;that&nbsp;my&nbsp;system&nbsp;only&nbsp;has&nbsp;500MB&nbsp;of&nbsp;physical&nbsp;memory,&nbsp;it&nbsp;would&nbsp;reserve&nbsp;less&nbsp;amount&nbsp;of&nbsp;memory&nbsp;per&nbsp;thread?&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Maybe&nbsp;there&nbsp;is&nbsp;a&nbsp;way&nbsp;to&nbsp;send&nbsp;some&nbsp;parameters&nbsp;to&nbsp;mono&nbsp;or&nbsp;to&nbsp;change&nbsp;some&nbsp;content&nbsp;in&nbsp;/proc&nbsp;to&nbsp;simulate&nbsp;a&nbsp;smaller&nbsp;amount&nbsp;of&nbsp;physical&nbsp;memory?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;your&nbsp;answer!&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2013/12/20&nbsp;Nikita&nbsp;Tsukanov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:keks9n@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;keks9n@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Don&#39;t&nbsp;use&nbsp;OpenVZ,&nbsp;it&nbsp;limits&nbsp;_virtual_&nbsp;memory,&nbsp;not&nbsp;physical.&nbsp;Mono&nbsp;threads&nbsp;use&nbsp;a&nbsp;small&nbsp;amount&nbsp;of&nbsp;physical&nbsp;memory,&nbsp;but&nbsp;might&nbsp;reserve&nbsp;high&nbsp;of&nbsp;virtual&nbsp;memory&nbsp;space.&nbsp;You&#39;d&nbsp;rather&nbsp;try&nbsp;KVM/Xen&nbsp;virtualization.&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;<br>
<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;Regards,&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;Nikita&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2013/12/19&nbsp;Nicolas&nbsp;Antoniazzi&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:nicolas.antoniazzi@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;nicolas.antoniazzi@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;div&gt;Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;I&nbsp;am&nbsp;using&nbsp;Mono&nbsp;in&nbsp;a&nbsp;virtualized&nbsp;environment&nbsp;with&nbsp;512MB&nbsp;of&nbsp;RAM.&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;made&nbsp;a&nbsp;very&nbsp;simple&nbsp;program&nbsp;which&nbsp;starts&nbsp;10&nbsp;threads&nbsp;in&nbsp;a&nbsp;loop&nbsp;and&nbsp;apparently,&nbsp;every&nbsp;time&nbsp;that&nbsp;I&nbsp;start&nbsp;a&nbsp;new&nbsp;thread,&nbsp;approximately&nbsp;65MB&nbsp;of&nbsp;memory&nbsp;is&nbsp;used.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;my&nbsp;case,&nbsp;I&nbsp;can&nbsp;run&nbsp;5&nbsp;threads,&nbsp;but&nbsp;for&nbsp;the&nbsp;6th,&nbsp;the&nbsp;program&nbsp;crashes&nbsp;(without&nbsp;any&nbsp;exception).&nbsp;150MB&nbsp;are&nbsp;already&nbsp;consumed&nbsp;without&nbsp;the&nbsp;use&nbsp;of&nbsp;any&nbsp;thread.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;it&nbsp;a&nbsp;normal&nbsp;behavior?&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;P.S:&nbsp;Sorry&nbsp;I&nbsp;double&nbsp;posted&nbsp;this&nbsp;message&nbsp;on&nbsp;mono-list&nbsp;because&nbsp;I&nbsp;did&nbsp;not&nbsp;understood&nbsp;that&nbsp;third&nbsp;party&nbsp;programmers&nbsp;also&nbsp;had&nbsp;to&nbsp;come&nbsp;on&nbsp;this&nbsp;devel&nbsp;list.&lt;br&gt;<br>
<br>
<br>
<br>
<br>
&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:13px;font-family:arial,sans-serif&quot;&gt;Thanks!&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;--&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;<br>
<br>
<br>
<br>
<br>
Nicolas&nbsp;Antoniazzi&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
