<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  This&nbsp;is:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;a&nbsp;href=&quot;https://bugzilla.novell.com/show_bug.cgi?id=322158&quot;&gt;https://bugzilla.novell.com/show_bug.cgi?id=322158&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Dec&nbsp;14,&nbsp;2010&nbsp;at&nbsp;8:27&nbsp;PM,&nbsp;Bryan&nbsp;Murphy&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:bmurphy1976@gmail.com&quot;&gt;bmurphy1976@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
I&nbsp;have&nbsp;a&nbsp;very&nbsp;simple&nbsp;test&nbsp;program:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;div&gt;01&nbsp;using&nbsp;System;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;02&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;<br>
03&nbsp;public&nbsp;static&nbsp;class&nbsp;Program&nbsp;{&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;04&nbsp; &nbsp; public&nbsp;static&nbsp;void&nbsp;ThrowCatchRethrow()&nbsp;{&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;05&nbsp; &nbsp; &nbsp; &nbsp; try&nbsp;{&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;06&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw&nbsp;new&nbsp;InvalidOperationException();&lt;/div&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;div&gt;07&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp;catch&nbsp;(Exception)&nbsp;{&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;09&nbsp; &nbsp; &nbsp; &nbsp; }&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;10&nbsp; &nbsp; }&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;12&nbsp; &nbsp; public&nbsp;static&nbsp;void&nbsp;Main(string[]&nbsp;args)&nbsp;{&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;13&nbsp; &nbsp; &nbsp; &nbsp; try&nbsp;{&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;14&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ThrowCatchRethrow();&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;15&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp;catch&nbsp;(Exception&nbsp;ex)&nbsp;{&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.Error.WriteLine(ex);&lt;/div&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;div&gt;17&nbsp; &nbsp; &nbsp; &nbsp; }&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;18&nbsp; &nbsp; }&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;19&nbsp;}&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;compile&nbsp;this&nbsp;using&nbsp;the&nbsp;following:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;<br>
<br>
&lt;div&gt;$&nbsp;gmcs&nbsp;-debug&nbsp;-out:ExceptionTest.exe&nbsp;ExceptionTest.cs&lt;/div&gt;&lt;div&gt;$&nbsp;csc.exe&nbsp;/debug&nbsp;/out:ExceptionTest.exe&nbsp;ExceptionTest.cs&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;When&nbsp;I&nbsp;execute&nbsp;it&nbsp;under&nbsp;the&nbsp;.NET&nbsp;framework,&nbsp;I&nbsp;get&nbsp;the&nbsp;following&nbsp;stack&nbsp;trace:&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;div&gt;$&nbsp;./ExceptionTest.exe&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;System.InvalidOperationException:&nbsp;Operation&nbsp;is&nbsp;not&nbsp;valid&nbsp;due&nbsp;to&nbsp;the&nbsp;current&nbsp;state&nbsp;of&nbsp;the&nbsp;object.&lt;/div&gt;<br>
<br>
&lt;div&gt;  &nbsp;at&nbsp;Program.ThrowCatchRethrow()&nbsp;in&nbsp;u:\Workspace\MonoTest\ExceptionTest.cs:line&nbsp;8&lt;/div&gt;&lt;div&gt;  &nbsp;at&nbsp;Program.Main(String[]&nbsp;args)&nbsp;in&nbsp;u:\Workspace\MonoTest\ExceptionTest.cs:line&nbsp;14&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;<br>
<br>
When&nbsp;I&nbsp;execute&nbsp;it&nbsp;under&nbsp;Mono,&nbsp;I&nbsp;get&nbsp;the&nbsp;following:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;div&gt;$ mono&nbsp;--debug&nbsp;./ExceptionTest.exe&lt;/div&gt;&lt;div&gt;<br>
&lt;div&gt;System.InvalidOperationException:&nbsp;Operation&nbsp;is&nbsp;not&nbsp;valid&nbsp;due&nbsp;to&nbsp;the&nbsp;current&nbsp;state&nbsp;of&nbsp;the&nbsp;object&lt;/div&gt;&lt;div&gt;  at&nbsp;Program.ThrowCatchRethrow&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;U:\Workspace\MonoTest\ExceptionTest.cs:6&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;Here&nbsp;you&nbsp;can&nbsp;clearly&nbsp;see&nbsp;that&nbsp;the&nbsp;stack&nbsp;traces&nbsp;are&nbsp;*very*&nbsp;different.&nbsp; In&nbsp;fact,&nbsp;while&nbsp;it&amp;#39;s&nbsp;nice&nbsp;that&nbsp;Mono&nbsp;shows&nbsp;line&nbsp;#06&nbsp;as&nbsp;the&nbsp;place&nbsp;where&nbsp;the&nbsp;exception&nbsp;is&nbsp;actually&nbsp;thrown,&nbsp;it&nbsp;loses&nbsp;the&nbsp;fact&nbsp;that&nbsp;line&nbsp;#14&nbsp;was&nbsp;also&nbsp;part&nbsp;of&nbsp;the&nbsp;stack&nbsp;at&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;error.&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;.NET&nbsp;framework&nbsp;shows&nbsp;line&nbsp;#08&nbsp;as&nbsp;the&nbsp;place&nbsp;where&nbsp;the&nbsp;exception&nbsp;was&nbsp;thrown,&nbsp;which&nbsp;is&nbsp;not&nbsp;ideal,&nbsp;however&nbsp;it&nbsp;includes&nbsp;line&nbsp;#14&nbsp;which&nbsp;is&nbsp;what&nbsp;I&nbsp;really&nbsp;want.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;we&nbsp;can&nbsp;get&nbsp;the&nbsp;stack&nbsp;traces&nbsp;to&nbsp;look&nbsp;more&nbsp;like&nbsp;the&nbsp;.NET&nbsp;framework&nbsp;stack&nbsp;traces?&nbsp; I&nbsp;actually&nbsp;find&nbsp;it&nbsp;significantly&nbsp;easier&nbsp;to&nbsp;track&nbsp;down&nbsp;the&nbsp;location&nbsp;of&nbsp;a&nbsp;problem&nbsp;when&nbsp;presented&nbsp;with&nbsp;the&nbsp;.NET&nbsp;stack&nbsp;trace.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;know&nbsp;I&nbsp;can&nbsp;wrap&nbsp;and&nbsp;rethrow,&nbsp;but&nbsp;that&nbsp;loses&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;initial&nbsp;exception&nbsp;so&nbsp;it&amp;#39;s&nbsp;not&nbsp;a&nbsp;feasible&nbsp;solution.&nbsp; We&amp;#39;re&nbsp;going&nbsp;to&nbsp;add&nbsp;a&nbsp;centralized&nbsp;logging&nbsp;service&nbsp;and&nbsp;audit&nbsp;our&nbsp;code&nbsp;to&nbsp;try&nbsp;and&nbsp;track&nbsp;down&nbsp;these&nbsp;issues,&nbsp;however,&nbsp;that&amp;#39;s&nbsp;a&nbsp;rather&nbsp;painful&nbsp;way&nbsp;to&nbsp;go&nbsp;about&nbsp;this&nbsp;and&nbsp;we&nbsp;keep&nbsp;running&nbsp;into&nbsp;this&nbsp;problem&nbsp;again&nbsp;and&nbsp;again.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Bryan&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
