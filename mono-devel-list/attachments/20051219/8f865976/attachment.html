<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/3.8.1&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
Hello&nbsp;Gonzalo,&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;As&nbsp;we&nbsp;talked&nbsp;earlier,&nbsp;I'm&nbsp;sending&nbsp;you&nbsp;the&nbsp;patches&nbsp;for&nbsp;mod_mono&nbsp;on&nbsp;windows.&nbsp;On&nbsp;patch&nbsp;mod_mono-win32-3,&amp;nbsp;&nbsp;const&nbsp;int&nbsp;MAXARGS&nbsp;=&nbsp;21;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;should&nbsp;work&nbsp;using&nbsp;#define&nbsp;,&nbsp;but&nbsp;on&nbsp;Windows,&nbsp;as&nbsp;const&nbsp;int&nbsp;it&nbsp;does&nbsp;not&nbsp;work,&nbsp;so&nbsp;for&nbsp;now&nbsp;it&nbsp;is&nbsp;hardcoded.&nbsp;I&nbsp;think&nbsp;the&nbsp;best&nbsp;should&nbsp;be&nbsp;testing&nbsp;with&nbsp;define.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;I&nbsp;have&nbsp;discussed&nbsp;it&nbsp;with&nbsp;Algel&nbsp;Marin&nbsp;(the&nbsp;patch&nbsp;creator)&nbsp;and&nbsp;there&nbsp;should&nbsp;be&nbsp;no&nbsp;problem&nbsp;on&nbsp;using&nbsp;define.&nbsp;There&nbsp;are&nbsp;a&nbsp;few&nbsp;issues&nbsp;we&nbsp;should&nbsp;discuss&nbsp;also:&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;autohosting&nbsp;is&nbsp;used,&nbsp;mod-mono-server&nbsp;does&nbsp;not&nbsp;identify&nbsp;paths&nbsp;as&nbsp;applications&nbsp;(maybe&nbsp;we&nbsp;didn't&nbsp;figure&nbsp;out&nbsp;how&nbsp;to&nbsp;make&nbsp;it&nbsp;work)&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;We&nbsp;need&nbsp;to&nbsp;determine&nbsp;also&nbsp;a&nbsp;good&nbsp;LISTEN_PORT&nbsp;value&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;With&nbsp;some&nbsp;releases&nbsp;you&nbsp;can&nbsp;configure&nbsp;the&nbsp;directives&nbsp;with&nbsp;spaces&nbsp;and&nbsp;backslashes&nbsp;and&nbsp;then&nbsp;in&nbsp;the&nbsp;next&nbsp;one&nbsp;the&nbsp;behavior&nbsp;changes,&nbsp;the&nbsp;directive&nbsp;that&nbsp;accepted&nbsp;spaces,&nbsp;makes&nbsp;mono&nbsp;fail&nbsp;and&nbsp;the&nbsp;one&nbsp;that&nbsp;gave&nbsp;problems&nbsp;starts&nbsp;accepting&nbsp;them,&nbsp;for&nbsp;example&nbsp;on&nbsp;1.1.10&nbsp;MonoDocumentRootDir&nbsp;does&nbsp;not&nbsp;work&nbsp;if&nbsp;you&nbsp;configure&nbsp;it&nbsp;with&nbsp;a&nbsp;path&nbsp;that&nbsp;has&nbsp;spaces,&nbsp;mono&nbsp;gives&nbsp;exceptions&nbsp;until&nbsp;you&nbsp;use&nbsp;the&nbsp;old&nbsp;8.3&nbsp;format&nbsp;for&nbsp;the&nbsp;path.&nbsp;On&nbsp;1.1.9&nbsp;MonoExecutablePath&nbsp;gave&nbsp;similar&nbsp;problems,&nbsp;but&nbsp;in&nbsp;1.1.10&nbsp;it&nbsp;works.&nbsp;(on&nbsp;a&nbsp;first&nbsp;impression&nbsp;I&nbsp;would&nbsp;say&nbsp;it&nbsp;could&nbsp;be&nbsp;some&nbsp;platform&nbsp;path&nbsp;mapping&nbsp;glitch&nbsp;on&nbsp;the&nbsp;base&nbsp;classlib)&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;The&nbsp;build&nbsp;process&nbsp;on&nbsp;windows&nbsp;depends&nbsp;on&nbsp;cygwin&nbsp;(win32&nbsp;glib&nbsp;builds)&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;fork_mod_mono_server&nbsp;does&nbsp;two&nbsp;different&nbsp;tasks:&nbsp;first&nbsp;it&nbsp;prepares&nbsp;the&nbsp;arguments&nbsp;to&nbsp;launch&nbsp;mod-mono-server.exe,&nbsp;then&nbsp;It&nbsp;setups&nbsp;the&nbsp;environment&nbsp;needed&nbsp;for&nbsp;the&nbsp;fork&nbsp;and&nbsp;forks&nbsp;the&nbsp;process.&nbsp;The&nbsp;arguments&nbsp;needed&nbsp;for&nbsp;win32&nbsp;are&nbsp;just&nbsp;the&nbsp;same&nbsp;needed&nbsp;for&nbsp;linux,&nbsp;just&nbsp;the&nbsp;fork&nbsp;stuff&nbsp;changes.&nbsp;To&nbsp;ease&nbsp;maintenance&nbsp;the&nbsp;args&nbsp;should&nbsp;be&nbsp;setup&nbsp;in&nbsp;other&nbsp;function&nbsp;and&nbsp;#ifdef&nbsp;WIN32&nbsp;should&nbsp;be&nbsp;used&nbsp;to&nbsp;declare&nbsp;the&nbsp;right&nbsp;function.&nbsp;The&nbsp;patch&nbsp;mod_mono-win32-3&nbsp;handles&nbsp;fork_mod_mono&nbsp;on&nbsp;windows&nbsp;...&nbsp;it&nbsp;should&nbsp;be&nbsp;rewritten&nbsp;as&nbsp;stated&nbsp;earlier.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;The&nbsp;patches&nbsp;were&nbsp;designed&nbsp;in&nbsp;a&nbsp;manner&nbsp;to&nbsp;keed&nbsp;mod_mono&nbsp;the&nbsp;closest&nbsp;from&nbsp;original.&nbsp;There&nbsp;could&nbsp;be&nbsp;some&nbsp;corrections&nbsp;in&nbsp;order&nbsp;to&nbsp;merge&nbsp;it&nbsp;with&nbsp;the&nbsp;actual&nbsp;code&nbsp;and&nbsp;keed&nbsp;it&nbsp;portable.&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;problem,&nbsp;me&nbsp;and&nbsp;Angel&nbsp;Marin&nbsp;could&nbsp;do&nbsp;the&nbsp;refactoring&nbsp;as&nbsp;stated&nbsp;on&nbsp;this&nbsp;mail&nbsp;and&nbsp;I&nbsp;could&nbsp;commit&nbsp;it&nbsp;later.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;TABLE&nbsp;CELLSPACING=&quot;0&quot;&nbsp;CELLPADDING=&quot;0&quot;&nbsp;WIDTH=&quot;100%&quot;&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;<br>
&lt;TABLE&nbsp;CELLSPACING=&quot;0&quot;&nbsp;CELLPADDING=&quot;0&quot;&nbsp;WIDTH=&quot;100%&quot;&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;<br>
--&lt;BR&gt;<br>
Regards,&lt;BR&gt;<br>
&amp;nbsp;&nbsp;&lt;B&gt;Alexandre&nbsp;Rocha&nbsp;Lima&nbsp;e&nbsp;Marcondes&lt;/B&gt;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;&lt;B&gt;&lt;I&gt;&lt;TT&gt;P4&nbsp;Tecnologia&nbsp;e&nbsp;Desenvolvimento&nbsp;Humano&lt;/TT&gt;&lt;/I&gt;&lt;/B&gt;&nbsp;<br>
&lt;PRE&gt;<br>
&lt;TABLE&nbsp;WIDTH=&quot;100%&quot;&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;<br>
&lt;TT&gt;&lt;FONT&nbsp;SIZE=&quot;2&quot;&gt;&lt;A&nbsp;HREF=&quot;mailto:alexandre@p4tecnologia.com&quot;&gt;alexandre@p4tecnologia.com&lt;/A&gt;&lt;/FONT&gt;&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;&lt;FONT&nbsp;SIZE=&quot;2&quot;&gt;&lt;A&nbsp;HREF=&quot;alexandre@psl-pr.softwarelivre.org&quot;&gt;alexandre@psl-pr.softwarelivre.org&lt;/A&gt;&lt;/FONT&gt;&lt;/TT&gt;&lt;BR&gt;<br>
&lt;TT&gt;&lt;FONT&nbsp;SIZE=&quot;2&quot;&gt;&lt;A&nbsp;HREF=&quot;mailto:arlm@users.sourceforge.net&quot;&gt;arlm@users.sourceforge.net&lt;/A&gt;&lt;/FONT&gt;&lt;/TT&gt;&nbsp;<br>
&lt;/TD&gt;<br>
&lt;TD&gt;<br>
&lt;A&nbsp;HREF=&quot;http://www.p4tecnologia.com&quot;&gt;www.p4tecnologia.com&lt;/A&gt;&lt;BR&gt;<br>
&lt;A&nbsp;HREF=&quot;http://alexandre.p4tecnologia.com&quot;&gt;alexandre.p4tecnologia.com&lt;/A&gt;&nbsp;<br>
&lt;/TD&gt;<br>
&lt;TD&gt;<br>
&lt;I&gt;&lt;FONT&nbsp;COLOR=&quot;#969696&quot;&gt;Projetos:&lt;/FONT&gt;&lt;/I&gt;&lt;BR&gt;<br>
&lt;A&nbsp;HREF=&quot;http://monobrasil.softwarelivre.org&quot;&gt;MonoBrasil&lt;/A&gt;&nbsp;&lt;A&nbsp;HREF=&quot;http://monobasic.sl.org&quot;&gt;MonoBASIC&lt;/A&gt;&nbsp;&lt;A&nbsp;HREF=&quot;http://acbr.sf.net&quot;&gt;ACBr&lt;/A&gt;&nbsp;&lt;BR&gt;<br>
&lt;A&nbsp;HREF=&quot;http://www.freedom.org.br&quot;&gt;Freedom&nbsp;ERP&lt;/A&gt;&nbsp;<br>
&lt;/TD&gt;<br>
&lt;/TR&gt;<br>
&lt;/TABLE&gt;<br>
<br>
<br>
<br>
<br>
<br>
To&nbsp;validate&nbsp;this&nbsp;message's&nbsp;signature&nbsp;follow&nbsp;the&nbsp;instructions:&nbsp;&lt;A&nbsp;HREF=&quot;http://www.cacert.org/index.php?id=3&amp;lang=en_US&quot;&gt;http://www.cacert.org/index.php?id=3&amp;amp;lang=en_US&lt;/A&gt;<br>
&lt;/PRE&gt;<br>
&lt;/TD&gt;<br>
&lt;/TR&gt;<br>
&lt;/TABLE&gt;<br>
&lt;/TD&gt;<br>
&lt;/TR&gt;<br>
&lt;/TABLE&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
