<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2800.1170&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;STYLE&gt;&lt;/STYLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;bgColor=#ffffff&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Hi,&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;There&nbsp;is&nbsp;one&nbsp;problem&nbsp;when&nbsp;serializing&nbsp;a&nbsp;hashtable&nbsp;<br>
from&nbsp;which&nbsp;an&nbsp;element&nbsp;has&nbsp;been&nbsp;removed.&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;The&nbsp;current&nbsp;implementation&nbsp;uses&nbsp;a&nbsp;special&nbsp;value&nbsp;to&nbsp;<br>
mark&nbsp;slots&nbsp;as&nbsp;deleted.&nbsp;It&nbsp;is&nbsp;an&nbsp;Object&nbsp;instance,&nbsp;defined&nbsp;in&nbsp;the&nbsp;constant&nbsp;&lt;FONT&nbsp;<br>
size=2&gt;REMOVED_MARKER.&nbsp;When&nbsp;the&nbsp;hashtable&nbsp;is&nbsp;serialized,&nbsp;it&nbsp;also&nbsp;serializes&nbsp;<br>
those&nbsp;Object&nbsp;instances.&nbsp;The&nbsp;problem&nbsp;is&nbsp;that&nbsp;when&nbsp;the&nbsp;hashtable&nbsp;is&nbsp;deserialized,&nbsp;<br>
the&nbsp;Object&nbsp;instance&nbsp;that&nbsp;the&nbsp;serializer&nbsp;constructs&nbsp;is&nbsp;not&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;<br>
internal&nbsp;REMOVED_MARKER&nbsp;instance,&nbsp;so&nbsp;it&nbsp;thinks&nbsp;it&nbsp;is&amp;nbsp;valid&nbsp;value&nbsp;<br>
slot.&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;The&nbsp;attached&nbsp;patch&nbsp;solves&nbsp;the&nbsp;problem.&nbsp;However,&nbsp;I&nbsp;<br>
don't&nbsp;know&nbsp;if&nbsp;this&nbsp;is&nbsp;the&nbsp;best&nbsp;approach,&nbsp;I&nbsp;don't&nbsp;fully&nbsp;understand&nbsp;why&nbsp;this&nbsp;<br>
REMOVED_MARKER&nbsp;is&nbsp;needed.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;If&nbsp;there&nbsp;aren't&nbsp;any&nbsp;objections,&nbsp;I'll&nbsp;commit&nbsp;the&nbsp;<br>
patch.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Regards,&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Lluis.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
