<tt>
<br>
I&nbsp;think&nbsp;that&nbsp;the&nbsp;error:&nbsp;Bad&nbsp;request&nbsp;is&nbsp;because&nbsp; I&nbsp;need&nbsp;to&nbsp;configure&nbsp;the &lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;monospace;&nbsp;font-size:&nbsp;medium;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;XmlDictionaryReaderQuotas.&nbsp;Can&nbsp;you&nbsp;tell&nbsp;me&nbsp;how&nbsp;you&nbsp;do&nbsp;that&nbsp;in&nbsp;Mono?&lt;/span&gt;&lt;div&gt;<br>
&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;monospace&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;white-space:&nbsp;pre;&nbsp;font-size:&nbsp;medium;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;monospace&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;white-space:&nbsp;pre;&nbsp;font-size:&nbsp;medium;&quot;&gt;By&nbsp;the&nbsp;way,&nbsp;I&nbsp;upgraded&nbsp;to&nbsp;Mono&nbsp;2.8.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;monospace&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;white-space:&nbsp;pre;&nbsp;font-size:&nbsp;medium;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;monospace&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;white-space:&nbsp;pre;&nbsp;font-size:&nbsp;medium;&quot;&gt;Cheers,&lt;br&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jan&nbsp;17,&nbsp;2011&nbsp;at&nbsp;2:17&nbsp;AM,&nbsp;Atsushi&nbsp;Eno-2&nbsp;[via&nbsp;Mono]&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;/user/SendEmail.jtp?type=node&amp;node=3221227&amp;i=0&quot;&nbsp;target=&quot;_top&quot;&nbsp;rel=&quot;nofollow&quot;&gt;[hidden&nbsp;email]&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspYou&nbsp;might&nbsp;want&nbsp;to&nbsp;read&nbsp;this:&nbsp;<br>
&lt;br&gt;&lt;a&nbsp;href=&quot;http://nirajrules.wordpress.com/2009/08/03/mtom-vs-streaming-vs-compression-%E2%80%93-large-attachments-over-wcf/&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;link=&quot;external&quot;&nbsp;target=&quot;_blank&quot;&gt;http://nirajrules.wordpress.com/2009/08/03/mtom-vs-streaming-vs-compression-%E2%80%93-large-attachments-over-wcf/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;Atsushi&nbsp;Eno<br>
&lt;br&gt;&lt;br&gt;(2011/01/15&nbsp;22:19),&nbsp;Joel&nbsp;Caner&nbsp;wrote:<br>
&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;&amp;gt;&nbsp;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;reply.&nbsp;Can&nbsp;you&nbsp;tell&nbsp;me&nbsp;if&nbsp;there&nbsp;is&nbsp;another&nbsp;way&nbsp;to&nbsp;send<br>
&lt;br&gt;&amp;gt;&nbsp;large&nbsp;data/file&nbsp;then?..can&nbsp;you&nbsp;provide&nbsp;an&nbsp;example&nbsp;of&nbsp;a&nbsp;client&nbsp;and&nbsp;service?<br>
&lt;br&gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&nbsp;Thank&nbsp;you&nbsp;again&nbsp;for&nbsp;your&nbsp;time.<br>
&lt;br&gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&nbsp;Cheers,<br>
&lt;br&gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&nbsp;-----Original&nbsp;Message-----<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&amp;gt;&nbsp;From:&nbsp;Atsushi&nbsp;Eno&nbsp;[mailto:&lt;a&nbsp;href=&quot;http://user/SendEmail.jtp?type=node&amp;amp;node=3220791&amp;amp;i=0&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&nbsp;link=&quot;external&quot;&gt;[hidden&nbsp;email]&lt;/a&gt;]<br>
&lt;br&gt;&amp;gt;&nbsp;Sent:&nbsp;Saturday,&nbsp;January&nbsp;15,&nbsp;2011&nbsp;3:11&nbsp;AM<br>
&lt;br&gt;&amp;gt;&nbsp;To:&nbsp;joelcaner<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&amp;gt;&nbsp;Cc:&nbsp;&lt;a&nbsp;href=&quot;http://user/SendEmail.jtp?type=node&amp;amp;node=3220791&amp;amp;i=1&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&nbsp;link=&quot;external&quot;&gt;[hidden&nbsp;email]&lt;/a&gt;<br>
&lt;div&nbsp;class='shrinkable-quote'&gt;&lt;br&gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[Mono-dev]&nbsp;WCF&nbsp;in&nbsp;Mono&nbsp;2.6.7<br>
&lt;br&gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&nbsp;Not&nbsp;sure&nbsp;where&nbsp;the&nbsp;actual&nbsp;error&nbsp;occurs&nbsp;without&nbsp;stack&nbsp;trace,&nbsp;but&nbsp;2.6&nbsp;is<br>
&lt;br&gt;&amp;gt;&nbsp;too&nbsp;old<br>
&lt;br&gt;&amp;gt;&nbsp;for&nbsp;WCF&nbsp;to&nbsp;try&nbsp;anyways.<br>
&lt;br&gt;&amp;gt;&nbsp;And&nbsp;Mtom&nbsp;is&nbsp;almost&nbsp;untested&nbsp;so&nbsp;it&nbsp;will&nbsp;cause&nbsp;any&nbsp;kind&nbsp;of&nbsp;problem&nbsp;(never<br>
&lt;br&gt;&amp;gt;&nbsp;expected&nbsp;that&nbsp;there&nbsp;are&nbsp;actually&nbsp;people&nbsp;who&nbsp;use&nbsp;it).<br>
&lt;br&gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&nbsp;Atsushi&nbsp;Eno<br>
&lt;br&gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&nbsp;(2011/01/14&nbsp;23:37),&nbsp;joelcaner&nbsp;wrote:<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;having&nbsp;trouble&nbsp;getting&nbsp;WCF&nbsp;working&nbsp;on&nbsp;Mono&nbsp;in&nbsp;Suse&nbsp;Linux&nbsp;11.3<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;have&nbsp;the&nbsp;client&nbsp;as&nbsp;follow:<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;BasicHttpBinding&nbsp;binding&nbsp;=&nbsp;new&nbsp;BasicHttpBinding();<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;binding.Security.Mode&nbsp;=&nbsp;BasicHttpSecurityMode.None;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;binding.TransferMode&nbsp;=&nbsp;TransferMode.Streamed;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;binding.MessageEncoding&nbsp;=&nbsp;WSMessageEncoding.Mtom;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;binding.MaxReceivedMessageSize&nbsp;=&nbsp;int.MaxValue;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;EndpointAddress&nbsp;address&nbsp;=&nbsp;new<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;EndpointAddress(&amp;quot;&lt;a&nbsp;href=&quot;http://localhost:5800/DataUploader&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;link=&quot;external&quot;&nbsp;target=&quot;_blank&quot;&gt;http://localhost:5800/DataUploader&lt;/a&gt;&amp;quot;);<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ChannelFactory&amp;lt;IDataUploader&amp;gt;&nbsp; &nbsp;channel&nbsp;=&nbsp;new<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;ChannelFactory&amp;lt;IDataUploader&amp;gt;(binding,&nbsp;address);<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;IDataUploader&nbsp;uploader&nbsp;=&nbsp;channel.CreateChannel();<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;uploader.Upload(File.Open(@&amp;quot;G:\anthem-1.5.2.zip&amp;quot;,<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;FileMode.Open,&nbsp;FileAccess.Read));<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(&amp;quot;File&nbsp;uploaded&nbsp;to&nbsp;the&nbsp;server&amp;quot;);<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.ReadLine();<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;catch&nbsp;(Exception&nbsp;ex)<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.Write(ex.Message);<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.ReadLine();<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;finally<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;((IClientChannel)uploader).Close();<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;have&nbsp;the&nbsp;following&nbsp;interface:<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;[ServiceContract]<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;interface&nbsp;IDataUploader<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;{<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[OperationContract]<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;void&nbsp;Upload(Stream&nbsp;data);<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;}<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;Now&nbsp;the&nbsp;service&nbsp;is&nbsp;as&nbsp;follow&nbsp;on&nbsp;DataUploader.cs:<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;class&nbsp;DataUploader&nbsp;:&nbsp;IDataUploader<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;{<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#region&nbsp;IDataUploader&nbsp;Members<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;public&nbsp;void&nbsp;Upload(Stream&nbsp;data)<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;string&nbsp;xmlFile&nbsp;=&nbsp;@&amp;quot;c:\temp\uploadedfile&amp;quot;&nbsp;+&nbsp;&amp;quot;.zip&amp;quot;;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;using&nbsp;(FileStream&nbsp;fs&nbsp;=&nbsp;new&nbsp;FileStream(xmlFile,<br>
&lt;br&gt;&amp;gt;&nbsp;FileMode.Create))<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int&nbsp;bufferSize&nbsp;=&nbsp;1&nbsp;*&nbsp;1024&nbsp;*&nbsp;1024;&nbsp;//&nbsp;1MB&nbsp;buffer<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;byte[]&nbsp;buffer&nbsp;=&nbsp;new&nbsp;byte[bufferSize];<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int&nbsp;bytes;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;while&nbsp;((bytes&nbsp;=&nbsp;data.Read(buffer,&nbsp;0,&nbsp;bufferSize))&amp;gt;&nbsp; &nbsp;0)<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fs.Write(buffer,&nbsp;0,&nbsp;bytes);<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fs.Flush();<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #endregion<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;}<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;Now&nbsp;on&nbsp;IDataUploader.cs:<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;[ServiceContract]<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;interface&nbsp;IDataUploader<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;{<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[OperationContract]<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;void&nbsp;Upload(Stream&nbsp;data);<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;}<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;On&nbsp;the&nbsp;main.cs&nbsp;I&nbsp;have:<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;public&nbsp;static&nbsp;void&nbsp;Main&nbsp;(string[]&nbsp;args)<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspServiceHost&nbsp;host&nbsp;=&nbsp;new<br>
&lt;br&gt;&amp;gt;&nbsp;ServiceHost(typeof(DataUploader));<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BasicHttpBinding&nbsp;binding&nbsp;=&nbsp;new&nbsp;BasicHttpBinding();<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbinding.Security.Mode&nbsp;=&nbsp;BasicHttpSecurityMode.None;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;binding.TransferMode&nbsp;=&nbsp;TransferMode.Streamed;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbinding.MessageEncoding&nbsp;=&nbsp;WSMessageEncoding.Mtom;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;binding.MaxReceivedMessageSize&nbsp;=&nbsp;int.MaxValue;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;host.AddServiceEndpoint(typeof(IDataUploader),&nbsp;binding,&nbsp;new<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;Uri(&amp;quot;&lt;a&nbsp;href=&quot;http://localhost:5800/DataUploader&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;link=&quot;external&quot;&nbsp;target=&quot;_blank&quot;&gt;http://localhost:5800/DataUploader&lt;/a&gt;&amp;quot;));<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ServiceBehaviorAttribute&nbsp;attribute&nbsp;=<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&nbsp;(ServiceBehaviorAttribute)host.Description.Behaviors[typeof(ServiceBehaviorA<br>
&lt;br&gt;&amp;gt;&nbsp;ttribute)];<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;attribute.ConcurrencyMode&nbsp;=&nbsp;ConcurrencyMode.Multiple;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;attribute.InstanceContextMode&nbsp;=&nbsp;InstanceContextMode.Single;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspattribute.IncludeExceptionDetailInFaults&nbsp;=&nbsp;true;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ServiceThrottlingBehavior&nbsp;throttling&nbsp;=&nbsp;new<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;ServiceThrottlingBehavior();<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;throttling.MaxConcurrentSessions&nbsp;=&nbsp;24;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;throttling.MaxConcurrentCalls&nbsp;=&nbsp;24;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;host.Description.Behaviors.Add(throttling);<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;host.Open();<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(&amp;quot;Service&nbsp;Hosted&nbsp;...&amp;quot;);<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.ReadKey();<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;host.Close();<br>
&lt;br&gt;&amp;gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;have&nbsp;both&nbsp;client&nbsp;and&nbsp;service&nbsp;running&nbsp;on&nbsp;the&nbsp;same&nbsp;system.&nbsp;I&nbsp;get&nbsp;an&nbsp;error:<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;Object&nbsp;reference&nbsp;not&nbsp;set&nbsp;to&nbsp;an&nbsp;instance&nbsp;of&nbsp;an&nbsp;object&nbsp;error.&nbsp;When&nbsp;I&nbsp;run&nbsp;a<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;client&nbsp;on&nbsp;a&nbsp;windows&nbsp;system&nbsp;and&nbsp;the&nbsp;service&nbsp;on&nbsp;the&nbsp;linux&nbsp;system&nbsp;I&nbsp;get&nbsp;&amp;quot;bad<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;request(400)&nbsp;error.&nbsp;Can&nbsp;someone&nbsp;help&nbsp;me&nbsp;understand&nbsp;what&nbsp;I&nbsp;am&nbsp;missing?<br>
&lt;br&gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;_______________________________________________<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;Mono-devel-list&nbsp;mailing&nbsp;list<br>
&lt;br&gt;&lt;/div&gt;&lt;a&nbsp;href=&quot;http://user/SendEmail.jtp?type=node&amp;amp;node=3220791&amp;amp;i=2&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&nbsp;link=&quot;external&quot;&gt;[hidden&nbsp;email]&lt;/a&gt;<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;link=&quot;external&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;br&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;br&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/div&gt;&lt;hr&nbsp;noshade&nbsp;size=&quot;1&quot;&nbsp;color=&quot;#cccccc&quot;&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;div&nbsp;style=&quot;color:#666666;font:11px&nbsp;tahoma,geneva,helvetica,arial,sans-serif&quot;&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspView&nbsp;message&nbsp;@&nbsp;&lt;a&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/WCF-in-Mono-2-6-7-tp3217763p3220791.html?by-user=t&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;link=&quot;external&quot;&gt;http://mono.1490590.n4.nabble.com/WCF-in-Mono-2-6-7-tp3217763p3220791.html&lt;/a&gt;&lt;br&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspTo&nbsp;unsubscribe&nbsp;from&nbsp;WCF&nbsp;in&nbsp;Mono&nbsp;2.6.7,&nbsp;&lt;a&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&amp;amp;node=3217763&amp;amp;code=am9lbGNhbmVyQGdtYWlsLmNvbXwzMjE3NzYzfC0xNzczOTczNjM4&amp;by-user=t&quot;&nbsp;target=&quot;_blank&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;link=&quot;external&quot;&gt;click&nbsp;here&lt;/a&gt;.<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;br&gt;&lt;hr&nbsp;align=&quot;left&quot;&nbsp;width=&quot;300&quot;&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/WCF-in-Mono-2-6-7-tp3217763p3221227.html&quot;&gt;Re:&nbsp;WCF&nbsp;in&nbsp;Mono&nbsp;2.6.7&lt;/a&gt;&lt;br&gt;<br>
Sent&nbsp;from&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/Mono-Dev-f1517221.html&quot;&gt;Mono&nbsp;-&nbsp;Dev&nbsp;mailing&nbsp;list&nbsp;archive&lt;/a&gt;&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>

</tt>
