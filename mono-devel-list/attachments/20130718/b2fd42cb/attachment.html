<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;Our&nbsp;module&nbsp;can&nbsp;run&nbsp;for&nbsp;weeks&nbsp;but&nbsp;then&nbsp;crashes...always&nbsp;in&nbsp;serializing&nbsp;of&nbsp;a&nbsp;class&nbsp;to&nbsp;a&nbsp;class&nbsp;to&nbsp;XML.&nbsp;We&nbsp;can&nbsp;perform&nbsp;the&nbsp;same&nbsp;serialisation&nbsp;operation&nbsp;over&nbsp;a&nbsp;million&nbsp;times,&nbsp;but&nbsp;then&nbsp;it&nbsp;crash&nbsp;within&nbsp;one.&nbsp;Try/Catch&nbsp;traps&nbsp;see&nbsp;nothing.&nbsp;This&nbsp;leads&nbsp;us&nbsp;to&nbsp;think&nbsp;the&nbsp;issue&nbsp;is&nbsp;much&nbsp;deeper&nbsp;in&nbsp;mono. &lt;/div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;div&gt;We&nbsp;have&nbsp;a&nbsp;mono&nbsp;service&nbsp;that&nbsp;manages&nbsp;a&nbsp;state&nbsp;engine&nbsp;that&nbsp;can&nbsp;manage&nbsp;several&nbsp;entity&nbsp;types&nbsp;and&nbsp;hundreds&nbsp;of&nbsp;entities&nbsp;instances&nbsp;that&nbsp;can&nbsp;change&nbsp;state&nbsp;every&nbsp;few&nbsp;seconds.&nbsp;Periodically&nbsp;the&nbsp;engine&nbsp;takes&nbsp;some&nbsp;snapshot&nbsp;statistics&nbsp;and&nbsp;does&nbsp;two&nbsp;things&nbsp;with&nbsp;the&nbsp;statistics.&nbsp;It:&lt;/div&gt;<br>
<br>
&lt;div&gt;a)&nbsp;streams&nbsp;them&nbsp;them&nbsp;to&nbsp;a&nbsp;socket &lt;/div&gt;&lt;div&gt;b)&nbsp;writes&nbsp;them&nbsp;to&nbsp;a&nbsp;file. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;To&nbsp;prepare&nbsp;the&nbsp;stats&nbsp;for&nbsp;these&nbsp;operations&nbsp;they&nbsp;are&nbsp;placed&nbsp;in&nbsp;one&nbsp;of&nbsp;several&nbsp;collections&nbsp;and&nbsp;these&nbsp;collections&nbsp;are&nbsp;serialized.&nbsp;When&nbsp;the&nbsp;system&nbsp;is&nbsp;busy&nbsp;it&nbsp;can&nbsp;average&nbsp;to&nbsp;about&nbsp;10&nbsp;to&nbsp;20&nbsp;serialization&nbsp;operations&nbsp;per&nbsp;second. &lt;/div&gt;<br>
<br>
&lt;div&gt;We&nbsp;have&nbsp;optimized&nbsp;the&nbsp;code&nbsp;to&nbsp;persist&nbsp;the&nbsp;serialization&nbsp;objects&nbsp;for&nbsp;each&nbsp;collection&nbsp;class.&nbsp;This&nbsp;improves&nbsp;performance&nbsp;in&nbsp;mono,&nbsp;but&nbsp;did&nbsp;not&nbsp;affect&nbsp;the&nbsp;incidence&nbsp;of&nbsp;the&nbsp;issue.&nbsp;In&nbsp;development&nbsp;when&nbsp;we&nbsp;(accidently)&nbsp;created&nbsp;issues&nbsp;that&nbsp;caused&nbsp;genuine&nbsp;serialization&nbsp;exceptions&nbsp;we&nbsp;caught&nbsp;them&nbsp;so&nbsp;we&nbsp;know&nbsp;out&nbsp;exception&nbsp;catching&nbsp;works...Our&nbsp;logging&nbsp;tells&nbsp;us&nbsp;that&nbsp;&quot;serialization&nbsp;is&nbsp;starting&quot;&nbsp;but&nbsp;on&nbsp;crash&nbsp;we&nbsp;see&nbsp;no&nbsp;&quot;serialisation&nbsp;done&quot;&nbsp;message.&lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Anyone&nbsp;have&nbsp;any&nbsp;ideas?&nbsp;Does/has&nbsp;anyone&nbsp;else&nbsp;seen&nbsp;this.&nbsp; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
