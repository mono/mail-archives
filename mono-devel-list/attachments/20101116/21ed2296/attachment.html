<tt>
Applied,&nbsp;thanks.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Zoltan&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Nov&nbsp;16,&nbsp;2010&nbsp;at&nbsp;7:03&nbsp;AM,&nbsp;KISHIMOTO,&nbsp;Makoto&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ksmakoto@dd.iij4u.or.jp&quot;&gt;ksmakoto@dd.iij4u.or.jp&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;Hello.&lt;br&gt;<br>
&lt;br&gt;<br>
Please&nbsp;apply&nbsp;this&nbsp;patch.&lt;br&gt;<br>
&lt;br&gt;<br>
diff&nbsp;--git&nbsp;a/mono/profiler/decode.c&nbsp;b/mono/profiler/decode.c&lt;br&gt;<br>
index&nbsp;a7d4428..6cc08ff&nbsp;100644&lt;br&gt;<br>
---&nbsp;a/mono/profiler/decode.c&lt;br&gt;<br>
+++&nbsp;b/mono/profiler/decode.c&lt;br&gt;<br>
@@&nbsp;-12,7&nbsp;+12,7&nbsp;@@&lt;br&gt;<br>
 #include&nbsp;&amp;lt;string.h&amp;gt;&lt;br&gt;<br>
 #include&nbsp;&amp;lt;assert.h&amp;gt;&lt;br&gt;<br>
 #include&nbsp;&amp;lt;stdio.h&amp;gt;&lt;br&gt;<br>
-#if&nbsp;!defined(__APPLE__)&lt;br&gt;<br>
+#if&nbsp;!defined(__APPLE__)&nbsp;&amp;amp;&amp;amp;&nbsp;!defined(__FreeBSD__)&lt;br&gt;<br>
 #include&nbsp;&amp;lt;malloc.h&amp;gt;&lt;br&gt;<br>
 #endif&lt;br&gt;<br>
 #include&nbsp;&amp;lt;unistd.h&amp;gt;&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
On&nbsp;Sat,&nbsp;13&nbsp;Nov&nbsp;2010&nbsp;17:21:24&nbsp;+0900&lt;br&gt;<br>
&amp;quot;KISHIMOTO,&nbsp;Makoto&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ksmakoto@dd.iij4u.or.jp&quot;&gt;ksmakoto@dd.iij4u.or.jp&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;Hello,&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;In&nbsp;my&nbsp;FreeBSD-amd64&nbsp;box,&nbsp;Mono&nbsp;git&nbsp;trunk&nbsp;build&nbsp;failed.&lt;br&gt;<br>
&amp;gt;&nbsp;IMHO,&nbsp;malloc.h&nbsp;had&nbsp;been&nbsp;deprecated&nbsp;in&nbsp;my&nbsp;environment.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;$&nbsp;gmake&lt;br&gt;<br>
&amp;gt;&nbsp;(snip)&lt;br&gt;<br>
&amp;gt;&nbsp;gcc&nbsp;-DHAVE_CONFIG_H&nbsp;-I.&nbsp;-I../../../mono/mono/profiler&nbsp;-I../..&nbsp;-fexceptions&nbsp;-DMONO_USE_EXC_TABLES&nbsp;-I../../../mono&nbsp;-I../../../mono/eglib/src&nbsp;-I../../eglib/src&nbsp; -DGC_FREEBSD_THREADS&nbsp;-DPLATFORM_BSD&nbsp; &nbsp;-g&nbsp;-O2&nbsp;-fno-strict-aliasing&nbsp;-Wdeclaration-after-statement&nbsp;-g&nbsp;-Wall&nbsp;-Wunused&nbsp;-Wmissing-prototypes&nbsp;-Wmissing-declarations&nbsp;-Wstrict-prototypes&nbsp; -Wmissing-prototypes&nbsp;-Wnested-externs&nbsp;-Wpointer-arith&nbsp;-Wno-cast-qual&nbsp;-Wwrite-strings&nbsp;-mno-tls-direct-seg-refs&nbsp;-MT&nbsp;decode.o&nbsp;-MD&nbsp;-MP&nbsp;-MF&nbsp;.deps/decode.Tpo&nbsp;-c&nbsp;-o&nbsp;decode.o&nbsp;../../../mono/mono/profiler/decode.c&lt;br&gt;<br>
<br>
&amp;gt;&nbsp;In&nbsp;file&nbsp;included&nbsp;from&nbsp;../../../mono/mono/profiler/decode.c:16:&lt;br&gt;<br>
&amp;gt;&nbsp;/usr/include/malloc.h:3:2:&nbsp;error:&nbsp;#error&nbsp;&amp;quot;&amp;lt;malloc.h&amp;gt;&nbsp;has&nbsp;been&nbsp;replaced&nbsp;by&nbsp;&amp;lt;stdlib.h&amp;gt;&amp;quot;&lt;br&gt;<br>
&amp;gt;&nbsp;../../../mono/mono/profiler/decode.c:&nbsp;In&nbsp;function&nbsp;&amp;#39;tracked_creation&amp;#39;:&lt;br&gt;<br>
&amp;gt;&nbsp;../../../mono/mono/profiler/decode.c:993:&nbsp;warning:&nbsp;format&nbsp;&amp;#39;%llu&amp;#39;&nbsp;expects&nbsp;type&nbsp;&amp;#39;long&nbsp;long&nbsp;unsigned&nbsp;int&amp;#39;,&nbsp;but&nbsp;argument&nbsp;5&nbsp;has&nbsp;type&nbsp;&amp;#39;uint64_t&amp;#39;&lt;br&gt;<br>
&amp;gt;&nbsp;../../../mono/mono/profiler/decode.c:&nbsp;In&nbsp;function&nbsp;&amp;#39;decode_buffer&amp;#39;:&lt;br&gt;<br>
&amp;gt;&nbsp;../../../mono/mono/profiler/decode.c:1082:&nbsp;warning:&nbsp;format&nbsp;&amp;#39;%x&amp;#39;&nbsp;expects&nbsp;type&nbsp;&amp;#39;unsigned&nbsp;int&amp;#39;,&nbsp;but&nbsp;argument&nbsp;3&nbsp;has&nbsp;type&nbsp;&amp;#39;intptr_t&amp;#39;&lt;br&gt;<br>
&amp;gt;&nbsp;(snip&nbsp;warnings)&lt;br&gt;<br>
&amp;gt;&nbsp;gmake[3]:&nbsp;***&nbsp;[decode.o]&nbsp;Error&nbsp;1&lt;br&gt;<br>
&amp;gt;&nbsp;gmake[3]:&nbsp;Leaving&nbsp;directory&nbsp;`/export/home/ksmakoto/Mono/BUILD/mono/profiler&amp;#39;&lt;br&gt;<br>
&amp;gt;&nbsp;gmake[2]:&nbsp;***&nbsp;[all-recursive]&nbsp;Error&nbsp;1&lt;br&gt;<br>
&amp;gt;&nbsp;gmake[2]:&nbsp;Leaving&nbsp;directory&nbsp;`/export/home/ksmakoto/Mono/BUILD/mono&amp;#39;&lt;br&gt;<br>
&amp;gt;&nbsp;gmake[1]:&nbsp;***&nbsp;[all-recursive]&nbsp;Error&nbsp;1&lt;br&gt;<br>
&amp;gt;&nbsp;gmake[1]:&nbsp;Leaving&nbsp;directory&nbsp;`/export/home/ksmakoto/Mono/BUILD&amp;#39;&lt;br&gt;<br>
&amp;gt;&nbsp;gmake:&nbsp;***&nbsp;[all]&nbsp;Error&nbsp;2&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
