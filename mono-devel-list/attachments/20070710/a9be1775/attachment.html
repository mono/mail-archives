<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.6000.16481&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;Hi&nbsp;<br>
all,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;I've&nbsp;been&nbsp;trying&nbsp;to&nbsp;<br>
get&nbsp;a&nbsp;sample&nbsp;application&nbsp;up&nbsp;using&nbsp;the&nbsp;Castle&nbsp;framework&nbsp;and&nbsp;Mono.&amp;nbsp;&nbsp;However,&nbsp;<br>
I've&nbsp;run&nbsp;into&nbsp;a&nbsp;problem.&amp;nbsp;&nbsp;I've&nbsp;narrowed&nbsp;it&nbsp;down&nbsp;to&nbsp;the&nbsp;<br>
Castle.Services.Transaction&nbsp;assembly&nbsp;from&nbsp;Castle.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;I&nbsp;created&nbsp;an&nbsp;empy&nbsp;<br>
console&nbsp;app&nbsp;in&nbsp;vs2005&nbsp;with&nbsp;a&nbsp;reference&nbsp;to&nbsp;the&nbsp;Castle.Services.Transaction&nbsp;<br>
assembly&nbsp;and&nbsp;this&nbsp;code:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;IActivityManager&nbsp;am;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;am&nbsp;=&nbsp;new&nbsp;<br>
CallContextActivityManager();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&nbsp;(am.CurrentActivity&nbsp;==&nbsp;<br>
null)&nbsp;am&nbsp;=&nbsp;null;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;am&nbsp;=&nbsp;new&nbsp;<br>
TLSActivityManager();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&nbsp;(am.CurrentActivity&nbsp;==&nbsp;null)&nbsp;am&nbsp;=&nbsp;<br>
null;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;It&nbsp;works&nbsp;fine&nbsp;in&nbsp;the&nbsp;<br>
console&nbsp;app&nbsp;running&nbsp;under&nbsp;mono,&nbsp;as&nbsp;in&nbsp;it&nbsp;does&nbsp;not&nbsp;give&nbsp;me&nbsp;any&nbsp;errors&nbsp;or&nbsp;throw&nbsp;an&nbsp;<br>
exception.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;But&nbsp;if&nbsp;I&nbsp;do&nbsp;the&nbsp;same&nbsp;<br>
in&nbsp;an&nbsp;empty&nbsp;asp.net&nbsp;app&nbsp;it&nbsp;throws&nbsp;this&nbsp;exception:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;A&nbsp;<br>
href=&quot;mailto:root@ndev-linux&quot;&gt;root@ndev-linux&lt;/A&gt;&nbsp;/home/users/bchan/Project3#&nbsp;<br>
MONO_OPTIONS=--debug&nbsp;xsp2&lt;BR&gt;xsp2&lt;BR&gt;Listening&nbsp;on&nbsp;port:&nbsp;8080&nbsp;<br>
(non-secure)&lt;BR&gt;Listening&nbsp;on&nbsp;address:&nbsp;0.0.0.0&lt;BR&gt;Root&nbsp;directory:&nbsp;<br>
/home/users/bchan/Project3&lt;BR&gt;Hit&nbsp;Return&nbsp;to&nbsp;stop&nbsp;the&nbsp;server.&lt;BR&gt;Internal&nbsp;error:&nbsp;<br>
OutputPage&nbsp;threw&nbsp;an&nbsp;exception&nbsp;System.IO.FileNotFoundException:&nbsp;Could&nbsp;not&nbsp;load&nbsp;<br>
file&nbsp;or&nbsp;assembly&nbsp;'Castle.Services.Transaction,&nbsp;Version=0.1.0.0,&nbsp;Culture=neutral,&nbsp;<br>
PublicKeyToken=407dd0808d44fbdc'&nbsp;or&nbsp;one&nbsp;of&nbsp;its&nbsp;dependencies.&nbsp;The&nbsp;system&nbsp;cannot&nbsp;<br>
find&nbsp;the&nbsp;file&nbsp;specified.&lt;BR&gt;File&nbsp;name:&nbsp;'Castle.Services.Transaction,&nbsp;<br>
Version=0.1.0.0,&nbsp;Culture=neutral,&nbsp;PublicKeyToken=407dd0808d44fbdc'&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
(wrapper&nbsp;xdomain-invoke)&nbsp;Mono.WebServer.XSPRequestBroker:Close&nbsp;<br>
(int,bool)&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;remoting-invoke-with-check)&nbsp;<br>
Mono.WebServer.XSPRequestBroker:Close&nbsp;(int,bool)&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
Mono.WebServer.XSPWorkerRequest.CloseConnection&nbsp;()&nbsp;[0x0000c]&nbsp;in&nbsp;<br>
/home/users/bchan/mono-trunk/xsp/src/Mono.WebServer/XSPWorkerRequest.cs:307&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Web.HttpResponse.Close&nbsp;()&nbsp;[0x00018]&nbsp;in&nbsp;<br>
/home/users/bchan/mono-trunk/mcs/class/System.Web/System.Web/HttpResponse.cs:555&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Web.HttpApplication.FinalErrorWrite&nbsp;(System.Web.HttpResponse&nbsp;response,&nbsp;<br>
System.String&nbsp;error)&nbsp;[0x00014]&nbsp;in&nbsp;<br>
/home/users/bchan/mono-trunk/mcs/class/System.Web/System.Web/HttpApplication.cs:774&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Web.HttpApplication.OutputPage&nbsp;()&nbsp;[0x000ef]&nbsp;in&nbsp;<br>
/home/users/bchan/mono-trunk/mcs/class/System.Web/System.Web/HttpApplication.cs:821&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Web.HttpApplication.PipelineDone&nbsp;()&nbsp;[0x0002e]&nbsp;in&nbsp;<br>
/home/users/bchan/mono-trunk/mcs/class/System.Web/System.Web/HttpApplication.cs:840&lt;BR&gt;Tick&nbsp;<br>
caught&nbsp;an&nbsp;exception&nbsp;that&nbsp;has&nbsp;not&nbsp;been&nbsp;<br>
propagated:&lt;BR&gt;System.IO.FileNotFoundException:&nbsp;Could&nbsp;not&nbsp;load&nbsp;file&nbsp;or&nbsp;assembly&nbsp;<br>
'Castle.Services.Transaction,&nbsp;Version=0.1.0.0,&nbsp;Culture=neutral,&nbsp;<br>
PublicKeyToken=407dd0808d44fbdc'&nbsp;or&nbsp;one&nbsp;of&nbsp;its&nbsp;dependencies.&nbsp;The&nbsp;system&nbsp;cannot&nbsp;<br>
find&nbsp;the&nbsp;file&nbsp;specified.&lt;BR&gt;File&nbsp;name:&nbsp;'Castle.Services.Transaction,&nbsp;<br>
Version=0.1.0.0,&nbsp;Culture=neutral,&nbsp;PublicKeyToken=407dd0808d44fbdc'&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
(wrapper&nbsp;xdomain-invoke)&nbsp;Mono.WebServer.BaseRequestBroker:UnregisterRequest&nbsp;<br>
(int)&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;remoting-invoke-with-check)&nbsp;<br>
Mono.WebServer.BaseRequestBroker:UnregisterRequest&nbsp;(int)&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
Mono.WebServer.BaseApplicationHost.EndOfRequest&nbsp;<br>
(Mono.WebServer.MonoWorkerRequest&nbsp;mwr)&nbsp;[0x00024]&nbsp;in&nbsp;<br>
/home/users/bchan/mono-trunk/xsp/src/Mono.WebServer/BaseApplicationHost.cs:123&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;Mono.WebServer.MonoWorkerRequest.EndOfRequest&nbsp;()&nbsp;[0x0000b]&nbsp;in&nbsp;<br>
/home/users/bchan/mono-trunk/xsp/src/Mono.WebServer/MonoWorkerRequest.cs:682&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Web.HttpApplication.PipelineDone&nbsp;()&nbsp;[0x0004f]&nbsp;in&nbsp;<br>
/home/users/bchan/mono-trunk/mcs/class/System.Web/System.Web/HttpApplication.cs:844&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Web.HttpApplication.Tick&nbsp;()&nbsp;[0x00026]&nbsp;in&nbsp;<br>
/home/users/bchan/mono-trunk/mcs/class/System.Web/System.Web/HttpApplication.cs:655&lt;BR&gt;&lt;A&nbsp;<br>
href=&quot;mailto:root@ndev-linux&quot;&gt;root@ndev-linux&lt;/A&gt;&nbsp;<br>
/home/users/bchan/Project3#&lt;BR&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;The&nbsp;referenced&nbsp;<br>
assembly&nbsp;is&nbsp;in&nbsp;the&nbsp;bin&nbsp;folder&nbsp;so&nbsp;it&nbsp;should&nbsp;see&nbsp;it.&amp;nbsp;&nbsp;Does&nbsp;anyone&nbsp;know&nbsp;why&nbsp;I&nbsp;<br>
am&nbsp;getting&nbsp;this&nbsp;error?&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=589413617-10072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;Thanks.&lt;/DIV&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
