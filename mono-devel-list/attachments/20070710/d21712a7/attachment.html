<tt>
Hi&nbsp;Paolo,&lt;br&gt;&lt;br&gt;Shouldn&amp;#39;t&nbsp;the&nbsp;other&nbsp;case&nbsp;that&nbsp;returns&nbsp;NULL&nbsp;in&nbsp;mono_class_create_from_typedef&nbsp;use&nbsp;mono_class_set_failure&nbsp;as&nbsp;well?&nbsp;From&nbsp;now&nbsp;on&nbsp;I&amp;#39;ll&nbsp;send&nbsp;patches&nbsp;using&nbsp;.diff&nbsp;extension.&lt;br&gt;&lt;br&gt;Thanks&nbsp;for&nbsp;the&nbsp;review!&lt;br&gt;<br>
Rodrigo&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;7/9/07,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Paolo&nbsp;Molaro&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:lupus@ximian.com&quot;&gt;lupus@ximian.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
On&nbsp;07/06/07&nbsp;Rodrigo&nbsp;Kumpera&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;The&nbsp;attached&nbsp;patch&nbsp;fixes&nbsp;#82022.&nbsp;The&nbsp;fix&nbsp;is&nbsp;quite&nbsp;simple,&nbsp;it&nbsp;just&nbsp;checks&nbsp;if&lt;br&gt;&amp;gt;&nbsp;the&nbsp;enum&nbsp;field&nbsp;is&nbsp;null&nbsp;and&nbsp;abort&nbsp;the&nbsp;loading&nbsp;process.&nbsp;But&nbsp;there&nbsp;are&nbsp;two&lt;br&gt;&amp;gt;&nbsp;issues&nbsp;with&nbsp;this&nbsp;patch,&nbsp;first&nbsp;it&nbsp;could&nbsp;return&nbsp;a&nbsp;more&nbsp;informative&nbsp;message<br>
&lt;br&gt;&amp;gt;&nbsp;about&nbsp;the&nbsp;problem&nbsp;and&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;it&nbsp;won&amp;#39;t&nbsp;leak&nbsp;memory&nbsp;or&nbsp;cause&nbsp;future&lt;br&gt;&amp;gt;&nbsp;problems.&lt;br&gt;&lt;br&gt;Yes,&nbsp;this&nbsp;will&nbsp;cause&nbsp;a&nbsp;leak.&nbsp;Use&nbsp;mono_class_set_failure()&nbsp;to&nbsp;make&lt;br&gt;sure&nbsp;the&nbsp;runtime&nbsp;considers&nbsp;the&nbsp;type&nbsp;as&nbsp;faulty&nbsp;and&nbsp;return&nbsp;it.<br>
&lt;br&gt;&lt;br&gt;BTW,&nbsp;if&nbsp;you&nbsp;name&nbsp;your&nbsp;patch&nbsp;files&nbsp;as&nbsp;name.diff&nbsp;gmail&nbsp;will&nbsp;properly&lt;br&gt;attach&nbsp;them&nbsp;as&nbsp;text&nbsp;files&nbsp;instead&nbsp;of&nbsp;binary&nbsp;blobs&nbsp;making&nbsp;the&nbsp;review&lt;br&gt;easier.&lt;br&gt;Thanks!&lt;br&gt;&lt;br&gt;lupus&lt;br&gt;&lt;br&gt;--&lt;br&gt;-----------------------------------------------------------------<br>
&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:lupus@debian.org&quot;&gt;lupus@debian.org&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;debian/rules&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:lupus@ximian.com&quot;&gt;lupus@ximian.com&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Monkeys&nbsp;do&nbsp;it&nbsp;better&lt;br&gt;_______________________________________________<br>
&lt;br&gt;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list<br>
&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
