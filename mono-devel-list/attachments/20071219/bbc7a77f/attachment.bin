Index: System.Web/System.Web/ChangeLog
===================================================================
--- System.Web/System.Web/ChangeLog	(revision 91583)
+++ System.Web/System.Web/ChangeLog	(working copy)
@@ -1,3 +1,7 @@
+2007-12-19  Juraj Skripsky <js@hotfeet.ch>
+
+	* HttpCookieCollection.cs (AllKeys): Use Keys.CopyTo().
+
 2007-12-18  Miguel de Icaza  <miguel@novell.com>
 
 	* HttpCookieCollection.cs (Get): implement using the indexer to
Index: System.Web/System.Web/HttpCookieCollection.cs
===================================================================
--- System.Web/System.Web/HttpCookieCollection.cs	(revision 91583)
+++ System.Web/System.Web/HttpCookieCollection.cs	(working copy)
@@ -28,6 +28,7 @@
 // WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 //
 
+using System.Collections;
 using System.Collections.Specialized;
 using System.Security.Permissions;
 
@@ -161,13 +162,8 @@
 
 		public string[] AllKeys {
 			get {
-				/* XXX another inefficient copy due to
-				 * lack of exposure from the base
-				 * class */
 				string[] keys = new string [Keys.Count];
-				for (int i = 0; i < Keys.Count; i ++)
-					keys[i] = Keys[i];
-				
+				((ICollection)Keys).CopyTo (keys, 0);
 				return keys;
 			}
 		}
