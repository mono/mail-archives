<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/3.14.1&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
Hey&nbsp;all&lt;BR&gt;<br>
&lt;BR&gt;<br>
Zoltan&nbsp;asked&nbsp;that&nbsp;I&nbsp;make&nbsp;a&nbsp;change&nbsp;to&nbsp;configure.in&nbsp;as&nbsp;well,&nbsp;but&nbsp;I&nbsp;wanted&nbsp;to&nbsp;send&nbsp;this&nbsp;before&nbsp;I&nbsp;forgot&nbsp;about&nbsp;it.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Cheers,&lt;BR&gt;<br>
&lt;BR&gt;<br>
C.J.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;TABLE&nbsp;WIDTH=&quot;100%&quot;&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;<br>
&lt;BR&gt;<br>
&lt;/TD&gt;<br>
&lt;/TR&gt;<br>
&lt;/TABLE&gt;<br>
&lt;TABLE&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;<br>
&lt;PRE&gt;<br>
1<br>
2<br>
3<br>
4<br>
5<br>
6<br>
7<br>
8<br>
9<br>
10<br>
11<br>
12<br>
13<br>
14<br>
15<br>
16<br>
17<br>
18<br>
19<br>
&lt;/PRE&gt;<br>
&lt;/TD&gt;<br>
&lt;TD&nbsp;WIDTH=&quot;100%&quot;&gt;<br>
&lt;PRE&gt;<br>
---&nbsp;mono/mini/driver.c&nbsp;&nbsp;2007-12-19&nbsp;15:04:53.000000000&nbsp;-0800<br>
+++&nbsp;mono/mini/patched-driver.c&nbsp;&nbsp;2007-12-19&nbsp;15:05:20.000000000&nbsp;-0800<br>
@@&nbsp;-706,8&nbsp;+706,16&nbsp;@@<br>
&amp;nbsp;<br>
&nbsp;#if&nbsp;HAVE_SCHED_SETAFFINITY<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(getenv&nbsp;(&amp;quot;MONO_NO_SMP&amp;quot;))&nbsp;{<br>
+#&nbsp;&nbsp;ifdef&nbsp;GLIBC_RHEL3_SCHED_SETAFFINITY<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cpu_set_t&nbsp;proc_mask;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CPU_ZERO(&amp;amp;proc_mask);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CPU_SET(0,&nbsp;&amp;amp;proc_mask);<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sched_setaffinity&nbsp;(getpid(),&nbsp;&amp;amp;proc_mask);<br>
+#&nbsp;&nbsp;else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;long&nbsp;proc_mask&nbsp;=&nbsp;1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sched_setaffinity&nbsp;(getpid(),&nbsp;sizeof&nbsp;(unsigned&nbsp;long),&nbsp;&amp;amp;proc_mask);<br>
+#&nbsp;&nbsp;endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;#endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!g_thread_supported&nbsp;())<br>
&lt;/PRE&gt;<br>
&lt;/TD&gt;<br>
&lt;/TR&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;<br>
&lt;BR&gt;<br>
&lt;/TD&gt;<br>
&lt;TD&gt;<br>
&lt;BR&gt;<br>
&lt;/TD&gt;<br>
&lt;/TR&gt;<br>
&lt;/TABLE&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
