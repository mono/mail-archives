<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;still&nbsp;have&nbsp;to&nbsp;clean&nbsp;up&nbsp;the&nbsp;code,&nbsp;and&nbsp;create&nbsp;a&nbsp;branch,&nbsp;and&nbsp;submit<br>
&nbsp;&nbsp;&nbsp;&nbsp;it,&nbsp;but&nbsp;i&nbsp;just&nbsp;fixed&nbsp;a&nbsp;5&nbsp;year&nbsp;old&nbsp;bug&nbsp;and&nbsp;if&nbsp;anyone&nbsp;has&nbsp;issues&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;how&nbsp;i&nbsp;did&nbsp;it&nbsp;here&nbsp;is&nbsp;a&nbsp;summary....&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;problem&nbsp;report&nbsp;is&nbsp;here:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;https://bugzilla.novell.com/show_bug.cgi?id=323154&quot;&gt;https://bugzilla.novell.com/show_bug.cgi?id=323154&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;found&nbsp;by&nbsp;deduction&nbsp;that&nbsp;the&nbsp;repaint&nbsp;wasn't&nbsp;cancelling&nbsp;the&nbsp;active<br>
&nbsp;&nbsp;&nbsp;&nbsp;edit&nbsp;box&nbsp;after&nbsp;the&nbsp;row&nbsp;was&nbsp;deleted&nbsp;..&nbsp;&nbsp;So&nbsp;while&nbsp;the&nbsp;table&nbsp;updated,<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;edit&nbsp;box&nbsp;with&nbsp;the&nbsp;old&nbsp;value&nbsp;didn't&nbsp;go&nbsp;away...&nbsp;&nbsp;The&nbsp;repaint&nbsp;was<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;an&nbsp;Invalidate&nbsp;call&nbsp;which&nbsp;stack&nbsp;trace&nbsp;looked&nbsp;something&nbsp;like<br>
&nbsp;&nbsp;&nbsp;&nbsp;this:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.Windows.Forms.DataGrid.CalcAreasAndInvalidate()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Windows.Forms.DataGrid.RecreateDataGridRows(Boolean<br>
&nbsp;&nbsp;&nbsp;&nbsp;recalc)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.Windows.Forms.DataGrid.OnListManagerItemChanged(System.Object<br>
&nbsp;&nbsp;&nbsp;&nbsp;sender,&nbsp;System.Windows.Forms.ItemChangedEventArgs&nbsp;e)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.Windows.Forms.CurrencyManager.OnItemChanged(System.Windows.Forms.ItemChangedEventArgs<br>
&nbsp;&nbsp;&nbsp;&nbsp;e)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Windows.Forms.CurrencyManager.UpdateIsBinding()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.Windows.Forms.CurrencyManager.ListChangedHandler(System.Object<br>
&nbsp;&nbsp;&nbsp;&nbsp;sender,&nbsp;System.ComponentModel.ListChangedEventArgs&nbsp;e)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.Data.DataView.OnListChanged(System.ComponentModel.ListChangedEventArgs<br>
&nbsp;&nbsp;&nbsp;&nbsp;e)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Data.DataView.OnRowDeleted(System.Object&nbsp;sender,<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.Data.DataRowChangeEventArgs&nbsp;args)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.Data.DataTable.OnRowDeleted(System.Data.DataRowChangeEventArgs<br>
&nbsp;&nbsp;&nbsp;&nbsp;e)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Data.DataTable.DeletedDataRow(System.Data.DataRow&nbsp;dr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;DataRowAction&nbsp;action)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Data.DataRow.Delete()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Data.DataView.Delete(Int32&nbsp;index)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Data.DataRowView.Delete()&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;grid.ProcessCmdKey(Message&nbsp;ByRef&nbsp;msg,&nbsp;Keys&nbsp;keyData)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;(etc)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;ProcessCmdKey&nbsp;is&nbsp;from&nbsp;user&nbsp;code&nbsp;in&nbsp;sample&nbsp;in&nbsp;bug&nbsp;report...&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;After&nbsp;the&nbsp;delete,&nbsp;the&nbsp;first&nbsp;thing&nbsp;the&nbsp;DataGrid&nbsp;gets&nbsp;back&nbsp;is&nbsp;an<br>
&nbsp;&nbsp;&nbsp;&nbsp;OnListManagerItemChanged&nbsp;(as&nbsp;can&nbsp;be&nbsp;seen&nbsp;in&nbsp;stack&nbsp;above)...&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Before&nbsp;that&nbsp;would&nbsp;call&nbsp;RecreateDataGridRows(),&nbsp;if&nbsp;it&nbsp;was&nbsp;going&nbsp;to&nbsp;do<br>
&nbsp;&nbsp;&nbsp;&nbsp;that,&nbsp;i&nbsp;inserted&nbsp;a&nbsp;check&nbsp;to&nbsp;see&nbsp;if&nbsp;we're&nbsp;editing,&nbsp;and&nbsp;if&nbsp;so,&nbsp;i<br>
&nbsp;&nbsp;&nbsp;&nbsp;cancel&nbsp;the&nbsp;edit,&nbsp;here&nbsp;is&nbsp;a&nbsp;summary&nbsp;of&nbsp;what&nbsp;my&nbsp;patch&nbsp;will&nbsp;look&nbsp;like<br>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;ONListManagerItemChanged&nbsp;in&nbsp;DataGrid.cs&nbsp;in&nbsp;System.Windows.Forms<br>
&nbsp;&nbsp;&nbsp;&nbsp;directory:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(rows&nbsp;==&nbsp;null&nbsp;||&nbsp;RowsCount&nbsp;!=<br>
&nbsp;&nbsp;&nbsp;&nbsp;rows.Length&nbsp;-&nbsp;(ShowEditRow&nbsp;?&nbsp;1&nbsp;:&nbsp;0))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(is_editing)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CancelEditing&nbsp;();&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RecreateDataGridRows<br>
&nbsp;&nbsp;&nbsp;&nbsp;(true);&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;solved&nbsp;the&nbsp;problem&nbsp;reported.&nbsp;&nbsp;It&nbsp;is&nbsp;now&nbsp;identical&nbsp;to&nbsp;windows<br>
&nbsp;&nbsp;&nbsp;&nbsp;.net&nbsp;behavior&nbsp;from&nbsp;what&nbsp;i&nbsp;can&nbsp;see.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I've&nbsp;got&nbsp;to&nbsp;clean&nbsp;up&nbsp;my&nbsp;debug&nbsp;code,&nbsp;and&nbsp;again&nbsp;create&nbsp;a&nbsp;github&nbsp;branch<br>
&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;put&nbsp;this&nbsp;change&nbsp;in&nbsp;it,&nbsp;unit&nbsp;tests&nbsp;ran&nbsp;and&nbsp;seem&nbsp;unchanged&nbsp;by<br>
&nbsp;&nbsp;&nbsp;&nbsp;this..I&nbsp;can't&nbsp;imagine&nbsp;a&nbsp;unit&nbsp;test&nbsp;for&nbsp;this&nbsp;necessarily&nbsp;because&nbsp;it's<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;visual/click-required&nbsp;kind&nbsp;of&nbsp;thing.&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
