<tt>
Hi,&lt;br&gt;&lt;br&gt; &nbsp;This&nbsp;should&nbsp;be&nbsp;fixed&nbsp;now&nbsp;by&nbsp;removing&nbsp;all&nbsp;the&nbsp;#ifdefs&nbsp;and&nbsp;simply&nbsp;returning&nbsp;NULL.&lt;br&gt;&lt;br&gt;             &nbsp;Zoltan&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;12,&nbsp;2009&nbsp;at&nbsp;12:35&nbsp;AM,&nbsp;Koushik&nbsp;K.&nbsp;Dutta&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:koush@koushikdutta.com&quot;&gt;koush@koushikdutta.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
<br>
<br>
&lt;div&gt;<br>
&lt;font&nbsp;face=&quot;Calibri,&nbsp;Verdana,&nbsp;Helvetica,&nbsp;Arial&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;11pt;&quot;&gt;Android’s&nbsp;build&nbsp;uses&nbsp;the&nbsp;GNU&nbsp;C&nbsp;compiler,&nbsp;but&nbsp;is&nbsp;failing&nbsp;while&nbsp;compiling&nbsp;“gpointer&nbsp;collection_thread&nbsp;(gpointer&nbsp;unused&nbsp;G_GNUC_UNUSED)”&nbsp;because&nbsp;it&nbsp;exits&nbsp;via&nbsp;a&nbsp;pthread_exit,&nbsp;and&nbsp;not&nbsp;via&nbsp;the&nbsp;return&nbsp;statement:&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
static&nbsp;gpointer&nbsp;collection_thread&nbsp;(gpointer&nbsp;unused&nbsp;G_GNUC_UNUSED)&lt;br&gt;<br>
{&lt;br&gt;<br>
    struct&nbsp;timespec&nbsp;sleepytime;&lt;br&gt;<br>
&lt;br&gt;<br>
    sleepytime.tv_sec&nbsp;=&nbsp;_WAPI_HANDLE_COLLECTION_UPDATE_INTERVAL;&lt;br&gt;<br>
    sleepytime.tv_nsec&nbsp;=&nbsp;0;&lt;br&gt;<br>
&lt;br&gt;<br>
    while&nbsp;(_wapi_has_shut_down&nbsp;==&nbsp;FALSE)&nbsp;{&lt;br&gt;<br>
        nanosleep&nbsp;(&amp;amp;sleepytime,&nbsp;NULL);&lt;br&gt;<br>
&lt;br&gt;<br>
        //_wapi_handle_dump&nbsp;();&lt;br&gt;<br>
        _wapi_handle_update_refs&nbsp;();&lt;br&gt;<br>
&lt;br&gt;<br>
        /*&nbsp;This&nbsp;is&nbsp;an&nbsp;abuse&nbsp;of&nbsp;the&nbsp;collection&nbsp;thread,&nbsp;but&nbsp;it&amp;#39;s&lt;br&gt;<br>
         *&nbsp;better&nbsp;than&nbsp;creating&nbsp;a&nbsp;new&nbsp;thread&nbsp;just&nbsp;for&nbsp;one&nbsp;more&lt;br&gt;<br>
         *&nbsp;function.&lt;br&gt;<br>
         */&lt;br&gt;<br>
        _wapi_process_reap&nbsp;();&lt;br&gt;<br>
    }&lt;br&gt;<br>
&lt;br&gt;<br>
    pthread_exit&nbsp;(NULL);&lt;br&gt;<br>
&lt;br&gt;<br>
#if&nbsp;!defined(__GNUC__)&lt;br&gt;<br>
    /*&nbsp;Even&nbsp;though&nbsp;we&nbsp;tell&nbsp;gcc&nbsp;that&nbsp;this&nbsp;function&nbsp;doesn&amp;#39;t&nbsp;return,&lt;br&gt;<br>
     *&nbsp;other&nbsp;compilers&nbsp;won&amp;#39;t&nbsp;see&nbsp;that.&lt;br&gt;<br>
     */&lt;br&gt;<br>
    return(NULL);&lt;br&gt;<br>
#endif&lt;br&gt;<br>
}&lt;br&gt;<br>
&lt;br&gt;<br>
I’ve&nbsp;attached&nbsp;a&nbsp;patch&nbsp;that&nbsp;fixes&nbsp;the&nbsp;Android&nbsp;build&nbsp;by&nbsp;adding&nbsp;another&nbsp;condition&nbsp;to&nbsp;the&nbsp;#if.&lt;br&gt;<br>
&lt;br&gt;<br>
Koush&nbsp;&lt;/span&gt;&lt;/font&gt;<br>
&lt;/div&gt;<br>
<br>
<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
