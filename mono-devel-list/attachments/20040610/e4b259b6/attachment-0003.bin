65c65
< #else
---
> #endif
69d68
< #endif
236,238c235,236
< #if !MODMONO_SERVER
< 		IPEndPoint bindAddress;
< #endif
---
> 		IPEndPoint bindAddress=null;
> 
265c263
< #else
---
> #endif
286d283
< #endif
428,434c425,439
< 			if (filename == null)
< 				throw new InvalidOperationException ("filename not set");
< 
< 			File.Delete (filename);
< 			listen_socket = new Socket (AddressFamily.Unix, SocketType.Stream, ProtocolType.IP);
< 			EndPoint ep = new UnixEndPoint (filename);
< 			listen_socket.Bind (ep);
---
>                         if (bindAddress == null)
>                         {                        
> 			    if (filename == null)
> 				    throw new InvalidOperationException ("filename not set");
> 
> 			    File.Delete (filename);
> 			    listen_socket = new Socket (AddressFamily.Unix, SocketType.Stream, ProtocolType.IP);
> 			    EndPoint ep = new UnixEndPoint (filename);
> 			    listen_socket.Bind (ep);
>                         }
>                         else
> 			{
>   			    listen_socket = new Socket (AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.IP);
> 			    listen_socket.Bind (bindAddress);
> 			}
