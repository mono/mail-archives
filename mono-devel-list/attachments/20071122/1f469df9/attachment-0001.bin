Index: mini.c
===================================================================
--- mini.c	(revision 89467)
+++ mini.c	(working copy)
@@ -12503,6 +12503,8 @@
 		enable_rtc_timer (FALSE);
 #endif
 
+	mono_profiler_shutdown ();
+
 	/* 
 	 * mono_runtime_cleanup() and mono_domain_finalize () need to
 	 * be called early since they need the execution engine still
@@ -12516,8 +12518,6 @@
 
 	mono_runtime_cleanup (domain);
 
-	mono_profiler_shutdown ();
-
 	mono_icall_cleanup ();
 
 	mono_runtime_cleanup_handlers ();
