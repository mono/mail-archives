<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.6000.20973&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;STYLE&gt;&lt;/STYLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;bgColor=#ffffff&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;PADDING-RIGHT:&nbsp;0px;&nbsp;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#000000&nbsp;2px&nbsp;solid;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;-----&nbsp;Original&nbsp;Message&nbsp;-----&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;<br>
&nbsp;&nbsp;style=&quot;BACKGROUND:&nbsp;#e4e4e4;&nbsp;FONT:&nbsp;10pt&nbsp;arial;&nbsp;font-color:&nbsp;black&quot;&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;<br>
&nbsp;&nbsp;&lt;A&nbsp;title=kumpera@gmail.com&nbsp;href=&quot;mailto:kumpera@gmail.com&quot;&gt;Rodrigo&nbsp;Kumpera&lt;/A&gt;&nbsp;<br>
&nbsp;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;&lt;A&nbsp;title=cr88192@hotmail.com&nbsp;<br>
&nbsp;&nbsp;href=&quot;mailto:cr88192@hotmail.com&quot;&gt;BGB&lt;/A&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Cc:&lt;/B&gt;&nbsp;&lt;A&nbsp;title=mono-devel-list@ximian.com&nbsp;<br>
&nbsp;&nbsp;href=&quot;mailto:mono-devel-list@ximian.com&quot;&gt;mono-devel-list&lt;/A&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;Friday,&nbsp;January&nbsp;09,&nbsp;2009&nbsp;6:44&nbsp;<br>
&nbsp;&nbsp;AM&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;Re:&nbsp;[Mono-dev]&nbsp;GC.Collect()&nbsp;<br>
&nbsp;&nbsp;CLR&amp;lt;&amp;gt;Mono&nbsp;difference.&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;BR&gt;&lt;BR&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=gmail_quote&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;8,&nbsp;2009&nbsp;at&nbsp;6:05&nbsp;PM,&nbsp;BGB&nbsp;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;dir=ltr&gt;&amp;lt;&lt;A&nbsp;<br>
&nbsp;&nbsp;href=&quot;mailto:cr88192@hotmail.com&quot;&gt;cr88192@hotmail.com&lt;/A&gt;&amp;gt;&lt;/SPAN&gt;&nbsp;<br>
wrote:&lt;BR&gt;<br>
&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;class=gmail_quote&nbsp;<br>
&nbsp;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;rgb(204,204,204)&nbsp;1px&nbsp;solid&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;class=Ih2E3d&gt;&lt;BR&gt;-----&nbsp;Original&nbsp;Message&nbsp;-----&lt;BR&gt;From:&nbsp;&quot;Sunny&quot;&nbsp;&amp;lt;&lt;A&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;mailto:sloncho@gmail.com&quot;&gt;sloncho@gmail.com&lt;/A&gt;&amp;gt;&lt;BR&gt;To:&nbsp;&amp;lt;&lt;A&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;mailto:mono-devel-list@lists.ximian.com&quot;&gt;mono-devel-list@lists.ximian.com&lt;/A&gt;&amp;gt;&lt;BR&gt;Sent:&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Friday,&nbsp;January&nbsp;09,&nbsp;2009&nbsp;3:50&nbsp;AM&lt;BR&gt;Subject:&nbsp;Re:&nbsp;[Mono-dev]&nbsp;GC.Collect()&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;CLR&amp;lt;&amp;gt;Mono&nbsp;difference.&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&amp;gt;&nbsp;On&nbsp;Thu,&nbsp;Jan&nbsp;8,&nbsp;2009&nbsp;at&nbsp;11:45&nbsp;AM,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Sunny&nbsp;&amp;lt;&lt;A&nbsp;href=&quot;mailto:sloncho@gmail.com&quot;&gt;sloncho@gmail.com&lt;/A&gt;&amp;gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;wrote:&lt;BR&gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&amp;gt;&nbsp;According&nbsp;to&nbsp;this:&lt;BR&gt;&amp;gt;&amp;gt;&nbsp;&amp;lt;&lt;A&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;http://msdn.microsoft.com/en-us/library/system.weakreference(VS.80).aspx&quot;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;target=_blank&gt;http://msdn.microsoft.com/en-us/library/system.weakreference(VS.80).aspx&lt;/A&gt;&amp;gt;&lt;BR&gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&amp;gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;IsAlive&nbsp;becomes&nbsp;false&nbsp;after&nbsp;the&nbsp;finalizer&nbsp;is&nbsp;done.&nbsp;It&nbsp;may&nbsp;be&nbsp;so,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;that&lt;BR&gt;&amp;gt;&amp;gt;&nbsp;under&nbsp;mono&nbsp;your&nbsp;call&nbsp;to&nbsp;IsAlive&nbsp;is&nbsp;made&nbsp;before&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;finalizer&nbsp;is&lt;BR&gt;&amp;gt;&amp;gt;&nbsp;called.&nbsp;Try&nbsp;with&nbsp;GC.WaitForPendingFinalizers()&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;before&nbsp;the&nbsp;check.&lt;BR&gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;Hmmm,&nbsp;I&nbsp;just&nbsp;tried&nbsp;it&nbsp;under&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;mono,&nbsp;it&nbsp;still&nbsp;outputs&nbsp;True.&nbsp;Looks&nbsp;like&nbsp;a&nbsp;bug.&lt;BR&gt;&amp;gt;&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;possible&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;factor:&lt;BR&gt;references&nbsp;to&nbsp;'obj'&nbsp;still&nbsp;exist,&nbsp;and&nbsp;are&nbsp;lingering&nbsp;on&nbsp;the&nbsp;stack,&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;...&lt;BR&gt;&lt;BR&gt;so,&nbsp;with&nbsp;a&nbsp;precise&nbsp;GC,&nbsp;the&nbsp;only&nbsp;reference&nbsp;which&nbsp;can&nbsp;exist&nbsp;is&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;weak&lt;BR&gt;reference;&lt;BR&gt;but&nbsp;with&nbsp;a&nbsp;conservative&nbsp;GC&nbsp;(such&nbsp;as&nbsp;Boehm),&nbsp;any&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;lingering&nbsp;references&nbsp;are&lt;BR&gt;still&nbsp;good.&lt;BR&gt;&lt;BR&gt;(note:&nbsp;it&nbsp;appears&nbsp;to&nbsp;me&nbsp;like&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;project&nbsp;is&nbsp;implementing&nbsp;/&nbsp;has&nbsp;implemented&lt;BR&gt;an&nbsp;optional&nbsp;precise&nbsp;GC,&nbsp;but&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;don't&nbsp;know&nbsp;the&nbsp;status,&nbsp;...).&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;so,&nbsp;the&nbsp;GC&nbsp;runs,&nbsp;and&nbsp;maybe&nbsp;it&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;finds&nbsp;a&nbsp;reference&nbsp;still&nbsp;on&nbsp;the&nbsp;stack&lt;BR&gt;somewhere?...&lt;BR&gt;ok&nbsp;then,&nbsp;the&nbsp;object&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;not&nbsp;collected,&nbsp;and&nbsp;thus&nbsp;no&nbsp;need&nbsp;for&nbsp;the&nbsp;weak&nbsp;ref&nbsp;to&lt;BR&gt;report&nbsp;a&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;change...&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;I&nbsp;could&nbsp;be&nbsp;wrong&nbsp;though...&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;class=Wj3C7c&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;You&nbsp;are&nbsp;correct,&nbsp;this&nbsp;is&nbsp;exactly&nbsp;what&nbsp;happens&nbsp;on&nbsp;this&nbsp;case.&nbsp;The&nbsp;object&nbsp;<br>
&nbsp;&nbsp;still&nbsp;reachable&nbsp;to&nbsp;the&nbsp;conservative&nbsp;GC&nbsp;mono&nbsp;uses.&lt;BR&gt;Our&nbsp;precise&nbsp;GC&nbsp;is&nbsp;still&nbsp;<br>
&nbsp;&nbsp;in&nbsp;development.&lt;BR&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;just&nbsp;wondering:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;will&nbsp;the&nbsp;precise&nbsp;GC&nbsp;also&nbsp;implement&nbsp;<br>
ref-counting?...&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;sorry,&nbsp;I&nbsp;have&nbsp;not&nbsp;looked&nbsp;into&nbsp;the&nbsp;details&nbsp;of&nbsp;'SGEN'&nbsp;<br>
much...&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;at&nbsp;least&nbsp;when&nbsp;I&nbsp;have&nbsp;written&nbsp;precise&nbsp;GC's,&nbsp;<br>
refcounting&nbsp;is&nbsp;a&nbsp;very&nbsp;effective&nbsp;way&nbsp;at&nbsp;reducing&nbsp;the&nbsp;total&nbsp;amount&nbsp;of&nbsp;garbage,&nbsp;and&nbsp;<br>
thus&nbsp;making&nbsp;GC&nbsp;cycles&nbsp;more&nbsp;rare&nbsp;(IMO,&nbsp;the&nbsp;overhead&nbsp;of&nbsp;adjusting&nbsp;the&nbsp;counts&nbsp;is&nbsp;<br>
usually&nbsp;paid&nbsp;for&nbsp;by&nbsp;the&nbsp;drastic&nbsp;reduction&nbsp;in&nbsp;time&nbsp;spent&nbsp;doing&nbsp;garbage&nbsp;collection&nbsp;<br>
and&nbsp;other&nbsp;things,&nbsp;although&nbsp;another&nbsp;trick&nbsp;is&nbsp;that&nbsp;of&nbsp;finding&nbsp;elaborate&nbsp;ways&nbsp;to&nbsp;<br>
sidestep&nbsp;needing&nbsp;to&nbsp;adjust&nbsp;the&nbsp;ref-counts...).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;so,&nbsp;anymore,&nbsp;usually&nbsp;whenever&nbsp;I&nbsp;implement&nbsp;precise&nbsp;<br>
garbage&nbsp;collectors,&nbsp;I&nbsp;also&nbsp;include&nbsp;reference&nbsp;counts.&nbsp;in&nbsp;my&nbsp;case,&nbsp;this&nbsp;was&nbsp;<br>
usually&nbsp;stored&nbsp;as&nbsp;a&nbsp;few&nbsp;bits&nbsp;in&nbsp;either&nbsp;the&nbsp;cell&nbsp;bitmap,&nbsp;but&nbsp;object&nbsp;headers&nbsp;could&nbsp;<br>
be&nbsp;another&nbsp;good&nbsp;place&nbsp;(anywhere&nbsp;where&nbsp;one&nbsp;can&nbsp;spare&nbsp;a&nbsp;few&nbsp;bits).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;of&nbsp;course,&nbsp;there&nbsp;is&nbsp;always&nbsp;the&nbsp;major&nbsp;drawback&nbsp;of&nbsp;<br>
ref-counts:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;it&nbsp;may&nbsp;often&nbsp;be&nbsp;a&nbsp;good&nbsp;deal&nbsp;of&nbsp;effort&nbsp;to&nbsp;make&nbsp;sure&nbsp;<br>
an&nbsp;entire&nbsp;codebase&nbsp;if&nbsp;ref-count&nbsp;safe&nbsp;(or,&nbsp;at&nbsp;least,&nbsp;those&nbsp;parts&nbsp;which&nbsp;may&nbsp;<br>
directly&nbsp;interact&nbsp;with&nbsp;the&nbsp;precise&nbsp;GC),&nbsp;but&nbsp;alas,&nbsp;this&nbsp;does&nbsp;not&nbsp;add&nbsp;too&nbsp;<br>
much&amp;nbsp;vs&nbsp;the&nbsp;overhead&nbsp;of&nbsp;making&nbsp;it&nbsp;precise-GC&nbsp;safe...&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;now,&nbsp;I&nbsp;had&nbsp;considered&nbsp;adding&nbsp;a&nbsp;set&nbsp;of&nbsp;precise&nbsp;<br>
features&nbsp;to&nbsp;my&nbsp;existing&nbsp;GC&nbsp;(I&nbsp;had&nbsp;actually&nbsp;written&nbsp;out&nbsp;an&nbsp;idea&nbsp;spec&nbsp;for&nbsp;this,&nbsp;<br>
mostly&nbsp;documenting&nbsp;additions&nbsp;to&nbsp;the&nbsp;API,&nbsp;...).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;primarily,&nbsp;this&nbsp;would&nbsp;take&nbsp;the&nbsp;form&nbsp;of&nbsp;a&nbsp;modified&nbsp;<br>
set&nbsp;of&nbsp;API&nbsp;calls&nbsp;for&nbsp;working&nbsp;with&nbsp;values,&nbsp;and&nbsp;specially&nbsp;coded&nbsp;values&nbsp;for&nbsp;precise&nbsp;<br>
references&nbsp;(a&nbsp;partial&nbsp;reason&nbsp;for&nbsp;this&nbsp;being&nbsp;actually&nbsp;to&nbsp;obscure&nbsp;the&nbsp;references&nbsp;<br>
from&nbsp;the&nbsp;conservative&nbsp;parts&nbsp;of&nbsp;the&amp;nbsp;GC,&nbsp;which&amp;nbsp;may&nbsp;then&nbsp;see&nbsp;them&nbsp;as&nbsp;<br>
something&nbsp;analogous&nbsp;to&nbsp;fixnums&nbsp;or&nbsp;flonums).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;another&nbsp;use&nbsp;is&nbsp;for&nbsp;the&nbsp;precise&nbsp;code&nbsp;to&nbsp;be&nbsp;<br>
&quot;backwards&nbsp;compatible&quot;&nbsp;with&nbsp;conservative&nbsp;references&nbsp;(only&nbsp;precise&nbsp;references&nbsp;get&nbsp;<br>
the&nbsp;precise&nbsp;treatment,&nbsp;conservative&nbsp;references&nbsp;behave&nbsp;just&nbsp;like&nbsp;<br>
before).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;sadly,&nbsp;all&nbsp;this&nbsp;will&nbsp;involve&nbsp;partly&nbsp;fragmenting&nbsp;the&nbsp;<br>
API&nbsp;(adding&nbsp;&quot;precise&quot;&nbsp;versions&nbsp;of&nbsp;many&nbsp;operations).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;note&nbsp;that&nbsp;it&nbsp;would&nbsp;also&nbsp;be&nbsp;able&nbsp;to&nbsp;make&nbsp;a&nbsp;<br>
conservative&nbsp;reference&nbsp;to&nbsp;a&nbsp;formerly&nbsp;precise&nbsp;object&nbsp;(I&nbsp;will&nbsp;call&nbsp;this&nbsp;the&nbsp;<br>
&quot;defile&quot;&nbsp;operation,&nbsp;as&nbsp;it&nbsp;will&nbsp;cause&nbsp;the&nbsp;object&nbsp;itself&nbsp;to&nbsp;change&nbsp;status,&nbsp;at&nbsp;<br>
least&nbsp;until&nbsp;all&nbsp;the&nbsp;conservative&nbsp;references&nbsp;dissappear).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;note&nbsp;that,&nbsp;in&nbsp;most&nbsp;cases,&nbsp;conservative&nbsp;operations&nbsp;<br>
could&nbsp;still&nbsp;be&nbsp;used,&nbsp;but&nbsp;would&nbsp;tend&nbsp;to&nbsp;automatically&nbsp;defile&nbsp;precise&nbsp;objects&nbsp;<br>
(otherwise,&nbsp;the&nbsp;API&nbsp;could&nbsp;be&nbsp;left&nbsp;fragmented,&nbsp;with&nbsp;all&nbsp;defile&nbsp;operations&nbsp;needing&nbsp;<br>
to&nbsp;be&nbsp;done&nbsp;explicitly).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;a&nbsp;related&nbsp;operation:&nbsp;&quot;undefile&quot;,&nbsp;could&nbsp;make&nbsp;a&nbsp;<br>
potentially&amp;nbsp;precise&nbsp;reference&nbsp;to&nbsp;a&nbsp;currently&nbsp;defiled&nbsp;object,&nbsp;thus&nbsp;speeding&nbsp;<br>
its&nbsp;return&nbsp;to&nbsp;an&nbsp;'undefiled'&nbsp;state&nbsp;(by&nbsp;more&nbsp;quickly&nbsp;getting&nbsp;conservative&nbsp;<br>
references&nbsp;out&nbsp;of&nbsp;the&nbsp;system).&nbsp;note&nbsp;that&nbsp;this&nbsp;will&nbsp;be&nbsp;no-op&nbsp;for&nbsp;plain&nbsp;<br>
conservative&nbsp;objects&nbsp;(the&nbsp;undefiled&nbsp;reference&nbsp;is&nbsp;simply&nbsp;the&nbsp;good&nbsp;old&nbsp;pointer,&nbsp;as&nbsp;<br>
before...).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;note&nbsp;that&nbsp;the&nbsp;reason&nbsp;for&nbsp;having&nbsp;both&nbsp;is&nbsp;that,&nbsp;<br>
admittedly,&nbsp;precise&nbsp;GC&nbsp;is&nbsp;a&nbsp;pain&nbsp;to&nbsp;work&nbsp;with,&nbsp;and&nbsp;so&nbsp;could&nbsp;be&nbsp;limited&nbsp;mostly&nbsp;to&nbsp;<br>
the&nbsp;core&nbsp;systems&nbsp;and&nbsp;any&nbsp;other&nbsp;code&nbsp;where&nbsp;it&nbsp;actually&nbsp;matters.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;in&nbsp;many&nbsp;other&nbsp;places,&nbsp;such&nbsp;as&nbsp;off&nbsp;in&nbsp;ordinary&nbsp;C&nbsp;<br>
land,&nbsp;the&nbsp;continued&amp;nbsp;usage&nbsp;of&nbsp;conservative&nbsp;object&nbsp;handling&nbsp;is&nbsp;likely&nbsp;to&nbsp;<br>
remain&amp;nbsp;being&nbsp;the&nbsp;default&nbsp;(it&nbsp;is&nbsp;just&amp;nbsp;SO&nbsp;much&nbsp;more&nbsp;<br>
convinient...).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;this&nbsp;is&nbsp;actually&nbsp;the&nbsp;main&nbsp;reason&nbsp;I&nbsp;am&nbsp;using&nbsp;<br>
conservative&nbsp;GC&nbsp;at&nbsp;this&nbsp;point:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;I&nbsp;have&nbsp;used&nbsp;precise&nbsp;GC&nbsp;a&nbsp;lot&nbsp;in&nbsp;the&nbsp;past,&nbsp;<br>
but&amp;nbsp;for&nbsp;large-scale&nbsp;usage&nbsp;it&nbsp;just&nbsp;becomes&nbsp;too&nbsp;damn&nbsp;inconvinient,&nbsp;but&nbsp;I&nbsp;also&nbsp;<br>
sort&nbsp;of&nbsp;miss&nbsp;the&nbsp;advantages&nbsp;it&nbsp;offers...&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;actually,&nbsp;technically,&nbsp;in&nbsp;the&nbsp;compiler&nbsp;core&nbsp;it&nbsp;is&nbsp;<br>
likely&nbsp;to&nbsp;be&nbsp;the&nbsp;case&nbsp;that&nbsp;it&nbsp;will&nbsp;depend&nbsp;more&nbsp;on&nbsp;representation,&nbsp;for&nbsp;example,&nbsp;<br>
the&nbsp;'__variant'&nbsp;type&nbsp;may&nbsp;become&nbsp;precise,&nbsp;but&nbsp;any&nbsp;usage&nbsp;of&nbsp;conventional&nbsp;pointers&nbsp;<br>
will&nbsp;be&nbsp;conservative,&nbsp;and&nbsp;so&nbsp;attempting&nbsp;to&nbsp;convert&nbsp;a&nbsp;variant&nbsp;to&nbsp;a&nbsp;pointer&nbsp;will&nbsp;<br>
implicitly&nbsp;perform&nbsp;a&nbsp;&quot;defile&quot;&nbsp;operation,&nbsp;and&nbsp;doing&nbsp;the&nbsp;reverse&nbsp;may&nbsp;do&nbsp;an&nbsp;<br>
&quot;undefile&quot;&nbsp;operation&nbsp;(which&nbsp;may&nbsp;also&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;good&nbsp;place&nbsp;to&nbsp;insert&nbsp;a&nbsp;check&nbsp;<br>
and&nbsp;raise&nbsp;an&nbsp;exception&nbsp;if&nbsp;one&nbsp;tries&nbsp;to&nbsp;pull&nbsp;a&nbsp;fast&nbsp;one&nbsp;and&nbsp;give&nbsp;a&nbsp;pointer&nbsp;to&nbsp;<br>
unmanaged&nbsp;memory&nbsp;back&nbsp;to&nbsp;the&nbsp;GC...).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;this&nbsp;would&nbsp;also&nbsp;make&nbsp;it&nbsp;reasonably&nbsp;<br>
convinient&amp;nbsp;to&nbsp;use&nbsp;precise&nbsp;GC&nbsp;in&nbsp;C,&nbsp;or&nbsp;at&nbsp;least&nbsp;when&nbsp;it&nbsp;is&nbsp;<br>
being&amp;nbsp;compiled&nbsp;with&nbsp;my&nbsp;tools...&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;[note:&nbsp;my&nbsp;use&nbsp;of&nbsp;&quot;variant&quot;&nbsp;differs&amp;nbsp;some&nbsp;from&nbsp;<br>
the&nbsp;CLI&nbsp;definition,&nbsp;where&nbsp;mine&nbsp;is&nbsp;by&nbsp;default&nbsp;open-ended,&nbsp;and&nbsp;will&nbsp;only&nbsp;become&nbsp;a&nbsp;<br>
specific&nbsp;type&nbsp;if&nbsp;the&nbsp;compiler&nbsp;can&nbsp;determine&nbsp;that&nbsp;it&nbsp;will&nbsp;only&nbsp;ever&nbsp;hold&nbsp;that&nbsp;<br>
type...].&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;if&nbsp;anything&amp;nbsp;similar&nbsp;to&amp;nbsp;this&nbsp;<br>
could&nbsp;also&nbsp;be&nbsp;applied&nbsp;to&nbsp;Mono...&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
