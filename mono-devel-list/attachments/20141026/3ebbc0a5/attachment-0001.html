<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Brilliant&nbsp;news&nbsp;Alex,&nbsp;I&nbsp;know&nbsp;how&nbsp;much&nbsp;work&nbsp;you&nbsp;put&nbsp;into&nbsp;getting&nbsp;this&nbsp;working,&nbsp;and&nbsp;how&nbsp;frustrating&nbsp;it&nbsp;must&nbsp;have&nbsp;been&nbsp;to&nbsp;wait&nbsp;for&nbsp;hours&nbsp;to&nbsp;see&nbsp;whether&nbsp;a&nbsp;build&nbsp;works&nbsp;or&nbsp;not.&nbsp;Well&nbsp;done.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;26&nbsp;October&nbsp;2014&nbsp;16:14,&nbsp;Alex&nbsp;J&nbsp;Lennon&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ajlennon@dynamicdevices.co.uk&quot;&nbsp;target=&quot;_blank&quot;&gt;ajlennon@dynamicdevices.co.uk&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;all,&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;ve&nbsp;reached&nbsp;a&nbsp;point&nbsp;where&nbsp;we&nbsp;have&nbsp;an&nbsp;Appveyor&nbsp;configuration&nbsp;file&nbsp;which&lt;br&gt;<br>
successfully&nbsp;builds&nbsp;Mono&nbsp;under&nbsp;Cygwin&nbsp;on&nbsp;an&nbsp;Appveyor&nbsp;build&nbsp;worker&lt;br&gt;<br>
(Windows&nbsp;Server&nbsp;2012&nbsp;R2&nbsp;OS&nbsp;image,&nbsp;I&nbsp;believe).&lt;br&gt;<br>
&lt;br&gt;<br>
It&#39;s&nbsp;taken&nbsp;longer&nbsp;to&nbsp;get&nbsp;to&nbsp;this&nbsp;point&nbsp;than&nbsp;I&nbsp;had&nbsp;expected,&nbsp;doesn&#39;t&nbsp;it&lt;br&gt;<br>
always,&nbsp;but&nbsp;I&nbsp;hope&nbsp;this&nbsp;will&nbsp;be&nbsp;of&nbsp;some&nbsp;use&nbsp;to&nbsp;others&nbsp;wishing&nbsp;to&nbsp;build,&lt;br&gt;<br>
use&nbsp;and&nbsp;maintain&nbsp;Mono&nbsp;under&nbsp;Windows.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;logs&nbsp;of&nbsp;the&nbsp;build&nbsp;history&nbsp;are&nbsp;here,&nbsp;with&nbsp;a&nbsp;downloadable&nbsp;Mono&nbsp;3.10.0&lt;br&gt;<br>
zip&nbsp;file&nbsp;&quot;artifact&quot;,&nbsp;available&nbsp;from&nbsp;the&nbsp;most&nbsp;recent&nbsp;build,&nbsp;which&nbsp;runs&nbsp;up&lt;br&gt;<br>
on&nbsp;my&nbsp;local&nbsp;machine.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;&lt;a&nbsp;href=&quot;https://ci.appveyor.com/project/ajlennon/mono-817&quot;&nbsp;target=&quot;_blank&quot;&gt;https://ci.appveyor.com/project/ajlennon/mono-817&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;configuration&nbsp;file&nbsp;that&nbsp;Appveyor&nbsp;used&nbsp;for&nbsp;this&nbsp;build&nbsp;is&nbsp;in&nbsp;my&nbsp;fork&lt;br&gt;<br>
of&nbsp;mono-3.10.0-branch&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/DynamicDevices/mono/blob/mono-3.10.0-branch/appveyor.yml&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/DynamicDevices/mono/blob/mono-3.10.0-branch/appveyor.yml&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
All&nbsp;commentary&nbsp;and&nbsp;feedback&nbsp;would&nbsp;be&nbsp;much&nbsp;appreciated.&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;d&nbsp;like&nbsp;to&nbsp;understand&nbsp;what&nbsp;would&nbsp;be&nbsp;involved&nbsp;to&nbsp;get&nbsp;this&nbsp;to&nbsp;a&nbsp;point&lt;br&gt;<br>
where&nbsp;pull-request&nbsp;into&nbsp;master&nbsp;might&nbsp;be&nbsp;accepted.&nbsp;(NB&nbsp;The&nbsp;config&nbsp;file&nbsp;is&lt;br&gt;<br>
entirely&nbsp;independent&nbsp;of&nbsp;other&nbsp;Mono&nbsp;files&nbsp;in&nbsp;the&nbsp;repo).&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;to&nbsp;Mladen&nbsp;for&nbsp;the&nbsp;Appveyor&nbsp;suggestion&nbsp;and&nbsp;the&nbsp;template&lt;br&gt;<br>
configuration&nbsp;script&nbsp;I&nbsp;used&nbsp;as&nbsp;a&nbsp;starting&nbsp;point.&lt;br&gt;<br>
&lt;br&gt;<br>
Also&nbsp;many&nbsp;thanks&nbsp;to&nbsp;Feodor&nbsp;Fitsner&nbsp;at&nbsp;Appveyor&nbsp;who&nbsp;has&nbsp;been&nbsp;very&nbsp;engaged&lt;br&gt;<br>
and&nbsp;supportive&nbsp;in&nbsp;helping&nbsp;me&nbsp;to&nbsp;get&nbsp;this&nbsp;going&nbsp;over&nbsp;the&nbsp;past&nbsp;week&nbsp;or&nbsp;so.&lt;br&gt;<br>
(I&nbsp;am&nbsp;very&nbsp;impressed&nbsp;in&nbsp;general&nbsp;with&nbsp;the&nbsp;Appveyor&nbsp;platform&nbsp;and&nbsp;we&nbsp;will&lt;br&gt;<br>
undoubtedly&nbsp;be&nbsp;using&nbsp;this&nbsp;for&nbsp;commercial&nbsp;work&nbsp;in&nbsp;future).&lt;br&gt;<br>
&lt;br&gt;<br>
Some&nbsp;points&nbsp;perhaps&nbsp;worthy&nbsp;of&nbsp;note,&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;The&nbsp;build&nbsp;configuration&nbsp;script&nbsp;installs&nbsp;needed&nbsp;dependencies,&nbsp;runs&lt;br&gt;<br>
autogen/configure/make/make&nbsp;install&nbsp;then&nbsp;archives&nbsp;the&nbsp;output&nbsp;installed&lt;br&gt;<br>
files&nbsp;as&nbsp;a&nbsp;zipfile&nbsp;&#39;artifact&#39;.&nbsp;This&nbsp;can&nbsp;be&nbsp;downloaded&nbsp;or&nbsp;deployed&lt;br&gt;<br>
automatically&nbsp;(e.g.&nbsp;FTP)&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;Build&nbsp;testing&nbsp;has&nbsp;shown&nbsp;up&nbsp;a&nbsp;couple&nbsp;of&nbsp;minor&nbsp;issues&nbsp;with&lt;br&gt;<br>
mono-3.10.0-branch&nbsp;and&nbsp;master&nbsp;needing&nbsp;patches&nbsp;to&nbsp;build&nbsp;under&nbsp;Windows&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;Following&nbsp;on&nbsp;from&nbsp;this&nbsp;I&nbsp;would&nbsp;like&nbsp;and&nbsp;intend&nbsp;to&nbsp;add&nbsp;to&nbsp;the&nbsp;current&lt;br&gt;<br>
configuration&nbsp;script&nbsp;to&nbsp;package&nbsp;up&nbsp;the&nbsp;output&nbsp;as&nbsp;an&nbsp;installable&nbsp;MSI&lt;br&gt;<br>
similar&nbsp;to&nbsp;that&nbsp;provided&nbsp;on&nbsp;the&nbsp;official&nbsp;site.&lt;br&gt;<br>
 &nbsp;(I&nbsp;think&nbsp;monowiz-win32.nsi&nbsp;could&nbsp;be&nbsp;used&nbsp;with&nbsp;NSIS&nbsp;as&nbsp;a&nbsp;starting&nbsp;point&lt;br&gt;<br>
for&nbsp;this&nbsp;work,&nbsp;although&nbsp;it&nbsp;looks&nbsp;like&nbsp;it&nbsp;might&nbsp;be&nbsp;quite&nbsp;dated&nbsp;in&lt;br&gt;<br>
comparison&nbsp;to&nbsp;the&nbsp;current&nbsp;installer?)&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;I&#39;d&nbsp;also&nbsp;like&nbsp;to&nbsp;run&nbsp;the&nbsp;Mono&nbsp;tests&nbsp;as&nbsp;a&nbsp;part&nbsp;of&nbsp;the&nbsp;build&lt;br&gt;<br>
verification.&nbsp;Are&nbsp;they&nbsp;expected&nbsp;to&nbsp;work&nbsp;under&nbsp;Windows/Cygwin?&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;The&nbsp;official&nbsp;mono-3.10.0-branch&nbsp;of&nbsp;Mono&nbsp;does&nbsp;not&nbsp;build&nbsp;under&nbsp;Windows.&lt;br&gt;<br>
For&nbsp;this&nbsp;to&nbsp;build&nbsp;a&nbsp;commit&nbsp;would&nbsp;need&nbsp;to&nbsp;be&nbsp;cherry-picked&nbsp;to&lt;br&gt;<br>
mono-3.10.0-branch&nbsp;from&nbsp;master.&nbsp;My&nbsp;fork&nbsp;includes&nbsp;this&nbsp;commit&nbsp;enabling&lt;br&gt;<br>
the&nbsp;build.&lt;br&gt;<br>
 &nbsp;(Vincent&nbsp;Povirk&#39;s&nbsp;needed&nbsp;commit&nbsp;is&nbsp;in&nbsp;the&nbsp;forked&nbsp;branch&nbsp;of&lt;br&gt;<br>
mono-3.10.0-branch&nbsp;here&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/DynamicDevices/mono/commit/ce29c7c567afc4dcc14155d88250ebf6cfbc6718&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/DynamicDevices/mono/commit/ce29c7c567afc4dcc14155d88250ebf6cfbc6718&lt;/a&gt;)&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;The&nbsp;current&nbsp;master&nbsp;also&nbsp;does&nbsp;not&nbsp;build&nbsp;which&nbsp;looks&nbsp;to&nbsp;be&nbsp;an&nbsp;inclusion&lt;br&gt;<br>
ordering&nbsp;issue&nbsp;in&nbsp;mono/metadata/socket-io.c&lt;br&gt;<br>
 &nbsp; (I&nbsp;think&nbsp;I&nbsp;have&nbsp;addressed&nbsp;this&nbsp;with&nbsp;PR#1366&nbsp;-&nbsp;for&nbsp;discussion&nbsp;- &nbsp;as&lt;br&gt;<br>
there&nbsp;may&nbsp;well&nbsp;be&nbsp;better&nbsp;ways&nbsp;to&nbsp;do&nbsp;this:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/mono/mono/pull/1366&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/mono/mono/pull/1366&lt;/a&gt;)&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;The&nbsp;standard&nbsp;Appveyor&nbsp;plan&nbsp;limits&nbsp;builds&nbsp;to&nbsp;30&nbsp;minutes.&nbsp;The&nbsp;Mono&nbsp;build&lt;br&gt;<br>
is&nbsp;currently&nbsp;taking&nbsp;slightly&nbsp;over&nbsp;3&nbsp;hours&nbsp;and&nbsp;so&nbsp;will&nbsp;be&nbsp;cut&nbsp;short&nbsp;on&lt;br&gt;<br>
the&nbsp;default&nbsp;plan.&nbsp;Feyodor@Appveyor&nbsp;has&nbsp;very&nbsp;kindly&nbsp;put&nbsp;me&nbsp;onto&nbsp;an&lt;br&gt;<br>
OpenSource&nbsp;build&nbsp;plan&nbsp;which&nbsp;prevents&nbsp;the&nbsp;build&nbsp;being&nbsp;cut&nbsp;short.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&lt;br&gt;<br>
&lt;br&gt;<br>
Alex&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
