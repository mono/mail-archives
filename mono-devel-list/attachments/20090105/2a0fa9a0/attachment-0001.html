<tt>
Hi&nbsp;Cedric,&lt;br&gt;&lt;br&gt;Those&nbsp;are&nbsp;some&nbsp;pretty&nbsp;sweet&nbsp;news!&lt;br&gt;&lt;br&gt;Looks&nbsp;like&nbsp;SH4&nbsp;requires&nbsp;a&nbsp;more&nbsp;thought&nbsp;out&nbsp;support&nbsp;for&nbsp;a&nbsp;constant&nbsp;pool&nbsp;than&nbsp;other&nbsp;archs&nbsp;such&nbsp;as&nbsp;ARM.&lt;br&gt;&lt;br&gt;Maybe&nbsp;we&nbsp;can&nbsp;factor&nbsp;out&nbsp;the&nbsp;code&nbsp;for&nbsp;the&nbsp;constant&nbsp;pool&nbsp;to&nbsp;be&nbsp;used&nbsp;by&nbsp;more&nbsp;archs.&nbsp;ARM&nbsp;is&nbsp;one&lt;br&gt;<br>
that&nbsp;would&nbsp;benefit&nbsp;from&nbsp;such&nbsp;thing&nbsp;-&nbsp;we&nbsp;emit&nbsp;large&nbsp;constants&nbsp;as&nbsp;a&nbsp;2-4&nbsp;instructions&nbsp;sequence.&lt;br&gt;What&nbsp;do&nbsp;you&nbsp;think&nbsp;about&nbsp;it?&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;Rodrigo&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jan&nbsp;5,&nbsp;2009&nbsp;at&nbsp;9:35&nbsp;AM,&nbsp;Cedric&nbsp;VINCENT&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:cedric.vincent@st.com&quot;&gt;cedric.vincent@st.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hi&nbsp;all,&lt;br&gt;<br>
&lt;br&gt;<br>
STMicroelectronics&nbsp;is&nbsp;studying&nbsp;the&nbsp;Common&nbsp;Language&nbsp;Infrastructure&nbsp;as&nbsp;a&lt;br&gt;<br>
language/processor&nbsp;neutral&nbsp;representation&nbsp;for&nbsp;some&nbsp;parts&nbsp;of&nbsp;its&lt;br&gt;<br>
embedded&nbsp;applications.&nbsp;Currently,&nbsp;we&nbsp;are&nbsp;focusing&nbsp;on&nbsp;GCC4NET&nbsp;to&lt;br&gt;<br>
produce&nbsp;.NET&nbsp;assemblies&nbsp;from&nbsp;C&nbsp;source&nbsp;codes,&nbsp;and&nbsp;we&nbsp;are&nbsp;using&nbsp;Mono&nbsp;as&lt;br&gt;<br>
an&nbsp;execution&nbsp;system.&nbsp;That&amp;#39;s&nbsp;why&nbsp;we&nbsp;are&nbsp;considering&nbsp;Mono&nbsp;for&nbsp;some&lt;br&gt;<br>
future&nbsp;work&nbsp;on&nbsp;dynamic&nbsp;optimizations&nbsp;and&nbsp;code&nbsp;size&nbsp;reduction,&nbsp;among&lt;br&gt;<br>
other&nbsp;important&nbsp;things&nbsp;coming&nbsp;with&nbsp;a&nbsp;language/processor&nbsp;neutral&lt;br&gt;<br>
representation...&lt;br&gt;<br>
&lt;br&gt;<br>
As&nbsp;a&nbsp;follow-up&nbsp;of&nbsp;the&nbsp;work&nbsp;already&nbsp;done&nbsp;by&nbsp;STMicroelectronics&nbsp;on&lt;br&gt;<br>
GCC4NET&nbsp;&lt;a&nbsp;href=&quot;http://gcc.gnu.org/projects/cli.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://gcc.gnu.org/projects/cli.html&lt;/a&gt;,&nbsp;we&nbsp;are&nbsp;currently&nbsp;working&lt;br&gt;<br>
on&nbsp;a&nbsp;new&nbsp;Mono/SH4&nbsp;port.&nbsp;This&nbsp;port&nbsp;is&nbsp;at&nbsp;an&nbsp;early&nbsp;stage&nbsp;and&nbsp;does&nbsp;not&lt;br&gt;<br>
pass&nbsp;the&nbsp;&amp;quot;basic&amp;quot;&nbsp;test-suite,&nbsp;however&nbsp;it&nbsp;passes&nbsp;a&nbsp;new&nbsp;&amp;quot;trivial&amp;quot;&lt;br&gt;<br>
test-suite,&nbsp;best&nbsp;suitable&nbsp;to&nbsp;start&nbsp;new&nbsp;ports.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;wish,&nbsp;you&nbsp;can&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;following&nbsp;Git&nbsp;repository:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://repo.or.cz/w/mono/stm.git&quot;&nbsp;target=&quot;_blank&quot;&gt;http://repo.or.cz/w/mono/stm.git&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Best&nbsp;regards,&lt;br&gt;<br>
The&nbsp;Mono/SH4&nbsp;team&nbsp;@&nbsp;STMicroelectronics.&lt;br&gt;<br>
&lt;br&gt;<br>
PS:&nbsp;The&nbsp;SH4&nbsp;is&nbsp;a&nbsp;RISC&nbsp;processor&nbsp;using&nbsp;32&nbsp;bits&nbsp;&amp;quot;data&nbsp;words&amp;quot;&nbsp;but&nbsp;only&nbsp;16&lt;br&gt;<br>
&amp;nbsp;bits&nbsp;&amp;quot;instructions&nbsp;words&amp;quot;,&nbsp;so&nbsp;there&nbsp;is&nbsp;not&nbsp;many&nbsp;room&nbsp;to&nbsp;store&nbsp;an&lt;br&gt;<br>
&amp;nbsp;&amp;quot;immediate&nbsp;value&amp;quot;.&nbsp;To&nbsp;work&nbsp;around&nbsp;this&nbsp;constraint,&nbsp;the&nbsp;SH4&nbsp;stores&lt;br&gt;<br>
&amp;nbsp;big&nbsp;constants&nbsp;into&nbsp;a&nbsp;table&nbsp;addressable&nbsp;from&nbsp;the&nbsp;current&lt;br&gt;<br>
&amp;nbsp;instruction&nbsp;pointer&nbsp;(a.k.a.&nbsp;constant&nbsp;pool).&nbsp;As&nbsp;a&nbsp;result,&nbsp;the&lt;br&gt;<br>
&amp;nbsp;native&nbsp;code&nbsp;emitter&nbsp;for&nbsp;Mini/SH4&nbsp;is&nbsp;quite&nbsp;different&nbsp;from&nbsp;the&nbsp;other&lt;br&gt;<br>
&amp;nbsp;ports.&lt;br&gt;<br>
&lt;br&gt;<br>
PPS:&nbsp;We&nbsp;also&nbsp;provide&nbsp;a&nbsp;tiny&nbsp;Perl&nbsp;script&nbsp;creating&nbsp;&amp;quot;cpu-${arch}.md&amp;quot;&nbsp;from&lt;br&gt;<br>
&nbsp;&amp;nbsp;tags&nbsp;inserted&nbsp;into&nbsp;output_basic_blocks(),&nbsp;so&nbsp;the&nbsp;op-codes&lt;br&gt;<br>
&nbsp;&amp;nbsp;descriptions&nbsp;are&nbsp;close&nbsp;to&nbsp;theirs&nbsp;implementations.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
