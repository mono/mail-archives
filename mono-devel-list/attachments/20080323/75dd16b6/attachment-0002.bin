Index: runtime/Makefile.am
===================================================================
--- runtime/Makefile.am	(revision 98842)
+++ runtime/Makefile.am	(working copy)
@@ -6,12 +6,13 @@
 noinst_SCRIPTS = mono-wrapper monodis-wrapper
 
 etctmp = etc
-symlinks = etc/mono/1.0/machine.config etc/mono/2.0/machine.config etc/mono/2.0/web.config etc/mono/browscap.ini
+symlinks = etc/mono/1.0/machine.config etc/mono/2.0/machine.config etc/mono/2.0/web.config etc/mono/browscap.ini etc/mono/2.0/Browsers/Compat.browser
 
 etc/mono/1.0/machine.config: $(top_srcdir)/data/net_1_1/machine.config
 etc/mono/2.0/machine.config: $(top_srcdir)/data/net_2_0/machine.config
 etc/mono/2.0/web.config: $(top_srcdir)/data/net_2_0/web.config
 etc/mono/browscap.ini: $(top_srcdir)/data/browscap.ini
+etc/mono/2.0/Browsers/Compat.browser: $(top_srcdir)/data/net_2_0/Browsers/Compat.browser
 
 $(symlinks):
 	cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@
Index: data/net_2_0/Browsers/Compat.browser
===================================================================
--- data/net_2_0/Browsers/Compat.browser	(revision 0)
+++ data/net_2_0/Browsers/Compat.browser	(revision 0)
@@ -0,0 +1,42 @@
+<!--
+    This file defines some of the browsers that Microsoft's implementation provides in
+    <windir>\Microsoft.NET\Framework\<ver>\CONFIG\Browsers\*.browser
+	
+	It is not derived from any file distributed with Microsoft's implementation.  Since
+	we can't distribute MS's browser files, we use browscap.ini to determine 
+	browser capabilities.  Then, if and only if the application contains App_Browser/*.browser
+	files and we are using .NET 2.0 or higher, we supplement the capabilities with the 
+	information in those files and the files in this directory.  The primary goal of this file
+	is provide browser definitions that might be referenced in App_Browser/*.browser files.
+-->
+<browsers>
+  <defaultBrowser id="Default">
+  </defaultBrowser>
+  <browser id="Default">
+    <identification>
+    	<userAgent match="." />
+    </identification>
+  </browser>
+  <browser id="IE6to9" parentID="Default">
+    <identification>
+      <capability name="majorver" match="^[6-9]" />
+      <capability name="browser" match="^(IE|AOL)$" />
+    </identification>
+  </browser>
+  <browser id="Opera8to9" parentID="Default">
+    <identification>
+      <capability name="majorver" match="^[8-9]" />
+      <capability name="browser" match="^Opera$" />
+    </identification>
+  </browser>
+  <browser id="Safari" parentID="Default">
+    <identification>
+      <capability name="browser" match="^Safari$" />
+    </identification>
+  </browser>
+  <browser id="Mozilla" parentID="Default">
+    <identification>
+      <capability name="browser" match="^Mozilla" />
+    </identification>
+  </browser>
+</browsers>
\ No newline at end of file
Index: data/net_2_0/Browsers/ChangeLog
===================================================================
--- data/net_2_0/Browsers/ChangeLog	(revision 0)
+++ data/net_2_0/Browsers/ChangeLog	(revision 0)
@@ -0,0 +1,6 @@
+2008-03-23  Dean Brettle  <dean@brettle.com>
+
+	* Compat.browser: added.  Provides browser definitions with
+	compatible IDs.
+
+
Index: data/net_2_0/Browsers/Makefile.am
===================================================================
--- data/net_2_0/Browsers/Makefile.am	(revision 0)
+++ data/net_2_0/Browsers/Makefile.am	(revision 0)
@@ -0,0 +1,6 @@
+monodir = $(sysconfdir)/mono/2.0/Browsers
+
+EXTRA_DIST =  Compat.browser
+
+mono_DATA =  Compat.browser
+
Index: data/net_2_0/ChangeLog
===================================================================
--- data/net_2_0/ChangeLog	(revision 98842)
+++ data/net_2_0/ChangeLog	(working copy)
@@ -1,3 +1,7 @@
+2008-03-23  Dean Brettle  <dean@brettle.com>
+
+	* Makefile.am: added Browsers/Compat.browser
+
 2008-02-29  Marek Habersack  <mhabersack@novell.com>
 
 	* machine.config: added an entry to ignore the browserCaps section.
Index: data/net_2_0/Makefile.am
===================================================================
--- data/net_2_0/Makefile.am	(revision 98842)
+++ data/net_2_0/Makefile.am	(working copy)
@@ -1,3 +1,5 @@
+SUBDIRS = Browsers
+
 monodir = $(sysconfdir)/mono/2.0
 
 EXTRA_DIST =  machine.config \
Index: configure.in
===================================================================
--- configure.in	(revision 98842)
+++ configure.in	(working copy)
@@ -2129,6 +2129,20 @@
     cd $depth
 ],[LN_S='$LN_S'])
 
+AC_CONFIG_COMMANDS([runtime/etc/mono/2.0/Browsers/Compat.browser],
+[   depth=../../../../..
+    case $srcdir in
+    [[\\/$]]* | ?:[[\\/]]* ) reldir=$srcdir ;;
+    .) reldir=$depth ;;
+    *) reldir=$depth/$srcdir ;;
+    esac
+    $ac_aux_dir/install-sh -d runtime/etc/mono/2.0/Browsers/
+    cd runtime/etc/mono/2.0/Browsers
+    rm -f Compat.browser
+    $LN_S $reldir/data/net_2_0/Browsers/Compat.browser Compat.browser
+    cd $depth
+],[LN_S='$LN_S'])
+
 AC_OUTPUT([
 Makefile
 mono-uninstalled.pc
@@ -2177,6 +2191,7 @@
 data/Makefile
 data/net_1_1/Makefile
 data/net_2_0/Makefile
+data/net_2_0/Browsers/Makefile
 data/mint.pc
 data/mono.pc
 data/mono-cairo.pc
Index: ChangeLog
===================================================================
--- ChangeLog	(revision 98842)
+++ ChangeLog	(working copy)
@@ -1,3 +1,8 @@
+2008-03-23  Dean Brettle  <dean@brettle.com>
+
+	* configure.in, runtime/Makefile.am: create a symlink at
+	mono/runtime/etc/mono/2.0/Browsers/Compat.browser similar to machine.config
+
 2008-03-22  Zoltan Varga  <vargaz@gmail.com>
 
 	* configure.in: Pass CPPFLAGS to libgc configure using ac_configure_args instead