<tt>
Hello&nbsp;Mono&nbsp;Developers,&lt;br&gt;&lt;br&gt;I&#39;m&nbsp;working&nbsp;on&nbsp;cross&nbsp;compiling&nbsp;mono&nbsp;in&nbsp;cygwin&nbsp;with&nbsp;the&nbsp;mingw&nbsp;compiler&nbsp;(the&nbsp;one&nbsp;provided&nbsp;by&nbsp;cygwin&nbsp;not&nbsp;the&nbsp;native&nbsp;one).&lt;br&gt;&lt;br&gt;I&nbsp;tried&nbsp;something&nbsp;like:&lt;br&gt;git&nbsp;clone&nbsp;git://&lt;a&nbsp;href=&quot;http://github.com/mono/mono.git&quot;&gt;github.com/mono/mono.git&lt;/a&gt;&lt;br&gt;<br>
<br>
cd&nbsp;mono&lt;br&gt;./build-mingw32.sh&nbsp;&lt;br&gt;as&nbsp;stated&nbsp;in&nbsp;&lt;a&nbsp;href=&quot;http://www.mono-project.com/Cross-compiling_Mono_for_Windows&quot;&gt;http://www.mono-project.com/Cross-compiling_Mono_for_Windows&lt;/a&gt;&lt;br&gt;&lt;br&gt;this&nbsp;always&nbsp;failed&nbsp;with&nbsp;something&nbsp;like&nbsp;(i&nbsp;tried&nbsp;some&nbsp;other&nbsp;commands,&nbsp;for&nbsp;example&nbsp;./configure&nbsp;--host=..&nbsp;--build=..&nbsp;--target=...&nbsp;--prefix=...)&lt;br&gt;<br>
<br>
checking&nbsp;for&nbsp;clang&nbsp;&quot;error:&nbsp;cannot&nbsp;run&nbsp;test&nbsp;program&nbsp;while&nbsp;cross&nbsp;compiling&quot;&lt;br&gt;&lt;br&gt;after&nbsp;some&nbsp;digging&nbsp;I&nbsp;identified&nbsp;the&nbsp;breaking&nbsp;change&nbsp;as&nbsp;the&nbsp;added&nbsp;mono_cv_clang&nbsp;check,&nbsp;i&nbsp;think&nbsp;i&nbsp;found&nbsp;the&nbsp;solution:&lt;br&gt;I&nbsp;did&nbsp;the&nbsp;same&nbsp;as&nbsp;somebody&nbsp;did&nbsp;for&nbsp;&quot;linux-android&quot;&nbsp;and&nbsp;set&nbsp;the&nbsp;variables&nbsp;to&nbsp;prevent&nbsp;the&nbsp;check&nbsp;in&nbsp;my&nbsp;situation.&lt;br&gt;<br>
<br>
Note:&nbsp;you&nbsp;have&nbsp;to&nbsp;change&nbsp;mono_cv_clang&nbsp;to&nbsp;yes&nbsp;instead&nbsp;of&nbsp;the&nbsp;no&nbsp;from&nbsp;android&nbsp;(see&nbsp;diff)&nbsp;or&nbsp;the&nbsp;make&nbsp;will&nbsp;fail.&lt;br&gt;&lt;br&gt;After&nbsp;i&nbsp;fixed&nbsp;this&nbsp;I&nbsp;got&nbsp;basically&nbsp;this:&lt;br&gt;&lt;a&nbsp;href=&quot;http://osdir.com/ml/general/2012-02/msg07752.html&quot;&gt;http://osdir.com/ml/general/2012-02/msg07752.html&lt;/a&gt;&lt;br&gt;<br>
<br>
configure:&nbsp;error:&nbsp;/bin/bash&nbsp;../config.sub&nbsp;dist-bzip2&nbsp;failed&lt;br&gt;the&nbsp;link&nbsp;indicates&nbsp;that&nbsp;this&nbsp;will&nbsp;also&nbsp;happen&nbsp;in&nbsp;other&nbsp;cross&nbsp;compile&nbsp;situations&nbsp;(if&nbsp;not&nbsp;all)&lt;br&gt;&lt;br&gt;As&nbsp;I&nbsp;found&nbsp;no&nbsp;solution&nbsp;on&nbsp;the&nbsp;mailinglist/web&nbsp;I&nbsp;startet&nbsp;digging&nbsp;again&nbsp;and&nbsp;found&nbsp;the&nbsp;solution&nbsp;(build-mingw32.sh&nbsp;reads&nbsp;some&nbsp;value&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://configure.in&quot;&gt;configure.in&lt;/a&gt;&nbsp;via&nbsp;grep&nbsp;and&nbsp;&lt;a&nbsp;href=&quot;http://configure.in&quot;&gt;configure.in&lt;/a&gt;&nbsp;was&nbsp;changed&nbsp;in&nbsp;the&nbsp;meantime)&lt;br&gt;<br>
<br>
&lt;br&gt;This&nbsp;is&nbsp;where&nbsp;I&nbsp;stopped&nbsp;for&nbsp;now...&nbsp;Just&nbsp;want&nbsp;to&nbsp;contribute&nbsp;what&nbsp;I&nbsp;found.&lt;br&gt;<br>
I&nbsp;hope&nbsp;the&nbsp;changes&nbsp;(attached&nbsp;as&nbsp;diff&nbsp;files)&nbsp;are&nbsp;helping&nbsp;somebody&nbsp;out&nbsp;there.&lt;br&gt;&lt;br&gt;<br>
I&nbsp;don&#39;t&nbsp;know&nbsp;how&nbsp;and&nbsp;I&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;checkin&nbsp;directly&nbsp;as&nbsp;I&nbsp;do&nbsp;not&nbsp;have&nbsp;<br>
enough&nbsp;experience&nbsp;with&nbsp;the&nbsp;whole&nbsp;unix&nbsp;build&nbsp;process&nbsp;(started&nbsp;just&nbsp;a&nbsp;few&nbsp;<br>
days&nbsp;ago&nbsp;with&nbsp;cygwin,&nbsp;mono,&nbsp;makefiles,&nbsp;configure&nbsp;and&nbsp;so&nbsp;on...)&lt;br&gt;<br>
&lt;br&gt;Its&nbsp;a&nbsp;little&nbsp;bit&nbsp;sad&nbsp;that&nbsp;the&nbsp;mono&nbsp;project&nbsp;has&nbsp;some&nbsp;pretty&nbsp;decent&nbsp;documentation&nbsp;on&nbsp;building&nbsp;and&nbsp;embedding,&nbsp;but&nbsp;it&nbsp;fails&nbsp;in&nbsp;practice,&nbsp;hope&nbsp;this&nbsp;patches&nbsp;help&nbsp;there!&lt;br&gt;&lt;br&gt;(For&nbsp;me&nbsp;Mono&nbsp;is&nbsp;not&nbsp;compiling&nbsp;as&nbsp;i&nbsp;would&nbsp;expect)&lt;br&gt;<br>
<br>
Note:&nbsp;I&nbsp;testet&nbsp;these&nbsp;fixes&nbsp;with&nbsp;the&nbsp;2.11.1&nbsp;tar&nbsp;but&nbsp;I&#39;m&nbsp;pretty&nbsp;sure&nbsp;this&nbsp;will&nbsp;also&nbsp;work&nbsp;on&nbsp;the&nbsp;master&nbsp;branch.&lt;br&gt;&lt;br&gt;Some&nbsp;thing&nbsp;are&nbsp;left&nbsp;to&nbsp;say:&lt;br&gt;<br>
-&nbsp;There&nbsp;should&nbsp;be&nbsp;some&nbsp;kind&nbsp;on&nbsp;testcase&nbsp;for&nbsp;crosscompiling,&nbsp;to&nbsp;prevent&nbsp;future&nbsp;breaking&nbsp;changes.&lt;br&gt;-&nbsp;Where&nbsp;is&nbsp;the&nbsp;best&nbsp;place&nbsp;to&nbsp;add&nbsp;the&nbsp;&lt;code&gt;-static-libgcc&lt;/code&gt;&nbsp;and&nbsp;&lt;code&gt;-static-libstdc++&lt;/code&gt;&nbsp;compiler&nbsp;flags?&lt;br&gt; &nbsp;So&nbsp;that&nbsp;mono.exe&nbsp;can&nbsp;run&nbsp;without&nbsp;&lt;code&gt;libgcc_s_dw2-1.dll&lt;/code&gt;?&lt;br&gt;<br>
<br>
-&nbsp;When&nbsp;this&nbsp;all&nbsp;works&nbsp;shouldn&#39;t&nbsp;it&nbsp;be&nbsp;better&nbsp;to&nbsp;throw&nbsp;away&nbsp;the&nbsp;current&nbsp;recommended&nbsp;way&nbsp;of&nbsp;building&nbsp;for&nbsp;windows&lt;br&gt; (with&nbsp;the&nbsp;-mno-cygwin&nbsp;flag)&nbsp;in&nbsp;favor&nbsp;of&nbsp;this&nbsp;one&lt;br&gt; *&nbsp;the&nbsp;-mno-cygwin&nbsp;flag&nbsp;is&nbsp;obsolete&lt;br&gt; *&nbsp;the&nbsp;recommended&nbsp;way&nbsp;of&nbsp;compiling&nbsp;for&nbsp;mingw&nbsp;in&nbsp;cygwin&nbsp;is&nbsp;now&nbsp;the&nbsp;usual&nbsp;cross&nbsp;compiling&lt;br&gt;<br>
<br>
 *&nbsp;the&nbsp;normal&nbsp;cygwin&nbsp;build&nbsp;would&nbsp;then&nbsp;depend&nbsp;on&nbsp;&lt;span&nbsp;class=&quot;st&quot;&gt;cygwin1.dll&nbsp;(as&nbsp;it&nbsp;is&nbsp;expected)&lt;br&gt; *&nbsp;the&nbsp;mingwbuild&nbsp;is&nbsp;the&nbsp;cross-compile&nbsp;build&nbsp;from&nbsp;above&lt;br&gt; *&nbsp;We&nbsp;could&nbsp;use&nbsp;the&nbsp;newest&nbsp;compiler&nbsp;version&nbsp;(gcc4&nbsp;indead&nbsp;of&nbsp;gcc3)&nbsp;for&nbsp;linux&nbsp;and&nbsp;windows&nbsp;(so&nbsp;basically&nbsp;drop&nbsp;support&nbsp;if&nbsp;needed).&lt;br&gt;<br>
<br>
  &nbsp;I&nbsp;think&nbsp;it&nbsp;should&nbsp;actually&nbsp;be&nbsp;possible&nbsp;to&nbsp;build&nbsp;the&nbsp;current&nbsp;gcc&nbsp;4.7&nbsp;for&nbsp;cygwin&nbsp;with&nbsp;mingw&nbsp;target&nbsp;and&nbsp;then&nbsp;build&nbsp;mono&nbsp;with&nbsp;this&nbsp;(not&nbsp;tested).&lt;br&gt;&lt;/span&gt;&lt;br&gt;Hope&nbsp;this&nbsp;is&nbsp;the&nbsp;right&nbsp;place&nbsp;to&nbsp;post&nbsp;this&nbsp;kind&nbsp;of&nbsp;message.&lt;br&gt;<br>
&lt;br&gt;<br>
have&nbsp;a&nbsp;nice&nbsp;weekend,&lt;br&gt;Matthias&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>

</tt>
