Index: class/System.XML/System.Xml/XmlDocument.cs
===================================================================
RCS file: /mono/mcs/class/System.XML/System.Xml/XmlDocument.cs,v
retrieving revision 1.79
diff -u -r1.79 XmlDocument.cs
--- class/System.XML/System.Xml/XmlDocument.cs	1 Sep 2003 21:54:45 -0000	1.79
+++ class/System.XML/System.Xml/XmlDocument.cs	10 Sep 2003 16:07:25 -0000
@@ -229,8 +229,18 @@
 
 		public XmlAttribute CreateAttribute (string name)
 		{
-			return CreateAttribute (name,
-				name == "xmlns" ? "http://www.w3.org/2000/xmlns/" : String.Empty);
+			string prefix;
+			string localName;
+			string namespaceURI = String.Empty;
+
+			ParseName (name, out prefix, out localName);
+
+			if (prefix == "xmlns" || (prefix == "" && localName == "xmlns"))
+				namespaceURI = XmlNamespaceManager.XmlnsXmlns;
+			else if (prefix == "xml")
+				namespaceURI = XmlNamespaceManager.XmlnsXml;
+
+			return CreateAttribute (prefix, localName, namespaceURI );
 		}
 
 		public XmlAttribute CreateAttribute (string qualifiedName, string namespaceURI)
