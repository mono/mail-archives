<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&nbsp;&quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Zarafa&nbsp;WebApp&nbsp;v7.1.5-41923&quot;&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;NancyFX&nbsp;self&nbsp;hosting&nbsp;(HttpListener)&nbsp;locking&nbsp;up&nbsp;on&nbsp;linux&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;tahoma,&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12px;&quot;&gt;Hi&nbsp;there.&lt;/font&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;tahoma,&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12px;&quot;&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;tahoma,&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12px;&quot;&gt;I'm&nbsp;running&nbsp;the&nbsp;NancyFX&nbsp;web&nbsp;framework&nbsp;in&nbsp;self&nbsp;hosting&nbsp;mode&nbsp;which&nbsp;is&nbsp;using&nbsp;HttpListener&nbsp;which&nbsp;basically&nbsp;means&nbsp;I&nbsp;deploy&nbsp;an&nbsp;executable&nbsp;and&nbsp;run&nbsp;it&nbsp;and&nbsp;it&nbsp;will&nbsp;start&nbsp;a&nbsp;webserver&nbsp;on&nbsp;localhost&nbsp;on&nbsp;a&nbsp;TCP&nbsp;port&nbsp;of&nbsp;choice.&nbsp;I&nbsp;then&nbsp;use&nbsp;nginx&nbsp;to&nbsp;proxy&nbsp;to&nbsp;it.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;tahoma,&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;tahoma,&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12px;&quot;&gt;I&nbsp;first&nbsp;ran&nbsp;my&nbsp;executable&nbsp;on&nbsp;my&nbsp;macbook&nbsp;pro&nbsp;and&nbsp;bombarded&nbsp;it&nbsp;with&nbsp;jmeter&nbsp;and&nbsp;it&nbsp;coped&nbsp;fine&nbsp;and&nbsp;no&nbsp;issues.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;tahoma,&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12px;&quot;&gt;I&nbsp;then&nbsp;deployed&nbsp;on&nbsp;my&nbsp;debian&nbsp;wheezy&nbsp;64&nbsp;bit&nbsp;linux&nbsp;box&nbsp;running&nbsp;on&nbsp;top&nbsp;of&nbsp;KVM&nbsp;using&nbsp;mono&nbsp;3.2.0&nbsp;and&nbsp;performed&nbsp;the&nbsp;same&nbsp;jmeter&nbsp;experiment.&nbsp;It&nbsp;locks&nbsp;up&nbsp;fairly&nbsp;quickly&nbsp;and&nbsp;wont&nbsp;take&nbsp;any&nbsp;new&nbsp;requests.&nbsp;I've&nbsp;tried&nbsp;using&nbsp;both&nbsp;sgen&nbsp;and&nbsp;boehm&nbsp;but&nbsp;they&nbsp;behave&nbsp;similarly&nbsp;although&nbsp;it&nbsp;seems&nbsp;to&nbsp;lock&nbsp;up&nbsp;faster&nbsp;when&nbsp;using&nbsp;sgen.&nbsp;I&nbsp;also&nbsp;tried&nbsp;enabling&nbsp;&lt;/font&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;MONO_DISABLE_AIO&nbsp;but&nbsp;it&nbsp;doesn't&nbsp;make&nbsp;any&nbsp;difference.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;Anyone&nbsp;had&nbsp;similar&nbsp;issues?&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;I&nbsp;tried&nbsp;using&nbsp;self&nbsp;hosted&nbsp;ServiceStack&nbsp;which&nbsp;also&nbsp;uses&nbsp;HttpListener&nbsp;and&nbsp;had&nbsp;similar&nbsp;issues&nbsp;so&nbsp;I'm&nbsp;finding&nbsp;it&nbsp;unlikely&nbsp;that&nbsp;the&nbsp;bug&nbsp;is&nbsp;in&nbsp;NancyFX&nbsp;itself.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;I&nbsp;tried&nbsp;installing&nbsp;mono&nbsp;2.10.8&nbsp;to&nbsp;check&nbsp;if&nbsp;this&nbsp;is&nbsp;a&nbsp;regression,&nbsp;but&nbsp;getting&nbsp;exactly&nbsp;the&nbsp;same&nbsp;results.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;Any&nbsp;idea&nbsp;how&nbsp;I&nbsp;can&nbsp;debug&nbsp;this&nbsp;further&nbsp;or&nbsp;what&nbsp;could&nbsp;be&nbsp;going&nbsp;on.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;Cheers,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;tahoma&quot;&nbsp;size=&quot;2&quot;&gt;Alf&lt;/font&gt;&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
