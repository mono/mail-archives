<tt>
RGCTX&nbsp;fetch&nbsp;trampolines&nbsp;are&nbsp;used&nbsp;by&nbsp;the&nbsp;generics&nbsp;sharing&nbsp;machinery&nbsp;to&nbsp;implement&nbsp;all&nbsp;sort&nbsp;of&lt;div&gt;things&nbsp;from&nbsp;vtable,&nbsp;field,&nbsp;static&nbsp;data&nbsp;and&nbsp;so&nbsp;on.&nbsp;If&nbsp;you&nbsp;have&nbsp;generic&nbsp;code,&nbsp;you&amp;#39;ll&nbsp;have&nbsp;them.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;worst&nbsp;part&nbsp;is&nbsp;that&nbsp;It&amp;#39;s not&nbsp;possible&nbsp;to&nbsp;eagerly&nbsp;patch&nbsp;them&nbsp;due&nbsp;to&nbsp;recursive&nbsp;types.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Jun&nbsp;7,&nbsp;2011&nbsp;at&nbsp;1:01&nbsp;PM,&nbsp;Martin&nbsp;Däumler&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mdae@cs.tu-chemnitz.de&quot;&gt;mdae@cs.tu-chemnitz.de&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
Hello,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;a&nbsp;further&nbsp;question&nbsp;about&nbsp;Mono&nbsp;internals.&nbsp;For&nbsp;a&nbsp;soft&nbsp;real-time&lt;br&gt;<br>
project&nbsp;based&nbsp;on&nbsp;Mono&nbsp;I&nbsp;try&nbsp;to&nbsp;pre-patch&nbsp;all&nbsp;JIT-,&nbsp;jump-,&nbsp;class&nbsp;init-&lt;br&gt;<br>
and&nbsp;delegate-trampolines&nbsp;(the&nbsp;latter&nbsp;at&nbsp;runtime).&nbsp;So&nbsp;I&nbsp;investigate&lt;br&gt;<br>
the&nbsp;patches&nbsp;that&nbsp;are&nbsp;emitted&nbsp;in&nbsp;&amp;quot;mono_resolve_patch_target()&amp;quot;.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;underlying&nbsp;conditions&nbsp;are&nbsp;x86&nbsp;architecture,&nbsp;Linux&nbsp;operating&lt;br&gt;<br>
system,&nbsp;non-AOT&nbsp;case&nbsp;and&nbsp;the&nbsp;mcs&nbsp;C#-compiler.&nbsp;That&nbsp;is,&nbsp;my&lt;br&gt;<br>
pre-patch&nbsp;only&nbsp;has&nbsp;to&nbsp;work&nbsp;with&nbsp;the&nbsp;C#-programs&nbsp;that&nbsp;can&lt;br&gt;<br>
be&nbsp;compiled&nbsp;by&nbsp;the&nbsp;mcs.&nbsp;I&nbsp;dived&nbsp;into&nbsp;the&nbsp;code&nbsp;but&nbsp;is&nbsp;not&lt;br&gt;<br>
always&nbsp;clear&nbsp;which&nbsp;patches&nbsp;are&nbsp;emitted&nbsp;under&nbsp;which&nbsp;circumstances.&lt;br&gt;<br>
Now,&nbsp;I&nbsp;want&nbsp;to&nbsp;know&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;that&nbsp;the&nbsp;following&nbsp;patches&lt;br&gt;<br>
are&nbsp;emitted&nbsp;by&nbsp;the&nbsp;JIT&nbsp;(non-AOT&nbsp;case):&lt;br&gt;<br>
&lt;br&gt;<br>
MONO_PATCH_INFO_RGCTX_FETCH&nbsp;(only&nbsp;needed&nbsp;if&nbsp;generics&nbsp;are&nbsp;used?)&lt;br&gt;<br>
MONO_PATCH_INFO_JIT_ICALL_ADDR&nbsp;(not&nbsp;used&nbsp;on&nbsp;x86?)&lt;br&gt;<br>
MONO_PATCH_INFO_ICALL_ADDR&nbsp;(only&nbsp;for&nbsp;AOT&nbsp;case?)&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;guess&nbsp;that&nbsp;the&nbsp;RGCTX&nbsp;(and&nbsp;practically&nbsp;the&nbsp;RGCTX&nbsp;lazy&nbsp;fetch&lt;br&gt;<br>
trampoline)&nbsp;is&nbsp;used&nbsp;only&nbsp;if&nbsp;generics&nbsp;are&nbsp;used.&nbsp;So,&nbsp;a&nbsp;call&nbsp;to&lt;br&gt;<br>
it&nbsp;is&nbsp;not&nbsp;emitted&nbsp;by&nbsp;the&nbsp;mcs,&nbsp;is&nbsp;it?&nbsp;For&nbsp;the&nbsp;other&nbsp;patches&nbsp;I&lt;br&gt;<br>
assume&nbsp;that&nbsp;they&nbsp;are&nbsp;emitted&nbsp;only&nbsp;in&nbsp;AOT-case,&nbsp;but&nbsp;I&nbsp;am&nbsp;not&lt;br&gt;<br>
sure.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
With&nbsp;kind&nbsp;regards,&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;Martin&nbsp;Däumler&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
