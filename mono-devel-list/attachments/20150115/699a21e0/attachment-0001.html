<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Also,&nbsp;thanks&nbsp;so&nbsp;much&nbsp;for&nbsp;this&nbsp;patch!&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;15,&nbsp;2015&nbsp;at&nbsp;10:16&nbsp;AM,&nbsp;Miguel&nbsp;de&nbsp;Icaza&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:miguel@xamarin.com&quot;&nbsp;target=&quot;_blank&quot;&gt;miguel@xamarin.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Considering&nbsp;that&nbsp;we&nbsp;do&nbsp;not&nbsp;even&nbsp;have&nbsp;a&nbsp;test,&nbsp;I&nbsp;think&nbsp;it&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;turn&nbsp;one&nbsp;of&nbsp;the&nbsp;samples&nbsp;on&nbsp;the&nbsp;git&nbsp;discussion&nbsp;into&nbsp;the&nbsp;test.&nbsp; &nbsp;While&nbsp;not&nbsp;100%&nbsp;robust,&nbsp;we&nbsp;could&nbsp;check&nbsp;that&nbsp;at&nbsp;least&nbsp;*one*&nbsp;of&nbsp;the&nbsp;interfaces&nbsp;has&nbsp;a&nbsp;gateway,&nbsp;and&nbsp;perhaps&nbsp;make&nbsp;this&nbsp;into&nbsp;a&nbsp;soft&nbsp;failure&nbsp;for&nbsp;those&nbsp;that&nbsp;do&nbsp;not&nbsp;actually&nbsp;have&nbsp;a&nbsp;network&nbsp;with&nbsp;a&nbsp;gateway&nbsp;when&nbsp;running&nbsp;the&nbsp;tests.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Miguel&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;p&gt;&lt;span&gt;using&nbsp;System;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt;using&nbsp;System.Net;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt;using&nbsp;System.Net.NetworkInformation;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt;public&nbsp;class&nbsp;Test&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt;{&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp;public&nbsp;static&nbsp;void&nbsp;Main()&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp;{&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp;DisplayGatewayAddresses();&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp;}&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp;public&nbsp;static&nbsp;void&nbsp;DisplayGatewayAddresses()&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp;{&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(&quot;Gateways&quot;);&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp;NetworkInterface[]&nbsp;adapters &nbsp;=&nbsp;NetworkInterface.GetAllNetworkInterfaces();&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp;foreach&nbsp;(NetworkInterface&nbsp;adapter&nbsp;in&nbsp;adapters)&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;IPInterfaceProperties&nbsp;adapterProperties&nbsp;=&nbsp;adapter.GetIPProperties();&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GatewayIPAddressInformationCollection&nbsp;addresses&nbsp;=&nbsp;adapterProperties.GatewayAddresses;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(adapter.Description);&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if&nbsp;(addresses.Count&nbsp;&gt;0)&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;foreach&nbsp;(GatewayIPAddressInformation&nbsp;address&nbsp;in&nbsp;addresses)&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(&quot; &nbsp;Gateway&nbsp;Address&nbsp;.........................&nbsp;:&nbsp;{0}&quot;, &lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;address.Address.ToString());&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine();&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt; &nbsp; &nbsp;}&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&gt;&lt;span&gt;}&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;15,&nbsp;2015&nbsp;at&nbsp;8:58&nbsp;AM,&nbsp;Ben&nbsp;Woods&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:woodsb02@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;woodsb02@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Mono&nbsp;is&nbsp;not&nbsp;able&nbsp;to&nbsp;get&nbsp;the&nbsp;system&nbsp;gateway&nbsp;address&nbsp;on&nbsp;Mac&nbsp;OSX&nbsp;or&nbsp;BSD&nbsp;when&nbsp;performing&nbsp;GetIPProperties&nbsp;on&nbsp;an&nbsp;a&nbsp;NetworkInterface.&nbsp;This&nbsp;is&nbsp;due&nbsp;to&nbsp;the&nbsp;mono&nbsp;class&nbsp;libraries&nbsp;solely&nbsp;utilising&nbsp;the&nbsp;/proc/net/route&nbsp;file,&nbsp;which&nbsp;is&nbsp;only&nbsp;available&nbsp;on&nbsp;Linux.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;submitted&nbsp;a&nbsp;pull&nbsp;request&nbsp;to&nbsp;fix&nbsp;this&nbsp;here:&lt;br&gt;&lt;a&nbsp;href=&quot;https://github.com/mono/mono/pull/1404&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/mono/mono/pull/1404&lt;/a&gt;&lt;br&gt;&lt;br&gt;The&nbsp;last&nbsp;comment&nbsp;on&nbsp;the&nbsp;pull&nbsp;request&nbsp;is&nbsp;that&nbsp;the&nbsp;code&nbsp;looks&nbsp;good,&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;have&nbsp;a&nbsp;test&nbsp;added&nbsp;to&nbsp;the&nbsp;regression&nbsp;test&nbsp;suite.&nbsp;As&nbsp;I&nbsp;understand&nbsp;it,&nbsp;the&nbsp;test&nbsp;code&nbsp;would&nbsp;reside&nbsp;in mcs/class/System/Test/System.Net.NetworkInformation.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;do&nbsp;you&nbsp;think&nbsp;the&nbsp;test&nbsp;would&nbsp;look&nbsp;like?&nbsp;Seeing&nbsp;as&nbsp;mono&nbsp;does&nbsp;not&nbsp;support&nbsp;setting&nbsp;the&nbsp;routing&nbsp;table,&nbsp;only&nbsp;reading&nbsp;it,&nbsp;it&nbsp;is&nbsp;difficult&nbsp;to&nbsp;assert&nbsp;that&nbsp;the&nbsp;default&nbsp;gateway&nbsp;would&nbsp;be.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Perhaps&nbsp;simply&nbsp;that&nbsp;the&nbsp;code&nbsp;executes&nbsp;without&nbsp;error,&nbsp;regardless&nbsp;of&nbsp;the&nbsp;result,&nbsp;even&nbsp;if&nbsp;it&nbsp;is&nbsp;empty&nbsp;(it&nbsp;is&nbsp;possible&nbsp;for&nbsp;a&nbsp;system&nbsp;to&nbsp;not&nbsp;have&nbsp;a&nbsp;default&nbsp;route,&nbsp;after&nbsp;all).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thoughts?&lt;br&gt;&lt;br&gt;--&lt;br&gt;From:&nbsp;Benjamin&nbsp;Woods&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:woodsb02@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;woodsb02@gmail.com&lt;/a&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
