<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Feb&nbsp;20,&nbsp;2010&nbsp;at&nbsp;2:07&nbsp;AM,&nbsp;Jerry&nbsp;Maine&nbsp;-&nbsp;KF5ADY&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:crashfourit@gmail.com&quot;&gt;crashfourit@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Rodrigo:&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;remember&nbsp;you&nbsp;talking&nbsp;about&nbsp;instead&nbsp;of&nbsp;having&nbsp;marcos&nbsp;and&nbsp;defines&lt;br&gt;<br>
describe&nbsp;certain&nbsp;attributes&nbsp;of&nbsp;IR&nbsp;instructions,&nbsp;having&nbsp;them&nbsp;be&nbsp;defined&lt;br&gt;<br>
in&nbsp;a&nbsp;single&nbsp;data&nbsp;structure&nbsp;like&nbsp;what&nbsp;is&nbsp;done&nbsp;for&nbsp;when&nbsp;calling&nbsp;LLVM.&nbsp;What&lt;br&gt;<br>
would&nbsp;that&nbsp;entail?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt; &lt;br&gt;That&nbsp;would&nbsp;entail&nbsp;been&nbsp;able&nbsp;to&nbsp;encode&nbsp;more&nbsp;properties&nbsp;and&nbsp;relations&nbsp;of&nbsp;instructions&lt;br&gt;without&nbsp;all&nbsp;the&nbsp;repetition&nbsp;that&nbsp;currently&nbsp;exist&nbsp;in&nbsp;our&nbsp;JIT.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
I&nbsp;am&nbsp;getting&nbsp;more&nbsp;interested&nbsp;in&nbsp;that&nbsp;project&nbsp;as&nbsp;a&nbsp;was&nbsp;thinking&nbsp;it&nbsp;would&lt;br&gt;<br>
be&nbsp;quite&nbsp;a&nbsp;bit&nbsp;helpful&nbsp;in&nbsp;the&nbsp;other&nbsp;projects&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;do,&nbsp;and&nbsp;may&nbsp;be&lt;br&gt;<br>
even&nbsp;needed&nbsp;in&nbsp;some&nbsp;parts.&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;I&nbsp;talked&nbsp;abou&nbsp;that&nbsp;with&nbsp;Paolo&nbsp;and&nbsp;he&nbsp;suggested&nbsp;that&nbsp;this&nbsp;it&nbsp;would&nbsp;be&nbsp;better&nbsp;done&nbsp;without&lt;br&gt;using&nbsp;a&nbsp;tool&nbsp;like&nbsp;llvm&amp;#39;s&nbsp;tablegen.&nbsp;Thou&nbsp;we&nbsp;didn&amp;#39;t&nbsp;talk&nbsp;much&nbsp;further,&nbsp;so&nbsp;I&amp;#39;m&nbsp;CC&amp;#39;ing&nbsp;him&nbsp;so&lt;br&gt;<br>
he&nbsp;can&nbsp;give&nbsp;us&nbsp;a&nbsp;better&nbsp;idea&nbsp;of&nbsp;what&nbsp;he&nbsp;has&nbsp;on&nbsp;his&nbsp;mind.&lt;br&gt;&lt;br&gt;There&nbsp;are&nbsp;3&nbsp;different&nbsp;problems&nbsp;I&nbsp;think&nbsp;deserve&nbsp;been&nbsp;solved.&lt;br&gt;&lt;br&gt;The&nbsp;first&nbsp;is&nbsp;encoding&nbsp;of&nbsp;instruction&nbsp;properties&nbsp;such&nbsp;as&nbsp;commutative&nbsp;or&nbsp;side-effect&nbsp;free.&lt;br&gt;<br>
For&nbsp;this&nbsp;it&nbsp;would&nbsp;be&nbsp;a&nbsp;matter&nbsp;of&nbsp;adding&nbsp;an&nbsp;extra&nbsp;parameter&nbsp;to&nbsp;the&nbsp;MINI_OP&nbsp;macro&nbsp;or&amp;#39;ing&lt;br&gt;those&nbsp;properties&nbsp;and&nbsp;then&nbsp;filling&nbsp;a&nbsp;table&nbsp;with&nbsp;this&nbsp;data.&lt;br&gt;&lt;br&gt;The&nbsp;second&nbsp;is&nbsp;encode&nbsp;relations&nbsp;between&nbsp;instructions.&nbsp;For&nbsp;example,&nbsp;op_to_op_dest_membase&lt;br&gt;<br>
is&nbsp;only&nbsp;enabled&nbsp;on&nbsp;x86/amd64&nbsp;and&nbsp;to&nbsp;small&nbsp;amount&nbsp;of&nbsp;operations.&nbsp;Doing&nbsp;this&nbsp;for&nbsp;all&nbsp;SIMD&nbsp;ops&lt;br&gt;would&nbsp;be&nbsp;a&nbsp;a&nbsp;lot&nbsp;of&nbsp;repetitive&nbsp;work.&lt;br&gt;&lt;br&gt;The&nbsp;last&nbsp;is&nbsp;to&nbsp;reduce&nbsp;the&nbsp;amount&nbsp;of&nbsp;repetition&nbsp;between&nbsp;instructions&nbsp;definitions,&nbsp;it&nbsp;has&nbsp;to&nbsp;be&nbsp;very&lt;br&gt;<br>
template&nbsp;oriented&nbsp;and&nbsp;support&nbsp;customization&nbsp;of&nbsp;the&nbsp;result.&nbsp;For&nbsp;example,&nbsp;I&nbsp;want&nbsp;to&nbsp;define&nbsp;a&nbsp;single&lt;br&gt;template&nbsp;for&nbsp;binary&nbsp;SIMD&nbsp;ops&nbsp;that&nbsp;produce&nbsp;reg_reg,&nbsp;reg_membase,&nbsp;reg_memindex&nbsp;variants,&nbsp;which&lt;br&gt;don&amp;#39;t&nbsp;have&nbsp;side&nbsp;effects&nbsp;and,&nbsp;finally,&nbsp;can&nbsp;be&nbsp;easily&nbsp;instantiated&nbsp;for&nbsp;the&nbsp;many&nbsp;vector&nbsp;elements.&lt;br&gt;<br>
&lt;br&gt;This&nbsp;is&nbsp;asking&nbsp;for&nbsp;a&nbsp;lot.&nbsp;But&nbsp;it&nbsp;would&nbsp;simplify&nbsp;the&nbsp;JIT&nbsp;a&nbsp;lot&nbsp;and&nbsp;make&nbsp;it&nbsp;produce&nbsp;better&nbsp;code&nbsp;easier.&lt;br&gt;&lt;br&gt;Rodrigo&lt;br&gt;<br>

</tt>
