Index: System.Web.UI/Page.cs
===================================================================
--- System.Web.UI/Page.cs	(revision 70037)
+++ System.Web.UI/Page.cs	(working copy)
@@ -1012,9 +1012,6 @@
 
 	private void ProcessPostData (NameValueCollection data, bool second)
 	{
-		if (!second)
-			_requiresPostBackCopy = (_requiresPostBack == null) ? null : (ArrayList) _requiresPostBack.Clone ();
-
 		if (data != null) {
 
 		Hashtable used = new Hashtable ();
@@ -1047,9 +1044,11 @@
 					if (requiresPostDataChanged == null)
 						requiresPostDataChanged = new ArrayList ();
 					requiresPostDataChanged.Add (pbdh);
-					if (_requiresPostBackCopy != null)
-						_requiresPostBackCopy.Remove (ctrl.UniqueID);
 				}
+				
+				if (_requiresPostBackCopy != null)
+					_requiresPostBackCopy.Remove (real_id);
+
 			} else if (!second) {
 				if (secondPostData == null)
 					secondPostData = new NameValueCollection ();
@@ -1502,7 +1501,7 @@
 				Pair vsr = sState.First as Pair;
 				if (vsr != null) {
 					LoadViewStateRecursive (vsr.First);
-					_requiresPostBack = vsr.Second as ArrayList;
+					_requiresPostBackCopy = vsr.Second as ArrayList;
 				}
 			}
 		}
Index: Test/System.Web.UI/PageTest.cs
===================================================================
--- Test/System.Web.UI/PageTest.cs	(revision 70037)
+++ Test/System.Web.UI/PageTest.cs	(working copy)
@@ -1082,9 +1082,68 @@
 
 			#endregion
 		}
+
+		[Test]
+		[Category ("NunitWeb")]
+		public void RegisterRequiresPostBack ()  //Just flow and not implementation detail
+		{
+			PageDelegates delegates = new PageDelegates ();
+			delegates.Init = RegisterRequiresPostBack_Init;
+			delegates.Load = RegisterRequiresPostBack_Load;
+			WebTest t = new WebTest (new PageInvoker (delegates));
+			string html = t.Run ();
+			
+			FormRequest fr = new FormRequest (t.Response, "form1");
+			fr.Controls.Add ("__EVENTTARGET");
+			fr.Controls.Add ("__EVENTARGUMENT");
+			fr.Controls ["__EVENTTARGET"].Value = "__Page";
+			fr.Controls ["__EVENTARGUMENT"].Value = "";
+			t.Request = fr;
+			html = t.Run ();
+
+			Assert.AreEqual ("CustomPostBackDataHandler2_LoadPostData", t.UserData, "RegisterRequiresPostBack#1");
+			t.UserData = null;
+
+			fr = new FormRequest (t.Response, "form1");
+			fr.Controls.Add ("__EVENTTARGET");
+			fr.Controls.Add ("__EVENTARGUMENT");
+			fr.Controls ["__EVENTTARGET"].Value = "__Page";
+			fr.Controls ["__EVENTARGUMENT"].Value = "";
+			t.Request = fr;
+			html = t.Run ();
+
+			Assert.AreEqual (null, t.UserData, "RegisterRequiresPostBack#2");
+		}
+
+		public static void RegisterRequiresPostBack_Init (Page p)
+		{
+			CustomPostBackDataHandler2 c = new CustomPostBackDataHandler2 ();
+			c.ID = "CustomPostBackDataHandler2";
+			p.Form.Controls.Add (c);
+		}
+
+		public static void RegisterRequiresPostBack_Load (Page p)
+		{
+			if (!p.IsPostBack)
+				p.RegisterRequiresPostBack (p.Form.FindControl ("CustomPostBackDataHandler2"));
+		}
+
+		class CustomPostBackDataHandler2 : WebControl, IPostBackDataHandler
+		{
+			#region IPostBackDataHandler Members
+
+			public bool LoadPostData (string postDataKey, global::System.Collections.Specialized.NameValueCollection postCollection) {
+				WebTest.CurrentTest.UserData = "CustomPostBackDataHandler2_LoadPostData";
+				return false;
+			}
+
+			public void RaisePostDataChangedEvent () {
+			}
+
+			#endregion
+		}
 #endif
 
-
 		[TestFixtureTearDown]
 		public void TearDown ()
 		{
