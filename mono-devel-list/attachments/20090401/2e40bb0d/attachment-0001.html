<tt>
The&nbsp;changes&nbsp;are&nbsp;ok.&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Apr&nbsp;1,&nbsp;2009&nbsp;at&nbsp;2:25&nbsp;PM,&nbsp;Bill&nbsp;Holmes&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:billholmes54@gmail.com&quot;&gt;billholmes54@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Understood,&nbsp;that&nbsp;is&nbsp;why&nbsp;I&nbsp;said&nbsp;it&nbsp;was&nbsp;a&nbsp;workaround.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;my&nbsp;opinion&nbsp;the&nbsp;problems&nbsp;with&nbsp;QueueUserAPC&nbsp;are&nbsp;well&nbsp;know&nbsp;and&nbsp;do&nbsp;not&lt;br&gt;<br>
need&nbsp;these&nbsp;particular&nbsp;three&nbsp;tests&nbsp;to&nbsp;remind&nbsp;us&nbsp;of&nbsp;that.&nbsp; Can&nbsp;we&nbsp;work&lt;br&gt;<br>
around&nbsp;a&nbsp;well&nbsp;know&nbsp;issue&nbsp;to&nbsp;allow&nbsp;these&nbsp;tests&nbsp;to&nbsp;exercise&nbsp;what&nbsp;they&lt;br&gt;<br>
are&nbsp;intended&nbsp;to.&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
-bill&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
On&nbsp;Wed,&nbsp;Apr&nbsp;1,&nbsp;2009&nbsp;at&nbsp;10:33&nbsp;AM,&nbsp;Rodrigo&nbsp;Kumpera&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:kumpera@gmail.com&quot;&gt;kumpera@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;This&nbsp;is&nbsp;only&nbsp;a&nbsp;hack&nbsp;around&nbsp;the&nbsp;fact&nbsp;the&nbsp;we&nbsp;don&amp;#39;t&nbsp;support&nbsp;proper&nbsp;interruption&lt;br&gt;<br>
&amp;gt;&nbsp;on&nbsp;windows.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;2009/4/1&nbsp;Bill&nbsp;Holmes&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:billholmes54@gmail.com&quot;&gt;billholmes54@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Hi,&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;On&nbsp;Windows&nbsp;some&nbsp;of&nbsp;the&nbsp;runtime&nbsp;tests&nbsp;are&nbsp;not&nbsp;completing&nbsp;since&nbsp;r127661&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;(I&nbsp;believe.)&nbsp; The&nbsp;attached&nbsp;patch&nbsp;is&nbsp;a&nbsp;workaround&nbsp;for&nbsp;the&nbsp;affected&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;tests.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;On&nbsp;Windows&nbsp;we&nbsp;rely&nbsp;on&nbsp;QueueUserAPC&nbsp;to&nbsp;increment&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;thread_interruption_requested.&nbsp; The&nbsp;way&nbsp;the&nbsp;tests&nbsp;are&nbsp;currently&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;written&nbsp;there&nbsp;is&nbsp;no&nbsp;opportunity&nbsp;to&nbsp;execute&nbsp;the&nbsp;APC.&nbsp; Adding&nbsp;a&nbsp;sleep&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;provides&nbsp;that&nbsp;opportunity.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;-bill&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;2009-04-01&nbsp; Bill&nbsp;Holmes&nbsp; &amp;lt;&lt;a&nbsp;href=&quot;mailto:billholmes54@gmail.com&quot;&gt;billholmes54@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; *&nbsp;finalizer-abort.cs,&nbsp;finalizer-exception.cs,&nbsp;finalizer-exit.cs&nbsp;:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Adding&nbsp;a&nbsp;sleep&nbsp;to&nbsp;the&nbsp;waiting&nbsp;thread&nbsp;to&nbsp;give&nbsp;Mono&nbsp;on&nbsp;Windows&nbsp;an&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; opportunity&nbsp;to&nbsp;interrupt&nbsp;the&nbsp;thread&nbsp;via&nbsp;QueueUserAPC.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; Contributed&nbsp;under&nbsp;MIT/X11&nbsp;license.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
