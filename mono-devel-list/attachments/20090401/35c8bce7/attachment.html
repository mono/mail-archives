<tt>
This&nbsp;is&nbsp;only&nbsp;a&nbsp;hack&nbsp;around&nbsp;the&nbsp;fact&nbsp;the&nbsp;we&nbsp;don&amp;#39;t&nbsp;support&nbsp;proper&nbsp;interruption&nbsp;on&nbsp;windows.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2009/4/1&nbsp;Bill&nbsp;Holmes&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:billholmes54@gmail.com&quot;&gt;billholmes54@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Windows&nbsp;some&nbsp;of&nbsp;the&nbsp;runtime&nbsp;tests&nbsp;are&nbsp;not&nbsp;completing&nbsp;since&nbsp;r127661&lt;br&gt;<br>
(I&nbsp;believe.)&nbsp; The&nbsp;attached&nbsp;patch&nbsp;is&nbsp;a&nbsp;workaround&nbsp;for&nbsp;the&nbsp;affected&lt;br&gt;<br>
tests.&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Windows&nbsp;we&nbsp;rely&nbsp;on&nbsp;QueueUserAPC&nbsp;to&nbsp;increment&lt;br&gt;<br>
thread_interruption_requested.&nbsp; The&nbsp;way&nbsp;the&nbsp;tests&nbsp;are&nbsp;currently&lt;br&gt;<br>
written&nbsp;there&nbsp;is&nbsp;no&nbsp;opportunity&nbsp;to&nbsp;execute&nbsp;the&nbsp;APC.&nbsp; Adding&nbsp;a&nbsp;sleep&lt;br&gt;<br>
provides&nbsp;that&nbsp;opportunity.&lt;br&gt;<br>
&lt;br&gt;<br>
-bill&lt;br&gt;<br>
&lt;br&gt;<br>
2009-04-01&nbsp; Bill&nbsp;Holmes&nbsp; &amp;lt;&lt;a&nbsp;href=&quot;mailto:billholmes54@gmail.com&quot;&gt;billholmes54@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; *&nbsp;finalizer-abort.cs,&nbsp;finalizer-exception.cs,&nbsp;finalizer-exit.cs&nbsp;:&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Adding&nbsp;a&nbsp;sleep&nbsp;to&nbsp;the&nbsp;waiting&nbsp;thread&nbsp;to&nbsp;give&nbsp;Mono&nbsp;on&nbsp;Windows&nbsp;an&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; opportunity&nbsp;to&nbsp;interrupt&nbsp;the&nbsp;thread&nbsp;via&nbsp;QueueUserAPC.&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; Contributed&nbsp;under&nbsp;MIT/X11&nbsp;license.&lt;br&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
