<tt>
Hi&nbsp;Pryor,&lt;br&gt;&lt;br&gt;Thanks&nbsp;for&nbsp;the&nbsp;info&nbsp;and&nbsp;the&nbsp;reference.&lt;br&gt;The&nbsp;version&nbsp;of&nbsp;mono&nbsp;I&nbsp;used&nbsp;is&nbsp;2.4.2.3&nbsp;build&nbsp;2008,&nbsp;but&nbsp;since&nbsp;our&nbsp;analysis&nbsp;is&nbsp;at&nbsp;a&nbsp;preliminary&nbsp;stage,&nbsp;the&nbsp;version&nbsp;is&nbsp;of&nbsp;not&nbsp;much&nbsp;concern.&lt;br&gt;&lt;br&gt;At&nbsp;the&nbsp;moment&nbsp;we&nbsp;only&nbsp;look&nbsp;at&nbsp;methods&nbsp;that&nbsp;are&nbsp;decorated&nbsp;with&nbsp;the&nbsp;MethodImplOptions.&lt;div&nbsp;id=&quot;:1co&quot;&gt;<br>
Synchronized&nbsp;attribute.&nbsp;Going&nbsp;further&nbsp;we&nbsp;would&nbsp;be&nbsp;looking&nbsp;at&nbsp;the&nbsp;&amp;#39;lock(object)&amp;#39;&nbsp;constructs&nbsp;as&nbsp;well&nbsp;in&nbsp;our&nbsp;analysis.&nbsp;I&nbsp;will&nbsp;update&nbsp;you&nbsp;on&nbsp;my&nbsp;future&nbsp;findings.&lt;br&gt;Thanks&nbsp;you&nbsp;once&nbsp;again.&lt;br&gt;&lt;/div&gt;&lt;br&gt;-Arun&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Nov&nbsp;8,&nbsp;2010&nbsp;at&nbsp;8:03&nbsp;PM,&nbsp;Jonathan&nbsp;Pryor&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jonpryor@vt.edu&quot;&gt;jonpryor@vt.edu&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Mon,&nbsp;2010-11-08&nbsp;at&nbsp;07:35&nbsp;+0530,&nbsp;Arun&nbsp;K&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;am&nbsp;performing&nbsp;a&nbsp;static&nbsp;analysis&nbsp;on&nbsp;the&nbsp;mono&nbsp;2.4.x&nbsp;libraries.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;2.4.x?&nbsp; How&nbsp;old!&nbsp; (We&amp;#39;re&nbsp;up&nbsp;to&nbsp;2.8&nbsp;now...)&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;aim&nbsp;of&nbsp;this&nbsp;analysis&nbsp;is&nbsp;to&nbsp;detect&nbsp;potential&nbsp;deadlock&nbsp;scenarios&lt;br&gt;<br>
&amp;gt;&nbsp;within&nbsp;the&nbsp;libraries.&nbsp;As&nbsp;a&nbsp;first&nbsp;step,&nbsp;I&nbsp;wanted&nbsp;to&nbsp;find&nbsp;if&nbsp;any&lt;br&gt;<br>
&amp;gt;&nbsp;synchronized&nbsp;method&nbsp;invokes&nbsp;another&nbsp;synchronized&nbsp;method&nbsp;either&lt;br&gt;<br>
&amp;gt;&nbsp;directly&nbsp;or&nbsp;eventually&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Thus,&nbsp;the&nbsp;*most*&nbsp;important&nbsp;question:&nbsp;How&nbsp;do&nbsp;you&nbsp;define&nbsp;&amp;quot;synchronized&amp;quot;?&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;guess&nbsp;is&nbsp;that&nbsp;your&nbsp;definition&nbsp;is&nbsp;a&nbsp;method&nbsp;with&nbsp;the&nbsp;attribute:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; [MethodImpl&nbsp;(MethodImplOptions.Synchronized)]&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;this&nbsp;is&nbsp;the&nbsp;case,&nbsp;the&nbsp;problem&nbsp;you&amp;#39;re&nbsp;encountering&nbsp;is&nbsp;that&nbsp;this&nbsp;is&lt;br&gt;<br>
explicitly&nbsp;counter&nbsp;to&nbsp;.NET&nbsp;documentation,&nbsp;e.g.&nbsp;[0,&nbsp;1]:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; Generally,&nbsp;it&nbsp;is&nbsp;best&nbsp;to&nbsp;avoid&nbsp;locking&nbsp;on&nbsp;a&nbsp;public&nbsp;type,&nbsp;or&nbsp;on&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; object&nbsp;instances&nbsp;beyond&nbsp;the&nbsp;control&nbsp;of&nbsp;your&nbsp;application.&nbsp;For&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; example,&nbsp;lock(this)&nbsp;can&nbsp;be&nbsp;problematic&nbsp;if&nbsp;the&nbsp;instance&nbsp;can&nbsp;be&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; accessed&nbsp;publicly,&nbsp;because&nbsp;code&nbsp;beyond&nbsp;your&nbsp;control&nbsp;may&nbsp;lock&nbsp;on&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; the&nbsp;object&nbsp;as&nbsp;well.&nbsp;This&nbsp;could&nbsp;create&nbsp;deadlock&nbsp;situations&nbsp;where&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; two&nbsp;or&nbsp;more&nbsp;threads&nbsp;wait&nbsp;for&nbsp;the&nbsp;release&nbsp;of&nbsp;the&nbsp;same&nbsp;object.&lt;br&gt;<br>
&lt;br&gt;<br>
.NET&nbsp;guidelines&nbsp;advocate&nbsp;declaring&nbsp;a&nbsp;*private*&nbsp;object&nbsp;instance&nbsp;and&lt;br&gt;<br>
locking&nbsp;on&nbsp;that,&nbsp;instead&nbsp;of&nbsp;using&nbsp;Synchronized&nbsp;methods.&nbsp;[2]&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;short,&nbsp;if&nbsp;you&nbsp;see&nbsp;[MethodImpl&nbsp;(MethodImplOptions.Synchronized)],&lt;br&gt;<br>
you&amp;#39;re&nbsp;either&nbsp;looking&nbsp;at&nbsp;compatibility&nbsp;with&nbsp;.NET,&nbsp;or&nbsp;you&amp;#39;re&nbsp;looking&nbsp;at&nbsp;a&lt;br&gt;<br>
probable&nbsp;bug.&lt;br&gt;<br>
&lt;br&gt;<br>
 -&nbsp;Jon&lt;br&gt;<br>
&lt;br&gt;<br>
[0]&nbsp;&lt;a&nbsp;href=&quot;http://msdn.microsoft.com/en-us/library/ms173179.aspx&quot;&nbsp;target=&quot;_blank&quot;&gt;http://msdn.microsoft.com/en-us/library/ms173179.aspx&lt;/a&gt;&lt;br&gt;<br>
[1]&nbsp;&lt;a&nbsp;href=&quot;http://msdn.microsoft.com/en-us/library/ms182290%28VS.80%29.aspx&quot;&nbsp;target=&quot;_blank&quot;&gt;http://msdn.microsoft.com/en-us/library/ms182290(VS.80).aspx&lt;/a&gt;&lt;br&gt;<br>
[2]&nbsp;My&nbsp;guess&nbsp;is&nbsp;that&nbsp;the&nbsp;only&nbsp;reason&nbsp;you&nbsp;can&nbsp;lock&nbsp;on&nbsp;System.Object&nbsp;and&lt;br&gt;<br>
not&nbsp;some&nbsp;more&nbsp;restricted&nbsp;type&nbsp;is&nbsp;for&nbsp;Java&nbsp;compatibility...which&nbsp;is&nbsp;the&lt;br&gt;<br>
~same&nbsp;reason&nbsp;that&nbsp;.NET&nbsp;arrays&nbsp;are&nbsp;covariant.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
