#! /usr/bin/perl -w

$propName = $ARGV[0];
$propType = $ARGV[1];

#print "$propName\n";

$lcName = $propName;
$lcName =~ s/^(\w)/lc($1)/e;

#print "$lcName\n";

$initVal = "false";

$initVal = "String.Empty" if($propType =~ /^string$/);
$initVal = "0" if($propType =~ /^int$/);
$initVal = "0.0" if($propType =~ /^double$/);

print<<ENDLINE;

		private $propType $lcName = $initVal;

		public $propType $propName
		{
			get
			{
				if($lcName == $initVal)
				{
					if(this["$propName"] != null)
					{
						this.$lcName =
ENDLINE

$tabs = "\t\t\t\t\t\t     ";

print $tabs;
print "this[\"$propName\"];" if($propType =~ /^string$/);
print "Convert.ToBoolean(this[\"$propName\"]);" if($propType =~ /^bool$/);
print "Convert.ToInt32(this[\"$propName\"]);" if($propType =~ /^int$/);
print "Convert.ToDouble(this[\"$propName\"]);" if($propType =~ /^double$/);

print<<ENDLINE;

					}
				}
				return $lcName;
			}
		}
ENDLINE

