Index: class.c
===================================================================
--- class.c	(revision 92069)
+++ class.c	(working copy)
@@ -2886,6 +2886,10 @@
 		break;
 	}
 
+	case MONO_EXCEPTION_BAD_IMAGE:
+		class->exception_data = error->msg;
+		break;
+
 	default :
 		g_assert_not_reached ();
 	}
@@ -6175,6 +6179,9 @@
 
 		return ex;
 	}
+	case MONO_EXCEPTION_BAD_IMAGE: {
+		return mono_get_exception_bad_image_format (klass->exception_data);
+	}
 	default: {
 		MonoLoaderError *error;
 		MonoException *ex;