<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Hello&nbsp;all,&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;intention&nbsp;is&nbsp;not&nbsp;to&nbsp;raise&nbsp;an&nbsp;useless&nbsp;debate&nbsp;(no&nbsp;'trolling'),&nbsp;and&nbsp;I<br>
sincerely&nbsp;hope&nbsp;I'm&nbsp;misleading&nbsp;somewhere...&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;seems&nbsp;there&nbsp;are&nbsp;many&nbsp;many&nbsp;classes&nbsp;in&nbsp;Mono&nbsp;that&nbsp;are&nbsp;not&nbsp;fully<br>
compatible&nbsp;-&nbsp;to&nbsp;be&nbsp;more&nbsp;precise&nbsp;binary&nbsp;compatible&nbsp;-&nbsp;with&nbsp;their<br>
equivalents&nbsp;in&nbsp;the&nbsp;.Net&nbsp;framework&nbsp;(the&nbsp;fact&nbsp;you&nbsp;work&nbsp;with&nbsp;Mono&nbsp;on&nbsp;Linux<br>
or&nbsp;Windows&nbsp;does&nbsp;not&nbsp;matter).&nbsp;By&nbsp;binary&nbsp;compatible,&nbsp;I&nbsp;mean&nbsp;to&nbsp;binary<br>
serialize&nbsp;a&nbsp;class&nbsp;in&nbsp;Mono&nbsp;and&nbsp;to&nbsp;deserialize&nbsp;in&nbsp;.Net,&nbsp;or&nbsp;vice-versa.<br>
This&nbsp;is&nbsp;a&nbsp;simple&nbsp;but&nbsp;much&nbsp;needed&nbsp;need&nbsp;when&nbsp;two&nbsp;systems&nbsp;must&nbsp;communicate<br>
with&nbsp;each&nbsp;other&nbsp;(over&nbsp;network&nbsp;or&nbsp;with&nbsp;file&nbsp;exchange).&lt;br&gt;<br>
&lt;br&gt;<br>
To&nbsp;give&nbsp;some&nbsp;figures,&nbsp;I've&nbsp;created&nbsp;a&nbsp;sample&nbsp;test&nbsp;application&nbsp;and&nbsp;ran&nbsp;it<br>
on&nbsp;System.dll:&nbsp;over&nbsp;430&nbsp;types,&nbsp;approx.&nbsp;68&nbsp;instantiated&nbsp;and&nbsp;serialized<br>
with&nbsp;.Net&nbsp;throw&nbsp;an&nbsp;exception&nbsp;when&nbsp;deserialized&nbsp;with&nbsp;Mono.&lt;br&gt;<br>
&lt;br&gt;<br>
Where&nbsp;does&nbsp;the&nbsp;problem&nbsp;come&nbsp;from?&lt;br&gt;<br>
Binary&nbsp;serialization&nbsp;works&nbsp;by&nbsp;creating&nbsp;an&nbsp;internal&nbsp;dictionary&nbsp;which<br>
stores&nbsp;the&nbsp;names&nbsp;of&nbsp;the&nbsp;object's&nbsp;serialized&nbsp;fields&nbsp;and&nbsp;their&nbsp;values.&nbsp;At<br>
deserialization,&nbsp;we&nbsp;use&nbsp;the&nbsp;names&nbsp;in&nbsp;the&nbsp;tables,&nbsp;matchs&nbsp;them&nbsp;against<br>
the&nbsp;name&nbsp;of&nbsp;the&nbsp;class&nbsp;of&nbsp;the&nbsp;framework&nbsp;(Mono&nbsp;or&nbsp;.Net)&nbsp;and&nbsp;restore&nbsp;the<br>
value.&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;problem&nbsp;is&nbsp;simple&nbsp;but&nbsp;concrete:&nbsp;.Net&nbsp;and&nbsp;Mono&nbsp;developers&nbsp;have&nbsp;not<br>
use&nbsp;the&nbsp;same&nbsp;name&nbsp;for&nbsp;their&nbsp;fields.&nbsp;Hence&nbsp;the&nbsp;exceptions&nbsp;thrown.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;solution&nbsp;(very&nbsp;time&nbsp;consuming):&nbsp;we&nbsp;should&nbsp;review&nbsp;all&nbsp;serializable<br>
classes&nbsp;and&nbsp;make&nbsp;their&nbsp;fields'&nbsp;names&nbsp;match&nbsp;those&nbsp;of&nbsp;the&nbsp;.Net&nbsp;framework.&lt;br&gt;<br>
&lt;br&gt;<br>
Once&nbsp;more,&nbsp;I&nbsp;sincerely&nbsp;hope&nbsp;that&nbsp;I'm&nbsp;misleading&nbsp;somewhere,&nbsp;because&nbsp;I<br>
don't&nbsp;think&nbsp;the&nbsp;review&nbsp;of&nbsp;all&nbsp;that&nbsp;classes&nbsp;is&nbsp;anybody's&nbsp;cup&nbsp;of&nbsp;tea...&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
&lt;br&gt;<br>
Lionel&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Attached&nbsp;files:&lt;br&gt;<br>
--------------&lt;br&gt;<br>
1.&nbsp;The&nbsp;test&nbsp;application&nbsp;mentioned&nbsp;above.&nbsp;It's&nbsp;far&nbsp;from&nbsp;perfect&nbsp;(some<br>
exceptions&nbsp;thrown&nbsp;are&nbsp;due&nbsp;to&nbsp;the&nbsp;fact&nbsp;it's&nbsp;quickly&nbsp;coded)&nbsp;but&nbsp;gives&nbsp;a<br>
fair&nbsp;view&nbsp;of&nbsp;the&nbsp;problem.&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;run&nbsp;the&nbsp;test&nbsp;application<br>
against&nbsp;another&nbsp;assembly&nbsp;than&nbsp;System.dll,&nbsp;just&nbsp;look&nbsp;for&nbsp;the&nbsp;line<br>
SerializeMostAssemblyTypesAndWriteToFiles(typeof(Guid).Assembly);&nbsp;and<br>
replace&nbsp;typeof(Guid).Assembly&nbsp;with&nbsp;a&nbsp;reference&nbsp;to&nbsp;the&nbsp;assembly&nbsp;you&nbsp;want<br>
to&nbsp;test.&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Usage:&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&quot;Aulofee.SerializationTester&nbsp;write&quot;&amp;nbsp;&nbsp;to&nbsp;inspect&nbsp;an&nbsp;assembly,<br>
instantiate&nbsp;its&nbsp;exporable&nbsp;serializable&nbsp;types&nbsp;and&nbsp;serialize&nbsp;them&nbsp;into<br>
some&nbsp;files.&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;This&nbsp;generates&nbsp;a&nbsp;log&nbsp;file&nbsp;&quot;log_write.txt&quot;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&quot;Aulofee.SerializationTester&nbsp;read&quot;&amp;nbsp;&nbsp;to&nbsp;read&nbsp;all&nbsp;the&nbsp;files&nbsp;generated<br>
above&nbsp;an&nbsp;deserialize&nbsp;their&nbsp;content.&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;This&nbsp;generates&nbsp;a&nbsp;log&nbsp;file&nbsp;&quot;log_read.txt&quot;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
2.&nbsp;The&nbsp;two&nbsp;logs&nbsp;generated&nbsp;when&nbsp;deserializing&nbsp;the&nbsp;files&nbsp;generated&nbsp;with<br>
the&nbsp;test&nbsp;app,&nbsp;one&nbsp;generated&nbsp;with&nbsp;.Net,&nbsp;the&nbsp;other&nbsp;with&nbsp;Mono&nbsp;(on&nbsp;Linux).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;moz-signature&quot;&gt;--&nbsp;&lt;br&gt;<br>
Lionel&nbsp;Cuir&lt;br&gt;<br>
PDG&lt;br&gt;<br>
Aulof&amp;eacute;e&lt;br&gt;<br>
tel:&nbsp;+33.(0)6.99.24.38.04&lt;br&gt;<br>
mail:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:lionel.cuir@aulofee.com&quot;&gt;lionel.cuir@aulofee.com&lt;/a&gt;&lt;br&gt;<br>
web:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://www.aulofee.com&quot;&gt;http://www.aulofee.com&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#0000ff&quot;&gt;&lt;b&gt;Centralisez&nbsp;et&nbsp;automatisez&nbsp;la&nbsp;supervision&nbsp;de<br>
vos&nbsp;syst&amp;egrave;mes&nbsp;d'information&nbsp;avec&nbsp;Aliz&amp;eacute;:&lt;/b&gt;&lt;br&gt;<br>
*&nbsp;s&amp;eacute;curit&amp;eacute;/corr&amp;eacute;lation&nbsp;de&nbsp;logs&nbsp;*&nbsp;inventaire/d&amp;eacute;tection&nbsp;de&nbsp;parc&nbsp;*<br>
reporting&nbsp;*&nbsp;cartographie&nbsp;r&amp;eacute;seau&nbsp;*&lt;/font&gt;&lt;br&gt;<br>
&amp;nbsp;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
