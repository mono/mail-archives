Index: ILGenerator.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/System.Reflection.Emit/ILGenerator.cs,v
retrieving revision 1.51
diff -u -r1.51 ILGenerator.cs
--- ILGenerator.cs	31 Jan 2004 03:50:14 -0000	1.51
+++ ILGenerator.cs	31 Mar 2004 19:32:14 -0000
@@ -378,7 +378,7 @@
 				locals = new LocalBuilder [1];
 				locals [0] = res;
 			}
-			res.position = (uint)(locals.Length - 1);
+			res.position = (ushort)(locals.Length - 1);
 			return res;
 		}
 		
Index: LocalBuilder.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/System.Reflection.Emit/LocalBuilder.cs,v
retrieving revision 1.12
diff -u -r1.12 LocalBuilder.cs
--- LocalBuilder.cs	30 Mar 2004 03:29:36 -0000	1.12
+++ LocalBuilder.cs	31 Mar 2004 19:32:14 -0000
@@ -25,12 +25,13 @@
 		#region Sync with reflection.h
 		private Type type;
 		private string name;
+		private bool is_pinned;
 		#endregion
 		
 		//
 		// Order does not matter after here
 		//
-		internal uint position;
+		internal ushort position;
 		internal ILGenerator ilgen;
 
 		internal LocalBuilder (Type t, ILGenerator ilgen)
@@ -65,7 +66,9 @@
 			}
 		}
 		
-		[MethodImpl (MethodImplOptions.InternalCall)]
-		internal extern void MakePinned ();
+		internal void MakePinned ()
+		{
+			is_pinned = true;
+		}
 	}
 }
