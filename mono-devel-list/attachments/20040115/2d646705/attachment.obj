? 44990.diff
Index: SqlTransaction.cs
===================================================================
RCS file: /mono/mcs/class/System.Data/System.Data.SqlClient/SqlTransaction.cs,v
retrieving revision 1.18
diff -u -r1.18 SqlTransaction.cs
--- SqlTransaction.cs	26 Nov 2002 06:33:28 -0000	1.18
+++ SqlTransaction.cs	16 Jan 2004 05:33:58 -0000
@@ -68,7 +68,7 @@
 		private void Dispose (bool disposing)
 		{
 			if (!disposed)  {
-				if (disposing) {
+				if ((disposing) && (isOpen)) {
 					Rollback ();
 				}
 				disposed = true;
