<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&gt;Recently&nbsp;I&nbsp;encountered&nbsp;a&nbsp;situation&nbsp;where&nbsp;TableLayoutPanel&nbsp;behaves&nbsp;differently&nbsp;under&nbsp;Mono&nbsp;and&nbsp;.NET&nbsp;--&nbsp;one&nbsp;of&nbsp;my&nbsp;columns&nbsp;didn't&nbsp;contain&nbsp;a&nbsp;non-column-spanning&nbsp;control.&nbsp;&nbsp;Under&nbsp;Mono,&nbsp;that&nbsp;led&nbsp;to&nbsp;the&nbsp;column&nbsp;having&nbsp;zero&nbsp;width,&nbsp;and&nbsp;one&nbsp;of&nbsp;my&nbsp;controls&nbsp;ended&nbsp;up&nbsp;with&nbsp;an&nbsp;unusably&nbsp;small&nbsp;size.&nbsp;&nbsp;So&nbsp;I&nbsp;started&nbsp;digging&nbsp;around&nbsp;the&nbsp;relevant&nbsp;code,&nbsp;and&nbsp;ended&nbsp;up&nbsp;in&nbsp;mcs/class/Managed.Windows.Forms/System.Windows.Forms.Layout/TableLayout.cs&nbsp;.&nbsp;&nbsp;I&nbsp;have&nbsp;some&nbsp;questions&nbsp;about&nbsp;how&nbsp;it's&nbsp;implemented...hopefully&nbsp;someone&nbsp;has&nbsp;some&nbsp;answers,&nbsp;otherwise&nbsp;I'm&nbsp;just&nbsp;going&nbsp;to&nbsp;charge&nbsp;ahead&nbsp;and&nbsp;fix&nbsp;things&nbsp;the&nbsp;way&nbsp;I&nbsp;want.&nbsp;:-)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Note&nbsp;that&nbsp;when&nbsp;I&nbsp;say&nbsp;&quot;column&quot;&nbsp;below,&nbsp;I&nbsp;mean&nbsp;the&nbsp;equivalent&nbsp;situation&nbsp;with&nbsp;rows&nbsp;--&nbsp;I&nbsp;just&nbsp;didn't&nbsp;want&nbsp;to&nbsp;keep&nbsp;typing&nbsp;&quot;column/row&quot;.&nbsp;&nbsp;Also,&nbsp;the&nbsp;line&nbsp;numbers&nbsp;are&nbsp;relative&nbsp;to&nbsp;the&nbsp;latest&nbsp;version&nbsp;in&nbsp;git,&nbsp;as<br>
&nbsp;of&nbsp;this&nbsp;writing.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;&lt;a&nbsp;href=&quot;http://msdn.microsoft.com/en-us/library/ms171690.aspx&quot;&nbsp;style=&quot;font-size:&nbsp;12pt;&nbsp;&quot;&gt;http://msdn.microsoft.com/en-us/library/ms171690.aspx&lt;/a&gt;&nbsp;says&nbsp;that,&nbsp;when&nbsp;the&nbsp;panel's&nbsp;AutoSize&nbsp;property&nbsp;is&nbsp;set&nbsp;to&nbsp;true,&nbsp;that&nbsp;Percent-style&nbsp;columns&nbsp;get&nbsp;treated&nbsp;like&nbsp;AutoSize-style&nbsp;columns&nbsp;with&nbsp;regard&nbsp;to&nbsp;the&nbsp;widest&nbsp;child&nbsp;control&nbsp;in&nbsp;the&nbsp;column.&nbsp;&nbsp;Mono&nbsp;doesn't&nbsp;do&nbsp;that.&nbsp;&nbsp;Line&nbsp;284&nbsp;would&nbsp;have&nbsp;to&nbsp;gain&nbsp;&quot;||&nbsp;(panel.AutoSize&nbsp;&amp;&amp;&nbsp;cs.SizeType&nbsp;==&nbsp;SizeType.Percent)&quot;&nbsp;inside&nbsp;the&nbsp;conditional,&nbsp;and&nbsp;the&nbsp;code&nbsp;around&nbsp;line&nbsp;335&nbsp;would&nbsp;have&nbsp;to&nbsp;gain&nbsp;logic&nbsp;that&nbsp;only&nbsp;added&nbsp;to&nbsp;the&nbsp;column&nbsp;width&nbsp;if&nbsp;the&nbsp;percentage-based&nbsp;calculation&nbsp;indicated&nbsp;that&nbsp;it&nbsp;needed&nbsp;to&nbsp;be&nbsp;wider.&nbsp;&nbsp;Does&nbsp;that&nbsp;sound&nbsp;right?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2)&nbsp;Line&nbsp;344&nbsp;takes&nbsp;any&nbsp;remaining&nbsp;undistributed&nbsp;width,&nbsp;and&nbsp;just&nbsp;stuffs&nbsp;it&nbsp;in&nbsp;the&nbsp;last&nbsp;column.&nbsp;&nbsp;That&nbsp;would&nbsp;seem&nbsp;to&nbsp;be&nbsp;broken,&nbsp;if&nbsp;the&nbsp;last&nbsp;column's&nbsp;style&nbsp;is&nbsp;SizeType.Absolute&nbsp;.&nbsp;&nbsp;Why&nbsp;is&nbsp;it&nbsp;done&nbsp;this<br>
&nbsp;way?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3)&nbsp;The&nbsp;code&nbsp;from&nbsp;lines&nbsp;129-133&nbsp;seem&nbsp;to&nbsp;be&nbsp;broken&nbsp;--&nbsp;they&nbsp;extend&nbsp;dummy&nbsp;controls&nbsp;along&nbsp;the&nbsp;top&nbsp;edge&nbsp;of&nbsp;a&nbsp;column-spanning&nbsp;control,&nbsp;and&nbsp;along&nbsp;the&nbsp;left&nbsp;edge&nbsp;of&nbsp;a&nbsp;row-spanning&nbsp;control,&nbsp;but&nbsp;not&nbsp;in&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;control's&nbsp;extent,&nbsp;i.e.&nbsp;it&nbsp;should&nbsp;be&nbsp;filling&nbsp;in&nbsp;a&nbsp;rectangular&nbsp;region&nbsp;with&nbsp;dummy&nbsp;controls.&nbsp;&nbsp;Am&nbsp;I&nbsp;right?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Source-code&nbsp;comments&nbsp;would&nbsp;have&nbsp;been&nbsp;really&nbsp;helpful&nbsp;when&nbsp;inferring&nbsp;the&nbsp;intent&nbsp;of&nbsp;this&nbsp;code.&nbsp;;-)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I've&nbsp;been&nbsp;pondering&nbsp;solutions&nbsp;for&nbsp;the&nbsp;problem&nbsp;I&nbsp;ran&nbsp;into,&nbsp;so&nbsp;that&nbsp;Mono's&nbsp;behavior&nbsp;matches&nbsp;.NET's.&nbsp;&nbsp;I&nbsp;think&nbsp;I&nbsp;can&nbsp;avoid&nbsp;any&nbsp;sort&nbsp;of&nbsp;backtracking/retrying&nbsp;solution,&nbsp;since&nbsp;I&nbsp;highly&nbsp;doubt&nbsp;.NET&nbsp;does&nbsp;anything&nbsp;that&nbsp;complex.&nbsp;&nbsp;Rather,&nbsp;I'm&nbsp;thinking&nbsp;of&nbsp;an&nbsp;extension&nbsp;to&nbsp;the&nbsp;current&nbsp;solution,&nbsp;one&nbsp;that&nbsp;simply&nbsp;proceeds&nbsp;from&nbsp;left&nbsp;to&nbsp;right.&nbsp;&nbsp;But&nbsp;in&nbsp;the&nbsp;block&nbsp;of&nbsp;code&nbsp;at&nbsp;lines&nbsp;281-313,&nbsp;I&nbsp;would&nbsp;have&nbsp;N&nbsp;passes,&nbsp;where&nbsp;N&nbsp;is&nbsp;the&nbsp;highest&nbsp;column-span&nbsp;value&nbsp;of&nbsp;any&nbsp;contained&nbsp;control.<br>
&nbsp;&nbsp;The&nbsp;first&nbsp;pass&nbsp;would&nbsp;deal&nbsp;only&nbsp;with&nbsp;1-column&nbsp;controls,&nbsp;the&nbsp;second&nbsp;pass&nbsp;only&nbsp;with&nbsp;2-column&nbsp;controls,&nbsp;and&nbsp;so&nbsp;on&nbsp;&nbsp;In&nbsp;each&nbsp;column,&nbsp;it&nbsp;would&nbsp;look&nbsp;at&nbsp;controls&nbsp;that&nbsp;end&nbsp;in&nbsp;that&nbsp;column,&nbsp;and&nbsp;increase&nbsp;the&nbsp;width&nbsp;of&nbsp;that&nbsp;column,&nbsp;taking&nbsp;into&nbsp;account&nbsp;the&nbsp;width&nbsp;of&nbsp;the&nbsp;other&nbsp;columns&nbsp;spanned&nbsp;by&nbsp;the&nbsp;controls&nbsp;that&nbsp;end&nbsp;in&nbsp;that&nbsp;column,&nbsp;but&nbsp;not&nbsp;modifying&nbsp;the&nbsp;width&nbsp;of&nbsp;those&nbsp;previous&nbsp;columns.&nbsp;&nbsp;How&nbsp;does&nbsp;that&nbsp;sound?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Steven&nbsp;Boswell&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
