Index: AssemblyInfo.cs
===================================================================
--- AssemblyInfo.cs	(revision 0)
+++ AssemblyInfo.cs	(revision 0)
@@ -0,0 +1,15 @@
+using System;
+using System.Reflection;
+using System.Runtime.InteropServices;
+using System.Security.Permissions;
+
+[assembly: AssemblyVersion ("0.1")]
+
+[assembly: AssemblyTitle("Mono.Debugger.Support.dll")]
+[assembly: AssemblyDescription("Runtime debugger support")]
+
+[assembly: CLSCompliant (true)]
+[assembly: ComVisible (false)]
+
+[assembly: AssemblyDelaySign (true)]
+[assembly: AssemblyKeyFile ("../mono.pub")]
Index: TargetAddress.cs
===================================================================
--- TargetAddress.cs	(revision 0)
+++ TargetAddress.cs	(revision 0)
@@ -0,0 +1,17 @@
+using System;
+using System.Runtime.InteropServices;
+
+namespace Mono.Runtime.DebuggerSupport
+{
+	public struct TargetAddress
+	{
+		public readonly IntPtr Address;
+
+		public static TargetAddress Null = new TargetAddress (IntPtr.Zero);
+
+		public TargetAddress (IntPtr address)
+		{
+			this.Address = address;
+		}
+	}
+}
Index: DebuggerSupport.cs
===================================================================
--- DebuggerSupport.cs	(revision 0)
+++ DebuggerSupport.cs	(revision 0)
@@ -0,0 +1,34 @@
+using System;
+using System.Runtime.InteropServices;
+
+namespace Mono.Runtime.DebuggerSupport
+{
+	public delegate bool ReadMemoryFunc (IntPtr address, int size, IntPtr buffer);
+
+	public class DebuggerSupport
+	{
+		[DllImport("mono-dbg")]
+		static extern IntPtr mono_dbg_target_new ();
+
+		[DllImport("mono-dbg")]
+		static extern void mono_dbg_target_new (IntPtr handle);
+
+		[DllImport("mono-dbg")]
+		static extern IntPtr mono_debugger_support_mono_class_get_image (ReadMemoryFunc func, IntPtr klass);
+
+		IntPtr handle;
+
+		public DebuggerSupport ()
+		{
+			handle = mono_dbg_target_new ();
+		}
+
+		public TargetAddress MonoClassGetMonoImage (ITargetMemoryAccess memory,
+							    TargetAddress klass)
+		{
+			IntPtr image = mono_debugger_support_mono_class_get_image (
+				memory.ReadMemory, klass.Address);
+			return new TargetAddress (image);
+		}
+	}
+}
Index: Mono.Runtime.DebuggerSupport.dll.sources
===================================================================
--- Mono.Runtime.DebuggerSupport.dll.sources	(revision 0)
+++ Mono.Runtime.DebuggerSupport.dll.sources	(revision 0)
@@ -0,0 +1,4 @@
+DebuggerSupport.cs
+ITargetMemoryAccess.cs
+TargetAddress.cs
+AssemblyInfo.cs
Index: Makefile
===================================================================
--- Makefile	(revision 0)
+++ Makefile	(revision 0)
@@ -0,0 +1,9 @@
+thisdir = class/Mono.Runtime.DebuggerSupport
+SUBDIRS = 
+include ../../build/rules.make
+
+LIBRARY = Mono.Runtime.DebuggerSupport.dll
+LIB_MCS_FLAGS = /unsafe /r:$(corlib) /r:System.dll /nowarn:0618
+TEST_MCS_FLAGS = /r:Mono.Runtime.DebuggerSupport.dll /r:System.dll /nowarn:0219,0618
+
+include ../../build/library.make
Index: ITargetMemoryAccess.cs
===================================================================
--- ITargetMemoryAccess.cs	(revision 0)
+++ ITargetMemoryAccess.cs	(revision 0)
@@ -0,0 +1,10 @@
+using System;
+using System.Runtime.InteropServices;
+
+namespace Mono.Runtime.DebuggerSupport
+{
+	public interface ITargetMemoryAccess
+	{
+		bool ReadMemory (IntPtr address, int size, IntPtr buffer);
+	}
+}
