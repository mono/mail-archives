<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&gt;&lt;span&gt;Well,&nbsp;since&nbsp;Rodrigo&nbsp;said&nbsp;something&nbsp;crazy&nbsp;-&nbsp;like&nbsp;implementing&nbsp;an&nbsp;PE&nbsp;loader&nbsp;on&nbsp;Linux.&amp;nbsp;&nbsp;&lt;br&gt;What&nbsp;about&nbsp;the&nbsp;opposite&nbsp;(and&nbsp;even&nbsp;more&nbsp;crazy)&nbsp;-&nbsp;modify&nbsp;Mono/Mcs&nbsp;to&nbsp;create&nbsp;an&nbsp;ELF&nbsp;executable&nbsp;or&nbsp;library.&amp;nbsp;&nbsp;Of&amp;nbsp;&nbsp;course,&nbsp;you&nbsp;would&nbsp;have&nbsp;to&nbsp;modify&nbsp;Mono&nbsp;to&nbsp;load&nbsp;the&nbsp;ELF&nbsp;executable&nbsp;or&nbsp;library&nbsp;too.&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;For&nbsp;me&nbsp;to&nbsp;use&nbsp;C++&nbsp;in&nbsp;my&nbsp;legacy&nbsp;apps,&nbsp;I&nbsp;had&nbsp;to&nbsp;create&nbsp;a&nbsp;library&nbsp;to&nbsp;wrap&nbsp;the&nbsp;C++&nbsp;functionality,&nbsp;but&nbsp;export&nbsp;my&nbsp;functions&nbsp;as&nbsp;extern&nbsp;&quot;C&quot;&nbsp;so&nbsp;I&nbsp;could&nbsp;platform&nbsp;invoke&nbsp;them&nbsp;from&nbsp;C#.&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;font&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;2&quot;&gt;&lt;hr&nbsp;size=&quot;1&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&nbsp;Alex&nbsp;Corrado<br>
&nbsp;&amp;lt;alexander.corrado@gmail.com&amp;gt;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;Rodrigo&nbsp;Kumpera&nbsp;&amp;lt;kumpera@gmail.com&amp;gt;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Cc:&lt;/span&gt;&lt;/b&gt;&nbsp;mono-devel-list@lists.ximian.com&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Thursday,&nbsp;July&nbsp;7,&nbsp;2011&nbsp;5:44&nbsp;PM&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;Re:&nbsp;[Mono-dev]&nbsp;Mixed&nbsp;Mode&nbsp;Assemblies&lt;br&gt;&lt;/font&gt;&lt;br&gt;On&nbsp;Thu,&nbsp;Jul&nbsp;7,&nbsp;2011&nbsp;at&nbsp;5:32&nbsp;PM,&nbsp;Rodrigo&nbsp;Kumpera&nbsp;&amp;lt;&lt;a&nbsp;ymailto=&quot;mailto:kumpera@gmail.com&quot;&nbsp;href=&quot;mailto:kumpera@gmail.com&quot;&gt;kumpera@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;On&nbsp;Thu,&nbsp;Jul&nbsp;7,&nbsp;2011&nbsp;at&nbsp;5:34&nbsp;PM,&nbsp;Jonathan&nbsp;Pryor&nbsp;&amp;lt;&lt;a&nbsp;ymailto=&quot;mailto:jonpryor@vt.edu&quot;&nbsp;href=&quot;mailto:jonpryor@vt.edu&quot;&gt;jonpryor@vt.edu&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&amp;gt;&amp;gt;&nbsp;But&nbsp;try&nbsp;using&nbsp;dlopen(3)&nbsp;on&nbsp;Linux&nbsp;to&nbsp;load&nbsp;an&nbsp;assembly,&nbsp;and&nbsp;dlopen(3)&nbsp;will&lt;br&gt;&amp;gt;&amp;gt;&nbsp;(rightfully)&nbsp;fail&nbsp;--&nbsp;Linux&nbsp;wants&nbsp;ELF,&nbsp;not&nbsp;PE.&nbsp;There's&nbsp;a&nbsp;rather&nbsp;fundamental&lt;br&gt;&amp;gt;&amp;gt;&nbsp;file&nbsp;format&nbsp;difference&nbsp;here.&lt;br&gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;<br>
&nbsp;Well,&nbsp;the&nbsp;fix&nbsp;here&nbsp;is&nbsp;quite&nbsp;straight&nbsp;forward&nbsp;-&nbsp;just&nbsp;implement&nbsp;a&nbsp;PE/COFF&lt;br&gt;&amp;gt;&nbsp;loader&nbsp;for&nbsp;non&nbsp;windows&nbsp;platforms.&lt;br&gt;&lt;br&gt;Already&nbsp;been&nbsp;done:&nbsp;winehq.org.&nbsp;IMHO&nbsp;not&nbsp;the&nbsp;most&nbsp;elegant&nbsp;of&nbsp;solutions,&lt;br&gt;though&nbsp;I&nbsp;am&nbsp;a&nbsp;bit&nbsp;biased&nbsp;toward&nbsp;the&nbsp;mono&nbsp;C++&nbsp;interop&nbsp;(Cxxi)&nbsp;that&lt;br&gt;Jonathan&nbsp;mentioned&nbsp;:)&lt;br&gt;_______________________________________________&lt;br&gt;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;ymailto=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
