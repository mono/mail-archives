Index: mono/mono/metadata/ChangeLog
===================================================================
--- mono/mono/metadata/ChangeLog	(revision 103274)
+++ mono/mono/metadata/ChangeLog	(working copy)
@@ -1,3 +1,10 @@
+2008-05-15  Jonathan Chambers  <joncham@gmail.com>
+
+	* metadata.c (emit_marshal_string): Free return strings using mono_marshal_free
+	instead of g_free.
+
+	Code is contributed under MIT/X11 license.
+
 2008-05-14 Rodrigo Kumpera  <rkumpera@novell.com>
 
 	* class.c: Revert unrelated change.
Index: mono/mono/metadata/marshal.c
===================================================================
--- mono/mono/metadata/marshal.c	(revision 103274)
+++ mono/mono/metadata/marshal.c	(working copy)
@@ -6230,7 +6230,7 @@
 		if (conv == MONO_MARSHAL_CONV_BSTR_STR)
 			mono_mb_emit_icall (mb, mono_free_bstr);
 		else
-			mono_mb_emit_icall (mb, g_free);
+			mono_mb_emit_icall (mb, mono_marshal_free);
 		break;
 
 	case MARSHAL_ACTION_MANAGED_CONV_IN: