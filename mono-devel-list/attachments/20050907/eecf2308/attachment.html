<tt>
Hmmm...&nbsp;Will&nbsp;the&nbsp;changes&nbsp;in&nbsp;daylight&nbsp;saving&nbsp;time&nbsp;for&nbsp;2007+<br>
(&lt;a&nbsp;href=&quot;http://aa.usno.navy.mil/faq/docs/daylight_time.html&quot;&gt;http://aa.usno.navy.mil/faq/docs/daylight_time.html&lt;/a&gt;)&nbsp;have&nbsp;any&nbsp;affect<br>
on&nbsp;this?&lt;br&gt;<br>
&lt;br&gt;<br>
...&nbsp;HH&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;9/7/05,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Atsushi&nbsp;Eno&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:atsushi@ximian.com&quot;&gt;atsushi@ximian.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi,&lt;br&gt;&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;Test&nbsp;case:&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://bugzilla.ximian.com/show_bug.cgi?id=75985&quot;&gt;http://bugzilla.ximian.com/show_bug.cgi?id=75985&lt;/a&gt;&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;think&nbsp;the&nbsp;problem&nbsp;here&nbsp;is&nbsp;that&nbsp;the&nbsp;internal&nbsp;DateTime(bool,long)<br>
&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;constructor&nbsp;calls&nbsp;tz.GetUtcOffset(this)&nbsp;with&nbsp;the&nbsp;UTC&nbsp;time&nbsp;to&nbsp;get&nbsp;the&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;timezone&nbsp;offset&nbsp;before&nbsp;applying&nbsp;it&nbsp;to&nbsp;get&nbsp;local&nbsp;time,&nbsp;but&nbsp;that&nbsp;function&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;expects&nbsp;a&nbsp;local&nbsp;time&nbsp;to&nbsp;determine&nbsp;if&nbsp;DST&nbsp;is&nbsp;active.&nbsp;A&nbsp;bit&nbsp;of&nbsp;a<br>
&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;chicken-and-egg&nbsp;problem,&nbsp;perhaps...&nbsp;;)&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;Agreed.&nbsp;But&nbsp;it&nbsp;seems&nbsp;possible&nbsp;to&nbsp;avoid&nbsp;that&nbsp;problem.&nbsp;Can&nbsp;you&nbsp;please&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;try&nbsp;attached&nbsp;patch?&nbsp;I&nbsp;don't&nbsp;have&nbsp;sane&nbsp;Unix&nbsp;environment&nbsp;and&nbsp;I'm<br>
&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;not&nbsp;in&nbsp;such&nbsp;region&nbsp;that&nbsp;has&nbsp;summer&nbsp;time&nbsp;;-)&nbsp;It&nbsp;would&nbsp;be&nbsp;even&nbsp;nicer&lt;br&gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;if&nbsp;you&nbsp;try&nbsp;the&nbsp;entire&nbsp;corlib&nbsp;Nunit&nbsp;tests&nbsp;as&nbsp;well.&lt;br&gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;gt;&nbsp;Cool,&nbsp;that's&nbsp;definitely&nbsp;closer!&nbsp;Unfortunately&nbsp;it's&nbsp;still&nbsp;a&nbsp;bit&nbsp;off;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;during&nbsp;the&nbsp;doubled&nbsp;hour&nbsp;in&nbsp;the&nbsp;DST&nbsp;transition&nbsp;it's&nbsp;an&nbsp;hour&nbsp;off&nbsp;in&nbsp;the&lt;br&gt;&amp;gt;&amp;gt;&nbsp;wrong&nbsp;direction.&nbsp;Using&nbsp;output&nbsp;from&nbsp;my&nbsp;test&nbsp;proggy&nbsp;on&nbsp;that&nbsp;bug:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Okk,&nbsp;based&nbsp;on&nbsp;your&nbsp;help,&nbsp;I&nbsp;found&nbsp;some&nbsp;things.&nbsp;The&nbsp;most&nbsp;important&nbsp;one<br>
&lt;br&gt;&amp;gt;&nbsp;is&nbsp;that&nbsp;there&nbsp;are&nbsp;different&nbsp;basis&nbsp;of&nbsp;TimeZone:&nbsp;UTC&nbsp;and&nbsp;local&nbsp;time&lt;br&gt;&amp;gt;&nbsp;(there&nbsp;might&nbsp;be&nbsp;other&nbsp;patterns).&nbsp;now&nbsp;I&nbsp;think&nbsp;we&nbsp;need&nbsp;our&nbsp;own&lt;br&gt;&amp;gt;&nbsp;TimeZone&nbsp;data&nbsp;store,&nbsp;that&nbsp;would&nbsp;store&nbsp;timezone&nbsp;names&nbsp;as&nbsp;well.&lt;br&gt;&amp;gt;<br>
&lt;br&gt;&amp;gt;&nbsp;At&nbsp;least&nbsp;DateTime.ToLocalTime()&nbsp;will&nbsp;be&nbsp;rewritten&nbsp;just&nbsp;to&nbsp;invoke&lt;br&gt;&amp;gt;&nbsp;TimeZone.CurrentTimeZone.ToLocalTime(this).&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;So,&nbsp;I'll&nbsp;revisit&nbsp;here&nbsp;later.&nbsp;Thanks&nbsp;for&nbsp;all&nbsp;your&nbsp;help,&nbsp;Brion&nbsp;:-)&lt;br&gt;&lt;br&gt;After&nbsp;some&nbsp;attempt&nbsp;(I&nbsp;think)&nbsp;I&nbsp;could&nbsp;fix&nbsp;<br>
TimeZone.ToLocalTime()&nbsp;for&lt;br&gt;PST/PDT&nbsp;(the&nbsp;attached&nbsp;patch&nbsp;is&nbsp;for&nbsp;bug&nbsp;#75985).&nbsp;However,&nbsp;I&nbsp;have&nbsp;no&lt;br&gt;better&nbsp;idea&nbsp;than&nbsp;that&nbsp;it&nbsp;just&nbsp;fixes&nbsp;offsets&nbsp;in&nbsp;that&nbsp;timezone,&nbsp;as&lt;br&gt;I&nbsp;mentioned&nbsp;my&nbsp;concern&nbsp;about&nbsp;the&nbsp;basis&nbsp;difference&nbsp;(UTC&nbsp;or&nbsp;localtime).<br>
&lt;br&gt;&lt;br&gt;So&nbsp;I&nbsp;will&nbsp;have&nbsp;to&nbsp;dig&nbsp;into&nbsp;POSIX&nbsp;timezone&nbsp;design&nbsp;in&nbsp;depth.&lt;br&gt;And&nbsp;apart&nbsp;from&nbsp;the&nbsp;matter&nbsp;above,&nbsp;I&nbsp;will&nbsp;still&nbsp;have&nbsp;to&nbsp;extend&nbsp;our&lt;br&gt;locale-builder&nbsp;to&nbsp;support&nbsp;TimeZone&nbsp;name.&lt;br&gt;&lt;br&gt;Atsushi&nbsp;Eno&lt;br&gt;&lt;br&gt;&lt;br&gt;Index:&nbsp;System/TimeZone.cs<br>
&lt;br&gt;===================================================================&lt;br&gt;---&nbsp;System/TimeZone.cs&amp;nbsp;&amp;nbsp;(revision&nbsp;49638)&lt;br&gt;+++&nbsp;System/TimeZone.cs&amp;nbsp;&amp;nbsp;(working&nbsp;copy)&lt;br&gt;@@&nbsp;-108,27&nbsp;+108,33&nbsp;@@&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public<br>
virtual&nbsp;DateTime&nbsp;ToLocalTime&nbsp;(DateTime&nbsp;time)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br&gt;-//&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
return&nbsp;time&nbsp;+&nbsp;GetUtcOffset&nbsp;(time);&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
TimeSpan&nbsp;offset&nbsp;=&nbsp;GetUtcOffset&nbsp;(time);&lt;br&gt;-&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
if&nbsp;(offset.Ticks&nbsp;&amp;gt;&nbsp;0)&nbsp;{&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
if&nbsp;(DateTime.MaxValue&nbsp;-&nbsp;offset&nbsp;&amp;lt;&nbsp;time)&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
DaylightTime&nbsp;dlt&nbsp;=&nbsp;GetDaylightChanges&nbsp;(time.Year);&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
TimeSpan&nbsp;utcOffset&nbsp;=&nbsp;GetUtcOffset&nbsp;(time);&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
if&nbsp;(utcOffset.Ticks&nbsp;&amp;gt;&nbsp;0)&nbsp;{&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
if&nbsp;(DateTime.MaxValue&nbsp;-&nbsp;utcOffset&nbsp;&amp;lt;&nbsp;time)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return<br>
DateTime.MaxValue;&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
}&nbsp;else&nbsp;if&nbsp;(offset.Ticks&nbsp;&amp;lt;&nbsp;0)&nbsp;{&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
//&nbsp;&lt;a&nbsp;href=&quot;http://MS.NET&quot;&gt;MS.NET&lt;/a&gt;&nbsp;fails&nbsp;to&nbsp;check&nbsp;validity&nbsp;here&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
//&nbsp;-&nbsp;it&nbsp;may&nbsp;throw&nbsp;ArgumentOutOfRangeException&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
/*&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
if&nbsp;(DateTime.MinValue&nbsp;-&nbsp;offset&nbsp;&amp;gt;&nbsp;this)&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
return&nbsp;DateTime.MinValue;&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
*/&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
//}&nbsp;else&nbsp;if&nbsp;(utcOffset.Ticks&nbsp;&amp;lt;&nbsp;0)&nbsp;{&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
//&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LAMESPEC:&nbsp;&lt;a&nbsp;href=&quot;http://MS.NET&quot;&gt;MS.NET&lt;/a&gt;&nbsp;fails&nbsp;to&nbsp;check<br>
validity&nbsp;here&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
//&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;it&nbsp;may&nbsp;throw<br>
ArgumentOutOfRangeException.&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br&gt;-&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
DateTime&nbsp;lt&nbsp;=&nbsp;new&nbsp;DateTime&nbsp;(time.Ticks&nbsp;+&nbsp;offset.Ticks);&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
TimeSpan&nbsp;ltoffset&nbsp;=&nbsp;GetUtcOffset&nbsp;(lt);&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
if&nbsp;(ltoffset&nbsp;!=&nbsp;offset)&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
lt&nbsp;=&nbsp;lt.Add&nbsp;(ltoffset.Subtract&nbsp;(offset));&lt;br&gt;&lt;br&gt;-&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
return&nbsp;lt;&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
DateTime&nbsp;local&nbsp;=&nbsp;time.Add&nbsp;(utcOffset);&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
if&nbsp;(dlt.Delta.Ticks&nbsp;==&nbsp;0)&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
return&nbsp;local;&lt;br&gt;+&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
//&nbsp;FIXME:&nbsp;check&nbsp;all&nbsp;of&nbsp;the&nbsp;combination&nbsp;of&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
//&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&nbsp;basis:&nbsp;local-based&nbsp;or&nbsp;UTC-based&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
//&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&nbsp;hemisphere:&nbsp;Northern&nbsp;or&nbsp;Southern&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
//&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&nbsp;offset:&nbsp;positive&nbsp;or&nbsp;negative&lt;br&gt;+&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
//&nbsp;PST&nbsp;should&nbsp;work&nbsp;fine&nbsp;here.&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
if&nbsp;(local&nbsp;&amp;lt;&nbsp;dlt.End&nbsp;&amp;amp;&amp;amp;&nbsp;dlt.End.Subtract&nbsp;(dlt.Delta)&nbsp;&amp;lt;=<br>
local)&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
return&nbsp;local;&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
if&nbsp;(local&nbsp;&amp;gt;=&nbsp;dlt.Start&nbsp;&amp;amp;&amp;amp;&nbsp;dlt.Start.Add&nbsp;(dlt.Delta)&nbsp;&amp;gt;<br>
local)&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
return&nbsp;local.Subtract&nbsp;(dlt.Delta);&lt;br&gt;+&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
TimeSpan&nbsp;localOffset&nbsp;=&nbsp;GetUtcOffset&nbsp;(local);&lt;br&gt;+&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
return&nbsp;time.Add&nbsp;(localOffset);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public<br>
virtual&nbsp;DateTime&nbsp;ToUniversalTime&nbsp;(DateTime&nbsp;time)&lt;br&gt;&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com<br>
&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;====================================================<br>
&lt;br&gt;Robbie&nbsp;the&nbsp;Nanobot&nbsp;says:&lt;br&gt;&amp;quot;Only&nbsp;YOU&nbsp;can&nbsp;prevent&nbsp;gray&nbsp;goo&lt;br&gt;(NEVER&nbsp;release&nbsp;nanobot&nbsp;assemblers&nbsp;without&nbsp;replication&nbsp;limiting&nbsp;code)&amp;quot;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lizardslounge.org&quot;&gt;http://lizardslounge.org&lt;/a&gt;&lt;br&gt;<br>

</tt>
