<tt>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;I&#39;d&nbsp;have&nbsp;to&nbsp;agree&nbsp;with&nbsp;Martin&nbsp;here. &nbsp;The&nbsp;output&nbsp;of&nbsp;2&nbsp;functions&nbsp;should&nbsp;surely&nbsp;match. &nbsp;The&nbsp;fact&nbsp;that&nbsp;the&nbsp;referencesource&nbsp;uses&nbsp;something&nbsp;that&nbsp;defaults&nbsp;to&nbsp;something&nbsp;different&nbsp;per&nbsp;platform&nbsp;should&nbsp;be&nbsp;irrelevant.&lt;/p&gt;<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;The&nbsp;only&nbsp;point&nbsp;to&nbsp;consider&nbsp;is,&nbsp;should&nbsp;the&nbsp;output&nbsp;of&nbsp;a&nbsp;method&nbsp;be&nbsp;able&nbsp;to&nbsp;differ&nbsp;per&nbsp;platform&nbsp;and&nbsp;still&nbsp;be&nbsp;valid. &nbsp;For&nbsp;this&nbsp;situation&nbsp;I&nbsp;imagine&nbsp;that&nbsp;the&nbsp;xaml&nbsp;that&nbsp;is&nbsp;being&nbsp;produced&nbsp;is&nbsp;invalid,&nbsp;and&nbsp;therefore&nbsp;the&nbsp;behaviour&nbsp;for&nbsp;the&nbsp;xaml&nbsp;writer&nbsp;is&nbsp;incorrect.&lt;/p&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;29&nbsp;Sep&nbsp;2015&nbsp;05:55,&nbsp;&quot;Atsushi&nbsp;Eno&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:atsushieno@veritas-vos-liberabit.com&quot;&gt;atsushieno@veritas-vos-liberabit.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&nbsp;type=&quot;attribution&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;You&nbsp;have&nbsp;no&nbsp;reason&nbsp;to&nbsp;be&nbsp;afraid&nbsp;of&nbsp;asking&nbsp;Microsoft&nbsp;to&nbsp;change&nbsp;the&lt;br&gt;<br>
behavior.&nbsp;I&nbsp;cannot&nbsp;find&nbsp;any&nbsp;justification&nbsp;to&nbsp;just&nbsp;ask&nbsp;Mono&nbsp;to&nbsp;change&lt;br&gt;<br>
things&nbsp;against&nbsp;Microsoft&nbsp;code&nbsp;behavior&nbsp;without&nbsp;asking&nbsp;Microsoft&nbsp;about&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
Atsushi&nbsp;Eno&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;2015年09月29日&nbsp;01:15,&nbsp;Martin&nbsp;Potter&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;wasn’t&nbsp;aware&nbsp;that&nbsp;the&nbsp;MSDN&nbsp;.NET&nbsp;documentation&nbsp;was&nbsp;viewed&nbsp;as&nbsp;being&lt;br&gt;<br>
&gt;&nbsp;platform&nbsp;specific&nbsp;documentation.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;how&nbsp;this&nbsp;is&nbsp;a&nbsp;Microsoft&nbsp;bug&nbsp;so&nbsp;much&nbsp;as&nbsp;an&nbsp;issue&nbsp;with&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;fact&nbsp;they&nbsp;did&nbsp;not&nbsp;consider&nbsp;it&nbsp;being&nbsp;run&nbsp;on&nbsp;other&nbsp;platforms.&nbsp;Given&nbsp;that&lt;br&gt;<br>
&gt;&nbsp;Mono&nbsp;is&nbsp;cross-platform,&nbsp;whereas&nbsp;Microsoft’s&nbsp;implementation&nbsp;is&nbsp;not,&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;Mono&nbsp;has&nbsp;made&nbsp;other&nbsp;changes&nbsp;to&nbsp;the&nbsp;reference&nbsp;source&nbsp;(which&nbsp;is&nbsp;very&nbsp;Windows&lt;br&gt;<br>
&gt;&nbsp;specific)&nbsp;to&nbsp;provide&nbsp;consistency&nbsp;across&nbsp;platforms&nbsp;it&nbsp;is&nbsp;unclear&nbsp;as&nbsp;to&nbsp;why&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;previous&nbsp;behavior&nbsp;of&nbsp;using&nbsp;\r\n&nbsp;(prior&nbsp;to&nbsp;the&nbsp;switch&nbsp;to&nbsp;the&nbsp;reference&lt;br&gt;<br>
&gt;&nbsp;source)&nbsp;is&nbsp;incorrect.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;―&nbsp;Martin&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;9/28/15,&nbsp;9:58&nbsp;AM,&nbsp;&quot;Atsushi&nbsp;Eno&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:atsushieno@veritas-vos-liberabit.com&quot;&gt;atsushieno@veritas-vos-liberabit.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;MSDN&nbsp;documentation&nbsp;describes&nbsp;the&nbsp;behavior&nbsp;how&nbsp;.NET&nbsp;Framework&nbsp;works&nbsp;on&lt;br&gt;<br>
&gt;&gt;&nbsp;Windows,&nbsp;hence&nbsp;it&nbsp;says&nbsp;\r\n.&nbsp;As&nbsp;the&nbsp;referencesource&nbsp;is&nbsp;explicitly&lt;br&gt;<br>
&gt;&gt;&nbsp;implemented,&nbsp;it&nbsp;is&nbsp;NOT&nbsp;the&nbsp;case&nbsp;on&nbsp;non-Windows&nbsp;platform.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;If&nbsp;you&nbsp;are&nbsp;unhappy&nbsp;about&nbsp;Microsoft&nbsp;behavior,&nbsp;you&nbsp;should&nbsp;file&nbsp;a&nbsp;bug&nbsp;to&lt;br&gt;<br>
&gt;&gt;&nbsp;Microsoft.&nbsp;referencesource&nbsp;is&nbsp;not&nbsp;for&nbsp;reporting&nbsp;issues&nbsp;though&nbsp;(as&nbsp;its&lt;br&gt;<br>
&gt;&gt;&nbsp;README&nbsp;explicitly&nbsp;says&nbsp;so).&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Atsushi&nbsp;Eno&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;On&nbsp;2015年09月28日&nbsp;23:15,&nbsp;Martin&nbsp;Potter&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;The&nbsp;default&nbsp;for&nbsp;XamlWriterSettings&nbsp;NewLineChars&nbsp;was&nbsp;changed&nbsp;from&nbsp;&quot;\r\n&quot;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;to&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&quot;\n&quot;&nbsp;when&nbsp;you&nbsp;imported&nbsp;the&nbsp;reference&nbsp;source&nbsp;and&nbsp;is&nbsp;what&nbsp;is&nbsp;present&nbsp;on&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;the&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;4.2&nbsp;branch.&nbsp;This&nbsp;is&nbsp;not&nbsp;what&nbsp;the&nbsp;previous&nbsp;behavior&nbsp;was,&nbsp;nor&nbsp;what&nbsp;the&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;documentation&nbsp;on&nbsp;MSDN,&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;https://msdn.microsoft.com/en-us/library/system.xml.xmlwritersettings.new&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://msdn.microsoft.com/en-us/library/system.xml.xmlwritersettings.new&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;li&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;nechars(v=vs.110).aspx,&nbsp;states.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&quot;The&nbsp;character&nbsp;string&nbsp;to&nbsp;use&nbsp;for&nbsp;line&nbsp;breaks.&nbsp;This&nbsp;can&nbsp;be&nbsp;set&nbsp;to&nbsp;any&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;string&nbsp;value.&nbsp;However,&nbsp;to&nbsp;ensure&nbsp;valid&nbsp;XML,&nbsp;you&nbsp;should&nbsp;specify&nbsp;only&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;valid&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;white&nbsp;space&nbsp;characters,&nbsp;such&nbsp;as&nbsp;space&nbsp;characters,&nbsp;tabs,&nbsp;carriage&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;returns,&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;or&nbsp;line&nbsp;feeds.&nbsp;The&nbsp;default&nbsp;is&nbsp;\r\n&nbsp;(carriage&nbsp;return,&nbsp;new&nbsp;line).&quot;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;―&nbsp;Martin&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;On&nbsp;9/28/15,&nbsp;8:08&nbsp;AM,&nbsp;&quot;Atsushi&nbsp;Eno&quot;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:atsushieno@veritas-vos-liberabit.com&quot;&gt;atsushieno@veritas-vos-liberabit.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Current&nbsp;Microsoft-based&nbsp;implementation&nbsp;is&nbsp;the&nbsp;correct&nbsp;one&nbsp;and&nbsp;it&#39;s&nbsp;been&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;there&nbsp;in&nbsp;post-4.0&nbsp;versions.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Atsushi&nbsp;Eno&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;On&nbsp;2015年09月28日&nbsp;22:46,&nbsp;Martin&nbsp;Potter&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&nbsp;Atsushi,&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&nbsp;Were&nbsp;you&nbsp;(or&nbsp;someone&nbsp;else)&nbsp;going&nbsp;to&nbsp;get&nbsp;this&nbsp;fixed&nbsp;before&nbsp;4.2&nbsp;is&nbsp;ready&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&nbsp;to&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&nbsp;ship?&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&nbsp;Thank&nbsp;you,&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&nbsp;Martin&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&nbsp;On&nbsp;9/8/15,&nbsp;8:03&nbsp;PM,&nbsp;&quot;Atsushi&nbsp;Eno&quot;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:atsushieno@veritas-vos-liberabit.com&quot;&gt;atsushieno@veritas-vos-liberabit.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;I&nbsp;had&nbsp;no&nbsp;idea&nbsp;when&nbsp;that&nbsp;commit&nbsp;was&nbsp;made,&nbsp;but&nbsp;that&nbsp;change&nbsp;was&nbsp;wrong.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;Microsoft&nbsp;behavior&nbsp;is&nbsp;the&nbsp;one&nbsp;we&nbsp;should&nbsp;use&nbsp;in&nbsp;that&nbsp;case.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;Atsushi&nbsp;Eno&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;On&nbsp;2015年09月09日&nbsp;01:50,&nbsp;Martin&nbsp;Potter&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;Way&nbsp;back&nbsp;in&nbsp;2012,&nbsp;this&nbsp;commit&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;https://github.com/mono/mono/commit/9215ddf7ade5f0f0f54c2adb7b165e4e3&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/mono/mono/commit/9215ddf7ade5f0f0f54c2adb7b165e4e3&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;e7&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;74&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;33b&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;https://github.com/LogosBible/mono/commit/9215ddf7ade5f0f0f54c2adb7b&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/LogosBible/mono/commit/9215ddf7ade5f0f0f54c2adb7b&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;16&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;5e&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;4e3e77433b&gt;&nbsp;changed&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;the&nbsp;default&nbsp;newline&nbsp;in&nbsp;XmlWriterSettings&nbsp;to&nbsp;be&nbsp;&quot;\r\n”&nbsp;to&nbsp;be&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;compatible&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;with&nbsp;MS&nbsp;(which&nbsp;some&nbsp;of&nbsp;our&nbsp;tests&nbsp;rely&nbsp;on).&nbsp;It&nbsp;appears&nbsp;that&nbsp;when&nbsp;the&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;reference&nbsp;source&nbsp;was&nbsp;imported&nbsp;in&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;https://github.com/mono/mono/commit/4990b4c47b8fe1b219c64884fad98d586&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/mono/mono/commit/4990b4c47b8fe1b219c64884fad98d586&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;15&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;46&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;a05#diff-5561e6ab8de20ec168dcb1f7b415b353,&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;it&nbsp;was&nbsp;changed&nbsp;back&nbsp;to&nbsp;be&nbsp;platform&nbsp;specific.&nbsp;Was&nbsp;this&nbsp;an&nbsp;intentional&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;change?&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;Thank&nbsp;you,&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;Martin&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
