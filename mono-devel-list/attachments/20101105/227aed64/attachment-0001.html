<tt>
For&nbsp;Task&nbsp;and&nbsp;work-stealing&nbsp;schedulers&nbsp;we&nbsp;have&nbsp;System.Threading.Tasks&nbsp;already&nbsp;(albeit&nbsp;with&nbsp;no&nbsp;language&nbsp;support).&nbsp;Plus&nbsp;Cilk&nbsp;is&nbsp;released&nbsp;under&nbsp;GPL&nbsp;(afaict)&nbsp;which&nbsp;make&nbsp;it&nbsp;incompatible&nbsp;for&nbsp;us.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
<br>
Jérémie&nbsp;Laval&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:jeremie.laval@gmail.com&quot;&gt;jeremie.laval@gmail.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://neteril.org&quot;&gt;http://neteril.org&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Nov&nbsp;5,&nbsp;2010&nbsp;at&nbsp;10:38&nbsp;AM,&nbsp;Stifu&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:stifu@free.fr&quot;&gt;stifu@free.fr&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
&lt;br&gt;<br>
What&nbsp;I&nbsp;meant&nbsp;by&nbsp;&amp;quot;runtime&amp;quot;,&nbsp;is&nbsp;what&nbsp;you&nbsp;called&nbsp;&amp;quot;virtual&nbsp;machine&amp;quot;.&lt;br&gt;<br>
If&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;need&nbsp;to&nbsp;be&nbsp;changed,&nbsp;then&nbsp;yeah,&nbsp;.NET&nbsp;compatibility&nbsp;should&nbsp;not&lt;br&gt;<br>
be&nbsp;an&nbsp;issue.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;can&amp;#39;t&nbsp;help&nbsp;further,&nbsp;gotta&nbsp;see&nbsp;if&nbsp;the&nbsp;Mono&nbsp;team&nbsp;thinks&nbsp;this&nbsp;is&nbsp;both&lt;br&gt;<br>
desirable&nbsp;and&nbsp;doable.&nbsp;And&nbsp;whether&nbsp;they&amp;#39;d&nbsp;consider&nbsp;doing&nbsp;it&nbsp;themselves,&nbsp;or&nbsp;if&lt;br&gt;<br>
they&nbsp;will&nbsp;only&nbsp;include&nbsp;it&nbsp;if&nbsp;community&nbsp;members&nbsp;do&nbsp;it...&lt;br&gt;<br>
IMHO,&nbsp;though,&nbsp;implementing&nbsp;missing&nbsp;stuff&nbsp;(+&nbsp;fixing,&nbsp;optimizing&nbsp;stuff)&nbsp;that&lt;br&gt;<br>
.NET&nbsp;supports&nbsp;is&nbsp;more&nbsp;of&nbsp;a&nbsp;priority.&nbsp;I&nbsp;value&nbsp;stability&nbsp;and&nbsp;interoperability&lt;br&gt;<br>
more&nbsp;than&nbsp;extras.&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
kcleung&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;What&nbsp;do&nbsp;you&nbsp;mean&nbsp;for&nbsp;the&nbsp;&amp;quot;runtime&amp;quot;?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;In&nbsp;the&nbsp;cilk-5.4.6&nbsp;for&nbsp;C&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://supertech.csail.mit.edu/cilk/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://supertech.csail.mit.edu/cilk/&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;.cilk&nbsp;and&nbsp;.cilkh&nbsp;files&nbsp;is&nbsp;first&nbsp;compiled&nbsp;to&nbsp;vanilla&nbsp;.c&nbsp;and&nbsp;.h&nbsp;files&nbsp;by&lt;br&gt;<br>
&amp;gt;&nbsp;the&nbsp;cilk2c&nbsp;compiler.&nbsp; The&nbsp;generated&nbsp;.c&nbsp;and&nbsp;.h&nbsp;files&nbsp;includes&nbsp;headers&lt;br&gt;<br>
&amp;gt;&nbsp;of&nbsp;the&nbsp;runtime&nbsp;library&nbsp;(in&nbsp;C).&nbsp; These&nbsp;generated&nbsp;.c&nbsp;and&nbsp;.h&nbsp;files&nbsp;are&nbsp;in&lt;br&gt;<br>
&amp;gt;&nbsp;turn&nbsp;compiled&nbsp;by&nbsp;an&nbsp;ordinary&nbsp;C&nbsp;compiler&nbsp;such&nbsp;as&nbsp;gcc&nbsp;and&nbsp;linked&nbsp;to&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;runtime&nbsp;library.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;As&nbsp;discussed&nbsp;in&nbsp;my&nbsp;previous&nbsp;posts,&nbsp;Cilk&nbsp;can&nbsp;have&nbsp;similar&nbsp;arrangement&nbsp;in&lt;br&gt;<br>
&amp;gt;&nbsp;C#:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;extended&nbsp;language&nbsp;(C#&nbsp;plus&nbsp;spawn&nbsp;and&nbsp;sync)&nbsp;is&nbsp;parsed&nbsp;by&nbsp;dmcs,&nbsp;then&lt;br&gt;<br>
&amp;gt;&nbsp;the&nbsp;AST&nbsp;is&nbsp;expanded&nbsp;in-place&nbsp;within&nbsp;dmcs&nbsp;to&nbsp;conform&nbsp;to&nbsp;vanilla&nbsp;C#,&nbsp;and&lt;br&gt;<br>
&amp;gt;&nbsp;finally&nbsp;dmcs&nbsp;emits&nbsp;CIL&nbsp;that&nbsp;calls&nbsp;the&nbsp;runtime&nbsp;library&nbsp;that&nbsp;is&nbsp;written&lt;br&gt;<br>
&amp;gt;&nbsp;in&nbsp;vanilla&nbsp;C#&nbsp;and&nbsp;compiled&nbsp;into&nbsp;CIL.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Therefore&nbsp;compatibility&nbsp;with&nbsp;.NET&nbsp;should&nbsp;not&nbsp;be&nbsp;affected,&nbsp;because:&lt;br&gt;<br>
&amp;gt;&nbsp;-&nbsp;the&nbsp;virtual&nbsp;machine&nbsp;and&nbsp;the&nbsp;CIL&nbsp;language&nbsp;is&nbsp;not&nbsp;changed.&lt;br&gt;<br>
&amp;gt;&nbsp;-&nbsp;any&nbsp;valid&nbsp;C#&nbsp;programs&nbsp;are&nbsp;also&nbsp;valid&nbsp;in&nbsp;the&nbsp;extended&nbsp;language&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;So&nbsp;any&nbsp;program&nbsp;that&nbsp;can&nbsp;run&nbsp;on&nbsp;vanilla&nbsp;.NET&nbsp;should&nbsp;be&nbsp;run&nbsp;on&nbsp;mono.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Finally,&nbsp;we&nbsp;can&nbsp;make&nbsp;the&nbsp;Cilk&nbsp;support&nbsp;to&nbsp;be&nbsp;off&nbsp;by&nbsp;default,&nbsp;and&nbsp;can&nbsp;be&lt;br&gt;<br>
&amp;gt;&nbsp;turned&nbsp;on&nbsp;by&nbsp;supplying&nbsp;a&nbsp;flag&nbsp;to&nbsp;dmcs,&nbsp;such&nbsp;as&nbsp;&amp;quot;-fcilk&amp;quot;.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;In&nbsp;the&nbsp;default&nbsp;mode,&nbsp;cilk&nbsp;keywords&nbsp;are&nbsp;not&nbsp;allowed&nbsp;and&nbsp;code&nbsp;generated&lt;br&gt;<br>
&amp;gt;&nbsp;will&nbsp;*not*&nbsp;link&nbsp;to&nbsp;cilk&nbsp;runtime&nbsp;library&lt;br&gt;<br>
&amp;gt;&nbsp;if&nbsp;&amp;quot;-fcilk&amp;quot;&nbsp;is&nbsp;addedm&nbsp;then&nbsp;dmcs&nbsp;will&nbsp;enter&nbsp;the&nbsp;cilk&nbsp;mode&nbsp;and&nbsp;produce&lt;br&gt;<br>
&amp;gt;&nbsp;CIL&nbsp;that&nbsp;may&nbsp;call&nbsp;the&nbsp;cilk&nbsp;runtime&nbsp;library,&nbsp;and&nbsp;the&nbsp;resultant&nbsp;code&lt;br&gt;<br>
&amp;gt;&nbsp;would&nbsp;run&nbsp;natively&nbsp;in&nbsp;mono,&nbsp;or&nbsp;if&nbsp;run&nbsp;on&nbsp;native&nbsp;.NET,&nbsp;the&nbsp;cilk&nbsp;runtime&lt;br&gt;<br>
&amp;gt;&nbsp;library&nbsp;path&nbsp;must&nbsp;be&nbsp;made&nbsp;available&nbsp;to&nbsp;.NET&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Would&nbsp;this&nbsp;work?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Qichang&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;Fri,&nbsp;Nov&nbsp;5,&nbsp;2010&nbsp;at&nbsp;9:56&nbsp;PM,&nbsp;Stifu&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:stifu@free.fr&quot;&gt;stifu@free.fr&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Would&nbsp;this&nbsp;require&nbsp;a&nbsp;change&nbsp;in&nbsp;the&nbsp;runtime,&nbsp;or&nbsp;only&nbsp;in&nbsp;the&nbsp;compiler?&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;If&nbsp;the&nbsp;runtime&nbsp;needs&nbsp;to&nbsp;be&nbsp;updated,&nbsp;that&nbsp;would&nbsp;break&nbsp;compatibility&nbsp;with&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;.NET.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;I&nbsp;doubt&nbsp;this&nbsp;could&nbsp;work&nbsp;as&nbsp;an&nbsp;external&nbsp;library,&nbsp;right?&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;kcleung&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;surprised&nbsp;that&nbsp;the&nbsp;Cilk&nbsp;task-stealing&nbsp;mechanism,&nbsp;which&nbsp;is&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;algorithmically&nbsp;proven&nbsp;to&nbsp;be&nbsp;the&nbsp;most&nbsp;efficient,&nbsp;is&nbsp;not&nbsp;included&nbsp;in&nbsp;C#&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;5.0&nbsp;specification.&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;However&nbsp;would&nbsp;it&nbsp;be&nbsp;feasible&nbsp;for&nbsp;us&nbsp;to&nbsp;implement&nbsp;Cilk&nbsp;in&nbsp;dmcs&nbsp;for&nbsp;Mono&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;3.0?&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;The&nbsp;resultant&nbsp;language&nbsp;will&nbsp;have&nbsp;the&nbsp;new&nbsp;keywords&nbsp;&amp;quot;spawn&amp;quot;&nbsp;and&nbsp;&amp;quot;sync&amp;quot;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;(with&nbsp;support&nbsp;for&nbsp;atomic&nbsp;&amp;quot;+=&amp;quot;,&nbsp;&amp;quot;-=&amp;quot;&nbsp;operators&nbsp;on&nbsp;spawn&nbsp;results)&nbsp;and&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;inlets.&nbsp; The&nbsp;compiler&nbsp;should&nbsp;also&nbsp;forbid&nbsp;using&nbsp;results&nbsp;from&nbsp;spawn&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;before&nbsp;calling&nbsp;&amp;quot;sync&amp;quot;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;Beside&nbsp;performance&nbsp;advantages,&nbsp;the&nbsp;cilk&nbsp;model&nbsp;is&nbsp;really&nbsp;much&nbsp;simpler&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;than&nbsp;the&nbsp;async&nbsp;interface&nbsp;in&nbsp;C#&nbsp;5.0&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;Since&nbsp;Cilk&nbsp;(developed&nbsp;by&nbsp;MIT)&nbsp;is&nbsp;*not*&nbsp;patented,&nbsp;there&nbsp;should&nbsp;be&nbsp;no&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;legal&nbsp;obstacles&nbsp;preventing&nbsp;us&nbsp;from&nbsp;implementing&nbsp;the&nbsp;Cilk&nbsp;flow&nbsp;model&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;onto&nbsp;C#,&nbsp;or&nbsp;other&nbsp;mono&nbsp;/&nbsp;.NET&nbsp;languages.&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;What&nbsp;do&nbsp;you&nbsp;think?&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;Cheers,&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;Qichang&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;--&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/Cilk-for-Mono-tp3028260p3028313.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://mono.1490590.n4.nabble.com/Cilk-for-Mono-tp3028260p3028313.html&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;Dev&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/Cilk-for-Mono-tp3028260p3028453.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://mono.1490590.n4.nabble.com/Cilk-for-Mono-tp3028260p3028453.html&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;Dev&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
