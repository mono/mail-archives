<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;14px;&quot;&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;I&nbsp;changed&nbsp;the&nbsp;read_enum_value&nbsp;function&nbsp;to&nbsp;do&nbsp;the&nbsp;swaps&nbsp;and&nbsp;rebuilt.&nbsp;Now&nbsp;the&nbsp;Console.Error.WriteLine()&nbsp;in&nbsp;WindowsRuntimeProjection()&nbsp;produces:&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;&lt;span&nbsp;style=&quot;background-color:&nbsp;rgb(254,&nbsp;254,&nbsp;229);&nbsp;font-family:&nbsp;'Courier&nbsp;New';&quot;&gt;WindowsRuntimeProjection&nbsp;-&nbsp;System_Runtime&nbsp;System_Runtime_InteropServices_WindowsRuntime&nbsp;Count&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;Which&nbsp;is&nbsp;what&nbsp;is&nbsp;expected.&nbsp;However,&nbsp;Iâ€™m&nbsp;still&nbsp;crashing&nbsp;with&nbsp;NRE&nbsp;later&nbsp;in&nbsp;the&nbsp;build:&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;<br>
&lt;p&nbsp;style=&quot;margin:&nbsp;0px;&nbsp;font-family:&nbsp;'Courier&nbsp;New';&nbsp;background-color:&nbsp;rgb(254,&nbsp;254,&nbsp;229);&quot;&gt;<br>
Unhandled&nbsp;Exception:&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:&nbsp;0px;&nbsp;font-family:&nbsp;'Courier&nbsp;New';&nbsp;background-color:&nbsp;rgb(254,&nbsp;254,&nbsp;229);&quot;&gt;<br>
Mono.CSharp.InternalErrorException:&nbsp;Microsoft.Win32/RegistryKeyPermissionCheck.cs(31,21):&nbsp;Microsoft.Win32&nbsp;---&gt;&nbsp;Mono.CSharp.InternalErrorException:&nbsp;Microsoft.Win32/RegistryKeyPermissionCheck.cs(33,14):&nbsp;Microsoft.Win32.RegistryKeyPermissionCheck&nbsp;---&gt;&nbsp;System.TypeInitializationException:<br>
&nbsp;An&nbsp;exception&nbsp;was&nbsp;thrown&nbsp;by&nbsp;the&nbsp;type&nbsp;initializer&nbsp;for&nbsp;IKVM.Reflection.WindowsRuntimeProjection&nbsp;---&gt;&nbsp;System.NullReferenceException:&nbsp;Object&nbsp;reference&nbsp;not&nbsp;set&nbsp;to&nbsp;an&nbsp;instance&nbsp;of&nbsp;an&nbsp;object&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:&nbsp;0px;&nbsp;font-family:&nbsp;'Courier&nbsp;New';&nbsp;background-color:&nbsp;rgb(254,&nbsp;254,&nbsp;229);&quot;&gt;<br>
&nbsp;&nbsp;at&nbsp;IKVM.Reflection.TypeName.GetHashCode&nbsp;()&lt;0x2000800c398&nbsp;&#43;&nbsp;0x001bc&gt;&nbsp;in&nbsp;&lt;filename&nbsp;unknown&gt;:0&nbsp;&lt;/p&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;span&nbsp;id=&quot;OLK_SRC_BODY_SECTION&quot;&nbsp;style=&quot;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;<br>
&lt;div&nbsp;style=&quot;font-family:Calibri;&nbsp;font-size:11pt;&nbsp;text-align:left;&nbsp;color:black;&nbsp;BORDER-BOTTOM:&nbsp;medium&nbsp;none;&nbsp;BORDER-LEFT:&nbsp;medium&nbsp;none;&nbsp;PADDING-BOTTOM:&nbsp;0in;&nbsp;PADDING-LEFT:&nbsp;0in;&nbsp;PADDING-RIGHT:&nbsp;0in;&nbsp;BORDER-TOP:&nbsp;#b5c4df&nbsp;1pt&nbsp;solid;&nbsp;BORDER-RIGHT:&nbsp;medium&nbsp;none;&nbsp;PADDING-TOP:&nbsp;3pt&quot;&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Neale,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
ves_icall_System_Enum_GetEnumValuesAndNames.3229:&nbsp;0.&nbsp;field=System_Runtime&lt;br&gt;<br>
value=0&lt;br&gt;<br>
ves_icall_System_Enum_GetEnumValuesAndNames.3229:&nbsp;1.&lt;br&gt;<br>
field=System_Runtime_InteropServices_WindowsRuntime&nbsp;value=16777216&lt;br&gt;<br>
ves_icall_System_Enum_GetEnumValuesAndNames.3229:&nbsp;2.&lt;br&gt;<br>
field=System_ObjectModel&nbsp;value=33554432&lt;br&gt;<br>
ves_icall_System_Enum_GetEnumValuesAndNames.3229:&nbsp;3.&lt;br&gt;<br>
field=System_Runtime_WindowsRuntime&nbsp;value=50331648&lt;br&gt;<br>
ves_icall_System_Enum_GetEnumValuesAndNames.3229:&nbsp;4.&lt;br&gt;<br>
field=System_Runtime_WindowsRuntime_UI_Xaml&nbsp;value=67108864&lt;br&gt;<br>
ves_icall_System_Enum_GetEnumValuesAndNames.3229:&nbsp;5.&nbsp;field=Count&lt;br&gt;<br>
value=83886080&lt;br&gt;<br>
&lt;br&gt;<br>
Note&nbsp;16777216&nbsp;is&nbsp;hex&nbsp;10000000.&nbsp;Now&nbsp;to&nbsp;find&nbsp;out&nbsp;how&nbsp;that&nbsp;value&nbsp;gets&nbsp;placed&lt;br&gt;<br>
there&nbsp;and&nbsp;to&nbsp;do&nbsp;some&nbsp;byte&nbsp;swapping&nbsp;on&nbsp;it.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;You&nbsp;are&nbsp;probably&nbsp;looking&nbsp;for&nbsp;&lt;a&nbsp;href=&quot;https://github.com/mono/mono/blob/master/mono/metadata/icall.c#L2961&quot;&gt;https://github.com/mono/mono/blob/master/mono/metadata/icall.c#L2961&lt;/a&gt;.&nbsp;There&nbsp;has&nbsp;been&nbsp;no&nbsp;endian&nbsp;changes&nbsp;there&nbsp;for&nbsp;years&nbsp;but&nbsp;due&nbsp;to&nbsp;different<br>
&nbsp;codepath&nbsp;this&nbsp;is&nbsp;now&nbsp;hit&nbsp;more&nbsp;often&nbsp;before.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Marek&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
P.S.&nbsp;I&nbsp;am&nbsp;wondering&nbsp;if&nbsp;it&nbsp;would&nbsp;be&nbsp;worth&nbsp;it&nbsp;to&nbsp;create&nbsp;a&nbsp;routine&nbsp;or&nbsp;more&nbsp;in&lt;br&gt;<br>
icall.c&nbsp;to&nbsp;do&nbsp;the&nbsp;byte&nbsp;swap&nbsp;for&nbsp;2/4/8&nbsp;byte&nbsp;integers&nbsp;rather&nbsp;than&nbsp;coding&nbsp;up&lt;br&gt;<br>
clumsy&nbsp;stuff&nbsp;in&nbsp;managed&nbsp;code.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;3/10/15,&nbsp;3:01&nbsp;PM,&nbsp;&quot;Robert&nbsp;Jordan&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:robertj@gmx.net&quot;&gt;robertj@gmx.net&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;im&quot;&gt;&gt;There&nbsp;was&nbsp;a&nbsp;recent&nbsp;commit&nbsp;which&nbsp;added&nbsp;MS'&nbsp;reference&nbsp;source&nbsp;Enum&lt;br&gt;<br>
&gt;support&nbsp;to&nbsp;Mono:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;a&nbsp;href=&quot;https://github.com/mono/mono/commit/65dba595eaea2c871d1f72fbdc04f6440350af&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/mono/mono/commit/65dba595eaea2c871d1f72fbdc04f6440350af&lt;/a&gt;&lt;br&gt;<br>
&gt;96&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;Maybe&nbsp;it's&nbsp;an&nbsp;endian-related&nbsp;issue.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;h5&quot;&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/div&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/span&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
