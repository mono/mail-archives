Index: monodoc.in
===================================================================
RCS file: /mono/monodoc/monodoc.in,v
retrieving revision 1.12
diff -u -r1.12 monodoc.in
--- monodoc.in	3 Jun 2004 11:08:14 -0000	1.12
+++ monodoc.in	16 Jul 2004 07:40:18 -0000
@@ -20,15 +20,27 @@
 	echo $monodocdir/sources
 	exit 0
 	;;
+    x--html)
+	;;
+    x--make-index)
+	;;
+    x--merge-changes)
+	;;
     x--normalize)
 	shift;
 	exec mono $monodocdir/normalize.exe "$@"
 	;;
-	x--update)
+    x--update)
 	shift;
 	exec mono $monodocdir/updater.exe "$@"
 	;;
-    x--help)
+    #"--" option means anything following this option should be interpretted
+    #as an argument. Allows browsing of topics starting with "-"
+    x--)
+	shift;
+	;;
+    #Any other option with a "-" is an unrecognized option
+    x-*)
 	echo "Usage is:"
 	echo "monodoc [options]"
 	echo ""
@@ -49,6 +61,8 @@
 export MONO_MANAGED_XSLT=true
 
 cd $monodocdir
+echo "changing to $monodocdir"
+pwd
 if test `basename $0` = mod; then
     mono --debug mod.exe $1 | lynx -dump -stdin -force_html | ${PAGER:-more}
     exit
Index: browser/browser.cs
===================================================================
RCS file: /mono/monodoc/browser/browser.cs,v
retrieving revision 1.106
diff -u -r1.106 browser.cs
--- browser/browser.cs	23 Jun 2004 16:58:49 -0000	1.106
+++ browser/browser.cs	16 Jul 2004 07:40:19 -0000
@@ -43,7 +43,12 @@
 					return 1;
 				}
 			case "--make-index":
-				RootTree.MakeIndex ();
+				try{
+					RootTree.MakeIndex ();
+				}
+				catch(System.UnauthorizedAccessException e){
+					Console.WriteLine(e.Message);
+				}
 				return 0;
 				
 			case "--help":
