<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&nbsp;style=&quot;font-family:arial,&nbsp;sans-serif;font-size:13px;border-collapse:collapse&quot;&gt;Hello&nbsp;all,&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,&nbsp;sans-serif;font-size:13px;border-collapse:collapse&quot;&gt;I&amp;#39;m&nbsp;currently&nbsp;working&nbsp;on&nbsp;PowerPC&nbsp;port&nbsp;of&nbsp;Mono&nbsp;which&nbsp;utilizes&nbsp;AltiVec&nbsp;SIMD&lt;br&gt;<br>
<br>
<br>
instructions.&nbsp;During&nbsp;the&nbsp;development&nbsp;I&amp;#39;ve&nbsp;encountered&nbsp;an&nbsp;alignment&nbsp;problem:&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,&nbsp;sans-serif;font-size:13px;border-collapse:collapse&quot;&gt;As&nbsp;far&nbsp;as&nbsp;I&nbsp;understood&nbsp;from&nbsp;running&nbsp;Mono&amp;#39;s&nbsp;JIT,&nbsp;stack-allocated&lt;br&gt;<br>
<br>
Mono.Simd.Vector*&nbsp;types&nbsp;are&nbsp;always&nbsp;aligned&nbsp;by&nbsp;16&nbsp;byte&nbsp;bound,&nbsp;but&nbsp;global&lt;br&gt;<br>
ones&nbsp;aren&amp;#39;t&nbsp;(such&nbsp;as&nbsp;static&nbsp;class&nbsp;members).&nbsp;This&nbsp;is&nbsp;not&nbsp;a&nbsp;problem&nbsp;for&nbsp;SSE&lt;br&gt;which&nbsp;has&nbsp;unaligned&nbsp;load/stores&nbsp;but&nbsp;AltiVec&nbsp;doesn&amp;#39;t&nbsp;have&nbsp;them.&nbsp;Instead&nbsp;of&lt;br&gt;implementing&nbsp;misaligned&nbsp;loads/stores&nbsp;for&nbsp;AltiVec&nbsp;I&nbsp;think&nbsp;it&amp;#39;s&nbsp;better&nbsp;to&lt;br&gt;<br>
<br>
<br>
force&nbsp;alignment&nbsp;in&nbsp;global&nbsp;variables,&nbsp;as&nbsp;it&nbsp;done&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;stack.&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,&nbsp;sans-serif;font-size:13px;border-collapse:collapse&quot;&gt;Can&nbsp;somebody&nbsp;help&nbsp;me&nbsp;with&nbsp;that&nbsp;(e.g.&nbsp;point&nbsp;at&nbsp;relevant&nbsp;places&nbsp;in&lt;br&gt;<br>
<br>
&amp;#39;mini-ppc.c&amp;#39;)?&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,&nbsp;sans-serif;font-size:13px;border-collapse:collapse&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,&nbsp;sans-serif;font-size:13px;border-collapse:collapse&quot;&gt;Thanks,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,&nbsp;sans-serif;font-size:13px;border-collapse:collapse&quot;&gt;Sergei&nbsp;Dyshel&lt;/span&gt;&lt;/div&gt;<br>
<br>
<br>
&lt;/div&gt;<br>
&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
