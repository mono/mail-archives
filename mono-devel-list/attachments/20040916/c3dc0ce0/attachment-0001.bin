Index: map.c
===================================================================
RCS file: /cvs/public/mono/support/map.c,v
retrieving revision 1.3
diff -u -r1.3 map.c
--- map.c	18 Mar 2004 20:38:55 -0000	1.3
+++ map.c	16 Sep 2004 19:57:37 -0000
@@ -1,4 +1,4 @@
-/* This file was automatically generated by make-map from ../../mcs/class/lib/Mono.Posix.dll */
+/* This file was automatically generated by make-map from ../../mcs/class/lib/default/Mono.Posix.dll */
 
 #define _GNU_SOURCE
 #include <sys/types.h>
@@ -7,6 +7,7 @@
 #include <unistd.h>
 #include <fcntl.h>
 #include <signal.h>
+#include <poll.h>
 #include "map.h"
 int map_Mono_Posix_OpenFlags (int x)
 {
@@ -29,10 +30,8 @@
 		r |= O_APPEND;
 	if ((x & Mono_Posix_OpenFlags_O_NONBLOCK) != 0)
 		r |= O_NONBLOCK;
-#ifdef O_SYNC
 	if ((x & Mono_Posix_OpenFlags_O_SYNC) != 0)
 		r |= O_SYNC;
-#endif
 	return r;
 }
 
@@ -151,5 +150,23 @@
 	if (x == Mono_Posix_Signals_SIGSYS)
 		 return SIGSYS;
 	return -1;
+}
+
+int map_Mono_Posix_PollEvents (int x)
+{
+	int r = 0;
+	if ((x & Mono_Posix_PollEvents_POLLIN) != 0)
+		r |= POLLIN;
+	if ((x & Mono_Posix_PollEvents_POLLPRI) != 0)
+		r |= POLLPRI;
+	if ((x & Mono_Posix_PollEvents_POLLOUT) != 0)
+		r |= POLLOUT;
+	if ((x & Mono_Posix_PollEvents_POLLERR) != 0)
+		r |= POLLERR;
+	if ((x & Mono_Posix_PollEvents_POLLHUP) != 0)
+		r |= POLLHUP;
+	if ((x & Mono_Posix_PollEvents_POLLNVAL) != 0)
+		r |= POLLNVAL;
+	return r;
 }
 
Index: map.h
===================================================================
RCS file: /cvs/public/mono/support/map.h,v
retrieving revision 1.2
diff -u -r1.2 map.h
--- map.h	16 Mar 2004 16:57:25 -0000	1.2
+++ map.h	16 Sep 2004 19:57:37 -0000
@@ -1,4 +1,4 @@
-/* This file was automatically generated by make-map from ../../mcs/class/lib/Mono.Posix.dll */
+/* This file was automatically generated by make-map from ../../mcs/class/lib/default/Mono.Posix.dll */
 
 #define Mono_Posix_OpenFlags_O_RDONLY O_RDONLY
 #define Mono_Posix_OpenFlags_O_WRONLY O_WRONLY
@@ -61,4 +61,11 @@
 #define Mono_Posix_Signals_SIGWINCH SIGWINCH
 #define Mono_Posix_Signals_SIGIO SIGIO
 #define Mono_Posix_Signals_SIGSYS SIGSYS
+
+#define Mono_Posix_PollEvents_POLLIN POLLIN
+#define Mono_Posix_PollEvents_POLLPRI POLLPRI
+#define Mono_Posix_PollEvents_POLLOUT POLLOUT
+#define Mono_Posix_PollEvents_POLLERR POLLERR
+#define Mono_Posix_PollEvents_POLLHUP POLLHUP
+#define Mono_Posix_PollEvents_POLLNVAL POLLNVAL
 
