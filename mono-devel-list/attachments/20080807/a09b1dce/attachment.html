<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;OK&nbsp;kids,&nbsp;bad&nbsp;news.&nbsp;There&amp;#39;s&nbsp;a&nbsp;bug&nbsp;in&nbsp;the&nbsp;BitVector32&nbsp;code.&nbsp;The&nbsp;real&nbsp;problem&nbsp;is,&nbsp;it&amp;#39;s&nbsp;buggy&nbsp;in&nbsp;.NET&nbsp;too.&nbsp;Here&amp;#39;s&nbsp;a&nbsp;test&nbsp;case:&lt;br&gt;&lt;br&gt;using&nbsp;System;&lt;br&gt;using&nbsp;System.Collections.Specialized;&lt;br&gt;&lt;br&gt;class&nbsp;MainClass&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;Main&nbsp;(string[]&nbsp;args)&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;var&nbsp;section1&nbsp;=&nbsp;BitVector32.CreateSection&nbsp;(32767);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;var&nbsp;section2&nbsp;=&nbsp;BitVector32.CreateSection&nbsp;(32767,&nbsp;section1);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;var&nbsp;section3&nbsp;=&nbsp;BitVector32.CreateSection&nbsp;(128,&nbsp;section2);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;var&nbsp;vector&nbsp;=&nbsp;new&nbsp;BitVector32&nbsp;(0);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;vector[section3]&nbsp;=&nbsp;128;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Console.WriteLine(vector[section3]);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;}&lt;br&gt;&lt;br&gt;The&nbsp;output&nbsp;of&nbsp;this&nbsp;program&nbsp;on&nbsp;Mono&nbsp;and&nbsp;.NET&nbsp;is&nbsp;&amp;#39;0&amp;#39;.&nbsp;Obviously&nbsp;this&nbsp;should&nbsp;throw&nbsp;an&nbsp;exception&nbsp;at&nbsp;the&nbsp;third&nbsp;CreateSection&nbsp;call.&nbsp;If&nbsp;we&nbsp;decides&nbsp;to&nbsp;keep&nbsp;the&nbsp;buggy&nbsp;behavior&nbsp;for&nbsp;compatibility,&nbsp;we&nbsp;can&nbsp;use&nbsp;a&nbsp;method&nbsp;similar&nbsp;to&nbsp;the&nbsp;one&nbsp;Laurent&nbsp;mentioned.&nbsp;If&nbsp;we&nbsp;decide&nbsp;to&nbsp;fix&nbsp;the&nbsp;bug,&nbsp;we&nbsp;won&amp;#39;t&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;it&nbsp;since&nbsp;we&amp;#39;ll&nbsp;need&nbsp;to&nbsp;know&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;mask.&nbsp;I&nbsp;vote&nbsp;for&nbsp;fixing,&nbsp;but&nbsp;I&nbsp;don&amp;#39;t&nbsp;know&nbsp;the&nbsp;protocol&nbsp;for&nbsp;these&nbsp;sorts&nbsp;of&nbsp;things.&nbsp;Thoughts?&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
