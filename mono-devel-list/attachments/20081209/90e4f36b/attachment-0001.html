<tt>
Hello,&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;I&nbsp;broke&nbsp;down&nbsp;the&nbsp;&amp;#39;Mono&nbsp;on&nbsp;Windows&amp;#39;&nbsp;topic&nbsp;into&nbsp;two&nbsp;distinct&nbsp;approaches.&nbsp;I&nbsp;have&nbsp;mainly&nbsp;been&nbsp;working&nbsp;on&nbsp;the&nbsp;second&nbsp;approach&nbsp;as&nbsp;it&nbsp;seemed&nbsp;to&nbsp;be&nbsp;easier&nbsp;and&nbsp;provide&nbsp;more&nbsp;value.&lt;br&gt;&lt;br&gt;The&nbsp;first&nbsp;approach&nbsp;is&nbsp;to&nbsp;provide&nbsp;a&nbsp;way&nbsp;to&nbsp;build&nbsp;mono&nbsp;on&nbsp;windows&nbsp;without&nbsp;cygwin&nbsp;installed.&nbsp;This&nbsp;approach&nbsp;provides&nbsp;uses&nbsp;no&nbsp;MS&nbsp;tools&nbsp;and&nbsp;provides&nbsp;no&nbsp;VS&nbsp;integration&nbsp;for&nbsp;the&nbsp;class&nbsp;libraries.&nbsp;The&nbsp;runtime&nbsp;would&nbsp;still&nbsp;be&nbsp;built&nbsp;with&nbsp;MSVC&nbsp;at&nbsp;this&nbsp;point&nbsp;in&nbsp;the&nbsp;plan.&nbsp;It&amp;#39;s&nbsp;simply&nbsp;a&nbsp;way&nbsp;for&nbsp;Windows&nbsp;developers&nbsp;to&nbsp;quickly&nbsp;build&nbsp;mono&nbsp;on&nbsp;windows.&nbsp;It&nbsp;should&nbsp;be&nbsp;much&nbsp;faster&nbsp;than&nbsp;the&nbsp;current&nbsp;cygwin&nbsp;based&nbsp;build&nbsp;and&nbsp;require&nbsp;let&nbsp;setup.&nbsp;&lt;br&gt;<br>
&lt;br&gt;The&nbsp;second&nbsp;approach&nbsp;(the&nbsp;one&nbsp;I&nbsp;have&nbsp;been&nbsp;working&nbsp;on)&nbsp;was&nbsp;to&nbsp;provide&nbsp;a&nbsp;&amp;#39;prepare&amp;#39;&nbsp;tool&nbsp;to&nbsp;generate&nbsp;csproj&nbsp;files&nbsp;for&nbsp;all&nbsp;the&nbsp;class&nbsp;libs.&nbsp;I&nbsp;also&nbsp;generate&nbsp;a&nbsp;solution&nbsp;containing&nbsp;all&nbsp;the&nbsp;projects.&nbsp;The&nbsp;user&nbsp;can&nbsp;then&nbsp;build&nbsp;all&nbsp;the&nbsp;mono&nbsp;class&nbsp;libraries&nbsp;(and&nbsp;unit&nbsp;tests)&nbsp;with&nbsp;one&nbsp;click&nbsp;(it&amp;#39;s&nbsp;also&nbsp;per&nbsp;profile&nbsp;1.1,&nbsp;2.0,&nbsp;3.5).&nbsp;&lt;br&gt;<br>
&lt;br&gt;So&nbsp;as&nbsp;for&nbsp;an&nbsp;update&nbsp;to&nbsp;the&nbsp;second&nbsp;approach.&nbsp;I&nbsp;have&nbsp;a&nbsp;rudimentary&nbsp;Makefile&nbsp;parser&nbsp;and&nbsp;am<br>
using&nbsp;it&nbsp;to&nbsp;generate&nbsp;csproj&nbsp;files&nbsp;for&nbsp;the&nbsp;class&nbsp;libraries.&nbsp;I&nbsp;have&nbsp;run<br>
into&nbsp;a&nbsp;few&nbsp;problems/issues:&lt;br&gt;&lt;br&gt;1.&nbsp;The&nbsp;conscensus&nbsp;on&nbsp;#monodev&nbsp;was&nbsp;that&nbsp;the&nbsp;build&nbsp;could&nbsp;use&nbsp;the&nbsp;MS&nbsp;compiler,&nbsp;but&nbsp;that&nbsp;we&nbsp;should&nbsp;reference&nbsp;mono&nbsp;class&nbsp;libraries&nbsp;as&nbsp;references.&nbsp;So,&nbsp;I&nbsp;build&nbsp;corlib&nbsp;first&nbsp;and&nbsp;then&nbsp;try&nbsp;and&nbsp;build&nbsp;the&nbsp;System.dll&nbsp;referencing&nbsp;our&nbsp;corlib&nbsp;rather&nbsp;than&nbsp;the&nbsp;MS&nbsp;one&nbsp;via&nbsp;-nostdlib&nbsp;compiler&nbsp;option&nbsp;(for&nbsp;the&nbsp;1.1&nbsp;profile).&nbsp;Visual&nbsp;Studio&nbsp;2008&nbsp;allows&nbsp;users&nbsp;to&nbsp;specify&nbsp;what&nbsp;framework&nbsp;version&nbsp;to&nbsp;target&nbsp;for&nbsp;a&nbsp;specific&nbsp;project,&nbsp;but&nbsp;2.0&nbsp;is&nbsp;the&nbsp;minimum&nbsp;version&nbsp;(2.0,&nbsp;3.0,&nbsp;and&nbsp;3.5&nbsp;are&nbsp;the&nbsp;options).&nbsp;The&nbsp;csc&nbsp;compiler&nbsp;errors&nbsp;out&nbsp;when&nbsp;building&nbsp;System.dll&nbsp;as&nbsp;it&nbsp;is&nbsp;looking&nbsp;for&nbsp;2.0&nbsp;specific&nbsp;items&nbsp;in&nbsp;corlib.&nbsp;The&nbsp;specific&nbsp;error&nbsp;is:&lt;br&gt;<br>
&lt;br&gt;error&nbsp;CS0656:&nbsp;Missing&nbsp;compiler&nbsp;required&nbsp;member&nbsp;&amp;#39;System.Threading.Thread.get_ManagedThreadId&amp;#39;&lt;br&gt;&lt;br&gt;I&nbsp;hacked&nbsp;around&nbsp;this&nbsp;by&nbsp;making&nbsp;that&nbsp;field&nbsp;public&nbsp;when&nbsp;build&nbsp;inside&nbsp;of&nbsp;Visual&nbsp;Studio.&nbsp;However,&nbsp;that&nbsp;is&nbsp;a&nbsp;hack&nbsp;and&nbsp;some&nbsp;in&nbsp;#monodev&nbsp;seemed&nbsp;to&nbsp;indicate&nbsp;we&amp;#39;d&nbsp;hit&nbsp;more&nbsp;issues&nbsp;going&nbsp;down&nbsp;this&nbsp;path.&lt;br&gt;<br>
&lt;br&gt;So,&nbsp;in&nbsp;short&nbsp;I&nbsp;think&nbsp;we&nbsp;may&nbsp;be&nbsp;stuck&nbsp;trying&nbsp;to&nbsp;build&nbsp;1.1&nbsp;profile&nbsp;libraries&nbsp;(referencing&nbsp;our&nbsp;1.1&nbsp;corlib)&nbsp;using&nbsp;the&nbsp;csc&nbsp;compiler.&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;couple&nbsp;questions&nbsp;that&nbsp;hopefully&nbsp;I&nbsp;can&nbsp;get&nbsp;some&nbsp;responses&nbsp;on.&lt;br&gt;&lt;br&gt;1.&nbsp;What&amp;#39;s&nbsp;the&nbsp;impact&nbsp;of&nbsp;building&nbsp;the&nbsp;1.1&nbsp;class&nbsp;libraries&nbsp;against&nbsp;the&nbsp;2.0&nbsp;corlib?&lt;br&gt;<br>
&lt;br&gt;2.&nbsp;Should&nbsp;this&nbsp;approach&nbsp;(VS&nbsp;integration)&nbsp;be&nbsp;able&nbsp;to&nbsp;build&nbsp;a&nbsp;fully&nbsp;working&nbsp;mono&nbsp;image?&nbsp;&lt;br&gt;&lt;br&gt;3.&nbsp;If&nbsp;so,&nbsp;are&nbsp;we&nbsp;confident&nbsp;enough&nbsp;that&nbsp;contributors&nbsp;could&nbsp;use&nbsp;this&nbsp;build&nbsp;mechanism&nbsp;to&nbsp;make&nbsp;changes/patches?&nbsp;Or&nbsp;would&nbsp;this&nbsp;be&nbsp;viewed&nbsp;as&nbsp;a&nbsp;second&nbsp;class,&nbsp;and&nbsp;we&nbsp;would&nbsp;expect&nbsp;them&nbsp;to&nbsp;build&nbsp;on&nbsp;Linux&nbsp;or&nbsp;with&nbsp;cygwin&nbsp;before&nbsp;actually&nbsp;commiting&nbsp;changes?&lt;br&gt;<br>
&lt;br&gt;4.&nbsp;If&nbsp;we&nbsp;don&amp;#39;t&nbsp;expect&nbsp;this&nbsp;approach&nbsp;to&nbsp;build&nbsp;a&nbsp;fully&nbsp;working&nbsp;mono&nbsp;image,&nbsp;what&nbsp;exactly&nbsp;is&nbsp;the&nbsp;goal/use&nbsp;case?&nbsp;Is&nbsp;it&nbsp;just&nbsp;so&nbsp;Windows&nbsp;hackers&nbsp;can&nbsp;quickly&nbsp;build&nbsp;a&nbsp;single&nbsp;class&nbsp;library&nbsp;in&nbsp;VS?&nbsp;They&nbsp;can&nbsp;debug&nbsp;a&nbsp;class&nbsp;library&nbsp;in&nbsp;VS?&lt;br&gt;<br>
&lt;br&gt;I&amp;#39;m&nbsp;still&nbsp;hoping&nbsp;to&nbsp;make&nbsp;things&nbsp;better&nbsp;on&nbsp;Windows&nbsp;for&nbsp;mono,&nbsp;but&nbsp;am&nbsp;not&nbsp;sure&nbsp;which&nbsp;direction&nbsp;to&nbsp;go&nbsp;now.&nbsp;Any&nbsp;(potential)&nbsp;mono&nbsp;hackers&nbsp;on&nbsp;Windows&nbsp;please&nbsp;let&nbsp;your&nbsp;opinions&nbsp;be&nbsp;known.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;Jonathan&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Fri,&nbsp;Nov&nbsp;14,&nbsp;2008&nbsp;at&nbsp;4:42&nbsp;PM,&nbsp;Miguel&nbsp;de&nbsp;Icaza&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:miguel@novell.com&quot;&gt;miguel@novell.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hello,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;upside&nbsp;of&nbsp;the&nbsp;mechanism&nbsp;I&nbsp;am&nbsp;using&nbsp;is&nbsp;that&nbsp;all&nbsp;of&nbsp;that&nbsp;would&nbsp;still&lt;br&gt;<br>
&amp;gt;&nbsp;work&nbsp;the&nbsp;same,&nbsp;because&nbsp;I&nbsp;am&nbsp;still&nbsp;using&nbsp;the&nbsp;.sources&nbsp;files&nbsp;instead&nbsp;of&lt;br&gt;<br>
&amp;gt;&nbsp;having&nbsp;a&nbsp;.csproj.&nbsp;&amp;nbsp;The&nbsp;downside&nbsp;is&nbsp;we&nbsp;still&nbsp;wouldn&amp;#39;t&nbsp;have&nbsp;.csproj&amp;#39;s,&nbsp;so&lt;br&gt;<br>
&amp;gt;&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;make&nbsp;working&nbsp;in&nbsp;VS&nbsp;any&nbsp;easier,&nbsp;it&nbsp;just&nbsp;makes&nbsp;it&nbsp;possible&nbsp;to&lt;br&gt;<br>
&amp;gt;&nbsp;build&nbsp;Mono&nbsp;for&nbsp;Windows&nbsp;in&nbsp;under&nbsp;two&nbsp;hours.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Thanks&nbsp;for&nbsp;this&nbsp;information.&lt;br&gt;<br>
&lt;br&gt;<br>
Is&nbsp;there&nbsp;a&nbsp;reason&nbsp;why&nbsp;we&nbsp;could&nbsp;not&nbsp;generate&nbsp;the&nbsp;.csproj&nbsp;files&nbsp;from&lt;br&gt;<br>
the&nbsp;.sources&nbsp;and&nbsp;the&nbsp;Makefile&nbsp;settings&nbsp;for&nbsp;the&nbsp;entire&nbsp;tree&nbsp;in&nbsp;one&lt;br&gt;<br>
&amp;quot;prepare&amp;quot;&nbsp;step?&lt;br&gt;<br>
&lt;br&gt;<br>
We&nbsp;need&nbsp;to&nbsp;have&nbsp;a&nbsp;good&nbsp;Visual&nbsp;Studio&nbsp;experience&nbsp;from&nbsp;the&nbsp;get-go&nbsp;and&nbsp;not&lt;br&gt;<br>
only&nbsp;a&nbsp;faster&nbsp;command&nbsp;line&nbsp;buidl.&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
Miguel&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
