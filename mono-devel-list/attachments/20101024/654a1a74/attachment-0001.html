<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Tahoma<br>
}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;<br>
Dear&nbsp;all,&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
I&nbsp;am&nbsp;Xiong&nbsp;ZhangLiang&nbsp;from&nbsp;Samsung&nbsp;Electronics&nbsp;(China)&nbsp;RD&nbsp;Center.&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
Recently&nbsp;we&nbsp;try&nbsp;to&nbsp;adopt&nbsp;Mono2.8&nbsp;as&nbsp;embedded&nbsp;S/W&nbsp;platform&nbsp;for&nbsp;Samsung&nbsp;products,&nbsp;&lt;BR&gt;<br>
and&nbsp;we&nbsp;wrote&nbsp;an&nbsp;network&nbsp;communication&nbsp;App&nbsp;with&nbsp;Winform&nbsp;UI&nbsp;on&nbsp;it.&lt;BR&gt;<br>
The&nbsp;app&nbsp;of&nbsp;LOC&nbsp;is&nbsp;approximately&nbsp;70K.&lt;BR&gt;<br>
Target&nbsp;board&nbsp;is&nbsp;S3C24400(ARM920T-ARMv4t,&nbsp;400MCPU,&nbsp;128M&nbsp;Flash,&nbsp;128M&nbsp;SDRAM,&nbsp;Linux2.4.20,&nbsp;arm-&lt;BR&gt;<br>
v4t-le_gcc3.2.1).&lt;BR&gt;<br>
We&nbsp;ported&nbsp;XServer&nbsp;for&nbsp;UI.&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
We&nbsp;found&nbsp;the&nbsp;app&nbsp;performance&nbsp;on&nbsp;Mono&nbsp;is&nbsp;bad.&lt;BR&gt;<br>
Init&nbsp;time&nbsp;is&nbsp;more&nbsp;than&nbsp;3&nbsp;min,&nbsp;Memory&nbsp;occupation&nbsp;is&nbsp;more&nbsp;than&nbsp;80M&nbsp;and&nbsp;UI&nbsp;repsonse&nbsp;time&nbsp;is&nbsp;&lt;BR&gt;<br>
more&nbsp;than&nbsp;8&nbsp;sec.&lt;BR&gt;<br>
And&nbsp;memory&nbsp;cannot&nbsp;be&nbsp;released&nbsp;when&nbsp;user&nbsp;operated&nbsp;until&nbsp;memory&nbsp;is&nbsp;used&nbsp;up.&lt;BR&gt;<br>
ARM&nbsp;byte&nbsp;order&nbsp;is&nbsp;middle&nbsp;order,&nbsp;but&nbsp;App&nbsp;on&nbsp;Mono&nbsp;can&nbsp;not&nbsp;execute&nbsp;double&nbsp;calculation&nbsp;correctly&nbsp;&lt;BR&gt;<br>
because&nbsp;of&nbsp;the&nbsp;byte&nbsp;order.&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
Then&nbsp;we&nbsp;try&nbsp;the&nbsp;AOT&nbsp;to&nbsp;reduce&nbsp;the&nbsp;startup&nbsp;time.&lt;BR&gt;<br>
Full&nbsp;AOT&nbsp;can&nbsp;be&nbsp;executed&nbsp;except&nbsp;two&nbsp;Mono&nbsp;files&nbsp;(I18Rare.dll),&nbsp;but&nbsp;it&nbsp;cannot&nbsp;run&nbsp;and&nbsp;print&nbsp;&lt;BR&gt;<br>
&quot;undefined&nbsp;instructions&quot;.&lt;BR&gt;<br>
If&nbsp;compile&nbsp;Mono&nbsp;file&nbsp;with&nbsp;--aot&nbsp;-O=all&nbsp;option,&nbsp;about&nbsp;10&nbsp;Mono&nbsp;files&nbsp;cannot&nbsp;be&nbsp;compiled&nbsp;(most&nbsp;&lt;BR&gt;<br>
important&nbsp;is&nbsp;System.Windows.Winform.dll),&nbsp;then&nbsp;libGdiplus.so&nbsp;can&nbsp;be&nbsp;found,&nbsp;the&nbsp;app&nbsp;can&nbsp;be&nbsp;&lt;BR&gt;<br>
executed&nbsp;with&nbsp;10%&nbsp;startup&nbsp;time&nbsp;reduce.&nbsp;But&nbsp;that's&nbsp;not&nbsp;enough.&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
If&nbsp;we&nbsp;compile&nbsp;System.Windows.Winform.dll&nbsp;with&nbsp;--aot&nbsp;option,&nbsp;it&nbsp;can&nbsp;be&nbsp;compiled.&nbsp;&lt;BR&gt;<br>
But&nbsp;with&nbsp;compiled&nbsp;System.Windows.Winform.dll.so,&nbsp;app&nbsp;cannot&nbsp;run&nbsp;and&nbsp;print&nbsp;&quot;libGdiplus.so&nbsp;&lt;BR&gt;<br>
unable&nbsp;to&nbsp;be&nbsp;load&quot;&nbsp;because&nbsp;of&nbsp;&quot;error&nbsp;loading&nbsp;libFontconfig.so.1:R_ARM_PC24&nbsp;relocation&nbsp;out&nbsp;of&nbsp;&lt;BR&gt;<br>
range&quot;.&nbsp;But&nbsp;to&nbsp;reduce&nbsp;the&nbsp;startup&nbsp;time&nbsp;significantly,&nbsp;I&nbsp;think&nbsp;compile&nbsp;&lt;BR&gt;<br>
System.Windows.Winform.dll&nbsp;is&nbsp;the&nbsp;most&nbsp;important.&nbsp;&lt;BR&gt;<br>
Could&nbsp;you&nbsp;kindly&nbsp;give&nbsp;us&nbsp;some&nbsp;guidance?&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
Thank&nbsp;you&nbsp;very&nbsp;much.&lt;BR&gt;<br>
With&nbsp;BR,&lt;BR&gt;<br>
Xiong&nbsp;ZhangLiang&lt;BR&gt;<br>
--------------------------------------------------&lt;BR&gt;<br>
Samsung&nbsp;Electronics&nbsp;(China)&nbsp;RD&nbsp;Center&lt;BR&gt;<br>
Mono&nbsp;project,&nbsp;Project&nbsp;Leader,&nbsp;PhD&lt;BR&gt;<br>
Mobile:86-13913925119&lt;BR&gt;<br>
Office:86-25-58748787-3440&lt;BR&gt;<br>
Mail:xdz3701@hotmail.com&lt;BR&gt;<br>
--------------------------------------------------&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
