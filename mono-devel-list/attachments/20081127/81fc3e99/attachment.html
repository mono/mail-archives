<tt>
AFAIK,&nbsp;we&nbsp;don&amp;#39;t&nbsp;implement&nbsp;the&nbsp;proprietary&nbsp;protocol&nbsp;for&nbsp;Windows&nbsp;Authentication.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;See&amp;nbsp;&lt;a&nbsp;href=&quot;http://msdn.microsoft.com/en-us/library/ms978378.aspx#authaspdotnet_authentication&quot;&gt;http://msdn.microsoft.com/en-us/library/ms978378.aspx#authaspdotnet_authentication&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;for&nbsp;an&nbsp;overview&nbsp;with&nbsp;alternatives.&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Nov&nbsp;26,&nbsp;2008&nbsp;at&nbsp;3:39&nbsp;PM,&nbsp;marcos&nbsp;b&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:marcosb@internet.com.uy&quot;&gt;marcosb@internet.com.uy&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;br&gt;<br>
I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;do&nbsp;a&nbsp;web&nbsp;service&nbsp;invocation&nbsp;using&nbsp;mono.&nbsp;The&nbsp;web&nbsp;service&nbsp;is&lt;br&gt;<br>
hosted&nbsp;on&nbsp;my&nbsp;machine&nbsp;using&nbsp;iis.&nbsp;Windows&nbsp;authentication&nbsp;is&nbsp;used&nbsp;in&nbsp;the&lt;br&gt;<br>
web.config&nbsp;and&nbsp;in&nbsp;iis.&lt;br&gt;<br>
The&nbsp;test&nbsp;runs&nbsp;ok&nbsp;using&nbsp;.net&nbsp;environment&nbsp;but&nbsp;throws&nbsp;an&nbsp;Unauthorized&nbsp;exception&lt;br&gt;<br>
when&nbsp;using&nbsp;mono.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;don&amp;#39;t&nbsp;know&nbsp;if&nbsp;this&nbsp;is&nbsp;a&nbsp;bug&nbsp;or&nbsp;I&amp;#39;m&nbsp;missing&nbsp;something...&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;in&nbsp;advance&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[Test]&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;public&nbsp;void&nbsp;WebServiceTest()&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;WS.Service1&nbsp;s=new&nbsp;app.WS.Service1();&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;//s.UseDefaultCredentials&nbsp;=&nbsp;true;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;//Also&nbsp;throws&nbsp;an&nbsp;exception&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;//s.Credentials&nbsp;=&nbsp;CredentialCache.DefaultCredentials;&nbsp;&amp;nbsp;//Also&lt;br&gt;<br>
throws&nbsp;an&nbsp;exception&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;s.Credentials&nbsp;=&nbsp;new&nbsp;NetworkCredential(&amp;quot;myLogin&amp;quot;,&nbsp;&amp;quot;12345678&amp;quot;,&lt;br&gt;<br>
&amp;quot;myDomain&amp;quot;);&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;Assert.AreEqual(s.Add(3,5),8);&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
Exception&lt;br&gt;<br>
detail-----------------------------------------------------------------------------&lt;br&gt;<br>
&lt;br&gt;<br>
TestCase&nbsp;&amp;#39;app.MonoWebTests.WebServiceTest&amp;#39;&lt;br&gt;<br>
failed:&nbsp;System.Net.WebException&nbsp;:&nbsp;The&nbsp;request&nbsp;failed&nbsp;with&nbsp;HTTP&nbsp;status&nbsp;401:&lt;br&gt;<br>
Unauthorized&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;at&nbsp;System.Web.Services.Protocols.SoapHttpClientProtocol.ReceiveResponse&lt;br&gt;<br>
(System.Net.WebResponse&nbsp;response,&lt;br&gt;<br>
System.Web.Services.Protocols.SoapClientMessage&nbsp;message,&lt;br&gt;<br>
System.Web.Services.Protocols.SoapExtension[]&nbsp;extensions)&nbsp;[0x00000]&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;at&nbsp;System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke&lt;br&gt;<br>
(System.String&nbsp;method_name,&nbsp;System.Object[]&nbsp;parameters)&nbsp;[0x00000]&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;at&nbsp;app.WS.Service1.Sumar&nbsp;(Int32&nbsp;a,&nbsp;Int32&nbsp;b)&nbsp;[0x00000]&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;at&nbsp;(wrapper&nbsp;remoting-invoke-with-check)&nbsp;app.WS.Service1:Sumar&nbsp;(int,int)&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;at&nbsp;app.MonoWebTests.WebServiceTest&nbsp;()&nbsp;[0x00000]&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;System.Reflection.MonoMethod:InternalInvoke&lt;br&gt;<br>
(object,object[],System.Exception&amp;amp;)&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;at&nbsp;System.Reflection.MonoMethod.Invoke&nbsp;(System.Object&nbsp;obj,&nbsp;BindingFlags&lt;br&gt;<br>
invokeAttr,&nbsp;System.Reflection.Binder&nbsp;binder,&nbsp;System.Object[]&nbsp;parameters,&lt;br&gt;<br>
System.Globalization.CultureInfo&nbsp;culture)&nbsp;[0x00000]&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/Simple-web-service-test-with-windows-authentication-tp20705699p20705699.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.nabble.com/Simple-web-service-test-with-windows-authentication-tp20705699p20705699.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;Dev&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Rafael&nbsp;&amp;quot;Monoman&amp;quot;&nbsp;Teixeira&lt;br&gt;---------------------------------------&lt;br&gt;&amp;quot;I&nbsp;myself&nbsp;am&nbsp;made&nbsp;entirely&nbsp;of&nbsp;flaws,&nbsp;stitched&nbsp;together&nbsp;with&nbsp;good&nbsp;intentions.&amp;quot;&lt;br&gt;<br>
Augusten&nbsp;Burroughs&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
