<tt>
Hi&nbsp;all,&lt;br&gt;&lt;br&gt;Attached&nbsp;is&nbsp;a&nbsp;patch&nbsp;so&nbsp;that,&nbsp;when&nbsp;deserializing&nbsp;an&nbsp;icon,&nbsp;PNG&nbsp;icons&nbsp;are&nbsp;properly&nbsp;ignored,&nbsp;and&nbsp;the&nbsp;number&nbsp;of&nbsp;icon&nbsp;entries&nbsp;is&nbsp;updated&nbsp;to&nbsp;reflect&nbsp;this.&lt;br&gt;&lt;br&gt;Presently,&nbsp;when&nbsp;mono&nbsp;comes&nbsp;across&nbsp;a&nbsp;PNG&nbsp;icon&nbsp;entry,&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;read&nbsp;it,&nbsp;but&nbsp;it&nbsp;also&nbsp;doesn&amp;#39;t&nbsp;update&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;icon&nbsp;directory&nbsp;array..&nbsp;This&nbsp;causes&nbsp;a&nbsp;crash&nbsp;in&nbsp;SaveIconImage(...)&nbsp;when&nbsp;it&nbsp;hits&nbsp;the&nbsp;last&nbsp;entry&nbsp;in&nbsp;the&nbsp;array&nbsp;(which&nbsp;was&nbsp;never&nbsp;read,&nbsp;so&nbsp;ii.iconColors&nbsp;was&nbsp;never&nbsp;initialized&nbsp;etc).&lt;br&gt;<br>
&lt;br&gt;This&nbsp;patch&nbsp;makes&nbsp;sure&nbsp;that&nbsp;if&nbsp;we&nbsp;*do*&nbsp;come&nbsp;accross&nbsp;a&nbsp;PNG&nbsp;icon,&nbsp;we&nbsp;not&nbsp;only&nbsp;skip&nbsp;it,&nbsp;but&nbsp;we&nbsp;make&nbsp;sure&nbsp;it&nbsp;we&nbsp;reduce&nbsp;the&nbsp;icon&nbsp;count&nbsp;properly,&nbsp;so&nbsp;we&nbsp;wont&nbsp;try&nbsp;to&nbsp;write&nbsp;an&nbsp;icon&nbsp;entry&nbsp;that&nbsp;was&nbsp;never&nbsp;read...&lt;br&gt;&lt;br&gt;Of&nbsp;course,&nbsp;the&nbsp;real&nbsp;fix&nbsp;would&nbsp;be&nbsp;to&nbsp;read&nbsp;the&nbsp;PNG&nbsp;icon&nbsp;and&nbsp;write&nbsp;it&nbsp;again..&nbsp;But&nbsp;this&nbsp;should&nbsp;at&nbsp;least&nbsp;help&nbsp;for&nbsp;now!&lt;br&gt;<br>
&lt;br&gt;David.&lt;br&gt;&lt;br&gt;<br>

</tt>
