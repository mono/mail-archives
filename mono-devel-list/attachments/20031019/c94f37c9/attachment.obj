Index: ChangeLog
===================================================================
RCS file: /mono/mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/ChangeLog,v
retrieving revision 1.21
diff -u -r1.21 ChangeLog
--- ChangeLog	8 Oct 2003 23:41:01 -0000	1.21
+++ ChangeLog	19 Oct 2003 09:40:11 -0000
@@ -1,3 +1,10 @@
+2003-10-19  Joerg Rosenkranz <joergr@voelcker.com>
+
+	* Tds.cs (GetStringValue): A string length of 0xFF (255) is not
+	misinterpreted as special value anymore.
+	
+	This is a fix to bug #49835.
+
 2003-10-03  Diego Caravana  <diego@toth.it>
 
 	* Tds70.cs: Now handles parameters of type ReturnValue and
Index: Tds.cs
===================================================================
RCS file: /mono/mcs/class/Mono.Data.Tds/Mono.Data.Tds.Protocol/Tds.cs,v
retrieving revision 1.35
diff -u -r1.35 Tds.cs
--- Tds.cs	22 Aug 2003 04:37:11 -0000	1.35
+++ Tds.cs	19 Oct 2003 09:40:11 -0000
@@ -685,7 +685,7 @@
 
 			int len = shortLen ? comm.GetTdsShort () : (comm.GetByte () & 0xff);
 
-			if ((tdsVersion < TdsVersion.tds70 && len == 0) || (tdsVersion == TdsVersion.tds70 && len == 0xff))
+			if (tdsVersion < TdsVersion.tds70 && len == 0)
 				result = null;
 			else if (len >= 0) {
 				if (wideChars)
