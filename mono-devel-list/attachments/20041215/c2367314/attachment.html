<tt>
&lt;DIV&gt;Gonzalo,&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Do&nbsp;you&nbsp;agree&nbsp;that&nbsp;this&nbsp;method:&lt;/DIV&gt;<br>
&lt;DIV&gt;HttpWorkerRequest&nbsp;GetWorkerRequest(HttpContext&nbsp;context)&amp;nbsp;&lt;BR&gt;&nbsp;{&amp;nbsp;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;&amp;nbsp;IServiceProvider&nbsp;provider&nbsp;=&nbsp;(IServiceProvider)HttpContext.Current;&nbsp;&lt;BR&gt;&lt;BR&gt;return&nbsp;(HttpWorkerRequest)provider.GetService(typeof(HttpWorkerRequest));&amp;nbsp;&amp;nbsp;&lt;BR&gt;&nbsp;}&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;should&nbsp;return&amp;nbsp;&amp;nbsp;either&nbsp;XSPWorkerRequest&nbsp;or&nbsp;ModMonoWorkerRequest&nbsp;and&nbsp;calling&lt;/DIV&gt;<br>
&lt;DIV&gt;.GetPreLoadedEntityBody()&amp;nbsp;&nbsp;or&nbsp;ReadEntityBody()&nbsp;on&nbsp;either&nbsp;of&nbsp;these&nbsp;objects&nbsp;should&nbsp;not&nbsp;return&nbsp;null&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Its&nbsp;a&nbsp;missing&nbsp;feature&nbsp;somewhere&nbsp;isn't&nbsp;it?&nbsp;Bottom&nbsp;line&nbsp;the&nbsp;code&nbsp;works&nbsp;on&nbsp;windows&nbsp;and&nbsp;is&nbsp;not&nbsp;using&nbsp;any&nbsp;P/Invoke&nbsp;stuff,&nbsp;just&nbsp;managed&nbsp;code,&nbsp;so&nbsp;if&nbsp;not&nbsp;a&nbsp;bug&nbsp;then&nbsp;a&nbsp;missing&nbsp;feature&nbsp;that&nbsp;is&nbsp;needed&nbsp;to&nbsp;make&nbsp;mono&nbsp;more&nbsp;compatible.&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Should&nbsp;I&amp;nbsp;enter&nbsp;bugzilla&nbsp;or&nbsp;not?&nbsp;I&nbsp;wrote&nbsp;to&nbsp;the&nbsp;author&nbsp;of&nbsp;the&nbsp;HttpUpload&nbsp;module&nbsp;to&nbsp;get&nbsp;him&nbsp;to&nbsp;help&nbsp;me&nbsp;articulate&nbsp;what&nbsp;is&nbsp;needed&nbsp;and&nbsp;was&nbsp;planning&nbsp;to&nbsp;enter&nbsp;a&nbsp;bugzilla.&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Yes&nbsp;I&nbsp;thought&amp;nbsp;the&nbsp;code&amp;nbsp;was&nbsp;using&nbsp;HttpWorkerRequest&nbsp;and&nbsp;didn't&nbsp;realize&amp;nbsp;it&nbsp;was&nbsp;using&nbsp;a&nbsp;subclass&nbsp;but&nbsp;whatever&nbsp;subclass&nbsp;is&nbsp;returned&nbsp;from&nbsp;the&nbsp;method&nbsp;above&nbsp;should&nbsp;be&nbsp;capable&nbsp;of&nbsp;returning&nbsp;something&nbsp;more&nbsp;useful&nbsp;than&nbsp;null&nbsp;when&nbsp;you&nbsp;call&nbsp;its&nbsp;methods,&nbsp;that&nbsp;is&nbsp;what&nbsp;happens&nbsp;on&nbsp;windows.&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;I&nbsp;am&nbsp;not&nbsp;the&nbsp;author&nbsp;of&nbsp;the&nbsp;code,&nbsp;but&nbsp;I'm&nbsp;doing&nbsp;the&nbsp;best&nbsp;I&nbsp;can&nbsp;to&nbsp;show&nbsp;you&nbsp;that&nbsp;something&nbsp;is&nbsp;wrong&nbsp;or&nbsp;it&nbsp;would&nbsp;work&nbsp;on&nbsp;mono&nbsp;as&nbsp;it&nbsp;does&nbsp;on&nbsp;windows.&amp;nbsp;&nbsp;It&nbsp;is&nbsp;very&nbsp;useful&nbsp;code&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;have&nbsp;controlled&nbsp;upload&nbsp;of&nbsp;large&nbsp;files&nbsp;with&nbsp;a&nbsp;progress&nbsp;indicator,&nbsp;it&nbsp;will&nbsp;be&nbsp;a&nbsp;shame&nbsp;if&nbsp;only&nbsp;windows&nbsp;installations&nbsp;of&nbsp;my&nbsp;app&nbsp;can&nbsp;take&nbsp;advantage&nbsp;of&nbsp;that&nbsp;feature.&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Best&nbsp;Regards,&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Joe&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;B&gt;&lt;I&gt;Gonzalo&nbsp;Paniagua&nbsp;Javier&nbsp;&amp;lt;gonzalo@ximian.com&amp;gt;&lt;/I&gt;&lt;/B&gt;&nbsp;wrote:&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;class=replbq&nbsp;style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#1010ff&nbsp;2px&nbsp;solid&quot;&gt;On&nbsp;Wed,&nbsp;2004-12-15&nbsp;at&nbsp;17:37&nbsp;-0200,&nbsp;Rafael&nbsp;Teixeira&nbsp;wrote:&lt;BR&gt;&amp;gt;&nbsp;Well&nbsp;this&nbsp;is&nbsp;some&nbsp;internal&nbsp;class&nbsp;from&nbsp;the&nbsp;.NET&nbsp;implementation&nbsp;as&nbsp;it&lt;BR&gt;&amp;gt;&nbsp;isn't&nbsp;documented&nbsp;in&nbsp;MSDN.&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;In&nbsp;Mono&nbsp;we&nbsp;have&nbsp;some&nbsp;subclass&nbsp;of&nbsp;MonoWorkerRequest&nbsp;(either&lt;BR&gt;&amp;gt;&nbsp;XSPWorkerRequest&nbsp;or&nbsp;ModMonoWorkerRequest).&nbsp;These&nbsp;classes&nbsp;are&nbsp;the&nbsp;ones&lt;BR&gt;&amp;gt;&nbsp;that&nbsp;return&nbsp;null&nbsp;for&nbsp;GetPreLoadedEntityBody().&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;Could&nbsp;you&nbsp;please&nbsp;fill&nbsp;a&nbsp;bugzilla,&nbsp;giving&nbsp;some&nbsp;more&nbsp;details&nbsp;of&nbsp;what&nbsp;is&lt;BR&gt;&amp;gt;&nbsp;expected&nbsp;to&nbsp;come&nbsp;in&nbsp;the&nbsp;byte&nbsp;array,&nbsp;and&nbsp;pointing&nbsp;to&nbsp;implement&nbsp;in&nbsp;those&lt;BR&gt;&amp;gt;&nbsp;classes&nbsp;(or&nbsp;the&nbsp;superclass),&nbsp;please.&nbsp;I&nbsp;would&nbsp;do&nbsp;it&nbsp;for&nbsp;you,&nbsp;by&nbsp;I&nbsp;run&lt;BR&gt;&amp;gt;&nbsp;out&nbsp;of&nbsp;time&nbsp;just&nbsp;now.&lt;BR&gt;&lt;BR&gt;As&nbsp;I&nbsp;said&nbsp;before,&nbsp;there&nbsp;is&nbsp;no&nbsp;bug&nbsp;here.&nbsp;It's&nbsp;just&nbsp;that&nbsp;Joe&nbsp;is&nbsp;using&nbsp;that&lt;BR&gt;ISAPIWorkerRequestOutOfProc&nbsp;class&nbsp;and&nbsp;he&nbsp;thought&nbsp;it<br>
&nbsp;was&lt;BR&gt;HttpWorkerRequest.&lt;BR&gt;&lt;BR&gt;-Gonzalo&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;_______________________________________________&lt;BR&gt;Mono-devel-list&nbsp;mailing&nbsp;list&lt;BR&gt;Mono-devel-list@lists.ximian.com&lt;BR&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;BR&gt;&lt;BR&gt;joe_audette@yahoo.com&lt;br&gt;http://www.joeaudette.com&lt;br&gt;http://www.mojoportal.com
</tt>
