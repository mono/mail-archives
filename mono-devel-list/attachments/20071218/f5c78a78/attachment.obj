Index: WebClient.cs
===================================================================
--- WebClient.cs	(revision 91200)
+++ WebClient.cs	(working copy)
@@ -1041,21 +1041,19 @@
 				SetBusy ();
 				async = true;
 				
-				async_thread = new Thread (delegate (object state) {
-					object [] args = (object []) state;
+				async_thread = new Thread (delegate () {
 					try {
-						byte [] data = DownloadDataCore ((Uri) args [0], args [1]);
+						byte [] data = DownloadDataCore (address, userToken);
 						OnDownloadDataCompleted (
-							new DownloadDataCompletedEventArgs (data, null, false, args [1]));
+							new DownloadDataCompletedEventArgs (data, null, false, userToken));
 						CompleteAsync ();
 					} catch (ThreadInterruptedException){
 						OnDownloadDataCompleted (
-							new DownloadDataCompletedEventArgs (null, null, true, args [1]));
+							new DownloadDataCompletedEventArgs (null, null, true, userToken));
 						throw;
 					} 
 				});
-				object [] cb_args = new object [] {address, userToken};
-				async_thread.Start (cb_args);
+				async_thread.Start ();
 			}
 		}
 
@@ -1077,20 +1075,18 @@
 				SetBusy ();
 				async = true;
 
-				async_thread = new Thread (delegate (object state) {
-					object [] args = (object []) state;
+				async_thread = new Thread (delegate () {
 					try {
-						DownloadFileCore ((Uri) args [0], (string) args [1], args [2]);
+						DownloadFileCore (address, fileName, userToken);
 						OnDownloadFileCompleted (
-							new AsyncCompletedEventArgs (null, false, args [2]));
+							new AsyncCompletedEventArgs (null, false, userToken));
 						CompleteAsync ();
 					} catch (ThreadInterruptedException){
 						OnDownloadFileCompleted (
-							new AsyncCompletedEventArgs (null, true, args [2]));
+							new AsyncCompletedEventArgs (null, true, userToken));
 					} 
 					});
-				object [] cb_args = new object [] {address, fileName, userToken};
-				async_thread.Start (cb_args);
+				async_thread.Start ();
 			}
 		}
 
@@ -1110,20 +1106,18 @@
 				SetBusy ();
 				async = true;
 
-				async_thread = new Thread (delegate (object state) {
-					object [] args = (object []) state;
+				async_thread = new Thread (delegate () {
 					try {
-						string data = encoding.GetString (DownloadDataCore ((Uri) args [0], args [1]));
+						string data = encoding.GetString (DownloadDataCore (address, userToken));
 						OnDownloadStringCompleted (
-							new DownloadStringCompletedEventArgs (data, null, false, args [1]));
+							new DownloadStringCompletedEventArgs (data, null, false, userToken));
 						CompleteAsync ();
 					} catch (ThreadInterruptedException){
 						OnDownloadStringCompleted (
-							new DownloadStringCompletedEventArgs (null, null, true, args [1]));
+							new DownloadStringCompletedEventArgs (null, null, true, userToken));
 					} 
 					});
-				object [] cb_args = new object [] {address, userToken};
-				async_thread.Start (cb_args);
+				async_thread.Start ();
 			}
 		}
 
@@ -1143,25 +1137,23 @@
 				SetBusy ();
 				async = true;
 
-				async_thread = new Thread (delegate (object state) {
-					object [] args = (object []) state;
+				async_thread = new Thread (delegate () {
 					WebRequest request = null;
 					try {
-						request = SetupRequest ((Uri) args [0]);
+						request = SetupRequest (address);
 						WebResponse response = request.GetResponse ();
 						Stream stream = ProcessResponse (response);
 						OnOpenReadCompleted (
-							new OpenReadCompletedEventArgs (stream, null, false, args [1]));
+							new OpenReadCompletedEventArgs (stream, null, false, userToken));
 						CompleteAsync ();						
 					} catch (ThreadInterruptedException){
 						if (request != null)
 							request.Abort ();
 						
-						OnOpenReadCompleted (new OpenReadCompletedEventArgs (null, null, true, args [1]));
+						OnOpenReadCompleted (new OpenReadCompletedEventArgs (null, null, true, userToken));
 					}
 					} );
-				object [] cb_args = new object [] {address, userToken};
-				async_thread.Start (cb_args);
+				async_thread.Start ();
 			}
 		}
 
@@ -1188,24 +1180,22 @@
 				SetBusy ();
 				async = true;
 
-				async_thread = new Thread (delegate (object state) {
-					object [] args = (object []) state;
+				async_thread = new Thread (delegate () {
 					WebRequest request = null;
 					try {
-						request = SetupRequest ((Uri) args [0], (string) args [1]);
+						request = SetupRequest (address, method);
 						Stream stream = request.GetRequestStream ();
 						OnOpenWriteCompleted (
-							new OpenWriteCompletedEventArgs (stream, null, false, args [2]));
+							new OpenWriteCompletedEventArgs (stream, null, false, userToken));
 						CompleteAsync ();
 					} catch (ThreadInterruptedException){
 						if (request != null)
 							request.Abort ();
 						OnOpenWriteCompleted (
-							new OpenWriteCompletedEventArgs (null, null, true, args [2]));
+							new OpenWriteCompletedEventArgs (null, null, true, userToken));
 					} 
 					});
-				object [] cb_args = new object [] {address, method, userToken};
-				async_thread.Start (cb_args);
+				async_thread.Start ();
 			}
 		}
 
@@ -1232,22 +1222,19 @@
 				SetBusy ();
 				async = true;
 
-				async_thread = new Thread (delegate (object state) {
-					object [] args = (object []) state;
-					byte [] data2;
+				async_thread = new Thread (delegate () {
 
 					try {
-						data2 = UploadDataCore ((Uri) args [0], (string) args [1], (byte []) args [2], args [3]);
+						byte [] data2 = UploadDataCore (address, method, data, userToken);
 					
 						OnUploadDataCompleted (
-							new UploadDataCompletedEventArgs (data2, null, false, args [3]));
+							new UploadDataCompletedEventArgs (data2, null, false, userToken));
 						CompleteAsync ();
 					} catch (ThreadInterruptedException){
 						OnUploadDataCompleted (
-							new UploadDataCompletedEventArgs (null, null, true, args [3]));
+							new UploadDataCompletedEventArgs (null, null, true, userToken));
 					}});
-				object [] cb_args = new object [] {address, method, data,  userToken};
-				async_thread.Start (cb_args);
+				async_thread.Start ();
 			}
 		}
 
@@ -1274,21 +1261,19 @@
 				SetBusy ();
 				async = true;
 
-				async_thread = new Thread (delegate (object state) {
-					object [] args = (object []) state;
-					byte [] data;
+				async_thread = new Thread (delegate () {
+					object [] args = new object [] { address, method, fileName, userToken };
 
 					try {
-						data = UploadFileCore ((Uri) args [0], (string) args [1], (string) args [2], args [3]);
+						byte [] data = UploadFileCore (address, method, fileName, userToken);
 						OnUploadFileCompleted (
-							new UploadFileCompletedEventArgs (data, null, false, args [3]));
+							new UploadFileCompletedEventArgs (data, null, false, userToken));
 					} catch (ThreadInterruptedException){
 						OnUploadFileCompleted (
-							new UploadFileCompletedEventArgs (null, null, true, args [3]));
+							new UploadFileCompletedEventArgs (null, null, true, userToken));
 					}
 					});
-				object [] cb_args = new object [] {address, method, fileName,  userToken};
-				async_thread.Start (cb_args);
+				async_thread.Start ();
 			}
 		}
 
@@ -1314,22 +1299,19 @@
 			lock (this) {
 				SetBusy ();
 				async = true;
-				
-				async_thread = new Thread (delegate (object state) {
-					object [] args = (object []) state;
 
+				async_thread = new Thread (delegate () {
 					try {
-						string data2 = UploadString ((Uri) args [0], (string) args [1], (string) args [2]);
+						string data2 = UploadString (address, method, data);
 						OnUploadStringCompleted (
-							new UploadStringCompletedEventArgs (data2, null, false, args [3]));
+							new UploadStringCompletedEventArgs (data2, null, false, userToken));
 						CompleteAsync ();
 					} catch (ThreadInterruptedException){
 						OnUploadStringCompleted (
-							new UploadStringCompletedEventArgs (null, null, true, args [3]));
+							new UploadStringCompletedEventArgs (null, null, true, userToken));
 					} 
 					});
-				object [] cb_args = new object [] {address, method, data, userToken};
-				async_thread.Start (cb_args);
+				async_thread.Start ();
 			}
 		}
 
@@ -1356,20 +1338,18 @@
 				CheckBusy ();
 				async = true;
 
-				async_thread = new Thread (delegate (object state) {
-					object [] args = (object []) state;
+				async_thread = new Thread (delegate () {
 					try {
-						byte [] data = UploadValuesCore ((Uri) args [0], (string) args [1], (NameValueCollection) args [2], args [3]);
+						byte [] data = UploadValuesCore (address, method, values, userToken);
 						OnUploadValuesCompleted (
-							new UploadValuesCompletedEventArgs (data, null, false, args [3]));
+							new UploadValuesCompletedEventArgs (data, null, false, userToken));
 						CompleteAsync ();
 					} catch (ThreadInterruptedException){
 						OnUploadValuesCompleted (
-							new UploadValuesCompletedEventArgs (null, null, true, args [3]));
+							new UploadValuesCompletedEventArgs (null, null, true, userToken));
 					}
 					});
-				object [] cb_args = new object [] {address, method, values,  userToken};
-				async_thread.Start (cb_args);
+				async_thread.Start ();
 			}
 		}
 
