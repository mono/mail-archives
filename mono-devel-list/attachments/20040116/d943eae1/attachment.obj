? 45843.diff
? 47883.diff
Index: DataRow.cs
===================================================================
RCS file: /mono/mcs/class/System.Data/System.Data/DataRow.cs,v
retrieving revision 1.50
diff -u -r1.50 DataRow.cs
--- DataRow.cs	8 Dec 2003 13:27:43 -0000	1.50
+++ DataRow.cs	16 Jan 2004 08:07:56 -0000
@@ -268,6 +268,9 @@
 
 			if (v == null)
 			{
+				if (col.DataType.ToString().Equals("System.Guid"))
+	                                throw new ArgumentException("Cannot set column to be null, Please use DBNull instead");
+
 				if(col.DefaultValue != DBNull.Value) 
 				{
 					newval = col.DefaultValue;
@@ -957,7 +960,7 @@
 		public bool IsNull (DataColumn column) 
 		{
 			object o = this[column];
-			return (o == null || o == DBNull.Value);
+			return (o == DBNull.Value);
 		}
 
 		/// <summary>
@@ -967,7 +970,7 @@
 		public bool IsNull (int columnIndex) 
 		{
 			object o = this[columnIndex];
-			return (o == null || o == DBNull.Value);
+			return (o == DBNull.Value);
 		}
 
 		/// <summary>
@@ -976,7 +979,7 @@
 		public bool IsNull (string columnName) 
 		{
 			object o = this[columnName];
-			return (o == null || o == DBNull.Value);
+			return (o == DBNull.Value);
 		}
 
 		/// <summary>
@@ -986,7 +989,7 @@
 		public bool IsNull (DataColumn column, DataRowVersion version) 
 		{
 			object o = this[column, version];
-			return (o == null || o == DBNull.Value);
+			return (o == DBNull.Value);
 		}
 
 		/// <summary>
