<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;Hi&nbsp;Atsushi,&lt;br&gt;&lt;br&gt;I&nbsp;got&nbsp;a&nbsp;few&nbsp;questions&nbsp;about&nbsp;your&nbsp;commit&nbsp;r115240.&lt;br&gt;&lt;div&nbsp;id=&quot;:11k&quot;&nbsp;class=&quot;ArwC7c&nbsp;ckChnd&quot;&gt;&lt;br&gt;Any&nbsp;reason&nbsp;to&nbsp;use&nbsp;&amp;quot;...GetSetMethod&nbsp;().Invoke&nbsp;(entity,&nbsp;new&nbsp;object&nbsp;[]&nbsp;{p.Value});&amp;quot;&nbsp;instead&nbsp;of&nbsp;just&nbsp;&amp;quot;..SetValue&nbsp;(entity,&nbsp;p.Value,&nbsp;null);&amp;quot;?&lt;br&gt;<br>
They&nbsp;produce&nbsp;the&nbsp;same&nbsp;result.&lt;br&gt;&lt;br&gt;The&nbsp;ExecuteInsert&nbsp;method&nbsp;does&nbsp;a&nbsp;lot&nbsp;of&nbsp;reflection&nbsp;searches&nbsp;for&nbsp;what&nbsp;looks&nbsp;like&nbsp;a&nbsp;finite&nbsp;and&nbsp;small&nbsp;set&nbsp;of&nbsp;types.&nbsp;If&nbsp;this&nbsp;method&lt;br&gt;end&nbsp;been&nbsp;called&nbsp;frequently&nbsp;enough&nbsp;it&nbsp;will&nbsp;be&nbsp;a&nbsp;performance&nbsp;bottleneck&nbsp;as&nbsp;such&nbsp;calls&nbsp;are&nbsp;synchronized&nbsp;under&nbsp;a&nbsp;single&nbsp;lock.&lt;br&gt;<br>
&lt;br&gt;It&nbsp;is&nbsp;a&nbsp;good&nbsp;a&nbsp;idea&nbsp;to&nbsp;cache&nbsp;the&nbsp;results&nbsp;of&nbsp;GetProperty()&nbsp;and&nbsp;GetSetMethod().&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;Rodrigo&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Modified:&nbsp;trunk/mcs/class/System.Web.Extensions/System.Web.UI.WebControls/LinqDataSourceView.cs&lt;br&gt;<br>
<br>
===================================================================&lt;br&gt;<br>
---&nbsp;trunk/mcs/class/System.Web.Extensions/System.Web.UI.WebControls/LinqDataSourceView.cs&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;2008-10-08&nbsp;16:13:20&nbsp;UTC&nbsp;(rev&nbsp;115239)&lt;br&gt;<br>
+++&nbsp;trunk/mcs/class/System.Web.Extensions/System.Web.UI.WebControls/LinqDataSourceView.cs&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;2008-10-08&nbsp;16:17:05&nbsp;UTC&nbsp;(rev&nbsp;115240)&lt;br&gt;@@&nbsp;-221,10&nbsp;+235,24&nbsp;@@&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;throw&nbsp;new&nbsp;NotImplementedException&nbsp;();&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;[MonoTODO]&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;protected&nbsp;override&nbsp;int&nbsp;ExecuteInsert&nbsp;(IDictionary&nbsp;values)&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{&lt;br&gt;<br>
-&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;throw&nbsp;new&nbsp;NotImplementedException&nbsp;();&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;var&nbsp;dc&nbsp;=&nbsp;(DataContext)&nbsp;GetDataContext&nbsp;();&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;foreach&nbsp;(var&nbsp;mt&nbsp;in&nbsp;dc.Mapping.GetTables&nbsp;())&nbsp;{&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;if&nbsp;(mt.TableName&nbsp;!=&nbsp;TableName)&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;continue;&lt;br&gt;<br>
+&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;mt.RowType.Type;&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;ITable&nbsp;table&nbsp;=&nbsp;dc.GetTable&nbsp;(t);&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;object&nbsp;entity&nbsp;=&nbsp;Activator.CreateInstance&nbsp;(t);&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;//&nbsp;FIXME:&nbsp;merge&nbsp;InsertParameters&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;foreach&nbsp;(DictionaryEntry&nbsp;p&nbsp;in&nbsp;values)&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;t.GetProperty&nbsp;((string)&nbsp;p.Key).GetSetMethod&nbsp;().Invoke&nbsp;(entity,&nbsp;new&nbsp;object&nbsp;[]&nbsp;{p.Value});&lt;br&gt;<br>
+&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;InsertDataObject&nbsp;(dc,&nbsp;table,&nbsp;entity);&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;return&nbsp;1;&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;throw&nbsp;new&nbsp;InvalidOperationException&nbsp;(String.Format&nbsp;(&amp;quot;Table&nbsp;&amp;#39;{0}&amp;#39;&nbsp;was&nbsp;not&nbsp;found&nbsp;on&nbsp;the&nbsp;data&nbsp;context&nbsp;&amp;#39;{1}&amp;#39;&amp;quot;,&nbsp;TableName,&nbsp;ContextType));&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[MonoTODO]&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
