<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;face=&quot;Calibri,sans-serif&quot;&gt;I'm&nbsp;not&nbsp;really&nbsp;familiar&nbsp;with&nbsp;MonoPosixHelper,&nbsp;but&nbsp;it&nbsp;looks&nbsp;like&nbsp;on&nbsp;mobile&nbsp;it&nbsp;uses&nbsp;the&nbsp;&quot;__Internal&quot;&nbsp;P/Invoke:&lt;/font&gt;&lt;BR&gt;&nbsp;&lt;BR&gt;&lt;a&nbsp;href=&quot;https://github.com/mono/mono/blob/f39bebefeaa15cdde051d428f6bdc7e3e80b2c10/mcs/class/System/System.IO.Compression/DeflateStream.cs#L480-L484&quot;&gt;https://github.com/mono/mono/blob/f39bebefeaa15cdde051d428f6bdc7e3e80b2c10/mcs/class/System/System.IO.Compression/DeflateStream.cs#L480-L484&lt;/a&gt;&lt;BR&gt;&nbsp;&lt;BR&gt;Maybe&nbsp;that&nbsp;helps.&lt;BR&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;face=&quot;Calibri,sans-serif&quot;&gt;&lt;br&nbsp;id=&quot;FontBreak&quot;&gt;&lt;/font&gt;--&nbsp;Alex&lt;br&gt;&nbsp;&lt;BR&gt;&lt;div&gt;&gt;&nbsp;From:&nbsp;maury.markowitz@gmail.com&lt;br&gt;&gt;&nbsp;Date:&nbsp;Thu,&nbsp;30&nbsp;Oct&nbsp;2014&nbsp;10:05:50&nbsp;-0400&lt;br&gt;&gt;&nbsp;To:&nbsp;mono-devel-list@lists.ximian.com&lt;br&gt;&gt;&nbsp;Subject:&nbsp;[Mono-dev]&nbsp;Understanding&nbsp;ZipSharp&nbsp;and&nbsp;Native(Un)Zip&nbsp;-&nbsp;any&nbsp;&nbsp;MonoPosixHelper&nbsp;gurus?&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;I'm&nbsp;hoping&nbsp;someone&nbsp;familiar&nbsp;with&nbsp;MonoPosixHelper&nbsp;and/or&nbsp;WindowsBase&nbsp;will&nbsp;see&nbsp;this.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;I&nbsp;am&nbsp;attempting&nbsp;to&nbsp;port&nbsp;System.IO.Package&nbsp;to&nbsp;iOS.&nbsp;I&nbsp;have&nbsp;made&nbsp;some&nbsp;progress,&nbsp;to&nbsp;the&nbsp;point&nbsp;where&nbsp;my&nbsp;somewhat&nbsp;stripped-down&nbsp;WindowsBase&nbsp;is&nbsp;compiling&nbsp;under&nbsp;Xamarin&nbsp;on&nbsp;the&nbsp;Mac,&nbsp;and&nbsp;I&nbsp;can&nbsp;run&nbsp;the&nbsp;Packaging&nbsp;functions&nbsp;to&nbsp;the&nbsp;point&nbsp;of&nbsp;decompressing&nbsp;the&nbsp;file.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Following&nbsp;through&nbsp;the&nbsp;code,&nbsp;this&nbsp;appears&nbsp;to&nbsp;ultimately&nbsp;fail&nbsp;on&nbsp;this:&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[DllImport&nbsp;(&quot;MonoPosixHelper&quot;,&nbsp;CallingConvention=CallingConvention.Cdecl)]&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;extern&nbsp;int&nbsp;unzOpenCurrentFile2&nbsp;(UnzipHandle&nbsp;handle,&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;int&nbsp;method,&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;int&nbsp;level,&lt;br&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;raw);&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Looking&nbsp;over&nbsp;MonoPosixHelper,&nbsp;it&nbsp;*appears*&nbsp;this&nbsp;consists&nbsp;largely&nbsp;of&nbsp;Zlib.&nbsp;Zlib&nbsp;is&nbsp;already&nbsp;installed&nbsp;on&nbsp;Mac/iOS&nbsp;in&nbsp;/usr/lib.&nbsp;So,&nbsp;in&nbsp;theory,&nbsp;P/Invoke&nbsp;should&nbsp;work&nbsp;given&nbsp;a&nbsp;few&nbsp;tweaks&nbsp;to&nbsp;the&nbsp;DllImport.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;However,&nbsp;I&nbsp;cannot&nbsp;find&nbsp;any&nbsp;function&nbsp;called&nbsp;&quot;unzOpenCurrentFile2&quot;&nbsp;in&nbsp;MonoPosixHelper.&nbsp;I&nbsp;found&nbsp;some&nbsp;sort&nbsp;of&nbsp;mapping&nbsp;in&nbsp;WindowBase's&nbsp;IOFunctions.cs,&nbsp;but&nbsp;I'm&nbsp;not&nbsp;sure&nbsp;I&nbsp;understand&nbsp;it's&nbsp;purpose,&nbsp;nor&nbsp;if&nbsp;it&nbsp;is&nbsp;in&nbsp;any&nbsp;way&nbsp;related&nbsp;to&nbsp;this.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;I&nbsp;can't&nbsp;shake&nbsp;the&nbsp;feeling&nbsp;that&nbsp;simply&nbsp;changing&nbsp;that&nbsp;DllImport&nbsp;is&nbsp;all&nbsp;I&nbsp;need,&nbsp;but&nbsp;I&nbsp;am&nbsp;too&nbsp;confused&nbsp;by&nbsp;the&nbsp;naming&nbsp;to&nbsp;be&nbsp;sure.&nbsp;Any&nbsp;pointers&nbsp;would&nbsp;be&nbsp;greatly&nbsp;appreciated!&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;p.s.&nbsp;My&nbsp;apologies&nbsp;if&nbsp;this&nbsp;double-posts,&nbsp;I&nbsp;got&nbsp;some&nbsp;sort&nbsp;of&nbsp;bounce&nbsp;message.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;&gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&gt;&nbsp;Mono-devel-list@lists.ximian.com&lt;br&gt;&gt;&nbsp;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
