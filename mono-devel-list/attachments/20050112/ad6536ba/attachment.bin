using System;

public class Test
{
	static void puts (string s) {
		Console.WriteLine (s);
	}
	static void put (int value) {
		Console.WriteLine ("Value: " + value);
	}
	
	
	public static void testSignedOverflow () {
		puts ("Testing signed overflow...");
		int [] ia = new int [2];
		int i = 1;
		while (i < ia.Length) {
			try {
				puts ("i = " + i);
				ia [i] = 0;
			}
			catch ( IndexOutOfRangeException e ) {
				puts ("Yes, we had an overflow (i = " + i + ")");
				return;
			}
			i += 2147483647;
		}
		puts( "Testing signed overflow done." );
	}
	
	public static void testUnsignedOverflow () {
		puts ("Testing unsigned overflow...");
		int [] ia = new int [2];
		uint i = 1;
		while (i < ia.Length) {
			try {
				puts ("i = " + i);
				ia [i] = 0;
			}
			catch ( IndexOutOfRangeException e ) {
				puts ("Yes, we had an overflow (i = " + i + ")");
				return;
			}
			i += 2147483647;
		}
		puts( "Testing unsigned overflow done." );
	}
	
	public static void testUncheckedSignedOverflow () {
		puts ("Testing unchecked signed overflow...");
		int [] ia = new int [2];
		int i = 1;
		while (i < ia.Length) {
			puts ("i = " + i);
			ia [i] = 0;
			i += 2147483647;
		}
		puts( "Testing unchecked signed overflow done." );
	}
	
	public static void testUncheckedUnsignedOverflow () {
		puts ("Testing unchecked unsigned overflow...");
		int [] ia = new int [2];
		uint i = 1;
		while (i < ia.Length) {
			puts ("i = " + i);
			ia [i] = 0;
			i += 2147483647;
		}
		puts( "Testing unchecked unsigned overflow done." );
	}
	
	public static void testSignedUnderflow () {
		puts ("Testing signed underflow...");
		int [] ia = new int [2];
		int i = 1;
		while (i >= 0) {
			try {
				puts ("i = " + i);
				ia [i] = 0;
			}
			catch ( IndexOutOfRangeException e ) {
				puts ("Yes, we had an underflow (i = " + i + ")");
				return;
			}
			i -= 4;
		}
		puts( "Testing signed underflow done." );
	}
	
	public static void testUnsignedUnderflow () {
		puts ("Testing unsigned underflow...");
		int [] ia = new int [2];
		uint i = 1;
		while (i >= 0) {
			try {
				puts ("i = " + i);
				ia [i] = 0;
			}
			catch ( IndexOutOfRangeException e ) {
				puts ("Yes, we had an underflow (i = " + i + ")");
				return;
			}
			i -= 4;
		}
		puts( "Testing unsigned underflow done." );
	}
	
	public static void testUncheckedSignedUnderflow () {
		puts ("Testing unchecked signed underflow...");
		int [] ia = new int [2];
		int i = 1;
		while (i >= 0) {
			puts ("i = " + i);
			ia [i] = 0;
			i -= 4;
		}
		puts( "Testing unchecked signed underflow done." );
	}
	
	public static void testUncheckedUnsignedUnderflow () {
		puts ("Testing unchecked unsigned underflow...");
		int [] ia = new int [2];
		uint i = 1;
		while (i >= 0) {
			puts ("i = " + i);
			ia [i] = 0;
			i -= 4;
		}
		puts( "Testing unchecked unsigned underflow done." );
	}
	
	
	public static int Main () {
		try {
			testSignedOverflow ();
			testUnsignedOverflow ();
			testSignedUnderflow ();
			testUnsignedUnderflow ();
		}
		catch (System.Exception e) {
			puts (e.Message);
			puts (e.Source);
			return -1;
		}
		try {
			testUncheckedSignedOverflow ();
		}
		catch (System.Exception e) {
			puts (e.Message);
			puts (e.Source);
		}
		try {
			testUncheckedUnsignedOverflow ();
		}
		catch (System.Exception e) {
			puts (e.Message);
			puts (e.Source);
		}
		try {
			testUncheckedSignedUnderflow ();
		}
		catch (System.Exception e) {
			puts (e.Message);
			puts (e.Source);
		}
		try {
			testUncheckedUnsignedUnderflow ();
		}
		catch (System.Exception e) {
			puts (e.Message);
			puts (e.Source);
		}
		return 0;
	}
}
