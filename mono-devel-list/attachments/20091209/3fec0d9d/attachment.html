<tt>
&lt;html&gt;<br>
&lt;body&gt;<br>
For&nbsp;sure&nbsp;I&nbsp;can&nbsp;pass&nbsp;a&nbsp;test&nbsp;case,&nbsp;is&nbsp;better&nbsp;that&nbsp;I&nbsp;file&nbsp;a&nbsp;bug&nbsp;report?&nbsp;I<br>
think&nbsp;that&nbsp;Mono&nbsp;team&nbsp;already&nbsp;knows&nbsp;where&nbsp;datasets&nbsp;are&nbsp;slower&nbsp;than&nbsp;MS.Net<br>
and&nbsp;maybe&nbsp;can&nbsp;suggest&nbsp;me&nbsp;some&nbsp;&amp;quot;best&nbsp;practice&amp;quot;.&lt;br&gt;<br>
Btw&nbsp;with&nbsp;the&nbsp;code&nbsp;provided&nbsp;below&nbsp;with&nbsp;MS.Net&nbsp;on&nbsp;a&nbsp;standard&nbsp;developer<br>
machine&nbsp;and&nbsp;Mono&nbsp;on&nbsp;a&nbsp;bi-processor&nbsp;testing&nbsp;machine&nbsp;(with&nbsp;2GB&nbsp;of<br>
ram):&lt;br&gt;&lt;br&gt;<br>
1000&nbsp;rows&lt;br&gt;<br>
MS.Net:&nbsp;130ms&lt;br&gt;<br>
Mono&nbsp;2.4.3:&amp;nbsp;&nbsp;1.2s&lt;br&gt;<br>
Mono&nbsp;2.0.1:&amp;nbsp;&nbsp;3.5s&lt;br&gt;&lt;br&gt;<br>
10.000&nbsp;rows&lt;br&gt;<br>
MS.Net:&nbsp;less&nbsp;than&nbsp;a&nbsp;second&lt;br&gt;<br>
Mono&nbsp;2.4.3:&nbsp;114s&lt;br&gt;<br>
Mono&nbsp;2.0.1:&nbsp;361s&lt;br&gt;&lt;br&gt;<br>
I&nbsp;have&nbsp;tables&nbsp;with&nbsp;more&nbsp;than&nbsp;50.000&nbsp;rows...I&nbsp;don't&nbsp;know&nbsp;how&nbsp;much&nbsp;it&nbsp;takes<br>
to&nbsp;perform&nbsp;the&nbsp;elaboration.&nbsp;RowFilter&nbsp;speed&nbsp;up&nbsp;only&nbsp;if&nbsp;applied&nbsp;on&nbsp;small<br>
rowsets.&lt;br&gt;<br>
The&nbsp;problem&nbsp;is&nbsp;in&nbsp;the&nbsp;.Select&nbsp;method,&nbsp;removing&nbsp;those&nbsp;lines&nbsp;the<br>
elaboration&nbsp;is&nbsp;quicker&nbsp;in&nbsp;Mono.&nbsp;Testing&nbsp;machines&nbsp;are&nbsp;not&nbsp;with&nbsp;the&nbsp;same<br>
resources&nbsp;but&nbsp;the&nbsp;difference&nbsp;is&nbsp;too&nbsp;much&nbsp;to&nbsp;think&nbsp;to&nbsp;an&nbsp;hardware<br>
difference.&lt;br&gt;<br>
Here&nbsp;is&nbsp;the&nbsp;code...&lt;br&gt;&lt;br&gt;<br>
&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
DataSet&nbsp;ds1&nbsp;=&nbsp;new&nbsp;DataSet();&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds1.Tables.Add();&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds1.Tables[0].Columns.Add(&amp;quot;COL1&amp;quot;,&nbsp;typeof(string));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds1.Tables[0].Columns.Add(&amp;quot;COL2&amp;quot;,&nbsp;typeof(int));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds1.Tables[0].Columns.Add(&amp;quot;COL3&amp;quot;,&nbsp;typeof(bool));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for<br>
(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&amp;lt;&nbsp;10000;&nbsp;i++)&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds1.Tables[0].Rows.Add(new&nbsp;object[]&nbsp;{&nbsp;&amp;quot;test&amp;quot;,&nbsp;i,&nbsp;true&nbsp;});&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
DataSet&nbsp;ds2&nbsp;=&nbsp;new&nbsp;DataSet();&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds2.Tables.Add();&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds2.Tables[0].Columns.Add(&amp;quot;COL1&amp;quot;,&nbsp;typeof(string));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds2.Tables[0].Columns.Add(&amp;quot;COL2&amp;quot;,&nbsp;typeof(int));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds2.Tables[0].Columns.Add(&amp;quot;COL3&amp;quot;,&nbsp;typeof(bool));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for<br>
(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&amp;lt;&nbsp;10000;&nbsp;i++)&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds2.Tables[0].Rows.Add(new&nbsp;object[]&nbsp;{&nbsp;&amp;quot;test&amp;quot;,&nbsp;i,&nbsp;true&nbsp;});&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
DataSet&nbsp;ds3&nbsp;=&nbsp;new&nbsp;DataSet();&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds3.Tables.Add();&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds3.Tables[0].Columns.Add(&amp;quot;COL1&amp;quot;,&nbsp;typeof(string));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds3.Tables[0].Columns.Add(&amp;quot;COL2&amp;quot;,&nbsp;typeof(int));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds3.Tables[0].Columns.Add(&amp;quot;COL3&amp;quot;,&nbsp;typeof(bool));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for<br>
(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&amp;lt;&nbsp;10000;&nbsp;i++)&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
ds3.Tables[0].Rows.Add(new&nbsp;object[]&nbsp;{&nbsp;&amp;quot;test&amp;quot;,&nbsp;i,&nbsp;true&nbsp;});&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;int<br>
idx=0;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
foreach&nbsp;(DataRow&nbsp;dr&nbsp;in&nbsp;ds1.Tables[0].Rows)&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
DataRow[]&nbsp;dr2&nbsp;=&nbsp;ds2.Tables[0].Select(&amp;quot;COL2=&amp;quot;&nbsp;+&nbsp;idx);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
DataRow[]&nbsp;dr3&nbsp;=&nbsp;ds3.Tables[0].Select(&amp;quot;COL2=&amp;quot;&nbsp;+&nbsp;idx);&lt;br&gt;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
idx++;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
}&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/tt&gt;At&nbsp;21.59&nbsp;02/12/2009,&nbsp;Nagappan&nbsp;Alagappan&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;type=cite&nbsp;class=cite&nbsp;cite=&quot;&quot;&gt;Hello,&lt;br&gt;&lt;br&gt;<br>
Do&nbsp;you&nbsp;have&nbsp;a&nbsp;test&nbsp;case&nbsp;to&nbsp;reproduce&nbsp;this&nbsp;issue,&nbsp;which&nbsp;you&nbsp;could&nbsp;share<br>
with&nbsp;the&nbsp;Mono&nbsp;team&nbsp;?&lt;br&gt;&lt;br&gt;<br>
Thanks&lt;br&gt;<br>
Nagappan&lt;br&gt;&lt;br&gt;<br>
On&nbsp;Wed,&nbsp;Dec&nbsp;2,&nbsp;2009&nbsp;at&nbsp;4:05&nbsp;AM,&nbsp;APS<br>
&amp;lt;&lt;a&nbsp;href=&quot;mailto:dev.malst@apsystems.it&quot;&gt;dev.malst@apsystems.it&lt;/a&gt;<br>
&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;dl&gt;<br>
&lt;dd&gt;Hi,&lt;br&gt;&lt;br&gt;<br>
<br>
&lt;dd&gt;I'm&nbsp;testing&nbsp;some&nbsp;old&nbsp;elaboration&nbsp;that&nbsp;cycles&nbsp;on&nbsp;a&nbsp;large&nbsp;datatable<br>
and&lt;br&gt;<br>
<br>
&lt;dd&gt;for&nbsp;every&nbsp;rows&nbsp;makes&nbsp;several&nbsp;selections&nbsp;on&nbsp;separated&nbsp;datatables.&lt;br&gt;<br>
<br>
&lt;dd&gt;This&nbsp;elaboration&nbsp;is&nbsp;really&nbsp;slow&nbsp;on&nbsp;mono&nbsp;and&nbsp;fast&nbsp;on<br>
&lt;a&nbsp;href=&quot;http://MS.NET&quot;&gt;MS.NET&lt;/a&gt;,&nbsp;let&nbsp;say&lt;br&gt;<br>
<br>
&lt;dd&gt;400secs&nbsp;vs&nbsp;4&nbsp;secs.&lt;br&gt;<br>
<br>
&lt;dd&gt;It&nbsp;seems&nbsp;that&nbsp;last&nbsp;rows&nbsp;are&nbsp;slower&nbsp;that&nbsp;first&nbsp;rows.&lt;br&gt;<br>
<br>
&lt;dd&gt;I&nbsp;made&nbsp;some&nbsp;test&nbsp;on&nbsp;datasets&nbsp;scroll&nbsp;and&nbsp;I&nbsp;saw&nbsp;that&nbsp;mono<br>
performance&lt;br&gt;<br>
<br>
&lt;dd&gt;is&nbsp;better&nbsp;than&nbsp;&lt;a&nbsp;href=&quot;http://MS.NET&quot;&gt;MS.NET&lt;/a&gt;&nbsp;so&nbsp;the&nbsp;delay&nbsp;is&nbsp;due<br>
to&nbsp;inner&nbsp;selections.&lt;br&gt;<br>
<br>
&lt;dd&gt;I&nbsp;changed&nbsp;datatable.select&nbsp;in&nbsp;defaultview.sort&nbsp;and&nbsp;I&nbsp;gained<br>
200secs,&lt;br&gt;<br>
<br>
&lt;dd&gt;still&nbsp;too&nbsp;slow.&lt;br&gt;<br>
<br>
&lt;dd&gt;Now&nbsp;I've&nbsp;identified&nbsp;some&nbsp;datatable.compute&nbsp;as&nbsp;the&nbsp;main&nbsp;delay<br>
source.&lt;br&gt;<br>
<br>
&lt;dd&gt;I'll&nbsp;try&nbsp;to&nbsp;change&nbsp;them&nbsp;using&nbsp;Linq&nbsp;but&nbsp;the&nbsp;question&nbsp;is:&nbsp;there's<br>
some&lt;br&gt;<br>
<br>
&lt;dd&gt;known&nbsp;performance&nbsp;problem&nbsp;in&nbsp;dataset&nbsp;heavy&nbsp;usage,&nbsp;there's&nbsp;some<br>
best&lt;br&gt;<br>
<br>
&lt;dd&gt;pratice&nbsp;that&nbsp;you&nbsp;can&nbsp;suggest&nbsp;to&nbsp;speed&nbsp;up&nbsp;elaborations?&lt;br&gt;<br>
<br>
&lt;dd&gt;Thanks&nbsp;in&nbsp;advance.&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
<br>
&lt;dd&gt;_______________________________________________&lt;br&gt;<br>
<br>
&lt;dd&gt;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
<br>
&lt;dd&gt;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;<br>
Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;dd&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;&lt;br&gt;<br>
<br>
&lt;/dl&gt;&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Linux&nbsp;Desktop&nbsp;(GUI&nbsp;Application)&nbsp;Testing&nbsp;Project&nbsp;-<br>
&lt;a&nbsp;href=&quot;http://ldtp.freedesktop.org&quot;&gt;http://ldtp.freedesktop.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://nagappanal.blogspot.com/&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://nagappanal.blogspot.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Il&nbsp;messaggio&nbsp;e'&nbsp;stato&nbsp;analizzato&nbsp;alla&nbsp;ricerca&nbsp;di&nbsp;virus&nbsp;o&nbsp;&lt;br&gt;<br>
contenuti&nbsp;pericolosi&nbsp;da<br>
&lt;a&nbsp;href=&quot;http://www.mailscanner.info/&quot;&gt;MailScanner&lt;/a&gt;&lt;/b&gt;,&nbsp;ed&nbsp;e'&nbsp;&lt;br&gt;<br>
risultato&nbsp;non&nbsp;infetto.&nbsp;&lt;/blockquote&gt;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
