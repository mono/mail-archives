<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&nbsp;http-equiv=Content-Type&gt;<br>
&lt;META&nbsp;name=GENERATOR&nbsp;content=&quot;MSHTML&nbsp;8.00.6001.18876&quot;&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=437003808-12022010&gt;Hi&nbsp;<br>
All,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=437003808-12022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=437003808-12022010&gt;I&nbsp;need&nbsp;to&nbsp;get&nbsp;a&nbsp;list&nbsp;<br>
of&nbsp;all&nbsp;loaded&nbsp;AppDomains&nbsp;in&nbsp;the&nbsp;running&nbsp;process&nbsp;(without&nbsp;asking&nbsp;developer&nbsp;to&nbsp;<br>
explicitely&nbsp;register&nbsp;them&nbsp;in&nbsp;a&nbsp;static&nbsp;hashtable&nbsp;for&nbsp;instance).&nbsp;In&nbsp;.NET&nbsp;on&nbsp;<br>
Windows,&nbsp;I&nbsp;can&nbsp;use&nbsp;COM&nbsp;Interop&nbsp;(see&nbsp;code&nbsp;below).&nbsp;But&nbsp;this&nbsp;is&nbsp;of&nbsp;course&nbsp;unlikely&nbsp;<br>
to&nbsp;run&nbsp;in&nbsp;Mono/Linux.&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=437003808-12022010&gt;Does&nbsp;anybody&nbsp;know&nbsp;how&nbsp;to&nbsp;do?&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=437003808-12022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=437003808-12022010&gt;Zoltan,&nbsp;I've&nbsp;read&nbsp;<br>
in&amp;nbsp;&lt;A&nbsp;<br>
href=&quot;http://www.mono-project.com/Todo&quot;&gt;http://www.mono-project.com/Todo&lt;/A&gt;&nbsp;<br>
that&nbsp;there&nbsp;would&nbsp;be&nbsp;a&nbsp;&quot;&lt;FONT&nbsp;size=3&nbsp;face=&quot;Times&nbsp;New&nbsp;Roman&quot;&gt;appdomain&nbsp;ID-indexed&nbsp;<br>
tables&nbsp;&lt;/FONT&gt;&quot;&nbsp;=&amp;gt;&nbsp;can&nbsp;it&nbsp;be&nbsp;used&nbsp;for&nbsp;this?&nbsp;Where&nbsp;is&nbsp;it?&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=437003808-12022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=437003808-12022010&gt;thks&nbsp;in&nbsp;advance&nbsp;for&nbsp;<br>
your&nbsp;ideas&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=437003808-12022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=437003808-12022010&gt;Lionel&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=437003808-12022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=437003808-12022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=437003808-12022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=437003808-12022010&gt;Code&nbsp;to&nbsp;do&nbsp;this&nbsp;with&nbsp;<br>
COM&nbsp;Interop&nbsp;on&nbsp;Windows&nbsp;(coming&nbsp;from&nbsp;&lt;A&nbsp;<br>
href=&quot;http://weblogs.asp.net/nunitaddin/archive/2003/02/07/1992.aspx&quot;&gt;http://weblogs.asp.net/nunitaddin/archive/2003/02/07/1992.aspx&lt;/A&gt;):&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;<br>
class=437003808-12022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;&lt;SPAN&nbsp;class=437003808-12022010&gt;&lt;PRE&gt;&lt;P&gt;&lt;FONT&nbsp;color=#008000&nbsp;size=2&gt;//&nbsp;Add&nbsp;the&nbsp;following&nbsp;as&nbsp;a&nbsp;COM&nbsp;reference...&lt;/FONT&gt;&lt;/P&gt;&lt;FONT&nbsp;color=#008000&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#008000&nbsp;size=2&gt;//&nbsp;C:\WINDOWS\Microsoft.NET\Framework\v1.0.3705\mscoree.tlb&lt;/FONT&gt;&lt;/P&gt;&lt;FONT&nbsp;color=#008000&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;<br>
&lt;/FONT&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;using&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;System;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;using&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;System.Collections;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;using&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;System.Runtime.InteropServices;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;using&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;mscoree;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;public&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;class&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;AppDomainUtils&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;{&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;public&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;static&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;IList&nbsp;ListAppDomains()&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CorRuntimeHostClass&nbsp;host&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;new&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;CorRuntimeHostClass();&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#000000&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;try&lt;/FONT&gt;&lt;/P&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ArrayList&nbsp;list&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;new&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;ArrayList();&lt;/FONT&gt;&lt;/P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IntPtr&nbsp;enumHandle;<br>
&lt;/FONT&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host.EnumDomains(&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;out&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;enumHandle);&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#000000&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;while&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;(&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;true&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;)&nbsp;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#000000&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;object&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;domain;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host.NextDomain(enumHandle,&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;out&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;domain);&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#000000&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;if&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;(domain&nbsp;==&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;null&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;)&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;break&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.Add((AppDomain)domain);&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host.CloseEnum(enumHandle);&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#000000&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;return&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;list;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#000000&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;finally&lt;/FONT&gt;&lt;/P&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marshal.ReleaseComObject(host);&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT&nbsp;size=2&gt;}&lt;/FONT&gt;&lt;/P&gt;&lt;/PRE&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
