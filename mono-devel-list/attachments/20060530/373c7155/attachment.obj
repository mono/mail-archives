Index: mod_mono.c
===================================================================
--- mod_mono.c	(revision 61256)
+++ mod_mono.c	(working copy)
@@ -1370,6 +1370,9 @@
 	return 0;
 }
 
+static void start_xsp (module_cfg *config, int is_restart, char *alias);
+static apr_status_t terminate_xsp2 (void *data, char *alias);
+
 static int
 mono_execute_request (request_rec *r, char auto_app)
 {
@@ -1381,6 +1384,7 @@
 	int status = 0;
 	module_cfg *config;
 	per_dir_config *dir_config = NULL;
+	xsp_data *xsp;
 	int idx;
 
 	config = ap_get_module_config (r->server->module_config, &mono_module);
@@ -1409,10 +1413,16 @@
 #ifdef APACHE13
 	sock = apr_pcalloc (r->pool, sizeof (apr_socket_t));
 #endif
-	rv = setup_socket (&sock, &config->servers [idx], r->pool);
+	xsp = &config->servers [idx];
+	rv = setup_socket (&sock, xsp, r->pool);
+	if (rv != APR_SUCCESS) {
+		terminate_xsp2 (r->server, xsp->alias); 
+		start_xsp (config, 1, xsp->alias);
+		rv = setup_socket (&sock, xsp, r->pool);
+		if (rv != APR_SUCCESS)
+			return HTTP_SERVICE_UNAVAILABLE;
+	}
 	DEBUG_PRINT (2, "After setup_socket");
-	if (rv != APR_SUCCESS)
-		return HTTP_SERVICE_UNAVAILABLE;
 
 	DEBUG_PRINT (2, "Sending init data");
 	if (send_initial_data (r, sock, auto_app) != 0) {
