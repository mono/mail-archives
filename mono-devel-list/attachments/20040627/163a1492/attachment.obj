Index: ApplicationServer.cs
===================================================================
RCS file: /mono/xsp/server/ApplicationServer.cs,v
retrieving revision 1.2
diff -u -r1.2 ApplicationServer.cs
--- ApplicationServer.cs	24 Jun 2004 17:25:32 -0000	1.2
+++ ApplicationServer.cs	28 Jun 2004 03:14:01 -0000
@@ -86,9 +86,15 @@
 
 		private void AddApplication (string vhost, int vport, string vpath, string fullPath)
 		{
-			// TODO - check for duplicates, sort, optimize, etc.
+			// TODO - sort, optimize, etc.
 			if (started)
 				throw new InvalidOperationException ("The server is already started.");
+
+			// Check for duplicates.
+			foreach (VPathToHost vpth in vpathToHost) {
+				if (vpth.Match(vhost, vport, vpath)) 
+					throw new InvalidOperationException ("Duplicate Application.");
+			}
 
 			if (verbose) {
 				Console.WriteLine("Registering application:");