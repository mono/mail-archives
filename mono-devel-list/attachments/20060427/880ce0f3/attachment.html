<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/3.8.2&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
Hi&nbsp;Gonzalo,&lt;BR&gt;<br>
&lt;BR&gt;<br>
I've&nbsp;investigated&nbsp;on&nbsp;my&nbsp;&amp;quot;deadlock&amp;quot;&nbsp;problem.&nbsp;It&nbsp;seems&nbsp;that&nbsp;this&nbsp;problem&nbsp;comes&nbsp;from&nbsp;GAMIN.&lt;BR&gt;<br>
I&nbsp;explain:&lt;BR&gt;<br>
&lt;BR&gt;<br>
I'm&nbsp;running&nbsp;a&nbsp;big&nbsp;(more&nbsp;than&nbsp;50&nbsp;aspx,&nbsp;ascx)&nbsp;web&nbsp;application.&nbsp;If&nbsp;I&nbsp;run&nbsp;a&nbsp;precompilation&nbsp;page&nbsp;(see&nbsp;the&nbsp;attached&nbsp;aspx.cs)&lt;BR&gt;<br>
Mono,&nbsp;will&nbsp;compile&nbsp;about&nbsp;20&nbsp;pages,&nbsp;and&nbsp;will&nbsp;lock&nbsp;forever...&nbsp;&lt;BR&gt;<br>
If&nbsp;you&nbsp;send&nbsp;a&nbsp;SIGQUIT&nbsp;to&nbsp;mod_mono_server&nbsp;you&nbsp;will&nbsp;obtain&nbsp;that&nbsp;some&nbsp;thread&nbsp;do&nbsp;:&lt;BR&gt;<br>
&lt;BR&gt;<br>
-&nbsp;&amp;quot;&amp;quot;&nbsp;tid=0x0xb646bbb0&nbsp;this=0x0x3893c0:&lt;BR&gt;<br>
&amp;nbsp;&nbsp;-&nbsp;in&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;System.IO.FAMWatcher:gamin_MonitorDirectory&nbsp;(System.IO.FAMConnection&amp;amp;,string,System.IO.FAMRequest&amp;amp;,intptr)&nbsp;&amp;lt;0x4&amp;gt;&lt;BR&gt;<br>
-&nbsp;in&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;System.IO.FAMWatcher:gamin_MonitorDirectory&nbsp;(System.IO.FAMConnection&amp;amp;,string,System.IO.FAMRequest&amp;amp;,intptr)&nbsp;&amp;lt;0xffffffbf&amp;gt;&lt;BR&gt;<br>
&amp;nbsp;&nbsp;-&nbsp;in&nbsp;System.IO.FAMWatcher:FAMMonitorDirectory&nbsp;(System.IO.FAMConnection&amp;amp;,string,System.IO.FAMRequest&amp;amp;,intptr)&nbsp;&amp;lt;0x1f&amp;gt;&lt;BR&gt;<br>
&amp;nbsp;&nbsp;-&nbsp;in&nbsp;System.IO.FAMWatcher:StartMonitoringDirectory&nbsp;(System.IO.FAMData,bool)&nbsp;&amp;lt;0x7d&amp;gt;&lt;BR&gt;<br>
&amp;nbsp;&nbsp;-&nbsp;in&nbsp;System.IO.FAMWatcher:StartDispatching&nbsp;(System.IO.FileSystemWatcher)&nbsp;&amp;lt;0x192&amp;gt;&lt;BR&gt;<br>
&amp;nbsp;&nbsp;-&nbsp;in&nbsp;System.IO.FileSystemWatcher:Start&nbsp;()&nbsp;&amp;lt;0x17&amp;gt;&lt;BR&gt;<br>
&amp;nbsp;&nbsp;-&nbsp;in&nbsp;System.IO.FileSystemWatcher:set_EnableRaisingEvents&nbsp;(bool)&nbsp;&amp;lt;0x27&amp;gt;&lt;BR&gt;<br>
&amp;nbsp;&nbsp;-&nbsp;in&nbsp;(wrapper&nbsp;remoting-invoke-with-check)&nbsp;System.IO.FileSystemWatcher:set_EnableRaisingEvents&nbsp;(bool)&nbsp;&amp;lt;0xffba2006&amp;gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
So&nbsp;the&nbsp;gamin_MonitorDirectory&nbsp;will&nbsp;never&nbsp;end&nbsp;and&nbsp;block&nbsp;all&nbsp;the&nbsp;other&nbsp;thread...&lt;BR&gt;<br>
The&nbsp;only&nbsp;way&nbsp;to&nbsp;force&nbsp;compilation&nbsp;contunation&nbsp;is&nbsp;to&nbsp;kill&nbsp;gam_server...&lt;BR&gt;<br>
The&nbsp;compilation&nbsp;will&nbsp;continue,&nbsp;compile&nbsp;5&nbsp;page,&nbsp;and&nbsp;will&nbsp;block&nbsp;again!!&lt;BR&gt;<br>
&lt;BR&gt;<br>
I've&nbsp;tried&nbsp;to&nbsp;remove&nbsp;gamin&nbsp;from&nbsp;my&nbsp;linux...&lt;BR&gt;<br>
and&nbsp;suprise!!!&lt;BR&gt;<br>
&lt;BR&gt;<br>
It&nbsp;work&nbsp;well,&nbsp;without&nbsp;gamin!&lt;BR&gt;<br>
&lt;BR&gt;<br>
Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;tell&nbsp;mono,&nbsp;not&nbsp;to&nbsp;use&nbsp;gamin,&nbsp;for&nbsp;FAMWatcher,&nbsp;even&nbsp;if&nbsp;gamin&nbsp;is&nbsp;installed?&lt;BR&gt;<br>
My&nbsp;version&nbsp;of&nbsp;gamin,&nbsp;is&nbsp;the&nbsp;last&nbsp;one:&nbsp;0.1.7&lt;BR&gt;<br>
&lt;BR&gt;<br>
I'will&nbsp;try&nbsp;to&nbsp;do&nbsp;a&nbsp;test&nbsp;case&nbsp;with&nbsp;many&nbsp;aspx&nbsp;files,&nbsp;to&nbsp;show&nbsp;you&nbsp;the&nbsp;problem!&lt;BR&gt;<br>
&lt;BR&gt;<br>
Thanks&nbsp;in&nbsp;advance&lt;BR&gt;<br>
&lt;BR&gt;<br>
Le&nbsp;mardi&nbsp;25&nbsp;avril&nbsp;2006&nbsp;&amp;#224;&nbsp;18:03&nbsp;-0700,&nbsp;Gonzalo&nbsp;Paniagua&nbsp;Javier&nbsp;a&nbsp;&amp;#233;crit&nbsp;:<br>
&lt;BLOCKQUOTE&nbsp;TYPE=CITE&gt;<br>
&lt;PRE&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;On&nbsp;Tue,&nbsp;2006-04-25&nbsp;at&nbsp;18:25&nbsp;+0200,&nbsp;Hubert&nbsp;FONGARNAND&nbsp;wrote:&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;Hi&nbsp;Gonzalo,&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;It&nbsp;seems&nbsp;that&nbsp;i've&nbsp;another&nbsp;deadlock&nbsp;problem,&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;but&nbsp;it's&nbsp;very&nbsp;hard&nbsp;to&nbsp;reproduce&nbsp;exactly&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;&amp;gt;&nbsp;I've&nbsp;send&nbsp;a&nbsp;SIGQUIT&nbsp;to&nbsp;mod_mono_server&nbsp;to&nbsp;do&nbsp;a&nbsp;thread&nbsp;dump&nbsp;:&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;Can&nbsp;you&nbsp;provide&nbsp;more&nbsp;data&nbsp;here?&nbsp;Specifically,&nbsp;the&nbsp;@Page&nbsp;or&nbsp;@Control&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;directive&nbsp;for&nbsp;the&nbsp;page/control&nbsp;that&nbsp;is&nbsp;being&nbsp;compiled&nbsp;and&nbsp;anything&nbsp;else&lt;/FONT&gt;<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;that&nbsp;helps&nbsp;reproducing&nbsp;the&nbsp;problem.&lt;/FONT&gt;<br>
<br>
&lt;FONT&nbsp;COLOR=&quot;#000000&quot;&gt;-Gonzalo&lt;/FONT&gt;<br>
<br>
&lt;/PRE&gt;<br>
&lt;/BLOCKQUOTE&gt;<br>
_______________________________________________&lt;br&gt;Ce&nbsp;message&nbsp;et&nbsp;les&nbsp;éventuels&nbsp;documents&nbsp;joints&nbsp;peuvent&nbsp;contenir&nbsp;des&nbsp;informations&nbsp;confidentielles.&lt;br&gt;Au&nbsp;cas&nbsp;où&nbsp;il&nbsp;ne&nbsp;vous&nbsp;serait&nbsp;pas&nbsp;destiné,&nbsp;nous&nbsp;vous&nbsp;remercions&nbsp;de&nbsp;bien&nbsp;vouloir&nbsp;le&nbsp;supprimer&nbsp;et&nbsp;en&nbsp;aviser&nbsp;immédiatement&nbsp;l'expéditeur.&nbsp;Toute&nbsp;utilisation&nbsp;de&nbsp;ce&nbsp;message&nbsp;non&nbsp;conforme&nbsp;à&nbsp;sa&nbsp;destination,&nbsp;toute&nbsp;diffusion&nbsp;ou&nbsp;publication,&nbsp;totale&nbsp;ou&nbsp;partielle&nbsp;et&nbsp;quel&nbsp;qu'en&nbsp;soit&nbsp;le&nbsp;moyen&nbsp;est&nbsp;formellement&nbsp;interdite.&lt;br&gt;Les&nbsp;communications&nbsp;sur&nbsp;internet&nbsp;n'étant&nbsp;pas&nbsp;sécurisées,&nbsp;l'intégrité&nbsp;de&nbsp;ce&nbsp;message&nbsp;n'est&nbsp;pas&nbsp;assurée&nbsp;et&nbsp;la&nbsp;société&nbsp;émettrice&nbsp;ne&nbsp;peut&nbsp;être&nbsp;tenue&nbsp;pour&nbsp;responsable&nbsp;de&nbsp;son&nbsp;contenu.&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
