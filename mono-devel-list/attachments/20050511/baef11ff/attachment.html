<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2900.2627&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;<br>
&lt;DIV&nbsp;align=left&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#0000ff&nbsp;2px&nbsp;solid;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=OutlookMessageHeader&nbsp;lang=en-us&nbsp;dir=ltr&nbsp;align=left&gt;<br>
&nbsp;&nbsp;&lt;HR&nbsp;tabIndex=-1&gt;<br>
&nbsp;&nbsp;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;mono-devel-list-admin@lists.ximian.com&nbsp;<br>
&nbsp;&nbsp;[mailto:mono-devel-list-admin@lists.ximian.com]&nbsp;&lt;B&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/B&gt;Bill&nbsp;<br>
&nbsp;&nbsp;Middleton&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;mardi&nbsp;10&nbsp;mai&nbsp;2005&nbsp;20:19&lt;BR&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;Jérôme&nbsp;Laban;&nbsp;<br>
&nbsp;&nbsp;mono-devel-list@lists.ximian.com&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;Re:&nbsp;[Mono-devel-list]&nbsp;<br>
&nbsp;&nbsp;Mono-1.1.7&nbsp;-&nbsp;NetBSD&nbsp;2.0.x&nbsp;Support&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;This&nbsp;looks&nbsp;promising.&amp;nbsp;&nbsp;Nice&nbsp;job.&lt;BR&gt;&lt;BR&gt;A&nbsp;couple&nbsp;of&nbsp;<br>
&nbsp;&nbsp;suggestions:&lt;BR&gt;&lt;BR&gt;1.&nbsp;Consider&nbsp;submitting&nbsp;your&nbsp;patch&nbsp;against&nbsp;the&nbsp;current&nbsp;SVN&nbsp;<br>
&nbsp;&nbsp;code.&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=707040807-11052005&gt;&amp;nbsp;&lt;FONT&nbsp;face=Tahoma&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;I&nbsp;will.&nbsp;I'm&nbsp;talking&nbsp;to&nbsp;Miguel&nbsp;about&nbsp;that.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#0000ff&nbsp;2px&nbsp;solid;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;class=707040807-11052005&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;2.&nbsp;Don't&nbsp;remove&nbsp;the&nbsp;existing&nbsp;*-*-*netbsd*&nbsp;case&nbsp;from&nbsp;<br>
&nbsp;&nbsp;configure.in.&amp;nbsp;&nbsp;Instead,&nbsp;change&nbsp;it&nbsp;to&nbsp;*-*-*netbsd*1*&nbsp;,&nbsp;and&nbsp;even&nbsp;better,&nbsp;<br>
&nbsp;&nbsp;see&nbsp;if&nbsp;you&nbsp;can&nbsp;get&nbsp;things&nbsp;working&nbsp;with&nbsp;1.6.&nbsp;and&nbsp;update&nbsp;the&nbsp;existing&nbsp;entry.&nbsp;<br>
&nbsp;&nbsp;:)&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=707040807-11052005&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;color=#0000ff&nbsp;size=2&gt;I&nbsp;can&nbsp;<br>
leave&nbsp;the&nbsp;default&nbsp;netbsd.&nbsp;However,&nbsp;I&nbsp;am&nbsp;sure&nbsp;mono&nbsp;will&nbsp;never&nbsp;run&nbsp;properly&nbsp;on&nbsp;<br>
NetBSD&nbsp;1.6&nbsp;because&nbsp;of&nbsp;the&nbsp;lack&nbsp;of&nbsp;native&nbsp;threads&nbsp;support.&amp;nbsp;I'll&nbsp;make&nbsp;the&nbsp;<br>
changes&nbsp;anyway.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#0000ff&nbsp;2px&nbsp;solid;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=707040807-11052005&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;BR&gt;3.&nbsp;Don't&nbsp;use&nbsp;__NetBSD__&nbsp;<br>
&nbsp;&nbsp;in&nbsp;libgc&nbsp;(dyn_load.c)&amp;nbsp;&nbsp;libgc&nbsp;sets&nbsp;up&nbsp;definitions&nbsp;for&nbsp;NETBSD&nbsp;in&nbsp;<br>
&nbsp;&nbsp;gcconfig.h.&amp;nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;precompiler&nbsp;definition&nbsp;exclusive&nbsp;to&nbsp;NetBSD2&nbsp;(I&nbsp;<br>
&nbsp;&nbsp;hope)&nbsp;then&nbsp;make&nbsp;a&nbsp;new&nbsp;definition,&nbsp;and&nbsp;||&nbsp;where&nbsp;appropriate,&nbsp;unless&nbsp;you&nbsp;can&nbsp;<br>
&nbsp;&nbsp;test&nbsp;against&nbsp;1.6&nbsp;simultaneously.&nbsp;(although&nbsp;I&amp;nbsp;&nbsp;know&nbsp;__thread&nbsp;wont&nbsp;work&nbsp;on&nbsp;<br>
&nbsp;&nbsp;1.6).&amp;nbsp;&nbsp;It&nbsp;also&nbsp;looks&nbsp;like&nbsp;GC_NETBSD_THREADS&nbsp;are&nbsp;also&nbsp;specific&nbsp;to&nbsp;2.x&nbsp;-&nbsp;<br>
&nbsp;&nbsp;perhaps&nbsp;GC_NETBSD2_THREADS?&lt;BR&gt;&lt;BR&gt;I'm&nbsp;trying&nbsp;to&nbsp;leave&nbsp;the&nbsp;NetBSD&nbsp;1.6&nbsp;folks&nbsp;<br>
&nbsp;&nbsp;some&nbsp;room&nbsp;to&nbsp;work,&nbsp;is&nbsp;all.&lt;SPAN&nbsp;class=707040807-11052005&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;<br>
&nbsp;&nbsp;color=#0000ff&nbsp;size=2&gt;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=707040807-11052005&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;color=#0000ff&nbsp;size=2&gt;I'll&nbsp;<br>
try&nbsp;and&nbsp;make&nbsp;the&nbsp;change&nbsp;too&nbsp;but&nbsp;here&nbsp;too,&nbsp;I'm&nbsp;quite&nbsp;sure&nbsp;NetBSD&nbsp;1.6&nbsp;won't&nbsp;be&nbsp;<br>
supported.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#0000ff&nbsp;2px&nbsp;solid;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=707040807-11052005&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;BR&gt;4.&nbsp;The&nbsp;changes&nbsp;in&nbsp;<br>
&nbsp;&nbsp;mono/mini&nbsp;that&nbsp;you've&nbsp;made&nbsp;should&nbsp;be&nbsp;redone&nbsp;against&nbsp;SVN.&amp;nbsp;&nbsp;Most&nbsp;of&nbsp;them&nbsp;<br>
&nbsp;&nbsp;were&nbsp;taken&nbsp;care&nbsp;of&nbsp;with&nbsp;the&nbsp;FreeBSD&nbsp;changes,&nbsp;I&nbsp;hope.&amp;nbsp;&amp;nbsp;&nbsp;Otoh,&nbsp;I'm&nbsp;<br>
&nbsp;&nbsp;pretty&nbsp;clueless&nbsp;about&nbsp;the&nbsp;registers&nbsp;on&nbsp;NetBSD&nbsp;-&nbsp;but&nbsp;are&nbsp;you&nbsp;sure&nbsp;you&nbsp;want&nbsp;to&nbsp;<br>
&nbsp;&nbsp;redefine:&lt;BR&gt;&lt;BR&gt;+#&nbsp;define&nbsp;SC_EAX&nbsp;sc_eip&lt;BR&gt;+#&nbsp;define&nbsp;SC_EBX&nbsp;sc_edx&lt;BR&gt;+#&nbsp;<br>
&nbsp;&nbsp;define&nbsp;SC_ECX&nbsp;sc_eax&lt;BR&gt;+#&nbsp;define&nbsp;SC_EDX&nbsp;sc_ecx&lt;BR&gt;&lt;BR&gt;?&amp;nbsp;&nbsp;Those&nbsp;seem&nbsp;<br>
&nbsp;&nbsp;odd.&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=707040807-11052005&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;Indeed,&nbsp;these&nbsp;redefinitions&nbsp;are&nbsp;odd,&nbsp;but&nbsp;the&nbsp;register&nbsp;indices&nbsp;are&nbsp;not&nbsp;in&nbsp;<br>
the&nbsp;same&nbsp;orders&nbsp;under&nbsp;NetBSD,&nbsp;hence&nbsp;the&nbsp;shuffle.&nbsp;I'll&nbsp;check&nbsp;if&nbsp;this&nbsp;is&nbsp;still&nbsp;<br>
necessary,&amp;nbsp;since&nbsp;it&nbsp;is&nbsp;a&nbsp;port&nbsp;from&nbsp;an&nbsp;1.1.4&nbsp;patch.&amp;nbsp;About&nbsp;the&nbsp;FreeBSD&nbsp;<br>
changes,&nbsp;I'll&nbsp;check&nbsp;against&nbsp;the&nbsp;SVN&nbsp;although&nbsp;the&nbsp;1.1.7&nbsp;is&nbsp;not&nbsp;really&nbsp;that&nbsp;<br>
old.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=707040807-11052005&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=707040807-11052005&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;Thanks&nbsp;Bill.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=707040807-11052005&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=707040807-11052005&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;color=#0000ff&nbsp;size=2&gt;--&nbsp;<br>
Jerome&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
