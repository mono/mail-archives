Index: System/ChangeLog
===================================================================
--- System/ChangeLog	(revision 64427)
+++ System/ChangeLog	(working copy)
@@ -1,5 +1,10 @@
-2006-08-23 Gonzalo Paniagua Javier <gonzalo@ximian.com>
+2006-08-27  Gert Driesen  <drieseng@users.sourceforge.net>
 
+	* Environment.cs: Fixed IsRunningOnWindows on 2.0 profile, as Platform
+	returns PlatformID.Unix (4) when running on unix.
+
+2006-08-23  Gonzalo Paniagua Javier  <gonzalo@ximian.com>
+
 	* ConsoleCancelEventArgs.cs: fix my build.
 
 2006-08-22  Miguel de Icaza  <miguel@novell.com>
Index: System/Environment.cs
===================================================================
--- System/Environment.cs	(revision 64427)
+++ System/Environment.cs	(working copy)
@@ -642,7 +642,13 @@
 		// private methods
 
 		internal static bool IsRunningOnWindows {
-			get { return ((int) Platform != 128); }
+			get {
+#if NET_2_0
+				return (Platform != PlatformID.Unix);
+#else
+				return ((int) Platform != 128);
+#endif
+			}
 		}
 
 		private static string GacPath {
