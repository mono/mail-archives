<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;8,&nbsp;2009&nbsp;at&nbsp;6:05&nbsp;PM,&nbsp;BGB&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:cr88192@hotmail.com&quot;&gt;cr88192@hotmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;<br>
-----&nbsp;Original&nbsp;Message&nbsp;-----&lt;br&gt;<br>
From:&nbsp;&amp;quot;Sunny&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:sloncho@gmail.com&quot;&gt;sloncho@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
To:&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mono-devel-list@lists.ximian.com&quot;&gt;mono-devel-list@lists.ximian.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
Sent:&nbsp;Friday,&nbsp;January&nbsp;09,&nbsp;2009&nbsp;3:50&nbsp;AM&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[Mono-dev]&nbsp;GC.Collect()&nbsp;CLR&amp;lt;&amp;gt;Mono&nbsp;difference.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;Thu,&nbsp;Jan&nbsp;8,&nbsp;2009&nbsp;at&nbsp;11:45&nbsp;AM,&nbsp;Sunny&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:sloncho@gmail.com&quot;&gt;sloncho@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;According&nbsp;to&nbsp;this:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;http://msdn.microsoft.com/en-us/library/system.weakreference%28VS.80%29.aspx&quot;&nbsp;target=&quot;_blank&quot;&gt;http://msdn.microsoft.com/en-us/library/system.weakreference(VS.80).aspx&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;IsAlive&nbsp;becomes&nbsp;false&nbsp;after&nbsp;the&nbsp;finalizer&nbsp;is&nbsp;done.&nbsp;It&nbsp;may&nbsp;be&nbsp;so,&nbsp;that&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;under&nbsp;mono&nbsp;your&nbsp;call&nbsp;to&nbsp;IsAlive&nbsp;is&nbsp;made&nbsp;before&nbsp;the&nbsp;finalizer&nbsp;is&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;called.&nbsp;Try&nbsp;with&nbsp;GC.WaitForPendingFinalizers()&nbsp;before&nbsp;the&nbsp;check.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Hmmm,&nbsp;I&nbsp;just&nbsp;tried&nbsp;it&nbsp;under&nbsp;mono,&nbsp;it&nbsp;still&nbsp;outputs&nbsp;True.&nbsp;Looks&nbsp;like&nbsp;a&nbsp;bug.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;possible&nbsp;factor:&lt;br&gt;<br>
references&nbsp;to&nbsp;&amp;#39;obj&amp;#39;&nbsp;still&nbsp;exist,&nbsp;and&nbsp;are&nbsp;lingering&nbsp;on&nbsp;the&nbsp;stack,&nbsp;...&lt;br&gt;<br>
&lt;br&gt;<br>
so,&nbsp;with&nbsp;a&nbsp;precise&nbsp;GC,&nbsp;the&nbsp;only&nbsp;reference&nbsp;which&nbsp;can&nbsp;exist&nbsp;is&nbsp;the&nbsp;weak&lt;br&gt;<br>
reference;&lt;br&gt;<br>
but&nbsp;with&nbsp;a&nbsp;conservative&nbsp;GC&nbsp;(such&nbsp;as&nbsp;Boehm),&nbsp;any&nbsp;lingering&nbsp;references&nbsp;are&lt;br&gt;<br>
still&nbsp;good.&lt;br&gt;<br>
&lt;br&gt;<br>
(note:&nbsp;it&nbsp;appears&nbsp;to&nbsp;me&nbsp;like&nbsp;the&nbsp;project&nbsp;is&nbsp;implementing&nbsp;/&nbsp;has&nbsp;implemented&lt;br&gt;<br>
an&nbsp;optional&nbsp;precise&nbsp;GC,&nbsp;but&nbsp;I&nbsp;don&amp;#39;t&nbsp;know&nbsp;the&nbsp;status,&nbsp;...).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
so,&nbsp;the&nbsp;GC&nbsp;runs,&nbsp;and&nbsp;maybe&nbsp;it&nbsp;finds&nbsp;a&nbsp;reference&nbsp;still&nbsp;on&nbsp;the&nbsp;stack&lt;br&gt;<br>
somewhere?...&lt;br&gt;<br>
ok&nbsp;then,&nbsp;the&nbsp;object&nbsp;is&nbsp;not&nbsp;collected,&nbsp;and&nbsp;thus&nbsp;no&nbsp;need&nbsp;for&nbsp;the&nbsp;weak&nbsp;ref&nbsp;to&lt;br&gt;<br>
report&nbsp;a&nbsp;change...&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;could&nbsp;be&nbsp;wrong&nbsp;though...&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;You&nbsp;are&nbsp;correct,&nbsp;this&nbsp;is&nbsp;exactly&nbsp;what&nbsp;happens&nbsp;on&nbsp;this&nbsp;case.&nbsp;The&nbsp;object&nbsp;still&nbsp;reachable&nbsp;to&nbsp;the&nbsp;conservative&nbsp;GC&nbsp;mono&nbsp;uses.&lt;br&gt;Our&nbsp;precise&nbsp;GC&nbsp;is&nbsp;still&nbsp;in&nbsp;development.&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>

</tt>
