<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
FONT-SIZE:&nbsp;10pt;<br>
FONT-FAMILY:Tahoma<br>
}<br>
&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;BLOCKQUOTE&gt;<br>
(Woops,&nbsp;only&nbsp;replied&nbsp;to&nbsp;kamil)&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
If&nbsp;Jerome&nbsp;is&nbsp;right&nbsp;and&nbsp;the&nbsp;overhead&nbsp;is&nbsp;only&nbsp;4&nbsp;bytes,&nbsp;then&nbsp;overhead&nbsp;shouldn't&nbsp;be&nbsp;a&nbsp;problem&nbsp;at&nbsp;all.&nbsp;The&nbsp;worst&nbsp;case&nbsp;size&nbsp;of&nbsp;a&nbsp;string&nbsp;would&nbsp;be&nbsp;1&nbsp;character,&nbsp;of&nbsp;2&nbsp;bytes&nbsp;+&nbsp;something&nbsp;to&nbsp;end&nbsp;it&nbsp;with,&nbsp;like&nbsp;an&nbsp;int&nbsp;containing&nbsp;its&nbsp;length,&nbsp;2&nbsp;bytes,&nbsp;or&nbsp;a&nbsp;terminating&nbsp;character,&nbsp;probably&nbsp;2&nbsp;bytes&nbsp;too.&nbsp;Making&nbsp;it&nbsp;at&nbsp;least&nbsp;4&nbsp;bytes.&nbsp;&lt;BR&gt;&amp;nbsp;&lt;BR&gt;A&nbsp;worst&nbsp;case&nbsp;scenario&nbsp;of&nbsp;100%&nbsp;extra&nbsp;data,&nbsp;that&nbsp;isn't&nbsp;so&nbsp;bad&nbsp;right?&nbsp;It's&nbsp;way&nbsp;less&nbsp;than&nbsp;the&nbsp;overhead&nbsp;of&nbsp;using&nbsp;unicode,&nbsp;since&nbsp;you&nbsp;almost&nbsp;never&nbsp;use&nbsp;the&nbsp;enormous&nbsp;range&nbsp;of&nbsp;character&nbsp;2-3&nbsp;bytes&nbsp;offers&nbsp;you.&lt;BR&gt;&amp;nbsp;&lt;BR&gt;Speaking&nbsp;of&nbsp;unicode/utf-16&nbsp;and&nbsp;memory,&nbsp;couldn't&nbsp;a&nbsp;lot&nbsp;of&nbsp;memory&nbsp;be&nbsp;spared&nbsp;if&nbsp;strings&nbsp;where&nbsp;stored&nbsp;as&nbsp;utf8&nbsp;internally,&nbsp;which&nbsp;would&nbsp;be&nbsp;converted&nbsp;back&nbsp;to&nbsp;utf-16&nbsp;when&nbsp;more&nbsp;than&nbsp;256&nbsp;different&nbsp;characters&nbsp;would&nbsp;be&nbsp;used?&nbsp;All&nbsp;you&nbsp;would&nbsp;need&nbsp;is&nbsp;a&nbsp;small&nbsp;translation&nbsp;table,&nbsp;and&nbsp;the&nbsp;view&nbsp;instructions&nbsp;it&nbsp;takes&nbsp;to&nbsp;look&nbsp;a&nbsp;char&nbsp;up&nbsp;in&nbsp;it.&nbsp;Or&nbsp;is&nbsp;this&nbsp;already&nbsp;being&nbsp;done?&lt;BR&gt;&amp;nbsp;&lt;BR&gt;Just&nbsp;curious.&lt;BR&gt;&amp;nbsp;&lt;BR&gt;Tinco&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
&lt;BR&gt;&amp;gt;&nbsp;Date:&nbsp;Fri,&nbsp;30&nbsp;Nov&nbsp;2007&nbsp;19:10:07&nbsp;-0800&lt;BR&gt;&amp;gt;&nbsp;From:&nbsp;kamil.skalski@gmail.com&lt;BR&gt;&amp;gt;&nbsp;To:&nbsp;alan.mcgovern@gmail.com&lt;BR&gt;&amp;gt;&nbsp;CC:&nbsp;mono-devel-list@lists.ximian.com&lt;BR&gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[Mono-dev]&nbsp;String.GetHashCode()&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;Extra&nbsp;memory&nbsp;cost,&nbsp;which&nbsp;would&nbsp;hit&nbsp;all&nbsp;allocated&nbsp;strings,&nbsp;also&nbsp;those&lt;BR&gt;&amp;gt;&nbsp;short&nbsp;ones.&nbsp;For&nbsp;some&nbsp;applications,&nbsp;which&nbsp;use&nbsp;millions&nbsp;of&nbsp;small&nbsp;strings&lt;BR&gt;&amp;gt;&nbsp;this&nbsp;would&nbsp;be&nbsp;unacceptable&nbsp;hit.&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;2007/11/30,&nbsp;Alan&nbsp;McGovern&nbsp;&amp;lt;alan.mcgovern@gmail.com&amp;gt;:&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;A&nbsp;thought&nbsp;struck&nbsp;me&nbsp;while&nbsp;i&nbsp;was&nbsp;dozing&nbsp;on&nbsp;the&nbsp;plane&nbsp;on&nbsp;the&nbsp;way&nbsp;home&nbsp;from&nbsp;the&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;summit.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Since&nbsp;strings&nbsp;are&nbsp;immutable,&nbsp;shouldn't&nbsp;it&nbsp;be&nbsp;possible&nbsp;to&nbsp;compute&nbsp;the&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;hashcode&nbsp;once&nbsp;and&nbsp;store&nbsp;it&nbsp;rather&nbsp;than&nbsp;recomputing&nbsp;it&nbsp;over&nbsp;and&nbsp;over&nbsp;again?&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Is&nbsp;there&nbsp;some&nbsp;really&nbsp;obvious&nbsp;reason&nbsp;that&nbsp;i&nbsp;can't&nbsp;think&nbsp;of&nbsp;that&nbsp;would&nbsp;make&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;this&nbsp;a&nbsp;bad&nbsp;idea?&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Alan.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;_______________________________________________&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Mono-devel-list@lists.ximian.com&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;--&nbsp;&lt;BR&gt;&amp;gt;&nbsp;Kamil&nbsp;Skalski&lt;BR&gt;&amp;gt;&nbsp;http://nazgul.omega.pl&lt;BR&gt;&amp;gt;&nbsp;_______________________________________________&lt;BR&gt;&amp;gt;&nbsp;Mono-devel-list&nbsp;mailing&nbsp;list&lt;BR&gt;&amp;gt;&nbsp;Mono-devel-list@lists.ximian.com&lt;BR&gt;&amp;gt;&nbsp;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;<br>
<br>
&lt;HR&gt;<br>
&lt;BR&gt;<br>
Express&nbsp;yourself&nbsp;instantly&nbsp;with&nbsp;MSN&nbsp;Messenger!&nbsp;&lt;A&nbsp;href=&quot;http://clk.atdmt.com/AVE/go/onm00200471ave/direct/01/&quot;&nbsp;target=_blank&gt;MSN&nbsp;Messenger&lt;/A&gt;&nbsp;&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;br&nbsp;/&gt;&lt;hr&nbsp;/&gt;Express&nbsp;yourself&nbsp;instantly&nbsp;with&nbsp;MSN&nbsp;Messenger!&nbsp;&lt;a&nbsp;href='http://clk.atdmt.com/AVE/go/onm00200471ave/direct/01/'&nbsp;target='_new'&gt;MSN&nbsp;Messenger&lt;/a&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
