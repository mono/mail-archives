Index: ChangeLog
===================================================================
--- ChangeLog	(revision 130915)
+++ ChangeLog	(working copy)
@@ -1,3 +1,58 @@
+2009-04-03  Jonathan Chambers  <joncham@gmail.com>
+
+	* classes/DebuggerConfiguration.cs
+	(DebuggerConfiguration): Use Environment.SpecialFolder.Personal
+	instead of HOME environment variable.
+	(LoadConfigurationFromStream): Verify file exists before trying to access it.
+
+2009-04-03  Jonathan Chambers  <joncham@gmail.com>
+
+	* frontend/CSharpExpressionParser.cs.win: Add generated files for
+	Windows to build easily in Visual Studio.
+
+2009-04-03  Jonathan Chambers  <joncham@gmail.com>
+
+	* frontend/Style.cs: Add braces to work around bug 478101.
+
+	* languages/mono/MonoLanguageBackend.cs: Add braces to work around bug 478101.
+
+2009-04-03  Jonathan Chambers  <joncham@gmail.com>
+
+	* backend/server/breakpoints.c: Add HAVE_UNISTD_H #ifdef.
+
+	* backend/server/library.c: Add HAVE_UNISTD_H check and add Windows InferiorVTable.
+	(mono_debugger_server_create_inferior): Access through vtable.
+	(mono_debugger_server_get_current_pid): Access through vtable.
+	(mono_debugger_server_get_current_thread): Access through vtable.
+	(mono_debugger_server_static_init): Access through vtable.
+	(mono_debugger_server_get_pending_sigint): Access through vtable.
+	(mono_debugger_server_sem_init): Access through vtable.
+	(mono_debugger_server_sem_wait): Access through vtable.
+	(mono_debugger_server_sem_post): Access through vtable.
+	(mono_debugger_server_sem_get_value): Access through vtable.
+
+	* backend/server/monodebuggerserver.def: Add.
+
+	* backend/server/mutex.c: Add mono_debugger_cond_timed_wait.
+
+	* backend/server/server.h: Add declarations for vtable changes above.
+
+	* backend/server/x86-ptrace.c: Implement vtable functions formerly in library.c.
+
+	* backend/server/x86-windows.c: Added.
+
+	* build/debugger.sln: Added.
+
+	* build/mdb.csproj: Added.
+
+	* build/Mono.Debugger.csproj: Added.
+
+	* build/Mono.Debugger.Frontend.csproj: Added.
+
+	* build/Mono.Debugger.SymbolWriter.csproj: Added.
+
+	* build/monodebuggerserver.vcproj: Added.
+
 2009-03-31  Martin Baulig  <martin@ximian.com>
 
 	* backend/MonoThreadManager.cs
Index: classes/DebuggerConfiguration.cs
===================================================================
--- classes/DebuggerConfiguration.cs	(revision 130915)
+++ classes/DebuggerConfiguration.cs	(working copy)
@@ -24,7 +24,7 @@
 			ConfigDirectory = Environment.GetEnvironmentVariable ("XDG_CONFIG_HOME");
 			if ((ConfigDirectory == null) || (ConfigDirectory == ""))
 				ConfigDirectory = Path.Combine (
-					Environment.GetEnvironmentVariable ("HOME"), ".config");
+					Environment.GetFolderPath(Environment.SpecialFolder.Personal), ".config");
 
 			ConfigDirectory = Path.Combine (ConfigDirectory, "MonoDebugger");
 			ConfigDirectory += Path.DirectorySeparatorChar;
@@ -81,8 +81,10 @@
 
 		void LoadConfigurationFromStream (string filename)
 		{
-			using (FileStream stream = new FileStream (filename, FileMode.Open))
-				LoadConfigurationFromStream (stream);
+			if (File.Exists (filename)) {
+				using (FileStream stream = new FileStream (filename, FileMode.Open))
+					LoadConfigurationFromStream (stream);
+			}
 		}
 
 		void LoadConfigurationFromStream (Stream stream)