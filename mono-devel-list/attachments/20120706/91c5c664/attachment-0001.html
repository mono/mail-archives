<tt>
&lt;div&gt;During&nbsp;full&nbsp;AOT,&nbsp;It&nbsp;seems&nbsp;that&nbsp;if&nbsp;generics&nbsp;is&nbsp;a&nbsp;ref&nbsp;type,&nbsp;AOT&nbsp;is&nbsp;skipped&nbsp;(which&nbsp;makes&nbsp;sense&nbsp;because&nbsp;most&nbsp;of&nbsp;the&nbsp;time&nbsp;it&nbsp;is&nbsp;not&nbsp;necessary,&nbsp;one&nbsp;codegen&nbsp;for&nbsp;any&nbsp;ref&nbsp;type&nbsp;is&nbsp;usually&nbsp;enough).&lt;/div&gt;&lt;div&gt;However,&nbsp;if&nbsp;the&nbsp;class&nbsp;internally&nbsp;uses&nbsp;a&nbsp;struct&nbsp;based&nbsp;on&nbsp;the&nbsp;generic&nbsp;types,&nbsp;it&nbsp;will&nbsp;fail&nbsp;at&nbsp;runtime.&lt;/div&gt;<br>
<br>
&lt;div&gt;Here&nbsp;is&nbsp;a&nbsp;simple&nbsp;example&nbsp;showcasing&nbsp;the&nbsp;issue:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;public&nbsp;class&nbsp;B&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;public&nbsp;void&nbsp;Test&lt;T&gt;()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;System.Console.WriteLine(typeof(T));&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;public&nbsp;class&nbsp;A&lt;T&gt;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;public&nbsp;void&nbsp;Test()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;B().Test&lt;System.Collections.Generic.KeyValuePair&lt;T,&nbsp;T&gt;&gt;();&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;P&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;static&nbsp;void&nbsp;Main(string[]&nbsp;args)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;A&lt;int&gt;().Test();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;A&lt;string&gt;().Test();&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;I&nbsp;run&nbsp;this&nbsp;program&nbsp;with&nbsp;full&nbsp;aot,&nbsp;it&nbsp;will&nbsp;fail.&lt;/div&gt;&lt;div&gt;new&nbsp;A&lt;int&gt;&nbsp;will&nbsp;work&nbsp;(AOT&nbsp;forced&nbsp;because&nbsp;value&nbsp;type)&lt;/div&gt;&lt;div&gt;However,&nbsp;new&nbsp;A&lt;string&gt;&nbsp;will&nbsp;generate&nbsp;a&nbsp;JIT&nbsp;exception&nbsp;(because&nbsp;even&nbsp;though&nbsp;string&nbsp;is&nbsp;a&nbsp;ref&nbsp;type,&nbsp;A&nbsp;should&nbsp;be&nbsp;AOT&nbsp;for&nbsp;this&nbsp;specific&nbsp;type&nbsp;because&nbsp;KeyValuePair&nbsp;inside&nbsp;A&lt;T&gt;&nbsp;needs&nbsp;to&nbsp;be&nbsp;JITed.)&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;maybe&nbsp;I&nbsp;misunderstood&nbsp;the&nbsp;problem&nbsp;(or&nbsp;it&nbsp;is&nbsp;just&nbsp;a&nbsp;specific&nbsp;bug),&nbsp;because&nbsp;this&nbsp;other&nbsp;case&nbsp;actually&nbsp;work&nbsp;(I&nbsp;was&nbsp;expecting&nbsp;it&nbsp;to&nbsp;have&nbsp;the&nbsp;same&nbsp;issue):&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;public&nbsp;class&nbsp;B&lt;/div&gt;<br>
<br>
&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;public&nbsp;void&nbsp;Test&lt;T&gt;()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;System.Console.WriteLine(typeof(System.Collections.Generic.KeyValuePair&lt;T,&nbsp;T&gt;));&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
public&nbsp;class&nbsp;A&lt;T&gt;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;public&nbsp;void&nbsp;Test()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;B().Test&lt;T&gt;();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;P&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;static&nbsp;void&nbsp;Main(string[]&nbsp;args)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;A&lt;int&gt;().Test();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;A&lt;string&gt;().Test();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Just&nbsp;wanted&nbsp;to&nbsp;check&nbsp;if&nbsp;I&nbsp;understood&nbsp;the&nbsp;issue&nbsp;right&nbsp;and&nbsp;if&nbsp;there&nbsp;would&nbsp;be&nbsp;nothing&nbsp;preventing&nbsp;from&nbsp;fixing&nbsp;it?&lt;/div&gt;<br>
<br>
&lt;div&gt;I&nbsp;wouldn&#39;t&nbsp;mind&nbsp;taking&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;sources&nbsp;by&nbsp;myself&nbsp;if&nbsp;necessary.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Virgile&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
