<tt>
&lt;div&gt;It&nbsp;would&nbsp;be&nbsp;for&nbsp;platforms&nbsp;supporting&nbsp;only&nbsp;AOT.&lt;/div&gt;&lt;div&gt;&lt;div&gt;Of&nbsp;course&nbsp;we&nbsp;would&nbsp;license&nbsp;Mono.&nbsp;We&nbsp;already&nbsp;had&nbsp;a&nbsp;quick&nbsp;discussion&nbsp;about&nbsp;licensing&nbsp;maybe&nbsp;a&nbsp;year&nbsp;ago&nbsp;(it&#39;s&nbsp;still&nbsp;R&amp;D/proof&nbsp;of&nbsp;concept&nbsp;for&nbsp;now,&nbsp;and&nbsp;it&nbsp;was&nbsp;only&nbsp;Windows&nbsp;until&nbsp;now&nbsp;so&nbsp;we&nbsp;just&nbsp;delayed&nbsp;actual&nbsp;deal&nbsp;until&nbsp;necessary),&nbsp;but&nbsp;thanks&nbsp;for&nbsp;pointing&nbsp;out,&nbsp;maybe&nbsp;now&nbsp;is&nbsp;a&nbsp;good&nbsp;time&nbsp;to&nbsp;start&nbsp;the&nbsp;discussion&nbsp;again&nbsp;with&nbsp;Xamarin,&nbsp;I&nbsp;will&nbsp;send&nbsp;an&nbsp;email&nbsp;right&nbsp;away.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jul&nbsp;6,&nbsp;2012&nbsp;at&nbsp;10:31&nbsp;PM,&nbsp;Rodrigo&nbsp;Kumpera&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:kumpera@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;kumpera@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
You&nbsp;need&nbsp;to&nbsp;correctly&nbsp;drive&nbsp;the&nbsp;FullAOT&nbsp;compiler.&lt;div&gt;Why&nbsp;do&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;FullAOT&nbsp;anyway?&lt;/div&gt;&lt;div&gt;Do&nbsp;you&nbsp;plan&nbsp;to&nbsp;run&nbsp;it&nbsp;on&nbsp;a&nbsp;target&nbsp;that&nbsp;disables&nbsp;JIT?&lt;/div&gt;&lt;div&gt;Do&nbsp;you&nbsp;hold&nbsp;a&nbsp;license&nbsp;that&nbsp;allows&nbsp;you&nbsp;to&nbsp;do&nbsp;so?&nbsp;Mono&nbsp;is&nbsp;LGPL&nbsp;and&nbsp;FullAOT&nbsp;doesn&#39;t&nbsp;work&nbsp;with&nbsp;it.&lt;br&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;Fri,&nbsp;Jul&nbsp;6,&nbsp;2012&nbsp;at&nbsp;9:29&nbsp;AM,&nbsp;Virgile&nbsp;Bello&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:virgile.bello@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;virgile.bello@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;<br>
&lt;div&gt;During&nbsp;full&nbsp;AOT,&nbsp;It&nbsp;seems&nbsp;that&nbsp;if&nbsp;generics&nbsp;is&nbsp;a&nbsp;ref&nbsp;type,&nbsp;AOT&nbsp;is&nbsp;skipped&nbsp;(which&nbsp;makes&nbsp;sense&nbsp;because&nbsp;most&nbsp;of&nbsp;the&nbsp;time&nbsp;it&nbsp;is&nbsp;not&nbsp;necessary,&nbsp;one&nbsp;codegen&nbsp;for&nbsp;any&nbsp;ref&nbsp;type&nbsp;is&nbsp;usually&nbsp;enough).&lt;/div&gt;&lt;div&gt;However,&nbsp;if&nbsp;the&nbsp;class&nbsp;internally&nbsp;uses&nbsp;a&nbsp;struct&nbsp;based&nbsp;on&nbsp;the&nbsp;generic&nbsp;types,&nbsp;it&nbsp;will&nbsp;fail&nbsp;at&nbsp;runtime.&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;Here&nbsp;is&nbsp;a&nbsp;simple&nbsp;example&nbsp;showcasing&nbsp;the&nbsp;issue:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;public&nbsp;class&nbsp;B&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;public&nbsp;void&nbsp;Test&lt;T&gt;()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;System.Console.WriteLine(typeof(T));&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;public&nbsp;class&nbsp;A&lt;T&gt;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;public&nbsp;void&nbsp;Test()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;B().Test&lt;System.Collections.Generic.KeyValuePair&lt;T,&nbsp;T&gt;&gt;();&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;P&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;static&nbsp;void&nbsp;Main(string[]&nbsp;args)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;A&lt;int&gt;().Test();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;A&lt;string&gt;().Test();&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;I&nbsp;run&nbsp;this&nbsp;program&nbsp;with&nbsp;full&nbsp;aot,&nbsp;it&nbsp;will&nbsp;fail.&lt;/div&gt;&lt;div&gt;new&nbsp;A&lt;int&gt;&nbsp;will&nbsp;work&nbsp;(AOT&nbsp;forced&nbsp;because&nbsp;value&nbsp;type)&lt;/div&gt;&lt;div&gt;However,&nbsp;new&nbsp;A&lt;string&gt;&nbsp;will&nbsp;generate&nbsp;a&nbsp;JIT&nbsp;exception&nbsp;(because&nbsp;even&nbsp;though&nbsp;string&nbsp;is&nbsp;a&nbsp;ref&nbsp;type,&nbsp;A&nbsp;should&nbsp;be&nbsp;AOT&nbsp;for&nbsp;this&nbsp;specific&nbsp;type&nbsp;because&nbsp;KeyValuePair&nbsp;inside&nbsp;A&lt;T&gt;&nbsp;needs&nbsp;to&nbsp;be&nbsp;JITed.)&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;maybe&nbsp;I&nbsp;misunderstood&nbsp;the&nbsp;problem&nbsp;(or&nbsp;it&nbsp;is&nbsp;just&nbsp;a&nbsp;specific&nbsp;bug),&nbsp;because&nbsp;this&nbsp;other&nbsp;case&nbsp;actually&nbsp;work&nbsp;(I&nbsp;was&nbsp;expecting&nbsp;it&nbsp;to&nbsp;have&nbsp;the&nbsp;same&nbsp;issue):&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;public&nbsp;class&nbsp;B&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;public&nbsp;void&nbsp;Test&lt;T&gt;()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;System.Console.WriteLine(typeof(System.Collections.Generic.KeyValuePair&lt;T,&nbsp;T&gt;));&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
public&nbsp;class&nbsp;A&lt;T&gt;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;public&nbsp;void&nbsp;Test()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;B().Test&lt;T&gt;();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;P&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt; &nbsp; &nbsp;static&nbsp;void&nbsp;Main(string[]&nbsp;args)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;A&lt;int&gt;().Test();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;new&nbsp;A&lt;string&gt;().Test();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Just&nbsp;wanted&nbsp;to&nbsp;check&nbsp;if&nbsp;I&nbsp;understood&nbsp;the&nbsp;issue&nbsp;right&nbsp;and&nbsp;if&nbsp;there&nbsp;would&nbsp;be&nbsp;nothing&nbsp;preventing&nbsp;from&nbsp;fixing&nbsp;it?&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;I&nbsp;wouldn&#39;t&nbsp;mind&nbsp;taking&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;sources&nbsp;by&nbsp;myself&nbsp;if&nbsp;necessary.&lt;/div&gt;&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Virgile&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
