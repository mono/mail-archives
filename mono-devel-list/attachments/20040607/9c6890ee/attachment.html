<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;Message&lt;/TITLE&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2900.2096&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;style=&quot;COLOR:&nbsp;#000000;&nbsp;FONT-FAMILY:&nbsp;Arial&quot;&nbsp;hb_focus_attach=&quot;true&quot;&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=370152721-07062004&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;Hey,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=370152721-07062004&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=370152721-07062004&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;Gonzalo&nbsp;needs&nbsp;to&nbsp;approve&nbsp;this&nbsp;also,&nbsp;I&nbsp;would&nbsp;also&nbsp;like&nbsp;to&nbsp;add&nbsp;that&nbsp;the&nbsp;<br>
direct&nbsp;lookup&nbsp;value&nbsp;is&nbsp;cached&nbsp;into&nbsp;the&nbsp;dictionary&nbsp;and&nbsp;that&nbsp;you&nbsp;check&nbsp;if&nbsp;the&nbsp;<br>
value&nbsp;is&nbsp;already&nbsp;in&nbsp;the&nbsp;dict&nbsp;(both&nbsp;for&nbsp;get&nbsp;and&nbsp;for&nbsp;get-all).&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=370152721-07062004&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;class=370152721-07062004&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=370152721-07062004&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;This&nbsp;is&nbsp;different&nbsp;from&nbsp;the&nbsp;behavior&nbsp;of&nbsp;MS&nbsp;but&nbsp;why&nbsp;not,&nbsp;if&nbsp;it&nbsp;will&nbsp;give&nbsp;us&nbsp;<br>
better&nbsp;performance.&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;see&nbsp;some&nbsp;performance&nbsp;tests&nbsp;commited&nbsp;together&nbsp;<br>
with&nbsp;this&nbsp;patch.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=370152721-07062004&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=370152721-07062004&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;<br>
size=2&gt;--&nbsp;Patrik&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;class=Section1&gt;<br>
&lt;P&nbsp;class=Signature-Blue&gt;&lt;A&nbsp;name=_MailAutoSig&gt;&lt;SPAN&nbsp;lang=IT&gt;Patrik&nbsp;<br>
Torstensson&lt;?xml:namespace&nbsp;prefix&nbsp;=&nbsp;o&nbsp;ns&nbsp;=&nbsp;<br>
&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;/&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/A&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=Signature-Black&gt;&lt;SPAN&nbsp;style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;SPAN&nbsp;<br>
lang=EN-GB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;Senior&nbsp;Solution&nbsp;Specialist&nbsp;-&nbsp;Distributed&nbsp;Solutions&nbsp;<br>
CER&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=Signature-Blue&gt;&lt;SPAN&nbsp;style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;SPAN&nbsp;<br>
lang=IT&gt;Intel&lt;SUP&gt;&amp;reg;&lt;/SUP&gt;&nbsp;Solution&nbsp;Services&amp;nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=Signature-Black&gt;&lt;SPAN&nbsp;style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;SPAN&nbsp;<br>
lang=EN-GB&gt;&amp;nbsp;&nbsp;&amp;nbsp;Telephone:&nbsp;+46&nbsp;(0)8&nbsp;594&nbsp;631&nbsp;<br>
25&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=Signature-Black&gt;&lt;SPAN&nbsp;style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;SPAN&nbsp;<br>
lang=EN-GB&gt;&amp;nbsp;&amp;nbsp;&nbsp;Mobile:&nbsp;+46&nbsp;(0)8&nbsp;703&nbsp;66&nbsp;<br>
4620&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=Signature-Black&gt;&lt;SPAN&nbsp;style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;SPAN&nbsp;<br>
lang=EN-GB&gt;&amp;nbsp;&nbsp;&amp;nbsp;E-mail:&nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;A&nbsp;<br>
href=&quot;mailto:Patrik.Torstensson@intel.com&quot;&gt;&lt;SPAN&nbsp;<br>
style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;SPAN&nbsp;<br>
lang=EN-GB&gt;patrik.torstensson@intel.com&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;/SPAN&gt;&lt;/A&gt;&lt;SPAN&nbsp;<br>
style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;SPAN&nbsp;<br>
lang=EN-GB&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=Signature-Black&gt;&lt;SPAN&nbsp;style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;SPAN&nbsp;<br>
lang=EN-GB&gt;&lt;SPAN&nbsp;style=&quot;mso-spacerun:&nbsp;yes&quot;&gt;&amp;nbsp;&amp;nbsp;&nbsp;&lt;/SPAN&gt;URL:&nbsp;<br>
&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;A&nbsp;href=&quot;http://www.intel.com/go/intelsolutionservices&quot;&gt;&lt;SPAN&nbsp;<br>
style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;SPAN&nbsp;<br>
lang=EN-GB&gt;http://www.intel.com/go/intelsolutionservices&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;/SPAN&gt;&lt;/A&gt;&lt;SPAN&nbsp;<br>
style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;SPAN&nbsp;<br>
lang=EN-GB&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;SPAN&nbsp;<br>
style=&quot;mso-bookmark:&nbsp;_MailAutoSig&quot;&gt;&lt;/SPAN&gt;<br>
&lt;P&nbsp;class=Signature-Black&gt;&lt;SPAN&nbsp;lang=EN-GB&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;10.5pt;&nbsp;COLOR:&nbsp;navy;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/P&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;BR&gt;<br>
&lt;BLOCKQUOTE&nbsp;dir=ltr&nbsp;<br>
style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#0000ff&nbsp;2px&nbsp;solid;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=OutlookMessageHeader&nbsp;lang=en-us&nbsp;dir=ltr&nbsp;align=left&gt;<br>
&nbsp;&nbsp;&lt;HR&nbsp;tabIndex=-1&gt;<br>
&nbsp;&nbsp;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;mono-devel-list-admin@lists.ximian.com&nbsp;<br>
&nbsp;&nbsp;[mailto:mono-devel-list-admin@lists.ximian.com]&nbsp;&lt;B&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/B&gt;Alon&nbsp;<br>
&nbsp;&nbsp;Gazit&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;den&nbsp;7&nbsp;juni&nbsp;2004&nbsp;17:36&lt;BR&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;<br>
&nbsp;&nbsp;mono-devel-list@lists.ximian.com&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;[Mono-devel-list]&nbsp;[PATCH]&nbsp;<br>
&nbsp;&nbsp;changing&nbsp;the&nbsp;implementation&nbsp;of&nbsp;<br>
HttpRequest.ServerVariables&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;Hello,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;In&nbsp;Order&nbsp;to&nbsp;improve&nbsp;<br>
&nbsp;&nbsp;performance&nbsp;,&nbsp;I&nbsp;have&nbsp;change&nbsp;Server&nbsp;Variables&nbsp;<br>
&nbsp;&nbsp;implementation.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;I&nbsp;performed&nbsp;the&nbsp;following&nbsp;<br>
&nbsp;&nbsp;change&nbsp;in&nbsp;HttpRequest:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;UL&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;LI&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;&amp;nbsp;Added&nbsp;2&nbsp;new&nbsp;properties&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Context&nbsp;and&nbsp;WorkerRequest.&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;LI&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;The&nbsp;method&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;ParseServerVariables&nbsp;creates&nbsp;a&nbsp;new&nbsp;ServerVariablesCollection&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;instance&amp;nbsp;instead&nbsp;of&amp;nbsp;creating&nbsp;new&nbsp;NameValueCollection&nbsp;that&nbsp;contains&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&amp;nbsp;&lt;BR&gt;server&nbsp;variables.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;ServerVariableCollection&nbsp;is&nbsp;a&nbsp;<br>
&nbsp;&nbsp;new&nbsp;class&nbsp;that&amp;nbsp;derive&nbsp;from&nbsp;NameValueCollection.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;While&nbsp;trying&nbsp;to&nbsp;get&lt;/FONT&gt;&lt;FONT&nbsp;<br>
&nbsp;&nbsp;size=3&gt;&amp;nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;a&nbsp;specified&nbsp;key,&nbsp;<br>
&nbsp;&nbsp;the&nbsp;new&nbsp;class&nbsp;performs&nbsp;the&nbsp;following&nbsp;steps:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;UL&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;LI&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;Check&nbsp;if&nbsp;the&nbsp;collection&nbsp;was&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;loaded&nbsp;in&nbsp;the&nbsp;past&nbsp;(meaning&nbsp;that&nbsp;all&nbsp;the&nbsp;variables&nbsp;were&amp;nbsp;added).&nbsp;if&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;answer&nbsp;is&nbsp;yes&nbsp;,&amp;nbsp;&lt;BR&gt;then&amp;nbsp;return&nbsp;the&nbsp;value&nbsp;from&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;collection.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&amp;nbsp;&lt;/SPAN&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;LI&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;if&nbsp;the&nbsp;answer&nbsp;was&nbsp;no&nbsp;,check&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;for&nbsp;this&nbsp;key&nbsp;the&nbsp;method&nbsp;can&nbsp;be&nbsp;called&nbsp;directly.&nbsp;if&nbsp;the&nbsp;answer&nbsp;is&nbsp;yes&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;the&nbsp;method&nbsp;value.&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;LI&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;it&amp;nbsp;answer&nbsp;was&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;no,&amp;nbsp;add&nbsp;all&nbsp;the&nbsp;server&nbsp;variables&nbsp;to&nbsp;the&nbsp;collection&nbsp;and&amp;nbsp;return&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;key's&nbsp;value&nbsp;from&nbsp;the&nbsp;collection.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;Thanks,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;Alon&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&lt;FONT&nbsp;size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=717400515-07062004&gt;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;P&gt;&lt;/P&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
