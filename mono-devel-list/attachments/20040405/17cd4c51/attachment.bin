using System;
using System.Collections;
using System.ComponentModel;
using System.Data;


public class TestDataTable
{
	public static void Main()
	{
		DataTable newTable = new DataTable();
		
		newTable.Columns.Add("TestColumn", System.Type.GetType("System.String"));
		
		for (int r=1; r < 6; r++)
		{
			DataRow newRow = newTable.NewRow();
			newRow["TestColumn"] = "TestData " + r.ToString();
			newTable.Rows.Add(newRow);
		}
		
		DataView newView = new DataView(newTable);
		
		Console.WriteLine("Rows enumerated:");
		foreach (System.Object obj in newView)
		{
			ICustomTypeDescriptor custom = (ICustomTypeDescriptor) obj;
			PropertyDescriptorCollection properties;
			properties = custom.GetProperties ();
			
			foreach (PropertyDescriptor property in properties)
			{
				object oPropValue = property.GetValue (obj);
				string sPropValue = oPropValue.ToString ();
				Console.WriteLine(sPropValue);
			}
		}
	}
}