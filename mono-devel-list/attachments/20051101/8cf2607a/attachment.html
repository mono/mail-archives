<tt>
&lt;DIV&gt;Hi,&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;get&nbsp;the&nbsp;base&nbsp;of&nbsp;unmanaged&nbsp;stack,&nbsp;the&nbsp;reason&nbsp;I&nbsp;want&nbsp;this&nbsp;is&nbsp;because&nbsp;i&nbsp;am&nbsp;sandboxing&nbsp;my&nbsp;C&nbsp;code&nbsp;so&nbsp;that&nbsp;it&nbsp;doesnt&nbsp;write&nbsp;to&nbsp;managed&nbsp;heap&nbsp;and&nbsp;stack.&lt;/DIV&gt;<br>
&lt;DIV&gt;I&nbsp;got&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;esp&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;C&nbsp;program&nbsp;(via&nbsp;assembly&nbsp;instructions)&nbsp;but&nbsp;(as&nbsp;jonp&nbsp;said)&nbsp;at&nbsp;this&nbsp;point&nbsp;the&amp;nbsp;&nbsp;local&nbsp;variables&nbsp;are&nbsp;already&nbsp;on&nbsp;the&nbsp;unmanaged&nbsp;stack.&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;to&nbsp;get&nbsp;to&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;unmanaged&nbsp;stack?&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;(&nbsp;I&nbsp;tried&nbsp;inserting&nbsp;extra&nbsp;marker&nbsp;arguments&nbsp;in&nbsp;(emit_wrapper)&nbsp;so&nbsp;that&nbsp;I&nbsp;can&nbsp;get&nbsp;to&nbsp;it&nbsp;in&nbsp;C&nbsp;code,&nbsp;but&amp;nbsp;I&nbsp;totally&nbsp;broke&nbsp;mono&nbsp;compilation&nbsp;!!&amp;nbsp;&nbsp;)&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;Also,&nbsp;to&nbsp;insert&nbsp;an&nbsp;ARGUMENT&nbsp;of&nbsp;type&amp;nbsp;&nbsp;say&nbsp;at&nbsp;runtime,&amp;nbsp;&amp;nbsp;&nbsp;valuetype&nbsp;PlatformInvokeTest/DataObj*&amp;nbsp;&amp;nbsp;&nbsp;V_4.&nbsp;(Need&nbsp;to&nbsp;generate&nbsp;Il&nbsp;code&nbsp;to&nbsp;declare&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;user&nbsp;defined&nbsp;structure)&lt;/DIV&gt;<br>
&lt;DIV&gt;should&nbsp;i&nbsp;use:&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;um_ptr&nbsp;=&nbsp;mono_mb_add_local&nbsp;(mb,&nbsp;&amp;amp;mono_defaults.int_class-&amp;gt;byval_arg);&lt;/DIV&gt;<br>
&lt;DIV&gt;or&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;um_ptr&nbsp;=&nbsp;mono_mb_add_local&nbsp;(mb,&nbsp;&amp;amp;(pclass-&amp;gt;byval_arg));&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Thank&nbsp;you&nbsp;very&nbsp;much,&lt;/DIV&gt;<br>
&lt;DIV&gt;shankari&lt;/DIV&gt;&lt;p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;hr&nbsp;size=1&gt;&nbsp;&lt;a&nbsp;href=&quot;http://us.lrd.yahoo.com/_ylc=X3oDMTFqODRtdXQ4BF9TAzMyOTc1MDIEX3MDOTY2ODgxNjkEcG9zAzEEc2VjA21haWwtZm9vdGVyBHNsawNmYw--/SIG=110oav78o/**http%3a//farechase.yahoo.com/&quot;&gt;Yahoo!&nbsp;FareChase&nbsp;-&nbsp;Search&nbsp;multiple&nbsp;travel&nbsp;sites&nbsp;in&nbsp;one&nbsp;click.&lt;/a&gt;<br>
<br>
&nbsp;<br>
<br>
&nbsp;
</tt>
