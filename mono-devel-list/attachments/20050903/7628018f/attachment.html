<tt>
Hi,&lt;br&gt;&lt;br&gt;Can&nbsp;I&nbsp;ask&nbsp;a&nbsp;slightly&nbsp;unrelated&nbsp;question&nbsp;-&nbsp;does&nbsp;Mono&nbsp;actually&nbsp;generate&nbsp;unique&nbsp;GUID's&nbsp;at&nbsp;the&nbsp;moment?&nbsp;I&nbsp;use&nbsp;them&nbsp;for&nbsp;a&nbsp;generic&nbsp;collection&nbsp;of&nbsp;&amp;quot;worker&amp;quot;&nbsp;sockets&nbsp;in&nbsp;a&nbsp;server,&nbsp;so&nbsp;wondering&nbsp;if&nbsp;they&nbsp;are&nbsp;unique&nbsp;enough&nbsp;to&nbsp;be&nbsp;used&nbsp;there&nbsp;in&nbsp;Mono&nbsp;(I&nbsp;know&nbsp;it&nbsp;works&nbsp;in&nbsp;.NET).<br>
&lt;br&gt;&lt;br&gt;Sorry&nbsp;if&nbsp;it's&nbsp;a&nbsp;tad&nbsp;off-topic&nbsp;but&nbsp;thanks&nbsp;for&nbsp;replying&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;03/09/05,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Sebastien&nbsp;Pouliot&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:sebastien.pouliot@gmail.com&quot;&gt;sebastien.pouliot@gmail.com<br>
&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hello&nbsp;Robert,&lt;br&gt;&lt;br&gt;On&nbsp;Sat,&nbsp;2005-03-09&nbsp;at&nbsp;23:18&nbsp;+0200,&nbsp;Robert&nbsp;Jordan&nbsp;wrote:<br>
&lt;br&gt;&amp;gt;&nbsp;Hi&nbsp;Sebastien,&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;The&nbsp;hash&nbsp;appears&nbsp;to&nbsp;change&nbsp;with&nbsp;the&nbsp;assembly&nbsp;name&nbsp;and&nbsp;type&nbsp;name.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;Renaming&nbsp;gt.cs&nbsp;will&nbsp;return&nbsp;another&nbsp;GUID&nbsp;as&nbsp;well&nbsp;as&nbsp;renaming&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;quot;App&amp;quot;.&nbsp;Renaming&nbsp;<br>
gt.exe&nbsp;doesn't&nbsp;change&nbsp;the&nbsp;GUID.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;Applying&nbsp;an&nbsp;AssemblyVersionAttribute&nbsp;will&nbsp;change&nbsp;the&nbsp;GUID,&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;so&nbsp;I'm&nbsp;pretty&nbsp;sure,&nbsp;that&nbsp;Type.AssemblyQualifiedName&nbsp;is&nbsp;taken&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;into&nbsp;account&nbsp;while&nbsp;generating&nbsp;the&nbsp;hash.<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;The&nbsp;following&nbsp;algorithm&nbsp;computes&nbsp;the&nbsp;GUID&nbsp;from&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;Type.AssemblyQualifiedName&nbsp;using&nbsp;a&nbsp;MD5&nbsp;hash:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;Guid&nbsp;ComputeGuid&nbsp;(Type&nbsp;t)&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;{&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;byte[]&nbsp;bytes&nbsp;=&nbsp;System.Text.Encoding.UTF8.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;GetBytes&nbsp;(t.AssemblyQualifiedName);&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;using&nbsp;(System.Security.Cryptography.MD5&nbsp;md5&nbsp;=&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.Security.Cryptography.MD5.Create<br>
&nbsp;())&nbsp;{&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;new&nbsp;Guid&nbsp;(md5.ComputeHash&nbsp;(bytes));&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;}&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&amp;gt;Is&nbsp;it&nbsp;a&nbsp;patch&nbsp;worth?&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;guess&nbsp;it&nbsp;depends&nbsp;on&nbsp;how&nbsp;it's&nbsp;gonna&nbsp;be&nbsp;used.&nbsp;This&nbsp;isn't&nbsp;the&nbsp;first&nbsp;time<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;people&nbsp;talks&nbsp;about&nbsp;Type.Guid&nbsp;but&nbsp;I&nbsp;never&nbsp;seen&nbsp;any&nbsp;talk&nbsp;about&nbsp;_using_&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;it&nbsp;;-)&nbsp;at&nbsp;least&nbsp;not&nbsp;with&nbsp;Mono.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;MD5&nbsp;will&nbsp;give&nbsp;you&nbsp;a&nbsp;128&nbsp;bits&nbsp;digest&nbsp;value,&nbsp;which&nbsp;match&nbsp;the&nbsp;required&nbsp;Guid<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;length,&nbsp;and&nbsp;recent&nbsp;problems&nbsp;related&nbsp;to&nbsp;MD5&nbsp;are&nbsp;pretty&nbsp;much&nbsp;irrelevant&nbsp;to&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;such&nbsp;usage.&nbsp;So&nbsp;it's&nbsp;probably&nbsp;(if&nbsp;everything&nbsp;is&nbsp;included&nbsp;in&nbsp;the&nbsp;qualified&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;name)&nbsp;a&nbsp;correct&nbsp;implementation&nbsp;-&nbsp;functionality-wise.<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;But&nbsp;creating&nbsp;a&nbsp;using&nbsp;MD5&nbsp;is&nbsp;kind&nbsp;of&nbsp;heavyweight&nbsp;-&nbsp;even&nbsp;more&nbsp;if&nbsp;a&nbsp;new&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;instance&nbsp;is&nbsp;created&nbsp;each&nbsp;time.&nbsp;So&nbsp;anyone&nbsp;using&nbsp;this&nbsp;heavily&nbsp;will&nbsp;notice&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;a&nbsp;big&nbsp;performance&nbsp;problem.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;&amp;gt;&nbsp;MSFT's&nbsp;implementation&nbsp;(actually&nbsp;an&nbsp;InternalCall)&nbsp;is&nbsp;3&nbsp;times&nbsp;slower&lt;br&gt;&amp;gt;&nbsp;then&nbsp;the&nbsp;computation&nbsp;of&nbsp;an&nbsp;MD5&nbsp;hash&nbsp;using&nbsp;an&nbsp;*unmanaged*&nbsp;implementation&lt;br&gt;&amp;gt;&nbsp;of&nbsp;the&nbsp;MD5&nbsp;algorithm.&lt;br&gt;&lt;br&gt;Oh,&nbsp;that's&nbsp;interesting.&nbsp;How&nbsp;does&nbsp;this&nbsp;compare&nbsp;to&nbsp;your&nbsp;managed<br>
&lt;br&gt;implementation&nbsp;(using&nbsp;Mono's&nbsp;managed&nbsp;MD5&nbsp;implementation)&nbsp;?&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;It's&nbsp;probably&nbsp;slower&nbsp;because&nbsp;it&nbsp;has&nbsp;to&nbsp;generate&lt;br&gt;&amp;gt;&nbsp;properly&nbsp;formatted&nbsp;UUIDs&nbsp;which&nbsp;consists&nbsp;of&nbsp;only&nbsp;122&nbsp;random&nbsp;bits.&lt;br&gt;&lt;br&gt;I&nbsp;doubt&nbsp;that.&nbsp;Fixing&nbsp;the&nbsp;remaining&nbsp;bits&nbsp;is&nbsp;a&nbsp;very&nbsp;fast&nbsp;process&nbsp;(compared<br>
&lt;br&gt;to&nbsp;MD5).&nbsp;Anyway&nbsp;it's&nbsp;still&nbsp;interesting&nbsp;informations&nbsp;;-).&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;(see&nbsp;the&nbsp;2nd&nbsp;link&nbsp;of&nbsp;Kornél's&nbsp;post).&lt;br&gt;&lt;br&gt;I&nbsp;know&nbsp;about&nbsp;that,&nbsp;I&nbsp;changed&nbsp;Mono&nbsp;implementation&nbsp;based&nbsp;on&nbsp;this&nbsp;more&nbsp;than&lt;br&gt;a&nbsp;year&nbsp;ago&nbsp;:-)&lt;br&gt;&lt;br&gt;2004-05-18&amp;nbsp;&amp;nbsp;Sebastien&nbsp;Pouliot&amp;nbsp;&amp;nbsp;&amp;lt;<br>
&lt;a&nbsp;href=&quot;mailto:sebastien@ximian.com&quot;&gt;sebastien@ximian.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;br&gt;*&nbsp;Guid.cs:&nbsp;Fixed&nbsp;thread-safety&nbsp;issue.&nbsp;Simplified&nbsp;implementation&nbsp;to&nbsp;use&lt;br&gt;pseudo-random&nbsp;numbers&nbsp;to&nbsp;generate&nbsp;GUIDs&nbsp;(as&nbsp;per&nbsp;section&nbsp;3.4&nbsp;of&nbsp;the&lt;br&gt;spec).&nbsp;This&nbsp;removes&nbsp;the&nbsp;TODO&nbsp;to&nbsp;get&nbsp;the&nbsp;computer&nbsp;MAC&nbsp;address&nbsp;and<br>
&lt;br&gt;the&nbsp;chances&nbsp;to&nbsp;get&nbsp;a&nbsp;duplicate&nbsp;GUID&nbsp;(across&nbsp;different&nbsp;machines).&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;Ok,&nbsp;I&nbsp;don't&nbsp;think&nbsp;it's&nbsp;worthwhile&nbsp;to&nbsp;provide&nbsp;an&nbsp;unmanaged&nbsp;InternalCall&lt;br&gt;&amp;gt;&nbsp;for&nbsp;a&nbsp;property&nbsp;that&nbsp;obviously&nbsp;nobody&nbsp;uses.&lt;br&gt;&lt;br&gt;I&nbsp;_totally_&nbsp;agree&nbsp;with&nbsp;you&nbsp;on&nbsp;that&nbsp;:-)<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;Anyway&nbsp;my&nbsp;main&nbsp;point&nbsp;(beside&nbsp;the&nbsp;performance&nbsp;;-)&nbsp;was&nbsp;that&nbsp;Mono's&lt;br&gt;Type.Guid&nbsp;won't&nbsp;be&nbsp;used&nbsp;for&nbsp;COM&nbsp;(at&nbsp;least&nbsp;not&nbsp;anytime&nbsp;soon)&nbsp;and&nbsp;since&nbsp;we&lt;br&gt;don't&nbsp;know&nbsp;how,&nbsp;or&nbsp;even&nbsp;if,&nbsp;this&nbsp;feature&nbsp;is&nbsp;gonna&nbsp;be&nbsp;used&nbsp;in&nbsp;Mono&nbsp;it's<br>
&lt;br&gt;difficult&nbsp;to&nbsp;know&nbsp;if&nbsp;your&nbsp;MD5&nbsp;approach&nbsp;is&nbsp;correct&nbsp;or&nbsp;not.&lt;br&gt;&lt;br&gt;Like&nbsp;Kornel&nbsp;said&nbsp;someone&nbsp;could&nbsp;depend,&nbsp;even&nbsp;for&nbsp;non-COM&nbsp;purpose,&nbsp;on&nbsp;the&lt;br&gt;specific&nbsp;value&nbsp;of&nbsp;a&nbsp;(generated)&nbsp;Guid.&nbsp;Yes&nbsp;that&nbsp;would&nbsp;be&nbsp;bad&nbsp;(on&nbsp;many&lt;br&gt;aspects)&nbsp;from&nbsp;any&nbsp;application&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;easier&nbsp;to&nbsp;find&nbsp;this&nbsp;out<br>
&lt;br&gt;with&nbsp;an&nbsp;exception.&lt;br&gt;--&lt;br&gt;Sebastien&nbsp;Pouliot&lt;br&gt;email:&nbsp;&lt;a&nbsp;href=&quot;mailto:sebastien@ximian.com&quot;&gt;sebastien@ximian.com&lt;/a&gt;&lt;br&gt;blog:&nbsp;&lt;a&nbsp;href=&quot;http://pages.infinit.net/ctech/&quot;&gt;http://pages.infinit.net/ctech/&lt;/a&gt;&lt;br&gt;&lt;br&gt;_______________________________________________<br>
&lt;br&gt;Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list<br>
&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Vladimir&nbsp;Lushnikov&lt;br&gt;C.E.O&nbsp;and&nbsp;Software&nbsp;Developer&lt;br&gt;EverythingX&nbsp;Limited&nbsp;(&lt;a&nbsp;href=&quot;http://www.everythingx.net&quot;&gt;http://www.everythingx.net&lt;/a&gt;)&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://mireno.blogspot.com&quot;&gt;<br>
http://mireno.blogspot.com&lt;/a&gt;&nbsp;-&nbsp;&amp;quot;Of&nbsp;Life&nbsp;and&nbsp;Programming&amp;quot;<br>

</tt>
