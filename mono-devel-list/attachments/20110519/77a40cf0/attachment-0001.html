<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;14px;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;div&gt;One&nbsp;other&nbsp;note:&nbsp;I&nbsp;was&nbsp;also&nbsp;able&nbsp;to&nbsp;reproduce&nbsp;this&nbsp;on&nbsp;using&nbsp;the&nbsp;latest&nbsp;tarball&nbsp;of&nbsp;Mono&nbsp;2.10.2&nbsp;on&nbsp;a&nbsp;quad-core&nbsp;Xeon&nbsp;running&nbsp;Windows&nbsp;7,&nbsp;but&nbsp;only&nbsp;1&nbsp;out&nbsp;of&nbsp;4&nbsp;attempts.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;id=&quot;OLK_SRC_BODY_SECTION&quot;&gt;&lt;div&nbsp;style=&quot;font-family:Calibri;&nbsp;font-size:11pt;&nbsp;text-align:left;&nbsp;color:black;&nbsp;BORDER-BOTTOM:&nbsp;medium&nbsp;none;&nbsp;BORDER-LEFT:&nbsp;medium&nbsp;none;&nbsp;PADDING-BOTTOM:&nbsp;0in;&nbsp;PADDING-LEFT:&nbsp;0in;&nbsp;PADDING-RIGHT:&nbsp;0in;&nbsp;BORDER-TOP:&nbsp;#b5c4df&nbsp;1pt&nbsp;solid;&nbsp;BORDER-RIGHT:&nbsp;medium&nbsp;none;&nbsp;PADDING-TOP:&nbsp;3pt&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;From:&nbsp;&lt;/span&gt;&nbsp;Tom&nbsp;Philpot&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tom.philpot@logos.com&quot;&gt;tom.philpot@logos.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Date:&nbsp;&lt;/span&gt;&nbsp;Thu,&nbsp;19&nbsp;May&nbsp;2011&nbsp;08:50:27&nbsp;-0700&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;To:&nbsp;&lt;/span&gt;&nbsp;&quot;&lt;a&nbsp;href=&quot;mailto:mono-devel-list@lists.ximian.com&quot;&gt;mono-devel-list@lists.ximian.com&lt;/a&gt;&quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mono-devel-list@lists.ximian.com&quot;&gt;mono-devel-list@lists.ximian.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Subject:&nbsp;&lt;/span&gt;&nbsp;Re:&nbsp;[Mono-dev]&nbsp;WebConnectionStream.Read()&nbsp;timeout&nbsp;downloading&nbsp;large&nbsp;files&nbsp;with&nbsp;Mono&nbsp;2.10.1&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;So,&nbsp;after&nbsp;running&nbsp;an&nbsp;automated&nbsp;git&nbsp;bisect,&nbsp;it&nbsp;turns&nbsp;out&nbsp;that&nbsp;commit&nbsp;50a295ac1be&nbsp;(&lt;a&nbsp;href=&quot;https://github.com/mono/mono/commit/50a295ac1becc5c0927917644a1b246b4c8e945b#mcs/class/System/System.Net.Sockets/Socket_2_1.cs&quot;&gt;https://github.com/mono/mono/commit/50a295ac1becc5c0927917644a1b246b4c8e945b#mcs/class/System/System.Net.Sockets/Socket_2_1.cs&lt;/a&gt;)&nbsp;caused&nbsp;the&nbsp;breakage&nbsp;on&nbsp;the&nbsp;dual-core&nbsp;Macs&nbsp;we're&nbsp;using.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Unfortunately,&nbsp;fixing&nbsp;it&nbsp;is&nbsp;not&nbsp;as&nbsp;simple&nbsp;as&nbsp;&quot;git&nbsp;revert&nbsp;50a295ac1be&quot;&nbsp;as&nbsp;there&nbsp;are&nbsp;some&nbsp;conflicts&nbsp;and&nbsp;once&nbsp;those&nbsp;are&nbsp;resolved,&nbsp;Socket.EndReceive&nbsp;&amp;nbsp;ends&nbsp;up&nbsp;getting&nbsp;called&nbsp;twice.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;thoughts?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From:&nbsp;&nbsp;Tom&nbsp;Philpot&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tom.philpot@logos.com&quot;&gt;tom.philpot@logos.com&lt;/a&gt;&amp;gt;&lt;br&gt;Date:&nbsp;&nbsp;Tue,&nbsp;17&nbsp;May&nbsp;2011&nbsp;12:16:10&nbsp;-0700&lt;br&gt;To:&nbsp;&nbsp;&quot;&lt;a&nbsp;href=&quot;mailto:mono-devel-list@lists.ximian.com&quot;&gt;mono-devel-list@lists.ximian.com&lt;/a&gt;&quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mono-devel-list@lists.ximian.com&quot;&gt;mono-devel-list@lists.ximian.com&lt;/a&gt;&amp;gt;&lt;br&gt;Subject:&nbsp;&nbsp;WebConnectionStream.Read()&nbsp;timeout&nbsp;downloading&nbsp;large&nbsp;files&nbsp;with&nbsp;Mono&nbsp;2.10.1&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Since&nbsp;switching&nbsp;to&nbsp;2.10.1&nbsp;for&nbsp;our&nbsp;app,&nbsp;we're&nbsp;seeing&nbsp;a&nbsp;lot&nbsp;more&nbsp;Read()&nbsp;timeouts&nbsp;when&nbsp;downloading&nbsp;large&nbsp;files&nbsp;(greater&nbsp;than&nbsp;50&nbsp;MB&nbsp;or&nbsp;so).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I've&nbsp;created&nbsp;a&nbsp;small&nbsp;test&nbsp;program&nbsp;that&nbsp;reproduces&nbsp;the&nbsp;behavior.&nbsp;&amp;nbsp;We've&nbsp;noticed&nbsp;that&amp;nbsp;this&nbsp;bug&nbsp;is&nbsp;that&nbsp;it&nbsp;is&nbsp;more&nbsp;likely&nbsp;to&nbsp;happen&nbsp;on&nbsp;users&nbsp;systems&nbsp;who&nbsp;only&nbsp;have&nbsp;2&nbsp;cores.&nbsp;On&nbsp;machines&nbsp;with&nbsp;4&nbsp;or&nbsp;more&nbsp;cores,&nbsp;bug&nbsp;does&nbsp;not&nbsp;manifest&nbsp;itself&nbsp;as&nbsp;much.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Running&nbsp;the&nbsp;test&nbsp;program&nbsp;under&nbsp;2.6.x&nbsp;works&nbsp;fine,&nbsp;but&nbsp;under&nbsp;2.10.1&nbsp;it&nbsp;fails&nbsp;more&nbsp;often&nbsp;than&nbsp;not&nbsp;for&nbsp;me&nbsp;when&nbsp;I&nbsp;run&nbsp;on&nbsp;my&nbsp;MacBook.&nbsp;It&nbsp;runs&nbsp;fine&nbsp;on&nbsp;my&nbsp;MacPro&nbsp;whether&nbsp;I&nbsp;use&nbsp;2.6.x&nbsp;or&nbsp;2.10.1&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;<br>

</tt>
