<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt; &nbsp;R11&nbsp;is&nbsp;a&nbsp;scratch&nbsp;register&nbsp;overwritten&nbsp;by&nbsp;a&nbsp;lot&nbsp;of&nbsp;code&nbsp;including&nbsp;various&nbsp;trampolines,&nbsp;so&nbsp;thats&nbsp;why&nbsp;we&nbsp;use&nbsp;r10.&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Zoltan&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;21,&nbsp;2013&nbsp;at&nbsp;4:13&nbsp;AM,&nbsp;Wholesale&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:gavin@wholesalealgorithms.com&quot;&nbsp;target=&quot;_blank&quot;&gt;gavin@wholesalealgorithms.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;info. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;not&nbsp;sure&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;switch&nbsp;to&nbsp;3.0,&nbsp;but&nbsp;I&#39;ll&nbsp;look&nbsp;into&nbsp;it. &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;register&nbsp;in&nbsp;my&nbsp;version&nbsp;is&nbsp;R11,&nbsp;should&nbsp;code&nbsp;be&nbsp;emitted&nbsp;to&nbsp;look&nbsp;up&nbsp;the&nbsp;correct&nbsp;table&nbsp;or&nbsp;is&nbsp;mono_get_lmf_addr&nbsp;the&nbsp;correct&nbsp;call?&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;On&nbsp;May&nbsp;20,&nbsp;2013,&nbsp;at&nbsp;16:52,&nbsp;Zoltan&nbsp;Varga&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:vargaz@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;vargaz@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;21,&nbsp;2013&nbsp;at&nbsp;1:37&nbsp;AM,&nbsp;Gavin&nbsp;Dodd&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:gavin@wholesalealgorithms.com&quot;&nbsp;target=&quot;_blank&quot;&gt;gavin@wholesalealgorithms.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-size:10pt;font-family:lucida&nbsp;console,sans-serif&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;<br>
<br>
To&nbsp;make&nbsp;things&nbsp;more&nbsp;interesting&nbsp;I&#39;m&nbsp;working&nbsp;with&nbsp;a&nbsp;branch&nbsp;of&nbsp;mono&nbsp;2.8&nbsp;(I&nbsp;think)&nbsp;and&nbsp;I&nbsp;don&#39;t&nbsp;have&nbsp;any&nbsp;symbols&nbsp;for&nbsp;the&nbsp;AOT&nbsp;compiled&nbsp;code&nbsp;at&nbsp;run&nbsp;time,&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;should&nbsp;try&nbsp;a&nbsp;3.0&nbsp;based&nbsp;mono&nbsp;version&nbsp;first,&nbsp;you&nbsp;might&nbsp;be&nbsp;running&nbsp;into&nbsp;a&nbsp;bug&nbsp;which&nbsp;is&nbsp;already&nbsp;fixed.&lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-size:10pt;font-family:lucida&nbsp;console,sans-serif&quot;&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;<br>
<br>
My&nbsp;questions&nbsp;are:&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;<br>
<br>
Is&nbsp;the&nbsp;lmf&nbsp;address&nbsp;the&nbsp;correct&nbsp;value&nbsp;for&nbsp;the&nbsp;return&nbsp;of&nbsp;mono_arch_find_imt_method?&nbsp;If&nbsp;not&nbsp;what&nbsp;should&nbsp;it&nbsp;be?&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;<br>
<br>
What&nbsp;generates&nbsp;the&nbsp;IMT&nbsp;for&nbsp;AOT&nbsp;compiled&nbsp;code?&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;What&nbsp;sets&nbsp;the&nbsp;IMT&nbsp;address&nbsp;table&nbsp;at&nbsp;run&nbsp;time&nbsp;and&nbsp;where&nbsp;is&nbsp;it&nbsp;stored?&nbsp;I&nbsp;haven&#39;t&nbsp;seen&nbsp;any&nbsp;breakpoints&nbsp;on&nbsp;IMT&nbsp;functions&nbsp;get&nbsp;hit&nbsp;at&nbsp;runtime.&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;<br>
<br>
Thanks&lt;/div&gt;&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;<br>
&lt;div&gt;The&nbsp;C&nbsp;code&nbsp;is&nbsp;called&nbsp;from&nbsp;an&nbsp;IMT&nbsp;thunk,&nbsp;which&nbsp;is&nbsp;generated&nbsp;by&nbsp;arch_emit_imt_thunk&nbsp;()&nbsp;in&nbsp;aot-compiler.c.&nbsp;The&nbsp;thunks&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;table&nbsp;pointed&nbsp;to&nbsp;by&nbsp;the&nbsp;symbol&nbsp;&#39;imt_thunks&#39;&nbsp;in&nbsp;the&nbsp;mscorlib&nbsp;aot&nbsp;image.&lt;/div&gt;<br>
<br>
&lt;div&gt;The&nbsp;thunk&nbsp;receives&nbsp;the&nbsp;imt&nbsp;argument&nbsp;in&nbsp;MONO_ARCH_IMT_REG&nbsp;which&nbsp;is&nbsp;r10&nbsp;in&nbsp;this&nbsp;case.&nbsp;This&nbsp;register&nbsp;needs&nbsp;to&nbsp;be&nbsp;set&nbsp;by&nbsp;the&nbsp;caller,&nbsp;which&nbsp;is&nbsp;AOT&nbsp;generated&nbsp;code.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Zoltan&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-size:10pt;font-family:lucida&nbsp;console,sans-serif&quot;&gt;&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;<br>
<br>
&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;Gavin&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-style:normal;font-size:13.3333px;background-color:transparent;font-family:lucida&nbsp;console,sans-serif&quot;&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Mono-devel-list&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
