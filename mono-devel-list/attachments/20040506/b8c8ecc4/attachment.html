<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Hello&nbsp;J&amp;ouml;rg,&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
J&amp;ouml;rg&nbsp;Rosenkranz&nbsp;wrote:<br>
&lt;blockquote<br>
&nbsp;cite=&quot;mid23BE0C16E0C22F48B3FB5B0BD6B5307B3B7D1B@visdd003.DevDD.VI.LAN&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Hello&nbsp;Eduard,<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;-----Original&nbsp;Message-----<br>
From:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;<br>
&nbsp;href=&quot;mailto:mono-devel-list-admin@lists.ximian.com&quot;&gt;mono-devel-list-admin@lists.ximian.com&lt;/a&gt;&nbsp;<br>
[&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;mailto:mono-devel-list-admin@lists.ximian.com&quot;&gt;mailto:mono-devel-list-admin@lists.ximian.com&lt;/a&gt;]&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;<br>
Eduard&nbsp;Nesiba<br>
<br>
this&nbsp;patch&nbsp;implements&nbsp;some&nbsp;changes&nbsp;to&nbsp;System.Data.OracleClient<br>
-&nbsp;autocommit&nbsp;behavior&nbsp;for&nbsp;non&nbsp;query&nbsp;statement&nbsp;&nbsp;which&nbsp;is&nbsp;out&nbsp;of&nbsp;<br>
transaction.&nbsp;In&nbsp;previous&nbsp;implementation&nbsp;changed&nbsp;rows&nbsp;stayed&nbsp;<br>
locked&nbsp;until&nbsp;<br>
client&nbsp;disconnect.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
Does&nbsp;System.Data.OracleClient&nbsp;under&nbsp;MS.NET&nbsp;behave&nbsp;the&nbsp;same&nbsp;way?<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
Yes,&nbsp;it&nbsp;does.&lt;br&gt;<br>
&lt;blockquote<br>
&nbsp;cite=&quot;mid23BE0C16E0C22F48B3FB5B0BD6B5307B3B7D1B@visdd003.DevDD.VI.LAN&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;-&nbsp;statement&nbsp;char&nbsp;set&nbsp;conversion<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
Please&nbsp;do&nbsp;not&nbsp;convert&nbsp;back&nbsp;to&nbsp;Encoding.Default.&nbsp;The&nbsp;encoding&nbsp;<br>
Oracle&nbsp;uses&nbsp;is&nbsp;defined&nbsp;by&nbsp;the&nbsp;environment&nbsp;variable&nbsp;NLS_LANG.<br>
Encoding.Default&nbsp;requires&nbsp;this&nbsp;variable&nbsp;to&nbsp;be&nbsp;set&nbsp;to&nbsp;the&nbsp;right&nbsp;encoding<br>
for&nbsp;the&nbsp;current&nbsp;system.&nbsp;Using&nbsp;the&nbsp;current&nbsp;implementation&nbsp;you&nbsp;<br>
simply&nbsp;set<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspNLS_LANG=AMERICAN_AMERICA.UTF8<br>
<br>
and&nbsp;character&nbsp;conversion&nbsp;works&nbsp;regardless&nbsp;of&nbsp;the&nbsp;encoding&nbsp;the<br>
local&nbsp;system&nbsp;uses.&nbsp;If&nbsp;we&nbsp;want&nbsp;a&nbsp;really&nbsp;clean&nbsp;implementation&nbsp;we&nbsp;have<br>
to&nbsp;choose&nbsp;the&nbsp;encoding&nbsp;for&nbsp;statements&nbsp;and&nbsp;results&nbsp;according&nbsp;to&nbsp;NLS_LANG.<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
OK.&nbsp;But&nbsp;if&nbsp;we&nbsp;want&nbsp;output/input&nbsp;in&nbsp;other&nbsp;code&nbsp;page&nbsp;(we&nbsp;are&nbsp;using<br>
ISO8859-2)&nbsp;we&nbsp;must&nbsp;do&nbsp;this&nbsp;char&nbsp;set&nbsp;conversion.&lt;br&gt;<br>
Tested&nbsp;on&nbsp;Linux&nbsp;a&nbsp;Windows&nbsp;and&nbsp;everything&nbsp;fine&nbsp;according&nbsp;NLS_LANG<br>
settings.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote<br>
&nbsp;cite=&quot;mid23BE0C16E0C22F48B3FB5B0BD6B5307B3B7D1B@visdd003.DevDD.VI.LAN&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Joerg.<br>
_______________________________________________<br>
Mono-devel-list&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;<br>
&nbsp;href=&quot;mailto:Mono-devel-list@lists.ximian.com&quot;&gt;Mono-devel-list@lists.ximian.com&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;<br>
&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a&gt;<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>
<br>

</tt>
