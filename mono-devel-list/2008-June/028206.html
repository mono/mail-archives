<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Fwd:  BinaryReader Mono 1.9.1 problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Fwd%3A%20%20BinaryReader%20Mono%201.9.1%20problem&In-Reply-To=F9951513B3F41942B24E3E600EDC942E01CE0E%40mail.main.sydec.be">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028205.html">
   <LINK REL="Next"  HREF="028207.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Fwd:  BinaryReader Mono 1.9.1 problem</H1>
    <B>Leszek Ciesielski</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Fwd%3A%20%20BinaryReader%20Mono%201.9.1%20problem&In-Reply-To=F9951513B3F41942B24E3E600EDC942E01CE0E%40mail.main.sydec.be"
       TITLE="[Mono-dev] Fwd:  BinaryReader Mono 1.9.1 problem">skolima at gmail.com
       </A><BR>
    <I>Thu Jun 12 07:06:06 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028205.html">[Mono-dev] BinaryReader Mono 1.9.1 problem
</A></li>
        <LI>Next message: <A HREF="028207.html">[Mono-dev] BinaryReader Mono 1.9.1 problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28206">[ date ]</a>
              <a href="thread.html#28206">[ thread ]</a>
              <a href="subject.html#28206">[ subject ]</a>
              <a href="author.html#28206">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>---------- Forwarded message ----------
From: Mario De Clippeleir &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mariodc at sydec.be</A>&gt;
Date: Thu, Jun 12, 2008 at 1:04 PM
Subject: RE: [Mono-dev] BinaryReader Mono 1.9.1 problem
To: Leszek Ciesielski &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">skolima at gmail.com</A>&gt;


Hi,

The problem is with the ReadChars function. All of a sudden it skips
more than it is supposed to. When I use ReadBytes, it works.

Here are the file and some test code :

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.IO;

namespace ConsoleApplication1
{
   class Program
   {

       static void Main(string[] args)
       {
           int nrOfColumns = 0;
           Stream memoryStream = File.OpenRead(&quot;test.mix&quot;);
           BinaryReader reader = new BinaryReader(memoryStream);
           reader.BaseStream.Position = 0;
           Console.Out.WriteLine(reader.BaseStream.Position);
           char[] chars = reader.ReadChars(4);
           Console.Out.WriteLine(reader.BaseStream.Position);
           string identification = new string(chars);
           Console.Out.WriteLine(&quot;identification = &quot; + identification);

           reader.BaseStream.Position = 40;
           nrOfColumns = reader.ReadInt32();
           Console.Out.WriteLine(reader.BaseStream.Position);
           reader.BaseStream.Position = 60;
           for (int i = 0; i &lt; nrOfColumns; i++)
           {
               reader.ReadInt32();
               Console.Out.WriteLine(reader.BaseStream.Position);
               byte[] mixName = reader.ReadBytes(64);
               Console.Out.WriteLine(reader.BaseStream.Position);
               //Console.Out.WriteLine(&quot; mixName= &quot; + new
string(mixName));

           }
       }
   }
}

-----Original Message-----
From: Leszek Ciesielski [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">skolima at gmail.com</A>]
Sent: donderdag 12 juni 2008 11:29
To: Mario De Clippeleir
Subject: Re: [Mono-dev] BinaryReader Mono 1.9.1 problem

Please include a test program (preferably with the actual data that
you experience the error with), we can't say much without those.

2008/6/12 Mario De Clippeleir &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mariodc at sydec.be</A>&gt;:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have a problem where the binaryreader gives the following error :
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> System.IO.EndOfStreamException: Failed to read past end of stream.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am using mono 1.9.1.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It works fine in just c#.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Anybody got any ideas on what this problem may be and how/when it can
</I>be
&gt;<i> resolved ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Mario
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>


--
MS-DOS user since 5.0
Windows user since 3.11
Linux user since kernel 2.4
Novell Netware user since 2.2
WARCRAFT user since 1.0




-- 
MS-DOS user since 5.0
Windows user since 3.11
Linux user since kernel 2.4
Novell Netware user since 2.2
WARCRAFT user since 1.0
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.mix
Type: application/octet-stream
Size: 10668 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080612/4d1ae43a/attachment-0001.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080612/4d1ae43a/attachment-0001.obj</A> 
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028205.html">[Mono-dev] BinaryReader Mono 1.9.1 problem
</A></li>
	<LI>Next message: <A HREF="028207.html">[Mono-dev] BinaryReader Mono 1.9.1 problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28206">[ date ]</a>
              <a href="thread.html#28206">[ thread ]</a>
              <a href="subject.html#28206">[ subject ]</a>
              <a href="author.html#28206">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
