<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] DataSet.Merge() fix wrt DataRelation createConstraints
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20DataSet.Merge%28%29%20fix%20wrt%20DataRelation%20createConstraints&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028283.html">
   <LINK REL="Next"  HREF="028274.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] DataSet.Merge() fix wrt DataRelation createConstraints</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20DataSet.Merge%28%29%20fix%20wrt%20DataRelation%20createConstraints&In-Reply-To="
       TITLE="[Mono-dev] DataSet.Merge() fix wrt DataRelation createConstraints">atsushi at ximian.com
       </A><BR>
    <I>Thu Jun 19 11:21:19 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028283.html">[Mono-dev] Mono SVN trunk download missing for OpenSuse 10.3?
</A></li>
        <LI>Next message: <A HREF="028274.html">[Mono-dev] DataSet.Merge() fix wrt DataRelation	createConstraints
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28273">[ date ]</a>
              <a href="thread.html#28273">[ thread ]</a>
              <a href="subject.html#28273">[ subject ]</a>
              <a href="author.html#28273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

This time the patch is about DataSet.Merge(). It fixes the final
nunit test failure. DataTableReadWriteXmlTest.TestReadXml, the
failing test, exposes failure in DataTable.Read(), but it is actually
about DataSet.Merge() which is used in the method above.

It should not create DataRelation with &quot;createConstraints&quot; as always
false. It should be based on the source DataRelation.

The field createConstraints should be preserved for merge, so
I also made some fix in DataRelation too.

This change exposed wrong createConstraints handling in
XmlSchemaDataImporter too, so this patch also includes fix for it.

If the fix looks good, I'll commit it later.

Atsushi Eno
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: dataset-merge-constraints.patch
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080620/631e91f9/attachment-0001.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080620/631e91f9/attachment-0001.pl</A> 
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028283.html">[Mono-dev] Mono SVN trunk download missing for OpenSuse 10.3?
</A></li>
	<LI>Next message: <A HREF="028274.html">[Mono-dev] DataSet.Merge() fix wrt DataRelation	createConstraints
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28273">[ date ]</a>
              <a href="thread.html#28273">[ thread ]</a>
              <a href="subject.html#28273">[ subject ]</a>
              <a href="author.html#28273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
