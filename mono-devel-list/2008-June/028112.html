<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] MonoTests.System.IO.StdioFileStreamTest.Write unit test	case fails in Solaris 7 sparc
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20MonoTests.System.IO.StdioFileStreamTest.Write%20unit%20test%0A%09case%20fails%20in%20Solaris%207%20sparc&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028109.html">
   <LINK REL="Next"  HREF="028145.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] MonoTests.System.IO.StdioFileStreamTest.Write unit test	case fails in Solaris 7 sparc</H1>
    <B>rajesh.raji at wipro.com</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20MonoTests.System.IO.StdioFileStreamTest.Write%20unit%20test%0A%09case%20fails%20in%20Solaris%207%20sparc&In-Reply-To="
       TITLE="[Mono-dev] MonoTests.System.IO.StdioFileStreamTest.Write unit test	case fails in Solaris 7 sparc">rajesh.raji at wipro.com
       </A><BR>
    <I>Mon Jun  2 10:21:10 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028109.html">[Mono-dev]	MonoTests.Mono.Data.SqliteClient.SqliteParameterUnitTests.InsertRandomValuesWithParameter	() - failed
</A></li>
        <LI>Next message: <A HREF="028145.html">[Mono-dev] mono-service process name
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28112">[ date ]</a>
              <a href="thread.html#28112">[ thread ]</a>
              <a href="subject.html#28112">[ subject ]</a>
              <a href="author.html#28112">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello guys,

 

Please assist us on the below error message:

 

Error Message

 

While trying to run the test suite, I was getting the following error
under mcs/class/Mono.Posix directory:

------------------------------------------------------------------------
-----------------------------------------------

expected:&lt;1&gt;  but was:&lt;0&gt;

  at MonoTests.System.IO.StdioFileStreamTest.Write () [0x000cc] in
/mono_sol7/mono-1.9/mcs/class/Mono.Posix/Test/Mono.Unix/StdioFileStreamT
est.cs:278 

  at (wrapper managed-to-native)
System.Reflection.MonoMethod:InternalInvoke (object,object[])

  at System.Reflection.MonoMethod.Invoke (System.Object obj,
BindingFlags invokeAttr, System.Reflection.Binder binder,
System.Object[] parameters, System.Globalization.CultureInfo culture)
[0x0003f] in
/mono_sol7/mono-1.9/mcs/class/corlib/System.Reflection/MonoMethod.cs:149

------------------------------------------------------------------------
-----------------------------------------------

 

This test suite is working fine for Mono 1.9 on Solaris 10 (x86
architecture) as well as in Linux platforms.

 

Component
Mono.Posix

 

Architecture
Solaris 7, Sparc 32 bit

 

Analysis

On analyzing the cause for the assertion in
&quot;Test/Mono.Unix/StdioFileStreamTest.cs&quot; under Mono.Posix directory, we
observed the following:

 

- Three write operations (stream.Write) was done to the file, after
which a fread command was issued without doing a fseek. 

stream.Write (outbytes, 0, 7);

stream.Write (outbytes, 7, 7);

stream.Write (outbytes, 14, 1);

stream.Read (bytes, 0, 15);

- But the test suite passed, when I tweaked a fseek (stream.Seek)
between the write and read operations.

- I suspect this should be the problem as the 'bytes' array is filled
with zero after the read operation which is not the expected case.

 

Any idea/suggestions on this issue are appreciated!

 

Thanks a lot in advance for the help rendered.

 

Thanks

Rajesh

 

 


Please do not print this email unless it is absolutely necessary. 

The information contained in this electronic message and any attachments to this message are intended for the exclusive use of the addressee(s) and may contain proprietary, confidential or privileged information. If you are not the intended recipient, you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately and destroy all copies of this message and any attachments. 

WARNING: Computer viruses can be transmitted via email. The recipient should check this email and any attachments for the presence of viruses. The company accepts no liability for any damage caused by any virus transmitted by this email. 

www.wipro.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080602/e7effc7d/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080602/e7effc7d/attachment-0001.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028109.html">[Mono-dev]	MonoTests.Mono.Data.SqliteClient.SqliteParameterUnitTests.InsertRandomValuesWithParameter	() - failed
</A></li>
	<LI>Next message: <A HREF="028145.html">[Mono-dev] mono-service process name
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28112">[ date ]</a>
              <a href="thread.html#28112">[ thread ]</a>
              <a href="subject.html#28112">[ subject ]</a>
              <a href="author.html#28112">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
