<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [Fwd: [Mono-patches] r106626 - in trunk/mcs/class/System.Configuration: .	System.Configuration Test/System.Configuration Test/standalone]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BFwd%3A%20%5BMono-patches%5D%20r106626%20-%20in%0A%20trunk/mcs/class/System.Configuration%3A%20.%09System.Configuration%0A%20Test/System.Configuration%20Test/standalone%5D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028317.html">
   <LINK REL="Next"  HREF="028321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [Fwd: [Mono-patches] r106626 - in trunk/mcs/class/System.Configuration: .	System.Configuration Test/System.Configuration Test/standalone]</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BFwd%3A%20%5BMono-patches%5D%20r106626%20-%20in%0A%20trunk/mcs/class/System.Configuration%3A%20.%09System.Configuration%0A%20Test/System.Configuration%20Test/standalone%5D&In-Reply-To="
       TITLE="[Mono-dev] [Fwd: [Mono-patches] r106626 - in trunk/mcs/class/System.Configuration: .	System.Configuration Test/System.Configuration Test/standalone]">atsushi at ximian.com
       </A><BR>
    <I>Thu Jun 26 06:50:51 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028317.html">[Mono-dev] Pending patches
</A></li>
        <LI>Next message: <A HREF="028321.html">[Mono-dev] [Fwd: [Mono-patches] r106626 - in	trunk/mcs/class/System.Configuration: .	System.Configuration	Test/System.Configuration Test/standalone]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28320">[ date ]</a>
              <a href="thread.html#28320">[ thread ]</a>
              <a href="subject.html#28320">[ subject ]</a>
              <a href="author.html#28320">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Man, I don't think this is a good change. We (in Boston) are talking
about sys.configuration optimization, and will likely have to eliminate
XmlTextReader dependency (actually I have such a change possibly
to switch to XmlNodeReader at some stage). Your change would make
performance worse, or at least block significant performance
improvements.

I see almost no benefits and will revert unless you claim very
important improvements.

Atsushi Eno


-------- Original Message --------
Subject: [Mono-patches] r106626 - in 
trunk/mcs/class/System.Configuration: .	System.Configuration 
Test/System.Configuration Test/standalone
Date: Thu, 26 Jun 2008 06:31:08 -0400 (EDT)
From: Gert Driesen (<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">gert.driesen at pandora.be</A>) 
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-patches-list at lists.ximian.com</A>&gt;
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-patches at lists.ximian.com</A>, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ximian.monolist at gmail.com</A>, 
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-svn-patches-garchive-20758 at googlegroups.com</A>

Author: gert
Date: 2008-06-26 06:31:07 -0400 (Thu, 26 Jun 2008)
New Revision: 106626

Added:
 
trunk/mcs/class/System.Configuration/System.Configuration/ConfigXmlTextReader.cs
 
trunk/mcs/class/System.Configuration/Test/System.Configuration/ConfigurationErrorsExceptionTest.cs
    trunk/mcs/class/System.Configuration/Test/standalone/Assert.cs
Modified:
    trunk/mcs/class/System.Configuration/ChangeLog
    trunk/mcs/class/System.Configuration/System.Configuration.dll.sources
 
trunk/mcs/class/System.Configuration/System.Configuration/AppSettingsSection.cs
    trunk/mcs/class/System.Configuration/System.Configuration/ChangeLog
 
trunk/mcs/class/System.Configuration/System.Configuration/ClientConfigurationSystem.cs
    trunk/mcs/class/System.Configuration/System.Configuration/ConfigInfo.cs
 
trunk/mcs/class/System.Configuration/System.Configuration/Configuration.cs
 
trunk/mcs/class/System.Configuration/System.Configuration/ConfigurationElement.cs
 
trunk/mcs/class/System.Configuration/System.Configuration/ConfigurationErrorsException.cs
 
trunk/mcs/class/System.Configuration/System.Configuration/ConfigurationLocation.cs
 
trunk/mcs/class/System.Configuration/System.Configuration/ConfigurationSection.cs
 
trunk/mcs/class/System.Configuration/System.Configuration_test.dll.sources
    trunk/mcs/class/System.Configuration/Test/System.Configuration/ChangeLog
    trunk/mcs/class/System.Configuration/Test/standalone/ChangeLog
    trunk/mcs/class/System.Configuration/Test/standalone/Makefile
    trunk/mcs/class/System.Configuration/Test/standalone/t28.cs
    trunk/mcs/class/System.Configuration/Test/standalone/t42.cs
Log:
* ConfigurationErrorsExceptionTest.cs: Added tests for ctors and
GetFilename/GetLineNumber overloads.
* System.Configuration_test.dll.sources: added
ConfigurationErrorsExceptionTest.cs.
* System.Configuration.dll.sources: added ConfigXmlTextReader.cs.
* ConfigurationElement.cs: Use ConfigurationErrorsException instead of
ConfigurationException, and pass reader to ConfigurationErrorsException
ctor to allow for file/linenumber info in exception message.
* ConfigurationErrorsException.cs: Removed local bareMessage field, and
use base.BareMessage field instead. Fixed Message property to only add
filename if not null or zero-length string, and only add line if not
zero. In GetFilename/GetLineNumber overloads, only try to get info if
node/reader implements IConfigErrorInfo.
* ConfigurationSection.cs: Use ConfigXmlTextReader instead of
XmlTextReader to allow for file/linenumber info in exception messages.
* ConfigXmlTextReader.cs: Added XmlTextReader that implements
IConfigErrorInfo.
* ConfigurationLocation.cs: Use ConfigXmlTextReader instead of
XmlTextReader to allow for file/linenumber info in exception messages.
* ClientConfigurationSystem.cs: Perform lazy initialization and
wrap exceptions in ConfigurationErrorsException. Fixes standalone test
t28.
* Configuration.cs: Use ConfigXmlTextReader instead of XmlTextReader
to allow for file/linenumber info in exception messages.
* ConfigInfo.cs: Fixed ThrowException to use file/number info available
in XmlTextReader for exception message.
* AppSettingsSection.cs: Use ConfigXmlTextReader instead of
XmlTextReader to allow for file/linenumber info in exception messages.
* Assert.cs: added.
* Makefile: added Assert.cs, and explicitly specify output file.
* t28.cs: Improved test.


</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028317.html">[Mono-dev] Pending patches
</A></li>
	<LI>Next message: <A HREF="028321.html">[Mono-dev] [Fwd: [Mono-patches] r106626 - in	trunk/mcs/class/System.Configuration: .	System.Configuration	Test/System.Configuration Test/standalone]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28320">[ date ]</a>
              <a href="thread.html#28320">[ thread ]</a>
              <a href="subject.html#28320">[ subject ]</a>
              <a href="author.html#28320">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
