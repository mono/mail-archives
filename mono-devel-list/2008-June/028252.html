<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] fix for DataSet.InferXmlSchema() over existing table
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20fix%20for%20DataSet.InferXmlSchema%28%29%20over%20existing%20table&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028256.html">
   <LINK REL="Next"  HREF="028254.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] fix for DataSet.InferXmlSchema() over existing table</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20fix%20for%20DataSet.InferXmlSchema%28%29%20over%20existing%20table&In-Reply-To="
       TITLE="[Mono-dev] fix for DataSet.InferXmlSchema() over existing table">atsushi at ximian.com
       </A><BR>
    <I>Tue Jun 17 13:40:37 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028256.html">[Mono-dev] problem compiling 1.9.1 on OpenBSD
</A></li>
        <LI>Next message: <A HREF="028254.html">[Mono-dev] fix for DataSet.InferXmlSchema() over existing table
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28252">[ date ]</a>
              <a href="thread.html#28252">[ thread ]</a>
              <a href="subject.html#28252">[ subject ]</a>
              <a href="author.html#28252">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Looks like I'm posting daily DataSet patch ;-)

While I was fixing DataTableTest.ReadWriteXmlSchema() failure, I've
noticed that DataSet.ReadXml() should not skip schema inference
when argument XmlReadMode is InferSchema.

I fixed it but it exposed another issue in InferXmlSchema().
Currently, when there already is a primary key on a table and it is
being changed to populate a primary key for its child tables, it just
rejects such population because of existing pkey. That's unexpected
behavior and I made required fixes to just reuse existing pkey.

This fixes one issue in DataTableTest.ReadWriteXmlSchema(). It
still has another issue to fix (though now it looks like the same as
another test exposes).

If it looks good, I'll commit it later.

Atsushi Eno
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: fix-inferschema-on-existing-ds.patch
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080618/726638f1/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080618/726638f1/attachment.pl</A> 
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028256.html">[Mono-dev] problem compiling 1.9.1 on OpenBSD
</A></li>
	<LI>Next message: <A HREF="028254.html">[Mono-dev] fix for DataSet.InferXmlSchema() over existing table
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28252">[ date ]</a>
              <a href="thread.html#28252">[ thread ]</a>
              <a href="subject.html#28252">[ subject ]</a>
              <a href="author.html#28252">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
