<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Patches for mono-winforms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Patches%20for%20mono-winforms&In-Reply-To=%3C4FCAC212.6040506%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038940.html">
   <LINK REL="Next"  HREF="038942.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Patches for mono-winforms</H1>
    <B>Rob Wilkens</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Patches%20for%20mono-winforms&In-Reply-To=%3C4FCAC212.6040506%40gmail.com%3E"
       TITLE="[Mono-dev] Patches for mono-winforms">robwilkens at gmail.com
       </A><BR>
    <I>Sun Jun  3 01:46:58 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="038940.html">[Mono-dev] Patches for mono-winforms
</A></li>
        <LI>Next message: <A HREF="038942.html">[Mono-dev] Patches for mono-winforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38941">[ date ]</a>
              <a href="thread.html#38941">[ thread ]</a>
              <a href="subject.html#38941">[ subject ]</a>
              <a href="author.html#38941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/02/2012 09:38 PM, Rob Wilkens wrote:
&gt;<i> On 06/02/2012 08:55 PM, Steven Boswell II wrote:
</I>&gt;&gt;<i> The EditingControlShowing event has to be called, and it has to be 
</I>&gt;&gt;<i> called after the control's contents have been initialized 
</I>&gt;&gt;<i> properly...that's not really two separate issues.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The enclosed patch is an updated version; in addition to having a 
</I>&gt;&gt;<i> unit test, it fixes one additional bug revealed by my testing. 
</I>&gt;&gt;<i> Before, DataGridViewComboBoxCell.InitializeEditingControl() was 
</I>&gt;&gt;<i> setting the initial value from the FormattedValue property, instead 
</I>&gt;&gt;<i> of the initialFormattedValue parameter.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I tried to write an additional unit test that worked with bound data, 
</I>&gt;&gt;<i> but for the life of me I can't figure out why it doesn't work.  I've 
</I>&gt;&gt;<i> done data-binding with DataGridView before...it wasn't this 
</I>&gt;&gt;<i> mysterious.  In my unit test, after I set the DataGridView's 
</I>&gt;&gt;<i> DataSource property, the data-grid doesn't initialize properly; 
</I>&gt;&gt;<i> instead of four rows, it ends up with one row, and all its cell 
</I>&gt;&gt;<i> values are null.  After beating my head against the wall for several 
</I>&gt;&gt;<i> hours, I'm perfectly happy to be told what a moron I am, if someone 
</I>&gt;&gt;<i> will just tell me why the EditingControlShowingTest_Bound test 
</I>&gt;&gt;<i> doesn't work. :-)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Steven Boswell
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Not writing to call you a moron, I'm a newbie myself and i could be 
</I>&gt;<i> wrong...  But i copied and pasted your test code for 
</I>&gt;<i> EditingControlShowingTest_Bound into Visual Studio 2010, but rather 
</I>&gt;<i> than creating the DataGridVIew in code i placed it on the form and 
</I>&gt;<i> modified your code to use the one on the form...  And i disabled the 
</I>&gt;<i> asserts...  And from what i can tell it runs fine in both .net and 
</I>&gt;<i> mono (that is, the data grid view populates).
</I>&gt;<i>
</I>&gt;<i> One thing that I noticed about your code, though, is it depends on a 
</I>&gt;<i> 'showing' event..
</I>&gt;<i>
</I>&gt;<i> And i wonder if that means your datagridview needs to be placed on a 
</I>&gt;<i> form which is displayed, so that it is actually shown...
</I>&gt;<i>
</I>&gt;<i> i.e. change your code something like this:
</I>&gt;<i>
</I>&gt;<i> using (Form Form1=new Form()){
</I>&gt;<i>     Form1.Controls.Add(_dataGridView);//optionaly set sizeand location 
</I>&gt;<i> of both gridview and form
</I>&gt;<i>     Form1.Show();
</I>&gt;<i>
</I>&gt;<i>     ... insert the rest of your code here ....
</I>&gt;<i> }
</I>Oh, and if i'm right, you might need the equivalent of an 
Application.Run(Form1) to process the events since you're listening for 
events, just don't forget to close Form1 or the Run loop might never end 
and your test can hang up with a displayed window...


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20120602/1c0fe01c/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20120602/1c0fe01c/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038940.html">[Mono-dev] Patches for mono-winforms
</A></li>
	<LI>Next message: <A HREF="038942.html">[Mono-dev] Patches for mono-winforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38941">[ date ]</a>
              <a href="thread.html#38941">[ thread ]</a>
              <a href="subject.html#38941">[ subject ]</a>
              <a href="author.html#38941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
