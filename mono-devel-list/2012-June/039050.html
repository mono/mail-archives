<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Idle &amp; Windows Forms on Win32
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Idle%20%26%20Windows%20Forms%20on%20Win32&In-Reply-To=%3C4FD5DE7E.8020103%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039049.html">
   <LINK REL="Next"  HREF="039052.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Idle &amp; Windows Forms on Win32</H1>
    <B>Rob Wilkens</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Idle%20%26%20Windows%20Forms%20on%20Win32&In-Reply-To=%3C4FD5DE7E.8020103%40gmail.com%3E"
       TITLE="[Mono-dev] Idle &amp; Windows Forms on Win32">robwilkens at gmail.com
       </A><BR>
    <I>Mon Jun 11 12:03:10 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="039049.html">[Mono-dev] MonoWrench Windows builds
</A></li>
        <LI>Next message: <A HREF="039052.html">[Mono-dev] System.ServiceModel.ServiceHost exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39050">[ date ]</a>
              <a href="thread.html#39050">[ thread ]</a>
              <a href="subject.html#39050">[ subject ]</a>
              <a href="author.html#39050">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I haven't been able to dig into the code too much yet.. But...

 From what i can see XplatUIWin32 only call OnIdle event handlers when 
Application.RaiseIdle(EventArgs e) is called by the application.. It 
doesn't actually call it when the application goes idle.

I've been researching the Windows documentation, and the way for us to 
determine if we're idle or not is to call PeekMessage while we're in the 
getmessage loop (wherever that gets done, i think in GetMessage), and if 
there is a message, process it, and if there's not a message, presume 
we're idle, and call the onidle event handlers there.

Armed with this mini piece of information, if i am right, does anyone 
mind me trying to fix this if i am capable, and i'm not claiming i am?  
I'll throw this into the same branch (in my case, master) that has the 
other idle fixes i was doing before i test it and issue a pull request.

-Rob
</PRE>




















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039049.html">[Mono-dev] MonoWrench Windows builds
</A></li>
	<LI>Next message: <A HREF="039052.html">[Mono-dev] System.ServiceModel.ServiceHost exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39050">[ date ]</a>
              <a href="thread.html#39050">[ thread ]</a>
              <a href="subject.html#39050">[ subject ]</a>
              <a href="author.html#39050">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
