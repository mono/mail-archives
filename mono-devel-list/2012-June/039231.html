<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Patches for mono-winforms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Patches%20for%20mono-winforms&In-Reply-To=%3C1340523062450-4650153.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039230.html">
   <LINK REL="Next"  HREF="039112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Patches for mono-winforms</H1>
    <B>Stifu</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Patches%20for%20mono-winforms&In-Reply-To=%3C1340523062450-4650153.post%40n4.nabble.com%3E"
       TITLE="[Mono-dev] Patches for mono-winforms">stifu at free.fr
       </A><BR>
    <I>Sun Jun 24 07:31:02 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="039230.html">[Mono-dev] Patches for mono-winforms
</A></li>
        <LI>Next message: <A HREF="039112.html">[Mono-dev] Patches for mono-winforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39231">[ date ]</a>
              <a href="thread.html#39231">[ thread ]</a>
              <a href="subject.html#39231">[ subject ]</a>
              <a href="author.html#39231">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry, I was wrong: bug 5834 *is* caused by patch 6, too. (I messed up my
tests as I'm juggling between .NET 2.0 or 4.0 depending on the application
I'm testing, which have separate WinForms DLLs.)

I'll go ahead and commit my fix, then.


Stifu wrote
&gt;<i> 
</I>&gt;<i> The thought crossed my mind, but I'm not sure about that. Because with
</I>&gt;<i> VisualStyles enabled, ToolStrips do not have a solid background color, but
</I>&gt;<i> a gradient, that's why I thought we should only paint the background if
</I>&gt;<i> there is a non-default one specified. I've seen other such cases like that
</I>&gt;<i> in .NET, with other controls.
</I>&gt;<i> 
</I>&gt;<i> By the way, my proposed patch had a little problem:
</I>&gt;<i> 
</I>&gt;<i> &quot;if (e.Item.Parent.BackColor != Control.DefaultBackColor) {&quot;
</I>&gt;<i> 
</I>&gt;<i> The &quot;.Parent&quot; part should be removed.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Steven Boswell II wrote
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> It seems to me that patch 6 revealed another bug, it didn't cause one.
</I>&gt;&gt;<i> &#160;The problem seems to be that the default background color of
</I>&gt;&gt;<i> tool-strip-items is set wrong, i.e. bug 5834 describes the general
</I>&gt;&gt;<i> problem. &#160;Your proposed patch seems, to me, to be too specific to the
</I>&gt;&gt;<i> example.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I would start by checking the default background colors in .NET and
</I>&gt;&gt;<i> making sure Mono is using the same colors.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> ________________________________
</I>&gt;&gt;<i>  From: Stifu &lt;stifu@&gt;
</I>&gt;&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at .ximian</A> 
</I>&gt;&gt;<i> Sent: Saturday, June 23, 2012 4:19 PM
</I>&gt;&gt;<i> Subject: Re: [Mono-dev] Patches for mono-winforms
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> I just noticed patch 6
</I>&gt;&gt;<i> (<A HREF="https://github.com/mono/mono/commit/3d04a14a278d6160e33c16b52b86d68fe45d80b1">https://github.com/mono/mono/commit/3d04a14a278d6160e33c16b52b86d68fe45d80b1</A>)
</I>&gt;&gt;<i> caused a regression.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> See the attached screenshot (top: before patch, bottom: after patch).
</I>&gt;&gt;<i> <A HREF="http://mono.1490590.n4.nabble.com/file/n4650149/toolstripitems.png">http://mono.1490590.n4.nabble.com/file/n4650149/toolstripitems.png</A>
</I>&gt;&gt;<i> toolstripitems.png 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The application this screenshot is from:
</I>&gt;&gt;<i> <A HREF="http://epicedit.stifu.fr/download/EpicEdit_2.5.zip">http://epicedit.stifu.fr/download/EpicEdit_2.5.zip</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> By the way, I just reported bug 5834
</I>&gt;&gt;<i> (<A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=5834">https://bugzilla.xamarin.com/show_bug.cgi?id=5834</A>), which may be
</I>&gt;&gt;<i> related,
</I>&gt;&gt;<i> except that one isn't a regression. Maybe we can kill two birds with one
</I>&gt;&gt;<i> stone.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at .ximian</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>
--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Patches-for-mono-winforms-tp4649620p4650153.html">http://mono.1490590.n4.nabble.com/Patches-for-mono-winforms-tp4649620p4650153.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039230.html">[Mono-dev] Patches for mono-winforms
</A></li>
	<LI>Next message: <A HREF="039112.html">[Mono-dev] Patches for mono-winforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39231">[ date ]</a>
              <a href="thread.html#39231">[ thread ]</a>
              <a href="subject.html#39231">[ subject ]</a>
              <a href="author.html#39231">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
