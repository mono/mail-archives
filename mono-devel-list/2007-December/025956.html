<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] runtime dbg library API proposal/impl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20runtime%20dbg%20library%20API%20proposal/impl&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025945.html">
   <LINK REL="Next"  HREF="025957.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] runtime dbg library API proposal/impl</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20runtime%20dbg%20library%20API%20proposal/impl&In-Reply-To="
       TITLE="[Mono-dev] runtime dbg library API proposal/impl">lupus at ximian.com
       </A><BR>
    <I>Wed Dec  5 12:58:19 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025945.html">[Mono-dev] CTP .NET parallel name spaces
</A></li>
        <LI>Next message: <A HREF="025957.html">[Mono-dev] runtime dbg library API proposal/impl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25956">[ date ]</a>
              <a href="thread.html#25956">[ thread ]</a>
              <a href="subject.html#25956">[ subject ]</a>
              <a href="author.html#25956">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.
The attached patch implements part of the debugging library
the runtime will provide for use in the debugger, to reduce
the dependencies the debugger has on the runtime internals.
Note this is very basic for now and also includes stuff the debugger
won't use, but that will be essential to allow testing the library
during the runtime build/test cycle.

I'd like advice especially for the case of handling threads:
should we have a mono_dbg_target_set_thread (target, thread_id)
interface and set/get_context calls without the additional thread_id
argument or use something like in the header file below?
I also intend to make stop/continue work on individual threads,
keeping the existing interface for stopping all the threads.

By tomorrow I'll try to expand the API to include helper
functions to access some of the runtime data structures
(like MonoClass' name, namespace, parent fields etc).

Also, as discussed with Martin, the read/write word functions will be
later changed to optionally use a callback instead of using ptrace
directly (so that the debugger could provide a callback that reads data
from core files, for example).

It would be also good if people familiar with windows debugging could
make sure the API is implementable there as well.

Comments welcome.
Thanks!

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better
-------------- next part --------------
A non-text attachment was scrubbed...
Name: runtime-debug-lib.diff
Type: text/x-diff
Size: 12978 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20071205/79c75e4d/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20071205/79c75e4d/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025945.html">[Mono-dev] CTP .NET parallel name spaces
</A></li>
	<LI>Next message: <A HREF="025957.html">[Mono-dev] runtime dbg library API proposal/impl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25956">[ date ]</a>
              <a href="thread.html#25956">[ thread ]</a>
              <a href="subject.html#25956">[ subject ]</a>
              <a href="author.html#25956">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
