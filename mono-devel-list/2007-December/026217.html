<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Remoting performance between two	appdomains(	plugins) in same process/application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Remoting%20performance%20between%20two%0A%09appdomains%28%09plugins%29%20in%20same%20process/application&In-Reply-To=C6B21362-07A8-4FE3-941B-0274FF1D55A1%40cogmation.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026216.html">
   <LINK REL="Next"  HREF="026223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Remoting performance between two	appdomains(	plugins) in same process/application</H1>
    <B>Lluis Sanchez</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Remoting%20performance%20between%20two%0A%09appdomains%28%09plugins%29%20in%20same%20process/application&In-Reply-To=C6B21362-07A8-4FE3-941B-0274FF1D55A1%40cogmation.com"
       TITLE="[Mono-dev] Remoting performance between two	appdomains(	plugins) in same process/application">lluis at ximian.com
       </A><BR>
    <I>Wed Dec 19 10:47:00 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="026216.html">[Mono-dev] Remoting performance between two appdomains( plugins) in	same process/application
</A></li>
        <LI>Next message: <A HREF="026223.html">[Mono-dev] Remoting performance between two appdomains(	plugins) in same process/application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26217">[ date ]</a>
              <a href="thread.html#26217">[ thread ]</a>
              <a href="subject.html#26217">[ subject ]</a>
              <a href="author.html#26217">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>El dc 19 de 12 del 2007 a les 09:03 -0600, en/na Shawn Schaerer va
escriure:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I have a question on the performance of remoting between two
</I>&gt;<i> appdomains running in the same process.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> We have developed a dynamic dll loading program (plugins) using
</I>&gt;<i> appdomains and assemblies and need to pass a lot of data between the
</I>&gt;<i> two plugins.  We are passing image data between the two
</I>&gt;<i> plugins.  The size of the data is around 250K Bytes and the transfer
</I>&gt;<i> happens 15-30 times a second.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Question:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Is remoting optimized when the appdomains are created in the same
</I>&gt;<i> process / application ? ( We are passing the objects using
</I>&gt;<i> MarshalByRefObject)
</I>
Yes. The cross-app domain channel can send information to the target
domain by just copying memory. That's faster than any other IPC method.
Also, if the remote methods you call use only primitive types or arrays
of primitive types, the cross-app domain channel can avoid the
serialization of parameters and can make a direct copy of data, which is
much faster.

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Are the transfers the same as accessing shared memory or is the data
</I>&gt;<i> still accessed via proxies ?  
</I>
Data is still accessed via proxies, because it is not possible to share
managed objects between domains. If you send a MarshalByRef object
you'll get a proxy to the object in the source domain. If you send a
byte array of 250Kb, the target domain will get a copy of that array.

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Is there a big performance hit doing this in Mono ? Is there a better
</I>&gt;<i> solution ?
</I>
A solution for what? for sending information between appdomains? I don't
think there isn't a better solution than remoting.

Lluis.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026216.html">[Mono-dev] Remoting performance between two appdomains( plugins) in	same process/application
</A></li>
	<LI>Next message: <A HREF="026223.html">[Mono-dev] Remoting performance between two appdomains(	plugins) in same process/application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26217">[ date ]</a>
              <a href="thread.html#26217">[ thread ]</a>
              <a href="subject.html#26217">[ subject ]</a>
              <a href="author.html#26217">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
