<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Issue with zlib.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Issue%20with%20zlib.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026270.html">
   <LINK REL="Next"  HREF="026180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Issue with zlib.</H1>
    <B>Ricardo Ruiz</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Issue%20with%20zlib.&In-Reply-To="
       TITLE="[Mono-dev] Issue with zlib.">ricardo.ruiz at ignitetech.com
       </A><BR>
    <I>Tue Dec 18 12:30:28 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="026270.html">[Mono-dev] Mono.Addins in Monodoc
</A></li>
        <LI>Next message: <A HREF="026180.html">[Mono-dev] Issue with zlib.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26176">[ date ]</a>
              <a href="thread.html#26176">[ thread ]</a>
              <a href="subject.html#26176">[ subject ]</a>
              <a href="author.html#26176">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello! We've been evaluating Mono for a few weeks now with the idea of
using it as a cross-platform development framework. That said, I've had
some issues with certain parts of the product and I would love some
feedback as to what I might be doing wrong. 

I am using Mono v1.2.5.2 and cygwin under Windows XP for my shell. I'm
bundling my application using mkbundle.exe but I'm having an issue with
compression under Windows.

_______________________________________

$ mono mkbundle.exe -z -o ./Bundled/Bundled.exe --deps --config-dir .
MyConsole.exe 

OS is: Windows
Sources: 1 Auto-dependencies: True
embedding: c:\Temp\Mono Test\Linked\MyConsole.exe
compression ratio: 42.61%
embedding: c:\Mono\lib\mono\2.0\mscorlib.dll
compression ratio: 34.58%
embedding:
c:\Mono\lib\mono\gac\System\2.0.0.0__b77a5c561934e089\System.dll
compression ratio: 37.09%
embedding:
c:\Mono\lib\mono\gac\System.Configuration\2.0.0.0__b03f5f7f11d50a3a\Syst
em.Configuration.dll
compression ratio: 39.93%
embedding:
c:\Mono\lib\mono\gac\System.Xml\2.0.0.0__b77a5c561934e089\System.Xml.dll
compression ratio: 33.93%
embedding:
c:\Mono\lib\mono\gac\System.Security\2.0.0.0__b03f5f7f11d50a3a\System.Se
curity.dll
compression ratio: 39.30%
embedding:
c:\Mono\lib\mono\gac\Mono.Security\2.0.0.0__0738eb9f132ed756\Mono.Securi
ty.dll
compression ratio: 39.96%
Compiling:
as -o temp.o temp.s
gcc -mno-cygwin -g -o ./Bundled/Bundled.exe -Wall temp.c `pkg-config
--cflags --libs mono` -lz temp.o [Fail]

_______________________________________
gcc is failing. So I copy that line and run it again:

$ gcc -mno-cygwin -g -o ./Bundled/Bundled.exe -Wall temp.c `pkg-config
--cflags --libs mono` -lz temp.o

temp.c:46:18: zlib.h: No such file or directory
** and some other errors and warnings ** 

_______________________________________
If I change the gcc command line by adding the path to Mono's include
directory:

$ gcc -mno-cygwin -g -o ./Bundled/Bundled.exe -Wall temp.c `pkg-config
--cflags --libs mono` -I/cygdrive/c/Mono/include -lz temp.o

Everything works fine!! So I guess I'm missing an environment variable
to allow mkbundle to find zlib.h?

Thanks for your help!!
_______________________________________
Ricardo Ruiz, Development
Ignite Technologies
3211 Internet Blvd., Suite 300 
Frisco, Texas 75034
Phone - 972.348.6429
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ricardo.ruiz at ignitetech.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ricardo.ruiz at ignitetech.com</A>&gt; 

This message is for the designated recipient only and may contain
privileged, proprietary, or otherwise private information. If you have
received it in error, please notify the sender immediately and delete
the original. Any other use of the email is prohibited.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026270.html">[Mono-dev] Mono.Addins in Monodoc
</A></li>
	<LI>Next message: <A HREF="026180.html">[Mono-dev] Issue with zlib.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26176">[ date ]</a>
              <a href="thread.html#26176">[ thread ]</a>
              <a href="subject.html#26176">[ subject ]</a>
              <a href="author.html#26176">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
