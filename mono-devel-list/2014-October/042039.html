<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Building mono on Windows issues.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Building%20mono%20on%20Windows%20issues.&In-Reply-To=%3C543F6E26.70208%40dynamicdevices.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042038.html">
   <LINK REL="Next"  HREF="042058.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Building mono on Windows issues.</H1>
    <B>Alex J Lennon</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Building%20mono%20on%20Windows%20issues.&In-Reply-To=%3C543F6E26.70208%40dynamicdevices.co.uk%3E"
       TITLE="[Mono-dev] Building mono on Windows issues.">ajlennon at dynamicdevices.co.uk
       </A><BR>
    <I>Thu Oct 16 07:05:10 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="042038.html">[Mono-dev] Building mono on Windows issues.
</A></li>
        <LI>Next message: <A HREF="042058.html">[Mono-dev] Windows builds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42039">[ date ]</a>
              <a href="thread.html#42039">[ thread ]</a>
              <a href="subject.html#42039">[ subject ]</a>
              <a href="author.html#42039">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 16/10/2014 08:45, Alex J Lennon wrote:
&gt;<i> On 16/10/2014 00:17, Chris Eelmaa wrote:
</I>&gt;&gt;<i> Hello all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have question regarding building mono on windows,
</I>&gt;&gt;<i> namely I've tried a lot of times, and had a lot of different
</I>&gt;&gt;<i> problems(such as missing some dependencies, git converting *.sh files
</I>&gt;&gt;<i> to CRLF ending and cygwin not being able to interpret them, etc..)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> however I've reached now to a point where I can run `make` for a little while,
</I>&gt;&gt;<i> and then receive the error:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In file included from socket-io.c:30:0:
</I>&gt;&gt;<i> /usr/i686-pc-mingw32/sys-root/mingw/include/ws2tcpip.h:38:2: error:
</I>&gt;&gt;<i> #error &quot;ws2tcpip.h is not compatible with winsock.h. Include
</I>&gt;&gt;<i> winsock2.h instead.&quot;
</I>&gt;&gt;<i> In file included from socket-io.c:30:0:
</I>&gt;&gt;<i> /usr/i686-pc-mingw32/sys-root/mingw/include/ws2tcpip.h:147:8: error:
</I>&gt;&gt;<i> redefinition of 'struct ip_mreq'
</I>&gt;&gt;<i> In file included from
</I>&gt;&gt;<i> /usr/i686-pc-mingw32/sys-root/mingw/include/windows.h:93:0,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As you can see, winsock.h doesn't play well with ws2tcpip.h. I ran a
</I>&gt;&gt;<i> grep to look for winsock.h from mono dir, but there's nothing about
</I>&gt;&gt;<i> that. That file seems to be crawling in from some arbitrary place?!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> After that, I tried to compile with DISABLE_SOCKETS, and then I
</I>&gt;&gt;<i> arrived to this place:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ./.libs/libmini.a(libmini_la-debugger-agent.o): In function
</I>&gt;&gt;<i> `socket_transport_connect':
</I>&gt;&gt;<i> /cygdrive/c/GITHUB/mono/mono/mini/debugger-agent.c:1236: undefined
</I>&gt;&gt;<i> reference to `mono_network_init'
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> At this point, I have no idea what to do. Is mono master branch
</I>&gt;&gt;<i> broken, or is it possible to actually build it with Windows from
</I>&gt;&gt;<i> there? Can anyone confirm? Do I have messed up Windows SDK or
</I>&gt;&gt;<i> something similiar?
</I>&gt;&gt;<i>
</I>&gt;<i> Hi Chris,
</I>&gt;<i>
</I>&gt;<i> I put this together precisely because it's such a problem -
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.codeproject.com/Articles/815565/How-to-build-Mono-on-Windows">http://www.codeproject.com/Articles/815565/How-to-build-Mono-on-Windows</A>
</I>&gt;<i>
</I>&gt;<i> I've tested various iterations and had feedback that others have found
</I>&gt;<i> it doesn't work.
</I>&gt;<i>
</I>&gt;<i> Periodically git master doesn't build but I don't have the time to track
</I>&gt;<i> that. I will be updating
</I>&gt;<i> next time I discover there's a new release.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Alex
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>
*does work

That'll teach me to email before coffee...

Regards,

Alex

</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042038.html">[Mono-dev] Building mono on Windows issues.
</A></li>
	<LI>Next message: <A HREF="042058.html">[Mono-dev] Windows builds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42039">[ date ]</a>
              <a href="thread.html#42039">[ thread ]</a>
              <a href="subject.html#42039">[ subject ]</a>
              <a href="author.html#42039">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
