<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [eglib] Warning: assertion function returning
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20%5Beglib%5D%20Warning%3A%20assertion%20function%20returning&In-Reply-To=%3C545268B1.3080002%40dynamicdevices.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042253.html">
   <LINK REL="Next"  HREF="042257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [eglib] Warning: assertion function returning</H1>
    <B>Alex J Lennon</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20%5Beglib%5D%20Warning%3A%20assertion%20function%20returning&In-Reply-To=%3C545268B1.3080002%40dynamicdevices.co.uk%3E"
       TITLE="[Mono-dev] [eglib] Warning: assertion function returning">ajlennon at dynamicdevices.co.uk
       </A><BR>
    <I>Thu Oct 30 16:34:57 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="042253.html">[Mono-dev] [eglib] Warning: assertion function returning
</A></li>
        <LI>Next message: <A HREF="042257.html">[Mono-dev] Fwd:  [eglib] Warning: assertion function returning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42254">[ date ]</a>
              <a href="thread.html#42254">[ thread ]</a>
              <a href="subject.html#42254">[ subject ]</a>
              <a href="author.html#42254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rodrigo,

On 30/10/2014 17:28, Rodrigo Kumpera wrote:
&gt;<i> Since the noreturn behavior is not verifiable by the compiler (it's
</I>&gt;<i> part of the API contract) we can a hack to silence the warning.
</I>&gt;<i>
</I>
If that's what's wanted that's fine by me of course. Easily done.

But I don't understand: Surely the fact the compiler is complaining
shows that it does know that the function is returning, when it has been
told via the attributing that the function should not?

As a test, if I add a while(1); at the bottom of the function then the
complaint goes away as the compiler knows that the return is unreachable.

I am guessing I am misunderstanding your point?

More importantly, should the assertion handler return or not... ?

Cheers,

Alex

On Thu, Oct 30, 2014 at 12:08 PM, Alex J Lennon
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ajlennon at dynamicdevices.co.uk</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ajlennon at dynamicdevices.co.uk</A>&gt;&gt;
wrote:
&gt;<i>
</I>&gt;<i>     Hi,
</I>&gt;<i>
</I>&gt;<i>     I'm seeing an eglib warning about an assertion handling function
</I>&gt;<i>     with a
</I>&gt;<i>     G_GNUC_NORETURN attribute that is returning.
</I>&gt;<i>
</I>&gt;<i>     goutput.c: In function &#8216;monoeg_assertion_message&#8217;:
</I>&gt;<i>     goutput.c:135:1: warning: &#8216;noreturn&#8217; function does return [enabled by
</I>&gt;<i>     default]
</I>&gt;<i>
</I>&gt;<i>     I'm wondering how this should be resolved, ie. whether this function
</I>&gt;<i>     should block, whether the attribute should be removed, or
</I>&gt;<i>     &quot;something else&quot;?
</I>&gt;<i>
</I>&gt;<i>     If the assertion handler should block then is while(1); sensible, or a
</I>&gt;<i>     very bad idea?
</I>&gt;<i>
</I>&gt;<i>     Thanks,
</I>&gt;<i>
</I>&gt;<i>     Alex
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     Mono-devel-list mailing list
</I>&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141030/488712dd/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141030/488712dd/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042253.html">[Mono-dev] [eglib] Warning: assertion function returning
</A></li>
	<LI>Next message: <A HREF="042257.html">[Mono-dev] Fwd:  [eglib] Warning: assertion function returning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42254">[ date ]</a>
              <a href="thread.html#42254">[ thread ]</a>
              <a href="subject.html#42254">[ subject ]</a>
              <a href="author.html#42254">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
