<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with Appveyor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20%5BCI%5D%20RFC%20-%20Mono%20now%20building%20on%20Cygwin/Windows%20with%0A%20Appveyor&In-Reply-To=%3CDUB130-W31CE485F39789EE09F1964E8910%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042208.html">
   <LINK REL="Next"  HREF="042212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with Appveyor</H1>
    <B>Alexander K&#246;plinger</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20%5BCI%5D%20RFC%20-%20Mono%20now%20building%20on%20Cygwin/Windows%20with%0A%20Appveyor&In-Reply-To=%3CDUB130-W31CE485F39789EE09F1964E8910%40phx.gbl%3E"
       TITLE="[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with Appveyor">alex.koeplinger at outlook.com
       </A><BR>
    <I>Sun Oct 26 15:05:48 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="042208.html">[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with	Appveyor
</A></li>
        <LI>Next message: <A HREF="042212.html">[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with Appveyor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42213">[ date ]</a>
              <a href="thread.html#42213">[ thread ]</a>
              <a href="subject.html#42213">[ subject ]</a>
              <a href="author.html#42213">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Very good news!
 
The windows installer is built by <A HREF="https://github.com/mono/release/tree/master/windows-installer">https://github.com/mono/release/tree/master/windows-installer</A> as far as I know, not the monowiz.win32.nsi in the Mono repo (that looks indeed very outdated and should probably be removed).
 
It'd be very helpful if you could also send a PR to the Mono website (<A HREF="http://www.mono-project.com/docs/compiling-mono/windows/">http://www.mono-project.com/docs/compiling-mono/windows/</A> just click the &quot;Edit on GitHub&quot; link under the page title), it surely misses some of the steps you used to get this working.
-- Alex
 
&gt;<i> Date: Sun, 26 Oct 2014 15:14:20 +0100
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ajlennon at dynamicdevices.co.uk</A>
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mmihajlovic at gmail.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">joncham at gmail.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bryan.crotaz at silvercurve.co.uk</A>
</I>&gt;<i> CC: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">feodor at appveyor.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Subject: [Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with	Appveyor
</I>&gt;<i> 
</I>&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> I've reached a point where we have an Appveyor configuration file which
</I>&gt;<i> successfully builds Mono under Cygwin on an Appveyor build worker
</I>&gt;<i> (Windows Server 2012 R2 OS image, I believe).
</I>&gt;<i> 
</I>&gt;<i> It's taken longer to get to this point than I had expected, doesn't it
</I>&gt;<i> always, but I hope this will be of some use to others wishing to build,
</I>&gt;<i> use and maintain Mono under Windows.
</I>&gt;<i> 
</I>&gt;<i> The logs of the build history are here, with a downloadable Mono 3.10.0
</I>&gt;<i> zip file &quot;artifact&quot;, available from the most recent build, which runs up
</I>&gt;<i> on my local machine.
</I>&gt;<i> 
</I>&gt;<i>     <A HREF="https://ci.appveyor.com/project/ajlennon/mono-817">https://ci.appveyor.com/project/ajlennon/mono-817</A>
</I>&gt;<i> 
</I>&gt;<i> The configuration file that Appveyor used for this build is in my fork
</I>&gt;<i> of mono-3.10.0-branch
</I>&gt;<i> 
</I>&gt;<i>    
</I>&gt;<i> <A HREF="https://github.com/DynamicDevices/mono/blob/mono-3.10.0-branch/appveyor.yml">https://github.com/DynamicDevices/mono/blob/mono-3.10.0-branch/appveyor.yml</A>
</I>&gt;<i> 
</I>&gt;<i> All commentary and feedback would be much appreciated.
</I>&gt;<i> 
</I>&gt;<i> I'd like to understand what would be involved to get this to a point
</I>&gt;<i> where pull-request into master might be accepted. (NB The config file is
</I>&gt;<i> entirely independent of other Mono files in the repo).
</I>&gt;<i>  
</I>&gt;<i> Thanks to Mladen for the Appveyor suggestion and the template
</I>&gt;<i> configuration script I used as a starting point.
</I>&gt;<i> 
</I>&gt;<i> Also many thanks to Feodor Fitsner at Appveyor who has been very engaged
</I>&gt;<i> and supportive in helping me to get this going over the past week or so.
</I>&gt;<i> (I am very impressed in general with the Appveyor platform and we will
</I>&gt;<i> undoubtedly be using this for commercial work in future).
</I>&gt;<i> 
</I>&gt;<i> Some points perhaps worthy of note,
</I>&gt;<i> 
</I>&gt;<i> - The build configuration script installs needed dependencies, runs
</I>&gt;<i> autogen/configure/make/make install then archives the output installed
</I>&gt;<i> files as a zipfile 'artifact'. This can be downloaded or deployed
</I>&gt;<i> automatically (e.g. FTP)
</I>&gt;<i> 
</I>&gt;<i> - Build testing has shown up a couple of minor issues with
</I>&gt;<i> mono-3.10.0-branch and master needing patches to build under Windows
</I>&gt;<i> 
</I>&gt;<i> - Following on from this I would like and intend to add to the current
</I>&gt;<i> configuration script to package up the output as an installable MSI
</I>&gt;<i> similar to that provided on the official site.
</I>&gt;<i>   (I think monowiz-win32.nsi could be used with NSIS as a starting point
</I>&gt;<i> for this work, although it looks like it might be quite dated in
</I>&gt;<i> comparison to the current installer?)
</I>&gt;<i> 
</I>&gt;<i> - I'd also like to run the Mono tests as a part of the build
</I>&gt;<i> verification. Are they expected to work under Windows/Cygwin?
</I>&gt;<i> 
</I>&gt;<i> - The official mono-3.10.0-branch of Mono does not build under Windows.
</I>&gt;<i> For this to build a commit would need to be cherry-picked to
</I>&gt;<i> mono-3.10.0-branch from master. My fork includes this commit enabling
</I>&gt;<i> the build.
</I>&gt;<i>   (Vincent Povirk's needed commit is in the forked branch of
</I>&gt;<i> mono-3.10.0-branch here
</I>&gt;<i> <A HREF="https://github.com/DynamicDevices/mono/commit/ce29c7c567afc4dcc14155d88250ebf6cfbc6718">https://github.com/DynamicDevices/mono/commit/ce29c7c567afc4dcc14155d88250ebf6cfbc6718</A>)
</I>&gt;<i> 
</I>&gt;<i> - The current master also does not build which looks to be an inclusion
</I>&gt;<i> ordering issue in mono/metadata/socket-io.c
</I>&gt;<i>    (I think I have addressed this with PR#1366 - for discussion -  as
</I>&gt;<i> there may well be better ways to do this:
</I>&gt;<i> <A HREF="https://github.com/mono/mono/pull/1366">https://github.com/mono/mono/pull/1366</A>)
</I>&gt;<i> 
</I>&gt;<i> - The standard Appveyor plan limits builds to 30 minutes. The Mono build
</I>&gt;<i> is currently taking slightly over 3 hours and so will be cut short on
</I>&gt;<i> the default plan. <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Feyodor at Appveyor</A> has very kindly put me onto an
</I>&gt;<i> OpenSource build plan which prevents the build being cut short.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> Alex
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I> 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141026/ec9a4223/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141026/ec9a4223/attachment.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042208.html">[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with	Appveyor
</A></li>
	<LI>Next message: <A HREF="042212.html">[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with Appveyor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42213">[ date ]</a>
              <a href="thread.html#42213">[ thread ]</a>
              <a href="subject.html#42213">[ subject ]</a>
              <a href="author.html#42213">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
