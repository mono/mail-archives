<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with Appveyor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20%5BCI%5D%20RFC%20-%20Mono%20now%20building%20on%20Cygwin/Windows%20with%0A%20Appveyor&In-Reply-To=%3C544D0EDE.2050905%40dynamicdevices.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042213.html">
   <LINK REL="Next"  HREF="042214.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with Appveyor</H1>
    <B>Alex J Lennon</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20%5BCI%5D%20RFC%20-%20Mono%20now%20building%20on%20Cygwin/Windows%20with%0A%20Appveyor&In-Reply-To=%3C544D0EDE.2050905%40dynamicdevices.co.uk%3E"
       TITLE="[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with Appveyor">ajlennon at dynamicdevices.co.uk
       </A><BR>
    <I>Sun Oct 26 15:10:22 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="042213.html">[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with Appveyor
</A></li>
        <LI>Next message: <A HREF="042214.html">[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with	Appveyor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42212">[ date ]</a>
              <a href="thread.html#42212">[ thread ]</a>
              <a href="subject.html#42212">[ subject ]</a>
              <a href="author.html#42212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 26/10/2014 16:05, Alexander K&#246;plinger wrote:
&gt;<i> Very good news!
</I>&gt;<i>  
</I>&gt;<i> The windows installer is built by
</I>&gt;<i> <A HREF="https://github.com/mono/release/tree/master/windows-installer">https://github.com/mono/release/tree/master/windows-installer</A> as far
</I>&gt;<i> as I know, not the monowiz.win32.nsi in the Mono repo (that looks
</I>&gt;<i> indeed very outdated and should probably be removed).
</I>&gt;<i>  
</I>
Ah that's great thanks Alex - just what I have been looking for :) I'll
work out how to integrate this as a next step

&gt;<i> It'd be very helpful if you could also send a PR to the Mono website
</I>&gt;<i> (<A HREF="http://www.mono-project.com/docs/compiling-mono/windows/">http://www.mono-project.com/docs/compiling-mono/windows/</A> just click
</I>&gt;<i> the &quot;Edit on GitHub&quot; link under the page title), it surely misses some
</I>&gt;<i> of the steps you used to get this working.
</I>&gt;<i>
</I>
Will do

Cheers,

Alex

&gt;<i> -- Alex
</I>&gt;<i>  
</I>&gt;<i> &gt; Date: Sun, 26 Oct 2014 15:14:20 +0100
</I>&gt;<i> &gt; From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ajlennon at dynamicdevices.co.uk</A>
</I>&gt;<i> &gt; To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mmihajlovic at gmail.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">joncham at gmail.com</A>;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bryan.crotaz at silvercurve.co.uk</A>
</I>&gt;<i> &gt; CC: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">feodor at appveyor.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; Subject: [Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows
</I>&gt;<i> with Appveyor
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi all,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I've reached a point where we have an Appveyor configuration file which
</I>&gt;<i> &gt; successfully builds Mono under Cygwin on an Appveyor build worker
</I>&gt;<i> &gt; (Windows Server 2012 R2 OS image, I believe).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It's taken longer to get to this point than I had expected, doesn't it
</I>&gt;<i> &gt; always, but I hope this will be of some use to others wishing to build,
</I>&gt;<i> &gt; use and maintain Mono under Windows.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The logs of the build history are here, with a downloadable Mono 3.10.0
</I>&gt;<i> &gt; zip file &quot;artifact&quot;, available from the most recent build, which runs up
</I>&gt;<i> &gt; on my local machine.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="https://ci.appveyor.com/project/ajlennon/mono-817">https://ci.appveyor.com/project/ajlennon/mono-817</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The configuration file that Appveyor used for this build is in my fork
</I>&gt;<i> &gt; of mono-3.10.0-branch
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="https://github.com/DynamicDevices/mono/blob/mono-3.10.0-branch/appveyor.yml">https://github.com/DynamicDevices/mono/blob/mono-3.10.0-branch/appveyor.yml</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; All commentary and feedback would be much appreciated.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'd like to understand what would be involved to get this to a point
</I>&gt;<i> &gt; where pull-request into master might be accepted. (NB The config file is
</I>&gt;<i> &gt; entirely independent of other Mono files in the repo).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks to Mladen for the Appveyor suggestion and the template
</I>&gt;<i> &gt; configuration script I used as a starting point.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Also many thanks to Feodor Fitsner at Appveyor who has been very engaged
</I>&gt;<i> &gt; and supportive in helping me to get this going over the past week or so.
</I>&gt;<i> &gt; (I am very impressed in general with the Appveyor platform and we will
</I>&gt;<i> &gt; undoubtedly be using this for commercial work in future).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Some points perhaps worthy of note,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - The build configuration script installs needed dependencies, runs
</I>&gt;<i> &gt; autogen/configure/make/make install then archives the output installed
</I>&gt;<i> &gt; files as a zipfile 'artifact'. This can be downloaded or deployed
</I>&gt;<i> &gt; automatically (e.g. FTP)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - Build testing has shown up a couple of minor issues with
</I>&gt;<i> &gt; mono-3.10.0-branch and master needing patches to build under Windows
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - Following on from this I would like and intend to add to the current
</I>&gt;<i> &gt; configuration script to package up the output as an installable MSI
</I>&gt;<i> &gt; similar to that provided on the official site.
</I>&gt;<i> &gt; (I think monowiz-win32.nsi could be used with NSIS as a starting point
</I>&gt;<i> &gt; for this work, although it looks like it might be quite dated in
</I>&gt;<i> &gt; comparison to the current installer?)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - I'd also like to run the Mono tests as a part of the build
</I>&gt;<i> &gt; verification. Are they expected to work under Windows/Cygwin?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - The official mono-3.10.0-branch of Mono does not build under Windows.
</I>&gt;<i> &gt; For this to build a commit would need to be cherry-picked to
</I>&gt;<i> &gt; mono-3.10.0-branch from master. My fork includes this commit enabling
</I>&gt;<i> &gt; the build.
</I>&gt;<i> &gt; (Vincent Povirk's needed commit is in the forked branch of
</I>&gt;<i> &gt; mono-3.10.0-branch here
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="https://github.com/DynamicDevices/mono/commit/ce29c7c567afc4dcc14155d88250ebf6cfbc6718">https://github.com/DynamicDevices/mono/commit/ce29c7c567afc4dcc14155d88250ebf6cfbc6718</A>)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - The current master also does not build which looks to be an inclusion
</I>&gt;<i> &gt; ordering issue in mono/metadata/socket-io.c
</I>&gt;<i> &gt; (I think I have addressed this with PR#1366 - for discussion - as
</I>&gt;<i> &gt; there may well be better ways to do this:
</I>&gt;<i> &gt; <A HREF="https://github.com/mono/mono/pull/1366">https://github.com/mono/mono/pull/1366</A>)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - The standard Appveyor plan limits builds to 30 minutes. The Mono build
</I>&gt;<i> &gt; is currently taking slightly over 3 hours and so will be cut short on
</I>&gt;<i> &gt; the default plan. <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Feyodor at Appveyor</A> has very kindly put me onto an
</I>&gt;<i> &gt; OpenSource build plan which prevents the build being cut short.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cheers,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Alex
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>
-- 

Dynamic Devices Ltd &lt;<A HREF="http://www.dynamicdevices.co.uk/">http://www.dynamicdevices.co.uk/</A>&gt;

Alex J Lennon / Director
1 Queensway, Liverpool L22 4RA

mobile: +44 (0)7956 668178 landline: +44 (0)1513 241374

Linkedin &lt;<A HREF="http://www.linkedin.com/in/alexjlennon">http://www.linkedin.com/in/alexjlennon</A>&gt; Skype
&lt;skype:alexjlennon?add&gt;

This e-mail message may contain confidential or legally privileged
information and is intended only for the use of the intended
recipient(s). Any unauthorized disclosure, dissemination, distribution,
copying or the taking of any action in reliance on the information
herein is prohibited. E-mails are not secure and cannot be guaranteed to
be error free as they can be intercepted, amended, or contain viruses.
Anyone who communicates with us by e-mail is deemed to have accepted
these risks. Company Name is not responsible for errors or omissions in
this message and denies any responsibility for any damage arising from
the use of e-mail. Any opinion and other statement contained in this
message and any attachment are solely those of the author and do not
necessarily represent those of the company.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141026/fd476c43/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141026/fd476c43/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ddlogo-4.png
Type: image/png
Size: 3997 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141026/fd476c43/attachment-0003.png">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141026/fd476c43/attachment-0003.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: linkedin.png
Type: image/png
Size: 631 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141026/fd476c43/attachment-0004.png">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141026/fd476c43/attachment-0004.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: skype.png
Type: image/png
Size: 800 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141026/fd476c43/attachment-0005.png">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141026/fd476c43/attachment-0005.png</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042213.html">[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with Appveyor
</A></li>
	<LI>Next message: <A HREF="042214.html">[Mono-dev] [CI] RFC - Mono now building on Cygwin/Windows with	Appveyor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42212">[ date ]</a>
              <a href="thread.html#42212">[ thread ]</a>
              <a href="subject.html#42212">[ subject ]</a>
              <a href="author.html#42212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
