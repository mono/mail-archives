<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] In Mono 3.2.8 but not with Microsoft .NET Framework 4 can bind to same UDP port twice by default
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20In%20Mono%203.2.8%20but%20not%20with%20Microsoft%20.NET%20Framework%204%0A%20can%20bind%20to%20same%20UDP%20port%20twice%20by%20default&In-Reply-To=%3C54529EDD.5000104%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042259.html">
   <LINK REL="Next"  HREF="042262.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] In Mono 3.2.8 but not with Microsoft .NET Framework 4 can bind to same UDP port twice by default</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20In%20Mono%203.2.8%20but%20not%20with%20Microsoft%20.NET%20Framework%204%0A%20can%20bind%20to%20same%20UDP%20port%20twice%20by%20default&In-Reply-To=%3C54529EDD.5000104%40googlemail.com%3E"
       TITLE="[Mono-dev] In Mono 3.2.8 but not with Microsoft .NET Framework 4 can bind to same UDP port twice by default">jjustincc at googlemail.com
       </A><BR>
    <I>Thu Oct 30 20:26:05 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="042259.html">[Mono-dev] Fwd:  [eglib] Warning: assertion function returning
</A></li>
        <LI>Next message: <A HREF="042262.html">[Mono-dev] PR 1081: Allow CLR binaries to be passed to Process.Start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42261">[ date ]</a>
              <a href="thread.html#42261">[ thread ]</a>
              <a href="subject.html#42261">[ subject ]</a>
              <a href="author.html#42261">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi folks.  In at least Mono 3.2.8 (3.2.8+dfsg-4ubuntu1), by default one can bind multiple UDP sockets to the same port 
without error.  Under at least Microsoft .NET Framework 4 on Windows, the following error is generated instead

Unhandled Exception: System.Net.Sockets.SocketException: Only one usage of each
socket address (protocol/network address/port) is normally permitted
    at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress
socketAddress)
    at System.Net.Sockets.Socket.Bind(EndPoint localEP)
    at UdpSamePort.Main(String[] args)

This gist [1] has a small program demonstrating this behaviour.  Explicitly setting SocketOptionName.ReuseAddress to 
false on the socket prevents Mono from binding the second socket to the same address.

Is this expected behaviour for Mono (Linux?) compared to Windows?  I haven't checked this behaviour yet under later (or 
earlier) Mono versions.

[1] <A HREF="https://gist.github.com/justincc/c431165a6d7194169328">https://gist.github.com/justincc/c431165a6d7194169328</A>

Regards,

-- 
Justin Clark-Casey (justincc)
OSVW Consulting
<A HREF="http://justincc.org">http://justincc.org</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042259.html">[Mono-dev] Fwd:  [eglib] Warning: assertion function returning
</A></li>
	<LI>Next message: <A HREF="042262.html">[Mono-dev] PR 1081: Allow CLR binaries to be passed to Process.Start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42261">[ date ]</a>
              <a href="thread.html#42261">[ thread ]</a>
              <a href="subject.html#42261">[ subject ]</a>
              <a href="author.html#42261">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
