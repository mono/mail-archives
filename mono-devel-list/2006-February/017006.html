<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Re: [Mono-patches] r56609 - trunk/mcs/errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20%5BMono-patches%5D%20r56609%20-%20trunk/mcs/errors&In-Reply-To=85mzh38u26.fsf%40blr-RHarinath.blr.novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017005.html">
   <LINK REL="Next"  HREF="017009.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Re: [Mono-patches] r56609 - trunk/mcs/errors</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20%5BMono-patches%5D%20r56609%20-%20trunk/mcs/errors&In-Reply-To=85mzh38u26.fsf%40blr-RHarinath.blr.novell.com"
       TITLE="[Mono-dev] Re: [Mono-patches] r56609 - trunk/mcs/errors">atsushi at ximian.com
       </A><BR>
    <I>Tue Feb  7 03:52:08 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017005.html">[Mono-dev] Re: [Mono-patches] r56609 - trunk/mcs/errors
</A></li>
        <LI>Next message: <A HREF="017009.html">[Mono-dev] Re: [Mono-patches] r56609 - trunk/mcs/errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17006">[ date ]</a>
              <a href="thread.html#17006">[ thread ]</a>
              <a href="subject.html#17006">[ subject ]</a>
              <a href="author.html#17006">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;&gt;<i> 	  It reports XmlTextReader error message changes as build breakage.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 	  That's why I opposed to compare error messages blindly.
</I>&gt;<i> 
</I>&gt;<i> While I understand your point of view, I've come to appreciate this
</I>&gt;<i> &quot;feature&quot; of the compiler testsuite.
</I>&gt;<i> 
</I>&gt;&gt;<i> Modified: trunk/mcs/errors/cs1570-10.cs
</I>&gt;&gt;<i> ===================================================================
</I>&gt;&gt;<i> --- trunk/mcs/errors/cs1570-10.cs	2006-02-07 06:54:20 UTC (rev 56608)
</I>&gt;&gt;<i> +++ trunk/mcs/errors/cs1570-10.cs	2006-02-07 07:57:08 UTC (rev 56609)
</I>&gt;&gt;<i> @@ -1,4 +1,4 @@
</I>&gt;&gt;<i> -// cs1570-10.cs: XML comment on `F:Testing.Test.PrivateField2' has non-well-formed XML (unmatched closing element: expected summary but found incorrect  Line 3, position 12.)
</I>&gt;&gt;<i> +// cs1570-10.cs: XML comment on `F:Testing.Test.PrivateField2' has non-well-formed XML ('summary' is expected  Line 3, position 4.)
</I>&gt;&gt;<i>  // Line: 23
</I>&gt;&gt;<i>  // Compiler options: -doc:dummy.xml -warn:1 -warnaserror
</I>&gt;<i> 
</I>&gt;<i> I think we can put this issue to rest once and for all by putting the
</I>&gt;<i> parts of the message not under the control of the compiler on a separate
</I>&gt;<i> line.
</I>&gt;<i> 
</I>&gt;<i> I would just have the CS1570 message be
</I>&gt;<i> 
</I>&gt;<i>   XML comment on `...' has non-well-formed XML
</I>&gt;<i> 
</I>&gt;<i> The actual error message from XmlTextReader could be passed to
</I>&gt;<i> 
</I>&gt;<i>   Report.ExtraInformation (loc, &quot;XML error: &quot; + xml_error);
</I>&gt;<i> 
</I>&gt;<i> on a line _before_ the Report.Error.  This would generate error messages
</I>&gt;<i> that look like:
</I>&gt;<i> 
</I>&gt;<i>   foo.cs (23,10): CS1570: XML comment on `F:Testing.Test.PrivateField2' has non-well-formed XML
</I>&gt;<i>   foo.cs (23,10): XML Error: 'summary' is expected  Line 3, position 4
</I>&gt;<i> 
</I>&gt;<i> which I think is acceptable.
</I>
Hmm, you would have already thought but I don't think it is /doc
specific matter, and handling XML error as some special case does
not sound so good (am not sure if there are similar cases that
depend on external things to mcs itself). Maybe something like
regex would help it. I'll look into compiler-tester when I have
extra time to do it.

Atsushi Eno

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017005.html">[Mono-dev] Re: [Mono-patches] r56609 - trunk/mcs/errors
</A></li>
	<LI>Next message: <A HREF="017009.html">[Mono-dev] Re: [Mono-patches] r56609 - trunk/mcs/errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17006">[ date ]</a>
              <a href="thread.html#17006">[ thread ]</a>
              <a href="subject.html#17006">[ subject ]</a>
              <a href="author.html#17006">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
