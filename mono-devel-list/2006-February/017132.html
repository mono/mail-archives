<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] MS/Mono XmlWriter incompatibility
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20MS/Mono%20XmlWriter%20incompatibility&In-Reply-To=43F1984D.6010907%40ask.be">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017129.html">
   <LINK REL="Next"  HREF="017127.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] MS/Mono XmlWriter incompatibility</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20MS/Mono%20XmlWriter%20incompatibility&In-Reply-To=43F1984D.6010907%40ask.be"
       TITLE="[Mono-dev] MS/Mono XmlWriter incompatibility">atsushi at ximian.com
       </A><BR>
    <I>Tue Feb 14 04:38:49 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017129.html">[Mono-dev] MS/Mono XmlWriter incompatibility
</A></li>
        <LI>Next message: <A HREF="017127.html">[Mono-dev] I had problem with mysql_connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17132">[ date ]</a>
              <a href="thread.html#17132">[ thread ]</a>
              <a href="subject.html#17132">[ subject ]</a>
              <a href="author.html#17132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> I'm simply using Windows XP SP2 with VS2005. (v2.0.50727).
</I>&gt;<i> 
</I>&gt;<i> I'm using Flush it's to ensure that xml is actually sent.
</I>&gt;<i> 
</I>&gt;<i> I've tested with Framework 1.1 and the WriteString is effectively ignored.
</I>&gt;<i> It seems that the behavior changes with Framework 2.0.
</I>&gt;<i> 
</I>&gt;<i> I've attached a simple test app that reproduce it.
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>
Thanks for the repro code. So it tells that WriteString(&quot;&quot;) behavior
is different between System.Xml.XmlTextWriter and the writer returned
by XmlWriter.Create(StringBuilder,XmlWriterSettings). What I tried
was XmlTextWriter which does not show such behavior differences.

We don't have different implementation than XmlTextWriter for
XmlWriter.Create(), so we can't simply change its behavior, at
least for now (someone who thinks that such implementation details
matter should contribute such XmlWriter class).

(Hint: it can be easily hacked by adding &quot;isXmlWriterCreated&quot;
field or whatever differentiates the origin in XmlTextWriter.)

So, there is another &quot;compatibility&quot; problem. What if Microsoft
changed internal implementation of XmlWriter.Create() in the
future version of .NET? That &quot;factory method&quot; is of cource to
hide implementation details (anyone who object this argument
should explain what the purpose of factory methods is). If users
depend on such undocumented behavior, Microsoft as well as we can
never make XmlWriter better than now.

If you depend on the implementation details, why not just simply
use those implementation classes, not from XmlWriter.Create()?
(Oops, yes MS does not expose the implementation class unlike
org.apache.xerces.parsers.SAXParser, so you just can't do that.)

BTW feel free to register it as a bug in bugzilla. I'm unlikely
to &quot;fix&quot; it, but it would help those who want to know compat issues.
For now it is easily workarounded by using either WriteCData(&quot;&quot;) or
WriteRaw(&quot;&quot;) as I indicated, so the priority is low.

Atsushi Eno

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017129.html">[Mono-dev] MS/Mono XmlWriter incompatibility
</A></li>
	<LI>Next message: <A HREF="017127.html">[Mono-dev] I had problem with mysql_connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17132">[ date ]</a>
              <a href="thread.html#17132">[ thread ]</a>
              <a href="subject.html#17132">[ subject ]</a>
              <a href="author.html#17132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
