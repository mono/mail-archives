<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Building Mono on Linux/Alpha
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Building%20Mono%20on%20Linux/Alpha&In-Reply-To=43FC0B40.8070309%40solvo.ru">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017278.html">
   <LINK REL="Next"  HREF="016889.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Building Mono on Linux/Alpha</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Building%20Mono%20on%20Linux/Alpha&In-Reply-To=43FC0B40.8070309%40solvo.ru"
       TITLE="[Mono-dev] Building Mono on Linux/Alpha">vargaz at gmail.com
       </A><BR>
    <I>Wed Feb 22 07:23:56 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017278.html">[Mono-dev] Building Mono on Linux/Alpha
</A></li>
        <LI>Next message: <A HREF="016889.html">[Mono-dev] Reading and writing excel files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17284">[ date ]</a>
              <a href="thread.html#17284">[ thread ]</a>
              <a href="subject.html#17284">[ subject ]</a>
              <a href="author.html#17284">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>                                         Hi,

  You can use whatever calling convention you want when calling
managed methods, but
the JIT needs to support calling native functions as well. Most
architectures pass
structures on the stack when calling managed methods, and implement
the platform ABI
when calling native methods.

As for the second question: In mini_init (), there are some calls
which can be commented
out if your JIT is not yet able to run some managed code, like
JIT_RUNTIME_WORKS.
Crashing in InitializeArray () usually means problems with handling
Runtime&lt;X&gt;Handles,
ldtoken etc.

                                                           Zoltan

On 2/22/06, Sergey Tikhonov &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">tsv at solvo.ru</A>&gt; wrote:
&gt;<i> Zoltan Varga wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;                                              Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You can put it into mono_arch_emit_exceptions ().
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                             Zoltan
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> Thanks you.
</I>&gt;<i> I hit another blocking issue - inplementation of OP_OUTARG_VT. Different
</I>&gt;<i> arches do it differently.
</I>&gt;<i> Is my understanding is correct - that I could pass it on stack for
</I>&gt;<i> simplicity (like ia64 does), but the called
</I>&gt;<i> method should expect it on stack too. This kind of parameter is not
</I>&gt;<i> expected to be passed to any natively
</I>&gt;<i> compiled methods (by gcc) (because by Alpha ABI upto 6 parameters are
</I>&gt;<i> expected to be passed in registers).
</I>&gt;<i> So if the called method is compiled by jit I guess I have control over
</I>&gt;<i> where to look for method parameters.
</I>&gt;<i>
</I>&gt;<i> I got to the point of calling
</I>&gt;<i> System.Runtime.CompilerServices.RuntimeHelpers:InitializeArray(System.Array,
</I>&gt;<i> intptr) and
</I>&gt;<i> crashing inside. Is there simpler way to check JIT? :) I am using
</I>&gt;<i> compiled &quot;basic.cs&quot; as start point, but it tries to initialize
</I>&gt;<i> part of runtime (I guess) and it is not the simple one.
</I>&gt;<i>
</I>&gt;<i> Thank you,
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Sergey Tikhonov
</I>&gt;<i> Solvo Ltd.
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">tsv at solvo.ru</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017278.html">[Mono-dev] Building Mono on Linux/Alpha
</A></li>
	<LI>Next message: <A HREF="016889.html">[Mono-dev] Reading and writing excel files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17284">[ date ]</a>
              <a href="thread.html#17284">[ thread ]</a>
              <a href="subject.html#17284">[ subject ]</a>
              <a href="author.html#17284">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
