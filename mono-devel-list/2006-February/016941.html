<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] PATCH for String.StartsWith(string, StringComparison)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20PATCH%20for%20String.StartsWith%28string%2C%20StringComparison%29&In-Reply-To=43E2CCCC.5060209%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016938.html">
   <LINK REL="Next"  HREF="016942.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] PATCH for String.StartsWith(string, StringComparison)</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20PATCH%20for%20String.StartsWith%28string%2C%20StringComparison%29&In-Reply-To=43E2CCCC.5060209%40ximian.com"
       TITLE="[Mono-dev] PATCH for String.StartsWith(string, StringComparison)">lupus at ximian.com
       </A><BR>
    <I>Fri Feb  3 04:50:27 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016938.html">[Mono-dev] PATCH for String.StartsWith(string, StringComparison)
</A></li>
        <LI>Next message: <A HREF="016942.html">[Mono-dev] PATCH for String.StartsWith(string, StringComparison)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16941">[ date ]</a>
              <a href="thread.html#16941">[ thread ]</a>
              <a href="subject.html#16941">[ subject ]</a>
              <a href="author.html#16941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/03/06 Atsushi Eno wrote:
&gt;<i> I agree on &quot;faster&quot; part, but considering the heaviness of string
</I>&gt;<i> comparison itself the difference is so trivial ;-)
</I>
This is no excuse.
If string comparison is slow, it needs to be made faster, not slower.
String operations are _fundamental_ in many apps and every mono contributor
needs to be aware of performance issues in such a core part.
The code was ugly, so it's good to fix the style and it's possible to
have nice code that's fast.
In this particular case there is also one more consideration to make.
The committed code is only marginally slower so most of the time it
wouldn't be a big deal. But the other property  of the original version
is that the JIT will be able to optimize it away when the method is
called with a constant StringComparison value, which happens most of
the time. This is much more difficult with the committed version.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016938.html">[Mono-dev] PATCH for String.StartsWith(string, StringComparison)
</A></li>
	<LI>Next message: <A HREF="016942.html">[Mono-dev] PATCH for String.StartsWith(string, StringComparison)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16941">[ date ]</a>
              <a href="thread.html#16941">[ thread ]</a>
              <a href="subject.html#16941">[ subject ]</a>
              <a href="author.html#16941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
