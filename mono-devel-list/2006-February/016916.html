<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] The State Of Mono Assembly Verification?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20The%20State%20Of%20Mono%20Assembly%20Verification%3F&In-Reply-To=20060202135705.86135.qmail%40web25002.mail.ukl.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016912.html">
   <LINK REL="Next"  HREF="016943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] The State Of Mono Assembly Verification?</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20The%20State%20Of%20Mono%20Assembly%20Verification%3F&In-Reply-To=20060202135705.86135.qmail%40web25002.mail.ukl.yahoo.com"
       TITLE="[Mono-dev] The State Of Mono Assembly Verification?">miguel at ximian.com
       </A><BR>
    <I>Thu Feb  2 14:09:06 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016912.html">[Mono-dev] The State Of Mono Assembly Verification?
</A></li>
        <LI>Next message: <A HREF="016943.html">[Mono-dev] The State Of Mono Assembly Verification?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16916">[ date ]</a>
              <a href="thread.html#16916">[ thread ]</a>
              <a href="subject.html#16916">[ subject ]</a>
              <a href="author.html#16916">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> &gt; mono_method_verify () has been superseded by
</I>&gt;<i> &gt; verification during JIT time.
</I>&gt;<i> 
</I>&gt;<i> When JIT time verification is failed is there an
</I>&gt;<i> exception thrown that an embedding app can use to take
</I>&gt;<i> appropriate action?
</I>
There are a number of issues involved, and I think that some of those
are getting mixed up:

	* Metadata validation: is the file format correct?

	* Data flow of the IL stream.

	* Type safety of the IL stream.

In the case of the first two, the JIT will g_assert.  What is missing
today from Mono is the bit that turns these g_asserts into exceptions
that could be caught at a higher level.  This is the issue that I had
discussed with you before.

I suggested in a previous email (Jan 23rd, Subject &quot;CAS&quot;) that you can
call mono --compile-all file.dll.   If this succeeds you know that the
current JIT assertions wont be hit (This is just a short term solution,
the long term solution is to throw the exception as you mention).

As for the actual type safety of the IL stream, this one is one of the
missing pieces.   The actual rules to verify for are specified in
Partition III of the ECMA 335 spec (Section 1.8 mostly).

The spec states that different versions of Microsoft's product use
different rules.  The only tool that implements the full checks is
peverify.

Miguel.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016912.html">[Mono-dev] The State Of Mono Assembly Verification?
</A></li>
	<LI>Next message: <A HREF="016943.html">[Mono-dev] The State Of Mono Assembly Verification?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16916">[ date ]</a>
              <a href="thread.html#16916">[ thread ]</a>
              <a href="subject.html#16916">[ subject ]</a>
              <a href="author.html#16916">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
