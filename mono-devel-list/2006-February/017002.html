<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [Fwd: [Mono-patches] r56597	-	trunk/mcs/class/System.XML/Test/System.Xml.Schema]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BFwd%3A%20%5BMono-patches%5D%20r56597%0A%09-%09trunk/mcs/class/System.XML/Test/System.Xml.Schema%5D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017019.html">
   <LINK REL="Next"  HREF="017003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [Fwd: [Mono-patches] r56597	-	trunk/mcs/class/System.XML/Test/System.Xml.Schema]</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BFwd%3A%20%5BMono-patches%5D%20r56597%0A%09-%09trunk/mcs/class/System.XML/Test/System.Xml.Schema%5D&In-Reply-To="
       TITLE="[Mono-dev] [Fwd: [Mono-patches] r56597	-	trunk/mcs/class/System.XML/Test/System.Xml.Schema]">atsushi at ximian.com
       </A><BR>
    <I>Mon Feb  6 22:02:17 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017019.html">[Mono-dev] [PATCH] Enum XML (de)serialization fixes
</A></li>
        <LI>Next message: <A HREF="017003.html">[Mono-dev] [Fwd: [Mono-patches]	r56597-	trunk/mcs/class/System.XML/Test/System.Xml.Schema]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17002">[ date ]</a>
              <a href="thread.html#17002">[ thread ]</a>
              <a href="subject.html#17002">[ subject ]</a>
              <a href="author.html#17002">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gert,

Please revert this patch which is done without any agreement.
There is a reason I marked it as NotWorking - it is for
compatibility kids. I am not likely to fix this trivial stuff
soon, but someone might notice the impl. difference from it.
Marking NotDotNet is clearly wrong: we do not test and complain
if mono fails to assert this behavior.

(Leaving Assertion-&gt;Assert changes is OK.)

Actually why did you mark it as NotDotNet? It does not fail under
.NET 2.0 (or do you have different .NET 2.0 than mine, 2.0.50727 ?)

Thanks,
Atsushi Eno

-------- Original Message --------
Subject: [Mono-patches] r56597 - 
trunk/mcs/class/System.XML/Test/System.Xml.Schema
Date: Mon,  6 Feb 2006 16:13:15 -0500 (EST)
From: Gert Driesen (<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">gert.driesen at pandora.be</A>) 
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-patches-list at lists.ximian.com</A>&gt;
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-patches at lists.ximian.com</A>, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ximian.monolist at gmail.com</A>, 
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-patches-list at googlegroups.com</A>

Author: gert
Date: 2006-02-06 16:13:15 -0500 (Mon, 06 Feb 2006)
New Revision: 56597

Modified:
    trunk/mcs/class/System.XML/Test/System.Xml.Schema/ChangeLog
 
trunk/mcs/class/System.XML/Test/System.Xml.Schema/XmlSchemaDatatypeTests.cs
Log:
* XmlSchemaDatatypeTests.cs: Marked TestAnyType NotDotNet on 2.0 profile
instead of marking it NotWorking. No longer derive from Assertion.


Modified: trunk/mcs/class/System.XML/Test/System.Xml.Schema/ChangeLog
===================================================================
--- trunk/mcs/class/System.XML/Test/System.Xml.Schema/ChangeLog 
2006-02-06 21:01:47 UTC (rev 56596)
+++ trunk/mcs/class/System.XML/Test/System.Xml.Schema/ChangeLog 
2006-02-06 21:13:15 UTC (rev 56597)
@@ -1,3 +1,9 @@
+2006-02-06  Gert Driesen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">drieseng at users.sourceforge.net</A>&gt;
+
+	* XmlSchemaDatatypeTests.cs: Marked TestAnyType NotDotNet on 2.0
+	profile instead of marking it NotWorking. No longer derive from
+	Assertion.
+
  2006-02-01  Atsushi Enomoto &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">atsushi at ximian.com</A>&gt;

  	* XmlSchemaDatatypeTests.cs : added two more anyURI tests.

Modified: 
trunk/mcs/class/System.XML/Test/System.Xml.Schema/XmlSchemaDatatypeTests.cs
===================================================================
--- 
trunk/mcs/class/System.XML/Test/System.Xml.Schema/XmlSchemaDatatypeTests.cs 
2006-02-06 21:01:47 UTC (rev 56596)
+++ 
trunk/mcs/class/System.XML/Test/System.Xml.Schema/XmlSchemaDatatypeTests.cs 
2006-02-06 21:13:15 UTC (rev 56597)
@@ -24,7 +24,7 @@
  namespace MonoTests.System.Xml
  {
  	[TestFixture]
-	public class XmlSchemaDatatypeTests : Assertion
+	public class XmlSchemaDatatypeTests
  	{
  		private XmlSchema GetSchema (string path)
  		{
@@ -41,25 +41,26 @@
  		{
  			XmlSchemaElement element = schema.Items [index] as XmlSchemaElement;
  			XmlSchemaDatatype dataType = element.ElementType as XmlSchemaDatatype;
-			AssertEquals (tokenizedType, dataType.TokenizedType);
-			AssertEquals (type, dataType.ValueType);
-			AssertEquals (parsedValue, dataType.ParseValue (rawValue, null, null));
+			Assert.AreEqual (tokenizedType, dataType.TokenizedType, &quot;#1&quot;);
+			Assert.AreEqual (type, dataType.ValueType, &quot;#2&quot;);
+			Assert.AreEqual (parsedValue, dataType.ParseValue (rawValue, null, 
null), &quot;#3&quot;);
  		}

  		[Test]
-		[Category (&quot;NotWorking&quot;)] // ContentTypeParticle impl. difference.
+#if NET_2_0
+		[Category (&quot;NotDotNet&quot;)] // BaseSchemaType impl. difference.
+#endif
  		public void TestAnyType ()
  		{
  			XmlSchema schema = GetSchema (&quot;Test/XmlFiles/xsd/datatypesTest.xsd&quot;);
  			schema.Compile (null);
  			XmlSchemaElement any = schema.Elements [QName (&quot;e00&quot;, &quot;urn:bar&quot;)] 
as XmlSchemaElement;
  			XmlSchemaComplexType cType = any.ElementType as XmlSchemaComplexType;
-			AssertEquals (typeof (XmlSchemaComplexType), cType.GetType ());
-			AssertNotNull (cType);
-			AssertEquals (XmlQualifiedName.Empty, cType.QualifiedName);
-			AssertNull (cType.BaseSchemaType);
-			// In MS.NET its type is &quot;XmlSchemaParticle.EmptyParticle&quot;
-			AssertNotNull (cType.ContentTypeParticle);
+			Assert.AreEqual (typeof (XmlSchemaComplexType), cType.GetType (), &quot;#1&quot;);
+			Assert.IsNotNull (cType, &quot;#2&quot;);
+			Assert.AreEqual (XmlQualifiedName.Empty, cType.QualifiedName, &quot;#3&quot;);
+			Assert.IsNotNull (cType.BaseSchemaType, &quot;#4&quot;);  // In MS.NET 2.0 its 
null
+			Assert.IsNotNull (cType.ContentTypeParticle, &quot;#5&quot;);
  		}

  		[Test]

_______________________________________________
Mono-patches maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-patches at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-patches">http://lists.ximian.com/mailman/listinfo/mono-patches</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017019.html">[Mono-dev] [PATCH] Enum XML (de)serialization fixes
</A></li>
	<LI>Next message: <A HREF="017003.html">[Mono-dev] [Fwd: [Mono-patches]	r56597-	trunk/mcs/class/System.XML/Test/System.Xml.Schema]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17002">[ date ]</a>
              <a href="thread.html#17002">[ thread ]</a>
              <a href="subject.html#17002">[ subject ]</a>
              <a href="author.html#17002">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
