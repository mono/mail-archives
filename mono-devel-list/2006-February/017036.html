<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Crash using Crystal Reports on Linux Mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Crash%20using%20Crystal%20Reports%20on%20Linux%20Mono&In-Reply-To=200602081227.52550.joshua.kugler%40uaf.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017035.html">
   <LINK REL="Next"  HREF="017037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Crash using Crystal Reports on Linux Mono</H1>
    <B>Curtis Wensley</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Crash%20using%20Crystal%20Reports%20on%20Linux%20Mono&In-Reply-To=200602081227.52550.joshua.kugler%40uaf.edu"
       TITLE="[Mono-dev] Crash using Crystal Reports on Linux Mono">eto at shaw.ca
       </A><BR>
    <I>Wed Feb  8 20:30:31 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017035.html">[Mono-dev] Crash using Crystal Reports on Linux Mono
</A></li>
        <LI>Next message: <A HREF="017037.html">[Mono-dev] DriveInfo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17036">[ date ]</a>
              <a href="thread.html#17036">[ thread ]</a>
              <a href="subject.html#17036">[ subject ]</a>
              <a href="author.html#17036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Joshua,

I'm fairly certain that Crystal Reports will not run on linux, as the managed 
DLL's are mostly just wrappers around CR's win32 and COM api's. 

This most likely includes both the front end GUI and back end to generate the 
reports themselves.

Hence is why we are now using iTextSharp 
( <A HREF="http://itextsharp.sourceforge.net/">http://itextsharp.sourceforge.net/</A> ) for our reporting needs in our ASP.NET 
application (not that it's in the same ballpark, though).

Only the Crystal Enterprise server can run on linux (if you purchase the linux 
version).

I hope one day they provide a purely managed version of the apis needed to 
connect to CE, then you can do a pure linux solution with asp.net apps at 
least.

Cheers!
Curtis.

On February 8, 2006 01:27 pm, Joshua Kugler wrote:
&gt;<i> I'm working on a database application that uses Crystal reports.  I took
</I>&gt;<i> all the CR managed DLL's and added them to the cache on my Linux install of
</I>&gt;<i> mono.
</I>&gt;<i>
</I>&gt;<i> I ran the app, which did start up, and displayed the report control  But
</I>&gt;<i> when I tried to invoke the report, I got a nasty crash:
</I>&gt;<i>
</I>&gt;<i> [<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">joshua at otter</A> ~/tmp/DatasetGenerator/bin]$ mono DatasetGenerator.exe
</I>&gt;<i> Mono System.Windows.Forms Assembly [Revision: 54007; built: 2005/12/6
</I>&gt;<i> 14:35:24]
</I>&gt;<i> Keyboard: United States keyboard layout (phantom key version)
</I>&gt;<i> KDE colorscheme read
</I>&gt;<i>
</I>&gt;<i> =================================================================
</I>&gt;<i> Got a SIGSEGV while executing native code. This usually indicates
</I>&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;<i> used by your application.
</I>&gt;<i> =================================================================
</I>&gt;<i>
</I>&gt;<i> Stacktrace:
</I>&gt;<i>
</I>&gt;<i> in &lt;0xffffffff&gt;
</I>&gt;<i> CrystalDecisions.CrystalReports.Engine.ReportDocument:InternalInit ()
</I>&gt;<i> in &lt;0x52&gt;
</I>&gt;<i> CrystalDecisions.CrystalReports.Engine.ReportDocument:InternalInit ()
</I>&gt;<i> in &lt;0x36&gt; CrystalDecisions.CrystalReports.Engine.ReportDocument:.ctor ()
</I>&gt;<i> in &lt;0xfffffcb6&gt; (wrapper remoting-invoke-with-check)
</I>&gt;<i> CrystalDecisions.CrystalReports.Engine.ReportDocument:.ctor ()
</I>&gt;<i> in &lt;0x4e&gt; DatasetGenerator.frmDSC:btnTestRpt_Click
</I>&gt;<i> (object,System.EventArgs) in &lt;0xffcf2d25&gt; (wrapper delegate-invoke)
</I>&gt;<i> System.MulticastDelegate:invoke_void_object_EventArgs
</I>&gt;<i> (object,System.EventArgs)
</I>&gt;<i> in &lt;0x1d&gt; System.Windows.Forms.Control:OnClick (System.EventArgs)
</I>&gt;<i> in &lt;0xdd&gt; System.Windows.Forms.Button:OnClick (System.EventArgs)
</I>&gt;<i> in &lt;0xf8&gt; System.Windows.Forms.ButtonBase:OnMouseUp
</I>&gt;<i> (System.Windows.Forms.MouseEventArgs)
</I>&gt;<i> in &lt;0xd&gt; System.Windows.Forms.Button:OnMouseUp
</I>&gt;<i> (System.Windows.Forms.MouseEventArgs)
</I>&gt;<i> in &lt;0x699&gt; System.Windows.Forms.Control:WndProc
</I>&gt;<i> (System.Windows.Forms.Message&amp;)
</I>&gt;<i> in &lt;0x60&gt; System.Windows.Forms.ButtonBase:WndProc
</I>&gt;<i> (System.Windows.Forms.Message&amp;)
</I>&gt;<i> in &lt;0xd&gt; System.Windows.Forms.Button:WndProc
</I>&gt;<i> (System.Windows.Forms.Message&amp;) in &lt;0x14&gt; ControlNativeWindow:WndProc
</I>&gt;<i> (System.Windows.Forms.Message&amp;) in &lt;0x11e&gt;
</I>&gt;<i> System.Windows.Forms.NativeWindow:WndProc
</I>&gt;<i> (intptr,System.Windows.Forms.Msg,intptr,intptr)
</I>&gt;<i> in &lt;0x16&gt; System.Windows.Forms.XplatUIX11:DispatchMessage
</I>&gt;<i> (System.Windows.Forms.MSG&amp;)
</I>&gt;<i> in &lt;0x15&gt; System.Windows.Forms.XplatUI:DispatchMessage
</I>&gt;<i> (System.Windows.Forms.MSG&amp;)
</I>&gt;<i> in &lt;0x61d&gt; System.Windows.Forms.Application:RunLoop
</I>&gt;<i> (bool,System.Windows.Forms.ApplicationContext)
</I>&gt;<i> in &lt;0x24&gt; System.Windows.Forms.Application:Run (System.Windows.Forms.Form)
</I>&gt;<i> in &lt;0x1f&gt; DatasetGenerator.frmDSC:Main ()
</I>&gt;<i> in &lt;0x508d3fc7&gt; (wrapper runtime-invoke) System.Object:runtime_invoke_void
</I>&gt;<i> (object,intptr,intptr,intptr)
</I>&gt;<i>
</I>&gt;<i> Native stacktrace:
</I>&gt;<i>
</I>&gt;<i>         mono(mono_handle_native_sigsegv+0xba) [0x814c43a]
</I>&gt;<i>         mono [0x813890f]
</I>&gt;<i>         [0xffffe440]
</I>&gt;<i>         mono [0x812b2e5]
</I>&gt;<i>         mono [0x813747f]
</I>&gt;<i>         mono [0x81381bb]
</I>&gt;<i>         mono [0x81384c7]
</I>&gt;<i>         mono [0x81384fa]
</I>&gt;<i>         mono(mono_compile_method+0x3a) [0x80d385a]
</I>&gt;<i>         mono(mono_magic_trampoline+0x1a) [0x814d72a]
</I>&gt;<i>         [0xb7fad032]
</I>&gt;<i>         [0xb6e3cd77]
</I>&gt;<i>         [0xb6e3cc4a]
</I>&gt;<i>         [0xb6e3c8df]
</I>&gt;<i>         [0xb7149212]
</I>&gt;<i>         [0xb6e3bef6]
</I>&gt;<i>         [0xb6e3beb6]
</I>&gt;<i>         [0xb6e3bdc1]
</I>&gt;<i>         [0xb6e3bcbe]
</I>&gt;<i>         [0xb6e745c2]
</I>&gt;<i>         [0xb6e759c1]
</I>&gt;<i>         [0xb6e75956]
</I>&gt;<i>         [0xb712a3c5]
</I>&gt;<i>         [0xb712a24f]
</I>&gt;<i>         [0xb6e73497]
</I>&gt;<i>         [0xb6e73476]
</I>&gt;<i>         [0xb712da16]
</I>&gt;<i>         [0xb712d33d]
</I>&gt;<i>         [0xb7865930]
</I>&gt;<i>         [0xb786481e]
</I>&gt;<i>         mono [0x81387c0]
</I>&gt;<i>         mono(mono_runtime_invoke+0x27) [0x80d5067]
</I>&gt;<i>         mono(mono_runtime_exec_main+0x5c) [0x80d617c]
</I>&gt;<i>         mono(mono_runtime_run_main+0x171) [0x80d5da1]
</I>&gt;<i>         mono(strftime+0x1b52) [0x805ce52]
</I>&gt;<i>         mono(mono_main+0x786) [0x805d766]
</I>&gt;<i>         mono(__fxstat64+0x12b) [0x805c21b]
</I>&gt;<i>         /lib/tls/libc.so.6(__libc_start_main+0xcb) [0x4c709e4b]
</I>&gt;<i>         mono(sinh+0x41) [0x805c171]
</I>&gt;<i> Aborted (core dumped)
</I>&gt;<i>
</I>&gt;<i> The crystal reports DLL's used were:
</I>&gt;<i>
</I>&gt;<i> CRVsPackageLib.dll
</I>&gt;<i> CrystalDecisions.CrystalReports.Engine.dll
</I>&gt;<i> CrystalDecisions.ReportSource.dll
</I>&gt;<i> CrystalDecisions.Shared.dll
</I>&gt;<i> CrystalDecisions.Web.dll
</I>&gt;<i> CrystalDecisions.Windows.Forms.dll
</I>&gt;<i> CrystalEnterpriseLib.dll
</I>&gt;<i> CrystalInfoStoreLib.dll
</I>&gt;<i> CrystalKeyCodeLib.dll
</I>&gt;<i> CrystalPluginMgrLib.dll
</I>&gt;<i> CrystalReportPluginLib.dll
</I>&gt;<i>
</I>&gt;<i> Linux otter.cde.uaf.edu 2.6.11-12mdksmp #1 SMP Mon Jun 27 21:21:32 MDT 2005
</I>&gt;<i> i686 Intel(R) Xeon(TM) CPU 2.40GHz unknown GNU/Linux
</I>&gt;<i>
</I>&gt;<i> mono -V
</I>&gt;<i> Mono JIT compiler version 1.1.13.2, (C) 2002-2005 Novell, Inc and
</I>&gt;<i> Contributors. www.mono-project.com
</I>&gt;<i>         TLS:           normal
</I>&gt;<i>         GC:            Included Boehm (with typed GC)
</I>&gt;<i>         SIGSEGV      : normal
</I>&gt;<i>
</I>&gt;<i> This is a VisualBasic.NET application.  Am I missing something (like, DON'T
</I>&gt;<i> DO THAT), or should Crystal Reports Viewer run under mono since the code is
</I>&gt;<i> managed and it all imported into the cache OK (no errors on import).
</I>&gt;<i>
</I>&gt;<i> The code that causes the crash:
</I>&gt;<i>
</I>&gt;<i>     Private Sub btnTestRpt_Click(ByVal sender As System.Object, ByVal e As
</I>&gt;<i> System.EventArgs) Handles btnTestRpt.Click
</I>&gt;<i>
</I>&gt;<i>         Dim myReport As New ReportDocument
</I>&gt;<i>         Dim myData As New DataSet
</I>&gt;<i>         Dim myConn As MySqlConnection
</I>&gt;<i>         Dim cmd As New MySqlCommand
</I>&gt;<i>         Dim myAdapter As New MySqlDataAdapter
</I>&gt;<i>         Dim strConn As String
</I>&gt;<i>         Dim bolProcessOK As Boolean = True
</I>&gt;<i>
</I>&gt;<i>         If Not myConn Is Nothing Then myConn.Close()
</I>&gt;<i>
</I>&gt;<i>         strConn = String.Format(&quot;server='{0}'; user id='{1}';
</I>&gt;<i> password='{2}'; database='{3}'; pooling='false'&quot;, _
</I>&gt;<i>             Me.txtServer.Text, Me.txtUserName.Text, Me.txtPassword.Text,
</I>&gt;<i> Me.txtDatabase.Text)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         Try
</I>&gt;<i>             myConn = New MySqlConnection(strConn)
</I>&gt;<i>             myConn.Open()
</I>&gt;<i>
</I>&gt;<i>             cmd.CommandText = &quot;SELECT * FROM user&quot;
</I>&gt;<i>             cmd.Connection = myConn
</I>&gt;<i>
</I>&gt;<i>             myAdapter.SelectCommand = cmd
</I>&gt;<i>             myAdapter.Fill(myData)
</I>&gt;<i>
</I>&gt;<i>             myReport.Load(&quot;MyTestReport.rpt&quot;)
</I>&gt;<i>             myReport.SetDataSource(myData)
</I>&gt;<i> 		'myViewer is the form Crystal Reports form control
</I>&gt;<i>             myViewer.ReportSource = myReport
</I>&gt;<i>         Catch ex As Exception
</I>&gt;<i>             MessageBox.Show(ex.Message, &quot;Report could not be created&quot;,
</I>&gt;<i> MessageBoxButtons.OK, MessageBoxIcon.Error)
</I>&gt;<i>         End Try
</I>&gt;<i>
</I>&gt;<i>         If Not myConn Is Nothing Then
</I>&gt;<i>             If myConn.State = ConnectionState.Open Then
</I>&gt;<i>                 myConn.Close()
</I>&gt;<i>             End If
</I>&gt;<i>         End If
</I>&gt;<i>
</I>&gt;<i>     End Sub
</I>&gt;<i>
</I>&gt;<i> Just FYI...and if you can offer any tips to get around this. :)
</I>&gt;<i>
</I>&gt;<i> j----- k-----
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017035.html">[Mono-dev] Crash using Crystal Reports on Linux Mono
</A></li>
	<LI>Next message: <A HREF="017037.html">[Mono-dev] DriveInfo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17036">[ date ]</a>
              <a href="thread.html#17036">[ thread ]</a>
              <a href="subject.html#17036">[ subject ]</a>
              <a href="author.html#17036">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
