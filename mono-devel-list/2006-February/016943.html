<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] The State Of Mono Assembly Verification?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20The%20State%20Of%20Mono%20Assembly%20Verification%3F&In-Reply-To=20060202135705.86135.qmail%40web25002.mail.ukl.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016916.html">
   <LINK REL="Next"  HREF="016944.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] The State Of Mono Assembly Verification?</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20The%20State%20Of%20Mono%20Assembly%20Verification%3F&In-Reply-To=20060202135705.86135.qmail%40web25002.mail.ukl.yahoo.com"
       TITLE="[Mono-dev] The State Of Mono Assembly Verification?">lupus at ximian.com
       </A><BR>
    <I>Fri Feb  3 05:29:24 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016916.html">[Mono-dev] The State Of Mono Assembly Verification?
</A></li>
        <LI>Next message: <A HREF="016944.html">[Mono-dev] The State Of Mono Assembly Verification?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16943">[ date ]</a>
              <a href="thread.html#16943">[ thread ]</a>
              <a href="subject.html#16943">[ subject ]</a>
              <a href="author.html#16943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/02/06 Jim Purbrick wrote:
&gt;<i> &gt; mono_method_verify () has been superseded by
</I>&gt;<i> &gt; verification during JIT time.
</I>&gt;<i> 
</I>&gt;<i> When JIT time verification is failed is there an
</I>&gt;<i> exception thrown that an embedding app can use to take
</I>&gt;<i> appropriate action?
</I>
Yes, this is a trivial change to make, I'll do it today.

&gt;<i> Do you know exactly which checks are missing? I can
</I>
There are many checks that need to be performed, it's not
as simple as doing opcode checks as you seem to believe.
The only way to know which are missing is to review all the code.
Of course the review needs to be done independently by multiple
people with the right skills and mindset (and time)...

&gt;<i> What's the best way to set up this test suite?
</I>&gt;<i> Manually craft unverifiable assemblies for each
</I>&gt;<i> verification check and then test that Mono rejects
</I>&gt;<i> them?
</I>
Well, since there are many possible attack ways, we also need
many ways to test for them.
First we need test cases for each opcode verification rule.
These should be done with IL test programs.
Note that we needs separate tests for invalid IL code
and unverifiable IL code: they are two completely different
things.
Then we need to test for metdata issues: some things can be
done again with IL sources, but many will be rejected by
ilasm or by the underlying library PEAPI. We need to
investigate if it's better to change ilasm to produce
the incorrect assemblies (when given a specific command
line option) or write a specific front-end to PEAPI
or Cecil that can be used to create broken assemblies.
Last, we need a crashme-like tool: the tool will
randomly change bytes in some correct assembly and
the assembly is fed to the jit. The jit must deal with the
possible errors generated without crashing. Note that, while
the assembly corruption can and needs to be automated,
the jit behaviour can only be partially automatically monitored.
A change could be made that doesn't affect the jit, but which
should be detected...
I'm sure Sebastien can offer more advice for the testing, too.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016916.html">[Mono-dev] The State Of Mono Assembly Verification?
</A></li>
	<LI>Next message: <A HREF="016944.html">[Mono-dev] The State Of Mono Assembly Verification?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16943">[ date ]</a>
              <a href="thread.html#16943">[ thread ]</a>
              <a href="subject.html#16943">[ subject ]</a>
              <a href="author.html#16943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
