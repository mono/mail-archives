<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] asorted xml implementation questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20asorted%20xml%20implementation%20questions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000212.html">
   <LINK REL="Next"  HREF="000214.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] asorted xml implementation questions</H1>
    <B>Erik LeBel</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20asorted%20xml%20implementation%20questions&In-Reply-To="
       TITLE="[Mono-devel-list] asorted xml implementation questions">eriklebel at yahoo.ca
       </A><BR>
    <I>Wed Mar 26 11:39:18 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000212.html">[Mono-devel-list] Stubing
</A></li>
        <LI>Next message: <A HREF="000214.html">[Mono-devel-list] asorted xml implementation questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#213">[ date ]</a>
              <a href="thread.html#213">[ thread ]</a>
              <a href="subject.html#213">[ subject ]</a>
              <a href="author.html#213">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi folks,

This message has several parts, read on&#133;

 

XmlSerializer/XmlSerializationWriter: Judging by the argument lists of XmlSerializer&#146;s Serialize methods, it looks like the protected method that takes the XmlSerializationWriter is probably the real serializer that the other methods should call by wrapping their stream/textwriters/xmltextwriters/etc in an XmlSerializationWriter (actually a derived class of it). XmlSerializer does not have any accessors to its writer, so the writer is protected internally. What purpose does XmlSerializationWriter actually serve? MSDN states that&#146;s its an internal class.

 

Xml types: throughout the System.Xml code as well as some other code that supports XML serialization, there are a battery of switch and if/else if statements that convert a run-time type to an xml type. These statements all return a string representing the type, some with a namespace prefix some without. Some of these lists are incomplete. Why don&#146;t we merge these type &#147;conversions&#148; into a common translator, say a Mono internal implementation and have all these independent blocks of code call it? Each implementation could provide its own namespace info, but centralizing the mapper would reduce the number of errors that could occur through the duplication of code. There are also reverse mappers for types and values... more candidates for the cause.

 

            namespace Mono.Xml

            {

                        &#133; some class

                        public static string GetXmlTypeName(Type type)

                        {

                                    switch (type)

                                    {

                                           ...

                                    }

                                    return name;

                        }

            }

 

XmlElementAttribute order: I believe that there remains a problem with the internal nature of the Order property. If, as its comments say, it is to be used to compensate for disparities between .NET and Mono&#146;s order of member reflection (and thus serialization order), then this property must be available outside of the System.Xml assembly. An example of this occurs when generating a WSDL from a ServiceDescription object through serialization. Element order is important in WSDLs, and Mono&#146;s reflection order IS different from MS&#146;s. but the internal Order option of XmlElementAttribute is not accessible to compensate. I realize that making this member public exposes an incompatibility between the .NET and Mono libraries (directly in a common class), but the alternatives are: (1) rework the reflection framework, (2) write a custom serializer, which I have done, and would like to scrap, this is a half-assed work-around on the long run. Should the Order property be made public?

 

MonoXSD: where is the MonoXSD utility refered to in bug 40238?

 

Fixes: a bit unrelated, but what is the preferred procedure for submitting fixes?

 

Best regards,

erik



---------------------------------
Post your free ad now! Yahoo! Canada Personals
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030326/31902938/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030326/31902938/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000212.html">[Mono-devel-list] Stubing
</A></li>
	<LI>Next message: <A HREF="000214.html">[Mono-devel-list] asorted xml implementation questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#213">[ date ]</a>
              <a href="thread.html#213">[ thread ]</a>
              <a href="subject.html#213">[ subject ]</a>
              <a href="author.html#213">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
