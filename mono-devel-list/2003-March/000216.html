<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] syscall vs. sigaction
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20syscall%20vs.%20sigaction&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000229.html">
   <LINK REL="Next"  HREF="000217.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] syscall vs. sigaction</H1>
    <B>Michael Adams - CPX Tetra</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20syscall%20vs.%20sigaction&In-Reply-To="
       TITLE="[Mono-devel-list] syscall vs. sigaction">michaela at ComparexAfrica.co.za
       </A><BR>
    <I>Thu Mar 27 08:28:30 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000229.html">[Mono-devel-list] Re: asorted xml implementation questions
</A></li>
        <LI>Next message: <A HREF="000217.html">[Mono-devel-list] syscall vs. sigaction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#216">[ date ]</a>
              <a href="thread.html#216">[ thread ]</a>
              <a href="subject.html#216">[ subject ]</a>
              <a href="author.html#216">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm using SCO Openserver V (i686-pc-sco3.2v5.0.4)
I'm making use of the gnu pth-2.0.0 libraries.

A quick check in the /usr/include/sys directory
seems to show that I don't have SIGRT* defines.

Unfortunatly, I don't know much about using signals etc...
However, checking the pth example files, does seem to show
that they can catch SIGUSR1/SIGUSR2 while using threads.

Regards,
Michael 


-----Original Message-----
From: Dietmar Maurer [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">dietmar at maurer-it.com</A>]
Sent: 26 March 2003 19:13
To: Michael Adams - CPX Tetra
Cc: '<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>'
Subject: Re: [Mono-devel-list] syscall vs. sigaction


The problem is that the libpthread overwrites sigaction, and does not
allow us to catch certain signals. So we need to use syscall directly to
catch the signal. Unfortunately this is very system/version dependent.

Maybe you can take a look on the implementation of libpthread on your 
system to see if it is possible to catch SIGUSR1/SIGRTMIN? What system
do you talk about? Does it have SIGRTMIN?

- Dietmar

On Thu, 2003-03-06 at 13:52, Michael Adams - CPX Tetra wrote:
&gt;<i> Hi All,
</I>&gt;<i> 
</I>&gt;<i> In  mono/jit/jit.c
</I>&gt;<i> Most of the lines:  g_assert (syscall (SYS_sigaction ....
</I>&gt;<i> have been commented out and replaced with : g_assert (sigaction ....
</I>&gt;<i> except for one line.
</I>&gt;<i> 
</I>&gt;<i> Is this one call to syscall() supposed to be there, or should it be
</I>replace
&gt;<i> with the sigaction() call ?
</I>&gt;<i> 
</I>&gt;<i> I'm asking as my system doesn't have a syscall() function however
</I>&gt;<i> sigaction() works fine,
</I>&gt;<i> so I have to change this line each time I get a newer version of mono.
</I>&gt;<i> 
</I>&gt;<i> also,
</I>&gt;<i> mono/jit/codegen.h  has the include: #include &lt;sys/syscall.h&gt;
</I>&gt;<i> which my system lacks.  However, the code compiles fine if I comment this
</I>&gt;<i> include out.
</I>&gt;<i> If possible, could the configure define a _HAVE_SYS_SYSCALL_ or something
</I>?
&gt;<i> 
</I>&gt;<i> cheers
</I>&gt;<i> 
</I>&gt;<i>
</I>----------------------------------------------------------------------------
&gt;<i> ------------
</I>&gt;<i> Michael Adams
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000229.html">[Mono-devel-list] Re: asorted xml implementation questions
</A></li>
	<LI>Next message: <A HREF="000217.html">[Mono-devel-list] syscall vs. sigaction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#216">[ date ]</a>
              <a href="thread.html#216">[ thread ]</a>
              <a href="subject.html#216">[ subject ]</a>
              <a href="author.html#216">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
