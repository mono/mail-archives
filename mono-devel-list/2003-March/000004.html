<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Trouble with HttpWebResponse
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Trouble%20with%20HttpWebResponse&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000011.html">
   <LINK REL="Next"  HREF="000005.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Trouble with HttpWebResponse</H1>
    <B>Peter Magnusson</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Trouble%20with%20HttpWebResponse&In-Reply-To="
       TITLE="[Mono-devel-list] Trouble with HttpWebResponse">kmpm_se at msn.com
       </A><BR>
    <I>Mon Mar  3 13:54:05 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000011.html">[Mono-devel-list] An j# compiler implementation
</A></li>
        <LI>Next message: <A HREF="000005.html">[Mono-devel-list] Trouble with HttpWebResponse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4">[ date ]</a>
              <a href="thread.html#4">[ thread ]</a>
              <a href="subject.html#4">[ subject ]</a>
              <a href="author.html#4">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At first I thougt I had some trouble with System.IO.StreamReader.ReadToEnd 
but it seems that there is trouble elsewhere..
The test described below works fine with Microsoft .NET SDK and the csc 
compiler but it doesn't work with mono, at least not in SuSE 8.1 Pro.

The failing configurationen uses
SuSE Linux 8.1 Pro
Mono-0.21, mcs-0.21
Compaq Evo N800c (P4 1.7 MHz, 392 MB Ram)

The working configuration uses
Windows XP Pro SP1
Visual Studio .NET 2002 Ent. Arc.
(mono isn't installed in windows)
Compaq Evo N800c (P4 1.7 MHz, 392 MB Ram)


===== Test Begin ======
using System;
using System.IO;
using System.Text;
using System.Net;


class TestWebResponseStream
{
  static void Main (string [] args)
  {
    HttpWebRequest myReq = 
(HttpWebRequest)WebRequest.Create(&quot;<A HREF="http://www.go-mono.com&quot;">http://www.go-mono.com&quot;</A>);
    myReq.UserAgent=&quot;Mozilla/4.0 (compatible; monoWebResponseTest)&quot;;
    try
      {
	HttpWebResponse myRes = (HttpWebResponse)myReq.GetResponse();
	Stream respStream = myRes.GetResponseStream();
	int respLength=(int)myRes.ContentLength;

	StreamReader reader =
		     new StreamReader(respStream, Encoding.ASCII,true,respLength);

	Console.WriteLine(&quot;Works to here&quot;);
	Console.WriteLine(reader.ReadToEnd());
	myRes.Close();

      }
    finally { }
    }
}

===== Test End ======

Peter Magnusson
mail:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kmpm_se at msn.com</A>



_________________________________________________________________
Skaffa fler messengerkontakter - Vinn 10.000 i resecheckar! 
<A HREF="http://messenger.msn.se/promo">http://messenger.msn.se/promo</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000011.html">[Mono-devel-list] An j# compiler implementation
</A></li>
	<LI>Next message: <A HREF="000005.html">[Mono-devel-list] Trouble with HttpWebResponse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4">[ date ]</a>
              <a href="thread.html#4">[ thread ]</a>
              <a href="subject.html#4">[ subject ]</a>
              <a href="author.html#4">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
