<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Reading threadpool performance counters
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Reading%20threadpool%20performance%20counters&In-Reply-To=%3C45E8A49DE8DF9B4E9A8038276F135D3A601143F2%40RWC-EXCH02.trionworld.priv%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043657.html">
   <LINK REL="Next"  HREF="043659.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Reading threadpool performance counters</H1>
    <B>Chris Swiedler</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Reading%20threadpool%20performance%20counters&In-Reply-To=%3C45E8A49DE8DF9B4E9A8038276F135D3A601143F2%40RWC-EXCH02.trionworld.priv%3E"
       TITLE="[Mono-dev] Reading threadpool performance counters">cswiedler at trionworlds.com
       </A><BR>
    <I>Tue May 24 16:29:30 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="043657.html">[Mono-dev] Reading threadpool performance counters
</A></li>
        <LI>Next message: <A HREF="043659.html">[Mono-dev] High threadpool CPU usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43658">[ date ]</a>
              <a href="thread.html#43658">[ thread ]</a>
              <a href="subject.html#43658">[ subject ]</a>
              <a href="author.html#43658">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks, Ludovic. I&#8217;ve created <A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=41294">https://bugzilla.xamarin.com/show_bug.cgi?id=41294</A> with sample code. I&#8217;ve also verified that it works as expected with mono 3.12, so it sounds like your explanation is correct.

chris


From: Ludovic Henry [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ludovic at xamarin.com</A>]
Sent: Tuesday, May 24, 2016 5:46 AM
To: Chris Swiedler &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">cswiedler at trionworlds.com</A>&gt;; mono-devel-list &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Subject: Re: [Mono-dev] Reading threadpool performance counters

Hi Chris,

I don't think we are keeping this counters up to date in the threadpool. Some of them are kept up to date, but as we imported the threadpool implementation from referencesources since 4.2, we must have missed this performance counter. So you are certainly not doing something wrong.

If you want, you should fill a bug with the information you have so we have a look at it as soon as possible.

Thank you very much,
Ludovic

On Mon, May 23, 2016 at 11:59 PM Chris Swiedler &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">cswiedler at trionworlds.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">cswiedler at trionworlds.com</A>&gt;&gt; wrote:
Per <A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=1772">https://bugzilla.xamarin.com/show_bug.cgi?id=1772</A> I've been trying to get Mono threadpool metrics with lines like this:

    m_workItemsAdded = new PerformanceCounter(&quot;Mono Threadpool&quot;, &quot;Work Items Added&quot;, Process.GetCurrentProcess().Id.ToString());

However, the counter I get back always has its value set to zero. Are these threadpool counters still supported? Am I doing something wrong? This is using mono 4.2.3.

Thanks,
chris
_______________________________________________
Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>&gt;
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20160524/ab167c95/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20160524/ab167c95/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043657.html">[Mono-dev] Reading threadpool performance counters
</A></li>
	<LI>Next message: <A HREF="043659.html">[Mono-dev] High threadpool CPU usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43658">[ date ]</a>
              <a href="thread.html#43658">[ thread ]</a>
              <a href="subject.html#43658">[ subject ]</a>
              <a href="author.html#43658">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
