<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Thread Pool WAPI Ref Problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Thread%20Pool%20WAPI%20Ref%20Problems&In-Reply-To=4512F3A1.1030605%40advmeas.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020608.html">
   <LINK REL="Next"  HREF="020609.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Thread Pool WAPI Ref Problems</H1>
    <B>Patrick Earl</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Thread%20Pool%20WAPI%20Ref%20Problems&In-Reply-To=4512F3A1.1030605%40advmeas.com"
       TITLE="[Mono-dev] Thread Pool WAPI Ref Problems">pat.earl at advmeas.com
       </A><BR>
    <I>Mon Sep 25 12:12:50 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020608.html">[Mono-dev] Thread Pool WAPI Ref Problems
</A></li>
        <LI>Next message: <A HREF="020609.html">[Mono-dev] NPlot-Gtk 0.9.9.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20627">[ date ]</a>
              <a href="thread.html#20627">[ thread ]</a>
              <a href="subject.html#20627">[ subject ]</a>
              <a href="author.html#20627">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Putting one unpleasant hack in the source eliminated the leaking wapi 
thread handles in the test application I was using.  However, when 
running the same code on the production server, there are still many 
thread handles leaking from other places.  It seems there is some 
systematic problem with leaking handles.  Is it possible that a solution 
might be created that takes care of the wapi handles in a more automatic 
manner?  Perhaps certain handles could be freed automatically if a flag 
is set on creation.

Along the same lines, could somebody explain what the relationship is 
between threads created by mono_thread_create and the garbage 
collector?  What happens to those MonoThread objects?  Where are those 
handles meant to be freed?

I saw a post that at some point there was the intention to move objects 
away from the garbage collector and have them managed internally.  Is 
this still the intention?

I assume that if references to handles can escape from the internal code 
to the managed space, we must then allow the gc to deal with closing 
those handles.  Is that correct?

Thanks for the clarification on this.

         Patrick

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020608.html">[Mono-dev] Thread Pool WAPI Ref Problems
</A></li>
	<LI>Next message: <A HREF="020609.html">[Mono-dev] NPlot-Gtk 0.9.9.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20627">[ date ]</a>
              <a href="thread.html#20627">[ thread ]</a>
              <a href="subject.html#20627">[ subject ]</a>
              <a href="author.html#20627">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
