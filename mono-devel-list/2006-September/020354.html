<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [patch] System.Web.UI.WebControls/SqlDataSourceView.cs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5Bpatch%5D%20System.Web.UI.WebControls/SqlDataSourceView.cs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020353.html">
   <LINK REL="Next"  HREF="020356.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [patch] System.Web.UI.WebControls/SqlDataSourceView.cs</H1>
    <B>Andrew Skiba</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5Bpatch%5D%20System.Web.UI.WebControls/SqlDataSourceView.cs&In-Reply-To="
       TITLE="[Mono-dev] [patch] System.Web.UI.WebControls/SqlDataSourceView.cs">andrews at mainsoft.com
       </A><BR>
    <I>Thu Sep  7 03:50:15 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020353.html">[Mono-dev] debugger breakpoint question
</A></li>
        <LI>Next message: <A HREF="020356.html">[Mono-dev] XmlTextWriter throws &quot;WriteWhitespace method accepts	only whitespaces.&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20354">[ date ]</a>
              <a href="thread.html#20354">[ thread ]</a>
              <a href="subject.html#20354">[ subject ]</a>
              <a href="author.html#20354">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Please review the attached patch for SqlDataSourceView.ExecuteSelect. A
standalone test aspx is attached as well. It proves that in .Net
ExecuteSelect returns DataView and not DataTableReader. This is
important for implementing paging abilities for GridView. The test also
demonstrates that only the first table is used when there are few tables
in result. I did not run the test on mono, it was written to check what
happens on .Net.

In my fix, I changed the behavior for DataSourceMode == DataSet.
According to MSDN, this mode is used when paging capabilities are
necessary. .Net returns only the first table when the select returns
more than one table, so did I. I did not check what happens when there
are no tables (is that possible?), so I left the behavior untouched.

Thank you.
Andrew.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: SqlDataSourceView.patch
Type: application/octet-stream
Size: 496 bytes
Desc: SqlDataSourceView.patch
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060907/585596f3/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060907/585596f3/attachment.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Default.aspx
Type: application/octet-stream
Size: 3754 bytes
Desc: Default.aspx
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060907/585596f3/attachment-0001.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060907/585596f3/attachment-0001.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020353.html">[Mono-dev] debugger breakpoint question
</A></li>
	<LI>Next message: <A HREF="020356.html">[Mono-dev] XmlTextWriter throws &quot;WriteWhitespace method accepts	only whitespaces.&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20354">[ date ]</a>
              <a href="thread.html#20354">[ thread ]</a>
              <a href="subject.html#20354">[ subject ]</a>
              <a href="author.html#20354">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
