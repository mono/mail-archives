<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] About libMonoPosixHelper.so (Was: Re: Announce:	Mono.Fuse (+ Required Mono.Posix Changes))
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20About%20libMonoPosixHelper.so%20%28Was%3A%20Re%3A%20Announce%3A%0A%09Mono.Fuse%20%28%2B%20Required%20Mono.Posix%20Changes%29%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020279.html">
   <LINK REL="Next"  HREF="020291.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] About libMonoPosixHelper.so (Was: Re: Announce:	Mono.Fuse (+ Required Mono.Posix Changes))</H1>
    <B>Andreia Gaita</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20About%20libMonoPosixHelper.so%20%28Was%3A%20Re%3A%20Announce%3A%0A%09Mono.Fuse%20%28%2B%20Required%20Mono.Posix%20Changes%29%29&In-Reply-To="
       TITLE="[Mono-dev] About libMonoPosixHelper.so (Was: Re: Announce:	Mono.Fuse (+ Required Mono.Posix Changes))">shana.ufie at gmail.com
       </A><BR>
    <I>Sat Sep  2 22:15:57 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020279.html">[Mono-dev] Mono on Fedora Development/AMD64
</A></li>
        <LI>Next message: <A HREF="020291.html">[Mono-dev] About libMonoPosixHelper.so (Was: Re: Announce: Mono.Fuse (+ Required Mono.Posix Changes))
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20280">[ date ]</a>
              <a href="thread.html#20280">[ thread ]</a>
              <a href="subject.html#20280">[ subject ]</a>
              <a href="author.html#20280">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>While you're talking about libMonoPosixHelper.so, I've stumbled onto a
problem while trying to get System.IO.Compression to work with both
the latest and the stable versions. Any call to deflate always blows
up with an exception. I've looked at the source, and it's fine, but
the compiled library being distributed is missing some code,
specifically the create_z_stream function.

For what I can see, the only reason this function would be empty (as
it is), is that the library is being compiled in a system without the
latest zlib library, or at least a library that's flagging this bit of
code (in zlib_macros.c)

#if !defined(ZLIB_VERNUM) || (ZLIB_VERNUM &lt; 0x1204)
	/* Older versions of zlib do not support raw deflate or gzip */
	return NULL;
#endif

Compiling the source makes it work fine, but all versions of this
library that I've found are broken (at least in red hat and fedora).

On another note, This NULL return makes the managed code throw out an
OutOfMemory Exception, because it believes a null is the library
returning a no memory error. All the error codes and nice errors
structures the zlib library so helpfully provides are completely lost,
the managed code doesn't receive or use them, which is a shame. Also,
most exceptions that are being thrown out are not consistent with the
ones being thrown out by IO.Compression in .NET (they should be
consistent, right?) Is anyone actively mantaining the io.compression
area at present? I'd be happy to take it up.

shana

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020279.html">[Mono-dev] Mono on Fedora Development/AMD64
</A></li>
	<LI>Next message: <A HREF="020291.html">[Mono-dev] About libMonoPosixHelper.so (Was: Re: Announce: Mono.Fuse (+ Required Mono.Posix Changes))
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20280">[ date ]</a>
              <a href="thread.html#20280">[ thread ]</a>
              <a href="subject.html#20280">[ subject ]</a>
              <a href="author.html#20280">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
