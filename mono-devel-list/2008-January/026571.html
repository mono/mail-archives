<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [SPAM]  Re:  Tests failures when running on MS.NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BSPAM%5D%20%20Re%3A%20%20Tests%20failures%20when%20running%20on%20MS.NET&In-Reply-To=01b701c852e1%24f0197aa0%24d9071fac%40cegekanv.corp.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026566.html">
   <LINK REL="Next"  HREF="026552.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [SPAM]  Re:  Tests failures when running on MS.NET</H1>
    <B>Andreas Nahr</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BSPAM%5D%20%20Re%3A%20%20Tests%20failures%20when%20running%20on%20MS.NET&In-Reply-To=01b701c852e1%24f0197aa0%24d9071fac%40cegekanv.corp.local"
       TITLE="[Mono-dev] [SPAM]  Re:  Tests failures when running on MS.NET">ClassDevelopment at A-SoftTech.com
       </A><BR>
    <I>Wed Jan  9 14:52:53 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026566.html">[Mono-dev] Tests failures when running on MS.NET
</A></li>
        <LI>Next message: <A HREF="026552.html">[Mono-dev] [PATCH] ToString() performace in Mono revisited
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26571">[ date ]</a>
              <a href="thread.html#26571">[ thread ]</a>
              <a href="subject.html#26571">[ subject ]</a>
              <a href="author.html#26571">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 

&gt;<i> -----Urspr&#252;ngliche Nachricht-----
</I>&gt;<i> Von: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A> 
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] Im Auftrag 
</I>&gt;<i> von Gert Driesen
</I>&gt;<i> Gesendet: Mittwoch, 9. Januar 2008 18:06
</I>&gt;<i> An: Atsushi Eno; Eyal Alaluf
</I>&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Betreff: [SPAM] Re: [Mono-dev] Tests failures when running on MS.NET
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Atsushi Eno&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">atsushi at ximian.com</A>&gt;
</I>&gt;<i> To: &quot;Eyal Alaluf&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">eyala at mainsoft.com</A>&gt;
</I>&gt;<i> Cc: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i> Sent: Wednesday, January 09, 2008 2:38 PM
</I>&gt;<i> Subject: Re: [Mono-dev] Tests failures when running on MS.NET
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Agreed. If there's no objection I'd welcome such a change 
</I>&gt;<i> (or will do if 
</I>&gt;<i> &gt; no one does but not sure when).
</I>&gt;<i> 
</I>&gt;<i> Having it in managed code (where it's easier to have 
</I>&gt;<i> different &quot;tables&quot; for each profile) is not an option I assume?
</I>
Imho the problem is that this option would need a lot of research from
somebody very familiar with the core OS level.
We had that discussion quite a few year back and this were some results (as
far as I can remember):
Embedding will give you:
* Automatic memmapping through the OS without any additional work to do (So
we don't (have to) care about which part of tables to load into memory and
which not) OSs are usually good at doing that.
* No hassle with endianess. The Runtime is Arch dependent anyways, so you
get the correct endianess with embedded tables.
* Source code visibility. You can change/inspect (by hand) individual
values.
* Does not add any additional complexity to the build process.
* Already existing and implemented
Disadvantages are potentially:
* No easy way for different versions.
* You may include things in the runtime which are not needed for a specific
application that would better be included in a specific assembly.
* Bloats the runtime size.
* To add a new/change a table you always have to touch both runtime and
classlibrary.

One of the solutions I found back then that MAY be possible (did not have
the time to completely research it): Embed the data tables into the specific
assembly (Into the manifest) as a binary data blob. This removes the
disadvantages above however will come with a host of new problems:
* The data would have to be binary. Which means you need toolapps to create
it (this is already true for some/most of the tables anyways)
* You would need a way to get a pointer to the data fast without a lot of
overhead (Current overhead is just one internalcall and a single line of C
code)
* Unclear if you still get free memmapping (showstopper if you need to
preload all table data manually)
* The class library (potentially) becomes arch-dependent because the
embedded binary data is arch-dependent (No good way to solve: Either include
both doubling size or live with the fact and ship arch-dependent libraries)
* More complicated build process that needs additional steps to create/embed
the binary data.
* Somebody has to do it

Greetings
Andreas


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026566.html">[Mono-dev] Tests failures when running on MS.NET
</A></li>
	<LI>Next message: <A HREF="026552.html">[Mono-dev] [PATCH] ToString() performace in Mono revisited
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26571">[ date ]</a>
              <a href="thread.html#26571">[ thread ]</a>
              <a href="subject.html#26571">[ subject ]</a>
              <a href="author.html#26571">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
