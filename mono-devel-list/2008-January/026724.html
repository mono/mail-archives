<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] App using gecko-sharp won't start.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20App%20using%20gecko-sharp%20won%27t%20start.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026722.html">
   <LINK REL="Next"  HREF="026755.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] App using gecko-sharp won't start.</H1>
    <B>Jakub Skoczen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20App%20using%20gecko-sharp%20won%27t%20start.&In-Reply-To="
       TITLE="[Mono-dev] App using gecko-sharp won't start.">jakub at indexdata.dk
       </A><BR>
    <I>Fri Jan 25 11:47:03 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026722.html">[Mono-dev] Gdk and Cygwin option B for exchange support
</A></li>
        <LI>Next message: <A HREF="026755.html">[Mono-dev] App using gecko-sharp won't start.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26724">[ date ]</a>
              <a href="thread.html#26724">[ thread ]</a>
              <a href="subject.html#26724">[ subject ]</a>
              <a href="author.html#26724">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Guys,

I am using the MonoDevelop IDE to build a GTK# application that embeds
Gecko. When run from within MD, the app starts up and works fine.
However, when I try to run it from the command line it won't work.

Running:

mono gecko-experiments.exe

ended with:

System.TypeInitializationException: An exception was thrown by the
type initializer for Gecko.WebControl ---&gt;
System.DllNotFoundException: /usr/lib/firefox/libgtkembedmoz.so

so I've set the LD_LIBRARY_PATH=/usr/lib/firefox and I got what can be
seen below. I tried enabling launch script generation in MD (0.14) but
I cannot see it generating any scripts. I'm running Ubuntu 7.10. Any
ideas on what's wrong with that?

Stacktrace:

  at (wrapper managed-to-native) Gtk.Container.gtk_container_add
(intptr,intptr) &lt;0x00004&gt;
  at (wrapper managed-to-native) Gtk.Container.gtk_container_add
(intptr,intptr) &lt;0xffffffff&gt;
  at Gtk.Container.Add (Gtk.Widget) &lt;0x00034&gt;
  at geckoexperiments.MainWindow..ctor (Gecko.WebControl) &lt;0x000b9&gt;
  at geckoexperiments.MainClass.Main (string[]) &lt;0x0005b&gt;
  at (wrapper runtime-invoke)
System.Object.runtime_invoke_void_string[]
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;

Native stacktrace:

        mono [0x8194ca6]
        mono [0x81770ed]
        [0xffffe440]
        /usr/lib/firefox/libgtkembedmoz.so [0xb696d84b]
        /usr/lib/libgobject-2.0.so.0(g_cclosure_marshal_VOID__VOID+0x49)
[0xb6b67c09]
        /usr/lib/libgobject-2.0.so.0 [0xb6b58f89]
        /usr/lib/libgobject-2.0.so.0(g_closure_invoke+0x122) [0xb6b5a772]
        /usr/lib/libgobject-2.0.so.0 [0xb6b6b7ba]
        /usr/lib/libgobject-2.0.so.0(g_signal_emit_valist+0x8c7) [0xb6b6c847]
        /usr/lib/libgobject-2.0.so.0(g_signal_emit+0x29) [0xb6b6ca09]
        /usr/lib/libgtk-x11-2.0.so.0(gtk_widget_realize+0x8d) [0xb7000add]
        /usr/lib/libgtk-x11-2.0.so.0(gtk_widget_set_parent+0x1e2) [0xb70010f2]
        /usr/lib/libgtk-x11-2.0.so.0 [0xb6df8752]
        /usr/lib/libgobject-2.0.so.0(g_cclosure_marshal_VOID__OBJECT+0x59)
[0xb6b67119]
        /usr/lib/libgobject-2.0.so.0 [0xb6b58f89]
        /usr/lib/libgobject-2.0.so.0(g_closure_invoke+0x122) [0xb6b5a772]
        /usr/lib/libgobject-2.0.so.0 [0xb6b6b7ba]
        /usr/lib/libgobject-2.0.so.0(g_signal_emit_valist+0x8c7) [0xb6b6c847]
        /usr/lib/libgobject-2.0.so.0(g_signal_emit+0x29) [0xb6b6ca09]
        /usr/lib/libgtk-x11-2.0.so.0(gtk_container_add+0xf8) [0xb6e3e458]
        [0xb676659e]
        [0xb676653d]
        [0xb74aad9a]
        [0xb749ef14]
        [0xb749e7d5]
        mono [0x8176f50]
        mono(mono_runtime_invoke+0x27) [0x80b0b2f]
        mono(mono_runtime_exec_main+0x142) [0x80b5383]
        mono(mono_runtime_run_main+0x27e) [0x80b5631]
        mono(mono_jit_exec+0xbd) [0x805a4cb]
        mono [0x805a5a8]
        mono(mono_main+0x1683) [0x805bdc9]
        mono [0x8059636]
        /lib/tls/i686/cmov/libc.so.6(__libc_start_main+0xe0) [0xb7d83050]
        mono [0x80595b1]

Debug info from gdb:

(no debugging symbols found)
Using host libthread_db library &quot;/lib/tls/i686/cmov/libthread_db.so.1&quot;.
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
[Thread debugging using libthread_db enabled]
[New Thread -1210665264 (LWP 3565)]
[New Thread -1219900528 (LWP 3567)]
[New Thread -1214145648 (LWP 3566)]
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
(no debugging symbols found)
0xffffe410 in __kernel_vsyscall ()
  3 Thread -1214145648 (LWP 3566)  0xffffe410 in __kernel_vsyscall ()
  2 Thread -1219900528 (LWP 3567)  0xffffe410 in __kernel_vsyscall ()
  1 Thread -1210665264 (LWP 3565)  0xffffe410 in __kernel_vsyscall ()

Thread 3 (Thread -1214145648 (LWP 3566)):
#0  0xffffe410 in __kernel_vsyscall ()
#1  0xb7ee89f6 in ?? () from /lib/tls/i686/cmov/libpthread.so.0
#2  0x0811bc9f in ?? ()
#3  0xb7a193ac in ?? ()
#4  0x00000000 in ?? ()

Thread 2 (Thread -1219900528 (LWP 3567)):
#0  0xffffe410 in __kernel_vsyscall ()
#1  0xb7ee5676 in pthread_cond_wait@@GLIBC_2.3.2 ()
   from /lib/tls/i686/cmov/libpthread.so.0
#2  0x08120dde in ?? ()
#3  0xb79861dc in ?? ()
#4  0xb79861c4 in ?? ()
#5  0xb7ee3541 in pthread_mutex_lock () from /lib/tls/i686/cmov/libpthread.so.0
#6  0x081210eb in ?? ()
#7  0xb79861dc in ?? ()
#8  0xb79861c4 in ?? ()
#9  0x00000000 in ?? ()

Thread 1 (Thread -1210665264 (LWP 3565)):
#0  0xffffe410 in __kernel_vsyscall ()
#1  0xb7e392a1 in select () from /lib/tls/i686/cmov/libc.so.6
#2  0xb7f58780 in g_spawn_sync () from /usr/lib/libglib-2.0.so.0
#3  0xb7f58b4c in g_spawn_command_line_sync () from /usr/lib/libglib-2.0.so.0
#4  0x08194d84 in ?? ()
#5  0xb7c26844 in ?? ()
#6  0xb7c2682c in ?? ()
#7  0xb7c26828 in ?? ()
#8  0xb7c26824 in ?? ()
#9  0x00000000 in ?? ()
#0  0xffffe410 in __kernel_vsyscall ()


=================================================================
Got a SIGSEGV while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries
used by your application.
=================================================================

Aborted (core dumped)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026722.html">[Mono-dev] Gdk and Cygwin option B for exchange support
</A></li>
	<LI>Next message: <A HREF="026755.html">[Mono-dev] App using gecko-sharp won't start.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26724">[ date ]</a>
              <a href="thread.html#26724">[ thread ]</a>
              <a href="subject.html#26724">[ subject ]</a>
              <a href="author.html#26724">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
