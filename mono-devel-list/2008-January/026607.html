<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Program Option Parsing Library
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Program%20Option%20Parsing%20Library&In-Reply-To=1200050807.4616.34.camel%40lina.magi.jprl.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026597.html">
   <LINK REL="Next"  HREF="026610.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Program Option Parsing Library</H1>
    <B>Jay Logue</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Program%20Option%20Parsing%20Library&In-Reply-To=1200050807.4616.34.camel%40lina.magi.jprl.com"
       TITLE="[Mono-dev] Program Option Parsing Library">jay-MonoDev at toaster.com
       </A><BR>
    <I>Fri Jan 11 13:25:51 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026597.html">[Mono-dev] Program Option Parsing Library
</A></li>
        <LI>Next message: <A HREF="026610.html">[Mono-dev] Program Option Parsing Library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26607">[ date ]</a>
              <a href="thread.html#26607">[ thread ]</a>
              <a href="subject.html#26607">[ subject ]</a>
              <a href="author.html#26607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jonathan Pryor wrote:
&gt;<i> Indeed.  I like return values. :-)
</I>&gt;<i>   
</I>Hey, I gave it a shot.  :-)

&gt;<i> Now how should localization be handled?  Should it?
</I>It only seems fair.  I would do the localization in the OptionException 
class itself.  I see other mono Exception types calling Locale.GetText() 
to translate their text (e.g. FileNotFoundException), but I don't see 
where its declared.  (I see one in 
mcs/class/Managed.Windows.Forms/Assembly/Locale.cs but I don't think 
that's it).

A couple of other thoughts:

-- I think it would be convenient to the user if the error message 
included the option value whenever ConvertFromString() failed.  That way 
if there are many instances of the same option the user can easily 
figure out which one is causing the problem.  An alternative is to 
include the index of the offending argument as a property of the 
OptionException, leaving it to the caller's exception handler to point 
out the value.

-- I was looking at your FooConverter example and it occurred to me that 
the code might be more concise if Options.Add&lt;T&gt;() had an overload that 
took a TypeConverter.  That way I could simply say:

         Options p = new Options () {
            { &quot;v&quot;, v =&gt; ++verbose },
            { &quot;foo&quot;, *new FooConverter()*, (int v) =&gt; foo = v },
            { &quot;h|?|help&quot;, v =&gt; ShowHelp () }
         };

... rather than having to use a wrapper type (Foo) as a stand-in for the 
real type.

Please feel free to tell me to shut up when you've had enough of my 
'thoughts'.  :-)

-- Jay


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080111/60a560ad/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080111/60a560ad/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026597.html">[Mono-dev] Program Option Parsing Library
</A></li>
	<LI>Next message: <A HREF="026610.html">[Mono-dev] Program Option Parsing Library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26607">[ date ]</a>
              <a href="thread.html#26607">[ thread ]</a>
              <a href="subject.html#26607">[ subject ]</a>
              <a href="author.html#26607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
