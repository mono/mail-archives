<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] set culture uses serialization?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20set%20culture%20uses%20serialization%3F&In-Reply-To=flp9kt%249ko%241%40ger.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026486.html">
   <LINK REL="Next"  HREF="026487.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] set culture uses serialization?</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20set%20culture%20uses%20serialization%3F&In-Reply-To=flp9kt%249ko%241%40ger.gmane.org"
       TITLE="[Mono-dev] set culture uses serialization?">lupus at ximian.com
       </A><BR>
    <I>Mon Jan  7 10:08:14 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026486.html">[Mono-dev] set culture uses serialization?
</A></li>
        <LI>Next message: <A HREF="026487.html">[Mono-dev] set culture uses serialization?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26520">[ date ]</a>
              <a href="thread.html#26520">[ thread ]</a>
              <a href="subject.html#26520">[ subject ]</a>
              <a href="author.html#26520">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/06/08 Robert Jordan wrote:
&gt;<i> Robert Jordan wrote:
</I>&gt;<i> &gt; Since the current handling of CurrentThread.CultureInfo
</I>&gt;<i> &gt; isn't quite perfect (changes of CurrentThread.CultureInfo's
</I>&gt;<i> &gt; object state isn't reflected back into another app domains,
</I>&gt;<i> &gt; like on MS.NET), I wonder why we don't use a more efficient way:
</I>&gt;<i> &gt; cache the LCID instead of the full blown binary representation
</I>&gt;<i> &gt; of the CultureInfo.
</I>&gt;<i> 
</I>&gt;<i> Hmm, this is too restrictive, as it would miss changes
</I>&gt;<i> of the CurrentThread.DateTimeFormat &amp; CurrentThread.NumberFormat
</I>&gt;<i> objects, but it could be still used as an optimization for the
</I>&gt;<i> case that those objects were not changed. This should be the
</I>&gt;<i> most probable case anyways.
</I>
We could see if it's possible to delay the serialization at the
appdomain switch time, so setting the culture would be cheap
(switching appdomain would be more costly, though).
Someone needs to write more extensive tests and check if this
matches the semantics of .net.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026486.html">[Mono-dev] set culture uses serialization?
</A></li>
	<LI>Next message: <A HREF="026487.html">[Mono-dev] set culture uses serialization?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26520">[ date ]</a>
              <a href="thread.html#26520">[ thread ]</a>
              <a href="subject.html#26520">[ subject ]</a>
              <a href="author.html#26520">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
