<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] corlib runtime versioning
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20corlib%20runtime%20versioning&In-Reply-To=20040128121004.GL28812%40debian.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003823.html">
   <LINK REL="Next"  HREF="003829.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] corlib runtime versioning</H1>
    <B>Ben Maurer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20corlib%20runtime%20versioning&In-Reply-To=20040128121004.GL28812%40debian.org"
       TITLE="[Mono-devel-list] corlib runtime versioning">bmaurer at users.sourceforge.net
       </A><BR>
    <I>Wed Jan 28 09:10:46 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003823.html">[Mono-devel-list] corlib runtime versioning
</A></li>
        <LI>Next message: <A HREF="003829.html">[Mono-devel-list] corlib runtime versioning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3826">[ date ]</a>
              <a href="thread.html#3826">[ thread ]</a>
              <a href="subject.html#3826">[ subject ]</a>
              <a href="author.html#3826">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, maybe this approach to `fail safe building' is wrong. However, my
larger point is `it should be easy for someone to maintain a build of
Mono from cvs without much effort'

Every time we tell someone `yeah, building from cvs is really hard, dont
bother' we could be loosing a developer. So what would be really nice to
see is the following:

1) A script such that to get a cvs build of Mono from scratch you do:
wget <A HREF="http://go-mono.com/build-scripts/make-install.sh">http://go-mono.com/build-scripts/make-install.sh</A> -q -O - | sh

2) For this script to make a `update-build.sh' script that 99% of the
time will be able to build mono by doing:

`./update-build.sh'

The fact that multiple developers are telling people to do different
things is a really bad sign. On IRC I see most people recommending
`fullbuild'; you recommend setting up some obscure build system.

In short, by making the build hard, we may discourge a potential
developer. When I got my build working for the first time, I was nearly
on the verge of giving up and erasing the new Redhat9 install I had made
to go back to Windows. Luckly, I figured out the system quickly enough
that this did not happen. However, I would bet that many people have
just given up and we will never see the great code they could have
written.

I do love the story of the Magic Chainsaw. We need build documents that
read as well as this :-).

-- Ben

On Wed, 2004-01-28 at 07:10, Paolo Molaro wrote:
&gt;<i> On 01/23/04 Ben Maurer wrote:
</I>&gt;<i> &gt; I don't really understand why you say we cant do it. The way someone
</I>&gt;<i> &gt; should install a new build is:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 1) install the new corlib
</I>&gt;<i> &gt; 2) install the new mono
</I>&gt;<i> 
</I>&gt;<i> Only in your limited corner/view of the world. There is a surprisingly
</I>&gt;<i> small number of people that should do that: people working from cvs.
</I>&gt;<i> People installing from snapshots or tarballs just need to do make
</I>&gt;<i> install and people using distribution packages don't need to do anything
</I>&gt;<i> of the sorts. Note that the last two sets of people are easily 3 orders
</I>&gt;<i> of magnitude bigger than the people that should follow your suggestion.
</I>&gt;<i> 
</I>&gt;<i> &gt; So, when we are at stage 2, the *new* mono should return a `0' when
</I>&gt;<i> &gt; doing the version check. This process can be done with `make fullbuild'.
</I>&gt;<i> 
</I>&gt;<i> As long as the check is not done by default it's fine, because by
</I>&gt;<i> default it's wrong and if you'd spend one minute thinking about it you'd
</I>&gt;<i> realize it.
</I>&gt;<i> 
</I>&gt;<i> &gt; Also, we could allow someone to run:
</I>&gt;<i> &gt; make install SANITY_CHECKS=false
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; to override the safeguard in non-standard cases.
</I>&gt;<i> 
</I>&gt;<i> Yes, too bad your concept of standard is the wrong one.
</I>&gt;<i> 
</I>&gt;<i> &gt; The reason why I support having it in the build is that often people
</I>&gt;<i> &gt; will install the runtime first before building corlib. This puts them in
</I>&gt;<i> &gt; a really hard position, as they are not able to get out of it without
</I>&gt;<i> &gt; the assistance of a monocharge.
</I>&gt;<i> 
</I>&gt;<i> People that use packages, tarballs and snapshots don't need the check.
</I>&gt;<i> People that use cvs can screwup the installation in a million ways: they
</I>&gt;<i> are supposed to always keep a working mono install separate from the cvs
</I>&gt;<i> install, that way there is no issue. If you want to add the check to
</I>&gt;<i> make fullbuild, it's ok, as long as you and other people realize that
</I>&gt;<i> make fullbuild is just a hack and it may not work. The right thing to do
</I>&gt;<i> is to explain people they should not overwrite their working mono
</I>&gt;<i> install.
</I>&gt;<i> If you need to cut the branch of a tree, you better not sit on that
</I>&gt;<i> branch. You're telling people: use my magic chainsaw and even if you cut
</I>&gt;<i> the branch you're sitting on, you won't fall. And they go only to
</I>&gt;<i> realize the magic chainsaw doesn't work when it's too late.
</I>&gt;<i> Just sit on one branch (keep a working mono install in a different
</I>&gt;<i> prefix) when you need to cut another (make install a new mono version).
</I>&gt;<i> 
</I>&gt;<i> lupus
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003823.html">[Mono-devel-list] corlib runtime versioning
</A></li>
	<LI>Next message: <A HREF="003829.html">[Mono-devel-list] corlib runtime versioning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3826">[ date ]</a>
              <a href="thread.html#3826">[ thread ]</a>
              <a href="subject.html#3826">[ subject ]</a>
              <a href="author.html#3826">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
