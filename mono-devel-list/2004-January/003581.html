<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] StringBuilder patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20StringBuilder%20patch&In-Reply-To=s002961a.051%40gm004.hawken.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003554.html">
   <LINK REL="Next"  HREF="003591.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] StringBuilder patch</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20StringBuilder%20patch&In-Reply-To=s002961a.051%40gm004.hawken.edu"
       TITLE="[Mono-devel-list] StringBuilder patch">lupus at ximian.com
       </A><BR>
    <I>Tue Jan 13 11:47:30 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003554.html">[Mono-devel-list] StringBuilder patch
</A></li>
        <LI>Next message: <A HREF="003591.html">[Mono-devel-list] StringBuilder patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3581">[ date ]</a>
              <a href="thread.html#3581">[ thread ]</a>
              <a href="subject.html#3581">[ subject ]</a>
              <a href="author.html#3581">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/12/04 Ben Maurer wrote:
&gt;<i> One other thing we should do is to preserve the old source. The old
</I>&gt;<i> stringbuilder is actually VERY useful, and highly performant as a
</I>&gt;<i> `string buffer'. For example, if you allocate one static stringbuilder,
</I>&gt;<i> and use it multiple times, the cost of the extra slack on the end of
</I>&gt;<i> strings is more than what is lost by having the extra char [] buffer.
</I>[...]
&gt;<i> In this case, it is MUCH more efficient to do it the old way (assuming
</I>&gt;<i> you have a pretty big number of strings.
</I>&gt;<i> 
</I>&gt;<i> So, it would be nice if we could publish the old source as a utility
</I>&gt;<i> class. We should rename it something like Mono.StringBuffer.
</I>
The new code already creates a new string if the string buffer is unused
for the most part. Maybe the code can be changed in the future to use
some different criteria, like, don't waste more than x bytes etc.
I don't see any reason to keep the old code around: it's much more a
waste to keep it maintained and have two copies of mostly the same code
jitted in the same application.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003554.html">[Mono-devel-list] StringBuilder patch
</A></li>
	<LI>Next message: <A HREF="003591.html">[Mono-devel-list] StringBuilder patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3581">[ date ]</a>
              <a href="thread.html#3581">[ thread ]</a>
              <a href="subject.html#3581">[ subject ]</a>
              <a href="author.html#3581">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
