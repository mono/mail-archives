<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Relying on the order of Properties comming from reflection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Relying%20on%20the%20order%20of%20Properties%20comming%20from%20reflection&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003687.html">
   <LINK REL="Next"  HREF="003684.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Relying on the order of Properties comming from reflection</H1>
    <B>Eran Domb</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Relying%20on%20the%20order%20of%20Properties%20comming%20from%20reflection&In-Reply-To="
       TITLE="[Mono-devel-list] Relying on the order of Properties comming from reflection">erand at mainsoft.com
       </A><BR>
    <I>Sun Jan 18 03:10:13 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003687.html">[Mono-devel-list] Base64 Class position
</A></li>
        <LI>Next message: <A HREF="003684.html">[Mono-devel-list] Remoting .config files - typeFilterLevel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3681">[ date ]</a>
              <a href="thread.html#3681">[ thread ]</a>
              <a href="subject.html#3681">[ subject ]</a>
              <a href="author.html#3681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
It looks that the generation of xml schemas is relying on the order of 
the Properties of the System.Xml.Schema.XmlSchema class.
When the XmlReflectionImporter.GetReflectionMembers(Type type) calls 
GetProperties of type XmlSchema, the 'Includes' property come before the 
'Items' property.  If the order is changing (just replace the Items and 
Includes property in the XmlSchema code and compile) the xml generated 
is invalid.
So first I wanted to ask is it correct to build the design relying on 
the order of the Properties coming from reflection, it looks strange 
because the order is not defined and tommorow someone can change the 
order and things will not work.
Second I wanted to know if there are more places we are relying on the 
order of Properties, Methods or Fields coming from reflection, is it a 
common pettern?

Attached is a code sample, and the xml generated when replacing Items 
and includes Properties in XmlSchema.
This is a WebService and the xml is generted when you try to add this 
WebService as a reference to existing project
(the url is .../Service1.asmx?schema=0)

Thanks,
Eran

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Service1.asmx.xml
Type: text/xml
Size: 783 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040118/26a1ac20/attachment.xml">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040118/26a1ac20/attachment.xml</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Service1.asmx.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040118/26a1ac20/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040118/26a1ac20/attachment.pl</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003687.html">[Mono-devel-list] Base64 Class position
</A></li>
	<LI>Next message: <A HREF="003684.html">[Mono-devel-list] Remoting .config files - typeFilterLevel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3681">[ date ]</a>
              <a href="thread.html#3681">[ thread ]</a>
              <a href="subject.html#3681">[ subject ]</a>
              <a href="author.html#3681">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
