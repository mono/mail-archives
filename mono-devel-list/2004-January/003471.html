<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] System.Reflection Performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Reflection%20Performance&In-Reply-To=20040103104559.GF301%40ox.compsoc.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003426.html">
   <LINK REL="Next"  HREF="003475.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] System.Reflection Performance</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Reflection%20Performance&In-Reply-To=20040103104559.GF301%40ox.compsoc.net"
       TITLE="[Mono-devel-list] System.Reflection Performance">lupus at ximian.com
       </A><BR>
    <I>Tue Jan  6 12:50:12 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003426.html">[Mono-devel-list] System.Reflection Performance
</A></li>
        <LI>Next message: <A HREF="003475.html">[Mono-devel-list] System.Reflection Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3471">[ date ]</a>
              <a href="thread.html#3471">[ thread ]</a>
              <a href="subject.html#3471">[ subject ]</a>
              <a href="author.html#3471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/03/04 David Sheldon wrote:
&gt;<i> Is there an easy way to get the IL for a single method out of an
</I>&gt;<i> assembly, or even out of mcs? I am also a little confused how to see
</I>
monodis assembly | less
and then grep.

&gt;<i> what the JITer does with a method. Mono has --compile METHOD, but I
</I>&gt;<i> spent some time working out how to specify the name of a method for it,
</I>&gt;<i> and does it output anything unless you use -v -v? Is there a better way
</I>&gt;<i> than doing this. I think that these might be the sort of things that
</I>&gt;<i> should go in this document.
</I>
The mono.1 manpage says:
       --compile name
       This compiles a method (namespace.name:methodname), this is used
       for testing the compiler performance or to examine the output of
       the code generator.

Method overloads are handled by adding also the argument types in parens
after the method name (you can see the --profile output for examples).
You can also run your program with a few -v switches (4 or 5) to get
lots of info and the generated assembly for all the methods, then just
use grep to find the one you're looking for. You can also run mono under
gdb and use gdb's disas command.
However, looking at the generated native assembly is usually not a good
advice to give, unless you're interested in the very low level details
of the jit (99% of the people aren't).

&gt;<i> &gt;       * Check if the JIT makes any of the items into instructions (such
</I>&gt;<i> &gt;         as String.Length).
</I>&gt;<i> 
</I>&gt;<i> Could you explain this one in more detail please?
</I>
The jit can substitute some method calls or property accesses with
a small number of native instructions. Most people should just ignore
this advice, because it's bound to lead to micro optimizations that turn
out to hurt later on.

Maybe the only good advice wrt performance is: use the profiler or
otherwise time your application code and see the actual numbers
of where the most time is spent and start optimizing the high-level code
there (if it's not already fast enough) without uglyfying the code.
If it's still too slow you might want to post to the list: it may well
be you're hitting some part of the mono runtime that has not been
optimized yet, or something that requires some jit help.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003426.html">[Mono-devel-list] System.Reflection Performance
</A></li>
	<LI>Next message: <A HREF="003475.html">[Mono-devel-list] System.Reflection Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3471">[ date ]</a>
              <a href="thread.html#3471">[ thread ]</a>
              <a href="subject.html#3471">[ subject ]</a>
              <a href="author.html#3471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
