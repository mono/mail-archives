<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] mono and .net web services
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20mono%20and%20.net%20web%20services&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003611.html">
   <LINK REL="Next"  HREF="003615.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] mono and .net web services</H1>
    <B>Daniel Pinto de Mello e Silva</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20mono%20and%20.net%20web%20services&In-Reply-To="
       TITLE="[Mono-devel-list] mono and .net web services">dsilva at ccs.neu.edu
       </A><BR>
    <I>Wed Jan 14 22:26:16 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003611.html">[Mono-devel-list] FW: [Long Post] XSP and databases using libgda
</A></li>
        <LI>Next message: <A HREF="003615.html">[Mono-devel-list] mono and .net web services
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3612">[ date ]</a>
              <a href="thread.html#3612">[ thread ]</a>
              <a href="subject.html#3612">[ subject ]</a>
              <a href="author.html#3612">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I am trying to use Mono in conjunction with IIS.  There are two IIS
servers and one Linux workstation.  The first IIS server hosts the web
service.  The second IIS server hosts the server page acting as the
service's client.  The Linux workstation is used for C# development with
Mono.

The web-service ASMX file is being interpreted just fine in the first
IIS server.  From its WSDL file Mono's wsdl tool created a client
proxy.  The proxy library (compiled with Mono's mcs) is placed in the
second IIS server.

The server-page ASPX file references the client proxy to communicate
with the web-service.  It sits on the second IIS server.  Upon
interpretation, the server-page causes IIS to complain:

&quot;&quot;&quot;
Server Error in '/home/dsilva' Application.
File or assembly name System.Web.Services, or one of its dependencies,
was not found. 

Exception Details: System.IO.FileNotFoundException: File or assembly
name System.Web.Services, or one of its dependencies, was not found.
&quot;&quot;&quot;

The offending line is the one that tries to construct a client-proxy
object.  I've tried passing variations of these arguments to mcs, but
they don't help:
  -r:System.Web.Services
  -r:System.Web.Services.dll
  -lib:System.Web.Services
  -lib:System.Web.Services.dll


After giving up on IIS, I tried the same client-proxy and server-page on
the Linux workstation using the Mono XSP server, but it gives me this
error whenever I submit a form twice (say, Add followed by Subtract
buttons in a calculator):

&quot;&quot;&quot;
Server error in '/' application
Error restoring page viewstate. 
Description: Error processing request. 
Error Message: HTTP 500. Error restoring page viewstate. 

Stack Trace: 

System.IndexOutOfRangeException: Array index is out of range
in &lt;0x003ea&gt;
System.Security.Cryptography.FromBase64Transform:DoTransform
(byte[],int,int,byte[],int)
in &lt;0x0012b&gt;
System.Security.Cryptography.FromBase64Transform:TransformFinalBlock
(byte[],int,int)
in &lt;0x00121&gt; System.Convert:FromBase64CharArray (char[],int,int)
in &lt;0x00056&gt; System.Convert:FromBase64String (string)
in &lt;0x00068&gt; System.Web.UI.ObjectStateFormatter:Deserialize (string)
in &lt;0x00017&gt; System.Web.UI.LosFormatter:Deserialize (string)
in &lt;0x000ad&gt; System.Web.UI.Page:LoadPageStateFromPersistenceMedium ()
&quot;&quot;&quot;

Two questions then:
Are .Net assemblies compiled with Mono's mcs supposed to work under
Microsoft's VM and IIS?
Does XSP support multiple executions of the same server-page script
without resetting the viewstate to be an empty string?

Thanks and regards,
Daniel


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003611.html">[Mono-devel-list] FW: [Long Post] XSP and databases using libgda
</A></li>
	<LI>Next message: <A HREF="003615.html">[Mono-devel-list] mono and .net web services
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3612">[ date ]</a>
              <a href="thread.html#3612">[ thread ]</a>
              <a href="subject.html#3612">[ subject ]</a>
              <a href="author.html#3612">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
