<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] ANNOUNCE: mono build tool demo
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20ANNOUNCE%3A%20mono%20build%20tool%20demo&In-Reply-To=1073413709.25471.94.camel%40beta.newton.cx">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003474.html">
   <LINK REL="Next"  HREF="003458.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] ANNOUNCE: mono build tool demo</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20ANNOUNCE%3A%20mono%20build%20tool%20demo&In-Reply-To=1073413709.25471.94.camel%40beta.newton.cx"
       TITLE="[Mono-devel-list] ANNOUNCE: mono build tool demo">lupus at ximian.com
       </A><BR>
    <I>Tue Jan  6 17:03:51 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003474.html">[Mono-devel-list] ANNOUNCE: mono build tool demo
</A></li>
        <LI>Next message: <A HREF="003458.html">[Mono-devel-list] ANNOUNCE: mono build tool demo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3477">[ date ]</a>
              <a href="thread.html#3477">[ thread ]</a>
              <a href="subject.html#3477">[ subject ]</a>
              <a href="author.html#3477">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/06/04 Peter Williams wrote:
&gt;<i> There is a design. The rough idea is that certain targets are in a
</I>&gt;<i> 'Configuration' group, and the tool has a mode that lets you view and
</I>&gt;<i> modify all of their values. Examples would be /config/want_foofeature or
</I>&gt;<i> /config/cc_program. Ideally, the developer could add annotations useful
</I>&gt;<i> to the end user:
</I>&gt;<i> 
</I>&gt;<i> want_foofeature = UserConfigurableBool [
</I>&gt;<i> 	default = true
</I>&gt;<i> 	truedesc = &quot;Use the Foobulator (recommended)&quot;
</I>&gt;<i> 	falsedesc = &quot;Don't use the Foobulator (reduces executable size)&quot;
</I>&gt;<i> ]
</I>
Ok, it's nice that simple things are handled in a simple way.
Now, what about something more complex? How do you get the build tool to
add a define if a feature is enabled? This doesn't seem to map too well
to a virtual dependency. What if I want a feature enabled if two config
checks succeed and another one fails?
And how would you represent the bundle support in the mono configure.in
(with the correspoonding Makefile.am snippets)?

&gt;<i> Portability is of course an issue. The way I figure it, it won't be
</I>&gt;<i> insanely difficult to get it as portable as Mono... and not relying on
</I>&gt;<i> the shell might make some other portability issues a lot easier to deal
</I>&gt;<i> with. Beyond that, I don't think anyone imagines that MBuild will be
</I>&gt;<i> running on Vax machines any time soon.
</I>
Well, I'm the first to hope mono will be ported to a dozen architectures
(and most of the portability issues are solved, with the x86, ppc and
itanium ports), but still, each port requires some effort and
maintainance... so you'd limit the potential users of your tool
somewhat.

&gt;<i> I am totally aware of this. I'm not sure how to approach this problem.
</I>&gt;<i> Initially, I wrote a small Lisp interpreter and tried to express all the
</I>&gt;<i> build rules through it; it's a cute idea, since build rules are more or
</I>&gt;<i> less functional, but the syntax would scare a lot of people and I want
</I>&gt;<i> to be able to compile rules into assemblies ... writing a Lisp -&gt; IL
</I>&gt;<i> compiler is not my idea of a good way to get things moving :-)
</I>
That level of extensibility also makes automatic dependency tracking
more difficult, since user code could add dependencies that are hidden
to the build tool.

&gt;<i> bind to preexisting rules, I think it could make a workable solution. I
</I>&gt;<i> know that there will be at least two major subsystems: something for
</I>&gt;<i> executing external programs, and another for processing text files a la
</I>&gt;<i> grep, sed, cat, etc. With the right hooks, I think the majority of
</I>&gt;<i> custom build rules could be implemented fairly easily.
</I>&gt;<i> 
</I>&gt;<i> The other ideas that I can see are either inventing a small procedural
</I>&gt;<i> scripting language or using some kind of CodeBehind system. Once I write
</I>
I think either a lisp syntax or a 'small' language are not going to cut it.
Maybe someone should have a look at how much work it is to port a simple
bourne shell like ash to C# (with the useful utilities built in a la
busybox): it might make for another language that runs on mono even if
it's not used in mbuild;-)

Thanks.
lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003474.html">[Mono-devel-list] ANNOUNCE: mono build tool demo
</A></li>
	<LI>Next message: <A HREF="003458.html">[Mono-devel-list] ANNOUNCE: mono build tool demo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3477">[ date ]</a>
              <a href="thread.html#3477">[ thread ]</a>
              <a href="subject.html#3477">[ subject ]</a>
              <a href="author.html#3477">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
