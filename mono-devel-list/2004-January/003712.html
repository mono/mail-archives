<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] How to find out the source of NullReferenceException?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20How%20to%20find%20out%20the%20source%20of%20NullReferenceException%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003711.html">
   <LINK REL="Next"  HREF="003713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] How to find out the source of NullReferenceException?</H1>
    <B>Ivan Dubrov</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20How%20to%20find%20out%20the%20source%20of%20NullReferenceException%3F&In-Reply-To="
       TITLE="[Mono-devel-list] How to find out the source of NullReferenceException?">WFrag at yandex.ru
       </A><BR>
    <I>Wed Jan 21 07:42:39 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003711.html">[Mono-devel-list] [PATCH] fix for bug 53117
</A></li>
        <LI>Next message: <A HREF="003713.html">[Mono-devel-list] SRE generated assembly aborts the mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3712">[ date ]</a>
              <a href="thread.html#3712">[ thread ]</a>
              <a href="subject.html#3712">[ subject ]</a>
              <a href="author.html#3712">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!

I've got a code which uses GTK#. This code works nicely under Linux 
(even without any recompilation - just the same binary I've compiled 
with MS .NET), but under Windows both Mono and MS.NET give the same 
exception, here the output from Mono:

Unhandled Exception: System.NullReferenceException: A null value was 
found where an object instance was required
in (unmanaged) (wrapper managed-to-native) 
Gtk.Widget:gtk_widget_show_all (intptr)
in &lt;0x00004&gt; (wrapper managed-to-native) Gtk.Widget:gtk_widget_show_all 
(intptr)
in &lt;0x0001b&gt; Gtk.Widget:ShowAll ()
in &lt;0x00374&gt; GtkSamples.TreeViewDemo:Main (string[])

The problem is gtk_widget_show_all is native function, exported from the 
.dll. So, the question is how to find the source of this exception? 
MonoDebugger doesn't work under Windows (it refused to compile under 
Cygwin). MS debugger doesn't allow to find the source (it doesn't allow 
to enter in native functions, even in the disassembler mode). So, why I 
am asking here? I have a hope that Mono contains some keys (--verbose 
and --trace=all doesn't give me any idea about the source of exception) 
or configuration parameters that could help in this hard task of finding 
the source of evil :)

Any ideas would be appreciated.

P.S. I've included the problem sourcecode in the attachment.
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Test.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040121/639e6b43/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040121/639e6b43/attachment.pl</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003711.html">[Mono-devel-list] [PATCH] fix for bug 53117
</A></li>
	<LI>Next message: <A HREF="003713.html">[Mono-devel-list] SRE generated assembly aborts the mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3712">[ date ]</a>
              <a href="thread.html#3712">[ thread ]</a>
              <a href="subject.html#3712">[ subject ]</a>
              <a href="author.html#3712">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
