<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Corlib test cases
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Corlib%20test%20cases&In-Reply-To=20040124092950.GC13234%40ox.compsoc.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003759.html">
   <LINK REL="Next"  HREF="003736.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Corlib test cases</H1>
    <B>David Sheldon</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Corlib%20test%20cases&In-Reply-To=20040124092950.GC13234%40ox.compsoc.net"
       TITLE="[Mono-devel-list] Corlib test cases">dave-monolist at earth.li
       </A><BR>
    <I>Sat Jan 24 09:08:48 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003759.html">[Mono-devel-list] Corlib test cases
</A></li>
        <LI>Next message: <A HREF="003736.html">[Mono-devel-list] corlib runtime versioning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3762">[ date ]</a>
              <a href="thread.html#3762">[ thread ]</a>
              <a href="subject.html#3762">[ subject ]</a>
              <a href="author.html#3762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Jan 24, 2004 at 09:29:50AM +0000, David Sheldon wrote:
&gt;<i> On Thu, Jan 22, 2004 at 11:43:31PM +0000, David Sheldon wrote:
</I>&gt;<i> &gt; I have been trying to assign bug numbers to the tests that I can see
</I>&gt;<i> &gt; failing. 
</I>&gt;<i> 
</I>&gt;<i> Another 10,
</I>
20 this time, as a lot of them appear to be duplicated.


&gt;<i> 30) MonoTests.System.IO.FileTest.MoveException9 : Expected: IOException but was ArgumentException
</I>&gt;<i>                           
</I>&gt;<i> in [0x000bf] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/System.IO/File.cs:232) System.IO.File:Move (string,string)
</I>&gt;<i> in [0x0004b] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileTest.cs:386) MonoTests.System.IO.FileTest:MoveException9 ()
</I>

Interestingly, I would have said that this test was a case where &quot;the source
and destination are the same.&quot;, which is stated in the msdn docs to not throw
an exception, yet it does on MS.NET. I guess they are the same file, but not 
the same string.


<A HREF="http://bugs.ximian.com/show_bug.cgi?id=53290">http://bugs.ximian.com/show_bug.cgi?id=53290</A>

                          
&gt;<i> 31) MonoTests.System.IO.FileTest.CreationTime : test#01 
</I>&gt;<i> 	expected:&lt;2002&gt;
</I>&gt;<i> 	 but was:&lt;2004&gt;
</I>&gt;<i>                           
</I>&gt;<i> in [0x0006f] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileTest.cs:621) MonoTests.System.IO.FileTest:CreationTime ()
</I>
Unix doesn't support CreationTime.

&gt;<i> 32) MonoTests.System.IO.FileTest.FileStreamCloseException : IOException was expected
</I>  
The same Unix idiom difference as number 29. 

&gt;<i> 33) MonoTests.System.IO.FileTest.SetCreationTimeIOException1 : Expected: IOException but was ArgumentOutOfRangeException
</I>                          
in [0x00026] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/System/DateTime.cs:1058) System.DateTime:ToFileTime ()
in [0x0001e] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/System.IO/File.cs:296) System.IO.File:SetCreationTime (string,System.DateTime)
in [0x00047] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileTest.cs:1071) MonoTests.System.IO.FileTest:SetCreationTimeIOException1 ()

Same as above. Windows locks files down completely.  I am really not convinced
that we should be duplicating this behaviour. Are we trying to duplicate Windows, 
or just a runtime?

&gt;<i> 34) MonoTests.System.IO.FileTest.SetCreationTimeUtcIOException1 : Expected: IOException but was ArgumentOutOfRangeException
</I>[snip]
&gt;<i> in [0x00047] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileTest.cs:1144) MonoTests.System.IO.FileTest:SetCreationTimeUtcIOException1 ()
</I>                          
&gt;<i> 35) MonoTests.System.IO.FileTest.SetLastAccessTimeIOException1 : Expected: IOException but was ArgumentOutOfRangeException
</I>&gt;<i> [snip]                          
</I>&gt;<i> in [0x00047] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileTest.cs:1219) MonoTests.System.IO.FileTest:SetLastAccessTimeIOException1 ()
</I>&gt;<i>                           
</I>&gt;<i> 36) MonoTests.System.IO.FileTest.SetLastAccessTimeUtcIOException1 : Expected: IOException but was ArgumentOutOfRangeException
</I>&gt;<i> [snip]                          
</I>&gt;<i> in [0x00047] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileTest.cs:1292) MonoTests.System.IO.FileTest:SetLastAccessTimeUtcIOException1 ()
</I>                          
&gt;<i> 37) MonoTests.System.IO.FileTest.SetLastWriteTimeIOException1 : Expected: IOException but was ArgumentOutOfRangeException
</I>&gt;<i> [snip]
</I>&gt;<i> in [0x00047] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileTest.cs:1367) MonoTests.System.IO.FileTest:SetLastWriteTimeIOException1 ()
</I>&gt;<i>                           
</I>&gt;<i> 38) MonoTests.System.IO.FileTest.SetLastWriteTimeUtcIOException1 : Expected: IOException but was ArgumentOutOfRangeException
</I>[snip]                           
&gt;<i> in [0x00047] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileTest.cs:1440) MonoTests.System.IO.FileTest:SetLastWriteTimeUtcIOException1 ()
</I>
More of the same.

&gt;<i> 39) MonoTests.System.MathTest.TestAtan : 1.570796326794897 != 1.570796326794897
</I>&gt;<i>                       
</I>&gt;<i> in [0x000d8] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System/MathTest.cs:158) MonoTests.System.MathTest:TestAtan ()
</I>&gt;<i> 
</I>&gt;<i> 40) MonoTests.System.MathTest.TestSinh : 0.12371341868561378 != 0.12371341868561378
</I>&gt;<i>                       
</I>&gt;<i> in [0x0004d] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System/MathTest.cs:247) MonoTests.System.MathTest:TestSinh ()
</I> 
These appear to be problems in accuracy. The value of double.Epsilon seems to
be insufficient, as the values are out by about 6E-17, whereas double.Epsilon
is 5E-324. Is Epsilon being used incorrectly? 

&gt;<i> 41) MonoTests.System.Reflection.Emit.AssemblyBuilderTest.TestGetFiles1 : NotSupportedException was expected
</I>
Added an override for GetFiles() that throws the exception.

&gt;<i> 42) MonoTests.System.Reflection.Emit.AssemblyBuilderTest.TestSetCustomAttribute : System.IO.FileNotFoundException : Could not find file &quot;foo&quot;
</I>&gt;<i>                               
</I>&gt;<i> in [0x0013e] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/System.IO/FileStream.cs:130) System.IO.FileStream:.ctor (string,System.IO.FileMode,System.IO.FileAccess,System.IO.FileShare,int,bool)
</I>&gt;<i> in [0x00018] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/System.IO/FileStream.cs:68) System.IO.FileStream:.ctor (string,System.IO.FileMode)
</I>&gt;<i> in &lt;0x00065&gt; (wrapper remoting-invoke-with-check) System.IO.FileStream:.ctor (string,System.IO.FileMode)
</I>&gt;<i> in [0x00072] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/System.Reflection.Emit/AssemblyBuilder.cs:609) System.Reflection.Emit.AssemblyBuilder:SetCustomAttribute (System.Reflection.Emit.CustomAttributeBuilder)
</I>&gt;<i> in [0x00081] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.Reflection.Emit/AssemblyBuilderTest.cs:402) MonoTests.System.Reflection.Emit.AssemblyBuilderTest:TestSetCustomAttribute ()
</I>

<A HREF="http://bugs.ximian.com/show_bug.cgi?id=53292">http://bugs.ximian.com/show_bug.cgi?id=53292</A>

43-46) - These were test cases requiring Test/resources/ to be resources/ when
they were run. I was running the tests from make run-test, and they were not
being found. Maybe the code should be more inteligent about finding them, or
just be written to work from where the makefile will run them.

                          
&gt;<i> 47) MonoTests.System.Runtime.Remoting.SoapServicesTest.TestGetXmlType : E7 
</I>&gt;<i> 	String lengths differ.  Expected length=86, but was length=159.
</I>&gt;<i> 	Strings differ at index 86.
</I>&gt;<i> 	
</I>&gt;<i> 	expected:&lt;&quot;...System.Runtime.Remoting/corlib_test&quot;&gt;
</I>&gt;<i> 	 but was:&lt;&quot;...System.Runtime.Remoting/corlib_test%2C%20Version%3D0.0.0.0%2C%20Cultur...&quot;&gt;
</I>&gt;<i> 	------------------------------------------------^
</I>&gt;<i> 	
</I>&gt;<i>                               
</I>&gt;<i> in [0x0009c] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.Runtime.Remoting/SoapServicesTest.cs:103) MonoTests.System.Runtime.Remoting.SoapServicesTest:TestGetXmlType ()
</I> 

<A HREF="http://bugs.ximian.com/show_bug.cgi?id=53294">http://bugs.ximian.com/show_bug.cgi?id=53294</A>

I have suggested a patch to this. Will it break anything major? (on the bug)

&gt;<i> 48) MonoTests.System.Runtime.Remoting.SoapServicesTest.TestGetInteropType : T1 
</I>&gt;<i> 	expected:&lt;MonoTests.System.Runtime.Remoting.SoapTest2&gt;
</I>&gt;<i> 	 but was:&lt;(null)&gt;
</I>&gt;<i>                               
</I>&gt;<i> in [0x000e4] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.Runtime.Remoting/SoapServicesTest.cs:158) MonoTests.System.Runtime.Remoting.SoapServicesTest:TestGetInteropType ()
</I>
                              
&gt;<i> 49) MonoTests.System.Runtime.Remoting.SoapServicesTest.TestSoapFields : #1 
</I>&gt;<i> 	expected:&lt;&quot;atribut&quot;&gt;
</I>&gt;<i> 	 but was:&lt;(null)&gt;
</I>&gt;<i>                               
</I>&gt;<i> in [0x00028] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.Runtime.Remoting/SoapServicesTest.cs:181) MonoTests.System.Runtime.Remoting.SoapServicesTest:TestSoapFields ()
</I>
I think these were also fixed by: <A HREF="http://bugs.ximian.com/show_bug.cgi?id=53294">http://bugs.ximian.com/show_bug.cgi?id=53294</A>


-- 
[ Gorman orders the troops to unload all their 
weapons before the first alien encounter. ]
Frost: What the hell are we supposed to use, man? Harsh language?

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003759.html">[Mono-devel-list] Corlib test cases
</A></li>
	<LI>Next message: <A HREF="003736.html">[Mono-devel-list] corlib runtime versioning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3762">[ date ]</a>
              <a href="thread.html#3762">[ thread ]</a>
              <a href="subject.html#3762">[ subject ]</a>
              <a href="author.html#3762">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
