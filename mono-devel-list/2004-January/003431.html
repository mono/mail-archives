<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> exceptions performance (Re: [Mono-devel-list] JIT profiling/benchmarking)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=exceptions%20performance%20%28Re%3A%20%5BMono-devel-list%5D%20JIT%20profiling/benchmarking%29&In-Reply-To=20040103214049.GA946%40roke.freak">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003430.html">
   <LINK REL="Next"  HREF="003432.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>exceptions performance (Re: [Mono-devel-list] JIT profiling/benchmarking)</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=exceptions%20performance%20%28Re%3A%20%5BMono-devel-list%5D%20JIT%20profiling/benchmarking%29&In-Reply-To=20040103214049.GA946%40roke.freak"
       TITLE="exceptions performance (Re: [Mono-devel-list] JIT profiling/benchmarking)">lupus at ximian.com
       </A><BR>
    <I>Sat Jan  3 17:37:29 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003430.html">exceptions performance (Re: [Mono-devel-list] JIT profiling/benchmarking)
</A></li>
        <LI>Next message: <A HREF="003432.html">exceptions performance (Re: [Mono-devel-list] JIT profiling/benchmarking)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3431">[ date ]</a>
              <a href="thread.html#3431">[ thread ]</a>
              <a href="subject.html#3431">[ subject ]</a>
              <a href="author.html#3431">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/03/04 Michal Moskal wrote:
&gt;<i> It is quite common for (at least some) functional languages to use
</I>&gt;<i> exceptions for ordinary control flow. Now when writing compiler for such
</I>&gt;<i> a language, do I need to invent my own exception handling techniques?
</I>&gt;<i> (for example some exceptions will never go out one function and it can be
</I>&gt;<i> determined statically, so it can be replaced with goto).
</I>&gt;<i> 
</I>&gt;<i> How fast (slow?) are exceptions?
</I>
The only way to know is to write a test case that reproduces what you'd
use exceptiosn for and benchmark it.
Exception throw/catch has not been optimized in mono afaik: it's
possible there are some low hanging optimizations tricks we could use if
the performance of exception handling becomes an issue in some setup,
liek the one you describe.
Anyway, we're interested in seeing benchmarks: once you see the numbers
you may also decide if the performance is good enough or if it needs
hacking.

&gt;<i> I also heard about delegates being 20x slower when invoking and creating
</I>&gt;<i> then creating objects and invoking methods (*). But that was about .NET 1.0 (or
</I>
Care to create a little benchmark with the two different ways to do it?
I'm not sure what kind of usage you mean exactly, but creating a
delegate is slightly more time consuming than creating a simple object
and so it a delegate call vs a simple method (interface) call, but the
overhead should be much lower than 20x.
In my tests calls through a delegate are 2-2.5x (for an empty method)
slower than interface calls. I didn't measure delegate creating time,
though: again, you might want to write a benchmark that does what you
want and post it to the list, so we can run it and see if we can make
improvements to the run time.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003430.html">exceptions performance (Re: [Mono-devel-list] JIT profiling/benchmarking)
</A></li>
	<LI>Next message: <A HREF="003432.html">exceptions performance (Re: [Mono-devel-list] JIT profiling/benchmarking)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3431">[ date ]</a>
              <a href="thread.html#3431">[ thread ]</a>
              <a href="subject.html#3431">[ subject ]</a>
              <a href="author.html#3431">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
