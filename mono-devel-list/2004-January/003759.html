<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Corlib test cases
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Corlib%20test%20cases&In-Reply-To=20040122234331.GP31772%40ox.compsoc.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003774.html">
   <LINK REL="Next"  HREF="003762.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Corlib test cases</H1>
    <B>David Sheldon</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Corlib%20test%20cases&In-Reply-To=20040122234331.GP31772%40ox.compsoc.net"
       TITLE="[Mono-devel-list] Corlib test cases">dave-monolist at earth.li
       </A><BR>
    <I>Sat Jan 24 04:29:50 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003774.html">[Mono-devel-list] Corlib test cases
</A></li>
        <LI>Next message: <A HREF="003762.html">[Mono-devel-list] Corlib test cases
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3759">[ date ]</a>
              <a href="thread.html#3759">[ thread ]</a>
              <a href="subject.html#3759">[ subject ]</a>
              <a href="author.html#3759">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jan 22, 2004 at 11:43:31PM +0000, David Sheldon wrote:
&gt;<i> I have been trying to assign bug numbers to the tests that I can see
</I>&gt;<i> failing. 
</I>
Another 10, this seems to be a reasonably manageable number to include
at a time. This is a batch of file system bugs. Is there a simple way of
only having some tests run on Windows? Is this something we would want
to do for the CreationTime ones for example?


&gt;<i> 20) MonoTests.System.IO.FileStreamTest.CtorDirectoryNotFoundException : Expected: DirectoryNotFoundException but was FileNotFoundException
</I>&gt;<i>                           
</I>&gt;<i> in [0x0013e] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/System.IO/FileStream.cs:130) System.IO.FileStream:.ctor (string,System.IO.FileMode,System.IO.FileAccess,System.IO.FileShare,int,bool)
</I>&gt;<i> in [0x00018] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/System.IO/FileStream.cs:68) System.IO.FileStream:.ctor (string,System.IO.FileMode)
</I>&gt;<i> in &lt;0x00065&gt; (wrapper remoting-invoke-with-check) System.IO.FileStream:.ctor (string,System.IO.FileMode)
</I>&gt;<i> in [0x00031] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileStreamTest.cs:171) MonoTests.System.IO.FileStreamTest:CtorDirectoryNotFoundException ()
</I>
Reported as <A HREF="http://bugs.ximian.com/show_bug.cgi?id=53236">http://bugs.ximian.com/show_bug.cgi?id=53236</A>


&gt;<i> 21) MonoTests.System.IO.FileStreamTest.CtorArgumentOutOfRangeException4 : Expected: ArgumentOutOfRangeException but was ArgumentException
</I>
Fixed.  This wasn't thrown because we test for the other exception first. I
have altered the test case to only test the relevent parameter.

&gt;<i> 22) MonoTests.System.IO.FileStreamTest.CtorIOException : IOException was expected
</I>
<A HREF="http://bugs.ximian.com/show_bug.cgi?id=53289">http://bugs.ximian.com/show_bug.cgi?id=53289</A> - FileStream with
FileMode.CreateNew does not object if the file already exists

&gt;<i> 23) MonoTests.System.IO.FileStreamTest.TestLock : System.NotImplementedException : The requested feature is not yet implemented
</I>&gt;<i>                           
</I>&gt;<i> in [0x00005] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/System.IO/FileStream.cs:482) System.IO.FileStream:Lock (long,long)
</I>&gt;<i> in [0x00063] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileStreamTest.cs:472) MonoTests.System.IO.FileStreamTest:TestLock ()
</I>
<A HREF="http://bugs.ximian.com/show_bug.cgi?id=53288">http://bugs.ximian.com/show_bug.cgi?id=53288</A> - File locking not implemented


&gt;<i> 24) MonoTests.System.IO.FileSystemInfoTest.CreationTimeFile : test#01 
</I>&gt;<i> 	expected:&lt;1999&gt;
</I>&gt;<i> 	 but was:&lt;2004&gt;
</I>&gt;<i>                           
</I>&gt;<i> in [0x0005f] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileSystemInfoTest.cs:62) MonoTests.System.IO.FileSystemInfoTest:CreationTimeFile ()
</I>
&gt;<i> 25) MonoTests.System.IO.FileSystemInfoTest.CreationTimeDirectory : test#01 
</I>&gt;<i> 	expected:&lt;1999&gt;
</I>&gt;<i> 	 but was:&lt;2004&gt;
</I>&gt;<i>                           
</I>&gt;<i> in [0x00054] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileSystemInfoTest.cs:111) MonoTests.System.IO.FileSystemInfoTest:CreationTimeDirectory ()
</I>
Creation time is not supported on Unix filesystems. 


&gt;<i> 26) MonoTests.System.IO.FileSystemInfoTest.CreationTimeNoFileOrDirectory : test#04 
</I>&gt;<i> 	expected:&lt;9&gt;
</I>&gt;<i> 	 but was:&lt;0&gt;
</I>&gt;<i>                           
</I>&gt;<i> in [0x00075] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileSystemInfoTest.cs:152) MonoTests.System.IO.FileSystemInfoTest:CreationTimeNoFileOrDirectory ()
</I>
&gt;<i> 27) MonoTests.System.IO.FileSystemInfoTest.DefaultLastAccessTime : test#04 
</I>&gt;<i> 	expected:&lt;9&gt;
</I>&gt;<i> 	 but was:&lt;0&gt;
</I>&gt;<i>                           
</I>&gt;<i> in [0x0006e] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileSystemInfoTest.cs:201) MonoTests.System.IO.FileSystemInfoTest:DefaultLastAccessTime ()
</I>&gt;<i> in (unmanaged) /usr/local/lib/libmono.so.0 [0x40034b13]
</I>&gt;<i> 
</I>&gt;<i> 28) MonoTests.System.IO.FileSystemInfoTest.DefaultLastWriteTime : test#04 
</I>&gt;<i> 	expected:&lt;9&gt;
</I>&gt;<i> 	 but was:&lt;0&gt;
</I>&gt;<i>                           
</I>&gt;<i> in [0x0006e] (at /home/sheldon/hacking/mono/raw_cvs/mcs/class/corlib/Test/System.IO/FileSystemInfoTest.cs:267) MonoTests.System.IO.FileSystemInfoTest:DefaultLastWriteTime ()
</I>
I think these are a bug in the tests. Here, the DefaultLastAccessTime is

 01/01/1601 00:00:00 

on MS.NET, however I suspect that is to do with me being in Britain, rather
than, say the West cost of the US. 

The tests should make sure the time is in the correct timezone before comparing them.

&gt;<i> 29) MonoTests.System.IO.FileTest.DeleteOpenStreamException : IOException was expected
</I>  
This is a semantic difference between how Unix and Windows work at the
filesystem level. There are several programming idioms on Unix that involve
creating a file, opening it and then deleting it. Do we want to lose this idiom 
in order to be compatible here?


-- 
 &quot;The nice thing about being a virus author is that you don't have to
             give technical support.&quot; - Dr. Alan Solomon.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003774.html">[Mono-devel-list] Corlib test cases
</A></li>
	<LI>Next message: <A HREF="003762.html">[Mono-devel-list] Corlib test cases
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3759">[ date ]</a>
              <a href="thread.html#3759">[ thread ]</a>
              <a href="subject.html#3759">[ subject ]</a>
              <a href="author.html#3759">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
