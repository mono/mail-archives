<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] embedding mono in the main thread
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20embedding%20mono%20in%20the%20main%20thread&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003633.html">
   <LINK REL="Next"  HREF="003653.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] embedding mono in the main thread</H1>
    <B>Bernie Solomon</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20embedding%20mono%20in%20the%20main%20thread&In-Reply-To="
       TITLE="[Mono-devel-list] embedding mono in the main thread">bernard at ugsolutions.com
       </A><BR>
    <I>Thu Jan 15 18:47:09 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003633.html">[Mono-devel-list] embedding mono in the main thread
</A></li>
        <LI>Next message: <A HREF="003653.html">[Mono-devel-list] Segmentation Fault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3634">[ date ]</a>
              <a href="thread.html#3634">[ thread ]</a>
              <a href="subject.html#3634">[ subject ]</a>
              <a href="author.html#3634">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm interested in the answer to this too. libgc by itself presumably must be
able to cope otherwise it would be hard to use (e.g. for leak detection in C
programs) but currently I don't know enough to know whether this is
configuration dependent. And if it is does mono's match the required one.
Also whether any of mono's modifications to the GC invalidates this. The MS
runtime does stay in the same thread when you host it as I believe does a
typical JVM so it can be done - question is what does it take to work with
mono?

Bernie
----- Original Message ----- 
From: &quot;Dave Camp&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">dave at ximian.com</A>&gt;
To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at ximian.com</A>&gt;
Sent: Thursday, January 15, 2004 2:00 PM
Subject: [Mono-devel-list] embedding mono in the main thread


&gt;<i> I'm working on a nautilus extension that loads mono.  Nautilus
</I>&gt;<i> extensions are called in the main thread, so I'd like to run the mono
</I>&gt;<i> code in the main thread.
</I>&gt;<i>
</I>&gt;<i> Miguel tells me that it's ok to run from the main thread (which is not
</I>&gt;<i> created with the #include-before-pthread trick) as long as all
</I>&gt;<i> references to mono objects are stored on the heap.  But libmono seems to
</I>&gt;<i> keep references on the stack (usually only temporarily, but presumably
</I>&gt;<i> the gc can run in a different thread at some point).
</I>&gt;<i>
</I>&gt;<i> Is it reasonable to try embedding mono in the main thread?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> -dave
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003633.html">[Mono-devel-list] embedding mono in the main thread
</A></li>
	<LI>Next message: <A HREF="003653.html">[Mono-devel-list] Segmentation Fault
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3634">[ date ]</a>
              <a href="thread.html#3634">[ thread ]</a>
              <a href="subject.html#3634">[ subject ]</a>
              <a href="author.html#3634">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
