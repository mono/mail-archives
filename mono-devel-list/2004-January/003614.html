<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] XmlNode.InsertBefore ,XmlNode.Appendchild and XmlNode.ReplaceChild should raise System.ArgumentException exception if the node to be put is one of this node's ancestors.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20XmlNode.InsertBefore%0A%20%2CXmlNode.Appendchild%20and%20XmlNode.ReplaceChild%20should%20raise%0A%20System.ArgumentException%20exception%20if%20the%20node%20to%20be%20put%20is%20one%20of%20this%20node%27s%0A%20ancestors.&In-Reply-To=40063EFA.8010803%40mainsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003613.html">
   <LINK REL="Next"  HREF="003616.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] XmlNode.InsertBefore ,XmlNode.Appendchild and XmlNode.ReplaceChild should raise System.ArgumentException exception if the node to be put is one of this node's ancestors.</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20XmlNode.InsertBefore%0A%20%2CXmlNode.Appendchild%20and%20XmlNode.ReplaceChild%20should%20raise%0A%20System.ArgumentException%20exception%20if%20the%20node%20to%20be%20put%20is%20one%20of%20this%20node%27s%0A%20ancestors.&In-Reply-To=40063EFA.8010803%40mainsoft.com"
       TITLE="[Mono-devel-list] [PATCH] XmlNode.InsertBefore ,XmlNode.Appendchild and XmlNode.ReplaceChild should raise System.ArgumentException exception if the node to be put is one of this node's ancestors.">atsushi at ximian.com
       </A><BR>
    <I>Thu Jan 15 04:06:09 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003613.html">[Mono-devel-list] [PATCH] XmlNode.InsertBefore ,XmlNode.Appendchild and XmlNode.ReplaceChild should raise System.ArgumentException exception if the node to be put is one of this node's ancestors.
</A></li>
        <LI>Next message: <A HREF="003616.html">[Mono-devel-list] Regular expression problem with characters '{' and '}'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3614">[ date ]</a>
              <a href="thread.html#3614">[ thread ]</a>
              <a href="subject.html#3614">[ subject ]</a>
              <a href="author.html#3614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes you're absolutely right. It should raise HIERARCHY_REQUEST_ERR.
Thanks for nice patch again! Am going to commit.

(Maybe in the near future we might want to skip this procedure when it 
never occurs apparently e.g. on reading xml from XmlReader.)

Atsushi Eno

Boris Kirzner wrote:
&gt;<i> Description of Problem:
</I>&gt;<i> XmlNode.InsertBefore ,XmlNode.AppendChild and XmlNode.ReplaceChild 
</I>&gt;<i> should raise System.ArgumentException exception if the node to be put is 
</I>&gt;<i> one of this node's ancestors.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Steps to reproduce the problem :
</I>&gt;<i> 1. Create XML file.
</I>&gt;<i> 2. Load XML document into XmlDocument.
</I>&gt;<i> 3. Try to insert/append/replace node child with one of the node's 
</I>&gt;<i> ancestors.
</I>&gt;<i> 
</I>&gt;<i> Actual result :
</I>&gt;<i> InsertChild - Expected exception not catched
</I>&gt;<i> ReplaceChild - Exception catched : System.InvalidOperationException
</I>&gt;<i> AppendChild - Expected exception not catched
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Expected result :
</I>&gt;<i> InsertChild - Exception catched : System.ArgumentException
</I>&gt;<i> ReplaceChild - Exception catched : System.ArgumentException
</I>&gt;<i> AppendChild - Exception catched : System.ArgumentException
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Enclosed is a small test case and a patch.
</I>&gt;<i> 
</I>&gt;<i> Thank you in advance,
</I>&gt;<i> 
</I>&gt;<i> Boris Kirzner
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003613.html">[Mono-devel-list] [PATCH] XmlNode.InsertBefore ,XmlNode.Appendchild and XmlNode.ReplaceChild should raise System.ArgumentException exception if the node to be put is one of this node's ancestors.
</A></li>
	<LI>Next message: <A HREF="003616.html">[Mono-devel-list] Regular expression problem with characters '{' and '}'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3614">[ date ]</a>
              <a href="thread.html#3614">[ thread ]</a>
              <a href="subject.html#3614">[ subject ]</a>
              <a href="author.html#3614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
