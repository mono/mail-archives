<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: [PATCH]OracleClient handles non-ASCII characters in queries incorrectly.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20%5BPATCH%5DOracleClient%20handles%20non-ASCII%20characters%20in%20queries%20incorrectly.&In-Reply-To=joergr%40voelcker.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003827.html">
   <LINK REL="Next"  HREF="003834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: [PATCH]OracleClient handles non-ASCII characters in queries incorrectly.</H1>
    <B>tim at timcoleman.com</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20%5BPATCH%5DOracleClient%20handles%20non-ASCII%20characters%20in%20queries%20incorrectly.&In-Reply-To=joergr%40voelcker.com"
       TITLE="[Mono-devel-list] Re: [PATCH]OracleClient handles non-ASCII characters in queries incorrectly.">tim at timcoleman.com
       </A><BR>
    <I>Wed Jan 28 10:53:28 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003827.html">[Mono-devel-list] Re: System.Data.Common Classes
</A></li>
        <LI>Next message: <A HREF="003834.html">[Mono-devel-list] Code Access Security Latest!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3828">[ date ]</a>
              <a href="thread.html#3828">[ thread ]</a>
              <a href="subject.html#3828">[ subject ]</a>
              <a href="author.html#3828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have applied this patch in CVS.  Thanks.

Tim

&gt;<i> This is a multi-part message in MIME format.
</I>&gt;<i> 
</I>&gt;<i> ------_=_NextPart_001_01C3E428.1459D941
</I>&gt;<i> Content-Type: text/plain;
</I>&gt;<i> 	charset=&quot;iso-8859-1&quot;
</I>&gt;<i> Content-Transfer-Encoding: quoted-printable
</I>&gt;<i> 
</I>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> Queries containing non-ASCII characters are handled incorrectly by=20
</I>&gt;<i> System.Data.OracleClient. They result in strange Oracle error messages.
</I>&gt;<i> This behaviour is caused by incorrectly encoded query strings.
</I>&gt;<i> 
</I>&gt;<i> I've filed following bug for this problem:
</I>&gt;<i> <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=3D53332">http://bugzilla.ximian.com/show_bug.cgi?id=3D53332</A>
</I>&gt;<i> 
</I>&gt;<i> The attached patch should fix this. Additionally it introduces UTF8 as
</I>&gt;<i> connection encoding which is enabled on the client using:
</I>&gt;<i> 
</I>&gt;<i> 	NLS_LANG=3DAMERICAN_AMERICA.UTF8
</I>&gt;<i> 	export NLS_LAN
</I>&gt;<i> 
</I>&gt;<i> Are there any objections against the use of UTF8 in this case?
</I>&gt;<i> Can you please review this patch and commit if possible?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Joerg.
</I>&gt;<i> 
</I>&gt;<i> ------_=_NextPart_001_01C3E428.1459D941
</I>&gt;<i> Content-Type: application/octet-stream;
</I>&gt;<i> 	name=&quot;OracleEncoding.diff&quot;
</I>&gt;<i> Content-Transfer-Encoding: base64
</I>&gt;<i> Content-Description: OracleEncoding.diff
</I>&gt;<i> Content-Disposition: attachment;
</I>&gt;<i> 	filename=&quot;OracleEncoding.diff&quot;
</I>&gt;<i> 
</I>&gt;<i> PyBPcmFjbGVFbmNvZGluZy5kaWZmCkluZGV4OiBDaGFuZ2VMb2cKPT09PT09PT09PT09PT09PT09
</I>&gt;<i> PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpSQ1MgZmls
</I>&gt;<i> ZTogL21vbm8vbWNzL2NsYXNzL1N5c3RlbS5EYXRhLk9yYWNsZUNsaWVudC9DaGFuZ2VMb2csdgpy
</I>&gt;<i> ZXRyaWV2aW5nIHJldmlzaW9uIDEuMjQKZGlmZiAtdSAtcjEuMjQgQ2hhbmdlTG9nCi0tLSBDaGFu
</I>&gt;<i> Z2VMb2cJOSBKYW4gMjAwNCAxNDo1MjozOCAtMDAwMAkxLjI0CisrKyBDaGFuZ2VMb2cJMjYgSmFu
</I>&gt;<i> IDIwMDQgMTc6MDU6MDAgLTAwMDAKQEAgLTEsMyArMSwxNCBAQAorMjAwNC0wMS0yNiAgSm9lcmcg
</I>&gt;<i> Um9zZW5rcmFueiAgPGpvZXJnckB2b2VsY2tlci5jb20+CisKKwkqIFN5c3RlbS5EYXRhLk9yYWNs
</I>&gt;<i> ZUNsaWVudC5PY2kvT2NpQ2FsbHMuY3M6CisJCUNoYW5nZWQgYmluZGluZyBvZiBPY2lTdG10UHJl
</I>&gt;<i> cGFyZSBmcm9tIHN0cmluZyAKKwkJdG8gYnl0ZSBbXS4KKwkqIFN5c3RlbS5EYXRhLk9yYWNsZUNs
</I>&gt;<i> aWVudC5PY2kvT2NpRGVmaW5lSGFuZGxlLmNzOgorCQlDaGFyYWN0ZXIgdHlwZXMgYXJlIGNvbnZl
</I>&gt;<i> cnRlZCB1c2luZyBVVEY4IGVuY29kaW5nLgorCSogU3lzdGVtLkRhdGEuT3JhY2xlQ2xpZW50Lk9j
</I>&gt;<i> aS9PY2lTdGF0ZW1lbnRIYW5kbGUuY3M6CisJCVNRTCBzdGF0ZW1lbnQgdG8gYmUgcHJlcGFyZWQg
</I>&gt;<i> aXMgY29udmVydGVkIHRvIGJ5dGUKKwkJYXJyYXkgdXNpbmcgVVRGOCBlbmNvZGluZy4KKwkJCiAy
</I>&gt;<i> MDA0LTAxLTA5ICBKb2VyZyBSb3NlbmtyYW56ICA8am9lcmdyQHZvZWxja2VyLmNvbT4KIAogCSog
</I>&gt;<i> U3lzdGVtLkRhdGEuT3JhY2xlQ2xpZW50Lk9jaS9PY2lDYWxscy5jczoKSW5kZXg6IFN5c3RlbS5E
</I>&gt;<i> YXRhLk9yYWNsZUNsaWVudC5PY2kvT2NpQ2FsbHMuY3MKPT09PT09PT09PT09PT09PT09PT09PT09
</I>&gt;<i> PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpSQ1MgZmlsZTogL21v
</I>&gt;<i> bm8vbWNzL2NsYXNzL1N5c3RlbS5EYXRhLk9yYWNsZUNsaWVudC9TeXN0ZW0uRGF0YS5PcmFjbGVD
</I>&gt;<i> bGllbnQuT2NpL09jaUNhbGxzLmNzLHYKcmV0cmlldmluZyByZXZpc2lvbiAxLjEKZGlmZiAtdSAt
</I>&gt;<i> cjEuMSBPY2lDYWxscy5jcwotLS0gU3lzdGVtLkRhdGEuT3JhY2xlQ2xpZW50Lk9jaS9PY2lDYWxs
</I>&gt;<i> cy5jcwk5IEphbiAyMDA0IDE0OjUyOjM5IC0wMDAwCTEuMQorKysgU3lzdGVtLkRhdGEuT3JhY2xl
</I>&gt;<i> Q2xpZW50Lk9jaS9PY2lDYWxscy5jcwkyNiBKYW4gMjAwNCAxNzowNTowMSAtMDAwMApAQCAtMzE2
</I>&gt;<i> LDcgKzMxNiw3IEBACiAJCQlbRGxsSW1wb3J0ICgib2NpIildCiAJCQlpbnRlcm5hbCBzdGF0aWMg
</I>&gt;<i> ZXh0ZXJuIGludCBPQ0lTdG10UHJlcGFyZSAoSW50UHRyIHN0bXRocCwKIAkJCQlJbnRQdHIgZXJy
</I>&gt;<i> aHAsCi0JCQkJc3RyaW5nIHN0bXQsCisJCQkJYnl0ZSBbXSBzdG10LAogCQkJCVtNYXJzaGFsQXMg
</I>&gt;<i> KFVubWFuYWdlZFR5cGUuVTQpXSBpbnQgc3RtdF9sZW5ndGgsCiAJCQkJW01hcnNoYWxBcyAoVW5t
</I>&gt;<i> YW5hZ2VkVHlwZS5VNCldIE9jaVN0YXRlbWVudExhbmd1YWdlIGxhbmd1YWdlLAogCQkJCVtNYXJz
</I>&gt;<i> aGFsQXMgKFVubWFuYWdlZFR5cGUuVTQpXSBPY2lTdGF0ZW1lbnRNb2RlIG1vZGUpOwpAQCAtNzIw
</I>&gt;<i> LDEyICs3MjAsMTMgQEAKIAogCQlpbnRlcm5hbCBzdGF0aWMgaW50IE9DSVN0bXRQcmVwYXJlIChJ
</I>&gt;<i> bnRQdHIgc3RtdGhwLAogCQkJSW50UHRyIGVycmhwLAotCQkJc3RyaW5nIHN0bXQsCisJCQlieXRl
</I>&gt;<i> IFtdIHN0bXQsCiAJCQlpbnQgc3RtdF9sZW5ndGgsCiAJCQlPY2lTdGF0ZW1lbnRMYW5ndWFnZSBs
</I>&gt;<i> YW5ndWFnZSwKIAkJCU9jaVN0YXRlbWVudE1vZGUgbW9kZSkKIAkJewotCQkJVHJhY2UuV3JpdGVM
</I>&gt;<i> aW5lSWYodHJhY2VPY2ksIHN0cmluZy5Gb3JtYXQoIk9DSVN0bXRQcmVwYXJlICh7MH0pIiwgc3Rt
</I>&gt;<i> dCksICJPQ0kiKTsKKwkJCVRyYWNlLldyaXRlTGluZUlmKHRyYWNlT2NpLCBzdHJpbmcuRm9ybWF0
</I>&gt;<i> KCJPQ0lTdG10UHJlcGFyZSAoezB9KSIsIFN5c3RlbS5UZXh0LkVuY29kaW5nLlVURjguR2V0U3Ry
</I>&gt;<i> aW5nKHN0bXQpKSwgIk9DSSIpOworCQkJCiAJCQlyZXR1cm4gT2NpTmF0aXZlQ2FsbHMuT0NJU3Rt
</I>&gt;<i> dFByZXBhcmUgKHN0bXRocCwgZXJyaHAsIHN0bXQsIHN0bXRfbGVuZ3RoLCBsYW5ndWFnZSwgbW9k
</I>&gt;<i> ZSk7CiAJCX0KIApJbmRleDogU3lzdGVtLkRhdGEuT3JhY2xlQ2xpZW50Lk9jaS9PY2lEZWZpbmVI
</I>&gt;<i> YW5kbGUuY3MKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
</I>&gt;<i> PT09PT09PT09PT09PT09PT09PQpSQ1MgZmlsZTogL21vbm8vbWNzL2NsYXNzL1N5c3RlbS5EYXRh
</I>&gt;<i> Lk9yYWNsZUNsaWVudC9TeXN0ZW0uRGF0YS5PcmFjbGVDbGllbnQuT2NpL09jaURlZmluZUhhbmRs
</I>&gt;<i> ZS5jcyx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4xMApkaWZmIC11IC1yMS4xMCBPY2lEZWZpbmVI
</I>&gt;<i> YW5kbGUuY3MKLS0tIFN5c3RlbS5EYXRhLk9yYWNsZUNsaWVudC5PY2kvT2NpRGVmaW5lSGFuZGxl
</I>&gt;<i> LmNzCTkgSmFuIDIwMDQgMTQ6NTI6MzkgLTAwMDAJMS4xMAorKysgU3lzdGVtLkRhdGEuT3JhY2xl
</I>&gt;<i> Q2xpZW50Lk9jaS9PY2lEZWZpbmVIYW5kbGUuY3MJMjYgSmFuIDIwMDQgMTc6MDU6MDEgLTAwMDAK
</I>&gt;<i> QEAgLTIzMyw3ICsyMzMsNyBAQAogCQkJCWJ5dGUgW10gYnVmZmVyID0gbmV3IGJ5dGUgW1NpemVd
</I>&gt;<i> OwogCQkJCU1hcnNoYWwuQ29weSAoVmFsdWUsIGJ1ZmZlciwgMCwgU2l6ZSk7CiAKLQkJCQlyZXR1
</I>&gt;<i> cm4gRW5jb2RpbmcuRGVmYXVsdC5HZXRTdHJpbmcgKGJ1ZmZlcik7CisJCQkJcmV0dXJuIEVuY29k
</I>&gt;<i> aW5nLlVURjguR2V0U3RyaW5nIChidWZmZXIpOwogCiAJCQljYXNlIE9jaURhdGFUeXBlLkludGVn
</I>&gt;<i> ZXI6CiAJCQkJdG1wID0gTWFyc2hhbC5QdHJUb1N0cmluZ0Fuc2kgKFZhbHVlLCBTaXplKTsKSW5k
</I>&gt;<i> ZXg6IFN5c3RlbS5EYXRhLk9yYWNsZUNsaWVudC5PY2kvT2NpU3RhdGVtZW50SGFuZGxlLmNzCj09
</I>&gt;<i> PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
</I>&gt;<i> PT09PT09PT0KUkNTIGZpbGU6IC9tb25vL21jcy9jbGFzcy9TeXN0ZW0uRGF0YS5PcmFjbGVDbGll
</I>&gt;<i> bnQvU3lzdGVtLkRhdGEuT3JhY2xlQ2xpZW50Lk9jaS9PY2lTdGF0ZW1lbnRIYW5kbGUuY3Msdgpy
</I>&gt;<i> ZXRyaWV2aW5nIHJldmlzaW9uIDEuNwpkaWZmIC11IC1yMS43IE9jaVN0YXRlbWVudEhhbmRsZS5j
</I>&gt;<i> cwotLS0gU3lzdGVtLkRhdGEuT3JhY2xlQ2xpZW50Lk9jaS9PY2lTdGF0ZW1lbnRIYW5kbGUuY3MJ
</I>&gt;<i> OSBKYW4gMjAwNCAxNDo1MjozOSAtMDAwMAkxLjcKKysrIFN5c3RlbS5EYXRhLk9yYWNsZUNsaWVu
</I>&gt;<i> dC5PY2kvT2NpU3RhdGVtZW50SGFuZGxlLmNzCTI2IEphbiAyMDA0IDE3OjA1OjAxIC0wMDAwCkBA
</I>&gt;<i> IC0yMDksMTIgKzIwOSwxNSBAQAogCQkJCXRocm93IG5ldyBJbnZhbGlkT3BlcmF0aW9uRXhjZXB0
</I>&gt;<i> aW9uICgiU3RhdGVtZW50SGFuZGxlIGlzIGFscmVhZHkgZGlzcG9zZWQuIik7CiAJCQl9CiAKKwkJ
</I>&gt;<i> CWJ5dGUgW10gYnVmZmVyID0gU3lzdGVtLlRleHQuRW5jb2RpbmcuVVRGOC5HZXRCeXRlcyAoY29t
</I>&gt;<i> bWFuZFRleHQgKyAiXDAiKTsKKwogCQkJc3RhdHVzID0gT2NpQ2FsbHMuT0NJU3RtdFByZXBhcmUg
</I>&gt;<i> KHRoaXMsCiAJCQkJRXJyb3JIYW5kbGUsCi0JCQkJY29tbWFuZFRleHQsCi0JCQkJY29tbWFuZFRl
</I>&gt;<i> eHQuTGVuZ3RoLAorCQkJCWJ1ZmZlciwKKwkJCQlidWZmZXIuTGVuZ3RoLAogCQkJCU9jaVN0YXRl
</I>&gt;<i> bWVudExhbmd1YWdlLk5UViwKIAkJCQlPY2lTdGF0ZW1lbnRNb2RlLkRlZmF1bHQpOworCiAJCQlp
</I>&gt;<i> ZiAoc3RhdHVzICE9IDApIHsKIAkJCQlPY2lFcnJvckluZm8gaW5mbyA9IEVycm9ySGFuZGxlLkhh
</I>&gt;<i> bmRsZUVycm9yICgpOwogCQkJCXRocm93IG5ldyBPcmFjbGVFeGNlcHRpb24gKGluZm8uRXJyb3JD
</I>&gt;<i> b2RlLCBpbmZvLkVycm9yTWVzc2FnZSk7Cg==
</I>&gt;<i> 
</I>&gt;<i> ------_=_NextPart_001_01C3E428.1459D941--
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003827.html">[Mono-devel-list] Re: System.Data.Common Classes
</A></li>
	<LI>Next message: <A HREF="003834.html">[Mono-devel-list] Code Access Security Latest!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3828">[ date ]</a>
              <a href="thread.html#3828">[ thread ]</a>
              <a href="subject.html#3828">[ subject ]</a>
              <a href="author.html#3828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
