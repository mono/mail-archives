<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] exposing internalcalls
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20exposing%20internalcalls&In-Reply-To=1075086066.4651.4933.camel%40erandi.boston.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003770.html">
   <LINK REL="Next"  HREF="003686.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] exposing internalcalls</H1>
    <B>Vasco Lemoine</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20exposing%20internalcalls&In-Reply-To=1075086066.4651.4933.camel%40erandi.boston.ximian.com"
       TITLE="[Mono-devel-list] exposing internalcalls">vasco.lemoine at imtech.nl
       </A><BR>
    <I>Mon Jan 26 03:53:18 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="003770.html">[Mono-devel-list] exposing internalcalls
</A></li>
        <LI>Next message: <A HREF="003686.html">[Mono-devel-list] XML Schema patch for compliant Post compilation infoset
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3773">[ date ]</a>
              <a href="thread.html#3773">[ thread ]</a>
              <a href="subject.html#3773">[ subject ]</a>
              <a href="author.html#3773">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Miguel de Icaza wrote:

&gt;<i>Hello,
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>I want to use some homemade internalcalls. I've read the MonoEmbed
</I>&gt;&gt;<i>tutorial and it works fine. 
</I>&gt;&gt;<i>I would like to know if I can expose the internalcalls without starting
</I>&gt;&gt;<i>the runtime from within the c-code.
</I>&gt;&gt;<i>I've tried compiling the c-code into a .so but i end up with the
</I>&gt;&gt;<i>following.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>** (test.exe:23657): WARNING **: cant resolve internal call to
</I>&gt;&gt;<i>&quot;MyInternalcall::something()&quot; (tested without signature also)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Is there anyway of getting it to work.
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Can you describe the usage scenario you have in mind?  You have to
</I>&gt;<i>register the internal call at some point from C.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Miguel,

Thanx for your reply ( and al the cool software).
Anyway, what i'm trying todo is the following. The aim is to get some 
info from the /proc filesystem to mono land. I gues i could open just a 
file handle but i wan't to to see how to expand the mono framework. So 
i've made some c-code that gets some cpu-info from /proc end passes it 
to mono land in the form of a monostring using an internall call.
Now the code works fine when i start the mono runtime from the c-code 
and use add_internal_call()  and than mono_jit_exec( ) etc.
What i would like to know is is there a way of using the internal call 
without starting the mono runtime from c-code.
e.g. mono myassembly.exe and myassembly uses a internall call in the c-code.
Or is p/invoke the only way? can use p/invoke to register a 
internal-call and than use it?
The code i wan't to make is more a proof of concept than highly usable 
but what i have in mind  in the future  is controlling  some piece of 
hardware maybe a (soft/hard)realtime process in c-code that can be 
interfaceded by mono.

Thanx

-- 
Met vriendelijke groet,
Vasco Lemoine
Imtech ICT Technical Systems
Postbus 1608
3800 BP Amersfoort
Tel. +31 (0)33 454 33 33
Fax +31 (0)33 454 33 35
E-mail <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vasco.lemoine at imtech.nl</A>
Site www.imtechict.nl



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003770.html">[Mono-devel-list] exposing internalcalls
</A></li>
	<LI>Next message: <A HREF="003686.html">[Mono-devel-list] XML Schema patch for compliant Post compilation infoset
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3773">[ date ]</a>
              <a href="thread.html#3773">[ thread ]</a>
              <a href="subject.html#3773">[ subject ]</a>
              <a href="author.html#3773">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
