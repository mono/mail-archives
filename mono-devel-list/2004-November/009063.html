<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] SSAPRE: this time it's for real ;-)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SSAPRE%3A%20this%20time%20it%27s%20for%20real%20%3B-%29&In-Reply-To=1101423204.4393.68.camel%40matrix">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009060.html">
   <LINK REL="Next"  HREF="009066.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] SSAPRE: this time it's for real ;-)</H1>
    <B>Willibald Krenn</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SSAPRE%3A%20this%20time%20it%27s%20for%20real%20%3B-%29&In-Reply-To=1101423204.4393.68.camel%40matrix"
       TITLE="[Mono-devel-list] SSAPRE: this time it's for real ;-)">Willibald.Krenn at gmx.at
       </A><BR>
    <I>Thu Nov 25 18:56:32 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009060.html">[Mono-devel-list] SSAPRE: this time it's for real ;-)
</A></li>
        <LI>Next message: <A HREF="009066.html">[Mono-devel-list] SSAPRE: this time it's for real ;-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9063">[ date ]</a>
              <a href="thread.html#9063">[ thread ]</a>
              <a href="subject.html#9063">[ subject ]</a>
              <a href="author.html#9063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Massimiliano Mantione schrieb:
&gt;&gt;<i> Does that mean computing SSA is considered to be 
</I>&gt;&gt;<i>too much overhead?
</I>&gt;<i> I think the general feeling now is that SSA based optimizations
</I>&gt;<i> are more for AOT compilation (and in fact they are not turned on
</I>&gt;<i> by default).
</I>&gt;<i> Or, when we'll have on line profiling, we could recompile methods
</I>&gt;<i> which are &quot;hot&quot; with more aggressive optimizations (there is work
</I>&gt;<i> in that direction... that was just *my* todo list!).
</I>
Who is working on that, if I may ask? The reason is that I'm just 
preparing to do something in that area too.. But then again, I'll try to 
combine this with a custom (AMD64) backend - so I'm not really sure how 
this will fit into Novell's plans...
Albeit, I could probably help in doing some basic work for online 
profiling as this should also benefit my own 'try'..

Is there some information available describing what you plan to do rsp. 
what has to be done in terms of changes to the basic mono-system?

&gt;&gt;<i> &gt;- Copy propagation (without SSA).
</I>&gt;&gt;<i> &gt;- Dead code elimination (without SSA).
</I>&gt;&gt;<i>[...]
</I>&gt;&gt;<i>I was under the impression that these optimizations are already included 
</I>&gt;&gt;<i>and working. Guess I have to look again.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Included, yes, but there is work to do.
</I>&gt;<i> Quite honestly, I'd have to look at the code to tell you exactly
</I>&gt;<i> *what* is wrong there :-(
</I>
Oh, that doesn't sound good!

I hope you have fixed the problems by the time I need these 
functionality in my mono-hack.. ;-)

&gt;&gt;<i>Any plans about virtual function inlining (e.g. Paper of Kazuaki Ishizaki)?
</I>
I just realized that this paper describes _devirtualization_ - which 
doesn't inline the method ...


&gt;<i> For instance, that form of inlining can take place only &quot;late&quot;
</I>&gt;<i> in the optimization pipeline, after you have analyzed the code and
</I>&gt;<i> have inferred the types of the objects whose method calls will be
</I>&gt;<i> made &quot;static&quot; instead of virtual, so that they can be inlined.
</I>&gt;<i> One issue (at least, IMHO) is that inlining changes the CFG, and
</I>&gt;<i> with it the dominator tree, the [iterated] dominance frontiers...
</I>&gt;<i> At that stage of the compilation there are passes that depend on
</I>&gt;<i> those data structures, which should therefore be recomputed.
</I>&gt;<i> Otherwise, it would be nice to have them stored in a different way
</I>&gt;<i> more suited to be updated dynamically (there are papers describing
</I>&gt;<i> things like this).
</I>
Seems I still have to get a better understanding of mono source..


&gt;<i> By the way, having such a thing would help in dealing with critical
</I>&gt;<i> edges as well... now what I do is remove *all* critical edges at
</I>&gt;<i> the beginning of the compilation, simply because I cannot add BBs
</I>&gt;<i> in the middle of it (I mean inside SSAPRE).
</I>
Hmm, this is very unfortunate, because not being able to change the CFG 
by adding / moving(?) BBs means lots of optimizations can't be applied, 
right? I guess Splitting falls into this category?



&gt;<i> Being able to add BBs at any point in the compilation (and having
</I>&gt;<i> the dominator information and iterated dominance frontiers updated
</I>&gt;<i> at a low cost) would be cleaner, more practical, and probably also
</I>&gt;<i> more efficient, but now things do not work that way.
</I>
Do you have any paper reference handy?


Thanks for your very informative answer!

It was very much appreciated,
  Willi


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009060.html">[Mono-devel-list] SSAPRE: this time it's for real ;-)
</A></li>
	<LI>Next message: <A HREF="009066.html">[Mono-devel-list] SSAPRE: this time it's for real ;-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9063">[ date ]</a>
              <a href="thread.html#9063">[ thread ]</a>
              <a href="subject.html#9063">[ subject ]</a>
              <a href="author.html#9063">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
