<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] SSAPRE: this time it's for real ;-)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SSAPRE%3A%20this%20time%20it%27s%20for%20real%20%3B-%29&In-Reply-To=41A64185.4090902%40gmx.at">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009059.html">
   <LINK REL="Next"  HREF="009063.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] SSAPRE: this time it's for real ;-)</H1>
    <B>Massimiliano Mantione</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SSAPRE%3A%20this%20time%20it%27s%20for%20real%20%3B-%29&In-Reply-To=41A64185.4090902%40gmx.at"
       TITLE="[Mono-devel-list] SSAPRE: this time it's for real ;-)">massi at ximian.com
       </A><BR>
    <I>Thu Nov 25 17:53:24 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009059.html">[Mono-devel-list] SSAPRE: this time it's for real ;-)
</A></li>
        <LI>Next message: <A HREF="009063.html">[Mono-devel-list] SSAPRE: this time it's for real ;-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9060">[ date ]</a>
              <a href="thread.html#9060">[ thread ]</a>
              <a href="subject.html#9060">[ subject ]</a>
              <a href="author.html#9060">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2004-11-25 at 21:33, Willibald Krenn wrote:
&gt;<i> Thanks for the list. Looks like transformations on SSA form are not 
</I>&gt;<i> number one priority.. Does that mean computing SSA is considered to be 
</I>&gt;<i> too much overhead?
</I>
I think the general feeling now is that SSA based optimizations
are more for AOT compilation (and in fact they are not turned on
by default).
Or, when we'll have on line profiling, we could recompile methods
which are &quot;hot&quot; with more aggressive optimizations (there is work
in that direction... that was just *my* todo list!).

&gt;<i>  &gt;- Copy propagation (without SSA).
</I>&gt;<i>  &gt;- Dead code elimination (without SSA).
</I>&gt;<i> [...]
</I>&gt;<i> I was under the impression that these optimizations are already included 
</I>&gt;<i> and working. Guess I have to look again.
</I>
Included, yes, but there is work to do.
Quite honestly, I'd have to look at the code to tell you exactly
*what* is wrong there :-(

&gt;<i> Any plans about virtual function inlining (e.g. Paper of Kazuaki Ishizaki)?
</I>
Not in the near future (anyway, not that I know of).
This does not mean that nobody is thinking about it... there are
simply other things to do before, both in terms of priority, and
in terms of prerequisites to make it feasible.

For instance, that form of inlining can take place only &quot;late&quot;
in the optimization pipeline, after you have analyzed the code and
have inferred the types of the objects whose method calls will be
made &quot;static&quot; instead of virtual, so that they can be inlined.
One issue (at least, IMHO) is that inlining changes the CFG, and
with it the dominator tree, the [iterated] dominance frontiers...
At that stage of the compilation there are passes that depend on
those data structures, which should therefore be recomputed.
Otherwise, it would be nice to have them stored in a different way
more suited to be updated dynamically (there are papers describing
things like this).
By the way, having such a thing would help in dealing with critical
edges as well... now what I do is remove *all* critical edges at
the beginning of the compilation, simply because I cannot add BBs
in the middle of it (I mean inside SSAPRE).
This is a (small?) waste of time and memory, and then I must hope
that the second pass of branch optimizations at the end will clean
things up (which it does not, at least not completely).
Being able to add BBs at any point in the compilation (and having
the dominator information and iterated dominance frontiers updated
at a low cost) would be cleaner, more practical, and probably also
more efficient, but now things do not work that way.

This just to say &quot;maybe yes, but later&quot;...

Ciao,
  Massi



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009059.html">[Mono-devel-list] SSAPRE: this time it's for real ;-)
</A></li>
	<LI>Next message: <A HREF="009063.html">[Mono-devel-list] SSAPRE: this time it's for real ;-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9060">[ date ]</a>
              <a href="thread.html#9060">[ thread ]</a>
              <a href="subject.html#9060">[ subject ]</a>
              <a href="author.html#9060">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
