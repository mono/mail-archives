<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] mod_mono on windows - almost there
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20mod_mono%20on%20windows%20-%20almost%20there&In-Reply-To=1100124847.1434.11.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008809.html">
   <LINK REL="Next"  HREF="008831.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] mod_mono on windows - almost there</H1>
    <B>Angel Marin</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20mod_mono%20on%20windows%20-%20almost%20there&In-Reply-To=1100124847.1434.11.camel%40localhost.localdomain"
       TITLE="[Mono-devel-list] mod_mono on windows - almost there">anmar at gmx.net
       </A><BR>
    <I>Thu Nov 11 16:41:13 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008809.html">[Mono-devel-list] Re: Thank you!
</A></li>
        <LI>Next message: <A HREF="008831.html">[Mono-devel-list] mod_mono on windows - almost there
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8813">[ date ]</a>
              <a href="thread.html#8813">[ thread ]</a>
              <a href="subject.html#8813">[ subject ]</a>
              <a href="author.html#8813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, 

&gt;<i> -----Mensaje original-----
</I>&gt;<i> Mmm. All the sockets but the listener are set to block, so 
</I>&gt;<i> that error is
</I>&gt;<i> strange. Does the problem happen when you run mod-mono-server under MS
</I>&gt;<i> runtime? Or only with mono runtime on windows?
</I>
If mod-mono-server is run under MS runtime, everything works as
expected. :?

Well I have a initial patch ready for testing (taking mod_mono 1.0.4 as
the base). I have tested with apache 2.0.52 and mono 1.0.4 under windows
and linux, and it looks like it's working. Mayor changes are:

 - Created Makefile.win for building with MS nmake.exe. It works just as
the makefiles of the Apache source distribution for win32. Instructions
to run it are contained in the Makefile.win file. Additionally it
depends on awk being on the path (just as apache builds).
 - Rewritten the fork part to use only apr functions.
 - Added some ifdefs to includes not found nor needed on windows.

Known issues:
 - It will only compile for Apache 2. It jet needs to be adapted to be
compatible with 1.3.

If someone can test this on different environments would be great.

Regards,
-- 
Angel Marin
<A HREF="http://anmar.eu.org/">http://anmar.eu.org/</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mod_mono-1.0.4-win32.patch
Type: application/octet-stream
Size: 12845 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20041111/45978e77/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20041111/45978e77/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008809.html">[Mono-devel-list] Re: Thank you!
</A></li>
	<LI>Next message: <A HREF="008831.html">[Mono-devel-list] mod_mono on windows - almost there
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8813">[ date ]</a>
              <a href="thread.html#8813">[ thread ]</a>
              <a href="subject.html#8813">[ subject ]</a>
              <a href="author.html#8813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
