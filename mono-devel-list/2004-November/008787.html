<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Flushing a FileStream to disk
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Flushing%20a%20FileStream%20to%20disk&In-Reply-To=1100112004.25883.153.camel%40linux.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008784.html">
   <LINK REL="Next"  HREF="008727.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Flushing a FileStream to disk</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Flushing%20a%20FileStream%20to%20disk&In-Reply-To=1100112004.25883.153.camel%40linux.site"
       TITLE="[Mono-devel-list] Flushing a FileStream to disk">monoman at gmail.com
       </A><BR>
    <I>Wed Nov 10 14:50:09 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008784.html">[Mono-devel-list] Flushing a FileStream to disk
</A></li>
        <LI>Next message: <A HREF="008727.html">[Mono-devel-list] New version of C#Shell
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8787">[ date ]</a>
              <a href="thread.html#8787">[ thread ]</a>
              <a href="subject.html#8787">[ subject ]</a>
              <a href="author.html#8787">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well in MS .NET it doesn't it just guarantees that the class buffers
are sent to the IO APIs, it does not call any API that would make the
filesystem buffers be flushed. As so we duplicated that behavior in
our implementation last time I checked.

Cheers,


On Wed, 10 Nov 2004 13:40:04 -0500, Miguel de Icaza &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at ximian.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; Sounds like fsync or fdatasync (both in Mono.Posix.Syscall)
</I>&gt;<i> &gt; &gt; are what you need, depending on whether you want to update the
</I>&gt;<i> &gt; &gt; metadata too.
</I>&gt;<i> &gt; &gt; FileStream.Handle corresponds to the file descriptor since
</I>&gt;<i> &gt; &gt; version 1.0.1 or so.  Works for sockets too.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks. I'll use FlushFileBuffers on Windows and on non-Windows systems
</I>&gt;<i> &gt; I'll use Mono.Posix.Syscall.fsync and I'll fall back to
</I>&gt;<i> &gt; System.IO.MonoIO.Flush on Mono 1.0.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Miguel: It might be a good suggestion for ECMA to add Sync() to
</I>&gt;<i> &gt; FileStream.
</I>&gt;<i> 
</I>&gt;<i> On a FileStream, is there a reason why FileStream.Flush does not
</I>&gt;<i> accomplish this?
</I>&gt;<i> 
</I>&gt;<i> Miguel
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>

-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
Just the 'crazy' me in a sane world, or would it be the reverse? I dunno...

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008784.html">[Mono-devel-list] Flushing a FileStream to disk
</A></li>
	<LI>Next message: <A HREF="008727.html">[Mono-devel-list] New version of C#Shell
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8787">[ date ]</a>
              <a href="thread.html#8787">[ thread ]</a>
              <a href="subject.html#8787">[ subject ]</a>
              <a href="author.html#8787">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
