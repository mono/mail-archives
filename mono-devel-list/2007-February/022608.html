<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev]  Blank characters in windows file names
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%20Blank%20characters%20in%20windows%20file%20names&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022605.html">
   <LINK REL="Next"  HREF="022609.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev]  Blank characters in windows file names</H1>
    <B>Boris Kirzner</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%20Blank%20characters%20in%20windows%20file%20names&In-Reply-To="
       TITLE="[Mono-dev]  Blank characters in windows file names">borisk at mainsoft.com
       </A><BR>
    <I>Mon Feb 19 07:58:19 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022605.html">[Mono-dev] Compiling monodoc from source
</A></li>
        <LI>Next message: <A HREF="022609.html">[Mono-dev] Blank characters in windows file names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22608">[ date ]</a>
              <a href="thread.html#22608">[ thread ]</a>
              <a href="subject.html#22608">[ subject ]</a>
              <a href="author.html#22608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all

 

Current implementation of System.IO file name handling avoids
platform-specific checks.

 

This causes any call on windows with file name containing blank
characters at the end to fail, while the same call passes in .Net (and
relates to the file name without blanks at the end).

Almost the same happens with calls to Path.GetFullPath()

 

The errors received is are either ArgumentException because of invalid
chars or &quot;Win32 IO returned ERROR_INVALID_NAME&quot; from Mono.IO

 

 

The attached patch (not final), is in the spirit of trimming blank chars
at the end of windows file names.

Does anybody think there is more elegant way to solve this?

 

 

Thanks,

Boris

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070219/1776a804/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070219/1776a804/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: blankchars.patch
Type: application/octet-stream
Size: 2624 bytes
Desc: blankchars.patch
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070219/1776a804/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070219/1776a804/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022605.html">[Mono-dev] Compiling monodoc from source
</A></li>
	<LI>Next message: <A HREF="022609.html">[Mono-dev] Blank characters in windows file names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22608">[ date ]</a>
              <a href="thread.html#22608">[ thread ]</a>
              <a href="subject.html#22608">[ subject ]</a>
              <a href="author.html#22608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
