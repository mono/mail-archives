<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] signcode on the fly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20signcode%20on%20the%20fly&In-Reply-To=1171983592.3667.21.camel%40poupou.home">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022622.html">
   <LINK REL="Next"  HREF="022625.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] signcode on the fly</H1>
    <B>viraj</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20signcode%20on%20the%20fly&In-Reply-To=1171983592.3667.21.camel%40poupou.home"
       TITLE="[Mono-dev] signcode on the fly">kalinga at gmail.com
       </A><BR>
    <I>Tue Feb 20 23:47:01 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022622.html">[Mono-dev] signcode on the fly
</A></li>
        <LI>Next message: <A HREF="022625.html">[Mono-dev] signcode on the fly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22623">[ date ]</a>
              <a href="thread.html#22623">[ thread ]</a>
              <a href="subject.html#22623">[ subject ]</a>
              <a href="author.html#22623">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>i'm on debian etch, and mono -V says..

Mono JIT compiler version 1.2.2.1, (C) 2002-2006 Novell, Inc and
Contributors. www.mono-project.com
        TLS:           normal
        GC:            Included Boehm (with typed GC)
        SIGSEGV:       normal
        Disabled:      none

by the way, i found this article..

<A HREF="http://projects.zillabit.com/authenticode.html">http://projects.zillabit.com/authenticode.html</A>

scroll down to 'Working around problems with PVK password', as per
this article, it can be fixed by commenting out certain lines and
recompiling the signcode.cs. or as an alternative workaround, it
suggest a .pvk file without a password.

i'm still struggling with both the solutions because i have no
experience in mcs compiler. :) any help would be highly appreciated!

thanks a lot.


~viraj


On 2/20/07, Sebastien Pouliot &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">sebastien.pouliot at gmail.com</A>&gt; wrote:
&gt;<i> On Tue, 2007-02-20 at 19:10 +0530, viraj wrote:
</I>&gt;<i> &gt; hi all,
</I>&gt;<i> &gt; yes, i just verified it by creating a test certificate with makecert.
</I>&gt;<i> &gt; It signed my code without a problem. so the problem is the 'encrypted
</I>&gt;<i> &gt; pvk file', thank you for your hint Rafael!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; even though i have the password for the .pvk file, it seems 'signcode'
</I>&gt;<i> &gt; binary does not accept a password on it's input (man signcode)? am i
</I>&gt;<i> &gt; correct?
</I>&gt;<i>
</I>&gt;<i> Signcode should ask you your password when it detects an encrypted PVK
</I>&gt;<i> file.
</I>&gt;<i>
</I>&gt;<i> What version of Mono are you using ?
</I>&gt;<i>
</I>&gt;<i> &gt; with 'signtool' (MS Platform SDK), it accepts the password, is there a
</I>&gt;<i> &gt; 'signtool' equivalent in Mono?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; thanks again
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ~viraj
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 2/20/07, Rafael Teixeira &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">monoman at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; Hi Viraj,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Just my inexperienced view on the problem:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; It seems that your pvk is encrypted, and you need to provide a
</I>&gt;<i> &gt; &gt; password for signcode to use it, but I also don't know how. An
</I>&gt;<i> &gt; &gt; alternative is to use an unencripted pvk file.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; :)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On 2/20/07, viraj &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kalinga at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; hi all,
</I>&gt;<i> &gt; &gt; &gt; i'm trying to signcode a win32 executable on Linux, using Mono's signcode.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; when i issue the command..
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; signcode -spc myspcfromthawte.spc -v mypvkfromthawte.pvk -n &quot;My App -
</I>&gt;<i> &gt; &gt; &gt; Quick Demo&quot; -t &quot;<A HREF="http://timestamp.verisign.com/scripts/timstamp.dll&quot;">http://timestamp.verisign.com/scripts/timstamp.dll&quot;</A>
</I>&gt;<i> &gt; &gt; &gt; quickDemo.exe
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; it says..
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Mono SignCode - version 1.2.2.1
</I>&gt;<i> &gt; &gt; &gt; Sign assemblies and PE files using Authenticode(tm).
</I>&gt;<i> &gt; &gt; &gt; Copyright 2002, 2003 Motus Technologies. Copyright 2004-2006 Novell.
</I>&gt;<i> &gt; &gt; &gt; BSD licensed.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Unhandled Exception:
</I>&gt;<i> &gt; &gt; &gt; System.Security.Cryptography.CryptographicException: Invalid data
</I>&gt;<i> &gt; &gt; &gt; and/or password
</I>&gt;<i> &gt; &gt; &gt;   at Mono.Security.Authenticode.PrivateKey..ctor (System.Byte[] data,
</I>&gt;<i> &gt; &gt; &gt; System.String password) [0x00000]
</I>&gt;<i> &gt; &gt; &gt;   at Mono.Security.Authenticode.PrivateKey.CreateFromFile
</I>&gt;<i> &gt; &gt; &gt; (System.String filename, System.String password) [0x00000]
</I>&gt;<i> &gt; &gt; &gt;   at Mono.Security.Authenticode.PrivateKey.CreateFromFile
</I>&gt;<i> &gt; &gt; &gt; (System.String filename) [0x00000]
</I>&gt;<i> &gt; &gt; &gt;   at Mono.Tools.SignCode.GetPrivateKey (System.String keyfile,
</I>&gt;<i> &gt; &gt; &gt; System.Security.Cryptography.CspParameters csp) [0x00000]
</I>&gt;<i> &gt; &gt; &gt;   at Mono.Tools.SignCode.Main (System.String[] args) [0x00000]
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; couldn't trace a similar error message on internet.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; am i missing any parameters? or what should be the correct syntax of
</I>&gt;<i> &gt; &gt; &gt; the command.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; thanks a lot.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; ~viraj
</I>&gt;<i> &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt; Rafael &quot;Monoman&quot; Teixeira
</I>&gt;<i> &gt; &gt; ---------------------------------------
</I>&gt;<i> &gt; &gt; &quot;The reasonable man adapts himself to the world; the unreasonable one
</I>&gt;<i> &gt; &gt; persists in trying to adapt the world to himself. Therefore all
</I>&gt;<i> &gt; &gt; progress depends on the unreasonable man.&quot; George Bernard Shaw
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022622.html">[Mono-dev] signcode on the fly
</A></li>
	<LI>Next message: <A HREF="022625.html">[Mono-dev] signcode on the fly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22623">[ date ]</a>
              <a href="thread.html#22623">[ thread ]</a>
              <a href="subject.html#22623">[ subject ]</a>
              <a href="author.html#22623">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
