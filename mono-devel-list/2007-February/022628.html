<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Problems with DOM serialization to XHTML
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problems%20with%20DOM%20serialization%20to%20XHTML&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022642.html">
   <LINK REL="Next"  HREF="022629.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Problems with DOM serialization to XHTML</H1>
    <B>Federico Di Gregorio</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problems%20with%20DOM%20serialization%20to%20XHTML&In-Reply-To="
       TITLE="[Mono-dev] Problems with DOM serialization to XHTML">fog at initd.org
       </A><BR>
    <I>Wed Feb 21 12:29:47 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022642.html">[Mono-dev] running vi3 client
</A></li>
        <LI>Next message: <A HREF="022629.html">[Mono-dev] Problems with DOM serialization to XHTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22628">[ date ]</a>
              <a href="thread.html#22628">[ thread ]</a>
              <a href="subject.html#22628">[ subject ]</a>
              <a href="author.html#22628">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi *,

this is my first post to this list so, please, feel free to tell me (in
private) about policies and to redirect me to the right place if I am
out of topic. Thank you.

We are having some problems serializing an XmlDocument (DOM) that
represents an XHTML document into valid indented XHTML. The problem is
that the serialization code breaks empty tags adding a NL/CR between the
open and the closed tag, adding significant whitespace and making it
non-empty. So, for example, if a tag like:

&lt;img src=&quot;...&quot;&gt;&lt;/img&gt;

is parsed (note that even not in the &lt;img... /&gt; form, it is a perfectly
valid, closed tag) a different one is output when the document is
serialized:

&lt;img src=&quot;...&quot;&gt;
&lt;/img&gt;

That is not valid XHTML anymore. A very simple solution would be to not
break empty tags (XmlElement.IsEmpty == true) or even shorten them into
the &lt;.../&gt; form (this probably would output invalid XHTML too but would
be easily fixable in the code manipulating the DOM while the current
problem has no apparent solution in the application code.)

Or am I simply doing it the wrong way? :D

federico

-- 
Federico Di Gregorio                         <A HREF="http://people.initd.org/fog">http://people.initd.org/fog</A>
Debian GNU/Linux Developer                                <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">fog at debian.org</A>
INIT.D Developer                                           <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">fog at initd.org</A>
  &quot;Yes, your honour, I have RSA encryption code tattood on my penis.
   Shall I show the jury?&quot;                                     -- &lt;dark&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Questa =?ISO-8859-1?Q?=E8?= una parte del messaggio
	firmata digitalmente
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070221/63857f53/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070221/63857f53/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022642.html">[Mono-dev] running vi3 client
</A></li>
	<LI>Next message: <A HREF="022629.html">[Mono-dev] Problems with DOM serialization to XHTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22628">[ date ]</a>
              <a href="thread.html#22628">[ thread ]</a>
              <a href="subject.html#22628">[ subject ]</a>
              <a href="author.html#22628">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
