<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Tests for Socket Local-/RemoteEndPoint
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Tests%20for%20Socket%20Local-/RemoteEndPoint&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022405.html">
   <LINK REL="Next"  HREF="022407.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Tests for Socket Local-/RemoteEndPoint</H1>
    <B>Andy Hume</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Tests%20for%20Socket%20Local-/RemoteEndPoint&In-Reply-To="
       TITLE="[Mono-dev] Tests for Socket Local-/RemoteEndPoint">andyhume32 at yahoo.co.uk
       </A><BR>
    <I>Mon Feb  5 10:04:25 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022405.html">[Mono-dev] Patches+Tests for ObjectDisposedException
</A></li>
        <LI>Next message: <A HREF="022407.html">[Mono-dev] Mono.Security on Compat Framework
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22406">[ date ]</a>
              <a href="thread.html#22406">[ thread ]</a>
              <a href="subject.html#22406">[ subject ]</a>
              <a href="author.html#22406">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would like to offer to help with having System.Net.Sockets.Socket support multiple protocol families, noting the comment on the Local-/RemoteEndPoint properties &quot;// Wish:  support non-IP endpoints.&quot;  I've worked with the guys who provide IrDA and Bluetooth support on .NET (<A HREF="http://32feet.net">http://32feet.net</A>) and through that, and watching in the debugger how their EndPoint implementations are used by MSFT's socket I can explain how the third-party EndPoint support works; sadly a description of this is not present in any official/MSFT documentation.

Sadly I've also confirmed this by looking with Reflector, so am I right in thinking I shouldn't provide patches for this?  I have a set of tests that shows the observed behaviour on MSFT however and have tested this locally with local patches and have seen IrDA work (on Windows).  In fact the feature that Windows uses is describable in one sentence.  So how should I proceed on this?  Just post the new tests here?  There's no danger of legal problems just providing tests showing external behaviour is there?

Subsequently I can provide patches to the native IO layer to support IrDA, which takes rather a sizeable amount of work (and perhaps then Bluetooth).  But I've only tested so far on Windows, and I presume testing another platform (say Linux's IrDA) before inclusion would be preferable.

Andy



$ mono --debug  &quot;D:\Documents and Settings\alan\My Documents\Visual Studio 2005\Projects\TmpIrda32f\irdaDotNetDiagnostic\bin\Debug\irdaDotNetDiagnostic.exe&quot;
** Message: IrDA sockopt map 0xff/0x10 --&gt; 0xff/0x10
1 Devices found
0: Nokia 6210, addr: B60F0000, type: PnP, Modem, Fax, Extension, Telephony, IrCOMM, Obex
Selected #0
SocketAddress: family: Irda, size: 32
00: 1A-00-00-00-0F-B6-4F-42-45-58-00-00-00-00-00-00
10: 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
Gonna connect to, B60F0000 OBEX
** Message: AndyH 00: 1a 00 00 00 0f b6 4f 42  45 58 00 00 00 00 00 00
** Message: AndyH *sa_size=32
Connected

Sleeping for 5 seconds...
Sending some text now...
Going to access LocalEndPoint
is type: IrDAEndPoint
value: 00000000:LSAP-SEL74
Going to access LocalEndPoint
is type: IrDAEndPoint
value: B60F0000:OBEX
Disconnecting...


		
___________________________________________________________ 
All New Yahoo! Mail &#150; Tired of <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Vi at gr</A>@! come-ons? Let our SpamGuard protect you. <A HREF="http://uk.docs.yahoo.com/nowyoucan.html">http://uk.docs.yahoo.com/nowyoucan.html</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022405.html">[Mono-dev] Patches+Tests for ObjectDisposedException
</A></li>
	<LI>Next message: <A HREF="022407.html">[Mono-dev] Mono.Security on Compat Framework
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22406">[ date ]</a>
              <a href="thread.html#22406">[ thread ]</a>
              <a href="subject.html#22406">[ subject ]</a>
              <a href="author.html#22406">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
