<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Patch for ToUpper/ToLower
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Patch%20for%20ToUpper/ToLower&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005111.html">
   <LINK REL="Next"  HREF="005117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Patch for ToUpper/ToLower</H1>
    <B>Andreas Nahr</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Patch%20for%20ToUpper/ToLower&In-Reply-To="
       TITLE="[Mono-devel-list] Patch for ToUpper/ToLower">ClassDevelopment at A-SoftTech.com
       </A><BR>
    <I>Sat Apr 24 04:47:11 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="005111.html">[Mono-devel-list] Patch for ToUpper/ToLower
</A></li>
        <LI>Next message: <A HREF="005117.html">[Mono-devel-list] Patch for ToUpper/ToLower
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5114">[ date ]</a>
              <a href="thread.html#5114">[ thread ]</a>
              <a href="subject.html#5114">[ subject ]</a>
              <a href="author.html#5114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We should not make the null check in unmanaged code.
Also the shortcut for invariant code should not be taken to c land (as it is
currently) - I'll explain in another posting why.

I've made a patch which is the neccessary C# part for it. Perhaps you could
make and test the C part (renaming the function and removing the invariant
shortcut from the Char functions)

The same thing is true for String (it's even more important there because
e.g. for String.ToLower() we can guarantee that it never calles with a null)
Already applied the String one as it is trivial

A.Nahr

----- Original Message ----- 
From: &quot;Robert Shade&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">rshade at dvsconsulting.com</A>&gt;
To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Sent: Saturday, April 24, 2004 12:07 AM
Subject: [Mono-devel-list] Patch for ToUpper/ToLower


&gt;<i> According to the documentation, String.ToUpper/ToLower and
</I>&gt;<i> Char.ToUpper/ToLower should throw an ArgumentNullException if the
</I>&gt;<i> CultureInfo argument is null.  Attached is a patch to do just that.  My
</I>&gt;<i> only question is if it would have been better to use
</I>&gt;<i> MONO_CHECK_ARG_NULL from object.h.  I wasn't sure if that would abort
</I>&gt;<i> the current function or not.  If if MONO_CHECK_ARG_NULL would be
</I>&gt;<i> preferred, I can resubmit.  Either way I would need someone to commit
</I>&gt;<i> this for me as I don't have CVS access.
</I>&gt;<i>
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i> Rob
</I>&gt;<i>
</I>-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: PatchChar.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040424/887aa5af/attachment.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040424/887aa5af/attachment.txt</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005111.html">[Mono-devel-list] Patch for ToUpper/ToLower
</A></li>
	<LI>Next message: <A HREF="005117.html">[Mono-devel-list] Patch for ToUpper/ToLower
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5114">[ date ]</a>
              <a href="thread.html#5114">[ thread ]</a>
              <a href="subject.html#5114">[ subject ]</a>
              <a href="author.html#5114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
