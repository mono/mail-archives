<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] error generating .wsdl - duplicated ArrayOfString ??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20error%20generating%20.wsdl%20-%20duplicated%20ArrayOfString%20%3F%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004987.html">
   <LINK REL="Next"  HREF="005014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] error generating .wsdl - duplicated ArrayOfString ??</H1>
    <B>Javier Ramon Garcia</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20error%20generating%20.wsdl%20-%20duplicated%20ArrayOfString%20%3F%3F&In-Reply-To="
       TITLE="[Mono-devel-list] error generating .wsdl - duplicated ArrayOfString ??">javier at uh.cu
       </A><BR>
    <I>Tue Apr 13 16:41:23 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004987.html">[Mono-devel-list] Call to Thread.Abort causes to	Applicationfailure!
</A></li>
        <LI>Next message: <A HREF="005014.html">[Mono-devel-list] error generating .wsdl - duplicated	ArrayOfString ??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4967">[ date ]</a>
              <a href="thread.html#4967">[ thread ]</a>
              <a href="subject.html#4967">[ subject ]</a>
              <a href="author.html#4967">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'll appreciate any help to solve or workaround this problem with wsdl 
generation.

I am implementing with xsp/mod_mono a very simple xml web service. It was  
running ok until I add a new method(TranslateBatch) which return an string[]

It seems that the disco tool included with mono-0.31 (for Fedora) is 
generating a duplicated block for the ArrayOfString type in the 
gererated .wsdl. So when a run wsdl to generate my proxy class i get an error
like:

Mono Web Services Description Language Utility
Error: System.Xml.Schema.XmlSchemaException: XmlSchema error: Named item 
<A HREF="http://tempuri.org/:ArrayOfString">http://tempuri.org/:ArrayOfString</A> was already contained in the schema object 
table. Related schema item SourceUri: , Line 33, Position 7.
in &lt;0x000c1&gt; System.Xml.Schema.ValidationHandler:RaiseValidationEvent 
(System.Xml.Schema.ValidationEventHandler,System.Exception,string,System.Xml.Schema.XmlSchemaObject,object,string,System.Xml.Schema.XmlSeverityType)
in &lt;0x00020&gt; System.Xml.Schema.XmlSchemaObject:error 
(System.Xml.Schema.ValidationEventHandler,string,System.Exception,System.Xml.Schema.XmlSchemaObject,object)
in &lt;0x00033&gt; System.Xml.Schema.XmlSchemaObject:error 
(System.Xml.Schema.ValidationEventHandler,string)
in &lt;0x001a4&gt; System.Xml.Schema.XmlSchemaUtil:AddToTable 
(System.Xml.Schema.XmlSchemaObjectTable,System.Xml.Schema.XmlSchemaObject,System.Xml.XmlQualifiedName,System.Xml.Schema.ValidationEventHandler)
in &lt;0x01e95&gt; System.Xml.Schema.XmlSchema:Compile 
(System.Xml.Schema.ValidationEventHandler,System.Collections.Stack,System.Xml.Schema.XmlSchema,System.Xml.Schema.XmlSchemaCollection,System.Xml.XmlResolver)
in &lt;0x00048&gt; System.Xml.Schema.XmlSchema:Compile 
(System.Xml.Schema.ValidationEventHandler,System.Xml.XmlResolver)

If i remove manually the duplicated block the .cs file is generated 
successfully, but I get the same error anyway when testing or using the 
service through the web.

I&#180;ve attached the mono version of the .wsdl and the vs.net version of the 
same .wsdl

The following is an extract of my webservice source code:

...

[WebMethod]
public string Translate( string code, string language )
{ ... }				

public string[] TranslateBatch( string[] codes, string language )
{ 
  // before adding this method everything worked OK 
}
				
public StringCollection AvailableLanguages( bool with_translations_only )
{ ... }
	
...							

THANKS 
-J
-------------- next part --------------
A non-text attachment was scrubbed...
Name: TranslationService.dup.wsdl
Type: application/octet-stream
Size: 20260 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040413/c148d374/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040413/c148d374/attachment.obj</A> 
-------------- next part --------------
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;definitions xmlns:http=&quot;<A HREF="http://schemas.xmlsoap.org/wsdl/http/&quot;">http://schemas.xmlsoap.org/wsdl/http/&quot;</A> xmlns:soap=&quot;<A HREF="http://schemas.xmlsoap.org/wsdl/soap/&quot;">http://schemas.xmlsoap.org/wsdl/soap/&quot;</A> xmlns:s=&quot;<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A> xmlns:s0=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A> xmlns:soapenc=&quot;<A HREF="http://schemas.xmlsoap.org/soap/encoding/&quot;">http://schemas.xmlsoap.org/soap/encoding/&quot;</A> xmlns:tm=&quot;<A HREF="http://microsoft.com/wsdl/mime/textMatching/&quot;">http://microsoft.com/wsdl/mime/textMatching/&quot;</A> xmlns:mime=&quot;<A HREF="http://schemas.xmlsoap.org/wsdl/mime/&quot;">http://schemas.xmlsoap.org/wsdl/mime/&quot;</A> targetNamespace=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A> xmlns=&quot;<A HREF="http://schemas.xmlsoap.org/wsdl/&quot;">http://schemas.xmlsoap.org/wsdl/&quot;</A>&gt;
  &lt;types&gt;
    &lt;s:schema elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A>&gt;
      &lt;s:element name=&quot;Translate&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;code&quot; type=&quot;s:string&quot; /&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;language&quot; type=&quot;s:string&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
      &lt;s:element name=&quot;TranslateResponse&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;TranslateResult&quot; type=&quot;s:string&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
      &lt;s:element name=&quot;TranslateBatch&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;codes&quot; type=&quot;s0:ArrayOfString&quot; /&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;language&quot; type=&quot;s:string&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
      &lt;s:complexType name=&quot;ArrayOfString&quot;&gt;
        &lt;s:sequence&gt;
          &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot; name=&quot;string&quot; nillable=&quot;true&quot; type=&quot;s:string&quot; /&gt;
        &lt;/s:sequence&gt;
      &lt;/s:complexType&gt;
      &lt;s:element name=&quot;TranslateBatchResponse&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;TranslateBatchResult&quot; type=&quot;s0:ArrayOfString&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
      &lt;s:element name=&quot;AvailableLanguages&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;with_translations_only&quot; type=&quot;s:boolean&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
      &lt;s:element name=&quot;AvailableLanguagesResponse&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;AvailableLanguagesResult&quot; type=&quot;s0:ArrayOfString&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
      &lt;s:element name=&quot;DefaultLanguage&quot;&gt;
        &lt;s:complexType /&gt;
      &lt;/s:element&gt;
      &lt;s:element name=&quot;DefaultLanguageResponse&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;DefaultLanguageResult&quot; type=&quot;s:string&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
      &lt;s:element name=&quot;HasTranslations&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;language&quot; type=&quot;s:string&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
      &lt;s:element name=&quot;HasTranslationsResponse&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;HasTranslationsResult&quot; type=&quot;s:boolean&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
      &lt;s:element name=&quot;UntranslatedLanguageName&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;language&quot; type=&quot;s:string&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
      &lt;s:element name=&quot;UntranslatedLanguageNameResponse&quot;&gt;
        &lt;s:complexType&gt;
          &lt;s:sequence&gt;
            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;UntranslatedLanguageNameResult&quot; type=&quot;s:string&quot; /&gt;
          &lt;/s:sequence&gt;
        &lt;/s:complexType&gt;
      &lt;/s:element&gt;
    &lt;/s:schema&gt;
  &lt;/types&gt;
  &lt;message name=&quot;TranslateSoapIn&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:Translate&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;TranslateSoapOut&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:TranslateResponse&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;TranslateBatchSoapIn&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:TranslateBatch&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;TranslateBatchSoapOut&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:TranslateBatchResponse&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;AvailableLanguagesSoapIn&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:AvailableLanguages&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;AvailableLanguagesSoapOut&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:AvailableLanguagesResponse&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;DefaultLanguageSoapIn&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:DefaultLanguage&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;DefaultLanguageSoapOut&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:DefaultLanguageResponse&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;HasTranslationsSoapIn&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:HasTranslations&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;HasTranslationsSoapOut&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:HasTranslationsResponse&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;UntranslatedLanguageNameSoapIn&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:UntranslatedLanguageName&quot; /&gt;
  &lt;/message&gt;
  &lt;message name=&quot;UntranslatedLanguageNameSoapOut&quot;&gt;
    &lt;part name=&quot;parameters&quot; element=&quot;s0:UntranslatedLanguageNameResponse&quot; /&gt;
  &lt;/message&gt;
  &lt;portType name=&quot;TranslationServiceSoap&quot;&gt;
    &lt;operation name=&quot;Translate&quot;&gt;
      &lt;documentation&gt;Returns the translation of a message code to the specified language.&lt;/documentation&gt;
      &lt;input message=&quot;s0:TranslateSoapIn&quot; /&gt;
      &lt;output message=&quot;s0:TranslateSoapOut&quot; /&gt;
    &lt;/operation&gt;
    &lt;operation name=&quot;TranslateBatch&quot;&gt;
      &lt;documentation&gt;Returns the translation of each message code to the specified language.&lt;/documentation&gt;
      &lt;input message=&quot;s0:TranslateBatchSoapIn&quot; /&gt;
      &lt;output message=&quot;s0:TranslateBatchSoapOut&quot; /&gt;
    &lt;/operation&gt;
    &lt;operation name=&quot;AvailableLanguages&quot;&gt;
      &lt;documentation&gt;Returns the codes list of available languages. Pass true as argument if you want only languages with translations available.&lt;/documentation&gt;
      &lt;input message=&quot;s0:AvailableLanguagesSoapIn&quot; /&gt;
      &lt;output message=&quot;s0:AvailableLanguagesSoapOut&quot; /&gt;
    &lt;/operation&gt;
    &lt;operation name=&quot;DefaultLanguage&quot;&gt;
      &lt;documentation&gt;Returns the default language code.&lt;/documentation&gt;
      &lt;input message=&quot;s0:DefaultLanguageSoapIn&quot; /&gt;
      &lt;output message=&quot;s0:DefaultLanguageSoapOut&quot; /&gt;
    &lt;/operation&gt;
    &lt;operation name=&quot;HasTranslations&quot;&gt;
      &lt;documentation&gt;Returns true if there are translations available for the specified language code.&lt;/documentation&gt;
      &lt;input message=&quot;s0:HasTranslationsSoapIn&quot; /&gt;
      &lt;output message=&quot;s0:HasTranslationsSoapOut&quot; /&gt;
    &lt;/operation&gt;
    &lt;operation name=&quot;UntranslatedLanguageName&quot;&gt;
      &lt;documentation&gt;Returns the message code of the specified language code.&lt;/documentation&gt;
      &lt;input message=&quot;s0:UntranslatedLanguageNameSoapIn&quot; /&gt;
      &lt;output message=&quot;s0:UntranslatedLanguageNameSoapOut&quot; /&gt;
    &lt;/operation&gt;
  &lt;/portType&gt;
  &lt;binding name=&quot;TranslationServiceSoap&quot; type=&quot;s0:TranslationServiceSoap&quot;&gt;
    &lt;soap:binding transport=&quot;<A HREF="http://schemas.xmlsoap.org/soap/http&quot;">http://schemas.xmlsoap.org/soap/http&quot;</A> style=&quot;document&quot; /&gt;
    &lt;operation name=&quot;Translate&quot;&gt;
      &lt;soap:operation soapAction=&quot;<A HREF="http://tempuri.org/Translate&quot;">http://tempuri.org/Translate&quot;</A> style=&quot;document&quot; /&gt;
      &lt;input&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/input&gt;
      &lt;output&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/output&gt;
    &lt;/operation&gt;
    &lt;operation name=&quot;TranslateBatch&quot;&gt;
      &lt;soap:operation soapAction=&quot;<A HREF="http://tempuri.org/TranslateBatch&quot;">http://tempuri.org/TranslateBatch&quot;</A> style=&quot;document&quot; /&gt;
      &lt;input&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/input&gt;
      &lt;output&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/output&gt;
    &lt;/operation&gt;
    &lt;operation name=&quot;AvailableLanguages&quot;&gt;
      &lt;soap:operation soapAction=&quot;<A HREF="http://tempuri.org/AvailableLanguages&quot;">http://tempuri.org/AvailableLanguages&quot;</A> style=&quot;document&quot; /&gt;
      &lt;input&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/input&gt;
      &lt;output&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/output&gt;
    &lt;/operation&gt;
    &lt;operation name=&quot;DefaultLanguage&quot;&gt;
      &lt;soap:operation soapAction=&quot;<A HREF="http://tempuri.org/DefaultLanguage&quot;">http://tempuri.org/DefaultLanguage&quot;</A> style=&quot;document&quot; /&gt;
      &lt;input&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/input&gt;
      &lt;output&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/output&gt;
    &lt;/operation&gt;
    &lt;operation name=&quot;HasTranslations&quot;&gt;
      &lt;soap:operation soapAction=&quot;<A HREF="http://tempuri.org/HasTranslations&quot;">http://tempuri.org/HasTranslations&quot;</A> style=&quot;document&quot; /&gt;
      &lt;input&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/input&gt;
      &lt;output&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/output&gt;
    &lt;/operation&gt;
    &lt;operation name=&quot;UntranslatedLanguageName&quot;&gt;
      &lt;soap:operation soapAction=&quot;<A HREF="http://tempuri.org/UntranslatedLanguageName&quot;">http://tempuri.org/UntranslatedLanguageName&quot;</A> style=&quot;document&quot; /&gt;
      &lt;input&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/input&gt;
      &lt;output&gt;
        &lt;soap:body use=&quot;literal&quot; /&gt;
      &lt;/output&gt;
    &lt;/operation&gt;
  &lt;/binding&gt;
  &lt;service name=&quot;TranslationService&quot;&gt;
    &lt;documentation&gt;This service is intended for translating texts shown in multilingual clients. Most of the methods in this service receive a language code (es, en, ru, ...) and/or a message code ( wbl-03, ebl-01, ...)&lt;/documentation&gt;
    &lt;port name=&quot;TranslationServiceSoap&quot; binding=&quot;s0:TranslationServiceSoap&quot;&gt;
      &lt;soap:address location=&quot;<A HREF="http://localhost/WebService2/TranslationService.asmx&quot;">http://localhost/WebService2/TranslationService.asmx&quot;</A> /&gt;
    &lt;/port&gt;
  &lt;/service&gt;
&lt;/definitions&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004987.html">[Mono-devel-list] Call to Thread.Abort causes to	Applicationfailure!
</A></li>
	<LI>Next message: <A HREF="005014.html">[Mono-devel-list] error generating .wsdl - duplicated	ArrayOfString ??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4967">[ date ]</a>
              <a href="thread.html#4967">[ thread ]</a>
              <a href="subject.html#4967">[ subject ]</a>
              <a href="author.html#4967">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
