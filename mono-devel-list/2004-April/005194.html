<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] FIX: Better long registry allocation and no more helpers for long shift ops
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20FIX%3A%20Better%20long%20registry%20allocation%20and%20no%20more%20helpers%20for%20long%20shift%20ops&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005193.html">
   <LINK REL="Next"  HREF="005198.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] FIX: Better long registry allocation and no more helpers for long shift ops</H1>
    <B>Torstensson, Patrik</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20FIX%3A%20Better%20long%20registry%20allocation%20and%20no%20more%20helpers%20for%20long%20shift%20ops&In-Reply-To="
       TITLE="[Mono-devel-list] [PATCH] FIX: Better long registry allocation and no more helpers for long shift ops">patrik.torstensson at intel.com
       </A><BR>
    <I>Wed Apr 28 10:53:28 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="005193.html">[Mono-devel-list] Daily builds
</A></li>
        <LI>Next message: <A HREF="005198.html">[Mono-devel-list] System.ServiceProcess
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5194">[ date ]</a>
              <a href="thread.html#5194">[ thread ]</a>
              <a href="subject.html#5194">[ subject ]</a>
              <a href="author.html#5194">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This patch fixes a bug found in the code that caused liveness not to be
handled for the new long source regs.

The nunit test and jit tests works with this patch.

To only test the long registry allocation stuff just disable the
MONO_ARCH_NO_EMULATE_LONG_SHIFT_OPS define in mono-x86.h.

Cheers,
 Patrik Torstensson

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Torstensson, Patrik 
</I>&gt;<i> Sent: den 27 april 2004 18:25
</I>&gt;<i> To: Mono Development; Paolo Molaro
</I>&gt;<i> Subject: [PATCH] Better long registry allocation and no more 
</I>&gt;<i> helpers for long shift ops
</I>&gt;<i> 
</I>&gt;<i> Hi Guys,
</I>&gt;<i> 
</I>&gt;<i> This patch enables mini on x86 to allocate any reg 
</I>&gt;<i> combination for Int64/UInt64 and it also remove the usage of 
</I>&gt;<i> helper functions for long shl/shr operations.
</I>&gt;<i> 
</I>&gt;<i> Please review and test, I have done a lot of testing but I 
</I>&gt;<i> feel that more would be good before cvs commit.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i>  Patrik Torstensson
</I>-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: long-reg-allocation.diff.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040428/4b5ca006/attachment.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040428/4b5ca006/attachment.txt</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005193.html">[Mono-devel-list] Daily builds
</A></li>
	<LI>Next message: <A HREF="005198.html">[Mono-devel-list] System.ServiceProcess
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5194">[ date ]</a>
              <a href="thread.html#5194">[ thread ]</a>
              <a href="subject.html#5194">[ subject ]</a>
              <a href="author.html#5194">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
