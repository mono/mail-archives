<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] GetFolderPath: Should it create the  directories it returns?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20GetFolderPath%3A%20Should%20it%20create%20the%20%20directories%0A%20it%20returns%3F&In-Reply-To=6.0.3.0.2.20040426100257.030a45e0%40127.0.0.1">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005132.html">
   <LINK REL="Next"  HREF="005135.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] GetFolderPath: Should it create the  directories it returns?</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20GetFolderPath%3A%20Should%20it%20create%20the%20%20directories%0A%20it%20returns%3F&In-Reply-To=6.0.3.0.2.20040426100257.030a45e0%40127.0.0.1"
       TITLE="[Mono-devel-list] GetFolderPath: Should it create the  directories it returns?">spouliot at videotron.ca
       </A><BR>
    <I>Sun Apr 25 20:58:11 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="005132.html">[Mono-devel-list] GetFolderPath: Should it create the  directories it returns?
</A></li>
        <LI>Next message: <A HREF="005135.html">[Mono-devel-list] GetFolderPath: Should it create the 	directories it returns?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5134">[ date ]</a>
              <a href="thread.html#5134">[ thread ]</a>
              <a href="subject.html#5134">[ subject ]</a>
              <a href="author.html#5134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Simon,

&gt;<i> What does the MS equiv do?
</I>
Microsoft implementation doesn't create the directories.
That's why the current code doesn't create them either ;-)


&gt;<i> That's exactly the kind of routine that could break a LOT of
</I>cross-compatibility
&gt;<i> apps (or at least make them behave in unexpected ways)
</I>
Agreed. This is why I think this is a case where 100% compatibility may be
more a problem than a solution.
Why ? Because (most versions of) Windows already have (most of) the
directories created (and they are kind of hard to remove).

Sadly this means that most existing user code doesn't check for a directory
existance before using it. So we may end up breaking things (not fixing
them) by being compatible.



Miguel,

&gt;&gt;<i>The check for the directory should only be done
</I>&gt;&gt;<i>once per kind of directory, and not on every invocation.
</I>
This may also be a problem.

Long-lived (e.g. iFolder) applications may create a path (using
GetFolderPath(...) as their base) and use this path several times (possibly
during several days). Another application (mono-based or not) could move or
delete the directory during this time.

And no Windows doesn't really &quot;suffer&quot; from the same problem. This is
because most of those directories are &quot;hard&quot; to delete on Windows (e.g.
Explorer track them when you move them) and once deleted they don't come
back easily either.

Sebastien Pouliot
<A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>


-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>]On Behalf Of Simon Dawson
Sent: 25 avril 2004 18:04
To: Miguel de Icaza
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at ximian.com</A>
Subject: Re: [Mono-devel-list] GetFolderPath: Should it create the
directories it returns?


What does the MS equiv do?

That's exactly the kind of routine that could break a LOT of
cross-compatibility
apps (or at least make them behave in unexpected ways)

Simon

At 09:52 26/04/2004, you wrote:
&gt;<i>Hey guys,
</I>&gt;<i>
</I>&gt;<i>    I think that GetFolderPath should create the directories it returns
</I>&gt;<i>if they do not exists.  The check for the directory should only be done
</I>&gt;<i>once per kind of directory, and not on every invocation.
</I>&gt;<i>
</I>&gt;<i>   Thoughts?
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mono-devel-list mailing list
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>


_______________________________________________
Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005132.html">[Mono-devel-list] GetFolderPath: Should it create the  directories it returns?
</A></li>
	<LI>Next message: <A HREF="005135.html">[Mono-devel-list] GetFolderPath: Should it create the 	directories it returns?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5134">[ date ]</a>
              <a href="thread.html#5134">[ thread ]</a>
              <a href="subject.html#5134">[ subject ]</a>
              <a href="author.html#5134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
