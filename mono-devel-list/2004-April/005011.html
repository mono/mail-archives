<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Proposal: Library Loading
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Proposal%3A%20Library%20Loading&In-Reply-To=20040415134514.GD5921%40debian.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005009.html">
   <LINK REL="Next"  HREF="005013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Proposal: Library Loading</H1>
    <B>Mike Kestner</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Proposal%3A%20Library%20Loading&In-Reply-To=20040415134514.GD5921%40debian.org"
       TITLE="[Mono-devel-list] Proposal: Library Loading">mkestner at ximian.com
       </A><BR>
    <I>Thu Apr 15 10:45:33 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="005009.html">[Mono-devel-list] Proposal: Library Loading
</A></li>
        <LI>Next message: <A HREF="005013.html">[Mono-devel-list] Proposal: Library Loading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5011">[ date ]</a>
              <a href="thread.html#5011">[ thread ]</a>
              <a href="subject.html#5011">[ subject ]</a>
              <a href="author.html#5011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2004-04-15 at 08:45, Paolo Molaro wrote:
&gt;<i> BTW, today I finally wrote the few changes needed to support
</I>&gt;<i> per-assembly config files as was planned from the beginning: 
</I>
Sweet.  Thanks a bunch for this work.  :-)

&gt;<i> We don't use custom attributes also because they don't allow the user to
</I>&gt;<i> edit them:-)
</I>&gt;<i> The current code in cvs will try to load:
</I>&gt;<i> 	assemblyfilename.config
</I>&gt;<i> 	sysdir/assemblyname.config // with variations to support different versions
</I>&gt;<i> 	userdir/assemblyname.config
</I>
So I talked to lupus about this on irc, and just to expand on this, the
idea is that in your cvs modules and tarballs, you set up the config
files to install into libdir.  That way users can build your package and
install to whatever prefix they want with whatever privs they want. 
Then when packagers come along and dist your work, they can relocate the
config files to sysdir to keep their distributed libdirs all squeaky
clean.

&gt;<i> On 04/14/04 Jonathan Pryor wrote:
</I>&gt;<i> &gt; This isn't entirely correct/possible.  App.exe.config files only apply
</I>&gt;<i> &gt; to .exe assemblies, not .dll assemblies.  Which means that gtk-sharp.dll
</I>&gt;<i> &gt; can't have a .config file associated with it.  At least, not under .NET.
</I>&gt;<i> 
</I>&gt;<i> Since the MS .net doesn't care about dllmap, that is not an issue.
</I>
Right.  One problem we seem to have is people actually install
etc/mono/config on win32, which hoses up Gtk# since we don't want the
names mapped on win32.  ;-)

&gt;<i> With P/Invoke the assembly writer knows which version of the shared
</I>&gt;<i> library he programmed against, so he needs to specify the version/soname
</I>&gt;<i> (hi mike!).
</I>
Haha.  I love you too, Paolo.

&gt;<i> If people read the past discussions they'd have read that the
</I>&gt;<i> per-assembly config file was considered from the beginning: it wasn't
</I>&gt;<i> implemented only because I had other things to do, it was not yet really
</I>&gt;<i> needed and people like to argue about it more than writing the code.
</I>&gt;<i> It's in cvs now.
</I>
As for my own whining on the topic, it's just I was certain that your
solution would be more beautiful than anything I could produce myself. 
;-)

Thanks again for adding this.

/me goes and writes some *.dll.config files.

-- 
Mike Kestner &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mkestner at ximian.com</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005009.html">[Mono-devel-list] Proposal: Library Loading
</A></li>
	<LI>Next message: <A HREF="005013.html">[Mono-devel-list] Proposal: Library Loading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5011">[ date ]</a>
              <a href="thread.html#5011">[ thread ]</a>
              <a href="subject.html#5011">[ subject ]</a>
              <a href="author.html#5011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
