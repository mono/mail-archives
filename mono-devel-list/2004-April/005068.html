<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] patch for mcs /doc (phase 3)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20patch%20for%20mcs%20/doc%20%28phase%203%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005067.html">
   <LINK REL="Next"  HREF="005070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] patch for mcs /doc (phase 3)</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20patch%20for%20mcs%20/doc%20%28phase%203%29&In-Reply-To="
       TITLE="[Mono-devel-list] patch for mcs /doc (phase 3)">atsushi at ximian.com
       </A><BR>
    <I>Wed Apr 21 03:17:41 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="005067.html">[Mono-devel-list] FreeBSD 5.2.1 make error
</A></li>
        <LI>Next message: <A HREF="005070.html">[Mono-devel-list] patch for mcs /doc (phase 3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5068">[ date ]</a>
              <a href="thread.html#5068">[ thread ]</a>
              <a href="subject.html#5068">[ subject ]</a>
              <a href="author.html#5068">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, (I failed to send it to the list)

After receiving some comments from Miguel and Ben (thanks, and sorry
for being late), I created the third patch for mcs /doc support.
The changes are:

	- Moved some documentation properties from Driver to
	  RootContext (and changing them as fields) *1
	- Added FixupDocument() method to DeclSpace, MemberBase and
	  RootContext that processes (and releases) documentation
	  memory in the earlier compilation stage than the previous
	  patch (from next to Emit() to next to ResolveTree()) *2
	- tiny bugfix: When comment was /**/, cs-tokenizer borked.

Some comments:

*1 Had I better also move xml filename field? I kept it to driver
     similar to binary output filename.

*2 I might overuse TypeContainer.ResolveType() in the fixup methods,
     but I could not find any good way to acquire full typename.

*3 BTW, I don't think it should be counted for Mono 1.0 feature. This
     support is very rough and it rarely reports improper comments.
     (I really don't think /doc support is important)

I also put the source archive for mcs/mcs directory and profile
results here:
<A HREF="http://primates.ximian.com/~atsushi/mcs-doc-0421/mcs-doc-0421.zip">http://primates.ximian.com/~atsushi/mcs-doc-0421/mcs-doc-0421.zip</A>
<A HREF="http://primates.ximian.com/~atsushi/mcs-doc-0421/profile-nopatch-doc.txt">http://primates.ximian.com/~atsushi/mcs-doc-0421/profile-nopatch-doc.txt</A>
<A HREF="http://primates.ximian.com/~atsushi/mcs-doc-0421/profile-nogen-doc.txt">http://primates.ximian.com/~atsushi/mcs-doc-0421/profile-nogen-doc.txt</A>
<A HREF="http://primates.ximian.com/~atsushi/mcs-doc-0421/profile-gen-doc.txt">http://primates.ximian.com/~atsushi/mcs-doc-0421/profile-gen-doc.txt</A>
(Patches are: before patched / without --document / with --document)

Atsushi Eno

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: mcs-doc-20040421.diff
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040421/78623f6a/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040421/78623f6a/attachment.pl</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005067.html">[Mono-devel-list] FreeBSD 5.2.1 make error
</A></li>
	<LI>Next message: <A HREF="005070.html">[Mono-devel-list] patch for mcs /doc (phase 3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5068">[ date ]</a>
              <a href="thread.html#5068">[ thread ]</a>
              <a href="subject.html#5068">[ subject ]</a>
              <a href="author.html#5068">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
