<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] Don't spill return from call
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Don%27t%20spill%20return%20from%20call&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005122.html">
   <LINK REL="Next"  HREF="005144.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] Don't spill return from call</H1>
    <B>Ben Maurer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Don%27t%20spill%20return%20from%20call&In-Reply-To="
       TITLE="[Mono-devel-list] [PATCH] Don't spill return from call">bmaurer at users.sourceforge.net
       </A><BR>
    <I>Fri Apr 23 21:59:26 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="005122.html">[Mono-devel-list] Patch for ToUpper/ToLower
</A></li>
        <LI>Next message: <A HREF="005144.html">[Mono-devel-list] [PATCH] Don't spill return from call
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5112">[ date ]</a>
              <a href="thread.html#5112">[ thread ]</a>
              <a href="subject.html#5112">[ subject ]</a>
              <a href="author.html#5112">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Right now, we emit the following code:

&lt;type&gt; temp = MyCall ();
var = temp;

For the IL code

var = MyCall ();

By having temporary variables like these, we reduce the chances that
other variables will be put into registers, and increase code size. It
also increases the complexity of analyzing the code.

One thing I was not sure of is why this optimization was commented out.
There was no rationale behind the if (0. The code was commented since
the initial checkin, so i have no idea why it is not enabled.

I had no failures on the regression tests, nor the jit tests. I also did
a bootstrap.

-- Ben 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mini-no-call-spill.patch
Type: text/x-patch
Size: 2169 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040423/4aa6d68a/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040423/4aa6d68a/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005122.html">[Mono-devel-list] Patch for ToUpper/ToLower
</A></li>
	<LI>Next message: <A HREF="005144.html">[Mono-devel-list] [PATCH] Don't spill return from call
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5112">[ date ]</a>
              <a href="thread.html#5112">[ thread ]</a>
              <a href="subject.html#5112">[ subject ]</a>
              <a href="author.html#5112">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
