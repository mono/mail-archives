<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Patch for System.IO.Ports.SerialPort ReadLinefunction
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Patch%20for%20System.IO.Ports.SerialPort%20ReadLinefunction&In-Reply-To=087F05C91CEDCC4EA78E531C6C4E33526BF6DA%40morpheus.Rauland.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025574.html">
   <LINK REL="Next"  HREF="025555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Patch for System.IO.Ports.SerialPort ReadLinefunction</H1>
    <B>Adar Wesley</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Patch%20for%20System.IO.Ports.SerialPort%20ReadLinefunction&In-Reply-To=087F05C91CEDCC4EA78E531C6C4E33526BF6DA%40morpheus.Rauland.local"
       TITLE="[Mono-dev] Patch for System.IO.Ports.SerialPort ReadLinefunction">adar.wesley at gmail.com
       </A><BR>
    <I>Tue Nov  6 04:42:43 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025574.html">[Mono-dev] Patch for System.IO.Ports.SerialPort ReadLinefunction
</A></li>
        <LI>Next message: <A HREF="025555.html">[Mono-dev] Patch for System.IO.Ports.SerialPort ReadLine function
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25579">[ date ]</a>
              <a href="thread.html#25579">[ thread ]</a>
              <a href="subject.html#25579">[ subject ]</a>
              <a href="author.html#25579">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I don't know if it is relevant for your particular situation, but your
discussion about
keeping track of multiple possible matches reminded me of something I read a
long
time ago.

Check out the AGREP alrorithm for matching multiple patterns concurrently.
In
particular it has an efficient implementation of keeping track of multiple
possible
matches.

Just google for AGREP algorithm, or check out here:
<A HREF="http://webglimpse.net/pubs/TR94-17.pdf">http://webglimpse.net/pubs/TR94-17.pdf</A>

Hope this helps, and sorry if it's not relevant.

---
Adar Wesley


On 11/6/07, Michael Mattess &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">MichaelMattess at rauland.com.au</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>   Hello Miguel,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes using the ReadTo function does make the most sense as it is a special
</I>&gt;<i> case of the operation.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I had a look at the ReadTo function and I think it is broken.  It assumes
</I>&gt;<i> that it is in the initial state (IE current is 0) when it encounters the
</I>&gt;<i> beginning of the string it is reading to.  So if we are reading to &quot;ababZ&quot;
</I>&gt;<i> and the input is &quot;abababZfoo&quot; it will read past the &quot;ababZ&quot;.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It was because of this that I put the 'state-driven' approach into the too
</I>&gt;<i> hard / too complex basket when I wrote my initial function.  But thinking
</I>&gt;<i> about it further the ReadTo function could be extended to keep multiple
</I>&gt;<i> states (ie a list of 'current' offsets).  One for each time a potential
</I>&gt;<i> beginning of the string we are looking for is encountered.  I
</I>&gt;<i> have attached a file with such an extended ReadTo function.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Let me know your thought.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i> Michael
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> *From:* Miguel de Icaza [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at novell.com</A>]
</I>&gt;<i> *Sent:* Tue 06.11.2007 02:06
</I>&gt;<i> *To:* Michael Mattess
</I>&gt;<i> *Cc:* <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> *Subject:* Re: [Mono-dev] Patch for System.IO.Ports.SerialPortReadLinefunction
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i>     My ReadLine routine is broken, it did not append data that was only
</I>&gt;<i> partially part of the ReadLine.   While I was fixing it, I noticed that
</I>&gt;<i> we already have a routine that did this correctly (ReadTo).
</I>&gt;<i>
</I>&gt;<i>     So am going to just change the code to be:
</I>&gt;<i>
</I>&gt;<i>         ReadTo (new_line).
</I>&gt;<i>
</I>&gt;<i> Miguel.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
---
Adar Wesley
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20071106/97034e5d/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20071106/97034e5d/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025574.html">[Mono-dev] Patch for System.IO.Ports.SerialPort ReadLinefunction
</A></li>
	<LI>Next message: <A HREF="025555.html">[Mono-dev] Patch for System.IO.Ports.SerialPort ReadLine function
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25579">[ date ]</a>
              <a href="thread.html#25579">[ thread ]</a>
              <a href="subject.html#25579">[ subject ]</a>
              <a href="author.html#25579">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
