<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] ShellExecuteEx ProcessId support for Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20ShellExecuteEx%20ProcessId%20support%20for%20Windows&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025565.html">
   <LINK REL="Next"  HREF="025558.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] ShellExecuteEx ProcessId support for Windows</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20ShellExecuteEx%20ProcessId%20support%20for%20Windows&In-Reply-To="
       TITLE="[Mono-dev] [PATCH] ShellExecuteEx ProcessId support for Windows">kornelpal at gmail.com
       </A><BR>
    <I>Mon Nov  5 06:16:28 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025565.html">[Mono-dev] Patch for System.IO.Ports.SerialPort	ReadLine	function
</A></li>
        <LI>Next message: <A HREF="025558.html">[Mono-dev] [PATCH] ShellExecuteEx ProcessId support for Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25557">[ date ]</a>
              <a href="thread.html#25557">[ thread ]</a>
              <a href="subject.html#25557">[ subject ]</a>
              <a href="author.html#25557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

HAVE_GETPROCESSID depends on WINVER that is not set, so HAVE_GETPROCESSID is
never defined on Windows. This means that GetProcessId never gets called on
Windows and process ID is allways 0.

This patch adds run-time detection for GetProcessId on Windows.

Note that only Windows XP SP1 and above have GetProcessId API while Windows
2000 and above have deprecated NtQueryInformationProcess API that can be
used for the same purpose.

Please review and approve this patch.

Korn&#233;l
-------------- next part --------------
A non-text attachment was scrubbed...
Name: win_pid.diff
Type: application/octet-stream
Size: 3285 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20071105/ba316c3a/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20071105/ba316c3a/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025565.html">[Mono-dev] Patch for System.IO.Ports.SerialPort	ReadLine	function
</A></li>
	<LI>Next message: <A HREF="025558.html">[Mono-dev] [PATCH] ShellExecuteEx ProcessId support for Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25557">[ date ]</a>
              <a href="thread.html#25557">[ thread ]</a>
              <a href="subject.html#25557">[ subject ]</a>
              <a href="author.html#25557">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
