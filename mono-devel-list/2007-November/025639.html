<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Running System.Data.OracleClient test suite
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Running%20System.Data.OracleClient%20test%20suite&In-Reply-To=23a15590711130342u6f71333kb737664c4d5e9b67%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025638.html">
   <LINK REL="Next"  HREF="025631.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Running System.Data.OracleClient test suite</H1>
    <B>Konstantin Triger</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Running%20System.Data.OracleClient%20test%20suite&In-Reply-To=23a15590711130342u6f71333kb737664c4d5e9b67%40mail.gmail.com"
       TITLE="[Mono-dev] Running System.Data.OracleClient test suite">kostat at mainsoft.com
       </A><BR>
    <I>Tue Nov 13 07:33:26 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025638.html">[Mono-dev] Running System.Data.OracleClient test suite
</A></li>
        <LI>Next message: <A HREF="025631.html">[Mono-dev] [PATCH] Fixes for #322722
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25639">[ date ]</a>
              <a href="thread.html#25639">[ thread ]</a>
              <a href="subject.html#25639">[ subject ]</a>
              <a href="author.html#25639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That's true. The reason is that I assumed the test suite will work with any recent Oracle database, so the installation instructions
1. May differ from version to version.
2. Should be provided by the vendor with the distribution documentation.

Regards,
Konstantin Triger

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Leszek Ciesielski [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">skolima at gmail.com</A>]
</I>&gt;<i> Sent: Tuesday, November 13, 2007 1:43 PM
</I>&gt;<i> To: Konstantin Triger; mono-devel-list
</I>&gt;<i> Subject: Re: [Mono-dev] Running System.Data.OracleClient test suite
</I>&gt;<i> 
</I>&gt;<i> But the readme, while useful, contains only information how to
</I>&gt;<i> populate a working database.
</I>&gt;<i> 
</I>&gt;<i> On Nov 13, 2007 12:06 PM, Konstantin Triger &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kostat at mainsoft.com</A>&gt; wrote:
</I>&gt;<i> &gt; Hi Leszek,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; When I submitted the test suite to mono, I put all the Oracle
</I>&gt;<i> configuration info into
</I>&gt;<i> .../System.Data.OracleClient/Test/System.Data.OracleClient.jvm/readme.txt.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> &gt; Konstantin Triger
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A> [mailto:mono-devel-
</I>&gt;<i> list-
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bounces at lists.ximian.com</A>] On Behalf Of Leszek Ciesielski
</I>&gt;<i> &gt; &gt; Sent: Monday, November 12, 2007 1:51 PM
</I>&gt;<i> &gt; &gt; To: mono-devel-list
</I>&gt;<i> &gt; &gt; Subject: [Mono-dev] Running System.Data.OracleClient test suite
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; running the tests should be something trivial to do and instead
</I>&gt;<i> &gt; &gt; yesterday I spent 2 hours trying to figure out how I got them to run
</I>&gt;<i> &gt; &gt; before... So here's a short instruction.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Obtaining needed OCI binaries: The machine that will run the tests
</I>&gt;<i> &gt; &gt; needs 'oracle-instantclient-basic&quot; and 'oracle-instantclient-sqlplus'
</I>&gt;<i> &gt; &gt; packages installed - they should be available though your
</I>&gt;<i> &gt; &gt; distributions package manager. Please note that you'll need to create
</I>&gt;<i> &gt; &gt; an Oracle account for downloading anything from oracle.com.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Obtain and compile mono svn tree
</I>&gt;<i> &gt; &gt; (<A HREF="http://www.mono-">http://www.mono-</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> project.com/Compiling_Mono#Building_Mono_from_the_Subversion_Repository).
</I>&gt;<i> &gt; &gt; Navigate to mcs/class/System.Data.OracleClient and run 'make run-test'
</I>&gt;<i> &gt; &gt; (for net_1_1 profile) or 'make run-test PROFILE=net_2_0' . Most tests
</I>&gt;<i> &gt; &gt; will be ignored, as there's no database connection configured.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Setting up Oracle server: Fastest way to get Oracle up &amp; running is to
</I>&gt;<i> &gt; &gt; use free Oracle Express Edition
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> (<A HREF="http://www.oracle.com/technology/software/products/database/xe/htdocs/102">http://www.oracle.com/technology/software/products/database/xe/htdocs/102</A>
</I>&gt;<i> &gt; &gt; xewinsoft.html),
</I>&gt;<i> &gt; &gt; Universal version. I prefer to use a virtual Windows machine for this,
</I>&gt;<i> &gt; &gt; installation on Linux is quite cumbersome. Remember to turn off the
</I>&gt;<i> &gt; &gt; firewall or at least open port 1521 for incoming connections.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Create a 'tnsnames.ora' file. It should be located in
</I>&gt;<i> &gt; &gt; '/usr/lib/oracle/10.2.0.3/client/network/admin/tnsnames.ora' - the
</I>&gt;<i> &gt; &gt; '10.2.0.3' part is the instantclient version you have installed.
</I>&gt;<i> &gt; &gt; You'll have to move this file if you ever change the instantclient
</I>&gt;<i> &gt; &gt; version. An example file is attached to this mail, it should be enough
</I>&gt;<i> &gt; &gt; to edit the IP address after &quot;HOST =&quot; .
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Creating user and databases: Use the web frontend on the server
</I>&gt;<i> &gt; &gt; machine to create user 'GHTDB' with password 'GHTDB' and roles
</I>&gt;<i> &gt; &gt; CONNECT, RESOURCE and DBA (yes, this means full access). On the test
</I>&gt;<i> &gt; &gt; machine, navigate to
</I>&gt;<i> &gt; &gt; mcs/class/System.Data.OracleClient/Test/System.Data.OracleClient.jvm
</I>&gt;<i> &gt; &gt; and issue the following commands to populate the database:
</I>&gt;<i> &gt; &gt; 'sqlplus &quot;GHTDB/<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">GHTDB at VMWARE</A>&quot; @GHTDB.ORACLE.sql' and 'sqlplus
</I>&gt;<i> &gt; &gt; &quot;GHTDB/<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">GHTDB at VMWARE</A>&quot; @GHTDB.Data.ORACLE.sql' (where VMWARE is the
</I>&gt;<i> &gt; &gt; identifier of the database in the tnsnames.ora file).
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Configuring connection string for the tests: In
</I>&gt;<i> &gt; &gt; mcs/class/System.Data.OracleClient directory , copy
</I>&gt;<i> &gt; &gt; 'System.Data.OracleClient_test_default.dll.config.example' to
</I>&gt;<i> &gt; &gt; 'System.Data.OracleClient_test_default.dll.config' and
</I>&gt;<i> &gt; &gt; System.Data.OracleClient_test_net_2_0.dll.config', then edit the
</I>&gt;<i> &gt; &gt; connection string values to read &quot;Data Source=VMWARE;User
</I>&gt;<i> &gt; &gt; ID=GHTDB;Password=GHTDB;&quot;.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Finally, run the test suite.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Currently there are about 35 tests that fail AND there are also tests
</I>&gt;<i> &gt; &gt; marked as NotWorking on targets other than JVM. Ideally they should
</I>&gt;<i> &gt; &gt; all pass (the NotWorking attribute was used for tests that hang
</I>&gt;<i> &gt; &gt; instead of simply failing).
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Questions? Comments?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt; MS-DOS user since 5.0
</I>&gt;<i> &gt; &gt; Windows user since 3.11
</I>&gt;<i> &gt; &gt; Linux user since kernel 2.4
</I>&gt;<i> &gt; &gt; Novell Netware user since 2.2
</I>&gt;<i> &gt; &gt; WARCRAFT user since 1.0
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> MS-DOS user since 5.0
</I>&gt;<i> Windows user since 3.11
</I>&gt;<i> Linux user since kernel 2.4
</I>&gt;<i> Novell Netware user since 2.2
</I>&gt;<i> WARCRAFT user since 1.0
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025638.html">[Mono-dev] Running System.Data.OracleClient test suite
</A></li>
	<LI>Next message: <A HREF="025631.html">[Mono-dev] [PATCH] Fixes for #322722
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25639">[ date ]</a>
              <a href="thread.html#25639">[ thread ]</a>
              <a href="subject.html#25639">[ subject ]</a>
              <a href="author.html#25639">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
