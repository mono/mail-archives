<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Known issue with xbuild and line-feeds in Cygwin?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Known%20issue%20with%20xbuild%20and%20line-feeds%20in%20Cygwin%3F&In-Reply-To=%3CCAFTheUFp0RaHSUeFVVg6omrBRUXFAzm116wzv0KWui79sSaMkw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041868.html">
   <LINK REL="Next"  HREF="041877.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Known issue with xbuild and line-feeds in Cygwin?</H1>
    <B>Bob Summerwill</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Known%20issue%20with%20xbuild%20and%20line-feeds%20in%20Cygwin%3F&In-Reply-To=%3CCAFTheUFp0RaHSUeFVVg6omrBRUXFAzm116wzv0KWui79sSaMkw%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Known issue with xbuild and line-feeds in Cygwin?">bob at summerwill.net
       </A><BR>
    <I>Tue Aug 26 17:57:19 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="041868.html">[Mono-dev] CHALLENGE to Miguel de Icaza!
</A></li>
        <LI>Next message: <A HREF="041877.html">[Mono-dev] Known issue with xbuild and line-feeds in Cygwin?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41876">[ date ]</a>
              <a href="thread.html#41876">[ thread ]</a>
              <a href="subject.html#41876">[ subject ]</a>
              <a href="author.html#41876">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have inherited a shell script with a horrible line of sed in it which OS
X doesn't like, to deal with line-end issues in xbuild under Cygwin ...


# Check if we are running under Windows(cygwin) OR *nix, and use xbuild OR
MSBuild.exe accordingly
set isRunningCygwin=`uname | grep CYGWIN`
if ( $isRunningCygwin == '' ) then
    # This LINUX machine should have Mono and friends (xbuild) installed
    set builder=`which xbuild`
else
    # This WINDOWS machine should have .Net Framework installed
    set builder=`find /cygdrive/c/Windows/Microsoft.NET/Framework/v4.0*
-name MSBuild.exe`
endif

if ($builder == '') then
    echo &quot;Unable to find 'xbuild' (Linux) OR 'MSBuild.exe' (Windows) to
build Solution, bailing!&quot;
    exit -1
endif

# Switch directories to get around silly MSBuild vs Cygwin issues
cd ../LucyServer
sed -i '/^$/d' ${LucyServerSolution}
$builder ${LucyServerSolution} /verbosity:quiet /p:Configuration=Release
cd ../Scripts


Is this something which is familiar to other xbuild users?

I  _think_ that the sed is trying to replace Windows-style line-endings in
the SLN with Linux-style line-endings, though that shouldn't be necessary.

I think there is a bug report in here, when I can figure out exactly what
is going wrong.

On Mac OSX the sed line barfs and fails.    Without the sed line the Cygwin
build just silently doesn't build anything.


Cheers,
Bob


-- 
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bob at summerwill.net</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20140826/45aa3c06/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20140826/45aa3c06/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041868.html">[Mono-dev] CHALLENGE to Miguel de Icaza!
</A></li>
	<LI>Next message: <A HREF="041877.html">[Mono-dev] Known issue with xbuild and line-feeds in Cygwin?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41876">[ date ]</a>
              <a href="thread.html#41876">[ thread ]</a>
              <a href="subject.html#41876">[ subject ]</a>
              <a href="author.html#41876">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
