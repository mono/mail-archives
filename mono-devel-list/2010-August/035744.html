<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] mono.simd
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono.simd&In-Reply-To=AANLkTinMSAgeGHFjFNHLZUz8f8pJ0jdHxo854Ro8wFw%2B%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035743.html">
   <LINK REL="Next"  HREF="035745.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] mono.simd</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono.simd&In-Reply-To=AANLkTinMSAgeGHFjFNHLZUz8f8pJ0jdHxo854Ro8wFw%2B%40mail.gmail.com"
       TITLE="[Mono-dev] mono.simd">robertj at gmx.net
       </A><BR>
    <I>Mon Aug 23 14:29:14 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035743.html">[Mono-dev] mono.simd
</A></li>
        <LI>Next message: <A HREF="035745.html">[Mono-dev] mono.simd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35744">[ date ]</a>
              <a href="thread.html#35744">[ thread ]</a>
              <a href="subject.html#35744">[ subject ]</a>
              <a href="author.html#35744">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23.08.2010 19:24, Jerry Maine wrote:
&gt;<i> Would the c# portion of the patch work on MS .Net?
</I>
Dammit! I thought the icall would be ignored by MS.NET because
I took care of not invoking it in this case. But icalls are not
allowed in assemblies != mscorlib under MS.NET.

Unless I'm misguided, the only solution seems to evolve
around adding a branch to

	marshal.cs: mono_marshal_get_runtime_invoke ()

Schematic code:

if (method-&gt;klass == &quot;Mono.Simd.SimdRuntime&quot;) {
	need_direct_wrapper = TRUE;
}

The flag will instruct this function to create yet another
wrapper around calls to methods of the Mono.Simd.SimdRuntime
class. This additional wrapper lets the runtime take the
fast path even for reflection calls.

Robert

</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035743.html">[Mono-dev] mono.simd
</A></li>
	<LI>Next message: <A HREF="035745.html">[Mono-dev] mono.simd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35744">[ date ]</a>
              <a href="thread.html#35744">[ thread ]</a>
              <a href="subject.html#35744">[ subject ]</a>
              <a href="author.html#35744">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
