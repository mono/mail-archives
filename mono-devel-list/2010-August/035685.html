<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] reloading mono domain or assemblies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20reloading%20mono%20domain%20or%20assemblies&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035681.html">
   <LINK REL="Next"  HREF="035686.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] reloading mono domain or assemblies</H1>
    <B>marcus julius</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20reloading%20mono%20domain%20or%20assemblies&In-Reply-To="
       TITLE="[Mono-dev] reloading mono domain or assemblies">marcusjls at yahoo.com
       </A><BR>
    <I>Mon Aug 16 08:31:15 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035681.html">[Mono-dev] Lazy loading of fields
</A></li>
        <LI>Next message: <A HREF="035686.html">[Mono-dev] Arm9 NS9215 floating point troubles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35685">[ date ]</a>
              <a href="thread.html#35685">[ thread ]</a>
              <a href="subject.html#35685">[ subject ]</a>
              <a href="author.html#35685">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Lucas,

&gt;<i>you can use mono_domain_create() and mono_domain_unload() just fine from 
</I>&gt;<i>c.  In fact, I suspect it's actually
</I>&gt;<i>easier to do from native code these days.  basically what you should do is:
</I>
&gt;<i>create domain
</I>&gt;<i>set it active
</I>&gt;<i>load your assemblies
</I>&gt;<i>run your code
</I>
&gt;<i>when you want to reload code,
</I>
&gt;<i>unload the domain
</I>&gt;<i>load your assemblies again
</I>&gt;<i>run your code.
</I>
I actually found similar reply from you in another discussion 
and I am using this solution. 

However, I have a problem with one of the DLLs. I cannot delete it
because there are internal calls registered (mono_add_internal_call) 
from that DLL. I cannot delete that DLL even after unloading the domain.

I don't think it is related to loading an assembly from the disk instead
of memory because other DLL that does not have any method registered 
with mono can be deleted after unloading the domain.

Do you have any idea how to solve this?

Thanks.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100816/6301b683/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100816/6301b683/attachment-0001.html</A> 
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035681.html">[Mono-dev] Lazy loading of fields
</A></li>
	<LI>Next message: <A HREF="035686.html">[Mono-dev] Arm9 NS9215 floating point troubles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35685">[ date ]</a>
              <a href="thread.html#35685">[ thread ]</a>
              <a href="subject.html#35685">[ subject ]</a>
              <a href="author.html#35685">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
