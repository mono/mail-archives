<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] mscorlib.dll not unloaded on windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mscorlib.dll%20not%20unloaded%20on%20windows&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035738.html">
   <LINK REL="Next"  HREF="035741.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] mscorlib.dll not unloaded on windows</H1>
    <B>Ignas</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mscorlib.dll%20not%20unloaded%20on%20windows&In-Reply-To="
       TITLE="[Mono-dev] mscorlib.dll not unloaded on windows">ignas at unity3d.com
       </A><BR>
    <I>Mon Aug 23 11:43:16 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035738.html">[Mono-dev] fixing some warnings - fatal error call might return
</A></li>
        <LI>Next message: <A HREF="035741.html">[Mono-dev] mscorlib.dll not unloaded on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35740">[ date ]</a>
              <a href="thread.html#35740">[ thread ]</a>
              <a href="subject.html#35740">[ subject ]</a>
              <a href="author.html#35740">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I haven't attached a sample but test scenario is really simple. Init mono,
create child app domain, load assembly, unload domain, cleanup mono, observe
how mscorlib.dll is still loaded (at least on Windows). I can tell that by
looking at Process Explorer utility which shows that mscorlib.dll is still
memory mapped. After every consecutive iteration one more mscorlib.dll is
loaded until process runs out of virtual memory. Which is really bad for our
browser plugin (Unity Web Player).
Is this a known issue? I can make it go away by manually calling
mono_assembly_close() on corlib but not sure if this is safe and at which
point it is safe. Before mono_runtime_cleanup() or after?

Thanks,
Ignas
-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/mscorlib-dll-not-unloaded-on-windows-tp2335333p2335333.html">http://mono.1490590.n4.nabble.com/mscorlib-dll-not-unloaded-on-windows-tp2335333p2335333.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035738.html">[Mono-dev] fixing some warnings - fatal error call might return
</A></li>
	<LI>Next message: <A HREF="035741.html">[Mono-dev] mscorlib.dll not unloaded on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35740">[ date ]</a>
              <a href="thread.html#35740">[ thread ]</a>
              <a href="subject.html#35740">[ subject ]</a>
              <a href="author.html#35740">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
