<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] ASP.NET 2.0 performance discussion.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20ASP.NET%202.0%20performance%20discussion.&In-Reply-To=20061122235708.227bf370%40beowulf">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021496.html">
   <LINK REL="Next"  HREF="021504.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] ASP.NET 2.0 performance discussion.</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20ASP.NET%202.0%20performance%20discussion.&In-Reply-To=20061122235708.227bf370%40beowulf"
       TITLE="[Mono-dev] ASP.NET 2.0 performance discussion.">miguel at ximian.com
       </A><BR>
    <I>Wed Nov 22 20:32:47 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021496.html">[Mono-dev] ASP.NET 2.0 performance discussion.
</A></li>
        <LI>Next message: <A HREF="021504.html">[Mono-dev] ASP.NET 2.0 performance discussion.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21499">[ date ]</a>
              <a href="thread.html#21499">[ thread ]</a>
              <a href="subject.html#21499">[ subject ]</a>
              <a href="author.html#21499">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> To make the description less chaotic, here's what I was thinking about
</I>&gt;<i> implementing the support. The XML files that define browsers are pretty
</I>&gt;<i> complex, but in general, they rely on regular expressions. During the
</I>&gt;<i> application startup time we'd compile all the expressions, store them
</I>&gt;<i> in some structure (it would need to be hierarchic, since browser
</I>&gt;<i> matching can be nested) and set up an ApplicationDomain-wide cache for
</I>&gt;<i> already matched browser UAs. The UA cache could be a SortedList,
</I>&gt;<i> and we would use the full UAs to look up the browser capabilities. That
</I>&gt;<i> way, as the browsers visit the site, the cache would provide
</I>&gt;<i> faster access to the capabilities, until the application would have to
</I>&gt;<i> be restarted. It would certainly be some improvement.
</I>&gt;<i> Of course, finding out how to avoid loading the database every time
</I>&gt;<i> would be the best improvement.
</I>
Another thing that might be worth looking into are the properties that
we actually consume.   As far as I know, we could be turning hundreds of
separate entries into the same entry as we might not even care about the
differences.

Although there are wildcards in the definition, the majority of the
wildcards (for the majority of the browsers) happen at the end, so we do
not even need a regular expression engine to run this beast.

We could easily shortcut any of the keys that end with a &quot;*&quot; and flag
them as &quot;Use StartsWith&quot; for the UA matching.

This is an area of code that we have not really exercised in the past in
benchmarks, but it is very likely that any larger applications
(specially any Ajax happy one) would have ended up doing this.  

So fixing this for 1.0 will be useful.

Miguel.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021496.html">[Mono-dev] ASP.NET 2.0 performance discussion.
</A></li>
	<LI>Next message: <A HREF="021504.html">[Mono-dev] ASP.NET 2.0 performance discussion.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21499">[ date ]</a>
              <a href="thread.html#21499">[ thread ]</a>
              <a href="subject.html#21499">[ subject ]</a>
              <a href="author.html#21499">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
