<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] TDS 8.0 and SslClientStream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20TDS%208.0%20and%20SslClientStream&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021531.html">
   <LINK REL="Next"  HREF="021544.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] TDS 8.0 and SslClientStream</H1>
    <B>Dmitry Key</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20TDS%208.0%20and%20SslClientStream&In-Reply-To="
       TITLE="[Mono-dev] TDS 8.0 and SslClientStream">dmitryskey at hotmail.com
       </A><BR>
    <I>Tue Nov 28 01:57:09 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021531.html">[Mono-dev] NUnit 2.2.9 Released
</A></li>
        <LI>Next message: <A HREF="021544.html">[Mono-dev] TDS 8.0 and SslClientStream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21532">[ date ]</a>
              <a href="thread.html#21532">[ thread ]</a>
              <a href="subject.html#21532">[ subject ]</a>
              <a href="author.html#21532">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, all

I am working on TDS 8.0 network protocol for the SqlClient and facing with 
the problem of the handshaking implementation. The corresponding TDS packet 
consists of the TDS header and TDS body with the TLS handshake packet. So to 
parse server response we have to read entire TDS packet, analyze its type 
and, if necessary, extract TLS part and send it to the SslClientStream 
class. But this class uses asynchronous Stream.BeginRead/EndRead methods in 
the handshake procedure and it is impossible read data asynchronously from 
the internal buffer. I see two methods to resolve such a problem.
1) Rewrite handshake code of the SslClientStream/SslBaseStream in the 
synchronous manner. Another reason to do it is the following: SslStream 
class from .Net 2.0 uses synchronous methods to make handshake and as far as 
I understand Mono version of this class will be implemented on the basis of 
the Mono.Security.
2) Implement IAsyncResult interface in such a way that it will be possible 
to read data from memory buffer asynchronously. I suppose it can be done as 
the extension of the MemoryStream class.

In any case the good knowledge of Mono.Security internals is required. So 
could some Mono guru help me to solve my problem?

_________________________________________________________________
FREE pop-up blocking with the new MSN Toolbar - get it now! 
<A HREF="http://toolbar.msn.click-url.com/go/onm00200415ave/direct/01/">http://toolbar.msn.click-url.com/go/onm00200415ave/direct/01/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021531.html">[Mono-dev] NUnit 2.2.9 Released
</A></li>
	<LI>Next message: <A HREF="021544.html">[Mono-dev] TDS 8.0 and SslClientStream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21532">[ date ]</a>
              <a href="thread.html#21532">[ thread ]</a>
              <a href="subject.html#21532">[ subject ]</a>
              <a href="author.html#21532">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
