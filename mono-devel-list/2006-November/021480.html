<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] DateTime.Now performance improvement.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20DateTime.Now%20performance%20improvement.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021503.html">
   <LINK REL="Next"  HREF="021481.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] DateTime.Now performance improvement.</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20DateTime.Now%20performance%20improvement.&In-Reply-To="
       TITLE="[Mono-dev] DateTime.Now performance improvement.">miguel at ximian.com
       </A><BR>
    <I>Tue Nov 21 18:07:13 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021503.html">[Mono-dev] String class speed improvements
</A></li>
        <LI>Next message: <A HREF="021481.html">[Mono-dev] DateTime.Now performance improvement.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21480">[ date ]</a>
              <a href="thread.html#21480">[ thread ]</a>
              <a href="subject.html#21480">[ subject ]</a>
              <a href="author.html#21480">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

    The following patch helps in improving the performance of
DateTime.Now.   

    DateTime.Now does a lot of work currently as it needs to convert a
system time into the local time zone.  This patch caches a common value:
the current year at the time of initialization, and uses that fast code
path instead of the slower one most of the time.

    People running software that crosses the year boundary will still
get the slower version, I could fix that if we think its important.

Miguel.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: timezone-1.patch
Type: text/x-patch
Size: 4047 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20061121/3e10a10e/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20061121/3e10a10e/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021503.html">[Mono-dev] String class speed improvements
</A></li>
	<LI>Next message: <A HREF="021481.html">[Mono-dev] DateTime.Now performance improvement.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21480">[ date ]</a>
              <a href="thread.html#21480">[ thread ]</a>
              <a href="subject.html#21480">[ subject ]</a>
              <a href="author.html#21480">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
