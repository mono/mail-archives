<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH 00/12] Port Mono to Haiku/x86
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%2000/12%5D%20Port%20Mono%20to%20Haiku/x86&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034498.html">
   <LINK REL="Next"  HREF="034515.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH 00/12] Port Mono to Haiku/x86</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%2000/12%5D%20Port%20Mono%20to%20Haiku/x86&In-Reply-To="
       TITLE="[Mono-dev] [PATCH 00/12] Port Mono to Haiku/x86">andreas.faerber at web.de
       </A><BR>
    <I>Fri Mar 26 09:29:53 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="034498.html">[Mono-dev] [PATCH] debugger was using Mono.GetOptions
</A></li>
        <LI>Next message: <A HREF="034515.html">[Mono-dev] [PATCH 00/12] Port Mono to Haiku/x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34501">[ date ]</a>
              <a href="thread.html#34501">[ thread ]</a>
              <a href="subject.html#34501">[ subject ]</a>
              <a href="author.html#34501">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>From: Andreas Faerber &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">andreas.faerber at web.de</A>&gt;

Hello,

With this series of patches I am able to bootstrap Mono on x86 Haiku,
the Open Source successor to the BeOS.

~&gt; uname -a
Haiku haiku2 1 r35945 Mar 20 2010 14:15:39 BePC Haiku

I am configuring --with-gc=none for now and --with-glib=embedded, and
using GCC 4.3.3 and monolite.

Haiku does not support SA_SIGINFO but BeOS' &quot;intermediate&quot; form of signal
handlers, providing register context but no signal info such as the
address of a SIGSEGV.

Simple programs run fine, including p/invokes into Interface Kit (libbe).
`make rcheck` crashes during the exceptions.exe test with an empty stack
trace.

Patches are designed to be mostly independent of each other and their
order. Please review which ones may be applied and whether you have
suggestions for improvements. Thanks!

Regards,
Andreas

Andreas F&#228;rber (12):
  configure: Add support for Haiku
  configure: Don't hardcode libm dependency
  config: Add support for Haiku
  mini: Add support for BeOS-style signal handlers
  mini: Fix unguarded uses of siginfo_t
  Handle lack of SA_SIGINFO
  io-layer: Define makedev for Haiku
  serial: Various workarounds for Haiku
  console-unix: Workaround FIONREAD ioctl for Haiku
  eglib: Workaround hardcoded library dependencies for Haiku
  configure: Fix linking against eglib
  null-gc: Fix function name

 ChangeLog                    |    6 ++++++
 configure.in                 |   32 ++++++++++++++++++++++++++++++--
 eglib/src/Makefile.am        |    2 +-
 eglib/test/Makefile.am       |    2 +-
 mono/io-layer/processes.c    |    3 +++
 mono/metadata/ChangeLog      |   12 ++++++++++++
 mono/metadata/console-unix.c |   40 ++++++++++++++++++++++++++++++----------
 mono/metadata/mono-config.c  |    2 ++
 mono/metadata/null-gc.c      |    2 +-
 mono/mini/ChangeLog          |   21 +++++++++++++++++++++
 mono/mini/mini-posix.c       |   15 +++++++++++++--
 mono/mini/mini-x86.c         |    8 ++++++++
 mono/mini/mini-x86.h         |   18 ++++++++++++++++++
 mono/mini/mini.h             |    6 ++++++
 support/serial.c             |   17 +++++++++++++++++
 15 files changed, 169 insertions(+), 17 deletions(-)

</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034498.html">[Mono-dev] [PATCH] debugger was using Mono.GetOptions
</A></li>
	<LI>Next message: <A HREF="034515.html">[Mono-dev] [PATCH 00/12] Port Mono to Haiku/x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34501">[ date ]</a>
              <a href="thread.html#34501">[ thread ]</a>
              <a href="subject.html#34501">[ subject ]</a>
              <a href="author.html#34501">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
