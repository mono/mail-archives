<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] WCF multithreaded and property handling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20WCF%20multithreaded%20and%20property%20handling&In-Reply-To=F58CD3BF9A7E564C927975D9BF8486730C7447%40sbs.ShoutTelecoms.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034455.html">
   <LINK REL="Next"  HREF="034461.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] WCF multithreaded and property handling</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20WCF%20multithreaded%20and%20property%20handling&In-Reply-To=F58CD3BF9A7E564C927975D9BF8486730C7447%40sbs.ShoutTelecoms.local"
       TITLE="[Mono-dev] [PATCH] WCF multithreaded and property handling">atsushieno at veritas-vos-liberabit.com
       </A><BR>
    <I>Tue Mar 23 08:49:54 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="034455.html">[Mono-dev] [PATCH] WCF multithreaded and property handling
</A></li>
        <LI>Next message: <A HREF="034461.html">[Mono-dev] [PATCH] WCF multithreaded and property handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34459">[ date ]</a>
              <a href="thread.html#34459">[ thread ]</a>
              <a href="subject.html#34459">[ subject ]</a>
              <a href="author.html#34459">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Thanks for the patch. They are looking like a great set of attempts for 
cool bugfixes :) However there is a lot of other changes that your 
description cannot explain. So, please first split the changes into 
further smaller patches for each purpose, and give explanation for each 
change. For example,

- // FIXME: this should not be required, but it somehow saves some 
failures wrt concurrent calls.
- Thread.Sleep (100);

This kind of change should not be made without explanation. (you aren't 
really sure about why it exists, right?)

As for ChannelListenerBase.Properties, I'd rather make the changes much 
smaller like the attached change. Isn't it enough? There's no test case 
that I can verify your (and-my) changes.

Atsushi Eno

On 2010/03/23 20:28, Matt Dargavel wrote:
&gt;<i>
</I>&gt;<i> The included patches fix the following:
</I>&gt;<i>
</I>&gt;<i> multithreaded_fixes.patch: ObjectDisposedException, 
</I>&gt;<i> InvalidOperationException(&quot;Another async TryReceiveRequest operation 
</I>&gt;<i> is in progress&quot;) and other multithreaded timing fixes. Also includes 
</I>&gt;<i> change to make GET ?wsdl case insensitive.
</I>&gt;<i>
</I>&gt;<i> properties_handling.patch: MetadataPublishingInfo not available in 
</I>&gt;<i> TransactionChannelListener&#8217;s inner_listener. I created a new 
</I>&gt;<i> RetrieveProperty function as overriding GetProperty&lt;T&gt; didn&#8217;t work- 
</I>&gt;<i> the ChannelListenerBase implementation was still called. Perhaps 
</I>&gt;<i> there&#8217;s a bug with generic function overrides or maybe I&#8217;ve done 
</I>&gt;<i> something silly there?
</I>&gt;<i>
</I>&gt;<i> properties_and_wsdl.patch: patch for ServiceMetadataExtension.cs that 
</I>&gt;<i> goes with the properties changes and the ?wsdl change.
</I>&gt;<i>
</I>&gt;<i> Let me know if you have any questions. :-)
</I>&gt;<i>
</I>&gt;<i> Matt.
</I>&gt;<i>
</I>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: properties-simpler.patch
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100323/4d564065/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100323/4d564065/attachment.pl</A> 
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034455.html">[Mono-dev] [PATCH] WCF multithreaded and property handling
</A></li>
	<LI>Next message: <A HREF="034461.html">[Mono-dev] [PATCH] WCF multithreaded and property handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34459">[ date ]</a>
              <a href="thread.html#34459">[ thread ]</a>
              <a href="subject.html#34459">[ subject ]</a>
              <a href="author.html#34459">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
