<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono.Security - ssl certificate datetime parsing causes	crash on some cultures. (patch)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono.Security%20-%20ssl%20certificate%20datetime%20parsing%20causes%0A%09crash%20on%20some%20cultures.%20%28patch%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034487.html">
   <LINK REL="Next"  HREF="034478.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono.Security - ssl certificate datetime parsing causes	crash on some cultures. (patch)</H1>
    <B>yoni shalom</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono.Security%20-%20ssl%20certificate%20datetime%20parsing%20causes%0A%09crash%20on%20some%20cultures.%20%28patch%29&In-Reply-To="
       TITLE="[Mono-dev] Mono.Security - ssl certificate datetime parsing causes	crash on some cultures. (patch)">silver83 at gmail.com
       </A><BR>
    <I>Wed Mar 24 05:26:04 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="034487.html">[Mono-dev] [PATCH] Two patches to make SGen work on Darwin/x86
</A></li>
        <LI>Next message: <A HREF="034478.html">[Mono-dev] Mono.Security - ssl certificate datetime parsing causes crash on some cultures. (patch)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34473">[ date ]</a>
              <a href="thread.html#34473">[ thread ]</a>
              <a href="subject.html#34473">[ subject ]</a>
              <a href="author.html#34473">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A crash occurs on windows machines when the process culture info doesn't
support the string format representing the x509 certificate timestamp.
Certificate timestamps should be parsed to DateTime using InvariantCulture,
which is what the patch does.

Stack Trace :

System.Security.Cryptography.CryptographicException: Input data cannot be
coded as a valid certificate. ---&gt; System.FormatException: The DateTime
represented by the string is not supported in calendar
System.Globalization.UmAlQuraCalendar. at
System.DateTimeParse.ParseExact(String s, String format, DateTimeFormatInfo
dtfi, DateTimeStyles style) at System.DateTime.ParseExact(String s, String
format, IFormatProvider provider, DateTimeStyles style) at
Mono.Security.ASN1Convert.ToDateTime(ASN1 time) at
Mono.Security.X509.X509Certificate.Parse(Byte[] data) --- End of inner
exception stack trace --- at Mono.Security.X509.X509Certificate.Parse(Byte[]
data) at Mono.Security.X509.X509Certificate..ctor(Byte[] data)


Regards,
Yoni Shalom.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100324/e03e3e69/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100324/e03e3e69/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Mono.Security-ASN1Convert.patch
Type: application/octet-stream
Size: 592 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100324/e03e3e69/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100324/e03e3e69/attachment.obj</A> 
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034487.html">[Mono-dev] [PATCH] Two patches to make SGen work on Darwin/x86
</A></li>
	<LI>Next message: <A HREF="034478.html">[Mono-dev] Mono.Security - ssl certificate datetime parsing causes crash on some cultures. (patch)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34473">[ date ]</a>
              <a href="thread.html#34473">[ thread ]</a>
              <a href="subject.html#34473">[ subject ]</a>
              <a href="author.html#34473">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
