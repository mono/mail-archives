<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Something bad happened between 2.6.1 and 2.6.3?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Something%20bad%20happened%20between%202.6.1%20and%202.6.3%3F&In-Reply-To=hoiqm8%24fjh%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034527.html">
   <LINK REL="Next"  HREF="034528.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Something bad happened between 2.6.1 and 2.6.3?</H1>
    <B>Ben Clewett</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Something%20bad%20happened%20between%202.6.1%20and%202.6.3%3F&In-Reply-To=hoiqm8%24fjh%241%40dough.gmane.org"
       TITLE="[Mono-dev] Something bad happened between 2.6.1 and 2.6.3?">Ben.Clewett at roadtech.co.uk
       </A><BR>
    <I>Mon Mar 29 03:47:24 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="034527.html">[Mono-dev] Something bad happened between 2.6.1 and 2.6.3?
</A></li>
        <LI>Next message: <A HREF="034528.html">[Mono-dev] About Bug 321325 - SSL re-negotiation failure with	Postgres
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34529">[ date ]</a>
              <a href="thread.html#34529">[ thread ]</a>
              <a href="subject.html#34529">[ subject ]</a>
              <a href="author.html#34529">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Morning Robert,

Thanks for the reply.

The out of memory seemed to be the most likely I thought.

Yet it is not the case, Apache is using a fraction of the 10GB 
available.  Each fork is using about 410m:

Mem:  10264800k total,  2487112k used,  7777688k free,   402464k buffers
Swap: 10490404k total,        0k used, 10490404k free,   688460k cached

18937 wwwrun    20   0  421m  18m 5780 S    0  0.2   0:00.90 httpd2-prefork
19462 wwwrun    20   0  421m  18m 5780 S    0  0.2   0:00.90 httpd2-prefork
18933 wwwrun    20   0  403m  17m 4456 S    0  0.2   0:00.94 httpd2-prefork
18722 root      20   0  403m  20m 8192 S    0  0.2   0:00.48 httpd2-prefork

(etc)

This only happens with mod_mono, and only since upgrading from 2.6.1 to 
2.6.3.  Therefore I strongly believe mod_mono has a fault in this release.

Thanks for the reply,

Ben


Robert Jordan wrote:
&gt;<i> On 26.03.2010 18:06, Ben Clewett wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dear List,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Been using Mono through Mod-mono and stand-alone programs for years with
</I>&gt;&gt;<i> great success, great product.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Had an issue with 2.6.1 where a file handler in VB.NET was returning
</I>&gt;&gt;<i> null, so upgraded to 2.6.3, and now nothing through Mod-Mono is working,
</I>&gt;&gt;<i> and getting things like this in Apache error.log.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please, am I doing something wrong??
</I>&gt;<i> 
</I>&gt;&gt;<i> /bin/sh: error while loading shared libraries: libdl.so.2: failed to map
</I>&gt;&gt;<i> segment from shared object: Cannot allocate memory
</I>&gt;<i> 
</I>&gt;<i> Out of memory.
</I>&gt;<i> 
</I>&gt;&gt;<i> [Fri Mar 26 17:02:31 2010] [error] Failed to connect to mod-mono-server
</I>&gt;&gt;<i> after several attempts to spawn the process.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ***MEMORY-ERROR***: /usr/lib/mono/2.0/mod-mono-server2.exe[27013]:
</I>&gt;&gt;<i> GSlice: failed to allocate 1008 bytes (alignment: 1024): Cannot allocate
</I>&gt;&gt;<i> memory
</I>&gt;<i> 
</I>&gt;<i> Out of memory, too.
</I>&gt;<i> 
</I>&gt;<i> Your system seems to limit the memory usage of processes spawned
</I>&gt;<i> by Apache.
</I>&gt;<i> 
</I>&gt;<i> Robert
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>&gt;<i> *RT IMSS Scanned*
</I>&gt;<i> 
</I>
*************************************************************************
This e-mail is confidential and may be legally privileged. It is intended
solely for the use of the individual(s) to whom it is addressed. Any
content in this message is not necessarily a view or statement from Road
Tech Computer Systems Limited but is that of the individual sender. If
you are not the intended recipient, be advised that you have received
this e-mail in error and that any use, dissemination, forwarding,
printing, or copying of this e-mail is strictly prohibited. We use
reasonable endeavours to virus scan all e-mails leaving the company but
no warranty is given that this e-mail and any attachments are virus free.
You should undertake your own virus checking. The right to monitor e-mail
communications through our networks is reserved by us

  Road Tech Computer Systems Ltd. Shenley Hall, Rectory Lane, Shenley,
  Radlett, Hertfordshire, WD7 9AN. - VAT Registration No GB 449 3582 17
  Registered in England No: 02017435, Registered Address: Charter Court, 
  Midland Road, Hemel Hempstead,  Hertfordshire, HP2 5GE. 
*************************************************************************
</PRE>
















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034527.html">[Mono-dev] Something bad happened between 2.6.1 and 2.6.3?
</A></li>
	<LI>Next message: <A HREF="034528.html">[Mono-dev] About Bug 321325 - SSL re-negotiation failure with	Postgres
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34529">[ date ]</a>
              <a href="thread.html#34529">[ thread ]</a>
              <a href="subject.html#34529">[ subject ]</a>
              <a href="author.html#34529">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
