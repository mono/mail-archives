<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] WCF: ObjectDisposedException in	System.ServiceModel.Channels
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20WCF%3A%20ObjectDisposedException%20in%0A%09System.ServiceModel.Channels&In-Reply-To=4B99B422.8000400%40veritas-vos-liberabit.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034351.html">
   <LINK REL="Next"  HREF="034423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] WCF: ObjectDisposedException in	System.ServiceModel.Channels</H1>
    <B>Matt Dargavel</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20WCF%3A%20ObjectDisposedException%20in%0A%09System.ServiceModel.Channels&In-Reply-To=4B99B422.8000400%40veritas-vos-liberabit.com"
       TITLE="[Mono-dev] WCF: ObjectDisposedException in	System.ServiceModel.Channels">matt at shout-telecoms.com
       </A><BR>
    <I>Fri Mar 19 13:55:04 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="034351.html">[Mono-dev] exception stack trace (was Re: WCF: ObjectDisposedException in System.ServiceModel.Channels)
</A></li>
        <LI>Next message: <A HREF="034423.html">[Mono-dev] WCF: ObjectDisposedException in	System.ServiceModel.Channels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34406">[ date ]</a>
              <a href="thread.html#34406">[ thread ]</a>
              <a href="subject.html#34406">[ subject ]</a>
              <a href="author.html#34406">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've found the problem and I have a few patches to submit.  The patches
cover the following:

* Some fixes for the issue I was seeing below (some multithreaded timing
issues).  
* A change to make the check against ?wsdl case insensitive for the root
wsdl page, after that you should follow the include links anyway.  This
appears to be more consistent with the way .NET works.
* A change to the property handling of
TransactionChannelListener&lt;TChannel&gt; and ChannelListenerBase to fix a
problem with the MetadataPublishingInfo property.  This patch probably
requires some extra explanation / discussion.
* A change to ServiceHostBase so that ApplyDescription can add base
addresses (a problem I noticed when using config files).

I've made the changes against tip, although I've also tried the
resulting dll with 2.6 (.1) and it seems to work fine.

Do you have a preference as to how I submit the patches?

	Regards,

		Matt.


&gt;<i> -----Original Message-----
</I>&gt;<i> From: Atsushi Eno [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">atsushieno at veritas-vos-liberabit.com</A>]
</I>&gt;<i> Sent: 12 March 2010 3:25 AM
</I>&gt;<i> To: Matt Dargavel
</I>&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-dev] WCF: ObjectDisposedException in
</I>&gt;<i> System.ServiceModel.Channels
</I>&gt;<i> 
</I>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> There are few things I can say from your input, but 1) I have never
</I>&gt;<i> heard of this kind of problem
</I>&gt;<i> and 2) trunk is way better than 2.6.
</I>&gt;<i> 
</I>&gt;<i> Atsushi Eno
</I>&gt;<i> 
</I>&gt;<i> On 2010/03/12 1:09, Matt Dargavel wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi there,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I've found an issue in Mono 2.6.0 using a self hosted WCF service
</I>and
&gt;<i> &gt; was wondering if anyone had seen this before (Mono trace below).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It appears to be caused by firing in a request to the Service that
</I>&gt;<i> &gt; takes a long time and while that request is still running firing in
</I>&gt;<i> &gt; another one. I've tried with both a Singleton service instance with
</I>&gt;<i> &gt; ConcurrencyMode.Single and a service host with a type and
</I>&gt;<i> &gt; ConcurrencyMode.Multiple but both seem to have the same problem.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm just trying the latest svn and will try to pinpoint the issue,
</I>but
&gt;<i> &gt; any help / pointers would be appreciated!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Matt.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Trace:
</I>&gt;<i> &gt;
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034351.html">[Mono-dev] exception stack trace (was Re: WCF: ObjectDisposedException in System.ServiceModel.Channels)
</A></li>
	<LI>Next message: <A HREF="034423.html">[Mono-dev] WCF: ObjectDisposedException in	System.ServiceModel.Channels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34406">[ date ]</a>
              <a href="thread.html#34406">[ thread ]</a>
              <a href="subject.html#34406">[ subject ]</a>
              <a href="author.html#34406">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
