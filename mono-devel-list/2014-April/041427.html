<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Repeat builds of core assemblies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Repeat%20builds%20of%20core%20assemblies&In-Reply-To=%3CCA%2B1gSVhJk8yPejTETMRYpo0_%3DPPmFLc8o3pRbQU9yG-dXJejOA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041425.html">
   <LINK REL="Next"  HREF="041423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Repeat builds of core assemblies</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Repeat%20builds%20of%20core%20assemblies&In-Reply-To=%3CCA%2B1gSVhJk8yPejTETMRYpo0_%3DPPmFLc8o3pRbQU9yG-dXJejOA%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Repeat builds of core assemblies">monoman at gmail.com
       </A><BR>
    <I>Wed Apr 23 11:46:26 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="041425.html">[Mono-dev] Repeat builds of core assemblies
</A></li>
        <LI>Next message: <A HREF="041423.html">[Mono-dev] Repeat builds of core assemblies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41427">[ date ]</a>
              <a href="thread.html#41427">[ thread ]</a>
              <a href="subject.html#41427">[ subject ]</a>
              <a href="author.html#41427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Why don't we extend mcs to twist netmodules compilation into multi-assembly
compilation?

See <A HREF="http://msdn.microsoft.com/en-us/library/226t7yxe(v=vs.110">http://msdn.microsoft.com/en-us/library/226t7yxe(v=vs.110</A>).aspx

So that a line like below would work?

mcs /out:System.dll System/System.Collections.Generic/Queue.cs ...
/out:System.Xml.dll System.XML/System.Xml/XmlAttribute.cs ...


Then we would have a single pass on the build for building this troika.
For me it surely looks like a more sensible solution, aside from probably
eating a lot more memory for this compilation. :)

Another alternative would be to compile to netmodules with mcs and extend
Mono's al into converting them into multiple assemblies instead of a
multiple-file single assembly, code changes would be similar to the changes
in mcs, but multiple assembly metadata handling in the command line would
probably be more messy...


Just my crazy two cents...

Rafael Teixeira
O..:.)oooo


On Tue, Apr 22, 2014 at 11:16 PM, Miguel de Icaza &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at xamarin.com</A>&gt;wrote:

&gt;<i> how are you fitting msbuild in the build process? Just to confirm if you
</I>&gt;&gt;<i> using the generation of csharp project files and solutions for visual
</I>&gt;&gt;<i> studio?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes, continuing the work on mono/msvs/scripts/genproj.cs
</I>&gt;<i>
</I>&gt;<i> There are already a few issues solved, but ran into this broken build
</I>&gt;<i> setup, and quickly realized that we had this hack on the Makefiles which is
</I>&gt;<i> why it works at all.
</I>&gt;<i>
</I>&gt;<i> There is quite some work left to be done for genproj.cs, but this is
</I>&gt;<i> something that would benefit both.
</I>&gt;<i>
</I>&gt;<i> Miguel
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20140423/f2a10b99/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20140423/f2a10b99/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041425.html">[Mono-dev] Repeat builds of core assemblies
</A></li>
	<LI>Next message: <A HREF="041423.html">[Mono-dev] Repeat builds of core assemblies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41427">[ date ]</a>
              <a href="thread.html#41427">[ thread ]</a>
              <a href="subject.html#41427">[ subject ]</a>
              <a href="author.html#41427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
