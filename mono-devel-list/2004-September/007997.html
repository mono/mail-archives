<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] ASP.NET and SQL SERVER 2000
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20ASP.NET%20and%20SQL%20SERVER%202000&In-Reply-To=1095766493.415011ddd5cff%40imp3-q.free.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007995.html">
   <LINK REL="Next"  HREF="008000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] ASP.NET and SQL SERVER 2000</H1>
    <B>rus</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20ASP.NET%20and%20SQL%20SERVER%202000&In-Reply-To=1095766493.415011ddd5cff%40imp3-q.free.fr"
       TITLE="[Mono-devel-list] ASP.NET and SQL SERVER 2000">rus at forgecom.co.uk
       </A><BR>
    <I>Tue Sep 21 07:57:51 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007995.html">[Mono-devel-list] ASP.NET and SQL SERVER 2000
</A></li>
        <LI>Next message: <A HREF="008000.html">[Mono-devel-list] ASP.NET and SQL SERVER 2000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7997">[ date ]</a>
              <a href="thread.html#7997">[ thread ]</a>
              <a href="subject.html#7997">[ subject ]</a>
              <a href="author.html#7997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The clue may be in the error message..

The login details are correct?
The server name's correct?
The database name's correct?
The SQL server is allowing connections from the machine running mono?

I've definatly had mono on linux talking to SQL server on windows before
using SqlClient

On Tue, 2004-09-21 at 12:34, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">falconn at free.fr</A> wrote:
&gt;<i> Hi !
</I>&gt;<i> 
</I>&gt;<i> I've a strange problem with mono. I want to get informations from a database
</I>&gt;<i> under SQL SERVER. I tried the following example taken from the MonoHandbook
</I>&gt;<i> doing some modifications.
</I>&gt;<i> But when I run it, sometimes it's working, sometimes not : it shows an error
</I>&gt;<i> message (something like it can't find the sql server or I don't have access to
</I>&gt;<i> the database). I tried to use unixODBC with freetds and it works, but it's a
</I>&gt;<i> little bit slow! So it doesn't seem to be a problem with my SQL Server. Is it a
</I>&gt;<i> bug?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Here is the code I use :
</I>&gt;<i> 
</I>&gt;<i> using System;
</I>&gt;<i> using System.Data;
</I>&gt;<i> using System.Data.SqlClient;
</I>&gt;<i> 
</I>&gt;<i>  public class Test
</I>&gt;<i>  {
</I>&gt;<i>     public static void Main(string[] args)
</I>&gt;<i>     {
</I>&gt;<i>   string connectionString =
</I>&gt;<i>      &quot;Server=MyServer;&quot; +
</I>&gt;<i>      &quot;Database=pubs;&quot; +
</I>&gt;<i>      &quot;User ID=MySqlServerUserId;&quot; +
</I>&gt;<i>      &quot;Password=MySqlServerPassword;&quot;;
</I>&gt;<i>   IDbConnection dbcon;
</I>&gt;<i>   dbcon = new SqlConnection(connectionString);
</I>&gt;<i>   dbcon.Open();
</I>&gt;<i>   IDbCommand dbcmd = dbcon.CreateCommand();
</I>&gt;<i>   string sql =
</I>&gt;<i>       &quot;SELECT fname, lname &quot; +
</I>&gt;<i>       &quot;FROM employee&quot;;
</I>&gt;<i>   dbcmd.CommandText = sql;
</I>&gt;<i>   IDataReader reader = dbcmd.ExecuteReader();
</I>&gt;<i>   while(reader.Read()) {
</I>&gt;<i>   string FirstName = (string) reader[&quot;fname&quot;];
</I>&gt;<i>   string LastName = (string) reader[&quot;lname&quot;];
</I>&gt;<i>   Console.WriteLine(&quot;Name: &quot; +
</I>&gt;<i>        FirstName + &quot; &quot; + LastName);
</I>&gt;<i>   }
</I>&gt;<i>   // clean up
</I>&gt;<i>   reader.Close();
</I>&gt;<i>   reader = null;
</I>&gt;<i>   dbcmd.Dispose();
</I>&gt;<i>   dbcmd = null;
</I>&gt;<i>   dbcon.Close();
</I>&gt;<i>   dbcon = null;
</I>&gt;<i>     }
</I>&gt;<i>  }
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Here is the error message when it doesn't work :
</I>&gt;<i> 
</I>&gt;<i> mono testing.exe
</I>&gt;<i> 
</I>&gt;<i> Unhandled Exception: System.Data.SqlClient.SqlException: SQL Server does not
</I>&gt;<i> exist or access denied.
</I>&gt;<i> in &lt;0x0020e&gt; System.Data.SqlClient.SqlConnection:Open ()
</I>&gt;<i> in &lt;0x00066&gt; Test:Main (string[])
</I>&gt;<i> 
</I>&gt;<i> zsh: exit 1     mono testing.exe
</I>&gt;<i> 
</I>&gt;<i> I have tested the connexion with SQLSharp and the problem remains the same...
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007995.html">[Mono-devel-list] ASP.NET and SQL SERVER 2000
</A></li>
	<LI>Next message: <A HREF="008000.html">[Mono-devel-list] ASP.NET and SQL SERVER 2000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7997">[ date ]</a>
              <a href="thread.html#7997">[ thread ]</a>
              <a href="subject.html#7997">[ subject ]</a>
              <a href="author.html#7997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
