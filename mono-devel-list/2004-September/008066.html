<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Mono.Posix Structuring
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Mono.Posix%20Structuring&In-Reply-To=1096007049.3859.3.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008064.html">
   <LINK REL="Next"  HREF="008067.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Mono.Posix Structuring</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Mono.Posix%20Structuring&In-Reply-To=1096007049.3859.3.camel%40localhost.localdomain"
       TITLE="[Mono-devel-list] Mono.Posix Structuring">jonpryor at vt.edu
       </A><BR>
    <I>Fri Sep 24 06:17:30 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008064.html">[Mono-devel-list] Mono.Posix Structuring
</A></li>
        <LI>Next message: <A HREF="008067.html">[Mono-devel-list] Mono.Posix Structuring
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8066">[ date ]</a>
              <a href="thread.html#8066">[ thread ]</a>
              <a href="subject.html#8066">[ subject ]</a>
              <a href="author.html#8066">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2004-09-24 at 02:24, Todd Berman wrote:
&gt;<i> The only potential issue I see with this is existing code.
</I>&gt;<i> 
</I>&gt;<i> Considering that mono 1.0 is out, and that people are publishing
</I>&gt;<i> software using these APIs, it would be nice not to break their stuff.
</I>&gt;<i> 
</I>&gt;<i> For existing, bound functionality, it would be great if we could
</I>&gt;<i> maintain source and binary compatibility by keeping bound content where
</I>&gt;<i> it is.
</I>
That's the joy of using new classes for the new functionality.  The old
class (Syscall) is still around, and can be used; it just will have
documented issues (only supports files &lt;= 2^32 bytes, etc.).

New functionality goes into new classes, and when the new functionality
is stable, we deprecate the older classes, while still maintaining
them.  API and ABI compatibility is preserved.

Yay for versioning policies.

&gt;<i> It would be nice to keep this stuff as-is at least until the mono 1.1.x
</I>&gt;<i> series has a real 1.2 release, and people don't have to track
</I>&gt;<i> potentially both APIs (with the old stuff on the 1.0 branch and release
</I>&gt;<i> line, and the new stuff on the 1.1 release line/HEAD).
</I>
As I mentioned above, HEAD could contain both.  We could remove the
older functionality in 2.0 or 3.0; it doesn't really matter (it'll just
be dead code, but still present).

The need to track both APIs is a potential downfall, but I don't think
too many people are tracking it now; for example, it's not possible to
fully implement a PosixStream wrapper with what Syscall currently has,
as fstat(2), fsync(2), and ftruncate(2) aren't present in Syscall.  (See
my earlier email that included a first-pass PosixStream wrapper.)

On the downside, moving to a different set of classes and a different
implementation would delay implementation of a complete Mono.Posix, but
given the lack of clamoring for support I've seen on mono-devel-list and
mono-list, that might not be a significant issue.

Plus, my approach solves real issues (Syscall isn't the most sensible
place to put all POSIX functions, and extended 64-bit support sanity).

 - Jon



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008064.html">[Mono-devel-list] Mono.Posix Structuring
</A></li>
	<LI>Next message: <A HREF="008067.html">[Mono-devel-list] Mono.Posix Structuring
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8066">[ date ]</a>
              <a href="thread.html#8066">[ thread ]</a>
              <a href="subject.html#8066">[ subject ]</a>
              <a href="author.html#8066">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
