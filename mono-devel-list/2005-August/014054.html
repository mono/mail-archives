<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Assembly version 2.0.0.0 with	centralizedassembly references
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Assembly%20version%202.0.0.0%20with%0A%09centralizedassembly%20references&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014051.html">
   <LINK REL="Next"  HREF="014060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Assembly version 2.0.0.0 with	centralizedassembly references</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Assembly%20version%202.0.0.0%20with%0A%09centralizedassembly%20references&In-Reply-To="
       TITLE="[Mono-dev] [PATCH] Assembly version 2.0.0.0 with	centralizedassembly references">kornelpal at hotmail.com
       </A><BR>
    <I>Thu Aug 18 04:39:01 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014051.html">[Mono-dev] [PATCH] Assembly version 2.0.0.0 with	centralizedassembly references
</A></li>
        <LI>Next message: <A HREF="014060.html">[Mono-dev] GC segfault on ARM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14054">[ date ]</a>
              <a href="thread.html#14054">[ thread ]</a>
              <a href="subject.html#14054">[ subject ]</a>
              <a href="author.html#14054">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>* Is there any reason why you did not include the comments from my original
</I>&gt;<i> Consts.cs files?
</I>&gt;<i> I think it should be in there, because it helped me more that one time to
</I>&gt;<i> explain somebody how to use the Consts scheme in Custom Attributes.
</I>
Feel free to modify the common Consts.cs and post it to the list.

&gt;<i> * Moreover afaik (at least it was this way when the files were written in
</I>&gt;<i> the first place) it is possible to compile with no symbols specified. Your
</I>&gt;<i> patch breaks building in this case. Again please look at the original
</I>&gt;<i> Consts.cs file.
</I>
I know what your version does but I don't think it's a good practice. I
added #error to break build when no version symbol is defined. If you build
the class library without any of these symbols it will result in serious
lack of code and probably other build errors so I think there is no use to
allow build without version symbols. #error is good because it explains the
reason as well. I don't see any reason to allow build without version
symbols, I treat it as a mistake.

&gt;<i> * Is the differentiation for static vs. sealed worth the #if code? Do we
</I>&gt;<i> gain anything by using static for .Net 2.0?
</I>
<A HREF="http://msdn2.microsoft.com/library/79b3xss3.aspx">http://msdn2.microsoft.com/library/79b3xss3.aspx</A>

static class results in no constructor and sealed abstact class in C# 2.0
that is suitable for Consts class. There is no special reson but the
resulting class will look better (there will be no private constructor). So
I don't think it should be removed just because the class library can be
compiled without this syntax as well.

&gt;<i>
</I>&gt;<i> Andreas
</I>&gt;<i>
</I>&gt;<i> P.S. Do you think that currently the location for the shared files is
</I>&gt;<i> suitable? imho it would be better for them to be in a directory in the
</I>&gt;<i> &quot;class&quot; directory. Otherwise it makes the download tarball function in a
</I>&gt;<i> directory absolutely useless if you just want to get the class libraries.
</I>&gt;<i> (This should NOT affect this NOW)
</I>
The current location wasn't introduced by me, I originally created
mcs/class/common for Locale.cs but the patch was adapted as
mcs/build/common. Maybe it was Ben who introduced it. I agree with
mcs/build/common because it is a better location as these common files are
not just common to the class library, they are common to the entire mcs tree
(for example tools as well). So I think this directory should not be moved.

Korn&#233;l

&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Korn&#233;l P&#225;l&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kornelpal at hotmail.com</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i> Sent: Thursday, August 18, 2005 2:36 AM
</I>&gt;<i> Subject: [Mono-dev] [PATCH] Assembly version 2.0.0.0 with
</I>&gt;<i> centralizedassembly references
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This patch is quite big. The 2.0.0.0 patch was much smaller but you
</I>&gt;&gt;<i> wanted
</I>&gt;&gt;<i> this bigger one.:) It may be more difficult to review but will result in
</I>&gt;&gt;<i> a
</I>&gt;&gt;<i> much reliable class library.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It contains only assembly version related things nothing else. Note that
</I>&gt;&gt;<i> I
</I>&gt;&gt;<i> corrected all the version issues I found in any file type. For example:
</I>&gt;&gt;<i> v2.0.40607 -&gt; v2.0.50215 (config)
</I>&gt;&gt;<i> 1:0:33000:0 -&gt; 1:0:3300:0 (comment)
</I>&gt;&gt;<i> 1.0.3102.0 -&gt; 1.0.3300.0 (resx)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I did not modify any InformationalVersion or FileVersion attributes but
</I>&gt;&gt;<i> they
</I>&gt;&gt;<i> should be modified at a later time.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I did not modified tests to use the common Consts.cs because they are
</I>&gt;&gt;<i> designed differently but I updated the version numbers to 2.0.0.0.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I did not added any ChangeLog entry and I'm not going to do it by hand.
</I>&gt;&gt;<i> If
</I>&gt;&gt;<i> you want to have ChangeLog entries please let me know how can I generate
</I>&gt;&gt;<i> them.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> To Ben:
</I>&gt;&gt;&gt;<i>I am sick of explaining that this task is in fact quite easy.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The idea behind this task is easy to understand but actually it took a
</I>&gt;&gt;<i> lot
</I>&gt;&gt;<i> of hours to create this patch as all the results has to be examined even
</I>&gt;&gt;<i> with regular expressions matching only the right version numbers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Korn&#233;l
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --------------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014051.html">[Mono-dev] [PATCH] Assembly version 2.0.0.0 with	centralizedassembly references
</A></li>
	<LI>Next message: <A HREF="014060.html">[Mono-dev] GC segfault on ARM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14054">[ date ]</a>
              <a href="thread.html#14054">[ thread ]</a>
              <a href="subject.html#14054">[ subject ]</a>
              <a href="author.html#14054">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
