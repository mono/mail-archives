<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [Patch] AssemblyName ctor (yes, again)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPatch%5D%20AssemblyName%20ctor%20%28yes%2C%20again%29&In-Reply-To=20050825134252.GX4400%40debian.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014296.html">
   <LINK REL="Next"  HREF="014333.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [Patch] AssemblyName ctor (yes, again)</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPatch%5D%20AssemblyName%20ctor%20%28yes%2C%20again%29&In-Reply-To=20050825134252.GX4400%40debian.org"
       TITLE="[Mono-dev] [Patch] AssemblyName ctor (yes, again)">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Thu Aug 25 13:36:56 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014296.html">[Mono-dev] [Patch] AssemblyName ctor (yes, again)
</A></li>
        <LI>Next message: <A HREF="014333.html">[Mono-dev] [Patch] AssemblyName ctor (yes, again)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14329">[ date ]</a>
              <a href="thread.html#14329">[ thread ]</a>
              <a href="subject.html#14329">[ subject ]</a>
              <a href="author.html#14329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2005-25-08 at 15:42 +0200, Paolo Molaro wrote:
&gt;<i> &gt; @@ -1197,8 +1211,35 @@
</I>&gt;<i> &gt;  			aname-&gt;culture = g_strdup (culture);
</I>&gt;<i> &gt;  	}
</I>&gt;<i> &gt;  	
</I>&gt;<i> &gt; -	if (token &amp;&amp; strncmp (token, &quot;null&quot;, 4) != 0)
</I>&gt;<i> &gt; +	if (token &amp;&amp; strncmp (token, &quot;null&quot;, 4) != 0) {
</I>&gt;<i> &gt; +		if (strlen (token) != MONO_PUBLIC_KEY_TOKEN_LENGTH - 1)
</I>&gt;<i> &gt; +			return FALSE;
</I>&gt;<i> &gt; +		
</I>&gt;<i> &gt;  		g_strlcpy ((char*)aname-&gt;public_key_token, token, MONO_PUBLIC_KEY_TOKEN_LENGTH);
</I>&gt;<i> &gt; +	}
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +	if (key &amp;&amp; strncmp (key, &quot;null&quot;, 4) != 0) {
</I>&gt;<i> &gt; +		gchar *arr, *tok, *encoded;
</I>&gt;<i> &gt; +		int i, j;
</I>&gt;<i> &gt; +		
</I>&gt;<i> &gt; +		if (strlen (key) != MONO_PUBLIC_KEY_LENGTH)
</I>&gt;<i> &gt; +			return FALSE;
</I>&gt;<i> 
</I>&gt;<i> Can't the length change based on the flags? Sebastien?
</I>
The structure is a CryptoAPI blob who's size change only if the key
length change.

However strongnames can now be bigger than 1024 bits (on 2.0). We don't
support that (yet) and we'll have to change some assumptions in the code
to do so. Anyway we better start now...

Note: but this shouldn't affect the public key tokens
-- 
Sebastien


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014296.html">[Mono-dev] [Patch] AssemblyName ctor (yes, again)
</A></li>
	<LI>Next message: <A HREF="014333.html">[Mono-dev] [Patch] AssemblyName ctor (yes, again)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14329">[ date ]</a>
              <a href="thread.html#14329">[ thread ]</a>
              <a href="subject.html#14329">[ subject ]</a>
              <a href="author.html#14329">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
