<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Adding data to a dataset question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Adding%20data%20to%20a%20dataset%20question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013926.html">
   <LINK REL="Next"  HREF="013953.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Adding data to a dataset question</H1>
    <B>Paul F. Johnson</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Adding%20data%20to%20a%20dataset%20question&In-Reply-To="
       TITLE="[Mono-dev] Adding data to a dataset question">paul at all-the-johnsons.co.uk
       </A><BR>
    <I>Wed Aug 10 08:03:18 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013926.html">[Mono-dev] Doc for odbc
</A></li>
        <LI>Next message: <A HREF="013953.html">[Mono-dev] Adding data to a dataset question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13906">[ date ]</a>
              <a href="thread.html#13906">[ thread ]</a>
              <a href="subject.html#13906">[ subject ]</a>
              <a href="author.html#13906">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to add multiple lines to a dataset but keep hitting the same
problem. Now, I can get around the problem, but I'm not happy with how I have
to do it.

The code looks like this

		private void FillDataSet()
		{
			// create a new DataTable in the DataSet
			dsSource.Tables.Add(&quot;sites&quot;);
			dsSource.Tables[&quot;sites&quot;].Columns.Add(&quot;url&quot;, Type.GetType(&quot;System.String&quot;));
			dsSource.Tables[&quot;sites&quot;].Columns.Add(&quot;name&quot;,
Type.GetType(&quot;System.String&quot;));
			
			// create a few rows and add them to the DataTable
			DataRow tempRow = dsSource.Tables[&quot;sites&quot;].NewRow();
			tempRow[&quot;url&quot;] = &quot;<A HREF="http://www.gotmono.com&quot;;">http://www.gotmono.com&quot;;</A>
			tempRow[&quot;name&quot;] = &quot;Mono community page&quot;;
			dsSource.Tables[&quot;sites&quot;].Rows.Add(tempRow);
			
			tempRow[&quot;url&quot;] = &quot;<A HREF="http://www.go-mono.com/tutorial&quot;;">http://www.go-mono.com/tutorial&quot;;</A>
			tempRow[&quot;name&quot;] = &quot;The Mono handbook&quot;;
			dsSource.Tables[&quot;sites&quot;].Rows.Add(tempRow);
			
			tempRow[&quot;url&quot;] = &quot;<A HREF="http://www.go-mono.com&quot;;">http://www.go-mono.com&quot;;</A>
			tempRow[&quot;name&quot;] = &quot;The main Mono website&quot;;
			dsSource.Tables[&quot;sites&quot;].Rows.Add(tempRow);
			
		        tempRow[&quot;url&quot;] =
&quot;<A HREF="http://www.nullenvoid.com/mono/wiki/index.php/WineSamples&quot;;">http://www.nullenvoid.com/mono/wiki/index.php/WineSamples&quot;;</A>
			tempRow[&quot;name&quot;] = &quot;Mono WineSamples&quot;;
			dsSource.Tables[&quot;sites&quot;].Rows.Add(tempRow);
		}
		
		private void BindControls()
		{
			// Bind the listBox
			listBox1.DataSource = dsSource.Tables[&quot;sites&quot;];
			listBox1.DisplayMember = &quot;name&quot;;
			listBox1.ValueMember = &quot;url&quot;;
			
			// Bind the combobox
			comboBox1.DataSource = dsSource.Tables[&quot;sites&quot;];
			comboBox1.DisplayMember = &quot;name&quot;;
			comboBox1.ValueMember = &quot;url&quot;;
			
			// Bind the DataGrid to the DataSet
			dataGrid.DataSource = dsSource;
			
			// Bind the second DataGrid to the DataSet
			dataGrid2.DataSource = dsSource.Tables[&quot;sites&quot;];
			
			// Bind the Textboxes to the selected row
			textBox.DataBindings.Add(&quot;text&quot;, dsSource.Tables[&quot;sites&quot;], &quot;name&quot;);
			textBox2.DataBindings.Add(&quot;text&quot;, dsSource.Tables[&quot;sites&quot;], &quot;url&quot;);
		}

Clearly, the problem is coming from using temp constantly in the setting of
the data (if I comment out all but the first dataadd set, the program works
correctly-ish). The solution looks to be use an array of temps to add the
data.

If the dataset type was an int, I could say ds.AutoIncrement (according to
MSDN).

Is there a way to reuse temp or is the problem in that when the data is added,
the row counter is not incremented and so I'm trying to overwrite the same
data time and again?

TTFN

Paul
-- 
&quot;Logic, my dear Zoe, is merely the ability to be wrong with authority&quot; - Dr
Who



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013926.html">[Mono-dev] Doc for odbc
</A></li>
	<LI>Next message: <A HREF="013953.html">[Mono-dev] Adding data to a dataset question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13906">[ date ]</a>
              <a href="thread.html#13906">[ thread ]</a>
              <a href="subject.html#13906">[ subject ]</a>
              <a href="author.html#13906">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
