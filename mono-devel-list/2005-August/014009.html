<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Re: Edit and Continue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20Edit%20and%20Continue&In-Reply-To=4301BA23.7080504%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013996.html">
   <LINK REL="Next"  HREF="014012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Re: Edit and Continue</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20Edit%20and%20Continue&In-Reply-To=4301BA23.7080504%40gmail.com"
       TITLE="[Mono-dev] Re: Edit and Continue">lupus at ximian.com
       </A><BR>
    <I>Tue Aug 16 07:30:48 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013996.html">[Mono-dev] Re: Edit and Continue
</A></li>
        <LI>Next message: <A HREF="014012.html">[Mono-dev] Re: Edit and Continue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14009">[ date ]</a>
              <a href="thread.html#14009">[ thread ]</a>
              <a href="subject.html#14009">[ subject ]</a>
              <a href="author.html#14009">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/16/05 David Srbecky wrote:
&gt;<i> Paolo Molaro wrote:
</I>&gt;<i> &gt; What if you just recompile the assembly and develop an assembly diff
</I>&gt;<i> &gt; tool? In a few months the Cecil library may be able to allow this.
</I>&gt;<i> 
</I>&gt;<i> I been suggested this many times, but the problem is that it is way too
</I>&gt;<i> slow. My target for application of EnC is &lt; 100ms.
</I>
Ok, then you might want to provide a detailed plan on how you want to
implement this and maybe prototype the mcs support first.

&gt;<i> The Cecil: Am I correct that System.Reflection.Emit will be rewritten to
</I>&gt;<i> use Cecil when Cecil is finished? I think, this will be the right time
</I>
No, Cecil will never be used to implement re.emit: they do different
things. Cecil just writes an assembly file to disk and it needs
assembly references to work. Reflection.Emit deals with assemblies and
types in memory (though it also happens to be able to save them to
disk).
There is some overlap between the two, but while re.emit can be
extended to do what Cecil does (though at this time it does more,
anyway), the reverse will never be true, because re.emit is a runtime
feature, not a library and hence can, for example, create types and
methods that the runtime can readily execute (mentioning AppDomain.Load
(byte[] raw_data) at this point will make you lose bonus points).

Here are a few scenarios where Cecil or re.emit are the right tool
for the job (once Cecil is actually complete and working):
1) creating broken PE files to exercise the error paths in the runtime:
definitely use Cecil (we don't want to allow re.emit to create
arbitraryly broken images)
2) creating IL code analyzers, batch assembly rewriting tools: Cecil
(the read side of reflection is at fault here: it has many limitations
which we're too lazy to address now, the 2.0 API changes fixed just the
scratch of the issues)
3) batch compiler: can use either re.emit or cecli/peapi
4) interactive compiler, interpreters, *-&gt;IL JITs: need to use re.emit
5) in the case of compilers that can operate in both batch and
interactive modes: use re.emit, since loading and jitting cecil is just
a waste of resources (and duplicating the emitting code, too)

Hope this helps to understand where Cecil and re.emit fits in.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013996.html">[Mono-dev] Re: Edit and Continue
</A></li>
	<LI>Next message: <A HREF="014012.html">[Mono-dev] Re: Edit and Continue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14009">[ date ]</a>
              <a href="thread.html#14009">[ thread ]</a>
              <a href="subject.html#14009">[ subject ]</a>
              <a href="author.html#14009">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
