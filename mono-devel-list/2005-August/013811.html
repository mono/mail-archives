<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] USE_MMAP speed/time tradeoff
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20USE_MMAP%20speed/time%20tradeoff&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014330.html">
   <LINK REL="Next"  HREF="013812.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] USE_MMAP speed/time tradeoff</H1>
    <B>Michal Moskal</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20USE_MMAP%20speed/time%20tradeoff&In-Reply-To="
       TITLE="[Mono-devel-list] USE_MMAP speed/time tradeoff">michal.moskal at gmail.com
       </A><BR>
    <I>Sat Aug  6 17:26:32 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014330.html">[Mono-dev] Re: [Mono-devel-list] [PATCH] API compatibility fixes	forSystem.Web.Services assembly
</A></li>
        <LI>Next message: <A HREF="013812.html">[Mono-devel-list] USE_MMAP speed/time tradeoff
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13811">[ date ]</a>
              <a href="thread.html#13811">[ thread ]</a>
              <a href="subject.html#13811">[ subject ]</a>
              <a href="author.html#13811">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I noticed slowdown in Nemerle compiler with:

2005-06-20 Gonzalo Paniagua Javier &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">gonzalo at ximian.com</A>&gt;

        * configure.in: enabled the use of mmap/munmap for solaris and linux.
        It seems to help with memory usage.

With this patch the compiler is about 10% slower, but uses around 10%
less memory. This is all on amd64 box, running 64 bit version of mono.

The Nemerle compiler is quite allocation intensive. The working set is about 
140M and the running time is about 23s.

I wonder if:
  a) we can introduce --with-mmap configure switch?
  b) better yet, make the mmap version go as fast as the brk one?

Thoughts?

-- 
   Michal Moskal,
   <A HREF="http://nemerle.org/~malekith/">http://nemerle.org/~malekith/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014330.html">[Mono-dev] Re: [Mono-devel-list] [PATCH] API compatibility fixes	forSystem.Web.Services assembly
</A></li>
	<LI>Next message: <A HREF="013812.html">[Mono-devel-list] USE_MMAP speed/time tradeoff
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13811">[ date ]</a>
              <a href="thread.html#13811">[ thread ]</a>
              <a href="subject.html#13811">[ subject ]</a>
              <a href="author.html#13811">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
