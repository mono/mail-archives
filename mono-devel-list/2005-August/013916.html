<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] System.Data.SqlClient TDS 7.0 bigint issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Data.SqlClient%20TDS%207.0%20bigint%20issue&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013920.html">
   <LINK REL="Next"  HREF="013925.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] System.Data.SqlClient TDS 7.0 bigint issue</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Data.SqlClient%20TDS%207.0%20bigint%20issue&In-Reply-To="
       TITLE="[Mono-dev] System.Data.SqlClient TDS 7.0 bigint issue">kornelpal at hotmail.com
       </A><BR>
    <I>Wed Aug 10 15:34:31 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013920.html">[Mono-dev] file mini-x86.c line 4161	(mono_arch_output_basic_block): should not be reached
</A></li>
        <LI>Next message: <A HREF="013925.html">[Mono-dev] System.Data.SqlClient TDS 7.0 bigint issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13916">[ date ]</a>
              <a href="thread.html#13916">[ thread ]</a>
              <a href="subject.html#13916">[ subject ]</a>
              <a href="author.html#13916">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

If you have opinion about this issue please comment it. If the idea will be
approved I'll propose a patch.

Look at bug <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=53169">http://bugzilla.ximian.com/show_bug.cgi?id=53169</A>

The problem is that Decimal is returned instead of Int64.

This is a limitation of TDS 7.0 used by Mono. .NET Framework uses TDS 8.0.

It is difficult to fix as TDS 8.0 should be implemented.

I committed a workaround that makes GetInt64 and GetSqlInt64 able to
read decimal(19,0). But there is no way in TDS 7.0 to determine
whether the type is bigint.

If you use GetValue or GetSqlValue you will get Decimal or SqlDecimal.

GetValue seems to be used by Mono users as well. And I think it's more
likely to use bigint in an MS SQL database than decimal(19,0).

What about trating decimal(19,0) as bigint but let GetDecimal and
GetSqlDecimal to return decimal(19,0)? (This would be the revrse of the
current solution.)

Korn&#233;l


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013920.html">[Mono-dev] file mini-x86.c line 4161	(mono_arch_output_basic_block): should not be reached
</A></li>
	<LI>Next message: <A HREF="013925.html">[Mono-dev] System.Data.SqlClient TDS 7.0 bigint issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13916">[ date ]</a>
              <a href="thread.html#13916">[ thread ]</a>
              <a href="subject.html#13916">[ subject ]</a>
              <a href="author.html#13916">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
