<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] API change in	System.Collections.Generic.KeyValuePair
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20API%20change%20in%0A%09System.Collections.Generic.KeyValuePair&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013825.html">
   <LINK REL="Next"  HREF="013828.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] API change in	System.Collections.Generic.KeyValuePair</H1>
    <B>Kamil Skalski</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20API%20change%20in%0A%09System.Collections.Generic.KeyValuePair&In-Reply-To="
       TITLE="[Mono-devel-list] API change in	System.Collections.Generic.KeyValuePair">kamil.skalski at gmail.com
       </A><BR>
    <I>Sun Aug  7 15:23:21 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013825.html">[Mono-devel-list] Issue with mono_debugger_add_type on Solaris	SPARC.
</A></li>
        <LI>Next message: <A HREF="013828.html">[Mono-devel-list] LANDED: managed collation (CompareInfo) support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13827">[ date ]</a>
              <a href="thread.html#13827">[ thread ]</a>
              <a href="subject.html#13827">[ subject ]</a>
              <a href="author.html#13827">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

In MS.NET 2.0 July CTP they have changed the
System.Collections.Generic.KeyValuePair structure, so now it does not
contain the fields Key and Value, but properties.

I attach the patch, which fixes it, but there are two questions /
issues about it.

1) Do we want the CTP API in mono now, or should I keep the patch
locally and commit it after the next public release of runtime? (I
don't have Beta2 at hand, but it seems that there were only Key and
Value fields there - could someone check this?)

2) Key and Value are used for writing in Dictionary. I workarounded it
by making the storage fields in KeyValuePair internal, and assign
directly to them. Is it better to just create new instances of
KeyValuePair in Dictionary (the perf. impact should not be great,
since it is a structure)

-- 
Kamil Skalski
<A HREF="http://nazgul.omega.pl">http://nazgul.omega.pl</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: keyval.diff
Type: application/octet-stream
Size: 1485 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050807/4a3a7d7e/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050807/4a3a7d7e/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013825.html">[Mono-devel-list] Issue with mono_debugger_add_type on Solaris	SPARC.
</A></li>
	<LI>Next message: <A HREF="013828.html">[Mono-devel-list] LANDED: managed collation (CompareInfo) support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13827">[ date ]</a>
              <a href="thread.html#13827">[ thread ]</a>
              <a href="subject.html#13827">[ subject ]</a>
              <a href="author.html#13827">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
