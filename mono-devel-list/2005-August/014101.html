<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] corlib version and #if symbol questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20corlib%20version%20and%20%23if%20symbol%20questions&In-Reply-To=001c01c5a4e5%2454d071e0%240100a8c0%40kornelpal.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014099.html">
   <LINK REL="Next"  HREF="014102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] corlib version and #if symbol questions</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20corlib%20version%20and%20%23if%20symbol%20questions&In-Reply-To=001c01c5a4e5%2454d071e0%240100a8c0%40kornelpal.hu"
       TITLE="[Mono-dev] corlib version and #if symbol questions">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Fri Aug 19 14:01:23 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014099.html">[Mono-dev] corlib version and #if symbol questions
</A></li>
        <LI>Next message: <A HREF="014102.html">[Mono-dev] System.DirectoryServices and LdapReferralException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14101">[ date ]</a>
              <a href="thread.html#14101">[ thread ]</a>
              <a href="subject.html#14101">[ subject ]</a>
              <a href="author.html#14101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

On Fri, 2005-19-08 at 19:42 +0200, Korn&#233;l P&#225;l wrote:
&gt;<i> I have done &quot;make run-test&quot; on critical and some random assemblies but none
</I>&gt;<i> of them showed differences between 48518 and 48520. When you informed me
</I>&gt;<i> about regressions I did a &quot;make run-test&quot; comparsion on corlib again but I
</I>&gt;<i> did not get any differences.
</I>
That may be because you're using cygwin which, as another platform, may
have (some) different results. I don't see how this would have affected
the tests but with cygwin nothing is impossible ;-)

&gt;<i> &gt; It was a copy-n-paste error. I fixed it in rev 48556.
</I>&gt;<i> 
</I>&gt;<i> Thanks for the fix. I think this error should occur in corlib tests but I
</I>&gt;<i> did not see it. I had more errors in results than on
</I>&gt;<i> <A HREF="http://mono.ximian.com/tests/displayTestResults.php">http://mono.ximian.com/tests/displayTestResults.php</A> so this may be the cause
</I>&gt;<i> because the relevant tests may failed in the unpatched version as well. And
</I>&gt;<i> I am sure that the tests were executed on Mono and I used the right
</I>&gt;<i> revisions.
</I>&gt;<i> 
</I>&gt;<i> BTW are there any other unfixed or fixed regressions?
</I>
<A HREF="http://mono.ximian.com/tests/displayTestResults.php">http://mono.ximian.com/tests/displayTestResults.php</A> also reports 16
regressions in System.dll but they may be unrelated to your patch (I
didn't check for them).

&gt;<i> Thanks for the explanations. I already knew most of these things but I have
</I>&gt;<i> never used buildbot. How can I use it? Are there any documentation about it?
</I>&gt;<i> The only think I know is that it is available on
</I>&gt;<i> <A HREF="http://mono.ximian.com:8008/.">http://mono.ximian.com:8008/.</A>
</I>
Yes. Using it is simple. You click on an header line (one of the bot)
and request it to start building. The bot will svn up and start the
build, run the tests ...

&gt;<i> Korn&#233;l
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Sebastien Pouliot&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">sebastien.pouliot at gmail.com</A>&gt;
</I>&gt;<i> To: &quot;Korn&#233;l P&#225;l&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kornelpal at hotmail.com</A>&gt;
</I>&gt;<i> Cc: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i> Sent: Friday, August 19, 2005 7:07 PM
</I>&gt;<i> Subject: Re: [Mono-dev] corlib version and #if symbol questions
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; Hello Kornel,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Fri, 2005-19-08 at 17:59 +0200, Korn&#233;l P&#225;l wrote:
</I>&gt;<i> &gt;&gt; I did not experience regressions. Note that I was unable to do make -k
</I>&gt;<i> &gt;&gt; check
</I>&gt;<i> &gt;&gt; because it failed on r48518 as well (maybe because of my build
</I>&gt;<i> &gt;&gt; environment;
</I>&gt;<i> &gt;&gt; cygwin) but I have done make run-test on critical assemblies and compared
</I>&gt;<i> &gt;&gt; the results. There were no change in passed and failed test count and
</I>&gt;<i> &gt;&gt; test
</I>&gt;<i> &gt;&gt; numbers.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Try doing &quot;svn up -r 48518&quot; then a &quot;make run-test&quot; under corlib.
</I>&gt;<i> &gt; After that try the same thing but for revision 45819.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you're using cygwin then make sure that the unit tests are executed
</I>&gt;<i> &gt; using Mono and not the MS runtime.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; I have little experience in regression tracking. If you are more
</I>&gt;<i> &gt;&gt; experienced
</I>&gt;<i> &gt;&gt; I would appreciate if you could give me some hints and commands that help
</I>&gt;<i> &gt;&gt; regression tracking.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It's simple, just make sure you run &quot;make run-test&quot; for each assembly
</I>&gt;<i> &gt; that your patch will change. If there are errors then make sure that the
</I>&gt;<i> &gt; errors were already existing prior to committing.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Note that this is not perfect as a change in assembly X could result in
</I>&gt;<i> &gt; problems in assembly Y (which would means that assembly X is missing
</I>&gt;<i> &gt; important unit tests) but it will catch most problems.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Finally if, for any reason, you are unable to test the changes please
</I>&gt;<i> &gt; say so when sending the patch for review on the mailing-list. That way
</I>&gt;<i> &gt; someone else can test it before it gets committed (and yes that would
</I>&gt;<i> &gt; probably requires more time to approve the patch).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; After committing a large patch (or a patch that can influence lots of
</I>&gt;<i> &gt; thing, e.g. many patches in corlib) you should also start buildbot
</I>&gt;<i> &gt; (which sadly seems offline at the moment). This will give you extra
</I>&gt;<i> &gt; insurance ;-)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; I have never tested or compiled r48519 because it is the update of mcs
</I>&gt;<i> &gt;&gt; tree
</I>&gt;<i> &gt;&gt; only. r48520 is the update of mono tree. If you use r48519 it may result
</I>&gt;<i> &gt;&gt; in
</I>&gt;<i> &gt;&gt; errors. I checked out mcs and mono separatedly and I was unable to make
</I>&gt;<i> &gt;&gt; svn
</I>&gt;<i> &gt;&gt; to commit them in a single command. If you know the solution please let
</I>&gt;<i> &gt;&gt; me
</I>&gt;<i> &gt;&gt; know.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It isn't a &quot;in between commits&quot; bug. The failures were still there this
</I>&gt;<i> &gt; morning (at revision 48555). I had to (a) go back to revision 48518 to
</I>&gt;<i> &gt; return to a normal (no failure) status and (b) try 48519 to ensure it
</I>&gt;<i> &gt; was this exact patch that caused the problem.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Unless I mistyped something the version patch should not have any effects
</I>&gt;<i> &gt;&gt; that result in regressions because I did not (wanted to) modify code
</I>&gt;<i> &gt;&gt; behaviour.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It was a copy-n-paste error. I fixed it in rev 48556.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Could you please send me (or to the list if you want) some test results
</I>&gt;<i> &gt;&gt; pointing out the regressions?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Daily tests results
</I>&gt;<i> &gt; <A HREF="http://mono.ximian.com/tests/displayTestResults.php">http://mono.ximian.com/tests/displayTestResults.php</A>
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Sebastien
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014099.html">[Mono-dev] corlib version and #if symbol questions
</A></li>
	<LI>Next message: <A HREF="014102.html">[Mono-dev] System.DirectoryServices and LdapReferralException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14101">[ date ]</a>
              <a href="thread.html#14101">[ thread ]</a>
              <a href="subject.html#14101">[ subject ]</a>
              <a href="author.html#14101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
