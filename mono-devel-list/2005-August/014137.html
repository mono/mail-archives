<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] System.DirectoryServices and LdapReferralException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.DirectoryServices%20and%20LdapReferralException&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014138.html">
   <LINK REL="Next"  HREF="014140.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] System.DirectoryServices and LdapReferralException</H1>
    <B>Boris Kirzner</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.DirectoryServices%20and%20LdapReferralException&In-Reply-To="
       TITLE="[Mono-dev] System.DirectoryServices and LdapReferralException">borisk at mainsoft.com
       </A><BR>
    <I>Sun Aug 21 04:25:58 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014138.html">[Mono-dev] Sort and Searching of lising assemblies via gacutil
</A></li>
        <LI>Next message: <A HREF="014140.html">[Mono-dev] Compiling mcs (Npgsql) failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14137">[ date ]</a>
              <a href="thread.html#14137">[ thread ]</a>
              <a href="subject.html#14137">[ subject ]</a>
              <a href="author.html#14137">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello JD Conley,
 
&gt;<i> I'm trying to connect up to an Active Directory and run a 
</I>&gt;<i> search and I get a LdapReferralException.  For example, I am 
</I>&gt;<i> running a query on the host &quot;adserver.coversant.net&quot; and 
</I>&gt;<i> while iterating through search results I get a referral 
</I>&gt;<i> exception for 
</I>&gt;<i> &quot;<A HREF="LDAP://coversant.net/CN=Configuration,DC=coversant,DC=net&quot;.">LDAP://coversant.net/CN=Configuration,DC=coversant,DC=net&quot;.</A>  
</I>&gt;<i> The configuration DN does not even have nodes in it that 
</I>&gt;<i> match the filter I was searching on.
</I>&gt;<i>   
</I>&gt;<i> Maybe Mono's System.DirectoryServices should be ignoring this 
</I>&gt;<i> referral?
</I>
I'm not sure that ignoring the referral result is the correct way to
solve the problem.

In order to ensure what is the correct behavior in this case, the
following things should be checked :
(I'm proposing you to check this since just now I have no an environment
I can reproduce the problem)
- Ensure you're working with the latest SVN version
- Monitor LDAP protocol network activity (for example, using the
Ethereal <A HREF="http://www.ethereal.com/">http://www.ethereal.com/</A>). Make sure your code get exactly the
same result as the same code in .NET (i.e., that both get some, and the
same, kind of referral in the result). If this is not the case, probably
the problem is in the LDAP request rather than in the way we're dealing
with the response.
- If the responses are exactly the same, maybe we really should ignore
referral error in DirectorySeracher.DoSearch().
- You're more than welcome to propose the patch (and, the best - also
the test case) for solving this problem. 

--
Boris Kirzner
Mono R&amp;D team, Mainsoft Corporation.
Blogging at <A HREF="http://boriskirzner.blogspot.com/">http://boriskirzner.blogspot.com/</A>  

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014138.html">[Mono-dev] Sort and Searching of lising assemblies via gacutil
</A></li>
	<LI>Next message: <A HREF="014140.html">[Mono-dev] Compiling mcs (Npgsql) failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14137">[ date ]</a>
              <a href="thread.html#14137">[ thread ]</a>
              <a href="subject.html#14137">[ subject ]</a>
              <a href="author.html#14137">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
