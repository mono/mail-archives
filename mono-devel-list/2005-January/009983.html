<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] BUG# 71133 - Application_OnAcquireRequestState breaks Stylesheet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20BUG%23%2071133%20-%20Application_OnAcquireRequestState%20breaks%20Stylesheet&In-Reply-To=1105177438.41dfab5ea5787%40webmail.freedom2surf.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009703.html">
   <LINK REL="Next"  HREF="009692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] BUG# 71133 - Application_OnAcquireRequestState breaks Stylesheet</H1>
    <B>marcusmonaghan at f2s.com</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20BUG%23%2071133%20-%20Application_OnAcquireRequestState%20breaks%20Stylesheet&In-Reply-To=1105177438.41dfab5ea5787%40webmail.freedom2surf.net"
       TITLE="[Mono-devel-list] BUG# 71133 - Application_OnAcquireRequestState breaks Stylesheet">marcusmonaghan at f2s.com
       </A><BR>
    <I>Mon Jan 24 05:25:23 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="009703.html">[Mono-devel-list] Application_OnAcquireRequestState breaks Stylesheet
</A></li>
        <LI>Next message: <A HREF="009692.html">[Mono-devel-list] [MCS PATCH] Improve standards compliance of type and name resolution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9983">[ date ]</a>
              <a href="thread.html#9983">[ thread ]</a>
              <a href="subject.html#9983">[ subject ]</a>
              <a href="author.html#9983">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gonzalo,

I have raised this as a bug (#71133). Can you let me know if you need anything
else?

Can you also let me know whether you received my test case on Mon, 20 Dec 2004?
If not I will re-send it again.

Regards,
Marcus

Quoting <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">marcusmonaghan at f2s.com</A>:

&gt;<i> Try again.
</I>&gt;<i>
</I>&gt;<i> I have rebuilt xsp 1.0.5 with tracing to see if I could identify where the
</I>&gt;<i> issues might be. As you can see if you use the session object in the
</I>&gt;<i> Application_OnAquireRequestState the output differs. I'm unsure what this is
</I>&gt;<i> telling me, but I will try to figure it out.
</I>&gt;<i>
</I>&gt;<i> ====================================================
</I>&gt;<i> Output NOT using session object:
</I>&gt;<i> --------------------------------
</I>&gt;<i>
</I>&gt;<i> xsp
</I>&gt;<i> Listening on port: 8080
</I>&gt;<i> Listening on address: 0.0.0.0
</I>&gt;<i> Root directory: /opt/twl/aspnet/GlobalASAXIssue
</I>&gt;<i> Hit Return to stop the server.
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetKnownRequestHeader(25) -&gt; Cookie
</I>&gt;<i> GetHttpVerbName()
</I>&gt;<i> GetQueryStringRawBytes()
</I>&gt;<i> GetQueryString()
</I>&gt;<i> GetKnownRequestHeader(11) -&gt; Content-Length
</I>&gt;<i> GetKnownRequestHeader(6) -&gt; Transfer-Encoding
</I>&gt;<i> GetPreloadedEntityBody
</I>&gt;<i> SendUnknownResponseHeader (X-Powered-By, Mono)
</I>&gt;<i> SendUnknownResponseHeader (Date, Fri, 7 Jan 2005 23:17:02 GMT)
</I>&gt;<i> HeadersSent() -&gt; False
</I>&gt;<i> SendUnknownResponseHeader (Content-Type, text/html; charset=utf-8)
</I>&gt;<i> HeadersSent() -&gt; False
</I>&gt;<i> SendUnknownResponseHeader (Set-Cookie,
</I>&gt;<i> ASPSESSION=1078C683C7302CF1D8965736E8C9EE; path=/)
</I>&gt;<i> SendUnknownResponseHeader (Content-Length, 307)
</I>&gt;<i> SendResponseFromMemory ()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetKnownRequestHeader(25) -&gt; Cookie
</I>&gt;<i> GetHttpVerbName()
</I>&gt;<i> GetKnownRequestHeader(0) -&gt; Cache-Control
</I>&gt;<i> GetKnownRequestHeader(1) -&gt; Connection
</I>&gt;<i> GetKnownRequestHeader(2) -&gt; Date
</I>&gt;<i> GetKnownRequestHeader(3) -&gt; Keep-Alive
</I>&gt;<i> GetKnownRequestHeader(4) -&gt; Pragma
</I>&gt;<i> GetKnownRequestHeader(5) -&gt; Trailer
</I>&gt;<i> GetKnownRequestHeader(6) -&gt; Transfer-Encoding
</I>&gt;<i> GetKnownRequestHeader(7) -&gt; Upgrade
</I>&gt;<i> GetKnownRequestHeader(8) -&gt; Via
</I>&gt;<i> GetKnownRequestHeader(9) -&gt; Warning
</I>&gt;<i> GetKnownRequestHeader(10) -&gt; Allow
</I>&gt;<i> GetKnownRequestHeader(11) -&gt; Content-Length
</I>&gt;<i> GetKnownRequestHeader(12) -&gt; Content-Type
</I>&gt;<i> GetKnownRequestHeader(13) -&gt; Content-Encoding
</I>&gt;<i> GetKnownRequestHeader(14) -&gt; Content-Language
</I>&gt;<i> GetKnownRequestHeader(15) -&gt; Content-Location
</I>&gt;<i> GetKnownRequestHeader(16) -&gt; Content-MD5
</I>&gt;<i> GetKnownRequestHeader(17) -&gt; Content-Range
</I>&gt;<i> GetKnownRequestHeader(18) -&gt; Expires
</I>&gt;<i> GetKnownRequestHeader(19) -&gt; Last-Modified
</I>&gt;<i> GetKnownRequestHeader(20) -&gt; Accept
</I>&gt;<i> GetKnownRequestHeader(21) -&gt; Accept-Charset
</I>&gt;<i> GetKnownRequestHeader(22) -&gt; Accept-Encoding
</I>&gt;<i> GetKnownRequestHeader(23) -&gt; Accept-Language
</I>&gt;<i> GetKnownRequestHeader(24) -&gt; Authorization
</I>&gt;<i> GetKnownRequestHeader(25) -&gt; Cookie
</I>&gt;<i> GetKnownRequestHeader(26) -&gt; Expect
</I>&gt;<i> GetKnownRequestHeader(27) -&gt; From
</I>&gt;<i> GetKnownRequestHeader(28) -&gt; Host
</I>&gt;<i> GetKnownRequestHeader(29) -&gt; If-Match
</I>&gt;<i> GetKnownRequestHeader(30) -&gt; If-Modified-Since
</I>&gt;<i> GetKnownRequestHeader(31) -&gt; If-None-Match
</I>&gt;<i> GetKnownRequestHeader(32) -&gt; If-Range
</I>&gt;<i> GetKnownRequestHeader(33) -&gt; If-Unmodified-Since
</I>&gt;<i> GetKnownRequestHeader(34) -&gt; Max-Forwards
</I>&gt;<i> GetKnownRequestHeader(35) -&gt; Proxy-Authorization
</I>&gt;<i> GetKnownRequestHeader(36) -&gt; Referer
</I>&gt;<i> GetKnownRequestHeader(37) -&gt; Range
</I>&gt;<i> GetKnownRequestHeader(38) -&gt; TE
</I>&gt;<i> GetKnownRequestHeader(39) -&gt; User-Agent
</I>&gt;<i> SendUnknownResponseHeader (Last-Modified, Tue, 07 Dec 2004 15:56:18 GMT)
</I>&gt;<i> SendUnknownResponseHeader (X-Powered-By, Mono)
</I>&gt;<i> SendUnknownResponseHeader (Date, Fri, 7 Jan 2005 23:17:02 GMT)
</I>&gt;<i> HeadersSent() -&gt; False
</I>&gt;<i> SendUnknownResponseHeader (Content-Type, text/css; charset=utf-8)
</I>&gt;<i> SendUnknownResponseHeader (Content-Length, 211)
</I>&gt;<i> SendResponseFromMemory ()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetKnownRequestHeader(25) -&gt; Cookie
</I>&gt;<i> GetHttpVerbName()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetKnownRequestHeader(25) -&gt; Cookie
</I>&gt;<i> GetHttpVerbName()
</I>&gt;<i> SendUnknownResponseHeader (X-Powered-By, Mono)
</I>&gt;<i> SendUnknownResponseHeader (Date, Fri, 7 Jan 2005 23:17:02 GMT)
</I>&gt;<i> HeadersSent() -&gt; False
</I>&gt;<i> SendUnknownResponseHeader (Content-Type, text/html; charset=utf-8)
</I>&gt;<i> SendUnknownResponseHeader (Content-Length, 652)
</I>&gt;<i> SendResponseFromMemory ()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> GetKnownRequestHeader(0) -&gt; Cache-Control
</I>&gt;<i> GetKnownRequestHeader(1) -&gt; Connection
</I>&gt;<i> GetKnownRequestHeader(2) -&gt; Date
</I>&gt;<i> GetKnownRequestHeader(3) -&gt; Keep-Alive
</I>&gt;<i> GetKnownRequestHeader(4) -&gt; Pragma
</I>&gt;<i> GetKnownRequestHeader(5) -&gt; Trailer
</I>&gt;<i> GetKnownRequestHeader(6) -&gt; Transfer-Encoding
</I>&gt;<i> GetKnownRequestHeader(7) -&gt; Upgrade
</I>&gt;<i> GetKnownRequestHeader(8) -&gt; Via
</I>&gt;<i> GetKnownRequestHeader(9) -&gt; Warning
</I>&gt;<i> GetKnownRequestHeader(10) -&gt; Allow
</I>&gt;<i> GetKnownRequestHeader(11) -&gt; Content-Length
</I>&gt;<i> GetKnownRequestHeader(12) -&gt; Content-Type
</I>&gt;<i> GetKnownRequestHeader(13) -&gt; Content-Encoding
</I>&gt;<i> GetKnownRequestHeader(14) -&gt; Content-Language
</I>&gt;<i> GetKnownRequestHeader(15) -&gt; Content-Location
</I>&gt;<i> GetKnownRequestHeader(16) -&gt; Content-MD5
</I>&gt;<i> GetKnownRequestHeader(17) -&gt; Content-Range
</I>&gt;<i> GetKnownRequestHeader(18) -&gt; Expires
</I>&gt;<i> GetKnownRequestHeader(19) -&gt; Last-Modified
</I>&gt;<i> GetKnownRequestHeader(20) -&gt; Accept
</I>&gt;<i> GetKnownRequestHeader(21) -&gt; Accept-Charset
</I>&gt;<i> GetKnownRequestHeader(22) -&gt; Accept-Encoding
</I>&gt;<i> GetKnownRequestHeader(23) -&gt; Accept-Language
</I>&gt;<i> GetKnownRequestHeader(24) -&gt; Authorization
</I>&gt;<i> GetKnownRequestHeader(25) -&gt; Cookie
</I>&gt;<i> GetKnownRequestHeader(26) -&gt; Expect
</I>&gt;<i> GetKnownRequestHeader(27) -&gt; From
</I>&gt;<i> GetKnownRequestHeader(28) -&gt; Host
</I>&gt;<i> GetKnownRequestHeader(29) -&gt; If-Match
</I>&gt;<i> GetKnownRequestHeader(30) -&gt; If-Modified-Since
</I>&gt;<i> GetKnownRequestHeader(31) -&gt; If-None-Match
</I>&gt;<i> GetKnownRequestHeader(32) -&gt; If-Range
</I>&gt;<i> GetKnownRequestHeader(33) -&gt; If-Unmodified-Since
</I>&gt;<i> GetKnownRequestHeader(34) -&gt; Max-Forwards
</I>&gt;<i> GetKnownRequestHeader(35) -&gt; Proxy-Authorization
</I>&gt;<i> GetKnownRequestHeader(36) -&gt; Referer
</I>&gt;<i> GetKnownRequestHeader(37) -&gt; Range
</I>&gt;<i> GetKnownRequestHeader(38) -&gt; TE
</I>&gt;<i> GetKnownRequestHeader(39) -&gt; User-Agent
</I>&gt;<i> SendUnknownResponseHeader (X-Powered-By, Mono)
</I>&gt;<i> SendUnknownResponseHeader (Date, Fri, 7 Jan 2005 23:17:02 GMT)
</I>&gt;<i> HeadersSent() -&gt; False
</I>&gt;<i> SendUnknownResponseHeader (Content-Type, text/html; charset=utf-8)
</I>&gt;<i> SendUnknownResponseHeader (Content-Length, 7)
</I>&gt;<i> SendResponseFromMemory ()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> CloseConnection()
</I>&gt;<i>
</I>&gt;<i> ====================================================
</I>&gt;<i> Output USING session object:
</I>&gt;<i> --------------------------------
</I>&gt;<i>
</I>&gt;<i> xsp
</I>&gt;<i> Listening on port: 8080
</I>&gt;<i> Listening on address: 0.0.0.0
</I>&gt;<i> Root directory: /opt/twl/aspnet/GlobalASAXIssue
</I>&gt;<i> Hit Return to stop the server.
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetKnownRequestHeader(25) -&gt; Cookie
</I>&gt;<i> GetHttpVerbName()
</I>&gt;<i> GetQueryStringRawBytes()
</I>&gt;<i> GetQueryString()
</I>&gt;<i> GetKnownRequestHeader(11) -&gt; Content-Length
</I>&gt;<i> GetKnownRequestHeader(6) -&gt; Transfer-Encoding
</I>&gt;<i> GetPreloadedEntityBody
</I>&gt;<i> SendUnknownResponseHeader (X-Powered-By, Mono)
</I>&gt;<i> SendUnknownResponseHeader (Date, Fri, 7 Jan 2005 23:16:33 GMT)
</I>&gt;<i> HeadersSent() -&gt; False
</I>&gt;<i> SendUnknownResponseHeader (Content-Type, text/html; charset=utf-8)
</I>&gt;<i> HeadersSent() -&gt; False
</I>&gt;<i> SendUnknownResponseHeader (Set-Cookie,
</I>&gt;<i> ASPSESSION=B40A3A249BCB4DE2EBB0F4954A97DB; path=/)
</I>&gt;<i> SendUnknownResponseHeader (Content-Length, 307)
</I>&gt;<i> SendResponseFromMemory ()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetKnownRequestHeader(25) -&gt; Cookie
</I>&gt;<i> GetHttpVerbName()
</I>&gt;<i> SendUnknownResponseHeader (X-Powered-By, Mono)
</I>&gt;<i> SendUnknownResponseHeader (Date, Fri, 7 Jan 2005 23:16:33 GMT)
</I>&gt;<i> HeadersSent() -&gt; False
</I>&gt;<i> SendUnknownResponseHeader (Content-Type, text/html; charset=utf-8)
</I>&gt;<i> SendUnknownResponseHeader (Content-Length, 830)
</I>&gt;<i> SendResponseFromMemory ()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetFilePath()
</I>&gt;<i> GetKnownRequestHeader(25) -&gt; Cookie
</I>&gt;<i> GetHttpVerbName()
</I>&gt;<i> SendUnknownResponseHeader (X-Powered-By, Mono)
</I>&gt;<i> SendUnknownResponseHeader (Date, Fri, 7 Jan 2005 23:16:33 GMT)
</I>&gt;<i> HeadersSent() -&gt; False
</I>&gt;<i> SendUnknownResponseHeader (Content-Type, text/html; charset=utf-8)
</I>&gt;<i> SendUnknownResponseHeader (Content-Length, 830)
</I>&gt;<i> SendResponseFromMemory ()
</I>&gt;<i> CloseConnection()
</I>&gt;<i> CloseConnection()
</I>&gt;<i>
</I>&gt;<i> As you can see they clearly differ.
</I>&gt;<i>
</I>&gt;<i> Anyone want to point me in any direction?
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Marcus
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Quoting <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">marcusmonaghan at f2s.com</A>:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; I have upgraded mono to the latest release and I'm still having the same
</I>&gt;<i> &gt; &gt; issue.
</I>&gt;<i> &gt; &gt; I can't believe I'm the only person using the
</I>&gt;<i> &gt; &gt; Application_OnAcquireRequestState
</I>&gt;<i> &gt; &gt; method and Stylesheets.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I now have Mono 1.1.3 and XSP 1.0.5.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt; Marcus
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; I am in the process of trying to port my very simple website to Mono
</I>&gt;<i> &gt; &gt; &gt; but I have come across an issue.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; If I place any code that uses the Session object into
</I>&gt;<i> &gt; &gt; &gt; Application_OnAcquireRequestState in the Global.asax the stylesheet
</I>&gt;<i> &gt; &gt; &gt; associated with a page does not get processed.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; If I declare the stub for the procedure with no code it works fine.
</I>&gt;<i> &gt; &gt; &gt; If I publish the same site to an IIS server it works fine.
</I>&gt;<i> &gt; &gt; &gt; However, Cassini does not work either.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; OS: Suse 9.1 and WXP Pro SP2.
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009703.html">[Mono-devel-list] Application_OnAcquireRequestState breaks Stylesheet
</A></li>
	<LI>Next message: <A HREF="009692.html">[Mono-devel-list] [MCS PATCH] Improve standards compliance of type and name resolution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9983">[ date ]</a>
              <a href="thread.html#9983">[ thread ]</a>
              <a href="subject.html#9983">[ subject ]</a>
              <a href="author.html#9983">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
