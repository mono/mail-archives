<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] XSP: Problem with the Session in global.asax
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20XSP%3A%20Problem%20with%20the%20Session%20in%20global.asax&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009940.html">
   <LINK REL="Next"  HREF="009951.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] XSP: Problem with the Session in global.asax</H1>
    <B>Alexandre Anfray</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20XSP%3A%20Problem%20with%20the%20Session%20in%20global.asax&In-Reply-To="
       TITLE="[Mono-devel-list] XSP: Problem with the Session in global.asax">aanfray at perinfo.com
       </A><BR>
    <I>Fri Jan 21 09:30:54 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="009940.html">[Mono-devel-list] Patch for DataRow.cs and DataRowTest.cs
</A></li>
        <LI>Next message: <A HREF="009951.html">[Mono-devel-list] XSP: Problem with the Session in global.asax
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9941">[ date ]</a>
              <a href="thread.html#9941">[ thread ]</a>
              <a href="subject.html#9941">[ subject ]</a>
              <a href="author.html#9941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I need to access the Session in Session_end function of the Global.asax' 
file.
I'm testing with different browsers (FireFox, Mozilla, IE) to create several
different Sessions.

On Cassini, it works everytime.
On XSP Server, it doesn't work well. In fact, I have 3 cases:
1./ it works (very seldom)
2./ it mixes all Sessions Objects in one
3./ it fails: &quot;Failed to get session object&quot;


*here's my code of global.asax file:*

 void Session_Start(Object sender, EventArgs E) {
        System.Console.Out.WriteLine(&quot;La session demarre 
(&quot;+DateTime.Now.ToString(&quot;T&quot;)+&quot;) ID=&quot;+Session.SessionID);
 }

void Session_End(Object sender, EventArgs E) {
        try {
                System.Console.Out.WriteLine(&quot;La session termine 
(&quot;+DateTime.Now.ToString(&quot;T&quot;)+&quot;) ID=&quot;+Session.SessionID);
        }
        catch(Exception exc) {
                System.Console.Out.WriteLine(&quot;Erreur:&quot;+exc.Message);
        }
}

*and the results*

case 1:
La session demarre (14:31:09) ID=06BB295D39FABBF6C8B012E1620CDF
La session demarre (14:31:11) ID=C827A62EF2C504B00BE05F967BDCA9
La session termine (14:33:16) ID=06BB295D39FABBF6C8B012E1620CDF
La session termine (14:33:18) ID=C827A62EF2C504B00BE05F967BDCA9

case 2:
La session demarre (14:31:09) ID=06BB295D39FABBF6C8B012E1620CDF
La session demarre (14:31:11) ID=C827A62EF2C504B00BE05F967BDCA9
La session termine (14:33:16) ID=06BB295D39FABBF6C8B012E1620CDF
La session termine (14:33:16) ID=06BB295D39FABBF6C8B012E1620CDF

case 3:
La session demarre (14:31:09) ID=06BB295D39FABBF6C8B012E1620CDF
La session demarre (14:31:11) ID=C827A62EF2C504B00BE05F967BDCA9
Erreur:Failed to get session object
Erreur:Failed to get session object

Mono version: Mono JIT compiler version 1.0.5
I tried 2 version of XSP: xsp.exe 1.0.1.0 and xsp.exe 1.0.5.0 with same 
results.

If someone see what's wrong, please let me know
Thanks

A.Anfray




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050121/0cfc42e5/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050121/0cfc42e5/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009940.html">[Mono-devel-list] Patch for DataRow.cs and DataRowTest.cs
</A></li>
	<LI>Next message: <A HREF="009951.html">[Mono-devel-list] XSP: Problem with the Session in global.asax
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9941">[ date ]</a>
              <a href="thread.html#9941">[ thread ]</a>
              <a href="subject.html#9941">[ subject ]</a>
              <a href="author.html#9941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
