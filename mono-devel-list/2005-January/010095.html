<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Mono executes Stored Procedures very slowly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Mono%20executes%20Stored%20Procedures%20very%20slowly&In-Reply-To=1286380183.20050127150354%40calltravel.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010094.html">
   <LINK REL="Next"  HREF="010058.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Mono executes Stored Procedures very slowly</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Mono%20executes%20Stored%20Procedures%20very%20slowly&In-Reply-To=1286380183.20050127150354%40calltravel.hu"
       TITLE="[Mono-devel-list] Mono executes Stored Procedures very slowly">atsushi at ximian.com
       </A><BR>
    <I>Thu Jan 27 09:15:59 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010094.html">[Mono-devel-list] Mono executes Stored Procedures very slowly
</A></li>
        <LI>Next message: <A HREF="010058.html">[Mono-devel-list] [PATCH] DebuggableAttribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10095">[ date ]</a>
              <a href="thread.html#10095">[ thread ]</a>
              <a href="subject.html#10095">[ subject ]</a>
              <a href="author.html#10095">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

No, at least it is related. If a DataView is opened, it registers
an event which &quot;updates its indices&quot;, to DataTable, and thus then
every time a DataRow is added to the table, DataView runs
UpdateIndex() which causes significant performance loss (depends
on the number of the returned rows though).

In short, DataTable.Rows.Add() was so slow because of DefaultView.

Atsushi Eno

Neumann P&#233;ter wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i>   I see. But I think, if I am right, that there's nothing to do with
</I>&gt;<i>   my problem, at best I can hope for a patch or a new version. Am I
</I>&gt;<i>   right?
</I>&gt;<i> 
</I>&gt;<i> Bye,
</I>&gt;<i> Peter Neumann
</I>&gt;<i> 
</I>&gt;<i> Thursday, January 27, 2005, 2:32:06 PM, you wrote:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>Hi,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i>  Atsushi, could You explain me this hack You did cause I don't
</I>&gt;&gt;&gt;<i>  understand it? (quick hack to svn HEAD???) Sorry for being so
</I>&gt;&gt;&gt;<i>  uncomprehending! :)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>Just a tiny fix - our DataView is currently so slow and
</I>&gt;&gt;<i>DataTable.DefaultView was always created. So I just changed DataTable
</I>&gt;&gt;<i>to create DefaultView only once when referenced. It is r39621:
</I>&gt;&gt;<i><A HREF="http://lists.ximian.com/archives/public/mono-patches/2005-January/053633.html">http://lists.ximian.com/archives/public/mono-patches/2005-January/053633.html</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>Atsushi Eno
</I>&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;<i>Mono-devel-list mailing list
</I>&gt;&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010094.html">[Mono-devel-list] Mono executes Stored Procedures very slowly
</A></li>
	<LI>Next message: <A HREF="010058.html">[Mono-devel-list] [PATCH] DebuggableAttribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10095">[ date ]</a>
              <a href="thread.html#10095">[ thread ]</a>
              <a href="subject.html#10095">[ subject ]</a>
              <a href="author.html#10095">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
