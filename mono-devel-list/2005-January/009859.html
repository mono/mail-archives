<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Question Jit Trampolines
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Question%20Jit%20Trampolines&In-Reply-To=28895.1106061578%40www67.gmx.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009857.html">
   <LINK REL="Next"  HREF="009879.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Question Jit Trampolines</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Question%20Jit%20Trampolines&In-Reply-To=28895.1106061578%40www67.gmx.net"
       TITLE="[Mono-devel-list] Question Jit Trampolines">vargaz at gmail.com
       </A><BR>
    <I>Tue Jan 18 10:28:18 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="009857.html">[Mono-devel-list] Question Jit Trampolines
</A></li>
        <LI>Next message: <A HREF="009879.html">[Mono-devel-list] Question Jit Trampolines
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9859">[ date ]</a>
              <a href="thread.html#9859">[ thread ]</a>
              <a href="subject.html#9859">[ subject ]</a>
              <a href="author.html#9859">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>                              Hi,

  Contrary to the comments in tramp-x86.c, x86_magic_trampoline is used for
all methods, not just virtual methods. If the call is not virtual, the
call site itself
is rewritten so it calls the real method next time, not the trampoline.
This is done by this line:
					InterlockedExchange ((gint32*)(code + 2), (guint)addr -
((guint)code + 1) - 5);

              Zoltan


On Tue, 18 Jan 2005 16:19:38 +0100 (MET), Christoph Stiedl
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Shorty.10 at gmx.at</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> my Question is concerning the treatment of jit Trampolines for static
</I>&gt;<i> methods:
</I>&gt;<i> 
</I>&gt;<i> Pointers to the Jit Trampolines of virtual methods are saved in the
</I>&gt;<i> vtable, but where are the pointers to Jit Trampolines saved concerning
</I>&gt;<i> static methods? - Are they stored somewhere at all?
</I>&gt;<i> 
</I>&gt;<i> Concerning magic_trampoline: It changes the pointer of the vtable from the
</I>&gt;<i> jit tramp to the compiled code, does something happen with static methods
</I>&gt;<i> too? Where?
</I>&gt;<i> 
</I>&gt;<i> Is magic_trampoline used for static methods too?
</I>&gt;<i> 
</I>&gt;<i> Thanks for your help
</I>&gt;<i> 
</I>&gt;<i> Christoph
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Sparen beginnt mit GMX DSL: <A HREF="http://www.gmx.net/de/go/dsl">http://www.gmx.net/de/go/dsl</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009857.html">[Mono-devel-list] Question Jit Trampolines
</A></li>
	<LI>Next message: <A HREF="009879.html">[Mono-devel-list] Question Jit Trampolines
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9859">[ date ]</a>
              <a href="thread.html#9859">[ thread ]</a>
              <a href="subject.html#9859">[ subject ]</a>
              <a href="author.html#9859">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
