<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Embedding Mono in a Virtual World
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Embedding%20Mono%20in%20a%20Virtual%20World&In-Reply-To=20050126175548.16874.qmail%40web25010.mail.ukl.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010054.html">
   <LINK REL="Next"  HREF="010074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Embedding Mono in a Virtual World</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Embedding%20Mono%20in%20a%20Virtual%20World&In-Reply-To=20050126175548.16874.qmail%40web25010.mail.ukl.yahoo.com"
       TITLE="[Mono-devel-list] Embedding Mono in a Virtual World">lupus at ximian.com
       </A><BR>
    <I>Wed Jan 26 13:23:09 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010054.html">[Mono-devel-list] Embedding Mono in a Virtual World
</A></li>
        <LI>Next message: <A HREF="010074.html">[Mono-devel-list] Embedding Mono in a Virtual World
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10056">[ date ]</a>
              <a href="thread.html#10056">[ thread ]</a>
              <a href="subject.html#10056">[ subject ]</a>
              <a href="author.html#10056">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/26/05 Jim Purbrick wrote:
&gt;<i> &gt; You can run the scripts in a thread and abort or
</I>&gt;<i> &gt; interrupt the thread after a timeout, but that won't
</I>&gt;<i> &gt; save the state of the script if you meant to reload
</I>&gt;<i> &gt; it later and restart it from where it was
</I>&gt;<i> &gt; interrupted.
</I>&gt;<i> 
</I>&gt;<i> I need to restart the scripts transparently, as if
</I>&gt;<i> they were running in a thread or fiber. Currently each
</I>&gt;<i> running script has a stack, heap and registers which
</I>&gt;<i> are saved when another script is scheduled.
</I>
I think you have two options:
*) inject code into the scripts to make them state machines
that will periodically check the timeout info and save the state to 
an object and reload it when it's restarted, similar to how the C#
compiler handles the yield construct.
*) use the threadpool as initially suggested: you will queue all
the scripts for execution. If a scripts takes lots of time to run,
the other scripts will be queued to other threads: since this should
happen rarely it should not be a problem, unless you also need
to guarantee against denial of service attempts. Note that this
means that the scripts will run concurrently.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010054.html">[Mono-devel-list] Embedding Mono in a Virtual World
</A></li>
	<LI>Next message: <A HREF="010074.html">[Mono-devel-list] Embedding Mono in a Virtual World
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10056">[ date ]</a>
              <a href="thread.html#10056">[ thread ]</a>
              <a href="subject.html#10056">[ subject ]</a>
              <a href="author.html#10056">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
