<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Mono-1.1.7 - NetBSD 2.0.x Support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Mono-1.1.7%20-%20NetBSD%202.0.x%20Support&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011893.html">
   <LINK REL="Next"  HREF="011904.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Mono-1.1.7 - NetBSD 2.0.x Support</H1>
    <B>J&#233;r&#244;me Laban</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Mono-1.1.7%20-%20NetBSD%202.0.x%20Support&In-Reply-To="
       TITLE="[Mono-devel-list] Mono-1.1.7 - NetBSD 2.0.x Support">jaylee at epitech.net
       </A><BR>
    <I>Wed May 11 03:25:47 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011893.html">[Mono-devel-list] [Fwd: Re: Review of system.data]
</A></li>
        <LI>Next message: <A HREF="011904.html">[Mono-devel-list] Mono-1.1.7 - NetBSD 2.0.x Support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11894">[ date ]</a>
              <a href="thread.html#11894">[ thread ]</a>
              <a href="subject.html#11894">[ subject ]</a>
              <a href="author.html#11894">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 

  _____  

From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>] On Behalf Of Bill Middleton
Sent: mardi 10 mai 2005 20:19
To: J&#233;r&#244;me Laban; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Subject: Re: [Mono-devel-list] Mono-1.1.7 - NetBSD 2.0.x Support


This looks promising.  Nice job.

A couple of suggestions:

1. Consider submitting your patch against the current SVN code.

 I will. I'm talking to Miguel about that.



2. Don't remove the existing *-*-*netbsd* case from configure.in.  Instead,
change it to *-*-*netbsd*1* , and even better, see if you can get things
working with 1.6. and update the existing entry. :)

I can leave the default netbsd. However, I am sure mono will never run
properly on NetBSD 1.6 because of the lack of native threads support. I'll
make the changes anyway.

 
3. Don't use __NetBSD__ in libgc (dyn_load.c)  libgc sets up definitions for
NETBSD in gcconfig.h.  If there is a precompiler definition exclusive to
NetBSD2 (I hope) then make a new definition, and || where appropriate,
unless you can test against 1.6 simultaneously. (although I  know __thread
wont work on 1.6).  It also looks like GC_NETBSD_THREADS are also specific
to 2.x - perhaps GC_NETBSD2_THREADS?

I'm trying to leave the NetBSD 1.6 folks some room to work, is all. 

I'll try and make the change too but here too, I'm quite sure NetBSD 1.6
won't be supported.

 
4. The changes in mono/mini that you've made should be redone against SVN.
Most of them were taken care of with the FreeBSD changes, I hope.   Otoh,
I'm pretty clueless about the registers on NetBSD - but are you sure you
want to redefine:

+# define SC_EAX sc_eip
+# define SC_EBX sc_edx
+# define SC_ECX sc_eax
+# define SC_EDX sc_ecx

?  Those seem odd.

Indeed, these redefinitions are odd, but the register indices are not in the
same orders under NetBSD, hence the shuffle. I'll check if this is still
necessary, since it is a port from an 1.1.4 patch. About the FreeBSD
changes, I'll check against the SVN although the 1.1.7 is not really that
old.
 
Thanks Bill.
 
-- Jerome
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050511/baef11ff/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050511/baef11ff/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3026 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050511/baef11ff/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050511/baef11ff/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011893.html">[Mono-devel-list] [Fwd: Re: Review of system.data]
</A></li>
	<LI>Next message: <A HREF="011904.html">[Mono-devel-list] Mono-1.1.7 - NetBSD 2.0.x Support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11894">[ date ]</a>
              <a href="thread.html#11894">[ thread ]</a>
              <a href="subject.html#11894">[ subject ]</a>
              <a href="author.html#11894">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
