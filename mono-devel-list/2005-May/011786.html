<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Patch to mimic MS.Net remoting name mangling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Patch%20to%20mimic%20MS.Net%20remoting%20name%20mangling&In-Reply-To=20050502191706.GA10009%40wookie.nrtc.northrop.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011785.html">
   <LINK REL="Next"  HREF="011788.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Patch to mimic MS.Net remoting name mangling</H1>
    <B>Lluis Sanchez</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Patch%20to%20mimic%20MS.Net%20remoting%20name%20mangling&In-Reply-To=20050502191706.GA10009%40wookie.nrtc.northrop.com"
       TITLE="[Mono-devel-list] Patch to mimic MS.Net remoting name mangling">lluis at ximian.com
       </A><BR>
    <I>Mon May  2 15:41:06 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011785.html">[Mono-devel-list] Patch to mimic MS.Net remoting name mangling
</A></li>
        <LI>Next message: <A HREF="011788.html">[Mono-devel-list] Patch to mimic MS.Net remoting name mangling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11786">[ date ]</a>
              <a href="thread.html#11786">[ thread ]</a>
              <a href="subject.html#11786">[ subject ]</a>
              <a href="author.html#11786">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This bug needs a more generic solution. Field names should be encoded
using XmlConvert.EncodeLocalName, since there may be other characters in
the name that are not valid in xml names. For inherited fields, the
serialized name should be &quot;className+fieldName&quot;. The binary serializer
already write serialized fields in this way, but the class name is not
being added in the soap serializer (notice that &quot;+&quot; will be encoded to
_002B_ by XmlConvert.EncodeLocalName).

On dl, 2005-05-02 at 12:17 -0700, Luke Ravitch wrote:
&gt;<i> I put together a little patch to improve Mono-MS.Net remoting
</I>&gt;<i> compatibility.  Basically, MS.Net mangles the names of private
</I>&gt;<i> inherited fields for SOAP-serialized objects.  I've opened a bug
</I>&gt;<i> (#74760) to track the issue...
</I>&gt;<i> 
</I>&gt;<i>     <A HREF="http://bugs.ximian.com/show_bug.cgi?id=74760">http://bugs.ximian.com/show_bug.cgi?id=74760</A>
</I>&gt;<i> 
</I>&gt;<i> Please see it for a more detailed description of the issue.
</I>&gt;<i> 
</I>&gt;<i> Attached here is the patch (also with the bug report).  Does it look
</I>&gt;<i> reasonable?
</I>&gt;<i> 
</I>&gt;<i> Because it looked like it belongs in the same place, I also added
</I>&gt;<i> support for the SoapFieldAttribute.XmlFieldName in the serializer.
</I>&gt;<i> (The attribute was implemented, but the SOAP serialization stuff
</I>&gt;<i> didn't use it.)  Of course, that's still only a very partial
</I>&gt;<i> implementation of the SoapFieldAttribute stuff.
</I>&gt;<i> 
</I>&gt;<i> I wasn't sure where to put the name mangling routine because both
</I>&gt;<i> SoapReader and SoapWriter need to use it.  So I just picked one and
</I>&gt;<i> went with it.
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011785.html">[Mono-devel-list] Patch to mimic MS.Net remoting name mangling
</A></li>
	<LI>Next message: <A HREF="011788.html">[Mono-devel-list] Patch to mimic MS.Net remoting name mangling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11786">[ date ]</a>
              <a href="thread.html#11786">[ thread ]</a>
              <a href="subject.html#11786">[ subject ]</a>
              <a href="author.html#11786">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
