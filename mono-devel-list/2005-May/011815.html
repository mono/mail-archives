<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Limiting Memory Allocation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Limiting%20Memory%20Allocation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011813.html">
   <LINK REL="Next"  HREF="011816.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Limiting Memory Allocation</H1>
    <B>Jim Purbrick</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Limiting%20Memory%20Allocation&In-Reply-To="
       TITLE="[Mono-devel-list] Limiting Memory Allocation">jimpurbrick at yahoo.co.uk
       </A><BR>
    <I>Wed May  4 15:16:30 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011813.html">[Mono-devel-list] Re: Review of system.data - ISafeDataRecord
</A></li>
        <LI>Next message: <A HREF="011816.html">[Mono-devel-list] Limiting Memory Allocation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11815">[ date ]</a>
              <a href="thread.html#11815">[ thread ]</a>
              <a href="subject.html#11815">[ subject ]</a>
              <a href="author.html#11815">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Richard!

&gt;<i> Given that you are generating all the code from a 
</I>&gt;<i> source script at runtime, why don't you just inject 
</I>&gt;<i> code to monitor memory usage inline? 
</I>&gt;<i> Unless you are revising LSL (I'm a secondlife user) 
</I>&gt;<i> all data operations are value based, so it's pretty 
</I>&gt;<i> easy to see where memory is freed.
</I>
Ultimately it would be nice if we weren't generating
all the code and that this would work with any CIL
from anywhere. Having said that, bytecode translation
is currently part of the plan, so it could go in
there.

&gt;<i> btw. I'm curious as to how you are dealing with the
</I>&gt;<i> issue of assemblies (dynamically generated or 
</I>&gt;<i> otherwise) not being unloadable?
</I>
Paolo was talking about DynamicMethod Lightweight Code
Generation stuff as a potential solution to this
problem, which I'm planing to look in to.

&gt;<i> As you need some way to
</I>&gt;<i> serialize script state anyway, I guess you could
</I>&gt;<i> serialize all the scripts periodically and unload
</I>the
&gt;<i> AppDomain and start again.
</I>
At a pinch, this would do.

Cheers,

Jim.


		
___________________________________________________________ 
How much free photo storage do you get? Store your holiday 
snaps for FREE with Yahoo! Photos <A HREF="http://uk.photos.yahoo.com">http://uk.photos.yahoo.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011813.html">[Mono-devel-list] Re: Review of system.data - ISafeDataRecord
</A></li>
	<LI>Next message: <A HREF="011816.html">[Mono-devel-list] Limiting Memory Allocation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11815">[ date ]</a>
              <a href="thread.html#11815">[ thread ]</a>
              <a href="subject.html#11815">[ subject ]</a>
              <a href="author.html#11815">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
