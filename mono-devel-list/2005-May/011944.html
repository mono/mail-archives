<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [Patch] System.Drawing.Bitmap .NET Framework	compatibility
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPatch%5D%20System.Drawing.Bitmap%20.NET%20Framework%0A%09compatibility&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011947.html">
   <LINK REL="Next"  HREF="011945.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [Patch] System.Drawing.Bitmap .NET Framework	compatibility</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPatch%5D%20System.Drawing.Bitmap%20.NET%20Framework%0A%09compatibility&In-Reply-To="
       TITLE="[Mono-devel-list] [Patch] System.Drawing.Bitmap .NET Framework	compatibility">kornelpal at hotmail.com
       </A><BR>
    <I>Sat May 14 06:14:49 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011947.html">[Mono-devel-list] RSA construction trouble
</A></li>
        <LI>Next message: <A HREF="011945.html">[Mono-devel-list] mono french web site
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11944">[ date ]</a>
              <a href="thread.html#11944">[ thread ]</a>
              <a href="subject.html#11944">[ subject ]</a>
              <a href="author.html#11944">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

System.Drawing.Bitmap in .NET Framework implements new Bitmap(original, ...)
constructorst as copying the original bitmap to a memory bitmap.

Mono implements it using GdipCloneBitmapAreaI.

I don't know the behaviour of Cairo but GdipCloneBitmapAreaI on GDI+ results
in a bitmap based on the original.

As GDI+ draws bitmaps from the stream if they were created from a stream
this different implementation of the above contructors results in
significant difference as the stream should be closed while the bitmap uses
it, otherwise the bitmap cannot be rendered.

BitmapFromImage is not needed for this constructor and is not recommended in
MakeTransparent.

And not that using Dispose (that calls GC.SuppressFinalize) in
BitmapFromImage result in memory leak as the new image will never be
disposed.

Sincerely,
Korn&#233;l
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Bitmap.diff
Type: application/octet-stream
Size: 3439 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050514/e2acd45c/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050514/e2acd45c/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011947.html">[Mono-devel-list] RSA construction trouble
</A></li>
	<LI>Next message: <A HREF="011945.html">[Mono-devel-list] mono french web site
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11944">[ date ]</a>
              <a href="thread.html#11944">[ thread ]</a>
              <a href="subject.html#11944">[ subject ]</a>
              <a href="author.html#11944">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
