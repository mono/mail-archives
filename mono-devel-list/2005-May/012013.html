<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Weird runtime crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Weird%20runtime%20crash&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012012.html">
   <LINK REL="Next"  HREF="012015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Weird runtime crash</H1>
    <B>Peter Williams</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Weird%20runtime%20crash&In-Reply-To="
       TITLE="[Mono-devel-list] Weird runtime crash">peter at newton.cx
       </A><BR>
    <I>Fri May 20 02:51:20 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012012.html">[Mono-devel-list] libgdiplus append_arc bug
</A></li>
        <LI>Next message: <A HREF="012015.html">[Mono-devel-list] merging two assemblies and related problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12013">[ date ]</a>
              <a href="thread.html#12013">[ thread ]</a>
              <a href="subject.html#12013">[ subject ]</a>
              <a href="author.html#12013">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

I have a weird runtime issue with a small Gtk# program that I have. It
was working fine. I updated some resource files, recompiled, and now the
runtime reliably segfaults very early on in the program's execution. No
NullReferenceException, just SIGSEGV. Through Console.WriteLine's I've
traced down the line where this happens, and it's totally innocuous:

		if (dims != null) {

If I remove the line, execution continues a little farther but there's
just another segfault later.

In gdb, I get a stack trace that doesn't seem very helpful: see below.
Runtime and corlib are SVN trunk from a few nights ago. Other, much more
complicated programs run fine. Any ideas of what might be going on here?

Thanks,
	Peter

------------------------------------------------------------
(gdb) allbt

Thread 3 (Thread -1219167312 (LWP 12549)):
#0  0x0035e7a2 in _dl_sysinfo_int80 () from /lib/ld-linux.so.2
#1  0x00681cfc in pthread_cond_timedwait@@GLIBC_2.3.2 ()
from /lib/tls/libpthread.so.0
#2  0xb7f55eb2 in timedwait_signal_poll_cond (cond=0xb7a591dc,
mutex=0xb7a591c4, timeout=0x0) at handles.c:1251
#3  0xb7f55ff0 in _wapi_handle_timedwait_signal_handle
(handle=0xfffffffc, timeout=0x0) at handles.c:1338
#4  0xb7f560d9 in _wapi_handle_wait_signal_handle (handle=0x404) at
handles.c:1298
#5  0xb7f61e05 in WaitForSingleObjectEx (handle=0x404,
timeout=4294967295, alertable=1) at wait.c:179
#6  0xb7f0f92c in finalizer_thread (unused=0x0) at gc.c:674
#7  0xb7f224d5 in start_wrapper (data=0x80b0a20) at threads.c:293
#8  0xb7f6166d in timed_thread_start_routine (args=0x80b0b30) at timed-
thread.c:134
#9  0xb7f79078 in GC_start_routine (arg=0x808cf00) at
pthread_support.c:1237
#10 0x0067f341 in start_thread () from /lib/tls/libpthread.so.0
#11 0x0043efee in clone () from /lib/tls/libc.so.6

Thread 2 (Thread -1219085392 (LWP 12548)):
#0  0x0035e7a2 in _dl_sysinfo_int80 () from /lib/ld-linux.so.2
#1  0x00684be6 in __nanosleep_nocancel () from /lib/tls/libpthread.so.0
#2  0xb7f52848 in collection_thread (unused=0x0) at collection.c:36
#3  0x0067f341 in start_thread () from /lib/tls/libpthread.so.0
#4  0x0043efee in clone () from /lib/tls/libc.so.6

Thread 1 (Thread -1209739040 (LWP 12545)):
#0  0xb6da978e in ?? ()
#1  0x00000000 in ?? ()

-- 
Peter Williams                          <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">peter at newton.cx</A>

&quot;[Ninjas] are cool; and by cool, I mean totally sweet.&quot;
                              -- REAL Ultimate Power


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012012.html">[Mono-devel-list] libgdiplus append_arc bug
</A></li>
	<LI>Next message: <A HREF="012015.html">[Mono-devel-list] merging two assemblies and related problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12013">[ date ]</a>
              <a href="thread.html#12013">[ thread ]</a>
              <a href="subject.html#12013">[ subject ]</a>
              <a href="author.html#12013">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
