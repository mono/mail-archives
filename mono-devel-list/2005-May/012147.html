<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] XML deserialization - System.FormatException	on	System.DateTime.ParseExact()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20XML%20deserialization%20-%20System.FormatException%0A%09on%09System.DateTime.ParseExact%28%29&In-Reply-To=98EF19D4430ACA4399BA1F75E761F8AA033263C6%40dubexchmb01.bseu.bsroot.bear.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012123.html">
   <LINK REL="Next"  HREF="012124.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] XML deserialization - System.FormatException	on	System.DateTime.ParseExact()</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20XML%20deserialization%20-%20System.FormatException%0A%09on%09System.DateTime.ParseExact%28%29&In-Reply-To=98EF19D4430ACA4399BA1F75E761F8AA033263C6%40dubexchmb01.bseu.bsroot.bear.com"
       TITLE="[Mono-devel-list] XML deserialization - System.FormatException	on	System.DateTime.ParseExact()">atsushi at ximian.com
       </A><BR>
    <I>Sun May 29 22:25:59 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012123.html">[Mono-devel-list] XML deserialization - System.FormatException	on	System.DateTime.ParseExact()
</A></li>
        <LI>Next message: <A HREF="012124.html">[Mono-devel-list] Continuous Optimization: Final
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12147">[ date ]</a>
              <a href="thread.html#12147">[ thread ]</a>
              <a href="subject.html#12147">[ subject ]</a>
              <a href="author.html#12147">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> I do have an XSD that describes that piece of XML and the type is
</I>&gt;<i> xs:date, I am using a codegen tool (a modified xsd.exe) to create
</I>&gt;<i> classes from the XSD; the output of which, &quot;PublishedDate&quot; type is
</I>&gt;<i> System.DateTime, and has an attribute
</I>&gt;<i> [System.Xml.Serialization.XmlElementAttribute(DataType=&quot;date&quot;)]. 
</I>&gt;<i> 
</I>&gt;<i> According to W3C, xs:date can have an optional timezone property
</I>&gt;<i> (<A HREF="http://www.w3.org/TR/xmlschema-2/#date">http://www.w3.org/TR/xmlschema-2/#date</A>) so &quot;yyyy-MM-dd&quot; pattern will
</I>&gt;<i> fail if a timezone is present.
</I>
Hmm, sure, then apparently XmlSerializer does not conform to XML
Schema specification and my patch is insane as well as MS.NET.
Note that even if we fix this behavior to conform to W3C spec (it
is desirable), your xs:dateTime instance will still be rejected.

The better solution in that sense is to accept
yyyy-MM-dd(zzzzzzz)? and reject your instance.

So both solutions have pros/cons, I leave it to Lluis who rules ;)

Atsushi Eno

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012123.html">[Mono-devel-list] XML deserialization - System.FormatException	on	System.DateTime.ParseExact()
</A></li>
	<LI>Next message: <A HREF="012124.html">[Mono-devel-list] Continuous Optimization: Final
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12147">[ date ]</a>
              <a href="thread.html#12147">[ thread ]</a>
              <a href="subject.html#12147">[ subject ]</a>
              <a href="author.html#12147">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
