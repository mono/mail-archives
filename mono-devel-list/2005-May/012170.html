<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] System.Drawing Tests - image	recognitionsimilarities
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Drawing%20Tests%20-%20image%0A%09recognitionsimilarities&In-Reply-To=1117462509.18333.138.camel%40linux.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012157.html">
   <LINK REL="Next"  HREF="012171.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] System.Drawing Tests - image	recognitionsimilarities</H1>
    <B>RafaelMizrahi</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Drawing%20Tests%20-%20image%0A%09recognitionsimilarities&In-Reply-To=1117462509.18333.138.camel%40linux.site"
       TITLE="[Mono-devel-list] System.Drawing Tests - image	recognitionsimilarities">rafim at mainsoft.com
       </A><BR>
    <I>Mon May 30 15:49:32 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012157.html">[Mono-devel-list] System.Drawing Tests - image recognition	similarities
</A></li>
        <LI>Next message: <A HREF="012171.html">[Mono-devel-list] System.Drawing Tests - image recognition	similarities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12170">[ date ]</a>
              <a href="thread.html#12170">[ thread ]</a>
              <a href="subject.html#12170">[ subject ]</a>
              <a href="author.html#12170">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben,
* Manually comparing the difference between 2 outputs (mono and msft) can
suffer from the same problems that the automatic comparer will (anti-alias
etc')
* A binary comparison (pixel to pixel) is too strict, and can fail a lot of
test.
This is why I wish to combine (or to GPL ;) a collection of comparers which
together, can measure the similarities of 2 images.

Rafi
Paid for being pessimistic ;)

-----Original Message-----
From: Ben Maurer [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bmaurer at ximian.com</A>] 
Sent: Monday, May 30, 2005 5:15 PM
To: RafaelMizrahi
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jordi at ximian.com</A>; Oren Gurfinkel; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Subject: Re: [Mono-devel-list] System.Drawing Tests - image
recognitionsimilarities

On Mon, 2005-05-30 at 11:05 +0300, RafaelMizrahi wrote:
&gt;<i> Hi Jordi, (and mono devs)
</I>&gt;<i> Mainsoft wish to invest some effort in testing System.Drawing.
</I>&gt;<i> We wish to enhance the test suite with an image compare component which
</I>will
&gt;<i> compare the difference between the expected .NET image and the mono image.
</I>
&gt;<i> 
</I>&gt;<i> The comparer (which we just started prototyping it) will be customized and
</I>&gt;<i> produce a result according to several algorithms:
</I>&gt;<i> * Prior to compare: format, size, colors, resolution
</I>&gt;<i> * Color - strip boarders; compare histograms to get top colors and areas. 
</I>&gt;<i> * Edge Detect - edge detection, and line generation, compare line lists.
</I>&gt;<i> * Histogram to detect shapes
</I>&gt;<i> * FFT (or cosine transform) of sub-regions or the whole image.
</I>&gt;<i> * Tangent space Vectors
</I>
What if, rather than comparing the mono and .net image -- which could be
different due to, eg, differences in the anti-alias methods used -- you
did the following:

      * Run the test suites on both mono and msft
      * Compare the images. If the images are similar enough to consider
        the test as passing, mark the test as &quot;pass&quot;. Obviously this is
        a manual process.
      * Check in the binary images that are generated by *mono* for all
        sucessful runs
      * Test that the images stay the same pixel by pixel (ie, that the
        binary data of the image is the same).

This makes the assumption that in general, Cairo is deterministic in how
it renders an image. This is probably a reasonable assumption.

-- Ben



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012157.html">[Mono-devel-list] System.Drawing Tests - image recognition	similarities
</A></li>
	<LI>Next message: <A HREF="012171.html">[Mono-devel-list] System.Drawing Tests - image recognition	similarities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12170">[ date ]</a>
              <a href="thread.html#12170">[ thread ]</a>
              <a href="subject.html#12170">[ subject ]</a>
              <a href="author.html#12170">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
