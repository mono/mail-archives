<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] A question on the &quot;klass&quot; field in MonoInst
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20A%20question%20on%20the%20%22klass%22%20field%20in%20MonoInst&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012005.html">
   <LINK REL="Next"  HREF="012010.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] A question on the &quot;klass&quot; field in MonoInst</H1>
    <B>Massimiliano Mantione</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20A%20question%20on%20the%20%22klass%22%20field%20in%20MonoInst&In-Reply-To="
       TITLE="[Mono-devel-list] A question on the &quot;klass&quot; field in MonoInst">massi at ximian.com
       </A><BR>
    <I>Thu May 19 10:57:30 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012005.html">[Mono-devel-list] Raw socket sniffer with Mono on Linux
</A></li>
        <LI>Next message: <A HREF="012010.html">[Mono-devel-list] Corecompare/Buildbot not working correctly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12009">[ date ]</a>
              <a href="thread.html#12009">[ thread ]</a>
              <a href="subject.html#12009">[ subject ]</a>
              <a href="author.html#12009">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I have a small issue in implementing type based alias analysis.

I need to know the class of any object reference inside the code,
but this is generally unavailable in our IR.
Note that I just need to handle references to full heap objects
(pointing to a MonoObject to be clear), while managed pointers
pointing to primitives or value types are not interesting here.

I see that in MonoInst there's the &quot;klass&quot; field, which would be
exactly what I need; ideally (at least for me) it should have a
meaningful value every time the type of that MonoInst is set to
&quot;STACK_OBJ&quot;.

In practice klass is often NULL in those cases.
Other times it points to &quot;Object&quot;, but more precise information
could be available (like after a &quot;new&quot;).

After some code reading, it seems to me that setting &quot;klass&quot; to
a meaningful value would be harmless in general (I mean, nothing
would stop working because of that), so I'm doing it.

If anybody knows some reason why this should not be done, please
answer to this message ;-)

Ciao,
  Massi



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012005.html">[Mono-devel-list] Raw socket sniffer with Mono on Linux
</A></li>
	<LI>Next message: <A HREF="012010.html">[Mono-devel-list] Corecompare/Buildbot not working correctly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12009">[ date ]</a>
              <a href="thread.html#12009">[ thread ]</a>
              <a href="subject.html#12009">[ subject ]</a>
              <a href="author.html#12009">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
