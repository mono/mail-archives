<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Problem with DbDataAdapter...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Problem%20with%20DbDataAdapter...&In-Reply-To=200505181036.21771.informatique.internet%40fiducial.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011994.html">
   <LINK REL="Next"  HREF="012014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Problem with DbDataAdapter...</H1>
    <B>Konstantin Triger</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Problem%20with%20DbDataAdapter...&In-Reply-To=200505181036.21771.informatique.internet%40fiducial.fr"
       TITLE="[Mono-devel-list] Problem with DbDataAdapter...">kostat at mainsoft.com
       </A><BR>
    <I>Wed May 18 05:32:27 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011994.html">[Mono-devel-list] Problem with DbDataAdapter...
</A></li>
        <LI>Next message: <A HREF="012014.html">[Mono-devel-list] Problem with DbDataAdapter...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11995">[ date ]</a>
              <a href="thread.html#11995">[ thread ]</a>
              <a href="subject.html#11995">[ subject ]</a>
              <a href="author.html#11995">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Hubert,

I'm completely agree that bugs are a bad thing, that's why I'm here to 
help you as soon as possible. The reason the DataAdapter code has 
changed is to solve other bugs, and the solution required some 
&quot;cooperation&quot; from providers too. Unfortunately it's not simple to make 
a complete testing over all the providers, so I do expect for some 
number of issues, but believe that with yours and others help we will 
stabilize the code very fast.

I would like to ask you several questions:

   1. Does your PG app work? If not, can you send the stack traces/code
      samples of the problems?
   2. What is your current problem with Oracle? Can you please send a
      stack? (It cannot be the same one because in my latest patch I
      removed the calls to System.Data.DataRow:get_Item (System.String
      columnName) from the BuildSchema).
   3. If it's possible, can you send your entire app, so I'll test it
      here? (The confidentiality will be ensured).

Thank you in advance for your patience and cooperation.

Regards,
Konstantin Triger



Hubert FONGARNAND wrote:

&gt;<i>You're patch has nothing changes... I get always the same error...
</I>&gt;<i>With the postgresql app... I can now login... but there's plenty of bugs 
</I>&gt;<i>inside... I think the best solution is to get an older version of Mono!
</I>&gt;<i>
</I>&gt;<i>Why do you include a patch if there's compatibility problems with data 
</I>&gt;<i>providers!!!
</I>&gt;<i>
</I>&gt;<i>thanks
</I>&gt;<i>
</I>&gt;<i>Le Mardi 17 Mai 2005 16:26, vous avez &#233;crit :
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>Hello again,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Seems that Oracle provider does not initialize at all some columns in
</I>&gt;&gt;<i>SchemaTable.
</I>&gt;&gt;<i>The attached patch fixes that in a generic way.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Regards,
</I>&gt;&gt;<i>Konstantin Triger
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Hubert FONGARNAND wrote:
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>I've applied your patch...
</I>&gt;&gt;&gt;<i>It corrects the problem with my postgresql app...
</I>&gt;&gt;&gt;<i>but i get always an error with the same app with oracle :
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>System.IndexOutOfRangeException: Array index is out of range.
</I>&gt;&gt;&gt;<i>in &lt;0x00067&gt; System.Data.DataRow:get_Item (System.String columnName,
</I>&gt;&gt;&gt;<i>DataRowVersion version)
</I>&gt;&gt;&gt;<i>in &lt;0x00015&gt; System.Data.DataRow:get_Item (System.String columnName)
</I>&gt;&gt;&gt;<i>in &lt;0x00495&gt; System.Data.Common.DbDataAdapter:BuildSchema (IDataReader
</I>&gt;&gt;&gt;<i>reader, System.Data.DataTable table, SchemaType schemaType,
</I>&gt;&gt;&gt;<i>MissingSchemaAction missingSchAction, MissingMappingAction
</I>&gt;&gt;&gt;<i>missingMapAction,
</I>&gt;&gt;&gt;<i>System.Data.Common.DataTableMappingCollection dtMapping)
</I>&gt;&gt;&gt;<i>in &lt;0x00059&gt; System.Data.Common.DbDataAdapter:BuildSchema (IDataReader
</I>&gt;&gt;&gt;<i>reader, System.Data.DataTable table, SchemaType schemaType)
</I>&gt;&gt;&gt;<i>in (wrapper remoting-invoke-with-check)
</I>&gt;&gt;&gt;<i>System.Data.Common.DbDataAdapter:BuildSchema
</I>&gt;&gt;&gt;<i>(System.Data.IDataReader,System.Data.DataTable,System.Data.SchemaType)
</I>&gt;&gt;&gt;<i>in &lt;0x00087&gt; System.Data.Common.DbDataAdapter:FillTable
</I>&gt;&gt;&gt;<i>(System.Data.DataTable dataTable, IDataReader dataReader, Int32
</I>&gt;&gt;&gt;<i>startRecord, Int32 maxRecords, System.Int32 counter)
</I>&gt;&gt;&gt;<i>in (wrapper remoting-invoke-with-check)
</I>&gt;&gt;&gt;<i>System.Data.Common.DbDataAdapter:FillTable
</I>&gt;&gt;&gt;<i>(System.Data.DataTable,System.Data.IDataReader,int,int,int&amp;)
</I>&gt;&gt;&gt;<i>in &lt;0x00117&gt; System.Data.Common.DbDataAdapter:Fill (System.Data.DataSet
</I>&gt;&gt;&gt;<i>dataSet, System.String srcTable, IDataReader dataReader, Int32
</I>&gt;&gt;&gt;<i>startRecord, Int32 maxRecords)
</I>&gt;&gt;&gt;<i>in &lt;0x000ce&gt; System.Data.Common.DbDataAdapter:Fill (System.Data.DataSet
</I>&gt;&gt;&gt;<i>dataSet, Int32 startRecord, Int32 maxRecords, System.String srcTable,
</I>&gt;&gt;&gt;<i>IDbCommand command, CommandBehavior behavior)
</I>&gt;&gt;&gt;<i>in &lt;0x00036&gt; System.Data.Common.DbDataAdapter:Fill (System.Data.DataSet
</I>&gt;&gt;&gt;<i>dataSet, System.String srcTable)
</I>&gt;&gt;&gt;<i>in (wrapper remoting-invoke-with-check)
</I>&gt;&gt;&gt;<i>System.Data.Common.DbDataAdapter:Fill (System.Data.DataSet,string)
</I>&gt;&gt;&gt;<i>in &lt;0x00121&gt; MoteurCRM.CProfil:RetourneGroupeCommercial (System.String
</I>&gt;&gt;&gt;<i>cnxstring, System.String televendeur_Id)
</I>&gt;&gt;&gt;<i>in &lt;0x007e7&gt; FicheClient.Logon:btnValider_Click (System.Object sender,
</I>&gt;&gt;&gt;<i>System.EventArgs e)
</I>&gt;&gt;&gt;<i>in (wrapper delegate-invoke)
</I>&gt;&gt;&gt;<i>System.MulticastDelegate:invoke_void_object_EventArgs
</I>&gt;&gt;&gt;<i>(object,System.EventArgs)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Thanks...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Le Mardi 17 Mai 2005 12:09, Konstantin Triger a &#233;crit :
</I>&gt;&gt;&gt;<i>      
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>Agreed, but in fact the provider should set the defaults, not the
</I>&gt;&gt;&gt;&gt;<i>DataAdapter :-).
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>Regards,
</I>&gt;&gt;&gt;&gt;<i>Konstantin Triger
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>Sureshkumar T wrote:
</I>&gt;&gt;&gt;&gt;<i>        
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>+							bool allowDBNull = value is bool ? (bool)value : false;
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>            
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>default allowDBNull should be true ;-)
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>suresh.
</I>&gt;&gt;&gt;&gt;&gt;<i>          
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;&gt;<i>Ce message et les &#233;ventuels documents joints peuvent contenir des
</I>&gt;&gt;&gt;<i>informations confidentielles. Au cas o&#249; il ne vous serait pas destin&#233;,
</I>&gt;&gt;&gt;<i>nous vous remercions de bien vouloir le supprimer et en aviser
</I>&gt;&gt;&gt;<i>imm&#233;diatement l'exp&#233;diteur. Toute utilisation de ce message non conforme
</I>&gt;&gt;&gt;<i>&#224; sa destination, toute diffusion ou publication, totale ou partielle et
</I>&gt;&gt;&gt;<i>quel qu'en soit le moyen est formellement interdite. Les communications
</I>&gt;&gt;&gt;<i>sur internet n'&#233;tant pas s&#233;curis&#233;es, l'int&#233;grit&#233; de ce message n'est pas
</I>&gt;&gt;&gt;<i>assur&#233;e et la soci&#233;t&#233; &#233;mettrice ne peut &#234;tre tenue pour responsable de
</I>&gt;&gt;&gt;<i>son contenu. _______________________________________________
</I>&gt;&gt;&gt;<i>Mono-devel-list mailing list
</I>&gt;&gt;&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;&gt;<i>      
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Ce message et les &#233;ventuels documents joints peuvent contenir des informations confidentielles.
</I>&gt;<i>Au cas o&#249; il ne vous serait pas destin&#233;, nous vous remercions de bien vouloir le supprimer et en aviser imm&#233;diatement l'exp&#233;diteur. Toute utilisation de ce message non conforme &#224; sa destination, toute diffusion ou publication, totale ou partielle et quel qu'en soit le moyen est formellement interdite.
</I>&gt;<i>Les communications sur internet n'&#233;tant pas s&#233;curis&#233;es, l'int&#233;grit&#233; de ce message n'est pas assur&#233;e et la soci&#233;t&#233; &#233;mettrice ne peut &#234;tre tenue pour responsable de son contenu.
</I>&gt;<i>  
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011994.html">[Mono-devel-list] Problem with DbDataAdapter...
</A></li>
	<LI>Next message: <A HREF="012014.html">[Mono-devel-list] Problem with DbDataAdapter...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11995">[ date ]</a>
              <a href="thread.html#11995">[ thread ]</a>
              <a href="subject.html#11995">[ subject ]</a>
              <a href="author.html#11995">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
