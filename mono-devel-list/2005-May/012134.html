<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] Warn on lock (string) or	lock(typeof	(Foo))
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Warn%20on%20lock%20%28string%29%20or%0A%09lock%28typeof%09%28Foo%29%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012133.html">
   <LINK REL="Next"  HREF="012135.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] Warn on lock (string) or	lock(typeof	(Foo))</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Warn%20on%20lock%20%28string%29%20or%0A%09lock%28typeof%09%28Foo%29%29&In-Reply-To="
       TITLE="[Mono-devel-list] [PATCH] Warn on lock (string) or	lock(typeof	(Foo))">kornelpal at hotmail.com
       </A><BR>
    <I>Fri May 27 18:46:21 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012133.html">[Mono-devel-list] [PATCH] Warn on lock (string) or lock	(typeof	(Foo))
</A></li>
        <LI>Next message: <A HREF="012135.html">[Mono-devel-list] [PATCH] Warn on lock (string) or lock	(typeof	(Foo))
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12134">[ date ]</a>
              <a href="thread.html#12134">[ thread ]</a>
              <a href="subject.html#12134">[ subject ]</a>
              <a href="author.html#12134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Good idea overall, though I'd suggest a slight change warn whenever you
</I>&gt;<i> lock on a public member.  This would catch both System.Type and string
</I>&gt;<i> (both are public members), and it's generally not safe to lock on public
</I>&gt;<i> members for the same reasons locking on string or System.Type is unsafe
</I>&gt;<i> (increased possibility for deadlock being the primary issue).
</I>
I think locking on public members is not unsafe. For example locking on
SyncRoot (where applicable) is good as it will sychronize the operation
accross all its wrapper methods.

And never forget that if someone wants to cause deadlock (or do other evil
things) he can do it using Reflection as well as anyone
(ReflectionPermission is rarely revoked) can read and even write private
members.

Korn&#233;l


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012133.html">[Mono-devel-list] [PATCH] Warn on lock (string) or lock	(typeof	(Foo))
</A></li>
	<LI>Next message: <A HREF="012135.html">[Mono-devel-list] [PATCH] Warn on lock (string) or lock	(typeof	(Foo))
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12134">[ date ]</a>
              <a href="thread.html#12134">[ thread ]</a>
              <a href="subject.html#12134">[ subject ]</a>
              <a href="author.html#12134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
