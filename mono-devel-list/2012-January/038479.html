<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] difference in performance between mono OSX and linux?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20difference%20in%20performance%20between%20mono%20OSX%20and%20linux%3F&In-Reply-To=%3C778EFFFD-7712-4DCA-932E-15ECAA76D865%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038482.html">
   <LINK REL="Next"  HREF="038480.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] difference in performance between mono OSX and linux?</H1>
    <B>Jonathan Shore</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20difference%20in%20performance%20between%20mono%20OSX%20and%20linux%3F&In-Reply-To=%3C778EFFFD-7712-4DCA-932E-15ECAA76D865%40gmail.com%3E"
       TITLE="[Mono-dev] difference in performance between mono OSX and linux?">jonathan.shore at gmail.com
       </A><BR>
    <I>Sat Jan 21 19:28:19 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="038482.html">[Mono-dev] AOT compiler crash
</A></li>
        <LI>Next message: <A HREF="038480.html">[Mono-dev] difference in performance between mono OSX and linux?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38479">[ date ]</a>
              <a href="thread.html#38479">[ thread ]</a>
              <a href="subject.html#38479">[ subject ]</a>
              <a href="author.html#38479">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am running a program that does millions of transactions on FIFO queues, etc.   Running on my OSX box (which is on a dual CPU / 8 core Xeon E5520) and on a linux box which is a core I7-950, I found a significant performance difference which is difficult to explain.

On a single threaded run, the OSX based E5520 took 21 seconds to process 8 million &quot;transactions&quot; and the linux box took only 8 seconds.   The i7-950 is marginally faster (~10% faster) in typical benchmarks that the E5520.

Both runs were done with -llvm enabled and with the same garbage collector.    There are probably 16 - 32 million small objects created during the course of this evaluation, but generally with good locality, so should be easy to GC.

The OSX-based mono performance for this app is 3x slower than the linux performance (whereas for typical programs, say in C, the difference would be about 10%).   Both the linux and OSX boxes have significant memory (in fact the OSX box has more memory).

Finally, the OSX version is using 2.10.8 32bit  and the linux version 2.10.6 64bit.  I doubt that there is a retrogression in performance between 2.10.6.  Thinking is more likely to be an implementation difference between OSX and linux?    I would also think that the 32bit vs 64bit would not make all that much difference?

So I am wondering whether there are differences in implementation between mono on these platforms that could account for a significant performance difference?

Thanks
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20120121/c164b6fa/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20120121/c164b6fa/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038482.html">[Mono-dev] AOT compiler crash
</A></li>
	<LI>Next message: <A HREF="038480.html">[Mono-dev] difference in performance between mono OSX and linux?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38479">[ date ]</a>
              <a href="thread.html#38479">[ thread ]</a>
              <a href="subject.html#38479">[ subject ]</a>
              <a href="author.html#38479">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
