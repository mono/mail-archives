<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] CultureInfo not supported
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20CultureInfo%20not%20supported&In-Reply-To=7.0.1.0.0.20060401223444.048bfa00%40archicoop.it">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017949.html">
   <LINK REL="Next"  HREF="017963.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] CultureInfo not supported</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20CultureInfo%20not%20supported&In-Reply-To=7.0.1.0.0.20060401223444.048bfa00%40archicoop.it"
       TITLE="[Mono-dev] CultureInfo not supported">atsushi at ximian.com
       </A><BR>
    <I>Sun Apr  2 17:36:29 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017949.html">[Mono-dev] CultureInfo not supported
</A></li>
        <LI>Next message: <A HREF="017963.html">[Mono-dev] CultureInfo not supported
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17960">[ date ]</a>
              <a href="thread.html#17960">[ thread ]</a>
              <a href="subject.html#17960">[ subject ]</a>
              <a href="author.html#17960">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mmm, thanks for the bug info. BTW for nb-NO I've committed the fix
in svn.

If you cannot control serialization on the other side, you can't
do anything but modifying the input XML to strip the culture info.

Atsushi Eno

Ivano Luberti wrote:
&gt;<i> Hi Atsushi.
</I>&gt;<i> I have found that someone already has reported this as a bug
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=69652">http://bugzilla.ximian.com/show_bug.cgi?id=69652</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Speaking of the workouround you suggest: I cant' do that beacuse I 
</I>&gt;<i> receive the dataset from a web service and the exception raise during 
</I>&gt;<i> the deserialization process.
</I>&gt;<i> 
</I>&gt;<i> Here is the stack trace:
</I>&gt;<i> 
</I>&gt;<i> Parameter name: name
</I>&gt;<i> 2006-04-01 21:21:40,245 [1200] 
</I>&gt;<i> DocProviderWS.Sources.ImplementazioneDocProviderWS.getVerbatims(:0) 
</I>&gt;<i> DocProviderWS.Sources.ImplementazioneDocProviderWS.getVerbatims(:0) 
</I>&gt;<i> [DEBUG{NDC}] - in &lt;0x000fb&gt; System.Globalization.CultureInfo:.ctor 
</I>&gt;<i> (System.String name, Boolean use_user_override)
</I>&gt;<i> in &lt;0x0000f&gt; System.Globalization.CultureInfo:.ctor (System.String name)
</I>&gt;<i> in &lt;0x00119&gt; System.Data.XmlSchemaDataImporter:ProcessDataSetElement 
</I>&gt;<i> (System.Xml.Schema.XmlSchemaElement el)
</I>&gt;<i> in &lt;0x000be&gt; System.Data.XmlSchemaDataImporter:ProcessGlobalElement 
</I>&gt;<i> (System.Xml.Schema.XmlSchemaElement el)
</I>&gt;<i> in &lt;0x00462&gt; System.Data.XmlSchemaDataImporter:Process ()
</I>&gt;<i> in &lt;0x00027&gt; System.Data.DataSet:ReadXmlSchema (System.Xml.XmlReader 
</I>&gt;<i> reader)
</I>&gt;<i> in &lt;0x00576&gt; System.Data.DataSet:ReadXml (System.Xml.XmlReader reader, 
</I>&gt;<i> XmlReadMode mode)
</I>&gt;<i> in &lt;0x0000f&gt; System.Data.DataSet:ReadXmlSerializable 
</I>&gt;<i> (System.Xml.XmlReader reader)
</I>&gt;<i> in &lt;0x00011&gt; 
</I>&gt;<i> System.Data.DataSet:System.Xml.Serialization.IXmlSerializable.ReadXml 
</I>&gt;<i> (System.Xml.XmlReader reader)
</I>&gt;<i> in &lt;0x00046&gt; 
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReader:ReadSerializable 
</I>&gt;<i> (IXmlSerializable serializable)
</I>&gt;<i> in &lt;0x00193&gt; 
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadObjectElement 
</I>&gt;<i> (System.Xml.Serialization.XmlTypeMapElementInfo elem)
</I>&gt;<i> in &lt;0x01e04&gt; 
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadMembers 
</I>&gt;<i> (System.Xml.Serialization.ClassMap map, System.Object ob, Boolean 
</I>&gt;<i> isValueList, Boolean readByOrder)
</I>&gt;<i> in &lt;0x0003c&gt; 
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadClassInstanceMembers 
</I>&gt;<i> (System.Xml.Serialization.XmlTypeMapping typeMap, System.Object ob)
</I>&gt;<i> in &lt;0x00194&gt; 
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadClassInstance 
</I>&gt;<i> (System.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable, 
</I>&gt;<i> Boolean checkType)
</I>&gt;<i> in &lt;0x0005f&gt; 
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadObject 
</I>&gt;<i> (System.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable, 
</I>&gt;<i> Boolean checkType)
</I>&gt;<i> in &lt;0x000e1&gt; 
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadObjectElement 
</I>&gt;<i> (System.Xml.Serialization.XmlTypeMapElementInfo elem)
</I>&gt;<i> in &lt;0x01e04&gt; 
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadMembers 
</I>&gt;<i> (System.Xml.Serialization.ClassMap map, System.Object ob, Boolean 
</I>&gt;<i> isValueList, Boolean readByOrder)
</I>&gt;<i> in &lt;0x001d4&gt; 
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadMessage 
</I>&gt;<i> (System.Xml.Serialization.XmlMembersMapping typeMap)
</I>&gt;<i> in &lt;0x000c6&gt; 
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadRoot ()
</I>&gt;<i> in &lt;0x0005d&gt; System.Xml.Serialization.XmlSerializer:Deserialize 
</I>&gt;<i> (System.Xml.Serialization.XmlSerializationReader reader)
</I>&gt;<i> in &lt;0x00040&gt; System.Xml.Serialization.XmlSerializer:Deserialize 
</I>&gt;<i> (System.Xml.XmlReader xmlReader)
</I>&gt;<i> in &lt;0x000d9&gt; 
</I>&gt;<i> System.Web.Services.Protocols.WebServiceHelper:ReadSoapMessage 
</I>&gt;<i> (System.Xml.XmlTextReader xmlReader, 
</I>&gt;<i> System.Xml.Serialization.XmlSerializer bodySerializer, 
</I>&gt;<i> System.Xml.Serialization.XmlSerializer headerSerializer, System.Object 
</I>&gt;<i> body, System.Web.Services.Protocols.SoapHeaderCollection headers)
</I>&gt;<i> in &lt;0x0003e&gt; 
</I>&gt;<i> System.Web.Services.Protocols.WebServiceHelper:ReadSoapMessage 
</I>&gt;<i> (System.Xml.XmlTextReader xmlReader, 
</I>&gt;<i> System.Web.Services.Protocols.SoapMethodStubInfo method, 
</I>&gt;<i> SoapHeaderDirection dir, System.Object body, 
</I>&gt;<i> System.Web.Services.Protocols.SoapHeaderCollection headers)
</I>&gt;<i> in &lt;0x002bd&gt; 
</I>&gt;<i> System.Web.Services.Protocols.SoapHttpClientProtocol:ReceiveResponse 
</I>&gt;<i> (System.Net.WebResponse response, 
</I>&gt;<i> System.Web.Services.Protocols.SoapClientMessage message, 
</I>&gt;<i> System.Web.Services.Protocols.SoapExtension[] extensions)
</I>&gt;<i> in &lt;0x0024f&gt; System.Web.Services.Protocols.SoapHttpClientProtocol:Invoke 
</I>&gt;<i> (System.String method_name, System.Object[] parameters)
</I>&gt;<i> in &lt;0x0005e&gt; DocProviderWS.wssurveydata.SurveyData:GetData 
</I>&gt;<i> (System.String key, DocProviderWS.wssurveydata.TransferDefBase 
</I>&gt;<i> transferDef, DocProviderWS.wssurveydata.ResponseToken token)
</I>&gt;<i> in (wrapper remoting-invoke-with-check) 
</I>&gt;<i> DocProviderWS.wssurveydata.SurveyData:GetData 
</I>&gt;<i> (string,DocProviderWS.wssurveydata.TransferDefBase,DocProviderWS.wssurveydata.ResponseToken) 
</I>&gt;<i> 
</I>&gt;<i> in &lt;0x001f1&gt; 
</I>&gt;<i> DocProviderWS.Sources.ImplementazioneDocProviderWS:getVerbatims 
</I>&gt;<i> (DocProviderWS.Sources.Identificatorequestionario idquestionario, 
</I>&gt;<i> DocProviderWS.Sources.DomandaTestoLibero domanda, 
</I>&gt;<i> DocProviderWS.Sources.ParametriQuery parametri)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> At 14.40 28/03/2006, Atsushi Eno wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> But I'll add support for nb-NO culture to the runtime.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For your question, the answer would be &quot;yes&quot; - to workaround this
</I>&gt;&gt;<i> problem with current mono, try
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         yourDataSet.Locale = CultureInfo.InvariantCulture;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Atsushi Eno
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ivano Luberti wrote:
</I>&gt;&gt;&gt;<i> I'm developing a web service client that connect to a server that 
</I>&gt;&gt;&gt;<i> returns a DataSet in which the CulureInfo name is nb-NO.
</I>&gt;&gt;&gt;<i> Mono raises an excpetion because this name is not supported.
</I>&gt;&gt;&gt;<i> There is a way, without modifying and re-compiling to make mono 
</I>&gt;&gt;&gt;<i> runtime ignore CulturInfo name or to use a default ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- 
</I>&gt;&gt;<i> No virus found in this incoming message.
</I>&gt;&gt;<i> Checked by AVG Anti-Virus.
</I>&gt;&gt;<i> Version: 7.1.385 / Virus Database: 268.3.2/294 - Release Date: 27/03/2006
</I>&gt;<i> 
</I>&gt;<i> ==================================================
</I>&gt;<i> Archimede Informatica NEWS!
</I>&gt;<i> ==================================================
</I>&gt;<i> 
</I>&gt;<i> Realizzato il Sistema Integrato per la biglietteria della Torre di Pisa:
</I>&gt;<i> prenotazione, vendita, pre-vendita ed emissione dei biglietti di ingresso
</I>&gt;<i> alla Torre sia online che presso le biglietterie dislocate sulla piazza:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.opapisa.it/boxoffice">http://www.opapisa.it/boxoffice</A>
</I>&gt;<i> 
</I>&gt;<i> Partner del Progetto Ci-Tel &quot;Front office Telematico per il cittadino&quot;
</I>&gt;<i> Ente Coordinatore Comune di Pisa
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.comune.pisa.it/doc/e-government.htm">http://www.comune.pisa.it/doc/e-government.htm</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ==================================================
</I>&gt;<i> dott. Ivano Mario Luberti
</I>&gt;<i> Archimede Informatica societa' cooperativa a r. l.
</I>&gt;<i> Sede Operativa
</I>&gt;<i> Via Gereschi 36 - 56126- Pisa
</I>&gt;<i> tel.: +39-050- 580959
</I>&gt;<i> tel/fax: +39-050-9711344
</I>&gt;<i> e-mail: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">archimede at archicoop.it</A>
</I>&gt;<i> web: <A HREF="http://www.archicoop.it">http://www.archicoop.it</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> No virus found in this outgoing message.
</I>&gt;<i> Checked by AVG Anti-Virus.
</I>&gt;<i> Version: 7.1.385 / Virus Database: 268.3.4/299 - Release Date: 31/03/2006
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017949.html">[Mono-dev] CultureInfo not supported
</A></li>
	<LI>Next message: <A HREF="017963.html">[Mono-dev] CultureInfo not supported
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17960">[ date ]</a>
              <a href="thread.html#17960">[ thread ]</a>
              <a href="subject.html#17960">[ subject ]</a>
              <a href="author.html#17960">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
