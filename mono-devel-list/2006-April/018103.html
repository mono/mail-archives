<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] 2.0 profile version of resgen
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%202.0%20profile%20version%20of%20resgen&In-Reply-To=dd99b8c80604080550y547ad329laa187435e18038dc%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018102.html">
   <LINK REL="Next"  HREF="018159.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] 2.0 profile version of resgen</H1>
    <B>Gert Driesen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%202.0%20profile%20version%20of%20resgen&In-Reply-To=dd99b8c80604080550y547ad329laa187435e18038dc%40mail.gmail.com"
       TITLE="[Mono-dev] [PATCH] 2.0 profile version of resgen">gert.driesen at telenet.be
       </A><BR>
    <I>Sat Apr  8 09:48:21 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018102.html">[Mono-dev] [PATCH] 2.0 profile version of resgen
</A></li>
        <LI>Next message: <A HREF="018159.html">[Mono-dev] [PATCH] 2.0 profile version of resgen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18103">[ date ]</a>
              <a href="thread.html#18103">[ thread ]</a>
              <a href="subject.html#18103">[ subject ]</a>
              <a href="author.html#18103">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A> 
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] On Behalf 
</I>&gt;<i> Of Rafael Teixeira
</I>&gt;<i> Sent: zaterdag 8 april 2006 14:50
</I>&gt;<i> To: Gert Driesen
</I>&gt;<i> Cc: Miguel de Icaza; mono-devel mailing list
</I>&gt;<i> Subject: Re: [Mono-dev] [PATCH] 2.0 profile version of resgen
</I>&gt;<i> 
</I>&gt;<i> No need for a mbas2 wrapper as that could confuse people making then
</I>&gt;<i> expect VB.NET 8.0 (the one in .NET 2.0) features. I expect mbas to run
</I>&gt;<i> with any profile, if that is not the case, I would like to know how to
</I>&gt;<i> make it so, to avoid the cited potential confusion.
</I>
mbas does not support emitting .NET 2.0 assemblies and also does not support
referencing .NET 2.0, which is why I proposed to also build an mbas.exe in
the 2.0 profile. 

I know that mbas does not have any VB.NET 8.0 features, but one should still
be able to use it to compile applications that use .NET 2.0 BCL features.

Whether or not an mbas2 wrapper script should be created, is another
question...

Gert
 
&gt;<i> On 4/8/06, Gert Driesen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">gert.driesen at telenet.be</A>&gt; wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The attached patch modifies the Makefile for resgen to 
</I>&gt;<i> support a different
</I>&gt;<i> &gt; output assembly for each supported profile, and adds a 
</I>&gt;<i> 'resgen2' wrapper
</I>&gt;<i> &gt; script for executing the 2.0 profile version of resgen.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This change was discussed with Miguel a few weeks ago (see below).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Are there more changes necessary to get the 2.0 version of 
</I>&gt;<i> resgen and its
</I>&gt;<i> &gt; wrapper script in the distribution ?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is ok to also create a 2.0 profile versions of mbas, xsd 
</I>&gt;<i> and al ? I would
</I>&gt;<i> &gt; submit a separate patch for these ofcourse.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Gert
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>
</I>&gt;<i> &gt; &gt; [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] On Behalf
</I>&gt;<i> &gt; &gt; Of Miguel de Icaza
</I>&gt;<i> &gt; &gt; Sent: zaterdag 25 maart 2006 22:38
</I>&gt;<i> &gt; &gt; To: Gert Driesen
</I>&gt;<i> &gt; &gt; Cc: 'mono-devel mailing list'
</I>&gt;<i> &gt; &gt; Subject: Re: [Mono-dev] 2.0 profile version of Mono tools ?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Hey,
</I>&gt;<i> &gt; &gt; &gt; This is because resgen is a 1.1 (1.0 profile) assembly
</I>&gt;<i> &gt; &gt; (which loads some 1.1
</I>&gt;<i> &gt; &gt; &gt; system assemblies) and hence you end with a 1.0 runtime,
</I>&gt;<i> &gt; &gt; which ofcourse
</I>&gt;<i> &gt; &gt; &gt; can't deal with 2.0 assemblies.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Why not just build all Mono tools in both 1.0 and 2.0
</I>&gt;<i> &gt; &gt; profile ? Even if the
</I>&gt;<i> &gt; &gt; &gt; source code is exactly the same, you still need these
</I>&gt;<i> &gt; &gt; profile-specific
</I>&gt;<i> &gt; &gt; &gt; assemblies.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; We would then have, for example, a resgen.exe in
</I>&gt;<i> &gt; &gt; $prefix/lib/mono/1.0 and
</I>&gt;<i> &gt; &gt; &gt; $prefix/lib/mono/2.0. You can then even have a small
</I>&gt;<i> &gt; &gt; wrapper script (named
</I>&gt;<i> &gt; &gt; &gt; resgen) that executes one of these assemblies based on some
</I>&gt;<i> &gt; &gt; environment
</I>&gt;<i> &gt; &gt; &gt; variable (MONO_PROFILE) or something.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Isn't this better than having wsdl, wsdl2, wsdl3, ... ?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Any feedback is appreciated ...
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Although I like the idea, am not sure how we control the profile.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; And I am not sure if we want to do this change with an environment
</I>&gt;<i> &gt; &gt; variable that would control the executable to run, or if 
</I>&gt;<i> we should do
</I>&gt;<i> &gt; &gt; this with something at the runtime level.   I think we 
</I>&gt;<i> need to explore
</I>&gt;<i> &gt; &gt; the various avenues before making a commitment to a particular
</I>&gt;<i> &gt; &gt; direction.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; That being said, I think that an immediate thing to do would be to
</I>&gt;<i> &gt; &gt; create the scripts and executables for the second profile and
</I>&gt;<i> &gt; &gt; get those
</I>&gt;<i> &gt; &gt; on SVN, at least you get a workaround.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; A second stage would be to create the new wrapper scripts 
</I>&gt;<i> that would
</I>&gt;<i> &gt; &gt; invoke one-or-the-other script based on the name.   In this second
</I>&gt;<i> &gt; &gt; stage, I would probably still want to have tool, tool1 and
</I>&gt;<i> &gt; &gt; tool2, where
</I>&gt;<i> &gt; &gt; tool does the default-or-configured invocation;  tool1 is
</I>&gt;<i> &gt; &gt; always the 1.0
</I>&gt;<i> &gt; &gt; version and tool2 is always the 2.0 version.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; But this should really be a stage 2.   As part of this, 
</I>&gt;<i> we should come
</I>&gt;<i> &gt; &gt; up with the smallest possible &quot;multiplexing&quot; script that 
</I>&gt;<i> would invoke
</I>&gt;<i> &gt; &gt; one or the other.  We should not bloat these scripts as they
</I>&gt;<i> &gt; &gt; are used a
</I>&gt;<i> &gt; &gt; lot.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Miguel.
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Rafael &quot;Monoman&quot; Teixeira
</I>&gt;<i> ---------------------------------------
</I>&gt;<i> As I'm currently working a lot with Java and even fixing Java VMs
</I>&gt;<i> (JamVM/Kaffe) and GNU Classpath code, I think I may partly borrow the
</I>&gt;<i> title (Javaman) from my friend Bruno Souza and become the
</I>&gt;<i> MonoNJavaMan. Yeah, I may currently be crazier than usual...
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018102.html">[Mono-dev] [PATCH] 2.0 profile version of resgen
</A></li>
	<LI>Next message: <A HREF="018159.html">[Mono-dev] [PATCH] 2.0 profile version of resgen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18103">[ date ]</a>
              <a href="thread.html#18103">[ thread ]</a>
              <a href="subject.html#18103">[ subject ]</a>
              <a href="author.html#18103">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
