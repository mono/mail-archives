<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] System.Web.UI.Page patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Web.UI.Page%20patch&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D02F84EC1%40dhost002-45.dex002.intermedia.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018358.html">
   <LINK REL="Next"  HREF="018360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] System.Web.UI.Page patch</H1>
    <B>Chris Toshok</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Web.UI.Page%20patch&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D02F84EC1%40dhost002-45.dex002.intermedia.net"
       TITLE="[Mono-dev] System.Web.UI.Page patch">toshok at ximian.com
       </A><BR>
    <I>Mon Apr 24 15:14:35 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018358.html">[Mono-dev] System.Web.UI.Page patch
</A></li>
        <LI>Next message: <A HREF="018360.html">[Mono-dev] aspx testcase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18372">[ date ]</a>
              <a href="thread.html#18372">[ thread ]</a>
              <a href="subject.html#18372">[ subject ]</a>
              <a href="author.html#18372">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'd like to see the test used for this as well.

At first blush the theme change looks ok, but I really don't like the
idea of adding the ApplyTheme behavior to OnInit.  Unless, of course,
this is what actually happens in MS's implementation.

Also, the master page change doesn't seem necessary to me, in the scope
of the greater change.  The controls will have their OnInit methods's
called properly when they're added to the already Init'ed controls.

Chris

On Sun, 2006-04-23 at 09:33 -0700, Andrew Skiba wrote:
&gt;<i> Please ignore the previous patch, review the new patch instead. Sorry
</I>&gt;<i> for the inconvenience.
</I>&gt;<i> 
</I>&gt;<i> The previous patch did not handle the situation when StyleSheetTheme
</I>&gt;<i> should affect a control created by template (as ImageButton inside
</I>&gt;<i> LoginView).
</I>&gt;<i> 
</I>&gt;<i> To find out the correct flow, I subclassed an ImageButton in dotnet, and
</I>&gt;<i> watched the order in which the following methods were called:
</I>&gt;<i> 
</I>&gt;<i> EnsureChildControls, OnPreRender, OnLoad, OnInit, ApplyStyleSheetSkin,
</I>&gt;<i> set_ImageUrl
</I>&gt;<i> 
</I>&gt;<i> In current mono implementation theme is applied for all the control
</I>&gt;<i> hierarchy before applying the master page. But at this stage many
</I>&gt;<i> controls still don't exist. My previous patch solved problem with master
</I>&gt;<i> page, but not with contols created during PreRerderRecursiveInternal.
</I>&gt;<i> This patch solves the problem and removes code duplication for
</I>&gt;<i> recursion.
</I>&gt;<i> 
</I>&gt;<i> If no one objects, I will commit.
</I>&gt;<i> 
</I>&gt;<i> Thank you.
</I>&gt;<i> Andrew.
</I>&gt;<i> 
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A> 
</I>&gt;<i> &gt; [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] On Behalf 
</I>&gt;<i> &gt; Of Andrew Skiba
</I>&gt;<i> &gt; Sent: Sunday, April 23, 2006 11:46
</I>&gt;<i> &gt; To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; Subject: [Mono-dev] System.Web.UI.Page patch
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The attached patch fixes the flow for themes combined with 
</I>&gt;<i> &gt; master pages.
</I>&gt;<i> &gt; If no one objects, I will commit.
</I>&gt;<i> &gt; 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018358.html">[Mono-dev] System.Web.UI.Page patch
</A></li>
	<LI>Next message: <A HREF="018360.html">[Mono-dev] aspx testcase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18372">[ date ]</a>
              <a href="thread.html#18372">[ thread ]</a>
              <a href="subject.html#18372">[ subject ]</a>
              <a href="author.html#18372">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
