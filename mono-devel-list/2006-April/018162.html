<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Application performance benchmarking
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Application%20performance%20benchmarking&In-Reply-To=001401c64d31%248f98cd50%246464a8c0%40ansirua">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018171.html">
   <LINK REL="Next"  HREF="018163.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Application performance benchmarking</H1>
    <B>Tomas Kalibera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Application%20performance%20benchmarking&In-Reply-To=001401c64d31%248f98cd50%246464a8c0%40ansirua"
       TITLE="[Mono-dev] Application performance benchmarking">kalibera at nenya.ms.mff.cuni.cz
       </A><BR>
    <I>Tue Apr 11 06:13:30 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018171.html">[Mono-dev] PATCH SiteMapNode
</A></li>
        <LI>Next message: <A HREF="018163.html">[Mono-dev] Re: What would you like to see in Mono?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18162">[ date ]</a>
              <a href="thread.html#18162">[ thread ]</a>
              <a href="subject.html#18162">[ subject ]</a>
              <a href="author.html#18162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
If you need better accuracy, you can read your CPU's hardware counters 
directly - that is what I do for  benchmarks. On Intel you can use the 
RDTSC instruction to get the value of the time stamp counter (number of 
cpu ticks). You can implement reading the counter in C, link it as a 
shared library, and then use the library from C# code  by DllImport. 
There will however be some overhead for the call itself.

Tomas

Andreas Nahr wrote:

&gt;<i> If you want to do simple timing then either do the 
</I>&gt;<i> DateTime.Now-StartTime that you described or use Environment.TickCount.
</I>&gt;<i> These work ok unless you need to time something very short (&lt;100ms)
</I>&gt;<i> You may also want to try to launch mono with the --profile switch if 
</I>&gt;<i> you just want to see which functions take most of the time.
</I>&gt;<i>
</I>&gt;<i> Andreas
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Does anyone know what is the best way to benchmark a C# app? I'm
</I>&gt;&gt;<i> specifically looking for something, that would tell me which part of the
</I>&gt;&gt;<i> code takes up lot of time, how long does a specific block of code take
</I>&gt;&gt;<i> to execute, etc.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is the method when I note DateTime.Now before the block of code and
</I>&gt;&gt;<i> after it do a subtraction of the current DateTime.Now to the previous
</I>&gt;&gt;<i> one accurate?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Best,
</I>&gt;&gt;<i> Lukas
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018171.html">[Mono-dev] PATCH SiteMapNode
</A></li>
	<LI>Next message: <A HREF="018163.html">[Mono-dev] Re: What would you like to see in Mono?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18162">[ date ]</a>
              <a href="thread.html#18162">[ thread ]</a>
              <a href="subject.html#18162">[ subject ]</a>
              <a href="author.html#18162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
