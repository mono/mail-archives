<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] multiple client certificate issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20multiple%20client%20certificate%20issue&In-Reply-To=%3CCADkwcfFNL6336ze0hKSyEU%2BcaJYwc5ZCGHGHDu9hQzuF_BKJ%2Bg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040905.html">
   <LINK REL="Next"  HREF="040909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] multiple client certificate issue</H1>
    <B>Scott Douglass</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20multiple%20client%20certificate%20issue&In-Reply-To=%3CCADkwcfFNL6336ze0hKSyEU%2BcaJYwc5ZCGHGHDu9hQzuF_BKJ%2Bg%40mail.gmail.com%3E"
       TITLE="[Mono-dev] multiple client certificate issue">smdouglass at gmail.com
       </A><BR>
    <I>Tue Oct 22 18:44:55 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040905.html">[Mono-dev] Removing NET_2_0 define
</A></li>
        <LI>Next message: <A HREF="040909.html">[Mono-dev] mdoc update for a non-public types
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40908">[ date ]</a>
              <a href="thread.html#40908">[ thread ]</a>
              <a href="subject.html#40908">[ subject ]</a>
              <a href="author.html#40908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I am developing an application that needs to talk to an existing web
service that uses client certificates to authenticate and provide access to
different things.  The simple case of using a single certificate works
fine, but when there the application needs to switch certificates to
provide access to a different 'account' on the same webservice, it does not
work.  Something is caching or reusing a session or something.  The
behavior of the same code running on Windows .NET is what I would expect.
Here is some pseudo code to boil down what's happening:

main()
{
X509Certificate2 cert1 = new X509Certificate2(&quot;file&quot;, &quot;password&quot;);
X509Certificate2 cert2 = new X509Certificate2(&quot;file2&quot;, &quot;password&quot;);

CallMethod1(cert1);
CallMethod1(cert2);
}

void CallMethod1(X509Certificate2 cert)
{
  Webservice ws = new Webservice();
  ws.ClientCertificates.Add(cert);
  ws.Method1(&quot;whatever&quot;);
}


Basically on the first call, it uses cert1, then on the second, it reuses
cert1 (or the authentication from the first call).

Is this something that isn't supported in mono or is there a bug?
More importantly (to me) is there something I can do outside of mono to
change this to the proper behavior?

thanks!
Scott
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20131022/52e43c0f/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20131022/52e43c0f/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040905.html">[Mono-dev] Removing NET_2_0 define
</A></li>
	<LI>Next message: <A HREF="040909.html">[Mono-dev] mdoc update for a non-public types
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40908">[ date ]</a>
              <a href="thread.html#40908">[ thread ]</a>
              <a href="subject.html#40908">[ subject ]</a>
              <a href="author.html#40908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
