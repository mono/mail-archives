<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Question on SerialPort - Serial.c
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Question%20on%20SerialPort%20-%20Serial.c&In-Reply-To=%3C004e01cdf1ba%24c17c43d0%244474cb70%24%40arocholl.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039995.html">
   <LINK REL="Next"  HREF="039997.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Question on SerialPort - Serial.c</H1>
    <B>foros at arocholl.com</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Question%20on%20SerialPort%20-%20Serial.c&In-Reply-To=%3C004e01cdf1ba%24c17c43d0%244474cb70%24%40arocholl.com%3E"
       TITLE="[Mono-dev] Question on SerialPort - Serial.c">foros at arocholl.com
       </A><BR>
    <I>Sun Jan 13 18:21:03 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="039995.html">[Mono-dev] Crash in Properties.Settings.Default.Save()
</A></li>
        <LI>Next message: <A HREF="039997.html">[Mono-dev] Question on SerialPort - Serial.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39996">[ date ]</a>
              <a href="thread.html#39996">[ thread ]</a>
              <a href="subject.html#39996">[ subject ]</a>
              <a href="author.html#39996">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

My first post here. Let me introduce myself: I am a 25+ experienced C/C++/C#
DOS/Windows developer so more than willing to help on this outstanding
project with my 2 cents. Some experience on Linux and getting some in Mac OS
as well, but my real skills are on Windows. Please forgive me by asking
perhaps something obvious to an experienced Linux developer, I am happy to
be pointed to a specific How-to or whatever knowledge base that can describe
my question. As a long time user of distribution lists, I always do my
homework before posting a question.

I have been using Mono for some time, but never had the need or time to do
changes to the foundation myself.

I am using Mono 2.11.4 on Ubuntu 12.04, that is my setup for questions
below. My serial device is a Silabs USB-COM driver CP2102.

My specific question is about SerialPort class as well as some basic rules
about how to deal with custom changes:

*	I found SerialPort class rejects a custom baudrate I need (500,000
bauds - 500Kbaud). Looking into the source code I found the limitation to be
in Serial.c file, so I added the B500000 and works fine. So I have now a
2.11.4.xxxx that is my specific version that resolves a problem I have. What
would be the best way to offer this version to my users so they get and
install the 2.11.4.xxx? My first thought was to deliver a .tar source code
file structure as the official website does, so every user compiles and
install this updated version. On the other hand, it would be easier for
users to get the baseline 2.11.4 and update the specific library only. I am
not sure either if distributing my own source code file structure is against
any of the Mono development recommendations. Any general suggestion on how
to distribute these changes so they are available to users of my software
are welcome.
*	Should I submit this fix/enhancement to the GIT source code base or
is this kind of too custom for baseline branch? Just for reference, the
standard Windows SerialPort driver accepts 500,000bauds, so probably Mono
should do as well. Furthermore, the underlying Linux serial COM driver has
no problem with this custom baudrate as long as the device supports it.
*	Another (albeit generic) question is from a build perspective. When
I update the Serial.c and do a &lt;make&gt;, I need to do a &lt;make install&gt; for the
library to be installed. All that is very time consuming, is there any
recommended way to update on the serial library update on the system only,
rather than having to make and install everything again and again with every
change? I am probably missing something obvious.
*	A second problem I have on SerialPort class is apparently the
timeout parameter is not being honored. The SerialPort class changes the
timeout to the value I set, but the underlying Linux driver shows &lt;dmesg&gt;
with no changes in timeout. For instance if I set timeout=5000 for a 5sec
timeout, the software goes back immediately (as it apparently uses the 100ms
default) rather than waiting up to 5sec to get back with a timeout error. So
my question is if this is a known limitation and anyone has a fix I could
use. I saw nothing on the archive devel list nor the bugzilla. Any help
appreciated.

Best regards,
Ariel Rocholl



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20130113/6717dcc5/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20130113/6717dcc5/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039995.html">[Mono-dev] Crash in Properties.Settings.Default.Save()
</A></li>
	<LI>Next message: <A HREF="039997.html">[Mono-dev] Question on SerialPort - Serial.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39996">[ date ]</a>
              <a href="thread.html#39996">[ thread ]</a>
              <a href="subject.html#39996">[ subject ]</a>
              <a href="author.html#39996">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
