<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Question on SerialPort - Serial.c
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Question%20on%20SerialPort%20-%20Serial.c&In-Reply-To=%3CCAB1r_%2BUDg5Pz2diFipqj7eVufKQgPgPgaLAYtsamLN_J4pBztQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039996.html">
   <LINK REL="Next"  HREF="040004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Question on SerialPort - Serial.c</H1>
    <B>Daniel Lo Nigro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Question%20on%20SerialPort%20-%20Serial.c&In-Reply-To=%3CCAB1r_%2BUDg5Pz2diFipqj7eVufKQgPgPgaLAYtsamLN_J4pBztQ%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Question on SerialPort - Serial.c">lists at dan.cx
       </A><BR>
    <I>Sun Jan 13 21:59:39 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="039996.html">[Mono-dev] Question on SerialPort - Serial.c
</A></li>
        <LI>Next message: <A HREF="040004.html">[Mono-dev] Question on SerialPort - Serial.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39997">[ date ]</a>
              <a href="thread.html#39997">[ thread ]</a>
              <a href="subject.html#39997">[ subject ]</a>
              <a href="author.html#39997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> What would be the best way to offer this version to my users so they get
</I>&gt;<i> and install the 2.11.4.xxx?
</I>
Generally these would be distributed as patch files. People would download
the Mono source from the Mono site, then apply your patch, and then compile
it. Having said that...

Just for reference, the standard Windows SerialPort driver accepts
&gt;<i> 500,000bauds, so probably Mono should do as well.
</I>
Any difference between Microsoft's .NET implementation and Mono is
considered a bug in Mono. If Mono doesn't support it but Microsoft's does,
you should submit it to Mono's official code base. Create a bug in
Xamarin's Bugzilla, and then send a pull request on Github referencing the
bug number. Does Microsoft's implementation accept *any* baud rate, or are
there only some that it accepts that Mono doesn't? If Microsoft's accepts
any then maybe the baud rate validation should be moved from Mono.

Another (albeit generic) question is from a build perspective. When I
&gt;<i> update the Serial.c and do a &lt;make&gt;, I need to do a &lt;make install&gt; for the
</I>&gt;<i> library to be installed. All that is very time consuming, is there any
</I>&gt;<i> recommended way to update on the serial library update on the system only,
</I>&gt;<i> rather than having to make and install everything again and again with
</I>&gt;<i> every change?
</I>
You should be able to run &quot;make&quot; and &quot;make install&quot; in the directory of the
file you're modifying, and that should compile and install just that
component.



On Mon, Jan 14, 2013 at 5:21 AM, &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">foros at arocholl.com</A>&gt; wrote:

&gt;<i> **
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> My first post here. Let me introduce myself: I am a 25+ experienced
</I>&gt;<i> C/C++/C# DOS/Windows developer so more than willing to help on this
</I>&gt;<i> outstanding project with my 2 cents. Some experience on Linux and getting
</I>&gt;<i> some in Mac OS as well, but my real skills are on Windows. Please forgive
</I>&gt;<i> me by asking perhaps something obvious to an experienced Linux developer, I
</I>&gt;<i> am happy to be pointed to a specific How-to or whatever knowledge base
</I>&gt;<i> that can describe my question. As a long time user of distribution lists, I
</I>&gt;<i> always do my homework before posting a question.
</I>&gt;<i>
</I>&gt;<i> I have been using Mono for some time, but never had the need or time to do
</I>&gt;<i> changes to the foundation myself.
</I>&gt;<i>
</I>&gt;<i> I am using Mono 2.11.4 on Ubuntu 12.04, that is my setup for questions
</I>&gt;<i> below. My serial device is a Silabs USB-COM driver CP2102.
</I>&gt;<i>
</I>&gt;<i> My specific question is about SerialPort class as well as some basic
</I>&gt;<i> rules about how to deal with custom changes:
</I>&gt;<i>
</I>&gt;<i> &#183;       I found SerialPort class rejects a custom baudrate I need
</I>&gt;<i> (500,000 bauds &#8211; 500Kbaud). Looking into the source code I found the
</I>&gt;<i> limitation to be in Serial.c file, so I added the B500000 and works fine.
</I>&gt;<i> So I have now a 2.11.4.xxxx that is my specific version that resolves a
</I>&gt;<i> problem I have. What would be the best way to offer this version to my
</I>&gt;<i> users so they get and install the 2.11.4.xxx? My first thought was to
</I>&gt;<i> deliver a .tar source code file structure as the official website does, so
</I>&gt;<i> every user compiles and install this updated version. On the other hand, it
</I>&gt;<i> would be easier for users to get the baseline 2.11.4 and update the
</I>&gt;<i> specific library only. I am not sure either if distributing my own source
</I>&gt;<i> code file structure is against any of the Mono development recommendations.
</I>&gt;<i> Any general suggestion on how to distribute these changes so they are
</I>&gt;<i> available to users of my software are welcome.
</I>&gt;<i>
</I>&gt;<i> &#183;       Should I submit this fix/enhancement to the GIT source code base
</I>&gt;<i> or is this kind of too custom for baseline branch? Just for reference, the
</I>&gt;<i> standard Windows SerialPort driver accepts 500,000bauds, so probably Mono should
</I>&gt;<i> do as well. Furthermore, the underlying Linux serial COM driver has no
</I>&gt;<i> problem with this custom baudrate as long as the device supports it.
</I>&gt;<i>
</I>&gt;<i> &#183;       Another (albeit generic) question is from a build perspective.
</I>&gt;<i> When I update the Serial.c and do a &lt;make&gt;, I need to do a &lt;make install&gt;
</I>&gt;<i> for the library to be installed. All that is very time consuming, is there
</I>&gt;<i> any recommended way to update on the serial library update on the system
</I>&gt;<i> only, rather than having to make and install everything again and again
</I>&gt;<i> with every change? I am probably missing something obvious&#8230;
</I>&gt;<i>
</I>&gt;<i> &#183;       A second problem I have on SerialPort class is apparently the
</I>&gt;<i> timeout parameter is not being honored. The SerialPort class changes the
</I>&gt;<i> timeout to the value I set, but the underlying Linux driver shows &lt;dmesg&gt;
</I>&gt;<i> with no changes in timeout. For instance if I set timeout=5000 for a 5sec
</I>&gt;<i> timeout, the software goes back immediately (as it apparently uses the
</I>&gt;<i> 100ms default) rather than waiting up to 5sec to get back with a timeout
</I>&gt;<i> error. So my question is if this is a known limitation and anyone has a fix
</I>&gt;<i> I could use. I saw nothing on the archive devel list nor the bugzilla. Any
</I>&gt;<i> help appreciated.
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i>
</I>&gt;<i> Ariel Rocholl
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20130114/a8861e05/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20130114/a8861e05/attachment-0001.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039996.html">[Mono-dev] Question on SerialPort - Serial.c
</A></li>
	<LI>Next message: <A HREF="040004.html">[Mono-dev] Question on SerialPort - Serial.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39997">[ date ]</a>
              <a href="thread.html#39997">[ thread ]</a>
              <a href="subject.html#39997">[ subject ]</a>
              <a href="author.html#39997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
