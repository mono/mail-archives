<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Regression in String tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Regression%20in%20String%20tests&In-Reply-To=45ED0F4B.8000601%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022780.html">
   <LINK REL="Next"  HREF="022735.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Regression in String tests</H1>
    <B>Jamie Cansdale</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Regression%20in%20String%20tests&In-Reply-To=45ED0F4B.8000601%40ximian.com"
       TITLE="[Mono-dev] Regression in String tests">jamie.cansdale at testdriven.net
       </A><BR>
    <I>Tue Mar  6 03:03:58 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022780.html">[Mono-dev] Regression in String tests
</A></li>
        <LI>Next message: <A HREF="022735.html">[Mono-dev] Regression in String tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22734">[ date ]</a>
              <a href="thread.html#22734">[ thread ]</a>
              <a href="subject.html#22734">[ subject ]</a>
              <a href="author.html#22734">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>                          PropertyInfo[] props = typeof(String).GetProperties();
</I>&gt;<i>                          AssertEquals(props[0].Name, &quot;Chars&quot;);
</I>&gt;<i>                          AssertEquals(props[1].Name, &quot;Length&quot;);
</I>
I'm curious it know what this is testing for. I thought the ordering
of reflected members was explicitly not guaranteed. IIRC there was
talk of returning them in random order in .NET 2.0 to discourage this
kind of dependency.

Thanks, Jamie.

--
<A HREF="http://www.testdriven.net">http://www.testdriven.net</A>
<A HREF="http://weblogs.asp.net/nunitaddin">http://weblogs.asp.net/nunitaddin</A>



On 3/6/07, Atsushi Eno &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">atsushi at ximian.com</A>&gt; wrote:
&gt;<i> It is not a regression. Actually the test is quite odd.
</I>&gt;<i>
</I>&gt;<i>                  [Test]
</I>&gt;<i>                  public void StringProperties()
</I>&gt;<i>                  {
</I>&gt;<i>                          PropertyInfo[] props = typeof(String).GetProperties();
</I>&gt;<i>                          AssertEquals(props[0].Name, &quot;Chars&quot;);
</I>&gt;<i>                          AssertEquals(props[1].Name, &quot;Length&quot;);
</I>&gt;<i>                  }
</I>&gt;<i>
</I>&gt;<i> I'll revert r73699.
</I>&gt;<i>
</I>&gt;<i> Atsushi Eno
</I>&gt;<i>
</I>&gt;<i> Miguel de Icaza wrote:
</I>&gt;<i> &gt; I just noticed this while running the corlib tests:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Failures:
</I>&gt;<i> &gt; 1) MonoTests.System.StringTest.StringProperties :
</I>&gt;<i> &gt;         String lengths differ.  Expected length=6, but was length=5.
</I>&gt;<i> &gt;         Strings differ at index 0.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         expected:&lt;&quot;Length&quot;&gt;
</I>&gt;<i> &gt;          but was:&lt;&quot;Chars&quot;&gt;
</I>&gt;<i> &gt;         -----------^
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   at MonoTests.System.StringTest.StringProperties () [0x00010]
</I>&gt;<i> &gt; in /home/cvs/mcs/class/corlib/Test/System/StringTest.cs:1807
</I>&gt;<i> &gt;   at &lt;0x00000&gt; &lt;unknown method&gt;
</I>&gt;<i> &gt;   at (wrapper managed-to-native)
</I>&gt;<i> &gt; System.Reflection.MonoMethod:InternalInvoke (object,object[])
</I>&gt;<i> &gt;   at System.Reflection.MonoMethod.Invoke (System.Object obj,
</I>&gt;<i> &gt; BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i> &gt; System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i> &gt; [0x00040]
</I>&gt;<i> &gt; in /home/cvs/mcs/class/corlib/System.Reflection/MonoMethod.cs:143
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022780.html">[Mono-dev] Regression in String tests
</A></li>
	<LI>Next message: <A HREF="022735.html">[Mono-dev] Regression in String tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22734">[ date ]</a>
              <a href="thread.html#22734">[ thread ]</a>
              <a href="subject.html#22734">[ subject ]</a>
              <a href="author.html#22734">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
