<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Does JIT produce code with frame pointer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Does%20JIT%20produce%20code%20with%20frame%20pointer&In-Reply-To=364446.35572.qm%40web51414.mail.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022695.html">
   <LINK REL="Next"  HREF="022697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Does JIT produce code with frame pointer</H1>
    <B>Massimiliano Mantione</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Does%20JIT%20produce%20code%20with%20frame%20pointer&In-Reply-To=364446.35572.qm%40web51414.mail.yahoo.com"
       TITLE="[Mono-dev] Does JIT produce code with frame pointer">massi at ximian.com
       </A><BR>
    <I>Fri Mar  2 02:24:54 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022695.html">[Mono-dev] Does JIT produce code with frame pointer
</A></li>
        <LI>Next message: <A HREF="022697.html">[Mono-dev] SqlConnection Pooling Problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22696">[ date ]</a>
              <a href="thread.html#22696">[ thread ]</a>
              <a href="subject.html#22696">[ subject ]</a>
              <a href="author.html#22696">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Thu, 2007-03-01 at 21:21 -0800, Muath A. Khalaf wrote:
&gt;<i> 1- I want to ask if JIT produces code that has a frame pointer i.e.
</I>&gt;<i> something  similar to what you get when you omit the
</I>&quot;-fomit-frame-pointer&quot;
&gt;<i> option with gcc.
</I>
Yes, we use the frame pointer.

&gt;<i> 2- Is it correct that: a mono single threaded program has only two
</I>&gt;<i> runtime 
</I>&gt;<i> stacks one for the application thread and the other for the GC thread.
</I>&gt;<i> This 
</I>&gt;<i> means that when a managed method calls an internal mono method (icall)
</I>&gt;<i> then 
</I>&gt;<i> on the app runtime stack I will have the managed method frame along
</I>&gt;<i> with the 
</I>&gt;<i> icall frame on top of it (or below) of course with the wrapper in
</I>&gt;<i> between.
</I>
There can be a finalizer thread, too (if it's not disabled).

&gt;<i> This is important as I am trying to integrate OProfile with mono and
</I>&gt;<i> want 
</I>&gt;<i> to understand the stacks that should be sampled by OProfile to test
</I>&gt;<i> them.
</I>
Interesting!

But why should OProfile ignore the gc and finaliser stacks-threads?
IMHO, one of the great things of OProfile is that it's a system-level
profiler, which samples everything... what if in my application those
threads play an important role performance-wise?
Of course it's possible I'm missing something...

However, I had the impression that the only thing that OProfile needs to
know is the mapping from memory regions to methods in the source code.

BTW, are you basing your work on the OProfile/Java integration done
by IBM, or are you restarting from scratch?

Ciao,
  Massi



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022695.html">[Mono-dev] Does JIT produce code with frame pointer
</A></li>
	<LI>Next message: <A HREF="022697.html">[Mono-dev] SqlConnection Pooling Problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22696">[ date ]</a>
              <a href="thread.html#22696">[ thread ]</a>
              <a href="subject.html#22696">[ subject ]</a>
              <a href="author.html#22696">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
