<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Sparse files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Sparse%20files&In-Reply-To=117799f00703251001q76850a60o5fefbd1fccbabaf6%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022936.html">
   <LINK REL="Next"  HREF="022938.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Sparse files</H1>
    <B>David Brown</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Sparse%20files&In-Reply-To=117799f00703251001q76850a60o5fefbd1fccbabaf6%40mail.gmail.com"
       TITLE="[Mono-dev] Sparse files">mono at davidb.org
       </A><BR>
    <I>Sun Mar 25 16:07:54 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022936.html">[Mono-dev] Sparse files
</A></li>
        <LI>Next message: <A HREF="022938.html">[Mono-dev] Sparse files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22937">[ date ]</a>
              <a href="thread.html#22937">[ thread ]</a>
              <a href="subject.html#22937">[ subject ]</a>
              <a href="author.html#22937">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alan McGovern wrote:

&gt;<i> Not quite, a sparse file is different to a normal file in how
</I>&gt;<i> allocations happen. For example if i wanted to write 1 megabyte at
</I>&gt;<i> an index of 100 megabytes, a seek + write would result in a 101
</I>&gt;<i> megabyte file on the disk.
</I>
&gt;<i> With a sparse file, there'd actually be 1 megabyte physically taken
</I>&gt;<i> up on disk but any program that tries to read that file would see
</I>&gt;<i> that 1 megabyte existing at an offset of 100 megabytes. (At least
</I>&gt;<i> that's my understanding of it).
</I>
The is no Unix API for creating sparse files.  Unix only allocates
space on write.  If you seek 100 MB into a file and write 1MB, you'll
only write 1MB of data.  Depending on the filesystem overhead, there
will be some space taken to manage the gap, but much less then 100MB.

Standard Unix doesn't provide any API to detect the sparse data, it
just reads back as zero.

Dave


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022936.html">[Mono-dev] Sparse files
</A></li>
	<LI>Next message: <A HREF="022938.html">[Mono-dev] Sparse files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22937">[ date ]</a>
              <a href="thread.html#22937">[ thread ]</a>
              <a href="subject.html#22937">[ subject ]</a>
              <a href="author.html#22937">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
