<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] (no subject)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%28no%20subject%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023000.html">
   <LINK REL="Next"  HREF="023003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] (no subject)</H1>
    <B>Vladimir Krasnov</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%28no%20subject%29&In-Reply-To="
       TITLE="[Mono-dev] (no subject)">vladimirk at mainsoft.com
       </A><BR>
    <I>Thu Mar 29 09:04:33 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023000.html">[Mono-dev] RUNNING mon-1.2.3.1
</A></li>
        <LI>Next message: <A HREF="023003.html">[Mono-dev] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23001">[ date ]</a>
              <a href="thread.html#23001">[ thread ]</a>
              <a href="subject.html#23001">[ subject ]</a>
              <a href="author.html#23001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, 

Please review a performance optimization for HttpRequest.Headers and
HttpRequest.ServerVariables collections.
It implements lazy collection fill because most common flow is to ask
for value by name. Only if user ask for enumerator or count, collection
will be fully loaded.
This gives about 25% performance improvement on common flow.

This causes one test case to fail:
MonoTests.System.Web.Test_HttpFakeRequest.Test_EmptyUnknownRow :
NullReferenceException was expected,
in my opinion this test is incorrect, and should be removed, because it
tests undocumented behavior that may depend on implementation.

Vladimir	
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ServerVariablesCollection.cs.patch
Type: application/octet-stream
Size: 9646 bytes
Desc: ServerVariablesCollection.cs.patch
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: WebROCollection.cs.patch
Type: application/octet-stream
Size: 374 bytes
Desc: WebROCollection.cs.patch
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment-0001.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment-0001.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: BaseParamsCollection.cs.patch
Type: application/octet-stream
Size: 2135 bytes
Desc: BaseParamsCollection.cs.patch
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment-0002.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment-0002.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: HeadersCollection.cs.patch
Type: application/octet-stream
Size: 1729 bytes
Desc: HeadersCollection.cs.patch
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment-0003.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment-0003.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: HttpRequest.cs.patch
Type: application/octet-stream
Size: 1204 bytes
Desc: HttpRequest.cs.patch
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment-0004.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment-0004.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: System.Web.dll.sources.patch
Type: application/octet-stream
Size: 492 bytes
Desc: System.Web.dll.sources.patch
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment-0005.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070329/f71cc0ec/attachment-0005.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023000.html">[Mono-dev] RUNNING mon-1.2.3.1
</A></li>
	<LI>Next message: <A HREF="023003.html">[Mono-dev] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23001">[ date ]</a>
              <a href="thread.html#23001">[ thread ]</a>
              <a href="subject.html#23001">[ subject ]</a>
              <a href="author.html#23001">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
