<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] HttpListenerRequest.HasEntityBody
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20HttpListenerRequest.HasEntityBody&In-Reply-To=1173106657.7601.29.camel%40erandi.dom">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022770.html">
   <LINK REL="Next"  HREF="022774.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] HttpListenerRequest.HasEntityBody</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20HttpListenerRequest.HasEntityBody&In-Reply-To=1173106657.7601.29.camel%40erandi.dom"
       TITLE="[Mono-dev] HttpListenerRequest.HasEntityBody">miguel at novell.com
       </A><BR>
    <I>Fri Mar  9 16:55:02 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022770.html">[Mono-dev] Runtime assertion violation popup
</A></li>
        <LI>Next message: <A HREF="022774.html">[Mono-dev] Generic type naming
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22772">[ date ]</a>
              <a href="thread.html#22772">[ thread ]</a>
              <a href="subject.html#22772">[ subject ]</a>
              <a href="author.html#22772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> It looks like our HttpListenerRequest.HasEntityBody is implemented
</I>&gt;<i> not according to RFC2616 section 4.
</I>&gt;<i> <A HREF="http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.4">http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.4</A>
</I>
I seem to remember that this is done because it is necessary to
determine which requests we must keep reading from the input, we have
had bugs related to this in the past (in the client instead).


&gt;<i> &gt;From the source
</I>&gt;<i> <A HREF="http://svn.myrealbox.com/source/trunk/mcs/class/System/System.Net/HttpListenerRequest.cs">http://svn.myrealbox.com/source/trunk/mcs/class/System/System.Net/HttpListenerRequest.cs</A>
</I>&gt;<i> it is implemented as
</I>&gt;<i> 
</I>&gt;<i> 	public bool HasEntityBody {
</I>&gt;<i> 		get { return (method == &quot;GET&quot; || method == &quot;HEAD&quot; || content_length &lt;=
</I>&gt;<i> 0 || is_chunked); }
</I>&gt;<i> 	}
</I>&gt;<i> 
</I>&gt;<i> ... but the specification says nothing about the request method.
</I>&gt;<i> 
</I>&gt;<i> So, wouldn't it be conceptually like this?
</I>&gt;<i> 
</I>&gt;<i> 	if (Content-Length &lt;= 0 &amp;&amp; Transfer-Encoding == null &amp;&amp; Content-Type !=
</I>&gt;<i> &quot;multipart/byteranges&quot;)
</I>&gt;<i> 		return false;
</I>&gt;<i> 	return true;
</I>&gt;<i> 
</I>&gt;<i> Atsushi Eno
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022770.html">[Mono-dev] Runtime assertion violation popup
</A></li>
	<LI>Next message: <A HREF="022774.html">[Mono-dev] Generic type naming
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22772">[ date ]</a>
              <a href="thread.html#22772">[ thread ]</a>
              <a href="subject.html#22772">[ subject ]</a>
              <a href="author.html#22772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
