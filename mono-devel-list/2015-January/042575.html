<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono.Posix Cross Compiling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Mono.Posix%20Cross%20Compiling&In-Reply-To=%3CCAC9RQthoFaD8nUbLhhsfBNRT6G%3Den9dWS-%3DdHY58hejPcQ6mLQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042574.html">
   <LINK REL="Next"  HREF="042576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono.Posix Cross Compiling</H1>
    <B>Greg Young</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Mono.Posix%20Cross%20Compiling&In-Reply-To=%3CCAC9RQthoFaD8nUbLhhsfBNRT6G%3Den9dWS-%3DdHY58hejPcQ6mLQ%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Mono.Posix Cross Compiling">gregoryyoung1 at gmail.com
       </A><BR>
    <I>Tue Jan  6 15:11:15 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="042574.html">[Mono-dev] Mono.Posix Cross Compiling
</A></li>
        <LI>Next message: <A HREF="042576.html">[Mono-dev] Mono.Posix Cross Compiling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42575">[ date ]</a>
              <a href="thread.html#42575">[ thread ]</a>
              <a href="subject.html#42575">[ subject ]</a>
              <a href="author.html#42575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> The reference appears with a warning in Visual Studio and you get a
compiler warning, &#8220;The referenced component &#8216;Mono.Posix&#8217; could not be
found&#8221; but this is to be expected on Windows/.NET.

hmm we use warnings as errors will need to try this

On Tue, Jan 6, 2015 at 4:54 PM, David Curylo &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">curylod at asme.org</A>&gt; wrote:
&gt;<i> You have to use conditional compilation for the code that uses the conditional reference, in this case Mono.Posix.  The reference appears with a warning in Visual Studio and you get a compiler warning, &#8220;The referenced component &#8216;Mono.Posix&#8217; could not be found&#8221; but this is to be expected on Windows/.NET.  This may be an annoyance, but it allows developers to be productive developers on either platform, so I consider this to be a functional solution.
</I>&gt;<i>
</I>&gt;<i> I created an example here on github: <A HREF="https://github.com/ninjarobot/MonoConditionalReference">https://github.com/ninjarobot/MonoConditionalReference</A>
</I>&gt;<i>
</I>&gt;<i> This builds fine on Xamarin Studio on OS X and Visual Studio on Windows, although given the conditional compilation, the resulting assembly is different.  We take this approach in my organization so that some developers can work on Windows with Visual Studio and other developers work entirely on mono (our target platform).
</I>&gt;<i>
</I>&gt;<i> On Jan 6, 2015, at 8:39 AM, Edward Ned Harvey (mono) &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">edward.harvey.mono at clevertrove.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A> [mailto:mono-devel-list-
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bounces at lists.ximian.com</A>] On Behalf Of David Curylo
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> If you edit the .csproj file, you can have a platform-specific reference
</I>&gt;&gt;&gt;<i> Mono.Posix like this:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;Reference Include=&quot;Mono.Posix&quot; Condition=&quot; '$(OS)' != 'Windows_NT' &quot; /&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've never gotten this to work before.  Moments ago, I pasted the above into a test project, just to see if the above would work - and it didn't.  The reference is still present, and still broken, if I open a project with the above line in Visual Studio.  Fortunately as long as you don't use anything from the missing assembly, the project still builds, so in some cases you can ignore the broken reference by using [Conditional] and/or #if to wrap around all the things that actually use something from that assembly...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The workaround I've always settled on was to make multiple versions of the .sln and .csproj files if I need different assemblies referenced on .Net and mono.  (Which is usually the case, because of NUnit and Mono.Security, which I use a lot.)  If you find a way to make the conditional reference functional, please post.  I'd love to know.
</I>&gt;<i>
</I>


-- 
Studying for the Turing test
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042574.html">[Mono-dev] Mono.Posix Cross Compiling
</A></li>
	<LI>Next message: <A HREF="042576.html">[Mono-dev] Mono.Posix Cross Compiling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42575">[ date ]</a>
              <a href="thread.html#42575">[ thread ]</a>
              <a href="subject.html#42575">[ subject ]</a>
              <a href="author.html#42575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
