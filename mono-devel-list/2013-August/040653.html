<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] NancyFX self hosting (HttpListener) locking up on	linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20NancyFX%20self%20hosting%20%28HttpListener%29%20locking%20up%20on%0A%09linux&In-Reply-To=%3CCAPH5wFq94LC4vOyDdxSfGQDZ9UjiRMr3got%3DSQtuMsG1sMMRXw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040652.html">
   <LINK REL="Next"  HREF="040654.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] NancyFX self hosting (HttpListener) locking up on	linux</H1>
    <B>Nikita Tsukanov</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20NancyFX%20self%20hosting%20%28HttpListener%29%20locking%20up%20on%0A%09linux&In-Reply-To=%3CCAPH5wFq94LC4vOyDdxSfGQDZ9UjiRMr3got%3DSQtuMsG1sMMRXw%40mail.gmail.com%3E"
       TITLE="[Mono-dev] NancyFX self hosting (HttpListener) locking up on	linux">keks9n at gmail.com
       </A><BR>
    <I>Sun Aug  4 07:12:09 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040652.html">[Mono-dev] NancyFX self hosting (HttpListener) locking up on linux
</A></li>
        <LI>Next message: <A HREF="040654.html">[Mono-dev] NancyFX self hosting (HttpListener) locking up on	linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40653">[ date ]</a>
              <a href="thread.html#40653">[ thread ]</a>
              <a href="subject.html#40653">[ subject ]</a>
              <a href="author.html#40653">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Hi there.
</I>&gt;<i>
</I>&gt;<i> I'm running the NancyFX web framework in self hosting mode which is using HttpListener which basically means I deploy an executable and run it and it will start a webserver on localhost on a TCP port of choice. I then use nginx to proxy to it.
</I>&gt;<i>
</I>&gt;<i> I first ran my executable on my macbook pro and bombarded it with jmeter and it coped fine and no issues.
</I>&gt;<i> I then deployed on my debian wheezy 64 bit linux box running on top of KVM using mono 3.2.0 and performed the same jmeter experiment. It locks up fairly quickly and wont take any new requests. I've tried using both sgen and boehm but they behave similarly although it seems to lock up faster when using sgen. I also tried enabling MONO_DISABLE_AIO but it doesn't make any difference.
</I>&gt;<i>
</I>&gt;<i> Anyone had similar issues?
</I>&gt;<i>
</I>
I also experienced problems with HttpListener before (on Mono 2.6 and
2.10). Forcing mono to print stacktraces with SIGQUIT signal revealed
the fact that HttpListener hungs somewhere in
System.Net.HttpConnection.ProcessInput.
But in my case it works pretty fine behind nginx.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040652.html">[Mono-dev] NancyFX self hosting (HttpListener) locking up on linux
</A></li>
	<LI>Next message: <A HREF="040654.html">[Mono-dev] NancyFX self hosting (HttpListener) locking up on	linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40653">[ date ]</a>
              <a href="thread.html#40653">[ thread ]</a>
              <a href="subject.html#40653">[ subject ]</a>
              <a href="author.html#40653">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
