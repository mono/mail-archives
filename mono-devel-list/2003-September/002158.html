<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Running multiple assembliy versions in	parallel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Running%20multiple%20assembliy%20versions%20in%0A%09parallel&In-Reply-To=20030925050745.6694.qmail%40web80707.mail.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002157.html">
   <LINK REL="Next"  HREF="002163.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Running multiple assembliy versions in	parallel</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Running%20multiple%20assembliy%20versions%20in%0A%09parallel&In-Reply-To=20030925050745.6694.qmail%40web80707.mail.yahoo.com"
       TITLE="[Mono-devel-list] Running multiple assembliy versions in	parallel">jonpryor at vt.edu
       </A><BR>
    <I>Thu Sep 25 07:23:31 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002157.html">[Mono-devel-list] Running multiple assembliy versions in parallel
</A></li>
        <LI>Next message: <A HREF="002163.html">[Mono-devel-list] Merging NUnit 2.1 into cvs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2158">[ date ]</a>
              <a href="thread.html#2158">[ thread ]</a>
              <a href="subject.html#2158">[ subject ]</a>
              <a href="author.html#2158">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Response inline...

On Thu, 2003-09-25 at 01:07, Yuri Astrakhan wrote:
&gt;<i> Hi.
</I>&gt;<i> Does mono have support for running multiple versions of the same code
</I>&gt;<i> in parallel the way .net does?
</I>
Maybe? :-)

Mono has support for AppDomains (though it was somewhat broken last I
checked), which is one of the requirements for loading multiple assembly
versions.  (At least, I think you can only have one assembly version
loaded in each AppDomain; I could be wrong.  If it is wrong, it doesn't
really effect the following arguments much.)

As for actual assembly versions...  Mono doesn't have a Global Assembly
Cache (GAC), so the only way to have two different versions of the same
assembly is to actually rename the assembly, e.g. Assembly-v1.dll and
Assembly-v2.dll.  In which case they look just like two different
assemblies, and will likely be treated as such. :-D

In other words, this question has many sub-questions, which can be
answered separately, but probably don't answer your actual question. 
True versioning support likely requires the GAC, which isn't implemented
yet.

Conceptually, adding the GAC shouldn't change the VM/JIT much; you just
consider different assembly versions to be entirely different assemblies
-- which is the current situation -- and move on from there.  The GAC
comes into play when you're trying to *find* the assembly to load/JIT
against (same major version, but different minor versions are permitted,
unless the &lt;program&gt;.config file says otherwise, etc.).

&gt;<i> Is this feature planned
</I>
GAC support is planned, but I don't know when Mono will implement it.

&gt;<i> , and more importantly, is that a major code rewrite, or is it more
</I>&gt;<i> like an add-on feature that would make a good VM learning project.
</I>
It shouldn't require rewriting lots of code.  It will likely require
changing existing code for assembly looking/assembly binding via the
GAC, but I don't think that would require a major rewrite.

&gt;<i> In your opinion, how much effort would this require to implement?
</I>
GAC support has been raised in the past, and the answer (IIRC) was ~3
months.
 
Then again, re-writing System.Xml was considered to take a year, and Ben
Maurer did it in little more than a month:

	<A HREF="http://primates.ximian.com/~miguel/archive/2003/Sep-14.html">http://primates.ximian.com/~miguel/archive/2003/Sep-14.html</A>

So, the actual answer won't be determined until it's actually written.

 - Jon



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002157.html">[Mono-devel-list] Running multiple assembliy versions in parallel
</A></li>
	<LI>Next message: <A HREF="002163.html">[Mono-devel-list] Merging NUnit 2.1 into cvs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2158">[ date ]</a>
              <a href="thread.html#2158">[ thread ]</a>
              <a href="subject.html#2158">[ subject ]</a>
              <a href="author.html#2158">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
