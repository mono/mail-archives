<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] offset validation testing in System.Collections.Specialized.BitVector32.CreateSection()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20offset%20validation%20testing%20in%20System.Collections.Specialized.BitVector32.CreateSection%28%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001963.html">
   <LINK REL="Next"  HREF="001967.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] offset validation testing in System.Collections.Specialized.BitVector32.CreateSection()</H1>
    <B>Alon Gazit</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20offset%20validation%20testing%20in%20System.Collections.Specialized.BitVector32.CreateSection%28%29&In-Reply-To="
       TITLE="[Mono-devel-list] [PATCH] offset validation testing in System.Collections.Specialized.BitVector32.CreateSection()">along at mainsoft.com
       </A><BR>
    <I>Tue Sep  2 07:37:48 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="001963.html">[Mono-devel-list] [PATCH] parameters validation testing in System.Collections.Specialized.ListDictionary.CopyTo()
</A></li>
        <LI>Next message: <A HREF="001967.html">[Mono-devel-list] [PATCH] bitwise problem in System.Collections.Specialized.BitVector32.this[BitVector32.Section section] property
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1966">[ date ]</a>
              <a href="thread.html#1966">[ thread ]</a>
              <a href="subject.html#1966">[ subject ]</a>
              <a href="author.html#1966">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

The method
System.Collections.Specialized.BitVector32.CreateSection(short maxValue,
BitVector32.Section previous) should check that the new calculated
offset isn't more than 32 and not that the sum of the new offset and the
number of set bits is more than 32. 

Steps to reproduce the problems:
1. call the method BitVector32.CreateSection(short maxValue) , with
Int16.MaxValue as parameter .
2. call the method BitVector32.CreateSection(short maxValue,
BitVector32.Section previous) , with Int16.MaxValue and the returned
value from the first line as parameters .

Actual Results:
the method throws ArgumentException.

Expected Results:
the method create a new section.

Enclosed is a small test case and a patch.

Thanks a lot,

Alon Gazit

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030902/4556a303/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030902/4556a303/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: BitVector32.cs.diff
Type: application/octet-stream
Size: 433 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030902/4556a303/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030902/4556a303/attachment.obj</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Test.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030902/4556a303/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030902/4556a303/attachment.pl</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001963.html">[Mono-devel-list] [PATCH] parameters validation testing in System.Collections.Specialized.ListDictionary.CopyTo()
</A></li>
	<LI>Next message: <A HREF="001967.html">[Mono-devel-list] [PATCH] bitwise problem in System.Collections.Specialized.BitVector32.this[BitVector32.Section section] property
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1966">[ date ]</a>
              <a href="thread.html#1966">[ thread ]</a>
              <a href="subject.html#1966">[ subject ]</a>
              <a href="author.html#1966">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
