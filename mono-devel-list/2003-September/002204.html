<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] bugs in System.Data.DataRelationCollection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20bugs%20in%20System.Data.DataRelationCollection&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002230.html">
   <LINK REL="Next"  HREF="002205.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] bugs in System.Data.DataRelationCollection</H1>
    <B>Eran Domb</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20bugs%20in%20System.Data.DataRelationCollection&In-Reply-To="
       TITLE="[Mono-devel-list] [PATCH] bugs in System.Data.DataRelationCollection">erand at mainsoft.com
       </A><BR>
    <I>Mon Sep 29 08:16:33 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002230.html">[Mono-devel-list] [PATCH] bugs in System.Data.DataRow
</A></li>
        <LI>Next message: <A HREF="002205.html">[Mono-devel-list] Assembly.GetType hangs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2204">[ date ]</a>
              <a href="thread.html#2204">[ thread ]</a>
              <a href="subject.html#2204">[ subject ]</a>
              <a href="author.html#2204">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
 I found some bugs in System.Data.DataRelationCollection.
1. When adding a relation to the collection the name calculation is
wrong.
2. DataSetRelationCollection.AddCore(DataRelation relation) does not
check that a UniqueConstraint is already exists. It loops over the
Relations instead of the Constrains.
3. Add(DataRelation relation) adds the relation to the List and also
DataSetRelationCollection.AddCore(DataRelation relation) adds the
relation to the List
so that the relation added 2 times to the list.
 
Attached are a TestCase and a patch.
 
Thanks
Eran. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030929/a539834b/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030929/a539834b/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: DataRelationCollection.cs.diff
Type: application/octet-stream
Size: 3081 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030929/a539834b/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030929/a539834b/attachment.obj</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: DataRelationCollectionTest.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030929/a539834b/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030929/a539834b/attachment.pl</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002230.html">[Mono-devel-list] [PATCH] bugs in System.Data.DataRow
</A></li>
	<LI>Next message: <A HREF="002205.html">[Mono-devel-list] Assembly.GetType hangs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2204">[ date ]</a>
              <a href="thread.html#2204">[ thread ]</a>
              <a href="subject.html#2204">[ subject ]</a>
              <a href="author.html#2204">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
