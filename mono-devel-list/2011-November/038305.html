<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Issue #673449
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Issue%20%23673449&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038304.html">
   <LINK REL="Next"  HREF="038306.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Issue #673449</H1>
    <B>Don Lavelle</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Issue%20%23673449&In-Reply-To="
       TITLE="[Mono-dev] Issue #673449">don.lavelle.bulk at gmail.com
       </A><BR>
    <I>Tue Nov 29 21:19:17 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="038304.html">[Mono-dev] Xamarin Bugzilla issues
</A></li>
        <LI>Next message: <A HREF="038306.html">[Mono-dev] WCF: BasicHttpBinding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38305">[ date ]</a>
              <a href="thread.html#38305">[ thread ]</a>
              <a href="subject.html#38305">[ subject ]</a>
              <a href="author.html#38305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I think I just ran into issue #673449 on a Mac running 10.6 using the
latest download of MonoDevelop and the Mono framework.  I've pasted the
stack trace below.  This is a console project.  The only references are
NHibernate.dll (the latest binary), Mono.Data.Sqlite, and System.

Thanks,

    Don

Main.cs:

using System;
using NHibernate.Cfg;

namespace NHibernateSqliteTest
{
    class MainClass
    {
        public static void Main (string[] args)
        {
            Configuration nHibernateConfiguration = null;
            if(nHibernateConfiguration == null)
            {
            }
        }
    }
}



OUTPUT:

Building: NHibernateSqliteTest (Debug|x86)

Building Solution NHibernateSqliteTest

Building: NHibernateSqliteTest (Debug|x86)

Performing main compilation...
/Library/Frameworks/Mono.framework/Versions/2.10.6/bin/gmcs /noconfig
&quot;/out:/Users/dlavelle/Projects/NHibernateSqliteTest/NHibernateSqliteTest/bin/Debug/NHibernateSqliteTest.exe&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10.6/lib/mono/2.0/System.dll&quot;
&quot;/r:/Users/dlavelle/Projects/NHibernateSqliteTest/Lib/NHibernate.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10.6/lib/mono/2.0/Mono.Data.Sqlite.dll&quot;
&quot;/r:/Library/Frameworks/Mono.framework/Versions/2.10.6/lib/mono/2.0/System.Core.dll&quot;
/nologo /warn:4 /debug:+ /debug:full /optimize- /codepage:utf8
/platform:x86 -warnaserror &quot;/define:DEBUG&quot;  /t:exe
&quot;/Users/dlavelle/Projects/NHibernateSqliteTest/NHibernateSqliteTest/Main.cs&quot;
&quot;/Users/dlavelle/Projects/NHibernateSqliteTest/NHibernateSqliteTest/AssemblyInfo.cs&quot;
&quot;/Users/dlavelle/Projects/NHibernateSqliteTest/NHibernateSqliteTest/MonoSqliteDriver.cs&quot;
&quot;/doc:/Users/dlavelle/Projects/NHibernateSqliteTest/NHibernateSqliteTest/bin/Debug/NHibernateSqliteTest.xml&quot;

Not a valid token for the constant table: 0x00000000
* Assertion at class.c:6469, condition `cindex' not met


Stacktrace:

  at (wrapper managed-to-native)
System.Reflection.MonoField.GetRawConstantValue
(System.Reflection.MonoField) &lt;0xffffffff&gt;
  at Mono.CSharp.MetadataImporter.CreateField
(System.Reflection.FieldInfo,Mono.CSharp.TypeSpec) &lt;0x003a1&gt;
  at Mono.CSharp.ImportedTypeDefinition.LoadMembers
(Mono.CSharp.TypeSpec,bool,Mono.CSharp.MemberCache&amp;) &lt;0x00a53&gt;
  at Mono.CSharp.TypeSpec.InitializeMemberCache (bool) &lt;0x000a3&gt;
  at Mono.CSharp.TypeSpec.get_MemberCache () &lt;0x00027&gt;
  at Mono.CSharp.MemberCache.GetUserOperator
(Mono.CSharp.TypeSpec,Mono.CSharp.Operator/OpType,bool) &lt;0x00027&gt;
  at Mono.CSharp.Binary.ResolveUserOperator
(Mono.CSharp.ResolveContext,Mono.CSharp.Expression,Mono.CSharp.Expression)
&lt;0x000b3&gt;
  at Mono.CSharp.Binary.ResolveOperator (Mono.CSharp.ResolveContext)
&lt;0x001b7&gt;
  at Mono.CSharp.Binary.DoResolveCore
(Mono.CSharp.ResolveContext,Mono.CSharp.Expression,Mono.CSharp.Expression)
&lt;0x00017&gt;
  at Mono.CSharp.Binary.DoResolve (Mono.CSharp.ResolveContext) &lt;0x00e47&gt;
  at Mono.CSharp.Expression.Resolve
(Mono.CSharp.ResolveContext,Mono.CSharp.ResolveFlags) &lt;0x00037&gt;
  at Mono.CSharp.Expression.Resolve (Mono.CSharp.ResolveContext) &lt;0x00017&gt;
  at Mono.CSharp.BooleanExpression.DoResolve (Mono.CSharp.ResolveContext)
&lt;0x0001f&gt;
  at Mono.CSharp.Expression.Resolve
(Mono.CSharp.ResolveContext,Mono.CSharp.ResolveFlags) &lt;0x00037&gt;
  at Mono.CSharp.Expression.Resolve (Mono.CSharp.ResolveContext) &lt;0x00017&gt;
  at Mono.CSharp.If.Resolve (Mono.CSharp.BlockContext) &lt;0x00023&gt;
  at Mono.CSharp.Block.Resolve (Mono.CSharp.BlockContext) &lt;0x002dc&gt;
  at Mono.CSharp.ParametersBlock.Resolve
(Mono.CSharp.FlowBranching,Mono.CSharp.BlockContext,Mono.CSharp.IMethodData)
&lt;0x000c4&gt;
  at Mono.CSharp.MethodData.Emit (Mono.CSharp.DeclSpace) &lt;0x00177&gt;
  at Mono.CSharp.MethodOrOperator.Emit () &lt;0x002d3&gt;
  at Mono.CSharp.Method.Emit () &lt;0x0024f&gt;
  at Mono.CSharp.TypeContainer.EmitType () &lt;0x0060c&gt;
  at Mono.CSharp.ModuleContainer.Emit () &lt;0x001bf&gt;
  at Mono.CSharp.AssemblyDefinition.Emit () &lt;0x00123&gt;
  at Mono.CSharp.Driver.Compile () &lt;0x00453&gt;
  at Mono.CSharp.Driver.Main (string[]) &lt;0x000af&gt;
  at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_int_object
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;

Native stacktrace:

    0   mono                                0x000b90c6
mono_handle_native_sigsegv + 422
    1   libSystem.B.dylib                   0x9965705b _sigtramp + 43
    2   ???                                 0xffffffff 0x0 + 4294967295
    3   libSystem.B.dylib                   0x996e45a5 raise + 26
    4   libSystem.B.dylib                   0x996fa6e4 abort + 93
    5   mono                                0x0025186d monoeg_g_logv + 197
    6   mono                                0x002518e3
monoeg_assertion_message + 46
    7   mono                                0x001295c9
mono_class_get_field_default_value + 319
    8   mono                                0x001511b0
ves_icall_MonoField_GetRawConstantValue + 274
    9   ???                                 0x023d1f80 0x0 + 37560192
    10  ???                                 0x023d15d2 0x0 + 37557714
    11  ???                                 0x023cba54 0x0 + 37534292
    12  ???                                 0x017f03b4 0x0 + 25101236
    13  ???                                 0x017ebad0 0x0 + 25082576
    14  ???                                 0x027ade28 0x0 + 41606696
    15  ???                                 0x027ad76c 0x0 + 41604972
    16  ???                                 0x027ac970 0x0 + 41601392
    17  ???                                 0x027ac708 0x0 + 41600776
    18  ???                                 0x027ab2c8 0x0 + 41595592
    19  ???                                 0x023f65e0 0x0 + 37709280
    20  ???                                 0x023f6590 0x0 + 37709200
    21  ???                                 0x027aa260 0x0 + 41591392
    22  ???                                 0x023f65e0 0x0 + 37709280
    23  ???                                 0x023f6590 0x0 + 37709200
    24  ???                                 0x027aa024 0x0 + 41590820
    25  ???                                 0x0279144d 0x0 + 41489485
    26  ???                                 0x0279074d 0x0 + 41486157
    27  ???                                 0x02795080 0x0 + 41504896
    28  ???                                 0x02794ea4 0x0 + 41504420
    29  ???                                 0x02794ad8 0x0 + 41503448
    30  ???                                 0x0278d6ed 0x0 + 41473773
    31  ???                                 0x023f4bf0 0x0 + 37702640
    32  ???                                 0x023f3d6c 0x0 + 37698924
    33  ???                                 0x0127a70c 0x0 + 19375884
    34  ???                                 0x004bbda8 0x0 + 4963752
    35  ???                                 0x004bc1ae 0x0 + 4964782
    36  mono                                0x0000fa34
mono_jit_runtime_invoke + 164
    37  mono                                0x001be768 mono_runtime_invoke
+ 137
    38  mono                                0x001c0f16
mono_runtime_exec_main + 585
    39  mono                                0x001c02a4
mono_runtime_run_main + 843
    40  mono                                0x000888cb mono_main + 7755
    41  mono                                0x00001ed6 start + 54

Debug info from gdb:

/tmp/mono-gdb-commands.4LyI1c:1: Error in sourced command file:
unable to debug self

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries
used by your application.
=================================================================



Stacktrace:

  at (wrapper managed-to-native)
System.Reflection.MonoField.GetRawConstantValue
(System.Reflection.MonoField) &lt;0xffffffff&gt;
  at Mono.CSharp.MetadataImporter.CreateField
(System.Reflection.FieldInfo,Mono.CSharp.TypeSpec) &lt;0x003a1&gt;
  at Mono.CSharp.ImportedTypeDefinition.LoadMembers
(Mono.CSharp.TypeSpec,bool,Mono.CSharp.MemberCache&amp;) &lt;0x00a53&gt;
  at Mono.CSharp.TypeSpec.InitializeMemberCache (bool) &lt;0x000a3&gt;
  at Mono.CSharp.TypeSpec.get_MemberCache () &lt;0x00027&gt;
  at Mono.CSharp.MemberCache.GetUserOperator
(Mono.CSharp.TypeSpec,Mono.CSharp.Operator/OpType,bool) &lt;0x00027&gt;
  at Mono.CSharp.Binary.ResolveUserOperator
(Mono.CSharp.ResolveContext,Mono.CSharp.Expression,Mono.CSharp.Expression)
&lt;0x000b3&gt;
  at Mono.CSharp.Binary.ResolveOperator (Mono.CSharp.ResolveContext)
&lt;0x001b7&gt;
  at Mono.CSharp.Binary.DoResolveCore
(Mono.CSharp.ResolveContext,Mono.CSharp.Expression,Mono.CSharp.Expression)
&lt;0x00017&gt;
  at Mono.CSharp.Binary.DoResolve (Mono.CSharp.ResolveContext) &lt;0x00e47&gt;
  at Mono.CSharp.Expression.Resolve
(Mono.CSharp.ResolveContext,Mono.CSharp.ResolveFlags) &lt;0x00037&gt;
  at Mono.CSharp.Expression.Resolve (Mono.CSharp.ResolveContext) &lt;0x00017&gt;
  at Mono.CSharp.BooleanExpression.DoResolve (Mono.CSharp.ResolveContext)
&lt;0x0001f&gt;
  at Mono.CSharp.Expression.Resolve
(Mono.CSharp.ResolveContext,Mono.CSharp.ResolveFlags) &lt;0x00037&gt;
  at Mono.CSharp.Expression.Resolve (Mono.CSharp.ResolveContext) &lt;0x00017&gt;
  at Mono.CSharp.If.Resolve (Mono.CSharp.BlockContext) &lt;0x00023&gt;
  at Mono.CSharp.Block.Resolve (Mono.CSharp.BlockContext) &lt;0x002dc&gt;
  at Mono.CSharp.ParametersBlock.Resolve
(Mono.CSharp.FlowBranching,Mono.CSharp.BlockContext,Mono.CSharp.IMethodData)
&lt;0x000c4&gt;
  at Mono.CSharp.MethodData.Emit (Mono.CSharp.DeclSpace) &lt;0x00177&gt;
  at Mono.CSharp.MethodOrOperator.Emit () &lt;0x002d3&gt;
  at Mono.CSharp.Method.Emit () &lt;0x0024f&gt;
  at Mono.CSharp.TypeContainer.EmitType () &lt;0x0060c&gt;
  at Mono.CSharp.ModuleContainer.Emit () &lt;0x001bf&gt;
  at Mono.CSharp.AssemblyDefinition.Emit () &lt;0x00123&gt;
  at Mono.CSharp.Driver.Compile () &lt;0x00453&gt;
  at Mono.CSharp.Driver.Main (string[]) &lt;0x000af&gt;
  at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_int_object
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;

Native stacktrace:

    0   mono                                0x000b90c6
mono_handle_native_sigsegv + 422
    1   libSystem.B.dylib                   0x9965705b _sigtramp + 43
    2   ???                                 0xffffffff 0x0 + 4294967295
    3   libSystem.B.dylib                   0x996e45a5 raise + 26
    4   libSystem.B.dylib                   0x996fa6e4 abort + 93
    5   mono                                0x0025186d monoeg_g_logv + 197
    6   mono                                0x002518e3
monoeg_assertion_message + 46
    7   mono                                0x001295c9
mono_class_get_field_default_value + 319
    8   mono                                0x001511b0
ves_icall_MonoField_GetRawConstantValue + 274
    9   ???                                 0x023d1f80 0x0 + 37560192
    10  ???                                 0x023d15d2 0x0 + 37557714
    11  ???                                 0x023cba54 0x0 + 37534292
    12  ???                                 0x017f03b4 0x0 + 25101236
    13  ???                                 0x017ebad0 0x0 + 25082576
    14  ???                                 0x027ade28 0x0 + 41606696
    15  ???                                 0x027ad76c 0x0 + 41604972
    16  ???                                 0x027ac970 0x0 + 41601392
    17  ???                                 0x027ac708 0x0 + 41600776
    18  ???                                 0x027ab2c8 0x0 + 41595592
    19  ???                                 0x023f65e0 0x0 + 37709280
    20  ???                                 0x023f6590 0x0 + 37709200
    21  ???                                 0x027aa260 0x0 + 41591392
    22  ???                                 0x023f65e0 0x0 + 37709280
    23  ???                                 0x023f6590 0x0 + 37709200
    24  ???                                 0x027aa024 0x0 + 41590820
    25  ???                                 0x0279144d 0x0 + 41489485
    26  ???                                 0x0279074d 0x0 + 41486157
    27  ???                                 0x02795080 0x0 + 41504896
    28  ???                                 0x02794ea4 0x0 + 41504420
    29  ???                                 0x02794ad8 0x0 + 41503448
    30  ???                                 0x0278d6ed 0x0 + 41473773
    31  ???                                 0x023f4bf0 0x0 + 37702640
    32  ???                                 0x023f3d6c 0x0 + 37698924
    33  ???                                 0x0127a70c 0x0 + 19375884
    34  ???                                 0x004bbda8 0x0 + 4963752
    35  ???                                 0x004bc1ae 0x0 + 4964782
    36  mono                                0x0000fa34
mono_jit_runtime_invoke + 164
    37  mono                                0x001be768 mono_runtime_invoke
+ 137
    38  mono                                0x001c0f16
mono_runtime_exec_main + 585
    39  mono                                0x001c02a4
mono_runtime_run_main + 843
    40  mono                                0x000888cb mono_main + 7755
    41  mono                                0x00001ed6 start + 54

Debug info from gdb:

/tmp/mono-gdb-commands.4LyI1c:1: Error in sourced command file:
unable to debug self

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries
used by your application.
=================================================================

Build complete -- 1 error, 0 warnings

---------------------- Done ----------------------

Build: 1 error, 0 warnings
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20111129/84ddd7e4/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20111129/84ddd7e4/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038304.html">[Mono-dev] Xamarin Bugzilla issues
</A></li>
	<LI>Next message: <A HREF="038306.html">[Mono-dev] WCF: BasicHttpBinding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38305">[ date ]</a>
              <a href="thread.html#38305">[ thread ]</a>
              <a href="subject.html#38305">[ subject ]</a>
              <a href="author.html#38305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
