<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Speed%20up%20ByteEncoding.GetString%28%29&In-Reply-To=007a01c68ed3%243e3e45f0%240100a8c0%40kornelpal.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018894.html">
   <LINK REL="Next"  HREF="018906.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Speed%20up%20ByteEncoding.GetString%28%29&In-Reply-To=007a01c68ed3%243e3e45f0%240100a8c0%40kornelpal.hu"
       TITLE="[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()">atsushi at ximian.com
       </A><BR>
    <I>Tue Jun 13 10:10:42 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018894.html">[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</A></li>
        <LI>Next message: <A HREF="018906.html">[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18895">[ date ]</a>
              <a href="thread.html#18895">[ thread ]</a>
              <a href="subject.html#18895">[ subject ]</a>
              <a href="author.html#18895">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I see no problem on this patch, so feel free to go ahead, though the
improvement is not obvious now. But it would be faster in general
cases.

Just an extra note, see bug #70841 to see concrete nonpublic method
access problem that Miguel was worried.

Atsushi Eno

Korn&#233;l P&#225;l wrote:
&gt;<i> Is this patch OK to commit?
</I>&gt;<i> 
</I>&gt;<i> Korn&#233;l
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message ----- From: &quot;Korn&#233;l P&#225;l&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kornelpal at gmail.com</A>&gt;
</I>&gt;<i> To: &quot;Miguel de Icaza&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at ximian.com</A>&gt;
</I>&gt;<i> Cc: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i> Sent: Friday, June 09, 2006 2:24 PM
</I>&gt;<i> Subject: Re: [Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> OK, now I understan your problem.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please review this modified patch.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Korn&#233;l
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ----- Original Message ----- From: &quot;Miguel de Icaza&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at ximian.com</A>&gt;
</I>&gt;&gt;<i> To: &quot;Korn&#233;l P&#225;l&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kornelpal at gmail.com</A>&gt;
</I>&gt;&gt;<i> Cc: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;&gt;<i> Sent: Friday, June 09, 2006 2:01 PM
</I>&gt;&gt;<i> Subject: Re: [Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hello,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Invoking non-public methods using SRE is widely used by our class
</I>&gt;&gt;&gt;&gt;<i> library,
</I>&gt;&gt;&gt;&gt;<i> it is supported by the ECMA standards so I don't really understand what
</I>&gt;&gt;&gt;&gt;<i> you
</I>&gt;&gt;&gt;&gt;<i> mean on &quot;access to internal methods will at some point broken&quot;.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> As I said, this might be something that we will fix in the future, and
</I>&gt;&gt;&gt;<i> although it works today, it does not mean it will work today, I do not
</I>&gt;&gt;&gt;<i> want to add more dependencies that might prevent us from fixing it in
</I>&gt;&gt;&gt;<i> the future.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Besides, poking at string internals is not something am very excited
</I>&gt;&gt;&gt;<i> about supporting nor encouraging.  The last time we did something
</I>&gt;&gt;&gt;<i> &quot;unsafe&quot; like this, it was reviewed over and over, and it turned out to
</I>&gt;&gt;&gt;<i> be buggy, it took months to track the mysterious bug because the
</I>&gt;&gt;&gt;<i> conditions were very hard to reproduce.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Note that even using &quot;new string ((char) 0, length)&quot; is faster than the
</I>&gt;&gt;&gt;&gt;<i> current implementation.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> That part of the patch is fine with me.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Miguel
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018894.html">[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</A></li>
	<LI>Next message: <A HREF="018906.html">[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18895">[ date ]</a>
              <a href="thread.html#18895">[ thread ]</a>
              <a href="subject.html#18895">[ subject ]</a>
              <a href="author.html#18895">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
