<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] NET_2_0 Serialization Callbacks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20NET_2_0%20Serialization%20Callbacks&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018830.html">
   <LINK REL="Next"  HREF="018860.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] NET_2_0 Serialization Callbacks</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20NET_2_0%20Serialization%20Callbacks&In-Reply-To="
       TITLE="[Mono-dev] [PATCH] NET_2_0 Serialization Callbacks">robertj at gmx.net
       </A><BR>
    <I>Tue Jun  6 20:45:55 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018830.html">[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</A></li>
        <LI>Next message: <A HREF="018860.html">[Mono-dev] Re: [PATCH] NET_2_0 Serialization Callbacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18805">[ date ]</a>
              <a href="thread.html#18805">[ thread ]</a>
              <a href="subject.html#18805">[ subject ]</a>
              <a href="author.html#18805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

I've attached the patches to this bug:

<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=78594">http://bugzilla.ximian.com/show_bug.cgi?id=78594</A>

The code could be used for 1.1 as well (the 1.1 support
is commented out). However, as Lluis wrote, the
formatters must cope with these changes. Ours do, but
custom formatters do not.

There is an unsolved issue with the callbacks:

MS.NET's Type Loader does not load a type which has
more than one method marked with the same attribute:

The sample

class T
{
	[OnDeserializing]
	void A (StreamingContext ctx)
	{
	}

	[OnDeserializing]
	void B (StreamingContext ctx)
	{
	}
}

leads to a TypeLoadException. The loader also checks whether
the method has the proper signature.

Where do we implement this?

Robert


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018830.html">[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</A></li>
	<LI>Next message: <A HREF="018860.html">[Mono-dev] Re: [PATCH] NET_2_0 Serialization Callbacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18805">[ date ]</a>
              <a href="thread.html#18805">[ thread ]</a>
              <a href="subject.html#18805">[ subject ]</a>
              <a href="author.html#18805">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
