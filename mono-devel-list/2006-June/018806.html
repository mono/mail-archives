<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Speed%20up%20ByteEncoding.GetString%28%29&In-Reply-To=001601c689b0%24bc444d00%240100a8c0%40kornelpal.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018804.html">
   <LINK REL="Next"  HREF="018810.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Speed%20up%20ByteEncoding.GetString%28%29&In-Reply-To=001601c689b0%24bc444d00%240100a8c0%40kornelpal.hu"
       TITLE="[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()">miguel at ximian.com
       </A><BR>
    <I>Wed Jun  7 00:48:29 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018804.html">[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</A></li>
        <LI>Next message: <A HREF="018810.html">[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18806">[ date ]</a>
              <a href="thread.html#18806">[ thread ]</a>
              <a href="subject.html#18806">[ subject ]</a>
              <a href="author.html#18806">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Kornel,

&gt;<i> ByteEncoding.GetString() currently uses StringBuilder that is very slow. I 
</I>&gt;<i> modified it to use InternalAllocateStr and unsafe code that makes is much 
</I>&gt;<i> faster.
</I>&gt;<i> 
</I>&gt;<i> Please review and approve the patch.
</I>
Am not sure that poking at the internals and using InternalAllocateStr
is a good idea.   One possibility would be to use &quot;Friend Assemblies&quot;,
although that is only supported in the 2.0 profile, not in 1.0.

Although today Mono does not enforce at runtime accessibility, this is
something that we intend to fix, which means that access to internal
methods will at some point broken.   So this would be one of those
things we would have to fix.

(Today we do violate this rule when using dynamic method invocation, and
we would have to find solutions for the places where we do).

Miguel.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018804.html">[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</A></li>
	<LI>Next message: <A HREF="018810.html">[Mono-dev] [PATCH] Speed up ByteEncoding.GetString()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18806">[ date ]</a>
              <a href="thread.html#18806">[ thread ]</a>
              <a href="subject.html#18806">[ subject ]</a>
              <a href="author.html#18806">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
