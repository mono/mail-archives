<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] .Net TCP/IP remoting with unmanaged C++ endpoint?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20.Net%20TCP/IP%20remoting%20with%20unmanaged%20C%2B%2B%20endpoint%3F&In-Reply-To=1151574715.17477.9.camel%40melchior.magi">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019145.html">
   <LINK REL="Next"  HREF="019152.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] .Net TCP/IP remoting with unmanaged C++ endpoint?</H1>
    <B>Marek Habersack</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20.Net%20TCP/IP%20remoting%20with%20unmanaged%20C%2B%2B%20endpoint%3F&In-Reply-To=1151574715.17477.9.camel%40melchior.magi"
       TITLE="[Mono-dev] .Net TCP/IP remoting with unmanaged C++ endpoint?">grendel at caudium.net
       </A><BR>
    <I>Thu Jun 29 11:17:04 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019145.html">[Mono-dev] .Net TCP/IP remoting with unmanaged C++ endpoint?
</A></li>
        <LI>Next message: <A HREF="019152.html">[Mono-dev] .Net TCP/IP remoting with unmanaged C++ endpoint?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19150">[ date ]</a>
              <a href="thread.html#19150">[ thread ]</a>
              <a href="subject.html#19150">[ subject ]</a>
              <a href="author.html#19150">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jonathan Pryor wrote:
&gt;<i> On Wed, 2006-06-28 at 12:47 +0200, Marek Habersack wrote:
</I>&gt;&gt;<i>   I've just been asked a question whether it would be possible to create a
</I>&gt;&gt;<i> TCP/IP{ (native .NET binary protocol) connection between an unmanaged server
</I>&gt;&gt;<i> written in C++ and a managed client.
</I>&gt;<i> 
</I>&gt;<i> Your subject says &quot;TCP/IP remoting&quot;, while the body says &quot;TCP/IP
</I>&gt;<i> (native .NET binary protocol), so I'll assume you actually mean
</I>&gt;<i> Remoting.
</I>Indeed, that's what I had in mind.

&gt;<i> 
</I>&gt;<i> You can't use Remoting from a purely unmanaged server, as Remoting
</I>&gt;<i> assumes a .NET execution environment (marshaling object references,
</I>&gt;<i> object types, class data member names...).  You _might_ be able to fake
</I>&gt;<i> enough of the protocol to do it purely unmanaged, but it would likely be
</I>&gt;<i> _very_ brittle.
</I>&gt;<i> 
</I>&gt;<i> Remoting -- and any other technology which assumes that the same type
</I>&gt;<i> can be loaded &amp; used on both sides of the connection -- is not suitable
</I>&gt;<i> for cross-runtime uses (e.g. .NET -&gt; Java/C/C++/Python/...).
</I>&gt;<i> 
</I>&gt;<i> Which leaves you with looking for something that _is_ useful for
</I>&gt;<i> cross-runtime uses, of which there are several:
</I>&gt;<i> 
</I>&gt;<i>   - Corba.NET (which uses CORBA as the communications protocol)
</I>&gt;<i>   - DBus (if both processes will be on the same machine)
</I>&gt;<i>   - SOAP
</I>&gt;<i>   - ZeroC/ICE (which you already mentioned)
</I>&gt;<i>   - Some home-grown protocol
</I>&gt;<i> 
</I>&gt;<i> SOAP is likely to be the most mature, but since it isn't a binary
</I>&gt;<i> protocol there may be some concerns about its performance.
</I>That's the whole problem about SOAP/XML-RPC (which I considered as well). The
communication is going to be done over slow links (most probably on-demand
dial-up connections) between embedded devices and a central server, so both the
volume of data sent and the size of code running on the embedded devices are
very important. The embedded devices are the ones that would run the C++
software and the server would run a Mono application. CORBA seems to heavy
weight for the purpose, too, even though ACE runs on devices with tight memory.
Therefore, it seems, I will need to come up with a proprietary communication
protocol.
I guess what I really meant when asking the question (and it might be my
misunderstanding of how Remoting works) is that it would be great if I could
open a tcp/ip connection between the client-server and use the Remoting binary
protocol for invoking code on the other end. I assumed that Remoting is a form
of a more advanced/specialized SOAP application that, among others, uses a
binary protocol for communication between endpoints. If my idea of Remoting was
true, using unmanaged C++ endpoint would be a matter of decoding the binary
protocol stream and invoking the unmanaged code in a similar way as when you'd
invoke a method on a SOAP/XML-RPC/CORBA server written in unmanaged C++, where
the request is sent in a form that's language-agnostic (like XML/IDL in the
above cases). Well, it seems that my idea of Remoting was indeed incorrect :)

thanks a lot, best regards

marek

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2.2 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFEo+7wq3909GIf5uoRAvKeAJkBMT0V96DSrDHOHKCa+QZjg7VmOwCdG92k
5lG9lLDz7/jYXJ9dneeMisA=
=CBhF
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019145.html">[Mono-dev] .Net TCP/IP remoting with unmanaged C++ endpoint?
</A></li>
	<LI>Next message: <A HREF="019152.html">[Mono-dev] .Net TCP/IP remoting with unmanaged C++ endpoint?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19150">[ date ]</a>
              <a href="thread.html#19150">[ thread ]</a>
              <a href="subject.html#19150">[ subject ]</a>
              <a href="author.html#19150">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
