<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Version-specific binding - resolved, but real bugs	found
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Version-specific%20binding%20-%20resolved%2C%20but%20real%20bugs%0A%09found&In-Reply-To=1150242939.2002.4.camel%40localhost">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018909.html">
   <LINK REL="Next"  HREF="018940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Version-specific binding - resolved, but real bugs	found</H1>
    <B>Brian Crowell</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Version-specific%20binding%20-%20resolved%2C%20but%20real%20bugs%0A%09found&In-Reply-To=1150242939.2002.4.camel%40localhost"
       TITLE="[Mono-dev] Version-specific binding - resolved, but real bugs	found">mono-devel at fluggo.com
       </A><BR>
    <I>Wed Jun 14 15:12:50 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018909.html">[Mono-dev] Version-specific binding - resolved, but real bugs	found
</A></li>
        <LI>Next message: <A HREF="018940.html">[Mono-dev] Version-specific binding - resolved, but real bugs	found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18936">[ date ]</a>
              <a href="thread.html#18936">[ thread ]</a>
              <a href="subject.html#18936">[ subject ]</a>
              <a href="author.html#18936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gonzalo Paniagua Javier wrote:
&gt;<i> Can you please file bug reports in bugzilla.ximian.com and attach a test
</I>&gt;<i> case for these problems?
</I>
Turns out it's a false alarm on the second one. The properties on dynamic 
assemblies in .NET also throw exceptions, though I still think this behavior is 
bad design because it should be treated the same as if the assembly had been 
loaded as a bag-o-bytes.

On the first one, I found that the reason my implicitly-loading assemblies were 
not showing up is because the assemblies loaded into my first domain had 
propogated into the second one. So the bug here is not that the correct assembly 
wasn't being reported, it was that it wasn't even being loaded!

A quick example:

==============================================
using System;
using System.Reflection;

namespace Test {
     class TestClass {
         public static void Main( string[] args ) {
             AppDomain newDomain = AppDomain.CreateDomain( &quot;testDomain&quot; );
			
             foreach( Assembly assem in newDomain.GetAssemblies() ) {
                  Console.WriteLine( assem.FullName );
             }
         }
     }
}
==============================================

Under .NET, this program reports the following assembly in the new AppDomain:

   mscorlib, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089


Under Mono, these assemblies are reported:

   mscorlib, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
   test-EmptyAppDomain, Version=0.0.0.0, Culture=neutral


It can be shown that any assembly found in the AppDomain that called 
CreateDomain ends up in the new domain.

This has been filed as bug #78648.

--Brian


-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: test-EmptyAppDomain.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060614/e8c43183/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060614/e8c43183/attachment.pl</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018909.html">[Mono-dev] Version-specific binding - resolved, but real bugs	found
</A></li>
	<LI>Next message: <A HREF="018940.html">[Mono-dev] Version-specific binding - resolved, but real bugs	found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18936">[ date ]</a>
              <a href="thread.html#18936">[ thread ]</a>
              <a href="subject.html#18936">[ subject ]</a>
              <a href="author.html#18936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
