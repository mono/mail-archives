<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Mono and MySQL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Mono%20and%20MySQL&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007746.html">
   <LINK REL="Next"  HREF="007655.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Mono and MySQL</H1>
    <B>Mike McKay</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Mono%20and%20MySQL&In-Reply-To="
       TITLE="[Mono-devel-list] Mono and MySQL">mike at vdomck.org
       </A><BR>
    <I>Wed Aug 25 07:42:55 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007746.html">[Mono-devel-list] Bug in System.Diagnostics.Process.MainModule?
</A></li>
        <LI>Next message: <A HREF="007655.html">[Mono-devel-list] Mono and MySQL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7654">[ date ]</a>
              <a href="thread.html#7654">[ thread ]</a>
              <a href="subject.html#7654">[ subject ]</a>
              <a href="author.html#7654">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to use Mono to connect to a MySQL database but I am running 
into an error message that according to google many others seem to be 
having but not solving. I have had success with Perl (shown at the 
bottom of this email), but under Mono I always get this exception:

Unhandled Exception: ByteFX.Data.MySqlClient.MySqlException: Unable to 
connect to any of the specified MySQL hosts

Any ideas?? My simple test code follows:

podo OFAC$ cat test.cs
using System;
using ByteFX.Data.MySqlClient;

public class Test{

   public static void Main(string[] args){
     MySqlConnection myConnection = new MySqlConnection(args[0]);
     MySqlCommand myCommand = new MySqlCommand(&quot;Select * from test&quot;);
     myCommand.Connection = myConnection;
     myConnection.Open();
     MySqlDataReader objReader = myCommand.ExecuteReader();
     int nResultCount = 0;
     while (objReader.Read())
     {
         ++nResultCount;
     }
   }
}

(I have tried lots of different connection strings to no avail)

podo OFAC$ mono test.exe &quot;Database=OFAC;UID=root;Host=localhost&quot;

Unhandled Exception: ByteFX.Data.MySqlClient.MySqlException: Unable to 
connect to any of the specified MySQL hosts
in &lt;0x00158&gt; ByteFX.Data.MySqlClient.Driver:Open 
(ByteFX.Data.MySqlClient.MySqlConnectionString)
in &lt;0x0003c&gt; ByteFX.Data.MySqlClient.MySqlInternalConnection:Open ()
in &lt;0x000ef&gt; ByteFX.Data.MySqlClient.MySqlPool:CreateNewPooledConnection ()
in &lt;0x00214&gt; ByteFX.Data.MySqlClient.MySqlPool:GetPooledConnection ()
in &lt;0x00052&gt; ByteFX.Data.MySqlClient.MySqlPool:GetConnection ()
in &lt;0x00112&gt; ByteFX.Data.MySqlClient.MySqlPoolManager:GetConnection 
(ByteFX.Data.MySqlClient.MySqlConnectionString)
in &lt;0x0007c&gt; ByteFX.Data.MySqlClient.MySqlConnection:Open ()


-------------PERL IMPLEMENTATION THAT WORKS------------------------

podo OFAC$ cat test.pl
#!/usr/bin/perl -w

use DBI;

$dataSource=&quot;dbi:mysql:OFAC&quot;;
$userid=&quot;root&quot;;
$passwd=&quot;&quot;;

# make connection to database
$dbh = DBI-&gt;connect($dataSource,$userid,$passwd);
#
# prepare and execute query
$query = &quot;SELECT * FROM test&quot;;
$sth = $dbh-&gt;prepare($query);
$sth-&gt;execute();

while ( @row = $sth-&gt;fetchrow_array ) {
   print &quot;@row\n&quot;;
}

podo OFAC$ ./test.pl
42

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007746.html">[Mono-devel-list] Bug in System.Diagnostics.Process.MainModule?
</A></li>
	<LI>Next message: <A HREF="007655.html">[Mono-devel-list] Mono and MySQL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7654">[ date ]</a>
              <a href="thread.html#7654">[ thread ]</a>
              <a href="subject.html#7654">[ subject ]</a>
              <a href="author.html#7654">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
