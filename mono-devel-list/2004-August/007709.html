<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] some strangeness with CustomAttributes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20some%20strangeness%20with%20CustomAttributes&In-Reply-To=200408271850.43381.mathpup%40mylinuxisp.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007704.html">
   <LINK REL="Next"  HREF="007694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] some strangeness with CustomAttributes</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20some%20strangeness%20with%20CustomAttributes&In-Reply-To=200408271850.43381.mathpup%40mylinuxisp.com"
       TITLE="[Mono-devel-list] some strangeness with CustomAttributes">monoman at gmail.com
       </A><BR>
    <I>Sat Aug 28 15:25:08 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007704.html">[Mono-devel-list] some strangeness with  CustomAttributes
</A></li>
        <LI>Next message: <A HREF="007694.html">[Mono-devel-list] Two mcs unsafe code bugs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7709">[ date ]</a>
              <a href="thread.html#7709">[ thread ]</a>
              <a href="subject.html#7709">[ subject ]</a>
              <a href="author.html#7709">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I second Marcus. Trying to decode your paragraph:

&quot;And it works fine printing the class name as I would have expected but
if I change the attribute name to a new Attribute identical to
AssemblyDescription (but with a different name) and add that to a new
assembly (and compile the code above with the definition of the new
attribute) - the new custom attribute is not visible, now I can't see
any difference in the code for the AssemblyDescription and the new one I
have created.&quot;

Seems that maybe you've compiled the source for your Attribute into
both programs, so they are two different types, with similar partial
names (just look at the  types Fullname to see that one has the
program's assembly-name in it and the other the library's
assembly-name).

You have to use only one compiled form of the attribute, so you have
an easy solution: reference the assembly containing your compiled
attribute (either that linux-user, or some other it references), but
this will make your program dependent on that particular assembly, so
if it's inside that &quot;linux-user&quot; assembly, you may have to move it to
a library that both your program and your library reference (-r:...)

Hope it helps,

On Fri, 27 Aug 2004 18:50:43 -0500, Marcus &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mathpup at mylinuxisp.com</A>&gt; wrote:
&gt;<i> I'm not positive that I understand the second situation fully, but it sounds
</I>&gt;<i> as though you are comparing a type in an external assembly against a type in
</I>&gt;<i> the current assembly, but the current assembly does not link against the
</I>&gt;<i> external one. In that case, I believe that the types are going to compare
</I>&gt;<i> different. Two types with the same name and structure but in separate
</I>&gt;<i> assemblies will compare different if they're both loaded from disk.
</I>&gt;<i> 
</I>&gt;<i> Again, I might be off-base as far as the situation goes.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Friday 27 August 2004 3:57 am, Jonathan Stowe wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; What is even stranger is if I do:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; using System;
</I>&gt;<i> &gt; using System.Reflection;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; public class Test
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;    public static void Main()
</I>&gt;<i> &gt;    {
</I>&gt;<i> &gt;       Assembly a = Assembly.LoadWithPartialName(&quot;Linux.User&quot;);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;       object[] o = a.GetCustomAttributes(true);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;       foreach (object x in  a.GetCustomAttributes(true))
</I>&gt;<i> &gt;       {
</I>&gt;<i> &gt;          Console.WriteLine(x.GetType());
</I>&gt;<i> &gt;       }
</I>&gt;<i> &gt;    }
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The type of the attribute is printed out alongside all of the other ones
</I>&gt;<i> &gt; but I am unable to do a comparison against it's type (except by
</I>&gt;<i> &gt; comparing the type name).  I guess I am missing the point here or
</I>&gt;<i> &gt; something, but can someone explain what is going on?
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>

-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
Cognition is not a representation of an objectively existing world
but is a bringing forth of a world in the process of living.
-- Fritjof Capra, citing 
   Humberto Maturana and Francisco Varella's &quot;Santiago Theory of Cognition&quot;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007704.html">[Mono-devel-list] some strangeness with  CustomAttributes
</A></li>
	<LI>Next message: <A HREF="007694.html">[Mono-devel-list] Two mcs unsafe code bugs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7709">[ date ]</a>
              <a href="thread.html#7709">[ thread ]</a>
              <a href="subject.html#7709">[ subject ]</a>
              <a href="author.html#7709">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
