<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Issue of binary portability of a hello worl	 d application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Issue%20of%20binary%20portability%20of%20a%20hello%20worl%0A%09%20d%20application&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007408.html">
   <LINK REL="Next"  HREF="007400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Issue of binary portability of a hello worl	 d application</H1>
    <B>Rob.Tillie at Student.tUL.EDU</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Issue%20of%20binary%20portability%20of%20a%20hello%20worl%0A%09%20d%20application&In-Reply-To="
       TITLE="[Mono-devel-list] Issue of binary portability of a hello worl	 d application">Rob.Tillie at Student.tUL.EDU
       </A><BR>
    <I>Sun Aug  8 04:38:52 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007408.html">[Mono-devel-list] Issue of binary portability of a hello worl d application
</A></li>
        <LI>Next message: <A HREF="007400.html">[Mono-devel-list] Issue of binary portability of a hello worl  d application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7399">[ date ]</a>
              <a href="thread.html#7399">[ thread ]</a>
              <a href="subject.html#7399">[ subject ]</a>
              <a href="author.html#7399">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I believe managed C++ adds some native code to the program. Perhaps if you
look to the IL it becomes clear what the thing is doing (use ildasm).

 

Greetz,

-- Rob.

 

  _____  

From: Ioannis Vranos [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ivr at grad.com</A>] 
Sent: Sunday, August 08, 2004 10:25 AM
To: mono-devel-list
Subject: Re: [Mono-devel-list] Issue of binary portability of a hello worl d
application

 

Actually I did not use any managed C++ which also should be no problem by
itself, since does not use native code but is for CLI things like


// Reference type
__gc class whatever
{
 // ...
};

// Value type
__value class whatever
{
 // ...
};


These are pure CLI types. But probably the problem is the mscorlib.dll. In
what &quot;dll&quot; Console::WriteLine is included in Mono?






Best regards,

Ioannis Vranos



<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Rob.Tillie at Student.tUL.EDU</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Rob.Tillie at Student.tUL.EDU</A>&gt;  wrote: 

Hey Ioannis,

 

Managed C++ is not supported on Mono, and thus it is not binary compatible.
As you can see in your error, it tries to invoke some C++ code using
pinvoke.
So, it always will be binary compatible, unless the language you use uses
pinvoke, like managed C++. (or you use it yourself).

 

Greetz,

-- Rob.

 

  _____  

From: Ioannis Vranos [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ivr at grad.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ivr at grad.com</A>&gt; ] 
Sent: Sunday, August 08, 2004 2:37 AM
To: mono-devel-list
Subject: [Mono-devel-list] Issue of binary portability of a hello world
application

 

Hello fellow developers. I just installed Mono the hard way in White Box 3
Respin 1 GNU/Linux (a Red Hat variant) because I want to experiment with
binary portability between .NET and Mono.

I created a simple CLI hello world  program with current C++ &quot;Managed
Extensions&quot; in VS 2003 and these are the contents of  the main .cpp file:



#include &quot;stdafx.h&quot;

#using &lt;mscorlib.dll&gt;

using namespace System;

int _tmain()
{
    Console::WriteLine(S&quot;Hello World&quot;);
    return 0;
}


Well when I run the executable in GNU/Linux using mono Manage.exe I get the
error:


** ERROR **: file marshal.c: line 3096 (mono_marshal_get_native_wrapper):
assertion failed: (method-&gt;signature-&gt;pinvoke)
aborting...
Aborted



Well it is obvious that an assert condition in Mono's code is violated (why
is it compiled in debug mode?). But why is it happening, any ideas? (apart
from the fact that assert failure indicates a bug if it is used as it is
supposed to).






Best regards,

Ioannis Vranos 

_______________________________________________ Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>&gt;
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>&gt;  

_______________________________________________ Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040808/4cdbdd26/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040808/4cdbdd26/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007408.html">[Mono-devel-list] Issue of binary portability of a hello worl d application
</A></li>
	<LI>Next message: <A HREF="007400.html">[Mono-devel-list] Issue of binary portability of a hello worl  d application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7399">[ date ]</a>
              <a href="thread.html#7399">[ thread ]</a>
              <a href="subject.html#7399">[ subject ]</a>
              <a href="author.html#7399">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
