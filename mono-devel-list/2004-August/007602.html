<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Assembly Loading scheme - Differences observed between MSCLR &amp; mo no
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Assembly%20Loading%20scheme%20-%20Differences%20observed%20between%20MSCLR%20%26%20mo%0A%20no&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007604.html">
   <LINK REL="Next"  HREF="007605.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Assembly Loading scheme - Differences observed between MSCLR &amp; mo no</H1>
    <B>Vivek, Bharath Varma (IE10)</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Assembly%20Loading%20scheme%20-%20Differences%20observed%20between%20MSCLR%20%26%20mo%0A%20no&In-Reply-To="
       TITLE="[Mono-devel-list] Assembly Loading scheme - Differences observed between MSCLR &amp; mo no">Vivek.Varma at honeywell.com
       </A><BR>
    <I>Fri Aug 20 10:44:53 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007604.html">[Mono-devel-list] ASP.NET Page Life Cycle || Bug ?
</A></li>
        <LI>Next message: <A HREF="007605.html">[Mono-devel-list] GTK# and MyXAML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7602">[ date ]</a>
              <a href="thread.html#7602">[ thread ]</a>
              <a href="subject.html#7602">[ subject ]</a>
              <a href="author.html#7602">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I observed a difference between the MSCLR and mono with respect to assembly
loading.
One use case where this difference causes a problem is in remoting.
Following is an explanation of the use case....

Lets assume there are two assemblies(dlls)
A.dll &amp; B.dll
A.dll has a reference to B.dll

Lets assume
Remoting Client - Running on MS.Net
Remoting Server - Running on mono
 
Lets say the remoting server exposes a method called &quot;LoadMe(byte[])&quot;
The LoadMe method in turn does an Assembly.Load(byte[])

Remoting client calls RemotingServer::LoadMe(bytestream of an Assembly
A.dll) via remoting
RemotingServer::LoadMe calls Assembly.Load(bytestream of assembly A.dll)
Mono's Assembly.Load method sees that A.dll references B.dll and tries to
load B.dll
Alas! B.dll cannot be found!

With a Remoting Server running on MS.Net this problem does not exist, as I
presume that the MS.Net assembly loader lazy loads referenced assemblies.

To avoid this problem while running on mono the Remoting client should find
all assemblies that A.dll refer to (B.dll in the example), load them first
and then load A.dll.

Is this assembly loading scheme something that the mono runtime may change
in future so that it behaves similar to MS.Net?

TIA
Vivek

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007604.html">[Mono-devel-list] ASP.NET Page Life Cycle || Bug ?
</A></li>
	<LI>Next message: <A HREF="007605.html">[Mono-devel-list] GTK# and MyXAML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7602">[ date ]</a>
              <a href="thread.html#7602">[ thread ]</a>
              <a href="subject.html#7602">[ subject ]</a>
              <a href="author.html#7602">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
