<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Fw: [Mono-dev] Solaris and 1.1.9 again... help needed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Fw%3A%20%5BMono-dev%5D%20Solaris%20and%201.1.9%20again...%20help%20needed&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015101.html">
   <LINK REL="Next"  HREF="015102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Fw: [Mono-dev] Solaris and 1.1.9 again... help needed</H1>
    <B>pablosantosluac at terra.es</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Fw%3A%20%5BMono-dev%5D%20Solaris%20and%201.1.9%20again...%20help%20needed&In-Reply-To="
       TITLE="Fw: [Mono-dev] Solaris and 1.1.9 again... help needed">pablosantosluac at terra.es
       </A><BR>
    <I>Sun Oct  2 16:55:56 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015101.html">[Mono-dev] [PATCH] fix for 64bit architectures, lib linker
</A></li>
        <LI>Next message: <A HREF="015102.html">[Mono-dev] Unable to create unix domain socket with mod-mono	underapache2 fc4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15099">[ date ]</a>
              <a href="thread.html#15099">[ thread ]</a>
              <a href="subject.html#15099">[ subject ]</a>
              <a href="author.html#15099">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

 Hi,

 Well, I would like to try, but maybe I would need some
 support/documentation/background...

 This &quot;problem&quot; in os_dep.c looks really like portability issue... I will 
try
 ... :-P

 pablo



&gt;<i> ----- Original Message ----- 
</I>&gt;<i> From: &quot;Zoltan Varga&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vargaz at gmail.com</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A>&gt;
</I>&gt;<i> Cc: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i> Sent: Sunday, October 02, 2005 6:16 PM
</I>&gt;<i> Subject: Re: [Mono-dev] Solaris and 1.1.9 again... help needed
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>                                        Hi,
</I>&gt;<i>
</I>&gt;<i>  As we said earlier, the solaris x86 port of mono is not maintained
</I>&gt;<i> by anyone, and
</I>&gt;<i> it is likely broken. Someone with the neccessary technical skills needs to
</I>&gt;<i> resurrect it.
</I>&gt;<i>
</I>&gt;<i>                             Zoltan
</I>&gt;<i>
</I>&gt;<i> On 10/2/05, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A>&gt; wrote:
</I>&gt;&gt;<i> Hi again,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Copied the monocharge files to /usr/local/lib/mono/1.0 and it went a bit
</I>&gt;&gt;<i> further...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It doesn't complain about the version anymore... now it simply crashes...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I run it with gdb and got the following output. I don't know whether it
</I>&gt;&gt;<i> could be
</I>&gt;&gt;<i> related to the problem I always have trying to compile the libraries from
</I>&gt;&gt;<i> source...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> bash-2.05b$ gdb ./mono
</I>&gt;&gt;<i> GNU gdb 6.3
</I>&gt;&gt;<i> Copyright 2004 Free Software Foundation, Inc.
</I>&gt;&gt;<i> GDB is free software, covered by the GNU General Public License, and you 
</I>&gt;&gt;<i> are
</I>&gt;&gt;<i> welcome to change it and/or distribute copies of it under certain
</I>&gt;&gt;<i> conditions.
</I>&gt;&gt;<i> Type &quot;show copying&quot; to see the conditions.
</I>&gt;&gt;<i> There is absolutely no warranty for GDB.  Type &quot;show warranty&quot; for 
</I>&gt;&gt;<i> details.
</I>&gt;&gt;<i> This GDB was configured as &quot;i386-pc-solaris2.10&quot;...
</I>&gt;&gt;<i> (gdb) run mcs.exe
</I>&gt;&gt;<i> Starting program: /home/pablo/monoinstall/monocharge-20050930/1.0/mono
</I>&gt;&gt;<i> mcs.exe
</I>&gt;&gt;<i> warning: Lowest section in /usr/lib/libthread.so.1 is .dynamic at 
</I>&gt;&gt;<i> 00000074
</I>&gt;&gt;<i> warning: Lowest section in /usr/lib/libpthread.so.1 is .dynamic at 
</I>&gt;&gt;<i> 00000074
</I>&gt;&gt;<i> [New LWP 1]
</I>&gt;&gt;<i> [New LWP 2]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Program received signal SIGSEGV, Segmentation fault.
</I>&gt;&gt;<i> 0x08102e1a in GC_SysVGetDataStart (max_page_size=4096,
</I>&gt;&gt;<i> etext_addr=0x81a9340) at os_dep.c:1373
</I>&gt;&gt;<i> 1373            *result = *result;
</I>&gt;&gt;<i> (gdb) bt
</I>&gt;&gt;<i> #0  0x08102e1a in GC_SysVGetDataStart (max_page_size=4096,
</I>&gt;&gt;<i> etext_addr=0x81a9340) at os_dep.c:1373
</I>&gt;&gt;<i> #1  0x08102e6b in GC_register_data_segments () at os_dep.c:1443
</I>&gt;&gt;<i> #2  0x08102064 in GC_init_inner () at misc.c:727
</I>&gt;&gt;<i> #3  0x08101cd1 in GC_init () at misc.c:492
</I>&gt;&gt;<i> #4  0x081223ac in mini_init (filename=0x80474f5 &quot;mcs.exe&quot;) at 
</I>&gt;&gt;<i> mini.c:10159
</I>&gt;&gt;<i> #5  0x080718a1 in mono_main (argc=2, argv=0x804737c) at driver.c:846
</I>&gt;&gt;<i> #6  0x08070b6b in main (argc=2, argv=0x804737c) at main.c:6
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ----- Original Message -----
</I>&gt;&gt;<i> From: &quot;Zoltan Varga&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vargaz at gmail.com</A>&gt;
</I>&gt;&gt;<i> To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A>&gt;
</I>&gt;&gt;<i> Cc: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;&gt;<i> Sent: Sunday, October 02, 2005 2:44 PM
</I>&gt;&gt;<i> Subject: Re: [Mono-dev] Solaris and 1.1.9 again... help needed
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>                                               Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    Try copying the contents of the monocharge to the directory where
</I>&gt;&gt;<i> mono should be
</I>&gt;&gt;<i> installed, ie. mscorlib.dll should end up in &lt;prefix&gt;/lib/mono/1.0, ie
</I>&gt;&gt;<i> /usr/local/lib/mono/1.0.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>             Zoltan
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 10/2/05, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; Hi again,
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I'm still trying to get 1.1.9 running on Solaris.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I've uninstalled 1.0.6, the last one I was able to compile and install
</I>&gt;&gt;<i> &gt; from
</I>&gt;&gt;<i> &gt; sources.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Well, now I've tried the following:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; - downloaded the latest sources (Sept 30)
</I>&gt;&gt;<i> &gt; - downloaded latest monocharge
</I>&gt;&gt;<i> &gt; - compiled mono (mono/mini/mono) from source, it seems to work
</I>&gt;&gt;<i> &gt; - then I tried to run mcs.exe from monocharge using the compiled mono. 
</I>&gt;&gt;<i> &gt; But
</I>&gt;&gt;<i> &gt; I
</I>&gt;&gt;<i> &gt; get a version mismatch error...
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Using monodis I can check that mscorlib.dll is version 41 (0x29), and
</I>&gt;&gt;<i> &gt; checking appdomain.c I get the same number for mono... (and the error
</I>&gt;&gt;<i> &gt; message also tells me that).
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; What I am doing wrong? :-(
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Here comes the output:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; $ uname -a
</I>&gt;&gt;<i> &gt; SunOS solaris10 5.10 s10_72 i86pc i386 i86pc
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; $ pwd
</I>&gt;&gt;<i> &gt; /home/pablo/monoinstall/monocharge-20050930/1.0
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; $ ../../mono-1.1.9.20050930/mono/dis/monodis ./mscorlib.dll | grep
</I>&gt;&gt;<i> &gt; corlib_version
</I>&gt;&gt;<i> &gt;     .field private static  literal   int32 mono_corlib_version =
</I>&gt;&gt;<i> &gt; int32(0x00000029)
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; $ ../../mono-1.1.9.20050930/mono/mini/mono mcs.exe --version
</I>&gt;&gt;<i> &gt; Corlib not in sync with this runtime: expected corlib version 41, found
</I>&gt;&gt;<i> &gt; 40.
</I>&gt;&gt;<i> &gt; Download a newer corlib or a newer runtime at
</I>&gt;&gt;<i> &gt; <A HREF="http://www.go-mono.com/daily.">http://www.go-mono.com/daily.</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; $ ../../mono-1.1.9.20050930/mono/mini/mono --version
</I>&gt;&gt;<i> &gt; Mono JIT compiler version 1.1.9.20050930, (C) 2002-2005 Novell, Inc
</I>&gt;&gt;<i> &gt; and Contributors. www.mono-project.com
</I>&gt;&gt;<i> &gt;         TLS:           normal
</I>&gt;&gt;<i> &gt;         GC:            Included Boehm (with typed GC)
</I>&gt;&gt;<i> &gt;         SIGSEGV      : normal
</I>&gt;&gt;<i> &gt;         Globalization: normal
</I>&gt;&gt;<i> &gt; $
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015101.html">[Mono-dev] [PATCH] fix for 64bit architectures, lib linker
</A></li>
	<LI>Next message: <A HREF="015102.html">[Mono-dev] Unable to create unix domain socket with mod-mono	underapache2 fc4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15099">[ date ]</a>
              <a href="thread.html#15099">[ thread ]</a>
              <a href="subject.html#15099">[ subject ]</a>
              <a href="author.html#15099">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
