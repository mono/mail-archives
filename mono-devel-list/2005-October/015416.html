<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Int32.Parse
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Int32.Parse&In-Reply-To=1129796766.4363.9.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015415.html">
   <LINK REL="Next"  HREF="015423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Int32.Parse</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Int32.Parse&In-Reply-To=1129796766.4363.9.camel%40localhost.localdomain"
       TITLE="[Mono-dev] [PATCH] Int32.Parse">vargaz at gmail.com
       </A><BR>
    <I>Thu Oct 20 07:06:20 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015415.html">[Mono-dev] [PATCH] Int32.Parse
</A></li>
        <LI>Next message: <A HREF="015423.html">[Mono-dev] [PATCH] Int32.Parse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15416">[ date ]</a>
              <a href="thread.html#15416">[ thread ]</a>
              <a href="subject.html#15416">[ subject ]</a>
              <a href="author.html#15416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>                                                    Hi,

  I think it would be a little bit easier to return the actual
exception to be thrown from the
TryParse methods as an out argument, instead of adding this
abstraction layer which
cannot return more helpful exceptions messages like &quot;Number '123' is
not valid&quot;. We should
also retain the tryParse argument so these exception objects are not
creared if it is true.

So for example:

internal bool Parse (String number, bool tryParse, out int result, out
Exception ex)
{
...
   if (something_is_wrong) {
          if (!tryParse)
             ex = new ArgumentException (&quot;....&quot;);
             return false;
   }

                          Zoltan

On 10/20/05, Carlos Alberto Cortez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">calberto.cortez at gmail.com</A>&gt; wrote:
&gt;<i> Hey,
</I>&gt;<i>
</I>&gt;<i> Currently the Int32.TryParse method calls the Int32.Parse method, and
</I>&gt;<i> catches the exceptions. That's not the best behaviour, since
</I>&gt;<i> Int32.TryParse is designed to avoid the performance problems associated
</I>&gt;<i> with exception handling.
</I>&gt;<i>
</I>&gt;<i> The attached patch proposes an approach to keep the result of the
</I>&gt;<i> parsing as an enum, and based on it the methods decide whether they
</I>&gt;<i> throw an exception or not.
</I>&gt;<i>
</I>&gt;<i> I wanted you to take a look at it, since we need to decide the best
</I>&gt;<i> solution for this before changing the TryParse/Parse methods in other
</I>&gt;<i> types.
</I>&gt;<i>
</I>&gt;<i> Carlos.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015415.html">[Mono-dev] [PATCH] Int32.Parse
</A></li>
	<LI>Next message: <A HREF="015423.html">[Mono-dev] [PATCH] Int32.Parse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15416">[ date ]</a>
              <a href="thread.html#15416">[ thread ]</a>
              <a href="subject.html#15416">[ subject ]</a>
              <a href="author.html#15416">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
