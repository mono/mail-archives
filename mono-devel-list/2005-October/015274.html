<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Re: Mono/.NET interoperability of	System.Collections.Specialized
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20Mono/.NET%20interoperability%20of%0A%09System.Collections.Specialized&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015454.html">
   <LINK REL="Next"  HREF="015275.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Re: Mono/.NET interoperability of	System.Collections.Specialized</H1>
    <B>Svetlana Zholkovsky</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20Mono/.NET%20interoperability%20of%0A%09System.Collections.Specialized&In-Reply-To="
       TITLE="[Mono-dev] Re: Mono/.NET interoperability of	System.Collections.Specialized">svetlanaz at mainsoft.com
       </A><BR>
    <I>Mon Oct 10 07:06:56 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015454.html">[Mono-dev] [PATCH] Use Encoding.Default as the default code page	formcs
</A></li>
        <LI>Next message: <A HREF="015275.html">[Mono-dev] Re: Mono/.NET interoperability of	System.Collections.Specialized
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15274">[ date ]</a>
              <a href="thread.html#15274">[ thread ]</a>
              <a href="subject.html#15274">[ subject ]</a>
              <a href="author.html#15274">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Bug 76235:
</I>&gt;<i> ------- Additional Comments From Robert Jordan 2005-10-09 22:09
</I>-------
&gt;<i> You cannot simply add ISerializable to the inheritance
</I>&gt;<i> list of ListDictionary and HybridDictionary, because
</I>&gt;<i> it breaks the API compatibility with MSFT's runtime.
</I>
Hi all,
The compatibility of the inner representation of the Mono and .NET
classes is very important, and, in some cases, we need to break API
compatibility to achieve it. If a class is not implement ISerializable
interface and it has different from .NET inner structure, we have a
problem with interoperability, specially in remoting, where the server
and the client can run on different machines with different runtimes.
This problem raises not only in the System.Collection.Specialized
namespace, and we should make a global decision about an our behavior in
this case.
For example, one of the possible solutions is to add some new attribute
to the Serializable class (for instance,
MonoSerializationCompatibilityAttribute) and the Mono runtime will treat
such class in the same manner as ISerializable, but outside to the
clients the class will be seen as regular serializable class according
to the .NET API. This solution requires changes in the Mono's runtime.
Another possibility is to change implementation of the class to be fully
compatible with implementation in .NET. In the HybridDictionary class,
for example, we should return the previous version of the class and
treat Hashtable and List as two separate fields. Another alternative is
to break the API compatibility and implement the ISerializable interface
to manage the serialization info, as I made.
What strategy is appropriate? Any other ideas?

Thanks,
Svetlana

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015454.html">[Mono-dev] [PATCH] Use Encoding.Default as the default code page	formcs
</A></li>
	<LI>Next message: <A HREF="015275.html">[Mono-dev] Re: Mono/.NET interoperability of	System.Collections.Specialized
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15274">[ date ]</a>
              <a href="thread.html#15274">[ thread ]</a>
              <a href="subject.html#15274">[ subject ]</a>
              <a href="author.html#15274">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
