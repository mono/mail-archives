<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Re: ImageList patches r51171 and r51889 are not	compatible with MS.NET behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20ImageList%20patches%20r51171%20and%20r51889%20are%20not%0A%09compatible%20with%20MS.NET%20behaviour&In-Reply-To=008b01c5d48c%24f949f210%240100a8c0%40kornelpal.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015394.html">
   <LINK REL="Next"  HREF="015398.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Re: ImageList patches r51171 and r51889 are not	compatible with MS.NET behaviour</H1>
    <B>Jackson Harper</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20ImageList%20patches%20r51171%20and%20r51889%20are%20not%0A%09compatible%20with%20MS.NET%20behaviour&In-Reply-To=008b01c5d48c%24f949f210%240100a8c0%40kornelpal.hu"
       TITLE="[Mono-dev] Re: ImageList patches r51171 and r51889 are not	compatible with MS.NET behaviour">jackson at ximian.com
       </A><BR>
    <I>Wed Oct 19 12:27:24 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015394.html">[Mono-dev] ImageList patches r51171 and r51889 are not compatible	with MS.NET behaviour
</A></li>
        <LI>Next message: <A HREF="015398.html">[Mono-dev] Re: ImageList patches r51171 and r51889 are	notcompatible with MS.NET behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15397">[ date ]</a>
              <a href="thread.html#15397">[ thread ]</a>
              <a href="subject.html#15397">[ subject ]</a>
              <a href="author.html#15397">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2005-10-19 at 11:10 +0200, Korn&#233;l P&#225;l wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> MS.NET ImageList creates handle when you first time retrieve or draw any of
</I>&gt;<i> it's images. Until that is stores the original image object, after handle
</I>&gt;<i> creation it uses a native ImageList. It applies size and color depth when
</I>&gt;<i> handle is created. (This is documented in ImageList.cs.)
</I>&gt;<i> 
</I>&gt;<i> After handle is created modifying ColorDepth or ImageSize results in handle
</I>&gt;<i> recreation and the loss of all images.
</I>&gt;<i> 
</I>&gt;<i> As we don't create any handle at all I decided to create it when images are
</I>&gt;<i> added and apply size and colordepth when handle is created in other words
</I>&gt;<i> when they are added.
</I>&gt;<i> 
</I>&gt;<i> Patches r51171 and r51889 are not compatible with MS.NET behaviour as they
</I>&gt;<i> don't clear images after handle was created so these modifications should
</I>&gt;<i> not be preserved.
</I>
Well what you had broke an existing application that runs fine on
MS.NET, so you aren't entirely right.  I'm writing a test application
now to find out when the images are cleared.

Jackson


&gt;<i> I belive that caching the images until using them is a bad idea as we don't
</I>&gt;<i> use any native image list and doing time consuming operations at
</I>&gt;<i> initializaion is better as if you create an ImageList you do it because you
</I>&gt;<i> want to access the images.
</I>&gt;<i> 
</I>&gt;<i> If you think caching before handle creation behaviour is important after
</I>&gt;<i> considering the above things please let me know and I will implement that
</I>&gt;<i> behaviour.
</I>&gt;<i> 
</I>&gt;<i> Korn&#233;l
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015394.html">[Mono-dev] ImageList patches r51171 and r51889 are not compatible	with MS.NET behaviour
</A></li>
	<LI>Next message: <A HREF="015398.html">[Mono-dev] Re: ImageList patches r51171 and r51889 are	notcompatible with MS.NET behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15397">[ date ]</a>
              <a href="thread.html#15397">[ thread ]</a>
              <a href="subject.html#15397">[ subject ]</a>
              <a href="author.html#15397">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
