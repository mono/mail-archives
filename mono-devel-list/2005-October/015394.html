<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] ImageList patches r51171 and r51889 are not compatible	with MS.NET behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20ImageList%20patches%20r51171%20and%20r51889%20are%20not%20compatible%0A%09with%20MS.NET%20behaviour&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015391.html">
   <LINK REL="Next"  HREF="015397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] ImageList patches r51171 and r51889 are not compatible	with MS.NET behaviour</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20ImageList%20patches%20r51171%20and%20r51889%20are%20not%20compatible%0A%09with%20MS.NET%20behaviour&In-Reply-To="
       TITLE="[Mono-dev] ImageList patches r51171 and r51889 are not compatible	with MS.NET behaviour">kornelpal at hotmail.com
       </A><BR>
    <I>Wed Oct 19 05:10:26 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015391.html">[Mono-dev] mcs 1.1.9.1: Invalid IL bug
</A></li>
        <LI>Next message: <A HREF="015397.html">[Mono-dev] Re: ImageList patches r51171 and r51889 are not	compatible with MS.NET behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15394">[ date ]</a>
              <a href="thread.html#15394">[ thread ]</a>
              <a href="subject.html#15394">[ subject ]</a>
              <a href="author.html#15394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

MS.NET ImageList creates handle when you first time retrieve or draw any of
it's images. Until that is stores the original image object, after handle
creation it uses a native ImageList. It applies size and color depth when
handle is created. (This is documented in ImageList.cs.)

After handle is created modifying ColorDepth or ImageSize results in handle
recreation and the loss of all images.

As we don't create any handle at all I decided to create it when images are
added and apply size and colordepth when handle is created in other words
when they are added.

Patches r51171 and r51889 are not compatible with MS.NET behaviour as they
don't clear images after handle was created so these modifications should
not be preserved.

I belive that caching the images until using them is a bad idea as we don't
use any native image list and doing time consuming operations at
initializaion is better as if you create an ImageList you do it because you
want to access the images.

If you think caching before handle creation behaviour is important after
considering the above things please let me know and I will implement that
behaviour.

Korn&#233;l


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015391.html">[Mono-dev] mcs 1.1.9.1: Invalid IL bug
</A></li>
	<LI>Next message: <A HREF="015397.html">[Mono-dev] Re: ImageList patches r51171 and r51889 are not	compatible with MS.NET behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15394">[ date ]</a>
              <a href="thread.html#15394">[ thread ]</a>
              <a href="subject.html#15394">[ subject ]</a>
              <a href="author.html#15394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
