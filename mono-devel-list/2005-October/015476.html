<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Patch for	System.Runtime.Serialization.Formatters.Soap/SoapTypeMapper.cs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Patch%20for%0A%09System.Runtime.Serialization.Formatters.Soap/SoapTypeMapper.cs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015475.html">
   <LINK REL="Next"  HREF="015492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Patch for	System.Runtime.Serialization.Formatters.Soap/SoapTypeMapper.cs</H1>
    <B>Svetlana Zholkovsky</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Patch%20for%0A%09System.Runtime.Serialization.Formatters.Soap/SoapTypeMapper.cs&In-Reply-To="
       TITLE="[Mono-dev] Patch for	System.Runtime.Serialization.Formatters.Soap/SoapTypeMapper.cs">svetlanaz at mainsoft.com
       </A><BR>
    <I>Wed Oct 26 10:45:18 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015475.html">[Mono-dev] System.Data: SqlExpressions In.Equals patch
</A></li>
        <LI>Next message: <A HREF="015492.html">[Mono-dev] Patch for	System.Runtime.Serialization.Formatters.Soap/SoapTypeMapper.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15476">[ date ]</a>
              <a href="thread.html#15476">[ thread ]</a>
              <a href="subject.html#15476">[ subject ]</a>
              <a href="author.html#15476">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
I encountered two problems with the SoapTypeMapper class:

- First, in the deserialization of the MethodSignature element for the
overloaded method without parameters.
  In this case the xml element in the stream is empty and the
MethodSignature.ReadXmlValue method returns null 
  and the deserialization process fails in the further steps with
NullReferenceException.
  I changed the MethodSignature.ReadXmlValue method to return empty Type
array instead of null, and it fixed the problem.

- Second, in the interoperability with .NET during serialization of the
reference types that contain '&amp;' in the type name.
  The SoapTypeMapper.GetXmlElement method encodes the '&amp;' and .NET does
not understand the encoded name.
  I fixed the SoapTypeMapper.GetXmlElement method to exclude '&amp;' from
the encoded string.

Please, review the patches and let me know if I can commit them.

Thanks,
Svetlana.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: SoapTypeMapper.diff
Type: application/octet-stream
Size: 1164 bytes
Desc: SoapTypeMapper.diff
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20051026/069687dc/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20051026/069687dc/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015475.html">[Mono-dev] System.Data: SqlExpressions In.Equals patch
</A></li>
	<LI>Next message: <A HREF="015492.html">[Mono-dev] Patch for	System.Runtime.Serialization.Formatters.Soap/SoapTypeMapper.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15476">[ date ]</a>
              <a href="thread.html#15476">[ thread ]</a>
              <a href="subject.html#15476">[ subject ]</a>
              <a href="author.html#15476">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
