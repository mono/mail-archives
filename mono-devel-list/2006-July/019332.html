<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Could String constructors be redirected to managed	methods?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Could%20String%20constructors%20be%20redirected%20to%20managed%0A%09methods%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019349.html">
   <LINK REL="Next"  HREF="019333.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Could String constructors be redirected to managed	methods?</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Could%20String%20constructors%20be%20redirected%20to%20managed%0A%09methods%3F&In-Reply-To="
       TITLE="[Mono-dev] Could String constructors be redirected to managed	methods?">kornelpal at gmail.com
       </A><BR>
    <I>Mon Jul 10 11:51:55 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019349.html">[Mono-dev] strange #if NET_2_0 in HtmlInputControl
</A></li>
        <LI>Next message: <A HREF="019333.html">[Mono-dev] Could String constructors be redirected to managed	methods?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19332">[ date ]</a>
              <a href="thread.html#19332">[ thread ]</a>
              <a href="subject.html#19332">[ subject ]</a>
              <a href="author.html#19332">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

The following methods are currently implemented using unmanaged code:
unsafe public extern String (sbyte *value);
unsafe public extern String (sbyte *value, int startIndex, int length);
unsafe public extern String (sbyte *value, int startIndex, int length, 
Encoding enc);

They all should use Encoding classes (overloads without encoding parameters 
should use Encoding.Default). I think they could be implemented more easily 
and probably much faster using managed code.

I attached a patch draft that contains CreateString methods that should be 
called instead of unmanaged code to show an example why this could be easier 
and faster.

Is it possible to redirect these constructors to CreateString methods 
instead of unmanaged functions? If possible how could this be implemented?

Thanks for your help.

Korn&#233;l 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: String.diff
Type: application/octet-stream
Size: 1712 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060710/1fe9e4ad/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060710/1fe9e4ad/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019349.html">[Mono-dev] strange #if NET_2_0 in HtmlInputControl
</A></li>
	<LI>Next message: <A HREF="019333.html">[Mono-dev] Could String constructors be redirected to managed	methods?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19332">[ date ]</a>
              <a href="thread.html#19332">[ thread ]</a>
              <a href="subject.html#19332">[ subject ]</a>
              <a href="author.html#19332">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
