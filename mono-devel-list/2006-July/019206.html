<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Why do we need separate I18N assemblies?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Why%20do%20we%20need%20separate%20I18N%20assemblies%3F&In-Reply-To=001e01c69c83%248ddda5c0%246464a8c0%40ansirua">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019231.html">
   <LINK REL="Next"  HREF="019216.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Why do we need separate I18N assemblies?</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Why%20do%20we%20need%20separate%20I18N%20assemblies%3F&In-Reply-To=001e01c69c83%248ddda5c0%246464a8c0%40ansirua"
       TITLE="[Mono-dev] Why do we need separate I18N assemblies?">miguel at ximian.com
       </A><BR>
    <I>Sat Jul  1 12:24:43 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019231.html">[Mono-dev] genmdesc for MPC8xx
</A></li>
        <LI>Next message: <A HREF="019216.html">[Mono-dev] Why do we need separate I18N assemblies?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19206">[ date ]</a>
              <a href="thread.html#19206">[ thread ]</a>
              <a href="subject.html#19206">[ subject ]</a>
              <a href="author.html#19206">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> I think it would be worth it to try to remove the reflection overhead, 
</I>&gt;<i> because it is not just taking some time but also quite some amount of 
</I>&gt;<i> additional memory. Personally I would recommend to put the small encodings 
</I>&gt;<i> directly into corelib and the larger and seldom used ones in one or more 
</I>&gt;<i> additional assemblies that could be referenced without reflection and simply 
</I>&gt;<i> be deleted when not needed.
</I>
As you point out in one of your emails, I think it is worth fixing the
code that triggers the culture-dependent string compares in our class
libraries, they are likely not needed.

As for not using reflection, am afraid that even if we removed the use
of Reflection for the encodings, reflection will end up being triggered
anyways as too much code in Mono (in addition to standard .NET
practices) will trigger the reflection bits to be loaded.

Integrating the most commonly used encodings into corlib sounds like a
good idea, someone would have to prototype it and measure it.

&gt;<i> The overhead actually comes mostly from two places:
</I>&gt;<i> a) I18N
</I>&gt;<i> b) Globalisation
</I>&gt;<i> 
</I>&gt;<i> b is triggered because of String handling mistakes within corelib, however 
</I>&gt;<i> the biggest share in runtime is I18N (see textfile - 78 ms out of 93 ms 
</I>&gt;<i> total app time).
</I>
Thanks for looking at the problematic sources.    I like the idea of
fixing these issues, but am not sure that they will have a real effect
on applications.

The globalization code will likely be used shortly after, at least for
any non-trivial program.

Miguel

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019231.html">[Mono-dev] genmdesc for MPC8xx
</A></li>
	<LI>Next message: <A HREF="019216.html">[Mono-dev] Why do we need separate I18N assemblies?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19206">[ date ]</a>
              <a href="thread.html#19206">[ thread ]</a>
              <a href="subject.html#19206">[ subject ]</a>
              <a href="author.html#19206">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
