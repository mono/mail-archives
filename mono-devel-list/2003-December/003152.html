<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] About some object-drop actions (Finalizers and IDisposable)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20About%20some%20object-drop%20actions%20%28Finalizers%20and%20IDisposable%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003151.html">
   <LINK REL="Next"  HREF="003154.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] About some object-drop actions (Finalizers and IDisposable)</H1>
    <B>Chris Masters</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20About%20some%20object-drop%20actions%20%28Finalizers%20and%20IDisposable%29&In-Reply-To="
       TITLE="[Mono-devel-list] About some object-drop actions (Finalizers and IDisposable)">neeeeeep at bigpond.com
       </A><BR>
    <I>Mon Dec  1 20:22:17 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003151.html">[Mono-devel-list] About some object-drop actions (Finalizers and IDisposable)
</A></li>
        <LI>Next message: <A HREF="003154.html">[Mono-devel-list] About some object-drop actions (Finalizers and IDisposable)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3152">[ date ]</a>
              <a href="thread.html#3152">[ thread ]</a>
              <a href="subject.html#3152">[ subject ]</a>
              <a href="author.html#3152">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Would a C# using block acheive what you want? It calls dispose on the object
you specify upon exiting the using block. Or is this still too dependant on
the client for you?

using System;

public class App
{
     public static void Main()
     {
         using (SomeClass s = new SomeClass())
         {
              s.HelloWorld();
         }
     }
}

public class SomeClass : IDisposable
{
     public void HelloWorld()
     {
         Console.WriteLine(&quot;Hello World!&quot;);
     }
     public void Dispose()
     {
         Console.WriteLine(&quot;disposing!&quot;);
     }
}

GC.Collect would do it I suppose, but is bad to do explicitly in the .NET
framework as it promotes objects to the next gen if they aren't collectable,
but I guess thats not an issue in Mono since its not a generational GC atm.

Cheers,

Chris



----- Original Message ----- 
From: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">yoros at wanadoo.es</A>&gt;
To: &quot;mono-devel-list&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Sent: Tuesday, December 02, 2003 7:04 AM
Subject: [Mono-devel-list] About some object-drop actions (Finalizers and
IDisposable)


&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I need to do some tasks befor a class is freed (at least when the
</I>&gt;<i> application ends) but I don't want any client interaction (IDispose
</I>&gt;<i> needs to explicit notice when a class is never used). I have a few
</I>&gt;<i> singleton classes and I want to serialize internal objects but I don't
</I>&gt;<i> want to depend of the clients of these classes. Is there any other way
</I>&gt;<i> to ensure the Finalizer execution (with GC class or something...) ?
</I>&gt;<i>
</I>&gt;<i> Thank you,
</I>&gt;<i>
</I>&gt;<i>     Pedro
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Pedro Mart&#237;nez Juli&#225;
</I>&gt;<i> \  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">yoros at terra.es</A>
</I>&gt;<i> )|    <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">yoros at wanadoo.es</A>
</I>&gt;<i> /        <A HREF="http://yoros.dyndns.org">http://yoros.dyndns.org</A>
</I>&gt;<i> Socio HispaLinux #311
</I>&gt;<i> Usuario Linux #275438 - <A HREF="http://counter.li.org">http://counter.li.org</A>
</I>&gt;<i> GnuPG public information:  pub  1024D/74F1D3AC
</I>&gt;<i> Key fingerprint = 8431 7B47 D2B4 5A46 5F8E  534F 588B E285 74F1 D3AC
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003151.html">[Mono-devel-list] About some object-drop actions (Finalizers and IDisposable)
</A></li>
	<LI>Next message: <A HREF="003154.html">[Mono-devel-list] About some object-drop actions (Finalizers and IDisposable)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3152">[ date ]</a>
              <a href="thread.html#3152">[ thread ]</a>
              <a href="subject.html#3152">[ subject ]</a>
              <a href="author.html#3152">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
