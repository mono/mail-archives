<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] String compare changes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20String%20compare%20changes&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003177.html">
   <LINK REL="Next"  HREF="003186.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] String compare changes</H1>
    <B>Bernie Solomon</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20String%20compare%20changes&In-Reply-To="
       TITLE="[Mono-devel-list] String compare changes">bernard at ugsolutions.com
       </A><BR>
    <I>Tue Dec  2 19:47:23 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003177.html">[Mono-devel-list] Fail install in yellowdog 3.0
</A></li>
        <LI>Next message: <A HREF="003186.html">[Mono-devel-list] String compare changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3172">[ date ]</a>
              <a href="thread.html#3172">[ thread ]</a>
              <a href="subject.html#3172">[ subject ]</a>
              <a href="author.html#3172">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I haven't been able to do much for a bit so catching up on changes... in the
latest
code there seems to be a problem with IndexOf when using ICU.
In particular Reflection.Emit.TypeBuilder does an IndexOf((char)0) which
generates a warning message from locales.c. I am not sure what the right
way of handling this is as yet from what I've looked at (and I am not
sure if the icu stuff handles embedded nulls - though MS's implementation
seems to).

Also the code seems to do some (in my view) unnecessary conversions
from the mono string format to UChar which could be more efficient.

I believe UChar == gunichar2 == platform endian unicode character
so none of these conversions are necessary and pointers into the
MonoString itself can be used to feed into the collation routines. (UChar
is documented as 16 bit and I presume gunichar2 is too).

Anyway that's what I've noticed - and it looks like this needs something
doing to it (thought I'd email this early though will see what might
be possible as I get time if it isn't fixed already...)

Bernie Solomon


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003177.html">[Mono-devel-list] Fail install in yellowdog 3.0
</A></li>
	<LI>Next message: <A HREF="003186.html">[Mono-devel-list] String compare changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3172">[ date ]</a>
              <a href="thread.html#3172">[ thread ]</a>
              <a href="subject.html#3172">[ subject ]</a>
              <a href="author.html#3172">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
