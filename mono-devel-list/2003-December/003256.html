<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: [Mono-list] How to maintain values in a HtmlSelect when modifying the content with javascript ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20%5BMono-list%5D%20How%20to%20maintain%20values%20in%20a%20HtmlSelect%20when%20modifying%20the%20content%20with%20javascript%20%3F&In-Reply-To=EDC0020EA5151F4E94E81CBE34ACAE980B6ECB%40sydneydc2">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003255.html">
   <LINK REL="Next"  HREF="003262.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: [Mono-list] How to maintain values in a HtmlSelect when modifying the content with javascript ?</H1>
    <B>Tiago Lima</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20%5BMono-list%5D%20How%20to%20maintain%20values%20in%20a%20HtmlSelect%20when%20modifying%20the%20content%20with%20javascript%20%3F&In-Reply-To=EDC0020EA5151F4E94E81CBE34ACAE980B6ECB%40sydneydc2"
       TITLE="[Mono-devel-list] Re: [Mono-list] How to maintain values in a HtmlSelect when modifying the content with javascript ?">tiago.lima at vianw.pt
       </A><BR>
    <I>Fri Dec 12 07:59:00 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003255.html">[Mono-devel-list] RE: [Mono-list] How to maintain values in a HtmlSelect when modifying the content with javascript ?
</A></li>
        <LI>Next message: <A HREF="003262.html">[Mono-devel-list] RE: [Mono-list] How to maintain values in a HtmlSelect when modifying the content with javascript ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3256">[ date ]</a>
              <a href="thread.html#3256">[ thread ]</a>
              <a href="subject.html#3256">[ subject ]</a>
              <a href="author.html#3256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Ok, I tried with the DropDownList but It appears that the elements I add in 
javascript are not &quot;added&quot; when I post the page with the result. Perhaps 
meaning that the DropDownList doesnt add the elements on postback... ?

I have to note that I add DropDownList's on PageLoad...
So, I would like to know if I add a new one on PageLoad, just like I do with 
for example the TextBoxes, It can keep the state comming from the posted 
page... (the number of controls and the controls are the same in the posted 
page and the created page on PageLoad...) I dont know if you understand what 
I mean...

Best regards,
	Tiago Lima

On Thursday 11 December 2003 23:37, John BouAntoun wrote:
&gt;<i> I suggest looking at the samples in the xsp project for drop down list.
</I>&gt;<i>
</I>&gt;<i> If you are wanting to work with any html form controls on both the server
</I>&gt;<i> side (C#) and the client side (javascript) then you really should look at
</I>&gt;<i> using controls in the System.Web.UI.WebControls namespace and not the
</I>&gt;<i> System.Web.UI.HtmlControls.
</I>&gt;<i>
</I>&gt;<i> Controls in the System.Web.UI.WebControls namespace still render to the
</I>&gt;<i> page as normal html form controls, so you should be able to access them
</I>&gt;<i> using javascript on the client.
</I>&gt;<i>
</I>&gt;<i> A good tip to keep in mind when using javascript on
</I>&gt;<i> System.Web.UI.WebControls, is that each control has a ClientID property
</I>&gt;<i> that is the string value of the client side control's id.
</I>&gt;<i>
</I>&gt;<i> So if you had a drowdown list called listbox1, when writing javascript to
</I>&gt;<i> the page you would do something like this:
</I>&gt;<i>
</I>&gt;<i> private void PageLoad()
</I>&gt;<i> {
</I>&gt;<i> 	if(!IsPostback)
</I>&gt;<i> 	{
</I>&gt;<i> 		// build the client script to display the client side select item from
</I>&gt;<i> the listbox1 object clientscript = &quot;&lt;script&gt;alert('this is the client side
</I>&gt;<i> list box control: ' + &quot;; clientscript += &quot;document.getElementById('&quot;
</I>&gt;<i> 		clientscript += listbox1.ClientID
</I>&gt;<i> 		clientscript += @&quot;'));&lt;/script&gt;&quot;;
</I>&gt;<i>
</I>&gt;<i> 		// register this script to run once the program has started
</I>&gt;<i> 		Page.RegisterStartupScript(&quot;listbox1&quot;, clientscript);
</I>&gt;<i>
</I>&gt;<i> 	}
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Hopefully that example shows you how interactions between client and server
</I>&gt;<i> side work.
</I>&gt;<i>
</I>&gt;<i> JBA
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Tiago Lima [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">tiago.lima at vianw.pt</A>]
</I>&gt;<i> Sent: Friday, 12 December 2003 10:15 AM
</I>&gt;<i> To: John BouAntoun; mono-devel mailing list; mono-list mailing list
</I>&gt;<i> Subject: Re: [Mono-list] How to maintain values in a HtmlSelect when
</I>&gt;<i> modifying the content with javascript ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks, I will see that..
</I>&gt;<i>
</I>&gt;<i> But in that case, how do I handle that in javascript, just like a &lt;select&gt;?
</I>&gt;<i>
</I>&gt;<i> 	Tiago Lima
</I>&gt;<i>
</I>&gt;<i> On Thursday 11 December 2003 23:06, John BouAntoun wrote:
</I>&gt;<i> &gt; Tiago,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you want to use the equivalent of a Html Select element, that is able
</I>&gt;<i> &gt; to have it's values handle in C# on the server (i.e. on page load and
</I>&gt;<i> &gt; after a postback etc) then why not simply use the
</I>&gt;<i> &gt; System.Web.UI.WebControls.DropdownList item?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You can bind the dropdown list option elements to records in a dataview
</I>&gt;<i> &gt; or dataset and you can also get / set the selected index.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm pretty sure that's what you are looking for.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; JBA
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Tiago Lima [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">tiago.lima at vianw.pt</A>]
</I>&gt;<i> &gt; Sent: Friday, 12 December 2003 10:00 AM
</I>&gt;<i> &gt; To: mono-devel mailing list; mono-list mailing list
</I>&gt;<i> &gt; Subject: [Mono-list] How to maintain values in a HtmlSelect when
</I>&gt;<i> &gt; modifying the content with javascript ?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I've a question regarding whether an HtmlSelect maintains the &quot;options&quot;
</I>&gt;<i> &gt; inside it when these options get modified in javascript. I dont know how
</I>&gt;<i> &gt; Microsoft .NET handles this...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have two HtmlSelects, one of them starts empty and the other one have
</I>&gt;<i> &gt; all the elements... The user moves around the elements from one to
</I>&gt;<i> &gt; another and then posts the result... I want to know the elements in the
</I>&gt;<i> &gt; first HtmlSelect... How do I do this?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If I select one of the elements in the first HtmlSelect then I get an
</I>&gt;<i> &gt; error:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; System.IndexOutOfRangeException: Array index is out of range
</I>&gt;<i> &gt; in [0x00074] (at /home/duncan/Mono/mcs/class/System.Web/
</I>&gt;<i> &gt; System.Web.UI.HtmlControls/HtmlSelect.cs:209)
</I>&gt;<i> &gt; System.Web.UI.HtmlControls.HtmlSelect:System.Web.UI.IPostBackDataHandler.
</I>&gt;<i> &gt;Lo adPostData (string,System.Collections.Specialized.NameValueCollection)
</I>&gt;<i> &gt; i
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; this is because the HtmlSelect has no elements in the beggining !
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is the System.Web.UI.WebControls.ListBox controls doing this?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks in advance,
</I>&gt;<i> &gt; 	Tiago Lima
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003255.html">[Mono-devel-list] RE: [Mono-list] How to maintain values in a HtmlSelect when modifying the content with javascript ?
</A></li>
	<LI>Next message: <A HREF="003262.html">[Mono-devel-list] RE: [Mono-list] How to maintain values in a HtmlSelect when modifying the content with javascript ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3256">[ date ]</a>
              <a href="thread.html#3256">[ thread ]</a>
              <a href="subject.html#3256">[ subject ]</a>
              <a href="author.html#3256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
