<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Data protection failed. ---&gt; System.UnauthorizedAccessException: Access to the path &quot;/usr/share/.mono/keypairs/
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20Data%20protection%20failed.%20---%3E%0A%20System.UnauthorizedAccessException%3A%20Access%20to%20the%20path%0A%20%22/usr/share/.mono/keypairs/&In-Reply-To=%3C1507384681.2544.4.camel%40interia.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="044524.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Data protection failed. ---&gt; System.UnauthorizedAccessException: Access to the path &quot;/usr/share/.mono/keypairs/</H1>
    <B>Jacek Rużyczka</B> 
    <A HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20Data%20protection%20failed.%20---%3E%0A%20System.UnauthorizedAccessException%3A%20Access%20to%20the%20path%0A%20%22/usr/share/.mono/keypairs/&In-Reply-To=%3C1507384681.2544.4.camel%40interia.pl%3E"
       TITLE="[Mono-dev] Data protection failed. ---&gt; System.UnauthorizedAccessException: Access to the path &quot;/usr/share/.mono/keypairs/">stacheldraht at interia.pl
       </A><BR>
    <I>Sat Oct  7 13:58:01 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="044524.html">[Mono-dev] Data protection failed. ---&gt; System.UnauthorizedAccessException: Access to the path &quot;/usr/share/.mono/keypairs/
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44525">[ date ]</a>
              <a href="thread.html#44525">[ thread ]</a>
              <a href="subject.html#44525">[ subject ]</a>
              <a href="author.html#44525">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

Am Samstag, den 07.10.2017, 17:36 +0530 schrieb nikhil sehgal:
&gt;<i> 
</I>&gt;<i> HI All ,
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; While calling
</I>ProtectedData.Protect(Encoding.Unicode.GetBytes(&quot;XXXXXXXXXXXXXXX&quot;),
null, DataProtectionScope.LocalMachine);
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; I am getting following error ....i am running my application under
</I>fast_cgi_mono+nginx and running as non root user..
&gt;<i> 
</I>&gt;<i> And following error is coming randomly not always.
</I>&gt;<i> 
</I>&gt;<i> I don't want to run my application as root user for Security reasons
</I>&gt;<i> .please advice
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; &gt; System.Security.Cryptography.CryptographicException: Data protection
</I>failed. ---&gt; System.UnauthorizedAccessException: Access to the path
&quot;/usr/share/.mono/keypairs/[1][98f3a7e3-0d6e-f432-8a18-
e1144b53633f][-1].xml&quot; is denied.
&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>I would say your error is not related to Mono, but to the access
privileges on your machine. Please look into the privilege settings of
the file which causes the error. If it looke somehow like -rw-------,
only root and nobody else can read and write it. Then you'll have to
change it to -rw-r--r--, so that an ordinary user can at least read it,
and retry.

A cleaner solution, however, would be to generate a separate keypair
for each user and store it in $HOME/.mono/keypairs, so that you won't
run into privilege issues.

Regards
Jacek Rużyczka

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-devel-list/attachments/20171007/469b2bad/attachment.html">http://lists.dot.net/pipermail/mono-devel-list/attachments/20171007/469b2bad/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="044524.html">[Mono-dev] Data protection failed. ---&gt; System.UnauthorizedAccessException: Access to the path &quot;/usr/share/.mono/keypairs/
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44525">[ date ]</a>
              <a href="thread.html#44525">[ thread ]</a>
              <a href="subject.html#44525">[ subject ]</a>
              <a href="author.html#44525">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
