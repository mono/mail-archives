<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Not sure if this is a bug or my env
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Not%20sure%20if%20this%20is%20a%20bug%20or%20my%20env&In-Reply-To=%3C450D4EFC-C755-4B6C-B726-443F7EAF851D%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039624.html">
   <LINK REL="Next"  HREF="039632.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Not sure if this is a bug or my env</H1>
    <B>Robert Wilkens</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Not%20sure%20if%20this%20is%20a%20bug%20or%20my%20env&In-Reply-To=%3C450D4EFC-C755-4B6C-B726-443F7EAF851D%40gmail.com%3E"
       TITLE="[Mono-dev] Not sure if this is a bug or my env">robwilkens at gmail.com
       </A><BR>
    <I>Wed Sep 26 19:40:50 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="039624.html">[Mono-dev] FW: Issue after I update to MonoTouch 6 and IOS 6	simiulator
</A></li>
        <LI>Next message: <A HREF="039632.html">[Mono-dev] Saving registers in runtime op code implementations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39631">[ date ]</a>
              <a href="thread.html#39631">[ thread ]</a>
              <a href="subject.html#39631">[ subject ]</a>
              <a href="author.html#39631">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I just acquired a new mac notebook this week, and tried creating a simple app as shown below in test.cs - which i am just doing in a hurry to test my mono built from mono-master (latest, if i did it right)&#8230;

It crashes immediately on run..  

If I run it against mono 2.10.9 it just seems to freeze and not create a window but not crash or exit either...

Is it likely that something is wrong with my environment, or is this a bug?  Or is it just bad code that i slopped together in a hurry causing this?

I know i did a patch about 4 months ago that affected XPlatUICarbon, but i think that patch was reverted, so i don't think i broke this if it is indeed broken, it doesn't look like the area of code that i was touching back then.

@ cat test.cs
using System.Windows.Forms;

class test {

	public static void Main() {	
		Form fm1 = new Form();
		TextBox Tb1 = new TextBox();
		Tb1.Text=&quot;text&quot;;
		Tb1.Location = new System.Drawing.Point(10,10);
		Tb1.Size=new System.Drawing.Size(80,20);
		
		fm1.Controls.Add(Tb1);
		Application.Run(fm1);
	}
}


[mono] ~/sample @ mono test.exe
Stacktrace:

  at &lt;unknown&gt; &lt;0xffffffff&gt;
  at (wrapper managed-to-native) System.Windows.Forms.XplatUICarbon.CGDisplayBounds (intptr) &lt;0xffffffff&gt;
  at System.Windows.Forms.XplatUICarbon.get_WorkingArea () &lt;0x00035&gt;
  at System.Windows.Forms.XplatUICarbon.get_VirtualScreen () &lt;0x00020&gt;
  at System.Windows.Forms.XplatUI.get_VirtualScreen () &lt;0x00025&gt;
  at System.Windows.Forms.SystemInformation.get_VirtualScreen () &lt;0x00019&gt;
  at System.Windows.Forms.Screen..cctor () &lt;0x0003f&gt;
  at (wrapper runtime-invoke) object.runtime_invoke_void (object,intptr,intptr,intptr) &lt;0xffffffff&gt;
  at &lt;unknown&gt; &lt;0xffffffff&gt;
  at System.Windows.Forms.Hwnd.GetNextStackedFormLocation (System.Windows.Forms.CreateParams,System.Windows.Forms.Hwnd) &lt;0x00168&gt;
  at System.Windows.Forms.XplatUICarbon.CreateWindow (System.Windows.Forms.CreateParams) &lt;0x0041e&gt;
  at System.Windows.Forms.XplatUI.CreateWindow (System.Windows.Forms.CreateParams) &lt;0x00024&gt;
  at System.Windows.Forms.NativeWindow.CreateHandle (System.Windows.Forms.CreateParams) &lt;0x00044&gt;
  at System.Windows.Forms.Control.CreateHandle () &lt;0x00078&gt;
  at System.Windows.Forms.Form.CreateHandle () &lt;0x00023&gt;
  at System.Windows.Forms.Control.CreateControl () &lt;0x00097&gt;
  at System.Windows.Forms.Control.SetVisibleCore (bool) &lt;0x000ac&gt;
  at System.Windows.Forms.Form.SetVisibleCore (bool) &lt;0x00386&gt;
  at System.Windows.Forms.Control.set_Visible (bool) &lt;0x00032&gt;
  at (wrapper remoting-invoke-with-check) System.Windows.Forms.Control.set_Visible (bool) &lt;0xffffffff&gt;
  at System.Windows.Forms.Application.RunLoop (bool,System.Windows.Forms.ApplicationContext) &lt;0x00366&gt;
  at System.Windows.Forms.Application.Run (System.Windows.Forms.ApplicationContext) &lt;0x0006f&gt;
  at System.Windows.Forms.Application.Run (System.Windows.Forms.Form) &lt;0x00049&gt;
  at test.Main () &lt;0x0015c&gt;
  at (wrapper runtime-invoke) object.runtime_invoke_void (object,intptr,intptr,intptr) &lt;0xffffffff&gt;

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039624.html">[Mono-dev] FW: Issue after I update to MonoTouch 6 and IOS 6	simiulator
</A></li>
	<LI>Next message: <A HREF="039632.html">[Mono-dev] Saving registers in runtime op code implementations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39631">[ date ]</a>
              <a href="thread.html#39631">[ thread ]</a>
              <a href="subject.html#39631">[ subject ]</a>
              <a href="author.html#39631">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
