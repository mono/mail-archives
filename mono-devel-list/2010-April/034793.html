<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] New performance counter in Mono to report physical memory size in the machine
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20New%20performance%20counter%20in%20Mono%20to%20report%20physical%0A%20memory%20size%20in%20the%20machine&In-Reply-To=1271556889421-2014604.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034792.html">
   <LINK REL="Next"  HREF="034798.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] New performance counter in Mono to report physical memory size in the machine</H1>
    <B>Jay R. Wren</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20New%20performance%20counter%20in%20Mono%20to%20report%20physical%0A%20memory%20size%20in%20the%20machine&In-Reply-To=1271556889421-2014604.post%40n4.nabble.com"
       TITLE="[Mono-dev] New performance counter in Mono to report physical memory size in the machine">jrwren at xmtp.net
       </A><BR>
    <I>Sun Apr 18 08:00:04 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="034792.html">[Mono-dev] New performance counter in Mono to report physical memory size in the machine
</A></li>
        <LI>Next message: <A HREF="034798.html">[Mono-dev] New performance counter in Mono to report physical memory size in the machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34793">[ date ]</a>
              <a href="thread.html#34793">[ thread ]</a>
              <a href="subject.html#34793">[ subject ]</a>
              <a href="author.html#34793">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Confirmed, the constructor throws InvalidOperationException with a
message of &quot;Category does not exist.&quot; on .NET 4.

The code you pasted falls through to &quot;Cannot detect Physical RAM&quot;.

It is not a big deal, but it is something of which people should be aware.
--
Jay

On 4/17/2010 10:14 PM, jmalcolm wrote:
&gt;<i> Thanks Marek,
</I>&gt;<i>
</I>&gt;<i> Does this live in System.Diagnostics?
</I>&gt;<i>
</I>&gt;<i> Does this mean that the code you posted would fail on Microsoft.NET with an
</I>&gt;<i> InvalidOperationException?
</I>&gt;<i>
</I>&gt;<i> System.Diagnostics seems like the place Microsoft should have put it.  I am
</I>&gt;<i> just surprised to see a Mono extension that does not have it's own assembly
</I>&gt;<i> or namespace.  There are probably more that I have managed to miss or simply
</I>&gt;<i> forgotten about.
</I>&gt;<i>
</I>&gt;<i> Would something like the following be portable?
</I>&gt;<i>
</I>&gt;<i> --- CUT ---
</I>&gt;<i> using System;
</I>&gt;<i> using System.Diagnostics;
</I>&gt;<i>
</I>&gt;<i> class app
</I>&gt;<i> {
</I>&gt;<i>    static void Main ()
</I>&gt;<i>    {
</I>&gt;<i>        if (PerformanceCounterCategory.Exists(&quot;Mono Memory&quot;))
</I>&gt;<i>        {
</I>&gt;<i>             var pc = new PerformanceCounter (&quot;Mono Memory&quot;, &quot;Total Physical
</I>&gt;<i> Memory&quot;);
</I>&gt;<i>             Console.WriteLine (&quot;Physical RAM (bytes): {0}&quot;, pc.RawValue);
</I>&gt;<i>        }
</I>&gt;<i>        else
</I>&gt;<i>        {
</I>&gt;<i>             Console.WriteLine(&quot;Cannot detect physical RAM&quot;);
</I>&gt;<i>        }
</I>&gt;<i>    }
</I>&gt;<i> }
</I>&gt;<i> --- CUT ---
</I>&gt;<i>
</I>&gt;<i> Sorry if this is a basic question but I am currently on a Windows machine. 
</I>&gt;<i> Building Mono from trunk on Windows is not an area of strength for me and I
</I>&gt;<i> have not really played around with this part of the framework before.
</I>&gt;<i>   
</I>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034792.html">[Mono-dev] New performance counter in Mono to report physical memory size in the machine
</A></li>
	<LI>Next message: <A HREF="034798.html">[Mono-dev] New performance counter in Mono to report physical memory size in the machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34793">[ date ]</a>
              <a href="thread.html#34793">[ thread ]</a>
              <a href="subject.html#34793">[ subject ]</a>
              <a href="author.html#34793">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
