<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] New performance counter in Mono to report physical memory size in the machine
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20New%20performance%20counter%20in%20Mono%20to%20report%20physical%0A%20memory%20size%20in%20the%20machine&In-Reply-To=4BCAF444.8070306%40xmtp.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034793.html">
   <LINK REL="Next"  HREF="034797.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] New performance counter in Mono to report physical memory size in the machine</H1>
    <B>Marek Habersack</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20New%20performance%20counter%20in%20Mono%20to%20report%20physical%0A%20memory%20size%20in%20the%20machine&In-Reply-To=4BCAF444.8070306%40xmtp.net"
       TITLE="[Mono-dev] New performance counter in Mono to report physical memory size in the machine">grendel at twistedcode.net
       </A><BR>
    <I>Mon Apr 19 02:36:50 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="034793.html">[Mono-dev] New performance counter in Mono to report physical memory size in the machine
</A></li>
        <LI>Next message: <A HREF="034797.html">[Mono-dev] New performance counter in Mono to report physical memory size in the machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34798">[ date ]</a>
              <a href="thread.html#34798">[ thread ]</a>
              <a href="subject.html#34798">[ subject ]</a>
              <a href="author.html#34798">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 18 Apr 2010 08:00:04 -0400
&quot;Jay R. Wren&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jrwren at xmtp.net</A>&gt; wrote:

Hello,

&gt;<i> Confirmed, the constructor throws InvalidOperationException with a
</I>&gt;<i> message of &quot;Category does not exist.&quot; on .NET 4.
</I>&gt;<i> 
</I>&gt;<i> The code you pasted falls through to &quot;Cannot detect Physical RAM&quot;.
</I>&gt;<i> 
</I>&gt;<i> It is not a big deal, but it is something of which people should be aware.
</I>The behavior is exactly as documented in MSDN documentation for the PerformanceCounter class -
there are no surprises there.

marek

&gt;<i> --
</I>&gt;<i> Jay
</I>&gt;<i> 
</I>&gt;<i> On 4/17/2010 10:14 PM, jmalcolm wrote:
</I>&gt;<i> &gt; Thanks Marek,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does this live in System.Diagnostics?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does this mean that the code you posted would fail on Microsoft.NET with an
</I>&gt;<i> &gt; InvalidOperationException?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; System.Diagnostics seems like the place Microsoft should have put it.  I am
</I>&gt;<i> &gt; just surprised to see a Mono extension that does not have it's own assembly
</I>&gt;<i> &gt; or namespace.  There are probably more that I have managed to miss or simply
</I>&gt;<i> &gt; forgotten about.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Would something like the following be portable?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --- CUT ---
</I>&gt;<i> &gt; using System;
</I>&gt;<i> &gt; using System.Diagnostics;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; class app
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;    static void Main ()
</I>&gt;<i> &gt;    {
</I>&gt;<i> &gt;        if (PerformanceCounterCategory.Exists(&quot;Mono Memory&quot;))
</I>&gt;<i> &gt;        {
</I>&gt;<i> &gt;             var pc = new PerformanceCounter (&quot;Mono Memory&quot;, &quot;Total Physical
</I>&gt;<i> &gt; Memory&quot;);
</I>&gt;<i> &gt;             Console.WriteLine (&quot;Physical RAM (bytes): {0}&quot;, pc.RawValue);
</I>&gt;<i> &gt;        }
</I>&gt;<i> &gt;        else
</I>&gt;<i> &gt;        {
</I>&gt;<i> &gt;             Console.WriteLine(&quot;Cannot detect physical RAM&quot;);
</I>&gt;<i> &gt;        }
</I>&gt;<i> &gt;    }
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; --- CUT ---
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Sorry if this is a basic question but I am currently on a Windows machine. 
</I>&gt;<i> &gt; Building Mono from trunk on Windows is not an area of strength for me and I
</I>&gt;<i> &gt; have not really played around with this part of the framework before.
</I>&gt;<i> &gt;   
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034793.html">[Mono-dev] New performance counter in Mono to report physical memory size in the machine
</A></li>
	<LI>Next message: <A HREF="034797.html">[Mono-dev] New performance counter in Mono to report physical memory size in the machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34798">[ date ]</a>
              <a href="thread.html#34798">[ thread ]</a>
              <a href="subject.html#34798">[ subject ]</a>
              <a href="author.html#34798">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
