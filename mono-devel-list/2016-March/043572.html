<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Help debugging mono segmentation fault
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Help%20debugging%20mono%20segmentation%20fault&In-Reply-To=%3CD303361C.3F26%25glover.e.george%40erdc.dren.mil%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043570.html">
   <LINK REL="Next"  HREF="043573.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Help debugging mono segmentation fault</H1>
    <B>George, Glover E ERDC-RDE-ITL-MS CIV</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Help%20debugging%20mono%20segmentation%20fault&In-Reply-To=%3CD303361C.3F26%25glover.e.george%40erdc.dren.mil%3E"
       TITLE="[Mono-dev] Help debugging mono segmentation fault">Glover.E.George at erdc.dren.mil
       </A><BR>
    <I>Mon Mar  7 19:43:57 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="043570.html">[Mono-dev] Any one can give me some help about mono running on IBM	PASE?
</A></li>
        <LI>Next message: <A HREF="043573.html">[Mono-dev] Using valgrind with Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43572">[ date ]</a>
              <a href="thread.html#43572">[ thread ]</a>
              <a href="subject.html#43572">[ subject ]</a>
              <a href="author.html#43572">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I have some code that is written and compiled in Visual Studio 2008.  This is a console application.  When running under mono on Linux, with the same input, 1 out of 5 times or so I get a segmentation fault.  I&#8217;m not sure what&#8217;s generating this, so I looked at the instructions online for debugging mono which led me to these questions.

1.  Can gdb / mono_mip view debugging symbols within C# if the code was compiled with VS and not with mcs?  Currently the code won&#8217;t compile with mcs due to unknown values in the project/solution files and possibly because one of the projects in the solution is a c++ project (although it seems to handle the dll ok).

2. Does this gdb backtrace mean anything to anyone:



(gdb) mono_backtrace 15

You can't do that without a process to debug.

(gdb) backtrace

#0  0x0000000001cb6940 in ?? ()

#1  0x0000000000628e62 in monoeg_g_hash_table_lookup_extended (hash=0x9d0690, key=

    0x587130 &lt;mono_thread_get_undeniable_exception&gt;, orig_key=0x7fffd82fff68, value=0x7fffd82fff60)

    at ghashtable.c:328

#2  0x0000000000628ddd in monoeg_g_hash_table_lookup (hash=0x9d0690, key=

    0x587130 &lt;mono_thread_get_undeniable_exception&gt;) at ghashtable.c:311

#3  0x000000000053fa27 in mono_find_jit_icall_by_addr (addr=

    0x587130 &lt;mono_thread_get_undeniable_exception&gt;) at icall.c:7694

#4  0x00000000004311d2 in mono_emit_jit_icall (cfg=0x1be03d0, func=&lt;optimized out&gt;, args=0x0)

    at method-to-ir.c:2918

#5  0x000000000043e390 in mono_method_to_ir (cfg=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">cfg at entry</A>=0x1be03d0, method=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">method at entry</A>=

    &lt;error reading variable: Address 0x7fffd786afe8 out of bounds&gt;, start_bblock=&lt;optimized out&gt;,

    <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">start_bblock at entry</A>=0x0, end_bblock=&lt;optimized out&gt;, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">end_bblock at entry</A>=0x0, return_var=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">return_var at entry</A>=

    0x0, inline_args=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">inline_args at entry</A>=0x0, inline_offset=0, is_virtual_call=0) at method-to-ir.c:11941

#6  0x00000000005032f9 in mini_method_compile (method=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">method at entry</A>=

    &lt;error reading variable: Address 0x7fffd786afe8 out of bounds&gt;, opts=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">opts at entry</A>=370239999,

    domain=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">domain at entry</A>=0x9b80a0, flags=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">flags at entry</A>=JIT_FLAG_RUN_CCTORS, parts=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">parts at entry</A>=0,

    aot_method_index=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">aot_method_index at entry</A>=-1) at mini.c:3467

#7  0x0000000000504625 in mono_jit_compile_method_inner (method=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">method at entry</A>=

    &lt;error reading variable: Address 0x7fffd786afe8 out of bounds&gt;, target_domain=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">target_domain at entry</A>=

    0x9b80a0, opt=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">opt at entry</A>=370239999, jit_ex=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jit_ex at entry</A>=0x7fffd83006d8) at mini.c:4063

#8  0x00000000004274fc in mono_jit_compile_method_with_opt (method=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">method at entry</A>=

    &lt;error reading variable: Address 0x7fffd786afe8 out of bounds&gt;, opt=370239999, ex=<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ex at entry</A>=

    0x7fffd83006d8) at mini-runtime.c:1904

#9  0x0000000000427a4b in mono_jit_compile_method (method=

    &lt;error reading variable: Address 0x7fffd786afe8 out of bounds&gt;) at mini-runtime.c:1941

#10 0x00000000004a3483 in common_call_trampoline_inner (regs=0x7fffd83008a8, code=0x402528e4 &quot;\270\001&quot;, m=

    &lt;error reading variable: Address 0x7fffd786afe8 out of bounds&gt;, vt=0x0, vtable_slot=&lt;optimized out&gt;)

    at mini-trampolines.c:570

#11 0x000000004000217d in ?? ()

#12 0x0000000000000001 in ?? ()

#13 0x0000000000a11585 in ?? ()

#14 0x00000000402528e4 in ?? ()

#15 0x0000000000a11585 in ?? ()

#16 0x00007fffd83009e0 in ?? ()

#17 0x00007fffd83008a8 in ?? ()

#18 0x00007fffd8301698 in ?? ()

#19 0x00007fffd833ade0 in ?? ()

#20 0x00007fffd833adf8 in ?? ()

#21 0x0000000000000000 in ?? ()

This doesn&#8217;t seem to be in the GC.  Where would I go next?


&#8212; &#8212; &#8212;
Glover E. George
Computer Scientist
Information Technology Laboratory
US Army Engineer Research and Development Center
Vicksburg, MS 39180
601-634-4730

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20160307/82888cd7/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20160307/82888cd7/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043570.html">[Mono-dev] Any one can give me some help about mono running on IBM	PASE?
</A></li>
	<LI>Next message: <A HREF="043573.html">[Mono-dev] Using valgrind with Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43572">[ date ]</a>
              <a href="thread.html#43572">[ thread ]</a>
              <a href="subject.html#43572">[ subject ]</a>
              <a href="author.html#43572">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
