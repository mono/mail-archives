<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Cross Platform on Linux/Windows with Mono.Posix reference on Linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Cross%20Platform%20on%20Linux/Windows%20with%20Mono.Posix%0A%20reference%20on%20Linux&In-Reply-To=%3CCAGu5pZfxiRpahZwBL_RY9Qx%3D_jLUrsTXim3N_RMA1uUw7tzcbQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043602.html">
   <LINK REL="Next"  HREF="043596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Cross Platform on Linux/Windows with Mono.Posix reference on Linux</H1>
    <B>Alan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Cross%20Platform%20on%20Linux/Windows%20with%20Mono.Posix%0A%20reference%20on%20Linux&In-Reply-To=%3CCAGu5pZfxiRpahZwBL_RY9Qx%3D_jLUrsTXim3N_RMA1uUw7tzcbQ%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Cross Platform on Linux/Windows with Mono.Posix reference on Linux">alan.mcgovern at gmail.com
       </A><BR>
    <I>Wed Mar 30 22:28:50 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="043602.html">[Mono-dev] Cross Platform on Linux/Windows with Mono.Posix reference on Linux
</A></li>
        <LI>Next message: <A HREF="043596.html">[Mono-dev] Cross Platform on Linux/Windows with Mono.Posix reference on Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43604">[ date ]</a>
              <a href="thread.html#43604">[ thread ]</a>
              <a href="subject.html#43604">[ subject ]</a>
              <a href="author.html#43604">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I had vague recollections that there were some ifdefs in the managed code
which made it platform specific, but I could be wrong or they could just be
gone nowadays. Jonp probably knows best ;)

Either way, if you deploy it without the matching native lib you can hit
crashes, so the simplest option all round is to just rely on the system
one, if at all possible :)

Alan

On 30 March 2016 at 13:06, Chris Swiedler &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">cswiedler at trionworlds.com</A>&gt; wrote:

&gt;<i> To Alan's point, we did see crashes when we (unintentionally) deployed
</I>&gt;<i> Mono.Posix.dll along with our app. Our solution was, like he said, to Not
</I>&gt;<i> Do That, and use our Mono.Posix as a compile-time library only.
</I>&gt;<i>
</I>&gt;<i> I do think it's much easier to do it this way than to have different
</I>&gt;<i> compile targets, which (if I'm understanding correctly) is what the other
</I>&gt;<i> suggestions all require.
</I>&gt;<i>
</I>&gt;<i> chris
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A> [mailto:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] On Behalf Of Jonathan Pryor
</I>&gt;<i> Sent: Wednesday, March 30, 2016 7:04 AM
</I>&gt;<i> To: Alan McGovern &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">alan.mcgovern at gmail.com</A>&gt;
</I>&gt;<i> Cc: mono-devel-list &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i> Subject: Re: [Mono-dev] Cross Platform on Linux/Windows with Mono.Posix
</I>&gt;<i> reference on Linux
</I>&gt;<i>
</I>&gt;<i> On Mar 30, 2016, at 8:33 AM, Alan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">alan.mcgovern at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; If you package Mono.Posix.dll your app *will crash* on different systems.
</I>&gt;<i>
</I>&gt;<i> Not necessarily.
</I>&gt;<i>
</I>&gt;<i> &gt; This binary is platform specific and is not safe to copy between OS&#8217;s.
</I>&gt;<i>
</I>&gt;<i> Mono.Posix.dll *itself* contains no platform-specific code and is
</I>&gt;<i> perfectly safe to copy between operating systems.
</I>&gt;<i>
</I>&gt;<i> Mono.Posix.dll contains P/Invokes into &#8220;MonoPosixHelper&#8221;
</I>&gt;<i> (libMonoPosixHelper.dylib on OS X, MonoPosixHelper.dll on Windows, etc.),
</I>&gt;<i> and MonoPosixHelper contains operating system-specific code. It *cannot* be
</I>&gt;<i> copied between operating systems; it&#8217;s a native library.
</I>&gt;<i>
</I>&gt;<i> &gt; It's fine to have a copy of Mono.Posix.dll used purely for compilation
</I>&gt;<i> purposes. But at runtime you have to use the system provided one, which
</I>&gt;<i> typically means the one provided by the system's mono installation.
</I>&gt;<i>
</I>&gt;<i> It&#8217;s entirely fine to include Mono.Posix.dll with your app, SO LONG AS you
</I>&gt;<i> *also* copy and distribute MonoPosixHelper with your app.
</I>&gt;<i>
</I>&gt;<i> Additionally, Mono.Posix.dll also P/Invokes other native libraries such as
</I>&gt;<i> INTL.DLL (Mono.Unix.Catalog) and MSVCRT.DLL (Mono.Unix.Native.Stdlib),
</I>&gt;<i> which should be usable on Windows (so long as you also distribute INTL.DLL,
</I>&gt;<i> etc.).
</I>&gt;<i>
</I>&gt;<i>  - Jon
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20160330/8f2c31ba/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20160330/8f2c31ba/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043602.html">[Mono-dev] Cross Platform on Linux/Windows with Mono.Posix reference on Linux
</A></li>
	<LI>Next message: <A HREF="043596.html">[Mono-dev] Cross Platform on Linux/Windows with Mono.Posix reference on Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43604">[ date ]</a>
              <a href="thread.html#43604">[ thread ]</a>
              <a href="subject.html#43604">[ subject ]</a>
              <a href="author.html#43604">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
