<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Running --profiler=log:coverage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Running%20--profiler%3Dlog%3Acoverage&In-Reply-To=%3CCAH9TF6PikzOiuYVySGNimQVJdz7%3DPtJV593S2j4%2BCrtv--huFQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043555.html">
   <LINK REL="Next"  HREF="043558.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Running --profiler=log:coverage</H1>
    <B>Alex R&#248;nne Petersen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Running%20--profiler%3Dlog%3Acoverage&In-Reply-To=%3CCAH9TF6PikzOiuYVySGNimQVJdz7%3DPtJV593S2j4%2BCrtv--huFQ%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Running --profiler=log:coverage">alex at alexrp.com
       </A><BR>
    <I>Thu Mar  3 14:44:22 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="043555.html">[Mono-dev] Running --profiler=log:coverage
</A></li>
        <LI>Next message: <A HREF="043558.html">[Mono-dev] Running --profiler=log:coverage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43557">[ date ]</a>
              <a href="thread.html#43557">[ thread ]</a>
              <a href="subject.html#43557">[ subject ]</a>
              <a href="author.html#43557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

The &quot;time went backwards&quot; message is harmless and has been removed in
later Mono versions.

Could you have a look at the crash, Iain? (cc)

On Thu, Mar 3, 2016 at 2:00 PM, Antoine Cailliau
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">antoinecailliau at gmail.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I'm trying to measure the code coverage of a test suite. I noticed that
</I>&gt;<i> recently (Apr'15) cov and monocov were removed for log:coverage profiler.
</I>&gt;<i>
</I>&gt;<i> When I'm running that profile on my tests using nunit-console. I got a
</I>&gt;<i> segmentation fault, see below. When using mprof-report, I do not get the
</I>&gt;<i> section related to code coverage.
</I>&gt;<i>
</I>&gt;<i> What I use to run the tests :
</I>&gt;<i> $ MONO_OPTIONS=&quot;--profile=log:coverage,covfilter=+MinePumpSystem.Test&quot;
</I>&gt;<i> nunit-console MinePumpSystem.Test.dll
</I>&gt;<i>
</I>&gt;<i> Plus, it is displaying &quot;time went backwards&quot; a lot.
</I>&gt;<i>
</I>&gt;<i> Anyone with any tips on how I could get this to work is welcome :-)
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Antoine
</I>&gt;<i>
</I>&gt;<i> -- The trace :
</I>&gt;<i>
</I>&gt;<i> tacktrace:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Native stacktrace:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Debug info from gdb:
</I>&gt;<i>
</I>&gt;<i> (lldb) command source -s 0 '/tmp/mono-gdb-commands.2cpqir'
</I>&gt;<i> Executing commands in '/tmp/mono-gdb-commands.2cpqir'.
</I>&gt;<i> (lldb) process attach --pid 47647
</I>&gt;<i> warning: (i386)
</I>&gt;<i> /Library/Frameworks/Mono.framework/Versions/4.2.2/lib/mono/4.5/mscorlib.dll.dylib
</I>&gt;<i> empty dSYM file detected, dSYM was created with an executable with no debug
</I>&gt;<i> info.
</I>&gt;<i> Process 47647 stopped
</I>&gt;<i> * thread #1: tid = 0x109c479, 0x92bb6d06 libsystem_kernel.dylib`__wait4 +
</I>&gt;<i> 10, queue = 'com.apple.main-thread', stop reason = signal SIGSTOP
</I>&gt;<i>     frame #0: 0x92bb6d06 libsystem_kernel.dylib`__wait4 + 10
</I>&gt;<i> libsystem_kernel.dylib`__wait4:
</I>&gt;<i> -&gt;  0x92bb6d06 &lt;+10&gt;: jae    0x92bb6d16                ; &lt;+26&gt;
</I>&gt;<i>     0x92bb6d08 &lt;+12&gt;: calll  0x92bb6d0d                ; &lt;+17&gt;
</I>&gt;<i>     0x92bb6d0d &lt;+17&gt;: popl   %edx
</I>&gt;<i>     0x92bb6d0e &lt;+18&gt;: movl   0x104be317(%edx), %edx
</I>&gt;<i>
</I>&gt;<i> Executable module set to
</I>&gt;<i> &quot;/Library/Frameworks/Mono.framework/Versions/4.2.2/bin/mono&quot;.
</I>&gt;<i> Architecture set to: i386-apple-macosx.
</I>&gt;<i> (lldb) thread list
</I>&gt;<i> Process 47647 stopped
</I>&gt;<i> * thread #1: tid = 0x109c479, 0x92bb6d06 libsystem_kernel.dylib`__wait4 +
</I>&gt;<i> 10, queue = 'com.apple.main-thread', stop reason = signal SIGSTOP
</I>&gt;<i>   thread #2: tid = 0x109c47a, 0x92bb6402
</I>&gt;<i> libsystem_kernel.dylib`__psynch_cvwait + 10
</I>&gt;<i>   thread #3: tid = 0x109c47b, 0x92baf886
</I>&gt;<i> libsystem_kernel.dylib`semaphore_wait_trap + 10
</I>&gt;<i>   thread #4: tid = 0x109c47c, 0x92bb6d76
</I>&gt;<i> libsystem_kernel.dylib`__workq_kernreturn + 10
</I>&gt;<i>   thread #5: tid = 0x109c47d, 0x92bb7812 libsystem_kernel.dylib`kevent_qos +
</I>&gt;<i> 10, queue = 'com.apple.libdispatch-manager'
</I>&gt;<i>   thread #6: tid = 0x109c47e, 0x0027008d mono`mono_hazard_pointer_get + 13
</I>&gt;<i> at hazard-pointer.c:176
</I>&gt;<i>   thread #7: tid = 0x109c482, 0x92bb6d76
</I>&gt;<i> libsystem_kernel.dylib`__workq_kernreturn + 10
</I>&gt;<i>   thread #8: tid = 0x109c484, 0x92bb6d76
</I>&gt;<i> libsystem_kernel.dylib`__workq_kernreturn + 10
</I>&gt;<i> (lldb) thread backtrace all
</I>&gt;<i> mono was compiled with optimization - stepping may behave oddly; variables
</I>&gt;<i> may not be available.
</I>&gt;<i> * thread #1: tid = 0x109c479, 0x92bb6d06 libsystem_kernel.dylib`__wait4 +
</I>&gt;<i> 10, queue = 'com.apple.main-thread', stop reason = signal SIGSTOP
</I>&gt;<i>   * frame #0: 0x92bb6d06 libsystem_kernel.dylib`__wait4 + 10
</I>&gt;<i>     frame #1: 0x969f07dc libsystem_c.dylib`waitpid$UNIX2003 + 48
</I>&gt;<i>     frame #2: 0x000d7f2d mono`mono_handle_native_sigsegv(signal=11,
</I>&gt;<i> ctx=0x007abfe0, info=0x007abfa0) + 541 at mini-exceptions.c:2193 [opt]
</I>&gt;<i>     frame #3: 0x00124482
</I>&gt;<i> mono`mono_arch_handle_altstack_exception(sigctx=&lt;unavailable&gt;,
</I>&gt;<i> siginfo=&lt;unavailable&gt;, fault_addr=&lt;unavailable&gt;, stack_ovf=0) + 162 at
</I>&gt;<i> exceptions-x86.c:1097 [opt]
</I>&gt;<i>     frame #4: 0x0002540e
</I>&gt;<i> mono`mono_sigsegv_signal_handler(_dummy=&lt;unavailable&gt;, _info=&lt;unavailable&gt;,
</I>&gt;<i> context=&lt;unavailable&gt;) + 446 at mini-runtime.c:2471 [opt]
</I>&gt;<i>     frame #5: 0x9aad301b libsystem_platform.dylib`_sigtramp + 43
</I>&gt;<i>     frame #6: 0x96973051 libsystem_c.dylib`strlen + 17
</I>&gt;<i>     frame #7: 0x00690b48
</I>&gt;<i> libmono-profiler-log.0.dylib`build_assembly_buffer(key=0x79962860,
</I>&gt;<i> value=0x79962860, userdata=&lt;unavailable&gt;) + 216 at proflog.c:3514 [opt]
</I>&gt;<i>     frame #8: 0x00277150
</I>&gt;<i> mono`mono_conc_hashtable_foreach(hash_table=&lt;unavailable&gt;,
</I>&gt;<i> func=&lt;unavailable&gt;, userdata=&lt;unavailable&gt;) + 80 at
</I>&gt;<i> mono-conc-hashtable.c:365 [opt]
</I>&gt;<i>     frame #9: 0x0068520a libmono-profiler-log.0.dylib`log_shutdown [inlined]
</I>&gt;<i> dump_coverage(prof=0x79960ba0) + 92 at proflog.c:3544 [opt]
</I>&gt;<i>     frame #10: 0x006851ae
</I>&gt;<i> libmono-profiler-log.0.dylib`log_shutdown(prof=0x79960ba0) + 46 at
</I>&gt;<i> proflog.c:3851 [opt]
</I>&gt;<i>     frame #11: 0x001b7262 mono`mono_profiler_shutdown + 50 at profiler.c:813
</I>&gt;<i> [opt]
</I>&gt;<i>     frame #12: 0x0002861a mono`mini_cleanup(domain=0x79863ce0) + 778 at
</I>&gt;<i> mini-runtime.c:3455 [opt]
</I>&gt;<i>     frame #13: 0x000a2f61 mono`mono_main(argc=&lt;unavailable&gt;,
</I>&gt;<i> argv=&lt;unavailable&gt;) + 8001 at driver.c:2083 [opt]
</I>&gt;<i>     frame #14: 0x0001ab50 mono`main [inlined]
</I>&gt;<i> mono_main_with_options(argc=&lt;unavailable&gt;, argv=&lt;unavailable&gt;) + 768 at
</I>&gt;<i> main.c:94 [opt]
</I>&gt;<i>     frame #15: 0x0001a86d mono`main(argc=&lt;unavailable&gt;, argv=&lt;unavailable&gt;)
</I>&gt;<i> + 29 at main.c:125 [opt]
</I>&gt;<i>     frame #16: 0x0001a845 mono`start + 53
</I>&gt;<i>
</I>&gt;<i>   thread #2: tid = 0x109c47a, 0x92bb6402
</I>&gt;<i> libsystem_kernel.dylib`__psynch_cvwait + 10
</I>&gt;<i>     frame #0: 0x92bb6402 libsystem_kernel.dylib`__psynch_cvwait + 10
</I>&gt;<i>     frame #1: 0x95c80f6b libsystem_pthread.dylib`_pthread_cond_wait + 757
</I>&gt;<i>     frame #2: 0x95c84cc0 libsystem_pthread.dylib`pthread_cond_wait$UNIX2003
</I>&gt;<i> + 71
</I>&gt;<i>     frame #3: 0x0024b7e2 mono`thread_func(thread_data=0x00000000) + 466 at
</I>&gt;<i> sgen-thread-pool.c:118 [opt]
</I>&gt;<i>     frame #4: 0x95c80a26 libsystem_pthread.dylib`_pthread_body + 138
</I>&gt;<i>     frame #5: 0x95c8099c libsystem_pthread.dylib`_pthread_start + 155
</I>&gt;<i>     frame #6: 0x95c7df96 libsystem_pthread.dylib`thread_start + 34
</I>&gt;<i>
</I>&gt;<i>   thread #3: tid = 0x109c47b, 0x92baf886
</I>&gt;<i> libsystem_kernel.dylib`semaphore_wait_trap + 10
</I>&gt;<i>     frame #0: 0x92baf886 libsystem_kernel.dylib`semaphore_wait_trap + 10
</I>&gt;<i>     frame #1: 0x0026e2da mono`mono_sem_wait(sem=0x0034e090, alertable=1) +
</I>&gt;<i> 26 at mono-semaphore.c:109 [opt]
</I>&gt;<i>     frame #2: 0x001eb40e mono`finalizer_thread(unused=0x00000000) + 158 at
</I>&gt;<i> gc.c:1096 [opt]
</I>&gt;<i>     frame #3: 0x001c5451 mono`start_wrapper [inlined] start_wrapper_internal
</I>&gt;<i> + 516 at threads.c:725 [opt]
</I>&gt;<i>     frame #4: 0x001c524d mono`start_wrapper(data=&lt;unavailable&gt;) + 29 at
</I>&gt;<i> threads.c:772 [opt]
</I>&gt;<i>     frame #5: 0x00275e70 mono`inner_start_thread(arg=&lt;unavailable&gt;) + 240 at
</I>&gt;<i> mono-threads-posix.c:97 [opt]
</I>&gt;<i>     frame #6: 0x95c80a26 libsystem_pthread.dylib`_pthread_body + 138
</I>&gt;<i>     frame #7: 0x95c8099c libsystem_pthread.dylib`_pthread_start + 155
</I>&gt;<i>     frame #8: 0x95c7df96 libsystem_pthread.dylib`thread_start + 34
</I>&gt;<i>
</I>&gt;<i>   thread #4: tid = 0x109c47c, 0x92bb6d76
</I>&gt;<i> libsystem_kernel.dylib`__workq_kernreturn + 10
</I>&gt;<i>     frame #0: 0x92bb6d76 libsystem_kernel.dylib`__workq_kernreturn + 10
</I>&gt;<i>     frame #1: 0x95c8052d libsystem_pthread.dylib`_pthread_wqthread + 1289
</I>&gt;<i>     frame #2: 0x95c7df72 libsystem_pthread.dylib`start_wqthread + 34
</I>&gt;<i>
</I>&gt;<i>   thread #5: tid = 0x109c47d, 0x92bb7812 libsystem_kernel.dylib`kevent_qos +
</I>&gt;<i> 10, queue = 'com.apple.libdispatch-manager'
</I>&gt;<i>     frame #0: 0x92bb7812 libsystem_kernel.dylib`kevent_qos + 10
</I>&gt;<i>     frame #1: 0x9aa4670e libdispatch.dylib`_dispatch_mgr_invoke + 234
</I>&gt;<i>     frame #2: 0x9aa462e2 libdispatch.dylib`_dispatch_mgr_thread + 52
</I>&gt;<i>
</I>&gt;<i>   thread #6: tid = 0x109c47e, 0x0027008d mono`mono_hazard_pointer_get + 13
</I>&gt;<i> at hazard-pointer.c:176
</I>&gt;<i>     frame #0: 0x0027008d mono`mono_hazard_pointer_get + 13 at
</I>&gt;<i> hazard-pointer.c:176 [opt]
</I>&gt;<i>     frame #1: 0x00270afa mono`mono_lock_free_queue_dequeue(q=0x79960bd8) +
</I>&gt;<i> 26 at lock-free-queue.c:214 [opt]
</I>&gt;<i>     frame #2: 0x0068e072
</I>&gt;<i> libmono-profiler-log.0.dylib`writer_thread(arg=0x00270aee) + 434 at
</I>&gt;<i> proflog.c:4164 [opt]
</I>&gt;<i>     frame #3: 0x95c80a26 libsystem_pthread.dylib`_pthread_body + 138
</I>&gt;<i>     frame #4: 0x95c8099c libsystem_pthread.dylib`_pthread_start + 155
</I>&gt;<i>     frame #5: 0x95c7df96 libsystem_pthread.dylib`thread_start + 34
</I>&gt;<i>
</I>&gt;<i>   thread #7: tid = 0x109c482, 0x92bb6d76
</I>&gt;<i> libsystem_kernel.dylib`__workq_kernreturn + 10
</I>&gt;<i>     frame #0: 0x92bb6d76 libsystem_kernel.dylib`__workq_kernreturn + 10
</I>&gt;<i>     frame #1: 0x95c8052d libsystem_pthread.dylib`_pthread_wqthread + 1289
</I>&gt;<i>     frame #2: 0x95c7df72 libsystem_pthread.dylib`start_wqthread + 34
</I>&gt;<i>
</I>&gt;<i>   thread #8: tid = 0x109c484, 0x92bb6d76
</I>&gt;<i> libsystem_kernel.dylib`__workq_kernreturn + 10
</I>&gt;<i>     frame #0: 0x92bb6d76 libsystem_kernel.dylib`__workq_kernreturn + 10
</I>&gt;<i>     frame #1: 0x95c8052d libsystem_pthread.dylib`_pthread_wqthread + 1289
</I>&gt;<i>     frame #2: 0x95c7df72 libsystem_pthread.dylib`start_wqthread + 34
</I>&gt;<i> (lldb) detach
</I>&gt;<i>
</I>&gt;<i> =================================================================
</I>&gt;<i> Got a SIGSEGV while executing native code. This usually indicates
</I>&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;<i> used by your application.
</I>&gt;<i> =================================================================
</I>&gt;<i>
</I>&gt;<i> Process 47647 detached
</I>&gt;<i> (lldb) quit
</I>&gt;<i> Abort trap: 6
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043555.html">[Mono-dev] Running --profiler=log:coverage
</A></li>
	<LI>Next message: <A HREF="043558.html">[Mono-dev] Running --profiler=log:coverage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43557">[ date ]</a>
              <a href="thread.html#43557">[ thread ]</a>
              <a href="subject.html#43557">[ subject ]</a>
              <a href="author.html#43557">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
