<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono hangs on shutdown when /dev/ttySx ports were	opened.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20hangs%20on%20shutdown%20when%20/dev/ttySx%20ports%20were%0A%09opened.&In-Reply-To=4AB24D96.9060108%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033047.html">
   <LINK REL="Next"  HREF="033070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono hangs on shutdown when /dev/ttySx ports were	opened.</H1>
    <B>Leszek Ciesielski</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20hangs%20on%20shutdown%20when%20/dev/ttySx%20ports%20were%0A%09opened.&In-Reply-To=4AB24D96.9060108%40gmail.com"
       TITLE="[Mono-dev] Mono hangs on shutdown when /dev/ttySx ports were	opened.">skolima at gmail.com
       </A><BR>
    <I>Thu Sep 17 11:39:30 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033047.html">[Mono-dev] Mono hangs on shutdown when /dev/ttySx ports were opened.
</A></li>
        <LI>Next message: <A HREF="033070.html">[Mono-dev] Mono hangs on shutdown when /dev/ttySx ports were	opened.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33048">[ date ]</a>
              <a href="thread.html#33048">[ thread ]</a>
              <a href="subject.html#33048">[ subject ]</a>
              <a href="author.html#33048">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/9/17 Korn&#233;l P&#225;l &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kornelpal at gmail.com</A>&gt;:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Zoltan Varga wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;The runtime tries to abort all threads and waits for them to terminate,
</I>&gt;&gt;<i> so if a thread refuses
</I>&gt;&gt;<i> to die for some reason, the runtime will hang. Its possible that the
</I>&gt;<i>
</I>&gt;<i> This hang has occurred or different reasons and was reported several times.
</I>&gt;<i>
</I>&gt;<i> Is there a specific reason that prevents us from terminating all the threads
</I>&gt;<i> on exit?
</I>&gt;<i>
</I>&gt;<i> MS.NET simply kills all the threads and usually the finally blocks aren't
</I>&gt;<i> even executed on exit.
</I>&gt;<i>
</I>&gt;<i> Korn&#233;l
</I>&gt;<i>
</I>
Hi,

in this case it does not seem to be a simple 'hang'. All of the
threads our application starts finish as expected (handling the
ThreadAbortException and Dispose()ing objects where needed). All those
threads run until the end of the expected methods (currently verified
with progress logging using Console.WriteLine ). However, sometimes
during the shutdown, a single thread gets 'resurrected', resuming
execution from the point where it did recieve ThreadAbortException
which caused it to finish properly just milliseconds before!

skolima
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033047.html">[Mono-dev] Mono hangs on shutdown when /dev/ttySx ports were opened.
</A></li>
	<LI>Next message: <A HREF="033070.html">[Mono-dev] Mono hangs on shutdown when /dev/ttySx ports were	opened.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33048">[ date ]</a>
              <a href="thread.html#33048">[ thread ]</a>
              <a href="subject.html#33048">[ subject ]</a>
              <a href="author.html#33048">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
