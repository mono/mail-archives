<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] emitting debug information
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20emitting%20debug%20information&In-Reply-To=b323bb980412141411473b5ead%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009428.html">
   <LINK REL="Next"  HREF="009454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] emitting debug information</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20emitting%20debug%20information&In-Reply-To=b323bb980412141411473b5ead%40mail.gmail.com"
       TITLE="[Mono-devel-list] emitting debug information">miguel at ximian.com
       </A><BR>
    <I>Tue Dec 14 19:52:24 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009428.html">[Mono-devel-list] emitting debug information
</A></li>
        <LI>Next message: <A HREF="009454.html">[Mono-devel-list] emitting debug information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9431">[ date ]</a>
              <a href="thread.html#9431">[ thread ]</a>
              <a href="subject.html#9431">[ subject ]</a>
              <a href="author.html#9431">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

   [CCing Martin who can provide more information]

&gt;<i> During our work on the Nemerle compiler we encountered some problems
</I>&gt;<i> with emission of the debug information under mono. There is some API
</I>&gt;<i> defined in the S.R.E. documentation. It works under MS.NET but not
</I>&gt;<i> under Mono. I've seen that some strange hacks with Invoke'ing members
</I>&gt;<i> through reflection is used in mcs (symbolwriter.cs).
</I>&gt;<i> 
</I>&gt;<i> What exactly doesn't work is this:
</I>&gt;<i> 
</I>&gt;<i>   <A HREF="http://nemerle.org/mailman/pipermail/svn/2004-December/003555.html">http://nemerle.org/mailman/pipermail/svn/2004-December/003555.html</A>
</I>&gt;<i> 
</I>&gt;<i> (this is patch with changes needed for debug output). Now when given
</I>&gt;<i> program file is compiled with this, mono --debug doesn't print line
</I>&gt;<i> number information when exception is thrown by the program (this is
</I>&gt;<i> the best way I come out to actually check if any debug info is present
</I>&gt;<i> in the image).
</I>&gt;<i> 
</I>&gt;<i> So I've got a few questions:
</I>&gt;<i> 1. Is there any documentation available?
</I>&gt;<i> 2. How to check the debug info in mono-compiled PE image? That is
</I>&gt;<i> check if it's at all present, and if so, dump it somehow.
</I>&gt;<i> 3. What have we done wrong? ;-)
</I>
The story is a bit like this, but Martin can probably provide more
information:

        We never were able to figure out how to properly &quot;get&quot; the
        handle to the debugging information symbol writer on .NET, so
        when we had to develop our own, we defined our own internal
        interface.
        
        To see how this is done, look in the Mono C# compiler
        mcs/mcs/symbolwriter.cs, I think most of the information is
        encapsulated there.
        
        This basically uses the internal Mono debugging information
        generator.
        
It is &quot;easy&quot; to see if this worked with Mono 1.1.xx, as the result will
produce a file.exe and a file.exe.mdb.  The later contains the debugging
information.

With Mono 1.0.xx the debugging information is embedded into the
executable as a resource so you will only notice it because the
executable is suffering from bloating ;-)

Miguel.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009428.html">[Mono-devel-list] emitting debug information
</A></li>
	<LI>Next message: <A HREF="009454.html">[Mono-devel-list] emitting debug information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9431">[ date ]</a>
              <a href="thread.html#9431">[ thread ]</a>
              <a href="subject.html#9431">[ subject ]</a>
              <a href="author.html#9431">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
