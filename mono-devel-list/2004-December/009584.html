<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] ADO.NET driver upgrade - class naming and namespace query
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20ADO.NET%20driver%20upgrade%20-%20class%20naming%20and%20namespace%20query&In-Reply-To=6ECB50F120E6DF4EA1402FC2EA1B7B640792DE%40compaqbox.onlyconnect.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009583.html">
   <LINK REL="Next"  HREF="009585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] ADO.NET driver upgrade - class naming and namespace query</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20ADO.NET%20driver%20upgrade%20-%20class%20naming%20and%20namespace%20query&In-Reply-To=6ECB50F120E6DF4EA1402FC2EA1B7B640792DE%40compaqbox.onlyconnect.co.uk"
       TITLE="[Mono-devel-list] ADO.NET driver upgrade - class naming and namespace query">monoman at gmail.com
       </A><BR>
    <I>Mon Dec 27 13:30:21 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009583.html">[Mono-devel-list] ADO.NET driver upgrade - class naming and namespace query
</A></li>
        <LI>Next message: <A HREF="009585.html">[Mono-devel-list] ADO.NET driver upgrade - class naming and namespace query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9584">[ date ]</a>
              <a href="thread.html#9584">[ thread ]</a>
              <a href="subject.html#9584">[ subject ]</a>
              <a href="author.html#9584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tim,

&gt;<i> Is there any guidance as to what is best practice here, either for
</I>&gt;<i> ADO.NET
</I>&gt;<i> or for .NET generally?
</I>
Generally the ADO.NET provider are just plain flexible. They are the
same always and cope with many versions of the server/backend, at most
some parameter in the connection string says what kind/version of
backend to connect.

So in you case you can rename and &quot;internal&quot;-ize the old classes,
design new internal &quot;version3&quot; classes, and recreate the public
classes as wrappers (UML Aggregation) that implement the GOF Strategy
Pattern to use the appropriate internal classes for the solicited
backend.

Somewhat like:

internal class SqliteConnection2 ...
internal class SqliteCommand2 ...
internal class SqliteDataReader2 ...

internal class SqliteConnection3 ...
internal class SqliteCommand3 ...
internal class SqliteDataReader3 ...

public class SqliteConnection ...
public class SqliteCommand ...
public class SqliteDataReader ...


In truth many things may be reused and so you may have more
hierarchical design, with some functioning superclasses just
specialized for each backend.

Hope it helps,

On Mon, 27 Dec 2004 17:54:30 -0000, Tim Anderson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Tim at onlyconnect.co.uk</A>&gt; wrote:
&gt;<i> I've been working on the Mono Sqlite 2.x client
</I>&gt;<i> (<A HREF="http://www.go-mono.com/sqlite.html">http://www.go-mono.com/sqlite.html</A>) in order to make it work with
</I>&gt;<i> Sqlite
</I>&gt;<i> 3.0. I haven't done much yet with Mono itself, but I find this code
</I>&gt;<i> useful
</I>&gt;<i> for working with Sqlite in Microsoft .NET; I'll also try it with Mono
</I>&gt;<i> itself. I'm wondering what would be the
</I>&gt;<i> best way to name the classes.
</I>&gt;<i> 
</I>&gt;<i> The Sqlite data format changed from version 2.x to 3.x, so I need a
</I>&gt;<i> different set of classes for the new version. Currently the namespace is
</I>&gt;<i> 
</I>&gt;<i> Mono.Data.SqliteClient, and within this there are classes such as:
</I>&gt;<i> 
</I>&gt;<i> SqliteConnection
</I>&gt;<i> SqliteCommand
</I>&gt;<i> SqliteDataReader
</I>&gt;<i> etc
</I>&gt;<i> 
</I>&gt;<i> My first instinct is to add new classes in the same namespace:
</I>&gt;<i> 
</I>&gt;<i> SqliteConnection3
</I>&gt;<i> SqliteCommand3
</I>&gt;<i> SqliteDataReader3
</I>&gt;<i> etc
</I>&gt;<i> 
</I>&gt;<i> This way, you can use the version 2.x and 3.x clients side by side.
</I>&gt;<i> However,
</I>&gt;<i> another approach is to create a new namespace, say
</I>&gt;<i> Mono.Data.SqliteClient3,
</I>&gt;<i> and stick with the old class names. Or to have a new namespace *and* new
</I>&gt;<i> 
</I>&gt;<i> class names.
</I>&gt;<i> 
</I>&gt;<i> Is there any guidance as to what is best practice here, either for
</I>&gt;<i> ADO.NET
</I>&gt;<i> or for .NET generally?
</I>&gt;<i> 
</I>&gt;<i> Tim
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>

-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
I'm trying to become a &quot;Rosh Gadol&quot; before my own eyes. 
See <A HREF="http://www.joelonsoftware.com/items/2004/12/06.html">http://www.joelonsoftware.com/items/2004/12/06.html</A> for enlightment.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009583.html">[Mono-devel-list] ADO.NET driver upgrade - class naming and namespace query
</A></li>
	<LI>Next message: <A HREF="009585.html">[Mono-devel-list] ADO.NET driver upgrade - class naming and namespace query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9584">[ date ]</a>
              <a href="thread.html#9584">[ thread ]</a>
              <a href="subject.html#9584">[ subject ]</a>
              <a href="author.html#9584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
