<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [CAS] New patch for stack modifiers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BCAS%5D%20New%20patch%20for%20stack%20modifiers&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009482.html">
   <LINK REL="Next"  HREF="009484.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [CAS] New patch for stack modifiers</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BCAS%5D%20New%20patch%20for%20stack%20modifiers&In-Reply-To="
       TITLE="[Mono-devel-list] [CAS] New patch for stack modifiers">sebastien at ximian.com
       </A><BR>
    <I>Fri Dec 17 11:10:33 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009482.html">[Mono-devel-list] Re: [patch] RFC: Make naming consistent in the compiler sources
</A></li>
        <LI>Next message: <A HREF="009484.html">[Mono-devel-list] gtksourceview-sharp compile errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9483">[ date ]</a>
              <a href="thread.html#9483">[ thread ]</a>
              <a href="subject.html#9483">[ subject ]</a>
              <a href="author.html#9483">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

The only change in the metadata patch (apart from being a more current
diff) is that it add runtimesecurityframe_class in mono_defaults.

The changes in mini are to use Paolo's code for the stack walk and split
the cases where a single frame is required ([NonCas]LinkDemand[Choice]
and [NonCas]InheritanceDemand[Choice]) and where a full stack is
required ([NonCas]Demand[Choice]). This will reduce the number of
managed/unmanaged transitions required to evaluate a full demand as the
permissionsets will be cached, in the managed side, after their first
use.

Also note that I've reverted to the original code for the debugging
stack walk (StackTrace/StackFrame). Yes it needs to share the same new
code, but it would be better (history wise) to do this in a separate
patch.

-- 
Sebastien Pouliot  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">sebastien at ximian.com</A>&gt;
blog: <A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: metadata.20041217.diff
Type: text/x-patch
Size: 7520 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20041217/c2c39374/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20041217/c2c39374/attachment.bin</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mini.20041217.diff
Type: text/x-patch
Size: 14855 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20041217/c2c39374/attachment-0001.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20041217/c2c39374/attachment-0001.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009482.html">[Mono-devel-list] Re: [patch] RFC: Make naming consistent in the compiler sources
</A></li>
	<LI>Next message: <A HREF="009484.html">[Mono-devel-list] gtksourceview-sharp compile errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9483">[ date ]</a>
              <a href="thread.html#9483">[ thread ]</a>
              <a href="subject.html#9483">[ subject ]</a>
              <a href="author.html#9483">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
