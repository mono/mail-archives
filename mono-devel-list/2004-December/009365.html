<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Another C# ?: InvalidCastException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Another%20C%23%20%3F%3A%20InvalidCastException&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009377.html">
   <LINK REL="Next"  HREF="009380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Another C# ?: InvalidCastException</H1>
    <B>Eric Scott</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Another%20C%23%20%3F%3A%20InvalidCastException&In-Reply-To="
       TITLE="[Mono-devel-list] Another C# ?: InvalidCastException">scottclansman at cwazy.co.uk
       </A><BR>
    <I>Sun Dec 12 13:59:50 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009377.html">[Mono-devel-list] File::Move(string,string) patch
</A></li>
        <LI>Next message: <A HREF="009380.html">[Mono-devel-list] Another C# ?: InvalidCastException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9365">[ date ]</a>
              <a href="thread.html#9365">[ thread ]</a>
              <a href="subject.html#9365">[ subject ]</a>
              <a href="author.html#9365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey, once again I apologize for plopping newbie C# questions into this 
list; if you know of a list that might be better suited for C# 
newbie-ish stuff, let me know!

So I'm tinkering (again) with PostGreSQL access from C#.  I'm getting 
the data from the database and putting it into my variables.... and 
something goes haywire. Here's the code section:

&lt;yammer&gt;
string sql =
           &quot;SELECT deptime, depqty, depsite, descrip, arvtime, arvqty, 
arvnote &quot; +
           &quot;FROM log&quot;;
       dbcmd.CommandText = sql;
       IDataReader reader = dbcmd.ExecuteReader();     

&lt;snip&gt;

//(In a while loop here)
            deptime = (string) reader[&quot;deptime&quot;];
            depqty = (int) reader[&quot;depqty&quot;];
            depsite = (string) reader[&quot;depsite&quot;];
            descrip = (string) reader[&quot;descrip&quot;];
            arvtime = (string) reader[&quot;arvtime&quot;];
            arvqty = (int) reader[&quot;arvqty&quot;];
            arvnote = (string) reader[&quot;arvnote&quot;];
&lt;/yammer&gt;

Okay, compiles fine.  But when I run the exe I get:

&gt;<i> Unhandled Exception: System.InvalidCastException: Cannot cast from 
</I>&gt;<i> source type to destination type.
</I>&gt;<i> in &lt;0x0029c&gt; Test:Main (string[])
</I>

The &quot;deptim&quot; and &quot;depqty&quot; lines execute fine, as does the &quot;arvqty&quot; line, 
but all the other strings give this error.   All of the values being put 
into strings are varchar(32) in the databased, and all the variables 
have been declared as int or string, respectively.
     Thanks,
           ES


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009377.html">[Mono-devel-list] File::Move(string,string) patch
</A></li>
	<LI>Next message: <A HREF="009380.html">[Mono-devel-list] Another C# ?: InvalidCastException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9365">[ date ]</a>
              <a href="thread.html#9365">[ thread ]</a>
              <a href="subject.html#9365">[ subject ]</a>
              <a href="author.html#9365">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
