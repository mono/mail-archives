<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] SSAPRE news
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SSAPRE%20news&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009166.html">
   <LINK REL="Next"  HREF="009178.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] SSAPRE news</H1>
    <B>Massimiliano Mantione</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SSAPRE%20news&In-Reply-To="
       TITLE="[Mono-devel-list] SSAPRE news">massi at ximian.com
       </A><BR>
    <I>Wed Dec  1 10:12:40 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009166.html">[Mono-devel-list] RAPGO Proposal
</A></li>
        <LI>Next message: <A HREF="009178.html">[Mono-devel-list] SSAPRE news
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9175">[ date ]</a>
              <a href="thread.html#9175">[ thread ]</a>
              <a href="subject.html#9175">[ subject ]</a>
              <a href="author.html#9175">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>First, some good news: the issue my code had with loop invariants
is gone, and with it the workaround I applied to &quot;cover&quot; it :-)
This means that now SSAPRE is correctly applied to all loop
invariants, and the resulting code performs even better!

Then, a question for jit hackers...
I finally noticed that SSAPRE and &#65279;consprop|copyprop don't work
together (and in fact this was expected, since SSAPRE doesn't like
&quot;messed up&quot; SSA, and copyprop can easily produce it).

I then tried to apply consprop|copyprop after SSAPRE (only when
SSAPRE is enabled, otherwise everything stays as it is).
To my surprise, consprop|copyprop were still fairly effective, but
the issue did not go away :-(
By the way, the issue happens in the &quot;even-odd&quot; regression test.

I still haven't investigated what is *actually* happening... I
tried to force &#65279;consprop|copyprop disabled when SSAPRE is enabled,
but the obvious result is that performance suffers badly.

It might take me a lot to fix this thing, but in the meanwhile
would it be OK to commit SSAPRE anyway, but leaving it disabled
by default (even if somebody uses '-O=all')?

Or, alternatively, I could force SSAPRE disabled when one of
consprop|copyprop is present.

What do you think?
And, by the way, when could I commit SSAPRE?
(still no comments on the patch so far... I wanted to commit as
soon as I have finished documenting it)

One last thing: I am commenting the source, but in most cases the
real explanation is in the SSAPRE paper. Only, it is often not
obvious *which* piece of the paper has the explanation (unless one
knows the paper very well, and in that case most of the comments
would be pointless anyway).
Would it make sense, where I do not deviate from the paper (95%
of the code) but things are not obvious (a lot of places), to just
put &quot;pointers&quot; to the paper in the comments?
Something like &quot;/* See section x.y.z, the paragraph about foo */&quot;.
I know this sounds strange, but that paper is in any case a required
reading to understand the code...

Ciao,
  Massi



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009166.html">[Mono-devel-list] RAPGO Proposal
</A></li>
	<LI>Next message: <A HREF="009178.html">[Mono-devel-list] SSAPRE news
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9175">[ date ]</a>
              <a href="thread.html#9175">[ thread ]</a>
              <a href="subject.html#9175">[ subject ]</a>
              <a href="author.html#9175">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
