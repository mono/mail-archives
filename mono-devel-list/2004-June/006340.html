<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] Large patch for Reflection.Emit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Large%20patch%20for%20Reflection.Emit&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006337.html">
   <LINK REL="Next"  HREF="006341.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] Large patch for Reflection.Emit</H1>
    <B>Gert Driesen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Large%20patch%20for%20Reflection.Emit&In-Reply-To="
       TITLE="[Mono-devel-list] [PATCH] Large patch for Reflection.Emit">gert.driesen at pandora.be
       </A><BR>
    <I>Wed Jun  9 11:25:46 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="006337.html">[Mono-devel-list] [PATCH] Large patch for Reflection.Emit
</A></li>
        <LI>Next message: <A HREF="006341.html">[Mono-devel-list] [PATCH] Large patch for Reflection.Emit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6340">[ date ]</a>
              <a href="thread.html#6340">[ thread ]</a>
              <a href="subject.html#6340">[ subject ]</a>
              <a href="author.html#6340">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>----- Original Message -----
From: &quot;Paolo Molaro&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>&gt;
To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Sent: Wednesday, June 09, 2004 5:04 PM
Subject: Re: [Mono-devel-list] [PATCH] Large patch for Reflection.Emit


&gt;<i> On 06/08/04 Gert Driesen wrote:
</I>&gt;<i> &gt; * EnumBuilder.cs: implemented EnumBuilder as wrapper class for
</I>&gt;<i> &gt; TypeBuilder, meaning rely on TypeBuilder implementation as
</I>&gt;<i> &gt; an enum is just a special type.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; * MethodBuilder.cs: move check to see if type has already up
</I>&gt;<i> &gt; to match MS.NET behaviour, fix GetHashCode (removed TODO)
</I>&gt;<i>
</I>&gt;<i> These look fine to commit. Please also commit the tests.
</I>
Is it ok to commit the unit tests, although they fail on the current
implementation of TypeBuilder/EnumBuilder ?  I guess so, no ?

&gt;<i>
</I>&gt;<i> &gt; * TypeBuilder.cs: removed code duplication as we do not need
</I>&gt;<i> &gt; to return methods/events/properties when type has not been
</I>&gt;<i> &gt; created, fixed Get* methods to return actual events/fields/...
</I>&gt;<i> &gt; when type has been completed, implemented IsCOMObjectImpl,
</I>&gt;<i> &gt; removed unnecessary FIXME's
</I>&gt;<i>
</I>&gt;<i> Most of the changes in TypeBuilder.cs look too intrusive this late
</I>&gt;<i> in the release process and IIRC some of the code you remove was added
</I>&gt;<i> because it was needed and we didn't want to match the MS misfeatures in
</I>&gt;<i> some cases.
</I>
The MS implementation actually does not allow you to retrieve the members
(methods, events, ...) of a type until its actually created.  I think (but
I'm only guessing here) the reason why the Mono TypeBuilder had a lot of
additional code was because it did allow this, so it could not rely on the
created type for this.  I've changed the behaviour of TypeBuilder to match
the MS implementation.  This also avoids a lot of code duplication.

&gt;<i> I suggest you apply just the FIXME-removing hunks and the
</I>&gt;<i> simple property fixes and save the rest of the patch in a bugzilla bug
</I>&gt;<i> so it doesn't get lost.
</I>
Too bad, but I understand ...

Gert

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006337.html">[Mono-devel-list] [PATCH] Large patch for Reflection.Emit
</A></li>
	<LI>Next message: <A HREF="006341.html">[Mono-devel-list] [PATCH] Large patch for Reflection.Emit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6340">[ date ]</a>
              <a href="thread.html#6340">[ thread ]</a>
              <a href="subject.html#6340">[ subject ]</a>
              <a href="author.html#6340">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
