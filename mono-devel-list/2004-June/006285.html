<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Threading, NPTL, libgc (beta2)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Threading%2C%20NPTL%2C%20libgc%20%28beta2%29&In-Reply-To=1086412945.4044.2053.camel%40erandi.boston.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006264.html">
   <LINK REL="Next"  HREF="006563.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Threading, NPTL, libgc (beta2)</H1>
    <B>Mike Morano</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Threading%2C%20NPTL%2C%20libgc%20%28beta2%29&In-Reply-To=1086412945.4044.2053.camel%40erandi.boston.ximian.com"
       TITLE="[Mono-devel-list] Threading, NPTL, libgc (beta2)">mmorano at mikeandwan.us
       </A><BR>
    <I>Mon Jun  7 22:29:39 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="006264.html">[Mono-devel-list] Threading, NPTL, libgc (beta2)
</A></li>
        <LI>Next message: <A HREF="006563.html">[Mono-devel-list] Threading, NPTL, libgc (beta2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6285">[ date ]</a>
              <a href="thread.html#6285">[ thread ]</a>
              <a href="subject.html#6285">[ subject ]</a>
              <a href="author.html#6285">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been continuing to try to explore the odd behavior on gentoo, and have 
made the following observations (if these are useless, I apologize):

a)  I ran XSP multiple times against the xsp test suite, while running a full 
trace in mono.  The only interesting thing of note, is that 4 different 
executions caused the hang at different points.  For example, one execution 
hanged during the HttpWriter.Clear, and another time in the IPEndPoint 
constructor.

b) I also made a call trace for the executing xsp process once it was hung.  I 
have attached the file containing the mono related bits, hopefully this helps 
provide some insight (though doesn't mean much to me).

If there is any other information I can give you, please let me know, I would 
love to help.

Thanks!
  Mike

On Saturday 05 June 2004 01:22 am, Miguel de Icaza wrote:
&gt;<i> hello,
</I>&gt;<i>
</I>&gt;<i> &gt;   I think I am in the same boat as you.  Since upgrading to beta2, I have
</I>&gt;<i> &gt; been running into odd behavior w/ XSP and mod_mono (and I also run
</I>&gt;<i> &gt; gentoo).  I sent a note to the mono user list about this, but haven't
</I>&gt;<i> &gt; heard anything yet. I tried upgrading to the latest available glibc, and
</I>&gt;<i> &gt; still have the same problems.  I might try to play around with some
</I>&gt;<i> &gt; things this weekend, but I am not hopeful...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   Are there any happy Gentoo folks that aren't having this odd behavior
</I>&gt;<i> &gt; in beta2? (then we can compare the packages we each have installed..)
</I>&gt;<i>
</I>&gt;<i> What we are going to need from you guys is the smallest possible
</I>&gt;<i> program that breaks on your system, and we will start tracking the
</I>&gt;<i> issue down from there.
</I>&gt;<i>
</I>&gt;<i> Could you guys cook the smallest possible program possible?
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>-------------- next part --------------
Jun  7 21:49:07 aeris start_aspnet. S D9EF97A0     0 13419  13412 13421               (NOTLB)
Jun  7 21:49:07 aeris f4d8ff3c 00200082 d9ef9780 d9ef97a0 dba3af04 e49beb30 c011219c d9ef9780 
Jun  7 21:49:07 aeris dba3af04 e49be5b0 000118a2 d0faaa6a 00000a60 e49beb30 e49becd8 fffffe00 
Jun  7 21:49:07 aeris f4d8e000 e49bebc8 e49bebc8 c0119804 ffffffff 00000000 e49be5b0 bfffec74 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c011219c&gt;] do_page_fault+0x32c/0x50c
Jun  7 21:49:07 aeris [&lt;c0119804&gt;] sys_wait4+0x194/0x270
Jun  7 21:49:07 aeris [&lt;c0113980&gt;] default_wake_function+0x0/0x20
Jun  7 21:49:07 aeris [&lt;c0113980&gt;] default_wake_function+0x0/0x20
Jun  7 21:49:07 aeris [&lt;c0121590&gt;] sys_rt_sigprocmask+0xa0/0x100
Jun  7 21:49:07 aeris [&lt;c0119907&gt;] sys_waitpid+0x27/0x2b
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 00000A24     0 13421  13419 13422               (NOTLB)
Jun  7 21:49:07 aeris e5c7bf94 00000082 f7225c40 00000a24 dab23f64 00000001 0819d760 0000000b 
Jun  7 21:49:07 aeris 00000000 e3f036b0 00000243 6f002e09 00000a65 e49be5b0 e49be758 e5c7a000 
Jun  7 21:49:07 aeris e5c7bfc4 00000002 e5c7a000 c0104b75 e5c7bfb0 0819dac0 00000008 7ffbba99 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c0104b75&gt;] sys_rt_sigsuspend+0xa5/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 00000A24     0 13423  13421         13424 13422 (NOTLB)
Jun  7 21:49:07 aeris e9ab9f94 00000082 f7225c40 00000a24 dab23f64 00000001 08249cc0 0000000b 
Jun  7 21:49:07 aeris 00000000 e3f036b0 00000295 6f000b83 00000a65 e3f02630 e3f027d8 e9ab8000 
Jun  7 21:49:07 aeris e9ab9fc4 00000002 e9ab8000 c0104b75 e9ab9fb0 0819dac0 00000008 7ffbba99 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c0104b75&gt;] sys_rt_sigsuspend+0xa5/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 00000A24     0 13424  13421 13425   13449 13423 (NOTLB)
Jun  7 21:49:07 aeris e42adf94 00000082 f7225c40 00000a24 dab23f64 00000001 08249990 0000000b 
Jun  7 21:49:07 aeris 00000000 e3f036b0 00002340 6effe65c 00000a65 e3f02bb0 e3f02d58 e42ac000 
Jun  7 21:49:07 aeris e42adfc4 00000002 e42ac000 c0104b75 e42adfb0 0819dac0 00000008 7ffbba99 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c0104b75&gt;] sys_rt_sigsuspend+0xa5/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 00000A24     0 13425  13424 13462               (NOTLB)
Jun  7 21:49:07 aeris db471f94 00000082 f7225c40 00000a24 dab23f64 00000001 08249660 0000000b 
Jun  7 21:49:07 aeris 00000000 e3f036b0 00003b9a 6effb840 00000a65 e3f03130 e3f032d8 db470000 
Jun  7 21:49:07 aeris db471fc4 00000002 db470000 c0104b75 db471fb0 0819dac0 00000008 7ffbba99 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c0104b75&gt;] sys_rt_sigsuspend+0xa5/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 00000A24     0 13449  13421         13450 13424 (NOTLB)
Jun  7 21:49:07 aeris dc3a1f94 00000082 f7225c40 00000a24 dab23f64 00000001 08381660 0000000b 
Jun  7 21:49:07 aeris 00000000 e3f036b0 00000226 6eff7191 00000a65 e4a6f0f0 e4a6f298 dc3a0000 
Jun  7 21:49:07 aeris dc3a1fc4 00000002 dc3a0000 c0104b75 dc3a1fb0 0819dac0 00000008 7ffbba99 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c0104b75&gt;] sys_rt_sigsuspend+0xa5/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 00000A24     0 13450  13421         13451 13449 (NOTLB)
Jun  7 21:49:07 aeris dbb9ff94 00000082 f7225c40 00000a24 dab23f64 00000001 08381cc0 0000000b 
Jun  7 21:49:07 aeris 00000000 e3f036b0 00000245 6eff516e 00000a65 e4a6f670 e4a6f818 dbb9e000 
Jun  7 21:49:07 aeris dbb9ffc4 00000002 dbb9e000 c0104b75 dbb9ffb0 0819dac0 00000008 7ffbba99 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c0104b75&gt;] sys_rt_sigsuspend+0xa5/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 00000A24     0 13451  13421         13452 13450 (NOTLB)
Jun  7 21:49:07 aeris d97bdf94 00000082 f7225c40 00000a24 dab23f64 00000001 08249330 0000000b 
Jun  7 21:49:07 aeris 00000000 e3f036b0 00000236 6eff3073 00000a65 e49bf0b0 e49bf258 d97bc000 
Jun  7 21:49:07 aeris d97bdfc4 00000002 d97bc000 c0104b75 d97bdfb0 0819dac0 00000008 7ffbba99 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c0104b75&gt;] sys_rt_sigsuspend+0xa5/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 00000A24     0 13452  13421         13453 13451 (NOTLB)
Jun  7 21:49:07 aeris d97bbf94 00000082 f7225c40 00000a24 dab23f64 00000001 08249000 0000000b 
Jun  7 21:49:07 aeris 00000000 e3f036b0 00000325 6eff0f24 00000a65 e49be030 e49be1d8 d97ba000 
Jun  7 21:49:07 aeris d97bbfc4 00000002 d97ba000 c0104b75 d97bbfb0 0819dac0 00000008 7ffbba99 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c0104b75&gt;] sys_rt_sigsuspend+0xa5/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 00000A24     0 13453  13421               13452 (NOTLB)
Jun  7 21:49:07 aeris dbbc9f94 00000082 f7225c40 00000a24 e3f036b0 00000001 08381330 0000000b 
Jun  7 21:49:07 aeris 00000000 e3f036b0 00004e9e 6efe9384 00000a65 ead4a230 ead4a3d8 dbbc8000 
Jun  7 21:49:07 aeris dbbc9fc4 00000002 dbbc8000 c0104b75 dbbc9fb0 0819dac0 00000008 7ffbba99 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c0104b75&gt;] sys_rt_sigsuspend+0xa5/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 6F01F4B3     0 13462  13425         13463       (NOTLB)
Jun  7 21:49:07 aeris d8753f94 00000082 f40731f0 6f01f4b3 00000a65 00000001 087c7990 6f01f4b3 
Jun  7 21:49:07 aeris 00000a65 f40731f0 000005d8 6f01f4b3 00000a65 ead4b830 ead4b9d8 d8752000 
Jun  7 21:49:07 aeris d8753fc4 00000000 d8752000 c0104b75 d8753fb0 0819dac0 00000008 7ffbba99 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c0104b75&gt;] sys_rt_sigsuspend+0xa5/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 6EF7C2EF     0 13463  13425               13462 (NOTLB)
Jun  7 21:49:07 aeris dab23ea0 00000082 e4a6eb70 6ef7c2ef 00000a65 00000000 ead4b830 6ef7c2ef 
Jun  7 21:49:07 aeris 00000a65 ead4b830 0000066f 6f01eedb 00000a65 e3f036b0 e3f03858 081aaa24 
Jun  7 21:49:07 aeris 7fffffff fffffff5 dab23ef0 c03e43f5 f7225c40 081aa000 005da8bf f7225c40 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c03e43f5&gt;] schedule_timeout+0xb5/0xc0
Jun  7 21:49:07 aeris [&lt;c0128f0a&gt;] queue_me+0x3a/0x80
Jun  7 21:49:07 aeris [&lt;c012912f&gt;] futex_wait+0x12f/0x1a0
Jun  7 21:49:07 aeris [&lt;c0113980&gt;] default_wake_function+0x0/0x20
Jun  7 21:49:07 aeris [&lt;c0113980&gt;] default_wake_function+0x0/0x20
Jun  7 21:49:07 aeris [&lt;c011e4eb&gt;] update_wall_time+0xb/0x40
Jun  7 21:49:07 aeris [&lt;c011e95f&gt;] do_timer+0xdf/0xf0
Jun  7 21:49:07 aeris [&lt;c0129440&gt;] do_futex+0x70/0x80
Jun  7 21:49:07 aeris [&lt;c011a7bd&gt;] __do_softirq+0x7d/0x80
Jun  7 21:49:07 aeris [&lt;c0129536&gt;] sys_futex+0xe6/0x100
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
Jun  7 21:49:07 aeris 
Jun  7 21:49:07 aeris mono          S 6EF85BF5     0 13422  13421         13423       (NOTLB)
Jun  7 21:49:07 aeris e55dbf10 00000082 f57977f0 6ef85bf5 00000a65 00000010 e3f036b0 6ef85bf5 
Jun  7 21:49:07 aeris 00000a65 f57977f0 0000030e 6f005b17 00000a65 e4a6eb70 e4a6ed18 00000000 
Jun  7 21:49:07 aeris 7fffffff e55dbf68 7fffffff c03e43f5 c04aa300 c03503b9 ead27080 e4fc1b40 
Jun  7 21:49:07 aeris Call Trace:
Jun  7 21:49:07 aeris [&lt;c03e43f5&gt;] schedule_timeout+0xb5/0xc0
Jun  7 21:49:07 aeris [&lt;c03503b9&gt;] sock_poll+0x29/0x40
Jun  7 21:49:07 aeris [&lt;c015cf5f&gt;] do_pollfd+0x4f/0x90
Jun  7 21:49:07 aeris [&lt;c015d04a&gt;] do_poll+0xaa/0xd0
Jun  7 21:49:07 aeris [&lt;c015d1c2&gt;] sys_poll+0x152/0x210
Jun  7 21:49:07 aeris [&lt;c015c570&gt;] __pollwait+0x0/0xd0
Jun  7 21:49:07 aeris [&lt;c01059b5&gt;] sysenter_past_esp+0x52/0x71
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006264.html">[Mono-devel-list] Threading, NPTL, libgc (beta2)
</A></li>
	<LI>Next message: <A HREF="006563.html">[Mono-devel-list] Threading, NPTL, libgc (beta2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6285">[ date ]</a>
              <a href="thread.html#6285">[ thread ]</a>
              <a href="subject.html#6285">[ subject ]</a>
              <a href="author.html#6285">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
