<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Threading, NPTL, libgc (beta2)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Threading%2C%20NPTL%2C%20libgc%20%28beta2%29&In-Reply-To=20040604183925.GC11117%40gonzo.stern.nyu.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006582.html">
   <LINK REL="Next"  HREF="006212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Threading, NPTL, libgc (beta2)</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Threading%2C%20NPTL%2C%20libgc%20%28beta2%29&In-Reply-To=20040604183925.GC11117%40gonzo.stern.nyu.edu"
       TITLE="[Mono-devel-list] Threading, NPTL, libgc (beta2)">lupus at ximian.com
       </A><BR>
    <I>Sun Jun  6 05:37:51 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="006582.html">[Mono-devel-list] Threading, NPTL, libgc (beta2)
</A></li>
        <LI>Next message: <A HREF="006212.html">[Mono-devel-list] [PATCH] Small speedup for Hashtable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6248">[ date ]</a>
              <a href="thread.html#6248">[ thread ]</a>
              <a href="subject.html#6248">[ subject ]</a>
              <a href="author.html#6248">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/04/04 Peter Johanson wrote:
&gt;<i> After upgrading to beta2, I've started running into some very erratic
</I>&gt;<i> behavior from blam and muine. In particular with blam, I was getting
</I>&gt;<i> frequent hangs. After struggling with trying to pinpoint things a bit, i
</I>&gt;<i> tried exporting GC_DONT_GC, and lo and behold, blam worked *perfectly*.
</I>&gt;<i> Muine is randomly segfaulting on me, and unfortunately disabling GC
</I>&gt;<i> didn't fix that. BUT, i noticed that with a non-NPTL glibc, blam was
</I>&gt;<i> having fewer/no issues.
</I>
Can you try the recently released Muine version? The one you used was
probably not dealing with the fact now mono frees strings from pinvoked
functions. Exporting MALLOC_CHECK_=2 would trigger that instantly.
The Blam hang seems completely unrelated. Yesterday I fixed a bug in
libgc which could cause hangs with some allocations, so you may want to
try mono from cvs and report details (the hang was really an infinite
loop, so you should have your cpu usage at 100% if it was this issue)).
When you get hangs, the best thing to do is to run gdb.
Run:
	ps aux | grep mono
to find the pid of the hanging process.
Then run:
	gdb /path/to/mono pid
And inside gdb:
	thread all apply bt
and post all the output you get in a bugzilla bug report.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006582.html">[Mono-devel-list] Threading, NPTL, libgc (beta2)
</A></li>
	<LI>Next message: <A HREF="006212.html">[Mono-devel-list] [PATCH] Small speedup for Hashtable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6248">[ date ]</a>
              <a href="thread.html#6248">[ thread ]</a>
              <a href="subject.html#6248">[ subject ]</a>
              <a href="author.html#6248">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
