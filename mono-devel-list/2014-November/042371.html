<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Review of PR #1407 - [MWF] Fix focus issue when removing last item in ListView
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Review%20of%20PR%20%231407%20-%20%5BMWF%5D%20Fix%20focus%20issue%20when%20removing%0A%20last%20item%20in%20ListView&In-Reply-To=%3C546CFD60.1020201%40sil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042367.html">
   <LINK REL="Next"  HREF="042373.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Review of PR #1407 - [MWF] Fix focus issue when removing last item in ListView</H1>
    <B>Eberhard Beilharz</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Review%20of%20PR%20%231407%20-%20%5BMWF%5D%20Fix%20focus%20issue%20when%20removing%0A%20last%20item%20in%20ListView&In-Reply-To=%3C546CFD60.1020201%40sil.org%3E"
       TITLE="[Mono-dev] Review of PR #1407 - [MWF] Fix focus issue when removing last item in ListView">eb1 at sil.org
       </A><BR>
    <I>Wed Nov 19 20:28:16 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="042367.html">[Mono-dev] PR #1415: [MWF] Fix bug that truncates button text
</A></li>
        <LI>Next message: <A HREF="042373.html">[Mono-dev] PR #1411: sdb patch to expose the AppDomain of a	StackFrame
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42371">[ date ]</a>
              <a href="thread.html#42371">[ thread ]</a>
              <a href="subject.html#42371">[ subject ]</a>
              <a href="author.html#42371">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>


-------- Forwarded Message --------
Subject: 	Fwd: Review of PR #1407 - [MWF] Fix focus issue when removing
last item in ListView
Date: 	Wed, 19 Nov 2014 14:23:57 -0500



Can you send this message to the mono-devel-list?  Mine hasn't been
moderated yet.  Maybe if you send it, then it will get reviewed.

Chris


-------- Forwarded Message --------
Subject: 	Review of PR #1407 - [MWF] Fix focus issue when removing last
item in ListView
Date: 	Tue, 18 Nov 2014 09:28:55 -0500
From: 	Chris Hubbard &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">chris_hubbard at sil.org</A>&gt;
To: 	<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>



Hello,

We found an issue while testing a form that uses
System.Windows.Forms.ListView.

If the last item in a ListView has focus and it is removed by
an another action on the form (i.e. push a button to remove the
current item), then the focused_item_index is not updated when
the VirtualListSize changes, even though that item doesn't exist
anymore. When the ListView receives focus again, it tries to
invalidate the current focused item which causes an
ArgumentOutOfRangeException.

When the VirtualListSize changes, the focus_item_index should
be reset (similar to how it currently resets the selected indices).

<A HREF="https://github.com/mono/mono/pull/1407">https://github.com/mono/mono/pull/1407</A>

Thanks,

Chris Hubbard





-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141119/06bdfb6e/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20141119/06bdfb6e/attachment.html</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042367.html">[Mono-dev] PR #1415: [MWF] Fix bug that truncates button text
</A></li>
	<LI>Next message: <A HREF="042373.html">[Mono-dev] PR #1411: sdb patch to expose the AppDomain of a	StackFrame
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42371">[ date ]</a>
              <a href="thread.html#42371">[ thread ]</a>
              <a href="subject.html#42371">[ subject ]</a>
              <a href="author.html#42371">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
