<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Crash course on bringing .NET open sourced code to Mono.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Crash%20course%20on%20bringing%20.NET%20open%20sourced%20code%20to%0A%20Mono.&In-Reply-To=%3C5469D58E.4030801%40twistedcode.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042346.html">
   <LINK REL="Next"  HREF="042336.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Crash course on bringing .NET open sourced code to Mono.</H1>
    <B>Marek Habersack</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Crash%20course%20on%20bringing%20.NET%20open%20sourced%20code%20to%0A%20Mono.&In-Reply-To=%3C5469D58E.4030801%40twistedcode.net%3E"
       TITLE="[Mono-dev] Crash course on bringing .NET open sourced code to Mono.">grendel at twistedcode.net
       </A><BR>
    <I>Mon Nov 17 11:01:34 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="042346.html">[Mono-dev] Crash course on bringing .NET open sourced code to	Mono.
</A></li>
        <LI>Next message: <A HREF="042336.html">[Mono-dev] Cross-Platform GUI Tookit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42360">[ date ]</a>
              <a href="thread.html#42360">[ thread ]</a>
              <a href="subject.html#42360">[ subject ]</a>
              <a href="author.html#42360">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/11/14 15:48, Miguel de Icaza wrote:
&gt;<i> Each one needs to be discussed
</I>&gt;<i>
</I>&gt;<i> Some of the Ms behaviors don't work on Unix, so not only we shouldn't bring it, we should work towards a better shared
</I>&gt;<i> set of new Apis
</I>I would be all in favor of this approach. In fact, I'd advocate for having a rule that forbids bringing non-trivial 
Microsoft sources to Mono as they are. Not because they are bad, but precisely because they have lots of 
Windows-specific code that will not work on other platforms. The fact is that Mono source code is far more portable in 
many areas. I think the way to work with it is to review each non-trivial source side-by-side and bring the missing bits 
to the Mono side (as well as fix the apparent bugs) by modifying the Mono sources using the Microsoft ones as reference. 
Adding tests in the process will ensure that the behavior is the same for both sets of sources and, in the end, we'll 
have a solid base for the better API Miguel mentions. Mono sources could serve as the base for this being curated for 
portability over 14 years of development (first, of course, we'd have to get rid of the #ifdef cruft, clean up the 
sources, get rid of all the guesswork implementations we had to do over the years). In general, I think we shouldn't 
rush anything but take our time to produce codebase that merges the best of both worlds. Community help would be 
greately appreciated here - the more eyes on the sources, the better. We should peruse PRs and put as many eyes on them 
as possible.

marek
&gt;<i>
</I>&gt;<i> Not sure what you meant in this specific case.
</I>&gt;<i>
</I>&gt;<i> On Saturday, November 15, 2014, Greg Young &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">gregoryyoung1 at gmail.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">gregoryyoung1 at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     What's the plan on where there are differences in behavior? An example of this would be uri matching. I would guess
</I>&gt;<i>     it makes sense to use the ms stuff moving forward, how will changes in current behavior be communicated
</I>&gt;<i>
</I>&gt;<i>     On Saturday, November 15, 2014, Miguel de Icaza &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at xamarin.com</A>
</I>&gt;<i>     &lt;javascript:_e(%7B%7D,'cvml','<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at xamarin.com</A>');&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>         Hey guys,
</I>&gt;<i>
</I>&gt;<i>         Sami reached out to me, and was wondering how to get started in bringing some code to Mono, in particular WCF to
</I>&gt;<i>         Mono.   So I wrote this small guide for newcomers.
</I>&gt;<i>
</I>&gt;<i>         I would say it takes a couple of steps:
</I>&gt;<i>
</I>&gt;<i>           * Build your own local version of Mono on Linux.
</I>&gt;<i>           * Make sure it works &quot;mcs&quot; should be able to run after installing it.
</I>&gt;<i>           * Run a trivial self-hosted WCF server/client
</I>&gt;<i>           * Make a trivial change to the WCF class library, and install this version to test you can make changes
</I>&gt;<i>             locally and have them run:
</I>&gt;<i>               o cd mono/mcs/class/System.ServiceModel
</I>&gt;<i>               o Make changes
</I>&gt;<i>               o make install
</I>&gt;<i>               o Run your test again in another window
</I>&gt;<i>               o Repeat
</I>&gt;<i>           * Make sure you can run the test suite:
</I>&gt;<i>               o cd mono/mcs/class/System.ServiceModel
</I>&gt;<i>               o make run-test-local
</I>&gt;<i>
</I>&gt;<i>         Once you are ready, you can start importing code.   Ideally, you want to go for high-value targets: the most
</I>&gt;<i>         buggy parts of Mono's stack (you can check bugzilla for reports on memory usage, bugs).   Or you can pick a
</I>&gt;<i>         missing feature.
</I>&gt;<i>
</I>&gt;<i>         To import code, modify the relevant &quot;.sources&quot; file in the System.ServiceModel directory (where you ran the
</I>&gt;<i>         test) and replace a local file, with a reference to the &quot;referencesource&quot;.
</I>&gt;<i>
</I>&gt;<i>         Chances are, you will need to make changes to the &quot;referencesource&quot; code, since a lot of it is Windows specific.
</I>&gt;<i>
</I>&gt;<i>         Miguel
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         On Fri, Nov 14, 2014 at 5:25 PM, Sami Ben Grine &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">SBen-Grine at axarosenberg.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>             Sweet &#8211; is there anything I can do to make progress?____
</I>&gt;<i>
</I>&gt;<i>             __ __
</I>&gt;<i>
</I>&gt;<i>             I am somewhat ignorant about Mono but I am pretty ok with .NET and Linux.____
</I>&gt;<i>
</I>&gt;<i>             __ __
</I>&gt;<i>
</I>&gt;<i>             thanks____
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     --
</I>&gt;<i>     Studying for the Turing test
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042346.html">[Mono-dev] Crash course on bringing .NET open sourced code to	Mono.
</A></li>
	<LI>Next message: <A HREF="042336.html">[Mono-dev] Cross-Platform GUI Tookit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42360">[ date ]</a>
              <a href="thread.html#42360">[ thread ]</a>
              <a href="subject.html#42360">[ subject ]</a>
              <a href="author.html#42360">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
