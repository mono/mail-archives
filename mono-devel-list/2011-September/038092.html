<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono-devel-list Digest, Vol 77, Issue 6
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono-devel-list%20Digest%2C%20Vol%2077%2C%20Issue%206&In-Reply-To=mailman.49822.1316268317.5586.mono-devel-list%40lists.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038090.html">
   <LINK REL="Next"  HREF="038094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono-devel-list Digest, Vol 77, Issue 6</H1>
    <B>Joe Dluzen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono-devel-list%20Digest%2C%20Vol%2077%2C%20Issue%206&In-Reply-To=mailman.49822.1316268317.5586.mono-devel-list%40lists.ximian.com"
       TITLE="[Mono-dev] Mono-devel-list Digest, Vol 77, Issue 6">jdluzen at gmail.com
       </A><BR>
    <I>Wed Sep 21 14:13:18 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="038090.html">[Mono-dev] question: huge amounts of RAM
</A></li>
        <LI>Next message: <A HREF="038094.html">[Mono-dev] Multiple Monos in a single process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38092">[ date ]</a>
              <a href="thread.html#38092">[ thread ]</a>
              <a href="subject.html#38092">[ subject ]</a>
              <a href="author.html#38092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Robert, I expected something like that.

Is there an easy way to determine if the runtime has already been
initted? I would like to use Mono for practically all logic for my
unmanaged SO needs, yet allow for the possibility that the application
is managed. I would like to avoid requiring the app to pass some Mono
handle into the SO to do all its work, though if that's the way it is,
then that's the way it is. Then comes the issue of versioning the
runtimes, 2 corlibs being loaded, etc. Should I just stay away from
this whole thing?

Are there any complications that I should be aware of when the
SO+managed code is ready to be unload from the process?

Thanks,
Joe

&gt;<i> Date: Tue, 13 Sep 2011 11:53:07 +0200
</I>&gt;<i> From: Robert Jordan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">robertj at gmx.net</A>&gt;
</I>&gt;<i> Subject: Re: [Mono-dev] Multiple Monos in a single process
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Message-ID: &lt;j4n96i$6is$<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">1 at dough.gmane.org</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
</I>&gt;<i>
</I>&gt;<i> On 12.09.2011 22:23, Joe Dluzen wrote:
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> let's say I have a C# app A which PInvokes to a native SO/DLL B, which
</I>&gt;&gt;<i> embeds Mono for basically 100% of its logic. Do bad things happen on
</I>&gt;&gt;<i> Linux vs Windows?
</I>&gt;<i>
</I>&gt;<i> Yes. Under Linux, libmono is statically linked by default.
</I>&gt;<i> If you p/invoke a library that it turn is linked against
</I>&gt;<i> libmono, you'll end up with 2 runtime instances.
</I>&gt;<i>
</I>&gt;<i> Even if you link libmono dynamically (there is a `configure'
</I>&gt;<i> switch for this), you must take care to initialize the runtime
</I>&gt;<i> only once. This means that you can't call mono_jit_init/cleanup
</I>&gt;<i> from the SO.
</I>&gt;<i>
</I>&gt;<i> Robert
</I></PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038090.html">[Mono-dev] question: huge amounts of RAM
</A></li>
	<LI>Next message: <A HREF="038094.html">[Mono-dev] Multiple Monos in a single process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38092">[ date ]</a>
              <a href="thread.html#38092">[ thread ]</a>
              <a href="subject.html#38092">[ subject ]</a>
              <a href="author.html#38092">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
