<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono and medium trust
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20and%20medium%20trust&In-Reply-To=4E620B39.5030304%40hailmail.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038051.html">
   <LINK REL="Next"  HREF="038053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono and medium trust</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20and%20medium%20trust&In-Reply-To=4E620B39.5030304%40hailmail.net"
       TITLE="[Mono-dev] Mono and medium trust">robertj at gmx.net
       </A><BR>
    <I>Sat Sep  3 09:21:38 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="038051.html">[Mono-dev] Mono and medium trust
</A></li>
        <LI>Next message: <A HREF="038053.html">[Mono-dev] Mono and medium trust
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38052">[ date ]</a>
              <a href="thread.html#38052">[ thread ]</a>
              <a href="subject.html#38052">[ subject ]</a>
              <a href="author.html#38052">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03.09.2011 13:10, quandary wrote:
&gt;&gt;<i>   You could, but this is not how security evolves ;)
</I>&gt;<i>
</I>&gt;<i> xD I know. But for now, a quick and dirty hack is better than half a
</I>&gt;<i> year of work.
</I>&gt;<i>
</I>&gt;<i> Looking at:
</I>&gt;<i> mono/metadata/loader.c:mono_lookup_pinvoke_call
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I just wanted to say, that looking at the source file, this line hurt my
</I>&gt;<i> eye:
</I>&gt;<i> if (strstr (new_scope, &quot;.dll&quot;) == (new_scope + strlen (new_scope) - 4)) {
</I>&gt;<i>
</I>&gt;<i> If you want to check whether new_scope ends on &quot;.dll&quot;, I wouldn't do a
</I>&gt;<i> strstr.
</I>
This is correct, but the average length of &quot;new_scope&quot; is small
because it doesn't contain a full path most of the time, so we're
basically talking about optimizing the lookup of &quot;.dll&quot; in
strings like &quot;kernel32.dll&quot; or &quot;libc.so.6&quot; in a function
that does a lot of other costly stuff... Mono hackers usually
take this into account during coding.

I'm not saying that functions like str_{starts|ends}_with()
won't be useful, but it's usually not rewarding enough to
touch already tested (and profiled) code.

If you find such issues in the future, please file bugs so
they don't get lost because the probability that some hacker
will track our conversation and replace strstr is near zero.

Robert

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038051.html">[Mono-dev] Mono and medium trust
</A></li>
	<LI>Next message: <A HREF="038053.html">[Mono-dev] Mono and medium trust
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38052">[ date ]</a>
              <a href="thread.html#38052">[ thread ]</a>
              <a href="subject.html#38052">[ subject ]</a>
              <a href="author.html#38052">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
