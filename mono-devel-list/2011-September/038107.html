<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Socket.Accept() causes [1]+  Stopped
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Socket.Accept%28%29%20causes%20%5B1%5D%2B%20%20Stopped&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038105.html">
   <LINK REL="Next"  HREF="038108.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Socket.Accept() causes [1]+  Stopped</H1>
    <B>DJL</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Socket.Accept%28%29%20causes%20%5B1%5D%2B%20%20Stopped&In-Reply-To="
       TITLE="[Mono-dev] Socket.Accept() causes [1]+  Stopped">djleehaha at googlemail.com
       </A><BR>
    <I>Tue Sep 27 09:28:50 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="038105.html">[Mono-dev] Exception on ASP.NET startup
</A></li>
        <LI>Next message: <A HREF="038108.html">[Mono-dev] Socket.Accept() causes [1]+  Stopped
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38107">[ date ]</a>
              <a href="thread.html#38107">[ thread ]</a>
              <a href="subject.html#38107">[ subject ]</a>
              <a href="author.html#38107">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone, first post on here.

I'm getting a bizzarre behaviour and I'm hoping you guys can help.
Sorry if this is the wrong place to post this.

Short version:
Calling Socket.Accept() is causing my application to freeze. A commandline
&quot;fg&quot; resumes it.

Long version:
Ok so I have a multi-threaded, Multi DLL  application.
Several of these DLLs are calling Socket.Accept() without issue.
However the newest of these is causing the application to stop every time.
The commandline shows &quot;[1]+  Stopped&quot; and no other output.
typing &quot;fg&quot; causes the application to continue as if nothing happened.

Here is an excerpt from my code:

/
Log(9, &quot;pcsBash.Start()&quot;);
pcsBash.Start();
Log(9, &quot;&lt;&quot;);
stStdIn = pcsBash.StandardInput.BaseStream;
stStdErr = pcsBash.StandardOutput.BaseStream;
Log(9, &quot;Accept()&quot;);
sktStdOut = sktStdOutListen.Accept();
Log(9, &quot;&lt;&quot;);
stStdOut = new System.Net.Sockets.NetworkStream(sktStdOut, true);
Log(9, &quot;&lt;&quot;);/


Looking in the log when it stops (before typing fg) the last entry is
&quot;Accept()&quot;
(And yes the log is being flushed after each line).

It is always in this same place, which leads me to suspect it is NOT one of
the other threads causing this.

Anyone have any ideas what could possibly cause this?

Incidentally - the same code running on Windows in Microsoft's .Net does not
do anything out of the ordinary - although I imagine if it did the symptoms
might be quite different?

Once again, thanks for any help you can give on this baffling issue

System info:

/#mono --version
Mono JIT compiler version 2.8.2 (tarball Wed Feb 23 09:31:21 UTC 2011)
Copyright (C) 2002-2010 Novell, Inc and Contributors. www.mono-project.com
        TLS:           __thread
        SIGSEGV:       altstack
        Notifications: epoll
        Architecture:  amd64
        Disabled:      none
        Misc:          debugger softdebug
        LLVM:          supported, not enabled.
        GC:            Included Boehm (with typed GC and Parallel Mark)
#uname -a
Linux svn 2.6.37.6-0.7-desktop #1 SMP PREEMPT 2011-07-21 02:17:24 +0200
x86_64 x86_64 x86_64 GNU/Linux
/


--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Socket-Accept-causes-1-Stopped-tp3847351p3847351.html">http://mono.1490590.n4.nabble.com/Socket-Accept-causes-1-Stopped-tp3847351p3847351.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038105.html">[Mono-dev] Exception on ASP.NET startup
</A></li>
	<LI>Next message: <A HREF="038108.html">[Mono-dev] Socket.Accept() causes [1]+  Stopped
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38107">[ date ]</a>
              <a href="thread.html#38107">[ thread ]</a>
              <a href="subject.html#38107">[ subject ]</a>
              <a href="author.html#38107">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
