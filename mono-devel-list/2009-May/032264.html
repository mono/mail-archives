<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Problem with reference not refreshed or specific version binding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problem%20with%20reference%20not%20refreshed%20or%20specific%0A%20version%20binding&In-Reply-To=MAILSERVERapzhad2Vq000005bd%40mail.apsystems.it">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032258.html">
   <LINK REL="Next"  HREF="032267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Problem with reference not refreshed or specific version binding</H1>
    <B>Mirco Bauer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problem%20with%20reference%20not%20refreshed%20or%20specific%0A%20version%20binding&In-Reply-To=MAILSERVERapzhad2Vq000005bd%40mail.apsystems.it"
       TITLE="[Mono-dev] Problem with reference not refreshed or specific version binding">meebey at debian.org
       </A><BR>
    <I>Mon May 25 13:41:43 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032258.html">[Mono-dev] Problem with reference not refreshed or specific version binding
</A></li>
        <LI>Next message: <A HREF="032267.html">[Mono-dev] Problem with reference not refreshed or specific version binding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32264">[ date ]</a>
              <a href="thread.html#32264">[ thread ]</a>
              <a href="subject.html#32264">[ subject ]</a>
              <a href="author.html#32264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 25 May 2009 09:48:34 +0200
APS &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">dev.malst at apsystems.it</A>&gt; wrote:

&gt;<i> So you confirm that if I have a non-strongnamed library version 
</I>&gt;<i> 1.1.0.0 and I make a new bug fix version 1.1.1.0 (I think that 
</I>&gt;<i> changing revision is a normal behavior when fixing bugs) I have to 
</I>&gt;<i> rebuild all the assemblies that use it otherwise I'll obtain a 
</I>&gt;<i> reference not found error? With &quot;not equal only in version number&quot; 
</I>&gt;<i> Gonzalo means &quot;with no difference in interface&quot;?
</I>
You have 3 options to handle this:

a) do not bump the assembly version and deploy the new version using
the same version number (can be seen as overwriting the old version)

b) bump the assembly version on each release (like you did) and install
policy files that map the old version number to the new one: e.g.
1.1.0.0 to 1.1.1.0, that's a feature provided by Mono and .NET, see:
<A HREF="http://pkg-mono.alioth.debian.org/cli-policy/ch-appendix.html#s-gac-policy-file-example">http://pkg-mono.alioth.debian.org/cli-policy/ch-appendix.html#s-gac-policy-file-example</A>
or
<A HREF="http://msdn.microsoft.com/en-us/library/dz32563a.aspx">http://msdn.microsoft.com/en-us/library/dz32563a.aspx</A>

c) bump the assembly version on each release but don't install policy
files and recompile all applications that use that library.

&gt;<i> 
</I>&gt;<i> At 18.44 22/05/2009, Robert Jordan wrote:
</I>&gt;<i> &gt;APS wrote:
</I>&gt;<i> &gt; &gt; I already do that. I don't have wildcards and I increment the
</I>&gt;<i> &gt; &gt; version when I fix some bug or add some feature to the library.
</I>&gt;<i> &gt; &gt; But I'm not able to install an existing exe with a fixed library
</I>&gt;<i> &gt; &gt; without recompiling it, even if the interface is compatible. it
</I>&gt;<i> &gt; &gt; always says that the version number is not as expected.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Don't bump the version if the interface remains compatible.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;As Gonzalo already wrote: there are subtle differences between
</I>&gt;<i> &gt;mono and MS.NET. Mono behaves more like MS.NET when the assemblies
</I>&gt;<i> &gt;are strongnamed. Otherwise it's stricter than MS.NET.
</I>
I have to disagree, .NET for example does not accept private
but strong named libraries were the major number part was changed.

To my experience Mono is less strict than .NET when it comes to
versioning, also see the gacutil issues with delayed signing Mono had.

&gt;<i> &gt;
</I>&gt;<i> &gt;Robert
</I>
-- 
Regards,

Mirco 'meebey' Bauer

PGP-Key ID: 0xEEF946C8

FOSS Developer    <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">meebey at meebey.net</A>  <A HREF="http://www.meebey.net/">http://www.meebey.net/</A>
PEAR Developer    <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">meebey at php.net</A>     <A HREF="http://pear.php.net/">http://pear.php.net/</A>
Debian Developer  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">meebey at debian.org</A>  <A HREF="http://www.debian.org/">http://www.debian.org/</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032258.html">[Mono-dev] Problem with reference not refreshed or specific version binding
</A></li>
	<LI>Next message: <A HREF="032267.html">[Mono-dev] Problem with reference not refreshed or specific version binding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32264">[ date ]</a>
              <a href="thread.html#32264">[ thread ]</a>
              <a href="subject.html#32264">[ subject ]</a>
              <a href="author.html#32264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
