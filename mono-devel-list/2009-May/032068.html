<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Questions about Mono 'make check' [Fwd: About gentoo bug	257313]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Questions%20about%20Mono%20%27make%20check%27%20%5BFwd%3A%20About%20gentoo%20bug%0A%09257313%5D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032067.html">
   <LINK REL="Next"  HREF="032069.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Questions about Mono 'make check' [Fwd: About gentoo bug	257313]</H1>
    <B>Leszek Ciesielski</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Questions%20about%20Mono%20%27make%20check%27%20%5BFwd%3A%20About%20gentoo%20bug%0A%09257313%5D&In-Reply-To="
       TITLE="[Mono-dev] Questions about Mono 'make check' [Fwd: About gentoo bug	257313]">skolima at gmail.com
       </A><BR>
    <I>Sat May  9 07:03:16 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032067.html">[Mono-dev] Open source and diagramming survey
</A></li>
        <LI>Next message: <A HREF="032069.html">[Mono-dev] Questions about Mono 'make check' [Fwd: About gentoo	bug 257313]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32068">[ date ]</a>
              <a href="thread.html#32068">[ thread ]</a>
              <a href="subject.html#32068">[ subject ]</a>
              <a href="author.html#32068">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am forwarding some questions I got from Gentoo community regarding
Mono build and test suite, I hope someone here can provide assistance.
Related Gentoo bugs are <A HREF="http://bugs.gentoo.org/show_bug.cgi?id=257313">http://bugs.gentoo.org/show_bug.cgi?id=257313</A>
and <A HREF="http://bugs.gentoo.org/show_bug.cgi?id=220337">http://bugs.gentoo.org/show_bug.cgi?id=220337</A> ,
related Mono bugs are
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=471379">https://bugzilla.novell.com/show_bug.cgi?id=471379</A> and
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=439086">https://bugzilla.novell.com/show_bug.cgi?id=439086</A>

Maintainer asked how can he test his patches to Mono build system. I wrote:

If you want to check whether your patch against mono doesn't break anything:
- extract a mono tarball (or do an svn checkout, but this may be broken before
you touch it ;-) )
- ./configure
- make check
If it passes, apply your changes and 'make check' again. If it doesn't pass
before your changes - apply them anyway and check if it still breaks in the
same place as before.


---------- Forwarded message ----------
From: Rafa&#322; Mu&#380;y&#322;o &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">galtgendo at gmail.com</A>&gt;
Date: Fri, May 8, 2009 at 7:35 PM
Subject: About gentoo bug 257313
To: Leszek Ciesielski &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">skolima at gmail.com</A>&gt;


I think I'll take you on that offer.
Well, that &quot;testsuite&quot; seems broken.
This is the line from /proc/cpuinfo:
flags &#160; &#160; &#160; &#160; &#160; : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge
mca cmov pat pse36 mmx fxsr sse syscall mmxext 3dnowext 3dnow up
And here's what's mono doing during 'make check':
Test run:
image=/var/tmp/portage/dev-lang/mono-2.4/work/mono-2.4/mono/mini/basic-float.exe,
opts=sse2

Unhandled Exception: System.ExecutionEngineException: SIGILL
&#160;at Tests.test_0_conv_i () [0x00000]

That's perfectly correct, this processor does not have sse2 support.
So, why does that &quot;testsuite&quot; tries running that test ?

BTW, I just done libgdiplus.
It does not seems to have a testsuite
and most of those test programs seem not working:
three produce no output and testgdi tries loading
non-existing files (test.png, etc.).
Just for the kicks, I've removed -fno-strict-aliasing
from that ebuild, there was only one file with a warning,
so I wrote a small patch, that seems correct to me,
that fixes that problem. Though, I'm not sure,
if it's really correct.
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032067.html">[Mono-dev] Open source and diagramming survey
</A></li>
	<LI>Next message: <A HREF="032069.html">[Mono-dev] Questions about Mono 'make check' [Fwd: About gentoo	bug 257313]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32068">[ date ]</a>
              <a href="thread.html#32068">[ thread ]</a>
              <a href="subject.html#32068">[ subject ]</a>
              <a href="author.html#32068">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
