<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Red Hat/Fedora packaging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Red%20Hat/Fedora%20packaging&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032121.html">
   <LINK REL="Next"  HREF="032104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Red Hat/Fedora packaging</H1>
    <B>Vladimir Giszpenc</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Red%20Hat/Fedora%20packaging&In-Reply-To="
       TITLE="[Mono-dev] Red Hat/Fedora packaging">vgiszpenc at dsci.com
       </A><BR>
    <I>Tue May 12 07:36:31 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032121.html">[Mono-dev] vbnc error
</A></li>
        <LI>Next message: <A HREF="032104.html">[Mono-dev] Red Hat/Fedora packaging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32103">[ date ]</a>
              <a href="thread.html#32103">[ thread ]</a>
              <a href="subject.html#32103">[ subject ]</a>
              <a href="author.html#32103">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The following was taken from
<A HREF="https://fedoraproject.org/wiki/Packaging/Mono">https://fedoraproject.org/wiki/Packaging/Mono</A>

 

File Locations

Mono packages should install assemblies to %{_libdir} rather than
/usr/lib or %{_datadir}. In most cases the preference is for
%{_libdir}/PACKAGENAME. We use %{_libdir} because we do not consider
mono packages to be noarch.

The main reason for this is that mono can ahead-of-time compile its
assemblies into ELF shared objects. These AOTs have to exist in the same
directory as their DLL/EXE counterparts otherwise mono cannot use them.
Even if we, as packagers, choose not to create the AOT files when we
build the mono rpms, the system administrator can choose to create them
after install. Since there's no way to place the mono assemblies into an
arch independent directory and the AOTs into arch dependent directories,
the whole thing has to go into an arch dependent tree.

 

It really bothers me that Red Hat/Fedora considers CIL packages not to
be noarch.  I would like to propose using the config file to allow
relocating the aot-ed file to some arch dependent location.  The problem
they have is that the aot-ed code must be side-by-side with the pre
compiled assembly.

 

Could we use Foo.dll.config to have sections per architecture that tell
the runtime where to load the aot-ed file from?

I don't actually use aot-ed code.  I just want to get my package (exe)
to be noarch.   Using Red Hat is not my choice so please don't suggest
that I use another distribution.  Please help me get these packaging
guidelines changed. 

 

Thanks,

 

Vlad 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090512/b2ce3e03/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090512/b2ce3e03/attachment.html</A> 
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032121.html">[Mono-dev] vbnc error
</A></li>
	<LI>Next message: <A HREF="032104.html">[Mono-dev] Red Hat/Fedora packaging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32103">[ date ]</a>
              <a href="thread.html#32103">[ thread ]</a>
              <a href="subject.html#32103">[ subject ]</a>
              <a href="author.html#32103">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
