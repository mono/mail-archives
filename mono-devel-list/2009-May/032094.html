<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Still working on AIX ;-)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Still%20working%20on%20AIX%20%3B-%29&In-Reply-To=9AF112CE-B845-4B3C-82A1-223E7208485B%40lakerest.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032093.html">
   <LINK REL="Next"  HREF="032095.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Still working on AIX ;-)</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Still%20working%20on%20AIX%20%3B-%29&In-Reply-To=9AF112CE-B845-4B3C-82A1-223E7208485B%40lakerest.net"
       TITLE="[Mono-dev] Still working on AIX ;-)">kumpera at gmail.com
       </A><BR>
    <I>Mon May 11 17:26:52 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032093.html">[Mono-dev] Still working on AIX ;-)
</A></li>
        <LI>Next message: <A HREF="032095.html">[Mono-dev] Patch for io-layer/collection.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32094">[ date ]</a>
              <a href="thread.html#32094">[ thread ]</a>
              <a href="subject.html#32094">[ subject ]</a>
              <a href="author.html#32094">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, May 11, 2009 at 6:19 PM, Randall Stewart &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">rrs at lakerest.net</A>&gt; wrote:

&gt;<i> Hi all:
</I>&gt;<i>
</I>&gt;<i> I am still working on AIX trying to make mono run..
</I>&gt;<i>
</I>&gt;<i> I am now to the point where I can get most
</I>&gt;<i> of the regression tests to pass... but I am still
</I>&gt;<i> a ways out.
</I>&gt;<i>
</I>&gt;<i> One thing that I have not figured out how to fix is the way
</I>&gt;<i> AIX works with null pointer references.
</I>&gt;<i>
</I>&gt;<i> It appears that you can do a read NULL pointer
</I>&gt;<i> reference and NOT get a SIGSEGV.
</I>&gt;<i>
</I>&gt;<i> I.e.:
</I>&gt;<i>
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i>    int *foo, x;
</I>&gt;<i>    foo = NULL;
</I>&gt;<i>    x = *foo;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Will NOT get you a segv but instead will get
</I>&gt;<i> x set to 0.
</I>&gt;<i>
</I>&gt;<i> This causes some of the regressions to fail...
</I>&gt;<i>
</I>&gt;<i> Does anyone know some magic way to get AIX to give a SEGV on
</I>&gt;<i> a null pointer reference?? Or is there a flag or some machine dependent
</I>&gt;<i> thing I can flip to make Mono happy with this?
</I>&gt;<i>
</I>&gt;<i>
</I>Mono doesn't support any other null check mode than the implicit SEGV when
reading from the first page. I have no knowledge on how to fix this AIX
nonsense.

On mono's side you can change the JIT to emit explicit null checks, this is
the consensus
between the runtime developers on how to approach this problem.

Good luck,
Rodrigo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090511/481c333c/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090511/481c333c/attachment-0001.html</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032093.html">[Mono-dev] Still working on AIX ;-)
</A></li>
	<LI>Next message: <A HREF="032095.html">[Mono-dev] Patch for io-layer/collection.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32094">[ date ]</a>
              <a href="thread.html#32094">[ thread ]</a>
              <a href="subject.html#32094">[ subject ]</a>
              <a href="author.html#32094">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
