<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] file deletion poor performances using mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20file%20deletion%20poor%20performances%20using%20mono&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027221.html">
   <LINK REL="Next"  HREF="027307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] file deletion poor performances using mono</H1>
    <B>Antonello Moro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20file%20deletion%20poor%20performances%20using%20mono&In-Reply-To="
       TITLE="[Mono-dev] file deletion poor performances using mono">antonello.moro at elsagdatamat.com
       </A><BR>
    <I>Wed Mar 19 08:51:01 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027221.html">[Mono-dev] Problem with Odbc on 64 bit identified, please	advise action
</A></li>
        <LI>Next message: <A HREF="027307.html">[Mono-dev] gnome sharp compiling problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27224">[ date ]</a>
              <a href="thread.html#27224">[ thread ]</a>
              <a href="subject.html#27224">[ subject ]</a>
              <a href="author.html#27224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I'm experiencing poor  mono performance on file and folder deletion, while
other file operations, like file creation, file reading, dir listing ecc,
have good performance.

My test:

Linux OS: RHEL4

Linux Kernel: 2.6.9-5.ELsmp

Linux FS: Ext3

Mono Runtime: Mono 1.9

Language: C#

Compiler: gmcs

 

The code I'm using:

 

Directory.Delete(path, true)

 

 

Deletion of a folder containing 3000 files of size 100KB takes 5 secs with
mono, while it takes .140 ms using the bash command &quot;rm -rf &lt;dirname&gt;&quot;

I have executed many tests, always having the same results.

 

I have tried listing the files in the folder and deleting file first (with
File.Delete(filePath) ) obtaining the same results.

I have made other tests on file creation, moving, reading and writing,
obtaining good performance, mono seems to perform bad only in case of file
deletion.

Do you have any idea why this happens? What can I do to improve this
operation (other than launching a bash command from c#)?

 

Thanks,

Antonello

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080319/fc684416/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080319/fc684416/attachment-0001.html</A> 
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027221.html">[Mono-dev] Problem with Odbc on 64 bit identified, please	advise action
</A></li>
	<LI>Next message: <A HREF="027307.html">[Mono-dev] gnome sharp compiling problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27224">[ date ]</a>
              <a href="thread.html#27224">[ thread ]</a>
              <a href="subject.html#27224">[ subject ]</a>
              <a href="author.html#27224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
