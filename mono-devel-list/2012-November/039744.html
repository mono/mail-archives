<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Consistent failing in mod_mono / xsp / mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Consistent%20failing%20in%20mod_mono%20/%20xsp%20/%20mono&In-Reply-To=%3C5097A9A7.4010404%40roadtech.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039746.html">
   <LINK REL="Next"  HREF="039745.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Consistent failing in mod_mono / xsp / mono</H1>
    <B>Ben Clewett</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Consistent%20failing%20in%20mod_mono%20/%20xsp%20/%20mono&In-Reply-To=%3C5097A9A7.4010404%40roadtech.co.uk%3E"
       TITLE="[Mono-dev] Consistent failing in mod_mono / xsp / mono">ben.clewett at roadtech.co.uk
       </A><BR>
    <I>Mon Nov  5 11:57:27 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="039746.html">[Mono-dev] build issue on mono llvm master
</A></li>
        <LI>Next message: <A HREF="039745.html">[Mono-dev] SGen stability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39744">[ date ]</a>
              <a href="thread.html#39744">[ thread ]</a>
              <a href="subject.html#39744">[ subject ]</a>
              <a href="author.html#39744">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mono,

I am using mono 3.0.0 with mod_mono 2.10 and xsp 2.10 on SUSE 12.1 on 
Linux 3.1.10 x86_64.

When starting my ASP code by starting Apache, all is well.

However when the process is re-spawned I get this exception more or less 
every time:

Exception caught during reading the configuration file:
System.MissingMethodException: Method not found: 
'System.Configuration.IConfigurationSectionHandler.Create'.
   at 
System.Configuration.ClientConfigurationSystem.System.Configuration.Internal.IInternalConfigSystem.GetSection 
(System.String configKey) [0x00000] in &lt;filename unknown&gt;:0
   at System.Configuration.ConfigurationManager.GetSection 
(System.String sectionName) [0x00000] in &lt;filename unknown&gt;:0
   at System.Configuration.ConfigurationManager.get_AppSettings () 
[0x00000] in &lt;filename unknown&gt;:0
   at Mono.WebServer.Apache.Server.get_AppSettings () [0x00000] in 
&lt;filename unknown&gt;:0
   at Mono.WebServer.Apache.Server+ApplicationSettings..ctor () 
[0x00000] in &lt;filename unknown&gt;:0
Listening on: /tmp/mod_mono_server_main_webservice
Root directory: /usr/local/ws
Worker initialization exception occurred. Continuing anyway:
System.MissingMethodException: Method not found: 
'System.Configuration.IConfigurationSectionHandler.Create'.
   at 
System.Configuration.ClientConfigurationSystem.System.Configuration.Internal.IInternalConfigSystem.GetSection 
(System.String configKey) [0x00000] in &lt;filename unknown&gt;:0
   at System.Configuration.ConfigurationManager.GetSection 
(System.String sectionName) [0x00000] in &lt;filename unknown&gt;:0
   at System.Configuration.ConfigurationManager.get_AppSettings () 
[0x00000] in &lt;filename unknown&gt;:0
   at Mono.WebServer.ModMonoWorkerRequest..cctor () [0x00000] in 
&lt;filename unknown&gt;:0
System.NullReferenceException: Object reference not set to an instance 
of an object
   at Mono.WebServer.BaseApplicationHost.EndOfRequest 
(Mono.WebServer.MonoWorkerRequest mwr) [0x00000] in &lt;filename unknown&gt;:0
   at Mono.WebServer.ModMonoApplicationHost.ProcessRequest (Int32 reqId, 
System.String verb, System.String queryString, System.String path, 
System.String protocol, System.String localAddress, Int32 serverPort, 
System.String remoteAddress, Int32 remotePort, System.String remoteName, 
System.String[] headers, System.String[] headerValues, System.Object 
worker) [0x00000] in &lt;filename unknown&gt;:0
   at (wrapper remoting-invoke-with-check) 
Mono.WebServer.ModMonoApplicationHost:ProcessRequest 
(int,string,string,string,string,string,int,string,int,string,string[],string[],object)
   at Mono.WebServer.ModMonoWorker.InnerRun (System.Object state) 
[0x00000] in &lt;filename unknown&gt;:0
   at Mono.WebServer.ModMonoWorker.Run (System.Object state) [0x00000] 
in &lt;filename unknown&gt;:0


This is followed by the next exception, which will spin for ever.  This 
renders the server dead!


[Mon Nov 05 11:46:34 2012] [error] (70014)End of file found: read_data 
failed
[Mon Nov 05 11:46:34 2012] [error] Command stream corrupted, last 
command was -1
System.NullReferenceException: Object reference not set to an instance 
of an object
   at Mono.WebServer.BaseApplicationHost.EndOfRequest 
(Mono.WebServer.MonoWorkerRequest mwr) [0x00000] in &lt;filename unknown&gt;:0
   at Mono.WebServer.ModMonoApplicationHost.ProcessRequest (Int32 reqId, 
System.String verb, System.String queryString, System.String path, 
System.String protocol, System.String localAddress, Int32 serverPort, 
System.String remoteAddress, Int32 remotePort, System.String remoteName, 
System.String[] headers, System.String[] headerValues, System.Object 
worker) [0x00000] in &lt;filename unknown&gt;:0
   at (wrapper remoting-invoke-with-check) 
Mono.WebServer.ModMonoApplicationHost:ProcessRequest 
(int,string,string,string,string,string,int,string,int,string,string[],string[],object)
   at Mono.WebServer.ModMonoWorker.InnerRun (System.Object state) 
[0x00000] in &lt;filename unknown&gt;:0
   at Mono.WebServer.ModMonoWorker.Run (System.Object state) [0x00000] 
in &lt;filename unknown&gt;:0


This can be corrected by a complete Apache restart.  However this should 
work without issue.

If there is anything anybody can suggest to solve this problem, please 
let me know.

Regards,


Ben








-- 
Ben Clewett
<A HREF="http://www.roadtech.co.uk">http://www.roadtech.co.uk</A>
<A HREF="http://www.tachomaster.co.uk">http://www.tachomaster.co.uk</A>
+44 (0)1923 460000
Road Tech Computer Systems Ltd
Shenley Hall
Rectory Lane
Shenley
Hertfordshire WD7 9AN
United Kingdom
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039746.html">[Mono-dev] build issue on mono llvm master
</A></li>
	<LI>Next message: <A HREF="039745.html">[Mono-dev] SGen stability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39744">[ date ]</a>
              <a href="thread.html#39744">[ thread ]</a>
              <a href="subject.html#39744">[ subject ]</a>
              <a href="author.html#39744">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
