<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] overriding return type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20overriding%20return%20type&In-Reply-To=200307271612.41086.Alan.Jenkins%40phonecoop.coop">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001666.html">
   <LINK REL="Next"  HREF="001668.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] overriding return type</H1>
    <B>Thong (Tum) Nguyen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20overriding%20return%20type&In-Reply-To=200307271612.41086.Alan.Jenkins%40phonecoop.coop"
       TITLE="[Mono-devel-list] overriding return type">tum at veridicus.com
       </A><BR>
    <I>Sun Jul 27 19:40:01 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="001666.html">[Mono-devel-list] overriding return type
</A></li>
        <LI>Next message: <A HREF="001668.html">[Mono-devel-list] overriding return type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1667">[ date ]</a>
              <a href="thread.html#1667">[ thread ]</a>
              <a href="subject.html#1667">[ subject ]</a>
              <a href="author.html#1667">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hmm....I don't think it's a good idea to break away from the standard --
and especially not make it default.  The proper way to handle things
like this is to go through ECMA....  IIRC, Miguel is on the committee.
He might be able to bring the issue up at the next meeting.

^Tum


&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A> [mailto:mono-devel-list-
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">admin at lists.ximian.com</A>] On Behalf Of alan jenkins
</I>&gt;<i> Sent: Monday, 28 July 2003 4:13 a.m.
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Subject: [Mono-devel-list] overriding return type
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt; I guess this thread is finished then
</I>&gt;<i> &lt;cringe&gt;
</I>&gt;<i> 
</I>&gt;<i> I have examined the compiler source, and the only thing which prevents
</I>the use
&gt;<i> of covariant return types is
</I>&gt;<i> 
</I>&gt;<i> mcs/class.cs(2316) : void Method.CheckBase(TypeContainer container)
</I>&gt;<i> 
</I>&gt;<i> It is trivial to alter the method to allow covariant return types, and
</I>only
&gt;<i> complain when the return type of the overriding method can't be
</I>implicity
&gt;<i> cast to the original return type.  This doesn't seem to break anything
</I>- the
&gt;<i> class library compiles fine using the modified compiler.  Assemblies
</I>&gt;<i> containing methods with covariant return types (compiled with the
</I>modified
&gt;<i> compiler) can be referenced from assemblies compiled with the original
</I>&gt;<i> compiler (e.g. mono_new covariant.cs; mono_old -r covariant.exe
</I>old.cs).
&gt;<i> 
</I>&gt;<i> As an alternative to requiring an option to enable it, it might be
</I>better to
&gt;<i> have the feature enabled by default, but emit warnings about the
</I>portability
&gt;<i> of the C# code when covariant return types are encountered.
</I>&gt;<i> 
</I>&gt;<i> I ask the list again:  would you be willing to see the compiler
</I>changed in
&gt;<i> such a way?  It appears to be a trivial piece of code which would
</I>break
&gt;<i> nothing.
</I>&gt;<i> 
</I>&gt;<i> Um... I think I could write the patch myself - it'd only be about 20
</I>lines of
&gt;<i> code in the compiler, plus a test, but I am an absolute C# &amp; Mono
</I>newbie.
&gt;<i> Though I would like to think I could work with large projects without
</I>&gt;<i> stepping on other peoples toes, I haven't actually contributed to a
</I>project
&gt;<i> before.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001666.html">[Mono-devel-list] overriding return type
</A></li>
	<LI>Next message: <A HREF="001668.html">[Mono-devel-list] overriding return type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1667">[ date ]</a>
              <a href="thread.html#1667">[ thread ]</a>
              <a href="subject.html#1667">[ subject ]</a>
              <a href="author.html#1667">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
