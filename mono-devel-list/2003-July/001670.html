<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Building System.Security.dll
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Building%20System.Security.dll&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001671.html">
   <LINK REL="Next"  HREF="001675.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Building System.Security.dll</H1>
    <B>S&#233;bastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Building%20System.Security.dll&In-Reply-To="
       TITLE="[Mono-devel-list] Building System.Security.dll">spouliot at videotron.ca
       </A><BR>
    <I>Sun Jul 27 23:15:14 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="001671.html">[Mono-devel-list] curses support
</A></li>
        <LI>Next message: <A HREF="001675.html">[Mono-devel-list] Building System.Security.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1670">[ date ]</a>
              <a href="thread.html#1670">[ thread ]</a>
              <a href="subject.html#1670">[ subject ]</a>
              <a href="author.html#1670">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Peter,

I'm now back to the point where I can run the unit tests under Windows (I
had some problems with nunit-console). I noticed that there were a very HIGH
number of errors when testing System.Security assembly.

Tests run: 111, Failures: 38, Not run: 6, Time: 4,375 seconds

Most of the errors are like...

1) MonoTests.System.Security.Cryptography.Xml.DSAKeyValueTest.GenerateKey :
Coul
d not load type System.Object from assembly corlib, Version=0.0.0.0,
Culture=neu
tral, PublicKeyToken=null because the parent does not exist.

... and are related to using corlib.dll...
LIB_MCS_FLAGS = /r:$(corlib) /r:System.dll /r:System.Xml.dll

... simultaneously with mscorlib. After changing the Makefile to...
LIB_MCS_FLAGS = /r:mscorlib.dll /r:System.dll /r:System.Xml.dll

... the number of errors falls to almost none :-)
Tests run: 111, Failures: 3, Not run: 6, Time: 10,40625 seconds

I suspect this is because the System.Security assembly tries to create
objects that exists in in both mscorlib and corlib (when running on
Microsoft's CLR).

We already faced the problem before and I had to make a special version of
System.Security assembly (System.Security_cmp.dll) so that corcompare could
work to generate the class status page.

So my guess is that we need to
a.	Change the makefile to use mscorlib and Win32 and corlib on Linux
b.	Make a special System.Security_cmp.dll (or something similar to
corlib_platform.dll) which use corlib (for the class status page)


Thanks

Sebastien Pouliot
Security Architect, Motus Technologies, <A HREF="http://www.motus.com/">http://www.motus.com/</A>
work: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">spouliot at motus.com</A>
home: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">spouliot at videotron.ca</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001671.html">[Mono-devel-list] curses support
</A></li>
	<LI>Next message: <A HREF="001675.html">[Mono-devel-list] Building System.Security.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1670">[ date ]</a>
              <a href="thread.html#1670">[ thread ]</a>
              <a href="subject.html#1670">[ subject ]</a>
              <a href="author.html#1670">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
