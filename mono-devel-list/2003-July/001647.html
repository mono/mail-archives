<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] overriding return type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20overriding%20return%20type&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001625.html">
   <LINK REL="Next"  HREF="001648.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] overriding return type</H1>
    <B>Alan Jenkins</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20overriding%20return%20type&In-Reply-To="
       TITLE="[Mono-devel-list] overriding return type">Alan.Jenkins at phonecoop.coop
       </A><BR>
    <I>Wed Jul 23 13:39:13 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="001625.html">[Mono-devel-list] Patch for OracleDataReader
</A></li>
        <LI>Next message: <A HREF="001648.html">[Mono-devel-list] overriding return type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1647">[ date ]</a>
              <a href="thread.html#1647">[ thread ]</a>
              <a href="subject.html#1647">[ subject ]</a>
              <a href="author.html#1647">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would like to be able to override the return type of a method, to a subclass 
of the previous type, like so:

class example1
{
	virtual example1 method()
	{
		return new example1();
	}
}

class example2 : example1
{
	override example2 method()
	{
		return new example2();
	}
}

(please excuse quality of code, indent etc, due to being newbie)

In my opinion this is a useful feature for an object orientated language - I 
think it would be wrong for &quot;example2.method()&quot; to return an instance of 
&quot;example2&quot; cast to &quot;example1&quot;, because code that used these classes might 
have to cast the &quot;example2&quot; instance back to its proper type again, without 
any guarantee that it was actually a casted &quot;example2&quot; instance and not just 
an &quot;example1&quot; instance.

I'm sure that this feature does no harm to a language - &quot;example2&quot; does not 
break the contract expressed in &quot;example1&quot; - and it doesn't complicate the 
language.

I understand that this it is possible to do this with the .NET runtime - that 
you can craft CIL which will do the same as my example - but that the C# 
compiler does not allow it.

Am I mistaken?  Would it be possible to add support for this feature (possibly 
as an command-line option or an option when compiling the compiler)?  Do you 
agree that such a feature is desirable?  Would you be willing to add this 
feature, given that it would create incompatibility with MS's .NET?  Is there 
the will to code it?

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001625.html">[Mono-devel-list] Patch for OracleDataReader
</A></li>
	<LI>Next message: <A HREF="001648.html">[Mono-devel-list] overriding return type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1647">[ date ]</a>
              <a href="thread.html#1647">[ thread ]</a>
              <a href="subject.html#1647">[ subject ]</a>
              <a href="author.html#1647">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
