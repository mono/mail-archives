<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Removing GetHashCode and Equal from System.AppDomain and System.OperatingSystem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Removing%20GetHashCode%20and%20Equal%20from%20System.AppDomain%20and%20System.OperatingSystem&In-Reply-To=1059018389.17937.8.camel%40diphthong">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001636.html">
   <LINK REL="Next"  HREF="001657.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Removing GetHashCode and Equal from System.AppDomain and System.OperatingSystem</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Removing%20GetHashCode%20and%20Equal%20from%20System.AppDomain%20and%20System.OperatingSystem&In-Reply-To=1059018389.17937.8.camel%40diphthong"
       TITLE="[Mono-devel-list] Removing GetHashCode and Equal from System.AppDomain and System.OperatingSystem">lupus at ximian.com
       </A><BR>
    <I>Thu Jul 24 09:05:52 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="001636.html">[Mono-devel-list] Removing GetHashCode and Equal from	System.AppDomain and System.OperatingSystem
</A></li>
        <LI>Next message: <A HREF="001657.html">[Mono-devel-list] Removing GetHashCode and Equal from	System.AppDomain and System.OperatingSystem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1644">[ date ]</a>
              <a href="thread.html#1644">[ thread ]</a>
              <a href="subject.html#1644">[ subject ]</a>
              <a href="author.html#1644">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/23/03 Duncan Mak wrote:
&gt;<i> Index: System/OperatingSystem.cs
</I>&gt;<i> ===================================================================
</I>&gt;<i> RCS file: /cvs/public/mcs/class/corlib/System/OperatingSystem.cs,v
</I>&gt;<i> retrieving revision 1.8
</I>&gt;<i> diff -u -p -r1.8 OperatingSystem.cs
</I>&gt;<i> --- System/OperatingSystem.cs	1 Apr 2002 20:22:36 -0000	1.8
</I>&gt;<i> +++ System/OperatingSystem.cs	24 Jul 2003 03:40:47 -0000
</I>&gt;<i> @@ -67,22 +67,22 @@ namespace System
</I>&gt;<i>  		/// &lt;summary&gt;
</I>&gt;<i>  		/// Return true if obj equals this object
</I>&gt;<i>  		/// &lt;/summary&gt;
</I>&gt;<i> -		public override bool Equals(object obj)
</I>[...]
&gt;<i> -		public override int GetHashCode()
</I>
I would leave the methods in OperatingSystem, the refernece compare done
by the Object methods would be incorrect for our implementation.

&gt;<i> Index: System/AppDomain.cs
</I>&gt;<i> ===================================================================
</I>&gt;<i> RCS file: /cvs/public/mcs/class/corlib/System/AppDomain.cs,v
</I>&gt;<i> retrieving revision 1.41
</I>&gt;<i> diff -u -p -r1.41 AppDomain.cs
</I>&gt;<i> --- System/AppDomain.cs	13 May 2003 22:27:51 -0000	1.41
</I>&gt;<i> +++ System/AppDomain.cs	24 Jul 2003 03:40:47 -0000
</I>&gt;<i> @@ -409,13 +409,13 @@ namespace System {
</I>&gt;<i>  				theDelegate ();
</I>&gt;<i>  		}
</I>&gt;<i>  		
</I>&gt;<i> -		public override bool Equals (object other)
</I>[...]
&gt;<i> -		public override int GetHashCode ()
</I>
Just remove the methods here.

&gt;<i> Index: System.Reflection.Emit/OpCodes.cs
</I>&gt;<i> ===================================================================
</I>&gt;<i> RCS file: /cvs/public/mcs/class/corlib/System.Reflection.Emit/OpCodes.cs,v
</I>&gt;<i> retrieving revision 1.3
</I>&gt;<i> diff -u -p -r1.3 OpCodes.cs
</I>&gt;<i> --- System.Reflection.Emit/OpCodes.cs	8 May 2002 13:21:11 -0000	1.3
</I>&gt;<i> +++ System.Reflection.Emit/OpCodes.cs	24 Jul 2003 03:40:47 -0000
</I>&gt;<i> @@ -36,7 +36,7 @@ namespace System.Reflection.Emit {
</I>&gt;<i>    		public static readonly OpCode Bne_Un;
</I>&gt;<i>    		public static readonly OpCode Bne_Un_S;
</I>&gt;<i>    		public static readonly OpCode Box;
</I>&gt;<i> -  		public static readonly OpCode Boxval;
</I>&gt;<i> +//  		public static readonly OpCode Boxval;
</I>
Did you compile after the change? You'd also need to remove the line
where Boxval is assigned to. Though I don't know of any user of this
opcode, the .net 1.0 framework has it (it's the same as Box). They
have it marked with the Obsolete attribute and we probably should do the
same.

Thanks.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001636.html">[Mono-devel-list] Removing GetHashCode and Equal from	System.AppDomain and System.OperatingSystem
</A></li>
	<LI>Next message: <A HREF="001657.html">[Mono-devel-list] Removing GetHashCode and Equal from	System.AppDomain and System.OperatingSystem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1644">[ date ]</a>
              <a href="thread.html#1644">[ thread ]</a>
              <a href="subject.html#1644">[ subject ]</a>
              <a href="author.html#1644">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
