<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Win32 Gtk# Installers (Was: Re: C bindings VS	C++	bindings (Gtk# vs. Kimono?))
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Win32%20Gtk%23%20Installers%20%28Was%3A%20Re%3A%20C%20bindings%20VS%0A%09C%2B%2B%09bindings%20%28Gtk%23%20vs.%20Kimono%3F%29%29&In-Reply-To=1192551222.6272.9.camel%40nightcrawler">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025280.html">
   <LINK REL="Next"  HREF="025285.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Win32 Gtk# Installers (Was: Re: C bindings VS	C++	bindings (Gtk# vs. Kimono?))</H1>
    <B>Jerome Haltom</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Win32%20Gtk%23%20Installers%20%28Was%3A%20Re%3A%20C%20bindings%20VS%0A%09C%2B%2B%09bindings%20%28Gtk%23%20vs.%20Kimono%3F%29%29&In-Reply-To=1192551222.6272.9.camel%40nightcrawler"
       TITLE="[Mono-dev] Win32 Gtk# Installers (Was: Re: C bindings VS	C++	bindings (Gtk# vs. Kimono?))">wasabi at larvalstage.net
       </A><BR>
    <I>Tue Oct 16 14:51:40 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025280.html">[Mono-dev] Win32 Gtk# Installers (Was: Re: C bindings VS	C++	bindings (Gtk# vs. Kimono?))
</A></li>
        <LI>Next message: <A HREF="025285.html">[Mono-dev] Win32 Gtk# Installers (Was: Re: C bindings VS	C++	bindings (Gtk# vs. Kimono?))
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25283">[ date ]</a>
              <a href="thread.html#25283">[ thread ]</a>
              <a href="subject.html#25283">[ subject ]</a>
              <a href="author.html#25283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You misunderstand how merge modules work.

Merge modules, when included in another package, lose their identity.
They cannot install files which are shared by other packages. They can
not be versioned against each other.

Thus if you install FooBar 1.0 and BarFoo 2.0, two separate programs,
and both have included the merge module for Gtk+, then the Gtk+ must be
installed in a DIFFERENT LOCATION for each of FooBar and BarFoo. If not,
then one version replaces the other, and undoes the ref count maintained
by Windows Installer.

Merge modules are NOT FOR SHARED DEPENDENCIES. They are for PRIVATE
DEPENDENCIES. You will eventually hit this issue when you try to reuse
your merge modules between multiple applications: I did.

Microsoft recommends that you create a .msi file for each primary
distributable (Gtk, Gtk#, Mono, etc) and have the application
distributor build a bootstrapper which references these .msi files
independently. VS2005 has a setup project built in which does this: it
automatically generates a bootstrapper that installs .Net itself.

On Tue, 2007-10-16 at 09:13 -0700, Brad Taylor wrote:
&gt;<i> On Tue, 2007-10-16 at 10:46 -0500, Jerome Haltom wrote:
</I>&gt;<i> &gt; I spent a lot of time previously researching all this MSI stuff.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; No, you can't do that. Merge modules might have been an answer, but
</I>&gt;<i> &gt; merge modules are not designed for dependencies. They are designed to
</I>&gt;<i> &gt; repackage files for a private installation.
</I>&gt;<i> 
</I>&gt;<i> I don't think we need to develop a hard dependency chain for our
</I>&gt;<i> installers --  We can simply create Merge modules (.msm files) for each
</I>&gt;<i> of gtk+, gtk#, and Mono, and enforce the dependencies manually in a .msi
</I>&gt;<i> build that wraps all three.  In WiX, this meta-installer is less than 30
</I>&gt;<i> lines.
</I>&gt;<i> 
</I>&gt;<i> I'm making progress splitting out Medsphere's installer sources
</I>&gt;<i> into .msm files, and currently have the Gtk+ Runtime module mostly
</I>&gt;<i> complete.  I'll update the list when I get my WiX files complete enough
</I>&gt;<i> to be included into Mono SVN.
</I>&gt;<i> 
</I>&gt;<i> -Brad
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025280.html">[Mono-dev] Win32 Gtk# Installers (Was: Re: C bindings VS	C++	bindings (Gtk# vs. Kimono?))
</A></li>
	<LI>Next message: <A HREF="025285.html">[Mono-dev] Win32 Gtk# Installers (Was: Re: C bindings VS	C++	bindings (Gtk# vs. Kimono?))
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25283">[ date ]</a>
              <a href="thread.html#25283">[ thread ]</a>
              <a href="subject.html#25283">[ subject ]</a>
              <a href="author.html#25283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
