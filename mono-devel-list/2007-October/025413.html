<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] String.Split() broken behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20String.Split%28%29%20broken%20behavior&In-Reply-To=20071026174741.GD9297%40debian.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025412.html">
   <LINK REL="Next"  HREF="025197.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] String.Split() broken behavior</H1>
    <B>Tyler Larson</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20String.Split%28%29%20broken%20behavior&In-Reply-To=20071026174741.GD9297%40debian.org"
       TITLE="[Mono-dev] [PATCH] String.Split() broken behavior">mono-devel at tlarson.com
       </A><BR>
    <I>Fri Oct 26 14:18:30 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025412.html">[Mono-dev] [PATCH] String.Split() broken behavior
</A></li>
        <LI>Next message: <A HREF="025197.html">[Mono-dev] 1.2.5 object initializers broken by 1.2.5.1?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25413">[ date ]</a>
              <a href="thread.html#25413">[ thread ]</a>
              <a href="subject.html#25413">[ subject ]</a>
              <a href="author.html#25413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Paolo Molaro wrote:
&gt;<i> On 10/18/07 <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel at tlarson.com</A> wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> On the contrary, the code IS optimized, which is why I removed it that 
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Well, moving the code to always transition to unmanaged is not much
</I>&gt;<i> of an optimization.
</I>&gt;<i>
</I>&gt;<i>   
</I>
Understood. Note, however, that the optimization I'm talking about comes 
comes from a redesign of the underlying split algorithm rather than 
simply running unmanaged.

The whole reason why the unmanaged code was modified at all (as opposed 
to just changing the C# counterpart) is because that's where the code 
that needed to be optimized. The original implementation did what it 
could without changing the unmanaged code, which necessarily resulted in 
an inefficient algorithm. That's why he marked the code as requiring 
optimization. The *only way* to effect that optimization was to optimize 
the unmanaged code, and remove the kludge in the C# code.

The relevant detail here is that the original author recognized that his 
implementation was sub-optimal, but didn't know it was also incorrect, 
hence the optimization attribute. The patch removes his algorithm 
completely, replacing it with something fundamentally different. The 
optimization attribute should be removed because the algorithm to which 
it applies is no longer present. I didn't want to make a big deal about 
it; it was just the appropriate thing to do.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025412.html">[Mono-dev] [PATCH] String.Split() broken behavior
</A></li>
	<LI>Next message: <A HREF="025197.html">[Mono-dev] 1.2.5 object initializers broken by 1.2.5.1?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25413">[ date ]</a>
              <a href="thread.html#25413">[ thread ]</a>
              <a href="subject.html#25413">[ subject ]</a>
              <a href="author.html#25413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
