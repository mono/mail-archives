<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] MSVC build of mono runtime
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20MSVC%20build%20of%20mono%20runtime&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027896.html">
   <LINK REL="Next"  HREF="027987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] MSVC build of mono runtime</H1>
    <B>Jonathan Chambers</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20MSVC%20build%20of%20mono%20runtime&In-Reply-To="
       TITLE="[Mono-dev] MSVC build of mono runtime">joncham at gmail.com
       </A><BR>
    <I>Wed May 14 16:08:11 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027896.html">[Mono-dev] Request to include mixed-mode tests in the build
</A></li>
        <LI>Next message: <A HREF="027987.html">[Mono-dev] MSVC build of mono runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27904">[ date ]</a>
              <a href="thread.html#27904">[ thread ]</a>
              <a href="subject.html#27904">[ subject ]</a>
              <a href="author.html#27904">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
     I am trying to figure out the best way to integrate a MSVC compiler
built runtime into the mono build process. We currently maintain a .sln file
and a variety of .vcproj files in mono/msvc. Normally, I (and maybe a few
others in the world) maintain/build these inside of the Visual Studio IDE.
Normally, I do a full cygwin build (runtime/classlibs) followed by an MSVC
build of the runtime to get something usable. This is not too painful, but
is not automated in any way (and I rarely run tests with the VS built
runtime).

     I am working on porting mono to Win64, and would like a more automated
way to build/test an MSVC runtime. gcc is not yet ported to Win64 so MSVC is
the only option to build the runtime (or only 'free' option I know of). I am
planning on building the runtime using the vcproj files that are already
somewhat maintained, rather than an additional set of makefiles. The vcproj
files can be built at the command line using the VCBuild tool in the Windows
SDK (something like 'VCBuild mono.sln Release|Win32').

     I have two main questions. I would still like to use cygwin/make to
drive the overall build process. I just need to build the mono subdirectory
using the method mentioned above. Does anyone have any recommendations on
how to do this cleanly? The other question was, should this be a configure
option or a make target? Either something like './autogen.sh --with-msvc' if
during configuration, else 'make msvc' for make target. I started off trying
to make this a configuration option, but very little ended up changing in
the configuration as most of the differences are handled inside the MSVC
build process itself. I also have very little experience with auto-tools and
makefiles in general.

Any thoughts/advice would be appreciated.

Thanks,
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080514/63976a76/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080514/63976a76/attachment.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027896.html">[Mono-dev] Request to include mixed-mode tests in the build
</A></li>
	<LI>Next message: <A HREF="027987.html">[Mono-dev] MSVC build of mono runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27904">[ date ]</a>
              <a href="thread.html#27904">[ thread ]</a>
              <a href="subject.html#27904">[ subject ]</a>
              <a href="author.html#27904">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
