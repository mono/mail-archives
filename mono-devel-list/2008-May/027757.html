<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] assertion failed (!sig-&gt;has_type_parameters)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20assertion%20failed%20%28%21sig-%3Ehas_type_parameters%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027753.html">
   <LINK REL="Next"  HREF="027758.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] assertion failed (!sig-&gt;has_type_parameters)</H1>
    <B>Eric Albright</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20assertion%20failed%20%28%21sig-%3Ehas_type_parameters%29&In-Reply-To="
       TITLE="[Mono-dev] assertion failed (!sig-&gt;has_type_parameters)">eric_albright at sil.org
       </A><BR>
    <I>Sun May  4 22:39:28 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027753.html">[Mono-dev] mono_method_get_unmanaged_thunk
</A></li>
        <LI>Next message: <A HREF="027758.html">[Mono-dev] assertion failed (!sig-&gt;has_type_parameters)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27757">[ date ]</a>
              <a href="thread.html#27757">[ thread ]</a>
              <a href="subject.html#27757">[ subject ]</a>
              <a href="author.html#27757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

When running my application tests against SVN head, I consistently get
the error below.
Any ideas?

Eric

**
** ERROR:(mini.c:4664):mono_method_to_ir: assertion failed:
(!sig-&gt;has_type_parameters)
Stacktrace:

  at WeSay.UI.GhostBinding`1.TimeForRealObject (bool) [0x0011b] in
/home/eric/Projects/WeSay/src/WeSay.UI/GhostBinding.cs:232
  at WeSay.UI.GhostBinding`1.TimeForRealObject (bool) [0x000ef] in
/home/eric/Projects/WeSay/src/WeSay.UI/GhostBinding.cs:229
  at WeSay.UI.GhostBinding`1._textBoxTarget_LostFocus
(object,System.EventArgs) [0x00000] in
/home/eric/Projects/WeSay/src/WeSay.UI/GhostBinding.cs:90
  at (wrapper delegate-invoke)
System.MulticastDelegate.invoke_void_object_EventArgs
(object,System.EventArgs) &lt;0xffffffff&gt;
  at System.Windows.Forms.Control.OnLostFocus (System.EventArgs)
[0x0001c] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:6213
  at System.Windows.Forms.Control.WmKillFocus
(System.Windows.Forms.Message&amp;) [0x00007] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:5805
  at System.Windows.Forms.Control.WndProc
(System.Windows.Forms.Message&amp;) [0x0021c] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:5350
  at System.Windows.Forms.TextBoxBase.WndProc
(System.Windows.Forms.Message&amp;) [0x001ce] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/TextBoxBase.cs:1578
  at System.Windows.Forms.TextBox.WndProc
(System.Windows.Forms.Message&amp;) [0x0002c] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/TextBox.cs:446
  at ControlWindowTarget.OnMessage (System.Windows.Forms.Message&amp;)
[0x00000] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:227
  at ControlNativeWindow.WndProc (System.Windows.Forms.Message&amp;)
[0x00000] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:208
  at System.Windows.Forms.NativeWindow.WndProc
(intptr,System.Windows.Forms.Msg,intptr,intptr) [0x0006a] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/NativeWindow.cs:188
  at System.Windows.Forms.XplatUIX11.SendMessage
(intptr,System.Windows.Forms.Msg,intptr,intptr) [0x0008d] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/XplatUIX11.cs:4982
  at System.Windows.Forms.XplatUIX11.SetFocus (intptr) [0x00059] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/XplatUIX11.cs:5217
  at System.Windows.Forms.XplatUI.SetFocus (intptr) [0x00000] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/XplatUI.cs:987
  at System.Windows.Forms.ContainerControl.SendControlFocus
(System.Windows.Forms.Control) [0x0000b] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/ContainerControl.cs:236
  at System.Windows.Forms.ContainerControl.set_ActiveControl
(System.Windows.Forms.Control) [0x0021e] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/ContainerControl.cs:184
  at System.Windows.Forms.Control.Select (System.Windows.Forms.Control)
[0x00021] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:1444
  at System.Windows.Forms.Control.FocusInternal (bool) [0x00039] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:3813
  at System.Windows.Forms.Control.Focus () [0x00000] in
/home/eric/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:3807
  at (wrapper remoting-invoke-with-check)
System.Windows.Forms.Control.Focus () &lt;0xffffffff&gt;
  at
WeSay.LexicalTools.Tests.DictionaryControlTests.FillInTheGhostMeaning ()
[0x00086] in
/home/eric/Projects/WeSay/src/LexicalTools.Tests/DictionaryControlTests.cs:748
  at
WeSay.LexicalTools.Tests.DictionaryControlTests.GhostField_Trigger_RegressionTest 

() [0x00014] in
/home/eric/Projects/WeSay/src/LexicalTools.Tests/DictionaryControlTests.cs:717
  at (wrapper runtime-invoke) System.Object.runtime_invoke_void
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;
  at (wrapper managed-to-native)
System.Reflection.MonoMethod.InternalInvoke
(object,object[],System.Exception&amp;) &lt;0x00004&gt;
  at (wrapper managed-to-native)
System.Reflection.MonoMethod.InternalInvoke
(object,object[],System.Exception&amp;) &lt;0xffffffff&gt;
  at System.Reflection.MonoMethod.Invoke
(object,System.Reflection.BindingFlags,System.Reflection.Binder,object[],System.Globalization.CultureInfo) 

[0x00057] in /home/eric/mcs/class/corlib/System.Reflection/MonoMethod.cs:157
  at System.Reflection.MethodBase.Invoke (object,object[]) [0x00000] in
/home/eric/mcs/class/corlib/System.Reflection/MethodBase.cs:90
  at NUnit.Core.Reflect.InvokeMethod
(System.Reflection.MethodInfo,object) [0x00006] in
/home/eric/mcs/nunit20/core/Reflect.cs:373
  at NUnit.Core.TemplateTestCase.doTestCase (NUnit.Core.TestCaseResult)
[0x00000] in /home/eric/mcs/nunit20/core/TemplateTestCase.cs:155
  at NUnit.Core.TemplateTestCase.doRun (NUnit.Core.TestCaseResult)
[0x00011] in /home/eric/mcs/nunit20/core/TemplateTestCase.cs:113
  at NUnit.Core.TemplateTestCase.Run (NUnit.Core.TestCaseResult)
[0x0006b] in /home/eric/mcs/nunit20/core/TemplateTestCase.cs:76
  at NUnit.Core.TestCase.Run (NUnit.Core.EventListener) [0x0001d] in
/home/eric/mcs/nunit20/core/TestCase.cs:68
  at NUnit.Core.TestCase.Run
(NUnit.Core.EventListener,NUnit.Core.IFilter) [0x00000] in
/home/eric/mcs/nunit20/core/TestCase.cs:58
  at NUnit.Core.TestSuite.RunAllTests
(NUnit.Core.TestSuiteResult,NUnit.Core.EventListener,NUnit.Core.IFilter)
[0x0008c] in /home/eric/mcs/nunit20/core/TestSuite.cs:259
  at NUnit.Core.TestSuite.Run
(NUnit.Core.EventListener,NUnit.Core.IFilter) [0x0003c] in
/home/eric/mcs/nunit20/core/TestSuite.cs:213
  at NUnit.Core.TestSuite.RunAllTests
(NUnit.Core.TestSuiteResult,NUnit.Core.EventListener,NUnit.Core.IFilter)
[0x0008c] in /home/eric/mcs/nunit20/core/TestSuite.cs:259
  at NUnit.Core.TestSuite.Run
(NUnit.Core.EventListener,NUnit.Core.IFilter) [0x0003c] in
/home/eric/mcs/nunit20/core/TestSuite.cs:213
  at NUnit.Core.TestSuite.RunAllTests
(NUnit.Core.TestSuiteResult,NUnit.Core.EventListener,NUnit.Core.IFilter)
[0x0008c] in /home/eric/mcs/nunit20/core/TestSuite.cs:259
  at NUnit.Core.TestSuite.Run
(NUnit.Core.EventListener,NUnit.Core.IFilter) [0x0003c] in
/home/eric/mcs/nunit20/core/TestSuite.cs:213
  at NUnit.Core.TestSuite.RunAllTests
(NUnit.Core.TestSuiteResult,NUnit.Core.EventListener,NUnit.Core.IFilter)
[0x0008c] in /home/eric/mcs/nunit20/core/TestSuite.cs:259
  at NUnit.Core.TestSuite.Run
(NUnit.Core.EventListener,NUnit.Core.IFilter) [0x0003c] in
/home/eric/mcs/nunit20/core/TestSuite.cs:213
  at NUnit.Core.TestSuite.RunAllTests
(NUnit.Core.TestSuiteResult,NUnit.Core.EventListener,NUnit.Core.IFilter)
[0x0008c] in /home/eric/mcs/nunit20/core/TestSuite.cs:259
  at NUnit.Core.TestSuite.Run
(NUnit.Core.EventListener,NUnit.Core.IFilter) [0x0003c] in
/home/eric/mcs/nunit20/core/TestSuite.cs:213
  at NUnit.Core.AssemblyTestSuite.Run
(NUnit.Core.EventListener,NUnit.Core.IFilter) [0x00028] in
/home/eric/mcs/nunit20/core/TestAssembly.cs:67
  at NUnit.Core.RemoteTestRunner.Run
(NUnit.Core.EventListener,NUnit.Core.Test[]) [0x00116] in
/home/eric/mcs/nunit20/core/RemoteTestRunner.cs:411
  at NUnit.Core.RemoteTestRunner.Run
(NUnit.Core.EventListener,NUnit.Core.Test) [0x0000b] in
/home/eric/mcs/nunit20/core/RemoteTestRunner.cs:355
  at NUnit.Core.RemoteTestRunner.Run (NUnit.Core.EventListener)
[0x00000] in /home/eric/mcs/nunit20/core/RemoteTestRunner.cs:292
  at (wrapper remoting-invoke-with-check)
NUnit.Core.RemoteTestRunner.Run (NUnit.Core.EventListener) &lt;0xffffffff&gt;
  at (wrapper xdomain-dispatch) NUnit.Core.RemoteTestRunner.Run
(object,byte[]&amp;,byte[]&amp;) &lt;0xffffffff&gt;
  at (wrapper xdomain-invoke) NUnit.Core.RemoteTestRunner.Run
(NUnit.Core.EventListener) &lt;0xffffffff&gt;
  at NUnit.Util.TestDomain.Run (NUnit.Core.EventListener) &lt;0x00067&gt;
  at NUnit.Console.ConsoleUi.Execute (NUnit.Util.ConsoleOptions) &lt;0x0039f&gt;
  at NUnit.Console.ConsoleUi.Main (string[]) &lt;0x00121&gt;
  at (wrapper runtime-invoke)
NUnit.Console.ConsoleUi.runtime_invoke_int_string[]
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;

Native stacktrace:

    /usr/local/bin/mono [0x81a27fa]
    [0xb7f04440]
    /lib/tls/i686/cmov/libc.so.6(abort+0x101) [0xb7ccea01]
    /usr/lib/libglib-2.0.so.0(g_assertion_message+0x121) [0xb7e983e1]
    /usr/lib/libglib-2.0.so.0 [0xb7e9893d]
    /usr/local/bin/mono [0x816c8d1]
    /usr/local/bin/mono [0x818d7cf]
    /usr/local/bin/mono [0x818f3f8]
    /usr/local/bin/mono [0x806ba4a]
    [0xb7b2f774]
    [0xb40c7d35]
    [0xb48dbb49]
    [0xb40f4d61]
    [0xb40f4d06]
    [0xb51d7d4d]
    [0xb48e5b03]
    [0xb48e57fb]
    [0xb51d7a15]
    [0xb51d79f3]
    [0xb51d7571]
    [0xb51d73e1]
    [0xb40f233e]
    [0xb40f2296]
    [0xb40f226a]
    [0xb40f15d4]
    [0xb40f4c4b]
    [0xb40f4b0e]
    [0xb40f4a99]
    [0xb40f4a57]
    [0xb40a64a8]
    [0xb40a5fcf]
    [0xb6bb5f09]
    /usr/local/bin/mono(mono_runtime_invoke_array+0x433) [0x811ee43]
    /usr/local/bin/mono [0x80dcd21]
    [0xb6bc3030]
    [0xb6aebe9f]
    [0xb6b7639b]
    [0xb6aebd66]
    [0xb5b4630b]
    [0xb5d0b9eb]
    [0xb5d0b70c]
    [0xb5d0b204]
    [0xb5d0b122]
    [0xb6aeb6d4]
    [0xb6aea0d6]
    [0xb6aeb6d4]
    [0xb6aea0d6]
    [0xb6aeb6d4]
    [0xb6aea0d6]
    [0xb6aeb6d4]
    [0xb6aea0d6]
    [0xb6aeb6d4]
    [0xb6aea0d6]
    [0xb6ae9fa2]
    [0xb6ae7667]
    [0xb6ae7271]
    [0xb6ae7214]
    [0xb6ae71d2]
    [0xb6ae5a3c]
    [0xb6aef34f]
    [0xb6af8248]
    [0xb6ee1840]
    [0xb767a37a]
    [0xb767a1b4]
    /usr/local/bin/mono(mono_runtime_exec_main+0x160) [0x8120f10]
    /usr/local/bin/mono(mono_runtime_run_main+0x173) [0x81211b3]
    /usr/local/bin/mono(mono_main+0x6be) [0x805b20e]
    /usr/local/bin/mono [0x805a5e2]
    /lib/tls/i686/cmov/libc.so.6(__libc_start_main+0xe0) [0xb7cb8450]
    /usr/local/bin/mono [0x805a551]

Debug info from gdb:

[Thread debugging using libthread_db enabled]
[New Thread 0xb7c60960 (LWP 1787)]
[New Thread 0xb5c64b90 (LWP 1918)]
[New Thread 0xb7286b90 (LWP 1789)]
[New Thread 0xb72aab90 (LWP 1788)]
0xb7f04410 in __kernel_vsyscall ()
  4 Thread 0xb72aab90 (LWP 1788)  0xb7f04410 in __kernel_vsyscall ()
  3 Thread 0xb7286b90 (LWP 1789)  0xb7f04410 in __kernel_vsyscall ()
  2 Thread 0xb5c64b90 (LWP 1918)  0xb7f04410 in __kernel_vsyscall ()
  1 Thread 0xb7c60960 (LWP 1787)  0xb7f04410 in __kernel_vsyscall ()

Thread 4 (Thread 0xb72aab90 (LWP 1788)):
#0  0xb7f04410 in __kernel_vsyscall ()
#1  0xb7e23196 in nanosleep () from /lib/tls/i686/cmov/libpthread.so.0
#2  0x0812ead1 in collection_thread (unused=0x0) at collection.c:34
#3  0xb7e1b4fb in start_thread () from /lib/tls/i686/cmov/libpthread.so.0
#4  0xb7d78e5e in clone () from /lib/tls/i686/cmov/libc.so.6

Thread 3 (Thread 0xb7286b90 (LWP 1789)):
#0  0xb7f04410 in __kernel_vsyscall ()
#1  0xb7e1faa5 in pthread_cond_wait@@GLIBC_2.3.2 ()
   from /lib/tls/i686/cmov/libpthread.so.0
#2  0x0813114f in timedwait_signal_poll_cond (cond=0x82a26fc,
mutex=0x82a26e4,
    timeout=0x80, alertable=0) at handles.c:1492
#3  0x08133e99 in _wapi_handle_timedwait_signal_handle (handle=0x404,
    timeout=0x0, alertable=0) at handles.c:1572
#4  0x08133f0c in _wapi_handle_wait_signal_handle (handle=0x404,
alertable=0)
    at handles.c:1532
#5  0x08134b9d in WaitForSingleObjectEx (handle=0x404, timeout=4294967295,
    alertable=0) at wait.c:200
#6  0x080cf7aa in finalizer_thread (unused=0x0) at gc.c:894
#7  0x080f650f in start_wrapper (data=0x829cd28) at threads.c:587
#8  0x081391e2 in thread_start_routine (args=0x82a296c) at threads.c:285
#9  0x08151f95 in GC_start_routine (arg=0x35f40) at pthread_support.c:1369
#10 0xb7e1b4fb in start_thread () from /lib/tls/i686/cmov/libpthread.so.0
#11 0xb7d78e5e in clone () from /lib/tls/i686/cmov/libc.so.6

Thread 2 (Thread 0xb5c64b90 (LWP 1918)):
#0  0xb7f04410 in __kernel_vsyscall ()
#1  0xb7e23196 in nanosleep () from /lib/tls/i686/cmov/libpthread.so.0
#2  0x08137d28 in SleepEx (ms=0, alertable=1) at threads.c:1037
#3  0x080f5b56 in ves_icall_System_Threading_Thread_Sleep_internal (ms=1000)
    at threads.c:986
#4  0xb5c711c6 in ?? ()
#5  0x000003e8 in ?? ()
#6  0x09563980 in ?? ()
#7  0x01203560 in ?? ()
#8  0x018bd4f8 in ?? ()
#9  0x018bd5a0 in ?? ()
#10 0x0155ddc8 in ?? ()
#11 0x000003e8 in ?? ()
#12 0x01892c38 in ?? ()
#13 0xb5c6419c in ?? ()
#14 0xb5c711a4 in ?? ()
#15 0xb5c641ac in ?? ()
#16 0xb5c71166 in ?? ()
#17 0x000003e8 in ?? ()
#18 0x015fba68 in ?? ()
#19 0xb5c641b8 in ?? ()
#20 0xb5c7113c in ?? ()
#21 0x000003e8 in ?? ()
#22 0xb5c641e4 in ?? ()
#23 0xb5c71101 in ?? ()
#24 0x000003e8 in ?? ()
#25 0x00000000 in ?? ()

Thread 1 (Thread 0xb7c60960 (LWP 1787)):
#0  0xb7f04410 in __kernel_vsyscall ()
#1  0xb7e2299b in read () from /lib/tls/i686/cmov/libpthread.so.0
#2  0x081a2971 in mono_handle_native_sigsegv (signal=6, ctx=0xbff72e0c)
    at mini-exceptions.c:1182
#3  &lt;signal handler called&gt;
#4  0xb7f04410 in __kernel_vsyscall ()
#5  0xb7ccd085 in raise () from /lib/tls/i686/cmov/libc.so.6
#6  0xb7ccea01 in abort () from /lib/tls/i686/cmov/libc.so.6
#7  0xb7e983e1 in g_assertion_message () from /usr/lib/libglib-2.0.so.0
#8  0xb7e9893d in g_assertion_message_expr () from /usr/lib/libglib-2.0.so.0
#9  0x0816c8d1 in mono_method_to_ir (cfg=0xa109868, method=0x9aadcfc,
    start_bblock=0x0, end_bblock=0x0, locals_offset=7, return_var=0x0,
    dont_inline=0x0, inline_args=0x0, inline_offset=0, is_virtual_call=0)
    at mini.c:4664
#10 0x0818d7cf in mini_method_compile (method=0x9aadcfc, opts=13724159,
    domain=0x34a50, run_cctors=&lt;value optimized out&gt;,
    compile_aot=&lt;value optimized out&gt;, parts=0) at mini.c:11777
#11 0x0818f3f8 in mono_jit_compile_method (method=0x9aadcfc) at mini.c:12246
#12 0x0806ba4a in mono_delegate_trampoline (regs=0xbff7398c,
    code=0xb40c7f36 &quot;\203&#196;\034h\020\020\t&quot;, klass=0x9a9b628, tramp=0x0)
    at mini-trampolines.c:470
#13 0xb7b2f774 in ?? ()
#14 0xbff7398c in ?? ()
#15 0xb40c7f36 in ?? ()
#16 0x09a9b628 in ?? ()
#17 0x00000000 in ?? ()
#0  0xb7f04410 in __kernel_vsyscall ()

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries
used by your application.
=================================================================


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027753.html">[Mono-dev] mono_method_get_unmanaged_thunk
</A></li>
	<LI>Next message: <A HREF="027758.html">[Mono-dev] assertion failed (!sig-&gt;has_type_parameters)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27757">[ date ]</a>
              <a href="thread.html#27757">[ thread ]</a>
              <a href="subject.html#27757">[ subject ]</a>
              <a href="author.html#27757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
