<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] How To Convince Mono To Allocate Big Arrays
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20How%20To%20Convince%20Mono%20To%20Allocate%20Big%20Arrays&In-Reply-To=1210246763.4174.1.camel%40lina.magi.balthasar.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027813.html">
   <LINK REL="Next"  HREF="027820.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] How To Convince Mono To Allocate Big Arrays</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20How%20To%20Convince%20Mono%20To%20Allocate%20Big%20Arrays&In-Reply-To=1210246763.4174.1.camel%40lina.magi.balthasar.com"
       TITLE="[Mono-dev] How To Convince Mono To Allocate Big Arrays">kumpera at gmail.com
       </A><BR>
    <I>Thu May  8 07:45:18 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027813.html">[Mono-dev] debug mono embedded
</A></li>
        <LI>Next message: <A HREF="027820.html">[Mono-dev] How To Convince Mono To Allocate Big Arrays
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27814">[ date ]</a>
              <a href="thread.html#27814">[ thread ]</a>
              <a href="subject.html#27814">[ subject ]</a>
              <a href="author.html#27814">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We want to keep changes to a minimum and we want to keep default array size
32bits. Renaming from guint32 to whatever_t is API/ABI compatible
if the underlying type keeps been the same. Using 64bits array length
changes the ABI in incompatible ways and that's why Paolo's suggestion of
doing some symbol renaming in libmono to make sure you cannot link between
those two.

I guess the only breaking changes we expect to have are due to the new
garbage collector that requires write barriers.

Rodrigo

On Thu, May 8, 2008 at 8:39 AM, Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jonpryor at vt.edu</A>&gt; wrote:

&gt;<i> On Wed, 2008-05-07 at 23:50 -0300, Rodrigo Kumpera wrote:
</I>&gt;<i> &gt; To have your patch integrated, some changes are needed. First, we want
</I>&gt;<i> &gt; to default to 32bits sized arrays on 64bits machines
</I>&gt;<i>
</I>&gt;<i> Silly question, but why?  We have Mono 2.0 coming up, so it should be
</I>&gt;<i> safe to change the public API/ABI to support 64-bit arrays everywhere on
</I>&gt;<i> 64-bit platforms now, no?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>  - Jon
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080508/ef1c97b9/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080508/ef1c97b9/attachment.html</A> 
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027813.html">[Mono-dev] debug mono embedded
</A></li>
	<LI>Next message: <A HREF="027820.html">[Mono-dev] How To Convince Mono To Allocate Big Arrays
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27814">[ date ]</a>
              <a href="thread.html#27814">[ thread ]</a>
              <a href="subject.html#27814">[ subject ]</a>
              <a href="author.html#27814">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
