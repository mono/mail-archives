<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Difficulties with charset on asp.net applications and mod_mono with 1.9.1, most non-ASCII chars appear as ??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Difficulties%20with%20charset%20on%20asp.net%20applications%20and%0A%20mod_mono%20with%201.9.1%2C%20most%20non-ASCII%20chars%20appear%20as%20%3F%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027821.html">
   <LINK REL="Next"  HREF="027829.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Difficulties with charset on asp.net applications and mod_mono with 1.9.1, most non-ASCII chars appear as ??</H1>
    <B>Antti S. Lankila</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Difficulties%20with%20charset%20on%20asp.net%20applications%20and%0A%20mod_mono%20with%201.9.1%2C%20most%20non-ASCII%20chars%20appear%20as%20%3F%3F&In-Reply-To="
       TITLE="[Mono-dev] Difficulties with charset on asp.net applications and mod_mono with 1.9.1, most non-ASCII chars appear as ??">alankila at bel.fi
       </A><BR>
    <I>Mon May  5 05:03:08 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027821.html">[Mono-dev] MonoDevelop failure
</A></li>
        <LI>Next message: <A HREF="027829.html">[Mono-dev] Difficulties with charset on asp.net applications and mod_mono with 1.9.1, most non-ASCII chars appear as ??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27766">[ date ]</a>
              <a href="thread.html#27766">[ thread ]</a>
              <a href="subject.html#27766">[ subject ]</a>
              <a href="author.html#27766">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The short: whenever I put one of the multibyte chars into source file, 
be it global.asax or foobar.aspx, I get several ? (question mark) 
characters instead of the desired characters. An example:

&lt;p&gt;&#228;&lt;/p&gt; appears in browser as &lt;p&gt;??&lt;/p&gt;.

I think my settings are correct: I have UTF-8 encoded source files, the 
&lt;globalization/&gt; tag says fileEncoding is utf-8, and it used to work 
with 1.2.6 and earlier. Some more symptoms:

* If I put into Application_Start() 'Console.Error.WriteLine(&quot;&#228;&quot;)', that 
too emits two ?? into error_log.

* setting &lt;globalization/&gt;'s fileEncoding to ISO-8859-1 doubles the 
number of ? characters in output, as in &lt;p&gt;&#228;&lt;/p&gt; =&gt; &lt;p&gt;????&lt;/p&gt;. It is 
as if something was converting the two UTF-8 bytes representing &#228; once 
more to UTF-8, then seeing 4 bytes, and emitting ? for each.

* this problem only seems to affect mod_mono. If I run the application 
through xsp2, it works.

* the bug occurs with mod_mono 1.2.5+xsp 1.2.5, and mod_mono 1.9+xsp 1.9.1.

My mono distribution is the current debian testing's 1.9.1. They haven't 
updated xsp+mod_mono so I compiled those myself to try with updated 
versions. Alas, it did not help. Is there any more information that I 
could offer to help troubleshoot this problem?

I worry that this no-one else is seeing this because there are no 
reports of this on the web. But I get the problem on two systems for 
which I have set up 1.9, albeit through Debian's repositories. It'd be 
really helpful if people with official install could try some of those 
scandinavian characters and tell if they see this too.

-- 
Antti
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027821.html">[Mono-dev] MonoDevelop failure
</A></li>
	<LI>Next message: <A HREF="027829.html">[Mono-dev] Difficulties with charset on asp.net applications and mod_mono with 1.9.1, most non-ASCII chars appear as ??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27766">[ date ]</a>
              <a href="thread.html#27766">[ thread ]</a>
              <a href="subject.html#27766">[ subject ]</a>
              <a href="author.html#27766">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
