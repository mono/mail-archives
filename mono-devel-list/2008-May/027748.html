<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mixing multiple sync/async requests to xsp/mod_mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mixing%20multiple%20sync/async%20requests%20to%20xsp/mod_mono&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027747.html">
   <LINK REL="Next"  HREF="027750.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mixing multiple sync/async requests to xsp/mod_mono</H1>
    <B>Robert Sim</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mixing%20multiple%20sync/async%20requests%20to%20xsp/mod_mono&In-Reply-To="
       TITLE="[Mono-dev] Mixing multiple sync/async requests to xsp/mod_mono">robert.sim at gmail.com
       </A><BR>
    <I>Fri May  2 18:17:51 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027747.html">[Mono-dev] Stack overflow
</A></li>
        <LI>Next message: <A HREF="027750.html">[Mono-dev] Deki Wiki on IBM Z-series with Suse Linux 10.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27748">[ date ]</a>
              <a href="thread.html#27748">[ thread ]</a>
              <a href="subject.html#27748">[ subject ]</a>
              <a href="author.html#27748">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,  I'm having some difficulty getting xsp2 to manage multiple
requests.  I'm running xsp2 1.2.4.

As I understand it, ASP.NET on windows has the limitation of 2 server
threads per client connection.  My client app uses one thread to
continuously poll with an async request (waiting for a server event),
and the other to execute synchronous calls.   If I want to execute any
other async requests, I can get around the limitation by instantiating
a second instance of the web service in the client app, and executing
the request on that instance.  All of this works fine using the
windows development server.

Switching to mod_mono or xsp2 I can still execute a single async call
simultaneously with a synchronous call, but if I create a second
webservice instance in the same process and attempt another async
call, any further synchronous calls on the first instance are blocked
until the second call returns or times out.

Any suggestions/workarounds would be most appreciated.

Here's some illustrative sample code:

MyClientAppMethod() {
    MyWebService svc1 = new MyWebService();
    MyWebService svc2 = new MyWebService();
    // Set up async event completion handling
    ...
    // now do some calls
    svc1.Method1Async();
    svc1.Method2(); // this sync call works ok

     svc2.Method3Async();  //note the call on svc2 instead of 1.
     svc1.Method2(); // with Method1Async and Method3Async
outstanding, this call blocks until one of the async calls times out.
}
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027747.html">[Mono-dev] Stack overflow
</A></li>
	<LI>Next message: <A HREF="027750.html">[Mono-dev] Deki Wiki on IBM Z-series with Suse Linux 10.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27748">[ date ]</a>
              <a href="thread.html#27748">[ thread ]</a>
              <a href="subject.html#27748">[ subject ]</a>
              <a href="author.html#27748">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
