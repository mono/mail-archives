<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Trivial Enumerable Optimizations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Trivial%20Enumerable%20Optimizations&In-Reply-To=1210335249.24633.49.camel%40lina.magi.balthasar.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027857.html">
   <LINK REL="Next"  HREF="027832.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Trivial Enumerable Optimizations</H1>
    <B>Jb Evain</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Trivial%20Enumerable%20Optimizations&In-Reply-To=1210335249.24633.49.camel%40lina.magi.balthasar.com"
       TITLE="[Mono-dev] Trivial Enumerable Optimizations">jb at nurv.fr
       </A><BR>
    <I>Sat May 10 03:30:20 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027857.html">[Mono-dev] Trivial Enumerable Optimizations
</A></li>
        <LI>Next message: <A HREF="027832.html">[Mono-dev] 1.2.4 -&gt; 1.2.6 broke remoting?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27858">[ date ]</a>
              <a href="thread.html#27858">[ thread ]</a>
              <a href="subject.html#27858">[ subject ]</a>
              <a href="author.html#27858">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

Sorry, I reviewed this patch on IRC, and should have done it here.

On 5/9/08, Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jonpryor at vt.edu</A>&gt; wrote:
&gt;<i>  Thoughts?
</I>
My point was that basically, there's no any way to make sure that
Count will throw if the collection has more than int.MaxValue items.
So the only optimizable code path is if the source is an array, which
is already done.

To me the only way is to enumerate over the elements to get the
LongLength, and Robert's test case shows that .net does the same.

So this patch is not making it in.

-- 
Jb Evain  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jb at nurv.fr</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027857.html">[Mono-dev] Trivial Enumerable Optimizations
</A></li>
	<LI>Next message: <A HREF="027832.html">[Mono-dev] 1.2.4 -&gt; 1.2.6 broke remoting?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27858">[ date ]</a>
              <a href="thread.html#27858">[ thread ]</a>
              <a href="subject.html#27858">[ subject ]</a>
              <a href="author.html#27858">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
