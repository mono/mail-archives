<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [SIGNAL] Segfault in native function called by managed code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20%5BSIGNAL%5D%20Segfault%20in%20native%20function%20called%20by%0A%20managed%20code&In-Reply-To=%3C55ED2FF8.3080906%40sil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043253.html">
   <LINK REL="Next"  HREF="043255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [SIGNAL] Segfault in native function called by managed code</H1>
    <B>Eberhard Beilharz</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20%5BSIGNAL%5D%20Segfault%20in%20native%20function%20called%20by%0A%20managed%20code&In-Reply-To=%3C55ED2FF8.3080906%40sil.org%3E"
       TITLE="[Mono-dev] [SIGNAL] Segfault in native function called by managed code">eb1 at sil.org
       </A><BR>
    <I>Mon Sep  7 06:34:32 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="043253.html">[Mono-dev] [SIGNAL] Segfault in native function called by	managed code
</A></li>
        <LI>Next message: <A HREF="043255.html">[Mono-dev] [SIGNAL] Segfault in native function called by	managed code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43254">[ date ]</a>
              <a href="thread.html#43254">[ thread ]</a>
              <a href="subject.html#43254">[ subject ]</a>
              <a href="author.html#43254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Making it configurable would seem like a good option to me. Currently if
the app gets a SEGFAULT it simply disappears for the user without
leaving a trace, so I as a developer can't easily see what happened on
the user's machine nor can I implement code that would give the user a
chance to report what happened.

If it would be configurable then we could catch the exception, let the
user send in an error report, and then try to reproduce it, possibly
with the other configuration set so that we see the SEGFAULT.

Or am I missing something how the SEGFAULT could currently be handled in
a mono app?

Thanks
    Eberhard
 

Miguel De Icaza &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at xamarin.com</A>&gt; wrote on 2015-09-05 at 03:32 +0200:
&gt;<i> It is an implementation choice.
</I>&gt;<i>
</I>&gt;<i> Perhaps we could make this configurable, but more often than not, this
</I>&gt;<i> indicates a serious issue, and surfacing something so useful as a
</I>&gt;<i> AccessViolationException reduces the usefulness of the feature.
</I>&gt;<i>
</I>&gt;<i> On Fri, Sep 4, 2015 at 6:15 AM, Raphael Boissel
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">raphael.boissel at gmail.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">raphael.boissel at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Hello,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     I have one little question on the way mono currently handles/uses the
</I>&gt;<i>     SEGFAULT signal on Unix OSes.
</I>&gt;<i>
</I>&gt;<i>     Currently, and correct me if I'm wrong, either the segfault has been
</I>&gt;<i>     raised by a managed function and in this case it is handled as a
</I>&gt;<i>     genuine exception for instance a nullRefException or if it is
</I>&gt;<i>     triggered
</I>&gt;<i>     by native code the entire program is stopped and a stacktrace is
</I>&gt;<i>     displayed.
</I>&gt;<i>
</I>&gt;<i>     However it seems that mono also follow the second behavior for
</I>&gt;<i>     native code that has been invoked inside managed code,
</I>&gt;<i>     where I would have expected an AccessViolationException.
</I>&gt;<i>
</I>&gt;<i>     Is there any specific reasons why this behavior is followed, or is it
</I>&gt;<i>     just an implementation choice ?
</I>&gt;<i>
</I>&gt;<i>     (sorry about the potential double post I sent it first with a
</I>&gt;<i>     non-whitelisted
</I>&gt;<i>     e-mail address)
</I>&gt;<i>
</I>&gt;<i>     Thanks,
</I>&gt;<i>
</I>&gt;<i>     -- 
</I>&gt;<i>     Rapha&#235;l 'Shugo' Boissel
</I>&gt;<i>
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     Mono-devel-list mailing list
</I>&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20150907/6b301f7c/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20150907/6b301f7c/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043253.html">[Mono-dev] [SIGNAL] Segfault in native function called by	managed code
</A></li>
	<LI>Next message: <A HREF="043255.html">[Mono-dev] [SIGNAL] Segfault in native function called by	managed code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43254">[ date ]</a>
              <a href="thread.html#43254">[ thread ]</a>
              <a href="subject.html#43254">[ subject ]</a>
              <a href="author.html#43254">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
