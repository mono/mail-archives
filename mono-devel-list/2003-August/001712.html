<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] about Metada
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20about%20Metada&In-Reply-To=1059987667.645.7.camel%40alambix.local.igalia.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001711.html">
   <LINK REL="Next"  HREF="001715.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] about Metada</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20about%20Metada&In-Reply-To=1059987667.645.7.camel%40alambix.local.igalia.com"
       TITLE="[Mono-devel-list] about Metada">jonpryor at vt.edu
       </A><BR>
    <I>Mon Aug  4 07:33:45 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="001711.html">[Mono-devel-list] about Metada
</A></li>
        <LI>Next message: <A HREF="001715.html">[Mono-devel-list] Linking problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1712">[ date ]</a>
              <a href="thread.html#1712">[ thread ]</a>
              <a href="subject.html#1712">[ subject ]</a>
              <a href="author.html#1712">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You don't see the instance fields in your .png because of the debugger.
The debugger knows nothing of subclasses, so when it says &quot;1: ob;
(MonoObject*) 0x80f3a20&quot;, it's showing you *only* the MonoObject fields.

It would be no different inside a C++ app, with:

	Base* b = new Derived;
	// look at b in debugger

The debugger doesn't actually know that b is of Derived type, it only
knows the static type (Base).  So you can't look at the Derived instance
fields unless you cast `b' to the proper type from within the debugger:

	(gdb) p ((Derived*)b) # etc...

At least, this has been my experience with most debuggers.  (I can't
think of an exception, anyway.)

You're facing the same basic issue.  However, it's worse for you, as the
C debugger knows nothing of the managed world, so you can't say &quot;p
(Prueba) ob&quot;, as the type Prueba is unknown.  Which is precisely why a
managed/unmanaged debugger is so useful.  (Too bad it doesn't appear to
work anymore.  At least, I haven't heard any messages about it working
now...)

 - Jon

On Mon, 2003-08-04 at 05:01, Fernando Diaz wrote:
&gt;<i> El jue, 24 de 07 de 2003 a las 14:35, Paolo Molaro escribi&#243;:
</I>&gt;<i> 
</I>&gt;<i> &gt; MonoClassField is just a runtime representation of the metadata for
</I>&gt;<i> &gt; field, it doesn't contain the data directly.
</I>&gt;<i> &gt; Static fields are stored in MonoVTable-&gt;data.
</I>&gt;<i> &gt; Instance fields are allocated in the objects after the object header:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; -----		&lt;----- start of object
</I>&gt;<i> &gt; vtable 		&lt;----- pointer for MonoVTable for the object's class
</I>&gt;<i> &gt; syncblock	&lt;----- lock/unlock support
</I>&gt;<i> &gt; first field
</I>&gt;<i> &gt; second field
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; lupus
</I>&gt;<i> 
</I>&gt;<i> I have the Class Prueba with three atributes, the source code is:
</I>&gt;<i> 
</I>&gt;<i> class Prueba{
</I>&gt;<i> 	private string texto;
</I>&gt;<i> 	private Prueba puntero;	
</I>&gt;<i>         private int entero;
</I>&gt;<i>         
</I>&gt;<i>         public Prueba(string texto,Prueba puntero,int entero){
</I>&gt;<i> 		this.texto=texto;
</I>&gt;<i> 		this.puntero=puntero;
</I>&gt;<i>                 this.entero=entero;
</I>&gt;<i>         }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> If i examine the memory to look for this atributes (it would be after de
</I>&gt;<i> object header) i get this (look the picture). The data isn't after the
</I>&gt;<i> object header and the data isn't static.
</I>&gt;<i> 
</I>&gt;<i> Why?
</I>&gt;<i> 
</I>&gt;<i> Regards. Fernando D&#237;az
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001711.html">[Mono-devel-list] about Metada
</A></li>
	<LI>Next message: <A HREF="001715.html">[Mono-devel-list] Linking problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1712">[ date ]</a>
              <a href="thread.html#1712">[ thread ]</a>
              <a href="subject.html#1712">[ subject ]</a>
              <a href="author.html#1712">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
