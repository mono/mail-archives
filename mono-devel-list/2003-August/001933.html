<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] critical-sections.c patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20critical-sections.c%20patch&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001924.html">
   <LINK REL="Next"  HREF="001908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] critical-sections.c patch</H1>
    <B>Bernie Solomon</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20critical-sections.c%20patch&In-Reply-To="
       TITLE="[Mono-devel-list] critical-sections.c patch">bernard at ugsolutions.com
       </A><BR>
    <I>Thu Aug 28 14:20:05 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="001924.html">[Mono-devel-list] critical-sections.c patch
</A></li>
        <LI>Next message: <A HREF="001908.html">[Mono-devel-list] Windows.Forms schemes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1933">[ date ]</a>
              <a href="thread.html#1933">[ thread ]</a>
              <a href="subject.html#1933">[ subject ]</a>
              <a href="author.html#1933">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry if my last comment wasn't clear. All I meant is on some platforms
(including I think Linux) if you use an uninitialized mutex but the memory
for it happens to be zeroes anyway that it will work. In this case the new
check won't do anything. But for other platforms which require different
non-zero initial values set up the new check should show up the
uninitialized mutex quickly so it can at least be tracked and fixed easily.

Bernie
----- Original Message ----- 
From: &quot;Dick Porter&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">dick at ximian.com</A>&gt;
To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Sent: Thursday, August 28, 2003 6:04 AM
Subject: Re: [Mono-devel-list] critical-sections.c patch


&gt;<i> On Wed, 2003-08-27 at 16:03, Bernie Solomon wrote:
</I>&gt;<i> &gt; Here is a small patch so failure to acquire a critical section is an
</I>error
&gt;<i> &gt; in particular so that when critical sections aren't initialized properly
</I>&gt;<i> &gt; this might be detected easier
</I>&gt;<i>
</I>&gt;<i> Thanks, patch applied (with minor formatting changes.)
</I>&gt;<i>
</I>&gt;<i> &gt; Won't catch things on all platforms (e.g. where zeroes are OK
</I>&gt;<i> &gt; for a mutex initial state) but at least shows up for those that matter.
</I>&gt;<i>
</I>&gt;<i> I don't follow this part - pthread_mutex_lock() (mono_mutex_lock() is
</I>&gt;<i> just a wrapper) should always return 0 on success.
</I>&gt;<i>
</I>&gt;<i> - Dick
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001924.html">[Mono-devel-list] critical-sections.c patch
</A></li>
	<LI>Next message: <A HREF="001908.html">[Mono-devel-list] Windows.Forms schemes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1933">[ date ]</a>
              <a href="thread.html#1933">[ thread ]</a>
              <a href="subject.html#1933">[ subject ]</a>
              <a href="author.html#1933">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
