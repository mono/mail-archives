<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] mono/android: possible GC/threading issue?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono/android%3A%20possible%20GC/threading%20issue%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035396.html">
   <LINK REL="Next"  HREF="035400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] mono/android: possible GC/threading issue?</H1>
    <B>Jeremy Bell</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono/android%3A%20possible%20GC/threading%20issue%3F&In-Reply-To="
       TITLE="[Mono-dev] mono/android: possible GC/threading issue?">bell.jeremy at gmail.com
       </A><BR>
    <I>Sat Jul  3 13:07:28 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035396.html">[Mono-dev] Moonlight and OSS4 sound ubuntu 9.10 and opensuse11.2
</A></li>
        <LI>Next message: <A HREF="035400.html">[Mono-dev] mkbundle --deps problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35397">[ date ]</a>
              <a href="thread.html#35397">[ thread ]</a>
              <a href="subject.html#35397">[ subject ]</a>
              <a href="author.html#35397">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've just recently been able to get the mono runtime running on android
using koush's androidmono project:
<A HREF="http://github.com/koush/androidmono">http://github.com/koush/androidmono</A>

It seems that koush has found a possible issue regarding the Boehm GC and
threading. His description of the issue is as follows:
If you create a simple app that creates a thread, and then calls GC.Collect,
the application will freeze. If you add logging, you can see it fails on
pthread_kill(SIG_THRSUSPEND) , with an EPERM failure.

Is it possible we are missing something in the configuration that is leading
to this? We are using mono from the trunk.

Here is the configure command he is using:
./autogen.sh --with-glib=embedded --with-moonlight=no

You can see the CFLAGS, etc... he is using by taking a look at hisAndroid.mk
file here (select the devel branch):
<A HREF="http://github.com/koush/androidmono/blob/devel/jni/Android.mk">http://github.com/koush/androidmono/blob/devel/jni/Android.mk</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100703/80ccc4ce/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100703/80ccc4ce/attachment-0001.html</A> 
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035396.html">[Mono-dev] Moonlight and OSS4 sound ubuntu 9.10 and opensuse11.2
</A></li>
	<LI>Next message: <A HREF="035400.html">[Mono-dev] mkbundle --deps problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35397">[ date ]</a>
              <a href="thread.html#35397">[ thread ]</a>
              <a href="subject.html#35397">[ subject ]</a>
              <a href="author.html#35397">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
