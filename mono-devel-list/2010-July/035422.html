<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Problem in Mono's implementation of	System.IO.StreamReader?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problem%20in%20Mono%27s%20implementation%20of%0A%09System.IO.StreamReader%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035421.html">
   <LINK REL="Next"  HREF="035423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Problem in Mono's implementation of	System.IO.StreamReader?</H1>
    <B>Thiago Padilha</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problem%20in%20Mono%27s%20implementation%20of%0A%09System.IO.StreamReader%3F&In-Reply-To="
       TITLE="[Mono-dev] Problem in Mono's implementation of	System.IO.StreamReader?">tpadilha84 at gmail.com
       </A><BR>
    <I>Thu Jul  8 15:22:40 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035421.html">[Mono-dev] SVN based mono monodevelop install, but (new) moonlight project gives error
</A></li>
        <LI>Next message: <A HREF="035423.html">[Mono-dev] Problem in Mono's implementation of	System.IO.StreamReader?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35422">[ date ]</a>
              <a href="thread.html#35422">[ thread ]</a>
              <a href="subject.html#35422">[ subject ]</a>
              <a href="author.html#35422">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Hi,

  I'm using StreamReader to read some text from a network stream that
will contain a two part message : the first part(the one I'm reading)
contains some headers in plain text, the second part may contain any
kind of data.
  It doesnt matter the data in the second part of the message, I
intend to pass the underlying Stream to another code that will
correctly deserialize it. The problem is that the StreamReader decodes
a lot of text on my first call to ReadLine() (much more than one
line). The result is that the NetworkStream advances more than it
should, and I cant deserialize the second part of the message.
  Is this intended behavior? I can easily work arround this by
buffering the second part of the message and wrapping a MemoryStream
arround it, but I'd rather pass the NetworkStream directly.
  Also, sometimes I intend to close the network connection and discard
the second part depending on the headers I find.(And since the reader
will already have buffered it, the data will have to wait for garbage
collection).

  Thanks.
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035421.html">[Mono-dev] SVN based mono monodevelop install, but (new) moonlight project gives error
</A></li>
	<LI>Next message: <A HREF="035423.html">[Mono-dev] Problem in Mono's implementation of	System.IO.StreamReader?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35422">[ date ]</a>
              <a href="thread.html#35422">[ thread ]</a>
              <a href="subject.html#35422">[ subject ]</a>
              <a href="author.html#35422">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
