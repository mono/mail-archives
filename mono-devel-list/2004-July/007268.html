<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Web Socket Code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Web%20Socket%20Code&In-Reply-To=1091183617.8173.17.camel%40hagbard.apathetic.discordia.org.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007264.html">
   <LINK REL="Next"  HREF="007269.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Web Socket Code</H1>
    <B>Tron Chambers</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Web%20Socket%20Code&In-Reply-To=1091183617.8173.17.camel%40hagbard.apathetic.discordia.org.uk"
       TITLE="[Mono-devel-list] Web Socket Code">monoguy at speakeasy.net
       </A><BR>
    <I>Fri Jul 30 12:30:01 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007264.html">[Mono-devel-list] Web Socket Code
</A></li>
        <LI>Next message: <A HREF="007269.html">[Mono-devel-list] Web Socket Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7268">[ date ]</a>
              <a href="thread.html#7268">[ thread ]</a>
              <a href="subject.html#7268">[ subject ]</a>
              <a href="author.html#7268">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dick,

Does this mean that the code in the message I was replying to from Colt 
Majkrzak doesn't reproduce for you either? If the above mentioned code 
sample also doesnt reproduce for you, I will try to make another minimal 
testcase.  I only notice this issue when I run the code for a very long 
time (on the order of days), running it for a couple of hours always 
works normally.  IIRC my code worked for days rather than 12-14 hours 
before dying with the same error in versions of mono from 6 months ago.

As far as the specifics go, the code in bugzilla is in fact using the 
same method calls (socket.Receive) as my code.  It is also functionally 
similar.

Thanks for the reply, I'd really like to help in order to get this issue 
resolved,

-t.c.

Dick Porter wrote:

&gt;<i>On Fri, 2004-07-30 at 04:07, Tron Chambers wrote:
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>I have been seeing this exact issue as well.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I have very similar code that actually uses lower level libraries than 
</I>&gt;&gt;<i>WebClient, as it reads from the socket directly.  After about 12 hours 
</I>&gt;&gt;<i>or so of reading and writing to sockets in a constant loop it dies with 
</I>&gt;&gt;<i>a some sort of GC out of memory error (it's not neccesarily the same 
</I>&gt;&gt;<i>one, but it is usually the RETURNING NIL one in the boehm library) and 
</I>&gt;&gt;<i>it appears to be an infinite loop. (processor usage at 100% etc). 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I have spent a great deal of time trying to understand this bug, but 
</I>&gt;&gt;<i>have yet to nail down a smoking gun.  I would guess it is a leak in 
</I>&gt;&gt;<i>freeing resources from the native socket code... And just to be clear, I 
</I>&gt;&gt;<i>am not failing a sanity check by keeping around strong references to 
</I>&gt;&gt;<i>anything; it is definetly a mono-specific problem.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Does <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=60835">http://bugzilla.ximian.com/show_bug.cgi?id=60835</A> look like your
</I>&gt;<i>problem?  I've looked at this and been unable to reproduce it, so if you
</I>&gt;<i>can attach another test case for me to try I will have another go.
</I>&gt;<i>
</I>&gt;<i>- Dick
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mono-devel-list mailing list
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007264.html">[Mono-devel-list] Web Socket Code
</A></li>
	<LI>Next message: <A HREF="007269.html">[Mono-devel-list] Web Socket Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7268">[ date ]</a>
              <a href="thread.html#7268">[ thread ]</a>
              <a href="subject.html#7268">[ subject ]</a>
              <a href="author.html#7268">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
