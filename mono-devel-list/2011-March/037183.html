<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] PInvoke Problem on Ubuntu
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20PInvoke%20Problem%20on%20Ubuntu&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037217.html">
   <LINK REL="Next"  HREF="037187.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] PInvoke Problem on Ubuntu</H1>
    <B>erasmus777</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20PInvoke%20Problem%20on%20Ubuntu&In-Reply-To="
       TITLE="[Mono-dev] PInvoke Problem on Ubuntu">el_gerbo2 at yahoo.com
       </A><BR>
    <I>Thu Mar 17 20:13:56 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037217.html">[Mono-dev] GSoC 2011 - Interest
</A></li>
        <LI>Next message: <A HREF="037187.html">[Mono-dev] PInvoke Problem on Ubuntu
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37183">[ date ]</a>
              <a href="thread.html#37183">[ thread ]</a>
              <a href="subject.html#37183">[ subject ]</a>
              <a href="author.html#37183">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to test Pinvoke on Ubuntu, but it looks like other people are also
having problems with it on the latest Mono build.

Here's my IPy code:

import clr
clr.AddReference('pinvoketest')
from pinvoketest import PinvokeTest

Invoke.WriteToFile('t')


My C# Wrapper:

namespace PinvokeTest {
    using System;
    using System.Runtime.InteropServices;

    public static class Invoke
    {
          [DllImport(&quot;libpinvoke.so&quot;, SetLastError=true)]
          static extern void pinvoke_this(char input);

	    public static void WriteToFile(char arg)
	    {
            pinvoke_this(arg);
			return;
	    }
    }
}


Calling the native assembly works fine with ctypes in CPython, so the
problem is either in my .NET code or Mono.   Is there something wrong with
my approach or is this an issue with Mono?

Thanks

--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/PInvoke-Problem-on-Ubuntu-tp3385915p3385915.html">http://mono.1490590.n4.nabble.com/PInvoke-Problem-on-Ubuntu-tp3385915p3385915.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037217.html">[Mono-dev] GSoC 2011 - Interest
</A></li>
	<LI>Next message: <A HREF="037187.html">[Mono-dev] PInvoke Problem on Ubuntu
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37183">[ date ]</a>
              <a href="thread.html#37183">[ thread ]</a>
              <a href="subject.html#37183">[ subject ]</a>
              <a href="author.html#37183">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
