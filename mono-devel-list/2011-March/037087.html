<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono 2.10.1 Can't open a Windows Form on Windows 7 x64
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%202.10.1%20Can%27t%20open%20a%20Windows%20Form%20on%20Windows%207%0A%20x64&In-Reply-To=001901cbdb14%24b0f75860%2412e60920%24%40guysherman.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037076.html">
   <LINK REL="Next"  HREF="037088.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono 2.10.1 Can't open a Windows Form on Windows 7 x64</H1>
    <B>Mark Sciabica</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%202.10.1%20Can%27t%20open%20a%20Windows%20Form%20on%20Windows%207%0A%20x64&In-Reply-To=001901cbdb14%24b0f75860%2412e60920%24%40guysherman.com"
       TITLE="[Mono-dev] Mono 2.10.1 Can't open a Windows Form on Windows 7 x64">msciabica at itracs.com
       </A><BR>
    <I>Mon Mar  7 12:28:04 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037076.html">[Mono-dev] Mono 2.10.1 Can't open a Windows Form on Windows 7 x64
</A></li>
        <LI>Next message: <A HREF="037088.html">[Mono-dev] Mono 2.10.1 Can't open a Windows Form on Windows 7	x64
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37087">[ date ]</a>
              <a href="thread.html#37087">[ thread ]</a>
              <a href="subject.html#37087">[ subject ]</a>
              <a href="author.html#37087">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Guy,

The bug reporting page is here: <A HREF="http://mono-project.com/Bugs">http://mono-project.com/Bugs</A>

This looks like the problem I ran into, since I was crashing on that same line. I submitted a patch to this list on 2/28. My post got no response, but hopefully someone with commit access will apply it to the official sources.

Regards,

Mark

On 3/5/2011 2:07 AM, Guy Sherman wrote:
Hi,

I&#8217;ve been working on embedding mono in a sandbox game engine I&#8217;m working on. I&#8217;m running 64bit Windows 7, and I&#8217;ve built v2.10.1 of the mono runtime for 64bit, and it seems to have worked&#8230;mostly.

I had 2.6.7 working quite well (64-bit, Windows 7, vs2010), loading up a windows form, which then made an internal call (using the mono api for adding functions into the runtime) which attached a DirectX renderer to it, and all was happy. I then wanted some .net 4 features like Xaml and WPF, so I upgraded to 2.10.1, was very pleased with how much easier the build was (only a little bit of mucking about needed to get the 64it build working) but have run into a problem. It seems that any code that creates a windows form crashes the runtime. To make sure it wasn&#8217;t my code, I created a simple WindowsFormsApplication1, and ran it first with the Win32 mono.exe that came with the 2.10.1 install &#8211; fine. I then ran it with my 64-bit build of mono.exe and it failed &#8211; first time I ran I got a crashdump, now it just quits me back to the console window, and I can&#8217;t find the crashdump files. This is a standard System.Windows.Form, not a WPF window.

I can, however, tell you where it fails in the mono runtime code because I can debug up to it in my embedding host.

Unhandled exception at 0x000007fee20b8065 (mono-2.0.dll) in SuperNova.exe: 0xC0000005: Access violation reading location 0x0000000200000037.
Mono\metadata\class.c:4681 : if (class-&gt;parent &amp;&amp; !class-&gt;parent-&gt;inited)

I have saved a memory dump out of visual studio, but it is 71mb so I&#8217;ve nowhere to put it &#8211; let me know if you want it.

I&#8217;m ok to go back to my builds of 2.6.7 for now &#8211; I don&#8217;t NEED the .net 4 stuff for the moment.

If there is a more official place to  log this can someone let me know, I&#8217;ll be happy to do it.

Thanks,

Guy Sherman
web: <A HREF="http://www.guysherman.com">http://www.guysherman.com</A>


________________________________
This message and any attachments are solely for the intended recipient and may contain confidential or privileged information. If you are not the intended recipient, any disclosure, copying, use, or distribution of the information included in this message and any attachments is prohibited. If you have received this communication in error, please notify us by reply e-mail and immediately and permanently delete this message and any attachments. Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110307/6be78c94/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110307/6be78c94/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037076.html">[Mono-dev] Mono 2.10.1 Can't open a Windows Form on Windows 7 x64
</A></li>
	<LI>Next message: <A HREF="037088.html">[Mono-dev] Mono 2.10.1 Can't open a Windows Form on Windows 7	x64
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37087">[ date ]</a>
              <a href="thread.html#37087">[ thread ]</a>
              <a href="subject.html#37087">[ subject ]</a>
              <a href="author.html#37087">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
