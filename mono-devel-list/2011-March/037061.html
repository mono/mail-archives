<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Emedding mono: System.Windows.Form trouble
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Emedding%20mono%3A%20System.Windows.Form%20trouble&In-Reply-To=000001cbd98b%242499c590%246dcd50b0%24%40guysherman.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037060.html">
   <LINK REL="Next"  HREF="037062.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Emedding mono: System.Windows.Form trouble</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Emedding%20mono%3A%20System.Windows.Form%20trouble&In-Reply-To=000001cbd98b%242499c590%246dcd50b0%24%40guysherman.com"
       TITLE="[Mono-dev] Emedding mono: System.Windows.Form trouble">robertj at gmx.net
       </A><BR>
    <I>Thu Mar  3 05:38:51 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037060.html">[Mono-dev] Emedding mono: System.Windows.Form trouble
</A></li>
        <LI>Next message: <A HREF="037062.html">[Mono-dev] License: LINQ for  .NET 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37061">[ date ]</a>
              <a href="thread.html#37061">[ thread ]</a>
              <a href="subject.html#37061">[ subject ]</a>
              <a href="author.html#37061">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03.03.2011 11:09, Guy Sherman wrote:
&gt;<i> The program then continues on to process the main event loop of the C++ side
</I>&gt;<i> of things.
</I>
It seems like you don't start WinForms' event loop machinery
at all. This is done by invoking Application.Run(Form) or
one of its overloads.

Of course, this won't fly if you already have another event
loop on your C++ side, but this is by design. You must start
start another UI thread with its own event loop, something
like that:

public class PluginHost
{
         private MainForm mainForm;

         public void Start()
         {
	    var thread = new Thread (delegate {
             	mainForm = new MainForm();
		Application.Run(mainForm);
	    });
	    thread.Start();
         }
}

Don't forget that cross-thread access must be synchronized
afterward, i.e. you can't access UI elements from another
thread (like the thread running your C++ event loop)
w/out using Control.BeginInvoke.

Robert

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037060.html">[Mono-dev] Emedding mono: System.Windows.Form trouble
</A></li>
	<LI>Next message: <A HREF="037062.html">[Mono-dev] License: LINQ for  .NET 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37061">[ date ]</a>
              <a href="thread.html#37061">[ thread ]</a>
              <a href="subject.html#37061">[ subject ]</a>
              <a href="author.html#37061">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
