<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] A bug in the latest svn mcs?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20A%20bug%20in%20the%20latest%20svn%20mcs%3F&In-Reply-To=20061012100309.7360cc70%40beowulf">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020892.html">
   <LINK REL="Next"  HREF="020894.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] A bug in the latest svn mcs?</H1>
    <B>Rolf Bjarne Kvinge</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20A%20bug%20in%20the%20latest%20svn%20mcs%3F&In-Reply-To=20061012100309.7360cc70%40beowulf"
       TITLE="[Mono-dev] A bug in the latest svn mcs?">rolflists at ya.com
       </A><BR>
    <I>Thu Oct 12 04:11:05 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020892.html">[Mono-dev] A bug in the latest svn mcs?
</A></li>
        <LI>Next message: <A HREF="020894.html">[Mono-dev] A bug in the latest svn mcs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20893">[ date ]</a>
              <a href="thread.html#20893">[ thread ]</a>
              <a href="subject.html#20893">[ subject ]</a>
              <a href="author.html#20893">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

This was fixed yesterday, if you update your working copy now it should  
work.

Rolf

On Thu, 12 Oct 2006 10:03:09 +0200, Marek Habersack &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">grendel at caudium.net</A>&gt;  
wrote:

&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i>   Sometime after yesterday's commits I started to get this error while
</I>&gt;<i> compiling mono:
</I>&gt;<i>
</I>&gt;<i> make[8]: Entering directory `/usr/src/tmp/mono/mcs/class/corlib'
</I>&gt;<i> mcs /codepage:65001 -nowarn:169,612,618,649 -d:INSIDE_CORLIB
</I>&gt;<i> -d:NET_1_1 -d:ONLY_1_1 -d:BOOTSTRAP_WITH_OLDLIB -debug /noconfig
</I>&gt;<i> -unsafe -nostdlib -resource:resources/collation.core.bin
</I>&gt;<i> -resource:resources/collation.tailoring.bin
</I>&gt;<i> -resource:resources/collation.cjkCHS.bin
</I>&gt;<i> -resource:resources/collation.cjkCHT.bin
</I>&gt;<i> -resource:resources/collation.cjkJA.bin
</I>&gt;<i> -resource:resources/collation.cjkKO.bin
</I>&gt;<i> -resource:resources/collation.cjkKOlv2.bin -target:library
</I>&gt;<i> -out:mscorlib.dll  @corlib.dll.sources
</I>&gt;<i> System.Security.Principal/WindowsIdentity.cs(281,4): error CS1502: The
</I>&gt;<i> best overloaded method match for
</I>&gt;<i> `System.Runtime.Serialization.SerializationInfo.AddValue(string,
</I>&gt;<i> ulong)' has some invalid arguments
</I>&gt;<i> System.Security.Principal/WindowsIdentity.cs(281,4): error CS1503:
</I>&gt;<i> Argument 2: Cannot convert from `System.IntPtr' to `ulong' Compilation
</I>&gt;<i> failed: 2 error(s), 0 warnings
</I>&gt;<i>
</I>&gt;<i> The offending line is adding a token (an IntPtr) to a SerializationInfo
</I>&gt;<i> collection. Since neither SerializationInfo nor IntPtr source code were
</I>&gt;<i> touched for quite some time, I suspect it must be something in the
</I>&gt;<i> compiler. The offending line is:
</I>&gt;<i>
</I>&gt;<i>   info.AddValue (&quot;m_userToken&quot;, _token);
</I>&gt;<i>
</I>&gt;<i> Casting _token to long &quot;fixes&quot; the compilation, but I doubt it's the
</I>&gt;<i> correct &quot;solution&quot; to this problem as IntPtr has a long conversion
</I>&gt;<i> operator defined - the compiler should have used it implicitly.
</I>&gt;<i>
</I>&gt;<i> best regards,
</I>&gt;<i>
</I>&gt;<i> marek
</I>


-- 
Using Opera's revolutionary e-mail client: <A HREF="http://www.opera.com/mail/">http://www.opera.com/mail/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020892.html">[Mono-dev] A bug in the latest svn mcs?
</A></li>
	<LI>Next message: <A HREF="020894.html">[Mono-dev] A bug in the latest svn mcs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20893">[ date ]</a>
              <a href="thread.html#20893">[ thread ]</a>
              <a href="subject.html#20893">[ subject ]</a>
              <a href="author.html#20893">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
