<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Replacing/Removing I18N
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Replacing/Removing%20I18N&In-Reply-To=003b01c6ebeb%24efa4ba70%246464a8c0%40ansirua">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020855.html">
   <LINK REL="Next"  HREF="020876.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Replacing/Removing I18N</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Replacing/Removing%20I18N&In-Reply-To=003b01c6ebeb%24efa4ba70%246464a8c0%40ansirua"
       TITLE="[Mono-dev] Replacing/Removing I18N">lupus at ximian.com
       </A><BR>
    <I>Wed Oct 11 12:56:39 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020855.html">[Mono-dev] Replacing/Removing I18N
</A></li>
        <LI>Next message: <A HREF="020876.html">[Mono-dev] Replacing/Removing I18N
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20871">[ date ]</a>
              <a href="thread.html#20871">[ thread ]</a>
              <a href="subject.html#20871">[ subject ]</a>
              <a href="author.html#20871">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/09/06 Andreas Nahr wrote:
&gt;<i> Current situation:
</I>&gt;<i> I18N is located in multiple separate assemblies that contain encoding 
</I>&gt;<i> classes that are autogenerated. The single-byte encodings (my current 
</I>&gt;<i> focus) use a potentially big CASE-Structure to compute the output.
</I>&gt;<i> 
</I>&gt;<i> Problems:
</I>[...]
&gt;<i> Considerations for change:
</I>&gt;<i> * Data must not be in private memory but shared as much as possible 
</I>&gt;<i> (currently most is shareable)
</I>&gt;<i> * If possible avoid internal-calls and other direct runtime-support 
</I>&gt;<i> (currently does not need any)
</I>
I'm all for dumping the current I18N assemblies, the problems you list
are real, we just need someone to write and test all the code.
What I don't agree with is avoiding internal calls and runtime support.
The reason is simple: the most efficient way to export to the manage
world arrays of data is to have them as C arrays in the mono runtime or
as data files that mono loads and mmaps, returning a pointer for use in
usafe code in the assembly implementation. See the locale data for
examples. I18n tables are best put outside the mono binary, usually
(except latin1 support). The aim is to optionally move outside also
other tables that are currently hardcoded inside mono.
Note: resources in assemblies are mmapped, but still using datadirectly
from mono is more efficient.

A small comment of your considerations, though: using a 64KB table when
a much smaller one is sufficient would be a waste. We need to keep in
mind also disk-space issues.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020855.html">[Mono-dev] Replacing/Removing I18N
</A></li>
	<LI>Next message: <A HREF="020876.html">[Mono-dev] Replacing/Removing I18N
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20871">[ date ]</a>
              <a href="thread.html#20871">[ thread ]</a>
              <a href="subject.html#20871">[ subject ]</a>
              <a href="author.html#20871">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
