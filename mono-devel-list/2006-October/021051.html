<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] macpack question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20macpack%20question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021050.html">
   <LINK REL="Next"  HREF="021061.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] macpack question</H1>
    <B>Frank Bergmann</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20macpack%20question&In-Reply-To="
       TITLE="[Mono-dev] macpack question">fbergman at kgi.edu
       </A><BR>
    <I>Fri Oct 20 14:17:08 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021050.html">[Mono-dev] Variant Patch
</A></li>
        <LI>Next message: <A HREF="021061.html">[Mono-dev] TextReader, TextWriter and IDisposable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21051">[ date ]</a>
              <a href="thread.html#21051">[ thread ]</a>
              <a href="subject.html#21051">[ subject ]</a>
              <a href="author.html#21051">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, 

I'm not sure whether this is the right list to ask about macpack ... anyway
here it goes:

I have a winforms app, with two references that I would like to bundle in an
app-bundle to make it more intuitive to run the app on OS X 10.4.x. I invoke
macpack with:

macpack -n:AppName -a:executableAssembly -r:reference1 -r:reference2
-m:winforms

when I execute the app-bundle from Finder, I see the following two messages
on the Console.log:

mono: /usr/bin/mono: cannot execute binary file
/Users/&lt;name/path/appbundle&gt;/Contents/MacOS/&lt;exetuable&gt;: line 42:
./bin/&lt;AppName&gt;: No such file or directory

If I start the AppBundle from the same Terminal/Directory from where I
created it: I get the following output in Console.log:

Unhandled Exception: System.NullReferenceException: Object reference not set
to an instance of an object at &lt;execAssembly&gt;.Form1.Main(System.String[]
args) [0x00000]

If I start the AppBundle from an X11 shell I get the stacktrace below this
message. 

I have been trying the other options x11/cocoa also with little success ... 

This problem existed in all mono-versions I tried (including 1.1.18_0) 

Thanks for your help
Frank

P.S: ... maybe I should point out that the app is running happily when
executed with mono &lt;appName&gt; from a X11-shell


=== snip === 

Gtk not found (missing LD_LIBRARY_PATH to libgtk-x11-2.0.so.0?), using
built-in colorscheme

=================================================================
Got a SIGSEGV while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

Stacktrace:

  at (wrapper managed-to-native)
System.Drawing.Carbon.CreateCGContextForPort (intptr,intptr&amp;) &lt;0xffffffff&gt;
  at (wrapper managed-to-native)
System.Drawing.Carbon.CreateCGContextForPort (intptr,intptr&amp;) &lt;0x00090&gt;
  at System.Drawing.Carbon.GetCGContextForView (intptr) &lt;0x00098&gt;
  at System.Drawing.Graphics.FromHwnd (intptr) &lt;0x000f8&gt;
  at System.Windows.Forms.XplatUIX11.PaintEventStart (intptr,bool) &lt;0x000c4&gt;
  at System.Windows.Forms.XplatUI.PaintEventStart (intptr,bool) &lt;0x00038&gt;
  at System.Windows.Forms.Control.WndProc (System.Windows.Forms.Message&amp;)
&lt;0x00404&gt;
  at System.Windows.Forms.ScrollBar.WndProc (System.Windows.Forms.Message&amp;)
&lt;0x0001c&gt;
  at ControlNativeWindow.WndProc (System.Windows.Forms.Message&amp;) &lt;0x00030&gt;
  at System.Windows.Forms.NativeWindow.WndProc
(intptr,System.Windows.Forms.Msg,intptr,intptr) &lt;0x0022c&gt;
  at System.Windows.Forms.XplatUIX11.SendMessage
(intptr,System.Windows.Forms.Msg,intptr,intptr) &lt;0x001d8&gt;
  at System.Windows.Forms.XplatUIX11.UpdateWindow (intptr) &lt;0x00088&gt;
  at System.Windows.Forms.XplatUI.UpdateWindow (intptr) &lt;0x00030&gt;
  at System.Windows.Forms.Control.Refresh () &lt;0x00054&gt;
  at System.Windows.Forms.ScrollBar.OnResizeSB (object,System.EventArgs)
&lt;0x0007c&gt;
  at (wrapper delegate-invoke)
System.MulticastDelegate.invoke_void_object_EventArgs
(object,System.EventArgs) &lt;0x00078&gt;
  at System.Windows.Forms.Control.OnResize (System.EventArgs) &lt;0x00040&gt;
  at System.Windows.Forms.Control.OnSizeChanged (System.EventArgs) &lt;0x00038&gt;
  at System.Windows.Forms.Control.UpdateBounds (int,int,int,int,int,int)
&lt;0x00208&gt;
  at System.Windows.Forms.Control.UpdateBounds () &lt;0x001d8&gt;
  at System.Windows.Forms.Control.WndProc (System.Windows.Forms.Message&amp;)
&lt;0x003c4&gt;
  at System.Windows.Forms.ScrollBar.WndProc (System.Windows.Forms.Message&amp;)
&lt;0x0001c&gt;
  at ControlNativeWindow.WndProc (System.Windows.Forms.Message&amp;) &lt;0x00030&gt;
  at System.Windows.Forms.NativeWindow.WndProc
(intptr,System.Windows.Forms.Msg,intptr,intptr) &lt;0x0022c&gt;
  at System.Windows.Forms.XplatUIX11.SendMessage
(intptr,System.Windows.Forms.Msg,intptr,intptr) &lt;0x001d8&gt;
  at System.Windows.Forms.XplatUIX11.SetWindowPos (intptr,int,int,int,int)
&lt;0x00178&gt;
  at System.Windows.Forms.XplatUI.SetWindowPos (intptr,int,int,int,int)
&lt;0x00050&gt;
  at System.Windows.Forms.Control.SetBoundsCore
(int,int,int,int,System.Windows.Forms.BoundsSpecified) &lt;0x00060&gt;
  at System.Windows.Forms.Control.SetBounds
(int,int,int,int,System.Windows.Forms.BoundsSpecified) &lt;0x000d8&gt;
  at System.Windows.Forms.Control.set_Bounds (System.Drawing.Rectangle)
&lt;0x000dc&gt;
  at (wrapper remoting-invoke-with-check)
System.Windows.Forms.Control.set_Bounds (System.Drawing.Rectangle) &lt;0x000dc&gt;
  at System.Windows.Forms.TextBoxBase.PositionControls () &lt;0x0081c&gt;
  at System.Windows.Forms.TextBoxBase.CalculateScrollBars () &lt;0x003d4&gt;
  at System.Windows.Forms.TextBox.set_ScrollBars
(System.Windows.Forms.ScrollBars) &lt;0x00034&gt;
  at (wrapper remoting-invoke-with-check)
System.Windows.Forms.TextBox.set_ScrollBars
(System.Windows.Forms.ScrollBars) &lt;0x00084&gt;
  at &lt;execassembly&gt;.Form1.InitializeComponent () &lt;0x01a48&gt;
  at &lt;execassembly&gt;.Form1..ctor () &lt;0x0003c&gt;
  at (wrapper remoting-invoke-with-check) JarnacLite.Form1..ctor ()
&lt;0x00048&gt;
  at &lt;execassembly&gt;.Form1.Main (string[]) &lt;0x0004c&gt;
  at (wrapper runtime-invoke) System.Object.runtime_invoke_void_string[]
(object,intptr,intptr,intptr) &lt;0x00064&gt;
/Users/&lt;User/path/appbundle&gt;/Contents/MacOS/&lt;executable&gt;: line 43: 20070
Abort trap              &quot;./bin/$APP_NAME&quot; &quot;$ASSEMBLY&quot;

=== snip ===



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021050.html">[Mono-dev] Variant Patch
</A></li>
	<LI>Next message: <A HREF="021061.html">[Mono-dev] TextReader, TextWriter and IDisposable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21051">[ date ]</a>
              <a href="thread.html#21051">[ thread ]</a>
              <a href="subject.html#21051">[ subject ]</a>
              <a href="author.html#21051">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
