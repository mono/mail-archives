<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [Mono-devel-list] Operating System in C# Project
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BMono-devel-list%5D%20Operating%20System%20in%20C%23%20Project&In-Reply-To=7085656.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021166.html">
   <LINK REL="Next"  HREF="021164.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [Mono-devel-list] Operating System in C# Project</H1>
    <B>Brian Crowell</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BMono-devel-list%5D%20Operating%20System%20in%20C%23%20Project&In-Reply-To=7085656.post%40talk.nabble.com"
       TITLE="[Mono-dev] [Mono-devel-list] Operating System in C# Project">mono-devel at fluggo.com
       </A><BR>
    <I>Mon Oct 30 21:23:00 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021166.html">[Mono-dev] [Mono-devel-list] Operating System in C# Project
</A></li>
        <LI>Next message: <A HREF="021164.html">[Mono-dev] [Mono-devel-list] Operating System in C# Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21174">[ date ]</a>
              <a href="thread.html#21174">[ thread ]</a>
              <a href="subject.html#21174">[ subject ]</a>
              <a href="author.html#21174">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Johann MacDonagh wrote:
&gt;<i> Actually if it's all the same, I'd like to keep this operating system
</I>&gt;<i> separate from the Unix mentality. That's not to say we wouldn't borrow some
</I>&gt;<i> of Unix's ways of doing things, but there are certain things that would need
</I>&gt;<i> to be changed.
</I>
There are lots of things to address, for sure. Device drivers are a hairy issue all by themselves, but I could see you encapsulating things like IRQs and I/O ports into classes.

One good place to start might be to write a file-system driver. You would assume that the operating system would hand you a stream tailored for block devices (e.g. BlockStream) and you just go to town. I'd design it at three levels:

* The classes and structures that encapsulate various internal states of the file system (e.g. inodes, directories, journals)

* A class that encapsulates all the external behavior of the file system (e.g. EfsFileSystem) upon being given a block device, where you can ask for streams and query/set attributes, but which knows nothing about other loaded drivers, or even about the system at all

* A class that presents the file system to the operating system (e.g. EfsFileSystemComponent)

Certainly a lot of good ideas and good sample code can come from Unix. One question will come up right away: what do we port, and what do we re-write? In practice, I've rarely been satisfied when porting projects to C#. It's one thing to wrap an API, but to try to translate pointer/error code mentality to reference/exception mentality on the fly is rough. I suggest we re-write most things, with an eye toward using testing to achieve compatibility, rather than hoping that we get the translation right.


&gt;<i> SharpOS.org isn't taken. Kind of shows both sides of the issue.
</I>
Sounds awesome to me.


&gt;<i> If there was enough brains behind this, then I wouldn't mind paying for some
</I>&gt;<i> shared hosting on a separate domain name. Set up a wiki (for brainstorming,
</I>&gt;<i> designing), svn, and perhaps some forums (I prefer them over mailing lists).
</I>
I like mailing lists because I get them in my mail client; I don't have to browse anywhere, remember passwords, or learn yet another bulletin board system. My two cents.

Speaking of two cents, I'd be willing to chip in on hosting costs. Actually, I've been meaning to try out virtual hosting for awhile; those things almost look too good to be true, at US$50/month.

--Brian 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021166.html">[Mono-dev] [Mono-devel-list] Operating System in C# Project
</A></li>
	<LI>Next message: <A HREF="021164.html">[Mono-dev] [Mono-devel-list] Operating System in C# Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21174">[ date ]</a>
              <a href="thread.html#21174">[ thread ]</a>
              <a href="subject.html#21174">[ subject ]</a>
              <a href="author.html#21174">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
