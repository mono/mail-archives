<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] On the way to bootstrap vbnc on Mono - How to	debugthe runtime on cygwin?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20On%20the%20way%20to%20bootstrap%20vbnc%20on%20Mono%20-%20How%20to%0A%09debugthe%20runtime%20on%20cygwin%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020938.html">
   <LINK REL="Next"  HREF="020963.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] On the way to bootstrap vbnc on Mono - How to	debugthe runtime on cygwin?</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20On%20the%20way%20to%20bootstrap%20vbnc%20on%20Mono%20-%20How%20to%0A%09debugthe%20runtime%20on%20cygwin%3F&In-Reply-To="
       TITLE="[Mono-dev] On the way to bootstrap vbnc on Mono - How to	debugthe runtime on cygwin?">kornelpal at gmail.com
       </A><BR>
    <I>Mon Oct 16 08:00:22 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020938.html">[Mono-dev] On the way to bootstrap vbnc on Mono - How to debug	the runtime on cygwin?
</A></li>
        <LI>Next message: <A HREF="020963.html">[Mono-dev] On the way to bootstrap vbnc on Mono - How to	debug	the runtime on cygwin?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20956">[ date ]</a>
              <a href="thread.html#20956">[ thread ]</a>
              <a href="subject.html#20956">[ subject ]</a>
              <a href="author.html#20956">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Thanks for the tip, VC++ compiled Mono without problems and the debugger 
works fine as well. It's great.:)

The documentation only mentions MONO_PATH but I had to set MONO_CFG_DIR as 
well. Is that normal?

And I had to disable runtime checks in libmono because it triggered errors 
at very early points of execution. Is there any use to have these checks?

Unfortunately I have no idea what the bug in the runtime is. According to 
the stack traces the break point triggers when working with some generic 
method signatures and the free and realloc heap functions seem to detect 
that something is wrong. But I wasn't able to figure out what the problem 
is.

Could you please have a look at the runtime?

I used SVN HEAD, and tried to bootstrap vbnc using the following command 
line:

mono --debug vbnc.exe /codepage:65001 /out:.\bootstrap.exe 
@..\tests\SelfTest\bootstrap.rsp

Also note that I have applied the patch posted in the first message in this 
thread to corlib that makes vbnc reach the point where the runtime crashes:
<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/2006-October/020889.html">http://lists.ximian.com/pipermail/mono-devel-list/2006-October/020889.html</A>

Thanks for your help.

Korn&#233;l

----- Original Message ----- 
From: &quot;Zoltan Varga&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vargaz at gmail.com</A>&gt;
To: &quot;Robert Jordan&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">robertj at gmx.net</A>&gt;
Cc: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Sent: Sunday, October 15, 2006 7:09 PM
Subject: Re: [Mono-dev] On the way to bootstrap vbnc on Mono - How to 
debugthe runtime on cygwin?


                            Hi,

  gdb is close to unusable under cygwin. I suggest compiling the runtime 
with
VisualC++ and that debugger. Compiling with VC++ is much faster too, and
VC++ Express is free.

             Zoltan

On 10/15/06, Robert Jordan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">robertj at gmx.net</A>&gt; wrote:
&gt;<i> Hi Korn&#233;l,
</I>&gt;<i>
</I>&gt;<i> Korn&#233;l P&#225;l wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Today I have made a lot of progress in making vbnc bootstrap on Mono.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But I'm stuck with a SIGSEGV. And I have no experience at all in
</I>&gt;<i> &gt; debugging the runtime.
</I>&gt;<i>
</I>&gt;<i> Debugging with GDB under Linux:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.mono-project.com/Debugging#Debugging_with_GDB">http://www.mono-project.com/Debugging#Debugging_with_GDB</A>
</I>&gt;<i>
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>_______________________________________________
Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020938.html">[Mono-dev] On the way to bootstrap vbnc on Mono - How to debug	the runtime on cygwin?
</A></li>
	<LI>Next message: <A HREF="020963.html">[Mono-dev] On the way to bootstrap vbnc on Mono - How to	debug	the runtime on cygwin?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20956">[ date ]</a>
              <a href="thread.html#20956">[ thread ]</a>
              <a href="subject.html#20956">[ subject ]</a>
              <a href="author.html#20956">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
