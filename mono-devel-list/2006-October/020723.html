<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Build mono from svn on Solaris Express x86
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Build%20mono%20from%20svn%20on%20Solaris%20Express%20x86&In-Reply-To=1159791508.13059.30.camel%40erandi.dom">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020714.html">
   <LINK REL="Next"  HREF="020716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Build mono from svn on Solaris Express x86</H1>
    <B>Daniel Morgan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Build%20mono%20from%20svn%20on%20Solaris%20Express%20x86&In-Reply-To=1159791508.13059.30.camel%40erandi.dom"
       TITLE="[Mono-dev] Build mono from svn on Solaris Express x86">monodanmorg at yahoo.com
       </A><BR>
    <I>Tue Oct  3 00:29:50 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020714.html">[Mono-dev] Build mono from svn on Solaris Express x86
</A></li>
        <LI>Next message: <A HREF="020716.html">[Mono-dev]  Offtopic: C5 and class design
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20723">[ date ]</a>
              <a href="thread.html#20723">[ thread ]</a>
              <a href="subject.html#20723">[ subject ]</a>
              <a href="author.html#20723">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks miguel.  That helped.  I am using subversion
because I like to build it myself so I can make
changes  to it. :-)

export ACLOCAL_FLAGS=&quot;-I /usr/share/aclocal&quot;

I used these links to help me:

<A HREF="http://home.comcast.net/~jonel.rienton/2005/04/solaris-10-x86-and-mono.html">http://home.comcast.net/~jonel.rienton/2005/04/solaris-10-x86-and-mono.html</A>

<A HREF="http://www.genunix.org/wiki/index.php/How_to_build_Mono_on_Solaris">http://www.genunix.org/wiki/index.php/How_to_build_Mono_on_Solaris</A>

Mono 1.1.13.8 and its dependencies are available for
Solaris 10/x86 via <A HREF="http://www.blastwave.org.">http://www.blastwave.org.</A>  However,
there is no new verison though.

You download pkg-get and install it.  Then you use
pkg-get to get mono.  It downloads and installs mono
and its dependencies.

/opt/csw is where blastwave.org installs its packages.
/usr/sfw is where you find some GNU tools like gcc
/usr/ccs is where you find tools like ar


export
PATH=/usr/sfw/bin:/opt/csw/bin:$PATH:/usr/sbin:/sbin:/usr/X/bin:/usr/ccs/bin
export
LD_LIBRARY_PATH=/usr/sfw/lib:/opt/csw/lib:$LD_LIBRARY_PATH:/usr/lib:/usr/X/lib:/usr/ccs/lib
export PKG_CONFIG_PATH=/opt/csw/lib/pkgconfig
export ACLOCAL_FLAGS=&quot;-I /usr/share/aclocal&quot;

And of course, I used the bash shell.

How I ran autogen.sh:

CC=/usr/sfw/bin/gcc ./autogen.sh
--prefix=$HOME/monosvn/monoinstall
--with-libs=/opt/csw/lib
--with-includes=/opt/csw/include

How I ran gmake:

CC=/usr/sfw/bin/gcc
CFLAGS='-D_POSIX_PTHREAD_SEMANTICS' gmake

However, I did make a change to configure.in for tls
by adding with_tls=pthread and I commented with_nptl.

	*-*-solaris*)
		platform_win32=no
		CPPFLAGS=&quot;$CPPFLAGS -DGC_SOLARIS_THREADS
-DGC_SOLARIS_PTHREADS -D_REENTRANT
-D_POSIX_PTHREAD_SEMANTICS -DUSE_MMAP -DUSE_MUNMAP&quot;
		need_link_unlink=yes
		libmono_cflags=&quot;-D_REENTRANT&quot;
		libgc_threads=pthreads
		# This doesn't seem to work on solaris/x86, but the
configure test runs
		# with_nptl=no
		with_tls=pthread
		;;

I know this works for Solaris Express and Solaris 10,
but not sure about versions prior to 2.10.


--- Miguel de Icaza &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at ximian.com</A>&gt; wrote:

&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> &gt; configure error building mono from svn on solaris
</I>&gt;<i> x86
</I>&gt;<i> &gt; /configure: line 22795: syntax error near
</I>&gt;<i> unexpected
</I>&gt;<i> &gt; token `BASE_DEPENDENCIES,'./configure: line 22795:
</I>&gt;<i> ` 
</I>&gt;<i> &gt; PKG_CHECK_MODULES(BASE_DEPENDENCIES, glib-2.0 &gt;=
</I>&gt;<i> &gt; $GLIB_REQUIRED_VERSION)'
</I>&gt;<i> 
</I>&gt;<i> This looks like you are missing the pkg-config
</I>&gt;<i> installation on your
</I>&gt;<i> system, or you have not set ACLOCAL_FLAGS to include
</I>&gt;<i> the -I and the path
</I>&gt;<i> where aclocal can find it.
</I>&gt;<i> 
</I>&gt;<i> You will drastically reduce the number of
</I>&gt;<i> dependencies in your build, if
</I>&gt;<i> you use a tarball instead of SVN which has none of
</I>&gt;<i> these problems.
</I>&gt;<i> 
</I>&gt;<i> Miguel
</I>&gt;<i> 
</I>

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020714.html">[Mono-dev] Build mono from svn on Solaris Express x86
</A></li>
	<LI>Next message: <A HREF="020716.html">[Mono-dev]  Offtopic: C5 and class design
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20723">[ date ]</a>
              <a href="thread.html#20723">[ thread ]</a>
              <a href="subject.html#20723">[ subject ]</a>
              <a href="author.html#20723">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
