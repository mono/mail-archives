<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] mono's Windows Forms &amp; MS .Net
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20mono%27s%20Windows%20Forms%20%26%20MS%20.Net&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000915.html">
   <LINK REL="Next"  HREF="000905.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] mono's Windows Forms &amp; MS .Net</H1>
    <B>Chris Day</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20mono%27s%20Windows%20Forms%20%26%20MS%20.Net&In-Reply-To="
       TITLE="[Mono-devel-list] mono's Windows Forms &amp; MS .Net">ChrisD at monkey.biz
       </A><BR>
    <I>Wed May 21 19:18:23 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000915.html">[Mono-devel-list] Re: Corlib Test Build Failure
</A></li>
        <LI>Next message: <A HREF="000905.html">[Mono-devel-list] A patch for Math.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#903">[ date ]</a>
              <a href="thread.html#903">[ thread ]</a>
              <a href="subject.html#903">[ subject ]</a>
              <a href="author.html#903">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Windows forms AFAIK is sort of based on COM.  Basically the Main
function of a winforms app has a [STAThread] attribute which is
Single-Threaded Apartment.  Basically what this means is that COM (and
Windows) talks to the process via a message pump, with the messages
usually then processed and dispatched and handled in the WndProc method
of a winform.  The thread which handles the windows messages is also
called the UI Thread.
 
However winforms still talks to Windows directly (well if you consider
P/Invoke direct ;)
 
Basically for all messages (ie. mouse moved, repaint yourself, etc)
windows communicates with the winform via the message pump.  Also _some_
gui updates require messages go through the message pump (ie. you need
to call Invoke on the control you're updating with a delegate to the
method to do the updating, which then calls the delegate on the UI
Thread), but it does not mean that a winform app is or required to be
single-threaded.
 
To summarise
    - winforms message pump runs on a single thread, aka UI Thread
    - winforms talks &quot;directly&quot; to kernel (aka Win32 API)
 
In terms of mono's winforms working on WinXX, I would suggest that if
there is in place a process to handle windows messages then they should
work fine.  I have no idea, but I guess this is what GTK does for you on
WinXX.
 
Chris

-----Original Message-----
From: Urs Muff [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">umuff at quark.com</A>] 
Sent: Thursday, 22 May 2003 12:32 AM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Subject: [Mono-devel-list] mono's Windows Forms &amp; MS .Net



The MS Windows forms have a major drawback; they are based on COM and
are single threaded.  That means they are not using the underlying
kernel directly, but using COM to talk to it.

As far as I know mono's Windows forms are directly written on top of the
kernel.  Is that correct?

Do mono's Windows forms have a threading restriction?

What is the status of Windows forms on Win32 [WinNT/WinXP/Win2k3
Server]?

Would it be possible to use [did anyone try to use] mono's Windows form
in the MS .Net CLR?  What could be possible problems?  Does the forms
implementation rely on anything special in the mono runtime?

Thanks a lot for your answer.

- Urs C. Muff
Software Architect      - Research Lab
Quark Inc.

<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">UMuff at Quark.Com</A>         - X6360





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000915.html">[Mono-devel-list] Re: Corlib Test Build Failure
</A></li>
	<LI>Next message: <A HREF="000905.html">[Mono-devel-list] A patch for Math.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#903">[ date ]</a>
              <a href="thread.html#903">[ thread ]</a>
              <a href="subject.html#903">[ subject ]</a>
              <a href="author.html#903">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
