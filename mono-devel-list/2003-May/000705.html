<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Problems with the new jit and proxies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Problems%20with%20the%20new%20jit%20and%20proxies&In-Reply-To=1052466678.1620.36.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000698.html">
   <LINK REL="Next"  HREF="000711.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Problems with the new jit and proxies</H1>
    <B>yoros at wanadoo.es</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Problems%20with%20the%20new%20jit%20and%20proxies&In-Reply-To=1052466678.1620.36.camel%40localhost.localdomain"
       TITLE="[Mono-devel-list] Problems with the new jit and proxies">yoros at wanadoo.es
       </A><BR>
    <I>Fri May  9 12:27:49 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000698.html">[Mono-devel-list] Problems with the new jit and proxies
</A></li>
        <LI>Next message: <A HREF="000711.html">[Mono-devel-list] Problems with the new jit and proxies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#705">[ date ]</a>
              <a href="thread.html#705">[ thread ]</a>
              <a href="subject.html#705">[ subject ]</a>
              <a href="author.html#705">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, May 09, 2003 at 09:51:18AM +0200, dietmar wrote:
&gt;<i> On Fri, 2003-05-09 at 01:49, Lluis Sanchez wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I've been tracking down a couple of problems that mini has with transparent
</I>&gt;<i> &gt; proxies:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 1) It crashes when creating a proxy based on an interface. This is because
</I>&gt;<i> &gt; the method mono_jit_create_remoting_trampoline in mini.c checks if the
</I>&gt;<i> &gt; provided method is from a marshalbyref or object class. If it is not, it
</I>&gt;<i> &gt; does not create the remoting trampoline. Since the method is from an
</I>&gt;<i> &gt; interface, the trampoline is not created and it fails. If I remove the check
</I>&gt;<i> &gt; it works. In the old jit this check wasn't there, but I guess there is a
</I>&gt;<i> &gt; good reason for it.
</I>&gt;<i> 
</I>&gt;<i> I thought I already fixed that yesterday:
</I>&gt;<i> 
</I>&gt;<i> 	if ((method-&gt;flags &amp; METHOD_ATTRIBUTE_ABSTRACT) ...
</I>
Dietmar, I updated CVS and the testcase I had for this bug worked
perfectly but I created a new example, when a client application sends
a local object to a remote object. The remote object receives an
interface. This breaks if the dlls needed by the client and the server
are separated in two directories (with the client exe and the server
exe). I send an example.

Regards,

    Pedro
 
-- 
Pedro Mart&#237;nez Juli&#225;
\  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">yoros at terra.es</A>
)|    <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">yoros at wanadoo.es</A>
/        <A HREF="http://yoros.cjb.net">http://yoros.cjb.net</A>
Socio HispaLinux #311
Usuario Linux #275438 - <A HREF="http://counter.li.org">http://counter.li.org</A>
GnuPG public information:  pub  1024D/74F1D3AC
Key fingerprint = 8431 7B47 D2B4 5A46 5F8E  534F 588B E285 74F1 D3AC
-------------- next part --------------
A non-text attachment was scrubbed...
Name: TestCase.tar.gz
Type: application/octet-stream
Size: 2569 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030509/ed911115/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030509/ed911115/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000698.html">[Mono-devel-list] Problems with the new jit and proxies
</A></li>
	<LI>Next message: <A HREF="000711.html">[Mono-devel-list] Problems with the new jit and proxies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#705">[ date ]</a>
              <a href="thread.html#705">[ thread ]</a>
              <a href="subject.html#705">[ subject ]</a>
              <a href="author.html#705">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
