<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mixed Mode Assemblies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mixed%20Mode%20Assemblies&In-Reply-To=CAEnAdhZ9oKJZAL4hu3XgTAR1FO8kAjURQbXgLVtyy6EydcPUFQ%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037790.html">
   <LINK REL="Next"  HREF="037793.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mixed Mode Assemblies</H1>
    <B>Tom Spink</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mixed%20Mode%20Assemblies&In-Reply-To=CAEnAdhZ9oKJZAL4hu3XgTAR1FO8kAjURQbXgLVtyy6EydcPUFQ%40mail.gmail.com"
       TITLE="[Mono-dev] Mixed Mode Assemblies">tspink at gmail.com
       </A><BR>
    <I>Fri Jul  8 13:40:17 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037790.html">[Mono-dev] Mixed Mode Assemblies
</A></li>
        <LI>Next message: <A HREF="037793.html">[Mono-dev] Mixed Mode Assemblies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37791">[ date ]</a>
              <a href="thread.html#37791">[ thread ]</a>
              <a href="subject.html#37791">[ subject ]</a>
              <a href="author.html#37791">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8 July 2011 18:04, Alex &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">xtzgzorex at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> While this is theoretically possible, it would be completely
</I>&gt;<i> nonstandard. How do you actually want to store CIL /and/ native code
</I>&gt;<i> in ELFs? I'm not very familiar with the format, but I can't imagine
</I>&gt;<i> it'd be a clean endeavor.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Alex
</I>&gt;<i>
</I>&gt;<i>
</I>Hi Alex,

Why do you think that?  I've actually pondered this approach for a while, as
it could potentially bring a couple of benefits.

At the moment, the metadata is stored in the PE's text section.  So, why not
just store it in the ELF's text section?  All the PE headers are completely
ignored by the Windows runtime loader - they don't care about it (except for
the CLR data directory offset, and text section offset, which is required to
calculate RVAs).

Also, if you wrap the metadata in an ELF container, you could potentially
write stubs to load the mono runtime.

Whilst I've not dug into the Mono image loader code, I can't imagine it'd be
/too/ difficult to make it load an ELF binary, probably converting it to a
pluggable system along the way.

-- 
Tom Spink
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110708/85717645/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110708/85717645/attachment.html</A> 
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037790.html">[Mono-dev] Mixed Mode Assemblies
</A></li>
	<LI>Next message: <A HREF="037793.html">[Mono-dev] Mixed Mode Assemblies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37791">[ date ]</a>
              <a href="thread.html#37791">[ thread ]</a>
              <a href="subject.html#37791">[ subject ]</a>
              <a href="author.html#37791">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
