<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Non-TCP/IP socket access
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Non-TCP/IP%20socket%20access&In-Reply-To=4E299F8D.1050605%40UFO-Net.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037856.html">
   <LINK REL="Next"  HREF="037865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Non-TCP/IP socket access</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Non-TCP/IP%20socket%20access&In-Reply-To=4E299F8D.1050605%40UFO-Net.nl"
       TITLE="[Mono-dev] Non-TCP/IP socket access">robertj at gmx.net
       </A><BR>
    <I>Fri Jul 22 12:12:17 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037856.html">[Mono-dev] Non-TCP/IP socket access
</A></li>
        <LI>Next message: <A HREF="037865.html">[Mono-dev] Non-TCP/IP socket access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37857">[ date ]</a>
              <a href="thread.html#37857">[ thread ]</a>
              <a href="subject.html#37857">[ subject ]</a>
              <a href="author.html#37857">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 22.07.2011 18:04, Ivo Smits wrote:
&gt;<i> Op 22-7-2011 17:05, Andy Hume schreef:
</I>&gt;&gt;<i> That was the most beautiful ugly thing I've seen in a long time. :-)
</I>&gt;&gt;<i> Unfortunately I haven't managed to get it to work:
</I>&gt;&gt;<i> 1) Try [DllImport(&quot;__Internal&quot;)] extern int _wapi_socket(..)
</I>&gt;&gt;<i> Swallowed Exception: System.EntryPointNotFoundException: _wapi_socket
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2) Try [DllImport(&quot;mono-2.0&quot;)] extern int _wapi_socket(..)
</I>&gt;&gt;<i> Swallowed Exception: System.EntryPointNotFoundException: _wapi_socket
</I>&gt;&gt;<i>
</I>&gt;<i> If I remember correctly, the class name including it's namespace may
</I>&gt;<i> need to be the same. I have used a similar 'hack' with the file I/O to
</I>&gt;<i> create an unbuffered stream I/O wrapper. I've used the
</I>&gt;<i> [MethodImplAttribute(MethodImplOptions.InternalCall)] attribute there;
</I>
We don't want the internal call because... see below.

&gt;<i> just copy-pasted from the Mono sourcecode. Also, shouldn't the return
</I>&gt;<i> value be an IntPtr rather than an int?
</I>
The return value is 32 bit.

&gt;<i> However, looking at the mono code, there are no checks in the managed
</I>&gt;<i> part of the Socket construction. Did I miss anything, is it in the
</I>&gt;<i> unmanaged code perhaps? Have you tried to use the managed Socket
</I>
There are checks. That's the whole point.

Robert

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037856.html">[Mono-dev] Non-TCP/IP socket access
</A></li>
	<LI>Next message: <A HREF="037865.html">[Mono-dev] Non-TCP/IP socket access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37857">[ date ]</a>
              <a href="thread.html#37857">[ thread ]</a>
              <a href="subject.html#37857">[ subject ]</a>
              <a href="author.html#37857">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
