<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mixed Mode Assemblies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mixed%20Mode%20Assemblies&In-Reply-To=4E28AE8D.5080801%40UFO-Net.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037844.html">
   <LINK REL="Next"  HREF="037858.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mixed Mode Assemblies</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mixed%20Mode%20Assemblies&In-Reply-To=4E28AE8D.5080801%40UFO-Net.nl"
       TITLE="[Mono-dev] Mixed Mode Assemblies">robertj at gmx.net
       </A><BR>
    <I>Fri Jul 22 05:49:10 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037844.html">[Mono-dev] Mixed Mode Assemblies
</A></li>
        <LI>Next message: <A HREF="037858.html">[Mono-dev] Mixed Mode Assemblies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37845">[ date ]</a>
              <a href="thread.html#37845">[ thread ]</a>
              <a href="subject.html#37845">[ subject ]</a>
              <a href="author.html#37845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 22.07.2011 00:56, Ivo Smits wrote:
&gt;<i> Also, I think that eventually the 'reverse interop code' could be
</I>&gt;<i> generated from an assembly file by using the Reflection framework. You
</I>&gt;<i> could make the code generator a managed application.
</I>
This is kinda obvious :) The same in C++ would be taking
like 10 times more effort. Tom was rather focused on the
unmanaged part in his PoC.

To be really useful, the generator must perform much more than
dumb stub generation. It must generate C++ classes, take care
of object pinning and unpinning, wrapping and
unwrapping C++ objects to/from Mono objects on managed/unmanaged
boundaries, struct handling, fields, constants, delegates,
exception handling, etc.

On the other hand, this is actually the duty of a C++ compiler
that claims to support managed extensions. So the next natural
step would be to check what others have already done it this area.

And... I have no idea where to start looking :) This is written
from memory:

There is a gcc C++/CIL, but it's of no use in our context
because it's got a CIL backend. I don't know if it supports
the managed C++ extensions syntax at all.

There is a (GSoC?) project focused on COM-like interop.
I don't know it they have something like a generator for
C++ stubs. If yes, it would be an IDL-approach, tailored for COM.

There is an interesting (GSoC?) project (maybe the same as
above?) focused on invoking those highly mangled C++ symbols
from unmanaged C++ libraries. This is rather the inverse of
what we've discussed so far in this thread, but it's
something worth looking at.

Robert

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037844.html">[Mono-dev] Mixed Mode Assemblies
</A></li>
	<LI>Next message: <A HREF="037858.html">[Mono-dev] Mixed Mode Assemblies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37845">[ date ]</a>
              <a href="thread.html#37845">[ thread ]</a>
              <a href="subject.html#37845">[ subject ]</a>
              <a href="author.html#37845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
