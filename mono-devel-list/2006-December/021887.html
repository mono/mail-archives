<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] SQL query encoding problem using mod_mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20SQL%20query%20encoding%20problem%20using%20mod_mono&In-Reply-To=4582E05D.8050308%40free.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021886.html">
   <LINK REL="Next"  HREF="021914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] SQL query encoding problem using mod_mono</H1>
    <B>Marek Habersack</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20SQL%20query%20encoding%20problem%20using%20mod_mono&In-Reply-To=4582E05D.8050308%40free.fr"
       TITLE="[Mono-dev] SQL query encoding problem using mod_mono">grendello at gmail.com
       </A><BR>
    <I>Thu Dec 21 09:37:01 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021886.html">[Mono-dev] SQL query encoding problem using mod_mono
</A></li>
        <LI>Next message: <A HREF="021914.html">[Mono-dev] SQL query encoding problem using mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21887">[ date ]</a>
              <a href="thread.html#21887">[ thread ]</a>
              <a href="subject.html#21887">[ subject ]</a>
              <a href="author.html#21887">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 15 Dec 2006 18:50:21 +0100, Ronan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bernabe.ronan at free.fr</A>&gt;
scribbled:

&gt;<i> Hi,
</I>Ronan,

&gt;<i> Inserting and extracting special characters from a MySQL database
</I>&gt;<i> works fine with console application or web application using XSP.
</I>&gt;<i> But web application using mod_mono don't insert or extract correctly 
</I>&gt;<i> special characters as accents (special characters are stored as '?').
</I>&gt;<i> Is there a solution for mod_mono working with MySQL ?
</I>[snip]
I suppose your problem might have to do with your language environment.
XSP and mod_mono use the default encoding provided by the mono runtime
(i.e. the value of Encoding.Default) to send strings to the client. If
your apache/xsp environment doesn't contain the LANG variable, or its
value is set to C, then you will get the effect you described above.
So, the short-term solution to your problem would be to set the LANG
variable to, e.g. en_US.UTF-8 in which case the default encoding would
be UTF8 (then you need to make sure that the strings in your source
files and in the database are UTF8, of course). Also, when compiling
your application, make sure the -codepage:utf8 option is present on the
mcs commandline.
Hope that helps a bit,

regards,

marek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20061221/dfff24b5/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20061221/dfff24b5/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021886.html">[Mono-dev] SQL query encoding problem using mod_mono
</A></li>
	<LI>Next message: <A HREF="021914.html">[Mono-dev] SQL query encoding problem using mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21887">[ date ]</a>
              <a href="thread.html#21887">[ thread ]</a>
              <a href="subject.html#21887">[ subject ]</a>
              <a href="author.html#21887">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
