<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] ASP.NET MySql connection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20ASP.NET%20MySql%20connection&In-Reply-To=5b34f58f0612180248v257f6110y6e63a9be2087084e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021841.html">
   <LINK REL="Next"  HREF="021800.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] ASP.NET MySql connection</H1>
    <B>Daniel Morgan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20ASP.NET%20MySql%20connection&In-Reply-To=5b34f58f0612180248v257f6110y6e63a9be2087084e%40mail.gmail.com"
       TITLE="[Mono-dev] ASP.NET MySql connection">monodanmorg at yahoo.com
       </A><BR>
    <I>Mon Dec 18 12:28:47 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021841.html">[Mono-dev] ASP.NET MySql connection
</A></li>
        <LI>Next message: <A HREF="021800.html">[Mono-dev] Incorrect cultured SatelliteAssembly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21806">[ date ]</a>
              <a href="thread.html#21806">[ thread ]</a>
              <a href="subject.html#21806">[ subject ]</a>
              <a href="author.html#21806">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You are using the wrong classes.

System.Data.SqlClient is for Microsoft SQL Server
clients.

MySql.Data is for MySQL clients.

--- Dariusz Linowski &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">darlin1 at linbit.pl</A>&gt; wrote:

&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I've tried use the mono ASP.NET and meet some
</I>&gt;<i> problem with connection
</I>&gt;<i> to mysql database. I created ASP.NET application
</I>&gt;<i> used VWD tool and try
</I>&gt;<i> to run in environment :
</I>&gt;<i> mono-core-1.2.2.1, XSP2 (xsp-1.2.1-0), and MySql
</I>&gt;<i> Connector NET 1.0.8.
</I>&gt;<i> I received error:
</I>&gt;<i> 
</I>&gt;<i> Description: Error processing request.
</I>&gt;<i> Error Message: HTTP 500.
</I>&gt;<i> Stack Trace:
</I>&gt;<i> System.Data.SqlClient.SqlException: Server does not
</I>&gt;<i> exist or
</I>&gt;<i> connection refused. ---&gt;
</I>&gt;<i> Mono.Data.Tds.Protocol.TdsInternalException:
</I>&gt;<i> Server does not exist or connection refused. ---&gt;
</I>&gt;<i> System.Net.Sockets.SocketException: Connection
</I>&gt;<i> refused
</I>&gt;<i> 
</I>&gt;<i>   at System.Net.Sockets.Socket.Connect
</I>&gt;<i> (System.Net.EndPoint
</I>&gt;<i> remote_end) [0x00000]
</I>&gt;<i> 
</I>&gt;<i>   at Mono.Data.Tds.Protocol.TdsComm..ctor
</I>&gt;<i> (System.String dataSource,
</I>&gt;<i> Int32 port, Int32 packetSize, Int32 timeout,
</I>&gt;<i> TdsVersion tdsVersion)
</I>&gt;<i> [0x00000] --- End of inner exception stack trace ---
</I>&gt;<i> 
</I>&gt;<i>   at Mono.Data.Tds.Protocol.TdsComm..ctor
</I>&gt;<i> (System.String dataSource,
</I>&gt;<i> Int32 port, Int32 packetSize, Int32 timeout,
</I>&gt;<i> TdsVersion tdsVersion)
</I>&gt;<i> [0x00000]
</I>&gt;<i> 
</I>&gt;<i>   at Mono.Data.Tds.Protocol.Tds..ctor (System.String
</I>&gt;<i> dataSource, Int32
</I>&gt;<i> port, Int32 packetSize, Int32 timeout, TdsVersion
</I>&gt;<i> tdsVersion)
</I>&gt;<i> [0x00000]
</I>&gt;<i> 
</I>&gt;<i>   at Mono.Data.Tds.Protocol.Tds70..ctor
</I>&gt;<i> (System.String server, Int32
</I>&gt;<i> port, Int32 packetSize, Int32 timeout) [0x00000]
</I>&gt;<i> 
</I>&gt;<i>   at (wrapper remoting-invoke-with-check)
</I>&gt;<i> Mono.Data.Tds.Protocol.Tds70:.ctor
</I>&gt;<i> (string,int,int,int)
</I>&gt;<i> 
</I>&gt;<i>   at System.Data.SqlClient.SqlConnection.Open ()
</I>&gt;<i> [0x00000] --- End of
</I>&gt;<i> inner exception stack trace ---
</I>&gt;<i> 
</I>&gt;<i>   at System.Data.SqlClient.SqlConnection.Open ()
</I>&gt;<i> [0x00000]
</I>&gt;<i> 
</I>&gt;<i>   at System.Data.Common.DbDataAdapter.Fill
</I>&gt;<i> (System.Data.DataSet
</I>&gt;<i> dataSet, Int32 startRecord, Int32 maxRecords,
</I>&gt;<i> System.String srcTable,
</I>&gt;<i> IDbCommand command, CommandBehavior behavior)
</I>&gt;<i> [0x00000]
</I>&gt;<i> 
</I>&gt;<i>   at System.Data.Common.DbDataAdapter.Fill
</I>&gt;<i> (System.Data.DataSet
</I>&gt;<i> dataSet, System.String srcTable) [0x00000]
</I>&gt;<i> 
</I>&gt;<i>   at (wrapper remoting-invoke-with-check)
</I>&gt;<i> System.Data.Common.DbDataAdapter:Fill
</I>&gt;<i> (System.Data.DataSet,string)
</I>&gt;<i> 
</I>&gt;<i>   at
</I>&gt;<i>
</I>System.Web.UI.WebControls.SqlDataSourceView.ExecuteSelect
&gt;<i> (System.Web.UI.DataSourceSelectArguments arguments)
</I>&gt;<i> [0x00000]
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I copied given MySql.Data.dll to the aplication
</I>&gt;<i> directory and
</I>&gt;<i> registered to  to gac using:
</I>&gt;<i> gacutil -i Mysql.Data.dll  and see this assemless in
</I>&gt;<i> /mono /gac
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Additionall information.
</I>&gt;<i> I tried to use other C# CLI aplication to check the
</I>&gt;<i> connection, and
</I>&gt;<i> noticed that application was working only based on
</I>&gt;<i> old Conector NET
</I>&gt;<i> driver Version=1.0.7.30073.
</I>&gt;<i> 
</I>&gt;<i> I checked  connection to mysql via sqlsharp
</I>&gt;<i> application and received error
</I>&gt;<i> too:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> SQL# \loadextprovider
</I>&gt;<i>
</I>MySql.Data,Version=1.0.8.0,Culture=neutral,PublicKeyToken=C5687FC88969C44D
&gt;<i> MySql.Data.MySqlCliet.MySqlConnection
</I>&gt;<i> 
</I>&gt;<i> SQL# \ConnectionString
</I>&gt;<i> Server=XXXX.XXXX.XXXX;Database=eriskcdrdb;User
</I>&gt;<i> ID=YYYY;Password=VVVVV;Pooling=false
</I>&gt;<i> 
</I>&gt;<i> SQL# \Open
</I>&gt;<i> Opening connection...
</I>&gt;<i> Loading external provider...
</I>&gt;<i> Error: unable to load the assembly of the provider:
</I>&gt;<i>
</I>MySql.Data,Version=1.0.8.0,Culture=neutral,PublicKeyToken=C5687FC88969C44D
&gt;<i> : Argument cannot be null.
</I>&gt;<i> Parameter name: type
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> sqlsharp connection was working only when is based
</I>&gt;<i> on:
</I>&gt;<i> 
</I>&gt;<i> Assembly: MySql.Data, Version=1.0.7.30073,
</I>&gt;<i> Culture=neutral,
</I>&gt;<i> PublicKeyToken=8e323390df8d9ed4
</I>&gt;<i>   Connection Class:
</I>&gt;<i> MySql.Data.MySqlClient.MySqlConnection
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> What is wrong?  I'm new in mono and maybe there is
</I>&gt;<i> my misunderstanding
</I>&gt;<i> or misconfiguration?   Could someone give me some
</I>&gt;<i> advice ?
</I>&gt;<i> 
</I>&gt;<i> Below you can find ASP.NET application files:
</I>&gt;<i> Default.aspx  and web.config
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -------- ----------------------------------------
</I>&gt;<i> Default.aspx
</I>&gt;<i> ------------------------------------------
</I>&gt;<i>      ---------------
</I>&gt;<i> 
</I>&gt;<i> &lt;/head&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;body&gt;
</I>&gt;<i> 
</I>&gt;<i>     &lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i>     &lt;div&gt;
</I>&gt;<i> 
</I>&gt;<i>         &lt;asp:Label ID=&quot;Label1&quot; runat=&quot;server&quot;
</I>&gt;<i> Text=&quot;Label&quot;&gt;&lt;/asp:Label&gt;
</I>&gt;<i> 
</I>&gt;<i>         &lt;asp:GridView ID=&quot;GridView1&quot; runat=&quot;server&quot;
</I>&gt;<i> AutoGenerateColumns=&quot;False&quot;
</I>&gt;<i> BackColor=&quot;LightGoldenrodYellow&quot;
</I>&gt;<i> 
</I>&gt;<i>             BorderColor=&quot;Tan&quot; BorderWidth=&quot;1px&quot;
</I>&gt;<i> CellPadding=&quot;2&quot;
</I>&gt;<i> DataSourceID=&quot;SqlDataAster&quot;
</I>&gt;<i> 
</I>&gt;<i>             ForeColor=&quot;Black&quot; GridLines=&quot;None&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i>             &lt;FooterStyle BackColor=&quot;Tan&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i>             &lt;Columns&gt;
</I>&gt;<i> 
</I>&gt;<i>                 &lt;asp:BoundField DataField=&quot;calldate&quot;
</I>&gt;<i> HeaderText=&quot;calldate&quot; SortExpression=&quot;calldate&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i>                 &lt;asp:BoundField DataField=&quot;clid&quot;
</I>&gt;<i> HeaderText=&quot;clid&quot;
</I>&gt;<i> SortExpression=&quot;clid&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i>                 &lt;asp:BoundField DataField=&quot;src&quot;
</I>&gt;<i> HeaderText=&quot;src&quot;
</I>&gt;<i> SortExpression=&quot;src&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i>                 &lt;asp:BoundField DataField=&quot;dst&quot;
</I>&gt;<i> HeaderText=&quot;dst&quot;
</I>&gt;<i> SortExpression=&quot;dst&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i>                 &lt;asp:BoundField DataField=&quot;dcontext&quot;
</I>&gt;<i> HeaderText=&quot;dcontext&quot; SortExpression=&quot;dcontext&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i>                 &lt;asp:BoundField DataField=&quot;channel&quot;
</I>&gt;<i> HeaderText=&quot;channel&quot; SortExpression=&quot;channel&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i>                 &lt;asp:BoundField
</I>&gt;<i> DataField=&quot;dstchannel&quot;
</I>&gt;<i> HeaderText=&quot;dstchannel&quot; SortExpression=&quot;dstchannel&quot;
</I>&gt;<i> /&gt;
</I>&gt;<i> 
</I>&gt;<i>                 &lt;asp:BoundField DataField=&quot;lastapp&quot;
</I>&gt;<i> HeaderText=&quot;lastapp&quot; SortExpression=&quot;lastapp&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i>                 &lt;asp:BoundField DataField=&quot;lastdata&quot;
</I>&gt;<i> HeaderText=&quot;lastdata&quot; SortExpression=&quot;lastdata&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i>                 &lt;asp:BoundField DataField=&quot;duration&quot;
</I>&gt;<i> HeaderText=&quot;duration&quot; SortExpression=&quot;duration&quot; /&gt;
</I>&gt;<i> 
</I>=== message truncated ===&gt;
_______________________________________________
&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i>
</I><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
&gt;<i> 
</I>

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021841.html">[Mono-dev] ASP.NET MySql connection
</A></li>
	<LI>Next message: <A HREF="021800.html">[Mono-dev] Incorrect cultured SatelliteAssembly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21806">[ date ]</a>
              <a href="thread.html#21806">[ thread ]</a>
              <a href="subject.html#21806">[ subject ]</a>
              <a href="author.html#21806">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
