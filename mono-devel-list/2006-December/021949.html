<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Form.Closing event for non modal dialog
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Form.Closing%20event%20for%20non%20modal%20dialog&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021974.html">
   <LINK REL="Next"  HREF="021951.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Form.Closing event for non modal dialog</H1>
    <B>Dominik Seichter</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Form.Closing%20event%20for%20non%20modal%20dialog&In-Reply-To="
       TITLE="[Mono-dev] [PATCH] Form.Closing event for non modal dialog">domseichter at web.de
       </A><BR>
    <I>Fri Dec 29 12:31:43 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021974.html">[Mono-dev] ASP.NET Forms Authentication
</A></li>
        <LI>Next message: <A HREF="021951.html">[Mono-dev] Embedding problem - Unable to label tree
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21949">[ date ]</a>
              <a href="thread.html#21949">[ thread ]</a>
              <a href="subject.html#21949">[ subject ]</a>
              <a href="author.html#21949">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

The latest mono svn trunk and previous releases of mono do not handle the 
Form.Closing event correctly. 

If a CancelEventHandler for the event is set, it is fired correctly. But if 
the CancelEventHandler sets the Cancel property on the CancelEventArg to 
true, the form is still closing. 

The Cancel property in the CancelEventHandler for the Form.Closing event in 
mono is ignored. 

The bug is fixed by the attached patch against the latest SVN trunk. The patch 
has to be applied to the file Form.cs in the directory 
mcs/class/Managed.Windows.Forms/System.Windows.Forms .

After applying the patch the behaviour is correct and the same as when using 
the Microsoft .NET CLR. 

Could someone with commit permission please put the patch into svn?

Thanks in adcance and best regards,
	Dom
-- 
**********************************************************************
Dominik Seichter - <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">domseichter at web.de</A>
KRename  - <A HREF="http://www.krename.net">http://www.krename.net</A>  - Powerful batch renamer for KDE
KBarcode - <A HREF="http://www.kbarcode.net">http://www.kbarcode.net</A> - Barcode and label printing
PoDoFo - <A HREF="http://podofo.sf.net">http://podofo.sf.net</A> - PDF generation and parsing library
SchafKopf - <A HREF="http://schafkopf.berlios.de">http://schafkopf.berlios.de</A> - Schafkopf, a card game,  for KDE
Alan - <A HREF="http://alan.sf.net">http://alan.sf.net</A> - A Turing Machine in Java
**********************************************************************
-------------- next part --------------
A non-text attachment was scrubbed...
Name: form_close_cancel_event.diff
Type: text/x-diff
Size: 404 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20061229/e60c5951/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20061229/e60c5951/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021974.html">[Mono-dev] ASP.NET Forms Authentication
</A></li>
	<LI>Next message: <A HREF="021951.html">[Mono-dev] Embedding problem - Unable to label tree
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21949">[ date ]</a>
              <a href="thread.html#21949">[ thread ]</a>
              <a href="subject.html#21949">[ subject ]</a>
              <a href="author.html#21949">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
