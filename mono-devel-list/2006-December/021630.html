<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Fixes for System.Net.Mail
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Fixes%20for%20System.Net.Mail&In-Reply-To=20061204182437.GC16688%40debian.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021629.html">
   <LINK REL="Next"  HREF="021656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Fixes for System.Net.Mail</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Fixes%20for%20System.Net.Mail&In-Reply-To=20061204182437.GC16688%40debian.org"
       TITLE="[Mono-dev] Fixes for System.Net.Mail">miguel at ximian.com
       </A><BR>
    <I>Mon Dec  4 13:45:05 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021629.html">[Mono-dev] Fixes for System.Net.Mail
</A></li>
        <LI>Next message: <A HREF="021656.html">[Mono-dev] Fixes for System.Net.Mail
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21630">[ date ]</a>
              <a href="thread.html#21630">[ thread ]</a>
              <a href="subject.html#21630">[ subject ]</a>
              <a href="author.html#21630">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> Question: is the SWF good enough to be put into System.dll and be
</I>&gt;<i> invoked from System.Web, SWF and for this mail class?
</I>
If we are going down the path of mapping file names to mime types, we
should instead use a switch statement that will consume no memory for
the large majority of applications, something similar to what tokenizers
do:

	char c = filename_extension [0];

	switch (c){
		case 'm':
			if (filename_extension == &quot;mp3&quot;)
				return ...;


&gt;<i> Or should we add an icall so we implement this stuff using the operating
</I>&gt;<i> system API or a C implementation? What is quite clear to me is that we
</I>&gt;<i> should not use an hashtable with all the entries which is kept in memory
</I>&gt;<i> all the time.
</I>
This is highly operating system *and* desktop specific, and it is
usually a slow process.

We would need to determine if we want a mime-type based on the filename,
or a mime-type based on the actual contents of the file.   The latter is
more correct, but has some undesirable effects like touching the file
system (which could in some cases take forever, or block the
application, for example over /afs and other file systems) and also
might slow down applications a lot.

If we are going for mime-type-based-on-filename-only, then I would use a
switch statement instead of the Hashtable.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021629.html">[Mono-dev] Fixes for System.Net.Mail
</A></li>
	<LI>Next message: <A HREF="021656.html">[Mono-dev] Fixes for System.Net.Mail
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21630">[ date ]</a>
              <a href="thread.html#21630">[ thread ]</a>
              <a href="subject.html#21630">[ subject ]</a>
              <a href="author.html#21630">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
