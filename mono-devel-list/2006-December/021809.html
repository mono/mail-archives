<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] PKCS12 and SecretBags
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20PKCS12%20and%20SecretBags&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021827.html">
   <LINK REL="Next"  HREF="021811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] PKCS12 and SecretBags</H1>
    <B>Jay Miller</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20PKCS12%20and%20SecretBags&In-Reply-To="
       TITLE="[Mono-dev] PKCS12 and SecretBags">jnmiller at cryptofreak.org
       </A><BR>
    <I>Mon Dec 18 18:09:21 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021827.html">[Mono-dev] Patch for Application.Restart ()
</A></li>
        <LI>Next message: <A HREF="021811.html">[Mono-dev] PKCS12 and SecretBags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21809">[ date ]</a>
              <a href="thread.html#21809">[ thread ]</a>
              <a href="subject.html#21809">[ subject ]</a>
              <a href="author.html#21809">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm looking to make use of the SecretBag type in a PKCS12 file.  Mono
does not currently support SecretBags in any explicit sense, which is to
say that users cannot access them using the PKCS12 class.  This makes
some sense because SecretBags aren't really defined in the standard.

Nonetheless, I would like to make use of both the PKCS12 class *and*
SecretBags.  I was hoping I could run a couple of solutions by the
developers and perhaps submit a patch if one sounds good.

Solution 1)

Arbitrarily decide that SecretBags will be of type byte[].  Add
functions that mirror existing ones: AddSecretBag(), GetSecretBags(),
RemoveSecretBag(), etc.  Add a member _secretBags that stores the
current SecretBags.

Solution 2)

Make the _safeBags member accessible outside the class to allow the user
low-level access to the various bags stored by the instance.  This way a
user could write her own GetXxx() class for SecretBags, CRLs, or
whatever, simply by traversing the _safeBags list.

Solution 3)

Make PKCS12 more friendly as a base class such that users can derive
PKCS12 and implement their own understandings of SecretBags, CRLs, or
whatever else.  Private members will need to be made protected, maybe
add a few 'virtual' keywords..

Hopefully one of these solutions (or another that I hadn't considered?)
will sound reasonable, as I really don't want to maintain an entire
PKCS12 class just to add SecretBags!

Thanks very much for your time and comments!

-- 
Jay Miller
PGP Fingerprint | 5f7adbbe bfc60727 96dca94c 616d5080 09e3e846

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021827.html">[Mono-dev] Patch for Application.Restart ()
</A></li>
	<LI>Next message: <A HREF="021811.html">[Mono-dev] PKCS12 and SecretBags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21809">[ date ]</a>
              <a href="thread.html#21809">[ thread ]</a>
              <a href="subject.html#21809">[ subject ]</a>
              <a href="author.html#21809">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
