<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Connection to a sybase ASA database
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Connection%20to%20a%20sybase%20ASA%20database&In-Reply-To=200612111150.32311.mbd%40dbc.dk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021709.html">
   <LINK REL="Next"  HREF="021725.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Connection to a sybase ASA database</H1>
    <B>Daniel Morgan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Connection%20to%20a%20sybase%20ASA%20database&In-Reply-To=200612111150.32311.mbd%40dbc.dk"
       TITLE="[Mono-dev] Connection to a sybase ASA database">monodanmorg at yahoo.com
       </A><BR>
    <I>Mon Dec 11 12:48:50 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021709.html">[Mono-dev] Connection to a sybase ASA database
</A></li>
        <LI>Next message: <A HREF="021725.html">[Mono-dev] Connection to a sybase ASA database
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21720">[ date ]</a>
              <a href="thread.html#21720">[ thread ]</a>
              <a href="subject.html#21720">[ subject ]</a>
              <a href="author.html#21720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ah.  I missed that part in your email earlier. 

Currently, ASA (Sybase SQL Anywhere) does not work. 
Perhaps it is with unicode or lack of unicode encoding
or language or character set.  Maybe the TDS protocol
is different and something needs to be set.  Not sure
what TDS protocol version sybase asa uses.  I would
visit the freetds or jtds projects to see.

I did a search on google, and this came up.

<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/2006-June/018712.html">http://lists.ximian.com/pipermail/mono-devel-list/2006-June/018712.html</A>

Care to add a bug in bugzilla please?

<A HREF="http://bugzilla.ximian.com/">http://bugzilla.ximian.com/</A>


--- Mads Bondo Dydensborg &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mbd at dbc.dk</A>&gt; wrote:

&gt;<i> mandag 11 december 2006 11:16 skrev Nagappan:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;     I'm having only ASE (Sybase Adaptive Server
</I>&gt;<i> Enterprise) v12.5.
</I>&gt;<i> 
</I>&gt;<i> OK, thanks.
</I>&gt;<i> 
</I>&gt;<i> As I was trying to indicate in the subject, my issue
</I>&gt;<i> is with a ASA server.
</I>&gt;<i> 
</I>&gt;<i> I believe it is still widely used as an embedded
</I>&gt;<i> database - at least it is for 
</I>&gt;<i> us ;-)
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Mads
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks
</I>&gt;<i> &gt; Nagappan
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Mads Bondo Dydensborg wrote:
</I>&gt;<i> &gt; &gt; mandag 11 december 2006 10:17 skrev Nagappan:
</I>&gt;<i> &gt; &gt;   
</I>&gt;<i> &gt; &gt;&gt; Hi,
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; I tried with SqlSharp and connected to Sybase
</I>&gt;<i> server
</I>&gt;<i> &gt; &gt;&gt;     
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Thanks a lot for your help.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Could you perhaps let me know which version the
</I>&gt;<i> Sybase server was/is?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Mads
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;   
</I>&gt;<i> &gt; &gt;&gt; SQL# \Provider Tds
</I>&gt;<i> &gt; &gt;&gt; The default Provider is LOADEXTPROVIDER
</I>&gt;<i> &gt; &gt;&gt; Assembly: Mono.Data.TdsClient,
</I>&gt;<i> Version=1.0.5000.0, Culture=neutral,
</I>&gt;<i> &gt; &gt;&gt; PublicKeyToken=0738eb9f132ed756
</I>&gt;<i> &gt; &gt;&gt; Connection Class:
</I>&gt;<i> Mono.Data.TdsClient.TdsConnection
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; SQL# \ConnectionString
</I>&gt;<i> Server=mono-server,5000;Database=monotest;User
</I>&gt;<i> &gt; &gt;&gt; ID=monotester;Password=monotester
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; SQL# \open
</I>&gt;<i> &gt; &gt;&gt; Opening connection...
</I>&gt;<i> &gt; &gt;&gt; Loading external provider...
</I>&gt;<i> &gt; &gt;&gt; External provider loaded.
</I>&gt;<i> &gt; &gt;&gt; Open was successfull.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; SQL# \ConnectionString
</I>&gt;<i> Server=mono-server,5000;Database=monotest;User
</I>&gt;<i> &gt; &gt;&gt; ID=monotester;Password=monotester
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; SQL# \Provider Sybase
</I>&gt;<i> &gt; &gt;&gt; The default Provider is LOADEXTPROVIDER
</I>&gt;<i> &gt; &gt;&gt; Assembly: Mono.Data.SybaseClient,
</I>&gt;<i> Version=1.0.5000.0, Culture=neutral,
</I>&gt;<i> &gt; &gt;&gt; PublicKeyToken=0738eb9f132ed756
</I>&gt;<i> &gt; &gt;&gt; Connection Class:
</I>&gt;<i> Mono.Data.SybaseClient.SybaseConnection
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; SQL# \Open
</I>&gt;<i> &gt; &gt;&gt; Opening connection...
</I>&gt;<i> &gt; &gt;&gt; Loading external provider...
</I>&gt;<i> &gt; &gt;&gt; External provider loaded.
</I>&gt;<i> &gt; &gt;&gt; Open was successfull.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Thanks
</I>&gt;<i> &gt; &gt;&gt; Nagappan
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Mads Bondo Dydensborg wrote:
</I>&gt;<i> &gt; &gt;&gt;     
</I>&gt;<i> &gt; &gt;&gt;&gt; mandag 11 december 2006 07:48 skrev Mads Bondo
</I>&gt;<i> Dydensborg:
</I>&gt;<i> &gt; &gt;&gt;&gt;   
</I>&gt;<i> &gt; &gt;&gt;&gt;       
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt; fredag 08 december 2006 17:44 skrev Daniel
</I>&gt;<i> Morgan:
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;     
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;         
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;&gt; No one is maintaining the
</I>&gt;<i> Mono.Data.TdsClient.
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;&gt; Mono.Data.SybaseClient might be better. 
</I>&gt;<i> Both of these
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;&gt; including System.Data.SqlClient use
</I>&gt;<i> Mono.Data.Tds
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;&gt; which implements the TDS protocol.
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;&gt;       
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;&gt;           
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt; OK - I will try those instead.
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;     
</I>&gt;<i> &gt; &gt;&gt;&gt;&gt;         
</I>&gt;<i> &gt; &gt;&gt;&gt; I have now tried the sqlsharp program instead,
</I>&gt;<i> which uses the 
</I>&gt;<i> SybaseClient 
</I>&gt;<i> &gt; &gt;&gt;&gt; implementation.
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Here is a dump:
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; SQL# \defaults
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; The default Provider is LOADEXTPROVIDER
</I>&gt;<i> &gt; &gt;&gt;&gt;   Assembly: Mono.Data.SybaseClient,
</I>&gt;<i> Version=1.0.5000.0, Culture=neutral, 
</I>&gt;<i> &gt; &gt;&gt;&gt; PublicKeyToken=0738eb9f132ed756
</I>&gt;<i> &gt; &gt;&gt;&gt;   Connection Class:
</I>&gt;<i> Mono.Data.SybaseClient.SybaseConnection
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; The default ConnectionString is:
</I>&gt;<i> &gt; &gt;&gt;&gt;    
</I>&gt;<i> &quot;Server=localhost,2638;Database=asademo;User
</I>&gt;<i> ID=DBA;Password=SQL&quot;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; SQL# \open
</I>&gt;<i> &gt; &gt;&gt;&gt; Opening connection...
</I>&gt;<i> &gt; &gt;&gt;&gt; Loading external provider...
</I>&gt;<i> &gt; &gt;&gt;&gt; External provider loaded.
</I>&gt;<i> &gt; &gt;&gt;&gt; Exception Caught Opening. ASA Error -83:
</I>&gt;<i> Specified database not found
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; -------
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Now, here is what my sybase database says:
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; TCP/IP: Received connection request from
</I>&gt;<i> 127.0.0.1:37335.
</I>&gt;<i> &gt; &gt;&gt;&gt; Connection from 127.0.0.1:37335 assigned
</I>&gt;<i> connection ID 2
</I>&gt;<i> &gt; &gt;&gt;&gt; TDS 2: connection created
</I>&gt;<i> &gt; &gt;&gt;&gt; TDS 2: login
</I>&gt;<i> &gt; &gt;&gt;&gt; TDS 2: using TDS version 5.0.0.0
</I>&gt;<i> &gt; &gt;&gt;&gt; TDS 2: login: user 'DBA', database '',
</I>&gt;<i> application 'Mono SybaseClient 
</I>&gt;<i> Data 
</I>&gt;<i> &gt; &gt;&gt;&gt; Provide', host 'localhost.localdomain',
</I>&gt;<i> host_pid '37876', 
</I>&gt;<i> charset 'iso_1'
</I>&gt;<i> &gt; &gt;&gt;&gt; TDS 2: request complete
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; As you can see, the sybase database reckons
</I>&gt;<i> that no database name is 
</I>&gt;<i> &gt; &gt;&gt;&gt;       
</I>&gt;<i> &gt; &gt; passed.
</I>&gt;<i> &gt; &gt;   
</I>&gt;<i> &gt; &gt;&gt;&gt; I have seen this described earlier, but no
</I>&gt;<i> resolution.
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Running SybaseTest gives very much the same
</I>&gt;<i> results.
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; I tried tracking the code in mono, and it does
</I>&gt;<i> appear that the database 
</I>&gt;<i> &gt; &gt;&gt;&gt;       
</I>&gt;<i> &gt; &gt; name 
</I>&gt;<i> &gt; &gt;   
</I>&gt;<i> &gt; &gt;&gt;&gt; gets lost in there in my case. It should
</I>&gt;<i> reside in &quot;ITds&quot;.parms which is 
</I>&gt;<i> a 
</I>&gt;<i> &gt; &gt;&gt;&gt; TDSConnectionParameters, but if I try dumping
</I>&gt;<i> it, after calling open 
</I>&gt;<i> &gt; &gt;&gt;&gt;       
</I>&gt;<i> &gt; &gt; (which 
</I>&gt;<i> &gt; &gt;   
</I>&gt;<i> &gt; &gt;&gt;&gt; fails), no database is set. However, I find
</I>&gt;<i> tracking the code to the Tds 
</I>&gt;<i> &gt; &gt;&gt;&gt; system a bit complex, so I can not at this
</I>&gt;<i> point figure out why that 
</I>&gt;<i> would 
</I>&gt;<i> &gt; &gt;&gt;&gt;       
</I>&gt;<i> &gt; &gt; be 
</I>&gt;<i> &gt; &gt;   
</I>&gt;<i> &gt; &gt;&gt;&gt; the case.
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Any advice much appreciated.
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Regards,
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Mads
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;   
</I>&gt;<i> &gt; &gt;&gt;&gt;       
</I>&gt;<i> &gt; &gt;&gt; -- 
</I>&gt;<i> &gt; &gt;&gt; Nagappan A &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">anagappan at novell.com</A>&gt;
</I>&gt;<i> &gt; &gt;&gt; Novell Software Development (I) Pvt. Ltd.
</I>&gt;<i> &gt; &gt;&gt; Linux Desktop Testing Project -
</I>&gt;<i> <A HREF="http://ldtp.freedesktop.org">http://ldtp.freedesktop.org</A>
</I>&gt;<i> &gt; &gt;&gt; <A HREF="http://nagappanal.blogspot.com/">http://nagappanal.blogspot.com/</A>
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Novell, Inc.
</I>&gt;<i> 
</I>=== message truncated ===



 
____________________________________________________________________________________
Need a quick answer? Get one in minutes from people who know.
Ask your question on www.Answers.yahoo.com

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021709.html">[Mono-dev] Connection to a sybase ASA database
</A></li>
	<LI>Next message: <A HREF="021725.html">[Mono-dev] Connection to a sybase ASA database
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21720">[ date ]</a>
              <a href="thread.html#21720">[ thread ]</a>
              <a href="subject.html#21720">[ subject ]</a>
              <a href="author.html#21720">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
