<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Connection to a sybase ASA database
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Connection%20to%20a%20sybase%20ASA%20database&In-Reply-To=200612110748.32882.mbd%40dbc.dk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021702.html">
   <LINK REL="Next"  HREF="021705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Connection to a sybase ASA database</H1>
    <B>Mads Bondo Dydensborg</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Connection%20to%20a%20sybase%20ASA%20database&In-Reply-To=200612110748.32882.mbd%40dbc.dk"
       TITLE="[Mono-dev] Connection to a sybase ASA database">mbd at dbc.dk
       </A><BR>
    <I>Mon Dec 11 02:23:15 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="021702.html">[Mono-dev] Connection to a sybase ASA database
</A></li>
        <LI>Next message: <A HREF="021705.html">[Mono-dev] Connection to a sybase ASA database
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21703">[ date ]</a>
              <a href="thread.html#21703">[ thread ]</a>
              <a href="subject.html#21703">[ subject ]</a>
              <a href="author.html#21703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>mandag 11 december 2006 07:48 skrev Mads Bondo Dydensborg:
&gt;<i> fredag 08 december 2006 17:44 skrev Daniel Morgan:
</I>&gt;<i> &gt; No one is maintaining the Mono.Data.TdsClient.
</I>&gt;<i> &gt; Mono.Data.SybaseClient might be better.  Both of these
</I>&gt;<i> &gt; including System.Data.SqlClient use Mono.Data.Tds
</I>&gt;<i> &gt; which implements the TDS protocol.
</I>&gt;<i> 
</I>&gt;<i> OK - I will try those instead.
</I>
I have now tried the sqlsharp program instead, which uses the SybaseClient 
implementation.

Here is a dump:

SQL# \defaults

The default Provider is LOADEXTPROVIDER
  Assembly: Mono.Data.SybaseClient, Version=1.0.5000.0, Culture=neutral, 
PublicKeyToken=0738eb9f132ed756
  Connection Class: Mono.Data.SybaseClient.SybaseConnection

The default ConnectionString is:
    &quot;Server=localhost,2638;Database=asademo;User ID=DBA;Password=SQL&quot;


SQL# \open
Opening connection...
Loading external provider...
External provider loaded.
Exception Caught Opening. ASA Error -83: Specified database not found

-------

Now, here is what my sybase database says:

TCP/IP: Received connection request from 127.0.0.1:37335.
Connection from 127.0.0.1:37335 assigned connection ID 2
TDS 2: connection created
TDS 2: login
TDS 2: using TDS version 5.0.0.0
TDS 2: login: user 'DBA', database '', application 'Mono SybaseClient Data 
Provide', host 'localhost.localdomain', host_pid '37876', charset 'iso_1'
TDS 2: request complete

As you can see, the sybase database reckons that no database name is passed.

I have seen this described earlier, but no resolution.

Running SybaseTest gives very much the same results.

I tried tracking the code in mono, and it does appear that the database name 
gets lost in there in my case. It should reside in &quot;ITds&quot;.parms which is a 
TDSConnectionParameters, but if I try dumping it, after calling open (which 
fails), no database is set. However, I find tracking the code to the Tds 
system a bit complex, so I can not at this point figure out why that would be 
the case.

Any advice much appreciated.

Regards,

Mads

-- 
Med venlig hilsen/Regards

Systemudvikler/Systemsdeveloper cand.scient.dat, Ph.d., Mads Bondo Dydensborg
Dansk BiblioteksCenter A/S, Tempovej 7-11, 2750 Ballerup, Tlf. +45 44 86 77 34


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021702.html">[Mono-dev] Connection to a sybase ASA database
</A></li>
	<LI>Next message: <A HREF="021705.html">[Mono-dev] Connection to a sybase ASA database
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21703">[ date ]</a>
              <a href="thread.html#21703">[ thread ]</a>
              <a href="subject.html#21703">[ subject ]</a>
              <a href="author.html#21703">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
