<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] New managed code for unmanaged (Win32)	resource handling (SRE, PEAPI, MCS)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20New%20managed%20code%20for%20unmanaged%20%28Win32%29%0A%09resource%20handling%20%28SRE%2C%20PEAPI%2C%20MCS%29&In-Reply-To=002e01c63ed9%24fbcd5100%240100a8c0%40kornelpal.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017480.html">
   <LINK REL="Next"  HREF="017497.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] New managed code for unmanaged (Win32)	resource handling (SRE, PEAPI, MCS)</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20New%20managed%20code%20for%20unmanaged%20%28Win32%29%0A%09resource%20handling%20%28SRE%2C%20PEAPI%2C%20MCS%29&In-Reply-To=002e01c63ed9%24fbcd5100%240100a8c0%40kornelpal.hu"
       TITLE="[Mono-dev] [PATCH] New managed code for unmanaged (Win32)	resource handling (SRE, PEAPI, MCS)">vargaz at gmail.com
       </A><BR>
    <I>Wed Mar  8 18:17:24 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017480.html">[Mono-dev] [PATCH] New managed code for	unmanaged(Win32)resourcehandling (SRE, PEAPI, MCS)
</A></li>
        <LI>Next message: <A HREF="017497.html">[Mono-dev] [PATCH] New managed code for unmanaged (Win32)	resource handling (SRE, PEAPI, MCS)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17478">[ date ]</a>
              <a href="thread.html#17478">[ thread ]</a>
              <a href="subject.html#17478">[ subject ]</a>
              <a href="author.html#17478">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>                                     Hey,

  The runtime and ref.emit parts of the patch looks ok to me, assuming they are
tested and they work. Currently, we don't have any tests for unmanaged
resources since they are pretty hard to test automatically and under unix.

                                       Zoltan

On 3/3/06, Korn&#233;l P&#225;l &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kornelpal at hotmail.com</A>&gt; wrote:
&gt;<i> Hi!
</I>&gt;<i>
</I>&gt;<i> This patch adds a fully managed and object oriented unmanaged (Win32)
</I>&gt;<i> resource handling internal infractructure to the class library. The most
</I>&gt;<i> important change is that it implements the /resource command line option of
</I>&gt;<i> ilasm in PEAPI.
</I>&gt;<i>
</I>&gt;<i> I revorked DefineUnmanagedResource and DefineVersionInfoResource methods to
</I>&gt;<i> be fully MS.NET compatible. Including resource blob support.
</I>&gt;<i>
</I>&gt;<i> In addition I replaced the previous unamaged implementation with the same
</I>&gt;<i> unmanaged code that is used in PEAPI. This has the following advantages:
</I>&gt;<i> - Named resource identifiers are supported
</I>&gt;<i> - Very large .res files are supported because resources are not retained in
</I>&gt;<i> memory
</I>&gt;<i> - Has exactly the same behavior as MS cvtres.exe that is used by the MS
</I>&gt;<i> runtime and csc.exe as well including the some tests and exceptions thrown
</I>&gt;<i> by the wrapper code of MS runtime.
</I>&gt;<i>
</I>&gt;<i> I removed the internal DefineIconResource method and moved it's
</I>&gt;<i> functionality to mcs compiler that now uses DefineUnmanagedResource.
</I>&gt;<i>
</I>&gt;<i> DefineVersionInfoResource and mcs no generate two differend and MS.NET
</I>&gt;<i> compatible version info resource files.
</I>&gt;<i>
</I>&gt;<i> For the details please have a look at the code.
</I>&gt;<i>
</I>&gt;<i> I treat these three modified units as a single because they show the usage
</I>&gt;<i> of my work as well.
</I>&gt;<i>
</I>&gt;<i> Note that there will be no Win32 icon support in al, bmcs and gmcs until
</I>&gt;<i> modifications done in mcs will be ported. Also note that the mcs patch can
</I>&gt;<i> be used in gmcs without modifications.
</I>&gt;<i>
</I>&gt;<i> Please review and approve the patch.
</I>&gt;<i>
</I>&gt;<i> Korn&#233;l
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017480.html">[Mono-dev] [PATCH] New managed code for	unmanaged(Win32)resourcehandling (SRE, PEAPI, MCS)
</A></li>
	<LI>Next message: <A HREF="017497.html">[Mono-dev] [PATCH] New managed code for unmanaged (Win32)	resource handling (SRE, PEAPI, MCS)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17478">[ date ]</a>
              <a href="thread.html#17478">[ thread ]</a>
              <a href="subject.html#17478">[ subject ]</a>
              <a href="author.html#17478">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
