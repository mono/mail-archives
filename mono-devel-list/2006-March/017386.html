<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Embedded Mono webservice problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Embedded%20Mono%20webservice%20problem&In-Reply-To=340e8e120601200003t44a1fcfau%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017394.html">
   <LINK REL="Next"  HREF="017408.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Embedded Mono webservice problem</H1>
    <B>Janne Rantala</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Embedded%20Mono%20webservice%20problem&In-Reply-To=340e8e120601200003t44a1fcfau%40mail.gmail.com"
       TITLE="[Mono-dev] Embedded Mono webservice problem">janne.rantala at gmail.com
       </A><BR>
    <I>Thu Mar  2 09:30:01 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017394.html">[Mono-dev] Re: GC startup time on windows (in DllMain)
</A></li>
        <LI>Next message: <A HREF="017408.html">[Mono-dev] Only works on MySql 4.1!?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17386">[ date ]</a>
              <a href="thread.html#17386">[ thread ]</a>
              <a href="subject.html#17386">[ subject ]</a>
              <a href="author.html#17386">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It seems that there has been some development regarding this problem, can
any one tell me what this &quot;exePath must be specified when not running inside
a stand alone exe.&quot; means and where that path must be specified?


Unhandled Exception: System.TypeInitializationException: An exception was
thrown
 by the type initializer for System.Xml.Serialization.XmlSerializer ---&gt;
System.
ArgumentException: exePath must be specified when not running inside a stand
alo
ne exe.
in &lt;0x00253&gt;
System.Configuration.ConfigurationManager:OpenExeConfigurationInter
nal (ConfigurationUserLevel userLevel, System.Reflection.Assemblycalling_assemb
ly, System.String exePath)
in &lt;0x0003b&gt;
System.Configuration.ClientConfigurationSystem:System.Configuration
.Internal.IInternalConfigSystem.GetSection (System.String configKey)
in &lt;0x0001f&gt; System.Configuration.ConfigurationManager:GetSection (
System.String
 sectionName)
in &lt;0x0001f&gt; System.Configuration.DefaultConfig:GetConfig (System.Stringsection
Name)
in &lt;0x00017&gt; System.Configuration.ConfigurationSettings:GetConfig (
System.String
 sectionName)
in &lt;0x001cd&gt; System.Xml.Serialization.XmlSerializer:.cctor ()--- End of
inner ex
ception stack trace ---

:<i>janne
</I>
2006/1/20, Janne Rantala &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">janne.rantala at gmail.com</A>&gt;:
&gt;<i>
</I>&gt;<i> I had to try with another ws client to see if the problem was with my
</I>&gt;<i> client, and I got different error this time. The service I tried to access
</I>&gt;<i> was net.xmethods.www.CurrencyExchangeService. But like with the other
</I>&gt;<i> client, all I did was create the service stub class.
</I>&gt;<i>
</I>&gt;<i> I guess I'll have to fill in that bug report.
</I>&gt;<i>
</I>&gt;<i> :janne
</I>&gt;<i>
</I>&gt;<i> =================================================================
</I>&gt;<i> Got a SIGSEGV while executing native code. This usually indicates
</I>&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;<i> used by your application.
</I>&gt;<i> =================================================================
</I>&gt;<i>
</I>&gt;<i> Stacktrace:
</I>&gt;<i>
</I>&gt;<i> in &lt;0xffffffff&gt;
</I>&gt;<i> System.Web.Services.Protocols.LogicalMethodInfo:IsBeginMethod (S
</I>&gt;<i> ystem.Reflection.MethodInfo )
</I>&gt;<i> in &lt;0x19&gt; System.Web.Services.Protocols.LogicalMethodInfo:IsBeginMethod(System.
</I>&gt;<i> Reflection.MethodInfo)
</I>&gt;<i> in &lt;0x13b&gt; System.Web.Services.Protocols.LogicalMethodInfo:Create (
</I>&gt;<i> System.Reflec
</I>&gt;<i> tion.MethodInfo [],System.Web.Services.Protocols.LogicalMethodTypes)
</I>&gt;<i> in &lt;0x2ec&gt; System.Web.Services.Protocols.LogicalTypeInfo:.ctor (
</I>&gt;<i> System.Type)
</I>&gt;<i> in &lt;0x7e&gt; System.Web.Services.Protocols.TypeStubManager:GetLogicalTypeInfo(Syst
</I>&gt;<i> em.Type)
</I>&gt;<i> in &lt;0xd&gt; System.Web.Services.Protocols.TypeStubManager:GetTypeStub (
</I>&gt;<i> System.Type,
</I>&gt;<i> string)
</I>&gt;<i> in &lt;0x23&gt; System.Web.Services.Protocols.SoapHttpClientProtocol:.ctor ()
</I>&gt;<i> in &lt;0x13&gt; AssemblyTest.net.xmethods.www.CurrencyExchangeService:.ctor ()
</I>&gt;<i> in &lt;0xfffdfdf8&gt; (wrapper remoting-invoke-with-check)
</I>&gt;<i> AssemblyTest.net.xmethods.w
</I>&gt;<i> ww.CurrencyExchangeService:.ctor ()
</I>&gt;<i> in &lt;0x70&gt; Embed.MyType:.ctor ()
</I>&gt;<i> in &lt;0xff3679c0&gt; (wrapper runtime-invoke) System.Object:runtime_invoke_void(obje
</I>&gt;<i> ct,intptr,intptr,intptr)
</I>&gt;<i>
</I>&gt;<i> 2006/1/19, Robert Jordan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">robertj at gmx.net</A>&gt;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Janne,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Indeed, the exception looks slightly different if machine.config cannot
</I>&gt;<i> &gt; be found:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; '.ctor()' invocation failed with:
</I>&gt;<i> &gt; System.Reflection.TargetInvocationException: Exception has been thrown
</I>&gt;<i> &gt; by the target of an invocation. ---&gt;
</I>&gt;<i> &gt; System.Configuration.ConfigurationException: Cannot find
</I>&gt;<i> &gt; c:\Programme\Mono-1.1.13\xetc\mono\1.0\machine.config ()
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; in &lt;0x000bb&gt; System.Configuration.DefaultConfig:Init ()
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; in &lt;0x0000d&gt; System.Configuration.DefaultConfig:GetConfig (System.String
</I>&gt;<i> &gt; sectionName)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; in &lt;0x0001a&gt; System.Configuration.ConfigurationSettings:GetConfig
</I>&gt;<i> &gt; (System.String sectionName)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; in &lt;0x00059&gt; System.Web.Services.Configuration.WSConfig:get_Instance ()
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; in &lt;0x00047&gt;
</I>&gt;<i> &gt; System.Web.Services.Protocols.SoapExtension:InitializeGlobalExtensions()
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Please fill a bug report at <A HREF="http://mono-project.com/Bugs">http://mono-project.com/Bugs</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Robert
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I have initialized paths, both lib and etc dirs are pointing to same
</I>&gt;<i> &gt; &gt; directory, d:\monosetdirstest. My directory structure in that folder
</I>&gt;<i> &gt; is
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; monosetdirstest
</I>&gt;<i> &gt; &gt; --etc
</I>&gt;<i> &gt; &gt;   --mono
</I>&gt;<i> &gt; &gt;      --1.0
</I>&gt;<i> &gt; &gt;      --2.0
</I>&gt;<i> &gt; &gt; --mono
</I>&gt;<i> &gt; &gt;   --1.0
</I>&gt;<i> &gt; &gt;   --2.0
</I>&gt;<i> &gt; &gt;   --gac
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I've tried setting etc dir to d:\monosetdirstest\etc but it doesn't
</I>&gt;<i> &gt; help
</I>&gt;<i> &gt; &gt; either. Mono does find assemblies and gac with current setting though.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; :janne
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 2006/1/19, Robert Jordan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">robertj at gmx.net</A>&gt;:
</I>&gt;<i> &gt; &gt;&gt; Janne Rantala wrote:
</I>&gt;<i> &gt; &gt;&gt;&gt; Hi,
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; I'm having problems accessing webservice assembly from embedded
</I>&gt;<i> &gt; mono.
</I>&gt;<i> &gt; &gt;&gt; Only
</I>&gt;<i> &gt; &gt;&gt;&gt; thing that the assembly does is create the service stub class, it
</I>&gt;<i> &gt; &gt;&gt; doesn't
</I>&gt;<i> &gt; &gt;&gt;&gt; even call the service method. Here's the error message I get:
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Unhandled Exception: System.Reflection.TargetInvocationException:
</I>&gt;<i> &gt; &gt;&gt; Exception
</I>&gt;<i> &gt; &gt;&gt;&gt; has
</I>&gt;<i> &gt; &gt;&gt;&gt; been thrown by the target of an invocation. ---&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; System.NullReferenceException:
</I>&gt;<i> &gt; &gt;&gt;&gt; Object reference not set to an instance of an object
</I>&gt;<i> &gt; &gt;&gt;&gt; in &lt;0x0004c&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; System.Web.Services.Protocols.SoapExtension:InitializeGlobalExtensi
</I>&gt;<i> &gt; &gt;&gt;&gt; ons ()
</I>&gt;<i> &gt; &gt;&gt; It seems like you didn't initialize the runtime's paths. Try to call
</I>&gt;<i> &gt; &gt;&gt; mono_set_dirs (libdir, etcdir) somewhere before mono_jit_init.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; libdir: the path to mono's lib directory, i.e. /usr/local/lib
</I>&gt;<i> &gt; &gt;&gt; etcdir: the path to mono's etc directory, i.e. /usr/local/etc
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Robert
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; _______________________________________________
</I>&gt;<i> &gt; &gt;&gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; ------------------------------------------------------------------------
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060302/45277c78/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060302/45277c78/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017394.html">[Mono-dev] Re: GC startup time on windows (in DllMain)
</A></li>
	<LI>Next message: <A HREF="017408.html">[Mono-dev] Only works on MySql 4.1!?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17386">[ date ]</a>
              <a href="thread.html#17386">[ thread ]</a>
              <a href="subject.html#17386">[ subject ]</a>
              <a href="author.html#17386">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
