<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH]: Fix build on sparc*-*-linux*
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%3A%20Fix%20build%20on%20sparc%2A-%2A-linux%2A&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017755.html">
   <LINK REL="Next"  HREF="017757.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH]: Fix build on sparc*-*-linux*</H1>
    <B>David S. Miller</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%3A%20Fix%20build%20on%20sparc%2A-%2A-linux%2A&In-Reply-To="
       TITLE="[Mono-dev] [PATCH]: Fix build on sparc*-*-linux*">davem at davemloft.net
       </A><BR>
    <I>Fri Mar 24 18:23:11 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017755.html">[Mono-dev] Patch to support non-rectangular regions in libgdiplus
</A></li>
        <LI>Next message: <A HREF="017757.html">[Mono-dev] [PATCH]: Implement Sparc exceptions correctly under Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17756">[ date ]</a>
              <a href="thread.html#17756">[ thread ]</a>
              <a href="subject.html#17756">[ subject ]</a>
              <a href="author.html#17756">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
The following patch gets the mono build going on sparc*-*-linux*
platforms.  This is against mono-1.1.13.4

It seems that there is some kind of Linux wide dependency in
the mono tree itself for THREAD_LOCAL_ALLOC.  That is what
makes the following necessary.  Probably, this configure.in
conditional should include all Linux systems, or the dependency
should be dealt with in some other manner for Linux systems
not in this long list.

2006-03-24  David S. Miller  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">davem at sunset.davemloft.net</A>&gt;

	* configure.in: Use THREAD_LOCAL_ALLOC on sparc*-*-linux*.

--- libgc/configure.in.~1~	2005-08-25 06:48:41.000000000 -0700
+++ libgc/configure.in	2006-03-23 00:50:09.000000000 -0800
@@ -76,7 +76,7 @@
     THREADS=posix
     THREADLIBS=-lpthread
     case &quot;$host&quot; in
-     x86-*-linux* | ia64-*-linux* | i386-*-linux* | i486-*-linux* | i586-*-linux* | i686-*-linux* | x86_64-*-linux* | alpha-*-linux* | s390*-*-linux* | powerpc-*-linux*)
+     x86-*-linux* | ia64-*-linux* | i386-*-linux* | i486-*-linux* | i586-*-linux* | i686-*-linux* | x86_64-*-linux* | alpha-*-linux* | s390*-*-linux* | sparc*-*-linux* | powerpc-*-linux*)
 	AC_DEFINE(GC_LINUX_THREADS)
 	AC_DEFINE(_REENTRANT)
         if test &quot;${enable_parallel_mark}&quot; = yes; then

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017755.html">[Mono-dev] Patch to support non-rectangular regions in libgdiplus
</A></li>
	<LI>Next message: <A HREF="017757.html">[Mono-dev] [PATCH]: Implement Sparc exceptions correctly under Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17756">[ date ]</a>
              <a href="thread.html#17756">[ thread ]</a>
              <a href="subject.html#17756">[ subject ]</a>
              <a href="author.html#17756">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
