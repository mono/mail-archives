<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Re: Problem: command line works, calling from C doesn't
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20Problem%3A%20command%20line%20works%2C%20calling%20from%20C%20doesn%27t&In-Reply-To=05e501c642a3%247927ed00%240ff4010a%40brahms">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017481.html">
   <LINK REL="Next"  HREF="017472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Re: Problem: command line works, calling from C doesn't</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20Problem%3A%20command%20line%20works%2C%20calling%20from%20C%20doesn%27t&In-Reply-To=05e501c642a3%247927ed00%240ff4010a%40brahms"
       TITLE="[Mono-dev] Re: Problem: command line works, calling from C doesn't">robertj at gmx.net
       </A><BR>
    <I>Thu Mar  9 07:43:03 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017481.html">[Mono-dev] Problem: command line works, calling from C doesn't
</A></li>
        <LI>Next message: <A HREF="017472.html">[Mono-dev] Handling SQLITE_BUSY throush option in SqliteConnection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17484">[ date ]</a>
              <a href="thread.html#17484">[ thread ]</a>
              <a href="subject.html#17484">[ subject ]</a>
              <a href="author.html#17484">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

Jean Carrive wrote:
&gt;<i>  
</I>&gt;<i>     Hello,
</I>&gt;<i>  
</I>&gt;<i> I have some C# code doing various things (dotnet remoting, in particular).
</I>&gt;<i> This code works fine if it is in a &quot;.exe&quot; file and if it is called with the
</I>&gt;<i> &quot;mono&quot; command. On the other hand, it does'nt work if it is in a &quot;.dll&quot; file
</I>&gt;<i> and if it is called from a &quot;C&quot; program with &quot;Mono Embedding&quot; facilities. I
</I>
Please define &quot;does not work&quot;, preferably with a stack trace and/or
error message and the mono version.

If the error message reads approximately &quot;cannot load mscorlib&quot;, then
your C app doesn't call mono_set_dirs (). Try this:

mono_set_dirs (&quot;/usr/lib&quot;, &quot;/usr/etc&quot;);

This assumes that mono's installation prefix is &quot;/usr&quot;.

&gt;<i> wonder if this could be because I have several versions of mono on my
</I>&gt;<i> machine. For, I have two directories &quot;/usr/lib/mono/1.0&quot; and
</I>&gt;<i> &quot;/usr/lib/mono/2.0&quot;. When I make a symbolic link from 1.0 to 2.0 in order to
</I>&gt;<i> call what I suppose are the &quot;good&quot; libraries, it solves some problems but
</I>&gt;<i> not all of them ?
</I>
/usr/lib/mono/2.0 contains the assemblies of the 2.0 profile. This
is not just another mono version. It belongs to the same installation.

If you really have several monos on your machine, then make sure
that the correct paths are passed to mono_set_dirs ().

Robert


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017481.html">[Mono-dev] Problem: command line works, calling from C doesn't
</A></li>
	<LI>Next message: <A HREF="017472.html">[Mono-dev] Handling SQLITE_BUSY throush option in SqliteConnection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17484">[ date ]</a>
              <a href="thread.html#17484">[ thread ]</a>
              <a href="subject.html#17484">[ subject ]</a>
              <a href="author.html#17484">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
