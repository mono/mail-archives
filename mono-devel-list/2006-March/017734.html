<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] AppSettings, embedding C
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20AppSettings%2C%20embedding%20C&In-Reply-To=20060323145436-3c98fdca-c72b-4c2b-b277-de7d214f9443%40software602.cz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017732.html">
   <LINK REL="Next"  HREF="017735.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] AppSettings, embedding C</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20AppSettings%2C%20embedding%20C&In-Reply-To=20060323145436-3c98fdca-c72b-4c2b-b277-de7d214f9443%40software602.cz"
       TITLE="[Mono-dev] AppSettings, embedding C">lupus at ximian.com
       </A><BR>
    <I>Thu Mar 23 10:28:18 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017732.html">[Mono-dev] embedding C,	AppDomain.CurrentDomain.SetupInformation.ApplicationBase
</A></li>
        <LI>Next message: <A HREF="017735.html">[Mono-dev] mint
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17734">[ date ]</a>
              <a href="thread.html#17734">[ thread ]</a>
              <a href="subject.html#17734">[ subject ]</a>
              <a href="author.html#17734">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03/23/06 <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vavra at software602.cz</A> wrote:
&gt;<i>  I would like to get the same functionality like when I create pure C#
</I>&gt;<i> executable eg. hello.exe. I create hello.exe.config and while starting
</I>&gt;<i> hello.exe
</I>&gt;<i> $ mono hello.exe
</I>&gt;<i> 
</I>&gt;<i> mono parses the hello.exe.cofig and itself fill out AppSettings fields.
</I>
No, it doesn't. The class libs do that, so you can call the method in
the class libs that do.

&gt;<i> So I would like to say libmono that it should load config like mono
</I>&gt;<i> runtime also does. Mono runtime must have such function, so it shouldn't
</I>&gt;<i> be a problem to publish for embedding API.
</I>
The mono runtime and libmono are the same thing.

On 03/23/06 <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vavra at software602.cz</A> wrote:
&gt;<i> a)C executable calls c# dll:
</I>&gt;<i> method = mono_class_get_method_from_name(&quot;getAppBase()&quot;, ..)
</I>&gt;<i> mono_runtime_invoke(method,...);
</I>&gt;<i> 
</I>&gt;<i> b) In C# DLL I access AppDomain.CurrentDomain.SetupInformation.ApplicationBase:
</I>&gt;<i> public static string getAppBase() {
</I>&gt;<i>     return ...ApolicationBase;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> Problem: returned value is NULL.
</I>&gt;<i> 
</I>&gt;<i> When I call from C a C# EXE using mono_jit_exec(...)
</I>&gt;<i> it probably initializates C# assembly and ..ApplicationBase is correct.
</I>&gt;<i> 
</I>&gt;<i> Is there any function in embedding api, which would initilizates an dll assembly?
</I>
There is no API to do that, you must use mono_jit_exec () or
mono_runtime_run_main (), the latter allows you to exec any suitable
method in your assembly (not necessarily the entry point).

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017732.html">[Mono-dev] embedding C,	AppDomain.CurrentDomain.SetupInformation.ApplicationBase
</A></li>
	<LI>Next message: <A HREF="017735.html">[Mono-dev] mint
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17734">[ date ]</a>
              <a href="thread.html#17734">[ thread ]</a>
              <a href="subject.html#17734">[ subject ]</a>
              <a href="author.html#17734">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
