<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [Patch] Some bugs in xbuild and DirectorySeparator.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPatch%5D%20Some%20bugs%20in%20xbuild%20and%20DirectorySeparator.&In-Reply-To=1142056614.2649.14.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017537.html">
   <LINK REL="Next"  HREF="017646.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [Patch] Some bugs in xbuild and DirectorySeparator.</H1>
    <B>Marek Sieradzki</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPatch%5D%20Some%20bugs%20in%20xbuild%20and%20DirectorySeparator.&In-Reply-To=1142056614.2649.14.camel%40localhost.localdomain"
       TITLE="[Mono-dev] [Patch] Some bugs in xbuild and DirectorySeparator.">marek.sieradzki at gmail.com
       </A><BR>
    <I>Sat Mar 11 05:47:24 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017537.html">[Mono-dev] [Patch] Some bugs in xbuild and DirectorySeparator.
</A></li>
        <LI>Next message: <A HREF="017646.html">[Mono-dev] [Patch] New patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17538">[ date ]</a>
              <a href="thread.html#17538">[ thread ]</a>
              <a href="subject.html#17538">[ subject ]</a>
              <a href="author.html#17538">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dnia 11-03-2006, sob o godzinie 07:56 +0200, Crestez Leonard napisa&#322;(a):
&gt;<i> I fixed some bugs in xbuild.
</I>&gt;<i> 
</I>&gt;<i> First, there's no reason for BuildItem.GetMetadata to always fail when
</I>&gt;<i> the file doesn't exist, msbuild doesn't do that. Stuff that only relies
</I>&gt;<i> on the path should work.
</I>&gt;<i> 
</I>&gt;<i> I also modified DirectoryScanner a lot. It used to reorder multiple
</I>&gt;<i> includes and fail on duplicates. msbuild doesn't do either.
</I>
I didn't know that it failed on duplicates and forgot to place FIXME for
reordering (caused by hashtable).
&gt;<i> 
</I>&gt;<i> The patch is from a svn diff in the root mcs dir.
</I>&gt;<i> 
</I>&gt;<i> Right now xbuild won't work with msbuild projects because of path
</I>&gt;<i> separator problems. A patch to make xbuild take both / and \ as path
</I>&gt;<i> separators should be easy to write, but it's ugly. On the other hand
</I>&gt;<i> current behaviour makes xbuild useless. Will you accept the patch if I
</I>&gt;<i> write it?
</I>
Yes. I wondered what should I do about strings like &quot;a\b&quot;. Should I
search for '\' and replace with '/' or make switch to xbuild.exe or what
else.

BTW there are way more reasons why xbuild won't run VS2005 project
files.
&gt;<i> 
</I>&gt;<i> Also, I noticed that in mono both Path.DirectorySeparatorChar and
</I>&gt;<i> Path.AltDirectorySeparatorChar are /, while msdn says on unix they
</I>&gt;<i> should be / and \. I know monodoc says they're both /, but why?
</I>&gt;<i> 
</I>

I'm really excited of that someone tried to fix this mess. Also it would
be great not to duplicate work. I'm synchronizing my local changes with
SVN today.

Could you send the patch?

-- 
Marek Sieradzki &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">marek.sieradzki at gmail.com</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017537.html">[Mono-dev] [Patch] Some bugs in xbuild and DirectorySeparator.
</A></li>
	<LI>Next message: <A HREF="017646.html">[Mono-dev] [Patch] New patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17538">[ date ]</a>
              <a href="thread.html#17538">[ thread ]</a>
              <a href="subject.html#17538">[ subject ]</a>
              <a href="author.html#17538">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
