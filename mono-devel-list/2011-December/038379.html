<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Post-mortem debugging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Post-mortem%20debugging&In-Reply-To=CAJR-0p__M3ObtwpUxpqdNp-bCNVAWz2d4COwCmQmTbcVgWcyEA%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038378.html">
   <LINK REL="Next"  HREF="038380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Post-mortem debugging</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Post-mortem%20debugging&In-Reply-To=CAJR-0p__M3ObtwpUxpqdNp-bCNVAWz2d4COwCmQmTbcVgWcyEA%40mail.gmail.com"
       TITLE="[Mono-dev] Post-mortem debugging">vargaz at gmail.com
       </A><BR>
    <I>Tue Dec 27 17:44:38 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="038378.html">[Mono-dev] Post-mortem debugging
</A></li>
        <LI>Next message: <A HREF="038380.html">[Mono-dev] How to convert CIL code to LLVM IR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38379">[ date ]</a>
              <a href="thread.html#38379">[ thread ]</a>
              <a href="subject.html#38379">[ subject ]</a>
              <a href="author.html#38379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

  Also, if the problem is reproducible, then you can run mono with the
MONO_DEBUG=suspend-on-sigsegv environment variable set, which will force
the runtime  to spin in the sigsegv signal handler, allowing you to attach
to it with gdb.

                 Zoltan

On Tue, Dec 27, 2011 at 11:43 PM, Zoltan Varga &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vargaz at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i>   It won't work. The information required to construct managed stack
</I>&gt;<i> traces is contained in runtime data structures, and it is only available
</I>&gt;<i> while the program is running. You can
</I>&gt;<i> AOT your application, then you will have more usable stack traces.
</I>&gt;<i>
</I>&gt;<i>                 Zoltan
</I>&gt;<i>
</I>&gt;<i> On Tue, Dec 27, 2011 at 10:54 PM, Bassam Tabbara &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bassam at symform.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hello,****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ** **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I&#8217;m debugging a core file with gdb and I&#8217;m not able to find mono managed
</I>&gt;&gt;<i> symbols:****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ** **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (gdb) where****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #0  0x00007f93c9096ed5 in raise () from /lib/libc.so.6****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #1  0x00007f93c90983f3 in abort () from /lib/libc.so.6****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #2  0x00000000004933d0 in mono_handle_native_sigsegv (signal=-907561328,
</I>&gt;&gt;<i> ctx=&lt;value optimized out&gt;) at mini-exceptions.c:2246****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #3  0x00000000004e6c9d in mono_arch_handle_altstack_exception
</I>&gt;&gt;<i> (sigctx=0x7f93c9e7bc40, fault_addr=&lt;value optimized out&gt;, stack_ovf=0) at
</I>&gt;&gt;<i> exceptions-amd64.c:957****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #4  0x00000000004176e4 in mono_sigsegv_signal_handler (_dummy=11,
</I>&gt;&gt;<i> info=0x7f93c9e7bd70, context=0x7f93c9e7bc40) at mini.c:5882****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #5  &lt;signal handler called&gt;****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #6  0x00007f93c9d18cc0 in ?? ()****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #7  0x00000000413fb199 in ?? ()****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #8  0x0000000000000025 in ?? ()****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #9  0x00007f93c9cb6a90 in ?? ()****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #10 0x00007f93c3cff150 in ?? ()****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #11 0x0000000000000000 in ?? ()****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ** **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (gdb) p mono_pmip(0x00007f93c9d18cc0)****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You can't do that without a process to debug.****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ** **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I looked at <A HREF="http://www.mono-project.com/Debugging">http://www.mono-project.com/Debugging</A> and I can&#8217;t tell if
</I>&gt;&gt;<i> this is supposed to work on core dumps or not. How do you guys do it?
</I>&gt;&gt;<i> What&#8217;s your secret?****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ** **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks!****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Bassam****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20111227/257a841f/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20111227/257a841f/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038378.html">[Mono-dev] Post-mortem debugging
</A></li>
	<LI>Next message: <A HREF="038380.html">[Mono-dev] How to convert CIL code to LLVM IR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38379">[ date ]</a>
              <a href="thread.html#38379">[ thread ]</a>
              <a href="subject.html#38379">[ subject ]</a>
              <a href="author.html#38379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
