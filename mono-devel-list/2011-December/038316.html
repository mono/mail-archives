<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] P/Invoking libsmbclient from OSX
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20P/Invoking%20libsmbclient%20from%20OSX&In-Reply-To=jblujg%24elp%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038315.html">
   <LINK REL="Next"  HREF="038317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] P/Invoking libsmbclient from OSX</H1>
    <B>Konrad M. Kruczy&#324;ski</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20P/Invoking%20libsmbclient%20from%20OSX&In-Reply-To=jblujg%24elp%241%40dough.gmane.org"
       TITLE="[Mono-dev] P/Invoking libsmbclient from OSX">konrad.kruczynski at gmail.com
       </A><BR>
    <I>Tue Dec  6 16:01:23 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="038315.html">[Mono-dev] P/Invoking libsmbclient from OSX
</A></li>
        <LI>Next message: <A HREF="038317.html">[Mono-dev] P/Invoking libsmbclient from OSX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38316">[ date ]</a>
              <a href="thread.html#38316">[ thread ]</a>
              <a href="subject.html#38316">[ subject ]</a>
              <a href="author.html#38316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Tue, 2011-12-06 at 21:40 +0100, Robert Jordan wrote:
&gt;<i> You must pin the delegate passed to smbc_init, either using
</I>&gt;<i> a field or a GCHandle.
</I>
I'd like to add that IMO not pinning but rather prolonging life is
needed here. Pin using GCHandle would cause to pin whole delegate which
would in turn affect memory fragmentation (well, maybe not with boehm
GC, but it shouldn't be a decision-maker here).

P/Invoke requires that when a delegate is marshalled as a function
pointer, immobile pointer is transferred. I think this is implemented in
mono runtimes using set of trampolines.

--
Regards,
 Konrad

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038315.html">[Mono-dev] P/Invoking libsmbclient from OSX
</A></li>
	<LI>Next message: <A HREF="038317.html">[Mono-dev] P/Invoking libsmbclient from OSX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38316">[ date ]</a>
              <a href="thread.html#38316">[ thread ]</a>
              <a href="subject.html#38316">[ subject ]</a>
              <a href="author.html#38316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
