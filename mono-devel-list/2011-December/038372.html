<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] System.Security.Cryptography.X509Certificates	Mono-2.10.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Security.Cryptography.X509Certificates%0A%09Mono-2.10.2&In-Reply-To=1324576442718-4226108.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038371.html">
   <LINK REL="Next"  HREF="038373.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] System.Security.Cryptography.X509Certificates	Mono-2.10.2</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Security.Cryptography.X509Certificates%0A%09Mono-2.10.2&In-Reply-To=1324576442718-4226108.post%40n4.nabble.com"
       TITLE="[Mono-dev] System.Security.Cryptography.X509Certificates	Mono-2.10.2">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Thu Dec 22 14:43:13 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="038371.html">[Mono-dev] System.Security.Cryptography.X509Certificates Mono-2.10.2
</A></li>
        <LI>Next message: <A HREF="038373.html">[Mono-dev] System.Security.Cryptography.X509Certificates	Mono-2.10.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38372">[ date ]</a>
              <a href="thread.html#38372">[ thread ]</a>
              <a href="subject.html#38372">[ subject ]</a>
              <a href="author.html#38372">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Will,

Mono was written for Linux where no such system/user store existed. As such
mono implemented it's own certificate and key storage. The same code is
executed when you run under Windows so you'll need to import what you need
into them (using mono tools).

Sebastien

On Thu, Dec 22, 2011 at 12:54 PM, will.omalley &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">omalley.william at gmail.com</A>&gt;wrote:

&gt;<i> I have posted this in Mono-General as well:
</I>&gt;<i> I'm new here so I wanted to make sure I reached people.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The following code does not work correctly. When running MonoDevelop on
</I>&gt;<i> Windows XP using the Mono-2.10.2 libraries.
</I>&gt;<i> I have several certificates in AuthRoot, CA, My and TrustedPublisher.
</I>&gt;<i> However, no results get printed to the screen for any store and the
</I>&gt;<i> certificate count is always 0
</I>&gt;<i>
</I>&gt;<i> Full Console Program -- Mono-2.10.2
</I>&gt;<i> OS: Microsoft Windows XP 32
</I>&gt;<i> SP: 3
</I>&gt;<i>
</I>&gt;<i> &lt;CODE&gt;
</I>&gt;<i>
</I>&gt;<i> using System;
</I>&gt;<i> using System.Security;
</I>&gt;<i> using System.Security.Cryptography;
</I>&gt;<i> using System.Security.Cryptography.X509Certificates;
</I>&gt;<i>
</I>&gt;<i> namespace MonoConsoleProject
</I>&gt;<i> {
</I>&gt;<i>        class MainClass
</I>&gt;<i>        {
</I>&gt;<i>        private static X509Store certStore;
</I>&gt;<i>
</I>&gt;<i>        public static void Main (string[] args)
</I>&gt;<i>        {
</I>&gt;<i>            certStore = new X509Store(StoreName.AddressBook,
</I>&gt;<i> StoreLocation.CurrentUser);
</I>&gt;<i>            FindCertInStore(certStore, &quot;StoreName.AddressBook,
</I>&gt;<i> StoreLocation.CurrentUser&quot;);
</I>&gt;<i>            //
</I>&gt;<i>            certStore = new X509Store(StoreName.AuthRoot,
</I>&gt;<i> StoreLocation.CurrentUser);
</I>&gt;<i>            FindCertInStore(certStore, &quot;StoreName.AuthRoot,
</I>&gt;<i> StoreLocation.CurrentUser&quot;);
</I>&gt;<i>            //
</I>&gt;<i>            certStore = new X509Store(StoreName.CertificateAuthority,
</I>&gt;<i> StoreLocation.CurrentUser);
</I>&gt;<i>            FindCertInStore(certStore, &quot;StoreName.CertificateAuthority,
</I>&gt;<i> StoreLocation.CurrentUser&quot;);
</I>&gt;<i>            //
</I>&gt;<i>            certStore = new X509Store(StoreName.Disallowed,
</I>&gt;<i> StoreLocation.CurrentUser);
</I>&gt;<i>            FindCertInStore(certStore, &quot;StoreName.Disallowed,
</I>&gt;<i> StoreLocation.CurrentUser&quot;);
</I>&gt;<i>            //
</I>&gt;<i>            certStore = new X509Store(StoreName.My,
</I>&gt;<i> StoreLocation.CurrentUser);
</I>&gt;<i>            FindCertInStore(certStore, &quot;StoreName.My,
</I>&gt;<i> StoreLocation.CurrentUser&quot;);
</I>&gt;<i>            //
</I>&gt;<i>            certStore = new X509Store(StoreName.Root,
</I>&gt;<i> StoreLocation.CurrentUser);
</I>&gt;<i>            FindCertInStore(certStore, &quot;StoreName.Root,
</I>&gt;<i> StoreLocation.CurrentUser&quot;);
</I>&gt;<i>            //
</I>&gt;<i>            certStore = new X509Store(StoreName.TrustedPeople,
</I>&gt;<i> StoreLocation.CurrentUser);
</I>&gt;<i>            FindCertInStore(certStore, &quot;StoreName.TrustedPeople,
</I>&gt;<i> StoreLocation.CurrentUser&quot;);
</I>&gt;<i>            //
</I>&gt;<i>            certStore = new X509Store(StoreName.TrustedPublisher,
</I>&gt;<i> StoreLocation.CurrentUser);
</I>&gt;<i>            FindCertInStore(certStore, &quot;StoreName.TrustedPublisher,
</I>&gt;<i> StoreLocation.CurrentUser&quot;);
</I>&gt;<i>            //
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i>        private static void FindCertInStore(X509Store store, string
</I>&gt;<i> storeName)
</I>&gt;<i>        {
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Console.WriteLine(&quot;-------------------------------------------------------&quot;);
</I>&gt;<i>            Console.WriteLine(&quot;Listing certs in store: &quot; + storeName);
</I>&gt;<i>            Console.WriteLine(&quot;Number of certs in store: &quot; +
</I>&gt;<i> store.Certificates.Count.ToString());
</I>&gt;<i>            store.Open(OpenFlags.ReadOnly);
</I>&gt;<i>            foreach (X509Certificate2 cert in store.Certificates)
</I>&gt;<i>            {
</I>&gt;<i>                string certName = cert.Subject.ToString();
</I>&gt;<i>                Console.WriteLine(&quot;Certificate: &quot; + certName);
</I>&gt;<i>            }
</I>&gt;<i>            store.Close();
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Console.WriteLine(&quot;-------------------------------------------------------&quot;);
</I>&gt;<i>            Console.WriteLine();
</I>&gt;<i>            Console.WriteLine();
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        }
</I>&gt;<i> }
</I>&gt;<i> &lt;/CODE&gt;
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://mono.1490590.n4.nabble.com/System-Security-Cryptography-X509Certificates-Mono-2-10-2-tp4226108p4226108.html">http://mono.1490590.n4.nabble.com/System-Security-Cryptography-X509Certificates-Mono-2-10-2-tp4226108p4226108.html</A>
</I>&gt;<i> Sent from the Mono - Dev mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20111222/0e272f11/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20111222/0e272f11/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038371.html">[Mono-dev] System.Security.Cryptography.X509Certificates Mono-2.10.2
</A></li>
	<LI>Next message: <A HREF="038373.html">[Mono-dev] System.Security.Cryptography.X509Certificates	Mono-2.10.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38372">[ date ]</a>
              <a href="thread.html#38372">[ thread ]</a>
              <a href="subject.html#38372">[ subject ]</a>
              <a href="author.html#38372">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
