<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Dropping privileges in linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Dropping%20privileges%20in%20linux&In-Reply-To=1135400451.7086.593.camel%40linux.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016305.html">
   <LINK REL="Next"  HREF="016310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Dropping privileges in linux</H1>
    <B>Georgi Moskov</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Dropping%20privileges%20in%20linux&In-Reply-To=1135400451.7086.593.camel%40linux.site"
       TITLE="[Mono-dev] Dropping privileges in linux">g.moskov at gmail.com
       </A><BR>
    <I>Sat Dec 24 06:59:00 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="016305.html">[Mono-dev] Dropping privileges in linux
</A></li>
        <LI>Next message: <A HREF="016310.html">[Mono-dev] Dropping privileges in linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16308">[ date ]</a>
              <a href="thread.html#16308">[ thread ]</a>
              <a href="subject.html#16308">[ subject ]</a>
              <a href="author.html#16308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Miguel,

On 12/24/05, Miguel de Icaza &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at ximian.com</A>&gt; wrote:

&gt;<i> We recently discovered that Linux is pretty broken when it comes to
</I>&gt;<i> setuid.
</I>&gt;<i>
</I>&gt;<i> The brokeness does not show up in most programs, but it *might* show up
</I>&gt;<i> with things like Mono.
</I>&gt;<i>
</I>&gt;<i> The problem is that setuid in Linux has no kernel support beyond the
</I>&gt;<i> current thread.  So they had to come up with a hack which essentially
</I>&gt;<i> uses a signal from the invoking thread to all the known threads of the
</I>&gt;<i> application to change their uid.
</I>&gt;<i>
</I>&gt;<i> This works most of the time, but it does not work if any of the threads
</I>&gt;<i> are suspended (for example if the GC has stopped the threads).
</I>
Thanks for your answer, I think that now I understand the problem. I
noticed that in mono the GC is implemented in the libgc library and as
it is written in the readme the libgc implementation can safely work
with threads and can also cope with signals by deferring them.  Can
you please tell me if there is any way to make the setXid() system
calls work with mono (maybe by recompiling mono and/or libgc with
different compile-time options)?

Regards,
Georgi Moskov

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016305.html">[Mono-dev] Dropping privileges in linux
</A></li>
	<LI>Next message: <A HREF="016310.html">[Mono-dev] Dropping privileges in linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16308">[ date ]</a>
              <a href="thread.html#16308">[ thread ]</a>
              <a href="subject.html#16308">[ subject ]</a>
              <a href="author.html#16308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
