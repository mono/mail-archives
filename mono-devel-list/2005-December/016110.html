<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] System.IO.Ports+problem while receiving data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.IO.Ports%2Bproblem%20while%20receiving%20data&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016109.html">
   <LINK REL="Next"  HREF="016112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] System.IO.Ports+problem while receiving data</H1>
    <B>Jurgen Schoeters</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.IO.Ports%2Bproblem%20while%20receiving%20data&In-Reply-To="
       TITLE="[Mono-dev] System.IO.Ports+problem while receiving data">jurgen.schoeters at gmail.com
       </A><BR>
    <I>Thu Dec  8 14:35:40 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="016109.html">[Mono-dev] Executable bit set for text files
</A></li>
        <LI>Next message: <A HREF="016112.html">[Mono-dev] Gendarme/bugfinder merge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16110">[ date ]</a>
              <a href="thread.html#16110">[ thread ]</a>
              <a href="subject.html#16110">[ subject ]</a>
              <a href="author.html#16110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,


I'm using the System.IO.Ports class to receive results from a
testdevice, using the serial interface.

The testdevice is used to test electronic components. The csharp program
I've written sends a code to the device to ask for the testresults and
the device sends me a code back (to let me know a result is comming)
followed by a vector (16 bytes), it does this 300 times.

I discovered a problem while receiving the results, sometimes some
incorrect zero's are added to my result(please see example below).



****Received code(hex): fe

----------Vector nr:7----------

vector:
00000000000000000000000011111101000001010000011000000111000010000000100100001010000010110000110000001101000011100000111100010000

****Received code(hex): fe

----------Vector nr:8----------

vector:
00000000000000000000000011111101000001010000011000000111000010000000100100001010000010110000110000001101000011100000111100010000

****Received code(hex): fe

----------Vector nr:9----------

vector:
00000000000000000000000011111101000001010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

****Received code(hex): 6

****Received code(hex): 7

****Received code(hex): 8

****Received code(hex): 9

****Received code(hex): a

****Received code(hex): b

****Received code(hex): c

****Received code(hex): d

****Received code(hex): e

****Received code(hex): f

****Received code(hex): 10


I've modified the testdevice to send me 300 times the same result(result
in vector 7 and 8).

Vector 9 is an example of the problem, my result isn't correct anymore
because some zero's are added and my real values are shifted up in the
byte stream the bytes whit values 6,7,8,.. are normally a part of the
vector. This problem happens randomly, sometimes the tenth vector is
wrong sometimes the second, sometimes none, ...

I'm sure the vectors are transmitted correct so that isn't the problem.


Does someone know the cause of this problem and how to solve it ?

I've attached my program to this e-mail.


Thanks in advance, Jurgen Schoeters

-------------- next part --------------
A non-text attachment was scrubbed...
Name: serialtest.cs
Type: text/x-csharp
Size: 1629 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20051208/56cad45e/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20051208/56cad45e/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016109.html">[Mono-dev] Executable bit set for text files
</A></li>
	<LI>Next message: <A HREF="016112.html">[Mono-dev] Gendarme/bugfinder merge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16110">[ date ]</a>
              <a href="thread.html#16110">[ thread ]</a>
              <a href="subject.html#16110">[ subject ]</a>
              <a href="author.html#16110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
