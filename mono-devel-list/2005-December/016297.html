<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Validation for &lt;xsl:output&gt; attributes.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Validation%20for%20%3Cxsl%3Aoutput%3E%20attributes.&In-Reply-To=20051223175911.2500B38398%40adicia.telenet-ops.be">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016344.html">
   <LINK REL="Next"  HREF="016298.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Validation for &lt;xsl:output&gt; attributes.</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Validation%20for%20%3Cxsl%3Aoutput%3E%20attributes.&In-Reply-To=20051223175911.2500B38398%40adicia.telenet-ops.be"
       TITLE="[Mono-dev] [PATCH] Validation for &lt;xsl:output&gt; attributes.">atsushi at ximian.com
       </A><BR>
    <I>Fri Dec 23 13:29:02 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="016344.html">[Mono-dev] XsdValidatingReader patch for multiple schema	validation
</A></li>
        <LI>Next message: <A HREF="016298.html">[Mono-dev] [PATCH] Validation for &lt;xsl:output&gt; attributes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16297">[ date ]</a>
              <a href="thread.html#16297">[ thread ]</a>
              <a href="subject.html#16297">[ subject ]</a>
              <a href="author.html#16297">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Atsushi Eno [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">atsushi at ximian.com</A>] 
</I>&gt;<i> &gt; Sent: vrijdag 23 december 2005 18:54
</I>&gt;<i> &gt; To: Gert Driesen
</I>&gt;<i> &gt; Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at ximian.com</A>
</I>&gt;<i> &gt; Subject: RE: [Mono-dev] [PATCH] Validation for &lt;xsl:output&gt; 
</I>&gt;<i> &gt; attributes.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; Comments inline 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; &gt; From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A> 
</I>&gt;<i> &gt; &gt; &gt; [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] On Behalf 
</I>&gt;<i> &gt; &gt; &gt; Of Atsushi Eno
</I>&gt;<i> &gt; &gt; &gt; Sent: dinsdag 20 december 2005 6:26
</I>&gt;<i> &gt; &gt; &gt; To: Gert Driesen
</I>&gt;<i> &gt; &gt; &gt; Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at ximian.com</A>
</I>&gt;<i> &gt; &gt; &gt; Subject: Re: [Mono-dev] [PATCH] Validation for &lt;xsl:output&gt; 
</I>&gt;<i> &gt; &gt; &gt; attributes.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; The attached patch implements validation for &lt;xsl:output&gt; 
</I>&gt;<i> &gt; &gt; &gt; attributes, and
</I>&gt;<i> &gt; &gt; &gt; &gt; adds unit tests.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Thanks!
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; I've also added some unit tests for XsltCompileException 
</I>&gt;<i> &gt; &gt; &gt; and XslException.
</I>&gt;<i> &gt; &gt; &gt; &gt; Some test are marked NotWorking, due to bugs in Mono (for 
</I>&gt;<i> &gt; &gt; &gt; which I'll report
</I>&gt;<i> &gt; &gt; &gt; &gt; bug reports later).
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Some comments:
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 	- You can try Mainsoft XSLT standalone tests. Go to
</I>&gt;<i> &gt; &gt; &gt; 	  Test/System.Xml.Xsl/standalone and run &quot;make run-test&quot;, then
</I>&gt;<i> &gt; &gt; &gt; 	  you can find some regressions.
</I>&gt;<i> &gt; &gt; &gt; 	- Your code that checks attributes is good.
</I>&gt;<i> &gt; &gt; &gt; 	- &quot;indent&quot; in xsl:output is &quot;yes&quot; by default when the output
</I>&gt;<i> &gt; &gt; &gt; 	  method is &quot;html&quot;, unlike when it is &quot;xml&quot; (&quot;no&quot;). That's why
</I>&gt;<i> &gt; &gt; &gt; 	  we have string value instead of boolean in XslOutput class.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I now use an enum for this internally, which allows us to 
</I>&gt;<i> &gt; continue exposing
</I>&gt;<i> &gt; &gt; Intend as a bool.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 	- unindent cases in switches, i.e.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 		switch (foo) {
</I>&gt;<i> &gt; &gt; &gt; 		case bar:
</I>&gt;<i> &gt; &gt; &gt; 			...
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Done.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 	- The reason why you marked [NotWorking] on
</I>&gt;<i> &gt; &gt; &gt; 	  XsltExceptionTests.Constructor2() is because
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 		xsltException = new XsltException ((string) null,cause);
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 		Assert.AreEqual (string.Empty, xsltException.Message);
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 	  &quot;fails&quot;, right? Hmm, It's still okay to keep this test, but
</I>&gt;<i> &gt; &gt; &gt; 	  I don't think it is kind of thing we should fix. Having empty
</I>&gt;<i> &gt; &gt; &gt; 	  message for an exception does not make sense.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 	  I guess, most of the reason in NotWorking are like that. If
</I>&gt;<i> &gt; &gt; &gt; 	  so, you don't have to file bugs for them. Just add some
</I>&gt;<i> &gt; &gt; &gt; 	  comments in the sources.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I've fixes these &quot;bugs&quot;, and all tests now pass.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Lemme say again, &quot;it is not kind of thing we should fix&quot;. After your
</I>&gt;<i> &gt; fix,
</I>&gt;<i> &gt; no one can understand what is going on from the Message property.
</I>&gt;<i> 
</I>&gt;<i> If you actually specify a zero-length or null message, then this not really
</I>&gt;<i> that odd behaviour. No ?
</I>
No. Your test reports like

expected &lt;null&gt;
but actually &lt;&quot;XSLT compile error ...&quot;&gt;

that is, it expects not to explain that it is XSLT compile error, but
not to tell
anything. Why on earth it could be better?

BTW it should not be the reason you could change code in advance without
further discussion. Don't mess svn history by doing things like that.

Atsushi Eno



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016344.html">[Mono-dev] XsdValidatingReader patch for multiple schema	validation
</A></li>
	<LI>Next message: <A HREF="016298.html">[Mono-dev] [PATCH] Validation for &lt;xsl:output&gt; attributes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16297">[ date ]</a>
              <a href="thread.html#16297">[ thread ]</a>
              <a href="subject.html#16297">[ subject ]</a>
              <a href="author.html#16297">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
