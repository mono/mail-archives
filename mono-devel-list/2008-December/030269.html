<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] FW: RealTimeSignal patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20FW%3A%20RealTimeSignal%20patch&In-Reply-To=1229537120.13336.43.camel%40lina.magi.jprl.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030239.html">
   <LINK REL="Next"  HREF="030273.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] FW: RealTimeSignal patch</H1>
    <B>tim.jenks at realtimeworlds.com</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20FW%3A%20RealTimeSignal%20patch&In-Reply-To=1229537120.13336.43.camel%40lina.magi.jprl.com"
       TITLE="[Mono-dev] FW: RealTimeSignal patch">tim.jenks at realtimeworlds.com
       </A><BR>
    <I>Fri Dec 19 05:34:53 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030239.html">[Mono-dev] FW: RealTimeSignal patch
</A></li>
        <LI>Next message: <A HREF="030273.html">[Mono-dev] FW: RealTimeSignal patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30269">[ date ]</a>
              <a href="thread.html#30269">[ thread ]</a>
              <a href="subject.html#30269">[ subject ]</a>
              <a href="author.html#30269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Further updates to patch based on comments.

&gt;<i> 1. Formatting.  There are still numerous cases where there isn't a
</I>&gt;<i> space
</I>&gt;<i> before the opening parenthesis.
</I>
My bad here, I was not familiar with the Mono Coding Guidelines, and I had misunderstood your previous comments re: spacing before parenthesis. This should now be fixed up.

&gt;<i> 3. mono/support/map.h needs to be updated to provide prototypes for the
</I>&gt;<i> new functions in mono/support/signal.c.  Installing mono-tools (to get
</I>&gt;<i> create-native-map) and running `make refresh` from mono/support will
</I>&gt;<i> update mono/support/map.h for you.
</I>&gt;<i> 
</I>&gt;<i> BTW, do you have commit access to svn?  If not, I can handle (3) for
</I>&gt;<i> you
</I>&gt;<i> when I commit the patches.
</I>
I don't have commit access no :)

&gt;<i> &gt; +       public struct RealTimeSignum
</I>&gt;<i> &gt; +#if NET_2_0
</I>&gt;<i> &gt; +               : IEquatable &lt;RealTimeSignum&gt;
</I>&gt;<i> &gt; +#endif
</I>&gt;<i> &gt; +       {
</I>&gt;<i> &gt; +               private int rt_offset;
</I>&gt;<i> &gt; +               private static readonly int MaxOffset =
</I>&gt;<i> UnixSignal.GetSIGRTMAX()-UnixSignal.GetSIGRTMIN()-1;
</I>&gt;<i> &gt; +               public static readonly RealTimeSignum MinValue = new
</I>&gt;<i> RealTimeSignum(0);
</I>&gt;<i> &gt; +               public static readonly RealTimeSignum MaxValue = new
</I>&gt;<i> RealTimeSignum(MaxOffset);
</I>&gt;<i> 
</I>&gt;<i> &#65279;Missing space before opening parenthesis.
</I>&gt;<i> 
</I>&gt;<i> Offhand, does C# guarantee the order of initialization of members?  I
</I>&gt;<i> don't remember, and if the order isn't guaranteed then we'll need to
</I>&gt;<i> use
</I>&gt;<i> a static constructor to ensure that MaxOffset is set before setting
</I>&gt;<i> MaxValue.
</I>
I think we're OK with this one; from <A HREF="http://msdn.microsoft.com/en-us/library/aa645757(VS.71">http://msdn.microsoft.com/en-us/library/aa645757(VS.71</A>).aspx:

`Thus, when a class is initialized, all static fields in that class are first initialized to their default values, and then the static field initializers are executed in textual order.'

Cheers
-Tim

____________________________________________________________________
DISCLAIMER

This message and any attachments contain privileged and confidential information intended for the use of the addressee named above. If you are not the intended recipient of this message, you are hereby notified that any use, dissemination, distribution or reproduction of this message is prohibited. Please note that we cannot guarantee that this message or any attachment is virus free or that it has not been intercepted and amended. The views of the author may not necessarily reflect those of Realtime Worlds Ltd.

 

Realtime Worlds Ltd is registered in Scotland, number 225628. Registered Office: 152 West Marketgait, Dundee, DD1 1NJ.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mcs.diff
Type: application/octet-stream
Size: 14435 bytes
Desc: mcs.diff
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081219/8c3a05b2/attachment-0002.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081219/8c3a05b2/attachment-0002.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mono.diff
Type: application/octet-stream
Size: 793 bytes
Desc: mono.diff
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081219/8c3a05b2/attachment-0003.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081219/8c3a05b2/attachment-0003.obj</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030239.html">[Mono-dev] FW: RealTimeSignal patch
</A></li>
	<LI>Next message: <A HREF="030273.html">[Mono-dev] FW: RealTimeSignal patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30269">[ date ]</a>
              <a href="thread.html#30269">[ thread ]</a>
              <a href="subject.html#30269">[ subject ]</a>
              <a href="author.html#30269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
