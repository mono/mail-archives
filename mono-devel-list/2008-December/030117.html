<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Invalid construct in DLR's MSBuild file?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Invalid%20construct%20in%20DLR%27s%20MSBuild%20file%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030108.html">
   <LINK REL="Next"  HREF="030210.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Invalid construct in DLR's MSBuild file?</H1>
    <B>Seo Sanghyeon</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Invalid%20construct%20in%20DLR%27s%20MSBuild%20file%3F&In-Reply-To="
       TITLE="[Mono-dev] Invalid construct in DLR's MSBuild file?">sanxiyn at gmail.com
       </A><BR>
    <I>Wed Dec 10 05:39:35 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030108.html">[Mono-dev]  COM Interop changes for COM objects in VARIANTs
</A></li>
        <LI>Next message: <A HREF="030210.html">[Mono-dev] Problem in running an EXE (mono + Npgsql +PostgreSQL +	Linux)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30117">[ date ]</a>
              <a href="thread.html#30117">[ thread ]</a>
              <a href="subject.html#30117">[ subject ]</a>
              <a href="author.html#30117">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, now I am trying to use xbuild (open source implementation of
MSBuild language) to build IronPython, and the first error (after
instrumenting the source to make it clear what the error is) is this:

$ xbuild Microsoft.Scripting.ExtensionAttribute.csproj
XBuild Engine Version 0.1
Mono, Version 2.3.0.0
Copyright (C) Marek Sieradzki 2005. All rights reserved.
ConditionParser failed to parse  $(SilverlightBuild) != 'true'

Unhandled Exception:
Microsoft.Build.BuildEngine.InvalidProjectFileException: The requested
feature is not implemented. ---&gt; System.NotImplementedException: The
requested feature is not implemented.
  at Microsoft.Build.BuildEngine.ConditionParser.ParseFactorExpression
() [0x00000]
  at Microsoft.Build.BuildEngine.ConditionParser.ParseRelationalExpression
() [0x00000]
  at Microsoft.Build.BuildEngine.ConditionParser.ParseBooleanOr () [0x00000]
  at Microsoft.Build.BuildEngine.ConditionParser.ParseBooleanAnd () [0x00000]
  at Microsoft.Build.BuildEngine.ConditionParser.ParseBooleanExpression
() [0x00000]
  at Microsoft.Build.BuildEngine.ConditionParser.ParseExpression () [0x00000]
  at Microsoft.Build.BuildEngine.ConditionParser.ParseCondition
(System.String condition) [0x00000]
  --- End of inner exception stack trace ---
  at Microsoft.Build.BuildEngine.Project.DoLoad (System.IO.TextReader
textReader) [0x00000]
  at Microsoft.Build.BuildEngine.Project.Load (System.String
projectFileName) [0x00000]
  at Mono.XBuild.CommandLine.MainClass.Execute () [0x00000]

According to MSDN, MSBuild Conditions
<A HREF="http://msdn.microsoft.com/en-us/library/7szfhaft.aspx">http://msdn.microsoft.com/en-us/library/7szfhaft.aspx</A> conditions
should be of the form 'stringA' != 'stringB', where &quot;single quotes are
not required for simple alphanumeric strings or boolean values&quot;. Is
$(SilverlightBuild) this case? If it isn't, shouldn't it be quoted as
'$(SilverlightBuild)'?

If I manually change this condition to be quoted (I also note, all
other uses of $(SilverlightBuild) is actually quoted in this file),
xbuild builds this assembly successfully.

Even if this is actually valid (then I argue documentation is
confusing), I think it would be a good idea to quote this anyway.

-- 
Seo Sanghyeon
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030108.html">[Mono-dev]  COM Interop changes for COM objects in VARIANTs
</A></li>
	<LI>Next message: <A HREF="030210.html">[Mono-dev] Problem in running an EXE (mono + Npgsql +PostgreSQL +	Linux)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30117">[ date ]</a>
              <a href="thread.html#30117">[ thread ]</a>
              <a href="subject.html#30117">[ subject ]</a>
              <a href="author.html#30117">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
