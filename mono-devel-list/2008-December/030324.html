<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] System.Environment fixes for Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20System.Environment%20fixes%20for%20Windows&In-Reply-To=1229654599.7055.239.camel%40erandi.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030264.html">
   <LINK REL="Next"  HREF="030325.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] System.Environment fixes for Windows</H1>
    <B>James Mansion</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20System.Environment%20fixes%20for%20Windows&In-Reply-To=1229654599.7055.239.camel%40erandi.site"
       TITLE="[Mono-dev] [PATCH] System.Environment fixes for Windows">james at mansionfamily.plus.com
       </A><BR>
    <I>Thu Dec 25 06:56:06 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030264.html">[Mono-dev] [PATCH] System.Environment fixes for Windows
</A></li>
        <LI>Next message: <A HREF="030325.html">[Mono-dev] [PATCH] System.Environment fixes for Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30324">[ date ]</a>
              <a href="thread.html#30324">[ thread ]</a>
              <a href="subject.html#30324">[ subject ]</a>
              <a href="author.html#30324">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Miguel de Icaza wrote:
&gt;&gt;<i> Calling Environment.SetEnvironmentVariable (...,
</I>&gt;&gt;<i> EnvironmentVariableTarget.User) does not notify the OS that a variable
</I>&gt;&gt;<i> has changed.
</I>&gt;&gt;<i> See <A HREF="http://msdn.microsoft.com/en-us/library/ms682653(VS.85">http://msdn.microsoft.com/en-us/library/ms682653(VS.85</A>).aspx
</I>&gt;&gt;<i>     
</I>...
&gt;&gt;<i> 	* Environment.cs (SetEnvironmentVariable) : Adding a call to
</I>&gt;&gt;<i> 	  internalBroadcastSettingChange to notify Windows that an environment
</I>&gt;&gt;<i> 	  variable has changed.
</I>&gt;&gt;<i>     
</I>
Apologies that I'm not in a position to verify this - but can I question 
this?  The broadcast is for
when you change the settings that new processes started by the shell etc 
will not, not
for changes to this process' environment.  For changing this process' 
env, you should
just need to call SetEnvironmentVariable.

The comments at least are a bit misleading.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030264.html">[Mono-dev] [PATCH] System.Environment fixes for Windows
</A></li>
	<LI>Next message: <A HREF="030325.html">[Mono-dev] [PATCH] System.Environment fixes for Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30324">[ date ]</a>
              <a href="thread.html#30324">[ thread ]</a>
              <a href="subject.html#30324">[ subject ]</a>
              <a href="author.html#30324">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
