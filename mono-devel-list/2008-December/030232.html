<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] FW: RealTimeSignal patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20FW%3A%20RealTimeSignal%20patch&In-Reply-To=1229457932.9634.38.camel%40lina.magi.jprl.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030226.html">
   <LINK REL="Next"  HREF="030239.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] FW: RealTimeSignal patch</H1>
    <B>tim.jenks at realtimeworlds.com</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20FW%3A%20RealTimeSignal%20patch&In-Reply-To=1229457932.9634.38.camel%40lina.magi.jprl.com"
       TITLE="[Mono-dev] FW: RealTimeSignal patch">tim.jenks at realtimeworlds.com
       </A><BR>
    <I>Wed Dec 17 06:19:23 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030226.html">[Mono-dev] FW: RealTimeSignal patch
</A></li>
        <LI>Next message: <A HREF="030239.html">[Mono-dev] FW: RealTimeSignal patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30232">[ date ]</a>
              <a href="thread.html#30232">[ thread ]</a>
              <a href="subject.html#30232">[ subject ]</a>
              <a href="author.html#30232">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Jon,

Attached is another pass at this. Just one point below that I couldn't address as suggested:

&gt;<i> &gt; +#if NET_2_0
</I>&gt;<i> &gt; +                : IEquatable &lt;RealTimeSignum&gt;
</I>&gt;<i> &gt; +#endif
</I>&gt;<i> &gt; +       {
</I>&gt;<i> &gt; +               private int rt_offset;
</I>&gt;<i> &gt; +               public static readonly RealTimeSignum MinValue = new
</I>&gt;<i> RealTimeSignum(0);
</I>&gt;<i> &gt; +               public static readonly RealTimeSignum MaxValue = new
</I>&gt;<i> RealTimeSignum(UnixSignal.GetSIGRTMAX() - UnixSignal.GetSIGRTMIN() -
</I>&gt;<i> 1);
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +               public RealTimeSignum(int offset)
</I>&gt;<i> &gt; +               {
</I>&gt;<i> &gt; +                       if (offset &lt; 0)
</I>&gt;<i> &gt; +                               throw new
</I>&gt;<i> ArgumentOutOfRangeException(&quot;Offset cannot be negative&quot;);
</I>&gt;<i> &gt; +                       if (offset &gt; (UnixSignal.GetSIGRTMAX()-
</I>&gt;<i> UnixSignal.GetSIGRTMIN()-1))
</I>&gt;<i> 
</I>&gt;<i> There's no need to call UnixSignal.GetSIGRTMAX() here, as the MaxValue
</I>&gt;<i> field has already computed this.  Just do:
</I>&gt;<i> 
</I>&gt;<i> 	if (offset &gt; MaxValue.Offset)
</I>&gt;<i> 		throw new &#65279;ArgumentOutOfRangeException(...);
</I>
Problem here is that MaxValue is dependent on this cstor. When constructing the MaxValue field, MaxValue.Offset will be 0 in the case above. For now, I've refactored the logic to a private static readonly int MaxOffset, I hope this is sufficient and removes the duplication in question.

Cheers
-Tim

____________________________________________________________________
DISCLAIMER

This message and any attachments contain privileged and confidential information intended for the use of the addressee named above. If you are not the intended recipient of this message, you are hereby notified that any use, dissemination, distribution or reproduction of this message is prohibited. Please note that we cannot guarantee that this message or any attachment is virus free or that it has not been intercepted and amended. The views of the author may not necessarily reflect those of Realtime Worlds Ltd.

 

Realtime Worlds Ltd is registered in Scotland, number 225628. Registered Office: 152 West Marketgait, Dundee, DD1 1NJ.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mcs.diff
Type: application/octet-stream
Size: 14013 bytes
Desc: mcs.diff
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081217/3c1e02b9/attachment-0002.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081217/3c1e02b9/attachment-0002.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mono.diff
Type: application/octet-stream
Size: 793 bytes
Desc: mono.diff
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081217/3c1e02b9/attachment-0003.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081217/3c1e02b9/attachment-0003.obj</A> 
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030226.html">[Mono-dev] FW: RealTimeSignal patch
</A></li>
	<LI>Next message: <A HREF="030239.html">[Mono-dev] FW: RealTimeSignal patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30232">[ date ]</a>
              <a href="thread.html#30232">[ thread ]</a>
              <a href="subject.html#30232">[ subject ]</a>
              <a href="author.html#30232">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
