<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [bsd-sharp] Re:  Mono 2.0 and FreeBSD
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5Bbsd-sharp%5D%20Re%3A%20%20Mono%202.0%20and%20FreeBSD&In-Reply-To=20081210150815.GA27450%40blogreen.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030123.html">
   <LINK REL="Next"  HREF="030133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [bsd-sharp] Re:  Mono 2.0 and FreeBSD</H1>
    <B>Phillip N.</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5Bbsd-sharp%5D%20Re%3A%20%20Mono%202.0%20and%20FreeBSD&In-Reply-To=20081210150815.GA27450%40blogreen.org"
       TITLE="[Mono-dev] [bsd-sharp] Re:  Mono 2.0 and FreeBSD">pneumann at gmail.com
       </A><BR>
    <I>Wed Dec 10 18:12:42 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030123.html">[Mono-dev] Mono 2.0 and FreeBSD
</A></li>
        <LI>Next message: <A HREF="030133.html">[Mono-dev] Mono 2.0 and FreeBSD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30127">[ date ]</a>
              <a href="thread.html#30127">[ thread ]</a>
              <a href="subject.html#30127">[ subject ]</a>
              <a href="author.html#30127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>El mi&#233;, 10-12-2008 a las 16:08 +0100, Romain Tarti&#232;re escribi&#243;:
&gt;<i> always with the message ...
</I>&gt;<i> | Program received signal SIGFPE, Arithmetic exception.
</I>&gt;<i> ... in gdb.
</I>&gt;<i> 
</I>&gt;<i> Phillip, did you tweaked something else? Do you run i386?
</I>&gt;<i> 
</I>Hi Romain (and all...)

The effect of the modification of mini.c vary between amd64 and i386.
[ #undef MONO_ARCH_SIGSEGV_ON_ALTSTACK ]

On i386 when enabling --with-signaltstack=no thing does not work as on
amd64. Not work, meaning the modification above does not fix the test
failures.
So currently im setting it to yes on i386 on the port's Makefile (please
test it!)

Currently, on amd64 things seem to work quite fine.

On the other side, often on i386 i see the following message:

&quot;Thread 8363c00 has exited with leftover thread-specific data after 4
destructor iterations&quot;

This is not &quot;mortal&quot; as things works out fine. For example Velocity or
FSpot works ok (i could not run before the modification to mini.c).

Some time ago i reported this on the amd64 architecture, wich no longer
has the problem: <A HREF="https://bugzilla.novell.com/show_bug.cgi?id=323290">https://bugzilla.novell.com/show_bug.cgi?id=323290</A>
This bug could be close. At least for me, things works fine on amd64.

But, the same is present on i386 now.
Can this be related to that on i386 --with-signaltstack=no, things
doesnt work?
Could i report more details, to help fix this i386 problem? 


Bugs related to this, that from my point of view, could be closed:
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=349054">https://bugzilla.novell.com/show_bug.cgi?id=349054</A>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=448131">https://bugzilla.novell.com/show_bug.cgi?id=448131</A>
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=376618">https://bugzilla.novell.com/show_bug.cgi?id=376618</A>


Thanks!



[<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">killfill at flash</A> ~]$ mono -V
Mono JIT compiler version 2.0.1 (tarball)
Copyright (C) 2002-2008 Novell, Inc and Contributors.
www.mono-project.com
	TLS:           __thread
	GC:            Included Boehm (with typed GC)
	SIGSEGV:       normal
	Notification:  Thread + polling
	Architecture:  amd64
	Disabled:      none



[<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">killfill at pcbsd</A> ~]$ mono -V
Mono JIT compiler version 2.0.1 (tarball)
Copyright (C) 2002-2008 Novell, Inc and Contributors.
www.mono-project.com
        TLS:           __thread
        GC:            Included Boehm (with typed GC)
        SIGSEGV:       altstack
        Notification:  Thread + polling
        Architecture:  x86
        Disabled:      none





</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030123.html">[Mono-dev] Mono 2.0 and FreeBSD
</A></li>
	<LI>Next message: <A HREF="030133.html">[Mono-dev] Mono 2.0 and FreeBSD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30127">[ date ]</a>
              <a href="thread.html#30127">[ thread ]</a>
              <a href="subject.html#30127">[ subject ]</a>
              <a href="author.html#30127">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
