<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] GetHashCode() implementation for class string
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20GetHashCode%28%29%20implementation%20for%20class%20string&In-Reply-To=op.ultc5xzdnv9r0y%40jacks_new">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030074.html">
   <LINK REL="Next"  HREF="030079.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] GetHashCode() implementation for class string</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20GetHashCode%28%29%20implementation%20for%20class%20string&In-Reply-To=op.ultc5xzdnv9r0y%40jacks_new"
       TITLE="[Mono-dev] GetHashCode() implementation for class string">atsushi at ximian.com
       </A><BR>
    <I>Sun Dec  7 20:43:46 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030074.html">[Mono-dev] mono on HTC P4350
</A></li>
        <LI>Next message: <A HREF="030079.html">[Mono-dev] GetHashCode() implementation for class string
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30077">[ date ]</a>
              <a href="thread.html#30077">[ thread ]</a>
              <a href="subject.html#30077">[ subject ]</a>
              <a href="author.html#30077">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Do NOT read MS BCL source code. Jack, now we will never accept your 
contributions to protect copyright violation possibly brought by you.

It is EXPLICITLY written in our TOP page for contribution.
<A HREF="http://mono-project.com/Contributing">http://mono-project.com/Contributing</A>

Atsushi Eno

Jack wrote:
&gt;<i> You can use Java version of hash code that loos like:
</I>&gt;<i> 
</I>&gt;<i>         public static int JavaStringHashCode( string value )
</I>&gt;<i>         {
</I>&gt;<i>             int result = 0;
</I>&gt;<i> 
</I>&gt;<i>             foreach( char character in value )
</I>&gt;<i>                 result = 31 * result + character;
</I>&gt;<i> 
</I>&gt;<i>             return result;
</I>&gt;<i>         }
</I>&gt;<i> 
</I>&gt;<i> Also you can look into Microsoft's BCL sources to find appropriate 
</I>&gt;<i> implementation.
</I>&gt;<i> WBR,
</I>&gt;<i> Eugeny Grishul
</I>&gt;<i> 
</I>&gt;<i> On Mon, 08 Dec 2008 01:47:43 +0300, Alan McGovern 
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">alan.mcgovern at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> On Mon, Dec 1, 2008 at 9:44 PM, CarGa &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">carga at mail.ru</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hello, all!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I was directed here by Atsushi Eno from mono-olive list with this
</I>&gt;&gt;&gt;<i> question/request about GetHashCode() method.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> DependencyProperty class (that lays at the very base of entire WWF 
</I>&gt;&gt;&gt;<i> and WPF
</I>&gt;&gt;&gt;<i> libraries) heavily depends on quality of GetHashCode() method since 
</I>&gt;&gt;&gt;<i> we use
</I>&gt;&gt;&gt;<i> it to find any particular DependencyProperty in some huge 
</I>&gt;&gt;&gt;<i> Dictionary&lt;int,
</I>&gt;&gt;&gt;<i> DependencyProperty&gt; of others.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If i understand correctly, you're using the hashcode fo a DP as a unique
</I>&gt;&gt;<i> identifier. This is wrong. Hashcodes are by definition *not* a unique
</I>&gt;&gt;<i> identifer and should not be used as such. You're completly misusing the
</I>&gt;&gt;<i> hashcode in this case. Your code will never run correctly if you are 
</I>&gt;&gt;<i> using
</I>&gt;&gt;<i> .GetHashCode() to supply the 'int' in Dictionary&lt;int, DependencyProperty&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Alan.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030074.html">[Mono-dev] mono on HTC P4350
</A></li>
	<LI>Next message: <A HREF="030079.html">[Mono-dev] GetHashCode() implementation for class string
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30077">[ date ]</a>
              <a href="thread.html#30077">[ thread ]</a>
              <a href="subject.html#30077">[ subject ]</a>
              <a href="author.html#30077">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
