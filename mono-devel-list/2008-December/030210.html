<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Problem in running an EXE (mono + Npgsql +PostgreSQL +	Linux)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problem%20in%20running%20an%20EXE%20%28mono%20%2B%20Npgsql%20%2BPostgreSQL%20%2B%0A%09Linux%29&In-Reply-To=3e0b79840812100254ua674dfbwbd0169d04c82f6e1%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030117.html">
   <LINK REL="Next"  HREF="030216.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Problem in running an EXE (mono + Npgsql +PostgreSQL +	Linux)</H1>
    <B>Ramprasad G</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problem%20in%20running%20an%20EXE%20%28mono%20%2B%20Npgsql%20%2BPostgreSQL%20%2B%0A%09Linux%29&In-Reply-To=3e0b79840812100254ua674dfbwbd0169d04c82f6e1%40mail.gmail.com"
       TITLE="[Mono-dev] Problem in running an EXE (mono + Npgsql +PostgreSQL +	Linux)">ramprasad.g at enterprisedb.com
       </A><BR>
    <I>Wed Dec 10 06:00:11 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030117.html">[Mono-dev] Invalid construct in DLR's MSBuild file?
</A></li>
        <LI>Next message: <A HREF="030216.html">[Mono-dev] Problem in running an EXE (mono + Npgsql +PostgreSQL	+ Linux)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30210">[ date ]</a>
              <a href="thread.html#30210">[ thread ]</a>
              <a href="subject.html#30210">[ subject ]</a>
              <a href="author.html#30210">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I am using *Mono* in Linux 32-bit Ubuntu.,I want to connect to PostgreSQL
8.3 database server using Npgsql driver

This is my sample c# code:

using System;
using System.Data;
using Npgsql;

public static class NpgsqlUserManual
{
public static void Main(String[] args)
{
NpgsqlConnection conn = new NpgsqlConnection(&quot;Server=127.0.0.1;Port=5432;User
Id=postgres;Password=postgres;Database=npgsql;&quot;);
conn.Open();

NpgsqlCommand command = new NpgsqlCommand(&quot;insert into test values(2004)&quot;,
conn);
Int32 rowsaffected;

try
{
rowsaffected = command.ExecuteNonQuery();

Console.WriteLine(&quot;It was added {0} lines in table test&quot;, rowsaffected);
}

finally
{
conn.Close();
}
}
}

I am able to compile the CS code  using mcs.

* mcs SimpleExample.cs -r:System.Data -r:Npgsql.dll*

It creates an EXE named SimpleExample.exe,then i tried to run that EXE using
mono

*mono SimpleExample.exe*

It throws the following error

*** (SimpleExample.exe:18076): WARNING **: The class
System.Data.Common.DbConnection could not be loaded, used in System.Data,
Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089

Unhandled Exception: System.TypeLoadException: Could not load type
'System.InvalidProgramException' from assembly 'mscorlib,
Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'.*


The Npgsql.dll is the same directory only.

FYKI :Information about Mono in my machine:

Mono:

Mono JIT compiler version 20081007 (tarball)
Copyright (C) 2002-2008 Novell, Inc and Contributors. www.mono-project.com
    TLS:           __thread
    GC:            Included Boehm (with typed GC)
    SIGSEGV:       altstack
    Notifications: epoll
    Architecture:  x86
    Disabled:      none

mcs:

mcs --version
Mono C# compiler version 200.1007.0.0

This is a run time issue since the compilation was successful. Any solution
to this will be highly appreciated.

-- 
Thanks &amp; Regards,
Ramprasad G
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081210/ca3cbf75/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081210/ca3cbf75/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030117.html">[Mono-dev] Invalid construct in DLR's MSBuild file?
</A></li>
	<LI>Next message: <A HREF="030216.html">[Mono-dev] Problem in running an EXE (mono + Npgsql +PostgreSQL	+ Linux)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30210">[ date ]</a>
              <a href="thread.html#30210">[ thread ]</a>
              <a href="subject.html#30210">[ subject ]</a>
              <a href="author.html#30210">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
