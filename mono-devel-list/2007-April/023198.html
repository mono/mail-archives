<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20XmlTextReader.cs%20patch%20%28IBM%20bug%20workaround%29&In-Reply-To=1176901795.3992.435.camel%40mirrors.mathematik.uni-bielefeld.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023174.html">
   <LINK REL="Next"  HREF="023199.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)</H1>
    <B>Eyal Alaluf</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20XmlTextReader.cs%20patch%20%28IBM%20bug%20workaround%29&In-Reply-To=1176901795.3992.435.camel%40mirrors.mathematik.uni-bielefeld.de"
       TITLE="[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)">eyala at mainsoft.com
       </A><BR>
    <I>Thu Apr 19 06:05:37 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023174.html">[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
</A></li>
        <LI>Next message: <A HREF="023199.html">[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23198">[ date ]</a>
              <a href="thread.html#23198">[ thread ]</a>
              <a href="subject.html#23198">[ subject ]</a>
              <a href="author.html#23198">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Miguel.

We tested the patch on the attached testcase and saw a degradation of
~1%.
The results were:
   Before the change (ticks, 2 runs):
       1478000000
       1475510000
   After the change:
       1486280000
       1485810000
Clearly Mono doesn't inline this change but on the other hand the impact
is not significant in the tested scenario.
As for the IBM bug we have a Java test case and the minimal scenario we
see is tricky enough to believe that it will happen rarely.
Do you think it is reasonable to commit the patch despite the slight
degradation in performance?

Eyal.

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] On Behalf Of Miguel de
Icaza
Sent: 18 April 2007 15:10
To: Sasha Kogan
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Subject: Re: [Mono-dev] XmlTextReader.cs patch (IBM bug workaround)

Hello Sasha,

&gt;<i> Alternativelly, we could wrap the patch in &quot;#if TARGET_JVM&quot;, but since
</I>&gt;<i> there're numerous places in the code where it should be applied, this
</I>&gt;<i> approach would dirty the code too much. 
</I>
We need to review if this will have a performance impact on Mono (see if
Mono is able to inline this).

Miguel
&gt;<i> 
</I>_______________________________________________
Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: stress.cs
Type: application/octet-stream
Size: 2914 bytes
Desc: stress.cs
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070419/0376a94e/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070419/0376a94e/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023174.html">[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
</A></li>
	<LI>Next message: <A HREF="023199.html">[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23198">[ date ]</a>
              <a href="thread.html#23198">[ thread ]</a>
              <a href="subject.html#23198">[ subject ]</a>
              <a href="author.html#23198">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
