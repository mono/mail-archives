<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20XmlTextReader.cs%20patch%20%28IBM%20bug%20workaround%29&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D03FCAF8D%40dhost002-45.dex002.intermedia.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023198.html">
   <LINK REL="Next"  HREF="023172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20XmlTextReader.cs%20patch%20%28IBM%20bug%20workaround%29&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D03FCAF8D%40dhost002-45.dex002.intermedia.net"
       TITLE="[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)">atsushi at ximian.com
       </A><BR>
    <I>Thu Apr 19 06:48:08 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023198.html">[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
</A></li>
        <LI>Next message: <A HREF="023172.html">[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23199">[ date ]</a>
              <a href="thread.html#23199">[ thread ]</a>
              <a href="subject.html#23199">[ subject ]</a>
              <a href="author.html#23199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Since we will *never* take care of this IBM bugs in the future fixes,
you had better just checkin XmlTextReader.jvm.cs to keep yourselves
paying attention to have it in sync with the latest fixes. Asking
others to pay attention to this kind of &quot;this&quot; dependency and avoid
the issue is inappropriate.

It should be really easy by having a diff inside the sources (you
can checkin such a diff in the sources).

Atsushi Eno

Eyal Alaluf wrote:
&gt;<i> Hi, Miguel.
</I>&gt;<i> 
</I>&gt;<i> We tested the patch on the attached testcase and saw a degradation of
</I>&gt;<i> ~1%.
</I>&gt;<i> The results were:
</I>&gt;<i>    Before the change (ticks, 2 runs):
</I>&gt;<i>        1478000000
</I>&gt;<i>        1475510000
</I>&gt;<i>    After the change:
</I>&gt;<i>        1486280000
</I>&gt;<i>        1485810000
</I>&gt;<i> Clearly Mono doesn't inline this change but on the other hand the impact
</I>&gt;<i> is not significant in the tested scenario.
</I>&gt;<i> As for the IBM bug we have a Java test case and the minimal scenario we
</I>&gt;<i> see is tricky enough to believe that it will happen rarely.
</I>&gt;<i> Do you think it is reasonable to commit the patch despite the slight
</I>&gt;<i> degradation in performance?
</I>&gt;<i> 
</I>&gt;<i> Eyal.
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] On Behalf Of Miguel de
</I>&gt;<i> Icaza
</I>&gt;<i> Sent: 18 April 2007 15:10
</I>&gt;<i> To: Sasha Kogan
</I>&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
</I>&gt;<i> 
</I>&gt;<i> Hello Sasha,
</I>&gt;<i> 
</I>&gt;&gt;<i> Alternativelly, we could wrap the patch in &quot;#if TARGET_JVM&quot;, but since
</I>&gt;&gt;<i> there're numerous places in the code where it should be applied, this
</I>&gt;&gt;<i> approach would dirty the code too much. 
</I>&gt;<i> 
</I>&gt;<i> We need to review if this will have a performance impact on Mono (see if
</I>&gt;<i> Mono is able to inline this).
</I>&gt;<i> 
</I>&gt;<i> Miguel
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023198.html">[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
</A></li>
	<LI>Next message: <A HREF="023172.html">[Mono-dev] XmlTextReader.cs patch (IBM bug workaround)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23199">[ date ]</a>
              <a href="thread.html#23199">[ thread ]</a>
              <a href="subject.html#23199">[ subject ]</a>
              <a href="author.html#23199">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
