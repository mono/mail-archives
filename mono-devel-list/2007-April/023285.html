<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono on Windows/x64
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20on%20Windows/x64&In-Reply-To=17c2d80b0704230828r47a779b7gf1ef1aa4981c0523%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023284.html">
   <LINK REL="Next"  HREF="023287.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono on Windows/x64</H1>
    <B>Michael Jerris</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20on%20Windows/x64&In-Reply-To=17c2d80b0704230828r47a779b7gf1ef1aa4981c0523%40mail.gmail.com"
       TITLE="[Mono-dev] Mono on Windows/x64">mike at jerris.com
       </A><BR>
    <I>Mon Apr 23 11:49:20 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023284.html">[Mono-dev] Mono on Windows/x64
</A></li>
        <LI>Next message: <A HREF="023287.html">[Mono-dev] Mono on Windows/x64
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23285">[ date ]</a>
              <a href="thread.html#23285">[ thread ]</a>
              <a href="subject.html#23285">[ subject ]</a>
              <a href="author.html#23285">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Msvc (at least 2005), gcc, and sun studio at least all support __VA_ARGS__ for var args macros.  It is part of c99.  This should work without any ifdefs.  The code below (from an unrelated project) compiles fine on all of those compilers.  Are there any non-c99 compliant compilers in the targets needed (other than msvc 2005 of course, where at least this works fine?)

 

Mike

 

#define say_file(...) {\

            char tmp[80];\

            switch_status_t status;\

            snprintf(tmp, sizeof(tmp), __VA_ARGS__);\

            if ((status = switch_ivr_play_file(session, NULL, tmp, args)) != SWITCH_STATUS_SUCCESS){ \

                  return status;\

            }\

            if (!switch_channel_ready(switch_core_session_get_channel(session))) {\

                  return SWITCH_STATUS_FALSE;\

            }}\

 

 

 

________________________________

From: Jonathan Chambers [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">joncham at gmail.com</A>] 
Sent: Monday, April 23, 2007 11:29 AM
To: Miguel de Icaza
Cc: Michael Jerris; Korn&#233;l P&#225;l; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Subject: Re: [Mono-dev] Mono on Windows/x64

 

Hello,

On 4/23/07, Miguel de Icaza &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at novell.com</A> &gt; wrote:

Hello,

&gt;<i> I am not sure how soon any patches will make it into glib, but there
</I>&gt;<i> is some effort. I initially thought eglib would be easier, but have
</I>&gt;<i> since changed my mind ;-). A glib port will be
</I>&gt;<i> used/appreciated/maintained by a wider community, and it has already
</I>&gt;<i> been ported to build on Win32. eglib would need ported to win32, and
</I>&gt;<i> not just win32, but msvc. This was not trivial when I tried, and I 
</I>&gt;<i> doubt mono wants all the #ifdef's and changes necessary to get it
</I>&gt;<i> working. Plus, glib is tested alot more than eglib.
</I>
We are going to drop glib and move to eglib in the future anyways.


Knowing this previously would have helped ;-). I have got conflicting advice in the past about whether glib or eglib would be the best approach.

	 

	In addition, eglib is such a small library that am curious as to what
	you think would require all that work to port eglib to Win64, it does
	not seem that difficult, and the code base is very small.


I'll look at the progress I made previously locally. I think the biggest issues were msvc issues like handling varargs differently than gcc (adding a decent number of #ifdefs), and lots of string conversions between Windows API (Unicode) and glib (utf-8). I'm willing to work on this again, with help from anyone else, if this is the future direction of mono. 

	 

	Miguel.



Thanks,
Jonathan 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070423/05e296bb/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070423/05e296bb/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023284.html">[Mono-dev] Mono on Windows/x64
</A></li>
	<LI>Next message: <A HREF="023287.html">[Mono-dev] Mono on Windows/x64
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23285">[ date ]</a>
              <a href="thread.html#23285">[ thread ]</a>
              <a href="subject.html#23285">[ subject ]</a>
              <a href="author.html#23285">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
