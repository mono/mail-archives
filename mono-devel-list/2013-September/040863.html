<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Errors building libgdiplus against libpng 1.5.3 as opposed to 1.2 Should configure be updated?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Errors%20building%20libgdiplus%20against%20libpng%201.5.3%20as%0A%20opposed%20to%201.2%20Should%20configure%20be%20updated%3F&In-Reply-To=%3CCABsCM1MnM1DOz%2BpELvQrHJ9Oev%2BHQ6o1L1NGcWO0zYGRTNi15g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040866.html">
   <LINK REL="Next"  HREF="040865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Errors building libgdiplus against libpng 1.5.3 as opposed to 1.2 Should configure be updated?</H1>
    <B>Justin Dearing</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Errors%20building%20libgdiplus%20against%20libpng%201.5.3%20as%0A%20opposed%20to%201.2%20Should%20configure%20be%20updated%3F&In-Reply-To=%3CCABsCM1MnM1DOz%2BpELvQrHJ9Oev%2BHQ6o1L1NGcWO0zYGRTNi15g%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Errors building libgdiplus against libpng 1.5.3 as opposed to 1.2 Should configure be updated?">zippy1981 at gmail.com
       </A><BR>
    <I>Sun Sep 15 13:09:01 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040866.html">[Mono-dev] _wapi_connect errors
</A></li>
        <LI>Next message: <A HREF="040865.html">[Mono-dev] GAC on Mac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40863">[ date ]</a>
              <a href="thread.html#40863">[ thread ]</a>
              <a href="subject.html#40863">[ subject ]</a>
              <a href="author.html#40863">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I've been attempting to build mono+moon from git using on both a CentOS 6.4
 (with rpmforge and a lot of RPMs built from fedora srpms)  and Fedora Core
19.

I discovered that if I compile libgdiplus agains libpng 1.5.3-devel  on
either system I get errors (see below). However if I use libpng-devel 1.2
(default on centos, and in the liibpng12-devel package on FC 19.

IWould you entertain a patch so that autogen/configure will detect the
libpng version and fail early with a more helpful error message?

Justin

Error message:

make[2]: Entering directory `/home/mono/src/libgdiplus/src'
/bin/sh ../libtool --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -I..
-I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include
-I/usr/include/cairo -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include
-I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng15
   -I/usr/include/freetype2       -Wall -Wno-unused -Wno-format    -g -O2
-pthread -MT pngcodec.lo -MD -MP -MF .deps/pngcodec.Tpo -c -o pngcodec.lo
pngcodec.c
libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I.. -I/usr/include/glib-2.0
-I/usr/lib64/glib-2.0/include -I/usr/include/cairo -I/usr/include/glib-2.0
-I/usr/lib64/glib-2.0/include -I/usr/include/pixman-1
-I/usr/include/freetype2 -I/usr/include/libpng15 -I/usr/include/freetype2
-Wall -Wno-unused -Wno-format -g -O2 -pthread -MT pngcodec.lo -MD -MP -MF
.deps/pngcodec.Tpo -c pngcodec.c  -fPIC -DPIC -o .libs/pngcodec.o
pngcodec.c: In function 'gdip_load_png_properties':
pngcodec.c:119: error: dereferencing pointer to incomplete type
pngcodec.c:119: error: dereferencing pointer to incomplete type
pngcodec.c:121: error: dereferencing pointer to incomplete type
pngcodec.c:122: error: dereferencing pointer to incomplete type
pngcodec.c:137: warning: passing argument 5 of 'png_get_iCCP' from
incompatible pointer type
/usr/include/libpng15/png.h:2248: note: expected 'png_bytepp' but argument
is of type 'char **'
pngcodec.c: In function 'gdip_load_png_image_from_file_or_stream':
pngcodec.c:324: error: dereferencing pointer to incomplete type
pngcodec.c:325: error: dereferencing pointer to incomplete type
pngcodec.c:333: error: dereferencing pointer to incomplete type
pngcodec.c:333: error: dereferencing pointer to incomplete type
pngcodec.c:333: error: dereferencing pointer to incomplete type
pngcodec.c:342: error: dereferencing pointer to incomplete type
pngcodec.c:346: error: dereferencing pointer to incomplete type
pngcodec.c:346: error: dereferencing pointer to incomplete type
pngcodec.c:347: error: dereferencing pointer to incomplete type
pngcodec.c:347: error: dereferencing pointer to incomplete type
pngcodec.c:350: error: dereferencing pointer to incomplete type
pngcodec.c:351: error: dereferencing pointer to incomplete type
pngcodec.c:351: error: dereferencing pointer to incomplete type
pngcodec.c:351: error: dereferencing pointer to incomplete type
pngcodec.c:351: error: dereferencing pointer to incomplete type
pngcodec.c:494: error: dereferencing pointer to incomplete type
pngcodec.c:494: error: dereferencing pointer to incomplete type
pngcodec.c:494: error: dereferencing pointer to incomplete type
pngcodec.c:501: error: dereferencing pointer to incomplete type
pngcodec.c:501: error: dereferencing pointer to incomplete type
pngcodec.c:501: error: dereferencing pointer to incomplete type
pngcodec.c:508: error: dereferencing pointer to incomplete type
pngcodec.c:508: error: dereferencing pointer to incomplete type
pngcodec.c:508: error: dereferencing pointer to incomplete type
pngcodec.c:515: error: dereferencing pointer to incomplete type
pngcodec.c:515: error: dereferencing pointer to incomplete type
pngcodec.c:515: error: dereferencing pointer to incomplete type
make[2]: *** [pngcodec.lo] Error 1
make[2]: Leaving directory `/home/mono/src/libgdiplus/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/mono/src/libgdiplus'
make: *** [all] Error 2
[<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono at localhost</A> libgdiplus]$
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20130915/787b7b30/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20130915/787b7b30/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040866.html">[Mono-dev] _wapi_connect errors
</A></li>
	<LI>Next message: <A HREF="040865.html">[Mono-dev] GAC on Mac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40863">[ date ]</a>
              <a href="thread.html#40863">[ thread ]</a>
              <a href="subject.html#40863">[ subject ]</a>
              <a href="author.html#40863">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
