<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Simple web service test with windows authentication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Simple%20web%20service%20test%20with%20windows%20authentication&In-Reply-To=dd99b8c80811271228t78468e57ndb9370a871b330cd%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029990.html">
   <LINK REL="Next"  HREF="029998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Simple web service test with windows authentication</H1>
    <B>Ryan Bair</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Simple%20web%20service%20test%20with%20windows%20authentication&In-Reply-To=dd99b8c80811271228t78468e57ndb9370a871b330cd%40mail.gmail.com"
       TITLE="[Mono-dev] Simple web service test with windows authentication">ryandbair at gmail.com
       </A><BR>
    <I>Thu Nov 27 15:51:53 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029990.html">[Mono-dev] Simple web service test with windows authentication
</A></li>
        <LI>Next message: <A HREF="029998.html">[Mono-dev] Simple web service test with windows authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29991">[ date ]</a>
              <a href="thread.html#29991">[ thread ]</a>
              <a href="subject.html#29991">[ subject ]</a>
              <a href="author.html#29991">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Most of it is not proprietary. SPNEGO and GSSAPI make up most of it
with an option for the proprietary but reasonably well documented
NTLMv2.

That said, it is not implemented AFAIK.

2008/11/27 Rafael Teixeira &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">monoman at gmail.com</A>&gt;:
&gt;<i> AFAIK, we don't implement the proprietary protocol for Windows
</I>&gt;<i> Authentication.
</I>&gt;<i> See <A HREF="http://msdn.microsoft.com/en-us/library/ms978378.aspx#authaspdotnet_authentication">http://msdn.microsoft.com/en-us/library/ms978378.aspx#authaspdotnet_authentication</A>
</I>&gt;<i> for an overview with alternatives.
</I>&gt;<i>
</I>&gt;<i> On Wed, Nov 26, 2008 at 3:39 PM, marcos b &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">marcosb at internet.com.uy</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm trying to do a web service invocation using mono. The web service is
</I>&gt;&gt;<i> hosted on my machine using iis. Windows authentication is used in the
</I>&gt;&gt;<i> web.config and in iis.
</I>&gt;&gt;<i> The test runs ok using .net environment but throws an Unauthorized
</I>&gt;&gt;<i> exception
</I>&gt;&gt;<i> when using mono.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't know if this is a bug or I'm missing something...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks in advance
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        [Test]
</I>&gt;&gt;<i>        public void WebServiceTest()
</I>&gt;&gt;<i>        {
</I>&gt;&gt;<i>            WS.Service1 s=new app.WS.Service1();
</I>&gt;&gt;<i>            //s.UseDefaultCredentials = true;    //Also throws an exception
</I>&gt;&gt;<i>            //s.Credentials = CredentialCache.DefaultCredentials;  //Also
</I>&gt;&gt;<i> throws an exception
</I>&gt;&gt;<i>            s.Credentials = new NetworkCredential(&quot;myLogin&quot;, &quot;12345678&quot;,
</I>&gt;&gt;<i> &quot;myDomain&quot;);
</I>&gt;&gt;<i>            Assert.AreEqual(s.Add(3,5),8);
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Exception
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> detail-----------------------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> TestCase 'app.MonoWebTests.WebServiceTest'
</I>&gt;&gt;<i> failed: System.Net.WebException : The request failed with HTTP status 401:
</I>&gt;&gt;<i> Unauthorized
</I>&gt;&gt;<i>        at
</I>&gt;&gt;<i> System.Web.Services.Protocols.SoapHttpClientProtocol.ReceiveResponse
</I>&gt;&gt;<i> (System.Net.WebResponse response,
</I>&gt;&gt;<i> System.Web.Services.Protocols.SoapClientMessage message,
</I>&gt;&gt;<i> System.Web.Services.Protocols.SoapExtension[] extensions) [0x00000]
</I>&gt;&gt;<i>        at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke
</I>&gt;&gt;<i> (System.String method_name, System.Object[] parameters) [0x00000]
</I>&gt;&gt;<i>        at app.WS.Service1.Sumar (Int32 a, Int32 b) [0x00000]
</I>&gt;&gt;<i>        at (wrapper remoting-invoke-with-check) app.WS.Service1:Sumar
</I>&gt;&gt;<i> (int,int)
</I>&gt;&gt;<i>        at app.MonoWebTests.WebServiceTest () [0x00000]
</I>&gt;&gt;<i>        at (wrapper managed-to-native)
</I>&gt;&gt;<i> System.Reflection.MonoMethod:InternalInvoke
</I>&gt;&gt;<i> (object,object[],System.Exception&amp;)
</I>&gt;&gt;<i>        at System.Reflection.MonoMethod.Invoke (System.Object obj,
</I>&gt;&gt;<i> BindingFlags
</I>&gt;&gt;<i> invokeAttr, System.Reflection.Binder binder, System.Object[] parameters,
</I>&gt;&gt;<i> System.Globalization.CultureInfo culture) [0x00000]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> View this message in context:
</I>&gt;&gt;<i> <A HREF="http://www.nabble.com/Simple-web-service-test-with-windows-authentication-tp20705699p20705699.html">http://www.nabble.com/Simple-web-service-test-with-windows-authentication-tp20705699p20705699.html</A>
</I>&gt;&gt;<i> Sent from the Mono - Dev mailing list archive at Nabble.com.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Rafael &quot;Monoman&quot; Teixeira
</I>&gt;<i> ---------------------------------------
</I>&gt;<i> &quot;I myself am made entirely of flaws, stitched together with good
</I>&gt;<i> intentions.&quot;
</I>&gt;<i> Augusten Burroughs
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029990.html">[Mono-dev] Simple web service test with windows authentication
</A></li>
	<LI>Next message: <A HREF="029998.html">[Mono-dev] Simple web service test with windows authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29991">[ date ]</a>
              <a href="thread.html#29991">[ thread ]</a>
              <a href="subject.html#29991">[ subject ]</a>
              <a href="author.html#29991">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
