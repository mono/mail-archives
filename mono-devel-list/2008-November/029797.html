<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Optimize Mono.Simd non-accelerated	bitwise-ops
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Optimize%20Mono.Simd%20non-accelerated%0A%09bitwise-ops&In-Reply-To=8cca42d80811111254y6fcf6b96gb762f46db6a9b8e3%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029781.html">
   <LINK REL="Next"  HREF="029798.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Optimize Mono.Simd non-accelerated	bitwise-ops</H1>
    <B>Cedric Vivier</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Optimize%20Mono.Simd%20non-accelerated%0A%09bitwise-ops&In-Reply-To=8cca42d80811111254y6fcf6b96gb762f46db6a9b8e3%40mail.gmail.com"
       TITLE="[Mono-dev] [PATCH] Optimize Mono.Simd non-accelerated	bitwise-ops">cedricv at neonux.com
       </A><BR>
    <I>Wed Nov 12 08:58:20 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029781.html">[Mono-dev] [PATCH] Optimize Mono.Simd non-accelerated	bitwise-ops
</A></li>
        <LI>Next message: <A HREF="029798.html">[Mono-dev] [PATCH] Optimize Mono.Simd non-accelerated	bitwise-ops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29797">[ date ]</a>
              <a href="thread.html#29797">[ thread ]</a>
              <a href="subject.html#29797">[ subject ]</a>
              <a href="author.html#29797">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey again,

Thanks for your answers, committed patch this morning.
Also would you mind adding indexers to - at least - Vector16*, whose
final individual elements are quite cumbersome to retrieve using .V0
to .V15 properties.

Attached patch adds an indexer to these.
If you are okay with the patch can add indexers for other Vector types
if it makes sense.

Regards,


On Wed, Nov 12, 2008 at 4:54 AM, Rodrigo Kumpera &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kumpera at gmail.com</A>&gt; wrote:
&gt;<i> Hi Cedric,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Nov 10, 2008 at 3:50 AM, Cedric Vivier &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">cedricv at neonux.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi Rodrigo,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> While playing with Mono.Simd on a (for now ;( ) non-accelerated x86-64
</I>&gt;&gt;<i> setup [1], I've
</I>&gt;&gt;<i> noticed that performance of bitwise-ops on Vector16b and others could
</I>&gt;&gt;<i> be improved.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This patch implements these ops as two 64-bit bitwise ops [2] instead
</I>&gt;&gt;<i> of processing
</I>&gt;&gt;<i> each vector element separately. Giving up to 4X perf increase for
</I>&gt;&gt;<i> Vector16(s)b and 2X for others.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please review,
</I>&gt;<i>
</I>&gt;<i> The patch looks fine, please commit.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1: any plans about enabling acceleration on x86-64 soon?
</I>&gt;<i>
</I>&gt;<i> Soon? No. But I wish to have a x86-64 preview for the 2.4 release.
</I>&gt;<i> Right now everyones attention is in the 2.2 release, so no work
</I>&gt;<i> will be done on the port.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2: using two ulong obviously gives the best perf on x86-64, I have no
</I>&gt;&gt;<i> 32-bit setup handy
</I>&gt;&gt;<i> to test if it would give significantly better perf using four uint
</I>&gt;&gt;<i> instead on them (at the expense of 64-bit platforms though if it
</I>&gt;&gt;<i> would).
</I>&gt;<i>
</I>&gt;<i> The code under 32bits won't be significantly worse by using ulong.
</I>&gt;<i> The penalty is not significant enough.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Rodrigo
</I>&gt;<i>
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0002-WIP-on-branch-SIMD.patch
Type: text/x-diff
Size: 2499 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081112/1417d8d7/attachment-0001.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081112/1417d8d7/attachment-0001.bin</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029781.html">[Mono-dev] [PATCH] Optimize Mono.Simd non-accelerated	bitwise-ops
</A></li>
	<LI>Next message: <A HREF="029798.html">[Mono-dev] [PATCH] Optimize Mono.Simd non-accelerated	bitwise-ops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29797">[ date ]</a>
              <a href="thread.html#29797">[ thread ]</a>
              <a href="subject.html#29797">[ subject ]</a>
              <a href="author.html#29797">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
