<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Ideas for Mono on Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Ideas%20for%20Mono%20on%20Windows&In-Reply-To=17c2d80b0811130616h10812e4ua6224e0ed542fe56%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029829.html">
   <LINK REL="Next"  HREF="029841.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Ideas for Mono on Windows</H1>
    <B>&quot;Andr&#233;s G. Aragoneses&quot;</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Ideas%20for%20Mono%20on%20Windows&In-Reply-To=17c2d80b0811130616h10812e4ua6224e0ed542fe56%40mail.gmail.com"
       TITLE="[Mono-dev] Ideas for Mono on Windows">knocte at gmail.com
       </A><BR>
    <I>Thu Nov 13 19:10:07 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029829.html">[Mono-dev] Ideas for Mono on Windows
</A></li>
        <LI>Next message: <A HREF="029841.html">[Mono-dev] Ideas for Mono on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29837">[ date ]</a>
              <a href="thread.html#29837">[ thread ]</a>
              <a href="subject.html#29837">[ subject ]</a>
              <a href="author.html#29837">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
This is awesome news.

However, this doesn't change the fact that a Windows developer will have
to remember to change the makefiles if she contributes a patch with
files included/removed (and a Win developer usually doesn't know how to
do this as well).

But if you write your tool to be able to do the opposite thing as well,
you could just call it in the MSbuild files in order to change them as a
part of the build, right? If this can be done, even the non-Windows
developers that aren't used to AutoTools will benefit from it when
xbuild is finished.

	Andr&#233;s


Jonathan Chambers wrote:
&gt;<i> Paolo,
</I>&gt;<i>      Thanks for the response.
</I>&gt;<i> 
</I>&gt;<i> On Thu, Nov 13, 2008 at 9:01 AM, Paolo Molaro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>     On 11/11/08 Jonathan Chambers wrote:
</I>&gt;<i>     &gt; 1) We should consider using MSVC as the default compiler for C code on
</I>&gt;<i>     &gt; Windows. I can compile the entire Visual Studio solution for the
</I>&gt;<i>     runtime in
</I>&gt;<i>     &gt; minutes. It takes 20-30 seconds if I do a parallel build. We can
</I>&gt;<i>     also use
</I>&gt;<i>     &gt; the Visual Studio debugger on Windows, which IMO is betten than gdb on
</I>&gt;<i>     &gt; Windows.
</I>&gt;<i> 
</I>&gt;<i>     So this is already done by you, AFAIK. I even add new .c files to
</I>&gt;<i>     the MSVC build
</I>&gt;<i>     files (when I remember about it:).
</I>&gt;<i> 
</I>&gt;<i>     &gt; it). Another option is to moved to MSBuild/xbuild for the class
</I>&gt;<i>     libraries.
</I>&gt;<i> 
</I>&gt;<i>     I think you're taking it from the wrong side.
</I>&gt;<i>     There is no need to move the Linux build system to xbuild or whatever.
</I>&gt;<i>     As other have mentioned, the build files can be generated from the
</I>&gt;<i>     .sources files quite easily. You can write the conversion script in perl
</I>&gt;<i>     or even C# and we can have rules in the makefiles to run them
</I>&gt;<i>     automatically when the source files are modified.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     AFAIK, the only two things missing are:
</I>&gt;<i>     1) a windows developer that volunteers writing the script and
</I>&gt;<i>     MSBuild/xbuild files.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> I have started writing this tool in C#. It correctly generates a csproj
</I>&gt;<i> file from the Makefile and the &lt;library&gt;.dll.sources files. It already
</I>&gt;<i> works on most assemblies in mcs/class. I'm working on generating the
</I>&gt;<i> corresponding NUnit projects as well.I'll hopefully post something in a
</I>&gt;<i> couple of days.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     2) a windows developer that documents the thing for other windows
</I>&gt;<i>     developers so they are not tricked into going down the cygwin route
</I>&gt;<i>     anymore and just click on the right buttons instead.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> I can also look into this once a full build is working. Not to mention
</I>&gt;<i> the fact the xbuild needs a good bit of work.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     As you see we only need some windows developer to step up to the plate.
</I>&gt;<i>     I suggest starting to build the complete assemblies first, without
</I>&gt;<i>     going into the details of bootstrapping. This should take an hour or
</I>&gt;<i>     two. And then we (mostly hari I guess) can help with the bootstrap
</I>&gt;<i>     details.
</I>&gt;<i> 
</I>&gt;<i>     So, who volunteers?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I would appreciate any help offered by others ;-). Hacking on xbuild
</I>&gt;<i> (including contributing tests) would be expecially useful...
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Jonathan
</I>&gt;<i>  
</I>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029829.html">[Mono-dev] Ideas for Mono on Windows
</A></li>
	<LI>Next message: <A HREF="029841.html">[Mono-dev] Ideas for Mono on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29837">[ date ]</a>
              <a href="thread.html#29837">[ thread ]</a>
              <a href="subject.html#29837">[ subject ]</a>
              <a href="author.html#29837">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
