<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Contributing Code for ObservableCollection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Contributing%20Code%20for%20ObservableCollection&In-Reply-To=afb4df710811040539k7ac1032dp21230a9f767c5b29%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029629.html">
   <LINK REL="Next"  HREF="029633.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Contributing Code for ObservableCollection</H1>
    <B>Alan McGovern</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Contributing%20Code%20for%20ObservableCollection&In-Reply-To=afb4df710811040539k7ac1032dp21230a9f767c5b29%40mail.gmail.com"
       TITLE="[Mono-dev] Contributing Code for ObservableCollection">alan.mcgovern at gmail.com
       </A><BR>
    <I>Tue Nov  4 11:39:08 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029629.html">[Mono-dev] Branching for Mono 2.2 on Wednesday, November 5th,	2008...
</A></li>
        <LI>Next message: <A HREF="029633.html">[Mono-dev] Contributing Code for ObservableCollection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29630">[ date ]</a>
              <a href="thread.html#29630">[ thread ]</a>
              <a href="subject.html#29630">[ subject ]</a>
              <a href="author.html#29630">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, so here's my comments (so far ;) ):

1) Xml comments are a no-go in the source files. If you want to commit
documentation (which is always appreciated!) you should add it to monodoc
and submit it as a separate patch. It should be possible to import your XML
comments into monodoc automatically so you don't have to re-type them. Once
they've been imported to monodoc, you'll have to strip them from the source
files.

2) You've duplicated some of the helper methods in your tests
(ObservableCollectionTest/NotifyCollectionChangedEventArgsTest). You could
create a base class which implements this helper methods and just have your
two test fixtures inherit from this, or you could define the methods
publicly in some static class and reference them from there. Less
duplication == good.

3)
+            public void Enter()
+            {
+                count++;
+            }
+
+            public void Dispose()
+            {
+                count--;
+            }

In Reentrant, are you sure this is the right behaviour? Can you make a
testcase where you call BlockReentrancy twice and then double dispose the
object given from the first call. Also, it might be worth writing a test to
ensure the exact same object is returned every time.

Other than that, it looks good to commit. When you've completed those
changes, send the updated patch here and I'll get to work on committing it.

Thanks for the great work,
Alan.

On Tue, Nov 4, 2008 at 1:39 PM, Brian O'Keefe &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">zer0keefie at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> There are indeed 3 test case files; I forgot to svn add them.  I made a new
</I>&gt;<i> patch file with all of the files this time.  I'll attach the new one.
</I>&gt;<i>
</I>&gt;<i> ~Brian
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Nov 4, 2008 at 4:25 AM, Alan McGovern &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">alan.mcgovern at gmail.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hey,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Maybe i'm just confused, but in your original email you said there were 3
</I>&gt;&gt;<i> testcase files, but I'm only seeing 1 modified testcase file.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is this right, or did you forget to svn add the new files before you
</I>&gt;&gt;<i> submitted the patch?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i> Alan.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Mon, Nov 3, 2008 at 11:36 PM, Brian O'Keefe &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">zer0keefie at gmail.com</A>&gt;wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hello,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I've updated my code to conform to the coding guidelines.  My tests pass
</I>&gt;&gt;&gt;<i> under both mono and the MS framework.  I'll attach the patch file for my
</I>&gt;&gt;&gt;<i> changes.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> ~Brian
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Sat, Nov 1, 2008 at 6:59 PM, Alan McGovern &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">alan.mcgovern at gmail.com</A>&gt;wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Hey,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Read here: <A HREF="http://www.mono-project.com/Contributing">http://www.mono-project.com/Contributing</A> and also here
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://www.mono-project.com/Coding_Guidelines.">http://www.mono-project.com/Coding_Guidelines.</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Though my word is most definitely *not* the final word in any
</I>&gt;&gt;&gt;&gt;<i> discussion, I will say that if the code isn't covered by NUnit tests, it
</I>&gt;&gt;&gt;&gt;<i> won't be committed ;) So just ensure that for every method you've
</I>&gt;&gt;&gt;&gt;<i> implemented, there are one or more tests for it. From your email, it looks
</I>&gt;&gt;&gt;&gt;<i> like you've already done this, which is great!
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Also, just to verify, do all the tests pass when run under both the MS
</I>&gt;&gt;&gt;&gt;<i> framework and mono?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Thanks.
</I>&gt;&gt;&gt;&gt;<i> Alan.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 2008/11/1 Brian O'Keefe &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">zer0keefie at gmail.com</A>&gt;
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Hello,
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I've been following the Mono project for a while, and had some free
</I>&gt;&gt;&gt;&gt;&gt;<i> time, so I figured I'd use some of that time to contribute.  I've used the
</I>&gt;&gt;&gt;&gt;&gt;<i> ObservableCollection class frequently
</I>&gt;&gt;&gt;&gt;&gt;<i> (WindowsBase&gt;System.Collections.Specialized.ObservableCollection) and
</I>&gt;&gt;&gt;&gt;&gt;<i> noticed that it wasn't implemented in Mono.  This seemed like a fairly
</I>&gt;&gt;&gt;&gt;&gt;<i> simple class to implement, so I thought I'd start there.  I have some code
</I>&gt;&gt;&gt;&gt;&gt;<i> for ObservableCollection and its backing infrastructure (the
</I>&gt;&gt;&gt;&gt;&gt;<i> NotifyCollectionChanged* classes) and matching test cases.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> What would be the best way to contribute the changes I made?  There are
</I>&gt;&gt;&gt;&gt;&gt;<i> six modified files and three test case files.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> ~Brian
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081104/b0a8f878/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081104/b0a8f878/attachment.html</A> 
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029629.html">[Mono-dev] Branching for Mono 2.2 on Wednesday, November 5th,	2008...
</A></li>
	<LI>Next message: <A HREF="029633.html">[Mono-dev] Contributing Code for ObservableCollection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29630">[ date ]</a>
              <a href="thread.html#29630">[ thread ]</a>
              <a href="subject.html#29630">[ subject ]</a>
              <a href="author.html#29630">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
