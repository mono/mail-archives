<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Avoiding references to ExtensionAttribute so a program	is compatible with MS.NET 2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Avoiding%20references%20to%20ExtensionAttribute%20so%20a%20program%0A%09is%20compatible%20with%20MS.NET%202.0&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029875.html">
   <LINK REL="Next"  HREF="029865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Avoiding references to ExtensionAttribute so a program	is compatible with MS.NET 2.0</H1>
    <B>Avery Pennarun</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Avoiding%20references%20to%20ExtensionAttribute%20so%20a%20program%0A%09is%20compatible%20with%20MS.NET%202.0&In-Reply-To="
       TITLE="[Mono-dev] Avoiding references to ExtensionAttribute so a program	is compatible with MS.NET 2.0">apenwarr at gmail.com
       </A><BR>
    <I>Sun Nov 16 04:43:13 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029875.html">[Mono-dev] [PATCH] VB runtime: implement Asc and Chr correctly
</A></li>
        <LI>Next message: <A HREF="029865.html">[Mono-dev] Avoiding references to ExtensionAttribute so a program is compatible with MS.NET 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29863">[ date ]</a>
              <a href="thread.html#29863">[ thread ]</a>
              <a href="subject.html#29863">[ subject ]</a>
              <a href="author.html#29863">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm attempting to compile a C# program that uses extension methods using
mono, and have it run under both mono and MS.NET.

This works fine (gmcs 1.9.1.0) when the target Windows system is running
MS.NET 3.5, but not when running MS.NET 2.0.  The problem appears to be the
one described here:


<A HREF="http://ironpython-urls.blogspot.com/2008/10/ironpython-2-and-fifth-assembly.html">http://ironpython-urls.blogspot.com/2008/10/ironpython-2-and-fifth-assembly.html</A>

<A HREF="http://www.iamnotmyself.com/2008/09/22/UsingExtensionMethodsInNETFramework20.aspx">http://www.iamnotmyself.com/2008/09/22/UsingExtensionMethodsInNETFramework20.aspx</A>

If I understand correctly, creating an extension method results in your code
referring to an attribute that is only in System.Core v3.5.0.0 or higher.
However, this attribute doesn't actually do anything.

It appears that the solution the IronPython guys claim to have used won't
work with Mono, which seems to be pickier about allowing you to link when
there are duplicated attribute names.  However, since we have the source
code to mono, maybe there's an even easier solution: just add an option to
gmcs to deliberately leave out that attribute on extension methods.  Would
that work?

Perhaps this is something Cecil would be good for?  I've never used it and
don't really understand what it does.

Any pointers would be appreciated.  Requiring Windows users to install .Net
3.5 to use my app is a pretty bad idea, since the installer takes *forever*
to run, and most people don't want to touch system-level stuff like that
just to install an app.

Thanks,

Avery
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081116/72092a87/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20081116/72092a87/attachment.html</A> 
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029875.html">[Mono-dev] [PATCH] VB runtime: implement Asc and Chr correctly
</A></li>
	<LI>Next message: <A HREF="029865.html">[Mono-dev] Avoiding references to ExtensionAttribute so a program is compatible with MS.NET 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29863">[ date ]</a>
              <a href="thread.html#29863">[ thread ]</a>
              <a href="subject.html#29863">[ subject ]</a>
              <a href="author.html#29863">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
