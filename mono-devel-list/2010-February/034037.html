<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev]  Mono 2.6.1, Moonlight 2.0, ARM5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%20Mono%202.6.1%2C%20Moonlight%202.0%2C%20ARM5&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034139.html">
   <LINK REL="Next"  HREF="034038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev]  Mono 2.6.1, Moonlight 2.0, ARM5</H1>
    <B>technomage1972</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%20Mono%202.6.1%2C%20Moonlight%202.0%2C%20ARM5&In-Reply-To="
       TITLE="[Mono-dev]  Mono 2.6.1, Moonlight 2.0, ARM5">dellis1972 at googlemail.com
       </A><BR>
    <I>Thu Feb  4 08:33:26 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="034139.html">[Mono-dev]  Building Mono on Scratchbox2
</A></li>
        <LI>Next message: <A HREF="034038.html">[Mono-dev] Mono 2.6.1, Moonlight 2.0, ARM5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34037">[ date ]</a>
              <a href="thread.html#34037">[ thread ]</a>
              <a href="subject.html#34037">[ subject ]</a>
              <a href="author.html#34037">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi

I recently found a problem trying to run Moonlight on an ARM5 based
platform.

The full details are  <A HREF="http://old.nabble.com/Moonlight-on-ARM-td27255440.html">http://old.nabble.com/Moonlight-on-ARM-td27255440.html</A>
here .

Basically , after building and installing mono 2.6.1 and moonlight 2.0
running mopen simpleclock from the command line, the following is produced.

**
** ERROR:(mini-arm.c:2663):arm_patch_general: code should not be reached
Stacktrace:

  at Mono.NativeDependencyObjectHelper.Lookup (Mono.Kind,intptr)
&lt;0xffffffff&gt;
  at Mono.NativeDependencyObjectHelper.Lookup (Mono.Kind,intptr) &lt;0x000e8&gt;
  at System.Windows.Deployment.get_Current () &lt;0x0001b&gt;
  at System.Windows.DependencyProperty.LookupInternal
(Mono.Kind,string,System.Type,bool) &lt;0x00057&gt;
  at System.Windows.DependencyProperty.Lookup (Mono.Kind,string,System.Type)
&lt;0x0002f&gt;
  at System.Windows.Deployment..cctor () &lt;0x00037&gt;
  at (wrapper runtime-invoke) object.runtime_invoke_void
(object,intptr,intptr,intptr) &lt;0x0006b&gt;
  at Moonlight.Gtk.MoonlightHost.LoadXap (string) &lt;0xffffffff&gt;
  at Moonlight.Gtk.MoonlightHost.LoadXap (string) &lt;0x00028&gt;
  at MonoOpen.LoadXap (string,System.Collections.Generic.List`1&lt;string&gt;)
&lt;0x0037f&gt;
  at MonoOpen.DoLoad (string,System.Collections.Generic.List`1&lt;string&gt;)
&lt;0x000a7&gt;
  at MonoOpen.Main (string[]) &lt;0x00d1f&gt;
  at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_int_object
(object,intptr,intptr,intptr) &lt;0x00073&gt; 

I have tried to look into the code to find out what the issue is, but it
gets a bit confusing once you get into the native calls. Both normal mono
and winforms apps work correctly btw, this just affects moonlight. My Gut
feeling is that the moon native library is not being compiled with the
correct flags, having looked at the moonlight configure script there are
very few references to ARM in it (unlike the mono configure script).  

I did submit a but report 
<A HREF="https://bugzilla.novell.com/show_bug.cgi?id=573975">https://bugzilla.novell.com/show_bug.cgi?id=573975</A> here  but I'm sure there
are more important things for the Mono dev's to work on.

I'm quite happy to try to fix this issue myself  and post a patch (I have
the hardware) but I need some pointers to get started. So does anyone has
any suggestions?

Dean
-- 
View this message in context: <A HREF="http://old.nabble.com/Mono-2.6.1%2C-Moonlight-2.0%2C-ARM5-tp27452189p27452189.html">http://old.nabble.com/Mono-2.6.1%2C-Moonlight-2.0%2C-ARM5-tp27452189p27452189.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.

</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034139.html">[Mono-dev]  Building Mono on Scratchbox2
</A></li>
	<LI>Next message: <A HREF="034038.html">[Mono-dev] Mono 2.6.1, Moonlight 2.0, ARM5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34037">[ date ]</a>
              <a href="thread.html#34037">[ thread ]</a>
              <a href="subject.html#34037">[ subject ]</a>
              <a href="author.html#34037">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
