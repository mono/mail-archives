<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono.Simd.dll and operator*
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono.Simd.dll%20and%20operator%2A&In-Reply-To=4B781903.6050807%40inria.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034121.html">
   <LINK REL="Next"  HREF="034117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono.Simd.dll and operator*</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono.Simd.dll%20and%20operator%2A&In-Reply-To=4B781903.6050807%40inria.fr"
       TITLE="[Mono-dev] Mono.Simd.dll and operator*">kumpera at gmail.com
       </A><BR>
    <I>Wed Feb 17 17:12:44 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="034121.html">[Mono-dev] Mono.Simd.dll and operator*
</A></li>
        <LI>Next message: <A HREF="034117.html">[Mono-dev] Questions about csharp-sqlite - port of the SQLite	library from C to C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34143">[ date ]</a>
              <a href="thread.html#34143">[ thread ]</a>
              <a href="subject.html#34143">[ subject ]</a>
              <a href="author.html#34143">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Feb 14, 2010 at 1:38 PM, Erven Rohou &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">erven.rohou at inria.fr</A>&gt; wrote:

&gt;<i> Hi Rodrigo,
</I>&gt;<i>
</I>&gt;<i> Do you mean that Mono.Simd if for SSE only?
</I>&gt;<i>
</I>
Mono.Simd is meant to work with other hardware than x86. There are efforts
to port it to Altivec and NEON.

The point is that there is no advantage in using an operation that can't be
properly supported by the target cpu.
I expect that, for example, the Altivec support will result into a few new
methods been added that won't have
a decent translation with SSE.

Multiplication is an example of operations that there is no point in adding
if there is no hardware that supports it.
No matter how well our JIT does, it will be very slow if there is no
reasonable translation into what the hardware supports.
If there is a reasonable, even if not optimal, translation of a given
function, there is not reason why mono's JIT won't do it.



&gt;<i>
</I>&gt;<i> There is an ongoing effort to support AltiVec. What would be the right way
</I>&gt;<i> to support it in the library?
</I>&gt;<i>
</I>
The way to support it is to add specific operations that are Altivec only
and then check if it's doable to implement them
with SSE.



&gt;<i>
</I>&gt;<i> Wouldn't it make sense to provide generic functionality at the library
</I>&gt;<i> level, and then the JIT generates the best code sequence on any platform?
</I>&gt;<i>
</I>&gt;<i>
</I>We thought about that during the initial development of Mono.Simd and a few
issues were raised:

-There was no available similar library offering x-arch generic functionally
to us learn from;
-We had no expert in all the main simd hardware (x86, neon and altivec) to
help us;
-Our initial target was x86/amd64.

We decided that is was better to initially map only to SSE and fix the
design once other port happened. It was better to something out
that nothing at all.

Mono.SIMD is meant to be a low level library and we don't expect that much
code will be portable across hardware because if the idea
is to squeeze maximum performance, there will be multiple versions of the
same method, depending on what it's running on.

I don't pretend to know the answer for what will be the generic portable set
of functionality so I rather wait to see it emerges.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100217/dc738f62/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100217/dc738f62/attachment.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034121.html">[Mono-dev] Mono.Simd.dll and operator*
</A></li>
	<LI>Next message: <A HREF="034117.html">[Mono-dev] Questions about csharp-sqlite - port of the SQLite	library from C to C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34143">[ date ]</a>
              <a href="thread.html#34143">[ thread ]</a>
              <a href="subject.html#34143">[ subject ]</a>
              <a href="author.html#34143">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
