<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] RE: External entity resolution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20RE%3A%20External%20entity%20resolution&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015961.html">
   <LINK REL="Next"  HREF="015964.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] RE: External entity resolution</H1>
    <B>Konstantin Triger</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20RE%3A%20External%20entity%20resolution&In-Reply-To="
       TITLE="[Mono-dev] RE: External entity resolution">kostat at mainsoft.com
       </A><BR>
    <I>Tue Nov 22 10:14:50 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015961.html">[Mono-dev] Re: XPath iterator problem
</A></li>
        <LI>Next message: <A HREF="015964.html">[Mono-dev] SWF, gtk#, OSX, Linux, Win32, GUI's thougths?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15962">[ date ]</a>
              <a href="thread.html#15962">[ thread ]</a>
              <a href="subject.html#15962">[ subject ]</a>
              <a href="author.html#15962">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Eno,

Yep, you are right, we have more problems here: if someone retrieves the
Entity object using DOM, it will be never resolved... So the direction
looks good, but there is more work to do. May be we will consider to
continue it at a later stage.

Regards,
Konstantin Triger


-----Original Message-----
From: Atsushi Eno [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">atsushi at ximian.com</A>] 
Sent: Thursday, November 17, 2005 4:22 PM
To: Konstantin Triger
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Subject: Re: External entity resolution

Hi Kosta,

I think the idea that entity declaration does not have to resolve
the actual entity until it is referenced is nice to do.
But the patch breaks several tests with NullReferenceException.
Can you please run &quot;make run-test&quot; in System.XML and hopefully
in System.XML/Test/System.Xml/standalone_tests? Andrew made a
pretty useful NUnit integration there.

Thanks,
Atsushi Eno

Konstantin Triger wrote:
&gt;<i> Hello Eno,
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> We fail to load the following xml:
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> &lt;!DOCTYPE doc [
</I>&gt;<i> 
</I>&gt;<i> &lt;!ENTITY e PUBLIC &quot;;!*#@$_%&quot; &quot;100.xml&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;!ELEMENT doc (#PCDATA)&gt;
</I>&gt;<i> 
</I>&gt;<i> ]&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;doc&gt;&lt;/doc&gt;
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> The reason is that we try to set the entity content when it's declared
</I>&gt;<i> and not when it's referenced.
</I>&gt;<i> 
</I>&gt;<i> The attached patch fixes the issue.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> BTW, do we need to resolve it before it's referenced? I guess no... So
</I>&gt;<i> the LiteralEntityValue should be empty and we need to create a
</I>XmlReader
&gt;<i> based on SystemId and read the data when requested...
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Konstantin Triger
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015961.html">[Mono-dev] Re: XPath iterator problem
</A></li>
	<LI>Next message: <A HREF="015964.html">[Mono-dev] SWF, gtk#, OSX, Linux, Win32, GUI's thougths?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15962">[ date ]</a>
              <a href="thread.html#15962">[ thread ]</a>
              <a href="subject.html#15962">[ subject ]</a>
              <a href="author.html#15962">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
