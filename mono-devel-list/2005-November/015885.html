<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] how to improve mono performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20how%20to%20improve%20mono%20performance&In-Reply-To=1132210611.32018.185.camel%40omega.res.cmu.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015851.html">
   <LINK REL="Next"  HREF="015887.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] how to improve mono performance</H1>
    <B>zhu shi song</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20how%20to%20improve%20mono%20performance&In-Reply-To=1132210611.32018.185.camel%40omega.res.cmu.edu"
       TITLE="[Mono-dev] how to improve mono performance">zhushisongzhu at yahoo.com
       </A><BR>
    <I>Fri Nov 18 00:09:51 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015851.html">[Mono-dev] how to improve mono performance
</A></li>
        <LI>Next message: <A HREF="015887.html">[Mono-dev] how to improve mono performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15885">[ date ]</a>
              <a href="thread.html#15885">[ thread ]</a>
              <a href="subject.html#15885">[ subject ]</a>
              <a href="author.html#15885">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>(1) I feel a little disappointed at the comparsion
results.  I think we should not only prove we can do
this but we can do even better.  The performance fact
is very essential for production applications.  I hope
the mono community can improve performance of mono
largely. Then mono will be depoyed in many real apps. 
We have spent so much effort on it, we shouldn't let
it be reference implementation just for lab.
(2) when I use msft's csc to compile compare.cs, then
I run under linux+mono.  I just got 10% faster than
that compiled by mono mcs. So maybe mono's jit is not
so good as msft's.

  tks
  zhu


--- Ben Maurer &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bmaurer at ximian.com</A>&gt; wrote:

&gt;<i> On Wed, 2005-11-16 at 20:30 -0800, zhu shi song
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; I've got one test example and tested it using
</I>&gt;<i> linux
</I>&gt;<i> &gt; mono and windows .NET on the same machine.  The
</I>&gt;<i> &gt; results showed that the performance of linux mono
</I>&gt;<i> is
</I>&gt;<i> &gt; much bad than windows .NET. 
</I>&gt;<i> &gt; Linux Mono:
</I>&gt;<i> &gt;  ArrayList strings test.............3311 ms
</I>&gt;<i> &gt;  StringBuilder test.................4008 ms
</I>&gt;<i> &gt;  Integer &amp; Floating ADD.............15145 ms
</I>&gt;<i> &gt;  Exception test.....................621 ms
</I>&gt;<i> &gt;  Reflection and recursion...........9421 ms
</I>&gt;<i> &gt; Windows .Net:
</I>&gt;<i> &gt;  ArrayList strings test.............1109 ms
</I>&gt;<i> &gt;  StringBuilder test.................1437 ms
</I>&gt;<i> &gt;  Integer &amp; Floating ADD.............2734 ms
</I>&gt;<i> &gt;  Exception test.....................4046 ms
</I>&gt;<i> &gt;  Reflection and recursion...........5843 ms
</I>&gt;<i> &gt; Machine configuration:
</I>&gt;<i> &gt;  RAM: 512M DDR
</I>&gt;<i> &gt;  CPU: Intel C4 2.0G
</I>&gt;<i> &gt; OS:
</I>&gt;<i> &gt;  Windows 2003 Server .NET 1.1 Framework
</I>&gt;<i> &gt;  Fedora Core 4 with mono compiled from svn
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Now I try to port my aspx web application to linux
</I>&gt;<i> &gt; mono from windows 2003 .net framework.  But
</I>&gt;<i> regarding
</I>&gt;<i> &gt; of performance, I wonder whether it is deserved.
</I>&gt;<i> &gt;   Maybe I lack some tips to improve linux mono
</I>&gt;<i> &gt; performance.  If someone knows pls help me.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Chances are, your web application does not add items
</I>&gt;<i> to an array, create
</I>&gt;<i> stringbuilders, add integers, throw exceptions and
</I>&gt;<i> do reflection
</I>&gt;<i> anything like the tests you have configured. I would
</I>&gt;<i> suggest
</I>&gt;<i> benchmarking a ported application rather than these
</I>&gt;<i> micro measurements.
</I>&gt;<i> If you want to do such measurements, I would
</I>&gt;<i> recommend something more
</I>&gt;<i> relevant to your application (database accesses? the
</I>&gt;<i> asp.net pipeline?)
</I>&gt;<i> 
</I>&gt;<i> That being said, some possible reasons for slowness:
</I>&gt;<i> 
</I>&gt;<i> ArrayList/StringBuilder:
</I>&gt;<i> 	Likely the GC.
</I>&gt;<i> 
</I>&gt;<i> Floating Point:
</I>&gt;<i> 	I think msft may be taking advantage of some
</I>&gt;<i> special hardware stuff. I
</I>&gt;<i> highly doubt this is relevant to your application.
</I>&gt;<i> 
</I>&gt;<i> Exceptions:
</I>&gt;<i> 	We super optimized this path :-)
</I>&gt;<i> 
</I>&gt;<i> Reflection:
</I>&gt;<i> 	Not sure, might be worth looking at
</I>&gt;<i> 
</I>&gt;<i> -- Ben
</I>&gt;<i> 
</I>&gt;<i> 
</I>

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015851.html">[Mono-dev] how to improve mono performance
</A></li>
	<LI>Next message: <A HREF="015887.html">[Mono-dev] how to improve mono performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15885">[ date ]</a>
              <a href="thread.html#15885">[ thread ]</a>
              <a href="subject.html#15885">[ subject ]</a>
              <a href="author.html#15885">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
