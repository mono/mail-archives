<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Re: External entity resolution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20External%20entity%20resolution&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D02233A10%40dhost002-45.dex002.intermedia.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015853.html">
   <LINK REL="Next"  HREF="015854.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Re: External entity resolution</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20External%20entity%20resolution&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D02233A10%40dhost002-45.dex002.intermedia.net"
       TITLE="[Mono-dev] Re: External entity resolution">atsushi at ximian.com
       </A><BR>
    <I>Thu Nov 17 09:21:51 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015853.html">[Mono-dev] External entity resolution
</A></li>
        <LI>Next message: <A HREF="015854.html">[Mono-dev] Gnome.Vfs Initialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15862">[ date ]</a>
              <a href="thread.html#15862">[ thread ]</a>
              <a href="subject.html#15862">[ subject ]</a>
              <a href="author.html#15862">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Kosta,

I think the idea that entity declaration does not have to resolve
the actual entity until it is referenced is nice to do.
But the patch breaks several tests with NullReferenceException.
Can you please run &quot;make run-test&quot; in System.XML and hopefully
in System.XML/Test/System.Xml/standalone_tests? Andrew made a
pretty useful NUnit integration there.

Thanks,
Atsushi Eno

Konstantin Triger wrote:
&gt;<i> Hello Eno,
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> We fail to load the following xml:
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> &lt;!DOCTYPE doc [
</I>&gt;<i> 
</I>&gt;<i> &lt;!ENTITY e PUBLIC &quot;;!*#@$_%&quot; &quot;100.xml&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;!ELEMENT doc (#PCDATA)&gt;
</I>&gt;<i> 
</I>&gt;<i> ]&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;doc&gt;&lt;/doc&gt;
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> The reason is that we try to set the entity content when it's declared
</I>&gt;<i> and not when it's referenced.
</I>&gt;<i> 
</I>&gt;<i> The attached patch fixes the issue.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> BTW, do we need to resolve it before it's referenced? I guess no... So
</I>&gt;<i> the LiteralEntityValue should be empty and we need to create a XmlReader
</I>&gt;<i> based on SystemId and read the data when requested...
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Konstantin Triger
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015853.html">[Mono-dev] External entity resolution
</A></li>
	<LI>Next message: <A HREF="015854.html">[Mono-dev] Gnome.Vfs Initialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15862">[ date ]</a>
              <a href="thread.html#15862">[ thread ]</a>
              <a href="subject.html#15862">[ subject ]</a>
              <a href="author.html#15862">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
