<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] patch for Mono.Cairo to rename Graphics to Context
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20patch%20for%20Mono.Cairo%20to%20rename%20Graphics%20to%20Context&In-Reply-To=1133282150.15377.7.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016030.html">
   <LINK REL="Next"  HREF="016036.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] patch for Mono.Cairo to rename Graphics to Context</H1>
    <B>Ben Maurer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20patch%20for%20Mono.Cairo%20to%20rename%20Graphics%20to%20Context&In-Reply-To=1133282150.15377.7.camel%40localhost.localdomain"
       TITLE="[Mono-dev] patch for Mono.Cairo to rename Graphics to Context">bmaurer at ximian.com
       </A><BR>
    <I>Tue Nov 29 13:59:46 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="016030.html">[Mono-dev] patch for Mono.Cairo to rename Graphics to Context
</A></li>
        <LI>Next message: <A HREF="016036.html">[Mono-dev] Problem with System.Data on linux mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16027">[ date ]</a>
              <a href="thread.html#16027">[ thread ]</a>
              <a href="subject.html#16027">[ subject ]</a>
              <a href="author.html#16027">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2005-11-29 at 10:35 -0600, Mike Kestner wrote:
&gt;<i> 
</I>&gt;<i> We are already exposing Cairo.Graphics in the 2.7.1 release of Gtk#.
</I>&gt;<i> It's an unstable release, so I can change the symbol still, but the
</I>&gt;<i> change as posted would break 2.7.1 on newer mono releases.
</I>&gt;<i> 
</I>&gt;<i> If this change is going to be made, at the very least I would suggest
</I>&gt;<i> adding something like:
</I>&gt;<i> 
</I>&gt;<i> [Obsolete (&quot;Replaced by Cairo.Context&quot;)]
</I>&gt;<i> public class Graphics : Context {}
</I>&gt;<i> 
</I>&gt;<i> That would at least give source compat, if not runtime compat. But I
</I>&gt;<i> don't personally think it's worth changing just to be consistent with
</I>&gt;<i> other language bindings.
</I>
I really hope we aren't considering the Cairo bindings to be stable
right now. I took a quick look and found a few api issues:

      * Things like Point are classes not structs. This is confusing as
        all the other graphics apis (S.Drawing, Gdk) use structs.
      * Point, Color, etc use public fields rather than properties. For
        example, Color should probably check that r,g,b,a are &lt;= 1.0.
      * There are many apis to do the same thing:


		// FIXME should be made into a property
                public void FontSetSize (double size)
                {
                        CairoAPI.cairo_set_font_size (state, size);
                }

		public double FontSize {
			set { CairoAPI.cairo_set_font_size (state, value); }
		}
		
		public void SetFontSize (double scale)
		{
			CairoAPI.cairo_set_font_size (state, scale);
		}



		public void SelectFontFace (string family, FontSlant slant, FontWeight weight)
		{
			CairoAPI.cairo_select_font_face (state, family, slant, weight);
		}
		
		public void FontFace (string family, FontSlant s, FontWeight w)
		{
			CairoAPI.cairo_select_font_face (state, family, s, w);
		}


                public IntPtr Handle {
                        get {
				return surface;
			}
                }
                public IntPtr Pointer {
                        get {
				return surface;
			}
                }

      * Other todos in the API, (See Graphics.cs around line 531).
      * Inconsistent following of API guidelines wrt case of API names:
              * public Cairo.Color ColorRgb {
              * public void SetSourceRGB (double r, double g, double b
              * (Micorosft uses public static Color FromArgb (int argb))
                

In short, I don't think this API has had the level of auditing needed to
declare it stable. If we consider the current API to be stable, we will
be left with binding full of [Obsolete] methods and riddled with some
unfixable issues.

-- Ben



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016030.html">[Mono-dev] patch for Mono.Cairo to rename Graphics to Context
</A></li>
	<LI>Next message: <A HREF="016036.html">[Mono-dev] Problem with System.Data on linux mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16027">[ date ]</a>
              <a href="thread.html#16027">[ thread ]</a>
              <a href="subject.html#16027">[ subject ]</a>
              <a href="author.html#16027">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
