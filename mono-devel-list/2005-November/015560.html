<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] ( ping lupus) IL code doubts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%28%20ping%20lupus%29%20IL%20code%20doubts&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015559.html">
   <LINK REL="Next"  HREF="015568.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] ( ping lupus) IL code doubts</H1>
    <B>Shankari</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%28%20ping%20lupus%29%20IL%20code%20doubts&In-Reply-To="
       TITLE="[Mono-dev] ( ping lupus) IL code doubts">shankari82 at yahoo.com
       </A><BR>
    <I>Tue Nov  1 19:42:12 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015559.html">[Mono-dev] [PATCH] Friend access for class members
</A></li>
        <LI>Next message: <A HREF="015568.html">[Mono-dev] Re: [Mono-list] ( ping lupus) IL code doubts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15560">[ date ]</a>
              <a href="thread.html#15560">[ thread ]</a>
              <a href="subject.html#15560">[ subject ]</a>
              <a href="author.html#15560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am trying to get the base of unmanaged stack, the reason I want this is because i am sandboxing my C code so that it doesnt write to managed heap and stack.
I got the value of the esp at the beginning of the C program (via assembly instructions) but (as jonp said) at this point the  local variables are already on the unmanaged stack.
 
Is there any way to get to the beginning of the unmanaged stack?

( I tried inserting extra marker arguments in (emit_wrapper) so that I can get to it in C code, but I totally broke mono compilation !!  )

Also, to insert an ARGUMENT of type  say at runtime,   valuetype PlatformInvokeTest/DataObj*   V_4. (Need to generate Il code to declare a pointer to the user defined structure)
should i use:    
 um_ptr = mono_mb_add_local (mb, &amp;mono_defaults.int_class-&gt;byval_arg);
or      um_ptr = mono_mb_add_local (mb, &amp;(pclass-&gt;byval_arg));
 
 
Thank you very much,
shankari

		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20051101/8cf2607a/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20051101/8cf2607a/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015559.html">[Mono-dev] [PATCH] Friend access for class members
</A></li>
	<LI>Next message: <A HREF="015568.html">[Mono-dev] Re: [Mono-list] ( ping lupus) IL code doubts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15560">[ date ]</a>
              <a href="thread.html#15560">[ thread ]</a>
              <a href="subject.html#15560">[ subject ]</a>
              <a href="author.html#15560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
