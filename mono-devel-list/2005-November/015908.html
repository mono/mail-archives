<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] how to improve mono performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20how%20to%20improve%20mono%20performance&In-Reply-To=1132345509.6972.557.camel%40linux.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015901.html">
   <LINK REL="Next"  HREF="015890.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] how to improve mono performance</H1>
    <B>Maxime de Lavenne</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20how%20to%20improve%20mono%20performance&In-Reply-To=1132345509.6972.557.camel%40linux.site"
       TITLE="[Mono-dev] how to improve mono performance">max at tfbc.com
       </A><BR>
    <I>Fri Nov 18 17:34:24 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015901.html">[Mono-dev] how to improve mono performance
</A></li>
        <LI>Next message: <A HREF="015890.html">[Mono-dev] how to improve mono performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15908">[ date ]</a>
              <a href="thread.html#15908">[ thread ]</a>
              <a href="subject.html#15908">[ subject ]</a>
              <a href="author.html#15908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'd like to point out that the arrival of his requests probably follows a
poisson distribution anyway. In which case, his probability of getting more
than 9 requests per second is null.  So, it stays really reasonable... And
WAY under the limit of 732 req/sec for ASP that Miguel just mentioned.

You can verify this alegation by looking at the analysis below if anyone
feels like it ;). I may be wrong.

Max

======================================
requests:
20000

service:
4:30:00  hh:mm:ss
16200    seconds

Avg request/second:
1.23

Concurrent |  Poisson    | Requests  
Req/sec    | probability | concerned 
-----------+-------------+-----------
   0       |   29.10%    |   5819    
   1       |   35.92%    |   7184
   2       |   22.17%    |   4435
   3       |    9.12%    |   1825
   4       |    2.82%    |    563
   5       |    0.70%    |    139
   6       |    0.14%    |     29
   7       |    0.03%    |      5
   8       |    0.00%    |      1
-----------+-------------+-----------
              100.00%       20000

Basically, 5919 requests have 29.1% chance to be the only request in the
system for a second, and so on...
(based on the excel poisson distrib, with 1.23 as the mean and a cumul of 0)


-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A> 
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] On Behalf Of 
Miguel de Icaza
Sent: Friday, November 18, 2005 12:25 PM
To: zhu shi song
Cc: Atsushi Eno; Ben Maurer; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Subject: Re: [Mono-dev] how to improve mono performance

Hello,

&gt;<i>   I insist that performance is the key factor for key applications.  
</I>&gt;<i> For example, we now have one enterprise web query application. Every 
</I>&gt;<i> day between 8:30AM and 12:00AM, it serve about 20000 
</I>requests.  Now we 
&gt;<i> use one P4 2.6G PC Server with 512M DDR running Windows
</I>&gt;<i> 2003 Server, it works well.  If we port it to Linux + Mono, we must 
</I>&gt;<i> upgrade the hardware to meet the same workload.
</I>
Ben did a fantastic job in pointing out that 1.5 request per second is
hardly a lot.   

For ASP.NET applications, my laptop (a 2.0 Ghz with a much 
slower configuration than your server) can dispatch 732 ASP.NET 
requests per
second.   The sample &quot;TestService&quot; web service page which puts a bunch
of controls into a page comes out at 371 requests per second.

Which puts Mono at handling 4.41 million request per second in the time
frame that you described.   So, 220 times the load that you have today
on your site.

So for all intents and purposes Mono 1.1.10 should be able to 
cope with your load just fine.

We are still working to improve Mono's speed (see my status 
report on my blog for details about what we are doing), but you 
hardly need these improvements today.  Other people might.

Miguel.
_______________________________________________
Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015901.html">[Mono-dev] how to improve mono performance
</A></li>
	<LI>Next message: <A HREF="015890.html">[Mono-dev] how to improve mono performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15908">[ date ]</a>
              <a href="thread.html#15908">[ thread ]</a>
              <a href="subject.html#15908">[ subject ]</a>
              <a href="author.html#15908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
