<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Unmanaged pointer verification
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Unmanaged%20pointer%20verification&In-Reply-To=00b001c7b1e2%2455265810%240100a8c0%40kornelpal.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023921.html">
   <LINK REL="Next"  HREF="023923.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Unmanaged pointer verification</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Unmanaged%20pointer%20verification&In-Reply-To=00b001c7b1e2%2455265810%240100a8c0%40kornelpal.hu"
       TITLE="[Mono-dev] [PATCH] Unmanaged pointer verification">kumpera at gmail.com
       </A><BR>
    <I>Mon Jun 18 16:33:32 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023921.html">[Mono-dev] [PATCH] Unmanaged pointer verification
</A></li>
        <LI>Next message: <A HREF="023923.html">[Mono-dev] [PATCH] Unmanaged pointer verification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23922">[ date ]</a>
              <a href="thread.html#23922">[ thread ]</a>
              <a href="subject.html#23922">[ subject ]</a>
              <a href="author.html#23922">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Korn&#233;l,

My understanding of the spec and what verifiable code is, was that
verifiable code could take unmanaged pointers and pass then along, only
dereference, math and taking the address were the forbidden operations. But
if it's common knowledge that verifiable code cannot even touch unmanaged,
then I'm cool with that :) Thanks for pointing me to this fact.

Cheers,
Rodrigo



On 6/18/07, Korn&#233;l P&#225;l &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kornelpal at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Unmanaged pointers are unverifiable that is documented in the standard.
</I>&gt;<i>
</I>&gt;<i> Korn&#233;l
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Rodrigo Kumpera&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kumpera at gmail.com</A>&gt;
</I>&gt;<i> To: &quot;Mono devel list&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i> Sent: Monday, June 18, 2007 9:43 PM
</I>&gt;<i> Subject: [Mono-dev] [PATCH] Unmanaged pointer verification
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Hi everyone.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The attached patch makes the verifier perform unmanaged pointer
</I>&gt;<i> &gt; verification
</I>&gt;<i> &gt; on local/argument load.
</I>&gt;<i> &gt; This behavior is not exactly evident by the spec, but testing with the
</I>&gt;<i> &gt; msft
</I>&gt;<i> &gt; version, it fails to verify code like:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; .method public static void Foo() cil managed
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;        .maxstack 2
</I>&gt;<i> &gt;        .locals init (
</I>&gt;<i> &gt;             int32 * V_0
</I>&gt;<i> &gt;        )
</I>&gt;<i> &gt;        ldloc.0
</I>&gt;<i> &gt;        pop
</I>&gt;<i> &gt;        ret
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Should I add comments somewhere (code/wiki/?) to hightlight this fact?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cheers,
</I>&gt;<i> &gt; Rodrigo
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --------------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070618/2d06f0a6/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070618/2d06f0a6/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023921.html">[Mono-dev] [PATCH] Unmanaged pointer verification
</A></li>
	<LI>Next message: <A HREF="023923.html">[Mono-dev] [PATCH] Unmanaged pointer verification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23922">[ date ]</a>
              <a href="thread.html#23922">[ thread ]</a>
              <a href="subject.html#23922">[ subject ]</a>
              <a href="author.html#23922">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
