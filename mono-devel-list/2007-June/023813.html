<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] PATCH: Make Process.Start() use the	same	'mono'runtime
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20PATCH%3A%20Make%20Process.Start%28%29%20use%20the%0A%09same%09%27mono%27runtime&In-Reply-To=11904-20964%40sneakemail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023809.html">
   <LINK REL="Next"  HREF="023818.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] PATCH: Make Process.Start() use the	same	'mono'runtime</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20PATCH%3A%20Make%20Process.Start%28%29%20use%20the%0A%09same%09%27mono%27runtime&In-Reply-To=11904-20964%40sneakemail.com"
       TITLE="[Mono-dev] PATCH: Make Process.Start() use the	same	'mono'runtime">miguel at novell.com
       </A><BR>
    <I>Tue Jun  5 00:23:45 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023809.html">[Mono-dev] PATCH: Make Process.Start() use the same	'mono'runtime
</A></li>
        <LI>Next message: <A HREF="023818.html">[Mono-dev] PATCH: Make Process.Start() use thesame'mono'runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23813">[ date ]</a>
              <a href="thread.html#23813">[ thread ]</a>
              <a href="subject.html#23813">[ subject ]</a>
              <a href="author.html#23813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> I still prefer the environment variable approach. Are there any serious
</I>&gt;<i> disadvantages? Here are some additional thoughts:
</I>
And I still think that we will use a hardcoded value for the
interpreter.

&gt;<i> - If it isn't going to work to have the code inside CreateProcess, then if
</I>&gt;<i> it is implemented using an environment variable, the code for detecting CLR
</I>&gt;<i> binaries can be 100% managed. The only downside is that the logic for
</I>&gt;<i> determining the full path to the binary then needs to be duplicated, but it
</I>&gt;<i> needs to be duplicated anyway if the implementation can't be inside
</I>&gt;<i> CreateProcess, and if this is done in managed code, it can take advantage
</I>&gt;<i> of things like Path.GetFullName().
</I>
I think we can keep the code inside CreateProcess,

&gt;<i> - Tools can be written to compare behaviour and/or performance of .NET
</I>&gt;<i> applications across different runtimes. For instance, on UNIX, code aware
</I>&gt;<i> of the behaviour could select between mono and DotGNU by setting the
</I>&gt;<i> environment variable. 
</I>
Tools to do that can much more easily specify the runtime to use by
calling the specific interpreter instead of depending on yet another
obscure environment variable that if we are remotely lucky will be
documented.

Ie, Process.Start (&quot;mono program.exe&quot;) and Process.Start (&quot;clix
program.exe&quot;) much easier than setting the environment and then calling
program.exe

&gt;<i> Similarly, on Windows, code could select between mono
</I>&gt;<i> and the MS .NET framework by clearing and re-setting the environment
</I>&gt;<i> variable. Also, on any platform, performance comparisons could be easily
</I>&gt;<i> done in an automated fashion between different versions of mono installed
</I>&gt;<i> side-by-side.
</I>
This is arguably the only possible use for this setup and am not
convinced that supporting the extra feature/bloat is worth it.

&gt;<i> Shall I rework the patch to do the check directly inside
</I>&gt;<i> System.Diagnostics.Process.Start?
</I>
I think your current patch is fine, I only ask you for either:

	* Sign a copyright assignment form, so we can get the code
	  in the runtime.

	* License the patch under the MIT X11 code, so we are allowed
	  to relicense it.

Miguel

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023809.html">[Mono-dev] PATCH: Make Process.Start() use the same	'mono'runtime
</A></li>
	<LI>Next message: <A HREF="023818.html">[Mono-dev] PATCH: Make Process.Start() use thesame'mono'runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23813">[ date ]</a>
              <a href="thread.html#23813">[ thread ]</a>
              <a href="subject.html#23813">[ subject ]</a>
              <a href="author.html#23813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
