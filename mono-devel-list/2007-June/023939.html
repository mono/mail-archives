<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Error in UnixGroupInfo
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Error%20in%20UnixGroupInfo&In-Reply-To=dd99b8c80706200557q44ab88dfu950ad54e4bb17d6e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023938.html">
   <LINK REL="Next"  HREF="023943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Error in UnixGroupInfo</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Error%20in%20UnixGroupInfo&In-Reply-To=dd99b8c80706200557q44ab88dfu950ad54e4bb17d6e%40mail.gmail.com"
       TITLE="[Mono-dev] Error in UnixGroupInfo">monoman at gmail.com
       </A><BR>
    <I>Wed Jun 20 09:11:41 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023938.html">[Mono-dev] Error in UnixGroupInfo
</A></li>
        <LI>Next message: <A HREF="023943.html">[Mono-dev] Error in UnixGroupInfo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23939">[ date ]</a>
              <a href="thread.html#23939">[ thread ]</a>
              <a href="subject.html#23939">[ subject ]</a>
              <a href="author.html#23939">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Another variation to keep UnixUserInfo sealed, is to make the the
class itself accept an invalid name or a -1 as the user id, and throw
on any unknown property, except UserId (so sometimes the Name would
also be available, which helps pinpoint the failures, didn't follow
the GetMembers code to see if this would be the case).

:<i>)
</I>
On 6/20/07, Rafael Teixeira &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">monoman at gmail.com</A>&gt; wrote:
&gt;<i> An alternative is to return 'dummy' members for the missing ones in
</I>&gt;<i> GetMembers, aka
</I>&gt;<i> Fowler's Special Case pattern, from the PoEAA book.
</I>&gt;<i> For invalid users, return an instance of a subclass of
</I>&gt;<i> Mono.Unix.UnixUserInfo, that returns UserId as -1, or some other
</I>&gt;<i> invalid value. Also all other properties except Name would also have
</I>&gt;<i> neutral or invalid values, and methods would do/return nothing, for
</I>&gt;<i> this subclass.
</I>&gt;<i>
</I>&gt;<i> Just my 2 cents,
</I>&gt;<i>
</I>&gt;<i> On 6/20/07, Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jonpryor at vt.edu</A>&gt; wrote:
</I>&gt;<i> &gt; On Wed, 2007-06-20 at 11:30 +0200, pablosantosluac wrote:
</I>&gt;<i> &gt; &gt; I have found an issue with Mono.Unix.UnixGroupInfo.GetMembers().
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; This method is meant to return the UnixUserInfo for the members of the given
</I>&gt;<i> &gt; &gt; unix group. The issue arises when a system has an unexistent username
</I>&gt;<i> &gt; &gt; defined in the group file.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; This is rather frequent, especially in a NIS environment (lazy admins).
</I>&gt;<i> &gt; &gt; Normal unix behavior is to ignore the user and continue.
</I>&gt;<i> &gt; &gt; UnixGroupInfo.GetMembers() raises an 'invalid username' exception, and there
</I>&gt;<i> &gt; &gt; is no way to retrieve the rest of the users in the group.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Is it right to absorb the exception in this method and continue resolving
</I>&gt;<i> &gt; &gt; other users?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Good question.  I imagine that it would be more user-friendly to eat the
</I>&gt;<i> &gt; ArgumentException and return what it can, but it would then mean that
</I>&gt;<i> &gt; the only way to know that there are invalid entries in the group file is
</I>&gt;<i> &gt; to compare UnixUserInfo.GetMembers().Length to
</I>&gt;<i> &gt; UnixUserInfo.GetMemberNames().Length.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Then again, is knowing that the group file has an invalid entry a common
</I>&gt;<i> &gt; scenario that should be documented?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Opinions?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt;  - Jon
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Rafael &quot;Monoman&quot; Teixeira
</I>&gt;<i> ---------------------------------------
</I>&gt;<i> &quot;The reasonable man adapts himself to the world; the unreasonable one
</I>&gt;<i> persists in trying to adapt the world to himself. Therefore all
</I>&gt;<i> progress depends on the unreasonable man.&quot; George Bernard Shaw
</I>&gt;<i>
</I>

-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
&quot;The reasonable man adapts himself to the world; the unreasonable one
persists in trying to adapt the world to himself. Therefore all
progress depends on the unreasonable man.&quot; George Bernard Shaw

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023938.html">[Mono-dev] Error in UnixGroupInfo
</A></li>
	<LI>Next message: <A HREF="023943.html">[Mono-dev] Error in UnixGroupInfo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23939">[ date ]</a>
              <a href="thread.html#23939">[ thread ]</a>
              <a href="subject.html#23939">[ subject ]</a>
              <a href="author.html#23939">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
