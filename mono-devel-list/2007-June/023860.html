<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono profiler and exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20profiler%20and%20exceptions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023907.html">
   <LINK REL="Next"  HREF="023861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono profiler and exceptions</H1>
    <B>Sanghyeon Seo</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20profiler%20and%20exceptions&In-Reply-To="
       TITLE="[Mono-dev] Mono profiler and exceptions">sanxiyn at gmail.com
       </A><BR>
    <I>Sat Jun  9 22:13:33 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023907.html">[Mono-dev] [PATCH] NestedContainer implementation + tests
</A></li>
        <LI>Next message: <A HREF="023861.html">[Mono-dev] Mono profiler and exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23860">[ date ]</a>
              <a href="thread.html#23860">[ thread ]</a>
              <a href="subject.html#23860">[ subject ]</a>
              <a href="author.html#23860">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Still working on my Mono profiler for IronPython project. I noticed
that when the method is left by throwing an exception,
mono_profiler_method_leave is not called. That is,

a() { throw new Exception(); }
b() {}
c() { try { a(); } catch {} b(); }

produces: enter c, enter a, enter b, leave b, leave c. In other words,
leave callback for method a is never called, and enter calls and leave
calls don't match.

MONO_PROFILE_EXCEPTIONS is defined in mono/metadata/profiler.h. This
doesn't seem to do anything, since grep turns up nothing.

1. Is this intended?
2. If it is intended, how does one get an accurate call stack? My
naive implementation results in &quot;b is called by a&quot;, when in fact it is
called by c.

-- 
Seo Sanghyeon

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023907.html">[Mono-dev] [PATCH] NestedContainer implementation + tests
</A></li>
	<LI>Next message: <A HREF="023861.html">[Mono-dev] Mono profiler and exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23860">[ date ]</a>
              <a href="thread.html#23860">[ thread ]</a>
              <a href="subject.html#23860">[ subject ]</a>
              <a href="author.html#23860">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
