<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev]  custom mscorlib.dll with fields in .Array
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%20custom%20mscorlib.dll%20with%20fields%20in%20.Array&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032351.html">
   <LINK REL="Next"  HREF="032349.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev]  custom mscorlib.dll with fields in .Array</H1>
    <B>banan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%20custom%20mscorlib.dll%20with%20fields%20in%20.Array&In-Reply-To="
       TITLE="[Mono-dev]  custom mscorlib.dll with fields in .Array">bann-andrej at mail.ru
       </A><BR>
    <I>Fri Jun  5 05:13:59 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032351.html">[Mono-dev]  System.EntryPointNotFoundException: #125
</A></li>
        <LI>Next message: <A HREF="032349.html">[Mono-dev] custom mscorlib.dll with fields in .Array
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32348">[ date ]</a>
              <a href="thread.html#32348">[ thread ]</a>
              <a href="subject.html#32348">[ subject ]</a>
              <a href="author.html#32348">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I need to use custom mscorlib.dll library with some fields defined in
System.Array. csc on .net compiles assemblies referencing it with no
problem, but when trying to compile anything referencing this mscorlib.dll
with gmcs (Mono 2.4) an assertion fault occurs in metadata/class.c at the
code

	/* reserve space to store vector pointer in arrays */
	if (!strcmp (nspace, &quot;System&quot;) &amp;&amp; !strcmp (name, &quot;Array&quot;)) {
		class-&gt;instance_size += 2 * sizeof (gpointer);
		g_assert (class-&gt;field.count == 0);
	}

The question is: am I violating the standard or it is a bug in mono?

Thanks.
-- 
View this message in context: <A HREF="http://www.nabble.com/custom-mscorlib.dll-with-fields-in-.Array-tp23876171p23876171.html">http://www.nabble.com/custom-mscorlib.dll-with-fields-in-.Array-tp23876171p23876171.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032351.html">[Mono-dev]  System.EntryPointNotFoundException: #125
</A></li>
	<LI>Next message: <A HREF="032349.html">[Mono-dev] custom mscorlib.dll with fields in .Array
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32348">[ date ]</a>
              <a href="thread.html#32348">[ thread ]</a>
              <a href="subject.html#32348">[ subject ]</a>
              <a href="author.html#32348">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
