<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Apport, and automated debugging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Apport%2C%20and%20automated%20debugging&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032435.html">
   <LINK REL="Next"  HREF="032398.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Apport, and automated debugging</H1>
    <B>Jo Shields</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Apport%2C%20and%20automated%20debugging&In-Reply-To="
       TITLE="[Mono-dev] Apport, and automated debugging">directhex at apebox.org
       </A><BR>
    <I>Tue Jun  9 11:41:58 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032435.html">[Mono-dev] Announcing Mono 2.4.2p1...
</A></li>
        <LI>Next message: <A HREF="032398.html">[Mono-dev] Apport, and automated debugging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32380">[ date ]</a>
              <a href="thread.html#32380">[ thread ]</a>
              <a href="subject.html#32380">[ subject ]</a>
              <a href="author.html#32380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've got a functionality enhancement which I'd love to see for Mono, and
was told that the best place to discuss it was here on the list.

First, the background. &quot;Apport&quot;[1] is a system which originated in
Ubuntu, and has subsequently been available in other distributions such
as openSUSE[2][3], to catch and process application crashes
automatically. If a user is using, say, a text editor, and it crashes,
then a window pops up offering to send a bug report to a central server.

Currently, Apport in Ubuntu supports applications written in Python, or
Native applications (e.g. C apps). As-is, this is implemented in 2 ways:
For Python, /etc/python*/sitecustomize.py is configured to load Apport's
Python hook[4]. For native apps, /proc/sys/kernel/core_pattern is
used[5]&#183;

That's step 1. I would like Apport to support Managed apps too - which
means there needs to be a magical way for Apport to be triggered, with
useful information (a &quot;core&quot; file, as it were), in the event of an
unhandled exception.

Next is a feature which appears to be used only by Ubuntu, but would be
very useful for any distro which opts to make use of it. Once you upload
an apport report to the distro's bug tracker, in Ubuntu's case, the core
dump is retraced. In essence the debug symbols (usually stripped from
all apps/libs) for the app and libraries are all installed inside a VM,
and a backtrace re-produced from the failed app, with the help of the
user's core file. This produces, in theory, an enormously more useful
stack trace of the app's failure (complete with developer-helping things
like line numbers).

That's step 2. Mono's debugger needs to support purely automated
(noninteractive) use by the distro's retracer service, and that retracer
will need to be able to feed in a user's &quot;core&quot; file (whatever format
that may be in) in order to re-produce the same stack trace, with the
added debug info.

Apport (and debugging in general, truth be told) is meaningless voodoo
to me, but I'm confident that if user apps produced more detailed
debugging output via the established mechanisms already in use by
distributions, that this could be extremely useful for distro
maintainers and app developers alike.

If you have any technical questions about Apport, your best bet is to
ask <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">apport-hackers at lists.launchpad.net</A>, who should actually understand
what's going on.

[1] <A HREF="https://wiki.ubuntu.com/Apport">https://wiki.ubuntu.com/Apport</A>
[2] <A HREF="http://fedoraproject.org/wiki/Releases/FeatureApport">http://fedoraproject.org/wiki/Releases/FeatureApport</A>
[3] <A HREF="http://en.opensuse.org/Apport">http://en.opensuse.org/Apport</A>
[4]
<A HREF="http://bazaar.launchpad.net/~apport-hackers/apport/trunk/annotate/head%">http://bazaar.launchpad.net/~apport-hackers/apport/trunk/annotate/head%</A>
3A/apport_python_hook.py
[5]
<A HREF="http://bazaar.launchpad.net/~apport-hackers/apport/trunk/annotate/head%">http://bazaar.launchpad.net/~apport-hackers/apport/trunk/annotate/head%</A>
3A/etc/init.d/apport
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 489 bytes
Desc: This is a digitally signed message part
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090609/ca031b0e/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090609/ca031b0e/attachment.bin</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032435.html">[Mono-dev] Announcing Mono 2.4.2p1...
</A></li>
	<LI>Next message: <A HREF="032398.html">[Mono-dev] Apport, and automated debugging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32380">[ date ]</a>
              <a href="thread.html#32380">[ thread ]</a>
              <a href="subject.html#32380">[ subject ]</a>
              <a href="author.html#32380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
