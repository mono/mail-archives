<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] assert in mono_local_regalloc  in head/trunk
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20assert%20in%20mono_local_regalloc%20%20in%20head/trunk&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032393.html">
   <LINK REL="Next"  HREF="032403.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] assert in mono_local_regalloc  in head/trunk</H1>
    <B>Lucas Meijer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20assert%20in%20mono_local_regalloc%20%20in%20head/trunk&In-Reply-To="
       TITLE="[Mono-dev] assert in mono_local_regalloc  in head/trunk">lucas at lucasmeijer.com
       </A><BR>
    <I>Fri Jun 12 10:45:38 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032393.html">[Mono-dev] Installing Mono on rhel and CentOS
</A></li>
        <LI>Next message: <A HREF="032403.html">[Mono-dev] assert in mono_local_regalloc in head/trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32396">[ date ]</a>
              <a href="thread.html#32396">[ thread ]</a>
              <a href="subject.html#32396">[ subject ]</a>
              <a href="author.html#32396">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

I'm getting this stacktrace. (embedded mono trunk, windows).  If I 
replace the trunk dll with a mono 2.4 dll, things work fine.

Here's the stacktrace.  I'm hoping someone has a hunch on what might be 
causing this:

asserts in line 1070 in mono_local_regalloc, with the following stacktrace:

g_assert (ins-&gt;dreg != -1); 

     mono-1-vc.dll!mono_local_regalloc(MonoCompile * cfg=0x08cc7470, 
MonoBasicBlock * bb=0x08cc8030)  Line 1070 + 0x26 bytes    C
     mono-1-vc.dll!mono_codegen(MonoCompile * cfg=0x08cc7470)  Line 2918 
+ 0xd bytes    C
     mono-1-vc.dll!mini_method_compile(_MonoMethod * method=0x08cc62a0, 
unsigned int opts=64055807, _MonoDomain * domain=0x08b14ea0, int 
run_cctors=1, int compile_aot=0, int parts=0)  Line 3714 + 0x9 bytes    C
     mono-1-vc.dll!mono_jit_compile_method_inner(_MonoMethod * 
method=0x08cc62a0, _MonoDomain * target_domain=0x08b14ea0, int 
opt=64055807)  Line 4041 + 0x17 bytes    C
     mono-1-vc.dll!mono_jit_compile_method_with_opt(_MonoMethod * 
method=0x08cc62a0, unsigned int opt=64055807)  Line 4231 + 0x11 bytes    C
     mono-1-vc.dll!mono_jit_compile_method(_MonoMethod * 
method=0x08cc62a0)  Line 4249 + 0xf bytes    C
     mono-1-vc.dll!mono_jit_runtime_invoke(_MonoMethod * 
method=0x08cc61e8, void * obj=0x09154fc0, void * * params=0x002ddee4, 
MonoObject * * exc=0x00000000)  Line 4386 + 0x9 bytes    C
     mono-1-vc.dll!mono_runtime_invoke(_MonoMethod * method=0x08cc61e8, 
void * obj=0x09154fc0, void * * params=0x002ddee4, MonoObject * * 
exc=0x00000000)  Line 2529 + 0x18 bytes    C
     mono-1-vc.dll!create_exception_two_strings(_MonoClass * 
klass=0x08cc5aa8, MonoString * a1=0x09153fc0, MonoString * 
a2=0x00000000)  Line 128 + 0x13 bytes    C
     mono-1-vc.dll!mono_exception_from_name_two_strings(_MonoImage * 
image=0x08c918e8, const char * name_space=0x08a01910, const char * 
name=0x08a018f8, MonoString * a1=0x09153fc0, MonoString * 
a2=0x00000000)  Line 151 + 0x11 bytes    C
     mono-1-vc.dll!mono_runtime_init(_MonoDomain * domain=0x08b14ea0, 
void (unsigned int, void *, void *)* start_cb=0x088c9270, void (unsigned 
int, void *)* attach_cb=0x088c92e0)  Line 226 + 0x1c bytes    C
     mono-1-vc.dll!mini_init(const char * filename=0x08132048, const 
char * runtime_version=0x00000000)  Line 5086 + 0x13 bytes    C
 &gt;    mono-1-vc.dll!mono_jit_init(const char * file=0x08132048)  Line 
1810 + 0xb bytes    C
     webplayer_win.dll!InitializeMonoFromMain(const 
std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt; &gt; &amp; 
monoFrameworkPath=&quot;C:/Program Files 
(x86)/Unity/WebPlayer/mono/2.x.x/Data/lib&quot;, const 
std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt; &gt; &amp; 
resourcePath=&quot;C:/Program Files 
(x86)/Unity/WebPlayer/player/2.x.x/Data/lib&quot;, int argc=1, const char * * 
argv=0x08131cd8)  Line 2133 + 0x13 bytes    C++
     webplayer_win.dll!LoadMono(const 
std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt; &gt; &amp; 
monoPath=&quot;C:/Program Files (x86)/Unity/WebPlayer/mono/2.x.x&quot;, const 
std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt; &gt; &amp; 
unityPath=&quot;C:/Program Files (x86)/Unity/WebPlayer/player/2.x.x&quot;, const 
std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt; &gt; &amp; 
monoDll=&quot;C:/Program Files 
(x86)/Unity/WebPlayer/mono/2.x.x/mono-1-vc.dll&quot;, const char * 
stdoutFile=0x049d7ba0)  Line 79 + 0x21 bytes    C++
     webplayer_win.dll!PreInitializeCommon(HINSTANCE__ * 
dllInstance=0x10000000, const char * playerPath=0x049d9230, const char * 
monoPath=0x049d92a0, const char * monoDllPath=0x049d92a0, const char * 
openalDllPath=0x049d9230, const char * stdoutPath=0x049d7ba0, 
CrashHandler * crhandler=0x049d2968, const char * 
instanceID=0x049d2810)  Line 461 + 0x73 bytes    C++
     webplayer_win.dll!UnityWinWebStartData(UnityLoaderData * 
data=0x002df5f0)  Line 489 + 0x3d bytes    C++

using mono runtime and corlib from r135921

Any ideas?

Thanks, Lucas
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032393.html">[Mono-dev] Installing Mono on rhel and CentOS
</A></li>
	<LI>Next message: <A HREF="032403.html">[Mono-dev] assert in mono_local_regalloc in head/trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32396">[ date ]</a>
              <a href="thread.html#32396">[ thread ]</a>
              <a href="subject.html#32396">[ subject ]</a>
              <a href="author.html#32396">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
