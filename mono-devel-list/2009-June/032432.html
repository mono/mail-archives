<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Compiling Mono v2.4 RC2 (Solaris 10 SPARCv9)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Compiling%20Mono%20v2.4%20RC2%20%28Solaris%2010%20SPARCv9%29&In-Reply-To=24051545.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032431.html">
   <LINK REL="Next"  HREF="032433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Compiling Mono v2.4 RC2 (Solaris 10 SPARCv9)</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Compiling%20Mono%20v2.4%20RC2%20%28Solaris%2010%20SPARCv9%29&In-Reply-To=24051545.post%40talk.nabble.com"
       TITLE="[Mono-dev] Compiling Mono v2.4 RC2 (Solaris 10 SPARCv9)">vargaz at gmail.com
       </A><BR>
    <I>Tue Jun 16 06:37:09 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032431.html">[Mono-dev] Compiling Mono v2.4 RC2 (Solaris 10 SPARCv9)
</A></li>
        <LI>Next message: <A HREF="032433.html">[Mono-dev] Compiling Mono v2.4 RC2 (Solaris 10 SPARCv9)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32432">[ date ]</a>
              <a href="thread.html#32432">[ thread ]</a>
              <a href="subject.html#32432">[ subject ]</a>
              <a href="author.html#32432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

  Install the gettext package.

                Zoltan

On Tue, Jun 16, 2009 at 12:24 PM, John M &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">john_mandia at yahoo.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> Has anyone come across this problem?:
</I>&gt;<i>
</I>&gt;<i> I am trying to compile mono on Solaris 10.
</I>&gt;<i> I got pkgconfig, glib compiled and ran configure successfully but it just
</I>&gt;<i> fails while running gmake for mono 2.4
</I>&gt;<i>
</I>&gt;<i> bash-3.00# gmake
</I>&gt;<i> gmake  all-recursive
</I>&gt;<i> gmake[1]: Entering directory `/mono_downloads/mono-2.4'
</I>&gt;<i> Making all in po
</I>&gt;<i> gmake[2]: Entering directory `/mono_downloads/mono-2.4/po'
</I>&gt;<i> Making all in mcs
</I>&gt;<i> gmake[3]: Entering directory `/mono_downloads/mono-2.4/po/mcs'
</I>&gt;<i> test ! -f ./mcs.pot || \
</I>&gt;<i>  test -z &quot;es.gmo ja.gmo de.gmo&quot; || gmake es.gmo ja.gmo de.gmo
</I>&gt;<i> gmake[4]: Entering directory `/mono_downloads/mono-2.4/po/mcs'
</I>&gt;<i> : --update es.po mcs.pot
</I>&gt;<i> : --update ja.po mcs.pot
</I>&gt;<i> : --update de.po mcs.pot
</I>&gt;<i> rm -f de.gmo &amp;&amp; : -c --statistics -o de.gmo de.po
</I>&gt;<i> mv: cannot access t-de.gmo
</I>&gt;<i> gmake[4]: *** [de.gmo] Error 2
</I>&gt;<i> gmake[4]: Leaving directory `/mono_downloads/mono-2.4/po/mcs'
</I>&gt;<i> gmake[3]: *** [stamp-po] Error 2
</I>&gt;<i> gmake[3]: Leaving directory `/mono_downloads/mono-2.4/po/mcs'
</I>&gt;<i> gmake[2]: *** [all-recursive] Error 1
</I>&gt;<i> gmake[2]: Leaving directory `/mono_downloads/mono-2.4/po'
</I>&gt;<i> gmake[1]: *** [all-recursive] Error 1
</I>&gt;<i> gmake[1]: Leaving directory `/mono_downloads/mono-2.4'
</I>&gt;<i> gmake: *** [all] Error 2
</I>&gt;<i> bash-3.00# pwd
</I>&gt;<i> /mono_downloads/mono-2.4
</I>&gt;<i> bash-3.00# pwd
</I>&gt;<i> /mono_downloads/mono-2.4
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> John
</I>&gt;<i>
</I>&gt;<i> Thracx wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;P&gt;In short, it's not working for me but I'm willing to keep trying and
</I>&gt;<i> &gt; document my experiences if I can get some help from the Mono developer
</I>&gt;<i> &gt; community.  I apologize for the lengthy post but I figured that I might
</I>&gt;<i> as
</I>&gt;<i> &gt; well be thorough.&lt;/P&gt;
</I>&gt;<i> &gt; Background:&lt;BR&gt;
</I>&gt;<i> &gt; &lt;P&gt;
</I>&gt;<i> &gt; I have been wrestling with trying to compile various versions of Mono.
</I>&gt;<i> &gt; After a good deal of trouble, I managed to build v2.0.1 on my Solaris 10
</I>&gt;<i> &gt; SPARCv9 machine.  It has issues (i.e. bugs in Mono), but I think the
</I>&gt;<i> build
</I>&gt;<i> &gt; itself was successful.
</I>&gt;<i> &gt; &lt;/P&gt;&lt;P&gt;
</I>&gt;<i> &gt; I believe many of my issues have been fixed in later Mono fixes, but thus
</I>&gt;<i> &gt; far I have been unable to build Mono v2.2, v126637, and v2.4 RC2.  I'm
</I>&gt;<i> &gt; hoping to be able to utilize v2.4 when it's released but if I can't
</I>&gt;<i> &gt; compile the RC2,  obviously I'll have an issue when v2.4 becomes
</I>&gt;<i> official.
</I>&gt;<i> &gt; If it's a bug with me, I could certainly use some help.  If it's a bug in
</I>&gt;<i> &gt; Mono, I need some help finding it so hopefully it can be fixed before
</I>&gt;<i> v2.4
</I>&gt;<i> &gt; is released later this month.
</I>&gt;<i> &gt; &lt;/P&gt;&lt;P&gt;
</I>&gt;<i> &gt; I hope to document all the issues and fixes that I've encountered thus
</I>&gt;<i> far
</I>&gt;<i> &gt; - the documentation for building Mono on Solaris is very scattered, but
</I>&gt;<i> &gt; I'd hate to conclude mine with &quot;but in the end it doesn't work&quot;.
</I>&gt;<i> &gt; &lt;/P&gt;
</I>&gt;<i> &gt; Problem:&lt;BR&gt;
</I>&gt;<i> &gt; &lt;P&gt;
</I>&gt;<i> &gt; 'Configure' succeeds and 'make' gets all the way to where it compiles
</I>&gt;<i> &gt; System.dll (with warning 'System.dll build without parts that don't
</I>&gt;<i> depend
</I>&gt;<i> &gt; on: System.Xml.dll'.  I then get &quot;MCS   [basic] System.dll&quot;, and then the
</I>&gt;<i> &gt; annoying &quot;GC Warning: Large stack limit(...):  only scanning 8 MB&quot;
</I>&gt;<i> &gt; warning.  It's followed by a 'Compilation succeeded - 13 warnings(s)'
</I>&gt;<i> &gt; message which tells me that it finished System.dll.  It then tries
</I>&gt;<i> working
</I>&gt;<i> &gt; on System.Xml.dll after doing what looks like some lexer tree reductions
</I>&gt;<i> &gt; (messages like 3 rules never reduced, 1 shift-reduce conflict, etc) and
</I>&gt;<i> &gt; then the &quot;MCS    [basic] System.Xml.dll&quot; message.  This is the last thing
</I>&gt;<i> &gt; I see.  I can wait for over 16 hours and nothing happens, other than
</I>&gt;<i> &gt; prstat reporting that 'mono' has used 16+ hours of CPU time.  It gives an
</I>&gt;<i> &gt; '.../class/lib/basic/System.Xml.dll]  Error 130' message after I kill it
</I>&gt;<i> &gt; but that is just from me interrupting it.  For some reason, the build
</I>&gt;<i> &gt; process is either unable to compile System.Xml.dll, or it runs something
</I>&gt;<i> &gt; that hangs.  I don't see any 'compilation succeeded' message like with
</I>&gt;<i> &gt; System.dll so I assume it's the former.  But it was able to compile
</I>&gt;<i> &gt; System.dll so why can't it compile System.Xml.dll?
</I>&gt;<i> &gt; &lt;/P&gt;
</I>&gt;<i> &gt; &lt;P&gt;
</I>&gt;<i> &gt; As what may be an important side-note, my previous brick wall was with
</I>&gt;<i> &gt; build/deps/basic-profile-check.exe.  I was able to get past this issue
</I>&gt;<i> but
</I>&gt;<i> &gt; I think it's probably the same problem as above, or at least related, so
</I>&gt;<i> I
</I>&gt;<i> &gt; thought it best to mention it:  'Configure' succeeds and 'make' gets all
</I>&gt;<i> &gt; the way to where it enters the mcs directory.  I get the &quot;The compiler
</I>&gt;<i> &gt; 'mcs' doesn't appear to be usable.  Trying the 'monolite' directory.&quot;
</I>&gt;<i> &gt; message and then it seems to re-try compiling and/or running
</I>&gt;<i> &gt; basic-profile-check.exe and I've waiting over 16 hours and nothing else
</I>&gt;<i> &gt; happens - it's hung.  When I kill it, it says
</I>&gt;<i> &gt; &quot;[build/deps/basic-profile-check.exe]  Error 127&quot;, and then gives an
</I>&gt;<i> Error
</I>&gt;<i> &gt; 130 but that's just from my interrupting it.  For some reason, the build
</I>&gt;<i> &gt; process is either unable to compile basic-profile-check.exe or when it
</I>&gt;<i> &gt; runs it, it hangs.  My guess is the former.  Either way, if I add my Mono
</I>&gt;<i> &gt; v2.0.1 bin directory to my path, it's able to get past this problem - but
</I>&gt;<i> &gt; then hangs on System.Xml.dll per above.
</I>&gt;<i> &gt; &lt;/P&gt;
</I>&gt;<i> &gt; What Didn't Work:&lt;BR&gt;
</I>&gt;<i> &gt; &lt;P&gt;
</I>&gt;<i> &gt; First, note that my system does not have access to the Internet.  Things
</I>&gt;<i> &gt; like 'make get-mono-latest' don't work for me.  Regardless, I now have a
</I>&gt;<i> &gt; rather complete GNU bin directory that I've compiled myself, including
</I>&gt;<i> GCC
</I>&gt;<i> &gt; v3.4.3, TAR v1.21, ar, as, grep, ranlib, strip, ld, etc.  I've renamed
</I>&gt;<i> the
</I>&gt;<i> &gt; 'mcs' file native to Solaris to something else.  I've replaced the &quot;-mt&quot;
</I>&gt;<i> &gt; option in gthread-2.0.pc with -D_REENTRANT.  I'm including a copy of
</I>&gt;<i> &gt; libgdiplus v2.4 that I built, although I understand that's just needed
</I>&gt;<i> for
</I>&gt;<i> &gt; System.Drawing to work.
</I>&gt;<i> &gt; &lt;/P&gt;&lt;P&gt;
</I>&gt;<i> &gt; I've tried including and not including my v2.0.1 bin and lib in my
</I>&gt;<i> &gt; environment to no avail.  I've tried various combinations of configure
</I>&gt;<i> &gt; options such as these:  --disable-dtrace --with-gc=none
</I>&gt;<i> &gt; --with-sigaltstack=no --with-ikvm-native=no --disable-mcs-build.  The
</I>&gt;<i> &gt; summary at the end of Configure confirms that these work (i.e. I was
</I>&gt;<i> &gt; previously using signaltstack=no...), and &quot;TLS: pthread&quot;, which I believe
</I>&gt;<i> &gt; was auto-detected correctly.  I'm using &quot;ulimit -Hs 10240&quot; now but it
</I>&gt;<i> &gt; doesn't seem to be doing anything.  I've tried using monolite from
</I>&gt;<i> &gt; mono-project.org and adding that to my path.  I've even tried letting
</I>&gt;<i> the
</I>&gt;<i> &gt; _tmpinst directory get created and then editing the scripts in it to
</I>&gt;<i> point
</I>&gt;<i> &gt; to my Mono v2.0.1 files instead of the build ones.  I have read that
</I>&gt;<i> &gt; others have succeeded on Solaris 10 SPARC, so thus far I've avoid making
</I>&gt;<i> &gt; any code changes to the source, but as of this post that's my next step
</I>&gt;<i> as
</I>&gt;<i> &gt; I can't think of any other avenues.
</I>&gt;<i> &gt; &lt;/P&gt;&lt;P&gt;
</I>&gt;<i> &gt; Nothing seems to let me get past this problem - any ideas?
</I>&gt;<i> &gt; &lt;/P&gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://www.nabble.com/Compiling-Mono-v2.4-RC2-%28Solaris-10-SPARCv9%29-tp22587130p24051545.html">http://www.nabble.com/Compiling-Mono-v2.4-RC2-%28Solaris-10-SPARCv9%29-tp22587130p24051545.html</A>
</I>&gt;<i> Sent from the Mono - Dev mailing list archive at Nabble.com.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090616/9e201bf1/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090616/9e201bf1/attachment-0001.html</A> 
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032431.html">[Mono-dev] Compiling Mono v2.4 RC2 (Solaris 10 SPARCv9)
</A></li>
	<LI>Next message: <A HREF="032433.html">[Mono-dev] Compiling Mono v2.4 RC2 (Solaris 10 SPARCv9)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32432">[ date ]</a>
              <a href="thread.html#32432">[ thread ]</a>
              <a href="subject.html#32432">[ subject ]</a>
              <a href="author.html#32432">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
