<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Running autogen.sh from outside of source tree?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Running%20autogen.sh%20from%20outside%20of%20source%20tree%3F&In-Reply-To=%3CCAJR-0p_Wce7nZvNRoNRWoFQjtzUCSfbNK0XtddXNgW1FDLNRAw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041536.html">
   <LINK REL="Next"  HREF="041538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Running autogen.sh from outside of source tree?</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Running%20autogen.sh%20from%20outside%20of%20source%20tree%3F&In-Reply-To=%3CCAJR-0p_Wce7nZvNRoNRWoFQjtzUCSfbNK0XtddXNgW1FDLNRAw%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Running autogen.sh from outside of source tree?">vargaz at gmail.com
       </A><BR>
    <I>Wed May 21 19:57:06 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="041536.html">[Mono-dev] Running autogen.sh from outside of source tree?
</A></li>
        <LI>Next message: <A HREF="041538.html">[Mono-dev] Running autogen.sh from outside of source tree?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41537">[ date ]</a>
              <a href="thread.html#41537">[ thread ]</a>
              <a href="subject.html#41537">[ subject ]</a>
              <a href="author.html#41537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

  autogen.sh is designed to generate configure and Makefile.in files into
the source tree, so they can be distributed. Generating them outside the
source tree doesn't serve much purpose imho.

                Zoltan


On Wed, May 21, 2014 at 9:54 PM, Chris Morgan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">chmorgan at gmail.com</A>&gt; wrote:

&gt;<i> So I'm just trying to find out if it seems feasible, at which point
</I>&gt;<i> I'll go to it for a few and see if I can do so.
</I>&gt;<i>
</I>&gt;<i> Chris
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, May 21, 2014 at 3:39 PM, Chris Morgan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">chmorgan at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Hi Zoltan.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; No, I get that. The question is whether its possible to improve
</I>&gt;<i> &gt; autogen.sh to support running out of tree by adding some more $srcdir
</I>&gt;<i> &gt; entries, or whatever, at the appropriate locations.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Chris
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Wed, May 21, 2014 at 3:37 PM, Zoltan Varga &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vargaz at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; Hi,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;   autogen.sh needs to be run from the tree, its configure+make which
</I>&gt;<i> can be
</I>&gt;<i> &gt;&gt; run out-of-tree.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;             Zoltan
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On Wed, May 21, 2014 at 9:32 PM, Chris Morgan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">chmorgan at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Hello.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I'm trying to build mono under Yocto. Recently (so I've heard) there
</I>&gt;<i> &gt;&gt;&gt; were some changes such that the autotools scripts are being run from
</I>&gt;<i> &gt;&gt;&gt; outside of the source tree.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I presume this is something like:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; cd mono
</I>&gt;<i> &gt;&gt;&gt; mkdir monobuild
</I>&gt;<i> &gt;&gt;&gt; cd monobuild
</I>&gt;<i> &gt;&gt;&gt; ../autogen.sh
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; [<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">cmorgan at localhost</A> monobuild]$ ../autogen.sh
</I>&gt;<i> &gt;&gt;&gt; --prefix=/home/cmorgan/mono-prefix
</I>&gt;<i> &gt;&gt;&gt; grep: configure.in: No such file or directory
</I>&gt;<i> &gt;&gt;&gt; ../autogen.sh: line 125: mono/mini/Makefile.am: No such file or
</I>&gt;<i> directory
</I>&gt;<i> &gt;&gt;&gt; ../autogen.sh: line 126: mono/metadata/Makefile.am: No such file or
</I>&gt;<i> &gt;&gt;&gt; directory
</I>&gt;<i> &gt;&gt;&gt; Running aclocal -I m4 -I .  ...
</I>&gt;<i> &gt;&gt;&gt; aclocal: error: 'configure.ac' is required
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; **Error**: aclocal failed. This may mean that you have not
</I>&gt;<i> &gt;&gt;&gt; installed all of the packages you need, or you may need to
</I>&gt;<i> &gt;&gt;&gt; set ACLOCAL_FLAGS to include &quot;-I $prefix/share/aclocal&quot;
</I>&gt;<i> &gt;&gt;&gt; for the prefix where you installed the packages whose
</I>&gt;<i> &gt;&gt;&gt; macros were not found
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; This doesn't appear to work because several things in autogen.sh
</I>&gt;<i> &gt;&gt;&gt; assume that the files are present in the current working directory.
</I>&gt;<i> &gt;&gt;&gt; Some other steps however do use $srcdir.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; My question is whether it seems like a reasonable idea to correct
</I>&gt;<i> &gt;&gt;&gt; autogen.sh to remove the assumption that builddir == sourcedir. If so
</I>&gt;<i> &gt;&gt;&gt; then I'll go down this route and send a patch. If not then I'll use a
</I>&gt;<i> &gt;&gt;&gt; Yocto work around for projects that don't/can't support doing that.
</I>&gt;<i> &gt;&gt;&gt; I'm not big on papering over issues so I do prefer the first option
</I>&gt;<i> &gt;&gt;&gt; but I didn't want to start work if it turns out that it may be a
</I>&gt;<i> &gt;&gt;&gt; nearly impossible task.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Chris
</I>&gt;<i> &gt;&gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt; Mono-devel-list mailing list
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20140521/fc51b2b4/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20140521/fc51b2b4/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041536.html">[Mono-dev] Running autogen.sh from outside of source tree?
</A></li>
	<LI>Next message: <A HREF="041538.html">[Mono-dev] Running autogen.sh from outside of source tree?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41537">[ date ]</a>
              <a href="thread.html#41537">[ thread ]</a>
              <a href="subject.html#41537">[ subject ]</a>
              <a href="author.html#41537">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
