<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] WCF Deserialization Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20WCF%20Deserialization%20Problem&In-Reply-To=j89e2h%24ll6%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038163.html">
   <LINK REL="Next"  HREF="038168.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] WCF Deserialization Problem</H1>
    <B>monoUser</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20WCF%20Deserialization%20Problem&In-Reply-To=j89e2h%24ll6%241%40dough.gmane.org"
       TITLE="[Mono-dev] WCF Deserialization Problem">cancomert at gmail.com
       </A><BR>
    <I>Thu Oct 27 06:11:45 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="038163.html">[Mono-dev] WCF Deserialization Problem
</A></li>
        <LI>Next message: <A HREF="038168.html">[Mono-dev] WCF Deserialization Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38166">[ date ]</a>
              <a href="thread.html#38166">[ thread ]</a>
              <a href="subject.html#38166">[ subject ]</a>
              <a href="author.html#38166">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The problem is probably same as the bugzilla.
As far as I understand from the bug fix Form=XmlSchemaForm.Unqualified must
be declared in XmlAttribute and XmlElement attributes on the classes and the
properties.

So that I edited generated code XmlAttributeAttribute and
XmlElementAttribute as
[System.Xml.Serialization.XmlAttributeAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified
,....)]
[System.Xml.Serialization.XmlElementAttribute(Form=System.Xml.Schema.XmlSchemaForm.Unqualified
,.....)]

I both tried Form=System.Xml.Schema.XmlSchemaForm.Unqualified and
Form=System.Xml.Schema.XmlSchemaForm.None
But it still don't work under my mono instance.

When parameters are &quot;&quot; that means I want all the data so the parameters and
all other thinks are okay and it is working under .Net

When I use a channel factory approach to fetch data
 BasicHttpBinding binding = new BasicHttpBinding();
 binding.MaxBufferSize = int.MaxValue;
 binding.MaxReceivedMessageSize = int.MaxValue;
 binding.CloseTimeout = TimeSpan.FromMinutes(1);
EndpointAddress endpoint = new
EndpointAddress(&quot;<A HREF="http://his09.umbc.edu/BaltGW/cuahsi_1_0.asmx&quot;">http://his09.umbc.edu/BaltGW/cuahsi_1_0.asmx&quot;</A>);
//<A HREF="http://river.sdsc.edu/wateroneflow/NWIS/DailyValues.asmx&quot;">http://river.sdsc.edu/wateroneflow/NWIS/DailyValues.asmx&quot;</A>);


ChannelFactory&lt;WaterOneFlow.WaterOneFlow&gt; channel_factory = new
ChannelFactory&lt;WaterOneFlow.WaterOneFlow&gt;(binding, endpoint);
WaterOneFlow.WaterOneFlow client = channel_factory.CreateChannel();
GetVariableInfoObjectResponse response = client.GetVariableInfoObject(
                    new GetVariableInfoObjectRequest(&quot;&quot;, &quot;&quot;)
);

I get an exception as before
System.NullReferenceException
Object reference not set to an instance of an object
  at System.Xml.Serialization.XmlAttributes..ctor (ICustomAttributeProvider
provider) [0x00000] in &lt;filename unknown&gt;:0
  at
System.ServiceModel.Dispatcher.XmlMessagesFormatter.CreateReflectionMember
(System.ServiceModel.Description.MessagePartDescription partDesc, Boolean
isReturnValue) [0x00000] in &lt;filename unknown&gt;:0
  at System.ServiceModel.Dispatcher.XmlMessagesFormatter.GetSerializer
(System.ServiceModel.Description.MessageBodyDescription desc) [0x00000] in
&lt;filename unknown&gt;:0
  at System.ServiceModel.Dispatcher.XmlMessagesFormatter.PartsToMessage
(System.ServiceModel.Description.MessageDescription md,
System.ServiceModel.Channels.MessageVersion version, System.String action,
System.Object[] parts) [0x00000] in &lt;filename unknown&gt;:0
  at System.ServiceModel.Dispatcher.BaseMessagesFormatter.SerializeRequest
(System.ServiceModel.Channels.MessageVersion version, System.Object[]
parameters) [0x00000] in &lt;filename unknown&gt;:0
  at System.ServiceModel.MonoInternal.ClientRuntimeChannel.CreateRequest
(System.ServiceModel.Dispatcher.ClientOperation op, System.Object[]
parameters) [0x00000] in &lt;filename unknown&gt;:0
  at System.ServiceModel.MonoInternal.ClientRuntimeChannel.Request
(System.ServiceModel.Description.OperationDescription od, System.Object[]
parameters) [0x00000] in &lt;filename unknown&gt;:0
  at System.ServiceModel.MonoInternal.ClientRuntimeChannel.DoProcess
(System.Reflection.MethodBase method, System.String operationName,
System.Object[] parameters) [0x00000] in &lt;filename unknown&gt;:0
  at System.ServiceModel.MonoInternal.ClientRuntimeChannel.Process
(System.Reflection.MethodBase method, System.String operationName,
System.Object[] parameters) [0x00000] in &lt;filename unknown&gt;:0

When I tried fetch data by generated client class , It is only returning a
null pointer to back.


WaterOneFlowClient cl = new WaterOneFlowClient(binding,endpoint);
VariablesResponseType rsp= cl.GetVariableInfoObject(&quot;&quot;,&quot;&quot;);

Unhandled Exception: System.NullReferenceException: Object reference not set
to an instance of an object
  at winWaterMLTest.Program.Main (System.String[] args) [0x00000] in
&lt;filename unknown&gt;:0
[ERROR] FATAL UNHANDLED EXCEPTION: System.NullReferenceException: Object
reference not set to an instance of an object
  at winWaterMLTest.Program.Main (System.String[] args) [0x00000] in
&lt;filename unknown&gt;:0


Where and how can I find the fixed versions of the mono runtime or code
generator??

Thanks in advice


--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/WCF-Deserialization-Problem-tp3937166p3943848.html">http://mono.1490590.n4.nabble.com/WCF-Deserialization-Problem-tp3937166p3943848.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038163.html">[Mono-dev] WCF Deserialization Problem
</A></li>
	<LI>Next message: <A HREF="038168.html">[Mono-dev] WCF Deserialization Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38166">[ date ]</a>
              <a href="thread.html#38166">[ thread ]</a>
              <a href="subject.html#38166">[ subject ]</a>
              <a href="author.html#38166">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
