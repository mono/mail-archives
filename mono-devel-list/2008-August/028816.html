<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Building mono-2 preview 1 on x86_64
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Building%20mono-2%20preview%201%20on%20x86_64&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028802.html">
   <LINK REL="Next"  HREF="028800.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Building mono-2 preview 1 on x86_64</H1>
    <B>Paul</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Building%20mono-2%20preview%201%20on%20x86_64&In-Reply-To="
       TITLE="[Mono-dev] Building mono-2 preview 1 on x86_64">paul at all-the-johnsons.co.uk
       </A><BR>
    <I>Mon Aug 11 19:32:40 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028802.html">[Mono-dev] Signing assemblies for gac
</A></li>
        <LI>Next message: <A HREF="028800.html">[Mono-dev] Writing Code that refers to IIS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28816">[ date ]</a>
              <a href="thread.html#28816">[ thread ]</a>
              <a href="subject.html#28816">[ subject ]</a>
              <a href="author.html#28816">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

While I can build mono on my i386 box, when a colleague tries on his
x86_64 box, he is getting a seg fault during the build. I can't
reproduce this problem as I don't have an x86_64 box. Can someone cast
some light on why there should be a problem?

The report back is

:<i>  System.dll ../../class/mono.snk
</I>mv System.dll ../../class/lib/basic/System.dll
test ! -f System.dll.mdb || mv System.dll.mdb
../../class/lib/basic/System.dll.mdb
test ! -f System.pdb || mv System.pdb ../../class/lib/basic/System.pdb
make[8]: Leaving directory
`/home/david/rpmbuild/BUILD/mono-2.0/mcs/class/System'
make[7]: Leaving directory
`/home/david/rpmbuild/BUILD/mono-2.0/mcs/class/System'
make[7]: Entering directory
`/home/david/rpmbuild/BUILD/mono-2.0/mcs/class/System.XML'
Creating ../../build/deps/basic_System.Xml.dll.makefrag ...
make[7]: Leaving directory
`/home/david/rpmbuild/BUILD/mono-2.0/mcs/class/System.XML'
make[7]: Entering directory
`/home/david/rpmbuild/BUILD/mono-2.0/mcs/class/System.XML'
make all-local
make[8]: Entering directory
`/home/david/rpmbuild/BUILD/mono-2.0/mcs/class/System.XML'
../../jay/jay -ct &lt; ../../jay/skeleton.cs System.Xml.XPath/Parser.jay
&gt;<i>System.Xml.XPath/Parser.cs
</I>../../jay/jay: 21 rules never reduced
../../jay/jay: 1 shift/reduce conflict, 42 reduce/reduce conflicts.
sed &quot;s/\%start Expr/\%start Pattern/&quot; System.Xml.XPath/Parser.jay
&gt;<i>Mono.Xml.Xsl/PatternParser.jay
</I>echo &quot;#define XSLT_PATTERN&quot; &gt; Mono.Xml.Xsl/PatternParser.cs
../../jay/jay -ct Mono.Xml.Xsl/PatternParser.jay &lt; ../../jay/skeleton.cs
&gt;&gt;<i>Mono.Xml.Xsl/PatternParser.cs
</I>../../jay/jay: 3 rules never reduced
../../jay/jay: 1 shift/reduce conflict, 46 reduce/reduce conflicts.
echo &quot;#define XSLT_PATTERN&quot; &gt; Mono.Xml.Xsl/PatternTokenizer.cs
cat System.Xml.XPath/Tokenizer.cs &gt;&gt;Mono.Xml.Xsl/PatternTokenizer.cs
MONO_PATH=&quot;../../class/lib/basic:$MONO_PATH&quot;
/home/david/rpmbuild/BUILD/mono-2.0/runtime/mono-wrapper
../../class/lib/basic/mcs.exe /codepage:65001  -optimize -d:NET_1_1
-d:ONLY_1_1 -d:BOOTSTRAP_WITH_OLDLIB -debug /noconfig -r:mscorlib.dll
-r:System.dll -nowarn:0162,0618,0612,0642,1595 -target:library
-out:System.Xml.dll System.Xml.XPath/Parser.cs
Mono.Xml.Xsl/PatternParser.cs
Mono.Xml.Xsl/PatternTokenizer.cs @System.Xml.dll.sources
make[8]: *** [../../class/lib/basic/System.Xml.dll] Segmentation fault
make[8]: Leaving directory
`/home/david/rpmbuild/BUILD/mono-2.0/mcs/class/System.XML'
make[7]: *** [do-all] Error 2
make[7]: Leaving directory
`/home/david/rpmbuild/BUILD/mono-2.0/mcs/class/System.XML'
make[6]: *** [all-recursive] Error 1
make[6]: Leaving directory
`/home/david/rpmbuild/BUILD/mono-2.0/mcs/class'
make[5]: *** [all-recursive] Error 1
make[5]: Leaving directory `/home/david/rpmbuild/BUILD/mono-2.0/mcs'
make[4]: *** [profile-do--basic--all] Error 2
make[4]: Leaving directory `/home/david/rpmbuild/BUILD/mono-2.0/mcs'
make[3]: *** [profiles-do--all] Error 2
make[3]: Leaving directory `/home/david/rpmbuild/BUILD/mono-2.0/mcs'
make[2]: *** [all-local] Error 2
make[2]: Leaving directory `/home/david/rpmbuild/BUILD/mono-2.0/runtime'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/david/rpmbuild/BUILD/mono-2.0'
make: *** [all] Error 2

Using gcc-4.3.1-6 and mono-1.9.1 both on Fedora rawhide boxes (I use the
same versions on x86 and the build goes ok).

TTFN

Paul
-- 
&#65279;Sie k&#246;nnen mich aufreizen und wirklich hei&#223; machen!
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080812/1686cd07/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080812/1686cd07/attachment.bin</A> 
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028802.html">[Mono-dev] Signing assemblies for gac
</A></li>
	<LI>Next message: <A HREF="028800.html">[Mono-dev] Writing Code that refers to IIS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28816">[ date ]</a>
              <a href="thread.html#28816">[ thread ]</a>
              <a href="subject.html#28816">[ subject ]</a>
              <a href="author.html#28816">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
