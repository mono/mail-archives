<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Base Class Library extending...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Base%20Class%20Library%20extending...&In-Reply-To=18912740.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028787.html">
   <LINK REL="Next"  HREF="028783.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Base Class Library extending...</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Base%20Class%20Library%20extending...&In-Reply-To=18912740.post%40talk.nabble.com"
       TITLE="[Mono-dev] Base Class Library extending...">jonpryor at vt.edu
       </A><BR>
    <I>Sun Aug 10 17:21:57 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028787.html">[Mono-dev] Base Class Library extending...
</A></li>
        <LI>Next message: <A HREF="028783.html">[Mono-dev] Base Class Library extending...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28791">[ date ]</a>
              <a href="thread.html#28791">[ thread ]</a>
              <a href="subject.html#28791">[ subject ]</a>
              <a href="author.html#28791">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2008-08-10 at 05:23 -0700, Roman S.V. wrote:
&gt;<i> OK, I'm ready to fix posted issues. There is my plan:
</I>&gt;<i> 1) Refactor all methods and namespace according with *.Extensions root
</I>&gt;<i> namespace.
</I>
I don't think this is a good idea, in particular from the FxDG:

        Avoid generic naming of namespaces dedicated to extension
        methods (e.g. &#8220;Extensions&#8221;) &#8211; rather, use a descriptive name &#8211;
        e.g. &#8220;Routing&#8221;.

I'm also rather leery of using &quot;System&quot; as the root namespace of an
types that Mono provides.  Mono does not introduce any new System.*
types or namespaces, and instead places them into Mono.* types and
namespaces.

So I'm ~reasonably sure that having
System.Extensions/System.Collections.Extensions/etc. namespaces is a Bad
Idea (TM), particularly because it'll give people the impression that
those types are also provided in .NET w/o needing an additional library.

Finally, I can't think of any actual benefit to splitting up extension
methods by namespace.  With your original design, developers would have:

	using System;
	using System.Extensions;
	using System.Collections;
	using System.Collections.Extensions;
	using System.Collections.Generic;
	using System.Collections.Generic.Extensions;
	using System.IO;
	using System.IO.Extensions;

ad infinitum.  It would &quot;pollute&quot; the source for, as best as I can
determine, little actual gain.  It seems like a net loss, actually.

Compare to:

	using System;
	using System.Collections;
	using System.Collections.Generic;
	using System.IO;
	using Mono.Rocks;

which is considerably shorter for the same result (as far as the set of
extension methods available).

We can also compare to what Microsoft does, where the System.Linq
namespace provides extension methods on types in System.Collections,
System.Collections.Generic, and System.Linq itself.

So I'm inclined to say that ~all your extension methods should be within
one namespace, unless there's a compelling reason not to.

&gt;<i> But some namespaces are
</I>&gt;<i> created during library development. There are System.Collections.Processing,
</I>&gt;<i> System.Windows.Cli and etc. They will not be renamed.
</I>
Again, I would refrain from creating/generating System.*-namespaced
types, as these would imply some degree of &quot;standardization&quot;, i.e. that
the types and assemblies would already be provided by .NET w/o grabbing
an additional assembly.  It's not a good idea.

&gt;<i> 2) Replace all duplicated extensions;
</I>
Agreed.

&gt;<i> 3) Replace all extensions, which are developed inside of the Rocks project.
</I>
Agreed.

Also, you should add:

4) Write unit tests for *all* extension methods you provide.

Mono.Rocks already provides NUnit unit tests for all extension methods,
and this should be continued for all new extension methods as well.

&gt;<i> Now, tell me please, how level integration of the Standard Extension Library
</I>&gt;<i> in Rocks can be performed?
</I>&gt;<i> I thnik, there is two ways:
</I>&gt;<i> 1) SEL is devoured by Rocks.SEL + Rocks = Rocks;
</I>&gt;<i> 2) SEL is united with Rocks into one project. SEL + Rocks = ???;
</I>&gt;<i> What's your idea?
</I>
My idea is that it comes down to naming.  Considering that, from my
perspective, having &quot;System&quot; anywhere in the namespace names is a Bad
Idea, the only way for &quot;Standard Extension Library&quot; to make much sense
is if you use the &quot;Standard&quot; namespace, which would look decidedly odd.

Alternatively, we could create a new name for the merged assembly, but
regardless any such assembly name should be based on the namespace names
used, if only to conform to typical .NET convention and not confuse
people.  (People are frequently confused when Mono.Unix types are in
Mono.Posix dll, for example.)

So my vote is (1), though if you have a nice non-System-containing
name/namespace pattern, (2) could be appealing.

 - Jon


</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028787.html">[Mono-dev] Base Class Library extending...
</A></li>
	<LI>Next message: <A HREF="028783.html">[Mono-dev] Base Class Library extending...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28791">[ date ]</a>
              <a href="thread.html#28791">[ thread ]</a>
              <a href="subject.html#28791">[ subject ]</a>
              <a href="author.html#28791">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
