<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] ClientCertificateValidation SSL in MONO
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20ClientCertificateValidation%20SSL%20in%20MONO&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028815.html">
   <LINK REL="Next"  HREF="028818.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] ClientCertificateValidation SSL in MONO</H1>
    <B>Dominik</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20ClientCertificateValidation%20SSL%20in%20MONO&In-Reply-To="
       TITLE="[Mono-dev] ClientCertificateValidation SSL in MONO">domi.w at gmx.de
       </A><BR>
    <I>Wed Aug 13 09:26:21 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028815.html">[Mono-dev] Proper way to construct objects with	mono_runtime_invoke
</A></li>
        <LI>Next message: <A HREF="028818.html">[Mono-dev] ClientCertificateValidation SSL in MONO
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28817">[ date ]</a>
              <a href="thread.html#28817">[ thread ]</a>
              <a href="subject.html#28817">[ subject ]</a>
              <a href="author.html#28817">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi,
i'm trying to  connect with ssl as client but the callback function 
never invoked and the server do not become any data... do you know why 
its not working?
i'm using SSL3 / TLSv1

On the server side(Authenticate as server works fine but not as client) 
it seems all must be correct... :(

here is my code in vb.net to authenticate as client:

                           DataSSLStream = New 
Mono.Security.Protocol.Tls.SslServerStream(DataSock.GetStream, 
X509Certificate.CreateFromCertFile(&quot;/home/mono/ssl.cer&quot;), True, False)
                           DataSSLStream.PrivateKeyCertSelectionDelegate 
= New PrivateKeySelectionCallback(AddressOf GetPrivateKey)
                           DataSSLStream.ClientCertValidationDelegate = 
New CertificateValidationCallback(AddressOf VerifyClientCertificate)

       Private Function GetPrivateKey(ByVal certificate As 
X509Certificate, ByVal targetHost As String) As AsymmetricAlgorithm
           Dim key As PrivateKey = 
PrivateKey.CreateFromFile(&quot;/home/mono/ssl.pvk&quot;, &quot;password&quot;)
           Return key.RSA
       End Function 'GetPrivateKey

       Private Function VerifyClientCertificate(ByVal certificate As 
X509Certificate, ByVal certificateErrors() As Integer) As Boolean
           If certificate IsNot Nothing Then
               Console.WriteLine(certificate.ToString(True))
           Else
               Console.WriteLine(&quot;No client certificate provided.&quot;)
           End If
           Return True
       End Function

I hope you can help me, thanks!!
Dominik
</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028815.html">[Mono-dev] Proper way to construct objects with	mono_runtime_invoke
</A></li>
	<LI>Next message: <A HREF="028818.html">[Mono-dev] ClientCertificateValidation SSL in MONO
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28817">[ date ]</a>
              <a href="thread.html#28817">[ thread ]</a>
              <a href="subject.html#28817">[ subject ]</a>
              <a href="author.html#28817">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
