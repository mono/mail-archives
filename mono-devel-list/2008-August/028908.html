<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] utf8 related patches. Please review.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20utf8%20related%20patches.%20Please%20review.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028916.html">
   <LINK REL="Next"  HREF="028933.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] utf8 related patches. Please review.</H1>
    <B>Mike V</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20utf8%20related%20patches.%20Please%20review.&In-Reply-To="
       TITLE="[Mono-dev] utf8 related patches. Please review.">vernish13 at gmail.com
       </A><BR>
    <I>Tue Aug 19 12:52:35 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028916.html">[Mono-dev] WCF in Moonlight
</A></li>
        <LI>Next message: <A HREF="028933.html">[Mono-dev] utf8 related patches. Please review.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28908">[ date ]</a>
              <a href="thread.html#28908">[ thread ]</a>
              <a href="subject.html#28908">[ subject ]</a>
              <a href="author.html#28908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Attached are multiple patches for utf8 functionality.  Please review.

-----------------------------
utf8_additions.patch
-----------------------------
Adds Implementations &amp; Tests to eglib for :
-g_utf8_strlen
-g_utf8_get_char
-g_utf8_next_char

Adds tests for g_utf8_validate, which fail on eglib but pass on glib, more
on this below.

--------------------------
utf8_validate.patch
--------------------------
Adds a new implementation of g_utf8_validate to eglib.  This will fix the
eglib test failures above.

--------------------------
mono_utils.patch
--------------------------
Adds a function requested by Kumpera to combine the functionality of
g_utf8_validate and g_utf8_strlen.

-------------------------
utf8_fulltest.c
-------------------------
A stand alone test program to test all of my functions included in these
patches. It compares my function results to glib's across all valid and
invalid utf8 values.  i.e. 0x00000000 to 0xFFFFFFFF.  My results match
glib's across the whole range.  The program also tests the current
g_utf8_validate function in eglib to show that it has a significant number
of differences with glib.

Kumpera and I are not sure on the best approach for including these tests
into the eglib tests.  The test is very time consuming, and I personally
don't think putting it into the existing eglib test suite is the best idea.
Not to mention it doesn't exactly fit the existing eglib test suite model
since it compares eglib to glib.  Any suggestions would be much appreciated.

To compile &gt; gcc utf8_fulltest.c -I/usr/include/glib-2.0
-I/usr/lib/glib-2.0/include -L/usr/lib -lglib-2.0


Mike Voorhees
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080819/aec37db6/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080819/aec37db6/attachment-0001.html</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: utf8_fulltest.c
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080819/aec37db6/attachment-0001.c">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080819/aec37db6/attachment-0001.c</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: utf8_validate.patch
Type: application/octet-stream
Size: 3918 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080819/aec37db6/attachment-0003.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080819/aec37db6/attachment-0003.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: utf8_additions.patch
Type: application/octet-stream
Size: 9286 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080819/aec37db6/attachment-0004.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080819/aec37db6/attachment-0004.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mono_utils.patch
Type: application/octet-stream
Size: 3796 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080819/aec37db6/attachment-0005.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080819/aec37db6/attachment-0005.obj</A> 
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028916.html">[Mono-dev] WCF in Moonlight
</A></li>
	<LI>Next message: <A HREF="028933.html">[Mono-dev] utf8 related patches. Please review.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28908">[ date ]</a>
              <a href="thread.html#28908">[ thread ]</a>
              <a href="subject.html#28908">[ subject ]</a>
              <a href="author.html#28908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
