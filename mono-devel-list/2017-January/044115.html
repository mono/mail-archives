<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Race condition on run time shutdown
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20Race%20condition%20on%20run%20time%20shutdown&In-Reply-To=%3CD49EACE9.84E6A%25neale%40sinenomine.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="044114.html">
   <LINK REL="Next"  HREF="044116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Race condition on run time shutdown</H1>
    <B>Neale Ferguson</B> 
    <A HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20Race%20condition%20on%20run%20time%20shutdown&In-Reply-To=%3CD49EACE9.84E6A%25neale%40sinenomine.net%3E"
       TITLE="[Mono-dev] Race condition on run time shutdown">neale at sinenomine.net
       </A><BR>
    <I>Fri Jan 13 23:12:29 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="044114.html">[Mono-dev] Mono bindings for libnice?
</A></li>
        <LI>Next message (by thread): <A HREF="044116.html">[Mono-dev] Http Pipelining
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44115">[ date ]</a>
              <a href="thread.html#44115">[ thread ]</a>
              <a href="subject.html#44115">[ subject ]</a>
              <a href="author.html#44115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
 I believe there is a window of opportunity during the mono runtime
shutdown process for a still living thread to request thread pool services
after thread pool clean up has been performed. I opened
<A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=51219">https://bugzilla.xamarin.com/show_bug.cgi?id=51219</A> to document the
problem. The gdb traces appear to show an app using HttpListener trying to
request a work thread after the thread pool has been cleaned up and, as a
result, using a mutex that has been destroyed.
 To avoid this is an icall required that would enable RequestWorkThread to
check if shutdown is in process or that the thread pool has been cleaned
so as not to attempt the operation?

Neale 

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="044114.html">[Mono-dev] Mono bindings for libnice?
</A></li>
	<LI>Next message (by thread): <A HREF="044116.html">[Mono-dev] Http Pipelining
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44115">[ date ]</a>
              <a href="thread.html#44115">[ thread ]</a>
              <a href="subject.html#44115">[ subject ]</a>
              <a href="author.html#44115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
