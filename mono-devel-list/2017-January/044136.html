<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Possible issue in timzoneinfo class with mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20Possible%20issue%20in%20timzoneinfo%20class%20with%20mono&In-Reply-To=%3CCAB%3DRytXw-2Lf%3DPddA%2Bks8nfxrcMiG0FnBZmSfsOj8HwvHNjcsw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="044135.html">
   <LINK REL="Next"  HREF="044131.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Possible issue in timzoneinfo class with mono</H1>
    <B>Marek Safar</B> 
    <A HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20Possible%20issue%20in%20timzoneinfo%20class%20with%20mono&In-Reply-To=%3CCAB%3DRytXw-2Lf%3DPddA%2Bks8nfxrcMiG0FnBZmSfsOj8HwvHNjcsw%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Possible issue in timzoneinfo class with mono">marek.safar at gmail.com
       </A><BR>
    <I>Tue Jan 31 13:07:09 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="044135.html">[Mono-dev] Possible issue in timzoneinfo class with mono
</A></li>
        <LI>Next message (by thread): <A HREF="044131.html">[Mono-dev] Can a TCP Socket SendAsync operation complete without transferring all the bytes in a BufferList?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44136">[ date ]</a>
              <a href="thread.html#44136">[ thread ]</a>
              <a href="subject.html#44136">[ subject ]</a>
              <a href="author.html#44136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Nikhil,


&gt;<i> I have raised two bugs(51794
</I>&gt;<i> &lt;<A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=51794">https://bugzilla.xamarin.com/show_bug.cgi?id=51794</A>&gt;) &amp; (51795)
</I>&gt;<i> &lt;<A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=51795">https://bugzilla.xamarin.com/show_bug.cgi?id=51795</A>&gt;for the same .I
</I>&gt;<i> haven't got any response .Please Help .
</I>&gt;<i>
</I>
Thanks for doing that. We have long term plans to replace TimeZoneInfo with
CoreRT implementation
which should also resolve your issues but if you need something short term
the best is to try to fix it
yourself and send us PR.

Marek


On Thu, Jan 26, 2017 at 6:33 PM, Marek Safar &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">marek.safar at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Could you please fill a bug report with steps how to reproduce it at
</I>&gt;&gt;<i> <A HREF="http://bugzilla.xamarin.com/">http://bugzilla.xamarin.com/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thank you
</I>&gt;&gt;<i> Marek
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Thu, Jan 26, 2017 at 1:03 AM, nikhil sehgal &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">nikhil.jiet at gmail.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> *Currently we have 2 issues while implementing TimeZoneInfo class in
</I>&gt;&gt;&gt;<i> MONO.*
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 1.       While fetching the currenttimezone using “TimeZoneInfo.Local”
</I>&gt;&gt;&gt;<i> we are getting the value of “DisplayName” and “ID” as *Local* in Linux,
</I>&gt;&gt;&gt;<i> while it is giving correct values in Windows implementation.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> [image: Inline image 1]
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 1.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> TimeZoneInfo TZI_Local = TimeZoneInfo.Local;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>               string DisplayName = TZI_Local.DisplayName;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>               string Id = TZI_Local.Id;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Console.WriteLine(&quot;Display Name : &quot; + DisplayName);
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>               Console.WriteLine(&quot;ID : &quot; + Id);
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> However when we fetch out all the TimeZone data we can have the value
</I>&gt;&gt;&gt;<i> for “DisplayName” and “ID” in Linux but that too is different from that of
</I>&gt;&gt;&gt;<i> Windows OS.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> System.Collections.ObjectModel.ReadOnlyCollection&lt;TimeZoneInfo&gt; tz;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>               tz = TimeZoneInfo.GetSystemTimeZones();
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>               foreach (TimeZoneInfo timeZone in tz)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>               {
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>                      string DisplayName = timeZone.DisplayName;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>                      string Id = timeZone.Id;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Console.WriteLine(&quot;Display Name : &quot; + DisplayName);
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>                      Console.WriteLine(&quot;ID : &quot; + Id);
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> }
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> *Output in Linux*
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> DisplayName : Asia/Tehran
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> ID : Asia/Tehran
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 2.       When we look into Adjustment Rules (TimeZoneInfo.AdjustmentRule)
</I>&gt;&gt;&gt;<i> for the calculation of DSTDate and STDDate again this class returns *-1*
</I>&gt;&gt;&gt;<i> for “Week” and “DayofWeek”. Also the other values e.g. “Day”, ”Hour”,
</I>&gt;&gt;&gt;<i> ”Minute” and “Second” are not same in Linux and Windows.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> TimeZoneInfo TZI_Local = TimeZoneInfo.Local;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> TimeZoneInfo.AdjustmentRule[] ar = TZI_Local.GetAdjustmentRules();
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> foreach (TimeZoneInfo.AdjustmentRule tzi_ar in ar)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> {
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Console.WriteLine(&quot;DaylightTransitionEnd.Day : &quot; +
</I>&gt;&gt;&gt;<i> tzi_ar.DaylightTransitionEnd.Day.ToString());
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>               Console.WriteLine(&quot;DaylightTransitionEnd.DayOfWeek : &quot; +
</I>&gt;&gt;&gt;<i> tzi_ar.DaylightTransitionEnd.DayOfWeek.ToString());
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>               Console.WriteLine(&quot;DaylightTransitionEnd.Month : &quot; +
</I>&gt;&gt;&gt;<i> tzi_ar.DaylightTransitionEnd.Month.ToString());
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>               Console.WriteLine(&quot;DaylightTransitionEnd.Week : &quot; +
</I>&gt;&gt;&gt;<i> tzi_ar.DaylightTransitionEnd.Week.ToString());
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Console.WriteLine(&quot;DaylightTransitionEnd.TimeOfDay.Hour : &quot; +
</I>&gt;&gt;&gt;<i> tzi_ar.DaylightTransitionEnd.TimeOfDay.Hour.ToString());
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Console.WriteLine(&quot;DaylightTransitionEnd.TimeOfDay.Minute : &quot; +
</I>&gt;&gt;&gt;<i> tzi_ar.DaylightTransitionEnd.TimeOfDay.Minute.ToString());
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>        Console.WriteLine(&quot;DaylightTransitionEnd.TimeOfDay.Second : &quot; +
</I>&gt;&gt;&gt;<i> tzi_ar.DaylightTransitionEnd.TimeOfDay.Second.ToString());
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> }
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> [image: Inline image 2]
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.dot.net</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">http://lists.dot.net/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Thanks &amp; Regards
</I>&gt;<i> NIkhil Sehgal
</I>&gt;<i> Mobile No 9711855929
</I>&gt;<i> Email Id <A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">nikhil.jiet at gmail.com</A>
</I>&gt;<i> Skype ID sehgal.nikhil
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-devel-list/attachments/20170131/ccae5033/attachment-0001.html">http://lists.dot.net/pipermail/mono-devel-list/attachments/20170131/ccae5033/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 278643 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-devel-list/attachments/20170131/ccae5033/attachment-0002.png">http://lists.dot.net/pipermail/mono-devel-list/attachments/20170131/ccae5033/attachment-0002.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 268686 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-devel-list/attachments/20170131/ccae5033/attachment-0003.png">http://lists.dot.net/pipermail/mono-devel-list/attachments/20170131/ccae5033/attachment-0003.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="044135.html">[Mono-dev] Possible issue in timzoneinfo class with mono
</A></li>
	<LI>Next message (by thread): <A HREF="044131.html">[Mono-dev] Can a TCP Socket SendAsync operation complete without transferring all the bytes in a BufferList?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44136">[ date ]</a>
              <a href="thread.html#44136">[ thread ]</a>
              <a href="subject.html#44136">[ subject ]</a>
              <a href="author.html#44136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
