<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Patch: XSLT thread safety
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Patch%3A%20XSLT%20thread%20safety&In-Reply-To=487B45C4.5000003%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028495.html">
   <LINK REL="Next"  HREF="028498.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Patch: XSLT thread safety</H1>
    <B>Joshua Tauberer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Patch%3A%20XSLT%20thread%20safety&In-Reply-To=487B45C4.5000003%40ximian.com"
       TITLE="[Mono-dev] Patch: XSLT thread safety">jit at occams.info
       </A><BR>
    <I>Mon Jul 14 08:34:12 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028495.html">[Mono-dev] Patch: XSLT thread safety
</A></li>
        <LI>Next message: <A HREF="028498.html">[Mono-dev] Patch: XSLT thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28496">[ date ]</a>
              <a href="thread.html#28496">[ thread ]</a>
              <a href="subject.html#28496">[ subject ]</a>
              <a href="author.html#28496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Atsushi Eno wrote:
&gt;<i> Thanks for the patch, but I don't think it makes things better.
</I>&gt;<i> It adds extra newobj cost at every transformation time, while we
</I>&gt;<i> could just do it only once. And XslTransform does not have to be
</I>&gt;<i> thread safe. If you use XslTransform in multithread scenario, you
</I>&gt;<i> must create XslTransform for each thread.
</I>
Can't the benefits outweigh the costs? There are plenty of newobj's 
throughout XSLT. One more isn't going to change much, and as far as I've 
found it's the only thing preventing XSLT from being thread safe, which 
is a big plus (for me at least).

-- 
- Josh Tauberer

<A HREF="http://razor.occams.info">http://razor.occams.info</A>

&quot;Yields falsehood when preceded by its quotation!  Yields
falsehood when preceded by its quotation!&quot; Achilles to
Tortoise (in &quot;Godel, Escher, Bach&quot; by Douglas Hofstadter)

&gt;<i> 
</I>&gt;<i> Atsushi Eno
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Joshua Tauberer wrote:
</I>&gt;&gt;<i>  From time to time I encounter index out of range errors in 
</I>&gt;&gt;<i> Mono.Xml.Xsl.XslSortEvaluator during my multi-threaded use of a single 
</I>&gt;&gt;<i> XSLT transform object, which I think was due to modifying the state of 
</I>&gt;&gt;<i> a XslSortEvaluator object during the processing of a document.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm pretty sure the attached patch fixes the problem. At the least it 
</I>&gt;&gt;<i> didn't make things worse for me.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I can commit if it's ok, though I don't know/remember how to run the 
</I>&gt;&gt;<i> XSLT tests so I haven't done that. Pointers welcome.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------------------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028495.html">[Mono-dev] Patch: XSLT thread safety
</A></li>
	<LI>Next message: <A HREF="028498.html">[Mono-dev] Patch: XSLT thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28496">[ date ]</a>
              <a href="thread.html#28496">[ thread ]</a>
              <a href="subject.html#28496">[ subject ]</a>
              <a href="author.html#28496">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
