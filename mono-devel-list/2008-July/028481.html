<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] SxSVersion third stage: The vendor's problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20SxSVersion%20third%20stage%3A%20The%20vendor%27s%20problem&In-Reply-To=8cca42d80807120739u73da7ae1o7e9cd9e38efec3db%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028480.html">
   <LINK REL="Next"  HREF="028529.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] SxSVersion third stage: The vendor's problem</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20SxSVersion%20third%20stage%3A%20The%20vendor%27s%20problem&In-Reply-To=8cca42d80807120739u73da7ae1o7e9cd9e38efec3db%40mail.gmail.com"
       TITLE="[Mono-dev] SxSVersion third stage: The vendor's problem">atsushi at ximian.com
       </A><BR>
    <I>Sat Jul 12 12:08:24 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028480.html">[Mono-dev] SxSVersion third stage: The vendor's problem
</A></li>
        <LI>Next message: <A HREF="028529.html">[Mono-dev] SxSVersion third stage: The vendor's problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28481">[ date ]</a>
              <a href="thread.html#28481">[ thread ]</a>
              <a href="subject.html#28481">[ subject ]</a>
              <a href="author.html#28481">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

Pablo wrote a nice summary on the choices and effects:
<A HREF="http://groups.google.com/group/dblinq/msg/83e5b83b14cb9289">http://groups.google.com/group/dblinq/msg/83e5b83b14cb9289</A>

I very much agree on that it would be nicer to avoid extra work,
as long as possible. The problem is that we have to compromise
at some points. In this case, extensibility is given up for
the sake of .NET compatibility (to not expose extra types in
System.Data.Linq.dll) and minimizing changes in dblinq code base.

Atsushi Eno

Rodrigo Kumpera wrote:
&gt;<i> I think one aspect we should always keep in mind is make it easier for 
</I>&gt;<i> all sides to work together.
</I>&gt;<i> We are not many and avoiding duplicate work is a good idea any time.
</I>&gt;<i> 
</I>&gt;<i> Atsushi, your email doesn't talk on this subject, but how this decision 
</I>&gt;<i> affect the overall work
</I>&gt;<i> that will have to be done by the teams involved?
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Rodrigo
</I>&gt;<i> 
</I>&gt;<i> On Sat, Jul 12, 2008 at 6:14 AM, Atsushi Eno &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">atsushi at ximian.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">atsushi at ximian.com</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>     (Forwarding to mono-devel-list as well.)
</I>&gt;<i> 
</I>&gt;<i>     If DBLinq project is to drop any other DB support than for SQL Server in
</I>&gt;<i>     System.Data.Linq.dll, I'm OK with that, since Mono community proved that
</I>&gt;<i>     it does
</I>&gt;<i>     not welcome improvements over compatibility stack anyways.
</I>&gt;<i> 
</I>&gt;<i>     Even if mono community started to want extensiblity, no worries. We
</I>&gt;<i>     could make
</I>&gt;<i>     some changes to add support for other databases, probably by adding
</I>&gt;<i>     Provider-&gt;Vendor resolution hack and/or adding external assemblies to
</I>&gt;<i>     support
</I>&gt;<i>     other DBs, when importing DBLinq tree to mono (mcs) build tree.
</I>&gt;<i> 
</I>&gt;<i>     I don't hesitate to fork some code in mono tree, as long as it could be
</I>&gt;<i>     almost
</I>&gt;<i>     harmlessly done. At least we always give our feedback on any desired
</I>&gt;<i>     changes,
</I>&gt;<i>     as we used to do :)
</I>&gt;<i> 
</I>&gt;<i>     Atsushi Eno
</I>&gt;<i> 
</I>&gt;<i>     This message is an official statement from the position and  does not
</I>&gt;<i>     represent
</I>&gt;<i>     the position of myself.
</I>&gt;<i> 
</I>&gt;<i>     Pascal Craponne wrote:
</I>&gt;<i>      &gt; Hi Pablo,
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; yes, that's the idea (I made minor changes this morning, I think they
</I>&gt;<i>      &gt; are easy to understand), an IVendor implementation is identified by
</I>&gt;<i>      &gt; its attribute.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; I placed all providers in x.Data.Linq.SqlClient namespace, exactly
</I>&gt;<i>      &gt; like there are in the .NET specifications (and I just created now
</I>&gt;<i>      &gt; Sql2000Provider and Sql2005Provider).
</I>&gt;<i>      &gt; There are also other providers, such as MySqlProvider,
</I>&gt;<i>     OracleProvider,
</I>&gt;<i>      &gt; and they are PUBLIC.
</I>&gt;<i>      &gt; Now we have two options (not three) for MONO_STRICT:
</I>&gt;<i>      &gt; 1. We want to support other databases and then we keep those
</I>&gt;<i>     providers
</I>&gt;<i>      &gt; public and in System.Data.Linq assembly
</I>&gt;<i>      &gt; 2. We don't want to keep those providers public and then we remove
</I>&gt;<i>      &gt; support for other databases
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; To me the choice is obvious. Make yours :)
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Pascal.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; On Sat, Jul 12, 2008 at 00:29, Pablo I&#241;igo Blasco
</I>&gt;<i>     &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pibgeus at gmail.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pibgeus at gmail.com</A>&gt;
</I>&gt;<i>      &gt; &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pibgeus at gmail.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pibgeus at gmail.com</A>&gt;&gt;&gt; wrote:
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;     Hi Pascal, thank for answering.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;     On Fri, Jul 11, 2008 at 20:02, Pascal Craponne
</I>&gt;<i>     &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">picrap at gmail.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">picrap at gmail.com</A>&gt;
</I>&gt;<i>      &gt;     &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">picrap at gmail.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">picrap at gmail.com</A>&gt;&gt;&gt; wrote:
</I>&gt;<i>      &gt;     &quot;I don't like much your implementation of
</I>&gt;<i>      &gt;     VendorFromProviderType(), but we may change it later (with
</I>&gt;<i>      &gt;     reflection and assemblies scan), and please don't create any
</I>&gt;<i>      &gt;     .Strict.cs file. If it is good for Mono, it is good for
</I>&gt;<i>     DbLinq :)&quot;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;     I have seen your idea, it looks much better(and a strict.cs isn't
</I>&gt;<i>      &gt;     needed) :-). Nonetheless I have a couple of questions:
</I>&gt;<i>      &gt;     -Why isn't needed anoter assembly that contains providers
</I>&gt;<i>     types in
</I>&gt;<i>      &gt;     strict mode?
</I>&gt;<i>      &gt;     - How does the user of System.Data.Linq.dll do to specify wich
</I>&gt;<i>      &gt;     vendor he want to use? As far as I understood your proposal is to
</I>&gt;<i>      &gt;     mark with the providerattibutte both: user's &quot;specific domain
</I>&gt;<i>      &gt;     datacontext&quot; and vendors implementations, isn't it?
</I>&gt;<i>      &gt;     When both providerattributte's Type property match we would get
</I>&gt;<i>      &gt;     the vendor to use, right?
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;     Finally you said:
</I>&gt;<i>      &gt;     &quot;if we use reflection for method above, then there is no need to
</I>&gt;<i>      &gt;     reference all drivers in a single assembly.&quot;
</I>&gt;<i>      &gt;     Where are located those &quot;providers classes&quot; for the strict mode
</I>&gt;<i>      &gt;     vendors?
</I>&gt;<i>      &gt;     I think we need to have those providers types in an external
</I>&gt;<i>      &gt;     assembly since they must be public (for the user's datacontext)
</I>&gt;<i>      &gt;     and we shouldn't change System.Data.Linq API.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;     What haven't I understood?
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;     &quot;Regarding Mono, you can place all vendors code in the
</I>&gt;<i>      &gt;     System.Data.Linq.csproj.&quot;
</I>&gt;<i>      &gt;     I did it. It was the main idea of the embeded approach.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;     &quot;I committed a version implementing VendorFromProviderType()
</I>&gt;<i>      &gt;     (please rename this method, there's no verb in it).&quot;
</I>&gt;<i>      &gt;     Ok. I agree.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;     Regards.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;     PS:
</I>&gt;<i>      &gt;     Excuse me about spelling mistakes, I am from a mobile phone.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; --
</I>&gt;<i>      &gt; Pascal.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; jabber/gtalk: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pascal at jabber.fr</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pascal at jabber.fr</A>&gt;
</I>&gt;<i>     &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pascal at jabber.fr</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pascal at jabber.fr</A>&gt;&gt;
</I>&gt;<i>      &gt; msn: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pascal at craponne.org</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pascal at craponne.org</A>&gt;
</I>&gt;<i>     &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pascal at craponne.org</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pascal at craponne.org</A>&gt;&gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; --~--~---------~--~----~------------~-------~--~----~
</I>&gt;<i>      &gt; You received this message because you are subscribed to the Google
</I>&gt;<i>      &gt; Groups &quot;DbLinq&quot; group.
</I>&gt;<i>      &gt; To post to this group, send email to <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">dblinq at googlegroups.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">dblinq at googlegroups.com</A>&gt;
</I>&gt;<i>      &gt; To unsubscribe from this group, send email to
</I>&gt;<i>      &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">dblinq-unsubscribe at googlegroups.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">dblinq-unsubscribe at googlegroups.com</A>&gt;
</I>&gt;<i>      &gt; For more options, visit this group at
</I>&gt;<i>      &gt; <A HREF="http://groups.google.com/group/dblinq?hl=en">http://groups.google.com/group/dblinq?hl=en</A>
</I>&gt;<i>      &gt; -~----------~----~----~----~------~----~------~--~---
</I>&gt;<i>      &gt;
</I>&gt;<i> 
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     Mono-devel-list mailing list
</I>&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028480.html">[Mono-dev] SxSVersion third stage: The vendor's problem
</A></li>
	<LI>Next message: <A HREF="028529.html">[Mono-dev] SxSVersion third stage: The vendor's problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28481">[ date ]</a>
              <a href="thread.html#28481">[ thread ]</a>
              <a href="subject.html#28481">[ subject ]</a>
              <a href="author.html#28481">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
