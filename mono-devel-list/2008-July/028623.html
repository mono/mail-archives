<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] HEADS UP: Linear IR branch merge
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20HEADS%20UP%3A%20Linear%20IR%20branch%20merge&In-Reply-To=1216682563.3530.42.camel%40limestone">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028617.html">
   <LINK REL="Next"  HREF="028641.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] HEADS UP: Linear IR branch merge</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20HEADS%20UP%3A%20Linear%20IR%20branch%20merge&In-Reply-To=1216682563.3530.42.camel%40limestone"
       TITLE="[Mono-dev] HEADS UP: Linear IR branch merge">vargaz at gmail.com
       </A><BR>
    <I>Wed Jul 23 16:21:36 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028617.html">[Mono-dev] HEADS UP: Linear IR branch merge
</A></li>
        <LI>Next message: <A HREF="028641.html">[Mono-dev] HEADS UP: Linear IR branch merge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28623">[ date ]</a>
              <a href="thread.html#28623">[ thread ]</a>
              <a href="subject.html#28623">[ subject ]</a>
              <a href="author.html#28623">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>                              Hi All,

 The merge is now done, the current testing status is the following:
- x86/amd64 linux seems to be in good shape, the other
architectures/OSes have some problems

I would like to ask people to try out the new code, and report
problems either by
replying to this mail or by using bugzilla.

To help track down problems, the new JIT actually includes the old
one, and there is
an env variable called MONO_COUNT which if set determines the number of
methods compiled by the new JIT. So running your app with MONO_COUNT=0 will
use the old JIT. This variable can be used to determine the exact
method which is
miscompiled by the new JIT using a binary search, ie.:

MONO_COUNT=10000 mono app.exe -&gt; fail
MONO_COUNT=5000 mono app.exe -&gt; fail
MONO_COUNT=2500 mono app.exe -&gt; success
MONO_COUNT=3500 mono app.exe

etc.

When the new JIT code is deemed stable enough, the old JIT code and this env
variable will be removed.

In case anyone wants to revert their tree to before the merge, the before merge
revision is  r108475.

                                   Zoltan

&gt;<i> On Tue, 2008-07-22 at 01:09 +0200, Zoltan Varga wrote:
</I>&gt;&gt;<i> Hi All,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   Now that we have branched for mono 2.0, we would like to merge the
</I>&gt;&gt;<i> work done on the linear IR branch to svn HEAD. The
</I>&gt;&gt;<i> linear IR branch was created in 2005 October to explore some ideas on
</I>&gt;&gt;<i> how to make our JIT simpler and how to make
</I>&gt;&gt;<i> it generate better code. A lot of work has been put into the branch
</I>&gt;&gt;<i> over the years, and now we are ready to merge it.
</I>&gt;&gt;<i> Changes of this magnitude are never easy, so svn head might be a bit
</I>&gt;&gt;<i> unstable for a few weeks as we work out the problems. Documentation
</I>&gt;&gt;<i> for the new JIT and some benchmarks can be found at
</I>&gt;&gt;<i> <A HREF="http://www.mono-project.com/Linear_IL">http://www.mono-project.com/Linear_IL</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I plan to do the merge tomorrow. Until then, please avoid checking in
</I>&gt;&gt;<i> code to the mono/mini directory so as to not interfere with the merge.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is great news!  Do we have a list of architectures that will be
</I>&gt;<i> supported, and more importantly a list of architectures that will be
</I>&gt;<i> broken when you do the merge?
</I>&gt;<i>
</I>&gt;<i> If I remember correctly, ARM, x86, x86-64, sparc, and itanium are ported
</I>&gt;<i> already?
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> -g
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028617.html">[Mono-dev] HEADS UP: Linear IR branch merge
</A></li>
	<LI>Next message: <A HREF="028641.html">[Mono-dev] HEADS UP: Linear IR branch merge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28623">[ date ]</a>
              <a href="thread.html#28623">[ thread ]</a>
              <a href="subject.html#28623">[ subject ]</a>
              <a href="author.html#28623">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
