<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Patch: XSLT thread safety
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Patch%3A%20XSLT%20thread%20safety&In-Reply-To=487B3F9A.4070302%40occams.info">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028493.html">
   <LINK REL="Next"  HREF="028496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Patch: XSLT thread safety</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Patch%3A%20XSLT%20thread%20safety&In-Reply-To=487B3F9A.4070302%40occams.info"
       TITLE="[Mono-dev] Patch: XSLT thread safety">atsushi at ximian.com
       </A><BR>
    <I>Mon Jul 14 08:25:40 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028493.html">[Mono-dev] Patch: XSLT thread safety
</A></li>
        <LI>Next message: <A HREF="028496.html">[Mono-dev] Patch: XSLT thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28495">[ date ]</a>
              <a href="thread.html#28495">[ thread ]</a>
              <a href="subject.html#28495">[ subject ]</a>
              <a href="author.html#28495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

Thanks for the patch, but I don't think it makes things better.
It adds extra newobj cost at every transformation time, while we
could just do it only once. And XslTransform does not have to be
thread safe. If you use XslTransform in multithread scenario, you
must create XslTransform for each thread.

Atsushi Eno


Joshua Tauberer wrote:
&gt;<i>  From time to time I encounter index out of range errors in 
</I>&gt;<i> Mono.Xml.Xsl.XslSortEvaluator during my multi-threaded use of a single 
</I>&gt;<i> XSLT transform object, which I think was due to modifying the state of a 
</I>&gt;<i> XslSortEvaluator object during the processing of a document.
</I>&gt;<i> 
</I>&gt;<i> I'm pretty sure the attached patch fixes the problem. At the least it 
</I>&gt;<i> didn't make things worse for me.
</I>&gt;<i> 
</I>&gt;<i> I can commit if it's ok, though I don't know/remember how to run the 
</I>&gt;<i> XSLT tests so I haven't done that. Pointers welcome.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028493.html">[Mono-dev] Patch: XSLT thread safety
</A></li>
	<LI>Next message: <A HREF="028496.html">[Mono-dev] Patch: XSLT thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28495">[ date ]</a>
              <a href="thread.html#28495">[ thread ]</a>
              <a href="subject.html#28495">[ subject ]</a>
              <a href="author.html#28495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
