<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Using Mono.Security with .Net 1.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Using%20Mono.Security%20with%20.Net%201.1&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032748.html">
   <LINK REL="Next"  HREF="032848.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Using Mono.Security with .Net 1.1</H1>
    <B>Florin Daneliuc</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Using%20Mono.Security%20with%20.Net%201.1&In-Reply-To="
       TITLE="[Mono-dev] Using Mono.Security with .Net 1.1">florin.daneliuc at iquestint.com
       </A><BR>
    <I>Fri Aug  7 10:37:43 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032748.html">[Mono-dev] Update C5 to v1.1.0
</A></li>
        <LI>Next message: <A HREF="032848.html">[Mono-dev] Using Mono.Security with .Net 1.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32749">[ date ]</a>
              <a href="thread.html#32749">[ thread ]</a>
              <a href="subject.html#32749">[ subject ]</a>
              <a href="author.html#32749">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm working on a older project which uses Mono.Security with .Net 1.1 for the SSL capabilities. The project is using an older version of the library from around 2004-2006. Recently while creating some test we seen that starting from a test a number of TLS connections (100-500) caused some of them (2-10 connections) to get stuck in blocked state with no errors raise (the cause was creating connection at intervals less then 20s).

Taking the latest sources this problem was fixed, but another one arouse, a System.ExecutionEngineException happens when trying to simulate some data transfer. The stack trace of the exception is
 System.Runtime.Remoting.Messaging.StackBuilderSink. The exact stack trace is
  mscorlib.dll!System.Runtime.Remoting.Messaging.StackBuilderSink.AsyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage msg, System.Runtime.Remoting.Messaging.IMessageSink replySink) + 0x1a6 bytes
  mscorlib.dll!System.Runtime.Remoting.Proxies.AgileAsyncWorkerItem.ThreadPoolCallBack(System.Object o) + 0x3f bytes

The scenario is: TestService1 connects through ServiceA to TestService2. The exact scope is to test the ServiceA under load.
When I start TestService1 this sends data to TestService2 (through the ServiceA proxy) which will send back some response data. After sending some packages (1 to 30 packages) from TestService1 I get this exception on the second service but only when I use the new Mono.Security version, using the older version It works just fine.
If I compile the whole stuff using .Net 2.0 everything seems to work just fine. Is there a known issues compiling the Mono.Security library under .Net 1.1?

Thank you,
florin
Florin Daneliuc
Senior Software Engineer
IQUEST Technologies SRL
RO 400001 Cluj Napoca, Motilor 6-8
Tel:  +40-(0)264-592531
Fax:  +40-(0)264-590682
E-mail:  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">florin.daneliuc at iquestint.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">florin.daneliuc at iquestint.com</A>&gt;
Web:  www.iquest-group.de&lt;<A HREF="http://www.iquest-group.de/">http://www.iquest-group.de/</A>&gt;

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090807/0cd2ab78/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090807/0cd2ab78/attachment-0001.html</A> 
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032748.html">[Mono-dev] Update C5 to v1.1.0
</A></li>
	<LI>Next message: <A HREF="032848.html">[Mono-dev] Using Mono.Security with .Net 1.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32749">[ date ]</a>
              <a href="thread.html#32749">[ thread ]</a>
              <a href="subject.html#32749">[ subject ]</a>
              <a href="author.html#32749">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
