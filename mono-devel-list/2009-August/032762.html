<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Moving *.Design to package &quot;mono-design&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Moving%20%2A.Design%20to%20package%20%22mono-design%22&In-Reply-To=014801ca18d5%24544243d0%24fcc6cb70%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032761.html">
   <LINK REL="Next"  HREF="032764.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Moving *.Design to package &quot;mono-design&quot;</H1>
    <B>Ivan Zlatev</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Moving%20%2A.Design%20to%20package%20%22mono-design%22&In-Reply-To=014801ca18d5%24544243d0%24fcc6cb70%24%40com"
       TITLE="[Mono-dev] Moving *.Design to package &quot;mono-design&quot;">contact at i-nz.net
       </A><BR>
    <I>Sun Aug  9 06:30:23 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032761.html">[Mono-dev] Moving *.Design to package &quot;mono-design&quot;
</A></li>
        <LI>Next message: <A HREF="032764.html">[Mono-dev] Moving *.Design to package &quot;mono-design&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32762">[ date ]</a>
              <a href="thread.html#32762">[ thread ]</a>
              <a href="subject.html#32762">[ subject ]</a>
              <a href="author.html#32762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Andreas is right and I completely forgot about this when we discussed :(.
There are several parts of Windows Forms that use reflection to instantiate
types part of which are in System.Design. As he says some of those types are
the TypeEditors and TypeConverters. And if we don't ship WinForms together
with System.Design things will break. The same is also probably valid for
ASP.NET. And you won't be able to find a hard dependency between the
WinForms/ASP.NET and System.Design because the way it works is via an
attribute on a class which is initialized with a Type name (string) in order
to be loose coupled. Now the problem is that if System.Design is missing
those type won't be resolved from code that uses them will break.

An example:

namespace System.Windows.Forms {
    [Editor(&quot;System.Windows.Forms.Design.DockEditor, &quot; +
Consts.AssemblySystem_Design, typeof(System.Drawing.Design.UITypeEditor))]
    public enum DockStyle {
        None    = 0,
        Top    = 1,
        Bottom    = 2,
        Left    = 3,
        Right    = 4,
        Fill    = 5
    }
}

If System.Design is missing the WinForms property grid will no long work for
editing the Dock property of a Control (TypeEditor) and also won't be able
to convert the type to a human readable string (TypeConverter).

Now, I am not familiar with ASP.NET but a fgrep showed that there are quite
a lot of those attributes with references to System.Design and I guess say
if I am developing an app and I have a form where a user can select a Color
and I am using the System.Design Color editor and System.Design is missing
my app will break.

Unfortunately that leaves you with no option of avoiding aspnet pulling
winforms through System.Design. :(
Kind Regards,

Ivan Zlatev
<A HREF="http://ivanzlatev.com">http://ivanzlatev.com</A>


On Sun, Aug 9, 2009 at 10:39 AM, Andreas Nahr &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ClassDevelopment at a-softtech.com</A>&gt; wrote:

&gt;<i> Just some info (for the &quot;additional info&quot;):
</I>&gt;<i> System.Windows.Forms (and especially the PropertyGrid control) extremely
</I>&gt;<i> depend on the *Design assemblies. ANY application that uses these will need
</I>&gt;<i> the *Design assemblies at runtime.
</I>&gt;<i>
</I>&gt;<i> Also imho the name mono-designtime isn't optimal because it somehow
</I>&gt;<i> suggests
</I>&gt;<i> they are not needed at runtime which is not true.
</I>&gt;<i>
</I>&gt;<i> Greetings
</I>&gt;<i> Andreas
</I>&gt;<i>
</I>&gt;<i> -----Urspr&#252;ngliche Nachricht-----
</I>&gt;<i> Von: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>] Im Auftrag von Sandy
</I>&gt;<i> Armstrong
</I>&gt;<i> Gesendet: Samstag, 8. August 2009 01:04
</I>&gt;<i> An: Andrew Jorgensen
</I>&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Betreff: Re: [Mono-dev] Moving *.Design to package &quot;mono-design&quot;
</I>&gt;<i>
</I>&gt;<i> On Fri, Aug 7, 2009 at 3:57 PM, Andrew Jorgensen&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ajorgensen at novell.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; We have a proposal to move System.Design.dll, System.Drawing.Design.dll,
</I>&gt;<i> and System.Web.Extensions.Design.dll to a separate package to break the
</I>&gt;<i> dependency between mono-web and mono-winforms.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Tomboy has started to use System.Web so if we leave the packages as is it
</I>&gt;<i> will suddenly depend on mono-winforms (where System.Design currently lives,
</I>&gt;<i> which is needed by System.Web.Extensions.Design, currently in mono-web,
</I>&gt;<i> which Tomboy doesn't need).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ivanz suggests the new package be called mono-designtime.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Please chime in if you have relevant information or a good reason to
</I>&gt;<i> object.
</I>&gt;<i>
</I>&gt;<i> I favor this split.  :-)
</I>&gt;<i>
</I>&gt;<i> Some additional info:
</I>&gt;<i> * mono-winforms is a multi-megabyte package, and having a dependency
</I>&gt;<i> on it becomes an issue for Tomboy and other apps that want to be on
</I>&gt;<i> the openSUSE GNOME Live CD or other space-constrained environments
</I>&gt;<i> * I cannot think of any situations where a user application would
</I>&gt;<i> actually need *Design.dll
</I>&gt;<i> * It &quot;looks bad&quot; to have Mono apps on Linux depend on a
</I>&gt;<i> &quot;controversial&quot; package like mono-winforms
</I>&gt;<i>
</I>&gt;<i> Hope this helps,
</I>&gt;<i> Sandy
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090809/8c08ed4e/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090809/8c08ed4e/attachment-0001.html</A> 
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032761.html">[Mono-dev] Moving *.Design to package &quot;mono-design&quot;
</A></li>
	<LI>Next message: <A HREF="032764.html">[Mono-dev] Moving *.Design to package &quot;mono-design&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32762">[ date ]</a>
              <a href="thread.html#32762">[ thread ]</a>
              <a href="subject.html#32762">[ subject ]</a>
              <a href="author.html#32762">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
