<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Test suite failures (Mono 2.10.2)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Test%20suite%20failures%20%28Mono%202.10.2%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037698.html">
   <LINK REL="Next"  HREF="037701.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Test suite failures (Mono 2.10.2)</H1>
    <B>Harry Wilkinson</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Test%20suite%20failures%20%28Mono%202.10.2%29&In-Reply-To="
       TITLE="[Mono-dev] Test suite failures (Mono 2.10.2)">hwilkinson at mdsol.com
       </A><BR>
    <I>Thu Jun 23 13:44:17 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037698.html">[Mono-dev] StackOverflow on System.Delegate.Equals
</A></li>
        <LI>Next message: <A HREF="037701.html">[Mono-dev] Test suite failures (Mono 2.10.2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37700">[ date ]</a>
              <a href="thread.html#37700">[ thread ]</a>
              <a href="subject.html#37700">[ subject ]</a>
              <a href="author.html#37700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm encountering some test failures with the Mono 2.10.2 source tarball
distributed at <A HREF="http://ftp.novell.com/pub/mono/sources/mono/">http://ftp.novell.com/pub/mono/sources/mono/</A>

Basically I'm trying to package it for deployment on Ubuntu 10.04.2 servers
in a cloud configuration.  So far I've been building from source and
encountered no significant problems other than the long build time.  I'd
like to be able to reduce that by building it once and deploying a compiled
package.  So I'm using dpkg-buildpackage.

However, now that I'm packaging rather than just building and installing, it
seems that the test suite is run and there are some test failures.  The
first and most obvious one is that it appears that a file is missing from
the source tarball:

mcs/class/corlib/Test/System.Runtime.Serialization.Formatters.Binary/VersionTolerantSerialization/VersionTolerantSerializationTestLib/6.0/Address.cs

The file is there in the Git repo under the 2.10.2 tag, but it's not in the
tarball.  Unfortunately it's referenced in the associated Makefile
(mcs/class/corlib/Makefile).  The same applies to 2.10.1, so I'm guessing
the file is omitted from whatever process builds the tarballs.

I switched to compiling from the source taken from Git, checkout out the
2.10.2 tag, and I get a different error (which is also what I get with the
tarball version if I just hack the makefile):

make[8]: Entering directory
`/home/hwilkinson/mono/mcs/class/System.Web.DynamicData'
MCS     [net_2_0] System.Web.DynamicData_test_net_2_0.dll
Test/../../System.Web/Test/mainsoft/NunitWeb/NunitWeb/MyTemplateControls.cs(43,19):
error CS0507:
`MyTemplateControls.TestTemplateControl.CreateChildControls()': cannot
change access modifiers when overriding `protected' inherited member
`System.Web.UI.Control.CreateChildControls()'
/home/hwilkinson/mono/mcs/class/lib/net_2_0/System.Web.dll (Location of the
symbol related to previous error)
Compilation failed: 1 error(s), 0 warnings
make[8]: *** [System.Web.DynamicData_test_net_2_0.dll] Error 1

It looks like this could well be an incorrect preprocessor definition
'SYSTEM_WEB_EXTENSIONS' (not sure whether it should be defined or not)
in mcs/class/System.Web/Test/mainsoft/NunitWeb/NunitWeb/MyTemplateControls.cs.

Is this expected?  I had sort of assumed that a released version would have
a passing test suite.  Am I doing something wrong?

Any advice (well, almost) would be gratefully received.

Thanks.

Harry Wilkinson
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110623/0c8de4fc/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110623/0c8de4fc/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037698.html">[Mono-dev] StackOverflow on System.Delegate.Equals
</A></li>
	<LI>Next message: <A HREF="037701.html">[Mono-dev] Test suite failures (Mono 2.10.2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37700">[ date ]</a>
              <a href="thread.html#37700">[ thread ]</a>
              <a href="subject.html#37700">[ subject ]</a>
              <a href="author.html#37700">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
