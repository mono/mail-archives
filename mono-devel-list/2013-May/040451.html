<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] DateTime.ToBinary / TZ differences between windows and	linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20DateTime.ToBinary%20/%20TZ%20differences%20between%20windows%20and%0A%09linux&In-Reply-To=%3C519B3E06.20206%40dasz.at%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040450.html">
   <LINK REL="Next"  HREF="040452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] DateTime.ToBinary / TZ differences between windows and	linux</H1>
    <B>David Schmitt</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20DateTime.ToBinary%20/%20TZ%20differences%20between%20windows%20and%0A%09linux&In-Reply-To=%3C519B3E06.20206%40dasz.at%3E"
       TITLE="[Mono-dev] DateTime.ToBinary / TZ differences between windows and	linux">david at dasz.at
       </A><BR>
    <I>Tue May 21 09:27:34 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040450.html">[Mono-dev] System.IO.IOException: The authentication or decryption	has failed.
</A></li>
        <LI>Next message: <A HREF="040452.html">[Mono-dev] Processing XML atomic values in XML Schema
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40451">[ date ]</a>
              <a href="thread.html#40451">[ thread ]</a>
              <a href="subject.html#40451">[ subject ]</a>
              <a href="author.html#40451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've used DateTime.ToBinary() to serialize dates between linux (mono) 
and windows (ms.net). All dates are in CEST (central european standard 
time), but the timezone's definitions differs between mono and ms.net, 
causing the &quot;wrong&quot; time to be displayed.

On a recent mono 3.x:

&gt;<i> csharp&gt; new DateTime(1979,6,30).IsDaylightSavingTime()
</I>&gt;<i> false
</I>&gt;<i> csharp&gt; new DateTime(1980,6,30).IsDaylightSavingTime()
</I>&gt;<i> true
</I>&gt;<i> csharp&gt;
</I>
ms.net on the other hand returns true for both calls. This in turn leads 
to ToUniversal() to return different times.

mono's implementation is arguably more correct with regards to reality, 
as 1979-06-30 really did *not* have DST and 1980-06-30 really *did* have 
DST.


Of course, the best way to work around this would be to convert the 
complete application and database to use UTC, except when displaying to 
the user. This is already on the roadmap for other reasons. ;-)


The questions for mono-devel are rather:

   * Is this behavior intentional?
   * Is there a quick workaround to match mono's and ms.net's behavior?


Regards, David
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040450.html">[Mono-dev] System.IO.IOException: The authentication or decryption	has failed.
</A></li>
	<LI>Next message: <A HREF="040452.html">[Mono-dev] Processing XML atomic values in XML Schema
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40451">[ date ]</a>
              <a href="thread.html#40451">[ thread ]</a>
              <a href="subject.html#40451">[ subject ]</a>
              <a href="author.html#40451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
