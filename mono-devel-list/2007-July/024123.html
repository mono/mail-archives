<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] cross compiling mono in OE for ARM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20cross%20compiling%20mono%20in%20OE%20for%20ARM&In-Reply-To=f96d234e0707101353t37db70d4t53a537b45ecf7fa4%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024122.html">
   <LINK REL="Next"  HREF="024125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] cross compiling mono in OE for ARM</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20cross%20compiling%20mono%20in%20OE%20for%20ARM&In-Reply-To=f96d234e0707101353t37db70d4t53a537b45ecf7fa4%40mail.gmail.com"
       TITLE="[Mono-dev] cross compiling mono in OE for ARM">lupus at ximian.com
       </A><BR>
    <I>Tue Jul 10 17:10:50 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024122.html">[Mono-dev] cross compiling mono in OE for ARM
</A></li>
        <LI>Next message: <A HREF="024125.html">[Mono-dev] cross compiling mono in OE for ARM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24123">[ date ]</a>
              <a href="thread.html#24123">[ thread ]</a>
              <a href="subject.html#24123">[ subject ]</a>
              <a href="author.html#24123">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/10/07 Cliff Brake wrote:
&gt;<i> &gt; I think openmoko currently uses oabi (I'm not currently build for
</I>
Uhm, from
<A HREF="http://lists.openmoko.org/pipermail/community/2006-November/000079.html:">http://lists.openmoko.org/pipermail/community/2006-November/000079.html:</A>
it seems like they use softfloat, but with the old ABI.
Mono has been tested on the hard-float old ABI and on the softfloat
eabi.
So if you compile for the old abi, hw FPA instructions are used by the
jit and they may not have the kernel emulation enables, so you get the
SIGILL.
You may want to force the 
#define MONO_ARCH_SOFT_FLOAT 1
at the start of mini/mini-arm.h, even for the ARM_FPU_FPA case.

No guarantee that will work, but if you're lucky it may and it is in the
right direction of things if they really still use the softfloat old
abi (which in 2007 is a bit silly...) instead of eabi.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024122.html">[Mono-dev] cross compiling mono in OE for ARM
</A></li>
	<LI>Next message: <A HREF="024125.html">[Mono-dev] cross compiling mono in OE for ARM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24123">[ date ]</a>
              <a href="thread.html#24123">[ thread ]</a>
              <a href="subject.html#24123">[ subject ]</a>
              <a href="author.html#24123">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
