<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono memory problems!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20memory%20problems%21&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024329.html">
   <LINK REL="Next"  HREF="024176.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono memory problems!</H1>
    <B>David Isaac Wolinsky</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20memory%20problems%21&In-Reply-To="
       TITLE="[Mono-dev] Mono memory problems!">davidiw at ufl.edu
       </A><BR>
    <I>Wed Jul 18 01:08:29 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024329.html">[Mono-dev] Request for backport of garbage collection patch
</A></li>
        <LI>Next message: <A HREF="024176.html">[Mono-dev] Mixed line breaks in Mono.Data/Provider.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24205">[ date ]</a>
              <a href="thread.html#24205">[ thread ]</a>
              <a href="subject.html#24205">[ subject ]</a>
              <a href="author.html#24205">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My lab works on a peer-to-peer network overlay and we've noticed 
recently significant memory issues.  Some background...

This application is constantly creating new objects and shortly 
thereafter deleting (removing reference to) them
Using a sample run with 150 threads running...
Mono on Linux has a growth rate of ~25 KB per second with a base of 50MB 
(y = 25K *x + 50M)
.NET on Windows stabilizes at 35 MB

We ran heap-shot with Linux and found that in a 12 hour period it 
reported this...
start:
objects: 58,823
heap memory: 6,838,426 bytes

end:
objects: 59,925
heap memory: 6,862,336

We have run mono with GC_MAXIMUM_HEAP_SIZE and the memory size (RES) got 
significantly bigger than it.

I have searched for the Compacting GC with no luck, we would really like 
to see if it would help our problem.

The only operating system resources we're using are Sockets, but we use 
them VERY heavily!

If anyone has any suggestions, we'd be open to test out anything at this 
point!

We are leaning towards an issue in unmanaged memory and possibly a bug 
in mono.

Best regards,
David


ps, I fwded this to gc and devel list because gc list looks quite 
dead.... sorry for the duplication

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024329.html">[Mono-dev] Request for backport of garbage collection patch
</A></li>
	<LI>Next message: <A HREF="024176.html">[Mono-dev] Mixed line breaks in Mono.Data/Provider.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24205">[ date ]</a>
              <a href="thread.html#24205">[ thread ]</a>
              <a href="subject.html#24205">[ subject ]</a>
              <a href="author.html#24205">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
