<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] GUID generation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20GUID%20generation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024308.html">
   <LINK REL="Next"  HREF="024310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] GUID generation</H1>
    <B>pablosantosluac</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20GUID%20generation&In-Reply-To="
       TITLE="[Mono-dev] GUID generation">pablosantosluac at terra.es
       </A><BR>
    <I>Fri Jul 27 16:45:46 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024308.html">[Mono-dev] GUID generation
</A></li>
        <LI>Next message: <A HREF="024310.html">[Mono-dev] GUID generation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24309">[ date ]</a>
              <a href="thread.html#24309">[ thread ]</a>
              <a href="subject.html#24309">[ subject ]</a>
              <a href="author.html#24309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This fix looks good (performance wise)

I don't understand why it is taking so long... Specially taking into account that the old sun blade almost needs the same time... (it is about 5000 bogomips...:-P)

Any idea why the .net implementation is faster?

thanks,

pablo


  ----- Original Message ----- 
  From: Jonathan Chambers 
  To: pablosantosluac 
  Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A> 
  Sent: Friday, July 27, 2007 7:18 PM
  Subject: Re: [Mono-dev] GUID generation


  Hello,

  A quick test on my Xeon 3.6GHz reveals the following for me for generating a million GUIDs:

  .Net: 300 ms
  mono: 2300 ms
  mono (modified): 1875 ms

  So, not quite sure why you see 8 seconds on your server. For the modified version, I simply made the byte array inside of NewGuid static (since we are already locking for the RNG) for some performance improvement. Can someone comment if that change is acceptable? 

  Thanks,
  Jonathan


  On 7/27/07, pablosantosluac &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A>&gt; wrote:
    Hi,

    I need to generate a large number of GUIDs. I tried with my laptop and a
    .net console application and it can generate about 1million GUIDs in about
    480ms.

    Then I tried the same with mono and it needed 3.4 seconds.

    My surprise was trying on our Server (Intel(R) Xeon(TM) CPU 3.00GHz) where I
    got the following results:

    8 seconds to generate a million of GUIDs.

    Surprinsingly my old Sun Blade 1000 took almost the same time (Solaris 10 
    SPARC): 9 seconds.

    I guess there is a reason why .NET implements faster GUID generation but, is
    there any other globally unique number generator for Mono/Linux which I can
    use? Also, any idea why the Xeon (which is much, much faster than both the 
    laptop and the Solaris box) is so slooow generating GUIDs?

    Thanks,

    pablo

    _______________________________________________
    Mono-devel-list mailing list
    <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
    <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070727/ec0465ad/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070727/ec0465ad/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024308.html">[Mono-dev] GUID generation
</A></li>
	<LI>Next message: <A HREF="024310.html">[Mono-dev] GUID generation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24309">[ date ]</a>
              <a href="thread.html#24309">[ thread ]</a>
              <a href="subject.html#24309">[ subject ]</a>
              <a href="author.html#24309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
