<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Path for filewatcher.c
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Path%20for%20filewatcher.c&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024098.html">
   <LINK REL="Next"  HREF="024100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Path for filewatcher.c</H1>
    <B>Thong Nguyen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Path%20for%20filewatcher.c&In-Reply-To="
       TITLE="[Mono-dev] Path for filewatcher.c">tum at veridicus.com
       </A><BR>
    <I>Mon Jul  9 02:47:55 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024098.html">[Mono-dev] Release date for next version (1.2.5)?
</A></li>
        <LI>Next message: <A HREF="024100.html">[Mono-dev] Path for filewatcher.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24096">[ date ]</a>
              <a href="thread.html#24096">[ thread ]</a>
              <a href="subject.html#24096">[ subject ]</a>
              <a href="author.html#24096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The function ves_icall_System_IO_FSW_SupportsFSW inside
mono/metadata/filewatcher.c appears to be wrong.

The function incorrectly calls mono_dl_build_path with a full library name
as an argument and thus gets back an incorrectly library name
(libfam.so.soinstead of
libfam.so) so neither gamin nor fam gets used and mono falls back to the
polling watcher.

It seems odd that noone has noticed this but the patch (attached) fixes it
for me.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070709/de3cc517/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070709/de3cc517/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: filewatcher.diff
Type: application/octet-stream
Size: 782 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070709/de3cc517/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070709/de3cc517/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024098.html">[Mono-dev] Release date for next version (1.2.5)?
</A></li>
	<LI>Next message: <A HREF="024100.html">[Mono-dev] Path for filewatcher.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24096">[ date ]</a>
              <a href="thread.html#24096">[ thread ]</a>
              <a href="subject.html#24096">[ subject ]</a>
              <a href="author.html#24096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
