<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [Patch] fix for #82022
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPatch%5D%20fix%20for%20%2382022&In-Reply-To=8cca42d80707060855o54d982d3vd94728474bb1cdc0%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024089.html">
   <LINK REL="Next"  HREF="024111.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [Patch] fix for #82022</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPatch%5D%20fix%20for%20%2382022&In-Reply-To=8cca42d80707060855o54d982d3vd94728474bb1cdc0%40mail.gmail.com"
       TITLE="[Mono-dev] [Patch] fix for #82022">lupus at ximian.com
       </A><BR>
    <I>Mon Jul  9 05:57:51 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024089.html">[Mono-dev] [Patch] fix for #82022
</A></li>
        <LI>Next message: <A HREF="024111.html">[Mono-dev] [Patch] fix for #82022
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24101">[ date ]</a>
              <a href="thread.html#24101">[ thread ]</a>
              <a href="subject.html#24101">[ subject ]</a>
              <a href="author.html#24101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/06/07 Rodrigo Kumpera wrote:
&gt;<i> The attached patch fixes #82022. The fix is quite simple, it just checks if
</I>&gt;<i> the enum field is null and abort the loading process. But there are two
</I>&gt;<i> issues with this patch, first it could return a more informative message
</I>&gt;<i> about the problem and I'm not sure if it won't leak memory or cause future
</I>&gt;<i> problems.
</I>
Yes, this will cause a leak. Use mono_class_set_failure() to make
sure the runtime considers the type as faulty and return it.

BTW, if you name your patch files as name.diff gmail will properly
attach them as text files instead of binary blobs making the review
easier.
Thanks!

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024089.html">[Mono-dev] [Patch] fix for #82022
</A></li>
	<LI>Next message: <A HREF="024111.html">[Mono-dev] [Patch] fix for #82022
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24101">[ date ]</a>
              <a href="thread.html#24101">[ thread ]</a>
              <a href="subject.html#24101">[ subject ]</a>
              <a href="author.html#24101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
