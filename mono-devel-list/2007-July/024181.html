<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono memory problems!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20memory%20problems%21&In-Reply-To=469E02D3.4040702%40ufl.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024180.html">
   <LINK REL="Next"  HREF="024182.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono memory problems!</H1>
    <B>Alan McGovern</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20memory%20problems%21&In-Reply-To=469E02D3.4040702%40ufl.edu"
       TITLE="[Mono-dev] Mono memory problems!">alan.mcgovern at gmail.com
       </A><BR>
    <I>Wed Jul 18 09:03:21 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024180.html">[Mono-dev] Mono memory problems!
</A></li>
        <LI>Next message: <A HREF="024182.html">[Mono-dev] Mono memory problems!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24181">[ date ]</a>
              <a href="thread.html#24181">[ thread ]</a>
              <a href="subject.html#24181">[ subject ]</a>
              <a href="author.html#24181">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Could you post up the detailed stats from heapshot? After the 12 hour run,
how much memory are you using? Are we talking in the gigabyte range, or
megabyte range?

Alan.

On 7/18/07, David Wolinsky &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">davidiw at ufl.edu</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> My lab works on a peer-to-peer network overlay and we've noticed
</I>&gt;<i> recently significant memory issues.  Some background...
</I>&gt;<i>
</I>&gt;<i> This application is constantly creating new objects and shortly
</I>&gt;<i> thereafter deleting (removing reference to) them
</I>&gt;<i> Using a sample run with 150 threads running...
</I>&gt;<i> Mono on Linux has a growth rate of ~25 KB per second with a base of 50MB
</I>&gt;<i> (y = 25K *x + 50M)
</I>&gt;<i> .NET on Windows stabilizes at 35 MB
</I>&gt;<i>
</I>&gt;<i> We ran heap-shot with Linux and found that in a 12 hour period it
</I>&gt;<i> reported this...
</I>&gt;<i> start:
</I>&gt;<i> objects: 58,823
</I>&gt;<i> heap memory: 6,838,426 bytes
</I>&gt;<i>
</I>&gt;<i> end:
</I>&gt;<i> objects: 59,925
</I>&gt;<i> heap memory: 6,862,336
</I>&gt;<i>
</I>&gt;<i> We have run mono with GC_MAXIMUM_HEAP_SIZE and the memory size (RES) got
</I>&gt;<i> significantly bigger than it.
</I>&gt;<i>
</I>&gt;<i> I have searched for the Compacting GC with no luck, we would really like
</I>&gt;<i> to see if it would help our problem.
</I>&gt;<i>
</I>&gt;<i> The only operating system resources we're using are Sockets, but we use
</I>&gt;<i> them VERY heavily!
</I>&gt;<i>
</I>&gt;<i> If anyone has any suggestions, we'd be open to test out anything at this
</I>&gt;<i> point!
</I>&gt;<i>
</I>&gt;<i> We are leaning towards an issue in unmanaged memory and possibly a bug
</I>&gt;<i> in mono.
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i> David
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ps, I fwded this to gc and devel list because gc list looks quite
</I>&gt;<i> dead.... sorry for the duplication
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070718/4fc1bdd4/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070718/4fc1bdd4/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024180.html">[Mono-dev] Mono memory problems!
</A></li>
	<LI>Next message: <A HREF="024182.html">[Mono-dev] Mono memory problems!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24181">[ date ]</a>
              <a href="thread.html#24181">[ thread ]</a>
              <a href="subject.html#24181">[ subject ]</a>
              <a href="author.html#24181">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
