<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] ModMono Installation problems - g_thread_init
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20ModMono%20Installation%20problems%20-%20g_thread_init&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002551.html">
   <LINK REL="Next"  HREF="002516.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] ModMono Installation problems - g_thread_init</H1>
    <B>Christopher Keith Fairbairn</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20ModMono%20Installation%20problems%20-%20g_thread_init&In-Reply-To="
       TITLE="[Mono-devel-list] ModMono Installation problems - g_thread_init">ckf13 at student.canterbury.ac.nz
       </A><BR>
    <I>Tue Oct 14 21:01:41 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002551.html">[Mono-devel-list] proposal for a different JIT
</A></li>
        <LI>Next message: <A HREF="002516.html">[Mono-devel-list] ModMono Installation problems - g_thread_init
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2515">[ date ]</a>
              <a href="thread.html#2515">[ thread ]</a>
              <a href="subject.html#2515">[ subject ]</a>
              <a href="author.html#2515">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am attempting to install Mono (and in particular the Apache Mod_Mono
module) on one of my machines. This time around I have decided to use
the 0.28 RPMs from go-mono.com (for Red Hat 8.0) as a base as that is
the closet to what could be described as my system. I installed the
series of RPMs with out a hitch, and compiled mod_mono.

However I am stumbling into the following error attempting to restart
Apache once I've configured Apache to load mod_mono.

[<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">root at shazam</A> mod_mono-0.5]# /etc/init.d/httpd start
Starting httpd: Syntax error on line 4 of /etc/httpd/conf.d/mono.conf:
Cannot load /etc/httpd/modules/libmod_mono.so into server:
/usr/lib/libmono.so.0: undefined symbol: g_thread_init
                                                           [FAILED]

I bieleve the syntax error message is a red hearing as the line
immediatly after the LoadModule line is &quot;MonoUnixSocket&quot; which I assume
isn't a valid configuration option until the mono module has been
loaded.

My /etc/httpd/conf.d/mono.conf file is as follows, and is grafted in
from my main Apache httpd.conf file

[<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">root at shazam</A> mod_mono-0.5]# cat /etc/httpd/conf.d/mono.conf
# Mono Configuration for Apache
 
AddType application/x-asp-net .aspx .ashx .asmx .ascx .asax .config
.ascx
LoadModule mono_module modules/libmod_mono.so
MonoUnixSocket /tmp/mod_mono_server

The library dependancies for libmono.so.0 appear to be in order

[<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">root at shazam</A> mod_mono-0.5]# ldd /usr/lib/libmono.so.0
        libnsl.so.1 =&gt; /lib/libnsl.so.1 (0x4016c000)
        libpthread.so.0 =&gt; /lib/i686/libpthread.so.0 (0x40183000)
        librt.so.1 =&gt; /lib/librt.so.1 (0x401d3000)
        libc.so.6 =&gt; /lib/i686/libc.so.6 (0x42000000)
        /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x80000000)

Any suggestions, on what I'm doing wrong? Or how I should go forward
from this problem? g_thread_init is from GLib-2.0 isn't it?

My guess is I've done something stupid... or it's something like the
gtkhtml3 dependencies. Every time I upgrade Mono by RPMs I usually have
to remember to download a new version of gtkhtml3. If I don't monodoc
will bomb out not finding the library as usually it's version has
changed in between releases. It seems my system isn't picking up the RPM
library dependencies or they arn't there to start with.

Thanks,
-- 
Christopher Keith Fairbairn &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ckf13 at student.canterbury.ac.nz</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002551.html">[Mono-devel-list] proposal for a different JIT
</A></li>
	<LI>Next message: <A HREF="002516.html">[Mono-devel-list] ModMono Installation problems - g_thread_init
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2515">[ date ]</a>
              <a href="thread.html#2515">[ thread ]</a>
              <a href="subject.html#2515">[ subject ]</a>
              <a href="author.html#2515">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
