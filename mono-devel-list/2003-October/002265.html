<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Some thoughts on the windows build
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Some%20thoughts%20on%20the%20windows%20build&In-Reply-To=1065046486.9978.4.camel%40diphthong">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002257.html">
   <LINK REL="Next"  HREF="002258.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Some thoughts on the windows build</H1>
    <B>Todd Berman</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Some%20thoughts%20on%20the%20windows%20build&In-Reply-To=1065046486.9978.4.camel%40diphthong"
       TITLE="[Mono-devel-list] Some thoughts on the windows build">tberman at gentoo.org
       </A><BR>
    <I>Thu Oct  2 09:42:26 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002257.html">[Mono-devel-list] Some thoughts on the windows build
</A></li>
        <LI>Next message: <A HREF="002258.html">[Mono-devel-list] Garbage Collection problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2265">[ date ]</a>
              <a href="thread.html#2265">[ thread ]</a>
              <a href="subject.html#2265">[ subject ]</a>
              <a href="author.html#2265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I was actually, via a diff I posted here a bit ago, (don't have it
anymore) able to get an actual mono binary that didn't require any
cygwin stuff and used the included libgc.

However, it segfaulted right upon JIT execution :). I am not sure what
is going on, not much of a win32 build guy.

--Todd


&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A> [mailto:mono-devel-list-
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">admin at lists.ximian.com</A>] On Behalf Of Duncan Mak
</I>&gt;<i> Sent: October 1, 2003 6:15 PM
</I>&gt;<i> To: Johannes Roith
</I>&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-devel-list] Some thoughts on the windows build
</I>&gt;<i> 
</I>&gt;<i> A bit more info:
</I>&gt;<i> 
</I>&gt;<i> We're also tried building with a pure libgc release from hp.com.
</I>&gt;<i> Although libgc built without any errors, the subsequent mono build
</I>&gt;<i> results in similar errors as those described in case 2.
</I>&gt;<i> 
</I>&gt;<i> Duncan.
</I>&gt;<i> 
</I>&gt;<i> On Wed, 2003-10-01 at 17:37, Johannes Roith wrote:
</I>&gt;<i> &gt; Case 2:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This happens, when you use the .h files from the libgc-dev.zip file.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; gcc -mno-cygwin -O -g -Wall -Wunused -Wmissing-prototypes
</I>&gt;<i> &gt; -Wmissing-declarations
</I>&gt;<i> &gt;  -Wstrict-prototypes -Wmissing-prototypes -Wnested-externs
</I>&gt;<i> &gt; -Wpointer-arith -Wno-
</I>&gt;<i> &gt; cast-qual -Wcast-align -Wwrite-strings -I/usr/local/lib
</I>-I/usr/local/lib
&gt;<i> &gt; -o mono
</I>&gt;<i> &gt; sn.exe monosn.o -Wl,--export-dynamic
</I>../metadata/.libs/libmetadata.al
&gt;<i> &gt; ../io-lay
</I>&gt;<i> &gt; er/.libs/libwapi.al ../utils/.libs/libmonoutils.al
</I>&gt;<i> &gt; /usr/local/lib/libgc.a -lpthr
</I>&gt;<i> &gt; ead -L/home/Administrator/install/lib -lgthread-2.0 -lgmodule-2.0
</I>&gt;<i> &gt; -lglib-2.0 .li
</I>&gt;<i> &gt; bs/libimp-cygintl-2.a -L/usr/lib .libs/libimp-cygiconv-2.a -lws2_32
</I>&gt;<i> &gt; -lpsapi
</I>&gt;<i> &gt; /usr/local/lib/libgc.a(os_dep.o)(.text+0x28): In function
</I>&gt;<i> &gt; `GC_disable_signals':
</I>&gt;<i> &gt; /home/work/w3m/build/gc6.2/os_dep.c:558: undefined reference to
</I>&gt;<i> &gt; `sigprocmask'
</I>&gt;<i> &gt;
</I>/usr/local/lib/libgc.a(os_dep.o)(.text+0x38):/home/work/w3m/build/gc6.2/
&gt;<i> &gt; os_dep.c
</I>&gt;<i> &gt; :535: undefined reference to `sigfillset'
</I>&gt;<i> &gt;
</I>/usr/local/lib/libgc.a(os_dep.o)(.text+0x4c):/home/work/w3m/build/gc6.2/
&gt;<i> &gt; os_dep.c
</I>&gt;<i> &gt; :537: undefined reference to `sigdelset'
</I>&gt;<i> &gt;
</I>/usr/local/lib/libgc.a(os_dep.o)(.text+0x60):/home/work/w3m/build/gc6.2/
&gt;<i> &gt; os_dep.c
</I>&gt;<i> &gt; :538: undefined reference to `sigdelset'
</I>&gt;<i> &gt;
</I>/usr/local/lib/libgc.a(os_dep.o)(.text+0x74):/home/work/w3m/build/gc6.2/
&gt;<i> &gt; os_dep.c
</I>&gt;<i> &gt; :539: undefined reference to `sigdelset'
</I>&gt;<i> &gt;
</I>/usr/local/lib/libgc.a(os_dep.o)(.text+0x88):/home/work/w3m/build/gc6.2/
&gt;<i> &gt; os_dep.c
</I>&gt;<i> &gt; :541: undefined reference to `sigdelset'
</I>&gt;<i> &gt;
</I>/usr/local/lib/libgc.a(os_dep.o)(.text+0x9c):/home/work/w3m/build/gc6.2/
&gt;<i> &gt; os_dep.c
</I>&gt;<i> &gt; :547: undefined reference to `sigdelset'
</I>&gt;<i> &gt;
</I>/usr/local/lib/libgc.a(os_dep.o)(.text+0xb0):/home/work/w3m/build/gc6.2/
&gt;<i> &gt; os_dep.c
</I>&gt;<i> &gt; :550: more undefined references to `sigdelset' follow
</I>&gt;<i> &gt; /usr/local/lib/libgc.a(os_dep.o)(.text+0xee): In function
</I>&gt;<i> &gt; `GC_enable_signals':
</I>&gt;<i> &gt; /home/work/w3m/build/gc6.2/os_dep.c:567: undefined reference to
</I>&gt;<i> &gt; `sigprocmask'
</I>&gt;<i> &gt; /usr/local/lib/libgc.a(os_dep.o)(.text+0x199): In function
</I>&gt;<i> &gt; `GC_unix_get_mem':
</I>&gt;<i> &gt; /home/work/w3m/build/gc6.2/os_dep.c:1569: undefined reference to
</I>`sbrk'
&gt;<i> &gt;
</I>/usr/local/lib/libgc.a(os_dep.o)(.text+0x1ba):/home/work/w3m/build/gc6.2
&gt;<i> &gt; /os_dep.
</I>&gt;<i> &gt; c:1574: undefined reference to `sbrk'
</I>&gt;<i> &gt;
</I>/usr/local/lib/libgc.a(os_dep.o)(.text+0x1c5):/home/work/w3m/build/gc6.2
&gt;<i> &gt; /os_dep.
</I>&gt;<i> &gt; c:1576: undefined reference to `sbrk'
</I>&gt;<i> &gt; make[4]: *** [monosn.exe] Error 1
</I>&gt;<i> &gt; make[4]: Leaving directory
</I>&gt;<i> &gt; `/cygdrive/d/mono-0.28/mono-0.28/mono/metadata'
</I>&gt;<i> &gt; make[3]: *** [all] Error 2
</I>&gt;<i> &gt; make[3]: Leaving directory
</I>&gt;<i> &gt; `/cygdrive/d/mono-0.28/mono-0.28/mono/metadata'
</I>&gt;<i> &gt; make[2]: *** [all-recursive] Error 1
</I>&gt;<i> &gt; make[2]: Leaving directory `/cygdrive/d/mono-0.28/mono-0.28/mono'
</I>&gt;<i> &gt; make[1]: *** [all-recursive] Error 1
</I>&gt;<i> &gt; make[1]: Leaving directory `/cygdrive/d/mono-0.28/mono-0.28'
</I>&gt;<i> &gt; make: *** [all] Error 2
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002257.html">[Mono-devel-list] Some thoughts on the windows build
</A></li>
	<LI>Next message: <A HREF="002258.html">[Mono-devel-list] Garbage Collection problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2265">[ date ]</a>
              <a href="thread.html#2265">[ thread ]</a>
              <a href="subject.html#2265">[ subject ]</a>
              <a href="author.html#2265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
