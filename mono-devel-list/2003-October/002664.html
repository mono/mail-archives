<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: Potential GAC implementation ideas.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Potential%20GAC%20implementation%20ideas.&In-Reply-To=20031023215051.GA25955%40roke.freak">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002660.html">
   <LINK REL="Next"  HREF="002672.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: Potential GAC implementation ideas.</H1>
    <B>Todd Berman</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Potential%20GAC%20implementation%20ideas.&In-Reply-To=20031023215051.GA25955%40roke.freak"
       TITLE="[Mono-devel-list] Re: Potential GAC implementation ideas.">tberman at gentoo.org
       </A><BR>
    <I>Thu Oct 23 18:04:03 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002660.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
        <LI>Next message: <A HREF="002672.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2664">[ date ]</a>
              <a href="thread.html#2664">[ thread ]</a>
              <a href="subject.html#2664">[ subject ]</a>
              <a href="author.html#2664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> You run gacutil --cache in relevant directories. It traverses them,
</I>&gt;<i> and puts somewhere in it's database that file.dll with version 1.0.0.0
</I>&gt;<i> (it takes this information from DLL meta data, it's much like soname in
</I>&gt;<i> UNIX) is in /foo/bar/file.dll.1.13. The runtime then asks gac library. It
</I>&gt;<i> checks its cache and returns proper filename. where's the problem?
</I>&gt;<i> 
</I>
So, instead of running a gacutil /i after installing an rpm, you now want to
run a gacutil --cache? Whats the difference?


&gt;<i> &gt; And what about crossplatform.
</I>&gt;<i> 
</I>&gt;<i> This is platform neutral (you just need enough filenames :-)
</I>
This is *not* crossplatform, as right now we are building
Microsoft.Web.Services.1.dll and Microsoft.Web.Services.2.dll and it
prevents any crossplatform when the libraries are named such.

&gt;<i> &gt; When I compile an application on windows using
</I>&gt;<i> Microsoft.Web.Services.dll
</I>&gt;<i> &gt; and I tell it to use version 2.0.0.0 instead of version 1.0.0.0 (both of
</I>&gt;<i> &gt; which are installed, and in the GAC) it lists the assembly in the PE as
</I>&gt;<i> &gt; 'Microsoft.Web.Services' not as 'Microsoft.Web.Services.$version'.
</I>&gt;<i> 
</I>&gt;<i> You seem to unify concepts of file name and library name. These need not
</I>&gt;<i> be the same -- that's what's GAC is for (think of directories as parts
</I>&gt;<i> of file names).
</I>
Correct me if I'm wrong (and I might very well be), but doesn't mono and
.net use syntax like this inside the assembly/exe?:

.assembly extern System
{
  .publickeytoken = (B7 7A 5C 56 19 34 E0 89 )
  .ver 1:0:3300:0
}

Again, I could be wrong, but currently, doesn't mono find these files by
tacking a .dll to the end of that and looking it is locations?

If instead, it goes through and somehow identifies and then opens all
possible assemblies in your assembly locations and compares whats it looking
for to the .assembly notation that defines said assembly, I was not aware.

--Todd



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002660.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
	<LI>Next message: <A HREF="002672.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2664">[ date ]</a>
              <a href="thread.html#2664">[ thread ]</a>
              <a href="subject.html#2664">[ subject ]</a>
              <a href="author.html#2664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
