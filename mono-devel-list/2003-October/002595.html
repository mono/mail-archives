<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Very slow connection via Npgsql from mono 0.26, 0.28
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Very%20slow%20connection%20via%20Npgsql%20from%20mono%200.26%2C%200.28&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002588.html">
   <LINK REL="Next"  HREF="002589.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Very slow connection via Npgsql from mono 0.26, 0.28</H1>
    <B>David Makovsk&#253; (Yakeen)</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Very%20slow%20connection%20via%20Npgsql%20from%20mono%200.26%2C%200.28&In-Reply-To="
       TITLE="[Mono-devel-list] Very slow connection via Npgsql from mono 0.26, 0.28">yakeen at sannyas-on.net
       </A><BR>
    <I>Mon Oct 20 05:04:17 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002588.html">[Mono-devel-list] Question about x86 version of mono_create_trampoline .
</A></li>
        <LI>Next message: <A HREF="002589.html">[Mono-devel-list] [PATCH] Fix for Mono.Data.Tds.TdsMetaParameter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2595">[ date ]</a>
              <a href="thread.html#2595">[ thread ]</a>
              <a href="subject.html#2595">[ subject ]</a>
              <a href="author.html#2595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I already filled this as a bug nr. 49273
Gonzalo Paniagua Javier wrote me that would be good to sent it here
too...

Description of Problem:


I have to point out that this  started with mono 0.26. 0.25 work fine and
speed is excellent. I'm trying connect Postgres and get some data.  On my
Athlon XP 2500+ one SELECT with getting cca 1000 records takes over one
minute and on mono 0.25 is done in less second with getting data into
TreeView.  And in 0.26 and higher (actually 0.28) there is no CPU use in
waiting for data, thats wired...

Steps to reproduce the problem:

1. 
NpgsqlConnection conn = new NpgsqlConnection(ConnectionString);
conn.Open();
querystring = &quot;SELECT log.log_id, log.date, log.time, users.username, &quot;
			+ &quot;log.message FROM log, users WHERE log.uid=users.uid &quot;
			+ &quot;ORDER BY log.date, log.time&quot;; //some select - this actualy returns
cca 1.000 rows
NpgsqlCommand command = new NpgsqlCommand(querystring, conn);
NpgsqlDataReader dr = command.ExecuteReader();
while(dr.Read()){ 
....
....
list.Add (data); //some adding data into ArrayList
}
conn.Close();

2. 
compile 

3. 
execute

Actual Results:

on 0.26, 0.28 is damned slow

Expected Results:

speed improovements or rollbact into state like in mono 0.25


Please for sure read your answears cc me I not in the list
Thanks

-- 
David Makovsk&#253; (Yakeen) &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">yakeen at sannyas-on.net</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20031020/706a3213/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20031020/706a3213/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002588.html">[Mono-devel-list] Question about x86 version of mono_create_trampoline .
</A></li>
	<LI>Next message: <A HREF="002589.html">[Mono-devel-list] [PATCH] Fix for Mono.Data.Tds.TdsMetaParameter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2595">[ date ]</a>
              <a href="thread.html#2595">[ thread ]</a>
              <a href="subject.html#2595">[ subject ]</a>
              <a href="author.html#2595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
