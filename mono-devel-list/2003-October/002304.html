<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Nant / OJB.NET / Maverick.NET / NVelocity
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Nant%20/%20OJB.NET%20/%20Maverick.NET%20/%20NVelocity&In-Reply-To=1065329473.5985.11.camel%40Ben">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002303.html">
   <LINK REL="Next"  HREF="002307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Nant / OJB.NET / Maverick.NET / NVelocity</H1>
    <B>Ian MacLean</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Nant%20/%20OJB.NET%20/%20Maverick.NET%20/%20NVelocity&In-Reply-To=1065329473.5985.11.camel%40Ben"
       TITLE="[Mono-devel-list] Nant / OJB.NET / Maverick.NET / NVelocity">ianm at ActiveState.com
       </A><BR>
    <I>Sun Oct  5 01:31:38 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002303.html">[Mono-devel-list] Nant / OJB.NET / Maverick.NET / NVelocity
</A></li>
        <LI>Next message: <A HREF="002307.html">[Mono-devel-list] Nant / OJB.NET / Maverick.NET / NVelocity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2304">[ date ]</a>
              <a href="thread.html#2304">[ thread ]</a>
              <a href="subject.html#2304">[ subject ]</a>
              <a href="author.html#2304">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben Maurer wrote:

&gt;&gt;<i>Sounds like it would be better to fix the regex engine. If thats not 
</I>&gt;&gt;<i>feasible then we're definately open to mono specific workaround if this 
</I>&gt;&gt;<i>is making it unusable.
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>Our regex engine is slow, we admit it. It does not compile, it probably
</I>&gt;<i>has bugs. However, there are much, much important parts of the framework
</I>&gt;<i>to work on.
</I>&gt;<i>  
</I>&gt;<i>
</I>sure whatever, as I said I don't have a problem with working around it.

&gt;<i>When I looked at this with Todd, he said that the problem was the
</I>&gt;<i>regex's in your globbing code. It is probably best to replace that with
</I>&gt;<i>good old for loops and conditionals.
</I>&gt;<i>  
</I>&gt;<i>
</I>which globbing code ? Patches welcome as always.

&gt;&gt;<i>I don't think CodeDOM would help - even if you could you would only find 
</I>&gt;&gt;<i>the runtime that you are running NAnt against which might not be the 
</I>&gt;&gt;<i>same as the framework you are targetting.
</I>&gt;&gt;<i>ie NAnt could be running against a 1.0 runtime but compiling an app 
</I>&gt;&gt;<i>using the 1.1 version of csc. What part of it is a pain in the ass to 
</I>&gt;&gt;<i>deal with ? You set the defaultframework to the one you're using and 
</I>&gt;&gt;<i>you're done. If you have any suggestiong for making it simpler we'd like 
</I>&gt;&gt;<i>to hear them.
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>Ok, so in order to make a script that compiles vs both 1.0 and 1.1 I
</I>&gt;<i>have it alter the config file... thats just the same as altering the
</I>&gt;<i>runtime version... Honestly, it will be a bigger problem for people on
</I>&gt;<i>linux to fool around with their config path than it will be for a
</I>&gt;<i>windows user who wants to compile with both versions (why would i want
</I>&gt;<i>that anyways?).
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>No that is not correct. You can use the following inside a build file:

&lt;property name=&quot;nant.settings.currentframework&quot; value=&quot;net-1.0&quot; /&gt;
&lt;!-- do some compilation against 1.0 --&gt;
&lt;csc&gt;
&lt;/csc&gt;

&lt;property name=&quot;nant.settings.currentframework&quot; value=&quot;net-1.1&quot; /&gt;
&lt;!-- do some compilation against 1.1 --&gt;
&lt;csc&gt;
&lt;/csc&gt;
...

you can also use the -k:net-1.0 commandline option to specify a default  
framework for that build run. You only need to set it in the config file 
once to somthing reasonable for your installation. This is analagous to 
Ant using the JAVA_HOME environment variable to find a jdk.

If you don't ever need to target multiple frameworks then its a 
non-issue - just make sure the default is correct at install time and 
you'll never have to worry about it again. However if you do need the 
ability - its there.

&gt;&gt;<i>It would be a great help if you could identify where the slow down is 
</I>&gt;&gt;<i>occurring ( just on mono right ? ) and submit a bug report at 
</I>&gt;&gt;<i><A HREF="http://sourceforge.net/tracker/?group_id=31650&amp;atid=402868.">http://sourceforge.net/tracker/?group_id=31650&amp;atid=402868.</A>
</I>&gt;&gt;<i>This is the first I've heard of it. Its hard for us to fix bugs that no 
</I>&gt;&gt;<i>one has told us about.
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>Just pretend that there is a Thread.Sleep (100) call on every regex
</I>&gt;<i>evaulation. Wherever it is sleeping alot is the slow down.
</I>&gt;<i>  
</I>&gt;<i>
</I>So basically &quot;don't use regex's&quot; right ?

Ian



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002303.html">[Mono-devel-list] Nant / OJB.NET / Maverick.NET / NVelocity
</A></li>
	<LI>Next message: <A HREF="002307.html">[Mono-devel-list] Nant / OJB.NET / Maverick.NET / NVelocity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2304">[ date ]</a>
              <a href="thread.html#2304">[ thread ]</a>
              <a href="subject.html#2304">[ subject ]</a>
              <a href="author.html#2304">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
