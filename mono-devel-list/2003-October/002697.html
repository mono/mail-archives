<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: Potential GAC implementation ideas.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Potential%20GAC%20implementation%20ideas.&In-Reply-To=1066954931.19769.39.camel%40melchior.magi">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002687.html">
   <LINK REL="Next"  HREF="002698.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: Potential GAC implementation ideas.</H1>
    <B>Michal Moskal</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Potential%20GAC%20implementation%20ideas.&In-Reply-To=1066954931.19769.39.camel%40melchior.magi"
       TITLE="[Mono-devel-list] Re: Potential GAC implementation ideas.">malekith at pld-linux.org
       </A><BR>
    <I>Fri Oct 24 07:39:59 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002687.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
        <LI>Next message: <A HREF="002698.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2697">[ date ]</a>
              <a href="thread.html#2697">[ thread ]</a>
              <a href="subject.html#2697">[ subject ]</a>
              <a href="author.html#2697">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Oct 23, 2003 at 08:22:12PM -0400, Jonathan Pryor wrote:
&gt;<i> The key features of shared assemblies are twofold: (1) they're versioned
</I>&gt;<i> (like Unix shared libraries), so you can have multiple different
</I>&gt;<i> versions installed; and (2) they have a public key token, so that if two
</I>&gt;<i> developers, by chance, create a public assembly with the same name, they
</I>&gt;<i> can both be installed without clobbering each other.  This, plus
</I>&gt;<i> security assurances (you know if the code has been tampered with), is
</I>&gt;<i> why there's a public key token.
</I>&gt;<i> 
</I>&gt;<i> This is also why Michal's suggestion to place all assemblies in the GAC
</I>&gt;<i> is horribly broken -- the *only* assemblies that can go in the GAC are
</I>&gt;<i> assemblies *designed* to go in the GAC.  This implies that they'll
</I>&gt;<i> follow reasonable versioning policies, have a public/private key for
</I>&gt;<i> code signing, etc.  Private assemblies lack these assurances, and thus
</I>&gt;<i> are prohibited from being placed in the GAC.
</I>
Assume I'm application developer. I have an assembly that is quite private
for me, i.e. I see no particular reason anybody else would use it. So I
place it in /usr/share/apps/foobar/mydll.dll, or something like this. How
do I tell where this DLL resides to the runtime? My app wouldn't reside
in /usr/share/apps/foobar/foobar.exe, since in UNIX world it should
go to /usr/bin/foobar.exe. Shall I compile the /usr/share/apps/foobar
into foobar.exe binary using some -rpath like mechanism? This seems
broken (what if user doesn't like /usr/share/apps, what if she wants
/usr/local/share/apps etc). It's far easier for me to have reasonable
versioning and private key, and use GAC.

Now, if mono doesn't require assembly to have version and public key
token, then assemblies that don't have it, cannot go into GAC. But the
standard way of dealing with installation (recommended to the developers)
should be GAC IMHO. Because it's simple, unified and fast.

What remains to be discussed is if GAC should store files, or maybe just
references (symlinks or some database) to files. Personally I don't
care. Storing files, in a fixed way, would simplify packaging a bit,
since you don't need to choose unique location yourself. And I see no
reason why should /gac/&lt;version&gt;_&lt;publictoken&gt;/foo.dll be changed, as it
seems simple and effective.

-- 
:<i> Michal Moskal :: <A HREF="http://www.kernel.pl/~malekith">http://www.kernel.pl/~malekith</A> : GCS {C,UL}++++$ a? !tv
</I>:<i> When in doubt, use brute force. -- Ken Thompson : {E-,w}-- {b++,e}&gt;+++ h
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002687.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
	<LI>Next message: <A HREF="002698.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2697">[ date ]</a>
              <a href="thread.html#2697">[ thread ]</a>
              <a href="subject.html#2697">[ subject ]</a>
              <a href="author.html#2697">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
