<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: Potential GAC implementation ideas.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Potential%20GAC%20implementation%20ideas.&In-Reply-To=006401c399b5%24b0b8feb0%248500a8c0%40proton">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002724.html">
   <LINK REL="Next"  HREF="002684.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: Potential GAC implementation ideas.</H1>
    <B>Jonathan Hogg</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Potential%20GAC%20implementation%20ideas.&In-Reply-To=006401c399b5%24b0b8feb0%248500a8c0%40proton"
       TITLE="[Mono-devel-list] Re: Potential GAC implementation ideas.">jonathan at onegoodidea.com
       </A><BR>
    <I>Fri Oct 24 03:24:51 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002724.html">[Mono-devel-list] Re: Install locations on unix was :  Re:  	Potential GAC implementation ideas.
</A></li>
        <LI>Next message: <A HREF="002684.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2693">[ date ]</a>
              <a href="thread.html#2693">[ thread ]</a>
              <a href="subject.html#2693">[ subject ]</a>
              <a href="author.html#2693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/10/2003 23:33, Todd Berman wrote:

&gt;<i> Alright, this applies to you, and to Michal (who already got an email about
</I>&gt;<i> this)
</I>
I don't believe either of us are children, and certainly don't need to be
spoken to as such.

&gt;<i> Please, please please please please, read the initial email that started
</I>&gt;<i> this thread.
</I>
I did. I have read every email in this thread. I have sent two replies. One
to a post from you saying that &quot;The GAC is far more than ld.so.cache&quot;, which
I disputed, and one from Peter Williams  suggesting that version numbers and
public key tokens are &quot;magic numbers&quot;, which I also disputed.

If you feel I have missed the point, then please do point out where I am
wrong.

&gt;<i> It details exactly the same things you both are talking about, and it
</I>&gt;<i> emulates ms' method exactly.
</I>
Yes. I didn't pretend I was suggesting anything new. To quote from your
opening post:

&gt;&gt;<i> Now, onto the mono side of things. I think that the directory structure is
</I>&gt;&gt;<i> the right way to do, and also the easiest way to go. Replicating it, but
</I>&gt;&gt;<i> replacing &lt;%windir%&gt;/assembly with $prefix/lib/mono will make the most sense
</I>&gt;&gt;<i> that I can see.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On windows, there is a tool, called gacutil, that is used to manipulate the
</I>&gt;&gt;<i> gac on the command line. With this tool, you can install, uninstall, list,
</I>&gt;&gt;<i> and generally manipulate the gac. To me, this is the first piece of the gac
</I>&gt;&gt;<i> that needs to be implemented, because without it, installing assemblies into
</I>&gt;&gt;<i> the gac will be more difficult than it needs to be.
</I>
It is the second part I disagree with. I don't believe that installing
assemblies directly into the cache is difficult. I believe requiring a
command-line tool to install assemblies is difficult.

[Aside: I would have said that the first piece of the GAC to be implemented
should be the necessary runtime changes to load DLLs from it, gacutil would
seem to be the last thing that needs to exist.]

Don't get me wrong, I'm not against having a tool to do it. I'm just against
it being the only supported method.

&gt;<i> Now, the more recent and long part of this thread is about how a packager
</I>&gt;<i> can get his assembly to the gac.
</I>&gt;<i> 
</I>&gt;<i> I will reiterate. As a packager, feel free to directly insert this assembly
</I>&gt;<i> into the gac via copying with RPM, HOWEVER, don't expect this method to
</I>&gt;<i> always work.
</I>&gt;<i> 
</I>&gt;<i> This is akin to using private member functions via reflection.
</I>
This is what I object to. It *must* be expected to work. UNIX is not
Windows. We always had versioned shared libraries and we always had various
sensible package managers for installing and uninstalling them.

Requiring a special tool to install a library is too brittle. If you insist
that simply copying the library into place cannot be relied upon, then you
*are* requiring the use of the tool. One does not &quot;feel free&quot; to use
&quot;private member functions via reflection&quot;.

The GAC should be the least complicated it can be and it's layout should be
well documented and stable. As I, and you, have pointed out: this isn't
rocket science.

Jonathan

-- 
Jonathan Hogg
Director

One Good Idea Ltd.

&lt;<A HREF="http://www.onegoodidea.com/">http://www.onegoodidea.com/</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002724.html">[Mono-devel-list] Re: Install locations on unix was :  Re:  	Potential GAC implementation ideas.
</A></li>
	<LI>Next message: <A HREF="002684.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2693">[ date ]</a>
              <a href="thread.html#2693">[ thread ]</a>
              <a href="subject.html#2693">[ subject ]</a>
              <a href="author.html#2693">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
