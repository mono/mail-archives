<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: Potential GAC implementation ideas.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Potential%20GAC%20implementation%20ideas.&In-Reply-To=005e01c399ad%24deda5b70%248500a8c0%40proton">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002672.html">
   <LINK REL="Next"  HREF="002680.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: Potential GAC implementation ideas.</H1>
    <B>Jonathan Hogg</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Potential%20GAC%20implementation%20ideas.&In-Reply-To=005e01c399ad%24deda5b70%248500a8c0%40proton"
       TITLE="[Mono-devel-list] Re: Potential GAC implementation ideas.">jonathan at onegoodidea.com
       </A><BR>
    <I>Thu Oct 23 18:17:02 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002672.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
        <LI>Next message: <A HREF="002680.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2668">[ date ]</a>
              <a href="thread.html#2668">[ thread ]</a>
              <a href="subject.html#2668">[ subject ]</a>
              <a href="author.html#2668">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/10/2003 22:37, Todd Berman wrote:

&gt;<i> The GAC is far more than ld.so.cache, it is where the runtime looks to find
</I>&gt;<i> assemblies that cant be found in (on mono) the cwd and the MONO_PATH.
</I>
Perhaps I'm missing some deeper purpose in the GAC, but that seems largely
to be what ld.so.cache is for.

In /usr/lib I have a bunch of shared libraries with different version
numbers. I compile code that links against these shared libraries. ld.so
finds the right library for me at runtime and links it in. It is helped in
this task by the ld.so.cache file.

What additional functionality does the GAC implement? I don't mean specific
details, I mean broad purpose?

I have to agree that running a special tool to (un)install a library is a
pain for package management. Running a tool post (un)installation to update
a cache isn't that much of a pain.

Despite the name, the GAC isn't really a cache. It's a repository. One can
easily create such a thing on Linux (or other unices) with a directory
structure. This should take into account the version numbers to ensure that
it's version-safe - as I understand it, the proposed model does precisely
this.

A post-install tool (a la ldconfig) can easily walk this directory, ngening
un-ngened DLLs, and extracting the strong names to put in a cache file. The
cache file would be used for fast lookup of the right DLL at runtime. If a
miss occurs on the cache file, or a false hit, then the runtime could fall
back on walking the directories itself and loading either the IL version or
the ngened one as available. That way even if the cache tool failed, you
don't fail at runtime.

Jonathan

-- 
Jonathan Hogg
Director

One Good Idea Ltd.

&lt;<A HREF="http://www.onegoodidea.com/">http://www.onegoodidea.com/</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002672.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
	<LI>Next message: <A HREF="002680.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2668">[ date ]</a>
              <a href="thread.html#2668">[ thread ]</a>
              <a href="subject.html#2668">[ subject ]</a>
              <a href="author.html#2668">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
