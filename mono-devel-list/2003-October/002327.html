<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Thread stacks sizes - interpreter vs J
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Thread%20stacks%20sizes%20-%20interpreter%20vs%20J&In-Reply-To=1065444696.13055.15.camel%40hagbard.apathetic.discordia.org.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002322.html">
   <LINK REL="Next"  HREF="002338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Thread stacks sizes - interpreter vs J</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Thread%20stacks%20sizes%20-%20interpreter%20vs%20J&In-Reply-To=1065444696.13055.15.camel%40hagbard.apathetic.discordia.org.uk"
       TITLE="[Mono-devel-list] Thread stacks sizes - interpreter vs J">lupus at ximian.com
       </A><BR>
    <I>Mon Oct  6 10:18:54 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002322.html">[Mono-devel-list] Thread stacks sizes - interpreter vs J
</A></li>
        <LI>Next message: <A HREF="002338.html">[Mono-devel-list] Thread stacks sizes - interpreter vs J
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2327">[ date ]</a>
              <a href="thread.html#2327">[ thread ]</a>
              <a href="subject.html#2327">[ subject ]</a>
              <a href="author.html#2327">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/06/03 Dick Porter wrote:
&gt;<i> On Sat, 2003-10-04 at 11:32, Varga Zoltan wrote:
</I>&gt;<i> &gt;    I would recommend adding a function to io-layer to set
</I>&gt;<i> &gt; the default
</I>&gt;<i> &gt; stack size. The JIT and the interpreter could call it with
</I>&gt;<i> &gt; different values on startup.
</I>&gt;<i> 
</I>&gt;<i> We can't add any external API to io-layer that isn't in the w32 API.
</I>
There is no need for an additional API entry point: CreateThread already
has an argument to specify the stack size for the thread, so io-layer
just needs to be fixed to obey that argument and the entry point could
be added to metadata/.

&gt;<i> For the stack size, CreateThread sets it because of issues with BSD.  It
</I>&gt;<i> would probably be best to just conditionally define that and let other
</I>&gt;<i> platforms use their defaults.
</I>
As for the original issue: it makes sense to double the default stack
size for 64 bit apps, but I'm not sure increasing the stack size for mint is
a correct solution: if it requires 30+MB of stack, there is something 
else to fix. I would support using an environment variable to set the
stack size to non-default values, so that specific apps that may have
particular demands can be tweaked, both increasing the stack size (mint
until it's fixed) and decreasing it (think an app server with thousand
of threads on a 32bit system).

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002322.html">[Mono-devel-list] Thread stacks sizes - interpreter vs J
</A></li>
	<LI>Next message: <A HREF="002338.html">[Mono-devel-list] Thread stacks sizes - interpreter vs J
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2327">[ date ]</a>
              <a href="thread.html#2327">[ thread ]</a>
              <a href="subject.html#2327">[ subject ]</a>
              <a href="author.html#2327">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
