<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: Potential GAC implementation ideas.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Potential%20GAC%20implementation%20ideas.&In-Reply-To=BBBE14A0.20586%25jonathan%40onegoodidea.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002673.html">
   <LINK REL="Next"  HREF="002677.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: Potential GAC implementation ideas.</H1>
    <B>Todd Berman</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Potential%20GAC%20implementation%20ideas.&In-Reply-To=BBBE14A0.20586%25jonathan%40onegoodidea.com"
       TITLE="[Mono-devel-list] Re: Potential GAC implementation ideas.">tberman at gentoo.org
       </A><BR>
    <I>Thu Oct 23 18:33:32 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002673.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
        <LI>Next message: <A HREF="002677.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2675">[ date ]</a>
              <a href="thread.html#2675">[ thread ]</a>
              <a href="subject.html#2675">[ subject ]</a>
              <a href="author.html#2675">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alright, this applies to you, and to Michal (who already got an email about
this)

Please, please please please please, read the initial email that started
this thread.

It details exactly the same things you both are talking about, and it
emulates ms' method exactly.

Now, the more recent and long part of this thread is about how a packager
can get his assembly to the gac.

I will reiterate. As a packager, feel free to directly insert this assembly
into the gac via copying with RPM, HOWEVER, don't expect this method to
always work.

This is akin to using private member functions via reflection.

--Todd

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A> [mailto:mono-devel-list-
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">admin at lists.ximian.com</A>] On Behalf Of Jonathan Hogg
</I>&gt;<i> Sent: October 23, 2003 6:29 PM
</I>&gt;<i> To: mono-devel
</I>&gt;<i> Subject: Re: [Mono-devel-list] Re: Potential GAC implementation ideas.
</I>&gt;<i> 
</I>&gt;<i> On 23/10/2003 22:52, Peter Williams wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; But the whole point is not to put assemblies in /usr/lib due to name
</I>&gt;<i> &gt; conflicts and general cleanliness, right? I think we all agree that
</I>&gt;<i> &gt; hard-coding the system-specific destination path sucks:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; /usr/lib/monogac/HelperAssembly/magicnumbers24134/HelperAssembly.dll
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But we have to tell RPM to put the file *somewhere*. Maybe:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; /usr/lib/MyMonoProgram/HelperAssembly.dll
</I>&gt;<i> 
</I>&gt;<i> I'm confused as to why this has to be done. The packager always knows the
</I>&gt;<i> version number of the DLL being installed. It's part of the strong name,
</I>&gt;<i> just not part of the filename. So make it part of the filename:
</I>&gt;<i> 
</I>&gt;<i>     /usr/lib/monogac/HelperAssembly/1.0.3.456/HelperAssembly.dll
</I>&gt;<i> 
</I>&gt;<i> 1.0.3.456 is not a magic number, it's a quite clearly defined and well
</I>&gt;<i> understood number.
</I>&gt;<i> 
</I>&gt;<i> The above is cross-platform to any UNIX and, besides the prefix and
</I>&gt;<i> path-separators, Windows.
</I>&gt;<i> 
</I>&gt;<i> When the cache tool is run it creates:
</I>&gt;<i> 
</I>&gt;<i>     /usr/lib/monogac/HelperAssembly/1.0.3.456/HelperAssembly.so
</I>&gt;<i> 
</I>&gt;<i> and updates
</I>&gt;<i> 
</I>&gt;<i>     /usr/lib/monogac/cache.db
</I>&gt;<i> 
</I>&gt;<i> (or something similar).
</I>&gt;<i> 
</I>&gt;<i> How, exactly, is the process of installing a DLL into the GAC different to
</I>&gt;<i> installing
</I>&gt;<i> 
</I>&gt;<i>     /usr/lib/libfoo.so.1.3.5
</I>&gt;<i> 
</I>&gt;<i> and running ldconfig?
</I>&gt;<i> 
</I>&gt;<i> [The above can of course, also be extended to include the public key
</I>&gt;<i> portion
</I>&gt;<i> of a strong name if that is necessary to differentiate DLLs (can two
</I>&gt;<i> identically named/numbered DLLs with differing keys be put in the GAC?).]
</I>&gt;<i> 
</I>&gt;<i> Jonathan
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Jonathan Hogg
</I>&gt;<i> Director
</I>&gt;<i> 
</I>&gt;<i> One Good Idea Ltd.
</I>&gt;<i> 
</I>&gt;<i> &lt;<A HREF="http://www.onegoodidea.com/">http://www.onegoodidea.com/</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002673.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
	<LI>Next message: <A HREF="002677.html">[Mono-devel-list] Re: Potential GAC implementation ideas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2675">[ date ]</a>
              <a href="thread.html#2675">[ thread ]</a>
              <a href="subject.html#2675">[ subject ]</a>
              <a href="author.html#2675">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
