<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Setting the assembly location(complete)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Setting%20the%20assembly%20location%28complete%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035204.html">
   <LINK REL="Next"  HREF="035206.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Setting the assembly location(complete)</H1>
    <B>Thiago Padilha</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Setting%20the%20assembly%20location%28complete%29&In-Reply-To="
       TITLE="[Mono-dev] Setting the assembly location(complete)">tpadilha84 at gmail.com
       </A><BR>
    <I>Mon Jun 14 14:46:05 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035204.html">[Mono-dev] Setting the assembly location
</A></li>
        <LI>Next message: <A HREF="035206.html">[Mono-dev] Setting the assembly location(complete)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35205">[ date ]</a>
              <a href="thread.html#35205">[ thread ]</a>
              <a href="subject.html#35205">[ subject ]</a>
              <a href="author.html#35205">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a very simple C program that links against mono, heres part of the code :
//
       MonoDomain *domain;
&#160; &#160; &#160; &#160;char *file = &quot;ManagedAssembly.exe&quot;;

&#160; &#160; &#160; &#160;char* exePath = getexedir(); //method that returns the exe directory

&#160; &#160; &#160; &#160;mono_set_dirs (exePath, exePath);


&#160; &#160; &#160; &#160;mono_config_parse (NULL);

&#160; &#160; &#160; &#160;domain = mono_jit_init (file);


&#160; &#160; &#160; &#160;MonoAssembly *assembly;

&#160; &#160; &#160; &#160;assembly = mono_domain_assembly_open (domain, file);
&#160; &#160; &#160; &#160;if (!assembly)
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;exit (2);
&#160; &#160; &#160; &#160;/*
&#160; &#160; &#160; &#160; * mono_jit_exec() will run the Main() method in the assembly.
&#160; &#160; &#160; &#160; * The return value needs to be looked up from
&#160; &#160; &#160; &#160; * System.Environment.ExitCode.
&#160; &#160; &#160; &#160; */

&#160; &#160; &#160; &#160;mono_jit_exec (domain, assembly, argc, argv);
//
  This was working fine, some some days ago I made a modification and
when I tried to run the following message appears :

The assembly mscorlib.dll was not found or could not be loaded.
It should have been installed in the
`/home/thiago/Projects/Worklight/Work/linux/bin/mono/1.0/mscorlib.dll'
directory.

   The first time I tried to set the mono dirs, the path was :
`/home/thiago/Projects/Worklight/Work/linux/bin/mono/2.0/mscorlib.dll'
.

Which I have installed correctly, I don't know why it is asking for
1.0 version of mscorlib.dll, but I would like to have control over
that. In this case the C program is installed in
/home/thiago/Projects/Worklight/Work/linux/bin/ and it looks for
mscolib in the mono/2.0 subfolder, can I have control over which
subfolders mono looks for assemblies?
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035204.html">[Mono-dev] Setting the assembly location
</A></li>
	<LI>Next message: <A HREF="035206.html">[Mono-dev] Setting the assembly location(complete)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35205">[ date ]</a>
              <a href="thread.html#35205">[ thread ]</a>
              <a href="subject.html#35205">[ subject ]</a>
              <a href="author.html#35205">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
