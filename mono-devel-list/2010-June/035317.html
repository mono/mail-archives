<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Standard name for mcs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Standard%20name%20for%20mcs&In-Reply-To=AANLkTimOTG4tMTTc4Ufp8cIVXC1OegWCGy_mOU01zfC4%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035316.html">
   <LINK REL="Next"  HREF="035318.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Standard name for mcs</H1>
    <B>Russell Wallace</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Standard%20name%20for%20mcs&In-Reply-To=AANLkTimOTG4tMTTc4Ufp8cIVXC1OegWCGy_mOU01zfC4%40mail.gmail.com"
       TITLE="[Mono-dev] Standard name for mcs">russell.wallace at gmail.com
       </A><BR>
    <I>Sun Jun 27 13:03:55 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035316.html">[Mono-dev] Standard name for mcs
</A></li>
        <LI>Next message: <A HREF="035318.html">[Mono-dev] Standard name for mcs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35317">[ date ]</a>
              <a href="thread.html#35317">[ thread ]</a>
              <a href="subject.html#35317">[ subject ]</a>
              <a href="author.html#35317">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Presumably someday I will start distributing new versions of my
program that require C#4, but that's a separate issue; the issue I'm
discussing here, I'm perhaps not explaining very well, I'll try again.

The problem I'm trying to solve is the standard problem of maintaining
backward compatibility for software that has already been distributed.
Once I distribute version X of my program, that's out there in the
field, and the makefile that shipped with it is whatever it is,
regardless of what different makefile I might in the future ship with
version X+1.

The backward compatibility problem, then, is that of making sure that
existing distributions of version X, continue to work when Mono
upgrades from C#3 to 4 to 5 and whatever other versions come in the
future. The usual way to solve this problem (afaik, all other
programming languages solve it this way, though I'm open to correction
on that) is to have a standard name for the compiler -- whatever the
latest/currently installed version thereof is -- so that whatever new
versions of the compiler come along, the same makefile will still
refer to them. It seems to me that would be the best solution for Mono
also. Is there another solution I'm not aware of? Obviously this is
going to be a general issue for any open source C# software
distributed on Unix, so presumably other people will have run across
this; what has been done about it heretofore?

On Sun, Jun 27, 2010 at 5:46 PM, Mark de Bruijn | Dykam
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kramieb at gmail.com</A>&gt; wrote:
&gt;<i> Once your code requires C#4, you change the makefile to C#4. Simple as that.
</I>&gt;<i> Detecting what version your code requires is hard, and I think you've
</I>&gt;<i> guidelines about what C# version you currently use for the project. When you
</I>&gt;<i> update that, you update the makefile.
</I>&gt;<i> --
</I>&gt;<i> Mark
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sun, Jun 27, 2010 at 6:43 PM, Russell Wallace &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">russell.wallace at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The issue is backward compatibility. At the moment, I would like to
</I>&gt;&gt;<i> use C#4 features but I can't because it's not generally available, so
</I>&gt;&gt;<i> I'll stick to C#3; fair enough. But then, having done that, my program
</I>&gt;&gt;<i> should continue to work even when later versions of Mono that support
</I>&gt;&gt;<i> 4 (which is a superset of 3) start appearing in the field. But if I
</I>&gt;&gt;<i> write my makefile to call gmcs, it will start failing as soon as dmcs
</I>&gt;&gt;<i> becomes the default compiler, even though dmcs would presumably be
</I>&gt;&gt;<i> able to compile the code just fine.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Sun, Jun 27, 2010 at 5:38 PM, Mark de Bruijn | Dykam
</I>&gt;&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kramieb at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; Isn't it you deciding what platform your source targets? That is also
</I>&gt;&gt;<i> &gt; the
</I>&gt;&gt;<i> &gt; decision of compiler. Once you get to use eg C#4 features, you want dmcs
</I>&gt;&gt;<i> &gt; to
</I>&gt;&gt;<i> &gt; be the compiler.
</I>&gt;&gt;<i> &gt; --
</I>&gt;&gt;<i> &gt; Mark
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On Sun, Jun 27, 2010 at 6:37 PM, Russell Wallace
</I>&gt;&gt;<i> &gt; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">russell.wallace at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt; wrote:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; I'm trying to distribute a C# program in both binary and source form
</I>&gt;&gt;<i> &gt;&gt; so that the user can optionally recompile it.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; According to <A HREF="http://www.mono-project.com/CSharp_Compiler">http://www.mono-project.com/CSharp_Compiler</A>
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &quot;You have to pick one of:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; mcs: compiler to target 1.1 runtime (to be deprecated with Mono 2.8).
</I>&gt;&gt;<i> &gt;&gt; gmcs: compiler to target the 2.0 runtime.
</I>&gt;&gt;<i> &gt;&gt; smcs: compiler to target the 2.1 runtime, to build Moonlight
</I>&gt;&gt;<i> &gt;&gt; applications.
</I>&gt;&gt;<i> &gt;&gt; dmcs: Starting with Mono 2.6 this command is the C# 4.0 compiler, and
</I>&gt;&gt;<i> &gt;&gt; references the 4.0 runtime.&quot;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; And indeed on my Ubuntu 10.04 VM, 'gmcs' works but 'mcs' gives an
</I>&gt;&gt;<i> &gt;&gt; error message. (dmcs would be nice to have, presumably it just hasn't
</I>&gt;&gt;<i> &gt;&gt; made it through the pipeline yet -- the Ubuntu version of Mono is
</I>&gt;&gt;<i> &gt;&gt; 2.4.4 -- which is fair enough.)
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; The problem I'm trying to solve is how to write a reliable makefile. I
</I>&gt;&gt;<i> &gt;&gt; can have the makefile call gmcs, but then presumably this will start
</I>&gt;&gt;<i> &gt;&gt; failing as soon as dmcs becomes the standard version.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Would it be possible to define a command to run whatever the
</I>&gt;&gt;<i> &gt;&gt; latest/currently installed C# compiler is? It seems to me that command
</I>&gt;&gt;<i> &gt;&gt; should be mcs, but it doesn't really matter what it is, as long as it
</I>&gt;&gt;<i> &gt;&gt; works reliably on all systems.
</I>&gt;&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt; Mono-devel-list mailing list
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035316.html">[Mono-dev] Standard name for mcs
</A></li>
	<LI>Next message: <A HREF="035318.html">[Mono-dev] Standard name for mcs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35317">[ date ]</a>
              <a href="thread.html#35317">[ thread ]</a>
              <a href="subject.html#35317">[ subject ]</a>
              <a href="author.html#35317">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
