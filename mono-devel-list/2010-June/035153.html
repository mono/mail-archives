<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Problems with mkbundle and generating a single	executable file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problems%20with%20mkbundle%20and%20generating%20a%20single%0A%09executable%20file&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035152.html">
   <LINK REL="Next"  HREF="035154.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Problems with mkbundle and generating a single	executable file</H1>
    <B>Extreme Developer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Problems%20with%20mkbundle%20and%20generating%20a%20single%0A%09executable%20file&In-Reply-To="
       TITLE="[Mono-dev] Problems with mkbundle and generating a single	executable file">extremedeveloper at ymail.com
       </A><BR>
    <I>Fri Jun  4 03:54:44 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035152.html">[Mono-dev] Problem creating a parallel mono environment
</A></li>
        <LI>Next message: <A HREF="035154.html">[Mono-dev] Fwd:  Problem creating a parallel mono environment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35153">[ date ]</a>
              <a href="thread.html#35153">[ thread ]</a>
              <a href="subject.html#35153">[ subject ]</a>
              <a href="author.html#35153">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear all, 
Hello! 
I hope you are doing very well. 
I have written a program in C# and after a lot of efforts I could make it compatible with mono and now I can run it on Linux without any problem but the problem is that I need to run my software on a cluster which is not located at my university so this might be impossible that I have access to mono on that system. What I need to do is to run my C# program on Linux but as a single executable file without calling mono simultaneously. 
&#160; 
I found a tutorial entitled &#8220;Mkbundle: bundle Mono with your applications&#8221; available at <A HREF="http://forum.codecall.net/csharp-tutorials/18098-mkbundle-bundle-mono-applications.html">http://forum.codecall.net/csharp-tutorials/18098-mkbundle-bundle-mono-applications.html</A> and tried to follow all of the instructions step by step but I could not succeed. Please see below: 
&#160; 
$ mkbundle -o Bundled1.exe H.exe --deps -z 
OS is: Windows 
Sources: 1 Auto-dependencies: True 
&#160;&#160; embedding: E:\cygwin\home\BEHROOZ\Hyper_Heuristic.exe 
&#160;&#160; compression ratio: 28.30% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\System.Windows.Forms.dll 
&#160;&#160; compression ratio: 34.81% 
&#160;&#160; embedding: E:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\mscorlib.dll 
&#160;&#160; compression ratio: 34.59% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\System.Drawing.dll 
&#160;&#160; compression ratio: 35.07% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\System.dll 
&#160;&#160; compression ratio: 37.00% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\System.Configuration.dll 
&#160;&#160; compression ratio: 39.79% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\System.Xml.dll 
&#160;&#160; compression ratio: 34.06% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\System.Security.dll 
&#160;&#160; compression ratio: 39.01% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\Mono.Security.dll 
&#160;&#160; compression ratio: 39.96% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\Mono.WebBrowser.dll 
&#160;&#160; compression ratio: 34.86% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\System.Data.dll 
&#160;&#160; compression ratio: 34.94% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\Mono.Data.Tds.dll 
&#160;&#160; compression ratio: 38.97% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\System.Transactions.dll 
&#160;&#160; compression ratio: 36.40% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\System.EnterpriseServices.dll 
&#160;&#160; compression ratio: 38.50% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\Mono.Posix.dll 
&#160;&#160; compression ratio: 40.11% 
&#160;&#160; embedding: e:\PROGRA~1\MONO-2~1.4\lib\mono\2.0\Accessibility.dll 
&#160;&#160; compression ratio: 30.89% 
Compiling: 
as -o temp.o temp.s 
gcc -mno-cygwin -g -o Bundled1.exe -Wall temp.c `pkg-config --cflags --libs mono 
|<i>dos2unix` -lz temp.o 
</I>gcc: The -mno-cygwin flag has been removed; use a mingw-targeted cross-compiler. 
&#160; 
[Fail] 
&#160; 
It seems that the error message that I got (The -mno-cygwin flag has been removed) is a famous one. I googled it and found some information as follows: 
&#160;&gt; # gcc-4 -mno-cygwin&gt; gcc-4: The -mno-cygwin flag has been removed; use a mingw-targeted&gt; cross-compiler.&gt; &gt; However, I could find no &quot;mingw-targeted cross-compiler&quot; for gcc-4&gt; (though they seem to be there for gcc-3).&#160; Does one exist? &#160;Not yet, but it is coming.&#160; for now, explicitly use 'gcc-3 -mno-cygwin'or switch your default gcc to version 3.x by using/usr/bin/set-gcc-default-3.sh
&#160; 
By deleting gcc-4 and just using gcc-3, I got a huge number of errors and when I don&#8217;t do that I get only one error as : The -mno-cygwin flag has been removed; use a mingw-targeted cross-compilerAnd by using /usr/bin/set-gcc-default-3.sh as suggested in that forum I get &quot;access denied&quot; ! &#160;There are some other approaches mentioned in some other forums but non of these advice could help unfortunately.
&#160; 
Before trying this in windows using cygwin, I tried it in Linux as mentioned at: <A HREF="http://www.mono-project.com/Guide:Running_Mono_Applications">http://www.mono-project.com/Guide:Running_Mono_Applications</A> but I could not succeed. 
&#160; 
I also used Mono Tools for Visual Studio (<A HREF="http://go-mono.com/monotools/Package.aspx">http://go-mono.com/monotools/Package.aspx</A>) and everything was ok until step 5. By clicking on &#8220;create package&#8221;, it starts working and shows that the package is being built (building package &#8230; etc) but after a while Visual studio generates a message saying that Visual studio has encountered a problem and must be restarted. No outcome again. 
&#160; 
To be honest with you, until now, I have spent a huge amount of time on this issue without any outcome. I will be very very grateful to you if you do me a favour and&#160;tell me what is wrong and how I can resolve this problem. 
&#160; 
Thank you so much in advance and sorry to interrupt you 
&#160; 
Best regards, 
Alex 


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100604/fe25fd6a/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100604/fe25fd6a/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035152.html">[Mono-dev] Problem creating a parallel mono environment
</A></li>
	<LI>Next message: <A HREF="035154.html">[Mono-dev] Fwd:  Problem creating a parallel mono environment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35153">[ date ]</a>
              <a href="thread.html#35153">[ thread ]</a>
              <a href="subject.html#35153">[ subject ]</a>
              <a href="author.html#35153">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
