<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] mono inlining
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono%20inlining&In-Reply-To=8cca42d80901191214u44a106afuecaf3541b052b8df%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030556.html">
   <LINK REL="Next"  HREF="030549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] mono inlining</H1>
    <B>crashfourit</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mono%20inlining&In-Reply-To=8cca42d80901191214u44a106afuecaf3541b052b8df%40mail.gmail.com"
       TITLE="[Mono-dev] mono inlining">crashfourit at gmail.com
       </A><BR>
    <I>Mon Jan 19 15:30:14 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="030556.html">[Mono-dev] mono inlining
</A></li>
        <LI>Next message: <A HREF="030549.html">[Mono-dev] mono inlining
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30557">[ date ]</a>
              <a href="thread.html#30557">[ thread ]</a>
              <a href="subject.html#30557">[ subject ]</a>
              <a href="author.html#30557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>


Rodrigo Kumpera wrote:
&gt;<i> 
</I>&gt;<i> The _MonoMethod struct is instantiated too many times on during runtime to
</I>&gt;<i> have information
</I>&gt;<i> added to it. The extra space would cause a huge overhead.
</I>&gt;<i> 
</I>&gt;<i> The other issue is that the way it's doing is resolving too much metadata
</I>&gt;<i> information. It
</I>&gt;<i> should be done as lazily as possible.
</I>&gt;<i> 
</I>&gt;<i> I have a similar need that I'm coding right now, once I add the required
</I>&gt;<i> code to do so, your patch will
</I>&gt;<i> get a lot simpler.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Mon, Jan 19, 2009 at 5:47 PM, crashfourit &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">crashfourit at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Rodrigo Kumpera wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; This is the wrong approach to check for the assembly, you should first
</I>&gt;&gt;<i> &gt; strcmp
</I>&gt;&gt;<i> &gt; for it and only after that cache the result. Don't load the assembly if
</I>&gt;&gt;<i> &gt; it's
</I>&gt;&gt;<i> &gt; possible to avoid so.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On Mon, Jan 19, 2009 at 8:04 AM, crashfourit &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">crashfourit at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt; wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Here is my updated patch.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://www.nabble.com/file/p21539945/trunk_mono.diff">http://www.nabble.com/file/p21539945/trunk_mono.diff</A> trunk_mono.diff
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; What do you think?
</I>&gt;&gt;<i> &gt;&gt; --
</I>&gt;&gt;<i> &gt;&gt; View this message in context:
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://www.nabble.com/mono-inlining-tp21510132p21539945.html">http://www.nabble.com/mono-inlining-tp21510132p21539945.html</A>
</I>&gt;&gt;<i> &gt;&gt; Sent from the Mono - Dev mailing list archive at Nabble.com.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt; Mono-devel-list mailing list
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> Here is another updated patch.
</I>&gt;&gt;<i> Hope it is to your liking.
</I>&gt;&gt;<i> <A HREF="http://www.nabble.com/file/p21550206/trunk_mono.diff">http://www.nabble.com/file/p21550206/trunk_mono.diff</A> trunk_mono.diff
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> View this message in context:
</I>&gt;&gt;<i> <A HREF="http://www.nabble.com/mono-inlining-tp21510132p21550206.html">http://www.nabble.com/mono-inlining-tp21510132p21550206.html</A>
</I>&gt;&gt;<i> Sent from the Mono - Dev mailing list archive at Nabble.com.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>I'm guessing you like my patch. :) Well, the general concept of it. I'd love
to see the code you are adding that will make my patch simpler.

Thing objective is that I'd love to figure out how to do struct
decomposition so that methods with structs as formal parameters will be able
to be inlined. 
-- 
View this message in context: <A HREF="http://www.nabble.com/mono-inlining-tp21510132p21550920.html">http://www.nabble.com/mono-inlining-tp21510132p21550920.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030556.html">[Mono-dev] mono inlining
</A></li>
	<LI>Next message: <A HREF="030549.html">[Mono-dev] mono inlining
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30557">[ date ]</a>
              <a href="thread.html#30557">[ thread ]</a>
              <a href="subject.html#30557">[ subject ]</a>
              <a href="author.html#30557">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
