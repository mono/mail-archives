<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] signal.c cross-thread access
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20signal.c%20cross-thread%20access&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030533.html">
   <LINK REL="Next"  HREF="030606.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] signal.c cross-thread access</H1>
    <B>tim.jenks at realtimeworlds.com</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20signal.c%20cross-thread%20access&In-Reply-To="
       TITLE="[Mono-dev] signal.c cross-thread access">tim.jenks at realtimeworlds.com
       </A><BR>
    <I>Fri Jan 16 09:27:59 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="030533.html">[Mono-dev] ADO.NET Data Services (project astoria) plans ?
</A></li>
        <LI>Next message: <A HREF="030606.html">[Mono-dev] signal.c cross-thread access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30512">[ date ]</a>
              <a href="thread.html#30512">[ thread ]</a>
              <a href="subject.html#30512">[ subject ]</a>
              <a href="author.html#30512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Attached is a patch to signal.c supporting cross-thread access.

Currently signal.c maintains a coarse grained mutex in each entry point
from managed code, including the blocking WaitAny call. This makes the
use of the UnixSignal* code limited at best - one thread may be sat in a
WaitAny for an undetermined period of time, blocking access to any other
managed thread wishing to use the signalling code.

This patch provides fine grained locking of the relevant singal_info
struct, and a removal of the coarse grained mutex, allowing multiple
threads to interact with the native signal code.

-Tim

____________________________________________________________________
DISCLAIMER

This message and any attachments contain privileged and confidential information intended for the use of the addressee named above. If you are not the intended recipient of this message, you are hereby notified that any use, dissemination, distribution or reproduction of this message is prohibited. Please note that we cannot guarantee that this message or any attachment is virus free or that it has not been intercepted and amended. The views of the author may not necessarily reflect those of Realtime Worlds Ltd.

 

Realtime Worlds Ltd is registered in Scotland, number 225628. Registered Office: 152 West Marketgait, Dundee, DD1 1NJ.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signal.c.diff
Type: application/octet-stream
Size: 10203 bytes
Desc: signal.c.diff
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090116/e0452caa/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090116/e0452caa/attachment.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: UnixSignal.cs.diff
Type: application/octet-stream
Size: 386 bytes
Desc: UnixSignal.cs.diff
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090116/e0452caa/attachment-0001.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090116/e0452caa/attachment-0001.obj</A> 
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030533.html">[Mono-dev] ADO.NET Data Services (project astoria) plans ?
</A></li>
	<LI>Next message: <A HREF="030606.html">[Mono-dev] signal.c cross-thread access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30512">[ date ]</a>
              <a href="thread.html#30512">[ thread ]</a>
              <a href="subject.html#30512">[ subject ]</a>
              <a href="author.html#30512">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
