<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Complex script / international	support	in	Winforms/libgdiplus
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Complex%20script%20/%20international%0A%09support%09in%09Winforms/libgdiplus&In-Reply-To=497A28ED.2030209%40jpobst.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030625.html">
   <LINK REL="Next"  HREF="030635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Complex script / international	support	in	Winforms/libgdiplus</H1>
    <B>Jonathan Anderson</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Complex%20script%20/%20international%0A%09support%09in%09Winforms/libgdiplus&In-Reply-To=497A28ED.2030209%40jpobst.com"
       TITLE="[Mono-dev] Complex script / international	support	in	Winforms/libgdiplus">jonathan.l.anderson at gmail.com
       </A><BR>
    <I>Sat Jan 24 02:47:35 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="030625.html">[Mono-dev] Complex script / international	support	in	Winforms/libgdiplus
</A></li>
        <LI>Next message: <A HREF="030635.html">[Mono-dev] Complex script / international support in	Winforms/libgdiplus
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30630">[ date ]</a>
              <a href="thread.html#30630">[ thread ]</a>
              <a href="subject.html#30630">[ subject ]</a>
              <a href="author.html#30630">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Another thing we had looked at was implementing Pango in 2.0's 
</I>&gt;<i> System.Windows.Forms.TextRenderer instead of going through 
</I>&gt;<i> System.Drawing.  (We have an internal version for 1.1, so we don't need 
</I>&gt;<i> separate code paths.)
</I>&gt;<i> 
</I>&gt;<i> It supports a different set of formatting options that may be easier to 
</I>&gt;<i> replicate.
</I>&gt;<i> 
</I>&gt;<i> Also, implementing it here would not have the potential to break as much 
</I>&gt;<i> existing code, as not as many things use it.  Once it is implemented, 
</I>&gt;<i> controls would need to be updated to use this instead of System.Drawing. 
</I>&gt;<i>  Updating every control will not be fun, but as you already noticed, 
</I>&gt;<i> every control assumes LTR, so they would all have to be changed to 
</I>&gt;<i> support RTL anyways.
</I>

I've considered that.  I may look into the different formatting options 
to see if they make more sense in terms of pango.

One other thing that I'm working on is adding some of the functionality 
needed to the internal TextBoxTextRenderer class.  To do an editor 
control correctly there is a lot more to worry about than for a control 
that just draws text, so it makes sense in that regard.

On the Windows side of things, I may use Uniscribe in 
TextBoxTextRenderer as there are some things you need for complex 
scripts you just can't get from GDI.  Drawing is fine using GDI because 
it will pass any complex script through to Uniscribe already - you just 
can't get back information like good line breaking points (Thai doesn't 
use white space, for example), and both possible caret positions for a 
character (needed for bidirectional text).  I'm pretty sure Microsoft's 
TextBox controls are using Uniscribe when necessary because I've done 
some testing with them using bidirectional text and get proper behavior 
that I don't think you could get just using GDI.  Also mixed font/color 
text in the RtfTextBox would need to be done with Uniscribe in Windows.

Jonathan Anderson
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030625.html">[Mono-dev] Complex script / international	support	in	Winforms/libgdiplus
</A></li>
	<LI>Next message: <A HREF="030635.html">[Mono-dev] Complex script / international support in	Winforms/libgdiplus
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30630">[ date ]</a>
              <a href="thread.html#30630">[ thread ]</a>
              <a href="subject.html#30630">[ subject ]</a>
              <a href="author.html#30630">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
