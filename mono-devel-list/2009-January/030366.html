<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono on SH4: a work in progress
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20on%20SH4%3A%20a%20work%20in%20progress&In-Reply-To=4961F089.3030604%40st.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030365.html">
   <LINK REL="Next"  HREF="030367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono on SH4: a work in progress</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20on%20SH4%3A%20a%20work%20in%20progress&In-Reply-To=4961F089.3030604%40st.com"
       TITLE="[Mono-dev] Mono on SH4: a work in progress">kumpera at gmail.com
       </A><BR>
    <I>Mon Jan  5 07:42:00 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="030365.html">[Mono-dev] Mono on SH4: a work in progress
</A></li>
        <LI>Next message: <A HREF="030367.html">[Mono-dev] Mono on SH4: a work in progress
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30366">[ date ]</a>
              <a href="thread.html#30366">[ thread ]</a>
              <a href="subject.html#30366">[ subject ]</a>
              <a href="author.html#30366">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Cedric,

Those are some pretty sweet news!

Looks like SH4 requires a more thought out support for a constant pool than
other archs such as ARM.

Maybe we can factor out the code for the constant pool to be used by more
archs. ARM is one
that would benefit from such thing - we emit large constants as a 2-4
instructions sequence.
What do you think about it?

Cheers,
Rodrigo


On Mon, Jan 5, 2009 at 9:35 AM, Cedric VINCENT &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">cedric.vincent at st.com</A>&gt;wrote:

&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> STMicroelectronics is studying the Common Language Infrastructure as a
</I>&gt;<i> language/processor neutral representation for some parts of its
</I>&gt;<i> embedded applications. Currently, we are focusing on GCC4NET to
</I>&gt;<i> produce .NET assemblies from C source codes, and we are using Mono as
</I>&gt;<i> an execution system. That's why we are considering Mono for some
</I>&gt;<i> future work on dynamic optimizations and code size reduction, among
</I>&gt;<i> other important things coming with a language/processor neutral
</I>&gt;<i> representation...
</I>&gt;<i>
</I>&gt;<i> As a follow-up of the work already done by STMicroelectronics on
</I>&gt;<i> GCC4NET <A HREF="http://gcc.gnu.org/projects/cli.html,">http://gcc.gnu.org/projects/cli.html,</A> we are currently working
</I>&gt;<i> on a new Mono/SH4 port. This port is at an early stage and does not
</I>&gt;<i> pass the &quot;basic&quot; test-suite, however it passes a new &quot;trivial&quot;
</I>&gt;<i> test-suite, best suitable to start new ports.
</I>&gt;<i>
</I>&gt;<i> If you wish, you can take a look at the following Git repository:
</I>&gt;<i> <A HREF="http://repo.or.cz/w/mono/stm.git">http://repo.or.cz/w/mono/stm.git</A>
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i> The Mono/SH4 team @ STMicroelectronics.
</I>&gt;<i>
</I>&gt;<i> PS: The SH4 is a RISC processor using 32 bits &quot;data words&quot; but only 16
</I>&gt;<i>  bits &quot;instructions words&quot;, so there is not many room to store an
</I>&gt;<i>  &quot;immediate value&quot;. To work around this constraint, the SH4 stores
</I>&gt;<i>  big constants into a table addressable from the current
</I>&gt;<i>  instruction pointer (a.k.a. constant pool). As a result, the
</I>&gt;<i>  native code emitter for Mini/SH4 is quite different from the other
</I>&gt;<i>  ports.
</I>&gt;<i>
</I>&gt;<i> PPS: We also provide a tiny Perl script creating &quot;cpu-${arch}.md&quot; from
</I>&gt;<i>  tags inserted into output_basic_blocks(), so the op-codes
</I>&gt;<i>  descriptions are close to theirs implementations.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090105/2a0fa9a0/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090105/2a0fa9a0/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030365.html">[Mono-dev] Mono on SH4: a work in progress
</A></li>
	<LI>Next message: <A HREF="030367.html">[Mono-dev] Mono on SH4: a work in progress
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30366">[ date ]</a>
              <a href="thread.html#30366">[ thread ]</a>
              <a href="subject.html#30366">[ subject ]</a>
              <a href="author.html#30366">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
