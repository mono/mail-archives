<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] xbuild - ** ERROR **: shm_semaphores_init: semget error:	No space left on device.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20xbuild%20-%20%2A%2A%20ERROR%20%2A%2A%3A%20shm_semaphores_init%3A%20semget%20error%3A%0A%09No%20space%20left%20on%20device.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036307.html">
   <LINK REL="Next"  HREF="036299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] xbuild - ** ERROR **: shm_semaphores_init: semget error:	No space left on device.</H1>
    <B>Arne Claassen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20xbuild%20-%20%2A%2A%20ERROR%20%2A%2A%3A%20shm_semaphores_init%3A%20semget%20error%3A%0A%09No%20space%20left%20on%20device.&In-Reply-To="
       TITLE="[Mono-dev] xbuild - ** ERROR **: shm_semaphores_init: semget error:	No space left on device.">arnec at mindtouch.com
       </A><BR>
    <I>Fri Nov 12 01:53:35 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="036307.html">[Mono-dev] [PATCH] add missing case to conv_to_icall
</A></li>
        <LI>Next message: <A HREF="036299.html">[Mono-dev] xbuild - ** ERROR **: shm_semaphores_init: semget error: No space left on device.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36295">[ date ]</a>
              <a href="thread.html#36295">[ thread ]</a>
              <a href="subject.html#36295">[ subject ]</a>
              <a href="author.html#36295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm running mono 2.6.7 (novell rpms) on centos 5.5 w/ mod_mono and  
I've twice run into xbuild stopping to work with this error:

** ERROR **: shm_semaphores_init: semget error: No space left on device.

I don't have the full error right now, since i rebooted the machine  
again and didn't capture it first. But it talks about either removing  
semaphores using ipcrm and ipcs or increasing the max semaphores

After restart, ipcs has no Semaphore Arrays, but after i hit my  
various asp.net apps, that output quickly goes up:


------ Shared Memory Segments --------
key        shmid      owner      perms      bytes      nattch     status
0x0101400b 327680     root       600        52828      45
0x01014069 360449     root       600        52828      26
0x740102df 131074     root       600        4          0
0x010140af 393219     root       600        52828      26
0x010140b1 425988     root       600        52828      26

------ Semaphore Arrays --------
key        semid      owner      perms      nsems
0x00000000 0          root       600        1
0x00000000 65537      apache     600        1
0x00000000 98306      apache     600        1
0x00000000 131075     apache     600        1
0x00000000 163844     apache     600        1
0x00000000 196613     apache     600        1
....
etc.

When the error occured, that list of arrays was about 100 long.  
restarting apache, mod_mono, etc didn't help. Killing off semaphores  
using ipcrm seemed to get xbuild working again, but the asp.net apps  
then only returned blank pages. Finally I rebooted again.

Not knowing what those semaphores are and what makes them increase,  
leaves me a bit worried. Do i just need more semphores (and how do i  
do that) or is xbuild just creating them and never cleaning them up?  
Any help understanding what this means and how to either prevent or at  
least clean it up would be greatly appreciated.

cheers,
Arne Claassen

MindTouch
San Diego, CA
<A HREF="http://twitter.com/sdether">http://twitter.com/sdether</A>

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036307.html">[Mono-dev] [PATCH] add missing case to conv_to_icall
</A></li>
	<LI>Next message: <A HREF="036299.html">[Mono-dev] xbuild - ** ERROR **: shm_semaphores_init: semget error: No space left on device.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36295">[ date ]</a>
              <a href="thread.html#36295">[ thread ]</a>
              <a href="subject.html#36295">[ subject ]</a>
              <a href="author.html#36295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
