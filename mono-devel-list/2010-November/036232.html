<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] C# source-to-source compiler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20C%23%20source-to-source%20compiler&In-Reply-To=AANLkTi%3DQaQJiN0PwEQxZBO%3DxY4w1sWNG9UXcKONJdToc%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036230.html">
   <LINK REL="Next"  HREF="036233.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] C# source-to-source compiler</H1>
    <B>jmalcolm</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20C%23%20source-to-source%20compiler&In-Reply-To=AANLkTi%3DQaQJiN0PwEQxZBO%3DxY4w1sWNG9UXcKONJdToc%40mail.gmail.com"
       TITLE="[Mono-dev] C# source-to-source compiler">malcolm.justin at gmail.com
       </A><BR>
    <I>Fri Nov  5 01:08:31 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="036230.html">[Mono-dev] C# source-to-source compiler
</A></li>
        <LI>Next message: <A HREF="036233.html">[Mono-dev] C# source-to-source compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36232">[ date ]</a>
              <a href="thread.html#36232">[ thread ]</a>
              <a href="subject.html#36232">[ subject ]</a>
              <a href="author.html#36232">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

kcleung wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I am also looking for developing C#-based language extension, which
</I>&gt;<i> the compiler will compile to C# 4.0 code that calls *my* runtime
</I>&gt;<i> library.  The emitted C# 4.0 code will then go to the original dmcs
</I>&gt;<i> compiler, which will then produce CLI bytecode.
</I>&gt;<i> 
</I>&gt;<i> Thanks!
</I>&gt;<i> 
</I>&gt;<i> Qichang
</I>&gt;<i> 
</I>&gt;<i> 
</I>
I guess I am also confused as to why you would need to have C# to C# as an
intermediate step.

Are you thinking that you would want to manually edit and maintain the
generated C#?  I mean are you really seeing your modified C# as a Domain
Specific Language (DSL) that is really just a code generator?

It would seem easier to modify the C# compiler to directly generate CIL
(Common Intermediate Language) that calls your runtime library.

You can call your runtime library from CIL just as easily as you can from C#
code.  The C# compiler already spits out CIL.  Just modify it to spit out
CIL that calls into your runtime library.  This will be much easier than
what you are proposing.

I am not sure how familiar you are with CIL.  It is what all .NET languages
like C#, Visual Basic, and Boo are compiled down to.  It is often described 
to be like assembly language but it really is not.  It is really a pretty
high-level OO language in it's own right.

CIL is like assembly in that it lacks many structured language features,
like looping constructs, and instead uses jumps and conditional branches
(like goto and if statements if you like) to achieve equivalent results. 
However, it is fully object-oriented and supports classes, fields, and
methods with full support for inheritance, polymorphism, and virtual
methods.  Access levels like public and private or modifiers like static
(singleton) are all supported as well.  It also has a wide range of
operators and a complex type system with integers, floating point types, and
even arrays and generics.  CIL has full access to the .NET framework and
method calls are by name and argument signature.  You can easily call into
your library from CIL just as you would from C#.

I do not believe that you need to have C# as an intermediate step.
-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/C-source-to-source-compiler-tp3026549p3028181.html">http://mono.1490590.n4.nabble.com/C-source-to-source-compiler-tp3026549p3028181.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036230.html">[Mono-dev] C# source-to-source compiler
</A></li>
	<LI>Next message: <A HREF="036233.html">[Mono-dev] C# source-to-source compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36232">[ date ]</a>
              <a href="thread.html#36232">[ thread ]</a>
              <a href="subject.html#36232">[ subject ]</a>
              <a href="author.html#36232">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
