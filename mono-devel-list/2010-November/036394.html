<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Windows Integrated Authentication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Windows%20Integrated%20Authentication&In-Reply-To=20101125102839.79160%40gmx.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036393.html">
   <LINK REL="Next"  HREF="036400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Windows Integrated Authentication</H1>
    <B>Marek Habersack</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Windows%20Integrated%20Authentication&In-Reply-To=20101125102839.79160%40gmx.net"
       TITLE="[Mono-dev] Windows Integrated Authentication">grendel at twistedcode.net
       </A><BR>
    <I>Thu Nov 25 09:30:34 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="036393.html">[Mono-dev] Windows Integrated Authentication
</A></li>
        <LI>Next message: <A HREF="036400.html">[Mono-dev] [PATCH]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36394">[ date ]</a>
              <a href="thread.html#36394">[ thread ]</a>
              <a href="subject.html#36394">[ subject ]</a>
              <a href="author.html#36394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 25 Nov 2010 11:28:39 +0100
&quot;Helmut Ziegler&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">helmut_ziegler at gmx.de</A>&gt; wrote:

&gt;<i> Hi Marek,
</I>Hi,

&gt;<i> thanks for the prompt answer!
</I>&gt;<i> I think forms authentication could be a way to go, but your answer pushed my thoughts in to
</I>&gt;<i> several direction. And I have to think and test these thought a bit.
</I>&gt;<i> 
</I>&gt;<i> Nevertheless, Windows Integrated Authentication would be the easiest way to go. Especially in the
</I>&gt;<i> current project, which focuses on the windows platform only and has a tight schedule.
</I>&gt;<i> 
</I>&gt;<i> I think I tell something more about our scenario, to make things and possibilities clearer.
</I>&gt;<i> 
</I>&gt;<i> We want to use the Mono Server only on clients to run the MVC web app locally. In order to limit
</I>&gt;<i> the usage of the app to a specific domain and specific users using the Integrated Authentication
</I>&gt;<i> would be the best way. If possible, we don't want users to have extra login via form.
</I>So you want the app to run on a local windows machine, using local user credentials or using
windows domain credentials? From what you wrote above I have the impression that your users are
members of a windows domain, which means their accounts are in ActiveDirectory. If this is the
case, you can implement Mono's System.Web.Security.ActiveDirectoryMembershipProvider to the
directory server in order to authenticate the users against that service. Of course, it would
require completing the implementation of Mono's WindowsIdentity principal (in
corlib/System.Security.Principal/WindowsIdentity) and the
System.Web.Security.WindowsAuthenticationModule (you could use our FormsAuthenticationModule as the
model). Implementing the two latter types would give you access to local Windows user credentials.
None of those tasks should be too complicated.

&gt;<i> As far as I can see, there are two possibilities to make use of the Integrated Authentication:
</I>&gt;<i> * As we start the Mono Server via console app we could read the WindowsIdentity and hand it over
</I>&gt;<i> somehow to our web app.
</I>If the app is ran by Mono, then this approach won't solve the problem. If it is a native app or it
runs with .NET, then you can just make sure that it's the console launcher that authorizes the user
and runs the application (perhaps under a secured local user account - using impersonation) only if
the authentication/authorization was successful.

&gt;<i> * We enhance the Mono Server, so it can read the WindowsIdentity.
</I>That would be very welcome, especially if you contributed to Mono the patches :)

&gt;<i> As I haven't put my fingers on programming a server so far, I'm a bit sceptical about the second
</I>&gt;<i> possibility. Mainly, as I don't know how much effort it would be ...
</I>As said above, I don't think it would be a lot of work. WindowsIdentity is already partially
implemented and the WindowsAuthenticationModule should be pretty straightforward to code.

best,

marek

&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Helmut
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -------- Original-Nachricht --------
</I>&gt;<i> &gt; Datum: Wed, 24 Nov 2010 17:46:46 +0100
</I>&gt;<i> &gt; Von: Marek Habersack &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">grendel at twistedcode.net</A>&gt;
</I>&gt;<i> &gt; An: agez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">helmut_ziegler at gmx.de</A>&gt;
</I>&gt;<i> &gt; CC: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; Betreff: Re: [Mono-dev] Windows Integrated Authentication
</I>&gt;<i> 
</I>&gt;<i> &gt; On Wed, 24 Nov 2010 07:11:11 -0800 (PST)
</I>&gt;<i> &gt; agez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">helmut_ziegler at gmx.de</A>&gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Hi,
</I>&gt;<i> &gt; Hey,
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt; &gt; we're developing an ASP.Net MVC2 web application for the Intranet and
</I>&gt;<i> &gt; wanted
</I>&gt;<i> &gt; &gt; to use Windows Integrated Authentication.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Everything works fine with the Visual Studio Development Server or IIS.
</I>&gt;<i> &gt; But
</I>&gt;<i> &gt; &gt; we wanted to switch to a Mono Server. And there the user's identity
</I>&gt;<i> &gt; isn't
</I>&gt;<i> &gt; &gt; available.  So authorization doesn't work.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; As Mono aims to be platform independent this is understandable, but does
</I>&gt;<i> &gt; &gt; anyone know how to get around this?
</I>&gt;<i> &gt; The best option, imho, is to use the forms authentication framework
</I>&gt;<i> &gt; (unless you have a very
</I>&gt;<i> &gt; specific application which absolutely needs to use the Unix/Windows user
</I>&gt;<i> &gt; database). You can take
</I>&gt;<i> &gt; advantage of the Membership and Role providers in your MVC application -
</I>&gt;<i> &gt; implementations of them
</I>&gt;<i> &gt; exist for basically every RDBMS and also for LDAP, plain XML, plain text
</I>&gt;<i> &gt; files (alas, Mono's
</I>&gt;<i> &gt; implementation of the ActiveDirectoryMembershipProvider is just a stub -
</I>&gt;<i> &gt; patches welcome, of
</I>&gt;<i> &gt; course :D). If you can't find a provider that suits your needs, it's easy
</I>&gt;<i> &gt; to create a custom one,
</I>&gt;<i> &gt; tailored to your environment.
</I>&gt;<i> &gt; If this is not desirable, you can easily roll out your own authentication
</I>&gt;<i> &gt; provider using any
</I>&gt;<i> &gt; database (from LDAP/ActiveDirectory to any RDBMS) as the backend and just
</I>&gt;<i> &gt; the forms authentication
</I>&gt;<i> &gt; ticket/cookie services to keep the user logged in.
</I>&gt;<i> &gt; If you wanted to authenticate users on Linux using their physical account
</I>&gt;<i> &gt; credentials then things
</I>&gt;<i> &gt; will get a bit complicated. In order to be absolutely compatible with the
</I>&gt;<i> &gt; multitude of ways to
</I>&gt;<i> &gt; authenticate users on Linux you'd have to use PAM and that would require
</I>&gt;<i> &gt; either to grant your
</I>&gt;<i> &gt; application special rights or use a daemon to which the application would
</I>&gt;<i> &gt; talk in order to
</I>&gt;<i> &gt; authenticate the users. If you want to keep your server/application users
</I>&gt;<i> &gt; in one place and use the
</I>&gt;<i> &gt; same credentials on Linux, Windows and your MVC app, then I'd recommend
</I>&gt;<i> &gt; looking at OpenLDAP to
</I>&gt;<i> &gt; implement your own directory server.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Hope that helps a bit,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; marek
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036393.html">[Mono-dev] Windows Integrated Authentication
</A></li>
	<LI>Next message: <A HREF="036400.html">[Mono-dev] [PATCH]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36394">[ date ]</a>
              <a href="thread.html#36394">[ thread ]</a>
              <a href="subject.html#36394">[ subject ]</a>
              <a href="author.html#36394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
