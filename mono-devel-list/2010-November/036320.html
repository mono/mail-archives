<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] I wanna contribute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20I%20wanna%20contribute&In-Reply-To=AANLkTimsggKu0%3Dm1GDPtSqyXBAQKWzV0fdsFNs%3DBmpRG%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036319.html">
   <LINK REL="Next"  HREF="036341.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] I wanna contribute</H1>
    <B>J.P.</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20I%20wanna%20contribute&In-Reply-To=AANLkTimsggKu0%3Dm1GDPtSqyXBAQKWzV0fdsFNs%3DBmpRG%40mail.gmail.com"
       TITLE="[Mono-dev] I wanna contribute">mailing at mono.developer.kr
       </A><BR>
    <I>Mon Nov 15 04:35:38 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="036319.html">[Mono-dev] I wanna contribute
</A></li>
        <LI>Next message: <A HREF="036341.html">[Mono-dev] I wanna contribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36320">[ date ]</a>
              <a href="thread.html#36320">[ thread ]</a>
              <a href="subject.html#36320">[ subject ]</a>
              <a href="author.html#36320">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've got a situation that mono crashed with sgen and llvm option.
But I'm sorry can't upload the code. What information needed? I can
reporting the problem without code providing.
It is always happened when start to self-host remoting.

Regards
J.P. Park


# mono -V
Mono JIT compiler version 2.9 (master/32340d1 Mon Nov 15 14:19:55 KST 2010)
Copyright (C) 2002-2010 Novell, Inc and Contributors. www.mono-project.com
 TLS:           __thread
SIGSEGV:       altstack
Notifications: epoll
 Architecture:  amd64
Disabled:      none
Misc:          softdebug
 LLVM:          yes(2.8svn-mono)
GC:            Included Boehm (with typed GC and Parallel Mark)


Crash:

Stacktrace:


Native stacktrace:

mono-sgen [0x4a3a6d]
 mono-sgen [0x50062d]
/lib64/libpthread.so.0 [0x38b300e7c0]
mono-sgen [0x60021e]
 mono-sgen [0x600619]
mono-sgen [0x60079f]
mono-sgen [0x5b8c82]
 mono-sgen [0x5b8dc7]
mono-sgen [0x5bca94]
mono-sgen [0x5bdd4a]
 mono-sgen [0x5be59b]
mono-sgen [0x5bed21]
mono-sgen(mono_string_new_size+0x4b) [0x59c86b]
 mono-sgen [0x596ae2]
[0x40fd5b08]

Debug info from gdb:

[Thread debugging using libthread_db enabled]
[New Thread 0x2af2ae639970 (LWP 24870)]
[New Thread 0x44b5b940 (LWP 24917)]
[New Thread 0x4495a940 (LWP 24916)]
[New Thread 0x44759940 (LWP 24915)]
[New Thread 0x44558940 (LWP 24914)]
[New Thread 0x44357940 (LWP 24913)]
[New Thread 0x44156940 (LWP 24912)]
[New Thread 0x4021d940 (LWP 24911)]
[New Thread 0x43f55940 (LWP 24910)]
[New Thread 0x43d54940 (LWP 24909)]
[New Thread 0x43b53940 (LWP 24908)]
[New Thread 0x43952940 (LWP 24907)]
[New Thread 0x43751940 (LWP 24906)]
[New Thread 0x43550940 (LWP 24905)]
[New Thread 0x4334f940 (LWP 24904)]
[New Thread 0x4314e940 (LWP 24903)]
[New Thread 0x42f4d940 (LWP 24902)]
[New Thread 0x414e7940 (LWP 24900)]
[New Thread 0x42d4c940 (LWP 24890)]
[New Thread 0x42b4b940 (LWP 24889)]
[New Thread 0x40cab940 (LWP 24888)]
[New Thread 0x4294a940 (LWP 24887)]
[New Thread 0x42749940 (LWP 24886)]
[New Thread 0x40aaa940 (LWP 24885)]
[New Thread 0x42538940 (LWP 24884)]
[New Thread 0x42337940 (LWP 24883)]
[New Thread 0x407dc940 (LWP 24882)]
[New Thread 0x41ac6940 (LWP 24873)]
[New Thread 0x405db940 (LWP 24872)]
[New Thread 0x41db5940 (LWP 24871)]
0x00000038b24307bf in sigsuspend () from /lib64/libc.so.6
  30 Thread 0x41db5940 (LWP 24871)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  29 Thread 0x405db940 (LWP 24872)  0x00000038b300d5cb in read () from
/lib64/libpthread.so.0
  28 Thread 0x41ac6940 (LWP 24873)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  27 Thread 0x407dc940 (LWP 24882)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  26 Thread 0x42337940 (LWP 24883)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  25 Thread 0x42538940 (LWP 24884)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  24 Thread 0x40aaa940 (LWP 24885)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  23 Thread 0x42749940 (LWP 24886)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  22 Thread 0x4294a940 (LWP 24887)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  21 Thread 0x40cab940 (LWP 24888)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  20 Thread 0x42b4b940 (LWP 24889)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  19 Thread 0x42d4c940 (LWP 24890)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  18 Thread 0x414e7940 (LWP 24900)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  17 Thread 0x42f4d940 (LWP 24902)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  16 Thread 0x4314e940 (LWP 24903)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  15 Thread 0x4334f940 (LWP 24904)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  14 Thread 0x43550940 (LWP 24905)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  13 Thread 0x43751940 (LWP 24906)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  12 Thread 0x43952940 (LWP 24907)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  11 Thread 0x43b53940 (LWP 24908)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  10 Thread 0x43d54940 (LWP 24909)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  9 Thread 0x43f55940 (LWP 24910)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  8 Thread 0x4021d940 (LWP 24911)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  7 Thread 0x44156940 (LWP 24912)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  6 Thread 0x44357940 (LWP 24913)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  5 Thread 0x44558940 (LWP 24914)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  4 Thread 0x44759940 (LWP 24915)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  3 Thread 0x4495a940 (LWP 24916)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
  2 Thread 0x44b5b940 (LWP 24917)  0x00000038b24307bf in sigsuspend () from
/lib64/libc.so.6
* 1 Thread 0x2af2ae639970 (LWP 24870)  0x00000038b24307bf in sigsuspend ()
from /lib64/libc.so.6

Thread 30 (Thread 0x41db5940 (LWP 24871)):
#0  0x00000038b24307bf in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005b4472 in suspend_handler (sig=&lt;value optimized out&gt;,
siginfo=&lt;value optimized out&gt;, context=0x41db4920)
    at sgen-gc.c:4826
#2  &lt;signal handler called&gt;
#3  0x00000038b300c9b1 in sem_wait () from /lib64/libpthread.so.0
#4  0x00000000005e87aa in mono_sem_wait (sem=0x13bd1a0, alertable=0) at
mono-semaphore.c:102
#5  0x00000000005afc54 in finalizer_thread (unused=&lt;value optimized out&gt;) at
gc.c:1046
#6  0x0000000000569be1 in start_wrapper (data=&lt;value optimized out&gt;) at
threads.c:782
#7  0x00000000005df543 in thread_start_routine (args=0xc053490) at
wthreads.c:285
#8  0x00000000005ba7c2 in gc_start_thread (arg=&lt;value optimized out&gt;) at
sgen-gc.c:5573
#9  0x00000038b30064a7 in start_thread () from /lib64/libpthread.so.0
#10 0x00000038b24d3c2d in clone () from /lib64/libc.so.6

Thread 29 (Thread 0x405db940 (LWP 24872)):
#0  0x00000038b300d5cb in read () from /lib64/libpthread.so.0
#1  0x00000000004a3b6c in mono_handle_native_sigsegv (signal=&lt;value
optimized out&gt;, ctx=&lt;value optimized out&gt;)
    at mini-exceptions.c:1946
#2  0x000000000050062d in mono_arch_handle_altstack_exception
(sigctx=0x2aaaac548c40, fault_addr=&lt;value optimized out&gt;,
    stack_ovf=0) at exceptions-amd64.c:920
#3  &lt;signal handler called&gt;
#4  copy_object_no_checks (obj=0x2aaaaac2f068, queue=0x13bfce0) at
sgen-major-copy-object.h:89
#5  0x0000000000600619 in copy_object (obj_slot=0x2aaaaec60e38,
queue=0x13bfce0) at sgen-major-copy-object.h:165
#6  0x000000000060079f in minor_scan_vtype (start=&lt;value optimized out&gt;,
desc=33882225, from_start=0x2aaaaac00000 &quot;&#169;4&#65533;&quot;,
    from_end=0x16 &lt;Address 0x16 out of bounds&gt;, queue=0x13bfce0) at
sgen-major-scan-object.h:70
#7  0x00000000005b8c82 in sgen_cardtable_scan_object (obj=0x2aaaaec56018
&quot;\020[Q\020&quot;, obj_size=&lt;value optimized out&gt;,
    cards=&lt;value optimized out&gt;, queue=0x13bfce0) at sgen-cardtable.c:351
#8  0x00000000005b8dc7 in los_scan_card_table (queue=0x13bfce0) at
sgen-los.c:485
#9  0x00000000005bca94 in collect_nursery (requested_size=&lt;value optimized
out&gt;) at sgen-cardtable.c:244
#10 0x00000000005bdd4a in minor_collect_or_expand_inner (size=4096) at
sgen-gc.c:3157
#11 0x00000000005be59b in mono_gc_alloc_obj_nolock (vtable=0xc000508,
size=20708576) at sgen-gc.c:3497
#12 0x00000000005bed21 in mono_gc_alloc_string (vtable=0xc000508, size=26,
len=0) at sgen-gc.c:3682
#13 0x000000000059c86b in mono_string_new_size (domain=0xc000190, len=0) at
object.c:4770
#14 0x0000000000596ae2 in ves_icall_System_String_InternalSplit
(me=0x2aaaaafa9fc0, separator=0x2aaaaafaa178, count=2147483647,
    options=&lt;value optimized out&gt;) at string-icalls.c:148
#15 0x0000000040fd5b08 in ?? ()
#16 0x000000000c13eb00 in ?? ()
#17 0x000000004135e224 in ?? ()
#18 0x00002aaaaad5b460 in ?? ()
#19 0x00000000405dad50 in ?? ()
#20 0x00002aaaaafa9fc0 in ?? ()
#21 0x00000000405dad50 in ?? ()
#22 0x00000000405daac0 in ?? ()
#23 0x00002aaaaad5b910 in ?? ()
#24 0x0000000000000000 in ?? ()

Thread 28 (Thread 0x41ac6940 (LWP 24873)):
#0  0x00000038b24307bf in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005b4472 in suspend_handler (sig=&lt;value optimized out&gt;,
siginfo=&lt;value optimized out&gt;, context=0x41ac5540)
    at sgen-gc.c:4826
#2  &lt;signal handler called&gt;
#3  0x00000038b300ae00 in pthread_cond_timedwait@@GLIBC_2.3.2 () from
/lib64/libpthread.so.0
#4  0x00000000005d90ce in _wapi_handle_timedwait_signal_handle
(handle=0xffffffffffffff92, timeout=0x41ac5af0, alertable=1, poll=0)
    at handles.c:1636
#5  0x00000000005d1832 in WaitForSingleObjectEx (handle=0x40e,
timeout=59893, alertable=1) at wait.c:205
#6  0x000000000057120a in ves_icall_System_Threading_Monitor_Monitor_wait
(obj=0x2aaaaad5ab80, ms=59893) at monitor.c:1380
#7  0x0000000041462bfd in ?? ()
#8  0x000000000cdc5430 in ?? ()
#9  0x0000000000000001 in ?? ()
#10 0x0000000000000000 in ?? ()

Thread 27 (Thread 0x407dc940 (LWP 24882)):
#0  0x00000038b24307bf in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005b4472 in suspend_handler (sig=&lt;value optimized out&gt;,
siginfo=&lt;value optimized out&gt;, context=0x407dbb00)
    at sgen-gc.c:4826
#2  &lt;signal handler called&gt;
#3  0x00000038b300de71 in nanosleep () from /lib64/libpthread.so.0
#4  0x00000000005ddea7 in SleepEx (ms=0, alertable=1) at wthreads.c:1025
#5  0x00000000005c5634 in monitor_thread (data=&lt;value optimized out&gt;) at
threadpool.c:1262
#6  0x0000000000569be1 in start_wrapper (data=&lt;value optimized out&gt;) at
threads.c:782
#7  0x00000000005df543 in thread_start_routine (args=0xc0549a8) at
wthreads.c:285
#8  0x00000000005ba7c2 in gc_start_thread (arg=&lt;value optimized out&gt;) at
sgen-gc.c:5573
#9  0x00000038b30064a7 in start_thread () from /lib64/libpthread.so.0
#10 0x00000038b24d3c2d in clone () from /lib64/libc.so.6

... skip ....

Thread 2 (Thread 0x44b5b940 (LWP 24917)):
#0  0x00000038b24307bf in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005b4472 in suspend_handler (sig=&lt;value optimized out&gt;,
siginfo=&lt;value optimized out&gt;, context=0x44b5aa60)
    at sgen-gc.c:4826
#2  &lt;signal handler called&gt;
#3  0x00000038b300cae3 in sem_timedwait () from /lib64/libpthread.so.0
#4  0x00000000005e8890 in mono_sem_timedwait (sem=0x13c06c0, timeout_ms=0,
alertable=1) at mono-semaphore.c:72
#5  0x00000000005c81e3 in async_invoke_thread (data=0x0) at
threadpool.c:2054
#6  0x0000000000569be1 in start_wrapper (data=&lt;value optimized out&gt;) at
threads.c:782
#7  0x00000000005df543 in thread_start_routine (args=0xc056050) at
wthreads.c:285
#8  0x00000000005ba7c2 in gc_start_thread (arg=&lt;value optimized out&gt;) at
sgen-gc.c:5573
#9  0x00000038b30064a7 in start_thread () from /lib64/libpthread.so.0
#10 0x00000038b24d3c2d in clone () from /lib64/libc.so.6

Thread 1 (Thread 0x2af2ae639970 (LWP 24870)):
#0  0x00000038b24307bf in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005b4472 in suspend_handler (sig=&lt;value optimized out&gt;,
siginfo=&lt;value optimized out&gt;, context=0x7fff660d2ed0)
    at sgen-gc.c:4826
#2  &lt;signal handler called&gt;
#3  0x00000038b300ab99 in pthread_cond_wait@@GLIBC_2.3.2 () from
/lib64/libpthread.so.0
#4  0x00000000005d926a in _wapi_handle_timedwait_signal_handle
(handle=0x409, timeout=0x0, alertable=1, poll=0) at handles.c:1638
#5  0x00000000005d199a in WaitForSingleObjectEx (handle=0x409,
timeout=4294967295, alertable=1) at wait.c:203
#6  0x00000000005681e5 in ves_icall_System_Threading_Thread_Join_internal
(this=0x2aaaaab5c2d0, ms=-1, thread=0x409)
    at threads.c:1577
#7  0x00000000418b87b0 in ?? ()
#8  0x000000000bfffb70 in ?? ()
#9  0x000000000c002f80 in ?? ()
#10 0x0000000000000000 in ?? ()

=================================================================
Got a SIGSEGV while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries
used by your application.
=================================================================

Aborted
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20101115/79698209/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20101115/79698209/attachment-0001.html</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036319.html">[Mono-dev] I wanna contribute
</A></li>
	<LI>Next message: <A HREF="036341.html">[Mono-dev] I wanna contribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36320">[ date ]</a>
              <a href="thread.html#36320">[ thread ]</a>
              <a href="subject.html#36320">[ subject ]</a>
              <a href="author.html#36320">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
