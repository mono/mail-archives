<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono on Windows Native NT API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20on%20Windows%20Native%20NT%20API&In-Reply-To=gon187%24hop%241%40ger.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031290.html">
   <LINK REL="Next"  HREF="031294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono on Windows Native NT API</H1>
    <B>Peacebreaker</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20on%20Windows%20Native%20NT%20API&In-Reply-To=gon187%24hop%241%40ger.gmane.org"
       TITLE="[Mono-dev] Mono on Windows Native NT API">Marc.Rittinghaus at web.de
       </A><BR>
    <I>Thu Mar  5 05:03:52 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031290.html">[Mono-dev] Mono on Windows Native NT API
</A></li>
        <LI>Next message: <A HREF="031294.html">[Mono-dev] Mono on Windows Native NT API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31293">[ date ]</a>
              <a href="thread.html#31293">[ thread ]</a>
              <a href="subject.html#31293">[ subject ]</a>
              <a href="author.html#31293">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Robert Jordan wrote:
&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Korn&#233;l P&#225;l wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> You will get a very limited functionality because ntdll isn't the only 
</I>&gt;&gt;<i> user mode module enabling you to access kernel mode services.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Also note that large parts of CreateProcess are implemented outside of 
</I>&gt;&gt;<i> ntdll.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Anyway I would suggest you to port the io-layer to native NT API. You 
</I>&gt;&gt;<i> may need modifications in other parts as well but this is the best 
</I>&gt;&gt;<i> solution I can think of if you really don't want to use kernel32.dll and 
</I>&gt;&gt;<i> advapi32.dll.
</I>&gt;<i> 
</I>&gt;<i> I'd rather implement slimmed down versions of kernel32.dll, advapi32.dll
</I>&gt;<i> instead of reviewing:
</I>&gt;<i> 
</I>&gt;<i> - mono
</I>&gt;<i> - msvcrt
</I>&gt;<i> - libgc
</I>&gt;<i> - eglib or glib+gmodule
</I>&gt;<i> 
</I>&gt;<i> Robert
</I>&gt;<i> 
</I>&gt;<i> 
</I>
Hi,

thank you Korn&#233;l P&#225;l and Robert for your replies. I checked kernel32.dll and
it seems ok to include it because it only depends on ntdll.dll and does no
system calls to
win32k.sys (which is no longer available). The same is true for msvcrt.dll
(and version.dll).

Looking at the dependency tree of mono.exe/mono.dll...I find that the
standard mono build which
you can download from this site depends on numerous win32 dlls. I will never
be able to replace them all with slimmed down versions. Is there any
possibility to build a very limited version of mono (for windows) with a
smaller dependency tree?

If I'm left with altering mono I would appreciate a kind of documentation of
how the IO layer works and how portability is technically realized. Is there
any such documentation available? 

I read that mono - if built for windows - directly uses the win32 API, but
built for e.g. linux it implements its own functionality. Could there be a
way of combining both ways where mono needs functionality brought by
advapi32.dll and other advanced win32 libs?

Regards
Peace

-- 
View this message in context: <A HREF="http://www.nabble.com/Mono-on-Windows-Native-NT-API-tp22299347p22348587.html">http://www.nabble.com/Mono-on-Windows-Native-NT-API-tp22299347p22348587.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031290.html">[Mono-dev] Mono on Windows Native NT API
</A></li>
	<LI>Next message: <A HREF="031294.html">[Mono-dev] Mono on Windows Native NT API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31293">[ date ]</a>
              <a href="thread.html#31293">[ thread ]</a>
              <a href="subject.html#31293">[ subject ]</a>
              <a href="author.html#31293">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
