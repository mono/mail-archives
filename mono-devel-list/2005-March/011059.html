<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: System.XML warning
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20System.XML%20warning&In-Reply-To=423A015A.6030603%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011054.html">
   <LINK REL="Next"  HREF="011060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: System.XML warning</H1>
    <B>Marek Safar</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20System.XML%20warning&In-Reply-To=423A015A.6030603%40ximian.com"
       TITLE="[Mono-devel-list] Re: System.XML warning">marek.safar at seznam.cz
       </A><BR>
    <I>Fri Mar 18 03:41:28 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011054.html">[Mono-devel-list] Re: System.XML warning
</A></li>
        <LI>Next message: <A HREF="011060.html">[Mono-devel-list] Compiler warnings: what to report (Re: System.XML warning)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11059">[ date ]</a>
              <a href="thread.html#11059">[ thread ]</a>
              <a href="subject.html#11059">[ subject ]</a>
              <a href="author.html#11059">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Comments in lined.

&gt;&gt;<i>
</I>&gt;&gt;<i> System.Xml/XmlReader.cs(1051) warning CS0169: The private method 
</I>&gt;&gt;<i> 'System.Xml.XmlReader.CheckSupport()' is never used
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is used in NET_2_0 part of code.
</I>&gt;<i> Should we enclose ALL of such members in _nasty_ preprocessor
</I>&gt;<i> directives? Does it ease developers read it?
</I>

Yes, it is easier to read and easier to maintain. If you don't enclose 
your members in #if NET_2_0 directive how can I know
that a field is not valid for NET_1_x ?. I have to search in your code 
and try to find out whether the field is valid or not.

&gt;&gt;<i> System.Xml/XmlTextReader.cs(1672) warning CS0168: The variable 
</I>&gt;&gt;<i> 'dummyValue' is declared but never used
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It is _required_ even though it is actually not used (otherwise mcs/csc
</I>&gt;<i> will reject this code). CSC never reports it as warning and I think
</I>&gt;<i> that regarding it as a warning is bad design.
</I>&gt;<i>
</I>Is it some managed &lt;-&gt; unmanaged work ?

&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(604) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xsltCleanupGlobals()' is 
</I>&gt;&gt;<i> never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(611) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlNewDoc( string)' is 
</I>&gt;&gt;<i> never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(614) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlSaveFile( string,  
</I>&gt;&gt;<i> System.IntPtr)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(626) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlCleanupParser()' is 
</I>&gt;&gt;<i> never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(629) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlDocDumpMemory( 
</I>&gt;&gt;<i> System.IntPtr, ref System.IntPtr&amp;, ref int&amp;)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(632) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlFree( System.IntPtr)' 
</I>&gt;&gt;<i> is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(649) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.valuePop( 
</I>&gt;&gt;<i> System.IntPtr)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(652) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.valuePush( 
</I>&gt;&gt;<i> System.IntPtr,  System.Xml.Xsl.UnmanagedXslTransform.xpathobject*)' 
</I>&gt;&gt;<i> is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(655) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlXPathFreeObject( 
</I>&gt;&gt;<i> System.Xml.Xsl.UnmanagedXslTransform.xpathobject*)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(658) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlXPathNewCString( 
</I>&gt;&gt;<i> string)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(661) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlXPathNewFloat( 
</I>&gt;&gt;<i> double)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(664) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlXPathNewBoolean( 
</I>&gt;&gt;<i> int)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(667) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlXPathNewNodeSet( 
</I>&gt;&gt;<i> System.IntPtr)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(670) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlXPathCastToBoolean( 
</I>&gt;&gt;<i> System.Xml.Xsl.UnmanagedXslTransform.xpathobject*)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(673) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlXPathCastToNumber( 
</I>&gt;&gt;<i> System.Xml.Xsl.UnmanagedXslTransform.xpathobject*)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(676) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlXPathCastToString( 
</I>&gt;&gt;<i> System.Xml.Xsl.UnmanagedXslTransform.xpathobject*)' is never used
</I>&gt;&gt;<i> System.Xml.Xsl/XslTransform.cs(679) warning CS0169: The private 
</I>&gt;&gt;<i> method 'System.Xml.Xsl.UnmanagedXslTransform.xmlXPathStringFunction( 
</I>&gt;&gt;<i> System.IntPtr,  int)' is never used
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Why are they reported as never used? They are actually in use.
</I>

Are you sure that they are used ?

I tried to remove 
'System.Xml.Xsl.UnmanagedXslTransform.xsltCleanupGlobals' and no 
compilation error.


&gt;&gt;<i> System.Xml.Schema/XmlSchemaSet.cs(134) warning CS3019: CLS compliance 
</I>&gt;&gt;<i> checking will not be performed on 
</I>&gt;&gt;<i> 'System.Xml.Schema.XmlSchemaSet.XmlResolver' because it is private or 
</I>&gt;&gt;<i> internal
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is reported just because this type is public only under NET_2_0.
</I>&gt;<i> When there are such types, should we put NET_2_0 on every such
</I>&gt;<i> attributes?
</I>
You can keep it. In this case Microsoft made custom property modifiers 
CLS-Compliant (similar case as generics). I am going to remove this 
warning soon.

&gt;<i>
</I>&gt;<i> Those changes will be checked in after the upcoming release task.
</I>
Great.

&gt;<i>
</I>&gt;<i> BTW how can we verify that those sources became clean after
</I>&gt;<i> manual warning elimination?
</I>

I will send you mcs patch.

&gt;<i>
</I>&gt;<i> Also, I think that some part of those warning report feature are
</I>&gt;<i> problematic. For example,
</I>&gt;<i>
</I>&gt;<i>     - I think there is no (or little) need to report not-in-use
</I>&gt;<i>       private methods. When we found such methods that we don't
</I>&gt;<i>       know what it is, we usually grep (usually) single file
</I>&gt;<i>       and notice that it is not in use. I believe that why MS
</I>&gt;<i>       csc has such reporting feature for unused fields is that
</I>&gt;<i>       they might be confused with local variables or parameters.
</I>&gt;<i>       I don't think mcs should not let developers to be puritan
</I>&gt;<i>       that believes ALL unused members MUST be eliminated.
</I>
 From my point of view, there are several reasons why report &quot;unused&quot; code.
- I like every feature which tells me that something is &quot;wrong&quot; with my 
code.
- Your code can be easily faster/smaller. When you remove class member 
you allocate less.
When you remove method sometimes it leads to next methods/fields clean up.

Maybe I am wrong but why should I keep unused code ?

&gt;<i>
</I>&gt;<i>     - As I noted above, there are unexpected unused field check
</I>&gt;<i>       that at least csc does not regard as should-be-warned.
</I>&gt;<i>
</I>If you know about any wrong warnings please let me know.
But csc is really not good in this area. They made some improvement for 
2.0. But even
simple cases are still not detected.

Marek

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011054.html">[Mono-devel-list] Re: System.XML warning
</A></li>
	<LI>Next message: <A HREF="011060.html">[Mono-devel-list] Compiler warnings: what to report (Re: System.XML warning)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11059">[ date ]</a>
              <a href="thread.html#11059">[ thread ]</a>
              <a href="subject.html#11059">[ subject ]</a>
              <a href="author.html#11059">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
