<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] MSVC build, fixed!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20MSVC%20build%2C%20fixed%21&In-Reply-To=3c06c3705021408057a1263f6%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010840.html">
   <LINK REL="Next"  HREF="010837.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] MSVC build, fixed!</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20MSVC%20build%2C%20fixed%21&In-Reply-To=3c06c3705021408057a1263f6%40mail.gmail.com"
       TITLE="[Mono-devel-list] MSVC build, fixed!">spouliot at videotron.ca
       </A><BR>
    <I>Mon Mar  7 15:03:34 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010840.html">[Mono-devel-list] [PATCH] Alias analysis
</A></li>
        <LI>Next message: <A HREF="010837.html">[Mono-devel-list] Solaris SPARC build error in libgc.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10835">[ date ]</a>
              <a href="thread.html#10835">[ thread ]</a>
              <a href="subject.html#10835">[ subject ]</a>
              <a href="author.html#10835">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Just a few words to say that I have been able, using your instructions and
files, to build Mono SVN HEAD using Visual Studio .NET 2005 (Dec CTP). Apart
from the new files added in 1.1, the required changes to SVN are very
similar. The results (e.g. warnings) looks the same except that LL is now
accepted for 64 bits integers and that VS.NET2K5 adds a lot more warnings
(mostly for &quot;deprecated&quot; functions usage). I've also added some code for the
stack walking routines (not sure it's 100% ok but it doesn't fails when
doing a stack walk for CAS).

Now I was curious if you had any updates on your side that we could merge
together before starting to move things into SVN ?

Thanks a lot for your efforts!

Sebastien Pouliot
home: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">spouliot at videotron.ca</A>
blog: <A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>


&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>]On Behalf Of J Lothian
</I>&gt;<i> Sent: 14 fevrier 2005 11:05
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-devel-list] MSVC build, fixed!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Well, there isn't a &quot;solution&quot; file because it's MSVC 6, and that's a
</I>&gt;<i> VS.Net thing, but the workspace can be imported into .Net just by
</I>&gt;<i> opening it up and clicking &quot;yes&quot; a few times.   ( I may provide both a
</I>&gt;<i> VS 6 workspace and a VS.Net solution next release, just to
</I>&gt;<i> uncomplicate things a little.)
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.dreamfoundry.sytes.net/mono/mono-1.0.5VSProjectFiles.rar">http://www.dreamfoundry.sytes.net/mono/mono-1.0.5VSProjectFiles.rar</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, 14 Feb 2005 15:06:44 +0100, Paolo Molaro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>&gt; wrote:
</I>&gt;<i> &gt; On 02/13/05 J Lothian wrote:
</I>&gt;<i> &gt; &gt; I had assumed there was a reason that mono was using the &quot;this&quot;
</I>&gt;<i> &gt; &gt; pointer, but its a global function.  Changing it to a nonreserved
</I>&gt;<i> &gt; &gt; value, such as *thisObj works! The library now compiles, and executes!
</I>&gt;<i> &gt; &gt;  I ran test-6.exe under /embed/teste.c successfully!
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; This was definately an upswing to a lot of hard work getting this
</I>&gt;<i> &gt; &gt; thing together!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Congrats!
</I>&gt;<i> &gt; Now some notes:
</I>&gt;<i> &gt; *) you used 1.0.5 to make the changes: could you port them
</I>&gt;<i> &gt; over to 1.1.4 (to be released shortly) or better yet to the
</I>&gt;<i> &gt; current svn version?
</I>&gt;<i>
</I>&gt;<i> I'll get on it as soon as I get some free time (busy week, at the
</I>&gt;<i> moment), but I may be able to have it done by next weekend.  The
</I>&gt;<i> reason I worked on 1.0.5 first was to minimize any errors to things I
</I>&gt;<i> was doing rather than things that were just bugs.
</I>&gt;<i>
</I>&gt;<i> &gt; *) genmdesc needs to be built as part of the build process,
</I>&gt;<i> &gt; since it depends on the currently defined opcodes etc. Using an
</I>&gt;<i> &gt; old version may make the build fail. This is less of a problem for
</I>&gt;<i> &gt; monoburg which changes much more rarely.
</I>&gt;<i>
</I>&gt;<i> The genmdesc actually has a project in the workspace that I left in
</I>&gt;<i> during my final cleanup.  The work it does isn't automated yet, but I
</I>&gt;<i> think I can work that into my next release.
</I>&gt;<i>
</I>&gt;<i> &gt; *) The changes to mini-exceptions.c: it's not enough to comment
</I>&gt;<i> &gt; out the code, since it would make stack walking crash: luckily
</I>&gt;<i> &gt; it's not a feature that gets used for simple tests, but you'll
</I>&gt;<i> &gt; need to find a way to implement the missing bits.
</I>&gt;<i>
</I>&gt;<i> That one is going to be a little more difficult, as I've never written
</I>&gt;<i> code for stack walking before.  I'll do some research, and try to get
</I>&gt;<i> it working though.
</I>&gt;<i>
</I>&gt;<i> Thanks for your input everyone, this has turned out pretty well so
</I>&gt;<i> far, hope the svn build doesn't give me much trouble so I can get that
</I>&gt;<i> out and working, I'd love for these changes to be in a release, make
</I>&gt;<i> it easier for anyone that wants to use VS to develope in.
</I>&gt;<i>
</I>&gt;<i> -J Lothian
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010840.html">[Mono-devel-list] [PATCH] Alias analysis
</A></li>
	<LI>Next message: <A HREF="010837.html">[Mono-devel-list] Solaris SPARC build error in libgc.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10835">[ date ]</a>
              <a href="thread.html#10835">[ thread ]</a>
              <a href="subject.html#10835">[ subject ]</a>
              <a href="author.html#10835">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
