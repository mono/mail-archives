<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Remoting  .NET - Mono  interoperable
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Remoting%20%20.NET%20-%20Mono%20%20interoperable&In-Reply-To=001801c2f9fd%24a4caa020%2401c8a8c0%40ATICATACCENTRE">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000272.html">
   <LINK REL="Next"  HREF="000264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Remoting  .NET - Mono  interoperable</H1>
    <B>Jos&#233; Luis Mart&#237;n Peinado</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Remoting%20%20.NET%20-%20Mono%20%20interoperable&In-Reply-To=001801c2f9fd%24a4caa020%2401c8a8c0%40ATICATACCENTRE"
       TITLE="[Mono-devel-list] Remoting  .NET - Mono  interoperable">jlmp at tid.es
       </A><BR>
    <I>Thu Apr  3 12:08:32 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000272.html">[Mono-devel-list] Remoting  .NET - Mono  interoperable
</A></li>
        <LI>Next message: <A HREF="000264.html">[Mono-devel-list] VB Runtime and license
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#273">[ date ]</a>
              <a href="thread.html#273">[ thread ]</a>
              <a href="subject.html#273">[ subject ]</a>
              <a href="author.html#273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>	Hi Lluis,

	Thank you for the reply. About your questions, I have some points:

	- MS.NET requests don't include headers in requests (at least for uri and
Content-Type headers). So, some kind of predefined order should be 'known'
when headers are not present. I suppose that what MS.NET does it to
serialize an internal object, that at least include these attributes (a
Runtime Object -&gt; uri, and a String -&gt; Content-Type ) and maybe some
additional headers (could be in a Hashtable?). So, if I'm right, instead of
having to process headers we should only have to deserialize what you
receive after the .NET 0x01 0x00 token, and then you would have the headers
in this object simply.

	- BinaryFormatter: ReadBinaryHeader and WriteBinaryHeader didn't encode
headers for requests and responses in the same way in MS.NET and Mono. I
think that MS.NET never used values 2 or -1 to indicate if headers are
present, and MS.NET doesn't like these bytes in some requests. That's the
reason why I changed it, only in order to interwork, but I have no idea of
these fields.

	Best regards, Jos&#233; Luis.

-----Mensaje original-----
De: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>]En nombre de Lluis
Sanchez
Enviado el: jueves 3 de abril de 2003 18:25
Para: Jos&#233; Luis Mart&#237;n Peinado; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Asunto: Re: [Mono-devel-list] Remoting .NET - Mono interoperable


Hi Jos&#233; Luis

Thanks for the patch!

I've reviewed it and I've found a couple of problems, that I've already
fixed. The first one is that TransportHeaders can have many headers, not
only the uri and the content type, so for those custom headers it is
necessary to write the key and the value the way it was done before your
patch.

The other issue is with the &quot;application/octet-stream&quot; header. It is in fact
a header named &quot;Content-Type&quot; and that it is added by the
BinaryClientFormatterSink. It does so now.

Regarding your patch for BinaryFormatter, I don't understand the reason for
this change. I think that what we have in Mono 0.23 is already compatible
with MS.NET.

- Lluis.

----- Original Message -----
From: Jos&#233; Luis Mart&#237;n Peinado
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Sent: Tuesday, April 01, 2003 6:18 PM
Subject: [Mono-devel-list] Remoting .NET - Mono interoperable


    Hi,

    I'm quite interested in Mono remoting interoperability with MS.NET. I
have performed some modifications to classes TcpMessageIO and
BinaryFormatter (from version 0.23 of Mono), and now interworks with MS .NET
framework.

    Document about Binary Serialization Format from Lluis S&#225;nchez has been
helpful. Although a lot of fields are unknown to the moment, I will try to
provide some information about the supposed way remoting protocol is done by
MS.NET.

    I haven't tested extensively modifications, but I hope it is useful for
the people working on the remoting and serialization stuff. A simple example
of remoting for testing is included also.

    Best regards, Jos&#233; Luis.


Jos&#233; Luis Mart&#237;n Peinado
Telef&#243;nica I+D
Servicios M&#243;viles de Nueva Generaci&#243;n

_______________________________________________
Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000272.html">[Mono-devel-list] Remoting  .NET - Mono  interoperable
</A></li>
	<LI>Next message: <A HREF="000264.html">[Mono-devel-list] VB Runtime and license
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#273">[ date ]</a>
              <a href="thread.html#273">[ thread ]</a>
              <a href="subject.html#273">[ subject ]</a>
              <a href="author.html#273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
