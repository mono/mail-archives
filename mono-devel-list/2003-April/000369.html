<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Nested namesapce Bug (#40833)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Nested%20namesapce%20Bug%20%28%2340833%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000377.html">
   <LINK REL="Next"  HREF="000379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Nested namesapce Bug (#40833)</H1>
    <B>Gaurav Vaish</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Nested%20namesapce%20Bug%20%28%2340833%29&In-Reply-To="
       TITLE="[Mono-devel-list] Nested namesapce Bug (#40833)">gvaish at adobe.com
       </A><BR>
    <I>Thu Apr 10 03:01:56 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000377.html">[Mono-devel-list] Bug in Runtime or MCS?
</A></li>
        <LI>Next message: <A HREF="000379.html">[Mono-devel-list] Re: Nested namesapce Bug (#40833)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#369">[ date ]</a>
              <a href="thread.html#369">[ thread ]</a>
              <a href="subject.html#369">[ subject ]</a>
              <a href="author.html#369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

    I have almost done it.
    The only places where it fails is when a namespace of the same name is
declared after a type has already been declared. See attached file for what
I mean. inner_ns_fails.cs failes to compile - expected behaviour.
inner_ns.cs compiles - should not.

    The reason is that I don't have the information about &quot;Location&quot; when
the namespace in error is loaded. Frankly speaking, namespace should not
have Location - since it can be spread to many files. So, I need to get
information of the previously declared non-namespace object. Currently, my
hack fails to do so, but still - it does *not* compile the attached files
(expected behaviour, only error handling is bad).

    The file mcs_mcs.diff contains the changes that I've done. And
AssemblyObjectNames.cs is the new class that I've added.

    I've build all the assemblies with new mcs and currently running tests /
errors. Seems to be going fine till now (tests: 160, errors: 255 done).

    Let me know if I can apply the patch.



Happy Hacking,
Gaurav
<A HREF="http://mastergaurav.virtualave.net/iitk">http://mastergaurav.virtualave.net/iitk</A>
---------------------------------------

Compilation Results ==&gt;

--------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">gvaish at MASTER</A> /cygdrive/f/gvaish/projects/csdoc/csdoc/src/tests
$ ../csdoc/mcsdoc.exe inner_ns.cs
inner_ns.cs(5) error CS0101: Failed to add namespace: One.Two
Compilation failed: 1 error(s), 0 warnings

<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">gvaish at MASTER</A> /cygdrive/f/gvaish/projects/csdoc/csdoc/src/tests
$ ../csdoc/mcsdoc.exe inner_ns_fails.cs
Internal(1) error CS0101: Failed to add &quot;One.Two&quot;
Compilation failed: 1 error(s), 0 warnings
--------------------------------------
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: inner_ns_fails.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030410/fcdaddf2/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030410/fcdaddf2/attachment.pl</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: inner_ns.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030410/fcdaddf2/attachment-0001.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030410/fcdaddf2/attachment-0001.pl</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mcs_mcs.diff
Type: application/octet-stream
Size: 1709 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030410/fcdaddf2/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030410/fcdaddf2/attachment.obj</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: AssemblyObjectNames.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030410/fcdaddf2/attachment-0002.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20030410/fcdaddf2/attachment-0002.pl</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000377.html">[Mono-devel-list] Bug in Runtime or MCS?
</A></li>
	<LI>Next message: <A HREF="000379.html">[Mono-devel-list] Re: Nested namesapce Bug (#40833)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#369">[ date ]</a>
              <a href="thread.html#369">[ thread ]</a>
              <a href="subject.html#369">[ subject ]</a>
              <a href="author.html#369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
