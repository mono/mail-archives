<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] About System.Array.Initialize()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20About%20System.Array.Initialize%28%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000455.html">
   <LINK REL="Next"  HREF="000448.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] About System.Array.Initialize()</H1>
    <B>Eduardo Garcia</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20About%20System.Array.Initialize%28%29&In-Reply-To="
       TITLE="[Mono-devel-list] About System.Array.Initialize()">kiwnix at yahoo.es
       </A><BR>
    <I>Thu Apr 17 17:39:32 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000455.html">[Mono-devel-list] New code for System.Drawing...
</A></li>
        <LI>Next message: <A HREF="000448.html">[Mono-devel-list] About System.Array.Initialize()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#447">[ date ]</a>
              <a href="thread.html#447">[ thread ]</a>
              <a href="subject.html#447">[ subject ]</a>
              <a href="author.html#447">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Researching a bit how to implement this method (mainly doing some test
cases) i discover it does near nothing.

In Reference types it does nothing (As it should as the doc says).
But in the rest of the types i don't understand very well what it does.
-- 
Eduardo Garcia &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kiwnix at yahoo.es</A>&gt;
-------------- next part --------------
using System;
using NUnit.Framework;

namespace MonoTestsLocal.System
{
	// Enumeracion auxiliar
	enum enua  {hola,adios,mas,menos};

	class AClass
	{
		bool init;
		public AClass()
		{
			init = true;
		}
	}

	struct AStruct
	{
		public string s;
		public string a;
	}


	[TestFixture]
	public class ArrayTest : TestCase
	{
		[Test]
		public void TestInitializeEmpty()
		{
			bool catched=false;
			int[] a = {};
			try
			{
				a.Initialize();
			}
			catch(Exception)
			{
				catched=true;
			}
			Assert(&quot;#01&quot;,!catched);
		}

		[Test]
		public void TestInitializeInt()
		{
			int[] a = {1,2,0};
			a.Initialize();
			int[] b = {1,2,0};
			for(int i=a.GetLowerBound(0);i&lt;=a.GetUpperBound(0);i++)
			{
				AssertEquals(&quot;#02 &quot; + i ,a[i],b[i]);
			}
		}

		[Test]
		public void TestInitializeDouble()
		{
			double[] a = {1.0,2.0,0.0};
			a.Initialize();
			double[] b = {1.0,2.0,0.0};
			for(int i=a.GetLowerBound(0);i&lt;=a.GetUpperBound(0);i++)
			{
				AssertEquals(&quot;#03 &quot; + i ,a[i],b[i]);
			}
		}

		[Test]
		public void TestInitializeFloat()
		{
			float[] a = {1.0F,2.0F,0.0F};
			a.Initialize();
			float[] b = {1.0F,2.0F,0.0F};
			for(int i=a.GetLowerBound(0);i&lt;=a.GetUpperBound(0);i++)
			{
				AssertEquals(&quot;#04 &quot; + i ,a[i],b[i]);
			}
		}

		[Test]
		public void TestInitializeChar()
		{
			char[] a = {'1','.','0','F','2','.','0','F'};
			a.Initialize();
			char[] b = {'1','.','0','F','2','.','0','F'};
			for(int i=a.GetLowerBound(0);i&lt;=a.GetUpperBound(0);i++)
			{
				AssertEquals(&quot;#05 &quot; + i ,a[i],b[i]);
			}
		}

		[Test]
		public void TestInitializeString()
		{
			string[] a = {&quot;hola&quot;,&quot;adios&quot;,&quot;menos&quot;,&quot;mas&quot;};
			a.Initialize();
			string[] b = {&quot;hola&quot;,&quot;adios&quot;,&quot;menos&quot;,&quot;mas&quot;};
			for(int i=a.GetLowerBound(0);i&lt;=a.GetUpperBound(0);i++)
			{
				AssertEquals(&quot;#06 &quot; + i ,a[i],b[i]);
			}
		}

		[Test]
		public void TestInitializeEnum()
		{
			enua[] a = {enua.hola,enua.adios,enua.menos,enua.mas};
			a.Initialize();
			enua[] b = {enua.hola,enua.adios,enua.menos,enua.mas};
			for(int i=a.GetLowerBound(0);i&lt;=a.GetUpperBound(0);i++)
			{
				AssertEquals(&quot;#07 &quot; + i ,a[i],b[i]);
			}
		}
		[Test]
		public void TestInitializeIntNI()
		{
			int[] a = new int[20];
			a.Initialize();
			foreach(int b in a)
			{
				AssertEquals(&quot;#08&quot;,b,0);
			}
		}
		[Test]
		public void TestInitializeCharNI()
		{
			char[] a = new char[20];
			a.Initialize();
			foreach(char b in a)
			{
				AssertEquals(&quot;#09&quot;,b,0);
			}
		}
		[Test]
		public void TestInitializeDoubleNI()
		{
			double[] a = new double[20];
			a.Initialize();
			foreach(double b in a)
			{
				AssertEquals(&quot;#09&quot;,b,0.0);
			}
		}
		[Test]
		public void TestInitializeStringNI()
		{
			string[] a = new string[20];
			a.Initialize();
			foreach(string b in a)
			{
				AssertEquals(&quot;#10&quot;,b,null);
			}
		}
		[Test]
		public void TestInitializeObjectNI()
		{
			object[] a = new object[20];
			a.Initialize();
			foreach(object b in a)
			{
				AssertEquals(&quot;#11&quot;,b,null);
			}
		}

		[Test]
		public void TestInitializeAClassNI()
		{
			AClass[] a = new AClass[20];
			a.Initialize();
			foreach(AClass b in a)
			{
				AssertEquals(&quot;#12&quot;,b,null);
			}
		}


		[Test]
		public void TestAStructNI()
		{
			AStruct[] a = new AStruct[20];
			a.Initialize();
			foreach(AStruct b in a)
			{
				AssertEquals(&quot;#14&quot;,b,new AStruct());
			}
		}

		[Test]
		public void TestAStruct()
		{
			AStruct[] a = new AStruct[3];
			a[1].a = &quot;ADIOS&quot;;
			a[1].s = &quot;HOLA&quot;;
			a.Initialize();
			AStruct[] b = new AStruct[3];
			b[1].a = &quot;ADIOS&quot;;
			b[1].s = &quot;HOLA&quot;;
			for(int i=a.GetLowerBound(0);i&lt;=a.GetUpperBound(0);i++)
			{
				AssertEquals(&quot;#15 &quot; + i ,a[i],b[i]);
			}
		}

		[Test]
		public void TestDateTimeNI()
		{
			DateTime[] a = new DateTime[20];
			a.Initialize();
			foreach(DateTime b in a)
			{
				AssertEquals(&quot;#16&quot;,b,new DateTime());
			}
		}
	}
}
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000455.html">[Mono-devel-list] New code for System.Drawing...
</A></li>
	<LI>Next message: <A HREF="000448.html">[Mono-devel-list] About System.Array.Initialize()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#447">[ date ]</a>
              <a href="thread.html#447">[ thread ]</a>
              <a href="subject.html#447">[ subject ]</a>
              <a href="author.html#447">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
