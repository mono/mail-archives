<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] NamedPipeServerStream in Mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20NamedPipeServerStream%20in%20Mono&In-Reply-To=%3CCA%2B1gSVj6h-kwSatcP_z-1Lx6bU9nXOXWw0J8Ji5Z-bk6RJWjsw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040251.html">
   <LINK REL="Next"  HREF="040258.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] NamedPipeServerStream in Mono</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20NamedPipeServerStream%20in%20Mono&In-Reply-To=%3CCA%2B1gSVj6h-kwSatcP_z-1Lx6bU9nXOXWw0J8Ji5Z-bk6RJWjsw%40mail.gmail.com%3E"
       TITLE="[Mono-dev] NamedPipeServerStream in Mono">monoman at gmail.com
       </A><BR>
    <I>Thu Mar 21 13:00:12 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040251.html">[Mono-dev] NamedPipeServerStream in Mono
</A></li>
        <LI>Next message: <A HREF="040258.html">[Mono-dev] NamedPipeServerStream in Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40252">[ date ]</a>
              <a href="thread.html#40252">[ thread ]</a>
              <a href="subject.html#40252">[ subject ]</a>
              <a href="author.html#40252">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There's no native equivalent to Named Pipes in Linux/MacOS, and
specially no universally accepted open source implementation of Named
Pipes to talk across to Windows Servers, so Mono can't wrap it to
offer the functionality. Better to move to TCP and sockets if
possible, if not, contributions are welcome.

Fun,
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
&quot;The most exciting phrase to hear in science, the one that heralds new
discoveries, is not 'Eureka!' (I found it!) but 'That's funny ...'&quot;
Isaac Asimov
US science fiction novelist &amp; scholar (1920 - 1992)


On Mon, Mar 18, 2013 at 12:29 PM, Vadivelu &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vadivelu at sdi.la</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> I am trying to convert C#.Net project into Mono. NamedPipeServerStream &amp;
</I>&gt;<i> NamedPipeClientStream class are not supporting in Mono and throwing Unhandle
</I>&gt;<i> exception. Could you please help me anyone?
</I>&gt;<i>
</I>&gt;<i> *Code:
</I>&gt;<i> *
</I>&gt;<i>
</I>&gt;<i> class Program
</I>&gt;<i> {
</I>&gt;<i>     static string _PipeName = &quot;testPipe&quot;;
</I>&gt;<i>     static void Main(string[] args)
</I>&gt;<i>     {
</I>&gt;<i>
</I>&gt;<i>         ListenForPipeServer();
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i>     static void ListenForPipeServer()
</I>&gt;<i>     {
</I>&gt;<i>         using (NamedPipeServerStream pipeServer = new NamedPipeServerStream(
</I>&gt;<i>                           _PipeName,
</I>&gt;<i>                           PipeDirection.InOut,
</I>&gt;<i>                           2,
</I>&gt;<i>                           PipeTransmissionMode.Message,
</I>&gt;<i>                           PipeOptions.None
</I>&gt;<i>
</I>&gt;<i>                           ))
</I>&gt;<i>         {
</I>&gt;<i>             StreamReader sr = new StreamReader(pipeServer);
</I>&gt;<i>             StreamWriter sw = new StreamWriter(pipeServer);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>             do
</I>&gt;<i>             {
</I>&gt;<i>                 try
</I>&gt;<i>                 {
</I>&gt;<i>                     pipeServer.WaitForConnection();
</I>&gt;<i>                     sw.WriteLine(&quot;Testing&quot;);
</I>&gt;<i>                     sw.Flush();
</I>&gt;<i>                     pipeServer.WaitForPipeDrain();
</I>&gt;<i>                     Console.WriteLine(sr.ReadLine());
</I>&gt;<i>
</I>&gt;<i>                 }
</I>&gt;<i>                 catch (Exception)
</I>&gt;<i>                 {
</I>&gt;<i>
</I>&gt;<i>                     throw;
</I>&gt;<i>                 }
</I>&gt;<i>                 finally
</I>&gt;<i>                 {
</I>&gt;<i>
</I>&gt;<i>                     pipeServer.WaitForPipeDrain();
</I>&gt;<i>                     if (pipeServer.IsConnected) pipeServer.Disconnect();
</I>&gt;<i>                 }
</I>&gt;<i>
</I>&gt;<i>             } while (true);
</I>&gt;<i>
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> *
</I>&gt;<i> Unhandled Exception: *System.IO.IOException: Error on creating named pipe:
</I>&gt;<i> error code -1 at System.IO.Pipes.UnixNamedPipe.EnsureTargetFile
</I>&gt;<i> (System.String name) [0x0001f] in
</I>&gt;<i> /Users/builder/data/lanes/mono-mac-ui-refresh-2-10/2baeee2f/source/bockbuild/profiles/mono-2-10/build-root/mono-2.10.11/_build/mono-2.10.11.git/mcs/class/System.Core/System.IO.Pipes/PipeUnix.cs:131
</I>&gt;<i> at System.IO.Pipes.UnixNamedPipeServer..ctor
</I>&gt;<i> (System.IO.Pipes.NamedPipeServerStream owner, System.String pipeName, Int32
</I>&gt;<i> maxNumberOfServerInstances, PipeTransmissionMode transmissionMode,
</I>&gt;<i> PipeAccessRights rights, PipeOptions options, Int32 inBufferSize, Int32
</I>&gt;<i> outBufferSize, HandleInheritability inheritability) [0x00012] in
</I>&gt;<i> /Users/builder/data/lanes/mono-mac-ui-refresh-2-10/2baeee2f/source/bockbuild/profiles/mono-2-10/build-root/mono-2.10.11/_build/mono-2.10.11.git/mcs/class/System.Core/System.IO.Pipes/PipeUnix.cs:265
</I>&gt;<i> at System.IO.Pipes.NamedPipeServerStream..ctor (System.String pipeName,
</I>&gt;<i> PipeDirection direction, Int32 maxNumberOfServerInstances,
</I>&gt;<i> PipeTransmissionMode transmissionMode, PipeOptions options, Int32
</I>&gt;<i> inBufferSize, Int32 outBufferSize, System.IO.Pipes.PipeSecurity
</I>&gt;<i> pipeSecurity, HandleInheritability inheritability, PipeAccessRights
</I>&gt;<i> additionalAccessRights) [0x0004b] in
</I>&gt;<i> /Users/builder/data/lanes/mono-mac-ui-refresh-2-10/2baeee2f/source/bockbuild/profiles/mono-2-10/build-root/mono-2.10.11/_build/mono-2.10.11.git/mcs/class/System.Core/System.IO.Pipes/NamedPipeServerStream.cs:100
</I>&gt;<i> at System.IO.Pipes.NamedPipeServerStream..ctor (System.String pipeName,
</I>&gt;<i> PipeDirection direction, Int32 maxNumberOfServerInstances,
</I>&gt;<i> PipeTransmissionMode transmissionMode, PipeOptions options, Int32
</I>&gt;<i> inBufferSize, Int32 outBufferSize, System.IO.Pipes.PipeSecurity
</I>&gt;<i> pipeSecurity, HandleInheritability inheritability) [0x00000] in :0 at
</I>&gt;<i> System.IO.Pipes.NamedPipeServerStream..ctor (System.String pipeName,
</I>&gt;<i> PipeDirection direction, Int32 maxNumberOfServerInstances,
</I>&gt;<i> PipeTransmissionMode transmissionMode, PipeOptions options, Int32
</I>&gt;<i> inBufferSize, Int32 outBufferSize, System.IO.Pipes.PipeSecurity
</I>&gt;<i> pipeSecurity) [0x00000] in :0 at System.IO.Pipes.NamedPipeServerStream..ctor
</I>&gt;<i> (System.String pipeName, PipeDirection direction, Int32
</I>&gt;<i> maxNumberOfServerInstances, PipeTransmissionMode transmissionMode,
</I>&gt;<i> PipeOptions options, Int32 inBufferSize, Int32 outBufferSize) [0x00000] in
</I>&gt;<i> :0 at System.IO.Pipes.NamedPipeServerStream..ctor (System.String pipeName,
</I>&gt;<i> PipeDirection direction, Int32 maxNumberOfServerInstances,
</I>&gt;<i> PipeTransmissionMode transmissionMode, PipeOptions options) [0x00000] in :0
</I>&gt;<i> at (wrapper remoting-invoke-with-check)
</I>&gt;<i> System.IO.Pipes.NamedPipeServerStream:.ctor
</I>&gt;<i> (string,System.IO.Pipes.PipeDirection,int,System.IO.Pipes.PipeTransmissionMode,System.IO.Pipes.PipeOptions)
</I>&gt;<i> at ConsoleTestPipeApp1.Program.ListenForPipeServer () [0x00000] in
</I>&gt;<i> /Users/Vadivelu/Project/Service_Test/ConsoleTestPipeApp1/ConsoleTestPipeApp1/Program.cs:21
</I>&gt;<i> at ConsoleTestPipeApp1.Program.Main (System.String[] args) [0x00000] in
</I>&gt;<i> /Users/Vadivelu/Project/Service_Test/ConsoleTestPipeApp1/ConsoleTestPipeApp1/Program.cs:16
</I>&gt;<i> [ERROR] FATAL UNHANDLED EXCEPTION: System.IO.IOException: Error on creating
</I>&gt;<i> named pipe: error code -1 at System.IO.Pipes.UnixNamedPipe.EnsureTargetFile
</I>&gt;<i> (System.String name) [0x0001f] in
</I>&gt;<i> /Users/builder/data/lanes/mono-mac-ui-refresh-2-10/2baeee2f/source/bockbuild/profiles/mono-2-10/build-root/mono-2.10.11/_build/mono-2.10.11.git/mcs/class/System.Core/System.IO.Pipes/PipeUnix.cs:131
</I>&gt;<i> at System.IO.Pipes.UnixNamedPipeServer..ctor
</I>&gt;<i> (System.IO.Pipes.NamedPipeServerStream owner, System.String pipeName, Int32
</I>&gt;<i> maxNumberOfServerInstances, PipeTransmissionMode transmissionMode,
</I>&gt;<i> PipeAccessRights rights, PipeOptions options, Int32 inBufferSize, Int32
</I>&gt;<i> outBufferSize, HandleInheritability inheritability) [0x00012] in
</I>&gt;<i> /Users/builder/data/lanes/mono-mac-ui-refresh-2-10/2baeee2f/source/bockbuild/profiles/mono-2-10/build-root/mono-2.10.11/_build/mono-2.10.11.git/mcs/class/System.Core/System.IO.Pipes/PipeUnix.cs:265
</I>&gt;<i> at System.IO.Pipes.NamedPipeServerStream..ctor (System.String pipeName,
</I>&gt;<i> PipeDirection direction, Int32 maxNumberOfServerInstances,
</I>&gt;<i> PipeTransmissionMode transmissionMode, PipeOptions options, Int32
</I>&gt;<i> inBufferSize, Int32 outBufferSize, System.IO.Pipes.PipeSecurity
</I>&gt;<i> pipeSecurity, HandleInheritability inheritability, PipeAccessRights
</I>&gt;<i> additionalAccessRights) [0x0004b] in
</I>&gt;<i> /Users/builder/data/lanes/mono-mac-ui-refresh-2-10/2baeee2f/source/bockbuild/profiles/mono-2-10/build-root/mono-2.10.11/_build/mono-2.10.11.git/mcs/class/System.Core/System.IO.Pipes/NamedPipeServerStream.cs:100
</I>&gt;<i> at System.IO.Pipes.NamedPipeServerStream..ctor (System.String pipeName,
</I>&gt;<i> PipeDirection direction, Int32 maxNumberOfServerInstances,
</I>&gt;<i> PipeTransmissionMode transmissionMode, PipeOptions options, Int32
</I>&gt;<i> inBufferSize, Int32 outBufferSize, System.IO.Pipes.PipeSecurity
</I>&gt;<i> pipeSecurity, HandleInheritability inheritability) [0x00000] in :0 at
</I>&gt;<i> System.IO.Pipes.NamedPipeServerStream..ctor (System.String pipeName,
</I>&gt;<i> PipeDirection direction, Int32 maxNumberOfServerInstances,
</I>&gt;<i> PipeTransmissionMode transmissionMode, PipeOptions options, Int32
</I>&gt;<i> inBufferSize, Int32 outBufferSize, System.IO.Pipes.PipeSecurity
</I>&gt;<i> pipeSecurity) [0x00000] in :0 at System.IO.Pipes.NamedPipeServerStream..ctor
</I>&gt;<i> (System.String pipeName, PipeDirection direction, Int32
</I>&gt;<i> maxNumberOfServerInstances, PipeTransmissionMode transmissionMode,
</I>&gt;<i> PipeOptions options, Int32 inBufferSize, Int32 outBufferSize) [0x00000] in
</I>&gt;<i> :0 at System.IO.Pipes.NamedPipeServerStream..ctor (System.String pipeName,
</I>&gt;<i> PipeDirection direction, Int32 maxNumberOfServerInstances,
</I>&gt;<i> PipeTransmissionMode transmissionMode, PipeOptions options) [0x00000] in :0
</I>&gt;<i> at (wrapper remoting-invoke-with-check)
</I>&gt;<i> System.IO.Pipes.NamedPipeServerStream:.ctor
</I>&gt;<i> (string,System.IO.Pipes.PipeDirection,int,System.IO.Pipes.PipeTransmissionMode,System.IO.Pipes.PipeOptions)
</I>&gt;<i> at ConsoleTestPipeApp1.Program.ListenForPipeServer () [0x00000] in
</I>&gt;<i> /Users/Vadivelu/Project/Service_Test/ConsoleTestPipeApp1/ConsoleTestPipeApp1/Program.cs:21
</I>&gt;<i> at ConsoleTestPipeApp1.Program.Main (System.String[] args) [0x00000] in
</I>&gt;<i> /Users/Vadivelu/Project/Service_Test/ConsoleTestPipeApp1/ConsoleTestPipeApp1/Program.cs:16
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> With regards
</I>&gt;<i> Vadivelu
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/NamedPipeServerStream-in-Mono-tp4659060.html">http://mono.1490590.n4.nabble.com/NamedPipeServerStream-in-Mono-tp4659060.html</A>
</I>&gt;<i> Sent from the Mono - Dev mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I></PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040251.html">[Mono-dev] NamedPipeServerStream in Mono
</A></li>
	<LI>Next message: <A HREF="040258.html">[Mono-dev] NamedPipeServerStream in Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40252">[ date ]</a>
              <a href="thread.html#40252">[ thread ]</a>
              <a href="subject.html#40252">[ subject ]</a>
              <a href="author.html#40252">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
