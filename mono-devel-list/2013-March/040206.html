<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Can't create a local tcp connection on mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Can%27t%20create%20a%20local%20tcp%20connection%20on%20mono&In-Reply-To=%3C51321339.6000608%40dansound.dk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040205.html">
   <LINK REL="Next"  HREF="040207.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Can't create a local tcp connection on mono</H1>
    <B>Ole Bromose</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Can%27t%20create%20a%20local%20tcp%20connection%20on%20mono&In-Reply-To=%3C51321339.6000608%40dansound.dk%3E"
       TITLE="[Mono-dev] Can't create a local tcp connection on mono">ob at dansound.dk
       </A><BR>
    <I>Sat Mar  2 14:56:57 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040205.html">[Mono-dev] creating a simple package for usage with MonoDevelop
</A></li>
        <LI>Next message: <A HREF="040207.html">[Mono-dev] Can't create a local tcp connection on mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40206">[ date ]</a>
              <a href="thread.html#40206">[ thread ]</a>
              <a href="subject.html#40206">[ subject ]</a>
              <a href="author.html#40206">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

The code below works on Windows. However, when running on mono 2.10.5 on 
Gentoo Linux, the listener throws the exception: 
  System.Net.Sockets.SocketException: The requested address is not valid 
in this context

Listening on the address IPAddress.Any instead of the loopback address 
makes the listener run without exception. However, when the client is 
started, no connection is created (the server eventually times out).

Can anybody explain why I can't create a local connection on mono?

Thanks

Ole

Basically my listener looks like this:

     var listener = new TcpListener(IPAddress.Parse(&quot;127.0.0.1&quot;), port);

     listener.Start();

     TcpClient client = listener.AcceptTcpClient();

The client:

      var remoteEP = new IPEndPoint(IPAddress.Parse(&quot;127.0.0.1&quot;), port);

      var client = new TcpClient(AddressFamily.InterNetwork);

      client.Connect(remoteEP);


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20130302/9c99e4fe/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20130302/9c99e4fe/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040205.html">[Mono-dev] creating a simple package for usage with MonoDevelop
</A></li>
	<LI>Next message: <A HREF="040207.html">[Mono-dev] Can't create a local tcp connection on mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40206">[ date ]</a>
              <a href="thread.html#40206">[ thread ]</a>
              <a href="subject.html#40206">[ subject ]</a>
              <a href="author.html#40206">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
