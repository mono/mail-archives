<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] ObservableCollection and BindingList Serialization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20ObservableCollection%20and%20BindingList%20Serialization&In-Reply-To=%3Ckhmtjd%24chv%241%40ger.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040232.html">
   <LINK REL="Next"  HREF="040234.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] ObservableCollection and BindingList Serialization</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20ObservableCollection%20and%20BindingList%20Serialization&In-Reply-To=%3Ckhmtjd%24chv%241%40ger.gmane.org%3E"
       TITLE="[Mono-dev] ObservableCollection and BindingList Serialization">robertj at gmx.net
       </A><BR>
    <I>Tue Mar 12 09:47:30 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040232.html">[Mono-dev] ObservableCollection and BindingList Serialization
</A></li>
        <LI>Next message: <A HREF="040234.html">[Mono-dev] ObservableCollection and BindingList Serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40233">[ date ]</a>
              <a href="thread.html#40233">[ thread ]</a>
              <a href="subject.html#40233">[ subject ]</a>
              <a href="author.html#40233">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12.03.2013 00:16, Neale Ferguson wrote:
    ObservableCollection was moved from Windows.Base to System and
&gt;<i> TypeForwardedTo and TypeForwardedFrom tags were added to the relevant source
</I>&gt;<i> code. ObservableCollection is serializable but when done on a Windows system
</I>&gt;<i> using .NET &gt;= 3 the serialized object will still contain the WindowsBase,
</I>&gt;<i> Version=3.0.0.0, Culture=Neutral, PublicKeyToken=31bf3856ad364e35 data but
</I>&gt;<i> Mono will use System. Hence, if you serialize on Mono and then try and
</I>&gt;<i> deserialize on .NET then you get an error message:
</I>&gt;<i>
</I>&gt;<i> Error when trying to deserialize with ObservableCollection: Unable to find
</I>&gt;<i> assembly 'System'.
</I>&gt;<i>
</I>&gt;<i> Should the serializer use the forwarded information to ensure compatibility
</I>&gt;<i> with older programs (and with what .NET does)?
</I>
MS.NET 4.0 beta was using the information gathered from
TypeForwardedFrom during serialization. Odds are that this
still applies.

Then Mono's binary serialization machinery should be changed
to pay attention to this attribute during de/serialization,
maybe in class/corlib/System.Runtime.Serialization/ObjectManager.cs.

&gt;<i>   In addition, Windows serializes a variable name _busyCount whereas Mono
</I>&gt;<i> defines _count.
</I>&gt;<i>
</I>&gt;<i>   Also, I note that BindingList serialization on Mono has different and
</I>&gt;<i> missing variable names compared to the .NET equivalent. For example,
</I>&gt;<i> allow_new is allowNew in .NET. In addition, do those serialized variables
</I>&gt;<i> need to be public or should they be declared as private?
</I>
They must have the same visibility as in MS.NET.

Usually, when a class does not implement ISerializable, Mono's
implementation must be changed to match MS down to member naming.
It's a tedious work given that we don't look at MS' source code...

Robert


</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040232.html">[Mono-dev] ObservableCollection and BindingList Serialization
</A></li>
	<LI>Next message: <A HREF="040234.html">[Mono-dev] ObservableCollection and BindingList Serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40233">[ date ]</a>
              <a href="thread.html#40233">[ thread ]</a>
              <a href="subject.html#40233">[ subject ]</a>
              <a href="author.html#40233">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
