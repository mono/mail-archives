<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Re: [Mono-docs-list] [PATCH] Searching for Monodoc
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20%5BMono-docs-list%5D%20%5BPATCH%5D%20Searching%20for%20Monodoc&In-Reply-To=ef36f55f050901021714a4c1bd%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014444.html">
   <LINK REL="Next"  HREF="014446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Re: [Mono-docs-list] [PATCH] Searching for Monodoc</H1>
    <B>Rafael Ferreira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20%5BMono-docs-list%5D%20%5BPATCH%5D%20Searching%20for%20Monodoc&In-Reply-To=ef36f55f050901021714a4c1bd%40mail.gmail.com"
       TITLE="[Mono-dev] Re: [Mono-docs-list] [PATCH] Searching for Monodoc">lists at ophion.org
       </A><BR>
    <I>Thu Sep  1 23:39:36 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014444.html">[Mono-dev] [PATCH] Searching for Monodoc
</A></li>
        <LI>Next message: <A HREF="014446.html">[Mono-dev] Mono.Cairo add Cairo.Surface.WriteToPng
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14471">[ date ]</a>
              <a href="thread.html#14471">[ thread ]</a>
              <a href="subject.html#14471">[ subject ]</a>
              <a href="author.html#14471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mario, 

my 2 cents follow:

On Thu, 2005-09-01 at 11:17 +0200, Mario Sopena wrote:
&gt;<i> Hey,
</I>&gt;<i> 
</I>&gt;<i>   A patch that I promised to send some time ago. The patch would
</I>&gt;<i> require that you download my own stripped version of Lucene from
</I>&gt;<i> here[1]. That version is just the Lucene you can download from
</I>&gt;<i> <A HREF="http://www.dotlucene.net/">http://www.dotlucene.net/</A> but modified to be in a Monodoc.Lucene...
</I>&gt;<i> namespace, which let us keep monodoc.dll in the GAC without breaking
</I>&gt;<i> the Golden Rules [2].
</I>
I personally think that lucene should go into the GAC and should be
referenced from its own namespace since other apps could take advantage
of it (at least in a perfect world). If lucene is not found in the GAC
then monodoc should default to its &quot;searchless&quot; self. I know that the
rule of thumb is to not use the GAC but I think this is a special
case...The complexity added by compiling lucene would not be worth the
headache  for such small app like docbrowser (I'm assuming here that
docbrowser is the one actually doing the indexing...)


&gt;<i>  The process to make the index is similar to the actual index. The
</I>&gt;<i> important method is PopulateSearchableIndex which fills
</I>&gt;<i> SearchableDocuments that are added to the Lucene index. It is
</I>&gt;<i> implemented for the ecmaspec and the ecma providers.
</I>&gt;<i>  The SearchableDocuments have 5 fields:
</I>&gt;<i> - title: nice title to show to the user
</I>&gt;<i> - url: to retrieve the node later
</I>&gt;<i> - hottext: the most important bits in this node
</I>&gt;<i> - text: a big piece of text
</I>&gt;<i> - examples: the code examples found
</I>&gt;<i> The ones used for searching are the last 3 in the following order of
</I>&gt;<i> importance: hottext &gt; text &gt; examples.
</I>&gt;<i> 
</I>&gt;<i>  The important missing things  are:
</I>&gt;<i> - The modifications made by the user aren't added to the index
</I>&gt;<i> - Nodes added with the --edit parameter won't be searchable either
</I>&gt;<i> - Right now, the whole Lucene is compiled in monodoc. Will it be
</I>&gt;<i> better a lighter version of Lucene?
</I>
I guess the question here is how dynamic do we want indexing to be?
Personally I don't think it is a big deal if the index is built once
and never gets updated (Monodoc is pretty much static anyways... with
all of the doc bundles being built AOT). Maybe a --reindex flag that
would force a complete index rebuild would be good enough. Even if it
took a few minutes to complete. 

I'm basing all my knowledge on your emails without having seen the
actual patch so please take what I'm saying with a grain of salt. I'm
looking forward to finally seeing the long waited search feature
working....

- raf

&gt;<i> 
</I>&gt;<i> Comments please!
</I>&gt;<i> 
</I>&gt;<i> [1] <A HREF="http://personales.ya.com/msopena/Monodoc.Lucene.Net.tar.gz">http://personales.ya.com/msopena/Monodoc.Lucene.Net.tar.gz</A>
</I>&gt;<i> [2] <A HREF="http://www.mono-project.com/Assemblies_and_the_GAC">http://www.mono-project.com/Assemblies_and_the_GAC</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-docs-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-docs-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-docs-list">http://lists.ximian.com/mailman/listinfo/mono-docs-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014444.html">[Mono-dev] [PATCH] Searching for Monodoc
</A></li>
	<LI>Next message: <A HREF="014446.html">[Mono-dev] Mono.Cairo add Cairo.Surface.WriteToPng
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14471">[ date ]</a>
              <a href="thread.html#14471">[ thread ]</a>
              <a href="subject.html#14471">[ subject ]</a>
              <a href="author.html#14471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
