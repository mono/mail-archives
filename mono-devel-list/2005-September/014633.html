<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Remove partial(ness) from HttpCapabilitiesBase &amp;	HttpBrowserCapabilities
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Remove%20partial%28ness%29%20from%20HttpCapabilitiesBase%20%26%0A%09HttpBrowserCapabilities&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014638.html">
   <LINK REL="Next"  HREF="014639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Remove partial(ness) from HttpCapabilitiesBase &amp;	HttpBrowserCapabilities</H1>
    <B>Eyal Alaluf</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Remove%20partial%28ness%29%20from%20HttpCapabilitiesBase%20%26%0A%09HttpBrowserCapabilities&In-Reply-To="
       TITLE="[Mono-dev] Remove partial(ness) from HttpCapabilitiesBase &amp;	HttpBrowserCapabilities">eyala at mainsoft.com
       </A><BR>
    <I>Thu Sep  8 09:35:44 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014638.html">[Mono-dev] Fixes for Grasshopper compilation
</A></li>
        <LI>Next message: <A HREF="014639.html">[Mono-dev] System.Web regressions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14633">[ date ]</a>
              <a href="thread.html#14633">[ thread ]</a>
              <a href="subject.html#14633">[ subject ]</a>
              <a href="author.html#14633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, all.

This fix is a part of building System.Web using MS .Net 1.1 C# compiler. I hope that there
are no more plans to expand the use of new C# features in System.Web (or elsewhere) for stuff
that is .Net 1.1 compatible.
Any further use of partial or yield in 1.1 parts of System.Web will break the Grasshopper build.

Eyal.
-------------- next part --------------
Index: System.Web/HttpBrowserCapabilities.cs

===================================================================

--- System.Web/HttpBrowserCapabilities.cs	(revision 49680)

+++ System.Web/HttpBrowserCapabilities.cs	(working copy)

@@ -36,13 +36,8 @@

 namespace System.Web
 {
 	//
-	// The real implementation lives in System.Web/BrowserCapabilities.cs
+	// The implementation lives in System.Web/BrowserCapabilities.cs
 	//
-	public partial class HttpBrowserCapabilities : HttpCapabilitiesBase
-	{
-		public HttpBrowserCapabilities ()
-		{
-		}
-	}
+	// public class HttpBrowserCapabilities : HttpCapabilitiesBase
 }
 
Index: System.Web/BrowserCapabilities.cs

===================================================================

--- System.Web/BrowserCapabilities.cs	(revision 49680)

+++ System.Web/BrowserCapabilities.cs	(working copy)

@@ -35,11 +35,11 @@

 
 #if NET_2_0
 namespace System.Web.Configuration {
-	public partial class HttpCapabilitiesBase
+	public class HttpCapabilitiesBase
 #else
 
 namespace System.Web {
-	public partial class HttpBrowserCapabilities : HttpCapabilitiesBase
+	public class HttpBrowserCapabilities : HttpCapabilitiesBase
 #endif
 	{
 		const int HaveActiveXControls = 1;
@@ -95,6 +95,10 @@

 		Version [] clrVersions;
 		internal string useragent;
 
+		public HttpBrowserCapabilities ()
+		{
+		}
+
 		public bool ActiveXControls {
 			get {
 				if (!Get (HaveActiveXControls)) {
Index: System.Web.Configuration/HttpCapabilitiesBase.cs

===================================================================

--- System.Web.Configuration/HttpCapabilitiesBase.cs	(revision 49680)

+++ System.Web.Configuration/HttpCapabilitiesBase.cs	(working copy)

@@ -35,7 +35,7 @@

 	// CAS
 	[AspNetHostingPermission (SecurityAction.LinkDemand, Level = AspNetHostingPermissionLevel.Minimal)]
 	[AspNetHostingPermission (SecurityAction.InheritanceDemand, Level = AspNetHostingPermissionLevel.Minimal)]
-	public partial class HttpCapabilitiesBase
+	public class HttpCapabilitiesBase
 	{
 		Hashtable capabilities;
 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014638.html">[Mono-dev] Fixes for Grasshopper compilation
</A></li>
	<LI>Next message: <A HREF="014639.html">[Mono-dev] System.Web regressions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14633">[ date ]</a>
              <a href="thread.html#14633">[ thread ]</a>
              <a href="subject.html#14633">[ subject ]</a>
              <a href="author.html#14633">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
