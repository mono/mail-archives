<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Default code page used by mcs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Default%20code%20page%20used%20by%20mcs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015004.html">
   <LINK REL="Next"  HREF="014998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Default code page used by mcs</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Default%20code%20page%20used%20by%20mcs&In-Reply-To="
       TITLE="[Mono-dev] Default code page used by mcs">kornelpal at hotmail.com
       </A><BR>
    <I>Wed Sep 28 05:50:28 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015004.html">[Mono-dev] HTTPS - MS .NET Client - Linux Mono Server -	Interoperability
</A></li>
        <LI>Next message: <A HREF="014998.html">[Mono-dev] System.Web fails to build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14995">[ date ]</a>
              <a href="thread.html#14995">[ thread ]</a>
              <a href="subject.html#14995">[ subject ]</a>
              <a href="author.html#14995">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I committed a patch that added /codepage to our mcs command line that I
missed for a long time. Now we don't have to specify the encoding we use in
mcs as we pass it on the command line.

So mcs can be modifed to use Encoding.Default as the default code page. I
think this is what most developers need as they edit their files using the
system code page and this is the behaviour of csc.exe as well.

Korn&#233;l

----- Original Message -----
From: &quot;Atsushi Eno&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">atsushi at ximian.com</A>&gt;
To: &quot;Korn&#233;l P&#225;l&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kornelpal at hotmail.com</A>&gt;
Cc: &quot;mono-devel mailing list&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Sent: Wednesday, August 31, 2005 6:35 AM
Subject: Re: [Mono-dev] mcs patch to say goodbye to SeekableStreamReader


&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;&gt;<i> I tried your patch with ComIStreamMarshaler.cs and used -codepage:65001.
</I>&gt;&gt;<i> It
</I>&gt;&gt;<i> worked as expected but it fails with SVN head. The expected behaviour is
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> compile without errors so you patch solves the bug.
</I>&gt;<i>
</I>&gt;<i> Yep - now the fixed patch is going.
</I>&gt;<i>
</I>&gt;&gt;<i> I've done some tests with files readed as UTF-8 but containing invalid
</I>&gt;&gt;<i> byte
</I>&gt;&gt;<i> sequences even with BOM and it worked as expected.
</I>&gt;<i>
</I>&gt;<i> Cool. Thanks for checking it :-)
</I>&gt;<i>
</I>&gt;&gt;<i> I think the patch should be ported to gmcs as well.
</I>&gt;<i>
</I>&gt;<i> I'll ask Martin later.
</I>&gt;<i>
</I>&gt;&gt;<i> I think we should return using Encoding.Default as the default encoding
</I>&gt;&gt;<i> in
</I>&gt;&gt;<i> mcs but should comfigure mcs using -codepage:28591 -codepage:1252 in
</I>&gt;&gt;<i> mcs/build to use that encoding.
</I>&gt;<i>
</I>&gt;<i> Maybe after 1.1.9 as Miguel suggested? I don't think the default
</I>&gt;<i> encoding problem would happen only to mcs.
</I>&gt;<i>
</I>&gt;<i> Atsushi Eno
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015004.html">[Mono-dev] HTTPS - MS .NET Client - Linux Mono Server -	Interoperability
</A></li>
	<LI>Next message: <A HREF="014998.html">[Mono-dev] System.Web fails to build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14995">[ date ]</a>
              <a href="thread.html#14995">[ thread ]</a>
              <a href="subject.html#14995">[ subject ]</a>
              <a href="author.html#14995">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
