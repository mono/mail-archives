<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] RE: porting tool
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20RE%3A%20porting%20tool&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D7385DC%40dhost002-45.dex002.intermedia.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014892.html">
   <LINK REL="Next"  HREF="014896.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] RE: porting tool</H1>
    <B>Ben Maurer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20RE%3A%20porting%20tool&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D7385DC%40dhost002-45.dex002.intermedia.net"
       TITLE="[Mono-dev] RE: porting tool">bmaurer at ximian.com
       </A><BR>
    <I>Thu Sep 22 15:47:32 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014892.html">[Mono-dev] RE: porting tool
</A></li>
        <LI>Next message: <A HREF="014896.html">[Mono-dev] RE: porting tool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14894">[ date ]</a>
              <a href="thread.html#14894">[ thread ]</a>
              <a href="subject.html#14894">[ subject ]</a>
              <a href="author.html#14894">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2005-09-22 at 11:13 -0700, Andrew Skiba wrote:
&gt;<i> Sure.
</I>&gt;<i> 
</I>&gt;<i> In the most simple scenario you run
</I>&gt;<i> 
</I>&gt;<i> $ find -type f&gt;INDEX
</I>&gt;<i> 
</I>&gt;<i> And then use this index as both source and target list. Typically one
</I>&gt;<i> will filter executables out of this list, as well as svn directories,
</I>&gt;<i> etc. Then you can run
</I>&gt;<i> 
</I>&gt;<i> $ mono CaseRePorter.exe INDEX INDEX &gt;out.lst
</I>&gt;<i> 
</I>&gt;<i> and see what is in the out.lst. If you see too much noise in it, you
</I>&gt;<i> can review your INDEX and remove the noising files. Hopefully you get
</I>&gt;<i> output like
</I>&gt;<i> 
</I>&gt;<i> file1.ext
</I>&gt;<i>   ./path/path/file2.cs:100:    s = new StreamWriter (&quot;file1.EXT&quot;);
</I>&gt;<i> 
</I>&gt;<i> then you go to file2.cs and fix the name.
</I>&gt;<i> 
</I>&gt;<i> As I said, I ran it on a big project tree (after FEW iterations tuning
</I>&gt;<i> INDEX) and I had no noise, and ~1000 lines of useful output. Lots of
</I>&gt;<i> files were referenced with wrong case from everywhere - aspx pages,
</I>&gt;<i> xmls, csharp sources, you name it.
</I>&gt;<i> 
</I>&gt;<i> Unfortunately, I am not familiar with AspNetForums, so I don't know if
</I>&gt;<i> this tool will help there.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; I'm not sure exactly how one would use this tool. Can you walk me
</I>&gt;<i> through
</I>&gt;<i> &gt; how I would take a typical web application (say, AspNetForums) and
</I>&gt;<i> fix up
</I>&gt;<i> &gt;the path references?
</I>
This is a clever idea. Just a few suggestions:

1) try testing for binary files when you open something to see if it has
any path references in it. For our purposes, &quot;binary file&quot; can be
defined as any file which contains a \0 in it's first 8 kb of data. The
chance of a randomly generated file failing this test is
(255/256)^(8*1024), or 1.2 &#215; 10^-14. This should prevent any need for
&quot;tuning&quot;.

2) would need a manpage, etc to show how to use it.

3) Why not have a mode where it does the find -type f for you, and then
looks at all the files. This will be practical once you do 1 to remove
binary files from consideration.

4) IMHO, we shouldn't only look at files, directories might be
referenced too.

5) Any ideas on how to catch not using path.combine?

-- Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014892.html">[Mono-dev] RE: porting tool
</A></li>
	<LI>Next message: <A HREF="014896.html">[Mono-dev] RE: porting tool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14894">[ date ]</a>
              <a href="thread.html#14894">[ thread ]</a>
              <a href="subject.html#14894">[ subject ]</a>
              <a href="author.html#14894">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
