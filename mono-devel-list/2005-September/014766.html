<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono runtime performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20runtime%20performance&In-Reply-To=20050914121922.CA5D73E96%40ctb-mesg9.saix.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014765.html">
   <LINK REL="Next"  HREF="014767.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono runtime performance</H1>
    <B>Gary Smithrud</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20runtime%20performance&In-Reply-To=20050914121922.CA5D73E96%40ctb-mesg9.saix.net"
       TITLE="[Mono-dev] Mono runtime performance">gary.smithrud at haley.com
       </A><BR>
    <I>Wed Sep 14 09:28:56 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014765.html">[Mono-dev] Mono runtime performance
</A></li>
        <LI>Next message: <A HREF="014767.html">[Mono-dev] Mono runtime performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14766">[ date ]</a>
              <a href="thread.html#14766">[ thread ]</a>
              <a href="subject.html#14766">[ subject ]</a>
              <a href="author.html#14766">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would suggest build the Mono version with optimizations on and  
seeing the performance differences as well.  Of course this is not a  
total surprise, since Mono is newer than .NET and as such the goal  
should be first to get it right and then to speed it up.

On Sep 14, 2005, at 8:18 AM, Graeme Geldenhuys wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I came across a article on the net, that compares different  
</I>&gt;<i> languages and
</I>&gt;<i> there performance (Java, C#, C++, etc..).  I thought I would try  
</I>&gt;<i> something
</I>&gt;<i> simular, but testing the execution speed of the .net runtimes for  
</I>&gt;<i> Microsoft
</I>&gt;<i> .NET 1.1 and Mono 1.1.8.3
</I>&gt;<i>
</I>&gt;<i> I compiled the C# benchmark application using Mono. It didn't make a
</I>&gt;<i> difference which framework I used to compile the benchmark  
</I>&gt;<i> application, as the
</I>&gt;<i> result was very simular.  I also didn't include optimization params  
</I>&gt;<i> to the
</I>&gt;<i> compiler, otherwise Microsoft's .NET can't execute the Mono created
</I>&gt;<i> application. (I got no idea why, but it does work other way round).
</I>&gt;<i>
</I>&gt;<i> Anyway, the result was shocking!  The mono runtime was about 67%  
</I>&gt;<i> slower than
</I>&gt;<i> the microsoft runtime.  Anybody know why?  I was testing this under  
</I>&gt;<i> Windows
</I>&gt;<i> 2000 Pro + SP2 applied.  My PC is a Dell Inspiron 9100 laptop with  
</I>&gt;<i> a 3000Mhz
</I>&gt;<i> P4 and 512mb RAM.
</I>&gt;<i>
</I>&gt;<i> Below is the output of the same executable, first run under Mono,  
</I>&gt;<i> then under
</I>&gt;<i> MS's .NET framework.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Test System:
</I>&gt;<i>  Dell Inspiron 9100 laptop
</I>&gt;<i>  Intel P4 3000Mhz
</I>&gt;<i>  512Mb RAM
</I>&gt;<i>  OS: Windows 2000 Pro with SP2
</I>&gt;<i>
</I>&gt;<i> Microsoft.NET Framework v1.1.4322
</I>&gt;<i> Mono .NET Framework v1.1.8.3
</I>&gt;<i>
</I>&gt;<i> Compiled with Mono 1.1.8.3 and no optimization
</I>&gt;<i> (even with optimized compiler settings, the results are very similar)
</I>&gt;<i> ---------------------------------------------------------------------
</I>&gt;<i> c:\Temp\benchmarks&gt;gmcs Benchmarks.cs
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Run via Mono's .NET
</I>&gt;<i> -------------------
</I>&gt;<i> c:\Temp\benchmarks&gt;mono Benchmarks.exe
</I>&gt;<i> Start C# benchmark
</I>&gt;<i> Int arithmetic elapsed time: 15297 ms with max of 1000000000
</I>&gt;<i>  i: 1000000000
</I>&gt;<i>  intResult: 1
</I>&gt;<i> Double arithmetic elapsed time: 30813 ms with min of 10000000000,  
</I>&gt;<i> max of
</I>&gt;<i> 1100000
</I>&gt;<i> 0000
</I>&gt;<i>  i: 11000000000
</I>&gt;<i>  doubleResult: 10011632717.4955
</I>&gt;<i> long arithmetic elapsed time: 33703 ms with min of 10000000000, max of
</I>&gt;<i> 110000000
</I>&gt;<i> 00
</I>&gt;<i>  i: 11000000000
</I>&gt;<i>  intResult: 776627965
</I>&gt;<i> Trig elapsed time: 2891 ms with max of 10000000
</I>&gt;<i>  i: 10000000
</I>&gt;<i>  sine: 0.990664647736125
</I>&gt;<i>  cosine: -0.136321516004849
</I>&gt;<i>  tangent: -7.26711877016455
</I>&gt;<i>  logarithm: 6.99999995657055
</I>&gt;<i>  squareRoot: 3162.27750205449
</I>&gt;<i> IO elapsed time: 14172 ms with max of 1000000
</I>&gt;<i>  i: 1000001
</I>&gt;<i>  myLine:
</I>&gt;<i> abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz12345678 
</I>&gt;<i> 9
</I>&gt;<i> 0abcdefgh
</I>&gt;<i> Array elapsed time: 797 ms - 1000 100000000
</I>&gt;<i> Exception elapsed time: 3765 ms - Exceptions: HI=500000 / LO=500000
</I>&gt;<i> HashMap elapsed time: 407 ms - 18699
</I>&gt;<i> HashMaps elapsed time: 5890 ms - 1 9999 1000 9999000
</I>&gt;<i> HeapSort elapsed time: 844 ms - 0.999992855509831
</I>&gt;<i> Vector elapsed time: 17078 ms - 10000
</I>&gt;<i> Matrix Multiply elapsed time: 75688 ms - 270165 1061760 1453695  
</I>&gt;<i> 1856025
</I>&gt;<i> Nested Loop elapsed time: 17515 ms - -1804337152
</I>&gt;<i> String Concat. (fixed) elapsed time: 610 ms - 50000000
</I>&gt;<i> Total C# benchmark time: 219470 ms
</I>&gt;<i> End C# benchmark
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Run via Microsoft's .NET
</I>&gt;<i> ------------------------
</I>&gt;<i> c:\Temp\benchmarks&gt;Benchmarks.exe
</I>&gt;<i> Start C# benchmark
</I>&gt;<i> Int arithmetic elapsed time: 6593 ms with max of 1000000000
</I>&gt;<i>  i: 1000000000
</I>&gt;<i>  intResult: 1
</I>&gt;<i> Double arithmetic elapsed time: 12140 ms with min of 10000000000,  
</I>&gt;<i> max of
</I>&gt;<i> 1100000
</I>&gt;<i> 0000
</I>&gt;<i>  i: 11000000000
</I>&gt;<i>  doubleResult: 10011632717.4955
</I>&gt;<i> long arithmetic elapsed time: 16546 ms with min of 10000000000, max of
</I>&gt;<i> 110000000
</I>&gt;<i> 00
</I>&gt;<i>  i: 11000000000
</I>&gt;<i>  intResult: 776627965
</I>&gt;<i> Trig elapsed time: 2828 ms with max of 10000000
</I>&gt;<i>  i: 10000000
</I>&gt;<i>  sine: 0.990664647736125
</I>&gt;<i>  cosine: -0.136321516004849
</I>&gt;<i>  tangent: -7.26711877016455
</I>&gt;<i>  logarithm: 6.99999995657055
</I>&gt;<i>  squareRoot: 3162.27750205449
</I>&gt;<i> IO elapsed time: 4640 ms with max of 1000000
</I>&gt;<i>  i: 1000001
</I>&gt;<i>  myLine:
</I>&gt;<i> abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz12345678 
</I>&gt;<i> 9
</I>&gt;<i> 0abcdefgh
</I>&gt;<i> Array elapsed time: 375 ms - 1000 100000000
</I>&gt;<i> Exception elapsed time: 11968 ms - Exceptions: HI=500000 / LO=500000
</I>&gt;<i> HashMap elapsed time: 125 ms - 18699
</I>&gt;<i> HashMaps elapsed time: 4500 ms - 1 9999 1000 9999000
</I>&gt;<i> HeapSort elapsed time: 703 ms - 0.999992855509831
</I>&gt;<i> Vector elapsed time: 14734 ms - 10000
</I>&gt;<i> Matrix Multiply elapsed time: 25640 ms - 270165 1061760 1453695  
</I>&gt;<i> 1856025
</I>&gt;<i> Nested Loop elapsed time: 29968 ms - -1804337152
</I>&gt;<i> String Concat. (fixed) elapsed time: 500 ms - 50000000
</I>&gt;<i> Total C# benchmark time: 131260 ms
</I>&gt;<i> End C# benchmark
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I didn't write the Benchmark.cs application, I got it off the net.   
</I>&gt;<i> I will
</I>&gt;<i> include the code in the next email if anybody wanted to test it  
</I>&gt;<i> themselves.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>   - Graeme -
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014765.html">[Mono-dev] Mono runtime performance
</A></li>
	<LI>Next message: <A HREF="014767.html">[Mono-dev] Mono runtime performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14766">[ date ]</a>
              <a href="thread.html#14766">[ thread ]</a>
              <a href="subject.html#14766">[ subject ]</a>
              <a href="author.html#14766">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
