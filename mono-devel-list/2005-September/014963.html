<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Re: [Mono-devel-list] AOT + Embedding = ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20%5BMono-devel-list%5D%20AOT%20%2B%20Embedding%20%3D%20%3F&In-Reply-To=295e750a050609051264640690%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014986.html">
   <LINK REL="Next"  HREF="014981.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Re: [Mono-devel-list] AOT + Embedding = ?</H1>
    <B>Jim Purbrick</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20%5BMono-devel-list%5D%20AOT%20%2B%20Embedding%20%3D%20%3F&In-Reply-To=295e750a050609051264640690%40mail.gmail.com"
       TITLE="[Mono-dev] Re: [Mono-devel-list] AOT + Embedding = ?">jimpurbrick at yahoo.co.uk
       </A><BR>
    <I>Mon Sep 26 13:35:55 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014986.html">[Mono-dev] this program doesn't work on mono 1.1.9.1
</A></li>
        <LI>Next message: <A HREF="014981.html">[Mono-dev] Re: [Mono-devel-list] AOT + Embedding = ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14963">[ date ]</a>
              <a href="thread.html#14963">[ thread ]</a>
              <a href="subject.html#14963">[ subject ]</a>
              <a href="author.html#14963">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

&gt;<i> This is due to a problem in out embedding
</I>&gt;<i> interface. It is now tracked as: 
</I>&gt;<i> <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=75194">http://bugzilla.ximian.com/show_bug.cgi?id=75194</A>
</I>
I've now updated to 1.1.9 on Debian sarge and AOT
assemblies seem to be looked for and loaded properly,
thanks.

However, I'm now oprofiling the server embedding mono
and JIT compilation still seems to be my high nail (if
I'm reading it right). Any idea what's going on here?

Here's my oprofile top 10 for libmono.so.0.0.0:

samples   %       symbol name
268748    7.7870  mono_jit_compile_method_with_opt
225147    6.5237  mono_class_vtable
212785    6.1655  mono_jit_runtime_invoke
173572    5.0293  mono_get_inflated_method
162878    4.7194  EnterCriticalSection
161165    4.6698  mono_marshal_get_runtime_invoke
157151    4.5535  mono_gchandle_get_target
142082    4.1169  anonymous symbol from section .plt
141125    4.0891  do_mono_metadata_type_equal
136419    3.9528  mono_runtime_class_init

MONO_LOG_LEVEL=debug reports &quot;AOT loaded AOT Module&quot;
for each of my assemblies. I double checked by hiding
the AOT output so it wasn't found and got almost
identical profile results, so it doesn't look like AOT
compilation is saving any work.

Also, assuming that AOT loading can be made to work
and is worthwhile is there any way to load AOT modules
from memory? Eventually I'll need to keep them in a
remote server and ship them to the local server when
needed.

Otherwise, the job of moving Second Life to mono is
going very well. More details here:

<A HREF="http://secondlife.blogs.com/babbage/2005/08/second_life_in_.html">http://secondlife.blogs.com/babbage/2005/08/second_life_in_.html</A>
<A HREF="http://secondlife.blogs.com/babbage/2005/08/flying_a_mono_b.html">http://secondlife.blogs.com/babbage/2005/08/flying_a_mono_b.html</A>

:<i>-)
</I>
Cheers,

Jim.


	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail <A HREF="http://uk.messenger.yahoo.com">http://uk.messenger.yahoo.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014986.html">[Mono-dev] this program doesn't work on mono 1.1.9.1
</A></li>
	<LI>Next message: <A HREF="014981.html">[Mono-dev] Re: [Mono-devel-list] AOT + Embedding = ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14963">[ date ]</a>
              <a href="thread.html#14963">[ thread ]</a>
              <a href="subject.html#14963">[ subject ]</a>
              <a href="author.html#14963">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
