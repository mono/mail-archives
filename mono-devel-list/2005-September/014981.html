<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Re: [Mono-devel-list] AOT + Embedding = ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20%5BMono-devel-list%5D%20AOT%20%2B%20Embedding%20%3D%20%3F&In-Reply-To=20050926173555.22310.qmail%40web25001.mail.ukl.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014963.html">
   <LINK REL="Next"  HREF="014969.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Re: [Mono-devel-list] AOT + Embedding = ?</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Re%3A%20%5BMono-devel-list%5D%20AOT%20%2B%20Embedding%20%3D%20%3F&In-Reply-To=20050926173555.22310.qmail%40web25001.mail.ukl.yahoo.com"
       TITLE="[Mono-dev] Re: [Mono-devel-list] AOT + Embedding = ?">vargaz at gmail.com
       </A><BR>
    <I>Tue Sep 27 12:34:39 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014963.html">[Mono-dev] Re: [Mono-devel-list] AOT + Embedding = ?
</A></li>
        <LI>Next message: <A HREF="014969.html">[Mono-dev] [PATCH] Reworked ImageList (updated)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14981">[ date ]</a>
              <a href="thread.html#14981">[ thread ]</a>
              <a href="subject.html#14981">[ subject ]</a>
              <a href="author.html#14981">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>                                        Hey,

&gt;<i> MONO_LOG_LEVEL=debug reports &quot;AOT loaded AOT Module&quot;
</I>&gt;<i> for each of my assemblies. I double checked by hiding
</I>&gt;<i> the AOT output so it wasn't found and got almost
</I>&gt;<i> identical profile results, so it doesn't look like AOT
</I>&gt;<i> compilation is saving any work.
</I>&gt;<i>
</I>
The log should also contain lines likes this when the runtime finds an
AOTed method:

(./hello.exe:28386): Mono-DEBUG: AOT FOUND AOT compiled code for
Hello:Main () 0xb7565410 - 0xb7565433 0xb756546b

Loading an AOT method happens in mono_jit_compile_method_with_opt, and that
involves some work, so oprofile might be correct. Also, some internal methods
generated by the runtime cannot be (or currently not) AOT compiled, so the JIT
will still compile some methods even when everything is AOTed.

&gt;<i> Also, assuming that AOT loading can be made to work
</I>&gt;<i> and is worthwhile is there any way to load AOT modules
</I>&gt;<i> from memory? Eventually I'll need to keep them in a
</I>&gt;<i> remote server and ship them to the local server when
</I>&gt;<i> needed.
</I>&gt;<i>
</I>
AOT modules are fairly normal UNIX shared libraries and the runtime loads the
using dlopen(). So you can copy them to a directory on a system and add that
directory to LD_LIBRARY_PATH so the runtime will find it.

               Zoltan

&gt;<i> Otherwise, the job of moving Second Life to mono is
</I>&gt;<i> going very well. More details here:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://secondlife.blogs.com/babbage/2005/08/second_life_in_.html">http://secondlife.blogs.com/babbage/2005/08/second_life_in_.html</A>
</I>&gt;<i> <A HREF="http://secondlife.blogs.com/babbage/2005/08/flying_a_mono_b.html">http://secondlife.blogs.com/babbage/2005/08/flying_a_mono_b.html</A>
</I>&gt;<i>
</I>&gt;<i> :-)
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Jim.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ___________________________________________________________
</I>&gt;<i> Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail <A HREF="http://uk.messenger.yahoo.com">http://uk.messenger.yahoo.com</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014963.html">[Mono-dev] Re: [Mono-devel-list] AOT + Embedding = ?
</A></li>
	<LI>Next message: <A HREF="014969.html">[Mono-dev] [PATCH] Reworked ImageList (updated)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14981">[ date ]</a>
              <a href="thread.html#14981">[ thread ]</a>
              <a href="subject.html#14981">[ subject ]</a>
              <a href="author.html#14981">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
