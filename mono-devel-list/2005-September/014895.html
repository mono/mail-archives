<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] .aspx and .aspx.cs (spliting &quot;codebehind&quot;)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20.aspx%20and%20.aspx.cs%20%28spliting%20%22codebehind%22%29&In-Reply-To=20050922180646.44806.qmail%40web30709.mail.mud.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014891.html">
   <LINK REL="Next"  HREF="014897.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] .aspx and .aspx.cs (spliting &quot;codebehind&quot;)</H1>
    <B>Florian</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20.aspx%20and%20.aspx.cs%20%28spliting%20%22codebehind%22%29&In-Reply-To=20050922180646.44806.qmail%40web30709.mail.mud.yahoo.com"
       TITLE="[Mono-dev] .aspx and .aspx.cs (spliting &quot;codebehind&quot;)">flox at gmx.at
       </A><BR>
    <I>Thu Sep 22 16:29:24 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014891.html">[Mono-dev] .aspx and .aspx.cs (spliting &quot;codebehind&quot;)
</A></li>
        <LI>Next message: <A HREF="014897.html">[Mono-dev] .aspx and .aspx.cs (spliting &quot;codebehind&quot;)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14895">[ date ]</a>
              <a href="thread.html#14895">[ thread ]</a>
              <a href="subject.html#14895">[ subject ]</a>
              <a href="author.html#14895">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Joe,

Thx for ur quick answer, but unfortunately this doesn't work neither for
me.

I tried it in all possible combinations of Codebehind= , src= ,
Inherits=, AutoEventWireup= (Eventhough I actually want
AutoEventWireup=true, since I wanna use the Page_Load function)

*) Maybe a configuration problem (but it works with inline cs code in
the aspx)

*) mono-issue? Does anyone have this (aspx and apsx.cs seperatly)
working properly?

Maybe there are some other advices out there.

br,
Flox

P.S.:
Basically I thought 
1.)Codebehind is more for VS.NET then for mono.
2.)src is used in mono (but then when used with Inherits the class is
defined twice which results in error as well)

====&gt; I used also the new System.Web.dll posted in this list.

P.S.S:
I get the following results for the different ways to write the header:

***1.)
&lt;%@ Page language=&quot;c#&quot; AutoEventWireup=&quot;false&quot;
Codebehind=&quot;request.aspx.cs&quot; src=&quot;request.aspx.cs&quot; %&gt;

==&gt; it works, but now reaction if the button is clicked

***2.)
&lt;%@ Page language=&quot;c#&quot; AutoEventWireup=&quot;false&quot;
Codebehind=&quot;request.aspx.cs&quot;src=&quot;request.aspx.cs&quot;
Inherits=&quot;workflow.Request %&gt; 

==&gt; the namespace of the class Request is workflow

I do get the following error:

Compilation Error
Description: Error compiling a resource required to service this
request. Review your source file and modify it to fix this error. 

Error message: /tmp/apache-temp-aspnet-0/43d82bdb/20255.0.cs(26,33) :
error CS0433: The imported type `workflow.Request' is defined multiple
times

File name:  /home/florian/public_html/workflow/request.aspx

Source File: /tmp/apache-temp-aspnet-0/43d82bdb/20255.0.cs

***3.)
&lt;%@ Page language=&quot;c#&quot; AutoEventWireup=&quot;false&quot;
Codebehind=&quot;request.aspx.cs&quot; Inherits=&quot;workflow.Request&quot; %&gt;

==&gt; the namespace of the class Request is workflow

I do get the following error:

Description: Error processing request. 

Error Message: HTTP 500. 

Stack Trace: 
System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&gt; System.Web.HttpException: Response is not available without context
in &lt;0x00054&gt; System.Web.UI.Page:get_Response ()
in &lt;0x00015&gt; workflow.Request:.ctor ()
in &lt;0x0000a&gt; ASP.request_aspx:.ctor ()
in &lt;0x00000&gt; &lt;unknown method&gt;
in (wrapper managed-to-native) System.Reflection.MonoCMethod:InternalInvoke (object,object[])
in &lt;0x0008d&gt; System.Reflection.MonoCMethod:Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture)--- End of inner exception stack trace ---

in &lt;0x0010e&gt; System.Reflection.MonoCMethod:Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture)
in &lt;0x0001c&gt; System.Reflection.MonoCMethod:Invoke (BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture)
in &lt;0x00035&gt; System.Reflection.ConstructorInfo:Invoke (System.Object[] parameters)
in &lt;0x00116&gt; System.Activator:CreateInstance (System.Type type, Boolean nonPublic)
in &lt;0x0000c&gt; System.Activator:CreateInstance (System.Type type)
in &lt;0x00022&gt; System.Web.UI.TemplateControlParser:GetCompiledInstance ()
in &lt;0x00035&gt; System.Web.UI.PageParser:GetCompiledPageInstance (System.String virtualPath, System.String inputFile, System.Web.HttpContext context)
in &lt;0x00010&gt; System.Web.UI.PageHandlerFactory:GetHandler (System.Web.HttpContext context, System.String requestType, System.String url, System.String path)
in &lt;0x001e1&gt; System.Web.HttpApplication:GetHandler (System.Web.HttpContext context)
in &lt;0x00888&gt; System.Web.HttpApplication+&lt;Pipeline&gt;__1:MoveNext ()


On Thu, 2005-09-22 at 11:06 -0700, Joe Audette wrote:
&gt;<i> If you use syntax like this
</I>&gt;<i> &lt;%@ Page language=&quot;c#&quot; AutoEventWireup=&quot;false&quot; 
</I>&gt;<i> Codebehind=&quot;request.aspx.cs&quot; Inherits=&quot;request&quot; %&gt;
</I>&gt;<i> 
</I>&gt;<i> and compile and put the dll in your bin folder it
</I>&gt;<i> should work
</I>&gt;<i> 
</I>&gt;<i> Hope it helps,
</I>&gt;<i> 
</I>&gt;<i> Joe
</I>&gt;<i> 
</I>&gt;<i> --- Florian Kinast &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Flox at gmx.at</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Hi Everybody,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I am sorry if this problem is not appropriate here,
</I>&gt;<i> &gt; but I am looking for
</I>&gt;<i> &gt; a solution to that now for some time.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Problem:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I got a request.aspx which works if I put the
</I>&gt;<i> &gt; &quot;codebehind&quot; and the aspx
</I>&gt;<i> &gt; in one file.
</I>&gt;<i> &gt; If I try to split it into a request.aspx and
</I>&gt;<i> &gt; request.aspx.cs it doesn't
</I>&gt;<i> &gt; work anymore: There is just no reaction on the click
</I>&gt;<i> &gt; (it seems to load, but
</I>&gt;<i> &gt; just the same pages comes back).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; .) Variant 1 (WORKING)
</I>&gt;<i> &gt; request.aspx:
</I>&gt;<i> &gt; &lt;%@ language=&quot;C#&quot; %&gt;
</I>&gt;<i> &gt; &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0
</I>&gt;<i> &gt; Transitional//EN&quot; &gt;
</I>&gt;<i> &gt; &lt;html&gt;
</I>&gt;<i> &gt;         &lt;script runat=&quot;server&quot;&gt;
</I>&gt;<i> &gt;                 void btnEnter_Click(object o,
</I>&gt;<i> &gt; EventArgs e)
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                         btnEnter.Text=&quot;Clicked&quot;;
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;         &lt;/script&gt;
</I>&gt;<i> &gt;         &lt;body&gt;
</I>&gt;<i> &gt;         &lt;form runat=&quot;server&quot;&gt;
</I>&gt;<i> &gt;                 &lt;asp:button id=&quot;btnEnter&quot;
</I>&gt;<i> &gt; Text=&quot;OnLoad&quot;
</I>&gt;<i> &gt; onClick=&quot;btnEnter_Click&quot;/&gt;
</I>&gt;<i> &gt;         &lt;/form&gt;
</I>&gt;<i> &gt;         &lt;/body&gt;
</I>&gt;<i> &gt; &lt;/html&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; .) Variant 2 (NOT WORKING)
</I>&gt;<i> &gt; request.aspx:
</I>&gt;<i> &gt; &lt;%@ Page language=&quot;c#&quot; src=&quot;request.aspx.cs&quot; %&gt;
</I>&gt;<i> &gt; &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0
</I>&gt;<i> &gt; Transitional//EN&quot; &gt;
</I>&gt;<i> &gt; &lt;html&gt;
</I>&gt;<i> &gt;         &lt;body&gt;
</I>&gt;<i> &gt;         &lt;form id=&quot;Form1&quot; method=&quot;post&quot;
</I>&gt;<i> &gt; runat=&quot;server&quot;&gt;
</I>&gt;<i> &gt;                 &lt;asp:button id=&quot;btnEnter&quot;
</I>&gt;<i> &gt; Text=&quot;OnLoad&quot; runat=&quot;server&quot;/&gt;
</I>&gt;<i> &gt;         &lt;/form&gt;
</I>&gt;<i> &gt;         &lt;/body&gt;
</I>&gt;<i> &gt; &lt;/html&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; request.aspx.cs:
</I>&gt;<i> &gt; using System;
</I>&gt;<i> &gt; using System.Web.UI;
</I>&gt;<i> &gt; using System.Web.UI.WebControls;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; namespace workflow
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;         public class Request : System.Web.UI.Page
</I>&gt;<i> &gt;         {
</I>&gt;<i> &gt;                 protected
</I>&gt;<i> &gt; System.Web.UI.WebControls.Button btnEnter;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;                 override protected void
</I>&gt;<i> &gt; OnInit(EventArgs e)
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                         InitializeComponent();
</I>&gt;<i> &gt;                         base.OnInit(e);
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;                 private void InitializeComponent()
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                         this.btnEnter.Click += new
</I>&gt;<i> &gt; System.EventHandler(this.btn$
</I>&gt;<i> &gt;                         this.Load += new
</I>&gt;<i> &gt; System.EventHandler(this.Page_Load);
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;                 protected void Page_Load(object
</I>&gt;<i> &gt; sender, System.EventArgs e)
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;                }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;                 protected void btnEnter_Click(object
</I>&gt;<i> &gt; sender,
</I>&gt;<i> &gt; System.EventArgs e)
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                        this.btnEnter.Text =
</I>&gt;<i> &gt; &quot;Clicked&quot;;
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt;         }
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I tried it with various options (with/without
</I>&gt;<i> &gt; InitializeComponent and
</I>&gt;<i> &gt; other commands also placed directly in the Page_Load
</I>&gt;<i> &gt; function) and it
</I>&gt;<i> &gt; never worked.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; MY SETTING:
</I>&gt;<i> &gt; Gentoo, apache2, mod_mono, mono-1.1.9, kernel 2.6.13
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Could this missing functionality be caused by
</I>&gt;<i> &gt; wrongly configured
</I>&gt;<i> &gt; httpd.conf/mod_mono.conf or something like that?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I am rather new to the mono and I want to migrate a
</I>&gt;<i> &gt; quite complex
</I>&gt;<i> &gt; project from VS.NET/Windows to mono/linux. But at
</I>&gt;<i> &gt; the moment I get stuck
</I>&gt;<i> &gt; at the very basic levels.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; If this is the wrong platform to ask questions I am
</I>&gt;<i> &gt; sorry and ask you to
</I>&gt;<i> &gt; tell me where else I could ask this and what would
</I>&gt;<i> &gt; be the appropriate
</I>&gt;<i> &gt; questions in this list.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I am very thankfull for every help.
</I>&gt;<i> &gt; Thx a lot in advance,
</I>&gt;<i> &gt; Flox
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; P.S:
</I>&gt;<i> &gt; I tried it also with creating a .dll an puting it in
</I>&gt;<i> &gt; the same as well as
</I>&gt;<i> &gt; in the bin/ directory of the Application.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Might I need to register the dll somewhere (gac)?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; -- 
</I>&gt;<i> &gt; GMX DSL = Maximale Leistung zum minimalen Preis!
</I>&gt;<i> &gt; 2000 MB nur 2,99, Flatrate ab 4,99 Euro/Monat:
</I>&gt;<i> &gt; <A HREF="http://www.gmx.net/de/go/dsl">http://www.gmx.net/de/go/dsl</A>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> joe_audette [at] yahoo dotcom
</I>&gt;<i> <A HREF="http://www.joeaudette.com">http://www.joeaudette.com</A>
</I>&gt;<i> <A HREF="http://www.mojoportal.com">http://www.mojoportal.com</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014891.html">[Mono-dev] .aspx and .aspx.cs (spliting &quot;codebehind&quot;)
</A></li>
	<LI>Next message: <A HREF="014897.html">[Mono-dev] .aspx and .aspx.cs (spliting &quot;codebehind&quot;)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14895">[ date ]</a>
              <a href="thread.html#14895">[ thread ]</a>
              <a href="subject.html#14895">[ subject ]</a>
              <a href="author.html#14895">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
