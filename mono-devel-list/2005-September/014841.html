<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Memory leaks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Memory%20leaks&In-Reply-To=200509161534.41419.schuett%40zib.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014811.html">
   <LINK REL="Next"  HREF="014987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Memory leaks</H1>
    <B>Thorsten Schuett</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Memory%20leaks&In-Reply-To=200509161534.41419.schuett%40zib.de"
       TITLE="[Mono-dev] Memory leaks">schuett at zib.de
       </A><BR>
    <I>Mon Sep 19 05:50:46 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014811.html">[Mono-dev] Memory leaks
</A></li>
        <LI>Next message: <A HREF="014987.html">[Mono-dev] Memory leaks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14841">[ date ]</a>
              <a href="thread.html#14841">[ thread ]</a>
              <a href="subject.html#14841">[ subject ]</a>
              <a href="author.html#14841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 16 September 2005 15:34, Thorsten Schuett wrote:
&gt;<i> On Thursday 15 September 2005 19:15, Paolo Molaro wrote:
</I>&gt;<i> &gt; On 09/15/05 Thorsten Schuett wrote:
</I>&gt;<i> &gt; &gt; I &quot;ported&quot; a simulation from Visual C# beta 2 to mono this week. You
</I>&gt;<i> &gt; &gt; can't really call it porting, because I only had to remove references
</I>&gt;<i> &gt; &gt; to Stopwatch. But anyway, thanks to all of you for making it so easy.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; It is a long running application, therefore I used an IA64 at work.
</I>&gt;<i> &gt; &gt; Almost everything worked without any hiccups. But after about 12h the
</I>&gt;<i> &gt; &gt; memory consumption was up to 4GB. In the beginning it needed only about
</I>&gt;<i> &gt; &gt; 50MB. In my
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Set the MONO_GC_PRINT_STATS env var:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; MONO_GC_PRINT_STATS=1 mono program.exe
</I>[snip]
The following works now for me:
GC_PRINT_STATS=1 mono program.exe

I took a snapshot ~7 min after starting the run.
ps shows the following:
8496 bzcschut  25   0  805m 750m 6992 R 99.8 18.6   6:47.62 mono
So 805m virtual size and 750m resident size. GC_PRINT_STATS latest stats were 
these:
Initiating full world-stop collection 780 after 236960208 allocd bytes
--&gt; Marking for collection 780 after 236960208 allocd bytes + 16891392 wasted 
bytes
Collection 779 finished ---&gt; heapsize = 762986496 bytes
World-stopped marking took 34 msecs
Complete collection took 78 msecs

Can somebody help me interpreting the results? Are there 762MB of objects 
live? Or are there 236MB of objects live?

Thanks,
	Thorsten


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014811.html">[Mono-dev] Memory leaks
</A></li>
	<LI>Next message: <A HREF="014987.html">[Mono-dev] Memory leaks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14841">[ date ]</a>
              <a href="thread.html#14841">[ thread ]</a>
              <a href="subject.html#14841">[ subject ]</a>
              <a href="author.html#14841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
