<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] C++ wrapper ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20C%2B%2B%20wrapper%20%3F&In-Reply-To=33719.10.0.2.253.1125646341.squirrel%40grieg.imaker.no">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014488.html">
   <LINK REL="Next"  HREF="014475.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] C++ wrapper ?</H1>
    <B>William S Fulton</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20C%2B%2B%20wrapper%20%3F&In-Reply-To=33719.10.0.2.253.1125646341.squirrel%40grieg.imaker.no"
       TITLE="[Mono-dev] C++ wrapper ?">wsf at fultondesigns.co.uk
       </A><BR>
    <I>Sun Sep  4 04:17:06 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014488.html">[Mono-dev] C++ wrapper ?
</A></li>
        <LI>Next message: <A HREF="014475.html">[Mono-dev] Re: [Mono-devel-list] TimeStamp support on oracle...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14542">[ date ]</a>
              <a href="thread.html#14542">[ thread ]</a>
              <a href="subject.html#14542">[ subject ]</a>
              <a href="author.html#14542">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ivar at imaker.no</A> wrote:
&gt;<i> Hello,
</I>&gt;<i> If I want to wrap a c++ class library what should I do ?
</I>&gt;<i> For me it seems like I have to do the following:
</I>&gt;<i> 1. Make a ANSI c interface file calling the C++ functions, interfacefile_1
</I>&gt;<i> 2. use csharps DLLImport directive making a wrapper class i csharp,
</I>&gt;<i> interfacefile_2
</I>&gt;<i> 
</I>&gt;<i> But then I have still two problems
</I>&gt;<i> I. A lot of arguments and return values are of C++ std template types,
</I>&gt;<i> like vector, string etc.
</I>&gt;<i> II. I must create the object in c++ before I can start to use it.
</I>&gt;<i> 
</I>&gt;<i> A solution to both I and II is to make a simpler interface in C++ and
</I>&gt;<i> adding a init function whichs creates the original object when called,
</I>&gt;<i> interfacefile_3
</I>&gt;<i> ?
</I>&gt;<i> 
</I>&gt;<i> So then the call stack looks like:
</I>&gt;<i> C++ class I want to use
</I>&gt;<i> C++ wrapper to simplify arguments, and to add a functrion for creation of
</I>&gt;<i> original class
</I>&gt;<i> c wrapper to become compatible with the c# DLL import directive
</I>&gt;<i> a c# wrapper using DLL import
</I>&gt;<i> 
</I>&gt;<i> I know it is possible to skip c wrapper file and using the callnames of
</I>&gt;<i> c++,  but since this is not compiler independent I prefer not to do it
</I>&gt;<i> this way.
</I>&gt;<i> 
</I>&gt;<i> So my question is: Is there no easier way to interface to c++ code ?
</I>&gt;<i> Had it only been one class I think I could have used swig, but I don&#230;t see
</I>&gt;<i> how I can use swig when I have many C++ classes.
</I>
I use SWIG to wrap hundreds of classes, SWIG comes into its own when 
wrapping many C++ classes as it does all the repetitive code generation 
for you and has support for std::string and std::vector. When wrapping 
one or two small classes, I'd argue it would be easier to do this by 
hand than get familiar with SWIG. If you need any help wrapping more 
than one class, please ask on the SWIG mailing list 
(<A HREF="http://www.swig.org/mail.html">http://www.swig.org/mail.html</A>) or take a look at the examples shipped 
with SWIG.

William

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014488.html">[Mono-dev] C++ wrapper ?
</A></li>
	<LI>Next message: <A HREF="014475.html">[Mono-dev] Re: [Mono-devel-list] TimeStamp support on oracle...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14542">[ date ]</a>
              <a href="thread.html#14542">[ thread ]</a>
              <a href="subject.html#14542">[ subject ]</a>
              <a href="author.html#14542">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
