<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono.Posix.dll and FxCop
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono.Posix.dll%20and%20FxCop&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014989.html">
   <LINK REL="Next"  HREF="014759.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono.Posix.dll and FxCop</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono.Posix.dll%20and%20FxCop&In-Reply-To="
       TITLE="[Mono-dev] Mono.Posix.dll and FxCop">jonpryor at vt.edu
       </A><BR>
    <I>Tue Sep 13 18:43:26 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014989.html">[Mono-dev] Mono 1.1.9 broken DataGrid
</A></li>
        <LI>Next message: <A HREF="014759.html">[Mono-dev] libgnomesharpglue error MonoDevelop 0.7 on Mac OSX 10.4	Tiger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14758">[ date ]</a>
              <a href="thread.html#14758">[ thread ]</a>
              <a href="subject.html#14758">[ subject ]</a>
              <a href="author.html#14758">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I recently ran FxCop [1] over Mono.Posix.dll to check for class 
library guideline adherence.  As could be expected, there were 
several thousand issues found (2627 to be exact; the complete FxCop 
error report is attached).

Many of these are not reasonable to follow in Mono.Posix.dll, such as
PascalCased members (deliberately ignored for Mono.Unix.Syscall, 
Mono.Unix.Stdlib, and every enumeration that needs to interop with 
unmanaged code).  Others I'm not so sure about, and thus would like 
a second opinion.

In short, should we care about FxCop violations at all in 
Mono.Posix.dll (and potentially other Mono-native assemblies)?  
If so, which issues?

The short list of potentially controversial FxCop issues in 
Mono.Posix.dll is this:

  - Anything implementing IDisposable should derive from 
    System.MarshalByRefObject.  This is for remoting situations 
    (e.g. across AppDomains).  
    Impacts FilePosition, UnixClient, UnixListener.

  - [Flags]-attributed enums should be plural.  Impacts AccessMode 
    and MmapProt.  I'm inclined to make such a change by [Obsoleting]
    the previous enums and Syscall methods, allowing people a few
    months to migrate before removing them in 1.2 final.
  
  - UnixGroupInfo.Members -- properties shouldn't return arrays, as 
    apparently it's inefficient.  Is this something to worry about?  
    If so, should I replace the Members property with a GetMembers() 
    method?

  - (Most controversial, probably) Should Mono.Unix.Error be renamed 
    to Mono.Unix.Errno?  Error is apparently a reserved word which 
    shouldn't be used for CLS compatibility.
  
Keep in mind that while some of these are potentially breaking
changes, the Mono.Unix API is deliberately unstable (until 1.2) for
precisely this reason, as things may need to change for consistency.

Thanks,
 - Jon

[1] <A HREF="http://www.gotdotnet.com/team/fxcop/">http://www.gotdotnet.com/team/fxcop/</A>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Mono.Posix FxCop Violations.xml.gz
Type: application/x-gzip
Size: 42718 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050913/4b9c6a0b/attachment.gz">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050913/4b9c6a0b/attachment.gz</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014989.html">[Mono-dev] Mono 1.1.9 broken DataGrid
</A></li>
	<LI>Next message: <A HREF="014759.html">[Mono-dev] libgnomesharpglue error MonoDevelop 0.7 on Mac OSX 10.4	Tiger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14758">[ date ]</a>
              <a href="thread.html#14758">[ thread ]</a>
              <a href="subject.html#14758">[ subject ]</a>
              <a href="author.html#14758">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
