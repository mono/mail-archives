<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20%5BPATCH%5D%20Make%20sure%20mkbundle%20executables%20work%20if%20they%20are%0A%20run%20from%20a%20path%20on%20the%20PATH%20environment%20variable.&In-Reply-To=%3CCAFLMc5uJruvTkm6m2nEE_dpuM9qF2QVPJjp4mD4-cjR_XPhYBw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   <LINK REL="Next"  HREF="044553.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.</H1>
    <B>R Zaghi</B> 
    <A HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20%5BPATCH%5D%20Make%20sure%20mkbundle%20executables%20work%20if%20they%20are%0A%20run%20from%20a%20path%20on%20the%20PATH%20environment%20variable.&In-Reply-To=%3CCAFLMc5uJruvTkm6m2nEE_dpuM9qF2QVPJjp4mD4-cjR_XPhYBw%40mail.gmail.com%3E"
       TITLE="[Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.">rzaghi at mosaic3dx.com
       </A><BR>
    <I>Fri Dec  1 19:12:39 UTC 2017</I>
    <P><UL>
        
        <LI>Next message (by thread): <A HREF="044553.html">[Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44552">[ date ]</a>
              <a href="thread.html#44552">[ thread ]</a>
              <a href="subject.html#44552">[ subject ]</a>
              <a href="author.html#44552">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a patch to enable mkbundle executable files to work when they are
run from a path that is on the PATH environment variable.

Mono mini has a function probe_embedded() which looks for the program's
file (using argv[0]). If the program is run from a path on the PATH
environment variable then the open() fails and only a single parameter is
sent to the mono_main() which in turn causes an if condition to print the
help and exit.

This patch searches through the directories specified in the current
environment's PATH variable and tries to open() then first file found.

Apologies if this is not the right way to submit patches but I had a quick
look at the contribution page online and my understanding is that I must
send a patch this to the community with the most likely or relevant
owner(s) on the CC.

Please let me know if I need to do anything else to push this (change
log!?).


Thanks



Ramin Zaghi

*Mosaic3DXâ„¢ | User Interface Technology*
St John's Innovation Centre,
Cowley Road,
Cambridge,
CB4 0WS, UK
*E*: <A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">rzaghi at mosaic3dx.com</A>
*T*: +44 1223 421 311
<A HREF="http://linkedin.com/in/raminzaghi">http://linkedin.com/in/raminzaghi</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-devel-list/attachments/20171201/3ea3c784/attachment.html">http://lists.dot.net/pipermail/mono-devel-list/attachments/20171201/3ea3c784/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-Make-sure-mkbundle-executables-work-if-they-are-run-.patch
Type: text/x-patch
Size: 2871 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-devel-list/attachments/20171201/3ea3c784/attachment.bin">http://lists.dot.net/pipermail/mono-devel-list/attachments/20171201/3ea3c784/attachment.bin</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message (by thread): <A HREF="044553.html">[Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44552">[ date ]</a>
              <a href="thread.html#44552">[ thread ]</a>
              <a href="subject.html#44552">[ subject ]</a>
              <a href="author.html#44552">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
