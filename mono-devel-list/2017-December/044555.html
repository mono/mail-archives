<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20%5BPATCH%5D%20Make%20sure%20mkbundle%20executables%20work%20if%20they%0A%20are%20run%20from%20a%20path%20on%20the%20PATH%20environment%20variable.&In-Reply-To=%3C76996AC1-23BD-438A-B163-5FC484F09DE1%40microsoft.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="044556.html">
   <LINK REL="Next"  HREF="044557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20%5BPATCH%5D%20Make%20sure%20mkbundle%20executables%20work%20if%20they%0A%20are%20run%20from%20a%20path%20on%20the%20PATH%20environment%20variable.&In-Reply-To=%3C76996AC1-23BD-438A-B163-5FC484F09DE1%40microsoft.com%3E"
       TITLE="[Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.">miguel at microsoft.com
       </A><BR>
    <I>Fri Dec  1 19:20:37 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="044556.html">[Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.
</A></li>
        <LI>Next message (by thread): <A HREF="044557.html">[Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44555">[ date ]</a>
              <a href="thread.html#44555">[ thread ]</a>
              <a href="subject.html#44555">[ subject ]</a>
              <a href="author.html#44555">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The patch looks great, as you work to submitting it via GitHub, can you make sure that you keep the exitsing code style for braces as well?

Miguel.

From: R Zaghi &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">rzaghi at mosaic3dx.com</A>&gt;
Reply-To: &quot;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">rzaghi at mosaic3dx.com</A>&quot; &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">rzaghi at mosaic3dx.com</A>&gt;
Date: Friday, December 1, 2017 at 2:12 PM
To: Mono Devel Mailing List &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">mono-devel-list at lists.dot.net</A>&gt;
Cc: Miguel de Icaza &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">miguel at microsoft.com</A>&gt;, Zoltan Varga &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">vargaz at gmail.com</A>&gt;
Subject: [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.

This is a patch to enable mkbundle executable files to work when they are run from a path that is on the PATH environment variable.

Mono mini has a function probe_embedded() which looks for the program's file (using argv[0]). If the program is run from a path on the PATH environment variable then the open() fails and only a single parameter is sent to the mono_main() which in turn causes an if condition to print the help and exit.

This patch searches through the directories specified in the current environment's PATH variable and tries to open() then first file found.

Apologies if this is not the right way to submit patches but I had a quick look at the contribution page online and my understanding is that I must send a patch this to the community with the most likely or relevant owner(s) on the CC.

Please let me know if I need to do anything else to push this (change log!?).


Thanks



Ramin Zaghi

[<A HREF="https://drive.google.com/uc?id=0B3xiwa7kf1uwRlYxenBFM1o2NEk&amp;export=download">https://drive.google.com/uc?id=0B3xiwa7kf1uwRlYxenBFM1o2NEk&amp;export=download</A>]Mosaic3DXâ„¢ | User Interface Technology
St John's Innovation Centre,
Cowley Road,
Cambridge,
CB4 0WS, UK
E: <A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">rzaghi at mosaic3dx.com</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">rzaghi at mosaic3dx.com</A>&gt;
T: +44 1223 421 311
<A HREF="http://linkedin.com/in/raminzaghi&lt;https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Flinkedin.com%2Fin%2Framinzaghi&amp;data=02%7C01%7Cmiguel%40microsoft.com%7C5a055fb67e4e41ddc29608d538ef8150%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636477523678663881&amp;sdata=XP4%2F51CxIMV13HjMarhw7dCtyS5A7na7BhkL8E2LrK8%3D&amp;reserved=0">http://linkedin.com/in/raminzaghi&lt;https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Flinkedin.com%2Fin%2Framinzaghi&amp;data=02%7C01%7Cmiguel%40microsoft.com%7C5a055fb67e4e41ddc29608d538ef8150%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636477523678663881&amp;sdata=XP4%2F51CxIMV13HjMarhw7dCtyS5A7na7BhkL8E2LrK8%3D&amp;reserved=0</A>&gt;


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-devel-list/attachments/20171201/adf4dec5/attachment-0001.html">http://lists.dot.net/pipermail/mono-devel-list/attachments/20171201/adf4dec5/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="044556.html">[Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.
</A></li>
	<LI>Next message (by thread): <A HREF="044557.html">[Mono-dev] [PATCH] Make sure mkbundle executables work if they are run from a path on the PATH environment variable.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44555">[ date ]</a>
              <a href="thread.html#44555">[ thread ]</a>
              <a href="subject.html#44555">[ subject ]</a>
              <a href="author.html#44555">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
