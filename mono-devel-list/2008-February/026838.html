<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] gmcs crashing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20gmcs%20crashing&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026937.html">
   <LINK REL="Next"  HREF="026839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] gmcs crashing</H1>
    <B>Arno Rehn</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20gmcs%20crashing&In-Reply-To="
       TITLE="[Mono-dev] gmcs crashing">mono-devel at arnorehn.de
       </A><BR>
    <I>Wed Feb  6 14:07:44 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026937.html">[Mono-dev] [Mono-osx] [Mono-list] Announcing: Mono.framework	1.2.6_6
</A></li>
        <LI>Next message: <A HREF="026839.html">[Mono-dev] gmcs crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26838">[ date ]</a>
              <a href="thread.html#26838">[ thread ]</a>
              <a href="subject.html#26838">[ subject ]</a>
              <a href="author.html#26838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

when I try to compile the KDE-Mono bindings, gmcs crashes with the following:

$ /opt/mono-1.9/bin/mono --debug /opt/mono-1.9/lib/mono/2.0/gmcs.exe -r:/usr/lib/mono/2.0/qt-dotnet.dll 
*.cs -warn:0

Unhandled Exception: System.NullReferenceException: Object reference not set 
to an instance of an object
  at Mono.CSharp.MemberCache.AddInterface (Mono.CSharp.MemberCache baseCache) 
[0x00000] in /data1/src/mono/mcs/mcs/decl.cs:1832
  at Mono.CSharp.TypeContainer.DoDefineMembers () [0x000c2] 
in /data1/src/mono/mcs/mcs/class.cs:1591
  at Mono.CSharp.TypeContainer.DefineMembers () [0x0001f] 
in /data1/src/mono/mcs/mcs/class.cs:1565
  at Mono.CSharp.RootContext.PopulateTypes () [0x0006e] 
in /data1/src/mono/mcs/mcs/rootcontext.cs:516
  at Mono.CSharp.Driver.MainDriver (System.String[] args) [0x004de] 
in /data1/src/mono/mcs/mcs/driver.cs:1718
  at Mono.CSharp.Driver.Main (System.String[] args) [0x0001f] 
in /data1/src/mono/mcs/mcs/driver.cs:295

I'm sorry but I can't provide more information or an actual test case at the 
moment, since the KDE classes are quite large and numerous and tracking it 
down would take much too long.
The patch attached fixes this bug, though I don't know if it's only the 
symptoms being fixed.
Is there any way to get more debug output from gmcs, i.e. which class it's 
currently processing?

-- 
Arno Rehn
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">arno at arnorehn.de</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: decl.cs.patch
Type: text/x-diff
Size: 365 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080206/be6538b7/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080206/be6538b7/attachment.bin</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026937.html">[Mono-dev] [Mono-osx] [Mono-list] Announcing: Mono.framework	1.2.6_6
</A></li>
	<LI>Next message: <A HREF="026839.html">[Mono-dev] gmcs crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26838">[ date ]</a>
              <a href="thread.html#26838">[ thread ]</a>
              <a href="subject.html#26838">[ subject ]</a>
              <a href="author.html#26838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
