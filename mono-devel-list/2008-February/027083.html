<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Resource Issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Resource%20Issue&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027082.html">
   <LINK REL="Next"  HREF="027084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Resource Issue</H1>
    <B>Jonathan Pobst</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Resource%20Issue&In-Reply-To="
       TITLE="[Mono-dev] Resource Issue">monkey at jpobst.com
       </A><BR>
    <I>Fri Feb 29 18:45:08 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027082.html">[Mono-dev] Mono embedding on win32
</A></li>
        <LI>Next message: <A HREF="027084.html">[Mono-dev] Resource Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27083">[ date ]</a>
              <a href="thread.html#27083">[ thread ]</a>
              <a href="subject.html#27083">[ subject ]</a>
              <a href="author.html#27083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I hate to just dump my project here, but I am having trouble making a 
standalone test case out of this.  It causes an exception when I compile 
in MonoDevelop and try to run on opensuse 10.3.

For my pet project XmppApplication:
svn checkout <A HREF="http://xmppapplication.googlecode.com/svn/trunk/">http://xmppapplication.googlecode.com/svn/trunk/</A> 
xmppapplication

Compile on .net, runs on .net correctly.
Compile on .net, runs on opensuse 10.3 mono 1.9 correctly.
Compile in MD, fails on opensuse 10.3 mono 1.9 runtime with exception below.
Compile in MD, runs on .net correctly.
Compile in MD, runs on winmono 1.9 correctly.

Exception:
Unhandled Exception: System.TypeInitializationException: An exception 
was thrown by the type initializer for XmppApplication.Base.XmppImages 
---&gt; System.Reflection.TargetInvocationException: Exception has been 
thrown by the target of an invocation. ---&gt; System.ArgumentException: A 
null reference or invalid value was found [GDI+ status: InvalidParameter]
   at System.Drawing.GDIPlus.CheckStatus (Status status) [0x0009d] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/System.Drawing/System.Drawing/gdipFunctions.cs:219 

   at System.Drawing.Image.InitFromStream (System.IO.Stream stream) 
[0x000be] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/System.Drawing/System.Drawing/Image.cs:298 

   at System.Drawing.Image..ctor 
(System.Runtime.Serialization.SerializationInfo info, StreamingContext 
context) [0x00055] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/System.Drawing/System.Drawing/Image.cs:74 

   at System.Drawing.Bitmap..ctor 
(System.Runtime.Serialization.SerializationInfo info, StreamingContext 
context) [0x00000] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/System.Drawing/System.Drawing/Bitmap.cs:148 

   at (wrapper managed-to-native) 
System.Reflection.MonoCMethod:InternalInvoke (object,object[])
   at System.Reflection.MonoCMethod.Invoke (System.Object obj, 
BindingFlags invokeAttr, System.Reflection.Binder binder, 
System.Object[] parameters, System.Globalization.CultureInfo culture) 
[0x0003f] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Reflection/MonoMethod.cs:404 
--- End of inner exception stack trace ---

   at System.Reflection.MonoCMethod.Invoke (System.Object obj, 
BindingFlags invokeAttr, System.Reflection.Binder binder, 
System.Object[] parameters, System.Globalization.CultureInfo culture) 
[0x00064] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Reflection/MonoMethod.cs:414 

   at System.Reflection.MethodBase.Invoke (System.Object obj, 
System.Object[] parameters) [0x00000] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Reflection/MethodBase.cs:90 

   at System.Runtime.Serialization.ObjectRecord.LoadData 
(System.Runtime.Serialization.ObjectManager manager, ISurrogateSelector 
selector, StreamingContext context) [0x000d7] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Runtime.Serialization/ObjectManager.cs:578 

   at System.Runtime.Serialization.ObjectManager.DoFixups () [0x00069] 
in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Runtime.Serialization/ObjectManager.cs:84 

   at 
System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadNextObject 
(System.IO.BinaryReader reader) [0x0000f] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Runtime.Serialization.Formatters.Binary/ObjectReader.cs:115 

   at 
System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadObjectGraph 
(System.IO.BinaryReader reader, Boolean readHeaders, System.Object&amp; 
result, System.Runtime.Remoting.Messaging.Header[]&amp; headers) [0x00041] 
in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Runtime.Serialization.Formatters.Binary/ObjectReader.cs:105 

   at 
System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.NoCheckDeserialize 
(System.IO.Stream serializationStream, 
System.Runtime.Remoting.Messaging.HeaderHandler handler) [0x00076] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Runtime.Serialization.Formatters.Binary/BinaryFormatter.cs:177 

   at 
System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize 
(System.IO.Stream serializationStream) [0x00000] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Runtime.Serialization.Formatters.Binary/BinaryFormatter.cs:134 

   at System.Resources.ResourceReader.ReadNonPredefinedValue 
(System.Type exp_type) [0x00000] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Resources/ResourceReader.cs:351 

   at System.Resources.ResourceReader.ReadValueVer2 (Int32 type_index) 
[0x001f9] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Resources/ResourceReader.cs:310 

   at System.Resources.ResourceReader.ResourceValue (Int32 index) 
[0x00092] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Resources/ResourceReader.cs:394 

   at System.Resources.ResourceReader+ResourceEnumerator.get_Value () 
[0x00032] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Resources/ResourceReader.cs:603 

   at System.Resources.ResourceSet.ReadResources () [0x00043] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Resources/ResourceSet.cs:208 

   at System.Resources.ResourceSet.GetObject (System.String name, 
Boolean ignoreCase) [0x00032] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Resources/ResourceSet.cs:163 

   at System.Resources.ResourceManager.GetObject (System.String name, 
System.Globalization.CultureInfo culture) [0x00038] in 
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/corlib/System.Resources/ResourceManager.cs:186 

   at XmppApplication.Base.Properties.Resources.get_DefaultAvatar () 
[0x00000] in 
/home/jpobst/Desktop/XmppApplication/XmppApplication.Base/Properties/Resources.Designer.cs:79 

   at XmppApplication.Base.XmppImages..cctor () [0x00000] --- End of 
inner exception stack trace ---

   at (wrapper remoting-invoke-with-check) XmppApplication.MainForm:.ctor ()
   at XmppApplication.Program.Main () [0x0000b] in 
/home/jpobst/Desktop/XmppApplication/XmppApplication/Program.cs:44


Anyone have a clue as to what is wrong or how I can make a simple test 
case?  Every attempt I have made to make a simple case from scratch 
works just fine in MD.

Thanks!
Jonathan
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027082.html">[Mono-dev] Mono embedding on win32
</A></li>
	<LI>Next message: <A HREF="027084.html">[Mono-dev] Resource Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27083">[ date ]</a>
              <a href="thread.html#27083">[ thread ]</a>
              <a href="subject.html#27083">[ subject ]</a>
              <a href="author.html#27083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
