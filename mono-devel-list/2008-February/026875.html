<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Determining tray location (replacement for	SHAppBarMessage and ABM_GETTASKBARPOS)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Determining%20tray%20location%20%28replacement%20for%0A%09SHAppBarMessage%20and%20ABM_GETTASKBARPOS%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026914.html">
   <LINK REL="Next"  HREF="026903.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Determining tray location (replacement for	SHAppBarMessage and ABM_GETTASKBARPOS)</H1>
    <B>Leszek Ciesielski</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Determining%20tray%20location%20%28replacement%20for%0A%09SHAppBarMessage%20and%20ABM_GETTASKBARPOS%29&In-Reply-To="
       TITLE="[Mono-dev] Determining tray location (replacement for	SHAppBarMessage and ABM_GETTASKBARPOS)">skolima at gmail.com
       </A><BR>
    <I>Sat Feb  9 15:07:09 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026914.html">[Mono-dev] Instalation of mono on Debian Etch
</A></li>
        <LI>Next message: <A HREF="026903.html">[Mono-dev]  Create linux installer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26875">[ date ]</a>
              <a href="thread.html#26875">[ thread ]</a>
              <a href="subject.html#26875">[ subject ]</a>
              <a href="author.html#26875">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

does anyone know how to determine the placement of task bar /
application tray location using pure managed code? Application I am
porting paints it's own custom tooltips for it's tray icon, they are
quite large, so SHAppBarMessage has been used to determine the
direction in which the tooltip can expand. It seems that Mono's
NotifyIcon uses ThemeEngine.Current.BalloonWindowRect (this) for help
in placing it's tooltip, but this is an internal method.

If anyone is interested, the code is here:
<A HREF="http://evemon.battleclinic.com:8000/trac/browser/EVEMon/trunk/TrayIcon.cs">http://evemon.battleclinic.com:8000/trac/browser/EVEMon/trunk/TrayIcon.cs</A>
and the previous, unreliable, managed version we used is here:
<A HREF="http://evemon.battleclinic.com:8000/trac/browser/EVEMon/trunk/TrayIcon.cs?rev=1150">http://evemon.battleclinic.com:8000/trac/browser/EVEMon/trunk/TrayIcon.cs?rev=1150</A>

Regards,

Leszek 'skolima' Ciesielski

-- 
MS-DOS user since 5.0
Windows user since 3.11
Linux user since kernel 2.4
Novell Netware user since 2.2
WARCRAFT user since 1.0
</PRE>















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026914.html">[Mono-dev] Instalation of mono on Debian Etch
</A></li>
	<LI>Next message: <A HREF="026903.html">[Mono-dev]  Create linux installer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26875">[ date ]</a>
              <a href="thread.html#26875">[ thread ]</a>
              <a href="subject.html#26875">[ subject ]</a>
              <a href="author.html#26875">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
