<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] FULL-AOT problem in SUSE 11.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20FULL-AOT%20problem%20in%20SUSE%2011.2&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037533.html">
   <LINK REL="Next"  HREF="037541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] FULL-AOT problem in SUSE 11.2</H1>
    <B>huseyin cakir</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20FULL-AOT%20problem%20in%20SUSE%2011.2&In-Reply-To="
       TITLE="[Mono-dev] FULL-AOT problem in SUSE 11.2">huseyin.cakir35 at gmail.com
       </A><BR>
    <I>Sat May  7 14:14:02 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037533.html">[Mono-dev] Adding AES-NI support
</A></li>
        <LI>Next message: <A HREF="037541.html">[Mono-dev] FULL-AOT problem in SUSE 11.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37540">[ date ]</a>
              <a href="thread.html#37540">[ thread ]</a>
              <a href="subject.html#37540">[ subject ]</a>
              <a href="author.html#37540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, we have a problem in full-aot is it possible that someone help about
the problem we have? There are no problems in aot but we dont see any
performance improvements with aot so we tried full aot.

*For the first step we full-aot all libraries with a bash like this:*

#!/bin/bash
mono --aot=full /usr/lib/mono/1.0/mscorlib.dll
mono --aot=full /usr/lib/mono/2.0/mscorlib.dll
for i in /usr/lib/mono/gac/*/*/*.dll; do mono --aot=full $i; done

*Then in we full-aot our appllication like this:*

mono --aot=full testProject.exe
mono --full-aot testProject.exe

*But we got the error:*

Unhandled Exception: System.TypeInitializationException: An exception was
thrown
by the type initializer for GLib.GType ---&gt; System.ExecutionEngineException:
Attempting to JIT compile method '(wrapper native-to-managed)
GLib.ManagedValue:Copy (intptr)' while running with --aot-only.
  at (wrapper managed-to-native)
object:__icall_wrapper_mono_delegate_to_ftnptr
(object)
  at (wrapper managed-to-native)
GLib.ManagedValue:g_boxed_type_register_static
(intptr,GLib.ManagedValue/CopyFunc,GLib.ManagedValue/FreeFunc)
  at GLib.ManagedValue.get_GType () [0x00000] in &lt;filename unknown&gt;:0
  at GLib.GType.Register (GType native_type, System.Type type) [0x00000] in
&lt;filename unknown&gt;:0
  at GLib.GType..cctor () [0x00000] in &lt;filename unknown&gt;:0
  --- End of inner exception stack trace ---
  at GLib.Value..ctor (System.Object obj) [0x00000] in &lt;filename unknown&gt;:0
  at Gtk.Window..ctor (WindowType type) [0x00000] in &lt;filename unknown&gt;:0
  at MainWindow..ctor () [0x00000] in &lt;filename unknown&gt;:0
  at testProject.MainClass.Main (System.String[] args) [0x00000] in
&lt;filename
unknown&gt;:0
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110507/907e2440/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110507/907e2440/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037533.html">[Mono-dev] Adding AES-NI support
</A></li>
	<LI>Next message: <A HREF="037541.html">[Mono-dev] FULL-AOT problem in SUSE 11.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37540">[ date ]</a>
              <a href="thread.html#37540">[ thread ]</a>
              <a href="subject.html#37540">[ subject ]</a>
              <a href="author.html#37540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
