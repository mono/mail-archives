<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Possible System.Web.UI.UpdatePanel bug
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Possible%20System.Web.UI.UpdatePanel%20bug&In-Reply-To=%3CCALpPJsWBoPoSUBe%3DWQHQZ8ZRVtybYc8yN2dGCDFiomjEXYmQqA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039893.html">
   <LINK REL="Next"  HREF="039897.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Possible System.Web.UI.UpdatePanel bug</H1>
    <B>k0l0b0k</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Possible%20System.Web.UI.UpdatePanel%20bug&In-Reply-To=%3CCALpPJsWBoPoSUBe%3DWQHQZ8ZRVtybYc8yN2dGCDFiomjEXYmQqA%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Possible System.Web.UI.UpdatePanel bug">k0l0b0k.void at gmail.com
       </A><BR>
    <I>Tue Dec  4 07:02:51 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="039893.html">[Mono-dev] Building mono on windows
</A></li>
        <LI>Next message: <A HREF="039897.html">[Mono-dev] Order problem in runtime shutdown flow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39895">[ date ]</a>
              <a href="thread.html#39895">[ thread ]</a>
              <a href="subject.html#39895">[ subject ]</a>
              <a href="author.html#39895">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello. I'm mentioned a weird bug, which ups sometimes by mono people on the
internet, and related to nested UpdatePanels on page.
So, I have a page, and some nested UpdatePanels, contained in some
dynamically loaded UserControls. On the most child panel I have a button,
which need to be updated on click, but it does not, where as on
Windows/.NET4.0 it does. I've found, that lines ( from 322) in
UpdatePanel.cs:

UpdatePanel parent = ParentPanel;
if (parent != null &amp;&amp; parent.ChildrenAsTriggers)
  writer.Write (sb.ToString ());
else
  ScriptManager.WriteCallbackPanel (responseOutput, this, sb);

of current git trunk. I think that there are additional check required:

if (parent != null &amp;&amp; parent.ChildrenAsTriggers &amp;&amp; parent.RequiresUpdate)

so, push this update panel content to the parent's writer only if it
requires update, coz we lost all output if parent don't need to be updated.
Simple workarround is to turn off ChildrenAsTriggers on parent panel - and
all works fine. What do you think about?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20121204/aca5d24d/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20121204/aca5d24d/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039893.html">[Mono-dev] Building mono on windows
</A></li>
	<LI>Next message: <A HREF="039897.html">[Mono-dev] Order problem in runtime shutdown flow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39895">[ date ]</a>
              <a href="thread.html#39895">[ thread ]</a>
              <a href="subject.html#39895">[ subject ]</a>
              <a href="author.html#39895">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
