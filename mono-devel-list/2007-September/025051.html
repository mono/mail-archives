<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Replicating System.Web.Script.Serialization bugs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Replicating%20System.Web.Script.Serialization%20bugs&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D04701740%40dhost002-45.dex002.intermedia.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025046.html">
   <LINK REL="Next"  HREF="025059.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Replicating System.Web.Script.Serialization bugs</H1>
    <B>Andreia Gaita</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Replicating%20System.Web.Script.Serialization%20bugs&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D04701740%40dhost002-45.dex002.intermedia.net"
       TITLE="[Mono-dev] Replicating System.Web.Script.Serialization bugs">shana.ufie at gmail.com
       </A><BR>
    <I>Tue Sep 25 06:23:04 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025046.html">[Mono-dev] Replicating System.Web.Script.Serialization bugs
</A></li>
        <LI>Next message: <A HREF="025059.html">[Mono-dev] Replicating System.Web.Script.Serialization bugs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25051">[ date ]</a>
              <a href="thread.html#25051">[ thread ]</a>
              <a href="subject.html#25051">[ subject ]</a>
              <a href="author.html#25051">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/25/07, Konstantin Triger &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kostat at mainsoft.com</A>&gt; wrote:
&gt;<i> 1. For value types: since there is no notion of 'null' value (unlike many dymanic languages) it would be very hard to differentiate between the 'default' and deserialized values if they are equal. (If you have a field of type 'Int32' and its value after deserialization is 0, where is it from?!)
</I>
Actually, that problem was solved in the xml deserializer by having it
set a helper property marking whether the value had originated from
the xml or was merely a default one. Also, if javascript is weakly
typed, it doesn't make sense to force initialization of variables if
they are of a certain type, as that concept doesn't apply to it. So,
in theory, this value pair should deserialize correctly.

Of course, all that is moot, since the ms.net deserializer blows up on
it. 99% bug compatibility and all that...
One workaround would be to slightly massage the script prior to
deserialization. A regexp should remedy things, maybe?

&gt;<i> 2. For String type: should {&quot;some_key&quot; : &quot;&quot;} be deserialized to null or empty string?
</I>
Same thing as above - the value should not determine whether something
was deliberately filled in or if it is just at the default value.

andreia gaita

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025046.html">[Mono-dev] Replicating System.Web.Script.Serialization bugs
</A></li>
	<LI>Next message: <A HREF="025059.html">[Mono-dev] Replicating System.Web.Script.Serialization bugs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25051">[ date ]</a>
              <a href="thread.html#25051">[ thread ]</a>
              <a href="subject.html#25051">[ subject ]</a>
              <a href="author.html#25051">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
