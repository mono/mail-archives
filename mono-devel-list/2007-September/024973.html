<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Linq to Sql Start
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Linq%20to%20Sql%20Start&In-Reply-To=88d636060709200830l3eb0b376nb79268d94ef7c679%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025074.html">
   <LINK REL="Next"  HREF="024974.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Linq to Sql Start</H1>
    <B>Kevin Kubasik</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Linq%20to%20Sql%20Start&In-Reply-To=88d636060709200830l3eb0b376nb79268d94ef7c679%40mail.gmail.com"
       TITLE="[Mono-dev] Linq to Sql Start">kevin at kubasik.net
       </A><BR>
    <I>Thu Sep 20 12:46:39 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025074.html">[Mono-dev] run-time errors with core dumped in console database	app
</A></li>
        <LI>Next message: <A HREF="024974.html">[Mono-dev] Linq to Sql Start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24973">[ date ]</a>
              <a href="thread.html#24973">[ thread ]</a>
              <a href="subject.html#24973">[ subject ]</a>
              <a href="author.html#24973">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey, my last e-mail got bounced for size, so if you really want the
zip, or the patch, everything is at
<A HREF="http://kubasik.net/files/olive_patches/">http://kubasik.net/files/olive_patches/</A>

sorry!

On 9/20/07, Kevin Kubasik &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kevin at kubasik.net</A>&gt; wrote:
&gt;<i> Ok, well in addition to the git way:
</I>&gt;<i> git clone <A HREF="http://kubasik.net/git/olive-kkubasik.git">http://kubasik.net/git/olive-kkubasik.git</A>
</I>&gt;<i> git branch --track localbranch origin/linq_kubasik
</I>&gt;<i> git checkout localbranch
</I>&gt;<i>
</I>&gt;<i> or the web interface[1], I have included a plethora of patches. The
</I>&gt;<i> first one (kkubasik-olive....) is a simple diff of my working
</I>&gt;<i> directory against subversion head (or almost, theres the anon delay
</I>&gt;<i> and my lazness, but it should be pretty close). The zip is a patchset
</I>&gt;<i> (the way git wants to do them) with a separate patch for every commit
</I>&gt;<i> I've made to my local repo, probably a pain to actually apply, but
</I>&gt;<i> good if your confused over an odd diff. And lastly the RevLog (or as
</I>&gt;<i> its better known git log --pretty --numstat --summary) I'm working on
</I>&gt;<i> a complete(ish) changelog entry, but its pretty big. (I've been
</I>&gt;<i> nabbing some low-hanging fruit as I go, null checking, API updates
</I>&gt;<i> etc.)
</I>&gt;<i>
</I>&gt;<i> Anyways, the patches will probably be (somewhat) obsolete later this
</I>&gt;<i> evening, as I've just been making headway. That doesn't mean ignore
</I>&gt;<i> them, I need some review of whats going on (things like the
</I>&gt;<i> DummyDataProvider.cs DiffWrapper.cs and DiffTracker.cs specifically)
</I>&gt;<i> also any other codeing habits or the like. I've never worked on
</I>&gt;<i> Classlibs before, and I'm completely open to criticizm, please don't
</I>&gt;<i> be afraid of hurting my feeling, most of this code is experimental, to
</I>&gt;<i> see if I've got everything figured out.
</I>&gt;<i>
</I>&gt;<i> On a separate note, if anyone is checking the web interface, or the
</I>&gt;<i> patches, they might notice the TestSuite is currently lots of
</I>&gt;<i> VisualStudio specific autogenerated code, and a Sql Server 2005
</I>&gt;<i> Express Edition database. Being as that toolchain is the only known
</I>&gt;<i> working implementation (there have been several attempts at MySql
</I>&gt;<i> backends, I have head mixed things, some were just decompilations of
</I>&gt;<i> the Sql Provider components with a few syntax changes, and some where
</I>&gt;<i> from scratch and still buggy.) If there's a frontrunner I'll gladly
</I>&gt;<i> port the tests, however, until then, (especially seeing as we don't
</I>&gt;<i> build or run this library by default atm) I would prefer to shelf the
</I>&gt;<i> overhead associated with making those test's crossplatform. Once we
</I>&gt;<i> have some form of implementation (even something like 20-30%
</I>&gt;<i> functional API compatibility, I can get it integrated with makefiles,
</I>&gt;<i> and using dummy objects for our db backend.
</I>&gt;<i>
</I>&gt;<i> All that said, what is the policy for moving this type of code into
</I>&gt;<i> the repo? Would we just keep the test module separate (maybe as an
</I>&gt;<i> svn:external ?) or something, or is it ok?
</I>&gt;<i>
</I>&gt;<i> Anyways, I hope I'm on the right track here, and actually poised to
</I>&gt;<i> help, and not just be a constant question sinkhole. I know that a lot
</I>&gt;<i> of the full-time mono developers telecommute, is there a good time to
</I>&gt;<i> catch people on the IRC or a Jabber conference room?
</I>&gt;<i>
</I>&gt;<i> Anyways, if anyone gets a chance, let me know what possible potential
</I>&gt;<i> solutions might be with regards to the test suite. Please feel free to
</I>&gt;<i> examine/peruse/molest the other code as well, however most of that is
</I>&gt;<i> placeholders etc. until I can flesh out more helper classes/methods.
</I>&gt;<i>
</I>&gt;<i> Here is the ChangeLog entry I wrote for this lump of patches, even
</I>&gt;<i> though its not really a release or anything.
</I>&gt;<i>
</I>&gt;<i> 2007-09-20 Kevin Kubasik &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">kevin at kubasik.net</A>&gt;
</I>&gt;<i>         * A series of small API Compatability fixes for Beta 2
</I>&gt;<i>         * A Test Project LinqDataTest (Windows Specifict ATM)
</I>&gt;<i>         * The beginnings of a Linq to Sql Test Suite
</I>&gt;<i>         * DataShape.cs -&gt; DataLoadOptions.cs (API Change)
</I>&gt;<i>         * DataContext.cs -&gt; Added missing interfaces and method stubs
</I>&gt;<i>                 * Write and test GetTable()
</I>&gt;<i>                 * Started work on Translate()
</I>&gt;<i>                 * Added missing public Properties
</I>&gt;<i>         * DummyDataService.cs
</I>&gt;<i>                 * Primarily to extend IDataService.cs for testing
</I>&gt;<i>                 * Could potentially become a 'core' implementation
</I>&gt;<i>         * IDataService.cs
</I>&gt;<i>                 * Uncommened interface
</I>&gt;<i>                 * Organized methods by instance-public and everything else
</I>&gt;<i>         * State.cs
</I>&gt;<i>                 * Added a 'ChangeState' enum, as seen in several places on MSDN
</I>&gt;<i>         * Table_T.cs
</I>&gt;<i>                 * Added several missing interfaces
</I>&gt;<i>                 * Method stubs for corresponding methods
</I>&gt;<i>                 * Started work on Add
</I>&gt;<i>                 * Implemented Expression handling
</I>&gt;<i>         * DiffTracker.cs &amp; DiffWrapper.cs
</I>&gt;<i>                 * The backend of Table, will provide access as an IEnumerable
</I>&gt;<i>                 * Allows the sane implementation of SubmitChanges()
</I>&gt;<i>         * ChangeSet.cs
</I>&gt;<i>                 * Working implementation matching docs on MSDN
</I>&gt;<i>         * EntityRef.cs
</I>&gt;<i>                 * BuildFixes when working with Windows
</I>&gt;<i>         * Link_T.cs
</I>&gt;<i>                 * Ported existing elements of implementation to updated API
</I>&gt;<i>         * IExecuteResults.cs &amp; IFunctionResults
</I>&gt;<i>                 * Were mistakenly duplicated originaly, now only one copy of each
</I>&gt;<i>                         lives, in System.Data.Linq
</I>&gt;<i>         * CompiledQuery.cs
</I>&gt;<i>                 * A near-complete implementation - Needs much more testing.
</I>&gt;<i>         * DataQueryProvider.cs
</I>&gt;<i>                 * A skeleton implementation of IQueryProvider, need for the intelligent
</I>&gt;<i>                         handling of DB types
</I>&gt;<i>         * Binary.cs
</I>&gt;<i>                 * Implemented some overrides Equals, ToArray and ToString
</I>&gt;<i>         * In addition, I modified several other files when trying to get the
</I>&gt;<i> net_3_5 profile
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Cheers!
</I>&gt;<i> Kevin Kubasik
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 9/20/07, Marek Safar &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">marek.safar at seznam.cz</A>&gt; wrote:
</I>&gt;<i> &gt; Hi Kevin,
</I>&gt;<i> &gt; &gt; Hey! I've started to get going on some of the System.Data.Linq work,
</I>&gt;<i> &gt; &gt; at the moment, there's not much in terms of real code to show, but
</I>&gt;<i> &gt; &gt; some initial unit tests (my first ever, sorry they're so incomplete)
</I>&gt;<i> &gt; &gt; and API updates (Get the public API more in sync with the current 3.5
</I>&gt;<i> &gt; &gt; Beta 2) and realistic implementation for some of the extension
</I>&gt;<i> &gt; &gt; methods, static methods, and helper style classes. I hope to delve
</I>&gt;<i> &gt; &gt; into Table and DataContext later this week (the real toughies) but
</I>&gt;<i> &gt; &gt; once I 'got' the whole deferred execution thing, this whole system
</I>&gt;<i> &gt; &gt; started to make a lot more sense. (Hence my writing the CompiledQuery
</I>&gt;<i> &gt; &gt; class ;) ).
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; I am happy to hear that you have made good progress.
</I>&gt;<i> &gt; &gt; Anyways, there's too much file movement to do a sane patch, and since
</I>&gt;<i> &gt; &gt; some of the new files aren't properly integrated into the build
</I>&gt;<i> &gt; &gt; system, I don't want to submit a patch, however, as I clean up the
</I>&gt;<i> &gt; &gt; code and make more progress, I'll release a branch later today, once I
</I>&gt;<i> &gt; &gt; finish cloning SVN for a local repo.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; Is it really necessary to clone our SVN?
</I>&gt;<i> &gt; &gt; Anyways, I figured I should drop in some sort of status update, at the
</I>&gt;<i> &gt; &gt; moment, the biggest hurdle for me is getting build systems to play
</I>&gt;<i> &gt; &gt; nice, conceptually, it seems easy enough, just add a makefile event
</I>&gt;<i> &gt; &gt; which outputs the VS projects and solutions. The other thing is I'm
</I>&gt;<i> &gt; &gt; currently using Resharper to run the Nunit tests, and that needs to be
</I>&gt;<i> &gt; &gt; added to the makefiles.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; This should not be hard, MWF guys have some script if you want to
</I>&gt;<i> &gt; automate (.sources -&gt; .csproj) conversion.
</I>&gt;<i> &gt; &gt; Before I get in too deep, whats the policy with ChangeLogs? I'm
</I>&gt;<i> &gt; &gt; assuming some sort of comment/description of changes is required,
</I>&gt;<i> &gt; &gt; however, everyone has their specifics, and I didn't see anything in
</I>&gt;<i> &gt; &gt; the wiki. Moreover, should I be submitting individual patches for each
</I>&gt;<i> &gt; &gt; increment I complete? (for example when I finish integrating my tests
</I>&gt;<i> &gt; &gt; into the build, should I submit that patch or wait until my work is
</I>&gt;<i> &gt; &gt; 'done'. Seeing as the namespace I'm working on isn't really at risk of
</I>&gt;<i> &gt; &gt; 'breaking' I would guess that reasonable benchmarks are ok, I'm open
</I>&gt;<i> &gt; &gt; to whatever. Once I have a public branch of my work up, I'll just
</I>&gt;<i> &gt; &gt; reference that.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; The preferred way is to submit more small patches split by something
</I>&gt;<i> &gt; common which
</I>&gt;<i> &gt; you can describe in ChangeLog. There is not much activity in olive now, but
</I>&gt;<i> &gt; maintaining your changes in the local repository for long time is not
</I>&gt;<i> &gt; good. Anyone can
</I>&gt;<i> &gt; commit changes which you have already made.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks
</I>&gt;<i> &gt; Marek
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> [1] - <A HREF="http://kubasik.net/git/gitweb.cgi?p=olive-kkubasik.git;a=shortlog;h=linq_kubasik">http://kubasik.net/git/gitweb.cgi?p=olive-kkubasik.git;a=shortlog;h=linq_kubasik</A>
</I>&gt;<i> --
</I>&gt;<i> Cheers,
</I>&gt;<i> Kevin Kubasik
</I>&gt;<i> <A HREF="http://kubasik.net/blog">http://kubasik.net/blog</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Cheers,
Kevin Kubasik
<A HREF="http://kubasik.net/blog">http://kubasik.net/blog</A>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: RevLog.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070920/117f823b/attachment.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070920/117f823b/attachment.txt</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025074.html">[Mono-dev] run-time errors with core dumped in console database	app
</A></li>
	<LI>Next message: <A HREF="024974.html">[Mono-dev] Linq to Sql Start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24973">[ date ]</a>
              <a href="thread.html#24973">[ thread ]</a>
              <a href="subject.html#24973">[ subject ]</a>
              <a href="author.html#24973">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
