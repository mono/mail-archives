<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] ask for backport on mono 1.2.5 branch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20ask%20for%20backport%20on%20mono%201.2.5%20branch&In-Reply-To=1188806848.3237.8.camel%40hublinux.fidudev.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024811.html">
   <LINK REL="Next"  HREF="024898.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] ask for backport on mono 1.2.5 branch</H1>
    <B>Hubert FONGARNAND</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20ask%20for%20backport%20on%20mono%201.2.5%20branch&In-Reply-To=1188806848.3237.8.camel%40hublinux.fidudev.fr"
       TITLE="[Mono-dev] ask for backport on mono 1.2.5 branch">informatique.internet at fiducial.fr
       </A><BR>
    <I>Mon Sep  3 04:23:31 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024811.html">[Mono-dev] ask for backport on mono 1.2.5 branch
</A></li>
        <LI>Next message: <A HREF="024898.html">[Mono-dev] ask for backport on mono 1.2.5 branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24812">[ date ]</a>
              <a href="thread.html#24812">[ thread ]</a>
              <a href="subject.html#24812">[ subject ]</a>
              <a href="author.html#24812">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, now i'm sure that the patch that correct the DropDownList viewstate
problem is this one :

<A HREF="http://lists.ximian.com/pipermail/mono-patches/2007-July/097650.html">http://lists.ximian.com/pipermail/mono-patches/2007-July/097650.html</A>

+2007-07-26  Vladimir Krasnov  &lt;vladimirk at mainsoft.com&gt;

+
+	* ListItemCollection.cs: fixed LoadViewState, items restored from
+	viewstate were not saved, fixes bug #82192
+

it's r82779

Thanks in advance



Le lundi 03 septembre 2007 &#195;&#160; 10:07 +0200, informatique internet a
&#195;&#169;crit :

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Ooops after further investigation, it seems that this fix is not
</I>&gt;<i> enough to fix this problem... I'm investigating to find out the
</I>&gt;<i> revision number needed
</I>&gt;<i> 
</I>&gt;<i> Le vendredi 31 ao&#195;&#187;t 2007 &#195;&#160; 15:51 +0200, Robert Jordan a &#195;&#169;crit :
</I>&gt;<i> 
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Hubert FONGARNAND wrote: 
</I>&gt;<i> &gt; &gt; In the actual release, a simple ASP.NET with a ListBox Control
</I>&gt;<i> &gt; don't 
</I>&gt;<i> &gt; &gt; work, viewstate deserialization problem... 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; This problem as been fixed in the trunk by : 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 2007-08-30 Igor Zelmanovich &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">igorz at mainsoft.com</A>&gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;         * ListControl.cs: fixed selected items state management.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; It's r85048:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/pipermail/mono-patches/2007-August/099919.html">http://lists.ximian.com/pipermail/mono-patches/2007-August/099919.html</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Robert
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Could this be backported to the mono 1.2.5 branch? 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Here's a test case for this problem : 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Default.aspx: 
</I>&gt;<i> &gt; &gt; &lt;%@ Page Language=&quot;C#&quot; Inherits=&quot;TestViewState.Default&quot; %&gt; 
</I>&gt;<i> &gt; &gt; &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; 
</I>&gt;<i> &gt; &gt; &quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;</A>&gt; 
</I>&gt;<i> &gt; &gt; &lt;html&gt; 
</I>&gt;<i> &gt; &gt; &lt;head&gt; 
</I>&gt;<i> &gt; &gt;       &lt;title&gt;Default&lt;/title&gt; 
</I>&gt;<i> &gt; &gt; &lt;/head&gt; 
</I>&gt;<i> &gt; &gt; &lt;body&gt; 
</I>&gt;<i> &gt; &gt;       &lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt; 
</I>&gt;<i> &gt; &gt;               &lt;asp:Button id=&quot;button1&quot; runat=&quot;server&quot; /&gt; 
</I>&gt;<i> &gt; &gt;               &lt;asp:ListBox id=&quot;drpSociete&quot; runat=&quot;server&quot;
</I>&gt;<i> &gt; CssClass=&quot;TextBox200&quot; 
</I>&gt;<i> &gt; &gt; Width=&quot;200px&quot; Visible=&quot;True&quot; 
</I>&gt;<i> &gt; &gt;             Rows=&quot;1&quot;&gt;&lt;/asp:ListBox&gt; 
</I>&gt;<i> &gt; &gt;       &lt;/form&gt; 
</I>&gt;<i> &gt; &gt; &lt;/body&gt; 
</I>&gt;<i> &gt; &gt; &lt;/html&gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Default.aspx.cs : 
</I>&gt;<i> &gt; &gt; // Default.aspx.cs created with MonoDevelop 
</I>&gt;<i> &gt; &gt; // User: hubert at 15:02 31/08/2007 
</I>&gt;<i> &gt; &gt; // 
</I>&gt;<i> &gt; &gt; // To change standard headers go to
</I>&gt;<i> &gt; Edit-&gt;Preferences-&gt;Coding-&gt;Standard 
</I>&gt;<i> &gt; &gt; Headers 
</I>&gt;<i> &gt; &gt; // 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; using System; 
</I>&gt;<i> &gt; &gt; using System.Web; 
</I>&gt;<i> &gt; &gt; using System.Web.UI; 
</I>&gt;<i> &gt; &gt; using System.Web.UI.WebControls; 
</I>&gt;<i> &gt; &gt; using System.Data; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; namespace TestViewState 
</I>&gt;<i> &gt; &gt; { 
</I>&gt;<i> &gt; &gt;       
</I>&gt;<i> &gt; &gt;       
</I>&gt;<i> &gt; &gt;       public class Default : Page 
</I>&gt;<i> &gt; &gt;       { 
</I>&gt;<i> &gt; &gt;               protected ListBox drpSociete; 
</I>&gt;<i> &gt; &gt;               
</I>&gt;<i> &gt; &gt;               
</I>&gt;<i> &gt; &gt;               protected override void OnLoad(EventArgs e) 
</I>&gt;<i> &gt; &gt;               { 
</I>&gt;<i> &gt; &gt;                       if (!IsPostBack){ 
</I>&gt;<i> &gt; &gt;                               drpSociete.Items.Add(&quot;bouh&quot;); 
</I>&gt;<i> &gt; &gt;                               drpSociete.Items.Add(&quot;bah&quot;); 
</I>&gt;<i> &gt; &gt;                       } 
</I>&gt;<i> &gt; &gt;               } 
</I>&gt;<i> &gt; &gt;               
</I>&gt;<i> &gt; &gt;               
</I>&gt;<i> &gt; &gt;       } 
</I>&gt;<i> &gt; &gt; } 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Click two times on the button and you'll obtain : 
</I>&gt;<i> &gt; &gt; Server Error in '/' Application 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; ________________________________________________________________________ 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Index is less than 0 or more than or equal to the list count.
</I>&gt;<i> &gt; Parameter 
</I>&gt;<i> &gt; &gt; name: index 0 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Description: Error processing request. 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Error Message: HTTP 500. System.ArgumentOutOfRangeException: Index
</I>&gt;<i> &gt; is 
</I>&gt;<i> &gt; &gt; less than 0 or more than or equal to the list count. Parameter
</I>&gt;<i> &gt; name: 
</I>&gt;<i> &gt; &gt; index 0 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Stack Trace: 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; System.ArgumentOutOfRangeException: Index is less than 0 or more
</I>&gt;<i> &gt; than or equal to the list count. 
</I>&gt;<i> &gt; &gt; Parameter name: index 
</I>&gt;<i> &gt; &gt; 0 
</I>&gt;<i> &gt; &gt;   at System.Collections.ArrayList.get_Item (Int32 index)
</I>&gt;<i> &gt; [0x00000] 
</I>&gt;<i> &gt; &gt;   at System.Web.UI.WebControls.ListItemCollection.get_Item (Int32
</I>&gt;<i> &gt; index) [0x00000] 
</I>&gt;<i> &gt; &gt;   at System.Web.UI.WebControls.ListControl.LoadViewState
</I>&gt;<i> &gt; (System.Object savedState) [0x00000] 
</I>&gt;<i> &gt; &gt;   at System.Web.UI.Control.LoadViewStateRecursive (System.Object
</I>&gt;<i> &gt; savedState) [0x00000] 
</I>&gt;<i> &gt; &gt;   at System.Web.UI.Control.LoadViewStateRecursive (System.Object
</I>&gt;<i> &gt; savedState) [0x00000] 
</I>&gt;<i> &gt; &gt;   at System.Web.UI.Control.LoadViewStateRecursive (System.Object
</I>&gt;<i> &gt; savedState) [0x00000] 
</I>&gt;<i> &gt; &gt;   at System.Web.UI.Page.LoadPageViewState () [0x00000] 
</I>&gt;<i> &gt; &gt;   at System.Web.UI.Page.InternalProcessRequest () [0x00000] 
</I>&gt;<i> &gt; &gt;   at System.Web.UI.Page.ProcessRequest (System.Web.HttpContext
</I>&gt;<i> &gt; context) [0x00000] 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Thanks in advance! 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; _______________________________________________ 
</I>&gt;<i> &gt; &gt; Ce message et les &#195;&#169;ventuels documents joints peuvent contenir des
</I>&gt;<i> &gt; informations confidentielles. 
</I>&gt;<i> &gt; &gt; Au cas o&#195;&#185; il ne vous serait pas destin&#195;&#169;, nous vous remercions de
</I>&gt;<i> &gt; bien vouloir le supprimer et en aviser imm&#195;&#169;diatement l'exp&#195;&#169;diteur.
</I>&gt;<i> &gt; Toute utilisation de ce message non conforme &#195;&#160; sa destination, toute
</I>&gt;<i> &gt; diffusion ou publication, totale ou partielle et quel qu'en soit le
</I>&gt;<i> &gt; moyen est formellement interdite.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; Les communications sur internet n'&#195;&#169;tant pas s&#195;&#169;curis&#195;&#169;es,
</I>&gt;<i> &gt; l'int&#195;&#169;grit&#195;&#169; de ce message n'est pas assur&#195;&#169;e et la soci&#195;&#169;t&#195;&#169; &#195;&#169;mettrice
</I>&gt;<i> &gt; ne peut &#195;&#170;tre tenue pour responsable de son contenu.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; ------------------------------------------------------------------------ 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; _______________________________________________ 
</I>&gt;<i> &gt; &gt; Mono-devel-list mailing list 
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A> 
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; _______________________________________________ 
</I>&gt;<i> &gt; Mono-devel-list mailing list 
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A> 
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Ce message et les ventuels documents joints peuvent contenir des
</I>&gt;<i> informations confidentielles.
</I>&gt;<i> Au cas o il ne vous serait pas destin, nous vous remercions de bien
</I>&gt;<i> vouloir le supprimer et en aviser imm&#225;&#186;&#179;diatement l'expditeur. Toute
</I>&gt;<i> utilisation de ce message non conforme sa destination, toute diffusion
</I>&gt;<i> ou publication, totale ou partielle et quel qu'en soit le moyen est
</I>&gt;<i> formellement interdite.
</I>&gt;<i> Les communications sur internet n'tant pas scurises, l'int&#234;&#188;&#142;grit de
</I>&gt;<i> ce message n'est pas assure et la socit&#234;&#176;&#135; mettrice ne peut tre tenue
</I>&gt;<i> pour responsable de son contenu.
</I>_______________________________________________
Ce message et les &#233;ventuels documents joints peuvent contenir des informations confidentielles.
Au cas o&#249; il ne vous serait pas destin&#233;, nous vous remercions de bien vouloir le supprimer et en aviser imm&#233;diatement l'exp&#233;diteur. Toute utilisation de ce message non conforme &#224; sa destination, toute diffusion ou publication, totale ou partielle et quel qu'en soit le moyen est formellement interdite.
Les communications sur internet n'&#233;tant pas s&#233;curis&#233;es, l'int&#233;grit&#233; de ce message n'est pas assur&#233;e et la soci&#233;t&#233; &#233;mettrice ne peut &#234;tre tenue pour responsable de son contenu.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070903/4d11130e/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070903/4d11130e/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024811.html">[Mono-dev] ask for backport on mono 1.2.5 branch
</A></li>
	<LI>Next message: <A HREF="024898.html">[Mono-dev] ask for backport on mono 1.2.5 branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24812">[ date ]</a>
              <a href="thread.html#24812">[ thread ]</a>
              <a href="subject.html#24812">[ subject ]</a>
              <a href="author.html#24812">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
