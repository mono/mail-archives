<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Big Arrays, Many Changes --- Request for Advice
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Big%20Arrays%2C%20Many%20Changes%20---%20Request%20for%20Advice&In-Reply-To=fbltcj%244hk%241%40sea.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024835.html">
   <LINK REL="Next"  HREF="024861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Big Arrays, Many Changes --- Request for Advice</H1>
    <B>Luis F. Ortiz</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Big%20Arrays%2C%20Many%20Changes%20---%20Request%20for%20Advice&In-Reply-To=fbltcj%244hk%241%40sea.gmane.org"
       TITLE="[Mono-dev] Big Arrays, Many Changes --- Request for Advice">LuisOrtiz at Verizon.Net
       </A><BR>
    <I>Thu Sep  6 07:36:42 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024835.html">[Mono-dev] Big Arrays, Many Changes --- Request for Advice
</A></li>
        <LI>Next message: <A HREF="024861.html">[Mono-dev] Big Arrays, Many Changes --- Request for Advice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24846">[ date ]</a>
              <a href="thread.html#24846">[ thread ]</a>
              <a href="subject.html#24846">[ subject ]</a>
              <a href="author.html#24846">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sep 5, 2007, at 5:37 AM, Robert Jordan wrote:
&gt;<i> Luis F. Ortiz wrote:
</I>&gt;&gt;<i> But at least now there is only one method to change, though I  
</I>&gt;&gt;<i> suspect it
</I>&gt;&gt;<i> will take
</I>&gt;&gt;<i> more than a few minutes for me to get the SVN version to compile from
</I>&gt;&gt;<i> scratch.
</I>&gt;<i>
</I>&gt;<i> The big array support leads to an API breakage on 64 systems:
</I>&gt;<i>
</I>&gt;<i> Unlike other API structs, MonoArray's internals are publicly exposed
</I>&gt;<i> by macros. Since its &quot;max_length&quot; member has to be extended to 64 bit,
</I>&gt;<i> the ABI will change and all applications using libmono have to be
</I>&gt;<i> recompiled.
</I>&gt;<i>
</I>&gt;<i> IMO, this cannot be done before Mono 2.0, especially when the benefits
</I>&gt;<i> are so tiny, but feel free to provide patches.
</I>
You are quire correct, API breakage is to be avoided, thanks for  
pointing out this issue. I'm not sure what release/branching  
structure is used by the mono project, but I suspect it is a live  
trunk with branches used to record releases.  Thus these changes  
could be set up to work off off a ./configure option (say --with- 
large-objects) which could result something like MONO_LARGE_OBJECTS  
being defined and conditional compiles used while the 1.2.X series is  
being worked on.  That way, the API breakage will be restricted to  
those who want to experiment.  Then, when 2.0.0 is in active  
development, the default condition for the configure switch can be  
flipped to ON and then later, once everyone is comfy with the  
changes, the conditional code can be ripped out.

--Luis




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024835.html">[Mono-dev] Big Arrays, Many Changes --- Request for Advice
</A></li>
	<LI>Next message: <A HREF="024861.html">[Mono-dev] Big Arrays, Many Changes --- Request for Advice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24846">[ date ]</a>
              <a href="thread.html#24846">[ thread ]</a>
              <a href="subject.html#24846">[ subject ]</a>
              <a href="author.html#24846">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
