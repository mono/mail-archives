<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Tests for System.DirectoryServices
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Tests%20for%20System.DirectoryServices&In-Reply-To=42B58EBF.9080400%40mainsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012640.html">
   <LINK REL="Next"  HREF="012665.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Tests for System.DirectoryServices</H1>
    <B>S&#233;bastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Tests%20for%20System.DirectoryServices&In-Reply-To=42B58EBF.9080400%40mainsoft.com"
       TITLE="[Mono-devel-list] Tests for System.DirectoryServices">spouliot at videotron.ca
       </A><BR>
    <I>Mon Jun 20 07:37:44 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012640.html">[Mono-devel-list] Tests for System.DirectoryServices
</A></li>
        <LI>Next message: <A HREF="012665.html">[Mono-devel-list] Tests for System.DirectoryServices
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12660">[ date ]</a>
              <a href="thread.html#12660">[ thread ]</a>
              <a href="subject.html#12660">[ subject ]</a>
              <a href="author.html#12660">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Boris,

[As far as I'm concerned] as long as any user (without an LDAP server) can
&quot;make run-test&quot; in the System.DirectoryServices directory without seeing any
errors (e.g. running a subset of the tests) and without any big performance
impacty (e.g. multiple timeouts) then I have no problem with it.

Sebastien Pouliot
home: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">spouliot at videotron.ca</A>
blog: <A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>


&gt;<i> -----Original Message-----
</I>&gt;<i> From: Boris Kirzner [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">borisk at mainsoft.com</A>]
</I>&gt;<i> Sent: 19 juin 2005 11:27
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">spouliot at videotron.ca</A>
</I>&gt;<i> Cc: kostat &gt;&gt; Konstantin Triger; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-devel-list] Tests for System.DirectoryServices
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello S&#233;bastien,
</I>&gt;<i> I've finished implementing the default ldap server feature (currently
</I>&gt;<i> waiting for devlist approval) and I've also made an example for defining
</I>&gt;<i> default ldap server configuration.(attached are an example file and the
</I>&gt;<i> proposed patch for the case you missed my mail to the devlist).
</I>&gt;<i>
</I>&gt;<i> The main point if the change is: if user does not specifies a path of an
</I>&gt;<i> entry, the entry should point to default ldap server on the network
</I>&gt;<i> (actually, to default naming context of the default ldap server). The
</I>&gt;<i> default naming context can be retrieved from the server rootDse entry,
</I>&gt;<i> so the only information we need to provide a desired functionality is a
</I>&gt;<i> default ldap server host and port.
</I>&gt;<i>
</I>&gt;<i> User does not have to provide his own configuration: the default
</I>&gt;<i> configuration (absence of user configuration file) means &quot;use
</I>&gt;<i> localhost:389&quot;. User _can_ overwrite this with his own values using app
</I>&gt;<i> config or machine config.
</I>&gt;<i>
</I>&gt;<i> Is the &quot;root&quot; System.DirectoryServices is the best place to place an
</I>&gt;<i> example and the explanation file?
</I>&gt;<i> Should also user configuration file reside there (since, for example,
</I>&gt;<i> the tests run by default in this directory).
</I>&gt;<i>
</I>&gt;<i> The second point is that DirectoryServices tests require environment
</I>&gt;<i> variable of (some, not necessary the default) ldap server to run on.
</I>&gt;<i> So, the tests logic can possibly be: if no environment variable present,
</I>&gt;<i> test prints warning message and silently passes(or, maybe, fails?). If
</I>&gt;<i> someone wants to run this tests, he should define both environment
</I>&gt;<i> variable and a user configuration file (or configure the host running
</I>&gt;<i> these tests to act also as a default ldap server)
</I>&gt;<i>
</I>&gt;<i> What do you think about this?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Boris
</I>&gt;<i>
</I>&gt;<i> S&#233;bastien Pouliot wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;Hello Boris,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;I understand that use of machine.config or app.config is far from ideal,
</I>&gt;<i> &gt;&gt;but at least it can provide us with a basic solution.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;When things gets too complicated people quit. I don't think many
</I>&gt;<i> people are
</I>&gt;<i> &gt;gonna be runned the LDAP tests but I wouldn't want to discourage
</I>&gt;<i> anyone. So
</I>&gt;<i> &gt;the easier the better ;-)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Why don't keep the environment variable (very simple) and point it to a
</I>&gt;<i> &gt;configuration file (XML or plain ASCII) ?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;That would mean:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;* that, by default, all non-network tests in System.DirectoryServices.dll
</I>&gt;<i> &gt;will be executed (here I'm thinking about the few permissions
</I>&gt;<i> tests already
</I>&gt;<i> &gt;present _and_ future CAS tests);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;* it would be possible to check into SVN a configuration sample file that
</I>&gt;<i> &gt;any user can copy (so it won't get in conflict with SVN) and edit;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;* it would be possible to have multiple configuration files, e.g. if you
</I>&gt;<i> &gt;want to test against different LDAP servers (machine or software);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;* all configuration could be done in a single place whatever the
</I>&gt;<i> &gt;runtime/version you are using.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;Do you think there is a better way to provide a &quot;default&quot; behavior,
</I>&gt;<i> &gt;&gt;either at DirectoryServices or Ldap level, such that it will be easily
</I>&gt;<i> &gt;&gt;configured for each client application?
</I>&gt;<i> &gt;&gt;The trivial solution - default is &quot;<A HREF="LDAP://localhost:389&quot;,">LDAP://localhost:389&quot;,</A> does not looks
</I>&gt;<i> &gt;&gt;satisfactory and, in addition, does not provides a solution for
</I>&gt;<i> base dsn.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Without a valid configuration file I would simply ignore all tests
</I>&gt;<i> &gt;(requiring a server). This is similar to what I'm doing for the
</I>&gt;<i> CAS tests.
</I>&gt;<i> &gt;If someone doesn't exclude them (default for &quot;make run-test&quot;) and doesn't
</I>&gt;<i> &gt;supply --security to the mono runtime, then they are all ignore
</I>&gt;<i> (and nicely
</I>&gt;<i> &gt;nunit still shows them as ignored when they aren't excluded).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Sebastien Pouliot
</I>&gt;<i> &gt;home: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">spouliot at videotron.ca</A>
</I>&gt;<i> &gt;blog: <A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Boris Kirzner
</I>&gt;<i> Mainsoft Corporation
</I>&gt;<i> <A HREF="http://www.mainsoft.com">http://www.mainsoft.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012640.html">[Mono-devel-list] Tests for System.DirectoryServices
</A></li>
	<LI>Next message: <A HREF="012665.html">[Mono-devel-list] Tests for System.DirectoryServices
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12660">[ date ]</a>
              <a href="thread.html#12660">[ thread ]</a>
              <a href="subject.html#12660">[ subject ]</a>
              <a href="author.html#12660">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
