<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Fwd: [Mono-devel-list] Re: System.Xml patch]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BFwd%3A%20%5BMono-devel-list%5D%20Re%3A%20System.Xml%20patch%5D&In-Reply-To=42BFBBDA.7010900%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012865.html">
   <LINK REL="Next"  HREF="012870.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Fwd: [Mono-devel-list] Re: System.Xml patch]</H1>
    <B>Andrew Skiba</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BFwd%3A%20%5BMono-devel-list%5D%20Re%3A%20System.Xml%20patch%5D&In-Reply-To=42BFBBDA.7010900%40ximian.com"
       TITLE="[Fwd: [Mono-devel-list] Re: System.Xml patch]">andrews at mainsoft.com
       </A><BR>
    <I>Mon Jun 27 05:17:49 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012865.html">[Fwd: [Mono-devel-list] Re: System.Xml patch]
</A></li>
        <LI>Next message: <A HREF="012870.html">[Fwd: [Mono-devel-list] Re: System.Xml patch]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12869">[ date ]</a>
              <a href="thread.html#12869">[ thread ]</a>
              <a href="subject.html#12869">[ subject ]</a>
              <a href="author.html#12869">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Atsushi Eno wrote:
&gt;<i> Please go ahead as I wrote before ;-)
</I>Ugh, I said you I miss sometimes messages from devlist. Sorry for 
inconvenience.

&gt;<i> This patch looks fine. Let's check it in svn.
</I>&gt;<i> 
</I>&gt;<i> I'll apply the patch attached after your commit.
</I>
Actually, you don't have to add this nunit test (I am talking about 
EntityDeclarationNotWF ). It already exists in W3C, it's id is valid-sa-086.

&gt;<i> What does this mean? I guess you have in mind that there are cases that
</I>&gt;<i> entities could be used inside attributes, but attribute content check
</I>&gt;<i> is less prohibiting and '&lt;' characters are checked anyways.
</I>
Not only in attributes. One of the tests went through the following flow:
DTD had entity declaration pointing to external xml, which had in turn 
it's own DTD. It is in valid-sa-100 test. So what happened is because 
current implementation makes early evaluation, it read the external 
source and failed because the context was Element, and Element can't 
have DTDs. So here we have a coincident of 2 things: early evaluation 
and Element context. So I understood that it's not always might be in 
Element context.

&gt;<i> 
</I>&gt;<i> (BTW we won't understand what &quot;-AS&quot; means there ;-)
</I>
svn blame will help curious hackers ;-) but if it's not acceptable, I'll 
remove it.

&gt;<i> 
</I>&gt;<i> Besides the comment itself.
</I>&gt;<i> 
</I>&gt;<i> In fact I also don't like that part of code. Actually, though
</I>&gt;<i> replacing entities with a simple string is good for performance
</I>&gt;<i> as compared to such code that loads entity possibly from external
</I>&gt;<i> files every time, it causes incorrect BaseURI resolution (that
</I>&gt;<i> results in incorrect not-wf error for XHTML 1.1 DTD; bug #51495).
</I>&gt;<i> 
</I>&gt;<i> So, basically rewriting that entity expansion part is the best
</I>&gt;<i> solution. But I haven't tried that since it will not be done as a
</I>&gt;<i> quick hack and it will first result in several breakage in
</I>&gt;<i> standalone tests.
</I>
That's why I made this patch very carefully, to make minimal impact. I 
don't have plans to improve this code right now.

Cheers,
Andrew.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012865.html">[Fwd: [Mono-devel-list] Re: System.Xml patch]
</A></li>
	<LI>Next message: <A HREF="012870.html">[Fwd: [Mono-devel-list] Re: System.Xml patch]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12869">[ date ]</a>
              <a href="thread.html#12869">[ thread ]</a>
              <a href="subject.html#12869">[ subject ]</a>
              <a href="author.html#12869">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
