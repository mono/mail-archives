<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: test not-wf-sa-030
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20test%20not-wf-sa-030&In-Reply-To=42B03DA2.9050606%40mainsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012558.html">
   <LINK REL="Next"  HREF="012579.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: test not-wf-sa-030</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20test%20not-wf-sa-030&In-Reply-To=42B03DA2.9050606%40mainsoft.com"
       TITLE="[Mono-devel-list] Re: test not-wf-sa-030">atsushi at ximian.com
       </A><BR>
    <I>Wed Jun 15 11:38:40 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012558.html">[Mono-devel-list] test not-wf-sa-030
</A></li>
        <LI>Next message: <A HREF="012579.html">[Mono-devel-list] Re: test not-wf-sa-030
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12565">[ date ]</a>
              <a href="thread.html#12565">[ thread ]</a>
              <a href="subject.html#12565">[ subject ]</a>
              <a href="author.html#12565">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Note that XmlTextReader does not check validity of characters
by default. It is not checked unless Normalization property is
set to true. You will see what happens to the results if you set
Normalization = true in your xmlconf.cs.

(Yes, that is bad design of XmlTextReader. Daniel Veillard
pointed out that nearly 3 years ago:
<A HREF="http://www.advogato.org/person/DV/diary.html?start=129">http://www.advogato.org/person/DV/diary.html?start=129</A> )

Atsushi Eno

Andrew Skiba wrote:
&gt;<i> Hi!
</I>&gt;<i> 
</I>&gt;<i> It seems that r35085 broke the test in subj. The test is not well 
</I>&gt;<i> formed, that is an XML parser is required to throw an exception. To save 
</I>&gt;<i> your time, this is the change I'm talking about (you can svn diff 
</I>&gt;<i> -r35084:35085 as well):
</I>&gt;<i> 
</I>&gt;<i> Index: XmlTextReader.cs
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- XmlTextReader.cs    (revision 45937)
</I>&gt;<i> +++ XmlTextReader.cs    (working copy)
</I>&gt;<i> @@ -1515,7 +1515,7 @@
</I>&gt;<i>                          AppendValueChar ('\n');
</I>&gt;<i>                      // and in case of &quot;\r\n&quot;, discard '\r'.
</I>&gt;<i>                  } else {
</I>&gt;<i> -                    if (CharacterChecking &amp;&amp; XmlChar.IsInvalid (ch))
</I>&gt;<i> +                    if (XmlChar.IsInvalid (ch))
</I>&gt;<i>                          throw NotWFError (&quot;Not allowed character was 
</I>&gt;<i> found.&quot;);
</I>&gt;<i>                      ch = ReadChar ();
</I>&gt;<i>                  }
</I>&gt;<i> 
</I>&gt;<i> and this is the testcase:
</I>&gt;<i> 
</I>&gt;<i> &lt;doc&gt;A form feed () is not legal in data&lt;/doc&gt;
</I>&gt;<i> 
</I>&gt;<i> The character in parenthesis is Form Feed (0xC) - illegal in XML documents.
</I>&gt;<i> 
</I>&gt;<i> Thank you,
</I>&gt;<i> Andrew.
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012558.html">[Mono-devel-list] test not-wf-sa-030
</A></li>
	<LI>Next message: <A HREF="012579.html">[Mono-devel-list] Re: test not-wf-sa-030
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12565">[ date ]</a>
              <a href="thread.html#12565">[ thread ]</a>
              <a href="subject.html#12565">[ subject ]</a>
              <a href="author.html#12565">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
