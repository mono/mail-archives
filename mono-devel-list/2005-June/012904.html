<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Detecting Unicode strings
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Detecting%20Unicode%20strings&In-Reply-To=ea977f560506280714cfdb4cd%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012902.html">
   <LINK REL="Next"  HREF="012915.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Detecting Unicode strings</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Detecting%20Unicode%20strings&In-Reply-To=ea977f560506280714cfdb4cd%40mail.gmail.com"
       TITLE="[Mono-devel-list] Detecting Unicode strings">monoman at gmail.com
       </A><BR>
    <I>Tue Jun 28 11:07:16 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012902.html">[Mono-devel-list] Detecting Unicode strings
</A></li>
        <LI>Next message: <A HREF="012915.html">[Mono-devel-list] [PATCH] System.Activator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12904">[ date ]</a>
              <a href="thread.html#12904">[ thread ]</a>
              <a href="subject.html#12904">[ subject ]</a>
              <a href="author.html#12904">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Aleksandar,

Are you meaning Unicode (16-bit wide chars [in truth UTF-16, as
Unicode is 32bit nowadays]) or UTF-8 (8-bit multibyte encoding of
Unicode chars)?

The wide char encodings (UCS-2, UTF-16, UCs-4) are easily spotted by
the large number of zeroed bytes in the stream for texts in western
languages like english or portuguese. but things get harder with
eastern texts.

UTF-8 has some specific byte-combinations that are valid, and so you
can look for invalid ones to guess it is not encoded in UTF-8, but for
english texts those byte-combinations are very rare to make it
reliable.

Google for &quot;BOM Byte Order Marker&quot; to see another (non-standard) way
to look at it.

Any of those method are just playing guess nad should be applied with
care. The correct way is to have the source text correctly identified
with what encoding it is using, like xml for instance mandates (utf-8
is the default).

HIH,

On 6/28/05, Aleksandar Dezelin &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">dezelin at gmail.com</A>&gt; wrote:
&gt;<i> How can I detect if the string is a Unicode string at runtime?
</I>&gt;<i>  
</I>&gt;<i>  cheers,
</I>&gt;<i>  Aleksandar Dezelin
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Linux is like wighwam, no windows no gates and apache inside... 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>

-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
I'm trying to become a &quot;Rosh Gadol&quot; before my own eyes. 
See <A HREF="http://www.joelonsoftware.com/items/2004/12/06.html">http://www.joelonsoftware.com/items/2004/12/06.html</A> for enlightment.
It hurts!

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012902.html">[Mono-devel-list] Detecting Unicode strings
</A></li>
	<LI>Next message: <A HREF="012915.html">[Mono-devel-list] [PATCH] System.Activator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12904">[ date ]</a>
              <a href="thread.html#12904">[ thread ]</a>
              <a href="subject.html#12904">[ subject ]</a>
              <a href="author.html#12904">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
