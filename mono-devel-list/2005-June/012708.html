<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: Find Object instance that called a method..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Find%20Object%20instance%20that%20called%20a%20method..&In-Reply-To=s2b87b95.062%40lucius.provo.novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012703.html">
   <LINK REL="Next"  HREF="012707.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: Find Object instance that called a method..</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20Find%20Object%20instance%20that%20called%20a%20method..&In-Reply-To=s2b87b95.062%40lucius.provo.novell.com"
       TITLE="[Mono-devel-list] Re: Find Object instance that called a method..">robertj at gmx.net
       </A><BR>
    <I>Wed Jun 22 04:57:36 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012703.html">[Mono-devel-list] Find Object instance that called a	method..
</A></li>
        <LI>Next message: <A HREF="012707.html">[Mono-devel-list] Re: [Mono-patches] r46353 -	trunk/mcs/class/System.XML/System.Xml
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12708">[ date ]</a>
              <a href="thread.html#12708">[ thread ]</a>
              <a href="subject.html#12708">[ subject ]</a>
              <a href="author.html#12708">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>S Umadevi wrote:

&gt;<i> I guess I phrased my question too simplicitly...:(
</I>&gt;<i> Anyway I found my answer with System.Diagonistics.StackFrame.
</I>
StackFrame will not provide you the object *instance*
of the caller, just the its MethodInfo and so its class.

BTW, you're calling for big trouble because methods often
get inlined at runtime. It this case the StackFrame will
omit the method and your code will probably break.
This happens reliably on MSFT's runtime in RELEASE mode
wenn runing the code w/out a debugger attached.
I suspect that Mono behaves similar.

Rob

&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> uma
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i>Micha(B&#179; Ziemski &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">rook at roo.k.pl</A>&gt; 06/21/05 2:53 PM &gt;&gt;&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>Hi,
</I>&gt;&gt;<i>Is there a mechanism to figure out the object instance that called a
</I>&gt;&gt;<i>method..
</I>&gt;&gt;<i>Ex.
</I>&gt;&gt;<i>class A {
</I>&gt;&gt;<i>           
</I>&gt;&gt;<i>public  void m1()
</I>&gt;&gt;<i>{
</I>&gt;&gt;<i> //some code..
</I>&gt;&gt;<i>}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Class B {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> private m2()
</I>&gt;&gt;<i>{
</I>&gt;&gt;<i>  A aa = new A();
</I>&gt;&gt;<i>   aa.m1();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>}
</I>&gt;&gt;<i>}
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>From method m1 in class A is it possible for me to figure out the
</I>&gt;&gt;<i>object instance aa?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> Use &quot;this&quot; keyword (I hope this is what you are asking for).
</I>&gt;<i> 
</I>&gt;<i> public void m1() {
</I>&gt;<i>     this.ToString();
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> Regards!
</I>&gt;<i> Michal Ziemski
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A> 
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012703.html">[Mono-devel-list] Find Object instance that called a	method..
</A></li>
	<LI>Next message: <A HREF="012707.html">[Mono-devel-list] Re: [Mono-patches] r46353 -	trunk/mcs/class/System.XML/System.Xml
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12708">[ date ]</a>
              <a href="thread.html#12708">[ thread ]</a>
              <a href="subject.html#12708">[ subject ]</a>
              <a href="author.html#12708">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
