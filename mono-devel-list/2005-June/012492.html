<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] System.Web/System.Web.Mail - patch (code	synchronization between Mono and Mainsoft)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Web/System.Web.Mail%20-%20patch%20%28code%0A%09synchronization%20between%20Mono%20and%20Mainsoft%29&In-Reply-To=42AD81DA.1020508%40mainsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012485.html">
   <LINK REL="Next"  HREF="012378.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] System.Web/System.Web.Mail - patch (code	synchronization between Mono and Mainsoft)</H1>
    <B>Ilya Kharmatsky</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Web/System.Web.Mail%20-%20patch%20%28code%0A%09synchronization%20between%20Mono%20and%20Mainsoft%29&In-Reply-To=42AD81DA.1020508%40mainsoft.com"
       TITLE="[Mono-devel-list] System.Web/System.Web.Mail - patch (code	synchronization between Mono and Mainsoft)">ilyak at mainsoft.com
       </A><BR>
    <I>Mon Jun 13 12:59:30 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012485.html">[Mono-devel-list] System.Web/System.Web.Mail - patch (code	synchronization between Mono and Mainsoft)
</A></li>
        <LI>Next message: <A HREF="012378.html">[Mono-devel-list] System.Web/System.Web.SessionState - patch (code synchronization between Mono and Mainsoft)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12492">[ date ]</a>
              <a href="thread.html#12492">[ thread ]</a>
              <a href="subject.html#12492">[ subject ]</a>
              <a href="author.html#12492">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I don't think so. Our general policy is to throw proper .Net exception, 
instead
of java exception in case when it needed by API, however in case when .Net
is not define any exception - we prefer to throw java exception - this 
may be
more useful for user in order to understand and solve the problem.
(For example you will not put at any line of code try/catch of 
java.lang.RuntimeException, java.lang.Error etc. - this in order to pop 
up more
&quot;beautiful&quot; exception). I really don't understand why it &quot;would be 
better&quot; to throw
SocketException in this case.


Ilya.


Konstantin Triger wrote:

&gt;<i> Agreed, but anyway, throwing SocketException would be better than 
</I>&gt;<i> UnknownHostException &lt;/jdk142/api/java/net/UnknownHostException.html&gt;.
</I>&gt;<i> You can also suppress the exception and pass &quot;localhost&quot; instead.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Konstantin Triger
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Ilya Kharmatsky wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> In this case there is no &quot;appropriate&quot; throw. May be I'm wrong, but
</I>&gt;&gt;<i> in .Net code there is no exception in this method.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Konstantin Triger wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi Ilya,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> It's worth to wrap the
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &quot;java.net.InetAddress address = java.net.InetAddress.getLocalHost();&quot;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> with an appropriate try/catch/throw, otherwise a Java exception 
</I>&gt;&gt;&gt;<i> would be thrown to the user.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Regards,
</I>&gt;&gt;&gt;<i> Konstantin Triger
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Ilya Kharmatsky wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Please review the patch.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;&gt;<i> Ilya.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> ------------------------------------------------------------------------ 
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Index: ChangeLog
</I>&gt;&gt;&gt;&gt;<i> ===================================================================
</I>&gt;&gt;&gt;&gt;<i> --- ChangeLog    (revision 45568)
</I>&gt;&gt;&gt;&gt;<i> +++ ChangeLog    (working copy)
</I>&gt;&gt;&gt;&gt;<i> @@ -1,3 +1,9 @@
</I>&gt;&gt;&gt;&gt;<i> +2005-06-08 Ilya Kharmatsky &lt;ilyak-at-mainsoft.com&gt;
</I>&gt;&gt;&gt;&gt;<i> +
</I>&gt;&gt;&gt;&gt;<i> +    * SmtpMail.cs: Added TARGET_JVM directive in Send method,
</I>&gt;&gt;&gt;&gt;<i> +    where we will use in J2EE configuration the &quot;native&quot; java
</I>&gt;&gt;&gt;&gt;<i> +    support for obtaining the network address of localhost.
</I>&gt;&gt;&gt;&gt;<i> +    2005-04-20 Gonzalo Paniagua Javier &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">gonzalo at ximian.com</A>&gt;
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>     * SmtpClient.cs:
</I>&gt;&gt;&gt;&gt;<i> Index: SmtpMail.cs
</I>&gt;&gt;&gt;&gt;<i> ===================================================================
</I>&gt;&gt;&gt;&gt;<i> --- SmtpMail.cs    (revision 45614)
</I>&gt;&gt;&gt;&gt;<i> +++ SmtpMail.cs    (working copy)
</I>&gt;&gt;&gt;&gt;<i> @@ -64,7 +64,17 @@
</I>&gt;&gt;&gt;&gt;<i>             // access to properties and to add some functionality
</I>&gt;&gt;&gt;&gt;<i>             MailMessageWrapper messageWrapper = new 
</I>&gt;&gt;&gt;&gt;<i> MailMessageWrapper( message );
</I>&gt;&gt;&gt;&gt;<i>            +#if TARGET_JVM
</I>&gt;&gt;&gt;&gt;<i> +            string currentSmtpServer = smtpServer;
</I>&gt;&gt;&gt;&gt;<i> +            if (currentSmtpServer == &quot;localhost&quot;)
</I>&gt;&gt;&gt;&gt;<i> +            {
</I>&gt;&gt;&gt;&gt;<i> +                java.net.InetAddress address = 
</I>&gt;&gt;&gt;&gt;<i> java.net.InetAddress.getLocalHost();
</I>&gt;&gt;&gt;&gt;<i> +                currentSmtpServer = address.getHostAddress();
</I>&gt;&gt;&gt;&gt;<i> +            }
</I>&gt;&gt;&gt;&gt;<i> +            SmtpClient smtp = new SmtpClient (currentSmtpServer);
</I>&gt;&gt;&gt;&gt;<i> +#else
</I>&gt;&gt;&gt;&gt;<i>             SmtpClient smtp = new SmtpClient (smtpServer);
</I>&gt;&gt;&gt;&gt;<i> +#endif
</I>&gt;&gt;&gt;&gt;<i>                        smtp.Send (messageWrapper);
</I>&gt;&gt;&gt;&gt;<i>                
</I>&gt;&gt;&gt;&gt;<i> ------------------------------------------------------------------------ 
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050613/ce1440b8/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050613/ce1440b8/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012485.html">[Mono-devel-list] System.Web/System.Web.Mail - patch (code	synchronization between Mono and Mainsoft)
</A></li>
	<LI>Next message: <A HREF="012378.html">[Mono-devel-list] System.Web/System.Web.SessionState - patch (code synchronization between Mono and Mainsoft)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12492">[ date ]</a>
              <a href="thread.html#12492">[ thread ]</a>
              <a href="subject.html#12492">[ subject ]</a>
              <a href="author.html#12492">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
