<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] System.Data.DataSet.ReadXml reimplementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Data.DataSet.ReadXml%20reimplementation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012328.html">
   <LINK REL="Next"  HREF="012324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] System.Data.DataSet.ReadXml reimplementation</H1>
    <B>Boris Kirzner</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Data.DataSet.ReadXml%20reimplementation&In-Reply-To="
       TITLE="[Mono-devel-list] System.Data.DataSet.ReadXml reimplementation">borisk at mainsoft.com
       </A><BR>
    <I>Mon Jun  6 11:00:53 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012328.html">[Mono-devel-list] Assembly.LoadFrom leak
</A></li>
        <LI>Next message: <A HREF="012324.html">[Mono-devel-list] System.Web/System.Web - patch (code synchronization between Mono and Mainsoft)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12322">[ date ]</a>
              <a href="thread.html#12322">[ thread ]</a>
              <a href="subject.html#12322">[ subject ]</a>
              <a href="author.html#12322">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all
We're currently working on reimplementation of DataSet.ReadXml.
The need for this fist raised as a result of xml serialization bugs in 
our System.WebServices testsiute, and supported by the will to provide
more &quot;clean&quot; implementation.

Attached is a diff with current svn version.
The current implementation deals with the task by inspecting some pieces 
of xml while reading it and invoking the corresponding actions (read 
xml, infer schema etc.) if needed. It looks that there is a collection 
of solutions for a lot of private cases (each eliminated by some test) 
threated.
The main idea of new implementation is to loop through the xml reader 
(until we're on the same depth level), collect its attributes and nodes 
into root of xml document, and after _all_ the data is collected - act 
accordingly. The diffgram and schema at first element are threated in 
special manner.

It is still a &quot;work in progress&quot; code, and it has a number of 
regressions : in 
MonoTests.System.Data.DataSetReadXmlTest.TestSimpleDiffXmlAll, 
MonoTests.System.Data.DataSetReadXmlTest.TestSimpleSchemaXmlAll and 
MonoTests.System.Data.DataSetReadXmlTest.SequentialRead2.

What is your opinion about the new implementation?

Once again : this is not a ready patch, so do not apply it on your 
working copy, but on the &quot;standalone&quot; one.

Thanks,
Boris

-- 
Boris Kirzner
Mainsoft Corporation
<A HREF="http://www.mainsoft.com">http://www.mainsoft.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012328.html">[Mono-devel-list] Assembly.LoadFrom leak
</A></li>
	<LI>Next message: <A HREF="012324.html">[Mono-devel-list] System.Web/System.Web - patch (code synchronization between Mono and Mainsoft)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12322">[ date ]</a>
              <a href="thread.html#12322">[ thread ]</a>
              <a href="subject.html#12322">[ subject ]</a>
              <a href="author.html#12322">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
