<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] System.Drawing Tests - image	recognitionsimilarities
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Drawing%20Tests%20-%20image%0A%09recognitionsimilarities&In-Reply-To=1117482213.5925.30.camel%40maki">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012302.html">
   <LINK REL="Next"  HREF="012297.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] System.Drawing Tests - image	recognitionsimilarities</H1>
    <B>RafaelMizrahi</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20System.Drawing%20Tests%20-%20image%0A%09recognitionsimilarities&In-Reply-To=1117482213.5925.30.camel%40maki"
       TITLE="[Mono-devel-list] System.Drawing Tests - image	recognitionsimilarities">rafim at mainsoft.com
       </A><BR>
    <I>Sun Jun  5 12:07:05 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012302.html">[Mono-devel-list] xslttest patch
</A></li>
        <LI>Next message: <A HREF="012297.html">[Mono-devel-list] Re: [Mono-patches] r45441 -	trunk/mcs/class/System.Web/System.Web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12293">[ date ]</a>
              <a href="thread.html#12293">[ thread ]</a>
              <a href="subject.html#12293">[ subject ]</a>
              <a href="author.html#12293">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jordy,
I have a first proposal for automatic testing of System.Drawing:

1. Use W3C SVG conformance test suite test files 
<A HREF="http://www.w3.org/Graphics/SVG/Test">http://www.w3.org/Graphics/SVG/Test</A>

2. Use SVG# library in order to convert SVG files into a picture.
And SharpVectorGraphics (aka SVG#):
<A HREF="http://sourceforge.net/projects/svgdomcsharp">http://sourceforge.net/projects/svgdomcsharp</A>
<A HREF="http://www.gotdotnet.com/workspaces/releases/viewuploads.aspx?id=8bcf7f55-ac">http://www.gotdotnet.com/workspaces/releases/viewuploads.aspx?id=8bcf7f55-ac</A>
4f-4778-9792-37d3e69ecf5c

3. Compare the SVG image with the expected image using MSE.
ImageMagick is also using MSE for image comparison.
<A HREF="http://www.imagemagick.org/script/compare.php">http://www.imagemagick.org/script/compare.php</A>
If MSE is not &quot;fine&quot; enough, we will add more compare algorithms to the
process.

-----------------------------------------
Mizrahi Rafael
Mainsoft SDE/T
-----Original Message-----
From: Jordi Mas [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jordi at ximian.com</A>] 
Sent: Monday, May 30, 2005 10:44 PM
To: RafaelMizrahi
Cc: Oren Gurfinkel; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Subject: Re: [Mono-devel-list] System.Drawing Tests - image
recognitionsimilarities

El dl 30 de 05 del 2005 a les 11:05 +0300, en/na RafaelMizrahi va
escriure:
&gt;<i> Hi Jordi, (and mono devs)
</I>
Hi Rafael.

&gt;<i> Mainsoft wish to invest some effort in testing System.Drawing.
</I>&gt;<i> We wish to enhance the test suite with an image compare component which
</I>will
&gt;<i> compare the difference between the expected .NET image and the mono image.
</I>
&gt;<i> The comparer (which we just started prototyping it) will be customized and
</I>&gt;<i> produce a result according to several algorithms:
</I>&gt;<i> * Prior to compare: format, size, colors, resolution
</I>&gt;<i> * Color - strip boarders; compare histograms to get top colors and areas. 
</I>&gt;<i> * Edge Detect - edge detection, and line generation, compare line lists.
</I>&gt;<i> * Histogram to detect shapes
</I>&gt;<i> * FFT (or cosine transform) of sub-regions or the whole image.
</I>&gt;<i> * Tangent space Vectors
</I>&gt;<i> * I appreciate your inputs?
</I>
We never devoted to much time to create a System.Drawing testing suite,
as a matter of fact that it hast just been included as part of the build
testing procedure very recently.  We appreciate any effort to enhance
the current test suite.

As Ben point out, most of drawing functions test should be validated
manually and then use the value obtained to do regression testing in the
future. I mean, we run the test manually, we make sure that we look as
Microsoft, and then we write the value down and the test use that value
in the future for regression testing. The manual part needs to be done
just once.

Since we are hacking System.Drawing a lot, regression tests have become
more important. Also we depend very heavily on libgdiplus and how future
releases of this library may break things that were testing and working
on the past.

&gt;<i> * Do you recommend on a curtain GPL library?
</I>
My personal preference will be to use the same license that the class
library, but you better check with Miguel.

&gt;<i> * Does anyone have such task in his TODO list?
</I>
Right now, we are focused on finishing Managed.System.Forms and nobody
is looking into enhancing the System.Drawing tests.

If you have any questions, feel free to write to the list or me
directly.

Thanks Rafael,

Jordi,

Note: Just as word of warning: text drawing in libgdiplus does not have
advanced I18N support. Regarding codecs, some of them do not support all
the features that Microsoft does.

-- 
Jordi Mas i Hern&#224;ndez - Mono development team - <A HREF="http://www.mono-project.com">http://www.mono-project.com</A>
Homepage and LiveJournal at <A HREF="http://www.softcatala.org/~jmas">http://www.softcatala.org/~jmas</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012302.html">[Mono-devel-list] xslttest patch
</A></li>
	<LI>Next message: <A HREF="012297.html">[Mono-devel-list] Re: [Mono-patches] r45441 -	trunk/mcs/class/System.Web/System.Web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12293">[ date ]</a>
              <a href="thread.html#12293">[ thread ]</a>
              <a href="subject.html#12293">[ subject ]</a>
              <a href="author.html#12293">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
