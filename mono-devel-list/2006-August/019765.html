<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] bug in System.IO.FileSystemWatcher
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20bug%20in%20System.IO.FileSystemWatcher&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019751.html">
   <LINK REL="Next"  HREF="019777.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] bug in System.IO.FileSystemWatcher</H1>
    <B>brendan powers</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20bug%20in%20System.IO.FileSystemWatcher&In-Reply-To="
       TITLE="[Mono-dev] bug in System.IO.FileSystemWatcher">brendan0powers at gmail.com
       </A><BR>
    <I>Thu Aug 10 15:36:11 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019751.html">[Mono-dev] SqlConnection.GetSchema patch
</A></li>
        <LI>Next message: <A HREF="019777.html">[Mono-dev] ASP.NET 2.0 Application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19765">[ date ]</a>
              <a href="thread.html#19765">[ thread ]</a>
              <a href="subject.html#19765">[ subject ]</a>
              <a href="author.html#19765">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Attached is a diff of mcs/class/System/System.IO/FAMWatcher.cs to fix
a bug in FileSystemWatcher where it would lock up when monitoring
large directories. This Happened wheen
FileSystemWatcher.IncludeSubDirectories was set to true and then
EnableRaisingEvents was set to true. The cause of the bug seems to be
a problem with the kernel(dnotify?). The fix is to add a Thread.Sleep
for 1ms in StartMonitoringDirectory.

Hope this helps.
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: FAMWatcher.cs.diff
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060810/c6d4a423/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060810/c6d4a423/attachment.pl</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019751.html">[Mono-dev] SqlConnection.GetSchema patch
</A></li>
	<LI>Next message: <A HREF="019777.html">[Mono-dev] ASP.NET 2.0 Application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19765">[ date ]</a>
              <a href="thread.html#19765">[ thread ]</a>
              <a href="subject.html#19765">[ subject ]</a>
              <a href="author.html#19765">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
