<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] File System-like storage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20File%20System-like%20storage&In-Reply-To=202901c6cce5%248fe38eb0%247802a8c0%40beardtongue">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020236.html">
   <LINK REL="Next"  HREF="020239.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] File System-like storage</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20File%20System-like%20storage&In-Reply-To=202901c6cce5%248fe38eb0%247802a8c0%40beardtongue"
       TITLE="[Mono-dev] File System-like storage">monoman at gmail.com
       </A><BR>
    <I>Thu Aug 31 09:41:41 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020236.html">[Mono-dev] File System-like storage
</A></li>
        <LI>Next message: <A HREF="020239.html">[Mono-dev] File System-like storage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20237">[ date ]</a>
              <a href="thread.html#20237">[ thread ]</a>
              <a href="subject.html#20237">[ subject ]</a>
              <a href="author.html#20237">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Packed file systems (or any other data representation for that matter)
are good for read-only purposes. Any read-write use will need to
&quot;re-pack&quot; things and will suffer badly, that is why normal file
systems leave &quot;holes&quot; (by allocating fixed-size blocks) and scatter
file contents as a consequence of allocating new space on demand.

You can try to optimize space by using the exact number of bytes a
file-write needs, but you can't avoid scattering the contents.

Even those optimizations aren't good enough to deal with changes in
the middle of the contents of file, specially if the contents will
change in size also. It will degrade in to &quot;erasing&quot;/freeing the
previous &quot;tail&quot; of the file and allocating/writing the new &quot;tail&quot; what
needs the contents of the old tail so unless you can buffer it all on
memory means you can't just overwrite to avoid a &quot;freed&quot; hole.

Well that is basically the description of a journalling file-system,
and you get back where you started.

:|<i>
</I>
On 8/31/06, pablosantosluac &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">pablosantosluac at terra.es</A>&gt; wrote:
&gt;<i> but, can you add files??
</I>&gt;<i>
</I>&gt;<i> I tried with a commercial tool, and setting compression off... was horrible
</I>&gt;<i> for performance inserting data...
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Robert Jordan&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">robertj at gmx.net</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
</I>&gt;<i> Sent: Thursday, August 31, 2006 10:41 AM
</I>&gt;<i> Subject: Re: [Mono-dev] File System-like storage
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; pablosantosluac wrote:
</I>&gt;<i> &gt;&gt; Hi,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Is there any library that can be used to store a file system like
</I>&gt;<i> &gt;&gt; structure
</I>&gt;<i> &gt;&gt; inside only one file? Ok, don't tell me a ZIP file... I already tried and
</I>&gt;<i> &gt;&gt; performance is quite bad (tried with different libraries even)...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Already tried with compression turned off?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; We're using ICSharpCode.SharpZipLib with huge (600MB) uncompressed
</I>&gt;<i> &gt; ZIPs containing a lot of small files. The performance is better
</I>&gt;<i> &gt; than using a true file system.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Robert
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-devel-list mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>

-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
&quot;The reasonable man adapts himself to the world; the unreasonable one
persists in trying to adapt the world to himself. Therefore all
progress depends on the unreasonable man.&quot; George Bernard Shaw

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020236.html">[Mono-dev] File System-like storage
</A></li>
	<LI>Next message: <A HREF="020239.html">[Mono-dev] File System-like storage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20237">[ date ]</a>
              <a href="thread.html#20237">[ thread ]</a>
              <a href="subject.html#20237">[ subject ]</a>
              <a href="author.html#20237">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
