<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Serialization Saga.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Serialization%20Saga.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019741.html">
   <LINK REL="Next"  HREF="019743.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Serialization Saga.</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Serialization%20Saga.&In-Reply-To="
       TITLE="[Mono-dev] Serialization Saga.">kornelpal at gmail.com
       </A><BR>
    <I>Wed Aug  9 13:39:27 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019741.html">[Mono-dev] Serialization Saga.
</A></li>
        <LI>Next message: <A HREF="019743.html">[Mono-dev] ThreadAbortExceptions and Process.Start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19742">[ date ]</a>
              <a href="thread.html#19742">[ thread ]</a>
              <a href="subject.html#19742">[ subject ]</a>
              <a href="author.html#19742">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

corlib.diff2 in bug <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=78594">http://bugzilla.ximian.com/show_bug.cgi?id=78594</A> 
contains some fixes to Robet's patch as well as adding private 
OnDeserializedAttribute support to 1.1. See OnDeserializedAttribute.cs in 
that bug as well.

Note that IDeserializationCallback does the same as OnDeserializedAttribute 
(except that it's an interface so the OnDeserialization method is called 
only once while base class methods marked with OnDeserializedAttribute are 
called as well). This means that OnDeserializedAttribute can be implemented 
safely in 1.1 because formatters will not see any difference. Also means 
that other attributes cannot be implemented. Note that 
IDeserializationCallback should not be used because it is a public 
interface.

I don't think that using __ISerializable is a good idea. Usually we should 
architect our classes to be serialization compatible with MS.NET and using 
OnDeserializedAttribute performance problems like the one explained for 
System.Drawing.Color could be solved because non-serialized field can be 
initialized using OnDeserializedAttribute so no special processing is 
required in property accessors. (Note that anything can be modified/done in 
the method of OnDeserializedAttribute but other uses are less likely to be 
important.)

BTW don't you have any plans to review Robert's patch? (It is required to 
can support serialization compatibility with MS.NET 2.0 even in our class 
library classes.)

Korn&#233;l

----- Original Message ----- 
From: &quot;Miguel de Icaza&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at ximian.com</A>&gt;
To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Sent: Wednesday, August 09, 2006 7:27 PM
Subject: [Mono-dev] Serialization Saga.


&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i>    I have put my thoughts and tried to summarize the state of the art
</I>&gt;<i> here:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.mono-project.com/PlanSerialization">http://www.mono-project.com/PlanSerialization</A>
</I>&gt;<i>
</I>&gt;<i>    Am thorn between the options.
</I>&gt;<i>
</I>&gt;<i> Miguel
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019741.html">[Mono-dev] Serialization Saga.
</A></li>
	<LI>Next message: <A HREF="019743.html">[Mono-dev] ThreadAbortExceptions and Process.Start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19742">[ date ]</a>
              <a href="thread.html#19742">[ thread ]</a>
              <a href="subject.html#19742">[ subject ]</a>
              <a href="author.html#19742">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
