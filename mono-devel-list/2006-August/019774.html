<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] EventLog implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20EventLog%20implementation&In-Reply-To=44DB7BDE.6000603%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019764.html">
   <LINK REL="Next"  HREF="019775.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] EventLog implementation</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20EventLog%20implementation&In-Reply-To=44DB7BDE.6000603%40ximian.com"
       TITLE="[Mono-dev] [PATCH] EventLog implementation">atsushi at ximian.com
       </A><BR>
    <I>Thu Aug 10 23:24:10 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019764.html">[Mono-dev] [PATCH] EventLog implementation
</A></li>
        <LI>Next message: <A HREF="019775.html">[Mono-dev] [PATCH] EventLog implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19774">[ date ]</a>
              <a href="thread.html#19774">[ thread ]</a>
              <a href="subject.html#19774">[ subject ]</a>
              <a href="author.html#19774">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As we talked on #mono yesterday, feel free to commit your changes
that include my local file based implementation (as you rather
wanted, than changing your code after my commit, dunno the reason
though). However it is not the case if you need much more time.

Atsushi Eno

Atsushi Eno wrote:
&gt;<i> Ok, then there is a gap in the premises. After I commit my changes,
</I>&gt;<i> you don't have to wait for me. I can't waste my time on only-win32
</I>&gt;<i> implementation which can be used in theory. I don't deny the value
</I>&gt;<i> of native win32 implementation, but it is totally out of my concern.
</I>&gt;<i> 
</I>&gt;<i> I also don't care any structural changes you would like to make
</I>&gt;<i> in common area, as long as it just works. I even don't think existing
</I>&gt;<i> EventLogEntry.ctor() is good enough since it requires everything at
</I>&gt;<i> construction time (and I guess that it won't meet WindowsAPI
</I>&gt;<i> implementation demand).
</I>&gt;<i> 
</I>&gt;<i> (now I read your next message before sending it as I'm ready to
</I>&gt;<i> commit) You don't have to spend your time to include my code.
</I>&gt;<i> And I don't use XML here and stick to current code (I hate extraneous
</I>&gt;<i> Xmlization ;-)
</I>&gt;<i> 
</I>&gt;<i> Atsushi Eno
</I>&gt;<i> 
</I>&gt;<i> Gert Driesen wrote:
</I>&gt;&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A> [mailto:mono-devel-list-
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bounces at lists.ximian.com</A>] On Behalf Of Atsushi Eno
</I>&gt;&gt;&gt;<i> Sent: donderdag 10 augustus 2006 19:53
</I>&gt;&gt;&gt;<i> To: Gert Driesen
</I>&gt;&gt;&gt;<i> Cc: 'Korn&#233;l P&#225;l'; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i> Subject: Re: [Mono-dev] [PATCH] EventLog implementation
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Just curious, where is my local file implementation which just works?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> If it isn't in your patch, I'll ignore it and commit my patch so that I
</I>&gt;&gt;&gt;<i> don't have to waste customers' time for something unimplemented.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Feel free to improve your implementation after that.
</I>&gt;&gt;<i> I was waiting for (your) approval on this patch (which doesn't necessarily
</I>&gt;&gt;<i> means it has to be committed), and would then look into integrating your
</I>&gt;&gt;<i> local file implementation.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Gert
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Gert Driesen wrote:
</I>&gt;&gt;&gt;&gt;<i> Hi Korn&#233;l and Atsushi,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I've attached a working patch for the new EventLog implementation,
</I>&gt;&gt;&gt;&gt;<i> along with a set of unit tests (that pass on Mono and .NET).
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Right now, reading of event log entries is not implemented for the
</I>&gt;&gt;&gt;&gt;<i> win32 implementation (Korn&#233;l, happen to volunteer for this ?).
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> It's probably not perfect yet, but it should give us a good start.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Gert
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;&gt;&gt;&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.ximian.com</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> [mailto:mono-devel-list- <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bounces at lists.ximian.com</A>] On Behalf Of
</I>&gt;&gt;&gt;&gt;&gt;<i> Korn&#233;l P&#225;l
</I>&gt;&gt;&gt;&gt;&gt;<i> Sent: donderdag 10 augustus 2006 13:03
</I>&gt;&gt;&gt;&gt;&gt;<i> To: Gert Driesen; 'Atsushi Eno'
</I>&gt;&gt;&gt;&gt;&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> Subject: Re: [Mono-dev] local file based EventLog implementation
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> It's clear to me, but we'll need to see how we distribute this file
</I>&gt;&gt;&gt;&gt;&gt;<i> (on
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Windows) and locate it.
</I>&gt;&gt;&gt;&gt;&gt;<i> I think the easiest solution is to put the DLL to the directory of
</I>&gt;&gt;&gt;&gt;&gt;<i> mscorlib.dll. This lets us use different version based on framework
</I>&gt;&gt;&gt;&gt;&gt;<i> version (altough it's not currently required but MS.NET does the
</I>&gt;&gt;&gt;<i> same
</I>&gt;&gt;&gt;&gt;&gt;<i> so may be required in the future) and it's quite easy to locate the
</I>&gt;&gt;&gt;&gt;&gt;<i> directory of mscorlib.dll so the file can be located easily as well.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> However, I haven't yet managed to read entries from the event log.
</I>&gt;&gt;&gt;&gt;&gt;<i> Does
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> anyone have any info on doing this (using C#) ?
</I>&gt;&gt;&gt;&gt;&gt;<i> Using API it's quite easy:
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://windowssdk.msdn.microsoft.com/en-us/library/ms684096.aspx">http://windowssdk.msdn.microsoft.com/en-us/library/ms684096.aspx</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Of course in C# this requires some wrapper code but you should use
</I>&gt;&gt;&gt;&gt;&gt;<i> ReadEventLog.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> If you want to read .evt files directly it may be a bit difficult
</I>&gt;&gt;&gt;&gt;&gt;<i> because the format is barely documented.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I don't know how much rationale it has but if we were using the same
</I>&gt;&gt;&gt;&gt;&gt;<i> .evt format on other OSes it could be fully compatible with Windows.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Korn&#233;l
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019764.html">[Mono-dev] [PATCH] EventLog implementation
</A></li>
	<LI>Next message: <A HREF="019775.html">[Mono-dev] [PATCH] EventLog implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19774">[ date ]</a>
              <a href="thread.html#19774">[ thread ]</a>
              <a href="subject.html#19774">[ subject ]</a>
              <a href="author.html#19774">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
