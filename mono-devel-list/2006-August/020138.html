<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] PPC create domain
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20PPC%20create%20domain&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020137.html">
   <LINK REL="Next"  HREF="020139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] PPC create domain</H1>
    <B>Joachim Ante</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20PPC%20create%20domain&In-Reply-To="
       TITLE="[Mono-dev] PPC create domain">joe at otee.dk
       </A><BR>
    <I>Mon Aug 28 15:32:46 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020137.html">[Mono-dev] PPC create domain
</A></li>
        <LI>Next message: <A HREF="020139.html">[Mono-dev] PPC create domain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20138">[ date ]</a>
              <a href="thread.html#20138">[ thread ]</a>
              <a href="subject.html#20138">[ subject ]</a>
              <a href="author.html#20138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, (Sorry last mail was sent off too early)

I am having a bit of trouble getting domain creation under control on PPC
machines.

Very rarely i am getting this error:

** ERROR **: file mini-ppc.c: line 2329 (handle_thunk): assertion failed:
(pdata.found == 1)
aborting...

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries
used by your application.
=================================================================

Stacktrace:

  at System.AppDomain.InvokeInDomain
(System.AppDomain,System.Reflection.MethodInfo,object,object[]) &lt;0xffffffff&gt;
  at System.AppDomain.InvokeInDomain
(System.AppDomain,System.Reflection.MethodInfo,object,object[]) &lt;0x000bc&gt;
  at System.AppDomain.InvokeInDomain
(System.AppDomain,System.Reflection.MethodInfo,object,object[]) &lt;0x000b8&gt;
  at System.Runtime.Remoting.RemotingServices.GetDomainProxy
(System.AppDomain) &lt;0x000e4&gt;
  at System.AppDomain.CreateDomain
(string,System.Security.Policy.Evidence,System.AppDomainSetup) &lt;0x000f0&gt;
  at System.AppDomain.CreateDomain (string) &lt;0x0001c&gt;
  at UnityEngine.UnityDomainLoad.CreateDomain () &lt;0x000ac&gt;
  at (wrapper runtime-invoke) System.Object.runtime_invoke_void
(object,intptr,intptr,intptr) &lt;0x0005c&gt;



Another issue is we are sometimes running multiple instances of embedded
Mono shared libraries. (They are in a different dylib file thus completely
seperate)

I have a reproducable bug (But of course only in our web player and a test
case with just mono) where I load one mono dylib, create a domain in it,
then load the other mono dylib, create a new domain there, when calling
ExecuteAssembly i get a SIGILL exception.

   System.ExecutionEngineException: SIGILL
  at &lt;0x00000&gt; &lt;unknown method&gt;
  at (wrapper managed-to-native)
System.Object:__icall_wrapper_mono_compile_method (intptr)
  at (wrapper xdomain-invoke) System.AppDomain:ExecuteAssembly (string)
  at (wrapper remoting-invoke-with-check) System.AppDomain:ExecuteAssembly
(string)
  at UnityEngine.UnityDomainLoad.CreateDomain () [0x00000]



Are there any known issues with domains on ppc? Does anyone have an idea why
it would be bad to load mono twice in the same process? (from seperate
dylibs)

Sorry this is not very informative, i am just pretty lost about what is
going. Just want to hear if someone can give me a hint.

Best regards,
Joachim Ante



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020137.html">[Mono-dev] PPC create domain
</A></li>
	<LI>Next message: <A HREF="020139.html">[Mono-dev] PPC create domain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20138">[ date ]</a>
              <a href="thread.html#20138">[ thread ]</a>
              <a href="subject.html#20138">[ subject ]</a>
              <a href="author.html#20138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
