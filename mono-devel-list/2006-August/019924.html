<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Embedded Mono/Program freezes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Embedded%20Mono/Program%20freezes&In-Reply-To=340e8e120608180555r2410b32ch18547dd0fd853905%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019921.html">
   <LINK REL="Next"  HREF="019939.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Embedded Mono/Program freezes</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Embedded%20Mono/Program%20freezes&In-Reply-To=340e8e120608180555r2410b32ch18547dd0fd853905%40mail.gmail.com"
       TITLE="[Mono-dev] Embedded Mono/Program freezes">robertj at gmx.net
       </A><BR>
    <I>Fri Aug 18 09:52:06 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019921.html">[Mono-dev] Embedded Mono/Program freezes
</A></li>
        <LI>Next message: <A HREF="019939.html">[Mono-dev] Embedded Mono/Program freezes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19924">[ date ]</a>
              <a href="thread.html#19924">[ thread ]</a>
              <a href="subject.html#19924">[ subject ]</a>
              <a href="author.html#19924">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

Why do I have to deduce from other of your posts what you're
trying to do? :-) Please try to be more detailed.

I understand you have a server app which embeds mono (under Windows)
and which sometimes acts as a *WebService client*.
At least I can deduce this from the trace and from your previous mails.

Now to the bug: Web servers usually deny more then 2 open
connections from a specific client. Since your server
acts on behalf of its clients, you're probably somehow
reaching the limit.

Robert

Janne Rantala wrote:
&gt;<i> Hi everyone!
</I>&gt;<i> 
</I>&gt;<i> We have client-server application where Mono is embedded on server
</I>&gt;<i> side, and the idea is that clients can create and run Mono programs
</I>&gt;<i> there. Any calls from unmanaged code to managed is handled with
</I>&gt;<i> mono_runtime_exec_managed_code, and before that mono_thread_attach()
</I>&gt;<i> is called.
</I>&gt;<i> 
</I>&gt;<i> I've run simple web service for testing purposes and everything works
</I>&gt;<i> fine at first run, but when I try to run same program, it just
</I>&gt;<i> freezes.
</I>&gt;<i> It doesn't matter if I run it second time from same client or
</I>&gt;<i> completely different. Some debug messages from assembly is printed but
</I>&gt;<i> when web service is supposed to start nothing happens. At the end of
</I>&gt;<i> this mail is last of the verbose messages I got out.
</I>&gt;<i> 
</I>&gt;<i> And if I remove that web service call, both clients work ok. They
</I>&gt;<i> don't do much but still everything that is supposed to.
</I>&gt;<i> 
</I>&gt;<i> Is this web service issue or something else?
</I>&gt;<i> 
</I>&gt;<i> Help is much appreciated!
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> Janne
</I>&gt;<i> 
</I>&gt;<i> Method System.Net.ServicePoint:get_AvailableForRecycling  () emitted at 06325ED0
</I>&gt;<i> to 06325FB2 (code length 226) [WSTest.exe]
</I>&gt;<i> Method System.Net.ServicePoint:get_CurrentConnections () emitted at 06325FB8 to
</I>&gt;<i> 06326004 (code length 76) [WSTest.exe]
</I>&gt;<i> Method System.Net.ServicePoint:get_IdleSince  () emitted at 06326008 to 0632608E
</I>&gt;<i> (code length 134) [WSTest.exe]
</I>&gt;<i> Method System.DateTime:AddMilliseconds (double) emitted at 06326090 to 06326197
</I>&gt;<i> (code length 263) [WSTest.exe]
</I>&gt;<i> Method System.WeakReference:get_Target  () emitted at 06326198 to 063261AF (code
</I>&gt;<i> length 23) [WSTest.exe]
</I>&gt;<i> Method System.Runtime.InteropServices.GCHandle:get_Target () emitted at 063261C0
</I>&gt;<i>  to 063261D0 (code length 16) [WSTest.exe]
</I>&gt;<i> Method (wrapper managed-to-native)
</I>&gt;<i> System.Runtime.InteropServices.GCHandle:GetTa
</I>&gt;<i> rget (int) emitted at 063261E8 to 0632623E (code length 86) [WSTest.exe]
</I>&gt;<i> Method System.Net.WebConnection:get_Busy () emitted at 06326240 to 06326299 (cod
</I>&gt;<i> e length 89) [ WSTest.exe]
</I>&gt;<i> Method System.Net.Sockets.Socket:get_Connected () emitted at 063262A0 to 063262A
</I>&gt;<i> C (code length 12) [WSTest.exe]
</I>&gt;<i> Method System.Net.WebConnection:CanReuse () emitted at 063262B0 to 063262E6 (cod
</I>&gt;<i> e length 54) [ WSTest.exe]
</I>&gt;<i> Method System.Net.Sockets.Socket:Poll (int,System.Net.Sockets.SelectMode) emitte
</I>&gt;<i> d at 063262F8 to 063263F8 (code length 256) [WSTest.exe]
</I>&gt;<i> Method (wrapper managed-to-native)
</I>&gt;<i> System.Net.Sockets.Socket:Poll_internal  (intp
</I>&gt;<i> tr,System.Net.Sockets.SelectMode,int,int&amp;) emitted at 06326410 to 0632647E (code
</I>&gt;<i>  length 110) [WSTest.exe]
</I>&gt;<i> Method System.Net.WebConnection:CompleteChunkedRead () emitted at 06326480 to 06
</I>&gt;<i> 32650A (code length 138) [ WSTest.exe]
</I>&gt;<i> Method System.Version:op_LessThan (System.Version,System.Version) emitted at 063
</I>&gt;<i> 26520 to 06326545 (code length 37) [WSTest.exe]
</I>&gt;<i> Method System.Version:CompareTo (System.Version) emitted at 06326548
</I>&gt;<i> to 06326602
</I>&gt;<i>  (code length 186) [WSTest.exe]
</I>&gt;<i> Method SocketAsyncResult:get_AsyncWaitHandle () emitted at 06326608 to 06326678
</I>&gt;<i> (code length 112) [WSTest.exe]
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019921.html">[Mono-dev] Embedded Mono/Program freezes
</A></li>
	<LI>Next message: <A HREF="019939.html">[Mono-dev] Embedded Mono/Program freezes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19924">[ date ]</a>
              <a href="thread.html#19924">[ thread ]</a>
              <a href="subject.html#19924">[ subject ]</a>
              <a href="author.html#19924">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
