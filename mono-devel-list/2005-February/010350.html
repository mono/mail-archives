<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] P/Invoke and DLLs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20P/Invoke%20and%20DLLs&In-Reply-To=601BBB4D9640CB4693A2384E4B37872E018C3E39%40dell2650-0550.kgi.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010348.html">
   <LINK REL="Next"  HREF="010349.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] P/Invoke and DLLs</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20P/Invoke%20and%20DLLs&In-Reply-To=601BBB4D9640CB4693A2384E4B37872E018C3E39%40dell2650-0550.kgi.edu"
       TITLE="[Mono-devel-list] P/Invoke and DLLs">jonpryor at vt.edu
       </A><BR>
    <I>Tue Feb  8 20:30:17 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010348.html">[Mono-devel-list] P/Invoke and DLLs
</A></li>
        <LI>Next message: <A HREF="010349.html">[Mono-devel-list] monodevelop &amp; mac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10350">[ date ]</a>
              <a href="thread.html#10350">[ thread ]</a>
              <a href="subject.html#10350">[ subject ]</a>
              <a href="author.html#10350">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2005-02-08 at 13:54 -0800, Frank Bergmann wrote:
&gt;<i> Under Win32 I had to make these callbacks _stdcall, otherwise the .NET
</I>&gt;<i> application would terminate after calling the callback because some
</I>&gt;<i> stack values could not be saved. So under non-Windows platforms this
</I>&gt;<i> won't happen?
</I>
Correct.  The calling convention of callback functions is supposed to be
the same as the platform's default calling convention.  Since most of
Win32 is StdCall, that is the default, even though the default calling
convention for C code is Cdecl.  Go figure.

Since the default calling convention for Unix is Cdecl, callback
functions should also be Cdecl.

The one exception to this is Mono on Windows.  Mono expects Cdecl
functions when it should expect StdCall functions.  I'm not sure when
this will be fixed.

 - Jon



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010348.html">[Mono-devel-list] P/Invoke and DLLs
</A></li>
	<LI>Next message: <A HREF="010349.html">[Mono-devel-list] monodevelop &amp; mac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10350">[ date ]</a>
              <a href="thread.html#10350">[ thread ]</a>
              <a href="subject.html#10350">[ subject ]</a>
              <a href="author.html#10350">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
