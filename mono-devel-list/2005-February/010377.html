<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] Allocate the first set of io-layer handles in .bss
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Allocate%20the%20first%20set%20of%20io-layer%20handles%20in%20.bss&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010376.html">
   <LINK REL="Next"  HREF="010383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] Allocate the first set of io-layer handles in .bss</H1>
    <B>Ben Maurer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Allocate%20the%20first%20set%20of%20io-layer%20handles%20in%20.bss&In-Reply-To="
       TITLE="[Mono-devel-list] [PATCH] Allocate the first set of io-layer handles in .bss">bmaurer at ximian.com
       </A><BR>
    <I>Wed Feb  9 23:46:53 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010376.html">[Mono-devel-list] Problem with compilation on Windows XP
</A></li>
        <LI>Next message: <A HREF="010383.html">[Mono-devel-list] Re: not-so-good patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10377">[ date ]</a>
              <a href="thread.html#10377">[ thread ]</a>
              <a href="subject.html#10377">[ subject ]</a>
              <a href="author.html#10377">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey guys,

I noticed that io-layer malloc's 80 some kb of ram on startup. Since
this is not big enough to merit malloc using mmap (how's that for
alliteration!) the 80 kb gets committed to real memory, and counted as
part of rss.

This patch fixes up the problem by allocating it as part of the .bss
section. It seems to reduce the rss size according to ps by about the
right amount.

-- Ben
-------------- next part --------------
A non-text attachment was scrubbed...
Name: io-layer-bss-handle-list.patch
Type: text/x-patch
Size: 516 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050209/833f21b2/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050209/833f21b2/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010376.html">[Mono-devel-list] Problem with compilation on Windows XP
</A></li>
	<LI>Next message: <A HREF="010383.html">[Mono-devel-list] Re: not-so-good patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10377">[ date ]</a>
              <a href="thread.html#10377">[ thread ]</a>
              <a href="subject.html#10377">[ subject ]</a>
              <a href="author.html#10377">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
