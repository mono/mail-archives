<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] SDL on mac os x: has anyone managed it yet?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SDL%20on%20mac%20os%20x%3A%20has%20anyone%20managed%20it%20yet%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010612.html">
   <LINK REL="Next"  HREF="010640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] SDL on mac os x: has anyone managed it yet?</H1>
    <B>Jason Bell</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SDL%20on%20mac%20os%20x%3A%20has%20anyone%20managed%20it%20yet%3F&In-Reply-To="
       TITLE="[Mono-devel-list] SDL on mac os x: has anyone managed it yet?">bell_jason at yahoo.ca
       </A><BR>
    <I>Tue Feb 22 04:35:01 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010612.html">Fwd: Re: [Mono-devel-list] mbas issue
</A></li>
        <LI>Next message: <A HREF="010640.html">[Mono-devel-list] SDL on mac os x: has anyone managed it yet?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10615">[ date ]</a>
              <a href="thread.html#10615">[ thread ]</a>
              <a href="subject.html#10615">[ subject ]</a>
              <a href="author.html#10615">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As some of you probably know, SDL (simple directmedia
layer) renames your c applications main function to
SDL_main using a macro, and provides it's own main
function, wherein it performs mac specific
initialisations.

However, the code that does this on the mac is written
in objective C (the ugliest and most awkward code
EVER) and causes all sorts of problems with other
languages.

So, c# code that utilises SDL that works beautifully
under windows or linux fails on the mac because no
autorelease pool was created.

In freepascal, you can get around this by manually
changing the main function to SDL_main, and linking
against libSDL.dylib (SDL.framework won't work because
for some reason it doesn't contain the initialisation
code itself).  Thus, the application starts in SDL's
main function, which then calls SDL_main, and so
enters your program's loop.

Has anyone looked at some way of getting SDL working
with mono on mac os x?  I assume a solution similar to
this would work, though the downside of the change
made for freepascal was that you could now only build
SDL applications.  What would be ideal would be if
there was a command line paramter to specify the name
of the function to start in, not just the class.  So
you could rename &quot;Main&quot; to &quot;SDL_main&quot;.

Assuming that would work at all: I assume unmanaged
code would have problems seeing/accessing functions in
managed code.

Thoughts please?

Jason Bell

______________________________________________________________________ 
Post your free ad now! <A HREF="http://personals.yahoo.ca">http://personals.yahoo.ca</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010612.html">Fwd: Re: [Mono-devel-list] mbas issue
</A></li>
	<LI>Next message: <A HREF="010640.html">[Mono-devel-list] SDL on mac os x: has anyone managed it yet?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10615">[ date ]</a>
              <a href="thread.html#10615">[ thread ]</a>
              <a href="subject.html#10615">[ subject ]</a>
              <a href="author.html#10615">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
