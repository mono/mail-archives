<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] MSVC 6 conversion progress, diff, notes, etc
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20MSVC%206%20conversion%20progress%2C%20diff%2C%20notes%2C%20etc&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010453.html">
   <LINK REL="Next"  HREF="010457.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] MSVC 6 conversion progress, diff, notes, etc</H1>
    <B>J Lothian</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20MSVC%206%20conversion%20progress%2C%20diff%2C%20notes%2C%20etc&In-Reply-To="
       TITLE="[Mono-devel-list] MSVC 6 conversion progress, diff, notes, etc">rhalin at gmail.com
       </A><BR>
    <I>Sun Feb 13 15:34:26 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010453.html">[Mono-devel-list] [ANNOUNCE] IronPHP 0.0.1: A PHP Compiler for Mono (and .NET)
</A></li>
        <LI>Next message: <A HREF="010457.html">[Mono-devel-list] Re: MSVC 6 conversion progress, diff, notes, etc (project files)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10454">[ date ]</a>
              <a href="thread.html#10454">[ thread ]</a>
              <a href="subject.html#10454">[ subject ]</a>
              <a href="author.html#10454">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For anyone who's interested, I've completed my initial build of Mono
in Visual Studio 6 (and tested it, and it compiles in VS.Net as well)

There are a few minor problems.  There are a good number of warnings
regarding signed/unsigned mismatches, which may be able to be ignored
for the time being.  The project compiles fine, but when I try to test
it, it crashes in

mini.c : 
static MonoObject*
mono_jit_runtime_invoke (MonoMethod *method, void *obj, void **params,
MonoObject **exc)

on the line:
return runtime_invoke ((MonoMethod *)obj, params, exc, compiled_method);

with the debug message:
&quot;The value of ESP was not properly saved acrossed a function call.
This is usually a result of calling a function declared with one
calling convention with a function pointer declared with a different
calling convention.&quot; 

I'm posting a few files for anyone interested in looking at the work
thus far and contributing to the VS port.  Included are my conversion
notes, the diff from the 1.0.5 src, the warnings I am recieving, and
the dependancies directory I put together.

<A HREF="http://www.dreamfoundry.sytes.net/mono/MonoToVSNotes.txt">http://www.dreamfoundry.sytes.net/mono/MonoToVSNotes.txt</A>
<A HREF="http://www.dreamfoundry.sytes.net/mono/monoToVS.diff">http://www.dreamfoundry.sytes.net/mono/monoToVS.diff</A>
<A HREF="http://www.dreamfoundry.sytes.net/mono/MonoWarnings.txt">http://www.dreamfoundry.sytes.net/mono/MonoWarnings.txt</A>
<A HREF="http://www.dreamfoundry.sytes.net/mono/VSDependancies.rar">http://www.dreamfoundry.sytes.net/mono/VSDependancies.rar</A>

I'd appreciate it if someone else could host the rar, as I have
limited bandwidth on that server, and a 2MB file is a bit much.

I'm a bit rushed this morning, so I wasn't able to triple check my
notes, there may be a few things slightly off, just check the diff if
you have questions about something I did.

I hope you all can use this somehow.   ...and I hope we can figure out
how to make it actually work ;)

Thanks for everyone's help so far, couldn't have gotton to this point
without you!

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010453.html">[Mono-devel-list] [ANNOUNCE] IronPHP 0.0.1: A PHP Compiler for Mono (and .NET)
</A></li>
	<LI>Next message: <A HREF="010457.html">[Mono-devel-list] Re: MSVC 6 conversion progress, diff, notes, etc (project files)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10454">[ date ]</a>
              <a href="thread.html#10454">[ thread ]</a>
              <a href="subject.html#10454">[ subject ]</a>
              <a href="author.html#10454">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
