<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] SDL on mac os x: has anyone managed it yet?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SDL%20on%20mac%20os%20x%3A%20has%20anyone%20managed%20it%20yet%3F&In-Reply-To=1109186906.5808.956.camel%40linux.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010640.html">
   <LINK REL="Next"  HREF="010659.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] SDL on mac os x: has anyone managed it yet?</H1>
    <B>Jason Bell</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SDL%20on%20mac%20os%20x%3A%20has%20anyone%20managed%20it%20yet%3F&In-Reply-To=1109186906.5808.956.camel%40linux.site"
       TITLE="[Mono-devel-list] SDL on mac os x: has anyone managed it yet?">bell_jason at yahoo.ca
       </A><BR>
    <I>Thu Feb 24 04:06:40 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010640.html">[Mono-devel-list] SDL on mac os x: has anyone managed it yet?
</A></li>
        <LI>Next message: <A HREF="010659.html">[Mono-devel-list] SDL on mac os x: has anyone managed it yet?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10649">[ date ]</a>
              <a href="thread.html#10649">[ thread ]</a>
              <a href="subject.html#10649">[ subject ]</a>
              <a href="author.html#10649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for replying, Miguel:

I'll try to explain as best I can given my lack of
knowledge of objective c.  If you want to look at the
source yourself, download the SDL source from the
following.  I assume this mailing list doesn't support
attachments.

<A HREF="http://www.libsdl.org/download-1.2.php">http://www.libsdl.org/download-1.2.php</A>

and take a gander at SDLMain.h and SDLMain.m in:

\src\main\macosx

First of all, the API used is Cocoa (I so wish they
had used Carbon instead, but oh well).  Let me know if
you're unfamiliar with mac os x and don't follow this,
though I'm somewhat new to os x myself.

In the main function SDL provides, a check is done to
see if a nib file is being used (a nib basically
provides the layout of a window, menus, buttons, and
such).  If a nib is being used it creates the
SDLApplication object and calls the function
NSApplicationMain, which creates the window and starts
the application loop.

If no nib is provided, a function called
CustomApplicationMain is called, that first creates an
autorelease pool.  This object essentially ensures
that objects are released properly and don't leak
memory.  In fact, currently, because none of this is
done, upon calling SDL_init you're spammed with a long
series of errors about memory being leaked due to lack
of an autorelease pool.

The SDLApplication object is created, then an
autorelease pool created.  Then an application
delegate is created (which I don't fully understand)
and assigned to the application object.  Then the
application starts via [NSApp run].

I have a feeling (JUST a feeling, mind), that if I
were to link libSDL.dylib against the mono runtime,
things may work, seeing as how it's the real
executable in this instance, it's written in c, and it
has a main function.  However, coming from windows, I
know nothing of make files.

If you have any suggestions, please let me know. 
Ditto with altering the make files so the mono runtime
links with libSDL.dylib.

Thanks!

 --- Miguel de Icaza &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at ximian.com</A>&gt; wrote: 
&gt;<i> 
</I>&gt;<i> &gt; As some of you probably know, SDL (simple
</I>&gt;<i> directmedia
</I>&gt;<i> &gt; layer) renames your c applications main function
</I>&gt;<i> to
</I>&gt;<i> &gt; SDL_main using a macro, and provides it's own main
</I>&gt;<i> &gt; function, wherein it performs mac specific
</I>&gt;<i> &gt; initialisations.
</I>&gt;<i> 
</I>&gt;<i> Can you be more specific about what kind of
</I>&gt;<i> mac-specific things are done
</I>&gt;<i> there?
</I>&gt;<i> 
</I>&gt;<i> Miguel
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i>
</I><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
&gt;<i>  
</I>
______________________________________________________________________ 
Post your free ad now! <A HREF="http://personals.yahoo.ca">http://personals.yahoo.ca</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010640.html">[Mono-devel-list] SDL on mac os x: has anyone managed it yet?
</A></li>
	<LI>Next message: <A HREF="010659.html">[Mono-devel-list] SDL on mac os x: has anyone managed it yet?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10649">[ date ]</a>
              <a href="thread.html#10649">[ thread ]</a>
              <a href="subject.html#10649">[ subject ]</a>
              <a href="author.html#10649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
