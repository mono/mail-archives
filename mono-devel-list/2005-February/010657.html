<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] A clarification on the purpose of alias	analysis.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20A%20clarification%20on%20the%20purpose%20of%20alias%0A%09analysis.&In-Reply-To=421DCC8E.2050609%40gmx.at">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010656.html">
   <LINK REL="Next"  HREF="010685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] A clarification on the purpose of alias	analysis.</H1>
    <B>Massimiliano Mantione</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20A%20clarification%20on%20the%20purpose%20of%20alias%0A%09analysis.&In-Reply-To=421DCC8E.2050609%40gmx.at"
       TITLE="[Mono-devel-list] A clarification on the purpose of alias	analysis.">massi at ximian.com
       </A><BR>
    <I>Thu Feb 24 09:16:36 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010656.html">[Mono-devel-list] A clarification on the purpose of alias analysis.
</A></li>
        <LI>Next message: <A HREF="010685.html">[Mono-devel-list] A clarification on the purpose of alias	analysis.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10657">[ date ]</a>
              <a href="thread.html#10657">[ thread ]</a>
              <a href="subject.html#10657">[ subject ]</a>
              <a href="author.html#10657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2005-02-24 at 13:46, Willibald Krenn wrote:
&gt;<i> Is there a point in doing 'half' 2: I mean do only locals, but also 
</I>&gt;<i> consider instance fields?
</I>
If the &quot;instance&quot; that has a field is a local struct (a valuetype)
this is almost equivalent to [1].
In practice, this is [1] if you do scalar replacement or something
similar, I mean if you track the value of each field separately.
In this case, your 'half 2' is just as complex as [1].

If, on the other hand, the instance that has a field is not a
valuetype, besides the &quot;scalar replacement&quot; thing all the issues
related to [2] apply, because the value is allocated outside the
method... potentially anything external could change its value
at any time.

The other optimization that is related to these cases is detecting
those objects that are created in the method but never passed to
any call (or returned), and never stored anywhere outside locals.
Those objects would be &quot;like valuetypes&quot; (it is like if they were
local to the method), and so for them 'half 2' would be like [1].
In fact, those objects could in principle be allocated on the stack
and nobody would care (if finalizers were run anyway).

&gt;<i> I'm still a little bit disappointed that it's impossible to do
</I>&gt;<i> abcremoval on cases where the var is not local.. (But I
</I>&gt;<i> guess this has little to do with alias analysis, correct?)
</I>
Yes, and no.
It has to do with the possibility of tracking values accurately.

We can do abcremoval if we can statically determine the value of
things (and put the variables holding those values in SSA form).
So, with something like scalar replacement in place, we would
track the value of individual fields, and therefore abcrem would
work on fields as well.
Without that, even if we enable SSA also with aliases around, each
field has an unknown value, so abcrem cannot do its job.

Hope this is clear...

Ciao,
  Massi



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010656.html">[Mono-devel-list] A clarification on the purpose of alias analysis.
</A></li>
	<LI>Next message: <A HREF="010685.html">[Mono-devel-list] A clarification on the purpose of alias	analysis.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10657">[ date ]</a>
              <a href="thread.html#10657">[ thread ]</a>
              <a href="subject.html#10657">[ subject ]</a>
              <a href="author.html#10657">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
