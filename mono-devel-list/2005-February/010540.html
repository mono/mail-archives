<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Some patches for Collection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Some%20patches%20for%20Collection&In-Reply-To=8079-00828%40sneakemail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010531.html">
   <LINK REL="Next"  HREF="010530.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Some patches for Collection</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Some%20patches%20for%20Collection&In-Reply-To=8079-00828%40sneakemail.com"
       TITLE="[Mono-devel-list] Some patches for Collection">lupus at ximian.com
       </A><BR>
    <I>Fri Feb 18 10:33:55 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010531.html">[Mono-devel-list] Some patches for Collection
</A></li>
        <LI>Next message: <A HREF="010530.html">[Mono-devel-list] Some patches for Collection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10540">[ date ]</a>
              <a href="thread.html#10540">[ thread ]</a>
              <a href="subject.html#10540">[ subject ]</a>
              <a href="author.html#10540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/17/05 Jonathan Gilbert wrote:
&gt;<i> At 05:45 PM 17/02/2005 +0100, Martin Baulig wrote:
</I>&gt;<i> &gt;Next week someone comes and relies on Equals() being in the same way
</I>&gt;<i> &gt;broken, but the other way around - should we now keep changing it back
</I>&gt;<i> &gt;and forth each time someone complains ?
</I>[...]
&gt;<i> &quot;If mono's behaviour is different than the Microsoft runtime's behaviour,
</I>&gt;<i> then it is a bug in mono.&quot; As much as you may dislike the patches, this
</I>&gt;<i> describes this situation.
</I>
The issue here is not really about compatibility with the MS runtime
(which not all of us care about that much), but of correctness and
quality of the code. I just looked at Stack.cs: if someone
does a Push() of a null value, the current Contains() code
will throw a nullref exception. The clear fix is to do what
the patch to Stack.cs does.
In other cases it is a performance issue: the same method will
be called repeatedly, improving cache locality (and potentially
avoiding the need to jit compile other methods).
Kazuki, please commit the changes that reverse the order in the
Equals calls.
Thanks

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010531.html">[Mono-devel-list] Some patches for Collection
</A></li>
	<LI>Next message: <A HREF="010530.html">[Mono-devel-list] Some patches for Collection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10540">[ date ]</a>
              <a href="thread.html#10540">[ thread ]</a>
              <a href="subject.html#10540">[ subject ]</a>
              <a href="author.html#10540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
