<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Is native codes for C# methods and CLI internal calls different?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Is%20native%20codes%20for%20C%23%20methods%20and%20CLI%20internal%20calls%20different%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010720.html">
   <LINK REL="Next"  HREF="010689.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Is native codes for C# methods and CLI internal calls different?</H1>
    <B>Okehee Goh</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Is%20native%20codes%20for%20C%23%20methods%20and%20CLI%20internal%20calls%20different%3F&In-Reply-To="
       TITLE="[Mono-devel-list] Is native codes for C# methods and CLI internal calls different?">okehee at gmail.com
       </A><BR>
    <I>Fri Feb 25 12:48:35 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010720.html">[Mono-devel-list] Tests for Reflection Only
</A></li>
        <LI>Next message: <A HREF="010689.html">[Mono-devel-list] Is native codes for C# methods and CLI internal calls different?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10686">[ date ]</a>
              <a href="thread.html#10686">[ thread ]</a>
              <a href="subject.html#10686">[ subject ]</a>
              <a href="author.html#10686">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm using mono1.1.4 with JIT in Linux on X86.
I'd like to check native codes generated for C# applications with JIT. 
I want to see how C# methods and Mono Internal calls are translated
into native codes, and also how stack frames for them are different? 
Ultimately I'd like to know that we could distinguish whether certain
stack frames of a thread are from C# methods or CLI internal functions
by checking stack frames?

For example, Directory.GetCurrentDirectory ()  is C# method.  This is
eventually implemented by calling CLI internal function
ves_icall_System_IO_MonoIO_GetCurrentDirectory().
Are they both translated into 'call' assembly instruction in X86, for example?

Anyway, in order to check native code generation, I did the followings.
I tried to map IL codes to native codes in this way; 
1.compile C# applications with AOT and get time.exe.so (mono --aot
--optimize=all time.exe)
2. generate IL codes using monodis ( monodis --output=time.il time.exe)
3. generate X86 assembly codes of time.exe.so (objdump -D time.exe.so&gt;time.as)
I expected that i could map IL codes into native codes by comparing
time.il with time.as. But it's not.

In summary, my question is (1) how i can see native codes generated
for method invocations
and internal function calls, and (2) whether i can distinguish the stack frames?

Thank you so much.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010720.html">[Mono-devel-list] Tests for Reflection Only
</A></li>
	<LI>Next message: <A HREF="010689.html">[Mono-devel-list] Is native codes for C# methods and CLI internal calls different?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10686">[ date ]</a>
              <a href="thread.html#10686">[ thread ]</a>
              <a href="subject.html#10686">[ subject ]</a>
              <a href="author.html#10686">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
