<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Updated CAS patch for LinkDemand
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Updated%20CAS%20patch%20for%20LinkDemand&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010383.html">
   <LINK REL="Next"  HREF="010393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Updated CAS patch for LinkDemand</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Updated%20CAS%20patch%20for%20LinkDemand&In-Reply-To="
       TITLE="[Mono-devel-list] Updated CAS patch for LinkDemand">sebastien at ximian.com
       </A><BR>
    <I>Thu Feb 10 09:31:29 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010383.html">[Mono-devel-list] Re: not-so-good patch
</A></li>
        <LI>Next message: <A HREF="010393.html">[Mono-devel-list] Updated CAS patch for LinkDemand
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10384">[ date ]</a>
              <a href="thread.html#10384">[ thread ]</a>
              <a href="subject.html#10384">[ subject ]</a>
              <a href="author.html#10384">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

This is an updated patch to support LinkDemand. This fixes all known
problems (the one I had before and the one I found after issuing the
patch) and also gives more details when an exception is thrown to ease
debugging.

Note: The patch for MonoMethod is removed as you can (by default) use
reflection to execute private internal calls (i.e. unless they have
other security attributes applied to them).

Updated (and new) test cases are already in SVN:
/mono/mono/tests/cas/linkdemand/

The only failing test with this patch is cas5.cs - where reflection is
used to get access to a method protected by a LinkDemand. The code to
fix this will be located in System/MonoType.cs and
System.Reflection/MonoMethod.cs in a (not so) future patch.

-- 
Sebastien Pouliot  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">sebastien at ximian.com</A>&gt;
blog: <A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mono.20050210.diff
Type: text/x-patch
Size: 31564 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050210/84772e81/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050210/84772e81/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010383.html">[Mono-devel-list] Re: not-so-good patch
</A></li>
	<LI>Next message: <A HREF="010393.html">[Mono-devel-list] Updated CAS patch for LinkDemand
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10384">[ date ]</a>
              <a href="thread.html#10384">[ thread ]</a>
              <a href="subject.html#10384">[ subject ]</a>
              <a href="author.html#10384">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
