<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] Bug Fix for GetTickCount in WAPI IO	Layer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Bug%20Fix%20for%20GetTickCount%20in%20WAPI%20IO%0A%09Layer&In-Reply-To=1109465287.1298.6.camel%40omega.maurer">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010698.html">
   <LINK REL="Next"  HREF="010732.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] Bug Fix for GetTickCount in WAPI IO	Layer</H1>
    <B>Dick Porter</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Bug%20Fix%20for%20GetTickCount%20in%20WAPI%20IO%0A%09Layer&In-Reply-To=1109465287.1298.6.camel%40omega.maurer"
       TITLE="[Mono-devel-list] [PATCH] Bug Fix for GetTickCount in WAPI IO	Layer">dick at ximian.com
       </A><BR>
    <I>Mon Feb 28 08:02:39 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010698.html">[Mono-devel-list] [PATCH] Bug Fix for GetTickCount in WAPI IO	Layer
</A></li>
        <LI>Next message: <A HREF="010732.html">[Mono-devel-list] [PATCH] Bug Fix for GetTickCount in WAPI IO Layer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10725">[ date ]</a>
              <a href="thread.html#10725">[ thread ]</a>
              <a href="subject.html#10725">[ subject ]</a>
              <a href="author.html#10725">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2005-02-26 at 19:48 -0500, Ben Maurer wrote:
&gt;<i> On Sat, 2005-02-26 at 13:07 -0800, Jesse Towner wrote:
</I>&gt;<i> &gt; This should fix the problem of System.Environment.TickCount reporting
</I>&gt;<i> &gt; incorrect values on
</I>&gt;<i> &gt; non-windows systems. It now determines the boot time of the system, and
</I>&gt;<i> &gt; from there can
</I>&gt;<i> &gt; determine the uptime, which is what GetTickCount requires. I haven't
</I>&gt;<i> &gt; tested it on all of the
</I>&gt;<i> &gt; platforms it should support, so any feedback would be appreciated.
</I>&gt;<i> 
</I>&gt;<i> Since GetTickCount is modulo 48 days anyways (env.TickCount has half the
</I>&gt;<i> resolution since it is always positive), the thing should *NEVER* be
</I>&gt;<i> used for uptime calculation. The only correct use for tick count is to
</I>&gt;<i> calculate the change in time, for changes known to be relatively small.
</I>
For some reason I didn't get the original message (and it wasn't in my
spam folder either) so I can't comment on the patch itself.

However, using GetTickCount to look up the boot time is completely
pointless on reliable OSes, because as Ben says the 32bit counter wraps
round every 47 days.  Therefore I won't be applying a patch to &quot;fix&quot;
this non-issue.

- Dick




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010698.html">[Mono-devel-list] [PATCH] Bug Fix for GetTickCount in WAPI IO	Layer
</A></li>
	<LI>Next message: <A HREF="010732.html">[Mono-devel-list] [PATCH] Bug Fix for GetTickCount in WAPI IO Layer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10725">[ date ]</a>
              <a href="thread.html#10725">[ thread ]</a>
              <a href="subject.html#10725">[ subject ]</a>
              <a href="author.html#10725">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
