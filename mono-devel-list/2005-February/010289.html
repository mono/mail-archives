<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: [Mono-patches] r40228 - trunk/mcs/class/System.Drawing/System.Drawing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20%5BMono-patches%5D%20r40228%20-%20trunk/mcs/class/System.Drawing/System.Drawing&In-Reply-To=m37jlkx390.fsf%40harinath.blr.novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010285.html">
   <LINK REL="Next"  HREF="010294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: [Mono-patches] r40228 - trunk/mcs/class/System.Drawing/System.Drawing</H1>
    <B>Marek Safar</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20%5BMono-patches%5D%20r40228%20-%20trunk/mcs/class/System.Drawing/System.Drawing&In-Reply-To=m37jlkx390.fsf%40harinath.blr.novell.com"
       TITLE="[Mono-devel-list] Re: [Mono-patches] r40228 - trunk/mcs/class/System.Drawing/System.Drawing">marek.safar at seznam.cz
       </A><BR>
    <I>Mon Feb  7 03:11:46 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010285.html">[Mono-devel-list] Re: [Mono-patches] r40228 - trunk/mcs/class/System.Drawing/System.Drawing
</A></li>
        <LI>Next message: <A HREF="010294.html">[Mono-devel-list] Re: [Mono-patches] r40228 -	trunk/mcs/class/System.Drawing/System.Drawing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10289">[ date ]</a>
              <a href="thread.html#10289">[ thread ]</a>
              <a href="subject.html#10289">[ subject ]</a>
              <a href="author.html#10289">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Hari,

&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>&quot;Ben Maurer &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">webmaster at theratnerschool.org</A>&gt;&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">benm at mono-cvs.ximian.com</A>&gt; writes:
</I>&gt;<i>
</I>&gt;<i>[snip]
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>2005-02-06  Ben Maurer  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bmaurer at ximian.com</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>	* Brushes.cs: Kill the static ctor here, it has tons of code bloat.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Modified: trunk/mcs/class/System.Drawing/System.Drawing/Brushes.cs
</I>&gt;&gt;<i>===================================================================
</I>&gt;&gt;<i>--- trunk/mcs/class/System.Drawing/System.Drawing/Brushes.cs	2005-02-07 03:25:54 UTC (rev 40227)
</I>&gt;&gt;<i>+++ trunk/mcs/class/System.Drawing/System.Drawing/Brushes.cs	2005-02-07 03:35:53 UTC (rev 40228)
</I>&gt;&gt;<i>@@ -39,147 +39,147 @@
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i> 	public sealed class Brushes 
</I>&gt;&gt;<i> 	{
</I>&gt;&gt;<i>-		private static SolidBrush aliceBlue = null;
</I>&gt;&gt;<i>-		private static SolidBrush antiqueWhite = null;
</I>&gt;&gt;<i>-		private static SolidBrush aqua = null;
</I>&gt;&gt;<i>-		private static SolidBrush aquamarine = null;
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>[snip]
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>+		static SolidBrush aliceBlue;
</I>&gt;&gt;<i>+		static SolidBrush antiqueWhite;
</I>&gt;&gt;<i>+		static SolidBrush aqua;
</I>&gt;&gt;<i>+		static SolidBrush aquamarine;
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I think this would be great as a compiler optimization.  (In fact, GCC
</I>&gt;<i>has something similar for move '=0' static initializers to the BSS.)
</I>&gt;<i>  
</I>&gt;<i>
</I>
I am working on this but for instance fields only. For static fields it 
is more complicated but possible to implement for some special cases. 
Because you can remove hidden dependency
of static constructors.

Regards,
Marek

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010285.html">[Mono-devel-list] Re: [Mono-patches] r40228 - trunk/mcs/class/System.Drawing/System.Drawing
</A></li>
	<LI>Next message: <A HREF="010294.html">[Mono-devel-list] Re: [Mono-patches] r40228 -	trunk/mcs/class/System.Drawing/System.Drawing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10289">[ date ]</a>
              <a href="thread.html#10289">[ thread ]</a>
              <a href="subject.html#10289">[ subject ]</a>
              <a href="author.html#10289">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
