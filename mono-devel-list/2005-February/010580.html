<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: [Mono-patches] r40869 - trunk/mcs/mcs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20%5BMono-patches%5D%20r40869%20-%20trunk/mcs/mcs&In-Reply-To=1108752074.6164.116.camel%40omega.maurer">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010546.html">
   <LINK REL="Next"  HREF="010596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: [Mono-patches] r40869 - trunk/mcs/mcs</H1>
    <B>Marek Safar</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20%5BMono-patches%5D%20r40869%20-%20trunk/mcs/mcs&In-Reply-To=1108752074.6164.116.camel%40omega.maurer"
       TITLE="[Mono-devel-list] Re: [Mono-patches] r40869 - trunk/mcs/mcs">marek.safar at seznam.cz
       </A><BR>
    <I>Mon Feb 21 03:17:58 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010546.html">[Mono-devel-list] Re: [Mono-patches] r40869 - trunk/mcs/mcs
</A></li>
        <LI>Next message: <A HREF="010596.html">[Mono-devel-list] Re: [Mono-patches] r40869 - trunk/mcs/mcs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10580">[ date ]</a>
              <a href="thread.html#10580">[ thread ]</a>
              <a href="subject.html#10580">[ subject ]</a>
              <a href="author.html#10580">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;&gt;&gt;<i>I don't see any reason to require /optimize here. This is an
</I>&gt;&gt;&gt;<i>optimization that takes O(1) time, where the constant is *very* small.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Personally, I think /optimize should only be used to enable expensive
</I>&gt;&gt;&gt;<i>optimizations. The goal of the flag is so that the default compile will
</I>&gt;&gt;&gt;<i>take shorter.
</I>&gt;&gt;&gt;<i>      
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>Marek said that the reason was that you could not set a breakpoint in
</I>&gt;&gt;<i>that line if you optimize the code away.  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I also think this should just be done always, and that not being able to
</I>&gt;&gt;<i>set a breakpoint in that line wont hurt.
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Yeah, I am not sure how many people need to set a breakpoint on public
</I>&gt;<i>int foo = 0. :-).
</I>&gt;<i>  
</I>&gt;<i>
</I>I really don't know how many people would like to do it. But if we will 
not emit such fields by default nobody can ever do it.

here is another example of code that is optimized

class C
{
    enum E
    {
        Test
    }
    E e = E.Test;    // You cannot insert breakpoint here
}

Are you still confident ?

&gt;<i>For now, the thing of setting /optimize to true by default works.
</I>&gt;<i>However, if we were to add more expensive optimizations (for example,
</I>&gt;<i>csc will do a round of jump optimizations), it would be nice to keep the
</I>&gt;<i>`duh' type ones on by default.
</I>&gt;<i>  
</I>&gt;<i>
</I>I don't think so, it is only about 'how is it expensive&quot;. We simply do 
not emit what an user wrote. This is very similar case as
warning CS0219. It is also not expensive. Should we optimalize such code 
out by default as well?

&gt;<i>(nb, I realize that jump optimizations are done by the jit, etc. But
</I>&gt;<i>there might be other more expensive optimizations that are not done by
</I>&gt;<i>the jit, or optimizations that are so expensive that they would only be
</I>&gt;<i>done at aot time, so that it would be cool to do them at compile time as
</I>&gt;<i>well.)
</I>&gt;<i>  
</I>&gt;<i>
</I>I think jump/try/catch optimalizations are done by ILASM and not primary 
by compiler (in Microsoft model).

Regards,
Marek

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010546.html">[Mono-devel-list] Re: [Mono-patches] r40869 - trunk/mcs/mcs
</A></li>
	<LI>Next message: <A HREF="010596.html">[Mono-devel-list] Re: [Mono-patches] r40869 - trunk/mcs/mcs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10580">[ date ]</a>
              <a href="thread.html#10580">[ thread ]</a>
              <a href="subject.html#10580">[ subject ]</a>
              <a href="author.html#10580">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
