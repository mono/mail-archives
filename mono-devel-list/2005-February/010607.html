<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Improved NumberFormatter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Improved%20NumberFormatter&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010606.html">
   <LINK REL="Next"  HREF="010661.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Improved NumberFormatter</H1>
    <B>Kazuki Oikawa</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Improved%20NumberFormatter&In-Reply-To="
       TITLE="[Mono-devel-list] Improved NumberFormatter">kazuki at panicode.com
       </A><BR>
    <I>Mon Feb 21 20:28:15 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010606.html">[Mono-devel-list] System.Runtime.ConstrainedExecution.CER Deprecated
</A></li>
        <LI>Next message: <A HREF="010661.html">[Mono-devel-list] Improved NumberFormatter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10607">[ date ]</a>
              <a href="thread.html#10607">[ thread ]</a>
              <a href="subject.html#10607">[ subject ]</a>
              <a href="author.html#10607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 21 Feb 2005 16:31:21 +0100
Paolo Molaro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>&gt; wrote:

 &gt; On 02/21/05 Kazuki Oikawa wrote:
 &gt; &gt; I improved NumberFormatter and improved performance and memory usage
 &gt; &gt; when integer standard format.
 &gt;
 &gt; If you have numbers, please post them.

int.ToString (&quot;C&quot;)
Old : 18900000 [147091 KB]
New :  8750000 [ 96090 KB]

int.ToString (&quot;D&quot;)
Old : 10630000 [84810 KB]
New :  5940000 [51604 KB]

int.ToString (&quot;E&quot;)
Old : 37810000 [413557 KB]
New :  8280000 [ 59041 KB]

int.ToString (&quot;F&quot;)
Old : 14370000 [147093 KB]
New :  6720000 [ 53557 KB]

int.ToString (&quot;G&quot;)
Old : 12180000 [111069 KB]
New :  6400000 [ 88496 KB]

int.ToString (&quot;N&quot;)
Old : 19840000 [157834 KB]
New :  8280000 [ 73631 KB]

int.ToString (&quot;X&quot;)
Old : 21880000 [134478 KB]
New :  8910000 [ 61233 KB]

using code:
static void Main ()
{
     DateTime dt = DateTime.Now;
     for (int i = 0; i &lt; 500000; i++)
         i.ToString (); //c,d,e,f,n,x
     Console.WriteLine (DateTime.Now.Subtract (dt).Ticks);
}

 &gt;
 &gt; &gt; When this patch is applied, some wrappers in NumberFormatter.cs,
 &gt; &gt; DoubleFormatter.cs and SingleFormatter.cs are unnecessary.
 &gt;
 &gt; Please also submit a patch to remove the now-useless stuff.
 &gt;
 &gt; &gt; Additionally, I attached NumberFomatter which I improved.
 &gt;
 &gt; Post the changes in diff format.
 &gt;
 &gt; &gt; Please review it.
 &gt;
 &gt; And do not compress them: you should also configure your mail
 &gt; program to send text files as text files, instead of
 &gt; application/octet-stream.
Sorry...
Reattached patches. Is this OK?


Best regards.
Kazuki Oikawa
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: System.diff
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050222/9242fe6d/attachment.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050222/9242fe6d/attachment.pl</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: NumberFormatter.diff
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050222/9242fe6d/attachment-0001.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050222/9242fe6d/attachment-0001.pl</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: corlib.dll.sources.diff
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050222/9242fe6d/attachment-0002.pl">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050222/9242fe6d/attachment-0002.pl</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010606.html">[Mono-devel-list] System.Runtime.ConstrainedExecution.CER Deprecated
</A></li>
	<LI>Next message: <A HREF="010661.html">[Mono-devel-list] Improved NumberFormatter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10607">[ date ]</a>
              <a href="thread.html#10607">[ thread ]</a>
              <a href="subject.html#10607">[ subject ]</a>
              <a href="author.html#10607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
