<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Remoting Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Remoting%20Problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010293.html">
   <LINK REL="Next"  HREF="010276.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Remoting Problem</H1>
    <B>Willibald Krenn</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Remoting%20Problem&In-Reply-To="
       TITLE="[Mono-devel-list] Remoting Problem">Willibald.Krenn at gmx.at
       </A><BR>
    <I>Sun Feb  6 10:36:25 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010293.html">[Mono-devel-list] DllNotFoundException for libc
</A></li>
        <LI>Next message: <A HREF="010276.html">[Mono-devel-list] I still Can't Build gtk-sharp from svn
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10271">[ date ]</a>
              <a href="thread.html#10271">[ thread ]</a>
              <a href="subject.html#10271">[ subject ]</a>
              <a href="author.html#10271">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

I did try to investigate this myself, but I really don't know where to 
start looking and as this is some kind of showstopper, I ask for your help.

For testing purposes I've built some application that consists of a 
server and a client connected via some remoting channel. Everything runs 
fine if I have a 1:1 (Server:Client) relation. If, however, I go to some 
1:N (N &gt; 1) configuration, things start falling apart. (I've tested this 
under MS NET 1.1 on XP with 1:4 so the application itself is -AFAICT- 
not to blame for failure.)

Below you can find the exception messages Mono throws on my AMD64 system 
when I try to run 2 or more clients concurrently. The error happens at 
different locations, at different running times (sometimes no error at 
all). BTW: The client is concurrently invoked in the same directory in 
different shells. The server is also invoked in the same directory in 
another shell.

Most of the time only one Client application manages to finish  - all 
other instances give up with one of the exception messages below.


Any hints greatly appreciated,
  Willi



Unhandled Exception: System.Xml.XmlException: Document element did not 
appear.  Line 1, position 1.
in &lt;0x0023b&gt; System.Xml.XmlTextReader:Read ()
in &lt;0x00083&gt; System.Xml.XmlReader:MoveToContent ()
in &lt;0x000cc&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapReader:Deserialize 
(System.IO.Stream,System.Runtime.Serialization.Formatters.ISoapMessage)
in &lt;0x00108&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapFormatter:Deserialize 
(System.IO.Stream,System.Runtime.Remoting.Messaging.HeaderHandler)
in &lt;0x00030&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapFormatter:Deserialize 
(System.IO.Stream)
in &lt;0x0009b&gt; 
System.Runtime.Remoting.Channels.SoapClientFormatterSink:DeserializeMessage 
(System.IO.Stream,System.Runtime.Remoting.Channels.ITransportHeaders,System.Runtime.Remoting.Messaging.IMethodCallMessage,System.Runtime.Remoting.Channels.SoapMessageFormatter)
in &lt;0x00159&gt; 
System.Runtime.Remoting.Channels.SoapClientFormatterSink:SyncProcessMessage 
(System.Runtime.Remoting.Messaging.IMessage)
in &lt;0x00419&gt; System.Runtime.Remoting.Proxies.RemotingProxy:Invoke 
(System.Runtime.Remoting.Messaging.IMessage)
in &lt;0x0046a&gt; System.Runtime.Remoting.Proxies.RealProxy:PrivateInvoke 
(System.Runtime.Remoting.Proxies.RealProxy,System.Runtime.Remoting.Messaging.IMessage,System.Exception&amp;,object[]&amp;)


--------------------------------------------------------------------------
Unhandled Exception: System.InvalidOperationException: Token 
StartAttribute in state Content would result in an invalid XML document.

Server stack trace:
in &lt;0x008b6&gt; System.Xml.XmlTextWriter:WriteStartAttribute 
(string,string,string)
in &lt;0x00033&gt; System.Xml.XmlWriter:WriteAttributeString 
(string,string,string,string)
in &lt;0x00083&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapWriter:Href (long)
in &lt;0x000f9&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapWriter:SerializeComponent 
(object,bool)
in &lt;0x00294&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapWriter:SerializeSimpleObject 
(object,long)
in &lt;0x0019a&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapWriter:SerializeObject 
(object,long)
in &lt;0x001b9&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapWriter:WriteObjectQueue ()
in &lt;0x00481&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapWriter:Serialize 
(object,System.Runtime.Remoting.Messaging.Header[],System.Runtime.Serialization.Formatters.FormatterTypeStyle,System.Runtime.Serialization.Formatters.FormatterAssemblyStyle)
in &lt;0x00141&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapFormatter:Serialize 
(System.IO.Stream,object,System.Runtime.Remoting.Messaging.Header[])
in &lt;0x00038&gt; 
System.Runtime.Serialization.Formatters.Soap.SoapFormatter:Serialize 
(System.IO.Stream,object)
in &lt;0x004cb&gt; 
System.Runtime.Remoting.Channels.SoapServerFormatterSink:ProcessMessage 
(System.Runtime.Remoting.Channels.IServerChannelSinkStack,System.Runtime.Remoting.Messaging.IMessage,System.Runtime.Remoting.Channels.ITransportHeaders,System.IO.Stream,System.Runtime.Remoting.Messaging.IMessage&amp;,System.Runtime.Remoting.Channels.ITransportHeaders&amp;,System.IO.Stream&amp;)


Exception rethrown at [0]:

in &lt;0x00ab5&gt; System.Runtime.Remoting.Proxies.RealProxy:PrivateInvoke 
(System.Runtime.Remoting.Proxies.RealProxy,System.Runtime.Remoting.Messaging.IMessage,System.Exception&amp;,object[]&amp;)
--------------------------------------------------------------------------



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010293.html">[Mono-devel-list] DllNotFoundException for libc
</A></li>
	<LI>Next message: <A HREF="010276.html">[Mono-devel-list] I still Can't Build gtk-sharp from svn
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10271">[ date ]</a>
              <a href="thread.html#10271">[ thread ]</a>
              <a href="subject.html#10271">[ subject ]</a>
              <a href="author.html#10271">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
