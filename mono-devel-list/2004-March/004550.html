<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] Field Layout Optimization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Field%20Layout%20Optimization&In-Reply-To=1079308132.30025.24.camel%40melchior.magi">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004547.html">
   <LINK REL="Next"  HREF="004555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] Field Layout Optimization</H1>
    <B>Ben Maurer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20Field%20Layout%20Optimization&In-Reply-To=1079308132.30025.24.camel%40melchior.magi"
       TITLE="[Mono-devel-list] [PATCH] Field Layout Optimization">bmaurer at users.sourceforge.net
       </A><BR>
    <I>Sun Mar 14 20:38:40 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004547.html">[Mono-devel-list] [PATCH] Field Layout Optimization
</A></li>
        <LI>Next message: <A HREF="004555.html">[Mono-devel-list] [PATCH] Field Layout Optimization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4550">[ date ]</a>
              <a href="thread.html#4550">[ thread ]</a>
              <a href="subject.html#4550">[ subject ]</a>
              <a href="author.html#4550">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am not so sure. For example, if you do something like:

[MyAttribute (&quot;abc&quot;)]

And query for the attribute many times, the string is not interned. It
is different any time.

He might have been saying that all strings in the string heap are
interned at load.

-- Ben

On Sun, 2004-03-14 at 18:48, Jonathan Pryor wrote:
&gt;<i> On Sun, 2004-03-14 at 18:24, Ben Maurer wrote:
</I>&gt;<i> &lt;snip/&gt;
</I>&gt;<i> &gt;       * Is it correct to load strings that are stored in literal fields
</I>&gt;<i> &gt;         as interned. The reason I did this was to ensure that we dont
</I>&gt;<i> &gt;         create a string on each access (which is incorrect). However, I
</I>&gt;<i> &gt;         am not sure if it shoudl be interned.
</I>&gt;<i> 
</I>&gt;<i> See: <A HREF="http://blogs.msdn.com/cbrumme/archive/2003/04/22/51371.aspx">http://blogs.msdn.com/cbrumme/archive/2003/04/22/51371.aspx</A>
</I>&gt;<i> 
</I>&gt;<i> .NET automatically interns all strings literals inside the assembly when
</I>&gt;<i> the assembly is loaded.  The blog notes that: 
</I>&gt;<i> 
</I>&gt;<i>         This is expensive and -- in retrospect -- may have been a
</I>&gt;<i>         mistake.  In the future we might consider allowing individual
</I>&gt;<i>         assemblies to opt-in or opt-out.
</I>&gt;<i> 
</I>&gt;<i> For compatibility, we'll probably want to do the same, which is what
</I>&gt;<i> you're doing.  So this is the path of least resistance. :-)
</I>&gt;<i> 
</I>&gt;<i>  - Jon
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004547.html">[Mono-devel-list] [PATCH] Field Layout Optimization
</A></li>
	<LI>Next message: <A HREF="004555.html">[Mono-devel-list] [PATCH] Field Layout Optimization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4550">[ date ]</a>
              <a href="thread.html#4550">[ thread ]</a>
              <a href="subject.html#4550">[ subject ]</a>
              <a href="author.html#4550">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
