<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] SPARC build 0.31 ld option complaint re -v 	(guessing -version-scr ipt)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SPARC%20build%200.31%20ld%20option%20complaint%20re%20-v%20%0A%09%28guessing%20-version-scr%20ipt%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004713.html">
   <LINK REL="Next"  HREF="004716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] SPARC build 0.31 ld option complaint re -v 	(guessing -version-scr ipt)</H1>
    <B>Belbin, Peter</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20SPARC%20build%200.31%20ld%20option%20complaint%20re%20-v%20%0A%09%28guessing%20-version-scr%20ipt%29&In-Reply-To="
       TITLE="[Mono-devel-list] SPARC build 0.31 ld option complaint re -v 	(guessing -version-scr ipt)">PBelbin at McLeodUSA.com
       </A><BR>
    <I>Mon Mar 22 15:22:51 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004713.html">[Mono-devel-list] SPARC build 0.31 ld option complaint re -v (guessing -version-scr ipt)
</A></li>
        <LI>Next message: <A HREF="004716.html">[Mono-devel-list] mod_mono HTTP 500: Type __ not found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4715">[ date ]</a>
              <a href="thread.html#4715">[ thread ]</a>
              <a href="subject.html#4715">[ subject ]</a>
              <a href="author.html#4715">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Also, I noticed there is a missing install-sh script in the libg/include,
or, some other mistake that makes it think there should be one there.....

Bernie, have you managed to get xsp to work for SPARC?

Perhaps I've done something wrong, but I'm getting the following message
sequence:

GC Warning: Insufficient space for /proc read
Listening on port: 8081
Listening on address: 0.0.0.0
Root directory: /home/pbelbin/projects/mono0.31/xsp-0.9/test
Hit Return to stop the server.

(../server/xsp.exe:20612): GLib-WARNING **: Invalid file descriptor.


(../server/xsp.exe:20612): GLib-CRITICAL **: file gmain.c: line 1560
(g_source_remove): assertion `tag &gt; 0' failed

** (../server/xsp.exe:20610): CRITICAL **: : The handle daemon vanished!






-----Original Message-----
From: Bernie Solomon [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bernard at ugsolutions.com</A>] 
Sent: Monday, March 22, 2004 1:38 PM
To: Varga Zoltan; Belbin, Peter
Subject: Re: [Mono-devel-list] SPARC build 0.31 ld option complaint re -v
(guessing -version-scr ipt)

I actually have a minor tweak in my configure.in to avoid this for what
I use (Sun sompiler &amp; Sun linker). This is below.

However this wouldn't work for Peter's setup as I just assumed no-gcc
then no version script which wouldn't cover the gcc + Sun ld mixture.
Not sure what the autoconf magic is for that.

Bernie

--- configure.in        21 Mar 2004 06:43:13 -0000      1.211
+++ configure.in        22 Mar 2004 18:46:07 -0000
@@ -114,9 +114,9 @@ case &quot;$host&quot; in
 esac
 AC_MSG_RESULT(ok)
 AM_CONDITIONAL(PLATFORM_WIN32, test x$platform_win32 = xyes)
-AM_CONDITIONAL(NO_VERSION_SCRIPT, test x$no_version_script = xyes)

 AC_CHECK_TOOL(CC, gcc, gcc)
+
 AC_PROG_CC
 AM_PROG_CC_STDC
 AC_PROG_INSTALL
@@ -127,6 +127,12 @@ dnl We should use AM_PROG_AS, but it's n
 AC_SUBST(CCAS)
 AC_SUBST(CCASFLAGS)

+if test x&quot;$GCC&quot; != xyes; then
+       no_version_script=yes
+fi
+AM_CONDITIONAL(NO_VERSION_SCRIPT, test x$no_version_script = xyes)
+
+
 AC_CHECK_PROG(BISON, bison,yes,no)
 if test &quot;x$BISON&quot; = &quot;xno&quot;;
 then
----- Original Message ----- 
From: &quot;Belbin, Peter&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">PBelbin at McLeodUSA.com</A>&gt;
To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Cc: &quot;'Varga Zoltan'&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vargaz at freemail.hu</A>&gt;
Sent: Monday, March 22, 2004 9:38 AM
Subject: [Mono-devel-list] SPARC build 0.31 ld option complaint re -v
(guessing -version-scr ipt)


&gt;<i> Hi Zoltan,
</I>&gt;<i>
</I>&gt;<i> I'm eagerly looking forward to being able to try the JIT support for
</I>&gt;<i> SPARC, and am running into a problem with the build.
</I>&gt;<i>
</I>&gt;<i> I'm using gcc 3.3.2 with the standard Sun supplied ld.
</I>&gt;<i>
</I>&gt;<i> I'm seeing the following message, which is curious, because libtool is
</I>&gt;<i> being called with --mode=link gcc, but it's using /usr/ccs/bin/ld.  I'm
</I>&gt;<i> not overly familiar with libtool, so this may be a red herring.
</I>&gt;<i>
</I>&gt;<i> Please advise
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Peter.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> make[4]: Entering directory
</I>&gt;<i> `/home/pbelbin/projects/mono0.31/mono-0.31/mono/mini'
</I>&gt;<i> /bin/bash ../../libtool --mode=link gcc  -g -O2 -fno-strict-aliasing -g
</I>&gt;<i> -Wall -Wunused -Wmissing-prototypes -Wmissing-declarations
</I>&gt;<i> -Wstrict-prototypes  -Wmissing-prototypes -Wnested-externs
</I>&gt;<i> -Wpointer-arith -Wno-cast-qual -Wcast-align -Wwrite-strings
</I>&gt;<i> -Wno-char-subscripts  -R/usr/local/lib:/usr/lib -o libmono.la -rpath
</I>&gt;<i> /usr/local/lib -Wl,-version-script=./ldscript mini.lo trace.lo
</I>&gt;<i> dominators.lo cfold.lo regalloc.lo inssel.lo helpers.lo liveness.lo
</I>&gt;<i> ssa.lo driver.lo debug-mini.lo linear-scan.lo aot.lo graph.lo
</I>&gt;<i> mini-sparc.lo exceptions-sparc.lo tramp-sparc.lo
</I>&gt;<i> ../../mono/metadata/libmonoruntime.la ../../mono/metadata/libmetadata.la
</I>&gt;<i> ../../mono/io-layer/libwapi.la ../../mono/utils/libmonoutils.la
</I>&gt;<i> ../../libgc/libmonogc.la -lpthread -lm -L/usr/local/lib -licui18n
</I>&gt;<i> -licuuc -licudata -lpthread -lm -lrt  -lsocket -lnsl -lxnet -lpthread
</I>&gt;<i> -lm -lrt
</I>&gt;<i>
</I>&gt;<i> rm -fr .libs/libmono.la .libs/libmono.* .libs/libmono.*
</I>&gt;<i> /usr/ccs/bin/ld -G -h libmono.so.0 -o .libs/libmono.so.0.0.0  mini.lo
</I>&gt;<i> trace.lo dominators.lo cfold.lo regalloc.lo inssel.lo helpers.lo
</I>&gt;<i> liveness.lo ssa.lo driver.lo debug-mini.lo linear-scan.lo aot.lo
</I>&gt;<i> graph.lo mini-sparc.lo exceptions-sparc.lo tramp-sparc.lo -z allextract
</I>&gt;<i> ../../mono/metadata/.libs/libmonoruntime.al
</I>&gt;<i> ../../mono/metadata/.libs/libmetadata.al
</I>&gt;<i> ../../mono/io-layer/.libs/libwapi.al
</I>&gt;<i> ../../mono/utils/.libs/libmonoutils.al ../../libgc/.libs/libmonogc.al -z
</I>&gt;<i> defaultextract  -R/usr/local/lib:/usr/lib -R/usr/local/lib:/usr/lib
</I>&gt;<i> -L/usr/local/lib -licui18n -licuuc -licudata -lsocket -lnsl -lxnet
</I>&gt;<i> -lpthread -lm -lrt -lc  -version-script=./ldscript
</I>&gt;<i>
</I>&gt;<i> /usr/ccs/bin/ld: illegal option -- v
</I>&gt;<i> usage: ld [-6:abc:d:e:f:h:il:mo:p:rstu:z:B:CD:F:GI:L:M:N:P:Q:R:S:VY:?]
</I>&gt;<i> file(s)
</I>&gt;<i>         [-64]           enforce a 64-bit link-edit
</I>&gt;<i>         [-a]            create an absolute file
</I>&gt;<i>         [-b]            do not do special PIC relocations in a.out
</I>&gt;<i>         [-B direct]     specify `direct' bindings for executable when
</I>&gt;<i> run
</I>&gt;<i>         [-B dynamic | static]
</I>&gt;<i>                         search for shared libraries|archives
</I>&gt;<i>         [-B eliminate]  eliminate unqualified global symbols from the
</I>&gt;<i>                         symbol table
</I>&gt;<i>         [-B group]      relocate object from within group
</I>&gt;<i>         [-B local]      reduce unqualified global symbols to local
</I>&gt;<i>         [-B reduce]     process symbol reductions
</I>&gt;<i>         [-B symbolic]   bind external references to definitions when
</I>&gt;<i> creating
</I>&gt;<i>                         shared objects
</I>&gt;<i>         [-c name]       record configuration file `name'
</I>&gt;<i>         [-C]            demangle C++ symbol name diagnostics
</I>&gt;<i>         [-d y | n]      operate in dynamic|static mode
</I>&gt;<i>         [-D token,...]  print diagnostic messages
</I>&gt;<i>         [-e epsym]      use `epsym' as entry point address
</I>&gt;<i>         [-f name]       specify library for which this file is an
</I>&gt;<i> auxiliary
</I>&gt;<i>                         filter
</I>&gt;<i>         [-F name]       specify library for which this file is a filter
</I>&gt;<i>         [-G]            create a shared object
</I>&gt;<i>         [-h name]       use `name' as internal shared object identifier
</I>&gt;<i>         [-i]            ignore LD_LIBRARY_PATH setting
</I>&gt;<i>         [-I name]       use `name' as path of interpreter
</I>&gt;<i>         [-l x]          search for libx.so or libx.a
</I>&gt;<i>         [-L path]       search for libraries in directory `path'
</I>&gt;<i>         [-m]            print memory map
</I>&gt;<i>         [-M mapfile]    use processing directives contained in `mapfile'
</I>&gt;<i>
</I>&gt;<i>         [-N string]     create a dynamic dependency for `string'
</I>&gt;<i>         [-o outfile]    name the output file `outfile'
</I>&gt;<i>         [-p auditlib]   identify audit library to accompany this object
</I>&gt;<i>         [-P auditlib]   identify audit library for processing the
</I>&gt;<i> dependencies
</I>&gt;<i>                         of this object
</I>&gt;<i>         [-Q y | n]      do|do not place version information in output
</I>&gt;<i> file
</I>&gt;<i>         [-r]            create a relocatable object
</I>&gt;<i>         [-R path]       specify a library search path to be used at run
</I>&gt;<i> time
</I>&gt;<i>         [-s]            strip any symbol and debugging information
</I>&gt;<i>         [-S supportlib]
</I>&gt;<i>                         specify a link-edit support library
</I>&gt;<i>         [-t]            do not warn of multiply-defined symbols that
</I>&gt;<i> have
</I>&gt;<i>                         different sizes or alignments
</I>&gt;<i>         [-u symname]    create an undefined symbol `symname'
</I>&gt;<i>         [-V]            print version information
</I>&gt;<i>         [-Y P,dirlist]  use `dirlist' as a default path when searching
</I>&gt;<i> for
</I>&gt;<i>                         libraries
</I>&gt;<i>         [-z absexec]    when building an executable absolute symbols
</I>&gt;<i>                         referenced in dynamic objects are promoted to
</I>&gt;<i>                         the executable
</I>&gt;<i>         [-z allextract | defaultextract | weakextract]
</I>&gt;<i>                         extract all member files, only members that
</I>&gt;<i> resolve
</I>&gt;<i>                         undefined tor tentative symbols, or allow
</I>&gt;<i> extraction of
</I>&gt;<i>                         archive members to resolvetweak references from
</I>&gt;<i>                         archive files
</I>&gt;<i>         [-z combreloc]  combine multiple relocation sections
</I>&gt;<i>         [-z nocompstrtab]       disable compression of string tables
</I>&gt;<i>         [-z defs]       disallow undefined symbol references
</I>&gt;<i>         [-z endfiltee]  marks a filtee such that it will terminate a
</I>&gt;<i> filters
</I>&gt;<i>                         search
</I>&gt;<i>         [-z finiarray=function]
</I>&gt;<i>                         name of function to be appended to the
</I>&gt;<i> .finiarray
</I>&gt;<i>         [-z groupperm | nogroupperm]
</I>&gt;<i>                         enable|disable setting of group permissions
</I>&gt;<i>                         on dynamic dependencies
</I>&gt;<i>         [-z ignore | record]
</I>&gt;<i>                         ignore|record unused dynamic dependencies
</I>&gt;<i>         [-z initarray=function]
</I>&gt;<i>                         name of function to be appended to the
</I>&gt;<i> .initarray
</I>&gt;<i>         [-z initfirst]  mark object to indicate that its .init section
</I>&gt;<i> should
</I>&gt;<i>                         be executed before the .init section of any
</I>&gt;<i> other
</I>&gt;<i>                         objects
</I>&gt;<i>         [-z interpose]  dynamic object is to be an `interposer' on
</I>&gt;<i> direct
</I>&gt;<i>                         bindings
</I>&gt;<i>         [-z lazyload | nolazyload]
</I>&gt;<i>                         enable|disable delayed loading of shared objects
</I>&gt;<i>
</I>&gt;<i>         [-z ld32=arg1,arg2,...]
</I>&gt;<i>                         define arguments applicable to the 32-bit class
</I>&gt;<i> of ld(1)
</I>&gt;<i>         [-z ld64=arg1,arg2,...]
</I>&gt;<i>                         define arguments applicable to the 64-bit class
</I>&gt;<i> of ld(1)
</I>&gt;<i>         [-z loadfltr]   mark filter as requiring immediate loading of
</I>&gt;<i> its
</I>&gt;<i>                         filtees at runtime
</I>&gt;<i>         [-z muldefs]    allow multiply-defined symbols
</I>&gt;<i>         [-z nodefs]     allow undefined symbol references
</I>&gt;<i>         [-z nodefaultlib]
</I>&gt;<i>                         mark object to ignore any default library search
</I>&gt;<i> path
</I>&gt;<i>         [-z nodelete]   mark object as non-deletable
</I>&gt;<i>         [-z nodlopen]   mark object as non-dlopen()'able
</I>&gt;<i>         [-z nodump]     mark object as non-dldump()'able
</I>&gt;<i>         [-z nopartial]  expand any partially initialized symbols
</I>&gt;<i>         [-z noversion]  don't record any version sections
</I>&gt;<i>         [-z now]        mark object as requiring non-lazy binding
</I>&gt;<i>         [-z origin]     mark object as requiring $ORIGIN processing
</I>&gt;<i>         [-z preinitarray=function]
</I>&gt;<i>                         name of function to be appended to the
</I>&gt;<i> .preinitarray
</I>&gt;<i>         [-z redlocsym]  reduce local syms in .symtab to a minimum
</I>&gt;<i>         [-z rescan]     rescan archive list until no further member
</I>&gt;<i>                         extraction occurs
</I>&gt;<i>         [-z text]       disallow output relocations against text
</I>&gt;<i>         [-z textoff]    allow output relocations against text
</I>&gt;<i>         [-z textwarn]   warn if there are relocations against text
</I>&gt;<i>         [-z verbose]    generate warnings for suspicious processings
</I>&gt;<i> make[4]: *** [libmono.la] Error 1
</I>&gt;<i> make[4]: Leaving directory
</I>&gt;<i> `/home/pbelbin/projects/mono0.31/mono-0.31/mono/mini'
</I>&gt;<i> make[3]: *** [all] Error 2
</I>&gt;<i> make[3]: Leaving directory
</I>&gt;<i> `/home/pbelbin/projects/mono0.31/mono-0.31/mono/mini'
</I>&gt;<i> make[2]: *** [all-recursive] Error 1
</I>&gt;<i> make[2]: Leaving directory
</I>&gt;<i> `/home/pbelbin/projects/mono0.31/mono-0.31/mono'
</I>&gt;<i> make[1]: *** [all-recursive] Error 1
</I>&gt;<i> make[1]: Leaving directory `/home/pbelbin/projects/mono0.31/mono-0.31'
</I>&gt;<i> make: *** [all] Error 2
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> NOTICE: This electronic mail transmission may contain confidential
</I>&gt;<i> information and is intended only for the person(s) named.  Any use,
</I>&gt;<i> copying or disclosure by any other person is strictly prohibited. If you
</I>&gt;<i> have received this transmission in error, please notify the sender via
</I>&gt;<i> e-mail.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>


NOTICE: This electronic mail transmission may contain confidential
information and is intended only for the person(s) named.  Any use, copying
or disclosure by any other person is strictly prohibited. If you have
received this transmission in error, please notify the sender via e-mail.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040322/1eb896b4/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040322/1eb896b4/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004713.html">[Mono-devel-list] SPARC build 0.31 ld option complaint re -v (guessing -version-scr ipt)
</A></li>
	<LI>Next message: <A HREF="004716.html">[Mono-devel-list] mod_mono HTTP 500: Type __ not found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4715">[ date ]</a>
              <a href="thread.html#4715">[ thread ]</a>
              <a href="subject.html#4715">[ subject ]</a>
              <a href="author.html#4715">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
