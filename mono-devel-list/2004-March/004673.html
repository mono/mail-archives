<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Bug 55749 - Another deadlock when running static constructors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Bug%2055749%20-%20Another%20deadlock%20when%20running%20static%20constructors&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004678.html">
   <LINK REL="Next"  HREF="004679.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Bug 55749 - Another deadlock when running static constructors</H1>
    <B>David Mitchell</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Bug%2055749%20-%20Another%20deadlock%20when%20running%20static%20constructors&In-Reply-To="
       TITLE="[Mono-devel-list] Bug 55749 - Another deadlock when running static constructors">david.mitchell at telogis.com
       </A><BR>
    <I>Thu Mar 18 17:16:26 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004678.html">[Mono-devel-list] a method's code array
</A></li>
        <LI>Next message: <A HREF="004679.html">[Mono-devel-list] Removing libgdiplus' dependency on mono/io-layer/uglify.h
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4673">[ date ]</a>
              <a href="thread.html#4673">[ thread ]</a>
              <a href="subject.html#4673">[ subject ]</a>
              <a href="author.html#4673">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This bug is holding me up a bit, is the a work around or can I help fix 
it? These comments from Zoltan seem to suggest that it isn't high on the 
priority list. Is that correct?

+------- Additional Comments From <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vargaz at freemail.hu</A>  2004-03-18 16:53 
-------
+This is caused by a deadlock between the domain lock taken in
+mono_runtime_class_init, and a managed lock. The solution would be
+to use the initialization protocol described in Partition II., 9.5.3.3,
+but that requires things like 'see whenever this thread or any
+thread waiting for this thread already holds the lock', which is a bit
+hard to implement.

Regards
-- 
David Mitchell
Software Engineer
Telogis

NOTICE:
This message (including any attachments) contains CONFIDENTIAL
INFORMATION intended for a specific individual and purpose, and
is protected by law.  If you are not the intended recipient,
you should delete this message and are hereby notified that any
disclosure, copying, or distribution of this message, or the
taking of any action based on it, is strictly prohibited.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004678.html">[Mono-devel-list] a method's code array
</A></li>
	<LI>Next message: <A HREF="004679.html">[Mono-devel-list] Removing libgdiplus' dependency on mono/io-layer/uglify.h
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4673">[ date ]</a>
              <a href="thread.html#4673">[ thread ]</a>
              <a href="subject.html#4673">[ subject ]</a>
              <a href="author.html#4673">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
