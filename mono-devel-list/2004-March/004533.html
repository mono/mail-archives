<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [PATCH] isinst/castclass optimizations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20isinst/castclass%20optimizations&In-Reply-To=1079133512.9876.56.camel%40Ben">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004523.html">
   <LINK REL="Next"  HREF="004534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [PATCH] isinst/castclass optimizations</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPATCH%5D%20isinst/castclass%20optimizations&In-Reply-To=1079133512.9876.56.camel%40Ben"
       TITLE="[Mono-devel-list] [PATCH] isinst/castclass optimizations">lupus at ximian.com
       </A><BR>
    <I>Sat Mar 13 14:08:34 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004523.html">[Mono-devel-list] [PATCH] isinst/castclass optimizations
</A></li>
        <LI>Next message: <A HREF="004534.html">[Mono-devel-list] [PATCH] isinst/castclass optimizations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4533">[ date ]</a>
              <a href="thread.html#4533">[ thread ]</a>
              <a href="subject.html#4533">[ subject ]</a>
              <a href="author.html#4533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03/12/04 Ben Maurer wrote:
&gt;<i> Ok, apparently 1 is causing regressions, so i have extracted 2 out and
</I>&gt;<i> attached it below. I will fix part 1 and send it later.
</I>
Good, but keep in mind that a patch done that way won't be accepted.
You duplicate lots of code and it's not needed: bloat and complexity
are better kept out of the jit.

&gt;<i> This patch simply special cases sealed types, such as blah is string.
</I>
What are the results of running the corlib test suite, the test suite in
mono/tests and the regression tests in mini/ before and after the patch?
Also: when a change can be cleanly done without moving code around, it's
better done that way: we are not in a contest to produce the larger
diffs:-)
There is another issue, too: the check can be done in a faster way
so why optimize it only a bit? While we are at it we should go the full
way. I'll let you think about the better way to optimize it (it's
simple, really) to not spoil you the excitement of finding it
(but, of course, you can ask and I'll tell you).

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004523.html">[Mono-devel-list] [PATCH] isinst/castclass optimizations
</A></li>
	<LI>Next message: <A HREF="004534.html">[Mono-devel-list] [PATCH] isinst/castclass optimizations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4533">[ date ]</a>
              <a href="thread.html#4533">[ thread ]</a>
              <a href="subject.html#4533">[ subject ]</a>
              <a href="author.html#4533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
