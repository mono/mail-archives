<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Directory.cs : PathTooLongException not thrown.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Directory.cs%20%3A%20PathTooLongException%20not%20thrown.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004357.html">
   <LINK REL="Next"  HREF="004360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Directory.cs : PathTooLongException not thrown.</H1>
    <B>Rathna N</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Directory.cs%20%3A%20PathTooLongException%20not%20thrown.&In-Reply-To="
       TITLE="[Mono-devel-list] Directory.cs : PathTooLongException not thrown.">NRathna at novell.com
       </A><BR>
    <I>Tue Mar  2 08:45:02 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004357.html">[Mono-devel-list] Problems compiling mini in glibc 2.3.3 (TLS)
</A></li>
        <LI>Next message: <A HREF="004360.html">[Mono-devel-list] Re: [Mono-list] Directory.cs : PathTooLongException not thrown.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4358">[ date ]</a>
              <a href="thread.html#4358">[ thread ]</a>
              <a href="subject.html#4358">[ subject ]</a>
              <a href="author.html#4358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I wrote a TestFixture to test PathTooLongException and executed same
against .Net and Mono, 
 
In Mono methods in the Directory class, which are expected to throw
PathTooLongException are not throwing this exception as it does in .NET.

 
Different kinds of exceptions are thrown for same input instead of an
expected PathTooLongException exception.
For example,
a. Create throws --&gt; System.IO.IOException : Win32 IO returned
ERROR_FILENAME_EXCED_RANGE and returned path is correct.
b. Delete()  --&gt; returns  &quot;Win32 IO returned
ERROR_FILENAME_EXCED_RANGE&quot;, but returned path is empty.
c. Directory(path,true) --&gt; returns 
&quot;System.IO.DirectoryNotFoundException&quot; and path returned is correct.
d. Directory(path,false) --&gt; returns  &quot;Win32 IO returned
ERROR_FILENAME_EXCED_RANGE&quot;, but returned path is empty.
 
and so on .....
 
Attached zip file contains 3 files.
1. PathTooLongExceptionTest.cs
2. mono output
3. .Net output.
 
Please guide me, if i should file separate bugs for individual
methods?
 
thanks,
Rathna.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040302/6c0e5961/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040302/6c0e5961/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PathTooLongTest.zip
Type: application/x-zip-compressed
Size: 4664 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040302/6c0e5961/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040302/6c0e5961/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004357.html">[Mono-devel-list] Problems compiling mini in glibc 2.3.3 (TLS)
</A></li>
	<LI>Next message: <A HREF="004360.html">[Mono-devel-list] Re: [Mono-list] Directory.cs : PathTooLongException not thrown.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4358">[ date ]</a>
              <a href="thread.html#4358">[ thread ]</a>
              <a href="subject.html#4358">[ subject ]</a>
              <a href="author.html#4358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
