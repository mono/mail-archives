<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] TypeBuilder and Exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20TypeBuilder%20and%20Exceptions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004415.html">
   <LINK REL="Next"  HREF="004460.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] TypeBuilder and Exceptions</H1>
    <B>Marcus</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20TypeBuilder%20and%20Exceptions&In-Reply-To="
       TITLE="[Mono-devel-list] TypeBuilder and Exceptions">mathpup at mylinuxisp.com
       </A><BR>
    <I>Fri Mar  5 22:17:35 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="004415.html">[Mono-devel-list] Corlib not in Sync?
</A></li>
        <LI>Next message: <A HREF="004460.html">[Mono-devel-list] TypeBuilder and Exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4413">[ date ]</a>
              <a href="thread.html#4413">[ thread ]</a>
              <a href="subject.html#4413">[ subject ]</a>
              <a href="author.html#4413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I posted a bug report <A HREF="http://bugs.ximian.com/show_bug.cgi?id=55247">http://bugs.ximian.com/show_bug.cgi?id=55247</A> about some 
inconsistencies in exceptions that .NET raises but Mono does not. However, I 
also wanted to bring up the topic here.

During the time a Type is being constructed using a TypeBuilder instance, many 
of the reflection operations (that would normally be permitted on a Type) are 
not allowed by .NET. For example, if tb is a TypeBuilder under construction 
(i.e. CreateType() has not yet been called), tb.GetConstructors(), 
tb.GetMethods(), and many other methods throw exceptions under .NET. On the 
other hand, Mono fails to throw exceptions for those methods.

Someone has noted this for the particular case of GetEvents in TypeBuilder.cs:

	public override EventInfo[] GetEvents (BindingFlags bindingAttr) {
		// FIXME: Under MS.NET, this throws a NotImplementedException
		// But mcs calls this method. How can that be?
		return new EventInfo [0];

I am not sure if mcs still uses GetEvents or if mcs uses any of the other 
methods for which .NET throws an exception. However, if maximum compatibility 
with .NET is desired, it seems that checking which reflection methods .NET 
permits and matching that behavior on Mono, while keeping mcs working with 
these changes, needs to be done.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004415.html">[Mono-devel-list] Corlib not in Sync?
</A></li>
	<LI>Next message: <A HREF="004460.html">[Mono-devel-list] TypeBuilder and Exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4413">[ date ]</a>
              <a href="thread.html#4413">[ thread ]</a>
              <a href="subject.html#4413">[ subject ]</a>
              <a href="author.html#4413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
