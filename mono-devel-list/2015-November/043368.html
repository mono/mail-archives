<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Clarifying the relationship between docs/ and the	website
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Clarifying%20the%20relationship%20between%20docs/%20and%20the%0A%09website&In-Reply-To=%3CCACmR%2BBA-f_Ry%2BEjz1CqsR9XTAuR7jmq39LN0013pyfwJUt9EaQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043371.html">
   <LINK REL="Next"  HREF="043372.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Clarifying the relationship between docs/ and the	website</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Clarifying%20the%20relationship%20between%20docs/%20and%20the%0A%09website&In-Reply-To=%3CCACmR%2BBA-f_Ry%2BEjz1CqsR9XTAuR7jmq39LN0013pyfwJUt9EaQ%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Clarifying the relationship between docs/ and the	website">kumpera at gmail.com
       </A><BR>
    <I>Fri Nov  6 05:41:07 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="043371.html">[Mono-dev] The impact of running dlls compiled with /platform:x86 on a x86_64 machine under mono
</A></li>
        <LI>Next message: <A HREF="043372.html">[Mono-dev] self hosted WCF service with client certificates?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43368">[ date ]</a>
              <a href="thread.html#43368">[ thread ]</a>
              <a href="subject.html#43368">[ subject ]</a>
              <a href="author.html#43368">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Andi,

He's my take on your suggestions.

We have a big gap in our docs story. It would be great if we got back to
publishing API and runtime docs together with
each release. That would solve the issue of making them available.

Moving them back to the mono repo creates some friction to publish them on
the website and, if anything, we want to
reduce any friction. Getting better docs is hard as is today.

I like your second option, of embedding version strings in the docs. For
parts we got documents on, the runtime internal
design doesn't change as a pace that is fast enough to be a hassle.

Later we should have as part of our release process record in the mono repo
the docs hash and export the relevant parts to a
per-version archive. That would be great to have.



--
Rodrigo


On Wed, Oct 28, 2015 at 2:21 PM, Andi McClure &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">andi.mcclure at xamarin.com</A>&gt;
wrote:

&gt;<i> Hi. I have started working on refactoring the assembly/class loading in
</I>&gt;<i> mono, and will be writing some conceptual documentation as part of this
</I>&gt;<i> project. Because of this I am interested in trying to clean up the
</I>&gt;<i> situation with the mono runtime&#8217;s documentation, which I feel is a little
</I>&gt;<i> messy. At the moment, all of the design documentation for mono is in a
</I>&gt;<i> separate repository from the source, <A HREF="https://github.com/mono/website">https://github.com/mono/website</A> ,
</I>&gt;<i> which is published on the web directly to <A HREF="http://www.mono-project.com/">http://www.mono-project.com/</A>
</I>&gt;<i> using Github Pages. There are three big problems I see:
</I>&gt;<i>
</I>&gt;<i> - The documentation is not versioned. There is a git history for the
</I>&gt;<i> website repo, but if you have a copy of the mono repo there is no way to
</I>&gt;<i> relate a particular revision of mono (or even a particular major release)
</I>&gt;<i> to a specific version of the website docs.
</I>&gt;<i>
</I>&gt;<i> - There are still some docs in the main mono repository, under docs/,
</I>&gt;<i> which were never moved over to the website. These are almost all inaccurate
</I>&gt;<i> now.
</I>&gt;<i>
</I>&gt;<i> - The embedding API for the runtime is not documented on the web. There is
</I>&gt;<i> doxygen in the source, and it is possible to build HTML from that source,
</I>&gt;<i> but the mono project does not do this officially.
</I>&gt;<i>
</I>&gt;<i> I would like to do something about at least the first two of these
</I>&gt;<i> problems in the short term. The stale docs problem is easy: Delete the
</I>&gt;<i> stale docs. The first problem on the other hand seems to have multiple
</I>&gt;<i> possible solutions, so Rodrigo asked I put a request for comments on the
</I>&gt;<i> mailing list.
</I>&gt;<i>
</I>&gt;<i> After discussing this with a couple of people at Xamarin, here are the
</I>&gt;<i> potential solutions I see to the versioning problem:
</I>&gt;<i>
</I>&gt;<i> 1. The simple approach: Put a line in docs/README in the mono repo
</I>&gt;<i> specifically listing (or linking on Github) the git commit in the website
</I>&gt;<i> repo which documents that version. We would then make it part of the mono
</I>&gt;<i> release process to always update this link before tagging/tarballing.
</I>&gt;<i>
</I>&gt;<i> 2. Manually embed versioning information in the docs themselves: Start
</I>&gt;<i> writing the website documents in such a way that each one contains text
</I>&gt;<i> like &#8220;the following applies to version 4.4&#8221; or &#8220;this paragraph is true as
</I>&gt;<i> of 4.2.1 or later&#8221;. If a document changes significantly, the out-of-date
</I>&gt;<i> information could be moved to a /archived or /historical section within the
</I>&gt;<i> docs directory.
</I>&gt;<i>
</I>&gt;<i> 3. Move the runtime docs back from the website repo to the mono repo, so
</I>&gt;<i> that the docs and runtime are versioned in lockstep again, but have an
</I>&gt;<i> export process where at certain times (such as a release) the current state
</I>&gt;<i> is copied to the website. Probably only some parts of the website docs
</I>&gt;<i> would be exported in this way (for example, docs/advanced and
</I>&gt;<i> docs/compiling-mono on the website would be mirrors of folders in the mono
</I>&gt;<i> repo, but the gui and database folders on the website would not be).
</I>&gt;<i>
</I>&gt;<i> 4. Do something with git submodules. Instead of manually copying files, we
</I>&gt;<i> could make a new mono-docs repo on github, make this a submodule of the
</I>&gt;<i> mono repo inside docs/, and also make it a submodule of the website repo
</I>&gt;<i> inside docs/. Github Pages allows submodules inside of the gh-pages repo as
</I>&gt;<i> long as the submodule is set up read-only. This would be like the &#8220;export&#8221;
</I>&gt;<i> option, but instead of copying many files we would just have to update the
</I>&gt;<i> submodule state on the website every so often.
</I>&gt;<i>
</I>&gt;<i> I think my suggestion would be to start with &#8220;option 1&#8221; immediately, and
</I>&gt;<i> then plan to transition to option 3 as soon as practical. I like option 3
</I>&gt;<i> because it separates the &#8220;product&#8221; of the website from the working state of
</I>&gt;<i> the mono repo (at the moment, if I want to create a half-finished document
</I>&gt;<i> describing something that only exists in the master branch, there is no
</I>&gt;<i> good place to put it), and because option 3 is easy to build further work
</I>&gt;<i> on later. For example, if we had an export-to-website process, part of the
</I>&gt;<i> export process could be to build doxygen and copy it to the website also,
</I>&gt;<i> or to back up the old state of the docs to something like an /archived/4.3
</I>&gt;<i> directory within the website.
</I>&gt;<i>
</I>&gt;<i> (Starting to adopt a style of being specific about versions when writing
</I>&gt;<i> documentation, as in option 2, would of course also be a good idea on its
</I>&gt;<i> own.)
</I>&gt;<i>
</I>&gt;<i> What do people think about all this?
</I>&gt;<i>
</I>&gt;<i> - Andi
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20151106/d7eac65e/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20151106/d7eac65e/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043371.html">[Mono-dev] The impact of running dlls compiled with /platform:x86 on a x86_64 machine under mono
</A></li>
	<LI>Next message: <A HREF="043372.html">[Mono-dev] self hosted WCF service with client certificates?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43368">[ date ]</a>
              <a href="thread.html#43368">[ thread ]</a>
              <a href="subject.html#43368">[ subject ]</a>
              <a href="author.html#43368">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
