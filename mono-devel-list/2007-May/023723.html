<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] SiteMapProvider patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20SiteMapProvider%20patch&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023722.html">
   <LINK REL="Next"  HREF="023733.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] SiteMapProvider patch</H1>
    <B>Dumitru Ban</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20SiteMapProvider%20patch&In-Reply-To="
       TITLE="[Mono-dev] SiteMapProvider patch">dban at dako.ro
       </A><BR>
    <I>Tue May 29 04:45:29 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023722.html">[Mono-dev] patch for mono runtime / libgc to support debugger on OSX
</A></li>
        <LI>Next message: <A HREF="023733.html">[Mono-dev] SiteMapProvider patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23723">[ date ]</a>
              <a href="thread.html#23723">[ thread ]</a>
              <a href="subject.html#23723">[ subject ]</a>
              <a href="author.html#23723">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to create a patch for SiteMapProvider-&gt;IsAccessibleToUser method.

Let's say a web.sitemap file is present, having the following content:
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;siteMap xmlns=&quot;<A HREF="http://schemas.microsoft.com/AspNet/SiteMap-File-1.0&quot;">http://schemas.microsoft.com/AspNet/SiteMap-File-1.0&quot;</A> &gt;
 &lt;siteMapNode url=&quot;home.aspx&quot; title=&quot;Home&quot;&gt;
  &lt;siteMapNode title=&quot;Test_no_url_no_roles&quot;/&gt;
  &lt;siteMapNode title=&quot;Test_no_url_roles&quot;  roles=&quot;Administrator&quot;/&gt;
  &lt;/siteMapNode&gt;
&lt;/siteMap&gt;

With Microsoft .NET, the &quot;Test_no_url_no_roles&quot; node is not accessible to any user and the &quot;Test_no_url_roles&quot; is accessible only to an Administrator.
In mono, both nodes are accessible to anyone. And this is because if the url of the node is null or is the empty string, the method returns true.

On the method there is a [MonoTODO (&quot;need to implement cases 2 and 3&quot;)]. But number 2 is already started and the code
String url = node.Url;
if (String.IsNullOrEmpty(url))
    return true;
is already there. 

Shouldn't we have the same behaviour as Microsoft .NET?

Thanks &amp; best regards,
Dumi.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070529/0ccd4447/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070529/0ccd4447/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023722.html">[Mono-dev] patch for mono runtime / libgc to support debugger on OSX
</A></li>
	<LI>Next message: <A HREF="023733.html">[Mono-dev] SiteMapProvider patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23723">[ date ]</a>
              <a href="thread.html#23723">[ thread ]</a>
              <a href="subject.html#23723">[ subject ]</a>
              <a href="author.html#23723">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
