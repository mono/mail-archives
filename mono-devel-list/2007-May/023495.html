<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] mjs and runtime: JScript and JavaScript differences,	runtime exception
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mjs%20and%20runtime%3A%20JScript%20and%20JavaScript%20differences%2C%0A%09runtime%20exception&In-Reply-To=1178285662.3382.34.camel%40localhost.rambrand.intra">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023481.html">
   <LINK REL="Next"  HREF="023425.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] mjs and runtime: JScript and JavaScript differences,	runtime exception</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mjs%20and%20runtime%3A%20JScript%20and%20JavaScript%20differences%2C%0A%09runtime%20exception&In-Reply-To=1178285662.3382.34.camel%40localhost.rambrand.intra"
       TITLE="[Mono-dev] mjs and runtime: JScript and JavaScript differences,	runtime exception">monoman at gmail.com
       </A><BR>
    <I>Tue May  8 08:45:54 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023481.html">[Mono-dev] mjs and runtime: JScript and JavaScript differences,	runtime	exception
</A></li>
        <LI>Next message: <A HREF="023425.html">[Mono-dev] GetAddrOf mono-basic vb.net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23495">[ date ]</a>
              <a href="thread.html#23495">[ thread ]</a>
              <a href="subject.html#23495">[ subject ]</a>
              <a href="author.html#23495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, JScript.NET isn't ECMAScript, period. You must follow the MSDN
documentation about the language.

The newer JScript in the Silverlight 1.1, alpha, is a rewrite that
seems to be more compliant with ECMAScript, but it is not open, and we
didn't even started to look into doing an open implementation of it.

Any particular reason to use such a language, instead of a more
supported one like C#, Boo (which has an interpreter and interactive
shell, besides the compiler) or IronPython?

Anyway Mono's Jscript.NET follows MS specs (not ECMA's) so, again, you
should follow MSDN documentation, that also shows how to call compiled
library code (managed libs like GTK#, not GTK+ directly).

Fun,

On 5/4/07, J&#246;rg F. M&#252;ller &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jfm at visonaut.de</A>&gt; wrote:
&gt;<i> Dear developers,
</I>&gt;<i>
</I>&gt;<i> first of all thanks for the hard work that went into the mono framework.
</I>&gt;<i>
</I>&gt;<i> I'm interested in prototyping a simple application in mono/JScript and
</I>&gt;<i> Gtk+. I tried to find some documentation, example code or tutorials on
</I>&gt;<i> how to get started, but there doesn't seem to be anything of the
</I>&gt;<i> mono-project's pages.
</I>&gt;<i>
</I>&gt;<i> Q1: Does prototype based inheritance work in JScript via mjs/mono?
</I>&gt;<i>
</I>&gt;<i> Implementing a simple inheritance chain like the following yields a
</I>&gt;<i> runtime exception though it compiles just fine:
</I>&gt;<i>
</I>&gt;<i> // BEGIN ---------------------------
</I>&gt;<i> var myName = &quot;Mr. Foo&quot;;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> function Human(name)
</I>&gt;<i> {
</I>&gt;<i>   this.name = name;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> function Person(name, nationality)
</I>&gt;<i> {
</I>&gt;<i>     Human.call(this, name);
</I>&gt;<i>     this.nationality = nationality;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Person.prototype = new Human();
</I>&gt;<i> Person.prototype.constructor = Person;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> var aPerson = new Person(myName, &quot;German&quot;);
</I>&gt;<i> print( &quot;This is &quot; + aPerson.name + &quot;, &quot;+ aPerson.nationality + &quot;\n&quot;);
</I>&gt;<i> // --------------------- END
</I>&gt;<i>
</I>&gt;<i> I implemented the inheritance according to  &quot;JavaScript: Pocket
</I>&gt;<i> Reference, David Flanagan&quot;.
</I>&gt;<i>
</I>&gt;<i> Consulting the MSDN about JScript I found that only the class based
</I>&gt;<i> inheritance is covered, though the &quot;prototype&quot; property and the &quot;call&quot;
</I>&gt;<i> method should be implemented in JScript as they are in ECMA-Script.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Here is the runtime exception:
</I>&gt;<i>
</I>&gt;<i> mjs hello-world.js; mono hello-world.exe
</I>&gt;<i> Compilation succeeded
</I>&gt;<i>
</I>&gt;<i> Unhandled Exception: System.Reflection.TargetInvocationException:
</I>&gt;<i> Exception has been thrown by the target of an invocation. ---&gt;
</I>&gt;<i> System.Reflection.TargetInvocationException: Exception has been thrown
</I>&gt;<i> by the target of an invocation. ---&gt;
</I>&gt;<i> System.Reflection.TargetInvocationException: Exception has been thrown
</I>&gt;<i> by the target of an invocation. ---&gt; Microsoft.JScript.JScriptException:
</I>&gt;<i> Unexpected type: value is null or undefined
</I>&gt;<i>   at Microsoft.JScript.Convert.ToObject (System.Object value,
</I>&gt;<i> Microsoft.JScript.Vsa.VsaEngine engine) [0x00000]
</I>&gt;<i>   at JScript 0.Human (System.Object , Microsoft.JScript.Vsa.VsaEngine ,
</I>&gt;<i> System.Object ) [0x00000]
</I>&gt;<i>   at &lt;0x00000&gt; &lt;unknown method&gt;
</I>&gt;<i>   at (wrapper managed-to-native)
</I>&gt;<i> System.Reflection.MonoMethod:InternalInvoke (object,object[])
</I>&gt;<i>   at System.Reflection.MonoMethod.Invoke (System.Object obj,
</I>&gt;<i> BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i> System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i> [0x00000] --- End of inner exception stack trace ---
</I>&gt;<i>
</I>&gt;<i>   at System.Reflection.MonoMethod.Invoke (System.Object obj,
</I>&gt;<i> BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i> System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i> [0x00000]
</I>&gt;<i>   at System.Reflection.MethodBase.Invoke (System.Object obj,
</I>&gt;<i> System.Object[] parameters) [0x00000]
</I>&gt;<i>   at Microsoft.JScript.ScriptFunction.Invoke (System.Object thisOb,
</I>&gt;<i> System.Object[] args) [0x00000]
</I>&gt;<i>   at Microsoft.JScript.FunctionPrototype.call (System.Object thisObj,
</I>&gt;<i> System.Object thisArg, System.Object[] args) [0x00000]
</I>&gt;<i>   at &lt;0x00000&gt; &lt;unknown method&gt;
</I>&gt;<i>   at (wrapper managed-to-native)
</I>&gt;<i> System.Reflection.MonoMethod:InternalInvoke (object,object[])
</I>&gt;<i>   at System.Reflection.MonoMethod.Invoke (System.Object obj,
</I>&gt;<i> BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i> System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i> [0x00000] --- End of inner exception stack trace ---
</I>&gt;<i>
</I>&gt;<i>   at System.Reflection.MonoMethod.Invoke (System.Object obj,
</I>&gt;<i> BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i> System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i> [0x00000]
</I>&gt;<i>   at System.Reflection.MethodBase.Invoke (System.Object obj,
</I>&gt;<i> System.Object[] parameters) [0x00000]
</I>&gt;<i>   at Microsoft.JScript.ScriptFunction.Invoke (System.Object thisOb,
</I>&gt;<i> System.Object[] args) [0x00000]
</I>&gt;<i>   at Microsoft.JScript.LateBinding.CallValue (System.Object thisObj,
</I>&gt;<i> System.Object val, System.Object[] arguments, Boolean construct, Boolean
</I>&gt;<i> brackets, Microsoft.JScript.Vsa.VsaEngine engine) [0x00000]
</I>&gt;<i>   at Microsoft.JScript.LateBinding.Call (System.Object[] arguments,
</I>&gt;<i> Boolean construct, Boolean brackets, Microsoft.JScript.Vsa.VsaEngine
</I>&gt;<i> engine) [0x00000]
</I>&gt;<i>   at JScript 0.Person (System.Object , Microsoft.JScript.Vsa.VsaEngine ,
</I>&gt;<i> System.Object , System.Object ) [0x00000]
</I>&gt;<i>   at &lt;0x00000&gt; &lt;unknown method&gt;
</I>&gt;<i>   at (wrapper managed-to-native)
</I>&gt;<i> System.Reflection.MonoMethod:InternalInvoke (object,object[])
</I>&gt;<i>   at System.Reflection.MonoMethod.Invoke (System.Object obj,
</I>&gt;<i> BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i> System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i> [0x00000] --- End of inner exception stack trace ---
</I>&gt;<i>
</I>&gt;<i>   at System.Reflection.MonoMethod.Invoke (System.Object obj,
</I>&gt;<i> BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i> System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i> [0x00000]
</I>&gt;<i>   at System.Reflection.MethodBase.Invoke (System.Object obj,
</I>&gt;<i> System.Object[] parameters) [0x00000]
</I>&gt;<i>   at Microsoft.JScript.ScriptFunction.Invoke (System.Object thisOb,
</I>&gt;<i> System.Object[] args) [0x00000]
</I>&gt;<i>   at Microsoft.JScript.ScriptFunction.CreateInstance (System.Object[]
</I>&gt;<i> args) [0x00000]
</I>&gt;<i>   at Microsoft.JScript.LateBinding.CallValue (System.Object thisObj,
</I>&gt;<i> System.Object val, System.Object[] arguments, Boolean construct, Boolean
</I>&gt;<i> brackets, Microsoft.JScript.Vsa.VsaEngine engine) [0x00000]
</I>&gt;<i>   at JScript 0.Global Code () [0x00000]
</I>&gt;<i>   at JScript Main.Main (System.String[] ) [0x00000]
</I>&gt;<i>
</I>&gt;<i> mono --version
</I>&gt;<i> Mono JIT compiler version 1.2.3.1, (C) 2002-2006 Novell, Inc and
</I>&gt;<i> Contributors.
</I>&gt;<i>         TLS:           __thread
</I>&gt;<i>         GC:            Included Boehm (with typed GC)
</I>&gt;<i>         SIGSEGV:       normal
</I>&gt;<i>         Architecture:  x86
</I>&gt;<i>         Disabled:      none
</I>&gt;<i>
</I>&gt;<i> mjs: mono-mjs 1.2.3.1-5 on Debian
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Q2: How do I refer to the Gnome Classes/Assemblies from within JScript?
</I>&gt;<i>
</I>&gt;<i> Sorry for bothering.
</I>&gt;<i>
</I>&gt;<i> Kind regards,
</I>&gt;<i> J&#246;rg M&#252;ller
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>

-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
&quot;The reasonable man adapts himself to the world; the unreasonable one
persists in trying to adapt the world to himself. Therefore all
progress depends on the unreasonable man.&quot; George Bernard Shaw
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023481.html">[Mono-dev] mjs and runtime: JScript and JavaScript differences,	runtime	exception
</A></li>
	<LI>Next message: <A HREF="023425.html">[Mono-dev] GetAddrOf mono-basic vb.net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23495">[ date ]</a>
              <a href="thread.html#23495">[ thread ]</a>
              <a href="subject.html#23495">[ subject ]</a>
              <a href="author.html#23495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
