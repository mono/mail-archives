<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] AssemblyName.ctor () can't parse	ProcessorArchitecture.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20AssemblyName.ctor%20%28%29%20can%27t%20parse%0A%09ProcessorArchitecture.&In-Reply-To=1178444374.2130.4.camel%40k5m10marek.cl.wroc.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023449.html">
   <LINK REL="Next"  HREF="023492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] AssemblyName.ctor () can't parse	ProcessorArchitecture.</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20AssemblyName.ctor%20%28%29%20can%27t%20parse%0A%09ProcessorArchitecture.&In-Reply-To=1178444374.2130.4.camel%40k5m10marek.cl.wroc.pl"
       TITLE="[Mono-dev] [PATCH] AssemblyName.ctor () can't parse	ProcessorArchitecture.">lupus at ximian.com
       </A><BR>
    <I>Mon May  7 11:49:34 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023449.html">[Mono-dev] [PATCH] AssemblyName.ctor () can't parse	ProcessorArchitecture.
</A></li>
        <LI>Next message: <A HREF="023492.html">[Mono-dev] [PATCH] AssemblyName.ctor () can't parse	ProcessorArchitecture.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23479">[ date ]</a>
              <a href="thread.html#23479">[ thread ]</a>
              <a href="subject.html#23479">[ subject ]</a>
              <a href="author.html#23479">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 05/06/07 Marek Sieradzki wrote:
&gt;<i> I know that AssemblyName.ProcessorArchitecture isn't used in Mono but
</I>&gt;<i> I'm using AssemblyName.ctor in xbuild (to build AssemblyName from
</I>&gt;<i> string) and current version throws exception when it sees
</I>&gt;<i> &quot;ProcessorArchitecture=something&quot;.
</I>&gt;<i> 
</I>&gt;<i> Here's a patch that makes it assign correct values to new field in
</I>&gt;<i> MonoAssemblyName.
</I>
Sadly MonoAssemblyName is exported in a public header and can't be
changed: it would be an ABI change, which we can't do until mono 2.0.
This means that the changes required are more complex. One idea is to
define a MonoInternalAssemblyName, make it embed a MonoAssemblyName
field and add the additional fields (cpu_arch). Then all the
internal functions that take a MonoAssemblyName should be changed to
take a MonoInternalAssemblyName instead. It may also be better,
depending on the amount of changes to not embed MonoAssemblyName in
MonoInternalAssemblyName, but to simple have the same fields in it.
At Mono 2.0 time we could typedef MonoInternalAssemblyName MonoAssemblyName;
and provide accessors for the fields.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023449.html">[Mono-dev] [PATCH] AssemblyName.ctor () can't parse	ProcessorArchitecture.
</A></li>
	<LI>Next message: <A HREF="023492.html">[Mono-dev] [PATCH] AssemblyName.ctor () can't parse	ProcessorArchitecture.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23479">[ date ]</a>
              <a href="thread.html#23479">[ thread ]</a>
              <a href="subject.html#23479">[ subject ]</a>
              <a href="author.html#23479">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
