<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Possible with Mono/How to
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Possible%20with%20Mono/How%20to&In-Reply-To=c3eae3600705262028s6fe32580kea72b4a1e1d7530a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023687.html">
   <LINK REL="Next"  HREF="023692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Possible with Mono/How to</H1>
    <B>Colt D. Majkrzak</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Possible%20with%20Mono/How%20to&In-Reply-To=c3eae3600705262028s6fe32580kea72b4a1e1d7530a%40mail.gmail.com"
       TITLE="[Mono-dev] Possible with Mono/How to">majkrzak at gmail.com
       </A><BR>
    <I>Sat May 26 23:46:41 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023687.html">[Mono-dev] Fwd: javascript compiler for Moonlight.
</A></li>
        <LI>Next message: <A HREF="023692.html">[Mono-dev] SLOC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23690">[ date ]</a>
              <a href="thread.html#23690">[ thread ]</a>
              <a href="subject.html#23690">[ subject ]</a>
              <a href="author.html#23690">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> I actually discovered a clear cut way on how to do this, after some messing
around with mono and SSHD.

 

Here's how you do it, for anyone interested:

 

First build your executable, and mkbundle the executable.

Take the output mkbundle, rename if you didn't use -o and place it in the
filesystem, I choose /bin/ (Where most your linux shells reside)

Next you will need to edit two things in the system itself, you will need to
edit /etc/shells and add a new line with the /path/to/mymkbundledmonoproject

Then change the user you wish to have only the mono project as a shell,
there shell entry to /path/to/mymkbundledmonoproject

 

Login as user, and you should be looking at your mono project, very useful
for giving 'shell' access but with your own twist so your end users can't
break themselves.

 

Now you have the all power of SSHD, secured (assuming you've disabled telnet
like I have on all my production servers), and never had to write a single
line of socket code, and even if the user Control breaks out of the mono
app, the system will terminate their connection. J

 

From: Matthew McDonald [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mail.matt.mcdonald at gmail.com</A>] 
Sent: Saturday, May 26, 2007 10:28 PM
To: Colt D. Majkrzak
Subject: Re: [Mono-dev] Possible with Mono/How to

 

Just a thought but...

When they log into your system via SSH you could have it run a script which
looks like this:

#!/bin/bash

#code to run your mono app goes here

logout;

-Matt McDonald

On 5/26/07, Colt D. Majkrzak &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">majkrzak at gmail.com</A>&gt; wrote:

Hello,

 

I'm currently working on a project to create a menu driven interface across
SSH in my server for customers.  Mono seems to be running it great, but the
problem I'm running into is that I want the end user to login, and be locked
into my mono driven .NET application.  I've tried a few different ways to
make mono act as a shell, and various bash scripts without much success, I
always am able to break back to bash hitting Control +C a couple times.  Is
there a way via some C# code, bash, or making my .NET app act as a shell
interface to SSHD to prevent this?

 

TIA.

 


_______________________________________________
Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A> 
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070526/980d2708/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070526/980d2708/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023687.html">[Mono-dev] Fwd: javascript compiler for Moonlight.
</A></li>
	<LI>Next message: <A HREF="023692.html">[Mono-dev] SLOC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23690">[ date ]</a>
              <a href="thread.html#23690">[ thread ]</a>
              <a href="subject.html#23690">[ subject ]</a>
              <a href="author.html#23690">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
