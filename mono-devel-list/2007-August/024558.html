<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Functional programming like pure ansi C
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Functional%20programming%20like%20pure%20ansi%20C&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024560.html">
   <LINK REL="Next"  HREF="024559.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Functional programming like pure ansi C</H1>
    <B>Stefan Fink</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Functional%20programming%20like%20pure%20ansi%20C&In-Reply-To="
       TITLE="[Mono-dev] Functional programming like pure ansi C">sf at granit.de
       </A><BR>
    <I>Thu Aug 16 05:38:39 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024560.html">[Mono-dev] Embedding mono on OS X,	solving name collisions with Carbon.framework
</A></li>
        <LI>Next message: <A HREF="024559.html">[Mono-dev] Functional programming like pure ansi C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24558">[ date ]</a>
              <a href="thread.html#24558">[ thread ]</a>
              <a href="subject.html#24558">[ subject ]</a>
              <a href="author.html#24558">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hallo,
we want to port our own scripting language (only the scripts) to mono (c#). i 
have a few questions :

1. Can i call a new Mono programm inside the other one ???

Example.....................

makro1.mak
--------------------------------------------------

program;
var
   int ret;
begin
    ret = MAKROSTART(&quot;makro2.mak HALLO&quot;);
    print string (&quot;Makro 2 returned : &quot;+ztostr(ret)+&quot;\n&quot;);
end.



makro2.mak
----------------------------------------------------------------------
program;
var
  string str;
begin
    GET_VARTEXT(&quot;MAK_PARAM1&quot;,*str);
    print string (str+&quot;\n&quot;);
    return(1);
end.




2. include functions from many files ????

Exampe........................


makro1.mak
------------------------------------------------

include(&quot;include1.mak&quot;);
include(&quot;include2.mak&quot;);
.....
....


program;
var
  real val,newval;
  string str,newstr;
begin
    str = &quot;Hallo&quot;;
    newstr = strteil(str,1,2);
    print string (newstr);

   val = 0.2;
   newval = arccot(val);
   print string (ztostr(newval));
end.


include1.mak
----------------------------------------------

procedure strteil(string str, int pos, int anz);
var
   string newstr;
begin
 .....
    newstr = .....;
 ....
    return(newstr);   
end;

.....



include2.mak
---------------------------------------------------------

procedure arccot(real x);
begin
  return((PI/2)-atan(x));
end;

.....



3. call by value or call by reference ????


Example...............


makro1.mak
-------------------------------------------------------


procedure str_para (string s, string para, string trenner);
var
  int pos,len;
begin
  len = strlng(trenner);
  pos = strsuch(s,trenner);
  if (pos == 0) then
    pos = strlng(s)+1;
  para = strteil(s,1,pos-1);
  s = strentf(s,1,pos+len-1);
end;

program;
var
   string str,para;
begin
    str = &quot;Hallo,du,Haus,Tanne&quot;;
   while (str != &quot;&quot;) do
   begin
       str_para(*str,*para,&quot;,&quot;);
       print string (&quot;Para : &quot;+para+&quot;\n&quot;);
   end;
end.


PS: * indicates call by reference       --      no * indicates call by value




4. evaluation at runtime

Example...........


program;
var
   int x,y,z;
begin
     x = 5;
     y = 6;
     z = berstr(&quot;x+y&quot;);
    print int (z);
end.


5. embedding mono in c / c++ application and call function from the script to
the application


Example..........


C-Application
----------------------------------------

void drawrect(double x1, double y1, double x2, double y2) {
...
}


void main() {
}


Mono Script (program)
--------------------------------------------------

....

  drawrect(1,1,5,5);
.....


-- 
Mit freundlichen Gr&#252;&#223;en
   Stefan Fink

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024560.html">[Mono-dev] Embedding mono on OS X,	solving name collisions with Carbon.framework
</A></li>
	<LI>Next message: <A HREF="024559.html">[Mono-dev] Functional programming like pure ansi C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24558">[ date ]</a>
              <a href="thread.html#24558">[ thread ]</a>
              <a href="subject.html#24558">[ subject ]</a>
              <a href="author.html#24558">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
