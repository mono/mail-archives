<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Cecil improvement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Cecil%20improvement&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D045E6688%40dhost002-45.dex002.intermedia.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024620.html">
   <LINK REL="Next"  HREF="024628.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Cecil improvement</H1>
    <B>Jb Evain</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Cecil%20improvement&In-Reply-To=DA63C6E8B207E748B20D46DFED7B772D045E6688%40dhost002-45.dex002.intermedia.net"
       TITLE="[Mono-dev] Cecil improvement">jb at nurv.fr
       </A><BR>
    <I>Tue Aug 21 11:07:40 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024620.html">[Mono-dev] Cecil improvement
</A></li>
        <LI>Next message: <A HREF="024628.html">[Mono-dev] Cecil improvement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24627">[ date ]</a>
              <a href="thread.html#24627">[ thread ]</a>
              <a href="subject.html#24627">[ subject ]</a>
              <a href="author.html#24627">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

On 8/21/07, Roei Erez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">roeie at mainsoft.com</A>&gt; wrote:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> As you may know we, at mainsoft, use cecil library.
</I>&gt;<i>
</I>&gt;<i> We have made some analysis for the performance and found that loading
</I>&gt;<i> assemblies with cecil has a lot of memory consuming impact.
</I>&gt;<i>
</I>&gt;<i> Investigating this thing more had shown that the code creates a full object
</I>&gt;<i> model on top of the assembly row tables.
</I>&gt;<i>
</I>&gt;<i> We understand that for writing/creating assembly using cecil , building a
</I>&gt;<i> full object model  might be unavoidable, but for a lot of users that only
</I>&gt;<i> wants to read an assembly, and event interested only in part of the assembly
</I>&gt;<i> it might be not necessary.
</I>&gt;<i>
</I>&gt;<i> We believe that improving this area will give theses users a better
</I>&gt;<i> experience that will be realized in less memory consumption and faster
</I>&gt;<i> loading time.
</I>&gt;<i>
</I>&gt;<i> Nowadays, we are looking for ways to improve cecil in this area.
</I>&gt;<i>
</I>&gt;<i> I will be happy to know what you think, and whether you have had thoughts
</I>&gt;<i> about this issue.
</I>&gt;<i>
</I>&gt;<i> Any thoughts, suggestions and questions are welcome.
</I>
I'm also interested in improving Cecil's memory usage, and assembly
load time, as it affects basically every user.

The easier way I can think of right now, to save some memory, is to
discard the Cecil's representation of the table heap after an assembly
is loaded, as it is not need afterwards. But that won't improve the
load time.

A real and full optimization would be to read Cecil's higher level
object model straight from the raw bytes. But that requires quite a
big amount of work. And extra work to keep the assembly writing part
working.

There's also a few people using only the Mono.Cecil.Binary part, to
only read the PE file. So there are quite a few things to take into
consideration before doing anything.

-- 
Jb Evain  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jb at nurv.fr</A>&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024620.html">[Mono-dev] Cecil improvement
</A></li>
	<LI>Next message: <A HREF="024628.html">[Mono-dev] Cecil improvement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24627">[ date ]</a>
              <a href="thread.html#24627">[ thread ]</a>
              <a href="subject.html#24627">[ subject ]</a>
              <a href="author.html#24627">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
