<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] System.Type GetMethod problem.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Type%20GetMethod%20problem.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024421.html">
   <LINK REL="Next"  HREF="024423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] System.Type GetMethod problem.</H1>
    <B>Arek Waliszewski</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Type%20GetMethod%20problem.&In-Reply-To="
       TITLE="[Mono-dev] System.Type GetMethod problem.">arek at forcom.com.pl
       </A><BR>
    <I>Mon Aug  6 04:22:08 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024421.html">[Mono-dev] .Net 2.0 asynchronous web pages
</A></li>
        <LI>Next message: <A HREF="024423.html">[Mono-dev] System.Type GetMethod problem.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24422">[ date ]</a>
              <a href="thread.html#24422">[ thread ]</a>
              <a href="subject.html#24422">[ subject ]</a>
              <a href="author.html#24422">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There is something wrong with Type.GetMethod() implementation.
Look:

using System;
using System.Reflection;

namespace Test
{
    class A
    {
        public virtual void f(int i1, int i2) {}
        public virtual void f(int i1, int i2, bool b) {}
    }

    class B : A
    {
        public override void f(int i1, int i2, bool b) {}
    }

    static class Program
    {
        private const BindingFlags BINDING_FLAGS
            = BindingFlags.Public | BindingFlags.NonPublic
            | BindingFlags.Instance | BindingFlags.Static
            | BindingFlags.IgnoreCase;

        [STAThread]
        static void Main()
        {
            Type tB = typeof(B);
            MethodInfo mi = tB.GetMethod(&quot;f&quot;, BINDING_FLAGS);

            if (mi != null)
                Console.WriteLine(&quot;Method was found!&quot;);
        }
    }
}

On Microsoft .NET this program raises 
System.Reflection.AmbiguousMatchException, which is correct behavior IMHO.

On Mono GetMethod returns 'public override void f(int i1, int i2, bool 
b)' from class B. It works as it was specified BindingFlags.DeclaredOnly 
flag.

What do you think?

Regards
Arek


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024421.html">[Mono-dev] .Net 2.0 asynchronous web pages
</A></li>
	<LI>Next message: <A HREF="024423.html">[Mono-dev] System.Type GetMethod problem.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24422">[ date ]</a>
              <a href="thread.html#24422">[ thread ]</a>
              <a href="subject.html#24422">[ subject ]</a>
              <a href="author.html#24422">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
