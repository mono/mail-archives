<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] How To: ASP.NET Ajax with Mono (with	System.Web.Extensions.dll)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20How%20To%3A%20ASP.NET%20Ajax%20with%20Mono%20%28with%0A%09System.Web.Extensions.dll%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024719.html">
   <LINK REL="Next"  HREF="024724.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] How To: ASP.NET Ajax with Mono (with	System.Web.Extensions.dll)</H1>
    <B>Onur Gumus</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20How%20To%3A%20ASP.NET%20Ajax%20with%20Mono%20%28with%0A%09System.Web.Extensions.dll%29&In-Reply-To="
       TITLE="[Mono-dev] How To: ASP.NET Ajax with Mono (with	System.Web.Extensions.dll)">emperon at gmail.com
       </A><BR>
    <I>Tue Aug 28 16:12:49 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024719.html">[Mono-dev] gtk-sharp compile issue
</A></li>
        <LI>Next message: <A HREF="024724.html">[Mono-dev] How To: ASP.NET Ajax with Mono	(with	System.Web.Extensions.dll)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24723">[ date ]</a>
              <a href="thread.html#24723">[ thread ]</a>
              <a href="subject.html#24723">[ subject ]</a>
              <a href="author.html#24723">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello  I managed to run ASP.NET Ajax with Mono.

1-) Check out mcs (you need more than System.Web.Extensions to compile)  svn
co <A HREF="svn://anonsvn.mono-project.com/viewcvs/trunk/mcs/">svn://anonsvn.mono-project.com/viewcvs/trunk/mcs/</A>  you might also need
<A HREF="svn://anonsvn.mono-project.com/viewcvs/trunk/mono/">svn://anonsvn.mono-project.com/viewcvs/trunk/mono/</A>   I am not sure if it is
necessary since I already have them in the same dir.

2-) Change to (where ever you checked out)/mcs/class/System.Web.Extensions
directory and run make

3-) Create a new Web Project via Monodevelop or create a Default.aspx file
from command line.

4-) Add your built dll to your project . It resides on (where ever you
checked out)/mcs/class/lib/net_2_0/System.Web.Extensions.dll

5-) Make a Default.aspx file as below:

&lt;%@ Page Language=&quot;C#&quot; %&gt;

&lt;script runat=&quot;server&quot;&gt;

    protected void Button1_Click(object sender, EventArgs e)
    {
         Label Label1 = (Label)this.FindControl(&quot;Label1&quot;);
        Label1.Text = &quot;Refreshed at &quot; +
            DateTime.Now.ToString();
    }
&lt;/script&gt;

&lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A> &gt;
&lt;head runat=&quot;server&quot;&gt;
    &lt;title&gt;Untitled Page&lt;/title&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    #UpdatePanel1 {
      width:300px; height:100px;
     }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;
    &lt;div style=&quot;padding-top: 10px&quot;&gt;
        &lt;asp:ScriptManager ID=&quot;ScriptManager1&quot; runat=&quot;server&quot;&gt;
        &lt;/asp:ScriptManager&gt;
        &lt;asp:UpdatePanel ID=&quot;UpdatePanel1&quot; runat=&quot;server&quot;&gt;
            &lt;ContentTemplate&gt;

                &lt;asp:Label ID=&quot;Label1&quot; runat=&quot;server&quot; Text=&quot;Panel
created.&quot;&gt;&lt;/asp:Label&gt;&lt;br /&gt;
                &lt;asp:Button ID=&quot;Button1&quot; runat=&quot;server&quot;
OnClick=&quot;Button1_Click&quot; Text=&quot;Button&quot; /&gt;

            &lt;/ContentTemplate&gt;
        &lt;/asp:UpdatePanel&gt;
        &lt;br /&gt;
        &lt;/div&gt;

    &lt;/div&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;

6-) Add a Web.config file to your project and fill it as below:

&lt;?xml version=&quot;1.0&quot;?&gt;
 &lt;configuration&gt;
  &lt;configSections&gt;
    &lt;sectionGroup name=&quot;system.web.extensions&quot;
        type=&quot;System.Web.Configuration.SystemWebExtensionsSectionGroup,
System.Web.Extensions, Version=1.0.61025.0, Culture=neutral,
PublicKeyToken=31bf3856ad364e35&quot;&gt;
      &lt;sectionGroup name=&quot;scripting&quot;
        type=&quot;System.Web.Configuration.ScriptingSectionGroup,
        System.Web.Extensions, Version=1.0.61025.0, Culture=neutral,
        PublicKeyToken=31bf3856ad364e35&quot;&gt;
          &lt;section name=&quot;scriptResourceHandler&quot;
            type=&quot;
System.Web.Configuration.ScriptingScriptResourceHandlerSection,
            System.Web.Extensions, Version=1.0.61025.0,
            Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;
            requirePermission=&quot;false&quot;
            allowDefinition=&quot;MachineToApplication&quot;/&gt;
        &lt;sectionGroup name=&quot;webServices&quot;
            type=&quot;System.Web.Configuration.ScriptingWebServicesSectionGroup,

            System.Web.Extensions, Version=1.0.61025.0,
            Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;&gt;
          &lt;section name=&quot;jsonSerialization&quot;
              type=&quot;
System.Web.Configuration.ScriptingJsonSerializationSection,
              System.Web.Extensions, Version=1.0.61025.0,
              Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;
              requirePermission=&quot;false&quot; allowDefinition=&quot;Everywhere&quot; /&gt;
          &lt;section name=&quot;profileService&quot;
              type=&quot;System.Web.Configuration.ScriptingProfileServiceSection,

              System.Web.Extensions, Version=1.0.61025.0,
              Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;
              requirePermission=&quot;false&quot;
              allowDefinition=&quot;MachineToApplication&quot; /&gt;
          &lt;section name=&quot;authenticationService&quot;
              type=&quot;
System.Web.Configuration.ScriptingAuthenticationServiceSection,
              System.Web.Extensions, Version=1.0.61025.0,
              Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;
              requirePermission=&quot;false&quot;
              allowDefinition=&quot;MachineToApplication&quot; /&gt;
        &lt;/sectionGroup&gt;
      &lt;/sectionGroup&gt;
    &lt;/sectionGroup&gt;
  &lt;/configSections&gt;


 &lt;system.web&gt;
  &lt;compilation debug=&quot;true&quot; /&gt;
  &lt;pages&gt;
    &lt;controls&gt;
      &lt;add tagPrefix=&quot;asp&quot; namespace=&quot;System.Web.UI&quot; assembly=&quot;
System.Web.Extensions, Version=1.0.61025.0, Culture=neutral,
PublicKeyToken=31bf3856ad364e35&quot;/&gt;
    &lt;/controls&gt;
  &lt;/pages&gt;

   &lt;httpModules&gt;
    &lt;add name=&quot;ScriptModule&quot; type=&quot;System.Web.Handlers.ScriptModule,
System.Web.Extensions, Version=1.0.61025.0, Culture=neutral,
PublicKeyToken=31bf3856ad364e35&quot;/&gt;
  &lt;/httpModules&gt;

  &lt;httpHandlers&gt;
    &lt;remove verb=&quot;*&quot; path=&quot;*.asmx&quot;/&gt;
    &lt;add verb=&quot;*&quot; path=&quot;*.asmx&quot; validate=&quot;false&quot; type=&quot;
System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions,
Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;/&gt;
    &lt;add verb=&quot;*&quot; path=&quot;*_AppService.axd&quot; validate=&quot;false&quot; type=&quot;
System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions,
Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;/&gt;
    &lt;add verb=&quot;GET,HEAD&quot; path=&quot;ScriptResource.axd&quot; type=&quot;
System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=
1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;
validate=&quot;false&quot;/&gt;
  &lt;/httpHandlers&gt;

&lt;/system.web&gt;


&lt;/configuration&gt;

7-) Run the xsp2 from the same directory and open a browser and type
<A HREF="http://localhost:8080">http://localhost:8080</A>

You should see that the Label is updated in ajax way.

Note that you cannot access the controls in your page without FindControl.
This seems to me a bug in aspx parser of Mono. Since the below code works
well on windows as well but not on mono:

protected void Button1_Click(object sender, EventArgs e)
    {
        // Label Label1 = (Label)this.FindControl(&quot;Label1&quot;);
        Label1.Text = &quot;Refreshed at &quot; +
            DateTime.Now.ToString();
    }
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070828/9feb74c3/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20070828/9feb74c3/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024719.html">[Mono-dev] gtk-sharp compile issue
</A></li>
	<LI>Next message: <A HREF="024724.html">[Mono-dev] How To: ASP.NET Ajax with Mono	(with	System.Web.Extensions.dll)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24723">[ date ]</a>
              <a href="thread.html#24723">[ thread ]</a>
              <a href="subject.html#24723">[ subject ]</a>
              <a href="author.html#24723">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
