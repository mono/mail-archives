<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] The State Of Mono Assembly Verification?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20The%20State%20Of%20Mono%20Assembly%20Verification%3F&In-Reply-To=20060130190302.14104.qmail%40web25008.mail.ukl.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016857.html">
   <LINK REL="Next"  HREF="016859.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] The State Of Mono Assembly Verification?</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20The%20State%20Of%20Mono%20Assembly%20Verification%3F&In-Reply-To=20060130190302.14104.qmail%40web25008.mail.ukl.yahoo.com"
       TITLE="[Mono-dev] The State Of Mono Assembly Verification?">vargaz at gmail.com
       </A><BR>
    <I>Mon Jan 30 16:04:57 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016857.html">[Mono-dev] The State Of Mono Assembly Verification?
</A></li>
        <LI>Next message: <A HREF="016859.html">[Mono-dev] Problem with SybaseParameter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16858">[ date ]</a>
              <a href="thread.html#16858">[ thread ]</a>
              <a href="subject.html#16858">[ subject ]</a>
              <a href="author.html#16858">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>                                     Hi,

  The verifier situation is not very good: we have some verifier code,
but it is not
complete, not tested, and certainly not reviewed from a security standpoint. The
same goes for most of the runtime code. So at this point, loading and using
untrusted assemblies is a very bad idea IMHO.

                                               Zoltan

On 1/30/06, Jim Purbrick &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jimpurbrick at yahoo.co.uk</A>&gt; wrote:
&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i> I'm currently looking at verifying untrusted
</I>&gt;<i> assemblies before loading them in to an embedded mono
</I>&gt;<i> runtime and, as we currently don't use any Windows
</I>&gt;<i> machines server side, I'd like a (preferably open
</I>&gt;<i> source) CLI assembly verifier that runs on Linux.
</I>&gt;<i>
</I>&gt;<i> I've been experimenting with calling
</I>&gt;<i> mono_image_verify_tables and mono_method_verify a la
</I>&gt;<i> pedump, but I think verification is erroneously
</I>&gt;<i> failing, especially when verifying branching.
</I>&gt;<i>
</I>&gt;<i> It looks as though mono_method_verify is performing
</I>&gt;<i> most per-opcode checks, but not correctly storing the
</I>&gt;<i> types on the stack for branch targets, so it can't
</I>&gt;<i> perform stack merge checks properly and ends up with
</I>&gt;<i> an incorrect type stack when checking opcodes
</I>&gt;<i> following branch opcodes which are branch targets. The
</I>&gt;<i> other thing I've noticed is that it doesn't seem to be
</I>&gt;<i> checking that the parameter types for method calls
</I>&gt;<i> match the types on the stack.
</I>&gt;<i>
</I>&gt;<i> Does that sound about right? Is there anything else
</I>&gt;<i> missing from the verification code? Is fixing the code
</I>&gt;<i> the best thing to do? How much work would it be? Would
</I>&gt;<i> anyone like to help me fix it? Are there any other
</I>&gt;<i> open CLI assembly verifiers I could use instead?
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Jim.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ___________________________________________________________
</I>&gt;<i> To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. <A HREF="http://uk.security.yahoo.com">http://uk.security.yahoo.com</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016857.html">[Mono-dev] The State Of Mono Assembly Verification?
</A></li>
	<LI>Next message: <A HREF="016859.html">[Mono-dev] Problem with SybaseParameter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16858">[ date ]</a>
              <a href="thread.html#16858">[ thread ]</a>
              <a href="subject.html#16858">[ subject ]</a>
              <a href="author.html#16858">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
