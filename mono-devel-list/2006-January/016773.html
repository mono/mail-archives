<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Integrating C# and already existing C sources using	GAPI or something similar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Integrating%20C%23%20and%20already%20existing%20C%20sources%20using%0A%09GAPI%20or%20something%20similar&In-Reply-To=1138016372.2762.44.camel%40asuranceturix.local.igalia.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016767.html">
   <LINK REL="Next"  HREF="016790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Integrating C# and already existing C sources using	GAPI or something similar</H1>
    <B>Mike Kestner</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Integrating%20C%23%20and%20already%20existing%20C%20sources%20using%0A%09GAPI%20or%20something%20similar&In-Reply-To=1138016372.2762.44.camel%40asuranceturix.local.igalia.com"
       TITLE="[Mono-dev] Integrating C# and already existing C sources using	GAPI or something similar">mkestner at novell.com
       </A><BR>
    <I>Mon Jan 23 12:04:54 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016767.html">[Mono-dev] Integrating C# and already existing C sources using GAPI	or something similar
</A></li>
        <LI>Next message: <A HREF="016790.html">[Mono-dev] Integrating C# and already existing C sources using	GAPI or something similar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16773">[ date ]</a>
              <a href="thread.html#16773">[ thread ]</a>
              <a href="subject.html#16773">[ subject ]</a>
              <a href="author.html#16773">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2006-01-23 at 12:39 +0100, Mario S&#225;nchez wrote:
&gt;<i> Hi, this is my first message to this list, so I'll try to do it my
</I>&gt;<i> best...
</I>
This message should have been sent to gtk-sharp-list.  Discussion of
Gtk# and the GAPI tools should occur there.  I'm going to start nagging
everyone about this from now on, as people seem to think Gtk# discussion
is on topic on this list as well, and that just means duplicate
discussions are happening and it's harder to find information in the
archives.

&gt;<i> I'm currently working at a Gtk application and now I'm trying to make an
</I>&gt;<i> small part of the already-made gtk interface (a simple use case of the
</I>&gt;<i> whole application) using Mono with Gtk#, to see how this integration
</I>&gt;<i> could work. As you can imagine, I'd like to use the most already written
</I>&gt;<i> source code I can, so I'd like to call already written C functions from
</I>&gt;<i> my new C# interface, using a Wrapper for that purpose. And this is the
</I>&gt;<i> point in which I'm now stalled: 
</I>
Another option for a large code base would be to embed mono into your
existing C application to extend it.  That's on-topic for this list, but
I don't know much about it so I'll let others comment on it.

&gt;<i>   1.- I'd like to generate wrappers for a source directory and
</I>&gt;<i> sub-directories of a currently installed library, and I don't know
</I>&gt;<i> how to make this without explicitly specify those directories one-by-one
</I>&gt;<i> in the parsing gapi source file, as you can see here:
</I>
Look in the gtk-sharp/sources directory for examples of how to combine
multiple source directories and even multiple native libraries into a
single api file.  The Gdk and Gnome api file sections demonstrate this.

&gt;<i>   2.-I have more source code that I'd like to re-use but that is not
</I>&gt;<i> installed as a library, because it's not a library but an application
</I>&gt;<i> (the application in which I'm trying to re-implement a use case in Mono
</I>&gt;<i> terms), but it has got, for example, several defined Gobjects and
</I>&gt;<i> utilities that are useful for me to use from my Gtk# interface. The
</I>&gt;<i> question is how could I automatically wrap those sources using Gapi (or
</I>&gt;<i> something similar) into C# files, in order not to have to implement that
</I>&gt;<i> already-written functionality again.
</I>
GAPI is not a C to C# translator.  It won't transform C code into C#.
It uses the DllImport/PInvoke capability of .Net/mono to invoke native
library methods.  So short answer is, no library, no GAPI.

&gt;<i>   3.- Another question using GAPI is how to wrap C sources that not
</I>&gt;<i> correspond to GObject classes because, as I was able to see, gapi parser
</I>&gt;<i> only recognizes those sources that represent classes using GObject, but
</I>&gt;<i> not those other C sources as could be utility libraries containing
</I>&gt;<i> useful functions for common situations at this application.
</I>
GAPI does parse some non-GObject libraries already, although it is not a
full-featured C parser. Non-GObject libraries tend to not follow the
same coding conventions as GObject libraries.

&gt;<i> I'll be so glad if someone was able to help me, because I can't find
</I>&gt;<i> enough information and documentation about the Gapi parser across the
</I>&gt;<i> Internet, so I can't find the way to achieve this issues. I'm open to
</I>&gt;<i> other suggestions (not only Gapi) for me to integrate C# and C in the
</I>&gt;<i> way I mean too, so if someone knows a better way to do this I'll be
</I>&gt;<i> interested on it. 
</I>
The definitive resource for GAPI is:

<A HREF="http://www.mono-project.com/GAPI">http://www.mono-project.com/GAPI</A>

-- 
Mike Kestner &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mkestner at novell.com</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016767.html">[Mono-dev] Integrating C# and already existing C sources using GAPI	or something similar
</A></li>
	<LI>Next message: <A HREF="016790.html">[Mono-dev] Integrating C# and already existing C sources using	GAPI or something similar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16773">[ date ]</a>
              <a href="thread.html#16773">[ thread ]</a>
              <a href="subject.html#16773">[ subject ]</a>
              <a href="author.html#16773">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
