<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] MS.NET compatible Path.GetTempFileName
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20MS.NET%20compatible%20Path.GetTempFileName&In-Reply-To=000c01c612e5%24536d4a80%240100a8c0%40kornelpal.hu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016581.html">
   <LINK REL="Next"  HREF="016497.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] MS.NET compatible Path.GetTempFileName</H1>
    <B>Ben Maurer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20MS.NET%20compatible%20Path.GetTempFileName&In-Reply-To=000c01c612e5%24536d4a80%240100a8c0%40kornelpal.hu"
       TITLE="[Mono-dev] [PATCH] MS.NET compatible Path.GetTempFileName">bmaurer at ximian.com
       </A><BR>
    <I>Fri Jan  6 14:44:18 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016581.html">[Mono-dev] RE: Com Interop Patch - mcs
</A></li>
        <LI>Next message: <A HREF="016497.html">[Mono-dev] [PATCH] MS.NET compatible Path.GetTempFileName
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16496">[ date ]</a>
              <a href="thread.html#16496">[ thread ]</a>
              <a href="subject.html#16496">[ subject ]</a>
              <a href="author.html#16496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> MS.NET uses Windows API GetTempFileName function for
</I>&gt;<i> Path.GetTempFileName. If we want full compatibility we should implement
</I>&gt;<i> it in the I/O layer using a global unsigned 16-bit counter that starts
</I>&gt;<i> from zero and is incremented without overflow check each time
</I>&gt;<i> GetTempFileName is called.
</I>
I have no idea how on earth an application could depend on this specific
pattern (without being completely pendantic and checking for .tmp). Did
this issue happen with some real life app?

&gt;<i> Altough a managed implementation can be as good as a native one I think
</I>&gt;<i> the file name pattern should be the same. The attached patch modifies
</I>&gt;<i> the pattern to &quot;tmp&lt;UUUU&gt;.tmp&quot; that is the same used by MS.NET. (There
</I>&gt;<i> is no zero padding in &lt;UUUU&gt;.)
</I>
What does msft do if you create all 64k files tmp0000.tmp to tmpffff.tmp?
That sounds like a trivial DoS.

-- Ben



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016581.html">[Mono-dev] RE: Com Interop Patch - mcs
</A></li>
	<LI>Next message: <A HREF="016497.html">[Mono-dev] [PATCH] MS.NET compatible Path.GetTempFileName
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16496">[ date ]</a>
              <a href="thread.html#16496">[ thread ]</a>
              <a href="subject.html#16496">[ subject ]</a>
              <a href="author.html#16496">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
