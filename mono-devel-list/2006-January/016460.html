<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Validator controls expected results?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Validator%20controls%20expected%20results%3F&In-Reply-To=43BC05B6.8000908%40netsyncro.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016457.html">
   <LINK REL="Next"  HREF="016477.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Validator controls expected results?</H1>
    <B>Dieter Bremes</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Validator%20controls%20expected%20results%3F&In-Reply-To=43BC05B6.8000908%40netsyncro.com"
       TITLE="[Mono-dev] Validator controls expected results?">dbjobs at snafu.de
       </A><BR>
    <I>Wed Jan  4 18:27:17 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016457.html">[Mono-dev] Validator controls expected results?
</A></li>
        <LI>Next message: <A HREF="016477.html">[Mono-dev] Validator controls expected results?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16460">[ date ]</a>
              <a href="thread.html#16460">[ thread ]</a>
              <a href="subject.html#16460">[ subject ]</a>
              <a href="author.html#16460">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Christopher Bergstr&#246;m wrote:
&gt;<i> Dieter Bremes wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Christopher Bergstr&#246;m wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Per the documentation.. If I have display=&quot;None&quot; and a 
</I>&gt;&gt;&gt;<i> &lt;asp:ValidationSummary /&gt; control then the validator control should 
</I>&gt;&gt;&gt;<i> not display results inline, but the JS still executes.  I found a 
</I>&gt;&gt;&gt;<i> work-around by EnableClientScript=&quot;false&quot;.. bug?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> This is in Firefox latest version.. (Haven't tested in Safari, IE, 
</I>&gt;&gt;&gt;<i> Opera.. etc..)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> This works as expected..
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Example :
</I>&gt;&gt;&gt;<i> &lt;asp:requiredfieldvalidator id=&quot;valPhone&quot; runat=&quot;server&quot;
</I>&gt;&gt;&gt;<i>        Controltovalidate=&quot;txtPhone&quot;
</I>&gt;&gt;&gt;<i>        Display=&quot;None&quot;
</I>&gt;&gt;&gt;<i>        EnableClientScript=&quot;false&quot;
</I>&gt;&gt;&gt;<i>        Errormessage=&quot;Please enter a phone number.&quot; /&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;asp:ValidationSummary id=&quot;vsResults&quot; runat=&quot;server&quot;
</I>&gt;&gt;&gt;<i>   DisplayMode=&quot;List&quot;
</I>&gt;&gt;&gt;<i>   EnableClientScript=&quot;false&quot;
</I>&gt;&gt;&gt;<i>   ShowSummary=&quot;true&quot;
</I>&gt;&gt;&gt;<i>   ShowMessageBox=&quot;true&quot;
</I>&gt;&gt;&gt;<i>   HeaderText=&quot;Results&quot; /&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> If possible can someone send me the actual html output that MS .Net 
</I>&gt;&gt;&gt;<i> produces and I'll see if I can make a patch.. I'd also like to see 
</I>&gt;&gt;&gt;<i> the actual html produced in the summary control with DisplayMode=&quot;&quot; 
</I>&gt;&gt;&gt;<i> being changed to each option.. List, BulletList, SingleParagraph
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> In my patch should I not change the elements to xhtml compliant?
</I>&gt;&gt;&gt;<i>    example : &lt;br&gt; to &lt;br /&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> C.
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi Christopher,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> .NET 1.1 works as expected + documented. I've attached four files:
</I>&gt;&gt;<i> - FF_LX_NoJS.txt: EnableClientScript=False for both validators
</I>&gt;&gt;<i> - FF_LX_NoJS_AfterValidate.txt: HTML after validation
</I>&gt;&gt;<i> - FF_LX_JS.txt: EnableClientScript=True for both validators
</I>&gt;&gt;<i> - FF_LX_JS_AfterValidate.txt: HTML after validation
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> All files were produced using
</I>&gt;&gt;<i> - VS.NET 2003 / .NET Framework v1.1.4322 + W2K server side
</I>&gt;&gt;<i> - IE 6.0 + W2K client side (same machine)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I also tried Firefox 1.07 + SUSE 10 OSS client side, HTML looks the same.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Let me know if that's what you need. I will then send results for 
</I>&gt;&gt;<i> different DisplayMode values.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I would not change the elements to xhtml compliance because this 
</I>&gt;&gt;<i> should be compatible with MS' output. They claim to be compliant in 
</I>&gt;&gt;<i> ASP.NET 2.0.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dieter
</I>&gt;&gt;<i>
</I>&gt;<i> Just to confirm.. Firefox does work as expected for you?
</I>
Yes. I've checked it again and attached 8 files:
- FF_LX_ now really means Firefox 1.07 + SUSE 10 OSS
- IE_Win_ means IE 6.0 + W2K (same machine)

The initial descriptions regarding the environment were correct, but I 
misnamed the files.

Comparing the IE_ and FF_ files + googling shows that only IE 5+ 
versions get client side JavaScript code. MS calls everything else a 
downlevel browser and doesn't send JavaScript regardless of 
EnableClientScript's value. This adds a roundtrip but doesn't affect the 
display.

BTW: validation will occur on the server anyway. Otherwise someone could 
send a faked HTTP POST, so even with IE 6 and EnableClientScript=True 
the server will validate the input.

&gt;<i> 
</I>&gt;<i> Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.12) Gecko/20051215 
</I>&gt;<i> Firefox/1.0.7 The only thing I could consider that might be causing some 
</I>&gt;<i> abnormalities would be my plugins, but it's never been an issue before..
</I>&gt;<i> 
</I>&gt;<i> As far as changing the output I have a pretty good understanding on how 
</I>&gt;<i> to make things xhtml compliant and also not breaking older clients.  
</I>&gt;<i> Quick worthless tidbit.. The &lt;br&gt; tag is in not proper xml/xhtml.. if 
</I>&gt;<i> you change the tag to &lt;br/&gt; You'll break older clients, but there is a 
</I>&gt;<i> work-around &lt;br /&gt; with the space works.. As far as the javascript.. 
</I>&gt;<i> I've been giving some thought as to how to move it to an external file 
</I>&gt;<i> as it should be.. Probably include make a temp file and bla bla.. Not 
</I>&gt;<i> sure the performance impact or many things with this.. (Assuming a 
</I>&gt;<i> strict xhtml approach)
</I>&gt;<i> 
</I>&gt;<i> There would be zero functionality difference and would really only be a 
</I>&gt;<i> difference if you're parsing the raw html output and searching for those 
</I>&gt;<i> non compliant elements..
</I>
In my opinion Mono should be as .NET compliant as possible. One reason 
is that this makes testing much easier. Another one would be that 
HttpModules and the like may rely on .NET's (buggy) behaviour.

But that's just my opinion and I can in no way decide this.

Dieter

&gt;<i> 
</I>&gt;<i> As far as 2.0 being compliant.. I wonder which DTD(s) they claim to 
</I>&gt;<i> validate against.. I have to look into this.. I'll find out tonight..
</I>&gt;<i> 
</I>&gt;<i> Thanks a lot!
</I>&gt;<i> 
</I>&gt;<i> C.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>


-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: IE_Win_NoJS_AfterValidate.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment.txt</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: FF_LX_JS_AfterValidate.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0001.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0001.txt</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: FF_LX_NoJs.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0002.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0002.txt</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: FF_LX_NoJs_AfterValidate.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0003.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0003.txt</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: IE_Win_JS.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0004.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0004.txt</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: IE_Win_JS_AfterValidate.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0005.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0005.txt</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: IE_Win_NoJS.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0006.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0006.txt</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: FF_LX_JS.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0007.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/54a70125/attachment-0007.txt</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016457.html">[Mono-dev] Validator controls expected results?
</A></li>
	<LI>Next message: <A HREF="016477.html">[Mono-dev] Validator controls expected results?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16460">[ date ]</a>
              <a href="thread.html#16460">[ thread ]</a>
              <a href="subject.html#16460">[ subject ]</a>
              <a href="author.html#16460">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
