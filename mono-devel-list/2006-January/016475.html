<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mod_Mono issue on Apache 2.2 in Solaris 10 for Sparc 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mod_Mono%20issue%20on%20Apache%202.2%20in%20Solaris%2010%20for%20Sparc%20&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016474.html">
   <LINK REL="Next"  HREF="016476.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mod_Mono issue on Apache 2.2 in Solaris 10 for Sparc </H1>
    <B>Victor Romero</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mod_Mono%20issue%20on%20Apache%202.2%20in%20Solaris%2010%20for%20Sparc%20&In-Reply-To="
       TITLE="[Mono-dev] Mod_Mono issue on Apache 2.2 in Solaris 10 for Sparc ">vromero at ipn.mx
       </A><BR>
    <I>Thu Jan  5 17:08:21 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016474.html">[Mono-dev] OS X Intel support
</A></li>
        <LI>Next message: <A HREF="016476.html">[Mono-dev] OS X Intel support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16475">[ date ]</a>
              <a href="thread.html#16475">[ thread ]</a>
              <a href="subject.html#16475">[ subject ]</a>
              <a href="author.html#16475">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've been compiling the latest source code from Mono, XSP, and Mod_Mono and,
I've compile Mono and commented the body of
ves_icall_System_Threading_Thread_MemoryBarrier()  in threads.c as Zoltan
suggested (Thanks! :) ) and now the XSP works fine ( I'm running the MS Pet
Shop that I've port to work with Mono, MySQL, and Postgresql with DAAB 3.1
available at
<A HREF="http://www.linux.ipn.mx/cms/space/El+Cartel+de+Tux/Mono+Pet+Shop">http://www.linux.ipn.mx/cms/space/El+Cartel+de+Tux/Mono+Pet+Shop</A>) and I was
having problems to compile Mono because the gcc compiler was using the
linker which Solaris 10 ships, so then I have to remove all the GCC and
libraries from the computer and install them again from the packages that
Blastwave.org has.

Then I try to compile the mod_mono,  (I use the following command):

./autogen.sh --prefix=/mnt/disk2/monosvn --with-mono-prefix=/mnt/disk2/monos
vn --with-apxs=/usr/local/apache22/bin/apxs --with-apr-config=/usr/local/apa
che22/bin/apr-1-config --enable-debug

Everything compile and install ok, but when I try to run it and test the
example from <A HREF="http://mono-project.com/Mod_mono">http://mono-project.com/Mod_mono</A>  it doesn't work, (I have done
the same process in Linux Fedora Core 3 in a x86 and everything works), it
send me an error message:

503 Service Temporarily Unavailable
The server is temporarily unable to service your request due to maintenance
downtime or capacity problems. Please try again later.

 I have look at the error_log and this is what it throws (I've attached a
more detailed log file),  if there any clue that you can provide or
suggested me I will try to check it and fix.and share again my experiences
:<i>)
</I>
mod-mono-server
Listening on: /tmp/mod_mono_server_default
Root directory: /
[Thu Jan 05 15:08:43 2006] [warn] handler: mono
[Thu Jan 05 15:08:44 2006] [warn] config = 1015656
[Thu Jan 05 15:08:44 2006] [warn] dir_config = 1015880
[Thu Jan 05 15:08:44 2006] [warn] idx = 1
[Thu Jan 05 15:08:44 2006] [warn] Socket file name
/tmp/mod_mono_server_default
[Thu Jan 05 15:08:44 2006] [warn] try_connect: 0
[Thu Jan 05 15:08:44 2006] [warn] After setup_socket
[Thu Jan 05 15:08:44 2006] [warn] Sending init data
[Thu Jan 05 15:08:44 2006] [warn] Send init1
[Thu Jan 05 15:08:49 2006] [notice] child pid 3935 exit signal Bus error
(10)
Another mod-mono-server with the same arguments is already running.
[Thu Jan 05 15:09:59 2006] [warn] Mono Child Init
** (/mnt/disk2/monosvn/lib/xsp/1.0/mod-mono-server.exe:3937): WARNING **:
_wapi_thread_apc_pending: error looking up thread handle 10008
[Thu Jan 05 15:10:01 2006] [warn] Socket file name
/tmp/mod_mono_server_default
[Thu Jan 05 15:10:01 2006] [warn] try_connect: 0
[Thu Jan 05 15:10:01 2006] [warn] connected default
** (/mnt/disk2/monosvn/lib/xsp/1.0/mod-mono-server.exe:3940): WARNING **:
_wapi_thread_apc_pending: error looking up thread handle 10008
[Thu Jan 05 15:10:05 2006] [warn] handler: mono
[Thu Jan 05 15:10:05 2006] [warn] config = 1015656
[Thu Jan 05 15:10:05 2006] [warn] dir_config = 1015880
** (/mnt/disk2/monosvn/lib/xsp/1.0/mod-mono-server.exe:3932): WARNING **:
_wapi_thread_apc_pending: error looking up thread handle 10008
[Thu Jan 05 15:10:05 2006] [warn] idx = 1
[Thu Jan 05 15:10:05 2006] [warn] Socket file name
/tmp/mod_mono_server_default
[Thu Jan 05 15:10:05 2006] [warn] try_connect: 0
[Thu Jan 05 15:10:05 2006] [warn] After setup_socket
[Thu Jan 05 15:10:05 2006] [warn] Sending init data
[Thu Jan 05 15:10:05 2006] [warn] Send init1
(and many lines like this one --&gt;)**
(/mnt/disk2/monosvn/lib/xsp/1.0/mod-mono-server.exe:3932): WARNING **:
_wapi_thread_apc_pending: error looking up thread handle 10008

Thanks

Victor Romero

Messenger: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">vic_romero at hotmail.com</A>
Business Web Page: <A HREF="http://www.dsnibble.com.mx">http://www.dsnibble.com.mx</A>
Personal Web Page: <A HREF="http://linux.ipn.mx/cms/space/VictorRomero">http://linux.ipn.mx/cms/space/VictorRomero</A>
Blog Web Page: <A HREF="http://elcarteldetux.blogspot.com">http://elcarteldetux.blogspot.com</A>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: apache_mod_mono_error.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/286005d1/attachment.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060105/286005d1/attachment.txt</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016474.html">[Mono-dev] OS X Intel support
</A></li>
	<LI>Next message: <A HREF="016476.html">[Mono-dev] OS X Intel support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16475">[ date ]</a>
              <a href="thread.html#16475">[ thread ]</a>
              <a href="subject.html#16475">[ subject ]</a>
              <a href="author.html#16475">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
