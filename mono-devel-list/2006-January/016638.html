<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] System.Web.UI/HtmlTextWriter.cs issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Web.UI/HtmlTextWriter.cs%20issue&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016637.html">
   <LINK REL="Next"  HREF="016698.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] System.Web.UI/HtmlTextWriter.cs issue</H1>
    <B>Konstantin Triger</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Web.UI/HtmlTextWriter.cs%20issue&In-Reply-To="
       TITLE="[Mono-dev] System.Web.UI/HtmlTextWriter.cs issue">kostat at mainsoft.com
       </A><BR>
    <I>Sun Jan 15 10:35:05 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016637.html">[Mono-dev] Patch for System.Data.DataTable
</A></li>
        <LI>Next message: <A HREF="016698.html">[Mono-dev] System.Web.UI/HtmlTextWriter.cs issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16638">[ date ]</a>
              <a href="thread.html#16638">[ thread ]</a>
              <a href="subject.html#16638">[ subject ]</a>
              <a href="author.html#16638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Attached 2 patches, which, I believe, handle the issues better.

1. HtmlTextWriter.patch: addresses 1, 2 and 5.
2. button.patch:
	Point 3: My better understanding is that we must not delete user
data. Thus we may only append our logic.
	Point 4: not in this particular case.
	Point 5: Unfortunately I do not know how to create a unit test
for this scenario, as it depends on browser capabilities and some Page
properties. Is there a way to control this?

 
Regards,
Kosta


-----Original Message-----
From: Ben Maurer [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bmaurer at ximian.com</A>] 
Sent: Thursday, January 12, 2006 9:10 PM
To: Konstantin Triger
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
Subject: Re: [Mono-dev] System.Web.UI/HtmlTextWriter.cs issue

&gt;<i> In this case the &quot;return chk();&quot; will be added to the onclick event in
</I>&gt;<i> addition to the validation code there.
</I>
1) you should not use .ToLower to do case insensitive compares, but
String.Compare. Also, you must use the invariant culture.

2) Why would attrName (or the others) ever be null or empty

3) Is onclick the *only* attribute that this happens to?

4) Some of the microsoft code seems to add semicolons for you at the end
of js statements if you don't. Does this one do that too

5) No patch should ever be made without test cases.

-- Ben


-------------- next part --------------
A non-text attachment was scrubbed...
Name: HtmlTextWriter.patch
Type: application/octet-stream
Size: 2224 bytes
Desc: HtmlTextWriter.patch
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060115/186b68d3/attachment.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060115/186b68d3/attachment.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: button.patch
Type: application/octet-stream
Size: 812 bytes
Desc: button.patch
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060115/186b68d3/attachment-0001.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20060115/186b68d3/attachment-0001.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016637.html">[Mono-dev] Patch for System.Data.DataTable
</A></li>
	<LI>Next message: <A HREF="016698.html">[Mono-dev] System.Web.UI/HtmlTextWriter.cs issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16638">[ date ]</a>
              <a href="thread.html#16638">[ thread ]</a>
              <a href="subject.html#16638">[ subject ]</a>
              <a href="author.html#16638">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
