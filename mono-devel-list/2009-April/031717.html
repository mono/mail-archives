<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Nagle and NoDelay for HttpWebRequest -&gt;	EnableDnsRoundRobin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Nagle%20and%20NoDelay%20for%20HttpWebRequest%20-%3E%0A%09EnableDnsRoundRobin&In-Reply-To=1239427385.31083.16.camel%40lalo-laptop">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031715.html">
   <LINK REL="Next"  HREF="031725.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Nagle and NoDelay for HttpWebRequest -&gt;	EnableDnsRoundRobin</H1>
    <B>M. David Peterson</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Nagle%20and%20NoDelay%20for%20HttpWebRequest%20-%3E%0A%09EnableDnsRoundRobin&In-Reply-To=1239427385.31083.16.camel%40lalo-laptop"
       TITLE="[Mono-dev] Nagle and NoDelay for HttpWebRequest -&gt;	EnableDnsRoundRobin">xmlhacker at gmail.com
       </A><BR>
    <I>Sat Apr 11 06:16:07 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031715.html">[Mono-dev] Nagle and NoDelay for HttpWebRequest -&gt; EnableDnsRoundRobin
</A></li>
        <LI>Next message: <A HREF="031725.html">[Mono-dev] Nagle and NoDelay for HttpWebRequest -&gt; EnableDnsRoundRobin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31717">[ date ]</a>
              <a href="thread.html#31717">[ thread ]</a>
              <a href="subject.html#31717">[ subject ]</a>
              <a href="author.html#31717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Apr 10, 2009 at 11:23 PM, Gonzalo Paniagua Javier &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">gonzalo.mono at gmail.com</A>&gt; wrote:

&gt;<i> On Fri, 2009-04-10 at 20:08 -0600, M. David Peterson wrote:
</I>&gt;<i> [...]
</I>&gt;<i> &gt; While we're on the subject of HttpWebRequest performance, has anyone
</I>&gt;<i> &gt; looked into what is required to support
</I>&gt;<i> &gt; ServicePointManager.EnableDnsRoundRobin which, the last time I
</I>&gt;<i> &gt; checked, throws a NotSupportedException?
</I>&gt;<i> [...]
</I>&gt;<i>
</I>&gt;<i> I was actually looking at this last night.
</I>

Great timing! :-)


&gt;<i> Implementing this ranges from trivial to us doing our own DNS query
</I>&gt;<i> library (straightforward, I've done it in a past life).
</I>

Interesting. What would be the benefit of going the DNS query library route?

The trivial solution: if the client gets several IPs for the server,
&gt;<i> rotate through them until the DnsRefreshTimeout is hit. If only one IP
</I>&gt;<i> is returned by the DNS server we're entirely in DnsRefreshTimeout hands
</I>&gt;<i> since IPHostEntry does not have an associated TTL.
</I>&gt;<i>
</I>&gt;<i> I'd like to test this on windows and set up a DNS server that I can
</I>&gt;<i> control to see if the trivial solution is what they do and whether or
</I>&gt;<i> not they query the server again if the TTL is expired. May be tomorrow.
</I>

If having access to a couple EC2 instances to use for DNS as well as
performance testing against a highly concurrent web service such as SimpleDB
would be helpful I'd be happy to start a few up and give you root access to
them.  I also have a SimpleDB .NET library which has been designed for high
performance asynchronous operations which would make the performance testing
trivial.

Let me know if having access to any of the above would be helpful. And
thanks! :-)

-- 
/M:D

M. David Peterson
Co-Founder &amp; Chief Architect, 3rd&amp;Urban, LLC
Email: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">m.david at 3rdandUrban.com</A> | <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">m.david at amp.fm</A>
Mobile: (206) 999-0588
<A HREF="http://3rdandUrban.com">http://3rdandUrban.com</A> | <A HREF="http://amp.fm">http://amp.fm</A> |
<A HREF="http://broadcast.oreilly.com/m-david-peterson/">http://broadcast.oreilly.com/m-david-peterson/</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090411/5c25cbbf/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090411/5c25cbbf/attachment-0001.html</A> 
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031715.html">[Mono-dev] Nagle and NoDelay for HttpWebRequest -&gt; EnableDnsRoundRobin
</A></li>
	<LI>Next message: <A HREF="031725.html">[Mono-dev] Nagle and NoDelay for HttpWebRequest -&gt; EnableDnsRoundRobin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31717">[ date ]</a>
              <a href="thread.html#31717">[ thread ]</a>
              <a href="subject.html#31717">[ subject ]</a>
              <a href="author.html#31717">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
