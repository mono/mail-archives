<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] mono debugger for Mac OS X
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20mono%20debugger%20for%20Mac%20OS%20X&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031809.html">
   <LINK REL="Next"  HREF="031815.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] mono debugger for Mac OS X</H1>
    <B>jonas echterhoff</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20mono%20debugger%20for%20Mac%20OS%20X&In-Reply-To="
       TITLE="[Mono-dev] [PATCH] mono debugger for Mac OS X">jonas at unity3d.com
       </A><BR>
    <I>Thu Apr 16 11:53:11 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031809.html">[Mono-dev]  Cross Compiling Mono for MIPS
</A></li>
        <LI>Next message: <A HREF="031815.html">[Mono-dev] [PATCH] mono debugger for Mac OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31805">[ date ]</a>
              <a href="thread.html#31805">[ thread ]</a>
              <a href="subject.html#31805">[ subject ]</a>
              <a href="author.html#31805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I attached two diff files (one for the debugger module, one for the  
mono module itself), which implement the mono debugger for Mac OS X. I  
have never submitted a patch for mono before, so if there's anything  
else I need to do, let me know.

This lets you use mdb to debug mono programs on Mac OS X, as you would  
in Linux. It is probably very unstable. Some known issues:

-Currently, you can only debug the main thread of an executable.
-It will not always gracefully exit after the debugged executable  
terminates
-Watchpoints don't work yet.

Mac OS X Leopard (which is required to run this) has a security  
mechanism to determine which processes are allowed to access other  
processes memory/register states. This works by signing the executable  
with a trusted certificate. So, in order to use this, you will have to  
create a certificate for code signing, as described here:

<A HREF="http://developer.apple.com/documentation/Security/Conceptual/CodeSigningGuide/Procedures/Procedures.html#/">http://developer.apple.com/documentation/Security/Conceptual/CodeSigningGuide/Procedures/Procedures.html#/</A> 
/apple_ref/doc/uid/TP40005929-CH4-SW1

Choose &quot;Get Info&quot; for the newly created certificate in Keychain  
Access.app, and under &quot;Trust&quot;, set &quot;Code Signing&quot; to &quot;Always Trust&quot;.  
Now, sign the mono executable you built with the patch using:

codesign -v -s &quot;NAME_OF_CERTIFICATE&quot; $YOUR_MONO_INSTALL_DIRECTORY/bin/ 
mono

Let me know if there are any questions,
jonas


-------------- next part --------------
A non-text attachment was scrubbed...
Name: debugger.diff
Type: application/octet-stream
Size: 48725 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090416/1a2826c2/attachment-0002.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090416/1a2826c2/attachment-0002.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mono.diff
Type: application/octet-stream
Size: 7927 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090416/1a2826c2/attachment-0003.obj">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20090416/1a2826c2/attachment-0003.obj</A> 
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031809.html">[Mono-dev]  Cross Compiling Mono for MIPS
</A></li>
	<LI>Next message: <A HREF="031815.html">[Mono-dev] [PATCH] mono debugger for Mac OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31805">[ date ]</a>
              <a href="thread.html#31805">[ thread ]</a>
              <a href="subject.html#31805">[ subject ]</a>
              <a href="author.html#31805">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
