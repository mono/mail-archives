<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Porting Mono Debugger to OSX
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Porting%20Mono%20Debugger%20to%20OSX&In-Reply-To=C13B1939-AB93-4DE0-ADF0-F9D66D87C5BC%40unity3d.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031767.html">
   <LINK REL="Next"  HREF="031795.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Porting Mono Debugger to OSX</H1>
    <B>Martin Baulig</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Porting%20Mono%20Debugger%20to%20OSX&In-Reply-To=C13B1939-AB93-4DE0-ADF0-F9D66D87C5BC%40unity3d.com"
       TITLE="[Mono-dev] Porting Mono Debugger to OSX">martin at ximian.com
       </A><BR>
    <I>Wed Apr 15 12:43:12 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031767.html">[Mono-dev] Porting Mono Debugger to OSX
</A></li>
        <LI>Next message: <A HREF="031795.html">[Mono-dev] Porting Mono Debugger to OSX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31789">[ date ]</a>
              <a href="thread.html#31789">[ thread ]</a>
              <a href="subject.html#31789">[ subject ]</a>
              <a href="author.html#31789">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2009-04-14 at 20:21 +0200, jonas echterhoff wrote:

&gt;<i> But, now I'm wondering, how setting of breakpoints should work. When I  
</I>&gt;<i> launch mdb, set some breakpoints like &quot;b Y.Test&quot;, and then run, that  
</I>&gt;<i> causes OperationActivateBreakpoints and OperationInsertBreakpoint  
</I>&gt;<i> operations to be executed, which call the function  
</I>&gt;<i> debugger_insert_source_breakpoint inside mono. But, the breakpoints  
</I>&gt;<i> never seem to be actually set (no calls to  
</I>&gt;<i> server_ptrace_insert_breakpoint). How is this supposed to be invoked?
</I>
Hi,

When inserting managed breakpoints, the method is usually not JITed at
the time we insert the breakpoint, so we don't have any address for it
yet.  In addition to that, there may be more than one address for each
managed breakpoint - this happens when using multiple AppDomains.

Because of this, the JIT sends the debugger a notification each time a
method containing a breakpoint is compiled - see
`NotificationType.JitBreakpoint' in Notification() in
languages/mono/MonoLanguageBackend.cs.

Here, the debugger performs a symbol table lookup and then actually
inserts the breakpoint using server_ptrace_insert_breakpoint().

We need to do the symbol table lookup because we're usually not
inserting the breakpoint on the first instruction of the method, but on
some source line.

Martin

</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031767.html">[Mono-dev] Porting Mono Debugger to OSX
</A></li>
	<LI>Next message: <A HREF="031795.html">[Mono-dev] Porting Mono Debugger to OSX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31789">[ date ]</a>
              <a href="thread.html#31789">[ thread ]</a>
              <a href="subject.html#31789">[ subject ]</a>
              <a href="author.html#31789">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
