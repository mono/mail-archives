<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Porting Mono Debugger to OSX
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Porting%20Mono%20Debugger%20to%20OSX&In-Reply-To=1239813792.3969.28.camel%40isengard.trier.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031789.html">
   <LINK REL="Next"  HREF="031785.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Porting Mono Debugger to OSX</H1>
    <B>jonas echterhoff</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Porting%20Mono%20Debugger%20to%20OSX&In-Reply-To=1239813792.3969.28.camel%40isengard.trier.ximian.com"
       TITLE="[Mono-dev] Porting Mono Debugger to OSX">jonas at unity3d.com
       </A><BR>
    <I>Wed Apr 15 14:24:54 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031789.html">[Mono-dev] Porting Mono Debugger to OSX
</A></li>
        <LI>Next message: <A HREF="031785.html">[Mono-dev] Performance problems on ARM/linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31795">[ date ]</a>
              <a href="thread.html#31795">[ thread ]</a>
              <a href="subject.html#31795">[ subject ]</a>
              <a href="author.html#31795">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Apr 15, 2009, at 6:43 PM, Martin Baulig wrote:

&gt;<i> On Tue, 2009-04-14 at 20:21 +0200, jonas echterhoff wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> But, now I'm wondering, how setting of breakpoints should work.  
</I>&gt;&gt;<i> When I
</I>&gt;&gt;<i> launch mdb, set some breakpoints like &quot;b Y.Test&quot;, and then run, that
</I>&gt;&gt;<i> causes OperationActivateBreakpoints and OperationInsertBreakpoint
</I>&gt;&gt;<i> operations to be executed, which call the function
</I>&gt;&gt;<i> debugger_insert_source_breakpoint inside mono. But, the breakpoints
</I>&gt;&gt;<i> never seem to be actually set (no calls to
</I>&gt;&gt;<i> server_ptrace_insert_breakpoint). How is this supposed to be invoked?
</I>
&gt;<i> We need to do the symbol table lookup because we're usually not
</I>&gt;<i> inserting the breakpoint on the first instruction of the method, but  
</I>&gt;<i> on
</I>&gt;<i> some source line.
</I>
Thanks. I installed a Linux VM now, which lets me run the debugger on  
linux to see how things should work, that makes life much easier. The  
reason breakpoints weren't working was that in order to set up a  
breakpoint, code needs to be executed inside the inferior executable's  
stack - which is normally execute protected in OS X. For now, I fixed  
this by marking all memory pages I write to as executable - which  
fixes the problem. Now the debugger actually starts working, sort of.  
I can set breakpoints, single-step through code, etc. Sure, there is  
still a lot to do, but actually seeing first results sure is nice.

I will try to clean up the code and send a first patch tomorrow. How  
does the patch submission process actually work? I'm sure it's  
documented somewhere, but I couldn't find anything after a quick look  
on the web site.

jonas
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031789.html">[Mono-dev] Porting Mono Debugger to OSX
</A></li>
	<LI>Next message: <A HREF="031785.html">[Mono-dev] Performance problems on ARM/linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31795">[ date ]</a>
              <a href="thread.html#31795">[ thread ]</a>
              <a href="subject.html#31795">[ subject ]</a>
              <a href="author.html#31795">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
