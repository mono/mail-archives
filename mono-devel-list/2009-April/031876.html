<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Mono port to the MIPS 64-bit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Mono%20port%20to%20the%20MIPS%2064-bit&In-Reply-To=F919C3E2-2FCB-4704-BF0B-1DE42D8A92A0%40upwardaccess.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031934.html">
   <LINK REL="Next"  HREF="031867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Mono port to the MIPS 64-bit</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Mono%20port%20to%20the%20MIPS%2064-bit&In-Reply-To=F919C3E2-2FCB-4704-BF0B-1DE42D8A92A0%40upwardaccess.com"
       TITLE="[Mono-dev] [PATCH] Mono port to the MIPS 64-bit">lupus at ximian.com
       </A><BR>
    <I>Fri Apr 24 10:57:29 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031934.html">[Mono-dev] [PATCH] Mono port to the MIPS 64-bit
</A></li>
        <LI>Next message: <A HREF="031867.html">[Mono-dev] [PATCH] Mono port to the MIPS 64-bit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31876">[ date ]</a>
              <a href="thread.html#31876">[ thread ]</a>
              <a href="subject.html#31876">[ subject ]</a>
              <a href="author.html#31876">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/23/09 Mark Mason wrote:
&gt;<i> As for splitting MIPS/MIPS64 - I think keeping them together may be  
</I>&gt;<i> more appropriate. The MIPS64 code generator is less of a divergence  
</I>&gt;<i> from MIPS32 than PPC64 is from PPC --- there's a lot of potential code  
</I>&gt;<i> reuse to be had by keeping them together. That's why I'd started the  
</I>&gt;<i> n32 port in the way that I did (and that Ian &amp; company continued with  
</I>&gt;<i> for extending it).
</I>
Yes, the ports should be shared. These days for ppc only the machine
description is separated, I guess miguel was thinking of the ppc
work-in-progress merge changes when things were separate, but that was
done just to help fix the code before the merge and there is no point to
do that on mips.
In fact (if there is any volunteer:) the same should be done for the s390
and s390x ports so that all that duplicated code is reduced.

As for the machine description files: I just committed a change in svn
that allows multiple files to be used, so for mips and mips64 you could
split the existing file into:
	cpu-mips-common.md
and
	cpu-mips32.md and cpu-mips64.md
where the latter files will include only the opcodes that are actually
changed in 32 and 64 bit systems, again reducing duplication.
The current cpu-mips.md diff in bugzilla is suboptimal as it forces
the larges sizes to be used. With the split it will be much better.
The same could be done for ppc and ppc64.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031934.html">[Mono-dev] [PATCH] Mono port to the MIPS 64-bit
</A></li>
	<LI>Next message: <A HREF="031867.html">[Mono-dev] [PATCH] Mono port to the MIPS 64-bit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31876">[ date ]</a>
              <a href="thread.html#31876">[ thread ]</a>
              <a href="subject.html#31876">[ subject ]</a>
              <a href="author.html#31876">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
