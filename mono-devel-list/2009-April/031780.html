<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Monoco, couroutines and Mono.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Monoco%2C%20couroutines%20and%20Mono.&In-Reply-To=49E4FA43.3090107%40mansionfamily.plus.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031771.html">
   <LINK REL="Next"  HREF="031797.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Monoco, couroutines and Mono.</H1>
    <B>Tomi Valkeinen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Monoco%2C%20couroutines%20and%20Mono.&In-Reply-To=49E4FA43.3090107%40mansionfamily.plus.com"
       TITLE="[Mono-dev] Monoco, couroutines and Mono.">tomba at iki.fi
       </A><BR>
    <I>Wed Apr 15 02:37:19 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031771.html">[Mono-dev] Monoco, couroutines and Mono.
</A></li>
        <LI>Next message: <A HREF="031797.html">[Mono-dev] Monoco, couroutines and Mono.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31780">[ date ]</a>
              <a href="thread.html#31780">[ thread ]</a>
              <a href="subject.html#31780">[ subject ]</a>
              <a href="author.html#31780">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Tue, 14 Apr 2009, James Mansion wrote:

&gt;<i> Tomi Valkeinen wrote:
</I>&gt;&gt;<i> And I'm still of the opinnion that this stack-copying is more of an 
</I>&gt;&gt;<i> interesting hack, than something people should really use =).
</I>&gt;&gt;<i> 
</I>&gt;<i> Is there a real cast-in-stone reason why a VM engine has to have a contiguous 
</I>&gt;<i> stack at the
</I>&gt;<i> point where a hardware thread calls into the coroutine scheduler and is 
</I>&gt;<i> scheduled onto
</I>&gt;<i> a coroutine?
</I>
I think you mean OS thread. The coroutines are nothing special, they are 
similar to any other jitted code that mono produces. And thus the stack 
has to be the normal continuous OS stack.

I believe it could be possible to rewrite the whole jit code generation to 
produce code that doesn't use stack but position independent frames, and 
then these frames could be used to create much faster continuations 
without any copying (like stackless python). But this would mean that the 
frame could not grow dynamically, and I bet there are other limitations 
which makes this solution not compatible with how CLI is supposed to work. 
And it would be a huge job =).

  Tomi
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031771.html">[Mono-dev] Monoco, couroutines and Mono.
</A></li>
	<LI>Next message: <A HREF="031797.html">[Mono-dev] Monoco, couroutines and Mono.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31780">[ date ]</a>
              <a href="thread.html#31780">[ thread ]</a>
              <a href="subject.html#31780">[ subject ]</a>
              <a href="author.html#31780">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
