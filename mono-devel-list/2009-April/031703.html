<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Incremental build for mono compiler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Incremental%20build%20for%20mono%20compiler&In-Reply-To=939e805f0904091101t271e97c1k21a2cbc84fc537c8%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031696.html">
   <LINK REL="Next"  HREF="031764.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Incremental build for mono compiler</H1>
    <B>Marek Safar</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Incremental%20build%20for%20mono%20compiler&In-Reply-To=939e805f0904091101t271e97c1k21a2cbc84fc537c8%40mail.gmail.com"
       TITLE="[Mono-dev] Incremental build for mono compiler">marek.safar at seznam.cz
       </A><BR>
    <I>Fri Apr 10 15:39:59 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="031696.html">[Mono-dev] Incremental build for mono compiler
</A></li>
        <LI>Next message: <A HREF="031764.html">[Mono-dev] Incremental build for mono compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31703">[ date ]</a>
              <a href="thread.html#31703">[ thread ]</a>
              <a href="subject.html#31703">[ subject ]</a>
              <a href="author.html#31703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
&gt;<i> I am planning to implement background compilation for
</I>&gt;<i> SharpDevelop&lt;<A HREF="http://www.icsharpcode.net/OpenSource/SD/Default.aspx">http://www.icsharpcode.net/OpenSource/SD/Default.aspx</A>&gt;.
</I>&gt;<i> It requires to modify mono compiler to have an incremental build feature.
</I>&gt;<i>
</I>&gt;<i> I am thinking about this and from my point of view it requires from
</I>&gt;<i> mcs to (correct me if I'm wrong):
</I>&gt;<i> * The naive implementation of this just modify frontend of compiler to
</I>&gt;<i> have parser stage completed - quick prototype
</I>&gt;<i> * save metadata of compilation and internal state of compiler
</I>&gt;<i> * allow to compile only one modified file (If modification requires to
</I>&gt;<i> compile more than one e.g. change of interfaces or name of public
</I>&gt;<i> member additional recompilation should be made)
</I>&gt;<i> * Next step of this task will be to allow recompilation of only one
</I>&gt;<i> method for E&amp;C feature
</I>&gt;<i>
</I>&gt;<i> So I  am asking for Your help with my few questions:
</I>&gt;<i> * Which is the best place to start ?
</I>&gt;<i> * Potential problems ?
</I>&gt;<i> * Some guidelines to do this in the &quot;Mono&quot; way for future integration.
</I>&gt;<i>   
</I>I think this could be easier to implement than you may think. All what 
you need is to create an instance of mcs compiler (keep it in memory) 
and then use REPL interface to compile modified code using same mcs 
instance. You will have to tweak our REPL to compile in correct context 
but that should be almost all what needs to be changed.

The bad news is that mcs does work properly on Mono runtime only. But as 
Miguel wrote I am working on a solution and it should be ready in next 
few months. You can play with current mcs as the new version should only 
make things easier for you, e.g. you could get compiled method body as 
byte array.

Marek
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031696.html">[Mono-dev] Incremental build for mono compiler
</A></li>
	<LI>Next message: <A HREF="031764.html">[Mono-dev] Incremental build for mono compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31703">[ date ]</a>
              <a href="thread.html#31703">[ thread ]</a>
              <a href="subject.html#31703">[ subject ]</a>
              <a href="author.html#31703">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
