<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] What is the state of mono interpreter ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20What%20is%20the%20state%20of%20mono%20interpreter%20%3F&In-Reply-To=c42413120809290858h152db710mad15e6ad1d786694%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029260.html">
   <LINK REL="Next"  HREF="029267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] What is the state of mono interpreter ?</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20What%20is%20the%20state%20of%20mono%20interpreter%20%3F&In-Reply-To=c42413120809290858h152db710mad15e6ad1d786694%40mail.gmail.com"
       TITLE="[Mono-dev] What is the state of mono interpreter ?">kumpera at gmail.com
       </A><BR>
    <I>Mon Sep 29 13:50:31 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029260.html">[Mono-dev] What is the state of mono interpreter ?
</A></li>
        <LI>Next message: <A HREF="029267.html">[Mono-dev] What is the state of mono interpreter ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29263">[ date ]</a>
              <a href="thread.html#29263">[ thread ]</a>
              <a href="subject.html#29263">[ subject ]</a>
              <a href="author.html#29263">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2008/9/29 Aras Pranckevicius &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">aras at unity3d.com</A>&gt;

&gt;<i> &gt;&gt; &gt; Whatever you might be thinking I can't see why not using mono JIT
</I>&gt;<i> would
</I>&gt;<i> &gt;&gt; &gt; be desirable.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On some platforms you can't generate _any_ executable code at runtime.
</I>&gt;<i> &gt;&gt; So there one needs either the interpreter, or full AOT. Some platform
</I>&gt;<i> &gt;&gt; examples: iPhone, Xbox360, (maybe) PS3.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Unless you need reflection or fancy runtime support like transparent
</I>&gt;<i> &gt; proxies, full AOT is the supported way for such platforms.
</I>&gt;<i> &gt; And even in that cases, it would be easier and better to extend full AOT
</I>&gt;<i> &gt; than bringing back the interpreter.
</I>&gt;<i>
</I>&gt;<i> Yes. I was just pointing out why would anyone want an interpreter.
</I>&gt;<i> Full AOT would work in that case as well.
</I>&gt;<i>
</I>&gt;<i> However, having an interpreter would have some advantages in
</I>&gt;<i> comparison with AOT (as well as some disadvantages of course). Some
</I>&gt;<i> that come to my head:
</I>&gt;<i> * Full AOT to another target architecture, anyone? (e.g. you develop
</I>&gt;<i> on x86 machine, your target machine is ARM or PPC)
</I>&gt;<i> * With interpreter, there's a shorter cycle on getting your .NET code
</I>&gt;<i> to some device (think consoles here). With AOT, it goes this way:
</I>&gt;<i> compiler -&gt; AOT -&gt; native assembler -&gt; native linker -&gt; code signing
</I>&gt;<i> -&gt; device. With interpreter, it's compiler -&gt; device. One does not
</I>&gt;<i> even need to have assembler, linker or code signing tools.
</I>&gt;<i>
</I>

These are shortcomings of the current AOT implementation of mono
that are easier to fix than implement a fast interpreter.

Add a binary writter is not hard, just take time to do so, it happens that
we don't have enough cycles to burn on that.

The other issue would be cross AOT'ing code, which is an easier task to
accomplish than adding binary witters.



&gt;<i>
</I>&gt;<i> For what it's worth, we're going Full AOT route in Unity for iPhone.
</I>&gt;<i> But we were seriously considering the interpreter route as well.
</I>&gt;<i>
</I>

Building an interpreter with decent performance takes quite some time,
not counting the time to get things like generics working properly.

The CLR bytecode format is not suitable for fast interpretation, so having
an AOT pass to convert to a more usable format would be an advantage as
well.
Something similiar to what the Dalvik VM does.

Anyway, building an interpreter isn't a simple task, specially a fast one,
which is less
portable than a JIT - most of them use hand coded assembly.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080929/4f5c4b49/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20080929/4f5c4b49/attachment-0001.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029260.html">[Mono-dev] What is the state of mono interpreter ?
</A></li>
	<LI>Next message: <A HREF="029267.html">[Mono-dev] What is the state of mono interpreter ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29263">[ date ]</a>
              <a href="thread.html#29263">[ thread ]</a>
              <a href="subject.html#29263">[ subject ]</a>
              <a href="author.html#29263">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
