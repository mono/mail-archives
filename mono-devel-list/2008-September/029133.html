<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev]  SerialPort auto-inserts carriage return
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%20SerialPort%20auto-inserts%20carriage%20return&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029127.html">
   <LINK REL="Next"  HREF="029134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev]  SerialPort auto-inserts carriage return</H1>
    <B>mikaelwikman</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%20SerialPort%20auto-inserts%20carriage%20return&In-Reply-To="
       TITLE="[Mono-dev]  SerialPort auto-inserts carriage return">mail at mikaelwikman.se
       </A><BR>
    <I>Sat Sep 13 04:36:08 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029127.html">[Mono-dev] Gtk# Status and Roadmap
</A></li>
        <LI>Next message: <A HREF="029134.html">[Mono-dev] SerialPort auto-inserts carriage return
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29133">[ date ]</a>
              <a href="thread.html#29133">[ thread ]</a>
              <a href="subject.html#29133">[ subject ]</a>
              <a href="author.html#29133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

Im using a System.IO.Ports.SerialPort to communicate with an embedded system
currently being developed where i work. The ES uses a binary protocol, so
the data is not ascii and do not use newlines.

The strange thing is this; For every byte with the value 10 (linefeed) an
extra byte with value 13 (carriage return) is inserted into the stream im
reading from, totally messes up the protocol.

So: &lt;10&gt; becomes &lt;13&gt;&lt;10&gt;, and also &lt;13&gt;&lt;10&gt; becomes &lt;13&gt;&lt;13&gt;&lt;10&gt;.

I'm running Linux, the code has not been tested using .NET

Some of my code:

            SerialPort serialB = new SerialPort()

            serialB.BaudRate = 115200;
            serialB.DtrEnable = true;
            serialB.PortName = &quot;/dev/ttyUSB0&quot;;
            serialB.ReadTimeout = 5;

            (...)
            
            byte[] data = new byte[serialB.BytesToRead];
            serialB.Read(data, 0, serialB.BytesToRead);


I'm thinking this is either a bug or there is some setting which turns this
off. Appreciate any help, thanks!
-- 
View this message in context: <A HREF="http://www.nabble.com/SerialPort-auto-inserts-carriage-return-tp19468589p19468589.html">http://www.nabble.com/SerialPort-auto-inserts-carriage-return-tp19468589p19468589.html</A>
Sent from the Mono - Dev mailing list archive at Nabble.com.

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029127.html">[Mono-dev] Gtk# Status and Roadmap
</A></li>
	<LI>Next message: <A HREF="029134.html">[Mono-dev] SerialPort auto-inserts carriage return
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29133">[ date ]</a>
              <a href="thread.html#29133">[ thread ]</a>
              <a href="subject.html#29133">[ subject ]</a>
              <a href="author.html#29133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
