<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] System.Unix.Native.Syscall.fork is commented out
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Unix.Native.Syscall.fork%20is%20commented%20out&In-Reply-To=249199920.524341220415389431.JavaMail.root%40zimbra-store-2.unet.brandeis.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029035.html">
   <LINK REL="Next"  HREF="029037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] System.Unix.Native.Syscall.fork is commented out</H1>
    <B>Avery Pennarun</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.Unix.Native.Syscall.fork%20is%20commented%20out&In-Reply-To=249199920.524341220415389431.JavaMail.root%40zimbra-store-2.unet.brandeis.edu"
       TITLE="[Mono-dev] System.Unix.Native.Syscall.fork is commented out">apenwarr at gmail.com
       </A><BR>
    <I>Wed Sep  3 01:02:33 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029035.html">[Mono-dev] System.Unix.Native.Syscall.fork is commented out
</A></li>
        <LI>Next message: <A HREF="029037.html">[Mono-dev] System.Unix.Native.Syscall.fork is commented out
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29036">[ date ]</a>
              <a href="thread.html#29036">[ thread ]</a>
              <a href="subject.html#29036">[ subject ]</a>
              <a href="author.html#29036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Sep 3, 2008 at 12:16 AM, Bojan Rajkovic &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">bojanr at brandeis.edu</A>&gt; wrote:
&gt;&gt;<i> I'm attempting to write a simple daemon in mono that should
</I>&gt;&gt;<i> background
</I>&gt;&gt;<i> itself after starting correctly.  Essentially, it should fork() and
</I>&gt;&gt;<i> then the parent should exit(0) while the child process continues.
</I>&gt;<i>
</I>&gt;<i> I believe you can use mono-service and the usual Windows service stuff in the
</I>&gt;<i> ServiceProcess assembly. Check <A HREF="http://www.go-mono.com/docs/index.aspx?link=man%3Amono-service(1">http://www.go-mono.com/docs/index.aspx?link=man%3Amono-service(1</A>)
</I>&gt;<i> for more info, and hopefully someone will be able to give more detail than
</I>&gt;<i> I have.
</I>
Well, yes, I've used mono-service a bit, but it seems a bit
heavyweight and weird, mostly because Windows's service API is
heavyweight and weird.  Sometimes you just want to fork.

What I'm trying to do here specifically is to start a program, have it
open its listening socket, then fork into the background so the parent
process can launch *another* process with the certainty that the
listening socket is already open.  Then I want to be able to kill the
process (and all its potential children) safely afterwards.  Basically
it's for a unit test, so multiple users might be starting/stopping
these processes on the same machine simultaneously.  It doesn't seem
like the heavyweight MS service API is really cut out for this kind of
work.

Thanks for the link, though.  I suppose mono-service is usually the
&quot;right&quot; way to fork into the background.

Have fun,

Avery
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029035.html">[Mono-dev] System.Unix.Native.Syscall.fork is commented out
</A></li>
	<LI>Next message: <A HREF="029037.html">[Mono-dev] System.Unix.Native.Syscall.fork is commented out
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29036">[ date ]</a>
              <a href="thread.html#29036">[ thread ]</a>
              <a href="subject.html#29036">[ subject ]</a>
              <a href="author.html#29036">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
