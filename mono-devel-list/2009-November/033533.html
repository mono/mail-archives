<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] crashes while executing System.Buffer.BlockCopyInternal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20crashes%20while%20executing%20System.Buffer.BlockCopyInternal&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033536.html">
   <LINK REL="Next"  HREF="033534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] crashes while executing System.Buffer.BlockCopyInternal</H1>
    <B>Daniel Weuthen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20crashes%20while%20executing%20System.Buffer.BlockCopyInternal&In-Reply-To="
       TITLE="[Mono-dev] crashes while executing System.Buffer.BlockCopyInternal">daniel.weuthen-ml at deepinvent.com
       </A><BR>
    <I>Wed Nov 18 06:54:26 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033536.html">[Mono-dev] Sgen GC for Mac
</A></li>
        <LI>Next message: <A HREF="033534.html">[Mono-dev] crashes while executing	System.Buffer.BlockCopyInternal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33533">[ date ]</a>
              <a href="thread.html#33533">[ thread ]</a>
              <a href="subject.html#33533">[ subject ]</a>
              <a href="author.html#33533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everybody,

I have got a major problem with out software running with mono 2.4.x. No
matter what distribution, it keeps crashing with segmentation fault
randomly with the following last output when debugging. These were three
different runs of the software. To me it looks like something is wrong
with mono or am I totally wrong?

   0x08125ee5 in ves_icall_System_Buffer_BlockCopyInternal
(src=0x1842000,  src_offset=4096, dest=0x989aa0, dest_offset=0, count=1024)

    0x08125ee5 in ves_icall_System_Buffer_BlockCopyInternal
(src=0x818000, src_offset=12288, dest=0x7f3aa0, dest_offset=0, count=1024)

    0x08125ee5 in ves_icall_System_Buffer_BlockCopyInternal
(src=0x767000, src_offset=9216, dest=0x555aa0, dest_offset=0, count=1024)


a mono stack trace returns the following:

(gdb) mono_stack

&quot;&lt;threadpool thread&gt;&quot; tid=0x0xadcfeb90 this=0x0x24d960 thread handle
0x44b state : not waiting owns ()
  at (wrapper managed-to-native) System.Buffer.BlockCopyInternal
(System.Array,int,System.Array,int,int) &lt;0x00004&gt;
  at (wrapper managed-to-native) System.Buffer.BlockCopyInternal
(System.Array,int,System.Array,int,int) &lt;0xffffffff&gt;
  at System.Buffer.BlockCopy (System.Array,int,System.Array,int,int)
[0x00077] in
/usr/src/packages/BUILD/mono-2.4.2.3/mcs/class/corlib/System/Buffer.cs:108
  at deepinvent.MailStore.Core.MSMemoryStream.Read (byte[],int,int)
&lt;0x00065&gt;
  at System.IO.StreamReader.ReadBuffer () [0x00012] in
/usr/src/packages/BUILD/mono-2.4.2.3/mcs/class/corlib/System.IO/StreamReader.cs:338
  at System.IO.StreamReader.ReadLine () [0x000e5] in
/usr/src/packages/BUILD/mono-2.4.2.3/mcs/class/corlib/System.IO/StreamReader.cs:476
  at xfcc26217118f7b95.xe96b66f83ff2e739.x1f490eac106aee12
(System.IO.Stream,bool) &lt;0x00180&gt;
  at x36f657baf5fa29c1.x2bef70a2295987a7.x299c2cb497a5a777
(System.IO.Stream,x4fae9c9f245c1f90.xfbf781c4b53e037a[]) &lt;0x001a1&gt;
  at x36f657baf5fa29c1.x40bdcf514da56bb9.x299c2cb497a5a777
(System.IO.Stream,x4fae9c9f245c1f90.xfbf781c4b53e037a[]) &lt;0x0009f&gt;
  at xbad23d244f2208e4.x1cc5e0fb4b785694.x299c2cb497a5a777
(RemObjects.SDK.Types.Binary,x4fae9c9f245c1f90.xfbf781c4b53e037a[])
&lt;0x000af&gt;
  at
xcc814749757ed9fe.x568551ab397ac200/&lt;&gt;c__DisplayClass1.&lt;MessageArchive&gt;b__0
() &lt;0x00020&gt;
  at (wrapper runtime-invoke) object.runtime_invoke_void__this__
(object,intptr,intptr,intptr) &lt;0xffffffff&gt;

-- 
regards

Daniel Weuthen
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033536.html">[Mono-dev] Sgen GC for Mac
</A></li>
	<LI>Next message: <A HREF="033534.html">[Mono-dev] crashes while executing	System.Buffer.BlockCopyInternal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33533">[ date ]</a>
              <a href="thread.html#33533">[ thread ]</a>
              <a href="subject.html#33533">[ subject ]</a>
              <a href="author.html#33533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
