<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Make DateTime binary compatible with .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Make%20DateTime%20binary%20compatible%20with%20.NET&In-Reply-To=hd1guj%24j6d%241%40ger.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033431.html">
   <LINK REL="Next"  HREF="033433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Make DateTime binary compatible with .NET</H1>
    <B>Jonathan Hseu</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Make%20DateTime%20binary%20compatible%20with%20.NET&In-Reply-To=hd1guj%24j6d%241%40ger.gmane.org"
       TITLE="[Mono-dev] [PATCH] Make DateTime binary compatible with .NET">vomjom at vomjom.net
       </A><BR>
    <I>Fri Nov  6 11:12:36 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033431.html">[Mono-dev] [PATCH] Make DateTime binary compatible with .NET
</A></li>
        <LI>Next message: <A HREF="033433.html">[Mono-dev] [PATCH] Make DateTime binary compatible with .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33432">[ date ]</a>
              <a href="thread.html#33432">[ thread ]</a>
              <a href="subject.html#33432">[ subject ]</a>
              <a href="author.html#33432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Nov 6, 2009 at 9:56 AM, Robert Jordan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">robertj at gmx.net</A>&gt; wrote:

&gt;<i> Jonathan Hseu wrote:
</I>&gt;<i> &gt; My patch is completely different than the one in the bug report.  Mine
</I>&gt;<i> &gt; _only_ affects the DateTime.cs file whereas the one in the bug report
</I>&gt;<i> &gt; changed the serialization code.  My patch basically introduces the same
</I>&gt;<i> &gt; field names and types that are also in .NET so that it is guaranteed to
</I>&gt;<i> be
</I>&gt;<i> &gt; compatible.
</I>&gt;<i>
</I>&gt;<i> Please read the bug carefully.
</I>&gt;<i>
</I>&gt;<i> Here is the DateTime.cs patch:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://bugzillafiles.novell.org/attachment.cgi?id=172471">https://bugzillafiles.novell.org/attachment.cgi?id=172471</A>
</I>&gt;<i>
</I>&gt;<i> Then search for &quot;DateTimeISerializable.diff&quot; at
</I>&gt;<i> <A HREF="https://bugzilla.novell.com/show_bug.cgi?id=325067">https://bugzilla.novell.com/show_bug.cgi?id=325067</A>
</I>&gt;<i> and read the comments.
</I>

Well, my patch acts a little differently (it, by the way, passes all the
regression tests for both 2.0 and 1.1).

I just tested it and it also makes 1.1 and 2.0 binary compatible with each
other and .NET, assuming you are on a new version of mono for both profiles.

So, the only issue is that it'll stop being compatible with older versions
of mono, but it's possible to make a workaround so that the new mono will be
able to Deserialize older mono binary DateTimes.

And, in the long run, people will stop using older versions of Mono.  But
people will continue to use .NET, and this issue will come up over and over
again.


Jonathan Hseu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091106/29c4c91c/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091106/29c4c91c/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033431.html">[Mono-dev] [PATCH] Make DateTime binary compatible with .NET
</A></li>
	<LI>Next message: <A HREF="033433.html">[Mono-dev] [PATCH] Make DateTime binary compatible with .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33432">[ date ]</a>
              <a href="thread.html#33432">[ thread ]</a>
              <a href="subject.html#33432">[ subject ]</a>
              <a href="author.html#33432">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
