<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] [PATCH] Make DateTime binary compatible with .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Make%20DateTime%20binary%20compatible%20with%20.NET&In-Reply-To=hd1eos%24ap3%241%40ger.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033427.html">
   <LINK REL="Next"  HREF="033429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] [PATCH] Make DateTime binary compatible with .NET</H1>
    <B>Jonathan Hseu</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%5BPATCH%5D%20Make%20DateTime%20binary%20compatible%20with%20.NET&In-Reply-To=hd1eos%24ap3%241%40ger.gmane.org"
       TITLE="[Mono-dev] [PATCH] Make DateTime binary compatible with .NET">vomjom at vomjom.net
       </A><BR>
    <I>Fri Nov  6 10:32:56 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033427.html">[Mono-dev] [PATCH] Make DateTime binary compatible with .NET
</A></li>
        <LI>Next message: <A HREF="033429.html">[Mono-dev] [PATCH] Make DateTime binary compatible with .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33428">[ date ]</a>
              <a href="thread.html#33428">[ thread ]</a>
              <a href="subject.html#33428">[ subject ]</a>
              <a href="author.html#33428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Nov 6, 2009 at 9:18 AM, Robert Jordan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">robertj at gmx.net</A>&gt; wrote:

&gt;<i> Jonathan Hseu wrote:
</I>&gt;<i> &gt; Caveats:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This new DateTime is binary incompatible (again with BinaryFormatter)
</I>&gt;<i> with
</I>&gt;<i> &gt; older versions of Mono.
</I>&gt;<i>
</I>&gt;<i> That's the reason why the fixes attached to
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://bugzilla.novell.com/show_bug.cgi?id=325067">https://bugzilla.novell.com/show_bug.cgi?id=325067</A>
</I>&gt;<i>
</I>&gt;<i> were not accepted.
</I>&gt;<i>
</I>&gt;<i> Robert
</I>&gt;<i>
</I>
Going through the bug logs, it seems like the patch was first applied but
then later removed because it was still incompatible with .NET's version,
not because it was incompatible with older versions of mono.

My patch is completely different than the one in the bug report.  Mine
_only_ affects the DateTime.cs file whereas the one in the bug report
changed the serialization code.  My patch basically introduces the same
field names and types that are also in .NET so that it is guaranteed to be
compatible.

Also, given that mono's DateTime currently has an extra 8 byte overhead over
.NET, shouldn't this issue be looked at again?


Jonathan Hseu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091106/e9faded4/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20091106/e9faded4/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033427.html">[Mono-dev] [PATCH] Make DateTime binary compatible with .NET
</A></li>
	<LI>Next message: <A HREF="033429.html">[Mono-dev] [PATCH] Make DateTime binary compatible with .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33428">[ date ]</a>
              <a href="thread.html#33428">[ thread ]</a>
              <a href="subject.html#33428">[ subject ]</a>
              <a href="author.html#33428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
