<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Should we replace MemoryStream?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Should%20we%20replace%20MemoryStream%3F&In-Reply-To=32541b130911100834u34b512b0yf65f509d565124ab%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033491.html">
   <LINK REL="Next"  HREF="033490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Should we replace MemoryStream?</H1>
    <B>Grzegorz Sobanski</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Should%20we%20replace%20MemoryStream%3F&In-Reply-To=32541b130911100834u34b512b0yf65f509d565124ab%40mail.gmail.com"
       TITLE="[Mono-dev] Should we replace MemoryStream?">silk at boktor.net
       </A><BR>
    <I>Wed Nov 11 08:50:21 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033491.html">[Mono-dev] Should we replace MemoryStream?
</A></li>
        <LI>Next message: <A HREF="033490.html">[Mono-dev] Should we replace MemoryStream?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33501">[ date ]</a>
              <a href="thread.html#33501">[ thread ]</a>
              <a href="subject.html#33501">[ subject ]</a>
              <a href="author.html#33501">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>* Avery Pennarun &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">apenwarr at gmail.com</A>&gt; [2009-11-10 17:34]:
&gt;<i> might or might not result in the array being reallocated even in the
</I>&gt;<i> *naive* implementation.  Each reallocation will cause a copy of the
</I>&gt;<i> entire buffer every time.
</I>&gt;<i> 
</I>&gt;<i> Conversely, a chunked implementation would reallocate-and-copy the
</I>&gt;<i> data at most once, when you call GetBuffer().  So it is strictly
</I>&gt;<i> equal-or-better than the naive implementation, in terms of
</I>&gt;<i> reallocations and copies.
</I>
Yes, it's true, but only partially.

Code that knows how naive is MemoryStream could absorb the reallocations,
maybe in some backgroud work. And the assume that GetBuffer is 
instantaneous (in GUI thread).

(Yes, this is purely academic point; No, I don't have such code;
No, I haven't seen one).

greets
silk
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033491.html">[Mono-dev] Should we replace MemoryStream?
</A></li>
	<LI>Next message: <A HREF="033490.html">[Mono-dev] Should we replace MemoryStream?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33501">[ date ]</a>
              <a href="thread.html#33501">[ thread ]</a>
              <a href="subject.html#33501">[ subject ]</a>
              <a href="author.html#33501">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
