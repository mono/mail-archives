<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] crashes while executing	System.Buffer.BlockCopyInternal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20crashes%20while%20executing%0A%09System.Buffer.BlockCopyInternal&In-Reply-To=8cca42d80911180444y468cf6c4y9a49a402b66522d1%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033534.html">
   <LINK REL="Next"  HREF="033565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] crashes while executing	System.Buffer.BlockCopyInternal</H1>
    <B>Daniel Weuthen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20crashes%20while%20executing%0A%09System.Buffer.BlockCopyInternal&In-Reply-To=8cca42d80911180444y468cf6c4y9a49a402b66522d1%40mail.gmail.com"
       TITLE="[Mono-dev] crashes while executing	System.Buffer.BlockCopyInternal">daniel.weuthen-ml at deepinvent.com
       </A><BR>
    <I>Wed Nov 18 08:44:35 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033534.html">[Mono-dev] crashes while executing	System.Buffer.BlockCopyInternal
</A></li>
        <LI>Next message: <A HREF="033565.html">[Mono-dev] crashes while	executing	System.Buffer.BlockCopyInternal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33535">[ date ]</a>
              <a href="thread.html#33535">[ thread ]</a>
              <a href="subject.html#33535">[ subject ]</a>
              <a href="author.html#33535">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rodrigo,

&gt;<i> Can you install the debug symbols for mono and get a native stack trace
</I>&gt;<i> while on gdb?
</I>
I am currently testing under SLED 11 and got the mono-core-debuginfo
package installed. So I guess the debugging symbols are available.

Here is the output of &quot;t a a bt&quot; after the crash:

0x08125ee5 in ves_icall_System_Buffer_BlockCopyInternal (src=0x8a2000,
src_offset=16384, dest=0x770aa0, dest_offset=0, count=1024)
    at icall.c:6272
6272	icall.c: No such file or directory.
	in icall.c
(gdb) t a a bt

Thread 30 (Thread 0xadc64b90 (LWP 4669)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ec7f62 in pthread_cond_timedwait@@GLIBC_2.3.2 () from
/lib/libpthread.so.0
#2  0x081aefdc in _wapi_handle_timedwait_signal_handle (handle=0x401,
timeout=0xadc64258, alertable=1, poll=0) at handles.c:1603
#3  0x081ca444 in WaitForSingleObjectEx (handle=0x401, timeout=1000,
alertable=1) at wait.c:207
#4  0x08155f9e in async_invoke_thread (data=0x0) at threadpool.c:1407
#5  0x08153188 in start_wrapper (data=0x98e7bd0) at threads.c:623
#6  0x081c5d66 in thread_start_routine (args=0x83086d4) at threads.c:286
#7  0x081e5aa5 in GC_start_routine (arg=0x5afac0) at pthread_support.c:1382
#8  0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#9  0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 29 (Thread 0xaddf4b90 (LWP 4668)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ec7f62 in pthread_cond_timedwait@@GLIBC_2.3.2 () from
/lib/libpthread.so.0
#2  0x081aefdc in _wapi_handle_timedwait_signal_handle (handle=0x401,
timeout=0xaddf4258, alertable=1, poll=0) at handles.c:1603
#3  0x081ca444 in WaitForSingleObjectEx (handle=0x401, timeout=1000,
alertable=1) at wait.c:207
#4  0x08155f9e in async_invoke_thread (data=0x0) at threadpool.c:1407
#5  0x08153188 in start_wrapper (data=0x98e2f58) at threads.c:623
#6  0x081c5d66 in thread_start_routine (args=0x83063c4) at threads.c:286
#7  0x081e5aa5 in GC_start_routine (arg=0x4dafe0) at pthread_support.c:1382
#8  0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#9  0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 26 (Thread 0xae293b90 (LWP 4665)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ec7c35 in pthread_cond_wait@@GLIBC_2.3.2 () from
/lib/libpthread.so.0
#2  0x081af0b1 in _wapi_handle_timedwait_signal_handle (handle=0x459,
timeout=0x0, alertable=1, poll=0) at handles.c:1605
#3  0x081af134 in _wapi_handle_wait_signal_handle (handle=0x459,
alertable=1) at handles.c:1548
#4  0x081ca56a in WaitForSingleObjectEx (handle=0x459,
timeout=4294967295, alertable=1) at wait.c:205
#5  0x08156835 in mono_thread_pool_finish (ares=0x4ebf50,
out_args=0xae292be4, exc=0xae292be8) at threadpool.c:1177
#6  0x08142926 in mono_delegate_end_invoke (delegate=0x4ebf88,
params=0xae292c60) at marshal.c:3091
#7  0xb29e8f68 in ?? ()
#8  0xb29e8f32 in ?? ()
#9  0xade04a28 in ?? ()
#10 0xade24b81 in ?? ()
#11 0xade24865 in ?? ()
#12 0xade02c5b in ?? ()
#13 0xade22972 in ?? ()
#14 0xade21e8a in ?? ()
#15 0xade21e17 in ?? ()
#16 0xade21c24 in ?? ()
#17 0xade1c396 in ?? ()
#18 0xade1b2e7 in ?? ()
#19 0xae2a1a75 in ?? ()
#20 0xb7160086 in ?? ()
#21 0x08110f14 in mono_runtime_delegate_invoke (delegate=0x777a50,
params=0xae2932e4, exc=0x0) at object.c:2943
#22 0x0815320f in start_wrapper (data=0x4ebf88) at threads.c:629
#23 0x081c5d66 in thread_start_routine (args=0x830b50c) at threads.c:286
#24 0x081e5aa5 in GC_start_routine (arg=0x456cc0) at pthread_support.c:1382
#25 0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#26 0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 25 (Thread 0xae192b90 (LWP 4664)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ecb3f6 in nanosleep () from /lib/libpthread.so.0
#2  0x081c4b60 in SleepEx (ms=0, alertable=1) at threads.c:1025
#3  0x0815262b in ves_icall_System_Threading_Thread_Sleep_internal
(ms=790318768) at threads.c:1056
#4  0xb36ec4dc in ?? ()
#5  0xb36ec475 in ?? ()
#6  0xade1aa1b in ?? ()
#7  0xb6546368 in ?? ()
#8  0x08110f14 in mono_runtime_delegate_invoke (delegate=0x5bdee0,
params=0xae1922e4, exc=0x0) at object.c:2943
#9  0x0815320f in start_wrapper (data=0x4bad98) at threads.c:629
#10 0x081c5d66 in thread_start_routine (args=0x830b3fc) at threads.c:286
#11 0x081e5aa5 in GC_start_routine (arg=0x456cc0) at pthread_support.c:1382
#12 0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#13 0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 19 (Thread 0xb355db90 (LWP 4658)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ec7c35 in pthread_cond_wait@@GLIBC_2.3.2 () from
/lib/libpthread.so.0
#2  0xb581483a in ISC_event_wait (event=0xb6526928, value=1,
micro_seconds=0) at ../src/jrd/isc_sync.cpp:1280
#3  0xb596cd1b in Jrd::LockManager::blocking_action_thread
(this=0xb52a2c0c) at ../src/lock/lock.cpp:1437
#4  0xb5973b9d in Jrd::LockManager::blocking_action_thread
(arg=0xb52a2c0c) at ../src/lock/../jrd/../jrd/../lock/lock_proto.h:141
#5  0xb56cf09d in threadStart (arg=0xb52a2b3c) at
../src/jrd/ThreadStart.cpp:128
#6  0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#7  0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 16 (Thread 0xb365eb90 (LWP 4655)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ecb3f6 in nanosleep () from /lib/libpthread.so.0
#2  0x081c4b60 in SleepEx (ms=0, alertable=1) at threads.c:1025
#3  0x0815262b in ves_icall_System_Threading_Thread_Sleep_internal
(ms=1000) at threads.c:1056
#4  0xb36ec4dc in ?? ()
#5  0xb36ec475 in ?? ()
#6  0xae2a1f37 in ?? ()
#7  0xae2a1a75 in ?? ()
#8  0xb7160086 in ?? ()
#9  0x08110f14 in mono_runtime_delegate_invoke (delegate=0x5357e0,
params=0xb365e2e4, exc=0x0) at object.c:2943
#10 0x0815320f in start_wrapper (data=0x92906e0) at threads.c:629
#11 0x081c5d66 in thread_start_routine (args=0x8309d24) at threads.c:286
#12 0x081e5aa5 in GC_start_routine (arg=0x5b3fe0) at pthread_support.c:1382
#13 0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#14 0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 13 (Thread 0xb2b2ab90 (LWP 4632)):
#0  0x08125ee5 in ves_icall_System_Buffer_BlockCopyInternal
(src=0x8a2000, src_offset=16384, dest=0x770aa0, dest_offset=0, count=1024)
    at icall.c:6272
#1  0xb654f311 in ?? ()
#2  0xb654f13f in ?? ()
#3  0xb29e782e in ?? ()
#4  0xb5fdff06 in ?? ()
#5  0xb1b4ab03 in ?? ()
#6  0xadcd60c1 in ?? ()
#7  0xadcd46aa in ?? ()
#8  0xadcd1fa0 in ?? ()
#9  0xadcd1c90 in ?? ()
#10 0xadcd1bd1 in ?? ()
#11 0xb5fdb680 in ?? ()
#12 0x08115b0a in mono_runtime_invoke_array (method=0x921e3d4,
obj=0x4ebf88, params=0x5da2c0, exc=0xb2b2a26c) at object.c:3495
#13 0x08115ce4 in mono_message_invoke (target=0x4ebf88, msg=0x5c3c80,
exc=0xb2b2a26c, out_args=0xb2b2a268) at object.c:5010
#14 0x08155a73 in mono_async_invoke (ares=0x4ebf50) at threadpool.c:989
#15 0x08155f57 in async_invoke_thread (data=0x4ebf50) at threadpool.c:1383
#16 0x08153188 in start_wrapper (data=0x8861d08) at threads.c:623
#17 0x081c5d66 in thread_start_routine (args=0x830985c) at threads.c:286
#18 0x081e5aa5 in GC_start_routine (arg=0x35c20) at pthread_support.c:1382
#19 0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#20 0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 11 (Thread 0xb3facb90 (LWP 4630)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ec7c35 in pthread_cond_wait@@GLIBC_2.3.2 () from
/lib/libpthread.so.0
#2  0xb581483a in ISC_event_wait (event=0xb6527928, value=1,
micro_seconds=0) at ../src/jrd/isc_sync.cpp:1280
#3  0xb596cd1b in Jrd::LockManager::blocking_action_thread
(this=0xb52a2f14) at ../src/lock/lock.cpp:1437
#4  0xb5973b9d in Jrd::LockManager::blocking_action_thread
(arg=0xb52a2f14) at ../src/lock/../jrd/../jrd/../lock/lock_proto.h:141
#5  0xb56cf09d in threadStart (arg=0xb52a4238) at
../src/jrd/ThreadStart.cpp:128
#6  0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#7  0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 10 (Thread 0xb4962b90 (LWP 4629)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ec7c35 in pthread_cond_wait@@GLIBC_2.3.2 () from
/lib/libpthread.so.0
#2  0xb581483a in ISC_event_wait (event=0xb7fb3928, value=1,
micro_seconds=0) at ../src/jrd/isc_sync.cpp:1280
#3  0xb596cd1b in Jrd::LockManager::blocking_action_thread
(this=0xb52a378c) at ../src/lock/lock.cpp:1437
#4  0xb5973b9d in Jrd::LockManager::blocking_action_thread
(arg=0xb52a378c) at ../src/lock/../jrd/../jrd/../lock/lock_proto.h:141
#5  0xb56cf09d in threadStart (arg=0xb52a3130) at
../src/jrd/ThreadStart.cpp:128
#6  0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#7  0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 9 (Thread 0xb29ddb90 (LWP 4628)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ecb3f6 in nanosleep () from /lib/libpthread.so.0
#2  0x081c4b60 in SleepEx (ms=0, alertable=1) at threads.c:1025
#3  0x0815262b in ves_icall_System_Threading_Thread_Sleep_internal
(ms=10000) at threads.c:1056
#4  0xb36ec4dc in ?? ()
#5  0xb36ec475 in ?? ()
#6  0xb29df61d in ?? ()
#7  0xb6546368 in ?? ()
#8  0x08110f14 in mono_runtime_delegate_invoke (delegate=0x15bf18,
params=0xb29dd2e4, exc=0x0) at object.c:2943
#9  0x0815320f in start_wrapper (data=0x874f4b8) at threads.c:629
#10 0x081c5d66 in thread_start_routine (args=0x830974c) at threads.c:286
#11 0x081e5aa5 in GC_start_routine (arg=0x35c20) at pthread_support.c:1382
#12 0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#13 0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 8 (Thread 0xb2c2fb90 (LWP 4627)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ecb3f6 in nanosleep () from /lib/libpthread.so.0
#2  0x081c4b60 in SleepEx (ms=0, alertable=1) at threads.c:1025
#3  0x0815262b in ves_icall_System_Threading_Thread_Sleep_internal
(ms=10000) at threads.c:1056
#4  0xb36ec4dc in ?? ()
#5  0xb36ec475 in ?? ()
#6  0xb36ec0fd in ?? ()
#7  0xb6546368 in ?? ()
#8  0x08110f14 in mono_runtime_delegate_invoke (delegate=0x153d20,
params=0xb2c2f2e4, exc=0x0) at object.c:2943
#9  0x0815320f in start_wrapper (data=0x87cf0e8) at threads.c:629
#10 0x081c5d66 in thread_start_routine (args=0x830963c) at threads.c:286
#11 0x081e5aa5 in GC_start_routine (arg=0x35c20) at pthread_support.c:1382
#12 0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#13 0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 4 (Thread 0xb5298b90 (LWP 4603)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ec9ef5 in sem_wait@@GLIBC_2.1 () from /lib/libpthread.so.0
#2  0xb59f7b80 in Firebird::SignalSafeSemaphore::enter (this=0xb52a4818)
at ../src/common/classes/semaphore.cpp:100
#3  0xb56dec08 in shutdownThread () at ../src/jrd/why.cpp:838
#4  0xb56cf09d in threadStart (arg=0xb52a4618) at
../src/jrd/ThreadStart.cpp:128
#5  0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#6  0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 3 (Thread 0xb6da2b90 (LWP 4562)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ec9ef5 in sem_wait@@GLIBC_2.1 () from /lib/libpthread.so.0
#2  0x0812eed9 in finalizer_thread (unused=0x0) at gc.c:1058
#3  0x08153188 in start_wrapper (data=0x8315880) at threads.c:623
#4  0x081c5d66 in thread_start_routine (args=0x8305dec) at threads.c:286
#5  0x081e5aa5 in GC_start_routine (arg=0x35f20) at pthread_support.c:1382
#6  0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#7  0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 2 (Thread 0xb6dc6b90 (LWP 4561)):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7ecb3f6 in nanosleep () from /lib/libpthread.so.0
#2  0x081a91f8 in collection_thread (unused=0x0) at collection.c:34
#3  0xb7ec41b5 in start_thread () from /lib/libpthread.so.0
#4  0xb7e0a3ae in clone () from /lib/libc.so.6

Thread 1 (LWP 4558):
#0  0xffffe430 in __kernel_vsyscall ()
#1  0xb7e00697 in poll () from /lib/libc.so.6
#2  0xade48a81 in ?? ()
#3  0xade4887e in ?? ()
#4  0xade652b3 in ?? ()
#5  0xb1921cfb in ?? ()
#6  0xb19219c2 in ?? ()
#7  0xb197db2e in ?? ()
#8  0xade1821a in ?? ()
#9  0xade17eb3 in ?? ()
#10 0xade345d9 in ?? ()
#11 0xade34491 in ?? ()
#12 0xade34466 in ?? ()
#13 0xade33ef9 in ?? ()
#14 0xade33e55 in ?? ()
#15 0xade33e1c in ?? ()
#16 0xade33de1 in ?? ()
#17 0xade33db6 in ?? ()
#18 0xade33d42 in ?? ()
#19 0xade33c96 in ?? ()
#20 0xade4be5c in ?? ()
#21 0xade4bda0 in ?? ()
#22 0xb1d3bd24 in ?? ()
#23 0xade251de in ?? ()
#24 0xb1d3bb5e in ?? ()
#25 0xb1d3bb36 in ?? ()
#26 0xb1d3aeab in ?? ()
#27 0xade6822c in ?? ()
#28 0xade681fe in ?? ()
#29 0xb197da52 in ?? ()
#30 0xb197cffb in ?? ()
#31 0xb197cd8c in ?? ()
#32 0xb29e41b9 in ?? ()
#33 0xb7160447 in ?? ()
#34 0xb7160203 in ?? ()
#35 0x081138ae in mono_runtime_exec_main (method=0x442020, args=0x3be70,
exc=0x0) at object.c:3301
#36 0x08113fcb in mono_runtime_run_main (method=0x82e81bc, argc=0,
argv=0xbffff04c, exc=0x0) at object.c:3089
#37 0x080b388a in mono_main (argc=3, argv=0xbffff044) at driver.c:972
#38 0x0805af21 in main (argc=Cannot access memory at address 0x2
) at main.c:34

-- 
regards

Daniel Weuthen
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033534.html">[Mono-dev] crashes while executing	System.Buffer.BlockCopyInternal
</A></li>
	<LI>Next message: <A HREF="033565.html">[Mono-dev] crashes while	executing	System.Buffer.BlockCopyInternal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33535">[ date ]</a>
              <a href="thread.html#33535">[ thread ]</a>
              <a href="subject.html#33535">[ subject ]</a>
              <a href="author.html#33535">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
