<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] System.PlatformID
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.PlatformID&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035905.html">
   <LINK REL="Next"  HREF="035917.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] System.PlatformID</H1>
    <B>Nicholas Salerno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20System.PlatformID&In-Reply-To="
       TITLE="[Mono-dev] System.PlatformID">nsalerno at securewatch24.com
       </A><BR>
    <I>Mon Sep 20 18:06:06 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035905.html">[Mono-dev] Mono 3.0 Roadmap: IKVM-powered C# compiler
</A></li>
        <LI>Next message: <A HREF="035917.html">[Mono-dev] System.PlatformID
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35914">[ date ]</a>
              <a href="thread.html#35914">[ thread ]</a>
              <a href="subject.html#35914">[ subject ]</a>
              <a href="author.html#35914">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello.  Looking for some enlightenment on System.PlatformID.

When I query System.Environment.OSVersion.Platform on Linux I get a value that will equate to 128.  Yet, this is not in the source code definition for the PlatformID enum.  I can guess at this part, Mono can't add names to an enum that Microsoft controls, say if Microsoft decided to extend the enum.

Question: is 128 supposed to mean Linux?

So, I am trying to do a switch on OSVersion.Platform and it is not working.  Looking through the Mono source code I see this piece:

int p = (int) Environment.OSVersion.Platform;

if (p == 4 || p == 128 || p == 6){

I'll do this instead (if that is what it takes, although I will use a constant for 128 rather than the number itself).  I am wondering if there is a better way or if this is all that can be done.

Also, what if Microsoft suddenly came out of nowhere and said that 128 will map to AIX?  Was 128 chosen because there are far less than a 100 platforms worth caring about?

Nicholas

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035905.html">[Mono-dev] Mono 3.0 Roadmap: IKVM-powered C# compiler
</A></li>
	<LI>Next message: <A HREF="035917.html">[Mono-dev] System.PlatformID
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35914">[ date ]</a>
              <a href="thread.html#35914">[ thread ]</a>
              <a href="subject.html#35914">[ subject ]</a>
              <a href="author.html#35914">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
