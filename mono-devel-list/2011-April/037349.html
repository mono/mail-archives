<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] (incomplete) nunit26 migration patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%28incomplete%29%20nunit26%20migration%20patch&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037347.html">
   <LINK REL="Next"  HREF="037353.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] (incomplete) nunit26 migration patch</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%28incomplete%29%20nunit26%20migration%20patch&In-Reply-To="
       TITLE="[Mono-dev] (incomplete) nunit26 migration patch">atsushieno at veritas-vos-liberabit.com
       </A><BR>
    <I>Wed Apr  6 09:48:18 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037347.html">[Mono-dev] Unknown chars in strings
</A></li>
        <LI>Next message: <A HREF="037353.html">[Mono-dev]  Is Mono obscuring my Windows Exit code?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37349">[ date ]</a>
              <a href="thread.html#37349">[ thread ]</a>
              <a href="subject.html#37349">[ subject ]</a>
              <a href="author.html#37349">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Today I was trying to see how many of our corlib tests fail on .NET 4, 
and after seeing couple of blockers I (again) tried to migrate our nunit 
from 2.4.8 to the latest 2.6 snapshot build.
This time I added Assertion.cs to our tests (as Charlie suggested 
earlier) and &quot;make test NO_DIR_CHECK=1&quot; was successfully done at 
mono/mcs only with small changes. I have already committed a couple of 
changes in our tests in git master.

Here are the files to try out:
- <A HREF="http://dl.dropbox.com/u/493047/2011/04/Assertion.cs">http://dl.dropbox.com/u/493047/2011/04/Assertion.cs</A>
   Put this under mono/mcs/build/common directory.

- <A HREF="http://dl.dropbox.com/u/493047/2011/04/mono-nunit26.tar.bz2">http://dl.dropbox.com/u/493047/2011/04/mono-nunit26.tar.bz2</A>
   Extract this under mono/mcs. Like we have nunit24, there will be nunit26.

- <A HREF="http://dl.dropbox.com/u/493047/2011/04/migrate-nunit-2.6.patch">http://dl.dropbox.com/u/493047/2011/04/migrate-nunit-2.6.patch</A>
   Apply this patch in mono master tree.

- <A HREF="http://dl.dropbox.com/u/493047/2011/04/notes.txt">http://dl.dropbox.com/u/493047/2011/04/notes.txt</A>
   Some notes (you don't really need it).

Now, it cannot be applies to our tree as this nunit26 brought some 
regressions. So far I tried only corlib and Mono.Security (which had 
some test changes and I wanted to make sure to not regress as an example).
It does not seem to be very simple to fix all of those and test every 
assembly in our class libs, but if anyone can try and come up with fixes 
that makes tests pass on both 2.6 and 2.4, that would be great :)

To switch to nunit24, just revert mcs/Makefile and mcs/build/tests.make 
and make sure to rebuild mcs/nunit24.

BTW after marking some blocking tests as NotDotNet, make 
run-test-ondotnet now passes in corlib (with tons of failures...)
I posted my results to monobin: <A HREF="http://monobin.com/__m20041c31">http://monobin.com/__m20041c31</A>

Atsushi Eno

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037347.html">[Mono-dev] Unknown chars in strings
</A></li>
	<LI>Next message: <A HREF="037353.html">[Mono-dev]  Is Mono obscuring my Windows Exit code?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37349">[ date ]</a>
              <a href="thread.html#37349">[ thread ]</a>
              <a href="subject.html#37349">[ subject ]</a>
              <a href="author.html#37349">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
