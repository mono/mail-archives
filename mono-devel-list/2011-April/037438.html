<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] mkbundle2 and libMonoPosixHelper.so
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mkbundle2%20and%20libMonoPosixHelper.so&In-Reply-To=io4h4r%24ta5%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037422.html">
   <LINK REL="Next"  HREF="037439.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] mkbundle2 and libMonoPosixHelper.so</H1>
    <B>Burkhard Linke</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20mkbundle2%20and%20libMonoPosixHelper.so&In-Reply-To=io4h4r%24ta5%241%40dough.gmane.org"
       TITLE="[Mono-dev] mkbundle2 and libMonoPosixHelper.so">blinke at cebitec.uni-bielefeld.de
       </A><BR>
    <I>Mon Apr 18 03:42:17 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037422.html">[Mono-dev] mkbundle2 and libMonoPosixHelper.so
</A></li>
        <LI>Next message: <A HREF="037439.html">[Mono-dev] mkbundle2 and libMonoPosixHelper.so
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37438">[ date ]</a>
              <a href="thread.html#37438">[ thread ]</a>
              <a href="subject.html#37438">[ subject ]</a>
              <a href="author.html#37438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Wednesday 13 April 2011 17:57:18 Robert Jordan wrote:
&gt;<i> On 13.04.2011 09:03, danwalmsley wrote:
</I>&gt;<i> &gt;      Is there a problem with mkbundle2 (this also happens with mkbundle)?
</I>&gt;<i> &gt; Surely we shouldn't have to distribute these library modules alongside
</I>&gt;<i> &gt; our application? I used the mkbundle2 --deps command to make sure all
</I>&gt;<i> &gt; dependancies are included.
</I>&gt;<i>
</I>&gt;<i> It's by design. Mkbundle is only considering managed components.
</I>&gt;<i> libMonoPosixHelper.so is needed whenever Mono.Posix is consumed
</I>&gt;<i> by some assembly (WinForms in your case).
</I>
Yu can use monolinker to create a &quot;standalone&quot; binary linked to libmono 
(either dynamically or statically).

By modifying the link command printed by monolinker you can also link other 
libraries.

Unfortunatly the [DllImport] mechanism used to link libMonoPosixHelper always 
tries to use dlopen and dlsym to lookup functions in the shared objects.

Since the lookup is also subject to dll name mapping (see metadata/loader.c), 
you may try to provide a custom config file to monolinker, mapping 
monoPosixHelper to &quot;_Internal&quot;. This should result in a lookup of the 
executing shared object, which should allow to link libMonoPosixHelper 
statically. But I haven't tried that yet.

With best regards,
Burkhard Linke
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037422.html">[Mono-dev] mkbundle2 and libMonoPosixHelper.so
</A></li>
	<LI>Next message: <A HREF="037439.html">[Mono-dev] mkbundle2 and libMonoPosixHelper.so
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37438">[ date ]</a>
              <a href="thread.html#37438">[ thread ]</a>
              <a href="subject.html#37438">[ subject ]</a>
              <a href="author.html#37438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
