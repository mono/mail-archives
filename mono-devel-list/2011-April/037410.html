<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Cross directory function call in Mono's build system
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Cross%20directory%20function%20call%20in%20Mono%27s%20build%20system&In-Reply-To=4DA6E0C6.1040209%40cs.tu-chemnitz.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037408.html">
   <LINK REL="Next"  HREF="037413.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Cross directory function call in Mono's build system</H1>
    <B>Zoltan Varga</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Cross%20directory%20function%20call%20in%20Mono%27s%20build%20system&In-Reply-To=4DA6E0C6.1040209%40cs.tu-chemnitz.de"
       TITLE="[Mono-dev] Cross directory function call in Mono's build system">vargaz at gmail.com
       </A><BR>
    <I>Thu Apr 14 08:07:48 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="037408.html">[Mono-dev] Cross directory function call in Mono's build system
</A></li>
        <LI>Next message: <A HREF="037413.html">[Mono-dev] Cross directory function call in Mono's build system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37410">[ date ]</a>
              <a href="thread.html#37410">[ thread ]</a>
              <a href="subject.html#37410">[ subject ]</a>
              <a href="author.html#37410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

  Add a new entry to MonoRuntimeCallbacks and make the code in mini.c
initialize it to the function you want to call, then call this entry from
object.c.

            Zoltan

On Thu, Apr 14, 2011 at 1:55 PM, Martin D&#228;umler &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mdae at cs.tu-chemnitz.de</A>&gt;wrote:

&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I'm modifying Mono 2.6.1 and I want to call a function from
</I>&gt;<i> within function 'mono_delegate_ctor()' in source file
</I>&gt;<i> &quot;mono/metadata/object.c&quot;. The function to be called is a
</I>&gt;<i> custom function defined in source file &quot;mono/mini/mysourcefile.c&quot;
</I>&gt;<i> (which is already included in the build process of directory
</I>&gt;<i> &quot;mono/mini&quot;). So, I added &quot;mysourcefile.c&quot; to the list of
</I>&gt;<i> source files in Makefile.am in &quot;mono/metadata&quot;. However, the
</I>&gt;<i> code in &quot;mysourcefile.c&quot; uses a lot of functions of source
</I>&gt;<i> files in &quot;mono/mini.c&quot;. So, the linker says there are a lot
</I>&gt;<i> of undefined references. Including the referenced source
</I>&gt;<i> files works as far as the function
</I>&gt;<i> 'MONO_DEBUGGER__notification_function()' is referenced. It
</I>&gt;<i> is declared in &quot;mono/debug-debugger.c&quot; and marked as extern.
</I>&gt;<i> Although &quot;mono/debug-debugger.c&quot; is included, the linker
</I>&gt;<i> says the reference to this function is undefined.
</I>&gt;<i>
</I>&gt;<i> This is the point where I hang. Any hints how to get Mono
</I>&gt;<i> built with my custom function call?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> With kind regards,
</I>&gt;<i> Martin D&#228;umler
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110414/c90b6073/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20110414/c90b6073/attachment.html</A> 
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037408.html">[Mono-dev] Cross directory function call in Mono's build system
</A></li>
	<LI>Next message: <A HREF="037413.html">[Mono-dev] Cross directory function call in Mono's build system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37410">[ date ]</a>
              <a href="thread.html#37410">[ thread ]</a>
              <a href="subject.html#37410">[ subject ]</a>
              <a href="author.html#37410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
