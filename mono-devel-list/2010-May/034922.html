<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono sandbox is not verifying on load
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20sandbox%20is%20not%20verifying%20on%20load&In-Reply-To=op.vb6wy7q9tyk4fl%40tardis.lindenlab.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034914.html">
   <LINK REL="Next"  HREF="034923.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono sandbox is not verifying on load</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20sandbox%20is%20not%20verifying%20on%20load&In-Reply-To=op.vb6wy7q9tyk4fl%40tardis.lindenlab.com"
       TITLE="[Mono-dev] Mono sandbox is not verifying on load">kumpera at gmail.com
       </A><BR>
    <I>Wed May  5 16:27:34 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="034914.html">[Mono-dev] Mono sandbox is not verifying on load
</A></li>
        <LI>Next message: <A HREF="034923.html">[Mono-dev] Mono sandbox is not verifying on load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34922">[ date ]</a>
              <a href="thread.html#34922">[ thread ]</a>
              <a href="subject.html#34922">[ subject ]</a>
              <a href="author.html#34922">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, May 4, 2010 at 1:48 PM, Pete Forman
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">petef4+usenet at gmail.com</A>&lt;petef4%<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">2Busenet at gmail.com</A>&gt;
&gt;<i> wrote:
</I>
&gt;<i> I would like to verify all byte code when it is loaded into embedded
</I>&gt;<i> Mono. Verification has been turned on using
</I>&gt;<i> mono_security_enable_core_clr() but that is only performing
</I>&gt;<i> verification when the code is executed.
</I>&gt;<i>
</I>&gt;<i> My test cases are based on some working code that has been
</I>&gt;<i> disassembled to IL. An 'add' instruction without any preceding loads
</I>&gt;<i> is inserted into (case A) the constructor or (case B) another method.
</I>&gt;<i> It is expected that &quot;System.InvalidProgramException: Stack underflow,
</I>&gt;<i> required 2, but have 0 at 0x0000&quot; be thrown.
</I>&gt;<i>
</I>&gt;<i> Case A does produce the exception as the object is constructed when I
</I>&gt;<i> load the assembly.
</I>&gt;<i>
</I>&gt;<i> Case B does not produce the exception when I load it. It does when the
</I>&gt;<i> hacked method is called.
</I>&gt;<i>
</I>&gt;<i> pedump successfully identifies the errors in both cases (as does
</I>&gt;<i> peverify in .Net).
</I>&gt;<i>
</I>

Mono sandboxing tries to verify code and types as lazily as possible since
this is required to have
proper compatibility with SilverLight. It does also help in reducing startup
time and memory footprint.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100505/acd43f58/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100505/acd43f58/attachment.html</A> 
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034914.html">[Mono-dev] Mono sandbox is not verifying on load
</A></li>
	<LI>Next message: <A HREF="034923.html">[Mono-dev] Mono sandbox is not verifying on load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34922">[ date ]</a>
              <a href="thread.html#34922">[ thread ]</a>
              <a href="subject.html#34922">[ subject ]</a>
              <a href="author.html#34922">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
