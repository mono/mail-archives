<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Mono sandbox is not verifying on load
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20sandbox%20is%20not%20verifying%20on%20load&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035301.html">
   <LINK REL="Next"  HREF="034922.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Mono sandbox is not verifying on load</H1>
    <B>Pete Forman</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Mono%20sandbox%20is%20not%20verifying%20on%20load&In-Reply-To="
       TITLE="[Mono-dev] Mono sandbox is not verifying on load">petef4+usenet at gmail.com
       </A><BR>
    <I>Tue May  4 12:48:33 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035301.html">[Mono-dev] Porting mcs to IKVM.Reflection
</A></li>
        <LI>Next message: <A HREF="034922.html">[Mono-dev] Mono sandbox is not verifying on load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34914">[ date ]</a>
              <a href="thread.html#34914">[ thread ]</a>
              <a href="subject.html#34914">[ subject ]</a>
              <a href="author.html#34914">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would like to verify all byte code when it is loaded into embedded
Mono. Verification has been turned on using
mono_security_enable_core_clr() but that is only performing
verification when the code is executed.

My test cases are based on some working code that has been
disassembled to IL. An 'add' instruction without any preceding loads
is inserted into (case A) the constructor or (case B) another method.
It is expected that &quot;System.InvalidProgramException: Stack underflow,
required 2, but have 0 at 0x0000&quot; be thrown.

Case A does produce the exception as the object is constructed when I
load the assembly.

Case B does not produce the exception when I load it. It does when the
hacked method is called.

pedump successfully identifies the errors in both cases (as does
peverify in .Net).

</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035301.html">[Mono-dev] Porting mcs to IKVM.Reflection
</A></li>
	<LI>Next message: <A HREF="034922.html">[Mono-dev] Mono sandbox is not verifying on load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34914">[ date ]</a>
              <a href="thread.html#34914">[ thread ]</a>
              <a href="subject.html#34914">[ subject ]</a>
              <a href="author.html#34914">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
