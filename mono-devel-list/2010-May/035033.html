<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Altering our build system.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Altering%20our%20build%20system.&In-Reply-To=1274379034.5000.9.camel%40lina.magi.jprl.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035032.html">
   <LINK REL="Next"  HREF="035034.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Altering our build system.</H1>
    <B>Jonathan Chambers</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Altering%20our%20build%20system.&In-Reply-To=1274379034.5000.9.camel%40lina.magi.jprl.com"
       TITLE="[Mono-dev] Altering our build system.">joncham at gmail.com
       </A><BR>
    <I>Thu May 20 14:37:08 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035032.html">[Mono-dev] Altering our build system.
</A></li>
        <LI>Next message: <A HREF="035034.html">[Mono-dev] Altering our build system.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35033">[ date ]</a>
              <a href="thread.html#35033">[ thread ]</a>
              <a href="subject.html#35033">[ subject ]</a>
              <a href="author.html#35033">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been looking at a MSBuild based build for the class libs (based upon
Jonathan Pobst's MonkeyBuilder). To actually make the projects usable in
visual studio, they need to be one of a list of well known project types.
While MSBuild can handle an arbitrary .proj file with arbitrary MSBuild
tasks, to build inside VS you would need to use a .csproj. Currently, I have
a build basically working using a .proj file with custom MSBuild tasks that
mirror what MonkeyBuilder does (which mirrors the auto* based build). csproj
files could be used, but it raises a few questions:

1. Can we build using either .Net compilers or mono compilers?
2. Is there the concept of make and make install (building class libs versus
installing them in some location)?
3. Running unit tests

There are more issues, but this is already a bit unrelated to Miguel's
original post. The Windows build has recently gone downhill, so hopefully
any changes we make might make life better (and hopefully no worse).

Thanks,
Jonathan

On Thu, May 20, 2010 at 2:10 PM, Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">jonpryor at vt.edu</A>&gt; wrote:

&gt;<i> On Thu, 2010-05-20 at 12:52 -0400, Miguel de Icaza wrote:
</I>&gt;<i> &gt;      I would like to move to a setup where by default we assume we have
</I>&gt;<i> &gt; a working mcs/runtime and we build the configured profiles (defaulting
</I>&gt;<i> &gt; to 2.0 and 4.0).
</I>&gt;<i> ...
</I>&gt;<i> &gt;      A final wish-list item would be to split up the *core* libraries
</I>&gt;<i> &gt; from most of the extra libraries.  The moonlight team is using a special
</I>&gt;<i> &gt; process already to limit the number of assemblies built.
</I>&gt;<i>
</I>&gt;<i> This would dovetail nicely with the idea of splitting up mcs into
</I>&gt;<i> smaller modules as part of the git migration; see:
</I>&gt;<i>
</I>&gt;<i>        <A HREF="http://www.mono-project.com/GitMigration">http://www.mono-project.com/GitMigration</A>
</I>&gt;<i>
</I>&gt;<i> I would also suggest using xbuild to build the non-core libraries.  This
</I>&gt;<i> will make it easier for people who aren't using Unix to build the
</I>&gt;<i> libraries, as Visual Studio could then (hopefully) be used for building,
</I>&gt;<i> thus avoiding the pain that is Cygwin for everything except the runtime
</I>&gt;<i> and core libraries.
</I>&gt;<i>
</I>&gt;<i>  - Jon
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100520/b941ec01/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20100520/b941ec01/attachment-0001.html</A> 
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035032.html">[Mono-dev] Altering our build system.
</A></li>
	<LI>Next message: <A HREF="035034.html">[Mono-dev] Altering our build system.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35033">[ date ]</a>
              <a href="thread.html#35033">[ thread ]</a>
              <a href="subject.html#35033">[ subject ]</a>
              <a href="author.html#35033">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
