<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Something bad happened between 2.6.1 and 2.6.3?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Something%20bad%20happened%20between%202.6.1%20and%202.6.3%3F&In-Reply-To=4BACE984.3010902%40roadtech.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035110.html">
   <LINK REL="Next"  HREF="034912.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Something bad happened between 2.6.1 and 2.6.3?</H1>
    <B>Ben Clewett</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Something%20bad%20happened%20between%202.6.1%20and%202.6.3%3F&In-Reply-To=4BACE984.3010902%40roadtech.co.uk"
       TITLE="[Mono-dev] Something bad happened between 2.6.1 and 2.6.3?">Ben.Clewett at roadtech.co.uk
       </A><BR>
    <I>Tue May  4 09:53:03 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="035110.html">[Mono-dev] Long execution time on first execution (in AOT case)
</A></li>
        <LI>Next message: <A HREF="034912.html">[Mono-dev] Porting mcs to IKVM.Reflection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34911">[ date ]</a>
              <a href="thread.html#34911">[ thread ]</a>
              <a href="subject.html#34911">[ subject ]</a>
              <a href="author.html#34911">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

I have found a work-around for this bug.

Remove directives such as this from the Apache mono.conf:

	MonoMaxMemory tgstats_webservice 134217728

(It is large, but I have need of lots of memory.)

Now Mono starts up correctly.

This bug also seems to appear in version 2.6.4.  Although I note 
mod_mono is still only available in 2.6.3 so I can't further test.

Regards,

Ben



Ben Clewett wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Dear List,
</I>&gt;<i> 
</I>&gt;<i> Been using Mono through Mod-mono and stand-alone programs for years with 
</I>&gt;<i> great success, great product.
</I>&gt;<i> 
</I>&gt;<i> Had an issue with 2.6.1 where a file handler in VB.NET was returning 
</I>&gt;<i> null, so upgraded to 2.6.3, and now nothing through Mod-Mono is working, 
</I>&gt;<i> and getting things like this in Apache error.log.
</I>&gt;<i> 
</I>&gt;<i> Please, am I doing something wrong??
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Ben.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> =================================================================
</I>&gt;<i> Got a SIGABRT while executing native code. This usually indicates
</I>&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;<i> used by your application.
</I>&gt;<i> =================================================================
</I>&gt;<i> 
</I>&gt;<i> /bin/sh: error while loading shared libraries: libdl.so.2: failed to map 
</I>&gt;<i> segment from shared object: Cannot allocate memory
</I>&gt;<i> [Fri Mar 26 17:02:31 2010] [error] Failed to connect to mod-mono-server 
</I>&gt;<i> after several attempts to spawn the process.
</I>&gt;<i> 
</I>&gt;<i> ***MEMORY-ERROR***: /usr/lib/mono/2.0/mod-mono-server2.exe[27013]: 
</I>&gt;<i> GSlice: failed to allocate 1008 bytes (alignment: 1024): Cannot allocate 
</I>&gt;<i> memory
</I>&gt;<i> 
</I>&gt;<i> Stacktrace:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Native stacktrace:
</I>&gt;<i> 
</I>&gt;<i>          /usr/bin/mono [0x48c250]
</I>&gt;<i>          /lib64/libpthread.so.0 [0x7f78c06feb30]
</I>&gt;<i>          /lib64/libc.so.6(gsignal+0x35) [0x7f78c01735c5]
</I>&gt;<i>          /lib64/libc.so.6(abort+0x183) [0x7f78c0174bb3]
</I>&gt;<i>          /usr/lib64/libglib-2.0.so.0 [0x7f78c0f97b3a]
</I>&gt;<i>          /usr/lib64/libglib-2.0.so.0 [0x7f78c0f988e5]
</I>&gt;<i>          /usr/lib64/libglib-2.0.so.0(g_slice_alloc+0x7c7) [0x7f78c0f99927]
</I>&gt;<i>          /usr/lib64/libglib-2.0.so.0(g_hash_table_new_full+0x33) 
</I>&gt;<i> [0x7f78c0f6e273]
</I>&gt;<i>          /usr/bin/mono [0x521694]
</I>&gt;<i>          /usr/bin/mono [0x52facb]
</I>&gt;<i>          /usr/bin/mono [0x51ec3f]
</I>&gt;<i>          /usr/bin/mono [0x5b87f8]
</I>&gt;<i>          /usr/bin/mono [0x51edea]
</I>&gt;<i>          /usr/bin/mono [0x51a9f8]
</I>&gt;<i>          /usr/bin/mono [0x58f60b]
</I>&gt;<i>          /usr/bin/mono [0x5bca42]
</I>&gt;<i>          /lib64/libpthread.so.0 [0x7f78c06f7040]
</I>&gt;<i>          /lib64/libc.so.6(clone+0x6d) [0x7f78c021408d]
</I>&gt;<i> 
</I>&gt;<i> Debug info from gdb:
</I>&gt;<i> 
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> [Thread debugging using libthread_db enabled]
</I>&gt;<i> [New Thread 0x7f78c1601730 (LWP 27013)]
</I>&gt;<i> [New Thread 0x41d99950 (LWP 27018)]
</I>&gt;<i> [New Thread 0x4070a950 (LWP 27017)]
</I>&gt;<i> [New Thread 0x4362c950 (LWP 27016)]
</I>&gt;<i> [New Thread 0x42e2b950 (LWP 27015)]
</I>&gt;<i> [New Thread 0x4262a950 (LWP 27014)]
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> (no debugging symbols found)
</I>&gt;<i> 0x00007f78c06fd4c4 in __lll_lock_wait () from /lib64/libpthread.so.0
</I>&gt;<i>    6 Thread 0x4262a950 (LWP 27014)  0x00007f78c06fadd9 in 
</I>&gt;<i> pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
</I>&gt;<i>    5 Thread 0x42e2b950 (LWP 27015)  0x00007f78c06fadd9 in 
</I>&gt;<i> pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
</I>&gt;<i>    4 Thread 0x4362c950 (LWP 27016)  0x00007f78c06fadd9 in 
</I>&gt;<i> pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
</I>&gt;<i>    3 Thread 0x4070a950 (LWP 27017)  0x00007f78c06fe251 in nanosleep ()
</I>&gt;<i>     from /lib64/libpthread.so.0
</I>&gt;<i>    2 Thread 0x41d99950 (LWP 27018)  0x00007f78c06fd90b in read ()
</I>&gt;<i>     from /lib64/libpthread.so.0
</I>&gt;<i>    1 Thread 0x7f78c1601730 (LWP 27013)  0x00007f78c06fd4c4 in 
</I>&gt;<i> __lll_lock_wait ()
</I>&gt;<i>     from /lib64/libpthread.so.0
</I>&gt;<i> 
</I>&gt;<i> Thread 6 (Thread 0x4262a950 (LWP 27014)):
</I>&gt;<i> #0  0x00007f78c06fadd9 in pthread_cond_wait@@GLIBC_2.3.2 ()
</I>&gt;<i>     from /lib64/libpthread.so.0
</I>&gt;<i> #1  0x00000000005bb4e3 in ?? ()
</I>&gt;<i> #2  0x00000000005c2465 in ?? ()
</I>&gt;<i> #3  0x00000000005bc32c in ?? ()
</I>&gt;<i> #4  0x00007f78c06f7040 in start_thread () from /lib64/libpthread.so.0
</I>&gt;<i> #5  0x00007f78c021408d in clone () from /lib64/libc.so.6
</I>&gt;<i> #6  0x0000000000000000 in ?? ()
</I>&gt;<i> 
</I>&gt;<i> Thread 5 (Thread 0x42e2b950 (LWP 27015)):
</I>&gt;<i> #0  0x00007f78c06fadd9 in pthread_cond_wait@@GLIBC_2.3.2 ()
</I>&gt;<i>     from /lib64/libpthread.so.0
</I>&gt;<i> #1  0x00000000005bb4e3 in ?? ()
</I>&gt;<i> #2  0x00000000005c2465 in ?? ()
</I>&gt;<i> #3  0x00000000005bc32c in ?? ()
</I>&gt;<i> #4  0x00007f78c06f7040 in start_thread () from /lib64/libpthread.so.0
</I>&gt;<i> #5  0x00007f78c021408d in clone () from /lib64/libc.so.6
</I>&gt;<i> #6  0x0000000000000000 in ?? ()
</I>&gt;<i> 
</I>&gt;<i> Thread 4 (Thread 0x4362c950 (LWP 27016)):
</I>&gt;<i> #0  0x00007f78c06fadd9 in pthread_cond_wait@@GLIBC_2.3.2 ()
</I>&gt;<i>     from /lib64/libpthread.so.0
</I>&gt;<i> #1  0x00000000005bb4e3 in ?? ()
</I>&gt;<i> #2  0x00000000005c2465 in ?? ()
</I>&gt;<i> #3  0x00000000005bc32c in ?? ()
</I>&gt;<i> #4  0x00007f78c06f7040 in start_thread () from /lib64/libpthread.so.0
</I>&gt;<i> #5  0x00007f78c021408d in clone () from /lib64/libc.so.6
</I>&gt;<i> #6  0x0000000000000000 in ?? ()
</I>&gt;<i> 
</I>&gt;<i> Thread 3 (Thread 0x4070a950 (LWP 27017)):
</I>&gt;<i> #0  0x00007f78c06fe251 in nanosleep () from /lib64/libpthread.so.0
</I>&gt;<i> #1  0x0000000000596f52 in ?? ()
</I>&gt;<i> #2  0x00007f78c06f7040 in start_thread () from /lib64/libpthread.so.0
</I>&gt;<i> #3  0x00007f78c021408d in clone () from /lib64/libc.so.6
</I>&gt;<i> #4  0x0000000000000000 in ?? ()
</I>&gt;<i> 
</I>&gt;<i> Thread 2 (Thread 0x41d99950 (LWP 27018)):
</I>&gt;<i> #0  0x00007f78c06fd90b in read () from /lib64/libpthread.so.0
</I>&gt;<i> #1  0x000000000048c3dd in ?? ()
</I>&gt;<i> #2  &lt;signal handler called&gt;
</I>&gt;<i> #3  0x00007f78c01735c5 in raise () from /lib64/libc.so.6
</I>&gt;<i> #4  0x00007f78c0174bb3 in abort () from /lib64/libc.so.6
</I>&gt;<i> #5  0x00007f78c0f97b3a in ?? () from /usr/lib64/libglib-2.0.so.0
</I>&gt;<i> #6  0x00007f78c0f988e5 in ?? () from /usr/lib64/libglib-2.0.so.0
</I>&gt;<i> #7  0x00007f78c0f99927 in g_slice_alloc () from /usr/lib64/libglib-2.0.so.0
</I>&gt;<i> #8  0x00007f78c0f6e273 in g_hash_table_new_full ()
</I>&gt;<i>     from /usr/lib64/libglib-2.0.so.0
</I>&gt;<i> #9  0x0000000000521694 in ?? ()
</I>&gt;<i> #10 0x000000000052facb in ?? ()
</I>&gt;<i> #11 0x000000000051ec3f in ?? ()
</I>&gt;<i> #12 0x00000000005b87f8 in ?? ()
</I>&gt;<i> #13 0x000000000051edea in ?? ()
</I>&gt;<i> #14 0x000000000051a9f8 in ?? ()
</I>&gt;<i> #15 0x000000000058f60b in ?? ()
</I>&gt;<i> #16 0x00000000005bca42 in ?? ()
</I>&gt;<i> #17 0x00007f78c06f7040 in start_thread () from /lib64/libpthread.so.0
</I>&gt;<i> #18 0x00007f78c021408d in clone () from /lib64/libc.so.6
</I>&gt;<i> #19 0x0000000000000000 in ?? ()
</I>&gt;<i> 
</I>&gt;<i> Thread 1 (Thread 0x7f78c1601730 (LWP 27013)):
</I>&gt;<i> #0  0x00007f78c06fd4c4 in __lll_lock_wait () from /lib64/libpthread.so.0
</I>&gt;<i> #1  0x00007f78c06f8cbb in _L_lock_312 () from /lib64/libpthread.so.0
</I>&gt;<i> #2  0x00007f78c06f86e1 in pthread_mutex_lock () from /lib64/libpthread.so.0
</I>&gt;<i> #3  0x000000000052d0c6 in ?? ()
</I>&gt;<i> #4  0x000000000052fa7b in ?? ()
</I>&gt;<i> #5  0x00000000004200b0 in ?? ()
</I>&gt;<i> #6  0x000000000057503c in mono_runtime_invoke ()
</I>&gt;<i> #7  0x000000000057a2de in mono_runtime_invoke_array ()
</I>&gt;<i> #8  0x0000000000506127 in ?? ()
</I>&gt;<i> #9  0x00000000406fd418 in ?? ()
</I>&gt;<i> #10 0x00007fffc9627700 in ?? ()
</I>&gt;<i> #11 0x00007f78bf3808a0 in ?? ()
</I>&gt;<i> #12 0x00007f78bf3a3910 in ?? ()
</I>&gt;<i> #13 0x00007f78c1480220 in ?? ()
</I>&gt;<i> #14 0x0000000000000000 in ?? ()
</I>&gt;<i> #0  0x00007f78c06fd4c4 in __lll_lock_wait () from /lib64/libpthread.so.0
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> *************************************************************************
</I>&gt;<i> This e-mail is confidential and may be legally privileged. It is intended
</I>&gt;<i> solely for the use of the individual(s) to whom it is addressed. Any
</I>&gt;<i> content in this message is not necessarily a view or statement from Road
</I>&gt;<i> Tech Computer Systems Limited but is that of the individual sender. If
</I>&gt;<i> you are not the intended recipient, be advised that you have received
</I>&gt;<i> this e-mail in error and that any use, dissemination, forwarding,
</I>&gt;<i> printing, or copying of this e-mail is strictly prohibited. We use
</I>&gt;<i> reasonable endeavours to virus scan all e-mails leaving the company but
</I>&gt;<i> no warranty is given that this e-mail and any attachments are virus free.
</I>&gt;<i> You should undertake your own virus checking. The right to monitor e-mail
</I>&gt;<i> communications through our networks is reserved by us
</I>&gt;<i> 
</I>&gt;<i>   Road Tech Computer Systems Ltd. Shenley Hall, Rectory Lane, Shenley,
</I>&gt;<i>   Radlett, Hertfordshire, WD7 9AN. - VAT Registration No GB 449 3582 17
</I>&gt;<i>   Registered in England No: 02017435, Registered Address: Charter Court, 
</I>&gt;<i>   Midland Road, Hemel Hempstead,  Hertfordshire, HP2 5GE. 
</I>&gt;<i> *************************************************************************
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> 
</I>&gt;<i> *RT IMSS Scanned*
</I>&gt;<i> 
</I>
*************************************************************************
This e-mail is confidential and may be legally privileged. It is intended
solely for the use of the individual(s) to whom it is addressed. Any
content in this message is not necessarily a view or statement from Road
Tech Computer Systems Limited but is that of the individual sender. If
you are not the intended recipient, be advised that you have received
this e-mail in error and that any use, dissemination, forwarding,
printing, or copying of this e-mail is strictly prohibited. We use
reasonable endeavours to virus scan all e-mails leaving the company but
no warranty is given that this e-mail and any attachments are virus free.
You should undertake your own virus checking. The right to monitor e-mail
communications through our networks is reserved by us

  Road Tech Computer Systems Ltd. Shenley Hall, Rectory Lane, Shenley,
  Radlett, Hertfordshire, WD7 9AN. - VAT Registration No GB 449 3582 17
  Registered in England No: 02017435, Registered Address: Charter Court, 
  Midland Road, Hemel Hempstead,  Hertfordshire, HP2 5GE. 
*************************************************************************
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035110.html">[Mono-dev] Long execution time on first execution (in AOT case)
</A></li>
	<LI>Next message: <A HREF="034912.html">[Mono-dev] Porting mcs to IKVM.Reflection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34911">[ date ]</a>
              <a href="thread.html#34911">[ thread ]</a>
              <a href="subject.html#34911">[ subject ]</a>
              <a href="author.html#34911">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
