<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] building on yellowdog (PPC) fails
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20building%20on%20yellowdog%20%28PPC%29%20fails&In-Reply-To=000501c3acf2%2487a05280%246405a8c0%40etoki">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002984.html">
   <LINK REL="Next"  HREF="002894.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] building on yellowdog (PPC) fails</H1>
    <B>Robert Shade</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20building%20on%20yellowdog%20%28PPC%29%20fails&In-Reply-To=000501c3acf2%2487a05280%246405a8c0%40etoki"
       TITLE="[Mono-devel-list] building on yellowdog (PPC) fails">rshade at dvsconsulting.com
       </A><BR>
    <I>Mon Nov 17 08:59:39 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002984.html">[Mono-devel-list] building on yellowdog (PPC) fails
</A></li>
        <LI>Next message: <A HREF="002894.html">[Mono-devel-list] [PATCH] detect a stdin/out/err redirection (Isatty)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2989">[ date ]</a>
              <a href="thread.html#2989">[ thread ]</a>
              <a href="subject.html#2989">[ subject ]</a>
              <a href="author.html#2989">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I could be mistaken, but last I knew the JIT was still incomplete on 
PPC.  You should try to use the interpreter instead (mint) and see how 
that works.  I'm using OSX (also attempting to get Gentoo running on it 
as well) and I've only ever been able to use mint.  Mono (the JIT) 
fails in the same way on OSX at this point.

rob


On Nov 17, 2003, at 5:06 AM, Eto wrote:

&gt;<i> Another update....  I guess these are helpful, as things seem to be 
</I>&gt;<i> done
</I>&gt;<i> about it.. Hehe
</I>&gt;<i>
</I>&gt;<i> With the latest from the anoncvs the &quot;Segmentation Fault&quot; has been
</I>&gt;<i> fixed, but I now get this error when running a simple console hello
</I>&gt;<i> world app:
</I>&gt;<i>
</I>&gt;<i> ------
</I>&gt;<i> ** (TestCosole.exe:407): WARING **: Using non-atomic functions!
</I>&gt;<i>
</I>&gt;<i> ** ERROR **: file mini-ppc.c: line 2427 (mono_arch_output_basic_block):
</I>&gt;<i> should not be reached
</I>&gt;<i> aborting...
</I>&gt;<i> Aborted
</I>&gt;<i> -------
</I>&gt;<i>
</I>&gt;<i> Kinda odd.. But maybe a big/little endian thing I'm guessing..  You 
</I>&gt;<i> guys
</I>&gt;<i> would know best. (;
</I>&gt;<i>
</I>&gt;<i> Cheers, and I hope this helps!
</I>&gt;<i>
</I>&gt;<i> Curtis.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>] On Behalf Of Eto
</I>&gt;<i> Sent: November 14, 2003 1:59 AM
</I>&gt;<i> To: 'Mono-Devel-List'
</I>&gt;<i> Subject: RE: [Mono-devel-list] building on yellowdog (PPC) fails
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have a progress update!  The mono runtime (from CVS) now compiles on
</I>&gt;<i> yellowdog (great response, guys!)
</I>&gt;<i>
</I>&gt;<i> However, I'm still getting a &quot;Segmentation fault&quot; when trying to 
</I>&gt;<i> execute
</I>&gt;<i> any program.  I'm not sure if it's due to the warning..  This is the
</I>&gt;<i> output:
</I>&gt;<i>
</I>&gt;<i> ** (mcs.exe:3095): WARNING **: Using non-atomic functions!
</I>&gt;<i> Segmentation fault
</I>&gt;<i>
</I>&gt;<i> When I run mono with no arguments, it runs (and shows the command-line
</I>&gt;<i> arguments).. However, even a simple 'Hello World' console app (built in
</I>&gt;<i> VS.NET) doesn't seem to run. ):  I'm very happy that it compiles 
</I>&gt;<i> though,
</I>&gt;<i> as it's farther than I've gotten before on my PPC! (:
</I>&gt;<i>
</I>&gt;<i> If there's anything I can do to help out (with testing, etc), let me
</I>&gt;<i> know.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Curtis.
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>] On Behalf Of Eto
</I>&gt;<i> Sent: November 9, 2003 11:19 PM
</I>&gt;<i> To: Mono-Devel-List
</I>&gt;<i> Subject: [Mono-devel-list] building on yellowdog (PPC) fails
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I have a Mac G4 Cube.  I had OS X 10.2 on it, and tried compiling mono
</I>&gt;<i> with absolutely no success.  I figured it would be much better on 
</I>&gt;<i> linux,
</I>&gt;<i> so I installed yellowdog linux (redhat hybrid) for PPC.
</I>&gt;<i>
</I>&gt;<i> There were a few problems that I encountered, and would like you guys 
</I>&gt;<i> to
</I>&gt;<i> know about it (so it can be fixed):
</I>&gt;<i>
</I>&gt;<i> dump.c:
</I>&gt;<i>
</I>&gt;<i> line 140 &amp; 274 :  CSIZE is not defined..   even though, it is defined
</I>&gt;<i> (and included) with util.h, it does not seem to pick it up for some
</I>&gt;<i> reason.  I had to add the following to the beginning:
</I>&gt;<i>
</I>&gt;<i> #define CSIZE(x) (sizeof(x) / 4)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> exceptions-ppc.c:
</I>&gt;<i>
</I>&gt;<i> structure as no member named 'sc_ir'  (lines 642, 812, 844, etc, etc)
</I>&gt;<i> structure as no member named 'sc_sp' (lines 662, 813, 815, etc, etc)
</I>&gt;<i>
</I>&gt;<i> Seems to be a problem with MONO_CONTEXT_GET_IP() and
</I>&gt;<i> MONO_CONTEXT_GET_BP() macros:
</I>&gt;<i>
</I>&gt;<i> #define MONO_CONTEXT_GET_IP(ctx) ((gpointer)((ctx)-&gt;sc_ir)) #define
</I>&gt;<i> MONO_CONTEXT_GET_BP(ctx) ((gpointer)((ctx)-&gt;sc_sp))
</I>&gt;<i>
</I>&gt;<i> I tracked down the structure(s) that it's using, and it's defined as:
</I>&gt;<i>
</I>&gt;<i> /usr/include/asm-ppc/sigcontext.h
</I>&gt;<i> struct sigcontext_struct {
</I>&gt;<i> 	unsigned long	_unused[4];
</I>&gt;<i> 	int			signal;
</I>&gt;<i> 	unsigned long	handler;
</I>&gt;<i> 	unsigned long	oldmask;
</I>&gt;<i> 	struct pt_regs	*regs;
</I>&gt;<i> };
</I>&gt;<i> 	
</I>&gt;<i> struct pt_regs {
</I>&gt;<i> 	unsigned long gpr[32];
</I>&gt;<i> 	unsigned long nip;
</I>&gt;<i> 	unsigned long msr;
</I>&gt;<i> 	unsigned long orig_gpr3;
</I>&gt;<i> 	unsigned long ctr;
</I>&gt;<i> 	unsigned long link;
</I>&gt;<i> 	unsigned long xer;
</I>&gt;<i> 	unsigned long ccr;
</I>&gt;<i> 	unsigned long mq;
</I>&gt;<i>
</I>&gt;<i> 	unsigned long trap;
</I>&gt;<i> 	unsigned long dar;
</I>&gt;<i> 	unsigned long dsisr;
</I>&gt;<i> 	unsigned long result;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Does anyone know which one of these to use?  I tried a few, and it 
</I>&gt;<i> gives
</I>&gt;<i> a segmentation fault when running.. Heh
</I>&gt;<i>
</I>&gt;<i> I really would like to get mono running on this machine..
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i>
</I>&gt;<i> Curtis.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002984.html">[Mono-devel-list] building on yellowdog (PPC) fails
</A></li>
	<LI>Next message: <A HREF="002894.html">[Mono-devel-list] [PATCH] detect a stdin/out/err redirection (Isatty)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2989">[ date ]</a>
              <a href="thread.html#2989">[ thread ]</a>
              <a href="subject.html#2989">[ subject ]</a>
              <a href="author.html#2989">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
