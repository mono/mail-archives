<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] building on yellowdog (PPC) fails
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20building%20on%20yellowdog%20%28PPC%29%20fails&In-Reply-To=000e01c3ad2d%246e809540%246405a8c0%40etoki">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002988.html">
   <LINK REL="Next"  HREF="002996.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] building on yellowdog (PPC) fails</H1>
    <B>rshade at dvsconsulting.com</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20building%20on%20yellowdog%20%28PPC%29%20fails&In-Reply-To=000e01c3ad2d%246e809540%246405a8c0%40etoki"
       TITLE="[Mono-devel-list] building on yellowdog (PPC) fails">rshade at dvsconsulting.com
       </A><BR>
    <I>Mon Nov 17 12:39:10 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002988.html">[Mono-devel-list] Mono crashes with stack overflow exception at GC_clear_stack_inner()
</A></li>
        <LI>Next message: <A HREF="002996.html">[Mono-devel-list] patch: implements GetLogicalDrives for win32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2993">[ date ]</a>
              <a href="thread.html#2993">[ thread ]</a>
              <a href="subject.html#2993">[ subject ]</a>
              <a href="author.html#2993">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oh, sure it is. :) Just run with

mint program.exe

instead of

mono program.exe

The only other thing you have to do is edit the mcs script wherever you
installed mono.  Just change the call to mono to mint.

rob

&gt;<i> Hm, I didn't know..  Any idea on how to get mono to use the interpreter?
</I>&gt;<i> It isn't exactly straight forward.. Hehe (;
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Curtis.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>] On Behalf Of Robert
</I>&gt;<i> Shade
</I>&gt;<i> Sent: November 17, 2003 6:00 AM
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-devel-list] building on yellowdog (PPC) fails
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I could be mistaken, but last I knew the JIT was still incomplete on
</I>&gt;<i> PPC.  You should try to use the interpreter instead (mint) and see how
</I>&gt;<i> that works.  I'm using OSX (also attempting to get Gentoo running on it
</I>&gt;<i> as well) and I've only ever been able to use mint.  Mono (the JIT)
</I>&gt;<i> fails in the same way on OSX at this point.
</I>&gt;<i>
</I>&gt;<i> rob
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Nov 17, 2003, at 5:06 AM, Eto wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Another update....  I guess these are helpful, as things seem to be
</I>&gt;&gt;<i> done
</I>&gt;&gt;<i> about it.. Hehe
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> With the latest from the anoncvs the &quot;Segmentation Fault&quot; has been
</I>&gt;&gt;<i> fixed, but I now get this error when running a simple console hello
</I>&gt;&gt;<i> world app:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------
</I>&gt;&gt;<i> ** (TestCosole.exe:407): WARING **: Using non-atomic functions!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ** ERROR **: file mini-ppc.c: line 2427
</I>&gt;&gt;<i> (mono_arch_output_basic_block): should not be reached aborting...
</I>&gt;&gt;<i> Aborted
</I>&gt;&gt;<i> -------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Kinda odd.. But maybe a big/little endian thing I'm guessing..  You
</I>&gt;&gt;<i> guys
</I>&gt;&gt;<i> would know best. (;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers, and I hope this helps!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Curtis.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
</I>&gt;&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>] On Behalf Of Eto
</I>&gt;&gt;<i> Sent: November 14, 2003 1:59 AM
</I>&gt;&gt;<i> To: 'Mono-Devel-List'
</I>&gt;&gt;<i> Subject: RE: [Mono-devel-list] building on yellowdog (PPC) fails
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have a progress update!  The mono runtime (from CVS) now compiles on
</I>&gt;<i>
</I>&gt;&gt;<i> yellowdog (great response, guys!)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, I'm still getting a &quot;Segmentation fault&quot; when trying to
</I>&gt;&gt;<i> execute
</I>&gt;&gt;<i> any program.  I'm not sure if it's due to the warning..  This is the
</I>&gt;&gt;<i> output:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ** (mcs.exe:3095): WARNING **: Using non-atomic functions!
</I>&gt;&gt;<i> Segmentation fault
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> When I run mono with no arguments, it runs (and shows the command-line
</I>&gt;<i>
</I>&gt;&gt;<i> arguments).. However, even a simple 'Hello World' console app (built
</I>&gt;&gt;<i> in
</I>&gt;&gt;<i> VS.NET) doesn't seem to run. ):  I'm very happy that it compiles
</I>&gt;&gt;<i> though,
</I>&gt;&gt;<i> as it's farther than I've gotten before on my PPC! (:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If there's anything I can do to help out (with testing, etc), let me
</I>&gt;&gt;<i> know.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i> Curtis.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
</I>&gt;&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>] On Behalf Of Eto
</I>&gt;&gt;<i> Sent: November 9, 2003 11:19 PM
</I>&gt;&gt;<i> To: Mono-Devel-List
</I>&gt;&gt;<i> Subject: [Mono-devel-list] building on yellowdog (PPC) fails
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have a Mac G4 Cube.  I had OS X 10.2 on it, and tried compiling mono
</I>&gt;<i>
</I>&gt;&gt;<i> with absolutely no success.  I figured it would be much better on
</I>&gt;&gt;<i> linux, so I installed yellowdog linux (redhat hybrid) for PPC.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There were a few problems that I encountered, and would like you guys
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> know about it (so it can be fixed):
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> dump.c:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> line 140 &amp; 274 :  CSIZE is not defined..   even though, it is defined
</I>&gt;&gt;<i> (and included) with util.h, it does not seem to pick it up for some
</I>&gt;&gt;<i> reason.  I had to add the following to the beginning:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #define CSIZE(x) (sizeof(x) / 4)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> exceptions-ppc.c:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> structure as no member named 'sc_ir'  (lines 642, 812, 844, etc, etc)
</I>&gt;&gt;<i> structure as no member named 'sc_sp' (lines 662, 813, 815, etc, etc)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Seems to be a problem with MONO_CONTEXT_GET_IP() and
</I>&gt;&gt;<i> MONO_CONTEXT_GET_BP() macros:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #define MONO_CONTEXT_GET_IP(ctx) ((gpointer)((ctx)-&gt;sc_ir)) #define
</I>&gt;&gt;<i> MONO_CONTEXT_GET_BP(ctx) ((gpointer)((ctx)-&gt;sc_sp))
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I tracked down the structure(s) that it's using, and it's defined as:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /usr/include/asm-ppc/sigcontext.h
</I>&gt;&gt;<i> struct sigcontext_struct {
</I>&gt;&gt;<i> 	unsigned long	_unused[4];
</I>&gt;&gt;<i> 	int			signal;
</I>&gt;&gt;<i> 	unsigned long	handler;
</I>&gt;&gt;<i> 	unsigned long	oldmask;
</I>&gt;&gt;<i> 	struct pt_regs	*regs;
</I>&gt;&gt;<i> };
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> struct pt_regs {
</I>&gt;&gt;<i> 	unsigned long gpr[32];
</I>&gt;&gt;<i> 	unsigned long nip;
</I>&gt;&gt;<i> 	unsigned long msr;
</I>&gt;&gt;<i> 	unsigned long orig_gpr3;
</I>&gt;&gt;<i> 	unsigned long ctr;
</I>&gt;&gt;<i> 	unsigned long link;
</I>&gt;&gt;<i> 	unsigned long xer;
</I>&gt;&gt;<i> 	unsigned long ccr;
</I>&gt;&gt;<i> 	unsigned long mq;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 	unsigned long trap;
</I>&gt;&gt;<i> 	unsigned long dar;
</I>&gt;&gt;<i> 	unsigned long dsisr;
</I>&gt;&gt;<i> 	unsigned long result;
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Does anyone know which one of these to use?  I tried a few, and it
</I>&gt;&gt;<i> gives
</I>&gt;&gt;<i> a segmentation fault when running.. Heh
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I really would like to get mono running on this machine..
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Curtis.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-devel-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002988.html">[Mono-devel-list] Mono crashes with stack overflow exception at GC_clear_stack_inner()
</A></li>
	<LI>Next message: <A HREF="002996.html">[Mono-devel-list] patch: implements GetLogicalDrives for win32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2993">[ date ]</a>
              <a href="thread.html#2993">[ thread ]</a>
              <a href="subject.html#2993">[ subject ]</a>
              <a href="author.html#2993">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
