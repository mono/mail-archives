<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] REPOST: Mono class layout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20REPOST%3A%20Mono%20class%20layout&In-Reply-To=200BBC2A1515F147A53DF4B01646679E2A3E11%40dtmscosvex01.danahertm.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002919.html">
   <LINK REL="Next"  HREF="002935.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] REPOST: Mono class layout</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20REPOST%3A%20Mono%20class%20layout&In-Reply-To=200BBC2A1515F147A53DF4B01646679E2A3E11%40dtmscosvex01.danahertm.com"
       TITLE="[Mono-devel-list] REPOST: Mono class layout">jonpryor at vt.edu
       </A><BR>
    <I>Wed Nov 12 07:32:44 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002919.html">[Mono-devel-list] REPOST: Mono class layout
</A></li>
        <LI>Next message: <A HREF="002935.html">[Mono-devel-list] REPOST: Mono class layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2924">[ date ]</a>
              <a href="thread.html#2924">[ thread ]</a>
              <a href="subject.html#2924">[ subject ]</a>
              <a href="author.html#2924">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here's a stab at an explanation...

Most of the brace format is the &quot;one true brace format&quot; -- K&amp;R style.

	void ThisIsKAndRStyle()
	{
		if (true) {
		} else {
		}
	}

Of course, this then gets modified for readability -- I usually put
&quot;else&quot; on a newline, resulting in:

	if (true) {
	}
	else {
	}

There's actually &quot;benefits&quot; to this approach over &quot;MS&quot; style:

	if (true)
	{
	}
	else
	{
	}

The &quot;benefits&quot; are in &quot;Code Complete&quot; (which I've sadly lost, so I can't
directly quote it), but the basic gist is that the first style allows
you to get a better feel for the code flow structure at a glance, as the
begin &amp; end scopes are at the same indentation level.  This is opposed
to the &quot;MS&quot; style which adds an extra line of &quot;noise&quot;.

An alternate style (which I've also used, but less frequently) is
drastically different, but really makes an outline view of the code
easy:

	if (true)
		{
		}
	else
		{
		}

Suffice it to say, NO code should use this in CVS. :-)  But it does make
it easy to see control flow.

I can't explain why functions generally have braces start on a newline,
though.  I'd think the same logic would apply.  But functions are
generally fewer than control-flow statements, so this doesn't bother me.

Now, do people have this memorized?  Some do, I'm sure, but most don't. 
Which is why the code in CVS is not entirely consistent, as not everyone
(a) read the guidelines, or (b) remembered them.

I can't remember if Monostyle corrects this.  I'm not actually aware of
anyone who uses it, since we generally avoid CVS commits that just
change code formatting (as this deteriorates CVS history, as you have
&quot;cosmetic&quot; changes intermixed with &quot;real&quot; changes).  Just like we try to
keep line-endings the same, even if CVS has DOS line-endings -- we don't
want to lose history if we can avoid it.

 - Jon

On Tue, 2003-11-11 at 15:31, Hayes, Dennis wrote:
&gt;<i> /Rant on
</I>&gt;<i> Does anyone have so much spare time that they would like to explain why
</I>&gt;<i> sometimes the bracket goes on the same line and other times it goes on the
</I>&gt;<i> next line.
</I>&gt;<i> I know this comes from another &quot;standard&quot; (Java?).
</I>&gt;<i> Do people have this memorized? Do they look it up every time they use a
</I>&gt;<i> brace? Does Monostyle correct this? Do people just put all their braces one
</I>&gt;<i> way or the other and ignore this (like me - my bad)? 
</I>&gt;<i> /Rant off
</I>&gt;<i> Thanks,
</I>&gt;<i> Dennis
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Miguel de Icaza [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">miguel at ximian.com</A>] 
</I>&gt;<i> Sent: Tuesday, November 11, 2003 1:03 PM
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at ximian.com</A>
</I>&gt;<i> 
</I>&gt;<i> 		* Inside a code block, put the opening brace on the same
</I>&gt;<i> line
</I>&gt;<i> 	  	  as the statement:
</I>&gt;<i> 
</I>&gt;<i> 			good:
</I>&gt;<i> 				if (a) {
</I>&gt;<i> 					code ();
</I>&gt;<i> 					code ();
</I>&gt;<i> 				}
</I>&gt;<i> 
</I>&gt;<i> 			bad:
</I>&gt;<i> 				if (a) 
</I>&gt;<i> 				{
</I>&gt;<i> 					code ();
</I>&gt;<i> 					code ();
</I>&gt;<i> 				}
</I>&gt;<i> 
</I>&gt;<i> 		* When defining a method, use the C style for brace
</I>&gt;<i> placement, 
</I>&gt;<i> 		  that means, use a new line for the brace, like this:
</I>&gt;<i> 
</I>&gt;<i> 			good:
</I>&gt;<i> 				void Method ()
</I>&gt;<i> 				{
</I>&gt;<i> 				}
</I>&gt;<i> 
</I>&gt;<i> 			bad:
</I>&gt;<i> 				void Method () {
</I>&gt;<i> 				}
</I>&gt;<i> 
</I>&gt;<i> 		* Properties and indexers are an exception, keep the
</I>&gt;<i> 		  brace on the same line as the property declaration.
</I>&gt;<i> 		  Rationale: this makes it visually
</I>&gt;<i> 		  simple to distinguish them.
</I>&gt;<i> 
</I>&gt;<i> 			good:
</I>&gt;<i> 				int Property {
</I>&gt;<i> 					get {
</I>&gt;<i> 						return value;
</I>&gt;<i> 					}
</I>&gt;<i> 				}
</I>&gt;<i> 
</I>&gt;<i> 			bad:
</I>&gt;<i> 				int Property 
</I>&gt;<i> 				{
</I>&gt;<i> 					get {
</I>&gt;<i> 						return value;
</I>&gt;<i> 					}
</I>&gt;<i> 				}
</I>&gt;<i> 
</I>&gt;<i> 		  Notice how the accessor &quot;get&quot; also keeps its brace on the
</I>&gt;<i> same
</I>&gt;<i> 		  line.
</I>&gt;<i> 
</I>&gt;<i> 		  For very small properties, you can compress things:
</I>&gt;<i> 
</I>&gt;<i> 			ok:
</I>&gt;<i> 				int Property {
</I>&gt;<i> 					get { return value; }
</I>&gt;<i> 					set { x = value; }
</I>&gt;<i> 				}
</I>&gt;<i> 
</I>&gt;<i> 		* Use white space in expressions liberally, except in the
</I>&gt;<i> presence
</I>&gt;<i> 		  of parenthesis:
</I>&gt;<i> 
</I>&gt;<i> 			good:
</I>&gt;<i> 
</I>&gt;<i> 				if (a + 5 &gt; method (blah () + 4))
</I>&gt;<i> 
</I>&gt;<i> 			bad:
</I>&gt;<i> 				if (a+5&gt;method(blah()+4))
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002919.html">[Mono-devel-list] REPOST: Mono class layout
</A></li>
	<LI>Next message: <A HREF="002935.html">[Mono-devel-list] REPOST: Mono class layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2924">[ date ]</a>
              <a href="thread.html#2924">[ thread ]</a>
              <a href="subject.html#2924">[ subject ]</a>
              <a href="author.html#2924">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
