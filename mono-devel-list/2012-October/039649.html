<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] minimal mono embedding profile - hpc twist
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20minimal%20mono%20embedding%20profile%20-%20hpc%20twist&In-Reply-To=%3CCALrB_V4diOt5Oi9WhBEAD4-yhubCQ70DcsPFvihFQFzoW%2B4pZg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039664.html">
   <LINK REL="Next"  HREF="039651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] minimal mono embedding profile - hpc twist</H1>
    <B>sebastian</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20minimal%20mono%20embedding%20profile%20-%20hpc%20twist&In-Reply-To=%3CCALrB_V4diOt5Oi9WhBEAD4-yhubCQ70DcsPFvihFQFzoW%2B4pZg%40mail.gmail.com%3E"
       TITLE="[Mono-dev] minimal mono embedding profile - hpc twist">sebastian at palladiumconsulting.com
       </A><BR>
    <I>Wed Oct  3 17:59:46 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="039664.html">[Mono-dev] To say hello and ask some questions about Mono...
</A></li>
        <LI>Next message: <A HREF="039651.html">[Mono-dev] minimal mono embedding profile - hpc twist
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39649">[ date ]</a>
              <a href="thread.html#39649">[ thread ]</a>
              <a href="subject.html#39649">[ subject ]</a>
              <a href="author.html#39649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We are investigating running mono to enable C# as a computing language in
an HPC framework. There are many strategies for getting maximum speed out
of a program, and one of them involves running a single process per CPU
core and pinning it there. (There are reasons this is good and bad -- I
don't want to debate that at the moment.)

In this case we would want the mono we loaded to be as &quot;small&quot; as possible
in some sense that is probably different than &quot;small&quot; means on a mobile
device. We are happy to consume tons of memory if necessary, but would want
as few threads as possible. If possible, only 1, with the garbage collector
&quot;stopping the world&quot; if necessary. Are there switches or diagnostics to
understand or control this behavior? (Obviously some common programming
paradigms, such as the task pool, are discouraged in this scenario, as we
wouldn't want a thread pool spun up.)

To get even more exotic, and I suppose this would require a patch to mono
itself, we would want the memory allocation to be customized to take
advantage of the NUMA on the machine, allocating memory only which is
advantageous to the socket on which our current process is running.

Finally, we may want to tweak the parameters sent to the LLVM compiler to
optimize for runtime speed, even at the cost of very slow compilation.

Where do we start in understanding the above changes and whether they are
already supported? The documentation for LLVM and the garbage collectors is
excellent at describing the high level approach, but I am at a bit of a
loss when understanding how to tweak the details.

Thanks,

Sebastian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20121003/ced14173/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20121003/ced14173/attachment.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039664.html">[Mono-dev] To say hello and ask some questions about Mono...
</A></li>
	<LI>Next message: <A HREF="039651.html">[Mono-dev] minimal mono embedding profile - hpc twist
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39649">[ date ]</a>
              <a href="thread.html#39649">[ thread ]</a>
              <a href="subject.html#39649">[ subject ]</a>
              <a href="author.html#39649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
