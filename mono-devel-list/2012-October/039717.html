<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] ASP.NET Web API on Mono 3.0 (Could not load type	'System.Web.Http.WebHost.HttpControllerHandler')
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20ASP.NET%20Web%20API%20on%20Mono%203.0%20%28Could%20not%20load%20type%0A%09%27System.Web.Http.WebHost.HttpControllerHandler%27%29&In-Reply-To=%3CCAB1r_%2BXwmf%2Bg92O4S9mDgt2Cd5oBD1zx2YtvLu%2B4B3RUaMas-g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039716.html">
   <LINK REL="Next"  HREF="039719.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] ASP.NET Web API on Mono 3.0 (Could not load type	'System.Web.Http.WebHost.HttpControllerHandler')</H1>
    <B>Daniel Lo Nigro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20ASP.NET%20Web%20API%20on%20Mono%203.0%20%28Could%20not%20load%20type%0A%09%27System.Web.Http.WebHost.HttpControllerHandler%27%29&In-Reply-To=%3CCAB1r_%2BXwmf%2Bg92O4S9mDgt2Cd5oBD1zx2YtvLu%2B4B3RUaMas-g%40mail.gmail.com%3E"
       TITLE="[Mono-dev] ASP.NET Web API on Mono 3.0 (Could not load type	'System.Web.Http.WebHost.HttpControllerHandler')">lists at dan.cx
       </A><BR>
    <I>Wed Oct 24 04:03:27 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="039716.html">[Mono-dev] ASP.NET Web API on Mono 3.0 (Could not load type	'System.Web.Http.WebHost.HttpControllerHandler')
</A></li>
        <LI>Next message: <A HREF="039719.html">[Mono-dev] ASP.NET Web API on Mono 3.0 (Could not load type	'System.Web.Http.WebHost.HttpControllerHandler')
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39717">[ date ]</a>
              <a href="thread.html#39717">[ thread ]</a>
              <a href="subject.html#39717">[ subject ]</a>
              <a href="author.html#39717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just rediscovered the MONO_LOG_LEVEL=&quot;debug&quot; environment variable. Here's
the log from my app: <A HREF="http://sprunge.us/eXOV.">http://sprunge.us/eXOV.</A> I think these might be
related, but of course I could be totally wrong:
Mono: The class System.Web.Http.Hosting.IHostBufferPolicySelector could not
be loaded, used in System.Web.Http, Version=4.0.0.0, Culture=neutral,
PublicKeyToken=31bf3856ad364e35
Mono: The class System.Net.Http.HttpMessageInvoker could not be loaded,
used in System.Net.Http, Version=2.0.0.0, Culture=neutral,
PublicKeyToken=b03f5f7f11d50a3a

Thoughts?


On Wed, Oct 24, 2012 at 2:23 PM, Daniel Lo Nigro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lists at dan.cx</A>&gt; wrote:

&gt;<i> I'm trying to get ASP.NET WebApi working on Mono 3.0, and am getting
</I>&gt;<i> the following error:
</I>&gt;<i>
</I>&gt;<i> System.TypeLoadException: Could not load type
</I>&gt;<i> 'System.Web.Http.WebHost.HttpControllerHandler' from assembly
</I>&gt;<i> 'System.Web.Http.WebHost, Version=4.0.0.0, Culture=neutral,
</I>&gt;<i> PublicKeyToken=31bf3856ad364e35'.
</I>&gt;<i>   at (wrapper managed-to-native) System.Type:type_is_assignable_from
</I>&gt;<i> (System.Type,System.Type)
</I>&gt;<i>   at System.Type.IsAssignableFrom (System.Type c) [0x00096] in
</I>&gt;<i> /usr/local/src/mono-3.0.0/mcs/class/corlib/System/Type.cs:902
</I>&gt;<i>   at System.Web.Mvc.AreaRegistration.IsAreaRegistrationType
</I>&gt;<i> (System.Type type) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at
</I>&gt;<i> System.Web.Mvc.TypeCacheUtil+&lt;&gt;c__DisplayClass1.&lt;FilterTypesInAssemblies&gt;b__0
</I>&gt;<i> (System.Type type) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at
</I>&gt;<i> System.Linq.Enumerable+&lt;CreateWhereIterator&gt;c__Iterator35`1[System.Type].MoveNext
</I>&gt;<i> () [0x00059] in
</I>&gt;<i>
</I>&gt;<i> /usr/local/src/mono-3.0.0/mcs/class/System.Core/System.Linq/Enumerable.cs:3030
</I>&gt;<i>   at System.Collections.Generic.List`1[System.Type].AddEnumerable
</I>&gt;<i> (IEnumerable`1 enumerable) [0x00013] in
</I>&gt;<i>
</I>&gt;<i> /usr/local/src/mono-3.0.0/mcs/class/corlib/System.Collections.Generic/List.cs:134
</I>&gt;<i>   at System.Collections.Generic.List`1[System.Type]..ctor
</I>&gt;<i> (IEnumerable`1 collection) [0x0002f] in
</I>&gt;<i>
</I>&gt;<i> /usr/local/src/mono-3.0.0/mcs/class/corlib/System.Collections.Generic/List.cs:69
</I>&gt;<i>   at System.Linq.Enumerable.ToList[Type] (IEnumerable`1 source)
</I>&gt;<i> [0x00006] in
</I>&gt;<i> /usr/local/src/mono-3.0.0/mcs/class/System.Core/System.Linq/Enumerable.cs:2867
</I>&gt;<i>   at System.Web.Mvc.TypeCacheUtil.GetFilteredTypesFromAssemblies
</I>&gt;<i> (System.String cacheName, System.Predicate`1 predicate, IBuildManager
</I>&gt;<i> buildManager) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at System.Web.Mvc.AreaRegistration.RegisterAllAreas
</I>&gt;<i> (System.Web.Routing.RouteCollection routes, IBuildManager
</I>&gt;<i> buildManager, System.Object state) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at System.Web.Mvc.AreaRegistration.RegisterAllAreas (System.Object
</I>&gt;<i> state) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at System.Web.Mvc.AreaRegistration.RegisterAllAreas () [0x00000] in
</I>&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;<i>   at Daniel15.WebApiTest.WebApiApplication.Application_Start ()
</I>&gt;<i> [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at (wrapper managed-to-native)
</I>&gt;<i> System.Reflection.MonoMethod:InternalInvoke
</I>&gt;<i> (System.Reflection.MonoMethod,object,object[],System.Exception&amp;)
</I>&gt;<i>   at System.Reflection.MonoMethod.Invoke (System.Object obj,
</I>&gt;<i> BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i> System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i> [0x000d5] in
</I>&gt;<i> /usr/local/src/mono-3.0.0/mcs/class/corlib/System.Reflection/MonoMethod.cs:229
</I>&gt;<i>
</I>&gt;<i> Followed by this error:
</I>&gt;<i> System.TypeLoadException:
</I>&gt;<i> A type load exception has occurred.
</I>&gt;<i> Description: HTTP 500.Error processing request.
</I>&gt;<i> Details: Non-web exception. Exception origin (name of application or
</I>&gt;<i> object): Daniel15.WebApiTest.
</I>&gt;<i>
</I>&gt;<i> Are there additional debug flags I can use to determine what's causing
</I>&gt;<i> this and why it's unable to load the type? I'm using Mono 3.0
</I>&gt;<i> (compiled from source) and xsp/fastcgi-mono-server4 (latest Git
</I>&gt;<i> version)
</I>&gt;<i>
</I>&gt;<i> Thanks in advance!
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20121024/27dc6cd6/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20121024/27dc6cd6/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039716.html">[Mono-dev] ASP.NET Web API on Mono 3.0 (Could not load type	'System.Web.Http.WebHost.HttpControllerHandler')
</A></li>
	<LI>Next message: <A HREF="039719.html">[Mono-dev] ASP.NET Web API on Mono 3.0 (Could not load type	'System.Web.Http.WebHost.HttpControllerHandler')
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39717">[ date ]</a>
              <a href="thread.html#39717">[ thread ]</a>
              <a href="subject.html#39717">[ subject ]</a>
              <a href="author.html#39717">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
