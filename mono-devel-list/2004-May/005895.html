<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [Patch] Manged code is fast!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPatch%5D%20Manged%20code%20is%20fast%21&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005893.html">
   <LINK REL="Next"  HREF="005896.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [Patch] Manged code is fast!</H1>
    <B>Ben Maurer</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5BPatch%5D%20Manged%20code%20is%20fast%21&In-Reply-To="
       TITLE="[Mono-devel-list] [Patch] Manged code is fast!">05mauben at hawken.edu
       </A><BR>
    <I>Fri May 21 12:02:32 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="005893.html">[Mono-devel-list] Class to Perform Diff/Patch ?
</A></li>
        <LI>Next message: <A HREF="005896.html">[Mono-devel-list] gtk-sharp patch for DllImport mappings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5895">[ date ]</a>
              <a href="thread.html#5895">[ thread ]</a>
              <a href="subject.html#5895">[ subject ]</a>
              <a href="author.html#5895">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, but doing the assembly ourselves would mean we can avoid the managed-&gt;unmanaged transition.

Totte tells me see can make it better. Let him deal with that part :-).

Also, we can specialize the memcpy impl. For example, for strings we know that we have char's we are copying, which in managed code means 16bits. We can use information like this to our advantage.

-- Ben

&gt;&gt;&gt;<i> Michal Moskal &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">malekith at pld-linux.org</A>&gt; 05/21/04 11:58 AM &gt;&gt;&gt;
</I>On Fri, May 21, 2004 at 09:08:33AM -0400, Ben Maurer wrote:
&gt;<i> 2) I wonder if it would be a good idea to manually write the
</I>&gt;<i> memcpy/memmove routine in assembly. This would seem to be the best way to
</I>&gt;<i> things like your `fixme' on copying with doubles. Also, we would be able
</I>&gt;<i> to do per-cpu tricks (totte wants SSE2 type stff). I will try something
</I>&gt;<i> like this later tonight.
</I>
You mean the C version? It's already written in assembly, at least on
glibc/x86. And I don't believe SSE-whatever can deliver better
performance of just plain memcpy.

-- 
:<i> Michal Moskal :: <A HREF="http://www.kernel.pl/~malekith">http://www.kernel.pl/~malekith</A> :: GCS !tv h e&gt;+++ b++
</I>:<i> When in doubt, use brute force. -- Ken Thompson :: UL++++$ C++ E--- a?
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005893.html">[Mono-devel-list] Class to Perform Diff/Patch ?
</A></li>
	<LI>Next message: <A HREF="005896.html">[Mono-devel-list] gtk-sharp patch for DllImport mappings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5895">[ date ]</a>
              <a href="thread.html#5895">[ thread ]</a>
              <a href="subject.html#5895">[ subject ]</a>
              <a href="author.html#5895">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
