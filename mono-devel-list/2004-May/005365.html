<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] locating dlls in the compiler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20locating%20dlls%20in%20the%20compiler&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005573.html">
   <LINK REL="Next"  HREF="005452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] locating dlls in the compiler</H1>
    <B>Michal Moskal</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20locating%20dlls%20in%20the%20compiler&In-Reply-To="
       TITLE="[Mono-devel-list] locating dlls in the compiler">malekith at pld-linux.org
       </A><BR>
    <I>Tue May  4 07:31:02 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="005573.html">[Mono-devel-list] [RFA, PATCH] Fix bug #57151
</A></li>
        <LI>Next message: <A HREF="005452.html">[Mono-devel-list] locating dlls in the compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5365">[ date ]</a>
              <a href="thread.html#5365">[ thread ]</a>
              <a href="subject.html#5365">[ subject ]</a>
              <a href="author.html#5365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>How do I find where /usr/lib/mono/1.0 is?

I mean mcs.exe looks for directory it is lunched for and assumes that
there are symlinks to framework assemblies. Now this is no option for me
in my compiler. Under Microsoft runtime I can simply check for CodeBase
of mscorlib or System.dll, that are already loaded. However under mono it
is /usr/lib and gac location (with pubtoken etc). Neither is good for me.

Now I have a few options:

  1) resolve references using LoadWithPartialName()
  2) put ncc.exe in /usr/lib/mono/1.0
  3) compile in somehow /usr/lib/mono/1.0
  4) require user to provide this path on each compilation

Now 1) will be just an option, since it can cause problems when multiple
libraries are installed. 2) doesn't seem any good. 3) will break binary
distribution and is ugly. 4) ... I don't even want to think about it.

Maybe CodeBase of System.dll could be used to return proper directory, 
it works somehow under MS.


-- 
:<i> Michal Moskal :: <A HREF="http://www.kernel.pl/~malekith">http://www.kernel.pl/~malekith</A> :: GCS !tv h e&gt;+++ b++
</I>:<i> When in doubt, use brute force. -- Ken Thompson :: UL++++$ C++ E--- a?
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005573.html">[Mono-devel-list] [RFA, PATCH] Fix bug #57151
</A></li>
	<LI>Next message: <A HREF="005452.html">[Mono-devel-list] locating dlls in the compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5365">[ date ]</a>
              <a href="thread.html#5365">[ thread ]</a>
              <a href="subject.html#5365">[ subject ]</a>
              <a href="author.html#5365">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
