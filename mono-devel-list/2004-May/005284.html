<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] GAC (design) issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20GAC%20%28design%29%20issues&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005280.html">
   <LINK REL="Next"  HREF="005285.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] GAC (design) issues</H1>
    <B>Gert Driesen</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20GAC%20%28design%29%20issues&In-Reply-To="
       TITLE="[Mono-devel-list] GAC (design) issues">gert.driesen at pandora.be
       </A><BR>
    <I>Mon May  3 02:08:58 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="005280.html">[Mono-devel-list] GAC (design) issues
</A></li>
        <LI>Next message: <A HREF="005285.html">[Mono-devel-list] GAC (design) issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5284">[ date ]</a>
              <a href="thread.html#5284">[ thread ]</a>
              <a href="subject.html#5284">[ subject ]</a>
              <a href="author.html#5284">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, so you've implemented a hack in mcs to locate assemblies in the GAC, but
what about all other (Mono) tools that allow assembly references to be
passed on the command line ?  Developers using any existing .NET tool that
allows assemblies to be specified on the command line will need to specify
these as file paths anyway.  The way mcs allows assembly references to be
specified is different from all other existing .NET tools.  I could approve
it if it was an improvement over these existing/proven .NET tools, but it
definitely isn't ...

I really don't see what's to gain by moving away from the MS GAC
implementation.  Moreover, I think its very dangerous to guess what assembly
a user want to reference.

Because that's what mcs is doing right now :

- it's guessing that you always want to reference version 1.0.5000.0
(depending on the MCS version !!) of a given assembly (both for system and
non-system assemblies)
- when there's no 1.0.5000.0 version of a given assembly, then its guessing
that you want to use the first version it comes across (with the same
versions installed on both Mono and Windows, it might still cause a
different version of the assembly to be picked on Mono vs. Windows)

The current mcs hack will not work when two versions of a given assembly are
located in the GAC, and you want to explicitly reference a given version
(with a specific culture and public key token).

I agree that mcs can be updated to allow the version number to be specified
too, but in the end, what's to gain by not using file paths ??

Are we really talking about gaining a few megabytes of space (as you don't
need to have assemblies in two locations) ? Is that really worth it ?  The
hack that was implemented in mcs would need to be implemented in all
existing .NET tools that take assembly references, or do you expect users to
specify the full GAC path ? (that would really improve usability) ... Do you
expect users to use file paths in all .NET tools, and only use assembly
names in one tool, named mcs ?

What I really don't understand is that you're saying that no one in the Mono
team has experience in using the MS GAC, but still you're confident enough
that you'll do a better job at implementing it than MS. I really wonder why
the Mono team chose to take a departure from MS compatibility at this point
in time.

I really get the impression that the GAC implementation was rushed in ...

Sorry if I'm rather negative about all this, but I'm just concerned ... I'm
pretty sure Novell has the resources to consult MS architects on this, to
make sure you're doing the right thing ...

Gert

----- Original Message ----- 
From: &quot;Ian MacLean&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ianm at activestate.com</A>&gt;
To: &quot;Todd Berman&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">tberman at sevenl.net</A>&gt;
Cc: &quot;Carl-Adam Brengesj&#246;&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">ca.brengesjo at telia.com</A>&gt;;
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Sent: Monday, May 03, 2004 4:59 AM
Subject: Re: [Mono-devel-list] GAC (design) issues


&gt;<i> Sure, but that only works because the system assemblies reside in the
</I>&gt;<i> same directory as csc.exe. csc is whats found on the path not the system
</I>&gt;<i> assemblies themselves.
</I>&gt;<i>
</I>&gt;<i> Ian
</I>&gt;<i> Todd Berman wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;On Mon, 2004-03-05 at 01:18 +0200, Carl-Adam Brengesj&#246; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;On Monday 03 May 2004 00.37, Todd Berman wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;On Sun, 2004-02-05 at 15:39 +0200, Jaroslaw Kowalski wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;No. In MS you don't have to specify a path in 2 cases:
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;1. For assemblies located in the same directory as csc.exe (that is
</I>for
&gt;<i> &gt;&gt;&gt;&gt;example \WINDOWS\Microsoft.NET\Framework\v1.1.4322)
</I>&gt;<i> &gt;&gt;&gt;&gt;2. For assemblies located in the current directory
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;My question was about how do you specify the 1.1 framework vs the 2.0
</I>&gt;<i> &gt;&gt;&gt;framework.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;PATH anybody? Windows _do_ have it :)
</I>&gt;<i> &gt;&gt;I belive the root folder of the framework is simply added to the PATH
</I>&gt;<i> &gt;&gt;variable.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Exactly, that was my original point in my original email.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;--Todd
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;_______________________________________________
</I>&gt;<i> &gt;Mono-devel-list mailing list
</I>&gt;<i> &gt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> &gt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Ian MacLean, Developer,
</I>&gt;<i> ActiveState, a division of Sophos
</I>&gt;<i> <A HREF="http://www.ActiveState.com">http://www.ActiveState.com</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005280.html">[Mono-devel-list] GAC (design) issues
</A></li>
	<LI>Next message: <A HREF="005285.html">[Mono-devel-list] GAC (design) issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5284">[ date ]</a>
              <a href="thread.html#5284">[ thread ]</a>
              <a href="subject.html#5284">[ subject ]</a>
              <a href="author.html#5284">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
