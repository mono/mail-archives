<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] [patch]New patch for error reporting when loading unmanaged libraries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5Bpatch%5DNew%20patch%20for%20error%20reporting%20when%20loading%20unmanaged%20libraries&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005914.html">
   <LINK REL="Next"  HREF="005821.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] [patch]New patch for error reporting when loading unmanaged libraries</H1>
    <B>Denis Gervalle</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20%5Bpatch%5DNew%20patch%20for%20error%20reporting%20when%20loading%20unmanaged%20libraries&In-Reply-To="
       TITLE="[Mono-devel-list] [patch]New patch for error reporting when loading unmanaged libraries">dgl at softec.st
       </A><BR>
    <I>Tue May 18 17:00:54 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="005914.html">[Mono-devel-list] Re: [Mono-list] beta 1 install problem on OSX
</A></li>
        <LI>Next message: <A HREF="005821.html">[Mono-devel-list] [patch]New patch for error reporting when loading unmanaged libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5820">[ date ]</a>
              <a href="thread.html#5820">[ thread ]</a>
              <a href="subject.html#5820">[ subject ]</a>
              <a href="author.html#5820">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here is a new patch proposal against mono 0.91 for reporting detailled 
informations when loading unmanaged libraries. This patch integrates all 
remarks received from my previous proposal (thx to Paolo Molaro and 
Josuah Tauberer):
    - Only reports details when MONO_DEBUG is set
    - Function signature is unchanged since exc_msg is only freeable 
when MONO_DEBUG is set, and this is only useful on prelink. This is not 
perfect, I know.
    - Message is currently composed using a GString with 
g_string_append(), but an approach with g_printf or similar is also 
possible (no more time to try that)
    - Message now include the name of the tried library before each 
error message
    - EntryPointNotFoundException also report details about what happens 
during library loading.

Sorry, but the diff also contains a few 'warning' fix I have in my own 
tree that is unrelated of course and that may have been fixed in cvs.

Hope that this one is a better try that will reach cvs :)

Denis Gervalle
SOFTEC sa
<A HREF="http://www.softec.st">http://www.softec.st</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: loadmodule2.unified.diff.patch
Type: text/x-patch
Size: 6107 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040518/afcd1d18/attachment.bin">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20040518/afcd1d18/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005914.html">[Mono-devel-list] Re: [Mono-list] beta 1 install problem on OSX
</A></li>
	<LI>Next message: <A HREF="005821.html">[Mono-devel-list] [patch]New patch for error reporting when loading unmanaged libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5820">[ date ]</a>
              <a href="thread.html#5820">[ thread ]</a>
              <a href="subject.html#5820">[ subject ]</a>
              <a href="author.html#5820">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
