<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Problems building Mono 2.10.8 on 64-bit SmartOS	(Solaris)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Problems%20building%20Mono%202.10.8%20on%2064-bit%20SmartOS%0A%09%28Solaris%29&In-Reply-To=%3CE48D75FA61B64BE8B5101CB340038C98%40ayanami.ltd.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039520.html">
   <LINK REL="Next"  HREF="039523.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Problems building Mono 2.10.8 on 64-bit SmartOS	(Solaris)</H1>
    <B>Scott Lowe</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Problems%20building%20Mono%202.10.8%20on%2064-bit%20SmartOS%0A%09%28Solaris%29&In-Reply-To=%3CE48D75FA61B64BE8B5101CB340038C98%40ayanami.ltd.uk%3E"
       TITLE="[Mono-dev] Problems building Mono 2.10.8 on 64-bit SmartOS	(Solaris)">scott at ayanami.ltd.uk
       </A><BR>
    <I>Wed Aug 15 08:39:59 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="039520.html">[Mono-dev] Problems building Mono 2.10.8 on 64-bit SmartOS (Solaris)
</A></li>
        <LI>Next message: <A HREF="039523.html">[Mono-dev] WCF NetTcpBinding doesn't seem to honor	MaxReceivedMessageSize
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39522">[ date ]</a>
              <a href="thread.html#39522">[ thread ]</a>
              <a href="subject.html#39522">[ subject ]</a>
              <a href="author.html#39522">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello chaps,

A short update on this issue:

Whist the a permanent fix has not been identified, Autif Khan has given me a great deal of off-list help and he has suggested a workaround that results in the completion of my Mono build.

This is the workaround:

Edit the mono/util/mono-math.h - delete lines 7, 8, 9 and 18

So that it will look like:


2 #ifndef __MONO_SIGNBIT_H__
3 #define __MONO_SIGNBIT_H__
4
5 #include &lt;math.h&gt;
6
10 #define mono_signbit(x) (sizeof (x) == sizeof (float) ?
mono_signbit_float (x) : mono_signbit_double (x))
11
12 int
13 mono_signbit_double (double x);
14
15 int
16 mono_signbit_float (float x);
17
20 #endif



I will see if I can get support for this signbit issue from the Joyent SmartOS or IllumOS community, since they obviously have a lot of experience in getting source code to compile on these systems. Hopefully this will lead to a suggested in Mono source.

I'm not a C programmer, so Autif's patient help was invaluable. Thanks Autif!

Scott
&gt;<i>  symbol                             in file
</I>&gt;<i> signbit                             ./.libs/libmono-static.a(libmono_static_la-mini-amd64.o)
</I>&gt;<i> ld: fatal: symbol referencing errors. No output written to mono
</I>&gt;<i> collect2: error: ld returned 1 exit status
</I>&gt;<i> make[4]: *** [mono] Error 1
</I>&gt;<i> make[4]: Leaving directory `/home/admin/mono-2.10.8/mono/mini'
</I>&gt;<i> make[3]: *** [all] Error 2
</I>&gt;<i> make[3]: Leaving directory `/home/admin/mono-2.10.8/mono/mini'
</I>&gt;<i> make[2]: *** [all-recursive] Error 1
</I>&gt;<i> make[2]: Leaving directory `/home/admin/mono-2.10.8/mono'
</I>&gt;<i> make[1]: *** [all-recursive] Error 1
</I>&gt;<i> make[1]: Leaving directory `/home/admin/mono-2.10.8'
</I>&gt;<i> make: *** [all] Error 2
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Does anybody recognise this failure?
</I>&gt;<i> 
</I>&gt;<i> I've also tried building Mono 2.11.3 (alpha), but the result is much much worse, and the build barely gets started before failing.
</I>&gt;<i> 
</I>&gt;<i> I've Googled extensively and there are no more clues left on the internet! I'd really appreciate some help from anybody that has successfully built recent releases of Mono on SmartOS, IllumOS or OpenSolaris. 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Kind regards,
</I>&gt;<i> 
</I>&gt;<i> Scott
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20120815/d9fb550e/attachment-0001.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20120815/d9fb550e/attachment-0001.html</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039520.html">[Mono-dev] Problems building Mono 2.10.8 on 64-bit SmartOS (Solaris)
</A></li>
	<LI>Next message: <A HREF="039523.html">[Mono-dev] WCF NetTcpBinding doesn't seem to honor	MaxReceivedMessageSize
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39522">[ date ]</a>
              <a href="thread.html#39522">[ thread ]</a>
              <a href="subject.html#39522">[ subject ]</a>
              <a href="author.html#39522">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
