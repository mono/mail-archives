<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Global dllmap entries?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Global%20dllmap%20entries%3F&In-Reply-To=1113070714.2211.35.camel%40lithium.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011516.html">
   <LINK REL="Next"  HREF="011536.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Global dllmap entries?</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Global%20dllmap%20entries%3F&In-Reply-To=1113070714.2211.35.camel%40lithium.site"
       TITLE="[Mono-devel-list] Global dllmap entries?">lupus at ximian.com
       </A><BR>
    <I>Mon Apr 11 09:09:51 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011516.html">[Mono-devel-list] Global dllmap entries?
</A></li>
        <LI>Next message: <A HREF="011536.html">[Mono-devel-list] Global dllmap entries?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11538">[ date ]</a>
              <a href="thread.html#11538">[ thread ]</a>
              <a href="subject.html#11538">[ subject ]</a>
              <a href="author.html#11538">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/09/05 Mike Kestner wrote:
&gt;<i> 2) On the specific case of Gtk#, I should point out that I've been
</I>&gt;<i> considering the possibility of switching to statically compiled dll
</I>&gt;<i> names for win32 and x11.  
</I>&gt;<i> 
</I>&gt;<i> The situation as it stands now is that we not only have platform
</I>&gt;<i> specific glue, but we also have a build hack in place to dasm/hack/asm
</I>&gt;<i> the assemblies on win32 for the cdecl calling convention thing.  The
</I>&gt;<i> dllmap .config hack is a throwback to the good old days when we thought
</I>&gt;<i> we could have &quot;build-once-run-everywhere&quot; deployment for Gtk#, but based
</I>&gt;<i> on current knowledge I don't believe such a goal is attainable.
</I>
I someday plan to extend the dllmaps to include the call convention
info, so it will be able to handle that, too.
Nothing prevents us from overriding the call convention used for
delegate unmanaged wrappers using an entry in the config file:
	&lt;configuration&gt;
		&lt;delegatemap name=&quot;Gtk.SomeDelegate&quot; callconv=&quot;cdecl&quot; /&gt;
	&lt;/configuration&gt;
So it would be easy to use the same assemblies on any OS.
Not that this solves your immediate problem (the need to change the build
ildasm/ilasm to apply the correct callconv on windows), but once
we use the new explicit attribute to set the callcaon we'll be able to
use this.
This is also something which doesn't necessarily apply to Gtk], since it
has already the need to build a platform-specific shared library anyway.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011516.html">[Mono-devel-list] Global dllmap entries?
</A></li>
	<LI>Next message: <A HREF="011536.html">[Mono-devel-list] Global dllmap entries?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11538">[ date ]</a>
              <a href="thread.html#11538">[ thread ]</a>
              <a href="subject.html#11538">[ subject ]</a>
              <a href="author.html#11538">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
