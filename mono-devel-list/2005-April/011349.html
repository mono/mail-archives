<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] monod: System.ServiceProcess on Linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20monod%3A%20System.ServiceProcess%20on%20Linux&In-Reply-To=23BE0C16E0C22F48B3FB5B0BD6B5307B4D46C9%40visdd003.DevDD.VI.LAN">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011330.html">
   <LINK REL="Next"  HREF="011331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] monod: System.ServiceProcess on Linux</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20monod%3A%20System.ServiceProcess%20on%20Linux&In-Reply-To=23BE0C16E0C22F48B3FB5B0BD6B5307B4D46C9%40visdd003.DevDD.VI.LAN"
       TITLE="[Mono-devel-list] monod: System.ServiceProcess on Linux">miguel at ximian.com
       </A><BR>
    <I>Sat Apr  2 14:43:05 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011330.html">[Mono-devel-list] System.ServiceProcess development
</A></li>
        <LI>Next message: <A HREF="011331.html">[Mono-devel-list] Monodoc and 1.1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11349">[ date ]</a>
              <a href="thread.html#11349">[ thread ]</a>
              <a href="subject.html#11349">[ subject ]</a>
              <a href="author.html#11349">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> I don't know if it's possible to do the fork in managed
</I>&gt;<i> code. The comment on fork in Mono.Unix doesn't look 
</I>&gt;<i> encouraging.
</I>
The only reason why fork() is a bad idea from Mono and from any other
relatively large framework is that after the fork the programmer has to
take responsibility for the file descriptors that might have been
allocated by the framework.

Not every framework documents what to do with their file descriptors,
nor do they provide ways of resetting the file descriptors to something
sane (GUI toolkits are the major infringer of this).

So a simplistic answer is: close all file descriptors above 2, and exec
as soon as you can without any interesting calls and you will be safe.  

This sadly takes a lot of power away.

Miguel.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011330.html">[Mono-devel-list] System.ServiceProcess development
</A></li>
	<LI>Next message: <A HREF="011331.html">[Mono-devel-list] Monodoc and 1.1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11349">[ date ]</a>
              <a href="thread.html#11349">[ thread ]</a>
              <a href="subject.html#11349">[ subject ]</a>
              <a href="author.html#11349">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
