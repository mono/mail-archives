<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Authenticode / signcode / chktrust  problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Authenticode%20/%20signcode%20/%20chktrust%20%20problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011684.html">
   <LINK REL="Next"  HREF="011673.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Authenticode / signcode / chktrust  problem</H1>
    <B>Daryn Nakhuda</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Authenticode%20/%20signcode%20/%20chktrust%20%20problem&In-Reply-To="
       TITLE="[Mono-devel-list] Authenticode / signcode / chktrust  problem">daryn at spamarrest.com
       </A><BR>
    <I>Wed Apr 20 23:00:36 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011684.html">[Mono-devel-list] Mono on a multipocessor
</A></li>
        <LI>Next message: <A HREF="011673.html">[Mono-devel-list] Authenticode / signcode / chktrust  problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11667">[ date ]</a>
              <a href="thread.html#11667">[ thread ]</a>
              <a href="subject.html#11667">[ subject ]</a>
              <a href="author.html#11667">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm having a problem signing some code  (the pvk &amp; spc are valid, and work 
fine for signing on windows using signcode.exe)

1. signcode -spc mycert.spc -v mykey.pvk -t 
<A HREF="http://timestamp.verisign.com/scripts/timstamp.dll">http://timestamp.verisign.com/scripts/timstamp.dll</A> Setup.exe
            Mono SignCode - version 1.1.5.0
            Sign assemblies and PE files using Authenticode(tm).
            Copyright 2002, 2003 Motus Technologies. Copyright 2004-2005 
Novell. BSD licensed.

2. chktrust -v /root/Setup.exe
            Mono CheckTrust - version 1.1.5.0
            Verify if an PE executable has a valid Authenticode(tm) 
signature
            Copyright 2002, 2003 Motus Technologies. Copyright 2004-2005 
Novell. BSD licensed.

            Verifying file Setup.exe for Authenticode(tm) signatures...

            WARNING! Setup.exe is not timestamped!
            ERROR! Setup.exe couldn't find the certificate that signed the 
file!


My guess is that perhaps this has something to do with CA's, and I've 
downloaded the CA Certs from thawte and verisign, but I'm not sure I've 
installed them correctly using certmgr, as I'm not sure the proper use of 
the various stores.

This is what I did (for every CA cert I could find):

certmgr -add -c -m CA ThawteServerCA.cer
            Mono Certificate Manager - version 1.1.5.0
            Manage X.509 certificates and CRL from stores.
            Copyright 2002, 2003 Motus Technologies. Copyright 2004-2005 
Novell. BSD licensed.


            1 certificate(s) added to store CA.



Also, on Widows, when I look at the properties &gt; digital signatures, the 
signature IS there, but it says it is &quot;not valid&quot;.


Can anyone provide some guidance?


Thanks,

Daryn Nakhuda
Spam Arrest LLC



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011684.html">[Mono-devel-list] Mono on a multipocessor
</A></li>
	<LI>Next message: <A HREF="011673.html">[Mono-devel-list] Authenticode / signcode / chktrust  problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11667">[ date ]</a>
              <a href="thread.html#11667">[ thread ]</a>
              <a href="subject.html#11667">[ subject ]</a>
              <a href="author.html#11667">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
