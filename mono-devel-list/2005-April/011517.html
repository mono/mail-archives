<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] mono-service changes and problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20mono-service%20changes%20and%20problems&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011651.html">
   <LINK REL="Next"  HREF="011518.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] mono-service changes and problems</H1>
    <B>J&#246;rg Rosenkranz</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20mono-service%20changes%20and%20problems&In-Reply-To="
       TITLE="[Mono-devel-list] mono-service changes and problems">joergr at voelcker.com
       </A><BR>
    <I>Sat Apr  9 18:47:40 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011651.html">[Mono-devel-list] Weird warnings using mcs svn on Windows
</A></li>
        <LI>Next message: <A HREF="011518.html">[Mono-devel-list] XSP Patches - Round 2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11517">[ date ]</a>
              <a href="thread.html#11517">[ thread ]</a>
              <a href="subject.html#11517">[ subject ]</a>
              <a href="author.html#11517">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

I've introduced some changes to mono-service and
System.ServiceProcess.ServiceBase. 

The ServiceBase.Run function now invokes the main loop of 
mono-service as callback. This handling matches the Windows 
behaviour better because Main ends after the service was 
stopped.

There are still some problems with the managed implementation
of mono-service which are caused by the fact that the service 
EXE is run in the context of mono-service.exe:

Assemblies in the service's directory are not been found.
I came around this problem by calling 
AppDomain.CurrentDomain.AppendPrivatePath (Environment.CurrentDirectory);
This seems to be a hack but works for my test case.
Another problem is that the application config file isn't 
used.

The best solution seems to be another AppDomain for running
the service. Is the cost of this acceptable or are there 
other ways to solve these problems?

Thanks,
Joerg.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011651.html">[Mono-devel-list] Weird warnings using mcs svn on Windows
</A></li>
	<LI>Next message: <A HREF="011518.html">[Mono-devel-list] XSP Patches - Round 2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11517">[ date ]</a>
              <a href="thread.html#11517">[ thread ]</a>
              <a href="subject.html#11517">[ subject ]</a>
              <a href="author.html#11517">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
