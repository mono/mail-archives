<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Re: CodeDom in Compiler.cs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20CodeDom%20in%20Compiler.cs&In-Reply-To=LNEAJLBKIAFKOPHEICIDKEHFEMAA.spouliot%40videotron.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011385.html">
   <LINK REL="Next"  HREF="011417.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Re: CodeDom in Compiler.cs</H1>
    <B>Andrew Skiba</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Re%3A%20CodeDom%20in%20Compiler.cs&In-Reply-To=LNEAJLBKIAFKOPHEICIDKEHFEMAA.spouliot%40videotron.ca"
       TITLE="[Mono-devel-list] Re: CodeDom in Compiler.cs">andrews at mainsoft.com
       </A><BR>
    <I>Tue Apr  5 12:10:35 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011385.html">[Mono-devel-list] Re: CodeDom in Compiler.cs
</A></li>
        <LI>Next message: <A HREF="011417.html">[Mono-devel-list] Re: CodeDom in Compiler.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11414">[ date ]</a>
              <a href="thread.html#11414">[ thread ]</a>
              <a href="subject.html#11414">[ subject ]</a>
              <a href="author.html#11414">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>S&#233;bastien Pouliot wrote:
 &gt; Hello Andrew,
 &gt;
 &gt; IIRC Convert.FromBase64String is (or was) using
 &gt; System.Security.Cryptography.FromBase64Transform.

Yes, it is. But it has a comment, saying &quot;the BASE64 convert methods are
using the Base64 converting methods from
System.Security.Cryptography.ToBase64Transform and
System.Security.Cryptography.FromBase64Transform. Should be changed to a
stand-alone class Base64Encoder &amp; Base64Decoder&quot;

The waste here is to perform additional pass to convert string containing
base64 characters into byte []. The whole convert can be done in a
single pass, in principle.

 &gt; However there was a few difference between them (non bas64 characters
 &gt; accepted/refused).
 &gt; I would _guess_ that using directly the transform was
 &gt; better (performance wise) as it didn't need to call 
Convert.FromBase64String
 &gt; (with it own extra logic) and the Normalize method on the string (which
 &gt; probably did the reverse of the extra stuff Convert.FromBase64String was
 &gt; doing).

It looks that Normalizer was unnecessary anyway. All it does is changes
between different kinds of whitespace, and whitespace is anyway ignored
in Convert.FromBase64String.

The whole problem is that functionality needed here is exactly covered
by Convert.FromBase64String function. But because this function was not
implemented well, David changed the code to use S.S.C. I think, we 
should fix FromBase64String, so every place that uses this function will 
benefit. grep finds 62 places like that, and 19 places with 
FromBase64CharArray.

 &gt; I'm curious what's the problem of including 
System.Security.Cryptography ?

No, there is no problem with that.

 &gt; As anyway Convert.FromBase64String won't work if S.S.C isn't available?

We have this function implemented in Java.

Andrew Skiba.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011385.html">[Mono-devel-list] Re: CodeDom in Compiler.cs
</A></li>
	<LI>Next message: <A HREF="011417.html">[Mono-devel-list] Re: CodeDom in Compiler.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11414">[ date ]</a>
              <a href="thread.html#11414">[ thread ]</a>
              <a href="subject.html#11414">[ subject ]</a>
              <a href="author.html#11414">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
