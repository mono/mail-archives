<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Tests for System.DirectoryServices
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Tests%20for%20System.DirectoryServices&In-Reply-To=42514243.1060009%40mainsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011375.html">
   <LINK REL="Next"  HREF="011416.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Tests for System.DirectoryServices</H1>
    <B>S&#233;bastien Pouliot</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Tests%20for%20System.DirectoryServices&In-Reply-To=42514243.1060009%40mainsoft.com"
       TITLE="[Mono-devel-list] Tests for System.DirectoryServices">spouliot at videotron.ca
       </A><BR>
    <I>Tue Apr  5 08:10:15 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011375.html">[Mono-devel-list] Tests for System.DirectoryServices
</A></li>
        <LI>Next message: <A HREF="011416.html">[Mono-devel-list] Tests for System.DirectoryServices
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11410">[ date ]</a>
              <a href="thread.html#11410">[ thread ]</a>
              <a href="subject.html#11410">[ subject ]</a>
              <a href="author.html#11410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Boris,

I don't have any problem with configuration files as long as:

1- the tests don't fail if the config is missing (they should be ignored);
2- that instructions are commited in SVN to instruct anyone how to build
such file;

However I don't like using the machine.config file for this as it is runtime
specific. I.e. it requires the config for all mono installations (e.g.
1.0.x, 1.1.x, SVN) and all MS Fx installed (1.0/1.1/2.0 betas). So on my two
computers that's a lot of similar changes.

Sebastien Pouliot
home: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">spouliot at videotron.ca</A>
blog: <A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>


&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>]On Behalf Of Boris
</I>&gt;<i> Kirzner
</I>&gt;<i> Sent: 4 avril 2005 09:34
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">spouliot at videotron.ca</A>
</I>&gt;<i> Cc: MONO
</I>&gt;<i> Subject: Re: [Mono-devel-list] Tests for System.DirectoryServices
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello all
</I>&gt;<i> Sorry for the previous mail, I succeeded to introduce my idea in
</I>&gt;<i> completely non-understandable way.
</I>&gt;<i>
</I>&gt;<i> The idea is to put the &quot;default&quot; server name into application settings
</I>&gt;<i> at _machine.config level_, enable overriding this on &quot;app.config_ level
</I>&gt;<i> for particular application.
</I>&gt;<i> The tests will override it and, additionally, put the &quot;usual&quot; serve name
</I>&gt;<i> into app.config.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Boris
</I>&gt;<i>
</I>&gt;<i> Boris Kirzner wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Hello Sebastian,
</I>&gt;<i> &gt; While working on the tests for System.DirectoryServices I found that
</I>&gt;<i> &gt; we need the tests to use more that single parameter for LDAP server.
</I>&gt;<i> &gt; As I can see this at this point, it should be at least two parameters
</I>&gt;<i> &gt; fro LDAP servers :
</I>&gt;<i> &gt; - First,  for &quot;usual&quot; server, the tests should interact with
</I>&gt;<i> &gt; - Second, the &quot;default&quot; server, for testing methods and properties
</I>&gt;<i> &gt; that assume system knowledge about existing LDAP server on the network
</I>&gt;<i> &gt; (RootDSN, default constructors, etc.)
</I>&gt;<i> &gt; and, probably, each of this servers should also hold port number( or,
</I>&gt;<i> &gt; alternatively, we can embed the port number into server root).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So my suggestion is to store server names inside application settings
</I>&gt;<i> &gt; and not into environment variables, so the tests will be more portable
</I>&gt;<i> &gt; and independent from testing environment.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What is our opinion on this issue?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thank you in advance,
</I>&gt;<i> &gt; Boris
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; S&#233;bastien Pouliot wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;Hello Boris,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Nice tests :-)
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;I would suggest a few things...
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;1. Network tests generally takes a long time to execute. Such
</I>&gt;<i> (or most) test
</I>&gt;<i> &gt;&gt;in other assemblies have been given a
</I>&gt;<i> &gt;&gt;[Category (&quot;InetAccess&quot;)]
</I>&gt;<i> &gt;&gt;either on the [Test]ed method or on the class (the [TestFixture]) if all
</I>&gt;<i> &gt;&gt;tests requires network access.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;2. Hardcoding the LDAP server seems a bad idea as it will
</I>&gt;<i> requires anyone
</I>&gt;<i> &gt;&gt;using the tests to make local modifications to many source files.
</I>&gt;<i> &gt;&gt;What about keeping the server name in an environment variable ? e.g.
</I>&gt;<i> &gt;&gt;MONO_LDAP_TEST_SERVER ?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;3. Another advantage of using an environment variable is that
</I>&gt;<i> it would be
</I>&gt;<i> &gt;&gt;possible to ignore all the tests (or some of them) if the environment
</I>&gt;<i> &gt;&gt;variable isn't present. I'm doing something similar for the CAS
</I>&gt;<i> tests - i.e.
</I>&gt;<i> &gt;&gt;if the security manager is not enabled then all CAS tests are ignore.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;This can be put the [SetUp] or [TestFixtureSetUp]
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;LDAPServer = Environment.GetVariable (&quot;MONO_LDAP_TEST_SERVER&quot;);
</I>&gt;<i> &gt;&gt;if (LDAPServer == null) {
</I>&gt;<i> &gt;&gt;	Assert.Ignore (&quot;No LDAP test server configured with
</I>&gt;<i> &gt;&gt;MONO_LDAP_TEST_SERVER&quot;);
</I>&gt;<i> &gt;&gt;	return;
</I>&gt;<i> &gt;&gt;}
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Thanks,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Sebastien Pouliot
</I>&gt;<i> &gt;&gt;home: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">spouliot at videotron.ca</A>
</I>&gt;<i> &gt;&gt;blog: <A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;-----Original Message-----
</I>&gt;<i> &gt;&gt;&gt;From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>
</I>&gt;<i> &gt;&gt;&gt;[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list-admin at lists.ximian.com</A>]On Behalf Of Boris
</I>&gt;<i> &gt;&gt;&gt;Kirzner
</I>&gt;<i> &gt;&gt;&gt;Sent: 17 mars 2005 04:20
</I>&gt;<i> &gt;&gt;&gt;To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-hackers-list at ximian.com</A>
</I>&gt;<i> &gt;&gt;&gt;Subject: [Mono-devel-list] [Mono-devel-list][Mono-hackers-list] Tests
</I>&gt;<i> &gt;&gt;&gt;for DirectoryServices
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;Hello all
</I>&gt;<i> &gt;&gt;&gt;Attached is the test for DirectoryServices.DirectoryEntry class.
</I>&gt;<i> &gt;&gt;&gt;I tried to make the test self-contained as possible, but it still
</I>&gt;<i> &gt;&gt;&gt;assumes OpenLDAP server is up and running.
</I>&gt;<i> &gt;&gt;&gt;Note - for the test to run you need to change the server name in the
</I>&gt;<i> &gt;&gt;&gt;test body.
</I>&gt;<i> &gt;&gt;&gt;Additionally attached is a slapd.conf of the OpenLDAP server.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;If no one objects, I'm going to commit.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;Thanks
</I>&gt;<i> &gt;&gt;&gt;Boris
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;--
</I>&gt;<i> &gt;&gt;&gt;Boris Kirzner
</I>&gt;<i> &gt;&gt;&gt;Mainsoft Corporation
</I>&gt;<i> &gt;&gt;&gt;<A HREF="http://www.mainsoft.com">http://www.mainsoft.com</A>
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;--
</I>&gt;<i> &gt;Boris Kirzner
</I>&gt;<i> &gt;Mainsoft Corporation
</I>&gt;<i> &gt;<A HREF="http://www.mainsoft.com">http://www.mainsoft.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Boris Kirzner
</I>&gt;<i> Mainsoft Corporation
</I>&gt;<i> <A HREF="http://www.mainsoft.com">http://www.mainsoft.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011375.html">[Mono-devel-list] Tests for System.DirectoryServices
</A></li>
	<LI>Next message: <A HREF="011416.html">[Mono-devel-list] Tests for System.DirectoryServices
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11410">[ date ]</a>
              <a href="thread.html#11410">[ thread ]</a>
              <a href="subject.html#11410">[ subject ]</a>
              <a href="author.html#11410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
