<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Unions in C#, and the Bug# 58798 in GDA
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Unions%20in%20C%23%2C%20and%20the%20Bug%23%2058798%20in%20GDA&In-Reply-To=1441606105041509093f2fdb65%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011621.html">
   <LINK REL="Next"  HREF="011622.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Unions in C#, and the Bug# 58798 in GDA</H1>
    <B>Mike Kestner</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Unions%20in%20C%23%2C%20and%20the%20Bug%23%2058798%20in%20GDA&In-Reply-To=1441606105041509093f2fdb65%40mail.gmail.com"
       TITLE="[Mono-devel-list] Unions in C#, and the Bug# 58798 in GDA">mkestner at novell.com
       </A><BR>
    <I>Fri Apr 15 13:24:36 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011621.html">[Mono-devel-list] Unions in C#, and the Bug# 58798 in GDA
</A></li>
        <LI>Next message: <A HREF="011622.html">[Mono-devel-list] Passing Lists To Unmanaged Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11623">[ date ]</a>
              <a href="thread.html#11623">[ thread ]</a>
              <a href="subject.html#11623">[ subject ]</a>
              <a href="author.html#11623">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2005-04-15 at 11:09 -0500, Daniel Espinosa wrote:

&gt;<i> You know, in C# doesn't exist unions, but you can use the FieldOffset
</I>&gt;<i> attribute at cero, to have a in memory representation of a union. The
</I>&gt;<i> actual definition of GdaValue and &quot;correct&quot; code representation in C#
</I>&gt;<i> can be found the report and comments of the bug# 58798.
</I>
You can only use FieldOffset if you are don't mind creating potentially
brittle and platform-dependent assemblies.  Besides, I tend to believe
there's a reason unions don't exist in C#.  They suck.

Gda.Value is just begging for a manual (more object-oriented)
implementation, similar to what is done with the Gdk.Event union in
gdk-sharp.dll.  

While I'm at it, I should mention that Gda# and GnomeDb# are effectively
unmaintained at this point.  They should probably be spun off into their
own module(s) where they can either be adopted by somebody or be allowed
to rest in peace. This spinoff is likely to happen before the next
stable release of Gtk#.

&gt;<i> The the parser (a perl script called gapi-parser and the sub scripts,
</I>&gt;<i> specialy the api2xml) need generate a correcto XML file representation
</I>&gt;<i> for a union, and need be modified the C# code for CodeGenerator to
</I>&gt;<i> work around.
</I>
Union parsing and generation is an extremely low-priority &quot;feature&quot; at
this point. As I've said above, it's pretty much impossible to do
correctly in C# and in most cases, exposing union-like API in a C#
binding is not the best solution from an object-oriented language
binding perspective.

-- 
Mike Kestner &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mkestner at novell.com</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011621.html">[Mono-devel-list] Unions in C#, and the Bug# 58798 in GDA
</A></li>
	<LI>Next message: <A HREF="011622.html">[Mono-devel-list] Passing Lists To Unmanaged Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11623">[ date ]</a>
              <a href="thread.html#11623">[ thread ]</a>
              <a href="subject.html#11623">[ subject ]</a>
              <a href="author.html#11623">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
