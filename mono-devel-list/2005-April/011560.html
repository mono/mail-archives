<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Patch: System.Diagnostics tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Patch%3A%20System.Diagnostics%20tests&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011582.html">
   <LINK REL="Next"  HREF="011561.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Patch: System.Diagnostics tests</H1>
    <B>Bill Middleton</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Patch%3A%20System.Diagnostics%20tests&In-Reply-To="
       TITLE="[Mono-devel-list] Patch: System.Diagnostics tests">flashdict at gmail.com
       </A><BR>
    <I>Tue Apr 12 11:53:00 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011582.html">[Mono-devel-list] Returntype of System.Data.DataTable.Select
</A></li>
        <LI>Next message: <A HREF="011561.html">[Mono-devel-list] mono_jit_cleanup / mono_jit_init
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11560">[ date ]</a>
              <a href="thread.html#11560">[ thread ]</a>
              <a href="subject.html#11560">[ subject ]</a>
              <a href="author.html#11560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>While working to get mono up and running on FreeBSD, I discovered that
there were no tests for System.Diagnostics which were being run. 
There are, however, a couple of tests in the group which use
System.Diagnostics, but they weren't as portable as they could have
been, and lacked information for the test driver, and didn't catch
exceptions properly.

I enclose a patch for these two, process1.cs and process2.cs.  They
should now run anywhere (OSX untested), including ordinary command
shell under windows, and I think they can be included in the default
group again.

More detailed description of the patch follows.


Bill


Index: process1.cs
===================================================================
- Catch System.ComponentModel.Win32Exception (not found) and return success

Index: process2.cs
===================================================================
- execute a process based on Platform check
- WaitForExit five seconds
- Kill if nec
- return process exit code

Index: Makefile.am
===================================================================
- Add process1.cs and process2.cs to the list
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: patch.test.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050412/0391f41a/attachment.txt">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20050412/0391f41a/attachment.txt</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011582.html">[Mono-devel-list] Returntype of System.Data.DataTable.Select
</A></li>
	<LI>Next message: <A HREF="011561.html">[Mono-devel-list] mono_jit_cleanup / mono_jit_init
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11560">[ date ]</a>
              <a href="thread.html#11560">[ thread ]</a>
              <a href="subject.html#11560">[ subject ]</a>
              <a href="author.html#11560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
