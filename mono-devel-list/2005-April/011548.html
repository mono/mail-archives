<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-devel-list] Global dllmap entries?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Global%20dllmap%20entries%3F&In-Reply-To=1113230851.8518.1.camel%40twelve-monkeys.boston.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011547.html">
   <LINK REL="Next"  HREF="011549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-devel-list] Global dllmap entries?</H1>
    <B>Paolo Molaro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-devel-list%5D%20Global%20dllmap%20entries%3F&In-Reply-To=1113230851.8518.1.camel%40twelve-monkeys.boston.ximian.com"
       TITLE="[Mono-devel-list] Global dllmap entries?">lupus at ximian.com
       </A><BR>
    <I>Mon Apr 11 12:57:33 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011547.html">[Mono-devel-list] Global dllmap entries?
</A></li>
        <LI>Next message: <A HREF="011549.html">[Mono-devel-list] Global dllmap entries?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11548">[ date ]</a>
              <a href="thread.html#11548">[ thread ]</a>
              <a href="subject.html#11548">[ subject ]</a>
              <a href="author.html#11548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/11/05 Dan Winship wrote:
&gt;<i> Can't we just say that if you pull in gtk-sharp.dll from the GAC, that
</I>&gt;<i> you automatically pull in gtk-sharp.dll.config from the GAC too? (And
</I>
Well, this issue is not related to the GAC in any way.
One possibility is to make the code look for the dllmaps in any
of the referenced assemblies automatically so there would be no
need even for the reference dllmap. But I don't like this, because
it is out of the control of the app and the user (in mostly the same way
as the global-dllmap proposed by miguel).

&gt;<i> can't we just store the .config file as a resource inside gtk-sharp.dll
</I>&gt;<i> rather than as a separate file? Or would that be at the wrong level of
</I>&gt;<i> abstraction for the vm to be able to find it?)
</I>
If you store the config in the assembly you might as well build a correct
assembly in the first place.
I designed the dllmap in that way because it allows users to change the
configuration (because it's a lost cause to have every developer understand
the issues of library names and different operating systems etc), so
hardcoding the config inside the assembly doesn't make much sense
(even if we can access it there).

My proposal addresses the stated need to reuse the mappings from
assemblies like gtk-sharp with the only cost of adding a simple
config file (which is arch-indep) to the asemblies that need it.
A global dllmap may seem a simpler solution, but introduces
changes in all the apps in ways that may not be predictable.
I'll also note that my solution can work even when the referenced
assembly is not loaded, which might be useful.

lupus

-- 
-----------------------------------------------------------------
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at debian.org</A>                                     debian/rules
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">lupus at ximian.com</A>                             Monkeys do it better

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011547.html">[Mono-devel-list] Global dllmap entries?
</A></li>
	<LI>Next message: <A HREF="011549.html">[Mono-devel-list] Global dllmap entries?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11548">[ date ]</a>
              <a href="thread.html#11548">[ thread ]</a>
              <a href="subject.html#11548">[ subject ]</a>
              <a href="author.html#11548">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
