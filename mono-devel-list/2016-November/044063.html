<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Print GC counters from a daemon
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20Print%20GC%20counters%20from%20a%20daemon&In-Reply-To=%3C7CB94995-58C2-4A45-8DF3-98FC71FE3075%40microsoft.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="044054.html">
   <LINK REL="Next"  HREF="044066.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Print GC counters from a daemon</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-devel-list%40lists.dot.net?Subject=Re%3A%20%5BMono-dev%5D%20Print%20GC%20counters%20from%20a%20daemon&In-Reply-To=%3C7CB94995-58C2-4A45-8DF3-98FC71FE3075%40microsoft.com%3E"
       TITLE="[Mono-dev] Print GC counters from a daemon">miguel at microsoft.com
       </A><BR>
    <I>Wed Nov 30 20:23:40 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="044054.html">[Mono-dev] Print GC counters from a daemon
</A></li>
        <LI>Next message (by thread): <A HREF="044066.html">[Mono-dev] Print GC counters from a daemon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44063">[ date ]</a>
              <a href="thread.html#44063">[ thread ]</a>
              <a href="subject.html#44063">[ subject ]</a>
              <a href="author.html#44063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Would love to write a small script that visualizes the GC pauses like this blog post shows for Go:

<A HREF="https://dave.cheney.net/2014/07/11/visualising-the-go-garbage-collector">https://dave.cheney.net/2014/07/11/visualising-the-go-garbage-collector</A>

From: Mono-devel-list &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.dot.net</A>&gt; on behalf of Vlad Brezae via Mono-devel-list &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">mono-devel-list at lists.dot.net</A>&gt;
Reply-To: Vlad Brezae &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">vlbrez at microsoft.com</A>&gt;
Date: Monday, November 28, 2016 at 6:33 PM
To: &quot;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">psantosl at codicesoftware.com</A>&quot; &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">psantosl at codicesoftware.com</A>&gt;, mono-devel-list &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Subject: Re: [Mono-dev] Print GC counters from a daemon

Hello Pablo,

        Normally, logging gc activity in real time is done by passing MONO_LOG_LEVEL=debug and MONO_LOG_MASK=gc. This will output time and memory information about each collection (minor + major). Another option, if you want to force your application to log the standard counters (obtained with --stats, that you mentioned) also on the run, and not only when the app stops, I guess you could pinvoke into the runtime (mono_counters_dump, __Internal as DllImport).

Vlad

From: Mono-devel-list &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">mono-devel-list-bounces at lists.dot.net</A>&gt; on behalf of &quot;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">psantosl at codicesoftware.com</A>&quot; &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">psantosl at codicesoftware.com</A>&gt;
Date: Monday, 28 November 2016 at 22:33
To: mono-devel-list &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>&gt;
Subject: [Mono-dev] Print GC counters from a daemon

Hi,

We need to regularly log some GC counters from a running application. We now enabling log on DEBUG will print it when the app stops, but we need to track it on a production server.

The following counters would help:

Minor GC time
Major GC time
Major GC time concurrent

Basically we would like to understand if we are forcing too much time in GC.

Any hints on how to print it, in case it is doable?

Thanks,

pablo


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-devel-list/attachments/20161130/0802b5bf/attachment.html">http://lists.dot.net/pipermail/mono-devel-list/attachments/20161130/0802b5bf/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="044054.html">[Mono-dev] Print GC counters from a daemon
</A></li>
	<LI>Next message (by thread): <A HREF="044066.html">[Mono-dev] Print GC counters from a daemon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44063">[ date ]</a>
              <a href="thread.html#44063">[ thread ]</a>
              <a href="subject.html#44063">[ subject ]</a>
              <a href="author.html#44063">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
