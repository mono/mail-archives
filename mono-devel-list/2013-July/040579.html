<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Status of HttpContext.AcceptWebSocketRequest ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Status%20of%20HttpContext.AcceptWebSocketRequest%20%3F&In-Reply-To=%3CCAB1r_%2BX6uOyfk8vrJiKcsoffGfTTUtBM%3D1NadJhhh5oz5D4JxA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040587.html">
   <LINK REL="Next"  HREF="040580.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Status of HttpContext.AcceptWebSocketRequest ?</H1>
    <B>Daniel Lo Nigro</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-dev%5D%20Status%20of%20HttpContext.AcceptWebSocketRequest%20%3F&In-Reply-To=%3CCAB1r_%2BX6uOyfk8vrJiKcsoffGfTTUtBM%3D1NadJhhh5oz5D4JxA%40mail.gmail.com%3E"
       TITLE="[Mono-dev] Status of HttpContext.AcceptWebSocketRequest ?">lists at dan.cx
       </A><BR>
    <I>Sat Jul  6 09:13:47 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="040587.html">[Mono-dev] SqlConnection Encrypt not implemented - prevents SQL Azure connection
</A></li>
        <LI>Next message: <A HREF="040580.html">[Mono-dev] Anonymous Pipe Stream Implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40579">[ date ]</a>
              <a href="thread.html#40579">[ thread ]</a>
              <a href="subject.html#40579">[ subject ]</a>
              <a href="author.html#40579">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>WebSockets use a totally different protocol, it doesn't use HTTP other than
for the initial handshake. It's easy for the Microsoft .NET Framework to
support it as they can just hook into IIS directly and extend it to support
WebSockets. It'd be a lot harder to do in Mono as support for WebSockets
needs to be supported by the web server itself You could probably do it in
&quot;pure&quot; Mono (eg. extend XSP to support websockets) but the WebSocket server
would have to be on a different port or different IP to the main web
server. All implementations I've seen have taken similar approaches -
Socket.io hooks into the server component of Node.js for example.

Worth noting that Nginx 1.4 supports proxying websockets (see eg.
<A HREF="http://siriux.net/2013/06/nginx-and-websockets/">http://siriux.net/2013/06/nginx-and-websockets/</A> and
<A HREF="https://chrislea.com/2013/02/23/proxying-websockets-with-nginx/">https://chrislea.com/2013/02/23/proxying-websockets-with-nginx/</A>) so your
Mono websocket server could be sitting on a different port and Nginx could
proxy to it.


On Tue, Jun 25, 2013 at 4:14 PM, SirNoSkill &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">quandary82 at hailmail.net</A>&gt; wrote:

&gt;<i> Question:
</I>&gt;<i>
</I>&gt;<i> I was playing around with MVC4 &amp; websockets on mono3.
</I>&gt;<i> I copied a simple echo example using websockets, and a chat
</I>&gt;<i> example using Microsoft.WebSockets, first had to make them work on
</I>&gt;<i> Windows
</I>&gt;<i> since they were written using some CTP versions of .NET 4.5.
</I>&gt;<i>
</I>&gt;<i> I was astonished most things were implemented.
</I>&gt;<i> However, apart from the runtime-bug HttpApplication-&gt;GetType not
</I>&gt;<i> implemented,
</I>&gt;<i> which seems to be easy enough to fix myself, there were 2 methods not
</I>&gt;<i> implemented.
</I>&gt;<i> HttpContext.AcceptWebSocketRequest
</I>&gt;<i> and
</I>&gt;<i> HttpContext.IsWebSocketRequest
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Now I'm sure IsWebSocketRequest is just a simple formality,
</I>&gt;<i> but regarding AcceptWebSocketRequest I am wondering.
</I>&gt;<i>
</I>&gt;<i> Because my understanding is that AcceptWebSocketRequest registers a
</I>&gt;<i> user-defined callback function in IIS8, and mono would need to register
</I>&gt;<i> this function for several backends, like xsp4, Nginx +
</I>&gt;<i> fastcgi-mono-server4,
</I>&gt;<i> Apache + mod_mono, IIS, etc.
</I>&gt;<i>
</I>&gt;<i> So here my question:
</I>&gt;<i> Has this just been left out because it is difficult/time-consuming,
</I>&gt;<i> or is it not implemented on purpose ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>   SirNoSkill
</I>&gt;<i>   <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">quandary82 at hailmail.net</A>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://www.fastmail.fm">http://www.fastmail.fm</A> - One of many happy users:
</I>&gt;<i>   <A HREF="http://www.fastmail.fm/help/overview_quotes.html">http://www.fastmail.fm/help/overview_quotes.html</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-devel-list/attachments/20130706/0341996c/attachment.html">http://lists.ximian.com/pipermail/mono-devel-list/attachments/20130706/0341996c/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040587.html">[Mono-dev] SqlConnection Encrypt not implemented - prevents SQL Azure connection
</A></li>
	<LI>Next message: <A HREF="040580.html">[Mono-dev] Anonymous Pipe Stream Implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40579">[ date ]</a>
              <a href="thread.html#40579">[ thread ]</a>
              <a href="subject.html#40579">[ subject ]</a>
              <a href="author.html#40579">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
