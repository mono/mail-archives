<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] Fwd: Problem with WCF and IEnumerable as return type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Fwd%3A%20Problem%20with%20WCF%20and%20IEnumerable%20as%20return%20type&In-Reply-To=AANLkTikKa2ZZN96ighFeyJ-7zpgDtcLis71kBnC4inaS%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036445.html">
   <LINK REL="Next"  HREF="036448.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] Fwd: Problem with WCF and IEnumerable as return type</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20Fwd%3A%20Problem%20with%20WCF%20and%20IEnumerable%20as%20return%20type&In-Reply-To=AANLkTikKa2ZZN96ighFeyJ-7zpgDtcLis71kBnC4inaS%40mail.gmail.com"
       TITLE="[Mono-dev] Fwd: Problem with WCF and IEnumerable as return type">atsushieno at veritas-vos-liberabit.com
       </A><BR>
    <I>Tue Dec  7 06:26:49 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="036445.html">[Mono-dev] Fwd: Problem with WCF and IEnumerable as return type
</A></li>
        <LI>Next message: <A HREF="036448.html">[Mono-dev] Unable to build 2.8.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36451">[ date ]</a>
              <a href="thread.html#36451">[ thread ]</a>
              <a href="subject.html#36451">[ subject ]</a>
              <a href="author.html#36451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please file a bug (C# is much better).

Atsushi Eno

(2010/12/07 16:14), Chakotey STME wrote:
&gt;<i> This problem still exists.
</I>&gt;<i>
</I>&gt;<i> Does anyone have an idea?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ---------- Forwarded message ----------
</I>&gt;<i> From: Chakotey STME&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">chakoteystme at gmail.com</A>&gt;
</I>&gt;<i> Date: 2010/11/30
</I>&gt;<i> Subject: Problem with WCF and IEnumerable as return type
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">mono-devel-list at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I have a problem with WCF.
</I>&gt;<i>
</I>&gt;<i> If I have this service contract:
</I>&gt;<i>
</I>&gt;<i> &lt;ServiceContract()&gt;  _
</I>&gt;<i> Public Interface IHelloService
</I>&gt;<i>     &lt;OperationContract()&gt;  _
</I>&gt;<i>     Function Greet(ByVal name As String) As IEnumerable(Of Objekt)
</I>&gt;<i> End Interface
</I>&gt;<i>
</I>&gt;<i> This Service:
</I>&gt;<i> Imports System.ServiceModel
</I>&gt;<i>
</I>&gt;<i> Module Module1
</I>&gt;<i>     Sub Main()
</I>&gt;<i>         Dim host As ServiceHost = New ServiceHost(GetType(HelloService))
</I>&gt;<i>         host.Open()
</I>&gt;<i>     End Sub
</I>&gt;<i> End Module
</I>&gt;<i>
</I>&gt;<i> The implementaion of HelloService of the Service:
</I>&gt;<i> Imports Contracts
</I>&gt;<i>
</I>&gt;<i> Public Class HelloService
</I>&gt;<i>     Implements IHelloService
</I>&gt;<i>     Public Function Greet(ByVal name As String) As IEnumerable(Of
</I>&gt;<i> Objekt) Implements IHelloService.Greet
</I>&gt;<i>         Dim myObjekt As Objekt = New Objekt
</I>&gt;<i>         Dim myObjekt2 As Objekt = New Objekt
</I>&gt;<i>
</I>&gt;<i>         myObjekt.text = &quot;Hallo&quot;
</I>&gt;<i>         myObjekt.number = 3 + name.Length
</I>&gt;<i>
</I>&gt;<i>        Dim list As IList(Of Objekt) = New List(Of Objekt)
</I>&gt;<i>
</I>&gt;<i>         list.Add(myObjekt)
</I>&gt;<i>         list.Add(myObjekt2)
</I>&gt;<i>
</I>&gt;<i>         Return list
</I>&gt;<i>
</I>&gt;<i>     End Function
</I>&gt;<i>
</I>&gt;<i> End Class
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> And this client:
</I>&gt;<i> Imports System.ServiceModel
</I>&gt;<i> Imports Contracts
</I>&gt;<i>
</I>&gt;<i> Module Module1
</I>&gt;<i>
</I>&gt;<i>     Sub Main()
</I>&gt;<i>         Dim binding = New BasicHttpBinding()
</I>&gt;<i>         Dim address = New EndpointAddress(&quot;<A HREF="http://192.168.100.110:8080&quot;">http://192.168.100.110:8080&quot;</A>)
</I>&gt;<i>         Dim client = New HelloClient(binding, address)
</I>&gt;<i>         Dim myObjekt = client.Greet(&quot;name&quot;)
</I>&gt;<i>
</I>&gt;<i>         Console.ReadLine()
</I>&gt;<i>     End Sub
</I>&gt;<i> End Module
</I>&gt;<i>
</I>&gt;<i> The implementation of HelloService from the client:
</I>&gt;<i>
</I>&gt;<i> Imports System.ServiceModel
</I>&gt;<i> Imports System.ServiceModel.Channels
</I>&gt;<i> Imports System.Runtime.Serialization
</I>&gt;<i> Imports Contracts
</I>&gt;<i>
</I>&gt;<i> Public Class HelloClient
</I>&gt;<i>     Inherits ClientBase(Of IHelloService)
</I>&gt;<i>     Implements IHelloService
</I>&gt;<i>     Public Sub New(ByVal binding As Binding, ByVal address As EndpointAddress)
</I>&gt;<i>         MyBase.New(binding, address)
</I>&gt;<i>     End Sub
</I>&gt;<i>
</I>&gt;<i>     Public Function Greet(ByVal name As String) As IEnumerable(Of
</I>&gt;<i> Objekt) Implements IHelloService.Greet
</I>&gt;<i>         Return Channel.Greet(name)
</I>&gt;<i>     End Function
</I>&gt;<i> End Class
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I execute the service and execute the client.
</I>&gt;<i> I get this Exception:
</I>&gt;<i> Exception Non-empty prefix must be mapped to non-empty namespace URI.
</I>&gt;<i>   at System.Xml.XmlTextWriter.WriteEndAttribute () [0x00000] in
</I>&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;<i>   at System.Xml.XmlSimpleDictionaryWriter.WriteEndAttribute ()
</I>&gt;<i> [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.Xml.XmlWriter.WriteAttributeString (System.String prefix,
</I>&gt;<i> System.String localName, System.String ns, System.String value)
</I>&gt;<i> [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.Xml.XmlDictionaryWriter.WriteXmlnsAttribute (System.String
</I>&gt;<i> prefix, System.String namespaceUri) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.Runtime.Serialization.DataContractSerializer.WriteStartObject
</I>&gt;<i> (System.Xml.XmlDictionaryWriter writer, System.Object graph) [0x00000]
</I>&gt;<i> in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.Runtime.Serialization.XmlObjectSerializer.WriteObject
</I>&gt;<i> (System.Xml.XmlDictionaryWriter writer, System.Object graph) [0x00000]
</I>&gt;<i> in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Dispatcher.DataContractMessagesFormatter+DataContractBodyWriter.WriteMessagePart
</I>&gt;<i> (System.Xml.XmlDictionaryWriter writer,
</I>&gt;<i> System.ServiceModel.Description.MessageBodyDescription desc,
</I>&gt;<i> System.ServiceModel.Description.MessagePartDescription partDesc,
</I>&gt;<i> System.Object obj) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Dispatcher.DataContractMessagesFormatter+DataContractBodyWriter.OnWriteBodyContents
</I>&gt;<i> (System.Xml.XmlDictionaryWriter writer) [0x00000] in&lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Channels.BodyWriter.WriteBodyContents
</I>&gt;<i> (System.Xml.XmlDictionaryWriter writer) [0x00000] in&lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Channels.SimpleMessage.OnWriteBodyContents
</I>&gt;<i> (System.Xml.XmlDictionaryWriter writer) [0x00000] in&lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Channels.Message.WriteBodyContents
</I>&gt;<i> (System.Xml.XmlDictionaryWriter writer) [0x00000] in&lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Channels.Message.WriteBody
</I>&gt;<i> (System.Xml.XmlDictionaryWriter writer) [0x00000] in&lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Channels.Message.OnWriteMessage
</I>&gt;<i> (System.Xml.XmlDictionaryWriter writer) [0x00000] in&lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Channels.Message.WriteMessage
</I>&gt;<i> (System.Xml.XmlDictionaryWriter writer) [0x00000] in&lt;filename
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Channels.TextMessageEncoder.WriteMessage
</I>&gt;<i> (System.ServiceModel.Channels.Message message, System.IO.Stream
</I>&gt;<i> stream) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Channels.HttpRequestContext.ProcessReply
</I>&gt;<i> (System.ServiceModel.Channels.Message msg, TimeSpan timeout) [0x00000]
</I>&gt;<i> in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Channels.HttpRequestContextBase.Reply
</I>&gt;<i> (System.ServiceModel.Channels.Message msg, TimeSpan timeout) [0x00000]
</I>&gt;<i> in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Dispatcher.MessageProcessingContext.Reply
</I>&gt;<i> (Boolean useTimeout) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Dispatcher.OperationInvokerHandler.Reply
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessingContext mrc, Boolean
</I>&gt;<i> useTimeout) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Dispatcher.OperationInvokerHandler.ProcessRequest
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessingContext mrc)
</I>&gt;<i> [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Dispatcher.BaseRequestProcessorHandler.ProcessRequestChain
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessingContext mrc)
</I>&gt;<i> [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Dispatcher.BaseRequestProcessorHandler.ProcessRequestChain
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessingContext mrc)
</I>&gt;<i> [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Dispatcher.BaseRequestProcessorHandler.ProcessRequestChain
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessingContext mrc)
</I>&gt;<i> [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Dispatcher.HandlersChain.ProcessRequestChain
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessingContext mrc)
</I>&gt;<i> [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>   at System.ServiceModel.Dispatcher.BaseRequestProcessor.ProcessRequest
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessingContext mrc)
</I>&gt;<i> [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If I change the return type in the contracts, the client and the
</I>&gt;<i> service, from IEnumerable(of objekt) to IList(Of objekt) it works!
</I>&gt;<i>
</I>&gt;<i> Why can't I use IEnumerable as return type?
</I>&gt;<i>
</I>&gt;<i> thanks
</I>&gt;<i>
</I>&gt;<i> chakoteystme
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036445.html">[Mono-dev] Fwd: Problem with WCF and IEnumerable as return type
</A></li>
	<LI>Next message: <A HREF="036448.html">[Mono-dev] Unable to build 2.8.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36451">[ date ]</a>
              <a href="thread.html#36451">[ thread ]</a>
              <a href="subject.html#36451">[ subject ]</a>
              <a href="author.html#36451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
