<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] WCF: netTcpBinding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20WCF%3A%20netTcpBinding&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036590.html">
   <LINK REL="Next"  HREF="036578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] WCF: netTcpBinding</H1>
    <B>Karsten Fourmont</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20WCF%3A%20netTcpBinding&In-Reply-To="
       TITLE="[Mono-dev] WCF: netTcpBinding">fourmont at gmx.de
       </A><BR>
    <I>Tue Dec 21 15:44:37 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="036590.html">[Mono-dev] [PATCH] more support for Google Native Client
</A></li>
        <LI>Next message: <A HREF="036578.html">[Mono-dev] WCF: netTcpBinding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36571">[ date ]</a>
              <a href="thread.html#36571">[ thread ]</a>
              <a href="subject.html#36571">[ subject ]</a>
              <a href="author.html#36571">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

thanks to the quick fix for the Datetime serialisation issue (thank you 
Atsushi!), I'm getting closer to moving my WCF heavy project over to 
Mono. (Well the server side actually, client's WPF...)

But now I think I hit the biggest barrier: security &amp; netTcpBinding.

Here are my requirements for the WCF communication:

1. I need a duplex service
2. A NATed/firewalled client must be able to initiate the connection.
3. secure session with username/password authentication.
4. Low overhead (performance &amp; message size) for big chunks of binary data

So imho netTcpBinding (or even customBinding) is the way to go. In .NET 
  s.th. like this works fine (server side config):

&lt;netTcpBinding&gt;
   &lt;binding name=&quot;serverTcp&quot;&gt;
     &lt;security mode =&quot;TransportWithMessageCredential&quot;&gt;
       &lt;message clientCredentialType=&quot;UserName&quot;/&gt;
       &lt;transport clientCredentialType=&quot;None&quot;/&gt;
     &lt;/security&gt;
  &lt;/binding&gt;
&lt;/netTcpBinding&gt;
...
&lt;behavior name=&quot;serverBehaviour&quot;&gt;
  &lt;serviceCredentials&gt;
    &lt;serviceCertificate findValue=&quot;myCert&quot;
	storeLocation=&quot;LocalMachine&quot;
         storeName=&quot;My&quot;
	x509FindType=&quot;FindBySubjectName&quot; /&gt;
         &lt;userNameAuthentication
	 userNamePasswordValidationMode=&quot;Custom&quot;
          customUserNamePasswordValidatorType=&quot;My.Validator, MyDll&quot; /&gt;
     &lt;/serviceCredentials&gt;
&lt;/behavior&gt;

The Security Mode is TransportWithMessageCredential as Transport 
encryption via ssl has a lower performance overhead (afaik) but for some 
&quot;MS only knows&quot; reason it doesn't offer Username credentials. So Message 
security is used for auth with a custom validator class.

I didn't manage to get this config running on Mono: for starters I don't 
know how to let the server know about the certificate's private key 
which it needs for the ssl connection. I can provide the certificate by 
using Mono's certmgr, but this is only the public key part, suitable for 
the client.

If I run it anyway I hit a &quot;NotImplementedException&quot;

So I fear even with the private key worked out, getting this kind of 
advanced configuration (or s.th. similar) up and running is not 
something that can be done with Mono right now. Or can it? Is there 
something I can do to help?

Any input and getting Mono WCF up to a configuration that meets the 4 
requirments above as good as possible is highly welcome.

Other options might be to go over Http Bindings and maybe do duplex by 
some clever polling. There's a interesting looking thing at
<A HREF="http://code.msdn.microsoft.com/duplexhttp">http://code.msdn.microsoft.com/duplexhttp</A>

Cheers,
  Karsten

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036590.html">[Mono-dev] [PATCH] more support for Google Native Client
</A></li>
	<LI>Next message: <A HREF="036578.html">[Mono-dev] WCF: netTcpBinding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36571">[ date ]</a>
              <a href="thread.html#36571">[ thread ]</a>
              <a href="subject.html#36571">[ subject ]</a>
              <a href="author.html#36571">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
