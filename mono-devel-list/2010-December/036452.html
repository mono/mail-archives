<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-dev] (Delegate) Trampoline executed twice?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%28Delegate%29%20Trampoline%20executed%20twice%3F&In-Reply-To=idl082%24oh4%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036447.html">
   <LINK REL="Next"  HREF="036460.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-dev] (Delegate) Trampoline executed twice?</H1>
    <B>Martin D&#228;umler</B> 
    <A HREF="mailto:mono-devel-list%40lists.ximian.com?Subject=%5BMono-dev%5D%20%28Delegate%29%20Trampoline%20executed%20twice%3F&In-Reply-To=idl082%24oh4%241%40dough.gmane.org"
       TITLE="[Mono-dev] (Delegate) Trampoline executed twice?">mdae at cs.tu-chemnitz.de
       </A><BR>
    <I>Tue Dec  7 07:13:59 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="036447.html">[Mono-dev] (Delegate) Trampoline executed twice?
</A></li>
        <LI>Next message: <A HREF="036460.html">[Mono-dev] (Delegate) Trampoline executed twice?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36452">[ date ]</a>
              <a href="thread.html#36452">[ thread ]</a>
              <a href="subject.html#36452">[ subject ]</a>
              <a href="author.html#36452">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07.12.10 10:54, Robert Jordan wrote:
&gt;<i> On 07.12.2010 08:52, Martin D&#228;umler wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I expected a delegate trampoline to be executed only once
</I>&gt;&gt;<i> like &quot;common&quot; JIT trampolines for a single call instruction.
</I>&gt;&gt;<i> However, it might be executed twice.
</I>&gt;<i>
</I>&gt;<i> It could be related to the fact that the code behind
</I>&gt;<i> Thread.Start () is eventually calling delegate's Invoke
</I>&gt;<i> method via mono_runtime_invoke ().
</I>
Hello,

thank you for the answer. As you say, the delegate trampoline is
called a second time through mono_runtime_invoke(). So I want to
know if there might be other trampoline types that might be
called a second time.

A simple JIT trampoline patches the callsite so it is not possible
that this JIT trampoline is called from that memory address. But
obviously, this does not hold for delegate trampolines.

So, I want to know, if there are other trampoline types that might
be called a second time in that way?


With kind regards,
Martin D&#228;umler
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036447.html">[Mono-dev] (Delegate) Trampoline executed twice?
</A></li>
	<LI>Next message: <A HREF="036460.html">[Mono-dev] (Delegate) Trampoline executed twice?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36452">[ date ]</a>
              <a href="thread.html#36452">[ thread ]</a>
              <a href="subject.html#36452">[ subject ]</a>
              <a href="author.html#36452">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">More information about the Mono-devel-list
mailing list</a><br>
</body></html>
