<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] [PATCH] DrawImage alpha blend broken in libgdiplus
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20%5BPATCH%5D%20DrawImage%20alpha%20blend%20broken%20in%0A%20libgdiplus&In-Reply-To=1242139462.30588.20.camel%40mizar.home">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004024.html">
   <LINK REL="Next"  HREF="004033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] [PATCH] DrawImage alpha blend broken in libgdiplus</H1>
    <B>Alex Shulgin</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20%5BPATCH%5D%20DrawImage%20alpha%20blend%20broken%20in%0A%20libgdiplus&In-Reply-To=1242139462.30588.20.camel%40mizar.home"
       TITLE="[Mono-winforms-list] [PATCH] DrawImage alpha blend broken in libgdiplus">alexander.shulgin at yessoftware.com
       </A><BR>
    <I>Tue May 12 12:10:20 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004024.html">[Mono-winforms-list] [PATCH] DrawImage alpha blend broken	in	libgdiplus
</A></li>
        <LI>Next message: <A HREF="004033.html">[Mono-winforms-list] [PATCH] DrawImage alpha blend broken in libgdiplus
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4025">[ date ]</a>
              <a href="thread.html#4025">[ thread ]</a>
              <a href="subject.html#4025">[ subject ]</a>
              <a href="author.html#4025">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sebastien Pouliot wrote:
&gt;<i> 
</I>&gt;<i> Thanks for your patch but *please*, like I said in my earlier email,
</I>&gt;<i> attach all patches to the bug reports. I don't mind them being sent to
</I>&gt;<i> any list, but not having them on the bug report means I won't see (or
</I>&gt;<i> remember them) next time I have time to look at libgdiplus bugs. And
</I>&gt;<i> like you've seen this is not the kind of patch to create &quot;quite a
</I>&gt;<i> discussion&quot;.
</I>
Thanks for your response!

I've attached the patches to the bug report.

&gt;<i> Two things about it:
</I>&gt;<i> 
</I>&gt;<i> 1) caution: &#65279;Historically such changes requires a lot of testing outside
</I>&gt;<i> libgdiplus. Many times it caused regressions that were found after one
</I>&gt;<i> (or more) release(s).
</I>&gt;<i> 
</I>&gt;<i> 2) regression: even if unit tests are not enough it still better than
</I>&gt;<i> nothing. However when, like this patch, it breaks some* of them then
</I>&gt;<i> it's likely to break existing apps too (which often supplied, even if
</I>&gt;<i> indirectly, those test cases).
</I>
I understand both points and I'm not surprised by your response.

However, I believe I did my best not to break things more than 
absolutely necessary and hoped that with your help (and the community) 
we would find the most appropriate solution.

Again, I'd be very glad to see there's a way to fix things without 
making such fundamental change.  But this needs discussion as I don't 
think I could do this alone.  The community and original libgdiplus 
developers are in much more fortunate position than I (by myself) to 
figure out how to do this.

&gt;<i> Sebastien
</I>&gt;<i> 
</I>&gt;<i> * it may looks strange but the number of bug reports abouts icons, and
</I>&gt;<i> their specific behavior, is much greater than the one about transparency
</I>
In this specific case I won't expect numerous applications to break and 
here's why: if most (all?) of the application were happy enough with 
inconsistent PixelFormat property and actual pixel data of the bitmaps, 
then they must have used only certain pixel manipulation algorithms 
which don't rely on strict ARGB format (no premultiplication).

This also means, that they didn't check the PixelFormat 
property--otherwise the inconsistency should have came up earlier.  So 
if we now fix the inconsistency these apps aren't going to notice this.

Of course, it's only speculation on my side--reality might prove 
otherwise. ;)

--
Cheers,
Alex
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004024.html">[Mono-winforms-list] [PATCH] DrawImage alpha blend broken	in	libgdiplus
</A></li>
	<LI>Next message: <A HREF="004033.html">[Mono-winforms-list] [PATCH] DrawImage alpha blend broken in libgdiplus
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4025">[ date ]</a>
              <a href="thread.html#4025">[ thread ]</a>
              <a href="subject.html#4025">[ subject ]</a>
              <a href="author.html#4025">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
