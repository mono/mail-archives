<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Monostub for Wine SWF
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:m.hearn%40signal.qinetiq.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000105.html">
   <LINK REL="Next"  HREF="000107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Monostub for Wine SWF
   </H1>
    <B>Mike Hearn
    </B> 
    <A HREF="mailto:m.hearn%40signal.qinetiq.com"
       TITLE="[Mono-winforms-list] Monostub for Wine SWF">m.hearn@signal.qinetiq.com
       </A><BR>
    <I>12 Mar 2003 09:22:36 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="000105.html">[Mono-winforms-list] Monostub for Wine SWF
</A></li>
        <LI> Next message: <A HREF="000107.html">[Mono-winforms-list] Monostub for Wine SWF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110">[ date ]</a>
              <a href="thread.html#110">[ thread ]</a>
              <a href="subject.html#110">[ subject ]</a>
              <a href="author.html#110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Apparently monostub is the best way to go for now. According to
Alexandre, there is no way you can initialise winelib after the program
has started, it has to be done by launching wine foo.exe.so:

&quot;No, that's not supported at the moment, and it's a bit tricky to
implement. It may happen someday but it's not really a priority right
now.&quot;

So, it looks like monostub is the way to go from here.

On pthreads, basically the issue is that Wine has to do some extra
legwork for some of the pthread functions, so it has its own internal
implementation. I think that means you need to have the libs that use
pthreads use the wine implementation instead, ie don't -lpthreads. The
wine implementation might need a bit of work, but it shouldn't be too
hard.

That does of course mean that libmono and libgc either have to have 2
versions, or need to load pthreads using dlopen() and then get the
symbols with dlsym(), so when you're not using wine the standard
implementation is used, and when you are, the symbols are taken from
wine.

On Mon, 2003-03-10 at 11:50, Alexandre Pigolkine wrote:
&gt;<i> The documentation is in the CVS:
</I>&gt;<i> mcs/class/System.Windows.Forms/README
</I>&gt;<i> 
</I>&gt;<i> Few lines from the file:
</I>&gt;<i> monostub.exe.so - 
</I>&gt;<i> The WineLib application that starts the Mono/WineLib application. This
</I>&gt;<i> small WineLib application embeds the Mono JIT engine allowing any Mono
</I>&gt;<i> application running in it access to WineLib/Win32 function calls. 
</I>&gt;<i> 
</I>&gt;<i> I didn't know about suggestions. I will check them now.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Alexandre Pigolkine
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-winforms-list-admin@lists.ximian.com">mono-winforms-list-admin@lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="mailto:mono-winforms-list-admin@lists.ximian.com">mono-winforms-list-admin@lists.ximian.com</A>] On Behalf Of Mike
</I>&gt;<i> Hearn
</I>&gt;<i> Sent: Montag, 10. MÃ¤rz 2003 12:30
</I>&gt;<i> To: <A HREF="mailto:pigolkine@gmx.de">pigolkine@gmx.de</A>
</I>&gt;<i> Cc: <A HREF="mailto:mono-winforms-list@lists.ximian.com">mono-winforms-list@lists.ximian.com</A>;
</I>&gt;<i> <A HREF="mailto:mono-devel-list-admin@lists.ximian.com">mono-devel-list-admin@lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-winforms-list] Monostub for Wine SWF
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Mon, 2003-03-10 at 09:43, Alexandre Pigolkine wrote:
</I>&gt;<i> &gt; I've checked in modifications to monostub. Wine/SWF applications 
</I>&gt;<i> &gt; should
</I>&gt;<i> &gt; start now under Linux. Better to redirect stderr, due to output from 
</I>&gt;<i> &gt; Wine's pthread_cond*.
</I>&gt;<i> 
</I>&gt;<i> Hi, are there any docs on what monostub does? Or could you explain it
</I>&gt;<i> here?
</I>&gt;<i> 
</I>&gt;<i> I'm wondering if you tried extending Wines own pthreads implementation,
</I>&gt;<i> as suggested on wine-devel?
</I>-- 
Mike Hearn &lt;<A HREF="mailto:m.hearn@signal.qinetiq.com">m.hearn@signal.qinetiq.com</A>&gt;
QinetiQ - Malvern Technology Center


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000105.html">[Mono-winforms-list] Monostub for Wine SWF
</A></li>
	<LI> Next message: <A HREF="000107.html">[Mono-winforms-list] Monostub for Wine SWF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110">[ date ]</a>
              <a href="thread.html#110">[ thread ]</a>
              <a href="subject.html#110">[ subject ]</a>
              <a href="author.html#110">[ author ]</a>
         </LI>
       </UL>
</body></html>
