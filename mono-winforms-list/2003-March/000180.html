<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> FW: [Mono-winforms-list] Final changes re Window registration procedure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pigolkine%40gmx.de">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000179.html">
   <LINK REL="Next"  HREF="000181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>FW: [Mono-winforms-list] Final changes re Window registration procedure
   </H1>
    <B>Alexandre Pigolkine
    </B> 
    <A HREF="mailto:pigolkine%40gmx.de"
       TITLE="FW: [Mono-winforms-list] Final changes re Window registration procedure">pigolkine@gmx.de
       </A><BR>
    <I>Mon, 24 Mar 2003 13:01:31 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000179.html">[Mono-winforms-list] Window class registration, Aleksey Ryabchuk's suggestions
</A></li>
        <LI> Next message: <A HREF="000181.html">[Mono-winforms-list] Re: Mono-winforms-list digest, Vol 1 #39 - 9 msgs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#180">[ date ]</a>
              <a href="thread.html#180">[ thread ]</a>
              <a href="subject.html#180">[ subject ]</a>
              <a href="author.html#180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----Original Message-----
From: Alexandre Pigolkine [mailto:<A HREF="mailto:pigolkine@gmx.de">pigolkine@gmx.de</A>]=20
Sent: Montag, 24. M=E4rz 2003 13:00
To: 'Vlad Kaluzhny'
Subject: RE: [Mono-winforms-list] Final changes re Window registration
procedure


Hello,

1. Button.cs :
- CreateParams createParams =3D new CreateParams ();

The variable createParams is used here only to setup a structure and
return it to the caller, and not to set _private_ member of base class.

It's needed to set style of button to BS_OWNERDRAW to be able to paint
Flat/Popup/Standard buttons and Background image and icon on the button.


Conversion of ContentAlignment to button style is needed to position
text on FlatStyle.System button.

2. Control.cs
Wine implements GetCurrentThreadId().

3. NativeWindow.cs
Regarding private void RegisterClass( CreateParams cp ).
The test for &quot;known&quot; window classes doesn't worth resources it takes. We
have approx. 5 special window classes to register now=20
and a lot more preregistered control classes. Do you want to put all
names inside this function ? Isn't it simpler and faster to register=20
the window classes we need in the classes which use it?=20


Alexandre Pigolkine



-----Original Message-----
From: <A HREF="mailto:mono-winforms-list-admin@lists.ximian.com">mono-winforms-list-admin@lists.ximian.com</A>
[mailto:<A HREF="mailto:mono-winforms-list-admin@lists.ximian.com">mono-winforms-list-admin@lists.ximian.com</A>] On Behalf Of Vlad
Kaluzhny
Sent: Montag, 24. M=E4rz 2003 10:59
To: <A HREF="mailto:mono-winforms-list@lists.ximian.com">mono-winforms-list@lists.ximian.com</A>
Subject: [Mono-winforms-list] Final changes re Window registration
procedure


Hi.
After analizing of the guys wishes, I have modified the Window Class
registration. The only suggestion - use the class names, which are
described in Win32 class (I put them in win32functions.cs file). Or add
there your class name, if you need it. This will avoid the class names
duplications with  small and/or  capital chars mixture.

And Second,  be attentive when specify the CreateParams.ClassStyle
value. It is simply duplication of class being registered, when you have
the same style for different classes. Another to say - when assign new
class name, take care, that it have the style, which  is not specified
for another  window class.

Regards, Vlad


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000179.html">[Mono-winforms-list] Window class registration, Aleksey Ryabchuk's suggestions
</A></li>
	<LI> Next message: <A HREF="000181.html">[Mono-winforms-list] Re: Mono-winforms-list digest, Vol 1 #39 - 9 msgs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#180">[ date ]</a>
              <a href="thread.html#180">[ thread ]</a>
              <a href="subject.html#180">[ subject ]</a>
              <a href="author.html#180">[ author ]</a>
         </LI>
       </UL>
</body></html>
