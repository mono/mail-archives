<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] NotifyIcon and ContextMenu redrawing issues in	gnome
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20NotifyIcon%20and%20ContextMenu%20redrawing%20issues%20in%0A%09gnome&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003110.html">
   <LINK REL="Next"  HREF="003090.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] NotifyIcon and ContextMenu redrawing issues in	gnome</H1>
    <B>Erik Renes</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20NotifyIcon%20and%20ContextMenu%20redrawing%20issues%20in%0A%09gnome&In-Reply-To="
       TITLE="[Mono-winforms-list] NotifyIcon and ContextMenu redrawing issues in	gnome">keenriser at planet.nl
       </A><BR>
    <I>Mon Oct 22 07:53:08 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003110.html">[Mono-winforms-list] Project status of WinForms on MacOS
</A></li>
        <LI>Next message: <A HREF="003090.html">[Mono-winforms-list] NotifyIcon and ContextMenu redrawing	issues ingnome
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3089">[ date ]</a>
              <a href="thread.html#3089">[ thread ]</a>
              <a href="subject.html#3089">[ subject ]</a>
              <a href="author.html#3089">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all, 

 

I'm not sure if this is the correct mailing list for reporting an issue such
as this, however it seems appropriate. 

 

When creating a test application that contains a windows form, a notify icon
and a context menu, I noticed that the notify icon does not get redrawn if
my context menu overlaps it partially. Other tray applications (network
manager, sound volume) seem to have worked around the issue by placing their
context menus _below_ the icon, instead of at the place where the mouse
click occurs. 

 

I have tried to reassign the same icon to the icon property every second, so
as to trigger a redraw - I just thought of maybe assigning a different icon
every second, haven't tested that yet, will do tonight -, which had no
effect. I also tried making the icon invisible, and then visible, that
works, however it is very noticeable by the user and is therefore not really
usable.

 

I am currently leaning towards finding some 'invalidateRect' function (which
would probably mean going native) or using custom code to place my context
menu below my notify icon. Both of which I think should not be necessary, as
the same code runs correctly on windows/mono. Are there other applications
that use notifyicons out there who have solved this issue before? Additional
info: I'm have seen this on Suse and Ubuntu, both running in a VM, perhaps
it is the vmware vga driver that is to blame? 

 

Thank you for any help, 

 

Best regards,

Erik Renes.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20071022/5b169ce4/attachment-0001.html">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20071022/5b169ce4/attachment-0001.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003110.html">[Mono-winforms-list] Project status of WinForms on MacOS
</A></li>
	<LI>Next message: <A HREF="003090.html">[Mono-winforms-list] NotifyIcon and ContextMenu redrawing	issues ingnome
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3089">[ date ]</a>
              <a href="thread.html#3089">[ thread ]</a>
              <a href="subject.html#3089">[ subject ]</a>
              <a href="author.html#3089">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
