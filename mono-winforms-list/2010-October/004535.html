<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Mono AOT problem from Samsung
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Mono%20AOT%20problem%20from%20Samsung&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004539.html">
   <LINK REL="Next"  HREF="004536.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Mono AOT problem from Samsung</H1>
    <B>=?gb2312?B?1cXBwSDQ3A==?=</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Mono%20AOT%20problem%20from%20Samsung&In-Reply-To="
       TITLE="[Mono-winforms-list] Mono AOT problem from Samsung">xdz3701 at hotmail.com
       </A><BR>
    <I>Sun Oct 24 00:10:46 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004539.html">[Mono-winforms-list] &quot;The class UiaAtkBridge.Table could not be loaded&quot;
</A></li>
        <LI>Next message: <A HREF="004536.html">[Mono-winforms-list] Convert .Net Application To MAC OS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4535">[ date ]</a>
              <a href="thread.html#4535">[ thread ]</a>
              <a href="subject.html#4535">[ subject ]</a>
              <a href="author.html#4535">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Dear all,
 
I am Xiong ZhangLiang from Samsung Electronics (China) RD Center.
 
Recently we try to adopt Mono2.8 as embedded S/W platform for Samsung products, 
and we wrote an network communication App with Winform UI on it.
The app of LOC is approximately 70K.
Target board is S3C24400(ARM920T-ARMv4t, 400MCPU, 128M Flash, 128M SDRAM, Linux2.4.20, arm-
v4t-le_gcc3.2.1).
We ported XServer for UI.
 
We found the app performance on Mono is bad.
Init time is more than 3 min, Memory occupation is more than 80M and UI repsonse time is 
more than 8 sec.
And memory cannot be released when user operated until memory is used up.
ARM byte order is middle order, but App on Mono can not execute double calculation correctly 
because of the byte order.
 
Then we try the AOT to reduce the startup time.
Full AOT can be executed except two Mono files (I18Rare.dll), but it cannot run and print 
&quot;undefined instructions&quot;.
If compile Mono file with --aot -O=all option, about 10 Mono files cannot be compiled (most 
important is System.Windows.Winform.dll), then libGdiplus.so can be found, the app can be 
executed with 10% startup time reduce. But that's not enough.
 
If we compile System.Windows.Winform.dll with --aot option, it can be compiled. 
But with compiled System.Windows.Winform.dll.so, app cannot run and print &quot;libGdiplus.so 
unable to be load&quot; because of &quot;error loading libFontconfig.so.1:R_ARM_PC24 relocation out of 
range&quot;. But to reduce the startup time significantly, I think compile 
System.Windows.Winform.dll is the most important. 
Could you kindly give us some guidance?
 
Thank you very much.
With BR,
Xiong ZhangLiang
--------------------------------------------------
Samsung Electronics (China) RD Center
Mono project, Project Leader, PhD
Mobile:86-13913925119
Office:86-25-58748787-3440
Mail:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">xdz3701 at hotmail.com</A>
-------------------------------------------------- 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20101024/c641fecd/attachment.html">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20101024/c641fecd/attachment.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004539.html">[Mono-winforms-list] &quot;The class UiaAtkBridge.Table could not be loaded&quot;
</A></li>
	<LI>Next message: <A HREF="004536.html">[Mono-winforms-list] Convert .Net Application To MAC OS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4535">[ date ]</a>
              <a href="thread.html#4535">[ thread ]</a>
              <a href="subject.html#4535">[ subject ]</a>
              <a href="author.html#4535">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
