<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Porting application that calls windows and other DLLs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Porting%20application%20that%20calls%20windows%20and%0A%20other%20DLLs&In-Reply-To=21071161.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003810.html">
   <LINK REL="Next"  HREF="003809.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Porting application that calls windows and other DLLs</H1>
    <B>Maser, Dan</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Porting%20application%20that%20calls%20windows%20and%0A%20other%20DLLs&In-Reply-To=21071161.post%40talk.nabble.com"
       TITLE="[Mono-winforms-list] Porting application that calls windows and other DLLs">Dan.Maser at inin.com
       </A><BR>
    <I>Thu Dec 18 10:37:44 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003810.html">[Mono-winforms-list] Porting application that calls windows and other DLLs
</A></li>
        <LI>Next message: <A HREF="003809.html">[Mono-winforms-list] How Can i add .Net 2.0 application dll or assemblies to mono 2.0 windows project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3811">[ date ]</a>
              <a href="thread.html#3811">[ thread ]</a>
              <a href="subject.html#3811">[ subject ]</a>
              <a href="author.html#3811">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  In my mono application I have PInvokes that run on both Windows and Linux and in my experience it works and you don't even have to change the source code from &quot;.dll&quot; to &quot;.so&quot;.  If you put the module name only in the source code then the right thing happens.  The MS.NET knowns to append &quot;.dll&quot; when looking for the file and Mono knows to try both &quot;.dll&quot; and &quot;.so&quot; when running on Linux.

   Additionally, I think there's something about an xml file you can put in the same directory as your assembly that acts as a mapping where you can tell mono &quot;when looking for foo.dll you should try bar.so&quot; that you can use if you don't want the Windows and Linux libraries to have the same name.

  Of course you have to pay close attention to using the correct decorations for calling conventions on both libraries.


-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list-bounces at lists.ximian.com</A>] On Behalf Of mcgd
Sent: Thursday, December 18, 2008 5:42 AM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list at lists.ximian.com</A>
Subject: [Mono-winforms-list] Porting application that calls windows and other DLLs


Hi,

I've been asked to try and get a .NET 1.1 application working under Mono. 
It makes quite a few Windows API calls, but also calls several other DLLs
using PInvoke.  Most of these DLLs can probably be recompiled under Linux,
but probably not all.

&gt;<i>From looking around, it seems that it's not possible to call Windows DLLs
</I>via PInvoke using Mono, but I wanted to make sure this is the case.  Someone
mentioned something called &quot;ctypes&quot; as a way of doing this, but this seems
to be a Python thing.

I'd appreciate input on what my options might be available here, and whether
it's worth trying to go further.  A few other specific questions - answers
or URLs appreciated:

- Is there any way at all to get the equivalent of calls into User32.dll?  
Most of these are in User32.dll.  The application is very GUI-intensive.

- Is it possible to use Wine to run the DLLs?  I've seen references to this
idea, but I don't think I've found anything concrete.

- If the other DLLs could be recompiled into .so files under Linux, can I
use PInvoke without changing anything except &quot;.dll&quot; into &quot;.so&quot;, or do
parameter names and types need to be changed too?  (i.e. would this possibly
be a significant porting effort in its own right?)
-- 
View this message in context: <A HREF="http://www.nabble.com/Porting-application-that-calls-windows-and-other-DLLs-tp21071161p21071161.html">http://www.nabble.com/Porting-application-that-calls-windows-and-other-DLLs-tp21071161p21071161.html</A>
Sent from the Mono - WinForms mailing list archive at Nabble.com.

_______________________________________________
Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003810.html">[Mono-winforms-list] Porting application that calls windows and other DLLs
</A></li>
	<LI>Next message: <A HREF="003809.html">[Mono-winforms-list] How Can i add .Net 2.0 application dll or assemblies to mono 2.0 windows project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3811">[ date ]</a>
              <a href="thread.html#3811">[ thread ]</a>
              <a href="subject.html#3811">[ subject ]</a>
              <a href="author.html#3811">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
