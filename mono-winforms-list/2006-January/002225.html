<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] System.DllNotFoundException: gdiplus.dll
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20System.DllNotFoundException%3A%20gdiplus.dll&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002224.html">
   <LINK REL="Next"  HREF="002226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] System.DllNotFoundException: gdiplus.dll</H1>
    <B>Andrew Weaver</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20System.DllNotFoundException%3A%20gdiplus.dll&In-Reply-To="
       TITLE="[Mono-winforms-list] System.DllNotFoundException: gdiplus.dll">andrew_weaver at sil.org
       </A><BR>
    <I>Tue Jan 24 14:32:45 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002224.html">[Mono-winforms-list] Mono hangs after looking up XKeycodeToKeysym
</A></li>
        <LI>Next message: <A HREF="002226.html">[Mono-winforms-list] System.DllNotFoundException: gdiplus.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2225">[ date ]</a>
              <a href="thread.html#2225">[ thread ]</a>
              <a href="subject.html#2225">[ subject ]</a>
              <a href="author.html#2225">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all!

I'm experiencing some difficulty getting a very simple Windows.Forms
application (built on Windows) to run on Ubuntu Linux (5.10). When I look on
the web, I see that others have had a similar problem. I've tried following
the troubleshooting instructions posted at
<A HREF="http://www.mono-project.com/DllNotFoundException,">http://www.mono-project.com/DllNotFoundException,</A> but have reached a dead
end with my line of enquiry.

Before I describe the troubleshooting steps I've taken, I should give a
little background. I installed Ubuntu Breezy, followed by Mono 1.1.8 taken
from the distribution's &quot;universe&quot; repository on my Apple laptop. I
encountered some problems with Windows.Forms applications, so I decided to
install a more up-to-date version of Mono, again on Ubuntu Breezy, but this
time on my desktop PC. Preferring to use Synaptic Package Manager to install
the software, I found repository details at
<A HREF="http://npw.net/2005/12/26/ubuntu-breezy-backports.">http://npw.net/2005/12/26/ubuntu-breezy-backports.</A> With this version of Mono
(1.1.13.1), I experience the same problem as raised in the recent &quot;Mono
hangs after looking up XKeycodeToKeysym&quot; thread. At this point I obtained
the &quot;Linux installer for x86&quot; from the Mono downloads page and installed
Mono 1.1.13.2 into /opt/mono.

Now to the troubleshooting session:

$ MONO_LOG_LEVEL=debug mono HelloWorld-Win.exe
&lt;snip&gt;
Mono-INFO: DllImport attempting to load: 'gdiplus.dll'.
Mono-INFO: DllImport loading location: 'libgdiplus.dll.so'.
Mono-INFO: DllImport error loading library: 'libgdiplus.dll.so: cannot open
shared object file: No such file or directory'.
Mono-INFO: DllImport loading library: './libgdiplus.dll.so'.
Mono-INFO: DllImport error loading library './libgdiplus.dll.so: cannot open
shared object file: No such file or directory'.
Mono-INFO: DllImport loading: 'gdiplus.dll'.
Mono-INFO: DllImport error loading library 'gdiplus.dll: cannot open shared
object file: No such file or directory'.
Mono-INFO: DllImport loading location: 'libgdiplus.so'.
Mono-INFO: DllImport error loading library: 'libtiff.so.3: cannot open
shared object file: No such file or directory'.
Mono-INFO: DllImport loading library: './libgdiplus.so'.
Mono-INFO: DllImport error loading library './libgdiplus.so: cannot open
shared object file: No such file or directory'.
Mono-INFO: DllImport loading: 'gdiplus'.
Mono-INFO: DllImport error loading library 'gdiplus.so: cannot open shared
object file: No such file or directory'.
Mono-INFO: DllImport loading location: 'libgdiplus.dll'.
Mono-INFO: DllImport error loading library: 'libgdiplus.dll: cannot open
shared object file: No such file or directory'.
Mono-INFO: DllImport loading library: './libgdiplus.dll'.
Mono-INFO: DllImport error loading library './libgdiplus.dll: cannot open
shared object file: No such file or directory'.
Mono-INFO: DllImport loading: 'libgdiplus.dll'.
Mono-INFO: DllImport error loading library 'libgdiplus.dll: cannot open
shared object file: No such file or directory'.

(HelloWorld-Win.exe:16639): Mono-WARNING **: DllImport unable to load
library 'libgdiplus.dll: cannot open shared object file: No such file or
directory'.
&lt;snip&gt;

The troubleshooting instructions say that the directories specified by the
$LD_LIBRARY_PATH environment variable will be searched. I elected to have
the installer modify my ~/.bashrc file, so when I check my environment
variables, I see:

$ env | sort
&lt;snip&gt;
LD_LIBRARY_PATH=/opt/mono/mono-1.1.13.2/lib:
&lt;snip&gt;

Then, checking up on the dynamic linker, I get:

$ ldconfig -p | grep libgdiplus
        libgdiplus.so.0 (libc6) =&gt; /usr/lib/libgdiplus.so.0
        libgdiplus.so (libc6) =&gt; /usr/lib/libgdiplus.so

Although the troubleshooting instructions describe a procedure for forcing
the dynamic linker cache to be rebuilt, the implication is that rebuilding
the cache is merely a more elegant way of fixing the problem than setting
the $LD_LIBRARY_PATH variable. Since that environment variable has already
been set by the installer, will there be any benefit from rebuilding the
cache?

Note that /opt/mono/mono-1.1.13.2/lib contains both libgdiplus.so and
libtiff.so.3.5 (but not libtiff.so.3). Is it the missing libtiff.so.3 that's
the real problem?

I ran the installer using sudo so that it was able to create the mono
directory within /opt. Would I have done better to accept the default
install location, in my home directory?

Thanks for reading this far. Any help would be greatly appreciated.

--Andrew


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002224.html">[Mono-winforms-list] Mono hangs after looking up XKeycodeToKeysym
</A></li>
	<LI>Next message: <A HREF="002226.html">[Mono-winforms-list] System.DllNotFoundException: gdiplus.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2225">[ date ]</a>
              <a href="thread.html#2225">[ thread ]</a>
              <a href="subject.html#2225">[ subject ]</a>
              <a href="author.html#2225">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
