<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Re: Error running monostub.exe.so after following directions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:2a5gjx302%40sneakemail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000237.html">
   <LINK REL="Next"  HREF="000240.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Re: Error running monostub.exe.so after following directions
   </H1>
    <B>2a5gjx302@sneakemail.com
    </B> 
    <A HREF="mailto:2a5gjx302%40sneakemail.com"
       TITLE="[Mono-winforms-list] Re: Error running monostub.exe.so after following directions">2a5gjx302@sneakemail.com
       </A><BR>
    <I>Sun, 27 Apr 2003 09:56:51 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000237.html">[Mono-winforms-list] Re: Error running monostub.exe.so after following directions
</A></li>
        <LI> Next message: <A HREF="000240.html">[Mono-winforms-list] Re: Error running monostub.exe.so after
 following directions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#239">[ date ]</a>
              <a href="thread.html#239">[ thread ]</a>
              <a href="subject.html#239">[ subject ]</a>
              <a href="author.html#239">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Another update: While monostub was building, I remember seeing a number of
'pkg-config' errors, something about how it couldn't find package 'mono'
and that I should tell it where to find mono.pc. As I am fairly new to
linux, I didn't really know what this was about, but I've done a bit more
digging and it seems that basically monostub wasn't linked against the mono
libraries. There was no mention of mono.pc anywhere, but I found a file by
that name in the 'mono' project from CVS (after build).

I should also mention that the monostub build process (as of CVS from the
24th of April) is broken with the version of wine I have (20030408). Some
of the arguments to 'winebuild' need '--' instead of '-' before them, for
instance:

in the makefile:
winebuild -D -sym monostub.exe.tmp.o -o monostub.exe.spec.c -exe
monostub.exe -mgui -L/usr/local/lib/wine -lcomdlg32 -lshell32 -luser32
-lgdi32 -lkernel32

what my winebuild wants:
winebuild -D -sym monostub.exe.tmp.o -o monostub.exe.spec.c
--exe=monostub.exe -mgui -L/usr/local/lib/wine -lcomdlg32 -lshell32
-luser32 -lgdi32 -lkernel32

in the makefile:
winebuild -o monostub.exe.dbg.c -debug -C. monostub.c

what my winebuild wants:
winebuild -o monostub.exe.dbg.c --debug -C. monostub.c

Finally, I have it running monostub.exe.so, but it hangs on 'Initializing
the Boehm GC...' and eventually segfaults. I thought I had installed the
'libgc-wine' to which the SWF.txt file provided a link, but just to be
sure, I checked, and it turns out that the link given does not provide a
new libgc.so for applications to link against. Instead, it builds a
gc.dll.so, which I have no clue how to use. The README.QUICK seems to be
for a different makefile; the provided makefile has a block of text at the
top that says it was generated by WineMaker. Just for kicks, I tried using
gc.dll.so as my libgc.so, but it does not run when compiled in that
configuration as gc.dll.so does not export the symbols that libgc.so does.

At 07:16 PM 27/04/2003 +0200, Alexandre Pigolkine wrote:
&gt;<i>Hello,
</I>&gt;<i>
</I>&gt;<i>I hope that I can help, but I need more information.
</I>&gt;<i>
</I>&gt;<i>Which version of Mono do you have installed ?
</I>&gt;<i>
</I>&gt;<i>Please execute 'ldd /usr/local/lib/wine/monostub.exe.so' 
</I>&gt;<i>to check that all references can be resolved.
</I>&gt;<i>
</I>&gt;<i>Alexandre
</I>
I am using mono from CVS on the 24th of April, built using the monocharge
from the 20th. Here is the output from the command you specified:

linsux:/monocvs/mcs/class/System.Windows.Forms/System.Windows.Forms# ldd
monostub.exe.so
        libglib-2.0.so.0 =&gt; /usr/lib/libglib-2.0.so.0 (0x40023000)
        libgmodule-2.0.so.0 =&gt; /usr/lib/libgmodule-2.0.so.0 (0x4008f000)
        libdl.so.2 =&gt; /lib/libdl.so.2 (0x40093000)
        libmono.so.0 =&gt; /usr/local/lib/libmono.so.0 (0x40096000)
        libpthread.so.0 =&gt; /lib/i686/libpthread.so.0 (0x401a7000)
        libm.so.6 =&gt; /lib/i686/libm.so.6 (0x401d7000)
        libgc.so.1 =&gt; /usr/lib/libgc.so.1 (0x401f9000)
        libwine.so.1 =&gt; /usr/local/lib/libwine.so.1 (0x40227000)
        libntdll.dll.so =&gt; /usr/local/lib/libntdll.dll.so (0x4023e000)
        libc.so.6 =&gt; /lib/i686/libc.so.6 (0x42000000)
        libgthread-2.0.so.0 =&gt; /usr/lib/libgthread-2.0.so.0 (0x40324000)
        libnsl.so.1 =&gt; /lib/libnsl.so.1 (0x40329000)
        librt.so.1 =&gt; /lib/librt.so.1 (0x4033e000)
        libwine_unicode.so.1 =&gt; /usr/local/lib/libwine_unicode.so.1
(0x40350000)
        /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x80000000)
linsux:/monocvs/mcs/class/System.Windows.Forms/System.Windows.Forms# 

Actually, I just realized that you wanted the installed file, here is
confirmation that it is the same file:

linsux:/monocvs/mcs/class/System.Windows.Forms/System.Windows.Forms# ln -i
monostub.exe.so /usr/local/lib/wine/monostub.exe.so
2081814 monostub.exe.so 2081814 /usr/local/lib/wine/monostub.exe.so
linsux:/monocvs/mcs/class/System.Windows.Forms/System.Windows.Forms#

What next? :-)

Jonathan

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000237.html">[Mono-winforms-list] Re: Error running monostub.exe.so after following directions
</A></li>
	<LI> Next message: <A HREF="000240.html">[Mono-winforms-list] Re: Error running monostub.exe.so after
 following directions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#239">[ date ]</a>
              <a href="thread.html#239">[ thread ]</a>
              <a href="subject.html#239">[ subject ]</a>
              <a href="author.html#239">[ author ]</a>
         </LI>
       </UL>
</body></html>
