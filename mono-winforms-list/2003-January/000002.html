<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Winelib update.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:miguel%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000001.html">
   <LINK REL="Next"  HREF="000008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Winelib update.
   </H1>
    <B>Miguel de Icaza
    </B> 
    <A HREF="mailto:miguel%40ximian.com"
       TITLE="[Mono-winforms-list] Winelib update.">miguel@ximian.com
       </A><BR>
    <I>26 Jan 2003 14:53:36 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000001.html">[Mono-winforms-list] Re: Windows Forms.
</A></li>
        <LI> Next message: <A HREF="000008.html">[Mono-winforms-list] Windows Forms.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2">[ date ]</a>
              <a href="thread.html#2">[ thread ]</a>
              <a href="subject.html#2">[ subject ]</a>
              <a href="author.html#2">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello everyone,

   I just wanted to get everyone on the same page about the issues that
we face right now with the Wine-based implementation of Windows.Forms.

   In the past we *thought* that the problem was Wine interacting badly
with the GC.  This is not the case.  We tracked this down to a different
problem.  It turns out that Wine has its own pthreads implementation
that provides them with some control that is required by the Win32 api.

   So linking an application with both -lpthread and -lwine is a recipe
for disaster.  That is where the GC problems happened.  By turning off
the GC, we were able to &quot;mask&quot; the problem, but the problem was still
there.

   Now, if you remove the -lpthread a few symbols remain unresolved: a
few of the semaphore api calls.  The way of solving this is to either
copy/paste the semaphore api calls into the Wine runtime (someone should
send a patch to these guys), or we could put those missing api calls in
our stub program as a quick workaround.

    I discussed this with Dennis on email, but I should have posted to
the public to let everyone know. 

Miguel.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000001.html">[Mono-winforms-list] Re: Windows Forms.
</A></li>
	<LI> Next message: <A HREF="000008.html">[Mono-winforms-list] Windows Forms.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2">[ date ]</a>
              <a href="thread.html#2">[ thread ]</a>
              <a href="subject.html#2">[ subject ]</a>
              <a href="author.html#2">[ author ]</a>
         </LI>
       </UL>
</body></html>
