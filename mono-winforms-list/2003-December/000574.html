<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Problem simple example
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:varnoux%40atmel.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000573.html">
   <LINK REL="Next"  HREF="000575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Problem simple example
   </H1>
    <B>Arnoux Vincent
    </B> 
    <A HREF="mailto:varnoux%40atmel.fr"
       TITLE="[Mono-winforms-list] Problem simple example">varnoux@atmel.fr
       </A><BR>
    <I>Wed, 10 Dec 2003 16:02:28 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000573.html">[Mono-winforms-list] Problem simple example
</A></li>
        <LI> Next message: <A HREF="000575.html">[Mono-winforms-list] Problem simple example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#574">[ date ]</a>
              <a href="thread.html#574">[ thread ]</a>
              <a href="subject.html#574">[ subject ]</a>
              <a href="author.html#574">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.
--------------090002040503020907070806
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

No reply... I guess the answer is RTFM.
Does anyone has a link to this FM ?

Vincent

Arnoux Vincent wrote:

&gt;<i> Hi List,
</I>&gt;<i> I am working on a RH 9.1 with Mono 0.28 installed.
</I>&gt;<i> When trying to run simple .NET examples like the one following (found 
</I>&gt;<i> on Microsoft doc), I meet an error:
</I>&gt;<i> err:menu:MENU_GetSysMenu failed to load system menu!
</I>&gt;<i> The program still runs, but the window is screwed up.
</I>&gt;<i> Is there an easy solution or my (wine) installation is not good ?
</I>&gt;<i>
</I>&gt;<i> Vincent
</I>&gt;<i>
</I>&gt;<i>------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>//------------------------------------------------------------------------------
</I>&gt;<i>/// &lt;copyright from='1997' to='2001' company='Microsoft Corporation'&gt;
</I>&gt;<i>///    Copyright (c) Microsoft Corporation. All Rights Reserved.
</I>&gt;<i>///
</I>&gt;<i>///    This source code is intended only as a supplement to Microsoft
</I>&gt;<i>///    Development Tools and/or on-line documentation.  See these other
</I>&gt;<i>///    materials for detailed information regarding Microsoft code samples.
</I>&gt;<i>///
</I>&gt;<i>/// &lt;/copyright&gt;
</I>&gt;<i>//------------------------------------------------------------------------------
</I>&gt;<i>namespace Microsoft.Samples.Windows.Forms.Cs.CheckedListBoxCtl {
</I>&gt;<i>    using System;
</I>&gt;<i>    using System.ComponentModel;
</I>&gt;<i>    using System.Windows.Forms;
</I>&gt;<i>    using System.Resources;
</I>&gt;<i>    using System.Drawing;
</I>&gt;<i>
</I>&gt;<i>    /// &lt;summary&gt;
</I>&gt;<i>    ///    This sample demonstrates the features of the CheckedListBox control.
</I>&gt;<i>    /// &lt;/summary&gt;
</I>&gt;<i>    public class CheckedListBoxCtl : System.Windows.Forms.Form {
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    Required designer variable.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private System.ComponentModel.Container components;
</I>&gt;<i>        private System.Windows.Forms.ToolTip toolTip1;
</I>&gt;<i>        private System.Windows.Forms.GroupBox groupBox1;
</I>&gt;<i>        private System.Windows.Forms.CheckBox chkOnClick;
</I>&gt;<i>        private System.Windows.Forms.CheckBox chkIntegralHeight;
</I>&gt;<i>        private System.Windows.Forms.CheckBox chkMultiColumn;
</I>&gt;<i>        private System.Windows.Forms.Button cmdAdd;
</I>&gt;<i>        private System.Windows.Forms.CheckBox chkSorted;
</I>&gt;<i>        private System.Windows.Forms.Button cmdRemove;
</I>&gt;<i>        private System.Windows.Forms.Button cmdReset;
</I>&gt;<i>        private System.Windows.Forms.CheckBox chkThreeDCheckBoxes;
</I>&gt;<i>        private System.Windows.Forms.CheckedListBox checkedListBox1;
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    The tree that we can add to the checkedListBox1.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private string[] trees = new string[] { &quot;Spruce&quot;,
</I>&gt;<i>                                &quot;Ash&quot;,
</I>&gt;<i>                                &quot;Koa&quot;,
</I>&gt;<i>                                &quot;Elm&quot;,
</I>&gt;<i>                                &quot;Oak&quot;,
</I>&gt;<i>                                &quot;Cherry&quot;,
</I>&gt;<i>                                &quot;Ironwood&quot;,
</I>&gt;<i>                                &quot;Cedar&quot;,
</I>&gt;<i>                                &quot;Sequoia&quot;,
</I>&gt;<i>                                &quot;Walnut&quot;,
</I>&gt;<i>                                &quot;Maple&quot;,
</I>&gt;<i>                                &quot;Balsa&quot;,
</I>&gt;<i>                                &quot;Pine&quot; };
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>        public CheckedListBoxCtl() {
</I>&gt;<i>
</I>&gt;<i>            //
</I>&gt;<i>            // Required for Windows Form Designer support
</I>&gt;<i>            //
</I>&gt;<i>            InitializeComponent();
</I>&gt;<i>
</I>&gt;<i>            // Add all but the last five trees to the checkedListBox1
</I>&gt;<i>            for (int i = 0; i &lt;= trees.Length - 5; i++) {
</I>&gt;<i>                checkedListBox1.Items.Add(trees[i]);
</I>&gt;<i>            }
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    Clean up any resources being used.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        protected override void Dispose(bool disposing)
</I>&gt;<i>        {
</I>&gt;<i>           if (disposing) {
</I>&gt;<i>                if (components != null) {
</I>&gt;<i>                    components.Dispose();
</I>&gt;<i>                }
</I>&gt;<i>           }
</I>&gt;<i>           base.Dispose(disposing);
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    Required method for Designer support - do not modify
</I>&gt;<i>        ///    the contents of this method with the code editor.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private void InitializeComponent() {
</I>&gt;<i>            this.components = new System.ComponentModel.Container();
</I>&gt;<i>            this.chkMultiColumn = new System.Windows.Forms.CheckBox();
</I>&gt;<i>            this.cmdRemove = new System.Windows.Forms.Button();
</I>&gt;<i>            this.chkSorted = new System.Windows.Forms.CheckBox();
</I>&gt;<i>            this.cmdReset = new System.Windows.Forms.Button();
</I>&gt;<i>            this.chkThreeDCheckBoxes = new System.Windows.Forms.CheckBox();
</I>&gt;<i>            this.groupBox1 = new System.Windows.Forms.GroupBox();
</I>&gt;<i>            this.chkOnClick = new System.Windows.Forms.CheckBox();
</I>&gt;<i>            this.chkIntegralHeight = new System.Windows.Forms.CheckBox();
</I>&gt;<i>            this.cmdAdd = new System.Windows.Forms.Button();
</I>&gt;<i>            this.checkedListBox1 = new System.Windows.Forms.CheckedListBox();
</I>&gt;<i>            this.toolTip1 = new System.Windows.Forms.ToolTip(components);
</I>&gt;<i>
</I>&gt;<i>            chkMultiColumn.Location = new System.Drawing.Point(16, 72);
</I>&gt;<i>            chkMultiColumn.TabIndex = 2;
</I>&gt;<i>            chkMultiColumn.CheckState = System.Windows.Forms.CheckState.Checked;
</I>&gt;<i>            chkMultiColumn.Text = &quot;&amp;MultiColumn&quot;;
</I>&gt;<i>            chkMultiColumn.Size = new System.Drawing.Size(104, 25);
</I>&gt;<i>            chkMultiColumn.Checked = true;
</I>&gt;<i>            chkMultiColumn.CheckedChanged += new System.EventHandler(chkMultiColumn_CheckedChanged);
</I>&gt;<i>
</I>&gt;<i>            cmdRemove.Location = new System.Drawing.Point(96, 168);
</I>&gt;<i>            cmdRemove.TabIndex = 3;
</I>&gt;<i>            cmdRemove.Text = &quot;&amp;Remove&quot;;
</I>&gt;<i>            cmdRemove.Size = new System.Drawing.Size(75, 23);
</I>&gt;<i>            cmdRemove.Click += new System.EventHandler(cmdRemove_Click);
</I>&gt;<i>
</I>&gt;<i>            chkSorted.Location = new System.Drawing.Point(16, 96);
</I>&gt;<i>            chkSorted.TabIndex = 3;
</I>&gt;<i>            chkSorted.Text = &quot;&amp;Sorted&quot;;
</I>&gt;<i>            chkSorted.Size = new System.Drawing.Size(136, 25);
</I>&gt;<i>            toolTip1.SetToolTip(chkSorted, &quot;Controls whether the list is sorted.&quot;);
</I>&gt;<i>            chkSorted.CheckedChanged += new System.EventHandler(chkSorted_CheckedChanged);
</I>&gt;<i>
</I>&gt;<i>            cmdReset.Location = new System.Drawing.Point(16, 200);
</I>&gt;<i>            cmdReset.TabIndex = 4;
</I>&gt;<i>            cmdReset.Enabled = false;
</I>&gt;<i>            cmdReset.Text = &quot;R&amp;eset&quot;;
</I>&gt;<i>            cmdReset.Size = new System.Drawing.Size(75, 23);
</I>&gt;<i>            cmdReset.Click += new System.EventHandler(cmdReset_Click);
</I>&gt;<i>
</I>&gt;<i>            chkThreeDCheckBoxes.Location = new System.Drawing.Point(16, 24);
</I>&gt;<i>            chkThreeDCheckBoxes.TabIndex = 0;
</I>&gt;<i>            chkThreeDCheckBoxes.CheckState = System.Windows.Forms.CheckState.Checked;
</I>&gt;<i>            chkThreeDCheckBoxes.Text = &quot;T&amp;hreeDCheckBoxes&quot;;
</I>&gt;<i>            chkThreeDCheckBoxes.Size = new System.Drawing.Size(136, 25);
</I>&gt;<i>            chkThreeDCheckBoxes.Checked = true;
</I>&gt;<i>            toolTip1.SetToolTip(chkThreeDCheckBoxes, &quot;Indicates if the check values should be shown as flat or 3D checkmarks.&quot;);
</I>&gt;<i>            chkThreeDCheckBoxes.CheckedChanged += new System.EventHandler(chkThreeDCheckBoxes_CheckedChanged);
</I>&gt;<i>
</I>&gt;<i>            groupBox1.Location = new System.Drawing.Point(248, 16);
</I>&gt;<i>            groupBox1.TabIndex = 0;
</I>&gt;<i>            groupBox1.TabStop = false;
</I>&gt;<i>            groupBox1.Text = &quot;CheckedListBox&quot;;
</I>&gt;<i>            groupBox1.Size = new System.Drawing.Size(248, 264);
</I>&gt;<i>
</I>&gt;<i>            chkOnClick.Location = new System.Drawing.Point(16, 120);
</I>&gt;<i>            chkOnClick.TabIndex = 4;
</I>&gt;<i>            chkOnClick.CheckState = System.Windows.Forms.CheckState.Checked;
</I>&gt;<i>            chkOnClick.Text = &quot;&amp;CheckOnClick&quot;;
</I>&gt;<i>            chkOnClick.Size = new System.Drawing.Size(136, 25);
</I>&gt;<i>            chkOnClick.Checked = true;
</I>&gt;<i>            toolTip1.SetToolTip(chkOnClick, &quot;Indicates whether the check box should be toggled on the first click on an item.&quot;);
</I>&gt;<i>            chkOnClick.CheckedChanged += new EventHandler(chkOnClick_CheckedChanged);
</I>&gt;<i>
</I>&gt;<i>            chkIntegralHeight.Location = new System.Drawing.Point(16, 48);
</I>&gt;<i>            chkIntegralHeight.TabIndex = 1;
</I>&gt;<i>            chkIntegralHeight.CheckState = System.Windows.Forms.CheckState.Checked;
</I>&gt;<i>            chkIntegralHeight.Text = &quot;&amp;IntegralHeight&quot;;
</I>&gt;<i>            chkIntegralHeight.Size = new System.Drawing.Size(120, 25);
</I>&gt;<i>            chkIntegralHeight.Checked = true;
</I>&gt;<i>            chkIntegralHeight.CheckedChanged += new EventHandler(chkIntegralHeight_CheckedChanged);
</I>&gt;<i>
</I>&gt;<i>            cmdAdd.Location = new System.Drawing.Point(16, 168);
</I>&gt;<i>            cmdAdd.TabIndex = 2;
</I>&gt;<i>            cmdAdd.Text = &quot;&amp;Add&quot;;
</I>&gt;<i>            cmdAdd.Size = new System.Drawing.Size(75, 23);
</I>&gt;<i>            cmdAdd.Click += new EventHandler(cmdAdd_Click);
</I>&gt;<i>
</I>&gt;<i>            checkedListBox1.ThreeDCheckBoxes = true;
</I>&gt;<i>            checkedListBox1.IntegralHeight = false;
</I>&gt;<i>            checkedListBox1.TabIndex = 1;
</I>&gt;<i>            checkedListBox1.CheckOnClick = true;
</I>&gt;<i>            checkedListBox1.ColumnWidth = 100;
</I>&gt;<i>            checkedListBox1.MultiColumn = true;
</I>&gt;<i>            checkedListBox1.Size = new System.Drawing.Size(232, 84);
</I>&gt;<i>            checkedListBox1.Location = new System.Drawing.Point(8, 24);
</I>&gt;<i>            checkedListBox1.Text = &quot;checkedListBox1&quot;;
</I>&gt;<i>
</I>&gt;<i>            toolTip1.Active = true;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>            this.Text = &quot;Checked ListBox&quot;;
</I>&gt;<i>            this.TabIndex = 0;
</I>&gt;<i>            this.Size = new System.Drawing.Size(512, 320);
</I>&gt;<i>
</I>&gt;<i>            this.Controls.Add(groupBox1);
</I>&gt;<i>            this.Controls.Add(cmdAdd);
</I>&gt;<i>            this.Controls.Add(cmdRemove);
</I>&gt;<i>            this.Controls.Add(cmdReset);
</I>&gt;<i>            this.Controls.Add(checkedListBox1);
</I>&gt;<i>            groupBox1.Controls.Add(chkOnClick);
</I>&gt;<i>            groupBox1.Controls.Add(chkIntegralHeight);
</I>&gt;<i>            groupBox1.Controls.Add(chkMultiColumn);
</I>&gt;<i>            groupBox1.Controls.Add(chkThreeDCheckBoxes);
</I>&gt;<i>            groupBox1.Controls.Add(chkSorted);
</I>&gt;<i>
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    Event that gets fired when the user clicks on the threeDCheckBoxes
</I>&gt;<i>        ///    checkbox.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private void chkThreeDCheckBoxes_CheckedChanged(object sender, EventArgs e) {
</I>&gt;<i>            checkedListBox1.ThreeDCheckBoxes = chkThreeDCheckBoxes.Checked;
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    Event that gets fired when the user clicks on the integralHeight
</I>&gt;<i>        ///    checkbox.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private void chkIntegralHeight_CheckedChanged(object sender, EventArgs e) {
</I>&gt;<i>            checkedListBox1.IntegralHeight = chkIntegralHeight.Checked;
</I>&gt;<i>            checkedListBox1.Height = 94;
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    Event that gets fired when the user clicks on the multiColumn
</I>&gt;<i>        ///    checkbox.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private void chkMultiColumn_CheckedChanged(object sender, EventArgs e) {
</I>&gt;<i>            checkedListBox1.MultiColumn = chkMultiColumn.Checked;
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    Event that gets fired when the user clicks on the sorted
</I>&gt;<i>        ///    checkbox.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private void chkSorted_CheckedChanged(object sender, EventArgs e) {
</I>&gt;<i>            checkedListBox1.Sorted = chkSorted.Checked;
</I>&gt;<i>            cmdReset.Enabled = !chkSorted.Checked;
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    This event gets fired when the user clicks on the onClick
</I>&gt;<i>        ///    CheckBox.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private void chkOnClick_CheckedChanged(object sender, EventArgs e) {
</I>&gt;<i>            checkedListBox1.CheckOnClick = chkOnClick.Checked;
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    Event that gets fired when the user clicks on the Add
</I>&gt;<i>        ///    button.  This handler adds a tree to the listbox if
</I>&gt;<i>        ///    any additional trees remain.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private void cmdAdd_Click(object sender, EventArgs e) {
</I>&gt;<i>            // If we still have some trees that have not been
</I>&gt;<i>            // added to the checkedListBox1, run through the list
</I>&gt;<i>            // and add the first tree that has not been added.
</I>&gt;<i>            if (checkedListBox1.Items.Count &lt; trees.Length) {
</I>&gt;<i>                bool stopLoop = false;
</I>&gt;<i>                bool found = false;
</I>&gt;<i>                int i = 0;
</I>&gt;<i>                while (stopLoop == false) {
</I>&gt;<i>                    found = false;
</I>&gt;<i>                    for (int j = 0; j &lt; checkedListBox1.Items.Count; j++)
</I>&gt;<i>                        if (trees[i].Equals((string)checkedListBox1.Items[j])) {
</I>&gt;<i>                            found = true;
</I>&gt;<i>                        }
</I>&gt;<i>                    if (found == false)
</I>&gt;<i>                        stopLoop = true;
</I>&gt;<i>                    else
</I>&gt;<i>                        i++;
</I>&gt;<i>                }
</I>&gt;<i>                checkedListBox1.Items.Add(trees[i]);
</I>&gt;<i>            }
</I>&gt;<i>
</I>&gt;<i>            // Make sure that the user can't attemp to add trees
</I>&gt;<i>            // that don't exist.
</I>&gt;<i>            if (checkedListBox1.Items.Count == trees.Length)
</I>&gt;<i>                cmdAdd.Enabled = false;
</I>&gt;<i>
</I>&gt;<i>            if (checkedListBox1.Items.Count &gt; 0)
</I>&gt;<i>                cmdRemove.Enabled = true;
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    Event that gets fired when the user clicks on the Remove button.
</I>&gt;<i>        ///    This handler removes the selected tree from the list.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private void cmdRemove_Click(object sender, EventArgs e) {
</I>&gt;<i>            if (checkedListBox1.SelectedIndex &gt;= 0) {
</I>&gt;<i>                int index = checkedListBox1.SelectedIndex;
</I>&gt;<i>                checkedListBox1.Items.RemoveAt(index);
</I>&gt;<i>
</I>&gt;<i>                if (index &gt; 0)
</I>&gt;<i>                    checkedListBox1.SelectedIndex = index - 1;
</I>&gt;<i>                else if (checkedListBox1.Items.Count != 0)
</I>&gt;<i>                    checkedListBox1.SelectedIndex = 0;
</I>&gt;<i>            }
</I>&gt;<i>
</I>&gt;<i>            if (checkedListBox1.Items.Count== 0)
</I>&gt;<i>                cmdRemove.Enabled = false;
</I>&gt;<i>
</I>&gt;<i>            if (checkedListBox1.Items.Count &lt; trees.Length)
</I>&gt;<i>                cmdAdd.Enabled = true;
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        ///    Event that gets fired when the user clicks on the Reset button.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        private void cmdReset_Click(object sender, EventArgs e ) {
</I>&gt;<i>            int nListItems = checkedListBox1.Items.Count;
</I>&gt;<i>            bool[] new_checked = new bool[trees.Length];
</I>&gt;<i>            string item = &quot;&quot;;
</I>&gt;<i>
</I>&gt;<i>            for (int k = 0; k &lt; trees.Length; k++)
</I>&gt;<i>                new_checked[k] = false;
</I>&gt;<i>
</I>&gt;<i>            int m = 0;
</I>&gt;<i>            for (int k = 0; k &lt; nListItems; k++) {
</I>&gt;<i>                if (checkedListBox1.GetItemChecked(k)) {
</I>&gt;<i>                    item = (string) checkedListBox1.Items[k];
</I>&gt;<i>                    for (m = 0; m &lt; trees.Length; m++)
</I>&gt;<i>                        if (trees[m].Equals(item))
</I>&gt;<i>                            new_checked[m] = true;
</I>&gt;<i>                }
</I>&gt;<i>            }
</I>&gt;<i>
</I>&gt;<i>            checkedListBox1.Items.Clear();
</I>&gt;<i>
</I>&gt;<i>            for (int j = 0; j &lt; nListItems; j++) {
</I>&gt;<i>                checkedListBox1.Items.Add(trees[j]);
</I>&gt;<i>                if (new_checked[j] == true)
</I>&gt;<i>                    checkedListBox1.SetItemChecked(j,true);
</I>&gt;<i>            }
</I>&gt;<i>
</I>&gt;<i>            cmdReset.Enabled = false;
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>        /// &lt;summary&gt;
</I>&gt;<i>        /// The main entry point for the application.
</I>&gt;<i>        /// &lt;/summary&gt;
</I>&gt;<i>        [STAThread]
</I>&gt;<i>        public static void Main(string[] args) {
</I>&gt;<i>            Application.Run(new CheckedListBoxCtl());
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>    }
</I>&gt;<i>
</I>&gt;<i>}
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>

--------------090002040503020907070806
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=ISO-8859-1&quot;&gt;
  &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body text=&quot;#000000&quot; bgcolor=&quot;#ffffff&quot;&gt;
&lt;font size=&quot;-1&quot;&gt;&lt;font face=&quot;Helvetica, Arial, sans-serif&quot;&gt;No reply... I
guess the answer is RTFM.&lt;br&gt;
Does anyone has a link to this FM ?&lt;br&gt;
&lt;br&gt;
Vincent&lt;br&gt;
&lt;/font&gt;&lt;/font&gt;&lt;br&gt;
Arnoux Vincent wrote:&lt;br&gt;
&lt;blockquote type=&quot;cite&quot; cite=&quot;<A HREF="mailto:mid3FD5D756.601@atmel.fr">mid3FD5D756.601@atmel.fr</A>&quot;&gt;Hi List,
  &lt;br&gt;
I am working on a RH 9.1 with Mono 0.28 installed.
  &lt;br&gt;
When trying to run simple .NET examples like the one following (found
on Microsoft doc), I meet an error:
  &lt;br&gt;
err:menu:MENU_GetSysMenu failed to load system menu!
  &lt;br&gt;
The program still runs, but the window is screwed up.
  &lt;br&gt;
Is there an easy solution or my (wine) installation is not good ?
  &lt;br&gt;
  &lt;br&gt;
Vincent
  &lt;br&gt;
  &lt;br&gt;
  &lt;pre wrap=&quot;&quot;&gt;
&lt;hr size=&quot;4&quot; width=&quot;90%&quot;&gt;
//------------------------------------------------------------------------------
/// &amp;lt;copyright from='1997' to='2001' company='Microsoft Corporation'&amp;gt;
///    Copyright (c) Microsoft Corporation. All Rights Reserved.
///
///    This source code is intended only as a supplement to Microsoft
///    Development Tools and/or on-line documentation.  See these other
///    materials for detailed information regarding Microsoft code samples.
///
/// &amp;lt;/copyright&amp;gt;
//------------------------------------------------------------------------------
namespace Microsoft.Samples.Windows.Forms.Cs.CheckedListBoxCtl {
    using System;
    using System.ComponentModel;
    using System.Windows.Forms;
    using System.Resources;
    using System.Drawing;

    /// &amp;lt;summary&amp;gt;
    ///    This sample demonstrates the features of the CheckedListBox control.
    /// &amp;lt;/summary&amp;gt;
    public class CheckedListBoxCtl : System.Windows.Forms.Form {

        /// &amp;lt;summary&amp;gt;
        ///    Required designer variable.
        /// &amp;lt;/summary&amp;gt;
        private System.ComponentModel.Container components;
        private System.Windows.Forms.ToolTip toolTip1;
        private System.Windows.Forms.GroupBox groupBox1;
        private System.Windows.Forms.CheckBox chkOnClick;
        private System.Windows.Forms.CheckBox chkIntegralHeight;
        private System.Windows.Forms.CheckBox chkMultiColumn;
        private System.Windows.Forms.Button cmdAdd;
        private System.Windows.Forms.CheckBox chkSorted;
        private System.Windows.Forms.Button cmdRemove;
        private System.Windows.Forms.Button cmdReset;
        private System.Windows.Forms.CheckBox chkThreeDCheckBoxes;
        private System.Windows.Forms.CheckedListBox checkedListBox1;

        /// &amp;lt;summary&amp;gt;
        ///    The tree that we can add to the checkedListBox1.
        /// &amp;lt;/summary&amp;gt;
        private string[] trees = new string[] { &quot;Spruce&quot;,
                                &quot;Ash&quot;,
                                &quot;Koa&quot;,
                                &quot;Elm&quot;,
                                &quot;Oak&quot;,
                                &quot;Cherry&quot;,
                                &quot;Ironwood&quot;,
                                &quot;Cedar&quot;,
                                &quot;Sequoia&quot;,
                                &quot;Walnut&quot;,
                                &quot;Maple&quot;,
                                &quot;Balsa&quot;,
                                &quot;Pine&quot; };


        public CheckedListBoxCtl() {

            //
            // Required for Windows Form Designer support
            //
            InitializeComponent();

            // Add all but the last five trees to the checkedListBox1
            for (int i = 0; i &amp;lt;= trees.Length - 5; i++) {
                checkedListBox1.Items.Add(trees[i]);
            }
        }

        /// &amp;lt;summary&amp;gt;
        ///    Clean up any resources being used.
        /// &amp;lt;/summary&amp;gt;
        protected override void Dispose(bool disposing)
        {
           if (disposing) {
                if (components != null) {
                    components.Dispose();
                }
           }
           base.Dispose(disposing);
        }


        /// &amp;lt;summary&amp;gt;
        ///    Required method for Designer support - do not modify
        ///    the contents of this method with the code editor.
        /// &amp;lt;/summary&amp;gt;
        private void InitializeComponent() {
            this.components = new System.ComponentModel.Container();
            this.chkMultiColumn = new System.Windows.Forms.CheckBox();
            this.cmdRemove = new System.Windows.Forms.Button();
            this.chkSorted = new System.Windows.Forms.CheckBox();
            this.cmdReset = new System.Windows.Forms.Button();
            this.chkThreeDCheckBoxes = new System.Windows.Forms.CheckBox();
            this.groupBox1 = new System.Windows.Forms.GroupBox();
            this.chkOnClick = new System.Windows.Forms.CheckBox();
            this.chkIntegralHeight = new System.Windows.Forms.CheckBox();
            this.cmdAdd = new System.Windows.Forms.Button();
            this.checkedListBox1 = new System.Windows.Forms.CheckedListBox();
            this.toolTip1 = new System.Windows.Forms.ToolTip(components);

            chkMultiColumn.Location = new System.Drawing.Point(16, 72);
            chkMultiColumn.TabIndex = 2;
            chkMultiColumn.CheckState = System.Windows.Forms.CheckState.Checked;
            chkMultiColumn.Text = &quot;&amp;amp;MultiColumn&quot;;
            chkMultiColumn.Size = new System.Drawing.Size(104, 25);
            chkMultiColumn.Checked = true;
            chkMultiColumn.CheckedChanged += new System.EventHandler(chkMultiColumn_CheckedChanged);

            cmdRemove.Location = new System.Drawing.Point(96, 168);
            cmdRemove.TabIndex = 3;
            cmdRemove.Text = &quot;&amp;amp;Remove&quot;;
            cmdRemove.Size = new System.Drawing.Size(75, 23);
            cmdRemove.Click += new System.EventHandler(cmdRemove_Click);

            chkSorted.Location = new System.Drawing.Point(16, 96);
            chkSorted.TabIndex = 3;
            chkSorted.Text = &quot;&amp;amp;Sorted&quot;;
            chkSorted.Size = new System.Drawing.Size(136, 25);
            toolTip1.SetToolTip(chkSorted, &quot;Controls whether the list is sorted.&quot;);
            chkSorted.CheckedChanged += new System.EventHandler(chkSorted_CheckedChanged);

            cmdReset.Location = new System.Drawing.Point(16, 200);
            cmdReset.TabIndex = 4;
            cmdReset.Enabled = false;
            cmdReset.Text = &quot;R&amp;amp;eset&quot;;
            cmdReset.Size = new System.Drawing.Size(75, 23);
            cmdReset.Click += new System.EventHandler(cmdReset_Click);

            chkThreeDCheckBoxes.Location = new System.Drawing.Point(16, 24);
            chkThreeDCheckBoxes.TabIndex = 0;
            chkThreeDCheckBoxes.CheckState = System.Windows.Forms.CheckState.Checked;
            chkThreeDCheckBoxes.Text = &quot;T&amp;amp;hreeDCheckBoxes&quot;;
            chkThreeDCheckBoxes.Size = new System.Drawing.Size(136, 25);
            chkThreeDCheckBoxes.Checked = true;
            toolTip1.SetToolTip(chkThreeDCheckBoxes, &quot;Indicates if the check values should be shown as flat or 3D checkmarks.&quot;);
            chkThreeDCheckBoxes.CheckedChanged += new System.EventHandler(chkThreeDCheckBoxes_CheckedChanged);

            groupBox1.Location = new System.Drawing.Point(248, 16);
            groupBox1.TabIndex = 0;
            groupBox1.TabStop = false;
            groupBox1.Text = &quot;CheckedListBox&quot;;
            groupBox1.Size = new System.Drawing.Size(248, 264);

            chkOnClick.Location = new System.Drawing.Point(16, 120);
            chkOnClick.TabIndex = 4;
            chkOnClick.CheckState = System.Windows.Forms.CheckState.Checked;
            chkOnClick.Text = &quot;&amp;amp;CheckOnClick&quot;;
            chkOnClick.Size = new System.Drawing.Size(136, 25);
            chkOnClick.Checked = true;
            toolTip1.SetToolTip(chkOnClick, &quot;Indicates whether the check box should be toggled on the first click on an item.&quot;);
            chkOnClick.CheckedChanged += new EventHandler(chkOnClick_CheckedChanged);

            chkIntegralHeight.Location = new System.Drawing.Point(16, 48);
            chkIntegralHeight.TabIndex = 1;
            chkIntegralHeight.CheckState = System.Windows.Forms.CheckState.Checked;
            chkIntegralHeight.Text = &quot;&amp;amp;IntegralHeight&quot;;
            chkIntegralHeight.Size = new System.Drawing.Size(120, 25);
            chkIntegralHeight.Checked = true;
            chkIntegralHeight.CheckedChanged += new EventHandler(chkIntegralHeight_CheckedChanged);

            cmdAdd.Location = new System.Drawing.Point(16, 168);
            cmdAdd.TabIndex = 2;
            cmdAdd.Text = &quot;&amp;amp;Add&quot;;
            cmdAdd.Size = new System.Drawing.Size(75, 23);
            cmdAdd.Click += new EventHandler(cmdAdd_Click);

            checkedListBox1.ThreeDCheckBoxes = true;
            checkedListBox1.IntegralHeight = false;
            checkedListBox1.TabIndex = 1;
            checkedListBox1.CheckOnClick = true;
            checkedListBox1.ColumnWidth = 100;
            checkedListBox1.MultiColumn = true;
            checkedListBox1.Size = new System.Drawing.Size(232, 84);
            checkedListBox1.Location = new System.Drawing.Point(8, 24);
            checkedListBox1.Text = &quot;checkedListBox1&quot;;

            toolTip1.Active = true;


            this.Text = &quot;Checked ListBox&quot;;
            this.TabIndex = 0;
            this.Size = new System.Drawing.Size(512, 320);

            this.Controls.Add(groupBox1);
            this.Controls.Add(cmdAdd);
            this.Controls.Add(cmdRemove);
            this.Controls.Add(cmdReset);
            this.Controls.Add(checkedListBox1);
            groupBox1.Controls.Add(chkOnClick);
            groupBox1.Controls.Add(chkIntegralHeight);
            groupBox1.Controls.Add(chkMultiColumn);
            groupBox1.Controls.Add(chkThreeDCheckBoxes);
            groupBox1.Controls.Add(chkSorted);

        }

        /// &amp;lt;summary&amp;gt;
        ///    Event that gets fired when the user clicks on the threeDCheckBoxes
        ///    checkbox.
        /// &amp;lt;/summary&amp;gt;
        private void chkThreeDCheckBoxes_CheckedChanged(object sender, EventArgs e) {
            checkedListBox1.ThreeDCheckBoxes = chkThreeDCheckBoxes.Checked;
        }

        /// &amp;lt;summary&amp;gt;
        ///    Event that gets fired when the user clicks on the integralHeight
        ///    checkbox.
        /// &amp;lt;/summary&amp;gt;
        private void chkIntegralHeight_CheckedChanged(object sender, EventArgs e) {
            checkedListBox1.IntegralHeight = chkIntegralHeight.Checked;
            checkedListBox1.Height = 94;
        }

        /// &amp;lt;summary&amp;gt;
        ///    Event that gets fired when the user clicks on the multiColumn
        ///    checkbox.
        /// &amp;lt;/summary&amp;gt;
        private void chkMultiColumn_CheckedChanged(object sender, EventArgs e) {
            checkedListBox1.MultiColumn = chkMultiColumn.Checked;
        }

        /// &amp;lt;summary&amp;gt;
        ///    Event that gets fired when the user clicks on the sorted
        ///    checkbox.
        /// &amp;lt;/summary&amp;gt;
        private void chkSorted_CheckedChanged(object sender, EventArgs e) {
            checkedListBox1.Sorted = chkSorted.Checked;
            cmdReset.Enabled = !chkSorted.Checked;
        }

        /// &amp;lt;summary&amp;gt;
        ///    This event gets fired when the user clicks on the onClick
        ///    CheckBox.
        /// &amp;lt;/summary&amp;gt;
        private void chkOnClick_CheckedChanged(object sender, EventArgs e) {
            checkedListBox1.CheckOnClick = chkOnClick.Checked;
        }

        /// &amp;lt;summary&amp;gt;
        ///    Event that gets fired when the user clicks on the Add
        ///    button.  This handler adds a tree to the listbox if
        ///    any additional trees remain.
        /// &amp;lt;/summary&amp;gt;
        private void cmdAdd_Click(object sender, EventArgs e) {
            // If we still have some trees that have not been
            // added to the checkedListBox1, run through the list
            // and add the first tree that has not been added.
            if (checkedListBox1.Items.Count &amp;lt; trees.Length) {
                bool stopLoop = false;
                bool found = false;
                int i = 0;
                while (stopLoop == false) {
                    found = false;
                    for (int j = 0; j &amp;lt; checkedListBox1.Items.Count; j++)
                        if (trees[i].Equals((string)checkedListBox1.Items[j])) {
                            found = true;
                        }
                    if (found == false)
                        stopLoop = true;
                    else
                        i++;
                }
                checkedListBox1.Items.Add(trees[i]);
            }

            // Make sure that the user can't attemp to add trees
            // that don't exist.
            if (checkedListBox1.Items.Count == trees.Length)
                cmdAdd.Enabled = false;

            if (checkedListBox1.Items.Count &amp;gt; 0)
                cmdRemove.Enabled = true;
        }

        /// &amp;lt;summary&amp;gt;
        ///    Event that gets fired when the user clicks on the Remove button.
        ///    This handler removes the selected tree from the list.
        /// &amp;lt;/summary&amp;gt;
        private void cmdRemove_Click(object sender, EventArgs e) {
            if (checkedListBox1.SelectedIndex &amp;gt;= 0) {
                int index = checkedListBox1.SelectedIndex;
                checkedListBox1.Items.RemoveAt(index);

                if (index &amp;gt; 0)
                    checkedListBox1.SelectedIndex = index - 1;
                else if (checkedListBox1.Items.Count != 0)
                    checkedListBox1.SelectedIndex = 0;
            }

            if (checkedListBox1.Items.Count== 0)
                cmdRemove.Enabled = false;

            if (checkedListBox1.Items.Count &amp;lt; trees.Length)
                cmdAdd.Enabled = true;
        }

        /// &amp;lt;summary&amp;gt;
        ///    Event that gets fired when the user clicks on the Reset button.
        /// &amp;lt;/summary&amp;gt;
        private void cmdReset_Click(object sender, EventArgs e ) {
            int nListItems = checkedListBox1.Items.Count;
            bool[] new_checked = new bool[trees.Length];
            string item = &quot;&quot;;

            for (int k = 0; k &amp;lt; trees.Length; k++)
                new_checked[k] = false;

            int m = 0;
            for (int k = 0; k &amp;lt; nListItems; k++) {
                if (checkedListBox1.GetItemChecked(k)) {
                    item = (string) checkedListBox1.Items[k];
                    for (m = 0; m &amp;lt; trees.Length; m++)
                        if (trees[m].Equals(item))
                            new_checked[m] = true;
                }
            }

            checkedListBox1.Items.Clear();

            for (int j = 0; j &amp;lt; nListItems; j++) {
                checkedListBox1.Items.Add(trees[j]);
                if (new_checked[j] == true)
                    checkedListBox1.SetItemChecked(j,true);
            }

            cmdReset.Enabled = false;
        }


        /// &amp;lt;summary&amp;gt;
        /// The main entry point for the application.
        /// &amp;lt;/summary&amp;gt;
        [STAThread]
        public static void Main(string[] args) {
            Application.Run(new CheckedListBoxCtl());
        }

    }

}




  &lt;/pre&gt;
&lt;/blockquote&gt;
&lt;br&gt;
&lt;/body&gt;
&lt;/html&gt;

--------------090002040503020907070806--



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000573.html">[Mono-winforms-list] Problem simple example
</A></li>
	<LI> Next message: <A HREF="000575.html">[Mono-winforms-list] Problem simple example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#574">[ date ]</a>
              <a href="thread.html#574">[ thread ]</a>
              <a href="subject.html#574">[ subject ]</a>
              <a href="author.html#574">[ author ]</a>
         </LI>
       </UL>
</body></html>
