<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Problem simple example
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:peter%40novonyx.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000574.html">
   <LINK REL="Next"  HREF="000576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Problem simple example
   </H1>
    <B>Peter Dennis Bartok
    </B> 
    <A HREF="mailto:peter%40novonyx.com"
       TITLE="[Mono-winforms-list] Problem simple example">peter@novonyx.com
       </A><BR>
    <I>Wed, 10 Dec 2003 08:03:17 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="000574.html">[Mono-winforms-list] Problem simple example
</A></li>
        <LI> Next message: <A HREF="000576.html">[Mono-winforms-list] Problem simple example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#575">[ date ]</a>
              <a href="thread.html#575">[ thread ]</a>
              <a href="subject.html#575">[ subject ]</a>
              <a href="author.html#575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Arnoux,

SWF is still very much incomplete. You can pretty much expect that many
controls don't work (fully) yet, also, there's currently an issue with
competing drawing between Wine and Cairo (used for System.Drawing) that
I'm working on. That issue will give you 'garbage' on button surfaces,
which might make it look 'screwed up'.

Peter

-----Original Message-----
From: &quot;Arnoux Vincent&quot; &lt;<A HREF="mailto:varnoux@atmel.fr">varnoux@atmel.fr</A>&gt;
To: &lt;<A HREF="mailto:mono-winforms-list@lists.ximian.com">mono-winforms-list@lists.ximian.com</A>&gt;
Date: 10 December, 2003 07:58
Subject: Re: [Mono-winforms-list] Problem simple example


&gt;<i>No reply... I guess the answer is RTFM.
</I>&gt;<i>Does anyone has a link to this FM ?
</I>&gt;<i>
</I>&gt;<i>Vincent
</I>&gt;<i>
</I>&gt;<i>Arnoux Vincent wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi List,
</I>&gt;&gt;<i> I am working on a RH 9.1 with Mono 0.28 installed.
</I>&gt;&gt;<i> When trying to run simple .NET examples like the one following (found
</I>&gt;&gt;<i> on Microsoft doc), I meet an error:
</I>&gt;&gt;<i> err:menu:MENU_GetSysMenu failed to load system menu!
</I>&gt;&gt;<i> The program still runs, but the window is screwed up.
</I>&gt;&gt;<i> Is there an easy solution or my (wine) installation is not good ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Vincent
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>------------------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>//----------------------------------------------------------------------
</I>--------
&gt;&gt;<i>/// &lt;copyright from='1997' to='2001' company='Microsoft Corporation'&gt;
</I>&gt;&gt;<i>///    Copyright (c) Microsoft Corporation. All Rights Reserved.
</I>&gt;&gt;<i>///
</I>&gt;&gt;<i>///    This source code is intended only as a supplement to Microsoft
</I>&gt;&gt;<i>///    Development Tools and/or on-line documentation.  See these other
</I>&gt;&gt;<i>///    materials for detailed information regarding Microsoft code
</I>samples.
&gt;&gt;<i>///
</I>&gt;&gt;<i>/// &lt;/copyright&gt;
</I>&gt;&gt;<i>//----------------------------------------------------------------------
</I>--------
&gt;&gt;<i>namespace Microsoft.Samples.Windows.Forms.Cs.CheckedListBoxCtl {
</I>&gt;&gt;<i>    using System;
</I>&gt;&gt;<i>    using System.ComponentModel;
</I>&gt;&gt;<i>    using System.Windows.Forms;
</I>&gt;&gt;<i>    using System.Resources;
</I>&gt;&gt;<i>    using System.Drawing;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    /// &lt;summary&gt;
</I>&gt;&gt;<i>    ///    This sample demonstrates the features of the CheckedListBox
</I>control.
&gt;&gt;<i>    /// &lt;/summary&gt;
</I>&gt;&gt;<i>    public class CheckedListBoxCtl : System.Windows.Forms.Form {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    Required designer variable.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private System.ComponentModel.Container components;
</I>&gt;&gt;<i>        private System.Windows.Forms.ToolTip toolTip1;
</I>&gt;&gt;<i>        private System.Windows.Forms.GroupBox groupBox1;
</I>&gt;&gt;<i>        private System.Windows.Forms.CheckBox chkOnClick;
</I>&gt;&gt;<i>        private System.Windows.Forms.CheckBox chkIntegralHeight;
</I>&gt;&gt;<i>        private System.Windows.Forms.CheckBox chkMultiColumn;
</I>&gt;&gt;<i>        private System.Windows.Forms.Button cmdAdd;
</I>&gt;&gt;<i>        private System.Windows.Forms.CheckBox chkSorted;
</I>&gt;&gt;<i>        private System.Windows.Forms.Button cmdRemove;
</I>&gt;&gt;<i>        private System.Windows.Forms.Button cmdReset;
</I>&gt;&gt;<i>        private System.Windows.Forms.CheckBox chkThreeDCheckBoxes;
</I>&gt;&gt;<i>        private System.Windows.Forms.CheckedListBox checkedListBox1;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    The tree that we can add to the checkedListBox1.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private string[] trees = new string[] { &quot;Spruce&quot;,
</I>&gt;&gt;<i>                                &quot;Ash&quot;,
</I>&gt;&gt;<i>                                &quot;Koa&quot;,
</I>&gt;&gt;<i>                                &quot;Elm&quot;,
</I>&gt;&gt;<i>                                &quot;Oak&quot;,
</I>&gt;&gt;<i>                                &quot;Cherry&quot;,
</I>&gt;&gt;<i>                                &quot;Ironwood&quot;,
</I>&gt;&gt;<i>                                &quot;Cedar&quot;,
</I>&gt;&gt;<i>                                &quot;Sequoia&quot;,
</I>&gt;&gt;<i>                                &quot;Walnut&quot;,
</I>&gt;&gt;<i>                                &quot;Maple&quot;,
</I>&gt;&gt;<i>                                &quot;Balsa&quot;,
</I>&gt;&gt;<i>                                &quot;Pine&quot; };
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        public CheckedListBoxCtl() {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            //
</I>&gt;&gt;<i>            // Required for Windows Form Designer support
</I>&gt;&gt;<i>            //
</I>&gt;&gt;<i>            InitializeComponent();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            // Add all but the last five trees to the checkedListBox1
</I>&gt;&gt;<i>            for (int i = 0; i &lt;= trees.Length - 5; i++) {
</I>&gt;&gt;<i>                checkedListBox1.Items.Add(trees[i]);
</I>&gt;&gt;<i>            }
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    Clean up any resources being used.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        protected override void Dispose(bool disposing)
</I>&gt;&gt;<i>        {
</I>&gt;&gt;<i>           if (disposing) {
</I>&gt;&gt;<i>                if (components != null) {
</I>&gt;&gt;<i>                    components.Dispose();
</I>&gt;&gt;<i>                }
</I>&gt;&gt;<i>           }
</I>&gt;&gt;<i>           base.Dispose(disposing);
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    Required method for Designer support - do not modify
</I>&gt;&gt;<i>        ///    the contents of this method with the code editor.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private void InitializeComponent() {
</I>&gt;&gt;<i>            this.components = new System.ComponentModel.Container();
</I>&gt;&gt;<i>            this.chkMultiColumn = new System.Windows.Forms.CheckBox();
</I>&gt;&gt;<i>            this.cmdRemove = new System.Windows.Forms.Button();
</I>&gt;&gt;<i>            this.chkSorted = new System.Windows.Forms.CheckBox();
</I>&gt;&gt;<i>            this.cmdReset = new System.Windows.Forms.Button();
</I>&gt;&gt;<i>            this.chkThreeDCheckBoxes = new
</I>System.Windows.Forms.CheckBox();
&gt;&gt;<i>            this.groupBox1 = new System.Windows.Forms.GroupBox();
</I>&gt;&gt;<i>            this.chkOnClick = new System.Windows.Forms.CheckBox();
</I>&gt;&gt;<i>            this.chkIntegralHeight = new
</I>System.Windows.Forms.CheckBox();
&gt;&gt;<i>            this.cmdAdd = new System.Windows.Forms.Button();
</I>&gt;&gt;<i>            this.checkedListBox1 = new
</I>System.Windows.Forms.CheckedListBox();
&gt;&gt;<i>            this.toolTip1 = new
</I>System.Windows.Forms.ToolTip(components);
&gt;&gt;<i>
</I>&gt;&gt;<i>            chkMultiColumn.Location = new System.Drawing.Point(16, 72);
</I>&gt;&gt;<i>            chkMultiColumn.TabIndex = 2;
</I>&gt;&gt;<i>            chkMultiColumn.CheckState =
</I>System.Windows.Forms.CheckState.Checked;
&gt;&gt;<i>            chkMultiColumn.Text = &quot;&amp;MultiColumn&quot;;
</I>&gt;&gt;<i>            chkMultiColumn.Size = new System.Drawing.Size(104, 25);
</I>&gt;&gt;<i>            chkMultiColumn.Checked = true;
</I>&gt;&gt;<i>            chkMultiColumn.CheckedChanged += new
</I>System.EventHandler(chkMultiColumn_CheckedChanged);
&gt;&gt;<i>
</I>&gt;&gt;<i>            cmdRemove.Location = new System.Drawing.Point(96, 168);
</I>&gt;&gt;<i>            cmdRemove.TabIndex = 3;
</I>&gt;&gt;<i>            cmdRemove.Text = &quot;&amp;Remove&quot;;
</I>&gt;&gt;<i>            cmdRemove.Size = new System.Drawing.Size(75, 23);
</I>&gt;&gt;<i>            cmdRemove.Click += new System.EventHandler(cmdRemove_Click);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            chkSorted.Location = new System.Drawing.Point(16, 96);
</I>&gt;&gt;<i>            chkSorted.TabIndex = 3;
</I>&gt;&gt;<i>            chkSorted.Text = &quot;&amp;Sorted&quot;;
</I>&gt;&gt;<i>            chkSorted.Size = new System.Drawing.Size(136, 25);
</I>&gt;&gt;<i>            toolTip1.SetToolTip(chkSorted, &quot;Controls whether the list is
</I>sorted.&quot;);
&gt;&gt;<i>            chkSorted.CheckedChanged += new
</I>System.EventHandler(chkSorted_CheckedChanged);
&gt;&gt;<i>
</I>&gt;&gt;<i>            cmdReset.Location = new System.Drawing.Point(16, 200);
</I>&gt;&gt;<i>            cmdReset.TabIndex = 4;
</I>&gt;&gt;<i>            cmdReset.Enabled = false;
</I>&gt;&gt;<i>            cmdReset.Text = &quot;R&amp;eset&quot;;
</I>&gt;&gt;<i>            cmdReset.Size = new System.Drawing.Size(75, 23);
</I>&gt;&gt;<i>            cmdReset.Click += new System.EventHandler(cmdReset_Click);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            chkThreeDCheckBoxes.Location = new System.Drawing.Point(16,
</I>24);
&gt;&gt;<i>            chkThreeDCheckBoxes.TabIndex = 0;
</I>&gt;&gt;<i>            chkThreeDCheckBoxes.CheckState =
</I>System.Windows.Forms.CheckState.Checked;
&gt;&gt;<i>            chkThreeDCheckBoxes.Text = &quot;T&amp;hreeDCheckBoxes&quot;;
</I>&gt;&gt;<i>            chkThreeDCheckBoxes.Size = new System.Drawing.Size(136, 25);
</I>&gt;&gt;<i>            chkThreeDCheckBoxes.Checked = true;
</I>&gt;&gt;<i>            toolTip1.SetToolTip(chkThreeDCheckBoxes, &quot;Indicates if the
</I>check values should be shown as flat or 3D checkmarks.&quot;);
&gt;&gt;<i>            chkThreeDCheckBoxes.CheckedChanged += new
</I>System.EventHandler(chkThreeDCheckBoxes_CheckedChanged);
&gt;&gt;<i>
</I>&gt;&gt;<i>            groupBox1.Location = new System.Drawing.Point(248, 16);
</I>&gt;&gt;<i>            groupBox1.TabIndex = 0;
</I>&gt;&gt;<i>            groupBox1.TabStop = false;
</I>&gt;&gt;<i>            groupBox1.Text = &quot;CheckedListBox&quot;;
</I>&gt;&gt;<i>            groupBox1.Size = new System.Drawing.Size(248, 264);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            chkOnClick.Location = new System.Drawing.Point(16, 120);
</I>&gt;&gt;<i>            chkOnClick.TabIndex = 4;
</I>&gt;&gt;<i>            chkOnClick.CheckState =
</I>System.Windows.Forms.CheckState.Checked;
&gt;&gt;<i>            chkOnClick.Text = &quot;&amp;CheckOnClick&quot;;
</I>&gt;&gt;<i>            chkOnClick.Size = new System.Drawing.Size(136, 25);
</I>&gt;&gt;<i>            chkOnClick.Checked = true;
</I>&gt;&gt;<i>            toolTip1.SetToolTip(chkOnClick, &quot;Indicates whether the check
</I>box should be toggled on the first click on an item.&quot;);
&gt;&gt;<i>            chkOnClick.CheckedChanged += new
</I>EventHandler(chkOnClick_CheckedChanged);
&gt;&gt;<i>
</I>&gt;&gt;<i>            chkIntegralHeight.Location = new System.Drawing.Point(16,
</I>48);
&gt;&gt;<i>            chkIntegralHeight.TabIndex = 1;
</I>&gt;&gt;<i>            chkIntegralHeight.CheckState =
</I>System.Windows.Forms.CheckState.Checked;
&gt;&gt;<i>            chkIntegralHeight.Text = &quot;&amp;IntegralHeight&quot;;
</I>&gt;&gt;<i>            chkIntegralHeight.Size = new System.Drawing.Size(120, 25);
</I>&gt;&gt;<i>            chkIntegralHeight.Checked = true;
</I>&gt;&gt;<i>            chkIntegralHeight.CheckedChanged += new
</I>EventHandler(chkIntegralHeight_CheckedChanged);
&gt;&gt;<i>
</I>&gt;&gt;<i>            cmdAdd.Location = new System.Drawing.Point(16, 168);
</I>&gt;&gt;<i>            cmdAdd.TabIndex = 2;
</I>&gt;&gt;<i>            cmdAdd.Text = &quot;&amp;Add&quot;;
</I>&gt;&gt;<i>            cmdAdd.Size = new System.Drawing.Size(75, 23);
</I>&gt;&gt;<i>            cmdAdd.Click += new EventHandler(cmdAdd_Click);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            checkedListBox1.ThreeDCheckBoxes = true;
</I>&gt;&gt;<i>            checkedListBox1.IntegralHeight = false;
</I>&gt;&gt;<i>            checkedListBox1.TabIndex = 1;
</I>&gt;&gt;<i>            checkedListBox1.CheckOnClick = true;
</I>&gt;&gt;<i>            checkedListBox1.ColumnWidth = 100;
</I>&gt;&gt;<i>            checkedListBox1.MultiColumn = true;
</I>&gt;&gt;<i>            checkedListBox1.Size = new System.Drawing.Size(232, 84);
</I>&gt;&gt;<i>            checkedListBox1.Location = new System.Drawing.Point(8, 24);
</I>&gt;&gt;<i>            checkedListBox1.Text = &quot;checkedListBox1&quot;;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            toolTip1.Active = true;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            this.Text = &quot;Checked ListBox&quot;;
</I>&gt;&gt;<i>            this.TabIndex = 0;
</I>&gt;&gt;<i>            this.Size = new System.Drawing.Size(512, 320);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            this.Controls.Add(groupBox1);
</I>&gt;&gt;<i>            this.Controls.Add(cmdAdd);
</I>&gt;&gt;<i>            this.Controls.Add(cmdRemove);
</I>&gt;&gt;<i>            this.Controls.Add(cmdReset);
</I>&gt;&gt;<i>            this.Controls.Add(checkedListBox1);
</I>&gt;&gt;<i>            groupBox1.Controls.Add(chkOnClick);
</I>&gt;&gt;<i>            groupBox1.Controls.Add(chkIntegralHeight);
</I>&gt;&gt;<i>            groupBox1.Controls.Add(chkMultiColumn);
</I>&gt;&gt;<i>            groupBox1.Controls.Add(chkThreeDCheckBoxes);
</I>&gt;&gt;<i>            groupBox1.Controls.Add(chkSorted);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    Event that gets fired when the user clicks on the
</I>threeDCheckBoxes
&gt;&gt;<i>        ///    checkbox.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private void chkThreeDCheckBoxes_CheckedChanged(object sender,
</I>EventArgs e) {
&gt;&gt;<i>            checkedListBox1.ThreeDCheckBoxes =
</I>chkThreeDCheckBoxes.Checked;
&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    Event that gets fired when the user clicks on the
</I>integralHeight
&gt;&gt;<i>        ///    checkbox.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private void chkIntegralHeight_CheckedChanged(object sender,
</I>EventArgs e) {
&gt;&gt;<i>            checkedListBox1.IntegralHeight = chkIntegralHeight.Checked;
</I>&gt;&gt;<i>            checkedListBox1.Height = 94;
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    Event that gets fired when the user clicks on the
</I>multiColumn
&gt;&gt;<i>        ///    checkbox.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private void chkMultiColumn_CheckedChanged(object sender,
</I>EventArgs e) {
&gt;&gt;<i>            checkedListBox1.MultiColumn = chkMultiColumn.Checked;
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    Event that gets fired when the user clicks on the sorted
</I>&gt;&gt;<i>        ///    checkbox.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private void chkSorted_CheckedChanged(object sender, EventArgs
</I>e) {
&gt;&gt;<i>            checkedListBox1.Sorted = chkSorted.Checked;
</I>&gt;&gt;<i>            cmdReset.Enabled = !chkSorted.Checked;
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    This event gets fired when the user clicks on the onClick
</I>&gt;&gt;<i>        ///    CheckBox.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private void chkOnClick_CheckedChanged(object sender, EventArgs
</I>e) {
&gt;&gt;<i>            checkedListBox1.CheckOnClick = chkOnClick.Checked;
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    Event that gets fired when the user clicks on the Add
</I>&gt;&gt;<i>        ///    button.  This handler adds a tree to the listbox if
</I>&gt;&gt;<i>        ///    any additional trees remain.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private void cmdAdd_Click(object sender, EventArgs e) {
</I>&gt;&gt;<i>            // If we still have some trees that have not been
</I>&gt;&gt;<i>            // added to the checkedListBox1, run through the list
</I>&gt;&gt;<i>            // and add the first tree that has not been added.
</I>&gt;&gt;<i>            if (checkedListBox1.Items.Count &lt; trees.Length) {
</I>&gt;&gt;<i>                bool stopLoop = false;
</I>&gt;&gt;<i>                bool found = false;
</I>&gt;&gt;<i>                int i = 0;
</I>&gt;&gt;<i>                while (stopLoop == false) {
</I>&gt;&gt;<i>                    found = false;
</I>&gt;&gt;<i>                    for (int j = 0; j &lt; checkedListBox1.Items.Count;
</I>j++)
&gt;&gt;<i>                        if
</I>(trees[i].Equals((string)checkedListBox1.Items[j])) {
&gt;&gt;<i>                            found = true;
</I>&gt;&gt;<i>                        }
</I>&gt;&gt;<i>                    if (found == false)
</I>&gt;&gt;<i>                        stopLoop = true;
</I>&gt;&gt;<i>                    else
</I>&gt;&gt;<i>                        i++;
</I>&gt;&gt;<i>                }
</I>&gt;&gt;<i>                checkedListBox1.Items.Add(trees[i]);
</I>&gt;&gt;<i>            }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            // Make sure that the user can't attemp to add trees
</I>&gt;&gt;<i>            // that don't exist.
</I>&gt;&gt;<i>            if (checkedListBox1.Items.Count == trees.Length)
</I>&gt;&gt;<i>                cmdAdd.Enabled = false;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            if (checkedListBox1.Items.Count &gt; 0)
</I>&gt;&gt;<i>                cmdRemove.Enabled = true;
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    Event that gets fired when the user clicks on the Remove
</I>button.
&gt;&gt;<i>        ///    This handler removes the selected tree from the list.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private void cmdRemove_Click(object sender, EventArgs e) {
</I>&gt;&gt;<i>            if (checkedListBox1.SelectedIndex &gt;= 0) {
</I>&gt;&gt;<i>                int index = checkedListBox1.SelectedIndex;
</I>&gt;&gt;<i>                checkedListBox1.Items.RemoveAt(index);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>                if (index &gt; 0)
</I>&gt;&gt;<i>                    checkedListBox1.SelectedIndex = index - 1;
</I>&gt;&gt;<i>                else if (checkedListBox1.Items.Count != 0)
</I>&gt;&gt;<i>                    checkedListBox1.SelectedIndex = 0;
</I>&gt;&gt;<i>            }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            if (checkedListBox1.Items.Count== 0)
</I>&gt;&gt;<i>                cmdRemove.Enabled = false;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            if (checkedListBox1.Items.Count &lt; trees.Length)
</I>&gt;&gt;<i>                cmdAdd.Enabled = true;
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        ///    Event that gets fired when the user clicks on the Reset
</I>button.
&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        private void cmdReset_Click(object sender, EventArgs e ) {
</I>&gt;&gt;<i>            int nListItems = checkedListBox1.Items.Count;
</I>&gt;&gt;<i>            bool[] new_checked = new bool[trees.Length];
</I>&gt;&gt;<i>            string item = &quot;&quot;;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            for (int k = 0; k &lt; trees.Length; k++)
</I>&gt;&gt;<i>                new_checked[k] = false;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            int m = 0;
</I>&gt;&gt;<i>            for (int k = 0; k &lt; nListItems; k++) {
</I>&gt;&gt;<i>                if (checkedListBox1.GetItemChecked(k)) {
</I>&gt;&gt;<i>                    item = (string) checkedListBox1.Items[k];
</I>&gt;&gt;<i>                    for (m = 0; m &lt; trees.Length; m++)
</I>&gt;&gt;<i>                        if (trees[m].Equals(item))
</I>&gt;&gt;<i>                            new_checked[m] = true;
</I>&gt;&gt;<i>                }
</I>&gt;&gt;<i>            }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            checkedListBox1.Items.Clear();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            for (int j = 0; j &lt; nListItems; j++) {
</I>&gt;&gt;<i>                checkedListBox1.Items.Add(trees[j]);
</I>&gt;&gt;<i>                if (new_checked[j] == true)
</I>&gt;&gt;<i>                    checkedListBox1.SetItemChecked(j,true);
</I>&gt;&gt;<i>            }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>            cmdReset.Enabled = false;
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        /// &lt;summary&gt;
</I>&gt;&gt;<i>        /// The main entry point for the application.
</I>&gt;&gt;<i>        /// &lt;/summary&gt;
</I>&gt;&gt;<i>        [STAThread]
</I>&gt;&gt;<i>        public static void Main(string[] args) {
</I>&gt;&gt;<i>            Application.Run(new CheckedListBoxCtl());
</I>&gt;&gt;<i>        }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000574.html">[Mono-winforms-list] Problem simple example
</A></li>
	<LI> Next message: <A HREF="000576.html">[Mono-winforms-list] Problem simple example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#575">[ date ]</a>
              <a href="thread.html#575">[ thread ]</a>
              <a href="subject.html#575">[ subject ]</a>
              <a href="author.html#575">[ author ]</a>
         </LI>
       </UL>
</body></html>
