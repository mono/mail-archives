<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20%5BBUMP%5D%20ToolStripDropDown%20%2B%20UserControl&In-Reply-To=49ADB1B5.6030601%40jpobst.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003931.html">
   <LINK REL="Next"  HREF="003933.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl</H1>
    <B>Alex Shulgin</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20%5BBUMP%5D%20ToolStripDropDown%20%2B%20UserControl&In-Reply-To=49ADB1B5.6030601%40jpobst.com"
       TITLE="[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl">alexander.shulgin at yessoftware.com
       </A><BR>
    <I>Wed Mar  4 08:52:08 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003931.html">[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl
</A></li>
        <LI>Next message: <A HREF="003933.html">[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3932">[ date ]</a>
              <a href="thread.html#3932">[ thread ]</a>
              <a href="subject.html#3932">[ subject ]</a>
              <a href="author.html#3932">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jonathan Pobst wrote:
&gt;&gt;&gt;<i> Does the attached patch fix the issue for you?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Well, partially.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The height is determined correctly, but there's still extra decoration 
</I>&gt;&gt;<i> to the left and right of the hosted item as demonstrated on attached 
</I>&gt;&gt;<i> screenshot.
</I>&gt;<i> 
</I>&gt;<i> Like your first email says, we need to figure out why that 68 is there. 
</I>&gt;<i>  It is a crutch to support the common case, but it messes up less common 
</I>&gt;<i> cases like this.
</I>&gt;<i> 
</I>&gt;<i> While your patch works around the issue, its not the correct solution. 
</I>&gt;<i> This 68 needs to be dynamically calculated from something, whether its 
</I>&gt;<i> margins or paddings or preferred sizes of MenuItems.
</I>&gt;<i> 
</I>&gt;<i> I will try to look at this some this week if you don't want to dig any 
</I>&gt;<i> deeper.
</I>
Hi,

Thanks for your responses!

Apparently, .NET ToolStripDropDown behaves differently when it's hosted 
inside ToolStrip and when it's used standalone.

I'm attaching a sample .cs and a PNG screenshot to demonstrate the 
difference.

So possibly, the correct solution would be to introduce some flag that 
indicates the drop down is used standalone (or determine this from the 
existing data like missing Owner, etc.) and adjust layout and painting 
accordingly.

--
Alex
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tsdd-toolstrip-and-standalone-dotnet-mono.png
Type: image/png
Size: 11194 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20090304/97f4ffc9/attachment-0001.png">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20090304/97f4ffc9/attachment-0001.png</A> 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Form1.cs
Url: <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20090304/97f4ffc9/attachment-0001.pl">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20090304/97f4ffc9/attachment-0001.pl</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003931.html">[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl
</A></li>
	<LI>Next message: <A HREF="003933.html">[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3932">[ date ]</a>
              <a href="thread.html#3932">[ thread ]</a>
              <a href="subject.html#3932">[ subject ]</a>
              <a href="author.html#3932">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
