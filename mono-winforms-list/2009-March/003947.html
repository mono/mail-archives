<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20%5BBUMP%5D%20ToolStripDropDown%20%2B%20UserControl&In-Reply-To=49B00ED6.8060404%40yessoftware.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003945.html">
   <LINK REL="Next"  HREF="003950.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl</H1>
    <B>Jonathan Pobst</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20%5BBUMP%5D%20ToolStripDropDown%20%2B%20UserControl&In-Reply-To=49B00ED6.8060404%40yessoftware.com"
       TITLE="[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl">monkey at jpobst.com
       </A><BR>
    <I>Fri Mar  6 11:09:02 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003945.html">[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl
</A></li>
        <LI>Next message: <A HREF="003950.html">[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3947">[ date ]</a>
              <a href="thread.html#3947">[ thread ]</a>
              <a href="subject.html#3947">[ subject ]</a>
              <a href="author.html#3947">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I committed the less risky parts of this, hopefully it will fix your 
issues.

There are problems with things like checking ToolStripItem.Owner, 
because of ToolStrip/MenuStrip merging, where items may be owned by one 
ToolStrip, but are actually parented to and showing up on another ToolStrip.

If you have additional changes, please use svn diff, so I can apply them 
better.

Thanks!
Jonathan

Alex Shulgin wrote:
&gt;<i> Alex Shulgin wrote:
</I>&gt;&gt;<i> Jonathan Pobst wrote:
</I>&gt;&gt;&gt;<i> Patch committed.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks a lot!
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> It looks like the arrow is not painted when your sample is run on 
</I>&gt;&gt;&gt;<i> .Net.  I don't see any property or anything that controls that.  I 
</I>&gt;&gt;&gt;<i> guess it simply looks at its parent and only draws it if it is on a 
</I>&gt;&gt;&gt;<i> ToolStripDropDownMenu and not a ToolStripDropDown.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yes, I've noticed this too.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Now, I think I finally come up with a correct version which behaves 
</I>&gt;&gt;<i> pretty similar to .Net implementation.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please review a patch (use -p1 if in System.Windows.Forms dir) and 
</I>&gt;&gt;<i> screenshots.
</I>&gt;<i> 
</I>&gt;<i> Oh, I forgot the demo code.  Here's the updated part:
</I>&gt;<i> 
</I>&gt;<i>         public PopupMenu()
</I>&gt;<i>         {
</I>&gt;<i>             ToolStripMenuItem menuItem1 = new 
</I>&gt;<i> ToolStripMenuItem(&quot;menuItem1&quot;);
</I>&gt;<i> 
</I>&gt;<i>             ToolStripMenuItem subItem1 = new ToolStripMenuItem(&quot;subItem1&quot;);
</I>&gt;<i>             subItem1.ShortcutKeyDisplayString = &quot;Ctrl+A&quot;;
</I>&gt;<i>             subItem1.ShowShortcutKeys = true;
</I>&gt;<i> 
</I>&gt;<i>             ToolStripMenuItem subItem2 = new ToolStripMenuItem(&quot;subItem2&quot;);
</I>&gt;<i>             subItem2.DropDownItems.Add(&quot;subSubItem21&quot;);
</I>&gt;<i> 
</I>&gt;<i>             menuItem1.DropDownItems.Add(subItem1);
</I>&gt;<i>             menuItem1.DropDownItems.Add(subItem2);
</I>&gt;<i> 
</I>&gt;<i>             ToolStripMenuItem menuItem2 = new 
</I>&gt;<i> ToolStripMenuItem(&quot;menuItem2&quot;);
</I>&gt;<i>             menuItem2.ShortcutKeyDisplayString = &quot;Ctrl+Z&quot;;
</I>&gt;<i> 
</I>&gt;<i>             ToolStripLabel label1 = new ToolStripLabel(&quot;label1&quot;);
</I>&gt;<i>             ToolStripButton button1 = new ToolStripButton(&quot;button1&quot;);
</I>&gt;<i>             ToolStripDropDownButton ddbtn1 = new 
</I>&gt;<i> ToolStripDropDownButton(&quot;ddbtn1&quot;);
</I>&gt;<i> 
</I>&gt;<i>             this.Items.Add(menuItem1);
</I>&gt;<i>             this.Items.Add(menuItem2);
</I>&gt;<i>             this.Items.Add(label1);
</I>&gt;<i>             this.Items.Add(button1);
</I>&gt;<i>             this.Items.Add(ddbtn1);
</I>&gt;<i>         }
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Alex
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003945.html">[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl
</A></li>
	<LI>Next message: <A HREF="003950.html">[Mono-winforms-list] [BUMP] ToolStripDropDown + UserControl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3947">[ date ]</a>
              <a href="thread.html#3947">[ thread ]</a>
              <a href="subject.html#3947">[ subject ]</a>
              <a href="author.html#3947">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
