<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Copy rather than drawing an image to a	graphics object?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Copy%20rather%20than%20drawing%20an%20image%20to%20a%0A%09graphics%20object%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004665.html">
   <LINK REL="Next"  HREF="004667.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Copy rather than drawing an image to a	graphics object?</H1>
    <B>cs_eps</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Copy%20rather%20than%20drawing%20an%20image%20to%20a%0A%09graphics%20object%3F&In-Reply-To="
       TITLE="[Mono-winforms-list] Copy rather than drawing an image to a	graphics object?">christian.schmid at eps.ch
       </A><BR>
    <I>Wed Jan  5 07:37:26 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004665.html">[Mono-winforms-list] Quick question about bug 661750
</A></li>
        <LI>Next message: <A HREF="004667.html">[Mono-winforms-list] Copy rather than drawing an image to a	graphics object?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4666">[ date ]</a>
              <a href="thread.html#4666">[ thread ]</a>
              <a href="subject.html#4666">[ subject ]</a>
              <a href="author.html#4666">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello!

I use the classic double buffering pattern for drawing a user control
avoiding flicker
1) override the OnPaintBackground with an empty body
2) in the OnPaint override draw all stuff (including the background) in a
buffer bitmap and draw it at the end with the graphics object in the event
args with eventArgs.Graphics.DrawImage.

This works fine if the control has a solid color, but my control has a
transparent background. It is kind of a window on a video frame with some
overlay graphics.

The problem is that DrawImage paints the new image on the old image because
of the transparent backgound. The only way to avoid this, is to call
eventArgs.Graphics.Clear(Color.Transparent) before calling the DrawImage
(could be done in OnDrawBackground)... but this flickers!

So I need to copy rather than draw the image. Any idea on how to achieve
this?
-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Copy-rather-than-drawing-an-image-to-a-graphics-object-tp3175423p3175423.html">http://mono.1490590.n4.nabble.com/Copy-rather-than-drawing-an-image-to-a-graphics-object-tp3175423p3175423.html</A>
Sent from the Mono - WinForms mailing list archive at Nabble.com.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004665.html">[Mono-winforms-list] Quick question about bug 661750
</A></li>
	<LI>Next message: <A HREF="004667.html">[Mono-winforms-list] Copy rather than drawing an image to a	graphics object?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4666">[ date ]</a>
              <a href="thread.html#4666">[ thread ]</a>
              <a href="subject.html#4666">[ subject ]</a>
              <a href="author.html#4666">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
