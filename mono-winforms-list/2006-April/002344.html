<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Another NotifyIcon Issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Another%20NotifyIcon%20Issue&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002343.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Another NotifyIcon Issue</H1>
    <B>palamangelus</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Another%20NotifyIcon%20Issue&In-Reply-To="
       TITLE="[Mono-winforms-list] Another NotifyIcon Issue">palamangelus at gmail.com
       </A><BR>
    <I>Wed Apr 26 10:30:57 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002343.html">[Mono-winforms-list] Datagrid TableStyle error
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2344">[ date ]</a>
              <a href="thread.html#2344">[ thread ]</a>
              <a href="subject.html#2344">[ subject ]</a>
              <a href="author.html#2344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I'm having issues with the NotifyIcon, if anyone has a spare moment to offer
some suggestions.

I'm running winXP SP2, with cygwin, mono 1.1.15, gtk#2.8 (also installed
separately). I also have sharpE and aston shell installed (was using them
but the notifyicon code wouldn't work, so I switched back to explorer as my
shell). After having trouble getting gtkSharpNotification to work, I
switched to winforms (very familiar with winforms, and the notification icon
is more than half the project I'm working on (a win32/osX app for internal
purposes).

I pulled out the test case of sw-notifyicon.cs and notify.ico and compiled
them in a cygwin bash window. The test cases ran fine with :
sw-notifyicon.exe, but when I ran it with mono sw-notifyicon.exe (which is
essential since I'll need to get it to run on osX - although macpack won't
work so I can't test) two things happened; 1) the icon didn't appear in the
tray, although a blank area for the icon appeared and was able to react to
events, and 2) the menu failed with the following dump (the first line is
the console.write to the MouseMove event). Any help is appreciated. 

swf-notifyicon: MouseMove event

Unhandled Exception: System.NullReferenceException: Object reference not set
to
an instance of an object
in &lt;0x0032d&gt; System.Windows.Forms.MenuTracker:.ctor
(System.Windows.Forms.Menu t
op_menu)
in &lt;0x00096&gt; System.Windows.Forms.MenuTracker:TrackPopupMenu
(System.Windows.For
ms.Menu menu, Point pnt)
in &lt;0x0006b&gt; System.Windows.Forms.ContextMenu:Show
(System.Windows.Forms.Control
 control, Point pos)
in (wrapper remoting-invoke-with-check)
System.Windows.Forms.ContextMenu:Show (S
ystem.Windows.Forms.Control,System.Drawing.Point)
in &lt;0x000a3&gt; System.Windows.Forms.NotifyIcon+NotifyIconWindow:HandleMouseUp
(Sys
tem.Object sender, System.Windows.Forms.MouseEventArgs e)
in &lt;0x00225&gt; System.Windows.Forms.NotifyIcon+NotifyIconWindow:WndProc
(System.Wi
ndows.Forms.Message m)
in &lt;0x00014&gt; System.Windows.Forms.Control+ControlNativeWindow:WndProc
(System.Wi
ndows.Forms.Message m)
in &lt;0x0011e&gt; System.Windows.Forms.NativeWindow:WndProc (IntPtr hWnd, Msg
msg, In
tPtr wParam, IntPtr lParam)
in (wrapper native-to-managed) System.Windows.Forms.NativeWindow:WndProc
(intptr
,System.Windows.Forms.Msg,intptr,intptr)
in &lt;0x00000&gt; &lt;unknown method&gt;
in (wrapper managed-to-native)
System.Windows.Forms.XplatUIWin32:Win32GetMessage
 (System.Windows.Forms.MSG&amp;,intptr,int,int)
in &lt;0x0005a&gt; System.Windows.Forms.XplatUIWin32:GetMessage
(System.Windows.Forms.
MSG msg, IntPtr hWnd, Int32 wFilterMin, Int32 wFilterMax, Boolean blocking)
in &lt;0x00018&gt; System.Windows.Forms.XplatUIWin32:GetMessage
(System.Windows.Forms.
MSG msg, IntPtr hWnd, Int32 wFilterMin, Int32 wFilterMax)
in &lt;0x0001e&gt; System.Windows.Forms.XplatUI:GetMessage
(System.Windows.Forms.MSG m
sg, IntPtr hWnd, Int32 wFilterMin, Int32 wFilterMax)
in &lt;0x0067a&gt; System.Windows.Forms.Application:RunLoop (Boolean Modal,
System.Win
dows.Forms.ApplicationContext context)
in &lt;0x00024&gt; System.Windows.Forms.Application:Run (System.Windows.Forms.Form
mai
nForm)
in &lt;0x0047d&gt; MWFTestApplication.MainWindow:Main (System.String[] args)
--
View this message in context: <A HREF="http://www.nabble.com/Another-NotifyIcon-Issue-t1512096.html#a4102402">http://www.nabble.com/Another-NotifyIcon-Issue-t1512096.html#a4102402</A>
Sent from the Mono - WinForms forum at Nabble.com.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002343.html">[Mono-winforms-list] Datagrid TableStyle error
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2344">[ date ]</a>
              <a href="thread.html#2344">[ thread ]</a>
              <a href="subject.html#2344">[ subject ]</a>
              <a href="author.html#2344">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
