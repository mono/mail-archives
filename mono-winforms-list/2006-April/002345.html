<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] ImageViewer still causing problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20ImageViewer%20still%20causing%20problems&In-Reply-To=1145453636.9590.65.camel%40mrwibble.mrwobble">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002331.html">
   <LINK REL="Next"  HREF="002335.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] ImageViewer still causing problems</H1>
    <B>Emery Conrad</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20ImageViewer%20still%20causing%20problems&In-Reply-To=1145453636.9590.65.camel%40mrwibble.mrwobble"
       TITLE="[Mono-winforms-list] ImageViewer still causing problems">econrad at vt.edu
       </A><BR>
    <I>Wed Apr 26 11:02:02 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002331.html">[Mono-winforms-list] ImageViewer still causing problems
</A></li>
        <LI>Next message: <A HREF="002335.html">[Mono-winforms-list] (FT_FREETYPE_H) libgdiplus 1.1.14-1.1.15 build
	issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2345">[ date ]</a>
              <a href="thread.html#2345">[ thread ]</a>
              <a href="subject.html#2345">[ subject ]</a>
              <a href="author.html#2345">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just curious, is someone working on the scrolling code? I've finally got my
big fat application working under mono (mostly working that is), but one of
the main issues remaining right now is the scrolling behavior, which is
WHACKY-smacky!

I'm happy to help fix the code but if the main developer of this code could
maybe say a few words about the code and the logic, it would help! (For
example, what is the thumb stuff about?)

Thanks,

Emery


On 4/19/06, PFJ &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">paul at all-the-johnsons.co.uk</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Again, same source as I posted yesterday (below). If I load a jpeg in
</I>&gt;<i> and drag the slider bars, it rescales the window rather than show the
</I>&gt;<i> next section of the picture.
</I>&gt;<i>
</I>&gt;<i> If I click beneath where the slider is (so it's on the bar itself), then
</I>&gt;<i> the picture moves.
</I>&gt;<i>
</I>&gt;<i> I reserve the right to be wrong, insane or a bit foamy on this. I will
</I>&gt;<i> put it into BZ if needs be. Mono was compiled about 20 minutes before
</I>&gt;<i> posting this email ( 14:15 BST )
</I>&gt;<i>
</I>&gt;<i> 8--&gt;
</I>&gt;<i> /*
</I>&gt;<i> * ImageViewer.cs - Simple MDI-based image viewer.
</I>&gt;<i> *
</I>&gt;<i> * Copyright (C) 2003  Southern Storm Software, Pty Ltd.
</I>&gt;<i> *
</I>&gt;<i> * This program is free software, you can redistribute it and/or modify
</I>&gt;<i> * it under the terms of the GNU General Public License as published by
</I>&gt;<i> * the Free Software Foundation, either version 2 of the License, or
</I>&gt;<i> * (at your option) any later version.
</I>&gt;<i> *
</I>&gt;<i> * This program is distributed in the hope that it will be useful,
</I>&gt;<i> * but WITHOUT ANY WARRANTY, without even the implied warranty of
</I>&gt;<i> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</I>&gt;<i> * GNU General Public License for more details.
</I>&gt;<i> *
</I>&gt;<i> * You should have received a copy of the GNU General Public License
</I>&gt;<i> * along with this program, if not, write to the Free Software
</I>&gt;<i> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307
</I>&gt;<i> USA
</I>&gt;<i> */
</I>&gt;<i>
</I>&gt;<i> using System;
</I>&gt;<i> using System.IO;
</I>&gt;<i> using System.Drawing;
</I>&gt;<i> using System.Drawing.Drawing2D;
</I>&gt;<i> using System.Windows.Forms;
</I>&gt;<i>
</I>&gt;<i> public class ImageViewer : Form
</I>&gt;<i> {
</I>&gt;<i>         private ImageViewer()
</I>&gt;<i>         {
</I>&gt;<i>                 MenuItem openMenuItem = new MenuItem(&quot;Open&quot;);
</I>&gt;<i>                 MenuItem quitMenuItem = new MenuItem(&quot;Quit&quot;);
</I>&gt;<i>                 MenuItem fileMenuItem =
</I>&gt;<i>                         new MenuItem(&quot;File&quot;, new MenuItem[]
</I>&gt;<i>                                 {openMenuItem, quitMenuItem});
</I>&gt;<i>                 MainMenu mainMenu = new MainMenu(new MenuItem[] {
</I>&gt;<i> fileMenuItem });
</I>&gt;<i>                 Menu = mainMenu;
</I>&gt;<i>
</I>&gt;<i>                 Size = new Size(600, 500);
</I>&gt;<i>                 Text = &quot;DotGNU Image Viewer&quot;;
</I>&gt;<i>                 IsMdiContainer = true;
</I>&gt;<i>
</I>&gt;<i>                 openMenuItem.Click += new EventHandler(OpenClicked);
</I>&gt;<i>                 quitMenuItem.Click += new EventHandler(QuitClicked);
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         private void OpenClicked(Object sender, EventArgs e)
</I>&gt;<i>         {
</I>&gt;<i>                 OpenFileDialog dialog = new OpenFileDialog();
</I>&gt;<i>                 dialog.Filter =
</I>&gt;<i>                         &quot;All image files (*.bmp, *.jpg, *.png, *.gif,
</I>&gt;<i> *.ico, *.cur)&quot; +
</I>&gt;<i>                         &quot;|*.bmp;*.jpg;*.png;*.gif;*.ico;*.cur&quot; +
</I>&gt;<i>                         &quot;|BMP files (*.bmp)|*.bmp&quot; +
</I>&gt;<i>                         &quot;|JPEG files (*.jpg)|*.jpg&quot; +
</I>&gt;<i>                         &quot;|PNG files (*.png)|*.png&quot; +
</I>&gt;<i>                         &quot;|GIF files (*.gif)|*.gif&quot; +
</I>&gt;<i>                         &quot;|Icon files (*.ico)|*.ico&quot; +
</I>&gt;<i>                         &quot;|Cursor files (*.cur)|*.cur&quot; +
</I>&gt;<i>                         &quot;|All files (*.*)|*.*&quot;;
</I>&gt;<i>                 if(dialog.ShowDialog(this) == DialogResult.OK)
</I>&gt;<i>                 {
</I>&gt;<i>                         Bitmap image;
</I>&gt;<i>                         try
</I>&gt;<i>                         {
</I>&gt;<i>                                 image = new Bitmap(dialog.FileName);
</I>&gt;<i>                         }
</I>&gt;<i>                         catch(Exception)
</I>&gt;<i>                         {
</I>&gt;<i>                                 MessageBox.Show
</I>&gt;<i>                                         (String.Format(&quot;Unknown image
</I>&gt;<i> format for \&quot;{0}\&quot;&quot;,
</I>&gt;<i>
</I>&gt;<i> dialog.FileName),
</I>&gt;<i>                                          &quot;Error&quot;, MessageBoxButtons.OK,
</I>&gt;<i> MessageBoxIcon.Hand);
</I>&gt;<i>                                 image = null;
</I>&gt;<i>                         }
</I>&gt;<i>                         if(image != null)
</I>&gt;<i>                         {
</I>&gt;<i>                                 ImageWindow window = new ImageWindow
</I>&gt;<i>                                         (dialog.FileName, image);
</I>&gt;<i>                                 window.MdiParent = this;
</I>&gt;<i>                                 window.Visible = true;
</I>&gt;<i>                         }
</I>&gt;<i>                 }
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         private void QuitClicked(Object sender, EventArgs e)
</I>&gt;<i>         {
</I>&gt;<i>                 Close();
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         protected override bool ProcessDialogKey(Keys keyData)
</I>&gt;<i>         {
</I>&gt;<i>                 if(keyData == (Keys.Control | Keys.O))
</I>&gt;<i>                 {
</I>&gt;<i>                         OpenClicked(this, EventArgs.Empty);
</I>&gt;<i>                         return true;
</I>&gt;<i>                 }
</I>&gt;<i>                 return base.ProcessDialogKey(keyData);
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         public static void Main(String[] args)
</I>&gt;<i>         {
</I>&gt;<i>                 ImageViewer form = new ImageViewer();
</I>&gt;<i>                 Application.Run(form);
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> internal class ImageWindow : Form
</I>&gt;<i> {
</I>&gt;<i>         private Image image;
</I>&gt;<i>
</I>&gt;<i>         public ImageWindow(String filename, Image image)
</I>&gt;<i>         {
</I>&gt;<i>                 this.image = image;
</I>&gt;<i>                 ClientSize = image.Size;
</I>&gt;<i>                 Text = Path.GetFileName(filename);
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         protected override void OnPaint(PaintEventArgs args)
</I>&gt;<i>         {
</I>&gt;<i>                 args.Graphics.DrawImage(image, 0, 0);
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i> &lt;--8
</I>&gt;<i>
</I>&gt;<i> TTFN
</I>&gt;<i>
</I>&gt;<i> Paul
</I>&gt;<i> --
</I>&gt;<i> &quot;Logic, my dear Zoe, is merely the ability to be wrong with authority&quot; -
</I>&gt;<i> Dr Who
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>&gt;<i>
</I>


--
Emery Conrad
Department of Mathematics
Virginia Tech
5076 Derring Hall
Blacksburg, VA 24061-0406
(540) 231-3324
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20060426/63a18dcd/attachment-0001.html">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20060426/63a18dcd/attachment-0001.html</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002331.html">[Mono-winforms-list] ImageViewer still causing problems
</A></li>
	<LI>Next message: <A HREF="002335.html">[Mono-winforms-list] (FT_FREETYPE_H) libgdiplus 1.1.14-1.1.15 build
	issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2345">[ date ]</a>
              <a href="thread.html#2345">[ thread ]</a>
              <a href="subject.html#2345">[ subject ]</a>
              <a href="author.html#2345">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
