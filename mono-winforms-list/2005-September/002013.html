<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] How to setup Winforms support under Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20How%20to%20setup%20Winforms%20support%20under%20Windows&In-Reply-To=002601c5bd2e%24b3698730%240a00a8c0%40pdb">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002007.html">
   <LINK REL="Next"  HREF="002014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] How to setup Winforms support under Windows</H1>
    <B>Graeme Geldenhuys</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20How%20to%20setup%20Winforms%20support%20under%20Windows&In-Reply-To=002601c5bd2e%24b3698730%240a00a8c0%40pdb"
       TITLE="[Mono-winforms-list] How to setup Winforms support under Windows">graeme at mastermaths.co.za
       </A><BR>
    <I>Tue Sep 20 06:00:45 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002007.html">[Mono-winforms-list] How to setup Winforms support under Windows
</A></li>
        <LI>Next message: <A HREF="002014.html">[Mono-winforms-list] How to setup Winforms support under Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2013">[ date ]</a>
              <a href="thread.html#2013">[ thread ]</a>
              <a href="subject.html#2013">[ subject ]</a>
              <a href="author.html#2013">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Peter,

The application is basically a &quot;Hello world&quot; style app.  Just a single form and a single button. 
Nothing else.

Not sure what I did, but now I got a actual error saying that I am missing the gdiplus.dll file.

Is there supposed to be a gdiplus.dll file in the &lt;mono install&gt;\bin directory (windows version 
of mono).  By default there wasn't.  I then searched my harddrive and found one in the WinNT 
directory structure (C:\WINNT\Microsoft.NET\Framework\v1.1.4322\gdiplus.dll).  I copied it to the 
&lt;mono install&gt;\bin folder, and now my test app seem to work.

Doesn't the windows install of mono include the gdiplus.dll?  If not, then it means I need to 
install the Microsoft .NET framework and the Mono Framework under Windows, just to get the 
applications working...  This doesn't sound right?


The following example still doesn't work though....  Using the MS .NET framework it does, but not 
under Mono.  I don't think you can get a more basic application than this. :-)

---------------  CUT  ----------------------------
class HelloWindowsForms
{
    static void Main()
    {
        System.Windows.Forms.MessageBox.Show(&quot;Welcome to the bill free zone.&quot;);
    }
}
---------------  END  ----------------------------

Compiled with:
mcs HelloWinForms.cs /r:System.Windows.Forms.dll /r:System.Drawing.dll /target:winexe

Executed as:
mono HelloWinForms.exe

Error received:
Unhandled Exception: System.TypeInitializationException: An exception was thrown
 by the type initializer for MessageBoxForm ---&gt; System.Reflection.TargetInvocat
ionException: Exception has been thrown by the target of an invocation. ---&gt; Sys
tem.NotImplementedException: Bitmap.InitFromStream (win32)
in &lt;0x000fd&gt; System.Drawing.Image:InitFromStream (System.IO.Stream stream)
in (wrapper remoting-invoke-with-check) System.Drawing.Image:InitFromStream (Sys
tem.IO.Stream)
in &lt;0x00104&gt; System.Drawing.Bitmap:.ctor (System.Runtime.Serialization.Serializa
tionInfo info, StreamingContext context)
in &lt;0x00000&gt; &lt;unknown method&gt;
in (wrapper managed-to-native) System.Reflection.MonoCMethod:InternalInvoke (obj
ect,object[])
in &lt;0x0006f&gt; System.Reflection.MonoCMethod:Invoke (System.Object obj, BindingFla
gs invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, Syst
em.Globalization.CultureInfo culture)--- End of inner exception stack trace ---

in &lt;0x00104&gt; System.Reflection.MonoCMethod:Invoke (System.Object obj, BindingFla
gs invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, Syst
em.Globalization.CultureInfo culture)
in &lt;0x00017&gt; System.Reflection.MethodBase:Invoke (System.Object obj, System.Obje
ct[] parameters)
in &lt;0x0021d&gt; System.Runtime.Serialization.ObjectRecord:LoadData (System.Runtime.
Serialization.ObjectManager manager, ISurrogateSelector selector, StreamingConte
xt context)
in &lt;0x00100&gt; System.Runtime.Serialization.ObjectManager:DoFixups ()
in &lt;0x0003f&gt; System.Runtime.Serialization.Formatters.Binary.ObjectReader:ReadNex
tObject (System.IO.BinaryReader reader)
in &lt;0x000b0&gt; System.Runtime.Serialization.Formatters.Binary.ObjectReader:ReadObj
ectGraph (System.IO.BinaryReader reader, Boolean readHeaders, System.Object resu
lt, System.Runtime.Remoting.Messaging.Header[] headers)
in &lt;0x00120&gt; System.Runtime.Serialization.Formatters.Binary.BinaryFormatter:Dese
rialize (System.IO.Stream serializationStream, System.Runtime.Remoting.Messaging
.HeaderHandler handler)
in &lt;0x00012&gt; System.Runtime.Serialization.Formatters.Binary.BinaryFormatter:Dese
rialize (System.IO.Stream serializationStream)
in &lt;0x0052b&gt; System.Resources.ResourceReader:ResourceValue (Int32 index)
in &lt;0x00023&gt; System.Resources.ResourceReader+ResourceEnumerator:get_Value ()
in &lt;0x00090&gt; System.Resources.ResourceSet:ReadResources ()
in &lt;0x00039&gt; System.Resources.ResourceSet:GetObject (System.String name, Boolean
 ignoreCase)
in &lt;0x00081&gt; System.Resources.ResourceManager:GetObject (System.String name, Sys
tem.Globalization.CultureInfo culture)
in &lt;0x00010&gt; System.Resources.ResourceManager:GetObject (System.String name)
in &lt;0x00017&gt; System.Windows.Forms.Locale:GetResource (System.String name)
in &lt;0x00012&gt; System.Windows.Forms.MessageBox+MessageBoxForm:.cctor ()--- End of
inner exception stack trace ---

in &lt;0x00000&gt; &lt;unknown method&gt;
in &lt;0x0002c&gt; System.Windows.Forms.MessageBox:Show (System.String text)
in &lt;0x0000c&gt; HelloWindowsForms:Main ()


Regards,
  - Graeme -



On Mon, 19 Sep 2005 09:27:51 -0600, Peter Dennis Bartok wrote:

&gt;<i>No setup is required under Windows. A working Mono install should be enough. 
</I>&gt;<i>Please provide the sample code that doesn't run, to allow some testing here.
</I>&gt;<i>
</I>&gt;<i>Peter
</I>




</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002007.html">[Mono-winforms-list] How to setup Winforms support under Windows
</A></li>
	<LI>Next message: <A HREF="002014.html">[Mono-winforms-list] How to setup Winforms support under Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2013">[ date ]</a>
              <a href="thread.html#2013">[ thread ]</a>
              <a href="subject.html#2013">[ subject ]</a>
              <a href="author.html#2013">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
