<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Howto mix WinForms and Cairo?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Howto%20mix%20WinForms%20and%20Cairo%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001974.html">
   <LINK REL="Next"  HREF="001976.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Howto mix WinForms and Cairo?</H1>
    <B>Jonathan S. Chambers</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Howto%20mix%20WinForms%20and%20Cairo%3F&In-Reply-To="
       TITLE="[Mono-winforms-list] Howto mix WinForms and Cairo?">Jonathan.Chambers at ansys.com
       </A><BR>
    <I>Tue Sep  6 10:59:32 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001974.html">[Mono-winforms-list] Howto mix WinForms and Cairo?
</A></li>
        <LI>Next message: <A HREF="001976.html">[Mono-winforms-list] hi all
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1975">[ date ]</a>
              <a href="thread.html#1975">[ thread ]</a>
              <a href="subject.html#1975">[ subject ]</a>
              <a href="author.html#1975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I may be reading the code wrong. But doesn't Control::Handle return the
client handle? 

At least it looks like it is initialized with the client handle. Control
returns NativeWindow::Handle. The native window's handle is set by a
call to CreateHandle. This sets the handle value equal to the value
returned by XplatUI.CreateWindow. CreateWindow returns Hwnd::Handle,
which is initialized with the client window. 

Look at the setter of Hwnd::ClientWindow.

(Hope you can understand the mess above)
- Jonathan



-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list-bounces at lists.ximian.com</A>] On Behalf Of Peter
Dennis Bartok
Sent: Monday, September 05, 2005 9:46 PM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">jackson at ximian.com</A>; Miguel de Icaza
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list at lists.ximian.com</A>
Subject: Re: [Mono-winforms-list] Howto mix WinForms and Cairo?

Yes, the handle that is returned by Control::Handle is of no use for
using 
with cairo. There's usually a window right on top of the one this handle

describes.

As I already answered before, to draw on our MWF windows, for best 
resultsSystem.Drawing should be used. We have no 'safety' locks and such
to 
deal with someone outside of MWF drawing on our windows alongside us. If
you 
try to own the whole window and do not expect MWF to draw, you'd need to
set 
the appropriate styles on Control (AllPaintingInWmPaint and UserPaint),
and 
get the Hwnd.Client handle via reflection to have the proper window do
muck 
with.

Cheers,
  Peter


-----Original Message-----
From: &quot;Jackson Harper&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">jackson at ximian.com</A>&gt;
To: &quot;Miguel de Icaza&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">miguel at ximian.com</A>&gt;
Cc: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list at lists.ximian.com</A>&gt;; &quot;Peter Dennis Bartok&quot; 
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">peter at novonyx.com</A>&gt;
Date: 05 September, 2005 13:25
Subject: Re: [Mono-winforms-list] Howto mix WinForms and Cairo?


&gt;<i>On Sat, 2005-09-03 at 17:37 -0400, Miguel de Icaza wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I wonder if the Winforms handles are X handles, and if so, they could
</I>be
&gt;&gt;<i> used with Cairo.
</I>&gt;<i>
</I>&gt;<i>The X handle you would get back from Control::Handle is the entire
</I>&gt;<i>window including the non client area (ie borders). (I think, Peter
</I>could
&gt;<i>verify correctness here).
</I>&gt;<i>
</I>&gt;<i>I have a feeling mixing winforms and Mono.Cairo could lead to some
</I>&gt;<i>unstable states though. Perhaps we should add some test cases for this.
</I>&gt;<i>
</I>&gt;<i>Jackson
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>&gt;<i>
</I>&gt;<i> 
</I>
_______________________________________________
Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001974.html">[Mono-winforms-list] Howto mix WinForms and Cairo?
</A></li>
	<LI>Next message: <A HREF="001976.html">[Mono-winforms-list] hi all
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1975">[ date ]</a>
              <a href="thread.html#1975">[ thread ]</a>
              <a href="subject.html#1975">[ subject ]</a>
              <a href="author.html#1975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
