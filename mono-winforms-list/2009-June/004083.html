<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Issues with Control focus and error provider location
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Issues%20with%20Control%20focus%20and%20error%20provider%0A%20location&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004077.html">
   <LINK REL="Next"  HREF="004084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Issues with Control focus and error provider location</H1>
    <B>Jijesh</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Issues%20with%20Control%20focus%20and%20error%20provider%0A%20location&In-Reply-To="
       TITLE="[Mono-winforms-list] Issues with Control focus and error provider location">incubator125 at hotmail.com
       </A><BR>
    <I>Tue Jun  9 05:35:05 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004077.html">[Mono-winforms-list] Two XplatUIX11 P/Invoke on 64bits system	questiones.
</A></li>
        <LI>Next message: <A HREF="004084.html">[Mono-winforms-list] Issues with Control focus and error	provider location
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4083">[ date ]</a>
              <a href="thread.html#4083">[ thread ]</a>
              <a href="subject.html#4083">[ subject ]</a>
              <a href="author.html#4083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Friends,

I have a dataentry application developed in C# winforms. In that, most of
the testbox fields are validated using conditions and error providers. When
i tried the application in ubuntu using mono, the validations are not
working. In actual situation the focus should not go from the control if the
validation fails. but the focus goes off in this scenario.

Please look into the sample code i wrote for this scenario to test. Here i
have two text boxes in a group box and one error provider. The textbox entry
is validating on the &quot;textBox1_Validating&quot; event handler.

public partial class Form1 : Form
    {
        private System.Windows.Forms.TextBox textBox1;
        private System.Windows.Forms.Button button1;
        private System.Windows.Forms.ErrorProvider errorProvider1;
        private System.Windows.Forms.GroupBox groupBox1;
        private System.Windows.Forms.TextBox textBox2;

        public Form1()
        {
            InitializeComponent();
        }

        private void textBox1_Validating(object sender, CancelEventArgs e)
        {
            if (textBox1.Text != &quot;&quot;)
            {
                try
                {
                    DateTime validatedate =
Convert.ToDateTime(textBox1.Text.Trim());
                    if (validatedate.Year &lt; 1900)
                    {

                        MessageBox.Show(&quot;Enter a valid Date&quot;);
                        textBox1.Focus();
                        return;
                    }
                    else
                        errorProvider1.SetError(textBox1, &quot;&quot;);
                }
                catch
                {

                    errorProvider1.SetError(textBox1, &quot;Enter a valid Date&quot;);
                    textBox1.Focus();
                }
            }
            else
                errorProvider1.SetError(textBox1, &quot;&quot;);
        }

        private void textBox2_Validating(object sender, CancelEventArgs e)
        {
            if (textBox2.Text != &quot;&quot;)
            {
                try
                {
                    DateTime validatedate =
Convert.ToDateTime(textBox2.Text.Trim());
                    if (validatedate.Year &lt; 1900)
                    {

                        errorProvider1.SetError(textBox2, &quot;Enter a valid
Date2&quot;);

                        textBox2.Focus();
                        return;
                    }
                    else
                        errorProvider1.SetError(textBox2, &quot;&quot;);
                }
                catch
                {

                    errorProvider1.SetError(textBox2, &quot;Enter a valid 
Date2&quot;);
                    textBox2.Focus();
                }
            }
            else
                errorProvider1.SetError(textBox2, &quot;&quot;);
        }
        

                Here the focus is not staying back on the control if the
validation fails and,error provider is not shown at the correct position.


Thanks in advance,
Jijesh



-- 
View this message in context: <A HREF="http://www.nabble.com/Issues-with-Control-focus-and-error-provider-location-tp23939522p23939522.html">http://www.nabble.com/Issues-with-Control-focus-and-error-provider-location-tp23939522p23939522.html</A>
Sent from the Mono - WinForms mailing list archive at Nabble.com.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004077.html">[Mono-winforms-list] Two XplatUIX11 P/Invoke on 64bits system	questiones.
</A></li>
	<LI>Next message: <A HREF="004084.html">[Mono-winforms-list] Issues with Control focus and error	provider location
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4083">[ date ]</a>
              <a href="thread.html#4083">[ thread ]</a>
              <a href="subject.html#4083">[ subject ]</a>
              <a href="author.html#4083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
