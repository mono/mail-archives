<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Remove horrible MONO_MWF_USE_CARBON_BACKEND	env vars
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Remove%20horrible%20MONO_MWF_USE_CARBON_BACKEND%0A%09env%20vars&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003225.html">
   <LINK REL="Next"  HREF="003227.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Remove horrible MONO_MWF_USE_CARBON_BACKEND	env vars</H1>
    <B>Geoff Norton</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Remove%20horrible%20MONO_MWF_USE_CARBON_BACKEND%0A%09env%20vars&In-Reply-To="
       TITLE="[Mono-winforms-list] Remove horrible MONO_MWF_USE_CARBON_BACKEND	env vars">gnorton at novell.com
       </A><BR>
    <I>Tue Jan 22 13:46:08 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003225.html">[Mono-winforms-list] Application.Run() and ContextStripMenu
</A></li>
        <LI>Next message: <A HREF="003227.html">[Mono-winforms-list] Remove horrible	MONO_MWF_USE_CARBON_BACKEND env vars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3226">[ date ]</a>
              <a href="thread.html#3226">[ thread ]</a>
              <a href="subject.html#3226">[ subject ]</a>
              <a href="author.html#3226">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Attached is a few patches (1 against mcs for Sys.D and MWF; 1 against  
gdi+) that does a few things:

#1 Properly determine dpi on the mac
#2 Remove all usage of MONO_MWF_USE_CARBON_BACKEND and refactor it to  
using uname os detection
#3 Remove all usage of MONO_MWF_USE_COCOA_BACKEND as its deprecated,  
unsupported and unworking.

This changes the default behaviour to use the carbon backend on the  
mac in all cases.  Thoughts?  Comments?

We could possible provide a env override to force back to X11 on the  
mac, but since we dont work on 10.5 anyways (x11) I'm not sure how  
much value there is in this.

I'll be commiting tomorrow unless people have objections.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdiplus.diff
Type: application/octet-stream
Size: 5872 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20080122/005bbbde/attachment.obj">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20080122/005bbbde/attachment.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mcs.diff
Type: application/octet-stream
Size: 7631 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20080122/005bbbde/attachment-0001.obj">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20080122/005bbbde/attachment-0001.obj</A> 
-------------- next part --------------


ps&gt; tested on Leopard x86, Leopard ppc, openSUSE 10.3 x86_64; no  
regressions

-g

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003225.html">[Mono-winforms-list] Application.Run() and ContextStripMenu
</A></li>
	<LI>Next message: <A HREF="003227.html">[Mono-winforms-list] Remove horrible	MONO_MWF_USE_CARBON_BACKEND env vars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3226">[ date ]</a>
              <a href="thread.html#3226">[ thread ]</a>
              <a href="subject.html#3226">[ subject ]</a>
              <a href="author.html#3226">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
