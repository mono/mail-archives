<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] MWF painting VERY slow compared to .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20MWF%20painting%20VERY%20slow%20compared%20to%20.NET&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001806.html">
   <LINK REL="Next"  HREF="001810.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] MWF painting VERY slow compared to .NET</H1>
    <B>Peter Dennis Bartok</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20MWF%20painting%20VERY%20slow%20compared%20to%20.NET&In-Reply-To="
       TITLE="[Mono-winforms-list] MWF painting VERY slow compared to .NET">peter at novonyx.com
       </A><BR>
    <I>Fri Jul 29 01:20:38 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001806.html">[Mono-winforms-list] MWF painting VERY slow compared to .NET
</A></li>
        <LI>Next message: <A HREF="001810.html">[Mono-winforms-list] MWF painting VERY slow compared to .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1807">[ date ]</a>
              <a href="thread.html#1807">[ thread ]</a>
              <a href="subject.html#1807">[ subject ]</a>
              <a href="author.html#1807">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That sounds pretty exciting. Any chance you could share the code? I'd like 
to investigate and see how much work it is to use your version it instead of 
our cairo version when running on the Mac. I'm guessing you are still using 
System.Drawing, just having it call your gdiplus lib?

Would you mind posting a URL to the code?

Cheers,
  Peter

-----Original Message-----
From: &quot;Parser - Davide Morelli&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">davide.morelli at parser.it</A>&gt;
To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list at lists.ximian.com</A>&gt;
Date: Thursday, 28 July, 2005 18:33
Subject: R: [Mono-winforms-list] MWF painting VERY slow compared to .NET



Hello list,

I wrote a sw in .NET for windows (a sort of graphical editor) and now I need
to port it to OSX.
Being Cairo so slow i decided to write an alternative libgdiplus.dylib
dedicated to OSX using only Core Graphics Calls.
It won't be complete, I will only implement those methods I used in the
original .NET sw.
I am at a good point and it works like a charm.
I will surely release it under the GPL license (because I took some code
from the original libgdiplus).
Using Cocoa i could also implement some feature that was missing in
libgdiplus ( mostly GraphicsPath.AddString() thanks to NSBezierPath ).

I am not saying that Cairo should not be used, I only had to avoid it
because I needed performances and my software must be released soon.

If you are interested I can share the code.

Ciao,
Daivde.


&gt;<i> -----Messaggio originale-----
</I>&gt;<i> Da: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list-bounces at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list-bounces at lists.ximian.com</A>] Per
</I>&gt;<i> conto di Peter De Jager
</I>&gt;<i> Inviato: mercoled&#236; 27 luglio 2005 11.34
</I>&gt;<i> A: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> Oggetto: [Mono-winforms-list] MWF painting VERY slow compared to .NET
</I>&gt;<i>
</I>&gt;<i> When painting a bitmap to a Form and measuring the frame
</I>&gt;<i> rate, I get vastly different figures on .NET vs. Mono. E.g.
</I>&gt;<i> on .NET I get 114 fps while under mono it's only 4.5 fps (on
</I>&gt;<i> the same hardware). What's even stranger is that I get the
</I>&gt;<i> same (4.5 fps) figure on a PowerPC Mac mini (1.42 GHz G4, 167MHz
</I>&gt;<i> bus) and an Intel box (dual 3GHz Xeon, 533MHz bus). Both
</I>&gt;<i> systems are running Fedora Core 4. I thought that perhaps it
</I>&gt;<i> relates to video drivers but I installed the latest ATI
</I>&gt;<i> driver on my Xeon box (Radeon 9800 Pro) and there is still no
</I>&gt;<i> difference.
</I>&gt;<i>
</I>&gt;<i> Something else is that on WMF, the background is always
</I>&gt;<i> painted even though I override OnPaintBackground of my Form
</I>&gt;<i> with an empty implementation, e.g.:
</I>&gt;<i>
</I>&gt;<i> protected override void OnPaintBackground(PaintEventArgs e) { }
</I>&gt;<i>
</I>&gt;<i> On Windows, this prevents the Form from repainting the
</I>&gt;<i> background, thus speeding up painting and reducing flicker,
</I>&gt;<i> while MWF always appears to repaint the background.
</I>&gt;<i>
</I>&gt;<i> I've done (very limited) testing on Gtk (Glade), and it
</I>&gt;<i> appears to be fast on Linux (comparable to
</I>&gt;<i> System.Windows.Forms on .NET), but while being fast on Linux,
</I>&gt;<i> Glade is MUCH slower on Windows (I don't have exact figures
</I>&gt;<i> but it's very noticable).
</I>&gt;<i>
</I>&gt;<i> Is the MWF implementation likely to increase in speed (by 20
</I>&gt;<i> times!) as it matures, or should I use Gtk for Linux / OS X
</I>&gt;<i> and System.Windows.Forms for Windows? I was hoping that I
</I>&gt;<i> could use a single code base for all platforms (which has
</I>&gt;<i> been the case so far).
</I>&gt;<i>
</I>&gt;<i> Don't take this the wrong way, I don't mean to be critical. I
</I>&gt;<i> think it's great that there is a managed implementation of
</I>&gt;<i> Windows Forms, but at 20 times slower it renders my Windows
</I>&gt;<i> applications unusable under Mono.
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> Pete.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> No virus found in this incoming message.
</I>&gt;<i> Checked by AVG Anti-Virus.
</I>&gt;<i> Version: 7.0.338 / Virus Database: 267.9.4/57 - Release Date:
</I>&gt;<i> 22/07/2005
</I>&gt;<i>
</I>
_______________________________________________
Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001806.html">[Mono-winforms-list] MWF painting VERY slow compared to .NET
</A></li>
	<LI>Next message: <A HREF="001810.html">[Mono-winforms-list] MWF painting VERY slow compared to .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1807">[ date ]</a>
              <a href="thread.html#1807">[ thread ]</a>
              <a href="subject.html#1807">[ subject ]</a>
              <a href="author.html#1807">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
