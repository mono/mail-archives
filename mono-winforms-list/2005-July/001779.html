<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Problems with MWF and remote X display
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Problems%20with%20MWF%20and%20remote%20X%20display&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001776.html">
   <LINK REL="Next"  HREF="001780.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Problems with MWF and remote X display</H1>
    <B>Dennis Boylan</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Problems%20with%20MWF%20and%20remote%20X%20display&In-Reply-To="
       TITLE="[Mono-winforms-list] Problems with MWF and remote X display">mono at b-lan.com
       </A><BR>
    <I>Tue Jul 19 13:18:52 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001776.html">[Mono-winforms-list] MWF Status?
</A></li>
        <LI>Next message: <A HREF="001780.html">[Mono-winforms-list] Problems with MWF and remote X display
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1779">[ date ]</a>
              <a href="thread.html#1779">[ thread ]</a>
              <a href="subject.html#1779">[ subject ]</a>
              <a href="author.html#1779">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've got an application which runs properly under X running on the local
machine, but when I try displaying it on my older Mandrake 9.0 system I get
a partially rendered display followed by a crash.

I used:

$ mono --debug ./IPalWSSample.exe &gt;error.log 2&gt;&amp;1

To generate this error log.

Any clues as to what is going on?  It is not a problem to run the application
on the local machine, but I suspect that at some point this issue will need to
be resolved.

I just installed using the 1.1.8.2_1 installer to make sure I had things up
to date.

- Dennis
--- cut here ---
Mono System.Windows.Forms Assembly [Revision: 44786; built: 2005/5/25 22:34:45]
Keyboard: United States keyboard layout (phantom key version)
X11 Error encountered: 
  Error: BadMatch (invalid parameter attributes)
  Request:     72 (X_PutImage)
  Resource ID: 0x2c00141
  Serial:      3952
	 at System.Windows.Forms.XplatUIX11.WhereString ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Drawing.GDIPlus.GdipDrawRectangleI ()
	 at System.Drawing.GDIPlus.GdipDrawRectangleI ()
	 at System.Drawing.Graphics.DrawRectangle ()
	 at System.Drawing.Graphics.DrawRectangle ()
	 at System.Windows.Forms.TextBoxBase.PaintControl ()
	 at System.Windows.Forms.TextBoxBase.WndProc ()
	 at System.Windows.Forms.TextBox.WndProc ()
	 at System.Windows.Forms.Control+ControlNativeWindow.WndProc ()
	 at System.Windows.Forms.NativeWindow.WndProc ()
	 at System.Windows.Forms.XplatUIX11.DispatchMessage ()
	 at System.Windows.Forms.XplatUI.DispatchMessage ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at IPalWSSample.FormMain.Main ()

X11 Error encountered: 
  Error: BadMatch (invalid parameter attributes)
  Request:     72 (X_PutImage)
  Resource ID: 0x2c00142
  Serial:      3963
	 at System.Windows.Forms.XplatUIX11.WhereString ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Drawing.GDIPlus.GdipCreateFromXDrawable_linux ()
	 at System.Drawing.GDIPlus.GdipCreateFromXDrawable_linux ()
	 at System.Drawing.Graphics.FromXDrawable ()
	 at System.Drawing.Graphics.FromHwnd ()
	 at System.Windows.Forms.XplatUIX11.PaintEventStart ()
	 at System.Windows.Forms.XplatUI.PaintEventStart ()
	 at System.Windows.Forms.TextBoxBase.WndProc ()
	 at System.Windows.Forms.TextBox.WndProc ()
	 at System.Windows.Forms.Control+ControlNativeWindow.WndProc ()
	 at System.Windows.Forms.NativeWindow.WndProc ()
	 at System.Windows.Forms.XplatUIX11.DispatchMessage ()
	 at System.Windows.Forms.XplatUI.DispatchMessage ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at IPalWSSample.FormMain.Main ()

X11 Error encountered: 
  Error: BadMatch (invalid parameter attributes)
  Request:     72 (X_PutImage)
  Resource ID: 0x2c00147
  Serial:      3981
	 at System.Windows.Forms.XplatUIX11.WhereString ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Drawing.GDIPlus.GdipDrawRectangleI ()
	 at System.Drawing.GDIPlus.GdipDrawRectangleI ()
	 at System.Drawing.Graphics.DrawRectangle ()
	 at System.Drawing.Graphics.DrawRectangle ()
	 at System.Windows.Forms.TextBoxBase.PaintControl ()
	 at System.Windows.Forms.TextBoxBase.WndProc ()
	 at System.Windows.Forms.TextBox.WndProc ()
	 at System.Windows.Forms.Control+ControlNativeWindow.WndProc ()
	 at System.Windows.Forms.NativeWindow.WndProc ()
	 at System.Windows.Forms.XplatUIX11.DispatchMessage ()
	 at System.Windows.Forms.XplatUI.DispatchMessage ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at IPalWSSample.FormMain.Main ()

X11 Error encountered: 
  Error: BadMatch (invalid parameter attributes)
  Request:     72 (X_PutImage)
  Resource ID: 0x2c00148
  Serial:      3992
	 at System.Windows.Forms.XplatUIX11.WhereString ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Drawing.GDIPlus.GdipCreateFromXDrawable_linux ()
	 at System.Drawing.GDIPlus.GdipCreateFromXDrawable_linux ()
	 at System.Drawing.Graphics.FromXDrawable ()
	 at System.Drawing.Graphics.FromHwnd ()
	 at System.Windows.Forms.XplatUIX11.PaintEventStart ()
	 at System.Windows.Forms.XplatUI.PaintEventStart ()
	 at System.Windows.Forms.TextBoxBase.WndProc ()
	 at System.Windows.Forms.TextBox.WndProc ()
	 at System.Windows.Forms.Control+ControlNativeWindow.WndProc ()
	 at System.Windows.Forms.NativeWindow.WndProc ()
	 at System.Windows.Forms.XplatUIX11.DispatchMessage ()
	 at System.Windows.Forms.XplatUI.DispatchMessage ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at IPalWSSample.FormMain.Main ()

X11 Error encountered: 
  Error: BadMatch (invalid parameter attributes)
  Request:     72 (X_PutImage)
  Resource ID: 0x2c0014d
  Serial:      4010
	 at System.Windows.Forms.XplatUIX11.WhereString ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Drawing.GDIPlus.GdipDrawRectangleI ()
	 at System.Drawing.GDIPlus.GdipDrawRectangleI ()
	 at System.Drawing.Graphics.DrawRectangle ()
	 at System.Drawing.Graphics.DrawRectangle ()
	 at System.Windows.Forms.TextBoxBase.PaintControl ()
	 at System.Windows.Forms.TextBoxBase.WndProc ()
	 at System.Windows.Forms.TextBox.WndProc ()
	 at System.Windows.Forms.Control+ControlNativeWindow.WndProc ()
	 at System.Windows.Forms.NativeWindow.WndProc ()
	 at System.Windows.Forms.XplatUIX11.DispatchMessage ()
	 at System.Windows.Forms.XplatUI.DispatchMessage ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at IPalWSSample.FormMain.Main ()

X11 Error encountered: 
  Error: BadMatch (invalid parameter attributes)
  Request:     72 (X_PutImage)
  Resource ID: 0x2c0014e
  Serial:      4021
	 at System.Windows.Forms.XplatUIX11.WhereString ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Drawing.GDIPlus.GdipCreateFromXDrawable_linux ()
	 at System.Drawing.GDIPlus.GdipCreateFromXDrawable_linux ()
	 at System.Drawing.Graphics.FromXDrawable ()
	 at System.Drawing.Graphics.FromHwnd ()
	 at System.Windows.Forms.XplatUIX11.PaintEventStart ()
	 at System.Windows.Forms.XplatUI.PaintEventStart ()
	 at System.Windows.Forms.TextBoxBase.WndProc ()
	 at System.Windows.Forms.TextBox.WndProc ()
	 at System.Windows.Forms.Control+ControlNativeWindow.WndProc ()
	 at System.Windows.Forms.NativeWindow.WndProc ()
	 at System.Windows.Forms.XplatUIX11.DispatchMessage ()
	 at System.Windows.Forms.XplatUI.DispatchMessage ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at IPalWSSample.FormMain.Main ()

X11 Error encountered: 
  Error: BadMatch (invalid parameter attributes)
  Request:     72 (X_PutImage)
  Resource ID: 0x2c00153
  Serial:      4039
	 at System.Windows.Forms.XplatUIX11.WhereString ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Drawing.GDIPlus.GdipDrawRectangleI ()
	 at System.Drawing.GDIPlus.GdipDrawRectangleI ()
	 at System.Drawing.Graphics.DrawRectangle ()
	 at System.Drawing.Graphics.DrawRectangle ()
	 at System.Windows.Forms.TextBoxBase.PaintControl ()
	 at System.Windows.Forms.TextBoxBase.WndProc ()
	 at System.Windows.Forms.TextBox.WndProc ()
	 at System.Windows.Forms.Control+ControlNativeWindow.WndProc ()
	 at System.Windows.Forms.NativeWindow.WndProc ()
	 at System.Windows.Forms.XplatUIX11.DispatchMessage ()
	 at System.Windows.Forms.XplatUI.DispatchMessage ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at IPalWSSample.FormMain.Main ()

X11 Error encountered: 
  Error: BadMatch (invalid parameter attributes)
  Request:     72 (X_PutImage)
  Resource ID: 0x2c00154
  Serial:      4050
	 at System.Windows.Forms.XplatUIX11.WhereString ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Drawing.GDIPlus.GdipCreateFromXDrawable_linux ()
	 at System.Drawing.GDIPlus.GdipCreateFromXDrawable_linux ()
	 at System.Drawing.Graphics.FromXDrawable ()
	 at System.Drawing.Graphics.FromHwnd ()
	 at System.Windows.Forms.XplatUIX11.PaintEventStart ()
	 at System.Windows.Forms.XplatUI.PaintEventStart ()
	 at System.Windows.Forms.TextBoxBase.WndProc ()
	 at System.Windows.Forms.TextBox.WndProc ()
	 at System.Windows.Forms.Control+ControlNativeWindow.WndProc ()
	 at System.Windows.Forms.NativeWindow.WndProc ()
	 at System.Windows.Forms.XplatUIX11.DispatchMessage ()
	 at System.Windows.Forms.XplatUI.DispatchMessage ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at IPalWSSample.FormMain.Main ()

X11 Error encountered: 
  Error: BadMatch (invalid parameter attributes)
  Request:     73 (X_GetImage)
  Resource ID: 0x2c00157
  Serial:      4066
	 at System.Windows.Forms.XplatUIX11.WhereString ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Windows.Forms.XplatUIX11.HandleError ()
	 at System.Drawing.GDIPlus.GdipFillRectangleI ()
	 at System.Drawing.GDIPlus.GdipFillRectangleI ()
	 at System.Drawing.Graphics.FillRectangle ()
	 at System.Drawing.Graphics.FillRectangle ()
	 at System.Windows.Forms.TextBoxBase.PaintControl ()
	 at System.Windows.Forms.TextBoxBase.WndProc ()
	 at System.Windows.Forms.TextBox.WndProc ()
	 at System.Windows.Forms.Control+ControlNativeWindow.WndProc ()
	 at System.Windows.Forms.NativeWindow.WndProc ()
	 at System.Windows.Forms.XplatUIX11.DispatchMessage ()
	 at System.Windows.Forms.XplatUI.DispatchMessage ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at System.Windows.Forms.Application.Run ()
	 at IPalWSSample.FormMain.Main ()


Unhandled Exception: System.NullReferenceException: Object reference not set to an instance of an object
in &lt;0x00000&gt; &lt;unknown method&gt;
in (wrapper managed-to-native) System.Drawing.GDIPlus:GdipFillRectangleI (intptr,intptr,int,int,int,int)
in &lt;0x0003c&gt; System.Drawing.Graphics:FillRectangle (System.Drawing.Brush brush, Int32 x, Int32 y, Int32 width, Int32 height)
in (wrapper remoting-invoke-with-check) System.Drawing.Graphics:FillRectangle (System.Drawing.Brush,int,int,int,int)
in &lt;0x00056&gt; System.Drawing.Graphics:FillRectangle (System.Drawing.Brush brush, Rectangle rect)
in (wrapper remoting-invoke-with-check) System.Drawing.Graphics:FillRectangle (System.Drawing.Brush,System.Drawing.Rectangle)
in &lt;0x000af&gt; System.Windows.Forms.TextBoxBase:PaintControl (System.Windows.Forms.PaintEventArgs pevent)
in (wrapper remoting-invoke-with-check) System.Windows.Forms.TextBoxBase:PaintControl (System.Windows.Forms.PaintEventArgs)
in &lt;0x0007e&gt; System.Windows.Forms.TextBoxBase:WndProc (System.Windows.Forms.Message m)
in &lt;0x0000d&gt; System.Windows.Forms.TextBox:WndProc (System.Windows.Forms.Message m)
in &lt;0x00014&gt; System.Windows.Forms.Control+ControlNativeWindow:WndProc (System.Windows.Forms.Message m)
in &lt;0x0011b&gt; System.Windows.Forms.NativeWindow:WndProc (IntPtr hWnd, Msg msg, IntPtr wParam, IntPtr lParam)
in &lt;0x00016&gt; System.Windows.Forms.XplatUIX11:DispatchMessage (System.Windows.Forms.MSG msg)
in &lt;0x00015&gt; System.Windows.Forms.XplatUI:DispatchMessage (System.Windows.Forms.MSG msg)
in &lt;0x001fa&gt; System.Windows.Forms.Application:Run ()
in &lt;0x000aa&gt; System.Windows.Forms.Application:Run (System.Windows.Forms.ApplicationContext context)
in &lt;0x0002e&gt; System.Windows.Forms.Application:Run (System.Windows.Forms.Form mainForm)
in &lt;0x00021&gt; IPalWSSample.FormMain:Main ()
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001776.html">[Mono-winforms-list] MWF Status?
</A></li>
	<LI>Next message: <A HREF="001780.html">[Mono-winforms-list] Problems with MWF and remote X display
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1779">[ date ]</a>
              <a href="thread.html#1779">[ thread ]</a>
              <a href="subject.html#1779">[ subject ]</a>
              <a href="author.html#1779">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
