<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] WS_EX_TRANSPARENT implementation for the X11	backend
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20WS_EX_TRANSPARENT%20implementation%20for%20the%20X11%0A%09backend&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002970.html">
   <LINK REL="Next"  HREF="002972.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] WS_EX_TRANSPARENT implementation for the X11	backend</H1>
    <B>Ivan N. Zlatev</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20WS_EX_TRANSPARENT%20implementation%20for%20the%20X11%0A%09backend&In-Reply-To="
       TITLE="[Mono-winforms-list] WS_EX_TRANSPARENT implementation for the X11	backend">contact at i-nz.net
       </A><BR>
    <I>Tue Jul 24 05:51:11 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002970.html">[Mono-winforms-list] Transparent Control on X11?
</A></li>
        <LI>Next message: <A HREF="002972.html">[Mono-winforms-list] WS_EX_TRANSPARENT implementation for the	X11 backend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2971">[ date ]</a>
              <a href="thread.html#2971">[ thread ]</a>
              <a href="subject.html#2971">[ subject ]</a>
              <a href="author.html#2971">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have hacked up the following implementation for WS_EX_TRANSPARENT
for the X11 backend. It will try to get a RGBA Visual, create a RGBA
Colormap and set that as the colormap to be used for CreateWindow.

The issue is that even with the RGBA colormap and
BackColor.Transparent set for the control it isn't transparent. I have
tried filling the client area in OnPaintBackground with
Brushes.Transparent but that also just results a black client
rectangle. Could it be that Color.Transparent doesn't match what is
expected by X?

May be someone can take a look and help me to figure out what is
wrong? Patch and test case attached.

Regards.
-- 
Ivan N. Zlatev

Web: <A HREF="http://www.i-nZ.net">http://www.i-nZ.net</A>
&quot;It's all some kind of whacked out conspiracy.&quot;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MWF_X_WS_EX_TRANSPARENT.patch
Type: text/x-patch
Size: 4155 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20070724/00d58598/attachment.bin">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20070724/00d58598/attachment.bin</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: transp.cs
Type: text/x-csharp
Size: 2837 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20070724/00d58598/attachment-0001.bin">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20070724/00d58598/attachment-0001.bin</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002970.html">[Mono-winforms-list] Transparent Control on X11?
</A></li>
	<LI>Next message: <A HREF="002972.html">[Mono-winforms-list] WS_EX_TRANSPARENT implementation for the	X11 backend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2971">[ date ]</a>
              <a href="thread.html#2971">[ thread ]</a>
              <a href="subject.html#2971">[ subject ]</a>
              <a href="author.html#2971">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
