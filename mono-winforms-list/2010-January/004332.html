<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Runtime error accessing Icons in Resources
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Runtime%20error%20accessing%20Icons%20in%20Resources&In-Reply-To=27216187.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004329.html">
   <LINK REL="Next"  HREF="004326.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Runtime error accessing Icons in Resources</H1>
    <B>Carlos Alberto Cortez</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Runtime%20error%20accessing%20Icons%20in%20Resources&In-Reply-To=27216187.post%40talk.nabble.com"
       TITLE="[Mono-winforms-list] Runtime error accessing Icons in Resources">calberto.cortez at gmail.com
       </A><BR>
    <I>Tue Jan 26 15:12:51 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004329.html">[Mono-winforms-list]  Runtime error accessing Icons in Resources
</A></li>
        <LI>Next message: <A HREF="004326.html">[Mono-winforms-list] Native Menu Bars in Winforms on OSX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4332">[ date ]</a>
              <a href="thread.html#4332">[ thread ]</a>
              <a href="subject.html#4332">[ subject ]</a>
              <a href="author.html#4332">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This seems to be a resources issue. Would it be possible to get the code
producing this error, so we could test what's happening?

Carlos.

2010/1/18 georgec &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">giorgos.constantinou at gmail.com</A>&gt;

&gt;<i>
</I>&gt;<i> The following code is running fine on .NET but produces a runtime error
</I>&gt;<i> with
</I>&gt;<i> Mono:
</I>&gt;<i>
</I>&gt;<i>        1:   relationsTreeView.ImageList = new ImageList();
</I>&gt;<i>        2:   relationsTreeView.ImageList.Images.Add(Resources.nodeIcon);
</I>&gt;<i>
</I>&gt;<i> This error exists in all the cases that I reference images and icons from
</I>&gt;<i> the Resources as specified in VS 2008.
</I>&gt;<i> Is there something that I am missing?
</I>&gt;<i> (also MoMA did not find any problems with my code compatibility on mono)
</I>&gt;<i>
</I>&gt;<i> The following error is reported:
</I>&gt;<i>
</I>&gt;<i> Unhandled Exception: System.Reflection.TargetInvocationException: Exception
</I>&gt;<i> has
</I>&gt;<i> been thrown by the target of an invocation. ---&gt;
</I>&gt;<i> System.ComponentModel.Win32Exce
</I>&gt;<i> ption: No valid icon entry were found.
</I>&gt;<i>  at System.Drawing.Icon.InitFromStreamWithSize (System.IO.Stream stream,
</I>&gt;<i> Int32
</I>&gt;<i> width, Int32 height) [0x0056e] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4.2
</I>&gt;<i> .3\mcs\class\System.Drawing\System.Drawing\Icon.cs:807
</I>&gt;<i>  at System.Drawing.Icon..ctor
</I>&gt;<i> (System.Runtime.Serialization.SerializationInfo i
</I>&gt;<i> nfo, StreamingContext context) [0x000b2] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\
</I>&gt;<i> mono-2.4.2.3\mcs\class\System.Drawing\System.Drawing\Icon.cs:229
</I>&gt;<i>  at (wrapper managed-to-native)
</I>&gt;<i> System.Reflection.MonoCMethod:InternalInvoke (o
</I>&gt;<i> bject,object[],System.Exception&amp;)
</I>&gt;<i>  at System.Reflection.MonoCMethod.Invoke (System.Object obj, BindingFlags
</I>&gt;<i> invok
</I>&gt;<i> eAttr, System.Reflection.Binder binder, System.Object[] parameters,
</I>&gt;<i> System.Globa
</I>&gt;<i> lization.CultureInfo culture) [0x000a6] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\m
</I>&gt;<i> ono-2.4.2.3\mcs\class\corlib\System.Reflection\MonoMethod.cs:444
</I>&gt;<i>  --- End of inner exception stack trace ---
</I>&gt;<i>  at System.Reflection.MonoCMethod.Invoke (System.Object obj, BindingFlags
</I>&gt;<i> invok
</I>&gt;<i> eAttr, System.Reflection.Binder binder, System.Object[] parameters,
</I>&gt;<i> System.Globa
</I>&gt;<i> lization.CultureInfo culture) [0x000b8] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\m
</I>&gt;<i> ono-2.4.2.3\mcs\class\corlib\System.Reflection\MonoMethod.cs:450
</I>&gt;<i>  at System.Reflection.MethodBase.Invoke (System.Object obj, System.Object[]
</I>&gt;<i> par
</I>&gt;<i> ameters) [0x00000] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4.2.3\mcs\class
</I>&gt;<i> \corlib\System.Reflection\MethodBase.cs:111
</I>&gt;<i>  at System.Runtime.Serialization.ObjectRecord.LoadData
</I>&gt;<i> (System.Runtime.Serializ
</I>&gt;<i> ation.ObjectManager manager, ISurrogateSelector selector, StreamingContext
</I>&gt;<i> conte
</I>&gt;<i> xt) [0x000d7] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4.2.3\mcs\class\corl
</I>&gt;<i> ib\System.Runtime.Serialization\ObjectManager.cs:578
</I>&gt;<i>  at System.Runtime.Serialization.ObjectManager.DoFixups () [0x00066] in
</I>&gt;<i> C:\cygw
</I>&gt;<i>
</I>&gt;<i> in\tmp\monobuild\build\BUILD\mono-2.4.2.3\mcs\class\corlib\System.Runtime.Serial
</I>&gt;<i> ization\ObjectManager.cs:84
</I>&gt;<i>  at
</I>&gt;<i> System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadNextObject
</I>&gt;<i> (System.IO.BinaryReader reader) [0x0000f] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD
</I>&gt;<i>
</I>&gt;<i> \mono-2.4.2.3\mcs\class\corlib\System.Runtime.Serialization.Formatters.Binary\Ob
</I>&gt;<i> jectReader.cs:115
</I>&gt;<i>  at
</I>&gt;<i> System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadObjectGraph
</I>&gt;<i>  (System.IO.BinaryReader reader, Boolean readHeaders, System.Object&amp;
</I>&gt;<i> result,
</I>&gt;<i> Sys
</I>&gt;<i> tem.Runtime.Remoting.Messaging.Header[]&amp; headers) [0x00041] in
</I>&gt;<i> C:\cygwin\tmp\mon
</I>&gt;<i> obuild\build\BUILD\mono-2.4.2.3\mcs\class\corlib\
</I>&gt;<i> System.Runtime.Serialization.Fo
</I>&gt;<i> rmatters.Binary\ObjectReader.cs:99
</I>&gt;<i>  at
</I>&gt;<i> System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.NoCheckDeser
</I>&gt;<i> ialize (System.IO.Stream serializationStream,
</I>&gt;<i> System.Runtime.Remoting.Messaging.
</I>&gt;<i> HeaderHandler handler) [0x00076] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4
</I>&gt;<i>
</I>&gt;<i> .2.3\mcs\class\corlib\System.Runtime.Serialization.Formatters.Binary\BinaryForma
</I>&gt;<i> tter.cs:177
</I>&gt;<i>  at
</I>&gt;<i> System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize
</I>&gt;<i> (System.IO.Stream serializationStream) [0x00000] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\buil
</I>&gt;<i> d\BUILD\mono-2.4.2.3\mcs\class\corlib\
</I>&gt;<i> System.Runtime.Serialization.Formatters.Bi
</I>&gt;<i> nary\BinaryFormatter.cs:134
</I>&gt;<i>  at System.Resources.ResourceReader.ReadNonPredefinedValue (System.Type
</I>&gt;<i> exp_typ
</I>&gt;<i> e) [0x00000] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4.2.3\mcs\class\corli
</I>&gt;<i> b\System.Resources\ResourceReader.cs:397
</I>&gt;<i>  at System.Resources.ResourceReader.ReadValueVer2 (Int32 type_index)
</I>&gt;<i> [0x001f3]
</I>&gt;<i> in
</I>&gt;<i>
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4.2.3\mcs\class\corlib\System.Reso
</I>&gt;<i> urces\ResourceReader.cs:355
</I>&gt;<i>  at System.Resources.ResourceReader.LoadResourceValues
</I>&gt;<i> (.ResourceCacheItem[] st
</I>&gt;<i> ore) [0x00076] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4.2.3\mcs\class\cor
</I>&gt;<i> lib\System.Resources\ResourceReader.cs:433
</I>&gt;<i>  at System.Resources.ResourceReader+ResourceEnumerator.FillCache ()
</I>&gt;<i> [0x00049] i
</I>&gt;<i> n
</I>&gt;<i>
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4.2.3\mcs\class\corlib\System.Resou
</I>&gt;<i> rces\ResourceReader.cs:686
</I>&gt;<i>  at System.Resources.ResourceReader+ResourceEnumerator..ctor
</I>&gt;<i> (System.Resources.
</I>&gt;<i> ResourceReader readerToEnumerate) [0x00014] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUI
</I>&gt;<i> LD\mono-2.4.2.3\mcs\class\corlib\System.Resources\ResourceReader.cs:588
</I>&gt;<i>  at System.Resources.ResourceReader.GetEnumerator () [0x00016] in
</I>&gt;<i> C:\cygwin\tmp
</I>&gt;<i>
</I>&gt;<i> \monobuild\build\BUILD\mono-2.4.2.3\mcs\class\corlib\System.Resources\ResourceRe
</I>&gt;<i> ader.cs:501
</I>&gt;<i>  at System.Resources.ResourceSet.ReadResources () [0x0003f] in
</I>&gt;<i> C:\cygwin\tmp\mo
</I>&gt;<i>
</I>&gt;<i> nobuild\build\BUILD\mono-2.4.2.3\mcs\class\corlib\System.Resources\ResourceSet.c
</I>&gt;<i> s:228
</I>&gt;<i>  at System.Resources.ResourceSet.GetObjectInternal (System.String name,
</I>&gt;<i> Boolean
</I>&gt;<i>  ignoreCase) [0x00027] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4.2.3\mcs\c
</I>&gt;<i> lass\corlib\System.Resources\ResourceSet.cs:161
</I>&gt;<i>  at System.Resources.ResourceSet.GetObject (System.String name, Boolean
</I>&gt;<i> ignoreC
</I>&gt;<i> ase) [0x00000] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4.2.3\mcs\class\cor
</I>&gt;<i> lib\System.Resources\ResourceSet.cs:185
</I>&gt;<i>  at System.Resources.RuntimeResourceSet.GetObject (System.String name,
</I>&gt;<i> Boolean
</I>&gt;<i> ignoreCase) [0x00016] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\mono-2.4.2.3\mcs\cl
</I>&gt;<i> ass\corlib\System.Resources\RuntimeResourceSet.cs:74
</I>&gt;<i>  at System.Resources.ResourceManager.GetObject (System.String name,
</I>&gt;<i> System.Glob
</I>&gt;<i> alization.CultureInfo culture) [0x00038] in
</I>&gt;<i> C:\cygwin\tmp\monobuild\build\BUILD\
</I>&gt;<i> mono-2.4.2.3\mcs\class\corlib\System.Resources\ResourceManager.cs:212
</I>&gt;<i>  at QV.Visualiser.Properties.Resources.get_objects_067 () [0x00001] in
</I>&gt;<i> C:\QV\Vi
</I>&gt;<i> sualiser\Properties\Resources.Designer.cs:597
</I>&gt;<i>  at QV.Visualiser.Viewer.ViewContainer.initTabControl () [0x0004e] in
</I>&gt;<i> C:\QV\Vis
</I>&gt;<i> ualiser\Viewer\ViewContainer.cs:54
</I>&gt;<i>  at QV.Visualiser.Viewer.ViewContainer..ctor () [0x0001d] in
</I>&gt;<i> C:\QV\Visualiser\V
</I>&gt;<i> iewer\ViewContainer.cs:23
</I>&gt;<i>  at (wrapper remoting-invoke-with-check)
</I>&gt;<i> QV.Visualiser.Viewer.ViewContainer:.ct
</I>&gt;<i> or ()
</I>&gt;<i>  at QV.Visualiser.Visualiser.InitializeComponent () [0x0015b] in
</I>&gt;<i> C:\QV\Visualis
</I>&gt;<i> er\Visualiser.Designer.cs:62
</I>&gt;<i>  at QV.Visualiser.Visualiser..ctor () [0x00016] in
</I>&gt;<i> C:\QV\Visualiser\Visualiser.
</I>&gt;<i> cs:24
</I>&gt;<i>  at (wrapper remoting-invoke-with-check) QV.Visualiser.Visualiser:.ctor ()
</I>&gt;<i>  at QV.Visualiser.Program.Main () [0x0000e] in
</I>&gt;<i> C:\QV\Visualiser\Program.cs:19
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://old.nabble.com/Runtime-error-accessing-Icons-in-Resources-tp27216187p27216187.html">http://old.nabble.com/Runtime-error-accessing-Icons-in-Resources-tp27216187p27216187.html</A>
</I>&gt;<i> Sent from the Mono - WinForms mailing list archive at Nabble.com.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20100126/5954ec3d/attachment-0001.html">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20100126/5954ec3d/attachment-0001.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004329.html">[Mono-winforms-list]  Runtime error accessing Icons in Resources
</A></li>
	<LI>Next message: <A HREF="004326.html">[Mono-winforms-list] Native Menu Bars in Winforms on OSX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4332">[ date ]</a>
              <a href="thread.html#4332">[ thread ]</a>
              <a href="subject.html#4332">[ subject ]</a>
              <a href="author.html#4332">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
