<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] FW: [MonoDevelop] Moving Focus Between Form
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20FW%3A%20%5BMonoDevelop%5D%20Moving%20Focus%20Between%20Form&In-Reply-To=FB5762C98325964D9E7AD9158E8CF990C62D6B%40AUSX3MPS331.aus.amer.dell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003042.html">
   <LINK REL="Next"  HREF="003044.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] FW: [MonoDevelop] Moving Focus Between Form</H1>
    <B>Valentin Sawadski</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20FW%3A%20%5BMonoDevelop%5D%20Moving%20Focus%20Between%20Form&In-Reply-To=FB5762C98325964D9E7AD9158E8CF990C62D6B%40AUSX3MPS331.aus.amer.dell.com"
       TITLE="[Mono-winforms-list] FW: [MonoDevelop] Moving Focus Between Form">valentin.sawadski at gmx.de
       </A><BR>
    <I>Thu Sep 20 12:03:32 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003042.html">[Mono-winforms-list] FW: [MonoDevelop] Moving Focus Between Form
</A></li>
        <LI>Next message: <A HREF="003044.html">[Mono-winforms-list] FW: [MonoDevelop] Moving Focus Between Form
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3043">[ date ]</a>
              <a href="thread.html#3043">[ thread ]</a>
              <a href="subject.html#3043">[ subject ]</a>
              <a href="author.html#3043">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Tri,

On Wed, 2007-09-19 at 16:11 -0500, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Tri_Nguyen at Dell.com</A> wrote:
&gt;<i> Thanks Valentin, you are my hero.  It worked.  However, I hope you do not mind that I ask another question.  I have this routine, and every time I started in &quot;mono&quot; it terminate abruptly.  
</I>
I fear I have to say that I've got absolutely no clue what could be the
cause for the crash.

Could you provide some more information about what went wrong (e.g. a
stack trace or some console output)

Other than that I can only advise you to cc all your messages to the
Winforms list on mono to address a broader audience, so that someone who
actually has got an idea could also respond to your mails.

Kind Regards,
Valentin

&gt;<i> 
</I>&gt;<i>         private void TextFonts()
</I>&gt;<i>         {
</I>&gt;<i>             string sFuncName = &quot;TextFonts&quot;;
</I>&gt;<i> #if !_MONO
</I>&gt;<i>             Control.CheckForIllegalCrossThreadCalls = false;
</I>&gt;<i> #endif
</I>&gt;<i>             //this.WindowState = FormWindowState.Maximized;
</I>&gt;<i>             rCA = this.ClientRectangle;
</I>&gt;<i>             iArea = rCA.Width * rCA.Height;
</I>&gt;<i>             float font;
</I>&gt;<i>             // Create a Graphics object and set its
</I>&gt;<i>             // background as the form's background
</I>&gt;<i>             Graphics g = this.CreateGraphics();
</I>&gt;<i>             g.Clear(this.BackColor);
</I>&gt;<i>             SolidBrush blueBrush = new SolidBrush(Color.FromName(sColor[random.Next(0, 139)]));
</I>&gt;<i>             Font tnrFont = null;
</I>&gt;<i> 
</I>&gt;<i>             for (float i = 1; i &lt;= 1000; i += 1)
</I>&gt;<i>             {
</I>&gt;<i>                 if (bKenny)
</I>&gt;<i>                 {
</I>&gt;<i>                     bKenny = false;
</I>&gt;<i>                     break;
</I>&gt;<i>                 }
</I>&gt;<i> 
</I>&gt;<i>                 try
</I>&gt;<i>                 {
</I>&gt;<i>                     rCA = this.ClientRectangle;
</I>&gt;<i>                     iArea = rCA.Width * rCA.Height;
</I>&gt;<i>                     g = this.CreateGraphics();
</I>&gt;<i>                     font = random.Next(1, 1000) * 10;
</I>&gt;<i>                     // Create font and brushes
</I>&gt;<i>                     tnrFont = new Font(&quot;Times New Roman&quot;, font, FontStyle.Bold, GraphicsUnit.Pixel);
</I>&gt;<i>                     blueBrush = new SolidBrush(Color.FromName(sColor[random.Next(0, 139)]));
</I>&gt;<i>                     g.TextRenderingHint = TextRenderingHint.SystemDefault;
</I>&gt;<i> #if !_MONO
</I>&gt;<i>                     // Gamma correction value 0 - 12. Default is 4.
</I>&gt;<i>                     g.TextContrast = 4;
</I>&gt;<i> #endif
</I>&gt;<i>                     g.TextRenderingHint = TextRenderingHint.AntiAlias;
</I>&gt;<i> #if !_MONO
</I>&gt;<i>                     VideoPerf.Start();
</I>&gt;<i> #elif _MONO
</I>&gt;<i>                     timeStart = DateTime.Now;
</I>&gt;<i> #endif
</I>&gt;<i>                     g.DrawString(&quot;The quick brown fox jumps over a lazy dog!&quot;, tnrFont, blueBrush, new PointF(10, 3 * font));
</I>&gt;<i> #if !_MONO
</I>&gt;<i>                     VideoPerf.Stop();
</I>&gt;<i>                     dDuration += VideoPerf.Duration(1);
</I>&gt;<i> #elif _MONO
</I>&gt;<i>                     timeEnd = DateTime.Now;
</I>&gt;<i>                     timeDifference = timeEnd.Subtract(timeStart);
</I>&gt;<i> #endif
</I>&gt;<i>                     #region Get Peformnace snap shot very 1000
</I>&gt;<i>                     if (i == 1000)
</I>&gt;<i>                     {
</I>&gt;<i>                         if (bKenny)
</I>&gt;<i>                         {
</I>&gt;<i>                             bKenny = false;
</I>&gt;<i>                             break;
</I>&gt;<i>                         }
</I>&gt;<i>                         i = 1;
</I>&gt;<i>                         g.Clear(Color.FromName(sColor[random.Next(0, 139)]));//this.BackColor);
</I>&gt;<i> #if !_MONO
</I>&gt;<i>                         dDuration /= 1000;
</I>&gt;<i> #elif _MONO
</I>&gt;<i>                         dDuration = timeDifference.Seconds;
</I>&gt;<i> #endif
</I>&gt;<i>                         dAvgTime = dDuration / (double)multiplier;
</I>&gt;<i>                         dNumPixels = (int)(iArea * dAvgTime * 1000);
</I>&gt;<i>                         if (bKenny)
</I>&gt;<i>                         {
</I>&gt;<i>                             bKenny = false;
</I>&gt;<i>                             break;
</I>&gt;<i>                         }
</I>&gt;<i>                         this.Text = sFuncName + &quot; [ &quot; + String.Format(&quot;{0:0,0}&quot;, dNumPixels) + &quot; pixels/sec ]&quot;;
</I>&gt;<i>                     }
</I>&gt;<i>                     #endregion
</I>&gt;<i>                 }
</I>&gt;<i>                 catch { }
</I>&gt;<i>             }
</I>&gt;<i>             // Dispose of Graphics object
</I>&gt;<i>             blueBrush.Dispose();
</I>&gt;<i>             if (tnrFont != null)
</I>&gt;<i>             {
</I>&gt;<i>                 tnrFont.Dispose();
</I>&gt;<i>             }
</I>&gt;<i>             g.Dispose();
</I>&gt;<i>         }
</I>&gt;<i> 
</I>&gt;<i> Thanks.
</I>&gt;<i> 
</I>&gt;<i> =Tri.
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Valentin Sawadski [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">valentin.sawadski at gmx.de</A>] 
</I>&gt;<i> Sent: Wednesday, September 19, 2007 3:34 PM
</I>&gt;<i> To: Nguyen, Tri
</I>&gt;<i> Subject: RE: FW: [MonoDevelop] Moving Focus Between Form
</I>&gt;<i> 
</I>&gt;<i> Hello Tri,
</I>&gt;<i> 
</I>&gt;<i> could it be that your are looking for something like that in the attachment?
</I>&gt;<i> 
</I>&gt;<i> And what parts of the code did you not understand, maybe I could help to answer some questions. :-)
</I>&gt;<i> 
</I>&gt;<i> Kind Regards,
</I>&gt;<i> Valentin
</I>&gt;<i> 
</I>&gt;<i> On Wed, 2007-09-19 at 15:22 -0500, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Tri_Nguyen at Dell.com</A> wrote:
</I>&gt;<i> &gt; Thanks for your respond.  I am not sure if I understand your sample code 100%.  However, What I try to achieve here is to be able to stop the child form from the parent form &quot;Stop&quot; or &quot;Exit&quot; button.  I had register an event and if the &quot;Stop&quot; button click, it will signal the child form to close it gracefully.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; -Tri.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Valentin Sawadski [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">valentin.sawadski at gmx.de</A>]
</I>&gt;<i> &gt; Sent: Wednesday, September 19, 2007 1:57 PM
</I>&gt;<i> &gt; To: Nguyen, Tri
</I>&gt;<i> &gt; Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> &gt; Subject: Re: FW: [MonoDevelop] Moving Focus Between Form
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On Wed, 2007-09-19 at 12:36 -0500, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Tri_Nguyen at Dell.com</A> wrote:
</I>&gt;<i> &gt; &gt; Thank you for your respond.  You are right that I am using 
</I>&gt;<i> &gt; &gt; &quot;Form.ShowDialog&quot;.  However, I am using it in both Windows, and Linux.
</I>&gt;<i> &gt; &gt; The reason I am using &quot;Form.ShowDialog&quot; is because I want to monitor 
</I>&gt;<i> &gt; &gt; for the return of the form.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Is there a problem with &quot;Form.ShowDialog&quot;?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; No there is no problem with ShowDialog but it blocks all other Forms of the Application, like you already noticed.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Howerver, a workaround would be to attach a delegate to the Closed 
</I>&gt;<i> &gt; event of the Form and then read out the DialogResult manually. (See 
</I>&gt;<i> &gt; the Attachment for a short sample)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Kind Regards,
</I>&gt;<i> &gt; Valentin S.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Thanks.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; -Tri.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: Valentin Sawadski [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">valentin.sawadski at gmx.de</A>]
</I>&gt;<i> &gt; &gt; Sent: Wednesday, September 19, 2007 10:34 AM
</I>&gt;<i> &gt; &gt; To: Nguyen, Tri
</I>&gt;<i> &gt; &gt; Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> &gt; &gt; Subject: Re: [MonoDevelop] Moving Focus Between Form
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Hello,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; On Fri, 2007-09-14 at 12:41 -0500, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Tri_Nguyen at Dell.com</A> wrote:
</I>&gt;<i> &gt; &gt; &gt; Hi I am new to Mono, and I not sure this is a right place to ask 
</I>&gt;<i> &gt; &gt; &gt; this
</I>&gt;<i> &gt; &gt; &gt; question:
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 1.       I am trying to port a C# Windows app to Mono running on SLES
</I>&gt;<i> &gt; &gt; &gt; 10.1.  The app starts with one form, and base on user input , it 
</I>&gt;<i> &gt; &gt; &gt; can launch other forms.  When this happens, the new form gets 
</I>&gt;<i> &gt; &gt; &gt; focus, and I can click on the previous form (parent?), and get 
</I>&gt;<i> &gt; &gt; &gt; focus.  On mono, the app behaves differently:  I cannot get focus 
</I>&gt;<i> &gt; &gt; &gt; back to the previous, unless I close the new form.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Any help on this matter would be appreciated.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; As far as I know there's no bug in Form.Show, so my guess is that 
</I>&gt;<i> &gt; &gt; you call Form.Show on Windows and changed it to Form.ShowDialog 
</I>&gt;<i> &gt; &gt; while porting to Linux which would explain the behavior you mentioned.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; However I you are sure that this is not the cause for the behavior, 
</I>&gt;<i> &gt; &gt; then please file a bug with a repro at <A HREF="http://bugzilla.novell.com.">http://bugzilla.novell.com.</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Kind Regards,
</I>&gt;<i> &gt; &gt; Valentin S.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; P.S. I cc'ed this message to the winforms list, so that more people 
</I>&gt;<i> &gt; &gt; concerned with WinForm will notice to this issue.
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003042.html">[Mono-winforms-list] FW: [MonoDevelop] Moving Focus Between Form
</A></li>
	<LI>Next message: <A HREF="003044.html">[Mono-winforms-list] FW: [MonoDevelop] Moving Focus Between Form
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3043">[ date ]</a>
              <a href="thread.html#3043">[ thread ]</a>
              <a href="subject.html#3043">[ subject ]</a>
              <a href="author.html#3043">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
