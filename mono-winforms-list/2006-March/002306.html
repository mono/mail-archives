<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] TextBox error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20TextBox%20error&In-Reply-To=2080715.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002305.html">
   <LINK REL="Next"  HREF="002307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] TextBox error</H1>
    <B>lmatter</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20TextBox%20error&In-Reply-To=2080715.post%40talk.nabble.com"
       TITLE="[Mono-winforms-list] TextBox error">cm-nabble at matter.net
       </A><BR>
    <I>Wed Mar 29 19:47:09 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002305.html">[Mono-winforms-list] 1.1.9.2 vs 1.1.13.2
</A></li>
        <LI>Next message: <A HREF="002307.html">[Mono-winforms-list] TextBox error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2306">[ date ]</a>
              <a href="thread.html#2306">[ thread ]</a>
              <a href="subject.html#2306">[ subject ]</a>
              <a href="author.html#2306">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I'm a newcomer to C#; I'm a Java developer by day.  I recently tried to port
a colleague's VS C# app over to Mono, and basically ran into this issue as
well.

I have checked out the latest code (as of yesterday) from svn, built it
using   these instructions , and this code sample below gives the same error
as the poster describes.

I put in some checks into the WinForms code; throwing when illegal values
are encountered and dumping the call trace.  I'm still working my way up,
but my unfamiliarity with this code is slowing me down.  I thought I would
post my current findings to see if someone else knows what's going on.

The minimum and maximum vars in ScrollBar.cs are getting set to an invalid
value (thus the orignal exception about 0 begin invalid), and it stems from
the TextBoxBase document instance.

I added a check in TextControl.cs, Document class, viewport_height property
set method to check for a negative number and throw (this top exception is
my code):

Unhandled Exception: System.Exception: viewport_height Value '-2147483645'
must
be greater than or equal to 0.
in [0x00025] System.Windows.Forms.Document:set_ViewPortHeight (Int32 value)
in [0x00045] (at
/home/lmatter/mono/mcs/class/Managed.Windows.Forms/System.Wind
ws.Forms/TextBoxBase.cs:1404)
System.Windows.Forms.TextBoxBase:TextBoxBase_Size
hanged (System.Object sender, System.EventArgs e)
in (wrapper delegate-invoke)
System.MulticastDelegate:invoke_void_object_EventA
gs (object,System.EventArgs)
in [0x00020] (at
/home/lmatter/mono/mcs/class/Managed.Windows.Forms/System.Wind
ws.Forms/Control.cs:4368) System.Windows.Forms.Control:OnSizeChanged
(System.Ev
ntArgs e)
in [0x000bb] (at
/home/lmatter/mono/mcs/class/Managed.Windows.Forms/System.Wind
ws.Forms/Control.cs:3665) System.Windows.Forms.Control:UpdateBounds (Int32
x, I
t32 y, Int32 width, Int32 height, Int32 clientWidth, Int32 clientHeight)
in [0x00057] (at
/home/lmatter/mono/mcs/class/Managed.Windows.Forms/System.Wind
ws.Forms/Control.cs:3633) System.Windows.Forms.Control:UpdateBounds (Int32
x, I
t32 y, Int32 width, Int32 height)
in [0x00069] (at
/home/lmatter/mono/mcs/class/Managed.Windows.Forms/System.Wind
ws.Forms/Control.cs:3518) System.Windows.Forms.Control:SetBoundsCore (Int32
x, 
nt32 y, Int32 width, Int32 height, BoundsSpecified specified)
in [0x00041] (at
/home/lmatter/mono/mcs/class/Managed.Windows.Forms/System.Wind
ws.Forms/TextBoxBase.cs:1105) System.Windows.Forms.TextBoxBase:SetBoundsCore
(I
t32 x, Int32 y, Int32 width, Int32 height, BoundsSpecified specified)
in [0x00008] (at
/home/lmatter/mono/mcs/class/Managed.Windows.Forms/System.Wind
ws.Forms/Control.cs:3061) System.Windows.Forms.Control:SetBounds (Int32 x,
Int3
 y, Int32 width, Int32 height)
in (wrapper remoting-invoke-with-check)
System.Windows.Forms.Control:SetBounds 
int,int,int,int)
in [0x00376] (at
/home/lmatter/mono/mcs/class/Managed.Windows.Forms/System.Wind
ws.Forms/Control.cs:2867) System.Windows.Forms.Control:PerformLayout
(System.Wi
dows.Forms.Control affectedControl, System.String affectedProperty)
in (wrapper remoting-invoke-with-check)
System.Windows.Forms.Control:PerformLay
ut (System.Windows.Forms.Control,string)
in [0x000d4] (at
/home/lmatter/mono/mcs/class/Managed.Windows.Forms/System.Wind
ws.Forms/Control.cs:343) System.Windows.Forms.Control+ControlCollection:Add
(Sy
tem.Windows.Forms.Control value)
in &lt;0x00058&gt; Form1:.ctor ()
in (wrapper remoting-invoke-with-check) Form1:.ctor ()
in &lt;0x00018&gt; Form1:Main ()

Thanks,
Larry Matter


NEMO777 wrote:
&gt;<i> 
</I>&gt;<i> yeah Ive tried it.
</I>&gt;<i> Ive even tried this:
</I>&gt;<i> using System;
</I>&gt;<i> using System.Drawing;
</I>&gt;<i> using System.Windows.Forms;
</I>&gt;<i> 
</I>&gt;<i> public class Form1 : Form
</I>&gt;<i> {
</I>&gt;<i>  TextBox textBox1 = new TextBox();
</I>&gt;<i> 
</I>&gt;<i>  public Form1()
</I>&gt;<i>  {
</I>&gt;<i>   Controls.Add(textBox1);
</I>&gt;<i>  }
</I>&gt;<i> 
</I>&gt;<i>  static void Main() 
</I>&gt;<i>  {
</I>&gt;<i>   Application.Run(new Form1());
</I>&gt;<i>  }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> and still no use! maybe Ive got something wrong in my system... but what?
</I>&gt;<i> 
</I>--
View this message in context: <A HREF="http://www.nabble.com/TextBox-error-t797793.html#a3662086">http://www.nabble.com/TextBox-error-t797793.html#a3662086</A>
Sent from the Mono - WinForms forum at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20060329/072725a7/attachment.html">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20060329/072725a7/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002305.html">[Mono-winforms-list] 1.1.9.2 vs 1.1.13.2
</A></li>
	<LI>Next message: <A HREF="002307.html">[Mono-winforms-list] TextBox error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2306">[ date ]</a>
              <a href="thread.html#2306">[ thread ]</a>
              <a href="subject.html#2306">[ subject ]</a>
              <a href="author.html#2306">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
