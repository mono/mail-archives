<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Re: [Mono-devel-list] I can't have the listbox working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:varnoux%40atmel.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000567.html">
   <LINK REL="Next"  HREF="000569.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Re: [Mono-devel-list] I can't have the listbox working
   </H1>
    <B>Arnoux Vincent
    </B> 
    <A HREF="mailto:varnoux%40atmel.fr"
       TITLE="[Mono-winforms-list] Re: [Mono-devel-list] I can't have the listbox working">varnoux@atmel.fr
       </A><BR>
    <I>Mon, 24 Nov 2003 11:34:08 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000567.html">[Mono-winforms-list] (no subject)
</A></li>
        <LI> Next message: <A HREF="000569.html">[Mono-winforms-list] Re: [Mono-devel-list] I can't have the listbox working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#568">[ date ]</a>
              <a href="thread.html#568">[ thread ]</a>
              <a href="subject.html#568">[ subject ]</a>
              <a href="author.html#568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.
--------------090204010508000909040206
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

OK, I didn't have a lot of success with this question, however I will 
give it a second try because I really can't figure out the reason why it 
is not working.
Actually, the problem comes from the variable listBox.SelectedItem that 
looks to be null.
I also did a test with listbox.SelectedItems[0]...
Does anybody has any idea ?

Vincent

Arnoux Vincent wrote:

&gt;<i> Dear list members,
</I>&gt;<i> I tried a few things but couldn't make the following code displaying 
</I>&gt;<i> my selected listbox item (i.e. the string &quot;Selected item:&quot; is 
</I>&gt;<i> displayed, but nothing, even a blank line for the item itself).
</I>&gt;<i> This works on .net, but doesn't want to on mono.
</I>&gt;<i> Did I miss anything obvious ?
</I>&gt;<i>
</I>&gt;<i> /#define DEBUG
</I>&gt;<i> // created on 11/11/2003 at 12:08
</I>&gt;<i> using System;
</I>&gt;<i> using System.Collections;
</I>&gt;<i> using System.Windows.Forms;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> public class CreatedForm : System.Windows.Forms.Form
</I>&gt;<i> {
</I>&gt;<i>    private System.Windows.Forms.ListBox listBox;
</I>&gt;<i>    public CreatedForm()
</I>&gt;<i>    {
</I>&gt;<i>        InitializeComponent();
</I>&gt;<i>        start();
</I>&gt;<i>    }
</I>&gt;<i>      void InitializeComponent() {
</I>&gt;<i>        this.listBox = new System.Windows.Forms.ListBox();
</I>&gt;<i>        this.SuspendLayout();
</I>&gt;<i>        //
</I>&gt;<i>        // listBox
</I>&gt;<i>        //
</I>&gt;<i>        //this.listBox.Location = new System.Drawing.Point(16, 16);
</I>&gt;<i>        this.listBox.Name = &quot;listBox&quot;;
</I>&gt;<i>        //this.listBox.Size = new System.Drawing.Size(576, 199);
</I>&gt;<i>        this.listBox.TabIndex = 0;
</I>&gt;<i>        this.listBox.SelectedIndexChanged += new 
</I>&gt;<i> System.EventHandler(this.ListBoxSelectedIndexChanged);
</I>&gt;<i>        //
</I>&gt;<i>        // CreatedForm
</I>&gt;<i>        //
</I>&gt;<i>        this.AutoScaleBaseSize = new System.Drawing.Size(5, 13);
</I>&gt;<i>        //this.ClientSize = new System.Drawing.Size(632, 446);
</I>&gt;<i>        this.Controls.Add(this.listBox);
</I>&gt;<i>        this.Name = &quot;CreatedForm&quot;;
</I>&gt;<i>        this.ResumeLayout(false);
</I>&gt;<i>    }
</I>&gt;<i>      public void start()
</I>&gt;<i>    {
</I>&gt;<i>        listBox.BeginUpdate();
</I>&gt;<i>        for (int i = 0; i &lt; 10; i++)
</I>&gt;<i>        {
</I>&gt;<i>            listBox.Items.Add(&quot;Item &quot; + i);
</I>&gt;<i>        }
</I>&gt;<i>        listBox.EndUpdate();
</I>&gt;<i>    }
</I>&gt;<i>      public static void Main()
</I>&gt;<i>    {
</I>&gt;<i>        CreatedForm f = new CreatedForm();
</I>&gt;<i>        Application.Run(f);
</I>&gt;<i>    }
</I>&gt;<i>      void ListBoxSelectedIndexChanged(object sender, System.EventArgs e)
</I>&gt;<i>    {
</I>&gt;<i>        Console.WriteLine(&quot;Selected item:&quot;);
</I>&gt;<i>        Console.WriteLine(listBox.SelectedItem.ToString());
</I>&gt;<i>    }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> /Best regards,
</I>&gt;<i> Vincent/
</I>&gt;<i> /
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-devel-list mailing list
</I>&gt;<i> <A HREF="mailto:Mono-devel-list@lists.ximian.com">Mono-devel-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
--------------090204010508000909040206
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=ISO-8859-1&quot;&gt;
  &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body text=&quot;#000000&quot; bgcolor=&quot;#ffffff&quot;&gt;
&lt;font size=&quot;-1&quot;&gt;&lt;font face=&quot;Helvetica, Arial, sans-serif&quot;&gt;OK, I didn't
have a lot of success with this question, however I will give it a
second try because I really can't figure out the reason why it is not
working.&lt;br&gt;
&lt;/font&gt;&lt;/font&gt;&lt;font size=&quot;-1&quot;&gt;&lt;font face=&quot;Helvetica, Arial, sans-serif&quot;&gt;Actually,
the problem comes from the variable &lt;/font&gt;&lt;/font&gt;listBox.SelectedItem
&lt;small&gt;&lt;font face=&quot;Helvetica, Arial, sans-serif&quot;&gt;that looks to be null.&lt;br&gt;
I also did a test with listbox.SelectedItems[0]...&lt;br&gt;
Does anybody has any idea ?&lt;br&gt;
&lt;br&gt;
Vincent&lt;br&gt;
&lt;br&gt;
&lt;/font&gt;&lt;/small&gt;Arnoux Vincent wrote:&lt;br&gt;
&lt;blockquote type=&quot;cite&quot; cite=&quot;<A HREF="mailto:mid3FB9F296.3050106@atmel.fr">mid3FB9F296.3050106@atmel.fr</A>&quot;&gt;Dear list
members,
  &lt;br&gt;
I tried a few things but couldn't make the following code displaying my
selected listbox item (i.e. the string &quot;Selected item:&quot; is displayed,
but nothing, even a blank line for the item itself).
  &lt;br&gt;
This works on .net, but doesn't want to on mono.
  &lt;br&gt;
Did I miss anything obvious ?
  &lt;br&gt;
  &lt;br&gt;
/#define DEBUG
  &lt;br&gt;
// created on 11/11/2003 at 12:08
  &lt;br&gt;
using System;
  &lt;br&gt;
using System.Collections;
  &lt;br&gt;
using System.Windows.Forms;
  &lt;br&gt;
  &lt;br&gt;
  &lt;br&gt;
public class CreatedForm : System.Windows.Forms.Form
  &lt;br&gt;
{
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; private System.Windows.Forms.ListBox listBox;
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; public CreatedForm()
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; {
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; InitializeComponent();
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; start();
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; }
  &lt;br&gt;
&amp;nbsp; &amp;nbsp;&amp;nbsp; void InitializeComponent() {
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.listBox = new System.Windows.Forms.ListBox();
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.SuspendLayout();
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; //
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // listBox
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; //
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; //this.listBox.Location = new System.Drawing.Point(16, 16);
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.listBox.Name = &quot;listBox&quot;;
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; //this.listBox.Size = new System.Drawing.Size(576, 199);
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.listBox.TabIndex = 0;
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.listBox.SelectedIndexChanged += new
System.EventHandler(this.ListBoxSelectedIndexChanged);
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; //
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // CreatedForm
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; //
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.AutoScaleBaseSize = new System.Drawing.Size(5, 13);
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; //this.ClientSize = new System.Drawing.Size(632, 446);
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.Controls.Add(this.listBox);
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.Name = &quot;CreatedForm&quot;;
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.ResumeLayout(false);
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; }
  &lt;br&gt;
&amp;nbsp; &amp;nbsp;&amp;nbsp; public void start()
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; {
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; listBox.BeginUpdate();
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; for (int i = 0; i &amp;lt; 10; i++)
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; listBox.Items.Add(&quot;Item &quot; + i);
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; listBox.EndUpdate();
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; }
  &lt;br&gt;
&amp;nbsp; &amp;nbsp;&amp;nbsp; public static void Main()
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; {
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; CreatedForm f = new CreatedForm();
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Application.Run(f);
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; }
  &lt;br&gt;
&amp;nbsp; &amp;nbsp;&amp;nbsp; void ListBoxSelectedIndexChanged(object sender, System.EventArgs
e)
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; {
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Console.WriteLine(&quot;Selected item:&quot;);
  &lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Console.WriteLine(listBox.SelectedItem.ToString());
  &lt;br&gt;
&amp;nbsp;&amp;nbsp; }
  &lt;br&gt;
}
  &lt;br&gt;
  &lt;br&gt;
/Best regards,
  &lt;br&gt;
Vincent/
  &lt;br&gt;
/
  &lt;br&gt;
  &lt;br&gt;
  &lt;br&gt;
_______________________________________________
  &lt;br&gt;
Mono-devel-list mailing list
  &lt;br&gt;
&lt;a class=&quot;moz-txt-link-abbreviated&quot; href=&quot;mailto:<A HREF="mailto:Mono-devel-list@lists.ximian.com">Mono-devel-list@lists.ximian.com</A>&quot;&gt;<A HREF="mailto:Mono-devel-list@lists.ximian.com">Mono-devel-list@lists.ximian.com</A>&lt;/a&gt;
  &lt;br&gt;
&lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list"">http://lists.ximian.com/mailman/listinfo/mono-devel-list&quot;</A>&gt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list</a">http://lists.ximian.com/mailman/listinfo/mono-devel-list&lt;/a</A>&gt;
  &lt;br&gt;
  &lt;br&gt;
  &lt;br&gt;
  &lt;br&gt;
&lt;/blockquote&gt;
&lt;/body&gt;
&lt;/html&gt;

--------------090204010508000909040206--



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000567.html">[Mono-winforms-list] (no subject)
</A></li>
	<LI> Next message: <A HREF="000569.html">[Mono-winforms-list] Re: [Mono-devel-list] I can't have the listbox working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#568">[ date ]</a>
              <a href="thread.html#568">[ thread ]</a>
              <a href="subject.html#568">[ subject ]</a>
              <a href="author.html#568">[ author ]</a>
         </LI>
       </UL>
</body></html>
