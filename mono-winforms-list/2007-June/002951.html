<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Using PropertyGrid with UITypeEditor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Using%20PropertyGrid%20with%20UITypeEditor&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002950.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Using PropertyGrid with UITypeEditor</H1>
    <B>Mike Deskevich</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Using%20PropertyGrid%20with%20UITypeEditor&In-Reply-To="
       TITLE="[Mono-winforms-list] Using PropertyGrid with UITypeEditor">mikedeskevich at gmail.com
       </A><BR>
    <I>Sun Jun 24 15:02:14 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002950.html">[Mono-winforms-list] Philosophical Question - Why .NET on UNIX?
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2951">[ date ]</a>
              <a href="thread.html#2951">[ thread ]</a>
              <a href="subject.html#2951">[ subject ]</a>
              <a href="author.html#2951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm having a problem that I can't seem to figure out.  I created a
class that has a public property with an array of enums.  I would like
to have an Editor that allows the user select 0 or more enums to
populate this array.  My problem is that the PropertyGrid won't
display either the elipses or the dropdown button for me.

Below is an example of the how I have the classes set up.  When i
create a PropertyGrid and set the SelectedObject to an instance of
ClassToEdit all the properties show up how they're supposed to except
for the array of MyEnum.

Any hints?  I've looked through the MSDN and it looks like I'm
implementing this just like all of the examples.

public class ClassToEdit
{
   //didn't copy the other simple properties here

   //here's my custom type
   MyEnum[] m_enums;
   [Editor(typeof(MyEnumArrayEditor),typeof(UITypeEditor))]
   property MyEnum[] enums
   {
      get
      {
         return m_enums;
       }
       set
       {
          m_enums=value;
       }
   }
}

public class MyEnumArrayEdior : UITypeEditor
  {
    private IWindowsFormsEditorService edSvc;
		
    public override UITypeEditorEditStyle
GetEditStyle(ITypeDescriptorContext context)
    {
       return UITypeEditorEditStyle.DropDown;
    }

    public override Object EditValue(ITypeDescriptorContext context,
IServiceProvider provider, Object value)
    {
        //populate the combo box and stuff here
    }
  }
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002950.html">[Mono-winforms-list] Philosophical Question - Why .NET on UNIX?
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2951">[ date ]</a>
              <a href="thread.html#2951">[ thread ]</a>
              <a href="subject.html#2951">[ subject ]</a>
              <a href="author.html#2951">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
