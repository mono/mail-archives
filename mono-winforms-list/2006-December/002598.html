<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Private ImageList methods removed in r69012
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Private%20ImageList%20methods%20removed%20in%20r69012&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002604.html">
   <LINK REL="Next"  HREF="002600.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Private ImageList methods removed in r69012</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Private%20ImageList%20methods%20removed%20in%20r69012&In-Reply-To="
       TITLE="[Mono-winforms-list] Private ImageList methods removed in r69012">kornelpal at gmail.com
       </A><BR>
    <I>Wed Dec  6 10:43:30 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002604.html">[Mono-winforms-list] Private ImageList methods removed	in	r69012
</A></li>
        <LI>Next message: <A HREF="002600.html">[Mono-winforms-list] Private ImageList methods removed in	r69012
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2598">[ date ]</a>
              <a href="thread.html#2598">[ thread ]</a>
              <a href="subject.html#2598">[ subject ]</a>
              <a href="author.html#2598">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I got some weird results (I used Visual Studio 2005):
Private Reset... methods are ignored but private ShouldSerialize... methods 
are used.

Previously I didn't realize this behavior.

Note ShouldSerialize... does not affect the property browser but affects the 
designer generated code and it is definitely affected by private 
ShouldSerialize... methods.

Previosuly I added this comment:
// MS.NET 2.0 initializes TransparentColor to Color.Transparent in
// constructors but ResetTransparentColor and 
ShouldSerializeTransparentColor
// default to Color.LightGray that is treated as a bug.

But now that .NET Framework 2.0 is already released and this wasn't fixed we 
should follow MS.NET behavior if we reintroduce the remove methods.

The private Reset... methods are ignored by Visual Studio and I'm not sure 
whether we should implement them:
- Implementing them is good because it provides consistency with 
ShouldSerialize... that follows the specification 
(<A HREF="http://msdn2.microsoft.com/en-us/library/53b8022e.aspx">http://msdn2.microsoft.com/en-us/library/53b8022e.aspx</A>) and other designers 
can use it and future Visual Studio versions may use it.
- Implementing them is useless because they are not used.

I think we should implement ShouldSerialize... methods because they are 
used.

Korn&#233;l

----- Original Message ----- 
From: &quot;Greg Creme&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">gcreme at ncsadvantage.com</A>&gt;
To: &quot;'Chris Toshok'&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">toshok at ximian.com</A>&gt;; &quot;'Korn&#233;l P&#225;l'&quot; 
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">kornelpal at gmail.com</A>&gt;
Cc: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list at lists.ximian.com</A>&gt;
Sent: Wednesday, December 06, 2006 3:59 PM
Subject: RE: [Mono-winforms-list] Private ImageList methods removed in 
r69012


Hi Chris,

I had a minute so I did what you asked in vs2003.

For the imagelist properties:
1.  Color Depth:
Initial:  Property name is not bold, property value is not bold,
reset disabled.
Changed:  Property name is not bold, property value becomes bold,
reset is enabled.

2.  ImageSize and Transparent Color (both act the same)
Initial:  Property name is not bold, property value is bold, reset
disabled.
Changed:  Property name is not bold, property value is bold, reset
disabled.

Hope this helps.

Thanks,
Greg

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list-bounces at lists.ximian.com</A>] On Behalf Of Chris
Toshok
Sent: Wednesday, December 06, 2006 9:47 AM
To: Korn&#233;l P&#225;l
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list at lists.ximian.com</A>
Subject: Re: [Mono-winforms-list] Private ImageList methods removed in
r69012

so I just brought up visual c# express (which is admittedly 2.0) and
none of the image list properties affected (ColorDepth, ImageSize,
TransparentColor) acted as if they had a Reset or ShouldSerialize
method.

from that article, an easy way to determine this is:

1. select the ImageList in the design surface.

2. Look at its properties.  If a property is in bold, it doesn't have a
ShouldSerialize method (and also doesn't have a DefaultValue attribute,
but that's irrelevant here).

3. change the value of the property, then right click on it.  If the
&quot;Reset&quot; item in the menu is disabled ,the property lacks a Reset method
(and also lacks a DefaultValue attribute, but again that's irrelevant).

in all three cases, the property was bold at the start, and the reset
menu item was never enabled.  Would someone mind doing the above 3 steps
on those three properties inside vs2003?

are these methods used in another context outside of designers?  If not,
I'd say removing them was the right change.  If they're needed in 1.1
I'll add them back in ifdefed for 1.1 and make them internal instead of
private to keep the warnings down.

Chris

On Wed, 2006-12-06 at 09:24 -0500, Chris Toshok wrote:
&gt;<i> do we know that the designer in visual studio behaves as if it can call
</I>&gt;<i> these methods?  The designers of course have to use reflection to find
</I>&gt;<i> the methods, but in the other cases these methods aren't private.  If
</I>&gt;<i> visual studio behaves as if the methods are there, we have another piece
</I>&gt;<i> (besides the msdn docs and corcompare output) we need to look at to see
</I>&gt;<i> which methods needs implementing.
</I>&gt;<i>
</I>&gt;<i> Chris
</I>&gt;<i>
</I>&gt;<i> On Wed, 2006-12-06 at 14:37 +0100, Korn&#233;l P&#225;l wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The removed methods were private but they were intended to be used by
</I>&gt;<i> &gt; designers.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This feauture is documented:
</I>&gt;<i> &gt; <A HREF="http://msdn2.microsoft.com/en-us/library/53b8022e.aspx">http://msdn2.microsoft.com/en-us/library/53b8022e.aspx</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Also note that I noticed the behavior in Visual Studio designer that can
</I>
&gt;<i> &gt; only be implemented using these methods.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; And I belive that it is legal to call these methods using reflection and
</I>
&gt;<i> &gt; study their behavior altough it wasn't necessary.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Applications should not rely on the presence or absence of these methods
</I>if
&gt;<i> &gt; they are private but a properly implemented designer (or maybe other
</I>&gt;<i> &gt; applications) can call these methods and the absence of these methods
</I>will
&gt;<i> &gt; result in different designer behavior regarding the default property
</I>values.
&gt;<i> &gt;
</I>&gt;<i> &gt; Korn&#233;l
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>
_______________________________________________
Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>

-- 
I am using the free version of SPAMfighter for private users.
It has removed 1118 spam emails to date.
Paying users do not have this message in their emails.
Get the free SPAMfighter here: <A HREF="http://www.spamfighter.com">http://www.spamfighter.com</A>

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002604.html">[Mono-winforms-list] Private ImageList methods removed	in	r69012
</A></li>
	<LI>Next message: <A HREF="002600.html">[Mono-winforms-list] Private ImageList methods removed in	r69012
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2598">[ date ]</a>
              <a href="thread.html#2598">[ thread ]</a>
              <a href="subject.html#2598">[ subject ]</a>
              <a href="author.html#2598">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
