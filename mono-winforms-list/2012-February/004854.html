<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] winform drag and drop functionality
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-winforms-list%5D%20winform%20drag%20and%20drop%20functionality&In-Reply-To=%3C1329915265411-4410189.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004853.html">
   <LINK REL="Next"  HREF="004855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] winform drag and drop functionality</H1>
    <B>savita</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-winforms-list%5D%20winform%20drag%20and%20drop%20functionality&In-Reply-To=%3C1329915265411-4410189.post%40n4.nabble.com%3E"
       TITLE="[Mono-winforms-list] winform drag and drop functionality">savita.dhole at ness.com
       </A><BR>
    <I>Wed Feb 22 12:54:25 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="004853.html">[Mono-winforms-list] Help needed publishing winforms c# project to mac using mono?
</A></li>
        <LI>Next message: <A HREF="004855.html">[Mono-winforms-list] winform drag and drop functionality
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4854">[ date ]</a>
              <a href="thread.html#4854">[ thread ]</a>
              <a href="subject.html#4854">[ subject ]</a>
              <a href="author.html#4854">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We have developed a drag and drop functionality in .net win form using c#. 
drag sourse is list box
drag target is textbox.

It doesn't give any error when compiled in mono. However the drag and drop
functionality doesn't work in mono. The text in texbox set as a blank when
dragged a list item from listbox. It works fine in .net.
Kindly help and let me know what I am missing.

I have set the 

this.textBox1.AllowDrop = true;
this.listBox1.MouseDown += new
System.Windows.Forms.MouseEventHandler(this.listBox1_MouseDown);
this.textBox1.DragDrop += new
System.Windows.Forms.DragEventHandler(this.textBox1_DragDrop);
this.textBox1.DragEnter += new
System.Windows.Forms.DragEventHandler(this.textBox1_DragEnter);
--------------------------------------------
 public Form1()
        {
            InitializeComponent();
            listBox1.Items.Add(&quot;ABC&quot;);
            listBox1.Items.Add(&quot;XYZ&quot;);
            listBox1.Items.Add(&quot;AAA&quot;);
        }

        private void textBox1_DragEnter(object sender, DragEventArgs e)
        {
            if (e.Data.GetDataPresent(DataFormats.Text))
                e.Effect = DragDropEffects.Copy;
            else
                e.Effect = DragDropEffects.None;

        }        

        private void textBox1_DragDrop(object sender, DragEventArgs e)
        {

            textBox1.Text =
(string)e.Data.GetData(DataFormats.StringFormat); ;
         
        }



        private void listBox1_MouseDown(object sender, MouseEventArgs e)
        {
            
            listBox1.DoDragDrop(listBox1.SelectedItem.ToString(),
DragDropEffects.Copy);
         

        }
---------------------------------------------------------

Note : I have also refered the 'Dragging Text' code from
<A HREF="http://zetcode.com/tutorials/monowinformstutorial/dragdrop/">http://zetcode.com/tutorials/monowinformstutorial/dragdrop/</A> . This also
doesn't work when compiled in mono.

--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/winform-drag-and-drop-functionality-tp4410189p4410189.html">http://mono.1490590.n4.nabble.com/winform-drag-and-drop-functionality-tp4410189p4410189.html</A>
Sent from the Mono - WinForms mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20120222/934d1195/attachment.html">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20120222/934d1195/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004853.html">[Mono-winforms-list] Help needed publishing winforms c# project to mac using mono?
</A></li>
	<LI>Next message: <A HREF="004855.html">[Mono-winforms-list] winform drag and drop functionality
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4854">[ date ]</a>
              <a href="thread.html#4854">[ thread ]</a>
              <a href="subject.html#4854">[ subject ]</a>
              <a href="author.html#4854">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
