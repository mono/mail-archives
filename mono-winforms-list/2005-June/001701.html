<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> WG: RE: [Mono-winforms-list] An annoying problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=WG%3A%20RE%3A%20%5BMono-winforms-list%5D%20An%20annoying%20problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001700.html">
   <LINK REL="Next"  HREF="001702.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>WG: RE: [Mono-winforms-list] An annoying problem</H1>
    <B>Matthias Felgner</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=WG%3A%20RE%3A%20%5BMono-winforms-list%5D%20An%20annoying%20problem&In-Reply-To="
       TITLE="WG: RE: [Mono-winforms-list] An annoying problem">matthiasf at voelcker.com
       </A><BR>
    <I>Wed Jun  8 11:06:04 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001700.html">[Mono-winforms-list] An annoying problem
</A></li>
        <LI>Next message: <A HREF="001702.html">[Mono-winforms-list] Re: Mono-winforms-list Digest, Vol 2, Issue 6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1701">[ date ]</a>
              <a href="thread.html#1701">[ thread ]</a>
              <a href="subject.html#1701">[ subject ]</a>
              <a href="author.html#1701">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Solution (WorkAround) doesn't Work for me unfortunately.....

Still get

Mono System.Windows.Forms Assembly [Revision: 44786; built: 2005/5/25 22:34:45]

Unhandled Exception: System.TypeInitializationException: An exception was thrown by the type initializer for System.Windows.Forms.XplatUI ---&gt;
System.DllNotFoundException:
in (wrapper managed-to-native) System.Windows.Forms.XplatUIX11:XInitThreads () in &lt;0x0006f&gt; System.Windows.Forms.XplatUIX11:.ctor () in &lt;0x0003f&gt; System.Windows.Forms.XplatUIX11:GetInstance () in &lt;0x00061&gt; System.Windows.Forms.XplatUI:.cctor ()--- End of inner exception stack trace ---

in &lt;0x00000&gt; &lt;unknown method&gt;
in &lt;0x00049&gt; System.Windows.Forms.Form:get_CreateParams ()
in &lt;0x0022f&gt; System.Windows.Forms.Control:.ctor ()
in &lt;0x00011&gt; System.Windows.Forms.ScrollableControl:.ctor ()
in &lt;0x00010&gt; System.Windows.Forms.ContainerControl:.ctor ()
in &lt;0x00010&gt; System.Windows.Forms.Form:.ctor ()
in &lt;0x00017&gt; WaitCursorTestApp.Form1:.ctor ()
in (wrapper remoting-invoke-with-check) WaitCursorTestApp.Form1:.ctor () in &lt;0x0001a&gt; WaitCursorTestApp.Form1:Main ()

--Matt


I posted this and Miguel answered previously with a workaround (I don't know about a fix). I put Miguel's answer below.

Hello,

&gt;<i>      Sorry all, this is probably easy but I can't figure it out. I was
</I>
&gt;<i> running fine until I just updated from SVN (my source was maybe a week
</I>
&gt;<i> old). Now I get the following when I run a test app; obviously it
</I>&gt;<i> can't find the X11 lib. SWF apps were working prior to my updating  
</I>&gt;<i> from SVN; did something change? I have libX11.so.6.2 in my  
</I>&gt;<i> /usr/X11R6/lib/ directory, and that path is in my /etc/ld.so.conf file
</I>
&gt;<i> (if that provides any info).
</I>
I had the exact same issue, I had to edit my LD_LIBRARY_PATH to point to /usr/X11R6/lib to make it work.

Am not sure why this is happening, I think the intention was to not depend on the &quot;-devel&quot; packages which are the ones that ship the version-less .so

In this process, someone forgot to test the code.

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list-bounces at lists.ximian.com</A>] On Behalf Of Paul Johnson
Sent: Wednesday, June 08, 2005 10:40 AM
To: winforms
Subject: [Mono-winforms-list] An annoying problem

Hi,

Whenever I try to run a program compiled against MWF, I keep getting the same error

Unhandled Exception: System.TypeInitializationException: An exception was thrown by the initializer for System.Windows.Forms.XplatUI ---&gt;
System.DllNotFoundException: libX11.so.6.2

I know this has come up before and from what I remember when Miguel flagged it up was that there was a problem within XplatUI.

Is there a work around or will XplatUI be getting fixed sometime in the not too distant future?

TTFN

Paul
-- 
&quot;He's not the Messiah, he's a very naughty boy&quot;
- Life of Brian, Monty Python

_______________________________________________
Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>

Hi,

I managed to reproduce the Problem on another machine...I had Mono 1.1.7 running on Suse 9.2, upgraded to SVN almost the same error occurred...except that the System.DllNotFoundException was stating libX11.so.6.2 was missing, which it is definitely not, and also the proper symlinks are there. Downgradeed to 1.1.7 Release...Everything is working again...

If I only substitute the System.Windows.Forms.dll in 1.1.7 with SVN Version, System.Windows.Forms Applications still run....Problem appears to be deeper...

Code, that causes the Problem (any SWF App, but also as simple code as following):

using System;
using System.Windows.Forms;

namespace WelcomeGUI
{
   class Welcome
   {
      public static void Main( string[] args )
      {
         MessageBox.Show( &quot;Welcome\nto\nC#\nprogramming!&quot; );
      }
   }
}


Thanks

--Matt

-----Urspr&#252;ngliche Nachricht-----
Von: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-list-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-list-bounces at lists.ximian.com</A>] Im Auftrag von Paul
Gesendet: Dienstag, 7. Juni 2005 23:27
An: Mono List
Betreff: Re: AW: [Mono-list] System.Windows.Forms not working

Hi,

&gt;<i> String is hardcoded in 
</I>&gt;<i> mcs/class/Managed.Windows.Forms/System.Windows.Forms/XplatUI.cs
</I>&gt;<i> 
</I>&gt;<i> Console.WriteLine(&quot;Mono System.Windows.Forms Assembly [Revision: 
</I>&gt;<i> 44786; built: 2005/5/25 22:34:45]&quot;);
</I>
What code caused the error to be generated?

TTFN

Paul
-- 
&quot;Space&quot;, it says, &quot;is big. Really big. You just won't believe how vastly, hugely, mind-bogglingly big space really is. I mean, you may think it's a long way down the road to the chemists, but that's just
*peanuts* compared to space, listen&quot; - Hitch Hikers Guide to the Galaxy _______________________________________________
Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-list at lists.ximian.com</A> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>

Hello

I have latest SVN Version...

String is hardcoded in mcs/class/Managed.Windows.Forms/System.Windows.Forms/XplatUI.cs

Console.WriteLine(&quot;Mono System.Windows.Forms Assembly [Revision: 44786; built: 2005/5/25 22:34:45]&quot;);

--Matt


-----Urspr&#252;ngliche Nachricht-----
Von: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-list-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-list-bounces at lists.ximian.com</A>] Im Auftrag von Paul Johnson
Gesendet: Dienstag, 7. Juni 2005 15:33
An: mono
Betreff: Re: [Mono-list] System.Windows.Forms not working

Hi,

&gt;<i> Mono System.Windows.Forms Assembly [Revision: 44786; built: 2005/5/25 
</I>&gt;<i> 22:34:45]
</I>
That's quite old. Have you done a fresh checkout and build and seen if the problem still exists?

TTFN

Paul
-- 
&quot;He's not the Messiah, he's a very naughty boy&quot;
- Life of Brian, Monty Python

_______________________________________________
Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-list at lists.ximian.com</A> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>



Hi

I can't figure out what my problem is here...I am running Gentoo Linux, mono from svn... System.Windows.Forms used to work, now it doesn't anymore....Which dll is missing? Somebody please help...

This is the output...

Mono System.Windows.Forms Assembly [Revision: 44786; built: 2005/5/25 22:34:45]

Unhandled Exception: System.TypeInitializationException: An exception was thrown by the type initializer for System.Windows.Forms.XplatUI ---&gt;
System.DllNotFoundException:
in (wrapper managed-to-native) System.Windows.Forms.XplatUIX11:XInitThreads () in &lt;0x0006f&gt; System.Windows.Forms.XplatUIX11:.ctor () in &lt;0x0003f&gt; System.Windows.Forms.XplatUIX11:GetInstance () in &lt;0x00061&gt; System.Windows.Forms.XplatUI:.cctor ()--- End of inner exception stack trace ---

in &lt;0x00000&gt; &lt;unknown method&gt;
in &lt;0x00049&gt; System.Windows.Forms.Form:get_CreateParams ()
in &lt;0x0022f&gt; System.Windows.Forms.Control:.ctor ()
in &lt;0x00011&gt; System.Windows.Forms.ScrollableControl:.ctor ()
in &lt;0x00010&gt; System.Windows.Forms.ContainerControl:.ctor ()
in &lt;0x00010&gt; System.Windows.Forms.Form:.ctor ()
in &lt;0x00017&gt; WaitCursorTestApp.Form1:.ctor ()
in (wrapper remoting-invoke-with-check) WaitCursorTestApp.Form1:.ctor () in &lt;0x0001a&gt; WaitCursorTestApp.Form1:Main ()

Thanks

--Matt
_______________________________________________
Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-list at lists.ximian.com</A> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001700.html">[Mono-winforms-list] An annoying problem
</A></li>
	<LI>Next message: <A HREF="001702.html">[Mono-winforms-list] Re: Mono-winforms-list Digest, Vol 2, Issue 6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1701">[ date ]</a>
              <a href="thread.html#1701">[ thread ]</a>
              <a href="subject.html#1701">[ subject ]</a>
              <a href="author.html#1701">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
