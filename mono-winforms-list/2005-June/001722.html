<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Important ResourceManager notes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Important%20ResourceManager%20notes&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001724.html">
   <LINK REL="Next"  HREF="001713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Important ResourceManager notes</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Important%20ResourceManager%20notes&In-Reply-To="
       TITLE="[Mono-winforms-list] Important ResourceManager notes">kornelpal at hotmail.com
       </A><BR>
    <I>Fri Jun 10 13:57:07 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001724.html">[Mono-winforms-list] Important ResourceManager notes
</A></li>
        <LI>Next message: <A HREF="001713.html">AW: [Mono-winforms-list] An annoying problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1722">[ date ]</a>
              <a href="thread.html#1722">[ thread ]</a>
              <a href="subject.html#1722">[ subject ]</a>
              <a href="author.html#1722">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>I suggest to have our ResourceManager be smarter than MS's one, and
</I>&gt;<i>first search non-neutral resources in the main assembly and just try
</I>&gt;<i>the sattelite ones if not found. That way we are compatible with
</I>&gt;<i>VS.NET projects generated assembly-sets but can accomodate a basic set
</I>&gt;<i>of localizations in just one assembly, what would be nicer to compile
</I>&gt;<i>and package/distribute.
</I>
I have the opinion that it were better to first look in the main assembly
for non-neutral resources as well. But Mono has the policy (for good reason)
to provied compatibility with MS.NET.

And if an application assumes any of these two orderst it will not be
compatible with the other one.

Assuming main assembly first satellite next (current Mono behaviour) or
satellite first main next (that is not used and was not used in Mono):
.NET Framework simply will ignore non-neutral assemblies in main assembly an
behave the same as they werent exists at all. This is a stange
incompatibility.

Assuming main-only neutral and satellite-only others (.NET Framework
behaviour in all versions):
Probably it will run exactly the same on Mono unless there are non-neutral
resource in the main assembly as well because in this case they will be used
on Mono instead of the satellite assembly. This incompatibility could be
accepted but the other one not.

&gt;<i>Or maybe the order should be reversed to allow for updated
</I>&gt;<i>localizations being distributed as sattellites and override the basic
</I>&gt;<i>internal set. Opinions are welcome.
</I>
Of course it is possible to use an overriden resource manager that reads
assemblies in different order but I think it's better if localized resources
can be distributed or updated independently of the code files.

For example .NET Framework has language packs and you can install as many as
you want but you don't have to install all of them if you know that you will
not need them.

And as Mono is maintained by a lot of people each language can have it's own
releases independent of the code files.

So I think the best solution is to move each non-neutral resource to
separate satellite assemblies.

I will post the updated ResourceManager to mono-devel-list as soon as both
the test suite and the class will be complete because the class is poorly
documented and has a lot of undocumented behaviour. Furthermore it will be
one of the most important classes of corlib when it will be used to localize
it's texts as every object will use it so it has to have a very extensive
test suite.

Korn&#233;l

On 6/10/05, Korn&#233;l P&#225;l &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">kornelpal at hotmail.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am about post an extenive ResourceManager patch.
</I>&gt;<i> I am still working on the test unit to make discover the correct behaviour
</I>&gt;<i> of ResourceManager and prevent regressions.
</I>&gt;<i>
</I>&gt;<i> There were a lot of differences between Mono and .NET Framework
</I>&gt;<i> implementation.
</I>&gt;<i>
</I>&gt;<i> The most important that will break Managed.Windows.Forms is that neutral
</I>&gt;<i> resources has to be read from the main assembly any other resources has to
</I>&gt;<i> be read from the appropriate satellite assembly.
</I>&gt;<i>
</I>&gt;<i> System.Windows.Forms.dll contains all the cultures of resources in the
</I>&gt;<i> main
</I>&gt;<i> assembly and only the neutral resources will be available in
</I>&gt;<i> ResourceManager
</I>&gt;<i> after the patch.
</I>&gt;<i>
</I>&gt;<i> Note that this change does not effect GetManifestResourceStream but it
</I>&gt;<i> should not be used with localizable resources. (Managed.Windows.Forms is
</I>&gt;<i> not
</I>&gt;<i> using GetManifestResourceStream for localization)
</I>&gt;<i>
</I>&gt;<i> Korn&#233;l
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>&gt;<i>
</I>

--
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
I'm trying to become a &quot;Rosh Gadol&quot; before my own eyes.
See <A HREF="http://www.joelonsoftware.com/items/2004/12/06.html">http://www.joelonsoftware.com/items/2004/12/06.html</A> for enlightment.
It hurts!

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001724.html">[Mono-winforms-list] Important ResourceManager notes
</A></li>
	<LI>Next message: <A HREF="001713.html">AW: [Mono-winforms-list] An annoying problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1722">[ date ]</a>
              <a href="thread.html#1722">[ thread ]</a>
              <a href="subject.html#1722">[ subject ]</a>
              <a href="author.html#1722">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
