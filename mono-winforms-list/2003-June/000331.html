<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] SWF with WineLib on Suse
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pigolkine%40gmx.de">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000337.html">
   <LINK REL="Next"  HREF="000336.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] SWF with WineLib on Suse
   </H1>
    <B>Alexandre Pigolkine
    </B> 
    <A HREF="mailto:pigolkine%40gmx.de"
       TITLE="[Mono-winforms-list] SWF with WineLib on Suse">pigolkine@gmx.de
       </A><BR>
    <I>01 Jun 2003 22:13:48 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="000337.html">[Mono-winforms-list] Reference missing in makefile?
</A></li>
        <LI> Next message: <A HREF="000336.html">[Mono-winforms-list] SWF with WineLib on Suse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#331">[ date ]</a>
              <a href="thread.html#331">[ thread ]</a>
              <a href="subject.html#331">[ subject ]</a>
              <a href="author.html#331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I have some progress in running SWF applications with WineLib
on Suse. Hope that this information will be useful.

I already wrote that SWF applications hang at call to
	NTDLL_LoadLibraryA (&quot;user32.dll&quot;);

I tracked it down to 

opengl_handle = wine_dlopen(SONAME_LIBGL, RTLD_NOW|RTLD_GLOBAL, 
			NULL, 0); 
in graphics/x11drv/opengl.c.

applications hang at a call to dlopen(&quot;libGL.so.1&quot;, 258);

I tried to call dlopen from some other places (PROCESS_InitWine,
InitDllMain of x11drv). The result is the same.
May be this is connected to initialization sequence of GL libraries.
libGL depends on libXext and libX11 which get initialized
earlier (together with libx11drv.dll.so).

To check this, I changed initialization order by adding a line 
	dlopen(&quot;libGL.so.1&quot;, 1); 
to the mini_init(const char *filename) function and now applications
do not hang. 

This is not an appropriate solution, of course. I hope that we can 
find a better one.

And still, I have to start win32server manually before running
applications and WineLib does not paint menu nicely, etc.

Alexandre

 


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000337.html">[Mono-winforms-list] Reference missing in makefile?
</A></li>
	<LI> Next message: <A HREF="000336.html">[Mono-winforms-list] SWF with WineLib on Suse
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#331">[ date ]</a>
              <a href="thread.html#331">[ thread ]</a>
              <a href="subject.html#331">[ subject ]</a>
              <a href="author.html#331">[ author ]</a>
         </LI>
       </UL>
</body></html>
