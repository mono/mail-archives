<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] swf
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:peter%40novonyx.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001086.html">
   <LINK REL="Next"  HREF="001088.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] swf
   </H1>
    <B>Peter Dennis Bartok
    </B> 
    <A HREF="mailto:peter%40novonyx.com"
       TITLE="[Mono-winforms-list] swf">peter@novonyx.com
       </A><BR>
    <I>Sat, 30 Oct 2004 04:30:59 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="001086.html">[Mono-winforms-list] swf
</A></li>
        <LI> Next message: <A HREF="001088.html">[Mono-winforms-list] swf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1087">[ date ]</a>
              <a href="thread.html#1087">[ thread ]</a>
              <a href="subject.html#1087">[ subject ]</a>
              <a href="author.html#1087">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, looks like you're on a Mac. I seem to remember that there was an issue 
with having mono default to .dylib for shared libs, but I could be wrong and 
confusing this with something else. Either way, I just removed the .so 
ending from the DllImports in CVS, that shouldn't have been there. That 
should help the automatic mapping mechanism. Also, if that doesn't work you 
can try to manually map the dl through the config file.

Peter

-----Original Message-----
From: &quot;gennady wexler&quot; &lt;<A HREF="mailto:adyler@winisp.net">adyler@winisp.net</A>&gt;
To: &quot;Peter Dennis Bartok&quot; &lt;<A HREF="mailto:peter@novonyx.com">peter@novonyx.com</A>&gt;; &quot;Paul&quot; 
&lt;<A HREF="mailto:paul@all-the-johnsons.co.uk">paul@all-the-johnsons.co.uk</A>&gt;; &quot;mono-winforms&quot; 
&lt;<A HREF="mailto:mono-winforms-list@lists.ximian.com">mono-winforms-list@lists.ximian.com</A>&gt;
Date: Friday, 29 October, 2004 22:58
Subject: Re: [Mono-winforms-list] swf


&gt;<i>you are sure the problem is with whether X is running or not? we cant seem
</I>&gt;<i>to find this dll at all. I get exact same call stack from under X term
</I>&gt;<i>session. any idea where this dll lives and why it is not there?
</I>&gt;<i>
</I>&gt;<i>the only things I have in my X11 lib folder are these. are we missing
</I>&gt;<i>mapping? where does the mapping suppose to be defined for this to work?
</I>&gt;<i>
</I>&gt;<i>lrwxr-xr-x   1 root  wheel       15 21 Aug 00:34 libSM.dylib -&gt;
</I>&gt;<i>libSM.6.0.dylib
</I>&gt;<i>-rw-r--r--   1 root  wheel   995424  2 Mar  2004 libX11.6.2.dylib
</I>&gt;<i>lrwxr-xr-x   1 root  wheel       16 21 Aug 00:34 libX11.6.dylib -&gt;
</I>&gt;<i>libX11.6.2.dylib
</I>&gt;<i>-rw-r--r--   1 root  wheel  1572168  2 Mar  2004 libX11.a
</I>&gt;<i>lrwxr-xr-x   1 root  wheel       16 21 Aug 00:34 libX11.dylib -&gt;
</I>&gt;<i>libX11.6.2.dylib
</I>&gt;<i>-rw-r--r--   1 root  admin     9972  2 Mar  2004 libXRes.1.0.dylib
</I>&gt;<i>lrwxr-xr-x   1 root  wheel       17 21 Aug 00:34 libXRes.1.dylib -&gt;
</I>&gt;<i>libXRes.1.0.dylib
</I>&gt;<i>-rw-r--r--   1 root  wheel     5072  2 Mar  2004 libXRes.a
</I>&gt;<i>lrwxr-xr-x   1 root  wheel       17 21 Aug 00:34 libXRes.dylib -&gt;
</I>&gt;<i>libXRes.1.0.dylib
</I>&gt;<i>-rw-r--r--   1 root  wheel    33132  2 Mar  2004 libXTrap.6.4.dylib
</I>&gt;<i>lrwxr-xr-x   1 root  wheel       18 21 Aug 00:34 libXTrap.6.dylib -&gt;
</I>&gt;<i>libXTrap.6.4.dylib
</I>&gt;<i>-rw-r--r--   1 root  wheel    39804  2 Mar  2004 libXTrap.a
</I>&gt;<i>lrwxr-xr-x   1 root  wheel       18 21 Aug 00:34 libXTrap.dylib -&gt;
</I>&gt;<i>libXTrap.6.4.dylib
</I>&gt;<i>-rw-r--r--   1 root  wheel    13844  2 Mar  2004 libXau.a
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>apple:~/mono/cvs/mcs/class/System.Windows.Forms/Samples adyler$ 
</I>&gt;<i>mono --debug
</I>&gt;<i>Form1.exe
</I>&gt;<i>
</I>&gt;<i>Unhandled Exception: System.TypeInitializationException: An exception was
</I>&gt;<i>thrown by the type initializer for System.Windows.Forms.XplatUI ---&gt;
</I>&gt;<i>System.DllNotFoundException: libX11.so
</I>&gt;<i>in &lt;0x000d8&gt; (wrapper managed-to-native)
</I>&gt;<i>System.Windows.Forms.XplatUIX11:XOpenDisplay (intptr)
</I>&gt;<i>in [0x00032] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>XplatUIX11.cs:138) System.Windows.Forms.XplatUIX11:.ctor ()
</I>&gt;<i>in [0x0001b] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>XplatUIX11.cs:172) System.Windows.Forms.XplatUIX11:GetInstance ()
</I>&gt;<i>in [0x0001e] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>XplatUI.cs:183) System.Windows.Forms.XplatUI:.cctor ()
</I>&gt;<i>--- End of inner exception stack trace ---
</I>&gt;<i>
</I>&gt;<i>in (unmanaged) System.Windows.Forms.XplatUI:get_DefaultClassName ()
</I>&gt;<i>in [0x00043] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>Control.cs:1776) System.Windows.Forms.Control:get_CreateParams ()
</I>&gt;<i>in [0x00043] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>Control.cs:1776) System.Windows.Forms.Control:get_CreateParams ()
</I>&gt;<i>in [0x00001] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>Form.cs:184) FormParentWindow:get_CreateParams ()
</I>&gt;<i>in [0x00087] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>Control.cs:757) System.Windows.Forms.Control:.ctor ()
</I>&gt;<i>in [0x00001] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>Form.cs:158) FormParentWindow:.ctor (System.Windows.Forms.Form)
</I>&gt;<i>in &lt;0x00094&gt; (wrapper remoting-invoke-with-check) FormParentWindow:.ctor
</I>&gt;<i>(System.Windows.Forms.Form)
</I>&gt;<i>in [0x00013] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>Form.cs:498) System.Windows.Forms.Form:get_CreateParams ()
</I>&gt;<i>in [0x00087] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>Control.cs:757) System.Windows.Forms.Control:.ctor ()
</I>&gt;<i>in [0x00001] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>ScrollableControl.cs:217) System.Windows.Forms.ScrollableControl:.ctor ()
</I>&gt;<i>in [0x00001] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>ContainerControl.cs:46) System.Windows.Forms.ContainerControl:.ctor ()
</I>&gt;<i>in [0x00001] (at
</I>&gt;<i>/Users/adyler/mono/cvs/mcs/class/Managed.Windows.Forms/System.Windows.Forms/
</I>&gt;<i>Form.cs:302) System.Windows.Forms.Form:.ctor ()
</I>&gt;<i>in &lt;0x00020&gt; WindowsApplication1.Form1:.ctor ()
</I>&gt;<i>in &lt;0x0007c&gt; (wrapper remoting-invoke-with-check)
</I>&gt;<i>WindowsApplication1.Form1:.ctor ()
</I>&gt;<i>in &lt;0x0002c&gt; WindowsApplication1.Form1:Main ()
</I>&gt;<i>
</I>&gt;<i>apple:~/mono/cvs/mcs/class/System.Windows.Forms/Samples adyler$
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>On 10/27/04 11:20 PM, &quot;Peter Dennis Bartok&quot; &lt;<A HREF="mailto:peter@novonyx.com">peter@novonyx.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> But surely, this isn't a mono problem? If the X server isn't running
</I>&gt;&gt;&gt;<i> (say a machine is set to runlevel 3), then the libraries won't be loaded
</I>&gt;&gt;&gt;<i> either. An X session won't be started so the best that can happen is an
</I>&gt;&gt;&gt;<i> exception is thrown. As I've said though, the error report would vary
</I>&gt;&gt;&gt;<i> between platforms...
</I>&gt;&gt;<i> Well, it's not a Mono problem per se, no, if you want to display via X 
</I>&gt;&gt;<i> you
</I>&gt;&gt;<i> need an X-Server. But, the libs will load just fine even if no X-Server 
</I>&gt;&gt;<i> is
</I>&gt;&gt;<i> run on the machine where they are being loaded. After all, just loading 
</I>&gt;&gt;<i> they
</I>&gt;&gt;<i> won't know if there's an X-Server running or not, and X-servers can be
</I>&gt;&gt;<i> remote.
</I>&gt;&gt;<i> We're just not handling the fact that we can't open the display, and that 
</I>&gt;&gt;<i> is
</I>&gt;&gt;<i> ultimately a Mono/MWF problem. All we need to do is deal with 
</I>&gt;&gt;<i> XOpenDisplay
</I>&gt;&gt;<i> returning null, instead of just assuming it didn't. At that point we can
</I>&gt;&gt;<i> choose to throw an exception or even just display an error message and 
</I>&gt;&gt;<i> exit
</I>&gt;&gt;<i> the app. Simple fix. In fact, so simple, I just fixed it in the head CVS
</I>&gt;&gt;<i> version :-)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i>   Peter
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-winforms-list maillist  -  <A HREF="mailto:Mono-winforms-list@lists.ximian.com">Mono-winforms-list@lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mono-winforms-list maillist  -  <A HREF="mailto:Mono-winforms-list@lists.ximian.com">Mono-winforms-list@lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>&gt;<i>
</I>&gt;<i> 
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001086.html">[Mono-winforms-list] swf
</A></li>
	<LI> Next message: <A HREF="001088.html">[Mono-winforms-list] swf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1087">[ date ]</a>
              <a href="thread.html#1087">[ thread ]</a>
              <a href="subject.html#1087">[ subject ]</a>
              <a href="author.html#1087">[ author ]</a>
         </LI>
       </UL>
</body></html>
