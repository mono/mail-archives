<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] WS_EX_TRANSPARENT in X11 backend	implementation trouble
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20WS_EX_TRANSPARENT%20in%20X11%20backend%0A%09implementation%20trouble&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002782.html">
   <LINK REL="Next"  HREF="002781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] WS_EX_TRANSPARENT in X11 backend	implementation trouble</H1>
    <B>Ivan N. Zlatev</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20WS_EX_TRANSPARENT%20in%20X11%20backend%0A%09implementation%20trouble&In-Reply-To="
       TITLE="[Mono-winforms-list] WS_EX_TRANSPARENT in X11 backend	implementation trouble">contact at i-nz.net
       </A><BR>
    <I>Tue Mar 13 11:26:51 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002782.html">[Mono-winforms-list] Broken controls on latest SVN build
</A></li>
        <LI>Next message: <A HREF="002781.html">[Mono-winforms-list] WS_EX_TRANSPARENT in X11 backend	implementation trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2773">[ date ]</a>
              <a href="thread.html#2773">[ thread ]</a>
              <a href="subject.html#2773">[ subject ]</a>
              <a href="author.html#2773">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I went on hacking up a small patch to implement WS_EX_TRANSPARENT in
the X11 backend. What should happen when this style/flag is set is
that transparency for the control is simulated. When the transparent
control is going to receive WM_PAINT, first its container and  other
controls will be send a WM_PAINT before the transparent control get
its. This behaviour is in Windows itself, so it works with the Win32
xplatui backend and is not Control.cs specific.

The issue with the patch is that even though the order of repaints is
changed I still get black rectangle where the control should be. May
be you can help me out on this one?

I have attached a test-case to CWL wm_paint order for you and the patch.

P.S: One thing I've notices is that zorder when adding initially
controls in x11 is reversed opposed to win32. A bug? (you will have to
swap the below and above controls for proper result wth the testcase
on win32)

P.S2: The patch can be optimized, etc etc.

-- 
Ivan N. Zlatev

Web: <A HREF="http://www.i-nZ.net">http://www.i-nZ.net</A>
&quot;It's all some kind of whacked out conspiracy.&quot;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: X11_WS_EX_TRANSPARENT.patch
Type: text/x-patch
Size: 2364 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20070313/91873c23/attachment.bin">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20070313/91873c23/attachment.bin</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: transp-test.cs
Type: text/x-csharp
Size: 2839 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20070313/91873c23/attachment-0001.bin">http://lists.ximian.com/pipermail/mono-winforms-list/attachments/20070313/91873c23/attachment-0001.bin</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002782.html">[Mono-winforms-list] Broken controls on latest SVN build
</A></li>
	<LI>Next message: <A HREF="002781.html">[Mono-winforms-list] WS_EX_TRANSPARENT in X11 backend	implementation trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2773">[ date ]</a>
              <a href="thread.html#2773">[ thread ]</a>
              <a href="subject.html#2773">[ subject ]</a>
              <a href="author.html#2773">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
