<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7234.20&quot;&gt;<br>
&lt;TITLE&gt;problems&nbsp;with&nbsp;DataGridView&nbsp;and&nbsp;DataTable&nbsp;binding&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/plain&nbsp;format&nbsp;--&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;The&nbsp;example&nbsp;below&nbsp;works&nbsp;with&nbsp;.NET&nbsp;but&nbsp;not&nbsp;with&nbsp;Mono&nbsp;(mono-1.2.3.2007023&nbsp;on&nbsp;openSUSE&nbsp;10.2).&amp;nbsp;&nbsp;I&nbsp;encountered&nbsp;the&nbsp;following&nbsp;issues&nbsp;when&nbsp;using&nbsp;Mono:&lt;BR&gt;<br>
&lt;BR&gt;<br>
1-&nbsp;I&nbsp;do&nbsp;not&nbsp;see&nbsp;any&nbsp;column&nbsp;headers&nbsp;when&nbsp;the&nbsp;form&nbsp;is&nbsp;first&nbsp;displayed.&lt;BR&gt;<br>
&lt;BR&gt;<br>
2-&nbsp;The&nbsp;view&nbsp;is&nbsp;not&nbsp;refreshed&nbsp;automatically&nbsp;when&nbsp;I&nbsp;add&nbsp;rows&nbsp;by&nbsp;clicking&nbsp;the&nbsp;button&nbsp;(I&nbsp;have&nbsp;to&nbsp;force&nbsp;a&nbsp;repaint).&lt;BR&gt;<br>
&lt;BR&gt;<br>
3-&nbsp;When&nbsp;I&nbsp;switch&nbsp;data&nbsp;sources,&nbsp;it&nbsp;does&nbsp;not&nbsp;seem&nbsp;to&nbsp;clear&nbsp;the&nbsp;column&nbsp;headers&nbsp;from&nbsp;the&nbsp;previous&nbsp;data&nbsp;source.&amp;nbsp;&nbsp;Instead,&nbsp;it&nbsp;seems&nbsp;to&nbsp;add&nbsp;the&nbsp;columns&nbsp;for&nbsp;my&nbsp;current&nbsp;data&nbsp;source.&amp;nbsp;&nbsp;So&nbsp;I&nbsp;end&nbsp;up&nbsp;with&nbsp;these&nbsp;column&nbsp;headers&nbsp;to&nbsp;the&nbsp;right&nbsp;that&nbsp;have&nbsp;no&nbsp;data&nbsp;associated&nbsp;with&nbsp;them.&lt;BR&gt;<br>
&lt;BR&gt;<br>
4-&nbsp;If&nbsp;I&nbsp;have&nbsp;more&nbsp;than&nbsp;one&nbsp;row,&nbsp;then&nbsp;the&nbsp;scrollbar&nbsp;at&nbsp;the&nbsp;bottom&nbsp;flickers.&lt;BR&gt;<br>
&lt;BR&gt;<br>
I&nbsp;investigated&nbsp;the&nbsp;first&nbsp;problem&nbsp;in&nbsp;more&nbsp;detail.&amp;nbsp;&nbsp;In&nbsp;DataGridView.cs,&nbsp;the&nbsp;DataSource&nbsp;setter&nbsp;calls&nbsp;BindIList,&nbsp;which&nbsp;can&nbsp;only&nbsp;display&nbsp;column&nbsp;headers&nbsp;if&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;empty.&amp;nbsp;&nbsp;I&nbsp;am&nbsp;not&nbsp;an&nbsp;expert&nbsp;in&nbsp;winforms,&nbsp;but&nbsp;it&nbsp;seems&nbsp;to&nbsp;me&nbsp;that&nbsp;this&nbsp;method&nbsp;needs&nbsp;specialized&nbsp;logic&nbsp;to&nbsp;bind&nbsp;DataTable&nbsp;values,&nbsp;in&nbsp;order&nbsp;to&nbsp;take&nbsp;advantage&nbsp;of&nbsp;the&nbsp;DataColumn&nbsp;metadata.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
using&nbsp;System;&lt;BR&gt;<br>
using&nbsp;System.Windows.Forms;&lt;BR&gt;<br>
using&nbsp;System.Drawing;&lt;BR&gt;<br>
using&nbsp;System.Data;&lt;BR&gt;<br>
&lt;BR&gt;<br>
public&nbsp;class&nbsp;OneOffApp&lt;BR&gt;<br>
{&lt;BR&gt;<br>
&amp;nbsp;&nbsp;static&nbsp;void&nbsp;Main()&lt;BR&gt;<br>
&amp;nbsp;&nbsp;{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Application.Run(&nbsp;new&nbsp;OneOffForm()&nbsp;);&lt;BR&gt;<br>
&amp;nbsp;&nbsp;}&lt;BR&gt;<br>
}&lt;BR&gt;<br>
&lt;BR&gt;<br>
public&nbsp;class&nbsp;OneOffForm&nbsp;:&nbsp;Form&lt;BR&gt;<br>
{&lt;BR&gt;<br>
&amp;nbsp;&nbsp;private&nbsp;DataTable&nbsp;dt1;&lt;BR&gt;<br>
&amp;nbsp;&nbsp;private&nbsp;DataTable&nbsp;dt2;&lt;BR&gt;<br>
&amp;nbsp;&nbsp;private&nbsp;DataGridView&nbsp;grid;&lt;BR&gt;<br>
&amp;nbsp;&nbsp;private&nbsp;Button&nbsp;button;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&nbsp;public&nbsp;OneOffForm()&lt;BR&gt;<br>
&amp;nbsp;&nbsp;{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dt1&nbsp;=&nbsp;new&nbsp;DataTable();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dt1.Columns.Add(&amp;quot;Date&amp;quot;,&nbsp;typeof(DateTime));&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dt1.Columns.Add(&amp;quot;Event&amp;quot;,&nbsp;typeof(string));&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dt2&nbsp;=&nbsp;new&nbsp;DataTable();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dt2.Columns.Add(&amp;quot;Date2&amp;quot;,&nbsp;typeof(DateTime));&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dt2.Columns.Add(&amp;quot;Event2&amp;quot;,&nbsp;typeof(string));&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;button&nbsp;=&nbsp;new&nbsp;Button();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;button.FlatStyle&nbsp;=&nbsp;FlatStyle.System;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;button.Click&nbsp;+=&nbsp;new&nbsp;EventHandler(button_Click);&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;button.Location&nbsp;=&nbsp;new&nbsp;Point(8,&nbsp;8);&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;button.Name&nbsp;=&nbsp;&amp;quot;Switch&amp;quot;;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;button.Text&nbsp;=&nbsp;&amp;quot;Switch&amp;quot;;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Controls.Add(button);&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid&nbsp;=&nbsp;new&nbsp;DataGridView();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.MultiSelect&nbsp;=&nbsp;true;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.RowHeadersVisible&nbsp;=&nbsp;false;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.AllowUserToAddRows&nbsp;=&nbsp;false;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.AllowUserToDeleteRows&nbsp;=&nbsp;false;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.AllowUserToResizeRows&nbsp;=&nbsp;false;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.ShowCellToolTips&nbsp;=&nbsp;false;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.RowTemplate.Height&nbsp;=&nbsp;18;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.ReadOnly&nbsp;=&nbsp;true;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.Location&nbsp;=&nbsp;new&nbsp;Point(8,&nbsp;button.Height&nbsp;*&nbsp;2);&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.SelectionMode&nbsp;=&nbsp;DataGridViewSelectionMode.FullRowSelect;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.DataSource&nbsp;=&nbsp;dt1;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Controls.Add(grid);&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Show();&lt;BR&gt;<br>
&amp;nbsp;&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&nbsp;private&nbsp;void&nbsp;button_Click(object&nbsp;sender,&nbsp;System.EventArgs&nbsp;e)&lt;BR&gt;<br>
&amp;nbsp;&nbsp;{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;DataTable&nbsp;dt&nbsp;=&nbsp;(grid.DataSource&nbsp;==&nbsp;dt1)?&nbsp;dt2&nbsp;:&nbsp;dt1;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;DataRow&nbsp;r&nbsp;=&nbsp;dt.NewRow();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;r[0]&nbsp;=&nbsp;DateTime.Now;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;r[1]&nbsp;=&nbsp;&amp;quot;Button.Click&amp;quot;;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dt.Rows.Add(r);&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;grid.DataSource&nbsp;=&nbsp;dt;&lt;BR&gt;<br>
&amp;nbsp;&nbsp;}&lt;BR&gt;<br>
}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
