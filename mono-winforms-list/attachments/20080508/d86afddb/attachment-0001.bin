Index: System.Windows.Forms/Control.cs
===================================================================
--- System.Windows.Forms/Control.cs	(revision 102695)
+++ System.Windows.Forms/Control.cs	(working copy)
@@ -5745,10 +5745,11 @@
 						UpdateChildrenZOrder ();
 				}
 			} else {
+				Form frm = this as Form;
+				if (frm != null)
+					frm.waiting_showwindow = false;
 				if (parent != null && Focused) {
 					Control	container;
-					Form frm = this as Form;
-					
 					// Need to start at parent, GetContainerControl might return ourselves if we're a container
 					container = (Control)parent.GetContainerControl();
 					if (container != null && (frm == null || !frm.IsMdiChild)) {
Index: System.Windows.Forms/XplatUIX11.cs
===================================================================
--- System.Windows.Forms/XplatUIX11.cs	(revision 102695)
+++ System.Windows.Forms/XplatUIX11.cs	(working copy)
@@ -1462,24 +1462,24 @@
 
 		private void UnmapWindow(Hwnd hwnd, WindowType windows) {
 			if (hwnd.mapped) {
+				Form f = null;
 				if (Control.FromHandle(hwnd.Handle) is Form) {
-					Form f = Control.FromHandle(hwnd.Handle) as Form;
-					if (f.WindowState == FormWindowState.Normal)
+					f = Control.FromHandle(hwnd.Handle) as Form;
+					if (f.WindowState == FormWindowState.Normal) {
+						f.waiting_showwindow = true;
 						SendMessage(hwnd.Handle, Msg.WM_SHOWWINDOW, IntPtr.Zero, IntPtr.Zero);
+					}
 				}
 
 				// it's possible that our Hwnd is no
 				// longer valid after making that
 				// SendMessage call, so check here.
+				// FIXME: it is likely wrong, as it has already sent WM_SHOWWINDOW
 				if (hwnd.zombie)
 					return;
 
-				bool need_to_wait = false;
-
 				if ((windows & WindowType.Client) != 0) {
 					XUnmapWindow(DisplayHandle, hwnd.client_window);
-
-					need_to_wait = true;
 				}
 				if ((windows & WindowType.Whole) != 0) {
 					XUnmapWindow(DisplayHandle, hwnd.whole_window);
@@ -1487,7 +1487,7 @@
 
 				hwnd.mapped = false;
 
-				if (need_to_wait && Control.FromHandle(hwnd.Handle) is Form)
+				if (f != null && f.waiting_showwindow)
 					WaitForHwndMessage (hwnd, Msg.WM_SHOWWINDOW);
 			}
 		}
Index: System.Windows.Forms/Form.cs
===================================================================
--- System.Windows.Forms/Form.cs	(revision 102695)
+++ System.Windows.Forms/Form.cs	(working copy)
@@ -92,6 +92,7 @@
 		private bool			shown_raised;  // The shown event is only raised once
 		private bool			is_clientsize_set;
 		internal bool			suppress_closing_events;
+		internal bool			waiting_showwindow; // for XplatUIX11
 
 #if NET_2_0
 		private MenuStrip		main_menu_strip;
