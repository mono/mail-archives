<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&nbsp;xmlns:o&nbsp;=&nbsp;&quot;urn:schemas-microsoft-com:office:office&quot;&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=windows-1252&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2900.2912&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;bgColor=#d4d0c8&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Before&nbsp;1.1.16&nbsp;we&nbsp;stored&nbsp;a&nbsp;WM_PAINT&nbsp;event&nbsp;in&nbsp;the&nbsp;<br>
queue&amp;nbsp;whenever&nbsp;we&nbsp;got&nbsp;an&nbsp;ExposeNotify&nbsp;for&nbsp;a&nbsp;window.&nbsp;We&nbsp;had&nbsp;some&nbsp;logic&nbsp;so&nbsp;<br>
we'd&nbsp;never&nbsp;put&nbsp;more&nbsp;than&nbsp;one&nbsp;for&nbsp;any&nbsp;particular&nbsp;window&nbsp;in,&nbsp;and&nbsp;instead&nbsp;just&nbsp;<br>
updated&nbsp;the&nbsp;existing&nbsp;region&nbsp;if&nbsp;one&nbsp;already&nbsp;existed,&nbsp;but&nbsp;we&nbsp;stored&nbsp;an&nbsp;actual&nbsp;<br>
WM_PAINT&nbsp;in&nbsp;the&nbsp;queue&nbsp;and&nbsp;it&nbsp;was&nbsp;processed&nbsp;along&nbsp;with&nbsp;other&nbsp;events&nbsp;in&nbsp;<br>
order.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Starting&nbsp;with&nbsp;1.1.16&nbsp;we&nbsp;matched&nbsp;MS&nbsp;behaviour.&nbsp;MS&nbsp;<br>
uses&nbsp;the&nbsp;event&nbsp;queue&nbsp;only&nbsp;for&nbsp;keyboard/mouse&nbsp;events&nbsp;(I'm&nbsp;simplifying&nbsp;a&nbsp;<br>
tad).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Many&nbsp;other&nbsp;messages&nbsp;are&nbsp;sent&nbsp;'directly'&nbsp;to&nbsp;the&nbsp;<br>
window&nbsp;procedure&nbsp;on&nbsp;Windows,&nbsp;via&nbsp;SendMessage&nbsp;(for&nbsp;example&nbsp;WM_WINDOWPOSCHANGED&nbsp;or&nbsp;<br>
WM_SETFOCUS,&nbsp;etc).&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;WM_PAINT&nbsp;events&nbsp;are&nbsp;neither.&nbsp;They&nbsp;are&nbsp;returned&nbsp;via&nbsp;<br>
GetMessage,&nbsp;but&nbsp;they&nbsp;don't&nbsp;come&nbsp;from&nbsp;the&nbsp;queue.&nbsp;Instead,&nbsp;GetMessage&nbsp;returns&nbsp;all&nbsp;<br>
events&nbsp;from&nbsp;the&nbsp;queue,&nbsp;and&nbsp;once&nbsp;there&nbsp;are&nbsp;no&nbsp;more&nbsp;real&nbsp;events,&nbsp;it&nbsp;looks&nbsp;if&nbsp;there&nbsp;<br>
are&nbsp;any&nbsp;windows&nbsp;with&nbsp;invalid&nbsp;content.&nbsp;If&nbsp;it&nbsp;firds&nbsp;one,&nbsp;it&nbsp;generates&nbsp;and&nbsp;returns&nbsp;<br>
a&nbsp;WM_PAINT&nbsp;event&nbsp;for&nbsp;each&nbsp;of&nbsp;these&nbsp;windows,&nbsp;and&nbsp;so&nbsp;on.&nbsp;Starting&nbsp;with&nbsp;1.1.16&nbsp;our&nbsp;<br>
driver&nbsp;behaves&nbsp;like&nbsp;that.&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Around&nbsp;the&nbsp;same&nbsp;timeframe&nbsp;we&nbsp;also&nbsp;added&nbsp;<br>
thread-specific&nbsp;message&nbsp;queues.&nbsp;That&nbsp;means&nbsp;that&nbsp;events&nbsp;events&nbsp;are&nbsp;stored&nbsp;in&nbsp;an&nbsp;<br>
event&nbsp;queue&nbsp;associated&nbsp;with&nbsp;the&nbsp;thread&nbsp;that&nbsp;created&nbsp;the&nbsp;window,&nbsp;allowing&nbsp;<br>
multiple&nbsp;message&nbsp;queues&nbsp;to&nbsp;run&nbsp;in&nbsp;parallel&nbsp;in&nbsp;the&nbsp;same&nbsp;app&nbsp;in&nbsp;multiple&nbsp;threads,&nbsp;<br>
again&nbsp;matching&nbsp;MS.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Hope&nbsp;my&nbsp;explanation&nbsp;makes&nbsp;sense.&nbsp;If&nbsp;you&nbsp;still&nbsp;have&nbsp;<br>
an&nbsp;old&nbsp;MSDN&nbsp;subscription,&nbsp;search&nbsp;for&nbsp;the&nbsp;&quot;GetMessage&nbsp;and&nbsp;PeekMessage&nbsp;Internals&quot;&nbsp;<br>
article,&nbsp;MS&nbsp;seems&nbsp;to&nbsp;recently&nbsp;have&nbsp;removed&nbsp;it&nbsp;from&nbsp;their&nbsp;website&nbsp;or&nbsp;I&nbsp;would&nbsp;have&nbsp;<br>
given&nbsp;you&nbsp;a&nbsp;link.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Cheers&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Peter&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;B&gt;-----Original&nbsp;Message-----&lt;/B&gt;&lt;BR&gt;&lt;B&gt;From:&nbsp;<br>
&lt;/B&gt;&quot;Dennis&nbsp;Hayes&quot;&nbsp;&amp;lt;&lt;A&nbsp;<br>
href=&quot;mailto:dennisdotnet@yahoo.com&quot;&gt;dennisdotnet@yahoo.com&lt;/A&gt;&amp;gt;&lt;BR&gt;&lt;B&gt;To:&nbsp;<br>
&lt;/B&gt;&amp;lt;&lt;A&nbsp;<br>
href=&quot;mailto:mono-winforms-list@lists.ximian.com&quot;&gt;mono-winforms-list@lists.ximian.com&lt;/A&gt;&amp;gt;&lt;BR&gt;&lt;B&gt;Date:&nbsp;<br>
&lt;/B&gt;Tuesday,&nbsp;August&nbsp;01,&nbsp;2006&nbsp;04:17&lt;BR&gt;&lt;B&gt;Subject:&nbsp;&lt;/B&gt;[Mono-winforms-list]&nbsp;<br>
Question&nbsp;on&nbsp;release&nbsp;notes&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#000000&nbsp;2px&nbsp;solid&quot;&gt;&lt;/FONT&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;The&nbsp;release&nbsp;notes&nbsp;<br>
&nbsp;&nbsp;for&nbsp;1.1.16&nbsp;states:&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;&amp;nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;“Repaint&nbsp;logic&nbsp;<br>
&nbsp;&nbsp;changed:&nbsp;Instead&nbsp;of&nbsp;having&nbsp;paint&nbsp;events&nbsp;that&nbsp;are&nbsp;contained&nbsp;in&nbsp;the&nbsp;queue&nbsp;and&nbsp;<br>
&nbsp;&nbsp;make&nbsp;their&nbsp;way&nbsp;to&nbsp;the&nbsp;head&nbsp;of&nbsp;the&nbsp;queue,&nbsp;we&nbsp;now&nbsp;only&nbsp;generate&nbsp;synthetic&nbsp;paint&nbsp;<br>
&nbsp;&nbsp;events&nbsp;for&nbsp;dirty&nbsp;windows&nbsp;once&nbsp;the&nbsp;queue&nbsp;is&nbsp;empty.&nbsp;This&nbsp;matches&nbsp;MS&nbsp;behavior&nbsp;and&nbsp;<br>
&nbsp;&nbsp;allows&nbsp;for&nbsp;a&nbsp;more&nbsp;responsive&nbsp;UI&nbsp;if&nbsp;lots&nbsp;of&nbsp;activity&nbsp;(or&nbsp;slow&nbsp;drawing)&nbsp;<br>
&nbsp;&nbsp;happens.”&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;&amp;nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;Can&nbsp;someone&nbsp;give&nbsp;me&nbsp;<br>
&nbsp;&nbsp;a&nbsp;short&nbsp;explanation&nbsp;of&nbsp;that&nbsp;to&nbsp;me?&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;I&nbsp;assume&nbsp;it&nbsp;means&nbsp;<br>
&nbsp;&nbsp;something&nbsp;like&nbsp;if&nbsp;there&nbsp;are&nbsp;more&nbsp;than&nbsp;one&nbsp;paint&nbsp;event&nbsp;in&nbsp;the&nbsp;que,&nbsp;you&nbsp;try&nbsp;to&nbsp;<br>
&nbsp;&nbsp;combine&nbsp;them&nbsp;together&nbsp;if&nbsp;possible.&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;&amp;nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;I&nbsp;need&nbsp;to&nbsp;explain&nbsp;<br>
&nbsp;&nbsp;this&nbsp;to&nbsp;the&nbsp;readers&nbsp;of&nbsp;my&nbsp;“Monkey&nbsp;Business”&nbsp;column,&nbsp;and&nbsp;want&nbsp;to&nbsp;get&nbsp;it&nbsp;<br>
&nbsp;&nbsp;right.&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;&amp;nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;Thanks,&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;SPAN&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;8pt;&nbsp;COLOR:&nbsp;black;&nbsp;FONT-FAMILY:&nbsp;Verdana&quot;&gt;Dennis&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;class=MsoNormal&nbsp;style=&quot;MARGIN:&nbsp;0in&nbsp;0in&nbsp;0pt&quot;&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;P&gt;<br>
&nbsp;&nbsp;&lt;HR&nbsp;SIZE=1&gt;<br>
&nbsp;&nbsp;Talk&nbsp;is&nbsp;cheap.&nbsp;Use&nbsp;Yahoo!&nbsp;Messenger&nbsp;to&nbsp;make&nbsp;PC-to-Phone&nbsp;calls.&nbsp;&lt;A&nbsp;<br>
&nbsp;&nbsp;href=&quot;http://us.rd.yahoo.com/mail_us/taglines/postman7/*http://us.rd.yahoo.com/evt=39666/*http://messenger.yahoo.com&quot;&gt;Great&nbsp;<br>
&nbsp;&nbsp;rates&nbsp;starting&nbsp;at&nbsp;1¢/min.&lt;/A&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
