<tt>
<br>
&lt;div&gt;&nbsp;Hi&lt;br&gt;<br>
I&nbsp;have&nbsp;written&nbsp;lots&nbsp;of&nbsp;nunit&nbsp;tests&nbsp;for&nbsp;the&nbsp;Function&nbsp;and&nbsp;they&nbsp;are&nbsp;all&nbsp;runnning&nbsp;well&nbsp;on&nbsp;MS&nbsp;.NET&nbsp;2.0&lt;br&gt;<br>
&lt;/div&gt;<br>
<br>
&lt;div&gt;&nbsp;No&nbsp;i'm&nbsp;proceding&nbsp;with&nbsp;step&nbsp;2.&lt;br&gt;<br>
&lt;br&gt;<br>
for&nbsp;now&nbsp;i&nbsp;try&nbsp;to&nbsp;get&nbsp;the&nbsp;correct&nbsp;line&nbsp;with&lt;br&gt;<br>
Line&nbsp;line&nbsp;=&nbsp;document.GetLineByPixel(p.Y,false);&lt;br&gt;<br>
&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;<br>
but&nbsp;the&nbsp;problem&nbsp;is:&nbsp;How&nbsp;can&nbsp;i&nbsp;get&nbsp;the&nbsp;char&nbsp;index&nbsp;from&nbsp;the&nbsp;position&nbsp;in&nbsp;pixels?&lt;br&gt;<br>
I&nbsp;can&nbsp;only&nbsp;use&nbsp;the&nbsp;&lt;br&gt;<br>
&lt;pre&nbsp;style=&quot;font-size:&nbsp;9pt;&quot;&gt;&lt;tt&gt;&lt;tt&gt;LineTagToCharIndex&lt;br&gt;<br>
&lt;br&gt;<br>
if&nbsp;i&nbsp;know&nbsp;the&nbsp;char&nbsp;index.&lt;br&gt;<br>
&lt;/tt&gt;&lt;/tt&gt;&lt;/pre&gt;Because&nbsp;there&nbsp;could&nbsp;be&nbsp;different&nbsp;fonts.&nbsp;The&nbsp;only&nbsp;solution&nbsp;seems&nbsp;to&nbsp;be&nbsp;to&nbsp;call&nbsp;the&nbsp;Grapics.MeasureText&nbsp;method&nbsp;for&nbsp;each&nbsp;letter.&lt;br&gt;<br>
&lt;br&gt;<br>
for&nbsp;example&nbsp;if&nbsp;the&nbsp;Text&nbsp;is:&lt;br&gt;<br>
HiTestText&lt;br&gt;<br>
I&nbsp;have&nbsp;to&nbsp;measure&lt;br&gt;<br>
H&lt;br&gt;<br>
Hi&lt;br&gt;<br>
HiT&lt;br&gt;<br>
HiTe&lt;br&gt;<br>
...&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;this&nbsp;seems&nbsp;to&nbsp;be&nbsp;terrible&nbsp;slow?&lt;br&gt;<br>
Anyone&nbsp;a&nbsp;better&nbsp;solution&nbsp;for&nbsp;this&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
Yours,&lt;br&gt;<br>
Berni&lt;br&gt;<br>
&lt;/div&gt;<br>
-----Original&nbsp;Message-----&lt;br&gt;<br>
From:&nbsp;Jackson&nbsp;Harper&nbsp;&amp;lt;jackson@ximian.com&amp;gt;&lt;br&gt;<br>
To:&nbsp;aatdark@aol.com&lt;br&gt;<br>
Cc:&nbsp;mono-winforms-list@lists.ximian.com&lt;br&gt;<br>
Sent:&nbsp;Thu,&nbsp;3&nbsp;May&nbsp;2007&nbsp;8:43&nbsp;pm&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[Mono-winforms-list]&nbsp;MaskedTextBox.GetCharFromPosition&nbsp;Method&lt;br&gt;<br>
&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;id=&quot;AOLMsgPart_0_da419a67-ad90-4673-b90f-59c0569e66b3&quot;&nbsp;style=&quot;margin:&nbsp;0px;&nbsp;font-family:&nbsp;Tahoma,Verdana,Arial,Sans-Serif;&nbsp;font-size:&nbsp;12px;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&quot;&gt;<br>
<br>
&lt;pre&nbsp;style=&quot;font-size:&nbsp;9pt;&quot;&gt;&lt;tt&gt;On&nbsp;Thu,&nbsp;2007-05-03&nbsp;at&nbsp;13:58&nbsp;-0400,&nbsp;&lt;a&nbsp;href=&quot;mailto:aatdark@aol.com&quot;&gt;aatdark@aol.com&lt;/a&gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;hi&lt;br&gt;<br>
&amp;gt;&nbsp;concerning&nbsp;1.)&lt;br&gt;<br>
&amp;gt;&nbsp;Is&nbsp;there&nbsp;already&nbsp;an&nbsp;excisiting&nbsp;nunit&nbsp;file&nbsp;forthe&nbsp;MaskedTextBox&nbsp;?&nbsp;I&lt;br&gt;<br>
&amp;gt;&nbsp;can't&nbsp;find&nbsp;one&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;should&nbsp;probably&nbsp;start&nbsp;by&nbsp;unit&nbsp;testing&nbsp;TextBoxBase,&nbsp;I&nbsp;would&nbsp;just&nbsp;add&lt;br&gt;<br>
your&nbsp;tests&nbsp;to&nbsp;TextBoxTest&nbsp;at&nbsp;first,&nbsp;then&nbsp;we&nbsp;can&nbsp;add&nbsp;some&nbsp;more&nbsp;to&lt;br&gt;<br>
MaskedTextBox&nbsp;later.&nbsp;&nbsp;But&nbsp;it&nbsp;is&nbsp;best&nbsp;to&nbsp;test&nbsp;from&nbsp;the&nbsp;bottom&nbsp;up.&nbsp;&nbsp;Since&lt;br&gt;<br>
you&nbsp;will&nbsp;have&nbsp;to&nbsp;implement&nbsp;this&nbsp;feature&nbsp;from&nbsp;the&nbsp;bottom&nbsp;up.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&lt;br&gt;<br>
Jackson&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;yours&lt;br&gt;<br>
&amp;gt;&nbsp;berni&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;-----Original&nbsp;Message-----&lt;br&gt;<br>
&amp;gt;&nbsp;From:&nbsp;Jackson&nbsp;Harper&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jackson@ximian.com&quot;&gt;jackson@ximian.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;To:&nbsp;&lt;a&nbsp;href=&quot;mailto:aatdark@aol.com&quot;&gt;aatdark@aol.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Cc:&nbsp;&lt;a&nbsp;href=&quot;mailto:mono-winforms-list@lists.ximian.com&quot;&gt;mono-winforms-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Sent:&nbsp;Thu,&nbsp;3&nbsp;May&nbsp;2007&nbsp;7:17&nbsp;pm&lt;br&gt;<br>
&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[Mono-winforms-list]&nbsp;MaskedTextBox.GetCharFromPosition&lt;br&gt;<br>
&amp;gt;&nbsp;Method&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;These&nbsp;methods&nbsp;just&nbsp;need&nbsp;to&nbsp;be&nbsp;implemented&nbsp;in&nbsp;the&nbsp;base&nbsp;TextBoxBase&nbsp;class.&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;All&nbsp;you&nbsp;should&nbsp;need&nbsp;to&nbsp;do&nbsp;is:&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;1.&nbsp;&nbsp;Write&nbsp;lots&nbsp;of&nbsp;unit&nbsp;tests&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;2.&nbsp;&nbsp;Implement&nbsp;using&nbsp;TextControl::LineTagToCharIndex&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;3.&nbsp;&nbsp;Remove&nbsp;the&nbsp;notyet&nbsp;ifdef&nbsp;in&nbsp;MaskedTextBox&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;4.&nbsp;&nbsp;Send&nbsp;your&nbsp;patches&nbsp;to&nbsp;the&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;Please&nbsp;note,&nbsp;don't&nbsp;proceed&nbsp;to&nbsp;step&nbsp;2&nbsp;before&nbsp;completing&nbsp;step&nbsp;1.&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;Good&nbsp;luck!&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;Jackson&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;Thu,&nbsp;2007-05-03&nbsp;at&nbsp;13:33&nbsp;-0400,&nbsp;&lt;a&nbsp;href=&quot;mailto:aatdark@aol.com&quot;&gt;aatdark@aol.com&lt;/a&gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;Hi&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;Is&nbsp;anyone&nbsp;working&nbsp;at&nbsp;the&nbsp;MaskedTextBox.GetCharFromPosition&nbsp;Method&nbsp;&nbsp;at&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;the&nbsp;moment?&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;think&nbsp;implementing&nbsp;this&nbsp;will&nbsp;affect&nbsp;TextControl.cs&nbsp;class&nbsp;Document&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;too.&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;I'm&nbsp;going&nbsp;to&nbsp;try&nbsp;it&nbsp;if&nbsp;nobody&nbsp;is&nbsp;on&nbsp;it&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;yours&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;berni&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;______________________________________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;AOL&nbsp;now&nbsp;offers&nbsp;free&nbsp;email&nbsp;to&nbsp;everyone.&nbsp;Find&nbsp;out&nbsp;more&nbsp;about&nbsp;what's&nbsp;free&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;from&nbsp;AOL&nbsp;at&nbsp;AOL.com.&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;Mono-winforms-list&nbsp;maillist&nbsp;&nbsp;-&nbsp;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-winforms-list@lists.ximian.com&quot;&gt;Mono-winforms-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-winforms-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-winforms-list&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;______________________________________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;AOL&nbsp;now&nbsp;offers&nbsp;free&nbsp;email&nbsp;to&nbsp;everyone.&nbsp;Find&nbsp;out&nbsp;more&nbsp;about&nbsp;what's&nbsp;free&lt;br&gt;<br>
&amp;gt;&nbsp;from&nbsp;AOL&nbsp;at&nbsp;AOL.com.&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;Mono-winforms-list&nbsp;maillist&nbsp;&nbsp;-&nbsp;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-winforms-list@lists.ximian.com&quot;&gt;Mono-winforms-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-winforms-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-winforms-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/tt&gt;&lt;/pre&gt;<br>
&lt;/div&gt;<br>
&nbsp;&lt;!--&nbsp;end&nbsp;of&nbsp;AOLMsgPart_0_da419a67-ad90-4673-b90f-59c0569e66b3&nbsp;--&gt;<br>
<br>
&lt;div&nbsp;class=&quot;AOLPromoFooter&quot;&gt;<br>
&lt;hr&nbsp;style=&quot;margin-top:10px;&quot;&nbsp;/&gt;<br>
AOL&nbsp;now&nbsp;offers&nbsp;free&nbsp;email&nbsp;to&nbsp;everyone.&nbsp;&nbsp;Find&nbsp;out&nbsp;more&nbsp;about&nbsp;what's&nbsp;free&nbsp;from&nbsp;AOL&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://www.aol.com?ncid=AOLAOF00020000000437&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;b&gt;AOL.com&lt;/b&gt;&lt;/a&gt;.&lt;br&nbsp;/&gt;<br>
&lt;/div&gt;<br>

</tt>
