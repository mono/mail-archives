<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#ffffff&quot;&gt;<br>
This&nbsp;is&nbsp;fine,&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;dick!&lt;br&gt;<br>
&lt;br&gt;<br>
-g&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;04/30/2009&nbsp;06:50&nbsp;AM,&nbsp;Dick&nbsp;Porter&nbsp;wrote:<br>
&lt;blockquote<br>
&nbsp;cite=&quot;mid:1241088640.8071.1853.camel@hagbard.apathetic.discordia.org.uk&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Hi&nbsp;All<br>
<br>
I've&nbsp;observed&nbsp;NullReferenceExceptions&nbsp;from<br>
System.Windows.Forms.XplatUICarbon.GetMessage()&nbsp;(specifically,<br>
MessageQueue.Dequeue()&nbsp;inside&nbsp;GetMessage&nbsp;was&nbsp;randomly&nbsp;returning&nbsp;nulls)<br>
and&nbsp;tracked&nbsp;it&nbsp;down&nbsp;to&nbsp;the&nbsp;locking&nbsp;around&nbsp;MessageQueue.&nbsp;&nbsp;This&nbsp;patch<br>
ensures&nbsp;that&nbsp;MessageQueue&nbsp;is&nbsp;locked&nbsp;whenever&nbsp;it&nbsp;is&nbsp;modified,&nbsp;completely<br>
curing&nbsp;the&nbsp;exceptions&nbsp;for&nbsp;me.<br>
<br>
Is&nbsp;this&nbsp;OK&nbsp;to&nbsp;check&nbsp;into&nbsp;HEAD?<br>
<br>
-&nbsp;Dick<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
&lt;hr&nbsp;size=&quot;4&quot;&nbsp;width=&quot;90%&quot;&gt;<br>
_______________________________________________<br>
Mono-winforms-list&nbsp;maillist&nbsp;&nbsp;-&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:Mono-winforms-list@lists.ximian.com&quot;&gt;Mono-winforms-list@lists.ximian.com&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-winforms-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-winforms-list&lt;/a&gt;<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
