<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7651.59&quot;&gt;<br>
&lt;TITLE&gt;libgdiplus.dylib&nbsp;throws&nbsp;TypeInitializationException&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;(even&nbsp;with&nbsp;macpack)&nbsp;&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/rtf&nbsp;format&nbsp;--&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;FACE=&quot;Arial&quot;&gt;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;run&nbsp;a&nbsp;simple&nbsp;&amp;quot;Hello&nbsp;World&amp;quot;&nbsp;WinForms&nbsp;app&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;using&nbsp;mono&nbsp;1.2.6,&nbsp;but&nbsp;I&nbsp;get&nbsp;a&nbsp;TypeInitializationException&nbsp;from&nbsp;(or&nbsp;regarding?)&nbsp;libgdiplus.dylib.&nbsp;I&nbsp;suspect&nbsp;libgdiplus.dylib&nbsp;might&nbsp;be&nbsp;trying&nbsp;to&nbsp;using&nbsp;X11&nbsp;(which&nbsp;I&nbsp;do&nbsp;not&nbsp;have&nbsp;installed),&nbsp;even&nbsp;though&nbsp;I&nbsp;thought&nbsp;mono&nbsp;1.2.6's&nbsp;WinForms&nbsp;no&nbsp;longer&nbsp;required&nbsp;X11&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X.&lt;BR&gt;<br>
&lt;BR&gt;<br>
I&nbsp;tried&nbsp;using&nbsp;macpack&nbsp;(&amp;quot;macpack&nbsp;-m:1&nbsp;-n:helloworld&nbsp;-o:.&nbsp;-a:helloworld.exe&amp;quot;),&nbsp;but&nbsp;I&nbsp;still&nbsp;get&nbsp;the&nbsp;same&nbsp;TypeInitializationException&nbsp;when&nbsp;running&nbsp;macpack's&nbsp;helloworld.app&nbsp;(according&nbsp;to&nbsp;Mac&nbsp;OS&nbsp;X's&nbsp;Console&nbsp;utility).&lt;BR&gt;<br>
&lt;BR&gt;<br>
If&nbsp;I&nbsp;run&nbsp;&amp;quot;MONO_LOG_LEVEL=info&nbsp;MONO_LOG_MASK=dll&nbsp;mono&nbsp;helloworld.exe&amp;quot;,&nbsp;I&nbsp;get&nbsp;tons&nbsp;of&nbsp;DllImport&nbsp;errors/warnings&nbsp;about&nbsp;mono&nbsp;searching&nbsp;for&nbsp;libgdiplus.dylib&nbsp;.&nbsp;When&nbsp;mono&nbsp;finds&nbsp;libgdiplus.dylib,&nbsp;it&nbsp;then&nbsp;reports&nbsp;suspicious&nbsp;errors&nbsp;about&nbsp;X11:&lt;BR&gt;<br>
&lt;BR&gt;<br>
Mono-INFO:&nbsp;DllImport&nbsp;loading:&nbsp;'/Library/Frameworks/Mono&lt;WBR&gt;.framework/Versions/1.2.6/lib&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;FACE=&quot;Arial&quot;&gt;/libgdiplus.dylib'.&lt;BR&gt;<br>
Mono-INFO:&nbsp;DllImport&nbsp;error&nbsp;loading&nbsp;library&nbsp;'dlopen(/Library/Frameworks&lt;WBR&gt;/Mono.framework/Versions/1.2.6&lt;WBR&gt;/lib/libgdiplus.dylib,&nbsp;9):&nbsp;Library&nbsp;not&nbsp;loaded:&nbsp;/usr/X11R6/lib/libXrender.1&lt;WBR&gt;.dylib&lt;BR&gt;<br>
 &nbsp;Referenced&nbsp;from:&nbsp;/Library/Frameworks/Mono&lt;WBR&gt;.framework/Versions/1.2.6/lib&lt;WBR&gt;/libgdiplus.dylib&lt;BR&gt;<br>
 &nbsp;Reason:&nbsp;image&nbsp;not&nbsp;found'.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Any&nbsp;idea&nbsp;what&nbsp;I&nbsp;am&nbsp;doing&nbsp;wrong?&nbsp;Do&nbsp;I&nbsp;need&nbsp;still&nbsp;X11&nbsp;to&nbsp;run&nbsp;WinForm&nbsp;apps&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X?&nbsp;Or&nbsp;do&nbsp;I&nbsp;have&nbsp;a&nbsp;lib&nbsp;path&nbsp;problem&nbsp;with&nbsp;mono&nbsp;or&nbsp;macpack?&nbsp;I've&nbsp;seen&nbsp;similar&nbsp;libgdiplus&nbsp;problems&nbsp;by&nbsp;Linux&nbsp;users&nbsp;on&nbsp;this&nbsp;mailing&nbsp;list,&nbsp;but&nbsp;I&nbsp;don't&nbsp;know&nbsp;if&nbsp;they&nbsp;are&nbsp;related&nbsp;to&nbsp;my&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;woes.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
thanks!&lt;BR&gt;<br>
chris&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
Unhandled&nbsp;Exception:&nbsp;System.TypeInitializationExcept&lt;WBR&gt;ion:&nbsp;An&nbsp;exception&nbsp;was&nbsp;thrown&nbsp;by&nbsp;the&nbsp;type&nbsp;initializer&nbsp;for&nbsp;System.Windows.Forms.Form&nbsp;---&amp;gt;&nbsp;System.Reflection.TargetInvocat&lt;WBR&gt;ionException&nbsp;:&nbsp;Exception&nbsp;has&nbsp;been&nbsp;thrown&nbsp;by&nbsp;the&nbsp;target&nbsp;of&nbsp;an&nbsp;invocation.&nbsp;---&amp;gt;&nbsp;System.TypeInitializationExcept&lt;WBR&gt;ion:&nbsp;An&nbsp;exception&nbsp;was&nbsp;thrown&nbsp;by&nbsp;the&nbsp;type&nbsp;initializer&nbsp;for&nbsp;System.Drawing.GDIPlus&nbsp;---&amp;gt;&nbsp;System.DllNotFoundException:&nbsp;/Library/Frameworks/Mono&lt;WBR&gt;.framework/Versions/1.2.6/lib&lt;WBR&gt;/libgdiplus.dylib&lt;BR&gt;<br>
 &nbsp;at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;System.Drawing.GDIPlus:GdiplusS&lt;WBR&gt;tartup&nbsp;(ulong&amp;amp;,System.Drawing.GdiplusStartupIn&lt;WBR&gt;put&amp;amp;,System.Drawing.GdiplusStartupOu&lt;WBR&gt;tput&amp;amp;)&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Drawing.GDIPlus..cctor&nbsp;()&nbsp;[0x00000]&nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;BR&gt;<br>
&lt;BR&gt;<br>
 &nbsp;at&nbsp;&amp;lt;0x00000&amp;gt;&nbsp;&amp;lt;unknown&nbsp;method&amp;gt;&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Drawing.Image.InitFromSt&lt;WBR&gt;ream&nbsp;(System.IO.Stream&nbsp;stream)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Drawing.Image.InitFromSt&lt;WBR&gt;ream&nbsp;(System.IO.Stream&nbsp;stream)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Drawing.Image..ctor&nbsp;(System.Runtime.Serialization&lt;WBR&gt;.SerializationInfo&nbsp;info,&nbsp;StreamingContext&nbsp;context)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Drawing.Bitmap..ctor&nbsp;(System.Runtime.Serialization&lt;WBR&gt;.SerializationInfo&nbsp;info,&nbsp;StreamingContext&nbsp;context)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;&amp;lt;0x00000&amp;gt;&nbsp;&amp;lt;unknown&nbsp;method&amp;gt;&lt;BR&gt;<br>
 &nbsp;at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;System.Reflection.MonoCMethod&lt;WBR&gt;:InternalInvoke&nbsp;(object,object[])&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Reflection.MonoCMethod&lt;WBR&gt;.Invoke&nbsp;(System.Object&nbsp;obj,&nbsp;BindingFlags&nbsp;invokeAttr,&nbsp;System.Reflection.Binder&nbsp;binder,&nbsp;System.Object[]&nbsp;parameters,&nbsp;System.Globalization.CultureInf&lt;WBR&gt;o&nbsp;culture)&nbsp;[0x00000]&nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;BR&gt;<br>
&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Reflection.MonoCMethod&lt;WBR&gt;.Invoke&nbsp;(System.Object&nbsp;obj,&nbsp;BindingFlags&nbsp;invokeAttr,&nbsp;System.Reflection.Binder&nbsp;binder,&nbsp;System.Object[]&nbsp;parameters,&nbsp;System.Globalization.CultureInf&lt;WBR&gt;o&nbsp;culture)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Reflection.MethodBase&lt;WBR&gt;.Invoke&nbsp;(System.Object&nbsp;obj,&nbsp;System.Object[]&nbsp;parameters)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Runtime.Serialization&lt;WBR&gt;.ObjectRecord.LoadData&nbsp;(System.Runtime.Serialization&lt;WBR&gt;.ObjectManager&nbsp;manager,&nbsp;ISurrogateSelector&nbsp;selector,&nbsp;StreamingContext&nbsp;context)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Runtime.Serialization&lt;WBR&gt;.ObjectManager.DoFixups&nbsp;()&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Runtime.Serialization&lt;WBR&gt;.Formatters.Binary.ObjectReader&lt;WBR&gt;.ReadNextObject&nbsp;(System.IO.BinaryReader&nbsp;reader)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Runtime.Serialization&lt;WBR&gt;.Formatters.Binary.ObjectReader&lt;WBR&gt;.ReadObjectGraph&nbsp;(System.IO.BinaryReader&nbsp;reader,&nbsp;Boolean&nbsp;readHeaders,&nbsp;System.Object&amp;amp;&nbsp;result,&nbsp;System.Runtime.Remoting&lt;WBR&gt;.Messaging.Header[]&amp;amp;&nbsp;headers)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Runtime.Serialization&lt;WBR&gt;.Formatters.Binary.BinaryFormat&lt;WBR&gt;ter.NoCheckDeserialize&nbsp;(System.IO.Stream&nbsp;serializationStream,&nbsp;System.Runtime.Remoting&lt;WBR&gt;.Messaging.HeaderHandler&nbsp;handler)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Runtime.Serialization&lt;WBR&gt;.Formatters.Binary.BinaryFormat&lt;WBR&gt;ter.Deserialize&nbsp;(System.IO.Stream&nbsp;serializationStream)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Resources.ResourceReader&lt;WBR&gt;.ReadNonPredefinedValue&nbsp;(System.Type&nbsp;exp_type)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Resources.ResourceReader&lt;WBR&gt;.ReadValueVer1&nbsp;(System.Type&nbsp;type)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Resources.ResourceReader&lt;WBR&gt;.ResourceValue&nbsp;(Int32&nbsp;index)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Resources.ResourceReader&lt;WBR&gt;+ResourceEnumerator.get_Value&nbsp;()&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Resources.ResourceSet&lt;WBR&gt;.ReadResources&nbsp;()&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Resources.ResourceSet&lt;WBR&gt;.GetObject&nbsp;(&nbsp;System.String&nbsp;name,&nbsp;Boolean&nbsp;ignoreCase)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Resources.ResourceManage&lt;WBR&gt;r.GetObject&nbsp;(System.String&nbsp;name,&nbsp;System.Globalization.CultureInf&lt;WBR&gt;o&nbsp;culture)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Resources.ResourceManage&lt;WBR&gt;r.GetObject&nbsp;(System.String&nbsp;name)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Windows.Forms.Locale&lt;WBR&gt;.GetResource&nbsp;(System.String&nbsp;name)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Windows.Forms.Form.&lt;WBR&gt;.cctor&nbsp;()&nbsp;[0x00000]&nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;BR&gt;<br>
&lt;BR&gt;<br>
 &nbsp;at&nbsp;&amp;lt;0x00000&amp;gt;&nbsp;&amp;lt;unknown&nbsp;method&amp;gt;&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Windows.Forms.MessageBox&lt;WBR&gt;+MessageBoxForm..ctor&nbsp;(IWin32Window&nbsp;owner,&nbsp;System.String&nbsp;text,&nbsp;System.String&nbsp;caption,&nbsp;MessageBoxButtons&nbsp;buttons,&nbsp;MessageBoxIcon&nbsp;icon,&nbsp;Boolean&nbsp;displayHelpButton)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Windows.Forms.MessageBox&lt;WBR&gt;+MessageBoxForm..ctor&nbsp;(IWin32Window&nbsp;owner,&nbsp;System.String&nbsp;text,&nbsp;System.String&nbsp;caption,&nbsp;MessageBoxButtons&nbsp;buttons,&nbsp;MessageBoxIcon&nbsp;icon,&nbsp;Boolean&nbsp;displayHelpButton)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Windows.Forms.MessageBox&lt;WBR&gt;+MessageBoxForm..ctor&nbsp;(IWin32Window&nbsp;owner,&nbsp;System.String&nbsp;text,&nbsp;System.String&nbsp;caption,&nbsp;MessageBoxButtons&nbsp;buttons,&nbsp;MessageBoxIcon&nbsp;icon)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;(wrapper&nbsp;remoting-invoke-with-check)&nbsp;MessageBoxForm:.ctor&nbsp;(System.Windows.Forms.IWin32Wind&lt;WBR&gt;ow,string,string,System.Windows.Forms.MessageBox&lt;WBR&gt;Buttons&nbsp;,System.Windows.Forms.MessageBox&lt;WBR&gt;Icon)&lt;BR&gt;<br>
 &nbsp;at&nbsp;System.Windows.Forms.MessageBox&lt;WBR&gt;.Show&nbsp;(System.String&nbsp;text)&nbsp;[0x00000]&lt;BR&gt;<br>
 &nbsp;at&nbsp;HelloWorld.Main&nbsp;()&nbsp;[0x00000]&lt;BR&gt;<br>
&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
