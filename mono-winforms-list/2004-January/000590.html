<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] WinForms not working with simple programs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wayne%40dogpoop.cjb.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000589.html">
   <LINK REL="Next"  HREF="000591.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] WinForms not working with simple programs
   </H1>
    <B>Wayne Jensen
    </B> 
    <A HREF="mailto:wayne%40dogpoop.cjb.net"
       TITLE="[Mono-winforms-list] WinForms not working with simple programs">wayne@dogpoop.cjb.net
       </A><BR>
    <I>Wed, 28 Jan 2004 00:51:07 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="000589.html">[Mono-winforms-list] Newbie: mcs fails looking for System.Windows.Forms.Form (0.29 on Windows XP)
</A></li>
        <LI> Next message: <A HREF="000591.html">[Mono-winforms-list] WinForms not working with simple program
 s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#590">[ date ]</a>
              <a href="thread.html#590">[ thread ]</a>
              <a href="subject.html#590">[ subject ]</a>
              <a href="author.html#590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The answer to my question is probably &quot;RTFM&quot;... but if it is, *please* 
point me toward a manual that explains this.  I've been searching for 
hours and can't find an answer.

I installed Mono from CVS and set up wine, following the instructions on 
the Mono web site.  I successfully compiled a simple WinForms app using 
mcs (one that I had previously run on .NET), then tried to run it with 
Mono and had strange things happened.  I got errors saying
&quot;err:menu:MENU_GetSysMenu failed to load system menu!&quot;
a blank form was displayed, and a box popped up on top of that form that 
said:

&quot;The application has produced an exception.  Press 'continue' if you 
want the application to try to continue its execution.
An exception was thrown by the type initializer for System.Drawing.GDIPlus&quot;

This box had three buttons (which appear to be blank until I click on 
them): Stack Trace, Continue, Quit.  Clicking &quot;Stack Trace&quot; causes the 
message &quot;Control notification Code 0 Id = Hwnd 65595&quot; to appear in the 
console.  Clicking &quot;Close&quot; makes the form and the popup box go away, but 
the app is still running in the console.  Clicking &quot;Continue&quot; makes the 
popup go away, and another one appears saying &quot;GdipCreateFromHDC&quot; and 
these messages appear in the console:

&quot;err:menu:MENU_CopySysPopup Unable to load default system menu
err:menu:MENU_GetSysMenu failed to load system menu!
err:menu:MENU_CopySysPopup Unable to load default system menu
err:menu:MENU_GetSysMenu failed to load system menu!&quot;

After hours of searching, the only thing I could think is that I was 
using features that weren't implemented, so I downloaded this example 
from the Mono wiki:

<A HREF="http://www.nullenvoid.com/mono/wiki/index.php/The%20TextBox%20Control.">http://www.nullenvoid.com/mono/wiki/index.php/The%20TextBox%20Control.</A>

It did the same thing, except that instead of a blank form it had the 
text boxes as shown in the screen shots (same error messages, same popup 
on top of the form).

My system:
Red Hat Fedora Core 1
AMD Athlon XP
Mono from CVS
Wine from rpm mono-wine-20030318-1.ximian.6.1.i386.rpm

BTW, I'm able to run console &quot;Hello World&quot; apps just fine, but when I 
try Gtk# or Gnome# apps I get &quot;Unhandled Exception: 
System.DllNotFoundException: libgtk-win32-2.0-0.dll&quot; and &quot;Unhandled 
Exception: System.DllNotFoundException: libgobject-2.0-0.dll&quot;  I know 
this problem is OT for this list, but I just thought I'd include it just 
in case the problems were related.  When I tried fixing this, the only 
information I found said it was problems with /etc/mono/config, but I 
checked mine and it matches what the other postings I read said it 
should be.

Thanks in advance,
Wayne


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000589.html">[Mono-winforms-list] Newbie: mcs fails looking for System.Windows.Forms.Form (0.29 on Windows XP)
</A></li>
	<LI> Next message: <A HREF="000591.html">[Mono-winforms-list] WinForms not working with simple program
 s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#590">[ date ]</a>
              <a href="thread.html#590">[ thread ]</a>
              <a href="subject.html#590">[ subject ]</a>
              <a href="author.html#590">[ author ]</a>
         </LI>
       </UL>
</body></html>
