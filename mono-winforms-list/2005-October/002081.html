<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] TreeView - selected node is hide
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20TreeView%20-%20selected%20node%20is%20hide&In-Reply-To=dd99b8c80510131230p78fd8753re0050429b465981d%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002075.html">
   <LINK REL="Next"  HREF="002079.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] TreeView - selected node is hide</H1>
    <B>Jackson Harper</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20TreeView%20-%20selected%20node%20is%20hide&In-Reply-To=dd99b8c80510131230p78fd8753re0050429b465981d%40mail.gmail.com"
       TITLE="[Mono-winforms-list] TreeView - selected node is hide">jackson at ximian.com
       </A><BR>
    <I>Sun Oct 16 13:46:16 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002075.html">[Mono-winforms-list] TreeView - selected node is hide
</A></li>
        <LI>Next message: <A HREF="002079.html">[Mono-winforms-list] TreeView - selected node is hide
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2081">[ date ]</a>
              <a href="thread.html#2081">[ thread ]</a>
              <a href="subject.html#2081">[ subject ]</a>
              <a href="author.html#2081">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2005-10-13 at 16:30 -0300, Rafael Teixeira wrote:
&gt;<i> I have a patch pending approval for more than a month now to correct
</I>&gt;<i> some miscalculations on the rectangle-size (it is not using the font
</I>&gt;<i> metrics to do it currently) that may cause this behaviour as it wraps
</I>&gt;<i> text incorrectly, when the rectangle is to small.
</I>
Hey, I have actually fixed this behavoir this week. I'll be committing a
patch today, and will merge your work in.

Thanks!
Jackson


&gt;<i> An update version of the patch for TreeView.cs is attached. See if it helps.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> On 10/12/05, Pavel Bansky &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">levap at bansky.net</A>&gt; wrote:
</I>&gt;<i> &gt; Hello Mono folks,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I found strange behaivor of TreeView under KDE. Selected node is hiden
</I>&gt;<i> &gt; under 'selection' so you can't see the text. Seems like rectangle around
</I>&gt;<i> &gt; selected item is filled with colour. Here is the screenshot
</I>&gt;<i> &gt; <A HREF="http://bansky.net/treeview.png">http://bansky.net/treeview.png</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; have a nice day
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Pavel
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Code goes here:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; using System;
</I>&gt;<i> &gt; using System.Drawing;
</I>&gt;<i> &gt; using System.Windows.Forms;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; namespace TreeViewTest
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         public class MyNode : TreeNode
</I>&gt;<i> &gt;         {
</I>&gt;<i> &gt;                 public string filename;
</I>&gt;<i> &gt;         }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         public class MainForm : Form
</I>&gt;<i> &gt;         {
</I>&gt;<i> &gt;                 private System.Windows.Forms.StatusBar statusBar1;
</I>&gt;<i> &gt;                 private System.Windows.Forms.TreeView treeView1;
</I>&gt;<i> &gt;                 private System.Windows.Forms.Button btnAdd;
</I>&gt;<i> &gt;                 public MainForm()
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                 this.btnAdd = new System.Windows.Forms.Button();
</I>&gt;<i> &gt;                 this.treeView1 = new System.Windows.Forms.TreeView();
</I>&gt;<i> &gt;                 this.statusBar1 = new System.Windows.Forms.StatusBar();
</I>&gt;<i> &gt;                 this.SuspendLayout();
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 this.btnAdd.Location = new System.Drawing.Point(8, 8);
</I>&gt;<i> &gt;                 this.btnAdd.Name = &quot;btnAdd&quot;;
</I>&gt;<i> &gt;                 this.btnAdd.Text = &quot;button1&quot;;
</I>&gt;<i> &gt;                 this.btnAdd.Click += new System.EventHandler(this.BtnAddClick);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 this.treeView1.ImageIndex = -1;
</I>&gt;<i> &gt;                 this.treeView1.Location = new System.Drawing.Point(104, 8);
</I>&gt;<i> &gt;                 this.treeView1.Name = &quot;treeView1&quot;;
</I>&gt;<i> &gt;                 this.treeView1.ItemHeight = 20;
</I>&gt;<i> &gt;                 this.treeView1.Size = new System.Drawing.Size(121, 192);
</I>&gt;<i> &gt;                 this.treeView1.AfterSelect += new
</I>&gt;<i> &gt; System.Windows.Forms.TreeViewEventHandler(this.TreeView1AfterSelect);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 this.statusBar1.Location = new System.Drawing.Point(0, 223);
</I>&gt;<i> &gt;                 this.statusBar1.Name = &quot;statusBar1&quot;;
</I>&gt;<i> &gt;                 this.statusBar1.Size = new System.Drawing.Size(240, 22);
</I>&gt;<i> &gt;                 this.statusBar1.Text = &quot;statusBar1&quot;;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 this.AutoScaleBaseSize = new System.Drawing.Size(5, 13);
</I>&gt;<i> &gt;                 this.ClientSize = new System.Drawing.Size(240, 245);
</I>&gt;<i> &gt;                 this.Controls.Add(this.statusBar1);
</I>&gt;<i> &gt;                 this.Controls.Add(this.btnAdd);
</I>&gt;<i> &gt;                 his.Controls.Add(this.treeView1);
</I>&gt;<i> &gt;                 this.Name = &quot;MainForm&quot;;
</I>&gt;<i> &gt;                 this.Text = &quot;MainForm&quot;;
</I>&gt;<i> &gt;                 this.ResumeLayout(false);
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 [STAThread]
</I>&gt;<i> &gt;                 public static void Main(string[] args)
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                         Application.Run(new MainForm());
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 void BtnAddClick(object sender, System.EventArgs e)
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                         MyNode mn = new MyNode();
</I>&gt;<i> &gt;                         mn.Text = &quot;Some_file&quot;;
</I>&gt;<i> &gt;                         mn.filename = &quot;some_name.txt&quot;;
</I>&gt;<i> &gt;                         treeView1.Nodes.Add(mn);
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 void TreeView1AfterSelect(object sender,
</I>&gt;<i> &gt; System.Windows.Forms.TreeViewEventArgs e)
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                         MyNode mn = (MyNode)treeView1.SelectedNode;
</I>&gt;<i> &gt;                         statusBar1.Text = mn.filename;
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         }
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; __________________________________________________________
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Pavel B&#225;nsk&#253;
</I>&gt;<i> &gt; levap at bansky.net                        I write code...
</I>&gt;<i> &gt; __________________________________________________________
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Rafael &quot;Monoman&quot; Teixeira
</I>&gt;<i> ---------------------------------------
</I>&gt;<i> I'm trying to become a &quot;Rosh Gadol&quot; before my own eyes.
</I>&gt;<i> See <A HREF="http://www.joelonsoftware.com/items/2004/12/06.html">http://www.joelonsoftware.com/items/2004/12/06.html</A> for enlightment.
</I>&gt;<i> It hurts!
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-winforms-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002075.html">[Mono-winforms-list] TreeView - selected node is hide
</A></li>
	<LI>Next message: <A HREF="002079.html">[Mono-winforms-list] TreeView - selected node is hide
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2081">[ date ]</a>
              <a href="thread.html#2081">[ thread ]</a>
              <a href="subject.html#2081">[ subject ]</a>
              <a href="author.html#2081">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
