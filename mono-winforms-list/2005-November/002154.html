<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] Re: [Mono-dev] Getting and injecting Windows
	Forms messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Re%3A%20%5BMono-dev%5D%20Getting%20and%20injecting%20Windows%0A%09Forms%20messages&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002152.html">
   <LINK REL="Next"  HREF="002155.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] Re: [Mono-dev] Getting and injecting Windows
	Forms messages</H1>
    <B>Peter Dennis Bartok</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20Re%3A%20%5BMono-dev%5D%20Getting%20and%20injecting%20Windows%0A%09Forms%20messages&In-Reply-To="
       TITLE="[Mono-winforms-list] Re: [Mono-dev] Getting and injecting Windows
	Forms messages">peter at novonyx.com
       </A><BR>
    <I>Sun Nov 20 22:57:48 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002152.html">[Mono-winforms-list] fully portable IDE with GTK
</A></li>
        <LI>Next message: <A HREF="002155.html">[Mono-winforms-list] Re: [Mono-dev] Getting and injecting Windows
	Forms messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2154">[ date ]</a>
              <a href="thread.html#2154">[ thread ]</a>
              <a href="subject.html#2154">[ subject ]</a>
              <a href="author.html#2154">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pablo,

The better list for this discussion is <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-winforms-list at lists.ximian.com.</A>

If you look at our tests (for example 
mcs/Managed.Windows.Forms/Tests/System.Windows.Forms/Label.cs) you'll see 
that there already are tests that 'fake' messages for testing purposes, 
since our implementation uses Win32 messages even on X11 and OS X. (Our 
window drivers translate native messages into their Win32 equivalents and 
pass them up through the framework). However, we only use and generate the 
subset of messages that we require for proper support of WinForm's 
documented features. (It is left as an excercise for contributors to add 
other messages if they thing the drivers should generate them. Same applies 
to controls, we don't create control-specific notifications like BN_CLICKED 
today, since the managed framework has events that convey the same 
information and we don't need them, but for compatibility it is easy to add 
generation of those down the road. Single line of code most of the time)

There's already an automated test tool called nunit-winforms that allows to 
test winforms apps, it doesn't fully work with our WinForms implementation 
yet (something that's I've started fixing and is on my todo list).

As for injecting messages, I can think of multiple ways of doing that, from 
using reflection to using sendmessage (and on X11 translating that into a 
custom message that our driver understands)

Cheers,
  Peter



-----Original Message-----
From: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">pablosantosluac at terra.es</A>&gt;
To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">mono-devel-list at lists.ximian.com</A>&gt;
Date: Sunday, 20 November, 2005 17:04
Subject: [Mono-dev] Getting and injecting Windows Forms messages


&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>In order to retrieve all the messages processed by an application I think I
</I>&gt;<i>can use Application.AddMessageFilter. Ok, but what about injecting them
</I>&gt;<i>later on?
</I>&gt;<i>
</I>&gt;<i>Well, in windows I could use TranslateMessage/DispatchMessage to reinject
</I>&gt;<i>the &quot;recorded&quot; messages (at least in win32 apps), (BTW fixing msg.Hwnd with
</I>&gt;<i>the correct value if you try to &quot;play&quot; after relaunching the application),
</I>&gt;<i>but with mono (on Linux) this is not possible. Is there a way to do that?
</I>&gt;<i>
</I>&gt;<i>With something like that it would be possible to write a multi-platform
</I>&gt;<i>&quot;test recorder&quot; application for Mono, something to create and run 
</I>&gt;<i>&quot;automated
</I>&gt;<i>user tests&quot; on both Windows and Linux (and maybe other platforms too...). I
</I>&gt;<i>don't know such a tool (AFAIK WinRunner, Rational's TestRobot, 
</I>&gt;<i>AutomatedQA's
</I>&gt;<i>TestComplete, and the like, only run on Windows) and maybe it would be 
</I>&gt;<i>quite
</I>&gt;<i>interesting... (at least until we have an Automation namespace like 
</I>&gt;<i>Avalon).
</I>&gt;<i>
</I>&gt;<i>Thanks.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mono-devel-list mailing list
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">Mono-devel-list at lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>
</I>&gt;<i>
</I>&gt;<i> 
</I>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002152.html">[Mono-winforms-list] fully portable IDE with GTK
</A></li>
	<LI>Next message: <A HREF="002155.html">[Mono-winforms-list] Re: [Mono-dev] Getting and injecting Windows
	Forms messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2154">[ date ]</a>
              <a href="thread.html#2154">[ thread ]</a>
              <a href="subject.html#2154">[ subject ]</a>
              <a href="author.html#2154">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
