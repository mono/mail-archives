<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-winforms-list] GetColumn problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20GetColumn%20problem&In-Reply-To=4AB0F1D8.4000904%40jpobst.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004179.html">
   <LINK REL="Next"  HREF="004181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-winforms-list] GetColumn problem</H1>
    <B>PFJ</B> 
    <A HREF="mailto:mono-winforms-list%40lists.ximian.com?Subject=%5BMono-winforms-list%5D%20GetColumn%20problem&In-Reply-To=4AB0F1D8.4000904%40jpobst.com"
       TITLE="[Mono-winforms-list] GetColumn problem">pjohnson1 at uclan.ac.uk
       </A><BR>
    <I>Wed Sep 16 11:18:47 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004179.html">[Mono-winforms-list] GetColumn problem
</A></li>
        <LI>Next message: <A HREF="004181.html">[Mono-winforms-list] GetColumn problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4180">[ date ]</a>
              <a href="thread.html#4180">[ thread ]</a>
              <a href="subject.html#4180">[ subject ]</a>
              <a href="author.html#4180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,


Jonathan Pobst wrote:
&gt;<i> 
</I>&gt;<i> So if you aren't explicitly setting the control's column earlier in 
</I>&gt;<i> code, this will return -1.  If you are relying on the TLP to arrange 
</I>&gt;<i> them automatically, you need to use TLP.GetPositionFromControl().
</I>&gt;<i> 
</I>
This would explain why

int col = lesson.GetPositionFromControl((Control)sender).Column; returns -1
(though I'm not sure if (Control)sender is correct, it appears to be
though).

The code I've used for inserting the columns is this

public lessonplan(int noperiods)
        {
			float periodSize = 100.0F / (float)noperiods;
			InitializeComponent();
			this.lesson.ColumnCount = noperiods + 1;
			this.lesson.ColumnStyles.Add(new
System.Windows.Forms.ColumnStyle(System.Windows.Forms.SizeType.Absolute,
120F));
			for (int i = 0; i &lt; noperiods; ++i)
			{
				this.periodlabel[i] = new System.Windows.Forms.Label();
				this.lesson.ColumnStyles.Add(new
System.Windows.Forms.ColumnStyle(System.Windows.Forms.SizeType.Percent,
periodSize));
				this.periodlabel[i].Location = new System.Drawing.Point(127 + (117 * i),
2);
            	                this.periodlabel[i].Text = &quot;Lesson &quot; + (i +
1).ToString();
				this.periodlabel[i].AutoSize = true;
				this.periodlabel[i].Font = new System.Drawing.Font(&quot;Arial&quot;, 18F,
System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point,
((byte)(0)));
				this.periodlabel[i].Size = new System.Drawing.Size(109, 27);
				this.periodlabel[i].TabIndex = i + 6;
				this.lesson.Controls.Add(this.periodlabel[i], i + 1, 0);
			}
			Invalidate();
        }

This is called when the table is clicked, so it's being set up after the
window is initially set up.

Does this mean that I'm relying on the TLP or something else (which would
also explain the -1)?

TTFN

Paul
-- 
View this message in context: <A HREF="http://www.nabble.com/GetColumn-problem-tp25472747p25474634.html">http://www.nabble.com/GetColumn-problem-tp25472747p25474634.html</A>
Sent from the Mono - WinForms mailing list archive at Nabble.com.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004179.html">[Mono-winforms-list] GetColumn problem
</A></li>
	<LI>Next message: <A HREF="004181.html">[Mono-winforms-list] GetColumn problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4180">[ date ]</a>
              <a href="thread.html#4180">[ thread ]</a>
              <a href="subject.html#4180">[ subject ]</a>
              <a href="author.html#4180">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">More information about the Mono-winforms-list
mailing list</a><br>
</body></html>
