<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-list] shader effect status
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20shader%20effect%20status&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000852.html">
   <LINK REL="Next"  HREF="000854.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-list] shader effect status</H1>
    <B>David Reveman</B> 
    <A HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20shader%20effect%20status&In-Reply-To="
       TITLE="[Moonlight-list] shader effect status">davidr at novell.com
       </A><BR>
    <I>Mon Jan 25 11:51:43 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000852.html">[Moonlight-list] DataGrid ??
</A></li>
        <LI>Next message: <A HREF="000854.html">[Moonlight-list] shader effect status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#853">[ date ]</a>
              <a href="thread.html#853">[ thread ]</a>
              <a href="subject.html#853">[ subject ]</a>
              <a href="author.html#853">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Made a lot of progress on the shader effects in the last two weeks. The
latest patch set and a diff of all the work can be found here:

<A HREF="http://people.freedesktop.org/~davidr/gallium.tar.gz">http://people.freedesktop.org/~davidr/gallium.tar.gz</A>


It seems to work with most sample applications I've found on the web.
However, here's some known issues that you should be aware of:

- Shadow effect has not been implemented yet. I'll get that done in the
next couple of days..

- Support for custom sampler inputs has not been fully implemented yet.
Most of the support for this is in place already and I expect to have
this working in the next couple of days. Any custom shaders that make
use of this will render incorrectly right now and you'll see a warning
message when such an effect is used.

- Many direct3d shader instructions are not yet implemented. A large
subset of the instructions required by PS 2.0 and silverlight are in
place and I haven't found any silverlight app so far that makes use of a
missing instruction. An error message will be printed if an unknown
instruction is encountered and it should be easy to add most of the
instructions that I have yet to implement.

- Vertical texture coordinates are flipped compared to microsoft's
implementation, which causes most reflection shaders to render
incorrectly. I'm hoping that this isn't going to be too hard to fix.

- The current direct3d shader byte-code parsing code is not 100% safe.
If you throw some random binary blobs at it, it's likely to throw some
assertion error message and crash right now. This requires minimal work
to get fixed though.


Even with these known issues present, I think the current code is ready
for trunk. Almost all the work is contained within src/effect.cpp and
src/effect.h. Someone with more C# experience than me should probably
have a look at the changes I made to:
class/System.Windows/System.Windows.Media.Effects/ShaderEffect.cs
I feel pretty confident about the rest.

BTW, if you know of any silverlight pixel shader sites, please send them
to me. I need more test sites.

- david

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000852.html">[Moonlight-list] DataGrid ??
</A></li>
	<LI>Next message: <A HREF="000854.html">[Moonlight-list] shader effect status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#853">[ date ]</a>
              <a href="thread.html#853">[ thread ]</a>
              <a href="subject.html#853">[ subject ]</a>
              <a href="author.html#853">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-list">More information about the Moonlight-list
mailing list</a><br>
</body></html>
