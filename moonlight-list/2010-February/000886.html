<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-list] Strange KeyEventArgs Key &amp; PlatformKeyCode	values
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20Strange%20KeyEventArgs%20Key%20%26%20PlatformKeyCode%0A%09values&In-Reply-To=27496774.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000880.html">
   <LINK REL="Next"  HREF="000914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-list] Strange KeyEventArgs Key &amp; PlatformKeyCode	values</H1>
    <B>Chris Toshok</B> 
    <A HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20Strange%20KeyEventArgs%20Key%20%26%20PlatformKeyCode%0A%09values&In-Reply-To=27496774.post%40talk.nabble.com"
       TITLE="[Moonlight-list] Strange KeyEventArgs Key &amp; PlatformKeyCode	values">toshok at gmail.com
       </A><BR>
    <I>Wed Feb 10 00:40:00 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000880.html">[Moonlight-list] Strange KeyEventArgs Key &amp; PlatformKeyCode values
</A></li>
        <LI>Next message: <A HREF="000914.html">[Moonlight-list] Strange KeyEventArgs Key &amp; PlatformKeyCode	values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#886">[ date ]</a>
              <a href="thread.html#886">[ thread ]</a>
              <a href="subject.html#886">[ subject ]</a>
              <a href="author.html#886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>sorry about the delay, we've been slammed with the olympics work, but I 
just committed the change and it'll go out in the next preview.

The platform key code list for linux is pretty much identical to what 
you pasted in your first mail, we just correctly return Key.Unknown now:

KeyPressed     KeyEventArgs.Key       KeyEventArgs.PlatformKeyCode

`              Key.Unknown  (0xFF)    0x31
-              Key.Unknown  (0xFF)    0x14
=              Key.Unknown  (0xFF)    0x15
[              Key.Unknown  (0xFF)    0x22
]              Key.Unknown  (0xFF)    0x23
\              Key.Unknown  (0xFF)    0x33
;              Key.Unknown  (0xFF)    0x2F
'              Key.Unknown  (0xFF)    0x30
,              Key.Unknown  (0xFF)    0x3B
.              Key.Unknown  (0xFF)    0x3C
/              Key.Unknown  (0xFF)    0x3D
Shift ` (~)    Key.Unknown  (0xFF)    0x31
Shift - (_)    Key.Unknown  (0xFF)    0x14
Shift = (+)    Key.Unknown  (0xFF)    0x15
Shift [ ({)    Key.Unknown  (0xFF)    0x22
Shift ] (})    Key.Unknown  (0xFF)    0x23
Shift \ (|)    Key.Unknown  (0xFF)    0x33
Shift ; (:)    Key.Unknown  (0xFF)    0x2F
Shift ' (&quot;)    Key.Unknown  (0xFF)    0x30
Shift , (&lt;)    Key.Unknown  (0xFF)    0x3B
Shift . (&gt;)    Key.Unknown  (0xFF)    0x3C
Shift / (?)    Key.Unknown  (0xFF)    0x3D

For those people running apps not written with an eye toward supporting 
linux (thanks for this :), there's a special toggle button in the right 
click menu -&gt; Properties dialog labeled &quot;Emulate Windows 
PlatformKeyCodes&quot; which does just that - emulate the windows platform 
keycodes (as well as I could).

Unfortunately the fix I mentioned above *requires* the use of this 
emulation for the dlrconsole.  But we can try and work on those guys and 
have them support linux.

Chris

On 02/08/2010 12:42 AM, monofool wrote:
&gt;<i> Thanks so much for the reply Chris. That's good news, from my point of view
</I>&gt;<i> at least!
</I>&gt;<i>
</I>&gt;<i> I agree and am disappointed with Silverlight keyboard support. It doesn't
</I>&gt;<i> seem intuitive that such common keys cannot be surfaced in a portable way -
</I>&gt;<i> surely it's better for the framework to take care of the underlying
</I>&gt;<i> differences, otherwise every single developer needs to code around them like
</I>&gt;<i> I do in <A HREF="http://virtu.codeplex.com/SourceControl/changeset/view/35708#333170;">http://virtu.codeplex.com/SourceControl/changeset/view/35708#333170;</A>
</I>&gt;<i> for every new target platform I have to test and update the switch on
</I>&gt;<i> Environment.OSVersion.Platform. It really stands out how all the other keys
</I>&gt;<i> are 'portable' except for these dozen or so OEM keys!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Chris Toshok-5 wrote:
</I>&gt;<i>    
</I>&gt;&gt;<i> You're absolutely right.  I'd come up with the Key mappings strictly in
</I>&gt;&gt;<i> the context of getting the dlrconsole working, and clearly not enough
</I>&gt;&gt;<i> testing for compliance.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That said, your mails make me even less pleased about the state of
</I>&gt;&gt;<i> silverlight keyboard support.  I mean, on what planet does the
</I>&gt;&gt;<i> non-keypad '-' key generate Key.Unknown?  clearly a planet that should
</I>&gt;&gt;<i> not exist...  Several of the VK_OEM_* values (including VK_OEM_MINUS -
</I>&gt;&gt;<i> 0xBD) are meant to be abstract values representing the given key on any
</I>&gt;&gt;<i> keyboard, so why is it not generated for the '-' key?  So annoying.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Expect a fix in svn tomorrow.  I'll respond to this email then with more
</I>&gt;&gt;<i> about the linux platformkeycodes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      
</I>&gt;<i>    
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000880.html">[Moonlight-list] Strange KeyEventArgs Key &amp; PlatformKeyCode values
</A></li>
	<LI>Next message: <A HREF="000914.html">[Moonlight-list] Strange KeyEventArgs Key &amp; PlatformKeyCode	values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#886">[ date ]</a>
              <a href="thread.html#886">[ thread ]</a>
              <a href="subject.html#886">[ subject ]</a>
              <a href="author.html#886">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-list">More information about the Moonlight-list
mailing list</a><br>
</body></html>
