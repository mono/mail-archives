<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-list] Different behavior between desktop and brows er w	ith some controls
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20Different%20behavior%20between%20desktop%20and%20brows%0A%20er%20w%09ith%20some%20controls&In-Reply-To=1306918554656-3565281.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001328.html">
   <LINK REL="Next"  HREF="001330.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-list] Different behavior between desktop and brows er w	ith some controls</H1>
    <B>Ian Norton</B> 
    <A HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20Different%20behavior%20between%20desktop%20and%20brows%0A%20er%20w%09ith%20some%20controls&In-Reply-To=1306918554656-3565281.post%40n4.nabble.com"
       TITLE="[Moonlight-list] Different behavior between desktop and brows er w	ith some controls">ian.norton-badrul at thales-esecurity.com
       </A><BR>
    <I>Sat Jun  4 04:12:08 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001328.html">[Moonlight-list] Different behavior between desktop and browser w	ith some controls
</A></li>
        <LI>Next message: <A HREF="001330.html">[Moonlight-list] Remaining work for the Moonlight 4 SDK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1329">[ date ]</a>
              <a href="thread.html#1329">[ thread ]</a>
              <a href="subject.html#1329">[ subject ]</a>
              <a href="author.html#1329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jun 01, 2011 at 09:55:54AM +0100, Mattia Vitturi wrote:
&gt;<i> 
</I>&gt;<i> Ian Norton-Badrul wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What are the styles it cant load?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I had similar with some controls but managed to get around it by
</I>&gt;<i> &gt; programatically giving my MoonlightHost.Content a control before loading
</I>&gt;<i> &gt; my xaml.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This could partly be due to the gap with assembly loading due to not
</I>&gt;<i> &gt; loading appmanifest.xaml in desktop mode.
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> I suspect I didn't understand you.
</I>&gt;<i> In our software we correctly load the appmanifest, using the LoadXap of the
</I>&gt;<i> moonlight host... If I hadn't the dll in the appmanifest, the application
</I>&gt;<i> wouldn't start. Trying to assign to MoonlightHost.Content the 'problematic
</I>&gt;<i> control' turns out to generate a huge mess and ...well, the application
</I>&gt;<i> deletes itself, all the content of the folder and the folder.
</I>
Hi Mattia,

I encountered this myself yesterday so know what you mean now.

What I think happens is when running as a desktop app the MoonlightHost control
starts up moonlight and bypasses the code that loads the appmanifest.xaml file.

By the time you get to load your control although the managed classes know
about it's assembly and xaml the underlaying native code (initialized by
MoonlightHost when you set Content or call LoadXaml) doesnt know about that
assembly containing the new controls so won't render it. (it's list of known
assemblies gets initialized by the appmanifest code).

When/if moonlight changes the way it loads assemblies this might work better :/

Ian
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001328.html">[Moonlight-list] Different behavior between desktop and browser w	ith some controls
</A></li>
	<LI>Next message: <A HREF="001330.html">[Moonlight-list] Remaining work for the Moonlight 4 SDK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1329">[ date ]</a>
              <a href="thread.html#1329">[ thread ]</a>
              <a href="subject.html#1329">[ subject ]</a>
              <a href="author.html#1329">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-list">More information about the Moonlight-list
mailing list</a><br>
</body></html>
