<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-list] Moonlight Desklets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20Moonlight%20Desklets&In-Reply-To=20100616120617.GA21209%40carrot.ncipher.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001075.html">
   <LINK REL="Next"  HREF="001076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-list] Moonlight Desklets</H1>
    <B>Dean Ellis</B> 
    <A HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20Moonlight%20Desklets&In-Reply-To=20100616120617.GA21209%40carrot.ncipher.com"
       TITLE="[Moonlight-list] Moonlight Desklets">dellis1972 at googlemail.com
       </A><BR>
    <I>Wed Jun 16 08:24:31 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001075.html">[Moonlight-list] Moonlight Desklets
</A></li>
        <LI>Next message: <A HREF="001076.html">[Moonlight-list] Moonlight Desklets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1047">[ date ]</a>
              <a href="thread.html#1047">[ thread ]</a>
              <a href="subject.html#1047">[ subject ]</a>
              <a href="author.html#1047">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The problem with the controls not showing is that the generic style
information is not being found, you get round this using the
appmanifest.xaml. If you're not using an external dll with your
screens it in then just have the exe in the appmanifest and it should
work fine.You might even be able to get away with just this ( I found
this from one of my test applications)

&lt;Deployment xmlns=&quot;<A HREF="http://schemas.microsoft.com/client/2007/deployment&quot;">http://schemas.microsoft.com/client/2007/deployment&quot;</A>
xmlns:x=&quot;<A HREF="http://schemas.microsoft.com/winfx/2006/xaml&quot;">http://schemas.microsoft.com/winfx/2006/xaml&quot;</A>
EntryPointAssembly=&quot;Test&quot; EntryPointType=&quot;System.Windows.Application&quot;
RuntimeVersion=&quot;3.0.40624.0&quot;&gt;
  &lt;Deployment.Parts&gt;
  &lt;/Deployment.Parts&gt;
&lt;/Deployment&gt;

where &quot;Test&quot; is the name of your exe. I'm not full up to speed on how
this appmanifest stuff works, this is just how I managed to get my
apps working.

I've been working on an extension to my Desklet patch which will auto
generate the appmanifest.xaml but it's not working yet.

Dean

On 16 June 2010 13:06, Ian Norton-Badrul
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">ian.norton at thales-esecurity.com</A>&gt; wrote:
&gt;<i> I think I'm starting to understand that I had the total wrong idea.
</I>&gt;<i>
</I>&gt;<i> I've started from the Moonlight.Gtk example here
</I>&gt;<i> <A HREF="http://www.mono-project.com/MoonlightDesktop">http://www.mono-project.com/MoonlightDesktop</A>
</I>&gt;<i>
</I>&gt;<i> I figured I could just instantiate Controls from System.Windows.Controls
</I>&gt;<i> and add them to the canvas (or stackpanel etc)
</I>&gt;<i>
</I>&gt;<i> To a certian extent this works ( I can do TextBlocks, Canvas, Grid,
</I>&gt;<i> StackPanel ) but can't do anything else.
</I>&gt;<i>
</I>&gt;<i> So, If I want these other controls then I need to initialize more things
</I>&gt;<i> inside?
</I>&gt;<i>
</I>&gt;<i> Sorry if I'm seeming dumb :)
</I>&gt;<i>
</I>&gt;<i> Ian
</I>&gt;<i>
</I>&gt;<i> On Wed, Jun 16, 2010 at 12:34:35PM +0100, Dean Ellis wrote:
</I>&gt;&gt;<i> This should do the trick.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My app is called Test and I have a xaml Screen dll which is Screen1.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> this needs to be called appmanifest.xaml (case important) and in the
</I>&gt;&gt;<i> same directory as you application.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;Deployment
</I>&gt;&gt;<i> &#160; &#160;xmlns=&quot;<A HREF="http://schemas.microsoft.com/client/2007/deployment&quot;">http://schemas.microsoft.com/client/2007/deployment&quot;</A>
</I>&gt;&gt;<i> &#160; &#160;xmlns:x=&quot;<A HREF="http://schemas.microsoft.com/winfx/2006/xaml&quot;">http://schemas.microsoft.com/winfx/2006/xaml&quot;</A>
</I>&gt;&gt;<i> &#160; &#160;EntryPointAssembly=&quot;Test&quot;
</I>&gt;&gt;<i> &#160; &#160;EntryPointType=&quot;System.Windows.Application&quot; RuntimeVersion=&quot;3.0.40624.0&quot;&gt;
</I>&gt;&gt;<i> &#160; &lt;Deployment.Parts&gt;
</I>&gt;&gt;<i> &#160; &#160; &#160;&lt;AssemblyPart x:Name=&quot;Test&quot; Source=&quot;Test.exe&quot;/&gt;
</I>&gt;&gt;<i> &#160; &#160; &#160;&lt;AssemblyPart x:Name=&quot;Screen1&quot; Source=&quot;Screen1.dll&quot;/&gt;
</I>&gt;&gt;<i> &#160; &lt;/Deployment.Parts&gt;
</I>&gt;&gt;<i> &lt;/Deployment&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> regards
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dean
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 16 June 2010 11:50, Ian Norton-Badrul
</I>&gt;&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">ian.norton at thales-esecurity.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; Right, er,. I don't have one :)
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Are there any reasonably good examples you've found on getting
</I>&gt;&gt;<i> &gt; moonlight.gtk working with actual UserControls ?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Ian
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On Wed, Jun 16, 2010 at 09:45:31AM +0100, technomage1972 wrote:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Hi Ian
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; is your appmanifest.xaml correct? It will need to contain your host app and
</I>&gt;&gt;<i> &gt;&gt; the dll in which your controls are declared. Basically I think the error is
</I>&gt;&gt;<i> &gt;&gt; that it cannot find the default style for the control.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Dean
</I>&gt;&gt;<i> &gt;&gt; --
</I>&gt;&gt;<i> &gt;&gt; View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Moonlight-Desklets-tp2216764p2257070.html">http://mono.1490590.n4.nabble.com/Moonlight-Desklets-tp2216764p2257070.html</A>
</I>&gt;&gt;<i> &gt;&gt; Sent from the Moonlight mailing list archive at Nabble.com.
</I>&gt;&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt; Moonlight-list mailing list
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">Moonlight-list at lists.ximian.com</A>
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">http://lists.ximian.com/mailman/listinfo/moonlight-list</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; --
</I>&gt;&gt;<i> &gt; Ian Norton-Badrul
</I>&gt;&gt;<i> &gt; Thales nCipher Product Line
</I>&gt;&gt;<i> &gt; <A HREF="http://www.ncipher.com">http://www.ncipher.com</A>
</I>&gt;&gt;<i> &gt; +44 1223 723 600
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Moonlight-list mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">Moonlight-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">http://lists.ximian.com/mailman/listinfo/moonlight-list</A>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ian Norton-Badrul
</I>&gt;<i> Thales nCipher Product Line
</I>&gt;<i> <A HREF="http://www.ncipher.com">http://www.ncipher.com</A>
</I>&gt;<i> +44 1223 723 600
</I>&gt;<i>
</I></PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001075.html">[Moonlight-list] Moonlight Desklets
</A></li>
	<LI>Next message: <A HREF="001076.html">[Moonlight-list] Moonlight Desklets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1047">[ date ]</a>
              <a href="thread.html#1047">[ thread ]</a>
              <a href="subject.html#1047">[ subject ]</a>
              <a href="author.html#1047">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-list">More information about the Moonlight-list
mailing list</a><br>
</body></html>
