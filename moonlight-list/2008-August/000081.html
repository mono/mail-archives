<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-list] new configure support for disabling	browser/desktop assemblies independently
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20new%20configure%20support%20for%20disabling%0A%09browser/desktop%20assemblies%20independently&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000082.html">
   <LINK REL="Next"  HREF="000083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-list] new configure support for disabling	browser/desktop assemblies independently</H1>
    <B>Chris Toshok</B> 
    <A HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20new%20configure%20support%20for%20disabling%0A%09browser/desktop%20assemblies%20independently&In-Reply-To="
       TITLE="[Moonlight-list] new configure support for disabling	browser/desktop assemblies independently">toshok at gmail.com
       </A><BR>
    <I>Sun Aug 17 14:22:11 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000082.html">[Moonlight-list] package names
</A></li>
        <LI>Next message: <A HREF="000083.html">[Moonlight-list] [Mono-dev] Moonlight 0.8 - Where are they	Release Notes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81">[ date ]</a>
              <a href="thread.html#81">[ thread ]</a>
              <a href="subject.html#81">[ subject ]</a>
              <a href="author.html#81">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I replaced the --with-mono configure arg with --with-managed.  The possible
values (--with-managed=$value) are:


   - desktop: attempts to configure in support for just desktop assemblies
   (the &quot;3.0&quot; profile.  GtkSilver is here)
   - browser: attempts to configure in support for just browser assemblies
   (the &quot;2.1&quot; profile.  This enables silverlight2 browser plugin support)
   - yes (the default when you use &quot;--with-managed&quot;):  probes for
   dependencies for both.
   - no (specified either as &quot;--with-managed=no&quot; or &quot;--without-managed&quot;):
   disables managed code entirely.

If you don't have the right dependencies installed for the 2 options
(gtk-sharp-2.0 and rsvg-sharp-2.0 for desktop, mono &gt;= 1.9 with smcs for
browser), the support still won't be enabled, and if neither desktop nor
browser dependencies are available, configure will still disable managed
code entirely.  It'll tell you what's going on in the final configuration
output, though.

for hackers:

This also requires differentiating between Silverlight2 support in the src/
and plugin/ directories.  In the case where moonlight is configured
--with-managed=desktop, the plugin will be built only to support 1.0 (since
we won't be compiling the 2.1 assemblies).  So, any code that needs to be
ifdefed in the plugin for 2.0-ness should use the new SL_PLUGIN_2_0 define.
This will be defined iff the 2.1 assemblies are being compiled.  The old
SL_2_0 ifdef should still be used in src/, and will be defined if either 2.1
or 3.0 assemblies are being built.

-toshok
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/moonlight-list/attachments/20080817/9a0c831b/attachment.html">http://lists.ximian.com/pipermail/moonlight-list/attachments/20080817/9a0c831b/attachment.html</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000082.html">[Moonlight-list] package names
</A></li>
	<LI>Next message: <A HREF="000083.html">[Moonlight-list] [Mono-dev] Moonlight 0.8 - Where are they	Release Notes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#81">[ date ]</a>
              <a href="thread.html#81">[ thread ]</a>
              <a href="subject.html#81">[ subject ]</a>
              <a href="author.html#81">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-list">More information about the Moonlight-list
mailing list</a><br>
</body></html>
