Index: glyphs.cpp
===================================================================
--- glyphs.cpp	(revision 131929)
+++ glyphs.cpp	(working copy)
@@ -413,16 +413,48 @@
 	}
 	
 	cairo_save (cr);
-	cairo_set_matrix (cr, &absolute_xform);
 	
+	cairo_matrix_t simulations_xform = absolute_xform;
+	
+	if ((style_simulations & StyleSimulationsBold) != 0) {
+		cairo_matrix_t bold_xform;
+		
+		cairo_matrix_init_scale (&bold_xform, 1.085, 1.0);
+		cairo_matrix_multiply (&simulations_xform, &bold_xform, &simulations_xform);
+	}
+	
+	if ((style_simulations & StyleSimulationsItalic) != 0) {
+		TextFont *font = desc->GetFont ();
+		cairo_matrix_t italics_xform;
+		
+		cairo_matrix_init_translate (&italics_xform, 0.0, font->Height ());
+		italics_xform.xy = tan (-15.0 * M_PI / 180);
+		cairo_matrix_translate (&italics_xform, 0.0, -font->Height ());
+		
+		cairo_matrix_multiply (&simulations_xform, &italics_xform, &simulations_xform);
+		font->unref ();
+	}
+	
+	cairo_set_matrix (cr, &simulations_xform);
+	
 	Point p = GetOriginPoint ();
 	Rect area = Rect (p.x, p.y, 0, 0);
 	GetSizeForBrush (cr, &(area.width), &(area.height));
+	
 	fill->SetupBrush (cr, area);
-	
 	cairo_append_path (cr, &path->cairo);
 	fill->Fill (cr);
 	
+	if ((style_simulations & StyleSimulationsBold) != 0) {
+		double thickness = desc->GetSize () / 80.0;
+		
+		cairo_set_line_width (cr, thickness);
+		
+		fill->SetupBrush (cr, area);
+		cairo_append_path (cr, &path->cairo);
+		fill->Stroke (cr);
+	}
+	
 	cairo_restore (cr);
 }
 
