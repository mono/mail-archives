Index: audio.cpp
===================================================================
--- audio.cpp	(revision 117589)
+++ audio.cpp	(working copy)
@@ -427,7 +427,7 @@
 guint32
 AudioSource::Write (void *dest, guint32 samples)
 {
-	AudioData *data [channels + 1];
+	AudioData **data = (AudioData **)alloca(sizeof(AudioData *) * (channels + 1));
 	guint32 result = 0;
 	
 	switch (channels) {
@@ -484,11 +484,11 @@
 AudioSource::WriteFull (AudioData **channel_data, guint32 samples)
 {
 	guint32 channels = GetChannels ();
-	gint32 volumes [channels];
+	gint32 *volumes = (gint32 *)alloca(sizeof(gint32) * channels);
 	gint32 volume;
 	double balance;
 	bool muted;
-	gint16 *write_ptr [channels];
+	gint16 **write_ptr = (gint16 **)alloca(sizeof(gint16 *) * channels);
 	gint16 *read_ptr = NULL;
 	guint32 result = 0;
 	guint32 bytes_per_sample = 2 * channels;
