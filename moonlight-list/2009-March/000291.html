<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-list] Distribution and initialization of	accessibility in Moonlight
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20Distribution%20and%20initialization%20of%0A%09accessibility%20in%20Moonlight&In-Reply-To=49B1D893.1050501%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000290.html">
   <LINK REL="Next"  HREF="000292.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-list] Distribution and initialization of	accessibility in Moonlight</H1>
    <B>Chris Toshok</B> 
    <A HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20Distribution%20and%20initialization%20of%0A%09accessibility%20in%20Moonlight&In-Reply-To=49B1D893.1050501%40novell.com"
       TITLE="[Moonlight-list] Distribution and initialization of	accessibility in Moonlight">toshok at gmail.com
       </A><BR>
    <I>Sat Mar  7 01:15:40 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000290.html">[Moonlight-list] Distribution and initialization	of	accessibility in Moonlight
</A></li>
        <LI>Next message: <A HREF="000292.html">[Moonlight-list] Distribution and initialization of accessibility in Moonlight
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#291">[ date ]</a>
              <a href="thread.html#291">[ thread ]</a>
              <a href="subject.html#291">[ subject ]</a>
              <a href="author.html#291">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Mar 6, 2009 at 6:14 PM, Geoff Norton &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">gnorton at novell.com</A>&gt; wrote:

&gt;<i>  Following up on a few points here.
</I>&gt;<i>
</I>&gt;<i> On 03/06/2009 08:44 PM, Miguel de Icaza wrote:
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  a) In the XPI of Moonlight itself (this seemed to be the preferred
</I>&gt;<i> election of some people in the IRC channel).
</I>&gt;<i> Disadvantage: it would pull some dependencies such as atk-sharp and
</I>&gt;<i> glib-sharp so the XPI size grows.
</I>&gt;<i> Advantage: everybody gets native accessibility support in Linux if they
</I>&gt;<i> have their corresponding A11Y client software installed (at-spi, screen
</I>&gt;<i> readers, etc.), without the need of packaging the bridge for every distro.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  I would not want to ship glib-sharp, atk-sharp or anything like that.
</I>&gt;<i>
</I>&gt;<i> The UIA code probably should not use those either, it likely can get
</I>&gt;<i> away by just P/Invoking the handful of calls that it needs.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Agreed, you cannot possibly need that many functions that you cannot just
</I>&gt;<i> pinvoke them directly.
</I>&gt;<i> Additionally, I'm not keen on the glue associated with them.  Doesn't
</I>&gt;<i> firefox provide its own accessibility plumbing for extensions/plugins
</I>&gt;<i> anyways?  Someone needs to do some digging here.
</I>&gt;<i>
</I>
Firefox definitely doesn't provide accessibility plumbing for plugins (or at
least nothing in a form we can use if we want to remain browser agnostic).
extensions perhaps, since they can tie directly into the chrome via an
overlay, but that doesn't help us.

I share sandy's confusion when it comes to atk-sharp/glib-sharp.  It's not
like they're huge apis.  We could tune them to remove what we don't need in
the moonlight case, but I'd *much* rather base whatever we use off something
that has a release # attached to it instead of a potentially large number of
c&amp;p'ed pinvokes, especially given that any distribution mechanism we choose
has an update mechanism available.

 c) In a 2nd XPI.
Advantage: it's optional so we don't grow the size of the Moonlight XPI.
Advantage: packaged for every Firefox user regardless of the distro used.
Disadvantage/Limitation?: can dependencies between extensions be
defined? Mmm, googled quickly and it seems to be
supported:<A HREF="http://forums.mozillazine.org/viewtopic.php?f=38&amp;t=458040&amp;start=0&amp;st=0&amp;sk=t&amp;sd=a">http://forums.mozillazine.org/viewtopic.php?f=38&amp;t=458040&amp;start=0&amp;st=0&amp;sk=t&amp;sd=a</A>

 This is another viable option if you really want to ship all of those
extra libraries.


We can also provide an accessibility download in much the same way as
we do with codecs in the xpi case.  Maybe flesh out the both the
go-mono.com/moonlight page, and also the right click menu/properties dialog.


 I do not know why System.Windows.dll needs to have a hard dependency on
the bridge, it should probably have it on the accessibility assembly,
and that assembly should likely have a soft dependency, and fall back
gracefully if libraries/packages are not installed.



Agreed.
&gt;<i>
</I>
&gt;<i>
</I>&gt;<i>  B: Local Reflection: System.Windows.dll would try to locate the bridge
</I>&gt;<i> from the Moonlight's GAC.
</I>&gt;<i>
</I>&gt;<i> C: Reflection to a different GAC: System.Windows.dll would try to locate
</I>&gt;<i> the bridge from the System GAC (I've done a proof of concept in
</I>&gt;<i> System.Windows.dll and this works specifying an absolute URI, although
</I>&gt;<i> some moon devs have stated that the fact that it worked may be a bug).
</I>&gt;<i>
</I>&gt;<i> D: Embedding API: we would use some mono_assembly_load_* if we decide
</I>&gt;<i> that moonlight should load the bridge instead of the UIA Provider.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Lets keep in mind, moonlight doesn't really have a &quot;gac&quot;, and will
</I>&gt;<i> certainly not go loading stuff from /usr/lib/whatever if its been installed
</I>&gt;<i> from xpi.
</I>&gt;<i>
</I>

&gt;<i> Additional concerns:
</I>&gt;<i>
</I>&gt;<i>   What about fully unmanaged items that we have, do they take part in
</I>&gt;<i> a11y?  What about items that we have a light  managed wrapper over a native
</I>&gt;<i> implementation, will there be enough information for you here?
</I>&gt;<i> Is there a list of SL2 accessible controls and what they need?
</I>&gt;<i>
</I>
The system.windows.automation.peer/system.windows.automation.provider
namespaces (which I *think* are at least api complete wrt gui-compare)
should show us the minimum we need to expose.  I don't think we need to do a
comprehensive audit before beginning, though.  We can solve any issues as
they come up - they're pretty much guaranteed to be small.

chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/moonlight-list/attachments/20090306/6a93a34d/attachment.html">http://lists.ximian.com/pipermail/moonlight-list/attachments/20090306/6a93a34d/attachment.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000290.html">[Moonlight-list] Distribution and initialization	of	accessibility in Moonlight
</A></li>
	<LI>Next message: <A HREF="000292.html">[Moonlight-list] Distribution and initialization of accessibility in Moonlight
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#291">[ date ]</a>
              <a href="thread.html#291">[ thread ]</a>
              <a href="subject.html#291">[ subject ]</a>
              <a href="author.html#291">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-list">More information about the Moonlight-list
mailing list</a><br>
</body></html>
