<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-list] GAC and detecting platform code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20GAC%20and%20detecting%20platform%20code&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000311.html">
   <LINK REL="Next"  HREF="000308.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-list] GAC and detecting platform code</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20GAC%20and%20detecting%20platform%20code&In-Reply-To="
       TITLE="[Moonlight-list] GAC and detecting platform code">sebastien at ximian.com
       </A><BR>
    <I>Fri Mar 13 08:55:34 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000311.html">[Moonlight-list] Problem running MoonLight desklet examples
</A></li>
        <LI>Next message: <A HREF="000308.html">[Moonlight-list] GAC and detecting platform code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#306">[ date ]</a>
              <a href="thread.html#306">[ thread ]</a>
              <a href="subject.html#306">[ subject ]</a>
              <a href="author.html#306">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Two small issues we need to fix for ML2:

1) GAC

The GAC should not be used since it break the isolation provided by the
XAP (and compatibility with MS Silverlight). Right now our 2.1
assemblies are stored in the GAC (except mscorlib.dll iirc).


2) Platform Code

The CoreCLR security model [1] works because there's a clear distinction
between the &quot;platform&quot; (plugin provided) and the &quot;application&quot; (user
provided) code. AFAIK Silverlight 2.0 detect platform code using 2
tricks:

(a) code location: it's not the in GAC, but stored in a single directory
(b) code signing

Since (b) is not an easy option for open source software we'll need to
rely (even more) on (a).


Suggestions: 

* short term (platform code)

Move all moonlight platform code [1] under the plugin moonlight
directory (i.e. same location as the downloaded codecs). By keeping a
list of known assemblies (names) this gives us a known, full path to
every platform assemblies (easy and safer to check). This also removes
part of ML dependence on the GAC.


* long term (GAC)

Make sure the GAC cannot be indirectly used by the plugin.


Comments ?

Sebastien

[1] <A HREF="http://www.mono-project.com/Moonlight2CoreCLR">http://www.mono-project.com/Moonlight2CoreCLR</A>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000311.html">[Moonlight-list] Problem running MoonLight desklet examples
</A></li>
	<LI>Next message: <A HREF="000308.html">[Moonlight-list] GAC and detecting platform code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#306">[ date ]</a>
              <a href="thread.html#306">[ thread ]</a>
              <a href="subject.html#306">[ subject ]</a>
              <a href="author.html#306">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-list">More information about the Moonlight-list
mailing list</a><br>
</body></html>
