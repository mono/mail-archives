<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-list] OpenVG support for Moonlight
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20OpenVG%20support%20for%20Moonlight&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000558.html">
   <LINK REL="Next"  HREF="000563.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-list] OpenVG support for Moonlight</H1>
    <B>J&#233;r&#233;mie Laval</B> 
    <A HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20OpenVG%20support%20for%20Moonlight&In-Reply-To="
       TITLE="[Moonlight-list] OpenVG support for Moonlight">jeremie.laval at gmail.com
       </A><BR>
    <I>Thu Jul 23 08:36:24 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000558.html">[Moonlight-list] Getting a basic IronPython SL app working in	Moonlight
</A></li>
        <LI>Next message: <A HREF="000563.html">[Moonlight-list] mono's  make install error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#561">[ date ]</a>
              <a href="thread.html#561">[ thread ]</a>
              <a href="subject.html#561">[ subject ]</a>
              <a href="author.html#561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey folks,

The attached patch add support for Moonlight working on top of OpenVG.
Basically, there are three components that are modified or provided :
ShivaVG (the OpenVG implementation used in the port which is based on
OpenGL), Cairo (by adding the OpenVG surface) and Moonlight itself (for
using correctly the new surface).

Dependencies
============

- liboil 0.3
- gtkglext 1.2.0
- an accelerated OpenGL with PBO support (glxinfo | grep
'GL_ARB_pixel_buffer_object')

How to build
==========

- Extract the provided ShivaVG tarball, then, before calling autogen.sh and
configure, run `source exportShivavg.sh' which set up some environment
variables. After that, make and make install as usual.

- Compile moon with openvg.patch applied (patch based on r138450). Before
running autogen.sh or configure, run `source exportMoon.sh' which also setup
some environment variables. You may have to `make clean &amp;&amp; make distclean'
for things to work correctly.

Demos that are known to &quot;work&quot;
=========================

- BubbleMark : <A HREF="http://bubblemark.com/silverlight2.html">http://bubblemark.com/silverlight2.html</A>
- DeepZoom map :
<A HREF="http://blogs.msdn.com/lutzg/archive/2009/03/03/panning-across-large-maps-with-deep-zoom-and-custom-animations.aspx">http://blogs.msdn.com/lutzg/archive/2009/03/03/panning-across-large-maps-with-deep-zoom-and-custom-animations.aspx</A>

TODO
=====

- Find a way to not monopolize GLib mainloop (fix Firefox redrawing).
- Add VBO to ShivaVG for path handling.
- Make Cairo OpenVG surface use more of ShivaVG rather than fallbacking on
cairo_image_surface operations.
- Image caching on Moonlight is currently totally disabled. Create another
cairo surface wrapping vgImage for that (that could maybe be returned by
cairo_surface_create_similar to keep the current caching code working).
- Get that f*ck*ng slowdown on NVidia squashed.
- Handle the resize of the canvas.

About Silverlight 3.0
===============

The cool thing about ShivaVG here is that it relies on OpenGL. It means that
when Moonlight will transition to SL 3.0 and its 3D effects, you can
basically still call Cairo/OpenVG for the 2D stuff and insert some other
OpenGL calls when 3D is necessary.

Cheers.

--
J&#233;r&#233;mie Laval
<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">jeremie.laval at gmail.com</A>
<A HREF="http://garuma.wordpress.com">http://garuma.wordpress.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/moonlight-list/attachments/20090723/b824f9db/attachment-0001.html">http://lists.ximian.com/pipermail/moonlight-list/attachments/20090723/b824f9db/attachment-0001.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: moon-openvg.tar.bz2
Type: application/x-bzip2
Size: 732916 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/moonlight-list/attachments/20090723/b824f9db/attachment-0001.bz2">http://lists.ximian.com/pipermail/moonlight-list/attachments/20090723/b824f9db/attachment-0001.bz2</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000558.html">[Moonlight-list] Getting a basic IronPython SL app working in	Moonlight
</A></li>
	<LI>Next message: <A HREF="000563.html">[Moonlight-list] mono's  make install error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#561">[ date ]</a>
              <a href="thread.html#561">[ thread ]</a>
              <a href="subject.html#561">[ subject ]</a>
              <a href="author.html#561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-list">More information about the Moonlight-list
mailing list</a><br>
</body></html>
