<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Moonlight-list] Moonlight Desktop
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20Moonlight%20Desktop&In-Reply-To=20110523063645.GA14271%40carrot.ncipher.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001306.html">
   <LINK REL="Next"  HREF="001314.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Moonlight-list] Moonlight Desktop</H1>
    <B>Alan</B> 
    <A HREF="mailto:moonlight-list%40lists.ximian.com?Subject=%5BMoonlight-list%5D%20Moonlight%20Desktop&In-Reply-To=20110523063645.GA14271%40carrot.ncipher.com"
       TITLE="[Moonlight-list] Moonlight Desktop">alan.mcgovern at gmail.com
       </A><BR>
    <I>Mon May 23 08:28:57 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001306.html">[Moonlight-list] Moonlight Desktop
</A></li>
        <LI>Next message: <A HREF="001314.html">[Moonlight-list] Moonlight Desktop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1311">[ date ]</a>
              <a href="thread.html#1311">[ thread ]</a>
              <a href="subject.html#1311">[ subject ]</a>
              <a href="author.html#1311">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I just did some testing with moonlight-desktop. I fixed one issue with a
TypeConverter being miscompiled when compiling moonlight for the desktop
profile and you'll also need the attached patch to ensure the
appmanifest.xaml file is parsed when in desktop mode. Note that (for now)
the casing is important, it has to be all lower case. If you've been
compiling moonlight from source, just apply the attached patch and
recompile.

With moon from git and the attached patch, I was able to get the
gridsplitter running just fine in a Gtk application. The only caveat is that
right now you have to have any extra moonlight assemblies copied locally. I
had to copy the file
&quot;/opt/mono/lib/mono/gac/System.Windows.Controls/2.0.5.0__0738eb9f132ed756/System.Windows.Controls.dll&quot;
to the same directory as my built application. This is due to a limitation
in how silverlight web loads assemblies which carries over to the desktop
case. We may fix this or work around it later.

Hope that helps!
Alan

On Mon, May 23, 2011 at 7:36 AM, Ian Norton &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">ian.norton-badrul at thales-esecurity.com</A>&gt; wrote:
&gt;<i> On Fri, May 13, 2011 at 10:22:53AM +0100, Ian Norton wrote:
</I>&gt;&gt;<i> On Fri, May 13, 2011 at 09:37:01AM +0100, Mattia Vitturi wrote:
</I>&gt;&gt;<i> &gt; &gt; I basically want to use GridSplitter from System.Windows.Controls in
</I>my
&gt;&gt;<i> &gt; &gt; xaml.
</I>&gt;&gt;<i> &gt; &gt; I have the correct xmlns added and have added the following to
</I>&gt;&gt;<i> &gt; &gt; appmanifest.xaml
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; &gt; &lt;Deployment xmlns=&quot;
</I><A HREF="http://schemas.microsoft.com/client/2007/deployment&quot;">http://schemas.microsoft.com/client/2007/deployment&quot;</A>
&gt;&gt;<i> &gt; &gt; xmlns:x=&quot;<A HREF="http://schemas.microsoft.com/winfx/2006/xaml&quot;">http://schemas.microsoft.com/winfx/2006/xaml&quot;</A>
</I>&gt;&gt;<i> &gt; &gt; EntryPointAssembly=&quot;MyProgram&quot;
</I>EntryPointType=&quot;MyNamespace.MyMainClass&quot;&gt;
&gt;&gt;<i> &gt; &gt;  &lt;Deployment.Parts&gt;
</I>&gt;&gt;<i> &gt; &gt;   &lt;AssemblyPart x:Name=&quot;System.Windows.Controls&quot;
</I>&gt;&gt;<i> &gt; &gt; Source=&quot;System.Windows.Controls&quot;/&gt;
</I>&gt;&gt;<i> &gt; &gt;  &lt;/Deployment.Parts&gt;
</I>&gt;&gt;<i> &gt; &gt; &lt;/Deployment&gt;
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I suspect you just missed '.dll' in the source.
</I>&gt;&gt;<i> &gt; The appmanifest should contain, then...:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;   &lt;AssemblyPart x:Name=&quot;System.Windows.Controls&quot;
</I>&gt;&gt;<i> &gt; Source=&quot;System.Windows.Controls.dll&quot;/&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi Matt,  thanks, I had tried both,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; If it isn't enough, add and deploy with your application the dll.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Intresting, I'd not thought of putting it side-by-side, I'll give that a
</I>try.
&gt;<i>
</I>&gt;<i> Hi Mattia,
</I>&gt;<i>
</I>&gt;<i> Still no luck getting my app to use controls in external assemblies (yet I
</I>can
&gt;<i> invoke them in code and insert them into the loaded xaml)
</I>&gt;<i>
</I>&gt;<i> My appmanifest is this:-
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;Deployment xmlns=&quot;<A HREF="http://schemas.microsoft.com/client/2007/deployment&quot;">http://schemas.microsoft.com/client/2007/deployment&quot;</A>
</I>&gt;<i> xmlns:x=&quot;<A HREF="http://schemas.microsoft.com/winfx/2006/xaml&quot;">http://schemas.microsoft.com/winfx/2006/xaml&quot;</A>
</I>&gt;<i> EntryPointAssembly=&quot;XamlPreviewer&quot;
</I>EntryPointType=&quot;XamlPreviewer.MainClass&quot;&gt;
&gt;<i>  &lt;Deployment.Parts&gt;
</I>&gt;<i>    &lt;AssemblyPart x:Name=&quot;System.Windows.Controls&quot;
</I>Source=&quot;System.Windows.Controls.dll&quot;/&gt;
&gt;<i>  &lt;/Deployment.Parts&gt;
</I>&gt;<i> &lt;/Deployment&gt;
</I>&gt;<i>
</I>&gt;<i> I've also put System.Windows.Controls in the same folder with no joy.
</I>&gt;<i>
</I>&gt;<i> Does the appmanifest might only make a difference if loaded via an xap?
</I>&gt;<i>
</I>&gt;<i> Ian
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Moonlight-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">Moonlight-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/moonlight-list">http://lists.ximian.com/mailman/listinfo/moonlight-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/moonlight-list/attachments/20110523/8f24cf6c/attachment-0001.html">http://lists.ximian.com/pipermail/moonlight-list/attachments/20110523/8f24cf6c/attachment-0001.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: desktop_fix
Type: application/octet-stream
Size: 751 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/moonlight-list/attachments/20110523/8f24cf6c/attachment-0001.obj">http://lists.ximian.com/pipermail/moonlight-list/attachments/20110523/8f24cf6c/attachment-0001.obj</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001306.html">[Moonlight-list] Moonlight Desktop
</A></li>
	<LI>Next message: <A HREF="001314.html">[Moonlight-list] Moonlight Desktop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1311">[ date ]</a>
              <a href="thread.html#1311">[ thread ]</a>
              <a href="subject.html#1311">[ subject ]</a>
              <a href="author.html#1311">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/moonlight-list">More information about the Moonlight-list
mailing list</a><br>
</body></html>
