<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-devel] Unittests in latest SVN
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Unittests%20in%20latest%20SVN&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000109.html">
   <LINK REL="Next"  HREF="000111.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-devel] Unittests in latest SVN</H1>
    <B>Grzegorz Sobanski</B> 
    <A HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Unittests%20in%20latest%20SVN&In-Reply-To="
       TITLE="[Monodevelop-devel] Unittests in latest SVN">silk at boktor.net
       </A><BR>
    <I>Fri Feb 20 07:05:57 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000109.html">[Monodevelop-devel] MonoDevelop.Project Code Parsing Add-In
</A></li>
        <LI>Next message: <A HREF="000111.html">[Monodevelop-devel] Unittests in latest SVN
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110">[ date ]</a>
              <a href="thread.html#110">[ thread ]</a>
              <a href="subject.html#110">[ subject ]</a>
              <a href="author.html#110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.

I am using a latest trunk. Few days ago Lluis you commited
changes that allow to running unit tests in different modes - 
eg. debugging. I think this is (or would be ;) ) a great feature - 
I was missing it a lot.

Unfortunatley it killed for me an ability to launch unittests.
And some other side effects appeard at the same time, although they 
may not be related. I am curious if I'm the only one experiencing it ;)

First - the side effects, not clearly reproducible, happening randomly:
- make run - hangs sometimes, (sth like one in three runs)
	cd main &amp;&amp; make run
	make[1]: Entering directory `/home/silk/devel/monodevelop/main'
	MONODEVELOP_LOCALE_PATH=./build/locale MONO_ADDINS_REGISTRY=./build/bin
	MOZILLA_FIVE_HOME= LD_LIBRARY_PATH=`echo &quot;/opt/mono-2.2/lib::&quot; | sed
	's/^://g'`d exec -a &quot;monodevelop&quot; /opt/mono-2.2/bin/mono --debug
	./build/bin/MonoDevelop.exe

	** (./build/bin/MonoDevelop.exe:2908): WARNING **: Symbol file
	/usr/local/lib/mono/gac/Mono.Addins.Setup/0.4.0.0__0738eb9f132ed756/Mono.Addins.Setup.dll.mdb
	has incorrect version (expected 50.0, got 39)

	** (./build/bin/MonoDevelop.exe:2908): WARNING **: Symbol file
	/usr/local/lib/mono/gac/Mono.Addins/0.4.0.0__0738eb9f132ed756/Mono.Addins.dll.mdb
	has incorrect version (expected 50.0, got 39)
(it stops here, no gui is shown - few minutes waiting)
^C
	make[1]: *** [runmd] Interrupt
	make: *** [run] Interrupt

- action of openning solution, building sometimes &quot;do not finish&quot; -
  statusbar shows &quot;Opening solution xxx ...&quot;, options in menus are
  grayed out, etc. Switching tabs in editor makes the action finish.
  For example: I &quot;Run&quot; project. It compiles fines, but MD thinks the
  compilation process is still running. Switch tabs in editor, and MD
  accepts the compilation finished, and runs the exe.
  This one was happening very often on 18.02, now it is very very rare, 
  but I see it sometimes.

And the problem with unit test - reproduced with all configs deleted and
clean build. 
Running or debugging unit tests does not work. I push &quot;run test&quot; on
test, and get in console:

# DebuggerServer started
Module mdhost, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
loaded.
&gt;&gt;<i> OnInitialized
</I>&lt;&lt; OnInitialized
Module System.Runtime.Remoting, Version=2.0.0.0, Culture=neutral,
PublicKeyToken=b77a5c561934e089 loaded.
Module MonoDevelop.Core, Version=1.9.2.0, Culture=neutral,
PublicKeyToken=null loaded.
Module Mono.Posix, Version=2.0.0.0, Culture=neutral,
PublicKeyToken=0738eb9f132ed756 loaded.

System.Runtime.Serialization.SerializationException: serializationStream
supports seeking, but its length is 0
  at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.NoCheckDeserialize (System.IO.Stream serializationStream, System.Runtime.Remoting.Messaging.HeaderHandler handler) [0x00094] in /home/silk/devel/mono-2.2/mcs/class/corlib/System.Runtime.Serialization.Formatters.Binary/BinaryFormatter.cs:181
  at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize (System.IO.Stream serializationStream) [0x00000] in /home/silk/devel/mono-2.2/mcs/class/corlib/System.Runtime.Serialization.Formatters.Binary/BinaryFormatter.cs:134
  at MonoDevelopProcessHost.Main (System.String[] args) [0x000ca] in /home/silk/devel/monodevelop/main/src/tools/mdhost/src/mdhost.cs:74

And in test result pad:
<A HREF="http://boktor.net/pliki/screenshots/unittest-ss-bug.png">http://boktor.net/pliki/screenshots/unittest-ss-bug.png</A>
(unfortunatle there is no possibility to copy the text, hence 
the screenshot).


Mono 2.2
MD tracking trunk
Ubuntu, 32b

Anyone is experiencing something similar?
I can try to debug this more, but don't really know where to start.

silk
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000109.html">[Monodevelop-devel] MonoDevelop.Project Code Parsing Add-In
</A></li>
	<LI>Next message: <A HREF="000111.html">[Monodevelop-devel] Unittests in latest SVN
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110">[ date ]</a>
              <a href="thread.html#110">[ thread ]</a>
              <a href="subject.html#110">[ subject ]</a>
              <a href="author.html#110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">More information about the Monodevelop-devel-list
mailing list</a><br>
</body></html>
