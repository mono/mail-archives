<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-devel] Text Editor API GetCharAt
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMonodevelop-devel%5D%20Text%20Editor%20API%20GetCharAt&In-Reply-To=%3CCA%2B1gSVjvD7TwmXyS2eXe%2B6VA3NygCEXe8xPEiu9UMvMxb9hySg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000505.html">
   <LINK REL="Next"  HREF="000507.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-devel] Text Editor API GetCharAt</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMonodevelop-devel%5D%20Text%20Editor%20API%20GetCharAt&In-Reply-To=%3CCA%2B1gSVjvD7TwmXyS2eXe%2B6VA3NygCEXe8xPEiu9UMvMxb9hySg%40mail.gmail.com%3E"
       TITLE="[Monodevelop-devel] Text Editor API GetCharAt">monoman at gmail.com
       </A><BR>
    <I>Mon Jun 23 11:44:09 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000505.html">[Monodevelop-devel] Text Editor API GetCharAt
</A></li>
        <LI>Next message: <A HREF="000507.html">[Monodevelop-devel] Text Editor API GetCharAt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#506">[ date ]</a>
              <a href="thread.html#506">[ thread ]</a>
              <a href="subject.html#506">[ subject ]</a>
              <a href="author.html#506">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thinking about the last message from Lluis, maybe conceptually the better
would be an indirection of sorts: a readonly property Chars that implements
an interface that is indexed? Performance-wise it can be a problem if the
jit can't optimize it into the equivalent optimized form of GetCharAt, also
null-checks, may be coded (not necessarily needed, but coded) that may be
hard to optimize out, too. Under the wraps it would need to do all the
buffer handling (maybe with paging) that GetCharAt is indeed obliged to
handle, maybe split between the property getter and the indexer getter and
setter.

Just my 2 cents,

Rafael Teixeira
O..:.)oooo


On Mon, Jun 23, 2014 at 6:44 AM, Lluis Sanchez Gual &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">slluis.devel at gmail.com</A>&gt;
wrote:

&gt;<i>
</I>&gt;<i>  Hi
</I>&gt;<i>
</I>&gt;<i> I'm currently reviewing the text editor API. We've a method called:
</I>&gt;<i>
</I>&gt;<i> public char GetCharAt (int
</I>&gt;<i>  &lt;
</I>&gt;<i> span class=&quot;n&quot; style=&quot;box-sizing: border-box; color: rgb(51, 51, 51);&quot;&gt;offset)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> And atm I think about replacing it with :
</I>&gt;<i>
</I>&gt;<i> public char this[int offset]
</I>&gt;<i>
</I>&gt;<i> Maybe even add a setter to that - then the editor may feel a bit more like
</I>&gt;<i> a string from a certain PoV.
</I>&gt;<i> The question is: Is that a good or bad choice - how are you feeling about
</I>&gt;<i> it ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Bad. It makes the api harder to discover (no code completion) and harder
</I>&gt;<i> to understand. Indexers should only be used for classes which are
</I>&gt;<i> collections (and a text editor is not a collection, it just happens to
</I>&gt;<i> contain a collection of chars, among many other things).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The text editor has 3 layers: Text, Document and Editor - each layer adds
</I>&gt;<i> something on top of the text. The GetCharAt is a functionality from the
</I>&gt;<i> Text. On this level there is just text. I think the indexer makes sense
</I>&gt;<i> there. But how about the upper layers? At Document level the editor becomes
</I>&gt;<i> a collection of lines as well.
</I>&gt;<i>
</I>&gt;<i> I would love to hear some opinions. (About the speed: In this is a very
</I>&gt;<i> lightweight operation - in our current Implementation it's done in O(1) in
</I>&gt;<i> the worst case I can imagine that it becomes an O(log N) one).
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i> Mike
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  _______________________________________________
</I>&gt;<i> Monodevelop-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">Monodevelop-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodevelop-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">Monodevelop-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monodevelop-devel-list/attachments/20140623/7bee990e/attachment.html">http://lists.ximian.com/pipermail/monodevelop-devel-list/attachments/20140623/7bee990e/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000505.html">[Monodevelop-devel] Text Editor API GetCharAt
</A></li>
	<LI>Next message: <A HREF="000507.html">[Monodevelop-devel] Text Editor API GetCharAt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#506">[ date ]</a>
              <a href="thread.html#506">[ thread ]</a>
              <a href="subject.html#506">[ subject ]</a>
              <a href="author.html#506">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">More information about the Monodevelop-devel-list
mailing list</a><br>
</body></html>
