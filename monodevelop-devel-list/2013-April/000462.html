<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-devel] GSoC Source Analysis
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMonodevelop-devel%5D%20GSoC%20Source%20Analysis&In-Reply-To=%3CCAMga9iSyfXkRfE5ovSCfRM02vgGPDJPKQasKCKvn5WX8pEdudw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000461.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-devel] GSoC Source Analysis</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=Re%3A%20%5BMonodevelop-devel%5D%20GSoC%20Source%20Analysis&In-Reply-To=%3CCAMga9iSyfXkRfE5ovSCfRM02vgGPDJPKQasKCKvn5WX8pEdudw%40mail.gmail.com%3E"
       TITLE="[Monodevelop-devel] GSoC Source Analysis">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Fri Apr 26 01:32:03 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000461.html">[Monodevelop-devel] GSoC Source Analysis
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#462">[ date ]</a>
              <a href="thread.html#462">[ thread ]</a>
              <a href="subject.html#462">[ subject ]</a>
              <a href="author.html#462">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, you're on the right track :)

Source analysis exists in MD already - the project is about creating
more rules for it, and possibly more infrastructure, e.g. solution
wide analysis, pad showing all rules, UI for managing rule style
options, spell checking service etc. You could also create some
context actions (e.g. inline method) and refactorings (e.g. reorder
parameters). Since it's flexible and broad, we could potentially have
several students accepted for this project but working on different
rules/actions/refactorings/infrastructure.

You can enable source analysis in Preferences-&gt;Source analysis. As of
MD 3.0.9+, context actions are always available via at-enter or the
context menu, though when source analysis is enabled, they are also
accessible via a hint marker on the source editor.

You can find an article on writing source analysis rules here:
<A HREF="http://mikemdblog.blogspot.com/2012/04/how-to-write-c-issue-provider.html">http://mikemdblog.blogspot.com/2012/04/how-to-write-c-issue-provider.html</A>

It's essentially up to you to propose rules or infrastructure pieces
you'd like to work on :)


On 25 April 2013 18:02, Lu&#237;s Reis &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">luiscubal at gmail.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I've looked at the project ideas page to help me decide which
</I>&gt;<i> proposal(s) to make and the &quot;Source Analysis&quot; idea caught my
</I>&gt;<i> attention.
</I>&gt;<i>
</I>&gt;<i> If I understand this correctly, it's about checking for code issues
</I>&gt;<i> and offering the option to correct them.
</I>&gt;<i> This project reminds me of Gendarme, although Gendarme runs on
</I>&gt;<i> compiled executables/libraries and does not offer the option to fix
</I>&gt;<i> the code automatically.
</I>&gt;<i> Is that the sort of issues you wish to see the source analysis check for?
</I>&gt;<i>
</I>&gt;<i> One thing I noticed is that (git master) MonoDevelop has a
</I>&gt;<i> &quot;MonoDevelop.CSharp.Refactoring.CodeIssues.NamingInspection&quot;
</I>&gt;<i> interface, but I don't see any warnings in the editor. Am I looking at
</I>&gt;<i> the wrong place? Am I doing something wrong?
</I>&gt;<i>
</I>&gt;<i> If I was assigned to this project, I'd start with something simple
</I>&gt;<i> like directly extracting a lambda expression to a method (which
</I>&gt;<i> currently requires two steps), and then advance for more complex
</I>&gt;<i> stuff.
</I>&gt;<i> The possibilities include:
</I>&gt;<i>
</I>&gt;<i> 1. Check for switch statements on enums that do not include a default
</I>&gt;<i> case/are missing cases
</I>&gt;<i> 2. Check for unused exceptions (equivalent of
</I>&gt;<i> CheckNewExceptionWithoutThrowingRule in Gendarme, but with the option
</I>&gt;<i> to fix it by adding a 'throw')
</I>&gt;<i> 3. If a class has a public method with no arguments named 'Dispose'
</I>&gt;<i> but does not implement IDisposable, show a warning (similar to
</I>&gt;<i> OnlyUseDisposeForIDisposableTypesRule in Gendarme) and show the option
</I>&gt;<i> to fix by adding IDisposable to list of implemented interfaces.
</I>&gt;<i> 4. Option to convert query syntax LINQ expression to the equivalent
</I>&gt;<i> method syntax.
</I>&gt;<i> For instance, &quot;from x in y select x + 1&quot; would become &quot;y.Select(x =&gt; x + 1)&quot;
</I>&gt;<i> Also, the reverse operation could be available.
</I>&gt;<i> 5. (No warning - just an available refactoring action) Convert if or
</I>&gt;<i> ?: expression to ??, if applicable.
</I>&gt;<i> 6. DoNotLockOnThisOrTypesRule equivalent - option to create a private
</I>&gt;<i> mutex object
</I>&gt;<i> 7. Same for DoNotUseMethodImplOptionsSynchronizedRule.
</I>&gt;<i> 8. DoNotUseThreadStaticWithInstanceFieldsRule - option to either
</I>&gt;<i> remove the attribute or make field static
</I>&gt;<i> 9. Option to remove (or add) redundant access modifiers (such as
</I>&gt;<i> private for class fields)
</I>&gt;<i> 10. Option to remove unused private fields or methods
</I>&gt;<i> 11. Equivalent of DoNotDestroyStackTraceRule and option to fix
</I>&gt;<i> 12. XamarinStudio bug #10351 <A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=10351">https://bugzilla.xamarin.com/show_bug.cgi?id=10351</A>
</I>&gt;<i>
</I>&gt;<i> I'm not sure how long each of these tasks take (since I'm not yet very
</I>&gt;<i> familiar with the MonoDevelop code), so I'd like some feedback to know
</I>&gt;<i> not only if this is what's intended, but also how many of these tasks
</I>&gt;<i> should be done (are these too many? too few? just enough?)
</I>&gt;<i> I know C# (it's currently one of my most frequently used
</I>&gt;<i> languages),but not NRefactory (so I don't yet know how hard these
</I>&gt;<i> tasks are nor how long they should take)
</I>&gt;<i>
</I>&gt;<i> By the way, I've noticed a bug in MonoDevelop (git master) while I was
</I>&gt;<i> using the current refactoring tools:
</I>&gt;<i> When I have this code:
</I>&gt;<i> var y = (Func&lt;int, int&gt;)(x =&gt; x);
</I>&gt;<i> &quot;Convert to anonymous delegate&quot; generates this (incorrect) code:
</I>&gt;<i> var y = (Func&lt;int, int&gt;)(delegate (int x) {
</I>&gt;<i>     x;
</I>&gt;<i> });
</I>&gt;<i> Note the lack of a return statement.
</I>&gt;<i> (I guess fixing this rule could be a good starting point to learn how
</I>&gt;<i> things are currently done if it isn't fixed until the project starts.)
</I>&gt;<i>
</I>&gt;<i> Thank you for your time,
</I>&gt;<i> Lu&#237;s Reis
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodevelop-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">Monodevelop-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list</A>
</I>


-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000461.html">[Monodevelop-devel] GSoC Source Analysis
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#462">[ date ]</a>
              <a href="thread.html#462">[ thread ]</a>
              <a href="subject.html#462">[ subject ]</a>
              <a href="author.html#462">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">More information about the Monodevelop-devel-list
mailing list</a><br>
</body></html>
