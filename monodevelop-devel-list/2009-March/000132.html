<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-devel] Atomic file write API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Atomic%20file%20write%20API&In-Reply-To=1a3a3e310903161146y44e4ca83y8aa2e31440cfe24a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000131.html">
   <LINK REL="Next"  HREF="000133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-devel] Atomic file write API</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Atomic%20file%20write%20API&In-Reply-To=1a3a3e310903161146y44e4ca83y8aa2e31440cfe24a%40mail.gmail.com"
       TITLE="[Monodevelop-devel] Atomic file write API">monoman at gmail.com
       </A><BR>
    <I>Mon Mar 16 14:53:30 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000131.html">[Monodevelop-devel] Atomic file write API
</A></li>
        <LI>Next message: <A HREF="000133.html">[Monodevelop-devel] Atomic file write API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#132">[ date ]</a>
              <a href="thread.html#132">[ thread ]</a>
              <a href="subject.html#132">[ subject ]</a>
              <a href="author.html#132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It can be done on a additional layer, but not in the framework as that
changes the contract (or perhaps the better term is semantics) of that API
and so it would not have the same results in .NET and in Mono.

Just my two cents,

On Mon, Mar 16, 2009 at 3:46 PM, Levi Bard &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">taktaktaktaktaktaktaktaktaktak at gmail.com</A>&gt; wrote:

&gt;<i> &gt;&gt; Shouldn't some of this be pushed down into the mono framework?
</I>&gt;<i> &gt;&gt; Obviously, stuff like restoring from backups is out-of-spec and must
</I>&gt;<i> &gt;&gt; be external, but shouldn't POSIX minutiae be handled by the System.IO
</I>&gt;<i> &gt;&gt; implementation?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; How could it be fixed? AFAIK the truncate-on-overwrite exists on
</I>&gt;<i> &gt; Windows (though not the need for fsync), which is one reason why
</I>&gt;<i> &gt; Transactional NTFS was added.
</I>&gt;<i>
</I>&gt;<i> Perhaps internally, a write-mode FileStream writes to a temp file,
</I>&gt;<i> then renames on close/dispose (maybe fsync on Flush() where
</I>&gt;<i> necessary/supported).
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://homes.eff.org/~barlow/EconomyOfIdeas.html&lt;http://homes.eff.org/%7Ebarlow/EconomyOfIdeas.html">http://homes.eff.org/~barlow/EconomyOfIdeas.html&lt;http://homes.eff.org/%7Ebarlow/EconomyOfIdeas.html</A>&gt;
</I>&gt;<i> <A HREF="http://www.dreamsongs.com/MobSoftware.html">http://www.dreamsongs.com/MobSoftware.html</A>
</I>&gt;<i> <A HREF="http://www.gnu.org/philosophy/shouldbefree.html">http://www.gnu.org/philosophy/shouldbefree.html</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodevelop-devel-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">Monodevelop-devel-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list</A>
</I>&gt;<i>
</I>


-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
&quot;I myself am made entirely of flaws, stitched together with good
intentions.&quot;
Augusten Burroughs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monodevelop-devel-list/attachments/20090316/d43680db/attachment-0001.html">http://lists.ximian.com/pipermail/monodevelop-devel-list/attachments/20090316/d43680db/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000131.html">[Monodevelop-devel] Atomic file write API
</A></li>
	<LI>Next message: <A HREF="000133.html">[Monodevelop-devel] Atomic file write API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#132">[ date ]</a>
              <a href="thread.html#132">[ thread ]</a>
              <a href="subject.html#132">[ subject ]</a>
              <a href="author.html#132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">More information about the Monodevelop-devel-list
mailing list</a><br>
</body></html>
