Index: ChangeLog
===================================================================
--- ChangeLog	(revision 107787)
+++ ChangeLog	(working copy)
@@ -1,3 +1,19 @@
+2008-07-12  Valentin Sawadski <valentin.sawadski@googlemail.com>
+	* Templates/WebService-CodeBehind.xft.xml, 
+	  Templates/WebForm-CodeBehind.xft.xml,
+	  Templates/WebControl-CodeBehindNonPartial.xft.xml,
+	  Templates/WebHandler-CodeBehind.xft.xml,
+	  Templates/GlobalAsax-CodeBehind.xft.xml,
+	  Templates/WebControl-CodeBehind.xft.xml,
+	  Templates/MasterPage-CodeBehindNonPartial.xft.xml,
+	  Templates/GlobalAsax-Empty.xft.xml,
+	  Templates/MasterPage-CodeBehind.xft.xml,
+	  Templates/WebForm-CodeBehindNonPartial.xft.xml,
+	  Templates/WebApplication.xpt.xml: Updated templates to comply with new
+	  ASP 2.0 @Page direktive syntax. The old templates couldn't even be run
+	  out of the box.
+
+
 2008-06-25  Michael Hutchinson <mhutchinson@novell.com> 
 
 	* MonoDevelop.AspNet.StateEngine/AspNetSpecialState.cs,
Index: Templates/WebService-CodeBehind.xft.xml
===================================================================
--- Templates/WebService-CodeBehind.xft.xml	(revision 107787)
+++ Templates/WebService-CodeBehind.xft.xml	(working copy)
@@ -17,7 +17,7 @@
 	<TemplateFiles>
 		<AspNetFile name="${Name}.asmx" BuildAction="FileCopy">
 			<FileText>
-<![CDATA[<%@ WebService Language="${AspNetLanguage}" Class="${Namespace}.${Name}" %>]]>
+<![CDATA[<%@ WebService Language="${AspNetLanguage}" CodeFile="${Name}.asmx.${LanguageExtension}" Class="${Namespace}.${Name}" %>]]>
 			</FileText>
 		</AspNetFile>
 		
@@ -28,7 +28,7 @@
 
 namespace ${Namespace}
 {
-	public class ${EscapedIdentifier} : System.Web.Services.WebService
+	public partial class ${EscapedIdentifier} : System.Web.Services.WebService
 	{
 		
 	}
Index: Templates/WebForm-CodeBehind.xft.xml
===================================================================
--- Templates/WebForm-CodeBehind.xft.xml	(revision 107787)
+++ Templates/WebForm-CodeBehind.xft.xml	(working copy)
@@ -21,7 +21,7 @@
 	<TemplateFiles>
 		<AspNetFile name="${Name}.aspx" DefaultExtension=".aspx" BuildAction="FileCopy" >
 			<FileText>
-				<![CDATA[<%@ Page Language="${AspNetLanguage}" Inherits="${Namespace}.${Name}" %>
+				<![CDATA[<%@ Page Language="${AspNetLanguage}" CodeFile="${Name}.aspx.${LanguageExtension}" Inherits="${Namespace}.${Name}" %>
 ${Doctype}
 <html>
 <head>
Index: Templates/WebControl-CodeBehindNonPartial.xft.xml
===================================================================
--- Templates/WebControl-CodeBehindNonPartial.xft.xml	(revision 107787)
+++ Templates/WebControl-CodeBehindNonPartial.xft.xml	(working copy)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Template	Originator="Michael Hutchinson"
 			Created="2006/06/06"
-			LastModified="2006/06/18">
+			LastModified="2008/07/07">
 
 	<!-- Template Header -->
 	<TemplateConfiguration>
@@ -21,7 +21,7 @@
 	<TemplateFiles>
 		<AspNetFile DefaultExtension=".ascx" name="${Name}.ascx" BuildAction="FileCopy">
 			<FileText>
-<![CDATA[<%@ Control Language="${AspNetLanguage}" Inherits="${Namespace}.${Name}" %>]]>
+<![CDATA[<%@ Control Language="${AspNetLanguage}" CodeFile="${Name}.ascx.${LanguageExtension}" Inherits="${Namespace}.${Name}" %>]]>
 			</FileText>
 		</AspNetFile>
 		
Index: Templates/WebHandler-CodeBehind.xft.xml
===================================================================
--- Templates/WebHandler-CodeBehind.xft.xml	(revision 107787)
+++ Templates/WebHandler-CodeBehind.xft.xml	(working copy)
@@ -17,7 +17,7 @@
 	<TemplateFiles>
 		<AspNetFile name="${Name}.ashx" BuildAction="FileCopy">
 			<FileText>
-<![CDATA[<%@ WebHandler Language="${AspNetLanguage}" Class="${Namespace}.${Name}" %>]]>
+<![CDATA[<%@ WebHandler Language="${AspNetLanguage}" CodeFile="${Name}.ashx.${LanguageExtension}" Class="${Namespace}.${Name}" %>]]>
 			</FileText>
 		</AspNetFile>
 		
@@ -29,7 +29,7 @@
 namespace ${Namespace}
 {	
 	
-	public class ${EscapedIdentifier} : System.Web.IHttpHandler
+	public partial class ${EscapedIdentifier} : System.Web.IHttpHandler
 	{
 	
 		public void ProcessRequest (HttpContext context)
Index: Templates/GlobalAsax-CodeBehind.xft.xml
===================================================================
--- Templates/GlobalAsax-CodeBehind.xft.xml	(revision 107787)
+++ Templates/GlobalAsax-CodeBehind.xft.xml	(working copy)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Template Originator="Michael Hutchinson"
           Created="2006/08/21"
-          LastModified="2006/08/21">
+          LastModified="2008/07/07">
 
 	<!-- Template Header -->
 	<TemplateConfiguration>
@@ -22,7 +22,7 @@
 	<TemplateFiles>
 		<AspNetFile name="Global.asax" BuildAction="FileCopy">
 			<FileText>
-<![CDATA[<%@ Application Inherits="${Namespace}.Global" %>]]>
+<![CDATA[<%@ Application CodeFile="Global.asax.${LanguageExtension}" Inherits="${Namespace}.Global" Language="${AspNetLanguage}" %>]]>
 			</FileText>
 		</AspNetFile>
 		<CodeTranslationFile name="Global.asax.${LanguageExtension}" DependsOn="Global.asax" >
@@ -34,7 +34,7 @@
 
 namespace ${Namespace}
 {
-	public class Global : System.Web.HttpApplication
+	public partial class Global : System.Web.HttpApplication
 	{		
 		protected void Application_Start (Object sender, EventArgs e)
 		{
Index: Templates/WebControl-CodeBehind.xft.xml
===================================================================
--- Templates/WebControl-CodeBehind.xft.xml	(revision 107787)
+++ Templates/WebControl-CodeBehind.xft.xml	(working copy)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Template	Originator="Michael Hutchinson"
 			Created="2006/06/06"
-			LastModified="2006/06/18">
+			LastModified="2008/07/07">
 
 	<!-- Template Header -->
 	<TemplateConfiguration>
@@ -21,7 +21,7 @@
 	<TemplateFiles>
 		<AspNetFile DefaultExtension=".ascx" name="${Name}.ascx" BuildAction="FileCopy">
 			<FileText>
-<![CDATA[<%@ Control Language="${AspNetLanguage}" Inherits="${Namespace}.${Name}" %>]]>
+<![CDATA[<%@ Control Language="${AspNetLanguage}" CodeFile="${Name}.ascx.${LanguageExtension}" Inherits="${Namespace}.${Name}" %>]]>
 			</FileText>
 		</AspNetFile>
 		
Index: Templates/MasterPage-CodeBehindNonPartial.xft.xml
===================================================================
--- Templates/MasterPage-CodeBehindNonPartial.xft.xml	(revision 107787)
+++ Templates/MasterPage-CodeBehindNonPartial.xft.xml	(working copy)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Template	Originator="John Anderson"
 			Created="2007/02/03"
-			LastModified="2007/02/03">
+			LastModified="2008/07/07">
 
 	<!-- Template Header -->
 	<TemplateConfiguration>
@@ -22,7 +22,7 @@
 	<TemplateFiles>
 		<AspNetFile name="${Name}.master" BuildAction="FileCopy">
 			<FileText>
-				<![CDATA[<%@ Master Language="${AspNetLanguage}" Inherits="${Namespace}.${Name}" %>
+				<![CDATA[<%@ Master Language="${AspNetLanguage}" CodeFile="${Name}.master.${LanguageExtension}" Inherits="${Namespace}.${Name}" %>
 ${Doctype}
 <html>
 <head>
Index: Templates/GlobalAsax-Empty.xft.xml
===================================================================
--- Templates/GlobalAsax-Empty.xft.xml	(revision 107787)
+++ Templates/GlobalAsax-Empty.xft.xml	(working copy)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Template	Originator="Michael Hutchinson"
 			Created="2006/08/21"
-			LastModified="2006/08/21">
+			LastModified="2008/07/07">
 
 	<!-- Template Header -->
 	<TemplateConfiguration>
@@ -22,7 +22,7 @@
 	<TemplateFiles>
 		<AspNetFile name="Global.asax" BuildAction="FileCopy">
 			<FileText>
-<![CDATA[<%@ Application Language="${AspNetLanguage}" %>
+<![CDATA[<%@ Application Language="${AspNetLanguage}" CodeFile="Global.asax.${LanguageExtension}" Inherits="${Namespace}.Global" %>
 <script runat="server">
 ${CodeRegion:script1}
 </script>
@@ -37,7 +37,7 @@
 
 namespace ${Namespace}
 {
-	public class Global : System.Web.HttpApplication
+	public partial class Global : System.Web.HttpApplication
 	{		
 		protected void Application_Start (Object sender, EventArgs e)
 		{
Index: Templates/MasterPage-CodeBehind.xft.xml
===================================================================
--- Templates/MasterPage-CodeBehind.xft.xml	(revision 107787)
+++ Templates/MasterPage-CodeBehind.xft.xml	(working copy)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Template	Originator="John Anderson"
 			Created="2007/02/03"
-			LastModified="2007/02/03">
+			LastModified="2008/07/07">
 
 	<!-- Template Header -->
 	<TemplateConfiguration>
@@ -22,7 +22,7 @@
 	<TemplateFiles>
 		<AspNetFile name="${Name}.master" BuildAction="FileCopy">
 			<FileText>
-				<![CDATA[<%@ Master Language="${AspNetLanguage}" Inherits="${Namespace}.${Name}" %>
+				<![CDATA[<%@ Master Language="${AspNetLanguage}" CodeFile="${Name}.master.${LanguageExtension}" Inherits="${Namespace}.${Name}" %>
 ${Doctype}
 <html>
 <head>
Index: Templates/WebForm-CodeBehindNonPartial.xft.xml
===================================================================
--- Templates/WebForm-CodeBehindNonPartial.xft.xml	(revision 107787)
+++ Templates/WebForm-CodeBehindNonPartial.xft.xml	(working copy)
@@ -21,7 +21,7 @@
 	<TemplateFiles>
 		<AspNetFile name="${Name}.aspx" DefaultExtension=".aspx" BuildAction="FileCopy" >
 			<FileText>
-				<![CDATA[<%@ Page Language="${AspNetLanguage}" Inherits="${Namespace}.${Name}" %>
+				<![CDATA[<%@ Page Language="${AspNetLanguage}" CodeFile="${Name}.aspx.${LanguageExtension}" Inherits="${Namespace}.${Name}" %>
 ${Doctype}
 <html>
 <head>
Index: Templates/WebApplication.xpt.xml
===================================================================
--- Templates/WebApplication.xpt.xml	(revision 107787)
+++ Templates/WebApplication.xpt.xml	(working copy)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Template	originator="Michael Hutchinson"
 			created="2006/06/06"
-			lastModified="2006/06/06">
+			lastModified="2008/07/07">
 	
 	<!-- Template Header -->
 	<TemplateConfiguration>
@@ -33,13 +33,13 @@
 			</References>
 			<Files>
 				<FileTemplateReference TemplateID="GlobalAsax-CodeBehind" name="Global.asax" />
-				<FileTemplateReference TemplateID="WebConfig-Application" name="web.config" />
+				<FileTemplateReference TemplateID="WebConfig-Application" name="Web.config" />
 				
 				<AspNetFile name="Default.aspx"
 				            DefaultExtension=".aspx"
 				            BuildAction="FileCopy">
 					<FileText>
-						<![CDATA[<%@ Page Language="${AspNetLanguage}" Inherits="${Namespace}.${Name}" %>
+						<![CDATA[<%@ Page Language="${AspNetLanguage}" CodeFile="Default.aspx.${LanguageExtension}" Inherits="${Namespace}.${Name}" %>
 ${Doctype}
 <html>
 <head>
