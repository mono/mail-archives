<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-devel] Brainstorming for 2.4 code quality
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Brainstorming%20for%202.4%20code%20quality&In-Reply-To=1251745230.4562.111.camel%40linux-nesp.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000207.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-devel] Brainstorming for 2.4 code quality</H1>
    <B>Mike Kr&#252;ger</B> 
    <A HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Brainstorming%20for%202.4%20code%20quality&In-Reply-To=1251745230.4562.111.camel%40linux-nesp.site"
       TITLE="[Monodevelop-devel] Brainstorming for 2.4 code quality">mkrueger at novell.com
       </A><BR>
    <I>Tue Sep  1 12:17:21 EDT 2009</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000207.html">[Monodevelop-devel] Brainstorming for 2.4 code quality
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#206">[ date ]</a>
              <a href="thread.html#206">[ thread ]</a>
              <a href="subject.html#206">[ subject ]</a>
              <a href="author.html#206">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

&gt;<i> We should review the api and see how language bindings are currently
</I>&gt;<i> used. So for example, if we move the comment tag properties to syntax
</I>&gt;<i> modes, and parser/refactorer have their own extension points, there
</I>&gt;<i> isn't much left in ILanguageBinding. This code has evolved a lot since
</I>&gt;<i> it was designed, so maybe it can go away or it can be replaced by
</I>&gt;<i> something else.
</I>&gt;<i> 
</I>
Ok my suggestion would be removing the language binding and replacing it
with an ICompiler interface (that is the only functionality that is
really used). We then can have the IParser, ICompiler, IResolver
interfaces directly in the addin tree. There is no need that each
language binding provides a wrapper class there.

&gt;<i> &gt; - They provide comment tags, but we get comment tags from the syntax
</I>&gt;<i> &gt; modes.
</I>&gt;<i> 
</I>&gt;<i> I think we should get rid of those comment tag properties from
</I>&gt;<i> ILanguageBinding, and use only the info from syntax modes. However,
</I>&gt;<i> they
</I>&gt;<i> are still being used when creating a new file to insert the license
</I>&gt;<i> header. We have to find a way of querying information from syntax
</I>&gt;<i> modes
</I>&gt;<i> without having and instance of an editor.
</I>&gt;<i> 
</I>
Instance of an editor isn't required for accessing the syntax modes. The
syntax mode service is static.

&gt;<i> &gt; - They bind to a 'language' and can ask if a file is a source code
</I>&gt;<i> file
</I>&gt;<i> &gt; ore not - they're not using our newer mime type system
</I>&gt;<i> (inconsistent!)
</I>&gt;<i> 
</I>&gt;<i> The mime-type system doesn't have information about which types are
</I>&gt;<i> source code files. We have per-mime-type formatting policies, but this
</I>&gt;<i> is unrelated.
</I>&gt;<i> 
</I>
The language system doesn't have good information too, the language
binding system with the 'language' property was an idea to mimic the
mime type system. Unfortunately binding this to a IProject doesn't work
for example a parser or refactorer for a &quot;C#&quot; language needs to be
different, because the project can contain C# files an ASP.NET files. &#65279;
It makes sense to bind a compiler to a project (The ICompiler for
example). This can be done with a project id, but we're using guids for
them the language name is a leftover from old #d days and hasn't any
real meaning.

&gt;<i> &gt; - Maybe they should be attached to a ProjectDom or ViewContent to allow
</I>&gt;<i> &gt; easier access.
</I>&gt;<i> 
</I>&gt;<i> I don't think that's necessary. You can already get a language binding
</I>&gt;<i> from Project, and you can get a project from ProjectDom and ViewContent.
</I>&gt;<i> 
</I>A project can contain different languages (ASP.NET project for example)
therefore binding some functions to the mime type makes more sense. I
think the view content (or 'Document') would be a good point to place
this. For example accessing the 'comment' tags could be handled on the
'Document' level. I think it makes sense to have a ICompiler on the
project level and most of the rest on the mime type/per document level.


&gt;<i> Our resources are limited, so we have to be careful about where we put
</I>&gt;<i> our development effort. We should focus on fixing, improving or
</I>&gt;<i> implementing features that users really need. Improving the API is part
</I>&gt;<i> of the work, but we have to find the right effort/benefit balance.
</I>&gt;<i> 
</I>
Improving the API helps us. 

Regards
Mike

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000207.html">[Monodevelop-devel] Brainstorming for 2.4 code quality
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#206">[ date ]</a>
              <a href="thread.html#206">[ thread ]</a>
              <a href="subject.html#206">[ subject ]</a>
              <a href="author.html#206">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">More information about the Monodevelop-devel-list
mailing list</a><br>
</body></html>
