<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-devel] Working on the monodevelop dom after 2.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Working%20on%20the%20monodevelop%20dom%20after%202.2&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000210.html">
   <LINK REL="Next"  HREF="000212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-devel] Working on the monodevelop dom after 2.2</H1>
    <B>Mike Kr&#252;ger</B> 
    <A HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Working%20on%20the%20monodevelop%20dom%20after%202.2&In-Reply-To="
       TITLE="[Monodevelop-devel] Working on the monodevelop dom after 2.2">mkrueger at novell.com
       </A><BR>
    <I>Tue Sep 22 08:08:58 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000210.html">[Monodevelop-devel] Brainstorming for 2.4 code quality
</A></li>
        <LI>Next message: <A HREF="000212.html">[Monodevelop-devel] Working on the monodevelop dom after 2.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#211">[ date ]</a>
              <a href="thread.html#211">[ thread ]</a>
              <a href="subject.html#211">[ subject ]</a>
              <a href="author.html#211">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

Currently we've two DOMs: 

MonoDevelop DOM
Language specific DOM

The idea of the monodevelop dom is that most parts of the IDE only use
the upper level (namespaces/types/members etc.) of the .NET doms for
some parts (class browser, quick method navigation etc.). This DOM
reflects the capabilities of .NET reflection.

Now some people have the opinion that this limits monodevelop when
supporting non .NET languages and I think they're right.
I see that currently the main problem is that monodevelop uses the
type-&gt;member model.
I would rather suggest working with a tree model instead, adding some
new 'types' to be able to do have a file-&gt;member structure.

I would:

+ Replace IDomVisitable with a tree node - each tree node knows it's
parent, children and siblings.

+ Remove compilation unit, replace it with IFile. 

Then it's possible to have file-&gt;methods/fields as well as
file-&gt;type-&gt;methods/members and the class browser/code navigator can
show the new 'model' as well. I don't expect huge changes in the current
code base. The parser database needs to change a bit, but shouldn't
change much.

And I would like to replace the DomLocation with DocumentLocation from
the text editor (or offset based from the text editor) - currently we've
too many ways of representing a location in a file.

Any opinions on that ?

Regards
Mike

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000210.html">[Monodevelop-devel] Brainstorming for 2.4 code quality
</A></li>
	<LI>Next message: <A HREF="000212.html">[Monodevelop-devel] Working on the monodevelop dom after 2.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#211">[ date ]</a>
              <a href="thread.html#211">[ thread ]</a>
              <a href="subject.html#211">[ subject ]</a>
              <a href="author.html#211">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">More information about the Monodevelop-devel-list
mailing list</a><br>
</body></html>
