<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-devel] Improving refactoring after 2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Improving%20refactoring%20after%202.0&In-Reply-To=1226074642.3779.27.camel%40portador.aticatac-centre">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000071.html">
   <LINK REL="Next"  HREF="000073.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-devel] Improving refactoring after 2.0</H1>
    <B>Mike Kr&#252;ger</B> 
    <A HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Improving%20refactoring%20after%202.0&In-Reply-To=1226074642.3779.27.camel%40portador.aticatac-centre"
       TITLE="[Monodevelop-devel] Improving refactoring after 2.0">mkrueger at novell.com
       </A><BR>
    <I>Mon Nov 10 02:53:29 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000071.html">[Monodevelop-devel] Improving refactoring after 2.0
</A></li>
        <LI>Next message: <A HREF="000073.html">[Monodevelop-devel] Improving refactoring after 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72">[ date ]</a>
              <a href="thread.html#72">[ thread ]</a>
              <a href="subject.html#72">[ subject ]</a>
              <a href="author.html#72">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

&gt;<i> I'm not saying that the current refactoring infrastructure is perfect.
</I>&gt;<i> It is not. Much of it will probably have to be changed if we want to
</I>&gt;<i> support more advanced refactoring operations. But you can't arbitrarily
</I>&gt;<i> drop all current code, ignoring what has been done. We already had some
</I>&gt;<i> bad experiences in MD because of this.
</I>&gt;<i> 
</I>
I don't want to drop code. In fact the current one is a good starting
point. There is no need to 'drop' code - I only drop code when there is
no other option. We can use refactoring methods move/rename some stuff -
that's it. I would only drop code if it's GPL or really very different
to refactor the code. 
The code we currently have is something I can work with. 

Something different: But over time we must rewrite ALL GPL code. I think
that's still on our todo list isn't it ?
Refactoring is about improving the design of existing code, not to
rewrite it. In this way it's possible to keep all &quot;information&quot; in the
existing code. With a rewrite you'll loose all knowledge that lead to
the existing code. If possible refactoring is always better.
(But keep in mind that all GPL parts need to be rewritten, except we
change our position here)

&gt;<i> &gt; It starts with clicking on something in the editor window there is a
</I>&gt;<i> &gt; class that builds the context menu and this class controls which
</I>&gt;<i> &gt; operations are valid.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I want:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Split up refactoring a bit to make it clear what each class does.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I intend to split up the &quot;refactoring&quot; feature. Each refactoring
</I>&gt;<i> &gt; operation should be an own class that knows it's responsibilities (based
</I>&gt;<i> &gt; on the resolve result) it knows when it's valid to display in the
</I>&gt;<i> &gt; refactoring context menu.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Then we would've classes like:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &#65279;Rename
</I>&gt;<i> &gt; &#65279;Implicit&#65279;ImplementInterface
</I>&gt;<i> &gt; ExplicitImplementInterface
</I>&gt;<i> &gt; ExtractMethod
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; etc.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; These refactorings should be placed in the addin tree.
</I>&gt;<i> 
</I>&gt;<i> Will those refactoring classes be language-specific?
</I>&gt;<i> For example, the Rename class, there will be a RenameCSharp and a
</I>&gt;<i> RenameVisualBasic? if that's the case, will they share some code?
</I>&gt;<i> 
</I>
Thats in the responsibility of the classes they can support csharp and
visualbasic, but I don't think that I'll support more than these two, I
think I personally will stick to C#. Like with the code completion
infrastructure in the csharp binding. It would be possible to use it for
VB.NET and any other language that can produce NRefactory DOM.

When I'm really satisfied with refactoring and the capabilities of
monodevelop (especially text editor and search features) I'll maybe
improve visual basic support or bring any other language backend up to
the C# level. But I don't know if we'll ever reach this point - there is
always more stuff to do and I'm a C# fan :).

Cross language functionality for refactorings is something we need to
factor in but my current 'plan' would be to disallow cross language
refactorings until all refactoring commands are availble for any
languages in the solution - not to allow partial refactorings.

Regards
Mike

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000071.html">[Monodevelop-devel] Improving refactoring after 2.0
</A></li>
	<LI>Next message: <A HREF="000073.html">[Monodevelop-devel] Improving refactoring after 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#72">[ date ]</a>
              <a href="thread.html#72">[ thread ]</a>
              <a href="subject.html#72">[ subject ]</a>
              <a href="author.html#72">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">More information about the Monodevelop-devel-list
mailing list</a><br>
</body></html>
