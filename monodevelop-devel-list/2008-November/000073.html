<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Monodevelop-devel] Improving refactoring after 2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Improving%20refactoring%20after%202.0&In-Reply-To=1226303609.3613.134.camel%40linux-yd7m.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000072.html">
   <LINK REL="Next"  HREF="000061.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Monodevelop-devel] Improving refactoring after 2.0</H1>
    <B>Lluis Sanchez Gual</B> 
    <A HREF="mailto:monodevelop-devel-list%40lists.ximian.com?Subject=%5BMonodevelop-devel%5D%20Improving%20refactoring%20after%202.0&In-Reply-To=1226303609.3613.134.camel%40linux-yd7m.site"
       TITLE="[Monodevelop-devel] Improving refactoring after 2.0">lluis at novell.com
       </A><BR>
    <I>Tue Nov 11 11:03:49 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000072.html">[Monodevelop-devel] Improving refactoring after 2.0
</A></li>
        <LI>Next message: <A HREF="000061.html">[Monodevelop-devel] Can't get monodevelop to show GTK# 2.00	under C# heading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73">[ date ]</a>
              <a href="thread.html#73">[ thread ]</a>
              <a href="subject.html#73">[ subject ]</a>
              <a href="author.html#73">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>El dl 10 de 11 de 2008 a les 08:53 +0100, en/na Mike Kr&#252;ger va escriure:
&gt;<i> Hi
</I>&gt;<i> 
</I>&gt;<i> &gt; I'm not saying that the current refactoring infrastructure is perfect.
</I>&gt;<i> &gt; It is not. Much of it will probably have to be changed if we want to
</I>&gt;<i> &gt; support more advanced refactoring operations. But you can't arbitrarily
</I>&gt;<i> &gt; drop all current code, ignoring what has been done. We already had some
</I>&gt;<i> &gt; bad experiences in MD because of this.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> I don't want to drop code. In fact the current one is a good starting
</I>&gt;<i> point. There is no need to 'drop' code - I only drop code when there is
</I>&gt;<i> no other option. We can use refactoring methods move/rename some stuff -
</I>&gt;<i> that's it. I would only drop code if it's GPL or really very different
</I>&gt;<i> to refactor the code. 
</I>&gt;<i> The code we currently have is something I can work with. 
</I>&gt;<i> 
</I>&gt;<i> Something different: But over time we must rewrite ALL GPL code. I think
</I>&gt;<i> that's still on our todo list isn't it ?
</I>
Yes, but it is not a priority right now.

&gt;<i> Refactoring is about improving the design of existing code, not to
</I>&gt;<i> rewrite it. In this way it's possible to keep all &quot;information&quot; in the
</I>&gt;<i> existing code. With a rewrite you'll loose all knowledge that lead to
</I>&gt;<i> the existing code. If possible refactoring is always better.
</I>&gt;<i> (But keep in mind that all GPL parts need to be rewritten, except we
</I>&gt;<i> change our position here)
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; It starts with clicking on something in the editor window there is a
</I>&gt;<i> &gt; &gt; class that builds the context menu and this class controls which
</I>&gt;<i> &gt; &gt; operations are valid.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I want:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Split up refactoring a bit to make it clear what each class does.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I intend to split up the &quot;refactoring&quot; feature. Each refactoring
</I>&gt;<i> &gt; &gt; operation should be an own class that knows it's responsibilities (based
</I>&gt;<i> &gt; &gt; on the resolve result) it knows when it's valid to display in the
</I>&gt;<i> &gt; &gt; refactoring context menu.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Then we would've classes like:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &#65279;Rename
</I>&gt;<i> &gt; &gt; &#65279;Implicit&#65279;ImplementInterface
</I>&gt;<i> &gt; &gt; ExplicitImplementInterface
</I>&gt;<i> &gt; &gt; ExtractMethod
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; etc.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; These refactorings should be placed in the addin tree.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Will those refactoring classes be language-specific?
</I>&gt;<i> &gt; For example, the Rename class, there will be a RenameCSharp and a
</I>&gt;<i> &gt; RenameVisualBasic? if that's the case, will they share some code?
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> Thats in the responsibility of the classes they can support csharp and
</I>&gt;<i> visualbasic, but I don't think that I'll support more than these two, I
</I>&gt;<i> think I personally will stick to C#. Like with the code completion
</I>&gt;<i> infrastructure in the csharp binding. It would be possible to use it for
</I>&gt;<i> VB.NET and any other language that can produce NRefactory DOM.
</I>
&#65279;Maybe the core MD team won't be able to provide support for languages
other than C#, but maybe somebody else wants to contribute it.

&gt;<i> 
</I>&gt;<i> When I'm really satisfied with refactoring and the capabilities of
</I>&gt;<i> monodevelop (especially text editor and search features) I'll maybe
</I>&gt;<i> improve visual basic support or bring any other language backend up to
</I>&gt;<i> the C# level. But I don't know if we'll ever reach this point - there is
</I>&gt;<i> always more stuff to do and I'm a C# fan :).
</I>&gt;<i> 
</I>&gt;<i> Cross language functionality for refactorings is something we need to
</I>&gt;<i> factor in but my current 'plan' would be to disallow cross language
</I>&gt;<i> refactorings until all refactoring commands are availble for any
</I>&gt;<i> languages in the solution - not to allow partial refactorings.
</I>
In some cases, a warning will be enough. For example, the user should be
able to run Find References, but the results list could include a
warning saying that project XXX could not be searched.

Even Rename Member should be allowed IMO. In the preview window it would
show a warning about a projects whose languages does not support
renaming, but it should allow renaming in those that support it.

Lluis.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000072.html">[Monodevelop-devel] Improving refactoring after 2.0
</A></li>
	<LI>Next message: <A HREF="000061.html">[Monodevelop-devel] Can't get monodevelop to show GTK# 2.00	under C# heading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73">[ date ]</a>
              <a href="thread.html#73">[ thread ]</a>
              <a href="subject.html#73">[ subject ]</a>
              <a href="author.html#73">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monodevelop-devel-list">More information about the Monodevelop-devel-list
mailing list</a><br>
</body></html>
