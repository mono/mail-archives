<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] MonoMac CreateMacInstaller - Packaging error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MonoMac%20CreateMacInstaller%20-%20Packaging%20error&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004131.html">
   <LINK REL="Next"  HREF="004172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] MonoMac CreateMacInstaller - Packaging error</H1>
    <B>Zsolt Molnar</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MonoMac%20CreateMacInstaller%20-%20Packaging%20error&In-Reply-To="
       TITLE="[Mono-osx] MonoMac CreateMacInstaller - Packaging error">zsolt at vestragames.com
       </A><BR>
    <I>Sun Mar  6 03:14:48 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004131.html">[Mono-osx] newbie mono developer needs advice on app
</A></li>
        <LI>Next message: <A HREF="004172.html">[Mono-osx] MonoMac CreateMacInstaller - Packaging error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4171">[ date ]</a>
              <a href="thread.html#4171">[ thread ]</a>
              <a href="subject.html#4171">[ subject ]</a>
              <a href="author.html#4171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Guys,

I'm trying to create a very simple WinForms project to get packaged to a Mac App that does not need the installation of the Mono Framework to be run on.

Using Mono Framework 2.10.1, MonoDevelop 2.4.2 with MonoMac development add-in 2.4.2.1, I create a new empty MonoMac Project.
I remove change the referenced assemblies to these:

System
System.Drawing
System.Windows.Forms

Next, I create a single empty cs file, and enter this code:

using System;
using System.Drawing;
using System.Windows.Forms;

namespace Test6
{
	public class Form1 : Form
	{
		public Form1 ()
		{
			this.Text=&quot;Hello world&quot;;
			this.Size=new Size(400,400);
		}
		
		public static void Main(string[] args)
		{
			Form1 f = new Form1();
			f.ShowDialog();
		}
	}
}


The code compiles and runs under MonoDevelop.

When I try to use Project/Create Mac Installer, I leave the &quot;Include Mono in Application bundle&quot; checkbox checked (the rest of the dialog box is disabled).
I get the following in the Packaging Output log:


Creating app bundle
Contents/Info.plist
Contents/PkgInfo

Merging Mono into app bundle
mmp -o &quot;/tmp/monomac-build-634349986898190410&quot; -n &quot;Test7&quot; -a &quot;/Library/Frameworks/Mono.framework/Versions/2.10.1/lib/mono/4.0/System.dll&quot; -a &quot;/Library/Frameworks/Mono.framework/Versions/2.10.1/lib/mono/4.0/System.Drawing.dll&quot; -a &quot;/Library/Frameworks/Mono.framework/Versions/2.10.1/lib/mono/4.0/System.Windows.Forms.dll&quot; &quot;/Users/zsolt/Projects/Test7/Test7/bin/Debug/Test7.exe&quot;
Process exited with code 1, command:
gcc -m32 /tmp/monomac-build-634349986898190410/Test7.app/Contents/MacOS/driver.m -o /tmp/monomac-build-634349986898190410/Test7.app/Contents/MacOS/Test7 -D_THREAD_SAFE -I/Library/Frameworks/Mono.framework/Versions/2.10.1/include/mono-2.0   /Library/Frameworks/Mono.framework/Versions/2.10.1/lib/libmono-2.0.a -framework AppKit -liconv

Upon examining the created files and directories, the MacOS directory is competely empty, MonoBundle seems to contain the packaged mono dll-s, the Resources contains libMonoPosixHelper.dylib and libgdiplus.dylib

The other annoying bug is that whenever I restart MonoDevelop, and re-load this same project, the Create Mac installer menu item is missing from the Project menu. Only if I create a very new empty project, and repeat the process, then the menu item reappears.



Please let me know what I'm doing wrong.

Thanks,

Zsolt Molnar








</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004131.html">[Mono-osx] newbie mono developer needs advice on app
</A></li>
	<LI>Next message: <A HREF="004172.html">[Mono-osx] MonoMac CreateMacInstaller - Packaging error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4171">[ date ]</a>
              <a href="thread.html#4171">[ thread ]</a>
              <a href="subject.html#4171">[ subject ]</a>
              <a href="author.html#4171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
