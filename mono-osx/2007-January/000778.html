<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] mkbundle error...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20mkbundle%20error...&In-Reply-To=1169012070.4335.0.camel%40berrier.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000774.html">
   <LINK REL="Next"  HREF="000775.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] mkbundle error...</H1>
    <B>Roberto Antonio Berrospe Machin</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20mkbundle%20error...&In-Reply-To=1169012070.4335.0.camel%40berrier.site"
       TITLE="[Mono-osx] mkbundle error...">rabm at adinet.com.uy
       </A><BR>
    <I>Thu Jan 18 07:32:05 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000774.html">[Mono-osx] mkbundle error...
</A></li>
        <LI>Next message: <A HREF="000775.html">[Mono-osx] X11 Dependency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#778">[ date ]</a>
              <a href="thread.html#778">[ thread ]</a>
              <a href="subject.html#778">[ subject ]</a>
              <a href="author.html#778">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes i've renamed the actual libmono.0.0.0.dylib to libmono.a and worked,
but i found this is not going to solve mkbundle, to get it working on osx...

If i use mkbundle with --deps --static and -z

Here's what the result of mkbundle my little app shows...

------------------------------------------------------------------------------------------------------------------------------------

OS is: Darwin
Note that statically linking the LGPL Mono runtime has more licensing
restrictions than dynamically linking.
See <A HREF="http://www.mono-project.com/Licensing">http://www.mono-project.com/Licensing</A> for details on licensing.
Sources: 1 Auto-dependencies: True
   embedding: /Users/roberto/Temp/RobMessaging.exe
   compression ratio: 43.47%
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/System.Windows.Forms/1.0.5000.0__b77a5c561934e089/System.Windows.Forms.dll
   compression ratio: 38.86%
 config from:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/System.Windows.Forms/1.0.5000.0__b77a5c561934e089/System.Windows.Forms.dll.config
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/1.0/mscorlib.dll
   compression ratio: 35.16%
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/System/1.0.5000.0__b77a5c561934e089/System.dll
   compression ratio: 37.30%
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/System.Xml/1.0.5000.0__b77a5c561934e089/System.Xml.dll
   compression ratio: 33.87%
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/System.Drawing/1.0.5000.0__b03f5f7f11d50a3a/System.Drawing.dll
   compression ratio: 34.84%
 config from:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/System.Drawing/1.0.5000.0__b03f5f7f11d50a3a/System.Drawing.dll.config
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/System.Data/1.0.5000.0__b77a5c561934e089/System.Data.dll
   compression ratio: 37.07%
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/Mono.Data.Tds/1.0.5000.0__0738eb9f132ed756/Mono.Data.Tds.dll
   compression ratio: 41.21%
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/Mono.Security/1.0.5000.0__0738eb9f132ed756/Mono.Security.dll
   compression ratio: 40.22%
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/System.EnterpriseServices/1.0.5000.0__b03f5f7f11d50a3a/System.EnterpriseServices.dll
   compression ratio: 39.63%
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/Mono.Posix/1.0.5000.0__0738eb9f132ed756/Mono.Posix.dll
   compression ratio: 40.50%
 config from:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/Mono.Posix/1.0.5000.0__0738eb9f132ed756/Mono.Posix.dll.config
   embedding:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/mono/gac/Accessibility/1.0.5000.0__b03f5f7f11d50a3a/Accessibility.dll
   compression ratio: 33.42%
Compiling:
as -o temp.o temp.s
cc -o RobMessaging -Wall `pkg-config --cflags mono` temp.c -lz
`pkg-config --libs-only-L mono` `pkg-config --variable=libdir
mono`/libmono.a `pkg-config --libs-only-l mono | sed -e &quot;s/\-lmono //&quot;`
temp.o
Done

------------------------------------------------------------------------------------------------------------------------------------


When i try to run ./RobMessaging, i get this error:

** (RobMessaging.exe:610): WARNING **: Missing method
System.Windows.Forms.Application::SetCompatibleTextRenderingDefault(bool)
in assembly data-0x605000, referenced in assembly data-0x1800400
Unhandled Exception: System.MissingMethodException: Method not found:
'System.Windows.Forms.Application.SetCompatibleTextRenderingDefault'.

And the app doesnt run.

Then, if i compile with --static and -z only (no --deps option) the app
runs ok.

And last, if i compile with --deps -z (without --static) i get the same
previous error...

Also, if i try to run both (previous two ways) on machines without mono,
i get:

dyld: Library not loaded:
/Library/Frameworks/Mono.framework/Versions/1.2.2.1/lib/libmono.0.0.0.dylib
  Referenced from: /Users/roberto/Temp/./RobMessaging
  Reason: image not found
Trace/BPT trap

So its confused, i think if i rename the dylib to .a then it compiles,
but gets twisted on os's without mono, if that lib is on the path, it
try to run, but an error is fired, saying that the method
SetCompatibleTextRenderingDefault is not found... etc..


Btw, another small thing is that on the readme, when installing, it say
that uninstallMono.sh but its not installed.

Can be good to have this mkbundle app working!

Thanks!

Roberto.


</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000774.html">[Mono-osx] mkbundle error...
</A></li>
	<LI>Next message: <A HREF="000775.html">[Mono-osx] X11 Dependency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#778">[ date ]</a>
              <a href="thread.html#778">[ thread ]</a>
              <a href="subject.html#778">[ subject ]</a>
              <a href="author.html#778">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
