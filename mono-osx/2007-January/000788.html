<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] problems running Dumbarton examples
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20problems%20running%20Dumbarton%20examples&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000787.html">
   <LINK REL="Next"  HREF="000790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] problems running Dumbarton examples</H1>
    <B>Walt Horat</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20problems%20running%20Dumbarton%20examples&In-Reply-To="
       TITLE="[Mono-osx] problems running Dumbarton examples">walt at soundflavor.com
       </A><BR>
    <I>Mon Jan 22 22:06:30 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000787.html">[Mono-osx] &quot;Hello world&quot; in Cocoa using Dumbarton/Mono
</A></li>
        <LI>Next message: <A HREF="000790.html">[Mono-osx] problems running Dumbarton examples
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#788">[ date ]</a>
              <a href="thread.html#788">[ thread ]</a>
              <a href="subject.html#788">[ subject ]</a>
              <a href="author.html#788">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ran Mono installer (1.2.2.1) from <A HREF="http://www.mono-project.com/">http://www.mono-project.com/</A> 
Downloads (MonoFramework-1.2.2.1_0.macos10.novell.universal.dmg)

Checked out top-of-tree from <A HREF="svn://svn.myrealbox.com/source/trunk/">svn://svn.myrealbox.com/source/trunk/</A>

Build and run DBCocoaExample out of the /Dumbarton folder.

Initial link errors caused me to find and install Allan Hsu's pre- 
built Mono framework from rvn rev 61861 - the example seems to hard  
link against this version explicitly.  
(_mono_method_desc_search_in_class referenced from Dumbarton expected  
to be defined in /Library/Frameworks/Mono.framework/Versions/svn- 
r61861+libgc.fix-universal/lib/libmono.0.dylib)

On running the app, we are getting a warning that sounds like it is a  
reason for concern, followed by another warning on the way in to a  
crash.

	WARNING: The runtime version supported by this application is  
unavailable.
	Using default runtime: v1.1.4322

	** ERROR **: EnterCriticalSection: EnterCriticalSection failed:  
Invalid argument
	aborting...
	Stacktrace:

	DBCocoaExample has exited due to signal 6 (SIGABRT).

The stack trace at this point is:

#0	0x9003d1dc in kill
#1	0x9010f2af in raise
#2	0x9010de02 in abort
#3	0x01029e72 in g_logv
#4	0x01029ea6 in g_log
#5	0x011d5389 in EnterCriticalSection at critical-sections.c:152
#6	0x011ac27f in mono_domain_assembly_open at domain.c:957
#7	0x0000296f in +[MainController initialize] at MainController.m:38
#8	0x90a558f7 in class_initialize
#9	0x90a5558e in _class_lookupMethodAndLoadCache
#10	0x90a55506 in objc_msgSend
#11	0x93275e10 in -[NSIBObjectData instantiateObject:]
#12	0x93275359 in -[NSIBObjectData  
nibInstantiateWithOwner:topLevelObjects:]
#13	0x9326c98d in loadNib
#14	0x9326c3b9 in +[NSBundle(NSNibLoading)  
_loadNibFile:nameTable:withZone:ownerBundle:]
#15	0x9326c01a in +[NSBundle(NSNibLoading)  
loadNibFile:externalNameTable:withZone:]
#16	0x9326bf5c in +[NSBundle(NSNibLoading) loadNibNamed:owner:]
#17	0x9326bca3 in NSApplicationMain
#18	0x000025e4 in main at main.m:14

I then proceeded to back-rev everything to svn rev 61861 just in case  
the example was picking up some sources/headers out of the trunk  
build. No change in behavior.

I can't really debug without building the complete mono sources and  
getting them linked against the sample.

Any pointers or suggestions would be greatly appreciated.


Walt
www.soundflavor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20070122/da858cbb/attachment.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20070122/da858cbb/attachment.html</A> 
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000787.html">[Mono-osx] &quot;Hello world&quot; in Cocoa using Dumbarton/Mono
</A></li>
	<LI>Next message: <A HREF="000790.html">[Mono-osx] problems running Dumbarton examples
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#788">[ date ]</a>
              <a href="thread.html#788">[ thread ]</a>
              <a href="subject.html#788">[ subject ]</a>
              <a href="author.html#788">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
