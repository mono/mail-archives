<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] P/invoke 32-bit C library
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20P/invoke%2032-bit%20C%20library&In-Reply-To=4E70B9D4.30205%40britishideas.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004564.html">
   <LINK REL="Next"  HREF="004566.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] P/invoke 32-bit C library</H1>
    <B>Uli Hertlein</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20P/invoke%2032-bit%20C%20library&In-Reply-To=4E70B9D4.30205%40britishideas.com"
       TITLE="[Mono-osx] P/invoke 32-bit C library">uli at xdt.com.au
       </A><BR>
    <I>Wed Sep 14 10:41:28 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004564.html">[Mono-osx] P/invoke 32-bit C library
</A></li>
        <LI>Next message: <A HREF="004566.html">[Mono-osx] P/invoke 32-bit C library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4565">[ date ]</a>
              <a href="thread.html#4565">[ thread ]</a>
              <a href="subject.html#4565">[ subject ]</a>
              <a href="author.html#4565">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Andrew,

On 09/14/2011 04:27 PM, Andrew Ayre wrote:
&gt;<i> I have recompiled the library using gcc in MonoDevelop and called it
</I>&gt;<i> from a C-based console application, also using gcc in MonoDevelop, on OS
</I>&gt;<i> X. This works fine also. I use -m32 to make everything 32-bit so cdecl
</I>&gt;<i> can continue to be used.
</I>&gt;<i>
</I>&gt;<i> Now I want to use it from C# on OS X. I've renamed the library from
</I>&gt;<i> libfoo.so to Foo.dll, which is what it is called when compiled for
</I>&gt;<i> Windows. I believe this should allow me to use my simple C# wrapper that
</I>&gt;<i> I use in Windows without having to recompile it. However I get a
</I>&gt;<i> System.EntryPointNotFoundException for _fm_connect.
</I>
Try dropping the leading '_' in the DllImport.

I'm doing exactly the same and don't specify the leading underscore in the DllImport statement and 
it's fine.  (I guess some layer along the way adds it automatically?)

And yes, my symbols also have it in the dylib.

Cheers,
/uli

-- 
Ulrich Hertlein
Research and Development   mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">uli at xdt.com.au</A>
XDT Pty Ltd                <A HREF="http://www.xdt.com.au">http://www.xdt.com.au</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004564.html">[Mono-osx] P/invoke 32-bit C library
</A></li>
	<LI>Next message: <A HREF="004566.html">[Mono-osx] P/invoke 32-bit C library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4565">[ date ]</a>
              <a href="thread.html#4565">[ thread ]</a>
              <a href="subject.html#4565">[ subject ]</a>
              <a href="author.html#4565">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
