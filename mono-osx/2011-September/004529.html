<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] MonoMac - NullReferenceException when binding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MonoMac%20-%20NullReferenceException%20when%20binding&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004536.html">
   <LINK REL="Next"  HREF="004530.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] MonoMac - NullReferenceException when binding</H1>
    <B>JayDZimmerman</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MonoMac%20-%20NullReferenceException%20when%20binding&In-Reply-To="
       TITLE="[Mono-osx] MonoMac - NullReferenceException when binding">mono at zimmail.us
       </A><BR>
    <I>Fri Sep  2 21:31:36 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004536.html">[Mono-osx] MonoMac - NSTextView Compile Problems
</A></li>
        <LI>Next message: <A HREF="004530.html">[Mono-osx] mono newbie
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4529">[ date ]</a>
              <a href="thread.html#4529">[ thread ]</a>
              <a href="subject.html#4529">[ subject ]</a>
              <a href="author.html#4529">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Working from one of the MonoMac samples, I created an application that binds
an NSTextField to a property.  It works as expected until I clear out the
contents of the text field, at which point the follow exception is thrown:

Unhandled Exception: System.NullReferenceException: Object reference not set
to an instance of an object
at MonoMac.Foundation.NSString.ToString () &lt;0x00009&gt;
at (wrapper dynamic-method) object.[Test.MainWindowController.Void
set_TestStringNotWorking(System.String)]
(MonoMac.Foundation.NSObject,MonoMac.ObjCRuntime.Selector,MonoMac.Foundation.NSString)
&lt;0x0000f&gt;
at (wrapper native-to-managed) object.[Test.MainWindowController.Void
set_TestStringNotWorking(System.String)]
(MonoMac.Foundation.NSObject,MonoMac.ObjCRuntime.Selector,MonoMac.Foundation.NSString)
&lt;0x000fb&gt;
at (wrapper managed-to-native)
MonoMac.AppKit.NSApplication.NSApplicationMain (int,string[]) &lt;0x00003&gt;
at MonoMac.AppKit.NSApplication.Main (string[]) &lt;0x00017&gt;
at Test.MainClass.Main (string[]) &lt;0x00017&gt;


The test case is simple:
- Create a new MonoMac project.
- In the &quot;MainWindowController&quot; class, create the following property:
[Export]
public string TestString { get; set; }
- In the Interface Builder, create NSTextField and bind its Value to the
&quot;File's Owner&quot; object using a Model Key Path of &quot;TestString&quot;.
- Run the application, enter a value in the text field, tab away to
validate, clear the value out of the text field, tab away to validate.


If I declare my property to use an NSString instead of a string no exception
is thrown.  This isn't an unreasonable implementation, but it does require
casting to and from the NSString to operate on the value.

This may simply be an unearthing of my ignorance of Cocoa and its &quot;best
practices&quot; implementation (I'm straight out of the Windows .NET world). 
Just looking for someone to point me in the right direction.

--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/MonoMac-NullReferenceException-when-binding-tp3787354p3787354.html">http://mono.1490590.n4.nabble.com/MonoMac-NullReferenceException-when-binding-tp3787354p3787354.html</A>
Sent from the Mono - OSX mailing list archive at Nabble.com.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004536.html">[Mono-osx] MonoMac - NSTextView Compile Problems
</A></li>
	<LI>Next message: <A HREF="004530.html">[Mono-osx] mono newbie
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4529">[ date ]</a>
              <a href="thread.html#4529">[ thread ]</a>
              <a href="subject.html#4529">[ subject ]</a>
              <a href="author.html#4529">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
