<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] MonoMac.dll depends on System.Drawing.dll?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MonoMac.dll%20depends%20on%20System.Drawing.dll%3F&In-Reply-To=AANLkTi%3D2cFQKgvgRjMV1sNiw21su%3DGUa8JbsXtfzSzZS%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003108.html">
   <LINK REL="Next"  HREF="003111.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] MonoMac.dll depends on System.Drawing.dll?</H1>
    <B>Lee V. Andrus</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MonoMac.dll%20depends%20on%20System.Drawing.dll%3F&In-Reply-To=AANLkTi%3D2cFQKgvgRjMV1sNiw21su%3DGUa8JbsXtfzSzZS%40mail.gmail.com"
       TITLE="[Mono-osx] MonoMac.dll depends on System.Drawing.dll?">landrus2 at by-rite.net
       </A><BR>
    <I>Wed Sep  8 18:00:57 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003108.html">[Mono-osx] MonoMac.dll depends on System.Drawing.dll?
</A></li>
        <LI>Next message: <A HREF="003111.html">[Mono-osx] MonoMac.dll depends on System.Drawing.dll?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3110">[ date ]</a>
              <a href="thread.html#3110">[ thread ]</a>
              <a href="subject.html#3110">[ subject ]</a>
              <a href="author.html#3110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1st, I also would like to see any dependence on System.Drawing  
eliminated from MonoMac.  This is only 1 of the inconsistencies with  
such a dependency.  Most Mono-Cocoa bridges define structures based on  
Cocoa's NSPoint, NSSize, and NSRect.  But don't hold your breath while  
waiting for these guys to make a simple logical fix that would likely  
break other user's code to accommodate your very special use.  They  
are very focused on serving the most common scenario.

2nd, my suggestion is not a namespace alias, but type aliases that  
give you access to specific types without exposing the whole  
namespace.  The attached file illustrates this.  It uses PointF and  
RectangleF from System.Drawing with a custom class named Graphics.

3rd, If your wrapper assembly MUST define code in namespace  
System.Drawing, I have 2 suggestions:
  A) Rename it System.Drawing.dll in hopes that Monomac.dll will use  
its Point, etc.
  B) The compiler's -reference option can define an alias to  
disambiguate assemblies that define the same namespace.  Check out the  
man page for mcs.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hello graphics.cs.zip
Type: application/zip
Size: 1886 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20100908/e264b502/attachment.zip">http://lists.ximian.com/pipermail/mono-osx/attachments/20100908/e264b502/attachment.zip</A> 
-------------- next part --------------


On Sep 8, 2010, at 1:36 PM, Inspired Mars wrote:

&gt;<i> Namespace aliases will not fix this, as mentioned before.
</I>&gt;<i> ...
</I>&gt;<i> Thus, our wrapper for Graphics.AddLines cannot use our definition of  
</I>&gt;<i> PointF because
</I>&gt;<i> CGContext expects the definition inside System.Drawing.dll.
</I>&gt;<i> But our wrapper also cannot use the definition inside  
</I>&gt;<i> System.Drawing.dll because
</I>&gt;<i> referencing that dll means we cannot have a wrapper by that name to  
</I>&gt;<i> begin with,
</I>&gt;<i> since the dll defines exactly the same wrapper.
</I>&gt;<i>
</I>&gt;<i> The solution here is to ... directly define Point, Size, Rectangle,  
</I>&gt;<i> PointF, SizeF, RectangleF
</I>&gt;<i> in MonoMac.dll. Then, our app would use these definitions and the  
</I>&gt;<i> rest of the System.Drawing wrappers
</I>&gt;<i> our app defines would work.
</I>&gt;<i>
</I>&gt;<i> Net: This is a very simple fix to implement in MonoMac, and  
</I>&gt;<i> MonoTouch already works this way.
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, Sep 8, 2010 at 11:22 AM, Lee V. Andrus &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">landrus2 at by-</A> 
</I>&gt;<i> rite.net&gt; wrote:
</I>&gt;&gt;<i> Using directives can also be used to create aliases for specific  
</I>&gt;&gt;<i> types
</I>&gt;&gt;<i> without exposing the whole namespace.  Like this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  using PointF = System.Drawing.PointF;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm sure it's a pain to put so much at the top of every file because
</I>&gt;&gt;<i> C# doesn't have #include or typedef.  But this can reduce the  
</I>&gt;&gt;<i> solution
</I>&gt;&gt;<i> to boilerplate.  You may even be able to incorporate it into your
</I>&gt;&gt;<i> standard header.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003108.html">[Mono-osx] MonoMac.dll depends on System.Drawing.dll?
</A></li>
	<LI>Next message: <A HREF="003111.html">[Mono-osx] MonoMac.dll depends on System.Drawing.dll?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3110">[ date ]</a>
              <a href="thread.html#3110">[ thread ]</a>
              <a href="subject.html#3110">[ subject ]</a>
              <a href="author.html#3110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
