<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] MWF Mac.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MWF%20Mac.&In-Reply-To=1192739854.20012.34.camel%40erandi.dom">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000998.html">
   <LINK REL="Next"  HREF="001000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] MWF Mac.</H1>
    <B>Geoff Norton</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MWF%20Mac.&In-Reply-To=1192739854.20012.34.camel%40erandi.dom"
       TITLE="[Mono-osx] MWF Mac.">gnorton at novell.com
       </A><BR>
    <I>Thu Oct 18 16:48:34 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000998.html">[Mono-osx] MWF Mac.
</A></li>
        <LI>Next message: <A HREF="001000.html">[Mono-osx] MWF Mac.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#999">[ date ]</a>
              <a href="thread.html#999">[ thread ]</a>
              <a href="subject.html#999">[ subject ]</a>
              <a href="author.html#999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Miguel,

  I think that Keyboard is a realistic goals for 1.2.6.  I'm still 
completing some research on Async but I should have an update on the 
feasability of that for 1.2.6 tomorrow (it currently looks good).  
Clipping unfortunately will be one of our biggest outstanding things 
going forward (I'll explain below) but it will be improved in that time 
frame as well.

  In terms of community contributions if anyone. is interested please 
let me know.  I can help walk through some of the simpler lower priority 
tasks (audio/dnd/clipboard/cursors come to mind as simpler in terms of 
complexity).

  The clipping issue is one I've explained before, but its probably 
important to reiterate for the sake of the community.  We're currently 
implementing HWNDs as HIViews on the mac.  However the HIToolkit has no 
support to do &quot;Hey, HIView give me the clipping path to paint on you.&quot;  
Apple expects you to only draw when they tell you too, and they give you 
a CGContext (think XDrawable) with the clipping already applied.  
Unfortunately in the Win32 model people can do Graphics.FromHwnd 
(handle) at any time out of the apple provided drawing event.  We've 
worked around this but it makes us responsible to clip things 
ourselves.  There is a few cases where this becomes important.  The 
simple case (and most common) is HWNDs that have chilren mapped into 
them.  We now track the existence of these in the HWND object and 
reflect that information across to System.Drawing and build our own 
clipping path to the CGContext before we blit to it.  That case is 
handled.  The intermediary case is sibling HWNDs that cover a portion of 
each other.  We currently dont handle this gracefully.  The most complex 
case (also uncovered right now) is siblings up the parent tree that clip 
a child (this can happen in MDI for example).

  On the topic of an OSX theme.  I'm fairly certain that OSX doesn't 
provide a way to draw a control without instantiating it; meaning that 
an OSX them (while entirely possible) would probably require people to 
actually do all the drawing themselves (like we do for Win32).  The plus 
side to this is we could provide a OSX and a OSX_BRUSHED_METAL theme or 
something if some graphic designer was so inclined.

-geoff

Miguel de Icaza wrote:
&gt;<i> Hello Geoff,
</I>&gt;<i>
</I>&gt;<i>     I like the prioritization;   Do you think that the stuff in &quot;HIGH&quot;
</I>&gt;<i> can be achieved by the 1.2.6 release?
</I>&gt;<i>
</I>&gt;<i>     Hopefully if we get that out of the way, we can get some folks from
</I>&gt;<i> the OSX community to help out with the MEDIUM/LOW tasks.
</I>&gt;<i>
</I>&gt;<i>     Another thing that might be a useful contribution is to have someone
</I>&gt;<i> develop an OSX &quot;theme&quot;, something that tries to mimic some of the OSX
</I>&gt;<i> UI.   Am not sure how far this can go though.
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> Talking with Miguel on IRC today we decided it would be a good idea to update everyone on the state of the MWF Mac driver in hopes to 
</I>&gt;&gt;<i> prioritize a set of realistic goals for 1.2.6.  As of yesterday I have committed the bulk of my work to get the driver working again.  The list included in this email does not include bugs or performance issues but is a rough map of the features that are currently 
</I>&gt;&gt;<i> missing / not fully implemented in the driver.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My first pass at the priority list is this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HIGH
</I>&gt;&gt;<i>     1. Keyboard Driver
</I>&gt;&gt;<i>     2. Clipping (I have about 80% coverage of the clipping cases; but there are a lot of edge cases that cause controls to disappear)
</I>&gt;&gt;<i>     3. Async methods
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> MEDIUM
</I>&gt;&gt;<i>     1. Clipboard
</I>&gt;&gt;<i>     2. DND
</I>&gt;&gt;<i>     3. ReversibleDrawing
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> LOW
</I>&gt;&gt;<i>     1. Audio
</I>&gt;&gt;<i>     2. Systray
</I>&gt;&gt;<i>     3. Cursors
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I plan on focusing on the keyboard driver in the immediate future.  If anyone is curious as to what is involved you can look at the X11Keyboard.cs for a sample implementation for X11.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -geoff
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-winforms-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-winforms-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-winforms-list">http://lists.ximian.com/mailman/listinfo/mono-winforms-list</A>
</I>&gt;&gt;<i>     
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000998.html">[Mono-osx] MWF Mac.
</A></li>
	<LI>Next message: <A HREF="001000.html">[Mono-osx] MWF Mac.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#999">[ date ]</a>
              <a href="thread.html#999">[ thread ]</a>
              <a href="subject.html#999">[ subject ]</a>
              <a href="author.html#999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
