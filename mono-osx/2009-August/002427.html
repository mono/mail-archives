<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Getting Mono to work with Apache in Mac OS X Leopard
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Getting%20Mono%20to%20work%20with%20Apache%20in%20Mac%20OS%20X%20Leopard&In-Reply-To=24646201.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002485.html">
   <LINK REL="Next"  HREF="002428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Getting Mono to work with Apache in Mac OS X Leopard</H1>
    <B>Asle Benoni</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Getting%20Mono%20to%20work%20with%20Apache%20in%20Mac%20OS%20X%20Leopard&In-Reply-To=24646201.post%40talk.nabble.com"
       TITLE="[Mono-osx] Getting Mono to work with Apache in Mac OS X Leopard">asle.benoni at gmail.com
       </A><BR>
    <I>Fri Aug 14 09:33:09 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002485.html">[Mono-osx] MAC OS X LEOPARD!!!
</A></li>
        <LI>Next message: <A HREF="002428.html">[Mono-osx] Getting Mono to work with Apache in Mac OS X Leopard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2427">[ date ]</a>
              <a href="thread.html#2427">[ thread ]</a>
              <a href="subject.html#2427">[ subject ]</a>
              <a href="author.html#2427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
Thanks for a very clear installation instruction. I am trying to do  
this in the correct order. I already had installed Macports and tried  
to install glib and libtool.
I first got this message when trying to uninstall:

Error: Target org.macports.activate returned: Image error: Another  
version of this port (glib2 @2.20.2_0) is already active.
Error: Status 1 encountered during processing.


So I uninstalled:
sh-3.2# sudo port uninstall glib2 libtool
---&gt;  The following versions of glib2 are currently installed:
---&gt;  	glib2 @2.20.2_0 (active)
---&gt;  	glib2 @2.20.4_0
Error: port uninstall failed: Registry error: Please specify the full  
version as recorded in the port registry.

sh-3.2# sudo port uninstall glib2 @2.20.4_0  libtool
---&gt;  Uninstalling glib2 @2.20.4_0
---&gt;  Deactivating libtool @2.2.6a_0
---&gt;  Uninstalling libtool @2.2.6a_0

sh-3.2# port clean glib2

But what am I doing wrong here since it fails now to install glib2 and  
libtool:

sh-3.2# sudo port install glib2 libtool
---&gt;  Fetching glib2
---&gt;  Verifying checksum(s) for glib2
---&gt;  Extracting glib2
---&gt;  Applying patches to glib2
---&gt;  Configuring glib2
---&gt;  Configuring glib2 for architecture i386
---&gt;  Configuring glib2 for architecture x86_64
Error: Target org.macports.configure returned: configure failure:  
shell command &quot; cd &quot;/opt/local/var/macports/build/ 
_opt_local_var_macports_sources_rsync 
.macports.org_release_ports_devel_glib2/work/glib-2.20.4-x86_64&quot; &amp;&amp; ./ 
configure --prefix=/opt/local --enable-static --disable-dependency- 
tracking  &quot; returned error 1
Command output: checking dependency style of /usr/bin/gcc-4.0...  
(cached) none
checking how to run the C preprocessor... /usr/bin/cpp-4.0
checking for c++... /usr/bin/g++-4.0
checking whether we are using the GNU C++ compiler... yes
checking whether /usr/bin/g++-4.0 accepts -g... yes
checking dependency style of /usr/bin/g++-4.0... none
checking for gcc... (cached) /usr/bin/gcc-4.0
checking whether we are using the GNU C compiler... (cached) yes
checking whether /usr/bin/gcc-4.0 accepts -g... (cached) yes
checking for /usr/bin/gcc-4.0 option to accept ISO C89... (cached)  
none needed
checking dependency style of /usr/bin/gcc-4.0... (cached) none
checking whether /usr/bin/gcc-4.0 and cc understand -c and -o  
together... yes
checking for a BSD-compatible install... /usr/bin/install -c
checking for special C compiler options needed for large files... no
checking for _FILE_OFFSET_BITS value needed for large files... no
checking for pkg-config... /opt/local/bin/pkg-config
checking for gawk... (cached) gawk
checking for perl5... /opt/local/bin/perl
checking for indent... indent
checking for /opt/local/bin/perl... /opt/local/bin/perl
checking for a Python interpreter with version &gt;= 2.4... python
checking for python... /opt/local/bin/python
checking for python version... 2.6
checking for python platform... darwin
checking for python script directory... ${prefix}/lib/python2.6/site- 
packages
checking for python extension module directory... ${exec_prefix}/lib/ 
python2.6/site-packages
checking for iconv_open... no
checking for libiconv_open in -liconv... no
checking for iconv_open in -liconv... no
configure: error: *** No iconv() implementation found in C library or  
libiconv

Error: Status 1 encountered during processing.


Glad for any help!

/asle

Den 24. juli. 2009 kl. 17.02 skrev eto:

&gt;<i>
</I>&gt;<i> I've been using mod_mono sweetness on OSX using the built-in apache  
</I>&gt;<i> server
</I>&gt;<i> for over a year now.  I really wish they'd just compile mod_mono  
</I>&gt;<i> with the
</I>&gt;<i> osx binaries..  I've tried to get fastcgi working to no avail..  
</I>&gt;<i> though I
</I>&gt;<i> hear that fastcgi doesn't work well on apache even on linux.. *shrug*
</I>&gt;<i>
</I>&gt;<i> There's many issues getting a mod_mono running with the built-in os  
</I>&gt;<i> x apache
</I>&gt;<i> server in leopard.  First, leopard has 64-bit apache where the mono  
</I>&gt;<i> binaries
</I>&gt;<i> are 32-bit.  Second, is that the latest mod_mono now requires glib,  
</I>&gt;<i> where it
</I>&gt;<i> did not before (My working copy of mod_mono was woefully out of date  
</I>&gt;<i> but I
</I>&gt;<i> was happy).
</I>&gt;<i>
</I>&gt;<i> Anyway, after much trials and tribulations, I've been able to build &amp;
</I>&gt;<i> install the latest mod_mono and use the packaged 2.4.2.2 mono .dmg's  
</I>&gt;<i> (for
</I>&gt;<i> easy upgrades) using these steps:
</I>&gt;<i>
</I>&gt;<i> 1) Ensure you have the standard mono os x binaries installed (I am  
</I>&gt;<i> currently
</I>&gt;<i> using 2.4.2.2)
</I>&gt;<i> 1) Install MacPorts
</I>&gt;<i> 2) Edit /opt/local/etc/macports/macports.conf and add (or change)  
</I>&gt;<i> this line
</I>&gt;<i> to:
</I>&gt;<i>
</I>&gt;<i> universal_archs i386 x86_64
</I>&gt;<i>
</I>&gt;<i> Note: If you already have macports installed without this, you'll  
</I>&gt;<i> have to
</I>&gt;<i> re-install all related ports.
</I>&gt;<i>
</I>&gt;<i> 3) Edit /opt/local/etc/macports/variants.conf and add:
</I>&gt;<i>
</I>&gt;<i> +universal
</I>&gt;<i>
</I>&gt;<i> 2) Install glib2 and libtool in MacPorts:
</I>&gt;<i>
</I>&gt;<i> sudo port install glib2 libtool
</I>&gt;<i>
</I>&gt;<i> 4) download (latest) mod_mono source or check out from svn
</I>&gt;<i> 5) modify src/mod_mono.c and comment out this line (if it exists) as  
</I>&gt;<i> it
</I>&gt;<i> borks on leopard:
</I>&gt;<i>
</I>&gt;<i> // sigaddset (&amp;sigset, SIGPWR);
</I>&gt;<i>
</I>&gt;<i> 6) Then time to build &amp; install mod_mono:
</I>&gt;<i>
</I>&gt;<i> PKG_CONFIG_PATH=&quot;/opt/local/lib/pkgconfig&quot; CFLAGS=&quot;-m64&quot; ./configure
</I>&gt;<i> --prefix=/Library/Frameworks/Mono.framework/Versions/Current
</I>&gt;<i> make
</I>&gt;<i> sudo make install
</I>&gt;<i>
</I>&gt;<i> 7) add these lines to your /etc/apache2/httpd.conf:
</I>&gt;<i>
</I>&gt;<i> Include /etc/apache2/mod_mono.conf
</I>&gt;<i> MonoServerPath
</I>&gt;<i> /Library/Frameworks/Mono.framework/Versions/Current/bin/mod-mono- 
</I>&gt;<i> server2
</I>&gt;<i>
</I>&gt;<i> c'est voila!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> wharrell wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Okay, I'm not sure if mono is even capable of doing this or not but  
</I>&gt;&gt;<i> I'm
</I>&gt;&gt;<i> going to ask.  I've work with PHP for awhile and I'm spoiled.  OS X  
</I>&gt;&gt;<i> comes
</I>&gt;&gt;<i> with PHP pre-installed all you have to do is turn it on.  I need to  
</I>&gt;&gt;<i> learn
</I>&gt;&gt;<i> ASP.NET so I have to get this running now.  I've tried working with  
</I>&gt;&gt;<i> these
</I>&gt;&gt;<i> instructions,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://mono-project.com/Mod_mono">http://mono-project.com/Mod_mono</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> but after download packages and trying to configure each of them they
</I>&gt;&gt;<i> always say I'm missing a variety of different things and it  
</I>&gt;&gt;<i> seemingly is
</I>&gt;&gt;<i> just spinning in circles.  SO, HELP!!!!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If anyone can provide me with a step-by-step instructional to  
</I>&gt;&gt;<i> install and
</I>&gt;&gt;<i> run mono on my mac so that I can begin testing my .aspx pages I  
</I>&gt;&gt;<i> would much
</I>&gt;&gt;<i> appreciate it.
</I>&gt;&gt;<i> Thanks
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> View this message in context: <A HREF="http://www.nabble.com/Getting-Mono-to-work-with-Apache-in-Mac-OS-X-Leopard-tp24629121p24646201.html">http://www.nabble.com/Getting-Mono-to-work-with-Apache-in-Mac-OS-X-Leopard-tp24629121p24646201.html</A>
</I>&gt;<i> Sent from the Mono - OSX mailing list archive at Nabble.com.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-osx mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20090814/a9b54d70/attachment.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20090814/a9b54d70/attachment.html</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002485.html">[Mono-osx] MAC OS X LEOPARD!!!
</A></li>
	<LI>Next message: <A HREF="002428.html">[Mono-osx] Getting Mono to work with Apache in Mac OS X Leopard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2427">[ date ]</a>
              <a href="thread.html#2427">[ thread ]</a>
              <a href="subject.html#2427">[ subject ]</a>
              <a href="author.html#2427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
