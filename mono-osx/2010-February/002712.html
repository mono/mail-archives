<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] [Mono-list] How do you use mkbundle2 for Mac OS X	successfully?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%5BMono-list%5D%20How%20do%20you%20use%20mkbundle2%20for%20Mac%20OS%20X%0A%09successfully%3F&In-Reply-To=003901cab16f%24bf93a150%243ebae3f0%24%40vandermolen%40figpsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002714.html">
   <LINK REL="Next"  HREF="002713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] [Mono-list] How do you use mkbundle2 for Mac OS X	successfully?</H1>
    <B>Alex Shulgin</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%5BMono-list%5D%20How%20do%20you%20use%20mkbundle2%20for%20Mac%20OS%20X%0A%09successfully%3F&In-Reply-To=003901cab16f%24bf93a150%243ebae3f0%24%40vandermolen%40figpsoft.com"
       TITLE="[Mono-osx] [Mono-list] How do you use mkbundle2 for Mac OS X	successfully?">alexander.shulgin at yessoftware.com
       </A><BR>
    <I>Fri Feb 19 11:56:04 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002714.html">[Mono-osx] PeekMessage(), mono mac
</A></li>
        <LI>Next message: <A HREF="002713.html">[Mono-osx] [Mono-list] How do you use mkbundle2 for Mac OS X	successfully?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2712">[ date ]</a>
              <a href="thread.html#2712">[ thread ]</a>
              <a href="subject.html#2712">[ subject ]</a>
              <a href="author.html#2712">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>(moved this to mono-osx list)

d_v wrote:
&gt;<i> 1)      a) When I double-click the output file of mkbundle, it auto opens a
</I>&gt;<i> Terminal window (It is Applications/Utilities/Terminal.  About Terminal
</I>&gt;<i> shows it is version 2.0.2) and outputs the following lines:
</I>&gt;<i> 
</I>&gt;<i> Last login: Wed Feb 17 12:42:09 on ttys001
</I>&gt;<i> 
</I>&gt;<i> $ /Program\ Files/My\ Software/MacFormShow/testDynStatic ; exit;
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> After I close the WinForm it does not auto quit Terminal but outputs the
</I>&gt;<i> following:
</I>&gt;<i> 
</I>&gt;<i> logout
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> [Process completed]
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Do you know of another/better way to launch a bundled application?
</I>
Ah, I got it.  You must be confusing Mono bundle (a collection of .Net 
assemblies packaged together into single natively executable file, 
optionally with Mono runtime included) and Mac OS X application bundle 
(a folder which name ends with &quot;.app&quot; containing special directory 
structure).

If you create the latter, say MyProgram.app, put a mkbundle-d native 
executable into it at designated location then you'll get a native Mac 
OS application which is run w/o terminal window when you click on it.

&gt;<i> 2)      What do you mean by &quot;The unbundled WinForms app will hang just like
</I>&gt;<i> that&quot;   I did bundle it with mkbundle so I thought it shouldn't hang (was
</I>&gt;<i> hoping anyway).
</I>
I mean that this problem can't be solved by using mkbundle, as it 
doesn't create something related to Mac OS application bundles which 
will then magically solve it.

&gt;<i> I am hoping someone has sample code or a link for this and in c# would be
</I>&gt;<i> really nice.
</I>&gt;<i> 
</I>&gt;<i> a.       Do you have any more info on how to use the &quot;Winform support
</I>&gt;<i> method&quot; 
</I>
I don't really know if there's event or other notification means in 
WinForms which are triggered when system is being shutdown.  If there 
is, then probably it's mono implementation is incomplete or missing (or 
you have to explicitly specify that you want to handle the event).

&gt;<i> 
</I>&gt;<i> b.      Do you have an more info on how to &quot;handle shutdown Apple Event
</I>&gt;<i> manually (see AEInstallEventHandler(), kAEQuitApplication).
</I>
You'll need to P/Invoke the above Apple system call and provide a 
handler function in your C# code.  When user logs out or mac is 
shutdown, your method will be called and will have a chance to 
gracefully close the application or prevent system from shutting down 
(e.g. ask user to save changes in document).

This might be of some help: 
<A HREF="http://www.google.com/codesearch?hl=en&amp;lr=&amp;q=AEInstallEventHandler+lang:c%23&amp;sbtn=Search">http://www.google.com/codesearch?hl=en&amp;lr=&amp;q=AEInstallEventHandler+lang:c%23&amp;sbtn=Search</A>

--
Alex

&gt;<i> From: Alex Shulgin [via Software]
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">ml-node+4597707-1155441064-165460 at n2.nabble.com</A>] 
</I>&gt;<i> Sent: February-19-10 08:13
</I>&gt;<i> To: d_v
</I>&gt;<i> Subject: Re: How do you use mkbundle2 for Mac OS X successfully?
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> d_v wrote: 
</I>&gt;&gt;<i> I am having difficulty running bundles and using mkbundle. 
</I>&gt;&gt;<i> How do I: 
</I>&gt;&gt;<i> 1) Not see the Terminal window when I double-click the mkbundle 
</I>&gt;&gt;<i> output/bundled file: test3 
</I>&gt;<i> 
</I>&gt;<i> I'm not sure what are you talking about as I never experienced this. 
</I>&gt;<i> Does it happen only when you run bundled app?  Does it output anything 
</I>&gt;<i> to the window?  BTW, could it probably be X11 window, not one from 
</I>&gt;<i> Applications -&gt; Utilities -&gt; Terminal? 
</I>&gt;<i> 
</I>&gt;&gt;<i> 2) When I Launch the mkbundle output file in Mac OS X and the logout of
</I>&gt;<i> the 
</I>&gt;&gt;<i> Mac with the mono application still running (and terminal window open),
</I>&gt;<i> the 
</I>&gt;&gt;<i> Mac will hang and the application will not quit and I can't logout until I
</I>&gt;<i> 
</I>&gt;&gt;<i> 'force quit' mono. However while it is hanging I can either quit the 
</I>&gt;&gt;<i> terminal window or the application to close both windows (term and app)
</I>&gt;<i> and 
</I>&gt;&gt;<i> then the logout works. 
</I>&gt;<i> 
</I>&gt;<i> This is unrelated to use of mkbundle.  The unbundled WinForms app will 
</I>&gt;<i> hang just like that.  To handle this you'll need support from WinForms 
</I>&gt;<i> or handle shutdown Apple Event manually (see AEInstallEventHandler(), 
</I>&gt;<i> kAEQuitApplication). 
</I>&gt;<i> 
</I>&gt;&gt;<i> 3) Sucessfully use mkbundle with the dynamic option and get no warnings. 
</I>&gt;&gt;<i> (please see below) 
</I>&gt;<i> 
</I>&gt;<i> But are you really bothered by these warnings? 
</I>&gt;<i> 
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002714.html">[Mono-osx] PeekMessage(), mono mac
</A></li>
	<LI>Next message: <A HREF="002713.html">[Mono-osx] [Mono-list] How do you use mkbundle2 for Mac OS X	successfully?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2712">[ date ]</a>
              <a href="thread.html#2712">[ thread ]</a>
              <a href="subject.html#2712">[ subject ]</a>
              <a href="author.html#2712">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
