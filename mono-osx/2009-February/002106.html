<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Delphi Prism and all those Cocoa bridges
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Delphi%20Prism%20and%20all%20those%20Cocoa%20bridges&In-Reply-To=8346FFE9-FBA4-466B-9FC8-1BB6BE5A77D1%40elitedev.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002077.html">
   <LINK REL="Next"  HREF="002107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Delphi Prism and all those Cocoa bridges</H1>
    <B>Andrew Brehm</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Delphi%20Prism%20and%20all%20those%20Cocoa%20bridges&In-Reply-To=8346FFE9-FBA4-466B-9FC8-1BB6BE5A77D1%40elitedev.com"
       TITLE="[Mono-osx] Delphi Prism and all those Cocoa bridges">ajbrehm at gmail.com
       </A><BR>
    <I>Thu Feb 26 11:29:20 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002077.html">[Mono-osx] Delphi Prism and all those Cocoa bridges
</A></li>
        <LI>Next message: <A HREF="002107.html">[Mono-osx] Delphi Prism and all those Cocoa bridges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2106">[ date ]</a>
              <a href="thread.html#2106">[ thread ]</a>
              <a href="subject.html#2106">[ subject ]</a>
              <a href="author.html#2106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

marc hoffman-4 wrote:
&gt;<i> 
</I>&gt;<i> Andrew,
</I>&gt;<i> 
</I>&gt;&gt;<i> Quick question:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> How does Prism interact with the Monobjc dlls? Where does it get  
</I>&gt;&gt;<i> them? Does
</I>&gt;&gt;<i> it add them to Monobjc-based projects?
</I>&gt;<i> 
</I>&gt;<i> same as C# would - you add them as references to your project
</I>&gt;<i> 
</I>
Yes, but I mean when Prism compiles the project using Mono and macpacks it,
will it copy those DLLs into the bundle.app?



marc hoffman-4 wrote:
&gt;<i> 
</I>&gt;&gt;<i> And how does Prism handle projects that are supposed to have some  
</I>&gt;&gt;<i> files in common (non-GUI) and some not (GUI controllers)?
</I>&gt;<i> 
</I>&gt;<i> basically, you'd create three separate projects - a dll with shared  
</I>&gt;<i> code, and then two front-end .exes, one of which would provide WPF or  
</I>&gt;<i> WinForms UI, the other Cocoa with Monobjc. If properly abstracted, the  
</I>&gt;<i> two exes can be pure presentation layer, with all the business logic  
</I>&gt;<i> being in the shared dll.
</I>&gt;<i> 
</I>
That's a good idea. In my previous experiments I always tried to make
everything one project. But that actually made it harder to keep GUI code
and business logic (&quot;model&quot;) separate.

On the Mac side having a DLL and an EXE is not a big problem as both will be
in the bundle anyway. And Windows expects an installer, I suppose, where I
can add the DLL (which I can reference from the Bin/Release folder of the
DLL project, I suppose.

So to avoid confusion, it would work like this:

1. DLL project, NO GUI code, just a bunch of classes and methods for model
stuff. References whatever that code needs.

2. Winforms project, references the DLL compiled from 1. Compiles into an
EXE that comes with that DLL. Must create installer that contains EXE and
DLL.

3. Monobjc project, references the DLL compiled from 1 and Monobjc
libraries. Compiles into an EXE and ultimately macpacks into a bundle.app
containing the EXE, the DLL, and the NIB file. (Will Prism handle the
macpack? How will I add the NIB file to the project? Can Prism pack Mono
into the bundle.app so the program will run on unsuspecting Macs?)

The only downside is that using that method I won't have a single EXE with
no DLL requirement that will run on both platforms (and look terrible on the
Mac).

But I can add a fourth project if I want to support Linux and Gtk#.

This will be more work on the GUI side than using REALbasic, but will give
me Cocoa (REALbasic uses Carbon), the power of the .NET framework and (on
the Mac) access to Cocoa APIs, and through the CLR a way to run the
resulting binaries on even more platforms than supported by REALbasic
(Windows x86, Mac OS X, Linux x86). Plus the extra work for the GUI
translates into better-looking GUIs.

I think it's a good trade-off.



marc hoffman-4 wrote:
&gt;<i> 
</I>&gt;<i> as mentioned before, one thing i got the idea of looking into,  
</I>&gt;<i> yesterday, was to create a sample that uses the MVVM pattern with WPF  
</I>&gt;<i> and Cocoa frontend - using a smart aspect to provide the property  
</I>&gt;<i> binding as needed. lets' see when i'll find the time to look at that ;)
</I>&gt;<i> 
</I>&gt;<i> 
</I>
During my test runs I managed to create a single .exe file that checks
whether it is running on Windows or Mac OS X and uses the right GUI for
each. Problem is that it has to be in a bundle.app for the NIB file
connections to work. But on Windows clicking through the bundle folder into
the Resources folder and launching the .exe file there works. The program
will come up as a Winforms program.

Personally, I find those patterns too complicated. I am not exactly a
brilliant programmer. I mostly write linguistics-related programs for my own
use (I am into languages) and am therefore happy if I have access to Unicode
support, regular expressions that work with Unicode (Cocoa doesn't offer
regular expressions and the UNIX regular expressions don't seem to work with
non-ASCII characters), right-to-left writing (Cocoa does that very well, I
hope Windows Forms does too), an easy programming language that doesn't rely
on me to do the memory management, and a way to make those programs run on
Windows and Mac OS (as I use both).

Cocoa lacks the regular expressions and portability but has the best
right-to-left script support. (But it wants me to understand memory
management, which is always a bad move for a programming language.)

.NET has excellent regular expression support and portability, but the GUI
looks terrible on Macs. Until now. Muahahahaha!

Thanks.

-- 
View this message in context: <A HREF="http://www.nabble.com/Delphi-Prism-and-all-those-Cocoa-bridges-tp22180106p22227864.html">http://www.nabble.com/Delphi-Prism-and-all-those-Cocoa-bridges-tp22180106p22227864.html</A>
Sent from the Mono - OSX mailing list archive at Nabble.com.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002077.html">[Mono-osx] Delphi Prism and all those Cocoa bridges
</A></li>
	<LI>Next message: <A HREF="002107.html">[Mono-osx] Delphi Prism and all those Cocoa bridges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2106">[ date ]</a>
              <a href="thread.html#2106">[ thread ]</a>
              <a href="subject.html#2106">[ subject ]</a>
              <a href="author.html#2106">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
