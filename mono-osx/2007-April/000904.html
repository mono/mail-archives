<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] An open letter to the OS X Mono group.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20An%20open%20letter%20to%20the%20OS%20X%20Mono%20group.&In-Reply-To=F6C5D825-A598-484C-911D-6F12FF889A63%40web.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000903.html">
   <LINK REL="Next"  HREF="000905.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] An open letter to the OS X Mono group.</H1>
    <B>Louis R. Marascio</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20An%20open%20letter%20to%20the%20OS%20X%20Mono%20group.&In-Reply-To=F6C5D825-A598-484C-911D-6F12FF889A63%40web.de"
       TITLE="[Mono-osx] An open letter to the OS X Mono group.">louis at fitnr.com
       </A><BR>
    <I>Sat Apr  7 10:52:49 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000903.html">[Mono-osx] An open letter to the OS X Mono group.
</A></li>
        <LI>Next message: <A HREF="000905.html">[Mono-osx] An open letter to the OS X Mono group.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#904">[ date ]</a>
              <a href="thread.html#904">[ thread ]</a>
              <a href="subject.html#904">[ subject ]</a>
              <a href="author.html#904">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Andreas Frber &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">andreas.faerber at web.de</A>&gt; wrote:
&gt;<i>The remaining problem then is: How do we handle wildcards? Currently  
</I>&gt;<i>we have a 1:1 mapping of FileSystemWatchers to file descriptors. But  
</I>&gt;<i>what if a user wants to monitor a directory with hundreds of files?  
</I>&gt;<i>The commented out part of my test implementation shows that we are  
</I>&gt;<i>limited to 255 open file descriptors in whole. According to my  
</I>&gt;<i>reading this is what Linux software like inotify and the like handle  
</I>&gt;<i>- but nothing comparable seems to be available for OS X except some  
</I>&gt;<i>hacky ways of accessing the undocumented internals of Tiger's  
</I>&gt;<i>Spotlight engine. And Finder's FSNotify seems to be an even worse way  
</I>&gt;<i>of detecting changes. So kevent seems to be our best bet for now -  
</I>&gt;<i>it's just the question of how to use it.
</I>
Actually, as I've poked further you seem to be right about the
directory vs file issue. vi must be doing something unique in how it
writes changes to disk such that they get caught by kevent when only the
directory has been opened.

As it stands now it doesn't work, so even if we make it work up to 255
monitored files that's an improvement. Ideally, Apple would make the
EVFILT_FS kevent filter available as a public API as this is clearly
Apple's scalable FS monitoring method.

Louis

-- 
Louis R. Marascio - www.fitnr.com
... fixed in the next release ...
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000903.html">[Mono-osx] An open letter to the OS X Mono group.
</A></li>
	<LI>Next message: <A HREF="000905.html">[Mono-osx] An open letter to the OS X Mono group.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#904">[ date ]</a>
              <a href="thread.html#904">[ thread ]</a>
              <a href="subject.html#904">[ subject ]</a>
              <a href="author.html#904">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
