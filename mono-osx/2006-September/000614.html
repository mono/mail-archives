<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Dumbarton and Arrays
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Dumbarton%20and%20Arrays&In-Reply-To=EB86FBF1-8992-4124-8FEE-0F8D25F5EEAA%40mac.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000609.html">
   <LINK REL="Next"  HREF="000610.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Dumbarton and Arrays</H1>
    <B>Allan Hsu</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Dumbarton%20and%20Arrays&In-Reply-To=EB86FBF1-8992-4124-8FEE-0F8D25F5EEAA%40mac.com"
       TITLE="[Mono-osx] Dumbarton and Arrays">allan at counterpop.net
       </A><BR>
    <I>Thu Sep 28 15:56:15 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000609.html">[Mono-osx] Dumbarton and Arrays
</A></li>
        <LI>Next message: <A HREF="000610.html">[Mono-osx] configure fails on PKG_CHECK_MODULES(BASE_DEPENDENCIES,	glib-2.0 &gt;= $GLIB_REQUIRED_VERSION)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#614">[ date ]</a>
              <a href="thread.html#614">[ thread ]</a>
              <a href="subject.html#614">[ subject ]</a>
              <a href="author.html#614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 27, 2006, at 7:23 AM, Eoin Norris wrote:

&gt;<i> Two questions.
</I>&gt;<i>
</I>&gt;<i> 1) I have only the intel version running. Is there a universal
</I>&gt;<i> framework for mono and Dumbarton?
</I>
There are no official universal packages for Mono, but it is possible  
to build Mono and its dependencies as a universal binary. I  
occasionally make universal builds from Mono SVN and post them here:
<A HREF="http://strangecargo.org/~allan/mono/">http://strangecargo.org/~allan/mono/</A>

Installation instructions can be found in the archives:
<A HREF="http://lists.ximian.com/pipermail/mono-osx/2006-September/000601.html">http://lists.ximian.com/pipermail/mono-osx/2006-September/000601.html</A>

It should be noted that these builds are built for imeem, so I often  
leave out things like libgdiplus and xsp from my builds, because we  
don't actually require those in imeem.

Dumbarton from Mono SVN will compile as a universal binary if you  
compile in the &quot;Release&quot; configuration, but this requires that you  
have a universal Mono installed to link against.

&gt;<i> 2) I am passing values between the layers using a serialised string,
</I>&gt;<i> as I could not get arrays to work.  There were two problems here.
</I>&gt;<i> 	2.1)  ( Which may be unsolvable) I had an array of dictionarys which
</I>&gt;<i> means different types within the dictionary. Cant see how mono could
</I>&gt;<i> know about an NSDateTime object
</I>
Can you be more explicit about what you're trying to do?  
Particularly, which direction is this data going? Objective C to Mono?

There are ways to convert between some Cocoa types and C# types  
through Objective C categories. In the case of DateTime objects and  
NSDate objects, -[NSDate monoDateTime] will give you a C#  
System.DateTime object from an NSDate. If you have a System.DateTime  
object and need an NSDate, +[NSDate dateWithMonoDateTime:] or - 
[NSDate initWithMonoDateTime:] will do what you want.

&gt;<i> 	2.2) Even when trying to get an array of string objects  some things
</I>&gt;<i> were unclear
</I>&gt;<i> 		The initializer in the sample code uses this
</I>&gt;<i> 		
</I>&gt;<i> - (id)initWithMonoObject:(MonoObject *)monoObject
</I>&gt;<i> withRepresentationClass:(Class)representationClass;
</I>&gt;<i>
</I>&gt;<i> but it initializes the DBIList from an MonoArray which so happened to
</I>
This is wrong. MonoArray is the mono type for array objects. DBIList  
and DBArrayList are for System.Collections objects. The sample code  
creates a DBArrayList from a MonoObject of type  
System.Collections.ArrayList.

&gt;<i> be returned from the mono layer. I presume you could initialise this
</I>&gt;<i> list with any object and then add more objects to the list. In any
</I>&gt;<i> case this problem was moot for when I tried to rename the method I
</I>&gt;<i> was calling into to foo(ArrayList object) and called
</I>
If what you're trying to do is create an empty ArrayList or create an  
ArrayList from an NSArray, there currently isn't functionality in  
Dumbarton for this, though it wouldn't be hard to implement. If you  
need this, I can hurry up and write it:). Functionality in Dumbarton  
only gets written when somebody needs it.

&gt;<i> [self invokeMethod:&quot;foo(ArrayList)&quot; withNumArgs:1,monoArray];
</I>&gt;<i> but that failed with the exception &quot;method not found&quot;. Any ideas on
</I>&gt;<i> this?
</I>
I think you may need to specify the full namespace for the argument  
to your method. Try:
  [self invokeMethod:&quot;foo(System.Collections.ArrayList)&quot; withNumArgs: 
1, monoArray];
  and see what happens.

-Allan

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000609.html">[Mono-osx] Dumbarton and Arrays
</A></li>
	<LI>Next message: <A HREF="000610.html">[Mono-osx] configure fails on PKG_CHECK_MODULES(BASE_DEPENDENCIES,	glib-2.0 &gt;= $GLIB_REQUIRED_VERSION)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#614">[ date ]</a>
              <a href="thread.html#614">[ thread ]</a>
              <a href="subject.html#614">[ subject ]</a>
              <a href="author.html#614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
