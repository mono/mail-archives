<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] [MonoMac] Adding WebKit DOM interfaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%5BMonoMac%5D%20Adding%20WebKit%20DOM%20interfaces&In-Reply-To=AANLkTin64bUCbbC%3DgWc%2BDSxL3Cchp9e4XBiVgGNfkQkg%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003328.html">
   <LINK REL="Next"  HREF="003337.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] [MonoMac] Adding WebKit DOM interfaces</H1>
    <B>Alexander Shulgin</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%5BMonoMac%5D%20Adding%20WebKit%20DOM%20interfaces&In-Reply-To=AANLkTin64bUCbbC%3DgWc%2BDSxL3Cchp9e4XBiVgGNfkQkg%40mail.gmail.com"
       TITLE="[Mono-osx] [MonoMac] Adding WebKit DOM interfaces">alexander.shulgin at yessoftware.com
       </A><BR>
    <I>Tue Nov 16 11:01:30 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003328.html">[Mono-osx] [MonoMac] Adding WebKit DOM interfaces
</A></li>
        <LI>Next message: <A HREF="003337.html">[Mono-osx] [MonoMac] Adding WebKit DOM interfaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3335">[ date ]</a>
              <a href="thread.html#3335">[ thread ]</a>
              <a href="subject.html#3335">[ subject ]</a>
              <a href="author.html#3335">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 16.11.2010 7:30, Miguel de Icaza wrote:
&gt;<i>     Perhaps I didn't quite get how to employ the generator for this case.
</I>&gt;<i>     Do you suggest that we simply stuff DomEventTarget methods under DomNode
</I>&gt;<i>     interface in webkit.cs?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You had it mostly there, but you had commented it out.
</I>
Yeah, because it'll be compiled into a class rather than an interface, 
so DomNode couldn't inherit from that.  So after more thought, I've come 
up with this patch which adds IDomEventTarget interface.

It was tricky to get it compiled, but after adding the new file 
`IDomEventTarget.cs' to both CORE_SOURCES and MONOMAC_SOURCES and 
stubbing DomEvent and DomEventListener names for COREBUILD with empty 
interfaces, it finally worked.

The pro of doing so is that now we can declare the `Target' property of 
`DomEvent' as `IDomEventTarget'.  This among other things greatly 
improves debugging experience.

Please push if there's no objections.

&gt;<i>     Me too.  But this can't map directly to the ObjC method, right?  We'll
</I>&gt;<i>     need to add an overload which will transfer control from it's internal
</I>&gt;<i>     DomEventListener instance to the delegate.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If you use a model, users can inherit, I used that bit from your
</I>&gt;<i> commented out code.
</I>&gt;<i>
</I>&gt;<i> I also added two convenience overloads that will do the mapping and let
</I>&gt;<i> use use lambdas.
</I>
That's great, works like a charm! :)

--
Alex
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: 0001-Added-IDomEventTarget-interface-for-DomNode.patch
Url: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20101116/f3d80b1f/attachment.pl">http://lists.ximian.com/pipermail/mono-osx/attachments/20101116/f3d80b1f/attachment.pl</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003328.html">[Mono-osx] [MonoMac] Adding WebKit DOM interfaces
</A></li>
	<LI>Next message: <A HREF="003337.html">[Mono-osx] [MonoMac] Adding WebKit DOM interfaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3335">[ date ]</a>
              <a href="thread.html#3335">[ thread ]</a>
              <a href="subject.html#3335">[ subject ]</a>
              <a href="author.html#3335">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
