<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] [MonoMac] PopupBindings Sample
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%5BMonoMac%5D%20PopupBindings%20Sample&In-Reply-To=AANLkTinZZRC%3DQq6LW0Yqq6FUBbm%2BxTaJ57mKa7hatrPH%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003370.html">
   <LINK REL="Next"  HREF="003355.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] [MonoMac] PopupBindings Sample</H1>
    <B>kjpou</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%5BMonoMac%5D%20PopupBindings%20Sample&In-Reply-To=AANLkTinZZRC%3DQq6LW0Yqq6FUBbm%2BxTaJ57mKa7hatrPH%40mail.gmail.com"
       TITLE="[Mono-osx] [MonoMac] PopupBindings Sample">kjpou at pt.lu
       </A><BR>
    <I>Sat Nov 27 03:00:23 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003370.html">[Mono-osx] [MonoMac] PopupBindings Sample
</A></li>
        <LI>Next message: <A HREF="003355.html">[Mono-osx] System.Drawing problems with Mono 2.8.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3385">[ date ]</a>
              <a href="thread.html#3385">[ thread ]</a>
              <a href="subject.html#3385">[ subject ]</a>
              <a href="author.html#3385">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all

Here is another attempt at making the Sample's bindings C#-ish.

With doing it this way there are no [Export(XXXX)] used and the Person 
class is very simple.  The binding in IB are mapped directly to Person 
properties.

Implementing the sample this way I was thinking that maybe the 
NSObject2.cs class could be extended with some helper methods of the form:

         public virtual bool CanConvertFrom(Type sourceType)

         public virtual bool CanConvertTo(Type destinationType)

         public virtual object ConvertFrom(object value)

         public virtual object ConvertTo(Type destinationType)

Then in each Class that derives from NSObject could override these 
methods with their specific implementation that corresponds to what the 
class accepts in their respective -&gt; public static implicit operator &lt;- 
implementations.

At the very least a default type converter in the genre of the provided 
MonoMacTypeConverter.cs class provided.  That way developers would have 
a lot of the implementation hidden as was suggested below.

Just throwing some ideas out there.

Kenneth

On 11/23/10 3:40 PM, Miguel de Icaza wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i>     I at first write the Person.cs class with C# native type but what
</I>&gt;<i>     I found myself doing all the time was converting to and from
</I>&gt;<i>     native to NSString all over the place so thought that made the
</I>&gt;<i>     code messy.  For instance in the SetValueForKey method.  If those
</I>&gt;<i>     methods should be using string instead of NSString I could change
</I>&gt;<i>     them when I find them.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We should change that, and then introduce a &quot;LowLevelSetValueForKey&quot; 
</I>&gt;<i> if we need, like we do in NSDictionary for those that want to pass 
</I>&gt;<i> handles directly.
</I>&gt;<i>
</I>&gt;<i>     I totally agree with you on the C# 3 features.  One of the
</I>&gt;<i>     questions that I was going to post was how to get around the
</I>&gt;<i>     NSDictionary use and convert back and forth to native Dictionary
</I>&gt;<i>     types easily.  I guess I am missing that part to start using more
</I>&gt;<i>     of the C# features.  An example would definitely be welcome on how
</I>&gt;<i>     to go about that.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The good news is that NSDictionary implements IDictionary, so we can 
</I>&gt;<i> always treat NSDictionary in a .NET way.
</I>&gt;<i>
</I>&gt;<i> The problem is that it comes with some overhead, so it might be a good 
</I>&gt;<i> idea to write NSDictionary-&gt;Dictionary and back helper methods.
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20101127/1a2ce84e/attachment-0001.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20101127/1a2ce84e/attachment-0001.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PopupBindings.zip
Type: application/zip
Size: 2036804 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20101127/1a2ce84e/attachment-0001.zip">http://lists.ximian.com/pipermail/mono-osx/attachments/20101127/1a2ce84e/attachment-0001.zip</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003370.html">[Mono-osx] [MonoMac] PopupBindings Sample
</A></li>
	<LI>Next message: <A HREF="003355.html">[Mono-osx] System.Drawing problems with Mono 2.8.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3385">[ date ]</a>
              <a href="thread.html#3385">[ thread ]</a>
              <a href="subject.html#3385">[ subject ]</a>
              <a href="author.html#3385">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
