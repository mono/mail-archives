<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] [MonoMac] NSPredicateEditor Control and Sample
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%5BMonoMac%5D%20NSPredicateEditor%20Control%20and%20Sample&In-Reply-To=4CEB5FF6.8020306%40pt.lu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003403.html">
   <LINK REL="Next"  HREF="003427.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] [MonoMac] NSPredicateEditor Control and Sample</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%5BMonoMac%5D%20NSPredicateEditor%20Control%20and%20Sample&In-Reply-To=4CEB5FF6.8020306%40pt.lu"
       TITLE="[Mono-osx] [MonoMac] NSPredicateEditor Control and Sample">miguel at novell.com
       </A><BR>
    <I>Tue Nov 30 10:50:48 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003403.html">[Mono-osx] [MonoMac] NSPredicateEditor Control and Sample
</A></li>
        <LI>Next message: <A HREF="003427.html">[Mono-osx] [MonoMac] NSPredicateEditor Control and Sample
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3419">[ date ]</a>
              <a href="thread.html#3419">[ thread ]</a>
              <a href="subject.html#3419">[ subject ]</a>
              <a href="author.html#3419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

The sample shows how to use the NSPredicateEditor within a program and uses
&gt;<i> the NSMetadataQuery to query SpotLight for a list of names corresponding to
</I>&gt;<i> the Predicates from your Address Book.
</I>&gt;<i>
</I>
A reminder: we never expose the underlying arrays as NSArray, instead we
expose them as NSObject [] in the weak cases, and as NSMostDerived [] most
of the time to get the advantage of strong typing.

In particular in the NSPredicate code, you need to fix:

TemplateViews return value - Also, it needs to become a property
PredicateWithSubpredicates - with the proper strong type parameter
DisplaableSubpredicatesOfPredicate - Strongly type return
Constructors - arguments are weakly typed NSArrays
LeftExpressions, Rightexpressions - array types and must be properties,
RighExpressionAttributeType - must become a property
Modifier - must become a property
Operators - must become a property and become strongly typed
Options - strongly type and become a property, and explore whether ti can be
turned into an int [1]
CompoundTypes - array type
TemplatesWithAttributeKeyPathsInEntityDescription - both the array type
issue and the name should be C#-ified


NSRuleEditor:
CriteriaForRow - array type
InsertRowAtIndexeWithTypeasBlaBlaBla - Shorten to be C#-like, not be a clone
of the ObjC aapi

NSRuleEditorDelegate:

The lesson here is that the signature of the methods is required in
Objective-C as people mix a lot of responders in the same file so they need
to be unique, and they kind of become unique by using the prefix of the
class, but this is not necessary in MonoMac.   You would use these as
events, so the name must make sense as an event.   For example:

RuleEditorNumberOfChildrenForCriteriorWithRowType really is merely a
compressed name of 3 parameters in ObjC: the first which is the prefix and
we do not care about, the second is the actual oepration, and the third is
the paramter.   So this really should become

int NumberOfChildren (NSRuleEditor ruleEditor, NSObject forCriterion,
NSRuleEditorRowType withRowType)

[1] In general, uints are not CLS-compliant, which means that some languages
have trouble accessing those APIs, we need to explore whether a Flags or int
is sufficient in those cases.

NSPredicateEditor:
RowTemplates - array type
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20101130/7cd348b8/attachment.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20101130/7cd348b8/attachment.html</A> 
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003403.html">[Mono-osx] [MonoMac] NSPredicateEditor Control and Sample
</A></li>
	<LI>Next message: <A HREF="003427.html">[Mono-osx] [MonoMac] NSPredicateEditor Control and Sample
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3419">[ date ]</a>
              <a href="thread.html#3419">[ thread ]</a>
              <a href="subject.html#3419">[ subject ]</a>
              <a href="author.html#3419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
