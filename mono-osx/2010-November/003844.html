<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] [MonoMac] Bindings Regression Tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%5BMonoMac%5D%20Bindings%20Regression%20Tests&In-Reply-To=4CF2A657.1030205%40pt.lu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003402.html">
   <LINK REL="Next"  HREF="003404.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] [MonoMac] Bindings Regression Tests</H1>
    <B>kjpou</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%5BMonoMac%5D%20Bindings%20Regression%20Tests&In-Reply-To=4CF2A657.1030205%40pt.lu"
       TITLE="[Mono-osx] [MonoMac] Bindings Regression Tests">kjpou at pt.lu
       </A><BR>
    <I>Sun Nov 28 14:05:10 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003402.html">[Mono-osx] [MonoMac] Bindings Regression Tests
</A></li>
        <LI>Next message: <A HREF="003404.html">[Mono-osx] Mono.Framework Broken in 2.8.1?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3844">[ date ]</a>
              <a href="thread.html#3844">[ thread ]</a>
              <a href="subject.html#3844">[ subject ]</a>
              <a href="author.html#3844">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 11/28/10 7:58 PM, kjpou wrote:
&gt;<i> Miguel
</I>&gt;<i>
</I>&gt;<i> Thanks for the response.
</I>&gt;<i>
</I>&gt;<i> About the [Export] or [Connect], when first creating the sample I 
</I>&gt;<i> tried using the [Connect] and it did not work so tried [Export] and it 
</I>&gt;<i> worked so thought things were different.  Will give it another shot.
</I>&gt;<i>
</I>&gt;<i> Concerning the SetValueForKey and GetValueForKey, those were working 
</I>&gt;<i> as well and now are not.  Shouldn't we be able to override those 
</I>&gt;<i> methods and get it to work the same way?  In the last PopupBinding 
</I>&gt;<i> sample program it worked fine as well and now it just blows up with 
</I>&gt;<i> the error message below.
</I>&gt;<i>
</I>&gt;<i> You can see the error from the last PopupBindings project that I sent 
</I>&gt;<i> to the list.  It uses reflection to get and set the properties instead 
</I>&gt;<i> of [Connect] or [Export].
</I>&gt;<i>
</I>&gt;<i> Again thanks for your time.
</I>&gt;<i>
</I>&gt;<i> Kenneth
</I>&gt;<i>
</I>&gt;<i> Stacktrace:
</I>&gt;<i>
</I>&gt;<i>   at (wrapper managed-to-native) 
</I>&gt;<i> MonoMac.ObjCRuntime.Messaging.void_objc_msgSend_IntPtr 
</I>&gt;<i> (intptr,intptr,intptr) &lt;0x00003&gt;
</I>&gt;<i>   at (wrapper managed-to-native) 
</I>&gt;<i> MonoMac.ObjCRuntime.Messaging.void_objc_msgSend_IntPtr 
</I>&gt;<i> (intptr,intptr,intptr) &lt;0x00003&gt;
</I>&gt;<i>   at MonoMac.AppKit.NSArrayController.AddObject 
</I>&gt;<i> (MonoMac.Foundation.NSObject) &lt;0x00038&gt;
</I>&gt;<i>   at PopupBindings.TestWindowController.AwakeFromNib () &lt;0x00065&gt;
</I>&gt;<i>   at (wrapper native-to-managed) 
</I>&gt;<i> object.[PopupBindings.TestWindowController.Void AwakeFromNib()] 
</I>&gt;<i> (MonoMac.Foundation.NSObject,MonoMac.ObjCRuntime.Selector) &lt;0x000a2&gt;
</I>&gt;<i>   at (wrapper managed-to-native) 
</I>&gt;<i> MonoMac.ObjCRuntime.Messaging.IntPtr_objc_msgSendSuper (intptr,intptr) 
</I>&gt;<i> &lt;0x00003&gt;
</I>&gt;<i>   at (wrapper managed-to-native) 
</I>&gt;<i> MonoMac.ObjCRuntime.Messaging.IntPtr_objc_msgSendSuper (intptr,intptr) 
</I>&gt;<i> &lt;0x00003&gt;
</I>&gt;<i>   at MonoMac.AppKit.NSWindowController.get_Window () &lt;0x00077&gt;
</I>&gt;<i>   at PopupBindings.TestWindowController.get_Window () &lt;0x00012&gt;
</I>&gt;<i>   at PopupBindings.AppDelegate.FinishedLaunching 
</I>&gt;<i> (MonoMac.Foundation.NSObject) &lt;0x00038&gt;
</I>&gt;<i>   at (wrapper native-to-managed) 
</I>&gt;<i> object.[PopupBindings.AppDelegate.Void 
</I>&gt;<i> FinishedLaunching(MonoMac.Foundation.NSObject)] 
</I>&gt;<i> (MonoMac.Foundation.NSObject,MonoMac.ObjCRuntime.Selector,intptr) 
</I>&gt;<i> &lt;0x000cb&gt;
</I>&gt;<i>   at (wrapper managed-to-native) 
</I>&gt;<i> MonoMac.AppKit.NSApplication.NSApplicationMain (int,string[]) &lt;0x00003&gt;
</I>&gt;<i>   at (wrapper managed-to-native) 
</I>&gt;<i> MonoMac.AppKit.NSApplication.NSApplicationMain (int,string[]) &lt;0x00003&gt;
</I>&gt;<i>   at MonoMac.AppKit.NSApplication.Main (string[]) &lt;0x00015&gt;
</I>&gt;<i>   at PopupBindings.MainClass.Main (string[]) &lt;0x00015&gt;
</I>&gt;<i>   at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_void_object 
</I>&gt;<i> (object,intptr,intptr,intptr) &lt;0x00073&gt;
</I>&gt;<i>
</I>&gt;<i> Native stacktrace:
</I>&gt;<i>
</I>&gt;<i>     0   PopupBindings                       0x000c8f5a 
</I>&gt;<i> mono_handle_native_sigsegv + 343
</I>&gt;<i>     1   PopupBindings                       0x0000ffa5 
</I>&gt;<i> mono_sigsegv_signal_handler + 306
</I>&gt;<i>     2   libSystem.B.dylib                   0x92e1946b _sigtramp + 43
</I>&gt;<i>     3   ???                                 0xffffffff 0x0 + 4294967295
</I>&gt;<i>     4   AppKit                              0x90edc54c 
</I>&gt;<i> -[_NSSelectionBinderPlugin 
</I>&gt;<i> populateObject:withContent:valueKey:objectKey:insertsNullPlaceholder:] 
</I>&gt;<i> + 478
</I>&gt;<i>     5   AppKit                              0x90ebcc2d 
</I>&gt;<i> -[NSSelectionBinder 
</I>&gt;<i> _adjustObject:mode:observedController:observedKeyPath:context:editableState:adjustState:] 
</I>&gt;<i> + 794
</I>&gt;<i>     6   AppKit                              0x90d91edf -[NSValueBinder 
</I>&gt;<i> _observeValueForKeyPath:ofObject:context:] + 280
</I>&gt;<i>     7   AppKit                              0x90ebc90b 
</I>&gt;<i> -[NSSelectionBinder observeValueForKeyPath:ofObject:change:context:] + 340
</I>&gt;<i>     8   Foundation                          0x962ea714 
</I>&gt;<i> NSKeyValueNotifyObserver + 372
</I>&gt;<i>     9   Foundation                          0x962efef5 
</I>&gt;<i> -[NSObject(NSKeyValueObservingPrivate) 
</I>&gt;<i> _notifyObserversForKeyPath:change:] + 943
</I>&gt;<i>     10  AppKit                              0x90d65b96 -[NSController 
</I>&gt;<i> _notifyObserversForKeyPath:change:] + 251
</I>&gt;<i>     11  AppKit                              0x90d65a93 -[NSController 
</I>&gt;<i> didChangeValueForKey:] + 49
</I>&gt;<i>     12  AppKit                              0x90ec6585 
</I>&gt;<i> -[NSArrayController 
</I>&gt;<i> didChangeValuesForArrangedKeys:objectKeys:indexKeys:] + 79
</I>&gt;<i>     13  AppKit                              0x90f99f05 
</I>&gt;<i> -[NSArrayController 
</I>&gt;<i> _insertObject:atArrangedObjectIndex:objectHandler:] + 643
</I>&gt;<i>     14  AppKit                              0x90f95c6f 
</I>&gt;<i> -[NSArrayController insertObject:atArrangedObjectIndex:] + 448
</I>&gt;<i>     15  AppKit                              0x90f41f53 
</I>&gt;<i> -[NSArrayController addObject:] + 168
</I>&gt;<i>     16  ???                                 0x012f6a1f 0x0 + 19884575
</I>&gt;<i>     17  ???                                 0x012f6971 0x0 + 19884401
</I>&gt;<i>     18  ???                                 0x012f5d4e 0x0 + 19881294
</I>&gt;<i>     19  ???                                 0x012f18d3 0x0 + 19863763
</I>&gt;<i>     20  AppKit                              0x90cda26c 
</I>&gt;<i> -[NSIBObjectData nibInstantiateWithOwner:topLevelObjects:] + 1646
</I>&gt;<i>     21  AppKit                              0x90cd81f4 loadNib + 257
</I>&gt;<i>     22  AppKit                              0x90cd75ed 
</I>&gt;<i> +[NSBundle(NSNibLoading) _loadNibFile:nameTable:withZone:ownerBundle:] 
</I>&gt;<i> + 228
</I>&gt;<i>     23  AppKit                              0x90cd74fe 
</I>&gt;<i> +[NSBundle(NSNibLoading) loadNibFile:externalNameTable:withZone:] + 158
</I>&gt;<i>     24  AppKit                              0x90d671e7 
</I>&gt;<i> -[NSWindowController loadWindow] + 223
</I>&gt;<i>     25  AppKit                              0x90cfdf76 
</I>&gt;<i> -[NSWindowController window] + 89
</I>&gt;<i>     26  ???                                 0x012f2d65 0x0 + 19869029
</I>&gt;<i>     27  ???                                 0x012f3ef0 0x0 + 19873520
</I>&gt;<i>     28  ???                                 0x012f3e33 0x0 + 19873331
</I>&gt;<i>     29  ???                                 0x012f2f09 0x0 + 19869449
</I>&gt;<i>     30  ???                                 0x012f0d0c 0x0 + 19860748
</I>&gt;<i>     31  Foundation                          0x962d74df 
</I>&gt;<i> _nsnote_callback + 176
</I>&gt;<i>     32  CoreFoundation                      0x96e41793 
</I>&gt;<i> __CFXNotificationPost + 947
</I>&gt;<i>     33  CoreFoundation                      0x96e4119a 
</I>&gt;<i> _CFXNotificationPostNotification + 186
</I>&gt;<i>     34  Foundation                          0x962cc384 
</I>&gt;<i> -[NSNotificationCenter postNotificationName:object:userInfo:] + 128
</I>&gt;<i>     35  Foundation                          0x962d9789 
</I>&gt;<i> -[NSNotificationCenter postNotificationName:object:] + 56
</I>&gt;<i>     36  AppKit                              0x90d4a422 -[NSApplication 
</I>&gt;<i> _postDidFinishNotification] + 125
</I>&gt;<i>     37  AppKit                              0x90d4a332 -[NSApplication 
</I>&gt;<i> _sendFinishLaunchingNotification] + 74
</I>&gt;<i>     38  AppKit                              0x90ea14ed 
</I>&gt;<i> -[NSApplication(NSAppleEventHandling) _handleAEOpen:] + 274
</I>&gt;<i>     39  AppKit                              0x90ea110d 
</I>&gt;<i> -[NSApplication(NSAppleEventHandling) 
</I>&gt;<i> _handleCoreEvent:withReplyEvent:] + 101
</I>&gt;<i>     40  Foundation                          0x9630c7a4 
</I>&gt;<i> -[NSAppleEventManager 
</I>&gt;<i> dispatchRawAppleEvent:withRawReply:handlerRefCon:] + 511
</I>&gt;<i>     41  Foundation                          0x9630c568 
</I>&gt;<i> _NSAppleEventManagerGenericHandler + 228
</I>&gt;<i>     42  AE                                  0x90ad8f58 
</I>&gt;<i> _Z20aeDispatchAppleEventPK6AEDescPS_mPh + 166
</I>&gt;<i>     43  AE                                  0x90ad8e57 
</I>&gt;<i> _ZL25dispatchEventAndSendReplyPK6AEDescPS_ + 43
</I>&gt;<i>     44  AE                                  0x90ad8d61 
</I>&gt;<i> aeProcessAppleEvent + 197
</I>&gt;<i>     45  HIToolbox                           0x9190b323 
</I>&gt;<i> AEProcessAppleEvent + 50
</I>&gt;<i>     46  AppKit                              0x90d1a9ca _DPSNextEvent + 
</I>&gt;<i> 1420
</I>&gt;<i>     47  AppKit                              0x90d19fce -[NSApplication 
</I>&gt;<i> nextEventMatchingMask:untilDate:inMode:dequeue:] + 156
</I>&gt;<i>     48  AppKit                              0x90cdc247 -[NSApplication 
</I>&gt;<i> run] + 821
</I>&gt;<i>     49  AppKit                              0x90cd42d9 
</I>&gt;<i> NSApplicationMain + 574
</I>&gt;<i>     50  ???                                 0x012f1c3e 0x0 + 19864638
</I>&gt;<i>     51  ???                                 0x012f1b8e 0x0 + 19864462
</I>&gt;<i>     52  ???                                 0x004cecf6 0x0 + 5041398
</I>&gt;<i>     53  ???                                 0x004ced8c 0x0 + 5041548
</I>&gt;<i>     54  PopupBindings                       0x0000fd70 
</I>&gt;<i> mono_jit_runtime_invoke + 1339
</I>&gt;<i>     55  PopupBindings                       0x001de701 
</I>&gt;<i> mono_runtime_invoke + 138
</I>&gt;<i>     56  PopupBindings                       0x001e08ac 
</I>&gt;<i> mono_runtime_exec_main + 669
</I>&gt;<i>     57  PopupBindings                       0x001dfc96 
</I>&gt;<i> mono_runtime_run_main + 814
</I>&gt;<i>     58  PopupBindings                       0x0009c762 mono_jit_exec + 200
</I>&gt;<i>     59  PopupBindings                       0x0009c99c 
</I>&gt;<i> main_thread_handler + 558
</I>&gt;<i>     60  PopupBindings                       0x0009ecd3 mono_main + 7577
</I>&gt;<i>     61  PopupBindings                       0x00003a95 
</I>&gt;<i> mono_main_with_options + 539
</I>&gt;<i>     62  PopupBindings                       0x00003b1c main + 49
</I>&gt;<i>     63  PopupBindings                       0x0000384e start + 54
</I>&gt;<i>
</I>&gt;<i> Debug info from gdb:
</I>&gt;<i>
</I>&gt;<i> /tmp/mono-gdb-commands.alKIRq:1: Error in sourced command file:
</I>&gt;<i> unable to debug self
</I>&gt;<i>
</I>&gt;<i> =================================================================
</I>&gt;<i> Got a SIGSEGV while executing native code. This usually indicates
</I>&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;<i> used by your application.
</I>&gt;<i> =================================================================
</I>&gt;<i>
</I>&gt;<i> The application was terminated by a signal: SIGIOT
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 11/28/10 6:39 PM, Miguel de Icaza wrote:
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Good news is that I can not recreate any of the problems that I
</I>&gt;&gt;<i>     was having with NSTableView.  Not in any of the samples, test
</I>&gt;&gt;<i>     cases nor in my main monomac/Cocoa project that I am working on.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Right, that was Geoff's fixes from Friday.   Glad to see that this 
</I>&gt;&gt;<i> eliminated a bunch of errors (it was affecting everyone, but the 
</I>&gt;&gt;<i> errors were slightly different).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Unfortunately now some other things have started acting up.  The
</I>&gt;&gt;<i>     PopupBindings sample provided from monomac master does not work
</I>&gt;&gt;<i>     anymore nor the new one I posted yesterday.  I have created three
</I>&gt;&gt;<i>     different tests and the only one that works is with
</I>&gt;&gt;<i>     NSMutableDictionary.  I was in the process of adding a class
</I>&gt;&gt;<i>     object to my main project that used the same bindings concepts of
</I>&gt;&gt;<i>     PopupBindings but with a NSTableView binding instead of binding
</I>&gt;&gt;<i>     to a popup button.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am surprised that the sample ever worked.   If you google for that 
</I>&gt;&gt;<i> particular error, you will see that our MonoTouch/Troubleshooting 
</I>&gt;&gt;<i> page explained what had to be done.   In this case, you do not want 
</I>&gt;&gt;<i> [Export] as that is merely to respond to the Objective-C message, but 
</I>&gt;&gt;<i> does not participate in the key/value system.   For that you need to 
</I>&gt;&gt;<i> use [Connect].   I have fixed the sample to use [Connect] instead.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Spent the last four hours trying to find the problem in my code
</I>&gt;&gt;<i>     and have hit a dead end.  Could someone please verify for me that
</I>&gt;&gt;<i>     the PopupBindings project works for them as it seemed to worked
</I>&gt;&gt;<i>     before.  Either one will do.  Sample provided from source or the
</I>&gt;&gt;<i>     one I posted yesterday.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It works now, let me know if you run into other issues.
</I>&gt;&gt;<i> Miguel
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20101128/bba458d4/attachment-0001.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20101128/bba458d4/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003402.html">[Mono-osx] [MonoMac] Bindings Regression Tests
</A></li>
	<LI>Next message: <A HREF="003404.html">[Mono-osx] Mono.Framework Broken in 2.8.1?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3844">[ date ]</a>
              <a href="thread.html#3844">[ thread ]</a>
              <a href="subject.html#3844">[ subject ]</a>
              <a href="author.html#3844">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
