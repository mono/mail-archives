<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;I&nbsp;think&nbsp;TrySZReverse&nbsp;is&nbsp;causing&nbsp;a&nbsp;crash&nbsp;in&nbsp;my&nbsp;program.&nbsp;Under&nbsp;certain&nbsp;conditions&nbsp;(easily&nbsp;repeatable),&nbsp;I&nbsp;think&nbsp;TrySZReverse&nbsp;finish,&nbsp;but&nbsp;my&nbsp;program&nbsp;will&nbsp;crash&nbsp;soon&nbsp;after&nbsp;the&nbsp;program&nbsp;do&nbsp;some&nbsp;more&nbsp;things.&nbsp;This&nbsp;only&nbsp;a&nbsp;problem&nbsp;with&nbsp;mono&nbsp;4.4.&nbsp;The&nbsp;same&nbsp;program&nbsp;doesn&#39;t&nbsp;crash&nbsp;with&nbsp;mono&nbsp;4.0&nbsp;or&nbsp;4.2&nbsp;.&lt;br&gt;&lt;/div&gt;How&nbsp;is&nbsp;TrySZReverse&nbsp;implemented?&nbsp;Usage&nbsp;found&nbsp;here:&lt;br&gt;&lt;a&nbsp;href=&quot;https://github.com/mono/mono/blob/d70777a3332af2d630d24adf620c2e548b92b56a/mcs/class/referencesource/mscorlib/system/array.cs#L1605&quot;&gt;https://github.com/mono/mono/blob/d70777a3332af2d630d24adf620c2e548b92b56a/mcs/class/referencesource/mscorlib/system/array.cs#L1605&lt;/a&gt;&lt;br&gt;I&nbsp;am&nbsp;not&nbsp;using&nbsp;TrySZReverse&nbsp;directly;&nbsp;I&nbsp;am&nbsp;using&nbsp;Array.Reverse(Builds,&nbsp;0,&nbsp;num);.&nbsp;I&nbsp;tried&nbsp;to&nbsp;do&nbsp;my&nbsp;own&nbsp;array&nbsp;reverse,&nbsp;just&nbsp;like&nbsp;the&nbsp;backup&nbsp;algorithm&nbsp;in&nbsp;Array.Reverse&nbsp;(line&nbsp;1609-1629),&nbsp;and&nbsp;the&nbsp;program&nbsp;runs&nbsp;fine.&lt;br&gt;&lt;/div&gt;I&nbsp;can&#39;t&nbsp;share&nbsp;this&nbsp;program&nbsp;publicly.&nbsp;The&nbsp;program&nbsp;is&nbsp;using&nbsp;the&nbsp;mobjc&nbsp;library,&nbsp;a&nbsp;C#&nbsp;Objective-c&nbsp;bridge,&nbsp;so&nbsp;mobjc&nbsp;could&nbsp;be&nbsp;doing&nbsp;things&nbsp;that&nbsp;is&nbsp;not&nbsp;compatible&nbsp;with&nbsp;mono.&lt;br&gt;&lt;/div&gt;Is&nbsp;this&nbsp;a&nbsp;mono&nbsp;bug?&nbsp;or&nbsp;my&nbsp;program&#39;s&nbsp;bug?&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Here&nbsp;is&nbsp;what&nbsp;the&nbsp;crashing&nbsp;thread&nbsp;look&nbsp;like&nbsp;with&nbsp;mono&nbsp;4.4&nbsp;(64bit).&lt;br&gt;*&nbsp;thread&nbsp;#1:&nbsp;tid&nbsp;=&nbsp;0x11b779,&nbsp;0x00007fff96bb3582&nbsp;libsystem_kernel.dylib`__wait4&nbsp;+&nbsp;10,&nbsp;name&nbsp;=&nbsp;&#39;tid_50f&#39;,&nbsp;queue&nbsp;=&nbsp;&#39;com.apple.main-thread&#39;,&nbsp;stop&nbsp;reason&nbsp;=&nbsp;signal&nbsp;SIGSTOP&lt;br&gt; &nbsp;*&nbsp;frame&nbsp;#0:&nbsp;0x00007fff96bb3582&nbsp;libsystem_kernel.dylib`__wait4&nbsp;+&nbsp;10&lt;br&gt;   &nbsp;frame&nbsp;#1:&nbsp;0x000000010cb2e721&nbsp;mono-sgen64`mono_handle_native_sigsegv(signal=&lt;unavailable&gt;,&nbsp;ctx=&lt;unavailable&gt;,&nbsp;info=&lt;unavailable&gt;)&nbsp;+&nbsp;433&nbsp;at&nbsp;mini-exceptions.c:2348&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#2:&nbsp;0x000000010cb8453a&nbsp;mono-sgen64`mono_arch_handle_altstack_exception(sigctx=0x000000010d241f48,&nbsp;siginfo=&lt;unavailable&gt;,&nbsp;fault_addr=&lt;unavailable&gt;,&nbsp;stack_ovf=0)&nbsp;+&nbsp;90&nbsp;at&nbsp;exceptions-amd64.c:808&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#3:&nbsp;0x000000010ca827d8&nbsp;mono-sgen64`mono_sigsegv_signal_handler(_dummy=&lt;unavailable&gt;,&nbsp;_info=&lt;unavailable&gt;,&nbsp;context=&lt;unavailable&gt;)&nbsp;+&nbsp;392&nbsp;at&nbsp;mini-runtime.c:2888&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#4:&nbsp;0x00007fff94b7452a&nbsp;libsystem_platform.dylib`_sigtramp&nbsp;+&nbsp;26&lt;br&gt;   &nbsp;frame&nbsp;#5:&nbsp;0x000000010cc9be59&nbsp;mono-sgen64`copy_object_no_checks&nbsp;[inlined]&nbsp;sgen_vtable_get_descriptor(vtable=0x0000000000000000)&nbsp;+&nbsp;1&nbsp;at&nbsp;sgen-client-mono.h:39&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#6:&nbsp;0x000000010cc9be58&nbsp;mono-sgen64`copy_object_no_checks(obj=0x000000010d6b8198,&nbsp;queue=0x000000010ce05c20)&nbsp;+&nbsp;24&nbsp;at&nbsp;sgen-copy-object.h:64&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#7:&nbsp;0x000000010cc96ee6&nbsp;mono-sgen64`drain_gray_stack&nbsp;[inlined]&nbsp;major_copy_or_mark_object_no_evacuation(obj=&lt;unavailable&gt;)&nbsp;+&nbsp;33&nbsp;at&nbsp;sgen-marksweep-drain-gray-stack.h:91&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#8:&nbsp;0x000000010cc96ec5&nbsp;mono-sgen64`drain_gray_stack&nbsp;[inlined]&nbsp;major_scan_object_no_evacuation(full_object=&lt;unavailable&gt;,&nbsp;desc=&lt;unavailable&gt;)&nbsp;+&nbsp;2221&nbsp;at&nbsp;sgen-scan-object.h:67&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#9:&nbsp;0x000000010cc96618&nbsp;mono-sgen64`drain_gray_stack&nbsp;[inlined]&nbsp;drain_gray_stack_no_evacuation&nbsp;+&nbsp;4516&nbsp;at&nbsp;sgen-marksweep-drain-gray-stack.h:278&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#10:&nbsp;0x000000010cc95474&nbsp;mono-sgen64`drain_gray_stack(queue=0x000000010ce05c20)&nbsp;+&nbsp;84&nbsp;at&nbsp;sgen-marksweep.c:1213&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#11:&nbsp;0x000000010cc8c848&nbsp;mono-sgen64`finish_gray_stack&nbsp;[inlined]&nbsp;sgen_drain_gray_stack&nbsp;+&nbsp;19&nbsp;at&nbsp;sgen-gc.c:544&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#12:&nbsp;0x000000010cc8c835&nbsp;mono-sgen64`finish_gray_stack(generation=&lt;unavailable&gt;,&nbsp;ctx=&lt;unavailable&gt;)&nbsp;+&nbsp;69&nbsp;at&nbsp;sgen-gc.c:1072&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#13:&nbsp;0x000000010cc8bf3c&nbsp;mono-sgen64`major_finish_collection(reason=&quot;LOS&nbsp;overflow&quot;,&nbsp;old_next_pin_slot=294,&nbsp;forced=0)&nbsp;+&nbsp;108&nbsp;at&nbsp;sgen-gc.c:1924&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#14:&nbsp;0x000000010cc89691&nbsp;mono-sgen64`major_do_collection(reason=&quot;LOS&nbsp;overflow&quot;,&nbsp;forced=0)&nbsp;+&nbsp;81&nbsp;at&nbsp;sgen-gc.c:2049&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#15:&nbsp;0x000000010cc88b10&nbsp;mono-sgen64`sgen_perform_collection(requested_size=32800,&nbsp;generation_to_collect=1,&nbsp;reason=&quot;LOS&nbsp;overflow&quot;,&nbsp;wait_to_finish=0)&nbsp;+&nbsp;432&nbsp;at&nbsp;sgen-gc.c:2266&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#16:&nbsp;0x000000010cc90059&nbsp;mono-sgen64`sgen_los_alloc_large_inner(vtable=0x00007fdd28922da0,&nbsp;size=32800)&nbsp;+&nbsp;89&nbsp;at&nbsp;sgen-los.c:368&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#17:&nbsp;0x000000010cc7f179&nbsp;mono-sgen64`sgen_alloc_obj_nolock(vtable=0x00007fdd28922da0,&nbsp;size=&lt;unavailable&gt;)&nbsp;+&nbsp;105&nbsp;at&nbsp;sgen-alloc.c:199&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#18:&nbsp;0x000000010cc7c9db&nbsp;mono-sgen64`mono_gc_alloc_vector(vtable=0x00007fdd28922da0,&nbsp;size=32800,&nbsp;max_length=4096)&nbsp;+&nbsp;123&nbsp;at&nbsp;sgen-mono.c:1735&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#19:&nbsp;0x000000010d1b37a6&lt;br&gt;   &nbsp;frame&nbsp;#20:&nbsp;0x000000010ebc4f9f&nbsp;mscorlib.dll.dylib`System_Collections_Generic_List_1_T_REF__ctor_int&nbsp;+&nbsp;159&lt;br&gt;   &nbsp;frame&nbsp;#21:&nbsp;0x00000001113f620a&lt;br&gt;   &nbsp;frame&nbsp;#22:&nbsp;0x000000010f7d1c78&lt;br&gt;   &nbsp;frame&nbsp;#23:&nbsp;0x0000000113bcd6ba&lt;br&gt;   &nbsp;frame&nbsp;#24:&nbsp;0x000000010ca85800&nbsp;mono-sgen64`mono_jit_runtime_invoke(method=&lt;unavailable&gt;,&nbsp;obj=0x000000010d4d9218,&nbsp;params=&lt;unavailable&gt;,&nbsp;exc=&lt;unavailable&gt;)&nbsp;+&nbsp;1776&nbsp;at&nbsp;mini-runtime.c:2578&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#25:&nbsp;0x000000010cc45252&nbsp;mono-sgen64`mono_runtime_invoke(method=0x00007fdd29926748,&nbsp;obj=0x000000010d4d9218,&nbsp;params=0x00007fff53184f20,&nbsp;exc=0x0000000000000000)&nbsp;+&nbsp;130&nbsp;at&nbsp;object.c:2897&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#26:&nbsp;0x000000010cc4ba52&nbsp;mono-sgen64`mono_runtime_invoke_array(method=&lt;unavailable&gt;,&nbsp;obj=&lt;unavailable&gt;,&nbsp;params=&lt;unavailable&gt;,&nbsp;exc=&lt;unavailable&gt;)&nbsp;+&nbsp;1522&nbsp;at&nbsp;object.c:4423&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#27:&nbsp;0x000000010cbbc7e1&nbsp;mono-sgen64`ves_icall_InternalInvoke(method=&lt;unavailable&gt;,&nbsp;this_arg=&lt;unavailable&gt;,&nbsp;params=&lt;unavailable&gt;,&nbsp;exc=&lt;unavailable&gt;)&nbsp;+&nbsp;705&nbsp;at&nbsp;icall.c:2856&nbsp;[opt]&lt;br&gt;   &nbsp;frame&nbsp;#28:&nbsp;0x000000010f743254&lt;br&gt;   &nbsp;frame&nbsp;#29:&nbsp;0x000000010ee4547c&nbsp;mscorlib.dll.dylib`System_Reflection_MonoCMethod_DoInvoke_object_System_Reflection_BindingFlags_System_Reflection_Binder_object___System_Globalization_CultureInfo&nbsp;+&nbsp;220&lt;br&gt;   &nbsp;frame&nbsp;#30:&nbsp;0x000000010ee45607&nbsp;mscorlib.dll.dylib`System_Reflection_MonoCMethod_Invoke_System_Reflection_BindingFlags_System_Reflection_Binder_object___System_Globalization_CultureInfo&nbsp;+&nbsp;55&lt;br&gt;   &nbsp;frame&nbsp;#31:&nbsp;0x000000010ee3c8d0&nbsp;mscorlib.dll.dylib`System_Reflection_ConstructorInfo_Invoke_object__&nbsp;+&nbsp;96&lt;br&gt;   &nbsp;frame&nbsp;#32:&nbsp;0x00000001113f78a5&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
