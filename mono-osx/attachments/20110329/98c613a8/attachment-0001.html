<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;I&nbsp;think&nbsp;you're&nbsp;confused&nbsp;what&nbsp;.Close&nbsp;()&nbsp;does.&nbsp;&amp;nbsp;Since&nbsp;it&nbsp;specifically&nbsp;calls&nbsp;out&nbsp;it&nbsp;does&nbsp;not&nbsp;call&nbsp;WillClose&nbsp;either:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSWindow_Class/Reference/Reference.html&quot;&gt;http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSWindow_Class/Reference/Reference.html&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSWindow_Class/Reference/Reference.html&quot;&gt;&lt;/a&gt;Anyways,&nbsp;the&nbsp;issue&nbsp;with&nbsp;.Close&nbsp;is&nbsp;it&nbsp;does&nbsp;a&nbsp;.Release&nbsp;under&nbsp;the&nbsp;hood,&nbsp;that&nbsp;we&nbsp;aren't&nbsp;aware&nbsp;of,&nbsp;leading&nbsp;to&nbsp;a&nbsp;double&nbsp;free.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-g&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;2011-03-29,&nbsp;at&nbsp;10:58&nbsp;AM,&nbsp;Maxi&nbsp;Combina&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;.OrderOut()&nbsp;and&nbsp;.Close()&nbsp;don't&nbsp;seem&nbsp;to&nbsp;be&nbsp;equivallent:&lt;/div&gt;If&nbsp;I&nbsp;use&nbsp;Window.OrderOut()&nbsp;then&nbsp;the&nbsp;Window.WillClose()&nbsp;is&nbsp;not&nbsp;dispatched.&lt;div&gt;I&nbsp;can&nbsp;not&nbsp;invoke&nbsp;PerformClose()&nbsp;since&nbsp;I&nbsp;use&nbsp;Borderless&nbsp;windows.&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;I&nbsp;found&nbsp;2&nbsp;ideas,&nbsp;please&nbsp;advise&nbsp;me&nbsp;on&nbsp;those:&lt;/div&gt;&lt;div&gt;1)&nbsp;To&nbsp;have&nbsp;my&nbsp;own&nbsp;events:&nbsp;I&nbsp;use&nbsp;.OrderOut()&nbsp;and&nbsp;launch&nbsp;a&nbsp;custom&nbsp;event,&nbsp;to&nbsp;replace&nbsp;WillClose().&lt;/div&gt;&lt;div&gt;2)&nbsp;I&nbsp;code:&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;OrderOut();&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;StyleMask&nbsp;=&nbsp;Titled&nbsp;|&nbsp;Closable;&nbsp;//&nbsp;enable&nbsp;PerformClose()&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;PerformClose(this)&nbsp;//&nbsp;Close&nbsp;the&nbsp;already&nbsp;hidden&nbsp;window&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Or&nbsp;maybe&nbsp;I&nbsp;should&nbsp;refactor.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;it&nbsp;just&nbsp;me&nbsp;that&nbsp;finds&nbsp;the&nbsp;missing&nbsp;.Close()&nbsp;a&nbsp;little&nbsp;odd?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
Bests,&lt;/div&gt;&lt;div&gt;Maxi&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2011/3/29&nbsp;Geoff&nbsp;Norton&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:gnorton@novell.com&quot;&gt;gnorton@novell.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;Use&nbsp;.OrderOut&nbsp;()&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-g&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&gt;On&nbsp;2011-03-29,&nbsp;at&nbsp;5:54&nbsp;AM,&nbsp;Maxi&nbsp;Combina&nbsp;wrote:&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;Hello,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;Borderless&nbsp;window&nbsp;which&nbsp;can&nbsp;not&nbsp;be&nbsp;closed&nbsp;with&nbsp;PerformClose(),&nbsp;since&nbsp;this&nbsp;method&nbsp;(as&nbsp;per&nbsp;Apple&nbsp;documentation)&nbsp;&quot;simulates&nbsp;the&nbsp;user&nbsp;clicking&nbsp;the&nbsp;close&nbsp;button&quot;&nbsp;and&nbsp;&quot;if&nbsp;the&nbsp;windows&nbsp;doesn't&nbsp;ahve&nbsp;a&nbsp;close&nbsp;button&nbsp;or&nbsp;can't&nbsp;be&nbsp;closed&nbsp;[...],&nbsp;the&nbsp;system&nbsp;emits&nbsp;the&nbsp;alert&nbsp;sound&quot;.&lt;/div&gt;<br>
<br>
&lt;div&gt;For&nbsp;closing&nbsp;a&nbsp;window&nbsp;I&nbsp;used&nbsp;the&nbsp;&quot;Close()&quot;&nbsp;method.&nbsp;But&nbsp;in&nbsp;the&nbsp;current&nbsp;src/appkit.cs&nbsp;the&nbsp;&quot;Close()&quot;&nbsp;is&nbsp;commented&nbsp;out:&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;/*&nbsp;NSWindow.Close&nbsp;by&nbsp;default&nbsp;calls&nbsp;[window&nbsp;release]&lt;/div&gt;<br>
<br>
&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;*&nbsp;This&nbsp;will&nbsp;cause&nbsp;a&nbsp;double&nbsp;free&nbsp;in&nbsp;our&nbsp;code&nbsp;since&nbsp;we're&nbsp;not&nbsp;aware&nbsp;of&nbsp;this&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;*&nbsp;and&nbsp;we&nbsp;end&nbsp;up&nbsp;GCing&nbsp;the&nbsp;proxy&nbsp;eventually&nbsp;and&nbsp;sending&nbsp;our&nbsp;own&nbsp;release&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;*&nbsp;Removing&nbsp;this&nbsp;method&nbsp;for&nbsp;now&lt;/div&gt;<br>
<br>
&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[Export&nbsp;(&quot;close&quot;)]&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;void&nbsp;Close&nbsp;();&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;*/&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;looking&nbsp;for&nbsp;a&nbsp;way&nbsp;of&nbsp;closing&nbsp;(and&nbsp;releasing)&nbsp;the&nbsp;window.&lt;/div&gt;&lt;div&gt;Any&nbsp;ideas?&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks!&lt;/div&gt;&lt;div&gt;maxi&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;b&gt;Maxi&nbsp;Combina&lt;/b&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:Helvetica,&nbsp;sans-serif;font-size:13px&quot;&gt;&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;font-size:medium;font-family:Helvetica&quot;&gt;<br>
<br>
&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;color:rgb(0,&nbsp;0,&nbsp;0)&quot;&gt;Cell:&lt;a&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&gt;+1&nbsp;408&nbsp;300&nbsp;3614&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;font-size:medium;font-family:Helvetica&quot;&gt;<br>
<br>
&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;color:rgb(0,&nbsp;0,&nbsp;0)&quot;&gt;Tel:&nbsp;&amp;nbsp;&lt;a&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&gt;+1&nbsp;408&nbsp;524&nbsp;1579&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;font-size:medium;font-family:Helvetica&quot;&gt;<br>
<br>
&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;color:rgb(0,&nbsp;0,&nbsp;0)&quot;&gt;&lt;a&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&gt;440&nbsp;N.&nbsp;Wolfe&nbsp;Road.&nbsp;Sunnyvale&lt;/a&gt;.&amp;nbsp;&lt;a&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&gt;CA.&nbsp;94085&lt;/a&gt;.&nbsp;USA&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;color:rgb(0,&nbsp;0,&nbsp;0);min-height:14px;font-size:medium;font-family:Helvetica&quot;&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;font-size:medium;font-family:Helvetica&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#144fae&quot;&nbsp;style=&quot;color:rgb(20,&nbsp;79,&nbsp;174)&quot;&gt;&lt;a&nbsp;href=&quot;http://www.passwordbank.com/&quot;&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;http://www.passwordbank.com/&quot;&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&nbsp;target=&quot;_blank&quot;&gt;www.PasswordBank.com&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial;font-size:small&quot;&gt;&lt;img&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;This&nbsp;message&nbsp;and&nbsp;its&nbsp;attachments&nbsp;are&nbsp;sent&nbsp;from&nbsp;PasswordBank,&nbsp;Inc.&nbsp;and&nbsp;may&nbsp;contain&nbsp;information&nbsp;that&nbsp;is&lt;/div&gt;<br>
&lt;div&gt;confidential.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;intended&nbsp;recipient,&nbsp;you&nbsp;are&nbsp;prohibited&nbsp;from&nbsp;printing,&nbsp;copying,&nbsp;forwarding&nbsp;or&lt;/div&gt;&lt;div&gt;saving&nbsp;them.&nbsp;Please&nbsp;delete&nbsp;the&nbsp;message&nbsp;and&nbsp;attachments&nbsp;without&nbsp;printing,&nbsp;copying,&nbsp;forwarding&nbsp;or&nbsp;saving&lt;/div&gt;<br>
<br>
&lt;div&gt;them,&nbsp;and&nbsp;notify&nbsp;the&nbsp;sender&nbsp;immediately.&nbsp;Message&nbsp;transmission&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;secure.&lt;/div&gt;&lt;/div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
_______________________________________________&lt;br&gt;Mono-osx&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Mono-osx@lists.ximian.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Mono-osx@lists.ximian.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-osx&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-osx&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;b&gt;Maxi&nbsp;Combina&lt;/b&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:Helvetica,&nbsp;sans-serif;font-size:13px&quot;&gt;&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;font-size:medium;font-family:Helvetica&quot;&gt;<br>
&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;color:rgb(0,&nbsp;0,&nbsp;0)&quot;&gt;Cell:&lt;a&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&gt;+1&nbsp;408&nbsp;300&nbsp;3614&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;font-size:medium;font-family:Helvetica&quot;&gt;<br>
&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;color:rgb(0,&nbsp;0,&nbsp;0)&quot;&gt;Tel:&nbsp;&amp;nbsp;&lt;a&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&gt;+1&nbsp;408&nbsp;524&nbsp;1579&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;font-size:medium;font-family:Helvetica&quot;&gt;<br>
&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;color:rgb(0,&nbsp;0,&nbsp;0)&quot;&gt;&lt;a&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&gt;440&nbsp;N.&nbsp;Wolfe&nbsp;Road.&nbsp;Sunnyvale&lt;/a&gt;.&amp;nbsp;&lt;a&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&gt;CA.&nbsp;94085&lt;/a&gt;.&nbsp;USA&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;color:rgb(0,&nbsp;0,&nbsp;0);min-height:14px;font-size:medium;font-family:Helvetica&quot;&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;font-size:medium;font-family:Helvetica&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#144fae&quot;&nbsp;style=&quot;color:rgb(20,&nbsp;79,&nbsp;174)&quot;&gt;&lt;a&nbsp;href=&quot;http://www.passwordbank.com/&quot;&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;http://www.passwordbank.com/&quot;&nbsp;style=&quot;color:rgb(66,&nbsp;99,&nbsp;171)&quot;&nbsp;target=&quot;_blank&quot;&gt;www.PasswordBank.com&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial;font-size:small&quot;&gt;&lt;img&nbsp;src=&quot;http://www.passwordbank.com/images/PBK_New_250_pixels.png&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;This&nbsp;message&nbsp;and&nbsp;its&nbsp;attachments&nbsp;are&nbsp;sent&nbsp;from&nbsp;PasswordBank,&nbsp;Inc.&nbsp;and&nbsp;may&nbsp;contain&nbsp;information&nbsp;that&nbsp;is&lt;/div&gt;<br>
&lt;div&gt;confidential.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;intended&nbsp;recipient,&nbsp;you&nbsp;are&nbsp;prohibited&nbsp;from&nbsp;printing,&nbsp;copying,&nbsp;forwarding&nbsp;or&lt;/div&gt;&lt;div&gt;saving&nbsp;them.&nbsp;Please&nbsp;delete&nbsp;the&nbsp;message&nbsp;and&nbsp;attachments&nbsp;without&nbsp;printing,&nbsp;copying,&nbsp;forwarding&nbsp;or&nbsp;saving&lt;/div&gt;<br>
&lt;div&gt;them,&nbsp;and&nbsp;notify&nbsp;the&nbsp;sender&nbsp;immediately.&nbsp;Message&nbsp;transmission&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;secure.&lt;/div&gt;&lt;/div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
