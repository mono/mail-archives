<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Further&nbsp;investigation&nbsp;points&nbsp;to&nbsp;this&nbsp;being&nbsp;the&nbsp;cause&nbsp;of&nbsp;the&nbsp;NULL&nbsp;reference.&lt;br&gt;&lt;br&gt;In&nbsp;System.Configuration/ConfigurationManager.cs,&nbsp;function&nbsp;OpenExeConfigurationInternal()&nbsp;about&nbsp;line&nbsp;98&nbsp;you&nbsp;will&nbsp;find:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(!systemWebInUse&nbsp;&amp;amp;&amp;amp;&nbsp;calling_assembly&nbsp;!=&nbsp;null)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;exePath&nbsp;=&nbsp;calling_assembly.Location;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;exePath&nbsp;=&nbsp;AppDomain.CurrentDomain.SetupInformation.ConfigurationFile;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;map.ExeConfigFilename&nbsp;=&nbsp;exePath.EndsWith&nbsp;(&amp;quot;.config&amp;quot;)&nbsp;?&nbsp;exePath&nbsp;:&nbsp;exePath&nbsp;+&nbsp;&amp;quot;.config&amp;quot;;&lt;br&gt;&amp;nbsp;&lt;br&gt;As&nbsp;I&nbsp;mentioned&nbsp;in&nbsp;my&nbsp;first&nbsp;post&nbsp;my&nbsp;C#&nbsp;code&nbsp;is&nbsp;in&nbsp;a&nbsp;DLL&nbsp;that&nbsp;is&nbsp;embedded&nbsp;within&nbsp;in&nbsp;a&nbsp;ObjC&nbsp;app.&amp;nbsp;&nbsp;I&nbsp;did&nbsp;verify&nbsp;that&nbsp;Assembly.GetEntryAssembly&nbsp;returns&nbsp;null,&nbsp;which&nbsp;is&nbsp;calling_assembly.&amp;nbsp;&nbsp;Also&nbsp;AppDomain.CurrentDomain.SetupInformation.ConfigurationFile&nbsp;returns&nbsp;null&nbsp;for&nbsp;my&nbsp;DLL.&amp;nbsp;&nbsp;So&nbsp;the&nbsp;null&nbsp;reference&nbsp;comes&nbsp;from&nbsp;this&nbsp;line:&lt;br&gt;<br>
map.ExeConfigFilename&nbsp;=&nbsp;exePath.EndsWith&nbsp;(&amp;quot;.config&amp;quot;)&nbsp;?&nbsp;exePath&nbsp;:&nbsp;exePath&nbsp;+&nbsp;&amp;quot;.config&amp;quot;;&lt;br&gt;&lt;br&gt;My&nbsp;code&nbsp;worked&nbsp;in&nbsp;&lt;a&nbsp;href=&quot;http://1.9.1.&quot;&gt;1.9.1.&lt;/a&gt;&amp;nbsp;&nbsp;I&nbsp;did&nbsp;see&nbsp;a&nbsp;lot&nbsp;of&nbsp;changes&nbsp;to&nbsp;ConfigurationManager.cs&nbsp;regarding&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;path.&amp;nbsp;&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;what&nbsp;revision&nbsp;was&nbsp;&lt;a&nbsp;href=&quot;http://1.9.1.&quot;&gt;1.9.1.&lt;/a&gt;&amp;nbsp;&nbsp;Hopefully&nbsp;someone&nbsp;can&nbsp;look&nbsp;at&nbsp;this&nbsp;code&nbsp;and&nbsp;suggest&nbsp;a&nbsp;work&nbsp;around&nbsp;or&nbsp;a&nbsp;fix.&amp;nbsp;&nbsp;Otherwise&nbsp;back&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;http://1.9.1.&quot;&gt;1.9.1.&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;Thanks,&lt;br&gt;Duane&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Oct&nbsp;20,&nbsp;2008&nbsp;at&nbsp;8:04&nbsp;PM,&nbsp;Duane&nbsp;Wandless&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:duane@wandless.net&quot;&gt;duane@wandless.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;did&nbsp;not&nbsp;have&nbsp;any&nbsp;problems&nbsp;using&nbsp;&lt;a&nbsp;href=&quot;http://1.9.1.&quot;&nbsp;target=&quot;_blank&quot;&gt;1.9.1.&lt;/a&gt;&amp;nbsp;&nbsp;After&nbsp;installing&nbsp;2.0&nbsp;I&nbsp;am&nbsp;receiving&nbsp;this&nbsp;exception/stack&nbsp;trace&nbsp;(see&nbsp;below)&nbsp;when&nbsp;executing&nbsp;this&nbsp;statement:&lt;br&gt;ServicePointManager.ServerCertificateValidationCallback&nbsp;+=&nbsp;new&nbsp;System.Net.Security.RemoteCertificateValidationCallback(CertAuth.TrustAllCertificatesCallback);&lt;br&gt;<br>
<br>
&lt;br&gt;CertAuth.TrustAllCertificatesCallback&nbsp;simply&nbsp;returns&nbsp;true&nbsp;and&nbsp;is&nbsp;static.&lt;br&gt;&lt;br&gt;I&nbsp;receive&nbsp;the&nbsp;same&nbsp;exception&nbsp;when&nbsp;executing&nbsp;this&nbsp;statement:&lt;br&gt;ServicePointManager.CertificatePolicy&nbsp;=&nbsp;new&nbsp;CertAuth();&lt;br&gt;&lt;br&gt;CertAuth&nbsp;implements&nbsp;CheckValidationResult&nbsp;and&nbsp;returns&nbsp;true.&lt;br&gt;<br>
<br>
&lt;br&gt;Again&nbsp;this&nbsp;code&nbsp;worked&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://1.9.1.&quot;&nbsp;target=&quot;_blank&quot;&gt;1.9.1.&lt;/a&gt;&amp;nbsp;&nbsp;The&nbsp;key&nbsp;point&nbsp;about&nbsp;my&nbsp;code&nbsp;is&nbsp;it&nbsp;is&nbsp;running&nbsp;from&nbsp;a&nbsp;DLL&nbsp;that&nbsp;is&nbsp;embedded&nbsp;in&nbsp;a&nbsp;Cocoa&nbsp;application.&amp;nbsp;&nbsp;Any&nbsp;help&nbsp;would&nbsp;be&nbsp;greatly&nbsp;appreciated.&lt;br&gt;<br>
&lt;br&gt;Thanks,&lt;br&gt;<br>
Duane&lt;br&gt;&lt;br&gt;Unhandled&nbsp;Exception:&nbsp;System.TypeInitializationException:&nbsp;An&nbsp;exception&nbsp;was&nbsp;thrown&nbsp;by&nbsp;the&nbsp;type&nbsp;initializer&nbsp;for&nbsp;System.Net.ServicePointManager&nbsp;---&amp;gt;&nbsp;System.Configuration.ConfigurationErrorsException:&nbsp;Error&nbsp;Initializing&nbsp;the&nbsp;configuration&nbsp;system.&nbsp;---&amp;gt;&nbsp;System.NullReferenceException:&nbsp;Object&nbsp;reference&nbsp;not&nbsp;set&nbsp;to&nbsp;an&nbsp;instance&nbsp;of&nbsp;an&nbsp;object&lt;br&gt;<br>
<br>
&amp;nbsp;&nbsp;at&nbsp;System.Configuration.ConfigurationManager.OpenExeConfigurationInternal&nbsp;(ConfigurationUserLevel&nbsp;userLevel,&nbsp;System.Reflection.Assembly&nbsp;calling_assembly,&nbsp;System.String&nbsp;exePath)&nbsp;[0x00000]&nbsp;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;System.Configuration.ClientConfigurationSystem.get_Configuration&nbsp;()&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
<br>
&amp;nbsp;&nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;System.Configuration.ClientConfigurationSystem.get_Configuration&nbsp;()&nbsp;[0x00000]&nbsp;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;System.Configuration.ClientConfigurationSystem.System.Configuration.Internal.IInternalConfigSystem.GetSection&nbsp;(System.String&nbsp;configKey)&nbsp;[0x00000]&nbsp;&lt;br&gt;<br>
<br>
&amp;nbsp;&nbsp;at&nbsp;System.Configuration.ConfigurationManager.GetSection&nbsp;(System.String&nbsp;sectionName)&nbsp;[0x00000]&nbsp;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;System.Net.ServicePointManager..cctor&nbsp;()&nbsp;[0x00000]&nbsp;&lt;br&gt;&amp;nbsp;&nbsp;---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
