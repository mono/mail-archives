<tt>
&lt;meta&nbsp;http-equiv=&quot;CONTENT-TYPE&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;title&gt;&lt;/title&gt;&lt;meta&nbsp;name=&quot;GENERATOR&quot;&nbsp;content=&quot;OpenOffice.org&nbsp;2.4&nbsp;&nbsp;(Win32)&quot;&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&amp;lt;!--<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp@page&nbsp;{&nbsp;size:&nbsp;8.5in&nbsp;11in;&nbsp;margin:&nbsp;0.79in&nbsp;}<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspP&nbsp;{&nbsp;margin-bottom:&nbsp;0.08in&nbsp;}<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp--&amp;gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/style&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspAttached<br>
is&nbsp;a&nbsp;FileSystemWatcher&nbsp;class&nbsp;that&nbsp;I&nbsp;wrote&nbsp;to&nbsp;use&nbsp;instead&nbsp;of&nbsp;Mono&amp;#39;s<br>
FileSystemWatcher&nbsp;in&nbsp;System.IO&nbsp;for&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;(at&nbsp;least&nbsp;Tiger).&nbsp;I&nbsp;have<br>
not&nbsp;tried,&nbsp;but&nbsp;I&nbsp;believe&nbsp;the&nbsp;FileSystemWatcher&nbsp;supplied&nbsp;with&nbsp;mono&nbsp;may<br>
work&nbsp;with&nbsp;Leopard&nbsp;since&nbsp;Leopard&nbsp;adds&nbsp;a&nbsp;feature&nbsp;called&nbsp;FSEvents.&nbsp;&nbsp;The<br>
FileSystemWatcher&nbsp;in&nbsp;Mono&nbsp;on&nbsp;Mac&nbsp;does&nbsp;not&nbsp;catch&nbsp;most&nbsp;onChanged&nbsp;events<br>
for&nbsp;files&nbsp;edited&nbsp;by&nbsp;the&nbsp;user;&nbsp;though&nbsp;it&nbsp;does&nbsp;seem&nbsp;to&nbsp;catch&nbsp;most<br>
onCreated&nbsp;and&nbsp;onDeleted.&nbsp;&nbsp;I&nbsp;noticed&nbsp;the&nbsp;bug&nbsp;posted&nbsp;on&nbsp;the&nbsp;Mono&nbsp;site,<br>
but&nbsp;the&nbsp;Priority&nbsp;was&nbsp;P5&nbsp;(none),&nbsp;so&nbsp;I&nbsp;had&nbsp;to&nbsp;come&nbsp;up&nbsp;with&nbsp;an<br>
alternative.&nbsp;&nbsp;This&nbsp;solution&nbsp;is&nbsp;not&nbsp;great,&nbsp;but&nbsp;I&nbsp;am&nbsp;sending&nbsp;it&nbsp;out<br>
there&nbsp;for&nbsp;anyone&nbsp;who&nbsp;may&nbsp;need&nbsp;a&nbsp;FileSystemWatcher&nbsp;for&nbsp;Mac.&nbsp;&nbsp;It&nbsp;is<br>
intended&nbsp;to&nbsp;be&nbsp;a&nbsp;drop&nbsp;in&nbsp;replacement&nbsp;for&nbsp;the<br>
System.IO.FileSystemWatcher&nbsp;so&nbsp;hopefully&nbsp;it&nbsp;won&amp;#39;t&nbsp;require&nbsp;any&nbsp;code<br>
changes.&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspThis<br>
implementation&nbsp;is&nbsp;different&nbsp;than&nbsp;the&nbsp;typical&nbsp;Windows/.NET&nbsp;method&nbsp;in&nbsp;that<br>
it&nbsp;does&nbsp;not&nbsp;rely&nbsp;on&nbsp;the&nbsp;OS&nbsp;or&nbsp;any&nbsp;File&nbsp;System&nbsp;Events&nbsp;from&nbsp;the&nbsp;OS.&nbsp;<br>
Instead,&nbsp;it&nbsp;&amp;#39;samples&amp;#39;&nbsp;the&nbsp;folder&nbsp;to&nbsp;watch&nbsp;at&nbsp;a&nbsp;given&nbsp;interval<br>
[TimerInterval]&nbsp;and&nbsp;then&nbsp;compares&nbsp;to&nbsp;the&nbsp;last&nbsp;sample.&nbsp;&nbsp;That&nbsp;said,<br>
this&nbsp;method&nbsp;has&nbsp;more&nbsp;overhead&nbsp;than&nbsp;the&nbsp;File&nbsp;System&nbsp;Events&nbsp;concept&nbsp;and<br>
therefore&nbsp;may&nbsp;not&nbsp;be&nbsp;good&nbsp;for&nbsp;large&nbsp;folders.&nbsp;&nbsp;On&nbsp;the&nbsp;upside,&nbsp;it&nbsp;is&nbsp;OS<br>
independent&nbsp;and&nbsp;so&nbsp;can&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;fallback&nbsp;for&nbsp;some&nbsp;OS&amp;#39;s&nbsp;like<br>
Tiger.&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;What<br>
is&nbsp;different&nbsp;from&nbsp;Windows&nbsp;implementation:&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;<br>
&lt;ul&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;Directories<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdo&nbsp;not&nbsp;raise&nbsp;OnChanged()&nbsp;for&nbsp;&amp;#39;LastAccess&amp;#39;.&nbsp;&nbsp;This&nbsp;is&nbsp;because&nbsp;this<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsproutine&nbsp;was&nbsp;accessing&nbsp;the&nbsp;folders&nbsp;and&nbsp;changing&nbsp;the&nbsp;LastAccess&nbsp;Date.&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;Rename<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspis&nbsp;not&nbsp;supported.&nbsp;&nbsp;For&nbsp;renamed&nbsp;items,&nbsp;you&nbsp;will&nbsp;get&nbsp;separate&nbsp;deleted&nbsp;and&nbsp;a<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcreated&nbsp;events.&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;Internal<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspBufferSize&nbsp;is&nbsp;ignored.&nbsp;&nbsp;The&nbsp;property&nbsp;is&nbsp;there&nbsp;to&nbsp;not&nbsp;break&nbsp;existing<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcode.&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/li&gt;&lt;li&gt;&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;Does<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspnot&nbsp;raise&nbsp;&amp;#39;as&nbsp;many&amp;#39;&nbsp;changed&nbsp;events&nbsp;as&nbsp;System.IO.FileSystemWatcher&nbsp;on<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspWindows.&nbsp;&nbsp;Windows&nbsp;implementation&nbsp;may&nbsp;raise&nbsp;3&nbsp;events&nbsp;for&nbsp;1&nbsp;save&nbsp;of&nbsp;a<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfile.&nbsp;&nbsp;This&nbsp;method&nbsp;raises&nbsp;1.&nbsp;&nbsp;I&nbsp;prefer&nbsp;this&nbsp;method&nbsp;more,&nbsp;but&nbsp;it&nbsp;is&nbsp;a<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdifference&nbsp;worth&nbsp;noting.&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;Added&nbsp;property&nbsp;[TimerInterval]&nbsp;which&nbsp;takes&nbsp;the&nbsp;interval&nbsp;in&nbsp;milliseconds&nbsp;between&nbsp;samples.&amp;nbsp;&nbsp;This&nbsp;is&nbsp;how&nbsp;often&nbsp;the&nbsp;folder&nbsp;is&nbsp;&lt;i&gt;checked&nbsp;&lt;/i&gt;for&nbsp;changes.&amp;nbsp;&nbsp;Default&nbsp;is&nbsp;1000&nbsp;(1&nbsp;sec)&lt;br&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;Disclaimer:<br>
I&nbsp;am&nbsp;sure&nbsp;there&nbsp;is&nbsp;a&nbsp;bug&nbsp;or&nbsp;many.&nbsp;&nbsp;This&nbsp;is&nbsp;posted&nbsp;to&nbsp;offer&nbsp;one<br>
approach&nbsp;for&nbsp;people&nbsp;interested&nbsp;to&nbsp;build&nbsp;on.&nbsp;&nbsp;I&nbsp;am&nbsp;using&nbsp;this&nbsp;class<br>
and&nbsp;will&nbsp;continue&nbsp;to&nbsp;test&nbsp;and&nbsp;tweak.&nbsp;&nbsp;If&nbsp;you&nbsp;want&nbsp;me&nbsp;to&nbsp;send&nbsp;you&nbsp;any<br>
fixes,&nbsp;shoot&nbsp;me&nbsp;an&nbsp;email.&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;Mono<br>
bug&nbsp;this&nbsp;is&nbsp;in&nbsp;response&nbsp;to:&nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;a&nbsp;href=&quot;https://bugzilla.novell.com/show_bug.cgi?id=428270&quot;&gt;https://bugzilla.novell.com/show_bug.cgi?id=428270&lt;/a&gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&nbsp;and&nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.mail-archive.com/mono-bugs@lists.ximian.com/msg53866.html&quot;&gt;http://www.mail-archive.com/mono-bugs@lists.ximian.com/msg53866.html&lt;/a&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;Thanks,&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0in;&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;face=&quot;Arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;lang=&quot;&quot;&gt;Kevin<br>
Heeney&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;<br>

</tt>
