<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;was&nbsp;able&nbsp;to&nbsp;find&nbsp;a&nbsp;solution.&amp;nbsp;&nbsp;What&nbsp;is&nbsp;different&nbsp;with&nbsp;my&nbsp;setup&nbsp;is&nbsp;I&nbsp;do&nbsp;not&nbsp;have&nbsp;a&nbsp;mono&nbsp;executable,&nbsp;just&nbsp;a&nbsp;mono&nbsp;DLL.&amp;nbsp;&nbsp;This&nbsp;&lt;a&nbsp;href=&quot;http://www.codeshorts.ca/2007/nov/01/leopard-linking-making-relocatable-libraries-movin&quot;&gt;link&lt;/a&gt;&nbsp;was&nbsp;very&nbsp;useful.&amp;nbsp;&nbsp;Be&nbsp;sure&nbsp;to&nbsp;check&nbsp;out&nbsp;this&nbsp;link!&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&lt;br&gt;Just&nbsp;some&nbsp;background..&nbsp;my&nbsp;application&nbsp;is&nbsp;a&nbsp;real&nbsp;Cocoa/Xcode&nbsp;app&nbsp;with&nbsp;ObjC&nbsp;running&nbsp;the&nbsp;GUI.&amp;nbsp;&nbsp;The&nbsp;mono&nbsp;code,&nbsp;utilizing&nbsp;monobjc,&nbsp;is&nbsp;hooked&nbsp;up&nbsp;to&nbsp;the&nbsp;NIB&nbsp;controllers.&amp;nbsp;&nbsp;So&nbsp;the&nbsp;business&nbsp;logic&nbsp;is&nbsp;run&nbsp;by&nbsp;mono&nbsp;and&nbsp;the&nbsp;UI&nbsp;is&nbsp;run&nbsp;by&nbsp;ObjC.&amp;nbsp;&nbsp;I&nbsp;can&nbsp;send&nbsp;NSNotifications&nbsp;back&nbsp;and&nbsp;forth&nbsp;between&nbsp;the&nbsp;mono&nbsp;code&nbsp;and&nbsp;the&nbsp;ObjC&nbsp;code.&amp;nbsp;&nbsp;Mono&nbsp;loads&nbsp;data&nbsp;into&nbsp;the&nbsp;controllers,&nbsp;the&nbsp;UI&nbsp;then&nbsp;displays&nbsp;the&nbsp;data.&amp;nbsp;&nbsp;Another&nbsp;note,&nbsp;I&nbsp;use&nbsp;Dumbarton&nbsp;to&nbsp;load&nbsp;the&nbsp;DLL&nbsp;and&nbsp;init&nbsp;mono.&amp;nbsp;&nbsp;There&nbsp;probably&nbsp;is&nbsp;a&nbsp;way&nbsp;to&nbsp;init&nbsp;the&nbsp;DLL&nbsp;without&nbsp;Dumbarton&nbsp;but&nbsp;it&nbsp;works.&amp;nbsp;&nbsp;Yes&nbsp;yes&nbsp;I&nbsp;know&nbsp;monobjc&nbsp;can&nbsp;do&nbsp;all&nbsp;the&nbsp;UI&nbsp;work&nbsp;as&nbsp;well...&nbsp;but&nbsp;we&nbsp;already&nbsp;had&nbsp;UI&nbsp;code&nbsp;on&nbsp;mac&nbsp;and&nbsp;windows.&amp;nbsp;&nbsp;Now&nbsp;we&nbsp;truly&nbsp;have&nbsp;a&nbsp;common&nbsp;business&nbsp;layer!!!!!&lt;br&gt;<br>
&lt;br&gt;To&nbsp;embed&nbsp;a&nbsp;DLL&nbsp;without&nbsp;mono&nbsp;being&nbsp;installed&nbsp;I&nbsp;am&nbsp;currently&nbsp;performing&nbsp;these&nbsp;steps:&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;mkbundle&nbsp;-o&nbsp;xx.c&nbsp;-oo&nbsp;libxx.a&nbsp;--nomain&nbsp;-c&amp;nbsp;&nbsp;--machine-config&nbsp;...&nbsp;-L&nbsp;&amp;lt;mono&nbsp;lib&nbsp;paths&amp;gt;&nbsp;all&nbsp;of&nbsp;the&nbsp;referenced&nbsp;libraries&nbsp;including&nbsp;mscorlib.dll&lt;/span&gt;&lt;br&gt;<br>
&lt;br&gt;The&nbsp;xx.c&nbsp;is&nbsp;compiled&nbsp;into&nbsp;the&nbsp;Xcode&nbsp;app.&amp;nbsp;&nbsp;And&nbsp;libxx.a&nbsp;is&nbsp;linked,&nbsp;with&nbsp;-lxx&nbsp;as&nbsp;a&nbsp;linker&nbsp;flag.&amp;nbsp;&nbsp;Add&nbsp;a&nbsp;library&nbsp;search&nbsp;path&nbsp;to&nbsp;where&nbsp;libxx.a&nbsp;is.&lt;br&gt;&lt;br&gt;I&nbsp;then&nbsp;run&nbsp;these&nbsp;libraries&nbsp;(below)&nbsp;through&nbsp;install_name_tool.&amp;nbsp;&nbsp;You&nbsp;only&nbsp;have&nbsp;to&nbsp;do&nbsp;these&nbsp;next&nbsp;2&nbsp;steps&nbsp;once.&lt;br&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;libglib-2.0.0.1400.1.dylib&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;libgthread-2.0.0.1400.1.dylib&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;libmono.0.0.0.dylib&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;libgmodule-2.0.0.1400.1.dylib&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;libintl.8.0.1.dylib&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&lt;br&gt;Two&nbsp;things&nbsp;have&nbsp;to&nbsp;be&nbsp;performed&nbsp;on&nbsp;these&nbsp;libraries.&amp;nbsp;&nbsp;First&nbsp;the&nbsp;id&nbsp;of&nbsp;the&nbsp;file&nbsp;has&nbsp;to&nbsp;be&nbsp;changed&nbsp;from&nbsp;the&nbsp;/Library/Frameworks/Mono.framework&nbsp;reference&nbsp;to&nbsp;@loader_path/../Libraries/&amp;lt;name&amp;gt;.&amp;nbsp;&nbsp;Run&nbsp;otool&nbsp;-L&nbsp;&amp;lt;the&nbsp;dylib&nbsp;file&amp;gt;.&lt;br&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;install_name_tool&nbsp;-id&nbsp;@loader_path/../Libraries/libintl.8.0.1.dylib&nbsp;libintl.8.0.1.dylib&lt;/span&gt;&lt;br&gt;&lt;br&gt;The&nbsp;second&nbsp;operation&nbsp;is&nbsp;to&nbsp;change&nbsp;the&nbsp;references&nbsp;to&nbsp;other&nbsp;dynamic&nbsp;libraries&nbsp;you&nbsp;are&nbsp;embedding.&lt;br&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;install_name_tool&nbsp;-change&nbsp;/Library/Frameworks/Mono.framework/Versions/1.9.1/lib/libintl.8.0.1.dylib&nbsp;@loader_path/../Libraries/libintl.8.0.1.dylib&nbsp;libglib-2.0.0.1400.1.dylib&lt;/span&gt;&lt;br&gt;<br>
&lt;br&gt;Basically&nbsp;what&nbsp;you&nbsp;are&nbsp;doing&nbsp;is&nbsp;telling&nbsp;the&nbsp;runtime&nbsp;app&nbsp;where&nbsp;to&nbsp;find&nbsp;these&nbsp;dynmaic&nbsp;libraries.&amp;nbsp;&nbsp;Rather&nbsp;than&nbsp;in&nbsp;the&nbsp;Frameworks&nbsp;directory&nbsp;look&nbsp;relative&nbsp;to&nbsp;the&nbsp;application.&amp;nbsp;&nbsp;Place&nbsp;these&nbsp;modified&nbsp;libraires&nbsp;in&nbsp;&amp;lt;yourapp&amp;gt;.app/Contents/Libraries.&lt;br&gt;<br>
&lt;br&gt;Compile&nbsp;the&nbsp;xcode&nbsp;application&nbsp;normally.&amp;nbsp;&nbsp;Then&nbsp;run&nbsp;install_name_tool&nbsp;on&nbsp;it&nbsp;as&nbsp;well,&nbsp;&amp;lt;yourapp&amp;gt;.app/Contents/MacOS/&amp;lt;yourapp&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;install_name_tool&nbsp;-change&nbsp;/Library/Frameworks/Mono.framework/Versions/1.9.1/lib/libgthread-2.0.0.1400.1.dylib&nbsp;@loader_path/../Libraries/libgthread-2.0.0.1400.1.dylib&nbsp;&amp;lt;yourapp&amp;gt;&nbsp;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;br&gt;Now&nbsp;remember&nbsp;you&nbsp;have&nbsp;to&nbsp;run&nbsp;this&nbsp;install_name_tool&nbsp;many&nbsp;times.&amp;nbsp;&nbsp;Once&nbsp;for&nbsp;each&nbsp;library&nbsp;referenced&nbsp;by&nbsp;your&nbsp;application.&amp;nbsp;&nbsp;And&nbsp;once&nbsp;for&nbsp;each&nbsp;reference&nbsp;in&nbsp;the&nbsp;dynamic&nbsp;libraries&nbsp;to&nbsp;another&nbsp;dynamic&nbsp;library&nbsp;that&nbsp;you&nbsp;are&nbsp;trying&nbsp;to&nbsp;embed.&amp;nbsp;&nbsp;Use&nbsp;otool&nbsp;-L&nbsp;&amp;lt;file&amp;gt;&nbsp;to&nbsp;find&nbsp;the&nbsp;references&nbsp;you&nbsp;need&nbsp;to&nbsp;modify.&lt;br&gt;<br>
&lt;br&gt;I&nbsp;naturally&nbsp;wanted&nbsp;to&nbsp;avoid&nbsp;the&nbsp;static&nbsp;option&nbsp;since&nbsp;that&nbsp;requires&nbsp;special&nbsp;licensing.&amp;nbsp;&nbsp;So&nbsp;far&nbsp;this&nbsp;appears&nbsp;to&nbsp;work.&amp;nbsp;&nbsp;These&nbsp;steps&nbsp;are&nbsp;what&nbsp;mkbundle&nbsp;is&nbsp;trying&nbsp;to&nbsp;do...&nbsp;but&nbsp;it&nbsp;appears&nbsp;it&nbsp;only&nbsp;really&nbsp;works&nbsp;on&nbsp;executables....&nbsp;or&nbsp;I&amp;#39;m&nbsp;missing&nbsp;something.&lt;br&gt;<br>
&lt;br&gt;Hopefully&nbsp;this&nbsp;will&nbsp;prove&nbsp;useful&nbsp;to&nbsp;someone&nbsp;down&nbsp;the&nbsp;road.&lt;br&gt;&lt;br&gt;Duane&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Oct&nbsp;1,&nbsp;2008&nbsp;at&nbsp;4:45&nbsp;PM,&nbsp;David&nbsp;Rivera&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mithril@me.com&quot;&gt;mithril@me.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&amp;nbsp;Monobjc&nbsp;provides&nbsp;the&nbsp;ability&nbsp;to&nbsp;compile&nbsp;a&nbsp;Cocoa&nbsp;app&nbsp;with&nbsp;the&nbsp;required&nbsp;mono&nbsp;frameworks&nbsp;embedded&nbsp;within&nbsp;it&nbsp;so&nbsp;that&nbsp;it&nbsp;does&nbsp;not&nbsp;require&nbsp;mono&nbsp;to&nbsp;be&nbsp;installed&nbsp;on&nbsp;the&nbsp;system&nbsp;to&nbsp;run&nbsp;it.&nbsp;It&nbsp;is&nbsp;implemented&nbsp;as&nbsp;a&nbsp;couple&nbsp;Nant&nbsp;tasks.&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;it&nbsp;will&nbsp;work&nbsp;for&nbsp;you&nbsp;or&nbsp;not,&nbsp;but&nbsp;you&nbsp;might&nbsp;look&nbsp;into&nbsp;it,&nbsp;its&nbsp;what&nbsp;I&nbsp;use.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.monobjc.net&quot;&nbsp;target=&quot;_blank&quot;&gt;www.monobjc.net&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
-David&nbsp;Rivera&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
On&nbsp;Wednesday,&nbsp;October&nbsp;01,&nbsp;2008,&nbsp;at&nbsp;08:14AM,&nbsp;&amp;quot;Duane&nbsp;Wandless&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:duane@wandless.net&quot;&gt;duane@wandless.net&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;create&nbsp;a&nbsp;DLL&nbsp;that&nbsp;does&nbsp;not&nbsp;require&nbsp;mono&nbsp;to&nbsp;be&nbsp;installed.&nbsp;&amp;nbsp;I&lt;br&gt;<br>
&amp;gt;have&nbsp;used&nbsp;mkbundle&nbsp;with&nbsp;this&nbsp;command&nbsp;line:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;mkbundle&nbsp;-o&nbsp;host.c&nbsp;--nomain&nbsp;-c&nbsp;-oo&nbsp;libhost.a&nbsp;-L&nbsp;&amp;lt;path&nbsp;to&nbsp;mono&nbsp;libraries&amp;gt;&lt;br&gt;<br>
&amp;gt;MacMonoClient.dll&nbsp;System.dll&nbsp;System.Core.dll&nbsp;etc.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;I&nbsp;can&nbsp;successfully&nbsp;compile&nbsp;and&nbsp;link&nbsp;the&nbsp;host.c&nbsp;file&nbsp;and&nbsp;the&nbsp;libhost.a&nbsp;object&lt;br&gt;<br>
&amp;gt;file&nbsp;into&nbsp;a&nbsp;Cocoa&nbsp;Objc&nbsp;application.&nbsp;&amp;nbsp;At&nbsp;runtime&nbsp;I&nbsp;can&nbsp;use&lt;br&gt;<br>
&amp;gt;mono_domain_assembly_open()&nbsp;to&nbsp;load&nbsp;the&nbsp;&amp;#39;bundled&amp;#39;&nbsp;library.&nbsp;&amp;nbsp;And&nbsp;it&nbsp;works.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;However,&nbsp;if&nbsp;I&nbsp;move&nbsp;the&nbsp;Mono.framework&nbsp;out&nbsp;of&nbsp;the&nbsp;way&nbsp;and&nbsp;run&nbsp;the&nbsp;application&lt;br&gt;<br>
&amp;gt;I&nbsp;get&nbsp;this&nbsp;error:&lt;br&gt;<br>
&amp;gt;dyld:&nbsp;Library&nbsp;not&nbsp;loaded:&nbsp;/Library/Frameworks/Mono.&lt;br&gt;<br>
&amp;gt;framework/Versions/1.9.1/lib/libintl.8.0.1.dylib&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;Referenced&nbsp;from:&nbsp;/Users/username/MySrc/mycode/sandbox/My&lt;br&gt;<br>
&amp;gt;Desktop/build/Debug/My&nbsp;Desktop.app/Contents/MacOS/My&nbsp;Desktop&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;Reason:&nbsp;image&nbsp;not&nbsp;found&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;Now&nbsp;of&nbsp;course&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;do&nbsp;all&nbsp;of&nbsp;the&nbsp;relocation&nbsp;magic&nbsp;on&nbsp;the&nbsp;dylib&amp;#39;s&nbsp;etc&lt;br&gt;<br>
&amp;gt;so&nbsp;that&nbsp;I&nbsp;do&nbsp;not&nbsp;need&nbsp;Mono&nbsp;installed.&nbsp;&amp;nbsp;I&nbsp;have&nbsp;had&nbsp;no&nbsp;success&nbsp;in&nbsp;this&lt;br&gt;<br>
&amp;gt;effort.&nbsp;&amp;nbsp;The&nbsp;result&nbsp;of&nbsp;mkbundle&nbsp;is&nbsp;not&nbsp;a&nbsp;file&nbsp;that&nbsp;otool&nbsp;can&nbsp;find&nbsp;symbols.&lt;br&gt;<br>
&amp;gt;install_name_tool&nbsp;appears&nbsp;to&nbsp;do&nbsp;nothing.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;So&nbsp;the&nbsp;basic&nbsp;question&nbsp;is:&nbsp;can&nbsp;I&nbsp;fully&nbsp;embed&nbsp;a&nbsp;mono&nbsp;library&nbsp;so&nbsp;that&nbsp;it&nbsp;is&nbsp;not&lt;br&gt;<br>
&amp;gt;required&nbsp;to&nbsp;have&nbsp;mono&nbsp;installed?&nbsp;&amp;nbsp;And&nbsp;if&nbsp;yes...&nbsp;then&nbsp;what&nbsp;am&nbsp;I&nbsp;doing&nbsp;wrong?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;Thanks&nbsp;for&nbsp;any&nbsp;help!&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;_______________________________________________&lt;br&gt;<br>
Mono-osx&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Mono-osx@lists.ximian.com&quot;&gt;Mono-osx@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-osx&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-osx&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
