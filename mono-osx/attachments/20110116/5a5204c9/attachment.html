<tt>
I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;create&nbsp;a&nbsp;Document&nbsp;based&nbsp;app.&nbsp; I&nbsp;need&nbsp;to&nbsp;share&nbsp;MyDocument&nbsp;across&nbsp;multiple&nbsp;view&nbsp;controller&nbsp;NIBs.&nbsp; So&nbsp;in&nbsp;each&nbsp;NIB&nbsp;I&nbsp;add&nbsp;an&nbsp;NSDocument&nbsp;object&nbsp;then&nbsp;change&nbsp;the&nbsp;class&nbsp;to&nbsp;be&nbsp;MyDocument.&nbsp; As&nbsp;each&nbsp;VC&nbsp;is&nbsp;loaded&nbsp;a&nbsp;new&nbsp;MyDocument&nbsp;object&nbsp;is&nbsp;created.&nbsp; However&nbsp;this&nbsp;is&nbsp;incorrect&nbsp;we&nbsp;want&nbsp;the&nbsp;initial&nbsp;MyDocument&nbsp;object&nbsp;to&nbsp;be&nbsp;used.&nbsp; In&nbsp;the&nbsp;obj-c&nbsp;app&nbsp;we&nbsp;have&nbsp;this&nbsp;is&nbsp;being&nbsp;done:&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Style-Type&quot;&nbsp;content=&quot;text/css&quot;&gt;<br>
&lt;title&gt;&lt;/title&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Cocoa&nbsp;HTML&nbsp;Writer&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;CocoaVersion&quot;&nbsp;content=&quot;1038.35&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&gt;<br>
p.p1&nbsp;{margin:&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px;&nbsp;font:&nbsp;11.0px&nbsp;Menlo}<br>
p.p2&nbsp;{margin:&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px;&nbsp;font:&nbsp;11.0px&nbsp;Menlo;&nbsp;min-height:&nbsp;13.0px}<br>
p.p3&nbsp;{margin:&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px;&nbsp;font:&nbsp;11.0px&nbsp;Menlo;&nbsp;color:&nbsp;#4e8186}<br>
span.s1&nbsp;{color:&nbsp;#bb2d9d}<br>
span.s2&nbsp;{color:&nbsp;#000000}<br>
span.s3&nbsp;{color:&nbsp;#3e1f7c}<br>
span.s4&nbsp;{color:&nbsp;#4e8186}<br>
span.Apple-tab-span&nbsp;{white-space:pre}<br>
&lt;/style&gt;<br>
<br>
<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;static&lt;/span&gt;&nbsp;MyDocument*&nbsp;sharedDocument;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;-&nbsp;(&lt;span&nbsp;class=&quot;s1&quot;&gt;id&lt;/span&gt;)init &lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p3&quot;&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;(!&lt;/span&gt;sharedDocument&lt;span&nbsp;class=&quot;s2&quot;&gt;)&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;self&lt;/span&gt;&nbsp;=&nbsp;[&lt;span&nbsp;class=&quot;s1&quot;&gt;super&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s3&quot;&gt;init&lt;/span&gt;];&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s1&quot;&gt;self&lt;/span&gt;&nbsp;!=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;nil&lt;/span&gt;)&nbsp;{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p3&quot;&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/span&gt;sharedDocument&lt;span&nbsp;class=&quot;s2&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;self&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p3&quot;&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt; &nbsp; &nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;return&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;sharedDocument&lt;span&nbsp;class=&quot;s2&quot;&gt;;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;+(&lt;span&nbsp;class=&quot;s4&quot;&gt;MyDocument&lt;/span&gt;*)sharedDocument&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p3&quot;&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;(!&lt;/span&gt;sharedDocument&lt;span&nbsp;class=&quot;s2&quot;&gt;)&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p3&quot;&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[[&lt;/span&gt;MyDocument&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s3&quot;&gt;alloc&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;]&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s3&quot;&gt;init&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;];&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p3&quot;&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;return&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;sharedDocument&lt;span&nbsp;class=&quot;s2&quot;&gt;;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;}&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;A&lt;/span&gt;nd&nbsp;here&nbsp;is&nbsp;how&nbsp;I&nbsp;implemented&nbsp;this.&nbsp; I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;this&nbsp;is&nbsp;the&nbsp;best&nbsp;solution.&nbsp; I&amp;#39;m&nbsp;concerned&nbsp;there&nbsp;will&nbsp;be&nbsp;a&nbsp;leak,&nbsp;though&nbsp;I&nbsp;have&nbsp;not&nbsp;looked&nbsp;yet.&nbsp; Any&nbsp;suggestions&nbsp;are&nbsp;appreciated.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;public&nbsp;MyDocument&nbsp;(IntPtr&nbsp;handle)&nbsp;:&nbsp;base(SharedDocument&nbsp;==&nbsp;null&nbsp;?&nbsp;handle&nbsp;:&nbsp;SharedDocument.Handle)&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;{&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;if&nbsp;(SharedDocument&nbsp;==&nbsp;null)&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;{&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;SharedDocument&nbsp;=&nbsp;this;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Duane&lt;/div&gt;<br>

</tt>
