<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Bundling Mono for Dumbarton
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Bundling%20Mono%20for%20Dumbarton&In-Reply-To=6C059BC8-4F35-4BC0-A44C-755B95C58C7B%40mac.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000701.html">
   <LINK REL="Next"  HREF="000703.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Bundling Mono for Dumbarton</H1>
    <B>Alf Watt</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Bundling%20Mono%20for%20Dumbarton&In-Reply-To=6C059BC8-4F35-4BC0-A44C-755B95C58C7B%40mac.com"
       TITLE="[Mono-osx] Bundling Mono for Dumbarton">alf at imeem.com
       </A><BR>
    <I>Mon Dec  4 16:13:34 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000701.html">[Mono-osx] Bundling Mono for Dumbarton
</A></li>
        <LI>Next message: <A HREF="000703.html">[Mono-osx] Bundling Mono for Dumbarton
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#702">[ date ]</a>
              <a href="thread.html#702">[ thread ]</a>
              <a href="subject.html#702">[ subject ]</a>
              <a href="author.html#702">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Eoin,

Thanks for writing this summary, it's a good start at documenting a  
complex build process. I've been running the builds for the last  
month or two and while some if it is still magic to me I can expand  
on a couple of points here:

&#8226; installation directory: we use install_name_tool to change the link  
header of the Dumbarton framework after copying into the app bundle,  
so it's possible to use it out of svn w/o modificaiton

&#8226; the script which only copies the required assemblies is hand- 
hacked, you can get a good start by scanning the .cs files for their  
imports, I would be very interested in a more automated solution to  
this particular problem

Best,
Alf

On Dec 4, 2006, at 2:51 AM, Eoin Norris wrote:

&gt;<i> r.
</I>&gt;<i>
</I>&gt;<i> I've done this. This should  get you started and Allan will chime  
</I>&gt;<i> in, I suppose.
</I>&gt;<i>
</I>&gt;<i> 1) You should build the dumbarton project as part of the main  
</I>&gt;<i> project i.e. add the project to the main project not as a target  
</I>&gt;<i> but a sub-project.
</I>&gt;<i> 2) Judy, Dumbarton and your main project should build to the same  
</I>&gt;<i> directory ( a xCode limitation)
</I>&gt;<i> 3) The Dumbarton project needs to be built with the installation  
</I>&gt;<i> directory setting  set to @executable_path/../Frameworks ( in the  
</I>&gt;<i> Build settings of Get Info). This tells the linker to look for the  
</I>&gt;<i> dumbarton frameworks at that path from the executable.
</I>&gt;<i> 4) Link against the Dumbarton project at the linked phase. Chose  
</I>&gt;<i> Get Info ( right click) the target, and chose the general tab.  
</I>&gt;<i> Click the add button on the bottom to add the Dumbarton framework  
</I>&gt;<i> to the main project.
</I>&gt;<i>
</I>&gt;<i> Now the post build phase. This is not quite perfect but will get  
</I>&gt;<i> you going.
</I>&gt;<i>
</I>&gt;<i> You should copy the mono libraries to within your bundle. ( I put  
</I>&gt;<i> it in ../Contents/Library). Now the imeem guys have a script which  
</I>&gt;<i> works out what actual parts of mono they need ( and they get the  
</I>&gt;<i> application to be reduced in size significantly). To get going,  
</I>&gt;<i> however, I just copied all of mono :-)
</I>&gt;<i>
</I>&gt;<i> set -x
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> if [ -f &quot;$TARGET_BUILD_DIR/$FULL_PRODUCT_NAME/Contents/Libraries/ 
</I>&gt;<i> mono/&quot; ]
</I>&gt;<i> then
</I>&gt;<i>   echo &quot;$TARGET_BUILD_DIR/$FULL_PRODUCT_NAME/Contents/Libraries/ 
</I>&gt;<i> mono/&quot; exists!
</I>&gt;<i> else
</I>&gt;<i> mkdir &quot;$TARGET_BUILD_DIR/$FULL_PRODUCT_NAME/Contents/Libraries/mono&quot;
</I>&gt;<i> cp -r /Library/Frameworks/Mono.framework/Versions/Current/lib  
</I>&gt;<i> &quot;$TARGET_BUILD_DIR/$FULL_PRODUCT_NAME/Contents/Libraries/mono/&quot;
</I>&gt;<i> cp -r /Library/Frameworks/Mono.framework/Versions/Current/etc  
</I>&gt;<i> &quot;$TARGET_BUILD_DIR/$FULL_PRODUCT_NAME/Contents/Libraries/mono/&quot;
</I>&gt;<i> fi
</I>&gt;<i>
</I>&gt;<i> Then you need to use install_name_tool to change where the linker  
</I>&gt;<i> expects to find the library when loading at run time. The installed  
</I>&gt;<i> mono libraries have already linked against your executable and  
</I>&gt;<i> against dumbarton ( and against themselves).
</I>&gt;<i>
</I>&gt;<i> if you run oTool -L on you executable you will see something like  
</I>&gt;<i> this ( note that Dumbarton already points to the @executable_path)
</I>&gt;<i>
</I>&gt;<i>  /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa  
</I>&gt;<i> (compatibility version 1.0.0, current version 11.0.0)
</I>&gt;<i>         @executable_path/../Frameworks/Dumbarton.framework/Versions/ 
</I>&gt;<i> A/Dumbarton (compatibility version 1.0.0, current version 1.0.0)
</I>&gt;<i>         /System/Library/Frameworks/QuartzCore.framework/Versions/A/ 
</I>&gt;<i> QuartzCore (compatibility version 1.2.0, current version 1.4.9)
</I>&gt;<i>         /Library/Frameworks/Mono.framework/Versions/Current/lib  
</I>&gt;<i> eoin/libmono.0.0.0.dylib (compatibility version 1.0.0, current  
</I>&gt;<i> version 1.0.0)
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> you want
</I>&gt;<i>
</I>&gt;<i>  /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa  
</I>&gt;<i> (compatibility version 1.0.0, current version 11.0.0)
</I>&gt;<i>         @executable_path/../Frameworks/Dumbarton.framework/Versions/ 
</I>&gt;<i> A/Dumbarton (compatibility version 1.0.0, current version 1.0.0)
</I>&gt;<i>         /System/Library/Frameworks/QuartzCore.framework/Versions/A/ 
</I>&gt;<i> QuartzCore (compatibility version 1.2.0, current version 1.4.9)
</I>&gt;<i>         @executable_path/../Libraries/mono/lib/libmono.0.0.0.dylib  
</I>&gt;<i> (compatibility version 1.0.0, current version 1.0.0)
</I>&gt;<i> ....
</I>&gt;<i>
</I>&gt;<i> And not just for libmono.0.0.0.dylib, of course. The way to do this is
</I>&gt;<i>
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libmono.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libmono.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i>
</I>&gt;<i> which acts on the last parameter ( the name of your executable), to  
</I>&gt;<i> change references from &quot;/Library/Frameworks/Mono.framework/Versions/ 
</I>&gt;<i> 1.2.1/lib/libmono.0.0.0.dylib &quot; to &quot;@executable_path/../Libraries/ 
</I>&gt;<i> mono/lib/libmono.0.0.0.dylib &quot;
</I>&gt;<i>
</I>&gt;<i> I had to do this for Dumbarton as well ( which had built against  
</I>&gt;<i> the installed framework) and some of the mono libraries also have  
</I>&gt;<i> to be changed in case they reference other mono libraries in / 
</I>&gt;<i> Library/Framework.
</I>&gt;<i>
</I>&gt;<i> Horrendous stuff. Here is what worked for me. Overkill I think, but  
</I>&gt;<i> Allan probably have a better script ( and yes this script has to be  
</I>&gt;<i> changed for each new version of Mono as the versions are harcoded  
</I>&gt;<i> i.e. (..Versions/1.2.1/lib..).
</I>&gt;<i>
</I>&gt;<i> I basically changed everything, and probably more than I needed to  
</I>&gt;<i> change.
</I>&gt;<i>
</I>&gt;<i> I was working on a script to produce something like this  
</I>&gt;<i> automatically based on what I am actually linking against, and to  
</I>&gt;<i> reduce the number of libraries  I need to copy to my bundle but it  
</I>&gt;<i> is not ready for primetime yet.
</I>&gt;<i>
</I>&gt;<i> HEre is a block headed approach.
</I>&gt;<i>
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libMonoPosixHelper.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libMonoPosixHelper.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCTNAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libMonoSupportW.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libMonoSupportW.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOs/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libasprintf.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libasprintf.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libfreetype.6.3.8.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libfreetype.6.3.8.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgdiplus.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgdiplus.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libMonoSupportW.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libMonoSupportW.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOs/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgettextlib-0.14.1.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/liblibgettextlib-0.14.1.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgettextpo.0.1.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgettextpo.0.1.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgdiplus.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgdiplus.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCTNAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgettextsrc-0.14.1.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgettextsrc-0.14.1.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libglib-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libglib-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgmodule-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgmodule-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgobject-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgobject-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgthread-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgthread-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libikvm-native.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libikvm-native.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libintl.3.4.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libintl.3.4.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgthread-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgthread-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libjpeg.62.dylib @executable_path/../Libraries/ 
</I>&gt;<i> mono/lib/libjpeg.62.dylib &quot;$TARGET_BUILD_DIR/$FULL_PRODUCT_NAME/ 
</I>&gt;<i> Contents/MacOs/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libmono.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libmono.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libpng.3.0.0.dylib @executable_path/../Libraries/ 
</I>&gt;<i> mono/lib/libpng.3.0.0.dylib &quot;$TARGET_BUILD_DIR/$FULL_PRODUCT_NAME/ 
</I>&gt;<i> Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libpng12.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libpng12.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libungif.4.1.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libungif.4.1.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libtiff.3.7.1.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libtiff.3.7.1.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/$PRODUCT_NAME&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> # do this for the installed Dumbarton build
</I>&gt;<i>
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libMonoPosixHelper.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libMonoPosixHelper.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libMonoSupportW.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libMonoSupportW.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libasprintf.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libasprintf.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libfreetype.6.3.8.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libfreetype.6.3.8.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgdiplus.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgdiplus.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libMonoSupportW.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libMonoSupportW.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgettextlib-0.14.1.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/liblibgettextlib-0.14.1.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgettextpo.0.1.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgettextpo.0.1.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgdiplus.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgdiplus.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgettextsrc-0.14.1.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgettextsrc-0.14.1.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libglib-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libglib-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgmodule-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgmodule-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgobject-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgobject-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgthread-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgthread-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libikvm-native.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libikvm-native.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libintl.3.4.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libintl.3.4.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgthread-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgthread-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libjpeg.62.dylib @executable_path/../Libraries/ 
</I>&gt;<i> mono/lib/libjpeg.62.dylib &quot;$TARGET_BUILD_DIR/$FULL_PRODUCT_NAME/ 
</I>&gt;<i> Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libmono.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libmono.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Versions/ 
</I>&gt;<i> A/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libpng.3.0.0.dylib @executable_path/../Libraries/ 
</I>&gt;<i> mono/lib/libpng.3.0.0.dylib &quot;$TARGET_BUILD_DIR/$FULL_PRODUCT_NAME/ 
</I>&gt;<i> Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libpng12.0.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libpng12.0.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libungif.4.1.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libungif.4.1.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i> install_name_tool -change  /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libtiff.3.7.1.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libtiff.3.7.1.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/Frameworks/Dumbarton.framework/Dumbarton&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgmodule-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgmodule-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/libmono. 
</I>&gt;<i> 0.0.0.dylib&quot;
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libgthread-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libgthread-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/libmono. 
</I>&gt;<i> 0.0.0.dylib&quot;
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libglib-2.0.0.600.3.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libglib-2.0.0.600.3.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/libmono. 
</I>&gt;<i> 0.0.0.dylib&quot;
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libintl.3.4.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libintl.3.4.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/libmono. 
</I>&gt;<i> 0.0.0.dylib&quot;
</I>&gt;<i>
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libglib-2.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libglib-2.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/ 
</I>&gt;<i> libgmodule-2.0.0.600.3.dylib&quot;
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libintl.3.4.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libintl.3.4.0.dylib  &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/ 
</I>&gt;<i> libglib-2.0.0.600.3.dylib&quot;
</I>&gt;<i>
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libglib-2.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libglib-2.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/ 
</I>&gt;<i> libglib-2.0.0.600.3.dylib&quot;
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libintl.3.4.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libintl.3.4.0.dylib  &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/ 
</I>&gt;<i> libglib-2.0.0.600.3.dylib&quot;
</I>&gt;<i>
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libglib-2.0.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libglib-2.0.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/ 
</I>&gt;<i> libgthread-2.0.0.600.3.dylib&quot;
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libintl.3.4.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libintl.3.4.0.dylib  &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/ 
</I>&gt;<i> libgthread-2.0.0.600.3.dylib&quot;
</I>&gt;<i>
</I>&gt;<i> install_name_tool -change /Library/Frameworks/Mono.framework/ 
</I>&gt;<i> Versions/1.2.1/lib/libintl.3.4.0.dylib @executable_path/../ 
</I>&gt;<i> Libraries/mono/lib/libintl.3.4.0.dylib &quot;$TARGET_BUILD_DIR/ 
</I>&gt;<i> $FULL_PRODUCT_NAME/Contents/MacOS/../Libraries/mono/lib/ 
</I>&gt;<i> libgmodule-2.0.0.600.3.dylib&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> export MONO_PATH=&quot;$TARGET_BUILD_DIR/$FULL_PRODUCT_NAME/Contents/ 
</I>&gt;<i> MacOS/../Libraries/mono/&quot;
</I>&gt;<i>
</I>&gt;<i> -- Eoin Norris
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 4 Dec 2006, at 10:14, R. Tyler Ballance wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Allan, I know you aren't one for sharing your magical secrets, but  
</I>&gt;&gt;<i> I'm starting to seriously consider spending the next month or so  
</I>&gt;&gt;<i> dedicated to working on a Mono project that would be initially  
</I>&gt;&gt;<i> released as a Cocoa/Mono application (via Dumbarton) but the one  
</I>&gt;&gt;<i> thing I would like to be keen on before beginning is the  
</I>&gt;&gt;<i> feasibility of bundling the necessary Mono dylibs with my .app.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I really do like the Dumbarton project, and I'd probably have a  
</I>&gt;&gt;<i> similar use for it that imeem does (my networking, &quot;business  
</I>&gt;&gt;<i> logic&quot; core of the app), but the actual bundle-linkage-foo that  
</I>&gt;&gt;<i> you guys perform isn't too well know.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So here's what I'm thinking, I know documenting eccentric build  
</I>&gt;&gt;<i> and release processes is about as entertaining as burning your  
</I>&gt;&gt;<i> hand with a toaster (breakfast was fun today), but I'll put up a  
</I>&gt;&gt;<i> bounty if it will help.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd be more than happy to send you and Alf some good Shiner Bock  
</I>&gt;&gt;<i> (fantastic Texas brew) if you guys can document something to the  
</I>&gt;&gt;<i> point of being usable for distributing Cocoa/Mono applications.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If that's not enough to convince you, I'll throw in erm....a...a  
</I>&gt;&gt;<i> box of paper clips, and a tube of chap stick; whatever I can do to  
</I>&gt;&gt;<i> procure some of that information out of you guys ;)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers
</I>&gt;&gt;<i> R. Tyler Ballance: Custom Mac and Linux Development at bleep.  
</I>&gt;&gt;<i> consulting
</I>&gt;&gt;<i> contact: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">tyler at bleepconsulting.com</A> | jabber: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">tyler at jabber.geekisp.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-osx mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-osx mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20061204/397c1936/attachment-0001.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20061204/397c1936/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000701.html">[Mono-osx] Bundling Mono for Dumbarton
</A></li>
	<LI>Next message: <A HREF="000703.html">[Mono-osx] Bundling Mono for Dumbarton
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#702">[ date ]</a>
              <a href="thread.html#702">[ thread ]</a>
              <a href="subject.html#702">[ subject ]</a>
              <a href="author.html#702">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
