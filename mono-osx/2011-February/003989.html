<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] NSKeyValueObserving with NSCollectionView
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20NSKeyValueObserving%20with%20NSCollectionView&In-Reply-To=AANLkTin1hrb6qk5xxi3PXG04hBKc1DWUsAatqXS04hDi%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003988.html">
   <LINK REL="Next"  HREF="003994.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] NSKeyValueObserving with NSCollectionView</H1>
    <B>flohei</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20NSKeyValueObserving%20with%20NSCollectionView&In-Reply-To=AANLkTin1hrb6qk5xxi3PXG04hBKc1DWUsAatqXS04hDi%40mail.gmail.com"
       TITLE="[Mono-osx] NSKeyValueObserving with NSCollectionView">flo at rootof.net
       </A><BR>
    <I>Tue Feb  8 10:02:34 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003988.html">[Mono-osx] NSKeyValueObserving with NSCollectionView
</A></li>
        <LI>Next message: <A HREF="003994.html">[Mono-osx] NSKeyValueObserving with NSCollectionView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3989">[ date ]</a>
              <a href="thread.html#3989">[ thread ]</a>
              <a href="subject.html#3989">[ subject ]</a>
              <a href="author.html#3989">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Miguel,

thanks for your reply. I just found an old article on your blog (<A HREF="http://monomac.wordpress.com/2010/12/07/key-value-coding/">http://monomac.wordpress.com/2010/12/07/key-value-coding/</A>) which describes that. Though I'm now exporting the data source property in my WindowController and within the data source the properties it doesn't work for me. MonoMac keeps telling me (at runtime)

HIToolbox: ignoring exception '[&lt;WindowController 0x3944b10&gt; addObserver:&lt;NSAutounbinderObservance 0x5b6590&gt; forKeyPath:@&quot;DataSource.Partners&quot; options:0x0 context:0x5b2c80] was sent to an object that is not KVC-compliant for the &quot;DataSource&quot; property.' that raised inside Carbon event dispatch

This is how I do this in the WindowController

PartnerDataController dataSource;
		
[Export]
public PartnerDataController DataSource {
	get { return dataSource; }
}

and this is a part of the data source class

NSMutableDictionary [] partnerArray;
NSIndexSet selectionIndexes;

[Export]
public NSArray Partners {
	get {
		return NSArray.FromNSObjects(partnerArray);
	} set {
		partnerArray = NSArray.ArrayFromHandle&lt;NSMutableDictionary&gt;(value.Handle);
	}
}
		
[Export]
public NSIndexSet SelectionIndexes {
	get {
		return selectionIndexes;
	} set {
		selectionIndexes = value;
	}
}

In Interface Builder I have set the bindings to File's Owner's DataSource.Partners, etc.

&#8211;f

On 08.02.2011, at 15:48, Miguel de Icaza [via Mono] wrote:

&gt;<i> &gt; I have a case where I create my own data source for a NSCollectionView. In 
</I>&gt;<i> &gt; plain Obj-C/Cocoa I would create a class adopting the NSKeyValueObserving 
</I>&gt;<i> &gt; Protocol to realize this. Unfortunately this class seems to be not 
</I>&gt;<i> &gt; implemented yet. How do you guys do this? 
</I>&gt;<i> 
</I>&gt;<i> All you need is to flag the various methods you want with the proper 
</I>&gt;<i> [Export] value. 
</I>&gt;<i> 
</I>&gt;<i> See the MonoMac page for a couple of links to tutorials on doing this. 
</I>&gt;<i> 
</I>&gt;<i> Miguel 
</I>&gt;<i> _______________________________________________ 
</I>&gt;<i> Mono-osx mailing list 
</I>&gt;<i> [hidden email] 
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> If you reply to this email, your message will be added to the discussion below:
</I>&gt;<i> <A HREF="http://mono.1490590.n4.nabble.com/NSKeyValueObserving-with-NSCollectionView-tp3275746p3276062.html">http://mono.1490590.n4.nabble.com/NSKeyValueObserving-with-NSCollectionView-tp3275746p3276062.html</A>
</I>&gt;<i> To unsubscribe from NSKeyValueObserving with NSCollectionView, click here.
</I>

-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/NSKeyValueObserving-with-NSCollectionView-tp3275746p3276086.html">http://mono.1490590.n4.nabble.com/NSKeyValueObserving-with-NSCollectionView-tp3275746p3276086.html</A>
Sent from the Mono - OSX mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20110208/40c8230e/attachment.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20110208/40c8230e/attachment.html</A> 
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003988.html">[Mono-osx] NSKeyValueObserving with NSCollectionView
</A></li>
	<LI>Next message: <A HREF="003994.html">[Mono-osx] NSKeyValueObserving with NSCollectionView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3989">[ date ]</a>
              <a href="thread.html#3989">[ thread ]</a>
              <a href="subject.html#3989">[ subject ]</a>
              <a href="author.html#3989">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
