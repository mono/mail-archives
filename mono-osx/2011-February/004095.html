<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] libgdiplus with MonoMac
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20libgdiplus%20with%20MonoMac&In-Reply-To=AANLkTinadMUKFSuQxRt6i2284Lobe3H9Erphrb%2BFsZpf%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004094.html">
   <LINK REL="Next"  HREF="004115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] libgdiplus with MonoMac</H1>
    <B>Geoff Norton</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20libgdiplus%20with%20MonoMac&In-Reply-To=AANLkTinadMUKFSuQxRt6i2284Lobe3H9Erphrb%2BFsZpf%40mail.gmail.com"
       TITLE="[Mono-osx] libgdiplus with MonoMac">gnorton at novell.com
       </A><BR>
    <I>Sat Feb 26 17:38:34 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004094.html">[Mono-osx] libgdiplus with MonoMac
</A></li>
        <LI>Next message: <A HREF="004115.html">[Mono-osx] AOT error on the new 2.10.1 build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4095">[ date ]</a>
              <a href="thread.html#4095">[ thread ]</a>
              <a href="subject.html#4095">[ subject ]</a>
              <a href="author.html#4095">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Are you running the latest MonoMac addin?  This was fixed in the last preview.

If you are, please file a bug with a test case.

-g

On 2011-02-26, at 2:16 PM, Clay Fowler wrote:

&gt;<i> We're using the drawing bridge to do libgdiplus drawing in custom Cocoa views (which is *wonderful*), and everything works great when run from MonoDevelop. But when trying to run the app bundle outside of MonoDevelop we always get some variation of the problem below when we call NSApplication.InitDrawingBridge() (it looks like libgdiplus wants to find a function called uname in libc, but Mono can't find libc.dylib):
</I>&gt;<i> 
</I>&gt;<i> Mono: DllImport loading: '/Library/Frameworks/Mono.framework/Versions/2.10/lib/libgdiplus.dylib'.
</I>&gt;<i> Mono: Searching for 'GdiplusStartup'.
</I>&gt;<i> Mono: Probing 'GdiplusStartup'.
</I>&gt;<i> Mono: Found as 'GdiplusStartup'.
</I>&gt;<i> Mono: DllImport attempting to load: 'libc.dylib'.
</I>&gt;<i> Mono: DllImport loading library: '/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/gac/System.Drawing/4.0.0.0__b03f5f7f11d50a3a/libc.dylib'.
</I>&gt;<i> Mono: DllImport error loading library 'dlopen(/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/gac/System.Drawing/4.0.0.0__b03f5f7f11d50a3a/libc.dylib, 9): image not found'.
</I>&gt;<i> Mono: DllImport loading library: '/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/gac/System.Drawing/4.0.0.0__b03f5f7f11d50a3a/libc.dylib'.
</I>&gt;<i> Mono: DllImport error loading library 'dlopen(/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/gac/System.Drawing/4.0.0.0__b03f5f7f11d50a3a/libc.dylib, 9): image not found'.
</I>&gt;<i> Mono: DllImport loading library: '/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/gac/System.Drawing/4.0.0.0__b03f5f7f11d50a3a/libc.dylib.so'.
</I>&gt;<i> Mono: DllImport error loading library 'dlopen(/Library/Frameworks/Mono.framework/VersiSystem.TypeInitializationException: An exception was thrown by the type initializer for System.Drawing.G
</I>&gt;<i> DIPlus ---&gt; System.DllNotFoundException: libc.dylib
</I>&gt;<i>   at (wrapper managed-to-native) System.Drawing.GDIPlus:uname (intptr)
</I>&gt;<i>   at System.Drawing.GDIPlus..cctor () [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   --- End of inner exception stack trace ---
</I>&gt;<i> at (wrapper managed-to-native) System.Reflection.MonoField.SetValueInternal (System.Reflection.FieldInfo,object,object) &lt;0x00003&gt;
</I>&gt;<i> at System.Reflection.MonoField.SetValue (object,object,System.Reflection.BindingFlags,System.Reflection.Binder,System.Globalization.CultureInfo) &lt;0x000d3&gt;
</I>&gt;<i> at System.Reflection.FieldInfo.SetValue (object,object) &lt;0x00022&gt;
</I>&gt;<i> at MonoMac.AppKit.NSApplication.InitDrawingBridge () &lt;0x00087&gt;
</I>&gt;<i> at SteamPunkMacHost.AnnotationView.DrawRect (System.Drawing.RectangleF) &lt;0x0001f&gt;
</I>&gt;<i> at (wrapper dynamic-method) object.[SteamPunkMacHost.AnnotationView.Void DrawRect(RectangleF)] (MonoMac.Foundation.NSObject,MonoMac.ObjCRuntime.Selector,System.Drawing.RectangleF) &lt;0x0004e&gt;
</I>&gt;<i> at (wrapper native-to-managed) object.[SteamPunkMacHost.AnnotationView.Void DrawRect(RectangleF)] (MonoMac.Foundation.NSObject,MonoMac.ObjCRuntime.Selector,System.Drawing.RectangleF) &lt;0x000c9&gt; 
</I>&gt;<i> at (wrapper managed-to-native) MonoMac.ObjCRuntime.Messaging.IntPtr_objc_msgSendSuper (intptr,intptr) &lt;0x00003&gt;
</I>&gt;<i> at MonoMac.AppKit.NSWindowController.get_Window () &lt;0x00081&gt;
</I>&gt;<i> at SteamPunkMacHost.MainWindowController.get_Window () &lt;0x00015&gt;
</I>&gt;<i> at SteamPunkMacHost.AppDelegate.FinishedLaunching (MonoMac.Foundation.NSObject) &lt;0x00047&gt;
</I>&gt;<i> 
</I>&gt;<i> Any ideas?
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-osx mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20110226/75c744d6/attachment.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20110226/75c744d6/attachment.html</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004094.html">[Mono-osx] libgdiplus with MonoMac
</A></li>
	<LI>Next message: <A HREF="004115.html">[Mono-osx] AOT error on the new 2.10.1 build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4095">[ date ]</a>
              <a href="thread.html#4095">[ thread ]</a>
              <a href="subject.html#4095">[ subject ]</a>
              <a href="author.html#4095">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
