<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] libgdiplus with MonoMac
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20libgdiplus%20with%20MonoMac&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004093.html">
   <LINK REL="Next"  HREF="004095.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] libgdiplus with MonoMac</H1>
    <B>Clay Fowler</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20libgdiplus%20with%20MonoMac&In-Reply-To="
       TITLE="[Mono-osx] libgdiplus with MonoMac">paul.clay.fowler at gmail.com
       </A><BR>
    <I>Sat Feb 26 14:16:12 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004093.html">[Mono-osx] Mono 2.10.1
</A></li>
        <LI>Next message: <A HREF="004095.html">[Mono-osx] libgdiplus with MonoMac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4094">[ date ]</a>
              <a href="thread.html#4094">[ thread ]</a>
              <a href="subject.html#4094">[ subject ]</a>
              <a href="author.html#4094">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We're using the drawing bridge to do libgdiplus drawing in custom Cocoa
views (which is *wonderful*), and everything works great when run from
MonoDevelop. But when trying to run the app bundle outside of MonoDevelop we
always get some variation of the problem below when we call
NSApplication.InitDrawingBridge() (it looks like libgdiplus wants to find a
function called uname in libc, but Mono can't find libc.dylib):

Mono: DllImport loading:
'/Library/Frameworks/Mono.framework/Versions/2.10/lib/libgdiplus.dylib'.
Mono: Searching for 'GdiplusStartup'.
Mono: Probing 'GdiplusStartup'.
Mono: Found as 'GdiplusStartup'.
Mono: DllImport attempting to load: 'libc.dylib'.
Mono: DllImport loading library:
'/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/gac/System.Drawing/4.0.0.0__b03f5f7f11d50a3a/libc.dylib'.
Mono: DllImport error loading library
'dlopen(/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/gac/System.Drawing/4.0.0.0__b03f5f7f11d50a3a/libc.dylib,
9): image not found'.
Mono: DllImport loading library:
'/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/gac/System.Drawing/4.0.0.0__b03f5f7f11d50a3a/libc.dylib'.
Mono: DllImport error loading library
'dlopen(/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/gac/System.Drawing/4.0.0.0__b03f5f7f11d50a3a/libc.dylib,
9): image not found'.
Mono: DllImport loading library:
'/Library/Frameworks/Mono.framework/Versions/2.10/lib/mono/gac/System.Drawing/4.0.0.0__b03f5f7f11d50a3a/
libc.dylib.so'.
Mono: DllImport error loading library
'dlopen(/Library/Frameworks/Mono.framework/VersiSystem.TypeInitializationException:
An exception was thrown by the type initializer for System.Drawing.G
DIPlus ---&gt; System.DllNotFoundException: libc.dylib
  at (wrapper managed-to-native) System.Drawing.GDIPlus:uname (intptr)
  at System.Drawing.GDIPlus..cctor () [0x00000] in &lt;filename unknown&gt;:0
  --- End of inner exception stack trace ---
at (wrapper managed-to-native) System.Reflection.MonoField.SetValueInternal
(System.Reflection.FieldInfo,object,object) &lt;0x00003&gt;
at System.Reflection.MonoField.SetValue
(object,object,System.Reflection.BindingFlags,System.Reflection.Binder,System.Globalization.CultureInfo)
&lt;0x000d3&gt;
at System.Reflection.FieldInfo.SetValue (object,object) &lt;0x00022&gt;
at MonoMac.AppKit.NSApplication.InitDrawingBridge () &lt;0x00087&gt;
at SteamPunkMacHost.AnnotationView.DrawRect (System.Drawing.RectangleF)
&lt;0x0001f&gt;
at (wrapper dynamic-method) object.[SteamPunkMacHost.AnnotationView.Void
DrawRect(RectangleF)]
(MonoMac.Foundation.NSObject,MonoMac.ObjCRuntime.Selector,System.Drawing.RectangleF)
&lt;0x0004e&gt;
at (wrapper native-to-managed) object.[SteamPunkMacHost.AnnotationView.Void
DrawRect(RectangleF)]
(MonoMac.Foundation.NSObject,MonoMac.ObjCRuntime.Selector,System.Drawing.RectangleF)
&lt;0x000c9&gt;
at (wrapper managed-to-native)
MonoMac.ObjCRuntime.Messaging.IntPtr_objc_msgSendSuper (intptr,intptr)
&lt;0x00003&gt;
at MonoMac.AppKit.NSWindowController.get_Window () &lt;0x00081&gt;
at SteamPunkMacHost.MainWindowController.get_Window () &lt;0x00015&gt;
at SteamPunkMacHost.AppDelegate.FinishedLaunching
(MonoMac.Foundation.NSObject) &lt;0x00047&gt;

Any ideas?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20110226/0c97655d/attachment.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20110226/0c97655d/attachment.html</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004093.html">[Mono-osx] Mono 2.10.1
</A></li>
	<LI>Next message: <A HREF="004095.html">[Mono-osx] libgdiplus with MonoMac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4094">[ date ]</a>
              <a href="thread.html#4094">[ thread ]</a>
              <a href="subject.html#4094">[ subject ]</a>
              <a href="author.html#4094">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
