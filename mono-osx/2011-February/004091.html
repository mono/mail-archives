<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] WebView WindowScriptObject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20WebView%20WindowScriptObject&In-Reply-To=60C4DFCE-56DC-47AF-B495-C26EEA44D5E3%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004090.html">
   <LINK REL="Next"  HREF="004093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] WebView WindowScriptObject</H1>
    <B>Clay Fowler</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20WebView%20WindowScriptObject&In-Reply-To=60C4DFCE-56DC-47AF-B495-C26EEA44D5E3%40novell.com"
       TITLE="[Mono-osx] WebView WindowScriptObject">paul.clay.fowler at gmail.com
       </A><BR>
    <I>Fri Feb 25 12:28:50 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004090.html">[Mono-osx] WebView WindowScriptObject
</A></li>
        <LI>Next message: <A HREF="004093.html">[Mono-osx] Mono 2.10.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4091">[ date ]</a>
              <a href="thread.html#4091">[ thread ]</a>
              <a href="subject.html#4091">[ subject ]</a>
              <a href="author.html#4091">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The Export attribute indeed fixed the problem. Thanks very much! It looks
like there's still some discussion as to whether or not to do the patch,
though?

On Fri, Feb 25, 2011 at 9:12 AM, Geoff Norton &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">gnorton at novell.com</A>&gt; wrote:

&gt;<i> It appears we dont have the WebScripting protocol bound as a [Model] yet:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/WebKit/Protocols/WebScripting_Protocol/Reference/Reference.html">http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/WebKit/Protocols/WebScripting_Protocol/Reference/Reference.html</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;<A HREF="http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/WebKit/Protocols/WebScripting_Protocol/Reference/Reference.html">http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/WebKit/Protocols/WebScripting_Protocol/Reference/Reference.html</A>&gt;If
</I>&gt;<i> we did you would want to have your NativeMessageReceiver inherit from
</I>&gt;<i> WebScripting and override the methods.
</I>&gt;<i>
</I>&gt;<i> Would you like to submit a patch to the webkit bindings that does this?
</I>&gt;<i>
</I>&gt;<i> In the mean time you can use
</I>&gt;<i>
</I>&gt;<i> [Export (&quot;isSelectorExcludedFromWebScript:&quot;)]
</I>&gt;<i> static bool IsSelectorExcluded (Selector s) {
</I>&gt;<i>   return false;
</I>&gt;<i> }
</I>&gt;<i> On 2011-02-25, at 11:01 AM, Clay Fowler wrote:
</I>&gt;<i>
</I>&gt;<i> Is anyone successfully using WindowScriptObject in WebView to have
</I>&gt;<i> Javascript communicate with your C# classes in a MonoMac project? I'm trying
</I>&gt;<i> to do things like this:
</I>&gt;<i>
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> webView.WindowScriptObject.SetValueForKey(new NativeMessageReceiver(),new
</I>&gt;<i> NSString(&quot;NativeMessageReceiver&quot;));
</I>&gt;<i>
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> NSString handleMessage(NSString messageText)
</I>&gt;<i> {
</I>&gt;<i>  Console.Out.WriteLine(&quot;Got message from page [&quot; + messageText + &quot;]&quot;);
</I>&gt;<i> return new NSString(&quot;OK&quot;);
</I>&gt;<i>  }
</I>&gt;<i>
</I>&gt;<i> bool isSelectorExcludedFromWebScript(Selector s)
</I>&gt;<i> {
</I>&gt;<i>  return false;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> But &quot;isSelectorExcludedFromWebScript&quot; and &quot;handleMessage&quot; never get called.
</I>&gt;<i>
</I>&gt;<i> Any tips?
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-osx mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20110225/6a97c42c/attachment-0001.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20110225/6a97c42c/attachment-0001.html</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004090.html">[Mono-osx] WebView WindowScriptObject
</A></li>
	<LI>Next message: <A HREF="004093.html">[Mono-osx] Mono 2.10.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4091">[ date ]</a>
              <a href="thread.html#4091">[ thread ]</a>
              <a href="subject.html#4091">[ subject ]</a>
              <a href="author.html#4091">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
