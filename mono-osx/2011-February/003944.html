<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] How can a custom library be included in a package.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20How%20can%20a%20custom%20library%20be%20included%20in%20a%20package.&In-Reply-To=1296692756441-3256437.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003943.html">
   <LINK REL="Next"  HREF="003945.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] How can a custom library be included in a package.</H1>
    <B>Geoff Norton</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20How%20can%20a%20custom%20library%20be%20included%20in%20a%20package.&In-Reply-To=1296692756441-3256437.post%40n4.nabble.com"
       TITLE="[Mono-osx] How can a custom library be included in a package.">gnorton at novell.com
       </A><BR>
    <I>Wed Feb  2 20:34:45 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003943.html">[Mono-osx] How can a custom library be included in a package.
</A></li>
        <LI>Next message: <A HREF="003945.html">[Mono-osx] How can a custom library be included in a package.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3944">[ date ]</a>
              <a href="thread.html#3944">[ thread ]</a>
              <a href="subject.html#3944">[ subject ]</a>
              <a href="author.html#3944">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

On 2011-02-02, at 7:25 PM, JasonZ wrote:

&gt;<i> 
</I>&gt;<i> I have a MonoMac project that depends on some libraries that are not part of
</I>&gt;<i> the MonoMac project and not standard to OS/X.  When I build a Mac Installer
</I>&gt;<i> the libraries are not included... I would like to manually include them. 
</I>&gt;<i> How is that done?
</I>&gt;<i> 
</I>&gt;<i> The details of this project are a bit complex, so if the question above
</I>&gt;<i> cannot be answered here's some more info:
</I>&gt;<i> 
</I>&gt;<i> This is a project I inherited and it includes
</I>&gt;<i> - third party libraries
</I>&gt;<i> - C libraries (as part of the project but not in MonoDevelop)
</I>&gt;<i> - .Net UI
</I>&gt;<i> - command line executable written in C (not .Net)
</I>&gt;<i> 
</I>&gt;<i> I can compile and run the project fine on OS/X.  I can build an application
</I>&gt;<i> bundle (which doesn't include the libraries or command line executable)
</I>&gt;<i> which runs on the development machine.  The application bundle does not,
</I>&gt;<i> obviously, run on any other machine because it doesn't include the
</I>&gt;<i> libraries.
</I>
We're working on a more general system for external frameworks and libraries, but in the meantime you can add the native dependencies and add them to your project as, and mark them as &quot;Content&quot;.  This will end them up in the &quot;Resources' directory of your application bundle.

The monomac bundler currently (subject to change) does a cwd into the Resources directory before beginning execution, so I think [DllImport (&quot;libname.dylib&quot;)] should just work, if it doesn't you can use the newly exported Dlfcn class in MonoMac.ObjCRuntime, and Dlopen the explicit path built from NSBundle.MainBundle.ResourcePath + libname.dylib, then [DllImport (&quot;__Internal&quot;)] will work.

As stated earlier, we're planning on cleaning this up going forward, but that should get you going for now.

As for your command line executable, it should look in cwd for $PATH, so it should just be fine.

-g

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003943.html">[Mono-osx] How can a custom library be included in a package.
</A></li>
	<LI>Next message: <A HREF="003945.html">[Mono-osx] How can a custom library be included in a package.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3944">[ date ]</a>
              <a href="thread.html#3944">[ thread ]</a>
              <a href="subject.html#3944">[ subject ]</a>
              <a href="author.html#3944">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
