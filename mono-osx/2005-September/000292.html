<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Runtime error with Mono 1.1.9
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Runtime%20error%20with%20Mono%201.1.9&In-Reply-To=597c66d70509160431fc2db58%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000291.html">
   <LINK REL="Next"  HREF="000294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Runtime error with Mono 1.1.9</H1>
    <B>kangaroo</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Runtime%20error%20with%20Mono%201.1.9&In-Reply-To=597c66d70509160431fc2db58%40mail.gmail.com"
       TITLE="[Mono-osx] Runtime error with Mono 1.1.9">grompf at sublimeintervention.com
       </A><BR>
    <I>Fri Sep 16 14:12:29 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000291.html">[Mono-osx] MacPack Update
</A></li>
        <LI>Next message: <A HREF="000294.html">[Mono-osx] mono embedding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#292">[ date ]</a>
              <a href="thread.html#292">[ thread ]</a>
              <a href="subject.html#292">[ subject ]</a>
              <a href="author.html#292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Get me a gdb backtrace; with info registers at the end.

-g

On 16-Sep-05, at 7:31 AM, Frank Mantek wrote:

&gt;<i> I can share the pain. I am in the process of porting a WinForm app  
</I>&gt;<i> as well, and i am getting the same callstack/crash when trying to  
</I>&gt;<i> run the
</I>&gt;<i> program from an XTerminal window.
</I>&gt;<i>
</I>&gt;<i> Anyone a clue? As the app is just a testframework, i can switch to  
</I>&gt;<i> a commandline based one, or use NUnit (btw, is there a working UI  
</I>&gt;<i> version of NUnit GUI for the mac? ) - but it would be nice to fix  
</I>&gt;<i> this.
</I>&gt;<i>
</I>&gt;<i> What kind of help from us is needed to locate  thei issue ?
</I>&gt;<i>
</I>&gt;<i> Frank
</I>&gt;<i>
</I>&gt;<i> On 9/12/05, Gareth Baker &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">g.j.baker at dl.ac.uk</A>&gt; wrote:
</I>&gt;<i> No go - dumped receipts and did re-install of X11 &amp; X11SDK.
</I>&gt;<i>
</I>&gt;<i> Still the same problem.
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i> Gareth Baker
</I>&gt;<i>
</I>&gt;<i> Top slice of mono.crash.log:
</I>&gt;<i>
</I>&gt;<i> Host Name:      Gareth-Bakers-Computer
</I>&gt;<i> Date/Time:      2005-09-12 14:55: 27.320 +0100
</I>&gt;<i> OS Version:     10.4.2 (Build 8C46)
</I>&gt;<i> Report Version: 3
</I>&gt;<i>
</I>&gt;<i> Command: mono
</I>&gt;<i> Path:    /usr/bin/mono
</I>&gt;<i> Parent:  sh [466]
</I>&gt;<i>
</I>&gt;<i> Version: ??? (1.0)
</I>&gt;<i>
</I>&gt;<i> PID:    474
</I>&gt;<i> Thread: 0
</I>&gt;<i>
</I>&gt;<i> Exception:  EXC_BAD_ACCESS (0x0001)
</I>&gt;<i> Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000
</I>&gt;<i>
</I>&gt;<i> Thread 0 Crashed:
</I>&gt;<i> 0   libgdiplus.dylib      0x02297784 GetFontMetrics + 44  
</I>&gt;<i> (icplusplus.c:27)
</I>&gt;<i> 1   &lt;&lt;00000000&gt;&gt;     0x03e07270 0 + 65041008
</I>&gt;<i> 2   &lt;&lt;00000000&gt;&gt;     0x03e06c4c 0 + 65039436
</I>&gt;<i> 3   &lt;&lt;00000000&gt;&gt;     0x03e06bd4 0 + 65039316
</I>&gt;<i> 4   &lt;&lt;00000000&gt;&gt;     0x03df44c0 0 + 64963776
</I>&gt;<i> 5   &lt;&lt;00000000&gt;&gt;     0x03df3c38 0 + 64961592
</I>&gt;<i> 6   &lt;&lt;00000000&gt;&gt;     0x03df3af8 0 + 64961272
</I>&gt;<i> 7   &lt;&lt;00000000&gt;&gt;     0x03e0524c 0 + 65032780
</I>&gt;<i> 8   &lt;&lt;00000000&gt;&gt;     0x03e061b4 0 + 65036724
</I>&gt;<i> 9   &lt;&lt;00000000&gt;&gt;     0x03e05e10 0 + 65035792
</I>&gt;<i> 10  &lt;&lt;00000000&gt;&gt;     0x010c51c0 0 + 17584576
</I>&gt;<i> 11  &lt;&lt;00000000&gt;&gt;     0x004f11d8 0 + 5181912
</I>&gt;<i> 12  &lt;&lt;00000000&gt;&gt;     0x004f114c 0 + 5181772
</I>&gt;<i> 13  &lt;&lt;00000000&gt;&gt;     0x004f108c 0 + 5181580
</I>&gt;<i> 14  &lt;&lt;00000000&gt;&gt;     0x004eec28 0 + 5172264
</I>&gt;<i> 15  mono                  0x000301e8 mono_jit_runtime_invoke + 280
</I>&gt;<i> (mini.c:9649)
</I>&gt;<i> 16  mono                  0x000a3b34 mono_runtime_invoke + 84
</I>&gt;<i> (object.c:1311)
</I>&gt;<i> 17  mono                  0x000a56ec mono_runtime_exec_main + 416
</I>&gt;<i> (object.c:2012)
</I>&gt;<i> 18  mono                  0x000a51fc mono_runtime_run_main + 856
</I>&gt;<i> (object.c:1869)
</I>&gt;<i> 19  mono                  0x00003608 mono_jit_exec + 180 (driver.c: 
</I>&gt;<i> 494)
</I>&gt;<i> 20  mono                  0x00003720 main_thread_handler + 248
</I>&gt;<i> (driver.c:531)
</I>&gt;<i> 21  mono                  0x00004a8c mono_main + 4456 (driver.c:937)
</I>&gt;<i> 22  mono                  0x000023ac main + 40 (main.c:6)
</I>&gt;<i> 23  mono                  0x00001e74 _start + 392 (crt.c:267)
</I>&gt;<i> 24  dyld                  0x8fe01048 _dyld_start + 60
</I>&gt;<i>
</I>&gt;<i> Thread 1:
</I>&gt;<i> 0   libSystem.B.dylib     0x90042ae8 mach_wait_until + 8
</I>&gt;<i> 1   libSystem.B.dylib     0x900428a0 nanosleep + 384
</I>&gt;<i> 2   mono                  0x00180e34 collection_thread + 56
</I>&gt;<i> (collection.c:36)
</I>&gt;<i> 3   libSystem.B.dylib     0x9002c3d4 _pthread_body + 96
</I>&gt;<i>
</I>&gt;<i> Thread 2:
</I>&gt;<i> 0   libSystem.B.dylib     0x90056418  
</I>&gt;<i> semaphore_timedwait_signal_trap + 8
</I>&gt;<i> 1   libSystem.B.dylib      0x90056284 pthread_cond_timedwait + 704
</I>&gt;<i> 2   mono                  0x00156f84 timedwait_signal_poll_cond + 164
</I>&gt;<i> (handles.c:1251)
</I>&gt;<i> 3   mono                  0x0015734c  
</I>&gt;<i> _wapi_handle_timedwait_signal_handle +
</I>&gt;<i> 520 (handles.c:1338)
</I>&gt;<i> 4   mono                  0x00157128  
</I>&gt;<i> _wapi_handle_wait_signal_handle + 36
</I>&gt;<i> (handles.c:1298)
</I>&gt;<i> 5   mono                  0x00144024 WaitForSingleObjectEx + 548
</I>&gt;<i> (wait.c:179)
</I>&gt;<i> 6   mono                  0x0012ad50 finalizer_thread + 116 (gc.c:678)
</I>&gt;<i> 7   mono                  0x000aa11c start_wrapper + 300 (threads.c: 
</I>&gt;<i> 297)
</I>&gt;<i> 8   mono                  0x0015f4c0 timed_thread_start_routine + 284
</I>&gt;<i> (timed-thread.c:134)
</I>&gt;<i> 9   libSystem.B.dylib     0x9002c3d4 _pthread_body + 96
</I>&gt;<i>
</I>&gt;<i> Thread 3:
</I>&gt;<i> 0   libSystem.B.dylib     0x9000a778 mach_msg_trap + 8
</I>&gt;<i> 1   libSystem.B.dylib     0x9000a6bc mach_msg + 60
</I>&gt;<i> 2   com.unsanity.ape      0xc0002afc __ape_internal + 3300  
</I>&gt;<i> (icplusplus.c:28)
</I>&gt;<i> 3   com.unsanity.ape      0xc0001910 __ape_agent + 64 (icplusplus.c: 
</I>&gt;<i> 28)
</I>&gt;<i> 4   libSystem.B.dylib     0x9002c3d4 _pthread_body + 96
</I>&gt;<i>
</I>&gt;<i> Thread 0 crashed with PPC Thread State 64:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 9/12/05 2:26 PM, &quot;kangaroo&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">grompf at sublimeintervention.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Gareth,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    Could you do me a favor and please try reinstalling X11 from the
</I>&gt;<i> &gt; Apple Tiger install DVD and try it again?  You're getting a segfault
</I>&gt;<i> &gt; from FontConfig in Native land.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -g
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 12-Sep-05, at 5:39 AM, Gareth Baker wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; I am getting a runtime error when running some macpacked SWF/mono
</I>&gt;<i> &gt;&gt; 1.1.9
</I>&gt;<i> &gt;&gt; programmes. Simpler programmes seem ok (opening window and drawing
</I>&gt;<i> &gt;&gt; to simple
</I>&gt;<i> &gt;&gt; canvas), but adding textbaxes or menues causes the failure.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The error is the same from a native OSX (10.4) macpacked programme
</I>&gt;<i> &gt;&gt; and the
</I>&gt;<i> &gt;&gt; same programme compiled and run under X11.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The console output:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; ===== Sunday, September 11, 2005 10:16:53 PM Europe/London =====
</I>&gt;<i> &gt;&gt; Mono System.Windows.Forms Assembly [Revision: 44786; built:  
</I>&gt;<i> 2005/5/25
</I>&gt;<i> &gt;&gt; 22:34:45]
</I>&gt;<i> &gt;&gt; mono[285]: Welcome to the WSX:Carbon
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Unhandled Exception: System.NullReferenceException: Object
</I>&gt;<i> &gt;&gt; reference not set
</I>&gt;<i> &gt;&gt; to an instance of an object
</I>&gt;<i> &gt;&gt; in &lt;0x00000&gt; &lt;unknown method&gt;
</I>&gt;<i> &gt;&gt; in (wrapper managed-to-native)
</I>&gt;<i> &gt;&gt; System.Windows.Forms.XplatUIOSX:GetFontMetrics
</I>&gt;<i> &gt;&gt; (intptr,intptr,int&amp;,int&amp;)
</I>&gt;<i> &gt;&gt; in &lt;0x00060&gt; System.Windows.Forms.XplatUIOSX:GetFontMetrics
</I>&gt;<i> &gt;&gt; (System.Drawing.Graphics g, System.Drawing.Font font, System.Int32
</I>&gt;<i> &gt;&gt; ascent,
</I>&gt;<i> &gt;&gt; System.Int32 descent)
</I>&gt;<i> &gt;&gt; in &lt;0x00058&gt; System.Windows.Forms.XplatUI:GetFontMetrics
</I>&gt;<i> &gt;&gt; ( System.Drawing.Graphics g, System.Drawing.Font font, System.Int32
</I>&gt;<i> &gt;&gt; ascent,
</I>&gt;<i> &gt;&gt; System.Int32 descent)
</I>&gt;<i> &gt;&gt; in &lt;0x00434&gt; System.Windows.Forms.Line:RecalculateLine
</I>&gt;<i> &gt;&gt; (System.Drawing.Graphics g, System.Windows.Forms.Document doc)
</I>&gt;<i> &gt;&gt; in &lt;0x000fc&gt; System.Windows.Forms.Document:RecalculateDocument
</I>&gt;<i> &gt;&gt; (System.Drawing.Graphics g, Int32 start, Int32 end, Boolean  
</I>&gt;<i> optimize)
</I>&gt;<i> &gt;&gt; in &lt;0x0002c&gt; System.Windows.Forms.Document:RecalculateDocument
</I>&gt;<i> &gt;&gt; (System.Drawing.Graphics g)
</I>&gt;<i> &gt;&gt; in &lt;0x00038&gt; System.Windows.Forms.TextBoxBase:CalculateDocument ()
</I>&gt;<i> &gt;&gt; in &lt;0x00388&gt; System.Windows.Forms.TextBoxBase:set_Text
</I>&gt;<i> &gt;&gt; (System.String value)
</I>&gt;<i> &gt;&gt; in &lt;0x0001c&gt; System.Windows.Forms.TextBox:set_Text (System.String
</I>&gt;<i> &gt;&gt; value)
</I>&gt;<i> &gt;&gt; in &lt;0x0033c&gt; MyFormProject.MainForm:InitializeComponent ()
</I>&gt;<i> &gt;&gt; in &lt;0x0001c&gt; MyFormProject.MainForm:.ctor ()
</I>&gt;<i> &gt;&gt; in (wrapper remoting-invoke-with-check)
</I>&gt;<i> &gt;&gt; MyFormProject.MainForm:.ctor ()
</I>&gt;<i> &gt;&gt; in &lt;0x00030&gt; MyFormProject.MainForm:Main (System.String[] args)
</I>&gt;<i> &gt;&gt; Sep 11 22:17:04 Gareth-Bakers-Computer crashdump[286]: mono crashed
</I>&gt;<i> &gt;&gt; Sep 11 22:17:05 Gareth-Bakers-Computer crashdump[286]: crash report
</I>&gt;<i> &gt;&gt; written
</I>&gt;<i> &gt;&gt; to: /Users/garethba/Library/Logs/CrashReporter/mono.crash.log
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The programme and the makefile are attached.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Any help would be appreciated.
</I>&gt;<i> &gt;&gt; Regards
</I>&gt;<i> &gt;&gt; Gareth Baker
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &lt;Converter.cs&gt;
</I>&gt;<i> &gt;&gt; &lt;Makefile&gt;
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Mono-osx mailing list
</I>&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-osx mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20050916/509c13ec/attachment-0001.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20050916/509c13ec/attachment-0001.html</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000291.html">[Mono-osx] MacPack Update
</A></li>
	<LI>Next message: <A HREF="000294.html">[Mono-osx] mono embedding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#292">[ date ]</a>
              <a href="thread.html#292">[ thread ]</a>
              <a href="subject.html#292">[ subject ]</a>
              <a href="author.html#292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
