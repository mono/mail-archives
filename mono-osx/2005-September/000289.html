<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Runtime error with Mono 1.1.9
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Runtime%20error%20with%20Mono%201.1.9&In-Reply-To=49F1CE9C-C7D9-407C-9ABB-0D73119C422B%40sublimeintervention.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000287.html">
   <LINK REL="Next"  HREF="000288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Runtime error with Mono 1.1.9</H1>
    <B>Gareth Baker</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Runtime%20error%20with%20Mono%201.1.9&In-Reply-To=49F1CE9C-C7D9-407C-9ABB-0D73119C422B%40sublimeintervention.com"
       TITLE="[Mono-osx] Runtime error with Mono 1.1.9">g.j.baker at dl.ac.uk
       </A><BR>
    <I>Mon Sep 12 10:27:45 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000287.html">[Mono-osx] Runtime error with Mono 1.1.9
</A></li>
        <LI>Next message: <A HREF="000288.html">[Mono-osx] Runtime error with Mono 1.1.9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#289">[ date ]</a>
              <a href="thread.html#289">[ thread ]</a>
              <a href="subject.html#289">[ subject ]</a>
              <a href="author.html#289">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>No go - dumped receipts and did re-install of X11 &amp; X11SDK.

Still the same problem.

Regards
Gareth Baker

Top slice of mono.crash.log:

Host Name:      Gareth-Bakers-Computer
Date/Time:      2005-09-12 14:55:27.320 +0100
OS Version:     10.4.2 (Build 8C46)
Report Version: 3

Command: mono
Path:    /usr/bin/mono
Parent:  sh [466]

Version: ??? (1.0)

PID:    474
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000

Thread 0 Crashed:
0   libgdiplus.dylib      0x02297784 GetFontMetrics + 44 (icplusplus.c:27)
1   &lt;&lt;00000000&gt;&gt;     0x03e07270 0 + 65041008
2   &lt;&lt;00000000&gt;&gt;     0x03e06c4c 0 + 65039436
3   &lt;&lt;00000000&gt;&gt;     0x03e06bd4 0 + 65039316
4   &lt;&lt;00000000&gt;&gt;     0x03df44c0 0 + 64963776
5   &lt;&lt;00000000&gt;&gt;     0x03df3c38 0 + 64961592
6   &lt;&lt;00000000&gt;&gt;     0x03df3af8 0 + 64961272
7   &lt;&lt;00000000&gt;&gt;     0x03e0524c 0 + 65032780
8   &lt;&lt;00000000&gt;&gt;     0x03e061b4 0 + 65036724
9   &lt;&lt;00000000&gt;&gt;     0x03e05e10 0 + 65035792
10  &lt;&lt;00000000&gt;&gt;     0x010c51c0 0 + 17584576
11  &lt;&lt;00000000&gt;&gt;     0x004f11d8 0 + 5181912
12  &lt;&lt;00000000&gt;&gt;     0x004f114c 0 + 5181772
13  &lt;&lt;00000000&gt;&gt;     0x004f108c 0 + 5181580
14  &lt;&lt;00000000&gt;&gt;     0x004eec28 0 + 5172264
15  mono                  0x000301e8 mono_jit_runtime_invoke + 280
(mini.c:9649)
16  mono                  0x000a3b34 mono_runtime_invoke + 84
(object.c:1311)
17  mono                  0x000a56ec mono_runtime_exec_main + 416
(object.c:2012)
18  mono                  0x000a51fc mono_runtime_run_main + 856
(object.c:1869)
19  mono                  0x00003608 mono_jit_exec + 180 (driver.c:494)
20  mono                  0x00003720 main_thread_handler + 248
(driver.c:531)
21  mono                  0x00004a8c mono_main + 4456 (driver.c:937)
22  mono                  0x000023ac main + 40 (main.c:6)
23  mono                  0x00001e74 _start + 392 (crt.c:267)
24  dyld                  0x8fe01048 _dyld_start + 60

Thread 1:
0   libSystem.B.dylib     0x90042ae8 mach_wait_until + 8
1   libSystem.B.dylib     0x900428a0 nanosleep + 384
2   mono                  0x00180e34 collection_thread + 56
(collection.c:36)
3   libSystem.B.dylib     0x9002c3d4 _pthread_body + 96

Thread 2:
0   libSystem.B.dylib     0x90056418 semaphore_timedwait_signal_trap + 8
1   libSystem.B.dylib     0x90056284 pthread_cond_timedwait + 704
2   mono                  0x00156f84 timedwait_signal_poll_cond + 164
(handles.c:1251)
3   mono                  0x0015734c _wapi_handle_timedwait_signal_handle +
520 (handles.c:1338)
4   mono                  0x00157128 _wapi_handle_wait_signal_handle + 36
(handles.c:1298)
5   mono                  0x00144024 WaitForSingleObjectEx + 548
(wait.c:179)
6   mono                  0x0012ad50 finalizer_thread + 116 (gc.c:678)
7   mono                  0x000aa11c start_wrapper + 300 (threads.c:297)
8   mono                  0x0015f4c0 timed_thread_start_routine + 284
(timed-thread.c:134)
9   libSystem.B.dylib     0x9002c3d4 _pthread_body + 96

Thread 3:
0   libSystem.B.dylib     0x9000a778 mach_msg_trap + 8
1   libSystem.B.dylib     0x9000a6bc mach_msg + 60
2   com.unsanity.ape      0xc0002afc __ape_internal + 3300 (icplusplus.c:28)
3   com.unsanity.ape      0xc0001910 __ape_agent + 64 (icplusplus.c:28)
4   libSystem.B.dylib     0x9002c3d4 _pthread_body + 96

Thread 0 crashed with PPC Thread State 64:



On 9/12/05 2:26 PM, &quot;kangaroo&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">grompf at sublimeintervention.com</A>&gt; wrote:

&gt;<i> Gareth,
</I>&gt;<i> 
</I>&gt;<i>    Could you do me a favor and please try reinstalling X11 from the
</I>&gt;<i> Apple Tiger install DVD and try it again?  You're getting a segfault
</I>&gt;<i> from FontConfig in Native land.
</I>&gt;<i> 
</I>&gt;<i> -g
</I>&gt;<i> 
</I>&gt;<i> On 12-Sep-05, at 5:39 AM, Gareth Baker wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> I am getting a runtime error when running some macpacked SWF/mono
</I>&gt;&gt;<i> 1.1.9
</I>&gt;&gt;<i> programmes. Simpler programmes seem ok (opening window and drawing
</I>&gt;&gt;<i> to simple
</I>&gt;&gt;<i> canvas), but adding textbaxes or menues causes the failure.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The error is the same from a native OSX (10.4) macpacked programme
</I>&gt;&gt;<i> and the
</I>&gt;&gt;<i> same programme compiled and run under X11.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The console output:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> ===== Sunday, September 11, 2005 10:16:53 PM Europe/London =====
</I>&gt;&gt;<i> Mono System.Windows.Forms Assembly [Revision: 44786; built: 2005/5/25
</I>&gt;&gt;<i> 22:34:45]
</I>&gt;&gt;<i> mono[285]: Welcome to the WSX:Carbon
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Unhandled Exception: System.NullReferenceException: Object
</I>&gt;&gt;<i> reference not set
</I>&gt;&gt;<i> to an instance of an object
</I>&gt;&gt;<i> in &lt;0x00000&gt; &lt;unknown method&gt;
</I>&gt;&gt;<i> in (wrapper managed-to-native)
</I>&gt;&gt;<i> System.Windows.Forms.XplatUIOSX:GetFontMetrics
</I>&gt;&gt;<i> (intptr,intptr,int&amp;,int&amp;)
</I>&gt;&gt;<i> in &lt;0x00060&gt; System.Windows.Forms.XplatUIOSX:GetFontMetrics
</I>&gt;&gt;<i> (System.Drawing.Graphics g, System.Drawing.Font font, System.Int32
</I>&gt;&gt;<i> ascent,
</I>&gt;&gt;<i> System.Int32 descent)
</I>&gt;&gt;<i> in &lt;0x00058&gt; System.Windows.Forms.XplatUI:GetFontMetrics
</I>&gt;&gt;<i> (System.Drawing.Graphics g, System.Drawing.Font font, System.Int32
</I>&gt;&gt;<i> ascent,
</I>&gt;&gt;<i> System.Int32 descent)
</I>&gt;&gt;<i> in &lt;0x00434&gt; System.Windows.Forms.Line:RecalculateLine
</I>&gt;&gt;<i> (System.Drawing.Graphics g, System.Windows.Forms.Document doc)
</I>&gt;&gt;<i> in &lt;0x000fc&gt; System.Windows.Forms.Document:RecalculateDocument
</I>&gt;&gt;<i> (System.Drawing.Graphics g, Int32 start, Int32 end, Boolean optimize)
</I>&gt;&gt;<i> in &lt;0x0002c&gt; System.Windows.Forms.Document:RecalculateDocument
</I>&gt;&gt;<i> (System.Drawing.Graphics g)
</I>&gt;&gt;<i> in &lt;0x00038&gt; System.Windows.Forms.TextBoxBase:CalculateDocument ()
</I>&gt;&gt;<i> in &lt;0x00388&gt; System.Windows.Forms.TextBoxBase:set_Text
</I>&gt;&gt;<i> (System.String value)
</I>&gt;&gt;<i> in &lt;0x0001c&gt; System.Windows.Forms.TextBox:set_Text (System.String
</I>&gt;&gt;<i> value)
</I>&gt;&gt;<i> in &lt;0x0033c&gt; MyFormProject.MainForm:InitializeComponent ()
</I>&gt;&gt;<i> in &lt;0x0001c&gt; MyFormProject.MainForm:.ctor ()
</I>&gt;&gt;<i> in (wrapper remoting-invoke-with-check)
</I>&gt;&gt;<i> MyFormProject.MainForm:.ctor ()
</I>&gt;&gt;<i> in &lt;0x00030&gt; MyFormProject.MainForm:Main (System.String[] args)
</I>&gt;&gt;<i> Sep 11 22:17:04 Gareth-Bakers-Computer crashdump[286]: mono crashed
</I>&gt;&gt;<i> Sep 11 22:17:05 Gareth-Bakers-Computer crashdump[286]: crash report
</I>&gt;&gt;<i> written
</I>&gt;&gt;<i> to: /Users/garethba/Library/Logs/CrashReporter/mono.crash.log
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The programme and the makefile are attached.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Any help would be appreciated.
</I>&gt;&gt;<i> Regards
</I>&gt;&gt;<i> Gareth Baker
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> &lt;Converter.cs&gt;
</I>&gt;&gt;<i> &lt;Makefile&gt;
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-osx mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000287.html">[Mono-osx] Runtime error with Mono 1.1.9
</A></li>
	<LI>Next message: <A HREF="000288.html">[Mono-osx] Runtime error with Mono 1.1.9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#289">[ date ]</a>
              <a href="thread.html#289">[ thread ]</a>
              <a href="subject.html#289">[ subject ]</a>
              <a href="author.html#289">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
