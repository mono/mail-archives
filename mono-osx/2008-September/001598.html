<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Accessing a web service through a Web Proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Accessing%20a%20web%20service%20through%20a%20Web%20Proxy&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001603.html">
   <LINK REL="Next"  HREF="001599.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Accessing a web service through a Web Proxy</H1>
    <B>Anthony Bowker</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Accessing%20a%20web%20service%20through%20a%20Web%20Proxy&In-Reply-To="
       TITLE="[Mono-osx] Accessing a web service through a Web Proxy">anthony at flowol.com
       </A><BR>
    <I>Thu Sep 18 19:25:47 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001603.html">[Mono-osx] Using System.Drawing to render to a cocoa NSView
</A></li>
        <LI>Next message: <A HREF="001599.html">[Mono-osx] System.Environment.OperatingSystem.PlatformID value on	MacOSX?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1598">[ date ]</a>
              <a href="thread.html#1598">[ thread ]</a>
              <a href="subject.html#1598">[ subject ]</a>
              <a href="author.html#1598">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

 

I have written a client application using Mono running on Mac OSX which is a
client to my .NET web service (running on WS2K8).  I'm using VS 2K8 to
author my mono client and so used that to create my web reference and
generate my proxy class.  Thus, in my client I have code as such:

 

using (MyService service = new MyService ())

{

    //service.Proxy = something?

    service.Call();

}

 

This works fine on a Mac that is directly connected to the internet, but
fails when the Mac is behind a Web Proxy.  What I want is for my mono client
to use the Web Proxy settings that the user has already entered for their
computer in System Preferences -&gt; Network -&gt; Advanced -&gt; Proxies -&gt; Web
Proxy (HTTP).

 

According to the Microsoft documentation for the HttpWebClientProtocol.Proxy
Property, by default uses the operating system proxy settings.

 

What I've tried:

1. I've tried assigning service.Proxy = WebRequest.GetSystemWebProxy(), but
this doesn't work.

2. Mono 1.9.1 and 2.0 RC 1, no change

 

Possible ideas:

1. Use a native OSX API to get hold of the system proxy info, create my own
WebProxy object and use that.  Can anyone comment which would be the API to
look at here?

2. Add some ugly UI to make the user enter their proxy details specifically
for my app.

 

I am grateful for your suggestions.

 

Thanks,

Anthony

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20080918/0dc9ebdd/attachment.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20080918/0dc9ebdd/attachment.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001603.html">[Mono-osx] Using System.Drawing to render to a cocoa NSView
</A></li>
	<LI>Next message: <A HREF="001599.html">[Mono-osx] System.Environment.OperatingSystem.PlatformID value on	MacOSX?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1598">[ date ]</a>
              <a href="thread.html#1598">[ thread ]</a>
              <a href="subject.html#1598">[ subject ]</a>
              <a href="author.html#1598">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
