<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] MWF on macosx
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MWF%20on%20macosx&In-Reply-To=024801c90cd9%24ed309370%24c791ba50%24%40com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001567.html">
   <LINK REL="Next"  HREF="001570.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] MWF on macosx</H1>
    <B>David Suarez</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MWF%20on%20macosx&In-Reply-To=024801c90cd9%24ed309370%24c791ba50%24%40com"
       TITLE="[Mono-osx] MWF on macosx">listasdavid at codicesoftware.com
       </A><BR>
    <I>Thu Sep  4 12:27:28 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001567.html">[Mono-osx] MWF on macosx
</A></li>
        <LI>Next message: <A HREF="001570.html">[Mono-osx] MWF on macosx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1569">[ date ]</a>
              <a href="thread.html#1569">[ thread ]</a>
              <a href="subject.html#1569">[ subject ]</a>
              <a href="author.html#1569">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Following on this, I found a little issue with WM_ACTIVATE messages being
sent twice on window load. One when the window is created and displayed for
the first time (as a response to kEventWindowActivated) and another one when
the window is made visible. 

 

This was causing weird effects on our GUI, for instance calling twice the
OnVisibleChanged event in our main form so I have this patch that checks
whether the window is already the active one and the discards other
activates. It also eliminates some flicker on form loading (not all, though)

 

Tell me what you think

 

 

Cheers, 

 

David Suarez

www.plasticscm.com

 

 

 

From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">mono-osx-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">mono-osx-bounces at lists.ximian.com</A>] On Behalf Of David Suarez
Sent: Tuesday, September 02, 2008 10:57 AM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">mono-osx at lists.ximian.com</A>
Subject: [Mono-osx] MWF on macosx

 

Hi all,

 

I've been diving into the MacOS WinForms implementation for the last four
days, getting familiar with all the code there before trying to find some
issues we have.

 

I've seen there are some problems with the hidden panels that are made
visible in runtime. Basically their inner controls are correctly drawn and
then suddently hidden. I'm still trying to figure out why.

 

I've put some debug code to learn how it works and have catched a huge
number of WM_NULL messages being processed on Mac, while none shows up on
Windows or Linux. I found why this happens, related to the WM_PAINT /
WM_NCPAINT messages being issued by the addexpose method instead of the
kEvent handler. Is there any chance that the underlying carbon controls are
not always mapping their visible state to that set by MWF?

 

Ok, I'll continue working on it so I hope I'll be sending some fixes soon.
Of course, any pointers will be appreciated! :-)

 

Regards,

 

dave

 

 

 &lt;<A HREF="http://www.plasticscm.com">http://www.plasticscm.com</A>&gt; www.plasticscm.com

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20080904/2075f90d/attachment-0001.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20080904/2075f90d/attachment-0001.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CarbonActivateWindows.patch
Type: application/octet-stream
Size: 394 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20080904/2075f90d/attachment-0001.obj">http://lists.ximian.com/pipermail/mono-osx/attachments/20080904/2075f90d/attachment-0001.obj</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001567.html">[Mono-osx] MWF on macosx
</A></li>
	<LI>Next message: <A HREF="001570.html">[Mono-osx] MWF on macosx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1569">[ date ]</a>
              <a href="thread.html#1569">[ thread ]</a>
              <a href="subject.html#1569">[ subject ]</a>
              <a href="author.html#1569">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
