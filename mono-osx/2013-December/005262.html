<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Memory Issue in QTkit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20Memory%20Issue%20in%20QTkit&In-Reply-To=%3CCAMGnXHThWy_wS%3DUbo637g%3DgpP4%2B31dWgz_gFng_PsEWuO1mBNA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005261.html">
   <LINK REL="Next"  HREF="005264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Memory Issue in QTkit</H1>
    <B>John Main</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20Memory%20Issue%20in%20QTkit&In-Reply-To=%3CCAMGnXHThWy_wS%3DUbo637g%3DgpP4%2B31dWgz_gFng_PsEWuO1mBNA%40mail.gmail.com%3E"
       TITLE="[Mono-osx] Memory Issue in QTkit">themains2 at gmail.com
       </A><BR>
    <I>Fri Dec 13 23:37:19 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="005261.html">[Mono-osx] Read/Write Resource Fork
</A></li>
        <LI>Next message: <A HREF="005264.html">[Mono-osx] Memory Issue in QTkit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5262">[ date ]</a>
              <a href="thread.html#5262">[ thread ]</a>
              <a href="subject.html#5262">[ subject ]</a>
              <a href="author.html#5262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have written a small Song Player that uses QTkit to play songs.
The program has a gui done in Interface Builder that has a skip button.

This skip button is tied to Method that Stops Playback of the Song uses the
Release and Dispose methods on the QTMovie object and then plays a new song.
This works great as expected.  I have wrapped it all in an
NSAutoreleasePool.

Now I have a Notification that when QTMovie is finished playing a song it
calls this same Method that Advances to the next song and plays it.

If I start playing a song and use the button to advance the song the memory
uses stays pretty constant going up and down as you would expect with file
sizes for the songs varying in size.  However, if I let the song finish and
the notification calls the method to advance the song the memory will
continually climb per song and is never released.

I have stepped through the code and see that the original QTMovie instance
gets released.

What am I doing wrong here?  I originally created this in xcode using
objective C but the code was very ugly since it was my first project
programming an app for the Mac.  It did not have this memory leak.

Since I am more familiar with C# (Although just a beginner) the code is
much cleaner.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20131213/6c2794b3/attachment.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20131213/6c2794b3/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005261.html">[Mono-osx] Read/Write Resource Fork
</A></li>
	<LI>Next message: <A HREF="005264.html">[Mono-osx] Memory Issue in QTkit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5262">[ date ]</a>
              <a href="thread.html#5262">[ thread ]</a>
              <a href="subject.html#5262">[ subject ]</a>
              <a href="author.html#5262">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
