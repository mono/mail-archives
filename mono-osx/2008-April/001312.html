<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] IOKit Enumeration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20IOKit%20Enumeration&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001310.html">
   <LINK REL="Next"  HREF="001313.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] IOKit Enumeration</H1>
    <B>Joshua Perry</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20IOKit%20Enumeration&In-Reply-To="
       TITLE="[Mono-osx] IOKit Enumeration">josh at 6bit.com
       </A><BR>
    <I>Mon Apr 14 20:20:59 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001310.html">[Mono-osx] Input on a tool...
</A></li>
        <LI>Next message: <A HREF="001313.html">[Mono-osx] IOKit Enumeration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1312">[ date ]</a>
              <a href="thread.html#1312">[ thread ]</a>
              <a href="subject.html#1312">[ subject ]</a>
              <a href="author.html#1312">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey guys,

I haven't had much time to work on this the last few months, but this 
weekend I was finally able to enumerate RS232 ports using P/Invoke to 
IOKit/CoreFoundation.  This would work for enumerating any items in the 
IOKit database but I want to add support for 
System.IO.Ports.SerialPort.GetPortNames() to Mono for OSX.  This works 
quite well with any FTDI type chips that provide a virtual com-port for 
communication, which is a common method of USB enabling devices.

I do a lot of embedded development and talking to our hardware is 
important, and in future products we would like to ship software for OSX 
on Mono.

So before I start integrating this code into my local checkout, I wanted 
to ask what the best method is for adding this to the Mono codebase.  Is 
there a define for managed code on OSX builds?  I've noticed that a lot 
of places a runtime check is used against Environment.OSVersion.Platform 
to decide which logic to execute, is this the preferred method in 
managed code as opposed to conditional compilation?

Also, I have made some base classes that I use to manage reference 
counting and to make the P/Invoke to CoreFoundation objects and IOKit 
objects easier (e.g. CFString, CFMutableDictionary, IOObject).  Is there 
an OSX helper library similar to PosixHelper that this code would go in?

Thanks for any feedback,

Josh
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001310.html">[Mono-osx] Input on a tool...
</A></li>
	<LI>Next message: <A HREF="001313.html">[Mono-osx] IOKit Enumeration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1312">[ date ]</a>
              <a href="thread.html#1312">[ thread ]</a>
              <a href="subject.html#1312">[ subject ]</a>
              <a href="author.html#1312">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
