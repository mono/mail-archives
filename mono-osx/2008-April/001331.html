<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] How to handle CFArrayRef?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20How%20to%20handle%20CFArrayRef%3F&In-Reply-To=001f01c8a3ed%24d0d27810%2472776830%24%25mauer%40rwth-aachen.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001330.html">
   <LINK REL="Next"  HREF="001332.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] How to handle CFArrayRef?</H1>
    <B>Erik Ylvisaker</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20How%20to%20handle%20CFArrayRef%3F&In-Reply-To=001f01c8a3ed%24d0d27810%2472776830%24%25mauer%40rwth-aachen.de"
       TITLE="[Mono-osx] How to handle CFArrayRef?">eylvisaker at physics.ucdavis.edu
       </A><BR>
    <I>Mon Apr 21 21:47:22 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001330.html">[Mono-osx] How to handle CFArrayRef?
</A></li>
        <LI>Next message: <A HREF="001332.html">[Mono-osx] How to handle CFArrayRef?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1331">[ date ]</a>
              <a href="thread.html#1331">[ thread ]</a>
              <a href="subject.html#1331">[ subject ]</a>
              <a href="author.html#1331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You have to call other functions in Core Foundation to get values out of 
the array.  If all you need is the functions CFArrayGetCount and 
CFArrayGetValueAtIndex, you can use the sample code I've attached 
below.  You might also want CFArrayGetValues.  Documentation for the 
CFArray functions is here:
<A HREF="http://developer.apple.com/documentation/CoreFoundation/Reference/CFArrayRef/Reference/reference.html">http://developer.apple.com/documentation/CoreFoundation/Reference/CFArrayRef/Reference/reference.html</A>


        const string appServices = 
&quot;/System/Library/Frameworks/ApplicationServices.framework/Versions/Current/ApplicationServices&quot;; 

 
        [DllImport(appServices)]
        internal static extern int CFArrayGetCount(IntPtr theArray);
 
        [DllImport(appServices)]
        internal static extern IntPtr CFArrayGetValueAtIndex(IntPtr 
theArray, int idx);


Sebastian Mauer wrote:
&gt;<i> Hello there,
</I>&gt;<i>
</I>&gt;<i> I'm currently implementing part of the Apple80211.framework, and made good
</I>&gt;<i> progress until now.
</I>&gt;<i> The function WirelessScan will pass me a pointer to a CFArrayRef (part of
</I>&gt;<i> CoreFoundation) which contains several WirelessNetworkInfo structs and I'm
</I>&gt;<i> not sure how to map/handle them within c#
</I>&gt;<i>
</I>&gt;<i> extern WIErr WirelessScan(
</I>&gt;<i> 	WirelessContextPtr inContext,
</I>&gt;<i> 	CFArrayRef *apList,
</I>&gt;<i> 	const UInt32 stripDups);
</I>&gt;<i>
</I>&gt;<i> This is the information I got from the respective header file:
</I>&gt;<i> *  It will allocate 2 CFArrays to store a list
</I>&gt;<i>  *  of managed and adhoc networks. The arrays hold CFData
</I>&gt;<i>  *  objects which contain WirelessNetworkInfo structures.
</I>&gt;<i>
</I>&gt;<i> What can I do to ultimately recieve an Array out of WirelessNetworkInfo
</I>&gt;<i> structs?
</I>&gt;<i>
</I>&gt;<i> Greetings,
</I>&gt;<i>
</I>&gt;<i> Sebastian Mauer
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-osx mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>&gt;<i>
</I>&gt;<i>   
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001330.html">[Mono-osx] How to handle CFArrayRef?
</A></li>
	<LI>Next message: <A HREF="001332.html">[Mono-osx] How to handle CFArrayRef?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1331">[ date ]</a>
              <a href="thread.html#1331">[ thread ]</a>
              <a href="subject.html#1331">[ subject ]</a>
              <a href="author.html#1331">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
