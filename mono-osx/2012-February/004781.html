<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] (no subject)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20%28no%20subject%29&In-Reply-To=%3CF8FC5B70E4144243A71D46F6A62D3AD213F89AF6A3%40BE271.mail.lan%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004780.html">
   <LINK REL="Next"  HREF="004783.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] (no subject)</H1>
    <B>David Black</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20%28no%20subject%29&In-Reply-To=%3CF8FC5B70E4144243A71D46F6A62D3AD213F89AF6A3%40BE271.mail.lan%3E"
       TITLE="[Mono-osx] (no subject)">David.Black at casewise.com
       </A><BR>
    <I>Wed Feb 15 15:28:20 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="004780.html">[Mono-osx] (no subject)
</A></li>
        <LI>Next message: <A HREF="004783.html">[Mono-osx] monobacktrace and Xcode 4.3 and lldb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4781">[ date ]</a>
              <a href="thread.html#4781">[ thread ]</a>
              <a href="subject.html#4781">[ subject ]</a>
              <a href="author.html#4781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Virgis

The actual solution was for me to remember the last change I made yesterday. My window was derived from NSPanel not NSWindow, so while it was key, the main window was still the same. So the close message went to the main window not the pop-up. When I changed to derive from NSWindow Close() now works as expected.


Thanks for your help.

D




From: Virginijus [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">mrgutis at gmail.com</A>]
Sent: 15 February 2012 14:09
To: David Black
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">mono-osx at lists.ximian.com</A>
Subject: Re: [Mono-osx] (no subject)

Hey,

  You are closing you &quot;pop-up&quot; window incorrectly. Close method sends close signal to program. So to close your window you should use code:

NSApplication.SharedApplication.Stop(this);

this.OrderOut (this);
I am assuming this code will be put into you &quot;pop-up&quot; window class and called upon cancel button press.

Regards,
Virgis
On Wed, Feb 15, 2012 at 3:53 PM, David Black &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">David.Black at casewise.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">David.Black at casewise.com</A>&gt;&gt; wrote:

Hi All

I've been experimenting with monomac for a short while and I've come across a strange issue. My app has a (so far) empty main Window and a menu option that opens a non-modal window for data input. In the cancel button action I call the Close method on the window controller for the pop-up Window

This closes my pop-up and leaves the main window in place (as expected).

In my app delegate I added the following

public override bool ApplicationShouldTerminateAfterLastWindowClosed (NSApplication sender)
{
                return true;
}

Now when I close the pop-up window, even though the main Window is still visible, the app quits. This is not what I expected as the main window is still there.

Is this expected behaviour? Or is it because I have no content in the main Window or actions or Outlets and the GC is freeing the window even though it's still visible?

Colour me confused :)

David.

_______________________________________________
Mono-osx mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>&gt;
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20120215/69834c8e/attachment-0001.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20120215/69834c8e/attachment-0001.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004780.html">[Mono-osx] (no subject)
</A></li>
	<LI>Next message: <A HREF="004783.html">[Mono-osx] monobacktrace and Xcode 4.3 and lldb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4781">[ date ]</a>
              <a href="thread.html#4781">[ thread ]</a>
              <a href="subject.html#4781">[ subject ]</a>
              <a href="author.html#4781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
