<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] MacOS bindings and MonoDevelop.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MacOS%20bindings%20and%20MonoDevelop.&In-Reply-To=1242065030.17881.819.camel%40erandi.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002250.html">
   <LINK REL="Next"  HREF="002257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] MacOS bindings and MonoDevelop.</H1>
    <B>Jesse Jones</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20MacOS%20bindings%20and%20MonoDevelop.&In-Reply-To=1242065030.17881.819.camel%40erandi.site"
       TITLE="[Mono-osx] MacOS bindings and MonoDevelop.">jesjones at mindspring.com
       </A><BR>
    <I>Thu May 14 13:58:52 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002250.html">[Mono-osx] MacOS bindings and MonoDevelop.
</A></li>
        <LI>Next message: <A HREF="002257.html">[Mono-osx] MacOS bindings and MonoDevelop.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2256">[ date ]</a>
              <a href="thread.html#2256">[ thread ]</a>
              <a href="subject.html#2256">[ subject ]</a>
              <a href="author.html#2256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Fwiw here are some places where I think mobj/mcocoa are better than  
Monobj:

* Like NObjective mobj bridges exception across managed and unmanaged  
code so either side can throw and either side can catch. This seems  
pretty important to me for writing reliable software and also aids  
development (e.g. with Monobj if the native code throws it seems to be  
logged and then ignored, but there is no stack trace).

* mobj's implementation is much simpler than Monoobj. I'm not sure why  
Monobj is so complex but part of it I think is that Monobj supports  
both 10.4 and 10.5 whereas mobj only supports 10.5 which has better  
support for bridges. mobj also leans on libffi when calling native  
code which simplifies the code a fair amount.

* mobj has a fast path which completely bypasses libffi. 84% of the  
foundation methods in mcocoa use the fast path and 77% of the methods  
in appkit do so. This works out great for mcocoa because libffi is  
quite a bit slower than I had hoped (although iirc Eugeny's benchmarks  
showed it a bit faster than Monobj). Note that the benchmarks that  
Eugeny posted in the past only hit mobj's slow path so they are not at  
all indicative of real world speeds.

* Objective-C method names are really weird and don't map well to .NET  
naming conventions. For example, the objective-c method  
observeValueForKeyPath:ofObject:change:context: is mapped to  
ObserveValueForKeyPathOfObjectChangeContext in Monobj which is a  
really confusing name to read. I originally did the same in mcocoa but  
I wound up changing them to  
observeValueForKeyPath_ofObject_change_context which is much easier to  
read.

This also allows for a nice separation between methods which wrap  
cocoa and those added by the bridge (which can use the standard .NET  
naming conventions). In addition it allows mobj to automatically  
register methods with the objective-c runtime so you don't have to  
litter your code with  
[ObjectiveCMessage(&quot;observeValueForKeyPath:ofObject:change:context:&quot;)]  
like you have to do in Monobj.

* Monobj distributes the wrapper libraries in binary form whereas  
mcocoa generates them as part of the build process. This means that  
it's a lot easier to see what mcocoa is doing and makes it possible to  
generate wrappers for other objective-c frameworks.

* Tools like top think that every Monobj application is named &quot;mono&quot;  
which is pretty annoying. In mobj they are named after the app bundle.

* One of the Monobj users reported that &quot;apps can just quit and it can  
be hard to work out why.&quot; I haven't seen anything like this with mobj,  
It seems very solid. The only times I have seen anything like this is  
when object reference counts are mismanaged and even there you get a  
stack trace which points you to the right neighborhood.

If anyone wants to look at mobj or mcocoa more the links are:
<A HREF="http://code.google.com/p/mobjc/">http://code.google.com/p/mobjc/</A>
<A HREF="http://code.google.com/p/mcocoa/">http://code.google.com/p/mcocoa/</A>

   -- Jesse


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002250.html">[Mono-osx] MacOS bindings and MonoDevelop.
</A></li>
	<LI>Next message: <A HREF="002257.html">[Mono-osx] MacOS bindings and MonoDevelop.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2256">[ date ]</a>
              <a href="thread.html#2256">[ thread ]</a>
              <a href="subject.html#2256">[ subject ]</a>
              <a href="author.html#2256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
