<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] mobj discussion
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20mobj%20discussion&In-Reply-To=D7EC13CA-1098-4451-973E-E39A69699E38%40mindspring.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002257.html">
   <LINK REL="Next"  HREF="002281.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] mobj discussion</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20mobj%20discussion&In-Reply-To=D7EC13CA-1098-4451-973E-E39A69699E38%40mindspring.com"
       TITLE="[Mono-osx] mobj discussion">miguel at novell.com
       </A><BR>
    <I>Tue May 19 13:48:21 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002257.html">[Mono-osx] MacOS bindings and MonoDevelop.
</A></li>
        <LI>Next message: <A HREF="002281.html">[Mono-osx] mobj discussion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2275">[ date ]</a>
              <a href="thread.html#2275">[ thread ]</a>
              <a href="subject.html#2275">[ subject ]</a>
              <a href="author.html#2275">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

   [ I changed the subject line to make it easier to spot the threads ]

&gt;<i> * Objective-C method names are really weird and don't map well to .NET  
</I>&gt;<i> naming conventions. For example, the objective-c method  
</I>&gt;<i> observeValueForKeyPath:ofObject:change:context: is mapped to  
</I>&gt;<i> ObserveValueForKeyPathOfObjectChangeContext in Monobj which is a  
</I>&gt;<i> really confusing name to read. I originally did the same in mcocoa but  
</I>&gt;<i> I wound up changing them to  
</I>&gt;<i> observeValueForKeyPath_ofObject_change_context which is much easier to  
</I>&gt;<i> read.
</I>
The MonObjc version is closer to the .NET design guidelines.

But when it comes to naming of methods, they are both terrible options.
In MonObjc it seems that the source is that this is auto-generated code,
is the code also autogenerated in mcocoa?

It seems to me that these APIs need to be thought out in terms of what
they do and expose the proper name and pattern, something that follows
the Framework Design Guidelines.

For example, after reading the docs for it seems like this should be
exposed as an event with a signature like this:

	public ValueChangedEventArgs : EventArgs {
		public string KeyPath { get; }
		public object ChangedObject { get; }
		public Hashtable Changes { get; }
	}
	delegate void Change (object sender, ValueChangedEventArgs vc)

So code that consumes this would then do:

	class.Changed += delegate (s, args){
		Console.WriteLine (&quot;Change at {0}&quot;, args.KeyPath);
	}

&gt;<i> This also allows for a nice separation between methods which wrap  
</I>&gt;<i> cocoa and those added by the bridge (which can use the standard .NET  
</I>&gt;<i> naming conventions). In addition it allows mobj to automatically  
</I>&gt;<i> register methods with the objective-c runtime so you don't have to  
</I>&gt;<i> litter your code with  
</I>&gt;<i> [ObjectiveCMessage(&quot;observeValueForKeyPath:ofObject:change:context:&quot;)]  
</I>&gt;<i> like you have to do in Monobj.
</I>
I appreciate this direction: exposing the full API, and then providing
wrappers, but I am not sure that it is a good idea to expose the
low-level API.   

Miguel

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002257.html">[Mono-osx] MacOS bindings and MonoDevelop.
</A></li>
	<LI>Next message: <A HREF="002281.html">[Mono-osx] mobj discussion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2275">[ date ]</a>
              <a href="thread.html#2275">[ thread ]</a>
              <a href="subject.html#2275">[ subject ]</a>
              <a href="author.html#2275">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
