<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] extending the SecRecords that can be found on OS X
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20extending%20the%20SecRecords%20that%20can%20be%20found%20on%20OS%20X&In-Reply-To=%3CCADUu0jcgZAvq4yOFYwzrzaOapt3dHROakDtSE-2RARf0f9n3rw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004923.html">
   <LINK REL="Next"  HREF="004925.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] extending the SecRecords that can be found on OS X</H1>
    <B>Andrew Patterson</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20extending%20the%20SecRecords%20that%20can%20be%20found%20on%20OS%20X&In-Reply-To=%3CCADUu0jcgZAvq4yOFYwzrzaOapt3dHROakDtSE-2RARf0f9n3rw%40mail.gmail.com%3E"
       TITLE="[Mono-osx] extending the SecRecords that can be found on OS X">andrewpatto at gmail.com
       </A><BR>
    <I>Thu Apr 26 07:45:42 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="004923.html">[Mono-osx] NSTableView issues and Graphic issues
</A></li>
        <LI>Next message: <A HREF="004925.html">[Mono-osx] Strange Crash on WebView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4924">[ date ]</a>
              <a href="thread.html#4924">[ thread ]</a>
              <a href="subject.html#4924">[ subject ]</a>
              <a href="author.html#4924">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have recently been tasked with created a Mac OS X
application that shares about 25% of its code with a
similar already existing c# Windows app. So I have been
using MonoDevelop with Monomac for a month or so and getting some
success - so firstly a big thanks to all who helped develop
Mono and Monomac!

The current feature I am working on involves some
web service calls using mutual authentication. So I can
load the X509 certs manually from files and that all works
ok - but I was hoping to use the certificates in Mac OS X
keyring (for other reasons the certs/private keys are going to have
to be in keyring anyway)

However, the keyring API binding seems to be
incomplete (as I understand it the iphone keyring API
is much simpler and so it may not be tested as much
under os x)

For one thing, the kinds of SecRecord that can be created
seem to be deliberately limited for Monomac. So the only
one supported is SecKind.InternetPassword. I am happy to
hack around in Monomac to add support for others but was
wondering why the enum was limited in the first place? Obviously
there must be some other wrinkles there but I couldn't
tell from the source what they were.

Also, the API calls that return multiple results seem to be broken.

Whereas this works fine

var rec = SecKeyChain.QueryAsRecord(query, out statusResult);

This seemingly equivalent

var recs = SecKeyChain.QueryAsRecord(query, 50, out statusResult);

generates errors

-[NSCFDictionary objectAtIndex:]: unrecognized selector sent to
instance 0x159187b0
-[NSCFDictionary objectAtIndex:]: unrecognized selector sent to
instance 0x159187b0
.sdef error: every 'parameter' element must have a 'cocoa' subelement
that has a 'key' attribute.
line number: 8

Thanks for any help

Andrew
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004923.html">[Mono-osx] NSTableView issues and Graphic issues
</A></li>
	<LI>Next message: <A HREF="004925.html">[Mono-osx] Strange Crash on WebView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4924">[ date ]</a>
              <a href="thread.html#4924">[ thread ]</a>
              <a href="subject.html#4924">[ subject ]</a>
              <a href="author.html#4924">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
