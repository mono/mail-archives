<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] How do I play audio files using AudioToolbox APIs?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20How%20do%20I%20play%20audio%20files%20using%20AudioToolbox%20APIs%3F&In-Reply-To=%3CF3EFF5AC-CE04-4244-B7AC-861C5BE62058%40indiana.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004896.html">
   <LINK REL="Next"  HREF="004898.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] How do I play audio files using AudioToolbox APIs?</H1>
    <B>Andrew Friedley</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20How%20do%20I%20play%20audio%20files%20using%20AudioToolbox%20APIs%3F&In-Reply-To=%3CF3EFF5AC-CE04-4244-B7AC-861C5BE62058%40indiana.edu%3E"
       TITLE="[Mono-osx] How do I play audio files using AudioToolbox APIs?">afriedle at indiana.edu
       </A><BR>
    <I>Sat Apr  7 15:06:21 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="004896.html">[Mono-osx] Modal Dialog example
</A></li>
        <LI>Next message: <A HREF="004898.html">[Mono-osx] How to handle returned List&lt;&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4897">[ date ]</a>
              <a href="thread.html#4897">[ thread ]</a>
              <a href="subject.html#4897">[ subject ]</a>
              <a href="author.html#4897">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Still trying to figure out.. I found that I can use audio units to output sound too, and tried working off this example:

<A HREF="https://github.com/migueldeicaza/MonoTouch.AudioUnit/blob/master/MonoTouch_AudioUnit_PlayingSoundFile/ExtAudioFilePlayer.cs">https://github.com/migueldeicaza/MonoTouch.AudioUnit/blob/master/MonoTouch_AudioUnit_PlayingSoundFile/ExtAudioFilePlayer.cs</A>

However a System.EntryPointNotFound exception is thrown from AudioComponentFindNext when I try to do this:

aComponent = AudioComponent.FindComponent(AudioTypeOutput.Default);

The example I linked to uses AudioTypeOutput.Remote, but that isn't defined in monomac.  I've tried all four of the available options with the same result:  Default, Generic, HAL, System.

Can anyone help, or point me at a working monomac example?  Thanks,

Andrew

On Mar 31, 2012, at 8:07 AM, Andrew Friedley wrote:

&gt;<i> I'm an experienced C programmer but new to C#/OSX development, and am having trouble figuring out how to connect the AudioFile and OutputAudioQueue APIs to play an MP3.  I've been looking at the mono touch StreamingAudio example, but AudioFile doesn't have the event callbacks (PacketDecoded, PropertyFound) that AudioFileStream does.
</I>&gt;<i> 
</I>&gt;<i> Reading the Apple documentation, it looks like AudioFile.ReadPacketData is what I want to use for reading, however that gives me data in a byte array.  I've been trying to figure out how to get that data into an IntPtr form for handing off to OutputAudioQueue.EnqueueBuffer, but not having any luck.  What is the proper way to pull data from an audio file and play it using the AudioToolbox APIs?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 
</I>&gt;<i> Andrew
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-osx mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004896.html">[Mono-osx] Modal Dialog example
</A></li>
	<LI>Next message: <A HREF="004898.html">[Mono-osx] How to handle returned List&lt;&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4897">[ date ]</a>
              <a href="thread.html#4897">[ thread ]</a>
              <a href="subject.html#4897">[ subject ]</a>
              <a href="author.html#4897">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
