<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Cannot catch console output
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20Cannot%20catch%20console%20output&In-Reply-To=%3Calpine.BSF.2.01.1204172016290.38994%40freire1.furyyjbeyq.arg%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004906.html">
   <LINK REL="Next"  HREF="004910.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Cannot catch console output</H1>
    <B>Jude DaShiell</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20Cannot%20catch%20console%20output&In-Reply-To=%3Calpine.BSF.2.01.1204172016290.38994%40freire1.furyyjbeyq.arg%3E"
       TITLE="[Mono-osx] Cannot catch console output">jdashiel at shellworld.net
       </A><BR>
    <I>Wed Apr 18 00:17:00 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="004906.html">[Mono-osx] Cannot catch console output
</A></li>
        <LI>Next message: <A HREF="004910.html">[Mono-osx] Error adding WCF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4909">[ date ]</a>
              <a href="thread.html#4909">[ thread ]</a>
              <a href="subject.html#4909">[ subject ]</a>
              <a href="author.html#4909">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Could it be stderr is also being sent output?On Tue, 17 Apr 2012, Alex 
Soto wrote:

&gt;<i> Hello guys, I'm trying to execute some shell commands on the Mac and do some additional stuff based on the command output but for some reason I'm not able to catch the command output from some  commands like ssh, defaults etc I'm trying to show the output to a NSTextArea but i always get a null on e.Data
</I>&gt;<i> 
</I>&gt;<i> But on MonoDevelop's &quot;Application Output&quot; window I see the result of the command executed
</I>&gt;<i> screenshot20120417at839.png &lt;- this is what i would like to catch on a string
</I>&gt;<i> 
</I>&gt;<i> but i get null on e.Data instead the above string, here is the code I'm using 
</I>&gt;<i> 
</I>&gt;<i> 	ProcessStartInfo ps = new ProcessStartInfo (&quot;ssh&quot;, &quot;&quot;);
</I>&gt;<i> 	ps.UseShellExecute = false;
</I>&gt;<i> 	ps.RedirectStandardOutput = true;
</I>&gt;<i> 	using (Process p = Process.Start (ps)) 
</I>&gt;<i> 	{
</I>&gt;<i> 		p.OutputDataReceived += delegate(object sender2, DataReceivedEventArgs e) 		{
</I>&gt;<i> 			InvokeOnMainThread(()=&gt;
</I>&gt;<i> 			{
</I>&gt;<i> 				txtTexto.Value = e.Data ?? &quot;&quot;;	
</I>&gt;<i> 			});
</I>&gt;<i> 		} ;
</I>&gt;<i> 		p.BeginOutputReadLine();
</I>&gt;<i> 	}
</I>&gt;<i> 
</I>&gt;<i> also tried the Objective-C way, i bound NSFileHandle.h since it wasn't on MonoMac git code and I'm getting the same behavior
</I>&gt;<i> 
</I>&gt;<i> 	NSTask task = new NSTask();
</I>&gt;<i> 	task.LaunchPath = &quot;/usr/bin/ssh&quot;;
</I>&gt;<i> 	NSPipe pipe = NSPipe.pipe();
</I>&gt;<i> 	task.StandardOutput = pipe;
</I>&gt;<i> 	task.Launch();
</I>&gt;<i> 	NSData data = file.ReadDataToEndOfFile();
</I>&gt;<i> 	NSString str = NSString.FromData(data, NSStringEncoding.UTF8);
</I>&gt;<i> 	string datos = str.ToString()
</I>&gt;<i> 	txtTexto.Value = datos
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Any ideas?? thanks in advance for any help
</I>&gt;<i> 
</I>&gt;<i> Alex
</I>&gt;<i> 
</I>&gt;<i> 
</I>
----------------------------------------------------------------
Jude &lt;jdashiel-at-shellworld-dot-net&gt;
&lt;<A HREF="http://www.shellworld.net/~jdashiel/nj.html">http://www.shellworld.net/~jdashiel/nj.html</A>&gt;

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004906.html">[Mono-osx] Cannot catch console output
</A></li>
	<LI>Next message: <A HREF="004910.html">[Mono-osx] Error adding WCF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4909">[ date ]</a>
              <a href="thread.html#4909">[ thread ]</a>
              <a href="subject.html#4909">[ subject ]</a>
              <a href="author.html#4909">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
