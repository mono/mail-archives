<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] MonoMac - NSOutlineView crashing after some time.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20MonoMac%20-%20NSOutlineView%20crashing%20after%20some%20time.&In-Reply-To=%3C4F7DA72D.3060906%40iiia.csic.es%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004882.html">
   <LINK REL="Next"  HREF="004883.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] MonoMac - NSOutlineView crashing after some time.</H1>
    <B>Tomas Trescak</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20MonoMac%20-%20NSOutlineView%20crashing%20after%20some%20time.&In-Reply-To=%3C4F7DA72D.3060906%40iiia.csic.es%3E"
       TITLE="[Mono-osx] MonoMac - NSOutlineView crashing after some time.">ttrescak at iiia.csic.es
       </A><BR>
    <I>Thu Apr  5 14:07:41 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="004882.html">[Mono-osx] Merging Mono Failed. FATAL UNHANDLED EXCEPTION
</A></li>
        <LI>Next message: <A HREF="004883.html">[Mono-osx] NSOutlineView Crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4902">[ date ]</a>
              <a href="thread.html#4902">[ thread ]</a>
              <a href="subject.html#4902">[ subject ]</a>
              <a href="author.html#4902">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dears

I have added the NSOutlineView to my app, implemented the datasource and 
a delegate.
They are both defined as global variables to avoid garbage collection .. 
but still my app crashes after some time ... I think that it is a 
garbage collector, but can't identify what was collected.

 From log it seems that problem is here, but not sure:

10  ???                               0x02cb252d 0 + 46867757
11  com.apple.AppKit                  0x926da701 -[NSOutlineView 
_dataSourceValueForColumn:row:] + 99

Here is full crash log:

Thread 0 Crashed:  Dispatch queue: com.apple.main-thread
0   libSystem.B.dylib                 0x95dabc5a __kill + 10
1   libSystem.B.dylib                 0x95dabc4c kill$UNIX2003 + 32
2   libSystem.B.dylib                 0x95e3e5a5 raise + 26
3   libSystem.B.dylib                 0x95e546e4 abort + 93
4   MacxoPlanet                       0x0009ff4d 
mono_handle_native_sigsegv + 685 (mini-exceptions.c:2185)
5   MacxoPlanet                       0x00004f6e 
mono_sigsegv_signal_handler + 334 (mini.c:5917)
6   libSystem.B.dylib                 0x95db105b _sigtramp + 43
7   ???                               0xffffffff 0 + 4294967295
8   ???                               0x02cb45a8 0 + 46876072
9   ???                               0x02cb4384 0 + 46875524
10  ???                               0x02cb252d 0 + 46867757
11  com.apple.AppKit                  0x926da701 -[NSOutlineView 
_dataSourceValueForColumn:row:] + 99
12  com.apple.AppKit                  0x926da1da -[NSTableView 
preparedCellAtColumn:row:] + 335
13  com.apple.AppKit                  0x926d99ec -[NSTableView 
_dirtyVisibleCellsForKeyStateChange] + 558
14  com.apple.AppKit                  0x926d93ca -[NSTableView 
_windowChangedKeyState] + 332
15  com.apple.CoreFoundation          0x91938220 CFArrayApplyFunction + 224
16  com.apple.AppKit                  0x92608ded -[NSView 
_windowChangedKeyState] + 127
17  com.apple.CoreFoundation          0x91938220 CFArrayApplyFunction + 224
18  com.apple.AppKit                  0x92608ded -[NSView 
_windowChangedKeyState] + 127
19  com.apple.CoreFoundation          0x91938220 CFArrayApplyFunction + 224
20  com.apple.AppKit                  0x92608ded -[NSView 
_windowChangedKeyState] + 127
21  com.apple.CoreFoundation          0x91938220 CFArrayApplyFunction + 224
22  com.apple.AppKit                  0x92608ded -[NSView 
_windowChangedKeyState] + 127
23  com.apple.CoreFoundation          0x91938220 CFArrayApplyFunction + 224
24  com.apple.AppKit                  0x92608ded -[NSView 
_windowChangedKeyState] + 127
25  com.apple.CoreFoundation          0x91938220 CFArrayApplyFunction + 224
26  com.apple.AppKit                  0x92608ded -[NSView 
_windowChangedKeyState] + 127
27  com.apple.AppKit                  0x927aad75 -[NSTabView 
_windowChangedKeyState] + 53
28  com.apple.CoreFoundation          0x91938220 CFArrayApplyFunction + 224
29  com.apple.AppKit                  0x92608ded -[NSView 
_windowChangedKeyState] + 127
30  com.apple.AppKit                  0x926d90cb -[NSSplitView 
_windowChangedKeyState] + 57
31  com.apple.CoreFoundation          0x91938220 CFArrayApplyFunction + 224
32  com.apple.AppKit                  0x92608ded -[NSView 
_windowChangedKeyState] + 127
33  com.apple.CoreFoundation          0x91938220 CFArrayApplyFunction + 224
34  com.apple.AppKit                  0x92608ded -[NSView 
_windowChangedKeyState] + 127
35  com.apple.AppKit                  0x926d8e46 -[NSFrameView 
_windowChangedKeyState] + 104
36  com.apple.AppKit                  0x92608adf -[NSWindow 
_setFrameNeedsDisplay:] + 205
37  com.apple.AppKit                  0x9279838c endKeyAndMain + 126
38  com.apple.AppKit                  0x9263f897 -[NSApplication 
sendEvent:] + 2987
39  com.apple.AppKit                  0x925d4253 -[NSApplication run] + 917
40  com.apple.AppKit                  0x925cc289 NSApplicationMain + 574
41  ???                               0x02cb2d8e 0 + 46869902
42  ???                               0x02cb2b8c 0 + 46869388
43  ???                               0x00561ff8 0 + 5644280
44  ???                               0x00562156 0 + 5644630
45  MacxoPlanet                       0x0000ecf4 mono_jit_runtime_invoke 
+ 164 (mini.c:5791)
46  MacxoPlanet                       0x00184354 mono_runtime_invoke + 
68 (object.c:2755)
47  MacxoPlanet                       0x0018a41e mono_runtime_exec_main 
+ 238 (object.c:3939)
48  MacxoPlanet                       0x0007464d mono_main + 6797 
(driver.c:1856)
49  MacxoPlanet                       0x00001fd6 start + 54

Thanks!!
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004882.html">[Mono-osx] Merging Mono Failed. FATAL UNHANDLED EXCEPTION
</A></li>
	<LI>Next message: <A HREF="004883.html">[Mono-osx] NSOutlineView Crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4902">[ date ]</a>
              <a href="thread.html#4902">[ thread ]</a>
              <a href="subject.html#4902">[ subject ]</a>
              <a href="author.html#4902">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
