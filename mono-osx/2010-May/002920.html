<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Environment variables not set up properly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Environment%20variables%20not%20set%20up%20properly&In-Reply-To=k2kaec34c771005040908sbf80f0a0s7643a2d4eba7d75d%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002919.html">
   <LINK REL="Next"  HREF="002955.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Environment variables not set up properly</H1>
    <B>bmahf</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Environment%20variables%20not%20set%20up%20properly&In-Reply-To=k2kaec34c771005040908sbf80f0a0s7643a2d4eba7d75d%40mail.gmail.com"
       TITLE="[Mono-osx] Environment variables not set up properly">bmahf at hotmail.com
       </A><BR>
    <I>Tue May  4 15:21:26 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002919.html">[Mono-osx] Environment variables not set up properly
</A></li>
        <LI>Next message: <A HREF="002955.html">[Mono-osx] Environment variables not set up properly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2920">[ date ]</a>
              <a href="thread.html#2920">[ thread ]</a>
              <a href="subject.html#2920">[ subject ]</a>
              <a href="author.html#2920">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Yes, when I said I backed out of the macports thing, I meant I had
uninstalled mono using the macports port command.  Far as I know, there are
no longer any binaries on the system for mono that were put there by
macports.  Which mcs gives me /usr/bin/mcs which is as you said a symlink to
/Library/Frameworks/Mono.framework/Commands/mcs.  Same for mono, etc. 
That's actually where I was before I sent that post.  I just changed my
.bash_profile and commented out all of the entries in there that I had set
to get mono going.  Now I have a small hello.cs:

using System;
using Gtk;

public class HelloWorld
{
  static public void Main ()
  {     
    Application.Init();
    Window window = new Window(&quot;helloworld&quot;);
    window.Show();
    Application.Run();
  }     
}

and I tried compiling on the command line with:

mcs -pkg:gtk-sharp-2.0 hello.cs

and I got the error:

Package gtk-sharp-2.0 was not found in the pkg-config search path.

I did a &quot;which pkg-config&quot; and found it is in /opt/local/bin, which is where
macports was putting its stuff, so I went back to my .bash_profile file and
added the lines:

MONO_PREFIX=/Library/Frameworks/Mono.framework/Versions/Current
export PKG_CONFIG_PATH=$MONO_PREFIX/lib/pkgconfig

That worked.  It compiled!  But running with &quot;mono hello.exe&quot; gives the
following:

Unhandled Exception: System.DllNotFoundException: libgtk-quartz-2.0.0.dylib
  at (wrapper managed-to-native) Gtk.Application:gtk_init (int&amp;,intptr&amp;)
  at Gtk.Application.Init () [0x00000] in &lt;filename unknown&gt;:0 
  at HelloWorld.Main () [0x00000] in &lt;filename unknown&gt;:0 

I am assuming there is another path that is unknown, so I tried adding this
to my .bash_profile:

export
DYLD_LIBRARY_FALLBACK_PATH=$MONO_PREFIX/lib:$DYLD_LIBRARY_FALLBACK_PATH

But now it sources fine, but when I either try compiling or running with the
same lines I gave above, it gives me the following error and does what it
did before (mcs compiles well, and mono gives the dll not found exception):

dyld: warning, unknown environment variable: DYLD_LIBRARY_FALLBACK_PATH

So it seems to be getting better, but there are still issues.  I'm surprised
no one else ran into this.  Is it possible macports really messed me up?  Is
there a way that I can tell macports to COMPLETELY uninstall?

Thanks for all your help.  I can't wait to get through this so I can start
being productive...
Bruce


-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Environment-variables-not-set-up-properly-tp2122429p2126181.html">http://mono.1490590.n4.nabble.com/Environment-variables-not-set-up-properly-tp2122429p2126181.html</A>
Sent from the Mono - OSX mailing list archive at Nabble.com.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002919.html">[Mono-osx] Environment variables not set up properly
</A></li>
	<LI>Next message: <A HREF="002955.html">[Mono-osx] Environment variables not set up properly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2920">[ date ]</a>
              <a href="thread.html#2920">[ thread ]</a>
              <a href="subject.html#2920">[ subject ]</a>
              <a href="author.html#2920">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
