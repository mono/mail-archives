<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx]  mkbundle on Mac OS X
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%20mkbundle%20on%20Mac%20OS%20X&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001088.html">
   <LINK REL="Next"  HREF="001093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx]  mkbundle on Mac OS X</H1>
    <B>fahlen</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20%20mkbundle%20on%20Mac%20OS%20X&In-Reply-To="
       TITLE="[Mono-osx]  mkbundle on Mac OS X">markus.fahlen at spray.se
       </A><BR>
    <I>Thu Dec 13 08:58:53 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001088.html">[Mono-osx] mono aot on Leopard
</A></li>
        <LI>Next message: <A HREF="001093.html">[Mono-osx] OSX vs Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1090">[ date ]</a>
              <a href="thread.html#1090">[ thread ]</a>
              <a href="subject.html#1090">[ subject ]</a>
              <a href="author.html#1090">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi. I have an application which only depends on mono-core (apart from a few
other non-mono libraries). I figured that instead of including the entire
mono framework package along with the application installation package in a
metapackage, it would be better to use mkbundle. As I understand it,
mkbundle only includes the necessary dependencies, which would lead to a
smaller installation package (as there would be no nead to install the
entire mono framework).

When I execute mkbundle on Mac OS X, I get a few errors. I was hoping
someone could give me a clue as to what I'm doing wrong:

------------------------------------------------------
-bash-2.05b$ mkbundle2 -o CServer -z CServer.exe *.dll
OS is: Darwin
Sources: 22 Auto-dependencies: False
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CServer.exe
   compression ratio: 22.39%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/ConectorWebService.dll
   compression ratio: 17.34%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigBreaker.dll
   compression ratio: 24.82%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigChooser.dll
   compression ratio: 29.29%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigDict.dll
   compression ratio: 28.90%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigGram.dll
   compression ratio: 40.97%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigInstallation.dll
   compression ratio: 12.88%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigLabeler.dll
   compression ratio: 23.34%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigMain.dll
   compression ratio: 29.70%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigMulti.dll
   compression ratio: 22.55%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigResources.dll
   compression ratio: 19.07%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigServer.dll
   compression ratio: 27.56%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigShared.dll
   compression ratio: 29.93%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigSpell.dll
   compression ratio: 30.54%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigText.dll
   compression ratio: 16.29%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigTypo.dll
   compression ratio: 20.36%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigWeb.dll
   compression ratio: 20.94%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigWebService.dll
   compression ratio: 18.88%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/CotigXML.dll
   compression ratio: 21.31%
   embedding: /Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/Nini.dll
   compression ratio: 33.44%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/log4net.dll
   compression ratio: 37.70%
   embedding:
/Users/glicomupf/Desktop/ICA/ElCorrector/trunk/Cotig/nunit.framework.dll
   compression ratio: 27.70%
Compiling:
as -o temp.o temp.s 
cc -g -o CServer -Wall temp.c `pkg-config --cflags --libs mono` -lz temp.o
i686-apple-darwin8-gcc-4.0.1: unrecognized option '-pthread'
/usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: warning can't open dynamic
library: @executable_path/../lib/libgthread-2.0.0.1400.1.dylib referenced
from: /Library/Frameworks/Mono.framework/Versions/1.2.6/lib/libmono.dylib
(checking for undefined symbols may be affected) (No such file or directory,
errno = 2)
/usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: warning can't open dynamic
library: @executable_path/../lib/libglib-2.0.0.1400.1.dylib referenced from:
/Library/Frameworks/Mono.framework/Versions/1.2.6/lib/libmono.dylib
(checking for undefined symbols may be affected) (No such file or directory,
errno = 2)
/usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: warning can't open dynamic
library: @executable_path/../lib/libintl.8.0.1.dylib referenced from:
/Library/Frameworks/Mono.framework/Versions/1.2.6/lib/libmono.dylib
(checking for undefined symbols may be affected) (No such file or directory,
errno = 2)
/usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: warning can't open dynamic
library: @executable_path/../lib/libglib-2.0.0.dylib referenced from:
/Library/Frameworks/Mono.framework/Versions/1.2.6/lib/libgthread-2.0.dylib
(checking for undefined symbols may be affected) (No such file or directory,
errno = 2)
Done
-bash-2.05b$ ./CServer -cfg -def
dyld: Library not loaded:
@executable_path/../lib/libgthread-2.0.0.1400.1.dylib
  Referenced from:
/Library/Frameworks/Mono.framework/Versions/1.2.6/lib/libmono.0.0.0.dylib
  Reason: image not found
Trace/BPT trap
-bash-2.05b$ 
------------------------------------------------------

If I instread execute with --deps, I get an exception:

------------------------------------------------------
mkbundle2 -o CServer --deps -z CServer.exe
OS is: Darwin
Sources: 22 Auto-dependencies: True

Unhandled Exception: System.IO.FileNotFoundException:
------------------------------------------------------

-- 
View this message in context: <A HREF="http://www.nabble.com/mkbundle-on-Mac-OS-X-tp14316337p14316337.html">http://www.nabble.com/mkbundle-on-Mac-OS-X-tp14316337p14316337.html</A>
Sent from the Mono - OSX mailing list archive at Nabble.com.

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001088.html">[Mono-osx] mono aot on Leopard
</A></li>
	<LI>Next message: <A HREF="001093.html">[Mono-osx] OSX vs Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1090">[ date ]</a>
              <a href="thread.html#1090">[ thread ]</a>
              <a href="subject.html#1090">[ subject ]</a>
              <a href="author.html#1090">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
