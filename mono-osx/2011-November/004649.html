<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] Deploying MonoMac Application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Deploying%20MonoMac%20Application&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004647.html">
   <LINK REL="Next"  HREF="004650.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] Deploying MonoMac Application</H1>
    <B>Chris Waldron</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20Deploying%20MonoMac%20Application&In-Reply-To="
       TITLE="[Mono-osx] Deploying MonoMac Application">chris.waldron at booktrack.co
       </A><BR>
    <I>Fri Nov 11 00:26:25 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004647.html">[Mono-osx] Setting environment variables in MonoMac
</A></li>
        <LI>Next message: <A HREF="004650.html">[Mono-osx] Deploying MonoMac Application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4649">[ date ]</a>
              <a href="thread.html#4649">[ thread ]</a>
              <a href="subject.html#4649">[ subject ]</a>
              <a href="author.html#4649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm having a real difficult time deploying my monomac application with a
3rd party dylib and permission issue.  I'm was able to build and run the
application in MonoDevelop without too much problem.  I was able to add the
3rd party library to the project and set the library to be copied to the
output location and checked the indicator to &quot;include in deploy&quot;.

Now when I use the Mac Installer creator tool and deploy the application I
get some really weird errors:

[1] The first problem is when the application run it failed on
Activator.CreateInstance.  I have no idea why it fails in deployment but
during testing in the IDE.  In order to circumvent this problem I changed
my code to only do early bound creation rather than late bound creation.
 This is lame but I've got a deadline to meet.

[2] After changing my code to only do early bound creation, I was able to
get around those errors until the application failed on a
DLLMissingException.  This was puzzling as I thought the Installer creation
tool would properly embed the 3rd party library in the application.  Do
some inquiries, I was able to find a solution that suggest you have to do
some post processing to embed the lib.  It was suggested that the lib be
placed into *.app/Contents/Frameworks directory.  The problem with that
however is that the library is still missing and altering the DllImport
still didn't resolve the DLL missing issue.

[3] Next I tried post possessing the library into the MonoBundle folder.
 The post processing step worked but then the MacInstaller step of
MonoDevelop complained that the temporary folder could not be created and
failed the application bundling.  Apparently I could not post process into
the MonoBundle folder without disrupting MonoDevelop MacInstaller.  So I
went back to injecting the 3rd Party library back into the Frameworks
folder and then I manually copied the 3rd Party library into the MonoBundle
folder.

[4] I tried running the application again but now I'm getting permission
errors when trying to read Content out of the bundle.  I don't know if my
manual copying the 3rd Party Library affected the application permission or
whether I need to set some permission when reading Content out of the
application.  Again the application works without any of these alteration
when I run it out of the IDE.

To boil it down.  What I want to do is to bundle and deploy a MonoMac
application that contains a 3rd party dynamic library.

If anyone has experience this problem and can provide some insight and
information I'd greatly appreciate it.

Thanks,
Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20111111/390312d4/attachment-0001.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20111111/390312d4/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004647.html">[Mono-osx] Setting environment variables in MonoMac
</A></li>
	<LI>Next message: <A HREF="004650.html">[Mono-osx] Deploying MonoMac Application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4649">[ date ]</a>
              <a href="thread.html#4649">[ thread ]</a>
              <a href="subject.html#4649">[ subject ]</a>
              <a href="author.html#4649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
