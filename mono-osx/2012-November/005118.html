<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] MonoMac / Build process and obfuscation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20MonoMac%20/%20Build%20process%20and%20obfuscation&In-Reply-To=%3C8D30BCF6-B61B-461C-BE35-63201B410CC4%40elevenworks.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005117.html">
   <LINK REL="Next"  HREF="005119.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] MonoMac / Build process and obfuscation</H1>
    <B>Jon Lipsky</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=Re%3A%20%5BMono-osx%5D%20MonoMac%20/%20Build%20process%20and%20obfuscation&In-Reply-To=%3C8D30BCF6-B61B-461C-BE35-63201B410CC4%40elevenworks.com%3E"
       TITLE="[Mono-osx] MonoMac / Build process and obfuscation">jon.lipsky at elevenworks.com
       </A><BR>
    <I>Tue Nov 20 21:00:49 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="005117.html">[Mono-osx] MonoMac / Build process and obfuscation
</A></li>
        <LI>Next message: <A HREF="005119.html">[Mono-osx] MonoMac / Build process and obfuscation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5118">[ date ]</a>
              <a href="thread.html#5118">[ thread ]</a>
              <a href="subject.html#5118">[ subject ]</a>
              <a href="author.html#5118">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

It's not pretty; however I found a solution that works for my projects.  

First, I build all of my dependent projects like normal.

Second, In my target MonoMac project I have a script the runs &quot;before build&quot; which obfuscates all of the dependent libraries.  It does this by starting a virtual machine (or making sure that it's running) on the same mac that is doing the build, and then SSHing into that virtual machine and calling a batch file that obfuscates the assemblies.  The virtual machine is configured with a &quot;shared directory&quot; that points to my actual project in the Mac file system, so the obfuscations are done in place.

Since the obfuscation is done before the MonoMac project is built itself, the app is built and signed with the obfuscated assemblies.

The only limitation to my approach is that the MonoMac project itself can't be obfuscated since the script runs &quot;before build&quot;; however I worked around that by moving everything I want obfuscated into a dependent project.  My target MonoMac project pretty much only consists of resources, property lists and enough code to bootstrap the app.

Jon...

On Nov 20, 2012, at 1:32 PM, thenextman wrote:

&gt;<i> I'm experimenting with obfuscation in MonoMac. We have a lot of existing
</I>&gt;<i> business logic that we are reusing and would like it to be obfuscated (with
</I>&gt;<i> the acknowledgement that a keen developer will still be able to deobfuscate
</I>&gt;<i> and read the code)
</I>&gt;<i> 
</I>&gt;<i> It seems like once I've compiled my project (into a .app), I can crack the
</I>&gt;<i> package open and apply some obfuscation to the assemblies / exe inside
</I>&gt;<i> without any problems.
</I>&gt;<i> 
</I>&gt;<i> But presumably this is an issue, if my .app is signed?
</I>&gt;<i> 
</I>&gt;<i> Is anyone obfuscating their MonoMac application? Does anyone have
</I>&gt;<i> suggestions for how I can integrate this into our build?
</I>&gt;<i> 
</I>&gt;<i> 1) I could obfuscate my assemblies in advance, then link the binaries to my
</I>&gt;<i> MonoMac project and build that. Of course this is a pain, and it means any
</I>&gt;<i> logic in my MonoMac .exe will not be obfuscated
</I>&gt;<i> 2) Perhaps there is a way to 'delay' sign and package the Mac .app? So I
</I>&gt;<i> could build as normal, obfuscate, then do that packaging and signing step?
</I>&gt;<i> Does anyone have an insight into this?
</I>&gt;<i> 3) Perhaps there is a way to integrate obfuscation into the build process
</I>&gt;<i> directly? In Visual Studio, I could presumably create an MSBuild task and
</I>&gt;<i> obfuscate my .NET code before the MonoMac signing / packaging step.
</I>&gt;<i> 
</I>&gt;<i> If anyone had some insight that could help, I would be very grateful! Thank
</I>&gt;<i> you in advance.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/MonoMac-Build-process-and-obfuscation-tp4657475.html">http://mono.1490590.n4.nabble.com/MonoMac-Build-process-and-obfuscation-tp4657475.html</A>
</I>&gt;<i> Sent from the Mono - OSX mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-osx mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005117.html">[Mono-osx] MonoMac / Build process and obfuscation
</A></li>
	<LI>Next message: <A HREF="005119.html">[Mono-osx] MonoMac / Build process and obfuscation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5118">[ date ]</a>
              <a href="thread.html#5118">[ thread ]</a>
              <a href="subject.html#5118">[ subject ]</a>
              <a href="author.html#5118">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
