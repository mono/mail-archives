<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] PermFormSelectOnMainThread patch for monomac
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20PermFormSelectOnMainThread%20patch%20for%20monomac&In-Reply-To=BANLkTikmjv82bwxbmECWG5MrXt5isLFg4w%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004320.html">
   <LINK REL="Next"  HREF="004322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] PermFormSelectOnMainThread patch for monomac</H1>
    <B>Maxi Combina</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20PermFormSelectOnMainThread%20patch%20for%20monomac&In-Reply-To=BANLkTikmjv82bwxbmECWG5MrXt5isLFg4w%40mail.gmail.com"
       TITLE="[Mono-osx] PermFormSelectOnMainThread patch for monomac">maxi.combina at passwordbank.com
       </A><BR>
    <I>Mon May 23 08:24:10 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004320.html">[Mono-osx] PermFormSelectOnMainThread patch for monomac
</A></li>
        <LI>Next message: <A HREF="004322.html">[Mono-osx] PermFormSelectOnMainThread patch for monomac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4321">[ date ]</a>
              <a href="thread.html#4321">[ thread ]</a>
              <a href="subject.html#4321">[ subject ]</a>
              <a href="author.html#4321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have tried now and they didn't work.

However, I found the problem:
The patch I sent passes &quot;obj == null ? IntPtr.Zero : obj.Handle&quot;, but the
implementation of InvokeOnMainThread() uses &quot;obj.Handle&quot; without checking
for null.

My selector does not take argument, so I use null as argument...
and InvokeOnMainThread() fails. If I change
monomac/src/Foundation/NSObject.cs:InvokeOnMainThread() to check for null,
it works.

So: could this small change be added? Or is it mandatory to pass a non-null
paramter to InvokeOnMainThread()?

Thanks!
maxi

2011/5/23 Duane Wandless &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">duane at wandless.net</A>&gt;

&gt;<i> Did you try NSObject.BeginInvokeOnMainThread or
</I>&gt;<i> NSObject.InvokeOnMainThread?
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://wiki.monotouch.net/HowTo/Threading">http://wiki.monotouch.net/HowTo/Threading</A>
</I>&gt;<i>
</I>&gt;<i> Duane
</I>&gt;<i>
</I>&gt;<i> On Mon, May 23, 2011 at 6:35 AM, Maxi Combina &lt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">maxi.combina at passwordbank.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I need the functionallity of performing a selector on the main thread (as
</I>&gt;&gt;<i> WebKit methods can't be invoked from secundary threads). As I could not find
</I>&gt;&gt;<i> a way to achieve this with the current MonoMac API, I binded
</I>&gt;&gt;<i> NSObject.performSelectorOnMainThread:withObject:waitUntilDone:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I would appreciate if this (o a better) patch is included in mainstream.
</I>&gt;&gt;<i> Or, if there is another way to perform a selector on the main thread without
</I>&gt;&gt;<i> this patch, you could give me some pointer :)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please let me know. Kind regards,
</I>&gt;&gt;<i> maxi
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> *Maxi Combina*
</I>&gt;&gt;<i> Cell:+1 408 300 3614
</I>&gt;&gt;<i> Tel:  +1 408 524 1579
</I>&gt;&gt;<i> 440 N. Wolfe Road. Sunnyvale. CA. 94085. USA
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;<A HREF="http://www.passwordbank.com/">http://www.passwordbank.com/</A>&gt;www.PasswordBank.com&lt;<A HREF="http://www.passwordbank.com/">http://www.passwordbank.com/</A>&gt;
</I>&gt;&gt;<i> This message and its attachments are sent from PasswordBank, Inc. and may
</I>&gt;&gt;<i> contain information that is
</I>&gt;&gt;<i> confidential. If you are not the intended recipient, you are prohibited
</I>&gt;&gt;<i> from printing, copying, forwarding or
</I>&gt;&gt;<i> saving them. Please delete the message and attachments without printing,
</I>&gt;&gt;<i> copying, forwarding or saving
</I>&gt;&gt;<i> them, and notify the sender immediately. Message transmission is not
</I>&gt;&gt;<i> guaranteed to be secure.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-osx mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">Mono-osx at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-osx">http://lists.ximian.com/mailman/listinfo/mono-osx</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>

-- 
*Maxi Combina*
Cell:+1 408 300 3614
Tel:  +1 408 524 1579
440 N. Wolfe Road. Sunnyvale. CA. 94085. USA

&lt;<A HREF="http://www.passwordbank.com/">http://www.passwordbank.com/</A>&gt;www.PasswordBank.com&lt;<A HREF="http://www.passwordbank.com/">http://www.passwordbank.com/</A>&gt;
This message and its attachments are sent from PasswordBank, Inc. and may
contain information that is
confidential. If you are not the intended recipient, you are prohibited from
printing, copying, forwarding or
saving them. Please delete the message and attachments without printing,
copying, forwarding or saving
them, and notify the sender immediately. Message transmission is not
guaranteed to be secure.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20110523/44055ecb/attachment.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20110523/44055ecb/attachment.html</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004320.html">[Mono-osx] PermFormSelectOnMainThread patch for monomac
</A></li>
	<LI>Next message: <A HREF="004322.html">[Mono-osx] PermFormSelectOnMainThread patch for monomac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4321">[ date ]</a>
              <a href="thread.html#4321">[ thread ]</a>
              <a href="subject.html#4321">[ subject ]</a>
              <a href="author.html#4321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
