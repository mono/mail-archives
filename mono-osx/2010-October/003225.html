<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] how override an Objective C method?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20how%20override%20an%20Objective%20C%20method%3F&In-Reply-To=C8EDE58E.37AE%25gnorton%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003224.html">
   <LINK REL="Next"  HREF="003243.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] how override an Objective C method?</H1>
    <B>Eric Slosser</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20how%20override%20an%20Objective%20C%20method%3F&In-Reply-To=C8EDE58E.37AE%25gnorton%40novell.com"
       TITLE="[Mono-osx] how override an Objective C method?">eric.slosser at v-fx.com
       </A><BR>
    <I>Wed Oct 27 16:35:38 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003224.html">[Mono-osx] how override an Objective C method?
</A></li>
        <LI>Next message: <A HREF="003243.html">[Mono-osx] how override an Objective C method?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3225">[ date ]</a>
              <a href="thread.html#3225">[ thread ]</a>
              <a href="subject.html#3225">[ subject ]</a>
              <a href="author.html#3225">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Oct 27, 2010, at 2:23 PM, Geoff Norton wrote:

&gt;<i> As miguel said, you're wanting to bind a static method so you need something like this:
</I>&gt;<i> [Export (&quot;respondsToSelector:&quot;)]
</I>&gt;<i> public static bool RespondsToSelector (Selector sel)
</I>
Actually, Miguel was pointing out the opposite, that I had written &quot;+&quot;, when I meant &quot;-&quot;.

Having gone back and re-read the Apple documentation on -[NSObject respondsToSelector:], I see I was wrong to try to call the base implementation of &quot;respondsToSelector&quot;, I should have been calling +[NSObject instancesRespondToSelector:].

By combining your code with the Apple info I got this which behaves as I wanted.

public override bool RespondsToSelector (Selector sel)
{
   bool result = Messaging.bool_objc_msgSend_intptr ( Class.GetHandle (&quot;WhateverYourSuperClassIs&quot;),  Selector.GetHandle (&quot;instancesRespondToSelector:&quot;), sel.Handle);
   Console.WriteLine(&quot;responds to: {0} {1}&quot;, result ? &quot;yes &quot; : &quot;no  &quot;, sel.Name);
   return result;
}

&gt;<i> The bigger question is why do you want to override this method?  It's very odd that you would want to do this, since the NSObject instance and objc-runtime should handle this for you.
</I>
I'm not going to change the return value, I just want to report it so I can see what selectors my object is being asked about.  It's a generally useful technique, because you can see what selectors Cocoa is wondering about, and not spend time implementing the ones it doesn't.

My specific use in this case was to figure out why a certain delegate method that I had implemented wasn't getting called.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-osx/attachments/20101027/e7179b96/attachment-0001.html">http://lists.ximian.com/pipermail/mono-osx/attachments/20101027/e7179b96/attachment-0001.html</A> 
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003224.html">[Mono-osx] how override an Objective C method?
</A></li>
	<LI>Next message: <A HREF="003243.html">[Mono-osx] how override an Objective C method?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3225">[ date ]</a>
              <a href="thread.html#3225">[ thread ]</a>
              <a href="subject.html#3225">[ subject ]</a>
              <a href="author.html#3225">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
