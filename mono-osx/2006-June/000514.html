<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-osx] mono for OSX - Intel?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20mono%20for%20OSX%20-%20Intel%3F&In-Reply-To=1149885693.3760.31.camel%40berrier.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000513.html">
   <LINK REL="Next"  HREF="000515.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-osx] mono for OSX - Intel?</H1>
    <B>Bryan Berg</B> 
    <A HREF="mailto:mono-osx%40lists.ximian.com?Subject=%5BMono-osx%5D%20mono%20for%20OSX%20-%20Intel%3F&In-Reply-To=1149885693.3760.31.camel%40berrier.site"
       TITLE="[Mono-osx] mono for OSX - Intel?">bryan at imeem.com
       </A><BR>
    <I>Sat Jun 10 05:37:13 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000513.html">[Mono-osx] mono for OSX - Intel?
</A></li>
        <LI>Next message: <A HREF="000515.html">[Mono-osx] mono for OSX - Intel?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#514">[ date ]</a>
              <a href="thread.html#514">[ thread ]</a>
              <a href="subject.html#514">[ subject ]</a>
              <a href="author.html#514">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>(I'm using a webmail client from home, so I apologize in advance if the
formatting of this mail is munged in any way.)

On Fri, June 9, 2006 1:41 pm, Wade Berrier wrote:
&gt;<i> Yes, it was unfortunate that the build process was in the middle of
</I>&gt;<i> changing right when Bryan was working on that.  But, it wasn't so much
</I>&gt;<i> that I wanted to revamp the build process, as it was that I wanted to
</I>&gt;<i> integrate the process into the same system that is used for all of our
</I>&gt;<i> other platforms: linux, windows, and solaris.  This allows faster build
</I>&gt;<i> times for releases, easier maintenance, and a uniform system to run our
</I>&gt;<i> test suite on builds that end up being released to the public.
</I>
The work you've done on the new build system is fantastic, and the project
as a whole will certainly benefit from those changes.  The original work I
did was intended as more of a proof-of-concept.  To use the newer build
system would have involved quite a bit of overhead and would have slowed
me down on completing anything.  I had originally intended to integrate
the universal build stuff into the official build system, but other tasks
at work took priority.  Turns out I apparently had other work to do.  :)

&gt;<i> Another option for universal installer integration is to split_and_lipo
</I>&gt;<i> on all the built zip/rpm files just previous to creating the installer
</I>&gt;<i> (IE: within macosx/new/buildpackage).
</I>
This is actually a pretty excellent idea: provided you're building
separate PPC and Intel frameworks natively (pretty much exactly as you are
today, except the PPC build machine would have to run 10.4), just prior to
building the pkg, find all the mach-o binaries in
Mono.framework/Versions/Current and lipo the ppc and i386 versions
together, which is pretty much what split_and_lipo does.  Since you have
the machines and you have the distributed build-fu, it should be pretty
trivial to get that going.  As for the ppc 10.4 dependency, you can (as
Allan pointed out) just use the 10.3 sdk.  Since you won't really be
cross-compiling (the host can run the generated binaries), you shouldn't
run into any weird issues at all.

The only caveat I can see is that glib creates glibconfig.h at autoconf
time.  So as part of the lipo step you would have to rename the i386 and
ppc files and conditionally include them.  That is also pretty trivial (in
fact, I was doing it that tarball of universal build scripts I posted) and
is not nearly as terrible as it sounds.

I am still lurking around in #mono as bdb, too... just not watching it as
much; if you ping me there I would be happy to help out.

Take care,

-Bryan

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000513.html">[Mono-osx] mono for OSX - Intel?
</A></li>
	<LI>Next message: <A HREF="000515.html">[Mono-osx] mono for OSX - Intel?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#514">[ date ]</a>
              <a href="thread.html#514">[ thread ]</a>
              <a href="subject.html#514">[ subject ]</a>
              <a href="author.html#514">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-osx">More information about the Mono-osx
mailing list</a><br>
</body></html>
