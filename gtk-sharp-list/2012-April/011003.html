<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Fast drawing on screen
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Re%3A%20%5BGtk-sharp-list%5D%20Fast%20drawing%20on%20screen&In-Reply-To=%3C20120421193231.40D33381%40centrum.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011009.html">
   <LINK REL="Next"  HREF="011007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Fast drawing on screen</H1>
    <B>pinggi at centrum.cz</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Re%3A%20%5BGtk-sharp-list%5D%20Fast%20drawing%20on%20screen&In-Reply-To=%3C20120421193231.40D33381%40centrum.cz%3E"
       TITLE="[Gtk-sharp-list] Fast drawing on screen">pinggi at centrum.cz
       </A><BR>
    <I>Sat Apr 21 17:32:31 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011009.html">[Gtk-sharp-list] Xml Document
</A></li>
        <LI>Next message: <A HREF="011007.html">[Gtk-sharp-list] Remove Minimize/Maximize Buttons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11003">[ date ]</a>
              <a href="thread.html#11003">[ thread ]</a>
              <a href="subject.html#11003">[ subject ]</a>
              <a href="author.html#11003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I'm trying to make an app which would render smooth 'animation' in more than 30 fps. Animated objects are drawn through cairo to Cairo.ImageSurface and then drawn in OnExposeEvent to Gtk.DrawingArea. 

Second thread updates scene and calls QueueDraw on the widget. I think this technique (to draw everything in OnExposeEvent) is good for painting widgets but not for performance rendering. 
Screen response is low because rendering depends on UI message queue. I need to render graphics directly. 
I can't use GDK functions in the second thread because they need to be called on the first thread where GUI was created and I'd like to avoid locking also (gdk_threads_enter / gdk_threads_leave).

My idea is to create offscreen buffer where the second thread can render graphics and then somehow blit it fast to the gtk drawing area or window directly by flipping (changing only pointers or I don't know).

Do you have any idea how to do that?

[pinggi]
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011009.html">[Gtk-sharp-list] Xml Document
</A></li>
	<LI>Next message: <A HREF="011007.html">[Gtk-sharp-list] Remove Minimize/Maximize Buttons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11003">[ date ]</a>
              <a href="thread.html#11003">[ thread ]</a>
              <a href="subject.html#11003">[ subject ]</a>
              <a href="author.html#11003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
