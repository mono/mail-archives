<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Gtk DrawingArea &amp; Double-Buffering with Cairo
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Gtk%20DrawingArea%20%26%20Double-Buffering%20with%20Cairo&In-Reply-To=1313141730259-3738337.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010818.html">
   <LINK REL="Next"  HREF="010821.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Gtk DrawingArea &amp; Double-Buffering with Cairo</H1>
    <B>philippe.monteil</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Gtk%20DrawingArea%20%26%20Double-Buffering%20with%20Cairo&In-Reply-To=1313141730259-3738337.post%40n4.nabble.com"
       TITLE="[Gtk-sharp-list] Gtk DrawingArea &amp; Double-Buffering with Cairo">philippe.monteil at dolce-vista.com
       </A><BR>
    <I>Tue Aug 23 02:10:37 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010818.html">[Gtk-sharp-list] SQLite Insert Statement With Parameters Generates SQL logic error or missing database
</A></li>
        <LI>Next message: <A HREF="010821.html">[Gtk-sharp-list] Cairo 1.10.2 / Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10819">[ date ]</a>
              <a href="thread.html#10819">[ thread ]</a>
              <a href="subject.html#10819">[ subject ]</a>
              <a href="author.html#10819">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>How about:
- render your charts in an ImageSurface, eventually in a background thread,
save it in a class member
- use it to paint the background of the DrawingArea, perform any additional
drawing on top of it

something like:

static ImageSurface build_Surface(int Width, int Height, Color Color)
{
	Context _context = null;
	try
	{
		ImageSurface _surface = new ImageSurface(Format.Argb32, Width, Height);
			
		_context = new Context(_surface);
			
                _context.Rectangle(0, 0, Width, Height);
                _context.Color = Color;
                _context.Fill();
			
		return _surface;
	}
	finally
	{
		if (_context != null) ((IDisposable)_context).Dispose();
	}
}

ImageSurface m_surface = build_Surface(512, 512, new Color(1,0,0,1));

private void onExposeEvent (object o, ExposeEventArgs args)
{
	DateTime _ti = DateTime.Now;
	Context _pContext = null;
	try
	{
		_pContext = Gdk.CairoHelper.Create(this.GdkWindow);
			
		_pContext.Rectangle(0, 0, this.Allocation.Width, this.Allocation.Height);
		_pContext.SetSource(m_surface);
		_pContext.Fill();
			
		// Any additional rendering here

	}
	finally
	{
		if (_pContext != null) ((IDisposable)_pContext).Dispose();
	}
}


--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Gtk-DrawingArea-Double-Buffering-with-Cairo-tp3738337p3761932.html">http://mono.1490590.n4.nabble.com/Gtk-DrawingArea-Double-Buffering-with-Cairo-tp3738337p3761932.html</A>
Sent from the Mono - Gtk# mailing list archive at Nabble.com.
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010818.html">[Gtk-sharp-list] SQLite Insert Statement With Parameters Generates SQL logic error or missing database
</A></li>
	<LI>Next message: <A HREF="010821.html">[Gtk-sharp-list] Cairo 1.10.2 / Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10819">[ date ]</a>
              <a href="thread.html#10819">[ thread ]</a>
              <a href="subject.html#10819">[ subject ]</a>
              <a href="author.html#10819">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
