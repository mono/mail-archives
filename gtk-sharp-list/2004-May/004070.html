<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Debugging binding issues (managed-unmanaged
 interface problems)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mkestner%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="004069.html">
   <LINK REL="Next"  HREF="004055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Debugging binding issues (managed-unmanaged
 interface problems)
   </H1>
    <B>Mike Kestner
    </B> 
    <A HREF="mailto:mkestner%40ximian.com"
       TITLE="[Gtk-sharp-list] Debugging binding issues (managed-unmanaged
 interface problems)">mkestner@ximian.com
       </A><BR>
    <I>Mon, 17 May 2004 14:31:58 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="004069.html">[Gtk-sharp-list] Debugging binding issues (managed-unmanaged interface problems)
</A></li>
        <LI> Next message: <A HREF="004055.html">[Gtk-sharp-list] libxml dependency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4070">[ date ]</a>
              <a href="thread.html#4070">[ thread ]</a>
              <a href="subject.html#4070">[ subject ]</a>
              <a href="author.html#4070">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2004-05-17 at 14:04, Peter Johanson wrote:
&gt;<i> On Mon, May 17, 2004 at 11:41:26AM -0500, Mike Kestner wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Define &quot;earliest point possible.&quot;  Did you insert C.WLs in
</I>&gt;<i> &gt; voidObjectCallback?
</I>&gt;<i> 
</I>&gt;<i> Yup, here's a snippet from the start of that method:
</I>&gt;<i> 
</I>&gt;<i> private static void voidObjectCallback(IntPtr arg0, int key)
</I>&gt;<i> {       
</I>&gt;<i> 	Console.WriteLine(&quot;We've entered the callback!&quot;);
</I>&gt;<i> 	if (!_Instances.Contains(key))
</I>&gt;<i> 		throw new Exception(&quot;..
</I>&gt;<i> 
</I>&gt;<i> and here's what happens when running my small test program:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="mailto:peter@gonzo">peter@gonzo</A> src $ mono test-gst-backend.exe
</I>&gt;<i> ~/audio/emoish/modest_mouse/modest_mouse-01-horn_intro.ogg
</I>&gt;<i> Trying to LinkMany!
</I>&gt;<i> Succeeded to LinkMany!
</I>&gt;<i> setting the file?
</I>&gt;<i> Setting the location to
</I>&gt;<i> /home/peter/audio/emoish/modest_mouse/modest_mouse-01-horn_intro.ogg!
</I>&gt;<i> Playing!
</I>&gt;<i> Segmentation fault
</I>&gt;<i> 
</I>&gt;<i> The segfault happens right when the song ends.
</I>
Only thing I can think of is that maybe for some reason your
SignalHandler is getting gc'd and the callback delegate is being
released prior to the invocation from native code.

Maybe try adding a finalizer to the SignalHandler class to see if that's
what's going on?

-- 
Mike Kestner &lt;<A HREF="mailto:mkestner@ximian.com">mkestner@ximian.com</A>&gt;


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004069.html">[Gtk-sharp-list] Debugging binding issues (managed-unmanaged interface problems)
</A></li>
	<LI> Next message: <A HREF="004055.html">[Gtk-sharp-list] libxml dependency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4070">[ date ]</a>
              <a href="thread.html#4070">[ thread ]</a>
              <a href="subject.html#4070">[ subject ]</a>
              <a href="author.html#4070">[ author ]</a>
         </LI>
       </UL>
</body></html>
