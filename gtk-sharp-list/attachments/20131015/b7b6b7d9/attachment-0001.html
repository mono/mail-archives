<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:12.800000190734863px&quot;&gt;Hi&nbsp;all,&lt;/span&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:12.800000190734863px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:12.800000190734863px&quot;&gt;<br>
I&#39;m&nbsp;using&nbsp;Mono&nbsp;and&nbsp;.Net&nbsp;2&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;load&nbsp;a System.Drawing.Image&nbsp;image&nbsp;to ImageSurface&nbsp;for&nbsp;CairoGraphics.&nbsp;All&nbsp;my&nbsp;efforts&nbsp;led&nbsp;to&nbsp;fussy&nbsp;images&nbsp;but&nbsp;the&nbsp;one&nbsp;as&nbsp;follows:&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:12.800000190734863px&quot;&gt;<br>
&lt;div&gt;const&nbsp;string&nbsp;TmpFileName&nbsp;=&nbsp;&quot;cairo_tmp.png&quot;;&lt;/div&gt;&lt;div&gt;image.Save(TmpFileName,&nbsp;ImageFormat.Png);&lt;/div&gt;&lt;div&gt;var&nbsp;imageSurface&nbsp;=&nbsp;new&nbsp;ImageSurface(TmpFileName);&lt;/div&gt;&lt;div&gt;imageSurface.Show(this.m_internalContext,&nbsp;x,&nbsp;y);&lt;/div&gt;<br>
&lt;div&gt;imageSurface.Destroy();&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;However,&nbsp;I&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;write&nbsp;it&nbsp;to&nbsp;disk&nbsp;and&nbsp;load&nbsp;it&nbsp;again.&nbsp;Is&nbsp;there&nbsp;any&nbsp;other&nbsp;solution?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;other&nbsp;thing&nbsp;I&nbsp;tried&nbsp;is&nbsp;as&nbsp;follows:&lt;/div&gt;&lt;div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Bitmap&nbsp;clone&nbsp;=&nbsp;new&nbsp;Bitmap(image.Width,&nbsp;image.Height,&nbsp;System.Drawing.Imaging.PixelFormat.Format32bppArgb);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;using&nbsp;(System.Drawing.Graphics&nbsp;gr&nbsp;=&nbsp;System.Drawing.Graphics.FromImage(clone))&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gr.DrawImage(image,&nbsp;new&nbsp;Rectangle(0,&nbsp;0,&nbsp;clone.Width,&nbsp;clone.Height));&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var&nbsp;ms&nbsp;=&nbsp;new&nbsp;MemoryStream();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;image.Save(ms,&nbsp;ImageFormat.Bmp);&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var&nbsp;imageSurface&nbsp;=&nbsp;new&nbsp;ImageSurface(ms.ToArray(),&nbsp;Format.ARGB32,&nbsp;image.Width,&nbsp;image.Height,&nbsp;image.Width&nbsp;*&nbsp;4);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.m_internalContext.Antialias&nbsp;=&nbsp;Antialias.None;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;imageSurface.Show(this.m_internalContext,&nbsp;destRect.X,&nbsp;destRect.Y);&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;imageSurface.Destroy();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ms.Dispose();&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;the&nbsp;problem&nbsp;is&nbsp;related&nbsp;to&nbsp;the&nbsp;formatting.&nbsp;my&nbsp;black&nbsp;pictures&nbsp;with&nbsp;white&nbsp;letters&nbsp;inside&nbsp;become&nbsp;green&nbsp;pictures,&nbsp;cut&nbsp;in&nbsp;half&nbsp;which&nbsp;are&nbsp;rotated.&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&nbsp;style=&quot;font-family:Tahoma;font-size:13px&quot;&gt;S.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:10pt;font-family:Arial,sans-serif&quot;&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:Tahoma;font-size:13px&quot;&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
