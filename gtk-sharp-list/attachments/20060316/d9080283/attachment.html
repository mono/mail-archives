<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7638.1&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[Gtk-sharp-list]&nbsp;Best&nbsp;way&nbsp;to&nbsp;build&nbsp;a&nbsp;zoom&nbsp;effect?&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/plain&nbsp;format&nbsp;--&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Here's&nbsp;pretty&nbsp;much&nbsp;everything&nbsp;you'll&nbsp;need...&nbsp;Enjoy!&lt;BR&gt;<br>
&lt;BR&gt;<br>
Wes&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;lt;method&nbsp;variables&amp;gt;&amp;nbsp;&amp;nbsp;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;private&nbsp;System.Xml.XmlDocument&nbsp;_xmlDoc;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;lt;initialization&amp;gt;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;_xmlDoc&nbsp;=&nbsp;new&nbsp;System.Xml.XmlDocument();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;_xmlDoc.Load(SVGFileName);&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;BR&gt;<br>
&amp;lt;Called&nbsp;from&nbsp;the&nbsp;SizeAllocated&nbsp;event&nbsp;for&nbsp;the&nbsp;Gtk.ScrolledWin&nbsp;that&nbsp;contains&nbsp;the&nbsp;passed&nbsp;in&nbsp;Gtk.EventBox&amp;gt;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;private&nbsp;void&nbsp;RenderSVG(ref&nbsp;System.Xml.XmlDocument&nbsp;xmlDoc,&nbsp;ref&nbsp;Gtk.EventBox&nbsp;eventBox)&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;XmlNode&nbsp;nodeElem;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;int&nbsp;width,&nbsp;height;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gdk.Pixmap&nbsp;pixmap,&nbsp;pixmap_mask;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gdk.Pixbuf&nbsp;pixbuf;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;get&nbsp;the&nbsp;&amp;quot;available&amp;quot;&nbsp;width&nbsp;and&nbsp;height&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;width&nbsp;=&nbsp;eventBox.Allocation.Width;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;height&nbsp;=&nbsp;eventBox.Allocation.Height;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;try&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;nodeElem&nbsp;=&nbsp;xmlDoc.SelectSingleNode(&amp;quot;//*[@id='svgRoot']&amp;quot;);&amp;nbsp;&nbsp;//&nbsp;xpath&nbsp;search&nbsp;for&nbsp;the&nbsp;root&nbsp;element&nbsp;by&nbsp;id&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;nodeElem.Attributes.GetNamedItem(&amp;quot;width&amp;quot;).Value&nbsp;=&nbsp;width.ToString();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;nodeElem.Attributes.GetNamedItem(&amp;quot;height&amp;quot;).Value&nbsp;=&nbsp;height.ToString();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;catch(Exception&nbsp;ex)&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Console.WriteLine(&amp;quot;Error&nbsp;updating&nbsp;SVG&nbsp;size&nbsp;properties:&nbsp;&amp;quot;);&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Console.WriteLine(&amp;quot;&amp;nbsp;&nbsp;&amp;quot;&nbsp;+&nbsp;ex.Message&nbsp;);&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;render&nbsp;the&nbsp;SVG&nbsp;into&nbsp;a&nbsp;pixbuf&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;System.IO.MemoryStream&nbsp;streamSVG&nbsp;=&nbsp;new&nbsp;System.IO.MemoryStream();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;xmlDoc.Save(streamSVG);&amp;nbsp;&nbsp;//&nbsp;put&nbsp;the&nbsp;XML&nbsp;doc&nbsp;in&nbsp;a&nbsp;Stream&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;streamSVG.Position&nbsp;=&nbsp;0;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;reset&nbsp;the&nbsp;stream&nbsp;once&nbsp;written,&nbsp;this&nbsp;is&nbsp;IMPORTANT!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;pixbuf&nbsp;=&nbsp;new&nbsp;Gdk.Pixbuf(streamSVG);&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;pixbuf.RenderPixmapAndMask(out&nbsp;pixmap,&nbsp;out&nbsp;pixmap_mask,&nbsp;0&nbsp;);&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;eventBox.GdkWindow.SetBackPixmap(&nbsp;pixmap,&nbsp;false&nbsp;);&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
-----Original&nbsp;Message-----&lt;BR&gt;<br>
From:&nbsp;gtk-sharp-list-bounces@lists.ximian.com&nbsp;on&nbsp;behalf&nbsp;of&nbsp;Julien&nbsp;Sobrier&lt;BR&gt;<br>
Sent:&nbsp;Thu&nbsp;3/16/2006&nbsp;10:36&nbsp;PM&lt;BR&gt;<br>
Cc:&nbsp;gtk-sharp-list@lists.ximian.com&lt;BR&gt;<br>
Subject:&nbsp;Re:&nbsp;[Gtk-sharp-list]&nbsp;Best&nbsp;way&nbsp;to&nbsp;build&nbsp;a&nbsp;zoom&nbsp;effect?&lt;BR&gt;<br>
&lt;BR&gt;<br>
Crucius,&nbsp;Wesley&nbsp;wrote:&lt;BR&gt;<br>
&amp;gt;&nbsp;I'd&nbsp;suggest&nbsp;using&nbsp;Inkscape&nbsp;to&nbsp;draw&nbsp;the&nbsp;text&nbsp;and&nbsp;save&nbsp;it&nbsp;as&nbsp;an&nbsp;SVG&lt;BR&gt;<br>
&amp;gt;&nbsp;document&nbsp;and&nbsp;then&nbsp;use&nbsp;Gdk.Pixbuf&nbsp;to&nbsp;load&nbsp;and&nbsp;render&nbsp;to&nbsp;a&nbsp;bitmap.&amp;nbsp;&nbsp;If&nbsp;the&lt;BR&gt;<br>
&amp;gt;&nbsp;text&nbsp;is&nbsp;static&nbsp;you&nbsp;can&nbsp;just&nbsp;use&nbsp;the&nbsp;&amp;quot;.svg&nbsp;file&nbsp;load&nbsp;with&nbsp;scaling&lt;BR&gt;<br>
&amp;gt;&nbsp;version&amp;quot;&nbsp;of&nbsp;the&nbsp;constructor,&nbsp;otherwise,&nbsp;load&nbsp;the&nbsp;svg&nbsp;into&nbsp;an&nbsp;XML&nbsp;DOM&lt;BR&gt;<br>
&amp;gt;&nbsp;doc,&nbsp;manipulate&nbsp;the&nbsp;width&nbsp;&amp;amp;&nbsp;height&nbsp;attributes&nbsp;of&nbsp;the&nbsp;SVG&nbsp;within&nbsp;the&nbsp;DOM&lt;BR&gt;<br>
&amp;gt;&nbsp;(to&nbsp;scale&nbsp;it),&nbsp;save&nbsp;it&nbsp;as&nbsp;an&nbsp;XMLStream,&nbsp;and&nbsp;then&nbsp;use&nbsp;the&nbsp;stream&nbsp;version&lt;BR&gt;<br>
&amp;gt;&nbsp;of&nbsp;the&nbsp;Pixbuf&nbsp;constructor.&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;I've&nbsp;done&nbsp;it&nbsp;both&nbsp;ways,&nbsp;so&nbsp;I&nbsp;know&nbsp;either&nbsp;one&nbsp;will&nbsp;work,&nbsp;however&nbsp;it&nbsp;is&nbsp;a&lt;BR&gt;<br>
&amp;gt;&nbsp;bit&nbsp;CPU&nbsp;intensive.&lt;BR&gt;<br>
&amp;gt;&lt;BR&gt;<br>
&amp;gt;&nbsp;Wes&lt;BR&gt;<br>
&lt;BR&gt;<br>
Thanks.&nbsp;I'll&nbsp;try&nbsp;that.&nbsp;And&nbsp;I&nbsp;guess&nbsp;I&nbsp;still&nbsp;need&nbsp;to&nbsp;modify&nbsp;the&nbsp;picture&lt;BR&gt;<br>
size&nbsp;every&nbsp;x&nbsp;milliseconds.&lt;BR&gt;<br>
&lt;BR&gt;<br>
I'm&nbsp;not&nbsp;familiar&nbsp;with&nbsp;the&nbsp;XML&nbsp;library&nbsp;of&nbsp;Mon,&nbsp;and&nbsp;I&nbsp;can't&nbsp;find&nbsp;the&nbsp;&amp;quot;XML&lt;BR&gt;<br>
DOM&nbsp;doc&amp;quot;.&nbsp;I&nbsp;guess&nbsp;it&nbsp;should&nbsp;be&nbsp;in&nbsp;the&nbsp;class&nbsp;System.XML,&nbsp;but&nbsp;I&nbsp;don't&nbsp;know&lt;BR&gt;<br>
in&nbsp;which&nbsp;class.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
Thank&nbsp;you&lt;BR&gt;<br>
Julien&lt;BR&gt;<br>
_______________________________________________&lt;BR&gt;<br>
Gtk-sharp-list&nbsp;maillist&amp;nbsp;&nbsp;-&amp;nbsp;&nbsp;Gtk-sharp-list@lists.ximian.com&lt;BR&gt;<br>
&lt;A&nbsp;HREF=&quot;http://lists.ximian.com/mailman/listinfo/gtk-sharp-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/gtk-sharp-list&lt;/A&gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
