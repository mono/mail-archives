<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Brad,&lt;br&gt;&lt;br&gt;Ok,&nbsp;I&amp;#39;ll&nbsp;give&nbsp;more&nbsp;details&nbsp;here.&nbsp;First&nbsp;of&nbsp;all&nbsp;we&nbsp;did&nbsp;not&nbsp;use&nbsp;the&nbsp;MedSphere&nbsp;SDK&nbsp;this&nbsp;time&nbsp;for&nbsp;the&nbsp;gtk+&nbsp;libraries,&nbsp;we&nbsp;used&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://gtk.org&quot;&gt;gtk.org&lt;/a&gt;&nbsp;bundle.&nbsp;We&nbsp;also&nbsp;modified&nbsp;the&nbsp;installer&nbsp;to&nbsp;use&nbsp;a&nbsp;script&nbsp;to&nbsp;create&nbsp;the&nbsp;msm&nbsp;modules&nbsp;so&nbsp;that&nbsp;we&nbsp;did&nbsp;not&nbsp;have&nbsp;to&nbsp;hand&nbsp;code&nbsp;each&nbsp;wix&nbsp;file.&nbsp;This&nbsp;makes&nbsp;it&nbsp;really&nbsp;easy&nbsp;to&nbsp;add&nbsp;new&nbsp;modules.&nbsp;The&nbsp;basis&nbsp;of&nbsp;the&nbsp;script&nbsp;is&nbsp;found&nbsp;on&nbsp;a&nbsp;blog&nbsp;posting&nbsp;here:&nbsp;&lt;a&nbsp;href=&quot;http://weblogs.asp.net/lorenh/archive/2004/05/09/128899.aspx&quot;&gt;http://weblogs.asp.net/lorenh/archive/2004/05/09/128899.aspx&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;==&nbsp;Gtk#&nbsp;==<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;===&nbsp;Dependencies&nbsp;===<br>
&lt;br&gt;Building&nbsp;GTK#&nbsp;2&nbsp;uses&nbsp;a&nbsp;similar&nbsp;process&nbsp;as&nbsp;building&nbsp;Mono.&nbsp;First,&nbsp;we&amp;#39;ll&nbsp;need&nbsp;some&nbsp;more&nbsp;dependencies:<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;&amp;nbsp;*&nbsp;Cygwin&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://cygwin.org&quot;&gt;cygwin.org&lt;/a&gt;<br>
&lt;br&gt;&amp;nbsp;*&nbsp;Microsoft&amp;#39;s&nbsp;.NET&nbsp;Framework&nbsp;and&nbsp;SDK(both&nbsp;v1.1!)&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://msdn.microsoft.com/downloads&quot;&gt;msdn.microsoft.com/downloads&lt;/a&gt;.<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;Next,&nbsp;make&nbsp;sure&nbsp;the&nbsp;following&nbsp;cygwin&nbsp;packages&nbsp;are&nbsp;installed:<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;Install:<br>
&lt;br&gt;&amp;nbsp;*&nbsp;automake1.10&nbsp;(brings&nbsp;in&nbsp;autoconf,&nbsp;libtool)<br>
&lt;br&gt;&amp;nbsp;*&nbsp;bison<br>
&lt;br&gt;&amp;nbsp;*&nbsp;file<br>
&lt;br&gt;&amp;nbsp;*&nbsp;gcc,&nbsp;gcc-mingw,&nbsp;gcc-mingw-core,&nbsp;gcc-mingw-g++<br>
&lt;br&gt;&amp;nbsp;*&nbsp;gettext<br>
&lt;br&gt;&amp;nbsp;*&nbsp;libtool<br>
&lt;br&gt;&amp;nbsp;*&nbsp;make<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;Remove:<br>
&lt;br&gt;&amp;nbsp;*&nbsp;pkg-config<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;The&nbsp;MS&nbsp;.NET&nbsp;SDK&nbsp;is&nbsp;needed&nbsp;because&nbsp;the&nbsp;gtk-sharp2&nbsp;build&nbsp;currently&nbsp;uses&nbsp;the&nbsp;disassembler(ildasm)&nbsp;from&nbsp;the&nbsp;MS&nbsp;SDK&nbsp;for&nbsp;a&nbsp;portion&nbsp;of&nbsp;the&nbsp;build.&nbsp;Eventually,&nbsp;the&nbsp;gtk-sharp2&nbsp;build&nbsp;will&nbsp;use&nbsp;the&nbsp;tools&nbsp;from&nbsp;Mono,&nbsp;but&nbsp;currently&nbsp;this&nbsp;is&nbsp;how&nbsp;it&amp;#39;s&nbsp;done.&nbsp;Make&nbsp;sure&nbsp;there&nbsp;are&nbsp;no&nbsp;spaces&nbsp;in&nbsp;the&nbsp;installation&nbsp;paths&nbsp;since&nbsp;the&nbsp;GTK#&nbsp;makefiles&nbsp;do&nbsp;not&nbsp;always&nbsp;quote&nbsp;the&nbsp;path&nbsp;to&nbsp;the&nbsp;executables.<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;Now&nbsp;the&nbsp;Gtk&nbsp;dependencies:<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;Download&nbsp;the&nbsp;latest&nbsp;Gtk+&nbsp;bundle&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://www.gtk.org/download-windows.html&quot;&gt;http://www.gtk.org/download-windows.html&lt;/a&gt;&amp;nbsp;<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;===&nbsp;Extract&nbsp;Sources&nbsp;===<br>
&lt;br&gt;In&nbsp;this&nbsp;guide&nbsp;references&nbsp;to&nbsp;ZIP_FILES&nbsp;indicate&nbsp;the&nbsp;Gtk+&nbsp;bundle&nbsp;unzip&nbsp;location.&nbsp;Add&nbsp;the&nbsp;ZIP_FILES\bin&nbsp;directory&nbsp;to&nbsp;your&nbsp;path(Windows&nbsp;XP:&nbsp;control&nbsp;panel-&amp;gt;System-&amp;gt;Advanced-&amp;gt;Environment&nbsp;variables-&amp;gt;Path)&nbsp;and&nbsp;run&nbsp;gtk-demo.exe&nbsp;in&nbsp;the&nbsp;same&nbsp;directory&nbsp;to&nbsp;test&nbsp;your&nbsp;Gtk+&nbsp;installation.<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;===&nbsp;Configure&nbsp;Mono.Cairo&nbsp;===<br>
&lt;br&gt;You&nbsp;will&nbsp;also&nbsp;need&nbsp;to&nbsp;get&nbsp;Mono.Cairo(v1.0).&nbsp;You&nbsp;can&nbsp;find&nbsp;this&nbsp;in&nbsp;Mono&amp;#39;s&nbsp;Windows&nbsp;installer,&nbsp;IIRC.&nbsp;Copy&nbsp;this&nbsp;file&nbsp;to&nbsp;the&nbsp;following:<br>
&lt;br&gt;{{{<br>
&lt;br&gt;mkdir&nbsp;-p&nbsp;/cygdrive/c/ZIP_FILES/lib/mono/1.0<br>
&lt;br&gt;cp&nbsp;SOURCE/Mono.Cairo.dll&nbsp;/cygdrive/c/ZIP_FILES/lib/mono/1.0<br>
&lt;br&gt;}}}<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;Then&nbsp;copy&nbsp;the&nbsp;mono-cairo.pc&nbsp;file&nbsp;into&nbsp;/cygdrive/c/ZIP_FILES/lib/pkgconfig.&nbsp;Change&nbsp;the&nbsp;last&nbsp;line&nbsp;in&nbsp;mono-cairo.pc&nbsp;to&nbsp;reflect&nbsp;its&nbsp;location:<br>
&lt;br&gt;{{{<br>
&lt;br&gt;Libs:&nbsp;-r:C:/ZIP_FILES/lib/mono/1.0/Mono.Cairo.dll<br>
&lt;br&gt;}}}<br>
&lt;br&gt;It&amp;#39;s&nbsp;quite&nbsp;important&nbsp;that&nbsp;you&nbsp;make&nbsp;Libs&nbsp;the&nbsp;correct&nbsp;*Windows*&nbsp;path,&nbsp;since&nbsp;the&nbsp;Libs&nbsp;path&nbsp;will&nbsp;be&nbsp;sent&nbsp;to&nbsp;csc.exe.<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;===&nbsp;pkg-config&nbsp;setup&nbsp;===<br>
&lt;br&gt;As&nbsp;we&nbsp;have&nbsp;to&nbsp;use&nbsp;the&nbsp;win32&nbsp;pkg-config&nbsp;from&nbsp;the&nbsp;Gtk+&nbsp;bundle(because&nbsp;has&nbsp;supports&nbsp;for&nbsp;dynamic&nbsp;disks&nbsp;such&nbsp;as&nbsp;C:/devel/target/...&nbsp;needed&nbsp;by&nbsp;the&nbsp;Gtk+&nbsp;pkg-config&nbsp;files),&nbsp;create&nbsp;a&nbsp;symlink&nbsp;from&nbsp;your&nbsp;ZIP_FILES/share/aclocal/pkg.m4&nbsp;file&nbsp;to&nbsp;/usr/share/aclocal/pkg.m4:<br>
&lt;br&gt;{{{<br>
&lt;br&gt;mkdir&nbsp;-p&nbsp;/usr/share/aclocal<br>
&lt;br&gt;ln&nbsp;-s&nbsp;/cygdrive/c/ZIP_FILES/share/aclocal/pkg.m4&nbsp;/usr/share/aclocal/pkg.m4<br>
&lt;br&gt;}}}<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;Note:&nbsp;If&nbsp;the&nbsp;target&nbsp;already&nbsp;exists,&nbsp;uninstall&nbsp;the&nbsp;cygwin&nbsp;pkg-config&nbsp;package.<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;===&nbsp;Environment&nbsp;Variables&nbsp;===<br>
&lt;br&gt;Make&nbsp;sure&nbsp;that&nbsp;Mono&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;path,&nbsp;and&nbsp;put&nbsp;the&nbsp;MS&nbsp;tools&nbsp;in&nbsp;the&nbsp;path.&nbsp;Create&nbsp;an&nbsp;envronment&nbsp;file&nbsp;enviro.sh,&nbsp;put&nbsp;this&nbsp;file&nbsp;in&nbsp;the&nbsp;user&amp;#39;s&nbsp;cygwin&nbsp;home&nbsp;directory,&nbsp;example&nbsp;below:<br>
&lt;br&gt;{{{<br>
&lt;br&gt;#!/bin/sh<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;export&nbsp;LD_LIBRARY_PATH=/opt/gtk/lib/pkgconfig:$LD_LIBRARY_PATH<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;#&nbsp;WARNING&nbsp;Gnu&nbsp;Make&nbsp;cannot&nbsp;handle&nbsp;spaces&nbsp;in&nbsp;PATH,&nbsp;use&nbsp;Dos&nbsp;style&nbsp;paths:<br>
&lt;br&gt;export&nbsp;PATH=/cygdrive/c/Progra~1/Microsoft.NET/SDK/v1.1/Bin/:/cygdrive/c/WINDOWS/Microsoft.NET/Framework/v1.1.4322/:/cygdrive/c/gtkZip/bin/:$PATH<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;#&nbsp;export&nbsp;LDFLAGS=&amp;quot;-L/cygdrive/c/ZIP_FILES/lib&amp;quot;<br>
&lt;br&gt;#&nbsp;export&nbsp;CPPFLAGS=&amp;quot;-I/cygdrive/c/ZIP_FILES/include&amp;quot;<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;#&nbsp;Make&nbsp;sure&nbsp;we&amp;#39;re&nbsp;not&nbsp;dependent&nbsp;on&nbsp;cygwin,&nbsp;and&nbsp;create&amp;nbsp;<br>
&lt;br&gt;export&nbsp;CC=&amp;quot;gcc&nbsp;-mno-cygwin&amp;quot;&amp;nbsp;<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;#&nbsp;We&nbsp;have&nbsp;to&nbsp;use&nbsp;the&nbsp;win32&nbsp;version&nbsp;of&nbsp;pkg-config&nbsp;from&nbsp;the&nbsp;Gtk+&nbsp;bundle;&nbsp;do&nbsp;NOT&nbsp;use&nbsp;Cygwin&amp;#39;s&nbsp;pkg-config&nbsp;./configure&nbsp;--prefix=/tmp/install&amp;nbsp;<br>
&lt;br&gt;export&nbsp;PKG_CONFIG=&amp;quot;/cygdrive/c/ZIP_FILES/bin/pkg-config&amp;quot;&amp;nbsp;<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;#&nbsp;Choose&nbsp;any&nbsp;prefix&nbsp;you&nbsp;like,&nbsp;call&nbsp;bootstrap-2.12&nbsp;instead&nbsp;when&nbsp;building&nbsp;SVN&amp;nbsp;<br>
&lt;br&gt;export&nbsp;PKG_CONFIG_PATH=&amp;quot;/cygdrive/c/ZIP_FILES/lib/pkgconfig&amp;quot;&amp;nbsp;<br>
&lt;br&gt;}}}<br>
&lt;br&gt;When&nbsp;launching&nbsp;a&nbsp;new&nbsp;cygwin&nbsp;shell&nbsp;execute:<br>
&lt;br&gt;{{{<br>
&lt;br&gt;source&nbsp;enviro.sh<br>
&lt;br&gt;}}}<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;===&nbsp;Modification&nbsp;of&nbsp;pkg-config&nbsp;files&nbsp;===<br>
&lt;br&gt;The&nbsp;Gtk+&nbsp;bundle&nbsp;comes&nbsp;with&nbsp;a&nbsp;non-relocatable&nbsp;prefix&nbsp;for&nbsp;pkg-config&nbsp;files,&nbsp;execute&nbsp;the&nbsp;script&nbsp;below&nbsp;to&nbsp;replace&nbsp;the&nbsp;prefix.<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;{{{<br>
&lt;br&gt;find&nbsp;/cygdrive/c/gtkzip/lib/pkgconfig/&nbsp;-name&nbsp;&amp;quot;*.pc&amp;quot;&nbsp;|&nbsp;xargs&nbsp;sed&nbsp;-i&nbsp;&amp;#39;s,^prefix=.*$,prefix=/cygdrive/c/ZIP_FILES,&amp;#39;<br>
&lt;br&gt;}}}<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;===&nbsp;Optional&nbsp;Glade#&nbsp;===<br>
&lt;br&gt;If&nbsp;you&nbsp;want&nbsp;to&nbsp;build&nbsp;Glade#(optional):<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;libxml2&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://xmlsoft.org/sources/win32/&quot;&gt;http://xmlsoft.org/sources/win32/&lt;/a&gt;&nbsp;(libxml2-2.7.1.win32.zip)<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;*&nbsp;libglade-bin&nbsp;and&nbsp;libglade-dev&nbsp;from&nbsp;the&nbsp;gladewin32&nbsp;project:&nbsp;&lt;a&nbsp;href=&quot;http://sourceforge.net/project/showfiles.php?group_id=98754&quot;&gt;http://sourceforge.net/project/showfiles.php?group_id=98754&lt;/a&gt;&nbsp;(libglade-2.4.0-bin.zip&nbsp;and&nbsp;libglade-2.4.0-dev.zip)<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;&amp;nbsp;1.&nbsp;Extract&nbsp;glade&nbsp;libs&nbsp;into&nbsp;the&nbsp;Gtk+&nbsp;bundle&nbsp;unzip&nbsp;location&nbsp;(update&nbsp;libglade-2.0.pc&nbsp;prefix)<br>
&lt;br&gt;&amp;nbsp;1.&nbsp;copy&nbsp;libxml2&nbsp;bin,&nbsp;include,&nbsp;lib&nbsp;to&nbsp;gtk+&nbsp;bundle&nbsp;unzip&nbsp;location&nbsp;(copy&nbsp;the&nbsp;libxml-2.0.pc&nbsp;file&nbsp;from&nbsp;working&nbsp;linux&nbsp;box,&nbsp;modify&nbsp;prefix)<br>
&lt;br&gt;&amp;nbsp;1.&nbsp;rename&nbsp;libxml2.lib&nbsp;to&nbsp;libxml2.dll.a&nbsp;for&nbsp;gcc&nbsp;compiler<br>
&lt;br&gt;&amp;nbsp;1.&nbsp;rename&nbsp;./include/libxml&nbsp;to&nbsp;./include/libxml2<br>
&lt;br&gt;&amp;nbsp;<br>
&lt;br&gt;===&nbsp;Build&nbsp;Gtk#&nbsp;===<br>
&lt;br&gt;Download&nbsp;the&nbsp;version&nbsp;of&nbsp;gtk-sharp&nbsp;that&nbsp;you&nbsp;want&nbsp;to&nbsp;build:<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;{{{<br>
&lt;br&gt;wget&nbsp;&lt;a&nbsp;href=&quot;http://ftp.novell.com/pub/mono/sources/gtk-sharp212/gtk-sharp-2.12.0.tar.bz2&quot;&gt;http://ftp.novell.com/pub/mono/sources/gtk-sharp212/gtk-sharp-2.12.0.tar.bz2&lt;/a&gt;<br>
&lt;br&gt;tar&nbsp;-xjf&nbsp;gtk-sharp-2.12.0.tar.bz2<br>
&lt;br&gt;cd&nbsp;gtk-sharp-2.12.0<br>
&lt;br&gt;}}}<br>
&lt;br&gt;&amp;nbsp;{{{<br>
&lt;br&gt;./configure<br>
&lt;br&gt;make<br>
&lt;br&gt;}}}<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;If&nbsp;using&nbsp;the&nbsp;latest&nbsp;SVN&nbsp;head:<br>
&lt;br&gt;&amp;nbsp;&lt;br&gt;{{{<br>
&lt;br&gt;./bootstrap-2.12<br>
&lt;br&gt;make<br>
&lt;br&gt;}}}&lt;br&gt;&lt;/div&gt;<br>

</tt>
