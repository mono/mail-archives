<tt>
Thank&nbsp;you,&lt;br&gt;I&amp;#39;m&nbsp;working&nbsp;with&nbsp;Ubuntu&nbsp;Linux&nbsp;9.10,&nbsp;with&nbsp;Monodevelop.&lt;br&gt;Setting&nbsp;the&nbsp;var&nbsp;GDK_NATIVE_WINDOWS=true&nbsp;don&amp;#39;t&nbsp;change&nbsp;anything...&lt;br&gt;&lt;br&gt;Where&nbsp;can&nbsp;the&nbsp;error&nbsp;come&nbsp;from?&lt;br&gt;I&nbsp;tried&nbsp;it&nbsp;in&nbsp;an&nbsp;fresh&nbsp;installed&nbsp;VBox-Installation&nbsp;to,&nbsp;the&nbsp;same&nbsp;thing&nbsp;:/&lt;br&gt;<br>
&lt;br&gt;thank&nbsp;you!&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2009/11/21&nbsp;Stephane&nbsp;Delcroix&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:stephane@delcroix.org&quot;&nbsp;target=&quot;_blank&quot;&gt;stephane@delcroix.org&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;works&nbsp;fine&nbsp;here.&lt;br&gt;<br>
what&amp;#39;s&nbsp;your&nbsp;version&nbsp;of&nbsp;gtk+/gdk&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
try&nbsp;setting&nbsp;the&nbsp;env&nbsp;var&nbsp;GDK_NATIVE_WINDOWS=true&lt;br&gt;<br>
&lt;br&gt;<br>
regards&lt;br&gt;<br>
&lt;br&gt;<br>
s&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Fri,&nbsp;2009-11-20&nbsp;at&nbsp;15:26&nbsp;-0800,&nbsp;nivels&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;Hi,&lt;br&gt;<br>
&amp;gt;&nbsp;i&nbsp;have&nbsp;little&nbsp;problem&nbsp;with&nbsp;getting&nbsp;a&nbsp;pixbuf&nbsp;from&nbsp;a&nbsp;widget.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;So&nbsp;with&nbsp;the&nbsp;attached&nbsp;Code,&nbsp;i&amp;#39;m&nbsp;able&nbsp;to&nbsp;get&nbsp;a&nbsp;Gdk.Pixbuf&nbsp;from&nbsp;a&nbsp;widget,&nbsp;but&lt;br&gt;<br>
&amp;gt;&nbsp;when&nbsp;i&nbsp;show&nbsp;it&nbsp;in&nbsp;a&nbsp;Gtk.Image&nbsp;it&nbsp;looks&nbsp;&amp;quot;broken&amp;quot;.&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;googled&nbsp;a&nbsp;lot&nbsp;in&nbsp;the&nbsp;last&nbsp;few&nbsp;days,&nbsp;but&nbsp;i&amp;#39;m&nbsp;not&nbsp;able&nbsp;to&nbsp;find&nbsp;a&nbsp;solution.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;Uploaded&nbsp;a&nbsp;file&nbsp;that&nbsp;you&nbsp;can&nbsp;see&nbsp;what&nbsp;i&nbsp;mean.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Thank&nbsp;you!&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;using&nbsp;System;&lt;br&gt;<br>
&amp;gt;&nbsp;using&nbsp;Gtk;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;namespace&nbsp;getfromdrawablemono&lt;br&gt;<br>
&amp;gt;&nbsp;{&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;class&nbsp;MainClass&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;{&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;public&nbsp;static&nbsp;void&nbsp;Main&nbsp;(string[]&nbsp;args)&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Application.Init&nbsp;();&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gtk.Window&nbsp;win&nbsp;=&nbsp;new&nbsp;Gtk.Window(&amp;quot;Test&amp;quot;);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gtk.VBox&nbsp;vbox&nbsp;=&nbsp;new&nbsp;Gtk.VBox(false,10);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gtk.HBox&nbsp;hbox&nbsp;=&nbsp;new&nbsp;Gtk.HBox(true,10);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gtk.Button&nbsp;btn_click&nbsp;=&nbsp;new&nbsp;Gtk.Button(Gtk.Stock.Add);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gtk.Button&nbsp;btn_src&nbsp;=&nbsp;new&nbsp;Gtk.Button(Gtk.Stock.Copy);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gtk.Image&nbsp;img_dest&nbsp;=&nbsp;new&nbsp;Gtk.Image();&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;win.Add(vbox);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vbox.PackStart(btn_click,false,false,2);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vbox.PackStart(hbox,true,true,2);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hbox.PackStart(btn_src,false,true,2);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hbox.PackStart(img_dest,true,true,2);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;win.DefaultHeight&nbsp;=&nbsp;200;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;win.DefaultWidth&nbsp;=&nbsp;200;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;win.Destroyed&nbsp;+=&nbsp;delegate&nbsp;{&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Application.Quit();&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;};&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;btn_click.Clicked&nbsp;+=&nbsp;delegate(object&nbsp;sender,&nbsp;EventArgs&nbsp;e)&nbsp;{&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int&nbsp;x,y,width,height,dept;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;btn_src.GdkWindow.GetGeometry(out&nbsp;x,out&nbsp;y,out&nbsp;width,out&nbsp;height,&nbsp;out&lt;br&gt;<br>
&amp;gt;&nbsp;dept);&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int&nbsp;x2,y2,width2,height2,dept2;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;img_dest.GdkWindow.GetGeometry(out&nbsp;x2,out&nbsp;y2,out&nbsp;width2,out&nbsp;height2,&nbsp;out&lt;br&gt;<br>
&amp;gt;&nbsp;dept2);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gdk.Pixbuf&nbsp;pb;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pb&nbsp;=&lt;br&gt;<br>
&amp;gt;&nbsp;Gdk.Pixbuf.FromDrawable(btn_src.GdkWindow,btn_src.GdkWindow.Colormap&nbsp;,&nbsp;x&nbsp;,&nbsp;y&lt;br&gt;<br>
&amp;gt;&nbsp;,0&nbsp;,0,width,height);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;img_dest.Pixbuf&nbsp;=&nbsp;pb;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;};&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;win.ShowAll();&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Application.Run&nbsp;();&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;br&gt;<br>
&amp;gt;&nbsp;}&nbsp;&lt;a&nbsp;href=&quot;http://old.nabble.com/file/p26451912/Bildschirmfoto-2.png&quot;&nbsp;target=&quot;_blank&quot;&gt;http://old.nabble.com/file/p26451912/Bildschirmfoto-2.png&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Bildschirmfoto-2.png&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
