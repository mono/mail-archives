<tt>
2005/12/16,&nbsp;Gennadiy&nbsp;Donchyts&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:don@env.com.ua&quot;&gt;don@env.com.ua&lt;/a&gt;&amp;gt;:&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&gt;Hi&nbsp;all,&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Hey!&nbsp;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&gt;as&nbsp;I&nbsp;know&nbsp;Gtk#&nbsp;is&nbsp;not&nbsp;thread-safe&nbsp;(is&nbsp;it&nbsp;planned&nbsp;to&nbsp;be?).&nbsp;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;As&nbsp;far&nbsp;as&nbsp;I&nbsp;know,&nbsp;no.&nbsp;This&nbsp;is&nbsp;going&nbsp;to&nbsp;add&nbsp;great&nbsp;overhead&nbsp;and&nbsp;there&nbsp;Application.Invoke()&nbsp;is&nbsp;easy&nbsp;enough&nbsp;to&nbsp;use&nbsp;that&nbsp;I&nbsp;can't&nbsp;even&nbsp;call&nbsp;it&nbsp;a&nbsp;workaround&nbsp;(maybe&nbsp;&amp;quot;design&nbsp;decision&amp;quot;&nbsp;=)&nbsp;).&amp;nbsp;&lt;/div&gt;<br>
&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&gt;I&nbsp;guess&nbsp;it&nbsp;is&nbsp;the&nbsp;reason&nbsp;of&nbsp;my&nbsp;errors,&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;have&nbsp;an&nbsp;application&nbsp;(1)&nbsp;which&nbsp;starts&nbsp;a&nbsp;separate&nbsp;thread&nbsp;(2)&nbsp;when&nbsp;some&nbsp;task&nbsp;starts&nbsp;and&nbsp;that&nbsp;task&nbsp;makes&nbsp;calls&lt;/div&gt;<br>
&lt;div&gt;to&nbsp;custom&nbsp;dll&nbsp;using&nbsp;pinvoke.&nbsp;Is&nbsp;it&nbsp;safe&nbsp;to&nbsp;attach&nbsp;to&nbsp;events&nbsp;of&nbsp;(2)&nbsp;in&nbsp;(1)&nbsp;and&nbsp;to&nbsp;send&nbsp;results&nbsp;to&nbsp;some&nbsp;Widget&nbsp;when&lt;/div&gt;<br>
&lt;div&gt;they&nbsp;are&nbsp;invoked?&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;No.&nbsp;Do&nbsp;some&nbsp;kind&nbsp;of&nbsp;&amp;quot;shielding&amp;quot;&nbsp;that&nbsp;uses&nbsp;Application.Invoke.&nbsp;For&nbsp;example,&nbsp;instead&nbsp;of:&lt;br&gt;&lt;br&gt;Thread1.SomeEvent&nbsp;+=&nbsp;Thread2.SomeCallback;&lt;br&gt;&lt;br&gt;Try:&lt;br&gt;&lt;br&gt;Thread1.SomeEvent<br>
&nbsp;+=&nbsp;delegate&nbsp;(Object&nbsp;myarg)&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gtk.Application.Invoke(delegate&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Thread2.SomeCallback(myarg);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;});&lt;br&gt;};&lt;br&gt;&lt;/div&gt;&lt;br&gt;You&nbsp;could&nbsp;even&nbsp;create&nbsp;a&nbsp;shielding&nbsp;function,&nbsp;like:&lt;br&gt;public&nbsp;MyDelegate&nbsp;ApplicationInvoke(MyDelegate&nbsp;callback)&nbsp;{<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;delegate&nbsp;(Object&nbsp;myarg)&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Gtk.Application.Invoke(delegate&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Thread2.SomeCallback(myarg);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;});&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;};&lt;br&gt;}&lt;br&gt;&lt;br&gt;And&nbsp;use&nbsp;like:&lt;br&gt;Thread1.SomeEvent&nbsp;+=&nbsp;ApplicationInvoke(Thread2.SomeCallback);&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&gt;Another&nbsp;thing&nbsp;is&nbsp;a&nbsp;little&nbsp;bit&nbsp;offtop&nbsp;but&nbsp;...&nbsp;when&nbsp;I&nbsp;kill&nbsp;a&nbsp;child&nbsp;thread&nbsp;with&nbsp;Thread.Abort()&nbsp;the&nbsp;next&nbsp;time&nbsp;I&nbsp;start&nbsp;it&lt;/div&gt;<br>
&lt;div&gt;it&nbsp;can't&nbsp;make&nbsp;calls&nbsp;to&nbsp;the&nbsp;underlying&nbsp;C++&nbsp;dll&nbsp;anymore&nbsp;:((,&nbsp;probably&nbsp;someone&nbsp;experienced&nbsp;this&nbsp;kind&nbsp;of&nbsp;problem?&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Try&nbsp;Thread.Interrupt();&nbsp;or&nbsp;use&nbsp;something&nbsp;to&nbsp;stop&nbsp;inside&nbsp;of&nbsp;your&nbsp;code&nbsp;(better),&nbsp;<br>
i.e.:&lt;br&gt;&lt;br&gt;public&nbsp;void&nbsp;ThisFunctionIsExecutedOnAnotherThread()&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;stop&nbsp;=&nbsp;false;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;while&nbsp;(!stop)&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;DoSomething();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;}&lt;br&gt;&lt;br&gt;public&nbsp;void&nbsp;Stop()&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;stop&nbsp;=&nbsp;true;<br>
&lt;br&gt;}&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&gt;I&nbsp;also&nbsp;saw&nbsp;some&nbsp;attrbutes&nbsp;which&nbsp;can&nbsp;make&nbsp;my&nbsp;calls&nbsp;to&nbsp;the&nbsp;dll&nbsp;library&nbsp;more&nbsp;safe&nbsp;(in&nbsp;case&nbsp;they&nbsp;damage&nbsp;some&nbsp;memory)?<br>
&lt;/div&gt;<br>
&lt;div&gt;Because&nbsp;when&nbsp;I&nbsp;exit&nbsp;my&nbsp;application&nbsp;I&nbsp;usually&nbsp;get&nbsp;something&nbsp;like&nbsp;Debug&nbsp;Error:&nbsp;DAMAGE:&nbsp;before&nbsp;Normal&nbsp;block&nbsp;(#-134134241)&nbsp;at&nbsp;0x054532344&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Well...&nbsp;this&nbsp;I&nbsp;don't&nbsp;know&nbsp;=D!&nbsp;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&gt;Thanks&nbsp;in&nbsp;advance,&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;You're&nbsp;welcome!&nbsp;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&gt;--Gena<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Cheers,&lt;br&gt;Felipe.&lt;/div&gt;&lt;/div&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&amp;quot;Quem&nbsp;excele&nbsp;em&nbsp;empregar&nbsp;a&nbsp;força&nbsp;militar&nbsp;subjulga&nbsp;os&nbsp;exércitos&nbsp;dos&nbsp;outros&lt;br&gt;povos&nbsp;sem&nbsp;travar&nbsp;batalha,&nbsp;toma&nbsp;cidades&nbsp;fortificadas&nbsp;dos&nbsp;outros&nbsp;povos&nbsp;sem&nbsp;as<br>
&lt;br&gt;atacar&nbsp;e&nbsp;destrói&nbsp;os&nbsp;estados&nbsp;dos&nbsp;outros&nbsp;povos&nbsp;sem&nbsp;lutas&nbsp;prolongadas.&nbsp;Deve&lt;br&gt;lutar&nbsp;sob&nbsp;o&nbsp;Céu&nbsp;com&nbsp;o&nbsp;propósito&nbsp;primordial&nbsp;da&nbsp;'preservação'.&nbsp;Desse&nbsp;modo&nbsp;suas&lt;br&gt;armas&nbsp;não&nbsp;se&nbsp;embotarão,&nbsp;e&nbsp;os&nbsp;ganhos&nbsp;poderão&nbsp;ser&nbsp;preservados.&nbsp;Essa&nbsp;é&nbsp;a&nbsp;<br>
&lt;br&gt;estratégia&nbsp;para&nbsp;planejar&nbsp;ofensivas.&amp;quot;&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;--&nbsp;Sun&nbsp;Tzu,&nbsp;em&nbsp;&amp;quot;A&nbsp;arte&nbsp;da&nbsp;guerra&amp;quot;<br>

</tt>
