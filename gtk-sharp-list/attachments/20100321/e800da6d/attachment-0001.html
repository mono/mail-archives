<tt>
&lt;div&gt;Hello&nbsp;all,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;experimenting&nbsp;with&nbsp;a&nbsp;way&nbsp;to&nbsp;implement&nbsp;a&nbsp;simple&nbsp;text&nbsp;tool&nbsp;for&nbsp;a&nbsp;GTK&nbsp;painting&nbsp;application.&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;I&amp;#39;ve&nbsp;got&nbsp;so&nbsp;far&nbsp;is&nbsp;an&nbsp;custom&nbsp;container&nbsp;widget&nbsp;which&nbsp;uses&nbsp;cairo&nbsp;to&nbsp;paint&nbsp;the&nbsp;background&nbsp;on&nbsp;expose.&nbsp;When&nbsp;the&nbsp;user&nbsp;clicks&nbsp;on&nbsp;the&nbsp;container&nbsp;widget,&nbsp;a&nbsp;text&nbsp;view&nbsp;widget&nbsp;is&nbsp;added&nbsp;on&nbsp;top&nbsp;and&nbsp;given&nbsp;keyboard&nbsp;focus.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;the&nbsp;text&nbsp;entry&nbsp;is&nbsp;completed,&nbsp;it&amp;#39;s&nbsp;drawn&nbsp;to&nbsp;a&nbsp;cairo&nbsp;image&nbsp;surface,&nbsp;and&nbsp;the&nbsp;text&nbsp;view&nbsp;widget&nbsp;is&nbsp;destroyed.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;works&nbsp;pretty&nbsp;well.&nbsp;The&nbsp;one&nbsp;caveat,&nbsp;is&nbsp;that&nbsp;the&nbsp;text&nbsp;view&nbsp;must&nbsp;have&nbsp;a&nbsp;solid&nbsp;background&nbsp;colour.&nbsp;Ideally,&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;give&nbsp;it&nbsp;a&nbsp;transparent&nbsp;background.&nbsp;And&nbsp;that&amp;#39;s&nbsp;when&nbsp;it&nbsp;starts&nbsp;to&nbsp;get&nbsp;tricky.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;do&nbsp;something&nbsp;like:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; text_view.ModifyBase&nbsp;(StateType.Normal,&nbsp;new&nbsp;Gdk.Color&nbsp;(r,g,b,_alpha_))&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;the&nbsp;problem&nbsp;is&nbsp;that&nbsp;Gdk.Color&nbsp;doesn&amp;#39;t&nbsp;support&nbsp;alpha.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;understand&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;use&nbsp;alpha&nbsp;compositing&nbsp;for&nbsp;child&nbsp;widgets.&nbsp;From&nbsp;what&nbsp;I&amp;#39;ve&nbsp;read,&nbsp;I&nbsp;think&nbsp;I&nbsp;need&nbsp;to&nbsp;get&nbsp;the&nbsp;rgba&nbsp;colour&nbsp;map&nbsp;from&nbsp;the&nbsp;GDK&nbsp;screen,&nbsp;and&nbsp;then&nbsp;set&nbsp;it&nbsp;on&nbsp;the&nbsp;widget. But&nbsp;then&nbsp;I&nbsp;also&nbsp;need&nbsp;to&nbsp;pass&nbsp;in&nbsp;an&nbsp;alpha&nbsp;value&nbsp;for&nbsp;the&nbsp;text&nbsp;view&amp;#39;s&nbsp;background&nbsp;colour,&nbsp;at&nbsp;which&nbsp;point&nbsp;I&amp;#39;m&nbsp;stuck.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;now,&nbsp;dear&nbsp;reader,&nbsp;you&amp;#39;ve&nbsp;made&nbsp;it&nbsp;this&nbsp;far,&nbsp;and&nbsp;it&amp;#39;s&nbsp;time&nbsp;for&nbsp;the&nbsp;questions...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; -&nbsp;Is&nbsp;it&nbsp;currently&nbsp;possible&nbsp;to&nbsp;set&nbsp;the&nbsp;alpha&nbsp;channel&nbsp;of&nbsp;the&nbsp;text&nbsp;view&nbsp;widget&amp;#39;s&nbsp;background&nbsp;colour,&nbsp;or&nbsp;make&nbsp;the&nbsp;background&nbsp;completely&nbsp;transparent?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; -&nbsp;Or,&nbsp;is&nbsp;there&nbsp;a&nbsp;better&nbsp;way&nbsp;to&nbsp;achieve&nbsp;the&nbsp;same&nbsp;effect?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; -&nbsp;If&nbsp;not,&nbsp;are&nbsp;there&nbsp;any&nbsp;plans&nbsp;to&nbsp;add&nbsp;a&nbsp;function&nbsp;that&nbsp;does&nbsp;this&nbsp;to&nbsp;GTK&nbsp;(and&nbsp;GtkSharp)?&nbsp;Is&nbsp;that&nbsp;likely&nbsp;to&nbsp;happen&nbsp;within&nbsp;the&nbsp;next&nbsp;year&nbsp;or&nbsp;so?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; -&nbsp;If&nbsp;there&nbsp;isn&amp;#39;t&nbsp;a&nbsp;solution&nbsp;at&nbsp;the&nbsp;moment,&nbsp;are&nbsp;there&nbsp;any&nbsp;good&nbsp;workarounds?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;(For&nbsp;example,&nbsp;I&nbsp;could&nbsp;potentially&nbsp;use&nbsp;&amp;quot;pure&nbsp;evil&amp;quot;&nbsp;[1],&nbsp;and&nbsp;skip&nbsp;alpha&nbsp;compositing&nbsp;all&nbsp;together,&nbsp;just&nbsp;i.e.&nbsp;re-render&nbsp;the&nbsp;background.&nbsp;Actually&nbsp;I&nbsp;tried&nbsp;this&nbsp;in&nbsp;GTK#,&nbsp;and&nbsp;not&nbsp;only&nbsp;did&nbsp;my&nbsp;demo&nbsp;app&nbsp;crash,&nbsp;but&nbsp;it&nbsp;also&nbsp;took&nbsp;MonoDevelop&nbsp;down&nbsp;with&nbsp;it.&nbsp;And&nbsp;I&nbsp;thought&nbsp;the&nbsp;pure&nbsp;evil&nbsp;bit&nbsp;was&nbsp;just&nbsp;a&nbsp;joke.&nbsp;[1]&nbsp;&lt;a&nbsp;href=&quot;http://dannipenguin.livejournal.com/283590.html&quot;&gt;http://dannipenguin.livejournal.com/283590.html&lt;/a&gt;&nbsp;)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Anyways,&nbsp;thanks&nbsp;for&nbsp;your&nbsp;time,&nbsp;and&nbsp;hopefully&nbsp;someone&nbsp;out&nbsp;there&nbsp;has&nbsp;cracked&nbsp;this&nbsp;nut&nbsp;already...&nbsp;would&nbsp;love&nbsp;to&nbsp;hear&nbsp;from&nbsp;you!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Greg.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;Here&amp;#39;s&nbsp;the&nbsp;source&nbsp;code&nbsp;for&nbsp;my&nbsp;text&nbsp;tool&nbsp;demo:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://github.com/xxgreg/code-examples/blob/master/gtksharp-text-tool-example/TextToolTest/ScalableTextToolExample.cs&quot;&gt;http://github.com/xxgreg/code-examples/blob/master/gtksharp-text-tool-example/TextToolTest/ScalableTextToolExample.cs&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&amp;#39;s&nbsp;some&nbsp;other&nbsp;links&nbsp;that&nbsp;I&nbsp;looked&nbsp;at&nbsp;while&nbsp;working&nbsp;on&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://www.go-mono.com/docs/index.aspx?link=P:Gdk.Screen.RgbaColormap&quot;&gt;http://www.go-mono.com/docs/index.aspx?link=P:Gdk.Screen.RgbaColormap&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;a&nbsp;href=&quot;http://www.go-mono.com/docs/index.aspx?link=P:Gtk.Widget.Colormap&quot;&gt;http://www.go-mono.com/docs/index.aspx?link=P:Gtk.Widget.Colormap&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://library.gnome.org/devel/gtk/stable/GtkWidget.html#gtk-widget-set-colormap&quot;&gt;http://library.gnome.org/devel/gtk/stable/GtkWidget.html#gtk-widget-set-colormap&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;a&nbsp;href=&quot;http://library.gnome.org/devel/gdk/stable/GdkScreen.html#gdk-screen-get-rgba-colormap&quot;&gt;http://library.gnome.org/devel/gdk/stable/GdkScreen.html#gdk-screen-get-rgba-colormap&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;And&nbsp;a&nbsp;related&nbsp;thread&nbsp;on&nbsp;the&nbsp;Pinta&nbsp;list:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://groups.google.com/group/pinta/browse_thread/thread/ceb7c9d1076825f6&quot;&gt;http://groups.google.com/group/pinta/browse_thread/thread/ceb7c9d1076825f6&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
