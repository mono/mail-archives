namespace Tny.Proxy
{
   public abstract class Header 
   {
	protected IntPtr real;

        [DllImport("libtinymail-1.0.dll")]
        static extern IntPtr tny_header_get_subject (IntPtr self);

	public string get_subject ()
	{
		IntPtr cstr = tny_header_get_subject (this.real);
		return Tool.GCharToString (cstr);
	}

        [DllImport("libtinymail-1.0.dll")]
        static extern void tny_header_set_subject (IntPtr self, IntPtr str);

	public void set_subject (string sbj)
	{
		IntPtr cstr = Tool.StringToGChar (str);
		tny_header_set_subject (this.real, cstr);
		Tool.FreeGChar (cstr);
	}

	public Header (IntPtr r)
	{
		this.real = r;
	}
   }

   public abstract class Msg
   {
        protected IntPtr real;

        [DllImport("libtinymail-1.0.dll")]
        static extern IntPtr tny_msg_get_header (IntPtr self);

	public Tny.Proxy.Header get_header ()
	{
		IntPtr real = tny_msg_get_header (this.real);
		Tny.Proxy.Header h = new Tny.Proxy.Header (real);
		return h;
	}

        [DllImport("libtinymail-1.0.dll")]
        static extern void tny_msg_set_header (IntPtr self, IntPtr hdr);

	public void set_header (Tny.Proxy.Header h)
	{
		tny_msg_set_header (self.real, h.real);
	}


        public Msg (IntPtr real)
        {
                this.real = real;
        }
   }
}
