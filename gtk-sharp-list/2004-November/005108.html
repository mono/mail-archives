<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Refresh of elements in a treeview
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Mike%20Rhodes%20%3Cmike.rhodes%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005101.html">
   <LINK REL="Next"  HREF="005109.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Refresh of elements in a treeview
   </H1>
    <B>Mike Rhodes
    </B> 
    <A HREF="mailto:Mike%20Rhodes%20%3Cmike.rhodes%40gmail.com%3E"
       TITLE="[Gtk-sharp-list] Refresh of elements in a treeview">Mike Rhodes &lt;mike.rhodes@gmail.com&gt;
       </A><BR>
    <I>Wed, 17 Nov 2004 11:03:04 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="005101.html">[Gtk-sharp-list] Refresh of elements in a treeview
</A></li>
        <LI> Next message: <A HREF="005109.html">[Gtk-sharp-list] Refresh of elements in a treeview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5108">[ date ]</a>
              <a href="thread.html#5108">[ thread ]</a>
              <a href="subject.html#5108">[ subject ]</a>
              <a href="author.html#5108">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My apologies for not being clear.  The call to EmitRowChanged() is
wrapped using Gdk.Threads.Enter() and Leave(). According to the docs
(and other posts to this list), this should cause my thread to
temporarily hold the lock so I can safety access the Gtk objects
whilst in the other thread.

On further reading of the docs, I note that they say you should call
gdk_flush() to flush the pending operations prior to calling Leave().
Is this a throwback C function? I can find it in the gtk+ docs, but
not an equivalent in the gtk# ones...

On another note, I recall someone mentioning Enter/Leave were not the
preferred method to do this any more, but not that they would cause
breakages and weird behavior if used. However, it seems a little
wasteful to create a ThreadNotify object and call for each of these
small events.

Exactly the same behavior happens whether or not the calls have the
Enter/Leave pair around them, so whether it is a thread issue I'm not
even sure.

Could it be because I'm modifying an object packed into the model
rather than the contents of the model itself?

Mike.

&gt;<i> 
</I>&gt;<i> You should *NEVER* need to call EmitRowChanged when you add stuff to the
</I>&gt;<i> treemodel.
</I>
I'm not adding stuff here, just modifying an object I have packed into
the tree already.


On Tue, 16 Nov 2004 18:13:24 -0600, Mike Kestner &lt;<A HREF="mailto:mkestner@ximian.com">mkestner@ximian.com</A>&gt; wrote:
&gt;<i> On Tue, 2004-11-16 at 22:10 +0000, Mike Rhodes wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; In basic terms, I have several items that I add to a treeview. I then
</I>&gt;<i> &gt; start a thread that updates these items with more detailed information
</I>&gt;<i> &gt; that needs to be drawn into the treeview to replace the current data.
</I>&gt;<i> 
</I>&gt;<i> Key phrase being, &quot;start a thread.&quot;  As has been mention on this list
</I>&gt;<i> numerous times, and is listed in the FAQ:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://gtk-sharp.sourceforge.net/faq.html#3.5">http://gtk-sharp.sourceforge.net/faq.html#3.5</A>
</I>&gt;<i> 
</I>&gt;<i> you can not update GUI elements from a thread other than the main gui
</I>&gt;<i> thread.  Doing so will cause badness.
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Mike Kestner &lt;<A HREF="mailto:mkestner@ximian.com">mkestner@ximian.com</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>

-- 
&quot;One should not aim at being possible to 
understand but at being impossible to
misunderstand.&quot; - Quintilian

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005101.html">[Gtk-sharp-list] Refresh of elements in a treeview
</A></li>
	<LI> Next message: <A HREF="005109.html">[Gtk-sharp-list] Refresh of elements in a treeview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5108">[ date ]</a>
              <a href="thread.html#5108">[ thread ]</a>
              <a href="subject.html#5108">[ subject ]</a>
              <a href="author.html#5108">[ author ]</a>
         </LI>
       </UL>
</body></html>
