<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Refresh of elements in a treeview
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Mike%20Rhodes%20%3Cmike.rhodes%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005091.html">
   <LINK REL="Next"  HREF="005100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Refresh of elements in a treeview
   </H1>
    <B>Mike Rhodes
    </B> 
    <A HREF="mailto:Mike%20Rhodes%20%3Cmike.rhodes%40gmail.com%3E"
       TITLE="[Gtk-sharp-list] Refresh of elements in a treeview">Mike Rhodes &lt;mike.rhodes@gmail.com&gt;
       </A><BR>
    <I>Tue, 16 Nov 2004 22:10:57 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="005091.html">[Gtk-sharp-list] Refresh of elements in a treeview
</A></li>
        <LI> Next message: <A HREF="005100.html">[Gtk-sharp-list] Refresh of elements in a treeview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5099">[ date ]</a>
              <a href="thread.html#5099">[ thread ]</a>
              <a href="subject.html#5099">[ subject ]</a>
              <a href="author.html#5099">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm not sure if he means corruption when redrawing the tree, but
refreshing when the tree model changes. I have some problems with this
on a gtk# application I am writing.

In basic terms, I have several items that I add to a treeview. I then
start a thread that updates these items with more detailed information
that needs to be drawn into the treeview to replace the current data.

Each item is added to the list store as follows:

TreeIter iter =3D list_store.AppendValues(filename, filepath, ti);
gmr.Add(iter, ti);

The gmr object has a function that is launched in a thread, and pretty
much says:

foreach iter that has been added to gmr
{
// this adds new data about the row in the treeview
ti.GetMetaData(); =20

// tell treeview displaying list_store row has changed
list_store.EmitRowChanged(st.GetPath(ipp.iter), ipp.iter); =20
}

The ti object is packed into the treeview and I have a cell data
function that pulls data from the ti object to decide what to draw.
Initially it displays a file path. After the GetMetaData() call, it
should start to display more detailed information on the file. The
treeview doesn't change its contents, however, until the treeview is
redrawn (e.g. scrolled or pass the mouse over it).

&gt;<i>From what I understand, the EmitRowChanged() signal should tell the
</I>tree view that the data for row has changed and it needs to update it.
I would have thought this would cause a redraw of the row. This
doesn't seem to be the case, as the row doesn't change until user
interaction causes a redraw, invoking the cell data function when it
does.

Is there a way to get the row to redraw without user interaction causing it=
?

Mike.

On Tue, 16 Nov 2004 09:07:55 -0600, Federico Mena Quintero
&lt;<A HREF="mailto:federico@ximian.com">federico@ximian.com</A>&gt; wrote:
&gt;<i> On Sat, 2004-11-13 at 12:58 +0100, Ra=FAl Moratalla wrote:
</I>&gt;<i>=20
</I>&gt;<i> &gt; I don't know if it will be due to my system (Suse 9.1) but if the treev=
</I>iew
&gt;<i> &gt; doesn't resfresh the items correctly I can't develop my program and of =
</I>course
&gt;<i> &gt; use another programs as cdcollect :(
</I>&gt;<i>=20
</I>&gt;<i> What version of GTK+ does SuSE 9.1 use?  Some really old versions are
</I>&gt;<i> known to have redraw problems in the tree view.
</I>&gt;<i>=20
</I>&gt;<i>   Federico
</I>&gt;<i>=20
</I>&gt;<i>=20
</I>&gt;<i>=20
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>&gt;<i>=20
</I>

--=20
&quot;One should not aim at being possible to=20
understand but at being impossible to
misunderstand.&quot; - Quintilian

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005091.html">[Gtk-sharp-list] Refresh of elements in a treeview
</A></li>
	<LI> Next message: <A HREF="005100.html">[Gtk-sharp-list] Refresh of elements in a treeview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5099">[ date ]</a>
              <a href="thread.html#5099">[ thread ]</a>
              <a href="subject.html#5099">[ subject ]</a>
              <a href="author.html#5099">[ author ]</a>
         </LI>
       </UL>
</body></html>
