<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] TreeCellDataFunc not getting pinged
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20TreeCellDataFunc%20not%20getting%20pinged&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007985.html">
   <LINK REL="Next"  HREF="007978.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] TreeCellDataFunc not getting pinged</H1>
    <B>Adam Tauno Williams</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20TreeCellDataFunc%20not%20getting%20pinged&In-Reply-To="
       TITLE="[Gtk-sharp-list] TreeCellDataFunc not getting pinged">awilliam at whitemice.org
       </A><BR>
    <I>Mon Apr  9 11:58:12 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="007985.html">[Gtk-sharp-list] Couple of easy ones
</A></li>
        <LI>Next message: <A HREF="007978.html">[Gtk-sharp-list] TreeCellDataFunc not getting pinged
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7976">[ date ]</a>
              <a href="thread.html#7976">[ thread ]</a>
              <a href="subject.html#7976">[ subject ]</a>
              <a href="author.html#7976">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In trying to port my code from NodeView to the more sophisticated
TreeView so that I can use the TreeModelFilter I've run into a problem.
The filter works, and the filter method is called for each item in the
ListStore.  But, while the TreeView displays rows, they can be clicked
(and appear highlighted) and the scroll window expands and contracts.
By all columns are blank.  The TreeCellDataFunc is never called [I put a
Console.WriteLine at the beginning of the function],  that is the
&quot;RenderObjectId&quot;.

Gtk.TreeViewColumn      column;
Gtk.CellRendererText	cell;
TreeView		treeView;
TreeModelFilter		filter;

toDoView = new TreeView();
filter = new TreeModelFilter(taskStore, null);
filter.VisibleFunc = new Gtk.TreeModelFilterVisibleFunc(ToDoFilter);
toDoView.Model = filter;
column = new Gtk.TreeViewColumn ();
column.Title = &quot;Object Id&quot;;
cell = new Gtk.CellRendererText ();
column.SetCellDataFunc(cell, new Gtk.TreeCellDataFunc(RenderObjectId));
column.PackStart(cell, true);
toDoView.AppendColumn(column);			

The &quot;Object Id&quot; column header is displayed, but all cells appear blank.

protected virtual void RenderObjectId(
	Gtk.TreeViewColumn _column, 
	Gtk.CellRenderer _cell, 
	Gtk.TreeModel _model, 
	Gtk.TreeIter _iter)
{
	Task task;
			
	Console.WriteLine(&quot;RenderObjectId invoked&quot;);
	task = (Task)_model.GetValue(_iter, 0);
	(_cell as Gtk.CellRendererText).Text = task.ObjectId.ToString();
} /* End RenderObjectId */

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007985.html">[Gtk-sharp-list] Couple of easy ones
</A></li>
	<LI>Next message: <A HREF="007978.html">[Gtk-sharp-list] TreeCellDataFunc not getting pinged
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7976">[ date ]</a>
              <a href="thread.html#7976">[ thread ]</a>
              <a href="subject.html#7976">[ subject ]</a>
              <a href="author.html#7976">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
