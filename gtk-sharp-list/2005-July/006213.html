<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list] gtk-sharp.dll
	not working on linux because it references win32 dll's
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20%5BGtk-sharp-list%5D%20gtk-sharp.dll%0A%09not%20working%20on%20linux%20because%20it%20references%20win32%20dll%27s&In-Reply-To=1121816675.3056.41.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006208.html">
   <LINK REL="Next"  HREF="006221.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list] gtk-sharp.dll
	not working on linux because it references win32 dll's</H1>
    <B>Jost Boekemeier</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20%5BGtk-sharp-list%5D%20gtk-sharp.dll%0A%09not%20working%20on%20linux%20because%20it%20references%20win32%20dll%27s&In-Reply-To=1121816675.3056.41.camel%40localhost.localdomain"
       TITLE="Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list] gtk-sharp.dll
	not working on linux because it references win32 dll's">jostb2345 at yahoo.de
       </A><BR>
    <I>Wed Jul 20 12:27:34 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="006208.html">Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list] gtk-sharp.dll not
	working on linux because it references win32 dll's
</A></li>
        <LI>Next message: <A HREF="006221.html">Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list]
	gtk-sharp.dll not working on linux because it references win32 dll's
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6213">[ date ]</a>
              <a href="thread.html#6213">[ thread ]</a>
              <a href="subject.html#6213">[ subject ]</a>
              <a href="author.html#6213">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> &gt; Why do I need that?  I want to load the library
</I>&gt;<i> that
</I>&gt;<i> &gt; the user has placed into his lib directory. 
</I>
&gt;<i> For any assembly, if you want to load it from the
</I>&gt;<i> GAC 
</I>
Why it this information necessary?  The user has given
me the name of the library and I have to load the most
recent version.  This worked fine in gtk-sharp 0.6. 
Why do I have to care if you have or have not decided
to declare the library as API stable?



&gt;<i> fully-qualified assembly name (name, version,
</I>&gt;<i> culture, public key
</I>&gt;<i> token).  Otherwise, you can just place your assembly
</I>&gt;<i> into the
</I>&gt;<i> appropriate directory and just Assembly.Load() the
</I>&gt;<i> name.
</I>
What I have is the library name.  The user says that
he installed the libraries in /usr/local/lib and he
verified that they are installed in
/usr/local/lib/mono/gth-sharp-2.  Now I have to load
it, whether it is version 0.6 or 20.0, I don't care.

The problem is, that loading the library works on
windows, but not on Linux.


&gt;<i> Thus the question: how are you using, shipping, and
</I>&gt;<i> installing Gtk#?
</I>
I don't.  The user has installed the library with make
install.  If he loads
/usr/local/lib/mono/gtk-sharp-2/gtk-sharp.dll, he get
an exception saying that a windows library is missing.


&gt;<i> Are you using the one included with Mono?  Then it's
</I>&gt;<i> in the GAC.
</I>
Again, I don't do anything.  I just have to load the
library.  Are you saying that since gtk-sharp 1.0 it
is no longer possible to load a Linux library without
knowing its hash code?  Okay, your decision, but why
does the install script install the libraries in
/usr/local/lib/mono/gtk-sharp2 then?


&gt;<i> Are you copying the Gtk# assemblies into your
</I>&gt;<i> applications directory?
</I>&gt;<i> Then an Assembly.Load() will work.
</I>
Hrm.  As I said, not on linux because the .config
files are missing.  Copying the config files from the
build directory into the application directory solves
the problem, but a) why do I have to do this, b) why
only on linux, c) why are these config files necessary
at all, they contain information which shall never be
changed, this information should go into the library
itself, not into a user visible config file.



&gt;<i> &gt; Depends on how you do it.  I think it should be
</I>&gt;<i> &gt; possible to check the platform, load the real dll
</I>&gt;<i> once
</I>&gt;<i> &gt; and then this dll takes over.
</I>&gt;<i> 
</I>&gt;<i> I know of no way to do that.  
</I>
Okay.  I thought that if the dynamic loader has the
ability to patch a library when it is loaded one could
as well check for the architecture and then load the
byte code from the appropriate file or section.


&gt;<i> &gt; As I understand it, a linux user must place a
</I>&gt;<i> dll/map
</I>&gt;<i> &gt; pair into his library directory, while the windows
</I>&gt;<i> &gt; user can simply copy the gtk-sharp dll's, right?
</I>&gt;<i> 
</I>&gt;<i> The user shouldn't need to worry about assemblies
</I>
He needs to, simply because he wants to load one.


&gt;<i> Those are a development and deployment
</I>&gt;<i> issues, handled by the
</I>&gt;<i> developer and packager.
</I>
I am sorry, I don't understand this at all.



Regards,
Jost Boekemeier



	

	
		
___________________________________________________________ 
Gesendet von Yahoo! Mail - Jetzt mit 1GB Speicher kostenlos - Hier anmelden: <A HREF="http://mail.yahoo.de">http://mail.yahoo.de</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006208.html">Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list] gtk-sharp.dll not
	working on linux because it references win32 dll's
</A></li>
	<LI>Next message: <A HREF="006221.html">Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list]
	gtk-sharp.dll not working on linux because it references win32 dll's
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6213">[ date ]</a>
              <a href="thread.html#6213">[ thread ]</a>
              <a href="subject.html#6213">[ subject ]</a>
              <a href="author.html#6213">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
