<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Gecko-sharp not compiling,
	due to generator limitation?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Gecko-sharp%20not%20compiling%2C%0A%09due%20to%20generator%20limitation%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006205.html">
   <LINK REL="Next"  HREF="006201.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Gecko-sharp not compiling,
	due to generator limitation?</H1>
    <B>Peter Williams</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Gecko-sharp%20not%20compiling%2C%0A%09due%20to%20generator%20limitation%3F&In-Reply-To="
       TITLE="[Gtk-sharp-list] Gecko-sharp not compiling,
	due to generator limitation?">peter at newton.cx
       </A><BR>
    <I>Tue Jul 19 10:28:13 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="006205.html">[Gtk-sharp-list] Ways of supporting complex data binding in
	TreeView
</A></li>
        <LI>Next message: <A HREF="006201.html">[Gtk-sharp-list] Gecko-sharp not compiling, due to generator
	limitation?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6200">[ date ]</a>
              <a href="thread.html#6200">[ thread ]</a>
              <a href="subject.html#6200">[ subject ]</a>
              <a href="author.html#6200">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Gecko-sharp won't compile with HEAD gtk-sharp on my machine. I think the
problem is a limitation in the generator, but I don't really understand
what's going on so I thought I'd ask for some guidance. 

The compile error happens in the samples, but the root cause seems to be
the NewWindow signal, which ought to have something like a 'out
GtkMozEmbed newEmbed' parameter. The current generator doesn't like that
construction and gives this complaint:

Complex out param newEmbed  in signal NewWindow in Object
Gecko.WebControl

when generating the code, and suppresses the parameter. (The parameter
is manually marked as 'out' in the gtkmozembed.metadata file.) As far as
I can tell, the gtkmozembed.api file is asking for the right thing from
the generator, but the generator doesn't seem to be able to handle it.

&gt;<i>From looking through the generator, the validation code only allows
</I>boxed and by-value parameters to be complex signal parameters:

if (p.PassAs != &quot;&quot; &amp;&amp; !allow_complex_refs) {
   if (!(p.Generatable is BoxedGen) &amp;&amp;
       !(p.Generatable is SimpleGen)) {
      Console.Write(&quot;Complex &quot; + p.PassAs + &quot; param &quot; + p.Name + &quot; &quot;);
      return false;
   }
}

What's behind this restriction? Presumably there's a reason that 'is
ObjectGen' isn't in that list. What needs to be done to allow an out/ref
object parameter to work in a signal?

Thanks,
	Peter

-- 
Peter Williams / <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">peter at newton.cx</A>
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006205.html">[Gtk-sharp-list] Ways of supporting complex data binding in
	TreeView
</A></li>
	<LI>Next message: <A HREF="006201.html">[Gtk-sharp-list] Gecko-sharp not compiling, due to generator
	limitation?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6200">[ date ]</a>
              <a href="thread.html#6200">[ thread ]</a>
              <a href="subject.html#6200">[ subject ]</a>
              <a href="author.html#6200">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
