<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list]
	gtk-sharp.dll not working on linux because it references win32 dll's
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20%5BGtk-sharp-list%5D%0A%09gtk-sharp.dll%20not%20working%20on%20linux%20because%20it%20references%20win32%20dll%27s&In-Reply-To=20050720162734.31788.qmail%40web26703.mail.ukl.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006213.html">
   <LINK REL="Next"  HREF="006226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list]
	gtk-sharp.dll not working on linux because it references win32 dll's</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20Ant%3A%20Re%3A%20%5BGtk-sharp-list%5D%0A%09gtk-sharp.dll%20not%20working%20on%20linux%20because%20it%20references%20win32%20dll%27s&In-Reply-To=20050720162734.31788.qmail%40web26703.mail.ukl.yahoo.com"
       TITLE="Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list]
	gtk-sharp.dll not working on linux because it references win32 dll's">monoman at gmail.com
       </A><BR>
    <I>Wed Jul 20 17:10:54 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="006213.html">Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list] gtk-sharp.dll
	not working on linux because it references win32 dll's
</A></li>
        <LI>Next message: <A HREF="006226.html">Ant: Re: Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list]
	gtk-sharp.dll not working on linux because it references win32 dll's
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6221">[ date ]</a>
              <a href="thread.html#6221">[ thread ]</a>
              <a href="subject.html#6221">[ subject ]</a>
              <a href="author.html#6221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jost,

On 7/20/05, Jost Boekemeier &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">jostb2345 at yahoo.de</A>&gt; wrote:
&gt;<i> &gt; Are you copying the Gtk# assemblies into your
</I>&gt;<i> &gt; applications directory?
</I>&gt;<i> &gt; Then an Assembly.Load() will work.
</I>&gt;<i> 
</I>&gt;<i> Hrm.  As I said, not on linux because the .config
</I>&gt;<i> files are missing.  Copying the config files from the
</I>&gt;<i> build directory into the application directory solves
</I>&gt;<i> the problem, but a) why do I have to do this
</I>
Because MS didn't thought that other platforms should be supported.

&gt;<i> b) why only on linux
</I>
It isn't only in linux, it is also in MacOSX (there we link with
.dylibs instead) and solaris, and... any other platform that doesn't
support native windows dlls.

&gt;<i> c) why are these config files necessary
</I>&gt;<i> at all, they contain information which shall never be
</I>&gt;<i> changed, this information should go into the library
</I>&gt;<i> itself, not into a user visible config file.
</I>
No it CAN'T go in the library itself because we can't make things
incompatible with ECMA and MS.NET in that point. And also it is easier
to manage building for many platforms the way it is today.

&gt;<i> &gt; Depends on how you do it.  I think it should be
</I>&gt;<i> &gt; possible to check the platform, load the real dll
</I>&gt;<i> once
</I>&gt;<i> &gt; and then this dll takes over.
</I>&gt;<i>
</I>&gt;<i> I know of no way to do that.
</I>
&gt;<i> Okay.  I thought that if the dynamic loader has the
</I>&gt;<i> ability to patch a library when it is loaded one could
</I>&gt;<i> as well check for the architecture and then load the
</I>&gt;<i> byte code from the appropriate file or section.
</I>
You may suggest it to MS and ECMA, and them they could change the
format of files in version 3.x or whatever. What is available today
doesn't allow such a thing without the config file, as it needs more
information than what is available in the assembly file.

&gt;<i> &gt; &gt; As I understand it, a linux user must place a
</I>&gt;<i> &gt; dll/map
</I>&gt;<i> &gt; &gt; pair into his library directory, while the windows
</I>&gt;<i> &gt; &gt; user can simply copy the gtk-sharp dll's, right?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The user shouldn't need to worry about assemblies
</I>
&gt;<i> He needs to, simply because he wants to load one.
</I>
So you aren't talking of a user but of a developer, because an user
would receive an installer/package that should have installed things
at the proper places so that he/she can click-around to use the
program. Users don't normally do programming. The so-called power
users might but then the IDE they MUST be using should take of such
details, and perhaps even compile things with fixed references instead
of using dynamic loading.

If you are talking about a real developer doing dynamic loading
assembly, he/she MUST know that for non-windows platforms he/she MUST
copy the dll/map pair. Period.

If you are in the &quot;middle&quot; of all this I would just say for you to
update your (power-)user/programmer documentation to cover this
flexibility Mono gives (to run a single managed file on many platforms
with differently named native libraries in each) but that costs
copying the mapping .config file alongside the .dll because MS/ECMA
format doesn't allow otherwise.

Good typing,

-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
I'm trying to become a &quot;Rosh Gadol&quot; before my own eyes. 
See <A HREF="http://www.joelonsoftware.com/items/2004/12/06.html">http://www.joelonsoftware.com/items/2004/12/06.html</A> for enlightment.
It hurts!
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006213.html">Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list] gtk-sharp.dll
	not working on linux because it references win32 dll's
</A></li>
	<LI>Next message: <A HREF="006226.html">Ant: Re: Ant: Re: Ant: Re: Ant: Re: Ant: Re: [Gtk-sharp-list]
	gtk-sharp.dll not working on linux because it references win32 dll's
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6221">[ date ]</a>
              <a href="thread.html#6221">[ thread ]</a>
              <a href="subject.html#6221">[ subject ]</a>
              <a href="author.html#6221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
