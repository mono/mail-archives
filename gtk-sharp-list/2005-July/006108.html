<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Glade using resources
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Glade%20using%20resources&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006107.html">
   <LINK REL="Next"  HREF="006110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Glade using resources</H1>
    <B>underdog10 at netcourrier.com</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Glade%20using%20resources&In-Reply-To="
       TITLE="[Gtk-sharp-list] Glade using resources">underdog10 at netcourrier.com
       </A><BR>
    <I>Tue Jul  5 07:42:36 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="006107.html">[Gtk-sharp-list] Run method for FileChooserDialog missing in gtk#
	1.9.3 (win32 install)
</A></li>
        <LI>Next message: <A HREF="006110.html">[Gtk-sharp-list] Glade using resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6108">[ date ]</a>
              <a href="thread.html#6108">[ thread ]</a>
              <a href="subject.html#6108">[ subject ]</a>
              <a href="author.html#6108">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Thanks for reply, the problem about glade file but image specify into the glade file.

the app load glade xml file from resource, but it don't try to get the image form resource

For example:
using Glade, create a simple window and add a image.
If you set the image file directly in glade, it will try get the image from the disk.
What i would like, it is to load the image from resrouces compiled in the binary, like it does for the glade file.

Getting resource when GTK# is handle by hand it is working.

But getting resource when the GUI is made with glade, it is not possible.

You can find the Makefile here.
<A HREF="http://cvs.sourceforge.net/viewcvs.py/xbgm/xbgmsharp/src/Makefile?rev=1.2&amp;view=markup">http://cvs.sourceforge.net/viewcvs.py/xbgm/xbgmsharp/src/Makefile?rev=1.2&amp;view=markup</A>


Thanks
KaYa


&gt;<i>
</I>&gt;<i>I use the commented out version in your code successfully:
</I>&gt;<i>
</I>&gt;<i>        Glade.XML glade_xml = new Glade.XML (null, &quot;main_window.glade&quot;,
</I>&gt;<i>				&quot;mainWindow&quot;, null);
</I>&gt;<i>        glade_xml.Autoconnect (this);
</I>&gt;<i>
</I>&gt;<i>Are you sure you are compiling the glade file into the binary? I don't
</I>&gt;<i>know much about resources, but I use:
</I>&gt;<i>
</I>&gt;<i>-resource:$(srcdir)/../glade/main_window.glade,main_window.glade
</I>&gt;<i>
</I>&gt;<i>in my makefile.
</I>&gt;<i>
</I>&gt;<i>Mike.
</I>&gt;<i>
</I>&gt;<i>On 7/4/05, <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">underdog10 at netcourrier.com</A> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">underdog10 at netcourrier.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I would like to load image from resources using a glade interface.
</I>&gt;&gt;<i> I try this 2 method without success:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> //Glade.XML gxml = new Glade.XML(null, &quot;testgui.glade&quot;, &quot;window1&quot;, null);
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Glade.XML gxml = Glade.XML.FromAssembly (&quot;testgui.glade&quot;, &quot;window1&quot;, null);
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> When i say without success, i mean it fail because galde is looking for the file on disk not in built in resources.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I can set the gui icon using:
</I>&gt;&gt;<i> window1.Icon = Gdk.Pixbuf.LoadFromResource (&quot;testicon.png&quot;);
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> So is there anyway to load image from resources using a glade interface?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thanks
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> --Error here---
</I>&gt;&gt;<i> (&lt;unknown&gt;:2000): GLib-CRITICAL **: g_path_get_dirname: assertion `file_name != NULL' failed
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> (&lt;unknown&gt;:2000): GdkPixbuf-CRITICAL **: gdk_pixbuf_new_from_file_utf8: assertion `filename != NULL' failed
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> (&lt;unknown&gt;:2000): libglade-WARNING **: Couldn't find image file: &quot;test.png&quot;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> (&lt;unknown&gt;:2000): GLib-CRITICAL **: g_path_get_dirname: assertion `file_name != NULL' failed
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> (&lt;unknown&gt;:2000): GdkPixbuf-CRITICAL **: gdk_pixbuf_new_from_file_utf8: assertion `filename != NULL' failed
</I>&gt;&gt;<i> Glade GUI error: Object reference not set to an instance of an object
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Unhandled Exception: System.NullReferenceException: Object reference not set to an instance of an object
</I>&gt;&gt;<i> in &lt;0x000f4&gt; Test.Gui.MyGui:.ctor ()
</I>&gt;&gt;<i> in &lt;0x0006a&gt; Test.MainClass:Main (System.String[] args)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -------------------------------------------------------------
</I>&gt;&gt;<i> NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
</I>&gt;&gt;<i> Web/Wap : www.netcourrier.com
</I>&gt;&gt;<i> T&#233;l&#233;phone/Fax : 08 92 69 00 21 (0,34 &#128; TTC/min)
</I>&gt;&gt;<i> Minitel: 3615 NETCOURRIER (0,16 &#128; TTC/min)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Gtk-sharp-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">Gtk-sharp-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>&gt;&gt;<i> 
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>-- 
</I>&gt;<i>&quot;He who fights with monsters might take care 
</I>&gt;<i>lest he thereby become a monster. And if you 
</I>&gt;<i>gaze for long into an abyss, the abyss gazes 
</I>&gt;<i>also into you.&quot; - Nietzsc
</I>
-------------------------------------------------------------
NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
Web/Wap : www.netcourrier.com
T&#233;l&#233;phone/Fax : 08 92 69 00 21 (0,34 &#128; TTC/min)
Minitel: 3615 NETCOURRIER (0,16 &#128; TTC/min)

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006107.html">[Gtk-sharp-list] Run method for FileChooserDialog missing in gtk#
	1.9.3 (win32 install)
</A></li>
	<LI>Next message: <A HREF="006110.html">[Gtk-sharp-list] Glade using resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6108">[ date ]</a>
              <a href="thread.html#6108">[ thread ]</a>
              <a href="subject.html#6108">[ subject ]</a>
              <a href="author.html#6108">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
