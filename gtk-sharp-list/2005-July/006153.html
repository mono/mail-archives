<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Label PopulatePopup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Label%20PopulatePopup&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006152.html">
   <LINK REL="Next"  HREF="006154.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Label PopulatePopup</H1>
    <B>underdog10 at netcourrier.com</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Label%20PopulatePopup&In-Reply-To="
       TITLE="[Gtk-sharp-list] Label PopulatePopup">underdog10 at netcourrier.com
       </A><BR>
    <I>Tue Jul 12 17:13:47 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="006152.html">[Gtk-sharp-list] Label PopulatePopup
</A></li>
        <LI>Next message: <A HREF="006154.html">[Gtk-sharp-list] Marshaling a byte[] for a pixbuf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6153">[ date ]</a>
              <a href="thread.html#6153">[ thread ]</a>
              <a href="subject.html#6153">[ subject ]</a>
              <a href="author.html#6153">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I have test it, and i find that on Win32 this code is not compiling with MS csc. When using mono 1.1.x, it does compile but don't work on Win32.
In both the code is not working using Sharpdevelop.
I have no idea how this could happen since it is the code?
When comiling from cygwin using Makefile. It does compile and work.

Also i try our test.cs and you are right it is working.

I get it to work only when i get this warning.

(&lt;unknown&gt;:1600): GLib-CRITICAL **: g_convert: assertion `str != NULL' failed

Thanks

----Message d'origine----
&gt;<i>Sujet: Re: [Gtk-sharp-list] Label PopulatePopup
</I>&gt;<i>De: Fredrik Nilsson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">jymdman at home.se</A>&gt;
</I>&gt;<i>A: <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">underdog10 at netcourrier.com</A>
</I>&gt;<i>Date: Tue, 12 Jul 2005 14:48:54 +0200
</I>&gt;<i>
</I>&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>The attached file work for me with mono 1.1.8 and gtk-sharp from svn
</I>&gt;<i>on my suse 9.3 box.
</I>&gt;<i>
</I>&gt;<i>Compile with:   mcs test.cs -pkg:gtk-sharp-2.0 -define:DEBUG
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>/Fredrik
</I>&gt;<i>
</I>&gt;<i>tis 2005-07-12 klockan 14:26 +0200 skrev <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">underdog10 at netcourrier.com</A>:
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I'm trying to make an Popup when right click is pressed on a Label.
</I>&gt;&gt;<i> As show in the code below, the label &quot;statuslabelconnexion&quot; is pack in an EventBox, and the image to the StatusBar.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> When discuting on the list, it appear that you need to set an eventbox to te label before add event, but it does'nt work?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I have made two events but i don't received any!
</I>&gt;&gt;<i> Could you help, please?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>  private Gui()
</I>&gt;&gt;<i>  {
</I>&gt;&gt;<i>   /// Code...
</I>&gt;&gt;<i>  statusbar = new Statusbar ();
</I>&gt;&gt;<i>  statusbar.Push (1, &quot;Ready.&quot;);
</I>&gt;&gt;<i>  statusbar.Homogeneous = false;
</I>&gt;&gt;<i>  Label statuslabelconnexion = new Label(&quot;Active Connection:&quot;);
</I>&gt;&gt;<i>  EventBox ebox = new EventBox ();
</I>&gt;&gt;<i>  ebox.Add (statuslabelconnexion);
</I>&gt;&gt;<i>  ebox.ButtonPressEvent += OnLabelButtonPressEvent;
</I>&gt;&gt;<i>  ebox.PopulatePopup += PopupPopupConnexion;
</I>&gt;&gt;<i>  statusbar.PackStart(ebox, false, false, 0);
</I>&gt;&gt;<i>  Gtk.Image image1 = new Gtk.Image(Stock.No, Gtk.IconSize.SmallToolbar);
</I>&gt;&gt;<i>  statusbar.PackStart(image1, false, false, 0);
</I>&gt;&gt;<i>  }
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>  private void OnLabelButtonPressEvent(object o, ButtonPressEventArgs args)
</I>&gt;&gt;<i>  {
</I>&gt;&gt;<i>  	Gdk.EventButton eb = args.Event;
</I>&gt;&gt;<i> 	#if ( DEBUG )
</I>&gt;&gt;<i> 		Console.WriteLine (&quot;Button OnLabelButtonPressEvent click&quot;);
</I>&gt;&gt;<i>        #endif
</I>&gt;&gt;<i>  	 switch (args.Event.Button)
</I>&gt;&gt;<i>             {
</I>&gt;&gt;<i>                 case 3:
</I>&gt;&gt;<i>                        PopupPopupConnexion2(args.Event);
</I>&gt;&gt;<i>                         break;
</I>&gt;&gt;<i>        		case 1:
</I>&gt;&gt;<i>   			#if ( DEBUG )
</I>&gt;&gt;<i>          	     Console.WriteLine (&quot;First OnLabelButtonPressEvent click&quot;);
</I>&gt;&gt;<i>              		#endif
</I>&gt;&gt;<i>          		break;
</I>&gt;&gt;<i>              } 
</I>&gt;&gt;<i>  }
</I>&gt;&gt;<i>  		
</I>&gt;&gt;<i>  private void PopupPopupConnexion(object o, PopulatePopupArgs args)
</I>&gt;&gt;<i>  {
</I>&gt;&gt;<i>  	#if ( DEBUG )
</I>&gt;&gt;<i>            	Console.WriteLine (&quot;In PopupPopupConnexion!&quot;);
</I>&gt;&gt;<i>            #endif
</I>&gt;&gt;<i> 	PopupPopupConnexion2(null);
</I>&gt;&gt;<i>  }
</I>&gt;&gt;<i> 	
</I>&gt;&gt;<i>  private void PopupPopupConnexion2 (EventButton ev)
</I>&gt;&gt;<i>  {
</I>&gt;&gt;<i>        	#if ( DEBUG )
</I>&gt;&gt;<i>              	Console.WriteLine (&quot;In PopupPopupConnexion2!&quot;);
</I>&gt;&gt;<i>          #endif
</I>&gt;&gt;<i>  }
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -------------------------------------------------------------
</I>&gt;&gt;<i> NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
</I>&gt;&gt;<i> Web/Wap : www.netcourrier.com
</I>&gt;&gt;<i> T&#233;l&#233;phone/Fax : 08 92 69 00 21 (0,34 &#226;&#130;&#172; TTC/min)
</I>&gt;&gt;<i> Minitel: 3615 NETCOURRIER (0,16 &#226;&#130;&#172; TTC/min)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Gtk-sharp-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">Gtk-sharp-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>&gt;&gt;<i> 
</I>&gt;<i>
</I>&gt;<i>
</I>
-------------------------------------------------------------
NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
Web/Wap : www.netcourrier.com
T&#233;l&#233;phone/Fax : 08 92 69 00 21 (0,34 &#128; TTC/min)
Minitel: 3615 NETCOURRIER (0,16 &#128; TTC/min)

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006152.html">[Gtk-sharp-list] Label PopulatePopup
</A></li>
	<LI>Next message: <A HREF="006154.html">[Gtk-sharp-list] Marshaling a byte[] for a pixbuf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6153">[ date ]</a>
              <a href="thread.html#6153">[ thread ]</a>
              <a href="subject.html#6153">[ subject ]</a>
              <a href="author.html#6153">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
