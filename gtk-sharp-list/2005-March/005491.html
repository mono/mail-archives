<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Strange bug
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:iparish%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005497.html">
   <LINK REL="Next"  HREF="005492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Strange bug
   </H1>
    <B>Ian Parish
    </B> 
    <A HREF="mailto:iparish%40novell.com"
       TITLE="[Gtk-sharp-list] Strange bug">iparish@novell.com
       </A><BR>
    <I>Thu, 03 Mar 2005 12:00:33 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="005497.html">[Gtk-sharp-list] Loading glade resource files
</A></li>
        <LI> Next message: <A HREF="005492.html">[Gtk-sharp-list] Strange bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5491">[ date ]</a>
              <a href="thread.html#5491">[ thread ]</a>
              <a href="subject.html#5491">[ subject ]</a>
              <a href="author.html#5491">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a MIME message. If you are reading this text, you may want to 
consider changing to a mail reader or gateway that understands how to 
properly handle MIME multipart messages.

--=__Part92B1FAC1.1__=
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

I saw this and it was very frustrating.  I came to the conclusion that
the .Autoconnect() call that is called when any additional dialog/widget
is loaded is causing the initial lists/variables to be cleared or set to
Null.  I wasn't able to find a fix or work around it(that was easy, I
could have done all the work autoconnect() does manually)  In this
sample code Iconlist1 is set and valid until the
newDialog3XML.Autoconnet() call is made. 
 
 
Glade.XML gxml = new Glade.XML (null, nal.glade, Nal, null); 
         gxml.Autoconnect (this); 
                                                                        
        
         iconlist1 = (Gnome.IconList)gxml.GetWidget(iconlist1);         
                                                                       
 
 
newDialog3XML = new Glade.XML (null, test.glade, dialog3, null); 
//  This call to autoconnet() cause iconlist1 to be set to null 
                              newDialog3XML.Autoconnect (this); 
                                                                        
        
  
Ian 


&gt;&gt;&gt;<i>&lt;<A HREF="mailto:fmoraes@nc.rr.com">fmoraes@nc.rr.com</A>&gt; 03/02/05 9:53 pm &gt;&gt;&gt;
</I>This seems to occur on with my dialog (has a TreeView with a custom
ListStore model). It works fine for the first instance of the dialog.
After I close and destroy it, I reopen, remove an item from the list and
try to append a new one and I get the exception below:

Unhandled Exception: System.NullReferenceException: Object reference not
set to
an instance of an object.
  at Gtk.ListStore.gtk_list_store_append(IntPtr raw, TreeIter&amp; iter)
  at Gtk.ListStore.Append()

Any ideas? This is with GTK# 1.92.

Francisco


Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>


--=__Part92B1FAC1.1__=
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

&lt;html&gt;
  &lt;head&gt;
    &lt;style type=3D&quot;text/css&quot;&gt;
      &lt;!--
        body { font-variant: normal; margin-bottom: 1px; margin-top: 4px; =
margin-left: 4px; line-height: normal; margin-right: 4px }
      --&gt;
    &lt;/style&gt;
   =20
  &lt;/head&gt;
  &lt;body style=3D&quot;margin-bottom: 1px; margin-top: 4px; margin-left: 4px; =
margin-right: 4px&quot;&gt;
    &lt;div&gt;
      &lt;DIV&gt;        I saw this and it was very frustrating.&amp;#160;&amp;nbsp;I =
came to the conclusion that the .Autoconnect&amp;#40;&amp;#41; call that is =
called&amp;#160;when&amp;#160;any&amp;#160;additional dialog/widget is loaded is =
causing the initial lists/variables to be cleared or set to Null.&amp;#160;&amp;nbs=
p;I wasn&amp;#39;t able to find a fix or work around it&amp;#40;that was easy&amp;#44; =
I could have done all the work autoconnect&amp;#40;&amp;#41; does manually&amp;#41; =
&amp;nbsp;In this sample code Iconlist1 is set and valid until the newDialog3XM=
L.Autoconnet&amp;#40;&amp;#41; call is made.
      &lt;/DIV&gt;
      &lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
      &lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
      &lt;DIV&gt;Glade.XML gxml &amp;#61; new Glade.XML &amp;#40;null&amp;#44; &amp;quot;nal.glad=
e&amp;quot;&amp;#44; &amp;quot;Nal&amp;quot;&amp;#44; null&amp;#41;&amp;#59;
      &lt;/DIV&gt;
      &lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;gxml.Autoc=
onnect &amp;#40;this&amp;#41;&amp;#59;
      &lt;/DIV&gt;
      &lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbs=
p;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;=
nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbs=
p;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;=
nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbs=
p;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;=
nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
      &lt;/DIV&gt;
      &lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;iconlist1 =
&amp;#61; &amp;#40;Gnome.IconList&amp;#41;gxml.GetWidget&amp;#40;&amp;quot;iconlist1&amp;quot;&amp;#41;=
&amp;#59; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nb=
sp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nb=
sp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nb=
sp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
      &lt;/DIV&gt;
      &lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
      &lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
      &lt;DIV&gt;newDialog3XML &amp;#61; new Glade.XML &amp;#40;null&amp;#44; &amp;quot;test.glad=
e&amp;quot;&amp;#44; &amp;quot;dialog3&amp;quot;&amp;#44; null&amp;#41;&amp;#59;
      &lt;/DIV&gt;
      &lt;DIV&gt;// &amp;nbsp;This call to autoconnet&amp;#40;&amp;#41; cause iconlist1 to =
be set to null
      &lt;/DIV&gt;
      &lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbs=
p;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;=
nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;newDialog3XML.Autoconnect =
&amp;#40;this&amp;#41;&amp;#59;
      &lt;/DIV&gt;
      &lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbs=
p;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;=
nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbs=
p;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;=
nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbs=
p;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;=
nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
      &lt;/DIV&gt;
      &lt;DIV&gt;&amp;#160;
      &lt;/DIV&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;DIV&gt;        Ian
      &lt;/DIV&gt;
    &lt;/div&gt;
    &lt;DIV&gt;      &lt;br&gt;
      &lt;br&gt;
      &amp;gt;&amp;gt;&amp;gt;&amp;lt;<A HREF="mailto:fmoraes@nc.rr.com">fmoraes@nc.rr.com</A>&amp;gt; 03/02/05 9:53 pm &amp;gt;&amp;gt;&amp;gt;&lt;b=
r&gt;This seems to occur on with my dialog &amp;#40;has a TreeView with a custom =
ListStore model&amp;#41;. It works fine for the first instance of the dialog. =
After I close and destroy it&amp;#44; I reopen&amp;#44; remove an item from the =
list and try to append a new one and I get the exception below:&lt;br&gt;&lt;br&gt;Unha=
ndled Exception: System.NullReferenceException: Object reference not set =
to&lt;br&gt;an instance of an object.&lt;br&gt;&amp;#160;&amp;#160;at Gtk.ListStore.gtk_list_st=
ore_append&amp;#40;IntPtr raw&amp;#44; TreeIter&amp;amp; iter&amp;#41;&lt;br&gt;&amp;#160;&amp;#160;at =
Gtk.ListStore.Append&amp;#40;&amp;#41;&lt;br&gt;&lt;br&gt;Any ideas&amp;#63; This is with GTK&amp;#35; =
1.92.&lt;br&gt;&lt;br&gt;Francisco&lt;br&gt;&lt;br&gt;&lt;br&gt;Gtk-sharp-list maillist&amp;#160;&amp;nbsp;-&amp;#160=
;&amp;nbsp;<A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>&lt;br&gt;<A HREF="http://lists.ximian.com/mailman/l=">http://lists.ximian.com/mailman/l=</A>
istinfo/gtk-sharp-list&lt;br&gt;    &lt;/DIV&gt;

  &lt;/body&gt;
&lt;/html&gt;

--=__Part92B1FAC1.1__=--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005497.html">[Gtk-sharp-list] Loading glade resource files
</A></li>
	<LI> Next message: <A HREF="005492.html">[Gtk-sharp-list] Strange bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5491">[ date ]</a>
              <a href="thread.html#5491">[ thread ]</a>
              <a href="subject.html#5491">[ subject ]</a>
              <a href="author.html#5491">[ author ]</a>
         </LI>
       </UL>
</body></html>
