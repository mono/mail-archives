<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Some useful TreeModel extension methods
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Some%20useful%20TreeModel%20extension%20methods&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009690.html">
   <LINK REL="Next"  HREF="009692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Some useful TreeModel extension methods</H1>
    <B>Chris Howie</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Some%20useful%20TreeModel%20extension%20methods&In-Reply-To="
       TITLE="[Gtk-sharp-list] Some useful TreeModel extension methods">cdhowie at gmail.com
       </A><BR>
    <I>Tue Jun 16 11:55:48 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009690.html">[Gtk-sharp-list] ColorSelectionDialog
</A></li>
        <LI>Next message: <A HREF="009692.html">[Gtk-sharp-list] ColorSelectionDialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9691">[ date ]</a>
              <a href="thread.html#9691">[ thread ]</a>
              <a href="subject.html#9691">[ subject ]</a>
              <a href="author.html#9691">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>List:

I'm working on an increasingly complex mono-addins based program, and
I do quite a bit of TreeView stuff.  If you're like me, you get
annoyed iterating over TreeIters and extracting objects from the
model.  I've written a couple of extension methods that make this a
ton easier.

See &lt;<A HREF="http://gitorious.org/gazebo-chess-interface/mainline/blobs/59662ee0a91b8ac56ee53a581b06bfa080b350df/Gazebo.Core/Extensions.cs">http://gitorious.org/gazebo-chess-interface/mainline/blobs/59662ee0a91b8ac56ee53a581b06bfa080b350df/Gazebo.Core/Extensions.cs</A>&gt;
lines 172-206.

If you are using models that have only one column used to contain a
data object, and use your own data functions for rendering different
columns, these methods should prove incredibly useful.  Rather than
doing something ugly like this ...

    // store is a ListStore
    TreeIter iter;
    if (!store.GetIterFirst(out iter)) {
        return;
    }
    do {
        DataClass data = (DataClass) store.GetValue(iter, 0);
        // Do stuff with data
    } while (store.IterNext(ref iter));

... you can do something much simpler and a lot more obvious ...

    foreach (DataClass data in store.TraverseColumn&lt;DataClass&gt;(0)) {
        // Do stuff with data
    }

Note that using this on a non-flat TreeModel (like a TreeStore or
something) these methods will in fact navigate the whole tree, from
the first element to the last, as though they were all on the same
level.  You can use model.Traverse() to enumerate the iters if you
need to filter.  This makes for some fun LINQ:

var dataObjects = from iter in store.Traverse()
    where store.GetPath(iter).Depth &gt; 1
    select (DataObject) store.GetValue(iter, 0);

The particular lines mentioned above of this specific version of this
source file are hereby released under the terms of the MIT/X11
license.

-- 
Chris Howie
<A HREF="http://www.chrishowie.com">http://www.chrishowie.com</A>
<A HREF="http://en.wikipedia.org/wiki/User:Crazycomputers">http://en.wikipedia.org/wiki/User:Crazycomputers</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009690.html">[Gtk-sharp-list] ColorSelectionDialog
</A></li>
	<LI>Next message: <A HREF="009692.html">[Gtk-sharp-list] ColorSelectionDialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9691">[ date ]</a>
              <a href="thread.html#9691">[ thread ]</a>
              <a href="subject.html#9691">[ subject ]</a>
              <a href="author.html#9691">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
