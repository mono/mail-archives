<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Mono.Cairo DllImport calling convention
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Mono.Cairo%20DllImport%20calling%20convention&In-Reply-To=1311553813995-3691327.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010772.html">
   <LINK REL="Next"  HREF="010770.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Mono.Cairo DllImport calling convention</H1>
    <B>Mike Kestner</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Mono.Cairo%20DllImport%20calling%20convention&In-Reply-To=1311553813995-3691327.post%40n4.nabble.com"
       TITLE="[Gtk-sharp-list] Mono.Cairo DllImport calling convention">mkestner at gmail.com
       </A><BR>
    <I>Sun Jul 24 21:53:52 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010772.html">[Gtk-sharp-list] Mono.Cairo DllImport calling convention
</A></li>
        <LI>Next message: <A HREF="010770.html">[Gtk-sharp-list] Help on getting Webkit Widget in Monodevelop?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10773">[ date ]</a>
              <a href="thread.html#10773">[ thread ]</a>
              <a href="subject.html#10773">[ subject ]</a>
              <a href="author.html#10773">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Jul 24, 2011 at 7:30 PM, diekleinekuh &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">markus-henschel at gmx.de</A>&gt;wrote:


&gt;<i> Oh, Ok. So gapi-cdecl-insert is not used for cairo in 2.12 because there
</I>&gt;<i> are no callback delegates there? And how are native function calls handled
</I>&gt;<i> in 2.12 then? I didn't see any CallingConvention set for the native PInvoke
</I>&gt;<i> calls. Doesn't this mean stack memory leaks on every such call on Windows
</I>&gt;<i> where the default is stdcall? Or does the .NET/Mono runtime take care of
</I>&gt;<i> this by automatically balancing the stack if it detects a leak?
</I>

In master, the calling convention is explicitly specified in the DllImports
in generated and custom code.  That would not be hard to do in the 2.12
branch.  A one-line generator change and a sed script to update all the
.custom and .cs files.  If someone wants to give me a github pull request
for that, I'd be happy to merge it.  :-)  Feel free to open a bug report for
it otherwise and I'll get to it eventually.


&gt;<i> Great. I really hated this script because it magically deleted pdb files
</I>&gt;<i> for the libraries it was used on. But what will be the next gtksharp version
</I>&gt;<i> to be released? Will it be a bugfixing release for 2.12 or something new?
</I>&gt;<i>
</I>
There is active hacking on master which will result eventually in a 3.0
series, probably with one or two previews/betas prior to final.  The banshee
port is the primary driver of that work, and I would imagine we'll kick a
release out as soon as they have banshee running on it.  Master is already
in pretty good shape if people want to start playing with the 3.0 API in
their apps.  The more people that use it and help find the bugs, the sooner
it will be ready.

I intend to provide at least one more 2.12 release.  The current installer
is in pretty bad shape and there's a few other bugs I'd like to fix.  This
is all nights and weekends volunteer work for me now though, so the timing
will be more or less &quot;when it's ready&quot;.

Mike
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20110724/37001ccb/attachment.html">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20110724/37001ccb/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010772.html">[Gtk-sharp-list] Mono.Cairo DllImport calling convention
</A></li>
	<LI>Next message: <A HREF="010770.html">[Gtk-sharp-list] Help on getting Webkit Widget in Monodevelop?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10773">[ date ]</a>
              <a href="thread.html#10773">[ thread ]</a>
              <a href="subject.html#10773">[ subject ]</a>
              <a href="author.html#10773">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
