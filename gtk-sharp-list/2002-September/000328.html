<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Agressive ref-couting.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mkestner%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000323.html">
   <LINK REL="Next"  HREF="000330.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Agressive ref-couting.
   </H1>
    <B>Mike Kestner
    </B> 
    <A HREF="mailto:mkestner%40ximian.com"
       TITLE="[Gtk-sharp-list] Agressive ref-couting.">mkestner@ximian.com
       </A><BR>
    <I>11 Sep 2002 17:16:01 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000323.html">[Gtk-sharp-list] Agressive ref-couting.
</A></li>
        <LI> Next message: <A HREF="000330.html">[Gtk-sharp-list] Agressive ref-couting.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#328">[ date ]</a>
              <a href="thread.html#328">[ thread ]</a>
              <a href="subject.html#328">[ subject ]</a>
              <a href="author.html#328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2002-09-11 at 00:07, Miguel de Icaza wrote:

&gt;<i>    The following patch makes mPhoto work again, when GC happens, we are
</I>&gt;<i> destroying objects that we did not ref previously.
</I>
I'm not sure this is the solution.  We shouldn't need to ref every
object, because we should own the vast majority of handles that are
returned by native methods.  Is this a situation where you are using
methods with &quot;const&quot; returns in the native library?

If so, we need to mark those methods in the XML and add the small piece
to the generator to handle this.  If not, then I'm stumped as to what
may be going on.  I'm not opposed to committing this patch as a stopgap
if a better solution isn't at hand. But a bug needs to be opened to
document the problem.  If we take a ref, and then release it in Dispose,
we still aren't going to be releasing most resources.

-- 
Mike Kestner &lt;<A HREF="mailto:mkestner@ximian.com">mkestner@ximian.com</A>&gt;



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000323.html">[Gtk-sharp-list] Agressive ref-couting.
</A></li>
	<LI> Next message: <A HREF="000330.html">[Gtk-sharp-list] Agressive ref-couting.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#328">[ date ]</a>
              <a href="thread.html#328">[ thread ]</a>
              <a href="subject.html#328">[ subject ]</a>
              <a href="author.html#328">[ author ]</a>
         </LI>
       </UL>
</body></html>
