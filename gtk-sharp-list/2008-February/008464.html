<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Attaching method to events without explicit	EventHandler instanciation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Attaching%20method%20to%20events%20without%20explicit%0A%09EventHandler%20instanciation&In-Reply-To=1c03572e0802210939x5cc21fddl4bdb121250adeabd%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008459.html">
   <LINK REL="Next"  HREF="008465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Attaching method to events without explicit	EventHandler instanciation</H1>
    <B>Chris Howie</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Attaching%20method%20to%20events%20without%20explicit%0A%09EventHandler%20instanciation&In-Reply-To=1c03572e0802210939x5cc21fddl4bdb121250adeabd%40mail.gmail.com"
       TITLE="[Gtk-sharp-list] Attaching method to events without explicit	EventHandler instanciation">cdhowie at gmail.com
       </A><BR>
    <I>Fri Feb 22 18:06:44 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008459.html">[Gtk-sharp-list] Attaching method to events without explicit	EventHandler instanciation
</A></li>
        <LI>Next message: <A HREF="008465.html">[Gtk-sharp-list] Attaching method to events without explicit	EventHandler instanciation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8464">[ date ]</a>
              <a href="thread.html#8464">[ thread ]</a>
              <a href="subject.html#8464">[ subject ]</a>
              <a href="author.html#8464">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Feb 21, 2008 at 12:39 PM, Charles-Henri d'Adh&#233;mar
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">cdadhemar at gmail.com</A>&gt; wrote:
&gt;<i>  The way a method is attached to an event seems equivalent in class
</I>&gt;<i>  Test1 and Test2 below :
</I>&gt;<i>
</I>&gt;<i>                button1.Clicker += new EventHandler(hello_event);
</I>&gt;<i> [snip]
</I>&gt;<i>                button1.Clicker += hello_event;
</I>&gt;<i>
</I>&gt;<i>  Can a method (in our case hello_event) be attached to a GTK# event
</I>&gt;<i>  without instantiating a delegate (new EventHandler(hello_event); ) ?
</I>
Yes and no.

Actually, the two lines of code you have given above will compile to
exactly the same IL sequence.  The ability to &quot;use a method as a
delegate&quot; was added in the C# 2.0 language specification as a way to
save time coding.  The compiler looks at the context to determine the
type it needs (EventHandler in this case) and looks at the right side
and says &quot;this is a method with the same or compatible signature as
that delegate, let's just create the delegate.&quot;  It's similar to type
inference in a way.

So there are a few points you have to consider:

1) Implicitly creating the delegate is easier to type and reads better
(in my opinion).

2) Implicitly creating the delegate is *NOT* compatible with C# 1.0.
Note that mcs does support C# 2.0 features that are binary-compatible
with the 1.1 CLI assembly format, which includes features like this
one as well as anonymous delegates and the like.  Microsoft's 1.1
compiler does not, to my knowledge, support anything but C# 1.0 so if
you are targeting the 1.1 framework and would like to be compatible
with the MS 1.1 compiler, you should explicitly create the delegate.
If you are targeting the 2.0 framework then it makes no difference
which you choose in this respect.

3) The compiled assembly is going to be identical either way you do
it, so there is no runtime performance difference or assembly size
difference that will impact your decision.

-- 
Chris Howie
<A HREF="http://www.chrishowie.com">http://www.chrishowie.com</A>
<A HREF="http://en.wikipedia.org/wiki/User:Crazycomputers">http://en.wikipedia.org/wiki/User:Crazycomputers</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008459.html">[Gtk-sharp-list] Attaching method to events without explicit	EventHandler instanciation
</A></li>
	<LI>Next message: <A HREF="008465.html">[Gtk-sharp-list] Attaching method to events without explicit	EventHandler instanciation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8464">[ date ]</a>
              <a href="thread.html#8464">[ thread ]</a>
              <a href="subject.html#8464">[ subject ]</a>
              <a href="author.html#8464">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
