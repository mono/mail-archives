<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] DrawingArea - allocating needed space
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20DrawingArea%20-%20allocating%20needed%20space&In-Reply-To=4554ECCD.4020505%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007504.html">
   <LINK REL="Next"  HREF="007505.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] DrawingArea - allocating needed space</H1>
    <B>Richard Boaz</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20DrawingArea%20-%20allocating%20needed%20space&In-Reply-To=4554ECCD.4020505%40gmail.com"
       TITLE="[Gtk-sharp-list] DrawingArea - allocating needed space">riboaz at xs4all.nl
       </A><BR>
    <I>Sat Nov 11 02:12:55 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007504.html">[Gtk-sharp-list] DrawingArea - allocating needed space
</A></li>
        <LI>Next message: <A HREF="007505.html">[Gtk-sharp-list] Click outside window
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7515">[ date ]</a>
              <a href="thread.html#7515">[ thread ]</a>
              <a href="subject.html#7515">[ subject ]</a>
              <a href="author.html#7515">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> White Spirit wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> If you're able to move the drawn elements, another possibility is to
</I>&gt;&gt;<i> destroy the drawing area and recreate it with the new dimensions, and
</I>&gt;&gt;<i> then redraw from your starting point.
</I>&gt;<i>
</I>&gt;<i> Well, it's a kind of what I've been planning to do but I thought there
</I>&gt;<i> may be a slicker way. If I want to move everything I have to recalculate
</I>&gt;<i>   positions of all elements and that costs time.
</I>&gt;<i>
</I>
One way, here, is to have two coordinate systems.  One defining your
drawing coordinates, i.e., absolute pixel positions, and the other your
user coordinates, i.e, the layout of your images in relation to each
other.  In providing your own transform function between the two, you then
do all drawing to absolute pixel positions always only specifying your
user coordinates to the transform function.

This way, when your drawing area necessarily must change size, you simply
modify the coordinate system boundary definitions of your transform and
then replot your image using the same drawing routine as before.  In this
manner, the only cost in time is to replot, and this you must do anyway.

You can get even fancier (or, rather, more complicated, but faster) by not
redrawing anything that has previously been drawn.  For example, when you
must make your drawing area larger, say 100x100, make a new drawing area
and copy the currently displayed image to the new drawing area, copying
from (0,0) to the new (0,0) equivalent (e.g., (50,50)).  Having reset your
transform accordingly, the new elements can now be added using the
transform from above.

and, there's always a slicker way: imagine, experiment, and persist, you
will find it.

cheers,

richard


&gt;&gt;<i> Assuming you're using a
</I>&gt;&gt;<i> Gdk.Pixmap, it'll be a simple matter of displaying the contents again.
</I>&gt;<i>
</I>&gt;<i> Actually, I'm using Cairo to draw in the DrawingArea and that is one of
</I>&gt;<i> the reasons why I'm trying to keep it as slick as possible elsewhere.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Piotr
</I>&gt;<i> _______________________________________________
</I>&gt;<i> gtk-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">gtk-list at gnome.org</A>
</I>&gt;<i> <A HREF="http://mail.gnome.org/mailman/listinfo/gtk-list">http://mail.gnome.org/mailman/listinfo/gtk-list</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007504.html">[Gtk-sharp-list] DrawingArea - allocating needed space
</A></li>
	<LI>Next message: <A HREF="007505.html">[Gtk-sharp-list] Click outside window
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7515">[ date ]</a>
              <a href="thread.html#7515">[ thread ]</a>
              <a href="subject.html#7515">[ subject ]</a>
              <a href="author.html#7515">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
