<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Using a Dialog box defined with glade with	an	Gtk.Dialog herited class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Using%20a%20Dialog%20box%20defined%20with%20glade%20with%0A%09an%09Gtk.Dialog%20herited%20class&In-Reply-To=20061115230649.3d6d5ae3%40Jupiter">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007528.html">
   <LINK REL="Next"  HREF="007530.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Using a Dialog box defined with glade with	an	Gtk.Dialog herited class</H1>
    <B>mlgs</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Using%20a%20Dialog%20box%20defined%20with%20glade%20with%0A%09an%09Gtk.Dialog%20herited%20class&In-Reply-To=20061115230649.3d6d5ae3%40Jupiter"
       TITLE="[Gtk-sharp-list] Using a Dialog box defined with glade with	an	Gtk.Dialog herited class">mlgs at arsis.net
       </A><BR>
    <I>Wed Nov 15 19:18:34 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007528.html">[Gtk-sharp-list] Using a Dialog box defined with glade with an Gtk.Dialog herited class
</A></li>
        <LI>Next message: <A HREF="007530.html">[Gtk-sharp-list] Pango Markup Parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7529">[ date ]</a>
              <a href="thread.html#7529">[ thread ]</a>
              <a href="subject.html#7529">[ subject ]</a>
              <a href="author.html#7529">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2006-11-15 at 23:06 +0100, lordphoenix wrote:
&gt;<i> Le Wed, 15 Nov 2006 21:21:28 +0100,
</I>&gt;<i> Gilles Fabio &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">gilles.fabio at gmail.com</A>&gt; a &#233;crit :
</I>&gt;<i> 
</I>&gt;<i> &gt; Mmm... Sounds weird :/ Could you please upload somewhere your glade
</I>&gt;<i> &gt; file and sample code? Or could you please copy-past your original
</I>&gt;<i> &gt; source code? Because I have no idea. Everything works fine on my
</I>&gt;<i> &gt; platform.
</I>&gt;<i> 
</I>&gt;<i> All sources are available here : 
</I>&gt;<i> <A HREF="http://viewvc.tuxfamily.org/svn_litemanager_main/trunk">http://viewvc.tuxfamily.org/svn_litemanager_main/trunk</A>
</I>&gt;<i> 
</I>&gt;<i> It's an SQLite database administration tool I attach an sqlite database
</I>&gt;<i> to the message if you need one to make tests
</I>&gt;<i> Thanks for your help :)
</I>&gt;<i> 
</I>
I will try to be explanatory enough (I moved few things so I could
explain it easier)

//Glade.XML gxml = new Glade.XML (null, &quot;gui.glade&quot;, &quot;dlgcreateindex&quot;,
null);

*** I rather used new window so I could be sure it works, it fails with
your dialog though. Meaning there is a problem with your glade file

Glade.XML gxml = new Glade.XML (null, &quot;gui2.glade&quot;, &quot;window1&quot;, null);

*** So,... now you loaded window

//dlgCreateIndex dlgindex = new dlgCreateIndex();
Gtk.Dialog dlgindex = new Gtk.Dialog();

*** Created empty dialog, which has no relation with the one you loaded
at all. Another base dialog window, so here you actually have two dialog
windows running

gxml.Autoconnect (dlgindex);

*** Shows loaded dialog, which is as you specified in Glade file modal

                        int result = 0;

*** Shows empty dialog, and while your dialog seems corrupted somehow
you didn't saw both windows. Try your source with mine and you'll see
what I mean. Remember, loaded should already be shown.

                        dlgindex.Show(); // or Run

*** Instead of Run try rather waiting for dialog to become inactive and
use local vars to capture result. Worked for me, but then again you
might not be the only one missing something. I could be missing
something too:) Nobody is perfect:)

/*                      if (result==(int)ResponseType.Ok){
                                Console.WriteLine(&quot;OK&quot;);
                                Console.WriteLine(&quot;texte:
&quot;+dlgindex.SqlText);
                        }*/

*** If you follow my way you should wait here before destroying because
you probably wouldn't like to destroy still active class

                        Console.WriteLine (&quot;Before destroy&quot;);
                        dlgindex.Destroy();

MY EXPLANATION, WHERE YOU WENT WRONG
====================================
All your troubles rise from one wrong assumption. You thought that you
have to create Window and then load glade file into it. Try with
dlgCreateIndex which is not subclassing Dialog and you won't work with
doubled windows.


Hope it helps

m.


&gt;<i> _______________________________________________
</I>&gt;<i> Gtk-sharp-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">Gtk-sharp-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007528.html">[Gtk-sharp-list] Using a Dialog box defined with glade with an Gtk.Dialog herited class
</A></li>
	<LI>Next message: <A HREF="007530.html">[Gtk-sharp-list] Pango Markup Parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7529">[ date ]</a>
              <a href="thread.html#7529">[ thread ]</a>
              <a href="subject.html#7529">[ subject ]</a>
              <a href="author.html#7529">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
