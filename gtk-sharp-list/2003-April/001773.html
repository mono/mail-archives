<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Bug in glade-sharp?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:charlouis.mono%40wanadoo.be">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001774.html">
   <LINK REL="Next"  HREF="001791.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Bug in glade-sharp?
   </H1>
    <B>Charles-Louis
    </B> 
    <A HREF="mailto:charlouis.mono%40wanadoo.be"
       TITLE="[Gtk-sharp-list] Bug in glade-sharp?">charlouis.mono@wanadoo.be
       </A><BR>
    <I>25 Apr 2003 16:20:37 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="001774.html">[Gtk-sharp-list] Getting the selected item from a treeview?
</A></li>
        <LI> Next message: <A HREF="001791.html">[Gtk-sharp-list] Cant run GTK# program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1773">[ date ]</a>
              <a href="thread.html#1773">[ thread ]</a>
              <a href="subject.html#1773">[ subject ]</a>
              <a href="author.html#1773">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-2FU2xIVj3H826bd+oPUQ
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hi,


I'm writing an application with glade-2, and my glade file consists of
two widgets: a Gtk.Window window1 and a Gtk.FileSelection
fileselection1.

I have added an 'open' button, where I would like to call the
FileSelector, but when I try to load the FileSelection from the glade
file, I get nothin (null), so when I want to show the fileSelection,I
get this exception:

                                                                                
Unhandled Exception: System.NullReferenceException: A null value was
found where an object instance was required
in &lt;0x0000e&gt; 00 Window.myWindow:OnOuvrir1Activate
(object,System.EventArgs)
in &lt;0x00067&gt; 01 System.MulticastDelegate:invoke_void_object_EventArgs
(object,System.EventArgs)
in &lt;0x00164&gt; 00 GtkSharp.voidObjectSignal:voidObjectCallback
(intptr,int)
in &lt;0x00026&gt; 05 GtkSharp.voidObjectSignal:voidObjectCallback
(intptr,int)
in (unmanaged) 06 Gtk.Application:gtk_main ()
in &lt;0x00004&gt; 06 Gtk.Application:gtk_main ()
in &lt;0x000d9&gt; 00 Window.myWindow:.ctor ()
in &lt;0x0002c&gt; 00 Window.myWindow:Main (string[])
 

However, when I construct my FileSelection Dialog without glade, the
dialog shows correctly.

Does anyone here have an idea?


-- 
Charles-Louis &lt;<A HREF="mailto:charlouis.mono@wanadoo.be">charlouis.mono@wanadoo.be</A>&gt;

--=-2FU2xIVj3H826bd+oPUQ
Content-Disposition: attachment; filename=windowtest.glade
Content-Type: text/plain; name=windowtest.glade; charset=UTF-8
Content-Transfer-Encoding: 7bit

&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt; &lt;!--*- mode: xml -*--&gt;
&lt;!DOCTYPE glade-interface SYSTEM &quot;<A HREF="http://glade.gnome.org/glade-2.0.dtd"">http://glade.gnome.org/glade-2.0.dtd&quot;</A>&gt;

&lt;glade-interface&gt;

&lt;widget class=&quot;GtkWindow&quot; id=&quot;window1&quot;&gt;
  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
  &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;window1&lt;/property&gt;
  &lt;property name=&quot;type&quot;&gt;GTK_WINDOW_TOPLEVEL&lt;/property&gt;
  &lt;property name=&quot;window_position&quot;&gt;GTK_WIN_POS_NONE&lt;/property&gt;
  &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
  &lt;property name=&quot;resizable&quot;&gt;True&lt;/property&gt;
  &lt;property name=&quot;destroy_with_parent&quot;&gt;False&lt;/property&gt;
  &lt;signal name=&quot;delete_event&quot; handler=&quot;OnWindow1DeleteEvent&quot; last_modification_time=&quot;Fri, 25 Apr 2003 14:02:53 GMT&quot;/&gt;

  &lt;child&gt;
    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox1&quot;&gt;
      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;

      &lt;child&gt;
	&lt;widget class=&quot;GtkMenuBar&quot; id=&quot;menubar1&quot;&gt;
	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;

	  &lt;child&gt;
	    &lt;widget class=&quot;GtkMenuItem&quot; id=&quot;menuitem1&quot;&gt;
	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;_Fichier&lt;/property&gt;
	      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;

	      &lt;child&gt;
		&lt;widget class=&quot;GtkMenu&quot; id=&quot;menu1&quot;&gt;

		  &lt;child&gt;
		    &lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;ouvrir1&quot;&gt;
		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
		      &lt;property name=&quot;label&quot;&gt;gtk-open&lt;/property&gt;
		      &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
		      &lt;signal name=&quot;activate&quot; handler=&quot;OnOuvrir1Activate&quot; last_modification_time=&quot;Fri, 25 Apr 2003 13:42:23 GMT&quot;/&gt;
		    &lt;/widget&gt;
		  &lt;/child&gt;
		&lt;/widget&gt;
	      &lt;/child&gt;
	    &lt;/widget&gt;
	  &lt;/child&gt;
	&lt;/widget&gt;
	&lt;packing&gt;
	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
	  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
	  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
	&lt;/packing&gt;
      &lt;/child&gt;

      &lt;child&gt;
	&lt;widget class=&quot;GtkScrolledWindow&quot; id=&quot;scrolledwindow1&quot;&gt;
	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
	  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
	  &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
	  &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
	  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_NONE&lt;/property&gt;
	  &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;

	  &lt;child&gt;
	    &lt;widget class=&quot;GtkTreeView&quot; id=&quot;treeview1&quot;&gt;
	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
	      &lt;property name=&quot;headers_visible&quot;&gt;True&lt;/property&gt;
	      &lt;property name=&quot;rules_hint&quot;&gt;False&lt;/property&gt;
	      &lt;property name=&quot;reorderable&quot;&gt;False&lt;/property&gt;
	      &lt;property name=&quot;enable_search&quot;&gt;True&lt;/property&gt;
	    &lt;/widget&gt;
	  &lt;/child&gt;
	&lt;/widget&gt;
	&lt;packing&gt;
	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
	  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
	&lt;/packing&gt;
      &lt;/child&gt;

      &lt;child&gt;
	&lt;widget class=&quot;GtkStatusbar&quot; id=&quot;statusbar1&quot;&gt;
	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
	  &lt;property name=&quot;has_resize_grip&quot;&gt;True&lt;/property&gt;
	&lt;/widget&gt;
	&lt;packing&gt;
	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
	  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
	  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
	&lt;/packing&gt;
      &lt;/child&gt;
    &lt;/widget&gt;
  &lt;/child&gt;
&lt;/widget&gt;

&lt;widget class=&quot;GtkFileSelection&quot; id=&quot;fileselection1&quot;&gt;
  &lt;property name=&quot;border_width&quot;&gt;10&lt;/property&gt;
  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
  &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;Choisir un fichier&lt;/property&gt;
  &lt;property name=&quot;type&quot;&gt;GTK_WINDOW_TOPLEVEL&lt;/property&gt;
  &lt;property name=&quot;window_position&quot;&gt;GTK_WIN_POS_NONE&lt;/property&gt;
  &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
  &lt;property name=&quot;resizable&quot;&gt;True&lt;/property&gt;
  &lt;property name=&quot;destroy_with_parent&quot;&gt;False&lt;/property&gt;
  &lt;property name=&quot;show_fileops&quot;&gt;True&lt;/property&gt;

  &lt;child internal-child=&quot;cancel_button&quot;&gt;
    &lt;widget class=&quot;GtkButton&quot; id=&quot;cancel_button1&quot;&gt;
      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
      &lt;property name=&quot;can_default&quot;&gt;True&lt;/property&gt;
      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
    &lt;/widget&gt;
  &lt;/child&gt;

  &lt;child internal-child=&quot;ok_button&quot;&gt;
    &lt;widget class=&quot;GtkButton&quot; id=&quot;ok_button1&quot;&gt;
      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
      &lt;property name=&quot;can_default&quot;&gt;True&lt;/property&gt;
      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
    &lt;/widget&gt;
  &lt;/child&gt;
&lt;/widget&gt;

&lt;/glade-interface&gt;

--=-2FU2xIVj3H826bd+oPUQ
Content-Disposition: attachment; filename=Window.cs
Content-Type: text/plain; name=Window.cs; charset=UTF-8
Content-Transfer-Encoding: 7bit

using System;
using Gtk;
using Glade;
using GtkSharp;
using GladeSharp;

namespace Window{
	public class myWindow{
		Glade.XML gxml;
		
		[Glade.Widget]
		Gtk.Window window1;
		[Glade.Widget]
		Gtk.FileSelection fs;
		
		public myWindow()
		{
			Application.Init();

			gxml = new Glade.XML(&quot;windowtest.glade&quot;,&quot;window1&quot;,null);
			gxml.Autoconnect(this);

			window1 = gxml.GetWidget(&quot;window1&quot;) as Gtk.Window;
			window1.Title = &quot;My fileSelectionTest&quot;;
			
			Application.Run();
		}

		private void Quit()
		{
			Application.Quit();
		}

#region EventHandlers
		private void OnOuvrir1Activate(object o, EventArgs args)
		{
			
	//		fs = gxml.GetWidget(&quot;fileselection1&quot;) as Gtk.FileSelection;
			fs = new Gtk.FileSelection(&quot;Test&quot;);
			
			fs.Show();
		}

		private void OnWindow1DeleteEvent(object o, DeleteEventArgs args)
		{
			this.Quit();
		}
#endregion
		private static void Main(string[] args)
		{
			myWindow w = new myWindow();
		}
	}
}

--=-2FU2xIVj3H826bd+oPUQ--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001774.html">[Gtk-sharp-list] Getting the selected item from a treeview?
</A></li>
	<LI> Next message: <A HREF="001791.html">[Gtk-sharp-list] Cant run GTK# program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1773">[ date ]</a>
              <a href="thread.html#1773">[ thread ]</a>
              <a href="subject.html#1773">[ subject ]</a>
              <a href="author.html#1773">[ author ]</a>
         </LI>
       </UL>
</body></html>
