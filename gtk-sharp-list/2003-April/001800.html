<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] GConf replacement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pbaena%40uol.com.ar">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001799.html">
   <LINK REL="Next"  HREF="001784.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] GConf replacement
   </H1>
    <B>Pablo Baena
    </B> 
    <A HREF="mailto:pbaena%40uol.com.ar"
       TITLE="[Gtk-sharp-list] GConf replacement">pbaena@uol.com.ar
       </A><BR>
    <I>27 Apr 2003 18:35:40 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="001799.html">[Gtk-sharp-list] GConf replacement
</A></li>
        <LI> Next message: <A HREF="001784.html">[Gtk-sharp-list] Cant run GTK# program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1800">[ date ]</a>
              <a href="thread.html#1800">[ thread ]</a>
              <a href="subject.html#1800">[ subject ]</a>
              <a href="author.html#1800">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-HLzbzY/C2WYMpxq0v5fe
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

Currently it is at <A HREF="http://gnomencoder.sourceforge.net.">http://gnomencoder.sourceforge.net.</A> Beware that it is
very very new code, and not very tested (seems to work fine though, but
I didn't stressed it beyond the typical).

You can copy the base_types/ge_settings.cs and
gnome/ge_settings_glade.cs files and use them in your programs (I didn't
make them a separate dll because they're too small). Just try to update
them frequently as I'm cleaning them. If you have suggestions don't
hesitate to tell me about it.

Cheers!

On Sun, 2003-04-27 at 16:50, Martin Willemoes Hansen wrote:

&gt;<i> Sounds very nifty, I for one could use it. Hope you will distribute your
</I>&gt;<i> class library.
</I>&gt;<i> 
</I>&gt;<i> On Sat, 2003-04-26 at 11:15, Pablo Baena wrote:
</I>&gt;<i> &gt; Hi! I told you some time ago that I was avoiding gconf because of a
</I>&gt;<i> &gt; few issues. Well, I finished some prototype of what I'm doing to
</I>&gt;<i> &gt; replace gconf# in my project.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The nifty thing works this way. First you define an interface like
</I>&gt;<i> &gt; this:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	interface IMySettings 
</I>&gt;<i> &gt; 	{
</I>&gt;<i> &gt; 		[GeSettings.Property (&quot;GnoMencoder&quot;, 
</I>&gt;<i> &gt; 				      &quot;/dev/cdroms/cdrom0&quot;, 
</I>&gt;<i> &gt; 				      &quot;DVD Device&quot;)]
</I>&gt;<i> &gt; 		string DVDDevice 
</I>&gt;<i> &gt; 		{
</I>&gt;<i> &gt; 			get; 
</I>&gt;<i> &gt; 			set;
</I>&gt;<i> &gt; 		}
</I>&gt;<i> &gt; 	}
</I>&gt;<i> &gt; The arguments of the attribute are: name of the app, default value and
</I>&gt;<i> &gt; description, respectively.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Then you pass the interface to a magic machine like this:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; IMySettings mySettings = (IMySettings) 
</I>&gt;<i> &gt; 	GeSettings.Builder.Build (typeof(IMySettings));
</I>&gt;<i> &gt; Et voilá, you'll have a mySettings.DVDDevice to use as any other
</I>&gt;<i> &gt; property, only that any changes to it will be recorded in a XML file
</I>&gt;<i> &gt; on your home directory for future sessions, and all get operations
</I>&gt;<i> &gt; will retrieve that setting from said XML file (without you having to
</I>&gt;<i> &gt; know _anything_ about XML).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; With this we avoided all the steps we had to make with gconf#, that
</I>&gt;<i> &gt; were:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; * create a GConf schema (learn how to make one)
</I>&gt;<i> &gt; * run gconf-schemagen over it to create the class
</I>&gt;<i> &gt; * have root priviledges to install the schema
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; And there is more! With another class I created (it is apart so one
</I>&gt;<i> &gt; doesn't have to depend on gtk# for other uses), one can do this:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	interface IMySettings 
</I>&gt;<i> &gt; 	{
</I>&gt;<i> &gt; 		[GeSettings.Property (&quot;GnoMencoder&quot;, 
</I>&gt;<i> &gt; 				      &quot;/dev/cdroms/cdrom0&quot;, 
</I>&gt;<i> &gt; 				      &quot;DVD Device&quot;,
</I>&gt;<i> &gt; 				      WidgetName=&quot;dvddevice_entry&quot;)]
</I>&gt;<i> &gt; 		string DVDDevice 
</I>&gt;<i> &gt; 		{
</I>&gt;<i> &gt; 			get; 
</I>&gt;<i> &gt; 			set;
</I>&gt;<i> &gt; 		}
</I>&gt;<i> &gt; 	}
</I>&gt;<i> &gt; And, with this function:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; IMySettings mySettings = (IMySettings) 
</I>&gt;<i> &gt; 	GeSettings.GladeBuilder.Build (typeof(IMySettings), gxml);
</I>&gt;<i> &gt; we'll have the property associated with the widget on the glade
</I>&gt;<i> &gt; resource, which will update the value on the Changed events and
</I>&gt;<i> &gt; display the value on Realized.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The classes are in a very very alpha state yet, and aren't optimized
</I>&gt;<i> &gt; in any way, so I didn't released them to the public. Anyway, the
</I>&gt;<i> &gt; quality is poor because they're 'inside use only' and it serves its
</I>&gt;<i> &gt; purpose for what I'm doing. If there is enough interest on making them
</I>&gt;<i> &gt; available independently, I can do the work. It only supports storing
</I>&gt;<i> &gt; string settings by now, doesn't monitor the settings for external
</I>&gt;<i> &gt; changes as GConf does and only supports Entry widgets, but that can
</I>&gt;<i> &gt; change, and I can do it without adding anything complicated to the
</I>&gt;<i> &gt; API.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Do you think I should make it releasable?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Cheers!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; PS: I hate to reinvent the wheel, but I just don't like gconf. It is
</I>&gt;<i> &gt; good at what it does, but complicates something that should be MUCH
</I>&gt;<i> &gt; easier.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; -- 
</I>&gt;<i> &gt; Pablo Baena &lt;<A HREF="mailto:pbaena@uol.com.ar">pbaena@uol.com.ar</A>&gt;
</I>
-- 
Pablo Baena &lt;<A HREF="mailto:pbaena@uol.com.ar">pbaena@uol.com.ar</A>&gt;

--=-HLzbzY/C2WYMpxq0v5fe
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 7bit

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 TRANSITIONAL//EN&quot;&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
  &lt;META HTTP-EQUIV=&quot;Content-Type&quot; CONTENT=&quot;text/html; CHARSET=UTF-8&quot;&gt;
  &lt;META NAME=&quot;GENERATOR&quot; CONTENT=&quot;GtkHTML/1.1.7&quot;&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
Currently it is at &lt;A HREF=&quot;<A HREF="http://gnomencoder.sourceforge.net"">http://gnomencoder.sourceforge.net&quot;</A>&gt;<A HREF="http://gnomencoder.sourceforge.net</A">http://gnomencoder.sourceforge.net&lt;/A</A>&gt;. Beware that it is very very new code, and not very tested (seems to work fine though, but I didn't stressed it beyond the typical).&lt;BR&gt;
&lt;BR&gt;
You can copy the base_types/ge_settings.cs and gnome/ge_settings_glade.cs files and use them in your programs (I didn't make them a separate dll because they're too small). Just try to update them frequently as I'm cleaning them. If you have suggestions don't hesitate to tell me about it.&lt;BR&gt;
&lt;BR&gt;
Cheers!&lt;BR&gt;
&lt;BR&gt;
On Sun, 2003-04-27 at 16:50, Martin Willemoes Hansen wrote:
&lt;BLOCKQUOTE TYPE=CITE&gt;
&lt;PRE&gt;&lt;FONT COLOR=&quot;#737373&quot; SIZE=&quot;3&quot;&gt;&lt;I&gt;Sounds very nifty, I for one could use it. Hope you will distribute your
class library.

On Sat, 2003-04-26 at 11:15, Pablo Baena wrote:
&amp;gt;<i> Hi! I told you some time ago that I was avoiding gconf because of a
</I>&amp;gt;<i> few issues. Well, I finished some prototype of what I'm doing to
</I>&amp;gt;<i> replace gconf# in my project.
</I>&amp;gt;<i> 
</I>&amp;gt;<i> The nifty thing works this way. First you define an interface like
</I>&amp;gt;<i> this:
</I>&amp;gt;<i> 
</I>&amp;gt;<i> 
</I>&amp;gt;<i> 	interface IMySettings 
</I>&amp;gt;<i> 	{
</I>&amp;gt;<i> 		[GeSettings.Property (&amp;quot;GnoMencoder&amp;quot;, 
</I>&amp;gt;<i> 				      &amp;quot;/dev/cdroms/cdrom0&amp;quot;, 
</I>&amp;gt;<i> 				      &amp;quot;DVD Device&amp;quot;)]
</I>&amp;gt;<i> 		string DVDDevice 
</I>&amp;gt;<i> 		{
</I>&amp;gt;<i> 			get; 
</I>&amp;gt;<i> 			set;
</I>&amp;gt;<i> 		}
</I>&amp;gt;<i> 	}
</I>&amp;gt;<i> The arguments of the attribute are: name of the app, default value and
</I>&amp;gt;<i> description, respectively.
</I>&amp;gt;<i> 
</I>&amp;gt;<i> Then you pass the interface to a magic machine like this:
</I>&amp;gt;<i> 
</I>&amp;gt;<i> 
</I>&amp;gt;<i> IMySettings mySettings = (IMySettings) 
</I>&amp;gt;<i> 	GeSettings.Builder.Build (typeof(IMySettings));
</I>&amp;gt;<i> Et voil&amp;#225;, you'll have a mySettings.DVDDevice to use as any other
</I>&amp;gt;<i> property, only that any changes to it will be recorded in a XML file
</I>&amp;gt;<i> on your home directory for future sessions, and all get operations
</I>&amp;gt;<i> will retrieve that setting from said XML file (without you having to
</I>&amp;gt;<i> know _anything_ about XML).
</I>&amp;gt;<i> 
</I>&amp;gt;<i> With this we avoided all the steps we had to make with gconf#, that
</I>&amp;gt;<i> were:
</I>&amp;gt;<i> 
</I>&amp;gt;<i> * create a GConf schema (learn how to make one)
</I>&amp;gt;<i> * run gconf-schemagen over it to create the class
</I>&amp;gt;<i> * have root priviledges to install the schema
</I>&amp;gt;<i> 
</I>&amp;gt;<i> And there is more! With another class I created (it is apart so one
</I>&amp;gt;<i> doesn't have to depend on gtk# for other uses), one can do this:
</I>&amp;gt;<i> 
</I>&amp;gt;<i> 
</I>&amp;gt;<i> 
</I>&amp;gt;<i> 	interface IMySettings 
</I>&amp;gt;<i> 	{
</I>&amp;gt;<i> 		[GeSettings.Property (&amp;quot;GnoMencoder&amp;quot;, 
</I>&amp;gt;<i> 				      &amp;quot;/dev/cdroms/cdrom0&amp;quot;, 
</I>&amp;gt;<i> 				      &amp;quot;DVD Device&amp;quot;,
</I>&amp;gt;<i> 				      WidgetName=&amp;quot;dvddevice_entry&amp;quot;)]
</I>&amp;gt;<i> 		string DVDDevice 
</I>&amp;gt;<i> 		{
</I>&amp;gt;<i> 			get; 
</I>&amp;gt;<i> 			set;
</I>&amp;gt;<i> 		}
</I>&amp;gt;<i> 	}
</I>&amp;gt;<i> And, with this function:
</I>&amp;gt;<i> 
</I>&amp;gt;<i> 
</I>&amp;gt;<i> IMySettings mySettings = (IMySettings) 
</I>&amp;gt;<i> 	GeSettings.GladeBuilder.Build (typeof(IMySettings), gxml);
</I>&amp;gt;<i> we'll have the property associated with the widget on the glade
</I>&amp;gt;<i> resource, which will update the value on the Changed events and
</I>&amp;gt;<i> display the value on Realized.
</I>&amp;gt;<i> 
</I>&amp;gt;<i> The classes are in a very very alpha state yet, and aren't optimized
</I>&amp;gt;<i> in any way, so I didn't released them to the public. Anyway, the
</I>&amp;gt;<i> quality is poor because they're 'inside use only' and it serves its
</I>&amp;gt;<i> purpose for what I'm doing. If there is enough interest on making them
</I>&amp;gt;<i> available independently, I can do the work. It only supports storing
</I>&amp;gt;<i> string settings by now, doesn't monitor the settings for external
</I>&amp;gt;<i> changes as GConf does and only supports Entry widgets, but that can
</I>&amp;gt;<i> change, and I can do it without adding anything complicated to the
</I>&amp;gt;<i> API.
</I>&amp;gt;<i> 
</I>&amp;gt;<i> Do you think I should make it releasable?
</I>&amp;gt;<i> 
</I>&amp;gt;<i> Cheers!
</I>&amp;gt;<i> 
</I>&amp;gt;<i> PS: I hate to reinvent the wheel, but I just don't like gconf. It is
</I>&amp;gt;<i> good at what it does, but complicates something that should be MUCH
</I>&amp;gt;<i> easier.
</I>&amp;gt;<i> 
</I>&amp;gt;<i> -- 
</I>&amp;gt;<i> Pablo Baena &amp;lt;&lt;/FONT&gt;&lt;A HREF=&quot;mailto:<A HREF="mailto:pbaena@uol.com.ar">pbaena@uol.com.ar</A>&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;<A HREF="mailto:pbaena@uol.com.ar">pbaena@uol.com.ar</A>&lt;/FONT&gt;&lt;/A&gt;&lt;FONT COLOR=&quot;#737373&quot; SIZE=&quot;3&quot;&gt;&amp;gt;&lt;/I&gt;&lt;/FONT&gt;&lt;/PRE&gt;
</I>&lt;/BLOCKQUOTE&gt;
&lt;PRE&gt;&lt;TABLE CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
-- &lt;BR&gt;
Pablo Baena &amp;lt;&lt;A HREF=&quot;mailto:<A HREF="mailto:pbaena@uol.com.ar">pbaena@uol.com.ar</A>&quot;&gt;<A HREF="mailto:pbaena@uol.com.ar">pbaena@uol.com.ar</A>&lt;/A&gt;&amp;gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;/PRE&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;

--=-HLzbzY/C2WYMpxq0v5fe--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001799.html">[Gtk-sharp-list] GConf replacement
</A></li>
	<LI> Next message: <A HREF="001784.html">[Gtk-sharp-list] Cant run GTK# program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1800">[ date ]</a>
              <a href="thread.html#1800">[ thread ]</a>
              <a href="subject.html#1800">[ subject ]</a>
              <a href="author.html#1800">[ author ]</a>
         </LI>
       </UL>
</body></html>
