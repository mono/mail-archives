<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Using IList for API beauty
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mkestner%40speakeasy.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001740.html">
   <LINK REL="Next"  HREF="001755.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Using IList for API beauty
   </H1>
    <B>Mike Kestner
    </B> 
    <A HREF="mailto:mkestner%40speakeasy.net"
       TITLE="[Gtk-sharp-list] Using IList for API beauty">mkestner@speakeasy.net
       </A><BR>
    <I>23 Apr 2003 20:21:30 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="001740.html">[Gtk-sharp-list] Using IList for API beauty
</A></li>
        <LI> Next message: <A HREF="001755.html">[Gtk-sharp-list] Using IList for API beauty
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1743">[ date ]</a>
              <a href="thread.html#1743">[ thread ]</a>
              <a href="subject.html#1743">[ subject ]</a>
              <a href="author.html#1743">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; I would expect any .NET programmer to know exactly what an IList is
</I>&gt;<i> &gt; &gt; after very little training, but I'd also expect that most would have to
</I>&gt;<i> &gt; &gt; go hunting for docs to find out exactly what a GLib.SList does, (and as
</I>&gt;<i> &gt; &gt; it happens, they wouldn't find any yet).
</I>
Responding to thread here...  Of course, this would be great.  As has
been noticed, some of the work is done already.  However, it is much
easier said than done.

The elements of the native list can be of any type.  The problem is
determining how to marshal them across to the native side and back.  A
possible solution might be to have some internal helper classes like
e.g. ObjectList, which knows how to marshal GLib.Objects (by handle). 
Any Methods that return a list containing Objects could instantiate an
ObjectList, marshal the list from the native side, and return an IList. 

We could probably accomplish this by tagging &lt;returns&gt; elements in the
xml so we know what IList subclass to use.  Passing lists, we probably
would need to have the user instantiate a List subclass that is aware of
how to marshal its contents.

We also have to address ownership of lists.  Some of those returned
lists need to be freed.

Anyway, I haven't thought any of this through enough to make sure it
works, or if there are better solutions.  If someone wants to draft a
proposal in detail so we can pick it apart on the list, that would be
great.  

Mike


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001740.html">[Gtk-sharp-list] Using IList for API beauty
</A></li>
	<LI> Next message: <A HREF="001755.html">[Gtk-sharp-list] Using IList for API beauty
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1743">[ date ]</a>
              <a href="thread.html#1743">[ thread ]</a>
              <a href="subject.html#1743">[ subject ]</a>
              <a href="author.html#1743">[ author ]</a>
         </LI>
       </UL>
</body></html>
