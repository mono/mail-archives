<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Sorting a TreeView by clicking the headers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:peter%40newton.cx">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="004336.html">
   <LINK REL="Next"  HREF="004355.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Sorting a TreeView by clicking the headers
   </H1>
    <B>Peter Williams
    </B> 
    <A HREF="mailto:peter%40newton.cx"
       TITLE="[Gtk-sharp-list] Sorting a TreeView by clicking the headers">peter@newton.cx
       </A><BR>
    <I>Thu, 01 Jul 2004 16:28:44 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="004336.html">[Gtk-sharp-list] Debug with MonoDevelop
</A></li>
        <LI> Next message: <A HREF="004355.html">[Gtk-sharp-list] Building gtk-sharp-1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4338">[ date ]</a>
              <a href="thread.html#4338">[ thread ]</a>
              <a href="subject.html#4338">[ subject ]</a>
              <a href="author.html#4338">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

There is indeed a Clicked event that a TreeViewColumn will emit. The
problem I had is that it didn't seem to be possible to unsort the
columns once they got sorted. Here's some code I used (warning: old and
hasn't been tested in a while):

        public abstract class WonderColumn : TreeViewColumn {
 
                public enum SortState { None, Up, Down };
                 
                protected SortState sort;
 
                public WonderColumn () : base () {
			// ...

                        Clickable = true;
                        sort = SortState.None;
                        SortColumnId = TextColumn;
                        Clicked += new EventHandler (OnClicked);
                }

		// ....

                protected void OnClicked (object sender, EventArgs args) {
                        switch (sort) {
                        case SortState.None:
                                sort = SortState.Down;
                                break;
                        case SortState.Down:
                                sort = SortState.Up;
                                break;
                        case SortState.Up:
				// would like to go back to SortState.None
                                sort = SortState.Down;
                                break;
                        }
                                                                                                                                                             
                        switch (sort) {
                        case SortState.None:
                                SortIndicator = false;
                                break;
                        case SortState.Down:
                                SortIndicator = true;
                                SortOrder = SortType.Ascending;
                                break;
                        case SortState.Up:
                                SortIndicator = true;
                                SortOrder = SortType.Descending;
                                break;
                        }
                }
	}

Peter

On Wed, 2004-06-30 at 17:07, Christian Ziegner wrote:
&gt;<i> Hi there,
</I>&gt;<i> 
</I>&gt;<i> i've got a question regarding the widget GtkTreeView. I simply want to
</I>&gt;<i> alphabetically sort a tree (or a list, doesn't matter...) with two
</I>&gt;<i> columns by clicking at the headers of the TreeView. The only i have
</I>&gt;<i> found out yet is the attribute TreeView.HeadersClickable. Setting this
</I>&gt;<i> to true doesn't do anything, apparently. Does anyone here know how to
</I>&gt;<i> implement this feature? The GUI was created using Glade and i couldn`t
</I>&gt;<i> find any signals corresponding to this functionality, nor do i know how
</I>&gt;<i> to adress the headers of the column as they are not an own widget. Many
</I>&gt;<i> thanks in advance!
</I>&gt;<i> 
</I>&gt;<i> Greetings,
</I>&gt;<i> Chris
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>-- 
Peter Williams                          <A HREF="mailto:peter@newton.cx">peter@newton.cx</A>

&quot;[Ninjas] are cool; and by cool, I mean totally sweet.&quot;
                              -- REAL Ultimate Power


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004336.html">[Gtk-sharp-list] Debug with MonoDevelop
</A></li>
	<LI> Next message: <A HREF="004355.html">[Gtk-sharp-list] Building gtk-sharp-1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4338">[ date ]</a>
              <a href="thread.html#4338">[ thread ]</a>
              <a href="subject.html#4338">[ subject ]</a>
              <a href="author.html#4338">[ author ]</a>
         </LI>
       </UL>
</body></html>
