<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Numeric sorts in Gtk.TreeView
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Numeric%20sorts%20in%20Gtk.TreeView&In-Reply-To=1123072985.8218.9.camel%40laptoplinux.barlow.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006271.html">
   <LINK REL="Next"  HREF="006279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Numeric sorts in Gtk.TreeView</H1>
    <B>Dan Winship</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Numeric%20sorts%20in%20Gtk.TreeView&In-Reply-To=1123072985.8218.9.camel%40laptoplinux.barlow.local"
       TITLE="[Gtk-sharp-list] Numeric sorts in Gtk.TreeView">danw at novell.com
       </A><BR>
    <I>Wed Aug  3 09:24:39 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="006271.html">[Gtk-sharp-list] Numeric sorts in Gtk.TreeView
</A></li>
        <LI>Next message: <A HREF="006279.html">[Gtk-sharp-list] Numeric sorts in Gtk.TreeView
	trusted sender for your account)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6272">[ date ]</a>
              <a href="thread.html#6272">[ thread ]</a>
              <a href="subject.html#6272">[ subject ]</a>
              <a href="author.html#6272">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2005-08-03 at 22:43 +1000,
<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">gtk-sharp-list.1.tracyanne at spamgourmet.com</A> wrote:
&gt;<i> I have the following private method in a databound Control, that I am
</I>&gt;<i> developing, using the GTK widgets.
</I>&gt;<i> 
</I>&gt;<i> My problem is in the &quot;case &quot;System.Decimal&quot;:&quot; section of the code. I am
</I>&gt;<i> unable to find a way of setting up to pass Decimal values to the Column
</I>&gt;<i> in question, so that I can later sort the Column on the numerical
</I>&gt;<i> values.
</I>
Right. The problem is that the sorting is happening in the underlying C
code, but there's no C type that corresponds to System.Decimal, so if
you put decimal values into the column, what actually gets stored is not
the value itself, but just a pointer to a copy of it.

You ought to be able to work around this by specifying a custom sort
function for that column, with the ListStore's SetSortFunc() method. (If
you're using gtk# 1.0, you need to make sure that the delegate you pass
for sort_func doesn't get GC'ed. If you're using gtk# 2.3/2.5, then gtk#
handles that for you automatically.) When you call store.GetValue() from
the TreeIterCompareFunc, the decimal values will be unwrapped
automatically, and you can compare them as decimals and return the right
comparison value.

-- Dan


</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006271.html">[Gtk-sharp-list] Numeric sorts in Gtk.TreeView
</A></li>
	<LI>Next message: <A HREF="006279.html">[Gtk-sharp-list] Numeric sorts in Gtk.TreeView
	trusted sender for your account)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6272">[ date ]</a>
              <a href="thread.html#6272">[ thread ]</a>
              <a href="subject.html#6272">[ subject ]</a>
              <a href="author.html#6272">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
