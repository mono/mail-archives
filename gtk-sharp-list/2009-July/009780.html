<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] GIO# FileAdapter.Copy and FileAdapter.Move -	System.NullReferenceException Issue with my installation?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20GIO%23%20FileAdapter.Copy%20and%20FileAdapter.Move%20-%0A%09System.NullReferenceException%20Issue%20with%20my%20installation%3F&In-Reply-To=b542dd450907180947p3e179c49tf5cb9ea5e138d7da%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009775.html">
   <LINK REL="Next"  HREF="009822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] GIO# FileAdapter.Copy and FileAdapter.Move -	System.NullReferenceException Issue with my installation?</H1>
    <B>Dan Saul</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20GIO%23%20FileAdapter.Copy%20and%20FileAdapter.Move%20-%0A%09System.NullReferenceException%20Issue%20with%20my%20installation%3F&In-Reply-To=b542dd450907180947p3e179c49tf5cb9ea5e138d7da%40mail.gmail.com"
       TITLE="[Gtk-sharp-list] GIO# FileAdapter.Copy and FileAdapter.Move -	System.NullReferenceException Issue with my installation?">daniel.saul at gmail.com
       </A><BR>
    <I>Mon Jul 20 12:32:38 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009775.html">[Gtk-sharp-list] GIO# FileAdapter.Copy and FileAdapter.Move -	System.NullReferenceException Issue with my installation?
</A></li>
        <LI>Next message: <A HREF="009822.html">[Gtk-sharp-list] GIO# FileAdapter.Copy and FileAdapter.Move - System.NullReferenceException Issue with my installation?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9780">[ date ]</a>
              <a href="thread.html#9780">[ thread ]</a>
              <a href="subject.html#9780">[ subject ]</a>
              <a href="author.html#9780">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Sorry about replying to myself, but I have a little bit more information. I
installed gtk-sharp from SVN on another computer I own and it had the same
issue. Unfortunately this computer is almost identical in configuration to
my main computer.

I was able to work around the issue by calling
System.IO.File.Move(file1.Path,file2.Path); and the file was moved
successfully. While this does work it will only work on remote files if we
go through the FUSE layer which is less than desireable.

Of course I appreciate any thoughts from others in trying to track this
down.

-- Dan

On Sat, Jul 18, 2009 at 11:47 AM, Dan Saul &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">daniel.saul at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I recently reinstalled my system and subsequently downloaded the latest SVN
</I>&gt;<i> of gtk-sharp. I am curious if this is an error with my installation or with
</I>&gt;<i> the library.
</I>&gt;<i>
</I>&gt;<i> Test case:
</I>&gt;<i>
</I>&gt;<i> using System;
</I>&gt;<i> using GLib;
</I>&gt;<i>
</I>&gt;<i> namespace GIOTest
</I>&gt;<i> {
</I>&gt;<i>     class MainClass
</I>&gt;<i>     {
</I>&gt;<i>         public static void Main(string[] args)
</I>&gt;<i>         {
</I>&gt;<i>             Gtk.Application.Init();
</I>&gt;<i>
</I>&gt;<i>             File file1 =
</I>&gt;<i> FileFactory.NewFromCommandlineArg(&quot;~/Desktop/testfile&quot;);
</I>&gt;<i>             File file2 =
</I>&gt;<i> FileFactory.NewFromCommandlineArg(&quot;~/Desktop/testfilenew&quot;);
</I>&gt;<i>
</I>&gt;<i>             file1.Copy(file2,FileCopyFlags.None,null,null);
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Steps to replicate:
</I>&gt;<i>
</I>&gt;<i>    1. Create a file on your desktop called &quot;testfile&quot;.
</I>&gt;<i>    2. Run the program.
</I>&gt;<i>
</I>&gt;<i> Backtrace:
</I>&gt;<i>
</I>&gt;<i> Unhandled Exception: System.NullReferenceException: Object reference not
</I>&gt;<i> set to an instance of an object
</I>&gt;<i>   at GLib.FileAdapter.Copy (File destination, FileCopyFlags flags,
</I>&gt;<i> GLib.Cancellable cancellable, GLib.FileProgressCallback progress_callback)
</I>&gt;<i> [0x0000e] in /home/dan/gtk-sharp/gio/generated/FileAdapter.cs:1742
</I>&gt;<i>   at GIOTest.MainClass.Main (System.String[] args) [0x0001b] in
</I>&gt;<i> /home/dan/Projects/GIOTest/GIOTest/Main.cs:15
</I>&gt;<i>
</I>&gt;<i> The application was terminated by a signal: SIGHUP
</I>&gt;<i>
</I>&gt;<i> If I run this I recieve a System.NullReferenceException. I know the File
</I>&gt;<i> objects themselves are not null as they print out fine with
</I>&gt;<i> Console.WriteLine and I can access the Parent property without any problem.
</I>&gt;<i> It would seem that it is just the FileAdapter.Copy and FileAdapter.Move
</I>&gt;<i> methods that error on me. I have attempted to create a Cancellable object
</I>&gt;<i> and an empty FileProgressCallback function to pass to the method in case
</I>&gt;<i> that was the cause, with no effect. I would appreciate a second opinion if
</I>&gt;<i> possible. Thanks!
</I>&gt;<i>
</I>&gt;<i> -- Dan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20090720/666b3149/attachment.html">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20090720/666b3149/attachment.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009775.html">[Gtk-sharp-list] GIO# FileAdapter.Copy and FileAdapter.Move -	System.NullReferenceException Issue with my installation?
</A></li>
	<LI>Next message: <A HREF="009822.html">[Gtk-sharp-list] GIO# FileAdapter.Copy and FileAdapter.Move - System.NullReferenceException Issue with my installation?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9780">[ date ]</a>
              <a href="thread.html#9780">[ thread ]</a>
              <a href="subject.html#9780">[ subject ]</a>
              <a href="author.html#9780">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
