<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Gtk#DataBindings v2.0 rc1 released
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Gtk%23DataBindings%20v2.0%20rc1%20released&In-Reply-To=4A6AC160.1030902%40gmx.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009813.html">
   <LINK REL="Next"  HREF="009809.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Gtk#DataBindings v2.0 rc1 released</H1>
    <B>Matja&#382; Miheli&#269;</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Gtk%23DataBindings%20v2.0%20rc1%20released&In-Reply-To=4A6AC160.1030902%40gmx.net"
       TITLE="[Gtk-sharp-list] Gtk#DataBindings v2.0 rc1 released">mlgs at arsis.net
       </A><BR>
    <I>Sat Jul 25 06:45:44 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009813.html">[Gtk-sharp-list] Gtk#DataBindings v2.0 rc1 released
</A></li>
        <LI>Next message: <A HREF="009809.html">[Gtk-sharp-list] What's the best way to display fractions in a TreeView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9814">[ date ]</a>
              <a href="thread.html#9814">[ thread ]</a>
              <a href="subject.html#9814">[ subject ]</a>
              <a href="author.html#9814">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2009-07-25 at 10:25 +0200, Christian Hoff wrote:
&gt;<i> Hey Matjaz,
</I>&gt;<i> 
</I>&gt;<i> first I want to apologize for the tone of my initial e-mail. Sorry, I 
</I>&gt;<i> really didn't mean to offend you in any way.
</I>&gt;<i> 
</I>
I'm never offended. But I did/do hate how easy it is for some people to
forget other peoples work.

&gt;<i> Some comments below.
</I>&gt;<i> 
</I>&gt;<i> Matja&#382; Miheli&#269; wrote:
</I>&gt;<i> &gt;&gt; Christian has been writing an IListStore for his project and has
</I>&gt;<i> &gt;&gt; approached me about possibly adding it to gtk-sharp.  One option I'm
</I>&gt;<i> &gt;&gt; considering is adding an IList property to TreeViews which would utilize an internal treemodel implementation such as christian's to easily add
</I>&gt;<i> &gt;&gt; data to a view.  
</I>&gt;<i> &gt;&gt;     
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; yeah, I never said I'd mind that. I just think that TreeView which
</I>&gt;<i> &gt; exposes 3 different ways to introduce list would be confusing 
</I>&gt;<i> &gt; Model+gtk-sharpDataSource+assemblyDataSource
</I>&gt;<i> &gt;   
</I>&gt;<i> I agree. However, the alternative would be to expose the IList model. We 
</I>&gt;<i> decided not to follow that approach since it would make the API less 
</I>&gt;<i> user-friendly. Instead of constructing a TreeView directly with the 
</I>&gt;<i> IList as argument, the user would have to create the model and an 
</I>&gt;<i> adapter for the model:
</I>&gt;<i> 
</I>
all right here... just as you say YOUR TreeView wouldn't be cluttered,
MINE and all other derivatives providing real databinding would.

hell, that must be one nice world where you live. you seem to notice
only your self and what you wanna see.

&gt;<i> new TreeView (new TreeModelAdapter (new IListStore (my_list))); uggh.
</I>
and your solution is still not even nearly as nice as subcassing
TreeView to provide your functionality.

and... sorry for this... but wtf? there is at least zillion better
solutions where this is not needed, but at the same time you don't need
to scr** over other people.

I can walk you trough all of them if you'd like.

&gt;<i> &gt; and lol, that would make my DataBindings (and others) really confusing.
</I>&gt;<i> &gt; Current TreeView already has Model and all external databinding
</I>&gt;<i> &gt; implementations are using at least DataSource property. I use
</I>&gt;<i> &gt; (DataSource and ItemsDataSource) for widgets with lists. DataSource for
</I>&gt;<i> &gt; storing results like for example data of the current selection and
</I>&gt;<i> &gt; ItemsDataSource as source from which items are taken.
</I>&gt;<i> &gt;   
</I>&gt;<i> Maybe we could work together and implement something like an &quot;IList&quot; 
</I>&gt;<i> property for IList and other tree-model-based widgets which can not only 
</I>&gt;<i> deal with ILists, but also with enums and all other types you support in 
</I>&gt;<i> Gtk# DataBindings. The method could be declared as &quot;virtual&quot; and you can 
</I>&gt;<i> provide your own implementation in your TreeView. It could be something 
</I>&gt;<i> like:
</I>&gt;<i> 
</I>
IList won't work, believe me. I tried that for pre-v1. There are real
deficiencies in that approach. For example IList only exposes
Items[int], while TreeView exposes hierarchy and so on. Believe me, at
best it is handicapped solution which will be imposed on all TreeView
users.

&gt;<i> public override IList {
</I>&gt;<i>        get { [....] }
</I>&gt;<i>        set {
</I>&gt;<i>              base.IList = list;
</I>&gt;<i>              // Do your stuff here, add columns to the tree view, ...
</I>&gt;<i>        }
</I>&gt;<i> }
</I>&gt;<i> 
</I>
yeah, so one will be able to do:

myTreeView.Model = ...
myTreeView.IList = ...
and then for databinding
myTreeView.ItemsDataSource =

3 ways for same solution? and 2 SHOULDN'T be touched? Isn't that
awesome?

not even nearly nice. I already have problem explaining why users
shouldn't be touching model. foss world is already suffering &quot;lack of
documentation&quot; and by providing another confusion you just make my life
even harder than it already is.

&gt;<i> That way we the light-weight models could reside in Gtk#.
</I>&gt;<i> &gt; Meaning gtk-sharp would hit their users just to introduce this semi
</I>&gt;<i> &gt; capability. I doubt this is your wish. If you introduce DataSource into
</I>&gt;<i> &gt; treeview this will be exact result. 
</I>&gt;<i> You're right that this approach is cannot replace a full-fledged 
</I>&gt;<i> databinding library. Nevertheless, I think a model for ILists would be a 
</I>&gt;<i> benefit for the community.
</I>&gt;<i> Maybe we can split devide the people needing IList support into 3 groups:
</I>&gt;<i> 
</I>&gt;<i> Developer A only wants to display IList data, such as an array, in a 
</I>&gt;<i> TreeView. He will be great if there's a need TreeModel ctor taking an 
</I>&gt;<i> IList. Maybe he needs to know which items have been selected, but not 
</I>&gt;<i> much more.
</I>&gt;<i> 
</I>
There already is ListView. Maybe you'd rather impose IList there. And
ListView is made for linear lists

&gt;<i> B wants to display a DataViewto the user and allow him to edit the data. 
</I>&gt;<i> He will probably use Gtk# DataBindings and the TreeView it provides. He 
</I>&gt;<i> will be happy that he does not need to write any additional code with 
</I>&gt;<i> everything (auto-generated columns, sorting) being implemented.
</I>&gt;<i> 
</I>&gt;<i> C would need the user to edit the data as well. But he wants to have 
</I>&gt;<i> more control over the view. That's why he decides not to use Gtk# 
</I>&gt;<i> databindings, but instead writes his own TreeView subclass perfectly 
</I>&gt;<i> uited to his needs.
</I>&gt;<i> &gt; I for example don't even care if you
</I>&gt;<i> &gt; introduce this as long as there is clean TreeView accessible for
</I>&gt;<i> &gt; inheriting or inherited class is used for this. This way simple
</I>&gt;<i> &gt; databinding and real databinding can coexist without single problem. You
</I>&gt;<i> &gt; could do this in either way of these:
</I>&gt;<i> &gt; - Make BaseTreeView (pure gtk TreeView) for people like me and then you
</I>&gt;<i> &gt; can do with TreeView anything you like. As long as this is not
</I>&gt;<i> &gt; introduced as backport (backport would break api)
</I>&gt;<i> &gt;   
</I>&gt;<i> I don't think something like BaseTreeView would really be necessary. It 
</I>&gt;<i> is something I would like to avoid.
</I>&gt;<i> &gt; - Leave TreeView as it is in gtk and provide some ModelTreeView (or
</I>&gt;<i> &gt; whatever) and do databinding functionality there, this would pose no
</I>&gt;<i> &gt; problem even in backport
</I>&gt;<i> &gt;   
</I>&gt;<i> No, this &quot;ModeltreeView&quot; would have nearly the same functionality as 
</I>&gt;<i> TreeView. We do not intend to create a 2nd GridView/DataGrid, just a 
</I>&gt;<i> minimal solution that can be extended by
</I>&gt;<i> - the application developer (type A,C);
</I>&gt;<i> - Maybe Gtk# DataBindings (as suggested in the comment about the IList 
</I>&gt;<i> property above)
</I>&gt;<i> 
</I>
So what stops you to subclass TreeView? You seriously screw sanity for
developer B (or even more for developer who is providing solution for
developer B) as you impose 3 ways to do the same and lol, 2 are wrong
and should not be touched (how nice is that?). So... you only care about
A and C because they are in your range?

If you'd actually read my mail, you'd see I have nothing against
implementation. I'm only saying that enabling 3rd way to do the same
(and guess what, the one actually doing 3rd way is me and others who
work on similar solutions not you) is not sane. That would practically
force me to keep my own treeview implementation in my library if I want
to have sane api. I don't wanna work on pop quiz where 2 doors are wrong
and 1 is right.

[sarcasm] Thanks for that:( I'd probably rather choose another toolkit
and stop working on gtk part. simply because last thing I'd like to see
is seeing me starting to maintain my own gtk-sharp because you decided
to impose something like this on other widgets too which made all my
work confusing.

&gt;<i> And BTW, we have decided against backporting that functionality to 2.12. 
</I>&gt;<i> It will most likely be released with Gtk# 3.
</I>&gt;<i> 
</I>&gt;<i> &gt; - move databinding in some other assembly like everyone else (which
</I>&gt;<i> &gt; would probably be best). Usually people tend to use the first solution
</I>&gt;<i> &gt; they find and it would be shame that semi solution would eat other
</I>&gt;<i> &gt; solutions just by having the advantage of being preinstalled. think of
</I>&gt;<i> &gt; IE and windows.
</I>&gt;<i> &gt;   
</I>&gt;<i> As Mike said, we don't intend to provide a data binding API in Gtk#. The 
</I>&gt;<i> only thing we consider is implementing IList functionality as that would 
</I>&gt;<i> help users who don't need a full data binding solution (type A) or who 
</I>&gt;<i> want to write their own stuff (type C).
</I>&gt;<i> &gt;   
</I>&gt;<i> &gt;&gt; We could also choose to expose a public TreeModel implementation in
</I>&gt;<i> &gt;&gt; gtk-dotnet.dll or an external library such as Stephane's gtk-sharp-beans project, perhaps, if he'd be willing to accept it.
</I>&gt;<i> &gt;&gt;     
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Much better solution as many people are counting on gtk-sharp API
</I>&gt;<i> &gt; stability. I know I am.
</I>&gt;<i> &gt;   
</I>&gt;<i> The IList API is not buggy and its trivial as well. I don't think that 
</I>&gt;<i> we should put this into a 3rd party assembly as the current approach is 
</I>&gt;<i> lightweight, minimal and will help a lot of people.
</I>
Then make LISTView which is used for lists, not TREEView which is used
for hierarchy.

&gt;<i> &gt;   
</I>&gt;<i> &gt;&gt; Maybe the best way to get an IList into TreeView is to simply implement the interface on ListStore itself, though.
</I>&gt;<i> &gt;&gt;     
</I>&gt;<i> I doubt this will be useful. The ListStore approach is much more limited 
</I>&gt;<i> as it won't work if the list is created by a method outside of your 
</I>&gt;<i> application. Besides, it would require me to rewrite the whole code for 
</I>&gt;<i> a feature that nobody will use.
</I>&gt;<i> &gt;&gt;&gt; Same bad choice as it was when you corrected EmitRowsReordered api
</I>&gt;<i> &gt;&gt;&gt; correction in 2.12.9 without providing empty method as Obsolete for
</I>&gt;<i> &gt;&gt;&gt; compatibility reasons. That way compilation and execution suddenly
</I>&gt;<i> &gt;&gt;&gt; became broken.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; lol, it only was usable with Zero, where it exposed ** list completely
</I>&gt;<i> &gt; changed **. And all my applications broke because of that after update.
</I>&gt;<i> &gt; even few users of my lib also complained about the same problem.
</I>&gt;<i> &gt;   
</I>&gt;<i> I didn't think know that the old method would work in any case. The zero 
</I>&gt;<i> thing isn't documented anywhere.
</I>
like 99% of foss? foss is suffering from documentation deficiency and
documentation practically doesn't exists.

lets look one example right from gtk-sharp. You (or someone else at
gtk-sharp) implemented GInterfaces and provided CellEditableAdapter and
CellEditableImplementor, if what you say would even mean something I
wouldn't need to search net for days to find example, just to realize
there isn't one and more... there is not one single line of
documentation. 

based that those two classes aren't documented, they don't exist? and
you can simply change them as you like?

I'm in the middle of writing examples for mono wiki how to use those
classes, since I wouldn't like to see one poor soul to go trough what I
had to go.

matjaz

&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;     
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It would be nicer if you'd provide something like 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [Obsolete (&quot;Wrong implementation&quot;)]
</I>&gt;<i> &gt; oldResult NameOfTheBrokenMethod (... old parameters ...)
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;         Console.WriteLine (&quot;Fix this for this and that reason&quot;);
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;   
</I>&gt;<i> We certainly would have done that if we knew that the old signature was 
</I>&gt;<i> usable in that case.
</I>&gt;<i> 
</I>&gt;<i> Christian
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009813.html">[Gtk-sharp-list] Gtk#DataBindings v2.0 rc1 released
</A></li>
	<LI>Next message: <A HREF="009809.html">[Gtk-sharp-list] What's the best way to display fractions in a TreeView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9814">[ date ]</a>
              <a href="thread.html#9814">[ thread ]</a>
              <a href="subject.html#9814">[ subject ]</a>
              <a href="author.html#9814">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
