<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] portability issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:francis%40aspl.es">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="004998.html">
   <LINK REL="Next"  HREF="004992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] portability issues
   </H1>
    <B>Francis Brosnan Blázquez
    </B> 
    <A HREF="mailto:francis%40aspl.es"
       TITLE="[Gtk-sharp-list] portability issues">francis@aspl.es
       </A><BR>
    <I>Fri, 22 Oct 2004 15:02:12 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="004998.html">[Gtk-sharp-list] portability issues
</A></li>
        <LI> Next message: <A HREF="004992.html">[Gtk-sharp-list] portability issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4991">[ date ]</a>
              <a href="thread.html#4991">[ thread ]</a>
              <a href="subject.html#4991">[ subject ]</a>
              <a href="author.html#4991">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>El jue, 14-10-2004 a las 20:27, Paulo Pires escribió:
&gt;<i> Hi folks
</I>Hi Paulo.
&gt;<i> 
</I>&gt;<i> I'm new to .NET, GTK and Glade, so perhaps it's my problem instead of
</I>&gt;<i> GTK# or Glade#.
</I>&gt;<i> 
</I>&gt;<i> I'm trying to develop an app fully-portable between Windows and Linux
</I>&gt;<i> but some problems came to me while still testing. I've taken two
</I>&gt;<i> scenarios:
</I>&gt;<i> 
</I>&gt;<i> 1 - A simple Glade# app, built on Glade without any signals, besides
</I>&gt;<i> delete_event, attached on a bunch of code who shows a Gtk.Window.
</I>&gt;<i> Well, I've compiled it on Linux and tried to run it in Windows! After
</I>&gt;<i> installing the combined package of Mono+Gtk-sharp i've runned it and
</I>&gt;<i> everything went well, except the GtkToolItem and GtkToolButton widgets
</I>&gt;<i> that weren't recognized. I'm using glade-2.6.2.
</I>&gt;<i> 
</I>&gt;<i> My 1st question is: Are these widgets supported on Windows?
</I>&gt;<i> 
</I>
I had the same problem with other widgets (specially Gtk.Combo and
menuitems with images). You have to know that gtk# project is wrapping
libraries such as libglade and gtk, but the version they are working
with aren't the lastest. This means that if you have the lastest version
of libglade installed in your linux box, maybe you will have problem
because the windows installer comes with a no-so-lastest-libglade. 

You should try to detect which widgets are not working properly. Then
remove them from the .glade file and make your program to load those
widgets by creating them with gtk calls. 
 
&gt;<i> 
</I>&gt;<i> 2 - A-not-so-simple-full-gtk#-app, with two windows: wndSplash and
</I>&gt;<i> wndMain.
</I>&gt;<i> 
</I>&gt;<i> wndSplash has a Progressbar, which is updated using a Thread that once
</I>&gt;<i> completed destroys the current Window and creates the wndMain.
</I>&gt;<i> I had a problem! My wndSplash would die when calling the wndMain, with
</I>&gt;<i> this error: Xlib: async reply 0x00blablabla.
</I>&gt;<i> After searching about it, I've realized about GTK mainloop and found the
</I>&gt;<i> Gdk.Threads.Enter() .Leave() .Init(), etc.
</I>&gt;<i> This solved my problem, but now, sometimes when I run the resulting exe
</I>&gt;<i> on Linux, it shows me the wndSplash with all the widgets but the
</I>&gt;<i> ProgressBar is not updated.
</I>&gt;<i> All the code is running fine, since I have my own debug on each Thread
</I>&gt;<i> and it's debuggin right. So I close my app, and try to run it again!
</I>&gt;<i> SURPRISE! It works very well! The ProgressBar is updated and all the
</I>&gt;<i> widgets works ... 
</I>&gt;<i> 
</I>&gt;<i> My 2nd question is: What the hell is going on?
</I>&gt;<i> 
</I>
why are you using threads?. I thing you should use threads only if you
don't have another way (or you cannot choose). Maybe you can use
GLib.Idle.Add and GLib.Timeout.Add methods to avoy using Threads.

&gt;<i> 
</I>&gt;<i> On Windows, I've compiled* it tried to run it and it works, but my
</I>&gt;<i> Threads don't debug :(. It creates the wndSplash and then wndMain, but
</I>&gt;<i> all of them without widgets and the program does not respond.
</I>&gt;<i> 
</I>&gt;<i> My 3rd question: Any clue about this?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> *compiled: mcs -pkg:gtk-sharp wndSplash.cs wndMain.cs
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> If you want to checkout the code just ask me thought my personal mail
</I>&gt;<i> and I'll send it to you.
</I>&gt;<i> Sorry for my bad english!
</I>&gt;<i> 
</I>&gt;<i> Thanks in advance,
</I>&gt;<i> Paulo Pires
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004998.html">[Gtk-sharp-list] portability issues
</A></li>
	<LI> Next message: <A HREF="004992.html">[Gtk-sharp-list] portability issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4991">[ date ]</a>
              <a href="thread.html#4991">[ thread ]</a>
              <a href="subject.html#4991">[ subject ]</a>
              <a href="author.html#4991">[ author ]</a>
         </LI>
       </UL>
</body></html>
