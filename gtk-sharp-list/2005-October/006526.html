<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] custom widget handler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20custom%20widget%20handler&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006523.html">
   <LINK REL="Next"  HREF="006528.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] custom widget handler</H1>
    <B>borco</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20custom%20widget%20handler&In-Reply-To="
       TITLE="[Gtk-sharp-list] custom widget handler">borco at borco.net
       </A><BR>
    <I>Mon Oct 24 11:13:03 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="006523.html">[Gtk-sharp-list] TreeView RowActivated triggers twice
</A></li>
        <LI>Next message: <A HREF="006528.html">[Gtk-sharp-list] FileChooserWidget from glade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6526">[ date ]</a>
              <a href="thread.html#6526">[ thread ]</a>
              <a href="subject.html#6526">[ subject ]</a>
              <a href="author.html#6526">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am just starting to learn how to use the glade-sharp, but I have been
playing for some time with python-gtk and I am missing some of the
functionality from there. More specifically, I try to add some custom
widgets from glade. In python, it is enough to create a method with the
same name as that specified in glade to create the widget. The python
binding, when autoconnecting all the stuff, also dispatches the calls to
the correct methods for creating the custom controls, if the correct
method is detected.

For example, let's say I add a customTree in glade, to be built by the
createCustomTree method. When the python autoconnects, it searches for a
method named createCustomTree and calls it to produce the customTree widget.

&gt;<i>From what I have seen, with glade-sharp the only solution is to use
</I>SetCustomHandler. However, this method needs some boilerplate that
should go in the binding, in my opinion. For example, now I do this in
my custom handler:

//////////////////////////////////////////////////

public Widget createCustomTree(string name,
	string s1, string s2, int i1, int i2)
{
	Button btn = new Button(name);
	btn.Show();
	return btn;
}

public Widget custom(XML xml, string func_name,
	string name, string s1, string s2,
	int i1, int i2)
{
	Widget w;
	switch(func_name)
	{
		case &quot;createCustomTree&quot;:
			w = createCustomTree(name, s1, s2, i1, i2);
			break;
		default:
			// this should throw an exception
			w = new Button(&quot;Custom&quot;);
			break;
		}

	w.Show();
	return w;
}

//////////////////////////////////////////////////

The problem is this handler has hardcoded the methods used to create the
custom widgets. It would be great if the binding would provide a default
that checks the func_name and, using introspection, dispatches to the
correct method. Also, if the widget is also specified with:

[Widget] CustomTree customTree;

the custom should also store the reference of the custom widget in that
variable.

Is this already done and I simply missed it? Can it be done in the binding?

Also, how do I get the properties specified in the glade for the custom
widget (like it's minimum width)?

I have added a simple cs and glade file that illustrates the above state
of affairs...

TIA,

-- 
Ionutz Borcoman

<A HREF="http://borco.net/">http://borco.net/</A>
<A HREF="http://developer.berlios.de/users/borco/">http://developer.berlios.de/users/borco/</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: GuiApp.cs
Type: text/x-csharp
Size: 1068 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20051024/3972d17b/GuiApp-0001.bin">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20051024/3972d17b/GuiApp-0001.bin</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: DeweyGui.glade
Type: application/x-glade
Size: 5904 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20051024/3972d17b/DeweyGui-0001.bin">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20051024/3972d17b/DeweyGui-0001.bin</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006523.html">[Gtk-sharp-list] TreeView RowActivated triggers twice
</A></li>
	<LI>Next message: <A HREF="006528.html">[Gtk-sharp-list] FileChooserWidget from glade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6526">[ date ]</a>
              <a href="thread.html#6526">[ thread ]</a>
              <a href="subject.html#6526">[ subject ]</a>
              <a href="author.html#6526">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
