<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Problem with adding and removing HBox based
	classes form a view port.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Problem%20with%20adding%20and%20removing%20HBox%20based%0A%09classes%20form%20a%20view%20port.&In-Reply-To=a434fe6b0510251222y703ea992v96ea1b5b8dcfaf6d%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006533.html">
   <LINK REL="Next"  HREF="006537.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Problem with adding and removing HBox based
	classes form a view port.</H1>
    <B>L&#225;szl&#243; Monda</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Problem%20with%20adding%20and%20removing%20HBox%20based%0A%09classes%20form%20a%20view%20port.&In-Reply-To=a434fe6b0510251222y703ea992v96ea1b5b8dcfaf6d%40mail.gmail.com"
       TITLE="[Gtk-sharp-list] Problem with adding and removing HBox based
	classes form a view port.">mondalaci at gmail.com
       </A><BR>
    <I>Fri Oct 28 09:30:17 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="006533.html">[Gtk-sharp-list] Problem with adding and removing HBox based
	classes form a view port.
</A></li>
        <LI>Next message: <A HREF="006537.html">[Gtk-sharp-list] TreeView expander column issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6536">[ date ]</a>
              <a href="thread.html#6536">[ thread ]</a>
              <a href="subject.html#6536">[ subject ]</a>
              <a href="author.html#6536">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Clark,

On 10/25/05, Clark Endrizzi &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">cendrizzi at gmail.com</A>&gt; wrote:
&gt;<i> Hi all.  I'm a complete noob at this stuff (haven't done non-web programming
</I>&gt;<i> since I did C++ and MFC many years ago).  So I'm learning C# (which is
</I>&gt;<i> pretty straigh forward, very nice language) and GTK (which seems to be a lot
</I>&gt;<i> of stuff when you try to extend it beyond Glade).  Here is my issue.
</I>&gt;<i>
</I>&gt;<i>  I have a viewport that I'm including an HBox based class with text fields
</I>&gt;<i> in it (contact information).  Basically I am writing an Address Book program
</I>&gt;<i> that is similar to Apples in that you click on a person and it shows there
</I>&gt;<i> info in another pane.  To edit the contact you click on an edit button and
</I>&gt;<i> instead of opening a seperate window it changes the contact viewing pane
</I>&gt;<i> with the same info but in dialog boxes (and hence editable).  Once your done
</I>&gt;<i> you click apply and it switches the pane back to the view when you start
</I>&gt;<i> (static view).
</I>&gt;<i>
</I>&gt;<i>  To facilitate this I've created a viewport inside the viewing pane and I
</I>&gt;<i> have two classes based off HBox that I'm using; one for viewing (just using
</I>&gt;<i> labels) and one for editing (with the text boxes).  So I start my main
</I>&gt;<i> window with the glade stuff and add the default view (the class using
</I>&gt;<i> labels) inside the viewing pane, everythings great.  Then I click on the
</I>&gt;<i> edit button and I have it so that from the view port object it calls the
</I>&gt;<i> &quot;Remove&quot; function and then it try's to &quot;Add&quot; (the same way the default view
</I>&gt;<i> gets added) the editing HBox class.  It looks like it removes it fine, but
</I>&gt;<i> then it doesnt' add the other (or at least it's not showing).  Is this not
</I>&gt;<i> possible?  It's not giving me errors when I try and do this.
</I>&gt;<i>
</I>&gt;<i>  I will include the relevant code:
</I>&gt;<i>  This is in my main windows contructor.  It's creating both classes that I
</I>&gt;<i> want to use in the same pane.  I then set the static viewing class to my
</I>&gt;<i> view port.
</I>&gt;<i>          this.ContactVEdit = new ContactViewEdit();
</I>&gt;<i>           this.ContactVView = new ContactViewView();
</I>&gt;<i>
</I>&gt;<i> this.ContactView_GtkViewport.Add(this.ContactVView);
</I>&gt;<i>
</I>&gt;<i>  I call this when the edit button is clicked.  It's supposed to toggle
</I>&gt;<i> between the two views (so the user can edit and then view the contact from
</I>&gt;<i> the same pane).
</I>&gt;<i>      public void On_EditContact (object o, EventArgs args)
</I>&gt;<i>      {
</I>&gt;<i>          if(this.ContactViewOnEdit){
</I>&gt;<i>
</I>&gt;<i> this.ContactView_GtkViewport.Remove(this.ContactVEdit);
</I>&gt;<i>
</I>&gt;<i> this.ContactView_GtkViewport.Add(this.ContactVView);
</I>&gt;<i>              this.ContactViewOnEdit = false;
</I>&gt;<i>              this.Edit_GtkButton.Label = &quot;Edit&quot;;
</I>&gt;<i>          }else{
</I>&gt;<i>
</I>&gt;<i> this.ContactView_GtkViewport.Remove(this.ContactVView);
</I>&gt;<i>
</I>&gt;<i> this.ContactView_GtkViewport.Add(this.ContactVEdit);
</I>&gt;<i>              this.ContactViewOnEdit = true;
</I>&gt;<i>              this.Edit_GtkButton.Label = &quot;Apply&quot;;
</I>&gt;<i>          }
</I>&gt;<i>      }
</I>&gt;<i>
</I>&gt;<i>  Again, the view class is showing up but when the edit button is clicked
</I>&gt;<i> then the view class gets dropped but it's just grey, like the other class is
</I>&gt;<i> not being loaded.  I'm sure I just don't know GTK well enough.
</I>
I guess you should call this.ContactView_GtkViewport.ShowAll() to
redraw your new child widget.

As a side note, you don't need to explicitly use the &quot;this&quot; keyword in
C#.  You should only use it when you have an argument of your method
with the same name which masks the class member, so in this particular
case, &quot;ContactView_GtkViewport.ShowAll()&quot; is just enough ;-)

I like your UI approach by the way.  Avoiding pop-ups is always a good
idea I think.

--
Laci

    Blog: <A HREF="http://monda.hu/~laci/blog">http://monda.hu/~laci/blog</A>
    Home: <A HREF="http://mondalaci.objectis.net">http://mondalaci.objectis.net</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006533.html">[Gtk-sharp-list] Problem with adding and removing HBox based
	classes form a view port.
</A></li>
	<LI>Next message: <A HREF="006537.html">[Gtk-sharp-list] TreeView expander column issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6536">[ date ]</a>
              <a href="thread.html#6536">[ thread ]</a>
              <a href="subject.html#6536">[ subject ]</a>
              <a href="author.html#6536">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
