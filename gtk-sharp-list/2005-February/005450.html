<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] GTK# app &quot;hanging&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Manuel%20Capinha%20%3Cmcapinha%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005453.html">
   <LINK REL="Next"  HREF="005451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] GTK# app &quot;hanging&quot;
   </H1>
    <B>Manuel Capinha
    </B> 
    <A HREF="mailto:Manuel%20Capinha%20%3Cmcapinha%40gmail.com%3E"
       TITLE="[Gtk-sharp-list] GTK# app &quot;hanging&quot;">Manuel Capinha &lt;mcapinha@gmail.com&gt;
       </A><BR>
    <I>Tue, 22 Feb 2005 10:46:49 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="005453.html">[Gtk-sharp-list] Bitmap &amp; GC.ClipMask
</A></li>
        <LI> Next message: <A HREF="005451.html">[Gtk-sharp-list] GTK# app &quot;hanging&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5450">[ date ]</a>
              <a href="thread.html#5450">[ thread ]</a>
              <a href="subject.html#5450">[ subject ]</a>
              <a href="author.html#5450">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all.

I wrote a small GTK# app using Glade#, running on Mono in Linux. This
app is very simple: it monitors a MySQL table and whenever there's a
new row it updates one of two images and adds a new line to a
TreeView.

The watcher object is threaded and is responsible for updating the
images. This is done by creating a WebRequest object that points to
the image in a webserver. The Gdk.Image object is updated with:

    image.Pixbuf = new Gdk.Pixbuf(request.GetResponse().GetResponseStream());

Besides updating these image objects the watcher thread also adds a
new line to the TreeView for each new record in the database.

The problem is that while this works most of the time, sometimes the
whole app &quot;hangs&quot;. The thread is still running and is printing
messages to the Console but the GUI becomes unresponsive. Dragging
another window over my app causes it to become grey and everything
disappears. There's no error message in the console.

Does anyone have a sugestion to where I may start looking for the
problem ? I tried synchronizing the image updates, to ensure that they
are not happening simultaneously with a lock block, but it had no
effect.

I've also got another problem: under Win32 the gui is only updated if
the app window is focused, I'm not sure if these two are related ?

Thanks in advance,
Manuel

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005453.html">[Gtk-sharp-list] Bitmap &amp; GC.ClipMask
</A></li>
	<LI> Next message: <A HREF="005451.html">[Gtk-sharp-list] GTK# app &quot;hanging&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5450">[ date ]</a>
              <a href="thread.html#5450">[ thread ]</a>
              <a href="subject.html#5450">[ subject ]</a>
              <a href="author.html#5450">[ author ]</a>
         </LI>
       </UL>
</body></html>
