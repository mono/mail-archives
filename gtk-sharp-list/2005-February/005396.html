<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] [PATCH] Gdk.DotNet.GdkConvert
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bmaurer%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005395.html">
   <LINK REL="Next"  HREF="005397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] [PATCH] Gdk.DotNet.GdkConvert
   </H1>
    <B>Ben Maurer
    </B> 
    <A HREF="mailto:bmaurer%40ximian.com"
       TITLE="[Gtk-sharp-list] [PATCH] Gdk.DotNet.GdkConvert">bmaurer@ximian.com
       </A><BR>
    <I>Sun, 06 Feb 2005 20:06:50 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="005395.html">[Gtk-sharp-list] No Return key event for indented lines in gtksourceview
</A></li>
        <LI> Next message: <A HREF="005397.html">[Gtk-sharp-list] [PATCH] Extra APIs for Point and Rectangle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5396">[ date ]</a>
              <a href="thread.html#5396">[ thread ]</a>
              <a href="subject.html#5396">[ subject ]</a>
              <a href="author.html#5396">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-Oupc8GLy5KWiLbPU0NWq
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hey guys,

This is a patch that adds a new class to the gtk-dotnet assembly. The
class is Gdk.DotNet.GdkConvert. This class provides System.Drawing &lt;-&gt;
Gdk conversions. Eg, from Gdk.Rectangle to and from
System.Drawing.Rectangle.

The patch comes with docs.

One thing I feel deserves explanation is my choice of class names. I did
not want to do Gdk.DotNet.Convert because someone who imported both
Gdk.DotNet and System could not use the class without fully qualifying
it. I realize that Gtk.DotNet.Graphics has the same situation (with
S.Drawing). However, I believe that Convert would be more likely to get
used in multiple places inside a file, so fully qualifying it is more of
a pain.

-- Ben

--=-Oupc8GLy5KWiLbPU0NWq
Content-Disposition: attachment; filename=gtk-gdk-convert.patch
Content-Type: text/x-patch; name=gtk-gdk-convert.patch; charset=UTF-8
Content-Transfer-Encoding: 7bit

Index: doc/ChangeLog
===================================================================
--- doc/ChangeLog	(revision 40225)
+++ doc/ChangeLog	(working copy)
@@ -1,3 +1,7 @@
+2005-02-06  Ben Maurer  &lt;<A HREF="mailto:bmaurer@ximian.com">bmaurer@ximian.com</A>&gt;
+
+	* en/Gdk.DotNet/GdkConvert.xml: Documentation for the new class.
+
 2005-01-28  Dan Winship  &lt;<A HREF="mailto:danw@novell.com">danw@novell.com</A>&gt;
 
 	* en/GLib/NotifyArgs.xml:
Index: doc/en/Gdk.DotNet/GdkConvert.xml
===================================================================
--- doc/en/Gdk.DotNet/GdkConvert.xml	(revision 0)
+++ doc/en/Gdk.DotNet/GdkConvert.xml	(revision 0)
@@ -0,0 +1,143 @@
+&lt;Type Name=&quot;GdkConvert&quot; FullName=&quot;Gdk.DotNet.GdkConvert&quot;&gt;
+  &lt;TypeSignature Language=&quot;C#&quot; Value=&quot;public class GdkConvert&quot; Maintainer=&quot;auto&quot; /&gt;
+  &lt;AssemblyInfo&gt;
+    &lt;AssemblyName&gt;gtk-dotnet&lt;/AssemblyName&gt;
+    &lt;AssemblyPublicKey&gt;[00 24 00 00 04 80 00 00 94 00 00 00 06 02 00 00 00 24 00 00 52 53 41 31 00 04 00 00 01 00 01 00 71 EB 6C 55 75 52 9C BF 72 44 F7 A6 EA 05 62 84 F9 EA E0 3B CF F2 CC 13 2C 9C 49 0A B3 09 EA B0 B5 6B CE 44 9D F5 03 D9 C0 A8 1E 52 05 85 CD BE 70 E2 FB 90 43 4B AC 04 FA 62 22 A8 00 98 B7 A1 A7 B3 AF 99 1A 41 23 24 BB 43 25 F6 B8 65 BB 64 EB F6 D1 C2 06 D5 73 2D DF BC 70 A7 38 9E E5 3E 0C 24 6E 32 79 74 1A D0 05 03 E4 98 42 E1 9B F3 7B 19 8B 40 21 26 CB 36 89 C2 EA 64 96 A4 7C B4]&lt;/AssemblyPublicKey&gt;
+    &lt;AssemblyVersion&gt;2.0.0.0&lt;/AssemblyVersion&gt;
+    &lt;AssemblyCulture&gt;neutral&lt;/AssemblyCulture&gt;
+    &lt;Attributes /&gt;
+  &lt;/AssemblyInfo&gt;
+  &lt;ThreadSafetyStatement&gt;Gtk# is thread aware, but not thread safe; See the &lt;link location=&quot;node:gtk-sharp/programming/threads&quot;&gt;Gtk# Thread Programming&lt;/link&gt; for details.&lt;/ThreadSafetyStatement&gt;
+  &lt;Docs&gt;
+    &lt;summary&gt;Converts between Gdk types and System.Drawing types&lt;/summary&gt;
+  &lt;/Docs&gt;
+  &lt;Base&gt;
+    &lt;BaseTypeName&gt;System.Object&lt;/BaseTypeName&gt;
+  &lt;/Base&gt;
+  &lt;Interfaces /&gt;
+  &lt;Attributes /&gt;
+  &lt;Members&gt;
+    &lt;Member MemberName=&quot;Rectangle&quot;&gt;
+      &lt;MemberSignature Language=&quot;C#&quot; Value=&quot;public static Gdk.Rectangle Rectangle (System.Drawing.Rectangle r);&quot; /&gt;
+      &lt;MemberType&gt;Method&lt;/MemberType&gt;
+      &lt;ReturnValue&gt;
+        &lt;ReturnType&gt;Gdk.Rectangle&lt;/ReturnType&gt;
+      &lt;/ReturnValue&gt;
+      &lt;Parameters&gt;
+        &lt;Parameter Name=&quot;r&quot; Type=&quot;System.Drawing.Rectangle&quot; /&gt;
+      &lt;/Parameters&gt;
+      &lt;Docs&gt;
+        &lt;summary&gt;Converts &lt;paramref name=&quot;r&quot; /&gt; to a &lt;see cref=&quot;T:Gdk.Rectangle&quot; /&gt;&lt;/summary&gt;
+        &lt;param name=&quot;r&quot;&gt;a &lt;see cref=&quot;T:System.Drawing.Rectangle&quot; /&gt;&lt;/param&gt;
+        &lt;returns&gt;&lt;paramref name=&quot;r&quot; /&gt; as a &lt;see cref=&quot;T:Gdk.Rectangle&quot; /&gt;&lt;/returns&gt;
+      &lt;/Docs&gt;
+    &lt;/Member&gt;
+    &lt;Member MemberName=&quot;Rectangle&quot;&gt;
+      &lt;MemberSignature Language=&quot;C#&quot; Value=&quot;public static System.Drawing.Rectangle Rectangle (Gdk.Rectangle r);&quot; /&gt;
+      &lt;MemberType&gt;Method&lt;/MemberType&gt;
+      &lt;ReturnValue&gt;
+        &lt;ReturnType&gt;System.Drawing.Rectangle&lt;/ReturnType&gt;
+      &lt;/ReturnValue&gt;
+      &lt;Parameters&gt;
+        &lt;Parameter Name=&quot;r&quot; Type=&quot;Gdk.Rectangle&quot; /&gt;
+      &lt;/Parameters&gt;
+      &lt;Docs&gt;
+        &lt;summary&gt;Converts &lt;paramref name=&quot;r&quot; /&gt; to a &lt;see cref=&quot;T:System.Drawing.Rectangle&quot; /&gt;&lt;/summary&gt;
+        &lt;param name=&quot;r&quot;&gt;a &lt;see cref=&quot;T:Gdk.Rectangle&quot; /&gt;&lt;/param&gt;
+        &lt;returns&gt;&lt;paramref name=&quot;r&quot; /&gt; as a &lt;see cref=&quot;T:System.Drawing.Rectangle&quot; /&gt;&lt;/returns&gt;
+      &lt;/Docs&gt;
+    &lt;/Member&gt;
+    &lt;Member MemberName=&quot;Point&quot;&gt;
+      &lt;MemberSignature Language=&quot;C#&quot; Value=&quot;public static Gdk.Point Point (System.Drawing.Point p);&quot; /&gt;
+      &lt;MemberType&gt;Method&lt;/MemberType&gt;
+      &lt;ReturnValue&gt;
+        &lt;ReturnType&gt;Gdk.Point&lt;/ReturnType&gt;
+      &lt;/ReturnValue&gt;
+      &lt;Parameters&gt;
+        &lt;Parameter Name=&quot;p&quot; Type=&quot;System.Drawing.Point&quot; /&gt;
+      &lt;/Parameters&gt;
+      &lt;Docs&gt;
+        &lt;summary&gt;Converts &lt;paramref name=&quot;p&quot; /&gt; to a &lt;see cref=&quot;T:Gdk.Point&quot; /&gt;&lt;/summary&gt;
+        &lt;param name=&quot;p&quot;&gt;a &lt;see cref=&quot;T:System.Drawing.Point&quot; /&gt;&lt;/param&gt;
+        &lt;returns&gt;&lt;paramref name=&quot;p&quot; /&gt; as a &lt;see cref=&quot;T:Gdk.Point&quot; /&gt;&lt;/returns&gt;
+        &lt;remarks&gt;To be added&lt;/remarks&gt;
+      &lt;/Docs&gt;
+    &lt;/Member&gt;
+    &lt;Member MemberName=&quot;Point&quot;&gt;
+      &lt;MemberSignature Language=&quot;C#&quot; Value=&quot;public static System.Drawing.Point Point (Gdk.Point p);&quot; /&gt;
+      &lt;MemberType&gt;Method&lt;/MemberType&gt;
+      &lt;ReturnValue&gt;
+        &lt;ReturnType&gt;System.Drawing.Point&lt;/ReturnType&gt;
+      &lt;/ReturnValue&gt;
+      &lt;Parameters&gt;
+        &lt;Parameter Name=&quot;p&quot; Type=&quot;Gdk.Point&quot; /&gt;
+      &lt;/Parameters&gt;
+      &lt;Docs&gt;
+        &lt;summary&gt;Converts &lt;paramref name=&quot;r&quot; /&gt; to a &lt;see cref=&quot;T:System.Drawing.Point&quot; /&gt;&lt;/summary&gt;
+        &lt;param name=&quot;p&quot;&gt;a &lt;see cref=&quot;T:Gdk.Point&quot; /&gt;&lt;/param&gt;
+        &lt;returns&gt;&lt;paramref name=&quot;p&quot; /&gt; as a &lt;see cref=&quot;T:System.Drawing.Point&quot; /&gt;&lt;/returns&gt;
+      &lt;/Docs&gt;
+    &lt;/Member&gt;
+    &lt;Member MemberName=&quot;Size&quot;&gt;
+      &lt;MemberSignature Language=&quot;C#&quot; Value=&quot;public static Gdk.Size Size (System.Drawing.Size s);&quot; /&gt;
+      &lt;MemberType&gt;Method&lt;/MemberType&gt;
+      &lt;ReturnValue&gt;
+        &lt;ReturnType&gt;Gdk.Size&lt;/ReturnType&gt;
+      &lt;/ReturnValue&gt;
+      &lt;Parameters&gt;
+        &lt;Parameter Name=&quot;s&quot; Type=&quot;System.Drawing.Size&quot; /&gt;
+      &lt;/Parameters&gt;
+      &lt;Docs&gt;
+        &lt;summary&gt;To be added&lt;/summary&gt;
+        &lt;param name=&quot;s&quot;&gt;a &lt;see cref=&quot;T:System.Drawing.Size&quot; /&gt;&lt;/param&gt;
+        &lt;returns&gt;&lt;paramref name=&quot;s&quot; /&gt; as a &lt;see cref=&quot;T:Gdk.Size&quot; /&gt;&lt;/returns&gt;
+      &lt;/Docs&gt;
+    &lt;/Member&gt;
+    &lt;Member MemberName=&quot;Size&quot;&gt;
+      &lt;MemberSignature Language=&quot;C#&quot; Value=&quot;public static System.Drawing.Size Size (Gdk.Size s);&quot; /&gt;
+      &lt;MemberType&gt;Method&lt;/MemberType&gt;
+      &lt;ReturnValue&gt;
+        &lt;ReturnType&gt;System.Drawing.Size&lt;/ReturnType&gt;
+      &lt;/ReturnValue&gt;
+      &lt;Parameters&gt;
+        &lt;Parameter Name=&quot;s&quot; Type=&quot;Gdk.Size&quot; /&gt;
+      &lt;/Parameters&gt;
+      &lt;Docs&gt;
+        &lt;summary&gt;Converts &lt;paramref name=&quot;s&quot; /&gt; to a &lt;see cref=&quot;T:System.Drawing.Size&quot; /&gt;&lt;/summary&gt;
+        &lt;param name=&quot;s&quot;&gt;a &lt;see cref=&quot;T:Gdk.Size&quot; /&gt;&lt;/param&gt;
+        &lt;returns&gt;&lt;paramref name=&quot;s&quot; /&gt; as a &lt;see cref=&quot;T:System.Drawing.Size&quot; /&gt;&lt;/returns&gt;
+      &lt;/Docs&gt;
+    &lt;/Member&gt;
+    &lt;Member MemberName=&quot;Color&quot;&gt;
+      &lt;MemberSignature Language=&quot;C#&quot; Value=&quot;public static Gdk.Color Color (System.Drawing.Color c);&quot; /&gt;
+      &lt;MemberType&gt;Method&lt;/MemberType&gt;
+      &lt;ReturnValue&gt;
+        &lt;ReturnType&gt;Gdk.Color&lt;/ReturnType&gt;
+      &lt;/ReturnValue&gt;
+      &lt;Parameters&gt;
+        &lt;Parameter Name=&quot;c&quot; Type=&quot;System.Drawing.Color&quot; /&gt;
+      &lt;/Parameters&gt;
+      &lt;Docs&gt;
+        &lt;summary&gt;Converts &lt;paramref name=&quot;c&quot; /&gt; to a &lt;see cref=&quot;T:Gdk.Color&quot; /&gt;&lt;/summary&gt;
+        &lt;param name=&quot;c&quot;&gt;a &lt;see cref=&quot;T:System.Drawing.Color&quot; /&gt;&lt;/param&gt;
+        &lt;returns&gt;&lt;paramref name=&quot;c&quot; /&gt; as a &lt;see cref=&quot;T:Gdk.Color&quot; /&gt;&lt;/returns&gt;
+        &lt;remarks&gt;Note that this method does not handle the alpha channel of the color. Gdk colors do not have alpha.&lt;/remarks&gt;
+      &lt;/Docs&gt;
+    &lt;/Member&gt;
+    &lt;Member MemberName=&quot;Color&quot;&gt;
+      &lt;MemberSignature Language=&quot;C#&quot; Value=&quot;public static System.Drawing.Color Color (Gdk.Color c);&quot; /&gt;
+      &lt;MemberType&gt;Method&lt;/MemberType&gt;
+      &lt;ReturnValue&gt;
+        &lt;ReturnType&gt;System.Drawing.Color&lt;/ReturnType&gt;
+      &lt;/ReturnValue&gt;
+      &lt;Parameters&gt;
+        &lt;Parameter Name=&quot;c&quot; Type=&quot;Gdk.Color&quot; /&gt;
+      &lt;/Parameters&gt;
+      &lt;Docs&gt;
+        &lt;summary&gt;Converts &lt;paramref name=&quot;c&quot; /&gt; to a &lt;see cref=&quot;T:System.Drawing.Color&quot; /&gt;&lt;/summary&gt;
+        &lt;param name=&quot;c&quot;&gt;a &lt;see cref=&quot;T:Gdk.Color&quot; /&gt;&lt;/param&gt;
+        &lt;returns&gt;&lt;paramref name=&quot;c&quot; /&gt; as a &lt;see cref=&quot;T:System.Drawing.Color&quot; /&gt;&lt;/returns&gt;
+      &lt;/Docs&gt;
+    &lt;/Member&gt;
+  &lt;/Members&gt;
+&lt;/Type&gt;
Index: ChangeLog
===================================================================
--- ChangeLog	(revision 40225)
+++ ChangeLog	(working copy)
@@ -1,3 +1,9 @@
+2005-02-06  Ben Maurer  &lt;<A HREF="mailto:bmaurer@ximian.com">bmaurer@ximian.com</A>&gt;
+
+	* gtkdotnet/Makefile.am (sources): Add Convert.cs 
+
+	* gtkdotnet/Convert.cs: New file.
+
 2005-02-03  Mike Kestner  &lt;<A HREF="mailto:mkestner@novell.com">mkestner@novell.com</A>&gt;
 
 	* gtk/NodeStore.cs : use CreateNativeObject to allow subclassing.
Index: gtkdotnet/Convert.cs
===================================================================
--- gtkdotnet/Convert.cs	(revision 0)
+++ gtkdotnet/Convert.cs	(revision 0)
@@ -0,0 +1,71 @@
+// Convert.cs - System.Drawing integration with Gtk#
+//
+// Author:  Ben Maurer  &lt;<A HREF="mailto:bmaurer@novell.com">bmaurer@novell.com</A>&gt;
+//
+// Copyright (c) 2005 Novell, Inc.
+//
+// This program is free software; you can redistribute it and/or
+// modify it under the terms of version 2 of the Lesser GNU General 
+// Public License as published by the Free Software Foundation.
+//
+// This program is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+// Lesser General Public License for more details.
+//
+// You should have received a copy of the GNU Lesser General Public
+// License along with this program; if not, write to the
+// Free Software Foundation, Inc., 59 Temple Place - Suite 330,
+// Boston, MA 02111-1307, USA.
+
+using System;
+using SD = System.Drawing;
+using G = Gdk;
+
+namespace Gdk.DotNet {
+	public class GdkConvert {
+		
+		private GdkConvert () {}
+		
+		public static G.Rectangle Rectangle (SD.Rectangle r)
+		{
+			return new G.Rectangle (r.X, r.Y, r.Width, r.Height);
+		}
+		
+		public static SD.Rectangle Rectangle (G.Rectangle r)
+		{
+			return new SD.Rectangle (r.X, r.Y, r.Width, r.Height);
+		}
+		
+		public static G.Point Point (SD.Point p)
+		{
+			return new G.Point (p.X, p.Y);
+		}
+		
+		public static SD.Point Point (G.Point p)
+		{
+			return new SD.Point (p.X, p.Y);
+		}
+		
+		public static G.Size Size (SD.Size s)
+		{
+			return new G.Size (s.Width, s.Height);
+		}
+		
+		public static SD.Size Size (G.Size s)
+		{
+			return new SD.Size (s.Width, s.Height);
+		}
+		
+		// Note, this doesn't do Alpha
+		public static G.Color Color (SD.Color c)
+		{
+			return new G.Color (c.R, c.G, c.B);
+		}
+		
+		public static SD.Color Color (G.Color c)
+		{
+			return SD.Color.FromArgb (c.Red, c.Green, c.Blue);
+		}
+	}
+}
Index: gtkdotnet/Makefile.am
===================================================================
--- gtkdotnet/Makefile.am	(revision 40225)
+++ gtkdotnet/Makefile.am	(working copy)
@@ -16,7 +16,8 @@
 build_references = $(addprefix -r:, $(references)) -r:System.Drawing
 
 sources =		 			\
-	Graphics.cs
+	Graphics.cs				\
+	Convert.cs
 
 build_sources = $(addprefix $(srcdir)/, $(sources)) ../AssemblyInfo.cs
 

--=-Oupc8GLy5KWiLbPU0NWq--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005395.html">[Gtk-sharp-list] No Return key event for indented lines in gtksourceview
</A></li>
	<LI> Next message: <A HREF="005397.html">[Gtk-sharp-list] [PATCH] Extra APIs for Point and Rectangle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5396">[ date ]</a>
              <a href="thread.html#5396">[ thread ]</a>
              <a href="subject.html#5396">[ subject ]</a>
              <a href="author.html#5396">[ author ]</a>
         </LI>
       </UL>
</body></html>
