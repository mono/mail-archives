<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Gtk.CellRendererText.Markup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Gtk.CellRendererText.Markup&In-Reply-To=19128283.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008937.html">
   <LINK REL="Next"  HREF="008933.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Gtk.CellRendererText.Markup</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Gtk.CellRendererText.Markup&In-Reply-To=19128283.post%40talk.nabble.com"
       TITLE="[Gtk-sharp-list] Gtk.CellRendererText.Markup">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Mon Aug 25 14:03:06 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008937.html">[Gtk-sharp-list] Gtk.CellRendererText.Markup
</A></li>
        <LI>Next message: <A HREF="008933.html">[Gtk-sharp-list] Adding a shortcut to menu or a button
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8941">[ date ]</a>
              <a href="thread.html#8941">[ thread ]</a>
              <a href="subject.html#8941">[ subject ]</a>
              <a href="author.html#8941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Aug 24, 2008 at 3:12 AM, innominate &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">natenate at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Ive figured it out. I was doing it wrong.
</I>&gt;<i>
</I>&gt;<i> For those who come after me:
</I>&gt;<i> The file attached will work with some small changes
</I>&gt;<i> 1 delete nameCell.Markup line
</I>&gt;<i> 2 change mainColumn.AddAttribute (nameCell, &quot;text&quot;, 2); to
</I>&gt;<i> mainColumn.AddAttribute (nameCell, &quot;markup&quot;, 2);
</I>&gt;<i> 3 add the markup to list.AppendValues (true, iconPixBuf, &quot;blabla\nline two
</I>&gt;<i> bla bla bla...&quot;);
</I>
As you've probably worked out, the AddAttribute method of a column
adds property &quot;mappings&quot; that are used to assign properties to a
cellrenderer each time it's used to render the cell for a given view
column/row. These just assign the value from a corresponding row in
the TreeStore column number you specify. The property names are the
underlying GObject properties, not the GTK# properties, and as such
are names a little differently (usually just casing). You can find the
names in the GTK+ docs.

Note that a cellrenderer instance can be re-used for as many columns
as you want, though this has the downside that you may need to
reassign more properties to counteract properties that were set for
other columns.

A much more powerful alternative to property mappings is to use a
TreeCellDataFunc, for example:

col.SetCellDataFunc (textRenderer, delegate (TreeViewColumn
treeColumn, CellRenderer cell, TreeModel treeModel, TreeIter iter) {
    SomeObject val = (SomeObject) treeModel.GetValue (iter,
STORE_COL_OBJECT_INDEX);
    CellRendererText textCell = (CellRendererText) cell;
    cell.Markup = string.Format (&quot;&lt;b&gt;{0}&lt;/b&gt;\n{1}&quot;, GLib.Markup.Escape
(val.SomeProp), GLib.Markup.Escape (val.SomeOtherProp));
    cell.Style = val.SomeIntProp &gt; Pango.Style.Normal : pango.Style.Italic;
});

This means that you can derive more complex values on the fly, or for
example access properties of .NET properties,  rather than having to
precalculate every property value and put it in the TreeStore.

-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008937.html">[Gtk-sharp-list] Gtk.CellRendererText.Markup
</A></li>
	<LI>Next message: <A HREF="008933.html">[Gtk-sharp-list] Adding a shortcut to menu or a button
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8941">[ date ]</a>
              <a href="thread.html#8941">[ thread ]</a>
              <a href="subject.html#8941">[ subject ]</a>
              <a href="author.html#8941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
