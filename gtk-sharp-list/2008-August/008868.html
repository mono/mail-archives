<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Fwd: Dragging Floating windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Fwd%3A%20Dragging%20Floating%20windows&In-Reply-To=1217779515.4672.8.camel%40linux-nnci.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008865.html">
   <LINK REL="Next"  HREF="008869.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Fwd: Dragging Floating windows</H1>
    <B>Andy Selvig</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Fwd%3A%20Dragging%20Floating%20windows&In-Reply-To=1217779515.4672.8.camel%40linux-nnci.site"
       TITLE="[Gtk-sharp-list] Fwd: Dragging Floating windows">ajselvig at gmail.com
       </A><BR>
    <I>Sun Aug  3 14:08:53 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008865.html">[Gtk-sharp-list] Fwd: Dragging Floating windows
</A></li>
        <LI>Next message: <A HREF="008869.html">[Gtk-sharp-list] Change background of widget using theme colors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8868">[ date ]</a>
              <a href="thread.html#8868">[ thread ]</a>
              <a href="subject.html#8868">[ subject ]</a>
              <a href="author.html#8868">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the responses, guys. After digging around the MonoDevelop
source for a while, I figured out how they go about it. It seems all
it takes is a call to

Gdk.Pointer.Grab()

when the window is floated, then

Gdk.Pointer.Ungrab()

when the mouse button is released. The MonoDoc documentation on these
methods isn't very good, but I'm assuming there's more info in the
GTK+ docs. Also, you really have to be careful to grab the correct Gdk
window, otherwise you might lose all mouse interaction and have X
basically unresponsive.

Hopefully this helps others who are interested in similar functionality.

On Sun, Aug 3, 2008 at 11:05 AM, Adam Tauno Williams
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">awilliam at whitemice.org</A>&gt; wrote:
&gt;&gt;<i> I sent the e-mail below a couple weeks ago and haven't gotten any
</I>&gt;&gt;<i> response. I'm not sure if it just didn't go through or what the deal
</I>&gt;&gt;<i> is. Anyway, if anyone has any idea how to help it would be
</I>&gt;&gt;<i> appreciated, otherwise some direction as to where else to go for help
</I>&gt;&gt;<i> would be great.
</I>&gt;<i>
</I>&gt;<i> It went through, I saw it.  There just wasn't a response [and your using
</I>&gt;<i> gmail with besides being crap and non-standards compliant in 1,000 other
</I>&gt;<i> ways also prevents you from seeing your own posts to mail lists.  I
</I>&gt;<i> think they consider that a feature.]
</I>&gt;<i>
</I>&gt;<i> Sorry I can't give you any advice.  I haven't gotten to DnD in my own
</I>&gt;<i> Gtk# application &lt;<A HREF="http://code.google.com/p/consonance/">http://code.google.com/p/consonance/</A>&gt; yet.  Maybe in
</I>&gt;<i> the next couple weeks.
</I>&gt;<i>
</I>&gt;&gt;<i> Hello All-
</I>&gt;&gt;<i> I'm having some trouble with dragging a floating, decoration-less
</I>&gt;&gt;<i> window around the screen. I have written a small (tried to keep it
</I>&gt;&gt;<i> under 100 lines but failed) app that demonstrates the problem.
</I>&gt;&gt;<i> The main window simply contains a button. When the user clicks on the
</I>&gt;&gt;<i> button, the button reparents itself to a floating window and the user
</I>&gt;&gt;<i> can then drag the window around the screen. The problem is that, after
</I>&gt;&gt;<i> the user clicks the button but BEFORE they let go of the mouse button,
</I>&gt;&gt;<i> the dragging doesn't seem to behave quite right. If the mouse is moved
</I>&gt;&gt;<i> slowly enough, it works fine, but at a certain speed the floating
</I>&gt;&gt;<i> window will stop tracking it. The strange thing is that if the user
</I>&gt;&gt;<i> lets go and clicks on the button again, the dragging will work
</I>&gt;&gt;<i> perfectly, no matter what the speed. It basically just doesn't seem to
</I>&gt;&gt;<i> be receiving the mouse events properly after the reparent.
</I>&gt;&gt;<i> I tried looking through the C source for HandleBox, but couldn't find
</I>&gt;&gt;<i> what makes it not behave this way. My source code is attached. Any
</I>&gt;&gt;<i> help would be greatly appreciated.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -Andy
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Gtk-sharp-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">Gtk-sharp-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gtk-sharp-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">Gtk-sharp-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>&gt;<i>
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008865.html">[Gtk-sharp-list] Fwd: Dragging Floating windows
</A></li>
	<LI>Next message: <A HREF="008869.html">[Gtk-sharp-list] Change background of widget using theme colors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8868">[ date ]</a>
              <a href="thread.html#8868">[ thread ]</a>
              <a href="subject.html#8868">[ subject ]</a>
              <a href="author.html#8868">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
