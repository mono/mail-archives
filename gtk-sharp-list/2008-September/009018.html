<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] 64bit Gtk# for windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%2064bit%20Gtk%23%20for%20windows&In-Reply-To=48D12F8F.90508%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009016.html">
   <LINK REL="Next"  HREF="009019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] 64bit Gtk# for windows</H1>
    <B>Mike Kestner</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%2064bit%20Gtk%23%20for%20windows&In-Reply-To=48D12F8F.90508%40gmail.com"
       TITLE="[Gtk-sharp-list] 64bit Gtk# for windows">mkestner at gmail.com
       </A><BR>
    <I>Wed Sep 17 13:11:45 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009016.html">[Gtk-sharp-list] 64bit Gtk# for windows
</A></li>
        <LI>Next message: <A HREF="009019.html">[Gtk-sharp-list] 64bit Gtk# for windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9018">[ date ]</a>
              <a href="thread.html#9018">[ thread ]</a>
              <a href="subject.html#9018">[ subject ]</a>
              <a href="author.html#9018">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2008-09-17 at 18:25 +0200, Jaroslav &#352;m&#237;d wrote:
&gt;<i>   
</I>&gt;<i> Yeah, sorry for that ... I'm already compilling GtkSharp assemblies 
</I>&gt;<i> (sources are from SVN repo) on Windows x64 platform using my custom 
</I>&gt;<i> makefiles. I've got glib-sharp, Mono.Cairo, pango-sharp, atk-sharp, 
</I>&gt;<i> gdk-sharp and gtk-sharp already compiled - now it is time for gtkdotnet, 
</I>&gt;<i> glade-sharp and maybe something else. I will upload it all tomorrow and 
</I>&gt;<i> post a link here. I can provide those makefiles, but I doubt you want 
</I>&gt;<i> them as you no longer want to support windows makefiles (stated in 
</I>&gt;<i> /makefile.win32 in SVN).
</I>
The reason we don't support win32 specific makefiles any more is because
we improved the automake-based build to the point it would support
win32.  So we want to support win32 make, just not via a redundant make
system which quickly gets out of date because it is not used regularly
in the development of the binding.

Congrats on the progress.  The main &quot;extraordinary&quot; things you want to
keep in mind while building win64 assemblies are the following:

You will need to have a -define:WIN64LONGS in your generator build.
That is the &quot;platform-specific&quot; piece of the assembly build which is
needed to adapt to win64 longs not being the same size as a pointer as
on other 64 bit platforms.  If you didn't define that in your generator
build, you will need to regenerate the sources for your assemblies once
it's been rebuilt.

The other piece is the post-processing step which is performed by
gapi-cdecl-insert.  This piece could be tricky though, because somebody
already reported the existing tool does not work on the .Net 2.0 SDK
tools, and you mentioned that there isn't a 1.X SDK for win64.  The
purpose of the tool is to convert GLib.CDeclCallbackAttributes into the
IL necessary to identify callback delegates as CDECL calling convention,
something which is not possibly by adding standard attributes in .Net
1.0.  Since we generate .Net 1.x compatible code in GAPI, we can't use
the 2.0 attribute to do this, so we have to disassembly the il, insert
the appropriate code, and then reassemble the assembly.

My suspicion is that it might end up being easier to &quot;cross-compile&quot; the
assemblies on win32 against a 1.x SDK but add some configuration magic
to force the -define:WIN64LONGS bit.  The resulting assemblies should
then be copy deployable to win64.

Mike

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009016.html">[Gtk-sharp-list] 64bit Gtk# for windows
</A></li>
	<LI>Next message: <A HREF="009019.html">[Gtk-sharp-list] 64bit Gtk# for windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9018">[ date ]</a>
              <a href="thread.html#9018">[ thread ]</a>
              <a href="subject.html#9018">[ subject ]</a>
              <a href="author.html#9018">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
