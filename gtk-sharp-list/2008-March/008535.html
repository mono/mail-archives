<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Gnome.Print
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Gnome.Print&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008534.html">
   <LINK REL="Next"  HREF="008536.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Gnome.Print</H1>
    <B>Mike Kestner</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Gnome.Print&In-Reply-To="
       TITLE="[Gtk-sharp-list] Gnome.Print">mkestner at gmail.com
       </A><BR>
    <I>Mon Mar 31 15:05:08 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008534.html">[Gtk-sharp-list] Gtk# DataBindings 0.98.4.2
</A></li>
        <LI>Next message: <A HREF="008536.html">[Gtk-sharp-list] Gnome.Print
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8535">[ date ]</a>
              <a href="thread.html#8535">[ thread ]</a>
              <a href="subject.html#8535">[ subject ]</a>
              <a href="author.html#8535">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Those who follow desktop-devel-list have probably seen that GNOME is
currently discussion the removal of libgnomeprint* from the desktop
release.  This has consequences to gnome-sharp.

I'd like to start a discussion about possible methods of going forward
in the light of this change.  We currently have a dependency on
libgnomeprint* for gnome-sharp.dll, since it exposes Gnome printing API.
I can see a few possible approaches, all of which stink in one way or
another.  ;-)

1) We remove the gnomeprint bindings from gnome-sharp.dll, breaking
stability for the assembly, but allowing it to build with its GNOME
platform library dependencies still in place.  This would require
dropping of existing policy assemblies and starting over fresh with the
upcoming release of gnome-sharp.dll, version 2.24.0.0.  

The existing Gnome.Print* bindings would be spun out into a new
gnome-print-sharp.dll in a standalone module with its own .pc file.
While this would break runtime compat, the only change required to get
apps building again would probably be the addition of a
gnome-print-sharp-2.0 entry to configure.in files or -pkg: switches, and
of course, the installation of the new module.  This is the &quot;bite the
bullet&quot; solution.

2) Maintain stability by leaving the gnomeprint* dependency in
gnome-sharp.dll.  I don't think this choice will be appreciated by the
GNOME folks, and would put pressure on Tomboy, because it depends on
gnome-sharp.dll.  Any gnome build which included Tomboy would therefore
still require libgnomeprint* and I doubt the gnome folks will be pleased
with us.  This is probably a non-starter, but I mention it for
completeness.  This is the &quot;bury our heads in the sand&quot; solution.

3) Maintain stability by importing libgnomeprint* into gnome-sharp and
producing &quot;glue&quot; libraries from the sources.  This could be a pain in
the rear to pull off, especially if name mangling is required to avoid
potential type clashes from ld.  We also probably pick up an ongoing
maintenance headache for bugs in the underlying C code, and we all know
us C# hackers aren't excited about hacking C code.  ;-)  This is the
&quot;Mike you screwed up so you should be flogged, then drawn and quartered&quot;
solution.

I see option 1 and 3 as being the most likely approaches.  Gnome.Print's
inclusion in gnome-sharp.dll was a mistake in the first place, and I'm
willing to go through the pain of option 3 in order to maintain the
compatibility that we've advertised.  On the other hand, I'd rather not
take on that burden if the users are willing to accept option 1.  I
think option 1 is probably the &quot;cleanest&quot; solution of the 3 within the
context of the underlying GNOME API guarantees, though the stability
break to gnome-sharp.dll is embarrassing to me as a maintainer.

I would appreciate any feedback.  We have a little time to make a
decision, since we are early in this GNOME cycle.  But based on the
feedback to my posts on d-d-l, I think we're most likely going to have
to fix this lurking dependency bug in this upcoming release.

-- 
Mike Kestner &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">mkestner at gmail.com</A>&gt;

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008534.html">[Gtk-sharp-list] Gtk# DataBindings 0.98.4.2
</A></li>
	<LI>Next message: <A HREF="008536.html">[Gtk-sharp-list] Gnome.Print
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8535">[ date ]</a>
              <a href="thread.html#8535">[ thread ]</a>
              <a href="subject.html#8535">[ subject ]</a>
              <a href="author.html#8535">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
