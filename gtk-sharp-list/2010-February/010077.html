<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] When using Drag and Drop in a TreeView,	how do I 	keep from dropping between rows?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20When%20using%20Drag%20and%20Drop%20in%20a%20TreeView%2C%0A%09how%20do%20I%20%09keep%20from%20dropping%20between%20rows%3F&In-Reply-To=fbf8ec8d1002051110u553893faxb9dfa9ba1c67389e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010076.html">
   <LINK REL="Next"  HREF="010094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] When using Drag and Drop in a TreeView,	how do I 	keep from dropping between rows?</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20When%20using%20Drag%20and%20Drop%20in%20a%20TreeView%2C%0A%09how%20do%20I%20%09keep%20from%20dropping%20between%20rows%3F&In-Reply-To=fbf8ec8d1002051110u553893faxb9dfa9ba1c67389e%40mail.gmail.com"
       TITLE="[Gtk-sharp-list] When using Drag and Drop in a TreeView,	how do I 	keep from dropping between rows?">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Fri Feb  5 15:18:13 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010076.html">[Gtk-sharp-list] When using Drag and Drop in a TreeView,	how do I keep from dropping 	between rows?
</A></li>
        <LI>Next message: <A HREF="010094.html">[Gtk-sharp-list] When using Drag and Drop in a TreeView,	how do I 	keep from dropping between rows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10077">[ date ]</a>
              <a href="thread.html#10077">[ thread ]</a>
              <a href="subject.html#10077">[ subject ]</a>
              <a href="author.html#10077">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Feb 5, 2010 at 2:10 PM, Matthew Pirocchi
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">matthew.pirocchi at gmail.com</A>&gt; wrote:
&gt;<i> I'm testing a window that looks something like this:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://i.imgur.com/3OaT6.png">http://i.imgur.com/3OaT6.png</A>
</I>&gt;<i>
</I>&gt;<i> Dragging a Tag to a Card links the Tag to the Card. So does dragging a
</I>&gt;<i> Card to a Tag.
</I>&gt;<i>
</I>&gt;<i> It's meaningless to drop a tag between two cards, or a card between
</I>&gt;<i> two tags. I can ignore these outcomes in the Handle...DataReceived
</I>&gt;<i> function like this:
</I>&gt;<i>
</I>&gt;<i> if (dropPos != TreeViewDropPosition.IntoOrAfter &amp;&amp;
</I>&gt;<i> &#160; &#160;dropPos != TreeViewDropPosition.IntoOrBefore)
</I>&gt;<i> &#160; &#160;return;
</I>&gt;<i>
</I>&gt;<i> However, when dragging, the user still sees the option to insert:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://i.imgur.com/UU01L.png">http://i.imgur.com/UU01L.png</A>
</I>&gt;<i>
</I>&gt;<i> How do I prevent this from happening?
</I>
I think i's possible but complicated, using the OnDragMotion and
inserting your handler before the normal one (ConnectBefore), the on
each event checking what's at the current location and possibly using
args.RetVal=true to prevent the event propagating to the default drag
motion handler.

For an example see
main/src/core/MonoDevelop.Ide/MonoDevelop.Ide.Gui.Components/ExtensibleTreeView.cs

-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010076.html">[Gtk-sharp-list] When using Drag and Drop in a TreeView,	how do I keep from dropping 	between rows?
</A></li>
	<LI>Next message: <A HREF="010094.html">[Gtk-sharp-list] When using Drag and Drop in a TreeView,	how do I 	keep from dropping between rows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10077">[ date ]</a>
              <a href="thread.html#10077">[ thread ]</a>
              <a href="subject.html#10077">[ subject ]</a>
              <a href="author.html#10077">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
