<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Modal property of Dialog not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rick%40vanosten.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000810.html">
   <LINK REL="Next"  HREF="000811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Modal property of Dialog not working
   </H1>
    <B>vanosten
    </B> 
    <A HREF="mailto:rick%40vanosten.net"
       TITLE="[Gtk-sharp-list] Modal property of Dialog not working">rick@vanosten.net
       </A><BR>
    <I>11 Jan 2003 10:13:41 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000810.html">[Gtk-sharp-list] Modal property of Dialog not working
</A></li>
        <LI> Next message: <A HREF="000811.html">[Gtk-sharp-list] Modal property of Dialog not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#812">[ date ]</a>
              <a href="thread.html#812">[ thread ]</a>
              <a href="subject.html#812">[ subject ]</a>
              <a href="author.html#812">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mike and Gonzalo

Thank you for your help. Dialog::Run() makes the trick :-) I include a
short program that shows the behaviour for reference. Those interested
can play with lines 60 and 62.

Have a nice weekend ... Rick


lør, 2003-01-11 kl. 01:35 skrev Mike Kestner:
&gt;<i> On Fri, 2003-01-10 at 13:25, vanosten wrote:
</I>&gt;<i> &gt; Hi
</I>&gt;<i> &gt; The modal property of dialog seems not to be working. Even if I set
</I>&gt;<i> &gt; &quot;dialog.Modal = true&quot; the code in my method goes on, i.e. the appliation
</I>&gt;<i> &gt; is not freezed. I might be missing some general GTK behaviour?
</I>&gt;<i> 
</I>&gt;<i> I've used the Dialog::Run() method successfully in Gtk# for modal
</I>&gt;<i> dialogs.  Haven't gotten around to trying the Modal prop.
</I>
lør, 2003-01-11 kl. 01:59 skrev Gonzalo Paniagua Javier:
&gt;<i> After setting the dialog as modal, try dialog.TransientFor = parent,
</I>&gt;<i> where parent is the main application window.
</I>&gt;<i> 
</I>&gt;<i> -Gonzalo
</I>
using System;

using Gtk;
using GtkSharp;

public class MyApp : Window {

    private VBox mainBox;
    private Dialog dialog;

    public MyApp(string title) : base(title) {
        this.SetDefaultSize(800, 600); //width, height
        this.DeleteEvent += new DeleteEventHandler(OnWindowDelete);
        mainBox = new VBox(false, 2);
        
        //menu bar with one menu
        MenuBar mb = new MenuBar();
        Menu fileMenu = new Menu();
        MenuItem fileMenuMI = new MenuItem(&quot;_File&quot;);
        MenuItem dialogMI = new MenuItem(&quot;_Dialog&quot;);
        dialogMI.Activated += new EventHandler(OnDialog);
        mb.Append(fileMenuMI);
        fileMenuMI.Submenu = fileMenu;
        fileMenu.Append(dialogMI);
        mainBox.PackStart(mb, false, false, 0);
        
        //rest of gui
        Button button = new Button(&quot;Do not press me ;-)&quot;);
        mainBox.PackStart(button, true, true, 0);
        this.Add(mainBox);
        this.ShowAll();
    } //END public DMyApp(string)

    public static int Main(string[] args) {
        Application.Init();
        MyApp app = new MyApp(&quot;Hello&quot;);
        Application.Run();
        return 0;
    } //END public static int Main(string[])
    
    private void ShowDialogs() {
        ShowInfoDialog();
        Console.WriteLine(&quot;ShowInfoDialog() returned in ShowDialogs()&quot;);
    } //END private void ShowDialogs()
    
    private void ShowInfoDialog() {
        dialog = new Dialog();
        dialog.Title = &quot;A simple dialog&quot;;
        VBox vbox = dialog.VBox;
        HBox hbox = new HBox(false, 4);
        vbox.PackStart(hbox, true, true, 0);
        Gtk.Image icon = new Gtk.Image(Stock.DialogInfo, IconSize.Dialog);
        hbox.PackStart(icon, false, false, 0);
        hbox.PackStart(new Label(&quot;Maybe it is working&quot;), false, false, 0);
        dialog.AddButton(Stock.Close, 1);
        dialog.Response += new ResponseHandler(OnDialogResponse);
            
        //show
        dialog.Modal = true;
        //dialog.TransientFor = this;
        dialog.ShowAll();
        dialog.Run();
        Console.WriteLine(&quot;ShowInfoDialog() reached internally end of method&quot;);
    } //END private void ShowInfoDialog()

    //---- EventHandlers -------------------------------------/
    
    private void OnWindowDelete(object obj, DeleteEventArgs args) {
        Application.Quit();
        args.RetVal = true;
    }   //END private void OnWindowDelete(object, DeleteEventArgs)
    
    private void OnDialog(object o, EventArgs args) {
        ShowDialogs();
        
    } //private void OnDialog(object, EventArgs)
    private void OnDialogResponse(object o, ResponseArgs args) {
        dialog.Hide();
    } //private void OnDialog(object, EventArgs)
} //END public class MyApp : Window





</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000810.html">[Gtk-sharp-list] Modal property of Dialog not working
</A></li>
	<LI> Next message: <A HREF="000811.html">[Gtk-sharp-list] Modal property of Dialog not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#812">[ date ]</a>
              <a href="thread.html#812">[ thread ]</a>
              <a href="subject.html#812">[ subject ]</a>
              <a href="author.html#812">[ author ]</a>
         </LI>
       </UL>
</body></html>
