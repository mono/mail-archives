<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] gtksourceview Problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Calum.Shaw-Mackay%40countrywideassured.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002979.html">
   <LINK REL="Next"  HREF="002983.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] gtksourceview Problems
   </H1>
    <B>Calum Shaw-Mackay
    </B> 
    <A HREF="mailto:Calum.Shaw-Mackay%40countrywideassured.co.uk"
       TITLE="[Gtk-sharp-list] gtksourceview Problems">Calum.Shaw-Mackay@countrywideassured.co.uk
       </A><BR>
    <I>Thu, 11 Dec 2003 11:51:52 -0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="002979.html">[Gtk-sharp-list] Overriding a Method
</A></li>
        <LI> Next message: <A HREF="002983.html">[Gtk-sharp-list] gtksourceview Problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2980">[ date ]</a>
              <a href="thread.html#2980">[ thread ]</a>
              <a href="subject.html#2980">[ subject ]</a>
              <a href="author.html#2980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi 

I'm looking at gtksourceview and gtksourceview-sharp and I need a little
help

If I try with a mime/file type that will not be recognised by sourceview,
no cast exception is thrown.

Whenever I try to select a recognised language from SourceLanguages Manager,

I get an InvalidCastException in GetLanguageFromMimeType()
It also happens if I try to cast to SourceLanguage for elements in
SourceLanguagesManager.AvailableLanguages
The following code:

try{
	SList list = langMgr.AvailableLanguages;
	Console.WriteLine(&quot;There are {0} available languages&quot;, list.Count);
	for(int i=0;i&lt;List.Count;i++){
		// What object types are returned?
		Console.WriteLine(&quot;Language: &quot; + list[i].ToString());
	}
	SourceLanguage lang =
langMgr.GetLanguageFromMimeType(&quot;text/x-csharp&quot;);
	Console.WriteLine(&quot;Lang: &quot; + lang.Name);
} catch (InvalidCastException e){
	Console.WriteLine(e.ToString());
}


The output was

There are 14 available languages
Language: Glib.Object
...
...
Language: Glib.Object

System.InvalidCastException: Cannot cast from source type to destination
type
in &lt;0x00068&gt; Gtk.SourceLanguagesManager:GetLanguageFromMimeType(string)
in &lt;0x0012a) Minotaur.Main:.ctor()


System
--------
Mandrake 9.2
gtksourceview 0.7.0
gtksourceview-sharp 0.1.0

Any help would be much appreciated

****************************************************************************
***************************************************************
Calum Shaw-Mackay
Java Developer

The information in this e-mail and any documents and files transmitted with
it are confidential and for the use of the intended recipient only. If you
are not the intended recipient, please delete the message and  statements
immediately and notify the sender. Any unauthorised dissemination or copying
of this e-mail, or any misuse or wrongful disclosure of the information
contained in it, is strictly prohibited and may be illegal. 

The opinions, statements and thoughts expressed in this e-mail and its
attachments if any are those of the individual sender and not necessarily
Countrywide Assured Plc's or any associated personnel.

Although Countrywide Assured Plc believes this e-mail and any attachments
are free of any virus or other defect which may affect a computer, it is the
responsibility of the recipient to ensure that is it virus free and
Countrywide Assured Plc does not accept any responsibility for any loss or
damage arising in this way from its use.

Countrywide Assured plc is authorised by the Financial Services Authority.
Countrywide Assured plc. Registered in England No. 2261746. Registered
Office: Harbour House, Portway, Preston, Lancs. PR2 2PR. 



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002979.html">[Gtk-sharp-list] Overriding a Method
</A></li>
	<LI> Next message: <A HREF="002983.html">[Gtk-sharp-list] gtksourceview Problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2980">[ date ]</a>
              <a href="thread.html#2980">[ thread ]</a>
              <a href="subject.html#2980">[ subject ]</a>
              <a href="author.html#2980">[ author ]</a>
         </LI>
       </UL>
</body></html>
