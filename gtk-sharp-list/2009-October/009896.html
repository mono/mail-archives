<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] [PATCH] Fix custom CellRenderer creation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20%5BPATCH%5D%20Fix%20custom%20CellRenderer%20creation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009895.html">
   <LINK REL="Next"  HREF="009897.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] [PATCH] Fix custom CellRenderer creation</H1>
    <B>Diego</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20%5BPATCH%5D%20Fix%20custom%20CellRenderer%20creation&In-Reply-To="
       TITLE="[Gtk-sharp-list] [PATCH] Fix custom CellRenderer creation">Diego
       </A><BR>
    <I>Mon Oct 19 05:24:15 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009895.html">[Gtk-sharp-list] Gtk.RecentManager: Way to list Items
</A></li>
        <LI>Next message: <A HREF="009897.html">[Gtk-sharp-list] [PATCH] Fix custom CellRenderer creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9896">[ date ]</a>
              <a href="thread.html#9896">[ thread ]</a>
              <a href="subject.html#9896">[ subject ]</a>
              <a href="author.html#9896">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

While I was working on creating a custom cell renderer for a project of
mine, I found that once I tried to override the Render method, and
simply call the base one, the program would crash with an error in the
native code.

The attached patch makes custom CellRenderer behave, although it might
be a bit hackish: the other functions that use &quot;ref Gtk.Rectangle&quot; for
the native call also have it in the managed interface, but since I
didn't want to change the interface (which I'm pretty sure would be a
bad thing&#8482;) I kept the ref only in the subsequent call. It *should* be
fine since the rectangles shouldn't be modified as far as I can see.

I'm also attaching a simple testcase, if you're interested in seeing
what the problem is.

I also have another problem here: how do I make sure the Windows gtk#
also have this applied? Should I rebuild it myself, or using the .dll
file built on (Gentoo) Linux with that patch should be enough?

Thanks,

-- 
Diego Elio Petten&#242; &#8212; &#8220;Flameeyes&#8221;
<A HREF="http://blog.flameeyes.eu/">http://blog.flameeyes.eu/</A>

If you found a .asc file in this mail and know not what it is,
it's a GnuPG digital signature: <A HREF="http://www.gnupg.org/">http://www.gnupg.org/</A>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: gtk-sharp-2.12.9-cellrenderer.patch
Type: text/x-patch
Size: 2510 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20091019/07c2162b/attachment.bin">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20091019/07c2162b/attachment.bin</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MainWindow.cs
Type: text/x-csharp
Size: 1193 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20091019/07c2162b/attachment-0001.bin">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20091019/07c2162b/attachment-0001.bin</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009895.html">[Gtk-sharp-list] Gtk.RecentManager: Way to list Items
</A></li>
	<LI>Next message: <A HREF="009897.html">[Gtk-sharp-list] [PATCH] Fix custom CellRenderer creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9896">[ date ]</a>
              <a href="thread.html#9896">[ thread ]</a>
              <a href="subject.html#9896">[ subject ]</a>
              <a href="author.html#9896">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
