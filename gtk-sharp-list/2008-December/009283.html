<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Newbie's TreeView updates *very* slowly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Newbie%27s%20TreeView%20updates%20%2Avery%2A%20slowly&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009274.html">
   <LINK REL="Next"  HREF="009284.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Newbie's TreeView updates *very* slowly</H1>
    <B>christian.hergert at gmail.com</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Newbie%27s%20TreeView%20updates%20%2Avery%2A%20slowly&In-Reply-To="
       TITLE="[Gtk-sharp-list] Newbie's TreeView updates *very* slowly">christian.hergert at gmail.com
       </A><BR>
    <I>Wed Dec 24 17:21:19 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009274.html">[Gtk-sharp-list] Integrated Webbrowser
</A></li>
        <LI>Next message: <A HREF="009284.html">[Gtk-sharp-list] Newbie's TreeView updates *very* slowly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9283">[ date ]</a>
              <a href="thread.html#9283">[ thread ]</a>
              <a href="subject.html#9283">[ subject ]</a>
              <a href="author.html#9283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Updates to the widget do not happen synchronously. Please make sure  
your &quot;Intense Database Query&quot; is done within a thread so that gtk can  
continue to draw from its main loop when the tree model is updated.

If you get to the point where you are doing thousands of additions to the  
model, you may want to consider removing the model from the treeview, doing  
the updates, and then re-attaching the model. This will speed up the UI  
because many of the model events (such as row added) do not need to be  
handled by the treeview.

-- Christian

On Dec 24, 2008 12:43pm, Andy Selvig &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">ajselvig at gmail.com</A>&gt; wrote:
&gt;<i> Try calling QueueDraw() after the ShowAll() on the tree view. ShowAll()  
</I>just makes sure everything is visible, but Gtk will wait until the  
application is idle before it redraws.
&gt;<i>
</I>&gt;<i> On Tue, Dec 23, 2008 at 3:32 PM, fourthirtysix <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">fourthirtysix at yahoo.com</A>&gt;  
</I>wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello, I should first disclose that I'ma very novice programmer working on
</I>&gt;<i>
</I>&gt;<i> my first GUI app ever!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have an app using a TreeView/TreeStore to display a table with 8 columns
</I>&gt;<i>
</I>&gt;<i> and about 5 rows.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The program loads with a blank window. I click on one button, and 3 of  
</I>the 8
&gt;<i>
</I>&gt;<i> columns are populated with data for all 5 rows.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Next, I click a second button, and for each of the 5 rows, an intensive
</I>&gt;<i>
</I>&gt;<i> database routine is performed to get data to update the rest of the empty
</I>&gt;<i>
</I>&gt;<i> places in each row.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I iterate through a list of the five rows, running the database search
</I>&gt;<i>
</I>&gt;<i> seperately for each one and using the TreeView Models SetValue function to
</I>&gt;<i>
</I>&gt;<i> update each row. I call treeview.ShowAll() for each iteration to do the
</I>&gt;<i>
</I>&gt;<i> refresh.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> My problem is: The treeview is supposed to update each time a result is
</I>&gt;<i>
</I>&gt;<i> found (5 times in total, one for each row). I do this to show the user  
</I>that
&gt;<i>
</I>&gt;<i> progress is being made. Unfortunately, both the data and that statusbar
</I>&gt;<i>
</I>&gt;<i> functions that I am calling wait until all of the intensive data searches
</I>&gt;<i>
</I>&gt;<i> are done before refreshing.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Basically, it waits until everything is done, and then refreshes. Is GTK
</I>&gt;<i>
</I>&gt;<i> just slow? is it Mono? Is there a way to get the screen to refresh even
</I>&gt;<i>
</I>&gt;<i> though I'm running a heavy load operation between refreshes?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> help!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> thanks :-D
</I>&gt;<i>
</I>&gt;<i> -mwp
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i> View this message in context:  
</I><A HREF="http://www.nabble.com/Newbie%27s-TreeView-updates-*very*-slowly-tp21151505p21151505.html">http://www.nabble.com/Newbie%27s-TreeView-updates-*very*-slowly-tp21151505p21151505.html</A>
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sent from the Mono - Gtk# mailing list archive at Nabble.com.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i>
</I>&gt;<i> Gtk-sharp-list maillist - <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">Gtk-sharp-list at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20081224/7bf0bf25/attachment-0001.html">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20081224/7bf0bf25/attachment-0001.html</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009274.html">[Gtk-sharp-list] Integrated Webbrowser
</A></li>
	<LI>Next message: <A HREF="009284.html">[Gtk-sharp-list] Newbie's TreeView updates *very* slowly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9283">[ date ]</a>
              <a href="thread.html#9283">[ thread ]</a>
              <a href="subject.html#9283">[ subject ]</a>
              <a href="author.html#9283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
