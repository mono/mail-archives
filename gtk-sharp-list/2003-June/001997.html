<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Timers &amp; GLib.Timeout, passing arguments?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:matt.williams%40OrbisUK.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001996.html">
   <LINK REL="Next"  HREF="001998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Timers &amp; GLib.Timeout, passing arguments?
   </H1>
    <B>Matt Williams
    </B> 
    <A HREF="mailto:matt.williams%40OrbisUK.com"
       TITLE="[Gtk-sharp-list] Timers &amp; GLib.Timeout, passing arguments?">matt.williams@OrbisUK.com
       </A><BR>
    <I>04 Jun 2003 15:47:44 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="001996.html">[Gtk-sharp-list] TreeView Selection CurrentIter
</A></li>
        <LI> Next message: <A HREF="001998.html">[Gtk-sharp-list] Timers &amp; GLib.Timeout, passing arguments?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1997">[ date ]</a>
              <a href="thread.html#1997">[ thread ]</a>
              <a href="subject.html#1997">[ subject ]</a>
              <a href="author.html#1997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm having some trouble working out how to implement timers correctly. 
I'm quite new to GTK#/C#, so I may have missed something fundamental.

What I have at the moment is a GUI that opens a socket to a server and
based on messages it receives draws various things to a Gnome.Canvas. 
This all works ok so far.

The problem is now that I need have some kind of animation on the
canvas, my plan was to do this with timers, however I've run into some
difficulties.

I've tried various timers, System.Timers, System.Threading, etc. but
have eventually settled on GLib.Timeout.

My problem is that I can't figure out the correct way of passing
arguments through the event loop.  The code is pretty small..

I add a timeout event in the following way:

public class SomeClass
{

    public void ProcessMessage ()
    {
        ....
        GLib.Timeout.Add(1000, new GLib.TimeoutHandler(DoSomin));
        ....
    {

    public bool DoSomin ()
    {
        // do something to the canvas
    }
}

If the handler is not static then I have the problem that I'm not sure
how to handle the case when the object and thus the instance of the
handler is destroyed.

If the handler *is* static then this overcomes the previous problem, but
I can't pass any data to the handler, for example which object on the
display to update.

Thanks in advance

matt

-- 
Matt Williams
Orbis


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001996.html">[Gtk-sharp-list] TreeView Selection CurrentIter
</A></li>
	<LI> Next message: <A HREF="001998.html">[Gtk-sharp-list] Timers &amp; GLib.Timeout, passing arguments?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1997">[ date ]</a>
              <a href="thread.html#1997">[ thread ]</a>
              <a href="subject.html#1997">[ subject ]</a>
              <a href="author.html#1997">[ author ]</a>
         </LI>
       </UL>
</body></html>
