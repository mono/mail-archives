<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Associate user data object with a widget
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Associate%20user%20data%20object%20with%20a%20widget&In-Reply-To=94cdd26f0911260337s76a149b8he95c37ace9f4e519%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009936.html">
   <LINK REL="Next"  HREF="009940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Associate user data object with a widget</H1>
    <B>Chris Howie</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Associate%20user%20data%20object%20with%20a%20widget&In-Reply-To=94cdd26f0911260337s76a149b8he95c37ace9f4e519%40mail.gmail.com"
       TITLE="[Gtk-sharp-list] Associate user data object with a widget">cdhowie at gmail.com
       </A><BR>
    <I>Thu Nov 26 06:49:45 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009936.html">[Gtk-sharp-list] Associate user data object with a widget
</A></li>
        <LI>Next message: <A HREF="009940.html">[Gtk-sharp-list] Associate user data object with a widget
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9937">[ date ]</a>
              <a href="thread.html#9937">[ thread ]</a>
              <a href="subject.html#9937">[ subject ]</a>
              <a href="author.html#9937">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Nov 26, 2009 at 6:37 AM, Chuck Esterbrook
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">chuck.esterbrook at gmail.com</A>&gt; wrote:
&gt;&gt;<i> The reason that the &quot;user data&quot; mechanism is marked obsolete is
</I>&gt;&gt;<i> because it's completely the wrong way to model something like this and
</I>&gt;&gt;<i> usually creates more problems than it solves.
</I>&gt;<i>
</I>&gt;<i> Putting a value in a hashtable owned by an object isn't much different
</I>&gt;<i> than putting a value in a variable owned by the object. In fact, some
</I>&gt;<i> languages like Python even store their object variables using a
</I>&gt;<i> hashtable!
</I>
Comparing Python to a tag/data property is comparing apples and
oranges, see below.

&gt;<i> There are several GUI framework authors who think user data is okay
</I>&gt;<i> given that GUI libs tend to have this feature including GTK+,
</I>&gt;<i> WinForms, WPF and Silverlight. See also:
</I>&gt;<i> <A HREF="http://stackoverflow.com/questions/1058635/common-uses-for-the-tag-property">http://stackoverflow.com/questions/1058635/common-uses-for-the-tag-property</A>
</I>&gt;<i>
</I>&gt;<i> I've used this technique in other GUI libs without experiencing a
</I>&gt;<i> single problem. It's just an alternate way to stash data in an
</I>&gt;<i> existing object.
</I>
The main problems with this approach are type safety and collisions.
In the case of winforms, where each control has a Tag property, you
are making a decision when you use that property that you are only
ever going to use it for one thing.  This may be ok for you, but I
find it rather unsettling.  Especially in the case of an extensible
program, where you might be throwing controls around between host and
addin, who is to say who gets control of the Tag property?

Perhaps you might consider it paranoid, but I simply consider the
usage of general data properties on UI widgets to be bad design.  If
you must use a property, then subclass the widget.  You will not only
avoid any obnoxious data-control issues but you get a typed property.

I find that most uses of Tag in winforms is due to its complete lack
of any kind of MVC architecture.  If you write your own on top of the
winforms API (which I have done, and boy is it nicer to work with)
then your need for any Tag property vanishes in a puff of
proper-OO-design smoke.

And no, throwing random properties on a Python object is easy, but
it's still not a terribly good idea except for rapid prototyping.  You
are assuming that future versions of that class are not going to use
whatever property name you pick.  Granted you could come up with a
namespace prefix to avoid collisions, but it's still not a very good
approach.

My two cents...

-- 
Chris Howie
<A HREF="http://www.chrishowie.com">http://www.chrishowie.com</A>
<A HREF="http://en.wikipedia.org/wiki/User:Crazycomputers">http://en.wikipedia.org/wiki/User:Crazycomputers</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009936.html">[Gtk-sharp-list] Associate user data object with a widget
</A></li>
	<LI>Next message: <A HREF="009940.html">[Gtk-sharp-list] Associate user data object with a widget
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9937">[ date ]</a>
              <a href="thread.html#9937">[ thread ]</a>
              <a href="subject.html#9937">[ subject ]</a>
              <a href="author.html#9937">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
