<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] GTK# Window Display Issue Outside of Main.cs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Re%3A%20%5BGtk-sharp-list%5D%20GTK%23%20Window%20Display%20Issue%20Outside%20of%20Main.cs&In-Reply-To=%3CCAJ4UPsnqe%3De3h_2AGfAYMRCXedjmMP-VUfsB1eO2x2oj3rgvAw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011149.html">
   <LINK REL="Next"  HREF="011151.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] GTK# Window Display Issue Outside of Main.cs</H1>
    <B>Gustavo Rubio</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Re%3A%20%5BGtk-sharp-list%5D%20GTK%23%20Window%20Display%20Issue%20Outside%20of%20Main.cs&In-Reply-To=%3CCAJ4UPsnqe%3De3h_2AGfAYMRCXedjmMP-VUfsB1eO2x2oj3rgvAw%40mail.gmail.com%3E"
       TITLE="[Gtk-sharp-list] GTK# Window Display Issue Outside of Main.cs">gustavo at 42ideas.mx
       </A><BR>
    <I>Wed Nov  7 01:37:28 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011149.html">[Gtk-sharp-list] GTK# Window Display Issue Outside of Main.cs
</A></li>
        <LI>Next message: <A HREF="011151.html">[Gtk-sharp-list] GTK#3 (was: Re: GTK# Window Display Issue Outside	of Main.cs)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11150">[ date ]</a>
              <a href="thread.html#11150">[ thread ]</a>
              <a href="subject.html#11150">[ subject ]</a>
              <a href="author.html#11150">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Speaking of, are there any binaries of GTK# 2.99 available?

On Tue, Nov 6, 2012 at 6:53 PM, Andres G. Aragoneses &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">knocte at gmail.com</A>&gt;wrote:

&gt;<i> And a good tool to fix what just Joe brought up is:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://github.com/slluis/gui-**thread-check&lt;https://github.com/slluis/gui-thread-check">https://github.com/slluis/gui-**thread-check&lt;https://github.com/slluis/gui-thread-check</A>&gt;
</I>&gt;<i>
</I>&gt;<i> This tool will, furthermore, be bundled by default in the next 2.99.1
</I>&gt;<i> release (so one more incentive to upgrade ).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 06/11/12 22:37, Joe Dluzen wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Though I haven't run your code, my first guess would be threading
</I>&gt;&gt;<i> issues. As with practically all GUI toolkits, components are not only
</I>&gt;&gt;<i> not threadsafe, but code doing anything with the components must be
</I>&gt;&gt;<i> invoked on the same thread, please see here:
</I>&gt;&gt;<i> <A HREF="http://www.mono-project.com/**Responsive_Applications&lt;http://www.mono-project.com/Responsive_Applications">http://www.mono-project.com/**Responsive_Applications&lt;http://www.mono-project.com/Responsive_Applications</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In the code you have not posted, is anything started on new threads, or
</I>&gt;&gt;<i> on the threadpool? If so, you'd need to Invoke() any and all update code
</I>&gt;&gt;<i> to the GUI thread. All speculation right now, sorry.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Joe
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Tue, Nov 6, 2012 at 2:36 PM, Johnnie Odom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">jodom at escambia.k12.fl.us</A>
</I>&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">jodom at escambia.k12.fl.</A>**us &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">jodom at escambia.k12.fl.us</A>&gt;&gt;&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Hello Everyone,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     This is my first day on the mailing list, and as it is I have a
</I>&gt;&gt;<i>     question regarding some odd behavior I am encountering.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I am writing an application on OS X 10.8 using C#, Mono 2.10.9 and
</I>&gt;&gt;<i>     MonoDevelop 3.0.4 (including the Designer views) that makes some
</I>&gt;&gt;<i>     simple changes to LDAP. As part of it, I decided to get fancy with
</I>&gt;&gt;<i>     GTK#. All is going well, except for one behavior.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I have created a window class to display a progress bar and stop
</I>&gt;&gt;<i>     button. I have further created a function in this class to update
</I>&gt;&gt;<i>     the progress bar with a fraction and text message. In my code, I
</I>&gt;&gt;<i>     create a new instance of this window class when real work is
</I>&gt;&gt;<i>     happening in another class, and then populate it after every ten
</I>&gt;&gt;<i>     iterations of a foreach loop.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     My problem is that when the window is created FROM THE CLASS DOING
</I>&gt;&gt;<i>     REAL WORK, it displays neither the progress bar widget, nor the
</I>&gt;&gt;<i>     button. It displays only the window title and then white space
</I>&gt;&gt;<i>     below. Only this window displays this behavior -- several other
</I>&gt;&gt;<i>     windows that I create over the course of the application all display
</I>&gt;&gt;<i>     appropriately.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     If I instead create the progress bar window in Main.cs and call
</I>&gt;&gt;<i>     Show(), it will display just fine. I can even call the function to
</I>&gt;&gt;<i>     set its status from Main.cs and it will display correctly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I have tried creating the window in Main.cs and passing it to the
</I>&gt;&gt;<i>     class that does the real work later. I have tried creating it in
</I>&gt;&gt;<i>     other classes besides the one that does the work. In all cases the
</I>&gt;&gt;<i>     behavior is the same -- if the window is created and used solely in
</I>&gt;&gt;<i>     Main.cs it will display fine, but if it it ever invoked or created
</I>&gt;&gt;<i>     from anywhere else (whether or not it is created in another class or
</I>&gt;&gt;<i>     in Main.cs) it will display incorrectly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I have taken to using the debugger and break points to isolate the
</I>&gt;&gt;<i>     behavior. If I set a breakpoint immediately after the window is
</I>&gt;&gt;<i>     created, it is still blank -- that is, I do not think it is a case
</I>&gt;&gt;<i>     that the window is just not keeping pace with any updates I am
</I>&gt;&gt;<i>     sending. I have also compared the various values of the window
</I>&gt;&gt;<i>     objects and attributes when it is displayed (created and used solely
</I>&gt;&gt;<i>     in Main.cs) and when it is not (displayed in any other class) and
</I>&gt;&gt;<i>     they seem to be identical.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     So, I am at a loss, and I would appreciate any advice you might give.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I can send any code you think would prove useful, but for now I am
</I>&gt;&gt;<i>     sending you the class where I am trying to call the window, and the
</I>&gt;&gt;<i>     contents of the window's code-behind.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Thank you for any guidance you can give.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Johnnie Odom
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Network Services
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     School District of Escambia County
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     ****************
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     The function from the calling class:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     public string radiazerMain(string radiazerGroup, string
</I>&gt;&gt;<i>     radiazerProfile){
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Progression MarathonBar = new Progression();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     MarathonBar.Show();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     string monologger = &quot;&quot;;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     string lastLine = &quot;Radiazer completed current run.&quot; +
</I>&gt;&gt;<i>     Environment.NewLine;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Array usersToModify = getGroupMembers(radiazerGroup)**;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     string[] radiusAttribs = new
</I>&gt;&gt;<i>     string[]{&quot;dialupAccess&quot;,&quot;**radiusArapFeatures&quot;,&quot;**
</I>&gt;&gt;<i> radiusArapSecurity&quot;,&quot;**radiusArapZoneAccess&quot;,&quot;**radiusAuthType&quot;,&quot;**
</I>&gt;&gt;<i> radiusCallbackId&quot;,&quot;**radiusCallbackNumber&quot;,&quot;**radiusCalledStationId&quot;,&quot;**
</I>&gt;&gt;<i> radiusCallingStationId&quot;,&quot;**radiusCheckItem&quot;,&quot;radiusClass&quot;**
</I>&gt;&gt;<i> ,&quot;radiusClientIPAddress&quot;,&quot;**radiusExpiration&quot;,&quot;**radiusFilterId&quot;,&quot;**
</I>&gt;&gt;<i> radiusFramedAppleTalkLink&quot;,&quot;**radiusFramedAppleTalkNetwork&quot;,**
</I>&gt;&gt;<i> &quot;radiusFramedAppleTalkZone&quot;,&quot;**radiusFramedCompression&quot;,&quot;**
</I>&gt;&gt;<i> radiusFramedIPAddress&quot;,&quot;**radiusFramedIPNetmask&quot;,&quot;**
</I>&gt;&gt;<i> radiusFramedIPXNetwork&quot;,&quot;**radiusFramedMTU&quot;,&quot;**radiusFramedProtocol&quot;,&quot;**
</I>&gt;&gt;<i> radiusFramedRoute&quot;,&quot;**radiusFramedRouting&quot;,&quot;**
</I>&gt;&gt;<i> radiusGroupName&quot;,&quot;radiusHint&quot;,**&quot;radiusHuntgroupName&quot;,&quot;**
</I>&gt;&gt;<i> radiusIdleTimeout&quot;,&quot;**radiusLoginIPHost&quot;,&quot;**radiusLoginLATGroup&quot;,&quot;**
</I>&gt;&gt;<i> radiusLoginLATNode&quot;,&quot;**radiusLoginLATPort&quot;,&quot;**radiusLoginLATService&quot;,&quot;**
</I>&gt;&gt;<i> radiusLoginService&quot;,&quot;**radiusLoginTCPPort&quot;,&quot;**radiusLoginTime&quot;,&quot;**
</I>&gt;&gt;<i> radiusPasswordRetry&quot;,&quot;**radiusPortLimit&quot;,&quot;**radiusProfileDn&quot;,&quot;**
</I>&gt;&gt;<i> radiusPrompt&quot;,&quot;**radiusProxyToRealm&quot;,&quot;**radiusRealm&quot;,&quot;**
</I>&gt;&gt;<i> radiusReplicateToRealm&quot;,&quot;**radiusReplyItem&quot;,&quot;**radiusServiceType&quot;,&quot;**
</I>&gt;&gt;<i> radiusSessionTimeout&quot;
</I>&gt;&gt;<i>
</I>&gt;<i> ,
</I>&gt;<i> &quot;radiusSimultaneousUse&quot;,&quot;**radiusStripUserName&quot;,&quot;**
</I>&gt;<i> radiusTerminationAction&quot;,&quot;**radiusTunnelAssignmentId&quot;,&quot;**
</I>&gt;<i> radiusTunnelClientEndpoint&quot;,&quot;**radiusTunnelMediumType&quot;,&quot;**
</I>&gt;<i> radiusTunnelPassword&quot;,&quot;**radiusTunnelPreference&quot;,&quot;**
</I>&gt;<i> radiusTunnelPrivateGroupId&quot;,&quot;**radiusTunnelServerEndpoint&quot;,&quot;**
</I>&gt;<i> radiusTunnelType&quot;,&quot;**radiusUserCategory&quot;,&quot;**radiusVSA&quot;};
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     LdapAttributeSet profileTemplate =
</I>&gt;&gt;<i>     LdapAttributeSetFiltered(**radiazerProfile, radiusAttribs);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     profileTemplate.Add(new LdapAttribute(&quot;**radiusProfileDn&quot;,
</I>&gt;&gt;<i>     radiazerProfile));
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     int totalUsersCount = usersToModify.Length;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     int currentUserCount = 0;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     int errorCount = 0;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     MarathonBar.Show();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     foreach(string userToModify in usersToModify){
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     currentUserCount++;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     try{
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     monologger = monologger + radiazeModifyUser(**userToModify,
</I>&gt;&gt;<i>     profileTemplate);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     catch(LdapException LdapFailure){
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     monologger = monologger + &quot;User &quot; + userToModify + &quot; failed. Error
</I>&gt;&gt;<i>     is &quot; + LdapFailure.ToString() + Environment.NewLine;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     errorCount++;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     if(((currentUserCount % 10) == 0) || ((totalUsersCount -
</I>&gt;&gt;<i>     currentUserCount) &lt; 10)){
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     MarathonBar.setProgress(((**double)currentUserCount /
</I>&gt;&gt;<i>     totalUsersCount), totalUsersCount , currentUserCount, errorCount,
</I>&gt;&gt;<i>     userToModify);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     if(MarathonBar.cancelFromUser)**{
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     lastLine = &quot;Radiazer cancelled by user.&quot; + Environment.NewLine;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     break;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     MarathonBar.Destroy();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     monologger = monologger + lastLine;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     return monologger;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     *************
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     The Code-Behind:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     using System;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     namespace Radiazer2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     public partial class Progression : Gtk.Window
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     public bool cancelFromUser = false;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     public Progression () :
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     base(Gtk.WindowType.Toplevel)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     this.Build ();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     public void setProgress(double fractionOfProgress, int totalUnits,
</I>&gt;&gt;<i>     int finishedUnits, int errorUnits, string finishedUser){
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     this.progressIndicator.**Fraction = fractionOfProgress;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     this.progressIndicator.Text = &quot;Completed &quot; + finishedUnits + &quot; of &quot;
</I>&gt;&gt;<i>     + totalUnits + &quot; with &quot; + errorUnits + &quot; errors. Current user is &quot; +
</I>&gt;&gt;<i>     finishedUser + &quot;.&quot;;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     protected void OnStopUserClicked (object sender, EventArgs e)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     {
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     cancelFromUser = true;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> Gtk-sharp-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">Gtk-sharp-list at lists.ximian.</A>**com&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">Gtk-sharp-list at lists.ximian.com</A>&gt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/**mailman/listinfo/gtk-sharp-**list&lt;http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/**mailman/listinfo/gtk-sharp-**list&lt;http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>&gt;
</I>&gt;<i>
</I>


-- 
*Gustavo Rubio*
MX: (664) 608-0659
US: (619) 502-9192
<A HREF="http://42ideas.mx">http://42ideas.mx</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20121106/de408b94/attachment-0001.html">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20121106/de408b94/attachment-0001.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011149.html">[Gtk-sharp-list] GTK# Window Display Issue Outside of Main.cs
</A></li>
	<LI>Next message: <A HREF="011151.html">[Gtk-sharp-list] GTK#3 (was: Re: GTK# Window Display Issue Outside	of Main.cs)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11150">[ date ]</a>
              <a href="thread.html#11150">[ thread ]</a>
              <a href="subject.html#11150">[ subject ]</a>
              <a href="author.html#11150">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
