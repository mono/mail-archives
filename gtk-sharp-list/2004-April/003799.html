<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] AsyncCallback + Gtk?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tberman%40sevenl.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003798.html">
   <LINK REL="Next"  HREF="003803.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] AsyncCallback + Gtk?
   </H1>
    <B>Todd Berman
    </B> 
    <A HREF="mailto:tberman%40sevenl.net"
       TITLE="[Gtk-sharp-list] AsyncCallback + Gtk?">tberman@sevenl.net
       </A><BR>
    <I>Thu, 08 Apr 2004 15:38:01 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="003798.html">[Gtk-sharp-list] AsyncCallback + Gtk?
</A></li>
        <LI> Next message: <A HREF="003803.html">[Gtk-sharp-list] AsyncCallback + Gtk?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3799">[ date ]</a>
              <a href="thread.html#3799">[ thread ]</a>
              <a href="subject.html#3799">[ subject ]</a>
              <a href="author.html#3799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, i am not sure how you are using gtk, etc, but here is the basic
deal.

You can't touch gtk+ from threads other than the main thread. What
thread notify does is a small trick to get the function you setup to
thread notify running in the main thread. That way you can do gui
interaction from that code. There are other ways to managed this, and
how do you so is up to you. But making sure you are in the main thread
before touching gtk objects is a good thing.

--Todd

On Thu, 2004-08-04 at 15:34 -0400, Matt Eaton wrote:
&gt;<i> I did Gdk.Threads.Init() before Application.Init. Is that correct?
</I>&gt;<i> 
</I>&gt;<i> More importantly (since you don't recommend the first approach), how 
</I>&gt;<i> would you go about using sockets asychronously? I don't see a 
</I>&gt;<i> Gdk.Input.Add and even if I did it wouldn't take Socket.BeginConnect() 
</I>&gt;<i> would it?
</I>&gt;<i> 
</I>&gt;<i> Matt
</I>&gt;<i> 
</I>&gt;<i> Todd Berman wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;You have to be doing Gdk.Threads.Init () for Enter and Leave to be
</I>&gt;<i> &gt;working.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;On the whole, I do *not* recommend using that however, as it has its own
</I>&gt;<i> &gt;issues. Look at using Gtk.ThreadNotify.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;--Todd
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;On Thu, 2004-08-04 at 14:36 -0400, Matt Eaton wrote:
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;I'm porting a windows.forms application to gtk and I'm having some 
</I>&gt;<i> &gt;&gt;problems. I use AsyncCallback's for the network traffic. E.g. connecting 
</I>&gt;<i> &gt;&gt;etc.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;The problem is that the GUI no longer paints after an asynccallback is run.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;I've placed Gdk.Threads.Enter() and Gdk.Threads.Leave() around sections 
</I>&gt;<i> &gt;&gt;of code that interact with Gtk but it doesn't help.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Any ideas?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Thanks,
</I>&gt;<i> &gt;&gt;Matt
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;_______________________________________________
</I>&gt;<i> &gt;&gt;Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
</I>&gt;<i> &gt;&gt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>&gt;<i> &gt;&gt;    
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;_______________________________________________
</I>&gt;<i> &gt;Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
</I>&gt;<i> &gt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003798.html">[Gtk-sharp-list] AsyncCallback + Gtk?
</A></li>
	<LI> Next message: <A HREF="003803.html">[Gtk-sharp-list] AsyncCallback + Gtk?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3799">[ date ]</a>
              <a href="thread.html#3799">[ thread ]</a>
              <a href="subject.html#3799">[ subject ]</a>
              <a href="author.html#3799">[ author ]</a>
         </LI>
       </UL>
</body></html>
