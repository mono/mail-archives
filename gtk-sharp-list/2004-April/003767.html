<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Gnome.Print
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lewing%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003760.html">
   <LINK REL="Next"  HREF="003768.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Gnome.Print
   </H1>
    <B>Larry Ewing
    </B> 
    <A HREF="mailto:lewing%40ximian.com"
       TITLE="[Gtk-sharp-list] Gnome.Print">lewing@ximian.com
       </A><BR>
    <I>Mon, 05 Apr 2004 08:31:27 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="003760.html">[Gtk-sharp-list] RE: Gtk-sharp-list digest, Vol 1 #460 - 6 msgs
</A></li>
        <LI> Next message: <A HREF="003768.html">[Gtk-sharp-list] Gnome.Print
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3767">[ date ]</a>
              <a href="thread.html#3767">[ thread ]</a>
              <a href="subject.html#3767">[ subject ]</a>
              <a href="author.html#3767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-RQv4DpvsYfwdQFPc8HN6
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

I was playing with the Gnome.Print bindings a while a ago and ran into
the problem that it was impossible to print images.  After a looking
into it a little I've come up with a couple of possible patches and I'm
wondering where to proceed from here.

The first patch changes the generators signature so that it is possible
to use the *image functions.  The second one adds a Print.Pixbuf method
and imports the *image functions with a different signature since
Pixbuf.Pixels is a pointer type.  I guess I'm wondering where to go from
here.

--Larry

--=-RQv4DpvsYfwdQFPc8HN6
Content-Disposition: attachment; filename=Meta.diff
Content-Type: text/plain; name=Meta.diff; charset=ISO-8859-15
Content-Transfer-Encoding: 7bit

Index: ChangeLog
===================================================================
RCS file: /mono/gtk-sharp/ChangeLog,v
retrieving revision 1.729
diff -u -p -r1.729 ChangeLog
--- ChangeLog	5 Apr 2004 16:18:18 -0000	1.729
+++ ChangeLog	5 Apr 2004 21:33:40 -0000
@@ -1,3 +1,8 @@
+2004-04-05  Larry Ewing  &lt;<A HREF="mailto:lewing@ximian.com">lewing@ximian.com</A>&gt;
+
+	* gnome/Gnome.metadata: Make data an array type so that the image
+	functions can be used.
+
 2004-04-04  Mike Kestner  &lt;<A HREF="mailto:mkestner@ximian.com">mkestner@ximian.com</A>&gt;
 
 	* pango/Layout.custom : increment an indexer. thanks to Moritz Balz
Index: gnome/Gnome.metadata
===================================================================
RCS file: /mono/gtk-sharp/gnome/Gnome.metadata,v
retrieving revision 1.7
diff -u -p -r1.7 Gnome.metadata
--- gnome/Gnome.metadata	12 Feb 2004 22:38:43 -0000	1.7
+++ gnome/Gnome.metadata	5 Apr 2004 21:33:40 -0000
@@ -11,6 +11,8 @@
   &lt;attr path=&quot;/api/namespace/class[@cname='GnomePrint_']/method/*/*[@name='in']&quot; name=&quot;type&quot;&gt;const-gchar*&lt;/attr&gt;
   &lt;attr path=&quot;/api/namespace/class[@cname='GnomePrint_']/method/*/*[@name='text']&quot; name=&quot;type&quot;&gt;const-gchar*&lt;/attr&gt;
   &lt;attr path=&quot;/api/namespace/class[@cname='GnomePrint_']/method/*/*[@name='name']&quot; name=&quot;type&quot;&gt;const-gchar*&lt;/attr&gt;
+  &lt;attr path=&quot;/api/namespace/class[@cname='GnomePrint_']/method/*/*[@name='data']&quot; name=&quot;type&quot;&gt;const-guchar&lt;/attr&gt;
+  &lt;attr path=&quot;/api/namespace/class[@cname='GnomePrint_']/method/*/*[@name='data']&quot; name=&quot;array&quot;&gt;1&lt;/attr&gt;
   &lt;attr path=&quot;/api/namespace/object[@cname='GnomeAbout']/constructor[@cname='gnome_about_new']/*/*[@type='const-gchar**']&quot; name=&quot;array&quot;&gt;1&lt;/attr&gt;
   &lt;attr path=&quot;/api/namespace/object[@cname='GnomeAbout']/constructor[@cname='gnome_about_new']/*/*[@name='logo_pixbuf']&quot; name=&quot;null_ok&quot;&gt;1&lt;/attr&gt;
   &lt;attr path=&quot;/api/namespace/object[@cname='GnomeAppBar']/signal[@name='ClearPrompt']&quot; name=&quot;name&quot;&gt;PromptCleared&lt;/attr&gt;

--=-RQv4DpvsYfwdQFPc8HN6
Content-Disposition: attachment; filename=Pixbuf.diff
Content-Type: text/plain; name=Pixbuf.diff; charset=ISO-8859-15
Content-Transfer-Encoding: 7bit

Index: ChangeLog
===================================================================
RCS file: /mono/gtk-sharp/ChangeLog,v
retrieving revision 1.729
diff -u -p -r1.729 ChangeLog
--- ChangeLog	5 Apr 2004 16:18:18 -0000	1.729
+++ ChangeLog	5 Apr 2004 21:32:15 -0000
@@ -1,3 +1,8 @@
+2004-04-05  Larry Ewing  &lt;<A HREF="mailto:lewing@ximian.com">lewing@ximian.com</A>&gt;
+
+	* gnome/Print.custom: add Print.Pixbuf to avoid the need for an
+	unsafe interface.
+
 2004-04-04  Mike Kestner  &lt;<A HREF="mailto:mkestner@ximian.com">mkestner@ximian.com</A>&gt;
 
 	* pango/Layout.custom : increment an indexer. thanks to Moritz Balz
Index: gnome/Makefile.am
===================================================================
RCS file: /mono/gtk-sharp/gnome/Makefile.am,v
retrieving revision 1.2
diff -u -p -r1.2 Makefile.am
--- gnome/Makefile.am	3 Apr 2004 05:12:17 -0000	1.2
+++ gnome/Makefile.am	5 Apr 2004 21:32:15 -0000
@@ -62,6 +62,7 @@ customs =					\
 	IconList.custom				\
 	IconTextItem.custom			\
 	IconTheme.custom			\
+	Print.custom				\
 	PrintDialog.custom			\
 	PrintJob.custom				\
 	Program.custom

--=-RQv4DpvsYfwdQFPc8HN6--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003760.html">[Gtk-sharp-list] RE: Gtk-sharp-list digest, Vol 1 #460 - 6 msgs
</A></li>
	<LI> Next message: <A HREF="003768.html">[Gtk-sharp-list] Gnome.Print
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3767">[ date ]</a>
              <a href="thread.html#3767">[ thread ]</a>
              <a href="subject.html#3767">[ subject ]</a>
              <a href="author.html#3767">[ author ]</a>
         </LI>
       </UL>
</body></html>
