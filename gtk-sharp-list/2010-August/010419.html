<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] GTk# dynamic treeview population
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20GTk%23%20dynamic%20treeview%20population&In-Reply-To=AANLkTi%3D6VNWGZu%3D80U4psCv42PdkcxJqLmjFw_RmkF_Z%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010414.html">
   <LINK REL="Next"  HREF="010415.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] GTk# dynamic treeview population</H1>
    <B>Rampage</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20GTk%23%20dynamic%20treeview%20population&In-Reply-To=AANLkTi%3D6VNWGZu%3D80U4psCv42PdkcxJqLmjFw_RmkF_Z%40mail.gmail.com"
       TITLE="[Gtk-sharp-list] GTk# dynamic treeview population">atomikramp at email.it
       </A><BR>
    <I>Tue Aug 10 13:39:59 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010414.html">[Gtk-sharp-list] GTk# dynamic treeview population
</A></li>
        <LI>Next message: <A HREF="010415.html">[Gtk-sharp-list] No Designer Tab with C# GTK project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10419">[ date ]</a>
              <a href="thread.html#10419">[ thread ]</a>
              <a href="subject.html#10419">[ subject ]</a>
              <a href="author.html#10419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Michael Hutchinson ha scritto:
&gt;<i> On Mon, Aug 9, 2010 at 7:58 PM, Rampage &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">atomikramp at email.it</A>&gt; wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Hello everyone, i have a question about populating treeviews.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> i was following this tutorial:
</I>&gt;&gt;<i> <A HREF="http://www.mono-project.com/GtkSharp_TreeView_Tutorial">http://www.mono-project.com/GtkSharp_TreeView_Tutorial</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> and there is a part of the article that explains how to populate a tree.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The problem is that as it's explained in that tutorial, it looks like i have
</I>&gt;&gt;<i> to define the tree structure immediatelly before rendering it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> i was wondering: is there a way to populate the tree dynamically?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> what i mean is:
</I>&gt;&gt;<i> try to expand a node
</I>&gt;&gt;<i> an event is triggered and a method is called
</I>&gt;&gt;<i> the method returns me a list of eventually available children
</I>&gt;&gt;<i> if the returned value is not null, append the values to the parent
</I>&gt;&gt;<i> else if the returned value is null: that node doesn't have children
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Yes, there is an event on the TreeView:
</I>&gt;<i> <A HREF="http://go-mono.com/docs/index.aspx?link=E:Gtk.TreeView.TestExpandRow">http://go-mono.com/docs/index.aspx?link=E:Gtk.TreeView.TestExpandRow</A>
</I>&gt;<i>
</I>&gt;<i> In an eventhandler for that event, you can inspect the treestore and
</I>&gt;<i> add any rows needed.
</I>&gt;<i>
</I>&gt;<i>   
</I>I've tried playing around with that event and when i click on the + near 
a node it triggers the event.

but my scenario is pretty different, here i explain.

i have a method that forks a process.
This method returns me with an array of structures that is like
Structure[i].name
Structure[i].id

at this point everything seems ok, since if i create a root node i can 
append some values to it from that array of structure.
like this

   1.
                      Gtk.TreeIter iter = dirtreestore.AppendValues(&quot;test&quot;);
   2.
       
   3.
                      for(int i = 0; i &lt; prova.Length; i++)
   4.
                      {
   5.
                              dirtreestore.AppendValues(iter,
      prova[i].sFileName);
   6.
                      }
   7.
       

i cut a part of code but also the id is added into an hidden column so 
that i can use it for my purposes.
now comes the hard part (for me)
couse if i pass the id to the process i've forked before, it returns me 
with another array of structures similar to first one, and this values 
are children of the node with that id.

it's pretty complex with my bad english for me to explain it in detail

but let's say that i would like to:
if i click on the + near an element of the treeview
the id value of that element (wich is in the hidden column) is passed to 
my method to return me a new list of items that i want to append to the 
node i've tried to expand.
but till i run the command i don't know if i'll have any output to append.

hope i was clear enaugh.

Thanks for the help.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010414.html">[Gtk-sharp-list] GTk# dynamic treeview population
</A></li>
	<LI>Next message: <A HREF="010415.html">[Gtk-sharp-list] No Designer Tab with C# GTK project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10419">[ date ]</a>
              <a href="thread.html#10419">[ thread ]</a>
              <a href="subject.html#10419">[ subject ]</a>
              <a href="author.html#10419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
