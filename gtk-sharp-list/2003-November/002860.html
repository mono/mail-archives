<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] A simple xsl stylsheet to help glade users
 with the required c# code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tpsoftware%40users.sourceforge.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002884.html">
   <LINK REL="Next"  HREF="002861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] A simple xsl stylsheet to help glade users
 with the required c# code
   </H1>
    <B>Timohy Parez
    </B> 
    <A HREF="mailto:tpsoftware%40users.sourceforge.net"
       TITLE="[Gtk-sharp-list] A simple xsl stylsheet to help glade users
 with the required c# code">tpsoftware@users.sourceforge.net
       </A><BR>
    <I>Fri, 21 Nov 2003 11:35:29 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="002884.html">[Gtk-sharp-list] need help with TextBuffers and TextIters
</A></li>
        <LI> Next message: <A HREF="002861.html">[Gtk-sharp-list] GnomeDb sample doesn't compile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2860">[ date ]</a>
              <a href="thread.html#2860">[ thread ]</a>
              <a href="subject.html#2860">[ subject ]</a>
              <a href="author.html#2860">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-HMtmoZR1+q/k0TTMC7gz
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Oh :-)

I'll include it as an attachment.

Timothy.

--=-HMtmoZR1+q/k0TTMC7gz
Content-Disposition: attachment; filename=glade2csharp.xsl
Content-Type: text/xml; name=glade2csharp.xsl; charset=
Content-Transfer-Encoding: 7bit

&lt;?xml version='1.0'?&gt;&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform"">http://www.w3.org/1999/XSL/Transform&quot;</A>&gt;
&lt;!--

GLADEC#Sheet v1.0.0.0, Copyright Timothy Parez (c) 2003
A xsl stylesheet to generate C# code from glade files.

This program is free software
You can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation
Either version 2 of the License, or (at your option) any later version.
This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY
Without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.


TODO: Add support for gnome widgets


 --&gt;
&lt;xsl:template match=&quot;/&quot;&gt;
 &lt;b&gt;// GladeApp.cs&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
 &lt;table border=&quot;0&quot;&gt;
  &lt;tr&gt;
   &lt;td width=&quot;70px&quot;&gt;&lt;/td&gt;
   &lt;td width=&quot;70px&quot;&gt;&lt;/td&gt;
   &lt;td width=&quot;70px&quot;&gt;&lt;/td&gt;
   &lt;td width=&quot;270px&quot;&gt;&lt;/td&gt;
   &lt;td width=&quot;270px&quot;&gt;&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
   &lt;td colspan=&quot;5&quot;&gt;namespace GladeApp&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
   &lt;td colspan=&quot;5&quot;&gt;{&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;using System;&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;using Gtk;&lt;/td&gt;
  &lt;/tr&gt;

  &lt;!-- No Support for Gnome Widgets yet
  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;using Gnome;&lt;/td&gt;
  &lt;/tr&gt;
  --&gt;

  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;using Glade;&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;using GtkSharp;&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;&lt;br/&gt;public class MyApplication&lt;br/&gt;{&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td/&gt;
  &lt;td/&gt;
  &lt;td colspan=&quot;3&quot;&gt;static void Main()&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td/&gt;
  &lt;td/&gt;
  &lt;td colspan=&quot;3&quot;&gt;{&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td/&gt;
  &lt;td/&gt;
  &lt;td/&gt;
  &lt;td colspan=&quot;2&quot;&gt;MyApplication MyApp = new MyApplication();               
  &lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td/&gt;
  &lt;td/&gt;
  &lt;td colspan=&quot;3&quot;&gt;}&lt;/td&gt;
  &lt;/tr&gt;  
  
  &lt;tr&gt;
  &lt;td colspan=&quot;5&quot;&gt;&lt;br/&gt;&lt;/td&gt;
  &lt;/tr&gt;  
  
  &lt;!-- Constructor --&gt;
  
  &lt;tr&gt;
  &lt;td/&gt;
  &lt;td/&gt;
  &lt;td colspan=&quot;3&quot;&gt;public MyApplication()&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td/&gt;
  &lt;td/&gt;
  &lt;td colspan=&quot;3&quot;&gt;{&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td/&gt;
  &lt;td/&gt;
  &lt;td/&gt;
  &lt;td colspan=&quot;2&quot;&gt;Application.Init();&lt;br/&gt;&lt;br/&gt;
  &lt;xsl:for-each select=&quot;//widget[@class='GtkWindow']&quot;&gt;
  &lt;xsl:value-of select=&quot;@id&quot;/&gt;&lt;xsl:text&gt; &lt;/xsl:text&gt;window&lt;xsl:number/&gt;&lt;xsl:text&gt; &lt;/xsl:text&gt;=&lt;xsl:text&gt; &lt;/xsl:text&gt;new&lt;xsl:text&gt; &lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;@id&quot;/&gt;();&lt;br/&gt;&lt;br/&gt;
  &lt;/xsl:for-each&gt;
  Application.Run();                  
  &lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td/&gt;
  &lt;td/&gt;
  &lt;td colspan=&quot;3&quot;&gt;}&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;  
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;}&lt;/td&gt;
  &lt;/tr&gt;
  
  &lt;tr&gt;
  &lt;td colspan=&quot;4&quot;&gt;}&lt;/td&gt;
  &lt;/tr&gt;
  
 &lt;/table&gt;
 &lt;br/&gt;
 &lt;hr/&gt;
 &lt;br/&gt;

 &lt;!-- The GTK windows --&gt;
 &lt;xsl:for-each select=&quot;//widget[@class='GtkWindow']&quot;&gt;
 &lt;b&gt;// &lt;xsl:value-of select=&quot;@id&quot;/&gt;.cs&lt;/b&gt;&lt;br/&gt;
 &lt;table border=&quot;0&quot;&gt;
  &lt;tr&gt;
   &lt;td width=&quot;70px&quot;&gt;&lt;/td&gt;
   &lt;td width=&quot;70px&quot;&gt;&lt;/td&gt;
   &lt;td width=&quot;70px&quot;&gt;&lt;/td&gt;
   &lt;td width=&quot;270px&quot;&gt;&lt;/td&gt;
   &lt;td width=&quot;270px&quot;&gt;&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
   &lt;td colspan=&quot;5&quot;&gt;namespace GladeApp&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
   &lt;td colspan=&quot;5&quot;&gt;{&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;using System;&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;using Gtk;&lt;/td&gt;
  &lt;/tr&gt;

  &lt;!-- No support for Gnome Widgets yet
  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;using Gnome;&lt;/td&gt;
  &lt;/tr&gt;
  --&gt;

  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;using Glade;&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;using GtkSharp;&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;4&quot;&gt;&lt;br/&gt;public class &lt;xsl:value-of select=&quot;@id&quot;/&gt;&lt;br/&gt;{&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
   &lt;td&gt;&lt;/td&gt;
   &lt;td&gt;&lt;/td&gt;
   &lt;td colspan=&quot;3&quot;&gt;
    &lt;xsl:variable name=&quot;test-value&quot; select=&quot;substring(@class,4,string-length(@class) - 3)&quot;/&gt;
    [Glade.Widget]&lt;br/&gt;
    &lt;xsl:if test=&quot;$test-value='Window'&quot;&gt;
		Window&lt;xsl:text&gt; &lt;/xsl:text&gt;Inner&lt;xsl:value-of select=&quot;@id&quot;/&gt;;
    &lt;/xsl:if&gt;
    &lt;xsl:if test=&quot;not($test-value='Window')&quot;&gt;
   		&lt;xsl:value-of select=&quot;$test-value&quot;/&gt;&lt;xsl:text&gt; &lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;@id&quot;/&gt;;
    &lt;/xsl:if&gt;
    &lt;br/&gt;&lt;xsl:apply-templates select=&quot;child&quot;/&gt;
   &lt;/td&gt;
  &lt;/tr&gt;

  &lt;!-- Constructor --&gt;
  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;3&quot;&gt;&lt;br/&gt;public &lt;xsl:value-of select=&quot;@id&quot;/&gt;()&lt;br/&gt;{&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;2&quot;&gt;

  Glade.XML gxml&lt;xsl:number/&gt; = new Glade.XML(&quot;gladeapp.glade&quot;,&quot;&lt;xsl:value-of select=&quot;@id&quot;/&gt;&quot;,null);&lt;br/&gt;
  gxml&lt;xsl:number/&gt;.Autoconnect(this);

  &lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;3&quot;&gt;}&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;3&quot;&gt;&lt;xsl:apply-templates select=&quot;.//signal&quot;/&gt;&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td&gt;&lt;/td&gt;
  &lt;td colspan=&quot;3&quot;&gt;}&lt;/td&gt;
  &lt;/tr&gt;

  &lt;tr&gt;
  &lt;td colspan=&quot;4&quot;&gt;}&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

  &lt;br/&gt;
  &lt;hr/&gt;
  &lt;br/&gt;
 &lt;/xsl:for-each&gt;
&lt;/xsl:template&gt;

&lt;xsl:template match=&quot;child&quot;&gt;&lt;xsl:apply-templates select=&quot;widget&quot;/&gt;&lt;/xsl:template&gt;

&lt;xsl:template match=&quot;widget&quot;&gt;&lt;br/&gt;
		[Glade.Widget]&lt;br/&gt;
                &lt;xsl:value-of select=&quot;substring(@class,4,string-length(@class) - 3)&quot;/&gt;&lt;xsl:text&gt; &lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;@id&quot;/&gt;;&lt;br/&gt;
		&lt;xsl:apply-templates select=&quot;child&quot;/&gt;
&lt;/xsl:template&gt;

&lt;xsl:template match=&quot;signal&quot;&gt;
		&lt;br/&gt;public void &lt;xsl:value-of select=&quot;@handler&quot;/&gt;(System.Object obj, EventArgs e)&lt;br/&gt;
		{&lt;br/&gt;&lt;br/&gt;
		}&lt;br/&gt;
&lt;/xsl:template&gt; 

&lt;/xsl:stylesheet&gt;

--=-HMtmoZR1+q/k0TTMC7gz--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002884.html">[Gtk-sharp-list] need help with TextBuffers and TextIters
</A></li>
	<LI> Next message: <A HREF="002861.html">[Gtk-sharp-list] GnomeDb sample doesn't compile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2860">[ date ]</a>
              <a href="thread.html#2860">[ thread ]</a>
              <a href="subject.html#2860">[ subject ]</a>
              <a href="author.html#2860">[ author ]</a>
         </LI>
       </UL>
</body></html>
