<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] generator processes fields even though they are hidden
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mwh%40sysrq.dk">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002844.html">
   <LINK REL="Next"  HREF="002807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] generator processes fields even though they are hidden
   </H1>
    <B>Martin Willemoes Hansen
    </B> 
    <A HREF="mailto:mwh%40sysrq.dk"
       TITLE="[Gtk-sharp-list] generator processes fields even though they are hidden">mwh@sysrq.dk
       </A><BR>
    <I>Tue, 11 Nov 2003 13:28:05 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="002844.html">[Gtk-sharp-list] Doc weirdness for Gnome.CanvasPixbuf |
 Question: Gnome.CanvasPixbuf in Gnome.Canvase
</A></li>
        <LI> Next message: <A HREF="002807.html">[Gtk-sharp-list] generator processes fields even though they
 are hidden
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2803">[ date ]</a>
              <a href="thread.html#2803">[ thread ]</a>
              <a href="subject.html#2803">[ subject ]</a>
              <a href="author.html#2803">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-+Ewvxz+dXQmHpn15l+nO
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hi!

In some cases, when fields are processed by the generator, they are not
checked if they have a hidden attribute attached. 
This patch fixes the problem.

Okay to commit?
-- 
Martin Willemoes Hansen

--------------------------------------------------------
E-Mail	<A HREF="mailto:mwh@sysrq.dk">mwh@sysrq.dk</A>	Website	mwh.sysrq.dk
IRC     MWH, freenode.net
--------------------------------------------------------               


--=-+Ewvxz+dXQmHpn15l+nO
Content-Disposition: attachment; filename=FieldsIsProcessedWhenHiddenBugFix.diff
Content-Type: text/x-patch; name=FieldsIsProcessedWhenHiddenBugFix.diff; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

? FieldsIsProcessedWhenHiddenBugFix.diff
? sources/gstreamer-0.4.2
Index: ChangeLog
===================================================================
RCS file: /cvs/public/gtk-sharp/ChangeLog,v
retrieving revision 1.548
diff -u -r1.548 ChangeLog
--- ChangeLog	7 Nov 2003 18:14:34 -0000	1.548
+++ ChangeLog	11 Nov 2003 12:24:32 -0000
@@ -1,3 +1,8 @@
+2003-11-11  Martin Willemoes Hansen  &lt;<A HREF="mailto:mwh@sysrq.dk">mwh@sysrq.dk</A>&gt;
+
+	* generator/StructBase.cs: If a member has a hidden attribute then
+	  it will not be processed.
+
 2003-11-07  Mike Kestner  &lt;<A HREF="mailto:mkestner@ximian.com">mkestner@ximian.com</A>&gt;
 
 	* configure.in : add mono check.  expand wrapper scripts
Index: generator/StructBase.cs
===================================================================
RCS file: /cvs/public/gtk-sharp/generator/StructBase.cs,v
retrieving revision 1.41
diff -u -r1.41 StructBase.cs
--- generator/StructBase.cs	28 Oct 2003 15:45:35 -0000	1.41
+++ generator/StructBase.cs	11 Nov 2003 12:24:33 -0000
@@ -25,6 +25,8 @@
 
 				if (!(node is XmlElement)) continue;
 				XmlElement member = (XmlElement) node;
+				if (member.HasAttribute (&quot;hidden&quot;))
+					continue;
 
 				switch (node.Name) {
 				case &quot;field&quot;:

--=-+Ewvxz+dXQmHpn15l+nO--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002844.html">[Gtk-sharp-list] Doc weirdness for Gnome.CanvasPixbuf |
 Question: Gnome.CanvasPixbuf in Gnome.Canvase
</A></li>
	<LI> Next message: <A HREF="002807.html">[Gtk-sharp-list] generator processes fields even though they
 are hidden
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2803">[ date ]</a>
              <a href="thread.html#2803">[ thread ]</a>
              <a href="subject.html#2803">[ subject ]</a>
              <a href="author.html#2803">[ author ]</a>
         </LI>
       </UL>
</body></html>
