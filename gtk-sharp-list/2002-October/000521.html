<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] SelectionData &amp; presistent data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:vladimir%40pobox.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000519.html">
   <LINK REL="Next"  HREF="000523.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] SelectionData &amp; presistent data
   </H1>
    <B>Vladimir Vukicevic
    </B> 
    <A HREF="mailto:vladimir%40pobox.com"
       TITLE="[Gtk-sharp-list] SelectionData &amp; presistent data">vladimir@pobox.com
       </A><BR>
    <I>Wed, 30 Oct 2002 22:56:20 -0800 (PST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000519.html">[Gtk-sharp-list] Problem/bug using gtk# event handlers
</A></li>
        <LI> Next message: <A HREF="000523.html">[Gtk-sharp-list] SelectionData &amp; presistent data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#521">[ date ]</a>
              <a href="thread.html#521">[ thread ]</a>
              <a href="subject.html#521">[ subject ]</a>
              <a href="author.html#521">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hmm.  Not sure what the right way to solve this is.  When dealing with
a Gtk.SelectionData struct, such as the one that's passed to a
ClipboardGetFunction, I need to call set_data or set_text on the
struct with a piece of data whose pointer gets stored in the struct.

However, when I call sd.Text = &quot;abc&quot; (which calls
gtk_selection_data_set_text (&quot;abc&quot;, 3)), the string &quot;abc&quot; I believe
exists only for the duration of that function call.  The pointer that
gets stored in the struct thus becomes bogus, and the real data isn't
ever really available.

What's the right way to do this?  Do we need something like a C#
wrapper around g_memdup and g_free for creating little persistent
chunks of data like this?

       - Vlad


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000519.html">[Gtk-sharp-list] Problem/bug using gtk# event handlers
</A></li>
	<LI> Next message: <A HREF="000523.html">[Gtk-sharp-list] SelectionData &amp; presistent data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#521">[ date ]</a>
              <a href="thread.html#521">[ thread ]</a>
              <a href="subject.html#521">[ subject ]</a>
              <a href="author.html#521">[ author ]</a>
         </LI>
       </UL>
</body></html>
