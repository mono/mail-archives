<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] ThreadNotify: The saga continues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pbaena%40uol.com.ar">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000430.html">
   <LINK REL="Next"  HREF="000497.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] ThreadNotify: The saga continues
   </H1>
    <B>Pablo Baena
    </B> 
    <A HREF="mailto:pbaena%40uol.com.ar"
       TITLE="[Gtk-sharp-list] ThreadNotify: The saga continues">pbaena@uol.com.ar
       </A><BR>
    <I>24 Oct 2002 10:01:29 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="000430.html">[Gtk-sharp-list] ThreadNotify
</A></li>
        <LI> Next message: <A HREF="000497.html">[Gtk-sharp-list] ThreadNotify: The saga continues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#490">[ date ]</a>
              <a href="thread.html#490">[ thread ]</a>
              <a href="subject.html#490">[ subject ]</a>
              <a href="author.html#490">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-Pik6N6M5I6wRG403nS17
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hello!

I've been using Gtk# for a while now, got the usual stumbling blocks but
ultimately everything fits together. However, I have come to realize
something that I think is annoying from the point of view of a user.
That is, ThreadNotify. I've used it for a while and it served its
purpose very well for some time. When my small project got a little
bigger and I made a little heavier use of threads for the different
tasks, my code just started to became uglier and uglier, and just
because I had to use ThreadNotify everytime I needed to make the
smallest change to the widgets.

I was wondering if there is a plan to make the libraries thread safe,
not in the sense of insert mutexes for everything in Gtk (something I
think is the responsability of the user), but to allow getting the job
done without ThreadNotify.

So far, this is the only issue that I have encountered when dealing with
Gtk# programming for which I haven't found a workaround, and I think is
the only one that will annoy the most to the people starting to use it.
Just something I think should be in the wishlist.

Pablo


On Thu, 2002-10-10 at 11:08, Michael Meeks wrote:

    Hi Vlad,
    
    On Thu, 2002-10-10 at 07:27, Vladimir Vukicevic wrote:
    &gt; Basically, in ThreadNotify, when a thread is to be &quot;notified&quot;, a byte is
    &gt; written to a fd.  There's a GIO event waiting for data to be available
    &gt; on that pipe,and when there is, the byte is consumed, and the user
    &gt; callback is called.
    
    	I don't quite understand what the problem is, beyond the fact that the
    threads are de-coupled. Ultimately (surely) - depending on how long the
    processing code is that handles the event in the main-thread, many
    events can pile up being pushed from the other thread.
    
    	If you want to block the other thread while waiting for the main-loop
    to process the request; then I assume you want a different sort of
    locking primitive. Surely making all notifications block the notifier is
    not a good model ;-)
    
    	Ultimately surely, in any threaded world - notifications should contain
    either no state, or sufficient state for the listener to act; since
    subsequent fetches of state from the object may result in odd effects
    (?).
    
    	Confuseldly,
    
    		Michael.
    
    -- 
     <A HREF="mailto:mmeeks@gnu.org">mmeeks@gnu.org</A>  &lt;&gt;&lt;, Pseudo Engineer, itinerant idiot
    
    
    _______________________________________________
    Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@ximian.com">Gtk-sharp-list@ximian.com</A>

<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>

    

--=-Pik6N6M5I6wRG403nS17
Content-Type: text/html; charset=utf-8

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 TRANSITIONAL//EN&quot;&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
  &lt;META HTTP-EQUIV=&quot;Content-Type&quot; CONTENT=&quot;text/html; CHARSET=UTF-8&quot;&gt;
  &lt;META NAME=&quot;GENERATOR&quot; CONTENT=&quot;GtkHTML/1.0.4&quot;&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
Hello!
&lt;BR&gt;

&lt;BR&gt;
I've been using Gtk# for a while now, got the usual stumbling blocks but ultimately everything fits together. However, I have come to realize something that I think is annoying from the point of view of a user. That is, ThreadNotify. I've used it for a while and it served its purpose very well for some time. When my small project got a little bigger and I made a little heavier use of threads for the different tasks, my code just started to became uglier and uglier, and just because I had to use ThreadNotify everytime I needed to make the smallest change to the widgets.
&lt;BR&gt;

&lt;BR&gt;
I was wondering if there is a plan to make the libraries thread safe, not in the sense of insert mutexes for everything in Gtk (something I think is the responsability of the user), but to allow getting the job done without ThreadNotify.
&lt;BR&gt;

&lt;BR&gt;
So far, this is the only issue that I have encountered when dealing with Gtk# programming for which I haven't found a workaround, and I think is the only one that will annoy the most to the people starting to use it. Just something I think should be in the wishlist.
&lt;BR&gt;

&lt;BR&gt;
Pablo
&lt;BR&gt;

&lt;BR&gt;

&lt;BR&gt;
On Thu, 2002-10-10 at 11:08, Michael Meeks wrote:
    &lt;BLOCKQUOTE&gt;
&lt;PRE&gt;&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;Hi Vlad,&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;On Thu, 2002-10-10 at 07:27, Vladimir Vukicevic wrote:&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&amp;gt; Basically, in ThreadNotify, when a thread is to be &amp;quot;notified&amp;quot;, a byte is&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&amp;gt; written to a fd.  There's a GIO event waiting for data to be available&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&amp;gt; on that pipe,and when there is, the byte is consumed, and the user&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&amp;gt; callback is called.&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;	I don't quite understand what the problem is, beyond the fact that the&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;threads are de-coupled. Ultimately (surely) - depending on how long the&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;processing code is that handles the event in the main-thread, many&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;events can pile up being pushed from the other thread.&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;	If you want to block the other thread while waiting for the main-loop&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;to process the request; then I assume you want a different sort of&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;locking primitive. Surely making all notifications block the notifier is&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;not a good model ;-)&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;	Ultimately surely, in any threaded world - notifications should contain&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;either no state, or sufficient state for the listener to act; since&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;subsequent fetches of state from the object may result in odd effects&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;(?).&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;	Confuseldly,&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;		Michael.&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;-- &lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt; <A HREF="mailto:mmeeks@gnu.org">mmeeks@gnu.org</A>  &amp;lt;&amp;gt;&amp;lt;, Pseudo Engineer, itinerant idiot&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;_______________________________________________&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;
&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@ximian.com">Gtk-sharp-list@ximian.com</A>&lt;/FONT&gt;&lt;/FONT&gt;&lt;/I&gt;&lt;/PRE&gt;
    &lt;/BLOCKQUOTE&gt;
&lt;A HREF=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list"">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list&quot;</A>&gt;&lt;FONT SIZE=&quot;3&quot;&gt;&lt;I&gt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</FONT">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list&lt;/FONT</A>&gt;&lt;/I&gt;&lt;/A&gt;
    &lt;BLOCKQUOTE&gt;
&lt;PRE&gt;&lt;/PRE&gt;
    &lt;/BLOCKQUOTE&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;

--=-Pik6N6M5I6wRG403nS17--



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000430.html">[Gtk-sharp-list] ThreadNotify
</A></li>
	<LI> Next message: <A HREF="000497.html">[Gtk-sharp-list] ThreadNotify: The saga continues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#490">[ date ]</a>
              <a href="thread.html#490">[ thread ]</a>
              <a href="subject.html#490">[ subject ]</a>
              <a href="author.html#490">[ author ]</a>
         </LI>
       </UL>
</body></html>
