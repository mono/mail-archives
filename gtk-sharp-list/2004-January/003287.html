<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Is anybody running gst-sharp?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jgarcia%40ac.upc.es">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003286.html">
   <LINK REL="Next"  HREF="003288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Is anybody running gst-sharp?
   </H1>
    <B>jgarcia@ac.upc.es
    </B> 
    <A HREF="mailto:jgarcia%40ac.upc.es"
       TITLE="[Gtk-sharp-list] Is anybody running gst-sharp?">jgarcia@ac.upc.es
       </A><BR>
    <I>Sat, 31 Jan 2004 18:54:20 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="003286.html">[Gtk-sharp-list] Does Gtk.Dialog respond to Hide()?
</A></li>
        <LI> Next message: <A HREF="003288.html">[Gtk-sharp-list] Is anybody running gst-sharp?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3287">[ date ]</a>
              <a href="thread.html#3287">[ thread ]</a>
              <a href="subject.html#3287">[ subject ]</a>
              <a href="author.html#3287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi folks, 

I'm trying to get gst-sharp working and it doesn't wants to play.
My question is if someone has achieved it and if there is any how-to.

Thanks!

Jorge


These are the steps I have made:

1) I have installed mono 0.29 from from tar.gz package in a Madrake 9.2 with
gstreamer-0.6.3 libs and plugins over ~/local

Gstreamer works propery:
gst-launch filesrc location=song.mp3 ! spider ! osssink 


2) 
export MONO_ROOT=~/local
export MANPATH=$MANPATH:$MONO_ROOT/man
export PATH=$PATH:$MONO_ROOT/bin
export PKG_CONFIG_PATH=$MONO_ROOT/lib/pkgconfig/


3) I have installed gtk-sharp-0.14 with gstreamer adding gst to the
Makefile.in:
DIRS= [...] gst

gst-sharp.dll and the other libs are installed in ~/local/lib

4) I have installed monodoc-0.8 and it works ok

5)  I'm proving gst-sharp with next program:

//  A simple audio player equivalent to execute:
//  gst-launch filesrc location=song.mp3 ! spider ! osssink 
//  From an example of Alp Toker

using GLib;
using System;
using Gst;

public class GstTest
{
static void Main(string[] args)
{
Application.Init ();

Pipeline bin = new Pipeline(&quot;pipeline&quot;);

Element filesrc = ElementFactory.Make (&quot;filesrc&quot;, &quot;disk_source&quot;);
filesrc.SetProperty (&quot;location&quot;, new GLib.Value (args[0]));

Element decoder = ElementFactory.Make (&quot;spider&quot;, &quot;multi_decoder&quot;);
Element osssink = ElementFactory.Make (&quot;osssink&quot;, &quot;soundcard&quot;);

bin.Add (filesrc);
bin.Add (decoder);
bin.Add (osssink);

filesrc.Link(decoder);
decoder.Link(osssink);

bin.SetState (ElementState.Playing);

while (bin.Iterate ());

bin.SetState (ElementState.Null);
}
}


6) Compile with mcs -r:gst-sharp.dll -r:glib-sharp GstPlayer.cs

7) Running with mono GstPlayer.exe song.mp3 there is this problem:

** (GstPlayer.exe:3305): WARNING **: Failed to load library ./libgstreamer.so
(gstreamer): ./libgstreamer.so: cannot open shared object file: No such file or
directory

Solved with:
ln -s /usr/lib/libgstreamer-0.6.so.0.1.0 /usr/lib/libgstreamer.so


8) And finally I execute the program. No sound is eared and it exits directly. 

mono GstPlayer.exe song.mp3
INFO ( 3471: 0) Initializing GStreamer Core Library version 0.6.3
INFO ( 3471: 0) CPU features: (0c040882) MMX SSE
INFO ( 3471: 0) registry: loaded user_registry in 0,000200 seconds
          (/home/jorge/.gstreamer/registry.xml)
INFO ( 3471: 0) registry: loaded global_registry in 0,114823 seconds
          (/var/cache/gstreamer-0.6/registry.xml)




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003286.html">[Gtk-sharp-list] Does Gtk.Dialog respond to Hide()?
</A></li>
	<LI> Next message: <A HREF="003288.html">[Gtk-sharp-list] Is anybody running gst-sharp?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3287">[ date ]</a>
              <a href="thread.html#3287">[ thread ]</a>
              <a href="subject.html#3287">[ subject ]</a>
              <a href="author.html#3287">[ author ]</a>
         </LI>
       </UL>
</body></html>
