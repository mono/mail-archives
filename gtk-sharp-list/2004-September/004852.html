<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Draging text/uri from external app to widget
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:boo%40youfuckingbitch.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="004851.html">
   <LINK REL="Next"  HREF="004854.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Draging text/uri from external app to widget
   </H1>
    <B>ub
    </B> 
    <A HREF="mailto:boo%40youfuckingbitch.com"
       TITLE="[Gtk-sharp-list] Draging text/uri from external app to widget">boo@youfuckingbitch.com
       </A><BR>
    <I>Sun, 19 Sep 2004 19:05:11 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="004851.html">[Gtk-sharp-list] Fixing for delegate issue (crashes in Mono HEAD with MonoDevelop,
 F-Spot and others).
</A></li>
        <LI> Next message: <A HREF="004854.html">[Gtk-sharp-list] Draging text/uri from external app to widget
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4852">[ date ]</a>
              <a href="thread.html#4852">[ thread ]</a>
              <a href="subject.html#4852">[ subject ]</a>
              <a href="author.html#4852">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi list!
i am trying to drag some link from firefox/konq into my gui, but i dont 
seem to get it to work.i am messing around with this stuff all day; ok 
so here's what i've tried:

textview1.DragDataReceived += new DragDataReceivedHandler (on_drop);

void on_drop(object o, DragDataReceivedArgs args){
    Console.WriteLine(&quot;stuff got dropped&quot;);
}

also tried that with DragDataDrop, DragEnd, kinda every Drag* handler, 
on almost every widget in the gui, but on_drop() never fired. i figured 
i'd need to add Drag.DestSet method.  i downloaded f-spot source 
(<A HREF="http://www.gnome.org/projects/f-spot/">http://www.gnome.org/projects/f-spot/</A>) where it seems to work (kinda), 
so i added

private static TargetEntry [] icon_source_target_table = new TargetEntry 
[] {
        new TargetEntry (&quot;application/x-fspot-photos&quot;, 0, (uint) 
TargetType.PhotoList), 
        new TargetEntry (&quot;text/uri-list&quot;, 0, (uint) 
TargetType.UriList),  //i really have no clue what this does
    };
// TargetTypeis an enum containing some lists, they dont get used before 
a handler is called, still tried to add/modify them - didnt help.
Gtk.Drag.DestSet (textview, DestDefaults.All, icon_dest_target_table,
                  DragAction.Copy | DragAction.Move); //copy/paste from 
MainWindow.cs - f-spot-0.0.2

again i tried almost every possible constelation of widget - drag*, but 
no luck. now im kinda fed up with bruteforcing (this is very frustrating 
by now) ;(
btw, yes - i read the tutorial at gtk.org and the mono documentation, 
but i still have no clue how to do a simple drop operation. would be 
nice if someone could explain how i get a widget to except drops from an 
external app (any help is appreciated).

Thanks,
Ulrich


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004851.html">[Gtk-sharp-list] Fixing for delegate issue (crashes in Mono HEAD with MonoDevelop,
 F-Spot and others).
</A></li>
	<LI> Next message: <A HREF="004854.html">[Gtk-sharp-list] Draging text/uri from external app to widget
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4852">[ date ]</a>
              <a href="thread.html#4852">[ thread ]</a>
              <a href="subject.html#4852">[ subject ]</a>
              <a href="author.html#4852">[ author ]</a>
         </LI>
       </UL>
</body></html>
