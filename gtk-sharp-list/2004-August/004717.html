<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Dynamically populating a TreeStore
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="004707.html">
   <LINK REL="Next"  HREF="004719.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Dynamically populating a TreeStore
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Gtk-sharp-list] Dynamically populating a TreeStore">jonpryor@vt.edu
       </A><BR>
    <I>Tue, 17 Aug 2004 20:15:58 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="004707.html">[Gtk-sharp-list] Dynamically populating a TreeStore
</A></li>
        <LI> Next message: <A HREF="004719.html">[Gtk-sharp-list] Dynamically populating a TreeStore
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4717">[ date ]</a>
              <a href="thread.html#4717">[ thread ]</a>
              <a href="subject.html#4717">[ subject ]</a>
              <a href="author.html#4717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2004-08-17 at 07:38, Chris Ridd wrote:
&lt;snip/&gt;
&gt;<i> &gt; You can also look at Type Reflector (Mono CVS module: type-reflector) in
</I>&gt;<i> &gt; displayers/gtk/GtkTypeDisplayer.cs.  Look at the TreeCell class and the
</I>&gt;<i> &gt; OnRenderCellText() function.
</I>&gt;<i> 
</I>&gt;<i> Ah, very useful. You seem to be adding parent entries into your TreeStore
</I>&gt;<i> with dummy child entries and when the row is expanded you remove the dummy
</I>&gt;<i> and add real children.
</I>
Correct.

&gt;<i> Presumably the dummy entry's there to fool the view into displaying the
</I>&gt;<i> twisty triangle?
</I>
Also correct.

&gt;<i> That would probably *nearly* work for me, except that my nodes might not
</I>&gt;<i> have children when they're expanded, but I don't really want to lose the
</I>&gt;<i> twisty in case children are added later on.
</I>
Simple solution: don't remove the &quot;dummy&quot; children. :-)

Of course, the problem with that is then people will expand your row and
see your dummy children, which probably isn't desirable.

Solution: capture the RowExpanded event (as I did), and if you didn't
add any children, call Gtk.TreeView.CollapseRow() to explicitly collapse
the row.  (In other words, do the opposite of what I do -- CollapseRow()
instead of ExpandRow().)  This should keep the arrows present while
preventing the user from seeing your dummy nodes.

Or, figure out how to display the disclosure triangles without having
any children present.  I failed in that task, hence my use of &quot;dummy&quot;
children.

 - Jon



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004707.html">[Gtk-sharp-list] Dynamically populating a TreeStore
</A></li>
	<LI> Next message: <A HREF="004719.html">[Gtk-sharp-list] Dynamically populating a TreeStore
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4717">[ date ]</a>
              <a href="thread.html#4717">[ thread ]</a>
              <a href="subject.html#4717">[ subject ]</a>
              <a href="author.html#4717">[ author ]</a>
         </LI>
       </UL>
</body></html>
