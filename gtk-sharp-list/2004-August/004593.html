<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] TreeView Help Needed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tome%40users.ossm.org.mk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=koi8-r">
   <LINK REL="Previous"  HREF="004592.html">
   <LINK REL="Next"  HREF="004599.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] TreeView Help Needed
   </H1>
    <B>Томислав  Марковски
    </B> 
    <A HREF="mailto:tome%40users.ossm.org.mk"
       TITLE="[Gtk-sharp-list] TreeView Help Needed">tome@users.ossm.org.mk
       </A><BR>
    <I>Fri, 06 Aug 2004 23:28:26 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="004592.html">[Gtk-sharp-list] TreeView Help Needed
</A></li>
        <LI> Next message: <A HREF="004599.html">[Gtk-sharp-list] TreeView Help Needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4593">[ date ]</a>
              <a href="thread.html#4593">[ thread ]</a>
              <a href="subject.html#4593">[ subject ]</a>
              <a href="author.html#4593">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-9AkzImvfNVRrElvrQo+u
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On =D0=BF=D0=B5=D1=82, 2004-08-06 at 22:55, Mario Carrion wrote:
&gt;<i> There's an example at monodoc, it was useful for me.
</I>
Kaya sent me an example file which was very helpful. Thanks Kaya. I'm
attaching that file in case anyone else needs it. So, I figured that
out, and I'm moving on to the more challenging stuff. I need to make a
tree structure, just like the monodoc class listing. I only need one
level of nesting the items, if you understand what I mean.
Ex.

+Group 1
  |--Element in group 1
  |--Another element
+Group 2
  |--Element in group 2

and so on...

Any pointers on this one?
I've already made a big progress and would like to finish what I've
started.
Thanks again for your help.

Tomislav

--=-9AkzImvfNVRrElvrQo+u
Content-Disposition: attachment; filename=tvclick.cs
Content-Type: text/x-csharp; name=tvclick.cs; charset=us-ascii
Content-Transfer-Encoding: 7bit

// Mario Fuentes &lt;<A HREF="mailto:mario@gnome.cl">mario@gnome.cl</A>&gt;
// Release under GNU/GPL license.
 
namespace Samples {
	using System;
	using Gdk;
	using Gtk;
	
	public class TVClick {
		public static int Main (string [] args)
		{
			new TVClick ();
			
			return 0;
		}

		Gtk.Window win;
		Menu menu = null;

		public TVClick ()
		{
			Application.Init ();

			win = new Gtk.Window (Gtk.WindowType.Toplevel);
			win.DeleteEvent += new DeleteEventHandler (DeleteEventCb);
			win.Title = &quot;Context Menus on Right Click sample&quot;;

			ListStore model = new ListStore (typeof (Pixbuf), typeof (string));

			Pixbuf icon = win.RenderIcon (Stock.Home, IconSize.LargeToolbar, null);
			
			for (int i = 1; i &lt; 10; i++)
			{
				model.AppendValues (icon, &quot;&lt;b&gt;Elemento &quot; + i + &quot;&lt;/b&gt;\nFila &quot; + i);
			}
			
			TreeView tv = new TreeView (model);
			// Add two Columns, a Image and a Label
			tv.AppendColumn (&quot;Icon&quot;, new CellRendererPixbuf (), &quot;pixbuf&quot;, 0);		
			TreeViewColumn column = new TreeViewColumn (&quot;Text&quot;,
					new CellRendererText (), &quot;markup&quot;, 1);			
			column.Clickable = true;
			column.Clicked += new EventHandler (ColumnClickedCb);			
			tv.AppendColumn (column);
			
			// Connect signals for mouse button press and popup menu
			tv.ButtonPressEvent += new ButtonPressEventHandler (ButtonPressCb);
			tv.PopupMenu += new PopupMenuHandler (PopupMenuCb);

			win.Add (tv);

			win.ShowAll ();

			Application.Run ();
		}

		void PopupMenu (EventButton ev)
		{
			Console.WriteLine (&quot;Popup Menu!&quot;);
			
			if (menu == null)
			{
				menu = new Menu ();
				AccelGroup group = new AccelGroup ();
				ImageMenuItem item;
	
				item = new ImageMenuItem (Stock.Add, group);
				menu.Append (item);
				item = new ImageMenuItem (Stock.Remove, group);
				menu.Append (item);			
			}
			
			menu.ShowAll ();
			menu.Popup (null, null, null, IntPtr.Zero,
					(ev != null) ? ev.Button : 0, (ev != null) ? ev.Time : 0);
		}

		[GLib.ConnectBefore]	
		void ButtonPressCb (object o, ButtonPressEventArgs args)
		{			
			Console.WriteLine (&quot;Pressed button {0}&quot;, args.Event.Button);
			
			switch (args.Event.Button)
			{
				case 3:
					PopupMenu (args.Event);
					break;
			}		
		}

		void PopupMenuCb (object o, PopupMenuArgs args)
		{
			Console.WriteLine (&quot;Popup Menu Called!&quot;);
			PopupMenu (null);
		}

		void DeleteEventCb (object o, DeleteEventArgs args)
		{
			Application.Quit ();
			args.RetVal = true;
		}

		void ColumnClickedCb (object o, EventArgs args)
		{
			Console.WriteLine (&quot;Column Clicked!&quot;);
		}
	}
}

--=-9AkzImvfNVRrElvrQo+u--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004592.html">[Gtk-sharp-list] TreeView Help Needed
</A></li>
	<LI> Next message: <A HREF="004599.html">[Gtk-sharp-list] TreeView Help Needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4593">[ date ]</a>
              <a href="thread.html#4593">[ thread ]</a>
              <a href="subject.html#4593">[ subject ]</a>
              <a href="author.html#4593">[ author ]</a>
         </LI>
       </UL>
</body></html>
