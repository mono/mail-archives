<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] How to validate input on Gtk.Dialog?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20How%20to%20validate%20input%20on%20Gtk.Dialog%3F&In-Reply-To=dd99b8c80509080636455d0201%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006375.html">
   <LINK REL="Next"  HREF="006380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] How to validate input on Gtk.Dialog?</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20How%20to%20validate%20input%20on%20Gtk.Dialog%3F&In-Reply-To=dd99b8c80509080636455d0201%40mail.gmail.com"
       TITLE="[Gtk-sharp-list] How to validate input on Gtk.Dialog?">monoman at gmail.com
       </A><BR>
    <I>Thu Sep  8 09:42:28 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="006375.html">[Gtk-sharp-list] How to validate input on Gtk.Dialog?
</A></li>
        <LI>Next message: <A HREF="006380.html">[Gtk-sharp-list] Re: How to validate input on Gtk.Dialog?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6377">[ date ]</a>
              <a href="thread.html#6377">[ thread ]</a>
              <a href="subject.html#6377">[ subject ]</a>
              <a href="author.html#6377">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Small clarification:

I use Glade and a wrapping class generator and windowWidget is of type
Gtk.Dialog.

:<i>)
</I>

On 9/8/05, Rafael Teixeira &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">monoman at gmail.com</A>&gt; wrote:
&gt;<i> I normally design a common form (window) and create a Run method somewhat like
</I>&gt;<i> 
</I>&gt;<i> private string password;
</I>&gt;<i> 
</I>&gt;<i> public string Run()
</I>&gt;<i> {
</I>&gt;<i>     try {
</I>&gt;<i>         windowWidget.ShowAll();
</I>&gt;<i>         while (true) {
</I>&gt;<i>             ResponseType response = (ResponseType)windowWidget.Run();
</I>&gt;<i>             if (response == ResponseType.Ok &amp;&amp; validate(password))
</I>&gt;<i>                 break;
</I>&gt;<i>             if (response == ResponseType.Cancel) {
</I>&gt;<i>                 password = null;
</I>&gt;<i>                 break;
</I>&gt;<i>             }
</I>&gt;<i>         }
</I>&gt;<i>     } catch (Exception ex) {
</I>&gt;<i>             password = null;
</I>&gt;<i>     }
</I>&gt;<i>     windowWidget.Hide();
</I>&gt;<i>     return password;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> some event/signal is catched to update the 'password' variable as
</I>&gt;<i> needed, or some code like:
</I>&gt;<i> 
</I>&gt;<i> password = entryPassword.Text;
</I>&gt;<i> 
</I>&gt;<i> can be put before the first 'if'
</I>&gt;<i> 
</I>&gt;<i> :)
</I>&gt;<i> 
</I>&gt;<i> On 9/5/05, Paul Wallimann &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">pwallimann at hotmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; I am still rather new to GTK# and currently struggling with the following:
</I>&gt;<i> &gt; I want to implement a (modal) Login Dialog that only returns to the calling
</I>&gt;<i> &gt; method when the user either hits Cancel or enters the correct password and
</I>&gt;<i> &gt; hits OK. When the user enters the wrong password and hits OK the dialog
</I>&gt;<i> &gt; should remain open.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I thought I could implement this by simply subclassing from Gtk.Dialog.
</I>&gt;<i> &gt; Unfortunately, the dialog gets closed immediately after either of the 2
</I>&gt;<i> &gt; buttons is hit and I have not found a way to execute the validation and
</I>&gt;<i> &gt; keep the dialog open when the password is wrong. Following is my code
</I>&gt;<i> &gt; (using gtk-sharp, Version=2.4.0.0):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; using System;
</I>&gt;<i> &gt; using Gtk;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; namespace Testing
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;         public class LoginDialog : Dialog
</I>&gt;<i> &gt;         {
</I>&gt;<i> &gt;                 public static void Main (string[] args)
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                         Application.Init();
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                         LoginDialog dlg = new LoginDialog();
</I>&gt;<i> &gt;                         dlg.Modal = true;
</I>&gt;<i> &gt;                         int response = dlg.Run();
</I>&gt;<i> &gt;                         Console.WriteLine(&quot;Main: Response was {0}&quot;, (ResponseType)response);
</I>&gt;<i> &gt;                         dlg.Destroy();
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 public LoginDialog()
</I>&gt;<i> &gt;                         : base()
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                         this.AddButton(Stock.Cancel, ResponseType.Cancel);
</I>&gt;<i> &gt;                         this.AddButton(Stock.Ok, ResponseType.Ok);
</I>&gt;<i> &gt;                         this.Response += new ResponseHandler(On_dialog_response);
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt;                 private void On_dialog_response (object obj, ResponseArgs args)
</I>&gt;<i> &gt;         {
</I>&gt;<i> &gt;             Console.WriteLine (&quot;On_dialog_response: args.ResponseId = {0}&quot;,
</I>&gt;<i> &gt; args.ResponseId);
</I>&gt;<i> &gt;             if (args.ResponseId == ResponseType.Ok)
</I>&gt;<i> &gt;                 args.RetVal = false; // keep dialog open
</I>&gt;<i> &gt;         }
</I>&gt;<i> &gt;                 protected override bool OnDeleteEvent(Gdk.Event e)
</I>&gt;<i> &gt;                 {
</I>&gt;<i> &gt;                         // This method is not called. Why?
</I>&gt;<i> &gt;                         Console.WriteLine(&quot;OnDeleteEvent: called&quot;);
</I>&gt;<i> &gt;                         return false;
</I>&gt;<i> &gt;                 }
</I>&gt;<i> &gt;         }
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I would appreciate if someone could tell me how to do it correctly or point
</I>&gt;<i> &gt; me to an appropriate resource on the internet. Thanks in advance.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> &gt; Paul Wallimann
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Gtk-sharp-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">Gtk-sharp-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Rafael &quot;Monoman&quot; Teixeira
</I>&gt;<i> ---------------------------------------
</I>&gt;<i> I'm trying to become a &quot;Rosh Gadol&quot; before my own eyes.
</I>&gt;<i> See <A HREF="http://www.joelonsoftware.com/items/2004/12/06.html">http://www.joelonsoftware.com/items/2004/12/06.html</A> for enlightment.
</I>&gt;<i> It hurts!
</I>&gt;<i> 
</I>

-- 
Rafael &quot;Monoman&quot; Teixeira
---------------------------------------
I'm trying to become a &quot;Rosh Gadol&quot; before my own eyes. 
See <A HREF="http://www.joelonsoftware.com/items/2004/12/06.html">http://www.joelonsoftware.com/items/2004/12/06.html</A> for enlightment.
It hurts!
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006375.html">[Gtk-sharp-list] How to validate input on Gtk.Dialog?
</A></li>
	<LI>Next message: <A HREF="006380.html">[Gtk-sharp-list] Re: How to validate input on Gtk.Dialog?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6377">[ date ]</a>
              <a href="thread.html#6377">[ thread ]</a>
              <a href="subject.html#6377">[ subject ]</a>
              <a href="author.html#6377">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
