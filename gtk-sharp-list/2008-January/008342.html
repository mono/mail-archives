<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Data-Bound TreeView
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Data-Bound%20TreeView&In-Reply-To=c2701f5c0801041731p11c22ff5tec2e065f979e5f6%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008341.html">
   <LINK REL="Next"  HREF="008344.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Data-Bound TreeView</H1>
    <B>Jacek Ruzyczka</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Data-Bound%20TreeView&In-Reply-To=c2701f5c0801041731p11c22ff5tec2e065f979e5f6%40mail.gmail.com"
       TITLE="[Gtk-sharp-list] Data-Bound TreeView">ruzyczka at versanet.de
       </A><BR>
    <I>Sat Jan  5 11:06:54 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008341.html">[Gtk-sharp-list] Preventing Dups In a ListStore
</A></li>
        <LI>Next message: <A HREF="008344.html">[Gtk-sharp-list] Data-Bound TreeView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8342">[ date ]</a>
              <a href="thread.html#8342">[ thread ]</a>
              <a href="subject.html#8342">[ subject ]</a>
              <a href="author.html#8342">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi folks,

for the ongoing effort to develop data-bound Gtk# objects, I have some remark 
when it comes to data-binding a TreeView:

When storing a tree data structure in an RDBMS, you would normally define a 
table like this:

CREATE TABLE treestore (
	id		INTEGER NOT NULL PRIMARY KEY,
	super_id	INTEGER REFERENCES treestore (id) ON DELETE CASCADE,
	name	VARCHAR (35)
);

This means: A line in this table, which has super_id = NULL, represents a root 
node, otherwise it would represent a &quot;branch&quot; (if some other line points at 
it with its super_id entry), or a &quot;leaf&quot; (otherwise).

When pouring such data into the TreeView, you start with root nore #1, then 
with the first child node of root node #1, and so on...recursively. Once you 
have added all leafs, you would return to the level just above it (a node can 
have more than one child) and at last to the root level to continue with root 
#2, if it exists:

+ root_1
+- branch_11
|<i>+- leaf_111
</I>|<i>+- leaf_112
</I>+- branch_12
|<i>+- leaf_121
</I>+ root_2
[...]


Nowadays, you use the TreeView, associate a TreeStore with it as a model, and 
then recursively call the AppendValues() method on the TreeStore, using the 
TreeIter object returned by this method. The two big challenges I have 
expected so far are:

*) The result set must come pre-sorted from the RDBMS (in the manner stated 
above), otherwise my C# app would have to scan through the result set, which 
consumes a lot of client-side computing time. Pre-sorting is easy with two 
hierarchy levels (root, leaf), but with three or four levels, you have to 
rely on stored procedures on RDBMS side, which are normally NOT portable.

*) The TreeIters of all objects have to be stored in a collection and, when 
some node gets a child node, retrieved.

Shall those of you who are now involved in coding the data-bound Gtk# widgets 
use this as a starting point. Comments and questions are, of course, always 
welcome.

Regards
Jacek Ru&#380;yczka
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20080105/fa4de302/attachment.bin">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20080105/fa4de302/attachment.bin</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008341.html">[Gtk-sharp-list] Preventing Dups In a ListStore
</A></li>
	<LI>Next message: <A HREF="008344.html">[Gtk-sharp-list] Data-Bound TreeView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8342">[ date ]</a>
              <a href="thread.html#8342">[ thread ]</a>
              <a href="subject.html#8342">[ subject ]</a>
              <a href="author.html#8342">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
