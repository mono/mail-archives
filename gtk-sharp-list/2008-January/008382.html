<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Tinymail DotNet bindings update
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Tinymail%20DotNet%20bindings%20update&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008386.html">
   <LINK REL="Next"  HREF="008384.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Tinymail DotNet bindings update</H1>
    <B>Philip Van Hoof</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Tinymail%20DotNet%20bindings%20update&In-Reply-To="
       TITLE="[Gtk-sharp-list] Tinymail DotNet bindings update">spam at pvanhoof.be
       </A><BR>
    <I>Wed Jan 30 04:55:56 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008386.html">[Gtk-sharp-list] I can make it crash!
</A></li>
        <LI>Next message: <A HREF="008384.html">[Gtk-sharp-list] Tinymail DotNet bindings update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8382">[ date ]</a>
              <a href="thread.html#8382">[ thread ]</a>
              <a href="subject.html#8382">[ subject ]</a>
              <a href="author.html#8382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

I just committed the DotNet bindings for Tinymail. People who've been
watching Tinymail's trunk might have noticed that I this this yesterday
and the day before already.

Today I completely restructured it, though. I made it more or less the
same as how gtk-sharp itself is structured. This means that each
separate library has its own subdirectory and the Makefile.am includes a
toplevel Makefile.include.

I even copied that Makefile.include from gtk-sharp's toplevel directory
and adapted it (once Gapi is installed, it's not necessary to put the
runtime's executable in front of it, and I had to adjust a few minor
other things too)

You can find the bindings here:

<A HREF="https://svn.tinymail.org/svn/tinymail/trunk/bindings/dotnet/">https://svn.tinymail.org/svn/tinymail/trunk/bindings/dotnet/</A>


They might not be 100% correct. I tried hard to get everything right
immediately but I'm guessing it's not right yet.

For example the libtinymail-platform-sharp for some reason only has
one .cs file in generated. That can't be right. Most of the types that
in the C API only have a constructor also didn't get a .cs file in the
generated directory. If I look at the generated API, a lot is missing.

I have no clue why the codegenerator of gapi is not generating code for
those types. They do seem to be in the -api.xml and .raw files and they
are not slashed in the .metadata files.

The libtinymail-camel-sharp things seem to crash gapi's code generator,
so this one is not in the SUBDIRS of bindings/dotnet/Makefile.am a.t.m.

I'm generating .pc files for the pkgconfig libdir, but they might not be
completely correct. I tried mimicking gtk-sharp's files but I might have
gotten something wrong. I don't know (haven't testing it yet).

The SNK file, the AssemblyInfo.cs file, are all things that I might have
gotten wrong too. I tried copying as much as possible from how gtk-sharp
does all this magic.

I have not yet made .custom files for Tny.List and Tny.Stream. The
reason is that both are GTypeInterface types (interfaces in .NET) and
that adding code in the .custom file only alters the interface. It wont
alter the Adaptor that Gapi generates. So I can't really influence these
interfaces a lot (I can't make them require implementing IList, for
example).

For Tny.Stream I might have to rename the original Tny.Stream to
something else in the .NET binding and make the .NET version of
Tny.Stream inherit from System.IO.Stream. This, is going to be quite
tricky to get it right, I think.

I can really use assistance from the gurus in this channel. Tinymail is
a relatively large library (in terms of API availability) with more
compilation options, possibilities, combinations and switches than Gtk+
has. That's because the project's focus is mobiles and each and every
mobile is typically different from each other mobile.


Anyway .. so here's the skeleton of the binding. All the unpleasant
crappy autotools work is done.

The tweaking of it is something I'm sure a .NET enthusiast is going to
like working on.

<A HREF="https://svn.tinymail.org/svn/tinymail/trunk/bindings/dotnet/">https://svn.tinymail.org/svn/tinymail/trunk/bindings/dotnet/</A>


-- 
Philip Van Hoof, freelance software developer
home: me at pvanhoof dot be 
gnome: pvanhoof at gnome dot org 
<A HREF="http://pvanhoof.be/blog">http://pvanhoof.be/blog</A>
<A HREF="http://codeminded.be">http://codeminded.be</A>

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008386.html">[Gtk-sharp-list] I can make it crash!
</A></li>
	<LI>Next message: <A HREF="008384.html">[Gtk-sharp-list] Tinymail DotNet bindings update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8382">[ date ]</a>
              <a href="thread.html#8382">[ thread ]</a>
              <a href="subject.html#8382">[ subject ]</a>
              <a href="author.html#8382">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
