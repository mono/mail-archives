<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Overloading the AddButton method of the Gtk.Dialog and
 Gtk.MessageDialog
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:spamfrommailing%40freax.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001886.html">
   <LINK REL="Next"  HREF="001880.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Overloading the AddButton method of the Gtk.Dialog and
 Gtk.MessageDialog
   </H1>
    <B>Philip Van Hoof
    </B> 
    <A HREF="mailto:spamfrommailing%40freax.org"
       TITLE="[Gtk-sharp-list] Overloading the AddButton method of the Gtk.Dialog and
 Gtk.MessageDialog">spamfrommailing@freax.org
       </A><BR>
    <I>12 May 2003 04:23:59 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="001886.html">[Gtk-sharp-list] global Shortcut
</A></li>
        <LI> Next message: <A HREF="001880.html">[Gtk-sharp-list] Overloading the AddButton method of the
 Gtk.Dialog and Gtk.MessageDialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1879">[ date ]</a>
              <a href="thread.html#1879">[ thread ]</a>
              <a href="subject.html#1879">[ subject ]</a>
              <a href="author.html#1879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-XfkOwpt1lz8kGqfnmCS5
Content-Type: text/plain
Content-Transfer-Encoding: 7bit


This patch overloads the AddButton method so that you can pass a
Stock-argument in stead of only a string.


Gtk-documentation :
[<A HREF="http://developer.gnome.org/doc/API/2.0/gtk/GtkDialog.html]">http://developer.gnome.org/doc/API/2.0/gtk/GtkDialog.html]</A>

GtkWidget*  gtk_dialog_add_button (GtkDialog *dialog, const gchar
*button_text, gint response_id);

Adds a button with the given text (or a stock button, if button_text is
a stock ID) and sets things up so that clicking the button will emit the
&quot;response&quot; signal with the given response_id. The button is appended to
the end of the dialog's action area. The button widget is returned, but
usually you don't need it.

So this patch implements the &quot;(or a stock button, if button_text is a
stock ID)&quot;-part of that documentation ...


[<A HREF="mailto:root@pluisje">root@pluisje</A> gtk]# cvs diff -u &gt;
	/home/freax/Dialog_AddButton_w_Stock.diff

cvs server: Diffing .
[<A HREF="mailto:root@pluisje">root@pluisje</A> gtk]# pwd
/home/freax/cvs/gtk-sharp/gtk
[<A HREF="mailto:root@pluisje">root@pluisje</A> gtk]#

Usage:

{
  Gtk.Dialog a;

  a = new  Dialog (&quot;test&quot;, win, DialogFlags.Modal);
  a.AddButton(Gtk.Stock.Add, 2);
  a.Run();
}

hf.

-- 
Philip Van Hoof a.k.a. freax
me at freax dot org
<A HREF="http://www.freax.be">http://www.freax.be</A> -- <A HREF="http://www.freax.eu.org">http://www.freax.eu.org</A> -- <A HREF="http://www.freax.org">http://www.freax.org</A>



--=-XfkOwpt1lz8kGqfnmCS5
Content-Disposition: attachment; filename=Dialog_AddButton_w_Stock.diff
Content-Type: text/x-patch; name=Dialog_AddButton_w_Stock.diff; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

Index: Dialog.custom
===================================================================
RCS file: /mono/gtk-sharp/gtk/Dialog.custom,v
retrieving revision 1.3
diff -u -r1.3 Dialog.custom
--- Dialog.custom	22 Feb 2003 04:34:56 -0000	1.3
+++ Dialog.custom	12 May 2003 02:16:51 -0000
@@ -17,6 +17,16 @@
 	Raw = gtk_dialog_new_with_buttons (title, parent.Handle, (int) flags, IntPtr.Zero);
 }
 
+[DllImport(&quot;libgtk-win32-2.0-0.dll&quot;)]
+static extern IntPtr gtk_dialog_add_button(IntPtr raw, Stock s, int response_id);
+
+/// &lt;summary&gt; AddButtons Method &lt;/summary&gt;
+public Gtk.Widget AddButton(Stock s, int response_id) {
+	IntPtr raw_ret = gtk_dialog_add_button(Handle, s, response_id);
+	Gtk.Widget ret = (Gtk.Widget) GLib.Object.GetObject(raw_ret);
+	return ret;
+}
+
 [DllImport(&quot;gtksharpglue&quot;)]
 static extern IntPtr gtksharp_dialog_get_vbox (IntPtr i);
 public Gtk.VBox VBox {
@@ -28,4 +38,3 @@
 public Gtk.VBox ActionArea {
 	get { return new Gtk.VBox (gtksharp_dialog_get_action_area (this.Handle)); }
 }
-

--=-XfkOwpt1lz8kGqfnmCS5--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001886.html">[Gtk-sharp-list] global Shortcut
</A></li>
	<LI> Next message: <A HREF="001880.html">[Gtk-sharp-list] Overloading the AddButton method of the
 Gtk.Dialog and Gtk.MessageDialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1879">[ date ]</a>
              <a href="thread.html#1879">[ thread ]</a>
              <a href="subject.html#1879">[ subject ]</a>
              <a href="author.html#1879">[ author ]</a>
         </LI>
       </UL>
</body></html>
