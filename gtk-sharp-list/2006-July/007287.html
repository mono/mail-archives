<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Object destruction
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Object%20destruction&In-Reply-To=632b2cc0607161138q32d0e211mbfee82c781552ba9%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007283.html">
   <LINK REL="Next"  HREF="007296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Object destruction</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Object%20destruction&In-Reply-To=632b2cc0607161138q32d0e211mbfee82c781552ba9%40mail.gmail.com"
       TITLE="[Gtk-sharp-list] Object destruction">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Sun Jul 16 15:08:15 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007283.html">[Gtk-sharp-list] Object destruction
</A></li>
        <LI>Next message: <A HREF="007296.html">[Gtk-sharp-list] Object destruction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7287">[ date ]</a>
              <a href="thread.html#7287">[ thread ]</a>
              <a href="subject.html#7287">[ subject ]</a>
              <a href="author.html#7287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/16/06, Victor Rafael Rivarola Soerensen (FANATICO y LOCO por
Cristo) &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">vrrivaro at gmail.com</A>&gt; wrote:
&gt;<i> This is not a bug, but a C&#183; fetaure ;-) by design.
</I>&gt;<i>
</I>&gt;<i> Destructors are not called until the memoty is needed. Period.
</I>
Yes, it's called 'nondeterministic finalisation'. The finaliser will
be called, but there is no guarantee *when* it will be called.

&gt;<i> Except the objects which implement the IIsDisposable interface.
</I>&gt;<i>
</I>&gt;<i> Suppose the Gtk.Button class implements this interface (I don't
</I>&gt;<i> remember if it does or doesn't). All you would have to do in your
</I>
Yes, the base class Glib.Object does. There's also the explicit
Gtk.Destroy method (), though that does not work as you might expect.

&gt;<i> program is call the methods:
</I>&gt;<i>
</I>&gt;<i> button.Dispose ();
</I>&gt;<i> wnd.Dispose ();
</I>
I'm not certain about this, but I think that the IDisposable pattern
requires a disposed object to dispose its children, so you may not
need to call button.Dispose ().

Related info: The Dispose method is expected to be called by the
object's finaliser if it is not explicitly called. If it is explicitly
called, then it is expected to suppress the object's finaliser.
C++/CLI implements deterministic finalisation by implementing the
IDisposable pattern behind the scenes. C# also has built in
IDisposable support with the 'using' keyword.

-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007283.html">[Gtk-sharp-list] Object destruction
</A></li>
	<LI>Next message: <A HREF="007296.html">[Gtk-sharp-list] Object destruction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7287">[ date ]</a>
              <a href="thread.html#7287">[ thread ]</a>
              <a href="subject.html#7287">[ subject ]</a>
              <a href="author.html#7287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
