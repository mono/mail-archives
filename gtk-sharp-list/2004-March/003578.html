<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] how to use System.Drawing with gtk-sharp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:borsanza%40terra.es">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="003570.html">
   <LINK REL="Next"  HREF="003579.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] how to use System.Drawing with gtk-sharp
   </H1>
    <B>Borja Sánchez Zamorano
    </B> 
    <A HREF="mailto:borsanza%40terra.es"
       TITLE="[Gtk-sharp-list] how to use System.Drawing with gtk-sharp">borsanza@terra.es
       </A><BR>
    <I>Fri, 05 Mar 2004 16:01:39 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="003570.html">[Gtk-sharp-list] how to use System.Drawing with gtk-sharp
</A></li>
        <LI> Next message: <A HREF="003579.html">[Gtk-sharp-list] how to use System.Drawing with gtk-sharp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3578">[ date ]</a>
              <a href="thread.html#3578">[ thread ]</a>
              <a href="subject.html#3578">[ subject ]</a>
              <a href="author.html#3578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-AVZyPJwbracBVSfZaC2J
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: quoted-printable

Hello Yao Heling, I do it for you:


using Gtk;

public class BasicForm : DrawingArea {
  Window win;
  Gdk.GC gc;
=09
  public static void Main()
  {
    Application.Init ();
    new BasicForm();
    Application.Run ();
  }

  public BasicForm()
  {
    win =3D new Window(&quot;Form&quot;);
    win.Add(this);
    win.ShowAll();
    ExposeEvent +=3D new ExposeEventHandler(OnExposeEvent);
    win.DeleteEvent +=3D new DeleteEventHandler (OnDeleteEvent);
  }
=09
  void OnDeleteEvent (object o, DeleteEventArgs args)
  {
    Application.Quit ();
  }

  void OnExposeEvent(object obj, ExposeEventArgs args)=20
  {
    Gdk.Drawable drawable =3D GdkWindow;
	=09
    using (gc =3D new Gdk.GC (drawable)) {
      Gdk.Color black_color =3D new Gdk.Color(0, 0, 0);
      Gdk.Colormap colormap =3D Gdk.Colormap.System;
      colormap.AllocColor (ref black_color, true, true);
      gc.Foreground =3D black_color;
=09
      Pango.Layout layout =3D new Pango.Layout(PangoContext);
      layout.FontDescription =3D Pango.FontDescription.FromString(&quot;Arial
12&quot;);
      layout.SetText(&quot;This is my string!&quot;);
      drawable.DrawLayout(gc, 25, 25, layout);
    }
  }
}


Compile:
  mcs -r:gdk-sharp -r:gtk-sharp -r:pango-sharp gtk-draw.cs


Jejeje, =A1=A1Gtk-sharp has double buffering!!

  BorSanZa



El jue, 04-03-2004 a las 15:37, Yao Heling escribi=F3:

&gt;<i> Hello all,
</I>&gt;<i>=20
</I>&gt;<i> I wonder whether it's possible to using System.Drawing with gtk-sharp
</I>&gt;<i> and how as I'm interested to see a cross platform canvas. so here's the
</I>&gt;<i> code with winform, could someone pls convert it to gtk-sharp?=20
</I>&gt;<i>=20
</I>&gt;<i> using System;
</I>&gt;<i> using System.Drawing;
</I>&gt;<i> using System.Windows.Forms;
</I>&gt;<i>=20
</I>&gt;<i> public class BasicForm: Form
</I>&gt;<i> {
</I>&gt;<i>   public static void Main()
</I>&gt;<i>   {
</I>&gt;<i>     BasicForm f =3D new BasicForm();
</I>&gt;<i>     Application.Run(f);
</I>&gt;<i>   }
</I>&gt;<i>   protected override void OnPaint(PaintEventArgs e)
</I>&gt;<i>   {
</I>&gt;<i>     Graphics g =3D e.Graphics;
</I>&gt;<i>     g.DrawString(&quot;This is my string!&quot;, new Font(&quot;Arial&quot;,12),
</I>&gt;<i> 			Brushes.Black, 25, 25);
</I>&gt;<i>     base.OnPaint(e);
</I>&gt;<i>   }
</I>&gt;<i> }
</I>&gt;<i>=20
</I>&gt;<i> Basically, I'd like to access the Graphics so that I can use
</I>&gt;<i> System.Drawing stuff.=20
</I>&gt;<i>=20
</I>&gt;<i> I really appreciate any help/suggestions.
</I>&gt;<i>=20
</I>&gt;<i>=20
</I>&gt;<i> Joseph H. Yao
</I>&gt;<i>=20
</I>&gt;<i> p.s: I'm not on the list, pls cc me when you reply. Thanks!
</I>&gt;<i>=20
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>
--=20
Borja S=E1nchez Zamorano &lt;<A HREF="mailto:borsanza@terra.es">borsanza@terra.es</A>&gt;

--=-AVZyPJwbracBVSfZaC2J
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 7bit

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 TRANSITIONAL//EN&quot;&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
  &lt;META HTTP-EQUIV=&quot;Content-Type&quot; CONTENT=&quot;text/html; CHARSET=UTF-8&quot;&gt;
  &lt;META NAME=&quot;GENERATOR&quot; CONTENT=&quot;GtkHTML/3.0.9&quot;&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
Hello Yao Heling, I do it for you:&lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
using Gtk;&lt;BR&gt;
&lt;BR&gt;
public class BasicForm : DrawingArea {&lt;BR&gt;
&amp;nbsp; Window win;&lt;BR&gt;
&amp;nbsp; Gdk.GC gc;&lt;BR&gt;
	&lt;BR&gt;
&amp;nbsp; public static void Main()&lt;BR&gt;
&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; Application.Init ();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; new BasicForm();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; Application.Run ();&lt;BR&gt;
&amp;nbsp; }&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp; public BasicForm()&lt;BR&gt;
&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; win = new Window(&amp;quot;Form&amp;quot;);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; win.Add(this);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; win.ShowAll();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; ExposeEvent += new ExposeEventHandler(OnExposeEvent);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; win.DeleteEvent += new DeleteEventHandler (OnDeleteEvent);&lt;BR&gt;
&amp;nbsp; }&lt;BR&gt;
	&lt;BR&gt;
&amp;nbsp; void OnDeleteEvent (object o, DeleteEventArgs args)&lt;BR&gt;
&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; Application.Quit ();&lt;BR&gt;
&amp;nbsp; }&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp; void OnExposeEvent(object obj, ExposeEventArgs args) &lt;BR&gt;
&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; Gdk.Drawable drawable = GdkWindow;&lt;BR&gt;
		&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; using (gc = new Gdk.GC (drawable)) {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Gdk.Color black_color = new Gdk.Color(0, 0, 0);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Gdk.Colormap colormap = Gdk.Colormap.System;&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; colormap.AllocColor (ref black_color, true, true);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; gc.Foreground = black_color;&lt;BR&gt;
	&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Pango.Layout layout = new Pango.Layout(PangoContext);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; layout.FontDescription = Pango.FontDescription.FromString(&amp;quot;Arial 12&amp;quot;);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; layout.SetText(&amp;quot;This is my string!&amp;quot;);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; drawable.DrawLayout(gc, 25, 25, layout);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;BR&gt;
&amp;nbsp; }&lt;BR&gt;
}&lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
Compile:&lt;BR&gt;
&amp;nbsp; mcs -r:gdk-sharp -r:gtk-sharp -r:pango-sharp gtk-draw.cs&lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
Jejeje, &amp;#161;&amp;#161;Gtk-sharp has double buffering!!&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp; BorSanZa&lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
El jue, 04-03-2004 a las 15:37, Yao Heling escribi&amp;#243;:
&lt;BLOCKQUOTE TYPE=CITE&gt;
&lt;PRE&gt;&lt;FONT COLOR=&quot;#737373&quot;&gt;&lt;I&gt;Hello all,

I wonder whether it's possible to using System.Drawing with gtk-sharp
and how as I'm interested to see a cross platform canvas. so here's the
code with winform, could someone pls convert it to gtk-sharp? 

using System;
using System.Drawing;
using System.Windows.Forms;

public class BasicForm: Form
{
  public static void Main()
  {
    BasicForm f = new BasicForm();
    Application.Run(f);
  }
  protected override void OnPaint(PaintEventArgs e)
  {
    Graphics g = e.Graphics;
    g.DrawString(&amp;quot;This is my string!&amp;quot;, new Font(&amp;quot;Arial&amp;quot;,12),
			Brushes.Black, 25, 25);
    base.OnPaint(e);
  }
}

Basically, I'd like to access the Graphics so that I can use
System.Drawing stuff. 

I really appreciate any help/suggestions.


Joseph H. Yao

p.s: I'm not on the list, pls cc me when you reply. Thanks!

_______________________________________________
Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>&lt;/FONT&gt;
&lt;A HREF=&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list"">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list&quot;</A>&gt;&lt;U&gt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</U">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list&lt;/U</A>&gt;&lt;/I&gt;&lt;/A&gt;&lt;/PRE&gt;
&lt;/BLOCKQUOTE&gt;
&lt;PRE&gt;&lt;TABLE CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
-- &lt;BR&gt;
Borja S&amp;#225;nchez Zamorano &amp;lt;&lt;A HREF=&quot;mailto:<A HREF="mailto:borsanza@terra.es">borsanza@terra.es</A>&quot;&gt;&lt;U&gt;<A HREF="mailto:borsanza@terra.es">borsanza@terra.es</A>&lt;/U&gt;&lt;/A&gt;&amp;gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;/PRE&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;

--=-AVZyPJwbracBVSfZaC2J--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003570.html">[Gtk-sharp-list] how to use System.Drawing with gtk-sharp
</A></li>
	<LI> Next message: <A HREF="003579.html">[Gtk-sharp-list] how to use System.Drawing with gtk-sharp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3578">[ date ]</a>
              <a href="thread.html#3578">[ thread ]</a>
              <a href="subject.html#3578">[ subject ]</a>
              <a href="author.html#3578">[ author ]</a>
         </LI>
       </UL>
</body></html>
