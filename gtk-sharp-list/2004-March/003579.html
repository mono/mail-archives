<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] how to use System.Drawing with gtk-sharp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:borsanza%40terra.es">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003578.html">
   <LINK REL="Next"  HREF="003571.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] how to use System.Drawing with gtk-sharp
   </H1>
    <B>Borja Sanchez Zamorano
    </B> 
    <A HREF="mailto:borsanza%40terra.es"
       TITLE="[Gtk-sharp-list] how to use System.Drawing with gtk-sharp">borsanza@terra.es
       </A><BR>
    <I>Fri, 05 Mar 2004 16:11:37 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="003578.html">[Gtk-sharp-list] how to use System.Drawing with gtk-sharp
</A></li>
        <LI> Next message: <A HREF="003571.html">[Gtk-sharp-list] Re: win32 vs linux override discrepancy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3579">[ date ]</a>
              <a href="thread.html#3579">[ thread ]</a>
              <a href="subject.html#3579">[ subject ]</a>
              <a href="author.html#3579">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry, in text/plain... it's my first mail to the list.

Hello Yao Heling, I do it for you:


using Gtk;

public class BasicForm : DrawingArea {
  Window win;
  Gdk.GC gc;

  public static void Main()
  {
    Application.Init ();
    new BasicForm();
    Application.Run ();
  }

  public BasicForm()
  {
    win =3D new Window(&quot;Form&quot;);
    win.Add(this);
    win.ShowAll();
    ExposeEvent +=3D new ExposeEventHandler(OnExposeEvent);
    win.DeleteEvent +=3D new DeleteEventHandler (OnDeleteEvent);
  }

  void OnDeleteEvent (object o, DeleteEventArgs args)
  {
    Application.Quit ();
  }

  void OnExposeEvent(object obj, ExposeEventArgs args)=20
  {
    Gdk.Drawable drawable =3D GdkWindow;

    using (gc =3D new Gdk.GC (drawable)) {
      Gdk.Color black_color =3D new Gdk.Color(0, 0, 0);
      Gdk.Colormap colormap =3D Gdk.Colormap.System;
      colormap.AllocColor (ref black_color, true, true);
      gc.Foreground =3D black_color;

      Pango.Layout layout =3D new Pango.Layout(PangoContext);
      layout.FontDescription =3D Pango.FontDescription.FromString(&quot;Arial 12=
&quot;);
      layout.SetText(&quot;This is my string!&quot;);
      drawable.DrawLayout(gc, 25, 25, layout);
    }
  }
}


Compile:
  mcs -r:gdk-sharp -r:gtk-sharp -r:pango-sharp gtk-draw.cs


Jejeje, =A1=A1Gtk-sharp has double buffering!!

  BorSanZa



El jue, 04-03-2004 a las 15:37, Yao Heling escribi=F3:=20
&gt;<i> Hello all,
</I>&gt;<i>=20
</I>&gt;<i> I wonder whether it's possible to using System.Drawing with gtk-sharp
</I>&gt;<i> and how as I'm interested to see a cross platform canvas. so here's the
</I>&gt;<i> code with winform, could someone pls convert it to gtk-sharp?=20
</I>&gt;<i>=20
</I>&gt;<i> using System;
</I>&gt;<i> using System.Drawing;
</I>&gt;<i> using System.Windows.Forms;
</I>&gt;<i>=20
</I>&gt;<i> public class BasicForm: Form
</I>&gt;<i> {
</I>&gt;<i>   public static void Main()
</I>&gt;<i>   {
</I>&gt;<i>     BasicForm f =3D new BasicForm();
</I>&gt;<i>     Application.Run(f);
</I>&gt;<i>   }
</I>&gt;<i>   protected override void OnPaint(PaintEventArgs e)
</I>&gt;<i>   {
</I>&gt;<i>     Graphics g =3D e.Graphics;
</I>&gt;<i>     g.DrawString(&quot;This is my string!&quot;, new Font(&quot;Arial&quot;,12),
</I>&gt;<i> 			Brushes.Black, 25, 25);
</I>&gt;<i>     base.OnPaint(e);
</I>&gt;<i>   }
</I>&gt;<i> }
</I>&gt;<i>=20
</I>&gt;<i> Basically, I'd like to access the Graphics so that I can use
</I>&gt;<i> System.Drawing stuff.=20
</I>&gt;<i>=20
</I>&gt;<i> I really appreciate any help/suggestions.
</I>&gt;<i>=20
</I>&gt;<i>=20
</I>&gt;<i> Joseph H. Yao
</I>&gt;<i>=20
</I>&gt;<i> p.s: I'm not on the list, pls cc me when you reply. Thanks!
</I>&gt;<i>=20
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>--=20
Borja Sanchez Zamorano &lt;<A HREF="mailto:borsanza@terra.es">borsanza@terra.es</A>&gt;


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003578.html">[Gtk-sharp-list] how to use System.Drawing with gtk-sharp
</A></li>
	<LI> Next message: <A HREF="003571.html">[Gtk-sharp-list] Re: win32 vs linux override discrepancy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3579">[ date ]</a>
              <a href="thread.html#3579">[ thread ]</a>
              <a href="subject.html#3579">[ subject ]</a>
              <a href="author.html#3579">[ author ]</a>
         </LI>
       </UL>
</body></html>
