<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Creating critical section for unhandled exception handler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Creating%20critical%20section%20for%20unhandled%0A%20exception%20handler&In-Reply-To=1274404618166-2225522.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010291.html">
   <LINK REL="Next"  HREF="010293.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Creating critical section for unhandled exception handler</H1>
    <B>Christopher David Howie</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Creating%20critical%20section%20for%20unhandled%0A%20exception%20handler&In-Reply-To=1274404618166-2225522.post%40n4.nabble.com"
       TITLE="[Gtk-sharp-list] Creating critical section for unhandled exception handler">me at chrishowie.com
       </A><BR>
    <I>Thu May 20 23:24:57 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010291.html">[Gtk-sharp-list] Creating critical section for unhandled exception	handler
</A></li>
        <LI>Next message: <A HREF="010293.html">[Gtk-sharp-list] Creating critical section for unhandled	exception handler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10292">[ date ]</a>
              <a href="thread.html#10292">[ thread ]</a>
              <a href="subject.html#10292">[ subject ]</a>
              <a href="author.html#10292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/20/2010 9:16 PM, Styne wrote:
&gt;<i> I'm confident that I have proven:
</I>&gt;<i> 1) A thread that enters the critical section will block until the dialog is
</I>&gt;<i> closed (Dialog.Run() blocks, plus the counter doesn't decrement until the
</I>&gt;<i> dialog is closed)
</I>&gt;<i> 2) There are multiple threads in the same critical section at the same time
</I>&gt;<i> (multiple dialogs, plus counter &gt; 1)
</I>&gt;<i> 3) It is the same thread that is re-entering the critical section without
</I>&gt;<i> ever leaving it (same ManagedThreadId which is guaranteed to be unique for
</I>&gt;<i> each thread)
</I>&gt;<i> 
</I>&gt;<i> Is this a bug or am I doing something wrong?
</I>
This is probably the main thread, if you are responding to a Gtk# event,
since these events are dispatched on the main thread.  When you show the
dialog, the Run() call will indeed block, but the main loop will be
re-entered on the same thread so that events in the dialog can be processed.

So if some event occurs multiple times, the same event that triggers the
code you are running to show the dialog, then that code will be
re-entered recursively.

-- 
Chris Howie
<A HREF="http://www.chrishowie.com">http://www.chrishowie.com</A>
<A HREF="http://en.wikipedia.org/wiki/User:Crazycomputers">http://en.wikipedia.org/wiki/User:Crazycomputers</A>

If you correspond with me on a regular basis, please read this document:
<A HREF="http://www.chrishowie.com/email-preferences/">http://www.chrishowie.com/email-preferences/</A>

PGP fingerprint: 2B7A B280 8B12 21CC 260A DF65 6FCE 505A CF83 38F5

------------------------------------------------------------------------
                    IMPORTANT INFORMATION/DISCLAIMER

This document should be read only by those persons to whom it is
addressed.  If you have received this message it was obviously addressed
to you and therefore you can read it.

Additionally, by sending an email to ANY of my addresses you are
agreeing that I am, by definition, &quot;the intended recipient,&quot; and that I
may do whatever I wish with the contents of any message you send me,
unless a pre-existing agreement prohibits me from so doing.

This overrides any disclaimer or statement of confidentiality that may
be included on your message.
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010291.html">[Gtk-sharp-list] Creating critical section for unhandled exception	handler
</A></li>
	<LI>Next message: <A HREF="010293.html">[Gtk-sharp-list] Creating critical section for unhandled	exception handler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10292">[ date ]</a>
              <a href="thread.html#10292">[ thread ]</a>
              <a href="subject.html#10292">[ subject ]</a>
              <a href="author.html#10292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
