<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Glade - problem when menu entries specified
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:vstansvik%40home.se">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="004211.html">
   <LINK REL="Next"  HREF="004213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Glade - problem when menu entries specified
   </H1>
    <B>Viktor Stansvik
    </B> 
    <A HREF="mailto:vstansvik%40home.se"
       TITLE="[Gtk-sharp-list] Glade - problem when menu entries specified">vstansvik@home.se
       </A><BR>
    <I>Wed, 16 Jun 2004 21:08:26 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="004211.html">[Gtk-sharp-list] Glade - problem when menu entries specified
</A></li>
        <LI> Next message: <A HREF="004213.html">[Gtk-sharp-list] Glade - problem when menu entries specified
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4212">[ date ]</a>
              <a href="thread.html#4212">[ thread ]</a>
              <a href="subject.html#4212">[ subject ]</a>
              <a href="author.html#4212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-K+nxbjWBRJQKzuDcGcZT
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

ons 2004-06-16 klockan 20.33 skrev Mike Kestner:
&gt;<i> On Wed, 2004-06-16 at 13:12, Viktor Stansvik wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; My guess is that you are using Gtk.Application.Init and glade is
</I>&gt;<i> &gt; &gt; sticking Gnome.Stock items in your menu, which causes libglade to go
</I>&gt;<i> &gt; &gt; through some gnomeui code which isn't initialized.
</I>&gt;<i> 
</I>&gt;<i> &gt; I tried to add &quot;using Gnome&quot; to my program and add gnome-sharp to my
</I>&gt;<i> &gt; references but I still got the same problem.
</I>&gt;<i> &gt; Then I tried to add only one non-stock item to my MenuBar and got
</I>&gt;<i> &gt; another error when trying to run the app:
</I>&gt;<i> 
</I>&gt;<i> A &quot;using Gnome&quot; won't help.  You would have to create a Gnome.Program
</I>&gt;<i> object like in the GnomeHelloWorld sample.  I point this out because
</I>&gt;<i> others have missed this requirement for dabbling in the Gnome namespace.
</I>&gt;<i> Gnome.Program initializes all the libraries in the Gnome namespace like
</I>&gt;<i> Gtk.Application.Init does for Gtk-only programs.
</I>&gt;<i> 
</I>&gt;<i> Implied in my &quot;My guess&quot; statement above is that you have not provided
</I>&gt;<i> anywhere near enough information for us to adequately help you debug
</I>&gt;<i> your issue.  You'll need to show the code, preferably boiled down to as
</I>&gt;<i> small of a sample as possible to reproduce the issue.  Otherwise we are
</I>&gt;<i> reduced to making wild guesses.
</I>
Okay, thanks.
To illustrate the problem I created a new minimal Glade# project using
MonoDevelop and edited the gui.glade file with Glade. I added a MenuBar,
removed all the stock items that's in it by default and added one
non-stock item to it. It compiles but I get the error messages I
mentioned previously.

Some version numbers:
mono - 0.91
gtk-sharp - 0.91

I've attached the source code file, the glade file and the error
message.
Sorry for not getting your hint about providing more information -
English isn't my native language you know :)

Viktor

--=-K+nxbjWBRJQKzuDcGcZT
Content-Disposition: attachment; filename=Main.cs
Content-Type: text/x-csharp; name=Main.cs; charset=iso-8859-1
Content-Transfer-Encoding: 7bit

// project created on 2004-06-16 at 20.52
using System;
using Gtk;
using Glade;

public class GladeApp
{
        public static void Main (string[] args)
        {
                new GladeApp (args);
        }

        public GladeApp (string[] args) 
        {
                Application.Init();

                Glade.XML gxml = new Glade.XML (null, &quot;gui.glade&quot;, &quot;window1&quot;, null);
                gxml.Autoconnect (this);
                Application.Run();
        }

        /* Connect the Signals defined in Glade */
        public void OnWindowDeleteEvent (object o, DeleteEventArgs args) 
        {
                Application.Quit ();
                args.RetVal = true;
        }
}


--=-K+nxbjWBRJQKzuDcGcZT
Content-Disposition: attachment; filename=gui.glade
Content-Type: application/x-glade; name=gui.glade
Content-Transfer-Encoding: 7bit

&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt; &lt;!--*- mode: xml -*--&gt;
&lt;!DOCTYPE glade-interface SYSTEM &quot;<A HREF="http://glade.gnome.org/glade-2.0.dtd"">http://glade.gnome.org/glade-2.0.dtd&quot;</A>&gt;

&lt;glade-interface&gt;
&lt;requires lib=&quot;gnome&quot;/&gt;

&lt;widget class=&quot;GtkWindow&quot; id=&quot;window1&quot;&gt;
  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
  &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;Glade Window&lt;/property&gt;
  &lt;property name=&quot;type&quot;&gt;GTK_WINDOW_TOPLEVEL&lt;/property&gt;
  &lt;property name=&quot;window_position&quot;&gt;GTK_WIN_POS_CENTER&lt;/property&gt;
  &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
  &lt;property name=&quot;default_width&quot;&gt;256&lt;/property&gt;
  &lt;property name=&quot;default_height&quot;&gt;256&lt;/property&gt;
  &lt;property name=&quot;resizable&quot;&gt;True&lt;/property&gt;
  &lt;property name=&quot;destroy_with_parent&quot;&gt;False&lt;/property&gt;
  &lt;signal name=&quot;delete_event&quot; handler=&quot;OnWindowDeleteEvent&quot;/&gt;

  &lt;child&gt;
    &lt;widget class=&quot;GtkMenuBar&quot; id=&quot;menubar1&quot;&gt;
      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;

      &lt;child&gt;
	&lt;widget class=&quot;GtkMenuItem&quot; id=&quot;item1&quot;&gt;
	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
	  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;item1&lt;/property&gt;
	  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
	  &lt;signal name=&quot;activate&quot; handler=&quot;on_item1_activate&quot; last_modification_time=&quot;Wed, 16 Jun 2004 18:53:46 GMT&quot;/&gt;
	&lt;/widget&gt;
      &lt;/child&gt;
    &lt;/widget&gt;
  &lt;/child&gt;
&lt;/widget&gt;

&lt;/glade-interface&gt;

--=-K+nxbjWBRJQKzuDcGcZT
Content-Disposition: attachment; filename=error.txt
Content-Type: text/plain; name=error.txt; charset=iso-8859-1
Content-Transfer-Encoding: 7bit

Unhandled Exception: System.NullReferenceException: A null value was found where an object instance was required.
in (unmanaged) (wrapper managed-to-native) SignalConnector:glade_xml_signal_autoconnect_full (intptr,Glade.XML/SignalConnector/RawXMLConnectFunc,intptr)in &lt;0x00004&gt; (wrapper managed-to-native) SignalConnector:glade_xml_signal_autoconnect_full (intptr,Glade.XML/SignalConnector/RawXMLConnectFunc,intptr)
in &lt;0x0006b&gt; SignalConnector:Autoconnect ()
in &lt;0x00050&gt; Glade.XML:Autoconnect (object)
in &lt;0x0005a&gt; GladeApp:.ctor (string[])
in &lt;0x00020&gt; GladeApp:Main (string[])

--=-K+nxbjWBRJQKzuDcGcZT--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004211.html">[Gtk-sharp-list] Glade - problem when menu entries specified
</A></li>
	<LI> Next message: <A HREF="004213.html">[Gtk-sharp-list] Glade - problem when menu entries specified
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4212">[ date ]</a>
              <a href="thread.html#4212">[ thread ]</a>
              <a href="subject.html#4212">[ subject ]</a>
              <a href="author.html#4212">[ author ]</a>
         </LI>
       </UL>
</body></html>
