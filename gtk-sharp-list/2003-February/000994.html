<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Gtk# constructors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000992.html">
   <LINK REL="Next"  HREF="000995.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Gtk# constructors
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Gtk-sharp-list] Gtk# constructors">jonpryor@vt.edu
       </A><BR>
    <I>18 Feb 2003 16:38:17 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000992.html">[Gtk-sharp-list] Gtk# constructors
</A></li>
        <LI> Next message: <A HREF="000995.html">[Gtk-sharp-list] Gtk# constructors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#994">[ date ]</a>
              <a href="thread.html#994">[ thread ]</a>
              <a href="subject.html#994">[ subject ]</a>
              <a href="author.html#994">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The C# compiler only provides a default constructor if the class
contains no other constructors.  So this:

	public class A {
	}

is the same as this:

	public class A {
		public A () {}
	}

However, as soon as you provide a constructor for the class, the default
is not provided.  So the following class declaration only contains 1
constructor (there is no default constructor):

	public class B {
		public B (string s) {}
	}

The only exception to this is for structures, which *always* have a
default constructor automatically provided.  In fact, structures are not
permitted to provide a default constructor.  However, structures can't
be used as a base class, so they can be ignored for now.

If GLib.Object() isn't really needed (as per the Charles Iliya
Krempeaux' guess), then it should be removed, as the class would have no
default constructor without it.

Furthermore, making a constructor private prevents derived classes from
calling *that* constructor.  If other (non-private) constructors are
available, they can still be called by derived classes.  So this is
perfectly kosher:

	class B {
		// not strictly needed, due to existence of protected 
		// constructor...
		private B () {}
		protected B (string s) {}
	}

	class D : B {
		public D () : base (&quot;D class&quot;) {}
	}

 - Jon

On Tue, 2003-02-18 at 16:08, Charles Iliya Krempeaux wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> On Tue, 2003-02-18 at 06:57, Lee Mallabone wrote:
</I>&gt;<i> 
</I>&gt;<i> [...]
</I>&gt;<i> 
</I>&gt;<i> &gt; 3: protected HBox() : base(){}
</I>&gt;<i> 
</I>&gt;<i> [...]
</I>&gt;<i> 
</I>&gt;<i> &gt; Number 3 looks really odd - I followed the class hierarchy up to
</I>&gt;<i> &gt; GLib.Object, and its constructor just does:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; public Object () {
</I>&gt;<i> &gt;    needs_ref = false;
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; which means, (as far as I can tell), that the internal Gtk C object
</I>&gt;<i> &gt; Handle is never instantiated, so you end up with an object that will
</I>&gt;<i> &gt; probably crash if you call instance methods on it.
</I>&gt;<i> 
</I>&gt;<i> Notice that this constructor has a &quot;protected&quot; access level.  That
</I>&gt;<i> means that others can't call it.
</I>&gt;<i> 
</I>&gt;<i> I'd guess that this is declared so that C# doesn't automagically create
</I>&gt;<i> a default constructor for us.  In other words, if we did not create
</I>&gt;<i> a constructor with the signature:
</I>&gt;<i> 
</I>&gt;<i>     HBox()
</I>&gt;<i> 
</I>&gt;<i> ourselves.  Then C# would create one for us.  And the one it
</I>&gt;<i> created would be &quot;public&quot;.  And others would be able to call it.
</I>&gt;<i> (Which we don't want.  So we created one ourselves that was 
</I>&gt;<i> &quot;protected&quot;.)
</I>&gt;<i> 
</I>&gt;<i> (Although, if we don't want other to call it, I'd probably make
</I>&gt;<i> it &quot;private&quot; instead of &quot;protected&quot;.  But then again, if you didn't
</I>&gt;<i> do that then subclasses of it couldn't call it.  I don't know if
</I>&gt;<i> that is important or not though.  Mike, is it???)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> See ya
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000992.html">[Gtk-sharp-list] Gtk# constructors
</A></li>
	<LI> Next message: <A HREF="000995.html">[Gtk-sharp-list] Gtk# constructors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#994">[ date ]</a>
              <a href="thread.html#994">[ thread ]</a>
              <a href="subject.html#994">[ subject ]</a>
              <a href="author.html#994">[ author ]</a>
         </LI>
       </UL>
</body></html>
