<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] MonkeyGuide?: Hello World in GNOME# - First Draft
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:charles%40reptile.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000915.html">
   <LINK REL="Next"  HREF="000916.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] MonkeyGuide?: Hello World in GNOME# - First Draft
   </H1>
    <B>Charles Iliya Krempeaux
    </B> 
    <A HREF="mailto:charles%40reptile.ca"
       TITLE="[Gtk-sharp-list] MonkeyGuide?: Hello World in GNOME# - First Draft">charles@reptile.ca
       </A><BR>
    <I>06 Feb 2003 10:20:36 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="000915.html">[Gtk-sharp-list] Point.custom patch
</A></li>
        <LI> Next message: <A HREF="000916.html">[Gtk-sharp-list] MonkeyGuide?: Hello World in GNOME# - First
 Draft
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#912">[ date ]</a>
              <a href="thread.html#912">[ thread ]</a>
              <a href="subject.html#912">[ subject ]</a>
              <a href="author.html#912">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-W+/RiI4SoRN0IrKBPBfx
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hello,

OK, since no one else has started the GNOME# documentation in the
MonkeyGuide, as far as I know, I thought I'd just do it.

This is my first draft of it.  So give any comment and criticisms you
have.  (I haven't gone over it for style or anything, so it's probably
still a bit rough.)

------- BEGIN -------


GNOME#

HelloWorld, first try

HelloWorld in Gnome#:

    class Hello
    {
        static void Main(string[] args)
        {
            Gnome.Program program =
            new Gnome.Program(&quot;Hello World&quot;, &quot;1.0&quot;, Gnome.Modules.UI,
args);

            Gnome.App app = new Gnome.App(&quot;Hello World&quot;, &quot;Hello World&quot;);
            app.Show();
 
            program.Run();
        }
    }

compile:

mcs helloworld.cs -r gnome-sharp.dll

It's a bit longer than console hello world and needs some explanation.

In Main() at first you see:

            Gnome.Program program =
            new Gnome.Program(&quot;Hello World&quot;, &quot;1.0&quot;, Gnome.Modules.UI,
args);

This initializes GNOME and is needed in every GNOME Application.  Here
we are creating a variable of type Gnome.Program, called program.  This
variable, program, is used to control the GNOME program, as we'll see
later.

Next we see:

            Gnome.App app = new Gnome.App(&quot;Hello World&quot;, &quot;Hello World&quot;);

This creates our GNOME Application Window.  (That's what you see on the
screen.)

We then see:

           app.Show();

This makes the GNOME Application Window (that you created with the
previous line on code) visible on the screen.  With GNOME, things don't
automatically display themselves unless you explicitly tell them too.

And finally we see:

            program.Run();

This make your GNOME program run.  It makes all the magic happen, that
you don't need to worry about at this moment.  Needless to say though,
you need to do this to make your GNOME Application work.


HelloWorld, second try

While the above program compiles and runs, it's doesn't quit, properly.
You have to exit with CTRL+C.  (Ideally, we want the program to close
when you press the &quot;X&quot; on the title bar.  Which is what this next
example does.)


    class Hello
    {
        static Gnome.Program program;

        static void Main(string[] args)
        {
            program =
            new Gnome.Program(&quot;Hello World&quot;, &quot;1.0&quot;, Gnome.Modules.UI,
args);

            Gnome.App app = new Gnome.App(&quot;Hello World&quot;, &quot;Hello World&quot;);
            app.DeleteEvent += new
GtkSharp.DeleteEventHandler(delete_event);
            app.Show();
 
            program.Run();
        }

        static void delete_event(object obj, GtkSharp.DeleteEventArgs
args)
        {
            program.Quit();
        }
    }

compile:

mcs helloworld.cs -r gnome-sharp.dll -r gtk-sharp.dll

The first change to notice is that the variable program has been moved
out of Main() and made a (static) class variable.  We see this in the
line:

        static Gnome.Program program;

This was done so we could access it from the delete_event function,
which we will talk about later.

The next difference we is in the Main() method, and is:

            app.DeleteEvent += new
GtkSharp.DeleteEventHandler(delete_event);

This makes it so that when the &quot;X&quot; button on the title bar is pressed,
the function delete_event is called.  Technically, when the &quot;X&quot; button
is pressed, the program receives a DeleteEvent, which is what you see in
the code above.

The final difference that you see is:

        static void delete_event(object obj, GtkSharp.DeleteEventArgs
args)
        {
            program.Quit();
        }

This is the function that is called when the application receives a
DeleteEvent.  I.e., when the user clicks the &quot;X&quot; button on the title
bar.  As you can hopefully see, when this function is called, the
program will quit.


HelloWorld, third try

While the above code functioned properly, and did what we wanted, it was
kind of sloppy.  The sloppyness came from having to make the program
variable a (static) class variable.  A much more elegant way of doing
the same thing involves using subclassing (also called inheritance) to
accomplish the same thing.  Which can be seen in the example below.

    class Hello
        : Gnome.Program
    {
        Hello(string[] args)
            : base(&quot;Hello World&quot;, &quot;1.0&quot;, Gnome.Modules.UI, args)
        { 
            // Nothing here.
        }

        static void Main(string[] args)
        {

            Hello hello = new Hello(args);

            hello.run();
        }

        void delete_event(object obj, GtkSharp.DeleteEventArgs args)
        {
            this.Quit();
        }

        void run()
        {
            Gnome.App app = new Gnome.App(&quot;Hello World&quot;, &quot;Hello World&quot;);
            app.DeleteEvent += new
GtkSharp.DeleteEventHandler(delete_event);
            app.Show();
 
            this.Run();
        }
    }

compile:

mcs helloworld.cs -r gnome-sharp.dll -r gtk-sharp.dll

#### I'll add an explanation of this later today.


-------- END --------

For the next section, I'm thinking of showing how to add content to a
Gnome Application window.  And then show how to add menus.


See ya

-- 
     Charles Iliya Krempeaux, BSc
     <A HREF="mailto:charles@reptile.ca">charles@reptile.ca</A>

________________________________________________________________________
 Reptile Consulting &amp; Services    604-REPTILE    <A HREF="http://www.reptile.ca/">http://www.reptile.ca/</A>

--=-W+/RiI4SoRN0IrKBPBfx
Content-Type: text/html; charset=utf-8

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 TRANSITIONAL//EN&quot;&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
  &lt;META HTTP-EQUIV=&quot;Content-Type&quot; CONTENT=&quot;text/html; CHARSET=UTF-8&quot;&gt;
  &lt;META NAME=&quot;GENERATOR&quot; CONTENT=&quot;GtkHTML/1.1.7&quot;&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
Hello,&lt;BR&gt;
&lt;BR&gt;
OK, since no one else has started the GNOME# documentation in the MonkeyGuide, as far as I know, I thought I'd just do it.&lt;BR&gt;
&lt;BR&gt;
This is my first draft of it.&amp;nbsp; So give any comment and criticisms you have.&amp;nbsp; (I haven't gone over it for style or anything, so it's probably still a bit rough.)&lt;BR&gt;
&lt;BR&gt;
&lt;TT&gt;------- BEGIN -------&lt;/TT&gt;&lt;BR&gt;
&lt;BR&gt;
&lt;H1&gt;GNOME#&lt;/H1&gt;
&lt;H2&gt;HelloWorld, first try&lt;/H2&gt;
HelloWorld in Gnome#:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#d5d5d5&quot;&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; class Hello&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; static void Main(string[] args)&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; Gnome.Program program =&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; new Gnome.Program(&amp;quot;Hello World&amp;quot;, &amp;quot;1.0&amp;quot;, Gnome.Modules.UI, args);&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; Gnome.App app = new Gnome.App(&amp;quot;Hello World&amp;quot;, &amp;quot;Hello World&amp;quot;);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; app.Show();&lt;BR&gt;
&amp;nbsp;&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; program.Run();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
compile:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#808080&quot;&gt;
&lt;FONT COLOR=&quot;#ffffff&quot;&gt;&lt;TT&gt;mcs helloworld.cs -r gnome-sharp.dll&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
It's a bit longer than console hello world and needs some explanation.&lt;BR&gt;
&lt;BR&gt;
In &lt;TT&gt;Main()&lt;/TT&gt; at first you see:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#d4d4d4&quot;&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; Gnome.Program program =&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; new Gnome.Program(&amp;quot;Hello World&amp;quot;, &amp;quot;1.0&amp;quot;, Gnome.Modules.UI, args);&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
This initializes GNOME and is needed in every GNOME Application.&amp;nbsp; Here we are creating a variable of type &lt;TT&gt;Gnome.Program&lt;/TT&gt;, called &lt;TT&gt;program&lt;/TT&gt;.&amp;nbsp; This variable, &lt;TT&gt;program&lt;/TT&gt;, is used to control the GNOME program, as we'll see later.&lt;BR&gt;
&lt;BR&gt;
Next we see:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#d4d4d4&quot;&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; Gnome.App app = new Gnome.App(&amp;quot;Hello World&amp;quot;, &amp;quot;Hello World&amp;quot;);&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
This creates our GNOME Application Window.&amp;nbsp; (That's what you see on the screen.)&lt;BR&gt;
&lt;BR&gt;
We then see:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#d4d4d4&quot;&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; app.Show();&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
This makes the GNOME Application Window (that you created with the previous line on code) visible on the screen.&amp;nbsp; With GNOME, things don't automatically display themselves unless you explicitly tell them too.&lt;BR&gt;
&lt;BR&gt;
And finally we see:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#d4d4d4&quot;&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; program.Run();&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
This make your GNOME program &lt;I&gt;run&lt;/I&gt;.&amp;nbsp; It makes all the magic happen, that you don't need to worry about at this moment.&amp;nbsp; Needless to say though, you need to do this to make your GNOME Application work.&lt;BR&gt;
&lt;BR&gt;
&lt;H2&gt;HelloWorld, second try&lt;/H2&gt;
While the above program compiles and runs, it's doesn't quit, properly. You have to exit with CTRL+C.&amp;nbsp; (Ideally, we want the program to close when you press the &amp;quot;X&amp;quot; on the title bar.&amp;nbsp; Which is what this next example does.)&lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#d5d5d5&quot;&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; class Hello&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; static Gnome.Program program;&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; static void Main(string[] args)&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;  program =&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; new Gnome.Program(&amp;quot;Hello World&amp;quot;, &amp;quot;1.0&amp;quot;, Gnome.Modules.UI, args);&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; Gnome.App app = new Gnome.App(&amp;quot;Hello World&amp;quot;, &amp;quot;Hello World&amp;quot;);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; app.DeleteEvent += new GtkSharp.DeleteEventHandler(delete_event);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; app.Show();&lt;BR&gt;
&amp;nbsp;&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; program.Run();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; static void delete_event(object obj, GtkSharp.DeleteEventArgs args)&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; program.Quit();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
compile:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#808080&quot;&gt;
&lt;FONT COLOR=&quot;#ffffff&quot;&gt;&lt;TT&gt;mcs helloworld.cs -r gnome-sharp.dll -r gtk-sharp.dll&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
The first change to notice is that the variable &lt;TT&gt;program&lt;/TT&gt; has been moved out of Main() and made a (static) class variable.&amp;nbsp; We see this in the line:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#d4d4d4&quot;&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; static Gnome.Program program;&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
This was done so we could access it from the &lt;TT&gt;delete_event&lt;/TT&gt; function, which we will talk about later.&lt;BR&gt;
&lt;BR&gt;
The next difference we is in the &lt;TT&gt;Main()&lt;/TT&gt; method, and is:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#d4d4d4&quot;&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; app.DeleteEvent += new GtkSharp.DeleteEventHandler(delete_event);&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&lt;/TT&gt;&lt;/FONT&gt;&lt;BR&gt;
This makes it so that when the &amp;quot;X&amp;quot; button on the title bar is pressed, the function &lt;TT&gt;delete_event&lt;/TT&gt; is called.&amp;nbsp; Technically, when the &amp;quot;X&amp;quot; button is pressed, the program receives a &lt;TT&gt;DeleteEvent&lt;/TT&gt;, which is what you see in the code above.&lt;BR&gt;
&lt;BR&gt;
The final difference that you see is:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#d4d4d4&quot;&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; static void delete_event(object obj, GtkSharp.DeleteEventArgs args)&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; program.Quit();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
This is the function that is called when the application receives a &lt;TT&gt;DeleteEvent&lt;/TT&gt;.&amp;nbsp; I.e., when the user clicks the &amp;quot;X&amp;quot; button on the title bar.&amp;nbsp; As you can hopefully see, when this function is called, the program will quit.&lt;BR&gt;
&lt;BR&gt;
&lt;H2&gt;HelloWorld, third try&lt;/H2&gt;
While the above code functioned properly, and did what we wanted, it was kind of sloppy.&amp;nbsp; The sloppyness came from having to make the &lt;TT&gt;program&lt;/TT&gt; variable a (static) class variable.&amp;nbsp; A much more elegant way of doing the same thing involves using subclassing (also called inheritance) to accomplish the same thing.&amp;nbsp; Which can be seen in the example below.&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#d5d5d5&quot;&gt;
&lt;FONT SIZE=&quot;3&quot;&gt;&lt;TT&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; class Hello&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; : Gnome.Program&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Hello(string[] args)&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; : base(&amp;quot;Hello World&amp;quot;, &amp;quot;1.0&amp;quot;, Gnome.Modules.UI, args)&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; { &lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // Nothing here.&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; static void Main(string[] args)&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Hello hello = new Hello(args);&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; hello.run();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; void delete_event(object obj, GtkSharp.DeleteEventArgs args)&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; this.Quit();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; void run()&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; Gnome.App app = new Gnome.App(&amp;quot;Hello World&amp;quot;, &amp;quot;Hello World&amp;quot;);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; app.DeleteEvent += new GtkSharp.DeleteEventHandler(delete_event);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; app.Show();&lt;BR&gt;
&amp;nbsp;&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; this.Run();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
compile:&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE BGCOLOR=&quot;#bfbfbf&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BGCOLOR=&quot;#f2f2f2&quot; CELLSPACING=&quot;1&quot; CELLPADDING=&quot;3&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD BGCOLOR=&quot;#808080&quot;&gt;
&lt;FONT COLOR=&quot;#ffffff&quot;&gt;&lt;TT&gt;mcs helloworld.cs -r gnome-sharp.dll -r gtk-sharp.dll&lt;/TT&gt;&lt;/FONT&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;BR&gt;
#### I'll add an explanation of this later today.&lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
&lt;TT&gt;-------- END --------&lt;/TT&gt;&lt;BR&gt;
&lt;BR&gt;
For the next section, I'm thinking of showing how to add content to a Gnome Application window.&amp;nbsp; And then show how to add menus.&lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
See ya&lt;BR&gt;
&lt;BR&gt;
&lt;TABLE CELLSPACING=&quot;0&quot; CELLPADDING=&quot;0&quot; WIDTH=&quot;100%&quot;&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;PRE&gt;-- 
     Charles Iliya Krempeaux, BSc
     <A HREF="mailto:charles@reptile.ca">charles@reptile.ca</A>

________________________________________________________________________
 Reptile Consulting &amp;amp; Services    604-REPTILE    <A HREF="http://www.reptile.ca/</PRE">http://www.reptile.ca/&lt;/PRE</A>&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;/BODY&gt;
&lt;/HTML&gt;

--=-W+/RiI4SoRN0IrKBPBfx--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000915.html">[Gtk-sharp-list] Point.custom patch
</A></li>
	<LI> Next message: <A HREF="000916.html">[Gtk-sharp-list] MonkeyGuide?: Hello World in GNOME# - First
 Draft
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#912">[ date ]</a>
              <a href="thread.html#912">[ thread ]</a>
              <a href="subject.html#912">[ subject ]</a>
              <a href="author.html#912">[ author ]</a>
         </LI>
       </UL>
</body></html>
