<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Databindig IList to a Gtk.TreeView
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Databindig%20IList%20to%20a%20Gtk.TreeView&In-Reply-To=1145900898.20081.14.camel%40karnajkaj.egocentrix.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007126.html">
   <LINK REL="Next"  HREF="007128.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Databindig IList to a Gtk.TreeView</H1>
    <B>Philip Van Hoof</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Databindig%20IList%20to%20a%20Gtk.TreeView&In-Reply-To=1145900898.20081.14.camel%40karnajkaj.egocentrix.net"
       TITLE="[Gtk-sharp-list] Databindig IList to a Gtk.TreeView">spam at pvanhoof.be
       </A><BR>
    <I>Mon Apr 24 14:49:20 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007126.html">[Gtk-sharp-list] Databindig IList to a Gtk.TreeView
</A></li>
        <LI>Next message: <A HREF="007128.html">[Gtk-sharp-list] Databindig IList to a Gtk.TreeView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7127">[ date ]</a>
              <a href="thread.html#7127">[ thread ]</a>
              <a href="subject.html#7127">[ subject ]</a>
              <a href="author.html#7127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2006-04-24 at 19:48 +0200, mlgs wrote:

&gt;<i> &gt; Know what, try to catch me on IRC and I'll give you credentials with
</I>&gt;<i> &gt; commit permissions. My nickname is pvanhoof. I'm for example on the
</I>&gt;<i> &gt; #mono channel (if I'm awake).
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> I'm not really irc person:) and currently I'm absent without permanent
</I>&gt;<i> internet link for next two months, but I'll see what I can do about it.
</I>
Oh okay. Just mail me a username and password then. pvanhoof at gnome
dot org or any E-mail address you find on me.

&gt;<i> &gt; That's for everybody who's interested in such a SVN account and/or
</I>&gt;<i> &gt; planning to tryout things with the code.
</I>&gt;<i> 
</I>&gt;<i> is it really sane to have it outside of gtk-sharp?
</I>

No but. Mike Kestner was not allowed to use a keyboard this weekend (ask
him, and his wife), so he didn't yet take a look at it. I don't know
whether or not it's already ready for inclusion in a future Gtk-Sharp
version.

I think it needs some more features and improvements. But your work
which made it work with combo boxes is a nice step into that direction,
I guess.

&gt;<i> ok, here's the patch I talked about.
</I>
There's still some problems with the patch. But what the heck .. it's a
experimental repository and it's a prove of concept. So I committed it.
 
&gt;<i> it includes ComboBox and ComboBoxEntry besides that little and still
</I>&gt;<i> problematic state restore on treeview (yes, in my opinion it should be
</I>&gt;<i> part of the main class, reasons below).
</I>
I'll checkout the implementation ;-)

&gt;<i> even after implementing them, ComboBox and ComboBoxEntry still had one
</I>&gt;<i> problem that bugged me for half of hour trying to discover the reason
</I>&gt;<i> (reason was you were allowing one item to few in nth_child_cb, probably
</I>&gt;<i> when copy/pasting code from next_cb, damn, I really hate such things).
</I>
Yeah, I hate such things too. Good that you decided to fix it. Thanks.

;-)

&gt;<i> applied model callbacks seemed to ask for item 0 when they are in fact
</I>&gt;<i> asking for the last. this loss of time is probably the reason why
</I>&gt;<i> ComboBox handling with keyboard seems problematic (works fine with
</I>&gt;<i> mouse, but when you press KEYDOWN for example you get SIGSEGV about
</I>&gt;<i> combo not being able to obtain model). But since this is more or less
</I>&gt;<i> proof of case, I'll be fine with it for now. any suggestion is
</I>&gt;<i> appreciated, this is my first gui work after 9 years of strictly console
</I>&gt;<i> services coding, so if you have any idea, don't hesitate because I'm
</I>&gt;<i> looking in the dark (kicking the fog or whatever) on this one.
</I>

&gt;<i> another thing that bugs me is how do I know which level I'm asked on
</I>&gt;<i> has_child_cb. only one index, no treepath, nothing??? I would like to
</I>&gt;<i> make discovery there and if another IList object is on that spot also
</I>&gt;<i> return valid answer (one way would be handling opened and closed nodes
</I>&gt;<i> and iterating trough, but that seems more or less like pain in the ass).
</I>&gt;<i> nice example of this is xml document, where all children are also
</I>&gt;<i> xmlnodes, this way complete tree structure could be passed trough
</I>&gt;<i> datasource in one pass. (again, I would appreciate any kind of info
</I>&gt;<i> here)
</I>
I'll be honest here, and humbly tell you I never did a custom tree store
implementation myself. So far I only ever implemented custom list store
models. 

There's a few samples and applications that do implement a custom tree
store model. For example NodeStore.cs is one such tree store implemen-
tation.

&gt;<i> - reasons for treeview restore
</I>

&gt;<i> as you see I'm applying this only in case when applied DataSource is the
</I>&gt;<i> same as DataSource before.
</I>
Right

&gt;<i> resetting selection and viewport after adding a new member goes against
</I>&gt;<i> any kind of HIG. well, to be truth full my software-s are always having
</I>&gt;<i> interaction from the operating system and one can't know when item will
</I>&gt;<i> be added, and destroying selections and moving viewpoint on fly is not
</I>&gt;<i> what one would call HIG design.
</I>
I agree

&gt;<i> - plans for this test case
</I>&gt;<i> 
</I>&gt;<i> making one more interface besides IList, list that supports cursors (my
</I>&gt;<i> plan is having ICursor interface that points to object being binded to
</I>&gt;<i> controls) and change notifications which could then be used to bind form
</I>&gt;<i> controls directly on the selected object in IList (or as a matter of
</I>&gt;<i> fact any object). well that's my idea for now.
</I>

Sounds good. If it supports both, that is. Else another adaptor and let
the TreeViewAdaptor support both ListAdaptor and CursorAdaptor?
Something like that.

It would be nice if it would be possible to implement ICursor as a type
that can work with database cursors. Combined with the fact that the
view will only request visible rows from the store, in case the fixed
row size property is set (regretfully only in that case): That would
simply be a killer feature for me. I'd be happy to investigate and
experiment that a little bit together.

&gt;<i> this would for example make possible to select multiple items, hit edit
</I>&gt;<i> and all is just plain working. at least I need that in my project.
</I>
Oh, right. Another use-case I guess.

&gt;<i> &gt; You may of course put a new such type in SVN once you have the
</I>&gt;<i> &gt; credentials / the account (in case the feature is better implemented in
</I>&gt;<i> &gt; a new type).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; I plan to try making the same thing for Combo.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Okay.
</I>&gt;<i> &gt; 
</I>
&gt;<i> so, I did it;)
</I>
Nice. It's committed. Ask me for a SVN account ;-). Send me some
password and username. You'll get a simple .htaccess-like apache2
authentication so it's okay that the password goes over plain-text
SMTP :)
 
-- 
Philip Van Hoof, software developer at x-tend 
home: me at pvanhoof dot be 
gnome: pvanhoof at gnome dot org 
work: vanhoof at x-tend dot be 
<A HREF="http://www.pvanhoof.be">http://www.pvanhoof.be</A> - <A HREF="http://www.x-tend.be">http://www.x-tend.be</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007126.html">[Gtk-sharp-list] Databindig IList to a Gtk.TreeView
</A></li>
	<LI>Next message: <A HREF="007128.html">[Gtk-sharp-list] Databindig IList to a Gtk.TreeView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7127">[ date ]</a>
              <a href="thread.html#7127">[ thread ]</a>
              <a href="subject.html#7127">[ subject ]</a>
              <a href="author.html#7127">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
