<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] TreeStore.RowInserted event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Re%3A%20%5BGtk-sharp-list%5D%20%3D%3Futf-8%3Fq%3FTreeStore%3D2ERowInserted_event%3F%3D&In-Reply-To=%3C20130311181011.549F1EA856%40mail.cubesearch.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011196.html">
   <LINK REL="Next"  HREF="011198.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] TreeStore.RowInserted event</H1>
    <B>peter@peterjohanson.com</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Re%3A%20%5BGtk-sharp-list%5D%20%3D%3Futf-8%3Fq%3FTreeStore%3D2ERowInserted_event%3F%3D&In-Reply-To=%3C20130311181011.549F1EA856%40mail.cubesearch.com%3E"
       TITLE="[Gtk-sharp-list] TreeStore.RowInserted event">peter at peterjohanson.com
       </A><BR>
    <I>Mon Mar 11 18:10:11 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="011196.html">[Gtk-sharp-list] TreeStore.RowInserted event
</A></li>
        <LI>Next message: <A HREF="011198.html">[Gtk-sharp-list] TreeStore.RowInserted event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11197">[ date ]</a>
              <a href="thread.html#11197">[ thread ]</a>
              <a href="subject.html#11197">[ subject ]</a>
              <a href="author.html#11197">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Unfortunately, this is thanks to the behaviour of GtkTreeStore itself, which, as you have discovered, actually first inserts an empty row, then sets the data for that row. I'm not aware of any way to alter that behaviour, other than detecting when it occurs. 

-pete

Sent from my HTC One&#8482; X

----- Reply message -----
From: &quot;Marcelo Belentani de Bianchi&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">marcelobianchi at mail.com</A>&gt;
To: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">gtk-sharp-list at lists.ximian.com</A>&gt;
Subject: [Gtk-sharp-list] TreeStore.RowInserted event
Date: Mon, Mar 11, 2013 1:27 PM


Dear List, 

I am a new user to the gtk-sharp package and I am having some dificulties with the TreeStore object.
After I created my object as:

store = new TreeStore(typeof(object));

I attach it to the TreeView.model as 

treeViewer.Model = store;

And also I associate the RowInserted event to a method where I would like to retrieve the item inserted like in:

store.RowInserted += delegate(object o, RowInsertedArgs args) {
	TreeStore _store = (TreeStore) o;
	object assoc_obj = _store.GetValue(args.Iter, 0);
	if (assoc_obj == null){
		throw new Exception(&quot;Invalid Object inserted into the tree.&quot;);
	}
};

When I run my code the Exception is alway throw. Why does I cannot retrieve the object ? It looks like that when I run the following command:

TreeIter it = store.AppendValues(ss);

to insert the object into the store the row is created empty, the event is triggered and after that the object ss is attached to the row because I managed to fetch the object from the RowChanged event (that by the way is triggered for every object I insert if i create the store with more than one place to put objects). Is this the correct behaiviour ? There is someway to control when the event is triggered ? Some flags on the TreeStore ?

I appreciate any comments,

with my best regards, 

Marcelo Bianchi
-- 
<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">marcelobianchi at mail.com</A>
<A HREF="http://sites.google.com/site/foo4funreborn/">http://sites.google.com/site/foo4funreborn/</A>
_______________________________________________
Gtk-sharp-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">Gtk-sharp-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20130311/ce53dcba/attachment.html">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20130311/ce53dcba/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011196.html">[Gtk-sharp-list] TreeStore.RowInserted event
</A></li>
	<LI>Next message: <A HREF="011198.html">[Gtk-sharp-list] TreeStore.RowInserted event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11197">[ date ]</a>
              <a href="thread.html#11197">[ thread ]</a>
              <a href="subject.html#11197">[ subject ]</a>
              <a href="author.html#11197">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
