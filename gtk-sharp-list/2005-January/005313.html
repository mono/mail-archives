<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] glade autoconnect strangeness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:peter%40newton.cx">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005309.html">
   <LINK REL="Next"  HREF="005314.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] glade autoconnect strangeness
   </H1>
    <B>Peter Williams
    </B> 
    <A HREF="mailto:peter%40newton.cx"
       TITLE="[Gtk-sharp-list] glade autoconnect strangeness">peter@newton.cx
       </A><BR>
    <I>Fri, 14 Jan 2005 17:25:25 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="005309.html">[Gtk-sharp-list] glade autoconnect strangeness
</A></li>
        <LI> Next message: <A HREF="005314.html">[Gtk-sharp-list] glade autoconnect strangeness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5313">[ date ]</a>
              <a href="thread.html#5313">[ thread ]</a>
              <a href="subject.html#5313">[ subject ]</a>
              <a href="author.html#5313">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

This is the expected behavior if you look at the code: gtk-
sharp/glade/XML.custom. Basically, when you call Autoconnect(), it
iterates through all fields with the [Widget] attribute and sets them
with a GetWidget() call. So any [Widget] attribute that doesn't
correspond to a defined widget in the current XML file will be nulled
out.

You could argue whether this is desirable behavior or not (it would be
easy to not clear the field if it's already non-null). But it's not hard
to work around. Usually people just have a one-to-one mapping between
XML files and classes. It shouldn't be hard to define an inner class
that takes care of your dialog box.

Peter

On Fri, 2005-01-14 at 03:16 -0800, Adam Lydick wrote:
&gt;<i> I noticed some strange behavior with Glade# (libglade-cil , version
</I>&gt;<i> 1.0.4).
</I>&gt;<i> 
</I>&gt;<i> If I wire up widget references with .Autoconnect from more than one
</I>&gt;<i> top-level widget to a single class, the second instance seems to clobber
</I>&gt;<i> the mappings of the previous one. (eg: the old references are set to
</I>&gt;<i> &quot;null&quot; before the first .Autoconnect and after the second, but not after
</I>&gt;<i> the first.)
</I>&gt;<i> 
</I>&gt;<i> Am I imagining things? Or is this how it is supposed to work?
</I>&gt;<i> 
</I>&gt;<i> A snippit of my broken code follows:
</I>&gt;<i> 
</I>&gt;<i> //load winMain
</I>&gt;<i> 
</I>&gt;<i> //my [Glade.Widget] instanceVar is null here.
</I>&gt;<i> 
</I>&gt;<i> Glade.XML gxml = 
</I>&gt;<i> 	new Glade.XML (null, &quot;cashflow.glade&quot;, &quot;winMain&quot;, null);
</I>&gt;<i> gxml.Autoconnect (this); 
</I>&gt;<i> 	    
</I>&gt;<i> //my [Glade.Widget] instanceVar is NOT null here.
</I>&gt;<i> 	
</I>&gt;<i> //FIXME: glade clobbers old autoconnected entries on the 2nd pass...
</I>&gt;<i> //load winDateRange (a popup window on winMain)
</I>&gt;<i> //gxml = new Glade.XML (null, &quot;cashflow.glade&quot;, &quot;winDateRange&quot;, null);
</I>&gt;<i> //gxml.Autoconnect(this);
</I>&gt;<i> 
</I>&gt;<i> //my [Glade.Widget] instanceVar is null here, if not used by
</I>&gt;<i> winDateRange
</I>&gt;<i> 
</I>&gt;<i> Thanks again,
</I>&gt;<i> 
</I>-- 
Peter Williams                          <A HREF="mailto:peter@newton.cx">peter@newton.cx</A>

&quot;[Ninjas] are cool; and by cool, I mean totally sweet.&quot;
                              -- REAL Ultimate Power


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005309.html">[Gtk-sharp-list] glade autoconnect strangeness
</A></li>
	<LI> Next message: <A HREF="005314.html">[Gtk-sharp-list] glade autoconnect strangeness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5313">[ date ]</a>
              <a href="thread.html#5313">[ thread ]</a>
              <a href="subject.html#5313">[ subject ]</a>
              <a href="author.html#5313">[ author ]</a>
         </LI>
       </UL>
</body></html>
