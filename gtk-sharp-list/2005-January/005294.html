<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] custom cell renderer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mikkel%40linet.dk">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005292.html">
   <LINK REL="Next"  HREF="005289.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] custom cell renderer
   </H1>
    <B>Mikkel Kruse Johnsen
    </B> 
    <A HREF="mailto:mikkel%40linet.dk"
       TITLE="[Gtk-sharp-list] custom cell renderer">mikkel@linet.dk
       </A><BR>
    <I>Fri, 07 Jan 2005 08:43:13 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="005292.html">[Gtk-sharp-list] custom cell renderer
</A></li>
        <LI> Next message: <A HREF="005289.html">[Gtk-sharp-list] Drag and drop path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5294">[ date ]</a>
              <a href="thread.html#5294">[ thread ]</a>
              <a href="subject.html#5294">[ subject ]</a>
              <a href="author.html#5294">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-m8rvZc2bNUU/DWpBZ42h
Content-Type: multipart/alternative; boundary=&quot;=-qCpVEmNf2zyOcC2PkIXW&quot;


--=-qCpVEmNf2zyOcC2PkIXW
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hi

I don't know if all you want is a pixbuf and some text displayed beside
each other. If that is the case you don't need to make a custom
CellRendere, you can just pack the two renderes toghter like this:

---

               public enum Column :int {
                        Title,
                        Pixbuf,
                };


                        GType[] types = {   GType.String,
Gdk.Pixbuf.GType };

                       TreeStore store = new TreeStore (types);
                        treeview.Model = store;

                        TreeViewColumn column = new TreeViewColumn ();
                        column.Title = &quot;Pack Test&quot;;

                        CellRendererPixbuf pixbufRenderer = new
CellRendererPixbuf ();
                        column.PackStart (pixbufRenderer, false);
                        column.AddAttribute (pixbufRenderer, &quot;pixbuf&quot;,
(int)Column.Pixbuf);

                        CellRendererText textRenderer = new
CellRendererText ();
                        column.PackStart (textRenderer, false);
                        column.AddAttribute (textRenderer, &quot;text&quot;,
(int)Column.Title);

                        treeview.AppendColumn (column);
---

Remember that the &quot;Store&quot; doesn't have any relation to the CellRenderer
and CellRenderer only use the Store to get data. The Store has nothing
to do with how the data is presented. So you don't need a CellRederer
for every column in the Store, think of the Store as a database with
columns and the CellRederer is how to display that data.

Hope it helps, sorry if you already now that and really needed a custom
CellRenderer :)

/Mikkel


On Thu, 2005-01-06 at 12:10 -0500, Michael Quinn wrote:

&gt;<i> I'm trying to write just a simple custom CellRenderer that displays both
</I>&gt;<i> an icon and some text.  I've extended a CellRendererText, and within
</I>&gt;<i> that class it holds a CellRendererPixbuf object.  Then I override the
</I>&gt;<i> GetSize and Render methods so that the two render right next to each
</I>&gt;<i> other in a row.  Here's the relevant code:
</I>&gt;<i> 
</I>&gt;<i> public override void GetSize (Widget widget, ref Rectangle cell_area,
</I>&gt;<i> out int x_offset, out int y_offset, out int width, out int height)
</I>&gt;<i> {		
</I>&gt;<i>    int text_x, text_y, text_w, text_h;
</I>&gt;<i>    base.GetSize(widget, ref cell_area, out text_x, out text_y, out
</I>&gt;<i> text_w, out text_h);
</I>&gt;<i> 				
</I>&gt;<i>    int pix_x, pix_y, pix_w, pix_h;
</I>&gt;<i>    pixCell.GetSize(widget, ref cell_area, out pix_x, out pix_y, out
</I>&gt;<i> pix_w, out pix_h);
</I>&gt;<i> 
</I>&gt;<i>    if(text_w != 0 &amp;&amp; pix_w != 0)
</I>&gt;<i>       pix_w += (int)this.Xpad;
</I>&gt;<i> 
</I>&gt;<i>    x_offset = 0;
</I>&gt;<i>    y_offset = 0;
</I>&gt;<i>    width = text_w + pix_w;
</I>&gt;<i>    height = Math.Max(text_h, pix_h);
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> protected override void Render (Drawable window, Widget widget,
</I>&gt;<i> Rectangle background_area, Rectangle cell_area, Rectangle expose_area,
</I>&gt;<i> CellRendererState flags)
</I>&gt;<i> {
</I>&gt;<i>    Gdk.Window gdkWindow = (Gdk.Window)window;
</I>&gt;<i> 		
</I>&gt;<i>    int pix_x, pix_y, pix_w, pix_h;
</I>&gt;<i>    pixCell.GetSize(widget, ref cell_area, out pix_x, out pix_y, out
</I>&gt;<i> pix_w, out pix_h);
</I>&gt;<i> 		
</I>&gt;<i>    Rectangle pixCellArea = cell_area;
</I>&gt;<i>    pixCellArea.Width = pix_w;
</I>&gt;<i> 
</I>&gt;<i>    pixCell.Render(gdkWindow, widget, background_area, pixCellArea,
</I>&gt;<i> expose_area, flags);
</I>&gt;<i> 
</I>&gt;<i>    Rectangle textCellArea = cell_area;
</I>&gt;<i> 
</I>&gt;<i>    if (pix_w != 0)
</I>&gt;<i>    {
</I>&gt;<i>       textCellArea.X = textCellArea.X + pix_w + (int)this.Xpad;
</I>&gt;<i>       textCellArea.Width = textCellArea.Width - pix_w - (int)this.Xpad;
</I>&gt;<i>    }
</I>&gt;<i> 		
</I>&gt;<i>    base.Render(window, widget, background_area, textCellArea,
</I>&gt;<i> expose_area, flags);
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> pixCell is the CellRendererPixbuf contained inside my custom renderer.
</I>&gt;<i> This code has been ported almost line by line from a custom cell
</I>&gt;<i> renderer used in Coaster.  Some problems I'm having are:
</I>&gt;<i> 
</I>&gt;<i> the final base.Render call always throws a NullReferenceException (even
</I>&gt;<i> though neither window nor widget is null).  If I comment out this line,
</I>&gt;<i> though, the renderer still wont render the PixBuf.
</I>&gt;<i> 
</I>&gt;<i> Also, in the GetSize method, when I call pixCell.GetSize, pix_* are
</I>&gt;<i> always set to zero (which explains why it later won't render).
</I>&gt;<i> 
</I>&gt;<i> So, is there anybody who could offer any help? Or, is there a custom
</I>&gt;<i> cell renderer already out there that I could use that does this already?
</I>&gt;<i> Any help is greatly appreciated.  Oh, and yes, I'm sure that the
</I>&gt;<i> CellRendererPixbuf has its Pixbuf property properly assigned to a valid
</I>&gt;<i> Pixbuf.
</I>&gt;<i> 
</I>
--=-qCpVEmNf2zyOcC2PkIXW
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 7bit

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 TRANSITIONAL//EN&quot;&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
  &lt;META HTTP-EQUIV=&quot;Content-Type&quot; CONTENT=&quot;text/html; CHARSET=UTF-8&quot;&gt;
  &lt;META NAME=&quot;GENERATOR&quot; CONTENT=&quot;GtkHTML/3.3.2&quot;&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
Hi&lt;BR&gt;
&lt;BR&gt;
I don't know if all you want is a pixbuf and some text displayed beside each other. If that is the case you don't need to make a custom CellRendere, you can just pack the two renderes toghter like this:&lt;BR&gt;
&lt;BR&gt;
---&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; public enum Column :int {&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Title,&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Pixbuf,&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; };&lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; GType[] types = {&amp;nbsp;&amp;nbsp; GType.String, Gdk.Pixbuf.GType };&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; TreeStore store = new TreeStore (types);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; treeview.Model = store;&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; TreeViewColumn column = new TreeViewColumn ();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; column.Title = &amp;quot;Pack Test&amp;quot;;&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; CellRendererPixbuf pixbufRenderer = new CellRendererPixbuf ();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; column.PackStart (pixbufRenderer, false);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; column.AddAttribute (pixbufRenderer, &amp;quot;pixbuf&amp;quot;, (int)Column.Pixbuf);&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; CellRendererText textRenderer = new CellRendererText ();&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; column.PackStart (textRenderer, false);&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; column.AddAttribute (textRenderer, &amp;quot;text&amp;quot;, (int)Column.Title);&lt;BR&gt;
&lt;BR&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; treeview.AppendColumn (column);&lt;BR&gt;
---&lt;BR&gt;
&lt;BR&gt;
Remember that the &amp;quot;Store&amp;quot; doesn't have any relation to the CellRenderer and CellRenderer only use the Store to get data. The Store has nothing to do with how the data is presented. So you don't need a CellRederer for every column in the Store, think of the Store as a database with columns and the CellRederer is how to display that data.&lt;BR&gt;
&lt;BR&gt;
Hope it helps, sorry if you already now that and really needed a custom CellRenderer &lt;IMG SRC=&quot;cid:<A HREF="mailto:1105083744.3167.9.camel@tibook.orholm.dk">1105083744.3167.9.camel@tibook.orholm.dk</A>&quot; ALIGN=&quot;middle&quot; ALT=&quot;:)&quot; BORDER=&quot;0&quot;&gt;&lt;BR&gt;
&lt;BR&gt;
/Mikkel&lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
On Thu, 2005-01-06 at 12:10 -0500, Michael Quinn wrote:
&lt;BLOCKQUOTE TYPE=CITE&gt;
&lt;PRE&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;I'm trying to write just a simple custom CellRenderer that displays both&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;an icon and some text.  I've extended a CellRendererText, and within&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;that class it holds a CellRendererPixbuf object.  Then I override the&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;GetSize and Render methods so that the two render right next to each&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;other in a row.  Here's the relevant code:&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;public override void GetSize (Widget widget, ref Rectangle cell_area,&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;out int x_offset, out int y_offset, out int width, out int height)&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;{		&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   int text_x, text_y, text_w, text_h;&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   base.GetSize(widget, ref cell_area, out text_x, out text_y, out&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;text_w, out text_h);&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;				&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   int pix_x, pix_y, pix_w, pix_h;&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   pixCell.GetSize(widget, ref cell_area, out pix_x, out pix_y, out&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;pix_w, out pix_h);&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;   if(text_w != 0 &amp;amp;&amp;amp; pix_w != 0)&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;      pix_w += (int)this.Xpad;&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;   x_offset = 0;&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   y_offset = 0;&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   width = text_w + pix_w;&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   height = Math.Max(text_h, pix_h);&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;}&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;protected override void Render (Drawable window, Widget widget,&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;Rectangle background_area, Rectangle cell_area, Rectangle expose_area,&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;CellRendererState flags)&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;{&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   Gdk.Window gdkWindow = (Gdk.Window)window;&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;		&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   int pix_x, pix_y, pix_w, pix_h;&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   pixCell.GetSize(widget, ref cell_area, out pix_x, out pix_y, out&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;pix_w, out pix_h);&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;		&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   Rectangle pixCellArea = cell_area;&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   pixCellArea.Width = pix_w;&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;   pixCell.Render(gdkWindow, widget, background_area, pixCellArea,&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;expose_area, flags);&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;   Rectangle textCellArea = cell_area;&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;   if (pix_w != 0)&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   {&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;      textCellArea.X = textCellArea.X + pix_w + (int)this.Xpad;&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;      textCellArea.Width = textCellArea.Width - pix_w - (int)this.Xpad;&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   }&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;		&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;   base.Render(window, widget, background_area, textCellArea,&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;expose_area, flags);&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;}&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;pixCell is the CellRendererPixbuf contained inside my custom renderer.&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;This code has been ported almost line by line from a custom cell&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;renderer used in Coaster.  Some problems I'm having are:&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;the final base.Render call always throws a NullReferenceException (even&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;though neither window nor widget is null).  If I comment out this line,&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;though, the renderer still wont render the PixBuf.&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;Also, in the GetSize method, when I call pixCell.GetSize, pix_* are&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;always set to zero (which explains why it later won't render).&lt;/FONT&gt;

&lt;FONT COLOR=&quot;#000000&quot;&gt;So, is there anybody who could offer any help? Or, is there a custom&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;cell renderer already out there that I could use that does this already?&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;Any help is greatly appreciated.  Oh, and yes, I'm sure that the&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;CellRendererPixbuf has its Pixbuf property properly assigned to a valid&lt;/FONT&gt;
&lt;FONT COLOR=&quot;#000000&quot;&gt;Pixbuf.&lt;/FONT&gt;

&lt;/PRE&gt;
&lt;/BLOCKQUOTE&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;

--=-qCpVEmNf2zyOcC2PkIXW--

--=-m8rvZc2bNUU/DWpBZ42h
Content-ID: &lt;<A HREF="mailto:1105083744.3167.9.camel@tibook.orholm.dk">1105083744.3167.9.camel@tibook.orholm.dk</A>&gt;
Content-Disposition: attachment; filename=smiley-3.png
Content-Type: image/png; name=smiley-3.png
Content-Transfer-Encoding: base64

iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC+klEQVR42n2TbUjVdxTHP/+H69Xd
a2VWlFe69rzthZJUoxeNOWoFGxEhYRRFmZSVW2u9ab2KejWE1qDNBkEQhS82VoiaZkVPmoWaKNM5
mA+opbd771//997//T/+epHBarEPHA6Hc84XDnwP/JcwcBS4AVgzcR04ONN7C+md+pcPCz44dPLA
arZs/gg1UABuGkvvp7X1Iad+itE/YtUAle8TuH26sujzqq/LkJQsnOQQVmIASVJQMhehZORiJwc5
d76FH2pf3gY2Aigzy7+eObqmtOqbXbjGGHZqCM+eQpJ9AHhWFCc5CAjWf1KAkppc+qg3vRCol4Fw
0aqcisOVW3HTE7hmBElSKD/5GFkNMhH1KDvegST78CwNSfZxeM88VuYrh4CwAuxqvxL6MnPuWiy9
H1kNUPH9fZofDKPpHn8/z+Z6Yw8JK5stX5VhRO6h+OfiV3WaHxtPVKAwmF+KqXUDMkgqZ0+UoKcE
P57/GXOqh46ODqrPXUQfufb6YOGxJOQD2CaHQnnlAJ4zDXggHBYvK6ap6Rau+RIz1k7djd+YHrqM
pXUC4KQnWTRPAdiuRqNRkFQG/omRNJOsKVQw408xtS4QDsI10AaqEY6O8Fzq70fJy3XI8gsA5HTa
rBdOkvwFKj39EWrr/sJzEnj29OvsphGugfBsLlwbZnjcYN36LxiLuADtMtCUetFAcE4ee8s+pbHV
YtOemwhHx3MSaPEY3X9OUnqsk5a2OMeP7KC3t4u+3gRALUC4cEW2eN62Q4ze3SAiz74TDxvOiI+X
BcTsoCoyfJKYn6OKmrMbxGRnlXhyJSSqv80Vq0KSAFa+ceKl0wcK9lfsW42TGsE/pxhfcDmKfz6e
FUPg4iRH6Ov6g9EJh1t341xusWuAyn9b+c7BrbklJ8oDZGTOQpL9ePY08SmDpCEwbcHwuE370yku
Nlj3gM/e90yXliyU9+8sCVJYlEUgU8IwBZruMThm83uzxsAYV4Hd/A9h4BjQBthAFOgDLgDF7w6/
ArI6YJ0eTQeGAAAAAElFTkSuQmCC


--=-m8rvZc2bNUU/DWpBZ42h--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005292.html">[Gtk-sharp-list] custom cell renderer
</A></li>
	<LI> Next message: <A HREF="005289.html">[Gtk-sharp-list] Drag and drop path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5294">[ date ]</a>
              <a href="thread.html#5294">[ thread ]</a>
              <a href="subject.html#5294">[ subject ]</a>
              <a href="author.html#5294">[ author ]</a>
         </LI>
       </UL>
</body></html>
