<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Gnome app + Shell Command + Threads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:s22157809%40tuks.co.za">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005374.html">
   <LINK REL="Next"  HREF="005375.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Gnome app + Shell Command + Threads
   </H1>
    <B>s22157809@tuks.co.za
    </B> 
    <A HREF="mailto:s22157809%40tuks.co.za"
       TITLE="[Gtk-sharp-list] Gnome app + Shell Command + Threads">s22157809@tuks.co.za
       </A><BR>
    <I>Mon, 31 Jan 2005 22:00:44 +0200 (SAST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="005374.html">[Gtk-sharp-list] Gnome app + Shell Command + Threads
</A></li>
        <LI> Next message: <A HREF="005375.html">[Gtk-sharp-list] Gnome app + Shell Command + Threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5379">[ date ]</a>
              <a href="thread.html#5379">[ thread ]</a>
              <a href="subject.html#5379">[ subject ]</a>
              <a href="author.html#5379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

As far as I know, it has to do with threads.  More specificly the GUI thread. 
You have one thread that draws the GUI(Application.Run). It looks like that ONLY
that thread can cause updates to any Widget or Window.

So a possible solution might be to get the output from the new process to
trigger an event in your GUI thread, so that the GUI thread updates the textview
widget.  

I might be completely off track, but its what I would do :)

Regards,
Ian Galpin

Quoting Antonio Gutiérrez Mayoral &lt;<A HREF="mailto:agutierr@gsyc.escet.urjc.es">agutierr@gsyc.escet.urjc.es</A>&gt;:

&gt;<i> Hi All:
</I>&gt;<i> 
</I>&gt;<i> I have the next problem. I am writing a gnome app... and in a moment I
</I>&gt;<i> launch a shell command. I would like to write the output of this
</I>&gt;<i> command
</I>&gt;<i> over a textview widget, at the same time the command is executed. I am
</I>&gt;<i> using System.Threads to do this, 
</I>&gt;<i> 
</I>&gt;<i> 	Thread t = new Thread ( new ThreadStart( this.process_ ) ) ;
</I>&gt;<i> 	t.Start();	
</I>&gt;<i> 
</I>&gt;<i> And I read the standard output in the shell process, 
</I>&gt;<i> 
</I>&gt;<i> 	p.StartInfo.UseShellExecute = false;
</I>&gt;<i> 	p.StartInfo.RedirectStandardOutput = true;
</I>&gt;<i> 	p.StartInfo.RedirectStandardInput = true;
</I>&gt;<i> 	p.StartInfo.RedirectStandardOutput = true;
</I>&gt;<i> 	p.StartInfo.CreateNoWindow = true;
</I>&gt;<i> 			
</I>&gt;<i> 	p.Start();
</I>&gt;<i> 			
</I>&gt;<i> 	while ( (buf1 = p.StandardOutput.ReadLine() ) != null) {
</I>&gt;<i> 		if (buf1 != null) {
</I>&gt;<i> 			System.Console.WriteLine(buf1);
</I>&gt;<i> 			buffer.Text += buf1 + EOF;
</I>&gt;<i> 		}
</I>&gt;<i> 		p.Refresh();
</I>&gt;<i> 	}
</I>&gt;<i> 	p.WaitForExit();
</I>&gt;<i> 
</I>&gt;<i> It doesnt works fine :-( The dialog that contain the textview is
</I>&gt;<i> blocked... and I have to pass the mouse over the textview to refresh
</I>&gt;<i> it... What's wrong ? Shall I use System.Threads ? The Threads in Gtk
</I>&gt;<i> are
</I>&gt;<i> well-supported?
</I>&gt;<i> 
</I>&gt;<i> Thanks All!
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Antonio Gutiérrez Mayoral
</I>&gt;<i> Grupo de Sistemas y Comunicaciones &lt;<A HREF="http://gsyc.info">http://gsyc.info</A>&gt;
</I>&gt;<i> Universidad Rey Juan Carlos &lt;<A HREF="http://www.urjc.es">http://www.urjc.es</A>&gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>&gt;<i> 
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005374.html">[Gtk-sharp-list] Gnome app + Shell Command + Threads
</A></li>
	<LI> Next message: <A HREF="005375.html">[Gtk-sharp-list] Gnome app + Shell Command + Threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5379">[ date ]</a>
              <a href="thread.html#5379">[ thread ]</a>
              <a href="subject.html#5379">[ subject ]</a>
              <a href="author.html#5379">[ author ]</a>
         </LI>
       </UL>
</body></html>
