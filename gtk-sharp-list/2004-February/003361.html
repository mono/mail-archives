<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Getting an image from the web
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lee%40leewillis.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003356.html">
   <LINK REL="Next"  HREF="003359.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Getting an image from the web
   </H1>
    <B>Lee Willis
    </B> 
    <A HREF="mailto:lee%40leewillis.co.uk"
       TITLE="[Gtk-sharp-list] Getting an image from the web">lee@leewillis.co.uk
       </A><BR>
    <I>Wed, 11 Feb 2004 08:32:09 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="003356.html">[Gtk-sharp-list] Getting an image from the web
</A></li>
        <LI> Next message: <A HREF="003359.html">[Gtk-sharp-list] Cannot find type HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3361">[ date ]</a>
              <a href="thread.html#3361">[ thread ]</a>
              <a href="subject.html#3361">[ subject ]</a>
              <a href="author.html#3361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2004-02-11 at 01:20, Ben Maurer wrote:
&gt;<i> Actually, the best way to do it is via the System.Net namespace. You can
</I>&gt;<i> make an http request to get an image from the url that you have. Then,
</I>&gt;<i> you just plug the bytes you get back into gtk however you need to (there
</I>&gt;<i> is probably some way to do that, depends on exactly what api you want to
</I>&gt;<i> use)
</I>
There's code in Muine (A fantastic music player written in c# -
<A HREF="http://people.nl.linux.org/~jorn/Muine/">http://people.nl.linux.org/~jorn/Muine/</A>) that retrieves the contents of
a URL and turns it into a GdkPixbuf - would that be useful?

------------------------------------------------------------
Pixbuf cover;
/* read the cover image */
HttpWebRequest req = (HttpWebRequest) WebRequest.Create (album_url);
req.UserAgent = &quot;USERAGENTSTRING HERE&quot;;
req.KeepAlive = false;
req.Timeout = 30000; /* Timeout after 30 seconds */	
WebResponse resp = null;
resp = req.GetResponse ();
Stream s = resp.GetResponseStream ();
cover = new Pixbuf (s);
resp.Close ();
------------------------------------------------------------

The above code can throw a number of exceptions which you'll have to
deal with. They aren't included in this snippet since in Muine the
desireable behaviour is to let them bubble up to the calling function
...

Hope that helps
Lee 






</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003356.html">[Gtk-sharp-list] Getting an image from the web
</A></li>
	<LI> Next message: <A HREF="003359.html">[Gtk-sharp-list] Cannot find type HTML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3361">[ date ]</a>
              <a href="thread.html#3361">[ thread ]</a>
              <a href="subject.html#3361">[ subject ]</a>
              <a href="author.html#3361">[ author ]</a>
         </LI>
       </UL>
</body></html>
