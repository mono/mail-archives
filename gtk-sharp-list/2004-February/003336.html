<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Interop
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rbarreiros%40evoluta.pt">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003338.html">
   <LINK REL="Next"  HREF="003337.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Interop
   </H1>
    <B>Rui Barreiros
    </B> 
    <A HREF="mailto:rbarreiros%40evoluta.pt"
       TITLE="[Gtk-sharp-list] Interop">rbarreiros@evoluta.pt
       </A><BR>
    <I>Sun, 08 Feb 2004 13:13:22 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="003338.html">[Gtk-sharp-list] gtksourceview-sharp: GetLanguageFromMimeType
</A></li>
        <LI> Next message: <A HREF="003337.html">[Gtk-sharp-list] Interop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3336">[ date ]</a>
              <a href="thread.html#3336">[ thread ]</a>
              <a href="subject.html#3336">[ subject ]</a>
              <a href="author.html#3336">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry i'm writing to this list, it's not gtksharp related but it's the
list i'm subscribed right now and it a kind of urgent.

I'm trying to write a GUI from clamav but i have some troubles with the
struct's defined in clamav.h one is:

struct cl_node
{
  char islast;
  struct cli_patt *list;
  struct cl_node *trans[CL_NUM_CHILDS], *fail;
  unsigned int maxpatlen, partsigs;
  unsigned int nodes;
  struct cl_node **nodetable;
}

How can i use this struct in mono?

i tried this, i always get compile errors about the loop reference in
the struct, and probably there are other things not right:

[StructLayout(LayoutKind.Sequential)]
public struct cl_node
{
  public short islast;
  public cli_patt list; // I already have struct cli_patt defined above
  private cl_node trans;
  private cl_node fail;
  public uint partsigs;
  public uint maxpatlen;
  public uint nodes;
  private cl_node nodetable;

  [DllImport(&quot;libclamav&quot;)]
  public static extern void PassByValue(cl_node n);

  [DllImport(&quot;libclamav&quot;)]
  public static extern void PassByReference(cl_node n);
}

I really appreciate some help, as my knowledge about interop on mono is
really null!! 

Thanks to everybody in advance!

-- 
Rui Barreiros

Evoluta - Tecnologias de Informação
Rua do Padrão nº 58 2º Andar Sala 25
4415-284 Carvalhos
Tel: 227839464 Fax: 227839465
<A HREF="http://www.evoluta.pt">http://www.evoluta.pt</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003338.html">[Gtk-sharp-list] gtksourceview-sharp: GetLanguageFromMimeType
</A></li>
	<LI> Next message: <A HREF="003337.html">[Gtk-sharp-list] Interop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3336">[ date ]</a>
              <a href="thread.html#3336">[ thread ]</a>
              <a href="subject.html#3336">[ subject ]</a>
              <a href="author.html#3336">[ author ]</a>
         </LI>
       </UL>
</body></html>
