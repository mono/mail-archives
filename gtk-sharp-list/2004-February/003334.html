<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] gtksourceview-sharp: GetLanguageFromMimeType
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:spark-mailinglists%40web.de">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003357.html">
   <LINK REL="Next"  HREF="003335.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] gtksourceview-sharp: GetLanguageFromMimeType
   </H1>
    <B>Daniel Borgmann
    </B> 
    <A HREF="mailto:spark-mailinglists%40web.de"
       TITLE="[Gtk-sharp-list] gtksourceview-sharp: GetLanguageFromMimeType">spark-mailinglists@web.de
       </A><BR>
    <I>Sun, 08 Feb 2004 07:04:03 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="003357.html">[Gtk-sharp-list] DataGird GTK#
</A></li>
        <LI> Next message: <A HREF="003335.html">[Gtk-sharp-list] gtksourceview-sharp: GetLanguageFromMimeType
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3334">[ date ]</a>
              <a href="thread.html#3334">[ thread ]</a>
              <a href="subject.html#3334">[ subject ]</a>
              <a href="author.html#3334">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

The GetLanguageFromMimeType() function of the SourceLanguagesManager
class in gtksourceview-sharp has always been broken for me, recently a
&quot;fix&quot; for it was removed from CVS because it led to null pointer
exceptions. But this seems to actually work:

public Gtk.SourceLanguage GetLanguageFromMimeType(string mime_type) {
	IntPtr raw_ret =
gtk_source_languages_manager_get_language_from_mime_type(Handle,
mime_type);
	Gtk.SourceLanguage ret;
	if (raw_ret == IntPtr.Zero)
		ret = null;
	else
		ret = new Gtk.SourceLanguage(raw_ret);
	return ret;
}

Gtk# 0.16 already does the check for null, but the cast is created as
&quot;(Gtk.SourceLanguage) GLib.Object.GetObject(raw_ret)&quot;, which leads to an
error. 
It would be nice if this could be fixed in CVS again or maybe in the
code generator. I'm very new to all of this, so I have no idea what
would be the right thing to do. :) Thanks.

Daniel


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003357.html">[Gtk-sharp-list] DataGird GTK#
</A></li>
	<LI> Next message: <A HREF="003335.html">[Gtk-sharp-list] gtksourceview-sharp: GetLanguageFromMimeType
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3334">[ date ]</a>
              <a href="thread.html#3334">[ thread ]</a>
              <a href="subject.html#3334">[ subject ]</a>
              <a href="author.html#3334">[ author ]</a>
         </LI>
       </UL>
</body></html>
