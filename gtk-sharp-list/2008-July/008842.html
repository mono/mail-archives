<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Overriding default behaviour of a	cellrenderertext
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Overriding%20default%20behaviour%20of%20a%0A%09cellrenderertext&In-Reply-To=204571.35936.qm%40web50302.mail.re2.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008841.html">
   <LINK REL="Next"  HREF="008843.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Overriding default behaviour of a	cellrenderertext</H1>
    <B>Christian Hoff</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Overriding%20default%20behaviour%20of%20a%0A%09cellrenderertext&In-Reply-To=204571.35936.qm%40web50302.mail.re2.yahoo.com"
       TITLE="[Gtk-sharp-list] Overriding default behaviour of a	cellrenderertext">christian_hoff at gmx.net
       </A><BR>
    <I>Fri Jul 25 04:25:31 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008841.html">[Gtk-sharp-list] Overriding default behaviour of a cellrenderertext
</A></li>
        <LI>Next message: <A HREF="008843.html">[Gtk-sharp-list] Gtk.Combobox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8842">[ date ]</a>
              <a href="thread.html#8842">[ thread ]</a>
              <a href="subject.html#8842">[ subject ]</a>
              <a href="author.html#8842">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Looks like the event is not passed to the Entry. Pressing &quot;return&quot; in
the entry should definetly fire an edited event. Although I have no idea
how to handle key events in Gtk, is it possible that you have overriden
some sort of OnKeyPress method in the TreeView? If you don't call
base.OnKeyPress the TreeView will never get notified about the pressed
key; if the Entry is a child widget if the TreeView it may not receive
the event as well.

But that's just pure speculation. If you really want to bring light into
the dark, you should have a look into the the Gtk+ code of the entry or
create your own class derived from Gtk.CellRendererText, override the
OnEditingStartedMethod, call base.OnEditingStarted from this context and
attach some useful signal handlers to the returned entry of the base
method to see whether it gets an event when &quot;return&quot; is pressed.

Christian
&gt;<i> I have written a simple data grid using a treeview and underlying list 
</I>&gt;<i> store due to the fact that there is not one in GTK# and the Medsphere 
</I>&gt;<i> one does not allow editing (and the documentation is *very* poor).  
</I>&gt;<i> Basically I have a key press handler on the main window that allows 
</I>&gt;<i> the user to use the Insert and Del keys to insert and delete rows 
</I>&gt;<i> respectively.  The ones that I am having problems with are the 
</I>&gt;<i> Return/Enter key (to move down one 'row' and to add a new row if at 
</I>&gt;<i> the last row) and Tab (to move to the next column and put the cell in 
</I>&gt;<i> edit mode).  The problem is that when you Return or Tab it takes you 
</I>&gt;<i> to the correct cell etc, but the previous cell you have just processed 
</I>&gt;<i> does not fire the Edited event for the cell renderer - and thus I 
</I>&gt;<i> cannot save the processed text in the list store.  I have tried other 
</I>&gt;<i> keys with the result being the same.  Does anybody have an idea why it 
</I>&gt;<i> is behaving like this given that if I mouse click to a different cell 
</I>&gt;<i> then the Edited event is fired - thus allowing things to work.  I 
</I>&gt;<i> understand that there is an Entry that underlies the cell renderer 
</I>&gt;<i> text - but couldn't see what I could change there (if I connected to 
</I>&gt;<i> the 'start edit' event and then used the 'args.editable' member) so 
</I>&gt;<i> that seemed to be a dead end as well.
</I>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008841.html">[Gtk-sharp-list] Overriding default behaviour of a cellrenderertext
</A></li>
	<LI>Next message: <A HREF="008843.html">[Gtk-sharp-list] Gtk.Combobox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8842">[ date ]</a>
              <a href="thread.html#8842">[ thread ]</a>
              <a href="subject.html#8842">[ subject ]</a>
              <a href="author.html#8842">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
