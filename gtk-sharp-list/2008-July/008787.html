<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] Need help (again) with desktop files!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Need%20help%20%28again%29%20with%20desktop%20files%21&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="008788.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] Need help (again) with desktop files!</H1>
    <B>Alex Launi</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=%5BGtk-sharp-list%5D%20Need%20help%20%28again%29%20with%20desktop%20files%21&In-Reply-To="
       TITLE="[Gtk-sharp-list] Need help (again) with desktop files!">alex.launi at gmail.com
       </A><BR>
    <I>Wed Jul  2 11:47:47 EDT 2008</I>
    <P><UL>
        
        <LI>Next message: <A HREF="008788.html">[Gtk-sharp-list]  Gtk# class library refrence or manual?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8787">[ date ]</a>
              <a href="thread.html#8787">[ thread ]</a>
              <a href="subject.html#8787">[ subject ]</a>
              <a href="author.html#8787">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Gtk# list, I'm trying to parse desktop files in a localizable way,
this works, however it gives me all kind of hell in terms of console output.
If I change DesktopItemLoadFlags.OnlyIfExists to
DesktopItemLoadFlags.NoTranslations, all of my errors go away, but then my
calls to GetLocalestring are worthless. It's very frustrating to have all of
these Gtk errors being printed non-stop. Does anyone have an idea of how to
deal with them? Here is my code, and the output it gives me.

[CODE]
        public ApplicationItem (string desktopFile)
        {
            item = DesktopItem.NewFromFile (desktopFile,
                DesktopItemLoadFlags.OnlyIfExists);
            if (null == item)
                throw new Exception (desktopFile + &quot; not found.&quot;);
        }

        public string Name {
            get {
                return item.GetLocalestring (&quot;Name&quot;);
            }
        }

        public string Description {
            get {
                return item.GetLocalestring (&quot;Comment&quot;);
            }
        }

        public string Icon {
            get {
                return item.GetIcon (IconTheme.Default);
            }
        }

        public string Exec {
            get {
                return item.GetString (&quot;Exec&quot;);
            }
        }

        public bool Hidden {
            get {
                return item.GetBoolean (&quot;NoDisplay&quot;);
            }
        }
[/CODE]

[OUTPUT]

** (Do:31659): CRITICAL **: gnome_desktop_item_get_boolean: assertion `item
!= NULL' failed

** (Do:31659): CRITICAL **: gnome_desktop_item_get_localestring: assertion
`item != NULL' failed

[/OUTPUT]

It gives me those two CRITICAL messages about many times each. First around
10 of the  ** (Do:29487): CRITICAL **: gnome_desktop_item_get_boolean:
assertion `item != NULL' failed and then 50 or more of the other.

Thank you for your help.

-- 
--Alex Launi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20080702/bbefa10a/attachment-0001.html">http://lists.ximian.com/pipermail/gtk-sharp-list/attachments/20080702/bbefa10a/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="008788.html">[Gtk-sharp-list]  Gtk# class library refrence or manual?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8787">[ date ]</a>
              <a href="thread.html#8787">[ thread ]</a>
              <a href="subject.html#8787">[ subject ]</a>
              <a href="author.html#8787">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
