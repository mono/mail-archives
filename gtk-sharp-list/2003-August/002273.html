<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] DllImport on *.so files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:dag%40wieers.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002272.html">
   <LINK REL="Next"  HREF="002281.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] DllImport on *.so files
   </H1>
    <B>Dag Wieers
    </B> 
    <A HREF="mailto:dag%40wieers.com"
       TITLE="[Gtk-sharp-list] DllImport on *.so files">dag@wieers.com
       </A><BR>
    <I>Tue, 19 Aug 2003 02:55:49 +0200 (CEST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="002272.html">[Gtk-sharp-list] DllImport on *.so files
</A></li>
        <LI> Next message: <A HREF="002281.html">[Gtk-sharp-list] DllImport on *.so files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2273">[ date ]</a>
              <a href="thread.html#2273">[ thread ]</a>
              <a href="subject.html#2273">[ subject ]</a>
              <a href="author.html#2273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 18 Aug 2003, Paolo Molaro wrote:

&gt;<i> Currently, the mapping used for Gtk# is something like:
</I>&gt;<i> 
</I>&gt;<i> &lt;dllmap dll=&quot;libgtk-win32-2.0-0.dll&quot; target=&quot;libgtk-x11-2.0.so&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i> This is correct, but requires the gtk+ development package to be
</I>&gt;<i> installed. A better entry is to use:
</I>&gt;<i> 
</I>&gt;<i> &lt;dllmap dll=&quot;libgtk-win32-2.0-0.dll&quot; target=&quot;libgtk-x11-2.0.so.0&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i> This will load the same library through it's versioned soname, just like
</I>&gt;<i> when a normal C program is linked against libgtk+. No need for extra
</I>&gt;<i> libraries, you can just fix the config file on your system or test and
</I>&gt;<i> submit a patch for the config file installed by default by mono.
</I>
Nice, and I guess the mapping is used at buildtime ?

So what it takes for a packager is to generate in some way these mappings 
before building and add the required packages (for the .so.? files) to the 
package dependencies.


Still this does not guarantee that the .dll's work with the specific 
libraries installed, if I'm correct.

Eg. gtk-sharp requires gtkhtml3 and Red Hat only ships gtkhtml2 (and 
building gtkhtml3 is a real mess as it requires a newer gtk2 etc etc...)

Some way of verifying if function-calls map with existing libraries would 
be prefered.


PS I didn't also know that there was a 1:1 mapping between a .dll and a 
.so. I also don't seem to have any dllmap entries in my default 
machine.config, is that the right file to look into ?

PS2 Would those patches be accepted that just add the libmajor ?

Thanks for your feedback,
--   dag wieers,  <A HREF="mailto:dag@wieers.com">dag@wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[Any errors in spelling, tact or fact are transmission errors]


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002272.html">[Gtk-sharp-list] DllImport on *.so files
</A></li>
	<LI> Next message: <A HREF="002281.html">[Gtk-sharp-list] DllImport on *.so files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2273">[ date ]</a>
              <a href="thread.html#2273">[ thread ]</a>
              <a href="subject.html#2273">[ subject ]</a>
              <a href="author.html#2273">[ author ]</a>
         </LI>
       </UL>
</body></html>
