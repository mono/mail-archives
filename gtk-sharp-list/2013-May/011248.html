<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gtk-sharp-list] DND reordering in treeview
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Re%3A%20%5BGtk-sharp-list%5D%20DND%20reordering%20in%20treeview&In-Reply-To=%3C1368868072763-4659700.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011249.html">
   <LINK REL="Next"  HREF="011253.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gtk-sharp-list] DND reordering in treeview</H1>
    <B>Gankov</B> 
    <A HREF="mailto:gtk-sharp-list%40lists.ximian.com?Subject=Re%3A%20%5BGtk-sharp-list%5D%20DND%20reordering%20in%20treeview&In-Reply-To=%3C1368868072763-4659700.post%40n4.nabble.com%3E"
       TITLE="[Gtk-sharp-list] DND reordering in treeview">gankov.andrey at inbox.ru
       </A><BR>
    <I>Sat May 18 09:07:52 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="011249.html">[Gtk-sharp-list] webkit-sharp does not find webkit DLL
</A></li>
        <LI>Next message: <A HREF="011253.html">[Gtk-sharp-list] Transparent, click-through window in Gtk#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11248">[ date ]</a>
              <a href="thread.html#11248">[ thread ]</a>
              <a href="subject.html#11248">[ subject ]</a>
              <a href="author.html#11248">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello

I have treeview with two levels of tree, i want allow user reorder items
with Drag and Drop. I set reorderable property to true, and it works. But i
want to user can drag and drop only second level items, and can't drag first
level items.

I found that i can use RowDraggable and RowDropPossible method for it. I try
override these methods:
	class ImageTreeStore : Gtk.TreeStore, TreeDragSourceImplementor,
TreeDragDestImplementor
	{
		public ImageTreeStore(params Type[] types) : base (types)
		{
	
		}

		public new bool RowDraggable (TreePath path)
		{
			return path.Depth == 2;
		}

		public new bool RowDropPossible(TreePath path, SelectionData sel)
		{
			return path.Depth == 2;
		}

		public new bool DragDataGet(TreePath path, SelectionData sel)
		{
			return true;
		}
	}

If i didn't override DragDataGet too, application fail.
But reordering by DND don't works. I can't found any examples or manuals how
use RowDraggable with standard reorder function of treeview. Please help
understand how use it or give me link on code that use it.



--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/DND-reordering-in-treeview-tp4659700.html">http://mono.1490590.n4.nabble.com/DND-reordering-in-treeview-tp4659700.html</A>
Sent from the Mono - Gtk# mailing list archive at Nabble.com.
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011249.html">[Gtk-sharp-list] webkit-sharp does not find webkit DLL
</A></li>
	<LI>Next message: <A HREF="011253.html">[Gtk-sharp-list] Transparent, click-through window in Gtk#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11248">[ date ]</a>
              <a href="thread.html#11248">[ thread ]</a>
              <a href="subject.html#11248">[ subject ]</a>
              <a href="author.html#11248">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">More information about the Gtk-sharp-list
mailing list</a><br>
</body></html>
