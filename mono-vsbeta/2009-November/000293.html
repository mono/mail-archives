<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-vsbeta] A couple of useful things
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-vsbeta%40lists.ximian.com?Subject=%5BMono-vsbeta%5D%20A%20couple%20of%20useful%20things&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-vsbeta] A couple of useful things</H1>
    <B>Antonio Anzivino</B> 
    <A HREF="mailto:mono-vsbeta%40lists.ximian.com?Subject=%5BMono-vsbeta%5D%20A%20couple%20of%20useful%20things&In-Reply-To="
       TITLE="[Mono-vsbeta] A couple of useful things">djechelon at zighinetto.org
       </A><BR>
    <I>Sun Nov  1 15:12:12 EST 2009</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000294.html">[Mono-vsbeta] Command arguments during debug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#293">[ date ]</a>
              <a href="thread.html#293">[ thread ]</a>
              <a href="subject.html#293">[ subject ]</a>
              <a href="author.html#293">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings,
a couple of new ideas just came into my mind for future releases of MonoVS. 
They are all project templates to include into the &quot;New Project&quot; dialog.

The first is a daemon template. It allows the developer to easily create a 
UNIX daemon in managed code without hammering his head on the wall (like I'm 
doing) in order to build a custom rcxxxxx script. I'm no shell programmer, so 
I don't know how to let my C# application, invoked as &quot;mono 
/usr/path/MyApp.exe&quot; run on system startup and be shut down properly at system 
halt or reboot, with concern about running it in chroot enviroment with 
minimal privileges: I would have to study lots of documentation for that.
I currently hooked daemonization and shutdown parameters into my console 
application, so I can start and stop it by issuing commandline arguments, but 
I never wrote an rc file with all the start|stop|restart|try-restart|status 
commands. (I currently use a PID file but I think I could play with the 
System.Diagnostics.Procerss class)

The second idea was actually an RPM package template. I'm aware of the MonoVS 
&quot;Create Linux package for project&quot; menu, I wanted to try it but I got an error 
(details on the bottom of the message). As I know, RPM is a complex format 
that even allows execution of scripts (such as mkinitrd for kernel packages, 
or fetchmsttfonts that doesn't carry fonts within it but downloads them). It 
could be joined with the daemon template to correctly deploy all the 
files/links into the system, like rc scripts in my example, which need to be 
soft-linked in several directories. The RPM script might, as Visual Studio's 
CAB/installer project, deploy assemblies into the GAC if needed, by running 
Mono's gacutil script.
I don't know the capabilities of the Linux package command menu, but one 
problem would persist: libraries that build RPM/deb archives must be used by 
MonoVS under Windows.

Anyway, if there is a way to install a CAB file (that I can create in VS) into 
Unix with Mono and I didn't know, you can easily forget the second proposal :D 
except for the rc script linking


Here is the error I got when selecting a console application for RPM creation

---------------------------

---------------------------
System.IO.FileNotFoundException: Impossibile trovare il file specificato. 
(Eccezione da HRESULT: 0x80070002)

   in EnvDTE90.Solution3.GetProjectItemTemplate(String TemplateName, String 
Language)

   in Novell.MonoVS.PackageRunner.Run()

   in Novell.MonoVS.Package.CreatePackageCallback(Object sender, EventArgs e)
---------------------------
OK
---------------------------


Thank you.
Antonio
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3687 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-vsbeta/attachments/20091101/b70bfe25/attachment-0001.bin">http://lists.ximian.com/pipermail/mono-vsbeta/attachments/20091101/b70bfe25/attachment-0001.bin</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000294.html">[Mono-vsbeta] Command arguments during debug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#293">[ date ]</a>
              <a href="thread.html#293">[ thread ]</a>
              <a href="subject.html#293">[ subject ]</a>
              <a href="author.html#293">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-vsbeta">More information about the Mono-vsbeta
mailing list</a><br>
</body></html>
