<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-docs-list] Mono.Simd API Suggestions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20Mono.Simd%20API%20Suggestions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001927.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-docs-list] Mono.Simd API Suggestions</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20Mono.Simd%20API%20Suggestions&In-Reply-To="
       TITLE="[Mono-docs-list] Mono.Simd API Suggestions">jonpryor at vt.edu
       </A><BR>
    <I>Tue Nov  4 21:00:35 EST 2008</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001927.html">[Mono-docs-list] Mono.Simd API Suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1926">[ date ]</a>
              <a href="thread.html#1926">[ thread ]</a>
              <a href="subject.html#1926">[ subject ]</a>
              <a href="author.html#1926">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just perusing through the Mono.Simd API, and one question (and a few
other suggestions) occurs to me: Why the non-reliance on method
overloading?

More specifically, many (most?) types have an UnpackLow() method:

	public class Vector2L {
	  public static Vector2l UnpackLow (Vector2l x, Vector2l y);
	}
&#65279;	 public class Vector8s {
	  public static &#65279;Vector8s UnpackLow (&#65279;Vector8s x, &#65279;Vector8s y);
	}
	// ...

Why do we require type qualification for these methods, so that to call
them you need Vector2L.UnpackLow() or Vector8s.UnpackLow()?  Why not
instead use method overloading on a common type:

	static class VectorOperations /* [0] */ {
	  public static Vector2l UnpackLow (Vector2l x, Vector2l y);
	  public static Vector8s UnpackLow (Vector8s x, Vector8s y);
	  // ...
	}

The benefit to this are twofold:

1. Documentation: the class-level documentation will only contain 
   members which are specific to the given type (except for overloaded
   operators, but those can't be located anywhere else anyway...).
   Meanwhile, semantically equivalent operations would all be located
   in and documented in the same place.

2. Type migration: if the developer starts with Vector8s and needs to 
   migrate to Vector4f, fewer code changes will be required (e.g. you
   won't need to change every UnpackLow() method call to refer to your
   new type).

On a completely different note (and to start a bikeshed discussion ;-),
why &quot;ShiftRightLogic&quot;?  Wouldn't &quot;LogicalRightShift&quot; be more
conventional?  We should also avoid abbreviations, so
SubtractWithSaturation() would be better than SubWithSaturation()...

Thoughts?

 - Jon

[0] or some better name.  `VectorOperations' is rather verbose, but the
name chosen doesn't really matter as far as this question is
concerned...


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001927.html">[Mono-docs-list] Mono.Simd API Suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1926">[ date ]</a>
              <a href="thread.html#1926">[ thread ]</a>
              <a href="subject.html#1926">[ subject ]</a>
              <a href="author.html#1926">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-docs-list">More information about the Mono-docs-list
mailing list</a><br>
</body></html>
