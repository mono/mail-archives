<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-docs-list] Monodoc print support patch - feedback needed.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20Monodoc%20print%20support%20patch%20-%20feedback%20needed.&In-Reply-To=1125982374.3066.17.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001448.html">
   <LINK REL="Next"  HREF="001450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-docs-list] Monodoc print support patch - feedback needed.</H1>
    <B>Mario Sopena</B> 
    <A HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20Monodoc%20print%20support%20patch%20-%20feedback%20needed.&In-Reply-To=1125982374.3066.17.camel%40localhost.localdomain"
       TITLE="[Mono-docs-list] Monodoc print support patch - feedback needed.">mario.sopena at gmail.com
       </A><BR>
    <I>Thu Sep  8 11:13:58 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001448.html">[Mono-docs-list] Monodoc print support patch - feedback needed.
</A></li>
        <LI>Next message: <A HREF="001450.html">[Mono-docs-list] Monodoc print support patch - feedback needed.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1449">[ date ]</a>
              <a href="thread.html#1449">[ thread ]</a>
              <a href="subject.html#1449">[ subject ]</a>
              <a href="author.html#1449">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

On 9/6/05, Rafael Ferreira &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-docs-list">lists at ophion.org</A>&gt; wrote:
&gt;<i> Mario,
</I>&gt;<i> 
</I>&gt;<i> here's the updated patch. It took me some time to get this to you
</I>&gt;<i> because I updated my docbrowser and monodoc sources so I had to merge
</I>&gt;<i> the printing patch upstream. This time I basically edited the
</I>&gt;<i> browser.glade file by hand, adding only the needed entries.
</I>&gt;<i> 
</I>&gt;<i> Let me know what you could use a hand with next.
</I>
I took your patch and worked a little bit with it. This are the things
I've changed:

- Since we already have an abstraction for separing Gecko and GtkHTML
with IHtmlRender and the two implementations (Gtk and Gecko), I've
moved all the printing logic to them, so we can get rif of
IPrintManager and GtkHTMLPrintManager. I do think is more sane now. I
have used a Print method only with a parameter, the html code, because
when using css, the html code returned by the HelpSource already has
the css.

- The print menu item is only clickable when you are not editing a node

- I've encountered problems because the two kinds of Url presents in
monodoc (with your patch, the browser crashed when printing a node
which was accesed through the treeview). I think now it works.

- The ecma provider was not tracking well the use_css variable. Now,
it will print the html according to it. (For the moment, everything
without css)

- I've left out the thing with gnome-stock-about and gtk-about because
I'm not sure it's really important now, try to open a bug in bugzilla.

By the way, I think the monodoc section of bugzilla is forgoten and
unmaintained. Miguel, can you give me permission to deal with it?

Comments?

Mario
-------------- next part --------------
A non-text attachment was scrubbed...
Name: browser.diff
Type: text/x-patch
Size: 1826 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-docs-list/attachments/20050908/856a9132/browser.bin">http://lists.ximian.com/pipermail/mono-docs-list/attachments/20050908/856a9132/browser.bin</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: docbrowser.diff
Type: text/x-patch
Size: 7500 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-docs-list/attachments/20050908/856a9132/docbrowser.bin">http://lists.ximian.com/pipermail/mono-docs-list/attachments/20050908/856a9132/docbrowser.bin</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001448.html">[Mono-docs-list] Monodoc print support patch - feedback needed.
</A></li>
	<LI>Next message: <A HREF="001450.html">[Mono-docs-list] Monodoc print support patch - feedback needed.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1449">[ date ]</a>
              <a href="thread.html#1449">[ thread ]</a>
              <a href="subject.html#1449">[ subject ]</a>
              <a href="author.html#1449">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-docs-list">More information about the Mono-docs-list
mailing list</a><br>
</body></html>
