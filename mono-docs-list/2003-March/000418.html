<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-docs-list] can we include this in the Gnome.NET Tutorial?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:miguel%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000417.html">
   <LINK REL="Next"  HREF="000421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-docs-list] can we include this in the Gnome.NET Tutorial?
   </H1>
    <B>Miguel de Icaza
    </B> 
    <A HREF="mailto:miguel%40ximian.com"
       TITLE="[Mono-docs-list] can we include this in the Gnome.NET Tutorial?">miguel@ximian.com
       </A><BR>
    <I>04 Mar 2003 16:21:23 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000417.html">[Mono-docs-list] building monodoc
</A></li>
        <LI> Next message: <A HREF="000421.html">[Mono-docs-list] can we include this in the Gnome.NET Tutorial?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#418">[ date ]</a>
              <a href="thread.html#418">[ thread ]</a>
              <a href="subject.html#418">[ subject ]</a>
              <a href="author.html#418">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-atbUxa4AJemN0CniTZQz
Content-Type: text/plain
Content-Transfer-Encoding: 7bit



--=-atbUxa4AJemN0CniTZQz
Content-Disposition: inline
Content-Description: Forwarded message - Re: [Gtk-sharp-list] Using
	ListViews/TreeViews in Gtk#?
Content-Type: message/rfc822

Return-Path: &lt;<A HREF="mailto:gtk-sharp-list-admin@lists.ximian.com">gtk-sharp-list-admin@lists.ximian.com</A>&gt;
Delivered-To: <A HREF="mailto:miguel@peabody.ximian.com">miguel@peabody.ximian.com</A>
Received: (qmail 28702 invoked from network); 4 Mar 2003 16:35:33 -0000
Received: from skeptopotamus.ximian.com (141.154.95.14) by
	peabody.ximian.com with SMTP; 4 Mar 2003 16:35:33 -0000
Received: by skeptopotamus.ximian.com (Postfix) id 0BD2D630AB; Tue,  4 Mar
	2003 11:35:33 -0500 (EST)
Delivered-To: <A HREF="mailto:miguel@ximian.com">miguel@ximian.com</A>
Received: from listsmx.ximian.com (headcheese.ximian.com [141.154.95.15])
	by skeptopotamus.ximian.com (Postfix) with ESMTP id ECA60630A0; Tue,  4 Mar
	2003 11:35:32 -0500 (EST)
Received: from headcheese.ximian.com (localhost [127.0.0.1]) by
	listsmx.ximian.com (Postfix) with ESMTP id 8F75D1249F1; Tue,  4 Mar 2003
	11:02:02 -0500 (EST)
Received: from falcon.cc.mala.bc.ca (falcon.cc.mala.bc.ca [142.231.39.34])
	by listsmx.ximian.com (Postfix) with ESMTP id F07A7124851 for
	&lt;<A HREF="mailto:gtk-sharp-list@lists.ximian.com">gtk-sharp-list@lists.ximian.com</A>&gt;; Tue,  4 Mar 2003 11:01:47 -0500 (EST)
Received: from falcon.cc.mala.bc.ca (localhost.localdomain [127.0.0.1]) by
	falcon.cc.mala.bc.ca (8.12.7/8.12.7) with ESMTP id h24FxeYo002427 for
	&lt;<A HREF="mailto:gtk-sharp-list@lists.ximian.com">gtk-sharp-list@lists.ximian.com</A>&gt;; Tue, 4 Mar 2003 07:59:40 -0800
Received: (from <A HREF="mailto:george@localhost">george@localhost</A>) by falcon.cc.mala.bc.ca
	(8.12.7/8.12.7/Submit) id h24Fxeic002425 for
	<A HREF="mailto:gtk-sharp-list@lists.ximian.com">gtk-sharp-list@lists.ximian.com</A>; Tue, 4 Mar 2003 07:59:40 -0800
X-Authentication-Warning: falcon.cc.mala.bc.ca: george set sender to
	<A HREF="mailto:farrisg@mala.bc.ca">farrisg@mala.bc.ca</A> using -f
Subject: Re: [Gtk-sharp-list] Using ListViews/TreeViews in Gtk#?
From: George Farris &lt;<A HREF="mailto:farrisg@mala.bc.ca">farrisg@mala.bc.ca</A>&gt;
To: Gtk Sharp List &lt;<A HREF="mailto:gtk-sharp-list@lists.ximian.com">gtk-sharp-list@lists.ximian.com</A>&gt;
In-Reply-To: &lt;<A HREF="mailto:1046792388.13594.13.camel@localhost.localdomain">1046792388.13594.13.camel@localhost.localdomain</A>&gt;
References: &lt;<A HREF="mailto:1046784580.1252.7.camel@localhost.localdomain">1046784580.1252.7.camel@localhost.localdomain</A>&gt;
	 &lt;<A HREF="mailto:1046791996.1059.2.camel@jorge.linuxware.net">1046791996.1059.2.camel@jorge.linuxware.net</A>&gt;
	 &lt;<A HREF="mailto:1046792388.13594.13.camel@localhost.localdomain">1046792388.13594.13.camel@localhost.localdomain</A>&gt;
X-Security: MIME headers sanitized on peabody See
	<A HREF="http://www.impsec.org/email-tools/sanitizer-intro.html">http://www.impsec.org/email-tools/sanitizer-intro.html</A> for details.
	$Revision: 1.132 $Date: 2001-12-05 20:20:17-08 
Content-Type: multipart/mixed; boundary=&quot;=-V4hV66EM/E5hAWk2Q5aU&quot;
Organization: 
Message-Id: &lt;<A HREF="mailto:1046793580.2317.8.camel@falcon.cc.mala.bc.ca">1046793580.2317.8.camel@falcon.cc.mala.bc.ca</A>&gt;
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.1 (1.2.1-4) 
Sender: <A HREF="mailto:gtk-sharp-list-admin@lists.ximian.com">gtk-sharp-list-admin@lists.ximian.com</A>
Errors-To: <A HREF="mailto:gtk-sharp-list-admin@lists.ximian.com">gtk-sharp-list-admin@lists.ximian.com</A>
X-BeenThere: <A HREF="mailto:gtk-sharp-list@lists.ximian.com">gtk-sharp-list@lists.ximian.com</A>
X-Mailman-Version: 2.0.13
Precedence: bulk
List-Help: &lt;mailto:<A HREF="mailto:gtk-sharp-list-request@lists.ximian.com">gtk-sharp-list-request@lists.ximian.com</A>?subject=help&gt;
List-Post: &lt;mailto:<A HREF="mailto:gtk-sharp-list@lists.ximian.com">gtk-sharp-list@lists.ximian.com</A>&gt;
List-Subscribe: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>&gt;,
	&lt;mailto:<A HREF="mailto:gtk-sharp-list-request@lists.ximian.com">gtk-sharp-list-request@lists.ximian.com</A>?subject=subscribe&gt;
List-Id: Discussion of the C# bindings for Gtk+
	&lt;gtk-sharp-list.lists.ximian.com&gt;
List-Unsubscribe:
	&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>&gt;,
	&lt;mailto:<A HREF="mailto:gtk-sharp-list-request@lists.ximian.com">gtk-sharp-list-request@lists.ximian.com</A>?subject=unsubscribe&gt;
List-Archive: &lt;<A HREF="http://lists.ximian.com/archives/public/gtk-sharp-list/">http://lists.ximian.com/archives/public/gtk-sharp-list/</A>&gt;
Date: 04 Mar 2003 07:59:40 -0800
X-Spam-Status: No, hits=-2.1 required=5.0
	tests=IN_REP_TO,KNOWN_MAILING_LIST,QUOTED_EMAIL_TEXT,REFERENCES,
	SPAM_PHRASE_01_02,SUBJECT_IS_LIST,X_AUTH_WARNING version=2.43
X-Spam-Level: 


--=-V4hV66EM/E5hAWk2Q5aU
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I did some preliminary docs for TreeView with a ListStore model and sent
them to the mono-doc mail list, have heard a peep????  I'll included it
here for you.  I haven't written the selection information yet though I
do have examples.


On Tue, 2003-03-04 at 07:39, Charles-Louis wrote:
&gt;<i> Le mar 04/03/2003 =E0 16:33, Jorge De Gante a =E9crit :
</I>&gt;<i> &gt; Hi Charles
</I>&gt;<i> &gt;=20
</I>&gt;<i> &gt;=20
</I>&gt;<i> &gt; Check the sample that comes with gtk-sharp, the file is TreeViewDemo.cs
</I>&gt;<i> &gt; or the source of the doc browser browser.cs, both samples are about
</I>&gt;<i> &gt; treeviews.
</I>&gt;<i>=20
</I>&gt;<i> I already looked at the TreeViewDemo.cs (it seems I don't have the doc
</I>&gt;<i> browser? which package should I download?), but it's using an iterator
</I>&gt;<i> to populate the treeview with an XML file.
</I>&gt;<i>=20
</I>&gt;<i> I'm writing a LogViewer, and I have to be able to add items line per
</I>&gt;<i> line (eg. when clicking on a Button)
</I>&gt;<i>=20
</I>&gt;<i> Aren't there any methods like TreeView.Add(item)?
</I>&gt;<i>=20
</I>&gt;<i>=20
</I>&gt;<i> &gt;=20
</I>&gt;<i> &gt; El mar, 04-03-2003 a las 07:29, Charles-Louis escribi=F3:
</I>&gt;<i> &gt; &gt; Hello,
</I>&gt;<i> &gt; &gt;=20
</I>&gt;<i> &gt; &gt; I'm pretty new to programming with Gtk and Glade. I've designed an
</I>&gt;<i> &gt; &gt; application with Glade that should use ListViews (but I found out tha=
</I>t
&gt;<i> &gt; &gt; ListViews were deprecated... so I've used a TreeView instead).
</I>&gt;<i> &gt; &gt;=20
</I>&gt;<i> &gt; &gt; I wanted to know how I can populate these Views=20
</I>&gt;<i> &gt; &gt;=20
</I>&gt;<i> &gt; &gt; eg. ---------------------------------------
</I>&gt;<i> &gt; &gt;     |First Name   |Last Name    | Info    |
</I>&gt;<i> &gt; &gt;     ---------------------------------------
</I>&gt;<i> &gt; &gt;     |Chuck        |Berry        | Artist  |
</I>&gt;<i> &gt; &gt;     ---------------------------------------
</I>&gt;<i> &gt; &gt;     |John         |Johnson      | Baker   |
</I>&gt;<i> &gt; &gt;     ---------------------------------------
</I>&gt;<i> &gt; &gt;=20
</I>&gt;<i> &gt; &gt;=20
</I>&gt;<i> &gt; &gt; Regards
</I>&gt;<i> &gt; &gt; --=20
</I>&gt;<i> &gt; &gt; Charles-Louis &lt;<A HREF="mailto:charlouis.mono@wanadoo.be">charlouis.mono@wanadoo.be</A>&gt;
</I>&gt;<i> &gt; &gt;=20
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>
</I>--=20

--=-V4hV66EM/E5hAWk2Q5aU
Content-Disposition: attachment; filename=&quot;treeview.html&quot;
Content-Type: text/html; name=&quot;treeview.html&quot;; charset=ANSI_X3.4-1968
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2//EN&quot;&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
	&lt;META HTTP-EQUIV=3D&quot;CONTENT-TYPE&quot; CONTENT=3D&quot;text/html; charset=3Dutf-8&quot;&gt;
	&lt;TITLE&gt;The Mono Handbook - GNOME.NET - GTK#&lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY LANG=3D&quot;en-US&quot;&gt;
&lt;P&gt;&lt;BR&gt;
&lt;/P&gt;
&lt;H1&gt;GTK#&lt;/H1&gt;
&lt;H2&gt;Miscellaneous Widgets&lt;/H2&gt;
&lt;H3&gt;Tree and List Widget&lt;/H3&gt;
&lt;P&gt;The TreeView widget is one of the more complex GTK widgets. It is
well worth while spending some time studing it carefully.=20
&lt;/P&gt;
&lt;P&gt;These widgets are designed around a &lt;I&gt;Model/View/Controller&lt;/I&gt;
design and consists of four major parts:&lt;/P&gt;
&lt;P&gt;&lt;B&gt;GtkTreeView :&lt;/B&gt; the tree view widget&lt;/P&gt;
&lt;P&gt;&lt;B&gt;GtkTreeViewColumn&lt;/B&gt; : the view column&lt;/P&gt;
&lt;P&gt;&lt;B&gt;GtkCellRenderer&lt;/B&gt; : the cell renderers&lt;/P&gt;
&lt;P&gt;&lt;B&gt;GtkTreeModel&lt;/B&gt; : the model interface&lt;/P&gt;
&lt;P&gt;A quick look at the situation boils down to this:&lt;/P&gt;
&lt;P&gt;CellRender -----&amp;gt; TreeViewColumn -----&amp;gt; TreeView&lt;/P&gt;
&lt;P&gt;A cell (CellRenderer) of type =E2=80=9Ctext=E2=80=9D, =E2=80=9Cpixbuf=E2=
=80=9D or =E2=80=9Ctoggle=E2=80=9D
is created and packed into a newly created column (TreeViewColumn).
The column in turn is appended to the tree (TreeView). Data is added
to the tree model (TreeStore or ListStore) and the model is
associated with the newly created tree.&lt;/P&gt;
&lt;P&gt;&lt;BR&gt;&lt;BR&gt;
&lt;/P&gt;
&lt;P&gt;Lets start with a simple example and explain as we go:&lt;/P&gt;
&lt;P&gt;We'll create a simple list view with one column and text data
stored in it. We could of course create multiple columns of different
types but for our purposes, simple is better.&lt;/P&gt;
&lt;P&gt;Lets create the TreeView widget first. We'll assume that the
parent widget that we are going to pack the TreeView widget into has
already been created.&lt;/P&gt;
&lt;P&gt;First we create a ListStore for holding the data that our list
widget is going to display.&lt;/P&gt;
&lt;P&gt;The ListStore object is a list model for use with a TreeView
widget. It implements the TreeModel interface, and consequentialy,
can use all of the methods available there. It also implements the
TreeSortable interface so it can be sorted by the view. Finally, it
also implements the tree interfaces.&lt;/P&gt;
&lt;PRE STYLE=3D&quot;margin-bottom: 0.5cm&quot;&gt;ListStore store =3D null;&lt;/PRE&gt;&lt;P&gt;
Next we create a new TreeView widget and associate our newly created
ListStore with the TreeView.&lt;/P&gt;
&lt;PRE STYLE=3D&quot;margin-bottom: 0.5cm&quot;&gt;TreeView tv =3D new TreeView (store);&lt;/=
PRE&gt;&lt;P&gt;
Here we assign attributes to the TreeView such as making sure headers
are on. Headers refer to the column headers that appear as buttons
and may be tied to such functions as sorting the view of column data.&lt;/P&gt;
&lt;PRE STYLE=3D&quot;margin-bottom: 0.5cm&quot;&gt;tv.HeadersVisible =3D true;&lt;/PRE&gt;&lt;P&gt;
Now we need to add columns to our TreeView. We are going to add one
column. We get a new TreeViewColumn and a new CellRenderer of type
=E2=80=9Ctext=E2=80=9D to add to our column.=20
&lt;/P&gt;
&lt;P&gt;&lt;BR&gt;&lt;BR&gt;
&lt;/P&gt;
&lt;PRE&gt;TreeViewColumn NameCol =3D new TreeViewColumn ();
CellRenderer NameRenderer =3D new CellRendererText ();
NameCol.Title =3D &amp;quot;Name&amp;quot;;
NameCol.PackStart (NameRenderer, true);
NameCol.AddAttribute (NameRenderer, &amp;quot;text&amp;quot;, 0);
tv.AppendColumn (NameCol);&lt;/PRE&gt;&lt;P&gt;
Since we aren't going to add any more columns to our TreeView we can
finish by packing it into whatever parent widget we have.=20
&lt;/P&gt;
&lt;PRE&gt;mywidget.Add (tv);&lt;/PRE&gt;&lt;P&gt;
mywidget.ShowAll ();&lt;/P&gt;
&lt;P&gt;&lt;BR&gt;&lt;BR&gt;
&lt;/P&gt;
&lt;P&gt;Our next task is to to populate the TreeView with data. Data is
stored in the ListStore that was created as the first step above.
When a ListStore or TreeStore is created we tell it what type of data
the store is holding for each column . In the example below we have
one column of type =E2=80=9Cstring=E2=80=9D.=20
&lt;/P&gt;
&lt;P&gt;store =3D new ListStore ((int)TypeFundamentals.TypeString);&lt;/P&gt;
&lt;P&gt;If we had more than one column we would expand the creation of the
ListStore to include those columns and their type. Here is an example
that creates two columns, one of type =E2=80=9Cbool=E2=80=9D and one of typ=
e
=E2=80=9Cstring=E2=80=9D.&lt;/P&gt;
&lt;PRE&gt;store =3D new ListStore ((int)TypeFundamentals.TypeBool,(int)TypeFunda=
mentals.TypeString);

Right now lets put some data in our list.  We need to get a new TreeIter.  =
A TreeIter is used=20
to store the location where the data will be stored.  The TreeIter is updat=
ed automatically=20
here bye a call to store.Append, we don't actually set the TreeIter.  We ne=
ed to=20
append a TreeIter to the store to before we can store data in it.

&lt;PRE&gt;TreeIter iter =3D new TreeIter ();&lt;/PRE&gt;

Great now lets put four rows of text data into the list.  The ListStore and=
 TreeStore actually=20
store a Glib.Value not a text string so first we must store our string in a=
 Glib.Value then=20
we can set the value in the ListStore.  Note the =E2=80=9C0=E2=80=9D in the=
 SetValue call is acually the=20
column we are writing data to.
&lt;PRE&gt;
for (int i =3D 0; i &amp;lt; 4; i++) {
  GLib.Value value =3D new Glib.Value(=E2=80=9Cdata =E2=80=9D+i.ToString())=
;
  store.Append (out iter);
  store.SetValue (iter, 0, value);
}
&lt;/PRE&gt;
&lt;H2&gt;Example&lt;/H2&gt;
&lt;P&gt;Here is a complete example of what we have just done above
complete with toplevel window.&lt;/P&gt;
&lt;PRE&gt;namespace Samples {
        using System;
        using System.Drawing;
        using GLib;
        using Gtk;
        using GtkSharp;


        public class TreeView {
               =20
                public static void Main (string[] args)
                {
                        TreeStore store =3D null;
                                               =20
                        Application.Init ();


                        store =3D new TreeStore ((int)TypeFundamentals.Type=
String,
                                               (int)TypeFundamentals.TypeSt=
ring);


                        TreeIter iter =3D new TreeIter ();
                       =20
                        for (int i=3D0; i&amp;lt;10; i++)
                        {
                                GLib.Value Name =3D new GLib.Value (&amp;quot;D=
emo &amp;quot; +
i.ToString());
                                GLib.Value Type =3D new GLib.Value (&amp;quot;D=
ata &amp;quot; +
i.ToString());
                                store.Append (out iter);
                                store.SetValue (iter, 0, Name);
                                store.SetValue (iter, 1, Type);
                        }
                       =20
                        Window win =3D new Window (&amp;quot;TreeView List Demo=
&amp;quot;);
                        win.DeleteEvent +=3D new DeleteEventHandler (delete=
_cb);
                        win.DefaultSize =3D new Size (400,250);


                        ScrolledWindow sw =3D new ScrolledWindow ();
                        win.Add (sw);


                        TreeView tv =3D new TreeView (store);
                        tv.HeadersVisible =3D true;


                        TreeViewColumn DemoCol =3D new TreeViewColumn ();
                        CellRenderer DemoRenderer =3D new CellRendererText =
();
                        DemoCol.Title =3D &amp;quot;Demo&amp;quot;;
                        DemoCol.PackStart (DemoRenderer, true);
                        DemoCol.AddAttribute (DemoRenderer, &amp;quot;text&amp;quot=
;, 0);
                        tv.AppendColumn (DemoCol);


                        TreeViewColumn DataCol =3D new TreeViewColumn ();
                        CellRenderer DataRenderer =3D new CellRendererText =
();
                        DataCol.Title =3D &amp;quot;Data&amp;quot;;
                        DataCol.PackStart (DataRenderer, false);
                        DataCol.AddAttribute (DataRenderer, &amp;quot;text&amp;quot=
;, 1);
                        tv.AppendColumn (DataCol);


                        sw.Add (tv);
                        sw.Show();
                        win.ShowAll ();
                        Application.Run ();
                }


                private static void delete_cb (System.Object o, DeleteEvent=
Args
args)
                {
                        Application.Quit ();
                        args.RetVal =3D true;
                }
        }
}&lt;/PRE&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;

--=-V4hV66EM/E5hAWk2Q5aU--
_______________________________________________
Gtk-sharp-list maillist  -  <A HREF="mailto:Gtk-sharp-list@lists.ximian.com">Gtk-sharp-list@lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/gtk-sharp-list">http://lists.ximian.com/mailman/listinfo/gtk-sharp-list</A>


--=-atbUxa4AJemN0CniTZQz--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000417.html">[Mono-docs-list] building monodoc
</A></li>
	<LI> Next message: <A HREF="000421.html">[Mono-docs-list] can we include this in the Gnome.NET Tutorial?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#418">[ date ]</a>
              <a href="thread.html#418">[ thread ]</a>
              <a href="subject.html#418">[ subject ]</a>
              <a href="author.html#418">[ author ]</a>
         </LI>
       </UL>
</body></html>
