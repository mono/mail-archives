Index: configure.in
===================================================================
--- configure.in	(revision 45802)
+++ configure.in	(working copy)
@@ -52,6 +52,9 @@
 GNUNIT_VERSION=0.5
 AC_SUBST(GNUNIT_VERSION)
 
+DOCBROWSER_VERSION="1.0"
+AC_SUBST(DOCBROWSER_VERSION)
+
 AC_OUTPUT([
 Makefile
 gnunit/Makefile
@@ -62,6 +65,7 @@
 docbrowser/Makefile
 docbrowser/monodoc.desktop
 docbrowser/monodoc
+docbrowser/AssemblyInfo.cs
 po/Makefile.in
 asn1view/Makefile
 asn1view/art/Makefile
Index: ChangeLog
===================================================================
--- ChangeLog	(revision 45802)
+++ ChangeLog	(working copy)
@@ -1,3 +1,6 @@
+2005-06-11 Rafael Ferreira <raf@ophion.org>
+    * configure.in: added @DOCBROWSER_VERSION@
+
 2005-06-09 Gonzalo Paniagua Javier <gonzalo@ximian.com>
 
 	* configure.in: added GNUNIT_VERSION.
Index: docbrowser/ChangeLog
===================================================================
--- docbrowser/ChangeLog	(revision 45802)
+++ docbrowser/ChangeLog	(working copy)
@@ -1,3 +1,10 @@
+2005-06-11 Rafael Ferreira <raf@ophion.org>
+    * AboutDialog.cs: new about dialog with tabs 
+    * browser.cs: removed old about class and configure it to use new one 
+    * AssemblyInfo.cs.in: Gave docbrowser back its version number
+    * Makefile.am: added new sources 
+    * browser.glade: added new about dialog
+
 2005-05-31  Raja R Harinath  <rharinath@novell.com>
 
 	* monodoc.in: Emit warnings to stderr.  Fix fallbacks.
Index: docbrowser/browser.cs
===================================================================
--- docbrowser/browser.cs	(revision 45802)
+++ docbrowser/browser.cs	(working copy)
@@ -76,7 +76,7 @@
 					Console.WriteLine ("Usage: --edit path, where path is to the location of Monodoc-format XML documentation files.");
 					return 1; 
 				}
-				RootTree.UncompiledHelpSources.Add(args[i+1]);
+			    RootTree.UncompiledHelpSources.Add(args[i+1]);
 				i++;
 				break;
 				
@@ -116,7 +116,7 @@
 	[Glade.Widget] CheckMenuItem comments1;
 	[Glade.Widget] MenuItem postcomment;
 	[Glade.Widget] public MenuItem paste1;
-	public Notebook tabs_nb;
+    public Notebook tabs_nb;
 	public Tab CurrentTab;
 	bool HoldCtrl;
 
@@ -623,51 +623,14 @@
 		CurrentTab.text_editor.Buffer.InsertAtCursor (text);
 	}
 
-	class About {
-		[Glade.Widget] Window about;
-		[Glade.Widget] Image logo_image;
-
-		static About AboutBox;
-		Browser parent;
-
-		About (Browser parent)
-		{
-			Glade.XML ui = new Glade.XML (null, "browser.glade", "about", null);
-			ui.Autoconnect (this);
-			this.parent = parent;
-
-			about.TransientFor = parent.window1;
-
-			logo_image.Pixbuf = new Gdk.Pixbuf (null, "monodoc.png");
-		}
-
-		void OnOkClicked (object sender, EventArgs a)
-		{
-			about.Hide ();
-		}
-
-                //
-		// Called on the Window delete icon clicked
-		//
-		void OnDelete (object sender, EventArgs a)
-		{
-                        AboutBox = null;
-		}
-
-		static public void Show (Browser parent)
-		{
-			if (AboutBox == null)
-				AboutBox = new About (parent);
-			AboutBox.about.Show ();
-		}
-	}
-
 	//
 	// Hooked up from Glade
 	//
 	void OnAboutActivate (object sender, EventArgs a)
 	{
-		About.Show (this);
+		AboutDialog about = new AboutDialog();
+        about.TransientFor = this.window1;
+
 	}
 
 	void OnUpload (object sender, EventArgs a)
Index: docbrowser/Makefile.am
===================================================================
--- docbrowser/Makefile.am	(revision 45802)
+++ docbrowser/Makefile.am	(working copy)
@@ -13,7 +13,9 @@
 	$(srcdir)/elabel.cs 		\
 	$(srcdir)/history.cs 		\
 	$(srcdir)/Contributions.cs	\
-	$(srcdir)/XmlNodeWriter.cs	
+	$(srcdir)/XmlNodeWriter.cs	\
+	$(srcdir)/AboutDialog.cs    \
+	$(srcdir)/AssemblyInfo.cs
 
 admin_sources = \
 	$(srcdir)/admin.cs		\
Index: docbrowser/browser.glade
===================================================================
--- docbrowser/browser.glade	(revision 45802)
+++ docbrowser/browser.glade	(working copy)
@@ -914,194 +914,6 @@
   </child>
 </widget>
 
-<widget class="GtkWindow" id="about">
-  <property name="visible">True</property>
-  <property name="title" translatable="yes">About monodoc</property>
-  <property name="type">GTK_WINDOW_TOPLEVEL</property>
-  <property name="window_position">GTK_WIN_POS_NONE</property>
-  <property name="modal">True</property>
-  <property name="resizable">False</property>
-  <property name="destroy_with_parent">False</property>
-  <property name="decorated">True</property>
-  <property name="skip_taskbar_hint">False</property>
-  <property name="skip_pager_hint">False</property>
-  <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
-  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
-  <signal name="delete_event" handler="OnDelete" last_modification_time="Fri, 12 Dec 2003 21:51:59 GMT"/>
-
-  <child>
-    <widget class="GtkVBox" id="vbox2">
-      <property name="border_width">6</property>
-      <property name="visible">True</property>
-      <property name="homogeneous">False</property>
-      <property name="spacing">6</property>
-
-      <child>
-	<widget class="GtkHBox" id="hbox11">
-	  <property name="visible">True</property>
-	  <property name="homogeneous">False</property>
-	  <property name="spacing">6</property>
-
-	  <child>
-	    <widget class="GtkImage" id="logo_image">
-	      <property name="visible">True</property>
-	      <property name="xalign">0.5</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	    </widget>
-	    <packing>
-	      <property name="padding">0</property>
-	      <property name="expand">True</property>
-	      <property name="fill">True</property>
-	    </packing>
-	  </child>
-
-	  <child>
-	    <widget class="GtkLabel" id="label15">
-	      <property name="visible">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="label" translatable="yes">&lt;span size=&quot;larger&quot;&gt;&lt;b&gt;monodoc:&lt;/b&gt; The Mono Documentation Library viewer&lt;/span&gt;</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">True</property>
-	      <property name="xalign">0.5</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	    </widget>
-	    <packing>
-	      <property name="padding">0</property>
-	      <property name="expand">True</property>
-	      <property name="fill">False</property>
-	    </packing>
-	  </child>
-	</widget>
-	<packing>
-	  <property name="padding">0</property>
-	  <property name="expand">False</property>
-	  <property name="fill">True</property>
-	</packing>
-      </child>
-
-      <child>
-	<widget class="GtkHBox" id="hbox10">
-	  <property name="visible">True</property>
-	  <property name="homogeneous">False</property>
-	  <property name="spacing">6</property>
-
-	  <child>
-	    <widget class="GtkLabel" id="label13">
-	      <property name="visible">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="label" translatable="yes">&lt;b&gt;Authors:&lt;/b&gt;
-   Miguel de Icaza (miguel@ximian.com)
-   Duncan Mak (duncan@ximian.com)
-   Joshua Tauberer (tauberer@for.net)
-   Lee Malabone
-   Philip Van Hoof
-   Johannes Roith (johannes@jroith.de)
-   Alp Toker (alp@atoker.com)
-   Piers Haken
-   John Luke (jluke@cfl.rr.com)
-   Ben Maurer
-Mario Sopena novales</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">True</property>
-	      <property name="xalign">0.5</property>
-	      <property name="yalign">0</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	    </widget>
-	    <packing>
-	      <property name="padding">0</property>
-	      <property name="expand">True</property>
-	      <property name="fill">True</property>
-	    </packing>
-	  </child>
-
-	  <child>
-	    <widget class="GtkLabel" id="label14">
-	      <property name="visible">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="label" translatable="yes">&lt;b&gt;Plugins:&lt;/b&gt;
-  ECMA Documentation.
-  Mono XML Documentation.
-  Mono Handbook.
-  Manual Pages.
-  Compiler Errors.
-  ECMA C# Specification.</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">True</property>
-	      <property name="xalign">0.5</property>
-	      <property name="yalign">0</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	    </widget>
-	    <packing>
-	      <property name="padding">0</property>
-	      <property name="expand">True</property>
-	      <property name="fill">True</property>
-	    </packing>
-	  </child>
-	</widget>
-	<packing>
-	  <property name="padding">0</property>
-	  <property name="expand">True</property>
-	  <property name="fill">True</property>
-	</packing>
-      </child>
-
-      <child>
-	<widget class="GtkHSeparator" id="hseparator3">
-	  <property name="visible">True</property>
-	</widget>
-	<packing>
-	  <property name="padding">0</property>
-	  <property name="expand">False</property>
-	  <property name="fill">True</property>
-	</packing>
-      </child>
-
-      <child>
-	<widget class="GtkHButtonBox" id="hbuttonbox1">
-	  <property name="visible">True</property>
-	  <property name="layout_style">GTK_BUTTONBOX_END</property>
-	  <property name="spacing">0</property>
-
-	  <child>
-	    <widget class="GtkButton" id="Ok">
-	      <property name="visible">True</property>
-	      <property name="can_default">True</property>
-	      <property name="has_default">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="has_focus">True</property>
-	      <property name="label">gtk-ok</property>
-	      <property name="use_stock">True</property>
-	      <property name="relief">GTK_RELIEF_NORMAL</property>
-	      <property name="focus_on_click">True</property>
-	      <signal name="clicked" handler="OnOkClicked" last_modification_time="Tue, 08 Jul 2003 23:20:07 GMT"/>
-	    </widget>
-	  </child>
-	</widget>
-	<packing>
-	  <property name="padding">0</property>
-	  <property name="expand">False</property>
-	  <property name="fill">True</property>
-	</packing>
-      </child>
-    </widget>
-  </child>
-</widget>
-
 <widget class="GtkWindow" id="lookup">
   <property name="visible">True</property>
   <property name="title" translatable="yes">Lookup</property>
@@ -3142,4 +2954,254 @@
   </child>
 </widget>
 
+<widget class="GtkWindow" id="about">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">About monodoc</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_CENTER</property>
+  <property name="modal">True</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
+  <property name="gravity">GDK_GRAVITY_CENTER</property>
+  <signal name="delete_event" handler="OnDelete" last_modification_time="Thu, 09 Jun 2005 04:29:05 GMT"/>
+
+  <child>
+    <widget class="GtkVBox" id="vbox32">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child>
+	<widget class="GtkHBox" id="hbox35">
+	  <property name="border_width">2</property>
+	  <property name="visible">True</property>
+	  <property name="homogeneous">False</property>
+	  <property name="spacing">6</property>
+
+	  <child>
+	    <widget class="GtkImage" id="logo_image">
+	      <property name="visible">True</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label68">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label" translatable="yes">&lt;span size=&quot;larger&quot;&gt;&lt;b&gt;monodoc:&lt;/b&gt; The Mono Documentation Library viewer&lt;/span&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">True</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">False</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">9</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkNotebook" id="notebook1">
+	  <property name="border_width">2</property>
+	  <property name="visible">True</property>
+	  <property name="can_focus">True</property>
+	  <property name="show_tabs">True</property>
+	  <property name="show_border">True</property>
+	  <property name="tab_pos">GTK_POS_TOP</property>
+	  <property name="scrollable">False</property>
+	  <property name="enable_popup">False</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="AboutLabel">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes"></property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	    </widget>
+	    <packing>
+	      <property name="tab_expand">False</property>
+	      <property name="tab_fill">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="AboutTab">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">About</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">False</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	    </widget>
+	    <packing>
+	      <property name="type">tab</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkScrolledWindow" id="scrolledwindow7">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="shadow_type">GTK_SHADOW_NONE</property>
+	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	      <child>
+		<widget class="GtkTreeView" id="AuthorsTreeView">
+		  <property name="visible">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="headers_visible">True</property>
+		  <property name="rules_hint">False</property>
+		  <property name="reorderable">False</property>
+		  <property name="enable_search">True</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="tab_expand">False</property>
+	      <property name="tab_fill">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="AuthorsTab">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">Authors</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">False</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	    </widget>
+	    <packing>
+	      <property name="type">tab</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkScrolledWindow" id="scrolledwindow6">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="shadow_type">GTK_SHADOW_NONE</property>
+	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	      <child>
+		<widget class="GtkTreeView" id="VersionTreeView">
+		  <property name="visible">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="headers_visible">True</property>
+		  <property name="rules_hint">False</property>
+		  <property name="reorderable">False</property>
+		  <property name="enable_search">True</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="tab_expand">False</property>
+	      <property name="tab_fill">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="VersionTab">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">Version info</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">False</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	    </widget>
+	    <packing>
+	      <property name="type">tab</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkHButtonBox" id="hbuttonbox3">
+	  <property name="visible">True</property>
+	  <property name="layout_style">GTK_BUTTONBOX_END</property>
+	  <property name="spacing">0</property>
+
+	  <child>
+	    <widget class="GtkButton" id="Ok">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="has_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="has_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <signal name="clicked" handler="OnOkClicked" last_modification_time="Tue, 08 Jul 2003 23:20:07 GMT"/>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">7</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
 </glade-interface>
