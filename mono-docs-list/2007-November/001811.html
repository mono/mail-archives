<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-docs-list] Proposing a new documentation subsystem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20Proposing%20a%20new%20documentation%20subsystem&In-Reply-To=1195932307.4588.43.camel%40lina.magi.jprl.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001809.html">
   <LINK REL="Next"  HREF="001812.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-docs-list] Proposing a new documentation subsystem</H1>
    <B>Valentin Sawadski</B> 
    <A HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20Proposing%20a%20new%20documentation%20subsystem&In-Reply-To=1195932307.4588.43.camel%40lina.magi.jprl.com"
       TITLE="[Mono-docs-list] Proposing a new documentation subsystem">valentin.sawadski at gmx.de
       </A><BR>
    <I>Sun Nov 25 07:56:03 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001809.html">[Mono-docs-list] Proposing a new documentation subsystem
</A></li>
        <LI>Next message: <A HREF="001812.html">[Mono-docs-list] Proposing a new documentation subsystem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1811">[ date ]</a>
              <a href="thread.html#1811">[ thread ]</a>
              <a href="subject.html#1811">[ subject ]</a>
              <a href="author.html#1811">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

On Sat, 2007-11-24 at 14:25 -0500, Jonathan Pryor wrote:
&gt;<i> On Sat, 2007-11-24 at 16:16 +0100, Valentin Sawadski wrote:
</I>&gt;<i> &gt; On Sat, 2007-11-24 at 08:14 -0500, Joshua Tauberer wrote:
</I>&gt;<i> &gt; &gt; I think you're making it too complicated:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;  &gt;  - Insufficient support for &quot;Multi-Version&quot; files (e.g. Class-Libs
</I>&gt;<i> &gt; &gt;  &gt;    from .NET 1.1 and 2.0) because the current &quot;Since Version X.Y&quot; does
</I>&gt;<i> &gt; &gt;  &gt;    not work if a member is only available in 1.1 and not in 2.0.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; This just requires the addition of more tags to the documentation, one 
</I>&gt;<i> &gt; &gt; that says when a member was removed.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I don't like that idea because this might introduce some since x,
</I>&gt;<i> &gt; removed in y, reintroduced in z.... patterns (Yes I know it is unlikely
</I>&gt;<i> &gt; but still possible)
</I>&gt;<i> 
</I>&gt;<i> I've been doing some (minor) thinking about this.  What it primarily
</I>&gt;<i> would entail is duplicating the /Type/AssemblyInfo element to be a
</I>&gt;<i> per-member element as well, listing each and every version that the
</I>&gt;<i> element is within.  This should be trivial to do -- monodocer would just
</I>&gt;<i> insert the current assembly version into this element if it's found, and
</I>&gt;<i> if the member _isn't_ within the current assembly monodocer would ensure
</I>&gt;<i> that the &lt;AssemblyInfo/&gt; element is NOT present for the current assembly
</I>&gt;<i> version.
</I>&gt;<i> 
</I>&gt;<i> Monodoc display could now be:
</I>&gt;<i> 
</I>&gt;<i> 	Requirements:
</I>&gt;<i> 	  Namespace: ...
</I>&gt;<i> 	  Culture: ...
</I>&gt;<i> 	  Assemblies:
</I>&gt;<i> 	    mscorlib 1.0.500.0
</I>&gt;<i> 	    mscorlib 2.0.0.0
</I>&gt;<i> 	    mscorlib 2.1.0.0
</I>&gt;<i> 
</I>&gt;<i> etc.  This perfectly handles the &quot;introduce some since x, removed in y,
</I>&gt;<i> reintroduced in z&quot; pattern, as it would only list the assembly versions
</I>&gt;<i> that the member was present within, i.e. x and z, but not y.
</I>
That's great if that can be done so easily :-)

&gt;<i> 
</I>&gt;<i> &gt; &gt;  &gt;  - Automated user-contributions do not work properly (I don't know if a
</I>&gt;<i> &gt; &gt;  &gt;    contribution has ever made it into the documentation).
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; The current system isn't bad fundamentally. I think there's just some 
</I>&gt;<i> &gt; &gt; personal overhead involved in Miguel taking the contributions and 
</I>&gt;<i> &gt; &gt; applying them.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Is he still the only one in charge of the documentation approval?
</I>&gt;<i> 
</I>&gt;<i> Yes, afaik.  The reason for Miguel as a bottleneck is for copyright
</I>&gt;<i> concerns -- we don't want someone copy+pasting MSDN documentation into
</I>&gt;<i> monodoc w/o any form of validation before it's committed to svn.
</I>&gt;<i> Perhaps we just need a better automated validation system...but this
</I>&gt;<i> will be a concern no matter what format/architecture we have.
</I>
I know and maybe I should have expressed myself clearer because the
point was that I was thinking this could be fixed as well in the new
system.

&gt;<i> &gt;  - Documentation work-cycle is pretty complicated. It is very unhandy to
</I>&gt;<i> &gt;    run many tools to do one simple task. (monodoc, browser, mdassembler)
</I>&gt;<i> 
</I>&gt;<i> I think you're confusing things.  monodoc *is* the browser, and is NOT
</I>&gt;<i> needed for the editing process.
</I>
Sorry that's been a typo I originally wanted to write monodocer.

&gt;<i>   (It's nice to have, as it's a WYSIWIG
</I>&gt;<i> editor, but it's not necessary -- I regularly use gvim to edit the raw
</I>&gt;<i> XML.  It would be nice to improve it's WYSIWIG capabilities; it displays
</I>&gt;<i> the formatting, but it doesn't permit adding new sections, such as the
</I>&gt;<i> &lt;exception/&gt; elements, etc.)
</I>&gt;<i> 
</I>&gt;<i> So if you don't care about editing -- you earlier mentioned 'CSC /doc'
</I>&gt;<i> as being superior, and that has NO WYSIWIG editor -- you don't need
</I>&gt;<i> monodoc.  Just monodocer and monodocs2html (for HTML output), xsp (for
</I>&gt;<i> ASPX output), or mdassembler (to browse docs within monodoc).
</I>
I personally prefer it over the mono approach of documentation. However
since /doc is used nowhere in the mono sources this is not an option for
documenting mono.

&gt;<i> 
</I>&gt;<i> &gt;  - No Revision control (this is not a big turn-off however it would be
</I>&gt;<i> &gt;    quite handy when user-contributions will finally work) and no user
</I>&gt;<i> &gt;    comments (again not very important but nice to have)
</I>&gt;<i> 
</I>&gt;<i> It's XML.  It's inherently compatible with revision control, as it's
</I>&gt;<i> text. :-)
</I>&gt;<i> 
</I>&gt;<i> I've been improving the revision control question over time as well,
</I>&gt;<i> such as by sorting documentation members so that smaller patch files are
</I>&gt;<i> generated when committing the updates to svn.
</I>&gt;<i> 
</I>&gt;<i> All this is to say that I don't see any need to change the format --
</I>&gt;<i> extend, yes, but not completely change -- nor do I see what advantages a
</I>&gt;<i> local SQL database would provide.  A local database would have ALL the
</I>&gt;<i> same problems as current monodoc wrt updating contents (normal users
</I>&gt;<i> can't update root-owned files, and all files installed by the package
</I>&gt;<i> manager are owned by root).  A database also complicates the revision
</I>&gt;<i> control question, as far as I'm concerned -- how do you *easily*
</I>&gt;<i> integrate e.g. SQLite with Subversion or git?  (Storing the entire
</I>&gt;<i> revision history within SQLite is NOT a &quot;revision control&quot; solution, as
</I>&gt;<i> far as I'm concerned.)
</I>&gt;<i> 
</I>&gt;<i> Furthermore, monodoc *already* supports 3rd party assemblies -- this is
</I>&gt;<i> how Gtk# and Mono.Fuse documentation, among other assemblies, is
</I>&gt;<i> integrated into monodoc.
</I>
I know that monodoc already supports 3rd party assemblies but I was
thinking of measures that would enable 3rd party developers also to
benefit from the documentation contribution.

Which means some that the documentation might contain some kind of url
where contributions can be sent to. Apart from the current mono-only
contribution.

Another point of which I have been thinking would be to add 3rd party
documentation without having to rebuild the browser and all the sources.
Someway that users only have to open <A HREF="http://3rdparty.com/docs">http://3rdparty.com/docs</A> in the
documentation browser and the browser downloads all the documentation
and integrates them into the database backend.

&gt;<i> 
</I>&gt;<i> So aside from entailing lots of work to re-find the same problems we
</I>&gt;<i> currently have (a WYSIWIG editor which still needs improvement, solving
</I>&gt;<i> the update problem), what does changing the format buy us?  What does
</I>&gt;<i> SQLite permit that XML doesn't?
</I>&gt;<i> 
</I>&gt;<i> Please enlighten me.
</I>
SQLite was just an example data format. In general I was thinking of
some database back-end and forgot that changing the database was not
possible since this would require root access in most cases. Because
that was the point that would bring us most advantages, all changes
would be contained in one generic database (where generic means that it
would contain the documentation of several assemblies and more) which
could easily be filled with data from different sources and yes I was
thinking of keeping the revision control within the database so that
users could view older revisions of the documentation while browsing
(just like in a wiki).

All in all I now do think that...
 - the fact that the database could not be changed as well will kill the
   biggest benefit I saw in it.
 - most issues I addressed really don't require rewriting the format 
   from scratch
 - and I should have slept this over one night before posing it to the
   list.... &gt;_&gt;

Still thanks for the fruit-full conversation. :-)

Kind Regards,
Valentin S.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001809.html">[Mono-docs-list] Proposing a new documentation subsystem
</A></li>
	<LI>Next message: <A HREF="001812.html">[Mono-docs-list] Proposing a new documentation subsystem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1811">[ date ]</a>
              <a href="thread.html#1811">[ thread ]</a>
              <a href="subject.html#1811">[ subject ]</a>
              <a href="author.html#1811">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-docs-list">More information about the Mono-docs-list
mailing list</a><br>
</body></html>
