<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-docs-list] [PATCH] Generics Support for monodoc/tools
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20%5BPATCH%5D%20Generics%20Support%20for%20monodoc/tools&In-Reply-To=4522509D.1080303%40occams.info">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001670.html">
   <LINK REL="Next"  HREF="001674.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-docs-list] [PATCH] Generics Support for monodoc/tools</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20%5BPATCH%5D%20Generics%20Support%20for%20monodoc/tools&In-Reply-To=4522509D.1080303%40occams.info"
       TITLE="[Mono-docs-list] [PATCH] Generics Support for monodoc/tools">jonpryor at vt.edu
       </A><BR>
    <I>Tue Oct  3 21:03:02 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="001670.html">[Mono-docs-list] [PATCH] Generics Support for monodoc/tools
</A></li>
        <LI>Next message: <A HREF="001674.html">[Mono-docs-list] [PATCH] Generics Support for monodoc/tools
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1671">[ date ]</a>
              <a href="thread.html#1671">[ thread ]</a>
              <a href="subject.html#1671">[ subject ]</a>
              <a href="author.html#1671">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2006-10-03 at 07:59 -0400, Joshua Tauberer wrote:
&gt;<i> Jonathan Pryor wrote:
</I>&gt;<i> &gt;&gt; At the URL below is a patch to monodoc/tools to add support for Generics
</I>&gt;<i> &gt;&gt; to monodocer.exe and monodocs2html.exe.  (Next stop: adding support for
</I>&gt;<i> &gt;&gt; Generics to the documentation browser.)
</I>
Looks like I should have tried to get monodoc/engine finished before
sending this patch, as it requires using '+' instead of '.' to separate
nested types.  (Thinking about it, there's no other way to determine the
namespace, so Some.Namespace.OuterType.InnterType becomes very ambiguous
to process, e.g. for namespace determination, as the `monodoc' browser
does.)

Fortunately, I've have a monodoc/engine patch (which needs to be cleaned
up).

Unfortunately, this changes things around for monodocs2html.exe.

&lt;Sigh.&gt;

&gt;<i> Comments for the monodocer part of the patch:
</I>&gt;<i> 
</I>&gt;<i> After running it on some of my docs, I get these unexpected changes:
</I>&gt;<i> 
</I>&gt;<i> -        &lt;ReturnType&gt;SemWeb.N3Writer+Formats&lt;/ReturnType&gt;
</I>&gt;<i> +        &lt;ReturnType&gt;SemWeb.N3Writer.Formats&lt;/ReturnType&gt;
</I>&gt;<i> 
</I>&gt;<i> (I'm not necessarily opposed to such a change, but I thought that was
</I>&gt;<i> part of what was undone about &quot;+&quot; vs &quot;.&quot;.)
</I>
The original reason for the &quot;+&quot; -&gt;  &quot;.&quot; change was for C# syntax use --
the &lt;XxxSignature Language=&quot;C#&quot; ...&gt; should be in C#, so it should use
'.' to separate outer/inner types, but '+' was used instead, so I
changed this.

Obviously, that was a bad change.

&gt;<i> - &lt;Parameter Name=&quot;prefix&quot; Type=&quot;System.String&amp;amp;&quot; RefType=&quot;out&quot; /&gt;
</I>&gt;<i> + &lt;Parameter Name=&quot;prefix&quot; Type=&quot;System.String&amp;amp;&quot; RefType=&quot;out&quot;&gt;
</I>&gt;<i> +  &lt;Attributes&gt;
</I>&gt;<i> +   &lt;Attribute&gt;
</I>&gt;<i> +    &lt;AttributeName&gt;System.Runtime.InteropServices.Out&lt;/AttributeName&gt;
</I>&gt;<i> +   &lt;/Attribute&gt;
</I>&gt;<i> +  &lt;/Attributes&gt;
</I>&gt;<i> + &lt;/Parameter&gt;
</I>&gt;<i> 
</I>&gt;<i> Is &quot;out&quot; exposed differently through reflection in 2.0?  I think we
</I>&gt;<i> should suppress this attribute, since it duplicates RefType.
</I>
.NET 2.0 &quot;synthesizes&quot; non-custom attributes so that you can use
Reflection to retrieve the custom attributes.  Very useful for getting
DllImportAttribute information at runtime.

However, it looks like I should keep this attribute from being
displayed.

&gt;<i> Also (but this is related to the +/. thing), during an update the
</I>&gt;<i> index.xml file was updated by adding entries like:
</I>&gt;<i> 
</I>&gt;<i>   &lt;Type Name=&quot;Sparql.QueryType&quot; File=&quot;Sparql+QueryType&quot; /&gt;
</I>&gt;<i> 
</I>&gt;<i> but without removing the old entry with the &quot;+&quot; in the name.
</I>
This won't be an issue in the future, since I'll have to revert to the
previous syntax anyway (discussed above).

&gt;<i> Lastly, the File attribute wasn't added to any existing entries in
</I>&gt;<i> index.xml when doing a doc update.
</I>
IIRC, that's because the File attribute is only generated when the
index.xml file is being created, not during an update (if the filename
doesn't change).  This shouldn't be an issue, as the monodoc code checks
for filenames matching both the @Name and @File attributes, but it's
possible I'm not fully consistent here.

 - Jon


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001670.html">[Mono-docs-list] [PATCH] Generics Support for monodoc/tools
</A></li>
	<LI>Next message: <A HREF="001674.html">[Mono-docs-list] [PATCH] Generics Support for monodoc/tools
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1671">[ date ]</a>
              <a href="thread.html#1671">[ thread ]</a>
              <a href="subject.html#1671">[ subject ]</a>
              <a href="author.html#1671">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-docs-list">More information about the Mono-docs-list
mailing list</a><br>
</body></html>
