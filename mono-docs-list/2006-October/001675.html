<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-docs-list] [PATCH] Generics Support for monodoc/tools
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20%5BPATCH%5D%20Generics%20Support%20for%20monodoc/tools&In-Reply-To=4524278C.5080503%40occams.info">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001673.html">
   <LINK REL="Next"  HREF="001676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-docs-list] [PATCH] Generics Support for monodoc/tools</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20%5BPATCH%5D%20Generics%20Support%20for%20monodoc/tools&In-Reply-To=4524278C.5080503%40occams.info"
       TITLE="[Mono-docs-list] [PATCH] Generics Support for monodoc/tools">jonpryor at vt.edu
       </A><BR>
    <I>Thu Oct  5 06:14:09 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="001673.html">[Mono-docs-list] [PATCH] Generics Support for monodoc/tools
</A></li>
        <LI>Next message: <A HREF="001676.html">[Mono-docs-list] [PATCH] Generics Support for monodoc/tools
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1675">[ date ]</a>
              <a href="thread.html#1675">[ thread ]</a>
              <a href="subject.html#1675">[ subject ]</a>
              <a href="author.html#1675">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2006-10-04 at 17:28 -0400, Joshua Tauberer wrote:
&gt;<i> Another thing... I wonder if it would make sense to rename the index.xml
</I>&gt;<i> Name and File attributes to DisplayName and Signature to make what they
</I>&gt;<i> represent clearer, and, I think, because the File attribute is used not
</I>&gt;<i> just for file locations but also for matching signatures in crefs.
</I>
I'm not sure DisplayName is a significant improvement over Name.  I
actually prefer the shorter names, if possible.

You make a good argument for @File, though, as it's really used for all
type matching.  I don't like Signature though, as a &quot;signature&quot; is
frequently used to refer to the prototype of a method, and this is
something different.

Perhaps CanonicalName?

&gt;<i> And the File attribute should be mandatory (i.e. inserted on update)
</I>&gt;<i> since monodocs2html assumes a File attribute is present on all type nodes.
</I>
It should be easy to get monodocs2html to &quot;fallback&quot; to using @Name if
@File is empty or doesn't exist, so I don't find this a credible reason
to require the presence of @File.

&gt;<i> Also, do you know of a reason for *sticking* with +'s in nested types?
</I>&gt;<i> crefs don't use +'s, right?  (A quick Google search shows someone
</I>&gt;<i> reporting +'s aren't/weren't used by VS.NET, but I don't know for sure
</I>&gt;<i> if that's right.)  If that's the case, it seems like things can be
</I>&gt;<i> simplified if we just drop +'s everywhere.  OTOH, if we stick with +'s
</I>&gt;<i> in the File attribute, we could change the conventions for crefs so they
</I>&gt;<i> are easier to parse (albeit breaking from Microsoft, which isn't so bad
</I>&gt;<i> actually because we can handle the difference in the /doc import/export
</I>&gt;<i> tools).
</I>
I know of a good reason: I *tried* that, and it failed *dismally* when I
tried to get things working in monodoc/engine.

Simple experiment: take any monodocer-generated directory tree with a
nested type, and edit the Namespace/Outer+Inner.xml file to change:

	&lt;Type Name=&quot;Outer+Inner&quot; FullName=&quot;Namespace.Outer+Inner&quot;&gt;

to

	&lt;Type Name=&quot;Outer.Inner&quot; FullName=&quot;Namespace.Outer.Inner&quot;&gt;

Then edit the file within monodoc: monodoc --edit dirname

When you view the documentation for that file, instead of getting a link
for the &quot;Namespace Namespace&quot;, you'll get a link for the
&quot;Namespace.Outer&quot; namespace.  This is because monodoc/engine uses
everything before the last '.' as the namespace, and everything after it
as the type name.

Furthermore, I can't think of a way to &quot;fix&quot; this to permit using '.' as
the nested type separator, as you can have
Any.Number.Of.Namespaces.And.Nested.Types in a full type name -- which
of those is the namespace, and which is the type?  You'd also have to
use this algorithm to determine which file to edit as well, or you'll
get exceptions when it can't find the file its looking for (or do a
*lot* of `if (File.Exists(...))' checks to find the file you're after,
effectively one File.Exists() check for each '.' in the type name).

So unfortunately, '+' needs to remain as the nested type separator char,
at least within the documentation files.  Cref's don't need to use it,
as full namespace+type traversals are used anyway (at least in
monodocs2html), so the type will still be found regardless.

 - Jon


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001673.html">[Mono-docs-list] [PATCH] Generics Support for monodoc/tools
</A></li>
	<LI>Next message: <A HREF="001676.html">[Mono-docs-list] [PATCH] Generics Support for monodoc/tools
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1675">[ date ]</a>
              <a href="thread.html#1675">[ thread ]</a>
              <a href="subject.html#1675">[ subject ]</a>
              <a href="author.html#1675">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-docs-list">More information about the Mono-docs-list
mailing list</a><br>
</body></html>
