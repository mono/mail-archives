<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-docs-list] monkeyguide treeview.html update
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jluke%40cfl.rr.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000671.html">
   <LINK REL="Next"  HREF="000673.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-docs-list] monkeyguide treeview.html update
   </H1>
    <B>John Luke
    </B> 
    <A HREF="mailto:jluke%40cfl.rr.com"
       TITLE="[Mono-docs-list] monkeyguide treeview.html update">jluke@cfl.rr.com
       </A><BR>
    <I>12 Jul 2003 20:57:46 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="000671.html">[Mono-docs-list] Re: SourceID in monodoc does not work under xsp
</A></li>
        <LI> Next message: <A HREF="000673.html">[Mono-docs-list] Monodoc aspx .1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#672">[ date ]</a>
              <a href="thread.html#672">[ thread ]</a>
              <a href="subject.html#672">[ subject ]</a>
              <a href="author.html#672">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-sLJykRfokRlVRnyBymsv
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hello,

Here is an update for
monkeyguide/html/en/gnome/bindings/gtk-sharp/treeview.html to use the
new easy way.

John

--=-sLJykRfokRlVRnyBymsv
Content-Disposition: attachment; filename=treeview.html.diff
Content-Type: text/x-patch; name=treeview.html.diff; charset=UTF-8
Content-Transfer-Encoding: 7bit

Index: treeview.html
===================================================================
RCS file: /cvs/public/monkeyguide/html/en/gnome/bindings/gtk-sharp/treeview.html,v
retrieving revision 1.6
diff -u -r1.6 treeview.html
--- treeview.html	26 Jun 2003 21:17:38 -0000	1.6
+++ treeview.html	13 Jul 2003 00:56:43 -0000
@@ -39,19 +39,19 @@
 &lt;p&gt;Lets create the &lt;i&gt;TreeView&lt;/i&gt; widget first. We'll assume that
 the parent widget that we are going to pack the &lt;i&gt;TreeView&lt;/i&gt;
 widget into has already been created.&lt;/p&gt;
-&lt;p&gt;First we create a &lt;i&gt;ListStore&lt;/i&gt; for holding the data that our
+&lt;p&gt;First we create a &lt;i&gt;TreeStore&lt;/i&gt; for holding the data that our
 list widget is going to display.&lt;/p&gt;
-&lt;p&gt;The &lt;i&gt;ListStore&lt;/i&gt; object is a list model for use with a
+&lt;p&gt;The &lt;i&gt;TreeStore&lt;/i&gt; object is a model for use with a
 &lt;i&gt;TreeView&lt;/i&gt; widget. It implements the &lt;i&gt;TreeModel&lt;/i&gt;
 interface, and consequentialy, can use all of the methods available
 there. It also implements the &lt;i&gt;TreeSortable&lt;/i&gt; interface so it
 can be sorted by the view. Finally, it also implements the tree
 interface.&lt;/p&gt;
 &lt;pre class=&quot;code&quot;&gt;
-ListStore store = null;
+TreeStore store = null;
 &lt;/pre&gt;
 &lt;p&gt;Now we create a new &lt;i&gt;TreeView&lt;/i&gt; widget and associate our
-newly created &lt;i&gt;ListStore&lt;/i&gt; with the &lt;i&gt;TreeView&lt;/i&gt;.&lt;/p&gt;
+newly created &lt;i&gt;TreeStore&lt;/i&gt; with the &lt;i&gt;TreeView&lt;/i&gt;.&lt;/p&gt;
 &lt;pre class=&quot;code&quot;&gt;
 TreeView tv = new TreeView (store);
 &lt;/pre&gt;
@@ -78,12 +78,7 @@
 &lt;i&gt;AddAttribute&lt;/i&gt; can be used to set such things as column
 colours.&lt;/p&gt;
 &lt;pre class=&quot;code&quot;&gt;
-TreeViewColumn NameCol = new TreeViewColumn ();
-CellRenderer NameRenderer = new CellRendererText ();
-NameCol.Title = &quot;Name&quot;;
-NameCol.PackStart (NameRenderer, true);
-NameCol.AddAttribute (NameRenderer, &quot;text&quot;, 0);
-tv.AppendColumn (NameCol);
+tv.AppendColumn (&quot;Demo&quot;, new CellRendererText (), &quot;text&quot;, 0);
 &lt;/pre&gt;
 &lt;p&gt;Since we aren't going to add any more columns to our
 &lt;i&gt;TreeView&lt;/i&gt; we can finish by packing it into whatever parent
@@ -93,41 +88,25 @@
 mywidget.ShowAll ();
 &lt;/pre&gt;
 &lt;p&gt;Our next task is to to populate the &lt;i&gt;TreeStore&lt;/i&gt; with data.
-Data is stored in the &lt;i&gt;ListStore&lt;/i&gt; that was created as the
+Data is stored in the &lt;i&gt;TreeStore&lt;/i&gt; that was created as the
 first step above. When a &lt;i&gt;ListStore&lt;/i&gt; or &lt;i&gt;TreeStore&lt;/i&gt; is
 created we tell it what type of data the store is holding for each
 column . In the example below we have one column of type
 string.&lt;/p&gt;
 &lt;pre class=&quot;code&quot;&gt;
-store = new ListStore ((int)TypeFundamentals.TypeString);
+store = new TreeStore (typeof (string));
 &lt;/pre&gt;
 &lt;p&gt;If we had more than one column we would expand the creation of
-the &lt;i&gt;ListStore&lt;/i&gt; to include those columns and their type. Here
+the &lt;i&gt;TreeStore&lt;/i&gt; to include those columns and their type. Here
 is an example that creates two columns, one of type &lt;b&gt;boolean&lt;/b&gt;
 and one of type &lt;b&gt;string&lt;/b&gt;.&lt;/p&gt;
 &lt;pre class=&quot;code&quot;&gt;
-store = new ListStore ((int)TypeFundamentals.TypeBoolean,(int)TypeFundamentals.TypeString);
+store = new TreeStore (typeof (Boolean), typeof (string));
 &lt;/pre&gt;
-Right now lets put some data in our list. We need to get a new
-&lt;i&gt;TreeIter&lt;/i&gt;. A &lt;i&gt;TreeIter&lt;/i&gt; is used to store the location
-where the data will be stored. The &lt;i&gt;TreeIter&lt;/i&gt; is updated
-automatically here bye a call to &lt;i&gt;store.Append&lt;/i&gt;, we don't
-actually set the &lt;i&gt;TreeIter&lt;/i&gt;. We will need to append the
-&lt;i&gt;TreeIter&lt;/i&gt; to the &quot;store&quot; to before we can place data in it. 
-&lt;pre class=&quot;code&quot;&gt;
-TreeIter iter = new TreeIter ();
-&lt;/pre&gt;
-Great now lets put four rows of text data into the list. The
-&lt;i&gt;ListStore&lt;/i&gt; and &lt;i&gt;TreeStore&lt;/i&gt; actually store a
-&lt;i&gt;Glib.Value&lt;/i&gt; not a text string so first we must store our
-string in a &lt;i&gt;Glib.Value&lt;/i&gt; then we can set the value in the
-&lt;i&gt;ListStore&lt;/i&gt;. Note the &lt;b&gt;0&lt;/b&gt; in the &lt;i&gt;SetValue&lt;/i&gt; call is
-actually the column we are writing data to. 
-&lt;pre class=&quot;code&quot;&gt;
-for (int i = 0; i &amp;lt; 4; i++) {
-  GLib.Value value = new Glib.Value(data +i.ToString());
-  store.Append (out iter);
-  store.SetValue (iter, 0, value);
+Great now lets put five rows of text data into the list.
+&lt;pre class=&quot;code&quot;&gt;
+for (int i = 0; i &amp;lt; 5; i++) {
+  TreeIter iter = store.AppendValues (&quot;Demo &quot; + i, &quot;Data &quot; + i);
 }
 &lt;/pre&gt;
 &lt;h2&gt;Example&lt;/h2&gt;
@@ -135,79 +114,49 @@
 toplevel window.&lt;/p&gt;
 &lt;pre class=&quot;code&quot;&gt;
 namespace Samples {
-        using System;
-        using System.Drawing;
-        using GLib;
-        using Gtk;
-        using GtkSharp;
-
+	using System;
+	using Gtk;
+	using GtkSharp;
 
-        public class TreeView {
+	public class TreeViewSample {
                 
-                public static void Main (string[] args)
-                {
-                        TreeStore store = null;
-                                                
-                        Application.Init ();
-
-
-                        store = new TreeStore ((int)TypeFundamentals.TypeString,
-                                               (int)TypeFundamentals.TypeString);
-
-
-                        TreeIter iter = new TreeIter ();
-                        
-                        for (int i=0; i&amp;lt;10; i++)
-                        {
-                                GLib.Value Name = new GLib.Value (&quot;Demo &quot; + i.ToString());
-                                GLib.Value Type = new GLib.Value (&quot;Data &quot; + i.ToString());
-                                store.Append (out iter);
-                                store.SetValue (iter, 0, Name);
-                                store.SetValue (iter, 1, Type);
-                        }
+		public static void Main (string [] args)
+		{              
+			Application.Init ();
+
+			TreeStore store = new TreeStore (typeof (string), typeof (string));
+
+			for (int i=0; i &lt; 5; i++)
+			{
+				TreeIter iter = store.AppendValues (&quot;Demo &quot; + i, &quot;Data &quot; + i);
+			}
                         
-                        Window win = new Window (&quot;TreeView List Demo&quot;);
-                        win.DeleteEvent += new DeleteEventHandler (delete_cb);
-                        win.DefaultSize = new Size (400,250);
-
-
-                        ScrolledWindow sw = new ScrolledWindow ();
-                        win.Add (sw);
-
+			Window win = new Window (&quot;TreeView List Demo&quot;);
+			win.DeleteEvent += new DeleteEventHandler (delete_cb);
+			win.SetDefaultSize (400,250);
+
+			ScrolledWindow sw = new ScrolledWindow ();
+			win.Add (sw);
+
+			TreeView tv = new TreeView ();
+			tv.Model = store;
+			tv.HeadersVisible = true;
 
-                        TreeView tv = new TreeView (store);
-                        tv.HeadersVisible = true;
-
-
-                        TreeViewColumn DemoCol = new TreeViewColumn ();
-                        CellRenderer DemoRenderer = new CellRendererText ();
-                        DemoCol.Title = &quot;Demo&quot;;
-                        DemoCol.PackStart (DemoRenderer, true);
-                        DemoCol.AddAttribute (DemoRenderer, &quot;text&quot;, 0);
-                        tv.AppendColumn (DemoCol);
-
-
-                        TreeViewColumn DataCol = new TreeViewColumn ();
-                        CellRenderer DataRenderer = new CellRendererText ();
-                        DataCol.Title = &quot;Data&quot;;
-                        DataCol.PackStart (DataRenderer, false);
-                        DataCol.AddAttribute (DataRenderer, &quot;text&quot;, 1);
-                        tv.AppendColumn (DataCol);
-
-
-                        sw.Add (tv);
-                        sw.Show();
-                        win.ShowAll ();
-                        Application.Run ();
-                }
-
-
-                private static void delete_cb (System.Object o, DeleteEventArgs args)
-                {
-                        Application.Quit ();
-                        args.RetVal = true;
-                }
-        }
+			tv.AppendColumn (&quot;Demo&quot;, new CellRendererText (), &quot;text&quot;, 0);
+			tv.AppendColumn (&quot;Data&quot;, new CellRendererText (), &quot;text&quot;, 1);
+                        
+			sw.Add (tv);
+			sw.Show ();
+			win.ShowAll ();
+			Application.Run ();
+		}
+
+		private static void delete_cb (System.Object o, DeleteEventArgs args)
+		{
+			Application.Quit ();
+			args.RetVal = true;
+		}
+	}
 }
 &lt;/pre&gt;
 &lt;div class=&quot;copyright&quot;&gt;The Mono Handbook |

--=-sLJykRfokRlVRnyBymsv--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000671.html">[Mono-docs-list] Re: SourceID in monodoc does not work under xsp
</A></li>
	<LI> Next message: <A HREF="000673.html">[Mono-docs-list] Monodoc aspx .1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#672">[ date ]</a>
              <a href="thread.html#672">[ thread ]</a>
              <a href="subject.html#672">[ subject ]</a>
              <a href="author.html#672">[ author ]</a>
         </LI>
       </UL>
</body></html>
