<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-docs-list] Best way to contribute Mono documentation?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20Best%20way%20to%20contribute%20Mono%20documentation%3F&In-Reply-To=d200bae61001191832y34f7a002s4859e76b31a86f41%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001969.html">
   <LINK REL="Next"  HREF="001971.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-docs-list] Best way to contribute Mono documentation?</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-docs-list%40lists.ximian.com?Subject=%5BMono-docs-list%5D%20Best%20way%20to%20contribute%20Mono%20documentation%3F&In-Reply-To=d200bae61001191832y34f7a002s4859e76b31a86f41%40mail.gmail.com"
       TITLE="[Mono-docs-list] Best way to contribute Mono documentation?">jonpryor at vt.edu
       </A><BR>
    <I>Wed Jan 20 09:36:42 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001969.html">[Mono-docs-list] Best way to contribute Mono documentation?
</A></li>
        <LI>Next message: <A HREF="001971.html">[Mono-docs-list] Mono on Android: state of the union?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1970">[ date ]</a>
              <a href="thread.html#1970">[ thread ]</a>
              <a href="subject.html#1970">[ subject ]</a>
              <a href="author.html#1970">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2010-01-19 at 21:32 -0500, John Feminella wrote:
&gt;<i> * Are these source and not generated files?
</I>
Yes (these are source) and No (they are ALSO generated).

&gt;<i>  That is, it was my
</I>&gt;<i> understanding is that things in a path matching **/Documentation/**
</I>&gt;<i> are generated by an external documentation-generation tool. If someone
</I>&gt;<i> later updated the source, wouldn't that cause problems with the
</I>&gt;<i> resulting generated files? Is this a mistaken view?
</I>
Behold the power of XML!  Or something.

Both humans and mdoc process the *same* XML files.  mdoc will add and
remove &lt;Type/&gt; and &lt;Member/&gt; elements from the XML (as types and members
are added and removed from the assembly), and a whole host of other
things.

The *only* elements that should be edited by hand are the //Docs
elements, and mdoc is written to not change the contents of these nested
elements [0].

In general, it seems to work.

&gt;<i> So, to me it sounds like the take-away conclusion to draw from your
</I>&gt;<i> earlier e-mail are:
</I>&gt;<i> 
</I>&gt;<i> * Don't use `monodoc --edit`.
</I>
Yes.

&gt;<i> * Do use `mdoc update` + documentation stubs.
</I>
Yes.

&gt;<i> * Maybe use inline XML + `mdoc update -i MyType.xml`.
</I>
Maybe; depends on the project, and which you want to use as the
&quot;canonical source&quot; -- which should people edit, the inline XML or the
mdoc repository XML?  Having both be &quot;canonical&quot; is a recipe for
confusion.  (Not to say that this should NEVER be done, but just be
careful about it [1].)

Mono wants the canonical source to be the **/Documentation/en/* files;
other projects may want the canonical source to be inline XML.  This
will vary by project.

&gt;<i> * Chug out docs by filling out the stubs mdoc generates. You can use
</I>&gt;<i> `mdoc export-html` to see how it all looks once you're making
</I>&gt;<i> progress.
</I>
You can also use 'monodoc --edit' to *view* the documentation.  It works
quite well for that, and should be faster as well.  I just suggest not
using 'monodoc --edit' to *edit* documentation.

&gt;<i> * Find an assembly or two (or perhaps even an ancillary project like
</I>&gt;<i> Cadenza) and just jump right on it, mailing relevant patches to the
</I>&gt;<i> appropriate committers as needed.
</I>&gt;<i> 
</I>&gt;<i> Is that about the gist of it?
</I>
Pretty much. :-)

 - Jon

[0] This doesn't always work quite as well as I'd like.  Part of the
issue is that mdoc uses System.Xml to load the XML documents (of
course!), and System.Xml occasionally has &quot;interesting&quot; definitions of
significant whitespace vs. insignificant whitespace (which I'm sure is
standard compliant, it just doesn't match *my* desires for whitespace
handling).

This means that, while you won't _lose_ your changes to the XML files,
the nesting of XML tags may *change* when mdoc processes the files next.
Again, you WILL NOT LOSE anything, but e.g. diff(1) MAY show
differences.

I generally find that this happens most frequently with &lt;list/&gt;, where I
would write:

        &lt;list type=&quot;bullet&quot;&gt;
          &lt;item&gt;&lt;term&gt;
            This is a bulleted item!
          &lt;/term&gt;&lt;/item&gt;
        &lt;/list&gt;

and when mdoc next processes the file it will be turned into:

        &lt;list type=&quot;bullet&quot;&gt;
          &lt;item&gt;
            &lt;term&gt;
            This is a bulleted item!
          &lt;/term&gt;
          &lt;/item&gt;
        &lt;/list&gt;

Nothing lost, and (as far as XML is concerned) not a semantic change,
but it is &quot;uglier&quot; to me.

[1] For instance, Cadenza tries to keep all the canonical documentation
within the mdoc repository, EXCEPT for machine-generated types like
Tuple&lt;...&gt;, Either&lt;...&gt;, Delegate extension methods, etc.  This allows
the generator to ALSO generate the documentation, so there is still the
expectation that humans shouldn't change the inline XML, BUT for these
generated types the &quot;canonical&quot; source is the inline XML.


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001969.html">[Mono-docs-list] Best way to contribute Mono documentation?
</A></li>
	<LI>Next message: <A HREF="001971.html">[Mono-docs-list] Mono on Android: state of the union?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1970">[ date ]</a>
              <a href="thread.html#1970">[ thread ]</a>
              <a href="subject.html#1970">[ subject ]</a>
              <a href="author.html#1970">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-docs-list">More information about the Mono-docs-list
mailing list</a><br>
</body></html>
