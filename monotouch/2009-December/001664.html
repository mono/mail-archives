<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Sql data access options, my review.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Sql%20data%20access%20options%2C%20my%20review.&In-Reply-To=651b2a40912071742i80d57f3j1155171459aa7e17%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001665.html">
   <LINK REL="Next"  HREF="001666.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Sql data access options, my review.</H1>
    <B>Tim Scott</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Sql%20data%20access%20options%2C%20my%20review.&In-Reply-To=651b2a40912071742i80d57f3j1155171459aa7e17%40mail.gmail.com"
       TITLE="[MonoTouch] Sql data access options, my review.">tscott at lunaversesoftware.com
       </A><BR>
    <I>Mon Dec  7 22:47:06 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001665.html">[MonoTouch] Sql data access options, my review.
</A></li>
        <LI>Next message: <A HREF="001666.html">[MonoTouch] Sql data access options, my review.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1664">[ date ]</a>
              <a href="thread.html#1664">[ thread ]</a>
              <a href="subject.html#1664">[ subject ]</a>
              <a href="author.html#1664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Regarding #4, Con #1, I have not given up, but I am blocked by
bugs/limitations of MonoTouch, which I have reported in Novell&#185;s Bugzilla
and on this list.  I have written a small app that works out the main
features of Catnap, and it works great...um...on the simulator.  But it
fails on the device, which I learned $395 later.   In any case, I hold out
hope that I can make Catnap work on the IPhone.  I would hope to continue to
make it better and help attract more devs, ORM lovers like me, to use
MonoTouch.

The issues that I have encountered so far are:

1) This gives a JIT error:

   Map.Entity&lt;Client&gt;().Property(x =&gt; x.Name)

There is a rather ugly workaround that works on the device:

   Map.Entity&lt;Client&gt;().Map(new ValuePropertyMap&lt;Client, string&gt;(x =&gt;
x.Name))

2) You cannot map a nullable property.  This is because you cannot set
values of nullable members via reflection on the device.  There is currently
no workaround for this.  I have asked on this list whether this is a bug or
a limitation.  No answer so far. :(

The arrival of System.Data has not affected my efforts.  Indeed, I hope to
use it in place of sqlite3.  However, it would be crazy for me to put forth
any more effort on Catnap until the basic issues with MonoTouch are
resolved.

Frankly issue #2 will prevent any ORM from supporting nullable types on
MonoTouch.  This issue also prevents XML deserializers from handling
nullable types (pointed out by Martin Granell on this list).

Regarding Con #2, I would politely disagree.  In my biased opinion, the API
and usage is quite simple and convenient.  Sure it&#185;s complex under the hood,
but the complexity is well encapsulated.  Again, my biased opinion.

Tim Scott


On 12/7/09 7:42 PM, &quot;Brent Schooley&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">schooleybrent at gmail.com</A>&gt; wrote:

&gt;<i> Cocoa's option is CoreData not Core.Data and from everything I can tell it is
</I>&gt;<i> tuned for the iPhone in the iPhone stack.&#160; That being said, when I asked about
</I>&gt;<i> it with respect to MonoTouch I got a rather &quot;why would you want to do that
</I>&gt;<i> when we have____?&quot; response.&#160; It is what I would go with if I was coding in
</I>&gt;<i> Obj-C land though so *shrug*
</I>&gt;<i> 
</I>&gt;<i> Just my 2 cents,
</I>&gt;<i> brent
</I>&gt;<i> 
</I>&gt;<i> On Mon, Dec 7, 2009 at 6:14 PM, Jonathan Mark &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">jonathanext at hotmail.co.uk</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;&gt;<i> Hello all I am new here and also new to iPhone development. I spent the day
</I>&gt;&gt;<i> reading up on my options for coding SQLite data access within MonoTouch and
</I>&gt;&gt;<i> get the impression things are evolving. Would anyone care to comment on my
</I>&gt;&gt;<i> assessment so far?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 1 - New MonoTouch 1.2 System.Data library.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Pro: Familiar dotNet coding model.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Con1: Takes me back to 2001 vintage dotnet programming with manual coding of
</I>&gt;&gt;<i> object mapping.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Con2: Probably wasted use of machine resources traversing through .Net
</I>&gt;&gt;<i> library code before calling out to native sqlite3.dll.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Con3: Possibly a larger binary package in the app store
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 2 -&#160;sqlite-net &lt;<A HREF="http://code.google.com/p/sqlite-net/">http://code.google.com/p/sqlite-net/</A>&gt; &#160;project at code
</I>&gt;&gt;<i> google.com &lt;<A HREF="http://google.com">http://google.com</A>&gt;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Pro1: Does simple mapping of result sets to entity classes.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Pro2: Minimal attribute annotation to get up and running.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Pro3: Database schema generation thrown in as a bonus.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Pro4: Lightweight with zero dependancies.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Con1: No concept of UnitOfWork for automatic entity updates.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Con2: No concept of data model with entity relationships.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 3 -&#160;Mono.Data.SqliteClient wrapper to native iPhone sqlite library.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Pro1: Least intermediate code.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Pro2: Gets me closer to the raw iPhone programming mindset should I migrate
</I>&gt;&gt;<i> to Objective-C.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Con1: Some source code bulk doing manual entity mapping.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Con2: Same dated design mindset as System.Data.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 4 -&#160;catnap-orm &lt;<A HREF="http://code.google.com/p/catnap-orm/">http://code.google.com/p/catnap-orm/</A>&gt; &#160;at code google
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Pro1: Fully formed mini ORM with mapping of entity relationships and
</I>&gt;&gt;<i> collections.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Pro2: UnitOfWork supports auto generation of update SQL.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Pro3: Still fairly lightweight @ 100k
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Con1: Author seemed to give up with arrival of System.Data in 1.2
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Con2: Dependancy for me on a fairly complex and new body of code.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 5 - Cocoa Core.Data
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Nhibernate level ORM library but not bound into MonoTouch. Probably too
</I>&gt;&gt;<i> resource hungry for a 25Mb iPhone process space anyhow.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Conclusion, I am leaning towards the basic mapping capabilities of option 2
</I>&gt;&gt;<i> (sqlite-net &lt;<A HREF="http://code.google.com/p/sqlite-net/">http://code.google.com/p/sqlite-net/</A>&gt; ). What do you all think?
</I>&gt;&gt;<i>        
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Have more than one Hotmail account? Link them together to easily access both.
</I>&gt;&gt;<i> &lt;<A HREF="http://clk.atdmt.com/UKM/go/186394591/direct/01/">http://clk.atdmt.com/UKM/go/186394591/direct/01/</A>&gt;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> MonoTouch mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20091207/e9dd2f1b/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20091207/e9dd2f1b/attachment-0001.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001665.html">[MonoTouch] Sql data access options, my review.
</A></li>
	<LI>Next message: <A HREF="001666.html">[MonoTouch] Sql data access options, my review.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1664">[ date ]</a>
              <a href="thread.html#1664">[ thread ]</a>
              <a href="subject.html#1664">[ subject ]</a>
              <a href="author.html#1664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
