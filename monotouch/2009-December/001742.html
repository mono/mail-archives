<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] How do you start a new thread?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20How%20do%20you%20start%20a%20new%20thread%3F&In-Reply-To=6d4369db0912280824i6b6b90edrd31974808ef54f70%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001741.html">
   <LINK REL="Next"  HREF="001744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] How do you start a new thread?</H1>
    <B>Terry Westley</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20How%20do%20you%20start%20a%20new%20thread%3F&In-Reply-To=6d4369db0912280824i6b6b90edrd31974808ef54f70%40mail.gmail.com"
       TITLE="[MonoTouch] How do you start a new thread?">monotouch at sabonrai.com
       </A><BR>
    <I>Mon Dec 28 14:28:03 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001741.html">[MonoTouch] How do you start a new thread?
</A></li>
        <LI>Next message: <A HREF="001744.html">[MonoTouch] Signing for Distribution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1742">[ date ]</a>
              <a href="thread.html#1742">[ thread ]</a>
              <a href="subject.html#1742">[ subject ]</a>
              <a href="author.html#1742">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>.Net threads have worked well for me:

using System.Threading;
...
        // This method is required in iPhoneOS 3.0
        public override void OnActivated (UIApplication application)
        {
            Thread thread = new Thread(new ThreadStart(EntryPointFoo));
            thread.Start();
        }

        private void EntryPointFoo()
        {
            Console.WriteLine(&quot;Hello new thread&quot;);
        }

Since I don't know your preference for using NSThread over .Net threads, I
realize this may not be helpful.

Terry

On Mon, Dec 28, 2009 at 11:24 AM, James Moore &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">james at restphone.com</A>&gt; wrote:

&gt;<i> I tried to create a new thread by doing:
</I>&gt;<i>
</I>&gt;<i>                // This method is required in iPhoneOS 3.0
</I>&gt;<i>                public override void OnActivated (UIApplication application)
</I>&gt;<i>                {
</I>&gt;<i>                        t = new NSThread(this, new Selector (&quot;EntryPoint&quot;),
</I>&gt;<i> this);
</I>&gt;<i>                        t.Name = &quot;mythread&quot;;
</I>&gt;<i>                        t.Start ();
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i>                [Export(&quot;EntryPoint&quot;)]
</I>&gt;<i>                void EntryPointFoo(NSObject _)
</I>&gt;<i>                {
</I>&gt;<i>                        NSAutoreleasePool p = new NSAutoreleasePool();
</I>&gt;<i>                        Console.WriteLine(&quot;Hello new thread&quot;);
</I>&gt;<i>                        p.Dispose();
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i> But that dies with this error:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Native stacktrace:
</I>&gt;<i>
</I>&gt;<i>        0   IPhoneProjectWithFSharp             0x000bb3ed
</I>&gt;<i> mono_handle_native_sigsegv + 367
</I>&gt;<i>        1   IPhoneProjectWithFSharp             0x0000d3fa
</I>&gt;<i> mono_sigsegv_signal_handler + 189
</I>&gt;<i>        2   libSystem.B.dylib                   0x959829bb _sigtramp + 43
</I>&gt;<i>        3   ???                                 0xffffffff 0x0 + 4294967295
</I>&gt;<i>        4   IPhoneProjectWithFSharp             0x001bbfd7
</I>&gt;<i> mono_runtime_invoke + 137
</I>&gt;<i>        5   IPhoneProjectWithFSharp             0x0026c127 get_mono_method +
</I>&gt;<i> 52
</I>&gt;<i>        6   IPhoneProjectWithFSharp             0x0026c15c
</I>&gt;<i> get_method_for_selector + 43
</I>&gt;<i>        7   IPhoneProjectWithFSharp             0x0026ddad
</I>&gt;<i> monotouch_trampoline + 161
</I>&gt;<i>        8   Foundation                          0x00635f7d -[NSThread main]
</I>&gt;<i> + 45
</I>&gt;<i>        9   Foundation                          0x00635b18
</I>&gt;<i> __NSThread__main__ + 280
</I>&gt;<i>        10  libSystem.B.dylib                   0x95949fbd _pthread_start +
</I>&gt;<i> 345
</I>&gt;<i>        11  libSystem.B.dylib                   0x95949e42 thread_start + 34
</I>&gt;<i>
</I>&gt;<i> Debug info from gdb:
</I>&gt;<i>
</I>&gt;<i> warning: Trying to remove a section from the ordered section list that
</I>&gt;<i> did not exist at 0x357000.
</I>&gt;<i> warning: Could not find object file
</I>&gt;<i> &quot;/var/folders/h-/h-sGPopnGs8IE5Vu1FU9ME+++TI/-Tmp-/tmp59b7e4e6.tmp/main.o&quot;
</I>&gt;<i> - no debug information available for
</I>&gt;<i> &quot;/var/folders/h-/h-sGPopnGs8IE5Vu1FU9ME+++TI/-Tmp-/tmp59b7e4e6.tmp/main.m&quot;.
</I>&gt;<i>
</I>&gt;<i> Error connecting stdout and stderr (127.0.0.1:10001)
</I>&gt;<i> Attaching to process 29871.
</I>&gt;<i> Reading symbols for shared libraries . done
</I>&gt;<i> Reading symbols for shared libraries
</I>&gt;<i>
</I>&gt;<i> ..................................................................................
</I>&gt;<i> done
</I>&gt;<i> 0x9591c8da in mach_msg_trap ()
</I>&gt;<i>  6 port# 0x5003 0x95927bfe in read$UNIX2003 ()
</I>&gt;<i>  5 port# 0x3a03 0x9591c8da in mach_msg_trap ()
</I>&gt;<i>  4 port# 0x2803 0x9591c916 in semaphore_wait_trap ()
</I>&gt;<i>  3 port# 0x2403 0x9594a806 in __semwait_signal ()
</I>&gt;<i>  2 port# 0x2303 0x9591c8da in mach_msg_trap ()
</I>&gt;<i> * 1 port# 0x207  0x9591c8da in mach_msg_trap ()
</I>&gt;<i>
</I>&gt;<i> Thread 6 (process 29871):
</I>&gt;<i> #0  0x95927bfe in read$UNIX2003 ()
</I>&gt;<i> #1  0x000bb5e8 in mono_handle_native_sigsegv (signal=11,
</I>&gt;<i> ctx=0xb02d2bc0) at ../../../../mono/mini/mini-exceptions.c:1817
</I>&gt;<i> #2  0x0000d3fa in mono_sigsegv_signal_handler (_dummy=10,
</I>&gt;<i> info=0xb02d2b80, context=0xb02d2bc0) at
</I>&gt;<i> ../../../../mono/mini/mini.c:4763
</I>&gt;<i> #3  &lt;signal handler called&gt;
</I>&gt;<i> #4  0x0000cd5e in mono_jit_runtime_invoke (method=0x580f474, obj=0x0,
</I>&gt;<i> params=0xb02d2c98, exc=0x0) at ../../../../mono/mini/mini.c:4500
</I>&gt;<i> #5  0x001bbfd7 in mono_runtime_invoke (method=0x580f474, obj=0x0,
</I>&gt;<i> params=0xb02d2c98, exc=0x0) at ../../../../mono/metadata/object.c:2604
</I>&gt;<i> #6  0x0026c127 in get_mono_method ()
</I>&gt;<i> #7  0x0026c15c in get_method_for_selector ()
</I>&gt;<i> #8  0x0026ddad in monotouch_trampoline ()
</I>&gt;<i> #9  0x00635f7d in -[NSThread main] ()
</I>&gt;<i> #10 0x00635b18 in __NSThread__main__ ()
</I>&gt;<i> #11 0x95949fbd in _pthread_start ()
</I>&gt;<i> #12 0x95949e42 in thread_start ()
</I>&gt;<i>
</I>&gt;<i> Thread 5 (process 29871):
</I>&gt;<i> #0  0x9591c8da in mach_msg_trap ()
</I>&gt;<i> #1  0x9591d047 in mach_msg ()
</I>&gt;<i> #2  0x0048a382 in CFRunLoopRunSpecific ()
</I>&gt;<i> #3  0x00489c48 in CFRunLoopRunInMode ()
</I>&gt;<i> #4  0x034f1803 in RunWebThread ()
</I>&gt;<i> #5  0x95949fbd in _pthread_start ()
</I>&gt;<i> #6  0x95949e42 in thread_start ()
</I>&gt;<i>
</I>&gt;<i> Thread 4 (process 29871):
</I>&gt;<i> #0  0x9591c916 in semaphore_wait_trap ()
</I>&gt;<i> #1  0x0014ec24 in finalizer_thread (unused=0x0) at
</I>&gt;<i> ../../../../mono/metadata/gc.c:1026
</I>&gt;<i> #2  0x001f6657 in start_wrapper (data=0x51283a0) at
</I>&gt;<i> ../../../../mono/metadata/threads.c:662
</I>&gt;<i> #3  0x00239194 in thread_start_routine (args=0x5802c34) at
</I>&gt;<i> ../../../../mono/io-layer/wthreads.c:286
</I>&gt;<i> #4  0x0026945b in GC_start_routine (arg=0x55c8f60) at
</I>&gt;<i> ../../../libgc/pthread_support.c:1390
</I>&gt;<i> #5  0x95949fbd in _pthread_start ()
</I>&gt;<i> #6  0x95949e42 in thread_start ()
</I>&gt;<i>
</I>&gt;<i> Thread 3 (process 29871):
</I>&gt;<i> #0  0x9594a806 in __semwait_signal ()
</I>&gt;<i> #1  0x95976441 in nanosleep$UNIX2003 ()
</I>&gt;<i> #2  0x00219ace in collection_thread (unused=0x0) at
</I>&gt;<i> ../../../../mono/io-layer/collection.c:34
</I>&gt;<i> #3  0x95949fbd in _pthread_start ()
</I>&gt;<i> #4  0x95949e42 in thread_start ()
</I>&gt;<i>
</I>&gt;<i> Thread 2 (process 29871):
</I>&gt;<i> #0  0x9591c8da in mach_msg_trap ()
</I>&gt;<i> #1  0x9591d047 in mach_msg ()
</I>&gt;<i> #2  0x001115f6 in mach_exception_thread (arg=0x0) at
</I>&gt;<i> ../../../../mono/mini/mini-darwin.c:138
</I>&gt;<i> #3  0x95949fbd in _pthread_start ()
</I>&gt;<i> #4  0x95949e42 in thread_start ()
</I>&gt;<i>
</I>&gt;<i> Thread 1 (process 29871):
</I>&gt;<i> #0  0x9591c8da in mach_msg_trap ()
</I>&gt;<i> #1  0x9591d047 in mach_msg ()
</I>&gt;<i> #2  0x0048a382 in CFRunLoopRunSpecific ()
</I>&gt;<i> #3  0x00489c48 in CFRunLoopRunInMode ()
</I>&gt;<i> #4  0x032b378d in GSEventRunModal ()
</I>&gt;<i> #5  0x032b3852 in GSEventRun ()
</I>&gt;<i> #6  0x00f70003 in UIApplicationMain ()
</I>&gt;<i> #7  0x050e6a59 in ?? ()
</I>&gt;<i> #8  0x050e6992 in ?? ()
</I>&gt;<i> #9  0x050e61f5 in ?? ()
</I>&gt;<i> #10 0x050e6131 in ?? ()
</I>&gt;<i> #11 0x050e618c in ?? ()
</I>&gt;<i> #12 0x0000d23a in mono_jit_runtime_invoke (method=0x585d864, obj=0x0,
</I>&gt;<i> params=0xbfffef38, exc=0x0) at ../../../../mono/mini/mini.c:4693
</I>&gt;<i> #13 0x001bbfd7 in mono_runtime_invoke (method=0x585d864, obj=0x0,
</I>&gt;<i> params=0xbfffef38, exc=0x0) at ../../../../mono/metadata/object.c:2604
</I>&gt;<i> #14 0x001bdc56 in mono_runtime_exec_main (method=0x585d864,
</I>&gt;<i> args=0x7049930, exc=0x0) at ../../../../mono/metadata/object.c:3545
</I>&gt;<i> #15 0x001bd517 in mono_runtime_run_main (method=0x585d864, argc=0,
</I>&gt;<i> argv=0xbffff0e0, exc=0x0) at ../../../../mono/metadata/object.c:3319
</I>&gt;<i> #16 0x00091267 in mono_jit_exec (domain=0x50cde58, assembly=0x514e230,
</I>&gt;<i> argc=1, argv=0xbffff0dc) at ../../../../mono/mini/driver.c:1094
</I>&gt;<i> #17 0x00270ff8 in main ()
</I>&gt;<i>
</I>&gt;<i> =================================================================
</I>&gt;<i> Got a SIGSEGV while executing native code. This usually indicates
</I>&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;<i> used by your application.
</I>&gt;<i> =================================================================
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> James Moore
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">james at restphone.com</A>
</I>&gt;<i> <A HREF="http://jamesmoorecode.blogspot.com/">http://jamesmoorecode.blogspot.com/</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20091228/6cf4fa34/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20091228/6cf4fa34/attachment.html</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001741.html">[MonoTouch] How do you start a new thread?
</A></li>
	<LI>Next message: <A HREF="001744.html">[MonoTouch] Signing for Distribution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1742">[ date ]</a>
              <a href="thread.html#1742">[ thread ]</a>
              <a href="subject.html#1742">[ subject ]</a>
              <a href="author.html#1742">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
