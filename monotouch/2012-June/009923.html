<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] How to keep selected (element)row highlighted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20How%20to%20keep%20selected%20%28element%29row%20highlighted&In-Reply-To=%3CCAAG_%2BO68oVyQ%2By3jiKYoXSkc0VMh3NFfxRzySOW-AO-d_qdWfQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009915.html">
   <LINK REL="Next"  HREF="009931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] How to keep selected (element)row highlighted</H1>
    <B>Craig Dunn</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20How%20to%20keep%20selected%20%28element%29row%20highlighted&In-Reply-To=%3CCAAG_%2BO68oVyQ%2By3jiKYoXSkc0VMh3NFfxRzySOW-AO-d_qdWfQ%40mail.gmail.com%3E"
       TITLE="[MonoTouch] How to keep selected (element)row highlighted">craig.dunn at gmail.com
       </A><BR>
    <I>Mon Jun  4 22:20:27 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009915.html">[MonoTouch] How to keep selected (element)row highlighted
</A></li>
        <LI>Next message: <A HREF="009931.html">[MonoTouch] How to keep selected (element)row highlighted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9923">[ date ]</a>
              <a href="thread.html#9923">[ thread ]</a>
              <a href="subject.html#9923">[ subject ]</a>
              <a href="author.html#9923">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>MWC uses MonoTouch.Dialog extensively!

Looking at the MT.D code, the Element.Selected method is usually
implemented like this:

public override void Selected (DialogViewController dvc, UITableView
tableView, NSIndexPath indexPath)

{

// dostuff

tableView.DeselectRow (indexPath, true);

}

If you create a custom Element for your app and implement RowSelected
without 'DeselectRow' it should work. You can probably also just subclass
the Elements you're already using and just override this one method... you
might want to make it conditional so that on the iPhone it DOES deselect.

MT.D is pretty extensible (and the source is available too). I'd be
surprised if you had to re-write as a UITableView...

-craig


On Mon, Jun 4, 2012 at 9:48 PM, Guido Van Hoecke &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">guivho at gmail.com</A>&gt; wrote:

&gt;<i> Craig,
</I>&gt;<i>
</I>&gt;<i> Unfortunately, MWC does not use Monotouch.Dialog: it uses its own
</I>&gt;<i> UITableView which gives a finer control over things.
</I>&gt;<i>
</I>&gt;<i> My Master is a DialogViewController, which is also available on the
</I>&gt;<i> iPhone with some minor conditional stuff, mostly to differentaite
</I>&gt;<i> between the iPhone and iPad paradigm.
</I>&gt;<i>
</I>&gt;<i> I can highlight the entry at NSIndexParth.FromRowSection(0,0) at initial
</I>&gt;<i> loading time, but fail to keep the selection highlighted whenever an
</I>&gt;<i> entry is tapped.
</I>&gt;<i>
</I>&gt;<i> Here's what I've got to handle this:
</I>&gt;<i>
</I>&gt;<i> * in the Dialog Constructor:
</I>&gt;<i>
</I>&gt;<i> if (AppDelegate.IsPad)
</I>&gt;<i>        Dvc.OnSelection += DvcOnOnSelection;
</I>&gt;<i>
</I>&gt;<i> * and the DvcOnSelection method:
</I>&gt;<i>
</I>&gt;<i> private void DvcOnOnSelection(NSIndexPath nsIndexPath)
</I>&gt;<i> {
</I>&gt;<i>        Dvc.TableView.SelectRow(
</I>&gt;<i>                Dvc.TableView.IndexPathForSelectedRow,
</I>&gt;<i>                true,
</I>&gt;<i>                UITableViewScrollPosition.None);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> This method is called whenever a row is tapped, but it does not
</I>&gt;<i> preserve nor force the selection color.
</I>&gt;<i>
</I>&gt;<i> Any ideas to preserve the selected color in Monotouch.Dialog?
</I>&gt;<i> It would be a pity if I had to recode the existing iPhone controller as
</I>&gt;<i> a lower level TableViewController on the Ipad...
</I>&gt;<i>
</I>&gt;<i> Thanks in advance,
</I>&gt;<i>
</I>&gt;<i> Guivho.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 3 June 2012 23:58, Craig Dunn &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">craig.dunn at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; The MWC sample does that - both for the master list (landscape view) and
</I>&gt;<i> &gt; also the mini 'speaker list' for sessions that you can see in this
</I>&gt;<i> &gt; screenshot.
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="https://raw.github.com/xamarin/mobile-samples/master/MWC/Screenshots/iOS/Sessions_iPad.PNG">https://raw.github.com/xamarin/mobile-samples/master/MWC/Screenshots/iOS/Sessions_iPad.PNG</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; the relevant pieces of code are :
</I>&gt;<i> &gt; * in the SpeakersTableViewSource.cs, we DON'T deselect, so the blue
</I>&gt;<i> &gt; highlight will remain
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; if (AppDelegate.IsPhone) tableView.DeselectRow (indexPath, true);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; * in SessionView.cs we set the selection to a particular row when loading
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; if (AppDelegate.IsPad) {
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; // set the highlight for whatever speaker is showing in the other column
</I>&gt;<i> &gt; (only iPad, obviously)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    if (speakerTable.IndexPathForSelectedRow == null)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;       speakerTable.SelectRow (NSIndexPath.FromRowSection (0,0), true,
</I>&gt;<i> &gt; UITableViewScrollPosition.Top);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    else
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;       speakerTable.SelectRow (speakerTable.IndexPathForSelectedRow, true,
</I>&gt;<i> &gt; UITableViewScrollPosition.Top);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; HTH
</I>&gt;<i> &gt; craig
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Sun, Jun 3, 2012 at 10:38 PM, Guido Van Hoecke &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">guivho at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Hi,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I'm working at a universal app where I use the wonderfull
</I>&gt;<i> &gt;&gt; MTSplitViewController when ran on the iPad
</I>&gt;<i> &gt;&gt; (Thank you Ren&#233;).
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Both Master and Detail panes use DialogViewControllers
</I>&gt;<i> &gt;&gt; (Thank you Miguel).
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Selecting an element on the Master creates and pushes the corresponding
</I>&gt;<i> &gt;&gt; DialogController onto the UINavigationController associated with the
</I>&gt;<i> &gt;&gt; Detail pane.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; This interaction works like a charm!
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; When I tap an element in the Master pane, the blue selection bar fades
</I>&gt;<i> &gt;&gt; out, which is the normal expected behaviour. However, for a Master pane
</I>&gt;<i> &gt;&gt; it would be desirable that this selection color would not diappear,
</I>&gt;<i> &gt;&gt; leaving a clear trace of the selected option that corresponds to the
</I>&gt;<i> &gt;&gt; current Detail pane content, as a kind of the 'Active menu choice'.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I dare hope that this can be easily achieved, but I've stackoverflowed
</I>&gt;<i> &gt;&gt; and googled around without success.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Any ideas or suggestions?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thanks in advance,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Guido
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; --
</I>&gt;<i> &gt;&gt; You will be surprised by a loud noise.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; <A HREF="http://vanhoecke.org">http://vanhoecke.org</A> ... and go2 places!
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; MonoTouch mailing list
</I>&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120605/f58a0cf4/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120605/f58a0cf4/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009915.html">[MonoTouch] How to keep selected (element)row highlighted
</A></li>
	<LI>Next message: <A HREF="009931.html">[MonoTouch] How to keep selected (element)row highlighted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9923">[ date ]</a>
              <a href="thread.html#9923">[ thread ]</a>
              <a href="subject.html#9923">[ subject ]</a>
              <a href="author.html#9923">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
