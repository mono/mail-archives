<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] trying to understand the best way to call	tableviewcontrollers in relation to GCing.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20trying%20to%20understand%20the%20best%20way%20to%20call%0A%09tableviewcontrollers%20in%20relation%20to%20GCing.&In-Reply-To=%3CE9D16516-45D3-4236-9002-2DD31ECC9673%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010071.html">
   <LINK REL="Next"  HREF="010074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] trying to understand the best way to call	tableviewcontrollers in relation to GCing.</H1>
    <B>Alex White</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20trying%20to%20understand%20the%20best%20way%20to%20call%0A%09tableviewcontrollers%20in%20relation%20to%20GCing.&In-Reply-To=%3CE9D16516-45D3-4236-9002-2DD31ECC9673%40gmail.com%3E"
       TITLE="[MonoTouch] trying to understand the best way to call	tableviewcontrollers in relation to GCing.">alexwhite68 at gmail.com
       </A><BR>
    <I>Wed Jun 13 08:57:42 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010071.html">[MonoTouch] trying to understand the best way to call tableviewcontrollers in relation to GCing.
</A></li>
        <LI>Next message: <A HREF="010074.html">[MonoTouch] Newbie question : MonoDevelop error when creating	outlet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10081">[ date ]</a>
              <a href="thread.html#10081">[ thread ]</a>
              <a href="subject.html#10081">[ subject ]</a>
              <a href="author.html#10081">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Pete for the email,

The reason for trying this was because something is falling out of scope and being GC'd.

in all my classes the VC that are being called are declared at the top of the class and not at method level.

Here is some example code that I have narrowed down the issue.

private void backButton_Clicked(object sender, EventArgs e) {
	// create a VC class;
	revise = new ReviseVCiPhone();
			
	// works but looks wrong as you are going backwards but the animation is forwards.
	NavigationController.PushViewController(revise, true);
			
	// works but no animation
	//NavigationController.PushViewController(revise, false);
			
	// this fails with GC issues as soon as you try to come back to this VC
	//NavigationController.PopToViewController(revise, true);
			
	// this fails with GC issues eventually.
	//NavigationController.PopToRootViewController(true);
}

in my appDelegate class

navigationRoots = new UINavigationController [5] {
	new UINavigationController (mainvc) {
		TabBarItem = new UITabBarItem (&quot;Infomation&quot;, UIImage.FromBundle (&quot;Images/Toolbar/icon_information.png&quot;), 0),
	} ,
	new UINavigationController (revise) {
		TabBarItem = new UITabBarItem (&quot;Revise&quot;, UIImage.FromBundle (&quot;Images/Toolbar/icon_book.png&quot;), 1)
	} ,

------ snipped


thanks

Alex



On 12 Jun 2012, at 20:41, Pete Macko wrote:

&gt;<i> I usually don't hold references to VCs pushed onto the nav controller - just let them go out of scope when they're popped off. Recreate them every time you need to push one onto the stack. 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Jun 12, 2012, at 3:35 PM, Alex White wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I have a small application that goes several levels deep into tableviewcontrollers, navigating down the tree works fine then back up works fine, but the second time down the tree I hit errors where objects have been GC'd.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> It is advisable to create a variable at the appdelegate level for each of the tableviewcontrollers so they don't go out of scope or is there something I am missing, Creating the objects at a local level means they are getting GC'd very quickly.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thanks
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Alex
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> MonoTouch mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i> 
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120613/164ffed9/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120613/164ffed9/attachment.html</A>&gt;
</PRE>




























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010071.html">[MonoTouch] trying to understand the best way to call tableviewcontrollers in relation to GCing.
</A></li>
	<LI>Next message: <A HREF="010074.html">[MonoTouch] Newbie question : MonoDevelop error when creating	outlet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10081">[ date ]</a>
              <a href="thread.html#10081">[ thread ]</a>
              <a href="subject.html#10081">[ subject ]</a>
              <a href="author.html#10081">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
