<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Correct way to cache and restore a UIViewController
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Correct%20way%20to%20cache%20and%20restore%20a%20UIViewController&In-Reply-To=%3C1340277091781-4655514.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010244.html">
   <LINK REL="Next"  HREF="010247.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Correct way to cache and restore a UIViewController</H1>
    <B>victoria</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Correct%20way%20to%20cache%20and%20restore%20a%20UIViewController&In-Reply-To=%3C1340277091781-4655514.post%40n4.nabble.com%3E"
       TITLE="[MonoTouch] Correct way to cache and restore a UIViewController">iminurbase at hotmail.com
       </A><BR>
    <I>Thu Jun 21 11:11:31 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010244.html">[MonoTouch] Clean resource allocation
</A></li>
        <LI>Next message: <A HREF="010247.html">[MonoTouch] Correct way to cache and restore a UIViewController
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10246">[ date ]</a>
              <a href="thread.html#10246">[ thread ]</a>
              <a href="subject.html#10246">[ subject ]</a>
              <a href="author.html#10246">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear list,

Short version: What's the correct way to load a UIViewController when the
application starts, and then restore it (much) later?

*

I found creating UIViewControllers with somewhat complex Views to be a
fairly expensive operation, so instead of just creating and pushing them
onto the Navigator when needed, I had the idea to load all heavy views into
a simple object cache when the app starts (with a nice loading screen), and
then push/pop them at will while keeping them in memory. It works something
like this:

1 AppStartUp
|<i>--- cache[&quot;finalView&quot;] = new ComplexViewController();
</I>|<i>--- push Menu A onto the navigator
</I>|<i>
</I>2 Menu A Controller
|<i> --- user makes some kind of selection
</I>|<i> --- (cache[&quot;finalView&quot;] as
</I>ComplexViewController).UpdateViewWithSelectionFromMenuA()
|<i>---  push Menu B onto the navigator
</I>|<i>
</I>3 Menu B Controller
|<i> --- user makes some kind of selection
</I>|<i> --- (cache[&quot;finalView&quot;] as
</I>ComplexViewController).UpdateViewWithSelectionFromMenuB()
|<i>---  push cache[&quot;finalView&quot;] onto the navigator
</I>|<i>
</I>4 ComplexViewController
|<i> --- OMG Ponies!
</I>

This method at first seemed to work great, and made the transition between
Menu B and ComplexViewController *a lot* smoother. However, things started
to fall apart recently with stuff going missing from the views in the cache.
So, I started adding lots of SetNeedsDisplay() in their ViewWillAppear
methods, and this somewhat worked - except for UITables. And some custom
controls. I'm fairly certain I've gone down the wrong path here, so are
there any best practices for doing what I'm trying to accomplish?

Any help or hints would be much appreciated!

/ V

--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Correct-way-to-cache-and-restore-a-UIViewController-tp4655514.html">http://monotouch.2284126.n4.nabble.com/Correct-way-to-cache-and-restore-a-UIViewController-tp4655514.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010244.html">[MonoTouch] Clean resource allocation
</A></li>
	<LI>Next message: <A HREF="010247.html">[MonoTouch] Correct way to cache and restore a UIViewController
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10246">[ date ]</a>
              <a href="thread.html#10246">[ thread ]</a>
              <a href="subject.html#10246">[ subject ]</a>
              <a href="author.html#10246">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
