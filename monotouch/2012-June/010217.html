<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] XML Serialization and writing to a file in MOnoDevelop with C#
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20XML%20Serialization%20and%20writing%20to%20a%20file%20in%0A%20MOnoDevelop%20with%20C%23&In-Reply-To=%3CCACp3Zk05QUqfv%2B6xz3p%2BNYcnqtBa4oZgy3CrT9JR%3DxoQbO%3DCGQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010215.html">
   <LINK REL="Next"  HREF="010220.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] XML Serialization and writing to a file in MOnoDevelop with C#</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20XML%20Serialization%20and%20writing%20to%20a%20file%20in%0A%20MOnoDevelop%20with%20C%23&In-Reply-To=%3CCACp3Zk05QUqfv%2B6xz3p%2BNYcnqtBa4oZgy3CrT9JR%3DxoQbO%3DCGQ%40mail.gmail.com%3E"
       TITLE="[MonoTouch] XML Serialization and writing to a file in MOnoDevelop with C#">sebastien at xamarin.com
       </A><BR>
    <I>Tue Jun 19 16:05:44 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010215.html">[MonoTouch] XML Serialization and writing to a file in MOnoDevelop	with C#
</A></li>
        <LI>Next message: <A HREF="010220.html">[MonoTouch] XML Serialization and writing to a file in	MOnoDevelop with C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10217">[ date ]</a>
              <a href="thread.html#10217">[ thread ]</a>
              <a href="subject.html#10217">[ subject ]</a>
              <a href="author.html#10217">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>UIAlertView uvy=new UIAlertView(&quot;Notification&quot;, &quot;Invalid Credentials!
Please try again!&quot;, null, &quot;OK&quot;, null);

Try removing the last `null` parameter since it's a `params` and
should not be required.

Sebastien

p.s. this code was changed in 5.3.x and should not throw an NRE
anymore, even if there's still an open bug about something else.

On Tue, Jun 19, 2012 at 3:44 AM, proindigo &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">pro_indigo at live.com</A>&gt; wrote:
&gt;<i> I have a webservice that authenticates a client against clientcode, email and
</I>&gt;<i> password stored in mssql database. Now I am trying to consume it in my
</I>&gt;<i> iPhone app. I am trying to serialize the output returned by the web methods
</I>&gt;<i> and write to a file on the Personal folder on my machine. Then read a
</I>&gt;<i> certain node from it and show some form of welcome message when the
</I>&gt;<i> authentication is successful. Here is the code block which I am using, but I
</I>&gt;<i> am getting a NullReferenceEsxception: Object reference not set to an
</I>&gt;<i> instance of an object on the marked line. Can you guys tell me where I am
</I>&gt;<i> going wrong? Here ASTONAPPService is the name of the service that I have
</I>&gt;<i> added to my project. And GetLoginUser() is the exposed webmethod. Neither is
</I>&gt;<i> the directory being created nor is the xml file being written. I am just a
</I>&gt;<i> beginner, so I haven't got much clue either.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> if(ValidateControls ())
</I>&gt;<i> {
</I>&gt;<i> &#160; &#160; &#160; &#160;ASTONAPPService.IPADService objipad=new
</I>&gt;<i> ASTONAPP.ASTONAPPService.IPADService();
</I>&gt;<i> &#160; &#160; &#160; &#160;ASTONAPPService.BLL_User user=objipad.GetLoginUser(txtClientCode.Text,
</I>&gt;<i> txtEmail.Text, txtPassword.Text);
</I>&gt;<i> &#160; &#160; &#160; &#160;if(user!=null)
</I>&gt;<i> &#160; &#160; &#160; &#160;{
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;System.Xml.Serialization.XmlSerializer xx=new XmlSerializer(user.GetType
</I>&gt;<i> ());
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;string
</I>&gt;<i> pathtowrite=Environment.GetFolderPath(Environment.SpecialFolder.Personal);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;var dirName=Path.Combine (pathtowrite, &quot;ASTON Repository&quot;);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;if(!Directory.Exists (dirName))
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;Directory.CreateDirectory (dirName);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;}
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;var filepath=Path.Combine (dirName, &quot;BLL_User.xml&quot;);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;if(File.Exists (filepath))
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;File.Delete (filepath);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;}
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;TextWriter txtW=new StreamWriter(filepath);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;xx.Serialize (txtW, user);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;txtW.Close ();
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;string clientcode=txtClientCode.Text;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;XDocument xdoc=XDocument.Load (filepath);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;var usrnm=xdoc.XPathSelectElement(String.Format
</I>&gt;<i> (&quot;BLL_User[DiyCode={0}]/UserName&quot;, clientcode));
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;UIAlertView uvm=new UIAlertView(&quot;Notification&quot;, &quot;&quot;+usrnm.ToString ()+&quot;&quot;,
</I>&gt;<i> null, &quot;OK&quot;, null);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;uvm.Show ();
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;this.ash=new AssessmentsHome();
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;this.NavigationController.PushViewController (this.ash, true);
</I>&gt;<i> &#160; &#160; &#160; &#160;}
</I>&gt;<i> &#160; &#160; &#160; &#160;else
</I>&gt;<i> &#160; &#160; &#160; &#160;{
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;UIAlertView uvy=new UIAlertView(&quot;Notification&quot;, &quot;Invalid Credentials!
</I>&gt;<i> Please try again!&quot;, null, &quot;OK&quot;, null); &#160;&lt;--- this line *********
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;uvy.Show ();
</I>&gt;<i> &#160; &#160; &#160; &#160;}
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What could be possibly wrong here? Can you spot any logical error in the
</I>&gt;<i> code block? Look forward to receiving some help on this matter.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/XML-Serialization-and-writing-to-a-file-in-MOnoDevelop-with-C-tp4655459.html">http://monotouch.2284126.n4.nabble.com/XML-Serialization-and-writing-to-a-file-in-MOnoDevelop-with-C-tp4655459.html</A>
</I>&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I></PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010215.html">[MonoTouch] XML Serialization and writing to a file in MOnoDevelop	with C#
</A></li>
	<LI>Next message: <A HREF="010220.html">[MonoTouch] XML Serialization and writing to a file in	MOnoDevelop with C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10217">[ date ]</a>
              <a href="thread.html#10217">[ thread ]</a>
              <a href="subject.html#10217">[ subject ]</a>
              <a href="author.html#10217">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
