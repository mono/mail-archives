<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Exceptions with no stack trace in my code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Exceptions%20with%20no%20stack%20trace%20in%20my%20code&In-Reply-To=7F97B03DB6DACB45AB6E5C5E1267AD0423963FA3%40MXXSLAUS001.xsl.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007100.html">
   <LINK REL="Next"  HREF="007104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Exceptions with no stack trace in my code</H1>
    <B>Dean Cleaver</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Exceptions%20with%20no%20stack%20trace%20in%20my%20code&In-Reply-To=7F97B03DB6DACB45AB6E5C5E1267AD0423963FA3%40MXXSLAUS001.xsl.com"
       TITLE="[MonoTouch] Exceptions with no stack trace in my code">dean.cleaver at xceptionsoftware.com
       </A><BR>
    <I>Tue Dec 13 11:54:45 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007100.html">[MonoTouch] Exceptions with no stack trace in my code
</A></li>
        <LI>Next message: <A HREF="007104.html">[MonoTouch] Exceptions with no stack trace in my code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7103">[ date ]</a>
              <a href="thread.html#7103">[ thread ]</a>
              <a href="subject.html#7103">[ subject ]</a>
              <a href="author.html#7103">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Rolf,

I think I have a lead on these. Would it happen if I did this:

try
{
    this.InvokeOnMainThread( delegate
    {
        // my code here
    });
}
catch
{
    // report exception
}

Basically, does the invoking a delegate mean that there is no stack trace from the calling code?

Dino

From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>] On Behalf Of Dean Cleaver
Sent: Tuesday, December 13, 2011 9:54 AM
To: Rolf Bjarne Kvinge
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
Subject: Re: [MonoTouch] Exceptions with no stack trace in my code

Rolf,

No - I'm not. I do use web services, but never Begin/End - always direct calls, even if they are on different threads. But occasionally I get those errors trapped and reported back.

And I just got this one trapped and returned:

MonoTouch.Foundation.MonoTouchException: Objective-C exception thrown. Name: NSInternalInconsistencyException Reason: Attempt to create two animations for cell

No idea how that occurred, nor the &quot;two animations for cell&quot; when I don't create any. Only animation I have done is on a UIView which has nothing to do with any table cells. Also got this one:

MonoTouch.Foundation.MonoTouchException: Objective-C exception thrown. Name: NSInternalInconsistencyException Reason: Invalid update: invalid number of rows in section 0. Attempt to delete more rows than exist in section.

But that's it - nothing more than that. Not a hint of any of my code or anything.

Dino

From: Rolf Bjarne Kvinge [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">rolf at xamarin.com</A>]&lt;mailto:[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">rolf at xamarin.com</A>]&gt;
Sent: Tuesday, December 13, 2011 6:28 AM
To: Dean Cleaver
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&gt;
Subject: Re: [MonoTouch] Exceptions with no stack trace in my code

Hi,

It looks like you're using (async) web services. The processing is automatically done on a separate thread, so it is expected that none of your code shows up in the stack trace (you provided an event handler or a callback which will be called when the processing is done, that's when your code will show up).

In this case it looks like the connection to the server was interrupted, though exactly how you should deal with that depends on your app.

Rolf

On Tue, Dec 13, 2011 at 4:35 AM, Dean Cleaver &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>&gt;&gt; wrote:
Hi,

I am getting various exceptions from a web service in code trapped I believe by the &quot;AppDomain.CurrentDomain.UnhandledException&quot;, and then reported back to me.

System.Net.WebException: Error: ConnectFailure (interrupted) ---&gt; System.Net.Sockets.SocketException: interrupted
at System.Net.Sockets.Socket.Connect (System.Net.EndPoint remoteEP) [0x00000] in :0
at System.Net.WebConnection.Connect (System.Net.HttpWebRequest request) [0x00000] in :0
--- End of inner exception stack trace ---
at System.Net.HttpWebRequest.EndGetRequestStream (IAsyncResult asyncResult) [0x00000] in :0
at System.Net.HttpWebRequest.GetRequestStream () [0x00000] in :0
at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke (System.String method_name, System.Object[] parameters) [0x00000] in :0

Confusing thing is, there is no reference to any of my code at all. How can this happen? Surely somewhere in every call regardless of the thread, there has to be at least one function of mine - given I never directly create a thread calling code other than mine.

Any ideas how to work out how this exception and other similar ones are occurring?

Dino

_______________________________________________
MonoTouch mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>&gt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20111213/018ed10b/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20111213/018ed10b/attachment-0001.html</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007100.html">[MonoTouch] Exceptions with no stack trace in my code
</A></li>
	<LI>Next message: <A HREF="007104.html">[MonoTouch] Exceptions with no stack trace in my code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7103">[ date ]</a>
              <a href="thread.html#7103">[ thread ]</a>
              <a href="subject.html#7103">[ subject ]</a>
              <a href="author.html#7103">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
