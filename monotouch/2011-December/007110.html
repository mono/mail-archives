<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Exceptions with no stack trace in my code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Exceptions%20with%20no%20stack%20trace%20in%20my%20code&In-Reply-To=7F97B03DB6DACB45AB6E5C5E1267AD0423964396%40MXXSLAUS001.xsl.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007105.html">
   <LINK REL="Next"  HREF="007095.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Exceptions with no stack trace in my code</H1>
    <B>Rolf Bjarne Kvinge</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Exceptions%20with%20no%20stack%20trace%20in%20my%20code&In-Reply-To=7F97B03DB6DACB45AB6E5C5E1267AD0423964396%40MXXSLAUS001.xsl.com"
       TITLE="[MonoTouch] Exceptions with no stack trace in my code">rolf at xamarin.com
       </A><BR>
    <I>Tue Dec 13 16:22:25 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007105.html">[MonoTouch] Exceptions with no stack trace in my code
</A></li>
        <LI>Next message: <A HREF="007095.html">[MonoTouch] How to use Github integration in Monodevelop?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7110">[ date ]</a>
              <a href="thread.html#7110">[ thread ]</a>
              <a href="subject.html#7110">[ subject ]</a>
              <a href="author.html#7110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Maybe you can break on the exception in MonoDevelop and investigate the
stack?

Rolf

On Tue, Dec 13, 2011 at 6:51 PM, Dean Cleaver &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>&gt; wrote:

&gt;<i> That explains the monotouch exceptions - still doesn't explain the web
</I>&gt;<i> service exceptions. They're always the opposite - I *don't* want them on
</I>&gt;<i> the main thread, so they're in threads of their own - but all web service
</I>&gt;<i> calls are wrapped in a class in a separate project, so I would expect a
</I>&gt;<i> stack trace of at least MainProject.SomeFunction -&gt; SubProject.SomeFunction
</I>&gt;<i> -&gt; WebService.
</I>&gt;<i>
</I>&gt;<i> Dino
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Nic Wise [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">nicw at fastchicken.co.nz</A>]
</I>&gt;<i> Sent: Tuesday, December 13, 2011 11:40 AM
</I>&gt;<i> To: Dean Cleaver
</I>&gt;<i> Cc: Rolf Bjarne Kvinge; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [MonoTouch] Exceptions with no stack trace in my code
</I>&gt;<i>
</I>&gt;<i> To interrupt:
</I>&gt;<i>
</I>&gt;<i> yes.
</I>&gt;<i>
</I>&gt;<i> try this:
</I>&gt;<i>
</I>&gt;<i> &gt;     this.InvokeOnMainThread( delegate
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     {
</I>&gt;<i> try {} catch {};
</I>&gt;<i> &gt;     });
</I>&gt;<i>
</I>&gt;<i> it's two things running in parallel, so your code will be well past the
</I>&gt;<i> invoke by the time the invoke finishes...  if that makes sense.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Dec 13, 2011 at 16:54, Dean Cleaver &lt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>&gt; wrote:
</I>&gt;<i> &gt; Rolf,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think I have a lead on these. Would it happen if I did this:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; try
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     this.InvokeOnMainThread( delegate
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     {
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         // my code here
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     });
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; catch
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     // report exception
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Basically, does the invoking a delegate mean that there is no stack
</I>&gt;<i> &gt; trace from the calling code?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Dino
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>
</I>&gt;<i> &gt; [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>] On Behalf Of Dean Cleaver
</I>&gt;<i> &gt; Sent: Tuesday, December 13, 2011 9:54 AM
</I>&gt;<i> &gt; To: Rolf Bjarne Kvinge
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
</I>&gt;<i> &gt; Subject: Re: [MonoTouch] Exceptions with no stack trace in my code
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Rolf,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; No &#8211; I&#8217;m not. I do use web services, but never Begin/End &#8211; always
</I>&gt;<i> &gt; direct calls, even if they are on different threads. But occasionally
</I>&gt;<i> &gt; I get those errors trapped and reported back.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; And I just got this one trapped and returned:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; MonoTouch.Foundation.MonoTouchException: Objective-C exception thrown.
</I>&gt;<i> Name:
</I>&gt;<i> &gt; NSInternalInconsistencyException Reason: Attempt to create two
</I>&gt;<i> &gt; animations for cell
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; No idea how that occurred, nor the &#8220;two animations for cell&#8221; when I
</I>&gt;<i> &gt; don&#8217;t create any. Only animation I have done is on a UIView which has
</I>&gt;<i> &gt; nothing to do with any table cells. Also got this one:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; MonoTouch.Foundation.MonoTouchException: Objective-C exception thrown.
</I>&gt;<i> Name:
</I>&gt;<i> &gt; NSInternalInconsistencyException Reason: Invalid update: invalid
</I>&gt;<i> &gt; number of rows in section 0. Attempt to delete more rows than exist in
</I>&gt;<i> section.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But that&#8217;s it &#8211; nothing more than that. Not a hint of any of my code
</I>&gt;<i> &gt; or anything.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Dino
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; From: Rolf Bjarne Kvinge [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">rolf at xamarin.com</A>]
</I>&gt;<i> &gt; Sent: Tuesday, December 13, 2011 6:28 AM
</I>&gt;<i> &gt; To: Dean Cleaver
</I>&gt;<i> &gt; Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
</I>&gt;<i> &gt; Subject: Re: [MonoTouch] Exceptions with no stack trace in my code
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It looks like you're using (async) web services. The processing is
</I>&gt;<i> &gt; automatically done on a separate thread, so it is expected that none
</I>&gt;<i> &gt; of your code shows up in the stack trace (you provided an event
</I>&gt;<i> &gt; handler or a callback which will be called when the processing is
</I>&gt;<i> &gt; done, that's when your code will show up).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In this case it looks like the connection to the server was
</I>&gt;<i> &gt; interrupted, though exactly how you should deal with that depends on
</I>&gt;<i> your app.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Rolf
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Tue, Dec 13, 2011 at 4:35 AM, Dean Cleaver
</I>&gt;<i> &gt; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am getting various exceptions from a web service in code trapped I
</I>&gt;<i> &gt; believe by the &#8220;AppDomain.CurrentDomain.UnhandledException&#8221;, and then
</I>&gt;<i> &gt; reported back to me.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; System.Net.WebException: Error: ConnectFailure (interrupted) ---&gt;
</I>&gt;<i> &gt; System.Net.Sockets.SocketException: interrupted at
</I>&gt;<i> &gt; System.Net.Sockets.Socket.Connect (System.Net.EndPoint remoteEP)
</I>&gt;<i> &gt; [0x00000] in :0 at System.Net.WebConnection.Connect
</I>&gt;<i> &gt; (System.Net.HttpWebRequest request) [0x00000] in :0
</I>&gt;<i> &gt; --- End of inner exception stack trace --- at
</I>&gt;<i> &gt; System.Net.HttpWebRequest.EndGetRequestStream (IAsyncResult
</I>&gt;<i> &gt; asyncResult) [0x00000] in :0 at
</I>&gt;<i> &gt; System.Net.HttpWebRequest.GetRequestStream () [0x00000] in :0 at
</I>&gt;<i> &gt; System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke
</I>&gt;<i> &gt; (System.String method_name, System.Object[] parameters) [0x00000] in
</I>&gt;<i> &gt; :0
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Confusing thing is, there is no reference to any of my code at all.
</I>&gt;<i> &gt; How can this happen? Surely somewhere in every call regardless of the
</I>&gt;<i> &gt; thread, there has to be at least one function of mine &#8211; given I never
</I>&gt;<i> &gt; directly create a thread calling code other than mine.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Any ideas how to work out how this exception and other similar ones
</I>&gt;<i> &gt; are occurring?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Dino
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; MonoTouch mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; MonoTouch mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Nic Wise
</I>&gt;<i> t.  +44 7788 592 806 | @fastchicken | <A HREF="http://www.linkedin.com/in/nicwise">http://www.linkedin.com/in/nicwise</A>
</I>&gt;<i> b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A>
</I>&gt;<i>
</I>&gt;<i> Nearest Bus: find when the next bus is coming to your stop.
</I>&gt;<i> <A HREF="http://goo.gl/Vcz1p">http://goo.gl/Vcz1p</A> mobileAgent (for FreeAgent): get your accounts in
</I>&gt;<i> your pocket.
</I>&gt;<i> <A HREF="http://goo.gl/IuBU">http://goo.gl/IuBU</A>
</I>&gt;<i> Trip Wallet: Keep track of your budget on the go: <A HREF="http://goo.gl/ePhKaLondon">http://goo.gl/ePhKaLondon</A> Bike App: Find the nearest Boris Bike, and get riding!
</I>&gt;<i> <A HREF="http://goo.gl/Icp2">http://goo.gl/Icp2</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20111213/a3217d81/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20111213/a3217d81/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007105.html">[MonoTouch] Exceptions with no stack trace in my code
</A></li>
	<LI>Next message: <A HREF="007095.html">[MonoTouch] How to use Github integration in Monodevelop?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7110">[ date ]</a>
              <a href="thread.html#7110">[ thread ]</a>
              <a href="subject.html#7110">[ subject ]</a>
              <a href="author.html#7110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
