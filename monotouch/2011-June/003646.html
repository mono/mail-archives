<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] UIWindow.RootViewController and the iPad 2 Oh My!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20UIWindow.RootViewController%20and%20the%20iPad%202%20Oh%20My%21&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003638.html">
   <LINK REL="Next"  HREF="003647.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] UIWindow.RootViewController and the iPad 2 Oh My!</H1>
    <B>Joe Coder</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20UIWindow.RootViewController%20and%20the%20iPad%202%20Oh%20My%21&In-Reply-To="
       TITLE="[MonoTouch] UIWindow.RootViewController and the iPad 2 Oh My!">ucscr1pter at gmail.com
       </A><BR>
    <I>Mon Jun 20 15:25:48 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003638.html">[MonoTouch] Debug with Iphone on VMware?
</A></li>
        <LI>Next message: <A HREF="003647.html">[MonoTouch] Crash with InputView on UITextField
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3646">[ date ]</a>
              <a href="thread.html#3646">[ thread ]</a>
              <a href="subject.html#3646">[ subject ]</a>
              <a href="author.html#3646">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm currently in the final process of creating a game with Monotouch (and
MonoGame).  Unfortunately, I'm running in to a view strange problem.  My
game utilizes only the landscape views and my project settings for both ipad
and iphone are set to Landscape only.  Everything is working fine except any
external view is still displayed as if the device is in portrait, including
all of the game center views.

After a lot of research, it seems the Game Center relies on the
RootViewController of the UIWindow to determine it's orientation but in this
case, the RootViewController is null.  If I set it (MT 4.0.3) to a custom
view controller then all of the Game Center views are displayed correctly.

HOWEVER, when testing on an iPad 2, I get a very large performance hitch
(50-150ms frame time).  This only occurs on the iPad 2.  Both an iPhone 4
and an original iPad work fine without the hitch.  I'm trying to track down
what is causing the hit but so far no luck.  Here is the code I'm using to
setup the window:

public class FixedUIViewController : UIViewController
{
	public override bool ShouldAutorotateToInterfaceOrientation
(UIInterfaceOrientation toInterfaceOrientation)
	{
	        return (toInterfaceOrientation ==
UIInterfaceOrientation.LandscapeLeft || toInterfaceOrientation ==
UIInterfaceOrientation.LandscapeRight);
	}
}

in my Game's constructor I have the following:

_mainWindow = new UIWindow(UIScreen.MainScreen.Bounds);
_FixedViewController = new FixedUIViewController();
_mainWindow.RootViewController = _FixedViewController;

_view = new GameWindow();
_FixedViewController.Add(_view);

Any ideas would help.

--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/UIWindow-RootViewController-and-the-iPad-2-Oh-My-tp3612279p3612279.html">http://monotouch.2284126.n4.nabble.com/UIWindow-RootViewController-and-the-iPad-2-Oh-My-tp3612279p3612279.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003638.html">[MonoTouch] Debug with Iphone on VMware?
</A></li>
	<LI>Next message: <A HREF="003647.html">[MonoTouch] Crash with InputView on UITextField
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3646">[ date ]</a>
              <a href="thread.html#3646">[ thread ]</a>
              <a href="subject.html#3646">[ subject ]</a>
              <a href="author.html#3646">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
