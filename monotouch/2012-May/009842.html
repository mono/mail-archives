<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] XmlSerializer Deserialize a Rectangle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20XmlSerializer%20Deserialize%20a%20Rectangle&In-Reply-To=%3CCACp3Zk2Sf3GNQeueeDwKgFuLYog5HgHPo2k-%2B9ZTCmssaJ5D3A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009840.html">
   <LINK REL="Next"  HREF="009843.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] XmlSerializer Deserialize a Rectangle</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20XmlSerializer%20Deserialize%20a%20Rectangle&In-Reply-To=%3CCACp3Zk2Sf3GNQeueeDwKgFuLYog5HgHPo2k-%2B9ZTCmssaJ5D3A%40mail.gmail.com%3E"
       TITLE="[MonoTouch] XmlSerializer Deserialize a Rectangle">sebastien at xamarin.com
       </A><BR>
    <I>Wed May 30 01:27:55 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009840.html">[MonoTouch] XmlSerializer Deserialize a Rectangle
</A></li>
        <LI>Next message: <A HREF="009843.html">[MonoTouch] XmlSerializer Deserialize a Rectangle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9842">[ date ]</a>
              <a href="thread.html#9842">[ thread ]</a>
              <a href="subject.html#9842">[ subject ]</a>
              <a href="author.html#9842">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

First guess is that the simulator, by default, does not use the linker
while the device builds are, again by default, using the linker.

If the fields (or the getter or the setters) are not directly used in
your application (serialization is done thru reflection) then they
could be (all or only some) removed.

It's easy to test, simply use &quot;Link SDK&quot; on the simulator and/or
&quot;Don't link&quot; on device builds and see if it fails / work in the
reversed condition.

Regards,
Sebastien

On Tue, May 29, 2012 at 6:24 PM, Stoo Goff &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">stoo.goff at gmail.com</A>&gt; wrote:
&gt;<i> I'm trying to deserialise an XML file which contains a
</I>&gt;<i> System.Drawing.Rectangle. In the simulator everything works as expected, on
</I>&gt;<i> the device the Height of the rectangle is always 0.
</I>&gt;<i>
</I>&gt;<i> The code is:
</I>&gt;<i>
</I>&gt;<i> using(var stream = new FileStream(path, FileMode.Open, FileAccess.Read,
</I>&gt;<i> FileShare.ReadWrite)) {
</I>&gt;<i> var serialiser = new XmlSerializer(typeof(T));
</I>&gt;<i>
</I>&gt;<i> return (T) serialiser.Deserialize(stream);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Where T is a List&lt;Animation&gt;, with the Animation class having a public
</I>&gt;<i> Rectangle property called DrawingRect. The XML looks like this:
</I>&gt;<i>
</I>&gt;<i> &lt;Animation&gt;
</I>&gt;<i> &lt;ID&gt;animation.options.gamecentre.active&lt;/ID&gt;
</I>&gt;<i> &lt;Texture&gt;images/menus/option_menu_elements&lt;/Texture&gt;
</I>&gt;<i> &lt;DrawingRect&gt;
</I>&gt;<i> &lt;X&gt;146&lt;/X&gt;
</I>&gt;<i> &lt;Y&gt;97&lt;/Y&gt;
</I>&gt;<i> &lt;Width&gt;72&lt;/Width&gt;
</I>&gt;<i> &lt;Height&gt;72&lt;/Height&gt;
</I>&gt;<i> &lt;/DrawingRect&gt;
</I>&gt;<i> &lt;/Animation&gt;
</I>&gt;<i>
</I>&gt;<i> The device is an iPhone 4S running iOS 5.0.1. MonoTouch is the latest
</I>&gt;<i> update. This is happening with every rectangle that's being deserialised,
</I>&gt;<i> not just this instance. Can anyone shed any light on why the height would be
</I>&gt;<i> zero?
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I></PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009840.html">[MonoTouch] XmlSerializer Deserialize a Rectangle
</A></li>
	<LI>Next message: <A HREF="009843.html">[MonoTouch] XmlSerializer Deserialize a Rectangle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9842">[ date ]</a>
              <a href="thread.html#9842">[ thread ]</a>
              <a href="subject.html#9842">[ subject ]</a>
              <a href="author.html#9842">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
