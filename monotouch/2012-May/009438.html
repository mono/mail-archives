<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Strange memory leak in my MonoTouch app... only 5	MB live bytes, yet memory goes up to 90 MB and crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Strange%20memory%20leak%20in%20my%20MonoTouch%20app...%20only%205%0A%09MB%20live%20bytes%2C%20yet%20memory%20goes%20up%20to%2090%20MB%20and%20crash&In-Reply-To=%3C014601cd289c%248b58e340%24a20aa9c0%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009435.html">
   <LINK REL="Next"  HREF="009448.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Strange memory leak in my MonoTouch app... only 5	MB live bytes, yet memory goes up to 90 MB and crash</H1>
    <B>Ren&#233; Ruppert</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Strange%20memory%20leak%20in%20my%20MonoTouch%20app...%20only%205%0A%09MB%20live%20bytes%2C%20yet%20memory%20goes%20up%20to%2090%20MB%20and%20crash&In-Reply-To=%3C014601cd289c%248b58e340%24a20aa9c0%24%40gmail.com%3E"
       TITLE="[MonoTouch] Strange memory leak in my MonoTouch app... only 5	MB live bytes, yet memory goes up to 90 MB and crash">rene.ruppert at googlemail.com
       </A><BR>
    <I>Wed May  2 19:48:27 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009435.html">[MonoTouch] Strange memory leak in my MonoTouch app... only 5 MB live bytes, yet memory goes up to 90 MB and crash
</A></li>
        <LI>Next message: <A HREF="009448.html">[MonoTouch] Strange memory leak in my MonoTouch app... only 5 MB live bytes, yet memory goes up to 90 MB and crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9438">[ date ]</a>
              <a href="thread.html#9438">[ thread ]</a>
              <a href="subject.html#9438">[ subject ]</a>
              <a href="author.html#9438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just for info: I&#146;m doing something similar here. A background thread is
creating thumb images of huge PDFs.

The thread keeps on  looping the pages and creates UIImages and saves them
to disk. Everything is encapsulated in using blocks.

In VM Tracker I can see that the memory type &#147;CGImage&#148; keeps on growing
until the last image has been saved to disk and the thread exits. Meanwhile,
I&#146;m getting 200MB of &#147;CGImage&#148; dirty memory. I would expect the CGImages to
be collected immediately because of the using block.

Even after the thread &#147;Memory tag 70&#148; remains high &#150; and from what I heard,
this is cached image data. There shouldn&#146;t be any.

I&#146;ll try if I can hack a small demo project tomorrow.

 

Ren&#233;

 

Von: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>] Im Auftrag von Rolf Bjarne
Kvinge
Gesendet: Mittwoch, 2. Mai 2012 12:50
An: fmuaddib
Cc: MonoTouch Forums
Betreff: Re: [MonoTouch] Strange memory leak in my MonoTouch app... only 5
MB live bytes, yet memory goes up to 90 MB and crash

 

Hi,

 

Can you create a complete test project I can try out? I'd like to figure out
what's going on here, but I can't see anything wrong from your code.

 

Rolf

 

On Wed, May 2, 2012 at 10:55 AM, fmuaddib &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">fmuaddib at gmail.com</A>&gt; wrote:

I've a problem with a strange memory leak in my Monotouch app. If you
can help please check my post on stackoverflow:

<A HREF="http://stackoverflow.com/questions/10373464/monotouch-app-killed-for-low-mem">http://stackoverflow.com/questions/10373464/monotouch-app-killed-for-low-mem</A>
-why-live-bytes-allocation-5-mb-top

Any help is appreciated! Thanks in advance!
_______________________________________________
MonoTouch mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120502/c509a260/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120502/c509a260/attachment-0001.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009435.html">[MonoTouch] Strange memory leak in my MonoTouch app... only 5 MB live bytes, yet memory goes up to 90 MB and crash
</A></li>
	<LI>Next message: <A HREF="009448.html">[MonoTouch] Strange memory leak in my MonoTouch app... only 5 MB live bytes, yet memory goes up to 90 MB and crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9438">[ date ]</a>
              <a href="thread.html#9438">[ thread ]</a>
              <a href="subject.html#9438">[ subject ]</a>
              <a href="author.html#9438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
