<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] XmlSerializer Deserialize a Rectangle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20XmlSerializer%20Deserialize%20a%20Rectangle&In-Reply-To=%3CCANaUsOpoZJ6GPHyRpMX%3DqU75ajpD3bJqJGb5km2X_CriQT2Hfw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009838.html">
   <LINK REL="Next"  HREF="009842.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] XmlSerializer Deserialize a Rectangle</H1>
    <B>Stoo Goff</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20XmlSerializer%20Deserialize%20a%20Rectangle&In-Reply-To=%3CCANaUsOpoZJ6GPHyRpMX%3DqU75ajpD3bJqJGb5km2X_CriQT2Hfw%40mail.gmail.com%3E"
       TITLE="[MonoTouch] XmlSerializer Deserialize a Rectangle">stoo.goff at gmail.com
       </A><BR>
    <I>Tue May 29 22:24:28 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009838.html">[MonoTouch] Key binding for 'Run with'
</A></li>
        <LI>Next message: <A HREF="009842.html">[MonoTouch] XmlSerializer Deserialize a Rectangle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9840">[ date ]</a>
              <a href="thread.html#9840">[ thread ]</a>
              <a href="subject.html#9840">[ subject ]</a>
              <a href="author.html#9840">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to deserialise an XML file which contains a
System.Drawing.Rectangle. In the simulator everything works as expected, on
the device the Height of the rectangle is always 0.

The code is:

using(var stream = new FileStream(path, FileMode.Open, FileAccess.Read,
FileShare.ReadWrite)) {
var serialiser = new XmlSerializer(typeof(T));

return (T) serialiser.Deserialize(stream);
}

Where T is a List&lt;Animation&gt;, with the Animation class having a public
Rectangle property called DrawingRect. The XML looks like this:

&lt;Animation&gt;
&lt;ID&gt;animation.options.gamecentre.active&lt;/ID&gt;
&lt;Texture&gt;images/menus/option_menu_elements&lt;/Texture&gt;
&lt;DrawingRect&gt;
&lt;X&gt;146&lt;/X&gt;
&lt;Y&gt;97&lt;/Y&gt;
&lt;Width&gt;72&lt;/Width&gt;
&lt;Height&gt;72&lt;/Height&gt;
&lt;/DrawingRect&gt;
&lt;/Animation&gt;

The device is an iPhone 4S running iOS 5.0.1. MonoTouch is the latest
update. This is happening with every rectangle that's being deserialised,
not just this instance. Can anyone shed any light on why the height would
be zero?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120529/f34c6824/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120529/f34c6824/attachment.html</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009838.html">[MonoTouch] Key binding for 'Run with'
</A></li>
	<LI>Next message: <A HREF="009842.html">[MonoTouch] XmlSerializer Deserialize a Rectangle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9840">[ date ]</a>
              <a href="thread.html#9840">[ thread ]</a>
              <a href="subject.html#9840">[ subject ]</a>
              <a href="author.html#9840">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
