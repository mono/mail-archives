<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] App startup time
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20App%20startup%20time&In-Reply-To=1253102383.30879.89.camel%40lina">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001046.html">
   <LINK REL="Next"  HREF="001057.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] App startup time</H1>
    <B>Simon Guindon</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20App%20startup%20time&In-Reply-To=1253102383.30879.89.camel%40lina"
       TITLE="[MonoTouch] App startup time">sguindon at truecontext.com
       </A><BR>
    <I>Wed Sep 16 11:30:13 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001046.html">[MonoTouch] App startup time
</A></li>
        <LI>Next message: <A HREF="001057.html">[MonoTouch] App startup time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1065">[ date ]</a>
              <a href="thread.html#1065">[ thread ]</a>
              <a href="subject.html#1065">[ subject ]</a>
              <a href="author.html#1065">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Great email. This definitely helps us understand what is going on under the hood. Interesting stuff! Thanks for the description.

Thanks and take care,
Simon

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>] On Behalf Of Jonathan Pryor
Sent: Wednesday, September 16, 2009 8:00 AM
To: Mark Beaton
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
Subject: Re: [MonoTouch] App startup time

On Wed, 2009-09-09 at 21:00 +1000, Mark Beaton wrote:
&gt;<i> However, what seems problematic to me is the time that elapses between  
</I>&gt;<i> app launch, and the first Console.Write in the app's Main() method.  
</I>&gt;<i> Obviously I can't really time this from code,
</I>
Ah, but you can.  Export the project to Xcode, and within Xcode edit
main.m.  You can insert printf() calls into the main() function at
various points to see which functions take the longest.

I believe that this timing has been done before, and the biggest part of
startup time was due to type registration -- all NSObject subclasses
need to be registered with the Objective-C runtime, and since Apple has
apparently deprecated the &quot;lazy class initialization&quot; mechanism (with no
replacement) this needs to be done up-front, and the number of types to
register is proportional to the number of MonoTouch types you use and
subclass.

There may be a way to optimize this; Geoff is looking into it.

&gt;<i> How much would --nolink/--linksdkonly affect launch times of apps  
</I>&gt;<i> built using these flags?
</I>
None at all, as the overhead (as I understand it) is from type
registration, and skipping the linking step won't change how many types
need to be registered.

 - Jon


_______________________________________________
MonoTouch mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001046.html">[MonoTouch] App startup time
</A></li>
	<LI>Next message: <A HREF="001057.html">[MonoTouch] App startup time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1065">[ date ]</a>
              <a href="thread.html#1065">[ thread ]</a>
              <a href="subject.html#1065">[ subject ]</a>
              <a href="author.html#1065">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
