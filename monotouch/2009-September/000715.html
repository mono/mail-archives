<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Is XmlSerializer available in Beta 5?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Is%20XmlSerializer%20available%20in%20Beta%205%3F&In-Reply-To=BB848F472A3EB541A6F005A8F71737C307C6AD03CB%40EX41-2.exchserver.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000685.html">
   <LINK REL="Next"  HREF="000716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Is XmlSerializer available in Beta 5?</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Is%20XmlSerializer%20available%20in%20Beta%205%3F&In-Reply-To=BB848F472A3EB541A6F005A8F71737C307C6AD03CB%40EX41-2.exchserver.com"
       TITLE="[MonoTouch] Is XmlSerializer available in Beta 5?">atsushi at ximian.com
       </A><BR>
    <I>Sun Sep  6 13:28:13 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000685.html">[MonoTouch] Is XmlSerializer available in Beta 5?
</A></li>
        <LI>Next message: <A HREF="000716.html">[MonoTouch] Is XmlSerializer available in Beta 5?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#715">[ date ]</a>
              <a href="thread.html#715">[ thread ]</a>
              <a href="subject.html#715">[ subject ]</a>
              <a href="author.html#715">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm also not aware of the linker internals, but I don't expect it
doing, or will be doing, too much work. The linker does not run
very fast and giving additional burden does not sound good to me.

I'd rather use another custom attribute like [MonoTODO], say
[MonoTouchSerializable]. Or it may be possible for the linker
invoker just to skip stripping phase for certain assemblies.

Atsushi Eno


Simon Guindon wrote:
&gt;<i> Hmm good point Atsushi,
</I>&gt;<i> 
</I>&gt;<i> Here's a question and it may be totally invalid as I don't know how the linker works. Is it possible that the linker is able to check in code that something is actually going to be serialized so that we don't have to declare what objects?
</I>&gt;<i> 
</I>&gt;<i> The attribute, whether its a custom one works as well for when we create custom serializers but for ones that come with Mono, we pass the type into the serializer such as XmlSerializer. At that point that entire object shouldn't be stripped.
</I>&gt;<i> 
</I>&gt;<i> But like I said I'm not sure how things work deep in the bowels so my question may be totally invalid so feel free trash canning it ;)
</I>&gt;<i> 
</I>&gt;<i> Thanks!
</I>&gt;<i> Simon
</I>&gt;<i> ________________________________________
</I>&gt;<i> From: Atsushi Eno [<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">atsushi at ximian.com</A>]
</I>&gt;<i> Sent: September 4, 2009 5:00 PM
</I>&gt;<i> To: Simon Guindon
</I>&gt;<i> Cc: Jb Evain; Ethan Nagel; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [MonoTouch] Is XmlSerializer available in Beta 5?
</I>&gt;<i> 
</I>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I would rather think that there should be another serialization
</I>&gt;<i> behavioral attribute (probably for cecil linker) than
</I>&gt;<i> SerializableAttribute.
</I>&gt;<i> 
</I>&gt;<i> When it comes to WCF, marking Serializable could mean different
</I>&gt;<i> serialization strategy (i.e. apart from data contract), which will
</I>&gt;<i> need different solution than marking such fields as [Serializable].
</I>&gt;<i> 
</I>&gt;<i> Atsushi Eno
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Simon Guindon wrote:
</I>&gt;&gt;<i> Ethan,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I was testing XML serialization last night and discovered if you don't access for example a property on an object the linker will strip off code &quot;not used elsewhere in code&quot;, which means when serialization occurs, that property doesn't exist, thus not being serialized.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As Jb mentioned, for now the work-around is -linksdkonly in MonoDevelop under Options-&gt;iPhone Build-&gt;mtouch arguments
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I logged a bug last night and we came to the conclusion marking an object with [Serializable] is a nice declarative way of saying &quot;anything in this object and children of it should not be stripped out&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks!
</I>&gt;&gt;<i> Simon
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>] On Behalf Of Jb Evain
</I>&gt;&gt;<i> Sent: Friday, September 04, 2009 8:32 AM
</I>&gt;&gt;<i> To: Ethan Nagel
</I>&gt;&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
</I>&gt;&gt;<i> Subject: Re: [MonoTouch] Is XmlSerializer available in Beta 5?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hey,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 9/4/09, Ethan Nagel &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">enagel at nageltech.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>  I've implemented public constructors for each class and it hasn't made a
</I>&gt;&gt;&gt;<i> difference.  Has anyone else seen this problem?  Anyone else successfully
</I>&gt;&gt;&gt;<i> used XmlSerializer?
</I>&gt;&gt;<i> Hm, it's possible that the linker removes your default constructor.
</I>&gt;&gt;<i> What if you use -linksdkonly ?
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000685.html">[MonoTouch] Is XmlSerializer available in Beta 5?
</A></li>
	<LI>Next message: <A HREF="000716.html">[MonoTouch] Is XmlSerializer available in Beta 5?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#715">[ date ]</a>
              <a href="thread.html#715">[ thread ]</a>
              <a href="subject.html#715">[ subject ]</a>
              <a href="author.html#715">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
