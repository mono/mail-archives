<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Call .Net Webservice From MonoTouch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Call%20.Net%20Webservice%20From%20MonoTouch&In-Reply-To=91e4623e0909220950h203b3fa7y3446f4f1234caf38%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001138.html">
   <LINK REL="Next"  HREF="001141.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Call .Net Webservice From MonoTouch</H1>
    <B>Simon Guindon</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Call%20.Net%20Webservice%20From%20MonoTouch&In-Reply-To=91e4623e0909220950h203b3fa7y3446f4f1234caf38%40mail.gmail.com"
       TITLE="[MonoTouch] Call .Net Webservice From MonoTouch">sguindon at truecontext.com
       </A><BR>
    <I>Tue Sep 22 12:57:01 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001138.html">[MonoTouch] Call .Net Webservice From MonoTouch
</A></li>
        <LI>Next message: <A HREF="001141.html">[MonoTouch] Call .Net Webservice From MonoTouch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1139">[ date ]</a>
              <a href="thread.html#1139">[ thread ]</a>
              <a href="subject.html#1139">[ subject ]</a>
              <a href="author.html#1139">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Definitely that stuff works fine however implementing a SOAP stack is involved. I think the MonoTouch team has said it is on the TODO list.

I suggest we just wait patiently or take ServiceStack a shot, or if you're in a rush parse the SOAP messages manually ;)

Thanks and take care,
Simon

From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>] On Behalf Of Michael Kennedy
Sent: Tuesday, September 22, 2009 12:50 PM
To: Lee Whitney
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
Subject: Re: [MonoTouch] Call .Net Webservice From MonoTouch

I was playing around with web calls in the simulator and things like this worked fine:

WebClient client = new WebClient(url);
client.DownloadString();

or

XmlDocument doc = new XmlDocument();
doc.Load(url);

The second combined with a REST/WCF service speaking XML should work fine.

Now I haven't pushed this to the device. Maybe you guys can help me out here. What's the success rate of saying &quot;it worked in the simulator so it'll work on the phone&quot;?

Best regards,
Michael
On Tue, Sep 22, 2009 at 8:48 AM, Lee Whitney &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">lwhitney at hdgreetings.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">lwhitney at hdgreetings.com</A>&gt;&gt; wrote:

The library I've heard of was suggested by Demis Bellot on this list a while back (<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">demis.bellot at gmail.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">demis.bellot at gmail.com</A>&gt;).



<A HREF="http://www.servicestack.net">http://www.servicestack.net</A>



It works with Mono and in theory should work with MonoTouch, but there haven't been any reports yet from someone who has tried it.



It also looks like it may require server side configuration.



Demis maybe you can tell us what you use when you don't control the server?



More info from the post below.



Lee



-----Original Message-----
... Servicestack is just 2 .dll's that contain a set of

HttpHandlers on top of a normal .NET website application.



Configuration is one c# file which is effectively the same as the demo

app: <A HREF="http://code.google.com/p/servicestack/source/browse/trunk/ServiceStack.Examples/ServiceStack.Examples.Host.Web/AppHost.cs">http://code.google.com/p/servicestack/source/browse/trunk/ServiceStack.Examples/ServiceStack.Examples.Host.Web/AppHost.cs</A>



After that calling a webservice (in .NET/mono or silverlight) looks like:



var request = new GetFactorial { ForNumber = 3 };

var response = this.ServiceClient.Send&lt;GetFactorialResponse&gt;(request);



//ref: <A HREF="http://www.servicestack.net/ServiceStack.Examples.Clients/Silverlight.htm">http://www.servicestack.net/ServiceStack.Examples.Clients/Silverlight.htm</A>



//And your same webservice can be called via the JSON endpoint like:

var request = { ForNumber: $(&quot;#txtGetFactorial&quot;).val() };



serviceClient.getFromJsonService(&quot;GetFactorial&quot;, request, function(e) {

    $(&quot;#serviceGetFactorial .result&quot;).html(e.result.Result);

});

//ref: <A HREF="http://www.servicestack.net/ServiceStack.Examples.Clients/Default.htm">http://www.servicestack.net/ServiceStack.Examples.Clients/Default.htm</A>



Really after your setup you write the minimum code to both call and

implement a webservice...



_______________________________________________
MonoTouch mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>&gt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20090922/b5d3884a/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20090922/b5d3884a/attachment-0001.html</A> 
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001138.html">[MonoTouch] Call .Net Webservice From MonoTouch
</A></li>
	<LI>Next message: <A HREF="001141.html">[MonoTouch] Call .Net Webservice From MonoTouch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1139">[ date ]</a>
              <a href="thread.html#1139">[ thread ]</a>
              <a href="subject.html#1139">[ subject ]</a>
              <a href="author.html#1139">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
