<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Invalid Certificate received from server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Invalid%20Certificate%20received%20from%20server&In-Reply-To=%3C7F97B03DB6DACB45AB6E5C5E1267AD0424511016%40MXXSLAUS001.xsl.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008745.html">
   <LINK REL="Next"  HREF="008747.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Invalid Certificate received from server</H1>
    <B>Dean Cleaver</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Invalid%20Certificate%20received%20from%20server&In-Reply-To=%3C7F97B03DB6DACB45AB6E5C5E1267AD0424511016%40MXXSLAUS001.xsl.com%3E"
       TITLE="[MonoTouch] Invalid Certificate received from server">dean.cleaver at xceptionsoftware.com
       </A><BR>
    <I>Wed Mar 21 01:40:13 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="008745.html">[MonoTouch] Invalid Certificate received from server
</A></li>
        <LI>Next message: <A HREF="008747.html">[MonoTouch] Invalid Certificate received from server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8746">[ date ]</a>
              <a href="thread.html#8746">[ thread ]</a>
              <a href="subject.html#8746">[ subject ]</a>
              <a href="author.html#8746">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanx Gonzalo - have done exactly that, and it's working. And yes - I tried the site in Safari on the iPhone and it worked, but I'm definitely getting MonoTouch TLS errors in code.

Dino

-----Original Message-----
From: Gonzalo Paniagua Javier [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">gonzalo.mono at gmail.com</A>] 
Sent: Tuesday, March 20, 2012 8:34 PM
To: Dean Cleaver
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
Subject: Re: [MonoTouch] Invalid Certificate received from server

On Tue, Mar 20, 2012 at 7:55 PM, Dean Cleaver &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I&#8217;m having trouble with using Braintree Payments gateway because of an 
</I>&gt;<i> apparent invalid certificate returned from server. Everything works 
</I>&gt;<i> fine to their sandbox, but not to production, and they are 2 different 
</I>&gt;<i> issuers (and
</I>&gt;<i> levels) of certificate:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://sandbox.braintreegateway.com">https://sandbox.braintreegateway.com</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://www.braintreegateway.com">https://www.braintreegateway.com</A>
</I>&gt;<i>
</I>&gt;<i> The iPhone itself seems to trust the www.braintreegateway.com one when 
</I>&gt;<i> I use Safari, but the Braintree C# API code is failing when I try it in MonoTouch.
</I>&gt;<i> Works fine to the Sandbox one.
</I>&gt;<i>
</I>&gt;<i> Any ideas what could be the cause?
</I>
If you can browse with Safari on the iphone to those sites without getting a certificate warning, it should work fine...

While someone figures out what the real problem is, you can add this line to your code before using any System.Net code to workaround the
problem:

     ServicePointManager.ServerCertificateValidationCallback = new RemoteCertificateValidationCallback ((a, b, c, d) =&gt; { return true; });

-Gonzalo
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008745.html">[MonoTouch] Invalid Certificate received from server
</A></li>
	<LI>Next message: <A HREF="008747.html">[MonoTouch] Invalid Certificate received from server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8746">[ date ]</a>
              <a href="thread.html#8746">[ thread ]</a>
              <a href="subject.html#8746">[ subject ]</a>
              <a href="author.html#8746">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
