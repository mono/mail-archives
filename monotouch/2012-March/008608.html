<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] armv7 compile
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20armv7%20compile&In-Reply-To=%3CE3F83CB1185AF24EBF19FD93966BBFBD4EB621F6%40MAILR012.mail.lan%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008605.html">
   <LINK REL="Next"  HREF="008609.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] armv7 compile</H1>
    <B>Conway Wieler</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20armv7%20compile&In-Reply-To=%3CE3F83CB1185AF24EBF19FD93966BBFBD4EB621F6%40MAILR012.mail.lan%3E"
       TITLE="[MonoTouch] armv7 compile">conway.wieler at librestream.com
       </A><BR>
    <I>Tue Mar 13 20:25:01 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="008605.html">[MonoTouch] linking dependency
</A></li>
        <LI>Next message: <A HREF="008609.html">[MonoTouch] armv7 compile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8608">[ date ]</a>
              <a href="thread.html#8608">[ thread ]</a>
              <a href="subject.html#8608">[ subject ]</a>
              <a href="author.html#8608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
We want to compile our app to armv7 (for release) but mtouch produces an error &quot;mtouch exited with code 1&quot;. I have a &quot;-v&quot; in the Additional mtouch arguments field and the Debug Output does not seem to show any output that might indicate what the error is. Does anyone know how to get more details from the build that might show the cause of this error?

Other info:
- MonoTouch 5.2.5, Mono 2.10.8, MonoDevelop 2.8.6.5, Xcode 4.2, iPhone SDK 5.0
- our app is made up of a C#/MonoTouch front-end and a bunch of C++ libraries (compiled with Xcode) using P/Invoke's
- the &quot;Use LLVM Optimizing Compiler&quot; is checked and Supported Architecture is set to ARMv7; use Thumb-2 is unchecked
- when we compile the C++ libraries to armv6 and build our C# solution with armv6 (LLVM is off) for Release or Debug, the app compiles and runs. But building armv6 produces the &quot;executable is missing a required architecture : armv7&quot; warning that I'm trying to fix. I hear Apple won't let us release with only armv6.
- the last block of lines before the error:
--------------------------------------------------------
Mono Ahead of Time compiler - compiling assembly /Users/conway/Source/canawupas/application/iOS/Main/bin/iPhone/Release/Main.app/System.Xml.dll
Executing opt: /Developer/MonoTouch/LLVM/bin/opt -f -simplifycfg -domtree -domfrontier -scalarrepl -instcombine -simplifycfg -domtree -domfrontier -scalarrepl -simplify-libcalls -instcombine -simplifycfg -instcombine -simplifycfg -reassociate -domtree -loops -loopsimplify -domfrontier -loopsimplify -lcssa -loop-rotate -licm -lcssa -loop-unswitch -instcombine -scalar-evolution -loopsimplify -lcssa -iv-users -indvars -loop-deletion -loopsimplify -lcssa -loop-unroll -instcombine -memdep -gvn -memdep -memcpyopt -sccp -instcombine -domtree -memdep -dse -adce -simplifycfg -preverify -domtree -verify -o /var/folders/17/5ymtkzhd4yvd02z554gct1j80000gp/T/tmp36e9d4f4.tmp/System.Xml.dll.7.s.opt.bc /var/folders/17/5ymtkzhd4yvd02z554gct1j80000gp/T/tmp36e9d4f4.tmp/System.Xml.dll.7.s.bc
Executing llc: /Developer/MonoTouch/LLVM/bin/llc -mattr=+v6 -asm-verbose=false -mtriple=armv7-darwin -relocation-model=static -unwind-tables -disable-gnu-eh-frame -enable-mono-eh-frame -o /var/folders/17/5ymtkzhd4yvd02z554gct1j80000gp/T/tmp36e9d4f4.tmp/System.Xml.dll.7.s /var/folders/17/5ymtkzhd4yvd02z554gct1j80000gp/T/tmp36e9d4f4.tmp/System.Xml.dll.7.s.opt.bc
Code: 156208 Info: 26983 Ex Info: 16852 Unwind Info: 2744 Class Info: 25076 PLT: 2250 GOT Info: 25350 GOT: 19080 Offsets: 22163
Output file: '/var/folders/17/5ymtkzhd4yvd02z554gct1j80000gp/T/tmp36e9d4f4.tmp/System.Xml.dll.7.s'.
Linking symbol: '_mono_aot_module_System_Xml_info'.
Compiled 4612 out of 4612 methods (100%)
Methods compiled with LLVM: 4459 (96%)
Methods without GOT slots: 2813 (60%)
Direct calls: 435 (46%)
JIT time: 1776 ms, Generation time: 15795 ms, Assembly+Link time: 0 ms.

mtouch exited with code 1
-----------------------------------------------------------
Thanks!
Conway Wieler
Librestream

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120313/ecae2aec/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120313/ecae2aec/attachment.html</A>&gt;
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008605.html">[MonoTouch] linking dependency
</A></li>
	<LI>Next message: <A HREF="008609.html">[MonoTouch] armv7 compile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8608">[ date ]</a>
              <a href="thread.html#8608">[ thread ]</a>
              <a href="subject.html#8608">[ subject ]</a>
              <a href="author.html#8608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
