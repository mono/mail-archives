<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Any idea what could cause this crash?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Any%20idea%20what%20could%20cause%20this%20crash%3F&In-Reply-To=%3CCAP-t25-PttH6uT0Df2R6SG3Y-deXO7bF2WRahPPLxLuFkGRdUw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008775.html">
   <LINK REL="Next"  HREF="008780.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Any idea what could cause this crash?</H1>
    <B>Rolf Bjarne Kvinge</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Any%20idea%20what%20could%20cause%20this%20crash%3F&In-Reply-To=%3CCAP-t25-PttH6uT0Df2R6SG3Y-deXO7bF2WRahPPLxLuFkGRdUw%40mail.gmail.com%3E"
       TITLE="[MonoTouch] Any idea what could cause this crash?">rolf at xamarin.com
       </A><BR>
    <I>Thu Mar 22 09:55:48 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="008775.html">[MonoTouch] Any idea what could cause this crash?
</A></li>
        <LI>Next message: <A HREF="008780.html">[MonoTouch] Any idea what could cause this crash?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8778">[ date ]</a>
              <a href="thread.html#8778">[ thread ]</a>
              <a href="subject.html#8778">[ subject ]</a>
              <a href="author.html#8778">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Thu, Mar 22, 2012 at 9:35 AM, Ren&#233; Ruppert
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">rene.ruppert at googlemail.com</A>&gt;wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> From one out of hundred taps on a UIButton, I get the following crash.
</I>&gt;<i> There
</I>&gt;<i> is no managed crash.
</I>&gt;<i>
</I>Hitting the button starts a new thread and that thread updates the UI by
&gt;<i> using InvokeOnMainThread(). I was able to verify that it never crashes if I
</I>&gt;<i> do not use a separate thread.
</I>&gt;<i> What line is the key line here? What is nil/null? As I can see table view
</I>&gt;<i>  cells showing up in the crash, I assume it has to do with those.
</I>
I posted this stacktrace on SO a while ago and Rolf answered that the key is
&gt;<i> at (4) but I've been unable to fix the problem.
</I>&gt;<i> Giving code is hard because I don't know what part of is causing the
</I>&gt;<i> problem.
</I>&gt;<i> Can I assume that something was setting a background color (8) and then it
</I>&gt;<i>  crashed at (4)?
</I>
Then I would be able to limit it to places where the
&gt;<i>
</I>


&gt;<i> background color gets changed by me.
</I>&gt;<i>
</I>&gt;<i> Native stacktrace:
</I>&gt;<i>
</I>&gt;<i>        0   BrainloopBrowser                    0x00094fbc
</I>&gt;<i> mono_handle_native_sigsegv + 284
</I>&gt;<i>        1   BrainloopBrowser                    0x0000be72
</I>&gt;<i> mono_sigsegv_signal_handler + 178
</I>&gt;<i>        2   libsystem_c.dylib                   0x9401859b _sigtramp + 43
</I>&gt;<i>        3   ???                                 0xffffffff 0x0 + 4294967295
</I>&gt;<i>        4   QuartzCore                          0x04176891 -[CALayer
</I>&gt;<i> actionForKey:] + 89
</I>&gt;<i>        5   QuartzCore                          0x0417982d
</I>&gt;<i> _ZL12actionForKeyP7CALayerPN2CA11TransactionEP8NSString + 82
</I>&gt;<i>        6   QuartzCore                          0x0417c9c3
</I>&gt;<i> _ZN2CA5Layer12begin_changeEPNS_11TransactionEjRP11objc_object + 131
</I>&gt;<i>        7   QuartzCore                          0x04182ac1
</I>&gt;<i> _ZN2CA5Layer6setterEj12_CAValueTypePKv + 141
</I>&gt;<i>        8   QuartzCore                          0x04172ca4 -[CALayer
</I>&gt;<i> setBackgroundColor:] + 62
</I>&gt;<i>        9   UIKit                               0x021e2992
</I>&gt;<i> -[UIView(Internal) _setBackgroundCGColor:withSystemColorName:] + 1516
</I>&gt;<i>        10  UIKit                               0x021dbca5
</I>&gt;<i> -[UIView(Hierarchy) _setBackgroundColor:] + 145
</I>&gt;<i>        11  UIKit                               0x021dda06
</I>&gt;<i> -[UIView(Rendering) setBackgroundColor:] + 40
</I>&gt;<i>        12  CoreFoundation                      0x0113b51d __invoking___ +
</I>&gt;<i> 29
</I>&gt;<i>        13  CoreFoundation                      0x0113b437 -[NSInvocation
</I>&gt;<i> invoke] + 167
</I>&gt;<i>        14  UIKit                               0x025c53a5
</I>&gt;<i> TaggingAppearanceGeneralSetterIMP + 1137
</I>&gt;<i>        15  UIKit                               0x02388523 -[UITableViewCell
</I>&gt;<i> _updateSeparatorContent] + 478
</I>&gt;<i>        16  UIKit                               0x02390e53 -[UITableViewCell
</I>&gt;<i> layoutSubviews] + 2681
</I>&gt;<i>        17  UIKit                               0x021e3322
</I>&gt;<i> -[UIView(CALayerDelegate) layoutSublayersOfLayer:] + 178
</I>&gt;<i>        18  CoreFoundation                      0x011d6e72 -[NSObject
</I>&gt;<i> performSelector:withObject:] + 66
</I>&gt;<i>        19  QuartzCore                          0x0417392d -[CALayer
</I>&gt;<i> layoutSublayers] + 266
</I>&gt;<i>        20  QuartzCore                          0x0417d827
</I>&gt;<i> _ZN2CA5Layer16layout_if_neededEPNS_11TransactionE + 231
</I>&gt;<i>        21  QuartzCore                          0x04103fa7
</I>&gt;<i> _ZN2CA7Context18commit_transactionEPNS_11TransactionE + 377
</I>&gt;<i>        22  QuartzCore                          0x04105ea6
</I>&gt;<i> _ZN2CA11Transaction6commitEv + 374
</I>&gt;<i>        23  QuartzCore                          0x041059d3
</I>&gt;<i> _ZN2CA11Transaction14release_threadEPv + 65
</I>&gt;<i>        24  libsystem_c.dylib                   0x94009e0c
</I>&gt;<i> _pthread_tsd_cleanup + 85
</I>&gt;<i>        25  libsystem_c.dylib                   0x93fc264c _pthread_exit +
</I>&gt;<i> 146
</I>&gt;<i>        26  libsystem_c.dylib                   0x93fc29a0 pthread_exit + 33
</I>&gt;<i>        27  BrainloopBrowser                    0x0020434e thread_exit + 30
</I>&gt;<i>        28  BrainloopBrowser                    0x00203d03
</I>&gt;<i> thread_start_routine + 163
</I>&gt;<i>        29  BrainloopBrowser                    0x001aeb20 gc_start_thread +
</I>&gt;<i> 80
</I>&gt;<i>        30  libsystem_c.dylib                   0x93fc0ed9 _pthread_start +
</I>&gt;<i> 335
</I>&gt;<i>        31  libsystem_c.dylib                   0x93fc46de thread_start + 34
</I>&gt;<i>
</I>
This isn't the main thread. This code shouldn't be executing on any thread
but the main one, but this isn't directly executed from your code, so it's
not obvious what's going on.

Can you post the code you execute on the new thread? It's hopefully
something suspicious there.

Rolf
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120322/892775c3/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120322/892775c3/attachment-0001.html</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008775.html">[MonoTouch] Any idea what could cause this crash?
</A></li>
	<LI>Next message: <A HREF="008780.html">[MonoTouch] Any idea what could cause this crash?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8778">[ date ]</a>
              <a href="thread.html#8778">[ thread ]</a>
              <a href="subject.html#8778">[ subject ]</a>
              <a href="author.html#8778">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
