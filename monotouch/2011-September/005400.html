<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] IAsyncResult exception on device, on simulator is ok
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20IAsyncResult%20exception%20on%20device%2C%20on%20simulator%20is%20ok&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005391.html">
   <LINK REL="Next"  HREF="005401.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] IAsyncResult exception on device, on simulator is ok</H1>
    <B>jowi</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20IAsyncResult%20exception%20on%20device%2C%20on%20simulator%20is%20ok&In-Reply-To="
       TITLE="[MonoTouch] IAsyncResult exception on device, on simulator is ok">j.wiersma17 at chello.nl
       </A><BR>
    <I>Thu Sep 29 14:04:48 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005391.html">[MonoTouch] DialogViewController in a UINavigationController in a UITabBarController
</A></li>
        <LI>Next message: <A HREF="005401.html">[MonoTouch] IAsyncResult exception on device, on simulator is ok
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5400">[ date ]</a>
              <a href="thread.html#5400">[ thread ]</a>
              <a href="subject.html#5400">[ subject ]</a>
              <a href="author.html#5400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've written a quick ip/port scan for a specific device on my network, using
Sockets. What i do is trying to create a socket to a specific port for each
ip adress i can find, and if it connects within a small timeout of 15ms, it'
probably my device, and i send some commands to verify.

I start with this:

/Socket socket = new Socket(AddressFamily.InterNetwork, SocketType.Stream,
ProtocolType.IP);
IAsyncResult ias = socket.BeginConnect(ip, 4201, null, null);/

and then i try the AsyncWaitHandle:

/ias.AsyncWaitHandle.WaitOne(15, true))/

to try and get the connection. If this returns true, my connection is valid.
Problem is, this code works perfectly on the simulator, but on the actual
iPhone device, it fails the AsyncWaitHandle() with the following exception:

/System.NotSupportedException: Linked away at
System.Threading.WaitHandle.WaitOne (Int32 millisecondsTimeout, Boolean
exitContext) [0x00000]/

What am i doing wrong?



--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/IAsyncResult-exception-on-device-on-simulator-is-ok-tp3856964p3856964.html">http://monotouch.2284126.n4.nabble.com/IAsyncResult-exception-on-device-on-simulator-is-ok-tp3856964p3856964.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005391.html">[MonoTouch] DialogViewController in a UINavigationController in a UITabBarController
</A></li>
	<LI>Next message: <A HREF="005401.html">[MonoTouch] IAsyncResult exception on device, on simulator is ok
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5400">[ date ]</a>
              <a href="thread.html#5400">[ thread ]</a>
              <a href="subject.html#5400">[ subject ]</a>
              <a href="author.html#5400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
