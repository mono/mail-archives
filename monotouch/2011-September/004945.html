<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Advanced Rotation Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Advanced%20Rotation%20Problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005056.html">
   <LINK REL="Next"  HREF="004948.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Advanced Rotation Problem</H1>
    <B>JB</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Advanced%20Rotation%20Problem&In-Reply-To="
       TITLE="[MonoTouch] Advanced Rotation Problem">jeff.butterworth at softwareresults.com.au
       </A><BR>
    <I>Thu Sep  8 04:34:16 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005056.html">[MonoTouch] Installed MD 2.6 but have lost my Key Bindings
</A></li>
        <LI>Next message: <A HREF="004948.html">[MonoTouch] Can we use the TestFlightApp SDK?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4945">[ date ]</a>
              <a href="thread.html#4945">[ thread ]</a>
              <a href="subject.html#4945">[ subject ]</a>
              <a href="author.html#4945">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>When I write my apps, I create the ViewController and View in code. I
override ShouldAutorotateToInterfaceOrientation to return true and the
rotation generally works ok. On my View, I override LayoutSubview and
manually adjust the positioning of the controls. All good.

However, I have more complicated cases which I can't get rotation working
properly. For example I have one ViewController that controls two Views (one
for viewing data, the other to edit the data). I have a nice flip animation
happening when moving from one view to another. In this case though, auto
rotation doesn't happen. To swtich the views I do this in the controller:

this.View.RemoveFromSubview(oldView);
this.View.AddSubview(newView);


OK so I thought maybe I have to trap the rotation myself and force the
change.

I've seen examples which subscribe to a notification like this:

NSNotificationCenter.DefaultCenter.AddObserver(UIDevice.OrientationDidChangeNotification,
DeviceRotated);

I have an AddObserver in the ViewDidAppear and a RemoveObserver in the
ViewDidDisappear events. I do get the OrientationDidChangeNotification and
it calls DeviceRotated. In DeviceRotated I simply call
view.LayoutSubviews(). It seems to logically flow ok.

The problem is that when in LayoutSubviews, the Bounds frame is still the
original dimensions. It hasn't been updated to reflect the new orientation,
e.g. when move from Portrait to Landscape, the bounds is still
(0,0,320,460), so I can't update my layout correctly.

Am not sure if I am on the right track or not. Any ideas?

Jeff



--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Advanced-Rotation-Problem-tp3798177p3798177.html">http://monotouch.2284126.n4.nabble.com/Advanced-Rotation-Problem-tp3798177p3798177.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005056.html">[MonoTouch] Installed MD 2.6 but have lost my Key Bindings
</A></li>
	<LI>Next message: <A HREF="004948.html">[MonoTouch] Can we use the TestFlightApp SDK?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4945">[ date ]</a>
              <a href="thread.html#4945">[ thread ]</a>
              <a href="subject.html#4945">[ subject ]</a>
              <a href="author.html#4945">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
