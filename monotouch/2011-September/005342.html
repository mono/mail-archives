<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] NSNotificationCenter.DefaultCenter.AddObserver - iOS5	problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20NSNotificationCenter.DefaultCenter.AddObserver%20-%20iOS5%0A%09problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005353.html">
   <LINK REL="Next"  HREF="005343.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] NSNotificationCenter.DefaultCenter.AddObserver - iOS5	problem</H1>
    <B>Craig Dunn</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20NSNotificationCenter.DefaultCenter.AddObserver%20-%20iOS5%0A%09problem&In-Reply-To="
       TITLE="[MonoTouch] NSNotificationCenter.DefaultCenter.AddObserver - iOS5	problem">craig.dunn at conceptdevelopment.net
       </A><BR>
    <I>Mon Sep 26 19:10:16 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005353.html">[MonoTouch] New iMac\Lion, MonoTouch and me...
</A></li>
        <LI>Next message: <A HREF="005343.html">[MonoTouch] Send XML-File with MFMailComposeViewController as	attachment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5342">[ date ]</a>
              <a href="thread.html#5342">[ thread ]</a>
              <a href="subject.html#5342">[ subject ]</a>
              <a href="author.html#5342">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

I'm just throwing this out there to see if anyone has a similar experience.

We have an existing iOS4 app ~ it's been live for a year ~ that crashes on
startup in iOS5 b7

Debugging it shows that all our notificationcenter objects are null when we
try to remove them (whereas in iOS4 they are obviously fine). We are using
the [Obsolete]AddObserver(string,action) method to 'create' the observers
and they work fine in iOS4.

Example code:
NSObject ObserverDownloadableMagsUpdated;
public void ViewWillAppear()
{
ObserverDownloadableMagsUpdated = NSNotificationCenter.DefaultCenter
    .AddObserver(Constants.Notification_DownloadableMagsReceived
        , notification =&gt;
    { /* does stuff */ }


and

public void ViewWillDisappear()
{
NSNotificationCenter.DefaultCenter.RemoveObserver(
ObserverDownloadableMagsUpdated);

in iOS5, ObserverDownloadableMagsUpdated is null and the RemoveObserver call
causes a crash in ViewWillDisappear.


Thoughts?
cd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110927/17f319aa/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110927/17f319aa/attachment.html</A> 
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005353.html">[MonoTouch] New iMac\Lion, MonoTouch and me...
</A></li>
	<LI>Next message: <A HREF="005343.html">[MonoTouch] Send XML-File with MFMailComposeViewController as	attachment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5342">[ date ]</a>
              <a href="thread.html#5342">[ thread ]</a>
              <a href="subject.html#5342">[ subject ]</a>
              <a href="author.html#5342">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
