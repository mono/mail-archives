<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Sample crashes using latest Beta
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Sample%20crashes%20using%20latest%20Beta&In-Reply-To=9A6E9E55-367B-42E3-9AFD-C2AB8C6B0636%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000361.html">
   <LINK REL="Next"  HREF="000364.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Sample crashes using latest Beta</H1>
    <B>John Mandia</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Sample%20crashes%20using%20latest%20Beta&In-Reply-To=9A6E9E55-367B-42E3-9AFD-C2AB8C6B0636%40novell.com"
       TITLE="[MonoTouch] Sample crashes using latest Beta">john_mandia at yahoo.com
       </A><BR>
    <I>Thu Aug 20 02:12:20 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000361.html">[MonoTouch] autoreleased with no pool in place
</A></li>
        <LI>Next message: <A HREF="000364.html">[MonoTouch] Sample crashes using latest Beta
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#362">[ date ]</a>
              <a href="thread.html#362">[ thread ]</a>
              <a href="subject.html#362">[ subject ]</a>
              <a href="author.html#362">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

I loaded up the monocatalog sample to show a friend who uses objective-c to develop apps and it kept crashing.

I've added the output in case it helps recreate and identify the problem.

MonoCatalog: Row selected 0
Buttons: View Did Load - FIrst
The button has been touched
MonoCatalog: Row selected 1
MonoCatalog: Row selected 2
MonoCatalog: Row selected 3
Stacktrace:

  at (wrapper managed-to-native) MonoTouch.ObjCRuntime.Messaging.void_objc_msgSendSuper_intptr_intptr_float (intptr,intptr,intptr,intptr,single) &lt;0x00004&gt;
  at (wrapper managed-to-native) MonoTouch.ObjCRuntime.Messaging.void_objc_msgSendSuper_intptr_intptr_float (intptr,intptr,intptr,intptr,single) &lt;IL 0x00028, 0xffffffff&gt;
  at MonoTouch.Foundation.NSObject.PerformSelector (MonoTouch.ObjCRuntime.Selector,MonoTouch.Foundation.NSObject,single) &lt;IL 0x00065, 0x000c4&gt;
  at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_void__this___object_object_single (object,intptr,intptr,intptr) &lt;IL 0x0004f, 0xffffffff&gt;
  at (wrapper managed-to-native) MonoTouch.UIKit.UIApplication.UIApplicationMain (int,string[],intptr,intptr) &lt;0x00004&gt;
  at (wrapper managed-to-native) MonoTouch.UIKit.UIApplication.UIApplicationMain (int,string[],intptr,intptr) &lt;IL 0x0009f, 0xffffffff&gt;
  at MonoTouch.UIKit.UIApplication.Main (string[],string,string) &lt;IL 0x0003e, 0x00089&gt;
  at MonoTouch.Application.Main (string[]) &lt;IL 0x00003, 0x00014&gt;
  at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_void_object (object,intptr,intptr,intptr) &lt;IL 0x00044, 0xffffffff&gt;

Native stacktrace:

	0   monocatalog                         0x0009226a mono_handle_native_sigsegv + 266
	1   monocatalog                         0x0000624a mono_sigsegv_signal_handler + 298
	2   libSystem.B.dylib                   0x94e772bb _sigtramp + 43
	3   ???                                 0xffffffff 0x0 + 4294967295
	4   Foundation                          0x30540d6d NSIncrementExtraRefCount + 14333
	5   ???                                 0x03a876a9 0x0 + 61372073
	6   ???                                 0x03a8764d 0x0 + 61371981
	7   ???                                 0x03a87538 0x0 + 61371704
	8   monocatalog                         0x0000c4dd mono_jit_compile_method + 317
	9   monocatalog                         0x001f1857 monotouch_trampoline + 1493
	10  UIKit                               0x30ac1c31 UIImageWriteToSavedPhotosAlbum + 164651
	11  Foundation                          0x30509e5a NSZoneMalloc + 1674
	12  CoreFoundation                      0x302389e5 _CFXNotificationPostNotification + 453
	13  Foundation                          0x30507710 NSPopAutoreleasePool + 4944
	14  UIKit                               0x30a20402 UIKeyboardOrderInAutomatic + 5412
	15  UIKit                               0x30a1ead3 UIKeyboardAutomaticIsOffScreen + 271
	16  UIKit                               0x30a1edf2 UIKeyboardOrderOutAutomatic + 81
	17  UIKit                               0x30967c0d UIDrawNavBarBackground + 194951
	18  UIKit                               0x309712cb UIDrawNavBarBackground + 233541
	19  UIKit                               0x30960e31 UIDrawNavBarBackground + 166827
	20  UIKit                               0x3096f9a3 UIDrawNavBarBackground + 227101
	21  UIKit                               0x30962c7a UIDrawNavBarBackground + 174580
	22  UIKit                               0x3098e205 UIDrawNavBarBackground + 352127
	23  UIKit                               0x30962e42 UIDrawNavBarBackground + 175036
	24  UIKit                               0x30b358e6 UIKBDrawStringKey + 185989
	25  UIKit                               0x30b2c897 UIKBDrawStringKey + 149046
	26  UIKit                               0x3091158e _UIWindowVisible + 11170
	27  UIKit                               0x3090fc36 _UIWindowVisible + 4682
	28  UIKit                               0x308faecb UIApplicationInstantiateSingleton + 13394
	29  UIKit                               0x309013e1 _UIApplicationLinkedOnOrAfter + 5000
	30  GraphicsServices                    0x32046375 GSEventIsChordingHandEvent + 1637
	31  CoreFoundation                      0x30245560 CFRunLoopRunSpecific + 3888
	32  CoreFoundation                      0x30244628 CFRunLoopRunInMode + 88
	33  GraphicsServices                    0x32044c31 GSEventRunModal + 217
	34  GraphicsServices                    0x32044cf6 GSEventRun + 115
	35  UIKit                               0x309021ee UIApplicationMain + 1157
	36  ???                                 0x01294931 0x0 + 19482929
	37  ???                                 0x01294172 0x0 + 19480946
	38  ???                                 0x012940d5 0x0 + 19480789
	39  ???                                 0x0129406b 0x0 + 19480683
	40  monocatalog                         0x0000c4dd mono_jit_compile_method + 317
	41  monocatalog                         0x00158f8b mono_runtime_exec_main + 251
	42  monocatalog                         0x0015c0b5 mono_runtime_run_main + 405
	43  monocatalog                         0x001f3314 main + 431
	44  monocatalog                         0x00001d06 start + 54

Debug info from gdb:

warning: Trying to remove a section from the ordered section list that did not exist at 0x2d1000.
warning: Could not find object file &quot;/var/folders/pw/pwDsJX3WFpOblJgsoNythE+++TI/-Tmp-/tmp48e13614.tmp/main.o&quot; - no debug information available for &quot;/var/folders/pw/pwDsJX3WFpOblJgsoNythE+++TI/-Tmp-/tmp48e13614.tmp/main.m&quot;.

Symbol file /Users/john/Library/Application Support/iPhone Simulator/User/Applications/765E93B7-C28D-4D83-9103-8581B6598EBA/monocatalog.app/mscorlib.dll.mdb doesn't match image /Users/john/Library/Application Support/iPhone Simulator/User/Applications/765E93B7-C28D-4D83-9103-8581B6598EBA/monocatalog.app/mscorlib.dllSymbol file /Users/john/Library/Application Support/iPhone Simulator/User/Applications/765E93B7-C28D-4D83-9103-8581B6598EBA/monocatalog.app/monocatalog.exe.mdb doesn't match image /Users/john/Library/Application Support/iPhone Simulator/User/Applications/765E93B7-C28D-4D83-9103-8581B6598EBA/monocatalog.app/monocatalog.exeSymbol file /Users/john/Library/Application Support/iPhone Simulator/User/Applications/765E93B7-C28D-4D83-9103-8581B6598EBA/monocatalog.app/monotouch.dll.mdb doesn't match image /Users/john/Library/Application Support/iPhone Simulator/User/Applications/765E93B7-C28D-4D83-9103-8581B6598EBA/monocatalog.app/monotouch.dllAttaching
 to process 214.
Reading symbols for shared libraries . done
Reading symbols for shared libraries ....................................... done
0x94e2ef95 in read$UNIX2003 ()
  5 process 214 thread 0x2703  0x94e0b286 in mach_msg_trap ()
  4 process 214 thread 0x2603  0x94e0b2c2 in semaphore_wait_trap ()
  3 process 214 thread 0x2203  0x94e1246e in __semwait_signal ()
  2 process 214 thread 0x1103  0x94e0b286 in mach_msg_trap ()
* 1 process 214 thread 0x20b  0x94e2ef95 in read$UNIX2003 ()

Thread 5 (process 214 thread 0x2703):
#0  0x94e0b286 in mach_msg_trap ()
#1  0x94e12a7c in mach_msg ()
#2  0x30244d62 in CFRunLoopRunSpecific ()
#3  0x30244628 in CFRunLoopRunInMode ()
#4  0x3588ea13 in RunWebThread ()
#5  0x94e3c155 in _pthread_start ()
#6  0x94e3c012 in thread_start ()

Thread 4 (process 214 thread 0x2603):
#0  0x94e0b2c2 in semaphore_wait_trap ()
#1  0x000fd410 in finalizer_thread (unused=0x0) at ../../../../mono/metadata/gc.c:1014
#2  0x0018e366 in start_wrapper (data=0x1014970) at ../../../../mono/metadata/threads.c:657
#3  0x001c27d6 in thread_start_routine (args=0x156b434) at ../../../../mono/io-layer/wthreads.c:286
#4  0x001ecd7c in GC_start_routine (arg=0xe28f60) at ../../../libgc/pthread_support.c:1390
#5  0x94e3c155 in _pthread_start ()
#6  0x94e3c012 in thread_start ()

Thread 3 (process 214 thread 0x2203):
#0  0x94e1246e in __semwait_signal ()
#1  0x94e122ef in nanosleep$UNIX2003 ()
#2  0x001a4b40 in collection_thread (unused=0x0) at ../../../../mono/io-layer/collection.c:34
#3  0x94e3c155 in _pthread_start ()
#4  0x94e3c012 in thread_start ()

Thread 2 (process 214 thread 0x1103):
#0  0x94e0b286 in mach_msg_trap ()
#1  0x94e12a7c in mach_msg ()
#2  0x000c593a in mach_exception_thread (arg=0x0) at ../../../../mono/mini/mini-darwin.c:131
#3  0x001ecd7c in GC_start_routine (arg=0xe28f60) at ../../../libgc/pthread_support.c:1390
#4  0x94e3c155 in _pthread_start ()
#5  0x94e3c012 in thread_start ()

Thread 1 (process 214 thread 0x20b):
#0  0x94e2ef95 in read$UNIX2003 ()
#1  0x000923aa in mono_handle_native_sigsegv (signal=11, ctx=0xbfffd318) at ../../../../mono/mini/mini-exceptions.c:1560
#2  0x0000624a in mono_sigsegv_signal_handler (_dummy=11, info=0xbfffd2d8, context=0xbfffd318) at ../../../../mono/mini/mini.c:4570
#3  &lt;signal handler called&gt;
#4  0x940cc688 in objc_msgSend ()
#5  0x30540e47 in -[NSObject(NSDelayedPerforming) performSelector:withObject:afterDelay:inModes:] ()
#6  0x30540d6d in -[NSObject(NSDelayedPerforming) performSelector:withObject:afterDelay:] ()
#7  0x03a876a9 in ?? ()
#8  0x03a8764d in ?? ()
#9  0x03a87538 in ?? ()
#10 0x0000c4dd in mono_jit_runtime_invoke (method=0x189379c, obj=0x164eea0, params=0xbfffd5e0, exc=0x0) at ../../../../mono/mini/mini.c:4474
#11 0x001f1857 in monotouch_trampoline ()
#12 0x30ac1c31 in -[UITableViewControllerKeyboardSupport _keyboardWillHide:] ()
#13 0x30509e5a in _nsnote_callback ()
#14 0x302389e5 in _CFXNotificationPostNotification ()
#15 0x30507710 in -[NSNotificationCenter postNotificationName:object:userInfo:] ()
#16 0x30a20402 in -[UIKeyboard(UIKeyboardAutomaticAppearance) orderOutWithAnimation:toDirection:duration:] ()
#17 0x30a1ead3 in -[UIKeyboard(UIKeyboardAutomaticAppearance) orderOutWithAnimation:] ()
#18 0x30a1edf2 in UIKeyboardOrderOutAutomatic ()
#19 0x30967c0d in -[UITextField willDetachFieldEditor:] ()
#20 0x309712cb in -[UIFieldEditor becomeFieldEditorForView:] ()
#21 0x30960e31 in -[UITextField fieldEditorDidResignFirstResponder:] ()
#22 0x3096f9a3 in -[UIFieldEditor resignFirstResponder] ()
#23 0x30962c7a in -[UITextField resignFirstResponder] ()
#24 0x3098e205 in -[UIResponder becomeFirstResponder] ()
#25 0x30962e42 in -[UITextField becomeFirstResponder] ()
#26 0x30b358e6 in -[UITextInteractionAssistant oneFingerTap:] ()
#27 0x30b2c897 in -[UIGestureRecognizer _updateGestureWithEvent:] ()
#28 0x3091158e in -[UIWindow _sendGesturesForEvent:] ()
#29 0x3090fc36 in -[UIWindow sendEvent:] ()
#30 0x308faecb in -[UIApplication sendEvent:] ()
#31 0x309013e1 in _UIApplicationHandleEvent ()
#32 0x32046375 in PurpleEventCallback ()
#33 0x30245560 in CFRunLoopRunSpecific ()
#34 0x30244628 in CFRunLoopRunInMode ()
#35 0x32044c31 in GSEventRunModal ()
#36 0x32044cf6 in GSEventRun ()
#37 0x309021ee in UIApplicationMain ()
#38 0x01294931 in ?? ()
#39 0x01294172 in ?? ()
#40 0x012940d5 in ?? ()
#41 0x0129406b in ?? ()
#42 0x0000c4dd in mono_jit_runtime_invoke (method=0x18c7744, obj=0x0, params=0xbffff18c, exc=0x0) at ../../../../mono/mini/mini.c:4474
#43 0x00158f8b in mono_runtime_exec_main (method=0x18c7744, args=0x167e9c0, exc=0x0) at ../../../../mono/metadata/object.c:3453
#44 0x0015c0b5 in mono_runtime_run_main (method=0x18c7744, argc=0, argv=0xbffff238, exc=0x0) at ../../../../mono/metadata/object.c:3233
#45 0x001f3314 in main ()

=================================================================
Got a SIGSEGV while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================


Thanks,

John


      

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000361.html">[MonoTouch] autoreleased with no pool in place
</A></li>
	<LI>Next message: <A HREF="000364.html">[MonoTouch] Sample crashes using latest Beta
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#362">[ date ]</a>
              <a href="thread.html#362">[ thread ]</a>
              <a href="subject.html#362">[ subject ]</a>
              <a href="author.html#362">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
