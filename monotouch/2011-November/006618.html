<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Binary deserialization blocks indefinitely, sometimes.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Binary%20deserialization%20blocks%20indefinitely%2C%20sometimes.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006617.html">
   <LINK REL="Next"  HREF="006635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Binary deserialization blocks indefinitely, sometimes.</H1>
    <B>dermotos</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Binary%20deserialization%20blocks%20indefinitely%2C%20sometimes.&In-Reply-To="
       TITLE="[MonoTouch] Binary deserialization blocks indefinitely, sometimes.">me at dermotos.com
       </A><BR>
    <I>Fri Nov 11 22:31:55 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006617.html">[MonoTouch] OpenTK: I can't find GL.GenVertexArrays?
</A></li>
        <LI>Next message: <A HREF="006635.html">[MonoTouch] Binary deserialization blocks indefinitely,	sometimes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6618">[ date ]</a>
              <a href="thread.html#6618">[ thread ]</a>
              <a href="subject.html#6618">[ subject ]</a>
              <a href="author.html#6618">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a peice of code that loads some user settings on startup. This peice
of code randomly blocks when calling BinaryFormatter.Deserialize(stream). I
could run my app again and it wont happen, and then again and it will. It is
completely random as to whether it will freeze on that line or not. Code is
below. (Verbose console logging to determine exactly what was going wrong)

if(File.Exists(Constants.GuestDetailsLocation))
				{
					try
					{
						Console.WriteLine(&quot;Details exist. Opening file.&quot;);
						FileInfo file =  new FileInfo(Constants.GuestDetailsLocation);
						Stream fileStream = file.Open(FileMode.Open);
						Console.WriteLine(&quot;File Open.&quot;);
						BinaryFormatter binFormatter = new BinaryFormatter();
						if(fileStream.Length &gt; 0)
						{
							Console.WriteLine(&quot;File size greater than zero. Attempting
deserialization&quot;);
							result = (Guest)binFormatter.Deserialize(fileStream);
							Console.WriteLine(&quot;File Deserialized.&quot;);
							fileStream.Close();
							Console.WriteLine(&quot;File closed.&quot;);
						}
					}
					catch
					{
......




The line: result = (Guest)binFormatter.Deserialize(fileStream); never
returns, sometimes. Could this be a monotouch bug, or am I doing something
wrong?

--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Binary-deserialization-blocks-indefinitely-sometimes-tp4033546p4033546.html">http://monotouch.2284126.n4.nabble.com/Binary-deserialization-blocks-indefinitely-sometimes-tp4033546p4033546.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006617.html">[MonoTouch] OpenTK: I can't find GL.GenVertexArrays?
</A></li>
	<LI>Next message: <A HREF="006635.html">[MonoTouch] Binary deserialization blocks indefinitely,	sometimes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6618">[ date ]</a>
              <a href="thread.html#6618">[ thread ]</a>
              <a href="subject.html#6618">[ subject ]</a>
              <a href="author.html#6618">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
