<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Native library with Monotouch 5.0 (part 2)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Native%20library%20with%20Monotouch%205.0%20%28part%202%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006446.html">
   <LINK REL="Next"  HREF="006469.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Native library with Monotouch 5.0 (part 2)</H1>
    <B>Robert Sweitzer</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Native%20library%20with%20Monotouch%205.0%20%28part%202%29&In-Reply-To="
       TITLE="[MonoTouch] Native library with Monotouch 5.0 (part 2)">bswtzr at gmail.com
       </A><BR>
    <I>Fri Nov  4 23:52:07 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006446.html">[MonoTouch] Anonymous methods clarification...
</A></li>
        <LI>Next message: <A HREF="006469.html">[MonoTouch] Native library with Monotouch 5.0 (part 2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6468">[ date ]</a>
              <a href="thread.html#6468">[ thread ]</a>
              <a href="subject.html#6468">[ subject ]</a>
              <a href="author.html#6468">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My native library seems to be breaking the non-LLVM armv6 build&#8230;.LLVM armv7
works fine. However we MUST be able to debug code on the device. I compiled
my (fat) library with LLVM GCC 4.2 and Apple LLVM compiler 3.0. In both
cases running the non-LLVM-nibless armv6 App on my iPad2 throws a
NullReferenceException with DialogViewController..ctor at the top-of-stack: 

mMyViewController = new MyViewController();

MyViewController is defined as follows:

public class MyViewController : MonoTouch.Dialog.DialogViewController
{
	public MyViewController () : base(null /* no&#8230;it's not this */)  
	{
		// ...
	}
}

Note that NONE of my native code has been called at that point in the
App...except c++ statics. In addition the App runs fine if I remove all the
P/Invoke calls to my native library. The native library runs fine when
called from a native (XCode) App. Are there any known issues with the
armv6&#8230;I'm doing a debug iOS5 build with no optimizations ?

xcode 4.2 4C199
mtouch 5.0.1.1319647906
Additional mtouch arguments:
-cxx -gcc_flags &quot;-ObjC -deadstrip
-L${ProjectDir}/../../MobileSynchronizer_XCode/User/build/Debug-iphonesimulator
-L${ProjectDir}/../../Tools/Arch/lib/Universal
-L${ProjectDir}/../../Tools/openssl-1.0.0b/build/Debug-iphonesimulator
-L${ProjectDir}/../../Tools/Sqlite-3.7.6.1/build/Debug-iphonesimulator
-framework SystemConfiguration -larc -lcrypto -licucore -lUser -lsqlite
-lssl -lxml2.2.7.3 -force_load
${ProjectDir}/../../Tools/openssl-1.0.0b/build/Debug-iphonesimulator/libcrypto.a
${ProjectDir}/../../Tools/openssl-1.0.0b/build/Debug-iphonesimulator/libssl.a
${ProjectDir}/../../Tools/Sqlite-3.7.6.1/build/Debug-iphonesimulator/libsqlite.a&quot;



--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Native-library-with-Monotouch-5-0-part-2-tp3992408p3992408.html">http://monotouch.2284126.n4.nabble.com/Native-library-with-Monotouch-5-0-part-2-tp3992408p3992408.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006446.html">[MonoTouch] Anonymous methods clarification...
</A></li>
	<LI>Next message: <A HREF="006469.html">[MonoTouch] Native library with Monotouch 5.0 (part 2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6468">[ date ]</a>
              <a href="thread.html#6468">[ thread ]</a>
              <a href="subject.html#6468">[ subject ]</a>
              <a href="author.html#6468">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
