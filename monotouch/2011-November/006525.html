<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Strange%20crash%20on%20device%20but%20not%20on%20the%20simulator%3A%0A%20MONO_PATCH_INFO_JIT_ICALL_ADDR%20mono_marshal_safearray_create&In-Reply-To=CAOqcadYJ1LtE6Ai%2B_HHOaBCGSoL5Mc%2Bu0FoSj%2BLntmc3T5_%3D4A%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006523.html">
   <LINK REL="Next"  HREF="006527.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Strange%20crash%20on%20device%20but%20not%20on%20the%20simulator%3A%0A%20MONO_PATCH_INFO_JIT_ICALL_ADDR%20mono_marshal_safearray_create&In-Reply-To=CAOqcadYJ1LtE6Ai%2B_HHOaBCGSoL5Mc%2Bu0FoSj%2BLntmc3T5_%3D4A%40mail.gmail.com"
       TITLE="[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create">kumpera at xamarin.com
       </A><BR>
    <I>Tue Nov  8 16:00:32 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006523.html">[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
</A></li>
        <LI>Next message: <A HREF="006527.html">[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6525">[ date ]</a>
              <a href="thread.html#6525">[ thread ]</a>
              <a href="subject.html#6525">[ subject ]</a>
              <a href="author.html#6525">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Sorry for the bug, but do you mind filling a bug with a test case that
shows the problem?

It might be an issue with MonoTouch AOT compiler.

Thanks,
Rodrigo Kumpera

On Tue, Nov 8, 2011 at 4:28 PM, fmuaddib &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">fmuaddib at gmail.com</A>&gt; wrote:

&gt;<i> In MonoTouch I get this strange error when compiling for the device
</I>&gt;<i> (on the simulator it works fine, only when compiled for iPhone it
</I>&gt;<i> crashes):
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Loaded assembly:
</I>&gt;<i>
</I>&gt;<i> /private/var/mobile/Applications/FC6B7E68-E408-42A9-92A6-BC5AC73B3EEC/MyApp4.app/Mono.Security.dll
</I>&gt;<i> [External]
</I>&gt;<i> Loaded assembly:
</I>&gt;<i>
</I>&gt;<i> /private/var/mobile/Applications/FC6B7E68-E408-42A9-92A6-BC5AC73B3EEC/MyApp4.app/System.dll
</I>&gt;<i> [External]
</I>&gt;<i> Loaded assembly:
</I>&gt;<i>
</I>&gt;<i> /private/var/mobile/Applications/FC6B7E68-E408-42A9-92A6-BC5AC73B3EEC/MyApp4.app/monotouch.dll
</I>&gt;<i> [External]
</I>&gt;<i> unknown MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
</I>&gt;<i> * Assertion: should not be reached at
</I>&gt;<i> ../../../../../mono/mono/mini/mini.c:3179
</I>&gt;<i>
</I>&gt;<i> Stacktrace:
</I>&gt;<i>
</I>&gt;<i>  at (wrapper managed-to-native)
</I>&gt;<i> object.__icall_wrapper_mono_object_new_fast (intptr) &lt;0xffffffff&gt;
</I>&gt;<i>
</I>&gt;<i> Native stacktrace:
</I>&gt;<i>
</I>&gt;<i>        0   MyApp4                     0x00628b38
</I>&gt;<i> mono_handle_native_sigsegv + 456
</I>&gt;<i>        1   MyApp4                     0x006561e4 sigabrt_signal_handler +
</I>&gt;<i> 168
</I>&gt;<i>        2   libsystem_c.dylib                   0x337ed539 _sigtramp + 48
</I>&gt;<i>        3   libsystem_c.dylib                   0x337e2f5b pthread_kill + 54
</I>&gt;<i>        4   libsystem_c.dylib                   0x337dbfeb abort + 94
</I>&gt;<i>        5   MyApp4                     0x007a6310 monoeg_g_logv + 268
</I>&gt;<i>        6   MyApp4                     0x007a63e4 monoeg_assertion_message
</I>&gt;<i> + 80
</I>&gt;<i>        7   MyApp4                     0x005fdea0 mono_resolve_patch_target
</I>&gt;<i> + 2736
</I>&gt;<i>        8   MyApp4                     0x0061cd7c mono_aot_plt_resolve + 432
</I>&gt;<i>        9   MyApp4                     0x0062b460 mono_aot_plt_trampoline +
</I>&gt;<i> 88
</I>&gt;<i>        10  MyApp4                     0x003948c0
</I>&gt;<i> generic_trampoline_aot_plt + 136
</I>&gt;<i>        11  MyApp4                     0x00357370
</I>&gt;<i>
</I>&gt;<i> wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr
</I>&gt;<i> + 200
</I>&gt;<i>        12  MyApp4                     0x006013a8 mono_jit_runtime_invoke +
</I>&gt;<i> 2892
</I>&gt;<i>        13  MyApp4                     0x00714dd8 mono_runtime_invoke + 200
</I>&gt;<i>        14  MyApp4                     0x0070d6cc
</I>&gt;<i> mono_runtime_class_init_full + 2060
</I>&gt;<i>        15  MyApp4                     0x0070ceb0 mono_runtime_class_init +
</I>&gt;<i> 28
</I>&gt;<i>        16  MyApp4                     0x005fed78
</I>&gt;<i> mono_jit_compile_method_inner + 224
</I>&gt;<i>        17  MyApp4                     0x005fffa4
</I>&gt;<i> mono_jit_compile_method_with_opt + 660
</I>&gt;<i>        18  MyApp4                     0x00600bcc mono_jit_runtime_invoke +
</I>&gt;<i> 880
</I>&gt;<i>        19  MyApp4                     0x00714dd8 mono_runtime_invoke + 200
</I>&gt;<i>        20  MyApp4                     0x007cc154 monotouch_init + 640
</I>&gt;<i>        21  MyApp4                     0x005f71d8 main + 3704
</I>&gt;<i>        22  MyApp4                     0x00070b58 start + 52
</I>&gt;<i>
</I>&gt;<i> =================================================================
</I>&gt;<i> Got a SIGABRT while executing native code. This usually indicates
</I>&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;<i> used by your application.
</I>&gt;<i> =================================================================
</I>&gt;<i>
</I>&gt;<i> I've no clue, the crash seems to happen before any code is called. I'm
</I>&gt;<i> using two binding libraries (TestFlight and CorePlot) in my project,
</I>&gt;<i> so maybe this is something related to the bug many people here in this
</I>&gt;<i> list are experiencing with the ARM6 architecture.
</I>&gt;<i>
</I>&gt;<i> Thanks in advance!
</I>&gt;<i> Emanuele Sabetta
</I>&gt;<i> www.ipaziasoftware.com
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20111108/fa452cf8/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20111108/fa452cf8/attachment.html</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006523.html">[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
</A></li>
	<LI>Next message: <A HREF="006527.html">[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6525">[ date ]</a>
              <a href="thread.html#6525">[ thread ]</a>
              <a href="subject.html#6525">[ subject ]</a>
              <a href="author.html#6525">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
