<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Strange%20crash%20on%20device%20but%20not%20on%20the%20simulator%3A%0A%20MONO_PATCH_INFO_JIT_ICALL_ADDR%20mono_marshal_safearray_create&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006829.html">
   <LINK REL="Next"  HREF="006525.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create</H1>
    <B>fmuaddib</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Strange%20crash%20on%20device%20but%20not%20on%20the%20simulator%3A%0A%20MONO_PATCH_INFO_JIT_ICALL_ADDR%20mono_marshal_safearray_create&In-Reply-To="
       TITLE="[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create">fmuaddib at gmail.com
       </A><BR>
    <I>Tue Nov  8 13:28:38 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006829.html">[MonoTouch] Problem with AudioPlayer on 5.x
</A></li>
        <LI>Next message: <A HREF="006525.html">[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6523">[ date ]</a>
              <a href="thread.html#6523">[ thread ]</a>
              <a href="subject.html#6523">[ subject ]</a>
              <a href="author.html#6523">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In MonoTouch I get this strange error when compiling for the device
(on the simulator it works fine, only when compiled for iPhone it
crashes):


Loaded assembly:
/private/var/mobile/Applications/FC6B7E68-E408-42A9-92A6-BC5AC73B3EEC/MyApp4.app/Mono.Security.dll
[External]
Loaded assembly:
/private/var/mobile/Applications/FC6B7E68-E408-42A9-92A6-BC5AC73B3EEC/MyApp4.app/System.dll
[External]
Loaded assembly:
/private/var/mobile/Applications/FC6B7E68-E408-42A9-92A6-BC5AC73B3EEC/MyApp4.app/monotouch.dll
[External]
unknown MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
* Assertion: should not be reached at ../../../../../mono/mono/mini/mini.c:3179

Stacktrace:

  at (wrapper managed-to-native)
object.__icall_wrapper_mono_object_new_fast (intptr) &lt;0xffffffff&gt;

Native stacktrace:

	0   MyApp4                     0x00628b38 mono_handle_native_sigsegv + 456
	1   MyApp4                     0x006561e4 sigabrt_signal_handler + 168
	2   libsystem_c.dylib                   0x337ed539 _sigtramp + 48
	3   libsystem_c.dylib                   0x337e2f5b pthread_kill + 54
	4   libsystem_c.dylib                   0x337dbfeb abort + 94
	5   MyApp4                     0x007a6310 monoeg_g_logv + 268
	6   MyApp4                     0x007a63e4 monoeg_assertion_message + 80
	7   MyApp4                     0x005fdea0 mono_resolve_patch_target + 2736
	8   MyApp4                     0x0061cd7c mono_aot_plt_resolve + 432
	9   MyApp4                     0x0062b460 mono_aot_plt_trampoline + 88
	10  MyApp4                     0x003948c0 generic_trampoline_aot_plt + 136
	11  MyApp4                     0x00357370
wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr
+ 200
	12  MyApp4                     0x006013a8 mono_jit_runtime_invoke + 2892
	13  MyApp4                     0x00714dd8 mono_runtime_invoke + 200
	14  MyApp4                     0x0070d6cc mono_runtime_class_init_full + 2060
	15  MyApp4                     0x0070ceb0 mono_runtime_class_init + 28
	16  MyApp4                     0x005fed78 mono_jit_compile_method_inner + 224
	17  MyApp4                     0x005fffa4
mono_jit_compile_method_with_opt + 660
	18  MyApp4                     0x00600bcc mono_jit_runtime_invoke + 880
	19  MyApp4                     0x00714dd8 mono_runtime_invoke + 200
	20  MyApp4                     0x007cc154 monotouch_init + 640
	21  MyApp4                     0x005f71d8 main + 3704
	22  MyApp4                     0x00070b58 start + 52

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries
used by your application.
=================================================================

I've no clue, the crash seems to happen before any code is called. I'm
using two binding libraries (TestFlight and CorePlot) in my project,
so maybe this is something related to the bug many people here in this
list are experiencing with the ARM6 architecture.

Thanks in advance!
Emanuele Sabetta
www.ipaziasoftware.com
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006829.html">[MonoTouch] Problem with AudioPlayer on 5.x
</A></li>
	<LI>Next message: <A HREF="006525.html">[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6523">[ date ]</a>
              <a href="thread.html#6523">[ thread ]</a>
              <a href="subject.html#6523">[ subject ]</a>
              <a href="author.html#6523">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
