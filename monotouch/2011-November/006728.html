<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Upgraded App Fails to open on iPhone
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Upgraded%20App%20Fails%20to%20open%20on%20iPhone&In-Reply-To=CANfFwGQZe_r1wDneXQEBi6f4881mGoG3cVniLbCghV4HmR8B3g%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006722.html">
   <LINK REL="Next"  HREF="006721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Upgraded App Fails to open on iPhone</H1>
    <B>Rolf Bjarne Kvinge</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Upgraded%20App%20Fails%20to%20open%20on%20iPhone&In-Reply-To=CANfFwGQZe_r1wDneXQEBi6f4881mGoG3cVniLbCghV4HmR8B3g%40mail.gmail.com"
       TITLE="[MonoTouch] Upgraded App Fails to open on iPhone">rolf at xamarin.com
       </A><BR>
    <I>Mon Nov 21 07:46:32 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006722.html">[MonoTouch] Upgraded App Fails to open on iPhone
</A></li>
        <LI>Next message: <A HREF="006721.html">[MonoTouch] Objective-C method binding that takes Class param
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6728">[ date ]</a>
              <a href="thread.html#6728">[ thread ]</a>
              <a href="subject.html#6728">[ subject ]</a>
              <a href="author.html#6728">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

This looks like a bug already reported:
<A HREF="http://bugzilla.xamarin.com/show_bug.cgi?id=2065">http://bugzilla.xamarin.com/show_bug.cgi?id=2065</A>

And our guess is that it's a MonoTouch bug when we upload/install from
MonoDevelop to the device (something isn't updated properly the first
upload so it has to be uploaded again).

This also means that it should be safe to publish to the app store.

Rolf

On Mon, Nov 21, 2011 at 11:07 AM, Nic Wise &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">nicw at fastchicken.co.nz</A>&gt; wrote:
&gt;<i> I've had this happen in development, but never in production (ie, off
</I>&gt;<i> the appstore). Maybe try it via testflight to see if you can reproduce
</I>&gt;<i> it. Thats about as close to the appstore as you can get without being
</I>&gt;<i> ON the appstore.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sun, Nov 20, 2011 at 19:33, fletcham &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">fletcham at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hi Everyone,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have rewritten an app I sell on the app store using MonoTouch and
</I>&gt;&gt;<i> everything has gone well up until the point where I wanted to verify that
</I>&gt;&gt;<i> all of settings can be read correctly with NSUserDefaults in the MonoTouch
</I>&gt;&gt;<i> version since they were originally saved from the xcode/objective-c version.
</I>&gt;&gt;<i> When I deploy my app over the original app and open it, it quickly closes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> To replicate the problem I first go to the app store and download my app,
</I>&gt;&gt;<i> open it up, and close it. &#160;I then use MonoDevelop to deploy the rewritten
</I>&gt;&gt;<i> app in release mode to my iPhone. &#160;It deploys okay, but when I start the app
</I>&gt;&gt;<i> on the iPhone it quickly closes. &#160;The console log shows:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Nov 20 14:00:17 unknown com.apple.launchd[1] &lt;Error&gt;:
</I>&gt;&gt;<i> (UIKitApplication:YY3LN6Z8T6.Euchre[0x7acd])
</I>&gt;&gt;<i> posix_spawn(&quot;/var/mobile/Applications/E499510B-2A26-4024-800E-7CB391C9FA33/Euchre!.app/EuchreUI_iPhone&quot;,
</I>&gt;&gt;<i> ...): Permission denied
</I>&gt;&gt;<i> Nov 20 14:00:17 unknown SpringBoard[15] &lt;Warning&gt;: Unable to obtain a task
</I>&gt;&gt;<i> name port right for pid 2094: (os/kern) failure
</I>&gt;&gt;<i> Nov 20 14:00:17 unknown com.apple.launchd[1] &lt;Warning&gt;:
</I>&gt;&gt;<i> (UIKitApplication:YY3LN6Z8T6.Euchre[0x7acd]) Exited with code: 1
</I>&gt;&gt;<i> Nov 20 14:00:17 unknown SpringBoard[15] &lt;Warning&gt;: Unable to send activation
</I>&gt;&gt;<i> event to &lt;SBApplication: 0xf5b90d0&gt; YY3LN6Z8T6.Euchre animate
</I>&gt;&gt;<i> statusBarOrientation = 1 &#160;activate: animationStart = 0 &#160;deactivate: :
</I>&gt;&gt;<i> (ipc/send) invalid destination port
</I>&gt;&gt;<i> Nov 20 14:00:17 unknown SpringBoard[15] &lt;Warning&gt;: Application 'Euchre!'
</I>&gt;&gt;<i> exited abnormally with exit status 1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If I redeploy the app again it will open correctly. &#160;I can't expect the
</I>&gt;&gt;<i> people who have downloaded this app to uninstall it and then install it
</I>&gt;&gt;<i> again from the app store to allow it to work correctly. &#160;From everything I
</I>&gt;&gt;<i> have read online it sounds like the executable file name needs to be the
</I>&gt;&gt;<i> same on the original app as the app that is being upgraded. &#160;So I verify
</I>&gt;&gt;<i> what the product name is in the Xcode version and it is &quot;Euchre!&quot; note the
</I>&gt;&gt;<i> exclamation point on the end of it. &#160;When I go into the project options in
</I>&gt;&gt;<i> MonoDevelop and change the Assembly name under Output to also say &quot;Euchre!&quot;
</I>&gt;&gt;<i> and go to build it, the build fails because of the &quot;!&quot; in the assembly name.
</I>&gt;&gt;<i> A partial view of the build log where it fails:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/gcc -gdwarf-2
</I>&gt;&gt;<i> -miphoneos-version-min=3.0 -arch armv6 &#160;-std=c99
</I>&gt;&gt;<i> -I/Developer/MonoTouch/SDKs/MonoTouch.iphoneos.sdk/usr/include -isysroot
</I>&gt;&gt;<i> /Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS5.0.sdk -c
</I>&gt;&gt;<i> /var/folders/qk/7gbybwp52wx5bhng8sfvbr580000gn/T/tmp66a900d9.tmp/main.m -o
</I>&gt;&gt;<i> /var/folders/qk/7gbybwp52wx5bhng8sfvbr580000gn/T/tmp66a900d9.tmp/main.6.o
</I>&gt;&gt;<i> /var/folders/qk/7gbybwp52wx5bhng8sfvbr580000gn/T/tmp66a900d9.tmp/main.m:1743:
</I>&gt;&gt;<i> error: expected '=', ',', ';', 'asm' or '__attribute__' before '!' token
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As another test I copied the &quot;.app&quot; file that it sitting in the release
</I>&gt;&gt;<i> folder into iTunes to see what would happen and it prompted me that there is
</I>&gt;&gt;<i> already a version of it in there and asked if I would like to replace it.
</I>&gt;&gt;<i> Though the file names are different iTunes did recognize it was the same app
</I>&gt;&gt;<i> (i'm guessing this is from the bundle identifier). &#160;When I click yes and
</I>&gt;&gt;<i> then sync my phone it does copy the app over and the app opens just fine
</I>&gt;&gt;<i> with all of the settings still in place like I would expect.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So I guess my question is.. does it seem safe to upload this to the app
</I>&gt;&gt;<i> store? I'm nervous that once the update goes out and someone downloads it
</I>&gt;&gt;<i> the app won't open for them like I have experienced.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> To anyone that has any insight or suggestions I would greatly appreciate
</I>&gt;&gt;<i> them.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thank you,
</I>&gt;&gt;<i> Adam
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Upgraded-App-Fails-to-open-on-iPhone-tp4089306p4089306.html">http://monotouch.2284126.n4.nabble.com/Upgraded-App-Fails-to-open-on-iPhone-tp4089306p4089306.html</A>
</I>&gt;&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> MonoTouch mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Nic Wise
</I>&gt;<i> t.&#160; +44 7788 592 806 |&#160;@fastchicken | <A HREF="http://www.linkedin.com/in/nicwise">http://www.linkedin.com/in/nicwise</A>
</I>&gt;<i> b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A>
</I>&gt;<i>
</I>&gt;<i> Nearest Bus: find when the next bus is coming to your stop. <A HREF="http://goo.gl/Vcz1p">http://goo.gl/Vcz1p</A>
</I>&gt;<i> mobileAgent (for FreeAgent): get your accounts in your pocket.
</I>&gt;<i> <A HREF="http://goo.gl/IuBU">http://goo.gl/IuBU</A>
</I>&gt;<i> Trip Wallet: Keep track of your budget on the go: <A HREF="http://goo.gl/ePhKa">http://goo.gl/ePhKa</A>
</I>&gt;<i> London Bike App: Find the nearest Boris Bike, and get riding! <A HREF="http://goo.gl/Icp2">http://goo.gl/Icp2</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I></PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006722.html">[MonoTouch] Upgraded App Fails to open on iPhone
</A></li>
	<LI>Next message: <A HREF="006721.html">[MonoTouch] Objective-C method binding that takes Class param
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6728">[ date ]</a>
              <a href="thread.html#6728">[ thread ]</a>
              <a href="subject.html#6728">[ subject ]</a>
              <a href="author.html#6728">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
