<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] &quot;Unable to Download Error&quot; using TestFlight
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20%22Unable%20to%20Download%20Error%22%20using%20TestFlight&In-Reply-To=1320247202273-3975314.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006333.html">
   <LINK REL="Next"  HREF="006338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] &quot;Unable to Download Error&quot; using TestFlight</H1>
    <B>efontana</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20%22Unable%20to%20Download%20Error%22%20using%20TestFlight&In-Reply-To=1320247202273-3975314.post%40n4.nabble.com"
       TITLE="[MonoTouch] &quot;Unable to Download Error&quot; using TestFlight">eric at fontanas.net
       </A><BR>
    <I>Wed Nov  2 12:34:01 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006333.html">[MonoTouch] &quot;Unable to Download Error&quot; using TestFlight
</A></li>
        <LI>Next message: <A HREF="006338.html">[MonoTouch] &quot;Unable to Download Error&quot; using TestFlight
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6336">[ date ]</a>
              <a href="thread.html#6336">[ thread ]</a>
              <a href="subject.html#6336">[ subject ]</a>
              <a href="author.html#6336">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, Here was the response from the TestFlight people, the next question:
How do you make this change
from MonoDevelop?


This appears to be an issue with how Apple creates provisioning profiles
enabled with iCloud. Recently Apple enabled iCloud on all App IDs in the
portal. When you create a development profile the iCloud entitlements are
properly included. However, any distribution profile (eg. Ad Hoc) does not
include these entitlements for some reason.

When you specify Entitlements in the Summary tab in Xcode, these
entitlements are compiled into the binary. When you archive your application
using an Ad Hoc Distribution profile, the entitlements are not included in
the embedded.mobileprovision file. When iOS tries to install the app it
compares the entitlements in the binary with the ones in the
embedded.mobileprovision. Because the iCloud entitlements exist in the
binary but not in the .mobileprovision the app fails to install.

If you archive and share the application using the development profile that
correctly includes the iCloud entitlements the app can be installed as the
entitlements exist in both the binary and the embedded.mobileprovision file.

This appears to be a bug on Apples end. The current workaround, as far as we
have worked out, is to:

1) If you do not require iCloud or keychain entitlements, do not enable
entitlements on the Summary tab in Xcode and code sign your ad hoc with the
Distribution profile


2) If you do require iCloud or keychain entitlements, make sure you have
setup your entitlements on the Summary tab in Xcode and code sign your ad
hoc with the Development profile

There are a couple threads on the dev forums discussing this issue:

<A HREF="https://devforums.apple.com/message/517660#517660">https://devforums.apple.com/message/517660#517660</A>

<A HREF="https://devforums.apple.com/message/509618#509618">https://devforums.apple.com/message/509618#509618</A>

Please let us know if you have any further issues. We will continue to
monitor this and hope that Apple fixes this shortly.



--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Unable-to-Download-Error-using-TestFlight-tp3975314p3977265.html">http://monotouch.2284126.n4.nabble.com/Unable-to-Download-Error-using-TestFlight-tp3975314p3977265.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006333.html">[MonoTouch] &quot;Unable to Download Error&quot; using TestFlight
</A></li>
	<LI>Next message: <A HREF="006338.html">[MonoTouch] &quot;Unable to Download Error&quot; using TestFlight
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6336">[ date ]</a>
              <a href="thread.html#6336">[ thread ]</a>
              <a href="subject.html#6336">[ subject ]</a>
              <a href="author.html#6336">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
