<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] BeforeCodeSign Project Operation phase for custom	commands
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20BeforeCodeSign%20Project%20Operation%20phase%20for%20custom%0A%09commands&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006485.html">
   <LINK REL="Next"  HREF="006388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] BeforeCodeSign Project Operation phase for custom	commands</H1>
    <B>Guido Van Hoecke</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20BeforeCodeSign%20Project%20Operation%20phase%20for%20custom%0A%09commands&In-Reply-To="
       TITLE="[MonoTouch] BeforeCodeSign Project Operation phase for custom	commands">guivho at gmail.com
       </A><BR>
    <I>Fri Nov  4 04:48:32 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006485.html">[MonoTouch] Crashing problem: Ran out of trampolines of type 2
</A></li>
        <LI>Next message: <A HREF="006388.html">[MonoTouch] BeforeCodeSign Project Operation phase for custom commands
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6385">[ date ]</a>
              <a href="thread.html#6385">[ thread ]</a>
              <a href="subject.html#6385">[ subject ]</a>
              <a href="author.html#6385">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Xcode, I have a build script that manipulates the content of the app's
Info.plist. Basically it leaves the official version number (e.g. 1.2) as value
of the CFBundleShortVersionString key as generated by Xcode, and it sets the
value of the CFBundleVersion key to the current svn revision number.

This script is run after the 'xxx.app' dir has been created and after all
bundle resources have been copied to it.  The script runs before the actual
compilation, linkage and signing phases.

Our MT custom commands do not provide a similar 'Project Operation' phase. The
'BeforeBuild' and 'Build' commands are executed before the 'xxx.app' dir exist.
The 'AfterBuild' command runs after the codesign phase.

So none of these commands can manipulate the plist. Either it doesn't exist
yet, or it's too late while it's after the code sign phase.

I assume that it would be a minor effort to add a 'BeforeCodeSign' project
phase, or at least a phase where the 'xxx.app' dir and 'xxx.app/Info.plist'
file have been created but have not yet been signed. There's no reason why
MonoTouch (MonoDevelop) would not provide the same functionality as Xcode for
external/custom commands.

I welcome the community's opinion about this suggestion.

Guido
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006485.html">[MonoTouch] Crashing problem: Ran out of trampolines of type 2
</A></li>
	<LI>Next message: <A HREF="006388.html">[MonoTouch] BeforeCodeSign Project Operation phase for custom commands
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6385">[ date ]</a>
              <a href="thread.html#6385">[ thread ]</a>
              <a href="subject.html#6385">[ subject ]</a>
              <a href="author.html#6385">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
