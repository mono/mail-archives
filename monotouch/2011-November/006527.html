<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Strange%20crash%20on%20device%20but%20not%20on%20the%20simulator%3A%0A%20MONO_PATCH_INFO_JIT_ICALL_ADDR%20mono_marshal_safearray_create&In-Reply-To=CAF%2BQqDowzHm22y7TkjoHdq%3DTXr%3D7EiO2%2BS%2BdGEgB4-yGSmdV-g%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006525.html">
   <LINK REL="Next"  HREF="006524.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create</H1>
    <B>fmuaddib</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Strange%20crash%20on%20device%20but%20not%20on%20the%20simulator%3A%0A%20MONO_PATCH_INFO_JIT_ICALL_ADDR%20mono_marshal_safearray_create&In-Reply-To=CAF%2BQqDowzHm22y7TkjoHdq%3DTXr%3D7EiO2%2BS%2BdGEgB4-yGSmdV-g%40mail.gmail.com"
       TITLE="[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create">fmuaddib at gmail.com
       </A><BR>
    <I>Tue Nov  8 16:17:13 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006525.html">[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
</A></li>
        <LI>Next message: <A HREF="006524.html">[MonoTouch] MT.Dialog - applying [Skip] at runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6527">[ date ]</a>
              <a href="thread.html#6527">[ thread ]</a>
              <a href="subject.html#6527">[ subject ]</a>
              <a href="author.html#6527">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you, I'll try to create a small project that replicates the problem then.
I'll keep you posted.

Regards,
Emanuele Sabetta
www.ipaziasoftware.com

2011/11/8 Rodrigo Kumpera &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">kumpera at xamarin.com</A>&gt;:
&gt;<i> Hi,
</I>&gt;<i> Sorry for the bug, but do you mind filling a bug with a test case that shows
</I>&gt;<i> the problem?
</I>&gt;<i> It might be an issue with MonoTouch AOT compiler.
</I>&gt;<i> Thanks,
</I>&gt;<i> Rodrigo Kumpera
</I>&gt;<i> On Tue, Nov 8, 2011 at 4:28 PM, fmuaddib &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">fmuaddib at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In MonoTouch I get this strange error when compiling for the device
</I>&gt;&gt;<i> (on the simulator it works fine, only when compiled for iPhone it
</I>&gt;&gt;<i> crashes):
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Loaded assembly:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /private/var/mobile/Applications/FC6B7E68-E408-42A9-92A6-BC5AC73B3EEC/MyApp4.app/Mono.Security.dll
</I>&gt;&gt;<i> [External]
</I>&gt;&gt;<i> Loaded assembly:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /private/var/mobile/Applications/FC6B7E68-E408-42A9-92A6-BC5AC73B3EEC/MyApp4.app/System.dll
</I>&gt;&gt;<i> [External]
</I>&gt;&gt;<i> Loaded assembly:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /private/var/mobile/Applications/FC6B7E68-E408-42A9-92A6-BC5AC73B3EEC/MyApp4.app/monotouch.dll
</I>&gt;&gt;<i> [External]
</I>&gt;&gt;<i> unknown MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
</I>&gt;&gt;<i> * Assertion: should not be reached at
</I>&gt;&gt;<i> ../../../../../mono/mono/mini/mini.c:3179
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Stacktrace:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;at (wrapper managed-to-native)
</I>&gt;&gt;<i> object.__icall_wrapper_mono_object_new_fast (intptr) &lt;0xffffffff&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Native stacktrace:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;0 &#160; MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x00628b38
</I>&gt;&gt;<i> mono_handle_native_sigsegv + 456
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;1 &#160; MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x006561e4 sigabrt_signal_handler +
</I>&gt;&gt;<i> 168
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;2 &#160; libsystem_c.dylib &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x337ed539 _sigtramp + 48
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;3 &#160; libsystem_c.dylib &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x337e2f5b pthread_kill +
</I>&gt;&gt;<i> 54
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;4 &#160; libsystem_c.dylib &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x337dbfeb abort + 94
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;5 &#160; MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x007a6310 monoeg_g_logv + 268
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;6 &#160; MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x007a63e4 monoeg_assertion_message
</I>&gt;&gt;<i> + 80
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;7 &#160; MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x005fdea0 mono_resolve_patch_target
</I>&gt;&gt;<i> + 2736
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;8 &#160; MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x0061cd7c mono_aot_plt_resolve +
</I>&gt;&gt;<i> 432
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;9 &#160; MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x0062b460 mono_aot_plt_trampoline +
</I>&gt;&gt;<i> 88
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;10 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x003948c0
</I>&gt;&gt;<i> generic_trampoline_aot_plt + 136
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;11 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x00357370
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr
</I>&gt;&gt;<i> + 200
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;12 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x006013a8 mono_jit_runtime_invoke +
</I>&gt;&gt;<i> 2892
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;13 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x00714dd8 mono_runtime_invoke + 200
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;14 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x0070d6cc
</I>&gt;&gt;<i> mono_runtime_class_init_full + 2060
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;15 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x0070ceb0 mono_runtime_class_init +
</I>&gt;&gt;<i> 28
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;16 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x005fed78
</I>&gt;&gt;<i> mono_jit_compile_method_inner + 224
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;17 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x005fffa4
</I>&gt;&gt;<i> mono_jit_compile_method_with_opt + 660
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;18 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x00600bcc mono_jit_runtime_invoke +
</I>&gt;&gt;<i> 880
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;19 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x00714dd8 mono_runtime_invoke + 200
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;20 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x007cc154 monotouch_init + 640
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;21 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x005f71d8 main + 3704
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;22 &#160;MyApp4 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x00070b58 start + 52
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =================================================================
</I>&gt;&gt;<i> Got a SIGABRT while executing native code. This usually indicates
</I>&gt;&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;&gt;<i> used by your application.
</I>&gt;&gt;<i> =================================================================
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've no clue, the crash seems to happen before any code is called. I'm
</I>&gt;&gt;<i> using two binding libraries (TestFlight and CorePlot) in my project,
</I>&gt;&gt;<i> so maybe this is something related to the bug many people here in this
</I>&gt;&gt;<i> list are experiencing with the ARM6 architecture.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks in advance!
</I>&gt;&gt;<i> Emanuele Sabetta
</I>&gt;&gt;<i> www.ipaziasoftware.com
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> MonoTouch mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006525.html">[MonoTouch] Strange crash on device but not on the simulator: MONO_PATCH_INFO_JIT_ICALL_ADDR mono_marshal_safearray_create
</A></li>
	<LI>Next message: <A HREF="006524.html">[MonoTouch] MT.Dialog - applying [Skip] at runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6527">[ date ]</a>
              <a href="thread.html#6527">[ thread ]</a>
              <a href="subject.html#6527">[ subject ]</a>
              <a href="author.html#6527">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
