<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] &quot;Unable to Download Error&quot; using TestFlight
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20%22Unable%20to%20Download%20Error%22%20using%20TestFlight&In-Reply-To=CANfFwGTWs2WXek3eoge4_WP8Af_dEGA%2BCFV%2BEt4ag13%3DwAg8Mw%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006338.html">
   <LINK REL="Next"  HREF="006334.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] &quot;Unable to Download Error&quot; using TestFlight</H1>
    <B>Rolf Bjarne Kvinge</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20%22Unable%20to%20Download%20Error%22%20using%20TestFlight&In-Reply-To=CANfFwGTWs2WXek3eoge4_WP8Af_dEGA%2BCFV%2BEt4ag13%3DwAg8Mw%40mail.gmail.com"
       TITLE="[MonoTouch] &quot;Unable to Download Error&quot; using TestFlight">rolf at xamarin.com
       </A><BR>
    <I>Thu Nov  3 06:01:00 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006338.html">[MonoTouch] &quot;Unable to Download Error&quot; using TestFlight
</A></li>
        <LI>Next message: <A HREF="006334.html">[MonoTouch] Pushing DialogViewController
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6350">[ date ]</a>
              <a href="thread.html#6350">[ thread ]</a>
              <a href="subject.html#6350">[ subject ]</a>
              <a href="author.html#6350">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I created <A HREF="http://bugzilla.xamarin.com/show_bug.cgi?id=1847">http://bugzilla.xamarin.com/show_bug.cgi?id=1847</A> to track
this issue, maybe we can try to work around Apple's bugs.

Rolf

On Wed, Nov 2, 2011 at 5:40 PM, Nic Wise &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">nicw at fastchicken.co.nz</A>&gt; wrote:
&gt;<i> Not sure how to turn it off in MT, but if you go into the profile in
</I>&gt;<i> the apple provisioning site (where you make new adhoc certificates),
</I>&gt;<i> you can turn it off there. (then redownload the cert)
</I>&gt;<i>
</I>&gt;<i> On Wed, Nov 2, 2011 at 16:34, efontana &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">eric at fontanas.net</A>&gt; wrote:
</I>&gt;&gt;<i> Well, Here was the response from the TestFlight people, the next question:
</I>&gt;&gt;<i> How do you make this change
</I>&gt;&gt;<i> from MonoDevelop?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This appears to be an issue with how Apple creates provisioning profiles
</I>&gt;&gt;<i> enabled with iCloud. Recently Apple enabled iCloud on all App IDs in the
</I>&gt;&gt;<i> portal. When you create a development profile the iCloud entitlements are
</I>&gt;&gt;<i> properly included. However, any distribution profile (eg. Ad Hoc) does not
</I>&gt;&gt;<i> include these entitlements for some reason.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> When you specify Entitlements in the Summary tab in Xcode, these
</I>&gt;&gt;<i> entitlements are compiled into the binary. When you archive your application
</I>&gt;&gt;<i> using an Ad Hoc Distribution profile, the entitlements are not included in
</I>&gt;&gt;<i> the embedded.mobileprovision file. When iOS tries to install the app it
</I>&gt;&gt;<i> compares the entitlements in the binary with the ones in the
</I>&gt;&gt;<i> embedded.mobileprovision. Because the iCloud entitlements exist in the
</I>&gt;&gt;<i> binary but not in the .mobileprovision the app fails to install.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you archive and share the application using the development profile that
</I>&gt;&gt;<i> correctly includes the iCloud entitlements the app can be installed as the
</I>&gt;&gt;<i> entitlements exist in both the binary and the embedded.mobileprovision file.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This appears to be a bug on Apples end. The current workaround, as far as we
</I>&gt;&gt;<i> have worked out, is to:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1) If you do not require iCloud or keychain entitlements, do not enable
</I>&gt;&gt;<i> entitlements on the Summary tab in Xcode and code sign your ad hoc with the
</I>&gt;&gt;<i> Distribution profile
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2) If you do require iCloud or keychain entitlements, make sure you have
</I>&gt;&gt;<i> setup your entitlements on the Summary tab in Xcode and code sign your ad
</I>&gt;&gt;<i> hoc with the Development profile
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There are a couple threads on the dev forums discussing this issue:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://devforums.apple.com/message/517660#517660">https://devforums.apple.com/message/517660#517660</A>
</I>&gt;&gt;<i> <A HREF="https://devforums.apple.com/message/509618#509618">https://devforums.apple.com/message/509618#509618</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please let us know if you have any further issues. We will continue to
</I>&gt;&gt;<i> monitor this and hope that Apple fixes this shortly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Unable-to-Download-Error-using-TestFlight-tp3975314p3977265.html">http://monotouch.2284126.n4.nabble.com/Unable-to-Download-Error-using-TestFlight-tp3975314p3977265.html</A>
</I>&gt;&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> MonoTouch mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Nic Wise
</I>&gt;<i> t.&#160; +44 7788 592 806 |&#160;@fastchicken | <A HREF="http://www.linkedin.com/in/nicwise">http://www.linkedin.com/in/nicwise</A>
</I>&gt;<i> b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A>
</I>&gt;<i>
</I>&gt;<i> Nearest Bus: find when the next bus is coming to your stop. <A HREF="http://goo.gl/Vcz1p">http://goo.gl/Vcz1p</A>
</I>&gt;<i> mobileAgent (for FreeAgent): get your accounts in your pocket.
</I>&gt;<i> <A HREF="http://goo.gl/IuBU">http://goo.gl/IuBU</A>
</I>&gt;<i> Trip Wallet: Keep track of your budget on the go: <A HREF="http://goo.gl/ePhKa">http://goo.gl/ePhKa</A>
</I>&gt;<i> London Bike App: Find the nearest Boris Bike, and get riding! <A HREF="http://goo.gl/Icp2">http://goo.gl/Icp2</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I></PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006338.html">[MonoTouch] &quot;Unable to Download Error&quot; using TestFlight
</A></li>
	<LI>Next message: <A HREF="006334.html">[MonoTouch] Pushing DialogViewController
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6350">[ date ]</a>
              <a href="thread.html#6350">[ thread ]</a>
              <a href="subject.html#6350">[ subject ]</a>
              <a href="author.html#6350">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
