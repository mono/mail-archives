<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] MonoTouch + action handler + simulator issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20MonoTouch%20%2B%20action%20handler%20%2B%20simulator%20issue&In-Reply-To=caa16ac83279d45bf0e404a641d49ecd.squirrel%40webmail.plus.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002505.html">
   <LINK REL="Next"  HREF="002507.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] MonoTouch + action handler + simulator issue</H1>
    <B>ChrisNTR</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20MonoTouch%20%2B%20action%20handler%20%2B%20simulator%20issue&In-Reply-To=caa16ac83279d45bf0e404a641d49ecd.squirrel%40webmail.plus.net"
       TITLE="[MonoTouch] MonoTouch + action handler + simulator issue">chrisntr at gmail.com
       </A><BR>
    <I>Mon Dec 20 14:40:09 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002505.html">[MonoTouch] MonoTouch + action handler + simulator issue
</A></li>
        <LI>Next message: <A HREF="002507.html">[MonoTouch] &quot;Thread started:&quot; in debug application output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2506">[ date ]</a>
              <a href="thread.html#2506">[ thread ]</a>
              <a href="subject.html#2506">[ subject ]</a>
              <a href="author.html#2506">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Brian,

Your view controller is probably getting Garbage collected.

Change you Main.cs to look a little like this

                ViewController viewController;
                 // This method is invoked when the application has loaded
its UI and its ready to run
 public override bool FinishedLaunching (UIApplication app, NSDictionary
options)
{
 viewController = new ViewController ();
window.AddSubview (viewController.View);
 window.MakeKeyAndVisible ();
 return true;
}

Cheers,

ChrisNTR

On 20 December 2010 19:18, Brian Long &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">brian at blong.com</A>&gt; wrote:

&gt;<i> Hello all
</I>&gt;<i>
</I>&gt;<i> I've bumped into an issue whilst getting the hang of MonoTouch.
</I>&gt;<i>
</I>&gt;<i> It is easily demonstrable with a simple app with 2 buttons, one of which
</I>&gt;<i> responds (trivially, via an alert) to a delegate set up in code, one of
</I>&gt;<i> which responds to an action set up in IB.
</I>&gt;<i>
</I>&gt;<i> The delegate one works perfectly.
</I>&gt;<i>
</I>&gt;<i> The action button always makes the app crash with a null reference
</I>&gt;<i> exception on first run in the simulator.
</I>&gt;<i>
</I>&gt;<i> If you close the simulator and re-run, then the same will happen.
</I>&gt;<i>
</I>&gt;<i> However... if you simply back re-invoke the app in the same simulator
</I>&gt;<i> session and press the same button again, it behaves as expected and
</I>&gt;<i> displays the alert.
</I>&gt;<i>
</I>&gt;<i> The stack trace is useless (to my eyes) in pointing the finger at anything
</I>&gt;<i> (nothing in my source is pointed at) and I wonder if this is known (I have
</I>&gt;<i> failed to find a reference to it in searches thus far), where the fault
</I>&gt;<i> lies, and if it is avoidable (without avoiding actions in IB).
</I>&gt;<i>
</I>&gt;<i> I attach the trivial C# app that gives the problem, and also the stack
</I>&gt;<i> trace I get when the action button is hit.
</I>&gt;<i>
</I>&gt;<i> FYI, I currently have no iPhone so cannot see the comparative behaviour on
</I>&gt;<i> a real device - would be interesting to be reassured that the device
</I>&gt;<i> behaves appropriately all the time.
</I>&gt;<i>
</I>&gt;<i> Any feedback on the matter would be welcomed
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> - Brian
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
ChrisNTR
Microsoft ASPInsider
<A HREF="http://weblogs.asp.net/chrishardy">http://weblogs.asp.net/chrishardy</A>
<A HREF="http://twitter.com/chrisntr">http://twitter.com/chrisntr</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20101220/3b4ab5ad/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20101220/3b4ab5ad/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002505.html">[MonoTouch] MonoTouch + action handler + simulator issue
</A></li>
	<LI>Next message: <A HREF="002507.html">[MonoTouch] &quot;Thread started:&quot; in debug application output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2506">[ date ]</a>
              <a href="thread.html#2506">[ thread ]</a>
              <a href="subject.html#2506">[ subject ]</a>
              <a href="author.html#2506">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
