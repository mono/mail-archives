<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] An error in unmanaged code...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20An%20error%20in%20unmanaged%20code...&In-Reply-To=4D9CC953.10408%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002812.html">
   <LINK REL="Next"  HREF="002815.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] An error in unmanaged code...</H1>
    <B>David Moles</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20An%20error%20in%20unmanaged%20code...&In-Reply-To=4D9CC953.10408%40gmail.com"
       TITLE="[MonoTouch] An error in unmanaged code...">davidmoles at thegogame.com
       </A><BR>
    <I>Wed Apr  6 16:28:34 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002812.html">[MonoTouch] An error in unmanaged code...
</A></li>
        <LI>Next message: <A HREF="002815.html">[MonoTouch] An error in unmanaged code...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2813">[ date ]</a>
              <a href="thread.html#2813">[ thread ]</a>
              <a href="subject.html#2813">[ subject ]</a>
              <a href="author.html#2813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I haven't used PDFs in iOS at all, but when I've gotten errors like this
with (frex) UIImagePickerController, it's usually because something's
getting prematurely garbage collected on the iOS side. It looks like you're
doing a pretty good job of keeping handles to all that stuff, though, so I
don't see an obvious fix. Maybe BackButtonClick() should be popping the view
controller before disposing everything?

On Wed, Apr 6, 2011 at 1:13 PM, Peter Morris &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">mrpmorris at gmail.com</A>&gt; wrote:

&gt;<i>  I have the following code which displays the first page of a PDF.  It
</I>&gt;<i> seems though that there is some detail missing, because as the controller is
</I>&gt;<i> popped off the stack I get a fatal error in unmanaged code (pasted below the
</I>&gt;<i> source).
</I>&gt;<i>
</I>&gt;<i> Does anyone have a MonoTouch example of paging through a PDF?  This is how
</I>&gt;<i> I add the controller to the stack, it seems to be fine the first time I show
</I>&gt;<i> a PDF, but the 2nd time I try to display ANY PDF (or sometimes
</I>&gt;<i> 3rd,4th,5th,10th) time I get an error about unmanaged code.  Here is the
</I>&gt;<i> code I use to show the controller.
</I>&gt;<i>
</I>&gt;<i> var url = NSUrl.FromFilename(fileName);
</I>&gt;<i>  var pdfViewController = new PdfViewController(url);
</I>&gt;<i>  NavigationController.PushViewController(pdfViewController, true);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The source code is here: <A HREF="http://monobin.com/__facaebee">http://monobin.com/__facaebee</A>
</I>&gt;<i> The error info is here: <A HREF="http://monobin.com/__f3d617967">http://monobin.com/__f3d617967</A>
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i> Pete
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
David Moles
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">davidmoles at thegogame.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110406/2f301921/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110406/2f301921/attachment-0001.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002812.html">[MonoTouch] An error in unmanaged code...
</A></li>
	<LI>Next message: <A HREF="002815.html">[MonoTouch] An error in unmanaged code...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2813">[ date ]</a>
              <a href="thread.html#2813">[ thread ]</a>
              <a href="subject.html#2813">[ subject ]</a>
              <a href="author.html#2813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
