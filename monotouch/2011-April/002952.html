<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Calling webservice with exception inside a try/catch do	not catch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Calling%20webservice%20with%20exception%20inside%20a%20try/catch%20do%0A%09not%20catch&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002957.html">
   <LINK REL="Next"  HREF="002956.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Calling webservice with exception inside a try/catch do	not catch</H1>
    <B>Karl Heinz Brehme Arredondo</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Calling%20webservice%20with%20exception%20inside%20a%20try/catch%20do%0A%09not%20catch&In-Reply-To="
       TITLE="[MonoTouch] Calling webservice with exception inside a try/catch do	not catch">karl at e-magesolutions.com
       </A><BR>
    <I>Sat Apr 30 00:53:14 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002957.html">[MonoTouch] Crash compiling for device
</A></li>
        <LI>Next message: <A HREF="002956.html">[MonoTouch] Calling webservice with exception inside a try/catch do	not catch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2952">[ date ]</a>
              <a href="thread.html#2952">[ thread ]</a>
              <a href="subject.html#2952">[ subject ]</a>
              <a href="author.html#2952">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings, I'll try to explain a problem and sorry if I'm not so clear:

I have some UITextView fields that are normally 300 character limit size. As
until today I didn't know how to block this, and didn't know that Sqlite
accepts whatever limit of characters, I found that when devices sync with
server, there was happening, in rare cases (from 800 users just 6), a
truncate exception from SQL Server inside a webservice method.

The thing is that the webservice method call is inside a try, and no catch
is being catched, the code is like:

string Ret;
TheASMXWebService.Syncro webService = new TheASMXWebService.Syncro();
try
{
Ret = webService.ExecuteSomethingRemote(StringWith300InSize);
}
catch (WebException ex)
{
MessageBox.Show(ErrorHandler.DisplayWebServiceErrors(ex));
return;
}

On Windows and Windows Mobile if an exception comes from webservice, from
ADO.NET or other thing, the exception is passed to the method calling the
webservice (ExecuteSomethingRemote()) and it's catch on try/catch, and the
UIAlertView is shown (MessageBox has the
while()-wait-for-0.5-seconds-tip-from-Miguel).

What I'm doing wrong? Nothing goes to catch(), it stops inside
webService.ExecuteSomethingRemote that was generated by MonoDevelop or is
one of the ReturnATableFromWebService that I copy from VisualStudio version
of the project on Windows Mobile, because MonoDevelop do not create
webservice proxy/code when it returns Tables, that is something like:

 [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;<A HREF="http://www.blab">http://www.blab</A>
la.com.br/TheASMXWebService/ExecuteSomethingRemote&quot;,
RequestNamespace=&quot;<A HREF="http://www.blabla.com.br/TheASMXWebService&quot;,">http://www.blabla.com.br/TheASMXWebService&quot;,</A>
ResponseNamespace=&quot;<A HREF="http://www.blabla.com.br/TheASMXWebService&quot;,">http://www.blabla.com.br/TheASMXWebService&quot;,</A>
ParameterStyle=System.Web.Services.Protocols.SoapParameterStyle.Wrapped,
Use=System.Web.Services.Description.SoapBindingUse.Literal)]
        public string ExecuteSomethingRemote(string StringWith300InSize) {
            object[] results = this.Invoke(&quot;ExecuteSomethingRemote&quot;, new
object[] {
                       StringWith300InSize});
            return ((string)(results[0]));
        }

This all runs perfectly (on Windows, Windows Mobile, iOS and Android) but
just do not catch the exception from the server (don't know on Android yet,
it's still without UI). I just get that problem using debugger because no
messages appear to the user, just the application close. And as the user
can't get database from ipad and send by email, I ported a send database
file to server to test one of the 6 problematic databases on emulator, as we
can't copy manually to device.

Thanks,

Karl


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110430/b165bcf6/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110430/b165bcf6/attachment-0001.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002957.html">[MonoTouch] Crash compiling for device
</A></li>
	<LI>Next message: <A HREF="002956.html">[MonoTouch] Calling webservice with exception inside a try/catch do	not catch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2952">[ date ]</a>
              <a href="thread.html#2952">[ thread ]</a>
              <a href="subject.html#2952">[ subject ]</a>
              <a href="author.html#2952">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
