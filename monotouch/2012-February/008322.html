<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] [mono-android] sharing code between mono touch and mono for android
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20%5Bmono-android%5D%20sharing%20code%20between%20mono%20touch%20and%0A%20mono%20for%20android&In-Reply-To=%3C4F4C917A.7000702%40holisticware.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008326.html">
   <LINK REL="Next"  HREF="008298.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] [mono-android] sharing code between mono touch and mono for android</H1>
    <B>Miljenko Cvjetko</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20%5Bmono-android%5D%20sharing%20code%20between%20mono%20touch%20and%0A%20mono%20for%20android&In-Reply-To=%3C4F4C917A.7000702%40holisticware.net%3E"
       TITLE="[MonoTouch] [mono-android] sharing code between mono touch and mono for android">mcvjetko at holisticware.net
       </A><BR>
    <I>Tue Feb 28 08:34:02 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="008326.html">[MonoTouch] [mono-android] sharing code between mono touch and mono for android
</A></li>
        <LI>Next message: <A HREF="008298.html">[MonoTouch] Swedish monodroid/monotouch developers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8322">[ date ]</a>
              <a href="thread.html#8322">[ thread ]</a>
              <a href="subject.html#8322">[ subject ]</a>
              <a href="author.html#8322">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

On 2012.02.27 14:13, Jamie Briant wrote:
&gt;<i> Is this as good as it gets? I'm attempting to build an MfA version of 
</I>&gt;<i> my MT app and its proving extremely frustrating, to the extent that 
</I>&gt;<i> I'm considering just writing the thing in Java. My reason for using MT 
</I>&gt;<i> was the awfulness of Objective-C, and while java is frustrating its 
</I>&gt;<i> entirely doable. The only thing at this point is the real possibility 
</I>&gt;<i> that a WP7 version will be next, so I might as well bite the bullet now.
</I>&gt;<i>
</I>&gt;<i> Context: I'm using Visual Studio, Resharper, and my own Monotouch VSIX 
</I>&gt;<i> to load MT projects. I edit entirely in VS, and build in MD on the 
</I>&gt;<i> mac. I've tried Project Linker.
</I>I'm digging my way towards MT and will try Your extension in next days...
&gt;<i>
</I>&gt;<i> Problem: MfA, MT and WP7 require different .XXproj file formats.
</I>
&gt;<i> There's no getting around this for WP7.
</I>&gt;<i>
</I>&gt;<i> Why is this a problem?
</I>&gt;<i>
</I>&gt;<i> 1. &quot;This file is open in another project&quot;. (and associated 
</I>&gt;<i> Intellisense death)
</I>OK. I get this warning, but no intellisense death.
If I try to open linked file (Project Linker) in M4A project it pops 
this error and opens
file in WP7 project! This is annoying, cos I have &quot;tracking active item 
in explorer&quot; set to true,
making VS Explorer moving...

OK. I'm not using Resharper. Almost year ago I had bunch of weird 
problems with VS plugins and
extensions -  right now have only bare minimum...

&gt;<i> 2. Refactorings don't refactor #if/#endif code.
</I>&gt;<i> 3. Refactorings don't refactor code in linked projects at all.
</I>&gt;<i> 4. Resharper completely horked.
</I>
Ok. Right now: pls don't get angry, but could You try to disable 
ReSharper for a while.
It may have problems with getting the intellisense info from linked files

&gt;<i>
</I>&gt;<i> Basically, I cannot work the way I work. And if I can't do that - if I 
</I>&gt;<i> can't keep the apps in sync /as I work/ I might as well use java: if I 
</I>&gt;<i> have to retype the code I can just as easily convert it to java as I type.
</I>&gt;<i>
</I>&gt;<i> Project Linker doesn't solve any of these. It makes things slightly 
</I>&gt;<i> less broken, but the flip side is I managed to delete a whole ton of 
</I>&gt;<i> files off disk as I tried to remove them from the MfA project.
</I>I managed to do something similar even without ProjectLinker.
&gt;<i>
</I>&gt;<i> Source Control as an alternative. I thought about having separate 
</I>&gt;<i> branches and handling it that way. But this fundamentally fails for 
</I>&gt;<i> refactoring often. It made me wonder how on earth teams of programmers 
</I>&gt;<i> collaborate. When I decide to take a class, split it into two and then 
</I>&gt;<i> pull out a common base, all with new names: how does a team deal with 
</I>&gt;<i> that? I refactor continuously.
</I>&gt;<i>
</I>&gt;<i> *A Possible Solution*
</I>&gt;<i>
</I>&gt;<i> Could the MT and MfA compilers/linkers/projects be made to accept WP7 
</I>&gt;<i> projects as References?
</I>     Probably no.
     Tested WP7 added as reference to M4A:
     after adding:
     Warning    1    The project 
'HolisticWare.PhActEx_2011.DLL_211_BL_mClnt_WP7_SL4_netfx4' cannot be 
referenced.
     The referenced project is targeted to a different framework family 
(Silverlight)

     Compiles - ok.

     Runtime - not tested...

&gt;<i> Then I could factor out common code into a shared library - but it 
</I>&gt;<i> would claim to be WP7 so the WP7 app could use it. The MT and MfA apps 
</I>&gt;<i> would ignore the fact that the library is WP7. MT could solve any 
</I>&gt;<i> problems at code generation time anyway.
</I>&gt;<i>
</I>&gt;<i> *Pain*
</I>&gt;<i>
</I>&gt;<i> How do the rest of you do this? Is Project Linker as good as it gets?
</I>Our team does not use ReSharper, so Project Linker is quite good for us.
Most of our projects (currently 4 of 5) are smaller proof of concepts, 
being prepared
for real coding. (Right now I do mostly logistics/infrastructure stuff - 
for example
yesterday I have integrated DroidDraw into VS as external tool, so that 
axml files
are automatically loaded...
I'm writing small writeup (the code is not in DraidDraw release yet)

The only one bigger project (40k LOC, SNMPsharp lib) which was ported to 
M4A as
proof of concept is beeing transformed (code refactored) into solution 
(single sln file
+ ProjectLinker) with targets for MT, M4A, SL and WPF. Its original 
project was WPF only!
This is in-house project for one company so I'm not entitled to say more...
We are trying to convince them to switch to mobile apps (they have use 
cases) an to buy
licences...
&gt;<i> How do you deal with intellisense/resharper being completely horked?
</I>
Cannot tell
I'll try You extension on this new/bigger project and report my experience

regards

mel
&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> jamie
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Jan 30, 2012 at 11:30 PM, Miljenko Cvjetko 
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">mcvjetko at holisticware.net</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">mcvjetko at holisticware.net</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Good morning
</I>&gt;<i>
</I>&gt;<i>     On 2012.01.31 01 &lt;tel:2012.01.31%2001&gt;:59, Felix Collins wrote:
</I>&gt;&gt;<i>     What is Project Linker?
</I>&gt;<i>     Byproduct of Patterns and Practices project called Prism where MS
</I>&gt;<i>     guys explain
</I>&gt;<i>     code sharing on WPF, SL and lately  WP7 platform.
</I>&gt;<i>     Project linker is just a tool VS plugin that helps batch linking
</I>&gt;<i>     of files. Defines
</I>&gt;<i>     project dependencies in sense of code sharing (copy as link +
</I>&gt;<i>     paste or copy + paste as link)
</I>&gt;<i>
</I>&gt;<i>     some refs:
</I>&gt;<i>     <A HREF="http://msdn.microsoft.com/en-us/library/ff921108(v=pandp.20">http://msdn.microsoft.com/en-us/library/ff921108(v=pandp.20</A>).aspx
</I>&gt;<i>     &lt;<A HREF="http://msdn.microsoft.com/en-us/library/ff921108%28v=pandp.20%29.aspx">http://msdn.microsoft.com/en-us/library/ff921108%28v=pandp.20%29.aspx</A>&gt;
</I>&gt;<i>     <A HREF="http://visualstudiogallery.msdn.microsoft.com/5e730577-d11c-4f2e-8e2b-cbb87f76c044">http://visualstudiogallery.msdn.microsoft.com/5e730577-d11c-4f2e-8e2b-cbb87f76c044</A>
</I>&gt;<i>
</I>&gt;<i>     Greg's sample with M4A
</I>&gt;<i>     <A HREF="http://www.gregshackles.com/2010/12/shared-libraries-for-windows-phone-7-monodroid-and-beyond/">http://www.gregshackles.com/2010/12/shared-libraries-for-windows-phone-7-monodroid-and-beyond/</A>
</I>&gt;<i>
</I>&gt;<i>     I like the tool, cos it is nonintrusive regarding IDE tools, does
</I>&gt;<i>     not break VS (other plugins) and
</I>&gt;<i>     works with MonoDevelop too (meaning one can do the linking in VS
</I>&gt;<i>     and all links are picked up).
</I>&gt;<i>
</I>&gt;<i>     Right now besides integrating MTch stuff I'm trying to extend our
</I>&gt;<i>     MultiTarget solution template to
</I>&gt;<i>     include Project Linker stuff from the beginning, so the manual
</I>&gt;<i>     addition of links is not necessary.
</I>&gt;<i>
</I>&gt;<i>     HTH
</I>&gt;<i>
</I>&gt;<i>     regards
</I>&gt;<i>
</I>&gt;<i>     mel
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     On 31/01/2012 12:46 p.m., Miljenko Cvjetko wrote:
</I>&gt;&gt;&gt;<i>     Sharing code with Project Linker
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     -- 
</I>&gt;<i>     Miljenko Cvjetko dipl.ing. ET
</I>&gt;<i>     	Direktor/CEO
</I>&gt;<i>     	Projektant rjes(enja/Solution Architect	
</I>&gt;<i>     	Razvojni programer/Senior developer
</I>&gt;<i>     	Voditelj projekta/Project Manager
</I>&gt;<i>
</I>&gt;<i>     IX juz(na obala 13
</I>&gt;<i>     Kajzerica Zagreb
</I>&gt;<i>     T: 385 1 7775555
</I>&gt;<i>     M: 385 91 557 447 3
</I>&gt;<i>     F: 385 1 7779556
</I>&gt;<i>     e:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">mcvjetko at holisticware.net</A>  &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">mcvjetko at holisticware.net</A>&gt;
</I>&gt;<i>     w:<A HREF="http://www.holisticware.net">http://www.holisticware.net</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     MonoTouch mailing list
</I>&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>&gt;
</I>&gt;<i>     <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Monodroid mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">Monodroid at lists.ximian.com</A>
</I>&gt;<i>
</I>&gt;<i> UNSUBSCRIBE INFORMATION:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monodroid">http://lists.ximian.com/mailman/listinfo/monodroid</A>
</I>

-- 
Miljenko Cvjetko dipl.ing. ET
	Direktor/CEO
	Projektant rjes(enja/Solution Architect	
	Razvojni programer/Senior developer
	Voditelj projekta/Project Manager

IX juz(na obala 13
Kajzerica Zagreb
T: 385 1 7775555
M: 385 91 557 447 3
F: 385 1 7779556
e: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">mcvjetko at holisticware.net</A>
w: <A HREF="http://www.holisticware.net">http://www.holisticware.net</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120228/da818742/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120228/da818742/attachment-0001.html</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008326.html">[MonoTouch] [mono-android] sharing code between mono touch and mono for android
</A></li>
	<LI>Next message: <A HREF="008298.html">[MonoTouch] Swedish monodroid/monotouch developers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8322">[ date ]</a>
              <a href="thread.html#8322">[ thread ]</a>
              <a href="subject.html#8322">[ subject ]</a>
              <a href="author.html#8322">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
