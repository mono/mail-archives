<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Soap headers getting stripped away
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Soap%20headers%20getting%20stripped%20away&In-Reply-To=%3CCACp3Zk0wfa4h%3DE%2Bkp9hSWCKn5OxzDQQgPJSePp%3DZyn314zUtkw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008001.html">
   <LINK REL="Next"  HREF="008003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Soap headers getting stripped away</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Soap%20headers%20getting%20stripped%20away&In-Reply-To=%3CCACp3Zk0wfa4h%3DE%2Bkp9hSWCKn5OxzDQQgPJSePp%3DZyn314zUtkw%40mail.gmail.com%3E"
       TITLE="[MonoTouch] Soap headers getting stripped away">sebastien at xamarin.com
       </A><BR>
    <I>Thu Feb 16 13:09:05 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="008001.html">[MonoTouch] Soap headers getting stripped away
</A></li>
        <LI>Next message: <A HREF="008003.html">[MonoTouch] Soap headers getting stripped away
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8002">[ date ]</a>
              <a href="thread.html#8002">[ thread ]</a>
              <a href="subject.html#8002">[ subject ]</a>
              <a href="author.html#8002">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Anders,

On Thu, Feb 16, 2012 at 7:34 AM, andersa &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">anders.agren at larmia.se</A>&gt; wrote:
&gt;<i> Here are my test results:
</I>&gt;<i>
</I>&gt;<i> Simulator - Don't link = Works
</I>&gt;<i> Simulator - Link SDK = Works
</I>&gt;<i> Simulator - Link all = Fails
</I>&gt;<i>
</I>&gt;<i> Device - Don't link = Works
</I>&gt;<i> Device - Link SDK = Works
</I>&gt;<i> Device - Link all = Fails
</I>&gt;<i>
</I>&gt;<i> I'm not sure on how to move further with this now?
</I>
The linker is removing something that it could not determine as used
(by your application) using static analysis. You need to protect those
pieces (e.g. used via reflection) using the [Preserve] attribute.

&gt;<i> Is this a linker issue,
</I>&gt;<i> and should I file a report?
</I>
You should. First we might be able to help you identify what's wrong
in your specific case (if the attached test case is small enough).

It's also possible we'll be able to enhance the linker in the future,
based on the pattern you use, to reduce the number of [Preserve]
required.

&gt;<i> Newbie question: and are there any scenarios when I should/must link all
</I>&gt;<i> assemblies? Or can I just happily set it to &quot;Don't link&quot; and not worry about
</I>&gt;<i> it anymore?
</I>
You never *have* to link - i.e. it's not mandatory. OTOH linking
reduce the total size of your application and it's memory (RAM)
requirements. It will also make your device build faster (in many
case) since there will be less code to AOT (the linker being faster to
remove the code than the AOT compiler process it).

I have several blog entries about the linker:
<A HREF="https://spouliot.wordpress.com/category/linker/">https://spouliot.wordpress.com/category/linker/</A>
And there are a few documents on Xamarin's web site, e.g.
<A HREF="http://docs.xamarin.com/ios/advanced_topics/linker">http://docs.xamarin.com/ios/advanced_topics/linker</A>

Sebastien
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008001.html">[MonoTouch] Soap headers getting stripped away
</A></li>
	<LI>Next message: <A HREF="008003.html">[MonoTouch] Soap headers getting stripped away
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8002">[ date ]</a>
              <a href="thread.html#8002">[ thread ]</a>
              <a href="subject.html#8002">[ subject ]</a>
              <a href="author.html#8002">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
