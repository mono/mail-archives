<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Threading best practice
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Threading%20best%20practice&In-Reply-To=%3C4F456892.9030205%40intranel.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008173.html">
   <LINK REL="Next"  HREF="008179.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Threading best practice</H1>
    <B>Felix Collins</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Threading%20best%20practice&In-Reply-To=%3C4F456892.9030205%40intranel.com%3E"
       TITLE="[MonoTouch] Threading best practice">felix at intranel.com
       </A><BR>
    <I>Wed Feb 22 22:13:38 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="008173.html">[MonoTouch] Threading best practice
</A></li>
        <LI>Next message: <A HREF="008179.html">[MonoTouch] Threading best practice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8174">[ date ]</a>
              <a href="thread.html#8174">[ thread ]</a>
              <a href="subject.html#8174">[ subject ]</a>
              <a href="author.html#8174">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Isn't that exactly what threadpool does.  You can queue up as many as you like and only the number of threads in the pool will run at any one time. When they finish the threads return to the pool. You can change the number of threadpool threads as required.

Another comment on the original post: You might want to think about using the one web client for the whole series of requests as that will save a lot of processing and memory usage.  It is tricky though because you have to carefully manage what happens when one of the calls fails and you have to abort the client.

Felix

On 23/02/2012 10:57 a.m., Tomasz Cielecki wrote:
&gt;<i> My thoughts about this are as follows. Investigate if your web requests
</I>&gt;<i> can be done asynchronously. If that is possible you could do something
</I>&gt;<i> along this road:
</I>&gt;<i>
</I>&gt;<i> -Have a queue with the 100 requests.
</I>&gt;<i> -Start a background thread with that keeps an eye on how many requests
</I>&gt;<i> are in progress
</I>&gt;<i> -Inside the thread start the async requests one by one untill you have
</I>&gt;<i> reached your limit.
</I>&gt;<i> -When each of the requests call back update the status of how many
</I>&gt;<i> requests are in progress.
</I>&gt;<i> -End the whole thing when you are done processing.
</I></PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008173.html">[MonoTouch] Threading best practice
</A></li>
	<LI>Next message: <A HREF="008179.html">[MonoTouch] Threading best practice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8174">[ date ]</a>
              <a href="thread.html#8174">[ thread ]</a>
              <a href="subject.html#8174">[ subject ]</a>
              <a href="author.html#8174">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
