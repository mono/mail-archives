<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] LINQ and OrderBy, again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20LINQ%20and%20OrderBy%2C%20again&In-Reply-To=%3CC5D49932-6AEA-4F08-8567-02E8AB55C8DC%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008356.html">
   <LINK REL="Next"  HREF="008358.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] LINQ and OrderBy, again</H1>
    <B>Dan Miser</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20LINQ%20and%20OrderBy%2C%20again&In-Reply-To=%3CC5D49932-6AEA-4F08-8567-02E8AB55C8DC%40gmail.com%3E"
       TITLE="[MonoTouch] LINQ and OrderBy, again">danmiser at gmail.com
       </A><BR>
    <I>Wed Feb 29 18:27:36 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="008356.html">[MonoTouch] LINQ and OrderBy, again
</A></li>
        <LI>Next message: <A HREF="008358.html">[MonoTouch] LINQ and OrderBy, again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8357">[ date ]</a>
              <a href="thread.html#8357">[ thread ]</a>
              <a href="subject.html#8357">[ subject ]</a>
              <a href="author.html#8357">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That doesn't compile. There is no OrderedEnumerable class that I can find. Just the interface. Changing it to the interface also doesnt compile. I put the code in my Main.cs class.

Any idea where I'm going wrong?

Sent from my iPhone

On Feb 29, 2012, at 11:48 AM, Rodrigo Kumpera &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">kumpera at xamarin.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> As simple workaround while we figure out how to fix it add a static method to you App class with the following:
</I>&gt;<i> 
</I>&gt;<i> static void LinqWorkAround () {
</I>&gt;<i>  System.Linq.OrderedEnumerable&lt;Foo&gt;.CreateOrderedEnumerable&lt;int&gt; (null, null, false);
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> This should take care of this crash. If you're building your project with user code linking enabled,
</I>&gt;<i> make sure to have this method called during initialization, something like this:
</I>&gt;<i> 
</I>&gt;<i> static bool dummy = false;
</I>&gt;<i> 
</I>&gt;<i> static void main () {
</I>&gt;<i> 
</I>&gt;<i> if (dummy)  LinqWorkAround ();
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Wed, Feb 29, 2012 at 2:24 PM, danmiser &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">danmiser at gmail.com</A>&gt; wrote:
</I>&gt;<i> I've searched through this group, StackOverflow, and the MT bugzilla list.
</I>&gt;<i> There are a lot of mentions about this, but I'm having a hard time finding
</I>&gt;<i> an authoritative answer. Assume the following code:
</I>&gt;<i> 
</I>&gt;<i> var list = new List&lt;Foo&gt;();
</I>&gt;<i> list.Add (new Foo { Id = 3, Name=&quot;def&quot;});
</I>&gt;<i> list.Add (new Foo { Id = 2, Name=&quot;def&quot;});
</I>&gt;<i> list.Add (new Foo { Id = 1, Name=&quot;ggg&quot;});
</I>&gt;<i> var x = from l in list orderby l.Name, l.Id select l;
</I>&gt;<i> foreach (var item in x) { ... do something ... }
</I>&gt;<i> 
</I>&gt;<i> public class Foo {
</I>&gt;<i>  public int Id { get; set; }
</I>&gt;<i>  public string Name { get; set; }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> When running on the device, I get the info pasted below.
</I>&gt;<i> 
</I>&gt;<i> Notes:
</I>&gt;<i> 1. This only fails on the device
</I>&gt;<i> 2. It doesn't fail if you just have one orderby item
</I>&gt;<i> 
</I>&gt;<i> I have a lot of LINQ in my POCO classes, and I wouldn't relish the idea of
</I>&gt;<i> unwinding it all.
</I>&gt;<i> 
</I>&gt;<i> What do I need to do to make this work?
</I>&gt;<i> 
</I>&gt;<i> Unhandled Exception: System.ExecutionEngineException: Attempting to JIT
</I>&gt;<i> compile method
</I>&gt;<i> 'System.Linq.OrderedEnumerable`1&lt;Foo&gt;:CreateOrderedEnumerable&lt;int&gt;
</I>&gt;<i> (System.Func`2&lt;Foo, int&gt;,System.Collections.Generic.IComparer`1&lt;int&gt;,bool)'
</I>&gt;<i> while running with --aot-only.
</I>&gt;<i> 
</I>&gt;<i>  at System.Linq.Enumerable.ThenBy[Foo,Int32] (IOrderedEnumerable`1 source,
</I>&gt;<i> System.Func`2 keySelector, IComparer`1 comparer) [0x00007] in
</I>&gt;<i> /Developer/MonoTouch/Source/mono/mcs/class/System.Core/System.Linq/Enumerable.cs:2787
</I>&gt;<i>  at System.Linq.Enumerable.ThenBy[Foo,Int32] (IOrderedEnumerable`1 source,
</I>&gt;<i> System.Func`2 keySelector) [0x00000] in
</I>&gt;<i> /Developer/MonoTouch/Source/mono/mcs/class/System.Core/System.Linq/Enumerable.cs:2779
</I>&gt;<i>  at TestLibrary.HelloContext.List () [0x00006] in
</I>&gt;<i> /Users/danmiser/code/MonoTouchRestDemo/TestLibrary/MyClass.cs:18
</I>&gt;<i>  at MonoTouchRestDemo.MonoTouchRestDemoViewController.&lt;ViewDidLoad&gt;m__0
</I>&gt;<i> (System.Object sender, System.EventArgs e) [0x00006] in
</I>&gt;<i> /Users/danmiser/code/MonoTouchRestDemo/MonoTouchRestDemo/MonoTouchRestDemoViewController.cs:38
</I>&gt;<i>  at MonoTouch.UIKit.UIControlEventProxy.Activated () [0x00000] in
</I>&gt;<i> /Developer/MonoTouch/Source/monotouch/src/UIKit/UIControl.cs:30
</I>&gt;<i>  at MonoTouch.UIKit.UIApplication.Main (System.String[] args, System.String
</I>&gt;<i> principalClassName, System.String delegateClassName) [0x00042] in
</I>&gt;<i> /Developer/MonoTouch/Source/monotouch/src/UIKit/UIApplication.cs:29
</I>&gt;<i>  at MonoTouchRestDemo.Application.Main (System.String[] args) [0x00000] in
</I>&gt;<i> /Users/danmiser/code/MonoTouchRestDemo/MonoTouchRestDemo/Main.cs:16
</I>&gt;<i> [ERROR] FATAL UNHANDLED EXCEPTION: System.ExecutionEngineException:
</I>&gt;<i> Attempting to JIT compile method
</I>&gt;<i> 'System.Linq.OrderedEnumerable`1&lt;TestLibrary.HelloClone&gt;:CreateOrderedEnumerable&lt;int&gt;
</I>&gt;<i> (System.Func`2&lt;TestLibrary.HelloClone,
</I>&gt;<i> int&gt;,System.Collections.Generic.IComparer`1&lt;int&gt;,bool)' while running with
</I>&gt;<i> --aot-only.
</I>&gt;<i> 
</I>&gt;<i>  at System.Linq.Enumerable.ThenBy[Foo,Int32] (IOrderedEnumerable`1 source,
</I>&gt;<i> System.Func`2 keySelector, IComparer`1 comparer) [0x00007] in
</I>&gt;<i> /Developer/MonoTouch/Source/mono/mcs/class/System.Core/System.Linq/Enumerable.cs:2787
</I>&gt;<i>  at System.Linq.Enumerable.ThenBy[Foo,Int32] (IOrderedEnumerable`1 source,
</I>&gt;<i> System.Func`2 keySelector) [0x00000] in
</I>&gt;<i> /Developer/MonoTouch/Source/mono/mcs/class/System.Core/System.Linq/Enumerable.cs:2779
</I>&gt;<i>  at TestLibrary.HelloContext.List () [0x00006] in
</I>&gt;<i> /Users/danmiser/code/MonoTouchRestDemo/TestLibrary/MyClass.cs:18
</I>&gt;<i>  at MonoTouchRestDemo.MonoTouchRestDemoViewController.&lt;ViewDidLoad&gt;m__0
</I>&gt;<i> (System.Object sender, System.EventArgs e) [0x00006] in
</I>&gt;<i> /Users/danmiser/code/MonoTouchRestDemo/MonoTouchRestDemo/MonoTouchRestDemoViewController.cs:38
</I>&gt;<i>  at MonoTouch.UIKit.UIControlEventProxy.Activated () [0x00000] in
</I>&gt;<i> /Developer/MonoTouch/Source/monotouch/src/UIKit/UIControl.cs:30
</I>&gt;<i>  at MonoTouch.UIKit.UIApplication.Main (System.String[] args, System.String
</I>&gt;<i> principalClassName, System.String delegateClassName) [0x00042] in
</I>&gt;<i> /Developer/MonoTouch/Source/monotouch/src/UIKit/UIApplication.cs:29
</I>&gt;<i>  at MonoTouchRestDemo.Application.Main (System.String[] args) [0x00000] in
</I>&gt;<i> /Users/danmiser/code/MonoTouchRestDemo/MonoTouchRestDemo/Main.cs:16
</I>&gt;<i> Terminating runtime due to unhandled exception
</I>&gt;<i> Stacktrace:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Native stacktrace:
</I>&gt;<i> 
</I>&gt;<i>        0   MonoTouchRestDemo                   0x01616970
</I>&gt;<i> mono_handle_native_sigsegv + 280
</I>&gt;<i>        1   MonoTouchRestDemo                   0x016396c4 sigabrt_signal_handler +
</I>&gt;<i> 180
</I>&gt;<i>        2   libsystem_c.dylib                   0x331b6539 _sigtramp + 48
</I>&gt;<i>        3   libsystem_c.dylib                   0x331abf5b pthread_kill + 54
</I>&gt;<i>        4   libsystem_c.dylib                   0x331a4feb abort + 94
</I>&gt;<i>        5   MonoTouchRestDemo                   0x016f2774 monoeg_g_logv + 152
</I>&gt;<i>        6   MonoTouchRestDemo                   0x016f27c0 monoeg_assertion_message
</I>&gt;<i> + 52
</I>&gt;<i>        7   MonoTouchRestDemo                   0x01600348 mono_thread_abort + 148
</I>&gt;<i>        8   MonoTouchRestDemo                   0x0161653c
</I>&gt;<i> mono_handle_exception_internal + 3188
</I>&gt;<i>        9   MonoTouchRestDemo                   0x01616740 mono_handle_exception +
</I>&gt;<i> 24
</I>&gt;<i>        10  MonoTouchRestDemo                   0x016382d8 mono_arm_throw_exception
</I>&gt;<i> + 172
</I>&gt;<i>        11  MonoTouchRestDemo                   0x005c361c throw_exception + 48
</I>&gt;<i>        12  MonoTouchRestDemo                   0x01602910 mono_jit_compile_method
</I>&gt;<i> + 68
</I>&gt;<i>        13  MonoTouchRestDemo                   0x016a9ed8 mono_compile_method + 56
</I>&gt;<i>        14  MonoTouchRestDemo                   0x01619d10 common_call_trampoline +
</I>&gt;<i> 1364
</I>&gt;<i>        15  MonoTouchRestDemo                   0x01617de4 mono_vcall_trampoline +
</I>&gt;<i> 228
</I>&gt;<i>        16  MonoTouchRestDemo                   0x005c3528 generic_trampoline_vcall
</I>&gt;<i> + 136
</I>&gt;<i>        17  MonoTouchRestDemo                   0x003b1c5c
</I>&gt;<i> System_Linq_Enumerable_ThenBy_TestLibrary_HelloClone_int_System_Linq_IOrderedEnumerable_1_TestLibrary_HelloClone_System_Func_2_TestLibrary_HelloClone_int
</I>&gt;<i> + 144
</I>&gt;<i>        18  MonoTouchRestDemo                   0x003b0ca0
</I>&gt;<i> TestLibrary_HelloContext_List + 512
</I>&gt;<i>        19  MonoTouchRestDemo                   0x006a9d34
</I>&gt;<i> MonoTouchRestDemo_MonoTouchRestDemoViewController__ViewDidLoadm__0_object_System_EventArgs
</I>&gt;<i> + 300
</I>&gt;<i>        20  MonoTouchRestDemo                   0x0000edcc
</I>&gt;<i> MonoTouch_UIKit_UIControlEventProxy_Activated + 68
</I>&gt;<i>        21  MonoTouchRestDemo                   0x0057c188
</I>&gt;<i> wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr
</I>&gt;<i> + 200
</I>&gt;<i>        22  MonoTouchRestDemo                   0x01602fbc mono_jit_runtime_invoke
</I>&gt;<i> + 1644
</I>&gt;<i>        23  MonoTouchRestDemo                   0x016ab43c mono_runtime_invoke +
</I>&gt;<i> 128
</I>&gt;<i>        24  MonoTouchRestDemo                   0x01707b54 monotouch_trampoline +
</I>&gt;<i> 3228
</I>&gt;<i>        25  CoreFoundation                      0x34321435 -[NSObject
</I>&gt;<i> performSelector:withObject:withObject:] + 52
</I>&gt;<i>        26  UIKit                               0x3778b9eb -[UIApplication
</I>&gt;<i> sendAction:to:from:forEvent:] + 62
</I>&gt;<i>        27  UIKit                               0x3778b9a7 -[UIApplication
</I>&gt;<i> sendAction:toTarget:fromSender:forEvent:] + 30
</I>&gt;<i>        28  UIKit                               0x3778b985 -[UIControl
</I>&gt;<i> sendAction:to:forEvent:] + 44
</I>&gt;<i>        29  UIKit                               0x3778b6f5 -[UIControl(Internal)
</I>&gt;<i> _sendActionsForEvents:withEvent:] + 492
</I>&gt;<i>        30  UIKit                               0x3778c02d -[UIControl
</I>&gt;<i> touchesEnded:withEvent:] + 476
</I>&gt;<i>        31  UIKit                               0x3778a50f -[UIWindow
</I>&gt;<i> _sendTouchesForEvent:] + 318
</I>&gt;<i>        32  UIKit                               0x37789f01 -[UIWindow sendEvent:] +
</I>&gt;<i> 380
</I>&gt;<i>        33  UIKit                               0x377704ed -[UIApplication
</I>&gt;<i> sendEvent:] + 356
</I>&gt;<i>        34  UIKit                               0x3776fd2d
</I>&gt;<i> _UIApplicationHandleEvent + 5808
</I>&gt;<i>        35  GraphicsServices                    0x30ba2df3 PurpleEventCallback +
</I>&gt;<i> 882
</I>&gt;<i>        36  CoreFoundation                      0x3439b553
</I>&gt;<i> __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 38
</I>&gt;<i>        37  CoreFoundation                      0x3439b4f5 __CFRunLoopDoSource1 +
</I>&gt;<i> 140
</I>&gt;<i>        38  CoreFoundation                      0x3439a343 __CFRunLoopRun + 1370
</I>&gt;<i>        39  CoreFoundation                      0x3431d4dd CFRunLoopRunSpecific +
</I>&gt;<i> 300
</I>&gt;<i>        40  CoreFoundation                      0x3431d3a5 CFRunLoopRunInMode + 104
</I>&gt;<i>        41  GraphicsServices                    0x30ba1fcd GSEventRunModal + 156
</I>&gt;<i>        42  UIKit                               0x3779e743 UIApplicationMain + 1090
</I>&gt;<i>        43  MonoTouchRestDemo                   0x00026cfc
</I>&gt;<i> wrapper_managed_to_native_MonoTouch_UIKit_UIApplication_UIApplicationMain_int_string___intptr_intptr
</I>&gt;<i> + 240
</I>&gt;<i>        44  MonoTouchRestDemo                   0x006a8f20
</I>&gt;<i> MonoTouchRestDemo_Application_Main_string__ + 152
</I>&gt;<i>        45  MonoTouchRestDemo                   0x0057c188
</I>&gt;<i> wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr
</I>&gt;<i> + 200
</I>&gt;<i>        46  MonoTouchRestDemo                   0x01602fbc mono_jit_runtime_invoke
</I>&gt;<i> + 1644
</I>&gt;<i>        47  MonoTouchRestDemo                   0x016ab43c mono_runtime_invoke +
</I>&gt;<i> 128
</I>&gt;<i>        48  MonoTouchRestDemo                   0x016af6e8 mono_runtime_exec_main +
</I>&gt;<i> 436
</I>&gt;<i>        49  MonoTouchRestDemo                   0x016b435c mono_runtime_run_main +
</I>&gt;<i> 756
</I>&gt;<i>        50  MonoTouchRestDemo                   0x01607344 mono_jit_exec + 140
</I>&gt;<i>        51  MonoTouchRestDemo                   0x015ff550 main + 2168
</I>&gt;<i>        52  MonoTouchRestDemo                   0x00002504 start + 52
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/LINQ-and-OrderBy-again-tp4432245p4432245.html">http://monotouch.2284126.n4.nabble.com/LINQ-and-OrderBy-again-tp4432245p4432245.html</A>
</I>&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i> 
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120229/4b2e1f1f/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120229/4b2e1f1f/attachment-0001.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008356.html">[MonoTouch] LINQ and OrderBy, again
</A></li>
	<LI>Next message: <A HREF="008358.html">[MonoTouch] LINQ and OrderBy, again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8357">[ date ]</a>
              <a href="thread.html#8357">[ thread ]</a>
              <a href="subject.html#8357">[ subject ]</a>
              <a href="author.html#8357">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
