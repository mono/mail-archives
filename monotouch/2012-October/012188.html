<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] InvokeOnMainThread hanging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20InvokeOnMainThread%20hanging&In-Reply-To=%3C1349816059407-4657446.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012250.html">
   <LINK REL="Next"  HREF="012190.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] InvokeOnMainThread hanging</H1>
    <B>technohead</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20InvokeOnMainThread%20hanging&In-Reply-To=%3C1349816059407-4657446.post%40n4.nabble.com%3E"
       TITLE="[MonoTouch] InvokeOnMainThread hanging">dj_technohead at yahoo.com
       </A><BR>
    <I>Tue Oct  9 20:54:19 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="012250.html">[MonoTouch] Error building/deploying since last update
</A></li>
        <LI>Next message: <A HREF="012190.html">[MonoTouch] InvokeOnMainThread hanging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12188">[ date ]</a>
              <a href="thread.html#12188">[ thread ]</a>
              <a href="subject.html#12188">[ subject ]</a>
              <a href="author.html#12188">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi guys,
   I am seeing a problem where calling InvokeOnMainThread is hanging in
certain parts of the code. I thought maybe the problem might be because the
code is already running on the main thread, but based on the following code,
it wasn't. The code is hanging on the InvokeOnMainThread and execution never
hits the this.progressHUD.Hide(true) line. Any ideas why this might be the
case?

thanks,
Dennis



public void HideProgressIndicator()
        {
            if (this.progressHUD != null)
            {
                if (!IsMainThread())
                    this.InvokeOnMainThread(()=&gt;{
                        this.progressHUD.Hide(true);
                    });
                else
                    this.progressHUD.Hide(true);
            }
        }

        protected static bool IsMainThread() {
            return Messaging.bool_objc_msgSend(GetClassHandle(&quot;NSThread&quot;),
new Selector(&quot;isMainThread&quot;).Handle);
        }

        protected static IntPtr GetClassHandle (string clsName)
        {
            return (new Class(clsName)).Handle;
        }



--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/InvokeOnMainThread-hanging-tp4657446.html">http://monotouch.2284126.n4.nabble.com/InvokeOnMainThread-hanging-tp4657446.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012250.html">[MonoTouch] Error building/deploying since last update
</A></li>
	<LI>Next message: <A HREF="012190.html">[MonoTouch] InvokeOnMainThread hanging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12188">[ date ]</a>
              <a href="thread.html#12188">[ thread ]</a>
              <a href="subject.html#12188">[ subject ]</a>
              <a href="author.html#12188">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
