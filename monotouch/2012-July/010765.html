<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Dot net 4.5 and web Api
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Dot%20net%204.5%20and%20web%20Api&In-Reply-To=%3CCANfFwGRoUskL9oNc4wYPEjV94vwdgs7Zjode1_B_DG5Qfb97Pg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010752.html">
   <LINK REL="Next"  HREF="010766.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Dot net 4.5 and web Api</H1>
    <B>Nic Wise</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Dot%20net%204.5%20and%20web%20Api&In-Reply-To=%3CCANfFwGRoUskL9oNc4wYPEjV94vwdgs7Zjode1_B_DG5Qfb97Pg%40mail.gmail.com%3E"
       TITLE="[MonoTouch] Dot net 4.5 and web Api">nicw at fastchicken.co.nz
       </A><BR>
    <I>Tue Jul 17 06:27:01 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010752.html">[MonoTouch] Dot net 4.5 and web Api
</A></li>
        <LI>Next message: <A HREF="010766.html">[MonoTouch] Dot net 4.5 and web Api
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10765">[ date ]</a>
              <a href="thread.html#10765">[ thread ]</a>
              <a href="subject.html#10765">[ subject ]</a>
              <a href="author.html#10765">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rob

I dont think MT supports portable class lib's YET. The easiest way is
to make a new MT library project, and add the files (link them, dont
copy them) into it, then build it. You end up with two almost
identical csproj's, but the output DLL's work....

But yes, otherwise, you should be able to share the model between
client and server if they are otherwise just POCOs

Have a look at RestSharp, and DropNet (a Dropbox client which uses
RestSharp) which might give you some ideas on how to implement the
client.

&gt;<i> Oh, and how I pass some credentials with Identity Management from the
</I>&gt;<i> client to the server, hopefully that's trivial!?
</I>
I'm not sure how IM works, and what you have to pass. MT does support
Basic auth out of the box, and RS can do OAuth, so it kind of depends
how WebAPI works....

Cheers

Nic


On Mon, Jul 16, 2012 at 5:37 PM, Rob Wilson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">netplay at gmail.com</A>&gt; wrote:
&gt;<i> Hi Nic,
</I>&gt;<i>
</I>&gt;<i> Thanks for getting back to me.  The way I see it is that in theory I
</I>&gt;<i> only need .NET 4.5 on the server and something lower in the client,
</I>&gt;<i> after all it's only JSON being sent backwards and forwards.  I've
</I>&gt;<i> watched a couple of videos on WebAPI and it makes it look very
</I>&gt;<i> straight forward.
</I>&gt;<i>
</I>&gt;<i> If I move my model into some code that's shared between the .NET 4.5
</I>&gt;<i> server and client projects using the 'Portable Class Library' support,
</I>&gt;<i> I'm pretty close to getting what I want.
</I>&gt;<i>
</I>&gt;<i> My only hiccup so far is that the models are annotated with
</I>&gt;<i> [serializable] (for binary deep cloning), but the 'Portable Class
</I>&gt;<i> Library' doesn't like Serializable at all.  Once I resolve this I'm a
</I>&gt;<i> happy man - maybe someone on these forums can help.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Rob.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 16 July 2012 10:17, Nic Wise &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">nicw at fastchicken.co.nz</A>&gt; wrote:
</I>&gt;&gt;<i> Hi Rob
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The JSON part is easy. You can either roll it yourself, or use a
</I>&gt;&gt;<i> library like RestSharp, which wraps up a lot of it for you. Thats my
</I>&gt;&gt;<i> preference. ServiceStack may also work, tho it's not something I've
</I>&gt;&gt;<i> used personally.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> .NET 4.5 stuff, however, doesn't _directly_ work on MonoTouch (or
</I>&gt;&gt;<i> Mono), so I doubt you'd be able to take your 4.5-generated client and
</I>&gt;&gt;<i> use it unchanged on MT. That said, I've not used 4.5 much, so I may be
</I>&gt;&gt;<i> very wrong there. A quick google around says it uses SAML 2.0, tho I
</I>&gt;&gt;<i> suspect you'll have to write a lot of it yourself.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You might be better off wrapping the 4.5 WIF stuff and exposing it as
</I>&gt;&gt;<i> a less-MS-specific manner. eg using oauth for the authentication, and
</I>&gt;&gt;<i> then wrapping it up on the server into a WIF call if needed.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Looking at this WebAPI tutorial:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api">http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It looks like it's all REST + JSON, which RestSharp / ServiceStack /
</I>&gt;&gt;<i> just doing it yourself is fairly easy.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hope that helps
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Nic
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Sun, Jul 15, 2012 at 10:22 AM, Netplay &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">netplay at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Hi all,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I am looking at writing a new mono touch iPhone application that will integrate with a dot net 4.5 server with identity management and JSON services exposed through the web API.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Does anyone on these forums have experience with either identity management or web API, or can advise on the compatibility with net 4.5 with mono touch?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Regards,
</I>&gt;&gt;&gt;<i> Rob
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> (this email was produced on an iPad and I may have used the dictation feature)
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> MonoTouch mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Nic Wise
</I>&gt;&gt;<i> t.  +44 7788 592 806 | @fastchicken | <A HREF="http://www.linkedin.com/in/nicwise">http://www.linkedin.com/in/nicwise</A>
</I>&gt;&gt;<i> b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> mobileAgent (for FreeAgent): get your accounts in your pocket.
</I>&gt;&gt;<i> <A HREF="http://goo.gl/IuBU">http://goo.gl/IuBU</A>
</I>&gt;&gt;<i> Trip Wallet: Keep track of your budget on the go: <A HREF="http://goo.gl/ePhKa">http://goo.gl/ePhKa</A>
</I>&gt;&gt;<i> Earnest: Self-employed? Track your business expenses and income.
</I>&gt;&gt;<i> <A HREF="http://earnestapp.com">http://earnestapp.com</A>
</I>&gt;&gt;<i> Nearest Bus: find when the next bus is coming to your stop. <A HREF="http://goo.gl/Vcz1p">http://goo.gl/Vcz1p</A>
</I>&gt;&gt;<i> London Bike App: Find the nearest Boris Bike, and get riding! <A HREF="http://goo.gl/Icp2">http://goo.gl/Icp2</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>


-- 
Nic Wise
t.  +44 7788 592 806 | @fastchicken | <A HREF="http://www.linkedin.com/in/nicwise">http://www.linkedin.com/in/nicwise</A>
b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A>

mobileAgent (for FreeAgent): get your accounts in your pocket.
<A HREF="http://goo.gl/IuBU">http://goo.gl/IuBU</A>
Trip Wallet: Keep track of your budget on the go: <A HREF="http://goo.gl/ePhKa">http://goo.gl/ePhKa</A>
Earnest: Self-employed? Track your business expenses and income.
<A HREF="http://earnestapp.com">http://earnestapp.com</A>
Nearest Bus: find when the next bus is coming to your stop. <A HREF="http://goo.gl/Vcz1p">http://goo.gl/Vcz1p</A>
London Bike App: Find the nearest Boris Bike, and get riding! <A HREF="http://goo.gl/Icp2">http://goo.gl/Icp2</A>
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010752.html">[MonoTouch] Dot net 4.5 and web Api
</A></li>
	<LI>Next message: <A HREF="010766.html">[MonoTouch] Dot net 4.5 and web Api
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10765">[ date ]</a>
              <a href="thread.html#10765">[ thread ]</a>
              <a href="subject.html#10765">[ subject ]</a>
              <a href="author.html#10765">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
