<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Create a Custom Rating Analyzer Bar with CoreGraphics Help Needed Urgently ---
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Create%20a%20Custom%20Rating%20Analyzer%20Bar%20with%20CoreGraphics%0A%20Help%20Needed%20Urgently%20---&In-Reply-To=%3C1342181663750-4655957.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010701.html">
   <LINK REL="Next"  HREF="010707.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Create a Custom Rating Analyzer Bar with CoreGraphics Help Needed Urgently ---</H1>
    <B>proindigo</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Create%20a%20Custom%20Rating%20Analyzer%20Bar%20with%20CoreGraphics%0A%20Help%20Needed%20Urgently%20---&In-Reply-To=%3C1342181663750-4655957.post%40n4.nabble.com%3E"
       TITLE="[MonoTouch] Create a Custom Rating Analyzer Bar with CoreGraphics Help Needed Urgently ---">pro_indigo at live.com
       </A><BR>
    <I>Fri Jul 13 12:14:23 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010701.html">[MonoTouch] A little help converting a ObjC example
</A></li>
        <LI>Next message: <A HREF="010707.html">[MonoTouch] ObjectDisposedException Help?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10710">[ date ]</a>
              <a href="thread.html#10710">[ thread ]</a>
              <a href="subject.html#10710">[ subject ]</a>
              <a href="author.html#10710">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello and Greetings.

I am trying to develop a rating analyzer application. I have placed a
UIImageView, a slider control, and a simple button on a screen. My logic is
that as the user slides the slider control either up or down and then click
on the button, the UIImageView will render a horizontal bar which will be
partially filled with some color [obviously there will be a base color and a
top color for this bar] depending on the value of the slider. I have
developed some code, after doing a hell of a lot of googling gathering
resources from here and there, but as it stands I am not getting any output.
The bar is not getting created. The image view is totally blank. I am
totally new to IOS App Development. In .Net I have scarcely used GDI+, so my
foundations are not that strong. Please help me rectify the situation by
spotting the errors in my code block. I really need some active help on this
one. Here are the code blocks that I am using :

The code that is supposed to create the image object--&gt;

private UIImage makeProgressImage (int width, int height, float progress,
CGColor baseColor, CGColor topColor)
		{
			CGBitmapContext ctx = new CGBitmapContext (IntPtr.Zero, width, height, 8,
4 * width, CGColorSpace.CreateDeviceRGB (),
CGImageAlphaInfo.PremultipliedFirst);
			
			ctx.SetFillColor(baseColor);
			ctx.FillRect (new RectangleF (0, 0, width, height));
			
			float percentWidth = width * progress;
			
			ctx.SetFillColor(topColor);
			ctx.FillRect (new RectangleF (0, 0, percentWidth, height));
			
			return UIImage.FromImage (ctx.ToImage ());
		}


The functions that are presetting the base color and top colors for the bar
-&gt;

private CGColor getTopColor ()
		{

			return new CGColor (10, 12, 25);
		}


		private CGColor getBaseColor ()
		{
			return new CGColor (20, 24, 50);
		}

Finally the function call in my Button click event --&gt;

partial void basicTouch (MonoTouch.UIKit.UIButton sender)
		{
			image.Image = makeProgressImage ((int)image.Bounds.Width - 20, 30,
percentage.Value, getBaseColor (), getTopColor ());
		}

See the screen shot for easier understanding:

<A HREF="http://monotouch.2284126.n4.nabble.com/file/n4655957/shot.png">http://monotouch.2284126.n4.nabble.com/file/n4655957/shot.png</A> 

In the blank space there's supposed to be the horizontal bar rendered, where
I have placed my UIImageView control.


Please help me. 
Many Thanks.

--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Create-a-Custom-Rating-Analyzer-Bar-with-CoreGraphics-Help-Needed-Urgently-tp4655957.html">http://monotouch.2284126.n4.nabble.com/Create-a-Custom-Rating-Analyzer-Bar-with-CoreGraphics-Help-Needed-Urgently-tp4655957.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010701.html">[MonoTouch] A little help converting a ObjC example
</A></li>
	<LI>Next message: <A HREF="010707.html">[MonoTouch] ObjectDisposedException Help?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10710">[ date ]</a>
              <a href="thread.html#10710">[ thread ]</a>
              <a href="subject.html#10710">[ subject ]</a>
              <a href="author.html#10710">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
