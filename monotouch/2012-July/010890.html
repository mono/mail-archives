<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Compiler crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Compiler%20crash&In-Reply-To=%3C033601cd69ab%2408595a10%24190c0e30%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010889.html">
   <LINK REL="Next"  HREF="010888.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Compiler crash</H1>
    <B>Randy Ficker</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Compiler%20crash&In-Reply-To=%3C033601cd69ab%2408595a10%24190c0e30%24%40gmail.com%3E"
       TITLE="[MonoTouch] Compiler crash">randyficker at gmail.com
       </A><BR>
    <I>Tue Jul 24 14:45:54 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010889.html">[MonoTouch] Compiler crash
</A></li>
        <LI>Next message: <A HREF="010888.html">[MonoTouch] New Xamarin website, and funding announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10890">[ date ]</a>
              <a href="thread.html#10890">[ thread ]</a>
              <a href="subject.html#10890">[ subject ]</a>
              <a href="author.html#10890">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Nic,

Yes, it does look like it repros in a console app too. I filed bug <A HREF="https://bugzilla.xamarin.com/show_bug.cgi?id=6252">https://bugzilla.xamarin.com/show_bug.cgi?id=6252</A> and I'll email support if I don't hear back relatively soon.

Thanks for the reply!

-----Original Message-----
From: Nic Wise [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">nicw at fastchicken.co.nz</A>] 
Sent: Tuesday, July 24, 2012 7:16 AM
To: Randy Ficker
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
Subject: Re: [MonoTouch] Compiler crash

Hi Randy

I'd suggest you raise a bug at <A HREF="https://bugzilla.xamarin.com/">https://bugzilla.xamarin.com/</A> - that will get the quickest response, and you have all the info needed to make a good bug report :) .

If it's super urgent (sounds like it is!) also email <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">support at xamarin.com</A> and link to the bug.

Can you reproduce this with just Mono? ie, do a console app with the same, does it also crash out?

It looks (from the dump) like a compiler error, rather than a monotouch error. But I'm not sure - I think you need someone on the compiler team to verify it :)

Cheers

Nic


On Tue, Jul 24, 2012 at 2:26 PM, Randy Ficker &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">randyficker at gmail.com</A>&gt; wrote:
&gt;<i> In the middle of developing a large MonoTouch app, I started getting 
</I>&gt;<i> the &#8220;The compiler appears to have crashed&#8221; error.  This was 
</I>&gt;<i> frustrating because it gave no indication as to where in my code the 
</I>&gt;<i> issue was, and it still crashed even after undoing my recent changes.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> After spending considerable time ripping code out of the project, I 
</I>&gt;<i> was able to make a short repro:  (it&#8217;s a large project at over 400k 
</I>&gt;<i> lines, so don&#8217;t ask how long it took to narrow it down to this J)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> struct SomeStruct1
</I>&gt;<i>
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i>        SomeStruct2 One;
</I>&gt;<i>
</I>&gt;<i>        SomeStruct2 Two;
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> struct SomeStruct2
</I>&gt;<i>
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> class SomeClass
</I>&gt;<i>
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i>        SomeStruct1? foo;
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I hope you guys can provide me work a work-around to this ASAP, as I&#8217;m 
</I>&gt;<i> currently out of commission until I can get my project to build.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> All components are up-to-date with the &#8220;stable&#8221; channel.  &#8220;smcs --version&#8221;
</I>&gt;<i> gives 2.10.7.0.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Here are the complete repro steps:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 1.       Make a new iPhone project (I used the &#8220;Empty Project&#8221; template)
</I>&gt;<i>
</I>&gt;<i> 2.       Paste the code above into Main.cs
</I>&gt;<i>
</I>&gt;<i> 3.       Build, and you&#8217;ll get the following error:  (full build output
</I>&gt;<i> visible at <A HREF="http://pastebin.com/CMRBkkB4">http://pastebin.com/CMRBkkB4</A> )
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> * Assertion at ../../../../../mono/mono/metadata/class.c:1740, 
</I>&gt;<i> condition `class-&gt;image-&gt;dynamic || field-&gt;offset &gt; 0' not met at 
</I>&gt;<i> (wrapper managed-to-native) 
</I>&gt;<i> System.Reflection.Emit.TypeBuilder.create_runtime_class
</I>&gt;<i> (System.Reflection.Emit.TypeBuilder,System.Reflection.Emit.TypeBuilder
</I>&gt;<i> )
</I>&gt;<i> &lt;0xffffffff&gt;
</I>&gt;<i>
</I>&gt;<i> 1.    at System.Reflection.Emit.TypeBuilder.CreateType () &lt;0x0039f&gt;
</I>&gt;<i>
</I>&gt;<i> 2.    at Mono.CSharp.TypeContainer.CloseType () &lt;0x0019b&gt;
</I>&gt;<i>
</I>&gt;<i> 3.    at Mono.CSharp.ModuleContainer.CloseType () &lt;0x00080&gt;
</I>&gt;<i>
</I>&gt;<i> 4.    at Mono.CSharp.Driver.Compile () &lt;0x0047e&gt;
</I>&gt;<i>
</I>&gt;<i> 5.    at Mono.CSharp.Driver.Main (string[]) &lt;0x000af&gt;
</I>&gt;<i>
</I>&gt;<i> 6.    at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_int_object
</I>&gt;<i> (object,intptr,intptr,intptr) &lt;0xffffffff&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Any help is greatly appreciated!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>


--
Nic Wise
t.  +44 7788 592 806 | @fastchicken | <A HREF="http://www.linkedin.com/in/nicwise">http://www.linkedin.com/in/nicwise</A>
b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A>

mobileAgent (for FreeAgent): get your accounts in your pocket.
<A HREF="http://goo.gl/IuBU">http://goo.gl/IuBU</A>
Trip Wallet: Keep track of your budget on the go: <A HREF="http://goo.gl/ePhKa">http://goo.gl/ePhKa</A>
Earnest: Self-employed? Track your business expenses and income.
<A HREF="http://earnestapp.com">http://earnestapp.com</A>
Nearest Bus: find when the next bus is coming to your stop. <A HREF="http://goo.gl/Vcz1p">http://goo.gl/Vcz1p</A> London Bike App: Find the nearest Boris Bike, and get riding! <A HREF="http://goo.gl/Icp2">http://goo.gl/Icp2</A>

</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010889.html">[MonoTouch] Compiler crash
</A></li>
	<LI>Next message: <A HREF="010888.html">[MonoTouch] New Xamarin website, and funding announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10890">[ date ]</a>
              <a href="thread.html#10890">[ thread ]</a>
              <a href="subject.html#10890">[ subject ]</a>
              <a href="author.html#10890">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
