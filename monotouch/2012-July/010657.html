<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] ALAssetsLibrary - AddAssetsGroupAlbum Block Returns Invalid ALAssetsGroup Object
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20ALAssetsLibrary%20-%20AddAssetsGroupAlbum%20Block%20Returns%0A%20Invalid%20ALAssetsGroup%20Object&In-Reply-To=%3C1341942221225-4655909.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010648.html">
   <LINK REL="Next"  HREF="010761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] ALAssetsLibrary - AddAssetsGroupAlbum Block Returns Invalid ALAssetsGroup Object</H1>
    <B>Jim Crismale</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20ALAssetsLibrary%20-%20AddAssetsGroupAlbum%20Block%20Returns%0A%20Invalid%20ALAssetsGroup%20Object&In-Reply-To=%3C1341942221225-4655909.post%40n4.nabble.com%3E"
       TITLE="[MonoTouch] ALAssetsLibrary - AddAssetsGroupAlbum Block Returns Invalid ALAssetsGroup Object">jim.crismale at canfieldsci.com
       </A><BR>
    <I>Tue Jul 10 17:43:41 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010648.html">[MonoTouch] Try/Catch ok?
</A></li>
        <LI>Next message: <A HREF="010761.html">[MonoTouch] ALAssetsLibrary - AddAssetsGroupAlbum Block Returns Invalid ALAssetsGroup Object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10657">[ date ]</a>
              <a href="thread.html#10657">[ thread ]</a>
              <a href="subject.html#10657">[ subject ]</a>
              <a href="author.html#10657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Is there a best practice code example demonstrating how to use the
ALAssetsLibrary, specifically with adding new asset groups and adding photos
to them?


I've seen a few samples out there, but none of them seem to handle the async
nature of these methods properly and I am running into difficulty with what
should be an extremely simple task.


In the code example below, 50% of the time the newly added group has one or
more null property values, preventing the image from being added to the new
group. According to Apple's docs, you are supposed to do &quot;work&quot; with the
object received in the block but I can't see how you can when it is in an
invalid state.


I set up an observer to detect when the &quot;ALAssetsLibraryChangedNotification&quot;
gets fired to reload (as suggested on SO) and determined that there were
many times this notification did not get fired between the time of the call
and the addition of the new object which was returned in an invalid state.


I've tried re-enumerating after adding with sleep timers and pulling the
object out that way, but apparently it still wasn't &quot;ready&quot; with all of it's
property values yet.




There has to be an easy way to do this. Appreciate any help!




--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/ALAssetsLibrary-AddAssetsGroupAlbum-Block-Returns-Invalid-ALAssetsGroup-Object-tp4655909.html">http://monotouch.2284126.n4.nabble.com/ALAssetsLibrary-AddAssetsGroupAlbum-Block-Returns-Invalid-ALAssetsGroup-Object-tp4655909.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120710/26e3e021/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120710/26e3e021/attachment.html</A>&gt;
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010648.html">[MonoTouch] Try/Catch ok?
</A></li>
	<LI>Next message: <A HREF="010761.html">[MonoTouch] ALAssetsLibrary - AddAssetsGroupAlbum Block Returns Invalid ALAssetsGroup Object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10657">[ date ]</a>
              <a href="thread.html#10657">[ thread ]</a>
              <a href="subject.html#10657">[ subject ]</a>
              <a href="author.html#10657">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
