<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] UIWebView different behavior between devices with iOS5 and lower than iOS5 in combination with both SDK 4.3 and SDK 5.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20UIWebView%20different%20behavior%20between%20devices%20with%20iOS5%0A%20and%20lower%20than%20iOS5%20in%20combination%20with%20both%20SDK%204.3%20and%20SDK%205.0&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005948.html">
   <LINK REL="Next"  HREF="006125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] UIWebView different behavior between devices with iOS5 and lower than iOS5 in combination with both SDK 4.3 and SDK 5.0</H1>
    <B>Danny Pronk</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20UIWebView%20different%20behavior%20between%20devices%20with%20iOS5%0A%20and%20lower%20than%20iOS5%20in%20combination%20with%20both%20SDK%204.3%20and%20SDK%205.0&In-Reply-To="
       TITLE="[MonoTouch] UIWebView different behavior between devices with iOS5 and lower than iOS5 in combination with both SDK 4.3 and SDK 5.0">dpronk at probe-asp.eu
       </A><BR>
    <I>Thu Oct 20 08:37:44 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005948.html">[MonoTouch] Crashes when debugger NOT connected?!
</A></li>
        <LI>Next message: <A HREF="006125.html">[MonoTouch] Monotouch App will not launch on Device but works in	Simulator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5949">[ date ]</a>
              <a href="thread.html#5949">[ thread ]</a>
              <a href="subject.html#5949">[ subject ]</a>
              <a href="author.html#5949">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I have a UIWebView on my main window and a delegate attached to that
UIWebView.
Inside the Delegate I am using the ShouldStartLoad override to handle some
stuff internally instead of doing an actual navigation.
So when I do something internally i return false and if I want the request
to handle stuff normally i return true;

So far so good and the application has been working well on all iOS versions
below 5.
With iOS5 I have the following behavior all of a sudden.

On the first click inside (let's say a hyperlink) things work as expected.
But when i click a different (second) hyperlink, the ShouldStartload is
actually fired twice!!!
One time with the PREVIOUS request and then the second time with the newly
clicked link information.

Can anybody tell me what I did wrong or how to get rid of this behavior
please!

public override bool ShouldStartLoad (UIWebView webView, NSUrlRequest
request, UIWebViewNavigationType navigationType)

{

//We only check if the action in UIWebView is of the type that a LINK is
clicked!

//So it will only work with actual Hyperlinks! NOT WITH

if (navigationType == UIWebViewNavigationType.LinkClicked)

{

 string url = request.Url.AbsoluteString;

 //Here i do some custom stuff so I don't have to navigate further

        //On iOS5, when you click a second LINK the ShouldStartLoad is fired
twice!

                //First time with the previous clicked link and second time

 //with the actual intended link.



 //And finally i return false; to cancel the operation

return false;

}

else

{

return true;

}

Help would be greatly appreciated

Regards

Danny


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20111020/21965003/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20111020/21965003/attachment.html</A> 
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005948.html">[MonoTouch] Crashes when debugger NOT connected?!
</A></li>
	<LI>Next message: <A HREF="006125.html">[MonoTouch] Monotouch App will not launch on Device but works in	Simulator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5949">[ date ]</a>
              <a href="thread.html#5949">[ thread ]</a>
              <a href="subject.html#5949">[ subject ]</a>
              <a href="author.html#5949">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
