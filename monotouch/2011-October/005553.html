<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Weird exception
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Weird%20exception&In-Reply-To=DD088E6E0805DA4ABF0235F11CD07D6F2ED798E0%40SXSLAKL002.xceptionsoftware.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005551.html">
   <LINK REL="Next"  HREF="005558.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Weird exception</H1>
    <B>Jeff Stedfast</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Weird%20exception&In-Reply-To=DD088E6E0805DA4ABF0235F11CD07D6F2ED798E0%40SXSLAKL002.xceptionsoftware.com"
       TITLE="[MonoTouch] Weird exception">jeff at xamarin.com
       </A><BR>
    <I>Thu Oct  6 18:31:36 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005551.html">[MonoTouch] Problems with mtouch arguments
</A></li>
        <LI>Next message: <A HREF="005558.html">[MonoTouch] Weird exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5553">[ date ]</a>
              <a href="thread.html#5553">[ thread ]</a>
              <a href="subject.html#5553">[ subject ]</a>
              <a href="author.html#5553">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dean,

Did you ever get this resolved? If not, could you submit a bug report to
<A HREF="http://bugzilla.xamarin.com">http://bugzilla.xamarin.com</A> (preferably with a sample test case) so that
someone can look deeper into this issue? Unfortunately, like you, I'm not
seeing anything obviously wrong in the code snippet you provided.

Thanks!

Jeff

On Wed, Sep 28, 2011 at 11:47 PM, Dean Cleaver &lt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>&gt; wrote:

&gt;<i>  Hi,****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> I&#8217;m getting this exception reported to me:****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> System.ObjectDisposedException: The object was used after being disposed.*
</I>&gt;<i> ***
</I>&gt;<i>
</I>&gt;<i>   at MonoTouch.AVFoundation.InternalAVAudioPlayerDelegate.FinishedPlaying
</I>&gt;<i> (MonoTouch.AVFoundation.AVAudioPlayer player, Boolean flag) [0x00000] in
</I>&gt;<i> &lt;filename unknown&gt;:0 ****
</I>&gt;<i>
</I>&gt;<i>   at MonoTouch.UIKit.UIApplication.Main (System.String[] args,
</I>&gt;<i> System.String principalClassName, System.String delegateClassName) [0x00000]
</I>&gt;<i> in &lt;filename unknown&gt;:0 ****
</I>&gt;<i>
</I>&gt;<i>   at KleverLogic.FlashValet.iPhone.Valet.Application.Main (System.String[]
</I>&gt;<i> args) [0x000ed] in
</I>&gt;<i> /xsl-home/kleverlogic/FlashValet20110906/Mobile/iPhone/Valet/Main.cs:62 **
</I>&gt;<i> **
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> No &#8211; only lines of code that are mine is the &#8220;Main&#8221; function in the
</I>&gt;<i> Application.****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> I&#8217;ve searched the entire solution for &#8220;FinishedPlaying&#8221; and every reference
</I>&gt;<i> to that event has error handling, and specifically handles
</I>&gt;<i> ObjectDisposedException. For example:****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> private static void HandlePlayerhandleFinishedPlaying (object sender,
</I>&gt;<i> AVStatusEventArgs e)****
</I>&gt;<i>
</I>&gt;<i> {****
</I>&gt;<i>
</I>&gt;<i>                 try****
</I>&gt;<i>
</I>&gt;<i>                 {****
</I>&gt;<i>
</I>&gt;<i>                                 if (player != null)****
</I>&gt;<i>
</I>&gt;<i>                                                 player.Dispose();****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i>                                 player = null;****
</I>&gt;<i>
</I>&gt;<i>                 }****
</I>&gt;<i>
</I>&gt;<i>                 catch (ObjectDisposedException)****
</I>&gt;<i>
</I>&gt;<i>                 {****
</I>&gt;<i>
</I>&gt;<i>                                 player = null;****
</I>&gt;<i>
</I>&gt;<i>                 }****
</I>&gt;<i>
</I>&gt;<i>                 catch (Exception ex)****
</I>&gt;<i>
</I>&gt;<i>                 {****
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> AppDelegate.CurrentAppDelegate.SendError(ex);****
</I>&gt;<i>
</I>&gt;<i>                 }****
</I>&gt;<i>
</I>&gt;<i> }****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> How is this possible? There&#8217;s only 2 effectively identical functions in my
</I>&gt;<i> code. The other one checks a static Boolean, and if set calls Play() again &#8211;
</I>&gt;<i> but has the same ObjectDisposedException trap, yet somehow I am still
</I>&gt;<i> getting error reports back from the SendError function.****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> Looks to me like the exception is actually something in the MonoTouch.AVFoundation.InternalAVAudioPlayerDelegate.FinishedPlaying
</I>&gt;<i> (MonoTouch.AVFoundation.AVAudioPlayer player, Boolean flag) function, and
</I>&gt;<i> not in my code?****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> This is all new with MonoTouch 4.2 &#8211; this exact code (actually, without the
</I>&gt;<i> ObjectDisposedExceptions) has been working perfectly for a while now on
</I>&gt;<i> 4.0.6.****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> Dino****
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20111006/bd129fe3/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20111006/bd129fe3/attachment.html</A> 
</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005551.html">[MonoTouch] Problems with mtouch arguments
</A></li>
	<LI>Next message: <A HREF="005558.html">[MonoTouch] Weird exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5553">[ date ]</a>
              <a href="thread.html#5553">[ thread ]</a>
              <a href="subject.html#5553">[ subject ]</a>
              <a href="author.html#5553">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
