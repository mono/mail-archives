<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] SIGSEGV while executing native code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20SIGSEGV%20while%20executing%20native%20code&In-Reply-To=CAEySM9HHiVgZQM5x9J4bFMRurs100F6YPKk8HBe%3DFOSuKcM3zQ%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005572.html">
   <LINK REL="Next"  HREF="005574.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] SIGSEGV while executing native code</H1>
    <B>Guido Van Hoecke</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20SIGSEGV%20while%20executing%20native%20code&In-Reply-To=CAEySM9HHiVgZQM5x9J4bFMRurs100F6YPKk8HBe%3DFOSuKcM3zQ%40mail.gmail.com"
       TITLE="[MonoTouch] SIGSEGV while executing native code">guivho at gmail.com
       </A><BR>
    <I>Fri Oct  7 06:59:11 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005572.html">[MonoTouch] SIGSEGV while executing native code
</A></li>
        <LI>Next message: <A HREF="005574.html">[MonoTouch] SIGSEGV while executing native code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5573">[ date ]</a>
              <a href="thread.html#5573">[ thread ]</a>
              <a href="subject.html#5573">[ subject ]</a>
              <a href="author.html#5573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Oct 7, 2011 at 12:56, Guido Van Hoecke &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">guivho at gmail.com</A>&gt; wrote:
&gt;<i> Can somebody explain following error?
</I>&gt;<i>
</I>&gt;<i> I get sigsegv errors in an app under development. I separated the
</I>&gt;<i> 'offending' code to demonstrate the problem. Just create a new
</I>&gt;<i> empty monotouch project and replace the FinishedLaunching method:
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; &#160; &#160;public override bool FinishedLaunching (UIApplication app,
</I>&gt;<i> NSDictionary options)
</I>&gt;<i> &#160; &#160; &#160; &#160;{
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;window = new UIWindow (UIScreen.MainScreen.Bounds);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;var view = new &#160;UIView(UIScreen.MainScreen.Bounds);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;var label = new UILabel(new RectangleF(0, 0,
</I>&gt;<i> view.Bounds.Size.Width, view.Bounds.Size.Height));
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;label.TextAlignment = UITextAlignment.Center;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;label.Text = &quot;hi there&quot;;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;view.AddSubview(label);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;var toolBar = new UIToolbar (
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;new RectangleF(0, view.Bounds.Size.Height - 44f,
</I>&gt;<i> view.Bounds.Size.Width, 44f));
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;var button = new UIBarButtonItem {
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;Title = &quot;button&quot;,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;Style = UIBarButtonItemStyle.Bordered };
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;button.Clicked += delegate {
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;using (var alert = new UIAlertView {Title = &quot;alert&quot;,
</I>&gt;<i> Message = &quot;message&quot; }) {
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;alert.AddButton(&quot;yes&quot;);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;alert.AddButton(&quot;no&quot;);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;alert.Clicked += delegate(object sender,
</I>&gt;<i> UIButtonEventArgs e) {
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;if (e.ButtonIndex == 0) {
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;label.Text = &quot;we got a 'yes'&quot;;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;} else {
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;label.Text = &quot;too bad...&quot;;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;}
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;};
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;alert.Show();
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;}
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;};
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;var flex = new UIBarButtonItem(UIBarButtonSystemItem.FlexibleSpace);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;toolBar.SetItems(new[] {flex, button, flex}, false);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;view.AddSubview(toolBar);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;window.AddSubview (view);
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;window.MakeKeyAndVisible ();
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;return true;
</I>&gt;<i> &#160; &#160; &#160; &#160;}
</I>&gt;<i>
</I>&gt;<i> When you run this app from MD, either targeting
</I>&gt;<i> Release/iPhoneSimulator or Debug/iPhoneSimulator, the app
</I>&gt;<i> randomly crashes when hitting the 'button' or one of the 'yes' or
</I>&gt;<i> 'no' buttons on the alertview. Funny thing is that the app does
</I>&gt;<i> not crash when started from the simulator. It works just fine
</I>&gt;<i> then. The error only occurs when running under control of MD.
</I>&gt;<i>
</I>&gt;<i> This is probably a Garbage Collector error. The error happens at
</I>&gt;<i> different times: sometimes only when hitting the 'yes' or 'no'
</I>&gt;<i> button, sometimes even after showing the alertview, before a
</I>&gt;<i> button can be pressed.
</I>&gt;<i>
</I>&gt;<i> Stacktrace:
</I>&gt;<i>
</I>&gt;<i> &#160;at (wrapper managed-to-native)
</I>&gt;<i> MonoTouch.UIKit.UIApplication.UIApplicationMain
</I>&gt;<i> (int,string[],intptr,intptr) &lt;IL 0x0009f, 0xffffffff&gt;
</I>&gt;<i> &#160;at MonoTouch.UIKit.UIApplication.Main (string[],string,string)
</I>&gt;<i> [0x00042] in /Developer/MonoTouch/Source/monotouch/src/UIKit/UIApplication.cs:29
</I>&gt;<i> &#160;at Sigsegv.Application.Main (string[]) &lt;IL 0x00007, 0x00017&gt;
</I>&gt;<i> &#160;at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_void_object
</I>&gt;<i> (object,intptr,intptr,intptr) &lt;IL 0x00050, 0xffffffff&gt;
</I>&gt;<i>
</I>&gt;<i> Native stacktrace:
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; &#160; &#160;0 &#160; Sigsegv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x000d1e9c
</I>&gt;<i> mono_handle_native_sigsegv + 343
</I>&gt;<i> &#160; &#160; &#160; &#160;1 &#160; Sigsegv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x000100e0
</I>&gt;<i> mono_sigsegv_signal_handler + 322
</I>&gt;<i> &#160; &#160; &#160; &#160;2 &#160; libsystem_c.dylib &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x99b8659b _sigtramp + 43
</I>&gt;<i> &#160; &#160; &#160; &#160;3 &#160; ??? &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0xffffffff 0x0 + 4294967295
</I>&gt;<i> &#160; &#160; &#160; &#160;4 &#160; UIKit &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x01cd84fd -[UIApplication
</I>&gt;<i> sendAction:to:from:forEvent:] + 119
</I>&gt;<i> &#160; &#160; &#160; &#160;5 &#160; UIKit &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x01d68799 -[UIControl
</I>&gt;<i> sendAction:to:forEvent:] + 67
</I>&gt;<i> &#160; &#160; &#160; &#160;6 &#160; UIKit &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x01d6ac2b
</I>&gt;<i> -[UIControl(Internal) _sendActionsForEvents:withEvent:] + 527
</I>&gt;<i> &#160; &#160; &#160; &#160;7 &#160; UIKit &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x01d697d8 -[UIControl
</I>&gt;<i> touchesEnded:withEvent:] + 458
</I>&gt;<i> &#160; &#160; &#160; &#160;8 &#160; UIKit &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x01cfcded -[UIWindow
</I>&gt;<i> _sendTouchesForEvent:] + 567
</I>&gt;<i> &#160; &#160; &#160; &#160;9 &#160; UIKit &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x01cddc37 -[UIApplication
</I>&gt;<i> sendEvent:] + 447
</I>&gt;<i> &#160; &#160; &#160; &#160;10 &#160;UIKit &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x01ce2f2e
</I>&gt;<i> _UIApplicationHandleEvent + 7576
</I>&gt;<i> &#160; &#160; &#160; &#160;11 &#160;GraphicsServices &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x04053992 PurpleEventCallback + 1550
</I>&gt;<i> &#160; &#160; &#160; &#160;12 &#160;CoreFoundation &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x00ea6944
</I>&gt;<i> __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 52
</I>&gt;<i> &#160; &#160; &#160; &#160;13 &#160;CoreFoundation &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x00e06cf7 __CFRunLoopDoSource1 + 215
</I>&gt;<i> &#160; &#160; &#160; &#160;14 &#160;CoreFoundation &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x00e03f83 __CFRunLoopRun + 979
</I>&gt;<i> &#160; &#160; &#160; &#160;15 &#160;CoreFoundation &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x00e03840 CFRunLoopRunSpecific + 208
</I>&gt;<i> &#160; &#160; &#160; &#160;16 &#160;CoreFoundation &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x00e03761 CFRunLoopRunInMode + 97
</I>&gt;<i> &#160; &#160; &#160; &#160;17 &#160;GraphicsServices &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x040521c4 GSEventRunModal + 217
</I>&gt;<i> &#160; &#160; &#160; &#160;18 &#160;GraphicsServices &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x04052289 GSEventRun + 115
</I>&gt;<i> &#160; &#160; &#160; &#160;19 &#160;UIKit &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x01ce6c93 UIApplicationMain + 1160
</I>&gt;<i> &#160; &#160; &#160; &#160;20 &#160;??? &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x077f6b0c 0x0 + 125790988
</I>&gt;<i> &#160; &#160; &#160; &#160;21 &#160;??? &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x077f5db8 0x0 + 125787576
</I>&gt;<i> &#160; &#160; &#160; &#160;22 &#160;??? &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x077f5c50 0x0 + 125787216
</I>&gt;<i> &#160; &#160; &#160; &#160;23 &#160;??? &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x077f5cdf 0x0 + 125787359
</I>&gt;<i> &#160; &#160; &#160; &#160;24 &#160;Sigsegv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x0000fe9b
</I>&gt;<i> mono_jit_runtime_invoke + 1332
</I>&gt;<i> &#160; &#160; &#160; &#160;25 &#160;Sigsegv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x001ee961 mono_runtime_invoke + 137
</I>&gt;<i> &#160; &#160; &#160; &#160;26 &#160;Sigsegv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x001f1048 mono_runtime_exec_main + 669
</I>&gt;<i> &#160; &#160; &#160; &#160;27 &#160;Sigsegv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x001f0432 mono_runtime_run_main + 843
</I>&gt;<i> &#160; &#160; &#160; &#160;28 &#160;Sigsegv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x000a3f9e mono_jit_exec + 200
</I>&gt;<i> &#160; &#160; &#160; &#160;29 &#160;Sigsegv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x002a3d21 main + 3733
</I>&gt;<i> &#160; &#160; &#160; &#160;30 &#160;Sigsegv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x00003179 _start + 208
</I>&gt;<i> &#160; &#160; &#160; &#160;31 &#160;Sigsegv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x000030a8 start + 40
</I>&gt;<i>
</I>&gt;<i> =================================================================
</I>&gt;<i> Got a SIGSEGV while executing native code. This usually indicates
</I>&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;<i> used by your application.
</I>&gt;<i> =================================================================
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Any help or advice, any one?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Guido.
</I>&gt;<i>
</I>(forgot to mention: running MD 2.8, Mono 2.10.5, OSX 10.7.1)
</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005572.html">[MonoTouch] SIGSEGV while executing native code
</A></li>
	<LI>Next message: <A HREF="005574.html">[MonoTouch] SIGSEGV while executing native code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5573">[ date ]</a>
              <a href="thread.html#5573">[ thread ]</a>
              <a href="subject.html#5573">[ subject ]</a>
              <a href="author.html#5573">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
