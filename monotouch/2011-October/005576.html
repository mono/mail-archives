<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Multi-lingual
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Multi-lingual&In-Reply-To=CAFst4ZjJP6AvyauYW9JD4GEx2v9XP-k79Wu6rWt7RiUhy5k7Ug%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005571.html">
   <LINK REL="Next"  HREF="005580.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Multi-lingual</H1>
    <B>G&#246;ran Halvarsson</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Multi-lingual&In-Reply-To=CAFst4ZjJP6AvyauYW9JD4GEx2v9XP-k79Wu6rWt7RiUhy5k7Ug%40mail.gmail.com"
       TITLE="[MonoTouch] Multi-lingual">goranhalvarsson at gmail.com
       </A><BR>
    <I>Fri Oct  7 09:35:06 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005571.html">[MonoTouch] Multi-lingual
</A></li>
        <LI>Next message: <A HREF="005580.html">[MonoTouch] Multi-lingual
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5576">[ date ]</a>
              <a href="thread.html#5576">[ thread ]</a>
              <a href="subject.html#5576">[ subject ]</a>
              <a href="author.html#5576">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello

I made something similar, but in stead of using DB I used good old
localizable folders:
sv.proj
--Localizable.strings
en.proj
--Localizable.strings

In the &quot;swedish&quot; Localizable.strings:
&quot;Offers&quot; = &quot;Erbjudande&quot;;
&quot;Barcode&quot; = &quot;Streckkod&quot;

Display a label:
Locale.GetText (&quot;Offers&quot;);

Switch Language, let say you have a settings view where you select a language:
Locale.ChangeCulture(MyApp.Instance.CurrentUser.Culture);

Don't forget to reload your view after the &quot;switch&quot;. I did a flip
animation to spice it up...
Task.Factory.StartNew( () =&gt; ReloadView() );


private void ReloadView()
{
	InvokeOnMainThread(delegate {
					
		//Flip the view
		UIView.BeginAnimations(&quot;Flipper&quot;);
		UIView.SetAnimationDuration(1.25);
		UIView.SetAnimationCurve(UIViewAnimationCurve.EaseInOut);
		UIView.SetAnimationTransition
(UIViewAnimationTransition.FlipFromRight, _tabbarController.View ,
true);
		_tabbarController.ViewWillDisappear(true);
		_tabbarController.ViewWillAppear(true);
		UIView.CommitAnimations();
			
	});
}


The class:
public static class Locale
{
		
	public static CultureInfo DefaultCultureInfo = new CultureInfo(&quot;sv-SE&quot;);
	private static CultureInfo _currentCultureInfo = DefaultCultureInfo;
		
		
	public static void ChangeCulture(string cultureInfo)
	{
		_currentCultureInfo = new CultureInfo(cultureInfo);
	}
		
	public static CultureInfo GetPhoneCultureInfo()
	{
		return new CultureInfo(NSLocale.CurrentLocale.LocaleIdentifier.Replace(&quot;_&quot;,&quot;-&quot;));
	}
		
		
	public static string GetText (string str)
	{
		string path = null;
		path = NSBundle.MainBundle.PathForResource(_currentCultureInfo.TwoLetterISOLanguageName.ToLower(),&quot;lproj&quot;);
		NSBundle languageBundle = NSBundle.FromPath(path);
			
		return languageBundle.LocalizedString(str,string.Empty);
			
	}
		

		
	public static string Format (string fmt, params object [] args)
	{
		fmt = NSBundle.MainBundle.LocalizedString(fmt,&quot;&quot;);
		return String.Format (fmt, args);
	}


    public static CultureInfo GetCultureInfo(string countryCode)
    {
        CultureInfo currentCulture = null;

        foreach (CultureInfo ci in
CultureInfo.GetCultures(CultureTypes.AllCultures))
        {

            if (ci.Name.ToLower().Contains(countryCode.ToLower()))
            {

                currentCulture = ci;
                break;
            }



        }

        return currentCulture;

    }
}
		
That's it really...
(I must say that I just love the System.Threading.Task.Factory:
<A HREF="http://www.codethinked.com/net-40-and-systemthreadingtasks">http://www.codethinked.com/net-40-and-systemthreadingtasks</A>)

I hope it will help you.

Br
G&#246;ran
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005571.html">[MonoTouch] Multi-lingual
</A></li>
	<LI>Next message: <A HREF="005580.html">[MonoTouch] Multi-lingual
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5576">[ date ]</a>
              <a href="thread.html#5576">[ thread ]</a>
              <a href="subject.html#5576">[ subject ]</a>
              <a href="author.html#5576">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
