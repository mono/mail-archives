<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] CLLocationManager:locationServicesEnabled deprecated -&gt;	breaks on iPad, iOS3 phones
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20CLLocationManager%3AlocationServicesEnabled%20deprecated%20-%3E%0A%09breaks%20on%20iPad%2C%20iOS3%20phones&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002046.html">
   <LINK REL="Next"  HREF="002049.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] CLLocationManager:locationServicesEnabled deprecated -&gt;	breaks on iPad, iOS3 phones</H1>
    <B>Craig Dunn</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20CLLocationManager%3AlocationServicesEnabled%20deprecated%20-%3E%0A%09breaks%20on%20iPad%2C%20iOS3%20phones&In-Reply-To="
       TITLE="[MonoTouch] CLLocationManager:locationServicesEnabled deprecated -&gt;	breaks on iPad, iOS3 phones">craig.dunn at conceptdevelopment.net
       </A><BR>
    <I>Mon Jul 19 20:20:23 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002046.html">[MonoTouch] HttpListener on OS 4.0
</A></li>
        <LI>Next message: <A HREF="002049.html">[MonoTouch] CLLocationManager:locationServicesEnabled	deprecated -&gt; breaks on iPad, iOS3 phones
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2048">[ date ]</a>
              <a href="thread.html#2048">[ thread ]</a>
              <a href="subject.html#2048">[ subject ]</a>
              <a href="author.html#2048">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In iOS4, the locationServicesEnabled method was changed from an instance to
a class method (and the instance method was
deprecated&lt;<A HREF="http://developer.apple.com/iphone/library/documentation/CoreLocation/Reference/CLLocationManager_Class/DeprecationAppendix/AppendixADeprecatedAPI.html">http://developer.apple.com/iphone/library/documentation/CoreLocation/Reference/CLLocationManager_Class/DeprecationAppendix/AppendixADeprecatedAPI.html</A>&gt;
).

AFAICT, this means in iOS4 and above we are encouraged to use the class
method, but the instance method still exists for backward compatibility.
This seems to be true since my older apps (compiled against 3.2 and MT 2.x)
still work on iPad and iOS4.

However, MT3.x has totally removed the instance
method&lt;<A HREF="http://monotouch.net/Releases/API_Changes/2.0_to_3.0">http://monotouch.net/Releases/API_Changes/2.0_to_3.0</A>&gt;.
What this seems to mean is:

- an app compiled with MT2 using an (*instance of
CLLocationManager*).LocationServicesEnabled
will work on iOS3 and iOS4 (because even though it has been deprecated, it
still exists)
- if i update to MT3, the project will *not compile* unless i change the
instance method to a class method
call CLLocationManager.LocationServicesEnabled (which is bound to the obj-c
static method, which doesn't exist in OS3)
- once the code is updated for MT3, it will run on iOS4 BUT on iOS3 (older
phones+iPad) this error occurs:
Objective-C exception thrown.  Name: NSInvalidArgumentException Reason: ***
+[CLLocationManager locationServicesEnabled]: unrecognized selector sent to
class 0xe67e2ca

Am I missing something obvious?
tia
cd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20100720/23597fd0/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20100720/23597fd0/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002046.html">[MonoTouch] HttpListener on OS 4.0
</A></li>
	<LI>Next message: <A HREF="002049.html">[MonoTouch] CLLocationManager:locationServicesEnabled	deprecated -&gt; breaks on iPad, iOS3 phones
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2048">[ date ]</a>
              <a href="thread.html#2048">[ thread ]</a>
              <a href="subject.html#2048">[ subject ]</a>
              <a href="author.html#2048">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
