<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Page Control Not Showing on IPAD View ---
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Page%20Control%20Not%20Showing%20on%20IPAD%20View%20---&In-Reply-To=%3C1344422197482-4656425.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011179.html">
   <LINK REL="Next"  HREF="011164.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Page Control Not Showing on IPAD View ---</H1>
    <B>proindigo</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Page%20Control%20Not%20Showing%20on%20IPAD%20View%20---&In-Reply-To=%3C1344422197482-4656425.post%40n4.nabble.com%3E"
       TITLE="[MonoTouch] Page Control Not Showing on IPAD View ---">pro_indigo at live.com
       </A><BR>
    <I>Wed Aug  8 10:36:37 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011179.html">[MonoTouch] mprof-report call graphs and counts seem weird
</A></li>
        <LI>Next message: <A HREF="011164.html">[MonoTouch] Page Control Not Showing on IPAD View ---
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11163">[ date ]</a>
              <a href="thread.html#11163">[ thread ]</a>
              <a href="subject.html#11163">[ subject ]</a>
              <a href="author.html#11163">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello.

I am having some problems with pagecontrol and scrollview. I added these two
controls onto my xib file in IB, created the outlets, wired them up. I wrote
some code which is supposed to show images fetched from my sqlite database
by randomly generating an image view and adding it as a subview to the
scrollview. I am displaying this screen on touch event of a button. The
images are being displayed just fine, I am also able to flip through them as
expected. But the problem is my pagecontrol is simply not showing. The part
where I placed it is simply appearing blank. [see the attached image for
reference]. 

<A HREF="http://monotouch.2284126.n4.nabble.com/file/n4656425/pagectrl.png">http://monotouch.2284126.n4.nabble.com/file/n4656425/pagectrl.png</A> 

Here are some code blocks for the view controller.
***************************************************************
private void CreatePanels()
		{
			int count=GlobalVariables.AssemblyImageCount;
			ScrollView.Scrolled+=ScrollViewScrolled;
			RectangleF scrollframe=ScrollView.Frame;
			scrollframe.Width=scrollframe.Width*count;
			ScrollView.ContentSize=scrollframe.Size;
			List&lt;UIImage&gt; imglst=new List&lt;UIImage&gt;();
			imglst=objdbh.ReturnAssemblyImages (GlobalVariables.AssemblyID);
			for(int i=0; i&lt;imglst.Count; i++)
			{
				UIImageView imgvw=new UIImageView();
				RectangleF frame=ScrollView.Frame;
				imgvw.Image=imglst[i];
				imgvw.SizeToFit ();
				PointF location=new PointF();
				location.X=frame.Width*i;
				frame.Location=location;
				imgvw.Frame=frame;
				ScrollView.AddSubview (imgvw);
			}
			PageControl.Pages=count;
			PageControl.TouchUpInside+=HandlePageControlTouchUpInside;
		}



***************************************************************
CODE FOR FETCHING COLLECTION OF IMAGES::::::
public List&lt;UIImage&gt; ReturnAssemblyImages(int assemblyid)
		{
			this.CreateDBConnection ();
			List&lt;UIImage&gt; imglist=new List&lt;UIImage&gt;();
			try
			{
				string strimg=&quot;select Photo from Photo where PhotoOfflineID in (select
PhotoID from AssemblyPhoto where AssemblyID=&quot;+assemblyid+&quot;)&quot;;
				SqliteDataAdapter sda=new SqliteDataAdapter(strimg, sconn);
				DataSet ds=new DataSet();
				sda.Fill (ds);
				byte[] mybuffer=null;
				for(int y=0; y&lt;ds.Tables[0].Rows.Count; y++)
				{
					mybuffer=(byte[])(ds.Tables[0].Rows[y][&quot;Photo&quot;]);
					UIImage img= UIImage.LoadFromData (NSData.FromArray (mybuffer));
					imglist.Add (img);
				}
			}
			catch(Exception exp)
			{
				throw exp;
			}
			this.CloseDBConnection ();
			return imglist.ToList ();

		}

***************************************************************
private void ScrollViewScrolled(object sender, EventArgs e)
		{
			double page=Math.Floor
((ScrollView.ContentOffset.X-ScrollView.Frame.Width/2)/ScrollView.Frame.Width)+1;
			PageControl.CurrentPage=(int)page;
		}
***************************************************************

		public void HandlePageControlTouchUpInside(object sender, EventArgs e)
		{
			RectangleF Rect=new
RectangleF(ScrollView.Frame.Width*PageControl.CurrentPage,
ScrollView.Frame.Y, ScrollView.Frame.Width, ScrollView.Frame.Height);
			ScrollView.ScrollRectToVisible (Rect, true);
		}
***************************************************************


Now I have some confusions. Firstly I am not sure whether to place the
pagecontrol on the scrollview itself or simply on the view. Does it make a
difference? I need some clarification on this. Also could it be that because
I am generating the views based on results fetched from database it is
interfering with the presentation of the pagecontrol? 

Please help me out by providing me with some guidance and steering me in the
right direction.

Look forward to receiving all the help on this matter from our ever helpful
forum members.

Many Thanks.



--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Page-Control-Not-Showing-on-IPAD-View-tp4656425.html">http://monotouch.2284126.n4.nabble.com/Page-Control-Not-Showing-on-IPAD-View-tp4656425.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011179.html">[MonoTouch] mprof-report call graphs and counts seem weird
</A></li>
	<LI>Next message: <A HREF="011164.html">[MonoTouch] Page Control Not Showing on IPAD View ---
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11163">[ date ]</a>
              <a href="thread.html#11163">[ thread ]</a>
              <a href="subject.html#11163">[ subject ]</a>
              <a href="author.html#11163">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
