<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Setting%20HighlightedTextColor%20when%0A%20UITableViewCellSelectionStyle.None%20is%20used&In-Reply-To=%3C3D69C7EDBDAD744ABB7ED635496670650151DD2DD538%40ORD1MBX01.mex04.mlsrvr.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011368.html">
   <LINK REL="Next"  HREF="011373.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used</H1>
    <B>Drew Greenwell</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Setting%20HighlightedTextColor%20when%0A%20UITableViewCellSelectionStyle.None%20is%20used&In-Reply-To=%3C3D69C7EDBDAD744ABB7ED635496670650151DD2DD538%40ORD1MBX01.mex04.mlsrvr.com%3E"
       TITLE="[MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used">dgreenwell at leapfroginteractive.com
       </A><BR>
    <I>Tue Aug 21 02:01:13 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011368.html">[MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used
</A></li>
        <LI>Next message: <A HREF="011373.html">[MonoTouch] Test hardware: I need a iPhone 3GS with iOS4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11369">[ date ]</a>
              <a href="thread.html#11369">[ thread ]</a>
              <a href="subject.html#11369">[ subject ]</a>
              <a href="author.html#11369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Worked like a charm. Thanks Craig!



From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>] On Behalf Of Drew Greenwell
Sent: Monday, August 20, 2012 9:46 PM
To: Craig Dunn
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
Subject: Re: [MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used



You're right. I totally missed your example below. Long day I guess. Thanks a lot, I'll give this a shot now!



From: Craig Dunn [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">craig.dunn at gmail.com</A>]
Sent: Monday, August 20, 2012 9:40 PM
To: Drew Greenwell
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&gt;
Subject: Re: [MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used



well, that's what SelectedBackgroundView is for. my example shows setting it to a plain white view, which has the effect of removing the blue background highlight.



is there a reason that won't work in your case?



On Tue, Aug 21, 2012 at 11:38 AM, Drew Greenwell &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dgreenwell at leapfroginteractive.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dgreenwell at leapfroginteractive.com</A>&gt;&gt; wrote:

Yeah I really just want the textlabel's Text color to change when the row is selected. Another TableViewCell class seemed like overkill. I guess I understand the logic behind UITableViewSelectionStyle.None disabling highlight color, but it seems like an unnecessary limitation. I guess I'm just going to have to subclass and remove the background highlight.



From: Craig Dunn [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">craig.dunn at gmail.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">craig.dunn at gmail.com</A>&gt;]
Sent: Monday, August 20, 2012 9:29 PM


To: Drew Greenwell
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&gt;
Subject: Re: [MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used



ah okay - so what is your goal? just to implement a custom 'selected' cell appearance?



You said: &quot;Note: Setting SelectionStyle to anything but none makes the highlighted color show as expected when the row is selected&quot;



Is that the behavior that you _want_? The expected effect of UITableViewCellSelection.None is that the cell has no distinct style when selected, so it makes sense that you need to set it to either Blue (default) or Grey for anything to &quot;happen&quot; (automatically) when a cell is selected.



if you want the on-tap behavior to be yellow text on a white background,

cell.TextLabel.TextColor = UIColor.Black;
cell.TextLabel.HighlightedTextColor = UIColor.Yellow;
//cell.SelectionStyle = UITableViewCellSelectionStyle.Blue; // or leave as default
cell.SelectedBackgroundView = new UIView(new System.Drawing.RectangleF(0,0,320,44)){BackgroundColor=UIColor.White};

or else - i'm misunderstanding what you are actually trying to accomplish?





p.s. this code should already be running on the main thread





On Tue, Aug 21, 2012 at 11:23 AM, Drew Greenwell &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dgreenwell at leapfroginteractive.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dgreenwell at leapfroginteractive.com</A>&gt;&gt; wrote:

Sorry Craig, I didn't catch your second statement. The if/else modulus statement in my code generally has separate styles for the alternating row (I pass a CellStyle model that contains default and alternating styles). When I reduced the code, it would have been more appropriate for me to remove that if all together. Here is a more readable sample of my code.



public override UITableViewCell GetCell (UITableView tableView, NSIndexPath indexPath)

{

                // the row index

                int row = indexPath.Row;

                var dRow = Rows [row];

                // get a reusable cell instance and set the style

                var cell = tableView.DequeueReusableCell (TableCellIdentifier + dRow.ViewName + dRow.Text);

                if (cell == null) {

                                cell = InstantiateCell(dRow, UITableViewCellStyle.Subtitle, TableCellIdentifier);

                                cell.SelectionStyle =  UITableViewCellSelectionStyle.None;

                                var label = cell.TextLabel;

                                label.TextColor = UIColor.Black;

                                label.HighlightedTextColor = UIColor.Yellow;

                }

}





From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>&gt; [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>&gt;] On Behalf Of Drew Greenwell
Sent: Monday, August 20, 2012 9:07 PM
To: Craig Dunn


Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&gt;
Subject: Re: [MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used



I actually initially thought about that and wrote this code below, but it also seems to have no effect. If I call cell.SetHighlighted(true, false); immediately after initializing the cell the highlight is on, but I need it to highlight only when the row is selected. I'm getting close to saying it can't be done without a custom cell, but that seems wrong.



public override NSIndexPath WillSelectRow (UITableView tableView, NSIndexPath indexPath)

{

                selectedRowIndex = indexPath;

                tableView.CellAt(indexPath).SetHighlighted(true, false);

                return indexPath;

}

public override void WillDeselectRow (UITableView tableView, NSIndexPath indexPath)

{

                tableView.CellAt(indexPath).SetHighlighted(false, false);

}



From: Craig Dunn [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">craig.dunn at gmail.com</A>]
Sent: Monday, August 20, 2012 7:42 PM
To: Drew Greenwell
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&gt;
Subject: Re: [MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used







__________ Information from ESET NOD32 Antivirus, version of virus signature database 7403 (20120820) __________

The message was checked by ESET NOD32 Antivirus.

<A HREF="http://www.eset.com">http://www.eset.com</A>


__________ Information from ESET NOD32 Antivirus, version of virus signature database 7403 (20120820) __________

The message was checked by ESET NOD32 Antivirus.

<A HREF="http://www.eset.com">http://www.eset.com</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120820/75fa8bef/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120820/75fa8bef/attachment-0001.html</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011368.html">[MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used
</A></li>
	<LI>Next message: <A HREF="011373.html">[MonoTouch] Test hardware: I need a iPhone 3GS with iOS4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11369">[ date ]</a>
              <a href="thread.html#11369">[ thread ]</a>
              <a href="subject.html#11369">[ subject ]</a>
              <a href="author.html#11369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
