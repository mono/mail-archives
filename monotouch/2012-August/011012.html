<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] socket.Close() problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20socket.Close%28%29%20problem&In-Reply-To=%3C20120801094537.F3C3FB0B%40atlas.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011025.html">
   <LINK REL="Next"  HREF="011042.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] socket.Close() problem</H1>
    <B>Alexandr N&#283;mec</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20socket.Close%28%29%20problem&In-Reply-To=%3C20120801094537.F3C3FB0B%40atlas.cz%3E"
       TITLE="[MonoTouch] socket.Close() problem">a.nemec at atlas.cz
       </A><BR>
    <I>Wed Aug  1 07:45:37 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011025.html">[MonoTouch] UITableView RowSelected Event Help Needed ---
</A></li>
        <LI>Next message: <A HREF="011042.html">[MonoTouch] socket.Close() problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11012">[ date ]</a>
              <a href="thread.html#11012">[ thread ]</a>
              <a href="subject.html#11012">[ subject ]</a>
              <a href="author.html#11012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear all,
&#160;
we are using MonoTouch 3.0.3.4 and we have discovered a problem with the socket class. Our application uses TCP sockets and we found out that occasionally upon socket closure (after some data has been sent and received) the application hangs in socket.Close() method. We do not use any linger interval, so there should be absolutely no reason for the socket.Close method to wait for anything. This happens with and also without calling Shutdown before Close.
&#160;
&gt;<i>From what we saw in the Assembly Browser, Close&#160;calls socket.Dispose which calls some other methods&#160;like Linger etc. which&#160;might be the cause for the Close call to block.
</I>&#160;
Is this a bug or is there a way / workaround to make an abortive&#160;socket&#160;close without&#160;any waits?
&#160;
Also, from what we have seen in the socket.Dispose method, the Close method might end up with an exception, but AFAIK there is no exception documented for the&#160;socket.Close method in .NET. This might be dangerous when you do not expect any exception here.
&#160;
Thanks for any suggestions.
&#160;
Alex
&#160;
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011025.html">[MonoTouch] UITableView RowSelected Event Help Needed ---
</A></li>
	<LI>Next message: <A HREF="011042.html">[MonoTouch] socket.Close() problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11012">[ date ]</a>
              <a href="thread.html#11012">[ thread ]</a>
              <a href="subject.html#11012">[ subject ]</a>
              <a href="author.html#11012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
