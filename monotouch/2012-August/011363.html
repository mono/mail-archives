<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Setting%20HighlightedTextColor%20when%0A%20UITableViewCellSelectionStyle.None%20is%20used&In-Reply-To=%3C3D69C7EDBDAD744ABB7ED635496670650151DD2DD532%40ORD1MBX01.mex04.mlsrvr.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011365.html">
   <LINK REL="Next"  HREF="011366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used</H1>
    <B>Drew Greenwell</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Setting%20HighlightedTextColor%20when%0A%20UITableViewCellSelectionStyle.None%20is%20used&In-Reply-To=%3C3D69C7EDBDAD744ABB7ED635496670650151DD2DD532%40ORD1MBX01.mex04.mlsrvr.com%3E"
       TITLE="[MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used">dgreenwell at leapfroginteractive.com
       </A><BR>
    <I>Tue Aug 21 01:23:06 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011365.html">[MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used
</A></li>
        <LI>Next message: <A HREF="011366.html">[MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11363">[ date ]</a>
              <a href="thread.html#11363">[ thread ]</a>
              <a href="subject.html#11363">[ subject ]</a>
              <a href="author.html#11363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry Craig, I didn't catch your second statement. The if/else modulus statement in my code generally has separate styles for the alternating row (I pass a CellStyle model that contains default and alternating styles). When I reduced the code, it would have been more appropriate for me to remove that if all together. Here is a more readable sample of my code.



public override UITableViewCell GetCell (UITableView tableView, NSIndexPath indexPath)

{

                // the row index

                int row = indexPath.Row;

                var dRow = Rows [row];

                // get a reusable cell instance and set the style

                var cell = tableView.DequeueReusableCell (TableCellIdentifier + dRow.ViewName + dRow.Text);

                if (cell == null) {

                                cell = InstantiateCell(dRow, UITableViewCellStyle.Subtitle, TableCellIdentifier);

                                cell.SelectionStyle =  UITableViewCellSelectionStyle.None;

                                var label = cell.TextLabel;

                                label.TextColor = UIColor.Black;

                                label.HighlightedTextColor = UIColor.Yellow;

                }

}





From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>] On Behalf Of Drew Greenwell
Sent: Monday, August 20, 2012 9:07 PM
To: Craig Dunn
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
Subject: Re: [MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used



I actually initially thought about that and wrote this code below, but it also seems to have no effect. If I call cell.SetHighlighted(true, false); immediately after initializing the cell the highlight is on, but I need it to highlight only when the row is selected. I'm getting close to saying it can't be done without a custom cell, but that seems wrong.



public override NSIndexPath WillSelectRow (UITableView tableView, NSIndexPath indexPath)

{

                selectedRowIndex = indexPath;

                tableView.CellAt(indexPath).SetHighlighted(true, false);

                return indexPath;

}

public override void WillDeselectRow (UITableView tableView, NSIndexPath indexPath)

{

                tableView.CellAt(indexPath).SetHighlighted(false, false);

}



From: Craig Dunn [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">craig.dunn at gmail.com</A>]
Sent: Monday, August 20, 2012 7:42 PM
To: Drew Greenwell
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&gt;
Subject: Re: [MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used



What about



cell.Highlighted = true; // no animation

or
cell.SetHighlighted(true,false); // optional animation



? I'm not really sure what effect you are trying to accomplish with this code... if it is just to have different colors on every second row, why not just set the TextColor directly inside your if-else?





On Tue, Aug 21, 2012 at 6:39 AM, Drew Greenwell &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dgreenwell at leapfroginteractive.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dgreenwell at leapfroginteractive.com</A>&gt;&gt; wrote:

Hey all, I've got a UITableViewCell that I want to change the HighlightedTextColor. Setting the HighlightedtextColor property only seems to work when UITableViewCellSelectonStyle is set to something other than None. Do I have to subclass UITableViewCell to get this to apply or am I just missing something?



Here's a trimmed down version of my GetCell method. Note: Setting SelectionStyle to anything but none makes the highlighted color show as expected when the row is selected



public override UITableViewCell GetCell (UITableView tableView, NSIndexPath indexPath)

                                {

                                                // the row index

                                                int row = indexPath.Row;

                                                var dRow = Rows [row];

                                                // get a reusable cell instance and set the style

                                                var cell = tableView.DequeueReusableCell (TableCellIdentifier + dRow.ViewName + dRow.Text);                                                                if (cell == null) {

                                                                cell = InstantiateCell(dRow, UITableViewCellStyle.Subtitle, TableCellIdentifier);

                                                                if(indexPath.Row % 2 == 0){

                                                                                // setting this to anything but None shows the highlighted text color

                                                                                cell.SelectionStyle = UITableViewCellSelectionStyle.None;

                                                                                var label = cell.TextLabel;

                                                                                label.TextColor = UIColor.Black;

                                                                                label.HighlightedTextColor = UIColor.Yellow;                                                                                                                   }else{

                                                                                // setting this to anything but None shows the highlighted text color

                                                                                cell.SelectionStyle = UITableViewCellSelectionStyle.None;

                                                                                var label = cell.TextLabel;

                                                                                label.TextColor = UIColor.Black;

                                                                                label.HighlightedTextColor = UIColor.Yellow;

                                                                }

                                                }



Thanks in advance for any insight.



__________ Information from ESET NOD32 Antivirus, version of virus signature database 7403 (20120820) __________

The message was checked by ESET NOD32 Antivirus.

<A HREF="http://www.eset.com">http://www.eset.com</A>


_______________________________________________
MonoTouch mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>&gt;
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>





__________ Information from ESET NOD32 Antivirus, version of virus signature database 7403 (20120820) __________



The message was checked by ESET NOD32 Antivirus.



<A HREF="http://www.eset.com">http://www.eset.com</A>



__________ Information from ESET NOD32 Antivirus, version of virus signature database 7403 (20120820) __________

The message was checked by ESET NOD32 Antivirus.

<A HREF="http://www.eset.com">http://www.eset.com</A>


__________ Information from ESET NOD32 Antivirus, version of virus signature database 7403 (20120820) __________

The message was checked by ESET NOD32 Antivirus.

<A HREF="http://www.eset.com">http://www.eset.com</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120820/2dab229f/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120820/2dab229f/attachment-0001.html</A>&gt;
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011365.html">[MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used
</A></li>
	<LI>Next message: <A HREF="011366.html">[MonoTouch] Setting HighlightedTextColor when UITableViewCellSelectionStyle.None is used
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11363">[ date ]</a>
              <a href="thread.html#11363">[ thread ]</a>
              <a href="subject.html#11363">[ subject ]</a>
              <a href="author.html#11363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
