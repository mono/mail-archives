<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Issue with app publishing(refused because of private api usage _NDGetEnviron)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Issue%20with%20app%20publishing%28refused%20because%20of%0A%20private%20api%20usage%20_NDGetEnviron%29&In-Reply-To=%3CCANfFwGQo8bZPoO4GG47snKuaOp8FwjTPjHeuHkZ_FCWkRxrwqQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013009.html">
   <LINK REL="Next"  HREF="013011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Issue with app publishing(refused because of private api usage _NDGetEnviron)</H1>
    <B>Nic Wise</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Issue%20with%20app%20publishing%28refused%20because%20of%0A%20private%20api%20usage%20_NDGetEnviron%29&In-Reply-To=%3CCANfFwGQo8bZPoO4GG47snKuaOp8FwjTPjHeuHkZ_FCWkRxrwqQ%40mail.gmail.com%3E"
       TITLE="[MonoTouch] Issue with app publishing(refused because of private api usage _NDGetEnviron)">nicw at fastchicken.co.nz
       </A><BR>
    <I>Thu May  2 10:35:12 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="013009.html">[MonoTouch] Issue with app publishing(refused because of	private api usage _NDGetEnviron)
</A></li>
        <LI>Next message: <A HREF="013011.html">[MonoTouch] Issue with app publishing(refused because of private api usage _NDGetEnviron)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13010">[ date ]</a>
              <a href="thread.html#13010">[ thread ]</a>
              <a href="subject.html#13010">[ subject ]</a>
              <a href="author.html#13010">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>According to the Unity docs (they use Mono, too)

<A HREF="http://forum.unity3d.com/threads/54355-_NSGetEnviron-App-Rejected-Version-3-0">http://forum.unity3d.com/threads/54355-_NSGetEnviron-App-Rejected-Version-3-0</A>

&quot;_NSGetEnviron is used by the Mono runtime to provide an
implementation of the .NET core API method:
Environment.GetEnvironmentVariable().&quot;

&quot;In order for us to solve this problem we simply removed any calls to
_NSGetEnviron and exc_server. Update Unity iPhone 1.5.1 was sent out
to developers days ago. Most of them have already resubmitted their
Apps to the AppStore with the functions removed. Unity iPhone 1.5.1
will go live this week.&quot;
--posted November 2009

I would venture a guess that you built your app with something earlier
than unity 1.5.1. Is this the case? If so, perhaps you should rebuild
with Unity 1.7 and resubmit.

----------

which version of Xamarin.iOS are you using, 'cos that post is nearly 3
years old? I assume you are calling Environment.GetEnvironmentVariable
somewhere? MAybe it's been fixed in a newer version of Xam.iOS?

Sebastien (or Rolf) is the right person to fix it tho, as far as I know.

N




On 2 May 2013 11:15, Kosta Mihajlov &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">costa at halicea.com</A>&gt; wrote:
&gt;<i> Except for the native bindings, the only external library we are using it
</I>&gt;<i> Newtonsoft.json(portable)
</I>&gt;<i> Our shared code is in a form of a portable libraries. is there a chance for
</I>&gt;<i> Newtonsoft.json to be the problematic one?
</I>&gt;<i> Thanks,
</I>&gt;<i>    Costa
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>    Costa
</I>&gt;<i>
</I>&gt;<i> On May 1, 2013, at 2:03 PM, Sebastien Pouliot &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">sebastien at xamarin.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> On Wed, May 1, 2013 at 5:24 AM, Kosta Mihajlov &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">costa at halicea.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi All,
</I>&gt;&gt;<i>   We have an issue with publishing our IOS app/s on the store
</I>&gt;&gt;<i>   we are using the Application Builder to submit the ipa/s.
</I>&gt;&gt;<i> the result returned is :
</I>&gt;&gt;<i>   The App references non-public symbols in
</I>&gt;&gt;<i> Payload/MediawirePrintStandMobilePresentationMonoTouch.app/PrintStand:
</I>&gt;&gt;<i> _NDGetEnviron
</I>&gt;<i>
</I>&gt;<i> This is not a symbol that comes from Xamarin.iOS. It likley comes from a
</I>&gt;<i> static library you're linking your application against.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I made a few searches and it seemed to me that if i set the solution to
</I>&gt;&gt;<i> Link SDK Assemblies(currently we don't link anything) it will work:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Link SDK is the default and there are several reasons for this. I'll give
</I>&gt;<i> you a link to my Evolve talk as soon as it's published.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  This popped up another bug:
</I>&gt;&gt;<i> 2. Due to the fact that we are using:
</I>&gt;&gt;<i> --compiler:clang++ additional arguments
</I>&gt;&gt;<i>        the build fails when Link SDK Assemblies only or Link All
</I>&gt;&gt;<i> assemblies is set.
</I>&gt;<i>
</I>&gt;<i> That's surprising. Managed linking happens before native compilation. Can
</I>&gt;<i> you file a bug report[1]  with the details ? including the version of
</I>&gt;<i> Xamarin.iOS you're using and the exact error you get while building.
</I>&gt;<i>
</I>&gt;<i>  Sebastien
</I>&gt;<i>
</I>&gt;<i> [1] <A HREF="http://bugzilla.xamarin.com">http://bugzilla.xamarin.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1. If we you have solution how to fix #1 without using linking .we can
</I>&gt;&gt;<i> wait for item no #2.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i>    Costa
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> MonoTouch mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>


-- 
Nic Wise
t.  +44 7788 592 806 | @fastchicken
b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013009.html">[MonoTouch] Issue with app publishing(refused because of	private api usage _NDGetEnviron)
</A></li>
	<LI>Next message: <A HREF="013011.html">[MonoTouch] Issue with app publishing(refused because of private api usage _NDGetEnviron)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13010">[ date ]</a>
              <a href="thread.html#13010">[ thread ]</a>
              <a href="subject.html#13010">[ subject ]</a>
              <a href="author.html#13010">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
