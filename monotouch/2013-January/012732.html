<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Monotouch Dialog Issue with UnevenRows and Scrolled	Event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Monotouch%20Dialog%20Issue%20with%20UnevenRows%20and%20Scrolled%0A%09Event&In-Reply-To=%3CCANfFwGS1bjz3SiOFA-Wv-52Wugm%3Doc8rbHfD0AePy0EwtjN4sQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012731.html">
   <LINK REL="Next"  HREF="012733.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Monotouch Dialog Issue with UnevenRows and Scrolled	Event</H1>
    <B>Nic Wise</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Monotouch%20Dialog%20Issue%20with%20UnevenRows%20and%20Scrolled%0A%09Event&In-Reply-To=%3CCANfFwGS1bjz3SiOFA-Wv-52Wugm%3Doc8rbHfD0AePy0EwtjN4sQ%40mail.gmail.com%3E"
       TITLE="[MonoTouch] Monotouch Dialog Issue with UnevenRows and Scrolled	Event">nicw at fastchicken.co.nz
       </A><BR>
    <I>Wed Jan 23 17:05:57 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="012731.html">[MonoTouch] Monotouch Dialog Issue with UnevenRows and Scrolled	Event
</A></li>
        <LI>Next message: <A HREF="012733.html">[MonoTouch] Monotouch Dialog Issue with UnevenRows and Scrolled	Event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12732">[ date ]</a>
              <a href="thread.html#12732">[ thread ]</a>
              <a href="subject.html#12732">[ subject ]</a>
              <a href="author.html#12732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well,

this.Root = root;

causes the Source to be recreated, which is where the UnevenRows thing
is set.  It's also handling the Scrolled event, I think.

I'm not sure how you get around it, but I think:

1. You create an uneven source (in Root = root;) then kill the Source
when you add the Scrolled event (adding an event will usually replace
any delegate - or source in this case - if thats where the event hooks
into)

2. You hook into the autogenerated delegate with your Scrolled +=
handleScrolled, but then the Root = root thing kills it.

I suggest that you override:

public virtual Source CreateSizingSource (bool unevenRows)
{
return unevenRows ? new SizingSource (this) : new Source (this);
}

and return your OWN Source / SizingSource. You one does it's own thing
in Scrolled, and I'd assume would do the same thing that SizingSource
does for size. The classes are public, so you might be able to:

public class MySource : DialogViewController.SizingSource
{
  public MySource(DialogViewController container) : base(container) {}
  public override void Scrolled (UIScrollView scrollView)
  {
    base.Scrolled(scrollView);
    //do your thing - maybe not even call the base!
  }

}

and

public override Source CreateSizingSource(bool unevenRows)
{
  return new MySource(this);
}

(and dont hook into TableView.Scrolled at all, BTW. If the scope on
the above doesn't work, you'll need to C+P the code out of github into
your own project)

BTW, the forums might be a better place for these - more people!


On 23 January 2013 15:47, vbisbest &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">vbisbest at yahoo.com</A>&gt; wrote:
&gt;<i> I have a Monotouch.Dialog using plain style.  Uneven rows works well until I
</I>&gt;<i> hook the Scrolled event.  Once I do that, uneven rows quits working.   If I
</I>&gt;<i> Hook the Scrolled event before the UnevenRows property, then the UnevenRows
</I>&gt;<i> works but the Scrolled event never fires.
</I>&gt;<i>
</I>&gt;<i> This makes UnevenRows not work but Scroll event fires:
</I>&gt;<i> RootElement root = new RootElement(&quot;Messages&quot;);
</I>&gt;<i> root.UnevenRows = true;
</I>&gt;<i> root.Add(messageSection);
</I>&gt;<i> this.Root = root;
</I>&gt;<i> this.TableView.Scrolled += HandleScrolled;
</I>&gt;<i>
</I>&gt;<i> UneventRows works, but scroll event never fires:
</I>&gt;<i> this.TableView.Scrolled += HandleScrolled;
</I>&gt;<i> RootElement root = new RootElement(&quot;Messages&quot;);
</I>&gt;<i> root.UnevenRows = true;
</I>&gt;<i> root.Add(messageSection);
</I>&gt;<i> this.Root = root;
</I>&gt;<i>
</I>&gt;<i> Any ideas?  Thanks,
</I>&gt;<i> Ray
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Monotouch-Dialog-Issue-with-UnevenRows-and-Scrolled-Event-tp4657998.html">http://monotouch.2284126.n4.nabble.com/Monotouch-Dialog-Issue-with-UnevenRows-and-Scrolled-Event-tp4657998.html</A>
</I>&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>


--
Nic Wise
t.  +44 7788 592 806 | @fastchicken
b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012731.html">[MonoTouch] Monotouch Dialog Issue with UnevenRows and Scrolled	Event
</A></li>
	<LI>Next message: <A HREF="012733.html">[MonoTouch] Monotouch Dialog Issue with UnevenRows and Scrolled	Event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12732">[ date ]</a>
              <a href="thread.html#12732">[ thread ]</a>
              <a href="subject.html#12732">[ subject ]</a>
              <a href="author.html#12732">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
