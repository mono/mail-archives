<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Exception assistance...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Exception%20assistance...&In-Reply-To=CALqoN0YpTeF4LUbgDOGP8GMMFYtycxmcmb%2BY5dW-cb7e9OEg0g%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004355.html">
   <LINK REL="Next"  HREF="004381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Exception assistance...</H1>
    <B>Jeff Stedfast</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Exception%20assistance...&In-Reply-To=CALqoN0YpTeF4LUbgDOGP8GMMFYtycxmcmb%2BY5dW-cb7e9OEg0g%40mail.gmail.com"
       TITLE="[MonoTouch] Exception assistance...">jeff at xamarin.com
       </A><BR>
    <I>Thu Aug 11 19:46:02 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004355.html">[MonoTouch] Exception assistance...
</A></li>
        <LI>Next message: <A HREF="004381.html">[MonoTouch] Exception assistance...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4379">[ date ]</a>
              <a href="thread.html#4379">[ thread ]</a>
              <a href="subject.html#4379">[ subject ]</a>
              <a href="author.html#4379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dean,

Finally got around to looking at this today. It looks like the null-check
for NSString's .ctor (string value) didn't make it into 4.0.4.1 :-(

It *will* be in MonoTouch 4.1, however. That said, the only thing that will
change is that you'll get a ArgumentNullException thrown when passing null
to NSUserDefaults.SetString(). From looking at the trace you provided in the
original email, it looks like it would have to be the first argument to
SetString() that is null if that is of any help to you.

Hope that helps,

Jeff

On Wed, Aug 10, 2011 at 6:39 PM, Jeff Stedfast &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">jeff at xamarin.com</A>&gt; wrote:

&gt;<i> Thanks Dean, I'll look into this tomorrow.
</I>&gt;<i>
</I>&gt;<i> Jeff
</I>&gt;<i> On Aug 10, 2011 5:59 PM, &quot;Dean Cleaver&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Ummm - was released last Friday, and was the latest at that time.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; From: Jeff Stedfast [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">jeff at xamarin.com</A>]
</I>&gt;<i> &gt; Sent: Wednesday, August 10, 2011 4:55 PM
</I>&gt;<i> &gt; To: Dean Cleaver
</I>&gt;<i> &gt; Cc: Forums, MonoTouch (<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>)
</I>&gt;<i> &gt; Subject: Re: [MonoTouch] Exception assistance...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yep, that's what it looks like. We should null-protect that method. Which
</I>&gt;<i> version of MT is this?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jeff
</I>&gt;<i> &gt; On Aug 10, 2011 5:51 PM, &quot;Dean Cleaver&quot; &lt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>&gt;&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;&gt; Guys,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Would I be right if I guess that this is an exception where null was
</I>&gt;<i> passed into the SetString function?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; MonoTouch.Foundation.MonoTouchException: Objective-C exception thrown.
</I>&gt;<i> Name: NSInvalidArgumentException Reason: *** -[NSPlaceholderString
</I>&gt;<i> initWithUTF8String:]: NULL cString
</I>&gt;<i> &gt;&gt; at MonoTouch.Foundation.NSString..ctor (System.String str) [0x00000] in
</I>&gt;<i> :0
</I>&gt;<i> &gt;&gt; at MonoTouch.Foundation.NSUserDefaults.SetString (System.String value,
</I>&gt;<i> System.String defaultName) [0x00000] in :0
</I>&gt;<i> &gt;&gt; at KleverLogic.FlashValet.iPhone.Valet.AppDelegate.SaveSettings ()
</I>&gt;<i> [0x0004b] in
</I>&gt;<i> /xsl-home/kleverlogic/FlashValet/Mobile/iPhone/Valet/Main.cs:1086
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt; Dino
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110811/0384f1fa/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110811/0384f1fa/attachment.html</A> 
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004355.html">[MonoTouch] Exception assistance...
</A></li>
	<LI>Next message: <A HREF="004381.html">[MonoTouch] Exception assistance...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4379">[ date ]</a>
              <a href="thread.html#4379">[ thread ]</a>
              <a href="subject.html#4379">[ subject ]</a>
              <a href="author.html#4379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
