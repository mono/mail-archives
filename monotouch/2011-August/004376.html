<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Monotouch and crash reports problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Monotouch%20and%20crash%20reports%20problems&In-Reply-To=1312579780786-3722325.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004266.html">
   <LINK REL="Next"  HREF="004380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Monotouch and crash reports problems</H1>
    <B>Jeff Stedfast</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Monotouch%20and%20crash%20reports%20problems&In-Reply-To=1312579780786-3722325.post%40n4.nabble.com"
       TITLE="[MonoTouch] Monotouch and crash reports problems">jeff at xamarin.com
       </A><BR>
    <I>Thu Aug 11 18:34:13 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004266.html">[MonoTouch] Monotouch and crash reports problems
</A></li>
        <LI>Next message: <A HREF="004380.html">[MonoTouch] Monotouch and crash reports problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4376">[ date ]</a>
              <a href="thread.html#4376">[ thread ]</a>
              <a href="subject.html#4376">[ subject ]</a>
              <a href="author.html#4376">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Kent,

Sorry for the delayed response, I was hoping someone else more knowledgeable
would answer. Turns out, I just had to do this myself. The solution is
sub-optimal, so hopefully we can improve things a bit in a newer MonoDevelop
because right now it's a bit like jumping through hoops.

The mtouch tool has an option `--xcode=[path]` that can be used in
MonoDevelop's Project Options in the &quot;iPhone Build&quot; section (or you can just
use mtouch directly in a terminal). What you need to do is create a new
project directory (which will be used to dump some autogenerated assembly
code to). Once you've done that, pass that option to mtouch by adding
--xcode=/path/to/project to the &quot;Additional arguments to pass to mtouch)
textbox and then build your app in MonoDevelop (the Debug target may be the
most useful, I'm not sure). This will dump the AOT'd assembly source code to
/path/to/project but is, unfortunately, missing a few things to be a valid
Xcode project. What you'll need to do next is to copy the Info.plist file
from your MonoDevelop project into /path/to/project. This is where things
get a little more complicated...

MonoDevelop seems to generate files like System.dll.6.s if it was configured
to target armv6 (probably named System.dll.7.s if targeting armv7), but the
project.pbxproj file that MonoDevelop autogenerates refers to System.dll.s
so what you'll need to do is edit the project.pbxproj file
(/path/to/project/&lt;projectName&gt;.xcodeproj/project.pbxproj) and fix the *.s
references. Elsewhere in the file, you'll find a section defining
OTHER_LDFLAGS which will wrongly include &quot;-u&quot; &quot;_catch_exception_raise&quot;. If
you remove that, then opening the autogenerated project and building it
should work.

The resulting app will have symbol names that are easy to map to their
equivalent C# names, and, while not having &quot;friendly&quot; C# source code to
read, will at least allow you to have a clearer picture of what is going on
when you get that crash.

This method will allow you to debug using gdb on the device as well, which
can be really helpful.

Hope that helps and sorry that this isn't a lot easier to do (if it were up
to me, it would be a single button click!).

Good luck!

Jeff

On Fri, Aug 5, 2011 at 5:29 PM, kentfonager &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">kent at netcoders.dk</A>&gt; wrote:

&gt;<i> Hi everybody
</I>&gt;<i>
</I>&gt;<i> Unfortunately I have an app in the AppStore, thats has some random crashes.
</I>&gt;<i> Today I digged into some of the crash reports, for unfortunately every
</I>&gt;<i> memory adress, for the crashed thread, ends up in som mono code and
</I>&gt;<i> functions. None of them shows lines in &quot;my code&quot;.
</I>&gt;<i>
</I>&gt;<i> How do you guys handle crash reports ? Is it NOT possible to get something
</I>&gt;<i> usefull out of the crash reports, when using MonoTouch ?
</I>&gt;<i>
</I>&gt;<i> With hope of a usefull reply :-)
</I>&gt;<i>
</I>&gt;<i> Cheers from Denmark,
</I>&gt;<i> Kent Fonager, netcoders aps
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://monotouch.2284126.n4.nabble.com/Monotouch-and-crash-reports-problems-tp3722325p3722325.html">http://monotouch.2284126.n4.nabble.com/Monotouch-and-crash-reports-problems-tp3722325p3722325.html</A>
</I>&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>


-- 
Rate my reply: <A HREF="http://www.nicereply.com/xamarin/jstedfast">http://www.nicereply.com/xamarin/jstedfast</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110811/85ee8b20/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110811/85ee8b20/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004266.html">[MonoTouch] Monotouch and crash reports problems
</A></li>
	<LI>Next message: <A HREF="004380.html">[MonoTouch] Monotouch and crash reports problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4376">[ date ]</a>
              <a href="thread.html#4376">[ thread ]</a>
              <a href="subject.html#4376">[ subject ]</a>
              <a href="author.html#4376">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
