<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] How do I fix this?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20How%20do%20I%20fix%20this%3F&In-Reply-To=013501cc6430%2403648970%240a2d9c50%24%40subfuzion.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004677.html">
   <LINK REL="Next"  HREF="004687.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] How do I fix this?</H1>
    <B>Dean Cleaver</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20How%20do%20I%20fix%20this%3F&In-Reply-To=013501cc6430%2403648970%240a2d9c50%24%40subfuzion.com"
       TITLE="[MonoTouch] How do I fix this?">dean.cleaver at xceptionsoftware.com
       </A><BR>
    <I>Fri Aug 26 16:37:47 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004677.html">[MonoTouch] How do I fix this?
</A></li>
        <LI>Next message: <A HREF="004687.html">[MonoTouch] How do I fix this?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4678">[ date ]</a>
              <a href="thread.html#4678">[ thread ]</a>
              <a href="subject.html#4678">[ subject ]</a>
              <a href="author.html#4678">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>But it's *not* the button. The button causes the click event to happen. The button is fine.

It is the NavigationController that is null. That's what I don't get.

From: Tony Pujals [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">tony at subfuzion.com</A>]
Sent: Friday, August 26, 2011 3:38 PM
To: Dean Cleaver; 'Forums, MonoTouch'
Subject: RE: [MonoTouch] How do I fix this?

It's the randomness of it that makes me suspect garbage collection, but who knows. Post the code where you are creating the button that you added and setting up your handler (HandleUpdatePhoneButtonClicked).

Tony

Tony Pujals | Lead Developer
Office: 408-236-7376 | Visit us at: www.subfuzion.com&lt;<A HREF="http://www.subfuzion.com/">http://www.subfuzion.com/</A>&gt;

[Description: Description: SubfuzionLogoSmall]&lt;<A HREF="http://www.subfuzion.com/">http://www.subfuzion.com/</A>&gt;
560 S. Winchester Blvd, 5th Floor,  San Jose, CA 95128

From: Dean Cleaver [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>]&lt;mailto:[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">dean.cleaver at xceptionsoftware.com</A>]&gt;
Sent: Friday, August 26, 2011 1:22 PM
To: Tony Pujals; 'Forums, MonoTouch'
Subject: RE: [MonoTouch] How do I fix this?

All controls are instance variables so they can be disposed later. But it's the NavigationController that's null - this just happened to execute inside the button click event.

My concern is this is a &quot;1 in 1000&quot; problem where 999 times it works fine, then something I can't explain like this happens.

Dino

From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>&gt; [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>]&lt;mailto:[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>]&gt; On Behalf Of Tony Pujals
Sent: Friday, August 26, 2011 3:13 PM
To: 'Forums, MonoTouch'
Subject: Re: [MonoTouch] How do I fix this?

Is your button with your handler getting declared inside a method or as an instance variable. See my answer on stackoverflow:

<A HREF="http://stackoverflow.com/questions/5665297/problem-with-navigationitem-rightbarbuttonitem-after-last-update/6038606#6038606">http://stackoverflow.com/questions/5665297/problem-with-navigationitem-rightbarbuttonitem-after-last-update/6038606#6038606</A>

I think this will help. Feel free to vote it up if it does.

Good luck,

Tony

Tony Pujals | Lead Developer
Office: 408-236-7376 | Visit us at: www.subfuzion.com&lt;<A HREF="http://www.subfuzion.com/">http://www.subfuzion.com/</A>&gt;

[Description: Description: SubfuzionLogoSmall]&lt;<A HREF="http://www.subfuzion.com/">http://www.subfuzion.com/</A>&gt;
560 S. Winchester Blvd, 5th Floor,  San Jose, CA 95128

From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>&gt; [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>]&lt;mailto:[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>]&gt; On Behalf Of Dean Cleaver
Sent: Friday, August 26, 2011 12:56 PM
To: Forums, MonoTouch (<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&gt;)
Subject: [MonoTouch] How do I fix this?

System.NullReferenceException: Object reference not set to an instance of an object
at KleverLogic.FlashValet.iPhone.Valet.UpdatePhoneViewController.HandleUpdatePhoneButtonClicked (System.Object sender, System.EventArgs e) [0x00015] in /xsl-home/kleverlogic/FlashValet/Mobile/iPhone/Valet/UpdatePhoneViewController.cs:86

Seems simple enough... but.

this.NavigationController.NavigationBarHidden = true;

This code has been working for 2 or 3 months, and just now got a dozen or so errors like above - how could this be possible? It's a view used once on login, it is pretty basic (one label, one text field, one button) and has worked flawlessly for months. Still works perfectly on my phone, but clearly one of my clients is having problems because the NavigationController is null - but how can it be?

Dino
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110826/01a480ca/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110826/01a480ca/attachment.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 4161 bytes
Desc: image001.png
Url : <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110826/01a480ca/attachment.png">http://lists.ximian.com/pipermail/monotouch/attachments/20110826/01a480ca/attachment.png</A> 
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004677.html">[MonoTouch] How do I fix this?
</A></li>
	<LI>Next message: <A HREF="004687.html">[MonoTouch] How do I fix this?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4678">[ date ]</a>
              <a href="thread.html#4678">[ thread ]</a>
              <a href="subject.html#4678">[ subject ]</a>
              <a href="author.html#4678">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
