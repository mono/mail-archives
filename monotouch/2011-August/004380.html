<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Monotouch and crash reports problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Monotouch%20and%20crash%20reports%20problems&In-Reply-To=CALqoN0b2G4FP4Nd4FULStFwZWL%2BKu2HNjeKsN2ad1F%2B-5L1Yzg%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004376.html">
   <LINK REL="Next"  HREF="004267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Monotouch and crash reports problems</H1>
    <B>Jeff Stedfast</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Monotouch%20and%20crash%20reports%20problems&In-Reply-To=CALqoN0b2G4FP4Nd4FULStFwZWL%2BKu2HNjeKsN2ad1F%2B-5L1Yzg%40mail.gmail.com"
       TITLE="[MonoTouch] Monotouch and crash reports problems">jeff at xamarin.com
       </A><BR>
    <I>Thu Aug 11 20:44:53 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004376.html">[MonoTouch] Monotouch and crash reports problems
</A></li>
        <LI>Next message: <A HREF="004267.html">[MonoTouch] OSX Lion 1.7 + MD 2.6b3 + MonoTouch 4.0.4.1 + Mono	2.10.3 = Awesome
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4380">[ date ]</a>
              <a href="thread.html#4380">[ thread ]</a>
              <a href="subject.html#4380">[ subject ]</a>
              <a href="author.html#4380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Update:

Miguel and I have eliminated most of these hoops in trunk. The only one
remaining is the Info.plist one, but I'm sure we'll fix that before long.

The other thing to note is that if you are planning to build the exported
project on the Sim, it turns out you shouln't remove the &quot;-u&quot;
&quot;_catch_exception_raise&quot;.

My fixes for this should land in 4.1.1 if not sooner.

Jeff
 On Aug 11, 2011 6:34 PM, &quot;Jeff Stedfast&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">jeff at xamarin.com</A>&gt; wrote:
&gt;<i> Hi Kent,
</I>&gt;<i>
</I>&gt;<i> Sorry for the delayed response, I was hoping someone else more
</I>knowledgeable
&gt;<i> would answer. Turns out, I just had to do this myself. The solution is
</I>&gt;<i> sub-optimal, so hopefully we can improve things a bit in a newer
</I>MonoDevelop
&gt;<i> because right now it's a bit like jumping through hoops.
</I>&gt;<i>
</I>&gt;<i> The mtouch tool has an option `--xcode=[path]` that can be used in
</I>&gt;<i> MonoDevelop's Project Options in the &quot;iPhone Build&quot; section (or you can
</I>just
&gt;<i> use mtouch directly in a terminal). What you need to do is create a new
</I>&gt;<i> project directory (which will be used to dump some autogenerated assembly
</I>&gt;<i> code to). Once you've done that, pass that option to mtouch by adding
</I>&gt;<i> --xcode=/path/to/project to the &quot;Additional arguments to pass to mtouch)
</I>&gt;<i> textbox and then build your app in MonoDevelop (the Debug target may be
</I>the
&gt;<i> most useful, I'm not sure). This will dump the AOT'd assembly source code
</I>to
&gt;<i> /path/to/project but is, unfortunately, missing a few things to be a valid
</I>&gt;<i> Xcode project. What you'll need to do next is to copy the Info.plist file
</I>&gt;<i> from your MonoDevelop project into /path/to/project. This is where things
</I>&gt;<i> get a little more complicated...
</I>&gt;<i>
</I>&gt;<i> MonoDevelop seems to generate files like System.dll.6.s if it was
</I>configured
&gt;<i> to target armv6 (probably named System.dll.7.s if targeting armv7), but
</I>the
&gt;<i> project.pbxproj file that MonoDevelop autogenerates refers to System.dll.s
</I>&gt;<i> so what you'll need to do is edit the project.pbxproj file
</I>&gt;<i> (/path/to/project/&lt;projectName&gt;.xcodeproj/project.pbxproj) and fix the *.s
</I>&gt;<i> references. Elsewhere in the file, you'll find a section defining
</I>&gt;<i> OTHER_LDFLAGS which will wrongly include &quot;-u&quot; &quot;_catch_exception_raise&quot;. If
</I>&gt;<i> you remove that, then opening the autogenerated project and building it
</I>&gt;<i> should work.
</I>&gt;<i>
</I>&gt;<i> The resulting app will have symbol names that are easy to map to their
</I>&gt;<i> equivalent C# names, and, while not having &quot;friendly&quot; C# source code to
</I>&gt;<i> read, will at least allow you to have a clearer picture of what is going
</I>on
&gt;<i> when you get that crash.
</I>&gt;<i>
</I>&gt;<i> This method will allow you to debug using gdb on the device as well, which
</I>&gt;<i> can be really helpful.
</I>&gt;<i>
</I>&gt;<i> Hope that helps and sorry that this isn't a lot easier to do (if it were
</I>up
&gt;<i> to me, it would be a single button click!).
</I>&gt;<i>
</I>&gt;<i> Good luck!
</I>&gt;<i>
</I>&gt;<i> Jeff
</I>&gt;<i>
</I>&gt;<i> On Fri, Aug 5, 2011 at 5:29 PM, kentfonager &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">kent at netcoders.dk</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi everybody
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Unfortunately I have an app in the AppStore, thats has some random
</I>crashes.
&gt;&gt;<i> Today I digged into some of the crash reports, for unfortunately every
</I>&gt;&gt;<i> memory adress, for the crashed thread, ends up in som mono code and
</I>&gt;&gt;<i> functions. None of them shows lines in &quot;my code&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> How do you guys handle crash reports ? Is it NOT possible to get
</I>something
&gt;&gt;<i> usefull out of the crash reports, when using MonoTouch ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> With hope of a usefull reply :-)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers from Denmark,
</I>&gt;&gt;<i> Kent Fonager, netcoders aps
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> View this message in context:
</I>&gt;&gt;<i>
</I><A HREF="http://monotouch.2284126.n4.nabble.com/Monotouch-and-crash-reports-problems-tp3722325p3722325.html">http://monotouch.2284126.n4.nabble.com/Monotouch-and-crash-reports-problems-tp3722325p3722325.html</A>
&gt;&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> MonoTouch mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Rate my reply: <A HREF="http://www.nicereply.com/xamarin/jstedfast">http://www.nicereply.com/xamarin/jstedfast</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110811/c7d2988f/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110811/c7d2988f/attachment.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004376.html">[MonoTouch] Monotouch and crash reports problems
</A></li>
	<LI>Next message: <A HREF="004267.html">[MonoTouch] OSX Lion 1.7 + MD 2.6b3 + MonoTouch 4.0.4.1 + Mono	2.10.3 = Awesome
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4380">[ date ]</a>
              <a href="thread.html#4380">[ thread ]</a>
              <a href="subject.html#4380">[ subject ]</a>
              <a href="author.html#4380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
