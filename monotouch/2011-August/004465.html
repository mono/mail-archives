<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] people picker problem after upgrading to touch 4	and MD2.8Alpha
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20people%20picker%20problem%20after%20upgrading%20to%20touch%204%0A%09and%20MD2.8Alpha&In-Reply-To=019801cc5dc9%24e5c11df0%24b14359d0%24%40gb.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004447.html">
   <LINK REL="Next"  HREF="004466.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] people picker problem after upgrading to touch 4	and MD2.8Alpha</H1>
    <B>Jeff Stedfast</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20people%20picker%20problem%20after%20upgrading%20to%20touch%204%0A%09and%20MD2.8Alpha&In-Reply-To=019801cc5dc9%24e5c11df0%24b14359d0%24%40gb.com"
       TITLE="[MonoTouch] people picker problem after upgrading to touch 4	and MD2.8Alpha">jeff at xamarin.com
       </A><BR>
    <I>Thu Aug 18 21:04:32 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004447.html">[MonoTouch] people picker problem after upgrading to touch 4	and MD2.8Alpha
</A></li>
        <LI>Next message: <A HREF="004466.html">[MonoTouch] people picker problem after upgrading to touch 4	and MD2.8Alpha
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4465">[ date ]</a>
              <a href="thread.html#4465">[ thread ]</a>
              <a href="subject.html#4465">[ subject ]</a>
              <a href="author.html#4465">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi John,

MonoDevelop 2.8 uses Xcode4's ui builder and the docs you are reading are
for Xcode3's ui builder.

Updated docs for MD 2.8 are in the works.

Hope that clarifies things,

Jeff
On Aug 18, 2011 1:12 PM, &quot;John Murray&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">john at murray.gb.com</A>&gt; wrote:
&gt;<i> Further to the saga
</I>&gt;<i>
</I>&gt;<i> I thought I would start from scratch with a one view (hello world) one
</I>&gt;<i> button and try to call the people picker code
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The new version of MD does not behave as per the tutorials on Xamarin
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The tutorial there for hello world using interface builder says that one
</I>&gt;<i> should open a new iphone window-based project
</I>&gt;<i>
</I>&gt;<i> There is no such option now in MD2.8 a
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Any other project opens up but does not have a 'mainwindow.xib' which one
</I>&gt;<i> can open in interface builder
</I>&gt;<i>
</I>&gt;<i> I have become a bit of a slave to this - y'know go into i/b desing your
</I>view
&gt;<i> - click on appdelegate in library/classes and create outlets then link 'em
</I>&gt;<i> to your objects
</I>&gt;<i>
</I>&gt;<i> All worked well but of course when the mainwindow.xib was created for you
</I>&gt;<i>
</I>&gt;<i> Now I know you can add a xib but when you add your own xib's and open them
</I>&gt;<i> in i/b I can't find the 'appdelegate' under Library/classes to create the
</I>&gt;<i> outlets
</I>&gt;<i>
</I>&gt;<i> - I presume there must be some other way of doing it
</I>&gt;<i>
</I>&gt;<i> Anyway the tutorials are out of date
</I>&gt;<i>
</I>&gt;<i> My many months of learning are now somewhat up the creek without a paddle
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> John Murray
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: John Murray [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">john at murray.gb.com</A>]
</I>&gt;<i> Sent: 18 August 2011 17:50
</I>&gt;<i> To: 'Jeff Stedfast'; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">john at murray.gb.com</A>
</I>&gt;<i> Cc: 'Jason Awbrey'; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
</I>&gt;<i> Subject: RE: [MonoTouch] people picker problem after upgrading to touch 4
</I>&gt;<i> and MD2.8Alpha
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jeff
</I>&gt;<i>
</I>&gt;<i> That sounds as if it's on the money
</I>&gt;<i>
</I>&gt;<i> Now apologies for being a dumbo - I frequently can't get beyond the autism
</I>&gt;<i> of functional programming -
</I>&gt;<i>
</I>&gt;<i> How exactly do I 'hold a reference to ppvc' elsewhere ? This sounds a bit
</I>&gt;<i> like Jason' ssuggestion of declaring ppvc at class level
</I>&gt;<i>
</I>&gt;<i> I mean in really painfully idiot terms - do I declare it somewhere at the
</I>&gt;<i> start of the code - make it static or something ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Presumably when I 'dismissmodalcontroller' - thinking I'm just knocking a
</I>&gt;<i> form off the stack then it is destroyed then the code goes looking for it
</I>in
&gt;<i> case it is called up again and it's not there? Is that it ? (y'see I need
</I>&gt;<i> it explained in two year old terms)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Is there any way other than using 'dismissmodalcontroller' - it's being
</I>&gt;<i> called from a view controller and that doesn't have a popview method
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> //// update - while I've been writing this I've commented out the line
</I>&gt;<i> DismissModalViewControllerAimated and - no change - still falls over with
</I>&gt;<i> null referenceobject
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So obviously this doesn't work at all - it's not the dismissing the ppvc
</I>&gt;<i> that is causing the problem
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The code is word for word as per examples in &quot;iPhone Programming with
</I>&gt;<i> MonoTouch and.Net/C#&quot;
</I>&gt;<i>
</I>&gt;<i> If things are now so different in 4.1 I need a new example of how to call
</I>up
&gt;<i> the people/contacts
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks for your help anyway - helps me feel less panicky J -
</I>&gt;<i>
</I>&gt;<i> John Murray
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: Jeff Stedfast [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">jeff at xamarin.com</A>]
</I>&gt;<i> Sent: 18 August 2011 15:54
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">john at murray.gb.com</A>
</I>&gt;<i> Cc: Jason Awbrey; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [MonoTouch] people picker problem after upgrading to touch 4
</I>&gt;<i> and MD2.8Alpha
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi John,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> DismissModalViewController() now clears the parent's ModalViewController
</I>&gt;<i> property, which, if that is the only reference that still exists for your
</I>&gt;<i> ppvc, will be lost (cleared to null). What you need to do is make sure you
</I>&gt;<i> hold a reference to that object elsewhere.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is one of the fixes in the 4.1 beta branch which is needed to more
</I>&gt;<i> accurately reflect the state of the underlying objects. The reason it
</I>&gt;<i> happened to work because is because we wrongly kept the
</I>ModalViewController
&gt;<i> property cached which prevented expected garbage collection when the modal
</I>&gt;<i> view was dismissed.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> For more information, see <A HREF="http://bugzilla.xamarin.com/show_bug.cgi?id=172">http://bugzilla.xamarin.com/show_bug.cgi?id=172</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hope that helps,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jeff
</I>&gt;<i>
</I>&gt;<i> On Thu, Aug 18, 2011 at 8:46 AM, John Murray &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">john at murray.gb.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Doesn't make the slightest difference - still get null reference exception
</I>&gt;<i>
</I>&gt;<i> Also doens't explain why it worked in previous version of MD and touch
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Also I have tried loading several examples from the Wally B etc book which
</I>&gt;<i> worked fine before - I simply get SIGSEGV errors trying to run them
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks anyway
</I>&gt;<i>
</I>&gt;<i> Yours in further desperation
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: Jason Awbrey [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">jason at awbrey.net</A>]
</I>&gt;<i> Sent: 18 August 2011 13:34
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">john at murray.gb.com</A>
</I>&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [MonoTouch] people picker problem after upgrading to touch 4
</I>&gt;<i> and MD2.8Alpha
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> the first thing I'd try is to move the declaration &quot;var ppvc&quot; from your
</I>&gt;<i> local scope and declare it at the class level instead.
</I>&gt;<i>
</I>&gt;<i> On Thu, Aug 18, 2011 at 7:02 AM, John Murray &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">john at murray.gb.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> I downloaded monotouch 4 and 2.8 of MD this morning after a prompt from MD
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> My app has a view which requires user to enter name and address info
</I>&gt;<i>
</I>&gt;<i> It has a button which allows user to pick from the contacts list
</I>&gt;<i>
</I>&gt;<i> Code lifted straight from Wally B's book
</I>&gt;<i>
</I>&gt;<i> It's worked fine until now - I mean last night fine - this morning after
</I>&gt;<i> upgrade No
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It is undebuggable - cannot even get to a break point simply drops out
</I>with
&gt;<i> green line at UIApplication.Main(args)
</I>&gt;<i>
</I>&gt;<i> As I say I've not changed code overnight.
</I>&gt;<i>
</I>&gt;<i> The trace shows it failing on monotouch.utils.backingField.get
</I>&gt;<i>
</I>&gt;<i> In developer/monotouch/source/monotouch/src/utils/backingField.cs line 47
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'd be the first to admit my code is not exactly expert - I do hope this
</I>is
&gt;<i> a fault in the new version rather than I have to go to college for 10
</I>years
&gt;<i> to discover how to do it properly as every new developer tool/evolution
</I>&gt;<i> seems to get more complicatedJ
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It seem simple enough - I cant imagine what I am doing wrong and why it
</I>only
&gt;<i> comes out now after the upgrade
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> A button calls
</I>&gt;<i>
</I>&gt;<i> - paxViewController.PresentModalViewController(ppvc,true) ;
</I>&gt;<i>
</I>&gt;<i> the ppvc is declared like this
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> var ppvc = new ABPeoplePickerNavigationController();
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> and then it has a few override methods e.g.
</I>&gt;<i>
</I>&gt;<i> ppvc.SelectPerson+=delegate(object
</I>&gt;<i> sender,ABPeoplePickerSelectPersonEventArgs e)
</I>&gt;<i>
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i> //do something
</I>&gt;<i>
</I>&gt;<i> //dismiss modal
</I>&gt;<i>
</I>&gt;<i> paxViewController.DismissModalViewControllerAnimated(true);
</I>&gt;<i>
</I>&gt;<i> };
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> And that's all there is to it - as I say it doesn't even get to these
</I>&gt;<i> lines - on touching the contact (any contact) to select it drops out with
</I>&gt;<i> nullreference exception
</I>&gt;<i>
</I>&gt;<i> And no clue as to what is causing it
</I>&gt;<i>
</I>&gt;<i> are there changes in monotouch4 which mean I have to do things
</I>differently?
&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Desperate for help here - completely out of my depth.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Tia
</I>&gt;<i>
</I>&gt;<i> John Murray
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110818/3f49f252/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110818/3f49f252/attachment-0001.html</A> 
</PRE>












































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004447.html">[MonoTouch] people picker problem after upgrading to touch 4	and MD2.8Alpha
</A></li>
	<LI>Next message: <A HREF="004466.html">[MonoTouch] people picker problem after upgrading to touch 4	and MD2.8Alpha
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4465">[ date ]</a>
              <a href="thread.html#4465">[ thread ]</a>
              <a href="subject.html#4465">[ subject ]</a>
              <a href="author.html#4465">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
