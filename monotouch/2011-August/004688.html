<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] RSA key pair generation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20RSA%20key%20pair%20generation&In-Reply-To=1314383922188-3771694.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004670.html">
   <LINK REL="Next"  HREF="004666.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] RSA key pair generation</H1>
    <B>monojobs</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20RSA%20key%20pair%20generation&In-Reply-To=1314383922188-3771694.post%40n4.nabble.com"
       TITLE="[MonoTouch] RSA key pair generation">sjobs at rocketmail.com
       </A><BR>
    <I>Fri Aug 26 19:55:57 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004670.html">[MonoTouch] RSA key pair generation
</A></li>
        <LI>Next message: <A HREF="004666.html">[MonoTouch] RSA key pair generation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4688">[ date ]</a>
              <a href="thread.html#4688">[ thread ]</a>
              <a href="subject.html#4688">[ subject ]</a>
              <a href="author.html#4688">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Success!  I got it generating a 2048bit key on an old 3GS in under 25 seconds
which is acceptable for one time key generation.

Here is the test code.  Needs to be cleaned up with proper dictionary
bindings, but it does work:


            NSString kSecAttrKeyType;
            NSString kSecAttrKeySizeInBits;
            NSString kSecAttrKeyTypeRSA;
            
            var handle = Dlfcn.dlopen(Constants.SecurityLibrary, 0);
            if (handle == IntPtr.Zero)
                return;
            
            try
            {
                kSecAttrKeyType = Dlfcn.GetStringConstant(handle,
&quot;kSecAttrKeyType&quot;);
                kSecAttrKeySizeInBits = Dlfcn.GetStringConstant(handle,
&quot;kSecAttrKeySizeInBits&quot;);
                kSecAttrKeyTypeRSA = Dlfcn.GetStringConstant(handle,
&quot;kSecAttrKeyTypeRSA&quot;);
                
            }
            finally
            {
                Dlfcn.dlclose(handle);
            }
            
            NSObject[] keys = new NSObject[]
            {
                kSecAttrKeyType,
                kSecAttrKeySizeInBits
            };
            NSObject[] values = new NSObject[]
            {
                kSecAttrKeyTypeRSA,
                new NSNumber(1024)
            };
            
            SecKey publicKey;
            SecKey privateKey;

            NSDictionary parameters =
NSDictionary.FromObjectsAndKeys(values, keys);

            SecStatusCode code = SecKey.GenerateKeyPair(parameters, out
publicKey, out privateKey);


--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/RSA-key-pair-generation-tp3766685p3772312.html">http://monotouch.2284126.n4.nabble.com/RSA-key-pair-generation-tp3766685p3772312.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004670.html">[MonoTouch] RSA key pair generation
</A></li>
	<LI>Next message: <A HREF="004666.html">[MonoTouch] RSA key pair generation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4688">[ date ]</a>
              <a href="thread.html#4688">[ thread ]</a>
              <a href="subject.html#4688">[ subject ]</a>
              <a href="author.html#4688">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
