<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Using Objective C Framework - Guidance Required
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Using%20Objective%20C%20Framework%20-%20Guidance%20Required&In-Reply-To=%3CCALqoN0ZoXvTkmMgPpxkqFMVHubG1xvAHE6J07f%3Dn5W1bLjL2VA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007741.html">
   <LINK REL="Next"  HREF="007737.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Using Objective C Framework - Guidance Required</H1>
    <B>Jeff Stedfast</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Using%20Objective%20C%20Framework%20-%20Guidance%20Required&In-Reply-To=%3CCALqoN0ZoXvTkmMgPpxkqFMVHubG1xvAHE6J07f%3Dn5W1bLjL2VA%40mail.gmail.com%3E"
       TITLE="[MonoTouch] Using Objective C Framework - Guidance Required">jeff at xamarin.com
       </A><BR>
    <I>Tue Jan 31 20:05:48 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="007741.html">[MonoTouch] Using Objective C Framework - Guidance Required
</A></li>
        <LI>Next message: <A HREF="007737.html">[MonoTouch] MonoTouch Binding Project Doesn't Work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7759">[ date ]</a>
              <a href="thread.html#7759">[ thread ]</a>
              <a href="subject.html#7759">[ subject ]</a>
              <a href="author.html#7759">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jeff,

It sounds like you'll have to create an Xcode project for this driver
library. That part shouldn't be too difficult. You'll want to pick the
&quot;Static Library Project&quot; project type in Xcode and then just add all
of the source files.

Once you've done that, the easiest way to build a Fat *.a file is to
use a Makefile like the one at
<A HREF="https://github.com/mono/monotouch-bindings/blob/master/ATMHud/binding/Makefile">https://github.com/mono/monotouch-bindings/blob/master/ATMHud/binding/Makefile</A>
(you'll need to replace references to &quot;atmhud&quot; with whatever your
library name is) and then run `make` in a terminal. The Makefile I
linked you to assumes that it is in a directory side-by-side with the
Xcode project directory. There's a way to do it in Xcode, too, but
from my Googling, it seemed quite a bit harder than my Makefile
solution (that's why I just wrote Makefiles for monotouch-bindings).

Now that you have a libBarCodeScanner.a (or whatever you decide to
call it), you'll need to write an API definition file like the one at
<A HREF="https://github.com/mono/monotouch-bindings/blob/master/ATMHud/binding/atmhud.cs">https://github.com/mono/monotouch-bindings/blob/master/ATMHud/binding/atmhud.cs</A>

You really only need to bind the methods and classes that you'll
actually be using from your app, so keep that in mind if the native
API is extensive (and it sounds like it might be with 49 .h files).
This is where the link
<A HREF="http://docs.xamarin.com/ios/advanced_topics/binding_objective-c_types">http://docs.xamarin.com/ios/advanced_topics/binding_objective-c_types</A>
comes in handy as it documents the syntax.&#160;I honestly found it easier
to simply look over existing examples from the monotouch-bindings
module in github to learn the general flow of these files.

If you find yourself stuck somewhere, feel free to send questions to
the list and I (or someone else) will try to answer them. I'm probably
the best person to ask if you have questions about the
monotouch-bindings Makefiles as I wrote them to make things simpler to
build the bindings.

The process seems a lot more daunting than it really is (although it
would have helped if the driver source came with an Xcode project
pre-made for you to at least build the .a).

Hope that helps,

Jeff

On Mon, Jan 30, 2012 at 8:12 PM, JB
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">jeff.butterworth at softwareresults.com.au</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> OK. I am stumped on this one. I feel like I am way out of my depth :-( I am
</I>&gt;<i> using MonoDevelop 2.8.6.3 and Monotouch 5.0.4.
</I>&gt;<i>
</I>&gt;<i> I have been given a barcode scanner hardware accessory that the iPhone plugs
</I>&gt;<i> into. It has an SDK for working with the device. The SDK is a framework.
</I>&gt;<i> There is a 'driver' file and 49 .h files. There is no .a file. The SDK
</I>&gt;<i> instructions show how to add the framework to an xcode project and use it.
</I>&gt;<i> Seems pretty straight forward. Except I am using MonoTouch :-)
</I>&gt;<i>
</I>&gt;<i> I've read:
</I>&gt;<i> - <A HREF="http://docs.xamarin.com/ios/advanced_topics/binding_objective-c_types">http://docs.xamarin.com/ios/advanced_topics/binding_objective-c_types</A>
</I>&gt;<i> - <A HREF="http://docs.xamarin.com/ios/advanced_topics/linking_native_libraries">http://docs.xamarin.com/ios/advanced_topics/linking_native_libraries</A>
</I>&gt;<i> -
</I>&gt;<i> <A HREF="http://dantes-andreea.blogspot.com/2012/01/how-to-use-objective-c-library-in.html">http://dantes-andreea.blogspot.com/2012/01/how-to-use-objective-c-library-in.html</A>
</I>&gt;<i>
</I>&gt;<i> but they aren't making a lot of sense to me.
</I>&gt;<i>
</I>&gt;<i> The Binding Object C Types document seems to assume I already have a .a
</I>&gt;<i> static library to use. So do I create a static library in xcode and simply
</I>&gt;<i> add the framework to it and compile it? Will that be enough to give me
</I>&gt;<i> access to the definitions in the 49 .h files of the framework?
</I>&gt;<i>
</I>&gt;<i> The document also talks about btouch. That seems to take a number of .cs
</I>&gt;<i> files and generates a dll. The dll gets added to my real project. What
</I>&gt;<i> happens to the .a file? If I am reading correctly that gets included with
</I>&gt;<i> the LinkWith option?
</I>&gt;<i>
</I>&gt;<i> Where do the .cs files come from? There are 49 .h files? I don't translate
</I>&gt;<i> each one of the individually do I? Do Xamarin provide tools to automate the
</I>&gt;<i> generation of the files?
</I>&gt;<i>
</I>&gt;<i> A guiding hand would be appreciated. I can sort of see what needs to be done
</I>&gt;<i> but think I just need a slap round the head to point me in the right
</I>&gt;<i> direction!
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i>
</I>&gt;<i> Jeff
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Using-Objective-C-Framework-Guidance-Required-tp4343151p4343151.html">http://monotouch.2284126.n4.nabble.com/Using-Objective-C-Framework-Guidance-Required-tp4343151p4343151.html</A>
</I>&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007741.html">[MonoTouch] Using Objective C Framework - Guidance Required
</A></li>
	<LI>Next message: <A HREF="007737.html">[MonoTouch] MonoTouch Binding Project Doesn't Work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7759">[ date ]</a>
              <a href="thread.html#7759">[ thread ]</a>
              <a href="subject.html#7759">[ subject ]</a>
              <a href="author.html#7759">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
