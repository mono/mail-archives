<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] [mono-android] sharing code between mono touch and mono for android
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20%5Bmono-android%5D%20sharing%20code%20between%20mono%20touch%20and%0A%20mono%20for%20android&In-Reply-To=%3C7F97B03DB6DACB45AB6E5C5E1267AD0424489E4A%40MXXSLAUS001.xsl.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007708.html">
   <LINK REL="Next"  HREF="007732.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] [mono-android] sharing code between mono touch and mono for android</H1>
    <B>Dean Cleaver</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20%5Bmono-android%5D%20sharing%20code%20between%20mono%20touch%20and%0A%20mono%20for%20android&In-Reply-To=%3C7F97B03DB6DACB45AB6E5C5E1267AD0424489E4A%40MXXSLAUS001.xsl.com%3E"
       TITLE="[MonoTouch] [mono-android] sharing code between mono touch and mono for android">dean.cleaver at xceptionsoftware.com
       </A><BR>
    <I>Mon Jan 30 15:24:49 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="007708.html">[MonoTouch] sharing code between mono touch and mono for android
</A></li>
        <LI>Next message: <A HREF="007732.html">[MonoTouch] [mono-android] sharing code between mono touch and	mono for android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7709">[ date ]</a>
              <a href="thread.html#7709">[ thread ]</a>
              <a href="subject.html#7709">[ subject ]</a>
              <a href="author.html#7709">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mine's a little strange to explain but I will try:

I've opted to use nibless in iPhone, and likewise I add controls in code on Android too. So I have a framework library for each OS that can &quot;AddLabelAndText&quot; which adds a label indented by x, y wide with a gap of x to a textbox that's z wide - I'm sure you get the idea. This framework also has inherited versions of views/activities as well as buttons etc to provide common functions.

In each device project I link to a common file - say &quot;LoginScreen.cs&quot;. It will inherit from &quot;BaseScreen&quot;, and each project will have a &quot;BaseScreen.cs&quot; inheriting from its respective view/activity in the framework above. In effect, this now means that all code in LoginScreen calls 2 different base frameworks depending on the device.

So LoginScreen has protected properties for all its labels and textboxes, buttons etc and are created in code. I've mapped common click events to both versions of the framework button classes, so LoginScreen has click events for the buttons that handle all the logic etc.

In reality, I do inherit from LoginScreen in each project also because some things just cannot be done the same way (badges for example seem to be impossible on Android) but 95% of the actual code is common to both.

Dino

From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monodroid-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monodroid-bounces at lists.ximian.com</A>] On Behalf Of Wally McClure
Sent: Monday, January 30, 2012 8:59 AM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monodroid at lists.ximian.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
Subject: [mono-android] sharing code between mono touch and mono for android

I've been talking with Mark Bradley about sharing code between MT and MfA projects.  I'm curious what are the strategies that you are using to share code between the two platforms.  Any thoughts/advice are appreciated.  We've each got a way that we're doing.  I'm using separate projects and am linking files.  Mark is doing something a little different where he references the .dll directly in his MT and MfA projects.  I think both have pluses/minuses.  What are you doing?  Is there some macdaddy project type that we have missed that would allow us to share things easily?  Are we both missing something?

Wally
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120130/a40856e7/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120130/a40856e7/attachment-0001.html</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007708.html">[MonoTouch] sharing code between mono touch and mono for android
</A></li>
	<LI>Next message: <A HREF="007732.html">[MonoTouch] [mono-android] sharing code between mono touch and	mono for android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7709">[ date ]</a>
              <a href="thread.html#7709">[ thread ]</a>
              <a href="subject.html#7709">[ subject ]</a>
              <a href="author.html#7709">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
